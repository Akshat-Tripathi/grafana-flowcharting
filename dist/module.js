/*! For license information please see module.js.LICENSE.txt */
define(["lodash","app/plugins/sdk","app/core/utils/kbn","@grafana/data","app/core/time_series2","app/core/app_events"],(function(__WEBPACK_EXTERNAL_MODULE__2__,__WEBPACK_EXTERNAL_MODULE__5__,__WEBPACK_EXTERNAL_MODULE__8__,__WEBPACK_EXTERNAL_MODULE__9__,__WEBPACK_EXTERNAL_MODULE__16__,__WEBPACK_EXTERNAL_MODULE__17__){return function(l){var Z={};function b(G){if(Z[G])return Z[G].exports;var d=Z[G]={i:G,l:!1,exports:{}};return l[G].call(d.exports,d,d.exports,b),d.l=!0,d.exports}return b.m=l,b.c=Z,b.d=function(l,Z,G){b.o(l,Z)||Object.defineProperty(l,Z,{enumerable:!0,get:G})},b.r=function(l){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})},b.t=function(l,Z){if(1&Z&&(l=b(l)),8&Z)return l;if(4&Z&&"object"==typeof l&&l&&l.__esModule)return l;var G=Object.create(null);if(b.r(G),Object.defineProperty(G,"default",{enumerable:!0,value:l}),2&Z&&"string"!=typeof l)for(var d in l)b.d(G,d,function(Z){return l[Z]}.bind(null,d));return G},b.n=function(l){var Z=l&&l.__esModule?function(){return l.default}:function(){return l};return b.d(Z,"a",Z),Z},b.o=function(l,Z){return Object.prototype.hasOwnProperty.call(l,Z)},b.p="/",b(b.s=33)}([function(l,Z,b){"use strict";(function(l){b.d(Z,"a",(function(){return n}));var G=b(1),d=b(2),m=b.n(d);function W(l,Z){return function(l){if(Array.isArray(l))return l}(l)||function(l,Z){if(!(Symbol.iterator in Object(l))&&"[object Arguments]"!==Object.prototype.toString.call(l))return;var b=[],G=!0,d=!1,m=void 0;try{for(var W,c=l[Symbol.iterator]();!(G=(W=c.next()).done)&&(b.push(W.value),!Z||b.length!==Z);G=!0);}catch(l){d=!0,m=l}finally{try{G||null==c.return||c.return()}finally{if(d)throw m}}return b}(l,Z)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function c(l,Z){for(var b=0;b<Z.length;b++){var G=Z[b];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(l,G.key,G)}}function h(l,Z,b){return Z&&c(l.prototype,Z),b&&c(l,b),l}function X(l,Z){if(!(l instanceof Z))throw new TypeError("Cannot call a class as a function")}var V=function(){function l(){X(this,l),this._variables=new Map}return h(l,[{key:"set",value:function(l,Z){return this._variables.set(l,Z),this}},{key:"unset",value:function(l){return this._variables.delete(l),this}},{key:"get",value:function(l){return this._variables.get(l)}},{key:"keys",value:function(){return Array.from(this._variables.keys())}},{key:"getFullVarsNames",value:function(){return n.getGrafanaVars().concat(this.getVarsNames())}},{key:"getVarsNames",value:function(){return this.keys().map((function(l){return"${"+l+"}"}))}},{key:"clear",value:function(){return this._variables.clear(),this}},{key:"replaceText",value:function(l){try{var Z=n.getVar(n.CONSTANTS.VAR_OBJ_TEMPLATESRV);l=void 0!==Z?Z.replaceWithText(l):l;var b=!0,G=!1,d=void 0;try{for(var m,c=this._variables[Symbol.iterator]();!(b=(m=c.next()).done);b=!0){var h=W(m.value,2),X=h[0],V=h[1];l=l.replace("${"+X+"}",V)}}catch(l){G=!0,d=l}finally{try{b||null==c.return||c.return()}finally{if(G)throw d}}}catch(Z){return l}return l}},{key:"eval",value:function(l){var Z=this.replaceText(l);return n.utils.evalIt(Z)}}],[{key:"getAvailableLocalVarNames",value:function(){return n.CONSTANTS.LOCALVARIABLENAMES.map((function(l){return"${"+l.value+"}"}))}}]),l}(),u=function(){function l(){X(this,l)}return h(l,[{key:"debug",value:function(){for(var Z=arguments.length,b=new Array(Z),d=0;d<Z;d++)b[d]=arguments[d];return Object(G.a)(this,void 0,void 0,regeneratorRuntime.mark((function Z(){var G,d;return regeneratorRuntime.wrap((function(Z){for(;;)switch(Z.prev=Z.next){case 0:l.toDisplay(l.DEBUG)&&(d=b.shift(),(G=console).debug.apply(G,["GF DEBUG : ".concat(d)].concat(b)));case 1:case"end":return Z.stop()}}),Z)})))}},{key:"warn",value:function(){for(var Z=arguments.length,b=new Array(Z),d=0;d<Z;d++)b[d]=arguments[d];return Object(G.a)(this,void 0,void 0,regeneratorRuntime.mark((function Z(){var G,d;return regeneratorRuntime.wrap((function(Z){for(;;)switch(Z.prev=Z.next){case 0:l.toDisplay(l.WARN)&&(d=b.shift(),(G=console).warn.apply(G,["GF WARN : ".concat(d)].concat(b)));case 1:case"end":return Z.stop()}}),Z)})))}},{key:"info",value:function(){for(var Z=arguments.length,b=new Array(Z),d=0;d<Z;d++)b[d]=arguments[d];return Object(G.a)(this,void 0,void 0,regeneratorRuntime.mark((function Z(){var G,d;return regeneratorRuntime.wrap((function(Z){for(;;)switch(Z.prev=Z.next){case 0:l.toDisplay(l.INFO)&&(d=b.shift(),(G=console).info.apply(G,["GF INFO : ".concat(d)].concat(b)));case 1:case"end":return Z.stop()}}),Z)})))}},{key:"error",value:function(){for(var Z=arguments.length,b=new Array(Z),d=0;d<Z;d++)b[d]=arguments[d];return Object(G.a)(this,void 0,void 0,regeneratorRuntime.mark((function Z(){var G,d;return regeneratorRuntime.wrap((function(Z){for(;;)switch(Z.prev=Z.next){case 0:l.toDisplay(l.ERROR)&&(d=b.shift(),(G=console).error.apply(G,["GF ERROR : ".concat(d)].concat(b)));case 1:case"end":return Z.stop()}}),Z)})))}}],[{key:"init",value:function(){return new l}},{key:"toDisplay",value:function(Z){return void 0!==l.logDisplay&&!0===l.logDisplay&&void 0!==l.logLevel&&Z>=l.logLevel}}]),l}();u.DEBUG=0,u.INFO=1,u.WARN=2,u.ERROR=3,u.logLevel=u.WARN,u.logDisplay=!0;var R=function(){function Z(){X(this,Z)}return h(Z,[{key:"getRepo",value:function(){var l="";return Z.data.info.links.forEach((function(Z){"Documentation"===Z.name&&(l=Z.url)})),l}},{key:"getVersion",value:function(){return Z.data.info.version}},{key:"getRootPath",value:function(){return n.getVar(n.CONSTANTS.VAR_STG_CTXROOT)}},{key:"getLibsPath",value:function(){return"".concat(n.getVar(n.CONSTANTS.VAR_STG_CTXROOT),"libs/")}},{key:"getDrawioPath",value:function(){return"".concat(this.getLibsPath(),"drawio/")}},{key:"getStaticPath",value:function(){return"".concat(this.getRootPath(),"static/")}},{key:"getMxBasePath",value:function(){return"".concat(this.getDrawioPath(),"mxgraph/")}},{key:"getMxStylePath",value:function(){return"".concat(this.getDrawioPath(),"styles/")}},{key:"getShapesPath",value:function(){return"".concat(this.getDrawioPath(),"/shapes/")}},{key:"getPartialPath",value:function(){return"".concat(this.getRootPath(),"partials/")}},{key:"getStencilsPath",value:function(){return"".concat(this.getDrawioPath(),"/stencils/")}},{key:"getMxCssPath",value:function(){return"".concat(this.getDrawioPath(),"styles/")}},{key:"getMxResourcePath",value:function(){return"".concat(this.getMxBasePath(),"css/")}},{key:"getMxImagePath",value:function(){return"".concat(this.getMxBasePath(),"images/")}}],[{key:"init",value:function(b,G,d){var m=new Z;return this.contextRoot=Z.defaultContextRoot,void 0===b?(this.contextRoot=l,this.contextRoot.length>0&&n.setVar(n.CONSTANTS.VAR_STG_CTXROOT,this.contextRoot)):this.contextRoot=b.$root.appSubUrl+this.defaultContextRoot,n.setVar(n.CONSTANTS.VAR_OBJ_TEMPLATESRV,G),n.setVar(n.CONSTANTS.VAR_STG_CTXROOT,this.contextRoot),n.setVar(n.CONSTANTS.VAR_OBJ_DASHBOARD,d),m}}]),Z}();R.data=b(18),R.defaultContextRoot="/public/plugins/agenty-flowcharting-panel/";var a=function(){function l(Z){X(this,l);var b=Z.querySelector("div#flowcharting-message");if(null!==b){l.container=b;var G=b.querySelector("#message-text");null===G?(l.message=document.createElement("span"),l.container.appendChild(l.message)):l.message=G}}return h(l,[{key:"setMessage",value:function(Z){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.INFO_MESSAGE;return Object(G.a)(this,void 0,void 0,regeneratorRuntime.mark((function G(){return regeneratorRuntime.wrap((function(G){for(;;)switch(G.prev=G.next){case 0:if(!l.container||!l.message){G.next=15;break}l.message.innerHTML=Z,G.t0=b,G.next=G.t0===l.INFO_MESSAGE?5:G.t0===l.ERROR_MESSAGE?7:G.t0===l.WARNING_MESSAGE?9:11;break;case 5:return l.message.style.color=l.INFO_COLOR,G.abrupt("break",13);case 7:return l.message.style.color=l.ERROR_COLOR,G.abrupt("break",13);case 9:return l.message.style.color=l.WARNING_COLOR,G.abrupt("break",13);case 11:return l.message.style.color=l.INFO_COLOR,G.abrupt("break",13);case 13:l.container.style.display="",n.setUniqTimeOut(this.clearMessage,n.CONSTANTS.CONF_GFMESSAGE_MS,"flowcharting-message");case 15:case"end":return G.stop()}}),G,this)})))}},{key:"clearMessage",value:function(){l.container&&l.message&&(l.container.style.display="none",l.message.innerHTML=""),n.clearUniqTimeOut("flowcharting-message")}}],[{key:"init",value:function(Z){return new l(Z)}}]),l}();a.ERROR_MESSAGE="error",a.ERROR_COLOR="red",a.INFO_MESSAGE="info",a.INFO_COLOR="white",a.WARNING_MESSAGE="warning",a.WARNING_COLOR="yellow";var Y=function(){function l(Z){X(this,l),l.enable&&void 0!==Z&&(this.trace={Name:Z,Id:n.utils.uniqueID(),Args:void 0,Return:void 0,Before:Date.now(),End:void 0,ExecTime:void 0,Indent:l.indent},l.trc.set(this.trace.Id,this.trace))}return h(l,[{key:"before",value:function(Z){if(l.enable&&void 0!==Z){var b=new l(Z);return l.indent++,l._inc(Z),b}return{after:function(){}}}},{key:"after",value:function(){return Object(G.a)(this,void 0,void 0,regeneratorRuntime.mark((function Z(){return regeneratorRuntime.wrap((function(Z){for(;;)switch(Z.prev=Z.next){case 0:l.enable&&void 0!==this.trace&&this.trace&&(this.trace.End=Date.now(),l.indent--);case 1:case"end":return Z.stop()}}),Z,this)})))}},{key:"clear",value:function(){return Object(G.a)(this,void 0,void 0,regeneratorRuntime.mark((function Z(){return regeneratorRuntime.wrap((function(Z){for(;;)switch(Z.prev=Z.next){case 0:l.enable&&(l.trc.clear(),l.fn.clear());case 1:case"end":return Z.stop()}}),Z)})))}},{key:"enable",value:function(){l.enable=!0}},{key:"disable",value:function(){l.enable=!1}},{key:"isEnabled",value:function(){return l.enable}},{key:"resume",value:function(){return Object(G.a)(this,void 0,void 0,regeneratorRuntime.mark((function Z(){var b,G;return regeneratorRuntime.wrap((function(Z){for(;;)switch(Z.prev=Z.next){case 0:l.enable&&(b=[],G=[],l.trc.forEach((function(Z){Z.ExecTime=Z.End-Z.Before,l.fn.get(Z.Name).TotalTimes+=Z.ExecTime,b.push(Z)})),console.table(b,["Indent","Name","ExecTime"]),l.fn.forEach((function(l){G.push(l)})),console.table(G,["Function","Calls","TotalTimes"]),this.clear());case 1:case"end":return Z.stop()}}),Z,this)})))}}],[{key:"init",value:function(){return new l}},{key:"_inc",value:function(Z){var b=l.fn.get(Z);void 0===b&&(b={Calls:0,Function:Z,TotalTimes:0}),b.Calls++,l.fn.set(Z,b)}}]),l}();Y.enable=!1,Y.trc=new Map,Y.fn=new Map,Y.indent=0;var n=function(){function l(){X(this,l)}return h(l,null,[{key:"init",value:function(l,Z,b){return this.plugin=R.init(l,Z,b),this.DEBUG&&(console.log("DEBUG Scope",l),console.log("DEBUG TemplateSrv",Z),console.log("DEBUG Theme",b.style),console.log("DEBUG dashboard",b)),this}},{key:"me",value:function(){return this}},{key:"setMessageDiv",value:function(l){this.message=a.init(l)}},{key:"getTheme",value:function(){var Z=l.getVar(l.CONSTANTS.VAR_OBJ_TEMPLATESRV);return void 0!==Z?Z.style:"dark"}},{key:"createLocalVars",value:function(){return new V}},{key:"getGlobalVars",value:function(){return void 0===l._globalvars&&(l._globalvars=new V),l._globalvars}},{key:"getGrafanaVars",value:function(){var Z=l.getVar(l.CONSTANTS.VAR_OBJ_TEMPLATESRV);return null!=Z?m.a.map(Z.variables,(function(l){return"${".concat(l.name,"}")})):[]}},{key:"getVar",value:function(Z){return l.getGlobalVars().get(Z)}},{key:"setVar",value:function(Z,b){l.getGlobalVars().set(Z,b)}},{key:"unsetVar",value:function(Z){l.getGlobalVars().unset(Z)}},{key:"getFullAvailableVarNames",value:function(){return V.getAvailableLocalVarNames().concat(l.getGrafanaVars())}},{key:"getIntervalCounter",value:function(l,Z,b){var G=[],d=Z-l,m=Math.round(d/b),W=l,c=0;for(c=0;c<b;c++)W+=m,G.push(W);return G[c]=Z,G}},{key:"setUniqTimeOut",value:function(Z,b,G){var d=l.getVar(l.CONSTANTS.VAR_MAP_TIMEOUT);void 0===d&&(d=new Map,l.setVar(l.CONSTANTS.VAR_MAP_TIMEOUT,d)),void 0!==G&&this.clearUniqTimeOut(G);var m=window.setTimeout(Z,b);return G=void 0===G?m.toString():G,d.set(G,m),G}},{key:"clearUniqTimeOut",value:function(Z){var b=l.getVar(l.CONSTANTS.VAR_MAP_TIMEOUT);if(void 0!==b)try{var G=b.get(Z);void 0!==G&&(b.delete(Z),window.clearTimeout(G))}catch(b){l.log.warn("Failed to clear timeout thread",Z,b)}}},{key:"setUniqInterval",value:function(Z,b,G){var d=l.getVar(l.CONSTANTS.VAR_MAP_INTERVAL);void 0===d&&(d=new Map,l.setVar(l.CONSTANTS.VAR_MAP_INTERVAL,d)),void 0!==G&&this.clearUniqInterval(G);var m=window.setInterval(Z,b);return G=void 0===G?m.toString():G,d.set(G,m),G}},{key:"clearUniqInterval",value:function(Z){var b=l.getVar(l.CONSTANTS.VAR_MAP_INTERVAL);if(void 0!==b)try{var G=b.get(Z);b.delete(Z),window.clearInterval(G)}catch(b){l.log.warn("Failed to clear interval thread",Z,b)}}},{key:"loadLocalFile",value:function(Z,b){return Object(G.a)(this,void 0,void 0,regeneratorRuntime.mark((function G(){var d,m,W;return regeneratorRuntime.wrap((function(G){for(;;)switch(G.prev=G.next){case 0:if(void 0!==l.getVar(Z)){G.next=16;break}if(void 0===(d=l.getVar(l.CONSTANTS.VAR_STG_CTXROOT))){G.next=15;break}if(m="".concat(d,"/").concat(b),!window.fetch){G.next=9;break}fetch(m).then((function(b){b.ok&&b.text().then((function(b){return l.log.info("loadLocalFile called succesfully",m),l.setVar(Z,b),b})).catch((function(Z){return l.log.error("Error when download text file",m,Z)}))})).catch((function(Z){return l.log.error("Error when download file",m,Z)})),G.next=13;break;case 9:if(!(W=l.utils.loadFile(b))){G.next=13;break}return l.setVar(Z,l.utils.loadFile(b)),G.abrupt("return",W);case 13:G.next=16;break;case 15:l.log.warn("loadLocalFile Contexroot : ",d);case 16:return G.abrupt("return",!1);case 17:case"end":return G.stop()}}),G)})))}},{key:"setGraphHover",value:function(l){this.isGraphHoverEnabled()&&(this.graphHover=!0,this.GHTimeStamp=l)}},{key:"unsetGraphHover",value:function(){this.graphHover=!1,this.GHTimeStamp=0}},{key:"hasGraphHover",value:function(){return this.graphHover&&this.isGraphHoverEnabled()}},{key:"isGraphHoverEnabled",value:function(){var Z=this.getVar(l.CONSTANTS.VAR_OBJ_DASHBOARD);return void 0!==Z&&Z.sharedTooltipModeEnabled()}},{key:"getGraphHover",value:function(){if(this.hasGraphHover())return this.GHTimeStamp}},{key:"popover",value:function(Z,b,G){var d=l.plugin.getRepo(),m="".concat(this.plugin.getRepo(),"images/"),W=String(Z).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"),c="".concat(W),h="",X="";return b&&(h='<a href="'.concat(d).concat(b,'" target="_blank"><i class="fa fa-book fa-fw"></i>Help</a>')),G&&(X='<a href="'.concat(m).concat(G,'.png" target="_blank"><i class="fa fa-image fa-fw"></i>Example</a>')),'\n    <div id="popover" style="display:flex;flex-wrap:wrap;width: 100%;">\n      <div style="flex:1;height:100px;margin-bottom: 20px;">'.concat(c,'</div>\n      <div style="flex:1;height:100px;margin-bottom: 20px;">').concat(h,'</div>\n      <div style="flex-basis: 100%;height:100px;margin-bottom:20px;">').concat(X,"</div>\n    </div>")}},{key:"destroy",value:function(){var Z=l.getVar(l.CONSTANTS.VAR_MAP_INTERVAL);void 0!==Z&&(Z.forEach((function(Z){return l.clearUniqInterval(Z)})),Z.clear());var b=l.getVar(l.CONSTANTS.VAR_MAP_TIMEOUT);void 0!==b&&(b.forEach((function(Z){return l.clearUniqTimeOut(Z)})),b.clear())}}]),l}();n._globalvars=new V,n.CONSTANTS=new function l(){X(this,l),this.CONF_PATH_LIBS="libs/",this.CONF_PATH_DRAWIO="libs/drawio/",this.CONF_PATH_STATIC="static/",this.CONF_PATH_PARTIALS="partials/",this.CONF_PATH_STYLES="styles/",this.CONF_FILE_PLUGINJSON="./plugin.json",this.CONF_FILE_DEFAULTDIO="static/defaultGraph.drawio",this.CONF_FILE_DEFAULTCSV="static/defaultGraph.csv",this.CONF_FILE_SHAPESTXT="static/shapes.txt",this.CONF_FILE_APPJS="libs/drawio/js/app.min.js",this.CONF_FILE_SHAPESJS="libs/drawio/js/shapes.min.js",this.CONF_FILE_VIEWERJS="libs/drawio/js/viewer.min.js",this.CONF_FILE_PRECONFIGJS="libs/drawio/js/PreConfig.js",this.CONF_FILE_POSTCONFIGJS="libs/drawio/js/PostConfig.js",this.CONF_TOOLTIPS_DELAY=200,this.CONF_GRAPHHOVER_DELAY=50,this.CONF_COLORS_STEPS=5,this.CONF_COLORS_MS=50,this.CONF_ANIMS_STEP=5,this.CONF_ANIMS_MS=50,this.CONF_GFMESSAGE_MS=5e3,this.CONF_BLINK_COLOR="#f5f242",this.VAR_STG_SHAPES="shapestext",this.VAR_TBL_SHAPES="shapesarray",this.VAR_STR_VIEWERJS="viewer.min.js",this.VAR_STR_SHAPESJS="shapes.min.js",this.VAR_STG_CTXROOT="contextroot",this.VAR_NUM_GHTIMESTAMP="graph-hover-timestamp",this.VAR_OBJ_TEMPLATESRV="templatesrv",this.VAR_OBJ_CTRL="ctrl",this.VAR_OBJ_DASHBOARD="dashboard",this.VAR_MAP_INTERVAL="interval",this.VAR_MAP_TIMEOUT="timeout",this.VAR_STR_RULENAME="_rule",this.VAR_NUM_LEVEL="_level",this.VAR_NUM_VALUE="_value",this.VAR_STR_FORMATED="_formated",this.VAR_STR_COLOR="_color",this.FLOWCHART_CHG_SOURCES="sources",this.FLOWCHART_CHG_OPTIONS="options",this.FLOWCHART_APL_OPTIONS="applyOptions",this.FLOWCHART_CHG_DATAS="datas",this.FLOWCHART_CHG_RULES="rules",this.FLOWCHART_CHG_GRAPHHOVER="graphHover",this.FLOWCHART_CHG_HIDDENCHANGE="hiddenChange",this.TOOLTIP_APPLYON=[{text:"Warning / Critical",value:"wc"},{text:"Always",value:"a"}],this.COLOR_APPLYON=[{text:"Never",value:"n"},{text:"Warning / Critical",value:"wc"},{text:"Always",value:"a"}],this.TEXT_APPLYON=[{text:"Never",value:"n"},{text:"When Metric Displayed",value:"wmd"},{text:"Warning / Critical",value:"wc"},{text:"Critical Only",value:"co"}],this.LINK_APPLYON=[{text:"Warning / Critical",value:"wc"},{text:"Always",value:"a"}],this.VALUE_TYPES=[{text:"Number",value:"number"},{text:"String",value:"string"},{text:"Date",value:"date"}],this.METRIC_TYPES=[{text:"Series",value:"serie"},{text:"Table",value:"table"}],this.SOURCE_TYPES=[{text:"XML",value:"xml"},{text:"CSV",value:"csv"}],this.DIOTHEME_TYPES=[{text:"Dark",value:"dark"},{text:"Light",value:"kennedy"},{text:"Mobile",value:"minimal"},{text:"atlas",value:"atlas"}],this.IDENT_TYPES=[{text:"Id",value:"id"},{text:"Label",value:"value"}],this.AGGREGATION_TYPES=[{text:"First",value:"first"},{text:"First (not null)",value:"first_notnull"},{text:"Last",value:"current"},{text:"Last (not null)",value:"current_notnull"},{text:"Min",value:"min"},{text:"Max",value:"max"},{text:"Sum",value:"total"},{text:"Avg",value:"avg"},{text:"Count",value:"count"},{text:"Delta",value:"delta"},{text:"Range",value:"range"},{text:"Diff",value:"diff"},{text:"Time of last point",value:"last_time"}],this.TOOLTIP_GRAPH_TYPES=[{text:"Line",value:"line"},{text:"Histogram",value:"bar"}],this.TOOLTIP_GRAPH_SCALE_TYPES=[{text:"Linear",value:"linear"},{text:"Logarithmic",value:"log"}],this.TOOLTIP_GRAPH_SIZE_TYPES=[{text:"Adjustable",value:"100%"},{text:"Small",value:"100px"},{text:"Medium",value:"200px"},{text:"Large",value:"400px"}],this.TOOLTIP_DIRECTION_TYPES=[{text:"Vertical",value:"v"},{text:"Horizontal ",value:"h"}],this.VALUE_DATEFORMAT_TYPES=[{text:"YYYY-MM-DD HH:mm:ss",value:"YYYY-MM-DD HH:mm:ss"},{text:"YYYY-MM-DD HH:mm:ss.SSS",value:"YYYY-MM-DD HH:mm:ss.SSS"},{text:"MM/DD/YY h:mm:ss a",value:"MM/DD/YY h:mm:ss a"},{text:"MMMM D, YYYY LT",value:"MMMM D, YYYY LT"},{text:"YYYY-MM-DD",value:"YYYY-MM-DD"}],this.VALUEMAPPINGTYPES=[{text:"Value to text",value:1},{text:"Range to text",value:2}],this.TEXTMETHODS=[{text:"All content",value:"content"},{text:"Substring",value:"pattern",placeholder:"/RegEx/"},{text:"Append (Space) ",value:"as"},{text:"Append (New line) ",value:"anl"}],this.COLORMETHODS=[{text:"Shape Stroke/Border",value:"strokeColor"},{text:"Shape Fill",value:"fillColor"},{text:"Shape Gradient",value:"gradientColor"},{text:"Label font color",value:"fontColor"},{text:"Label background color",value:"labelBackgroundColor"},{text:"Label border color",value:"labelBorderColor"},{text:"Image background",value:"imageBackground"},{text:"Image border",value:"imageBorder"}],this.EVENTMETHODS=[{text:"Shape : Change form (text)",value:"shape",type:"text",placeholder:"Shape name"},{text:"Shape : Rotate Shape (0-360)",value:"rotation",type:"number",placeholder:"0-360",default:0},{text:"Shape : Blink (frequence ms)",value:"blink",type:"number",placeholder:"Number in ms",default:500},{text:"Shape : Hide/Show (0|1)",value:"visibility",type:"number",placeholder:"0 or 1",typeahead:"0|1"},{text:"Shape : Height (number)",value:"height",type:"number",placeholder:"Number of px"},{text:"Shape : Width (number)",value:"width",type:"number",placeholder:"Number of px"},{text:"Shape : Resize (percent)",value:"size",type:"number",placeholder:"percent"},{text:"Shape : Opacity (0-100)",value:"opacity",type:"number",placeholder:"0-100",default:100},{text:"Shape : Gradient direction",value:"gradientDirection",type:"text",placeholder:"Direction name",default:"south",typeahead:"south|east|north|west"},{text:"Shape : Collapse/Expande (0|1)",value:"fold",type:"number",placeholder:"0 or 1",typeahead:"0|1",default:"1"},{text:"Shape : Change position in Bar (0-100)",value:"barPos",type:"number",placeholder:"0-100"},{text:"Shape : Flip horizontally (0|1)",value:"flipH",type:"number",placeholder:"0 or 1",typeahead:"0|1"},{text:"Shape : Flip vertically (0|1)",value:"flipV",type:"number",placeholder:"0 or 1",typeahead:"0|1"},{text:"Arrow : change start marker (text)",value:"startArrow",type:"text",placeholder:"Marker",typeahead:"none|classic|classicThin|block|blockThin|open|openThin|oval|diamond|diamondThin|openAsync|async|box|halfCircle|dash|cross|circlePlus|circle|ERone|ERmandOne|ERoneToMany|ERzeroToOne"},{text:"Arrow : change end marker (text)",value:"endArrow",type:"text",placeholder:"Marker",typeahead:"none|classic|classicThin|block|blockThin|open|openThin|oval|diamond|diamondThin|openAsync|async|box|halfCircle|dash|cross|circlePlus|circle|ERone|ERmandOne|ERoneToMany|ERzeroToOne"},{text:"Arrow : Anime flow (frequence ms)",value:"class_mxEdgeFlow",type:"number",placeholder:"Number in ms"},{text:"Label : Replace text (text)",value:"text",type:"text",placeholder:"Text"},{text:"Label : Font Size (numeric)",value:"fontSize",type:"number",placeholder:"Number"},{text:"Label : Opacity (numeric)",value:"textOpacity",type:"number",placeholder:"0-100",default:100},{text:"Image : Change URL (text)",value:"image",type:"text",placeholder:"Url"}],this.LOCALVARIABLENAMES=[{text:"Name of the rule",value:this.VAR_STR_RULENAME},{text:"Current color according to the thresholds",value:this.VAR_STR_COLOR},{text:"Current raw value according to the aggregation",value:this.VAR_NUM_VALUE},{text:"Current level according to the thresholds",value:this.VAR_NUM_LEVEL},{text:"Current formated value accordingto the type",value:this.VAR_STR_FORMATED}]},n.log=u.init(),n.trace=Y.init(),n.graphHover=!1,n.GHTimeStamp=0,n.DEBUG=!1,n.utils=b(19)}).call(this,"/")},function(l,Z,b){"use strict";b.d(Z,"a",(function(){return G}));function G(l,Z,b,G){return new(b||(b=Promise))((function(d,m){function W(l){try{h(G.next(l))}catch(l){m(l)}}function c(l){try{h(G.throw(l))}catch(l){m(l)}}function h(l){l.done?d(l.value):new b((function(Z){Z(l.value)})).then(W,c)}h((G=G.apply(l,Z||[])).next())}))}},function(l,Z){l.exports=__WEBPACK_EXTERNAL_MODULE__2__},function(l,Z,b){"use strict";var G="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function d(l,Z){return Object.prototype.hasOwnProperty.call(l,Z)}Z.assign=function(l){for(var Z=Array.prototype.slice.call(arguments,1);Z.length;){var b=Z.shift();if(b){if("object"!=typeof b)throw new TypeError(b+"must be non-object");for(var G in b)d(b,G)&&(l[G]=b[G])}}return l},Z.shrinkBuf=function(l,Z){return l.length===Z?l:l.subarray?l.subarray(0,Z):(l.length=Z,l)};var m={arraySet:function(l,Z,b,G,d){if(Z.subarray&&l.subarray)l.set(Z.subarray(b,b+G),d);else for(var m=0;m<G;m++)l[d+m]=Z[b+m]},flattenChunks:function(l){var Z,b,G,d,m,W;for(G=0,Z=0,b=l.length;Z<b;Z++)G+=l[Z].length;for(W=new Uint8Array(G),d=0,Z=0,b=l.length;Z<b;Z++)m=l[Z],W.set(m,d),d+=m.length;return W}},W={arraySet:function(l,Z,b,G,d){for(var m=0;m<G;m++)l[d+m]=Z[b+m]},flattenChunks:function(l){return[].concat.apply([],l)}};Z.setTyped=function(l){l?(Z.Buf8=Uint8Array,Z.Buf16=Uint16Array,Z.Buf32=Int32Array,Z.assign(Z,m)):(Z.Buf8=Array,Z.Buf16=Array,Z.Buf32=Array,Z.assign(Z,W))},Z.setTyped(G)},function(l,Z,b){l.exports=function(){"use strict";for(var l=function(l,Z,b){return void 0===Z&&(Z=0),void 0===b&&(b=1),l<Z?Z:l>b?b:l},Z={},b=0,G=["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"];b<G.length;b+=1){var d=G[b];Z["[object "+d+"]"]=d.toLowerCase()}var m=function(l){return Z[Object.prototype.toString.call(l)]||"object"},W=Math.PI,c={clip_rgb:function(Z){Z._clipped=!1,Z._unclipped=Z.slice(0);for(var b=0;b<=3;b++)b<3?((Z[b]<0||Z[b]>255)&&(Z._clipped=!0),Z[b]=l(Z[b],0,255)):3===b&&(Z[b]=l(Z[b],0,1));return Z},limit:l,type:m,unpack:function(l,Z){return void 0===Z&&(Z=null),l.length>=3?Array.prototype.slice.call(l):"object"==m(l[0])&&Z?Z.split("").filter((function(Z){return void 0!==l[0][Z]})).map((function(Z){return l[0][Z]})):l[0]},last:function(l){if(l.length<2)return null;var Z=l.length-1;return"string"==m(l[Z])?l[Z].toLowerCase():null},PI:W,TWOPI:2*W,PITHIRD:W/3,DEG2RAD:W/180,RAD2DEG:180/W},h={format:{},autodetect:[]},X=c.last,V=c.clip_rgb,u=c.type,R=function(){for(var l=[],Z=arguments.length;Z--;)l[Z]=arguments[Z];var b=this;if("object"===u(l[0])&&l[0].constructor&&l[0].constructor===this.constructor)return l[0];var G=X(l),d=!1;if(!G){d=!0,h.sorted||(h.autodetect=h.autodetect.sort((function(l,Z){return Z.p-l.p})),h.sorted=!0);for(var m=0,W=h.autodetect;m<W.length;m+=1){var c=W[m];if(G=c.test.apply(c,l))break}}if(!h.format[G])throw new Error("unknown format: "+l);var R=h.format[G].apply(null,d?l:l.slice(0,-1));b._rgb=V(R),3===b._rgb.length&&b._rgb.push(1)};R.prototype.toString=function(){return"function"==u(this.hex)?this.hex():"["+this._rgb.join(",")+"]"};var a=R,Y=function(){for(var l=[],Z=arguments.length;Z--;)l[Z]=arguments[Z];return new(Function.prototype.bind.apply(Y.Color,[null].concat(l)))};Y.Color=a,Y.version="2.1.0";var n=Y,i=c.unpack,p=Math.max,s=function(){for(var l=[],Z=arguments.length;Z--;)l[Z]=arguments[Z];var b=i(l,"rgb"),G=b[0],d=b[1],m=b[2],W=1-p(G/=255,p(d/=255,m/=255)),c=W<1?1/(1-W):0,h=(1-G-W)*c,X=(1-d-W)*c,V=(1-m-W)*c;return[h,X,V,W]},y=c.unpack,t=function(){for(var l=[],Z=arguments.length;Z--;)l[Z]=arguments[Z];var b=(l=y(l,"cmyk"))[0],G=l[1],d=l[2],m=l[3],W=l.length>4?l[4]:1;return 1===m?[0,0,0,W]:[b>=1?0:255*(1-b)*(1-m),G>=1?0:255*(1-G)*(1-m),d>=1?0:255*(1-d)*(1-m),W]},L=c.unpack,o=c.type;a.prototype.cmyk=function(){return s(this._rgb)},n.cmyk=function(){for(var l=[],Z=arguments.length;Z--;)l[Z]=arguments[Z];return new(Function.prototype.bind.apply(a,[null].concat(l,["cmyk"])))},h.format.cmyk=t,h.autodetect.push({p:2,test:function(){for(var l=[],Z=arguments.length;Z--;)l[Z]=arguments[Z];if(l=L(l,"cmyk"),"array"===o(l)&&4===l.length)return"cmyk"}});var F=c.unpack,x=c.last,J=function(l){return Math.round(100*l)/100},I=function(){for(var l=[],Z=arguments.length;Z--;)l[Z]=arguments[Z];var b=F(l,"hsla"),G=x(l)||"lsa";return b[0]=J(b[0]||0),b[1]=J(100*b[1])+"%",b[2]=J(100*b[2])+"%","hsla"===G||b.length>3&&b[3]<1?(b[3]=b.length>3?b[3]:1,G="hsla"):b.length=3,G+"("+b.join(",")+")"},S=c.unpack,N=function(){for(var l=[],Z=arguments.length;Z--;)l[Z]=arguments[Z];var b=(l=S(l,"rgba"))[0],G=l[1],d=l[2];b/=255,G/=255,d/=255;var m,W,c=Math.min(b,G,d),h=Math.max(b,G,d),X=(h+c)/2;return h===c?(m=0,W=Number.NaN):m=X<.5?(h-c)/(h+c):(h-c)/(2-h-c),b==h?W=(G-d)/(h-c):G==h?W=2+(d-b)/(h-c):d==h&&(W=4+(b-G)/(h-c)),(W*=60)<0&&(W+=360),l.length>3&&void 0!==l[3]?[W,m,X,l[3]]:[W,m,X]},K=c.unpack,e=c.last,k=Math.round,U=function(){for(var l=[],Z=arguments.length;Z--;)l[Z]=arguments[Z];var b=K(l,"rgba"),G=e(l)||"rgb";return"hsl"==G.substr(0,3)?I(N(b),G):(b[0]=k(b[0]),b[1]=k(b[1]),b[2]=k(b[2]),("rgba"===G||b.length>3&&b[3]<1)&&(b[3]=b.length>3?b[3]:1,G="rgba"),G+"("+b.slice(0,"rgb"===G?3:4).join(",")+")")},T=c.unpack,C=Math.round,z=function(){for(var l,Z=[],b=arguments.length;b--;)Z[b]=arguments[b];var G,d,m,W=(Z=T(Z,"hsl"))[0],c=Z[1],h=Z[2];if(0===c)G=d=m=255*h;else{var X=[0,0,0],V=[0,0,0],u=h<.5?h*(1+c):h+c-h*c,R=2*h-u,a=W/360;X[0]=a+1/3,X[1]=a,X[2]=a-1/3;for(var Y=0;Y<3;Y++)X[Y]<0&&(X[Y]+=1),X[Y]>1&&(X[Y]-=1),6*X[Y]<1?V[Y]=R+6*(u-R)*X[Y]:2*X[Y]<1?V[Y]=u:3*X[Y]<2?V[Y]=R+(u-R)*(2/3-X[Y])*6:V[Y]=R;G=(l=[C(255*V[0]),C(255*V[1]),C(255*V[2])])[0],d=l[1],m=l[2]}return Z.length>3?[G,d,m,Z[3]]:[G,d,m,1]},v=/^rgb\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/,E=/^rgba\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*([01]|[01]?\.\d+)\)$/,H=/^rgb\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,M=/^rgba\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,w=/^hsl\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,Q=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,B=Math.round,j=function(l){var Z;if(l=l.toLowerCase().trim(),h.format.named)try{return h.format.named(l)}catch(l){}if(Z=l.match(v)){for(var b=Z.slice(1,4),G=0;G<3;G++)b[G]=+b[G];return b[3]=1,b}if(Z=l.match(E)){for(var d=Z.slice(1,5),m=0;m<4;m++)d[m]=+d[m];return d}if(Z=l.match(H)){for(var W=Z.slice(1,4),c=0;c<3;c++)W[c]=B(2.55*W[c]);return W[3]=1,W}if(Z=l.match(M)){for(var X=Z.slice(1,5),V=0;V<3;V++)X[V]=B(2.55*X[V]);return X[3]=+X[3],X}if(Z=l.match(w)){var u=Z.slice(1,4);u[1]*=.01,u[2]*=.01;var R=z(u);return R[3]=1,R}if(Z=l.match(Q)){var a=Z.slice(1,4);a[1]*=.01,a[2]*=.01;var Y=z(a);return Y[3]=+Z[4],Y}};j.test=function(l){return v.test(l)||E.test(l)||H.test(l)||M.test(l)||w.test(l)||Q.test(l)};var g=j,P=c.type;a.prototype.css=function(l){return U(this._rgb,l)},n.css=function(){for(var l=[],Z=arguments.length;Z--;)l[Z]=arguments[Z];return new(Function.prototype.bind.apply(a,[null].concat(l,["css"])))},h.format.css=g,h.autodetect.push({p:5,test:function(l){for(var Z=[],b=arguments.length-1;b-- >0;)Z[b]=arguments[b+1];if(!Z.length&&"string"===P(l)&&g.test(l))return"css"}});var r=c.unpack;h.format.gl=function(){for(var l=[],Z=arguments.length;Z--;)l[Z]=arguments[Z];var b=r(l,"rgba");return b[0]*=255,b[1]*=255,b[2]*=255,b},n.gl=function(){for(var l=[],Z=arguments.length;Z--;)l[Z]=arguments[Z];return new(Function.prototype.bind.apply(a,[null].concat(l,["gl"])))},a.prototype.gl=function(){var l=this._rgb;return[l[0]/255,l[1]/255,l[2]/255,l[3]]};var D=c.unpack,O=function(){for(var l=[],Z=arguments.length;Z--;)l[Z]=arguments[Z];var b,G=D(l,"rgb"),d=G[0],m=G[1],W=G[2],c=Math.min(d,m,W),h=Math.max(d,m,W),X=h-c,V=100*X/255,u=c/(255-X)*100;return 0===X?b=Number.NaN:(d===h&&(b=(m-W)/X),m===h&&(b=2+(W-d)/X),W===h&&(b=4+(d-m)/X),(b*=60)<0&&(b+=360)),[b,V,u]},f=c.unpack,A=Math.floor,_=function(){for(var l,Z,b,G,d,m,W=[],c=arguments.length;c--;)W[c]=arguments[c];var h,X,V,u=(W=f(W,"hcg"))[0],R=W[1],a=W[2];a*=255;var Y=255*R;if(0===R)h=X=V=a;else{360===u&&(u=0),u>360&&(u-=360),u<0&&(u+=360);var n=A(u/=60),i=u-n,p=a*(1-R),s=p+Y*(1-i),y=p+Y*i,t=p+Y;switch(n){case 0:h=(l=[t,y,p])[0],X=l[1],V=l[2];break;case 1:h=(Z=[s,t,p])[0],X=Z[1],V=Z[2];break;case 2:h=(b=[p,t,y])[0],X=b[1],V=b[2];break;case 3:h=(G=[p,s,t])[0],X=G[1],V=G[2];break;case 4:h=(d=[y,p,t])[0],X=d[1],V=d[2];break;case 5:h=(m=[t,p,s])[0],X=m[1],V=m[2]}}return[h,X,V,W.length>3?W[3]:1]},q=c.unpack,$=c.type;a.prototype.hcg=function(){return O(this._rgb)},n.hcg=function(){for(var l=[],Z=arguments.length;Z--;)l[Z]=arguments[Z];return new(Function.prototype.bind.apply(a,[null].concat(l,["hcg"])))},h.format.hcg=_,h.autodetect.push({p:1,test:function(){for(var l=[],Z=arguments.length;Z--;)l[Z]=arguments[Z];if(l=q(l,"hcg"),"array"===$(l)&&3===l.length)return"hcg"}});var ll=c.unpack,Zl=c.last,bl=Math.round,Gl=function(){for(var l=[],Z=arguments.length;Z--;)l[Z]=arguments[Z];var b=ll(l,"rgba"),G=b[0],d=b[1],m=b[2],W=b[3],c=Zl(l)||"auto";void 0===W&&(W=1),"auto"===c&&(c=W<1?"rgba":"rgb");var h=(G=bl(G))<<16|(d=bl(d))<<8|(m=bl(m)),X="000000"+h.toString(16);X=X.substr(X.length-6);var V="0"+bl(255*W).toString(16);switch(V=V.substr(V.length-2),c.toLowerCase()){case"rgba":return"#"+X+V;case"argb":return"#"+V+X;default:return"#"+X}},dl=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,ml=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,Wl=function(l){if(l.match(dl)){4!==l.length&&7!==l.length||(l=l.substr(1)),3===l.length&&(l=(l=l.split(""))[0]+l[0]+l[1]+l[1]+l[2]+l[2]);var Z=parseInt(l,16);return[Z>>16,Z>>8&255,255&Z,1]}if(l.match(ml)){5!==l.length&&9!==l.length||(l=l.substr(1)),4===l.length&&(l=(l=l.split(""))[0]+l[0]+l[1]+l[1]+l[2]+l[2]+l[3]+l[3]);var b=parseInt(l,16);return[b>>24&255,b>>16&255,b>>8&255,Math.round((255&b)/255*100)/100]}throw new Error("unknown hex color: "+l)},cl=c.type;a.prototype.hex=function(l){return Gl(this._rgb,l)},n.hex=function(){for(var l=[],Z=arguments.length;Z--;)l[Z]=arguments[Z];return new(Function.prototype.bind.apply(a,[null].concat(l,["hex"])))},h.format.hex=Wl,h.autodetect.push({p:4,test:function(l){for(var Z=[],b=arguments.length-1;b-- >0;)Z[b]=arguments[b+1];if(!Z.length&&"string"===cl(l)&&[3,4,5,6,7,8,9].indexOf(l.length)>=0)return"hex"}});var hl=c.unpack,Xl=c.TWOPI,Vl=Math.min,ul=Math.sqrt,Rl=Math.acos,al=function(){for(var l=[],Z=arguments.length;Z--;)l[Z]=arguments[Z];var b,G=hl(l,"rgb"),d=G[0],m=G[1],W=G[2],c=Vl(d/=255,m/=255,W/=255),h=(d+m+W)/3,X=h>0?1-c/h:0;return 0===X?b=NaN:(b=(d-m+(d-W))/2,b/=ul((d-m)*(d-m)+(d-W)*(m-W)),b=Rl(b),W>m&&(b=Xl-b),b/=Xl),[360*b,X,h]},Yl=c.unpack,nl=c.limit,il=c.TWOPI,pl=c.PITHIRD,sl=Math.cos,yl=function(){for(var l=[],Z=arguments.length;Z--;)l[Z]=arguments[Z];var b,G,d,m=(l=Yl(l,"hsi"))[0],W=l[1],c=l[2];return isNaN(m)&&(m=0),isNaN(W)&&(W=0),m>360&&(m-=360),m<0&&(m+=360),(m/=360)<1/3?G=1-((d=(1-W)/3)+(b=(1+W*sl(il*m)/sl(pl-il*m))/3)):m<2/3?d=1-((b=(1-W)/3)+(G=(1+W*sl(il*(m-=1/3))/sl(pl-il*m))/3)):b=1-((G=(1-W)/3)+(d=(1+W*sl(il*(m-=2/3))/sl(pl-il*m))/3)),[255*(b=nl(c*b*3)),255*(G=nl(c*G*3)),255*(d=nl(c*d*3)),l.length>3?l[3]:1]},tl=c.unpack,Ll=c.type;a.prototype.hsi=function(){return al(this._rgb)},n.hsi=function(){for(var l=[],Z=arguments.length;Z--;)l[Z]=arguments[Z];return new(Function.prototype.bind.apply(a,[null].concat(l,["hsi"])))},h.format.hsi=yl,h.autodetect.push({p:2,test:function(){for(var l=[],Z=arguments.length;Z--;)l[Z]=arguments[Z];if(l=tl(l,"hsi"),"array"===Ll(l)&&3===l.length)return"hsi"}});var ol=c.unpack,Fl=c.type;a.prototype.hsl=function(){return N(this._rgb)},n.hsl=function(){for(var l=[],Z=arguments.length;Z--;)l[Z]=arguments[Z];return new(Function.prototype.bind.apply(a,[null].concat(l,["hsl"])))},h.format.hsl=z,h.autodetect.push({p:2,test:function(){for(var l=[],Z=arguments.length;Z--;)l[Z]=arguments[Z];if(l=ol(l,"hsl"),"array"===Fl(l)&&3===l.length)return"hsl"}});var xl=c.unpack,Jl=Math.min,Il=Math.max,Sl=function(){for(var l=[],Z=arguments.length;Z--;)l[Z]=arguments[Z];var b,G,d,m=(l=xl(l,"rgb"))[0],W=l[1],c=l[2],h=Jl(m,W,c),X=Il(m,W,c),V=X-h;return d=X/255,0===X?(b=Number.NaN,G=0):(G=V/X,m===X&&(b=(W-c)/V),W===X&&(b=2+(c-m)/V),c===X&&(b=4+(m-W)/V),(b*=60)<0&&(b+=360)),[b,G,d]},Nl=c.unpack,Kl=Math.floor,el=function(){for(var l,Z,b,G,d,m,W=[],c=arguments.length;c--;)W[c]=arguments[c];var h,X,V,u=(W=Nl(W,"hsv"))[0],R=W[1],a=W[2];if(a*=255,0===R)h=X=V=a;else{360===u&&(u=0),u>360&&(u-=360),u<0&&(u+=360);var Y=Kl(u/=60),n=u-Y,i=a*(1-R),p=a*(1-R*n),s=a*(1-R*(1-n));switch(Y){case 0:h=(l=[a,s,i])[0],X=l[1],V=l[2];break;case 1:h=(Z=[p,a,i])[0],X=Z[1],V=Z[2];break;case 2:h=(b=[i,a,s])[0],X=b[1],V=b[2];break;case 3:h=(G=[i,p,a])[0],X=G[1],V=G[2];break;case 4:h=(d=[s,i,a])[0],X=d[1],V=d[2];break;case 5:h=(m=[a,i,p])[0],X=m[1],V=m[2]}}return[h,X,V,W.length>3?W[3]:1]},kl=c.unpack,Ul=c.type;a.prototype.hsv=function(){return Sl(this._rgb)},n.hsv=function(){for(var l=[],Z=arguments.length;Z--;)l[Z]=arguments[Z];return new(Function.prototype.bind.apply(a,[null].concat(l,["hsv"])))},h.format.hsv=el,h.autodetect.push({p:2,test:function(){for(var l=[],Z=arguments.length;Z--;)l[Z]=arguments[Z];if(l=kl(l,"hsv"),"array"===Ul(l)&&3===l.length)return"hsv"}});var Tl=18,Cl=.95047,zl=1,vl=1.08883,El=.137931034,Hl=.206896552,Ml=.12841855,wl=.008856452,Ql=c.unpack,Bl=Math.pow,jl=function(l){return(l/=255)<=.04045?l/12.92:Bl((l+.055)/1.055,2.4)},gl=function(l){return l>wl?Bl(l,1/3):l/Ml+El},Pl=function(l,Z,b){return l=jl(l),Z=jl(Z),b=jl(b),[gl((.4124564*l+.3575761*Z+.1804375*b)/Cl),gl((.2126729*l+.7151522*Z+.072175*b)/zl),gl((.0193339*l+.119192*Z+.9503041*b)/vl)]},rl=function(){for(var l=[],Z=arguments.length;Z--;)l[Z]=arguments[Z];var b=Ql(l,"rgb"),G=b[0],d=b[1],m=b[2],W=Pl(G,d,m),c=W[0],h=W[1],X=W[2],V=116*h-16;return[V<0?0:V,500*(c-h),200*(h-X)]},Dl=c.unpack,Ol=Math.pow,fl=function(l){return 255*(l<=.00304?12.92*l:1.055*Ol(l,1/2.4)-.055)},Al=function(l){return l>Hl?l*l*l:Ml*(l-El)},_l=function(){for(var l=[],Z=arguments.length;Z--;)l[Z]=arguments[Z];var b,G,d,m=(l=Dl(l,"lab"))[0],W=l[1],c=l[2];return G=(m+16)/116,b=isNaN(W)?G:G+W/500,d=isNaN(c)?G:G-c/200,G=zl*Al(G),b=Cl*Al(b),d=vl*Al(d),[fl(3.2404542*b-1.5371385*G-.4985314*d),fl(-.969266*b+1.8760108*G+.041556*d),fl(.0556434*b-.2040259*G+1.0572252*d),l.length>3?l[3]:1]},ql=c.unpack,$l=c.type;a.prototype.lab=function(){return rl(this._rgb)},n.lab=function(){for(var l=[],Z=arguments.length;Z--;)l[Z]=arguments[Z];return new(Function.prototype.bind.apply(a,[null].concat(l,["lab"])))},h.format.lab=_l,h.autodetect.push({p:2,test:function(){for(var l=[],Z=arguments.length;Z--;)l[Z]=arguments[Z];if(l=ql(l,"lab"),"array"===$l(l)&&3===l.length)return"lab"}});var lZ=c.unpack,ZZ=c.RAD2DEG,bZ=Math.sqrt,GZ=Math.atan2,dZ=Math.round,mZ=function(){for(var l=[],Z=arguments.length;Z--;)l[Z]=arguments[Z];var b=lZ(l,"lab"),G=b[0],d=b[1],m=b[2],W=bZ(d*d+m*m),c=(GZ(m,d)*ZZ+360)%360;return 0===dZ(1e4*W)&&(c=Number.NaN),[G,W,c]},WZ=c.unpack,cZ=function(){for(var l=[],Z=arguments.length;Z--;)l[Z]=arguments[Z];var b=WZ(l,"rgb"),G=b[0],d=b[1],m=b[2],W=rl(G,d,m),c=W[0],h=W[1],X=W[2];return mZ(c,h,X)},hZ=c.unpack,XZ=c.DEG2RAD,VZ=Math.sin,uZ=Math.cos,RZ=function(){for(var l=[],Z=arguments.length;Z--;)l[Z]=arguments[Z];var b=hZ(l,"lch"),G=b[0],d=b[1],m=b[2];return isNaN(m)&&(m=0),[G,uZ(m*=XZ)*d,VZ(m)*d]},aZ=c.unpack,YZ=function(){for(var l=[],Z=arguments.length;Z--;)l[Z]=arguments[Z];var b=(l=aZ(l,"lch"))[0],G=l[1],d=l[2],m=RZ(b,G,d),W=m[0],c=m[1],h=m[2],X=_l(W,c,h),V=X[0],u=X[1],R=X[2];return[V,u,R,l.length>3?l[3]:1]},nZ=c.unpack,iZ=function(){for(var l=[],Z=arguments.length;Z--;)l[Z]=arguments[Z];var b=nZ(l,"hcl").reverse();return YZ.apply(void 0,b)},pZ=c.unpack,sZ=c.type;a.prototype.lch=function(){return cZ(this._rgb)},a.prototype.hcl=function(){return cZ(this._rgb).reverse()},n.lch=function(){for(var l=[],Z=arguments.length;Z--;)l[Z]=arguments[Z];return new(Function.prototype.bind.apply(a,[null].concat(l,["lch"])))},n.hcl=function(){for(var l=[],Z=arguments.length;Z--;)l[Z]=arguments[Z];return new(Function.prototype.bind.apply(a,[null].concat(l,["hcl"])))},h.format.lch=YZ,h.format.hcl=iZ,["lch","hcl"].forEach((function(l){return h.autodetect.push({p:2,test:function(){for(var Z=[],b=arguments.length;b--;)Z[b]=arguments[b];if(Z=pZ(Z,l),"array"===sZ(Z)&&3===Z.length)return l}})}));var yZ={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},tZ=c.type;a.prototype.name=function(){for(var l=Gl(this._rgb,"rgb"),Z=0,b=Object.keys(yZ);Z<b.length;Z+=1){var G=b[Z];if(yZ[G]===l)return G.toLowerCase()}return l},h.format.named=function(l){if(l=l.toLowerCase(),yZ[l])return Wl(yZ[l]);throw new Error("unknown color name: "+l)},h.autodetect.push({p:5,test:function(l){for(var Z=[],b=arguments.length-1;b-- >0;)Z[b]=arguments[b+1];if(!Z.length&&"string"===tZ(l)&&yZ[l.toLowerCase()])return"named"}});var LZ=c.unpack,oZ=function(){for(var l=[],Z=arguments.length;Z--;)l[Z]=arguments[Z];var b=LZ(l,"rgb"),G=b[0],d=b[1],m=b[2];return(G<<16)+(d<<8)+m},FZ=c.type,xZ=function(l){if("number"==FZ(l)&&l>=0&&l<=16777215)return[l>>16,l>>8&255,255&l,1];throw new Error("unknown num color: "+l)},JZ=c.type;a.prototype.num=function(){return oZ(this._rgb)},n.num=function(){for(var l=[],Z=arguments.length;Z--;)l[Z]=arguments[Z];return new(Function.prototype.bind.apply(a,[null].concat(l,["num"])))},h.format.num=xZ,h.autodetect.push({p:5,test:function(){for(var l=[],Z=arguments.length;Z--;)l[Z]=arguments[Z];if(1===l.length&&"number"===JZ(l[0])&&l[0]>=0&&l[0]<=16777215)return"num"}});var IZ=c.unpack,SZ=c.type,NZ=Math.round;a.prototype.rgb=function(l){return void 0===l&&(l=!0),!1===l?this._rgb.slice(0,3):this._rgb.slice(0,3).map(NZ)},a.prototype.rgba=function(l){return void 0===l&&(l=!0),this._rgb.slice(0,4).map((function(Z,b){return b<3?!1===l?Z:NZ(Z):Z}))},n.rgb=function(){for(var l=[],Z=arguments.length;Z--;)l[Z]=arguments[Z];return new(Function.prototype.bind.apply(a,[null].concat(l,["rgb"])))},h.format.rgb=function(){for(var l=[],Z=arguments.length;Z--;)l[Z]=arguments[Z];var b=IZ(l,"rgba");return void 0===b[3]&&(b[3]=1),b},h.autodetect.push({p:3,test:function(){for(var l=[],Z=arguments.length;Z--;)l[Z]=arguments[Z];if(l=IZ(l,"rgba"),"array"===SZ(l)&&(3===l.length||4===l.length&&"number"==SZ(l[3])&&l[3]>=0&&l[3]<=1))return"rgb"}});var KZ=Math.log,eZ=function(l){var Z,b,G,d=l/100;return d<66?(Z=255,b=-155.25485562709179-.44596950469579133*(b=d-2)+104.49216199393888*KZ(b),G=d<20?0:.8274096064007395*(G=d-10)-254.76935184120902+115.67994401066147*KZ(G)):(Z=351.97690566805693+.114206453784165*(Z=d-55)-40.25366309332127*KZ(Z),b=325.4494125711974+.07943456536662342*(b=d-50)-28.0852963507957*KZ(b),G=255),[Z,b,G,1]},kZ=c.unpack,UZ=Math.round,TZ=function(){for(var l=[],Z=arguments.length;Z--;)l[Z]=arguments[Z];for(var b,G=kZ(l,"rgb"),d=G[0],m=G[2],W=1e3,c=4e4,h=.4;c-W>h;){var X=eZ(b=.5*(c+W));X[2]/X[0]>=m/d?c=b:W=b}return UZ(b)};a.prototype.temp=a.prototype.kelvin=a.prototype.temperature=function(){return TZ(this._rgb)},n.temp=n.kelvin=n.temperature=function(){for(var l=[],Z=arguments.length;Z--;)l[Z]=arguments[Z];return new(Function.prototype.bind.apply(a,[null].concat(l,["temp"])))},h.format.temp=h.format.kelvin=h.format.temperature=eZ;var CZ=c.type;a.prototype.alpha=function(l,Z){return void 0===Z&&(Z=!1),void 0!==l&&"number"===CZ(l)?Z?(this._rgb[3]=l,this):new a([this._rgb[0],this._rgb[1],this._rgb[2],l],"rgb"):this._rgb[3]},a.prototype.clipped=function(){return this._rgb._clipped||!1},a.prototype.darken=function(l){void 0===l&&(l=1);var Z=this.lab();return Z[0]-=Tl*l,new a(Z,"lab").alpha(this.alpha(),!0)},a.prototype.brighten=function(l){return void 0===l&&(l=1),this.darken(-l)},a.prototype.darker=a.prototype.darken,a.prototype.brighter=a.prototype.brighten,a.prototype.get=function(l){var Z=l.split("."),b=Z[0],G=Z[1],d=this[b]();if(G){var m=b.indexOf(G);if(m>-1)return d[m];throw new Error("unknown channel "+G+" in mode "+b)}return d};var zZ=c.type,vZ=Math.pow;a.prototype.luminance=function(l){if(void 0!==l&&"number"===zZ(l)){if(0===l)return new a([0,0,0,this._rgb[3]],"rgb");if(1===l)return new a([255,255,255,this._rgb[3]],"rgb");var Z=this.luminance(),b=20,G=function(Z,d){var m=Z.interpolate(d,.5,"rgb"),W=m.luminance();return Math.abs(l-W)<1e-7||!b--?m:W>l?G(Z,m):G(m,d)},d=(Z>l?G(new a([0,0,0]),this):G(this,new a([255,255,255]))).rgb();return new a(d.concat([this._rgb[3]]))}return EZ.apply(void 0,this._rgb.slice(0,3))};var EZ=function(l,Z,b){return.2126*(l=HZ(l))+.7152*(Z=HZ(Z))+.0722*(b=HZ(b))},HZ=function(l){return(l/=255)<=.03928?l/12.92:vZ((l+.055)/1.055,2.4)},MZ={},wZ=c.type,QZ=function(l,Z,b){void 0===b&&(b=.5);for(var G=[],d=arguments.length-3;d-- >0;)G[d]=arguments[d+3];var m=G[0]||"lrgb";if(MZ[m]||G.length||(m=Object.keys(MZ)[0]),!MZ[m])throw new Error("interpolation mode "+m+" is not defined");return"object"!==wZ(l)&&(l=new a(l)),"object"!==wZ(Z)&&(Z=new a(Z)),MZ[m](l,Z,b).alpha(l.alpha()+b*(Z.alpha()-l.alpha()))};a.prototype.mix=a.prototype.interpolate=function(l,Z){void 0===Z&&(Z=.5);for(var b=[],G=arguments.length-2;G-- >0;)b[G]=arguments[G+2];return QZ.apply(void 0,[this,l,Z].concat(b))},a.prototype.premultiply=function(l){void 0===l&&(l=!1);var Z=this._rgb,b=Z[3];return l?(this._rgb=[Z[0]*b,Z[1]*b,Z[2]*b,b],this):new a([Z[0]*b,Z[1]*b,Z[2]*b,b],"rgb")},a.prototype.saturate=function(l){void 0===l&&(l=1);var Z=this.lch();return Z[1]+=Tl*l,Z[1]<0&&(Z[1]=0),new a(Z,"lch").alpha(this.alpha(),!0)},a.prototype.desaturate=function(l){return void 0===l&&(l=1),this.saturate(-l)};var BZ=c.type;a.prototype.set=function(l,Z,b){void 0===b&&(b=!1);var G=l.split("."),d=G[0],m=G[1],W=this[d]();if(m){var c=d.indexOf(m);if(c>-1){if("string"==BZ(Z))switch(Z.charAt(0)){case"+":case"-":W[c]+=+Z;break;case"*":W[c]*=+Z.substr(1);break;case"/":W[c]/=+Z.substr(1);break;default:W[c]=+Z}else{if("number"!==BZ(Z))throw new Error("unsupported value for Color.set");W[c]=Z}var h=new a(W,d);return b?(this._rgb=h._rgb,this):h}throw new Error("unknown channel "+m+" in mode "+d)}return W},MZ.rgb=function(l,Z,b){var G=l._rgb,d=Z._rgb;return new a(G[0]+b*(d[0]-G[0]),G[1]+b*(d[1]-G[1]),G[2]+b*(d[2]-G[2]),"rgb")};var jZ=Math.sqrt,gZ=Math.pow;MZ.lrgb=function(l,Z,b){var G=l._rgb,d=G[0],m=G[1],W=G[2],c=Z._rgb,h=c[0],X=c[1],V=c[2];return new a(jZ(gZ(d,2)*(1-b)+gZ(h,2)*b),jZ(gZ(m,2)*(1-b)+gZ(X,2)*b),jZ(gZ(W,2)*(1-b)+gZ(V,2)*b),"rgb")},MZ.lab=function(l,Z,b){var G=l.lab(),d=Z.lab();return new a(G[0]+b*(d[0]-G[0]),G[1]+b*(d[1]-G[1]),G[2]+b*(d[2]-G[2]),"lab")};var PZ=function(l,Z,b,G){var d,m,W,c,h,X,V,u,R,Y,n,i;return"hsl"===G?(W=l.hsl(),c=Z.hsl()):"hsv"===G?(W=l.hsv(),c=Z.hsv()):"hcg"===G?(W=l.hcg(),c=Z.hcg()):"hsi"===G?(W=l.hsi(),c=Z.hsi()):"lch"!==G&&"hcl"!==G||(G="hcl",W=l.hcl(),c=Z.hcl()),"h"===G.substr(0,1)&&(h=(d=W)[0],V=d[1],R=d[2],X=(m=c)[0],u=m[1],Y=m[2]),isNaN(h)||isNaN(X)?isNaN(h)?isNaN(X)?i=Number.NaN:(i=X,1!=R&&0!=R||"hsv"==G||(n=u)):(i=h,1!=Y&&0!=Y||"hsv"==G||(n=V)):i=h+b*(X>h&&X-h>180?X-(h+360):X<h&&h-X>180?X+360-h:X-h),void 0===n&&(n=V+b*(u-V)),new a([i,n,R+b*(Y-R)],G)},rZ=function(l,Z,b){return PZ(l,Z,b,"lch")};MZ.lch=rZ,MZ.hcl=rZ,MZ.num=function(l,Z,b){var G=l.num(),d=Z.num();return new a(G+b*(d-G),"num")},MZ.hcg=function(l,Z,b){return PZ(l,Z,b,"hcg")},MZ.hsi=function(l,Z,b){return PZ(l,Z,b,"hsi")},MZ.hsl=function(l,Z,b){return PZ(l,Z,b,"hsl")},MZ.hsv=function(l,Z,b){return PZ(l,Z,b,"hsv")};var DZ=c.clip_rgb,OZ=Math.pow,fZ=Math.sqrt,AZ=Math.PI,_Z=Math.cos,qZ=Math.sin,$Z=Math.atan2,lb=function(l,Z){for(var b=l.length,G=[0,0,0,0],d=0;d<l.length;d++){var m=l[d],W=Z[d]/b,c=m._rgb;G[0]+=OZ(c[0],2)*W,G[1]+=OZ(c[1],2)*W,G[2]+=OZ(c[2],2)*W,G[3]+=c[3]*W}return G[0]=fZ(G[0]),G[1]=fZ(G[1]),G[2]=fZ(G[2]),G[3]>.9999999&&(G[3]=1),new a(DZ(G))},Zb=c.type,bb=Math.pow,Gb=function(l){var Z="rgb",b=n("#ccc"),G=0,d=[0,1],m=[],W=[0,0],c=!1,h=[],X=!1,V=0,u=1,R=!1,a={},Y=!0,i=1,p=function(l){if((l=l||["#fff","#000"])&&"string"===Zb(l)&&n.brewer&&n.brewer[l.toLowerCase()]&&(l=n.brewer[l.toLowerCase()]),"array"===Zb(l)){1===l.length&&(l=[l[0],l[0]]),l=l.slice(0);for(var Z=0;Z<l.length;Z++)l[Z]=n(l[Z]);m.length=0;for(var b=0;b<l.length;b++)m.push(b/(l.length-1))}return L(),h=l},s=function(l){return l},y=function(l){return l},t=function(l,G){var d,X;if(null==G&&(G=!1),isNaN(l)||null===l)return b;X=G?l:c&&c.length>2?function(l){if(null!=c){for(var Z=c.length-1,b=0;b<Z&&l>=c[b];)b++;return b-1}return 0}(l)/(c.length-2):u!==V?(l-V)/(u-V):1,X=y(X),G||(X=s(X)),1!==i&&(X=bb(X,i)),X=W[0]+X*(1-W[0]-W[1]),X=Math.min(1,Math.max(0,X));var R=Math.floor(1e4*X);if(Y&&a[R])d=a[R];else{if("array"===Zb(h))for(var p=0;p<m.length;p++){var t=m[p];if(X<=t){d=h[p];break}if(X>=t&&p===m.length-1){d=h[p];break}if(X>t&&X<m[p+1]){X=(X-t)/(m[p+1]-t),d=n.interpolate(h[p],h[p+1],X,Z);break}}else"function"===Zb(h)&&(d=h(X));Y&&(a[R]=d)}return d},L=function(){return a={}};p(l);var o=function(l){var Z=n(t(l));return X&&Z[X]?Z[X]():Z};return o.classes=function(l){if(null!=l){if("array"===Zb(l))c=l,d=[l[0],l[l.length-1]];else{var Z=n.analyze(d);c=0===l?[Z.min,Z.max]:n.limits(Z,"e",l)}return o}return c},o.domain=function(l){if(!arguments.length)return d;V=l[0],u=l[l.length-1],m=[];var Z=h.length;if(l.length===Z&&V!==u)for(var b=0,G=Array.from(l);b<G.length;b+=1){var W=G[b];m.push((W-V)/(u-V))}else{for(var c=0;c<Z;c++)m.push(c/(Z-1));if(l.length>2){var X=l.map((function(Z,b){return b/(l.length-1)})),R=l.map((function(l){return(l-V)/(u-V)}));R.every((function(l,Z){return X[Z]===l}))||(y=function(l){if(l<=0||l>=1)return l;for(var Z=0;l>=R[Z+1];)Z++;var b=(l-R[Z])/(R[Z+1]-R[Z]);return X[Z]+b*(X[Z+1]-X[Z])})}}return d=[V,u],o},o.mode=function(l){return arguments.length?(Z=l,L(),o):Z},o.range=function(l,Z){return p(l),o},o.out=function(l){return X=l,o},o.spread=function(l){return arguments.length?(G=l,o):G},o.correctLightness=function(l){return null==l&&(l=!0),R=l,L(),s=R?function(l){for(var Z=t(0,!0).lab()[0],b=t(1,!0).lab()[0],G=Z>b,d=t(l,!0).lab()[0],m=Z+(b-Z)*l,W=d-m,c=0,h=1,X=20;Math.abs(W)>.01&&X-- >0;)G&&(W*=-1),W<0?(c=l,l+=.5*(h-l)):(h=l,l+=.5*(c-l)),d=t(l,!0).lab()[0],W=d-m;return l}:function(l){return l},o},o.padding=function(l){return null!=l?("number"===Zb(l)&&(l=[l,l]),W=l,o):W},o.colors=function(Z,b){arguments.length<2&&(b="hex");var G=[];if(0===arguments.length)G=h.slice(0);else if(1===Z)G=[o(.5)];else if(Z>1){var m=d[0],W=d[1]-m;G=db(0,Z,!1).map((function(l){return o(m+l/(Z-1)*W)}))}else{l=[];var X=[];if(c&&c.length>2)for(var V=1,u=c.length,R=1<=u;R?V<u:V>u;R?V++:V--)X.push(.5*(c[V-1]+c[V]));else X=d;G=X.map((function(l){return o(l)}))}return n[b]&&(G=G.map((function(l){return l[b]()}))),G},o.cache=function(l){return null!=l?(Y=l,o):Y},o.gamma=function(l){return null!=l?(i=l,o):i},o.nodata=function(l){return null!=l?(b=n(l),o):b},o};function db(l,Z,b){for(var G=[],d=l<Z,m=b?d?Z+1:Z-1:Z,W=l;d?W<m:W>m;d?W++:W--)G.push(W);return G}var mb=function(l){var Z,b,G,d,m,W,c;if(2===(l=l.map((function(l){return new a(l)}))).length)Z=l.map((function(l){return l.lab()})),m=Z[0],W=Z[1],d=function(l){var Z=[0,1,2].map((function(Z){return m[Z]+l*(W[Z]-m[Z])}));return new a(Z,"lab")};else if(3===l.length)b=l.map((function(l){return l.lab()})),m=b[0],W=b[1],c=b[2],d=function(l){var Z=[0,1,2].map((function(Z){return(1-l)*(1-l)*m[Z]+2*(1-l)*l*W[Z]+l*l*c[Z]}));return new a(Z,"lab")};else if(4===l.length){var h;G=l.map((function(l){return l.lab()})),m=G[0],W=G[1],c=G[2],h=G[3],d=function(l){var Z=[0,1,2].map((function(Z){return(1-l)*(1-l)*(1-l)*m[Z]+3*(1-l)*(1-l)*l*W[Z]+3*(1-l)*l*l*c[Z]+l*l*l*h[Z]}));return new a(Z,"lab")}}else if(5===l.length){var X=mb(l.slice(0,3)),V=mb(l.slice(2,5));d=function(l){return l<.5?X(2*l):V(2*(l-.5))}}return d},Wb=function(l,Z,b){if(!Wb[b])throw new Error("unknown blend mode "+b);return Wb[b](l,Z)},cb=function(l){return function(Z,b){var G=n(b).rgb(),d=n(Z).rgb();return n.rgb(l(G,d))}},hb=function(l){return function(Z,b){var G=[];return G[0]=l(Z[0],b[0]),G[1]=l(Z[1],b[1]),G[2]=l(Z[2],b[2]),G}};Wb.normal=cb(hb((function(l){return l}))),Wb.multiply=cb(hb((function(l,Z){return l*Z/255}))),Wb.screen=cb(hb((function(l,Z){return 255*(1-(1-l/255)*(1-Z/255))}))),Wb.overlay=cb(hb((function(l,Z){return Z<128?2*l*Z/255:255*(1-2*(1-l/255)*(1-Z/255))}))),Wb.darken=cb(hb((function(l,Z){return l>Z?Z:l}))),Wb.lighten=cb(hb((function(l,Z){return l>Z?l:Z}))),Wb.dodge=cb(hb((function(l,Z){return 255===l||(l=Z/255*255/(1-l/255))>255?255:l}))),Wb.burn=cb(hb((function(l,Z){return 255*(1-(1-Z/255)/(l/255))})));for(var Xb=Wb,Vb=c.type,ub=c.clip_rgb,Rb=c.TWOPI,ab=Math.pow,Yb=Math.sin,nb=Math.cos,ib=Math.floor,pb=Math.random,sb=Math.log,yb=Math.pow,tb=Math.floor,Lb=Math.abs,ob=function(l,Z){void 0===Z&&(Z=null);var b={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0};return"object"===m(l)&&(l=Object.values(l)),l.forEach((function(l){Z&&"object"===m(l)&&(l=l[Z]),null==l||isNaN(l)||(b.values.push(l),b.sum+=l,l<b.min&&(b.min=l),l>b.max&&(b.max=l),b.count+=1)})),b.domain=[b.min,b.max],b.limits=function(l,Z){return Fb(b,l,Z)},b},Fb=function(l,Z,b){void 0===Z&&(Z="equal"),void 0===b&&(b=7),"array"==m(l)&&(l=ob(l));var G=l.min,d=l.max,W=l.values.sort((function(l,Z){return l-Z}));if(1===b)return[G,d];var c=[];if("c"===Z.substr(0,1)&&(c.push(G),c.push(d)),"e"===Z.substr(0,1)){c.push(G);for(var h=1;h<b;h++)c.push(G+h/b*(d-G));c.push(d)}else if("l"===Z.substr(0,1)){if(G<=0)throw new Error("Logarithmic scales are only possible for values > 0");var X=Math.LOG10E*sb(G),V=Math.LOG10E*sb(d);c.push(G);for(var u=1;u<b;u++)c.push(yb(10,X+u/b*(V-X)));c.push(d)}else if("q"===Z.substr(0,1)){c.push(G);for(var R=1;R<b;R++){var a=(W.length-1)*R/b,Y=tb(a);if(Y===a)c.push(W[Y]);else{var n=a-Y;c.push(W[Y]*(1-n)+W[Y+1]*n)}}c.push(d)}else if("k"===Z.substr(0,1)){var i,p=W.length,s=new Array(p),y=new Array(b),t=!0,L=0,o=null;(o=[]).push(G);for(var F=1;F<b;F++)o.push(G+F/b*(d-G));for(o.push(d);t;){for(var x=0;x<b;x++)y[x]=0;for(var J=0;J<p;J++)for(var I=W[J],S=Number.MAX_VALUE,N=void 0,K=0;K<b;K++){var e=Lb(o[K]-I);e<S&&(S=e,N=K),y[N]++,s[J]=N}for(var k=new Array(b),U=0;U<b;U++)k[U]=null;for(var T=0;T<p;T++)null===k[i=s[T]]?k[i]=W[T]:k[i]+=W[T];for(var C=0;C<b;C++)k[C]*=1/y[C];t=!1;for(var z=0;z<b;z++)if(k[z]!==o[z]){t=!0;break}o=k,++L>200&&(t=!1)}for(var v={},E=0;E<b;E++)v[E]=[];for(var H=0;H<p;H++)v[i=s[H]].push(W[H]);for(var M=[],w=0;w<b;w++)M.push(v[w][0]),M.push(v[w][v[w].length-1]);M=M.sort((function(l,Z){return l-Z})),c.push(M[0]);for(var Q=1;Q<M.length;Q+=2){var B=M[Q];isNaN(B)||-1!==c.indexOf(B)||c.push(B)}}return c},xb={analyze:ob,limits:Fb},Jb=Math.sqrt,Ib=Math.atan2,Sb=Math.abs,Nb=Math.cos,Kb=Math.PI,eb={cool:function(){return Gb([n.hsl(180,1,.9),n.hsl(250,.7,.4)])},hot:function(){return Gb(["#000","#f00","#ff0","#fff"]).mode("rgb")}},kb={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},Ub=0,Tb=Object.keys(kb);Ub<Tb.length;Ub+=1){var Cb=Tb[Ub];kb[Cb.toLowerCase()]=kb[Cb]}var zb=kb;return n.average=function(l,Z,b){void 0===Z&&(Z="lrgb"),void 0===b&&(b=null);var G=l.length;b||(b=Array.from(new Array(G)).map((function(){return 1})));var d=G/b.reduce((function(l,Z){return l+Z}));if(b.forEach((function(l,Z){b[Z]*=d})),l=l.map((function(l){return new a(l)})),"lrgb"===Z)return lb(l,b);for(var m=l.shift(),W=m.get(Z),c=[],h=0,X=0,V=0;V<W.length;V++)if(W[V]=(W[V]||0)*b[0],c.push(isNaN(W[V])?0:b[0]),"h"===Z.charAt(V)&&!isNaN(W[V])){var u=W[V]/180*AZ;h+=_Z(u)*b[0],X+=qZ(u)*b[0]}var R=m.alpha()*b[0];l.forEach((function(l,G){var d=l.get(Z);R+=l.alpha()*b[G+1];for(var m=0;m<W.length;m++)if(!isNaN(d[m]))if(c[m]+=b[G+1],"h"===Z.charAt(m)){var V=d[m]/180*AZ;h+=_Z(V)*b[G+1],X+=qZ(V)*b[G+1]}else W[m]+=d[m]*b[G+1]}));for(var Y=0;Y<W.length;Y++)if("h"===Z.charAt(Y)){for(var n=$Z(X/c[Y],h/c[Y])/AZ*180;n<0;)n+=360;for(;n>=360;)n-=360;W[Y]=n}else W[Y]=W[Y]/c[Y];return R/=G,new a(W,Z).alpha(R>.99999?1:R,!0)},n.bezier=function(l){var Z=mb(l);return Z.scale=function(){return Gb(Z)},Z},n.blend=Xb,n.cubehelix=function(l,Z,b,G,d){void 0===l&&(l=300),void 0===Z&&(Z=-1.5),void 0===b&&(b=1),void 0===G&&(G=1),void 0===d&&(d=[0,1]);var m,W=0;"array"===Vb(d)?m=d[1]-d[0]:(m=0,d=[d,d]);var c=function(c){var h=Rb*((l+120)/360+Z*c),X=ab(d[0]+m*c,G),V=(0!==W?b[0]+c*W:b)*X*(1-X)/2,u=nb(h),R=Yb(h);return n(ub([255*(X+V*(-.14861*u+1.78277*R)),255*(X+V*(-.29227*u-.90649*R)),255*(X+V*(1.97294*u)),1]))};return c.start=function(Z){return null==Z?l:(l=Z,c)},c.rotations=function(l){return null==l?Z:(Z=l,c)},c.gamma=function(l){return null==l?G:(G=l,c)},c.hue=function(l){return null==l?b:("array"===Vb(b=l)?0==(W=b[1]-b[0])&&(b=b[1]):W=0,c)},c.lightness=function(l){return null==l?d:("array"===Vb(l)?(d=l,m=l[1]-l[0]):(d=[l,l],m=0),c)},c.scale=function(){return n.scale(c)},c.hue(b),c},n.mix=n.interpolate=QZ,n.random=function(){for(var l="#",Z=0;Z<6;Z++)l+="0123456789abcdef".charAt(ib(16*pb()));return new a(l,"hex")},n.scale=Gb,n.analyze=xb.analyze,n.contrast=function(l,Z){l=new a(l),Z=new a(Z);var b=l.luminance(),G=Z.luminance();return b>G?(b+.05)/(G+.05):(G+.05)/(b+.05)},n.deltaE=function(l,Z,b,G){void 0===b&&(b=1),void 0===G&&(G=1),l=new a(l),Z=new a(Z);for(var d=Array.from(l.lab()),m=d[0],W=d[1],c=d[2],h=Array.from(Z.lab()),X=h[0],V=h[1],u=h[2],R=Jb(W*W+c*c),Y=Jb(V*V+u*u),n=m<16?.511:.040975*m/(1+.01765*m),i=.0638*R/(1+.0131*R)+.638,p=R<1e-6?0:180*Ib(c,W)/Kb;p<0;)p+=360;for(;p>=360;)p-=360;var s=p>=164&&p<=345?.56+Sb(.2*Nb(Kb*(p+168)/180)):.36+Sb(.4*Nb(Kb*(p+35)/180)),y=R*R*R*R,t=Jb(y/(y+1900)),L=i*(t*s+1-t),o=R-Y,F=W-V,x=c-u,J=(m-X)/(b*n),I=o/(G*i);return Jb(J*J+I*I+(F*F+x*x-o*o)/(L*L))},n.distance=function(l,Z,b){void 0===b&&(b="lab"),l=new a(l),Z=new a(Z);var G=l.get(b),d=Z.get(b),m=0;for(var W in G){var c=(G[W]||0)-(d[W]||0);m+=c*c}return Math.sqrt(m)},n.limits=xb.limits,n.valid=function(){for(var l=[],Z=arguments.length;Z--;)l[Z]=arguments[Z];try{return new(Function.prototype.bind.apply(a,[null].concat(l))),!0}catch(l){return!1}},n.scales=eb,n.colors=yZ,n.brewer=zb,n}()},function(l,Z){l.exports=__WEBPACK_EXTERNAL_MODULE__5__},function(l,Z,b){(function(b){var G,d;d=this,void 0===(G=function(){return d.Chartist=function(){var l={version:"0.11.4"};return function(l,Z){"use strict";var b=l.window,G=l.document;Z.namespaces={svg:"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/xmlns/",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",ct:"http://gionkunz.github.com/chartist-js/ct"},Z.noop=function(l){return l},Z.alphaNumerate=function(l){return String.fromCharCode(97+l%26)},Z.extend=function(l){var b,G,d;for(l=l||{},b=1;b<arguments.length;b++)for(var m in G=arguments[b])d=G[m],l[m]="object"!=typeof d||null===d||d instanceof Array?d:Z.extend(l[m],d);return l},Z.replaceAll=function(l,Z,b){return l.replace(new RegExp(Z,"g"),b)},Z.ensureUnit=function(l,Z){return"number"==typeof l&&(l+=Z),l},Z.quantity=function(l){if("string"==typeof l){var Z=/^(\d+)\s*(.*)$/g.exec(l);return{value:+Z[1],unit:Z[2]||void 0}}return{value:l}},Z.querySelector=function(l){return l instanceof Node?l:G.querySelector(l)},Z.times=function(l){return Array.apply(null,new Array(l))},Z.sum=function(l,Z){return l+(Z||0)},Z.mapMultiply=function(l){return function(Z){return Z*l}},Z.mapAdd=function(l){return function(Z){return Z+l}},Z.serialMap=function(l,b){var G=[],d=Math.max.apply(null,l.map((function(l){return l.length})));return Z.times(d).forEach((function(Z,d){var m=l.map((function(l){return l[d]}));G[d]=b.apply(null,m)})),G},Z.roundWithPrecision=function(l,b){var G=Math.pow(10,b||Z.precision);return Math.round(l*G)/G},Z.precision=8,Z.escapingMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"},Z.serialize=function(l){return null==l?l:("number"==typeof l?l=""+l:"object"==typeof l&&(l=JSON.stringify({data:l})),Object.keys(Z.escapingMap).reduce((function(l,b){return Z.replaceAll(l,b,Z.escapingMap[b])}),l))},Z.deserialize=function(l){if("string"!=typeof l)return l;l=Object.keys(Z.escapingMap).reduce((function(l,b){return Z.replaceAll(l,Z.escapingMap[b],b)}),l);try{l=void 0!==(l=JSON.parse(l)).data?l.data:l}catch(l){}return l},Z.createSvg=function(l,b,G,d){var m;return b=b||"100%",G=G||"100%",Array.prototype.slice.call(l.querySelectorAll("svg")).filter((function(l){return l.getAttributeNS(Z.namespaces.xmlns,"ct")})).forEach((function(Z){l.removeChild(Z)})),(m=new Z.Svg("svg").attr({width:b,height:G}).addClass(d))._node.style.width=b,m._node.style.height=G,l.appendChild(m._node),m},Z.normalizeData=function(l,b,G){var d,m={raw:l,normalized:{}};return m.normalized.series=Z.getDataArray({series:l.series||[]},b,G),d=m.normalized.series.every((function(l){return l instanceof Array}))?Math.max.apply(null,m.normalized.series.map((function(l){return l.length}))):m.normalized.series.length,m.normalized.labels=(l.labels||[]).slice(),Array.prototype.push.apply(m.normalized.labels,Z.times(Math.max(0,d-m.normalized.labels.length)).map((function(){return""}))),b&&Z.reverseData(m.normalized),m},Z.safeHasProperty=function(l,Z){return null!==l&&"object"==typeof l&&l.hasOwnProperty(Z)},Z.isDataHoleValue=function(l){return null==l||"number"==typeof l&&isNaN(l)},Z.reverseData=function(l){l.labels.reverse(),l.series.reverse();for(var Z=0;Z<l.series.length;Z++)"object"==typeof l.series[Z]&&void 0!==l.series[Z].data?l.series[Z].data.reverse():l.series[Z]instanceof Array&&l.series[Z].reverse()},Z.getDataArray=function(l,b,G){return l.series.map((function l(b){if(Z.safeHasProperty(b,"value"))return l(b.value);if(Z.safeHasProperty(b,"data"))return l(b.data);if(b instanceof Array)return b.map(l);if(!Z.isDataHoleValue(b)){if(G){var d={};return"string"==typeof G?d[G]=Z.getNumberOrUndefined(b):d.y=Z.getNumberOrUndefined(b),d.x=b.hasOwnProperty("x")?Z.getNumberOrUndefined(b.x):d.x,d.y=b.hasOwnProperty("y")?Z.getNumberOrUndefined(b.y):d.y,d}return Z.getNumberOrUndefined(b)}}))},Z.normalizePadding=function(l,Z){return Z=Z||0,"number"==typeof l?{top:l,right:l,bottom:l,left:l}:{top:"number"==typeof l.top?l.top:Z,right:"number"==typeof l.right?l.right:Z,bottom:"number"==typeof l.bottom?l.bottom:Z,left:"number"==typeof l.left?l.left:Z}},Z.getMetaData=function(l,Z){var b=l.data?l.data[Z]:l[Z];return b?b.meta:void 0},Z.orderOfMagnitude=function(l){return Math.floor(Math.log(Math.abs(l))/Math.LN10)},Z.projectLength=function(l,Z,b){return Z/b.range*l},Z.getAvailableHeight=function(l,b){return Math.max((Z.quantity(b.height).value||l.height())-(b.chartPadding.top+b.chartPadding.bottom)-b.axisX.offset,0)},Z.getHighLow=function(l,b,G){var d={high:void 0===(b=Z.extend({},b,G?b["axis"+G.toUpperCase()]:{})).high?-Number.MAX_VALUE:+b.high,low:void 0===b.low?Number.MAX_VALUE:+b.low},m=void 0===b.high,W=void 0===b.low;return(m||W)&&function l(Z){if(void 0!==Z)if(Z instanceof Array)for(var b=0;b<Z.length;b++)l(Z[b]);else{var c=G?+Z[G]:+Z;m&&c>d.high&&(d.high=c),W&&c<d.low&&(d.low=c)}}(l),(b.referenceValue||0===b.referenceValue)&&(d.high=Math.max(b.referenceValue,d.high),d.low=Math.min(b.referenceValue,d.low)),d.high<=d.low&&(0===d.low?d.high=1:d.low<0?d.high=0:(d.high>0||(d.high=1),d.low=0)),d},Z.isNumeric=function(l){return null!==l&&isFinite(l)},Z.isFalseyButZero=function(l){return!l&&0!==l},Z.getNumberOrUndefined=function(l){return Z.isNumeric(l)?+l:void 0},Z.isMultiValue=function(l){return"object"==typeof l&&("x"in l||"y"in l)},Z.getMultiValue=function(l,b){return Z.isMultiValue(l)?Z.getNumberOrUndefined(l[b||"y"]):Z.getNumberOrUndefined(l)},Z.rho=function(l){if(1===l)return l;function Z(l,b){return l%b==0?b:Z(b,l%b)}function b(l){return l*l+1}var G,d=2,m=2;if(l%2==0)return 2;do{d=b(d)%l,m=b(b(m))%l,G=Z(Math.abs(d-m),l)}while(1===G);return G},Z.getBounds=function(l,b,G,d){var m,W,c,h=0,X={high:b.high,low:b.low};X.valueRange=X.high-X.low,X.oom=Z.orderOfMagnitude(X.valueRange),X.step=Math.pow(10,X.oom),X.min=Math.floor(X.low/X.step)*X.step,X.max=Math.ceil(X.high/X.step)*X.step,X.range=X.max-X.min,X.numberOfSteps=Math.round(X.range/X.step);var V=Z.projectLength(l,X.step,X)<G,u=d?Z.rho(X.range):0;if(d&&Z.projectLength(l,1,X)>=G)X.step=1;else if(d&&u<X.step&&Z.projectLength(l,u,X)>=G)X.step=u;else for(;;){if(V&&Z.projectLength(l,X.step,X)<=G)X.step*=2;else{if(V||!(Z.projectLength(l,X.step/2,X)>=G))break;if(X.step/=2,d&&X.step%1!=0){X.step*=2;break}}if(h++>1e3)throw new Error("Exceeded maximum number of iterations while optimizing scale step!")}function R(l,Z){return l===(l+=Z)&&(l*=1+(Z>0?2221e-19:-2221e-19)),l}for(X.step=Math.max(X.step,2221e-19),W=X.min,c=X.max;W+X.step<=X.low;)W=R(W,X.step);for(;c-X.step>=X.high;)c=R(c,-X.step);X.min=W,X.max=c,X.range=X.max-X.min;var a=[];for(m=X.min;m<=X.max;m=R(m,X.step)){var Y=Z.roundWithPrecision(m);Y!==a[a.length-1]&&a.push(Y)}return X.values=a,X},Z.polarToCartesian=function(l,Z,b,G){var d=(G-90)*Math.PI/180;return{x:l+b*Math.cos(d),y:Z+b*Math.sin(d)}},Z.createChartRect=function(l,b,G){var d=!(!b.axisX&&!b.axisY),m=d?b.axisY.offset:0,W=d?b.axisX.offset:0,c=l.width()||Z.quantity(b.width).value||0,h=l.height()||Z.quantity(b.height).value||0,X=Z.normalizePadding(b.chartPadding,G);c=Math.max(c,m+X.left+X.right),h=Math.max(h,W+X.top+X.bottom);var V={padding:X,width:function(){return this.x2-this.x1},height:function(){return this.y1-this.y2}};return d?("start"===b.axisX.position?(V.y2=X.top+W,V.y1=Math.max(h-X.bottom,V.y2+1)):(V.y2=X.top,V.y1=Math.max(h-X.bottom-W,V.y2+1)),"start"===b.axisY.position?(V.x1=X.left+m,V.x2=Math.max(c-X.right,V.x1+1)):(V.x1=X.left,V.x2=Math.max(c-X.right-m,V.x1+1))):(V.x1=X.left,V.x2=Math.max(c-X.right,V.x1+1),V.y2=X.top,V.y1=Math.max(h-X.bottom,V.y2+1)),V},Z.createGrid=function(l,b,G,d,m,W,c,h){var X={};X[G.units.pos+"1"]=l,X[G.units.pos+"2"]=l,X[G.counterUnits.pos+"1"]=d,X[G.counterUnits.pos+"2"]=d+m;var V=W.elem("line",X,c.join(" "));h.emit("draw",Z.extend({type:"grid",axis:G,index:b,group:W,element:V},X))},Z.createGridBackground=function(l,Z,b,G){var d=l.elem("rect",{x:Z.x1,y:Z.y2,width:Z.width(),height:Z.height()},b,!0);G.emit("draw",{type:"gridBackground",group:l,element:d})},Z.createLabel=function(l,b,d,m,W,c,h,X,V,u,R){var a,Y={};if(Y[W.units.pos]=l+h[W.units.pos],Y[W.counterUnits.pos]=h[W.counterUnits.pos],Y[W.units.len]=b,Y[W.counterUnits.len]=Math.max(0,c-10),u){var n=G.createElement("span");n.className=V.join(" "),n.setAttribute("xmlns",Z.namespaces.xhtml),n.innerText=m[d],n.style[W.units.len]=Math.round(Y[W.units.len])+"px",n.style[W.counterUnits.len]=Math.round(Y[W.counterUnits.len])+"px",a=X.foreignObject(n,Z.extend({style:"overflow: visible;"},Y))}else a=X.elem("text",Y,V.join(" ")).text(m[d]);R.emit("draw",Z.extend({type:"label",axis:W,index:d,group:X,element:a,text:m[d]},Y))},Z.getSeriesOption=function(l,Z,b){if(l.name&&Z.series&&Z.series[l.name]){var G=Z.series[l.name];return G.hasOwnProperty(b)?G[b]:Z[b]}return Z[b]},Z.optionsProvider=function(l,G,d){var m,W,c=Z.extend({},l),h=[];function X(l){var h=m;if(m=Z.extend({},c),G)for(W=0;W<G.length;W++)b.matchMedia(G[W][0]).matches&&(m=Z.extend(m,G[W][1]));d&&l&&d.emit("optionsChanged",{previousOptions:h,currentOptions:m})}if(!b.matchMedia)throw"window.matchMedia not found! Make sure you're using a polyfill.";if(G)for(W=0;W<G.length;W++){var V=b.matchMedia(G[W][0]);V.addListener(X),h.push(V)}return X(),{removeMediaQueryListeners:function(){h.forEach((function(l){l.removeListener(X)}))},getCurrentOptions:function(){return Z.extend({},m)}}},Z.splitIntoSegments=function(l,b,G){G=Z.extend({},{increasingX:!1,fillHoles:!1},G);for(var d=[],m=!0,W=0;W<l.length;W+=2)void 0===Z.getMultiValue(b[W/2].value)?G.fillHoles||(m=!0):(G.increasingX&&W>=2&&l[W]<=l[W-2]&&(m=!0),m&&(d.push({pathCoordinates:[],valueData:[]}),m=!1),d[d.length-1].pathCoordinates.push(l[W],l[W+1]),d[d.length-1].valueData.push(b[W/2]));return d}}(this||b,l),function(l,Z){"use strict";Z.Interpolation={},Z.Interpolation.none=function(l){return l=Z.extend({},{fillHoles:!1},l),function(b,G){for(var d=new Z.Svg.Path,m=!0,W=0;W<b.length;W+=2){var c=b[W],h=b[W+1],X=G[W/2];void 0!==Z.getMultiValue(X.value)?(m?d.move(c,h,!1,X):d.line(c,h,!1,X),m=!1):l.fillHoles||(m=!0)}return d}},Z.Interpolation.simple=function(l){l=Z.extend({},{divisor:2,fillHoles:!1},l);var b=1/Math.max(1,l.divisor);return function(G,d){for(var m,W,c,h=new Z.Svg.Path,X=0;X<G.length;X+=2){var V=G[X],u=G[X+1],R=(V-m)*b,a=d[X/2];void 0!==a.value?(void 0===c?h.move(V,u,!1,a):h.curve(m+R,W,V-R,u,V,u,!1,a),m=V,W=u,c=a):l.fillHoles||(m=V=c=void 0)}return h}},Z.Interpolation.cardinal=function(l){l=Z.extend({},{tension:1,fillHoles:!1},l);var b=Math.min(1,Math.max(0,l.tension)),G=1-b;return function d(m,W){var c=Z.splitIntoSegments(m,W,{fillHoles:l.fillHoles});if(c.length){if(c.length>1){var h=[];return c.forEach((function(l){h.push(d(l.pathCoordinates,l.valueData))})),Z.Svg.Path.join(h)}if(m=c[0].pathCoordinates,W=c[0].valueData,m.length<=4)return Z.Interpolation.none()(m,W);for(var X=(new Z.Svg.Path).move(m[0],m[1],!1,W[0]),V=0,u=m.length;u-2>V;V+=2){var R=[{x:+m[V-2],y:+m[V-1]},{x:+m[V],y:+m[V+1]},{x:+m[V+2],y:+m[V+3]},{x:+m[V+4],y:+m[V+5]}];u-4===V?R[3]=R[2]:V||(R[0]={x:+m[V],y:+m[V+1]}),X.curve(b*(-R[0].x+6*R[1].x+R[2].x)/6+G*R[2].x,b*(-R[0].y+6*R[1].y+R[2].y)/6+G*R[2].y,b*(R[1].x+6*R[2].x-R[3].x)/6+G*R[2].x,b*(R[1].y+6*R[2].y-R[3].y)/6+G*R[2].y,R[2].x,R[2].y,!1,W[(V+2)/2])}return X}return Z.Interpolation.none()([])}},Z.Interpolation.monotoneCubic=function(l){return l=Z.extend({},{fillHoles:!1},l),function b(G,d){var m=Z.splitIntoSegments(G,d,{fillHoles:l.fillHoles,increasingX:!0});if(m.length){if(m.length>1){var W=[];return m.forEach((function(l){W.push(b(l.pathCoordinates,l.valueData))})),Z.Svg.Path.join(W)}if(G=m[0].pathCoordinates,d=m[0].valueData,G.length<=4)return Z.Interpolation.none()(G,d);var c,h,X=[],V=[],u=G.length/2,R=[],a=[],Y=[],n=[];for(c=0;c<u;c++)X[c]=G[2*c],V[c]=G[2*c+1];for(c=0;c<u-1;c++)Y[c]=V[c+1]-V[c],n[c]=X[c+1]-X[c],a[c]=Y[c]/n[c];for(R[0]=a[0],R[u-1]=a[u-2],c=1;c<u-1;c++)0===a[c]||0===a[c-1]||a[c-1]>0!=a[c]>0?R[c]=0:(R[c]=3*(n[c-1]+n[c])/((2*n[c]+n[c-1])/a[c-1]+(n[c]+2*n[c-1])/a[c]),isFinite(R[c])||(R[c]=0));for(h=(new Z.Svg.Path).move(X[0],V[0],!1,d[0]),c=0;c<u-1;c++)h.curve(X[c]+n[c]/3,V[c]+R[c]*n[c]/3,X[c+1]-n[c]/3,V[c+1]-R[c+1]*n[c]/3,X[c+1],V[c+1],!1,d[c+1]);return h}return Z.Interpolation.none()([])}},Z.Interpolation.step=function(l){return l=Z.extend({},{postpone:!0,fillHoles:!1},l),function(b,G){for(var d,m,W,c=new Z.Svg.Path,h=0;h<b.length;h+=2){var X=b[h],V=b[h+1],u=G[h/2];void 0!==u.value?(void 0===W?c.move(X,V,!1,u):(l.postpone?c.line(X,m,!1,W):c.line(d,V,!1,u),c.line(X,V,!1,u)),d=X,m=V,W=u):l.fillHoles||(d=m=W=void 0)}return c}}}(0,l),function(l,Z){"use strict";Z.EventEmitter=function(){var l=[];return{addEventHandler:function(Z,b){l[Z]=l[Z]||[],l[Z].push(b)},removeEventHandler:function(Z,b){l[Z]&&(b?(l[Z].splice(l[Z].indexOf(b),1),0===l[Z].length&&delete l[Z]):delete l[Z])},emit:function(Z,b){l[Z]&&l[Z].forEach((function(l){l(b)})),l["*"]&&l["*"].forEach((function(l){l(Z,b)}))}}}}(0,l),function(l,Z){"use strict";function b(l){var Z=[];if(l.length)for(var b=0;b<l.length;b++)Z.push(l[b]);return Z}Z.Class={extend:function(l,b){var G=b||this.prototype||Z.Class,d=Object.create(G);Z.Class.cloneDefinitions(d,l);var m=function(){var l,b=d.constructor||function(){};return l=this===Z?Object.create(d):this,b.apply(l,Array.prototype.slice.call(arguments,0)),l};return m.prototype=d,m.super=G,m.extend=this.extend,m},cloneDefinitions:function(){var l=b(arguments),Z=l[0];return l.splice(1,l.length-1).forEach((function(l){Object.getOwnPropertyNames(l).forEach((function(b){delete Z[b],Object.defineProperty(Z,b,Object.getOwnPropertyDescriptor(l,b))}))})),Z}}}(0,l),function(l,Z){"use strict";var b=l.window;function G(){b.addEventListener("resize",this.resizeListener),this.optionsProvider=Z.optionsProvider(this.options,this.responsiveOptions,this.eventEmitter),this.eventEmitter.addEventHandler("optionsChanged",function(){this.update()}.bind(this)),this.options.plugins&&this.options.plugins.forEach(function(l){l instanceof Array?l[0](this,l[1]):l(this)}.bind(this)),this.eventEmitter.emit("data",{type:"initial",data:this.data}),this.createChart(this.optionsProvider.getCurrentOptions()),this.initializeTimeoutId=void 0}Z.Base=Z.Class.extend({constructor:function(l,b,d,m,W){this.container=Z.querySelector(l),this.data=b||{},this.data.labels=this.data.labels||[],this.data.series=this.data.series||[],this.defaultOptions=d,this.options=m,this.responsiveOptions=W,this.eventEmitter=Z.EventEmitter(),this.supportsForeignObject=Z.Svg.isSupported("Extensibility"),this.supportsAnimations=Z.Svg.isSupported("AnimationEventsAttribute"),this.resizeListener=function(){this.update()}.bind(this),this.container&&(this.container.__chartist__&&this.container.__chartist__.detach(),this.container.__chartist__=this),this.initializeTimeoutId=setTimeout(G.bind(this),0)},optionsProvider:void 0,container:void 0,svg:void 0,eventEmitter:void 0,createChart:function(){throw new Error("Base chart type can't be instantiated!")},update:function(l,b,G){return l&&(this.data=l||{},this.data.labels=this.data.labels||[],this.data.series=this.data.series||[],this.eventEmitter.emit("data",{type:"update",data:this.data})),b&&(this.options=Z.extend({},G?this.options:this.defaultOptions,b),this.initializeTimeoutId||(this.optionsProvider.removeMediaQueryListeners(),this.optionsProvider=Z.optionsProvider(this.options,this.responsiveOptions,this.eventEmitter))),this.initializeTimeoutId||this.createChart(this.optionsProvider.getCurrentOptions()),this},detach:function(){return this.initializeTimeoutId?b.clearTimeout(this.initializeTimeoutId):(b.removeEventListener("resize",this.resizeListener),this.optionsProvider.removeMediaQueryListeners()),this},on:function(l,Z){return this.eventEmitter.addEventHandler(l,Z),this},off:function(l,Z){return this.eventEmitter.removeEventHandler(l,Z),this},version:Z.version,supportsForeignObject:!1})}(this||b,l),function(l,Z){"use strict";var b=l.document;Z.Svg=Z.Class.extend({constructor:function(l,G,d,m,W){l instanceof Element?this._node=l:(this._node=b.createElementNS(Z.namespaces.svg,l),"svg"===l&&this.attr({"xmlns:ct":Z.namespaces.ct})),G&&this.attr(G),d&&this.addClass(d),m&&(W&&m._node.firstChild?m._node.insertBefore(this._node,m._node.firstChild):m._node.appendChild(this._node))},attr:function(l,b){return"string"==typeof l?b?this._node.getAttributeNS(b,l):this._node.getAttribute(l):(Object.keys(l).forEach(function(b){if(void 0!==l[b])if(-1!==b.indexOf(":")){var G=b.split(":");this._node.setAttributeNS(Z.namespaces[G[0]],b,l[b])}else this._node.setAttribute(b,l[b])}.bind(this)),this)},elem:function(l,b,G,d){return new Z.Svg(l,b,G,this,d)},parent:function(){return this._node.parentNode instanceof SVGElement?new Z.Svg(this._node.parentNode):null},root:function(){for(var l=this._node;"svg"!==l.nodeName;)l=l.parentNode;return new Z.Svg(l)},querySelector:function(l){var b=this._node.querySelector(l);return b?new Z.Svg(b):null},querySelectorAll:function(l){var b=this._node.querySelectorAll(l);return b.length?new Z.Svg.List(b):null},getNode:function(){return this._node},foreignObject:function(l,G,d,m){if("string"==typeof l){var W=b.createElement("div");W.innerHTML=l,l=W.firstChild}l.setAttribute("xmlns",Z.namespaces.xmlns);var c=this.elem("foreignObject",G,d,m);return c._node.appendChild(l),c},text:function(l){return this._node.appendChild(b.createTextNode(l)),this},empty:function(){for(;this._node.firstChild;)this._node.removeChild(this._node.firstChild);return this},remove:function(){return this._node.parentNode.removeChild(this._node),this.parent()},replace:function(l){return this._node.parentNode.replaceChild(l._node,this._node),l},append:function(l,Z){return Z&&this._node.firstChild?this._node.insertBefore(l._node,this._node.firstChild):this._node.appendChild(l._node),this},classes:function(){return this._node.getAttribute("class")?this._node.getAttribute("class").trim().split(/\s+/):[]},addClass:function(l){return this._node.setAttribute("class",this.classes(this._node).concat(l.trim().split(/\s+/)).filter((function(l,Z,b){return b.indexOf(l)===Z})).join(" ")),this},removeClass:function(l){var Z=l.trim().split(/\s+/);return this._node.setAttribute("class",this.classes(this._node).filter((function(l){return-1===Z.indexOf(l)})).join(" ")),this},removeAllClasses:function(){return this._node.setAttribute("class",""),this},height:function(){return this._node.getBoundingClientRect().height},width:function(){return this._node.getBoundingClientRect().width},animate:function(l,b,G){return void 0===b&&(b=!0),Object.keys(l).forEach(function(d){function m(l,b){var m,W,c,h={};l.easing&&(c=l.easing instanceof Array?l.easing:Z.Svg.Easing[l.easing],delete l.easing),l.begin=Z.ensureUnit(l.begin,"ms"),l.dur=Z.ensureUnit(l.dur,"ms"),c&&(l.calcMode="spline",l.keySplines=c.join(" "),l.keyTimes="0;1"),b&&(l.fill="freeze",h[d]=l.from,this.attr(h),W=Z.quantity(l.begin||0).value,l.begin="indefinite"),m=this.elem("animate",Z.extend({attributeName:d},l)),b&&setTimeout(function(){try{m._node.beginElement()}catch(Z){h[d]=l.to,this.attr(h),m.remove()}}.bind(this),W),G&&m._node.addEventListener("beginEvent",function(){G.emit("animationBegin",{element:this,animate:m._node,params:l})}.bind(this)),m._node.addEventListener("endEvent",function(){G&&G.emit("animationEnd",{element:this,animate:m._node,params:l}),b&&(h[d]=l.to,this.attr(h),m.remove())}.bind(this))}l[d]instanceof Array?l[d].forEach(function(l){m.bind(this)(l,!1)}.bind(this)):m.bind(this)(l[d],b)}.bind(this)),this}}),Z.Svg.isSupported=function(l){return b.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#"+l,"1.1")},Z.Svg.Easing={easeInSine:[.47,0,.745,.715],easeOutSine:[.39,.575,.565,1],easeInOutSine:[.445,.05,.55,.95],easeInQuad:[.55,.085,.68,.53],easeOutQuad:[.25,.46,.45,.94],easeInOutQuad:[.455,.03,.515,.955],easeInCubic:[.55,.055,.675,.19],easeOutCubic:[.215,.61,.355,1],easeInOutCubic:[.645,.045,.355,1],easeInQuart:[.895,.03,.685,.22],easeOutQuart:[.165,.84,.44,1],easeInOutQuart:[.77,0,.175,1],easeInQuint:[.755,.05,.855,.06],easeOutQuint:[.23,1,.32,1],easeInOutQuint:[.86,0,.07,1],easeInExpo:[.95,.05,.795,.035],easeOutExpo:[.19,1,.22,1],easeInOutExpo:[1,0,0,1],easeInCirc:[.6,.04,.98,.335],easeOutCirc:[.075,.82,.165,1],easeInOutCirc:[.785,.135,.15,.86],easeInBack:[.6,-.28,.735,.045],easeOutBack:[.175,.885,.32,1.275],easeInOutBack:[.68,-.55,.265,1.55]},Z.Svg.List=Z.Class.extend({constructor:function(l){var b=this;this.svgElements=[];for(var G=0;G<l.length;G++)this.svgElements.push(new Z.Svg(l[G]));Object.keys(Z.Svg.prototype).filter((function(l){return-1===["constructor","parent","querySelector","querySelectorAll","replace","append","classes","height","width"].indexOf(l)})).forEach((function(l){b[l]=function(){var G=Array.prototype.slice.call(arguments,0);return b.svgElements.forEach((function(b){Z.Svg.prototype[l].apply(b,G)})),b}}))}})}(this||b,l),function(l,Z){"use strict";var b={m:["x","y"],l:["x","y"],c:["x1","y1","x2","y2","x","y"],a:["rx","ry","xAr","lAf","sf","x","y"]},G={accuracy:3};function d(l,b,G,d,m,W){var c=Z.extend({command:m?l.toLowerCase():l.toUpperCase()},b,W?{data:W}:{});G.splice(d,0,c)}function m(l,Z){l.forEach((function(G,d){b[G.command.toLowerCase()].forEach((function(b,m){Z(G,b,d,m,l)}))}))}Z.Svg.Path=Z.Class.extend({constructor:function(l,b){this.pathElements=[],this.pos=0,this.close=l,this.options=Z.extend({},G,b)},position:function(l){return void 0!==l?(this.pos=Math.max(0,Math.min(this.pathElements.length,l)),this):this.pos},remove:function(l){return this.pathElements.splice(this.pos,l),this},move:function(l,Z,b,G){return d("M",{x:+l,y:+Z},this.pathElements,this.pos++,b,G),this},line:function(l,Z,b,G){return d("L",{x:+l,y:+Z},this.pathElements,this.pos++,b,G),this},curve:function(l,Z,b,G,m,W,c,h){return d("C",{x1:+l,y1:+Z,x2:+b,y2:+G,x:+m,y:+W},this.pathElements,this.pos++,c,h),this},arc:function(l,Z,b,G,m,W,c,h,X){return d("A",{rx:+l,ry:+Z,xAr:+b,lAf:+G,sf:+m,x:+W,y:+c},this.pathElements,this.pos++,h,X),this},scale:function(l,Z){return m(this.pathElements,(function(b,G){b[G]*="x"===G[0]?l:Z})),this},translate:function(l,Z){return m(this.pathElements,(function(b,G){b[G]+="x"===G[0]?l:Z})),this},transform:function(l){return m(this.pathElements,(function(Z,b,G,d,m){var W=l(Z,b,G,d,m);(W||0===W)&&(Z[b]=W)})),this},parse:function(l){var G=l.replace(/([A-Za-z])([0-9])/g,"$1 $2").replace(/([0-9])([A-Za-z])/g,"$1 $2").split(/[\s,]+/).reduce((function(l,Z){return Z.match(/[A-Za-z]/)&&l.push([]),l[l.length-1].push(Z),l}),[]);"Z"===G[G.length-1][0].toUpperCase()&&G.pop();var d=G.map((function(l){var G=l.shift(),d=b[G.toLowerCase()];return Z.extend({command:G},d.reduce((function(Z,b,G){return Z[b]=+l[G],Z}),{}))})),m=[this.pos,0];return Array.prototype.push.apply(m,d),Array.prototype.splice.apply(this.pathElements,m),this.pos+=d.length,this},stringify:function(){var l=Math.pow(10,this.options.accuracy);return this.pathElements.reduce(function(Z,G){var d=b[G.command.toLowerCase()].map(function(Z){return this.options.accuracy?Math.round(G[Z]*l)/l:G[Z]}.bind(this));return Z+G.command+d.join(",")}.bind(this),"")+(this.close?"Z":"")},clone:function(l){var b=new Z.Svg.Path(l||this.close);return b.pos=this.pos,b.pathElements=this.pathElements.slice().map((function(l){return Z.extend({},l)})),b.options=Z.extend({},this.options),b},splitByCommand:function(l){var b=[new Z.Svg.Path];return this.pathElements.forEach((function(G){G.command===l.toUpperCase()&&0!==b[b.length-1].pathElements.length&&b.push(new Z.Svg.Path),b[b.length-1].pathElements.push(G)})),b}}),Z.Svg.Path.elementDescriptions=b,Z.Svg.Path.join=function(l,b,G){for(var d=new Z.Svg.Path(b,G),m=0;m<l.length;m++)for(var W=l[m],c=0;c<W.pathElements.length;c++)d.pathElements.push(W.pathElements[c]);return d}}(0,l),function(l,Z){"use strict";l.window,l.document;var b={x:{pos:"x",len:"width",dir:"horizontal",rectStart:"x1",rectEnd:"x2",rectOffset:"y2"},y:{pos:"y",len:"height",dir:"vertical",rectStart:"y2",rectEnd:"y1",rectOffset:"x1"}};Z.Axis=Z.Class.extend({constructor:function(l,Z,G,d){this.units=l,this.counterUnits=l===b.x?b.y:b.x,this.chartRect=Z,this.axisLength=Z[l.rectEnd]-Z[l.rectStart],this.gridOffset=Z[l.rectOffset],this.ticks=G,this.options=d},createGridAndLabels:function(l,b,G,d,m){var W=d["axis"+this.units.pos.toUpperCase()],c=this.ticks.map(this.projectValue.bind(this)),h=this.ticks.map(W.labelInterpolationFnc);c.forEach(function(X,V){var u,R={x:0,y:0};u=c[V+1]?c[V+1]-X:Math.max(this.axisLength-X,30),Z.isFalseyButZero(h[V])&&""!==h[V]||("x"===this.units.pos?(X=this.chartRect.x1+X,R.x=d.axisX.labelOffset.x,"start"===d.axisX.position?R.y=this.chartRect.padding.top+d.axisX.labelOffset.y+(G?5:20):R.y=this.chartRect.y1+d.axisX.labelOffset.y+(G?5:20)):(X=this.chartRect.y1-X,R.y=d.axisY.labelOffset.y-(G?u:0),"start"===d.axisY.position?R.x=G?this.chartRect.padding.left+d.axisY.labelOffset.x:this.chartRect.x1-10:R.x=this.chartRect.x2+d.axisY.labelOffset.x+10),W.showGrid&&Z.createGrid(X,V,this,this.gridOffset,this.chartRect[this.counterUnits.len](),l,[d.classNames.grid,d.classNames[this.units.dir]],m),W.showLabel&&Z.createLabel(X,u,V,h,this,W.offset,R,b,[d.classNames.label,d.classNames[this.units.dir],"start"===W.position?d.classNames[W.position]:d.classNames.end],G,m))}.bind(this))},projectValue:function(l,Z,b){throw new Error("Base axis can't be instantiated!")}}),Z.Axis.units=b}(this||b,l),function(l,Z){"use strict";l.window,l.document,Z.AutoScaleAxis=Z.Axis.extend({constructor:function(l,b,G,d){var m=d.highLow||Z.getHighLow(b,d,l.pos);this.bounds=Z.getBounds(G[l.rectEnd]-G[l.rectStart],m,d.scaleMinSpace||20,d.onlyInteger),this.range={min:this.bounds.min,max:this.bounds.max},Z.AutoScaleAxis.super.constructor.call(this,l,G,this.bounds.values,d)},projectValue:function(l){return this.axisLength*(+Z.getMultiValue(l,this.units.pos)-this.bounds.min)/this.bounds.range}})}(this||b,l),function(l,Z){"use strict";l.window,l.document,Z.FixedScaleAxis=Z.Axis.extend({constructor:function(l,b,G,d){var m=d.highLow||Z.getHighLow(b,d,l.pos);this.divisor=d.divisor||1,this.ticks=d.ticks||Z.times(this.divisor).map(function(l,Z){return m.low+(m.high-m.low)/this.divisor*Z}.bind(this)),this.ticks.sort((function(l,Z){return l-Z})),this.range={min:m.low,max:m.high},Z.FixedScaleAxis.super.constructor.call(this,l,G,this.ticks,d),this.stepLength=this.axisLength/this.divisor},projectValue:function(l){return this.axisLength*(+Z.getMultiValue(l,this.units.pos)-this.range.min)/(this.range.max-this.range.min)}})}(this||b,l),function(l,Z){"use strict";l.window,l.document,Z.StepAxis=Z.Axis.extend({constructor:function(l,b,G,d){Z.StepAxis.super.constructor.call(this,l,G,d.ticks,d);var m=Math.max(1,d.ticks.length-(d.stretch?1:0));this.stepLength=this.axisLength/m},projectValue:function(l,Z){return this.stepLength*Z}})}(this||b,l),function(l,Z){"use strict";l.window,l.document;var b={axisX:{offset:30,position:"end",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:Z.noop,type:void 0},axisY:{offset:40,position:"start",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:Z.noop,type:void 0,scaleMinSpace:20,onlyInteger:!1},width:void 0,height:void 0,showLine:!0,showPoint:!0,showArea:!1,areaBase:0,lineSmooth:!0,showGridBackground:!1,low:void 0,high:void 0,chartPadding:{top:15,right:15,bottom:5,left:10},fullWidth:!1,reverseData:!1,classNames:{chart:"ct-chart-line",label:"ct-label",labelGroup:"ct-labels",series:"ct-series",line:"ct-line",point:"ct-point",area:"ct-area",grid:"ct-grid",gridGroup:"ct-grids",gridBackground:"ct-grid-background",vertical:"ct-vertical",horizontal:"ct-horizontal",start:"ct-start",end:"ct-end"}};Z.Line=Z.Base.extend({constructor:function(l,G,d,m){Z.Line.super.constructor.call(this,l,G,b,Z.extend({},b,d),m)},createChart:function(l){var G=Z.normalizeData(this.data,l.reverseData,!0);this.svg=Z.createSvg(this.container,l.width,l.height,l.classNames.chart);var d,m,W=this.svg.elem("g").addClass(l.classNames.gridGroup),c=this.svg.elem("g"),h=this.svg.elem("g").addClass(l.classNames.labelGroup),X=Z.createChartRect(this.svg,l,b.padding);d=void 0===l.axisX.type?new Z.StepAxis(Z.Axis.units.x,G.normalized.series,X,Z.extend({},l.axisX,{ticks:G.normalized.labels,stretch:l.fullWidth})):l.axisX.type.call(Z,Z.Axis.units.x,G.normalized.series,X,l.axisX),m=void 0===l.axisY.type?new Z.AutoScaleAxis(Z.Axis.units.y,G.normalized.series,X,Z.extend({},l.axisY,{high:Z.isNumeric(l.high)?l.high:l.axisY.high,low:Z.isNumeric(l.low)?l.low:l.axisY.low})):l.axisY.type.call(Z,Z.Axis.units.y,G.normalized.series,X,l.axisY),d.createGridAndLabels(W,h,this.supportsForeignObject,l,this.eventEmitter),m.createGridAndLabels(W,h,this.supportsForeignObject,l,this.eventEmitter),l.showGridBackground&&Z.createGridBackground(W,X,l.classNames.gridBackground,this.eventEmitter),G.raw.series.forEach(function(b,W){var h=c.elem("g");h.attr({"ct:series-name":b.name,"ct:meta":Z.serialize(b.meta)}),h.addClass([l.classNames.series,b.className||l.classNames.series+"-"+Z.alphaNumerate(W)].join(" "));var V=[],u=[];G.normalized.series[W].forEach(function(l,c){var h={x:X.x1+d.projectValue(l,c,G.normalized.series[W]),y:X.y1-m.projectValue(l,c,G.normalized.series[W])};V.push(h.x,h.y),u.push({value:l,valueIndex:c,meta:Z.getMetaData(b,c)})}.bind(this));var R={lineSmooth:Z.getSeriesOption(b,l,"lineSmooth"),showPoint:Z.getSeriesOption(b,l,"showPoint"),showLine:Z.getSeriesOption(b,l,"showLine"),showArea:Z.getSeriesOption(b,l,"showArea"),areaBase:Z.getSeriesOption(b,l,"areaBase")},a=("function"==typeof R.lineSmooth?R.lineSmooth:R.lineSmooth?Z.Interpolation.monotoneCubic():Z.Interpolation.none())(V,u);if(R.showPoint&&a.pathElements.forEach(function(G){var c=h.elem("line",{x1:G.x,y1:G.y,x2:G.x+.01,y2:G.y},l.classNames.point).attr({"ct:value":[G.data.value.x,G.data.value.y].filter(Z.isNumeric).join(","),"ct:meta":Z.serialize(G.data.meta)});this.eventEmitter.emit("draw",{type:"point",value:G.data.value,index:G.data.valueIndex,meta:G.data.meta,series:b,seriesIndex:W,axisX:d,axisY:m,group:h,element:c,x:G.x,y:G.y})}.bind(this)),R.showLine){var Y=h.elem("path",{d:a.stringify()},l.classNames.line,!0);this.eventEmitter.emit("draw",{type:"line",values:G.normalized.series[W],path:a.clone(),chartRect:X,index:W,series:b,seriesIndex:W,seriesMeta:b.meta,axisX:d,axisY:m,group:h,element:Y})}if(R.showArea&&m.range){var n=Math.max(Math.min(R.areaBase,m.range.max),m.range.min),i=X.y1-m.projectValue(n);a.splitByCommand("M").filter((function(l){return l.pathElements.length>1})).map((function(l){var Z=l.pathElements[0],b=l.pathElements[l.pathElements.length-1];return l.clone(!0).position(0).remove(1).move(Z.x,i).line(Z.x,Z.y).position(l.pathElements.length+1).line(b.x,i)})).forEach(function(Z){var c=h.elem("path",{d:Z.stringify()},l.classNames.area,!0);this.eventEmitter.emit("draw",{type:"area",values:G.normalized.series[W],path:Z.clone(),series:b,seriesIndex:W,axisX:d,axisY:m,chartRect:X,index:W,group:h,element:c})}.bind(this))}}.bind(this)),this.eventEmitter.emit("created",{bounds:m.bounds,chartRect:X,axisX:d,axisY:m,svg:this.svg,options:l})}})}(this||b,l),function(l,Z){"use strict";l.window,l.document;var b={axisX:{offset:30,position:"end",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:Z.noop,scaleMinSpace:30,onlyInteger:!1},axisY:{offset:40,position:"start",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:Z.noop,scaleMinSpace:20,onlyInteger:!1},width:void 0,height:void 0,high:void 0,low:void 0,referenceValue:0,chartPadding:{top:15,right:15,bottom:5,left:10},seriesBarDistance:15,stackBars:!1,stackMode:"accumulate",horizontalBars:!1,distributeSeries:!1,reverseData:!1,showGridBackground:!1,classNames:{chart:"ct-chart-bar",horizontalBars:"ct-horizontal-bars",label:"ct-label",labelGroup:"ct-labels",series:"ct-series",bar:"ct-bar",grid:"ct-grid",gridGroup:"ct-grids",gridBackground:"ct-grid-background",vertical:"ct-vertical",horizontal:"ct-horizontal",start:"ct-start",end:"ct-end"}};Z.Bar=Z.Base.extend({constructor:function(l,G,d,m){Z.Bar.super.constructor.call(this,l,G,b,Z.extend({},b,d),m)},createChart:function(l){var G,d;l.distributeSeries?(G=Z.normalizeData(this.data,l.reverseData,l.horizontalBars?"x":"y")).normalized.series=G.normalized.series.map((function(l){return[l]})):G=Z.normalizeData(this.data,l.reverseData,l.horizontalBars?"x":"y"),this.svg=Z.createSvg(this.container,l.width,l.height,l.classNames.chart+(l.horizontalBars?" "+l.classNames.horizontalBars:""));var m=this.svg.elem("g").addClass(l.classNames.gridGroup),W=this.svg.elem("g"),c=this.svg.elem("g").addClass(l.classNames.labelGroup);if(l.stackBars&&0!==G.normalized.series.length){var h=Z.serialMap(G.normalized.series,(function(){return Array.prototype.slice.call(arguments).map((function(l){return l})).reduce((function(l,Z){return{x:l.x+(Z&&Z.x)||0,y:l.y+(Z&&Z.y)||0}}),{x:0,y:0})}));d=Z.getHighLow([h],l,l.horizontalBars?"x":"y")}else d=Z.getHighLow(G.normalized.series,l,l.horizontalBars?"x":"y");d.high=+l.high||(0===l.high?0:d.high),d.low=+l.low||(0===l.low?0:d.low);var X,V,u,R,a,Y=Z.createChartRect(this.svg,l,b.padding);V=l.distributeSeries&&l.stackBars?G.normalized.labels.slice(0,1):G.normalized.labels,l.horizontalBars?(X=R=void 0===l.axisX.type?new Z.AutoScaleAxis(Z.Axis.units.x,G.normalized.series,Y,Z.extend({},l.axisX,{highLow:d,referenceValue:0})):l.axisX.type.call(Z,Z.Axis.units.x,G.normalized.series,Y,Z.extend({},l.axisX,{highLow:d,referenceValue:0})),u=a=void 0===l.axisY.type?new Z.StepAxis(Z.Axis.units.y,G.normalized.series,Y,{ticks:V}):l.axisY.type.call(Z,Z.Axis.units.y,G.normalized.series,Y,l.axisY)):(u=R=void 0===l.axisX.type?new Z.StepAxis(Z.Axis.units.x,G.normalized.series,Y,{ticks:V}):l.axisX.type.call(Z,Z.Axis.units.x,G.normalized.series,Y,l.axisX),X=a=void 0===l.axisY.type?new Z.AutoScaleAxis(Z.Axis.units.y,G.normalized.series,Y,Z.extend({},l.axisY,{highLow:d,referenceValue:0})):l.axisY.type.call(Z,Z.Axis.units.y,G.normalized.series,Y,Z.extend({},l.axisY,{highLow:d,referenceValue:0})));var n=l.horizontalBars?Y.x1+X.projectValue(0):Y.y1-X.projectValue(0),i=[];u.createGridAndLabels(m,c,this.supportsForeignObject,l,this.eventEmitter),X.createGridAndLabels(m,c,this.supportsForeignObject,l,this.eventEmitter),l.showGridBackground&&Z.createGridBackground(m,Y,l.classNames.gridBackground,this.eventEmitter),G.raw.series.forEach(function(b,d){var m,c,h=d-(G.raw.series.length-1)/2;m=l.distributeSeries&&!l.stackBars?u.axisLength/G.normalized.series.length/2:l.distributeSeries&&l.stackBars?u.axisLength/2:u.axisLength/G.normalized.series[d].length/2,(c=W.elem("g")).attr({"ct:series-name":b.name,"ct:meta":Z.serialize(b.meta)}),c.addClass([l.classNames.series,b.className||l.classNames.series+"-"+Z.alphaNumerate(d)].join(" ")),G.normalized.series[d].forEach(function(W,V){var p,s,y,t;if(t=l.distributeSeries&&!l.stackBars?d:l.distributeSeries&&l.stackBars?0:V,p=l.horizontalBars?{x:Y.x1+X.projectValue(W&&W.x?W.x:0,V,G.normalized.series[d]),y:Y.y1-u.projectValue(W&&W.y?W.y:0,t,G.normalized.series[d])}:{x:Y.x1+u.projectValue(W&&W.x?W.x:0,t,G.normalized.series[d]),y:Y.y1-X.projectValue(W&&W.y?W.y:0,V,G.normalized.series[d])},u instanceof Z.StepAxis&&(u.options.stretch||(p[u.units.pos]+=m*(l.horizontalBars?-1:1)),p[u.units.pos]+=l.stackBars||l.distributeSeries?0:h*l.seriesBarDistance*(l.horizontalBars?-1:1)),y=i[V]||n,i[V]=y-(n-p[u.counterUnits.pos]),void 0!==W){var L={};L[u.units.pos+"1"]=p[u.units.pos],L[u.units.pos+"2"]=p[u.units.pos],!l.stackBars||"accumulate"!==l.stackMode&&l.stackMode?(L[u.counterUnits.pos+"1"]=n,L[u.counterUnits.pos+"2"]=p[u.counterUnits.pos]):(L[u.counterUnits.pos+"1"]=y,L[u.counterUnits.pos+"2"]=i[V]),L.x1=Math.min(Math.max(L.x1,Y.x1),Y.x2),L.x2=Math.min(Math.max(L.x2,Y.x1),Y.x2),L.y1=Math.min(Math.max(L.y1,Y.y2),Y.y1),L.y2=Math.min(Math.max(L.y2,Y.y2),Y.y1);var o=Z.getMetaData(b,V);s=c.elem("line",L,l.classNames.bar).attr({"ct:value":[W.x,W.y].filter(Z.isNumeric).join(","),"ct:meta":Z.serialize(o)}),this.eventEmitter.emit("draw",Z.extend({type:"bar",value:W,index:V,meta:o,series:b,seriesIndex:d,axisX:R,axisY:a,chartRect:Y,group:c,element:s},L))}}.bind(this))}.bind(this)),this.eventEmitter.emit("created",{bounds:X.bounds,chartRect:Y,axisX:R,axisY:a,svg:this.svg,options:l})}})}(this||b,l),function(l,Z){"use strict";l.window,l.document;var b={width:void 0,height:void 0,chartPadding:5,classNames:{chartPie:"ct-chart-pie",chartDonut:"ct-chart-donut",series:"ct-series",slicePie:"ct-slice-pie",sliceDonut:"ct-slice-donut",sliceDonutSolid:"ct-slice-donut-solid",label:"ct-label"},startAngle:0,total:void 0,donut:!1,donutSolid:!1,donutWidth:60,showLabel:!0,labelOffset:0,labelPosition:"inside",labelInterpolationFnc:Z.noop,labelDirection:"neutral",reverseData:!1,ignoreEmptyValues:!1};function G(l,Z,b){var G=Z.x>l.x;return G&&"explode"===b||!G&&"implode"===b?"start":G&&"implode"===b||!G&&"explode"===b?"end":"middle"}Z.Pie=Z.Base.extend({constructor:function(l,G,d,m){Z.Pie.super.constructor.call(this,l,G,b,Z.extend({},b,d),m)},createChart:function(l){var d,m,W,c,h,X=Z.normalizeData(this.data),V=[],u=l.startAngle;this.svg=Z.createSvg(this.container,l.width,l.height,l.donut?l.classNames.chartDonut:l.classNames.chartPie),m=Z.createChartRect(this.svg,l,b.padding),W=Math.min(m.width()/2,m.height()/2),h=l.total||X.normalized.series.reduce((function(l,Z){return l+Z}),0);var R=Z.quantity(l.donutWidth);"%"===R.unit&&(R.value*=W/100),W-=l.donut&&!l.donutSolid?R.value/2:0,c="outside"===l.labelPosition||l.donut&&!l.donutSolid?W:"center"===l.labelPosition?0:l.donutSolid?W-R.value/2:W/2,c+=l.labelOffset;var a={x:m.x1+m.width()/2,y:m.y2+m.height()/2},Y=1===X.raw.series.filter((function(l){return l.hasOwnProperty("value")?0!==l.value:0!==l})).length;X.raw.series.forEach(function(l,Z){V[Z]=this.svg.elem("g",null,null)}.bind(this)),l.showLabel&&(d=this.svg.elem("g",null,null)),X.raw.series.forEach(function(b,m){if(0!==X.normalized.series[m]||!l.ignoreEmptyValues){V[m].attr({"ct:series-name":b.name}),V[m].addClass([l.classNames.series,b.className||l.classNames.series+"-"+Z.alphaNumerate(m)].join(" "));var n=h>0?u+X.normalized.series[m]/h*360:0,i=Math.max(0,u-(0===m||Y?0:.2));n-i>=359.99&&(n=i+359.99);var p,s,y,t=Z.polarToCartesian(a.x,a.y,W,i),L=Z.polarToCartesian(a.x,a.y,W,n),o=new Z.Svg.Path(!l.donut||l.donutSolid).move(L.x,L.y).arc(W,W,0,n-u>180,0,t.x,t.y);l.donut?l.donutSolid&&(y=W-R.value,p=Z.polarToCartesian(a.x,a.y,y,u-(0===m||Y?0:.2)),s=Z.polarToCartesian(a.x,a.y,y,n),o.line(p.x,p.y),o.arc(y,y,0,n-u>180,1,s.x,s.y)):o.line(a.x,a.y);var F=l.classNames.slicePie;l.donut&&(F=l.classNames.sliceDonut,l.donutSolid&&(F=l.classNames.sliceDonutSolid));var x=V[m].elem("path",{d:o.stringify()},F);if(x.attr({"ct:value":X.normalized.series[m],"ct:meta":Z.serialize(b.meta)}),l.donut&&!l.donutSolid&&(x._node.style.strokeWidth=R.value+"px"),this.eventEmitter.emit("draw",{type:"slice",value:X.normalized.series[m],totalDataSum:h,index:m,meta:b.meta,series:b,group:V[m],element:x,path:o.clone(),center:a,radius:W,startAngle:u,endAngle:n}),l.showLabel){var J,I;J=1===X.raw.series.length?{x:a.x,y:a.y}:Z.polarToCartesian(a.x,a.y,c,u+(n-u)/2),I=X.normalized.labels&&!Z.isFalseyButZero(X.normalized.labels[m])?X.normalized.labels[m]:X.normalized.series[m];var S=l.labelInterpolationFnc(I,m);if(S||0===S){var N=d.elem("text",{dx:J.x,dy:J.y,"text-anchor":G(a,J,l.labelDirection)},l.classNames.label).text(""+S);this.eventEmitter.emit("draw",{type:"label",index:m,group:d,element:N,text:""+S,x:J.x,y:J.y})}}u=n}}.bind(this)),this.eventEmitter.emit("created",{chartRect:m,svg:this.svg,options:l})},determineAnchorPosition:G})}(this||b,l),l}()}.apply(Z,[]))||(l.exports=G)}).call(this,b(32))},function(l,Z,b){"use strict";l.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(l,Z){l.exports=__WEBPACK_EXTERNAL_MODULE__8__},function(l,Z){l.exports=__WEBPACK_EXTERNAL_MODULE__9__},function(l,Z){l.exports={executeLayout:function(l,Z,b,G){if(l.isEnabled()){l.getModel().beginUpdate();try{Z()}catch(l){throw l}finally{l.getModel().endUpdate(),null!=G&&G()}}},executeLayoutList:function(l,Z,b){for(var G=l.getSelectionCells(),d=0;d<Z.length;d++){var m=new window[Z[d].layout](l);if(null!=Z[d].config)for(var W in Z[d].config)m[W]=Z[d].config[W];this.executeLayout(l,(function(){m.execute(l.getDefaultParent(),0===G.length?null:G)}),d===Z.length-1,b)}},csvToArray:function(l){if(!/^\s*(?:'[^'\\]*(?:\\[\S\s][^'\\]*)*'|"[^"\\]*(?:\\[\S\s][^"\\]*)*"|[^,'"\s\\]*(?:\s+[^,'"\s\\]+)*)\s*(?:,\s*(?:'[^'\\]*(?:\\[\S\s][^'\\]*)*'|"[^"\\]*(?:\\[\S\s][^"\\]*)*"|[^,'"\s\\]*(?:\s+[^,'"\s\\]+)*)\s*)*$/.test(l))return null;var Z=[];return l.replace(/(?!\s*$)\s*(?:'([^'\\]*(?:\\[\S\s][^'\\]*)*)'|"([^"\\]*(?:\\[\S\s][^"\\]*)*)"|([^,'"\s\\]*(?:\s+[^,'"\s\\]+)*))\s*(?:,|$)/g,(function(l,b,G,d){return void 0!==b?Z.push(b.replace(/\\'/g,"'")):void 0!==G?Z.push(G.replace(/\\"/g,'"')):void 0!==d&&Z.push(d),""})),/,\s*$/.test(l)&&Z.push(""),Z},importCsv:function(l,Z){try{var b=Z.split("\n"),G=[],d=[],m={};if(b.length>0){var W={},c=null,h=null,X=null,V=null,u=null,R=null,a=null,Y=null,n="",i="auto",p="auto",s=null,y=null,t=40,L=40,o=100,F=0,x=(l.view,l.getGraphBounds(),function(){}),J=l.getFreeInsertPoint(),I=J.x,S=J.y,N=S,K=null,e="auto";Y=null;for(var k=[],U=null,T=null,C=0;C<b.length&&"#"===b[C].charAt(0);){for(Z=b[C],C++;C<b.length&&"\\"===Z.charAt(Z.length-1)&&"#"===b[C].charAt(0);)Z=Z.substring(0,Z.length-1)+mxUtils.trim(b[C].substring(1)),C++;if("#"!==Z.charAt(1)){var z=Z.indexOf(":");if(z>0){var v=mxUtils.trim(Z.substring(1,z)),E=mxUtils.trim(Z.substring(z+1));"label"===v?K=l.sanitizeHtml(E):"labelname"===v&&E.length>0&&"-"!==E?V=E:"labels"===v&&E.length>0&&"-"!==E?u=JSON.parse(E):"style"===v?c=E:"parentstyle"===v?R=E:"stylename"===v&&E.length>0&&"-"!==E?X=E:"styles"===v&&E.length>0&&"-"!==E?h=JSON.parse(E):"identity"===v&&E.length>0&&"-"!==E?a=E:"parent"===v&&E.length>0&&"-"!==E?Y=E:"namespace"===v&&E.length>0&&"-"!==E?n=E:"width"===v?i=E:"height"===v?p=E:"left"===v&&E.length>0?s=E:"top"===v&&E.length>0?y=E:"ignore"===v?T=E.split(","):"connect"===v?k.push(JSON.parse(E)):"link"===v?U=E:"padding"===v?F=parseFloat(E):"edgespacing"===v?t=parseFloat(E):"nodespacing"===v?L=parseFloat(E):"levelspacing"===v?o=parseFloat(E):"layout"===v&&(e=E)}}}if(null==b[C])throw new Error(mxResources.get("invalidOrMissingFile"));for(var H=this.csvToArray(b[C]),M=null,w=null,Q=[],B=0;B<H.length;B++)a===H[B]&&(M=B),Y===H[B]&&(w=B),Q.push(mxUtils.trim(H[B]).replace(/[^a-z0-9]+/gi,"_").replace(/^\d+/,"").replace(/_+$/,""));if(null==K&&(K="%"+Q[0]+"%"),null!=k)for(var j=0;j<k.length;j++)null==W[k[j].to]&&(W[k[j].to]={});for(var g=[],P=C+1;P<b.length;P++){var r=this.csvToArray(b[P]);if(null==r){var D=b[P].length>40?b[P].substring(0,40)+"...":b[P];throw new Error(D+" ("+P+"):\n"+mxResources.get("containsValidationErrors"))}r.length>0&&g.push(r)}l.model.beginUpdate();try{for(var O=0;O<g.length;O++){var f=g[O],A=null,_=null!=M?n+f[M]:null;null!=_&&(A=l.model.getCell(_));var q=null!=A,$=new mxCell(K,new mxGeometry(I,N,0,0),c||"whiteSpace=wrap;html=1;");$.vertex=!0,$.id=_;for(var ll=0;ll<f.length;ll++)l.setAttributeForCell($,Q[ll],f[ll]);if(null!=V&&null!=u){var Zl=u[$.getAttribute(V)];null!=Zl&&l.labelChanged($,Zl)}if(null!=X&&null!=h){var bl=h[$.getAttribute(X)];null!=bl&&($.style=bl)}if(l.setAttributeForCell($,"placeholders","1"),$.style=l.replacePlaceholders($,$.style),q&&(l.model.setGeometry(A,$.geometry),l.model.setStyle(A,$.style),mxUtils.indexOf(d,A)<0&&d.push(A)),A=$,!q)for(var Gl=0;Gl<k.length;Gl++)W[k[Gl].to][A.getAttribute(k[Gl].to)]=A;null!=U&&"link"!==U&&(l.setLinkForCell(A,A.getAttribute(U)),l.setAttributeForCell(A,U,null)),l.fireEvent(new mxEventObject("cellsInserted","cells",[A]));var dl=l.getPreferredSizeForCell(A);A.vertex&&(null!=s&&null!=A.getAttribute(s)&&(A.geometry.x=I+parseFloat(A.getAttribute(s))),null!=y&&null!=A.getAttribute(y)&&(A.geometry.y=S+parseFloat(A.getAttribute(y))),"@"===i.charAt(0)&&null!=A.getAttribute(i.substring(1))?A.geometry.width=parseFloat(A.getAttribute(i.substring(1))):A.geometry.width="auto"===i?dl.width+F:parseFloat(i),"@"===p.charAt(0)&&null!=A.getAttribute(p.substring(1))?A.geometry.height=parseFloat(A.getAttribute(p.substring(1))):A.geometry.height="auto"===p?dl.height+F:parseFloat(p),N+=A.geometry.height+L),q?(null==m[_]&&(m[_]=[]),m[_].push(A)):(Y=null!=w?l.model.getCell(n+f[w]):null,G.push(A),null!=Y?(Y.style=l.replacePlaceholders(Y,R),l.addCell(A,Y)):d.push(l.addCell(A)))}for(var ml=d.slice(),Wl=d.slice(),cl=0;cl<k.length;cl++)for(var hl=k[cl],Xl=0;Xl<G.length;Xl++){A=G[Xl];var Vl=mxUtils.bind(this,(function(Z,b,G){var d=b.getAttribute(G.from);if(null!=d&&(l.setAttributeForCell(b,G.from,null),""!==d))for(var m=d.split(","),c=0;c<m.length;c++){var h=W[G.to][m[c]];if(null!=h){var X=G.label;null!=G.fromlabel&&(X=(b.getAttribute(G.fromlabel)||"")+(X||"")),null!=G.tolabel&&(X=(X||"")+(h.getAttribute(G.tolabel)||""));var V="target"===G.placeholders==!G.invert?h:Z,u=null!=G.style?l.replacePlaceholders(V,G.style):l.createCurrentEdgeStyle();Wl.push(l.insertEdge(null,null,X||"",G.invert?h:Z,G.invert?Z:h,u)),mxUtils.remove(G.invert?Z:h,ml)}}}));if(Vl(A,A,hl),null!=m[A.id])for(var ul=0;ul<m[A.id].length;ul++)Vl(A,m[A.id][ul],hl)}if(null!=T)for(var Rl=0;Rl<G.length;Rl++){A=G[Rl];for(var al=0;al<T.length;al++)l.setAttributeForCell(A,mxUtils.trim(T[al]),null)}if(d.length>0){var Yl=new mxParallelEdgeLayout(l);Yl.spacing=t;var nl=function(){Yl.spacing>0&&Yl.execute(l.getDefaultParent());for(var Z=0;Z<d.length;Z++){var b=l.getCellGeometry(d[Z]);b.x=Math.round(l.snap(b.x)),b.y=Math.round(l.snap(b.y)),"auto"===i&&(b.width=Math.round(l.snap(b.width))),"auto"===p&&(b.height=Math.round(l.snap(b.height)))}};if("["===e.charAt(0)){var il=x;l.view.validate(),this.executeLayoutList(l,JSON.parse(e),(function(){nl(),il()})),x=null}else if("circle"===e){var pl=new mxCircleLayout(l);pl.resetEdges=!1;var sl=pl.isVertexIgnored;pl.isVertexIgnored=function(l){return sl.apply(this,arguments)||mxUtils.indexOf(d,l)<0},this.executeLayout(l,(function(){pl.execute(l.getDefaultParent()),nl()}),!0,x),x=null}else if("horizontaltree"===e||"verticaltree"===e||"auto"===e&&Wl.length===2*d.length-1&&1===ml.length){l.view.validate();var yl=new mxCompactTreeLayout(l,"horizontaltree"===e);yl.levelDistance=L,yl.edgeRouting=!1,yl.resetEdges=!1,this.executeLayout(l,(function(){yl.execute(l.getDefaultParent(),ml.length>0?ml[0]:null)}),!0,x),x=null}else if("horizontalflow"===e||"verticalflow"===e||"auto"===e&&1===ml.length){l.view.validate();var tl=new mxHierarchicalLayout(l,"horizontalflow"===e?mxConstants.DIRECTION_WEST:mxConstants.DIRECTION_NORTH);tl.intraCellSpacing=L,tl.parallelEdgeSpacing=t,tl.interRankCellSpacing=o,tl.disableEdgeStyle=!1,this.executeLayout(l,(function(){tl.execute(l.getDefaultParent(),Wl),l.moveCells(Wl,I,S)}),!0,x),x=null}else if("organic"===e||"auto"===e&&Wl.length>d.length){l.view.validate();var Ll=new mxFastOrganicLayout(l);Ll.forceConstant=3*L,Ll.resetEdges=!1;var ol=Ll.isVertexIgnored;Ll.isVertexIgnored=function(l){return ol.apply(this,arguments)||mxUtils.indexOf(d,l)<0},(Yl=new mxParallelEdgeLayout(l)).spacing=t,this.executeLayout(l,(function(){Ll.execute(l.getDefaultParent()),nl()}),!0,x),x=null}}}finally{l.model.endUpdate()}null!=x&&x()}}catch(j){console.log(j)}},anonymize:function(l){var Z=document.createElement("div"),b=l.model,G=function(l,Z){for(var b=[],G=0;G<l.length;G++){var d=l.charAt(G);"\n\t`~!@#$%^&*()_+{}|:\"<>?-=[];'./,\n\t".indexOf(d)>=0?b.push(d):isNaN(parseInt(d))?d.toLowerCase()!==d?b.push(String.fromCharCode(65+Math.round(25*Math.random()))):d.toUpperCase()!==d?b.push(String.fromCharCode(97+Math.round(25*Math.random()))):/\s/.test(d)?b.push(" "):b.push("?"):b.push(Z?"0":Math.round(9*Math.random()))}return b.join("")},d=function(l){return Z.innerHTML=l,function l(Z){if(null!=Z.nodeValue&&(Z.nodeValue=G(Z.nodeValue)),Z.nodeType===mxConstants.NODETYPE_ELEMENT)for(var b=Z.firstChild;null!=b;)l(b),b=b.nextSibling}(Z),Z.innerHTML};b.beginUpdate();try{var m=[];for(var W in b.cells){var c=b.cells[W],h=l.getLabel(c);h=l.isHtmlLabel(c)?d(h):G(h),m.push({cell:c,label:h})}for(var X=0;X<m.length;X++)b.setValue(m[X].cell,m[X].label)}finally{b.endUpdate()}},addExtFont:function(l,Z,b){if(l&&Z){var G="extFont_"+l;if(null===document.getElementById(G))if(0===Z.indexOf(Editor.GOOGLE_FONTS))mxClient.link("stylesheet",Z,null,G);else{document.getElementsByTagName("head")[0];var d=document.createElement("style");d.appendChild(document.createTextNode('@font-face {\n\tfont-family: "'+l+'";\n\tsrc: url("'+Z+'");\n}')),d.setAttribute("id",G),document.getElementsByTagName("head")[0].appendChild(d)}if(!b){null==this.extFonts&&(this.extFonts=[]);for(var m=this.extFonts,W=!0,c=0;c<m.length;c++)if(m[c].name===l){W=!1;break}W&&this.extFonts.push({name:l,url:Z})}}}}},function(l,Z,b){"use strict";l.exports=function(l,Z,b,G){for(var d=65535&l|0,m=l>>>16&65535|0,W=0;0!==b;){b-=W=b>2e3?2e3:b;do{m=m+(d=d+Z[G++]|0)|0}while(--W);d%=65521,m%=65521}return d|m<<16|0}},function(l,Z,b){"use strict";var G=function(){for(var l,Z=[],b=0;b<256;b++){l=b;for(var G=0;G<8;G++)l=1&l?3988292384^l>>>1:l>>>1;Z[b]=l}return Z}();l.exports=function(l,Z,b,d){var m=G,W=d+b;l^=-1;for(var c=d;c<W;c++)l=l>>>8^m[255&(l^Z[c])];return-1^l}},function(l,Z,b){"use strict";var G=b(3),d=!0,m=!0;try{String.fromCharCode.apply(null,[0])}catch(l){d=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(l){m=!1}for(var W=new G.Buf8(256),c=0;c<256;c++)W[c]=c>=252?6:c>=248?5:c>=240?4:c>=224?3:c>=192?2:1;function h(l,Z){if(Z<65534&&(l.subarray&&m||!l.subarray&&d))return String.fromCharCode.apply(null,G.shrinkBuf(l,Z));for(var b="",W=0;W<Z;W++)b+=String.fromCharCode(l[W]);return b}W[254]=W[254]=1,Z.string2buf=function(l){var Z,b,d,m,W,c=l.length,h=0;for(m=0;m<c;m++)55296==(64512&(b=l.charCodeAt(m)))&&m+1<c&&56320==(64512&(d=l.charCodeAt(m+1)))&&(b=65536+(b-55296<<10)+(d-56320),m++),h+=b<128?1:b<2048?2:b<65536?3:4;for(Z=new G.Buf8(h),W=0,m=0;W<h;m++)55296==(64512&(b=l.charCodeAt(m)))&&m+1<c&&56320==(64512&(d=l.charCodeAt(m+1)))&&(b=65536+(b-55296<<10)+(d-56320),m++),b<128?Z[W++]=b:b<2048?(Z[W++]=192|b>>>6,Z[W++]=128|63&b):b<65536?(Z[W++]=224|b>>>12,Z[W++]=128|b>>>6&63,Z[W++]=128|63&b):(Z[W++]=240|b>>>18,Z[W++]=128|b>>>12&63,Z[W++]=128|b>>>6&63,Z[W++]=128|63&b);return Z},Z.buf2binstring=function(l){return h(l,l.length)},Z.binstring2buf=function(l){for(var Z=new G.Buf8(l.length),b=0,d=Z.length;b<d;b++)Z[b]=l.charCodeAt(b);return Z},Z.buf2string=function(l,Z){var b,G,d,m,c=Z||l.length,X=new Array(2*c);for(G=0,b=0;b<c;)if((d=l[b++])<128)X[G++]=d;else if((m=W[d])>4)X[G++]=65533,b+=m-1;else{for(d&=2===m?31:3===m?15:7;m>1&&b<c;)d=d<<6|63&l[b++],m--;m>1?X[G++]=65533:d<65536?X[G++]=d:(d-=65536,X[G++]=55296|d>>10&1023,X[G++]=56320|1023&d)}return h(X,G)},Z.utf8border=function(l,Z){var b;for((Z=Z||l.length)>l.length&&(Z=l.length),b=Z-1;b>=0&&128==(192&l[b]);)b--;return b<0||0===b?Z:b+W[l[b]]>Z?b:Z}},function(l,Z,b){"use strict";l.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(l,Z,b){"use strict";l.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(l,Z){l.exports=__WEBPACK_EXTERNAL_MODULE__16__},function(l,Z){l.exports=__WEBPACK_EXTERNAL_MODULE__17__},function(l){l.exports=JSON.parse('{"type":"panel","name":"FlowCharting","id":"agenty-flowcharting-panel","info":{"description":"Flowcharting is a Grafana plugin. Use it to display complexe diagrams using the online graphing library draw.io like a vsio","author":{"name":"Arnaud GENTY","url":"https://github.com/algenty/grafana-flowcharting"},"keywords":["flowchart","panel","diagram","workflow","floorplan","map","organigram","draw.io","visio","mxgraph"],"links":[{"name":"Project site","url":"https://github.com/algenty/grafana-flowcharting"},{"name":"Documentation","url":"https://algenty.github.io/flowcharting-repository/"},{"name":"Demonstration","url":"https://play.grafana.org/d/Unu5JcjWk/flowcharting-index?orgId=1"},{"name":"Apache License","url":"https://github.com/algenty/grafana-flowcharting/blob/master/LICENSE"}],"version":"1.0.0","updated":"2019-05-31","logos":{"small":"img/agenty-flowcharting.svg","large":"img/agenty-flowcharting.svg"}},"dependencies":{"grafanaVersion":"6.x.x","plugins":[]}}')},function(l,Z,b){var G=b(20),d=b(29),m=b(30);l.exports={stringToBytes:function(l){for(var Z=new Array(l.length),b=0;b<l.length;b+=1)Z[b]=l.charCodeAt(b);return Z},bytesToString:function(l){for(var Z="",b=0;b<l.length;b+=1)Z+=String.fromCharCode(l[b]);return Z},encode:function(l,Z,b,d){var m=l;if(Z)try{m=encodeURIComponent(m)}catch(l){return void console.error(l)}if(b&&m.length>0)try{m=this.bytesToString(G.deflateRaw(m))}catch(l){return void console.error(l)}if(d)try{m=btoa(m)}catch(l){return void console.error(l)}return m},removeLinebreaks:function(l){return l.replace(/(\r\n|\n|\r)/gm,"")},isencoded:function(l){try{var Z=this.parseXml(l).documentElement;if(null==Z||"mxfile"!==Z.nodeName)return-1===l.indexOf("mxGraphModel");if(Z.getElementsByTagName("diagram").length>0)return!0}catch(l){return!0}return!1},decode:function(l,Z,b,d){try{var m=this.parseXml(l).documentElement;if(null!=m&&"mxfile"===m.nodeName){var W=m.getElementsByTagName("diagram");W.length>0&&(l=this.getTextContent(W[0]))}}catch(l){}return d&&(l=atob(l)),b&&l.length>0&&(l=this.bytesToString(G.inflateRaw(l))),Z&&(l=decodeURIComponent(l)),l},parseXml:function(l){if(window.DOMParser)return(new DOMParser).parseFromString(l,"text/xml");var Z=this.createXmlDocument();return Z.async="false",Z.loadXML(l),Z},createXmlDocument:function(){var l=null;return document.implementation&&document.implementation.createDocument?l=document.implementation.createDocument("","",null):window.ActiveXObject&&(l=new ActiveXObject("Microsoft.XMLDOM")),l},decodeFromUri:function(l){try{l=decodeURIComponent(l)}catch(l){return void console.error(l)}return l},getTextContent:function(l){return null!=l?l[void 0===l.textContent?"text":"textContent"]:""},normalizeXml:function(l){try{var Z=l;return Z=(Z=Z.replace(/>\s*/g,">")).replace(/\s*</g,"<"),l}catch(l){return}},sleep:function(l,Z){var b;return regeneratorRuntime.async((function(G){for(;;)switch(G.prev=G.next){case 0:return b=function(l){return new Promise((function(Z){return setTimeout(Z,l)}))},G.next=3,regeneratorRuntime.awrap(b(l));case 3:Z&&console.log(Z);case 4:case"end":return G.stop()}}))},uniqueID:function(){function l(){return Math.random().toString(16).slice(-4)}return"".concat(l()+l(),"-").concat(l(),"-").concat(l(),"-").concat(l(),"-").concat(l()).concat(l()).concat(l())},stringToJsRegex:function(l){if("/"!==l[0])return new RegExp("^".concat(l,"$"));var Z=l.match(new RegExp("^/(.*?)/(g?i?m?y?)$"));return new RegExp(Z[1],Z[2])},matchString:function(l,Z){var b=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(null==l||null==Z||0===l.length||0===Z.length)return!1;if(l===Z)return!0;if(b){var G=this.stringToJsRegex(Z);return l.toString().match(G)}return!1},minify:function(l){try{return d.xmlmin(l,!1)}catch(Z){return this.log(3,"Error in minify",Z),l}},prettify:function(l){try{return d.xml(l)}catch(Z){return this.log(3,"Error in prettify",Z),l}},prettifyJSON:function(l){try{return d.json(l)}catch(Z){return this.log(3,"Error in prettify",Z),l}},addScript:function(l){var Z=document.createElement("script");Z.setAttribute("type","text/javascript"),Z.setAttribute("src",l);var b=document.getElementsByTagName("script")[0];null!=b&&b.parentNode.insertBefore(Z,b)},loadJS:function(l){try{var Z=this.loadFile(l);Z&&this.evalRaw(Z)}catch(Z){null!=window.console&&console.error("LoadJS failed:",l,Z)}},loadFile:function(l){try{var Z=mxUtils.load(l);if(null!=Z&&Z.getStatus()>=200&&Z.getStatus()<=299)return Z.getText()}catch(Z){null!=window.console&&console.error("Error loadFile:",l,Z)}},$loadFile:function(l){var Z;return $.ajax({type:"GET",url:l,async:!1,success:function(l){Z=l},error:function(Z){console.log("Error when download "+l)}}),Z},$evalFile:function(l){$.ajax({type:"GET",url:l,async:!1,success:function(l){eval.call(window,l)},error:function(Z){console.log("Error when download/eval "+l)}})},evalRaw:function(l){try{eval.call(window,l)}catch(l){null!=window.console&&console.error("Error eval.call : ",l)}},evalIt:function(l){var Z=l;try{Z=m(l)}catch(b){Z=l}return Z},getfileContent:function(l){function Z(Z){return l.apply(this,arguments)}return Z.toString=function(){return l.toString()},Z}((function(l){!function(){var Z,b;regeneratorRuntime.async((function(G){for(;;)switch(G.prev=G.next){case 0:return G.next=2,regeneratorRuntime.awrap(fetch(l));case 2:return Z=G.sent,G.next=5,regeneratorRuntime.awrap(Z.text());case 5:b=G.sent,console.log(getfileContent,l,b);case 7:case"end":return G.stop()}}))}()}))}},function(l,Z,b){"use strict";var G={};(0,b(3).assign)(G,b(21),b(24),b(15)),l.exports=G},function(l,Z,b){"use strict";var G=b(22),d=b(3),m=b(13),W=b(7),c=b(14),h=Object.prototype.toString;function X(l){if(!(this instanceof X))return new X(l);this.options=d.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},l||{});var Z=this.options;Z.raw&&Z.windowBits>0?Z.windowBits=-Z.windowBits:Z.gzip&&Z.windowBits>0&&Z.windowBits<16&&(Z.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var b=G.deflateInit2(this.strm,Z.level,Z.method,Z.windowBits,Z.memLevel,Z.strategy);if(0!==b)throw new Error(W[b]);if(Z.header&&G.deflateSetHeader(this.strm,Z.header),Z.dictionary){var V;if(V="string"==typeof Z.dictionary?m.string2buf(Z.dictionary):"[object ArrayBuffer]"===h.call(Z.dictionary)?new Uint8Array(Z.dictionary):Z.dictionary,0!==(b=G.deflateSetDictionary(this.strm,V)))throw new Error(W[b]);this._dict_set=!0}}function V(l,Z){var b=new X(Z);if(b.push(l,!0),b.err)throw b.msg||W[b.err];return b.result}X.prototype.push=function(l,Z){var b,W,c=this.strm,X=this.options.chunkSize;if(this.ended)return!1;W=Z===~~Z?Z:!0===Z?4:0,"string"==typeof l?c.input=m.string2buf(l):"[object ArrayBuffer]"===h.call(l)?c.input=new Uint8Array(l):c.input=l,c.next_in=0,c.avail_in=c.input.length;do{if(0===c.avail_out&&(c.output=new d.Buf8(X),c.next_out=0,c.avail_out=X),1!==(b=G.deflate(c,W))&&0!==b)return this.onEnd(b),this.ended=!0,!1;0!==c.avail_out&&(0!==c.avail_in||4!==W&&2!==W)||("string"===this.options.to?this.onData(m.buf2binstring(d.shrinkBuf(c.output,c.next_out))):this.onData(d.shrinkBuf(c.output,c.next_out)))}while((c.avail_in>0||0===c.avail_out)&&1!==b);return 4===W?(b=G.deflateEnd(this.strm),this.onEnd(b),this.ended=!0,0===b):2!==W||(this.onEnd(0),c.avail_out=0,!0)},X.prototype.onData=function(l){this.chunks.push(l)},X.prototype.onEnd=function(l){0===l&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=d.flattenChunks(this.chunks)),this.chunks=[],this.err=l,this.msg=this.strm.msg},Z.Deflate=X,Z.deflate=V,Z.deflateRaw=function(l,Z){return(Z=Z||{}).raw=!0,V(l,Z)},Z.gzip=function(l,Z){return(Z=Z||{}).gzip=!0,V(l,Z)}},function(l,Z,b){"use strict";var G,d=b(3),m=b(23),W=b(11),c=b(12),h=b(7);function X(l,Z){return l.msg=h[Z],Z}function V(l){return(l<<1)-(l>4?9:0)}function u(l){for(var Z=l.length;--Z>=0;)l[Z]=0}function R(l){var Z=l.state,b=Z.pending;b>l.avail_out&&(b=l.avail_out),0!==b&&(d.arraySet(l.output,Z.pending_buf,Z.pending_out,b,l.next_out),l.next_out+=b,Z.pending_out+=b,l.total_out+=b,l.avail_out-=b,Z.pending-=b,0===Z.pending&&(Z.pending_out=0))}function a(l,Z){m._tr_flush_block(l,l.block_start>=0?l.block_start:-1,l.strstart-l.block_start,Z),l.block_start=l.strstart,R(l.strm)}function Y(l,Z){l.pending_buf[l.pending++]=Z}function n(l,Z){l.pending_buf[l.pending++]=Z>>>8&255,l.pending_buf[l.pending++]=255&Z}function i(l,Z){var b,G,d=l.max_chain_length,m=l.strstart,W=l.prev_length,c=l.nice_match,h=l.strstart>l.w_size-262?l.strstart-(l.w_size-262):0,X=l.window,V=l.w_mask,u=l.prev,R=l.strstart+258,a=X[m+W-1],Y=X[m+W];l.prev_length>=l.good_match&&(d>>=2),c>l.lookahead&&(c=l.lookahead);do{if(X[(b=Z)+W]===Y&&X[b+W-1]===a&&X[b]===X[m]&&X[++b]===X[m+1]){m+=2,b++;do{}while(X[++m]===X[++b]&&X[++m]===X[++b]&&X[++m]===X[++b]&&X[++m]===X[++b]&&X[++m]===X[++b]&&X[++m]===X[++b]&&X[++m]===X[++b]&&X[++m]===X[++b]&&m<R);if(G=258-(R-m),m=R-258,G>W){if(l.match_start=Z,W=G,G>=c)break;a=X[m+W-1],Y=X[m+W]}}}while((Z=u[Z&V])>h&&0!=--d);return W<=l.lookahead?W:l.lookahead}function p(l){var Z,b,G,m,h,X,V,u,R,a,Y=l.w_size;do{if(m=l.window_size-l.lookahead-l.strstart,l.strstart>=Y+(Y-262)){d.arraySet(l.window,l.window,Y,Y,0),l.match_start-=Y,l.strstart-=Y,l.block_start-=Y,Z=b=l.hash_size;do{G=l.head[--Z],l.head[Z]=G>=Y?G-Y:0}while(--b);Z=b=Y;do{G=l.prev[--Z],l.prev[Z]=G>=Y?G-Y:0}while(--b);m+=Y}if(0===l.strm.avail_in)break;if(X=l.strm,V=l.window,u=l.strstart+l.lookahead,R=m,a=void 0,(a=X.avail_in)>R&&(a=R),b=0===a?0:(X.avail_in-=a,d.arraySet(V,X.input,X.next_in,a,u),1===X.state.wrap?X.adler=W(X.adler,V,a,u):2===X.state.wrap&&(X.adler=c(X.adler,V,a,u)),X.next_in+=a,X.total_in+=a,a),l.lookahead+=b,l.lookahead+l.insert>=3)for(h=l.strstart-l.insert,l.ins_h=l.window[h],l.ins_h=(l.ins_h<<l.hash_shift^l.window[h+1])&l.hash_mask;l.insert&&(l.ins_h=(l.ins_h<<l.hash_shift^l.window[h+3-1])&l.hash_mask,l.prev[h&l.w_mask]=l.head[l.ins_h],l.head[l.ins_h]=h,h++,l.insert--,!(l.lookahead+l.insert<3)););}while(l.lookahead<262&&0!==l.strm.avail_in)}function s(l,Z){for(var b,G;;){if(l.lookahead<262){if(p(l),l.lookahead<262&&0===Z)return 1;if(0===l.lookahead)break}if(b=0,l.lookahead>=3&&(l.ins_h=(l.ins_h<<l.hash_shift^l.window[l.strstart+3-1])&l.hash_mask,b=l.prev[l.strstart&l.w_mask]=l.head[l.ins_h],l.head[l.ins_h]=l.strstart),0!==b&&l.strstart-b<=l.w_size-262&&(l.match_length=i(l,b)),l.match_length>=3)if(G=m._tr_tally(l,l.strstart-l.match_start,l.match_length-3),l.lookahead-=l.match_length,l.match_length<=l.max_lazy_match&&l.lookahead>=3){l.match_length--;do{l.strstart++,l.ins_h=(l.ins_h<<l.hash_shift^l.window[l.strstart+3-1])&l.hash_mask,b=l.prev[l.strstart&l.w_mask]=l.head[l.ins_h],l.head[l.ins_h]=l.strstart}while(0!=--l.match_length);l.strstart++}else l.strstart+=l.match_length,l.match_length=0,l.ins_h=l.window[l.strstart],l.ins_h=(l.ins_h<<l.hash_shift^l.window[l.strstart+1])&l.hash_mask;else G=m._tr_tally(l,0,l.window[l.strstart]),l.lookahead--,l.strstart++;if(G&&(a(l,!1),0===l.strm.avail_out))return 1}return l.insert=l.strstart<2?l.strstart:2,4===Z?(a(l,!0),0===l.strm.avail_out?3:4):l.last_lit&&(a(l,!1),0===l.strm.avail_out)?1:2}function y(l,Z){for(var b,G,d;;){if(l.lookahead<262){if(p(l),l.lookahead<262&&0===Z)return 1;if(0===l.lookahead)break}if(b=0,l.lookahead>=3&&(l.ins_h=(l.ins_h<<l.hash_shift^l.window[l.strstart+3-1])&l.hash_mask,b=l.prev[l.strstart&l.w_mask]=l.head[l.ins_h],l.head[l.ins_h]=l.strstart),l.prev_length=l.match_length,l.prev_match=l.match_start,l.match_length=2,0!==b&&l.prev_length<l.max_lazy_match&&l.strstart-b<=l.w_size-262&&(l.match_length=i(l,b),l.match_length<=5&&(1===l.strategy||3===l.match_length&&l.strstart-l.match_start>4096)&&(l.match_length=2)),l.prev_length>=3&&l.match_length<=l.prev_length){d=l.strstart+l.lookahead-3,G=m._tr_tally(l,l.strstart-1-l.prev_match,l.prev_length-3),l.lookahead-=l.prev_length-1,l.prev_length-=2;do{++l.strstart<=d&&(l.ins_h=(l.ins_h<<l.hash_shift^l.window[l.strstart+3-1])&l.hash_mask,b=l.prev[l.strstart&l.w_mask]=l.head[l.ins_h],l.head[l.ins_h]=l.strstart)}while(0!=--l.prev_length);if(l.match_available=0,l.match_length=2,l.strstart++,G&&(a(l,!1),0===l.strm.avail_out))return 1}else if(l.match_available){if((G=m._tr_tally(l,0,l.window[l.strstart-1]))&&a(l,!1),l.strstart++,l.lookahead--,0===l.strm.avail_out)return 1}else l.match_available=1,l.strstart++,l.lookahead--}return l.match_available&&(G=m._tr_tally(l,0,l.window[l.strstart-1]),l.match_available=0),l.insert=l.strstart<2?l.strstart:2,4===Z?(a(l,!0),0===l.strm.avail_out?3:4):l.last_lit&&(a(l,!1),0===l.strm.avail_out)?1:2}function t(l,Z,b,G,d){this.good_length=l,this.max_lazy=Z,this.nice_length=b,this.max_chain=G,this.func=d}function L(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new d.Buf16(1146),this.dyn_dtree=new d.Buf16(122),this.bl_tree=new d.Buf16(78),u(this.dyn_ltree),u(this.dyn_dtree),u(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new d.Buf16(16),this.heap=new d.Buf16(573),u(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new d.Buf16(573),u(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function o(l){var Z;return l&&l.state?(l.total_in=l.total_out=0,l.data_type=2,(Z=l.state).pending=0,Z.pending_out=0,Z.wrap<0&&(Z.wrap=-Z.wrap),Z.status=Z.wrap?42:113,l.adler=2===Z.wrap?0:1,Z.last_flush=0,m._tr_init(Z),0):X(l,-2)}function F(l){var Z,b=o(l);return 0===b&&((Z=l.state).window_size=2*Z.w_size,u(Z.head),Z.max_lazy_match=G[Z.level].max_lazy,Z.good_match=G[Z.level].good_length,Z.nice_match=G[Z.level].nice_length,Z.max_chain_length=G[Z.level].max_chain,Z.strstart=0,Z.block_start=0,Z.lookahead=0,Z.insert=0,Z.match_length=Z.prev_length=2,Z.match_available=0,Z.ins_h=0),b}function x(l,Z,b,G,m,W){if(!l)return-2;var c=1;if(-1===Z&&(Z=6),G<0?(c=0,G=-G):G>15&&(c=2,G-=16),m<1||m>9||8!==b||G<8||G>15||Z<0||Z>9||W<0||W>4)return X(l,-2);8===G&&(G=9);var h=new L;return l.state=h,h.strm=l,h.wrap=c,h.gzhead=null,h.w_bits=G,h.w_size=1<<h.w_bits,h.w_mask=h.w_size-1,h.hash_bits=m+7,h.hash_size=1<<h.hash_bits,h.hash_mask=h.hash_size-1,h.hash_shift=~~((h.hash_bits+3-1)/3),h.window=new d.Buf8(2*h.w_size),h.head=new d.Buf16(h.hash_size),h.prev=new d.Buf16(h.w_size),h.lit_bufsize=1<<m+6,h.pending_buf_size=4*h.lit_bufsize,h.pending_buf=new d.Buf8(h.pending_buf_size),h.d_buf=1*h.lit_bufsize,h.l_buf=3*h.lit_bufsize,h.level=Z,h.strategy=W,h.method=b,F(l)}G=[new t(0,0,0,0,(function(l,Z){var b=65535;for(b>l.pending_buf_size-5&&(b=l.pending_buf_size-5);;){if(l.lookahead<=1){if(p(l),0===l.lookahead&&0===Z)return 1;if(0===l.lookahead)break}l.strstart+=l.lookahead,l.lookahead=0;var G=l.block_start+b;if((0===l.strstart||l.strstart>=G)&&(l.lookahead=l.strstart-G,l.strstart=G,a(l,!1),0===l.strm.avail_out))return 1;if(l.strstart-l.block_start>=l.w_size-262&&(a(l,!1),0===l.strm.avail_out))return 1}return l.insert=0,4===Z?(a(l,!0),0===l.strm.avail_out?3:4):(l.strstart>l.block_start&&(a(l,!1),l.strm.avail_out),1)})),new t(4,4,8,4,s),new t(4,5,16,8,s),new t(4,6,32,32,s),new t(4,4,16,16,y),new t(8,16,32,32,y),new t(8,16,128,128,y),new t(8,32,128,256,y),new t(32,128,258,1024,y),new t(32,258,258,4096,y)],Z.deflateInit=function(l,Z){return x(l,Z,8,15,8,0)},Z.deflateInit2=x,Z.deflateReset=F,Z.deflateResetKeep=o,Z.deflateSetHeader=function(l,Z){return l&&l.state?2!==l.state.wrap?-2:(l.state.gzhead=Z,0):-2},Z.deflate=function(l,Z){var b,d,W,h;if(!l||!l.state||Z>5||Z<0)return l?X(l,-2):-2;if(d=l.state,!l.output||!l.input&&0!==l.avail_in||666===d.status&&4!==Z)return X(l,0===l.avail_out?-5:-2);if(d.strm=l,b=d.last_flush,d.last_flush=Z,42===d.status)if(2===d.wrap)l.adler=0,Y(d,31),Y(d,139),Y(d,8),d.gzhead?(Y(d,(d.gzhead.text?1:0)+(d.gzhead.hcrc?2:0)+(d.gzhead.extra?4:0)+(d.gzhead.name?8:0)+(d.gzhead.comment?16:0)),Y(d,255&d.gzhead.time),Y(d,d.gzhead.time>>8&255),Y(d,d.gzhead.time>>16&255),Y(d,d.gzhead.time>>24&255),Y(d,9===d.level?2:d.strategy>=2||d.level<2?4:0),Y(d,255&d.gzhead.os),d.gzhead.extra&&d.gzhead.extra.length&&(Y(d,255&d.gzhead.extra.length),Y(d,d.gzhead.extra.length>>8&255)),d.gzhead.hcrc&&(l.adler=c(l.adler,d.pending_buf,d.pending,0)),d.gzindex=0,d.status=69):(Y(d,0),Y(d,0),Y(d,0),Y(d,0),Y(d,0),Y(d,9===d.level?2:d.strategy>=2||d.level<2?4:0),Y(d,3),d.status=113);else{var i=8+(d.w_bits-8<<4)<<8;i|=(d.strategy>=2||d.level<2?0:d.level<6?1:6===d.level?2:3)<<6,0!==d.strstart&&(i|=32),i+=31-i%31,d.status=113,n(d,i),0!==d.strstart&&(n(d,l.adler>>>16),n(d,65535&l.adler)),l.adler=1}if(69===d.status)if(d.gzhead.extra){for(W=d.pending;d.gzindex<(65535&d.gzhead.extra.length)&&(d.pending!==d.pending_buf_size||(d.gzhead.hcrc&&d.pending>W&&(l.adler=c(l.adler,d.pending_buf,d.pending-W,W)),R(l),W=d.pending,d.pending!==d.pending_buf_size));)Y(d,255&d.gzhead.extra[d.gzindex]),d.gzindex++;d.gzhead.hcrc&&d.pending>W&&(l.adler=c(l.adler,d.pending_buf,d.pending-W,W)),d.gzindex===d.gzhead.extra.length&&(d.gzindex=0,d.status=73)}else d.status=73;if(73===d.status)if(d.gzhead.name){W=d.pending;do{if(d.pending===d.pending_buf_size&&(d.gzhead.hcrc&&d.pending>W&&(l.adler=c(l.adler,d.pending_buf,d.pending-W,W)),R(l),W=d.pending,d.pending===d.pending_buf_size)){h=1;break}h=d.gzindex<d.gzhead.name.length?255&d.gzhead.name.charCodeAt(d.gzindex++):0,Y(d,h)}while(0!==h);d.gzhead.hcrc&&d.pending>W&&(l.adler=c(l.adler,d.pending_buf,d.pending-W,W)),0===h&&(d.gzindex=0,d.status=91)}else d.status=91;if(91===d.status)if(d.gzhead.comment){W=d.pending;do{if(d.pending===d.pending_buf_size&&(d.gzhead.hcrc&&d.pending>W&&(l.adler=c(l.adler,d.pending_buf,d.pending-W,W)),R(l),W=d.pending,d.pending===d.pending_buf_size)){h=1;break}h=d.gzindex<d.gzhead.comment.length?255&d.gzhead.comment.charCodeAt(d.gzindex++):0,Y(d,h)}while(0!==h);d.gzhead.hcrc&&d.pending>W&&(l.adler=c(l.adler,d.pending_buf,d.pending-W,W)),0===h&&(d.status=103)}else d.status=103;if(103===d.status&&(d.gzhead.hcrc?(d.pending+2>d.pending_buf_size&&R(l),d.pending+2<=d.pending_buf_size&&(Y(d,255&l.adler),Y(d,l.adler>>8&255),l.adler=0,d.status=113)):d.status=113),0!==d.pending){if(R(l),0===l.avail_out)return d.last_flush=-1,0}else if(0===l.avail_in&&V(Z)<=V(b)&&4!==Z)return X(l,-5);if(666===d.status&&0!==l.avail_in)return X(l,-5);if(0!==l.avail_in||0!==d.lookahead||0!==Z&&666!==d.status){var s=2===d.strategy?function(l,Z){for(var b;;){if(0===l.lookahead&&(p(l),0===l.lookahead)){if(0===Z)return 1;break}if(l.match_length=0,b=m._tr_tally(l,0,l.window[l.strstart]),l.lookahead--,l.strstart++,b&&(a(l,!1),0===l.strm.avail_out))return 1}return l.insert=0,4===Z?(a(l,!0),0===l.strm.avail_out?3:4):l.last_lit&&(a(l,!1),0===l.strm.avail_out)?1:2}(d,Z):3===d.strategy?function(l,Z){for(var b,G,d,W,c=l.window;;){if(l.lookahead<=258){if(p(l),l.lookahead<=258&&0===Z)return 1;if(0===l.lookahead)break}if(l.match_length=0,l.lookahead>=3&&l.strstart>0&&(G=c[d=l.strstart-1])===c[++d]&&G===c[++d]&&G===c[++d]){W=l.strstart+258;do{}while(G===c[++d]&&G===c[++d]&&G===c[++d]&&G===c[++d]&&G===c[++d]&&G===c[++d]&&G===c[++d]&&G===c[++d]&&d<W);l.match_length=258-(W-d),l.match_length>l.lookahead&&(l.match_length=l.lookahead)}if(l.match_length>=3?(b=m._tr_tally(l,1,l.match_length-3),l.lookahead-=l.match_length,l.strstart+=l.match_length,l.match_length=0):(b=m._tr_tally(l,0,l.window[l.strstart]),l.lookahead--,l.strstart++),b&&(a(l,!1),0===l.strm.avail_out))return 1}return l.insert=0,4===Z?(a(l,!0),0===l.strm.avail_out?3:4):l.last_lit&&(a(l,!1),0===l.strm.avail_out)?1:2}(d,Z):G[d.level].func(d,Z);if(3!==s&&4!==s||(d.status=666),1===s||3===s)return 0===l.avail_out&&(d.last_flush=-1),0;if(2===s&&(1===Z?m._tr_align(d):5!==Z&&(m._tr_stored_block(d,0,0,!1),3===Z&&(u(d.head),0===d.lookahead&&(d.strstart=0,d.block_start=0,d.insert=0))),R(l),0===l.avail_out))return d.last_flush=-1,0}return 4!==Z?0:d.wrap<=0?1:(2===d.wrap?(Y(d,255&l.adler),Y(d,l.adler>>8&255),Y(d,l.adler>>16&255),Y(d,l.adler>>24&255),Y(d,255&l.total_in),Y(d,l.total_in>>8&255),Y(d,l.total_in>>16&255),Y(d,l.total_in>>24&255)):(n(d,l.adler>>>16),n(d,65535&l.adler)),R(l),d.wrap>0&&(d.wrap=-d.wrap),0!==d.pending?0:1)},Z.deflateEnd=function(l){var Z;return l&&l.state?42!==(Z=l.state.status)&&69!==Z&&73!==Z&&91!==Z&&103!==Z&&113!==Z&&666!==Z?X(l,-2):(l.state=null,113===Z?X(l,-3):0):-2},Z.deflateSetDictionary=function(l,Z){var b,G,m,c,h,X,V,R,a=Z.length;if(!l||!l.state)return-2;if(2===(c=(b=l.state).wrap)||1===c&&42!==b.status||b.lookahead)return-2;for(1===c&&(l.adler=W(l.adler,Z,a,0)),b.wrap=0,a>=b.w_size&&(0===c&&(u(b.head),b.strstart=0,b.block_start=0,b.insert=0),R=new d.Buf8(b.w_size),d.arraySet(R,Z,a-b.w_size,b.w_size,0),Z=R,a=b.w_size),h=l.avail_in,X=l.next_in,V=l.input,l.avail_in=a,l.next_in=0,l.input=Z,p(b);b.lookahead>=3;){G=b.strstart,m=b.lookahead-2;do{b.ins_h=(b.ins_h<<b.hash_shift^b.window[G+3-1])&b.hash_mask,b.prev[G&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=G,G++}while(--m);b.strstart=G,b.lookahead=2,p(b)}return b.strstart+=b.lookahead,b.block_start=b.strstart,b.insert=b.lookahead,b.lookahead=0,b.match_length=b.prev_length=2,b.match_available=0,l.next_in=X,l.input=V,l.avail_in=h,b.wrap=c,0},Z.deflateInfo="pako deflate (from Nodeca project)"},function(l,Z,b){"use strict";var G=b(3);function d(l){for(var Z=l.length;--Z>=0;)l[Z]=0}var m=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],W=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],c=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],h=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],X=new Array(576);d(X);var V=new Array(60);d(V);var u=new Array(512);d(u);var R=new Array(256);d(R);var a=new Array(29);d(a);var Y,n,i,p=new Array(30);function s(l,Z,b,G,d){this.static_tree=l,this.extra_bits=Z,this.extra_base=b,this.elems=G,this.max_length=d,this.has_stree=l&&l.length}function y(l,Z){this.dyn_tree=l,this.max_code=0,this.stat_desc=Z}function t(l){return l<256?u[l]:u[256+(l>>>7)]}function L(l,Z){l.pending_buf[l.pending++]=255&Z,l.pending_buf[l.pending++]=Z>>>8&255}function o(l,Z,b){l.bi_valid>16-b?(l.bi_buf|=Z<<l.bi_valid&65535,L(l,l.bi_buf),l.bi_buf=Z>>16-l.bi_valid,l.bi_valid+=b-16):(l.bi_buf|=Z<<l.bi_valid&65535,l.bi_valid+=b)}function F(l,Z,b){o(l,b[2*Z],b[2*Z+1])}function x(l,Z){var b=0;do{b|=1&l,l>>>=1,b<<=1}while(--Z>0);return b>>>1}function J(l,Z,b){var G,d,m=new Array(16),W=0;for(G=1;G<=15;G++)m[G]=W=W+b[G-1]<<1;for(d=0;d<=Z;d++){var c=l[2*d+1];0!==c&&(l[2*d]=x(m[c]++,c))}}function I(l){var Z;for(Z=0;Z<286;Z++)l.dyn_ltree[2*Z]=0;for(Z=0;Z<30;Z++)l.dyn_dtree[2*Z]=0;for(Z=0;Z<19;Z++)l.bl_tree[2*Z]=0;l.dyn_ltree[512]=1,l.opt_len=l.static_len=0,l.last_lit=l.matches=0}function S(l){l.bi_valid>8?L(l,l.bi_buf):l.bi_valid>0&&(l.pending_buf[l.pending++]=l.bi_buf),l.bi_buf=0,l.bi_valid=0}function N(l,Z,b,G){var d=2*Z,m=2*b;return l[d]<l[m]||l[d]===l[m]&&G[Z]<=G[b]}function K(l,Z,b){for(var G=l.heap[b],d=b<<1;d<=l.heap_len&&(d<l.heap_len&&N(Z,l.heap[d+1],l.heap[d],l.depth)&&d++,!N(Z,G,l.heap[d],l.depth));)l.heap[b]=l.heap[d],b=d,d<<=1;l.heap[b]=G}function e(l,Z,b){var G,d,c,h,X=0;if(0!==l.last_lit)do{G=l.pending_buf[l.d_buf+2*X]<<8|l.pending_buf[l.d_buf+2*X+1],d=l.pending_buf[l.l_buf+X],X++,0===G?F(l,d,Z):(F(l,(c=R[d])+256+1,Z),0!==(h=m[c])&&o(l,d-=a[c],h),F(l,c=t(--G),b),0!==(h=W[c])&&o(l,G-=p[c],h))}while(X<l.last_lit);F(l,256,Z)}function k(l,Z){var b,G,d,m=Z.dyn_tree,W=Z.stat_desc.static_tree,c=Z.stat_desc.has_stree,h=Z.stat_desc.elems,X=-1;for(l.heap_len=0,l.heap_max=573,b=0;b<h;b++)0!==m[2*b]?(l.heap[++l.heap_len]=X=b,l.depth[b]=0):m[2*b+1]=0;for(;l.heap_len<2;)m[2*(d=l.heap[++l.heap_len]=X<2?++X:0)]=1,l.depth[d]=0,l.opt_len--,c&&(l.static_len-=W[2*d+1]);for(Z.max_code=X,b=l.heap_len>>1;b>=1;b--)K(l,m,b);d=h;do{b=l.heap[1],l.heap[1]=l.heap[l.heap_len--],K(l,m,1),G=l.heap[1],l.heap[--l.heap_max]=b,l.heap[--l.heap_max]=G,m[2*d]=m[2*b]+m[2*G],l.depth[d]=(l.depth[b]>=l.depth[G]?l.depth[b]:l.depth[G])+1,m[2*b+1]=m[2*G+1]=d,l.heap[1]=d++,K(l,m,1)}while(l.heap_len>=2);l.heap[--l.heap_max]=l.heap[1],function(l,Z){var b,G,d,m,W,c,h=Z.dyn_tree,X=Z.max_code,V=Z.stat_desc.static_tree,u=Z.stat_desc.has_stree,R=Z.stat_desc.extra_bits,a=Z.stat_desc.extra_base,Y=Z.stat_desc.max_length,n=0;for(m=0;m<=15;m++)l.bl_count[m]=0;for(h[2*l.heap[l.heap_max]+1]=0,b=l.heap_max+1;b<573;b++)(m=h[2*h[2*(G=l.heap[b])+1]+1]+1)>Y&&(m=Y,n++),h[2*G+1]=m,G>X||(l.bl_count[m]++,W=0,G>=a&&(W=R[G-a]),c=h[2*G],l.opt_len+=c*(m+W),u&&(l.static_len+=c*(V[2*G+1]+W)));if(0!==n){do{for(m=Y-1;0===l.bl_count[m];)m--;l.bl_count[m]--,l.bl_count[m+1]+=2,l.bl_count[Y]--,n-=2}while(n>0);for(m=Y;0!==m;m--)for(G=l.bl_count[m];0!==G;)(d=l.heap[--b])>X||(h[2*d+1]!==m&&(l.opt_len+=(m-h[2*d+1])*h[2*d],h[2*d+1]=m),G--)}}(l,Z),J(m,X,l.bl_count)}function U(l,Z,b){var G,d,m=-1,W=Z[1],c=0,h=7,X=4;for(0===W&&(h=138,X=3),Z[2*(b+1)+1]=65535,G=0;G<=b;G++)d=W,W=Z[2*(G+1)+1],++c<h&&d===W||(c<X?l.bl_tree[2*d]+=c:0!==d?(d!==m&&l.bl_tree[2*d]++,l.bl_tree[32]++):c<=10?l.bl_tree[34]++:l.bl_tree[36]++,c=0,m=d,0===W?(h=138,X=3):d===W?(h=6,X=3):(h=7,X=4))}function T(l,Z,b){var G,d,m=-1,W=Z[1],c=0,h=7,X=4;for(0===W&&(h=138,X=3),G=0;G<=b;G++)if(d=W,W=Z[2*(G+1)+1],!(++c<h&&d===W)){if(c<X)do{F(l,d,l.bl_tree)}while(0!=--c);else 0!==d?(d!==m&&(F(l,d,l.bl_tree),c--),F(l,16,l.bl_tree),o(l,c-3,2)):c<=10?(F(l,17,l.bl_tree),o(l,c-3,3)):(F(l,18,l.bl_tree),o(l,c-11,7));c=0,m=d,0===W?(h=138,X=3):d===W?(h=6,X=3):(h=7,X=4)}}d(p);var C=!1;function z(l,Z,b,d){o(l,0+(d?1:0),3),function(l,Z,b,d){S(l),d&&(L(l,b),L(l,~b)),G.arraySet(l.pending_buf,l.window,Z,b,l.pending),l.pending+=b}(l,Z,b,!0)}Z._tr_init=function(l){C||(!function(){var l,Z,b,G,d,h=new Array(16);for(b=0,G=0;G<28;G++)for(a[G]=b,l=0;l<1<<m[G];l++)R[b++]=G;for(R[b-1]=G,d=0,G=0;G<16;G++)for(p[G]=d,l=0;l<1<<W[G];l++)u[d++]=G;for(d>>=7;G<30;G++)for(p[G]=d<<7,l=0;l<1<<W[G]-7;l++)u[256+d++]=G;for(Z=0;Z<=15;Z++)h[Z]=0;for(l=0;l<=143;)X[2*l+1]=8,l++,h[8]++;for(;l<=255;)X[2*l+1]=9,l++,h[9]++;for(;l<=279;)X[2*l+1]=7,l++,h[7]++;for(;l<=287;)X[2*l+1]=8,l++,h[8]++;for(J(X,287,h),l=0;l<30;l++)V[2*l+1]=5,V[2*l]=x(l,5);Y=new s(X,m,257,286,15),n=new s(V,W,0,30,15),i=new s(new Array(0),c,0,19,7)}(),C=!0),l.l_desc=new y(l.dyn_ltree,Y),l.d_desc=new y(l.dyn_dtree,n),l.bl_desc=new y(l.bl_tree,i),l.bi_buf=0,l.bi_valid=0,I(l)},Z._tr_stored_block=z,Z._tr_flush_block=function(l,Z,b,G){var d,m,W=0;l.level>0?(2===l.strm.data_type&&(l.strm.data_type=function(l){var Z,b=4093624447;for(Z=0;Z<=31;Z++,b>>>=1)if(1&b&&0!==l.dyn_ltree[2*Z])return 0;if(0!==l.dyn_ltree[18]||0!==l.dyn_ltree[20]||0!==l.dyn_ltree[26])return 1;for(Z=32;Z<256;Z++)if(0!==l.dyn_ltree[2*Z])return 1;return 0}(l)),k(l,l.l_desc),k(l,l.d_desc),W=function(l){var Z;for(U(l,l.dyn_ltree,l.l_desc.max_code),U(l,l.dyn_dtree,l.d_desc.max_code),k(l,l.bl_desc),Z=18;Z>=3&&0===l.bl_tree[2*h[Z]+1];Z--);return l.opt_len+=3*(Z+1)+5+5+4,Z}(l),d=l.opt_len+3+7>>>3,(m=l.static_len+3+7>>>3)<=d&&(d=m)):d=m=b+5,b+4<=d&&-1!==Z?z(l,Z,b,G):4===l.strategy||m===d?(o(l,2+(G?1:0),3),e(l,X,V)):(o(l,4+(G?1:0),3),function(l,Z,b,G){var d;for(o(l,Z-257,5),o(l,b-1,5),o(l,G-4,4),d=0;d<G;d++)o(l,l.bl_tree[2*h[d]+1],3);T(l,l.dyn_ltree,Z-1),T(l,l.dyn_dtree,b-1)}(l,l.l_desc.max_code+1,l.d_desc.max_code+1,W+1),e(l,l.dyn_ltree,l.dyn_dtree)),I(l),G&&S(l)},Z._tr_tally=function(l,Z,b){return l.pending_buf[l.d_buf+2*l.last_lit]=Z>>>8&255,l.pending_buf[l.d_buf+2*l.last_lit+1]=255&Z,l.pending_buf[l.l_buf+l.last_lit]=255&b,l.last_lit++,0===Z?l.dyn_ltree[2*b]++:(l.matches++,Z--,l.dyn_ltree[2*(R[b]+256+1)]++,l.dyn_dtree[2*t(Z)]++),l.last_lit===l.lit_bufsize-1},Z._tr_align=function(l){o(l,2,3),F(l,256,X),function(l){16===l.bi_valid?(L(l,l.bi_buf),l.bi_buf=0,l.bi_valid=0):l.bi_valid>=8&&(l.pending_buf[l.pending++]=255&l.bi_buf,l.bi_buf>>=8,l.bi_valid-=8)}(l)}},function(l,Z,b){"use strict";var G=b(25),d=b(3),m=b(13),W=b(15),c=b(7),h=b(14),X=b(28),V=Object.prototype.toString;function u(l){if(!(this instanceof u))return new u(l);this.options=d.assign({chunkSize:16384,windowBits:0,to:""},l||{});var Z=this.options;Z.raw&&Z.windowBits>=0&&Z.windowBits<16&&(Z.windowBits=-Z.windowBits,0===Z.windowBits&&(Z.windowBits=-15)),!(Z.windowBits>=0&&Z.windowBits<16)||l&&l.windowBits||(Z.windowBits+=32),Z.windowBits>15&&Z.windowBits<48&&0==(15&Z.windowBits)&&(Z.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var b=G.inflateInit2(this.strm,Z.windowBits);if(b!==W.Z_OK)throw new Error(c[b]);if(this.header=new X,G.inflateGetHeader(this.strm,this.header),Z.dictionary&&("string"==typeof Z.dictionary?Z.dictionary=m.string2buf(Z.dictionary):"[object ArrayBuffer]"===V.call(Z.dictionary)&&(Z.dictionary=new Uint8Array(Z.dictionary)),Z.raw&&(b=G.inflateSetDictionary(this.strm,Z.dictionary))!==W.Z_OK))throw new Error(c[b])}function R(l,Z){var b=new u(Z);if(b.push(l,!0),b.err)throw b.msg||c[b.err];return b.result}u.prototype.push=function(l,Z){var b,c,h,X,u,R=this.strm,a=this.options.chunkSize,Y=this.options.dictionary,n=!1;if(this.ended)return!1;c=Z===~~Z?Z:!0===Z?W.Z_FINISH:W.Z_NO_FLUSH,"string"==typeof l?R.input=m.binstring2buf(l):"[object ArrayBuffer]"===V.call(l)?R.input=new Uint8Array(l):R.input=l,R.next_in=0,R.avail_in=R.input.length;do{if(0===R.avail_out&&(R.output=new d.Buf8(a),R.next_out=0,R.avail_out=a),(b=G.inflate(R,W.Z_NO_FLUSH))===W.Z_NEED_DICT&&Y&&(b=G.inflateSetDictionary(this.strm,Y)),b===W.Z_BUF_ERROR&&!0===n&&(b=W.Z_OK,n=!1),b!==W.Z_STREAM_END&&b!==W.Z_OK)return this.onEnd(b),this.ended=!0,!1;R.next_out&&(0!==R.avail_out&&b!==W.Z_STREAM_END&&(0!==R.avail_in||c!==W.Z_FINISH&&c!==W.Z_SYNC_FLUSH)||("string"===this.options.to?(h=m.utf8border(R.output,R.next_out),X=R.next_out-h,u=m.buf2string(R.output,h),R.next_out=X,R.avail_out=a-X,X&&d.arraySet(R.output,R.output,h,X,0),this.onData(u)):this.onData(d.shrinkBuf(R.output,R.next_out)))),0===R.avail_in&&0===R.avail_out&&(n=!0)}while((R.avail_in>0||0===R.avail_out)&&b!==W.Z_STREAM_END);return b===W.Z_STREAM_END&&(c=W.Z_FINISH),c===W.Z_FINISH?(b=G.inflateEnd(this.strm),this.onEnd(b),this.ended=!0,b===W.Z_OK):c!==W.Z_SYNC_FLUSH||(this.onEnd(W.Z_OK),R.avail_out=0,!0)},u.prototype.onData=function(l){this.chunks.push(l)},u.prototype.onEnd=function(l){l===W.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=d.flattenChunks(this.chunks)),this.chunks=[],this.err=l,this.msg=this.strm.msg},Z.Inflate=u,Z.inflate=R,Z.inflateRaw=function(l,Z){return(Z=Z||{}).raw=!0,R(l,Z)},Z.ungzip=R},function(l,Z,b){"use strict";var G=b(3),d=b(11),m=b(12),W=b(26),c=b(27);function h(l){return(l>>>24&255)+(l>>>8&65280)+((65280&l)<<8)+((255&l)<<24)}function X(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new G.Buf16(320),this.work=new G.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function V(l){var Z;return l&&l.state?(Z=l.state,l.total_in=l.total_out=Z.total=0,l.msg="",Z.wrap&&(l.adler=1&Z.wrap),Z.mode=1,Z.last=0,Z.havedict=0,Z.dmax=32768,Z.head=null,Z.hold=0,Z.bits=0,Z.lencode=Z.lendyn=new G.Buf32(852),Z.distcode=Z.distdyn=new G.Buf32(592),Z.sane=1,Z.back=-1,0):-2}function u(l){var Z;return l&&l.state?((Z=l.state).wsize=0,Z.whave=0,Z.wnext=0,V(l)):-2}function R(l,Z){var b,G;return l&&l.state?(G=l.state,Z<0?(b=0,Z=-Z):(b=1+(Z>>4),Z<48&&(Z&=15)),Z&&(Z<8||Z>15)?-2:(null!==G.window&&G.wbits!==Z&&(G.window=null),G.wrap=b,G.wbits=Z,u(l))):-2}function a(l,Z){var b,G;return l?(G=new X,l.state=G,G.window=null,0!==(b=R(l,Z))&&(l.state=null),b):-2}var Y,n,i=!0;function p(l){if(i){var Z;for(Y=new G.Buf32(512),n=new G.Buf32(32),Z=0;Z<144;)l.lens[Z++]=8;for(;Z<256;)l.lens[Z++]=9;for(;Z<280;)l.lens[Z++]=7;for(;Z<288;)l.lens[Z++]=8;for(c(1,l.lens,0,288,Y,0,l.work,{bits:9}),Z=0;Z<32;)l.lens[Z++]=5;c(2,l.lens,0,32,n,0,l.work,{bits:5}),i=!1}l.lencode=Y,l.lenbits=9,l.distcode=n,l.distbits=5}function s(l,Z,b,d){var m,W=l.state;return null===W.window&&(W.wsize=1<<W.wbits,W.wnext=0,W.whave=0,W.window=new G.Buf8(W.wsize)),d>=W.wsize?(G.arraySet(W.window,Z,b-W.wsize,W.wsize,0),W.wnext=0,W.whave=W.wsize):((m=W.wsize-W.wnext)>d&&(m=d),G.arraySet(W.window,Z,b-d,m,W.wnext),(d-=m)?(G.arraySet(W.window,Z,b-d,d,0),W.wnext=d,W.whave=W.wsize):(W.wnext+=m,W.wnext===W.wsize&&(W.wnext=0),W.whave<W.wsize&&(W.whave+=m))),0}Z.inflateReset=u,Z.inflateReset2=R,Z.inflateResetKeep=V,Z.inflateInit=function(l){return a(l,15)},Z.inflateInit2=a,Z.inflate=function(l,Z){var b,X,V,u,R,a,Y,n,i,y,t,L,o,F,x,J,I,S,N,K,e,k,U,T,C=0,z=new G.Buf8(4),v=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!l||!l.state||!l.output||!l.input&&0!==l.avail_in)return-2;12===(b=l.state).mode&&(b.mode=13),R=l.next_out,V=l.output,Y=l.avail_out,u=l.next_in,X=l.input,a=l.avail_in,n=b.hold,i=b.bits,y=a,t=Y,k=0;l:for(;;)switch(b.mode){case 1:if(0===b.wrap){b.mode=13;break}for(;i<16;){if(0===a)break l;a--,n+=X[u++]<<i,i+=8}if(2&b.wrap&&35615===n){b.check=0,z[0]=255&n,z[1]=n>>>8&255,b.check=m(b.check,z,2,0),n=0,i=0,b.mode=2;break}if(b.flags=0,b.head&&(b.head.done=!1),!(1&b.wrap)||(((255&n)<<8)+(n>>8))%31){l.msg="incorrect header check",b.mode=30;break}if(8!=(15&n)){l.msg="unknown compression method",b.mode=30;break}if(i-=4,e=8+(15&(n>>>=4)),0===b.wbits)b.wbits=e;else if(e>b.wbits){l.msg="invalid window size",b.mode=30;break}b.dmax=1<<e,l.adler=b.check=1,b.mode=512&n?10:12,n=0,i=0;break;case 2:for(;i<16;){if(0===a)break l;a--,n+=X[u++]<<i,i+=8}if(b.flags=n,8!=(255&b.flags)){l.msg="unknown compression method",b.mode=30;break}if(57344&b.flags){l.msg="unknown header flags set",b.mode=30;break}b.head&&(b.head.text=n>>8&1),512&b.flags&&(z[0]=255&n,z[1]=n>>>8&255,b.check=m(b.check,z,2,0)),n=0,i=0,b.mode=3;case 3:for(;i<32;){if(0===a)break l;a--,n+=X[u++]<<i,i+=8}b.head&&(b.head.time=n),512&b.flags&&(z[0]=255&n,z[1]=n>>>8&255,z[2]=n>>>16&255,z[3]=n>>>24&255,b.check=m(b.check,z,4,0)),n=0,i=0,b.mode=4;case 4:for(;i<16;){if(0===a)break l;a--,n+=X[u++]<<i,i+=8}b.head&&(b.head.xflags=255&n,b.head.os=n>>8),512&b.flags&&(z[0]=255&n,z[1]=n>>>8&255,b.check=m(b.check,z,2,0)),n=0,i=0,b.mode=5;case 5:if(1024&b.flags){for(;i<16;){if(0===a)break l;a--,n+=X[u++]<<i,i+=8}b.length=n,b.head&&(b.head.extra_len=n),512&b.flags&&(z[0]=255&n,z[1]=n>>>8&255,b.check=m(b.check,z,2,0)),n=0,i=0}else b.head&&(b.head.extra=null);b.mode=6;case 6:if(1024&b.flags&&((L=b.length)>a&&(L=a),L&&(b.head&&(e=b.head.extra_len-b.length,b.head.extra||(b.head.extra=new Array(b.head.extra_len)),G.arraySet(b.head.extra,X,u,L,e)),512&b.flags&&(b.check=m(b.check,X,L,u)),a-=L,u+=L,b.length-=L),b.length))break l;b.length=0,b.mode=7;case 7:if(2048&b.flags){if(0===a)break l;L=0;do{e=X[u+L++],b.head&&e&&b.length<65536&&(b.head.name+=String.fromCharCode(e))}while(e&&L<a);if(512&b.flags&&(b.check=m(b.check,X,L,u)),a-=L,u+=L,e)break l}else b.head&&(b.head.name=null);b.length=0,b.mode=8;case 8:if(4096&b.flags){if(0===a)break l;L=0;do{e=X[u+L++],b.head&&e&&b.length<65536&&(b.head.comment+=String.fromCharCode(e))}while(e&&L<a);if(512&b.flags&&(b.check=m(b.check,X,L,u)),a-=L,u+=L,e)break l}else b.head&&(b.head.comment=null);b.mode=9;case 9:if(512&b.flags){for(;i<16;){if(0===a)break l;a--,n+=X[u++]<<i,i+=8}if(n!==(65535&b.check)){l.msg="header crc mismatch",b.mode=30;break}n=0,i=0}b.head&&(b.head.hcrc=b.flags>>9&1,b.head.done=!0),l.adler=b.check=0,b.mode=12;break;case 10:for(;i<32;){if(0===a)break l;a--,n+=X[u++]<<i,i+=8}l.adler=b.check=h(n),n=0,i=0,b.mode=11;case 11:if(0===b.havedict)return l.next_out=R,l.avail_out=Y,l.next_in=u,l.avail_in=a,b.hold=n,b.bits=i,2;l.adler=b.check=1,b.mode=12;case 12:if(5===Z||6===Z)break l;case 13:if(b.last){n>>>=7&i,i-=7&i,b.mode=27;break}for(;i<3;){if(0===a)break l;a--,n+=X[u++]<<i,i+=8}switch(b.last=1&n,i-=1,3&(n>>>=1)){case 0:b.mode=14;break;case 1:if(p(b),b.mode=20,6===Z){n>>>=2,i-=2;break l}break;case 2:b.mode=17;break;case 3:l.msg="invalid block type",b.mode=30}n>>>=2,i-=2;break;case 14:for(n>>>=7&i,i-=7&i;i<32;){if(0===a)break l;a--,n+=X[u++]<<i,i+=8}if((65535&n)!=(n>>>16^65535)){l.msg="invalid stored block lengths",b.mode=30;break}if(b.length=65535&n,n=0,i=0,b.mode=15,6===Z)break l;case 15:b.mode=16;case 16:if(L=b.length){if(L>a&&(L=a),L>Y&&(L=Y),0===L)break l;G.arraySet(V,X,u,L,R),a-=L,u+=L,Y-=L,R+=L,b.length-=L;break}b.mode=12;break;case 17:for(;i<14;){if(0===a)break l;a--,n+=X[u++]<<i,i+=8}if(b.nlen=257+(31&n),n>>>=5,i-=5,b.ndist=1+(31&n),n>>>=5,i-=5,b.ncode=4+(15&n),n>>>=4,i-=4,b.nlen>286||b.ndist>30){l.msg="too many length or distance symbols",b.mode=30;break}b.have=0,b.mode=18;case 18:for(;b.have<b.ncode;){for(;i<3;){if(0===a)break l;a--,n+=X[u++]<<i,i+=8}b.lens[v[b.have++]]=7&n,n>>>=3,i-=3}for(;b.have<19;)b.lens[v[b.have++]]=0;if(b.lencode=b.lendyn,b.lenbits=7,U={bits:b.lenbits},k=c(0,b.lens,0,19,b.lencode,0,b.work,U),b.lenbits=U.bits,k){l.msg="invalid code lengths set",b.mode=30;break}b.have=0,b.mode=19;case 19:for(;b.have<b.nlen+b.ndist;){for(;J=(C=b.lencode[n&(1<<b.lenbits)-1])>>>16&255,I=65535&C,!((x=C>>>24)<=i);){if(0===a)break l;a--,n+=X[u++]<<i,i+=8}if(I<16)n>>>=x,i-=x,b.lens[b.have++]=I;else{if(16===I){for(T=x+2;i<T;){if(0===a)break l;a--,n+=X[u++]<<i,i+=8}if(n>>>=x,i-=x,0===b.have){l.msg="invalid bit length repeat",b.mode=30;break}e=b.lens[b.have-1],L=3+(3&n),n>>>=2,i-=2}else if(17===I){for(T=x+3;i<T;){if(0===a)break l;a--,n+=X[u++]<<i,i+=8}i-=x,e=0,L=3+(7&(n>>>=x)),n>>>=3,i-=3}else{for(T=x+7;i<T;){if(0===a)break l;a--,n+=X[u++]<<i,i+=8}i-=x,e=0,L=11+(127&(n>>>=x)),n>>>=7,i-=7}if(b.have+L>b.nlen+b.ndist){l.msg="invalid bit length repeat",b.mode=30;break}for(;L--;)b.lens[b.have++]=e}}if(30===b.mode)break;if(0===b.lens[256]){l.msg="invalid code -- missing end-of-block",b.mode=30;break}if(b.lenbits=9,U={bits:b.lenbits},k=c(1,b.lens,0,b.nlen,b.lencode,0,b.work,U),b.lenbits=U.bits,k){l.msg="invalid literal/lengths set",b.mode=30;break}if(b.distbits=6,b.distcode=b.distdyn,U={bits:b.distbits},k=c(2,b.lens,b.nlen,b.ndist,b.distcode,0,b.work,U),b.distbits=U.bits,k){l.msg="invalid distances set",b.mode=30;break}if(b.mode=20,6===Z)break l;case 20:b.mode=21;case 21:if(a>=6&&Y>=258){l.next_out=R,l.avail_out=Y,l.next_in=u,l.avail_in=a,b.hold=n,b.bits=i,W(l,t),R=l.next_out,V=l.output,Y=l.avail_out,u=l.next_in,X=l.input,a=l.avail_in,n=b.hold,i=b.bits,12===b.mode&&(b.back=-1);break}for(b.back=0;J=(C=b.lencode[n&(1<<b.lenbits)-1])>>>16&255,I=65535&C,!((x=C>>>24)<=i);){if(0===a)break l;a--,n+=X[u++]<<i,i+=8}if(J&&0==(240&J)){for(S=x,N=J,K=I;J=(C=b.lencode[K+((n&(1<<S+N)-1)>>S)])>>>16&255,I=65535&C,!(S+(x=C>>>24)<=i);){if(0===a)break l;a--,n+=X[u++]<<i,i+=8}n>>>=S,i-=S,b.back+=S}if(n>>>=x,i-=x,b.back+=x,b.length=I,0===J){b.mode=26;break}if(32&J){b.back=-1,b.mode=12;break}if(64&J){l.msg="invalid literal/length code",b.mode=30;break}b.extra=15&J,b.mode=22;case 22:if(b.extra){for(T=b.extra;i<T;){if(0===a)break l;a--,n+=X[u++]<<i,i+=8}b.length+=n&(1<<b.extra)-1,n>>>=b.extra,i-=b.extra,b.back+=b.extra}b.was=b.length,b.mode=23;case 23:for(;J=(C=b.distcode[n&(1<<b.distbits)-1])>>>16&255,I=65535&C,!((x=C>>>24)<=i);){if(0===a)break l;a--,n+=X[u++]<<i,i+=8}if(0==(240&J)){for(S=x,N=J,K=I;J=(C=b.distcode[K+((n&(1<<S+N)-1)>>S)])>>>16&255,I=65535&C,!(S+(x=C>>>24)<=i);){if(0===a)break l;a--,n+=X[u++]<<i,i+=8}n>>>=S,i-=S,b.back+=S}if(n>>>=x,i-=x,b.back+=x,64&J){l.msg="invalid distance code",b.mode=30;break}b.offset=I,b.extra=15&J,b.mode=24;case 24:if(b.extra){for(T=b.extra;i<T;){if(0===a)break l;a--,n+=X[u++]<<i,i+=8}b.offset+=n&(1<<b.extra)-1,n>>>=b.extra,i-=b.extra,b.back+=b.extra}if(b.offset>b.dmax){l.msg="invalid distance too far back",b.mode=30;break}b.mode=25;case 25:if(0===Y)break l;if(L=t-Y,b.offset>L){if((L=b.offset-L)>b.whave&&b.sane){l.msg="invalid distance too far back",b.mode=30;break}L>b.wnext?(L-=b.wnext,o=b.wsize-L):o=b.wnext-L,L>b.length&&(L=b.length),F=b.window}else F=V,o=R-b.offset,L=b.length;L>Y&&(L=Y),Y-=L,b.length-=L;do{V[R++]=F[o++]}while(--L);0===b.length&&(b.mode=21);break;case 26:if(0===Y)break l;V[R++]=b.length,Y--,b.mode=21;break;case 27:if(b.wrap){for(;i<32;){if(0===a)break l;a--,n|=X[u++]<<i,i+=8}if(t-=Y,l.total_out+=t,b.total+=t,t&&(l.adler=b.check=b.flags?m(b.check,V,t,R-t):d(b.check,V,t,R-t)),t=Y,(b.flags?n:h(n))!==b.check){l.msg="incorrect data check",b.mode=30;break}n=0,i=0}b.mode=28;case 28:if(b.wrap&&b.flags){for(;i<32;){if(0===a)break l;a--,n+=X[u++]<<i,i+=8}if(n!==(4294967295&b.total)){l.msg="incorrect length check",b.mode=30;break}n=0,i=0}b.mode=29;case 29:k=1;break l;case 30:k=-3;break l;case 31:return-4;case 32:default:return-2}return l.next_out=R,l.avail_out=Y,l.next_in=u,l.avail_in=a,b.hold=n,b.bits=i,(b.wsize||t!==l.avail_out&&b.mode<30&&(b.mode<27||4!==Z))&&s(l,l.output,l.next_out,t-l.avail_out)?(b.mode=31,-4):(y-=l.avail_in,t-=l.avail_out,l.total_in+=y,l.total_out+=t,b.total+=t,b.wrap&&t&&(l.adler=b.check=b.flags?m(b.check,V,t,l.next_out-t):d(b.check,V,t,l.next_out-t)),l.data_type=b.bits+(b.last?64:0)+(12===b.mode?128:0)+(20===b.mode||15===b.mode?256:0),(0===y&&0===t||4===Z)&&0===k&&(k=-5),k)},Z.inflateEnd=function(l){if(!l||!l.state)return-2;var Z=l.state;return Z.window&&(Z.window=null),l.state=null,0},Z.inflateGetHeader=function(l,Z){var b;return l&&l.state?0==(2&(b=l.state).wrap)?-2:(b.head=Z,Z.done=!1,0):-2},Z.inflateSetDictionary=function(l,Z){var b,G=Z.length;return l&&l.state?0!==(b=l.state).wrap&&11!==b.mode?-2:11===b.mode&&d(1,Z,G,0)!==b.check?-3:s(l,Z,G,G)?(b.mode=31,-4):(b.havedict=1,0):-2},Z.inflateInfo="pako inflate (from Nodeca project)"},function(l,Z,b){"use strict";l.exports=function(l,Z){var b,G,d,m,W,c,h,X,V,u,R,a,Y,n,i,p,s,y,t,L,o,F,x,J,I;b=l.state,G=l.next_in,J=l.input,d=G+(l.avail_in-5),m=l.next_out,I=l.output,W=m-(Z-l.avail_out),c=m+(l.avail_out-257),h=b.dmax,X=b.wsize,V=b.whave,u=b.wnext,R=b.window,a=b.hold,Y=b.bits,n=b.lencode,i=b.distcode,p=(1<<b.lenbits)-1,s=(1<<b.distbits)-1;l:do{Y<15&&(a+=J[G++]<<Y,Y+=8,a+=J[G++]<<Y,Y+=8),y=n[a&p];Z:for(;;){if(a>>>=t=y>>>24,Y-=t,0===(t=y>>>16&255))I[m++]=65535&y;else{if(!(16&t)){if(0==(64&t)){y=n[(65535&y)+(a&(1<<t)-1)];continue Z}if(32&t){b.mode=12;break l}l.msg="invalid literal/length code",b.mode=30;break l}L=65535&y,(t&=15)&&(Y<t&&(a+=J[G++]<<Y,Y+=8),L+=a&(1<<t)-1,a>>>=t,Y-=t),Y<15&&(a+=J[G++]<<Y,Y+=8,a+=J[G++]<<Y,Y+=8),y=i[a&s];b:for(;;){if(a>>>=t=y>>>24,Y-=t,!(16&(t=y>>>16&255))){if(0==(64&t)){y=i[(65535&y)+(a&(1<<t)-1)];continue b}l.msg="invalid distance code",b.mode=30;break l}if(o=65535&y,Y<(t&=15)&&(a+=J[G++]<<Y,(Y+=8)<t&&(a+=J[G++]<<Y,Y+=8)),(o+=a&(1<<t)-1)>h){l.msg="invalid distance too far back",b.mode=30;break l}if(a>>>=t,Y-=t,o>(t=m-W)){if((t=o-t)>V&&b.sane){l.msg="invalid distance too far back",b.mode=30;break l}if(F=0,x=R,0===u){if(F+=X-t,t<L){L-=t;do{I[m++]=R[F++]}while(--t);F=m-o,x=I}}else if(u<t){if(F+=X+u-t,(t-=u)<L){L-=t;do{I[m++]=R[F++]}while(--t);if(F=0,u<L){L-=t=u;do{I[m++]=R[F++]}while(--t);F=m-o,x=I}}}else if(F+=u-t,t<L){L-=t;do{I[m++]=R[F++]}while(--t);F=m-o,x=I}for(;L>2;)I[m++]=x[F++],I[m++]=x[F++],I[m++]=x[F++],L-=3;L&&(I[m++]=x[F++],L>1&&(I[m++]=x[F++]))}else{F=m-o;do{I[m++]=I[F++],I[m++]=I[F++],I[m++]=I[F++],L-=3}while(L>2);L&&(I[m++]=I[F++],L>1&&(I[m++]=I[F++]))}break}}break}}while(G<d&&m<c);G-=L=Y>>3,a&=(1<<(Y-=L<<3))-1,l.next_in=G,l.next_out=m,l.avail_in=G<d?d-G+5:5-(G-d),l.avail_out=m<c?c-m+257:257-(m-c),b.hold=a,b.bits=Y}},function(l,Z,b){"use strict";var G=b(3),d=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],m=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],W=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],c=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];l.exports=function(l,Z,b,h,X,V,u,R){var a,Y,n,i,p,s,y,t,L,o=R.bits,F=0,x=0,J=0,I=0,S=0,N=0,K=0,e=0,k=0,U=0,T=null,C=0,z=new G.Buf16(16),v=new G.Buf16(16),E=null,H=0;for(F=0;F<=15;F++)z[F]=0;for(x=0;x<h;x++)z[Z[b+x]]++;for(S=o,I=15;I>=1&&0===z[I];I--);if(S>I&&(S=I),0===I)return X[V++]=20971520,X[V++]=20971520,R.bits=1,0;for(J=1;J<I&&0===z[J];J++);for(S<J&&(S=J),e=1,F=1;F<=15;F++)if(e<<=1,(e-=z[F])<0)return-1;if(e>0&&(0===l||1!==I))return-1;for(v[1]=0,F=1;F<15;F++)v[F+1]=v[F]+z[F];for(x=0;x<h;x++)0!==Z[b+x]&&(u[v[Z[b+x]]++]=x);if(0===l?(T=E=u,s=19):1===l?(T=d,C-=257,E=m,H-=257,s=256):(T=W,E=c,s=-1),U=0,x=0,F=J,p=V,N=S,K=0,n=-1,i=(k=1<<S)-1,1===l&&k>852||2===l&&k>592)return 1;for(;;){y=F-K,u[x]<s?(t=0,L=u[x]):u[x]>s?(t=E[H+u[x]],L=T[C+u[x]]):(t=96,L=0),a=1<<F-K,J=Y=1<<N;do{X[p+(U>>K)+(Y-=a)]=y<<24|t<<16|L|0}while(0!==Y);for(a=1<<F-1;U&a;)a>>=1;if(0!==a?(U&=a-1,U+=a):U=0,x++,0==--z[F]){if(F===I)break;F=Z[b+u[x]]}if(F>S&&(U&i)!==n){for(0===K&&(K=S),p+=J,e=1<<(N=F-K);N+K<I&&!((e-=z[N+K])<=0);)N++,e<<=1;if(k+=1<<N,1===l&&k>852||2===l&&k>592)return 1;X[n=U&i]=S<<24|N<<16|p-V|0}}return 0!==U&&(X[p+U]=F-K<<24|64<<16|0),R.bits=S,0}},function(l,Z,b){"use strict";l.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},function(l,Z){function b(l){var Z="    ";if(isNaN(parseInt(l)))Z=l;else switch(l){case 1:Z=" ";break;case 2:Z="  ";break;case 3:Z="   ";break;case 4:Z="    ";break;case 5:Z="     ";break;case 6:Z="      ";break;case 7:Z="       ";break;case 8:Z="        ";break;case 9:Z="         ";break;case 10:Z="          ";break;case 11:Z="           ";break;case 12:Z="            "}for(var b=["\n"],G=0;G<100;G++)b.push(b[G]+Z);return b}function G(){this.step="    ",this.shift=b(this.step)}function d(l,Z){return Z-(l.replace(/\(/g,"").length-l.replace(/\)/g,"").length)}function m(l,Z){return l.replace(/\s{1,}/g," ").replace(/ AND /gi,"~::~"+Z+Z+"AND ").replace(/ BETWEEN /gi,"~::~"+Z+"BETWEEN ").replace(/ CASE /gi,"~::~"+Z+"CASE ").replace(/ ELSE /gi,"~::~"+Z+"ELSE ").replace(/ END /gi,"~::~"+Z+"END ").replace(/ FROM /gi,"~::~FROM ").replace(/ GROUP\s{1,}BY/gi,"~::~GROUP BY ").replace(/ HAVING /gi,"~::~HAVING ").replace(/ IN /gi," IN ").replace(/ JOIN /gi,"~::~JOIN ").replace(/ CROSS~::~{1,}JOIN /gi,"~::~CROSS JOIN ").replace(/ INNER~::~{1,}JOIN /gi,"~::~INNER JOIN ").replace(/ LEFT~::~{1,}JOIN /gi,"~::~LEFT JOIN ").replace(/ RIGHT~::~{1,}JOIN /gi,"~::~RIGHT JOIN ").replace(/ ON /gi,"~::~"+Z+"ON ").replace(/ OR /gi,"~::~"+Z+Z+"OR ").replace(/ ORDER\s{1,}BY/gi,"~::~ORDER BY ").replace(/ OVER /gi,"~::~"+Z+"OVER ").replace(/\(\s{0,}SELECT /gi,"~::~(SELECT ").replace(/\)\s{0,}SELECT /gi,")~::~SELECT ").replace(/ THEN /gi," THEN~::~"+Z).replace(/ UNION /gi,"~::~UNION~::~").replace(/ USING /gi,"~::~USING ").replace(/ WHEN /gi,"~::~"+Z+"WHEN ").replace(/ WHERE /gi,"~::~WHERE ").replace(/ WITH /gi,"~::~WITH ").replace(/ ALL /gi," ALL ").replace(/ AS /gi," AS ").replace(/ ASC /gi," ASC ").replace(/ DESC /gi," DESC ").replace(/ DISTINCT /gi," DISTINCT ").replace(/ EXISTS /gi," EXISTS ").replace(/ NOT /gi," NOT ").replace(/ NULL /gi," NULL ").replace(/ LIKE /gi," LIKE ").replace(/\s{0,}SELECT /gi,"SELECT ").replace(/\s{0,}UPDATE /gi,"UPDATE ").replace(/ SET /gi," SET ").replace(/~::~{1,}/g,"~::~").split("~::~")}G.prototype.xml=function(l,Z){var G=l.replace(/>\s{0,}</g,"><").replace(/</g,"~::~<").replace(/\s*xmlns\:/g,"~::~xmlns:").replace(/\s*xmlns\=/g,"~::~xmlns=").split("~::~"),d=G.length,m=!1,W=0,c="",h=0,X=Z?b(Z):this.shift;for(h=0;h<d;h++)G[h].search(/<!/)>-1?(c+=X[W]+G[h],m=!0,(G[h].search(/-->/)>-1||G[h].search(/\]>/)>-1||G[h].search(/!DOCTYPE/)>-1)&&(m=!1)):G[h].search(/-->/)>-1||G[h].search(/\]>/)>-1?(c+=G[h],m=!1):/^<\w/.exec(G[h-1])&&/^<\/\w/.exec(G[h])&&/^<[\w:\-\.\,]+/.exec(G[h-1])==/^<\/[\w:\-\.\,]+/.exec(G[h])[0].replace("/","")?(c+=G[h],m||W--):G[h].search(/<\w/)>-1&&-1==G[h].search(/<\//)&&-1==G[h].search(/\/>/)?c=c+=m?G[h]:X[W++]+G[h]:G[h].search(/<\w/)>-1&&G[h].search(/<\//)>-1?c=c+=m?G[h]:X[W]+G[h]:G[h].search(/<\//)>-1?c=c+=m?G[h]:X[--W]+G[h]:G[h].search(/\/>/)>-1?c=c+=m?G[h]:X[W]+G[h]:G[h].search(/<\?/)>-1||G[h].search(/xmlns\:/)>-1||G[h].search(/xmlns\=/)>-1?c+=X[W]+G[h]:c+=G[h];return"\n"==c[0]?c.slice(1):c},G.prototype.json=function(l,Z){Z=Z||this.step;return"undefined"==typeof JSON?l:"string"==typeof l?JSON.stringify(JSON.parse(l),null,Z):"object"==typeof l?JSON.stringify(l,null,Z):l},G.prototype.css=function(l,Z){var G=l.replace(/\s{1,}/g," ").replace(/\{/g,"{~::~").replace(/\}/g,"~::~}~::~").replace(/\;/g,";~::~").replace(/\/\*/g,"~::~/*").replace(/\*\//g,"*/~::~").replace(/~::~\s{0,}~::~/g,"~::~").split("~::~"),d=G.length,m=0,W="",c=0,h=Z?b(Z):this.shift;for(c=0;c<d;c++)/\{/.exec(G[c])?W+=h[m++]+G[c]:/\}/.exec(G[c])?W+=h[--m]+G[c]:(/\*\\/.exec(G[c]),W+=h[m]+G[c]);return W.replace(/^\n{1,}/,"")},G.prototype.sql=function(l,Z){var G=l.replace(/\s{1,}/g," ").replace(/\'/gi,"~::~'").split("~::~"),W=G.length,c=[],h=0,X=this.step,V=0,u="",R=0,a=Z?b(Z):this.shift;for(R=0;R<W;R++)c=R%2?c.concat(G[R]):c.concat(m(G[R],X));for(W=c.length,R=0;R<W;R++){V=d(c[R],V),/\s{0,}\s{0,}SELECT\s{0,}/.exec(c[R])&&(c[R]=c[R].replace(/\,/g,",\n"+X+X)),/\s{0,}\s{0,}SET\s{0,}/.exec(c[R])&&(c[R]=c[R].replace(/\,/g,",\n"+X+X)),/\s{0,}\(\s{0,}SELECT\s{0,}/.exec(c[R])?u+=a[++h]+c[R]:/\'/.exec(c[R])?(V<1&&h&&h--,u+=c[R]):(u+=a[h]+c[R],V<1&&h&&h--)}return u=u.replace(/^\n{1,}/,"").replace(/\n{1,}/g,"\n")},G.prototype.xmlmin=function(l,Z){return(Z?l:l.replace(/\<![ \r\n\t]*(--([^\-]|[\r\n]|-[^\-])*--[ \r\n\t]*)\>/g,"").replace(/[ \r\n\t]{1,}xmlns/g," xmlns")).replace(/>\s{0,}</g,"><")},G.prototype.jsonmin=function(l){return"undefined"==typeof JSON?l:JSON.stringify(JSON.parse(l),null,0)},G.prototype.cssmin=function(l,Z){return(Z?l:l.replace(/\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*+\//g,"")).replace(/\s{1,}/g," ").replace(/\{\s{1,}/g,"{").replace(/\}\s{1,}/g,"}").replace(/\;\s{1,}/g,";").replace(/\/\*\s{1,}/g,"/*").replace(/\*\/\s{1,}/g,"*/")},G.prototype.sqlmin=function(l){return l.replace(/\s{1,}/g," ").replace(/\s{1,}\(/,"(").replace(/\s{1,}\)/,")")},l.exports=new G},function(l,Z,b){var G=b(31);l.exports=function(l,Z,b){var d={},m="SAFE_EVAL_"+Math.floor(1e6*Math.random());d[m]={};return l="\n    (function(){\n      Function = undefined;\n      const keys = Object.getOwnPropertyNames(this).concat(['constructor']);\n      keys.forEach((key) => {\n        const item = this[key];\n        if(!item || typeof item.constructor !== 'function') return;\n        this[key].constructor = undefined;\n      });\n    })();\n  "+m+"="+l,Z&&Object.keys(Z).forEach((function(l){d[l]=Z[l]})),G.runInNewContext(l,d,b),d[m]}},function(module,exports){var indexOf=function(l,Z){if(l.indexOf)return l.indexOf(Z);for(var b=0;b<l.length;b++)if(l[b]===Z)return b;return-1},Object_keys=function(l){if(Object.keys)return Object.keys(l);var Z=[];for(var b in l)Z.push(b);return Z},forEach=function(l,Z){if(l.forEach)return l.forEach(Z);for(var b=0;b<l.length;b++)Z(l[b],b,l)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(l,Z,b){Object.defineProperty(l,Z,{writable:!0,enumerable:!1,configurable:!0,value:b})}}catch(l){return function(l,Z,b){l[Z]=b}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function Context(){}Context.prototype={};var Script=exports.Script=function(l){if(!(this instanceof Script))return new Script(l);this.code=l};Script.prototype.runInContext=function(l){if(!(l instanceof Context))throw new TypeError("needs a 'context' argument.");var Z=document.createElement("iframe");Z.style||(Z.style={}),Z.style.display="none",document.body.appendChild(Z);var b=Z.contentWindow,G=b.eval,d=b.execScript;!G&&d&&(d.call(b,"null"),G=b.eval),forEach(Object_keys(l),(function(Z){b[Z]=l[Z]})),forEach(globals,(function(Z){l[Z]&&(b[Z]=l[Z])}));var m=Object_keys(b),W=G.call(b,this.code);return forEach(Object_keys(b),(function(Z){(Z in l||-1===indexOf(m,Z))&&(l[Z]=b[Z])})),forEach(globals,(function(Z){Z in l||defineProp(l,Z,b[Z])})),document.body.removeChild(Z),W},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(l){var Z=Script.createContext(l),b=this.runInContext(Z);return l&&forEach(Object_keys(Z),(function(b){l[b]=Z[b]})),b},forEach(Object_keys(Script.prototype),(function(l){exports[l]=Script[l]=function(Z){var b=Script(Z);return b[l].apply(b,[].slice.call(arguments,1))}})),exports.isContext=function(l){return l instanceof Context},exports.createScript=function(l){return exports.Script(l)},exports.createContext=Script.createContext=function(l){var Z=new Context;return"object"==typeof l&&forEach(Object_keys(l),(function(b){Z[b]=l[b]})),Z}},function(l,Z){var b;b=function(){return this}();try{b=b||new Function("return this")()}catch(l){"object"==typeof window&&(b=window)}l.exports=b},function(l,Z,b){"use strict";b.r(Z);var G=b(5),d=b(1),m=b(8),W=b.n(m),c=b(16),h=b.n(c),X=b(9),V=b(17),u={formatValue:function(l,Z,b){return W.a.valueFormats[Z](l,b,null).toString()},getUnitFormats:function(){return W.a.getUnitFormats()},loadCss:function(){Object(G.loadPluginCss)({dark:"plugins/agenty-flowcharting-panel/static/css/flowchart.dark.css",light:"plugins/agenty-flowcharting-panel/static/css/flowchart.light.css"})},getTimeSeries:function(l){return new h.a({datapoints:l.datapoints||[],alias:l.target,unit:l.unit})},getFormatedDate:function(l,Z){return Object(X.dateTime)(l).format(Z)},appEvents:b.n(V).a,MetricsPanelCtrl:G.MetricsPanelCtrl,PanelEvents:X.PanelEvents},R=b(2),a=b.n(R),Y=b(0),n=b(4),i=b.n(n);function p(l){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(l)}function s(l,Z){return!Z||"object"!==p(Z)&&"function"!=typeof Z?function(l){if(void 0===l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}(l):Z}function y(l,Z,b){return(y="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(l,Z,b){var G=function(l,Z){for(;!Object.prototype.hasOwnProperty.call(l,Z)&&null!==(l=t(l)););return l}(l,Z);if(G){var d=Object.getOwnPropertyDescriptor(G,Z);return d.get?d.get.call(b):d.value}})(l,Z,b||l)}function t(l){return(t=Object.setPrototypeOf?Object.getPrototypeOf:function(l){return l.__proto__||Object.getPrototypeOf(l)})(l)}function L(l,Z){if("function"!=typeof Z&&null!==Z)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(Z&&Z.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),Z&&o(l,Z)}function o(l,Z){return(o=Object.setPrototypeOf||function(l,Z){return l.__proto__=Z,l})(l,Z)}function F(l,Z){if(!(l instanceof Z))throw new TypeError("Cannot call a class as a function")}function x(l,Z){for(var b=0;b<Z.length;b++){var G=Z[b];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(l,G.key,G)}}function J(l,Z,b){return Z&&x(l.prototype,Z),b&&x(l,b),l}var I=function(){function l(Z,b){F(this,l),this.shapeMaps=[],this.textMaps=[],this.linkMaps=[],this.eventMaps=[],this.valueMaps=[],this.rangeMaps=[],this.removeClick=2,this.highestLevel=-1,this.highestColor="",this.highestFormattedValue="",this.highestValue=void 0,this.execTimes=0,this.data=b,this.data.pattern=Z,this.id=Y.a.utils.uniqueID(),this.states=new Map}return J(l,[{key:"getData",value:function(){return this.data}},{key:"import",value:function(l){var Z=this,b=Y.a.trace.before(this.constructor.name+".import()");l.unit&&(this.data.unit=l.unit),l.type&&(this.data.type=l.type),l.metricType&&(this.data.metricType=l.metricType),l.alias&&(this.data.alias=l.alias),l.refId&&(this.data.refId=l.refId),l.column&&(this.data.column=l.column),l.aggregation&&(this.data.aggregation=l.aggregation),(l.decimals||0===l.decimals)&&(this.data.decimals=l.decimals),l.colors&&(this.data.colors=l.colors.slice(0)),this.data.reduce&&(this.data.reduce=!0);var G=void 0;l.colorOn&&(G=l.colorOn);var d=void 0;l.style&&(d=l.style);var m=!1,W=void 0,c=void 0;l.link&&(m=l.link),l.linkUrl&&(W=l.linkUrl),l.linkParams&&(c=l.linkParams);var h=void 0;l.linkOn&&(h=l.linkOn);var X=void 0;l.textOn&&(X=l.textOn);var V=void 0,u=void 0;l.textReplace&&(V=l.textReplace),l.textPattern&&(u=l.textPattern),l.pattern&&(this.data.pattern=l.pattern),l.dateFormat&&(this.data.dateFormat=l.dateFormat),l.thresholds&&(this.data.thresholds=l.thresholds.map((function(l){var Z=l;return"string"==typeof Z&&(Z=parseFloat(Z)),Z}))),l.stringThresholds&&(this.data.stringThresholds=l.stringThresholds.slice(0)),l.stringWarning&&(this.data.stringThresholds[1]=l.stringWarning),l.stringCritical&&(this.data.stringThresholds[0]=l.stringCritical),(l.invert||!1===l.invert)&&(this.data.invert=l.invert),(l.gradient||!1===l.gradient)&&(this.data.gradient=l.gradient),(l.overlayIcon||!1===l.overlayIcon)&&(this.data.overlayIcon=l.overlayIcon),(l.tooltip||!1===l.tooltip)&&(this.data.tooltip=l.tooltip),l.tooltipLabel&&(this.data.tooltipLabel=l.tooltipLabel),(l.tooltipColors||!1===l.tooltipColors)&&(this.data.tooltipColors=l.tooltipColors),l.tooltipOn&&(this.data.tooltipOn=l.tooltipOn),l.tpDirection&&(this.data.tpDirection=l.tpDirection),(l.tpGraph||!1===this.data.tpGraph)&&(this.data.tpGraph=l.tpGraph),l.tpGraphSize&&(this.data.tpGraphSize=l.tpGraphSize),l.tpGraphType&&(this.data.tpGraphType=l.tpGraphType),(l.tpGraphLow||0===l.tpGraphLow)&&(this.data.tpGraphLow=l.tpGraphLow),(l.tpGraphHigh||0===l.tpGraphHigh)&&(this.data.tpGraphHigh=l.tpGraphHigh),l.tpGraphScale&&(this.data.tpGraphScale=l.tpGraphScale);var R=[];return l.shapeProp&&(this.data.shapeProp=l.shapeProp),(l.shapeRegEx||!1===l.shapeRegEx)&&(this.data.shapeRegEx=l.shapeRegEx),this.data.shapeData=[],R=[],null!=(R=void 0!==l.shapeMaps&&null!==l.shapeMaps&&l.shapeMaps.length>0?l.shapeMaps:l.shapeData)&&R.length>0&&R.forEach((function(l){d&&(l.style=d),G&&(l.colorOn=G),Z.addShapeMap("").import(l)})),this.data.textProp=l.textProp||"id",(l.textRegEx||!1===l.textRegEx)&&(this.data.textRegEx=l.textRegEx),this.data.textData=[],R=[],void 0!==(R=void 0!==l.shapeMaps&&null!==l.shapeMaps&&l.shapeMaps.length>0?l.textMaps:l.textData)&&null!=R&&R.length>0&&R.forEach((function(l){V&&(l.textReplace=V),u&&(l.textPattern=u),X&&(l.textOn=X),Z.addTextMap("").import(l)})),this.data.linkProp=l.linkProp||"id",(l.linkRegEx||!1===l.linkRegEx)&&(this.data.linkRegEx=l.linkRegEx),this.data.linkData=[],void 0!==l.linkData&&null!=l.linkData&&l.linkData.length>0&&l.linkData.forEach((function(l){W&&m&&(l.linkUrl=W),c&&m&&(l.linkParams=c),h&&(l.linkOn=h),Z.addLinkMap("").import(l)})),this.data.eventProp=l.eventProp||"id",(l.eventRegEx||!1===l.eventRegEx)&&(this.data.eventRegEx=l.eventRegEx),this.data.eventData=[],void 0!==l.eventData&&null!=l.eventData&&l.eventData.length>0&&l.eventData.forEach((function(l){Z.addEventMap("").import(l)})),this.data.mappingType=l.mappingType||1,this.data.valueData=[],void 0!==l.valueData&&null!=l.valueData&&l.valueData.length>0&&l.valueData.forEach((function(l){Z.addValueMap("value","text").import(l)})),this.data.rangeData=[],void 0!==l.rangeData&&null!=l.rangeData&&l.rangeData.length>0&&l.rangeData.forEach((function(l){Z.addRangeMap("from","to","text").import(l)})),this.data.sanitize=l.sanitize||!1,b.after(),this}},{key:"getId",value:function(){return this.id}},{key:"highlightCells",value:function(){this.states&&this.states.forEach((function(l){l.highlightCell()}))}},{key:"unhighlightCells",value:function(){this.states&&this.states.forEach((function(l){l.unhighlightCell()}))}},{key:"setOrder",value:function(l){this.data.order=l}},{key:"getOrder",value:function(){return this.data.order}},{key:"isHidden",value:function(){return this.data.hidden}},{key:"hide",value:function(){return this.data.hidden=!0,this}},{key:"show",value:function(){return this.data.hidden=!1,this}},{key:"invertColorOrder",value:function(){return this.data.colors.reverse(),this}},{key:"invertThesholds",value:function(){return this.invertColorOrder(),this.data.invert=!this.data.invert,this}},{key:"addColor",value:function(l){var Z,b,G=this.data.thresholds,d=this.data.colors,m=d[l];if(l!==d.length-1){var W=d[l+1];try{Z=i.a.scale([m,W]).mode("lrgb")(.5).hex()}catch(l){Y.a.log.error(l),Z=m}if("number"===this.data.type)b=(G[l]-G[l-1])/2+G[l-1];else b=this.data.stringThresholds[l-1]}else Z=m;return this.data.colors.splice(l+1,0,Z),"number"===this.data.type?this.data.thresholds.splice(l,0,b):"string"===this.data.type&&this.data.stringThresholds.splice(l,0,b),this}},{key:"removeColor",value:function(l){return this.data.thresholds.splice(l-1,1),this.data.stringThresholds.splice(l-1,1),this.data.colors.splice(l,1),this}},{key:"getColor",value:function(l){return this.data.colors[l]}},{key:"getColors",value:function(){return this.data.colors}},{key:"getColorsCount",value:function(){return this.data.colors.length}},{key:"toIconize",value:function(l){return!1!==this.data.overlayIcon&&(!0===this.data.overlayIcon&&l>=1)}},{key:"toTooltipize",value:function(l){return!1!==this.data.tooltip&&("a"===this.data.tooltipOn||"wc"===this.data.tooltipOn&&l>=1)}},{key:"matchMetric",value:function(l){return"serie"===this.data.metricType&&"serie"===l.type?Y.a.utils.matchString(l.getName(),this.data.pattern):"table"===this.data.metricType&&"table"===l.type&&l.getName()===this.data.refId}},{key:"addShapeMap",value:function(l){var Z=N.getDefaultData(),b=new N(l,Z);return this.shapeMaps.push(b),this.data.shapeData.push(Z),b}},{key:"removeShapeMap",value:function(l){return this.data.shapeData.splice(l,1),this.shapeMaps.splice(l,1),this}},{key:"getShapeMap",value:function(l){return this.shapeMaps[l]}},{key:"getShapeMaps",value:function(){return this.shapeMaps}},{key:"matchShape",value:function(l){var Z=this,b=!1;return this.shapeMaps.forEach((function(G){G.match(l,Z.data.shapeRegEx)&&(b=!0)})),b}},{key:"addTextMap",value:function(l){var Z=K.getDefaultData(),b=new K(l,Z);return this.textMaps.push(b),this.data.textData.push(Z),b}},{key:"removeTextMap",value:function(l){this.data.textData.splice(l,1),this.textMaps.splice(l,1)}},{key:"getTextMap",value:function(l){return this.textMaps[l]}},{key:"getTextMaps",value:function(){return this.textMaps}},{key:"matchText",value:function(l){var Z=!1;return this.textMaps.forEach((function(b){b.match(l)&&(Z=!0)})),Z}},{key:"addEventMap",value:function(l){var Z=k.getDefaultData(),b=new k(l,Z);return this.eventMaps.push(b),this.data.eventData.push(Z),b}},{key:"removeEventMap",value:function(l){this.data.eventData.splice(l,1),this.eventMaps.splice(l,1)}},{key:"getEventMap",value:function(l){return this.eventMaps[l]}},{key:"getEventMaps",value:function(){return this.eventMaps}},{key:"matchEvent",value:function(l){var Z=!1;return this.eventMaps.forEach((function(b){b.match(l)&&(Z=!0)})),Z}},{key:"addLinkMap",value:function(l){Y.a.log.info("Rule.addLinkMap()");var Z=e.getDefaultData(),b=new e(l,Z);return b.import(Z),this.linkMaps.push(b),this.data.linkData.push(Z),b}},{key:"removeLinkMap",value:function(l){this.data.linkData.splice(l,1),this.linkMaps.splice(l,1)}},{key:"getLinkMap",value:function(l){return this.linkMaps[l]}},{key:"getLinkMaps",value:function(){return this.linkMaps}},{key:"matchLink",value:function(l){var Z=!1;return this.linkMaps.forEach((function(b){b.match(l)&&(Z=!0)})),Z}},{key:"addValueMap",value:function(l,Z){var b=T.getDefaultdata(),G=new T(l,Z,b);return this.valueMaps.push(G),this.data.valueData.push(b),G}},{key:"removeValueMap",value:function(l){this.data.valueData.splice(l,1),this.valueMaps.splice(l,1)}},{key:"getValueMap",value:function(l){return this.valueMaps[l]}},{key:"getValueMaps",value:function(){return this.valueMaps}},{key:"addRangeMap",value:function(l,Z,b){var G=U.getDefaultData(),d=new U(l,Z,b,G);return this.rangeMaps.push(d),this.data.rangeData.push(G),d}},{key:"removeRangeMap",value:function(l){this.data.rangeData.splice(l,1),this.rangeMaps.splice(l,1)}},{key:"getRangeMap",value:function(l){return this.rangeMaps[l]}},{key:"getRangeMaps",value:function(){return this.rangeMaps}},{key:"hideRangeMap",value:function(l){return this.rangeMaps[l].hide(),this}},{key:"showRangeMap",value:function(l){return this.rangeMaps[l].show(),this}},{key:"getExectedTime",value:function(){return"number"==typeof this.execTimes?"".concat(this.execTimes.toFixed(2)," ms"):"".concat(this.execTimes," ms")}},{key:"getColorForValue",value:function(l){if(!this.data.gradient||"number"!==this.data.type){var Z=this.getThresholdLevel(l);return this.getColorForLevel(Z)}if("number"===this.data.type){var b=this.data.thresholds,G=this.data.colors,d=b.length;if(void 0===b||0===d)return G[0];for(var m=0,W=0;W<d;W++){if(l<b[W])break;m=W}if(0===m&&l<=b[0])return G[0];if(m===d-1)return G[m+1];var c=b[m+1]-b[m],h=(l-b[m])/c,X=G[m+1];try{X=i.a.scale([G[m+1],G[m+2]]).mode("lrgb")(h).hex()}catch(l){X=G[m+1]}return X}return""}},{key:"getColorForLevel",value:function(l){var Z=this.data.colors;if(l<0)return Z[0];var b=l;return this.data.invert||(b=this.data.colors.length-1-l),void 0!==Z[b]?Z[b]:Z[0]}},{key:"getThresholdLevel",value:function(l){if("number"===this.data.type){var Z=0,b=this.data.thresholds;if(void 0===b||0===b.length)return 0;for(var G=b.length,d=0;d<G;d++){if(l<b[d])break;Z=d+1}return this.data.invert||(Z=this.data.colors.length-1-Z),Z}if("string"===this.data.type){var m=0,W=this.getFormattedValue(l),c=this.data.stringThresholds;if(void 0===c||0===c.length)return 0;for(var h=c.length,X=0;X<h;X++){var V=c[X];if(Y.a.utils.matchString(l,V)||Y.a.utils.matchString(W,V)){m=X+1;break}}return this.data.invert||(m=this.data.colors.length-1-m),m}return 0}},{key:"getValueForMetric",value:function(l){if(this.matchMetric(l))try{return l.getValue(this.data.aggregation,this.data.column)}catch(l){return Y.a.log.error("datapoint for metric is null",l),null}return"-"}},{key:"getFormattedValueForMetric",value:function(l){var Z=this.getValueForMetric(l);return this.getFormattedValue(Z)}},{key:"getFormattedValue",value:function(l){if("number"===this.data.type){if(!a.a.isFinite(l))return"null";if(null==l)return"-";var Z=this.decimalPlaces(l);return Z="number"==typeof this.data.decimals?Math.min(this.data.decimals,Z):Z,u.formatValue(l,this.data.unit,this.data.decimals)}if("string"===this.data.type){null==l&&(l="null"),a.a.isArray(l)&&(l=l.join(", "));var b=this.data.mappingType||0;if(1===b&&this.valueMaps){for(var G=0;G<this.valueMaps.length;G+=1){var d=this.valueMaps[G];if(d.match(l))return d.getFormattedText(l)}return l.toString()}if(2===b&&this.rangeMaps){for(var m=0;m<this.rangeMaps.length;m+=1){var W=this.rangeMaps[m];if(W.match(l))return W.getFormattedText(l)}return l.toString()}if(null==l)return"null"}return"date"===this.data.type?null==l?"-":(a.a.isArray(l)&&(l=l[0]),u.getFormatedDate(l,this.data.dateFormat)):l}},{key:"defaultValueFormatter",value:function(l){return null==l||void 0===l?"":(a.a.isArray(l)&&(l=l.join(", ")),this.data.sanitize?this.$sanitize(l):a.a.escape(l))}},{key:"$sanitize",value:function(l){throw new Error("Method not implemented.")}},{key:"decimalPlaces",value:function(l){var Z=(""+l).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return Z?Math.max(0,(Z[1]?Z[1].length:0)-(Z[2]?+Z[2]:0)):0}}],[{key:"getDefaultData",value:function(){return{order:1,pattern:".*",unit:"short",type:"number",metricType:"serie",alias:"myRule",refId:"A",column:"Time",hidden:!1,aggregation:"current",decimals:2,colors:["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],reduce:!0,dateFormat:"YYYY-MM-DD HH:mm:ss",thresholds:[50,80],stringThresholds:["/.*/","/.*/"],invert:!1,gradient:!1,overlayIcon:!1,tooltip:!1,tooltipLabel:"",tooltipColors:!1,tooltipOn:"a",tpDirection:"v",tpGraph:!1,tpGraphSize:"100%",tpGraphType:"line",tpGraphLow:null,tpGraphHigh:null,tpGraphScale:"linear",shapeProp:"id",shapeRegEx:!0,shapeData:[],textProp:"id",textRegEx:!0,textData:[],linkProp:"id",linkRegEx:!0,linkData:[],eventProp:"id",eventRegEx:!1,eventData:[],mappingType:1,valueData:[],rangeData:[],sanitize:!1}}}]),l}(),S=function(){function l(Z,b){F(this,l),this.data=b,this.data.pattern=Z,this.id=Y.a.utils.uniqueID()}return J(l,[{key:"import",value:function(l){return l.pattern&&(this.data.pattern=l.pattern),l.hidden&&(this.data.hidden=l.hidden),this}},{key:"match",value:function(l){var Z=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return null!=l&&0!==l.length&&Y.a.utils.matchString(l,this.data.pattern,Z)}},{key:"getId",value:function(){return this.id}},{key:"show",value:function(){return this.data.hidden=!1,this}},{key:"hide",value:function(){return this.data.hidden=!0,this}},{key:"isHidden",value:function(){return void 0!==this.data.hidden&&this.data.hidden}},{key:"toVisible",value:function(){return!this.data.hidden}},{key:"export",value:function(){return{pattern:this.data.pattern,hidden:this.data.hidden}}}],[{key:"getDefaultMethods",value:function(){return this.methods}},{key:"getDefaultPlaceHolder",value:function(l){var Z=this.methods.find((function(Z){return Z.value===l}));if(void 0!==Z)return Z.placeholder}},{key:"getDefaultValue",value:function(l){var Z=this.methods.find((function(Z){return Z.value===l}));if(void 0!==Z)return Z.default}}]),l}();S.methods=[];var N=function(l){function Z(l,b){var G;return F(this,Z),(G=s(this,t(Z).call(this,l,b))).data=b,G}return L(Z,l),J(Z,[{key:"toColorize",value:function(l){return-1!==l&&("n"!==this.data.colorOn&&("a"===this.data.colorOn||"wc"===this.data.colorOn&&l>=1))}},{key:"import",value:function(l){return y(t(Z.prototype),"import",this).call(this,l),l.style&&(this.data.style=l.style),l.colorOn&&(this.data.colorOn=l.colorOn),this}}],[{key:"getDefaultData",value:function(){return{pattern:"",hidden:!1,style:"fillColor",colorOn:"a"}}}]),Z}(S),K=function(l){function Z(l,b){var G;return F(this,Z),(G=s(this,t(Z).call(this,l,b))).data=b,G}return L(Z,l),J(Z,[{key:"toLabelize",value:function(l){return"wmd"===this.data.textOn||"n"!==this.data.textOn&&("wc"===this.data.textOn&&l>=1||"co"===this.data.textOn&&l>=2)}},{key:"import",value:function(l){return y(t(Z.prototype),"import",this).call(this,l),l.textReplace&&(this.data.textReplace=l.textReplace),l.textPattern&&(this.data.textPattern=l.textPattern),l.textOn&&(this.data.textOn=l.textOn),this}},{key:"getReplaceText",value:function(l,Z){if("content"===this.data.textReplace)return Z;if("pattern"===this.data.textReplace){var b=Y.a.utils.stringToJsRegex(this.data.textPattern);return l.toString().match(b)?l.toString().replace(b,Z):l}return"as"===this.data.textReplace?"".concat(l," ").concat(Z):"anl"===this.data.textReplace?"".concat(l,"\n").concat(Z):l}}],[{key:"getDefaultData",value:function(){return{pattern:"",hidden:!1,textReplace:"content",textPattern:"/.*/",textOn:"wmd"}}}]),Z}(S),e=function(l){function Z(l,b){var G;return F(this,Z),(G=s(this,t(Z).call(this,l,b))).data=b,G}return L(Z,l),J(Z,[{key:"getLink",value:function(){return this.data.linkParams?this.data.linkUrl+window.location.search:this.data.linkUrl}},{key:"import",value:function(l){return y(t(Z.prototype),"import",this).call(this,l),l.linkUrl&&(this.data.linkUrl=l.linkUrl),l.linkParams&&(this.data.linkParams=l.linkParams),l.linkOn&&(this.data.linkOn=l.linkOn),this}},{key:"toLinkable",value:function(l){return"a"===this.data.linkOn||"wc"===this.data.linkOn&&l>=1}}],[{key:"getDefaultData",value:function(){return{pattern:"",hidden:!1,linkUrl:"",linkParams:!1,linkOn:"a"}}}]),Z}(S),k=function(l){function Z(l,b){var G;return F(this,Z),(G=s(this,t(Z).call(this,l,b))).data=b,G}return L(Z,l),J(Z,[{key:"getPlaceHolder",value:function(){var l=Z.getDefaultPlaceHolder(this.data.style);return void 0!==l?l:""}},{key:"getTypeahead",value:function(){var l=this,b=Y.a.getFullAvailableVarNames(),G=Z.methods.find((function(Z){return Z.value===l.data.style}));if(void 0!==G&&void 0!==G.typeahead)return b=b.concat(G.typeahead.split("|"));if("shape"===this.data.style){var d=Z.getFormNames();Array.prototype.push.apply(b,d)}return b}},{key:"getValueByDefault",value:function(){var l=Z.getDefaultValue(this.data.style);return void 0!==l?l:""}},{key:"toEventable",value:function(l){return-1===this.data.eventOn||l===this.data.eventOn}},{key:"import",value:function(l){return y(t(Z.prototype),"import",this).call(this,l),l.style&&(this.data.style=l.style),l.eventOn&&(this.data.eventOn=l.eventOn),l.value&&(this.data.value=l.value),this}}],[{key:"getDefaultData",value:function(){return{pattern:"",hidden:!1,style:"shape",eventOn:0,value:""}}},{key:"getFormNames",value:function(){if(Z.shapes.length>0)return Z.shapes;var l=Y.a.utils.loadFile(Y.a.getVar(Y.a.CONSTANTS.VAR_STG_CTXROOT)+Y.a.CONSTANTS.CONF_FILE_SHAPESTXT);return void 0!==l&&0===Z.shapes.length?(Z.shapes=Z.shapes.concat(l.split(/\n/)),Z.shapes):Z.shapes}}]),Z}(S);k.methods=Y.a.CONSTANTS.EVENTMETHODS,k.shapes=[];var U=function(){function l(Z,b,G,d){F(this,l),this.data=d,this.data.from=Z,this.data.to=b,this.data.text=G,this.data.hidden=!1}return J(l,[{key:"import",value:function(l){return this.data.from=l.from?l.from:void 0,this.data.to=l.to?l.to:void 0,this.data.text=l.text?l.text:void 0,this.data.hidden=!(!l.hidden&&!1!==l.hidden)&&l.hidden,this}},{key:"match",value:function(l){if(void 0!==l&&"string"==typeof l&&l.length>0||void 0!==l&&"number"==typeof l){var Z=Number(l);return void 0!==this.data.from&&"string"==typeof l&&this.data.from.length>0||void 0!==this.data.from&&"number"==typeof l?Z>=Number(this.data.from)&&(!(void 0!==this.data.to&&"string"==typeof this.data.to&&this.data.to.length>0||void 0!==this.data.from&&"number"==typeof this.data.to)||Z<Number(this.data.to)):!(void 0!==this.data.to&&"string"==typeof this.data.to&&this.data.to.length>0||void 0!==this.data.to&&"number"==typeof this.data.to)||Z<Number(this.data.to)}return!1}},{key:"getFormattedText",value:function(l){return this.match(l)?this.data.text:l}},{key:"show",value:function(){this.data.hidden=!1}},{key:"hide",value:function(){this.data.hidden=!0}},{key:"isHidden",value:function(){return this.data.hidden}},{key:"toVisible",value:function(){return!this.data.hidden}},{key:"export",value:function(){return{from:this.data.from,to:this.data.to,text:this.data.text,hidden:this.data.hidden}}}],[{key:"getDefaultData",value:function(){return{from:void 0,to:void 0,text:void 0,hidden:!1}}}]),l}(),T=function(){function l(Z,b,G){F(this,l),this.data=G,this.data.value=Z,this.data.text=b,this.data.hidden=!1,this.import(G)}return J(l,[{key:"import",value:function(l){return this.data.value=l.value||this.data.value||void 0,this.data.text=l.text||this.data.text||void 0,this.data.hidden=l.hidden||this.data.hidden||!1,this}},{key:"match",value:function(l){return null==l?"null"===this.data.value:!a.a.isString(l)&&Number(this.data.value)===Number(l)||Y.a.utils.matchString(l.toString(),this.data.value)}},{key:"getFormattedText",value:function(l){return null!=l||"null"!==this.data.value&&"undefined"!==this.data.value?this.match(l)?this.data.text?this.data.text:"":"".concat(l):this.data.text?this.data.text:""}},{key:"show",value:function(){this.data.hidden=!1}},{key:"hide",value:function(){this.data.hidden=!0}},{key:"isHidden",value:function(){return this.data.hidden}},{key:"export",value:function(){return{value:this.data.value,text:this.data.text,hidden:this.data.hidden}}}],[{key:"getDefaultdata",value:function(){return{value:void 0,text:void 0,hidden:!1}}}]),l}();function C(l){return function(l){if(Array.isArray(l)){for(var Z=0,b=new Array(l.length);Z<l.length;Z++)b[Z]=l[Z];return b}}(l)||function(l){if(Symbol.iterator in Object(l)||"[object Arguments]"===Object.prototype.toString.call(l))return Array.from(l)}(l)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function z(l,Z){for(var b=0;b<Z.length;b++){var G=Z[b];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(l,G.key,G)}}E.$inject=["$q","uiSegmentSrv"];var v=function(){function l(Z){var b=this;!function(l,Z){if(!(l instanceof Z))throw new TypeError("Cannot call a class as a function")}(this,l),this.style=Y.a.CONSTANTS.COLORMETHODS,this.metricType=Y.a.CONSTANTS.METRIC_TYPES,this.colorOn=Y.a.CONSTANTS.COLOR_APPLYON,this.linkOn=Y.a.CONSTANTS.LINK_APPLYON,this.tooltipOn=Y.a.CONSTANTS.TOOLTIP_APPLYON,this.textOn=Y.a.CONSTANTS.TEXT_APPLYON,this.textReplace=Y.a.CONSTANTS.TEXTMETHODS,this.EventType=k.getDefaultMethods(),this.tpDirection=Y.a.CONSTANTS.TOOLTIP_DIRECTION_TYPES,this.propTypes=Y.a.CONSTANTS.IDENT_TYPES,this.textPattern="/.*/",this.metricTypes=Y.a.CONSTANTS.VALUE_TYPES,this.dateFormats=Y.a.CONSTANTS.VALUE_DATEFORMAT_TYPES,this.aggregationTypes=Y.a.CONSTANTS.AGGREGATION_TYPES,this.mappingTypes=Y.a.CONSTANTS.VALUEMAPPINGTYPES,this.tpGraphType=Y.a.CONSTANTS.TOOLTIP_GRAPH_TYPES,this.tpGraphScale=Y.a.CONSTANTS.TOOLTIP_GRAPH_SCALE_TYPES,this.tpGraphSize=Y.a.CONSTANTS.TOOLTIP_GRAPH_SIZE_TYPES,Z.editor=this,Z.$GF=Y.a.me(),this.$scope=Z,this.ctrl=Z.ctrl,this.panel=this.ctrl.panel,this.rulesHandler=this.ctrl.rulesHandler,this.flowchartHandler=this.ctrl.flowchartHandler,this.rulesHandler=this.ctrl.rulesHandler,this.metricHandler=this.ctrl.metricHandler,this.unitFormats=u.getUnitFormats(),this.tpGraphSize=Y.a.CONSTANTS.TOOLTIP_GRAPH_SIZE_TYPES,this.getMetricNames=function(){return b.metricHandler.getNames("serie")},this.getCellNames=function(){var l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"id",Z=b.flowchartHandler.getFlowchart(),G=Z.getNamesByProp(l),d=new Set(G),m=C(d);return m=m.filter((function(l){return void 0!==l&&l.length>0}))},this.getCellNamesById=function(){return b.getCellNames("id")},this.getCellNamesByValue=function(){return b.getCellNames("value")},this.getVariables=function(){return Y.a.getFullAvailableVarNames()},this.getEventValues=[]}var Z,b,G;return l.$inject=["$scope"],Z=l,(b=[{key:"isFirstRule",value:function(l){return 0===l}},{key:"isOnlySeries",value:function(){return this.metricHandler.isTypeOf("serie")&&!this.metricHandler.isTypeOf("table")}},{key:"isOnlyTables",value:function(){return!this.metricHandler.isTypeOf("serie")&&this.metricHandler.isTypeOf("table")}},{key:"isMultipleType",value:function(){return this.metricHandler.isTypeOf("serie")&&this.metricHandler.isTypeOf("table")}},{key:"initType",value:function(l){this.isOnlyTables()?l.data.metricType="table":this.isOnlySeries()&&(l.data.metricType="serie")}},{key:"getTablesName",value:function(){return this.metricHandler.getNames("table")}},{key:"getColumnsForTable",value:function(l){return this.metricHandler.getColumnsName(l,"table")}},{key:"isLastRule",value:function(l){return l===this.rulesHandler.countRules()-1}},{key:"render",value:function(){this.ctrl.render()}},{key:"setUnitFormat",value:function(l,Z){l.data.unit=Z.value,this.onRulesChange()}},{key:"onRulesChange",value:function(){return Y.a.log.info("MappingOptionsCtrl.onRulesChange()"),this.flowchartHandler.onRulesChange(),this.render(),!0}},{key:"getLevels",value:function(l){for(var Z=[],b=l.data.colors.length,G=0;G<b;G++)Z.push({text:"".concat(G),value:G});return Z}},{key:"removeShapeMap",value:function(l,Z){var b=l.getShapeMap(Z);this.unselectCell(l.data.shapeProp,b.data.pattern),l.removeShapeMap(Z)}},{key:"removeTextMap",value:function(l,Z){var b=l.getTextMap(Z);this.unselectCell(l.data.textProp,b.data.pattern),l.removeTextMap(Z)}},{key:"removeLinkMap",value:function(l,Z){var b=l.getLinkMap(Z);this.unselectCell(l.data.linkProp,b.data.pattern),l.removeLinkMap(Z)}},{key:"removeEventMap",value:function(l,Z){var b=l.getEventMap(Z);this.unselectCell(l.data.eventProp,b.data.pattern),l.removeEventMap(Z)}},{key:"onColorChange",value:function(l,Z){var b=this;return function(G){b.rulesHandler.getRule(l).data.colors[Z]=G,b.onRulesChange()}}},{key:"selectCell",value:function(l,Z){return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark((function b(){var G,d;return regeneratorRuntime.wrap((function(b){for(;;)switch(b.prev=b.next){case 0:G=this.flowchartHandler.getFlowchart(),(d=G.getXGraph())&&d.selectMxCells(l,Z);case 3:case"end":return b.stop()}}),b,this)})))}},{key:"unselectCell",value:function(l,Z){return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark((function b(){var G,d;return regeneratorRuntime.wrap((function(b){for(;;)switch(b.prev=b.next){case 0:G=this.flowchartHandler.getFlowchart(),(d=G.getXGraph())&&d.unselectMxCells(l,Z);case 3:case"end":return b.stop()}}),b,this)})))}},{key:"toggleShow",value:function(l,Z){l.data.hidden=Z,this.onRulesChange()}},{key:"highlightCells",value:function(l){return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark((function Z(){return regeneratorRuntime.wrap((function(Z){for(;;)switch(Z.prev=Z.next){case 0:l.highlightCells();case 1:case"end":return Z.stop()}}),Z)})))}},{key:"unhighlightCells",value:function(l){return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark((function Z(){return regeneratorRuntime.wrap((function(Z){for(;;)switch(Z.prev=Z.next){case 0:l.unhighlightCells();case 1:case"end":return Z.stop()}}),Z)})))}},{key:"unhighlightAllCells",value:function(){return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark((function l(){var Z,b;return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:Z=this.flowchartHandler.getFlowchart(),(b=Z.getXGraph())&&b.unhighlightCells();case 3:case"end":return l.stop()}}),l,this)})))}},{key:"removeRule",value:function(l,Z){(1===l.removeClick||Z)&&(this.rulesHandler.removeRule(l),this.onRulesChange()),l.removeClick=1,window.setInterval((function(){l&&(l.removeClick=2)}),2e3)}},{key:"cloneRule",value:function(l){this.rulesHandler.cloneRule(l),this.onRulesChange()}},{key:"moveRule",value:function(l,Z){Z?this.rulesHandler.moveRuleToUp(l):this.rulesHandler.moveRuleToDown(l),this.onRulesChange()}},{key:"onEventValue",value:function(l){this.getEventValues=l.getTypeahead()}}])&&z(Z.prototype,b),G&&z(Z,G),l}();function E(l,Z){return{restrict:"E",scope:!0,templateUrl:"".concat(Y.a.plugin.getPartialPath(),"/mapping/index.html"),controller:v}}var H=b(10);function M(l,Z){for(var b=0;b<Z.length;b++){var G=Z[b];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(l,G.key,G)}}var w=function(){function l(Z,b,G){var d=this;!function(l,Z){if(!(l instanceof Z))throw new TypeError("Cannot call a class as a function")}(this,l),this.xmlGraph="",this.csvGraph="",this.type="xml",this.graph=void 0,this.scale=!0,this.tooltip=!0,this.lock=!0,this.center=!0,this.animation=!0,this.zoom=!1,this.zoomFactor=1.2,this.cumulativeZoomFactor=1,this.grid=!1,this.bgColor=null,this.zoomPercent="1",this.cells={id:[],value:[]},this.container=Z,this.type=b,this.onMapping={active:!1,$scope:null,value:null,prop:"id",object:null},l.initMxGraph(),"xml"===b&&(Y.a.utils.isencoded(G)?this.xmlGraph=Y.a.utils.decode(G,!0,!0,!0):this.xmlGraph=G),"csv"===b&&(this.csvGraph=G),this.initGraph();var m=this;Y.a.DEBUG&&(console.log("DEBUG ON"),this.graph.addListener(mxEvent.CLICK,(function(l,Z){if(console.log("DEBUG CLICK"),d.eventDebug(Z),Z.properties.cell){var b=Z.properties.cell.id,G=Y.a.getVar("STATE_".concat(b));console.log("DEBUG GF STATE",G);var W=m.graph.view;console.log("DEBUG CELL STATE",W.getState(Z.properties.cell))}})))}var Z,b,G;return Z=l,G=[{key:"isValidXml",value:function(l){try{var Z=document.createElement("div"),b=new Graph(Z);Y.a.utils.isencoded(l)&&(l=Y.a.utils.decode(l,!0,!0,!0));var G=mxUtils.parseXml(l),d=new mxCodec(G);return b.getModel().beginUpdate(),d.decode(G.documentElement,b.getModel()),b.getModel().endUpdate(),b.destroy(),!0}catch(l){return Y.a.log.error("isValidXml",l),!1}}},{key:"initMxGraph",value:function(){return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark((function Z(){var b,G;return regeneratorRuntime.wrap((function(Z){for(;;)switch(Z.prev=Z.next){case 0:b=Y.a.trace.before(this.constructor.name+".initMxGgraph()"),G=window,l.initialized||(void 0!==G.mxGraph&&void 0!==G.mxGraph||(l.preInitGlobalVars(),window.eval(window.atob("d2luZG93LlNURU5DSUxfUEFUSD13aW5kb3cuU1RFTkNJTF9QQVRIfHwiaHR0cHM6Ly93d3cuZHJhdy5pby9zdGVuY2lscyI7d2luZG93LlNIQVBFU19QQVRIPXdpbmRvdy5TSEFQRVNfUEFUSHx8Imh0dHBzOi8vd3d3LmRyYXcuaW8vc2hhcGVzIjt3aW5kb3cubXhCYXNlUGF0aD13aW5kb3cubXhCYXNlUGF0aHx8Imh0dHBzOi8vd3d3LmRyYXcuaW8vbXhncmFwaC8iO3dpbmRvdy5teExvYWRTdHlsZXNoZWV0cz13aW5kb3cubXhMb2FkU3R5bGVzaGVldHN8fCExOwovL2ZnbmFzcy5naXRodWIuY29tL3NwaW4uanMjdjIuMC4wCiFmdW5jdGlvbihhLGIpeyJvYmplY3QiPT10eXBlb2YgZXhwb3J0cz9tb2R1bGUuZXhwb3J0cz1iKCk6ImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoYik6YS5TcGlubmVyPWIoKX0odGhpcyxmdW5jdGlvbigpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBhKGEsYil7dmFyIGMsZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KGF8fCJkaXYiKTtmb3IoYyBpbiBiKWRbY109YltjXTtyZXR1cm4gZH1mdW5jdGlvbiBiKGEpe2Zvcih2YXIgYj0xLGM9YXJndW1lbnRzLmxlbmd0aDtjPmI7YisrKWEuYXBwZW5kQ2hpbGQoYXJndW1lbnRzW2JdKTtyZXR1cm4gYX1mdW5jdGlvbiBjKGEsYixjLGQpe3ZhciBlPVsib3BhY2l0eSIsYix+figxMDAqYSksYyxkXS5qb2luKCItIiksZj0uMDErYy9kKjEwMCxnPU1hdGgubWF4KDEtKDEtYSkvYiooMTAwLWYpLGEpLGg9ai5zdWJzdHJpbmcoMCxqLmluZGV4T2YoIkFuaW1hdGlvbiIpKS50b0xvd2VyQ2FzZSgpLGk9aCYmIi0iK2grIi0ifHwiIjtyZXR1cm4gbFtlXXx8KG0uaW5zZXJ0UnVsZSgiQCIraSsia2V5ZnJhbWVzICIrZSsiezAle29wYWNpdHk6IitnKyJ9IitmKyIle29wYWNpdHk6IithKyJ9IisoZisuMDEpKyIle29wYWNpdHk6MX0iKyhmK2IpJTEwMCsiJXtvcGFjaXR5OiIrYSsifTEwMCV7b3BhY2l0eToiK2crIn19IixtLmNzc1J1bGVzLmxlbmd0aCksbFtlXT0xKSxlfWZ1bmN0aW9uIGQoYSxiKXt2YXIgYyxkLGU9YS5zdHlsZTtmb3IoYj1iLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK2Iuc2xpY2UoMSksZD0wO2Q8ay5sZW5ndGg7ZCsrKWlmKGM9a1tkXStiLHZvaWQgMCE9PWVbY10pcmV0dXJuIGM7cmV0dXJuIHZvaWQgMCE9PWVbYl0/Yjp2b2lkIDB9ZnVuY3Rpb24gZShhLGIpe2Zvcih2YXIgYyBpbiBiKWEuc3R5bGVbZChhLGMpfHxjXT1iW2NdO3JldHVybiBhfWZ1bmN0aW9uIGYoYSl7Zm9yKHZhciBiPTE7Yjxhcmd1bWVudHMubGVuZ3RoO2IrKyl7dmFyIGM9YXJndW1lbnRzW2JdO2Zvcih2YXIgZCBpbiBjKXZvaWQgMD09PWFbZF0mJihhW2RdPWNbZF0pfXJldHVybiBhfWZ1bmN0aW9uIGcoYSxiKXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIGE/YTphW2IlYS5sZW5ndGhdfWZ1bmN0aW9uIGgoYSl7dGhpcy5vcHRzPWYoYXx8e30saC5kZWZhdWx0cyxuKX1mdW5jdGlvbiBpKCl7ZnVuY3Rpb24gYyhiLGMpe3JldHVybiBhKCI8IitiKycgeG1sbnM9InVybjpzY2hlbWFzLW1pY3Jvc29mdC5jb206dm1sIiBjbGFzcz0ic3Bpbi12bWwiPicsYyl9bS5hZGRSdWxlKCIuc3Bpbi12bWwiLCJiZWhhdmlvcjp1cmwoI2RlZmF1bHQjVk1MKSIpLGgucHJvdG90eXBlLmxpbmVzPWZ1bmN0aW9uKGEsZCl7ZnVuY3Rpb24gZigpe3JldHVybiBlKGMoImdyb3VwIix7Y29vcmRzaXplOmsrIiAiK2ssY29vcmRvcmlnaW46LWorIiAiKy1qfSkse3dpZHRoOmssaGVpZ2h0Omt9KX1mdW5jdGlvbiBoKGEsaCxpKXtiKG0sYihlKGYoKSx7cm90YXRpb246MzYwL2QubGluZXMqYSsiZGVnIixsZWZ0On5+aH0pLGIoZShjKCJyb3VuZHJlY3QiLHthcmNzaXplOmQuY29ybmVyc30pLHt3aWR0aDpqLGhlaWdodDpkLndpZHRoLGxlZnQ6ZC5yYWRpdXMsdG9wOi1kLndpZHRoPj4xLGZpbHRlcjppfSksYygiZmlsbCIse2NvbG9yOmcoZC5jb2xvcixhKSxvcGFjaXR5OmQub3BhY2l0eX0pLGMoInN0cm9rZSIse29wYWNpdHk6MH0pKSkpfXZhciBpLGo9ZC5sZW5ndGgrZC53aWR0aCxrPTIqaixsPTIqLShkLndpZHRoK2QubGVuZ3RoKSsicHgiLG09ZShmKCkse3Bvc2l0aW9uOiJhYnNvbHV0ZSIsdG9wOmwsbGVmdDpsfSk7aWYoZC5zaGFkb3cpZm9yKGk9MTtpPD1kLmxpbmVzO2krKyloKGksLTIsInByb2dpZDpEWEltYWdlVHJhbnNmb3JtLk1pY3Jvc29mdC5CbHVyKHBpeGVscmFkaXVzPTIsbWFrZXNoYWRvdz0xLHNoYWRvd29wYWNpdHk9LjMpIik7Zm9yKGk9MTtpPD1kLmxpbmVzO2krKyloKGkpO3JldHVybiBiKGEsbSl9LGgucHJvdG90eXBlLm9wYWNpdHk9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9YS5maXJzdENoaWxkO2Q9ZC5zaGFkb3cmJmQubGluZXN8fDAsZSYmYitkPGUuY2hpbGROb2Rlcy5sZW5ndGgmJihlPWUuY2hpbGROb2Rlc1tiK2RdLGU9ZSYmZS5maXJzdENoaWxkLGU9ZSYmZS5maXJzdENoaWxkLGUmJihlLm9wYWNpdHk9YykpfX12YXIgaixrPVsid2Via2l0IiwiTW96IiwibXMiLCJPIl0sbD17fSxtPWZ1bmN0aW9uKCl7dmFyIGM9YSgic3R5bGUiLHt0eXBlOiJ0ZXh0L2NzcyJ9KTtyZXR1cm4gYihkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaGVhZCIpWzBdLGMpLGMuc2hlZXR8fGMuc3R5bGVTaGVldH0oKSxuPXtsaW5lczoxMixsZW5ndGg6Nyx3aWR0aDo1LHJhZGl1czoxMCxyb3RhdGU6MCxjb3JuZXJzOjEsY29sb3I6IiMwMDAiLGRpcmVjdGlvbjoxLHNwZWVkOjEsdHJhaWw6MTAwLG9wYWNpdHk6LjI1LGZwczoyMCx6SW5kZXg6MmU5LGNsYXNzTmFtZToic3Bpbm5lciIsdG9wOiI1MCUiLGxlZnQ6IjUwJSIscG9zaXRpb246ImFic29sdXRlIn07aC5kZWZhdWx0cz17fSxmKGgucHJvdG90eXBlLHtzcGluOmZ1bmN0aW9uKGIpe3RoaXMuc3RvcCgpO3t2YXIgYz10aGlzLGQ9Yy5vcHRzLGY9Yy5lbD1lKGEoMCx7Y2xhc3NOYW1lOmQuY2xhc3NOYW1lfSkse3Bvc2l0aW9uOmQucG9zaXRpb24sd2lkdGg6MCx6SW5kZXg6ZC56SW5kZXh9KTtkLnJhZGl1cytkLmxlbmd0aCtkLndpZHRofWlmKGImJihiLmluc2VydEJlZm9yZShmLGIuZmlyc3RDaGlsZHx8bnVsbCksZShmLHtsZWZ0OmQubGVmdCx0b3A6ZC50b3B9KSksZi5zZXRBdHRyaWJ1dGUoInJvbGUiLCJwcm9ncmVzc2JhciIpLGMubGluZXMoZixjLm9wdHMpLCFqKXt2YXIgZyxoPTAsaT0oZC5saW5lcy0xKSooMS1kLmRpcmVjdGlvbikvMixrPWQuZnBzLGw9ay9kLnNwZWVkLG09KDEtZC5vcGFjaXR5KS8obCpkLnRyYWlsLzEwMCksbj1sL2QubGluZXM7IWZ1bmN0aW9uIG8oKXtoKys7Zm9yKHZhciBhPTA7YTxkLmxpbmVzO2ErKylnPU1hdGgubWF4KDEtKGgrKGQubGluZXMtYSkqbiklbCptLGQub3BhY2l0eSksYy5vcGFjaXR5KGYsYSpkLmRpcmVjdGlvbitpLGcsZCk7Yy50aW1lb3V0PWMuZWwmJnNldFRpbWVvdXQobyx+figxZTMvaykpfSgpfXJldHVybiBjfSxzdG9wOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5lbDtyZXR1cm4gYSYmKGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXQpLGEucGFyZW50Tm9kZSYmYS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGEpLHRoaXMuZWw9dm9pZCAwKSx0aGlzfSxsaW5lczpmdW5jdGlvbihkLGYpe2Z1bmN0aW9uIGgoYixjKXtyZXR1cm4gZShhKCkse3Bvc2l0aW9uOiJhYnNvbHV0ZSIsd2lkdGg6Zi5sZW5ndGgrZi53aWR0aCsicHgiLGhlaWdodDpmLndpZHRoKyJweCIsYmFja2dyb3VuZDpiLGJveFNoYWRvdzpjLHRyYW5zZm9ybU9yaWdpbjoibGVmdCIsdHJhbnNmb3JtOiJyb3RhdGUoIit+figzNjAvZi5saW5lcyprK2Yucm90YXRlKSsiZGVnKSB0cmFuc2xhdGUoIitmLnJhZGl1cysicHgsMCkiLGJvcmRlclJhZGl1czooZi5jb3JuZXJzKmYud2lkdGg+PjEpKyJweCJ9KX1mb3IodmFyIGksaz0wLGw9KGYubGluZXMtMSkqKDEtZi5kaXJlY3Rpb24pLzI7azxmLmxpbmVzO2srKylpPWUoYSgpLHtwb3NpdGlvbjoiYWJzb2x1dGUiLHRvcDoxK34oZi53aWR0aC8yKSsicHgiLHRyYW5zZm9ybTpmLmh3YWNjZWw/InRyYW5zbGF0ZTNkKDAsMCwwKSI6IiIsb3BhY2l0eTpmLm9wYWNpdHksYW5pbWF0aW9uOmomJmMoZi5vcGFjaXR5LGYudHJhaWwsbCtrKmYuZGlyZWN0aW9uLGYubGluZXMpKyIgIisxL2Yuc3BlZWQrInMgbGluZWFyIGluZmluaXRlIn0pLGYuc2hhZG93JiZiKGksZShoKCIjMDAwIiwiMCAwIDRweCAjMDAwIikse3RvcDoiMnB4In0pKSxiKGQsYihpLGgoZyhmLmNvbG9yLGspLCIwIDAgMXB4IHJnYmEoMCwwLDAsLjEpIikpKTtyZXR1cm4gZH0sb3BhY2l0eTpmdW5jdGlvbihhLGIsYyl7YjxhLmNoaWxkTm9kZXMubGVuZ3RoJiYoYS5jaGlsZE5vZGVzW2JdLnN0eWxlLm9wYWNpdHk9Yyl9fSk7dmFyIG89ZShhKCJncm91cCIpLHtiZWhhdmlvcjoidXJsKCNkZWZhdWx0I1ZNTCkifSk7cmV0dXJuIWQobywidHJhbnNmb3JtIikmJm8uYWRqP2koKTpqPWQobywiYW5pbWF0aW9uIiksaH0pOwovLyBOT1RFOiBNb2RpZmllZCB0byBzdXBwb3J0IGRhdGEgVVJJcyBmb3IgaW1hZ2VzLCBpZS4gZGF0YTppbWFnZS8qCi8vIE1vZGlmaWVkIHRvIGFsbG93ICJ3b3JkLWJyZWFrOiBicmVhay13b3JkIiBpbiBzdHlsZXMuIEl0IGlzIGRvbmUgYnkgYWRkaW5nICJicmVhay13b3JkIiB3aGljaCBpcyBhdCBpbmRleCA1NSBvZiBKIGFycmF5IEpbNTVdIHRvICJjc3NMaXRHcm91cCIgb2YgIndvcmQtYnJlYWsiCihmdW5jdGlvbigpe3ZhciBjPXZvaWQgMCxuPSEwLHM9bnVsbCxDPSExLEo9WyJhbGljZWJsdWUsYW50aXF1ZXdoaXRlLGFxdWEsYXF1YW1hcmluZSxhenVyZSxiZWlnZSxiaXNxdWUsYmxhY2ssYmxhbmNoZWRhbG1vbmQsYmx1ZSxibHVldmlvbGV0LGJyb3duLGJ1cmx5d29vZCxjYWRldGJsdWUsY2hhcnRyZXVzZSxjaG9jb2xhdGUsY29yYWwsY29ybmZsb3dlcmJsdWUsY29ybnNpbGssY3JpbXNvbixjeWFuLGRhcmtibHVlLGRhcmtjeWFuLGRhcmtnb2xkZW5yb2QsZGFya2dyYXksZGFya2dyZWVuLGRhcmtraGFraSxkYXJrbWFnZW50YSxkYXJrb2xpdmVncmVlbixkYXJrb3JhbmdlLGRhcmtvcmNoaWQsZGFya3JlZCxkYXJrc2FsbW9uLGRhcmtzZWFncmVlbixkYXJrc2xhdGVibHVlLGRhcmtzbGF0ZWdyYXksZGFya3R1cnF1b2lzZSxkYXJrdmlvbGV0LGRlZXBwaW5rLGRlZXBza3libHVlLGRpbWdyYXksZG9kZ2VyYmx1ZSxmaXJlYnJpY2ssZmxvcmFsd2hpdGUsZm9yZXN0Z3JlZW4sZnVjaHNpYSxnYWluc2Jvcm8sZ2hvc3R3aGl0ZSxnb2xkLGdvbGRlbnJvZCxncmF5LGdyZWVuLGdyZWVueWVsbG93LGhvbmV5ZGV3LGhvdHBpbmssaW5kaWFucmVkLGluZGlnbyxpdm9yeSxraGFraSxsYXZlbmRlcixsYXZlbmRlcmJsdXNoLGxhd25ncmVlbixsZW1vbmNoaWZmb24sbGlnaHRibHVlLGxpZ2h0Y29yYWwsbGlnaHRjeWFuLGxpZ2h0Z29sZGVucm9keWVsbG93LGxpZ2h0Z3JlZW4sbGlnaHRncmV5LGxpZ2h0cGluayxsaWdodHNhbG1vbixsaWdodHNlYWdyZWVuLGxpZ2h0c2t5Ymx1ZSxsaWdodHNsYXRlZ3JheSxsaWdodHN0ZWVsYmx1ZSxsaWdodHllbGxvdyxsaW1lLGxpbWVncmVlbixsaW5lbixtYWdlbnRhLG1hcm9vbixtZWRpdW1hcXVhbWFyaW5lLG1lZGl1bWJsdWUsbWVkaXVtb3JjaGlkLG1lZGl1bXB1cnBsZSxtZWRpdW1zZWFncmVlbixtZWRpdW1zbGF0ZWJsdWUsbWVkaXVtc3ByaW5nZ3JlZW4sbWVkaXVtdHVycXVvaXNlLG1lZGl1bXZpb2xldHJlZCxtaWRuaWdodGJsdWUsbWludGNyZWFtLG1pc3R5cm9zZSxtb2NjYXNpbixuYXZham93aGl0ZSxuYXZ5LG9sZGxhY2Usb2xpdmUsb2xpdmVkcmFiLG9yYW5nZSxvcmFuZ2VyZWQsb3JjaGlkLHBhbGVnb2xkZW5yb2QscGFsZWdyZWVuLHBhbGV0dXJxdW9pc2UscGFsZXZpb2xldHJlZCxwYXBheWF3aGlwLHBlYWNocHVmZixwZXJ1LHBpbmsscGx1bSxwb3dkZXJibHVlLHB1cnBsZSxyZWQscm9zeWJyb3duLHJveWFsYmx1ZSxzYWRkbGVicm93bixzYWxtb24sc2FuZHlicm93bixzZWFncmVlbixzZWFzaGVsbCxzaWVubmEsc2lsdmVyLHNreWJsdWUsc2xhdGVibHVlLHNsYXRlZ3JheSxzbm93LHNwcmluZ2dyZWVuLHN0ZWVsYmx1ZSx0YW4sdGVhbCx0aGlzdGxlLHRvbWF0byx0cmFuc3BhcmVudCx0dXJxdW9pc2UsdmlvbGV0LHdoZWF0LHdoaXRlLHdoaXRlc21va2UseWVsbG93LHllbGxvd2dyZWVuIi5zcGxpdCgiLCIpLAoiYWxsLXNjcm9sbCxjb2wtcmVzaXplLGNyb3NzaGFpcixkZWZhdWx0LGUtcmVzaXplLGhhbmQsaGVscCxtb3ZlLG4tcmVzaXplLG5lLXJlc2l6ZSxuby1kcm9wLG5vdC1hbGxvd2VkLG53LXJlc2l6ZSxwb2ludGVyLHByb2dyZXNzLHJvdy1yZXNpemUscy1yZXNpemUsc2UtcmVzaXplLHN3LXJlc2l6ZSx0ZXh0LHZlcnRpY2FsLXRleHQsdy1yZXNpemUsd2FpdCIuc3BsaXQoIiwiKSwiYXJtZW5pYW4sZGVjaW1hbCxkZWNpbWFsLWxlYWRpbmctemVybyxkaXNjLGdlb3JnaWFuLGxvd2VyLWFscGhhLGxvd2VyLWdyZWVrLGxvd2VyLWxhdGluLGxvd2VyLXJvbWFuLHNxdWFyZSx1cHBlci1hbHBoYSx1cHBlci1sYXRpbix1cHBlci1yb21hbiIuc3BsaXQoIiwiKSwiMTAwLDIwMCwzMDAsNDAwLDUwMCw2MDAsNzAwLDgwMCw5MDAsYm9sZCxib2xkZXIsbGlnaHRlciIuc3BsaXQoIiwiKSwiYmxvY2stbGV2ZWwsaW5saW5lLWxldmVsLHRhYmxlLWNhcHRpb24sdGFibGUtY2VsbCx0YWJsZS1jb2x1bW4sdGFibGUtY29sdW1uLWdyb3VwLHRhYmxlLWZvb3Rlci1ncm91cCx0YWJsZS1oZWFkZXItZ3JvdXAsdGFibGUtcm93LHRhYmxlLXJvdy1ncm91cCIuc3BsaXQoIiwiKSwKImNvbmRlbnNlZCxleHBhbmRlZCxleHRyYS1jb25kZW5zZWQsZXh0cmEtZXhwYW5kZWQsbmFycm93ZXIsc2VtaS1jb25kZW5zZWQsc2VtaS1leHBhbmRlZCx1bHRyYS1jb25kZW5zZWQsdWx0cmEtZXhwYW5kZWQsd2lkZXIiLnNwbGl0KCIsIiksImluaGVyaXQsaW5saW5lLGlubGluZS1ibG9jayxpbmxpbmUtYm94LGlubGluZS1mbGV4LGlubGluZS1ncmlkLGlubGluZS1saXN0LWl0ZW0saW5saW5lLXN0YWNrLGlubGluZS10YWJsZSxydW4taW4iLnNwbGl0KCIsIiksImJlaGluZCxjZW50ZXItbGVmdCxjZW50ZXItcmlnaHQsZmFyLWxlZnQsZmFyLXJpZ2h0LGxlZnQtc2lkZSxsZWZ0d2FyZHMscmlnaHQtc2lkZSxyaWdodHdhcmRzIi5zcGxpdCgiLCIpLCJsYXJnZSxsYXJnZXIsc21hbGwsc21hbGxlcix4LWxhcmdlLHgtc21hbGwseHgtbGFyZ2UseHgtc21hbGwiLnNwbGl0KCIsIiksImRhc2hlZCxkb3R0ZWQsZG91YmxlLGdyb292ZSxvdXRzZXQscmlkZ2Usc29saWQiLnNwbGl0KCIsIiksCiJlYXNlLGVhc2UtaW4sZWFzZS1pbi1vdXQsZWFzZS1vdXQsbGluZWFyLHN0ZXAtZW5kLHN0ZXAtc3RhcnQiLnNwbGl0KCIsIiksImF0LGNsb3Nlc3QtY29ybmVyLGNsb3Nlc3Qtc2lkZSxlbGxpcHNlLGZhcnRoZXN0LWNvcm5lcixmYXJ0aGVzdC1zaWRlIi5zcGxpdCgiLCIpLCJiYXNlbGluZSxtaWRkbGUsc3ViLHN1cGVyLHRleHQtYm90dG9tLHRleHQtdG9wIi5zcGxpdCgiLCIpLCJjYXB0aW9uLGljb24sbWVudSxtZXNzYWdlLWJveCxzbWFsbC1jYXB0aW9uLHN0YXR1cy1iYXIiLnNwbGl0KCIsIiksImZhc3QsZmFzdGVyLHNsb3csc2xvd2VyLHgtZmFzdCx4LXNsb3ciLnNwbGl0KCIsIiksWyJhYm92ZSIsImJlbG93IiwiaGlnaGVyIiwibGV2ZWwiLCJsb3dlciJdLFsiY3Vyc2l2ZSIsImZhbnRhc3kiLCJtb25vc3BhY2UiLCJzYW5zLXNlcmlmIiwic2VyaWYiXSxbImxvdWQiLCJzaWxlbnQiLCJzb2Z0IiwieC1sb3VkIiwieC1zb2Z0Il0sWyJuby1yZXBlYXQiLCJyZXBlYXQteCIsInJlcGVhdC15IiwKInJvdW5kIiwic3BhY2UiXSxbImJsaW5rIiwibGluZS10aHJvdWdoIiwib3ZlcmxpbmUiLCJ1bmRlcmxpbmUiXSxbImJsb2NrIiwiZmxleCIsImdyaWQiLCJ0YWJsZSJdLFsiaGlnaCIsImxvdyIsIngtaGlnaCIsIngtbG93Il0sWyJub3dyYXAiLCJwcmUiLCJwcmUtbGluZSIsInByZS13cmFwIl0sWyJhYnNvbHV0ZSIsInJlbGF0aXZlIiwic3RhdGljIl0sWyJhbHRlcm5hdGUiLCJhbHRlcm5hdGUtcmV2ZXJzZSIsInJldmVyc2UiXSxbImJvcmRlci1ib3giLCJjb250ZW50LWJveCIsInBhZGRpbmctYm94Il0sWyJjYXBpdGFsaXplIiwibG93ZXJjYXNlIiwidXBwZXJjYXNlIl0sWyJjaGlsZCIsImZlbWFsZSIsIm1hbGUiXSxbIj0iLCJvcGFjaXR5Il0sWyJiYWNrd2FyZHMiLCJmb3J3YXJkcyJdLFsiYmlkaS1vdmVycmlkZSIsImVtYmVkIl0sWyJib3R0b20iLCJ0b3AiXSxbImJyZWFrLWFsbCIsImtlZXAtYWxsIl0sWyJjbGlwIiwiZWxsaXBzaXMiXSxbImNvbnRhaW4iLCJjb3ZlciJdLApbImNvbnRpbnVvdXMiLCJkaWdpdHMiXSxbImVuZCIsInN0YXJ0Il0sWyJmbGF0IiwicHJlc2VydmUtM2QiXSxbImhpZGUiLCJzaG93Il0sWyJob3Jpem9udGFsIiwidmVydGljYWwiXSxbImluc2lkZSIsIm91dHNpZGUiXSxbIml0YWxpYyIsIm9ibGlxdWUiXSxbImxlZnQiLCJyaWdodCJdLFsibHRyIiwicnRsIl0sWyJuby1jb250ZW50Iiwibm8tZGlzcGxheSJdLFsicGF1c2VkIiwicnVubmluZyJdLFsic3VwcHJlc3MiLCJ1bnJlc3RyaWN0ZWQiXSxbInRoaWNrIiwidGhpbiJdLFsiLCJdLFsiLyJdLFsiYWxsIl0sWyJhbHdheXMiXSxbImF1dG8iXSxbImF2b2lkIl0sWyJib3RoIl0sWyJicmVhay13b3JkIl0sWyJjZW50ZXIiXSxbImNpcmNsZSJdLFsiY29kZSJdLFsiY29sbGFwc2UiXSxbImNvbnRlbnRzIl0sWyJmaXhlZCJdLFsiaGlkZGVuIl0sWyJpbmZpbml0ZSJdLFsiaW5zZXQiXSxbImludmVydCJdLFsianVzdGlmeSJdLFsibGlzdC1pdGVtIl0sWyJsb2NhbCJdLFsibWVkaXVtIl0sClsibWl4Il0sWyJub25lIl0sWyJub3JtYWwiXSxbIm9uY2UiXSxbInJlcGVhdCJdLFsic2Nyb2xsIl0sWyJzZXBhcmF0ZSJdLFsic21hbGwtY2FwcyJdLFsic3BlbGwtb3V0Il0sWyJ0byJdLFsidmlzaWJsZSJdXSxMPXthbmltYXRpb246e2Nzc1Byb3BCaXRzOjUxNyxjc3NMaXRHcm91cDpbSlsxMF0sSlsyNF0sSlsyOV0sSls0NV0sSls0OF0sSls1NF0sSls2M10sSls3MV0sSls3Ml1dLGNzc0ZuczpbImN1YmljLWJlemllcigpIiwic3RlcHMoKSJdfSwiYW5pbWF0aW9uLWRlbGF5Ijp7Y3NzUHJvcEJpdHM6NSxjc3NMaXRHcm91cDpbSls0OF1dLGNzc0ZuczpbXX0sImFuaW1hdGlvbi1kaXJlY3Rpb24iOntjc3NQcm9wQml0czowLGNzc0xpdEdyb3VwOltKWzI0XSxKWzQ4XSxKWzcyXV0sY3NzRm5zOltdfSwiYW5pbWF0aW9uLWR1cmF0aW9uIjoiYW5pbWF0aW9uLWRlbGF5IiwiYW5pbWF0aW9uLWZpbGwtbW9kZSI6e2Nzc1Byb3BCaXRzOjAsY3NzTGl0R3JvdXA6W0pbMjldLEpbNDhdLApKWzU0XSxKWzcxXV0sY3NzRm5zOltdfSwiYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudCI6e2Nzc1Byb3BCaXRzOjUsY3NzTGl0R3JvdXA6W0pbNDhdLEpbNjNdXSxjc3NGbnM6W119LCJhbmltYXRpb24tbmFtZSI6e2Nzc1Byb3BCaXRzOjUxMixjc3NMaXRHcm91cDpbSls0OF0sSls3MV1dLGNzc0ZuczpbXX0sImFuaW1hdGlvbi1wbGF5LXN0YXRlIjp7Y3NzUHJvcEJpdHM6MCxjc3NMaXRHcm91cDpbSls0NV0sSls0OF1dLGNzc0ZuczpbXX0sImFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb24iOntjc3NQcm9wQml0czowLGNzc0xpdEdyb3VwOltKWzEwXSxKWzQ4XV0sY3NzRm5zOlsiY3ViaWMtYmV6aWVyKCkiLCJzdGVwcygpIl19LGFwcGVhcmFuY2U6e2Nzc1Byb3BCaXRzOjAsY3NzTGl0R3JvdXA6W0pbNzFdXSxjc3NGbnM6W119LGF6aW11dGg6e2Nzc1Byb3BCaXRzOjUsY3NzTGl0R3JvdXA6W0pbN10sSls0Ml0sSls1Nl1dLGNzc0ZuczpbXX0sImJhY2tmYWNlLXZpc2liaWxpdHkiOntjc3NQcm9wQml0czowLApjc3NMaXRHcm91cDpbSls1OV0sSls2Ml0sSls4MF1dLGNzc0ZuczpbXX0sYmFja2dyb3VuZDp7Y3NzUHJvcEJpdHM6MjMsY3NzTGl0R3JvdXA6W0pbMF0sSlsxOF0sSlsyNV0sSlszMV0sSlszNF0sSls0Ml0sSls0OF0sSls0OV0sSls1Ml0sSls1Nl0sSls2MV0sSls2OF0sSls3MV0sSls3NF0sSls3NV1dLGNzc0ZuczoiaW1hZ2UoKSxsaW5lYXItZ3JhZGllbnQoKSxyYWRpYWwtZ3JhZGllbnQoKSxyZXBlYXRpbmctbGluZWFyLWdyYWRpZW50KCkscmVwZWF0aW5nLXJhZGlhbC1ncmFkaWVudCgpLHJnYigpLHJnYmEoKSIuc3BsaXQoIiwiKX0sImJhY2tncm91bmQtYXR0YWNobWVudCI6e2Nzc1Byb3BCaXRzOjAsY3NzTGl0R3JvdXA6W0pbNDhdLEpbNjFdLEpbNjhdLEpbNzVdXSxjc3NGbnM6W119LCJiYWNrZ3JvdW5kLWNvbG9yIjp7Y3NzUHJvcEJpdHM6Mixjc3NMaXRHcm91cDpbSlswXV0sY3NzRm5zOlsicmdiKCkiLCJyZ2JhKCkiXX0sImJhY2tncm91bmQtaW1hZ2UiOntjc3NQcm9wQml0czoxNiwKY3NzTGl0R3JvdXA6W0pbNDhdLEpbNzFdXSxjc3NGbnM6WyJpbWFnZSgpIiwibGluZWFyLWdyYWRpZW50KCkiLCJyYWRpYWwtZ3JhZGllbnQoKSIsInJlcGVhdGluZy1saW5lYXItZ3JhZGllbnQoKSIsInJlcGVhdGluZy1yYWRpYWwtZ3JhZGllbnQoKSJdfSwiYmFja2dyb3VuZC1wb3NpdGlvbiI6e2Nzc1Byb3BCaXRzOjUsY3NzTGl0R3JvdXA6W0pbMzFdLEpbNDJdLEpbNDhdLEpbNTZdXSxjc3NGbnM6W119LCJiYWNrZ3JvdW5kLXJlcGVhdCI6e2Nzc1Byb3BCaXRzOjAsY3NzTGl0R3JvdXA6W0pbMThdLEpbNDhdLEpbNzRdXSxjc3NGbnM6W119LCJiYWNrZ3JvdW5kLXNpemUiOntjc3NQcm9wQml0czo1LGNzc0xpdEdyb3VwOltKWzM0XSxKWzQ4XSxKWzUyXV0sY3NzRm5zOltdfSxib3JkZXI6e2Nzc1Byb3BCaXRzOjcsY3NzTGl0R3JvdXA6W0pbMF0sSls5XSxKWzQ3XSxKWzYyXSxKWzY0XSxKWzY5XSxKWzcxXV0sY3NzRm5zOlsicmdiKCkiLCJyZ2JhKCkiXX0sImJvcmRlci1ib3R0b20iOiJib3JkZXIiLAoiYm9yZGVyLWJvdHRvbS1jb2xvciI6ImJhY2tncm91bmQtY29sb3IiLCJib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzIjp7Y3NzUHJvcEJpdHM6NSxjc3NGbnM6W119LCJib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1cyI6ImJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXMiLCJib3JkZXItYm90dG9tLXN0eWxlIjp7Y3NzUHJvcEJpdHM6MCxjc3NMaXRHcm91cDpbSls5XSxKWzYyXSxKWzY0XSxKWzcxXV0sY3NzRm5zOltdfSwiYm9yZGVyLWJvdHRvbS13aWR0aCI6e2Nzc1Byb3BCaXRzOjUsY3NzTGl0R3JvdXA6W0pbNDddLEpbNjldXSxjc3NGbnM6W119LCJib3JkZXItY29sbGFwc2UiOntjc3NQcm9wQml0czowLGNzc0xpdEdyb3VwOltKWzU5XSxKWzc2XV0sY3NzRm5zOltdfSwiYm9yZGVyLWNvbG9yIjoiYmFja2dyb3VuZC1jb2xvciIsImJvcmRlci1sZWZ0IjoiYm9yZGVyIiwiYm9yZGVyLWxlZnQtY29sb3IiOiJiYWNrZ3JvdW5kLWNvbG9yIiwiYm9yZGVyLWxlZnQtc3R5bGUiOiJib3JkZXItYm90dG9tLXN0eWxlIiwKImJvcmRlci1sZWZ0LXdpZHRoIjoiYm9yZGVyLWJvdHRvbS13aWR0aCIsImJvcmRlci1yYWRpdXMiOntjc3NQcm9wQml0czo1LGNzc0xpdEdyb3VwOltKWzQ5XV0sY3NzRm5zOltdfSwiYm9yZGVyLXJpZ2h0IjoiYm9yZGVyIiwiYm9yZGVyLXJpZ2h0LWNvbG9yIjoiYmFja2dyb3VuZC1jb2xvciIsImJvcmRlci1yaWdodC1zdHlsZSI6ImJvcmRlci1ib3R0b20tc3R5bGUiLCJib3JkZXItcmlnaHQtd2lkdGgiOiJib3JkZXItYm90dG9tLXdpZHRoIiwiYm9yZGVyLXNwYWNpbmciOiJib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzIiwiYm9yZGVyLXN0eWxlIjoiYm9yZGVyLWJvdHRvbS1zdHlsZSIsImJvcmRlci10b3AiOiJib3JkZXIiLCJib3JkZXItdG9wLWNvbG9yIjoiYmFja2dyb3VuZC1jb2xvciIsImJvcmRlci10b3AtbGVmdC1yYWRpdXMiOiJib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzIiwiYm9yZGVyLXRvcC1yaWdodC1yYWRpdXMiOiJib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzIiwKImJvcmRlci10b3Atc3R5bGUiOiJib3JkZXItYm90dG9tLXN0eWxlIiwiYm9yZGVyLXRvcC13aWR0aCI6ImJvcmRlci1ib3R0b20td2lkdGgiLCJib3JkZXItd2lkdGgiOiJib3JkZXItYm90dG9tLXdpZHRoIixib3R0b206e2Nzc1Byb3BCaXRzOjUsY3NzTGl0R3JvdXA6W0pbNTJdXSxjc3NGbnM6W119LGJveDp7Y3NzUHJvcEJpdHM6MCxjc3NMaXRHcm91cDpbSls2MF0sSls3MV0sSls3Ml1dLGNzc0ZuczpbXX0sImJveC1zaGFkb3ciOntjc3NQcm9wQml0czo3LGNzc0xpdEdyb3VwOltKWzBdLEpbNDhdLEpbNjRdLEpbNzFdXSxjc3NGbnM6WyJyZ2IoKSIsInJnYmEoKSJdfSwiYm94LXNpemluZyI6e2Nzc1Byb3BCaXRzOjAsY3NzTGl0R3JvdXA6W0pbMjVdXSxjc3NGbnM6W119LCJjYXB0aW9uLXNpZGUiOntjc3NQcm9wQml0czowLGNzc0xpdEdyb3VwOltKWzMxXV0sY3NzRm5zOltdfSxjbGVhcjp7Y3NzUHJvcEJpdHM6MCxjc3NMaXRHcm91cDpbSls0Ml0sSls1NF0sSls3MV1dLGNzc0ZuczpbXX0sCmNsaXA6e2Nzc1Byb3BCaXRzOjAsY3NzTGl0R3JvdXA6W0pbNTJdXSxjc3NGbnM6WyJyZWN0KCkiXX0sY29sb3I6ImJhY2tncm91bmQtY29sb3IiLGNvbnRlbnQ6e2Nzc1Byb3BCaXRzOjgsY3NzTGl0R3JvdXA6W0pbNzFdLEpbNzJdXSxjc3NGbnM6W119LGN1ZTp7Y3NzUHJvcEJpdHM6MTYsY3NzTGl0R3JvdXA6W0pbNzFdXSxjc3NGbnM6W119LCJjdWUtYWZ0ZXIiOiJjdWUiLCJjdWUtYmVmb3JlIjoiY3VlIixjdXJzb3I6e2Nzc1Byb3BCaXRzOjE2LGNzc0xpdEdyb3VwOltKWzFdLEpbNDhdLEpbNTJdXSxjc3NGbnM6W119LGRpcmVjdGlvbjp7Y3NzUHJvcEJpdHM6MCxjc3NMaXRHcm91cDpbSls0M11dLGNzc0ZuczpbXX0sZGlzcGxheTp7Y3NzUHJvcEJpdHM6MCxjc3NMaXRHcm91cDpbSls0XSxKWzZdLEpbMjBdLEpbNTJdLEpbNjddLEpbNzFdXSxjc3NGbnM6W119LCJkaXNwbGF5LWV4dHJhcyI6e2Nzc1Byb3BCaXRzOjAsY3NzTGl0R3JvdXA6W0pbNjddLEpbNzFdXSxjc3NGbnM6W119LAoiZGlzcGxheS1pbnNpZGUiOntjc3NQcm9wQml0czowLGNzc0xpdEdyb3VwOltKWzIwXSxKWzUyXV0sY3NzRm5zOltdfSwiZGlzcGxheS1vdXRzaWRlIjp7Y3NzUHJvcEJpdHM6MCxjc3NMaXRHcm91cDpbSls0XSxKWzcxXV0sY3NzRm5zOltdfSxlbGV2YXRpb246e2Nzc1Byb3BCaXRzOjUsY3NzTGl0R3JvdXA6W0pbMTVdXSxjc3NGbnM6W119LCJlbXB0eS1jZWxscyI6e2Nzc1Byb3BCaXRzOjAsY3NzTGl0R3JvdXA6W0pbMzhdXSxjc3NGbnM6W119LGZpbHRlcjp7Y3NzUHJvcEJpdHM6MCxjc3NGbnM6WyJhbHBoYSgpIl19LCJmbG9hdCI6e2Nzc1Byb3BCaXRzOjAsY3NzTGl0R3JvdXA6W0pbNDJdLEpbNzFdXSxjc3NGbnM6W119LGZvbnQ6e2Nzc1Byb3BCaXRzOjczLGNzc0xpdEdyb3VwOltKWzNdLEpbOF0sSlsxM10sSlsxNl0sSls0MV0sSls0OF0sSls0OV0sSls2OV0sSls3Ml0sSls3N11dLGNzc0ZuczpbXX0sImZvbnQtZmFtaWx5Ijp7Y3NzUHJvcEJpdHM6NzIsY3NzTGl0R3JvdXA6W0pbMTZdLApKWzQ4XV0sY3NzRm5zOltdfSwiZm9udC1zaXplIjp7Y3NzUHJvcEJpdHM6MSxjc3NMaXRHcm91cDpbSls4XSxKWzY5XV0sY3NzRm5zOltdfSwiZm9udC1zdHJldGNoIjp7Y3NzUHJvcEJpdHM6MCxjc3NMaXRHcm91cDpbSls1XSxKWzcyXV0sY3NzRm5zOltdfSwiZm9udC1zdHlsZSI6e2Nzc1Byb3BCaXRzOjAsY3NzTGl0R3JvdXA6W0pbNDFdLEpbNzJdXSxjc3NGbnM6W119LCJmb250LXZhcmlhbnQiOntjc3NQcm9wQml0czowLGNzc0xpdEdyb3VwOltKWzcyXSxKWzc3XV0sY3NzRm5zOltdfSwiZm9udC13ZWlnaHQiOntjc3NQcm9wQml0czowLGNzc0xpdEdyb3VwOltKWzNdLEpbNzJdXSxjc3NGbnM6W119LGhlaWdodDoiYm90dG9tIixsZWZ0OiJib3R0b20iLCJsZXR0ZXItc3BhY2luZyI6e2Nzc1Byb3BCaXRzOjUsY3NzTGl0R3JvdXA6W0pbNzJdXSxjc3NGbnM6W119LCJsaW5lLWhlaWdodCI6e2Nzc1Byb3BCaXRzOjEsY3NzTGl0R3JvdXA6W0pbNzJdXSxjc3NGbnM6W119LCJsaXN0LXN0eWxlIjp7Y3NzUHJvcEJpdHM6MTYsCmNzc0xpdEdyb3VwOltKWzJdLEpbNDBdLEpbNTddLEpbNzFdXSxjc3NGbnM6WyJpbWFnZSgpIiwibGluZWFyLWdyYWRpZW50KCkiLCJyYWRpYWwtZ3JhZGllbnQoKSIsInJlcGVhdGluZy1saW5lYXItZ3JhZGllbnQoKSIsInJlcGVhdGluZy1yYWRpYWwtZ3JhZGllbnQoKSJdfSwibGlzdC1zdHlsZS1pbWFnZSI6e2Nzc1Byb3BCaXRzOjE2LGNzc0xpdEdyb3VwOltKWzcxXV0sY3NzRm5zOlsiaW1hZ2UoKSIsImxpbmVhci1ncmFkaWVudCgpIiwicmFkaWFsLWdyYWRpZW50KCkiLCJyZXBlYXRpbmctbGluZWFyLWdyYWRpZW50KCkiLCJyZXBlYXRpbmctcmFkaWFsLWdyYWRpZW50KCkiXX0sImxpc3Qtc3R5bGUtcG9zaXRpb24iOntjc3NQcm9wQml0czowLGNzc0xpdEdyb3VwOltKWzQwXV0sY3NzRm5zOltdfSwibGlzdC1zdHlsZS10eXBlIjp7Y3NzUHJvcEJpdHM6MCxjc3NMaXRHcm91cDpbSlsyXSxKWzU3XSxKWzcxXV0sY3NzRm5zOltdfSxtYXJnaW46ImJvdHRvbSIsIm1hcmdpbi1ib3R0b20iOiJib3R0b20iLAoibWFyZ2luLWxlZnQiOiJib3R0b20iLCJtYXJnaW4tcmlnaHQiOiJib3R0b20iLCJtYXJnaW4tdG9wIjoiYm90dG9tIiwibWF4LWhlaWdodCI6e2Nzc1Byb3BCaXRzOjEsY3NzTGl0R3JvdXA6W0pbNTJdLEpbNzFdXSxjc3NGbnM6W119LCJtYXgtd2lkdGgiOiJtYXgtaGVpZ2h0IiwibWluLWhlaWdodCI6e2Nzc1Byb3BCaXRzOjEsY3NzTGl0R3JvdXA6W0pbNTJdXSxjc3NGbnM6W119LCJtaW4td2lkdGgiOiJtaW4taGVpZ2h0IixvcGFjaXR5Ontjc3NQcm9wQml0czoxLGNzc0ZuczpbXX0sb3V0bGluZTp7Y3NzUHJvcEJpdHM6Nyxjc3NMaXRHcm91cDpbSlswXSxKWzldLEpbNDddLEpbNjJdLEpbNjRdLEpbNjVdLEpbNjldLEpbNzFdXSxjc3NGbnM6WyJyZ2IoKSIsInJnYmEoKSJdfSwib3V0bGluZS1jb2xvciI6e2Nzc1Byb3BCaXRzOjIsY3NzTGl0R3JvdXA6W0pbMF0sSls2NV1dLGNzc0ZuczpbInJnYigpIiwicmdiYSgpIl19LCJvdXRsaW5lLXN0eWxlIjoiYm9yZGVyLWJvdHRvbS1zdHlsZSIsCiJvdXRsaW5lLXdpZHRoIjoiYm9yZGVyLWJvdHRvbS13aWR0aCIsb3ZlcmZsb3c6e2Nzc1Byb3BCaXRzOjAsY3NzTGl0R3JvdXA6W0pbNTJdLEpbNjJdLEpbNzVdLEpbODBdXSxjc3NGbnM6W119LCJvdmVyZmxvdy13cmFwIjp7Y3NzUHJvcEJpdHM6MCxjc3NMaXRHcm91cDpbSls1NV0sSls3Ml1dLGNzc0ZuczpbXX0sIm92ZXJmbG93LXgiOntjc3NQcm9wQml0czowLGNzc0xpdEdyb3VwOltKWzQ0XSxKWzUyXSxKWzYyXSxKWzc1XSxKWzgwXV0sY3NzRm5zOltdfSwib3ZlcmZsb3cteSI6Im92ZXJmbG93LXgiLHBhZGRpbmc6Im9wYWNpdHkiLCJwYWRkaW5nLWJvdHRvbSI6Im9wYWNpdHkiLCJwYWRkaW5nLWxlZnQiOiJvcGFjaXR5IiwicGFkZGluZy1yaWdodCI6Im9wYWNpdHkiLCJwYWRkaW5nLXRvcCI6Im9wYWNpdHkiLCJwYWdlLWJyZWFrLWFmdGVyIjp7Y3NzUHJvcEJpdHM6MCxjc3NMaXRHcm91cDpbSls0Ml0sSls1MV0sSls1Ml0sSls1M11dLGNzc0ZuczpbXX0sInBhZ2UtYnJlYWstYmVmb3JlIjoicGFnZS1icmVhay1hZnRlciIsCiJwYWdlLWJyZWFrLWluc2lkZSI6e2Nzc1Byb3BCaXRzOjAsY3NzTGl0R3JvdXA6W0pbNTJdLEpbNTNdXSxjc3NGbnM6W119LHBhdXNlOiJib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzIiwicGF1c2UtYWZ0ZXIiOiJib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzIiwicGF1c2UtYmVmb3JlIjoiYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1cyIscGVyc3BlY3RpdmU6e2Nzc1Byb3BCaXRzOjUsY3NzTGl0R3JvdXA6W0pbNzFdXSxjc3NGbnM6W119LCJwZXJzcGVjdGl2ZS1vcmlnaW4iOntjc3NQcm9wQml0czo1LGNzc0xpdEdyb3VwOltKWzMxXSxKWzQyXSxKWzU2XV0sY3NzRm5zOltdfSxwaXRjaDp7Y3NzUHJvcEJpdHM6NSxjc3NMaXRHcm91cDpbSlsyMV0sSls2OV1dLGNzc0ZuczpbXX0sInBpdGNoLXJhbmdlIjoiYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1cyIsInBsYXktZHVyaW5nIjp7Y3NzUHJvcEJpdHM6MTYsY3NzTGl0R3JvdXA6W0pbNTJdLEpbNzBdLEpbNzFdLEpbNzRdXSxjc3NGbnM6W119LApwb3NpdGlvbjp7Y3NzUHJvcEJpdHM6MCxjc3NMaXRHcm91cDpbSlsyM11dLGNzc0ZuczpbXX0scXVvdGVzOntjc3NQcm9wQml0czo4LGNzc0xpdEdyb3VwOltKWzcxXV0sY3NzRm5zOltdfSxyZXNpemU6e2Nzc1Byb3BCaXRzOjAsY3NzTGl0R3JvdXA6W0pbMzldLEpbNTRdLEpbNzFdXSxjc3NGbnM6W119LHJpY2huZXNzOiJib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzIixyaWdodDoiYm90dG9tIixzcGVhazp7Y3NzUHJvcEJpdHM6MCxjc3NMaXRHcm91cDpbSls3MV0sSls3Ml0sSls3OF1dLGNzc0ZuczpbXX0sInNwZWFrLWhlYWRlciI6e2Nzc1Byb3BCaXRzOjAsY3NzTGl0R3JvdXA6W0pbNTFdLEpbNzNdXSxjc3NGbnM6W119LCJzcGVhay1udW1lcmFsIjp7Y3NzUHJvcEJpdHM6MCxjc3NMaXRHcm91cDpbSlszNV1dLGNzc0ZuczpbXX0sInNwZWFrLXB1bmN0dWF0aW9uIjp7Y3NzUHJvcEJpdHM6MCxjc3NMaXRHcm91cDpbSls1OF0sSls3MV1dLGNzc0ZuczpbXX0sInNwZWVjaC1yYXRlIjp7Y3NzUHJvcEJpdHM6NSwKY3NzTGl0R3JvdXA6W0pbMTRdLEpbNjldXSxjc3NGbnM6W119LHN0cmVzczoiYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1cyIsInRhYmxlLWxheW91dCI6e2Nzc1Byb3BCaXRzOjAsY3NzTGl0R3JvdXA6W0pbNTJdLEpbNjFdXSxjc3NGbnM6W119LCJ0ZXh0LWFsaWduIjp7Y3NzUHJvcEJpdHM6MCxjc3NMaXRHcm91cDpbSls0Ml0sSls1Nl0sSls2Nl1dLGNzc0ZuczpbXX0sInRleHQtZGVjb3JhdGlvbiI6e2Nzc1Byb3BCaXRzOjAsY3NzTGl0R3JvdXA6W0pbMTldLEpbNzFdXSxjc3NGbnM6W119LCJ0ZXh0LWluZGVudCI6ImJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXMiLCJ0ZXh0LW92ZXJmbG93Ijp7Y3NzUHJvcEJpdHM6OCxjc3NMaXRHcm91cDpbSlszM11dLGNzc0ZuczpbXX0sInRleHQtc2hhZG93IjoiYm94LXNoYWRvdyIsInRleHQtdHJhbnNmb3JtIjp7Y3NzUHJvcEJpdHM6MCxjc3NMaXRHcm91cDpbSlsyNl0sSls3MV1dLGNzc0ZuczpbXX0sInRleHQtd3JhcCI6e2Nzc1Byb3BCaXRzOjAsCmNzc0xpdEdyb3VwOltKWzQ2XSxKWzcxXSxKWzcyXV0sY3NzRm5zOltdfSx0b3A6ImJvdHRvbSIsdHJhbnNmb3JtOntjc3NQcm9wQml0czowLGNzc0xpdEdyb3VwOltKWzcxXV0sY3NzRm5zOiJtYXRyaXgoKSxwZXJzcGVjdGl2ZSgpLHJvdGF0ZSgpLHJvdGF0ZTNkKCkscm90YXRleCgpLHJvdGF0ZXkoKSxyb3RhdGV6KCksc2NhbGUoKSxzY2FsZTNkKCksc2NhbGV4KCksc2NhbGV5KCksc2NhbGV6KCksc2tldygpLHNrZXd4KCksc2tld3koKSx0cmFuc2xhdGUoKSx0cmFuc2xhdGUzZCgpLHRyYW5zbGF0ZXgoKSx0cmFuc2xhdGV5KCksdHJhbnNsYXRleigpIi5zcGxpdCgiLCIpfSwidHJhbnNmb3JtLW9yaWdpbiI6InBlcnNwZWN0aXZlLW9yaWdpbiIsInRyYW5zZm9ybS1zdHlsZSI6e2Nzc1Byb3BCaXRzOjAsY3NzTGl0R3JvdXA6W0pbMzddXSxjc3NGbnM6W119LHRyYW5zaXRpb246e2Nzc1Byb3BCaXRzOjEwMjksY3NzTGl0R3JvdXA6W0pbMTBdLEpbNDhdLEpbNTBdLEpbNzFdXSxjc3NGbnM6WyJjdWJpYy1iZXppZXIoKSIsCiJzdGVwcygpIl19LCJ0cmFuc2l0aW9uLWRlbGF5IjoiYW5pbWF0aW9uLWRlbGF5IiwidHJhbnNpdGlvbi1kdXJhdGlvbiI6ImFuaW1hdGlvbi1kZWxheSIsInRyYW5zaXRpb24tcHJvcGVydHkiOntjc3NQcm9wQml0czoxMDI0LGNzc0xpdEdyb3VwOltKWzQ4XSxKWzUwXV0sY3NzRm5zOltdfSwidHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb24iOiJhbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uIiwidW5pY29kZS1iaWRpIjp7Y3NzUHJvcEJpdHM6MCxjc3NMaXRHcm91cDpbSlszMF0sSls3Ml1dLGNzc0ZuczpbXX0sInZlcnRpY2FsLWFsaWduIjp7Y3NzUHJvcEJpdHM6NSxjc3NMaXRHcm91cDpbSlsxMl0sSlszMV1dLGNzc0ZuczpbXX0sdmlzaWJpbGl0eToiYmFja2ZhY2UtdmlzaWJpbGl0eSIsInZvaWNlLWZhbWlseSI6e2Nzc1Byb3BCaXRzOjgsY3NzTGl0R3JvdXA6W0pbMjddLEpbNDhdXSxjc3NGbnM6W119LHZvbHVtZTp7Y3NzUHJvcEJpdHM6MSxjc3NMaXRHcm91cDpbSlsxN10sSls2OV1dLApjc3NGbnM6W119LCJ3aGl0ZS1zcGFjZSI6e2Nzc1Byb3BCaXRzOjAsY3NzTGl0R3JvdXA6W0pbMjJdLEpbNzJdXSxjc3NGbnM6W119LHdpZHRoOiJtaW4taGVpZ2h0Iiwid29yZC1icmVhayI6e2Nzc1Byb3BCaXRzOjAsY3NzTGl0R3JvdXA6W0pbMzJdLEpbNzJdLEpbNTVdXSxjc3NGbnM6W119LCJ3b3JkLXNwYWNpbmciOiJsZXR0ZXItc3BhY2luZyIsIndvcmQtd3JhcCI6Im92ZXJmbG93LXdyYXAiLCJ6LWluZGV4IjoiYm90dG9tIix6b29tOiJsaW5lLWhlaWdodCIsImN1YmljLWJlemllcigpIjoiYW5pbWF0aW9uLWRlbGF5Iiwic3RlcHMoKSI6e2Nzc1Byb3BCaXRzOjUsY3NzTGl0R3JvdXA6W0pbMzZdLEpbNDhdXSxjc3NGbnM6W119LCJpbWFnZSgpIjp7Y3NzUHJvcEJpdHM6MTgsY3NzTGl0R3JvdXA6W0pbMF0sSls0OF1dLGNzc0ZuczpbInJnYigpIiwicmdiYSgpIl19LCJsaW5lYXItZ3JhZGllbnQoKSI6e2Nzc1Byb3BCaXRzOjcsY3NzTGl0R3JvdXA6W0pbMF0sSlszMV0sSls0Ml0sSls0OF0sCkpbNzldXSxjc3NGbnM6WyJyZ2IoKSIsInJnYmEoKSJdfSwicmFkaWFsLWdyYWRpZW50KCkiOntjc3NQcm9wQml0czo3LGNzc0xpdEdyb3VwOltKWzBdLEpbMTFdLEpbMzFdLEpbNDJdLEpbNDhdLEpbNTZdLEpbNTddXSxjc3NGbnM6WyJyZ2IoKSIsInJnYmEoKSJdfSwicmVwZWF0aW5nLWxpbmVhci1ncmFkaWVudCgpIjoibGluZWFyLWdyYWRpZW50KCkiLCJyZXBlYXRpbmctcmFkaWFsLWdyYWRpZW50KCkiOiJyYWRpYWwtZ3JhZGllbnQoKSIsInJnYigpIjp7Y3NzUHJvcEJpdHM6MSxjc3NMaXRHcm91cDpbSls0OF1dLGNzc0ZuczpbXX0sInJnYmEoKSI6InJnYigpIiwicmVjdCgpIjp7Y3NzUHJvcEJpdHM6NSxjc3NMaXRHcm91cDpbSls0OF0sSls1Ml1dLGNzc0ZuczpbXX0sImFscGhhKCkiOntjc3NQcm9wQml0czoxLGNzc0xpdEdyb3VwOltKWzI4XV0sY3NzRm5zOltdfSwibWF0cml4KCkiOiJhbmltYXRpb24tZGVsYXkiLCJwZXJzcGVjdGl2ZSgpIjoiYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1cyIsCiJyb3RhdGUoKSI6ImJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXMiLCJyb3RhdGUzZCgpIjoiYW5pbWF0aW9uLWRlbGF5Iiwicm90YXRleCgpIjoiYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1cyIsInJvdGF0ZXkoKSI6ImJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXMiLCJyb3RhdGV6KCkiOiJib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzIiwic2NhbGUoKSI6ImFuaW1hdGlvbi1kZWxheSIsInNjYWxlM2QoKSI6ImFuaW1hdGlvbi1kZWxheSIsInNjYWxleCgpIjoiYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1cyIsInNjYWxleSgpIjoiYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1cyIsInNjYWxleigpIjoiYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1cyIsInNrZXcoKSI6ImFuaW1hdGlvbi1kZWxheSIsInNrZXd4KCkiOiJib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzIiwic2tld3koKSI6ImJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXMiLCJ0cmFuc2xhdGUoKSI6ImFuaW1hdGlvbi1kZWxheSIsInRyYW5zbGF0ZTNkKCkiOiJhbmltYXRpb24tZGVsYXkiLAoidHJhbnNsYXRleCgpIjoiYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1cyIsInRyYW5zbGF0ZXkoKSI6ImJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXMiLCJ0cmFuc2xhdGV6KCkiOiJib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzIn0sTztmb3IoTyBpbiBMKSJzdHJpbmciPT09dHlwZW9mIExbT10mJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKEwsTykmJihMW09dPUxbTFtPXV0pOyJ1bmRlZmluZWQiIT09dHlwZW9mIHdpbmRvdyYmKHdpbmRvdy5jc3NTY2hlbWE9TCk7dmFyIFUsWDsKKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZyhhKXt2YXIgZj1wYXJzZUludChhLnN1YnN0cmluZygxKSwxNik7cmV0dXJuIDY1NTM1PGY/KGYtPTY1NTM2LFN0cmluZy5mcm9tQ2hhckNvZGUoNTUyOTYrKGY+PjEwKSw1NjMyMCsoZiYxMDIzKSkpOmY9PWY/U3RyaW5nLmZyb21DaGFyQ29kZShmKToiICI+YVsxXT8iIjphWzFdfWZ1bmN0aW9uIHcoYSxmKXtyZXR1cm4nIicrYS5yZXBsYWNlKC9bXHUwMDAwLVx1MDAxZlxcXCI8Pl0vZyxmKSsnIid9ZnVuY3Rpb24gTShhKXtyZXR1cm4gRVthXXx8KEVbYV09IlxcIithLmNoYXJDb2RlQXQoMCkudG9TdHJpbmcoMTYpKyIgIil9ZnVuY3Rpb24geChhKXtyZXR1cm4gZVthXXx8KGVbYV09KCJcdTAwMTAiPmE/IiUwIjoiJSIpK2EuY2hhckNvZGVBdCgwKS50b1N0cmluZygxNikpfXZhciBFPXsiXFwiOiJcXFxcIn0sZT17IlxcIjoiJTVjIn0sdj1SZWdFeHAoIlxcdUZFRkZ8VVsrXVswLTlBLUY/XXsxLDZ9KD86LVswLTlBLUZdezEsNn0pP3x1cmxbKF1bXFx0XFxuXFxmIF0qKD86XCIoPzonfFteJ1wiXFxuXFxmXFxcXF18XFxcXFtcXHNcXFNdKSpcInwnKD86XCJ8W14nXCJcXG5cXGZcXFxcXXxcXFxcW1xcc1xcU10pKid8KD86W1xcdFxceDIxXFx4MjMtXFx4MjZcXHgyOC1cXHg1YlxceDVkLVxceDdlXXxbXFx1MDA4MC1cXHVkN2ZmXFx1ZTAwMC1cXHVmZmZkXXxbXFx1ZDgwMC1cXHVkYmZmXVtcXHVkYzAwLVxcdWRmZmZdfFxcXFwoPzpbMC05YS1mQS1GXXsxLDZ9W1xcdFxcblxcZiBdP3xbXFx1MDAyMC1cXHUwMDdlXFx1MDA4MC1cXHVkN2ZmXFx1ZTAwMFxcdWZmZmRdfFtcXHVkODAwLVxcdWRiZmZdW1xcdWRjMDAtXFx1ZGZmZl0pKSopW1xcdFxcblxcZiBdKlspXXwoPyF1cmxbKF0pLT8oPzpbYS16QS1aX118W1xcdTAwODAtXFx1ZDdmZlxcdWUwMDAtXFx1ZmZmZF18W1xcdWQ4MDAtXFx1ZGJmZl1bXFx1ZGMwMC1cXHVkZmZmXXxcXFxcKD86WzAtOWEtZkEtRl17MSw2fVtcXHRcXG5cXGYgXT98W1xcdTAwMjAtXFx1MDA3ZVxcdTAwODAtXFx1ZDdmZlxcdWUwMDBcXHVmZmZkXXxbXFx1ZDgwMC1cXHVkYmZmXVtcXHVkYzAwLVxcdWRmZmZdKSkoPzpbYS16QS1aMC05Xy1dfFtcXHUwMDgwLVxcdWQ3ZmZcXHVlMDAwLVxcdWZmZmRdfFtcXHVkODAwLVxcdWRiZmZdW1xcdWRjMDAtXFx1ZGZmZl18XFxcXCg/OlswLTlhLWZBLUZdezEsNn1bXFx0XFxuXFxmIF0/fFtcXHUwMDIwLVxcdTAwN2VcXHUwMDgwLVxcdWQ3ZmZcXHVlMDAwXFx1ZmZmZF18W1xcdWQ4MDAtXFx1ZGJmZl1bXFx1ZGMwMC1cXHVkZmZmXSkpKlsoXXwoPzpAPy0/KD86W2EtekEtWl9dfFtcXHUwMDgwLVxcdWQ3ZmZcXHVlMDAwLVxcdWZmZmRdfFtcXHVkODAwLVxcdWRiZmZdW1xcdWRjMDAtXFx1ZGZmZl18XFxcXCg/OlswLTlhLWZBLUZdezEsNn1bXFx0XFxuXFxmIF0/fFtcXHUwMDIwLVxcdTAwN2VcXHUwMDgwLVxcdWQ3ZmZcXHVlMDAwXFx1ZmZmZF18W1xcdWQ4MDAtXFx1ZGJmZl1bXFx1ZGMwMC1cXHVkZmZmXSkpfCMpKD86W2EtekEtWjAtOV8tXXxbXFx1MDA4MC1cXHVkN2ZmXFx1ZTAwMC1cXHVmZmZkXXxbXFx1ZDgwMC1cXHVkYmZmXVtcXHVkYzAwLVxcdWRmZmZdfFxcXFwoPzpbMC05YS1mQS1GXXsxLDZ9W1xcdFxcblxcZiBdP3xbXFx1MDAyMC1cXHUwMDdlXFx1MDA4MC1cXHVkN2ZmXFx1ZTAwMFxcdWZmZmRdfFtcXHVkODAwLVxcdWRiZmZdW1xcdWRjMDAtXFx1ZGZmZl0pKSp8XCIoPzonfFteJ1wiXFxuXFxmXFxcXF18XFxcXFtcXHNcXFNdKSpcInwnKD86XCJ8W14nXCJcXG5cXGZcXFxcXXxcXFxcW1xcc1xcU10pKid8Wy0rXT8oPzpbMC05XSsoPzpbLl1bMC05XSspP3xbLl1bMC05XSspKD86JXwtPyg/OlthLXpBLVpfXXxbXFx1MDA4MC1cXHVkN2ZmXFx1ZTAwMC1cXHVmZmZkXXxbXFx1ZDgwMC1cXHVkYmZmXVtcXHVkYzAwLVxcdWRmZmZdfFxcXFwoPzpbMC05YS1mQS1GXXsxLDZ9W1xcdFxcblxcZiBdP3xbXFx1MDAyMC1cXHUwMDdlXFx1MDA4MC1cXHVkN2ZmXFx1ZTAwMFxcdWZmZmRdfFtcXHVkODAwLVxcdWRiZmZdW1xcdWRjMDAtXFx1ZGZmZl0pKSg/OlthLXpBLVowLTlfLV18W1xcdTAwODAtXFx1ZDdmZlxcdWUwMDAtXFx1ZmZmZF18W1xcdWQ4MDAtXFx1ZGJmZl1bXFx1ZGMwMC1cXHVkZmZmXXxcXFxcKD86WzAtOWEtZkEtRl17MSw2fVtcXHRcXG5cXGYgXT98W1xcdTAwMjAtXFx1MDA3ZVxcdTAwODAtXFx1ZDdmZlxcdWUwMDBcXHVmZmZkXXxbXFx1ZDgwMC1cXHVkYmZmXVtcXHVkYzAwLVxcdWRmZmZdKSkqKT98PFwhLS18LS1cPnxbXFx0XFxuXFxmIF0rfC8oPzpbKl1bXipdKlsqXSsoPzpbXi9dW14qXSpbKl0rKSovfC9bXlxcblxcZl0qKXxbfnxeJCpdPXxbXlwiJ1xcXFwvXXwvKD8hWy8qXSkiLCJnaSIpLApiPVJlZ0V4cCgiXFxcXCg/Oig/OlswLTlhLWZBLUZdezEsNn1bXFx0XFxuXFxmIF0/fFtcXHUwMDIwLVxcdTAwN2VcXHUwMDgwLVxcdWQ3ZmZcXHVlMDAwXFx1ZmZmZF18W1xcdWQ4MDAtXFx1ZGJmZl1bXFx1ZGMwMC1cXHVkZmZmXSl8W1xcblxcZl0pIiwiZyIpLGE9UmVnRXhwKCJedXJsXFwoW1xcdFxcblxcZiBdKltcIiddP3xbXCInXT9bXFx0XFxuXFxmIF0qXFwpJCIsImdpIik7WD1mdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKGIsZyl9O1U9ZnVuY3Rpb24oYil7Zm9yKHZhciBiPSgiIitiKS5yZXBsYWNlKC9cclxuPy9nLCJcbiIpLm1hdGNoKHYpfHxbXSxmPTAsaD0iICIsZD0wLHk9Yi5sZW5ndGg7ZDx5OysrZCl7dmFyIGw9WChiW2RdKSxWPWwubGVuZ3RoLGc9bC5jaGFyQ29kZUF0KDApLGw9MzQ9PWd8fDM5PT1nP3cobC5zdWJzdHJpbmcoMSxWLTEpLE0pOjQ3PT1nJiYxPFZ8fCJcXCI9PWx8fCItLVw+Ij09bHx8IjxcIS0tIj09bHx8Ilx1ZmVmZiI9PWx8fDMyPj1nPyIgIjoKL3VybFwoL2kudGVzdChsKT8idXJsKCIrdyhsLnJlcGxhY2UoYSwiIikseCkrIikiOmw7aWYoaCE9bHx8IiAiIT1sKWJbZisrXT1oPWx9Yi5sZW5ndGg9ZjtyZXR1cm4gYn19KSgpOyJ1bmRlZmluZWQiIT09dHlwZW9mIHdpbmRvdyYmKHdpbmRvdy5sZXhDc3M9VSx3aW5kb3cuZGVjb2RlQ3NzPVgpO3ZhciBZPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZyhkKXtkPSgiIitkKS5tYXRjaChrKTtyZXR1cm4hZD9zOm5ldyBlKHYoZFsxXSksdihkWzJdKSx2KGRbM10pLHYoZFs0XSksdihkWzVdKSx2KGRbNl0pLHYoZFs3XSkpfWZ1bmN0aW9uIHcoZCxhKXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIGQ/ZW5jb2RlVVJJKGQpLnJlcGxhY2UoYSxNKTpzfWZ1bmN0aW9uIE0oZCl7ZD1kLmNoYXJDb2RlQXQoMCk7cmV0dXJuIiUiKyIwMTIzNDU2Nzg5QUJDREVGIi5jaGFyQXQoZD4+NCYxNSkrIjAxMjM0NTY3ODlBQkNERUYiLmNoYXJBdChkJjE1KX1mdW5jdGlvbiB4KGQpe2lmKGQ9PT1zKXJldHVybiBzO2Zvcih2YXIgZD1kLnJlcGxhY2UoLyhefFwvKVwuKD86XC98JCkvZywiJDEiKS5yZXBsYWNlKC9cL3syLH0vZywiLyIpLGE9YixoOyhoPWQucmVwbGFjZShhLCIkMSIpKSE9ZDtkPWgpO3JldHVybiBkfWZ1bmN0aW9uIEUoZCxoKXt2YXIgYj1kLlQoKSxmPWguSygpO2Y/Yi5nYShoLmopOmY9aC5YKCk7CmY/Yi5kYShoLm4pOmY9aC5ZKCk7Zj9iLmVhKGguayk6Zj1oLiQoKTt2YXIgZz1oLmcsaz14KGcpO2lmKGYpYi5jYShoLlYoKSksaz1rJiZrLnJlcGxhY2UoYSwiIik7ZWxzZSBpZihmPSEhZyl7aWYoNDchPT1rLmNoYXJDb2RlQXQoMCkpdmFyIGs9eChiLmd8fCIiKS5yZXBsYWNlKGEsIiIpLGU9ay5sYXN0SW5kZXhPZigiLyIpKzEsaz14KChlP2suc3Vic3RyaW5nKDAsZSk6IiIpK3goZykpLnJlcGxhY2UoYSwiIil9ZWxzZSBrPWsmJmsucmVwbGFjZShhLCIiKSxrIT09ZyYmYi5HKGspO2Y/Yi5HKGspOmY9aC5hYSgpO2Y/Yi5PKGgubCk6Zj1oLlooKTtmJiZiLmZhKGgubyk7cmV0dXJuIGJ9ZnVuY3Rpb24gZShkLGEsaCxmLGIsZyxrKXt0aGlzLmo9ZDt0aGlzLm49YTt0aGlzLms9aDt0aGlzLmg9Zjt0aGlzLmc9Yjt0aGlzLmw9Zzt0aGlzLm89a31mdW5jdGlvbiB2KGQpe3JldHVybiJzdHJpbmciPT10eXBlb2YgZCYmMDxkLmxlbmd0aD9kOnN9dmFyIGI9UmVnRXhwKC8oXC98XikoPzpbXi4vXVteL10qfFwuezIsfSg/OlteLi9dW14vXSopfFwuezMsfVteL10qKVwvXC5cLig/OlwvfCQpLyksCmE9L14oPzpcLlwuXC8pKig/OlwuXC4kKT8vO2UucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7dmFyIGQ9W107cyE9PXRoaXMuaiYmZC5wdXNoKHRoaXMuaiwiOiIpO3MhPT10aGlzLmsmJihkLnB1c2goIi8vIikscyE9PXRoaXMubiYmZC5wdXNoKHRoaXMubiwiQCIpLGQucHVzaCh0aGlzLmspLHMhPT10aGlzLmgmJmQucHVzaCgiOiIsdGhpcy5oLnRvU3RyaW5nKCkpKTtzIT09dGhpcy5nJiZkLnB1c2godGhpcy5nKTtzIT09dGhpcy5sJiZkLnB1c2goIj8iLHRoaXMubCk7cyE9PXRoaXMubyYmZC5wdXNoKCIjIix0aGlzLm8pO3JldHVybiBkLmpvaW4oIiIpfTtlLnByb3RvdHlwZS5UPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBlKHRoaXMuaix0aGlzLm4sdGhpcy5rLHRoaXMuaCx0aGlzLmcsdGhpcy5sLHRoaXMubyl9O2UucHJvdG90eXBlLlc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5qJiZkZWNvZGVVUklDb21wb25lbnQodGhpcy5qKS50b0xvd2VyQ2FzZSgpfTtlLnByb3RvdHlwZS5nYT0KZnVuY3Rpb24oZCl7dGhpcy5qPWQ/ZDpzfTtlLnByb3RvdHlwZS5LPWZ1bmN0aW9uKCl7cmV0dXJuIHMhPT10aGlzLmp9O2UucHJvdG90eXBlLmRhPWZ1bmN0aW9uKGQpe3RoaXMubj1kP2Q6c307ZS5wcm90b3R5cGUuWD1mdW5jdGlvbigpe3JldHVybiBzIT09dGhpcy5ufTtlLnByb3RvdHlwZS5lYT1mdW5jdGlvbihkKXt0aGlzLms9ZD9kOnM7dGhpcy5HKHRoaXMuZyl9O2UucHJvdG90eXBlLlk9ZnVuY3Rpb24oKXtyZXR1cm4gcyE9PXRoaXMua307ZS5wcm90b3R5cGUuVj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmgmJmRlY29kZVVSSUNvbXBvbmVudCh0aGlzLmgpfTtlLnByb3RvdHlwZS5jYT1mdW5jdGlvbihkKXtpZihkKXtkPU51bWJlcihkKTtpZihkIT09KGQmNjU1MzUpKXRocm93IEVycm9yKCJCYWQgcG9ydCBudW1iZXIgIitkKTt0aGlzLmg9IiIrZH1lbHNlIHRoaXMuaD1zfTtlLnByb3RvdHlwZS4kPWZ1bmN0aW9uKCl7cmV0dXJuIHMhPT10aGlzLmh9O2UucHJvdG90eXBlLlU9CmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZyYmZGVjb2RlVVJJQ29tcG9uZW50KHRoaXMuZyl9O2UucHJvdG90eXBlLkc9ZnVuY3Rpb24oZCl7ZD8oZD0iIitkLHRoaXMuZz0hdGhpcy5rfHwvXlwvLy50ZXN0KGQpP2Q6Ii8iK2QpOnRoaXMuZz1zfTtlLnByb3RvdHlwZS5PPWZ1bmN0aW9uKGQpe3RoaXMubD1kP2Q6c307ZS5wcm90b3R5cGUuYWE9ZnVuY3Rpb24oKXtyZXR1cm4gcyE9PXRoaXMubH07ZS5wcm90b3R5cGUuYmE9ZnVuY3Rpb24oZCl7aWYoIm9iamVjdCI9PT10eXBlb2YgZCYmIShkIGluc3RhbmNlb2YgQXJyYXkpJiYoZCBpbnN0YW5jZW9mIE9iamVjdHx8IltvYmplY3QgQXJyYXldIiE9PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChkKSkpe3ZhciBhPVtdLGg9LTEsZjtmb3IoZiBpbiBkKXt2YXIgYj1kW2ZdOyJzdHJpbmciPT09dHlwZW9mIGImJihhWysraF09ZixhWysraF09Yil9ZD1hfWZvcih2YXIgYT1bXSxoPSIiLGc9MDtnPGQubGVuZ3RoOylmPWRbZysrXSwKYj1kW2crK10sYS5wdXNoKGgsZW5jb2RlVVJJQ29tcG9uZW50KGYudG9TdHJpbmcoKSkpLGg9IiYiLGImJmEucHVzaCgiPSIsZW5jb2RlVVJJQ29tcG9uZW50KGIudG9TdHJpbmcoKSkpO3RoaXMubD1hLmpvaW4oIiIpfTtlLnByb3RvdHlwZS5mYT1mdW5jdGlvbihkKXt0aGlzLm89ZD9kOnN9O2UucHJvdG90eXBlLlo9ZnVuY3Rpb24oKXtyZXR1cm4gcyE9PXRoaXMub307dmFyIGs9L14oPzooW146Lz8jXSspOik/KD86XC9cLyg/OihbXi8/I10qKUApPyhbXi8/IzpAXSopKD86OihbMC05XSspKT8pPyhbXj8jXSspPyg/Olw/KFteI10qKSk/KD86IyguKikpPyQvLGY9L1sjXC9cP0BdL2csaD0vW1wjXD9dL2c7ZS5wYXJzZT1nO2UuY3JlYXRlPWZ1bmN0aW9uKGQsYSxiLGcsayxRLE4pe2Q9bmV3IGUodyhkLGYpLHcoYSxmKSwic3RyaW5nIj09dHlwZW9mIGI/ZW5jb2RlVVJJQ29tcG9uZW50KGIpOnMsMDxnP2cudG9TdHJpbmcoKTpzLHcoayxoKSxzLCJzdHJpbmciPT10eXBlb2YgTj9lbmNvZGVVUklDb21wb25lbnQoTik6CnMpO1EmJigic3RyaW5nIj09PXR5cGVvZiBRP2QuTyhRLnJlcGxhY2UoL1tePyY9MC05QS1aYS16X1wtfi4lXS9nLE0pKTpkLmJhKFEpKTtyZXR1cm4gZH07ZS5OPUU7ZS5tYT14O2UuaGE9e3VhOmZ1bmN0aW9uKGQpe3JldHVybi9cLmh0bWwkLy50ZXN0KGcoZCkuVSgpKT8idGV4dC9odG1sIjoiYXBwbGljYXRpb24vamF2YXNjcmlwdCJ9LE46ZnVuY3Rpb24oZCxhKXtyZXR1cm4gZD9FKGcoZCksZyhhKSkudG9TdHJpbmcoKToiIithfX07cmV0dXJuIGV9KCk7InVuZGVmaW5lZCIhPT10eXBlb2Ygd2luZG93JiYod2luZG93LlVSST1ZKTt2YXIgYWE9YyxiYT1jLGRhPWMsWj1jOwooZnVuY3Rpb24oKXtmdW5jdGlvbiBnKGEpe3JldHVybiJzdHJpbmciPT09dHlwZW9mIGE/J3VybCgiJythLnJlcGxhY2UoZSx3KSsnIiknOid1cmwoImFib3V0OmJsYW5rIiknfWZ1bmN0aW9uIHcoYSl7cmV0dXJuIHZbYV19ZnVuY3Rpb24gTShhLGQpe3JldHVybiBhP1kuaGEuTihhLGQpOmR9ZnVuY3Rpb24geChoLGQsZil7aWYoIWYpcmV0dXJuIHM7dmFyIGc9KCIiK2gpLm1hdGNoKGIpO3JldHVybiBnJiYoIWdbMV18fGEudGVzdChnWzFdKSk/ZihoLGQpOnN9ZnVuY3Rpb24gRShhKXtyZXR1cm4gYS5yZXBsYWNlKC9eLSg/OmFwcGxlfGNzc3xlcHVifGtodG1sfG1venxtc28/fG98cmltfHdhcHx3ZWJraXR8eHYpLSg/PVthLXpdKS8sIiIpfXZhciBlPS9bXG5cZlxyXCJcJygpKjw+XS9nLHY9eyJcbiI6IiUwYSIsIlx1MDAwYyI6IiUwYyIsIlxyIjoiJTBkIiwnIic6IiUyMiIsIiciOiIlMjciLCIoIjoiJTI4IiwiKSI6IiUyOSIsIioiOiIlMmEiLCI8IjoiJTNjIiwiPiI6IiUzZSJ9LApiPS9eKD86KFteOi8/IyBdKyk6KT8vLGE9L14oPzpodHRwcz98bWFpbHRvfGRhdGEpJC9pO2FhPWZ1bmN0aW9uKCl7dmFyIGE9e307cmV0dXJuIGZ1bmN0aW9uIHkoZixiLGssZSxOKXt2YXIgZj1FKGYpLHU9TFtmXTtpZighdXx8Im9iamVjdCIhPT10eXBlb2YgdSliLmxlbmd0aD0wO2Vsc2V7Zm9yKHZhciBpPXUuY3NzUHJvcEJpdHMscT1pJjgwLEI9aSYxNTM2LEY9TmFOLHI9MCxvPTA7cjxiLmxlbmd0aDsrK3Ipe3ZhciBqPWJbcl0udG9Mb3dlckNhc2UoKSxJPWouY2hhckNvZGVBdCgwKSxSLHYsUCxTLEQsdztpZigzMj09PUkpaj0iIjtlbHNlIGlmKDM0PT09SSlqPTE2PT09cT9rP2coeChNKGUsWChiW3JdLnN1YnN0cmluZygxLGoubGVuZ3RoLTEpKSksZixrKSk6IiI6aSY4JiYhKHEmcS0xKT9qOiIiO2Vsc2UgaWYoImluaGVyaXQiIT09ail7aWYoRD11LmNzc0xpdEdyb3VwKXt2YXIgRztpZighKEc9dS5jc3NMaXRNYXApKXtHPXt9O2Zvcih2YXIgSz1ELmxlbmd0aDswPD0tLUs7KWZvcih2YXIgQT0KRFtLXSxUPUEubGVuZ3RoOzA8PS0tVDspR1tBW1RdXT1hO0c9dS5jc3NMaXRNYXA9R31EPUd9ZWxzZSBEPWE7aWYoISh3PUQsd1tFKGopXT09PWEpKWlmKDM1PT09SSYmL14jKD86WzAtOWEtZl17M30pezEsMn0kLy50ZXN0KGopKWo9aSYyP2o6IiI7ZWxzZSBpZig0ODw9SSYmNTc+PUkpaj1pJjE/ajoiIjtlbHNlIGlmKFI9ai5jaGFyQ29kZUF0KDEpLHY9ai5jaGFyQ29kZUF0KDIpLFA9NDg8PVImJjU3Pj1SLFM9NDg8PXYmJjU3Pj12LDQzPT09SSYmKFB8fDQ2PT09UiYmUykpaj1pJjE/KFA/IiI6IjAiKStqLnN1YnN0cmluZygxKToiIjtlbHNlIGlmKDQ1PT09SSYmKFB8fDQ2PT09UiYmUykpaj1pJjQ/KFA/Ii0iOiItMCIpK2ouc3Vic3RyaW5nKDEpOmkmMT8iMCI6IiI7ZWxzZSBpZig0Nj09PUkmJlApaj1pJjE/IjAiK2o6IiI7ZWxzZSBpZigndXJsKCInPT09ai5zdWJzdHJpbmcoMCw1KSlqPWsmJmkmMTY/Zyh4KE0oZSxiW3JdLnN1YnN0cmluZyg1LGoubGVuZ3RoLTIpKSxmLGspKToKIiI7ZWxzZSBpZigiKCI9PT1qLmNoYXJBdChqLmxlbmd0aC0xKSlhOntEPWI7Rz1yO2o9MTtLPUcrMTtmb3IoST1ELmxlbmd0aDtLPEkmJmo7KUE9RFtLKytdLGorPSIpIj09PUE/LTE6L15bXiInXSpcKCQvLnRlc3QoQSk7aWYoIWope2o9RFtHXS50b0xvd2VyQ2FzZSgpO0k9RShqKTtEPUQuc3BsaWNlKEcsSy1HLCIiKTtHPXUuY3NzRm5zO0s9MDtmb3IoQT1HLmxlbmd0aDtLPEE7KytLKWlmKEdbS10uc3Vic3RyaW5nKDAsSS5sZW5ndGgpPT1JKXtEWzBdPURbRC5sZW5ndGgtMV09IiI7eShHW0tdLEQsayxlKTtqPWorRC5qb2luKCIgIikrIikiO2JyZWFrIGF9fWo9IiJ9ZWxzZSBqPUImJi9eLT9bYS16X11bXHdcLV0qJC8udGVzdChqKSYmIS9fXyQvLnRlc3Qoaik/TiYmNTEyPT09Qj9iW3JdK046MTAyND09PUImJkxbal0mJiJudW1iZXIiPT09dHlwZW9mIExbal0ub2E/ajoiIjovXlx3KyQvLnRlc3QoaikmJjY0PT09cSYmaSY4P0YrMT09PW8/KGJbRl09YltGXS5zdWJzdHJpbmcoMCwKYltGXS5sZW5ndGgtMSkrIiAiK2orJyInLCIiKTooRj1vLCciJytqKyciJyk6IiJ9aiYmKGJbbysrXT1qKX0xPT09byYmJ3VybCgiYWJvdXQ6YmxhbmsiKSc9PT1iWzBdJiYobz0wKTtiLmxlbmd0aD1vfX19KCk7dmFyIGs9UmVnRXhwKCJeKGFjdGl2ZXxhZnRlcnxiZWZvcmV8Ymxhbmt8Y2hlY2tlZHxkZWZhdWx0fGRpc2FibGVkfGRyb3B8ZW1wdHl8ZW5hYmxlZHxmaXJzdHxmaXJzdC1jaGlsZHxmaXJzdC1sZXR0ZXJ8Zmlyc3QtbGluZXxmaXJzdC1vZi10eXBlfGZ1bGxzY3JlZW58Zm9jdXN8aG92ZXJ8aW4tcmFuZ2V8aW5kZXRlcm1pbmF0ZXxpbnZhbGlkfGxhc3QtY2hpbGR8bGFzdC1vZi10eXBlfGxlZnR8bGlua3xvbmx5LWNoaWxkfG9ubHktb2YtdHlwZXxvcHRpb25hbHxvdXQtb2YtcmFuZ2V8cGxhY2Vob2xkZXItc2hvd258cmVhZC1vbmx5fHJlYWQtd3JpdGV8cmVxdWlyZWR8cmlnaHR8cm9vdHxzY29wZXx1c2VyLWVycm9yfHZhbGlkfHZpc2l0ZWQpJCIpLGY9e307ZlsiPiJdPQpmWyIrIl09ZlsifiJdPWY7YmE9ZnVuY3Rpb24oYSxkLGIpe2Z1bmN0aW9uIGcoaSxyKXtmdW5jdGlvbiBvKGIsZixnKXt2YXIgeSxlLGksbCxvLG09bjt5PSIiO2lmKGI8ZilpZihvPWFbYl0sIioiPT09bykrK2IseT1vO2Vsc2UgaWYoL15bYS16QS1aXS8udGVzdChvKSYmKGU9eChvLnRvTG93ZXJDYXNlKCksW10pKSkidGFnTmFtZSJpbiBlJiYobz1lLnRhZ05hbWUpLCsrYix5PW87Zm9yKGw9aT1lPSIiO20mJmI8ZjsrK2IpaWYobz1hW2JdLCIjIj09PW8uY2hhckF0KDApKS9eI198X18kfFteXHcjOlwtXS8udGVzdChvKT9tPUM6ZSs9byt2O2Vsc2UgaWYoIi4iPT09bykrK2I8ZiYmL15bMC05QS1aYS16Ol9cLV0rJC8udGVzdChvPWFbYl0pJiYhL15ffF9fJC8udGVzdChvKT9lKz0iLiIrbzptPUM7ZWxzZSBpZihiKzE8ZiYmIlsiPT09YVtiXSl7KytiO3ZhciBIPWFbYisrXS50b0xvd2VyQ2FzZSgpO289JC5tW3krIjo6IitIXTtvIT09K28mJihvPSQubVsiKjo6IitIXSk7dmFyIFc7CmQuaWE/KFc9ZC5pYSh5LEgpLCJzdHJpbmciIT09dHlwZW9mIFcmJihtPUMsVz1IKSxtJiZvIT09K28mJihvPSQuZC5OT05FKSk6KFc9SCxvIT09K28mJihtPUMpKTt2YXIgcD1IPSIiLGNhPUM7L15bfl4kKnxdPz0kLy50ZXN0KGFbYl0pJiYoSD1hW2IrK10scD1hW2IrK10sL15bMC05QS1aYS16Ol9cLV0rJC8udGVzdChwKT9wPSciJytwKyciJzoiXSI9PT1wJiYocD0nIiInLC0tYiksL14iKFteXCJcXF18XFwuKSoiJC8udGVzdChwKXx8KG09QyksKGNhPSJpIj09PWFbYl0pJiYrK2IpOyJdIiE9PWFbYl0mJigrK2IsbT1DKTtzd2l0Y2gobyl7Y2FzZSAkLmQuQ0xBU1NFUzpjYXNlICQuZC5MT0NBTF9OQU1FOmNhc2UgJC5kLk5PTkU6YnJlYWs7Y2FzZSAkLmQuR0xPQkFMX05BTUU6Y2FzZSAkLmQuSUQ6Y2FzZSAkLmQuSURSRUY6KCI9Ij09PUh8fCJ+PSI9PT1IfHwiJD0iPT09SCkmJiciIichPXAmJiFjYT9wPSciJytwLnN1YnN0cmluZygxLHAubGVuZ3RoLTEpK3YrJyInOiJ8PSI9PT0KSHx8IiI9PT1IfHwobT1DKTticmVhaztjYXNlICQuZC5VUkk6Y2FzZSAkLmQuVVJJX0ZSQUdNRU5UOiIiIT09SCYmKG09Qyk7YnJlYWs7ZGVmYXVsdDptPUN9bSYmKGkrPSJbIitXLnJlcGxhY2UoL1teXHctXS9nLCJcXCQmIikrSCtwKyhjYT8iIGldIjoiXSIpKX1lbHNlIGlmKGI8ZiYmIjoiPT09YVtiXSlpZihvPWFbKytiXSxrLnRlc3QobykpbCs9IjoiK287ZWxzZSBicmVhaztlbHNlIGJyZWFrO2IhPT1mJiYobT1DKTttJiYoYj0oeStlKS5yZXBsYWNlKC9bXiAuKiNcdy1dL2csIlxcJCYiKStpK2wrZykmJmoucHVzaChiKTtyZXR1cm4gbX0iICI9PT1hW2ldJiYrK2k7ci0xIT09aSYmIiAiPT09YVtyXSYmLS1yO2Zvcih2YXIgaj1bXSxsPWkscT1uLHU9aTtxJiZ1PHI7Kyt1KXt2YXIgQj1hW3VdO2lmKGZbQl09PT1mfHwiICI9PT1CKW8obCx1LEIpP2w9dSsxOnE9Q31vKGwsciwiIil8fChxPUMpO3JldHVybiBxPyhqLmxlbmd0aCYmKGw9ai5qb2luKCIiKSxlIT09cyYmKGw9Ii4iKwplKyIgIitsKSxOLnB1c2gobCkpLG4pOiFifHxiKGEuc2xpY2UoaSxyKSl9dmFyIGU9ZC5uYSx2PWQuTCx4PWQuQWEsTj1bXSx1PTAsaSxxPTAsQjtmb3IoaT0wO2k8YS5sZW5ndGg7KytpKWlmKEI9YVtpXSwiKCI9PUJ8fCJbIj09Qj8oKytxLG4pOiIpIj09Qnx8Il0iPT1CPyhxJiYtLXEsbik6ISgiICI9PWFbaV0mJihxfHxmW2FbaS0xXV09PT1mfHxmW2FbaSsxXV09PT1mKSkpYVt1KytdPWFbaV07YS5sZW5ndGg9dTt1PWEubGVuZ3RoO2ZvcihpPXE9MDtpPHU7KytpKWlmKCIsIj09PWFbaV0pe2lmKCFnKHEsaSkpcmV0dXJuIHM7cT1pKzF9cmV0dXJuIWcocSx1KT9zOk59OyhmdW5jdGlvbigpe3ZhciBhPS9eXHcvLGQ9UmVnRXhwKCJeKD86KD86KD86KD86b25seXxub3QpICk/KD86YWxsfGF1cmFsfGJyYWlsbGV8ZW1ib3NzZWR8aGFuZGhlbGR8cHJpbnR8cHJvamVjdGlvbnxzY3JlZW58c3BlZWNofHR0eXx0dil8XFwoICg/Oig/Om1pbi18bWF4LSk/KD86KD86ZGV2aWNlLSk/KD86YXNwZWN0LXJhdGlvfGhlaWdodHx3aWR0aCl8Y29sb3IoPzotaW5kZXgpP3xtb25vY2hyb21lfG9yaWVudGF0aW9ufHJlc29sdXRpb24pfGdyaWR8aG92ZXJ8bHVtaW5vc2l0eXxwb2ludGVyfHNjYW58c2NyaXB0KSAoPzo6IC0/KD86W2Etel1cXHcrKD86LVxcdyspKnxcXGQrKD86IC8gXFxkK3woPzpcXC5cXGQrKT8oPzpwW2N4dF18W2NlbV1tfGlufGRwaXxkcHB4fGRwY218JSk/KSkgKT9cXCkpKD86IGFuZCA/XFwoICg/Oig/Om1pbi18bWF4LSk/KD86KD86ZGV2aWNlLSk/KD86YXNwZWN0LXJhdGlvfGhlaWdodHx3aWR0aCl8Y29sb3IoPzotaW5kZXgpP3xtb25vY2hyb21lfG9yaWVudGF0aW9ufHJlc29sdXRpb24pfGdyaWR8aG92ZXJ8bHVtaW5vc2l0eXxwb2ludGVyfHNjYW58c2NyaXB0KSAoPzo6IC0/KD86W2Etel1cXHcrKD86LVxcdyspKnxcXGQrKD86IC8gXFxkK3woPzpcXC5cXGQrKT8oPzpwW2N4dF18W2NlbV1tfGlufGRwaXxkcHB4fGRwY218JSk/KSkgKT9cXCkpKikoPzogLCAoPzooPzooPzooPzpvbmx5fG5vdCkgKT8oPzphbGx8YXVyYWx8YnJhaWxsZXxlbWJvc3NlZHxoYW5kaGVsZHxwcmludHxwcm9qZWN0aW9ufHNjcmVlbnxzcGVlY2h8dHR5fHR2KXxcXCggKD86KD86bWluLXxtYXgtKT8oPzooPzpkZXZpY2UtKT8oPzphc3BlY3QtcmF0aW98aGVpZ2h0fHdpZHRoKXxjb2xvcig/Oi1pbmRleCk/fG1vbm9jaHJvbWV8b3JpZW50YXRpb258cmVzb2x1dGlvbil8Z3JpZHxob3ZlcnxsdW1pbm9zaXR5fHBvaW50ZXJ8c2NhbnxzY3JpcHQpICg/OjogLT8oPzpbYS16XVxcdysoPzotXFx3KykqfFxcZCsoPzogLyBcXGQrfCg/OlxcLlxcZCspPyg/OnBbY3h0XXxbY2VtXW18aW58ZHBpfGRwcHh8ZHBjbXwlKT8pKSApP1xcKSkoPzogYW5kID9cXCggKD86KD86bWluLXxtYXgtKT8oPzooPzpkZXZpY2UtKT8oPzphc3BlY3QtcmF0aW98aGVpZ2h0fHdpZHRoKXxjb2xvcig/Oi1pbmRleCk/fG1vbm9jaHJvbWV8b3JpZW50YXRpb258cmVzb2x1dGlvbil8Z3JpZHxob3ZlcnxsdW1pbm9zaXR5fHBvaW50ZXJ8c2NhbnxzY3JpcHQpICg/OjogLT8oPzpbYS16XVxcdysoPzotXFx3KykqfFxcZCsoPzogLyBcXGQrfCg/OlxcLlxcZCspPyg/OnBbY3h0XXxbY2VtXW18aW58ZHBpfGRwcHh8ZHBjbXwlKT8pKSApP1xcKSkqKSkqJCIsCiJpIik7Wj1mdW5jdGlvbihiKXtmb3IodmFyIGI9Yi5zbGljZSgpLGY9Yi5sZW5ndGgsZz0wLGs9MDtrPGY7KytrKXt2YXIgZT1iW2tdOyIgIiE9ZSYmKGJbZysrXT1lKX1iLmxlbmd0aD1nO2I9Yi5qb2luKCIgIik7cmV0dXJuIGI9IWIubGVuZ3RoPyIiOiFkLnRlc3QoYik/Im5vdCBhbGwiOmEudGVzdChiKT9iOiJub3QgYWxsICwgIitifX0pKCk7KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShiKXt2YXIgZD0vXlxzKlsnXShbXiddKilbJ11ccyokLyxmPS9eXHMqdXJsXHMqWyhdWyJdKFteIl0qKVsiXVspXVxzKiQvLGc9L15ccyp1cmxccypbKF1bJ10oW14nXSopWyddWyldXHMqJC8saD0vXlxzKnVybFxzKlsoXShbXildKilbKV1ccyokLyxrO3JldHVybihrPS9eXHMqWyJdKFteIl0qKVsiXVxzKiQvLmV4ZWMoYikpfHwoaz1kLmV4ZWMoYikpfHwoaz1mLmV4ZWMoYikpfHwoaz1nLmV4ZWMoYikpfHwoaz1oLmV4ZWMoYikpP2tbMV06c31mdW5jdGlvbiBiKGYsZyxrLGUsdix3LHUpe2Z1bmN0aW9uIGkoKXtyPQpGLmxlbmd0aCYmRltGLmxlbmd0aC0xXT09PXN9dmFyIHE9YyxCPXV8fFswXSxGPVtdLHI9QztmYShnLHtzdGFydFN0eWxlc2hlZXQ6ZnVuY3Rpb24oKXtxPVtdfSxlbmRTdHlsZXNoZWV0OmZ1bmN0aW9uKCl7fSxzdGFydEF0cnVsZTpmdW5jdGlvbihnLGope2lmKHIpZz1zO2Vsc2UgaWYoIkBtZWRpYSI9PT1nKXEucHVzaCgiQG1lZGlhIiwiICIsWihqKSk7ZWxzZSBpZigiQGtleWZyYW1lcyI9PT1nfHwiQC13ZWJraXQta2V5ZnJhbWVzIj09PWcpe3ZhciBpPWpbMF07MT09PWoubGVuZ3RoJiYhL19fJHxbXlx3XC1dLy50ZXN0KGkpPyhxLnB1c2goZywiICIsaStrLkwpLGc9IkBrZXlmcmFtZXMiKTpnPXN9ZWxzZSBpZigiQGltcG9ydCI9PT1nJiYwPGoubGVuZ3RoKWlmKGc9cywiZnVuY3Rpb24iPT09dHlwZW9mIHcpe3ZhciBsPVooai5zbGljZSgxKSk7aWYoIm5vdCBhbGwiIT09bCl7KytCWzBdO3ZhciB1PVtdO3EucHVzaCh1KTt2YXIgRT14KE0oZixhKGpbMF0pKSxmdW5jdGlvbihhKXt2YXIgZj0KYihFLGEucWEsayxlLHYsdyxCKTstLUJbMF07YT1sP3t0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiJAbWVkaWEgIitsKyIgeyIrZi5yZXN1bHQrIn0ifX06Zi5yZXN1bHQ7dVswXT1hO3coYSwhIUJbMF0pfSx2KX19ZWxzZSB3aW5kb3cuY29uc29sZSYmd2luZG93LmNvbnNvbGUubG9nKCJAaW1wb3J0ICIrai5qb2luKCIgIikrIiBlbGlkZWQiKTtyPSFnO0YucHVzaChnKX0sZW5kQXRydWxlOmZ1bmN0aW9uKCl7Ri5wb3AoKTtyfHxxLnB1c2goIjsiKTtpKCl9LHN0YXJ0QmxvY2s6ZnVuY3Rpb24oKXtyfHxxLnB1c2goInsiKX0sZW5kQmxvY2s6ZnVuY3Rpb24oKXtyfHwocS5wdXNoKCJ9Iikscj1uKX0sc3RhcnRSdWxlc2V0OmZ1bmN0aW9uKGEpe2lmKCFyKXt2YXIgYj1jOyJAa2V5ZnJhbWVzIj09PUZbRi5sZW5ndGgtMV0/KGI9YS5qb2luKCIgIikubWF0Y2goL14gKig/OmZyb218dG98XGQrKD86XC5cZCspPyUpICooPzosICooPzpmcm9tfHRvfFxkKyg/OlwuXGQrKT8lKSAqKSokL2kpLApyPSFiLGImJihiPWJbMF0ucmVwbGFjZSgvICsvZywiIikpKTooYT1iYShhLGspLCFhfHwhYS5sZW5ndGg/cj1uOmI9YS5qb2luKCIsICIpKTtyfHxxLnB1c2goYiwieyIpfUYucHVzaChzKX0sZW5kUnVsZXNldDpmdW5jdGlvbigpe0YucG9wKCk7cnx8cS5wdXNoKCJ9Iik7aSgpfSxkZWNsYXJhdGlvbjpmdW5jdGlvbihhLGIpe2lmKCFyKXt2YXIgZD1DLGc9Yi5sZW5ndGg7Mjw9ZyYmIiEiPT09YltnLTJdJiYiaW1wb3J0YW50Ij09PWJbZy0xXS50b0xvd2VyQ2FzZSgpJiYoZD1uLGIubGVuZ3RoLT0yKTthYShhLGIsZSxmLGsuTCk7Yi5sZW5ndGgmJnEucHVzaChhLCI6IixiLmpvaW4oIiAiKSxkPyIgIWltcG9ydGFudDsiOiI7Iil9fX0pO3JldHVybntyZXN1bHQ6e3RvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHEuam9pbigiIil9fSx2YTohIUJbMF19fWRhPWZ1bmN0aW9uKGEsZixnLGspe3JldHVybiBiKGEsZixnLGssYyxjKS5yZXN1bHQudG9TdHJpbmcoKX19KSgpfSkoKTsKInVuZGVmaW5lZCIhPT10eXBlb2Ygd2luZG93JiYod2luZG93LnNhbml0aXplQ3NzUHJvcGVydHk9YWEsd2luZG93LnNhbml0aXplQ3NzU2VsZWN0b3JMaXN0PWJhLHdpbmRvdy5zYW5pdGl6ZVN0eWxlc2hlZXQ9ZGEsd2luZG93LnNhbml0aXplTWVkaWFRdWVyeT1aKTt2YXIgZmEsZ2E7CihmdW5jdGlvbigpe2Z1bmN0aW9uIGcoYixhLGcsZixoKXtmb3IodmFyIGQ9YSsrO2E8ZyYmInsiIT09YlthXSYmIjsiIT09YlthXTspKythO2lmKGE8ZyYmKGh8fCI7Ij09PWJbYV0pKXt2YXIgaD1kKzEsZT1hO2g8ZyYmIiAiPT09YltoXSYmKytoO2U+aCYmIiAiPT09YltlLTFdJiYtLWU7Zi5zdGFydEF0cnVsZSYmZi5zdGFydEF0cnVsZShiW2RdLnRvTG93ZXJDYXNlKCksYi5zbGljZShoLGUpKTthPSJ7Ij09PWJbYV0/dyhiLGEsZyxmKTphKzE7Zi5lbmRBdHJ1bGUmJmYuZW5kQXRydWxlKCl9cmV0dXJuIGF9ZnVuY3Rpb24gdyhiLGEsayxmKXsrK2E7Zm9yKGYuc3RhcnRCbG9jayYmZi5zdGFydEJsb2NrKCk7YTxrOyl7dmFyIGg9YlthXS5jaGFyQXQoMCk7aWYoIn0iPT1oKXsrK2E7YnJlYWt9YT0iICI9PT1ofHwiOyI9PT1oP2ErMToiQCI9PT1oP2coYixhLGssZixDKToieyI9PT1oP3coYixhLGssZik6TShiLGEsayxmKX1mLmVuZEJsb2NrJiZmLmVuZEJsb2NrKCk7cmV0dXJuIGF9CmZ1bmN0aW9uIE0oYixhLGcsZil7dmFyIGg9YSxkPXgoYixhLGcsbik7aWYoMD5kKXJldHVybiBkPX5kLGQ9PT1oP2QrMTpkO3ZhciB5PWJbZF07aWYoInsiIT09eSlyZXR1cm4gZD09PWg/ZCsxOmQ7YT1kKzE7ZD5oJiYiICI9PT1iW2QtMV0mJi0tZDtmb3IoZi5zdGFydFJ1bGVzZXQmJmYuc3RhcnRSdWxlc2V0KGIuc2xpY2UoaCxkKSk7YTxnOyl7eT1iW2FdO2lmKCJ9Ij09PXkpeysrYTticmVha31hPSIgIj09PXk/YSsxOmUoYixhLGcsZil9Zi5lbmRSdWxlc2V0JiZmLmVuZFJ1bGVzZXQoKTtyZXR1cm4gYX1mdW5jdGlvbiB4KGIsYSxnLGYpe2Zvcih2YXIgaCxkPVtdLGU9LTE7YTxnOysrYSlpZihoPWJbYV0uY2hhckF0KDApLCJbIj09PWh8fCIoIj09PWgpZFsrK2VdPWg7ZWxzZSBpZigiXSI9PT1oJiYiWyI9PT1kW2VdfHwiKSI9PT1oJiYiKCI9PT1kW2VdKS0tZTtlbHNlIGlmKCJ7Ij09PWh8fCJ9Ij09PWh8fCI7Ij09PWh8fCJAIj09PWh8fCI6Ij09PWgmJiFmKWJyZWFrOzA8PQplJiYoYT1+KGErMSkpO3JldHVybiBhfWZ1bmN0aW9uIEUoYixhLGcpe2Zvcig7YTxnJiYiOyIhPT1iW2FdJiYifSIhPT1iW2FdOykrK2E7cmV0dXJuIGE8ZyYmIjsiPT09YlthXT9hKzE6YX1mdW5jdGlvbiBlKGIsYSxnLGYpe3ZhciBoPWJbYSsrXTtpZighdi50ZXN0KGgpKXJldHVybiBFKGIsYSxnKTthPGcmJiIgIj09PWJbYV0mJisrYTtpZihhPT1nfHwiOiIhPT1iW2FdKXJldHVybiBFKGIsYSxnKTsrK2E7YTxnJiYiICI9PT1iW2FdJiYrK2E7dmFyIGQ9eChiLGEsZyxDKTtpZigwPmQpZD1+ZDtlbHNle2Zvcih2YXIgZT1bXSxsPTAsdz1hO3c8ZDsrK3cpYT1iW3ddLCIgIiE9PWEmJihlW2wrK109YSk7aWYoZDxnKXtkb3thPWJbZF07aWYoIjsiPT09YXx8In0iPT09YSlicmVhaztsPTB9d2hpbGUoKytkPGcpOyI7Ij09PWEmJisrZH1sJiZmLmRlY2xhcmF0aW9uJiZmLmRlY2xhcmF0aW9uKGgudG9Mb3dlckNhc2UoKSxlKX1yZXR1cm4gZH1mYT1mdW5jdGlvbihiLGEpe3ZhciBlPVUoYik7CmEuc3RhcnRTdHlsZXNoZWV0JiZhLnN0YXJ0U3R5bGVzaGVldCgpO2Zvcih2YXIgZj0wLGg9ZS5sZW5ndGg7ZjxoOylmPSIgIj09PWVbZl0/ZisxOmY8aD8iQCI9PT1lW2ZdLmNoYXJBdCgwKT9nKGUsZixoLGEsbik6TShlLGYsaCxhKTpmO2EuZW5kU3R5bGVzaGVldCYmYS5lbmRTdHlsZXNoZWV0KCl9O3ZhciB2PS9eLT9bYS16XS9pO2dhPWZ1bmN0aW9uKGIsYSl7Zm9yKHZhciBnPVUoYiksZj0wLGg9Zy5sZW5ndGg7ZjxoOylmPSIgIiE9PWdbZl0/ZShnLGYsaCxhKTpmKzF9fSkoKTsidW5kZWZpbmVkIiE9PXR5cGVvZiB3aW5kb3cmJih3aW5kb3cucGFyc2VDc3NTdHlsZXNoZWV0PWZhLHdpbmRvdy5wYXJzZUNzc0RlY2xhcmF0aW9ucz1nYSk7dmFyICQ9e2Q6e05PTkU6MCxVUkk6MSxVUklfRlJBR01FTlQ6MTEsU0NSSVBUOjIsU1RZTEU6MyxIVE1MOjEyLElEOjQsSURSRUY6NSxJRFJFRlM6NixHTE9CQUxfTkFNRTo3LExPQ0FMX05BTUU6OCxDTEFTU0VTOjksRlJBTUVfVEFSR0VUOjEwLE1FRElBX1FVRVJZOjEzfX07JC5hdHlwZT0kLmQ7CiQubT17Iio6OmNsYXNzIjo5LCIqOjpkaXIiOjAsIio6OmRyYWdnYWJsZSI6MCwiKjo6aGlkZGVuIjowLCIqOjppZCI6NCwiKjo6aW5lcnQiOjAsIio6Oml0ZW1wcm9wIjowLCIqOjppdGVtcmVmIjo2LCIqOjppdGVtc2NvcGUiOjAsIio6OmxhbmciOjAsIio6Om9uYmx1ciI6MiwiKjo6b25jaGFuZ2UiOjIsIio6Om9uY2xpY2siOjIsIio6Om9uZGJsY2xpY2siOjIsIio6Om9uZXJyb3IiOjIsIio6Om9uZm9jdXMiOjIsIio6Om9ua2V5ZG93biI6MiwiKjo6b25rZXlwcmVzcyI6MiwiKjo6b25rZXl1cCI6MiwiKjo6b25sb2FkIjoyLCIqOjpvbm1vdXNlZG93biI6MiwiKjo6b25tb3VzZW1vdmUiOjIsIio6Om9ubW91c2VvdXQiOjIsIio6Om9ubW91c2VvdmVyIjoyLCIqOjpvbm1vdXNldXAiOjIsIio6Om9ucmVzZXQiOjIsIio6Om9uc2Nyb2xsIjoyLCIqOjpvbnNlbGVjdCI6MiwiKjo6b25zdWJtaXQiOjIsIio6Om9udG91Y2hjYW5jZWwiOjIsIio6Om9udG91Y2hlbmQiOjIsIio6Om9udG91Y2hlbnRlciI6MiwKIio6Om9udG91Y2hsZWF2ZSI6MiwiKjo6b250b3VjaG1vdmUiOjIsIio6Om9udG91Y2hzdGFydCI6MiwiKjo6b251bmxvYWQiOjIsIio6OnNwZWxsY2hlY2siOjAsIio6OnN0eWxlIjozLCIqOjp0YWJpbmRleCI6MCwiKjo6dGl0bGUiOjAsIio6OnRyYW5zbGF0ZSI6MCwiYTo6YWNjZXNza2V5IjowLCJhOjpjb29yZHMiOjAsImE6OmhyZWYiOjEsImE6OmhyZWZsYW5nIjowLCJhOjpuYW1lIjo3LCJhOjpvbmJsdXIiOjIsImE6Om9uZm9jdXMiOjIsImE6OnNoYXBlIjowLCJhOjp0YXJnZXQiOjEwLCJhOjp0eXBlIjowLCJhcmVhOjphY2Nlc3NrZXkiOjAsImFyZWE6OmFsdCI6MCwiYXJlYTo6Y29vcmRzIjowLCJhcmVhOjpocmVmIjoxLCJhcmVhOjpub2hyZWYiOjAsImFyZWE6Om9uYmx1ciI6MiwiYXJlYTo6b25mb2N1cyI6MiwiYXJlYTo6c2hhcGUiOjAsImFyZWE6OnRhcmdldCI6MTAsImF1ZGlvOjpjb250cm9scyI6MCwiYXVkaW86Omxvb3AiOjAsImF1ZGlvOjptZWRpYWdyb3VwIjo1LAoiYXVkaW86Om11dGVkIjowLCJhdWRpbzo6cHJlbG9hZCI6MCwiYXVkaW86OnNyYyI6MSwiYmRvOjpkaXIiOjAsImJsb2NrcXVvdGU6OmNpdGUiOjEsImJyOjpjbGVhciI6MCwiYnV0dG9uOjphY2Nlc3NrZXkiOjAsImJ1dHRvbjo6ZGlzYWJsZWQiOjAsImJ1dHRvbjo6bmFtZSI6OCwiYnV0dG9uOjpvbmJsdXIiOjIsImJ1dHRvbjo6b25mb2N1cyI6MiwiYnV0dG9uOjp0eXBlIjowLCJidXR0b246OnZhbHVlIjowLCJjYW52YXM6OmhlaWdodCI6MCwiY2FudmFzOjp3aWR0aCI6MCwiY2FwdGlvbjo6YWxpZ24iOjAsImNvbDo6YWxpZ24iOjAsImNvbDo6Y2hhciI6MCwiY29sOjpjaGFyb2ZmIjowLCJjb2w6OnNwYW4iOjAsImNvbDo6dmFsaWduIjowLCJjb2w6OndpZHRoIjowLCJjb2xncm91cDo6YWxpZ24iOjAsImNvbGdyb3VwOjpjaGFyIjowLCJjb2xncm91cDo6Y2hhcm9mZiI6MCwiY29sZ3JvdXA6OnNwYW4iOjAsImNvbGdyb3VwOjp2YWxpZ24iOjAsImNvbGdyb3VwOjp3aWR0aCI6MCwKImNvbW1hbmQ6OmNoZWNrZWQiOjAsImNvbW1hbmQ6OmNvbW1hbmQiOjUsImNvbW1hbmQ6OmRpc2FibGVkIjowLCJjb21tYW5kOjppY29uIjoxLCJjb21tYW5kOjpsYWJlbCI6MCwiY29tbWFuZDo6cmFkaW9ncm91cCI6MCwiY29tbWFuZDo6dHlwZSI6MCwiZGF0YTo6dmFsdWUiOjAsImRlbDo6Y2l0ZSI6MSwiZGVsOjpkYXRldGltZSI6MCwiZGV0YWlsczo6b3BlbiI6MCwiZGlyOjpjb21wYWN0IjowLCJkaXY6OmFsaWduIjowLCJkbDo6Y29tcGFjdCI6MCwiZmllbGRzZXQ6OmRpc2FibGVkIjowLCJmb250Ojpjb2xvciI6MCwiZm9udDo6ZmFjZSI6MCwiZm9udDo6c2l6ZSI6MCwiZm9ybTo6YWNjZXB0IjowLCJmb3JtOjphY3Rpb24iOjEsImZvcm06OmF1dG9jb21wbGV0ZSI6MCwiZm9ybTo6ZW5jdHlwZSI6MCwiZm9ybTo6bWV0aG9kIjowLCJmb3JtOjpuYW1lIjo3LCJmb3JtOjpub3ZhbGlkYXRlIjowLCJmb3JtOjpvbnJlc2V0IjoyLCJmb3JtOjpvbnN1Ym1pdCI6MiwiZm9ybTo6dGFyZ2V0IjoxMCwKImgxOjphbGlnbiI6MCwiaDI6OmFsaWduIjowLCJoMzo6YWxpZ24iOjAsImg0OjphbGlnbiI6MCwiaDU6OmFsaWduIjowLCJoNjo6YWxpZ24iOjAsImhyOjphbGlnbiI6MCwiaHI6Om5vc2hhZGUiOjAsImhyOjpzaXplIjowLCJocjo6d2lkdGgiOjAsImlmcmFtZTo6YWxpZ24iOjAsImlmcmFtZTo6ZnJhbWVib3JkZXIiOjAsImlmcmFtZTo6aGVpZ2h0IjowLCJpZnJhbWU6Om1hcmdpbmhlaWdodCI6MCwiaWZyYW1lOjptYXJnaW53aWR0aCI6MCwiaWZyYW1lOjp3aWR0aCI6MCwiaW1nOjphbGlnbiI6MCwiaW1nOjphbHQiOjAsImltZzo6Ym9yZGVyIjowLCJpbWc6OmhlaWdodCI6MCwiaW1nOjpoc3BhY2UiOjAsImltZzo6aXNtYXAiOjAsImltZzo6bmFtZSI6NywiaW1nOjpzcmMiOjEsImltZzo6dXNlbWFwIjoxMSwiaW1nOjp2c3BhY2UiOjAsImltZzo6d2lkdGgiOjAsImlucHV0OjphY2NlcHQiOjAsImlucHV0OjphY2Nlc3NrZXkiOjAsImlucHV0OjphbGlnbiI6MCwiaW5wdXQ6OmFsdCI6MCwKImlucHV0OjphdXRvY29tcGxldGUiOjAsImlucHV0OjpjaGVja2VkIjowLCJpbnB1dDo6ZGlzYWJsZWQiOjAsImlucHV0OjppbnB1dG1vZGUiOjAsImlucHV0Ojppc21hcCI6MCwiaW5wdXQ6Omxpc3QiOjUsImlucHV0OjptYXgiOjAsImlucHV0OjptYXhsZW5ndGgiOjAsImlucHV0OjptaW4iOjAsImlucHV0OjptdWx0aXBsZSI6MCwiaW5wdXQ6Om5hbWUiOjgsImlucHV0OjpvbmJsdXIiOjIsImlucHV0OjpvbmNoYW5nZSI6MiwiaW5wdXQ6Om9uZm9jdXMiOjIsImlucHV0OjpvbnNlbGVjdCI6MiwiaW5wdXQ6OnBhdHRlcm4iOjAsImlucHV0OjpwbGFjZWhvbGRlciI6MCwiaW5wdXQ6OnJlYWRvbmx5IjowLCJpbnB1dDo6cmVxdWlyZWQiOjAsImlucHV0OjpzaXplIjowLCJpbnB1dDo6c3JjIjoxLCJpbnB1dDo6c3RlcCI6MCwiaW5wdXQ6OnR5cGUiOjAsImlucHV0Ojp1c2VtYXAiOjExLCJpbnB1dDo6dmFsdWUiOjAsImluczo6Y2l0ZSI6MSwiaW5zOjpkYXRldGltZSI6MCwibGFiZWw6OmFjY2Vzc2tleSI6MCwKImxhYmVsOjpmb3IiOjUsImxhYmVsOjpvbmJsdXIiOjIsImxhYmVsOjpvbmZvY3VzIjoyLCJsZWdlbmQ6OmFjY2Vzc2tleSI6MCwibGVnZW5kOjphbGlnbiI6MCwibGk6OnR5cGUiOjAsImxpOjp2YWx1ZSI6MCwibWFwOjpuYW1lIjo3LCJtZW51Ojpjb21wYWN0IjowLCJtZW51OjpsYWJlbCI6MCwibWVudTo6dHlwZSI6MCwibWV0ZXI6OmhpZ2giOjAsIm1ldGVyOjpsb3ciOjAsIm1ldGVyOjptYXgiOjAsIm1ldGVyOjptaW4iOjAsIm1ldGVyOjp2YWx1ZSI6MCwib2w6OmNvbXBhY3QiOjAsIm9sOjpyZXZlcnNlZCI6MCwib2w6OnN0YXJ0IjowLCJvbDo6dHlwZSI6MCwib3B0Z3JvdXA6OmRpc2FibGVkIjowLCJvcHRncm91cDo6bGFiZWwiOjAsIm9wdGlvbjo6ZGlzYWJsZWQiOjAsIm9wdGlvbjo6bGFiZWwiOjAsIm9wdGlvbjo6c2VsZWN0ZWQiOjAsIm9wdGlvbjo6dmFsdWUiOjAsIm91dHB1dDo6Zm9yIjo2LCJvdXRwdXQ6Om5hbWUiOjgsInA6OmFsaWduIjowLCJwcmU6OndpZHRoIjowLAoicHJvZ3Jlc3M6Om1heCI6MCwicHJvZ3Jlc3M6Om1pbiI6MCwicHJvZ3Jlc3M6OnZhbHVlIjowLCJxOjpjaXRlIjoxLCJzZWxlY3Q6OmF1dG9jb21wbGV0ZSI6MCwic2VsZWN0OjpkaXNhYmxlZCI6MCwic2VsZWN0OjptdWx0aXBsZSI6MCwic2VsZWN0OjpuYW1lIjo4LCJzZWxlY3Q6Om9uYmx1ciI6Miwic2VsZWN0OjpvbmNoYW5nZSI6Miwic2VsZWN0OjpvbmZvY3VzIjoyLCJzZWxlY3Q6OnJlcXVpcmVkIjowLCJzZWxlY3Q6OnNpemUiOjAsInNvdXJjZTo6dHlwZSI6MCwidGFibGU6OmFsaWduIjowLCJ0YWJsZTo6Ymdjb2xvciI6MCwidGFibGU6OmJvcmRlciI6MCwidGFibGU6OmNlbGxwYWRkaW5nIjowLCJ0YWJsZTo6Y2VsbHNwYWNpbmciOjAsInRhYmxlOjpmcmFtZSI6MCwidGFibGU6OnJ1bGVzIjowLCJ0YWJsZTo6c3VtbWFyeSI6MCwidGFibGU6OndpZHRoIjowLCJ0Ym9keTo6YWxpZ24iOjAsInRib2R5OjpjaGFyIjowLCJ0Ym9keTo6Y2hhcm9mZiI6MCwidGJvZHk6OnZhbGlnbiI6MCwKInRkOjphYmJyIjowLCJ0ZDo6YWxpZ24iOjAsInRkOjpheGlzIjowLCJ0ZDo6Ymdjb2xvciI6MCwidGQ6OmNoYXIiOjAsInRkOjpjaGFyb2ZmIjowLCJ0ZDo6Y29sc3BhbiI6MCwidGQ6OmhlYWRlcnMiOjYsInRkOjpoZWlnaHQiOjAsInRkOjpub3dyYXAiOjAsInRkOjpyb3dzcGFuIjowLCJ0ZDo6c2NvcGUiOjAsInRkOjp2YWxpZ24iOjAsInRkOjp3aWR0aCI6MCwidGV4dGFyZWE6OmFjY2Vzc2tleSI6MCwidGV4dGFyZWE6OmF1dG9jb21wbGV0ZSI6MCwidGV4dGFyZWE6OmNvbHMiOjAsInRleHRhcmVhOjpkaXNhYmxlZCI6MCwidGV4dGFyZWE6OmlucHV0bW9kZSI6MCwidGV4dGFyZWE6Om5hbWUiOjgsInRleHRhcmVhOjpvbmJsdXIiOjIsInRleHRhcmVhOjpvbmNoYW5nZSI6MiwidGV4dGFyZWE6Om9uZm9jdXMiOjIsInRleHRhcmVhOjpvbnNlbGVjdCI6MiwidGV4dGFyZWE6OnBsYWNlaG9sZGVyIjowLCJ0ZXh0YXJlYTo6cmVhZG9ubHkiOjAsInRleHRhcmVhOjpyZXF1aXJlZCI6MCwKInRleHRhcmVhOjpyb3dzIjowLCJ0ZXh0YXJlYTo6d3JhcCI6MCwidGZvb3Q6OmFsaWduIjowLCJ0Zm9vdDo6Y2hhciI6MCwidGZvb3Q6OmNoYXJvZmYiOjAsInRmb290Ojp2YWxpZ24iOjAsInRoOjphYmJyIjowLCJ0aDo6YWxpZ24iOjAsInRoOjpheGlzIjowLCJ0aDo6Ymdjb2xvciI6MCwidGg6OmNoYXIiOjAsInRoOjpjaGFyb2ZmIjowLCJ0aDo6Y29sc3BhbiI6MCwidGg6OmhlYWRlcnMiOjYsInRoOjpoZWlnaHQiOjAsInRoOjpub3dyYXAiOjAsInRoOjpyb3dzcGFuIjowLCJ0aDo6c2NvcGUiOjAsInRoOjp2YWxpZ24iOjAsInRoOjp3aWR0aCI6MCwidGhlYWQ6OmFsaWduIjowLCJ0aGVhZDo6Y2hhciI6MCwidGhlYWQ6OmNoYXJvZmYiOjAsInRoZWFkOjp2YWxpZ24iOjAsInRyOjphbGlnbiI6MCwidHI6OmJnY29sb3IiOjAsInRyOjpjaGFyIjowLCJ0cjo6Y2hhcm9mZiI6MCwidHI6OnZhbGlnbiI6MCwidHJhY2s6OmRlZmF1bHQiOjAsInRyYWNrOjpraW5kIjowLCJ0cmFjazo6bGFiZWwiOjAsCiJ0cmFjazo6c3JjbGFuZyI6MCwidWw6OmNvbXBhY3QiOjAsInVsOjp0eXBlIjowLCJ2aWRlbzo6Y29udHJvbHMiOjAsInZpZGVvOjpoZWlnaHQiOjAsInZpZGVvOjpsb29wIjowLCJ2aWRlbzo6bWVkaWFncm91cCI6NSwidmlkZW86Om11dGVkIjowLCJ2aWRlbzo6cG9zdGVyIjoxLCJ2aWRlbzo6cHJlbG9hZCI6MCwidmlkZW86OnNyYyI6MSwidmlkZW86OndpZHRoIjowfTskLkFUVFJJQlM9JC5tOyQuYz17T1BUSU9OQUxfRU5EVEFHOjEsRU1QVFk6MixDREFUQTo0LFJDREFUQTo4LFVOU0FGRToxNixGT0xEQUJMRTozMixTQ1JJUFQ6NjQsU1RZTEU6MTI4LFZJUlRVQUxJWkVEOjI1Nn07JC5lZmxhZ3M9JC5jOwokLmY9e2E6MCxhYmJyOjAsYWNyb255bTowLGFkZHJlc3M6MCxhcHBsZXQ6MjcyLGFyZWE6MixhcnRpY2xlOjAsYXNpZGU6MCxhdWRpbzowLGI6MCxiYXNlOjI3NCxiYXNlZm9udDoyNzQsYmRpOjAsYmRvOjAsYmlnOjAsYmxvY2txdW90ZTowLGJvZHk6MzA1LGJyOjIsYnV0dG9uOjAsY2FudmFzOjAsY2FwdGlvbjowLGNlbnRlcjowLGNpdGU6MCxjb2RlOjAsY29sOjIsY29sZ3JvdXA6MSxjb21tYW5kOjIsZGF0YTowLGRhdGFsaXN0OjAsZGQ6MSxkZWw6MCxkZXRhaWxzOjAsZGZuOjAsZGlhbG9nOjI3MixkaXI6MCxkaXY6MCxkbDowLGR0OjEsZW06MCxmaWVsZHNldDowLGZpZ2NhcHRpb246MCxmaWd1cmU6MCxmb250OjAsZm9vdGVyOjAsZm9ybTowLGZyYW1lOjI3NCxmcmFtZXNldDoyNzIsaDE6MCxoMjowLGgzOjAsaDQ6MCxoNTowLGg2OjAsaGVhZDozMDUsaGVhZGVyOjAsaGdyb3VwOjAsaHI6MixodG1sOjMwNSxpOjAsaWZyYW1lOjQsaW1nOjIsaW5wdXQ6MixpbnM6MCxpc2luZGV4OjI3NCwKa2JkOjAsa2V5Z2VuOjI3NCxsYWJlbDowLGxlZ2VuZDowLGxpOjEsbGluazoyNzQsbWFwOjAsbWFyazowLG1lbnU6MCxtZXRhOjI3NCxtZXRlcjowLG5hdjowLG5vYnI6MCxub2VtYmVkOjI3Nixub2ZyYW1lczoyNzYsbm9zY3JpcHQ6Mjc2LG9iamVjdDoyNzIsb2w6MCxvcHRncm91cDowLG9wdGlvbjoxLG91dHB1dDowLHA6MSxwYXJhbToyNzQscHJlOjAscHJvZ3Jlc3M6MCxxOjAsczowLHNhbXA6MCxzY3JpcHQ6ODQsc2VjdGlvbjowLHNlbGVjdDowLHNtYWxsOjAsc291cmNlOjIsc3BhbjowLHN0cmlrZTowLHN0cm9uZzowLHN0eWxlOjE0OCxzdWI6MCxzdW1tYXJ5OjAsc3VwOjAsdGFibGU6MCx0Ym9keToxLHRkOjEsdGV4dGFyZWE6OCx0Zm9vdDoxLHRoOjEsdGhlYWQ6MSx0aW1lOjAsdGl0bGU6MjgwLHRyOjEsdHJhY2s6Mix0dDowLHU6MCx1bDowLCJ2YXIiOjAsdmlkZW86MCx3YnI6Mn07JC5FTEVNRU5UUz0kLmY7CiQuUT17YToiSFRNTEFuY2hvckVsZW1lbnQiLGFiYnI6IkhUTUxFbGVtZW50IixhY3JvbnltOiJIVE1MRWxlbWVudCIsYWRkcmVzczoiSFRNTEVsZW1lbnQiLGFwcGxldDoiSFRNTEFwcGxldEVsZW1lbnQiLGFyZWE6IkhUTUxBcmVhRWxlbWVudCIsYXJ0aWNsZToiSFRNTEVsZW1lbnQiLGFzaWRlOiJIVE1MRWxlbWVudCIsYXVkaW86IkhUTUxBdWRpb0VsZW1lbnQiLGI6IkhUTUxFbGVtZW50IixiYXNlOiJIVE1MQmFzZUVsZW1lbnQiLGJhc2Vmb250OiJIVE1MQmFzZUZvbnRFbGVtZW50IixiZGk6IkhUTUxFbGVtZW50IixiZG86IkhUTUxFbGVtZW50IixiaWc6IkhUTUxFbGVtZW50IixibG9ja3F1b3RlOiJIVE1MUXVvdGVFbGVtZW50Iixib2R5OiJIVE1MQm9keUVsZW1lbnQiLGJyOiJIVE1MQlJFbGVtZW50IixidXR0b246IkhUTUxCdXR0b25FbGVtZW50IixjYW52YXM6IkhUTUxDYW52YXNFbGVtZW50IixjYXB0aW9uOiJIVE1MVGFibGVDYXB0aW9uRWxlbWVudCIsY2VudGVyOiJIVE1MRWxlbWVudCIsCmNpdGU6IkhUTUxFbGVtZW50Iixjb2RlOiJIVE1MRWxlbWVudCIsY29sOiJIVE1MVGFibGVDb2xFbGVtZW50Iixjb2xncm91cDoiSFRNTFRhYmxlQ29sRWxlbWVudCIsY29tbWFuZDoiSFRNTENvbW1hbmRFbGVtZW50IixkYXRhOiJIVE1MRWxlbWVudCIsZGF0YWxpc3Q6IkhUTUxEYXRhTGlzdEVsZW1lbnQiLGRkOiJIVE1MRWxlbWVudCIsZGVsOiJIVE1MTW9kRWxlbWVudCIsZGV0YWlsczoiSFRNTERldGFpbHNFbGVtZW50IixkZm46IkhUTUxFbGVtZW50IixkaWFsb2c6IkhUTUxEaWFsb2dFbGVtZW50IixkaXI6IkhUTUxEaXJlY3RvcnlFbGVtZW50IixkaXY6IkhUTUxEaXZFbGVtZW50IixkbDoiSFRNTERMaXN0RWxlbWVudCIsZHQ6IkhUTUxFbGVtZW50IixlbToiSFRNTEVsZW1lbnQiLGZpZWxkc2V0OiJIVE1MRmllbGRTZXRFbGVtZW50IixmaWdjYXB0aW9uOiJIVE1MRWxlbWVudCIsZmlndXJlOiJIVE1MRWxlbWVudCIsZm9udDoiSFRNTEZvbnRFbGVtZW50Iixmb290ZXI6IkhUTUxFbGVtZW50IiwKZm9ybToiSFRNTEZvcm1FbGVtZW50IixmcmFtZToiSFRNTEZyYW1lRWxlbWVudCIsZnJhbWVzZXQ6IkhUTUxGcmFtZVNldEVsZW1lbnQiLGgxOiJIVE1MSGVhZGluZ0VsZW1lbnQiLGgyOiJIVE1MSGVhZGluZ0VsZW1lbnQiLGgzOiJIVE1MSGVhZGluZ0VsZW1lbnQiLGg0OiJIVE1MSGVhZGluZ0VsZW1lbnQiLGg1OiJIVE1MSGVhZGluZ0VsZW1lbnQiLGg2OiJIVE1MSGVhZGluZ0VsZW1lbnQiLGhlYWQ6IkhUTUxIZWFkRWxlbWVudCIsaGVhZGVyOiJIVE1MRWxlbWVudCIsaGdyb3VwOiJIVE1MRWxlbWVudCIsaHI6IkhUTUxIUkVsZW1lbnQiLGh0bWw6IkhUTUxIdG1sRWxlbWVudCIsaToiSFRNTEVsZW1lbnQiLGlmcmFtZToiSFRNTElGcmFtZUVsZW1lbnQiLGltZzoiSFRNTEltYWdlRWxlbWVudCIsaW5wdXQ6IkhUTUxJbnB1dEVsZW1lbnQiLGluczoiSFRNTE1vZEVsZW1lbnQiLGlzaW5kZXg6IkhUTUxVbmtub3duRWxlbWVudCIsa2JkOiJIVE1MRWxlbWVudCIsa2V5Z2VuOiJIVE1MS2V5Z2VuRWxlbWVudCIsCmxhYmVsOiJIVE1MTGFiZWxFbGVtZW50IixsZWdlbmQ6IkhUTUxMZWdlbmRFbGVtZW50IixsaToiSFRNTExJRWxlbWVudCIsbGluazoiSFRNTExpbmtFbGVtZW50IixtYXA6IkhUTUxNYXBFbGVtZW50IixtYXJrOiJIVE1MRWxlbWVudCIsbWVudToiSFRNTE1lbnVFbGVtZW50IixtZXRhOiJIVE1MTWV0YUVsZW1lbnQiLG1ldGVyOiJIVE1MTWV0ZXJFbGVtZW50IixuYXY6IkhUTUxFbGVtZW50Iixub2JyOiJIVE1MRWxlbWVudCIsbm9lbWJlZDoiSFRNTEVsZW1lbnQiLG5vZnJhbWVzOiJIVE1MRWxlbWVudCIsbm9zY3JpcHQ6IkhUTUxFbGVtZW50IixvYmplY3Q6IkhUTUxPYmplY3RFbGVtZW50IixvbDoiSFRNTE9MaXN0RWxlbWVudCIsb3B0Z3JvdXA6IkhUTUxPcHRHcm91cEVsZW1lbnQiLG9wdGlvbjoiSFRNTE9wdGlvbkVsZW1lbnQiLG91dHB1dDoiSFRNTE91dHB1dEVsZW1lbnQiLHA6IkhUTUxQYXJhZ3JhcGhFbGVtZW50IixwYXJhbToiSFRNTFBhcmFtRWxlbWVudCIscHJlOiJIVE1MUHJlRWxlbWVudCIsCnByb2dyZXNzOiJIVE1MUHJvZ3Jlc3NFbGVtZW50IixxOiJIVE1MUXVvdGVFbGVtZW50IixzOiJIVE1MRWxlbWVudCIsc2FtcDoiSFRNTEVsZW1lbnQiLHNjcmlwdDoiSFRNTFNjcmlwdEVsZW1lbnQiLHNlY3Rpb246IkhUTUxFbGVtZW50IixzZWxlY3Q6IkhUTUxTZWxlY3RFbGVtZW50IixzbWFsbDoiSFRNTEVsZW1lbnQiLHNvdXJjZToiSFRNTFNvdXJjZUVsZW1lbnQiLHNwYW46IkhUTUxTcGFuRWxlbWVudCIsc3RyaWtlOiJIVE1MRWxlbWVudCIsc3Ryb25nOiJIVE1MRWxlbWVudCIsc3R5bGU6IkhUTUxTdHlsZUVsZW1lbnQiLHN1YjoiSFRNTEVsZW1lbnQiLHN1bW1hcnk6IkhUTUxFbGVtZW50IixzdXA6IkhUTUxFbGVtZW50Iix0YWJsZToiSFRNTFRhYmxlRWxlbWVudCIsdGJvZHk6IkhUTUxUYWJsZVNlY3Rpb25FbGVtZW50Iix0ZDoiSFRNTFRhYmxlRGF0YUNlbGxFbGVtZW50Iix0ZXh0YXJlYToiSFRNTFRleHRBcmVhRWxlbWVudCIsdGZvb3Q6IkhUTUxUYWJsZVNlY3Rpb25FbGVtZW50IiwKdGg6IkhUTUxUYWJsZUhlYWRlckNlbGxFbGVtZW50Iix0aGVhZDoiSFRNTFRhYmxlU2VjdGlvbkVsZW1lbnQiLHRpbWU6IkhUTUxUaW1lRWxlbWVudCIsdGl0bGU6IkhUTUxUaXRsZUVsZW1lbnQiLHRyOiJIVE1MVGFibGVSb3dFbGVtZW50Iix0cmFjazoiSFRNTFRyYWNrRWxlbWVudCIsdHQ6IkhUTUxFbGVtZW50Iix1OiJIVE1MRWxlbWVudCIsdWw6IkhUTUxVTGlzdEVsZW1lbnQiLCJ2YXIiOiJIVE1MRWxlbWVudCIsdmlkZW86IkhUTUxWaWRlb0VsZW1lbnQiLHdicjoiSFRNTEVsZW1lbnQifTskLkVMRU1FTlRfRE9NX0lOVEVSRkFDRVM9JC5ROyQuUD17Tk9UX0xPQURFRDowLFNBTUVfRE9DVU1FTlQ6MSxORVdfRE9DVU1FTlQ6Mn07JC51ZWZmZWN0cz0kLlA7CiQuSj17ImE6OmhyZWYiOjIsImFyZWE6OmhyZWYiOjIsImF1ZGlvOjpzcmMiOjEsImJsb2NrcXVvdGU6OmNpdGUiOjAsImNvbW1hbmQ6Omljb24iOjEsImRlbDo6Y2l0ZSI6MCwiZm9ybTo6YWN0aW9uIjoyLCJpbWc6OnNyYyI6MSwiaW5wdXQ6OnNyYyI6MSwiaW5zOjpjaXRlIjowLCJxOjpjaXRlIjowLCJ2aWRlbzo6cG9zdGVyIjoxLCJ2aWRlbzo6c3JjIjoxfTskLlVSSUVGRkVDVFM9JC5KOyQuTT17VU5TQU5EQk9YRUQ6MixTQU5EQk9YRUQ6MSxEQVRBOjB9OyQubHR5cGVzPSQuTTskLkk9eyJhOjpocmVmIjoyLCJhcmVhOjpocmVmIjoyLCJhdWRpbzo6c3JjIjoyLCJibG9ja3F1b3RlOjpjaXRlIjoyLCJjb21tYW5kOjppY29uIjoxLCJkZWw6OmNpdGUiOjIsImZvcm06OmFjdGlvbiI6MiwiaW1nOjpzcmMiOjEsImlucHV0OjpzcmMiOjEsImluczo6Y2l0ZSI6MiwicTo6Y2l0ZSI6MiwidmlkZW86OnBvc3RlciI6MSwidmlkZW86OnNyYyI6Mn07JC5MT0FERVJUWVBFUz0kLkk7CiJ1bmRlZmluZWQiIT09dHlwZW9mIHdpbmRvdyYmKHdpbmRvdy5odG1sND0kKTt2YXIgaGE9ZnVuY3Rpb24oZyl7ZnVuY3Rpb24gdyhhKXtpZihpLmhhc093blByb3BlcnR5KGEpKXJldHVybiBpW2FdO3ZhciBiPWEubWF0Y2gocSk7cmV0dXJuIGI/U3RyaW5nLmZyb21DaGFyQ29kZShwYXJzZUludChiWzFdLDEwKSk6KGI9YS5tYXRjaChCKSk/U3RyaW5nLmZyb21DaGFyQ29kZShwYXJzZUludChiWzFdLDE2KSk6ciYmRi50ZXN0KGEpPyhyLmlubmVySFRNTD0iJiIrYSsiOyIsYj1yLnRleHRDb250ZW50LGlbYV09Yik6IiYiK2ErIjsifWZ1bmN0aW9uIE0oYSxiKXtyZXR1cm4gdyhiKX1mdW5jdGlvbiB4KGEpe3JldHVybiBhLnJlcGxhY2UoaixNKX1mdW5jdGlvbiBFKGEpe3JldHVybigiIithKS5yZXBsYWNlKFIsIiZhbXA7IikucmVwbGFjZShQLCImbHQ7IikucmVwbGFjZShTLCImZ3Q7IikucmVwbGFjZShELCImIzM0OyIpfWZ1bmN0aW9uIGUoYSl7cmV0dXJuIGEucmVwbGFjZShpYSwiJmFtcDskMSIpLnJlcGxhY2UoUCwiJmx0OyIpLnJlcGxhY2UoUywiJmd0OyIpfQpmdW5jdGlvbiB2KGIpe3ZhciBkPXt6OmIuenx8Yi5jZGF0YSxBOmIuQXx8Yi5jb21tZW50LEI6Yi5CfHxiLmVuZERvYyx0OmIudHx8Yi5lbmRUYWcsZTpiLmV8fGIucGNkYXRhLEY6Yi5GfHxiLnJjZGF0YSxIOmIuSHx8Yi5zdGFydERvYyx3OmIud3x8Yi5zdGFydFRhZ307cmV0dXJuIGZ1bmN0aW9uKGIsZyl7dmFyIGY7dmFyIEg9Lyg8XC98PFwhLS18PFshP118WyY8Pl0pL2c7Zj1iKyIiO2lmKEcpZj1mLnNwbGl0KEgpO2Vsc2V7Zm9yKHZhciBlPVtdLGg9MCxqOyhqPUguZXhlYyhmKSkhPT1zOyllLnB1c2goZi5zdWJzdHJpbmcoaCxqLmluZGV4KSksZS5wdXNoKGpbMF0pLGg9ai5pbmRleCtqWzBdLmxlbmd0aDtlLnB1c2goZi5zdWJzdHJpbmcoaCkpO2Y9ZX1hKGQsZiwwLHtyOkMsQzpDfSxnKX19ZnVuY3Rpb24gYihiLGQsZyxmLHQpe3JldHVybiBmdW5jdGlvbigpe2EoYixkLGcsZix0KX19ZnVuY3Rpb24gYShhLGQscCxlLHQpe3RyeXthLkgmJjA9PXAmJmEuSCh0KTtmb3IodmFyIGgsCnosaixpPWQubGVuZ3RoO3A8aTspe3ZhciBvPWRbcCsrXSxsPWRbcF07c3dpdGNoKG8pe2Nhc2UgIiYiOkkudGVzdChsKT8oYS5lJiZhLmUoIiYiK2wsdCxBLGIoYSxkLHAsZSx0KSkscCsrKTphLmUmJmEuZSgiJmFtcDsiLHQsQSxiKGEsZCxwLGUsdCkpO2JyZWFrO2Nhc2UgIjwvIjppZihoPS9eKFstXHc6XSspW15cJ1wiXSovLmV4ZWMobCkpaWYoaFswXS5sZW5ndGg9PT1sLmxlbmd0aCYmIj4iPT09ZFtwKzFdKXArPTIsaj1oWzFdLnRvTG93ZXJDYXNlKCksYS50JiZhLnQoaix0LEEsYihhLGQscCxlLHQpKTtlbHNle3ZhciBtPWQscT1wLHI9YSx1PXQsdj1BLHk9ZSx3PWYobSxxKTt3PyhyLnQmJnIudCh3Lm5hbWUsdSx2LGIocixtLHEseSx1KSkscD13Lm5leHQpOnA9bS5sZW5ndGh9ZWxzZSBhLmUmJmEuZSgiJmx0Oy8iLHQsQSxiKGEsZCxwLGUsdCkpO2JyZWFrO2Nhc2UgIjwiOmlmKGg9L14oWy1cdzpdKylccypcLz8vLmV4ZWMobCkpaWYoaFswXS5sZW5ndGg9PT1sLmxlbmd0aCYmCiI+Ij09PWRbcCsxXSl7cCs9MjtqPWhbMV0udG9Mb3dlckNhc2UoKTthLncmJmEudyhqLFtdLHQsQSxiKGEsZCxwLGUsdCkpO3ZhciBCPWcuZltqXTtCJksmJihwPWsoZCx7bmFtZTpqLG5leHQ6cCxjOkJ9LGEsdCxBLGUpKX1lbHNle3ZhciBtPWQscT1hLHI9dCx1PUEsdj1lLHg9ZihtLHApO3g/KHEudyYmcS53KHgubmFtZSx4LlIscix1LGIocSxtLHgubmV4dCx2LHIpKSxwPXguYyZLP2sobSx4LHEscix1LHYpOngubmV4dCk6cD1tLmxlbmd0aH1lbHNlIGEuZSYmYS5lKCImbHQ7Iix0LEEsYihhLGQscCxlLHQpKTticmVhaztjYXNlICI8XCEtLSI6aWYoIWUuQyl7Zm9yKHo9cCsxO3o8aSYmISgiPiI9PT1kW3pdJiYvLS0kLy50ZXN0KGRbei0xXSkpO3orKyk7aWYoejxpKXtpZihhLkEpe3ZhciBEPWQuc2xpY2UocCx6KS5qb2luKCIiKTthLkEoRC5zdWJzdHIoMCxELmxlbmd0aC0yKSx0LEEsYihhLGQseisxLGUsdCkpfXA9eisxfWVsc2UgZS5DPW59ZS5DJiZhLmUmJmEuZSgiJmx0OyEtLSIsCnQsQSxiKGEsZCxwLGUsdCkpO2JyZWFrO2Nhc2UgIjwhIjppZigvXlx3Ly50ZXN0KGwpKXtpZighZS5yKXtmb3Ioej1wKzE7ejxpJiYiPiIhPT1kW3pdO3orKyk7ejxpP3A9eisxOmUucj1ufWUuciYmYS5lJiZhLmUoIiZsdDshIix0LEEsYihhLGQscCxlLHQpKX1lbHNlIGEuZSYmYS5lKCImbHQ7ISIsdCxBLGIoYSxkLHAsZSx0KSk7YnJlYWs7Y2FzZSAiPD8iOmlmKCFlLnIpe2Zvcih6PXArMTt6PGkmJiI+IiE9PWRbel07eisrKTt6PGk/cD16KzE6ZS5yPW59ZS5yJiZhLmUmJmEuZSgiJmx0Oz8iLHQsQSxiKGEsZCxwLGUsdCkpO2JyZWFrO2Nhc2UgIj4iOmEuZSYmYS5lKCImZ3Q7Iix0LEEsYihhLGQscCxlLHQpKTticmVhaztjYXNlICIiOmJyZWFrO2RlZmF1bHQ6YS5lJiZhLmUobyx0LEEsYihhLGQscCxlLHQpKX19YS5CJiZhLkIodCl9Y2F0Y2goRSl7aWYoRSE9PUEpdGhyb3cgRTt9fWZ1bmN0aW9uIGsoYSxkLGYsaCx0LGope3ZhciB6PWEubGVuZ3RoO1QuaGFzT3duUHJvcGVydHkoZC5uYW1lKXx8CihUW2QubmFtZV09UmVnRXhwKCJeIitkLm5hbWUrIig/OltcXHNcXC9dfCQpIiwiaSIpKTtmb3IodmFyIGk9VFtkLm5hbWVdLGs9ZC5uZXh0LGw9ZC5uZXh0KzE7bDx6JiYhKCI8LyI9PT1hW2wtMV0mJmkudGVzdChhW2xdKSk7bCsrKTtsPHomJihsLT0xKTt6PWEuc2xpY2UoayxsKS5qb2luKCIiKTtpZihkLmMmZy5jLkNEQVRBKWYueiYmZi56KHosaCx0LGIoZixhLGwsaixoKSk7ZWxzZSBpZihkLmMmZy5jLlJDREFUQSlmLkYmJmYuRihlKHopLGgsdCxiKGYsYSxsLGosaCkpO2Vsc2UgdGhyb3cgRXJyb3IoImJ1ZyIpO3JldHVybiBsfWZ1bmN0aW9uIGYoYSxiKXt2YXIgZD0vXihbLVx3Ol0rKS8uZXhlYyhhW2JdKSxmPXt9O2YubmFtZT1kWzFdLnRvTG93ZXJDYXNlKCk7Zi5jPWcuZltmLm5hbWVdO2Zvcih2YXIgZT1hW2JdLnN1YnN0cihkWzBdLmxlbmd0aCksaD1iKzEsaj1hLmxlbmd0aDtoPGomJiI+IiE9PWFbaF07aCsrKWUrPWFbaF07aWYoIShqPD1oKSl7Zm9yKHZhciBsPVtdOyIiIT09CmU7KWlmKGQ9amEuZXhlYyhlKSlpZihkWzRdJiYhZFs1XXx8ZFs2XSYmIWRbN10pe2Zvcih2YXIgZD1kWzRdfHxkWzZdLGk9QyxlPVtlLGFbaCsrXV07aDxqO2grKyl7aWYoaSl7aWYoIj4iPT09YVtoXSlicmVha31lbHNlIDA8PWFbaF0uaW5kZXhPZihkKSYmKGk9bik7ZS5wdXNoKGFbaF0pfWlmKGo8PWgpYnJlYWs7ZT1lLmpvaW4oIiIpfWVsc2V7dmFyIGk9ZFsxXS50b0xvd2VyQ2FzZSgpLGs7aWYoZFsyXSl7az1kWzNdO3ZhciBtPWsuY2hhckNvZGVBdCgwKTtpZigzND09PW18fDM5PT09bSlrPWsuc3Vic3RyKDEsay5sZW5ndGgtMik7az14KGsucmVwbGFjZShvLCIiKSl9ZWxzZSBrPSIiO2wucHVzaChpLGspO2U9ZS5zdWJzdHIoZFswXS5sZW5ndGgpfWVsc2UgZT1lLnJlcGxhY2UoL15bXHNcU11bXmEtelxzXSovLCIiKTtmLlI9bDtmLm5leHQ9aCsxO3JldHVybiBmfX1mdW5jdGlvbiBoKGEpe2Z1bmN0aW9uIGIoYSxkKXtmfHxkLnB1c2goYSl9dmFyIGQsZjtyZXR1cm4gdih7c3RhcnREb2M6ZnVuY3Rpb24oKXtkPQpbXTtmPUN9LHN0YXJ0VGFnOmZ1bmN0aW9uKGIsZSxoKXtpZighZiYmZy5mLmhhc093blByb3BlcnR5KGIpKXt2YXIgaj1nLmZbYl07aWYoIShqJmcuYy5GT0xEQUJMRSkpe3ZhciBrPWEoYixlKTtpZihrKXtpZigib2JqZWN0IiE9PXR5cGVvZiBrKXRocm93IEVycm9yKCJ0YWdQb2xpY3kgZGlkIG5vdCByZXR1cm4gb2JqZWN0IChvbGQgQVBJPykiKTtpZigiYXR0cmlicyJpbiBrKWU9ay5hdHRyaWJzO2Vsc2UgdGhyb3cgRXJyb3IoInRhZ1BvbGljeSBnYXZlIG5vIGF0dHJpYnMiKTt2YXIgaTsidGFnTmFtZSJpbiBrPyhpPWsudGFnTmFtZSxrPWcuZltpXSk6KGk9YixrPWopO2lmKGomZy5jLk9QVElPTkFMX0VORFRBRyl7dmFyIGw9ZFtkLmxlbmd0aC0xXTtsJiZsLkQ9PT1iJiYobC52IT09aXx8YiE9PWkpJiZoLnB1c2goIjwvIixsLnYsIj4iKX1qJmcuYy5FTVBUWXx8ZC5wdXNoKHtEOmIsdjppfSk7aC5wdXNoKCI8IixpKTtiPTA7Zm9yKGw9ZS5sZW5ndGg7YjxsO2IrPTIpe3ZhciBtPQplW2JdLG89ZVtiKzFdO28hPT1zJiZvIT09YyYmaC5wdXNoKCIgIixtLCc9IicsRShvKSwnIicpfWgucHVzaCgiPiIpO2omZy5jLkVNUFRZJiYhKGsmZy5jLkVNUFRZKSYmaC5wdXNoKCI8LyIsaSwiPiIpfWVsc2UgZj0hKGomZy5jLkVNUFRZKX19fSxlbmRUYWc6ZnVuY3Rpb24oYSxiKXtpZihmKWY9QztlbHNlIGlmKGcuZi5oYXNPd25Qcm9wZXJ0eShhKSl7dmFyIGU9Zy5mW2FdO2lmKCEoZSYoZy5jLkVNUFRZfGcuYy5GT0xEQUJMRSkpKXtpZihlJmcuYy5PUFRJT05BTF9FTkRUQUcpZm9yKGU9ZC5sZW5ndGg7MDw9LS1lOyl7dmFyIGg9ZFtlXS5EO2lmKGg9PT1hKWJyZWFrO2lmKCEoZy5mW2hdJmcuYy5PUFRJT05BTF9FTkRUQUcpKXJldHVybn1lbHNlIGZvcihlPWQubGVuZ3RoOzA8PS0tZSYmZFtlXS5EIT09YTspO2lmKCEoMD5lKSl7Zm9yKGg9ZC5sZW5ndGg7LS1oPmU7KXt2YXIgaj1kW2hdLnY7Zy5mW2pdJmcuYy5PUFRJT05BTF9FTkRUQUd8fGIucHVzaCgiPC8iLGosIj4iKX1lPApkLmxlbmd0aCYmKGE9ZFtlXS52KTtkLmxlbmd0aD1lO2IucHVzaCgiPC8iLGEsIj4iKX19fX0scGNkYXRhOmIscmNkYXRhOmIsY2RhdGE6YixlbmREb2M6ZnVuY3Rpb24oYSl7Zm9yKDtkLmxlbmd0aDtkLmxlbmd0aC0tKWEucHVzaCgiPC8iLGRbZC5sZW5ndGgtMV0udiwiPiIpfX0pfWZ1bmN0aW9uIGQoYSxiLGQsZixlKXtpZighZSlyZXR1cm4gczt0cnl7dmFyIGc9WS5wYXJzZSgiIithKTtpZihnJiYoIWcuSygpfHxrYS50ZXN0KGcuVygpKSkpe3ZhciBoPWUoZyxiLGQsZik7cmV0dXJuIGg/aC50b1N0cmluZygpOnN9fWNhdGNoKGope31yZXR1cm4gc31mdW5jdGlvbiB5KGEsYixkLGYsZSl7ZHx8YShiKyIgcmVtb3ZlZCIse1M6InJlbW92ZWQiLHRhZ05hbWU6Yn0pO2lmKGYhPT1lKXt2YXIgZz0iY2hhbmdlZCI7ZiYmIWU/Zz0icmVtb3ZlZCI6IWYmJmUmJihnPSJhZGRlZCIpO2EoYisiLiIrZCsiICIrZyx7UzpnLHRhZ05hbWU6YixsYTpkLG9sZFZhbHVlOmYsbmV3VmFsdWU6ZX0pfX0KZnVuY3Rpb24gbChhLGIsZCl7Yj1iKyI6OiIrZDtpZihhLmhhc093blByb3BlcnR5KGIpKXJldHVybiBhW2JdO2I9Iio6OiIrZDtpZihhLmhhc093blByb3BlcnR5KGIpKXJldHVybiBhW2JdfWZ1bmN0aW9uIFYoYSxiLGYsZSxoKXtmb3IodmFyIGo9MDtqPGIubGVuZ3RoO2orPTIpe3ZhciBrPWJbal0saT1iW2orMV0sbT1pLG89cyxxO2lmKChxPWErIjo6IitrLGcubS5oYXNPd25Qcm9wZXJ0eShxKSl8fChxPSIqOjoiK2ssZy5tLmhhc093blByb3BlcnR5KHEpKSlvPWcubVtxXTtpZihvIT09cylzd2l0Y2gobyl7Y2FzZSBnLmQuTk9ORTpicmVhaztjYXNlIGcuZC5TQ1JJUFQ6aT1zO2gmJnkoaCxhLGssbSxpKTticmVhaztjYXNlIGcuZC5TVFlMRTppZigidW5kZWZpbmVkIj09PXR5cGVvZiBOKXtpPXM7aCYmeShoLGEsayxtLGkpO2JyZWFrfXZhciByPVtdO04oaSx7ZGVjbGFyYXRpb246ZnVuY3Rpb24oYSxiKXt2YXIgZT1hLnRvTG93ZXJDYXNlKCk7dShlLGIsZj9mdW5jdGlvbihhKXtyZXR1cm4gZChhLApnLlAuamEsZy5NLmthLHtUWVBFOiJDU1MiLENTU19QUk9QOmV9LGYpfTpzKTtiLmxlbmd0aCYmci5wdXNoKGUrIjogIitiLmpvaW4oIiAiKSl9fSk7aT0wPHIubGVuZ3RoP3Iuam9pbigiIDsgIik6cztoJiZ5KGgsYSxrLG0saSk7YnJlYWs7Y2FzZSBnLmQuSUQ6Y2FzZSBnLmQuSURSRUY6Y2FzZSBnLmQuSURSRUZTOmNhc2UgZy5kLkdMT0JBTF9OQU1FOmNhc2UgZy5kLkxPQ0FMX05BTUU6Y2FzZSBnLmQuQ0xBU1NFUzppPWU/ZShpKTppO2gmJnkoaCxhLGssbSxpKTticmVhaztjYXNlIGcuZC5VUkk6aT1kKGksbChnLkosYSxrKSxsKGcuSSxhLGspLHtUWVBFOiJNQVJLVVAiLFhNTF9BVFRSOmssWE1MX1RBRzphfSxmKTtoJiZ5KGgsYSxrLG0saSk7YnJlYWs7Y2FzZSBnLmQuVVJJX0ZSQUdNRU5UOmkmJiIjIj09PWkuY2hhckF0KDApPyhpPWkuc3Vic3RyaW5nKDEpLGk9ZT9lKGkpOmksaSE9PXMmJmkhPT1jJiYoaT0iIyIraSkpOmk9cztoJiZ5KGgsYSxrLG0saSk7YnJlYWs7ZGVmYXVsdDppPQpzLGgmJnkoaCxhLGssbSxpKX1lbHNlIGk9cyxoJiZ5KGgsYSxrLG0saSk7YltqKzFdPWl9cmV0dXJuIGJ9ZnVuY3Rpb24gZWEoYSxiLGQpe3JldHVybiBmdW5jdGlvbihlLGYpe2lmKGcuZltlXSZnLmMuVU5TQUZFKWQmJnkoZCxlLGMsYyxjKTtlbHNlIHJldHVybnthdHRyaWJzOlYoZSxmLGEsYixkKX19fWZ1bmN0aW9uIFEoYSxiKXt2YXIgZD1bXTtoKGIpKGEsZCk7cmV0dXJuIGQuam9pbigiIil9dmFyIE4sdTsidW5kZWZpbmVkIiE9PXR5cGVvZiB3aW5kb3cmJihOPXdpbmRvdy5wYXJzZUNzc0RlY2xhcmF0aW9ucyx1PXdpbmRvdy5zYW5pdGl6ZUNzc1Byb3BlcnR5KTt2YXIgaT17bHQ6IjwiLExUOiI8IixndDoiPiIsR1Q6Ij4iLGFtcDoiJiIsQU1QOiImIixxdW90OiciJyxhcG9zOiInIixuYnNwOiJcdTAwYTAifSxxPS9eIyhcZCspJC8sQj0vXiN4KFswLTlBLUZhLWZdKykkLyxGPS9eW0EtWmEtel1bQS16YS16MC05XSskLyxyPSJ1bmRlZmluZWQiIT09dHlwZW9mIHdpbmRvdyYmCndpbmRvdy5kb2N1bWVudD93aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGV4dGFyZWEiKTpzLG89L1wwL2csaj0vJigjWzAtOV0rfCNbeFhdWzAtOUEtRmEtZl0rfFx3Kyk7L2csST0vXigjWzAtOV0rfCNbeFhdWzAtOUEtRmEtZl0rfFx3Kyk7LyxSPS8mL2csaWE9LyYoW15hLXojXXwjKD86W14wLTl4XXx4KD86W14wLTlhLWZdfCQpfCQpfCQpL2dpLFA9L1s8XS9nLFM9Lz4vZyxEPS9cIi9nLGphPS9eXHMqKFstLjpcd10rKSg/OlxzKig9KVxzKigoIilbXiJdKigifCQpfCgnKVteJ10qKCd8JCl8KD89W2Etel1bLVx3XSpccyo9KXxbXiInXHNdKikpPy9pLEc9Mz09PSJhLGIiLnNwbGl0KC8oLCkvKS5sZW5ndGgsSz1nLmMuQ0RBVEF8Zy5jLlJDREFUQSxBPXt9LFQ9e30sa2E9L14oPzpodHRwcz98bWFpbHRvfGRhdGEpJC9pLG09e307bS5wYT1tLmVzY2FwZUF0dHJpYj1FO20ucmE9bS5tYWtlSHRtbFNhbml0aXplcj1oO20uc2E9bS5tYWtlU2F4UGFyc2VyPXY7bS50YT1tLm1ha2VUYWdQb2xpY3k9CmVhO20ud2E9bS5ub3JtYWxpemVSQ0RhdGE9ZTttLnhhPW0uc2FuaXRpemU9ZnVuY3Rpb24oYSxiLGQsZSl7cmV0dXJuIFEoYSxlYShiLGQsZSkpfTttLnlhPW0uc2FuaXRpemVBdHRyaWJzPVY7bS56YT1tLnNhbml0aXplV2l0aFBvbGljeT1RO20uQmE9bS51bmVzY2FwZUVudGl0aWVzPXg7cmV0dXJuIG19KCQpLGxhPWhhLnNhbml0aXplOyJ1bmRlZmluZWQiIT09dHlwZW9mIHdpbmRvdyYmKHdpbmRvdy5odG1sPWhhLHdpbmRvdy5odG1sX3Nhbml0aXplPWxhKTt9KSgpOwohZnVuY3Rpb24odCl7aWYoIm9iamVjdCI9PXR5cGVvZiBleHBvcnRzJiYidW5kZWZpbmVkIiE9dHlwZW9mIG1vZHVsZSltb2R1bGUuZXhwb3J0cz10KCk7ZWxzZSBpZigiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kKWRlZmluZShbXSx0KTtlbHNleygidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6InVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZj9zZWxmOnRoaXMpLnBha289dCgpfX0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24gcihzLG8sbCl7ZnVuY3Rpb24gaChlLHQpe2lmKCFvW2VdKXtpZighc1tlXSl7dmFyIGE9ImZ1bmN0aW9uIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIXQmJmEpcmV0dXJuIGEoZSwhMCk7aWYoZClyZXR1cm4gZChlLCEwKTt2YXIgaT1uZXcgRXJyb3IoIkNhbm5vdCBmaW5kIG1vZHVsZSAnIitlKyInIik7dGhyb3cgaS5jb2RlPSJNT0RVTEVfTk9UX0ZPVU5EIixpfXZhciBuPW9bZV09e2V4cG9ydHM6e319O3NbZV1bMF0uY2FsbChuLmV4cG9ydHMsZnVuY3Rpb24odCl7cmV0dXJuIGgoc1tlXVsxXVt0XXx8dCl9LG4sbi5leHBvcnRzLHIscyxvLGwpfXJldHVybiBvW2VdLmV4cG9ydHN9Zm9yKHZhciBkPSJmdW5jdGlvbiI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLHQ9MDt0PGwubGVuZ3RoO3QrKyloKGxbdF0pO3JldHVybiBofSh7MTpbZnVuY3Rpb24odCxlLGEpeyJ1c2Ugc3RyaWN0Ijt2YXIgcz10KCIuL3psaWIvZGVmbGF0ZSIpLG89dCgiLi91dGlscy9jb21tb24iKSxsPXQoIi4vdXRpbHMvc3RyaW5ncyIpLG49dCgiLi96bGliL21lc3NhZ2VzIikscj10KCIuL3psaWIvenN0cmVhbSIpLGg9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyxkPTAsZj0tMSxfPTAsdT04O2Z1bmN0aW9uIGModCl7aWYoISh0aGlzIGluc3RhbmNlb2YgYykpcmV0dXJuIG5ldyBjKHQpO3RoaXMub3B0aW9ucz1vLmFzc2lnbih7bGV2ZWw6ZixtZXRob2Q6dSxjaHVua1NpemU6MTYzODQsd2luZG93Qml0czoxNSxtZW1MZXZlbDo4LHN0cmF0ZWd5Ol8sdG86IiJ9LHR8fHt9KTt2YXIgZT10aGlzLm9wdGlvbnM7ZS5yYXcmJjA8ZS53aW5kb3dCaXRzP2Uud2luZG93Qml0cz0tZS53aW5kb3dCaXRzOmUuZ3ppcCYmMDxlLndpbmRvd0JpdHMmJmUud2luZG93Qml0czwxNiYmKGUud2luZG93Qml0cys9MTYpLHRoaXMuZXJyPTAsdGhpcy5tc2c9IiIsdGhpcy5lbmRlZD0hMSx0aGlzLmNodW5rcz1bXSx0aGlzLnN0cm09bmV3IHIsdGhpcy5zdHJtLmF2YWlsX291dD0wO3ZhciBhPXMuZGVmbGF0ZUluaXQyKHRoaXMuc3RybSxlLmxldmVsLGUubWV0aG9kLGUud2luZG93Qml0cyxlLm1lbUxldmVsLGUuc3RyYXRlZ3kpO2lmKGEhPT1kKXRocm93IG5ldyBFcnJvcihuW2FdKTtpZihlLmhlYWRlciYmcy5kZWZsYXRlU2V0SGVhZGVyKHRoaXMuc3RybSxlLmhlYWRlciksZS5kaWN0aW9uYXJ5KXt2YXIgaTtpZihpPSJzdHJpbmciPT10eXBlb2YgZS5kaWN0aW9uYXJ5P2wuc3RyaW5nMmJ1ZihlLmRpY3Rpb25hcnkpOiJbb2JqZWN0IEFycmF5QnVmZmVyXSI9PT1oLmNhbGwoZS5kaWN0aW9uYXJ5KT9uZXcgVWludDhBcnJheShlLmRpY3Rpb25hcnkpOmUuZGljdGlvbmFyeSwoYT1zLmRlZmxhdGVTZXREaWN0aW9uYXJ5KHRoaXMuc3RybSxpKSkhPT1kKXRocm93IG5ldyBFcnJvcihuW2FdKTt0aGlzLl9kaWN0X3NldD0hMH19ZnVuY3Rpb24gaSh0LGUpe3ZhciBhPW5ldyBjKGUpO2lmKGEucHVzaCh0LCEwKSxhLmVycil0aHJvdyBhLm1zZ3x8blthLmVycl07cmV0dXJuIGEucmVzdWx0fWMucHJvdG90eXBlLnB1c2g9ZnVuY3Rpb24odCxlKXt2YXIgYSxpLG49dGhpcy5zdHJtLHI9dGhpcy5vcHRpb25zLmNodW5rU2l6ZTtpZih0aGlzLmVuZGVkKXJldHVybiExO2k9ZT09PX5+ZT9lOiEwPT09ZT80OjAsInN0cmluZyI9PXR5cGVvZiB0P24uaW5wdXQ9bC5zdHJpbmcyYnVmKHQpOiJbb2JqZWN0IEFycmF5QnVmZmVyXSI9PT1oLmNhbGwodCk/bi5pbnB1dD1uZXcgVWludDhBcnJheSh0KTpuLmlucHV0PXQsbi5uZXh0X2luPTAsbi5hdmFpbF9pbj1uLmlucHV0Lmxlbmd0aDtkb3tpZigwPT09bi5hdmFpbF9vdXQmJihuLm91dHB1dD1uZXcgby5CdWY4KHIpLG4ubmV4dF9vdXQ9MCxuLmF2YWlsX291dD1yKSwxIT09KGE9cy5kZWZsYXRlKG4saSkpJiZhIT09ZClyZXR1cm4gdGhpcy5vbkVuZChhKSwhKHRoaXMuZW5kZWQ9ITApOzAhPT1uLmF2YWlsX291dCYmKDAhPT1uLmF2YWlsX2lufHw0IT09aSYmMiE9PWkpfHwoInN0cmluZyI9PT10aGlzLm9wdGlvbnMudG8/dGhpcy5vbkRhdGEobC5idWYyYmluc3RyaW5nKG8uc2hyaW5rQnVmKG4ub3V0cHV0LG4ubmV4dF9vdXQpKSk6dGhpcy5vbkRhdGEoby5zaHJpbmtCdWYobi5vdXRwdXQsbi5uZXh0X291dCkpKX13aGlsZSgoMDxuLmF2YWlsX2lufHwwPT09bi5hdmFpbF9vdXQpJiYxIT09YSk7cmV0dXJuIDQ9PT1pPyhhPXMuZGVmbGF0ZUVuZCh0aGlzLnN0cm0pLHRoaXMub25FbmQoYSksdGhpcy5lbmRlZD0hMCxhPT09ZCk6MiE9PWl8fCh0aGlzLm9uRW5kKGQpLCEobi5hdmFpbF9vdXQ9MCkpfSxjLnByb3RvdHlwZS5vbkRhdGE9ZnVuY3Rpb24odCl7dGhpcy5jaHVua3MucHVzaCh0KX0sYy5wcm90b3R5cGUub25FbmQ9ZnVuY3Rpb24odCl7dD09PWQmJigic3RyaW5nIj09PXRoaXMub3B0aW9ucy50bz90aGlzLnJlc3VsdD10aGlzLmNodW5rcy5qb2luKCIiKTp0aGlzLnJlc3VsdD1vLmZsYXR0ZW5DaHVua3ModGhpcy5jaHVua3MpKSx0aGlzLmNodW5rcz1bXSx0aGlzLmVycj10LHRoaXMubXNnPXRoaXMuc3RybS5tc2d9LGEuRGVmbGF0ZT1jLGEuZGVmbGF0ZT1pLGEuZGVmbGF0ZVJhdz1mdW5jdGlvbih0LGUpe3JldHVybihlPWV8fHt9KS5yYXc9ITAsaSh0LGUpfSxhLmd6aXA9ZnVuY3Rpb24odCxlKXtyZXR1cm4oZT1lfHx7fSkuZ3ppcD0hMCxpKHQsZSl9fSx7Ii4vdXRpbHMvY29tbW9uIjozLCIuL3V0aWxzL3N0cmluZ3MiOjQsIi4vemxpYi9kZWZsYXRlIjo4LCIuL3psaWIvbWVzc2FnZXMiOjEzLCIuL3psaWIvenN0cmVhbSI6MTV9XSwyOltmdW5jdGlvbih0LGUsYSl7InVzZSBzdHJpY3QiO3ZhciBmPXQoIi4vemxpYi9pbmZsYXRlIiksXz10KCIuL3V0aWxzL2NvbW1vbiIpLHU9dCgiLi91dGlscy9zdHJpbmdzIiksYz10KCIuL3psaWIvY29uc3RhbnRzIiksaT10KCIuL3psaWIvbWVzc2FnZXMiKSxuPXQoIi4vemxpYi96c3RyZWFtIikscj10KCIuL3psaWIvZ3poZWFkZXIiKSxiPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7ZnVuY3Rpb24gcyh0KXtpZighKHRoaXMgaW5zdGFuY2VvZiBzKSlyZXR1cm4gbmV3IHModCk7dGhpcy5vcHRpb25zPV8uYXNzaWduKHtjaHVua1NpemU6MTYzODQsd2luZG93Qml0czowLHRvOiIifSx0fHx7fSk7dmFyIGU9dGhpcy5vcHRpb25zO2UucmF3JiYwPD1lLndpbmRvd0JpdHMmJmUud2luZG93Qml0czwxNiYmKGUud2luZG93Qml0cz0tZS53aW5kb3dCaXRzLDA9PT1lLndpbmRvd0JpdHMmJihlLndpbmRvd0JpdHM9LTE1KSksISgwPD1lLndpbmRvd0JpdHMmJmUud2luZG93Qml0czwxNil8fHQmJnQud2luZG93Qml0c3x8KGUud2luZG93Qml0cys9MzIpLDE1PGUud2luZG93Qml0cyYmZS53aW5kb3dCaXRzPDQ4JiYwPT0oMTUmZS53aW5kb3dCaXRzKSYmKGUud2luZG93Qml0c3w9MTUpLHRoaXMuZXJyPTAsdGhpcy5tc2c9IiIsdGhpcy5lbmRlZD0hMSx0aGlzLmNodW5rcz1bXSx0aGlzLnN0cm09bmV3IG4sdGhpcy5zdHJtLmF2YWlsX291dD0wO3ZhciBhPWYuaW5mbGF0ZUluaXQyKHRoaXMuc3RybSxlLndpbmRvd0JpdHMpO2lmKGEhPT1jLlpfT0spdGhyb3cgbmV3IEVycm9yKGlbYV0pO2lmKHRoaXMuaGVhZGVyPW5ldyByLGYuaW5mbGF0ZUdldEhlYWRlcih0aGlzLnN0cm0sdGhpcy5oZWFkZXIpLGUuZGljdGlvbmFyeSYmKCJzdHJpbmciPT10eXBlb2YgZS5kaWN0aW9uYXJ5P2UuZGljdGlvbmFyeT11LnN0cmluZzJidWYoZS5kaWN0aW9uYXJ5KToiW29iamVjdCBBcnJheUJ1ZmZlcl0iPT09Yi5jYWxsKGUuZGljdGlvbmFyeSkmJihlLmRpY3Rpb25hcnk9bmV3IFVpbnQ4QXJyYXkoZS5kaWN0aW9uYXJ5KSksZS5yYXcmJihhPWYuaW5mbGF0ZVNldERpY3Rpb25hcnkodGhpcy5zdHJtLGUuZGljdGlvbmFyeSkpIT09Yy5aX09LKSl0aHJvdyBuZXcgRXJyb3IoaVthXSl9ZnVuY3Rpb24gbyh0LGUpe3ZhciBhPW5ldyBzKGUpO2lmKGEucHVzaCh0LCEwKSxhLmVycil0aHJvdyBhLm1zZ3x8aVthLmVycl07cmV0dXJuIGEucmVzdWx0fXMucHJvdG90eXBlLnB1c2g9ZnVuY3Rpb24odCxlKXt2YXIgYSxpLG4scixzLG89dGhpcy5zdHJtLGw9dGhpcy5vcHRpb25zLmNodW5rU2l6ZSxoPXRoaXMub3B0aW9ucy5kaWN0aW9uYXJ5LGQ9ITE7aWYodGhpcy5lbmRlZClyZXR1cm4hMTtpPWU9PT1+fmU/ZTohMD09PWU/Yy5aX0ZJTklTSDpjLlpfTk9fRkxVU0gsInN0cmluZyI9PXR5cGVvZiB0P28uaW5wdXQ9dS5iaW5zdHJpbmcyYnVmKHQpOiJbb2JqZWN0IEFycmF5QnVmZmVyXSI9PT1iLmNhbGwodCk/by5pbnB1dD1uZXcgVWludDhBcnJheSh0KTpvLmlucHV0PXQsby5uZXh0X2luPTAsby5hdmFpbF9pbj1vLmlucHV0Lmxlbmd0aDtkb3tpZigwPT09by5hdmFpbF9vdXQmJihvLm91dHB1dD1uZXcgXy5CdWY4KGwpLG8ubmV4dF9vdXQ9MCxvLmF2YWlsX291dD1sKSwoYT1mLmluZmxhdGUobyxjLlpfTk9fRkxVU0gpKT09PWMuWl9ORUVEX0RJQ1QmJmgmJihhPWYuaW5mbGF0ZVNldERpY3Rpb25hcnkodGhpcy5zdHJtLGgpKSxhPT09Yy5aX0JVRl9FUlJPUiYmITA9PT1kJiYoYT1jLlpfT0ssZD0hMSksYSE9PWMuWl9TVFJFQU1fRU5EJiZhIT09Yy5aX09LKXJldHVybiB0aGlzLm9uRW5kKGEpLCEodGhpcy5lbmRlZD0hMCk7by5uZXh0X291dCYmKDAhPT1vLmF2YWlsX291dCYmYSE9PWMuWl9TVFJFQU1fRU5EJiYoMCE9PW8uYXZhaWxfaW58fGkhPT1jLlpfRklOSVNIJiZpIT09Yy5aX1NZTkNfRkxVU0gpfHwoInN0cmluZyI9PT10aGlzLm9wdGlvbnMudG8/KG49dS51dGY4Ym9yZGVyKG8ub3V0cHV0LG8ubmV4dF9vdXQpLHI9by5uZXh0X291dC1uLHM9dS5idWYyc3RyaW5nKG8ub3V0cHV0LG4pLG8ubmV4dF9vdXQ9cixvLmF2YWlsX291dD1sLXIsciYmXy5hcnJheVNldChvLm91dHB1dCxvLm91dHB1dCxuLHIsMCksdGhpcy5vbkRhdGEocykpOnRoaXMub25EYXRhKF8uc2hyaW5rQnVmKG8ub3V0cHV0LG8ubmV4dF9vdXQpKSkpLDA9PT1vLmF2YWlsX2luJiYwPT09by5hdmFpbF9vdXQmJihkPSEwKX13aGlsZSgoMDxvLmF2YWlsX2lufHwwPT09by5hdmFpbF9vdXQpJiZhIT09Yy5aX1NUUkVBTV9FTkQpO3JldHVybiBhPT09Yy5aX1NUUkVBTV9FTkQmJihpPWMuWl9GSU5JU0gpLGk9PT1jLlpfRklOSVNIPyhhPWYuaW5mbGF0ZUVuZCh0aGlzLnN0cm0pLHRoaXMub25FbmQoYSksdGhpcy5lbmRlZD0hMCxhPT09Yy5aX09LKTppIT09Yy5aX1NZTkNfRkxVU0h8fCh0aGlzLm9uRW5kKGMuWl9PSyksIShvLmF2YWlsX291dD0wKSl9LHMucHJvdG90eXBlLm9uRGF0YT1mdW5jdGlvbih0KXt0aGlzLmNodW5rcy5wdXNoKHQpfSxzLnByb3RvdHlwZS5vbkVuZD1mdW5jdGlvbih0KXt0PT09Yy5aX09LJiYoInN0cmluZyI9PT10aGlzLm9wdGlvbnMudG8/dGhpcy5yZXN1bHQ9dGhpcy5jaHVua3Muam9pbigiIik6dGhpcy5yZXN1bHQ9Xy5mbGF0dGVuQ2h1bmtzKHRoaXMuY2h1bmtzKSksdGhpcy5jaHVua3M9W10sdGhpcy5lcnI9dCx0aGlzLm1zZz10aGlzLnN0cm0ubXNnfSxhLkluZmxhdGU9cyxhLmluZmxhdGU9byxhLmluZmxhdGVSYXc9ZnVuY3Rpb24odCxlKXtyZXR1cm4oZT1lfHx7fSkucmF3PSEwLG8odCxlKX0sYS51bmd6aXA9b30seyIuL3V0aWxzL2NvbW1vbiI6MywiLi91dGlscy9zdHJpbmdzIjo0LCIuL3psaWIvY29uc3RhbnRzIjo2LCIuL3psaWIvZ3poZWFkZXIiOjksIi4vemxpYi9pbmZsYXRlIjoxMSwiLi96bGliL21lc3NhZ2VzIjoxMywiLi96bGliL3pzdHJlYW0iOjE1fV0sMzpbZnVuY3Rpb24odCxlLGEpeyJ1c2Ugc3RyaWN0Ijt2YXIgaT0idW5kZWZpbmVkIiE9dHlwZW9mIFVpbnQ4QXJyYXkmJiJ1bmRlZmluZWQiIT10eXBlb2YgVWludDE2QXJyYXkmJiJ1bmRlZmluZWQiIT10eXBlb2YgSW50MzJBcnJheTthLmFzc2lnbj1mdW5jdGlvbih0KXtmb3IodmFyIGUsYSxpPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKTtpLmxlbmd0aDspe3ZhciBuPWkuc2hpZnQoKTtpZihuKXtpZigib2JqZWN0IiE9dHlwZW9mIG4pdGhyb3cgbmV3IFR5cGVFcnJvcihuKyJtdXN0IGJlIG5vbi1vYmplY3QiKTtmb3IodmFyIHIgaW4gbillPW4sYT1yLE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLGEpJiYodFtyXT1uW3JdKX19cmV0dXJuIHR9LGEuc2hyaW5rQnVmPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQubGVuZ3RoPT09ZT90OnQuc3ViYXJyYXk/dC5zdWJhcnJheSgwLGUpOih0Lmxlbmd0aD1lLHQpfTt2YXIgbj17YXJyYXlTZXQ6ZnVuY3Rpb24odCxlLGEsaSxuKXtpZihlLnN1YmFycmF5JiZ0LnN1YmFycmF5KXQuc2V0KGUuc3ViYXJyYXkoYSxhK2kpLG4pO2Vsc2UgZm9yKHZhciByPTA7cjxpO3IrKyl0W24rcl09ZVthK3JdfSxmbGF0dGVuQ2h1bmtzOmZ1bmN0aW9uKHQpe3ZhciBlLGEsaSxuLHIscztmb3IoZT1pPTAsYT10Lmxlbmd0aDtlPGE7ZSsrKWkrPXRbZV0ubGVuZ3RoO2ZvcihzPW5ldyBVaW50OEFycmF5KGkpLGU9bj0wLGE9dC5sZW5ndGg7ZTxhO2UrKylyPXRbZV0scy5zZXQocixuKSxuKz1yLmxlbmd0aDtyZXR1cm4gc319LHI9e2FycmF5U2V0OmZ1bmN0aW9uKHQsZSxhLGksbil7Zm9yKHZhciByPTA7cjxpO3IrKyl0W24rcl09ZVthK3JdfSxmbGF0dGVuQ2h1bmtzOmZ1bmN0aW9uKHQpe3JldHVybltdLmNvbmNhdC5hcHBseShbXSx0KX19O2Euc2V0VHlwZWQ9ZnVuY3Rpb24odCl7dD8oYS5CdWY4PVVpbnQ4QXJyYXksYS5CdWYxNj1VaW50MTZBcnJheSxhLkJ1ZjMyPUludDMyQXJyYXksYS5hc3NpZ24oYSxuKSk6KGEuQnVmOD1BcnJheSxhLkJ1ZjE2PUFycmF5LGEuQnVmMzI9QXJyYXksYS5hc3NpZ24oYSxyKSl9LGEuc2V0VHlwZWQoaSl9LHt9XSw0OltmdW5jdGlvbih0LGUsYSl7InVzZSBzdHJpY3QiO3ZhciBsPXQoIi4vY29tbW9uIiksbj0hMCxyPSEwO3RyeXtTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsWzBdKX1jYXRjaCh0KXtuPSExfXRyeXtTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsbmV3IFVpbnQ4QXJyYXkoMSkpfWNhdGNoKHQpe3I9ITF9Zm9yKHZhciBoPW5ldyBsLkJ1ZjgoMjU2KSxpPTA7aTwyNTY7aSsrKWhbaV09MjUyPD1pPzY6MjQ4PD1pPzU6MjQwPD1pPzQ6MjI0PD1pPzM6MTkyPD1pPzI6MTtmdW5jdGlvbiBkKHQsZSl7aWYoZTw2NTUzNCYmKHQuc3ViYXJyYXkmJnJ8fCF0LnN1YmFycmF5JiZuKSlyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLGwuc2hyaW5rQnVmKHQsZSkpO2Zvcih2YXIgYT0iIixpPTA7aTxlO2krKylhKz1TdHJpbmcuZnJvbUNoYXJDb2RlKHRbaV0pO3JldHVybiBhfWhbMjU0XT1oWzI1NF09MSxhLnN0cmluZzJidWY9ZnVuY3Rpb24odCl7dmFyIGUsYSxpLG4scixzPXQubGVuZ3RoLG89MDtmb3Iobj0wO248cztuKyspNTUyOTY9PSg2NDUxMiYoYT10LmNoYXJDb2RlQXQobikpKSYmbisxPHMmJjU2MzIwPT0oNjQ1MTImKGk9dC5jaGFyQ29kZUF0KG4rMSkpKSYmKGE9NjU1MzYrKGEtNTUyOTY8PDEwKSsoaS01NjMyMCksbisrKSxvKz1hPDEyOD8xOmE8MjA0OD8yOmE8NjU1MzY/Mzo0O2ZvcihlPW5ldyBsLkJ1Zjgobyksbj1yPTA7cjxvO24rKyk1NTI5Nj09KDY0NTEyJihhPXQuY2hhckNvZGVBdChuKSkpJiZuKzE8cyYmNTYzMjA9PSg2NDUxMiYoaT10LmNoYXJDb2RlQXQobisxKSkpJiYoYT02NTUzNisoYS01NTI5Njw8MTApKyhpLTU2MzIwKSxuKyspLGE8MTI4P2VbcisrXT1hOihhPDIwNDg/ZVtyKytdPTE5MnxhPj4+NjooYTw2NTUzNj9lW3IrK109MjI0fGE+Pj4xMjooZVtyKytdPTI0MHxhPj4+MTgsZVtyKytdPTEyOHxhPj4+MTImNjMpLGVbcisrXT0xMjh8YT4+PjYmNjMpLGVbcisrXT0xMjh8NjMmYSk7cmV0dXJuIGV9LGEuYnVmMmJpbnN0cmluZz1mdW5jdGlvbih0KXtyZXR1cm4gZCh0LHQubGVuZ3RoKX0sYS5iaW5zdHJpbmcyYnVmPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1uZXcgbC5CdWY4KHQubGVuZ3RoKSxhPTAsaT1lLmxlbmd0aDthPGk7YSsrKWVbYV09dC5jaGFyQ29kZUF0KGEpO3JldHVybiBlfSxhLmJ1ZjJzdHJpbmc9ZnVuY3Rpb24odCxlKXt2YXIgYSxpLG4scixzPWV8fHQubGVuZ3RoLG89bmV3IEFycmF5KDIqcyk7Zm9yKGE9aT0wO2E8czspaWYoKG49dFthKytdKTwxMjgpb1tpKytdPW47ZWxzZSBpZig0PChyPWhbbl0pKW9baSsrXT02NTUzMyxhKz1yLTE7ZWxzZXtmb3IobiY9Mj09PXI/MzE6Mz09PXI/MTU6NzsxPHImJmE8czspbj1uPDw2fDYzJnRbYSsrXSxyLS07MTxyP29baSsrXT02NTUzMzpuPDY1NTM2P29baSsrXT1uOihuLT02NTUzNixvW2krK109NTUyOTZ8bj4+MTAmMTAyMyxvW2krK109NTYzMjB8MTAyMyZuKX1yZXR1cm4gZChvLGkpfSxhLnV0Zjhib3JkZXI9ZnVuY3Rpb24odCxlKXt2YXIgYTtmb3IoKGU9ZXx8dC5sZW5ndGgpPnQubGVuZ3RoJiYoZT10Lmxlbmd0aCksYT1lLTE7MDw9YSYmMTI4PT0oMTkyJnRbYV0pOylhLS07cmV0dXJuIGE8MD9lOjA9PT1hP2U6YStoW3RbYV1dPmU/YTplfX0seyIuL2NvbW1vbiI6M31dLDU6W2Z1bmN0aW9uKHQsZSxhKXsidXNlIHN0cmljdCI7ZS5leHBvcnRzPWZ1bmN0aW9uKHQsZSxhLGkpe2Zvcih2YXIgbj02NTUzNSZ0fDAscj10Pj4+MTYmNjU1MzV8MCxzPTA7MCE9PWE7KXtmb3IoYS09cz0yZTM8YT8yZTM6YTtyPXIrKG49bitlW2krK118MCl8MCwtLXM7KTtuJT02NTUyMSxyJT02NTUyMX1yZXR1cm4gbnxyPDwxNnwwfX0se31dLDY6W2Z1bmN0aW9uKHQsZSxhKXsidXNlIHN0cmljdCI7ZS5leHBvcnRzPXtaX05PX0ZMVVNIOjAsWl9QQVJUSUFMX0ZMVVNIOjEsWl9TWU5DX0ZMVVNIOjIsWl9GVUxMX0ZMVVNIOjMsWl9GSU5JU0g6NCxaX0JMT0NLOjUsWl9UUkVFUzo2LFpfT0s6MCxaX1NUUkVBTV9FTkQ6MSxaX05FRURfRElDVDoyLFpfRVJSTk86LTEsWl9TVFJFQU1fRVJST1I6LTIsWl9EQVRBX0VSUk9SOi0zLFpfQlVGX0VSUk9SOi01LFpfTk9fQ09NUFJFU1NJT046MCxaX0JFU1RfU1BFRUQ6MSxaX0JFU1RfQ09NUFJFU1NJT046OSxaX0RFRkFVTFRfQ09NUFJFU1NJT046LTEsWl9GSUxURVJFRDoxLFpfSFVGRk1BTl9PTkxZOjIsWl9STEU6MyxaX0ZJWEVEOjQsWl9ERUZBVUxUX1NUUkFURUdZOjAsWl9CSU5BUlk6MCxaX1RFWFQ6MSxaX1VOS05PV046MixaX0RFRkxBVEVEOjh9fSx7fV0sNzpbZnVuY3Rpb24odCxlLGEpeyJ1c2Ugc3RyaWN0Ijt2YXIgbz1mdW5jdGlvbigpe2Zvcih2YXIgdCxlPVtdLGE9MDthPDI1NjthKyspe3Q9YTtmb3IodmFyIGk9MDtpPDg7aSsrKXQ9MSZ0PzM5ODgyOTIzODRedD4+PjE6dD4+PjE7ZVthXT10fXJldHVybiBlfSgpO2UuZXhwb3J0cz1mdW5jdGlvbih0LGUsYSxpKXt2YXIgbj1vLHI9aSthO3RePS0xO2Zvcih2YXIgcz1pO3M8cjtzKyspdD10Pj4+OF5uWzI1NSYodF5lW3NdKV07cmV0dXJuLTFedH19LHt9XSw4OltmdW5jdGlvbih0LGUsYSl7InVzZSBzdHJpY3QiO3ZhciBsLF89dCgiLi4vdXRpbHMvY29tbW9uIiksaD10KCIuL3RyZWVzIiksdT10KCIuL2FkbGVyMzIiKSxjPXQoIi4vY3JjMzIiKSxpPXQoIi4vbWVzc2FnZXMiKSxkPTAsZj00LGI9MCxnPS0yLG09LTEsdz00LG49MixwPTgsdj05LHI9Mjg2LHM9MzAsbz0xOSxrPTIqcisxLHk9MTUseD0zLHo9MjU4LEI9eit4KzEsUz00MixFPTExMyxBPTEsWj0yLFI9MyxDPTQ7ZnVuY3Rpb24gTih0LGUpe3JldHVybiB0Lm1zZz1pW2VdLGV9ZnVuY3Rpb24gTyh0KXtyZXR1cm4odDw8MSktKDQ8dD85OjApfWZ1bmN0aW9uIEQodCl7Zm9yKHZhciBlPXQubGVuZ3RoOzA8PS0tZTspdFtlXT0wfWZ1bmN0aW9uIEkodCl7dmFyIGU9dC5zdGF0ZSxhPWUucGVuZGluZzthPnQuYXZhaWxfb3V0JiYoYT10LmF2YWlsX291dCksMCE9PWEmJihfLmFycmF5U2V0KHQub3V0cHV0LGUucGVuZGluZ19idWYsZS5wZW5kaW5nX291dCxhLHQubmV4dF9vdXQpLHQubmV4dF9vdXQrPWEsZS5wZW5kaW5nX291dCs9YSx0LnRvdGFsX291dCs9YSx0LmF2YWlsX291dC09YSxlLnBlbmRpbmctPWEsMD09PWUucGVuZGluZyYmKGUucGVuZGluZ19vdXQ9MCkpfWZ1bmN0aW9uIFUodCxlKXtoLl90cl9mbHVzaF9ibG9jayh0LDA8PXQuYmxvY2tfc3RhcnQ/dC5ibG9ja19zdGFydDotMSx0LnN0cnN0YXJ0LXQuYmxvY2tfc3RhcnQsZSksdC5ibG9ja19zdGFydD10LnN0cnN0YXJ0LEkodC5zdHJtKX1mdW5jdGlvbiBUKHQsZSl7dC5wZW5kaW5nX2J1Zlt0LnBlbmRpbmcrK109ZX1mdW5jdGlvbiBGKHQsZSl7dC5wZW5kaW5nX2J1Zlt0LnBlbmRpbmcrK109ZT4+PjgmMjU1LHQucGVuZGluZ19idWZbdC5wZW5kaW5nKytdPTI1NSZlfWZ1bmN0aW9uIEwodCxlKXt2YXIgYSxpLG49dC5tYXhfY2hhaW5fbGVuZ3RoLHI9dC5zdHJzdGFydCxzPXQucHJldl9sZW5ndGgsbz10Lm5pY2VfbWF0Y2gsbD10LnN0cnN0YXJ0PnQud19zaXplLUI/dC5zdHJzdGFydC0odC53X3NpemUtQik6MCxoPXQud2luZG93LGQ9dC53X21hc2ssZj10LnByZXYsXz10LnN0cnN0YXJ0K3osdT1oW3Ircy0xXSxjPWhbcitzXTt0LnByZXZfbGVuZ3RoPj10Lmdvb2RfbWF0Y2gmJihuPj49Miksbz50Lmxvb2thaGVhZCYmKG89dC5sb29rYWhlYWQpO2Rve2lmKGhbKGE9ZSkrc109PT1jJiZoW2Ercy0xXT09PXUmJmhbYV09PT1oW3JdJiZoWysrYV09PT1oW3IrMV0pe3IrPTIsYSsrO2Rve313aGlsZShoWysrcl09PT1oWysrYV0mJmhbKytyXT09PWhbKythXSYmaFsrK3JdPT09aFsrK2FdJiZoWysrcl09PT1oWysrYV0mJmhbKytyXT09PWhbKythXSYmaFsrK3JdPT09aFsrK2FdJiZoWysrcl09PT1oWysrYV0mJmhbKytyXT09PWhbKythXSYmcjxfKTtpZihpPXotKF8tcikscj1fLXosczxpKXtpZih0Lm1hdGNoX3N0YXJ0PWUsbzw9KHM9aSkpYnJlYWs7dT1oW3Ircy0xXSxjPWhbcitzXX19fXdoaWxlKChlPWZbZSZkXSk+bCYmMCE9LS1uKTtyZXR1cm4gczw9dC5sb29rYWhlYWQ/czp0Lmxvb2thaGVhZH1mdW5jdGlvbiBIKHQpe3ZhciBlLGEsaSxuLHIscyxvLGwsaCxkLGY9dC53X3NpemU7ZG97aWYobj10LndpbmRvd19zaXplLXQubG9va2FoZWFkLXQuc3Ryc3RhcnQsdC5zdHJzdGFydD49ZisoZi1CKSl7Zm9yKF8uYXJyYXlTZXQodC53aW5kb3csdC53aW5kb3csZixmLDApLHQubWF0Y2hfc3RhcnQtPWYsdC5zdHJzdGFydC09Zix0LmJsb2NrX3N0YXJ0LT1mLGU9YT10Lmhhc2hfc2l6ZTtpPXQuaGVhZFstLWVdLHQuaGVhZFtlXT1mPD1pP2ktZjowLC0tYTspO2ZvcihlPWE9ZjtpPXQucHJldlstLWVdLHQucHJldltlXT1mPD1pP2ktZjowLC0tYTspO24rPWZ9aWYoMD09PXQuc3RybS5hdmFpbF9pbilicmVhaztpZihzPXQuc3RybSxvPXQud2luZG93LGw9dC5zdHJzdGFydCt0Lmxvb2thaGVhZCxoPW4sZD12b2lkIDAsZD1zLmF2YWlsX2luLGg8ZCYmKGQ9aCksYT0wPT09ZD8wOihzLmF2YWlsX2luLT1kLF8uYXJyYXlTZXQobyxzLmlucHV0LHMubmV4dF9pbixkLGwpLDE9PT1zLnN0YXRlLndyYXA/cy5hZGxlcj11KHMuYWRsZXIsbyxkLGwpOjI9PT1zLnN0YXRlLndyYXAmJihzLmFkbGVyPWMocy5hZGxlcixvLGQsbCkpLHMubmV4dF9pbis9ZCxzLnRvdGFsX2luKz1kLGQpLHQubG9va2FoZWFkKz1hLHQubG9va2FoZWFkK3QuaW5zZXJ0Pj14KWZvcihyPXQuc3Ryc3RhcnQtdC5pbnNlcnQsdC5pbnNfaD10LndpbmRvd1tyXSx0Lmluc19oPSh0Lmluc19oPDx0Lmhhc2hfc2hpZnRedC53aW5kb3dbcisxXSkmdC5oYXNoX21hc2s7dC5pbnNlcnQmJih0Lmluc19oPSh0Lmluc19oPDx0Lmhhc2hfc2hpZnRedC53aW5kb3dbcit4LTFdKSZ0Lmhhc2hfbWFzayx0LnByZXZbciZ0LndfbWFza109dC5oZWFkW3QuaW5zX2hdLHQuaGVhZFt0Lmluc19oXT1yLHIrKyx0Lmluc2VydC0tLCEodC5sb29rYWhlYWQrdC5pbnNlcnQ8eCkpOyk7fXdoaWxlKHQubG9va2FoZWFkPEImJjAhPT10LnN0cm0uYXZhaWxfaW4pfWZ1bmN0aW9uIGoodCxlKXtmb3IodmFyIGEsaTs7KXtpZih0Lmxvb2thaGVhZDxCKXtpZihIKHQpLHQubG9va2FoZWFkPEImJmU9PT1kKXJldHVybiBBO2lmKDA9PT10Lmxvb2thaGVhZClicmVha31pZihhPTAsdC5sb29rYWhlYWQ+PXgmJih0Lmluc19oPSh0Lmluc19oPDx0Lmhhc2hfc2hpZnRedC53aW5kb3dbdC5zdHJzdGFydCt4LTFdKSZ0Lmhhc2hfbWFzayxhPXQucHJldlt0LnN0cnN0YXJ0JnQud19tYXNrXT10LmhlYWRbdC5pbnNfaF0sdC5oZWFkW3QuaW5zX2hdPXQuc3Ryc3RhcnQpLDAhPT1hJiZ0LnN0cnN0YXJ0LWE8PXQud19zaXplLUImJih0Lm1hdGNoX2xlbmd0aD1MKHQsYSkpLHQubWF0Y2hfbGVuZ3RoPj14KWlmKGk9aC5fdHJfdGFsbHkodCx0LnN0cnN0YXJ0LXQubWF0Y2hfc3RhcnQsdC5tYXRjaF9sZW5ndGgteCksdC5sb29rYWhlYWQtPXQubWF0Y2hfbGVuZ3RoLHQubWF0Y2hfbGVuZ3RoPD10Lm1heF9sYXp5X21hdGNoJiZ0Lmxvb2thaGVhZD49eCl7Zm9yKHQubWF0Y2hfbGVuZ3RoLS07dC5zdHJzdGFydCsrLHQuaW5zX2g9KHQuaW5zX2g8PHQuaGFzaF9zaGlmdF50LndpbmRvd1t0LnN0cnN0YXJ0K3gtMV0pJnQuaGFzaF9tYXNrLGE9dC5wcmV2W3Quc3Ryc3RhcnQmdC53X21hc2tdPXQuaGVhZFt0Lmluc19oXSx0LmhlYWRbdC5pbnNfaF09dC5zdHJzdGFydCwwIT0tLXQubWF0Y2hfbGVuZ3RoOyk7dC5zdHJzdGFydCsrfWVsc2UgdC5zdHJzdGFydCs9dC5tYXRjaF9sZW5ndGgsdC5tYXRjaF9sZW5ndGg9MCx0Lmluc19oPXQud2luZG93W3Quc3Ryc3RhcnRdLHQuaW5zX2g9KHQuaW5zX2g8PHQuaGFzaF9zaGlmdF50LndpbmRvd1t0LnN0cnN0YXJ0KzFdKSZ0Lmhhc2hfbWFzaztlbHNlIGk9aC5fdHJfdGFsbHkodCwwLHQud2luZG93W3Quc3Ryc3RhcnRdKSx0Lmxvb2thaGVhZC0tLHQuc3Ryc3RhcnQrKztpZihpJiYoVSh0LCExKSwwPT09dC5zdHJtLmF2YWlsX291dCkpcmV0dXJuIEF9cmV0dXJuIHQuaW5zZXJ0PXQuc3Ryc3RhcnQ8eC0xP3Quc3Ryc3RhcnQ6eC0xLGU9PT1mPyhVKHQsITApLDA9PT10LnN0cm0uYXZhaWxfb3V0P1I6Qyk6dC5sYXN0X2xpdCYmKFUodCwhMSksMD09PXQuc3RybS5hdmFpbF9vdXQpP0E6Wn1mdW5jdGlvbiBLKHQsZSl7Zm9yKHZhciBhLGksbjs7KXtpZih0Lmxvb2thaGVhZDxCKXtpZihIKHQpLHQubG9va2FoZWFkPEImJmU9PT1kKXJldHVybiBBO2lmKDA9PT10Lmxvb2thaGVhZClicmVha31pZihhPTAsdC5sb29rYWhlYWQ+PXgmJih0Lmluc19oPSh0Lmluc19oPDx0Lmhhc2hfc2hpZnRedC53aW5kb3dbdC5zdHJzdGFydCt4LTFdKSZ0Lmhhc2hfbWFzayxhPXQucHJldlt0LnN0cnN0YXJ0JnQud19tYXNrXT10LmhlYWRbdC5pbnNfaF0sdC5oZWFkW3QuaW5zX2hdPXQuc3Ryc3RhcnQpLHQucHJldl9sZW5ndGg9dC5tYXRjaF9sZW5ndGgsdC5wcmV2X21hdGNoPXQubWF0Y2hfc3RhcnQsdC5tYXRjaF9sZW5ndGg9eC0xLDAhPT1hJiZ0LnByZXZfbGVuZ3RoPHQubWF4X2xhenlfbWF0Y2gmJnQuc3Ryc3RhcnQtYTw9dC53X3NpemUtQiYmKHQubWF0Y2hfbGVuZ3RoPUwodCxhKSx0Lm1hdGNoX2xlbmd0aDw9NSYmKDE9PT10LnN0cmF0ZWd5fHx0Lm1hdGNoX2xlbmd0aD09PXgmJjQwOTY8dC5zdHJzdGFydC10Lm1hdGNoX3N0YXJ0KSYmKHQubWF0Y2hfbGVuZ3RoPXgtMSkpLHQucHJldl9sZW5ndGg+PXgmJnQubWF0Y2hfbGVuZ3RoPD10LnByZXZfbGVuZ3RoKXtmb3Iobj10LnN0cnN0YXJ0K3QubG9va2FoZWFkLXgsaT1oLl90cl90YWxseSh0LHQuc3Ryc3RhcnQtMS10LnByZXZfbWF0Y2gsdC5wcmV2X2xlbmd0aC14KSx0Lmxvb2thaGVhZC09dC5wcmV2X2xlbmd0aC0xLHQucHJldl9sZW5ndGgtPTI7Kyt0LnN0cnN0YXJ0PD1uJiYodC5pbnNfaD0odC5pbnNfaDw8dC5oYXNoX3NoaWZ0XnQud2luZG93W3Quc3Ryc3RhcnQreC0xXSkmdC5oYXNoX21hc2ssYT10LnByZXZbdC5zdHJzdGFydCZ0LndfbWFza109dC5oZWFkW3QuaW5zX2hdLHQuaGVhZFt0Lmluc19oXT10LnN0cnN0YXJ0KSwwIT0tLXQucHJldl9sZW5ndGg7KTtpZih0Lm1hdGNoX2F2YWlsYWJsZT0wLHQubWF0Y2hfbGVuZ3RoPXgtMSx0LnN0cnN0YXJ0KyssaSYmKFUodCwhMSksMD09PXQuc3RybS5hdmFpbF9vdXQpKXJldHVybiBBfWVsc2UgaWYodC5tYXRjaF9hdmFpbGFibGUpe2lmKChpPWguX3RyX3RhbGx5KHQsMCx0LndpbmRvd1t0LnN0cnN0YXJ0LTFdKSkmJlUodCwhMSksdC5zdHJzdGFydCsrLHQubG9va2FoZWFkLS0sMD09PXQuc3RybS5hdmFpbF9vdXQpcmV0dXJuIEF9ZWxzZSB0Lm1hdGNoX2F2YWlsYWJsZT0xLHQuc3Ryc3RhcnQrKyx0Lmxvb2thaGVhZC0tfXJldHVybiB0Lm1hdGNoX2F2YWlsYWJsZSYmKGk9aC5fdHJfdGFsbHkodCwwLHQud2luZG93W3Quc3Ryc3RhcnQtMV0pLHQubWF0Y2hfYXZhaWxhYmxlPTApLHQuaW5zZXJ0PXQuc3Ryc3RhcnQ8eC0xP3Quc3Ryc3RhcnQ6eC0xLGU9PT1mPyhVKHQsITApLDA9PT10LnN0cm0uYXZhaWxfb3V0P1I6Qyk6dC5sYXN0X2xpdCYmKFUodCwhMSksMD09PXQuc3RybS5hdmFpbF9vdXQpP0E6Wn1mdW5jdGlvbiBNKHQsZSxhLGksbil7dGhpcy5nb29kX2xlbmd0aD10LHRoaXMubWF4X2xhenk9ZSx0aGlzLm5pY2VfbGVuZ3RoPWEsdGhpcy5tYXhfY2hhaW49aSx0aGlzLmZ1bmM9bn1mdW5jdGlvbiBQKCl7dGhpcy5zdHJtPW51bGwsdGhpcy5zdGF0dXM9MCx0aGlzLnBlbmRpbmdfYnVmPW51bGwsdGhpcy5wZW5kaW5nX2J1Zl9zaXplPTAsdGhpcy5wZW5kaW5nX291dD0wLHRoaXMucGVuZGluZz0wLHRoaXMud3JhcD0wLHRoaXMuZ3poZWFkPW51bGwsdGhpcy5nemluZGV4PTAsdGhpcy5tZXRob2Q9cCx0aGlzLmxhc3RfZmx1c2g9LTEsdGhpcy53X3NpemU9MCx0aGlzLndfYml0cz0wLHRoaXMud19tYXNrPTAsdGhpcy53aW5kb3c9bnVsbCx0aGlzLndpbmRvd19zaXplPTAsdGhpcy5wcmV2PW51bGwsdGhpcy5oZWFkPW51bGwsdGhpcy5pbnNfaD0wLHRoaXMuaGFzaF9zaXplPTAsdGhpcy5oYXNoX2JpdHM9MCx0aGlzLmhhc2hfbWFzaz0wLHRoaXMuaGFzaF9zaGlmdD0wLHRoaXMuYmxvY2tfc3RhcnQ9MCx0aGlzLm1hdGNoX2xlbmd0aD0wLHRoaXMucHJldl9tYXRjaD0wLHRoaXMubWF0Y2hfYXZhaWxhYmxlPTAsdGhpcy5zdHJzdGFydD0wLHRoaXMubWF0Y2hfc3RhcnQ9MCx0aGlzLmxvb2thaGVhZD0wLHRoaXMucHJldl9sZW5ndGg9MCx0aGlzLm1heF9jaGFpbl9sZW5ndGg9MCx0aGlzLm1heF9sYXp5X21hdGNoPTAsdGhpcy5sZXZlbD0wLHRoaXMuc3RyYXRlZ3k9MCx0aGlzLmdvb2RfbWF0Y2g9MCx0aGlzLm5pY2VfbWF0Y2g9MCx0aGlzLmR5bl9sdHJlZT1uZXcgXy5CdWYxNigyKmspLHRoaXMuZHluX2R0cmVlPW5ldyBfLkJ1ZjE2KDIqKDIqcysxKSksdGhpcy5ibF90cmVlPW5ldyBfLkJ1ZjE2KDIqKDIqbysxKSksRCh0aGlzLmR5bl9sdHJlZSksRCh0aGlzLmR5bl9kdHJlZSksRCh0aGlzLmJsX3RyZWUpLHRoaXMubF9kZXNjPW51bGwsdGhpcy5kX2Rlc2M9bnVsbCx0aGlzLmJsX2Rlc2M9bnVsbCx0aGlzLmJsX2NvdW50PW5ldyBfLkJ1ZjE2KHkrMSksdGhpcy5oZWFwPW5ldyBfLkJ1ZjE2KDIqcisxKSxEKHRoaXMuaGVhcCksdGhpcy5oZWFwX2xlbj0wLHRoaXMuaGVhcF9tYXg9MCx0aGlzLmRlcHRoPW5ldyBfLkJ1ZjE2KDIqcisxKSxEKHRoaXMuZGVwdGgpLHRoaXMubF9idWY9MCx0aGlzLmxpdF9idWZzaXplPTAsdGhpcy5sYXN0X2xpdD0wLHRoaXMuZF9idWY9MCx0aGlzLm9wdF9sZW49MCx0aGlzLnN0YXRpY19sZW49MCx0aGlzLm1hdGNoZXM9MCx0aGlzLmluc2VydD0wLHRoaXMuYmlfYnVmPTAsdGhpcy5iaV92YWxpZD0wfWZ1bmN0aW9uIFkodCl7dmFyIGU7cmV0dXJuIHQmJnQuc3RhdGU/KHQudG90YWxfaW49dC50b3RhbF9vdXQ9MCx0LmRhdGFfdHlwZT1uLChlPXQuc3RhdGUpLnBlbmRpbmc9MCxlLnBlbmRpbmdfb3V0PTAsZS53cmFwPDAmJihlLndyYXA9LWUud3JhcCksZS5zdGF0dXM9ZS53cmFwP1M6RSx0LmFkbGVyPTI9PT1lLndyYXA/MDoxLGUubGFzdF9mbHVzaD1kLGguX3RyX2luaXQoZSksYik6Tih0LGcpfWZ1bmN0aW9uIHEodCl7dmFyIGUsYT1ZKHQpO3JldHVybiBhPT09YiYmKChlPXQuc3RhdGUpLndpbmRvd19zaXplPTIqZS53X3NpemUsRChlLmhlYWQpLGUubWF4X2xhenlfbWF0Y2g9bFtlLmxldmVsXS5tYXhfbGF6eSxlLmdvb2RfbWF0Y2g9bFtlLmxldmVsXS5nb29kX2xlbmd0aCxlLm5pY2VfbWF0Y2g9bFtlLmxldmVsXS5uaWNlX2xlbmd0aCxlLm1heF9jaGFpbl9sZW5ndGg9bFtlLmxldmVsXS5tYXhfY2hhaW4sZS5zdHJzdGFydD0wLGUuYmxvY2tfc3RhcnQ9MCxlLmxvb2thaGVhZD0wLGUuaW5zZXJ0PTAsZS5tYXRjaF9sZW5ndGg9ZS5wcmV2X2xlbmd0aD14LTEsZS5tYXRjaF9hdmFpbGFibGU9MCxlLmluc19oPTApLGF9ZnVuY3Rpb24gRyh0LGUsYSxpLG4scil7aWYoIXQpcmV0dXJuIGc7dmFyIHM9MTtpZihlPT09bSYmKGU9NiksaTwwPyhzPTAsaT0taSk6MTU8aSYmKHM9MixpLT0xNiksbjwxfHx2PG58fGEhPT1wfHxpPDh8fDE1PGl8fGU8MHx8OTxlfHxyPDB8fHc8cilyZXR1cm4gTih0LGcpOzg9PT1pJiYoaT05KTt2YXIgbz1uZXcgUDtyZXR1cm4odC5zdGF0ZT1vKS5zdHJtPXQsby53cmFwPXMsby5nemhlYWQ9bnVsbCxvLndfYml0cz1pLG8ud19zaXplPTE8PG8ud19iaXRzLG8ud19tYXNrPW8ud19zaXplLTEsby5oYXNoX2JpdHM9bis3LG8uaGFzaF9zaXplPTE8PG8uaGFzaF9iaXRzLG8uaGFzaF9tYXNrPW8uaGFzaF9zaXplLTEsby5oYXNoX3NoaWZ0PX5+KChvLmhhc2hfYml0cyt4LTEpL3gpLG8ud2luZG93PW5ldyBfLkJ1ZjgoMipvLndfc2l6ZSksby5oZWFkPW5ldyBfLkJ1ZjE2KG8uaGFzaF9zaXplKSxvLnByZXY9bmV3IF8uQnVmMTYoby53X3NpemUpLG8ubGl0X2J1ZnNpemU9MTw8bis2LG8ucGVuZGluZ19idWZfc2l6ZT00Km8ubGl0X2J1ZnNpemUsby5wZW5kaW5nX2J1Zj1uZXcgXy5CdWY4KG8ucGVuZGluZ19idWZfc2l6ZSksby5kX2J1Zj0xKm8ubGl0X2J1ZnNpemUsby5sX2J1Zj0zKm8ubGl0X2J1ZnNpemUsby5sZXZlbD1lLG8uc3RyYXRlZ3k9cixvLm1ldGhvZD1hLHEodCl9bD1bbmV3IE0oMCwwLDAsMCxmdW5jdGlvbih0LGUpe3ZhciBhPTY1NTM1O2ZvcihhPnQucGVuZGluZ19idWZfc2l6ZS01JiYoYT10LnBlbmRpbmdfYnVmX3NpemUtNSk7Oyl7aWYodC5sb29rYWhlYWQ8PTEpe2lmKEgodCksMD09PXQubG9va2FoZWFkJiZlPT09ZClyZXR1cm4gQTtpZigwPT09dC5sb29rYWhlYWQpYnJlYWt9dC5zdHJzdGFydCs9dC5sb29rYWhlYWQsdC5sb29rYWhlYWQ9MDt2YXIgaT10LmJsb2NrX3N0YXJ0K2E7aWYoKDA9PT10LnN0cnN0YXJ0fHx0LnN0cnN0YXJ0Pj1pKSYmKHQubG9va2FoZWFkPXQuc3Ryc3RhcnQtaSx0LnN0cnN0YXJ0PWksVSh0LCExKSwwPT09dC5zdHJtLmF2YWlsX291dCkpcmV0dXJuIEE7aWYodC5zdHJzdGFydC10LmJsb2NrX3N0YXJ0Pj10Lndfc2l6ZS1CJiYoVSh0LCExKSwwPT09dC5zdHJtLmF2YWlsX291dCkpcmV0dXJuIEF9cmV0dXJuIHQuaW5zZXJ0PTAsZT09PWY/KFUodCwhMCksMD09PXQuc3RybS5hdmFpbF9vdXQ/UjpDKToodC5zdHJzdGFydD50LmJsb2NrX3N0YXJ0JiYoVSh0LCExKSx0LnN0cm0uYXZhaWxfb3V0KSxBKX0pLG5ldyBNKDQsNCw4LDQsaiksbmV3IE0oNCw1LDE2LDgsaiksbmV3IE0oNCw2LDMyLDMyLGopLG5ldyBNKDQsNCwxNiwxNixLKSxuZXcgTSg4LDE2LDMyLDMyLEspLG5ldyBNKDgsMTYsMTI4LDEyOCxLKSxuZXcgTSg4LDMyLDEyOCwyNTYsSyksbmV3IE0oMzIsMTI4LDI1OCwxMDI0LEspLG5ldyBNKDMyLDI1OCwyNTgsNDA5NixLKV0sYS5kZWZsYXRlSW5pdD1mdW5jdGlvbih0LGUpe3JldHVybiBHKHQsZSxwLDE1LDgsMCl9LGEuZGVmbGF0ZUluaXQyPUcsYS5kZWZsYXRlUmVzZXQ9cSxhLmRlZmxhdGVSZXNldEtlZXA9WSxhLmRlZmxhdGVTZXRIZWFkZXI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdCYmdC5zdGF0ZT8yIT09dC5zdGF0ZS53cmFwP2c6KHQuc3RhdGUuZ3poZWFkPWUsYik6Z30sYS5kZWZsYXRlPWZ1bmN0aW9uKHQsZSl7dmFyIGEsaSxuLHI7aWYoIXR8fCF0LnN0YXRlfHw1PGV8fGU8MClyZXR1cm4gdD9OKHQsZyk6ZztpZihpPXQuc3RhdGUsIXQub3V0cHV0fHwhdC5pbnB1dCYmMCE9PXQuYXZhaWxfaW58fDY2Nj09PWkuc3RhdHVzJiZlIT09ZilyZXR1cm4gTih0LDA9PT10LmF2YWlsX291dD8tNTpnKTtpZihpLnN0cm09dCxhPWkubGFzdF9mbHVzaCxpLmxhc3RfZmx1c2g9ZSxpLnN0YXR1cz09PVMpaWYoMj09PWkud3JhcCl0LmFkbGVyPTAsVChpLDMxKSxUKGksMTM5KSxUKGksOCksaS5nemhlYWQ/KFQoaSwoaS5nemhlYWQudGV4dD8xOjApKyhpLmd6aGVhZC5oY3JjPzI6MCkrKGkuZ3poZWFkLmV4dHJhPzQ6MCkrKGkuZ3poZWFkLm5hbWU/ODowKSsoaS5nemhlYWQuY29tbWVudD8xNjowKSksVChpLDI1NSZpLmd6aGVhZC50aW1lKSxUKGksaS5nemhlYWQudGltZT4+OCYyNTUpLFQoaSxpLmd6aGVhZC50aW1lPj4xNiYyNTUpLFQoaSxpLmd6aGVhZC50aW1lPj4yNCYyNTUpLFQoaSw5PT09aS5sZXZlbD8yOjI8PWkuc3RyYXRlZ3l8fGkubGV2ZWw8Mj80OjApLFQoaSwyNTUmaS5nemhlYWQub3MpLGkuZ3poZWFkLmV4dHJhJiZpLmd6aGVhZC5leHRyYS5sZW5ndGgmJihUKGksMjU1JmkuZ3poZWFkLmV4dHJhLmxlbmd0aCksVChpLGkuZ3poZWFkLmV4dHJhLmxlbmd0aD4+OCYyNTUpKSxpLmd6aGVhZC5oY3JjJiYodC5hZGxlcj1jKHQuYWRsZXIsaS5wZW5kaW5nX2J1ZixpLnBlbmRpbmcsMCkpLGkuZ3ppbmRleD0wLGkuc3RhdHVzPTY5KTooVChpLDApLFQoaSwwKSxUKGksMCksVChpLDApLFQoaSwwKSxUKGksOT09PWkubGV2ZWw/MjoyPD1pLnN0cmF0ZWd5fHxpLmxldmVsPDI/NDowKSxUKGksMyksaS5zdGF0dXM9RSk7ZWxzZXt2YXIgcz1wKyhpLndfYml0cy04PDw0KTw8ODtzfD0oMjw9aS5zdHJhdGVneXx8aS5sZXZlbDwyPzA6aS5sZXZlbDw2PzE6Nj09PWkubGV2ZWw/MjozKTw8NiwwIT09aS5zdHJzdGFydCYmKHN8PTMyKSxzKz0zMS1zJTMxLGkuc3RhdHVzPUUsRihpLHMpLDAhPT1pLnN0cnN0YXJ0JiYoRihpLHQuYWRsZXI+Pj4xNiksRihpLDY1NTM1JnQuYWRsZXIpKSx0LmFkbGVyPTF9aWYoNjk9PT1pLnN0YXR1cylpZihpLmd6aGVhZC5leHRyYSl7Zm9yKG49aS5wZW5kaW5nO2kuZ3ppbmRleDwoNjU1MzUmaS5nemhlYWQuZXh0cmEubGVuZ3RoKSYmKGkucGVuZGluZyE9PWkucGVuZGluZ19idWZfc2l6ZXx8KGkuZ3poZWFkLmhjcmMmJmkucGVuZGluZz5uJiYodC5hZGxlcj1jKHQuYWRsZXIsaS5wZW5kaW5nX2J1ZixpLnBlbmRpbmctbixuKSksSSh0KSxuPWkucGVuZGluZyxpLnBlbmRpbmchPT1pLnBlbmRpbmdfYnVmX3NpemUpKTspVChpLDI1NSZpLmd6aGVhZC5leHRyYVtpLmd6aW5kZXhdKSxpLmd6aW5kZXgrKztpLmd6aGVhZC5oY3JjJiZpLnBlbmRpbmc+biYmKHQuYWRsZXI9Yyh0LmFkbGVyLGkucGVuZGluZ19idWYsaS5wZW5kaW5nLW4sbikpLGkuZ3ppbmRleD09PWkuZ3poZWFkLmV4dHJhLmxlbmd0aCYmKGkuZ3ppbmRleD0wLGkuc3RhdHVzPTczKX1lbHNlIGkuc3RhdHVzPTczO2lmKDczPT09aS5zdGF0dXMpaWYoaS5nemhlYWQubmFtZSl7bj1pLnBlbmRpbmc7ZG97aWYoaS5wZW5kaW5nPT09aS5wZW5kaW5nX2J1Zl9zaXplJiYoaS5nemhlYWQuaGNyYyYmaS5wZW5kaW5nPm4mJih0LmFkbGVyPWModC5hZGxlcixpLnBlbmRpbmdfYnVmLGkucGVuZGluZy1uLG4pKSxJKHQpLG49aS5wZW5kaW5nLGkucGVuZGluZz09PWkucGVuZGluZ19idWZfc2l6ZSkpe3I9MTticmVha31UKGkscj1pLmd6aW5kZXg8aS5nemhlYWQubmFtZS5sZW5ndGg/MjU1JmkuZ3poZWFkLm5hbWUuY2hhckNvZGVBdChpLmd6aW5kZXgrKyk6MCl9d2hpbGUoMCE9PXIpO2kuZ3poZWFkLmhjcmMmJmkucGVuZGluZz5uJiYodC5hZGxlcj1jKHQuYWRsZXIsaS5wZW5kaW5nX2J1ZixpLnBlbmRpbmctbixuKSksMD09PXImJihpLmd6aW5kZXg9MCxpLnN0YXR1cz05MSl9ZWxzZSBpLnN0YXR1cz05MTtpZig5MT09PWkuc3RhdHVzKWlmKGkuZ3poZWFkLmNvbW1lbnQpe249aS5wZW5kaW5nO2Rve2lmKGkucGVuZGluZz09PWkucGVuZGluZ19idWZfc2l6ZSYmKGkuZ3poZWFkLmhjcmMmJmkucGVuZGluZz5uJiYodC5hZGxlcj1jKHQuYWRsZXIsaS5wZW5kaW5nX2J1ZixpLnBlbmRpbmctbixuKSksSSh0KSxuPWkucGVuZGluZyxpLnBlbmRpbmc9PT1pLnBlbmRpbmdfYnVmX3NpemUpKXtyPTE7YnJlYWt9VChpLHI9aS5nemluZGV4PGkuZ3poZWFkLmNvbW1lbnQubGVuZ3RoPzI1NSZpLmd6aGVhZC5jb21tZW50LmNoYXJDb2RlQXQoaS5nemluZGV4KyspOjApfXdoaWxlKDAhPT1yKTtpLmd6aGVhZC5oY3JjJiZpLnBlbmRpbmc+biYmKHQuYWRsZXI9Yyh0LmFkbGVyLGkucGVuZGluZ19idWYsaS5wZW5kaW5nLW4sbikpLDA9PT1yJiYoaS5zdGF0dXM9MTAzKX1lbHNlIGkuc3RhdHVzPTEwMztpZigxMDM9PT1pLnN0YXR1cyYmKGkuZ3poZWFkLmhjcmM/KGkucGVuZGluZysyPmkucGVuZGluZ19idWZfc2l6ZSYmSSh0KSxpLnBlbmRpbmcrMjw9aS5wZW5kaW5nX2J1Zl9zaXplJiYoVChpLDI1NSZ0LmFkbGVyKSxUKGksdC5hZGxlcj4+OCYyNTUpLHQuYWRsZXI9MCxpLnN0YXR1cz1FKSk6aS5zdGF0dXM9RSksMCE9PWkucGVuZGluZyl7aWYoSSh0KSwwPT09dC5hdmFpbF9vdXQpcmV0dXJuIGkubGFzdF9mbHVzaD0tMSxifWVsc2UgaWYoMD09PXQuYXZhaWxfaW4mJk8oZSk8PU8oYSkmJmUhPT1mKXJldHVybiBOKHQsLTUpO2lmKDY2Nj09PWkuc3RhdHVzJiYwIT09dC5hdmFpbF9pbilyZXR1cm4gTih0LC01KTtpZigwIT09dC5hdmFpbF9pbnx8MCE9PWkubG9va2FoZWFkfHxlIT09ZCYmNjY2IT09aS5zdGF0dXMpe3ZhciBvPTI9PT1pLnN0cmF0ZWd5P2Z1bmN0aW9uKHQsZSl7Zm9yKHZhciBhOzspe2lmKDA9PT10Lmxvb2thaGVhZCYmKEgodCksMD09PXQubG9va2FoZWFkKSl7aWYoZT09PWQpcmV0dXJuIEE7YnJlYWt9aWYodC5tYXRjaF9sZW5ndGg9MCxhPWguX3RyX3RhbGx5KHQsMCx0LndpbmRvd1t0LnN0cnN0YXJ0XSksdC5sb29rYWhlYWQtLSx0LnN0cnN0YXJ0KyssYSYmKFUodCwhMSksMD09PXQuc3RybS5hdmFpbF9vdXQpKXJldHVybiBBfXJldHVybiB0Lmluc2VydD0wLGU9PT1mPyhVKHQsITApLDA9PT10LnN0cm0uYXZhaWxfb3V0P1I6Qyk6dC5sYXN0X2xpdCYmKFUodCwhMSksMD09PXQuc3RybS5hdmFpbF9vdXQpP0E6Wn0oaSxlKTozPT09aS5zdHJhdGVneT9mdW5jdGlvbih0LGUpe2Zvcih2YXIgYSxpLG4scixzPXQud2luZG93Ozspe2lmKHQubG9va2FoZWFkPD16KXtpZihIKHQpLHQubG9va2FoZWFkPD16JiZlPT09ZClyZXR1cm4gQTtpZigwPT09dC5sb29rYWhlYWQpYnJlYWt9aWYodC5tYXRjaF9sZW5ndGg9MCx0Lmxvb2thaGVhZD49eCYmMDx0LnN0cnN0YXJ0JiYoaT1zW249dC5zdHJzdGFydC0xXSk9PT1zWysrbl0mJmk9PT1zWysrbl0mJmk9PT1zWysrbl0pe3I9dC5zdHJzdGFydCt6O2Rve313aGlsZShpPT09c1srK25dJiZpPT09c1srK25dJiZpPT09c1srK25dJiZpPT09c1srK25dJiZpPT09c1srK25dJiZpPT09c1srK25dJiZpPT09c1srK25dJiZpPT09c1srK25dJiZuPHIpO3QubWF0Y2hfbGVuZ3RoPXotKHItbiksdC5tYXRjaF9sZW5ndGg+dC5sb29rYWhlYWQmJih0Lm1hdGNoX2xlbmd0aD10Lmxvb2thaGVhZCl9aWYodC5tYXRjaF9sZW5ndGg+PXg/KGE9aC5fdHJfdGFsbHkodCwxLHQubWF0Y2hfbGVuZ3RoLXgpLHQubG9va2FoZWFkLT10Lm1hdGNoX2xlbmd0aCx0LnN0cnN0YXJ0Kz10Lm1hdGNoX2xlbmd0aCx0Lm1hdGNoX2xlbmd0aD0wKTooYT1oLl90cl90YWxseSh0LDAsdC53aW5kb3dbdC5zdHJzdGFydF0pLHQubG9va2FoZWFkLS0sdC5zdHJzdGFydCsrKSxhJiYoVSh0LCExKSwwPT09dC5zdHJtLmF2YWlsX291dCkpcmV0dXJuIEF9cmV0dXJuIHQuaW5zZXJ0PTAsZT09PWY/KFUodCwhMCksMD09PXQuc3RybS5hdmFpbF9vdXQ/UjpDKTp0Lmxhc3RfbGl0JiYoVSh0LCExKSwwPT09dC5zdHJtLmF2YWlsX291dCk/QTpafShpLGUpOmxbaS5sZXZlbF0uZnVuYyhpLGUpO2lmKG8hPT1SJiZvIT09Q3x8KGkuc3RhdHVzPTY2Niksbz09PUF8fG89PT1SKXJldHVybiAwPT09dC5hdmFpbF9vdXQmJihpLmxhc3RfZmx1c2g9LTEpLGI7aWYobz09PVomJigxPT09ZT9oLl90cl9hbGlnbihpKTo1IT09ZSYmKGguX3RyX3N0b3JlZF9ibG9jayhpLDAsMCwhMSksMz09PWUmJihEKGkuaGVhZCksMD09PWkubG9va2FoZWFkJiYoaS5zdHJzdGFydD0wLGkuYmxvY2tfc3RhcnQ9MCxpLmluc2VydD0wKSkpLEkodCksMD09PXQuYXZhaWxfb3V0KSlyZXR1cm4gaS5sYXN0X2ZsdXNoPS0xLGJ9cmV0dXJuIGUhPT1mP2I6aS53cmFwPD0wPzE6KDI9PT1pLndyYXA/KFQoaSwyNTUmdC5hZGxlciksVChpLHQuYWRsZXI+PjgmMjU1KSxUKGksdC5hZGxlcj4+MTYmMjU1KSxUKGksdC5hZGxlcj4+MjQmMjU1KSxUKGksMjU1JnQudG90YWxfaW4pLFQoaSx0LnRvdGFsX2luPj44JjI1NSksVChpLHQudG90YWxfaW4+PjE2JjI1NSksVChpLHQudG90YWxfaW4+PjI0JjI1NSkpOihGKGksdC5hZGxlcj4+PjE2KSxGKGksNjU1MzUmdC5hZGxlcikpLEkodCksMDxpLndyYXAmJihpLndyYXA9LWkud3JhcCksMCE9PWkucGVuZGluZz9iOjEpfSxhLmRlZmxhdGVFbmQ9ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuIHQmJnQuc3RhdGU/KGU9dC5zdGF0ZS5zdGF0dXMpIT09UyYmNjkhPT1lJiY3MyE9PWUmJjkxIT09ZSYmMTAzIT09ZSYmZSE9PUUmJjY2NiE9PWU/Tih0LGcpOih0LnN0YXRlPW51bGwsZT09PUU/Tih0LC0zKTpiKTpnfSxhLmRlZmxhdGVTZXREaWN0aW9uYXJ5PWZ1bmN0aW9uKHQsZSl7dmFyIGEsaSxuLHIscyxvLGwsaCxkPWUubGVuZ3RoO2lmKCF0fHwhdC5zdGF0ZSlyZXR1cm4gZztpZigyPT09KHI9KGE9dC5zdGF0ZSkud3JhcCl8fDE9PT1yJiZhLnN0YXR1cyE9PVN8fGEubG9va2FoZWFkKXJldHVybiBnO2ZvcigxPT09ciYmKHQuYWRsZXI9dSh0LmFkbGVyLGUsZCwwKSksYS53cmFwPTAsZD49YS53X3NpemUmJigwPT09ciYmKEQoYS5oZWFkKSxhLnN0cnN0YXJ0PTAsYS5ibG9ja19zdGFydD0wLGEuaW5zZXJ0PTApLGg9bmV3IF8uQnVmOChhLndfc2l6ZSksXy5hcnJheVNldChoLGUsZC1hLndfc2l6ZSxhLndfc2l6ZSwwKSxlPWgsZD1hLndfc2l6ZSkscz10LmF2YWlsX2luLG89dC5uZXh0X2luLGw9dC5pbnB1dCx0LmF2YWlsX2luPWQsdC5uZXh0X2luPTAsdC5pbnB1dD1lLEgoYSk7YS5sb29rYWhlYWQ+PXg7KXtmb3IoaT1hLnN0cnN0YXJ0LG49YS5sb29rYWhlYWQtKHgtMSk7YS5pbnNfaD0oYS5pbnNfaDw8YS5oYXNoX3NoaWZ0XmEud2luZG93W2kreC0xXSkmYS5oYXNoX21hc2ssYS5wcmV2W2kmYS53X21hc2tdPWEuaGVhZFthLmluc19oXSxhLmhlYWRbYS5pbnNfaF09aSxpKyssLS1uOyk7YS5zdHJzdGFydD1pLGEubG9va2FoZWFkPXgtMSxIKGEpfXJldHVybiBhLnN0cnN0YXJ0Kz1hLmxvb2thaGVhZCxhLmJsb2NrX3N0YXJ0PWEuc3Ryc3RhcnQsYS5pbnNlcnQ9YS5sb29rYWhlYWQsYS5sb29rYWhlYWQ9MCxhLm1hdGNoX2xlbmd0aD1hLnByZXZfbGVuZ3RoPXgtMSxhLm1hdGNoX2F2YWlsYWJsZT0wLHQubmV4dF9pbj1vLHQuaW5wdXQ9bCx0LmF2YWlsX2luPXMsYS53cmFwPXIsYn0sYS5kZWZsYXRlSW5mbz0icGFrbyBkZWZsYXRlIChmcm9tIE5vZGVjYSBwcm9qZWN0KSJ9LHsiLi4vdXRpbHMvY29tbW9uIjozLCIuL2FkbGVyMzIiOjUsIi4vY3JjMzIiOjcsIi4vbWVzc2FnZXMiOjEzLCIuL3RyZWVzIjoxNH1dLDk6W2Z1bmN0aW9uKHQsZSxhKXsidXNlIHN0cmljdCI7ZS5leHBvcnRzPWZ1bmN0aW9uKCl7dGhpcy50ZXh0PTAsdGhpcy50aW1lPTAsdGhpcy54ZmxhZ3M9MCx0aGlzLm9zPTAsdGhpcy5leHRyYT1udWxsLHRoaXMuZXh0cmFfbGVuPTAsdGhpcy5uYW1lPSIiLHRoaXMuY29tbWVudD0iIix0aGlzLmhjcmM9MCx0aGlzLmRvbmU9ITF9fSx7fV0sMTA6W2Z1bmN0aW9uKHQsZSxhKXsidXNlIHN0cmljdCI7ZS5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7dmFyIGEsaSxuLHIscyxvLGwsaCxkLGYsXyx1LGMsYixnLG0sdyxwLHYsayx5LHgseixCLFM7YT10LnN0YXRlLGk9dC5uZXh0X2luLEI9dC5pbnB1dCxuPWkrKHQuYXZhaWxfaW4tNSkscj10Lm5leHRfb3V0LFM9dC5vdXRwdXQscz1yLShlLXQuYXZhaWxfb3V0KSxvPXIrKHQuYXZhaWxfb3V0LTI1NyksbD1hLmRtYXgsaD1hLndzaXplLGQ9YS53aGF2ZSxmPWEud25leHQsXz1hLndpbmRvdyx1PWEuaG9sZCxjPWEuYml0cyxiPWEubGVuY29kZSxnPWEuZGlzdGNvZGUsbT0oMTw8YS5sZW5iaXRzKS0xLHc9KDE8PGEuZGlzdGJpdHMpLTE7dDpkb3tjPDE1JiYodSs9QltpKytdPDxjLGMrPTgsdSs9QltpKytdPDxjLGMrPTgpLHA9Ylt1Jm1dO2U6Zm9yKDs7KXtpZih1Pj4+PXY9cD4+PjI0LGMtPXYsMD09PSh2PXA+Pj4xNiYyNTUpKVNbcisrXT02NTUzNSZwO2Vsc2V7aWYoISgxNiZ2KSl7aWYoMD09KDY0JnYpKXtwPWJbKDY1NTM1JnApKyh1JigxPDx2KS0xKV07Y29udGludWUgZX1pZigzMiZ2KXthLm1vZGU9MTI7YnJlYWsgdH10Lm1zZz0iaW52YWxpZCBsaXRlcmFsL2xlbmd0aCBjb2RlIixhLm1vZGU9MzA7YnJlYWsgdH1rPTY1NTM1JnAsKHYmPTE1KSYmKGM8diYmKHUrPUJbaSsrXTw8YyxjKz04KSxrKz11JigxPDx2KS0xLHU+Pj49dixjLT12KSxjPDE1JiYodSs9QltpKytdPDxjLGMrPTgsdSs9QltpKytdPDxjLGMrPTgpLHA9Z1t1JnddO2E6Zm9yKDs7KXtpZih1Pj4+PXY9cD4+PjI0LGMtPXYsISgxNiYodj1wPj4+MTYmMjU1KSkpe2lmKDA9PSg2NCZ2KSl7cD1nWyg2NTUzNSZwKSsodSYoMTw8diktMSldO2NvbnRpbnVlIGF9dC5tc2c9ImludmFsaWQgZGlzdGFuY2UgY29kZSIsYS5tb2RlPTMwO2JyZWFrIHR9aWYoeT02NTUzNSZwLGM8KHYmPTE1KSYmKHUrPUJbaSsrXTw8YywoYys9OCk8diYmKHUrPUJbaSsrXTw8YyxjKz04KSksbDwoeSs9dSYoMTw8diktMSkpe3QubXNnPSJpbnZhbGlkIGRpc3RhbmNlIHRvbyBmYXIgYmFjayIsYS5tb2RlPTMwO2JyZWFrIHR9aWYodT4+Pj12LGMtPXYsKHY9ci1zKTx5KXtpZihkPCh2PXktdikmJmEuc2FuZSl7dC5tc2c9ImludmFsaWQgZGlzdGFuY2UgdG9vIGZhciBiYWNrIixhLm1vZGU9MzA7YnJlYWsgdH1pZih6PV8sKHg9MCk9PT1mKXtpZih4Kz1oLXYsdjxrKXtmb3Ioay09djtTW3IrK109X1t4KytdLC0tdjspO3g9ci15LHo9U319ZWxzZSBpZihmPHYpe2lmKHgrPWgrZi12LCh2LT1mKTxrKXtmb3Ioay09djtTW3IrK109X1t4KytdLC0tdjspO2lmKHg9MCxmPGspe2ZvcihrLT12PWY7U1tyKytdPV9beCsrXSwtLXY7KTt4PXIteSx6PVN9fX1lbHNlIGlmKHgrPWYtdix2PGspe2ZvcihrLT12O1NbcisrXT1fW3grK10sLS12Oyk7eD1yLXksej1TfWZvcig7MjxrOylTW3IrK109elt4KytdLFNbcisrXT16W3grK10sU1tyKytdPXpbeCsrXSxrLT0zO2smJihTW3IrK109elt4KytdLDE8ayYmKFNbcisrXT16W3grK10pKX1lbHNle2Zvcih4PXIteTtTW3IrK109U1t4KytdLFNbcisrXT1TW3grK10sU1tyKytdPVNbeCsrXSwyPChrLT0zKTspO2smJihTW3IrK109U1t4KytdLDE8ayYmKFNbcisrXT1TW3grK10pKX1icmVha319YnJlYWt9fXdoaWxlKGk8biYmcjxvKTtpLT1rPWM+PjMsdSY9KDE8PChjLT1rPDwzKSktMSx0Lm5leHRfaW49aSx0Lm5leHRfb3V0PXIsdC5hdmFpbF9pbj1pPG4/bi1pKzU6NS0oaS1uKSx0LmF2YWlsX291dD1yPG8/by1yKzI1NzoyNTctKHItbyksYS5ob2xkPXUsYS5iaXRzPWN9fSx7fV0sMTE6W2Z1bmN0aW9uKHQsZSxhKXsidXNlIHN0cmljdCI7dmFyIFo9dCgiLi4vdXRpbHMvY29tbW9uIiksUj10KCIuL2FkbGVyMzIiKSxDPXQoIi4vY3JjMzIiKSxOPXQoIi4vaW5mZmFzdCIpLE89dCgiLi9pbmZ0cmVlcyIpLEQ9MSxJPTIsVT0wLFQ9LTIsRj0xLGk9ODUyLG49NTkyO2Z1bmN0aW9uIEwodCl7cmV0dXJuKHQ+Pj4yNCYyNTUpKyh0Pj4+OCY2NTI4MCkrKCg2NTI4MCZ0KTw8OCkrKCgyNTUmdCk8PDI0KX1mdW5jdGlvbiByKCl7dGhpcy5tb2RlPTAsdGhpcy5sYXN0PSExLHRoaXMud3JhcD0wLHRoaXMuaGF2ZWRpY3Q9ITEsdGhpcy5mbGFncz0wLHRoaXMuZG1heD0wLHRoaXMuY2hlY2s9MCx0aGlzLnRvdGFsPTAsdGhpcy5oZWFkPW51bGwsdGhpcy53Yml0cz0wLHRoaXMud3NpemU9MCx0aGlzLndoYXZlPTAsdGhpcy53bmV4dD0wLHRoaXMud2luZG93PW51bGwsdGhpcy5ob2xkPTAsdGhpcy5iaXRzPTAsdGhpcy5sZW5ndGg9MCx0aGlzLm9mZnNldD0wLHRoaXMuZXh0cmE9MCx0aGlzLmxlbmNvZGU9bnVsbCx0aGlzLmRpc3Rjb2RlPW51bGwsdGhpcy5sZW5iaXRzPTAsdGhpcy5kaXN0Yml0cz0wLHRoaXMubmNvZGU9MCx0aGlzLm5sZW49MCx0aGlzLm5kaXN0PTAsdGhpcy5oYXZlPTAsdGhpcy5uZXh0PW51bGwsdGhpcy5sZW5zPW5ldyBaLkJ1ZjE2KDMyMCksdGhpcy53b3JrPW5ldyBaLkJ1ZjE2KDI4OCksdGhpcy5sZW5keW49bnVsbCx0aGlzLmRpc3RkeW49bnVsbCx0aGlzLnNhbmU9MCx0aGlzLmJhY2s9MCx0aGlzLndhcz0wfWZ1bmN0aW9uIHModCl7dmFyIGU7cmV0dXJuIHQmJnQuc3RhdGU/KGU9dC5zdGF0ZSx0LnRvdGFsX2luPXQudG90YWxfb3V0PWUudG90YWw9MCx0Lm1zZz0iIixlLndyYXAmJih0LmFkbGVyPTEmZS53cmFwKSxlLm1vZGU9RixlLmxhc3Q9MCxlLmhhdmVkaWN0PTAsZS5kbWF4PTMyNzY4LGUuaGVhZD1udWxsLGUuaG9sZD0wLGUuYml0cz0wLGUubGVuY29kZT1lLmxlbmR5bj1uZXcgWi5CdWYzMihpKSxlLmRpc3Rjb2RlPWUuZGlzdGR5bj1uZXcgWi5CdWYzMihuKSxlLnNhbmU9MSxlLmJhY2s9LTEsVSk6VH1mdW5jdGlvbiBvKHQpe3ZhciBlO3JldHVybiB0JiZ0LnN0YXRlPygoZT10LnN0YXRlKS53c2l6ZT0wLGUud2hhdmU9MCxlLnduZXh0PTAscyh0KSk6VH1mdW5jdGlvbiBsKHQsZSl7dmFyIGEsaTtyZXR1cm4gdCYmdC5zdGF0ZT8oaT10LnN0YXRlLGU8MD8oYT0wLGU9LWUpOihhPTErKGU+PjQpLGU8NDgmJihlJj0xNSkpLGUmJihlPDh8fDE1PGUpP1Q6KG51bGwhPT1pLndpbmRvdyYmaS53Yml0cyE9PWUmJihpLndpbmRvdz1udWxsKSxpLndyYXA9YSxpLndiaXRzPWUsbyh0KSkpOlR9ZnVuY3Rpb24gaCh0LGUpe3ZhciBhLGk7cmV0dXJuIHQ/KGk9bmV3IHIsKHQuc3RhdGU9aSkud2luZG93PW51bGwsKGE9bCh0LGUpKSE9PVUmJih0LnN0YXRlPW51bGwpLGEpOlR9dmFyIGQsZixfPSEwO2Z1bmN0aW9uIEgodCl7aWYoXyl7dmFyIGU7Zm9yKGQ9bmV3IFouQnVmMzIoNTEyKSxmPW5ldyBaLkJ1ZjMyKDMyKSxlPTA7ZTwxNDQ7KXQubGVuc1tlKytdPTg7Zm9yKDtlPDI1NjspdC5sZW5zW2UrK109OTtmb3IoO2U8MjgwOyl0LmxlbnNbZSsrXT03O2Zvcig7ZTwyODg7KXQubGVuc1tlKytdPTg7Zm9yKE8oRCx0LmxlbnMsMCwyODgsZCwwLHQud29yayx7Yml0czo5fSksZT0wO2U8MzI7KXQubGVuc1tlKytdPTU7TyhJLHQubGVucywwLDMyLGYsMCx0Lndvcmsse2JpdHM6NX0pLF89ITF9dC5sZW5jb2RlPWQsdC5sZW5iaXRzPTksdC5kaXN0Y29kZT1mLHQuZGlzdGJpdHM9NX1mdW5jdGlvbiBqKHQsZSxhLGkpe3ZhciBuLHI9dC5zdGF0ZTtyZXR1cm4gbnVsbD09PXIud2luZG93JiYoci53c2l6ZT0xPDxyLndiaXRzLHIud25leHQ9MCxyLndoYXZlPTAsci53aW5kb3c9bmV3IFouQnVmOChyLndzaXplKSksaT49ci53c2l6ZT8oWi5hcnJheVNldChyLndpbmRvdyxlLGEtci53c2l6ZSxyLndzaXplLDApLHIud25leHQ9MCxyLndoYXZlPXIud3NpemUpOihpPChuPXIud3NpemUtci53bmV4dCkmJihuPWkpLFouYXJyYXlTZXQoci53aW5kb3csZSxhLWksbixyLnduZXh0KSwoaS09bik/KFouYXJyYXlTZXQoci53aW5kb3csZSxhLWksaSwwKSxyLnduZXh0PWksci53aGF2ZT1yLndzaXplKTooci53bmV4dCs9bixyLnduZXh0PT09ci53c2l6ZSYmKHIud25leHQ9MCksci53aGF2ZTxyLndzaXplJiYoci53aGF2ZSs9bikpKSwwfWEuaW5mbGF0ZVJlc2V0PW8sYS5pbmZsYXRlUmVzZXQyPWwsYS5pbmZsYXRlUmVzZXRLZWVwPXMsYS5pbmZsYXRlSW5pdD1mdW5jdGlvbih0KXtyZXR1cm4gaCh0LDE1KX0sYS5pbmZsYXRlSW5pdDI9aCxhLmluZmxhdGU9ZnVuY3Rpb24odCxlKXt2YXIgYSxpLG4scixzLG8sbCxoLGQsZixfLHUsYyxiLGcsbSx3LHAsdixrLHkseCx6LEIsUz0wLEU9bmV3IFouQnVmOCg0KSxBPVsxNiwxNywxOCwwLDgsNyw5LDYsMTAsNSwxMSw0LDEyLDMsMTMsMiwxNCwxLDE1XTtpZighdHx8IXQuc3RhdGV8fCF0Lm91dHB1dHx8IXQuaW5wdXQmJjAhPT10LmF2YWlsX2luKXJldHVybiBUOzEyPT09KGE9dC5zdGF0ZSkubW9kZSYmKGEubW9kZT0xMykscz10Lm5leHRfb3V0LG49dC5vdXRwdXQsbD10LmF2YWlsX291dCxyPXQubmV4dF9pbixpPXQuaW5wdXQsbz10LmF2YWlsX2luLGg9YS5ob2xkLGQ9YS5iaXRzLGY9byxfPWwseD1VO3Q6Zm9yKDs7KXN3aXRjaChhLm1vZGUpe2Nhc2UgRjppZigwPT09YS53cmFwKXthLm1vZGU9MTM7YnJlYWt9Zm9yKDtkPDE2Oyl7aWYoMD09PW8pYnJlYWsgdDtvLS0saCs9aVtyKytdPDxkLGQrPTh9aWYoMiZhLndyYXAmJjM1NjE1PT09aCl7RVthLmNoZWNrPTBdPTI1NSZoLEVbMV09aD4+PjgmMjU1LGEuY2hlY2s9QyhhLmNoZWNrLEUsMiwwKSxkPWg9MCxhLm1vZGU9MjticmVha31pZihhLmZsYWdzPTAsYS5oZWFkJiYoYS5oZWFkLmRvbmU9ITEpLCEoMSZhLndyYXApfHwoKCgyNTUmaCk8PDgpKyhoPj44KSklMzEpe3QubXNnPSJpbmNvcnJlY3QgaGVhZGVyIGNoZWNrIixhLm1vZGU9MzA7YnJlYWt9aWYoOCE9KDE1JmgpKXt0Lm1zZz0idW5rbm93biBjb21wcmVzc2lvbiBtZXRob2QiLGEubW9kZT0zMDticmVha31pZihkLT00LHk9OCsoMTUmKGg+Pj49NCkpLDA9PT1hLndiaXRzKWEud2JpdHM9eTtlbHNlIGlmKHk+YS53Yml0cyl7dC5tc2c9ImludmFsaWQgd2luZG93IHNpemUiLGEubW9kZT0zMDticmVha31hLmRtYXg9MTw8eSx0LmFkbGVyPWEuY2hlY2s9MSxhLm1vZGU9NTEyJmg/MTA6MTIsZD1oPTA7YnJlYWs7Y2FzZSAyOmZvcig7ZDwxNjspe2lmKDA9PT1vKWJyZWFrIHQ7by0tLGgrPWlbcisrXTw8ZCxkKz04fWlmKGEuZmxhZ3M9aCw4IT0oMjU1JmEuZmxhZ3MpKXt0Lm1zZz0idW5rbm93biBjb21wcmVzc2lvbiBtZXRob2QiLGEubW9kZT0zMDticmVha31pZig1NzM0NCZhLmZsYWdzKXt0Lm1zZz0idW5rbm93biBoZWFkZXIgZmxhZ3Mgc2V0IixhLm1vZGU9MzA7YnJlYWt9YS5oZWFkJiYoYS5oZWFkLnRleHQ9aD4+OCYxKSw1MTImYS5mbGFncyYmKEVbMF09MjU1JmgsRVsxXT1oPj4+OCYyNTUsYS5jaGVjaz1DKGEuY2hlY2ssRSwyLDApKSxkPWg9MCxhLm1vZGU9MztjYXNlIDM6Zm9yKDtkPDMyOyl7aWYoMD09PW8pYnJlYWsgdDtvLS0saCs9aVtyKytdPDxkLGQrPTh9YS5oZWFkJiYoYS5oZWFkLnRpbWU9aCksNTEyJmEuZmxhZ3MmJihFWzBdPTI1NSZoLEVbMV09aD4+PjgmMjU1LEVbMl09aD4+PjE2JjI1NSxFWzNdPWg+Pj4yNCYyNTUsYS5jaGVjaz1DKGEuY2hlY2ssRSw0LDApKSxkPWg9MCxhLm1vZGU9NDtjYXNlIDQ6Zm9yKDtkPDE2Oyl7aWYoMD09PW8pYnJlYWsgdDtvLS0saCs9aVtyKytdPDxkLGQrPTh9YS5oZWFkJiYoYS5oZWFkLnhmbGFncz0yNTUmaCxhLmhlYWQub3M9aD4+OCksNTEyJmEuZmxhZ3MmJihFWzBdPTI1NSZoLEVbMV09aD4+PjgmMjU1LGEuY2hlY2s9QyhhLmNoZWNrLEUsMiwwKSksZD1oPTAsYS5tb2RlPTU7Y2FzZSA1OmlmKDEwMjQmYS5mbGFncyl7Zm9yKDtkPDE2Oyl7aWYoMD09PW8pYnJlYWsgdDtvLS0saCs9aVtyKytdPDxkLGQrPTh9YS5sZW5ndGg9aCxhLmhlYWQmJihhLmhlYWQuZXh0cmFfbGVuPWgpLDUxMiZhLmZsYWdzJiYoRVswXT0yNTUmaCxFWzFdPWg+Pj44JjI1NSxhLmNoZWNrPUMoYS5jaGVjayxFLDIsMCkpLGQ9aD0wfWVsc2UgYS5oZWFkJiYoYS5oZWFkLmV4dHJhPW51bGwpO2EubW9kZT02O2Nhc2UgNjppZigxMDI0JmEuZmxhZ3MmJihvPCh1PWEubGVuZ3RoKSYmKHU9byksdSYmKGEuaGVhZCYmKHk9YS5oZWFkLmV4dHJhX2xlbi1hLmxlbmd0aCxhLmhlYWQuZXh0cmF8fChhLmhlYWQuZXh0cmE9bmV3IEFycmF5KGEuaGVhZC5leHRyYV9sZW4pKSxaLmFycmF5U2V0KGEuaGVhZC5leHRyYSxpLHIsdSx5KSksNTEyJmEuZmxhZ3MmJihhLmNoZWNrPUMoYS5jaGVjayxpLHUscikpLG8tPXUscis9dSxhLmxlbmd0aC09dSksYS5sZW5ndGgpKWJyZWFrIHQ7YS5sZW5ndGg9MCxhLm1vZGU9NztjYXNlIDc6aWYoMjA0OCZhLmZsYWdzKXtpZigwPT09bylicmVhayB0O2Zvcih1PTA7eT1pW3IrdSsrXSxhLmhlYWQmJnkmJmEubGVuZ3RoPDY1NTM2JiYoYS5oZWFkLm5hbWUrPVN0cmluZy5mcm9tQ2hhckNvZGUoeSkpLHkmJnU8bzspO2lmKDUxMiZhLmZsYWdzJiYoYS5jaGVjaz1DKGEuY2hlY2ssaSx1LHIpKSxvLT11LHIrPXUseSlicmVhayB0fWVsc2UgYS5oZWFkJiYoYS5oZWFkLm5hbWU9bnVsbCk7YS5sZW5ndGg9MCxhLm1vZGU9ODtjYXNlIDg6aWYoNDA5NiZhLmZsYWdzKXtpZigwPT09bylicmVhayB0O2Zvcih1PTA7eT1pW3IrdSsrXSxhLmhlYWQmJnkmJmEubGVuZ3RoPDY1NTM2JiYoYS5oZWFkLmNvbW1lbnQrPVN0cmluZy5mcm9tQ2hhckNvZGUoeSkpLHkmJnU8bzspO2lmKDUxMiZhLmZsYWdzJiYoYS5jaGVjaz1DKGEuY2hlY2ssaSx1LHIpKSxvLT11LHIrPXUseSlicmVhayB0fWVsc2UgYS5oZWFkJiYoYS5oZWFkLmNvbW1lbnQ9bnVsbCk7YS5tb2RlPTk7Y2FzZSA5OmlmKDUxMiZhLmZsYWdzKXtmb3IoO2Q8MTY7KXtpZigwPT09bylicmVhayB0O28tLSxoKz1pW3IrK108PGQsZCs9OH1pZihoIT09KDY1NTM1JmEuY2hlY2spKXt0Lm1zZz0iaGVhZGVyIGNyYyBtaXNtYXRjaCIsYS5tb2RlPTMwO2JyZWFrfWQ9aD0wfWEuaGVhZCYmKGEuaGVhZC5oY3JjPWEuZmxhZ3M+PjkmMSxhLmhlYWQuZG9uZT0hMCksdC5hZGxlcj1hLmNoZWNrPTAsYS5tb2RlPTEyO2JyZWFrO2Nhc2UgMTA6Zm9yKDtkPDMyOyl7aWYoMD09PW8pYnJlYWsgdDtvLS0saCs9aVtyKytdPDxkLGQrPTh9dC5hZGxlcj1hLmNoZWNrPUwoaCksZD1oPTAsYS5tb2RlPTExO2Nhc2UgMTE6aWYoMD09PWEuaGF2ZWRpY3QpcmV0dXJuIHQubmV4dF9vdXQ9cyx0LmF2YWlsX291dD1sLHQubmV4dF9pbj1yLHQuYXZhaWxfaW49byxhLmhvbGQ9aCxhLmJpdHM9ZCwyO3QuYWRsZXI9YS5jaGVjaz0xLGEubW9kZT0xMjtjYXNlIDEyOmlmKDU9PT1lfHw2PT09ZSlicmVhayB0O2Nhc2UgMTM6aWYoYS5sYXN0KXtoPj4+PTcmZCxkLT03JmQsYS5tb2RlPTI3O2JyZWFrfWZvcig7ZDwzOyl7aWYoMD09PW8pYnJlYWsgdDtvLS0saCs9aVtyKytdPDxkLGQrPTh9c3dpdGNoKGEubGFzdD0xJmgsZC09MSwzJihoPj4+PTEpKXtjYXNlIDA6YS5tb2RlPTE0O2JyZWFrO2Nhc2UgMTppZihIKGEpLGEubW9kZT0yMCw2IT09ZSlicmVhaztoPj4+PTIsZC09MjticmVhayB0O2Nhc2UgMjphLm1vZGU9MTc7YnJlYWs7Y2FzZSAzOnQubXNnPSJpbnZhbGlkIGJsb2NrIHR5cGUiLGEubW9kZT0zMH1oPj4+PTIsZC09MjticmVhaztjYXNlIDE0OmZvcihoPj4+PTcmZCxkLT03JmQ7ZDwzMjspe2lmKDA9PT1vKWJyZWFrIHQ7by0tLGgrPWlbcisrXTw8ZCxkKz04fWlmKCg2NTUzNSZoKSE9KGg+Pj4xNl42NTUzNSkpe3QubXNnPSJpbnZhbGlkIHN0b3JlZCBibG9jayBsZW5ndGhzIixhLm1vZGU9MzA7YnJlYWt9aWYoYS5sZW5ndGg9NjU1MzUmaCxkPWg9MCxhLm1vZGU9MTUsNj09PWUpYnJlYWsgdDtjYXNlIDE1OmEubW9kZT0xNjtjYXNlIDE2OmlmKHU9YS5sZW5ndGgpe2lmKG88dSYmKHU9byksbDx1JiYodT1sKSwwPT09dSlicmVhayB0O1ouYXJyYXlTZXQobixpLHIsdSxzKSxvLT11LHIrPXUsbC09dSxzKz11LGEubGVuZ3RoLT11O2JyZWFrfWEubW9kZT0xMjticmVhaztjYXNlIDE3OmZvcig7ZDwxNDspe2lmKDA9PT1vKWJyZWFrIHQ7by0tLGgrPWlbcisrXTw8ZCxkKz04fWlmKGEubmxlbj0yNTcrKDMxJmgpLGg+Pj49NSxkLT01LGEubmRpc3Q9MSsoMzEmaCksaD4+Pj01LGQtPTUsYS5uY29kZT00KygxNSZoKSxoPj4+PTQsZC09NCwyODY8YS5ubGVufHwzMDxhLm5kaXN0KXt0Lm1zZz0idG9vIG1hbnkgbGVuZ3RoIG9yIGRpc3RhbmNlIHN5bWJvbHMiLGEubW9kZT0zMDticmVha31hLmhhdmU9MCxhLm1vZGU9MTg7Y2FzZSAxODpmb3IoO2EuaGF2ZTxhLm5jb2RlOyl7Zm9yKDtkPDM7KXtpZigwPT09bylicmVhayB0O28tLSxoKz1pW3IrK108PGQsZCs9OH1hLmxlbnNbQVthLmhhdmUrK11dPTcmaCxoPj4+PTMsZC09M31mb3IoO2EuaGF2ZTwxOTspYS5sZW5zW0FbYS5oYXZlKytdXT0wO2lmKGEubGVuY29kZT1hLmxlbmR5bixhLmxlbmJpdHM9Nyx6PXtiaXRzOmEubGVuYml0c30seD1PKDAsYS5sZW5zLDAsMTksYS5sZW5jb2RlLDAsYS53b3JrLHopLGEubGVuYml0cz16LmJpdHMseCl7dC5tc2c9ImludmFsaWQgY29kZSBsZW5ndGhzIHNldCIsYS5tb2RlPTMwO2JyZWFrfWEuaGF2ZT0wLGEubW9kZT0xOTtjYXNlIDE5OmZvcig7YS5oYXZlPGEubmxlbithLm5kaXN0Oyl7Zm9yKDttPShTPWEubGVuY29kZVtoJigxPDxhLmxlbmJpdHMpLTFdKT4+PjE2JjI1NSx3PTY1NTM1JlMsISgoZz1TPj4+MjQpPD1kKTspe2lmKDA9PT1vKWJyZWFrIHQ7by0tLGgrPWlbcisrXTw8ZCxkKz04fWlmKHc8MTYpaD4+Pj1nLGQtPWcsYS5sZW5zW2EuaGF2ZSsrXT13O2Vsc2V7aWYoMTY9PT13KXtmb3IoQj1nKzI7ZDxCOyl7aWYoMD09PW8pYnJlYWsgdDtvLS0saCs9aVtyKytdPDxkLGQrPTh9aWYoaD4+Pj1nLGQtPWcsMD09PWEuaGF2ZSl7dC5tc2c9ImludmFsaWQgYml0IGxlbmd0aCByZXBlYXQiLGEubW9kZT0zMDticmVha315PWEubGVuc1thLmhhdmUtMV0sdT0zKygzJmgpLGg+Pj49MixkLT0yfWVsc2UgaWYoMTc9PT13KXtmb3IoQj1nKzM7ZDxCOyl7aWYoMD09PW8pYnJlYWsgdDtvLS0saCs9aVtyKytdPDxkLGQrPTh9ZC09Zyx5PTAsdT0zKyg3JihoPj4+PWcpKSxoPj4+PTMsZC09M31lbHNle2ZvcihCPWcrNztkPEI7KXtpZigwPT09bylicmVhayB0O28tLSxoKz1pW3IrK108PGQsZCs9OH1kLT1nLHk9MCx1PTExKygxMjcmKGg+Pj49ZykpLGg+Pj49NyxkLT03fWlmKGEuaGF2ZSt1PmEubmxlbithLm5kaXN0KXt0Lm1zZz0iaW52YWxpZCBiaXQgbGVuZ3RoIHJlcGVhdCIsYS5tb2RlPTMwO2JyZWFrfWZvcig7dS0tOylhLmxlbnNbYS5oYXZlKytdPXl9fWlmKDMwPT09YS5tb2RlKWJyZWFrO2lmKDA9PT1hLmxlbnNbMjU2XSl7dC5tc2c9ImludmFsaWQgY29kZSAtLSBtaXNzaW5nIGVuZC1vZi1ibG9jayIsYS5tb2RlPTMwO2JyZWFrfWlmKGEubGVuYml0cz05LHo9e2JpdHM6YS5sZW5iaXRzfSx4PU8oRCxhLmxlbnMsMCxhLm5sZW4sYS5sZW5jb2RlLDAsYS53b3JrLHopLGEubGVuYml0cz16LmJpdHMseCl7dC5tc2c9ImludmFsaWQgbGl0ZXJhbC9sZW5ndGhzIHNldCIsYS5tb2RlPTMwO2JyZWFrfWlmKGEuZGlzdGJpdHM9NixhLmRpc3Rjb2RlPWEuZGlzdGR5bix6PXtiaXRzOmEuZGlzdGJpdHN9LHg9TyhJLGEubGVucyxhLm5sZW4sYS5uZGlzdCxhLmRpc3Rjb2RlLDAsYS53b3JrLHopLGEuZGlzdGJpdHM9ei5iaXRzLHgpe3QubXNnPSJpbnZhbGlkIGRpc3RhbmNlcyBzZXQiLGEubW9kZT0zMDticmVha31pZihhLm1vZGU9MjAsNj09PWUpYnJlYWsgdDtjYXNlIDIwOmEubW9kZT0yMTtjYXNlIDIxOmlmKDY8PW8mJjI1ODw9bCl7dC5uZXh0X291dD1zLHQuYXZhaWxfb3V0PWwsdC5uZXh0X2luPXIsdC5hdmFpbF9pbj1vLGEuaG9sZD1oLGEuYml0cz1kLE4odCxfKSxzPXQubmV4dF9vdXQsbj10Lm91dHB1dCxsPXQuYXZhaWxfb3V0LHI9dC5uZXh0X2luLGk9dC5pbnB1dCxvPXQuYXZhaWxfaW4saD1hLmhvbGQsZD1hLmJpdHMsMTI9PT1hLm1vZGUmJihhLmJhY2s9LTEpO2JyZWFrfWZvcihhLmJhY2s9MDttPShTPWEubGVuY29kZVtoJigxPDxhLmxlbmJpdHMpLTFdKT4+PjE2JjI1NSx3PTY1NTM1JlMsISgoZz1TPj4+MjQpPD1kKTspe2lmKDA9PT1vKWJyZWFrIHQ7by0tLGgrPWlbcisrXTw8ZCxkKz04fWlmKG0mJjA9PSgyNDAmbSkpe2ZvcihwPWcsdj1tLGs9dzttPShTPWEubGVuY29kZVtrKygoaCYoMTw8cCt2KS0xKT4+cCldKT4+PjE2JjI1NSx3PTY1NTM1JlMsIShwKyhnPVM+Pj4yNCk8PWQpOyl7aWYoMD09PW8pYnJlYWsgdDtvLS0saCs9aVtyKytdPDxkLGQrPTh9aD4+Pj1wLGQtPXAsYS5iYWNrKz1wfWlmKGg+Pj49ZyxkLT1nLGEuYmFjays9ZyxhLmxlbmd0aD13LDA9PT1tKXthLm1vZGU9MjY7YnJlYWt9aWYoMzImbSl7YS5iYWNrPS0xLGEubW9kZT0xMjticmVha31pZig2NCZtKXt0Lm1zZz0iaW52YWxpZCBsaXRlcmFsL2xlbmd0aCBjb2RlIixhLm1vZGU9MzA7YnJlYWt9YS5leHRyYT0xNSZtLGEubW9kZT0yMjtjYXNlIDIyOmlmKGEuZXh0cmEpe2ZvcihCPWEuZXh0cmE7ZDxCOyl7aWYoMD09PW8pYnJlYWsgdDtvLS0saCs9aVtyKytdPDxkLGQrPTh9YS5sZW5ndGgrPWgmKDE8PGEuZXh0cmEpLTEsaD4+Pj1hLmV4dHJhLGQtPWEuZXh0cmEsYS5iYWNrKz1hLmV4dHJhfWEud2FzPWEubGVuZ3RoLGEubW9kZT0yMztjYXNlIDIzOmZvcig7bT0oUz1hLmRpc3Rjb2RlW2gmKDE8PGEuZGlzdGJpdHMpLTFdKT4+PjE2JjI1NSx3PTY1NTM1JlMsISgoZz1TPj4+MjQpPD1kKTspe2lmKDA9PT1vKWJyZWFrIHQ7by0tLGgrPWlbcisrXTw8ZCxkKz04fWlmKDA9PSgyNDAmbSkpe2ZvcihwPWcsdj1tLGs9dzttPShTPWEuZGlzdGNvZGVbaysoKGgmKDE8PHArdiktMSk+PnApXSk+Pj4xNiYyNTUsdz02NTUzNSZTLCEocCsoZz1TPj4+MjQpPD1kKTspe2lmKDA9PT1vKWJyZWFrIHQ7by0tLGgrPWlbcisrXTw8ZCxkKz04fWg+Pj49cCxkLT1wLGEuYmFjays9cH1pZihoPj4+PWcsZC09ZyxhLmJhY2srPWcsNjQmbSl7dC5tc2c9ImludmFsaWQgZGlzdGFuY2UgY29kZSIsYS5tb2RlPTMwO2JyZWFrfWEub2Zmc2V0PXcsYS5leHRyYT0xNSZtLGEubW9kZT0yNDtjYXNlIDI0OmlmKGEuZXh0cmEpe2ZvcihCPWEuZXh0cmE7ZDxCOyl7aWYoMD09PW8pYnJlYWsgdDtvLS0saCs9aVtyKytdPDxkLGQrPTh9YS5vZmZzZXQrPWgmKDE8PGEuZXh0cmEpLTEsaD4+Pj1hLmV4dHJhLGQtPWEuZXh0cmEsYS5iYWNrKz1hLmV4dHJhfWlmKGEub2Zmc2V0PmEuZG1heCl7dC5tc2c9ImludmFsaWQgZGlzdGFuY2UgdG9vIGZhciBiYWNrIixhLm1vZGU9MzA7YnJlYWt9YS5tb2RlPTI1O2Nhc2UgMjU6aWYoMD09PWwpYnJlYWsgdDtpZih1PV8tbCxhLm9mZnNldD51KXtpZigodT1hLm9mZnNldC11KT5hLndoYXZlJiZhLnNhbmUpe3QubXNnPSJpbnZhbGlkIGRpc3RhbmNlIHRvbyBmYXIgYmFjayIsYS5tb2RlPTMwO2JyZWFrfXU+YS53bmV4dD8odS09YS53bmV4dCxjPWEud3NpemUtdSk6Yz1hLnduZXh0LXUsdT5hLmxlbmd0aCYmKHU9YS5sZW5ndGgpLGI9YS53aW5kb3d9ZWxzZSBiPW4sYz1zLWEub2Zmc2V0LHU9YS5sZW5ndGg7Zm9yKGw8dSYmKHU9bCksbC09dSxhLmxlbmd0aC09dTtuW3MrK109YltjKytdLC0tdTspOzA9PT1hLmxlbmd0aCYmKGEubW9kZT0yMSk7YnJlYWs7Y2FzZSAyNjppZigwPT09bClicmVhayB0O25bcysrXT1hLmxlbmd0aCxsLS0sYS5tb2RlPTIxO2JyZWFrO2Nhc2UgMjc6aWYoYS53cmFwKXtmb3IoO2Q8MzI7KXtpZigwPT09bylicmVhayB0O28tLSxofD1pW3IrK108PGQsZCs9OH1pZihfLT1sLHQudG90YWxfb3V0Kz1fLGEudG90YWwrPV8sXyYmKHQuYWRsZXI9YS5jaGVjaz1hLmZsYWdzP0MoYS5jaGVjayxuLF8scy1fKTpSKGEuY2hlY2ssbixfLHMtXykpLF89bCwoYS5mbGFncz9oOkwoaCkpIT09YS5jaGVjayl7dC5tc2c9ImluY29ycmVjdCBkYXRhIGNoZWNrIixhLm1vZGU9MzA7YnJlYWt9ZD1oPTB9YS5tb2RlPTI4O2Nhc2UgMjg6aWYoYS53cmFwJiZhLmZsYWdzKXtmb3IoO2Q8MzI7KXtpZigwPT09bylicmVhayB0O28tLSxoKz1pW3IrK108PGQsZCs9OH1pZihoIT09KDQyOTQ5NjcyOTUmYS50b3RhbCkpe3QubXNnPSJpbmNvcnJlY3QgbGVuZ3RoIGNoZWNrIixhLm1vZGU9MzA7YnJlYWt9ZD1oPTB9YS5tb2RlPTI5O2Nhc2UgMjk6eD0xO2JyZWFrIHQ7Y2FzZSAzMDp4PS0zO2JyZWFrIHQ7Y2FzZSAzMTpyZXR1cm4tNDtjYXNlIDMyOmRlZmF1bHQ6cmV0dXJuIFR9cmV0dXJuIHQubmV4dF9vdXQ9cyx0LmF2YWlsX291dD1sLHQubmV4dF9pbj1yLHQuYXZhaWxfaW49byxhLmhvbGQ9aCxhLmJpdHM9ZCwoYS53c2l6ZXx8XyE9PXQuYXZhaWxfb3V0JiZhLm1vZGU8MzAmJihhLm1vZGU8Mjd8fDQhPT1lKSkmJmoodCx0Lm91dHB1dCx0Lm5leHRfb3V0LF8tdC5hdmFpbF9vdXQpPyhhLm1vZGU9MzEsLTQpOihmLT10LmF2YWlsX2luLF8tPXQuYXZhaWxfb3V0LHQudG90YWxfaW4rPWYsdC50b3RhbF9vdXQrPV8sYS50b3RhbCs9XyxhLndyYXAmJl8mJih0LmFkbGVyPWEuY2hlY2s9YS5mbGFncz9DKGEuY2hlY2ssbixfLHQubmV4dF9vdXQtXyk6UihhLmNoZWNrLG4sXyx0Lm5leHRfb3V0LV8pKSx0LmRhdGFfdHlwZT1hLmJpdHMrKGEubGFzdD82NDowKSsoMTI9PT1hLm1vZGU/MTI4OjApKygyMD09PWEubW9kZXx8MTU9PT1hLm1vZGU/MjU2OjApLCgwPT09ZiYmMD09PV98fDQ9PT1lKSYmeD09PVUmJih4PS01KSx4KX0sYS5pbmZsYXRlRW5kPWZ1bmN0aW9uKHQpe2lmKCF0fHwhdC5zdGF0ZSlyZXR1cm4gVDt2YXIgZT10LnN0YXRlO3JldHVybiBlLndpbmRvdyYmKGUud2luZG93PW51bGwpLHQuc3RhdGU9bnVsbCxVfSxhLmluZmxhdGVHZXRIZWFkZXI9ZnVuY3Rpb24odCxlKXt2YXIgYTtyZXR1cm4gdCYmdC5zdGF0ZT8wPT0oMiYoYT10LnN0YXRlKS53cmFwKT9UOigoYS5oZWFkPWUpLmRvbmU9ITEsVSk6VH0sYS5pbmZsYXRlU2V0RGljdGlvbmFyeT1mdW5jdGlvbih0LGUpe3ZhciBhLGk9ZS5sZW5ndGg7cmV0dXJuIHQmJnQuc3RhdGU/MCE9PShhPXQuc3RhdGUpLndyYXAmJjExIT09YS5tb2RlP1Q6MTE9PT1hLm1vZGUmJlIoMSxlLGksMCkhPT1hLmNoZWNrPy0zOmoodCxlLGksaSk/KGEubW9kZT0zMSwtNCk6KGEuaGF2ZWRpY3Q9MSxVKTpUfSxhLmluZmxhdGVJbmZvPSJwYWtvIGluZmxhdGUgKGZyb20gTm9kZWNhIHByb2plY3QpIn0seyIuLi91dGlscy9jb21tb24iOjMsIi4vYWRsZXIzMiI6NSwiLi9jcmMzMiI6NywiLi9pbmZmYXN0IjoxMCwiLi9pbmZ0cmVlcyI6MTJ9XSwxMjpbZnVuY3Rpb24odCxlLGEpeyJ1c2Ugc3RyaWN0Ijt2YXIgRD10KCIuLi91dGlscy9jb21tb24iKSxJPVszLDQsNSw2LDcsOCw5LDEwLDExLDEzLDE1LDE3LDE5LDIzLDI3LDMxLDM1LDQzLDUxLDU5LDY3LDgzLDk5LDExNSwxMzEsMTYzLDE5NSwyMjcsMjU4LDAsMF0sVT1bMTYsMTYsMTYsMTYsMTYsMTYsMTYsMTYsMTcsMTcsMTcsMTcsMTgsMTgsMTgsMTgsMTksMTksMTksMTksMjAsMjAsMjAsMjAsMjEsMjEsMjEsMjEsMTYsNzIsNzhdLFQ9WzEsMiwzLDQsNSw3LDksMTMsMTcsMjUsMzMsNDksNjUsOTcsMTI5LDE5MywyNTcsMzg1LDUxMyw3NjksMTAyNSwxNTM3LDIwNDksMzA3Myw0MDk3LDYxNDUsODE5MywxMjI4OSwxNjM4NSwyNDU3NywwLDBdLEY9WzE2LDE2LDE2LDE2LDE3LDE3LDE4LDE4LDE5LDE5LDIwLDIwLDIxLDIxLDIyLDIyLDIzLDIzLDI0LDI0LDI1LDI1LDI2LDI2LDI3LDI3LDI4LDI4LDI5LDI5LDY0LDY0XTtlLmV4cG9ydHM9ZnVuY3Rpb24odCxlLGEsaSxuLHIscyxvKXt2YXIgbCxoLGQsZixfLHUsYyxiLGcsbT1vLmJpdHMsdz0wLHA9MCx2PTAsaz0wLHk9MCx4PTAsej0wLEI9MCxTPTAsRT0wLEE9bnVsbCxaPTAsUj1uZXcgRC5CdWYxNigxNiksQz1uZXcgRC5CdWYxNigxNiksTj1udWxsLE89MDtmb3Iodz0wO3c8PTE1O3crKylSW3ddPTA7Zm9yKHA9MDtwPGk7cCsrKVJbZVthK3BdXSsrO2Zvcih5PW0saz0xNTsxPD1rJiYwPT09UltrXTtrLS0pO2lmKGs8eSYmKHk9ayksMD09PWspcmV0dXJuIG5bcisrXT0yMDk3MTUyMCxuW3IrK109MjA5NzE1MjAsby5iaXRzPTEsMDtmb3Iodj0xO3Y8ayYmMD09PVJbdl07disrKTtmb3IoeTx2JiYoeT12KSx3PUI9MTt3PD0xNTt3KyspaWYoQjw8PTEsKEItPVJbd10pPDApcmV0dXJuLTE7aWYoMDxCJiYoMD09PXR8fDEhPT1rKSlyZXR1cm4tMTtmb3IoQ1sxXT0wLHc9MTt3PDE1O3crKylDW3crMV09Q1t3XStSW3ddO2ZvcihwPTA7cDxpO3ArKykwIT09ZVthK3BdJiYoc1tDW2VbYStwXV0rK109cCk7aWYoMD09PXQ/KEE9Tj1zLHU9MTkpOjE9PT10PyhBPUksWi09MjU3LE49VSxPLT0yNTcsdT0yNTYpOihBPVQsTj1GLHU9LTEpLHc9dixfPXIsej1wPUU9MCxkPS0xLGY9KFM9MTw8KHg9eSkpLTEsMT09PXQmJjg1MjxTfHwyPT09dCYmNTkyPFMpcmV0dXJuIDE7Zm9yKDs7KXtmb3IoYz13LXosc1twXTx1PyhiPTAsZz1zW3BdKTpzW3BdPnU/KGI9TltPK3NbcF1dLGc9QVtaK3NbcF1dKTooYj05NixnPTApLGw9MTw8dy16LHY9aD0xPDx4O25bXysoRT4+eikrKGgtPWwpXT1jPDwyNHxiPDwxNnxnfDAsMCE9PWg7KTtmb3IobD0xPDx3LTE7RSZsOylsPj49MTtpZigwIT09bD8oRSY9bC0xLEUrPWwpOkU9MCxwKyssMD09LS1SW3ddKXtpZih3PT09aylicmVhazt3PWVbYStzW3BdXX1pZih5PHcmJihFJmYpIT09ZCl7Zm9yKDA9PT16JiYoej15KSxfKz12LEI9MTw8KHg9dy16KTt4K3o8ayYmISgoQi09Ult4K3pdKTw9MCk7KXgrKyxCPDw9MTtpZihTKz0xPDx4LDE9PT10JiY4NTI8U3x8Mj09PXQmJjU5MjxTKXJldHVybiAxO25bZD1FJmZdPXk8PDI0fHg8PDE2fF8tcnwwfX1yZXR1cm4gMCE9PUUmJihuW18rRV09dy16PDwyNHw2NDw8MTZ8MCksby5iaXRzPXksMH19LHsiLi4vdXRpbHMvY29tbW9uIjozfV0sMTM6W2Z1bmN0aW9uKHQsZSxhKXsidXNlIHN0cmljdCI7ZS5leHBvcnRzPXsyOiJuZWVkIGRpY3Rpb25hcnkiLDE6InN0cmVhbSBlbmQiLDA6IiIsIi0xIjoiZmlsZSBlcnJvciIsIi0yIjoic3RyZWFtIGVycm9yIiwiLTMiOiJkYXRhIGVycm9yIiwiLTQiOiJpbnN1ZmZpY2llbnQgbWVtb3J5IiwiLTUiOiJidWZmZXIgZXJyb3IiLCItNiI6ImluY29tcGF0aWJsZSB2ZXJzaW9uIn19LHt9XSwxNDpbZnVuY3Rpb24odCxlLGEpeyJ1c2Ugc3RyaWN0Ijt2YXIgbD10KCIuLi91dGlscy9jb21tb24iKSxvPTAsaD0xO2Z1bmN0aW9uIGkodCl7Zm9yKHZhciBlPXQubGVuZ3RoOzA8PS0tZTspdFtlXT0wfXZhciBkPTAscz0yOSxmPTI1NixfPWYrMStzLHU9MzAsYz0xOSxnPTIqXysxLG09MTUsbj0xNixiPTcsdz0yNTYscD0xNix2PTE3LGs9MTgseT1bMCwwLDAsMCwwLDAsMCwwLDEsMSwxLDEsMiwyLDIsMiwzLDMsMywzLDQsNCw0LDQsNSw1LDUsNSwwXSx4PVswLDAsMCwwLDEsMSwyLDIsMywzLDQsNCw1LDUsNiw2LDcsNyw4LDgsOSw5LDEwLDEwLDExLDExLDEyLDEyLDEzLDEzXSx6PVswLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDIsMyw3XSxCPVsxNiwxNywxOCwwLDgsNyw5LDYsMTAsNSwxMSw0LDEyLDMsMTMsMiwxNCwxLDE1XSxTPW5ldyBBcnJheSgyKihfKzIpKTtpKFMpO3ZhciBFPW5ldyBBcnJheSgyKnUpO2koRSk7dmFyIEE9bmV3IEFycmF5KDUxMik7aShBKTt2YXIgWj1uZXcgQXJyYXkoMjU2KTtpKFopO3ZhciBSPW5ldyBBcnJheShzKTtpKFIpO3ZhciBDLE4sTyxEPW5ldyBBcnJheSh1KTtmdW5jdGlvbiBJKHQsZSxhLGksbil7dGhpcy5zdGF0aWNfdHJlZT10LHRoaXMuZXh0cmFfYml0cz1lLHRoaXMuZXh0cmFfYmFzZT1hLHRoaXMuZWxlbXM9aSx0aGlzLm1heF9sZW5ndGg9bix0aGlzLmhhc19zdHJlZT10JiZ0Lmxlbmd0aH1mdW5jdGlvbiByKHQsZSl7dGhpcy5keW5fdHJlZT10LHRoaXMubWF4X2NvZGU9MCx0aGlzLnN0YXRfZGVzYz1lfWZ1bmN0aW9uIFUodCl7cmV0dXJuIHQ8MjU2P0FbdF06QVsyNTYrKHQ+Pj43KV19ZnVuY3Rpb24gVCh0LGUpe3QucGVuZGluZ19idWZbdC5wZW5kaW5nKytdPTI1NSZlLHQucGVuZGluZ19idWZbdC5wZW5kaW5nKytdPWU+Pj44JjI1NX1mdW5jdGlvbiBGKHQsZSxhKXt0LmJpX3ZhbGlkPm4tYT8odC5iaV9idWZ8PWU8PHQuYmlfdmFsaWQmNjU1MzUsVCh0LHQuYmlfYnVmKSx0LmJpX2J1Zj1lPj5uLXQuYmlfdmFsaWQsdC5iaV92YWxpZCs9YS1uKToodC5iaV9idWZ8PWU8PHQuYmlfdmFsaWQmNjU1MzUsdC5iaV92YWxpZCs9YSl9ZnVuY3Rpb24gTCh0LGUsYSl7Rih0LGFbMiplXSxhWzIqZSsxXSl9ZnVuY3Rpb24gSCh0LGUpe2Zvcih2YXIgYT0wO2F8PTEmdCx0Pj4+PTEsYTw8PTEsMDwtLWU7KTtyZXR1cm4gYT4+PjF9ZnVuY3Rpb24gaih0LGUsYSl7dmFyIGksbixyPW5ldyBBcnJheShtKzEpLHM9MDtmb3IoaT0xO2k8PW07aSsrKXJbaV09cz1zK2FbaS0xXTw8MTtmb3Iobj0wO248PWU7bisrKXt2YXIgbz10WzIqbisxXTswIT09byYmKHRbMipuXT1IKHJbb10rKyxvKSl9fWZ1bmN0aW9uIEsodCl7dmFyIGU7Zm9yKGU9MDtlPF87ZSsrKXQuZHluX2x0cmVlWzIqZV09MDtmb3IoZT0wO2U8dTtlKyspdC5keW5fZHRyZWVbMiplXT0wO2ZvcihlPTA7ZTxjO2UrKyl0LmJsX3RyZWVbMiplXT0wO3QuZHluX2x0cmVlWzIqd109MSx0Lm9wdF9sZW49dC5zdGF0aWNfbGVuPTAsdC5sYXN0X2xpdD10Lm1hdGNoZXM9MH1mdW5jdGlvbiBNKHQpezg8dC5iaV92YWxpZD9UKHQsdC5iaV9idWYpOjA8dC5iaV92YWxpZCYmKHQucGVuZGluZ19idWZbdC5wZW5kaW5nKytdPXQuYmlfYnVmKSx0LmJpX2J1Zj0wLHQuYmlfdmFsaWQ9MH1mdW5jdGlvbiBQKHQsZSxhLGkpe3ZhciBuPTIqZSxyPTIqYTtyZXR1cm4gdFtuXTx0W3JdfHx0W25dPT09dFtyXSYmaVtlXTw9aVthXX1mdW5jdGlvbiBZKHQsZSxhKXtmb3IodmFyIGk9dC5oZWFwW2FdLG49YTw8MTtuPD10LmhlYXBfbGVuJiYobjx0LmhlYXBfbGVuJiZQKGUsdC5oZWFwW24rMV0sdC5oZWFwW25dLHQuZGVwdGgpJiZuKyssIVAoZSxpLHQuaGVhcFtuXSx0LmRlcHRoKSk7KXQuaGVhcFthXT10LmhlYXBbbl0sYT1uLG48PD0xO3QuaGVhcFthXT1pfWZ1bmN0aW9uIHEodCxlLGEpe3ZhciBpLG4scixzLG89MDtpZigwIT09dC5sYXN0X2xpdClmb3IoO2k9dC5wZW5kaW5nX2J1Zlt0LmRfYnVmKzIqb108PDh8dC5wZW5kaW5nX2J1Zlt0LmRfYnVmKzIqbysxXSxuPXQucGVuZGluZ19idWZbdC5sX2J1ZitvXSxvKyssMD09PWk/TCh0LG4sZSk6KEwodCwocj1aW25dKStmKzEsZSksMCE9PShzPXlbcl0pJiZGKHQsbi09UltyXSxzKSxMKHQscj1VKC0taSksYSksMCE9PShzPXhbcl0pJiZGKHQsaS09RFtyXSxzKSksbzx0Lmxhc3RfbGl0Oyk7TCh0LHcsZSl9ZnVuY3Rpb24gRyh0LGUpe3ZhciBhLGksbixyPWUuZHluX3RyZWUscz1lLnN0YXRfZGVzYy5zdGF0aWNfdHJlZSxvPWUuc3RhdF9kZXNjLmhhc19zdHJlZSxsPWUuc3RhdF9kZXNjLmVsZW1zLGg9LTE7Zm9yKHQuaGVhcF9sZW49MCx0LmhlYXBfbWF4PWcsYT0wO2E8bDthKyspMCE9PXJbMiphXT8odC5oZWFwWysrdC5oZWFwX2xlbl09aD1hLHQuZGVwdGhbYV09MCk6clsyKmErMV09MDtmb3IoO3QuaGVhcF9sZW48MjspclsyKihuPXQuaGVhcFsrK3QuaGVhcF9sZW5dPWg8Mj8rK2g6MCldPTEsdC5kZXB0aFtuXT0wLHQub3B0X2xlbi0tLG8mJih0LnN0YXRpY19sZW4tPXNbMipuKzFdKTtmb3IoZS5tYXhfY29kZT1oLGE9dC5oZWFwX2xlbj4+MTsxPD1hO2EtLSlZKHQscixhKTtmb3Iobj1sO2E9dC5oZWFwWzFdLHQuaGVhcFsxXT10LmhlYXBbdC5oZWFwX2xlbi0tXSxZKHQsciwxKSxpPXQuaGVhcFsxXSx0LmhlYXBbLS10LmhlYXBfbWF4XT1hLHQuaGVhcFstLXQuaGVhcF9tYXhdPWksclsyKm5dPXJbMiphXStyWzIqaV0sdC5kZXB0aFtuXT0odC5kZXB0aFthXT49dC5kZXB0aFtpXT90LmRlcHRoW2FdOnQuZGVwdGhbaV0pKzEsclsyKmErMV09clsyKmkrMV09bix0LmhlYXBbMV09bisrLFkodCxyLDEpLDI8PXQuaGVhcF9sZW47KTt0LmhlYXBbLS10LmhlYXBfbWF4XT10LmhlYXBbMV0sZnVuY3Rpb24odCxlKXt2YXIgYSxpLG4scixzLG8sbD1lLmR5bl90cmVlLGg9ZS5tYXhfY29kZSxkPWUuc3RhdF9kZXNjLnN0YXRpY190cmVlLGY9ZS5zdGF0X2Rlc2MuaGFzX3N0cmVlLF89ZS5zdGF0X2Rlc2MuZXh0cmFfYml0cyx1PWUuc3RhdF9kZXNjLmV4dHJhX2Jhc2UsYz1lLnN0YXRfZGVzYy5tYXhfbGVuZ3RoLGI9MDtmb3Iocj0wO3I8PW07cisrKXQuYmxfY291bnRbcl09MDtmb3IobFsyKnQuaGVhcFt0LmhlYXBfbWF4XSsxXT0wLGE9dC5oZWFwX21heCsxO2E8ZzthKyspYzwocj1sWzIqbFsyKihpPXQuaGVhcFthXSkrMV0rMV0rMSkmJihyPWMsYisrKSxsWzIqaSsxXT1yLGg8aXx8KHQuYmxfY291bnRbcl0rKyxzPTAsdTw9aSYmKHM9X1tpLXVdKSxvPWxbMippXSx0Lm9wdF9sZW4rPW8qKHIrcyksZiYmKHQuc3RhdGljX2xlbis9byooZFsyKmkrMV0rcykpKTtpZigwIT09Yil7ZG97Zm9yKHI9Yy0xOzA9PT10LmJsX2NvdW50W3JdOylyLS07dC5ibF9jb3VudFtyXS0tLHQuYmxfY291bnRbcisxXSs9Mix0LmJsX2NvdW50W2NdLS0sYi09Mn13aGlsZSgwPGIpO2ZvcihyPWM7MCE9PXI7ci0tKWZvcihpPXQuYmxfY291bnRbcl07MCE9PWk7KWg8KG49dC5oZWFwWy0tYV0pfHwobFsyKm4rMV0hPT1yJiYodC5vcHRfbGVuKz0oci1sWzIqbisxXSkqbFsyKm5dLGxbMipuKzFdPXIpLGktLSl9fSh0LGUpLGoocixoLHQuYmxfY291bnQpfWZ1bmN0aW9uIFgodCxlLGEpe3ZhciBpLG4scj0tMSxzPWVbMV0sbz0wLGw9NyxoPTQ7Zm9yKDA9PT1zJiYobD0xMzgsaD0zKSxlWzIqKGErMSkrMV09NjU1MzUsaT0wO2k8PWE7aSsrKW49cyxzPWVbMiooaSsxKSsxXSwrK288bCYmbj09PXN8fChvPGg/dC5ibF90cmVlWzIqbl0rPW86MCE9PW4/KG4hPT1yJiZ0LmJsX3RyZWVbMipuXSsrLHQuYmxfdHJlZVsyKnBdKyspOm88PTEwP3QuYmxfdHJlZVsyKnZdKys6dC5ibF90cmVlWzIqa10rKyxyPW4sKG89MCk9PT1zPyhsPTEzOCxoPTMpOm49PT1zPyhsPTYsaD0zKToobD03LGg9NCkpfWZ1bmN0aW9uIFcodCxlLGEpe3ZhciBpLG4scj0tMSxzPWVbMV0sbz0wLGw9NyxoPTQ7Zm9yKDA9PT1zJiYobD0xMzgsaD0zKSxpPTA7aTw9YTtpKyspaWYobj1zLHM9ZVsyKihpKzEpKzFdLCEoKytvPGwmJm49PT1zKSl7aWYobzxoKWZvcig7TCh0LG4sdC5ibF90cmVlKSwwIT0tLW87KTtlbHNlIDAhPT1uPyhuIT09ciYmKEwodCxuLHQuYmxfdHJlZSksby0tKSxMKHQscCx0LmJsX3RyZWUpLEYodCxvLTMsMikpOm88PTEwPyhMKHQsdix0LmJsX3RyZWUpLEYodCxvLTMsMykpOihMKHQsayx0LmJsX3RyZWUpLEYodCxvLTExLDcpKTtyPW4sKG89MCk9PT1zPyhsPTEzOCxoPTMpOm49PT1zPyhsPTYsaD0zKToobD03LGg9NCl9fWkoRCk7dmFyIEo9ITE7ZnVuY3Rpb24gUSh0LGUsYSxpKXt2YXIgbixyLHMsbztGKHQsKGQ8PDEpKyhpPzE6MCksMykscj1lLHM9YSxvPSEwLE0obj10KSxvJiYoVChuLHMpLFQobix+cykpLGwuYXJyYXlTZXQobi5wZW5kaW5nX2J1ZixuLndpbmRvdyxyLHMsbi5wZW5kaW5nKSxuLnBlbmRpbmcrPXN9YS5fdHJfaW5pdD1mdW5jdGlvbih0KXtKfHwoZnVuY3Rpb24oKXt2YXIgdCxlLGEsaSxuLHI9bmV3IEFycmF5KG0rMSk7Zm9yKGk9YT0wO2k8cy0xO2krKylmb3IoUltpXT1hLHQ9MDt0PDE8PHlbaV07dCsrKVpbYSsrXT1pO2ZvcihaW2EtMV09aSxpPW49MDtpPDE2O2krKylmb3IoRFtpXT1uLHQ9MDt0PDE8PHhbaV07dCsrKUFbbisrXT1pO2ZvcihuPj49NztpPHU7aSsrKWZvcihEW2ldPW48PDcsdD0wO3Q8MTw8eFtpXS03O3QrKylBWzI1NituKytdPWk7Zm9yKGU9MDtlPD1tO2UrKylyW2VdPTA7Zm9yKHQ9MDt0PD0xNDM7KVNbMip0KzFdPTgsdCsrLHJbOF0rKztmb3IoO3Q8PTI1NTspU1syKnQrMV09OSx0Kysscls5XSsrO2Zvcig7dDw9Mjc5OylTWzIqdCsxXT03LHQrKyxyWzddKys7Zm9yKDt0PD0yODc7KVNbMip0KzFdPTgsdCsrLHJbOF0rKztmb3IoaihTLF8rMSxyKSx0PTA7dDx1O3QrKylFWzIqdCsxXT01LEVbMip0XT1IKHQsNSk7Qz1uZXcgSShTLHksZisxLF8sbSksTj1uZXcgSShFLHgsMCx1LG0pLE89bmV3IEkobmV3IEFycmF5KDApLHosMCxjLGIpfSgpLEo9ITApLHQubF9kZXNjPW5ldyByKHQuZHluX2x0cmVlLEMpLHQuZF9kZXNjPW5ldyByKHQuZHluX2R0cmVlLE4pLHQuYmxfZGVzYz1uZXcgcih0LmJsX3RyZWUsTyksdC5iaV9idWY9MCx0LmJpX3ZhbGlkPTAsSyh0KX0sYS5fdHJfc3RvcmVkX2Jsb2NrPVEsYS5fdHJfZmx1c2hfYmxvY2s9ZnVuY3Rpb24odCxlLGEsaSl7dmFyIG4scixzPTA7MDx0LmxldmVsPygyPT09dC5zdHJtLmRhdGFfdHlwZSYmKHQuc3RybS5kYXRhX3R5cGU9ZnVuY3Rpb24odCl7dmFyIGUsYT00MDkzNjI0NDQ3O2ZvcihlPTA7ZTw9MzE7ZSsrLGE+Pj49MSlpZigxJmEmJjAhPT10LmR5bl9sdHJlZVsyKmVdKXJldHVybiBvO2lmKDAhPT10LmR5bl9sdHJlZVsxOF18fDAhPT10LmR5bl9sdHJlZVsyMF18fDAhPT10LmR5bl9sdHJlZVsyNl0pcmV0dXJuIGg7Zm9yKGU9MzI7ZTxmO2UrKylpZigwIT09dC5keW5fbHRyZWVbMiplXSlyZXR1cm4gaDtyZXR1cm4gb30odCkpLEcodCx0LmxfZGVzYyksRyh0LHQuZF9kZXNjKSxzPWZ1bmN0aW9uKHQpe3ZhciBlO2ZvcihYKHQsdC5keW5fbHRyZWUsdC5sX2Rlc2MubWF4X2NvZGUpLFgodCx0LmR5bl9kdHJlZSx0LmRfZGVzYy5tYXhfY29kZSksRyh0LHQuYmxfZGVzYyksZT1jLTE7Mzw9ZSYmMD09PXQuYmxfdHJlZVsyKkJbZV0rMV07ZS0tKTtyZXR1cm4gdC5vcHRfbGVuKz0zKihlKzEpKzUrNSs0LGV9KHQpLG49dC5vcHRfbGVuKzMrNz4+PjMsKHI9dC5zdGF0aWNfbGVuKzMrNz4+PjMpPD1uJiYobj1yKSk6bj1yPWErNSxhKzQ8PW4mJi0xIT09ZT9RKHQsZSxhLGkpOjQ9PT10LnN0cmF0ZWd5fHxyPT09bj8oRih0LDIrKGk/MTowKSwzKSxxKHQsUyxFKSk6KEYodCw0KyhpPzE6MCksMyksZnVuY3Rpb24odCxlLGEsaSl7dmFyIG47Zm9yKEYodCxlLTI1Nyw1KSxGKHQsYS0xLDUpLEYodCxpLTQsNCksbj0wO248aTtuKyspRih0LHQuYmxfdHJlZVsyKkJbbl0rMV0sMyk7Vyh0LHQuZHluX2x0cmVlLGUtMSksVyh0LHQuZHluX2R0cmVlLGEtMSl9KHQsdC5sX2Rlc2MubWF4X2NvZGUrMSx0LmRfZGVzYy5tYXhfY29kZSsxLHMrMSkscSh0LHQuZHluX2x0cmVlLHQuZHluX2R0cmVlKSksSyh0KSxpJiZNKHQpfSxhLl90cl90YWxseT1mdW5jdGlvbih0LGUsYSl7cmV0dXJuIHQucGVuZGluZ19idWZbdC5kX2J1ZisyKnQubGFzdF9saXRdPWU+Pj44JjI1NSx0LnBlbmRpbmdfYnVmW3QuZF9idWYrMip0Lmxhc3RfbGl0KzFdPTI1NSZlLHQucGVuZGluZ19idWZbdC5sX2J1Zit0Lmxhc3RfbGl0XT0yNTUmYSx0Lmxhc3RfbGl0KyssMD09PWU/dC5keW5fbHRyZWVbMiphXSsrOih0Lm1hdGNoZXMrKyxlLS0sdC5keW5fbHRyZWVbMiooWlthXStmKzEpXSsrLHQuZHluX2R0cmVlWzIqVShlKV0rKyksdC5sYXN0X2xpdD09PXQubGl0X2J1ZnNpemUtMX0sYS5fdHJfYWxpZ249ZnVuY3Rpb24odCl7dmFyIGU7Rih0LDIsMyksTCh0LHcsUyksMTY9PT0oZT10KS5iaV92YWxpZD8oVChlLGUuYmlfYnVmKSxlLmJpX2J1Zj0wLGUuYmlfdmFsaWQ9MCk6ODw9ZS5iaV92YWxpZCYmKGUucGVuZGluZ19idWZbZS5wZW5kaW5nKytdPTI1NSZlLmJpX2J1ZixlLmJpX2J1Zj4+PTgsZS5iaV92YWxpZC09OCl9fSx7Ii4uL3V0aWxzL2NvbW1vbiI6M31dLDE1OltmdW5jdGlvbih0LGUsYSl7InVzZSBzdHJpY3QiO2UuZXhwb3J0cz1mdW5jdGlvbigpe3RoaXMuaW5wdXQ9bnVsbCx0aGlzLm5leHRfaW49MCx0aGlzLmF2YWlsX2luPTAsdGhpcy50b3RhbF9pbj0wLHRoaXMub3V0cHV0PW51bGwsdGhpcy5uZXh0X291dD0wLHRoaXMuYXZhaWxfb3V0PTAsdGhpcy50b3RhbF9vdXQ9MCx0aGlzLm1zZz0iIix0aGlzLnN0YXRlPW51bGwsdGhpcy5kYXRhX3R5cGU9Mix0aGlzLmFkbGVyPTB9fSx7fV0sIi8iOltmdW5jdGlvbih0LGUsYSl7InVzZSBzdHJpY3QiO3ZhciBpPXt9OygwLHQoIi4vbGliL3V0aWxzL2NvbW1vbiIpLmFzc2lnbikoaSx0KCIuL2xpYi9kZWZsYXRlIiksdCgiLi9saWIvaW5mbGF0ZSIpLHQoIi4vbGliL3psaWIvY29uc3RhbnRzIikpLGUuZXhwb3J0cz1pfSx7Ii4vbGliL2RlZmxhdGUiOjEsIi4vbGliL2luZmxhdGUiOjIsIi4vbGliL3V0aWxzL2NvbW1vbiI6MywiLi9saWIvemxpYi9jb25zdGFudHMiOjZ9XX0se30sW10pKCIvIil9KTsKdmFyIEJhc2U2ND17X2tleVN0cjoiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLz0iLGVuY29kZTpmdW5jdGlvbihhLGIpe3ZhciBjPSIiLGQsZSxmLGcsayxsLG09MDtmb3IobnVsbCE9YiYmYnx8KGE9QmFzZTY0Ll91dGY4X2VuY29kZShhKSk7bTxhLmxlbmd0aDspZD1hLmNoYXJDb2RlQXQobSsrKSxlPWEuY2hhckNvZGVBdChtKyspLGY9YS5jaGFyQ29kZUF0KG0rKyksZz1kPj4yLGQ9KGQmMyk8PDR8ZT4+NCxrPShlJjE1KTw8MnxmPj42LGw9ZiY2Myxpc05hTihlKT9rPWw9NjQ6aXNOYU4oZikmJihsPTY0KSxjPWMrdGhpcy5fa2V5U3RyLmNoYXJBdChnKSt0aGlzLl9rZXlTdHIuY2hhckF0KGQpK3RoaXMuX2tleVN0ci5jaGFyQXQoaykrdGhpcy5fa2V5U3RyLmNoYXJBdChsKTtyZXR1cm4gY30sZGVjb2RlOmZ1bmN0aW9uKGEsYil7Yj1udWxsIT1iP2I6ITE7dmFyIGM9IiIsZCxlLGYsZyxrLGw9MDtmb3IoYT1hLnJlcGxhY2UoL1teQS1aYS16MC05XCtcL1w9XS9nLAoiIik7bDxhLmxlbmd0aDspZD10aGlzLl9rZXlTdHIuaW5kZXhPZihhLmNoYXJBdChsKyspKSxlPXRoaXMuX2tleVN0ci5pbmRleE9mKGEuY2hhckF0KGwrKykpLGc9dGhpcy5fa2V5U3RyLmluZGV4T2YoYS5jaGFyQXQobCsrKSksaz10aGlzLl9rZXlTdHIuaW5kZXhPZihhLmNoYXJBdChsKyspKSxkPWQ8PDJ8ZT4+NCxlPShlJjE1KTw8NHxnPj4yLGY9KGcmMyk8PDZ8ayxjKz1TdHJpbmcuZnJvbUNoYXJDb2RlKGQpLDY0IT1nJiYoYys9U3RyaW5nLmZyb21DaGFyQ29kZShlKSksNjQhPWsmJihjKz1TdHJpbmcuZnJvbUNoYXJDb2RlKGYpKTtifHwoYz1CYXNlNjQuX3V0ZjhfZGVjb2RlKGMpKTtyZXR1cm4gY30sX3V0ZjhfZW5jb2RlOmZ1bmN0aW9uKGEpe2E9YS5yZXBsYWNlKC9cclxuL2csIlxuIik7Zm9yKHZhciBiPSIiLGM9MDtjPGEubGVuZ3RoO2MrKyl7dmFyIGQ9YS5jaGFyQ29kZUF0KGMpOzEyOD5kP2IrPVN0cmluZy5mcm9tQ2hhckNvZGUoZCk6KDEyNzxkJiYyMDQ4PmQ/Yis9ClN0cmluZy5mcm9tQ2hhckNvZGUoZD4+NnwxOTIpOihiKz1TdHJpbmcuZnJvbUNoYXJDb2RlKGQ+PjEyfDIyNCksYis9U3RyaW5nLmZyb21DaGFyQ29kZShkPj42JjYzfDEyOCkpLGIrPVN0cmluZy5mcm9tQ2hhckNvZGUoZCY2M3wxMjgpKX1yZXR1cm4gYn0sX3V0ZjhfZGVjb2RlOmZ1bmN0aW9uKGEpe3ZhciBiPSIiLGM9MCxkO2ZvcihjMT1jMj0wO2M8YS5sZW5ndGg7KWQ9YS5jaGFyQ29kZUF0KGMpLDEyOD5kPyhiKz1TdHJpbmcuZnJvbUNoYXJDb2RlKGQpLGMrKyk6MTkxPGQmJjIyND5kPyhjMj1hLmNoYXJDb2RlQXQoYysxKSxiKz1TdHJpbmcuZnJvbUNoYXJDb2RlKChkJjMxKTw8NnxjMiY2MyksYys9Mik6KGMyPWEuY2hhckNvZGVBdChjKzEpLGMzPWEuY2hhckNvZGVBdChjKzIpLGIrPVN0cmluZy5mcm9tQ2hhckNvZGUoKGQmMTUpPDwxMnwoYzImNjMpPDw2fGMzJjYzKSxjKz0zKTtyZXR1cm4gYn19O3dpbmRvdy51cmxQYXJhbXM9d2luZG93LnVybFBhcmFtc3x8e307d2luZG93LmlzTG9jYWxTdG9yYWdlPXdpbmRvdy5pc0xvY2FsU3RvcmFnZXx8ITE7d2luZG93Lm14TG9hZFNldHRpbmdzPXdpbmRvdy5teExvYWRTZXR0aW5nc3x8IjEiIT11cmxQYXJhbXMuY29uZmlndXJlO3dpbmRvdy5pc1N2Z0Jyb3dzZXI9d2luZG93LmlzU3ZnQnJvd3Nlcnx8bnVsbD09bmF2aWdhdG9yLnVzZXJBZ2VudHx8MD5uYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIk1TSUUiKXx8OTw9ZG9jdW1lbnQuZG9jdW1lbnRNb2RlO3dpbmRvdy5EUkFXSU9fQkFTRV9VUkw9d2luZG93LkRSQVdJT19CQVNFX1VSTHx8KC8uKlwuZHJhd1wuaW8kLy50ZXN0KHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSk/d2luZG93LmxvY2F0aW9uLnByb3RvY29sKyIvLyIrd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lOiJodHRwczovL2FwcC5kaWFncmFtcy5uZXQiKTsKd2luZG93LkVYUE9SVF9VUkw9d2luZG93LkVYUE9SVF9VUkx8fCJodHRwczovL2V4cC5kcmF3LmlvL0ltYWdlRXhwb3J0NC9leHBvcnQiO3dpbmRvdy5QTEFOVF9VUkw9d2luZG93LlBMQU5UX1VSTHx8Imh0dHBzOi8vZXhwLXBsYW50LmRyYXcuaW8vcGxhbnR1bWwtMS0yMDIwLTIiO3dpbmRvdy5EUkFXX01BVEhfVVJMPXdpbmRvdy5EUkFXX01BVEhfVVJMfHx3aW5kb3cuRFJBV0lPX0JBU0VfVVJMKyIvbWF0aCI7d2luZG93LlZTRF9DT05WRVJUX1VSTD13aW5kb3cuVlNEX0NPTlZFUlRfVVJMfHwiaHR0cHM6Ly9jb252ZXJ0LmRyYXcuaW8vVnNkQ29udmVydGVyL2FwaS9jb252ZXJ0ZXIiO3dpbmRvdy5FTUZfQ09OVkVSVF9VUkw9d2luZG93LkVNRl9DT05WRVJUX1VSTHx8Imh0dHBzOi8vY29udmVydC5kcmF3LmlvL2VtZjJwbmcvY29udmVydEVNRiI7d2luZG93LlJFQUxUSU1FX1VSTD13aW5kb3cuUkVBTFRJTUVfVVJMfHwiY2FjaGUiOwp3aW5kb3cuRFJBV0lPX0dJVExBQl9VUkw9d2luZG93LkRSQVdJT19HSVRMQUJfVVJMfHwiaHR0cHM6Ly9naXRsYWIuY29tIjt3aW5kb3cuRFJBV0lPX0dJVExBQl9JRD13aW5kb3cuRFJBV0lPX0dJVExBQl9JRHx8IjVjZGMwMThhMzJhY2RkZjZlYmEzNzU5MmQ5Mzc0OTQ1MjQxZTY0NGI4MzY4YWY4NDc0MjJkNzRjODcwOWJjNDQiO3dpbmRvdy5TQVZFX1VSTD13aW5kb3cuU0FWRV9VUkx8fCJzYXZlIjt3aW5kb3cuT1BFTl9VUkw9d2luZG93Lk9QRU5fVVJMfHwiaW1wb3J0Ijt3aW5kb3cuUFJPWFlfVVJMPXdpbmRvdy5QUk9YWV9VUkx8fCJwcm94eSI7d2luZG93LkRSQVdJT19WSUVXRVJfVVJMPXdpbmRvdy5EUkFXSU9fVklFV0VSX1VSTHx8bnVsbDt3aW5kb3cuU0hBUEVTX1BBVEg9d2luZG93LlNIQVBFU19QQVRIfHwic2hhcGVzIjt3aW5kb3cuR1JBUEhfSU1BR0VfUEFUSD13aW5kb3cuR1JBUEhfSU1BR0VfUEFUSHx8ImltZyI7CndpbmRvdy5JQ09OU0VBUkNIX1BBVEg9d2luZG93LklDT05TRUFSQ0hfUEFUSHx8KChudWxsIT1uYXZpZ2F0b3IudXNlckFnZW50JiYwPD1uYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIk1TSUUiKXx8dXJsUGFyYW1zLmRldikmJiJmaWxlOiIhPXdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbD8iaWNvblNlYXJjaCI6d2luZG93LkRSQVdJT19CQVNFX1VSTCsiL2ljb25TZWFyY2giKTt3aW5kb3cuVEVNUExBVEVfUEFUSD13aW5kb3cuVEVNUExBVEVfUEFUSHx8InRlbXBsYXRlcyI7d2luZG93Lk5FV19ESUFHUkFNX0NBVFNfUEFUSD13aW5kb3cuTkVXX0RJQUdSQU1fQ0FUU19QQVRIfHwibmV3RGlhZ3JhbUNhdHMiO3dpbmRvdy5QTFVHSU5TX0JBU0VfUEFUSD13aW5kb3cuUExVR0lOU19CQVNFX1BBVEh8fCIiO3dpbmRvdy5SRVNPVVJDRVNfUEFUSD13aW5kb3cuUkVTT1VSQ0VTX1BBVEh8fCJyZXNvdXJjZXMiOwp3aW5kb3cuUkVTT1VSQ0VfQkFTRT13aW5kb3cuUkVTT1VSQ0VfQkFTRXx8UkVTT1VSQ0VTX1BBVEgrIi9kaWEiO3dpbmRvdy5EUkFXSU9fQ09ORklHPXdpbmRvdy5EUkFXSU9fQ09ORklHfHxudWxsO3dpbmRvdy5teExvYWRSZXNvdXJjZXM9d2luZG93Lm14TG9hZFJlc291cmNlc3x8ITE7d2luZG93Lm14TGFuZ3VhZ2U9d2luZG93Lm14TGFuZ3VhZ2V8fGZ1bmN0aW9uKCl7dmFyIGE9dXJsUGFyYW1zLmxhbmc7aWYobnVsbD09YSYmInVuZGVmaW5lZCIhPXR5cGVvZiBKU09OJiZpc0xvY2FsU3RvcmFnZSl0cnl7dmFyIGI9bG9jYWxTdG9yYWdlLmdldEl0ZW0oIi5kcmF3aW8tY29uZmlnIik7bnVsbCE9YiYmKGE9SlNPTi5wYXJzZShiKS5sYW5ndWFnZXx8bnVsbCl9Y2F0Y2goYyl7aXNMb2NhbFN0b3JhZ2U9ITF9cmV0dXJuIGF9KCk7CndpbmRvdy5teExhbmd1YWdlTWFwPXdpbmRvdy5teExhbmd1YWdlTWFwfHx7aTE4bjoiIixpZDoiQmFoYXNhIEluZG9uZXNpYSIsbXM6IkJhaGFzYSBNZWxheXUiLGJzOiJCb3NhbnNraSIsYmc6IkJ1bGdhcmlhbiIsY2E6IkNhdGFsw6AiLGNzOiLEjGXFoXRpbmEiLGRhOiJEYW5zayIsZGU6IkRldXRzY2giLGV0OiJFZXN0aSIsZW46IkVuZ2xpc2giLGVzOiJFc3Bhw7FvbCIsZXU6IkV1c2thZGkiLGZpbDoiRmlsaXBpbm8iLGZyOiJGcmFuw6dhaXMiLGdsOiJHYWxlZ28iLGl0OiJJdGFsaWFubyIsaHU6Ik1hZ3lhciIsbmw6Ik5lZGVybGFuZHMiLG5vOiJOb3JzayIscGw6IlBvbHNraSIsInB0LWJyIjoiUG9ydHVndcOqcyAoQnJhc2lsKSIscHQ6IlBvcnR1Z3XDqnMgKFBvcnR1Z2FsKSIscm86IlJvbcOibsSDIixmaToiU3VvbWkiLHN2OiJTdmVuc2thIix2aToiVGnhur9uZyBWaeG7h3QiLHRyOiJUw7xya8OnZSIsZWw6Is6VzrvOu863zr3Ouc66zqwiLHJ1OiLQoNGD0YHRgdC60LjQuSIsc3I6ItCh0YDQv9GB0LrQuCIsdWs6ItCj0LrRgNCw0ZfQvdGB0YzQutCwIiwKaGU6Itei15HXqNeZ16oiLGFyOiLYp9mE2LnYsdio2YrYqSIsdGg6IuC5hOC4l+C4oiIsa286Iu2VnOq1reyWtCIsamE6IuaXpeacrOiqniIsemg6IueugOS9k+S4reaWhyIsInpoLXR3Ijoi57mB6auU5Lit5paHIn07InVuZGVmaW5lZCI9PT10eXBlb2Ygd2luZG93Lm14QmFzZVBhdGgmJih3aW5kb3cubXhCYXNlUGF0aD0ibXhncmFwaCIpO2lmKG51bGw9PXdpbmRvdy5teExhbmd1YWdlcyl7d2luZG93Lm14TGFuZ3VhZ2VzPVtdO2Zvcih2YXIgbGFuZyBpbiBteExhbmd1YWdlTWFwKSJlbiIhPWxhbmcmJndpbmRvdy5teExhbmd1YWdlcy5wdXNoKGxhbmcpfQp3aW5kb3cudWlUaGVtZT13aW5kb3cudWlUaGVtZXx8ZnVuY3Rpb24oKXt2YXIgYT11cmxQYXJhbXMudWk7aWYobnVsbD09YSYmInVuZGVmaW5lZCIhPT10eXBlb2YgSlNPTiYmaXNMb2NhbFN0b3JhZ2UpdHJ5e3ZhciBiPWxvY2FsU3RvcmFnZS5nZXRJdGVtKCIuZHJhd2lvLWNvbmZpZyIpO251bGwhPWImJihhPUpTT04ucGFyc2UoYikudWl8fG51bGwpfWNhdGNoKGMpe2lzTG9jYWxTdG9yYWdlPSExfXRyeXtudWxsPT1hJiY0MTQ+PSh3aW5kb3cuaW5uZXJXaWR0aHx8ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRofHxkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoKSYmKGE9Im1pbiIpfWNhdGNoKGMpe31yZXR1cm4gYX0oKTtmdW5jdGlvbiBzZXRDdXJyZW50WG1sKGEsYil7bnVsbCE9d2luZG93LnBhcmVudCYmbnVsbCE9d2luZG93LnBhcmVudC5vcGVuRmlsZSYmd2luZG93LnBhcmVudC5vcGVuRmlsZS5zZXREYXRhKGEsYil9CihmdW5jdGlvbigpe2lmKCJ1bmRlZmluZWQiIT09dHlwZW9mIEpTT04mJmlzTG9jYWxTdG9yYWdlKXRyeXt2YXIgYT1sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiLmRyYXdpby1jb25maWciKSxiPSEwO251bGwhPWEmJihiPUpTT04ucGFyc2UoYSkuc2hvd1N0YXJ0U2NyZWVuKTswPT1iJiYodXJsUGFyYW1zLnNwbGFzaD0iMCIpfWNhdGNoKGQpe31hPXVybFBhcmFtc1siZXhwb3J0Il07bnVsbCE9YSYmKGE9ZGVjb2RlVVJJQ29tcG9uZW50KGEpLCJodHRwOi8vIiE9YS5zdWJzdHJpbmcoMCw3KSYmImh0dHBzOi8vIiE9YS5zdWJzdHJpbmcoMCw4KSYmKGE9Imh0dHA6Ly8iK2EpLEVYUE9SVF9VUkw9YSk7YT11cmxQYXJhbXMuZ2l0bGFiO251bGwhPWEmJihhPWRlY29kZVVSSUNvbXBvbmVudChhKSwiaHR0cDovLyIhPWEuc3Vic3RyaW5nKDAsNykmJiJodHRwczovLyIhPWEuc3Vic3RyaW5nKDAsOCkmJihhPSJodHRwOi8vIithKSxEUkFXSU9fR0lUTEFCX1VSTD1hKTthPXVybFBhcmFtc1siZ2l0bGFiLWlkIl07Cm51bGwhPWEmJihEUkFXSU9fR0lUTEFCX0lEPWEpO3dpbmRvdy5EUkFXSU9fTE9HX1VSTD13aW5kb3cuRFJBV0lPX0xPR19VUkx8fCIiO2E9d2luZG93LmxvY2F0aW9uLmhvc3Q7aWYoInRlc3QuZHJhdy5pbyIhPWEpe3ZhciBjPSJkaWFncmFtcy5uZXQiLGI9YS5sZW5ndGgtYy5sZW5ndGgsYz1hLmxhc3RJbmRleE9mKGMsYik7LTEhPT1jJiZjPT09Yj93aW5kb3cuRFJBV0lPX0xPR19VUkw9Imh0dHBzOi8vbG9nLmRpYWdyYW1zLm5ldCI6KGM9ImRyYXcuaW8iLGI9YS5sZW5ndGgtYy5sZW5ndGgsYz1hLmxhc3RJbmRleE9mKGMsYiksLTEhPT1jJiZjPT09YiYmKHdpbmRvdy5EUkFXSU9fTE9HX1VSTD0iaHR0cHM6Ly9sb2cuZHJhdy5pbyIpKX19KSgpOwppZigiMSI9PXVybFBhcmFtcy5vZmZsaW5lfHwiMSI9PXVybFBhcmFtcy5kZW1vfHwiMSI9PXVybFBhcmFtcy5zdGVhbHRofHwiMSI9PXVybFBhcmFtcy5sb2NhbCl1cmxQYXJhbXMucGlja2VyPSIwIix1cmxQYXJhbXMuZ2FwaT0iMCIsdXJsUGFyYW1zLmRiPSIwIix1cmxQYXJhbXMub2Q9IjAiLHVybFBhcmFtcy5naD0iMCIsdXJsUGFyYW1zLmdsPSIwIix1cmxQYXJhbXMudHI9IjAiO2lmKCIxIj09dXJsUGFyYW1zLm9mZmxpbmV8fCIxIj09dXJsUGFyYW1zLmxvY2FsKXVybFBhcmFtcy5tYXRoPSIwIjsiMSI9PXVybFBhcmFtcy5saWdodGJveCYmKHVybFBhcmFtcy5jaHJvbWU9IjAiKTsobnVsbD09d2luZG93LmxvY2F0aW9uLmhhc2h8fDE+PXdpbmRvdy5sb2NhdGlvbi5oYXNoLmxlbmd0aCkmJm51bGwhPXVybFBhcmFtcy5vcGVuJiYod2luZG93LmxvY2F0aW9uLmhhc2g9dXJsUGFyYW1zLm9wZW4pO3dpbmRvdy51cmxQYXJhbXM9d2luZG93LnVybFBhcmFtc3x8e307d2luZG93Lk1BWF9SRVFVRVNUX1NJWkU9d2luZG93Lk1BWF9SRVFVRVNUX1NJWkV8fDEwNDg1NzYwO3dpbmRvdy5NQVhfQVJFQT13aW5kb3cuTUFYX0FSRUF8fDIyNUU2O3dpbmRvdy5FWFBPUlRfVVJMPXdpbmRvdy5FWFBPUlRfVVJMfHwiL2V4cG9ydCI7d2luZG93LlNBVkVfVVJMPXdpbmRvdy5TQVZFX1VSTHx8Ii9zYXZlIjt3aW5kb3cuT1BFTl9VUkw9d2luZG93Lk9QRU5fVVJMfHwiL29wZW4iO3dpbmRvdy5SRVNPVVJDRVNfUEFUSD13aW5kb3cuUkVTT1VSQ0VTX1BBVEh8fCJyZXNvdXJjZXMiO3dpbmRvdy5SRVNPVVJDRV9CQVNFPXdpbmRvdy5SRVNPVVJDRV9CQVNFfHx3aW5kb3cuUkVTT1VSQ0VTX1BBVEgrIi9ncmFwaGVkaXRvciI7d2luZG93LlNURU5DSUxfUEFUSD13aW5kb3cuU1RFTkNJTF9QQVRIfHwic3RlbmNpbHMiO3dpbmRvdy5JTUFHRV9QQVRIPXdpbmRvdy5JTUFHRV9QQVRIfHwiaW1hZ2VzIjsKd2luZG93LlNUWUxFX1BBVEg9d2luZG93LlNUWUxFX1BBVEh8fCJzdHlsZXMiO3dpbmRvdy5DU1NfUEFUSD13aW5kb3cuQ1NTX1BBVEh8fCJzdHlsZXMiO3dpbmRvdy5PUEVOX0ZPUk09d2luZG93Lk9QRU5fRk9STXx8Im9wZW4uaHRtbCI7d2luZG93Lm14QmFzZVBhdGg9d2luZG93Lm14QmFzZVBhdGh8fCIuLi8uLi8uLi9zcmMiO3dpbmRvdy5teExhbmd1YWdlPXdpbmRvdy5teExhbmd1YWdlfHx1cmxQYXJhbXMubGFuZzt3aW5kb3cubXhMYW5ndWFnZXM9d2luZG93Lm14TGFuZ3VhZ2VzfHxbImRlIiwic2UiXTt2YXIgbXhDbGllbnQ9e1ZFUlNJT046IjQuMi4wIixJU19JRTpudWxsIT1uYXZpZ2F0b3IudXNlckFnZW50JiYwPD1uYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIk1TSUUiKSxJU19JRTY6bnVsbCE9bmF2aWdhdG9yLnVzZXJBZ2VudCYmMDw9bmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJNU0lFIDYiKSxJU19JRTExOm51bGwhPW5hdmlnYXRvci51c2VyQWdlbnQmJiEhbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvVHJpZGVudFwvN1wuLyksSVNfRURHRTpudWxsIT1uYXZpZ2F0b3IudXNlckFnZW50JiYhIW5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL0VkZ2VcLy8pLElTX1FVSVJLUzpudWxsIT1uYXZpZ2F0b3IudXNlckFnZW50JiYwPD1uYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIk1TSUUiKSYmKG51bGw9PWRvY3VtZW50LmRvY3VtZW50TW9kZXx8NT09ZG9jdW1lbnQuZG9jdW1lbnRNb2RlKSxJU19FTToic3BlbGxjaGVjayJpbiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ZXh0YXJlYSIpJiYKOD09ZG9jdW1lbnQuZG9jdW1lbnRNb2RlLFZNTF9QUkVGSVg6InYiLE9GRklDRV9QUkVGSVg6Im8iLElTX05TOm51bGwhPW5hdmlnYXRvci51c2VyQWdlbnQmJjA8PW5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiTW96aWxsYS8iKSYmMD5uYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIk1TSUUiKSYmMD5uYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIkVkZ2UvIiksSVNfT1A6bnVsbCE9bmF2aWdhdG9yLnVzZXJBZ2VudCYmKDA8PW5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiT3BlcmEvIil8fDA8PW5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiT1BSLyIpKSxJU19PVDpudWxsIT1uYXZpZ2F0b3IudXNlckFnZW50JiYwPD1uYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIlByZXN0by8iKSYmMD5uYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIlByZXN0by8yLjQuIikmJjA+bmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJQcmVzdG8vMi4zLiIpJiYwPm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiUHJlc3RvLzIuMi4iKSYmCjA+bmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJQcmVzdG8vMi4xLiIpJiYwPm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiUHJlc3RvLzIuMC4iKSYmMD5uYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIlByZXN0by8xLiIpLElTX1NGOi9BcHBsZSBDb21wdXRlciwgSW5jLy50ZXN0KG5hdmlnYXRvci52ZW5kb3IpLElTX0FORFJPSUQ6MDw9bmF2aWdhdG9yLmFwcFZlcnNpb24uaW5kZXhPZigiQW5kcm9pZCIpLElTX0lPUzovaVAoaG9uZXxvZHxhZCkvLnRlc3QobmF2aWdhdG9yLnBsYXRmb3JtKSxJU19HQzovR29vZ2xlIEluYy8udGVzdChuYXZpZ2F0b3IudmVuZG9yKSxJU19DSFJPTUVBUFA6bnVsbCE9d2luZG93LmNocm9tZSYmbnVsbCE9Y2hyb21lLmFwcCYmbnVsbCE9Y2hyb21lLmFwcC5ydW50aW1lLElTX0ZGOiJ1bmRlZmluZWQiIT09dHlwZW9mIEluc3RhbGxUcmlnZ2VyLElTX01UOjA8PW5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiRmlyZWZveC8iKSYmMD4KbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJGaXJlZm94LzEuIikmJjA+bmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJGaXJlZm94LzIuIil8fDA8PW5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiSWNld2Vhc2VsLyIpJiYwPm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiSWNld2Vhc2VsLzEuIikmJjA+bmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJJY2V3ZWFzZWwvMi4iKXx8MDw9bmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJTZWFNb25rZXkvIikmJjA+bmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJTZWFNb25rZXkvMS4iKXx8MDw9bmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJJY2VhcGUvIikmJjA+bmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJJY2VhcGUvMS4iKSxJU19WTUw6Ik1JQ1JPU09GVCBJTlRFUk5FVCBFWFBMT1JFUiI9PW5hdmlnYXRvci5hcHBOYW1lLnRvVXBwZXJDYXNlKCksSVNfU1ZHOiJNSUNST1NPRlQgSU5URVJORVQgRVhQTE9SRVIiIT0KbmF2aWdhdG9yLmFwcE5hbWUudG9VcHBlckNhc2UoKSxOT19GTzohZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TfHwiW29iamVjdCBTVkdGb3JlaWduT2JqZWN0RWxlbWVudF0iIT1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiwiZm9yZWlnbk9iamVjdCIpfHwwPD1uYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIk9wZXJhLyIpLElTX1dJTjowPG5hdmlnYXRvci5hcHBWZXJzaW9uLmluZGV4T2YoIldpbiIpLElTX01BQzowPG5hdmlnYXRvci5hcHBWZXJzaW9uLmluZGV4T2YoIk1hYyIpLElTX0NIUk9NRU9TOi9cYkNyT1NcYi8udGVzdChuYXZpZ2F0b3IuYXBwVmVyc2lvbiksSVNfVE9VQ0g6Im9udG91Y2hzdGFydCJpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsSVNfUE9JTlRFUjpudWxsIT13aW5kb3cuUG9pbnRlckV2ZW50JiYhKDA8bmF2aWdhdG9yLmFwcFZlcnNpb24uaW5kZXhPZigiTWFjIikpLElTX0xPQ0FMOjA+ZG9jdW1lbnQubG9jYXRpb24uaHJlZi5pbmRleE9mKCJodHRwOi8vIikmJgowPmRvY3VtZW50LmxvY2F0aW9uLmhyZWYuaW5kZXhPZigiaHR0cHM6Ly8iKSxkZWZhdWx0QnVuZGxlczpbXSxpc0Jyb3dzZXJTdXBwb3J0ZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gbXhDbGllbnQuSVNfVk1MfHxteENsaWVudC5JU19TVkd9LGxpbms6ZnVuY3Rpb24oYSxiLGMsZCl7Yz1jfHxkb2N1bWVudDtpZihteENsaWVudC5JU19JRTYpYy53cml0ZSgnPGxpbmsgcmVsPSInK2ErJyIgaHJlZj0iJytiKyciIGNoYXJzZXQ9IlVURi04IiB0eXBlPSJ0ZXh0L2NzcyIvPicpO2Vsc2V7dmFyIGU9Yy5jcmVhdGVFbGVtZW50KCJsaW5rIik7ZS5zZXRBdHRyaWJ1dGUoInJlbCIsYSk7ZS5zZXRBdHRyaWJ1dGUoImhyZWYiLGIpO2Uuc2V0QXR0cmlidXRlKCJjaGFyc2V0IiwiVVRGLTgiKTtlLnNldEF0dHJpYnV0ZSgidHlwZSIsInRleHQvY3NzIik7ZCYmZS5zZXRBdHRyaWJ1dGUoImlkIixkKTtjLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJoZWFkIilbMF0uYXBwZW5kQ2hpbGQoZSl9fSxsb2FkUmVzb3VyY2VzOmZ1bmN0aW9uKGEsCmIpe2Z1bmN0aW9uIGMoKXswPT0tLWQmJmEoKX1mb3IodmFyIGQ9bXhDbGllbnQuZGVmYXVsdEJ1bmRsZXMubGVuZ3RoLGU9MDtlPG14Q2xpZW50LmRlZmF1bHRCdW5kbGVzLmxlbmd0aDtlKyspbXhSZXNvdXJjZXMuYWRkKG14Q2xpZW50LmRlZmF1bHRCdW5kbGVzW2VdLGIsYyl9LGluY2x1ZGU6ZnVuY3Rpb24oYSl7ZG9jdW1lbnQud3JpdGUoJzxzY3JpcHQgc3JjPSInK2ErJyI+XHgzYy9zY3JpcHQ+Jyl9fTsidW5kZWZpbmVkIj09dHlwZW9mIG14TG9hZFJlc291cmNlcyYmKG14TG9hZFJlc291cmNlcz0hMCk7InVuZGVmaW5lZCI9PXR5cGVvZiBteEZvcmNlSW5jbHVkZXMmJihteEZvcmNlSW5jbHVkZXM9ITEpOyJ1bmRlZmluZWQiPT10eXBlb2YgbXhSZXNvdXJjZUV4dGVuc2lvbiYmKG14UmVzb3VyY2VFeHRlbnNpb249Ii50eHQiKTsidW5kZWZpbmVkIj09dHlwZW9mIG14TG9hZFN0eWxlc2hlZXRzJiYobXhMb2FkU3R5bGVzaGVldHM9ITApOwoidW5kZWZpbmVkIiE9dHlwZW9mIG14QmFzZVBhdGgmJjA8bXhCYXNlUGF0aC5sZW5ndGg/KCIvIj09bXhCYXNlUGF0aC5zdWJzdHJpbmcobXhCYXNlUGF0aC5sZW5ndGgtMSkmJihteEJhc2VQYXRoPW14QmFzZVBhdGguc3Vic3RyaW5nKDAsbXhCYXNlUGF0aC5sZW5ndGgtMSkpLG14Q2xpZW50LmJhc2VQYXRoPW14QmFzZVBhdGgpOm14Q2xpZW50LmJhc2VQYXRoPSIuIjsidW5kZWZpbmVkIiE9dHlwZW9mIG14SW1hZ2VCYXNlUGF0aCYmMDxteEltYWdlQmFzZVBhdGgubGVuZ3RoPygiLyI9PW14SW1hZ2VCYXNlUGF0aC5zdWJzdHJpbmcobXhJbWFnZUJhc2VQYXRoLmxlbmd0aC0xKSYmKG14SW1hZ2VCYXNlUGF0aD1teEltYWdlQmFzZVBhdGguc3Vic3RyaW5nKDAsbXhJbWFnZUJhc2VQYXRoLmxlbmd0aC0xKSksbXhDbGllbnQuaW1hZ2VCYXNlUGF0aD1teEltYWdlQmFzZVBhdGgpOm14Q2xpZW50LmltYWdlQmFzZVBhdGg9bXhDbGllbnQuYmFzZVBhdGgrIi9pbWFnZXMiOwpteENsaWVudC5sYW5ndWFnZT0idW5kZWZpbmVkIiE9dHlwZW9mIG14TGFuZ3VhZ2UmJm51bGwhPW14TGFuZ3VhZ2U/bXhMYW5ndWFnZTpteENsaWVudC5JU19JRT9uYXZpZ2F0b3IudXNlckxhbmd1YWdlOm5hdmlnYXRvci5sYW5ndWFnZTtteENsaWVudC5kZWZhdWx0TGFuZ3VhZ2U9InVuZGVmaW5lZCIhPXR5cGVvZiBteERlZmF1bHRMYW5ndWFnZSYmbnVsbCE9bXhEZWZhdWx0TGFuZ3VhZ2U/bXhEZWZhdWx0TGFuZ3VhZ2U6ImVuIjtteExvYWRTdHlsZXNoZWV0cyYmbXhDbGllbnQubGluaygic3R5bGVzaGVldCIsbXhDbGllbnQuYmFzZVBhdGgrIi9jc3MvY29tbW9uLmNzcyIpOyJ1bmRlZmluZWQiIT10eXBlb2YgbXhMYW5ndWFnZXMmJm51bGwhPW14TGFuZ3VhZ2VzJiYobXhDbGllbnQubGFuZ3VhZ2VzPW14TGFuZ3VhZ2VzKTsKbXhDbGllbnQuSVNfVk1MJiYobXhDbGllbnQuSVNfU1ZHP214Q2xpZW50LklTX1ZNTD0hMToobnVsbCE9ZG9jdW1lbnQubmFtZXNwYWNlcyYmKDg9PWRvY3VtZW50LmRvY3VtZW50TW9kZT8oZG9jdW1lbnQubmFtZXNwYWNlcy5hZGQobXhDbGllbnQuVk1MX1BSRUZJWCwidXJuOnNjaGVtYXMtbWljcm9zb2Z0LWNvbTp2bWwiLCIjZGVmYXVsdCNWTUwiKSxkb2N1bWVudC5uYW1lc3BhY2VzLmFkZChteENsaWVudC5PRkZJQ0VfUFJFRklYLCJ1cm46c2NoZW1hcy1taWNyb3NvZnQtY29tOm9mZmljZTpvZmZpY2UiLCIjZGVmYXVsdCNWTUwiKSk6KGRvY3VtZW50Lm5hbWVzcGFjZXMuYWRkKG14Q2xpZW50LlZNTF9QUkVGSVgsInVybjpzY2hlbWFzLW1pY3Jvc29mdC1jb206dm1sIiksZG9jdW1lbnQubmFtZXNwYWNlcy5hZGQobXhDbGllbnQuT0ZGSUNFX1BSRUZJWCwidXJuOnNjaGVtYXMtbWljcm9zb2Z0LWNvbTpvZmZpY2U6b2ZmaWNlIikpKSxteENsaWVudC5JU19RVUlSS1MmJjMwPD1kb2N1bWVudC5zdHlsZVNoZWV0cy5sZW5ndGg/CmZ1bmN0aW9uKCl7dmFyIGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3R5bGUiKTthLnR5cGU9InRleHQvY3NzIjthLnN0eWxlU2hlZXQuY3NzVGV4dD1teENsaWVudC5WTUxfUFJFRklYKyJcXDoqe2JlaGF2aW9yOnVybCgjZGVmYXVsdCNWTUwpfSIrbXhDbGllbnQuT0ZGSUNFX1BSRUZJWCsiXFw6KntiZWhhdmlvcjp1cmwoI2RlZmF1bHQjVk1MKX0iO2RvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJoZWFkIilbMF0uYXBwZW5kQ2hpbGQoYSl9KCk6ZG9jdW1lbnQuY3JlYXRlU3R5bGVTaGVldCgpLmNzc1RleHQ9bXhDbGllbnQuVk1MX1BSRUZJWCsiXFw6KntiZWhhdmlvcjp1cmwoI2RlZmF1bHQjVk1MKX0iK214Q2xpZW50Lk9GRklDRV9QUkVGSVgrIlxcOip7YmVoYXZpb3I6dXJsKCNkZWZhdWx0I1ZNTCl9IixteExvYWRTdHlsZXNoZWV0cyYmbXhDbGllbnQubGluaygic3R5bGVzaGVldCIsbXhDbGllbnQuYmFzZVBhdGgrIi9jc3MvZXhwbG9yZXIuY3NzIikpKTsKdmFyIG14TG9nPXtjb25zb2xlTmFtZToiQ29uc29sZSIsVFJBQ0U6ITEsREVCVUc6ITAsV0FSTjohMCxidWZmZXI6IiIsaW5pdDpmdW5jdGlvbigpe2lmKG51bGw9PW14TG9nLndpbmRvdyYmbnVsbCE9ZG9jdW1lbnQuYm9keSl7dmFyIGE9bXhMb2cuY29uc29sZU5hbWUrIiAtIG14R3JhcGggIitteENsaWVudC5WRVJTSU9OLGI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGFibGUiKTtiLnNldEF0dHJpYnV0ZSgid2lkdGgiLCIxMDAlIik7Yi5zZXRBdHRyaWJ1dGUoImhlaWdodCIsIjEwMCUiKTt2YXIgYz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0Ym9keSIpLGQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidHIiKSxlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRkIik7ZS5zdHlsZS52ZXJ0aWNhbEFsaWduPSJ0b3AiO214TG9nLnRleHRhcmVhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRleHRhcmVhIik7bXhMb2cudGV4dGFyZWEuc2V0QXR0cmlidXRlKCJ3cmFwIiwib2ZmIik7Cm14TG9nLnRleHRhcmVhLnNldEF0dHJpYnV0ZSgicmVhZE9ubHkiLCJ0cnVlIik7bXhMb2cudGV4dGFyZWEuc3R5bGUuaGVpZ2h0PSIxMDAlIjtteExvZy50ZXh0YXJlYS5zdHlsZS5yZXNpemU9Im5vbmUiO214TG9nLnRleHRhcmVhLnZhbHVlPW14TG9nLmJ1ZmZlcjtteExvZy50ZXh0YXJlYS5zdHlsZS53aWR0aD1teENsaWVudC5JU19OUyYmIkJhY2tDb21wYXQiIT1kb2N1bWVudC5jb21wYXRNb2RlPyI5OSUiOiIxMDAlIjtlLmFwcGVuZENoaWxkKG14TG9nLnRleHRhcmVhKTtkLmFwcGVuZENoaWxkKGUpO2MuYXBwZW5kQ2hpbGQoZCk7ZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ciIpO214TG9nLnRkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRkIik7bXhMb2cudGQuc3R5bGUudmVydGljYWxBbGlnbj0idG9wIjtteExvZy50ZC5zZXRBdHRyaWJ1dGUoImhlaWdodCIsIjMwcHgiKTtkLmFwcGVuZENoaWxkKG14TG9nLnRkKTtjLmFwcGVuZENoaWxkKGQpO2IuYXBwZW5kQ2hpbGQoYyk7Cm14TG9nLmFkZEJ1dHRvbigiSW5mbyIsZnVuY3Rpb24oYSl7bXhMb2cuaW5mbygpfSk7bXhMb2cuYWRkQnV0dG9uKCJET00iLGZ1bmN0aW9uKGEpe2E9bXhVdGlscy5nZXRJbm5lckh0bWwoZG9jdW1lbnQuYm9keSk7bXhMb2cuZGVidWcoYSl9KTtteExvZy5hZGRCdXR0b24oIlRyYWNlIixmdW5jdGlvbihhKXtteExvZy5UUkFDRT0hbXhMb2cuVFJBQ0U7bXhMb2cuVFJBQ0U/bXhMb2cuZGVidWcoIlRyYWNpbmcgZW5hYmxlZCIpOm14TG9nLmRlYnVnKCJUcmFjaW5nIGRpc2FibGVkIil9KTtteExvZy5hZGRCdXR0b24oIkNvcHkiLGZ1bmN0aW9uKGEpe3RyeXtteFV0aWxzLmNvcHkobXhMb2cudGV4dGFyZWEudmFsdWUpfWNhdGNoKGspe214VXRpbHMuYWxlcnQoayl9fSk7bXhMb2cuYWRkQnV0dG9uKCJTaG93IixmdW5jdGlvbihhKXt0cnl7bXhVdGlscy5wb3B1cChteExvZy50ZXh0YXJlYS52YWx1ZSl9Y2F0Y2goayl7bXhVdGlscy5hbGVydChrKX19KTtteExvZy5hZGRCdXR0b24oIkNsZWFyIiwKZnVuY3Rpb24oYSl7bXhMb2cudGV4dGFyZWEudmFsdWU9IiJ9KTtkPWM9MDsibnVtYmVyIj09PXR5cGVvZiB3aW5kb3cuaW5uZXJXaWR0aD8oYz13aW5kb3cuaW5uZXJIZWlnaHQsZD13aW5kb3cuaW5uZXJXaWR0aCk6KGM9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodHx8ZG9jdW1lbnQuYm9keS5jbGllbnRIZWlnaHQsZD1kb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoKTtteExvZy53aW5kb3c9bmV3IG14V2luZG93KGEsYixNYXRoLm1heCgwLGQtMzIwKSxNYXRoLm1heCgwLGMtMjEwKSwzMDAsMTYwKTtteExvZy53aW5kb3cuc2V0TWF4aW1pemFibGUoITApO214TG9nLndpbmRvdy5zZXRTY3JvbGxhYmxlKCExKTtteExvZy53aW5kb3cuc2V0UmVzaXphYmxlKCEwKTtteExvZy53aW5kb3cuc2V0Q2xvc2FibGUoITApO214TG9nLndpbmRvdy5kZXN0cm95T25DbG9zZT0hMTtpZigobXhDbGllbnQuSVNfTlN8fG14Q2xpZW50LklTX0lFKSYmIW14Q2xpZW50LklTX0dDJiYKIW14Q2xpZW50LklTX1NGJiYiQmFja0NvbXBhdCIhPWRvY3VtZW50LmNvbXBhdE1vZGV8fDExPT1kb2N1bWVudC5kb2N1bWVudE1vZGUpe3ZhciBmPW14TG9nLndpbmRvdy5nZXRFbGVtZW50KCksYT1mdW5jdGlvbihhLGIpe214TG9nLnRleHRhcmVhLnN0eWxlLmhlaWdodD1NYXRoLm1heCgwLGYub2Zmc2V0SGVpZ2h0LTcwKSsicHgifTtteExvZy53aW5kb3cuYWRkTGlzdGVuZXIobXhFdmVudC5SRVNJWkVfRU5ELGEpO214TG9nLndpbmRvdy5hZGRMaXN0ZW5lcihteEV2ZW50Lk1BWElNSVpFLGEpO214TG9nLndpbmRvdy5hZGRMaXN0ZW5lcihteEV2ZW50Lk5PUk1BTElaRSxhKTtteExvZy50ZXh0YXJlYS5zdHlsZS5oZWlnaHQ9IjkycHgifX19LGluZm86ZnVuY3Rpb24oKXtteExvZy53cml0ZWxuKG14VXRpbHMudG9TdHJpbmcobmF2aWdhdG9yKSl9LGFkZEJ1dHRvbjpmdW5jdGlvbihhLGIpe3ZhciBjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImJ1dHRvbiIpO214VXRpbHMud3JpdGUoYywKYSk7bXhFdmVudC5hZGRMaXN0ZW5lcihjLCJjbGljayIsYik7bXhMb2cudGQuYXBwZW5kQ2hpbGQoYyl9LGlzVmlzaWJsZTpmdW5jdGlvbigpe3JldHVybiBudWxsIT1teExvZy53aW5kb3c/bXhMb2cud2luZG93LmlzVmlzaWJsZSgpOiExfSxzaG93OmZ1bmN0aW9uKCl7bXhMb2cuc2V0VmlzaWJsZSghMCl9LHNldFZpc2libGU6ZnVuY3Rpb24oYSl7bnVsbD09bXhMb2cud2luZG93JiZteExvZy5pbml0KCk7bnVsbCE9bXhMb2cud2luZG93JiZteExvZy53aW5kb3cuc2V0VmlzaWJsZShhKX0sZW50ZXI6ZnVuY3Rpb24oYSl7aWYobXhMb2cuVFJBQ0UpcmV0dXJuIG14TG9nLndyaXRlbG4oIkVudGVyaW5nICIrYSksKG5ldyBEYXRlKS5nZXRUaW1lKCl9LGxlYXZlOmZ1bmN0aW9uKGEsYil7aWYobXhMb2cuVFJBQ0Upe3ZhciBjPTAhPWI/IiAoIisoKG5ldyBEYXRlKS5nZXRUaW1lKCktYikrIiBtcykiOiIiO214TG9nLndyaXRlbG4oIkxlYXZpbmcgIithK2MpfX0sZGVidWc6ZnVuY3Rpb24oKXtteExvZy5ERUJVRyYmCm14TG9nLndyaXRlbG4uYXBwbHkodGhpcyxhcmd1bWVudHMpfSx3YXJuOmZ1bmN0aW9uKCl7bXhMb2cuV0FSTiYmbXhMb2cud3JpdGVsbi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LHdyaXRlOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPSIiLGI9MDtiPGFyZ3VtZW50cy5sZW5ndGg7YisrKWErPWFyZ3VtZW50c1tiXSxiPGFyZ3VtZW50cy5sZW5ndGgtMSYmKGErPSIgIik7bnVsbCE9bXhMb2cudGV4dGFyZWE/KG14TG9nLnRleHRhcmVhLnZhbHVlKz1hLG51bGwhPW5hdmlnYXRvci51c2VyQWdlbnQmJjA8PW5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiUHJlc3RvLzIuNSIpJiYobXhMb2cudGV4dGFyZWEuc3R5bGUudmlzaWJpbGl0eT0iaGlkZGVuIixteExvZy50ZXh0YXJlYS5zdHlsZS52aXNpYmlsaXR5PSJ2aXNpYmxlIiksbXhMb2cudGV4dGFyZWEuc2Nyb2xsVG9wPW14TG9nLnRleHRhcmVhLnNjcm9sbEhlaWdodCk6bXhMb2cuYnVmZmVyKz1hfSx3cml0ZWxuOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPQoiIixiPTA7Yjxhcmd1bWVudHMubGVuZ3RoO2IrKylhKz1hcmd1bWVudHNbYl0sYjxhcmd1bWVudHMubGVuZ3RoLTEmJihhKz0iICIpO214TG9nLndyaXRlKGErIlxuIil9fSxteE9iamVjdElkZW50aXR5PXtGSUVMRF9OQU1FOiJteE9iamVjdElkIixjb3VudGVyOjAsZ2V0OmZ1bmN0aW9uKGEpe2lmKG51bGwhPWEpe2lmKG51bGw9PWFbbXhPYmplY3RJZGVudGl0eS5GSUVMRF9OQU1FXSlpZigib2JqZWN0Ij09PXR5cGVvZiBhKXt2YXIgYj1teFV0aWxzLmdldEZ1bmN0aW9uTmFtZShhLmNvbnN0cnVjdG9yKTthW214T2JqZWN0SWRlbnRpdHkuRklFTERfTkFNRV09YisiIyIrbXhPYmplY3RJZGVudGl0eS5jb3VudGVyKyt9ZWxzZSJmdW5jdGlvbiI9PT10eXBlb2YgYSYmKGFbbXhPYmplY3RJZGVudGl0eS5GSUVMRF9OQU1FXT0iRnVuY3Rpb24jIitteE9iamVjdElkZW50aXR5LmNvdW50ZXIrKyk7cmV0dXJuIGFbbXhPYmplY3RJZGVudGl0eS5GSUVMRF9OQU1FXX1yZXR1cm4gbnVsbH0sCmNsZWFyOmZ1bmN0aW9uKGEpeyJvYmplY3QiIT09dHlwZW9mIGEmJiJmdW5jdGlvbiIhPT10eXBlb2YgYXx8ZGVsZXRlIGFbbXhPYmplY3RJZGVudGl0eS5GSUVMRF9OQU1FXX19O2Z1bmN0aW9uIG14RGljdGlvbmFyeSgpe3RoaXMuY2xlYXIoKX1teERpY3Rpb25hcnkucHJvdG90eXBlLm1hcD1udWxsO214RGljdGlvbmFyeS5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXt0aGlzLm1hcD17fX07bXhEaWN0aW9uYXJ5LnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oYSl7YT1teE9iamVjdElkZW50aXR5LmdldChhKTtyZXR1cm4gdGhpcy5tYXBbYV19O214RGljdGlvbmFyeS5wcm90b3R5cGUucHV0PWZ1bmN0aW9uKGEsYil7dmFyIGM9bXhPYmplY3RJZGVudGl0eS5nZXQoYSksZD10aGlzLm1hcFtjXTt0aGlzLm1hcFtjXT1iO3JldHVybiBkfTsKbXhEaWN0aW9uYXJ5LnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oYSl7YT1teE9iamVjdElkZW50aXR5LmdldChhKTt2YXIgYj10aGlzLm1hcFthXTtkZWxldGUgdGhpcy5tYXBbYV07cmV0dXJuIGJ9O214RGljdGlvbmFyeS5wcm90b3R5cGUuZ2V0S2V5cz1mdW5jdGlvbigpe3ZhciBhPVtdLGI7Zm9yKGIgaW4gdGhpcy5tYXApYS5wdXNoKGIpO3JldHVybiBhfTtteERpY3Rpb25hcnkucHJvdG90eXBlLmdldFZhbHVlcz1mdW5jdGlvbigpe3ZhciBhPVtdLGI7Zm9yKGIgaW4gdGhpcy5tYXApYS5wdXNoKHRoaXMubWFwW2JdKTtyZXR1cm4gYX07bXhEaWN0aW9uYXJ5LnByb3RvdHlwZS52aXNpdD1mdW5jdGlvbihhKXtmb3IodmFyIGIgaW4gdGhpcy5tYXApYShiLHRoaXMubWFwW2JdKX07CnZhciBteFJlc291cmNlcz17cmVzb3VyY2VzOnt9LGV4dGVuc2lvbjpteFJlc291cmNlRXh0ZW5zaW9uLHJlc291cmNlc0VuY29kZWQ6ITEsbG9hZERlZmF1bHRCdW5kbGU6ITAsbG9hZFNwZWNpYWxCdW5kbGU6ITAsaXNMYW5ndWFnZVN1cHBvcnRlZDpmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9bXhDbGllbnQubGFuZ3VhZ2VzPzA8PW14VXRpbHMuaW5kZXhPZihteENsaWVudC5sYW5ndWFnZXMsYSk6ITB9LGdldERlZmF1bHRCdW5kbGU6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbXhSZXNvdXJjZXMubG9hZERlZmF1bHRCdW5kbGV8fCFteFJlc291cmNlcy5pc0xhbmd1YWdlU3VwcG9ydGVkKGIpP2ErbXhSZXNvdXJjZXMuZXh0ZW5zaW9uOm51bGx9LGdldFNwZWNpYWxCdW5kbGU6ZnVuY3Rpb24oYSxiKXtpZihudWxsPT1teENsaWVudC5sYW5ndWFnZXN8fCF0aGlzLmlzTGFuZ3VhZ2VTdXBwb3J0ZWQoYikpe3ZhciBjPWIuaW5kZXhPZigiLSIpOzA8YyYmKGI9Yi5zdWJzdHJpbmcoMCxjKSl9cmV0dXJuIG14UmVzb3VyY2VzLmxvYWRTcGVjaWFsQnVuZGxlJiYKbXhSZXNvdXJjZXMuaXNMYW5ndWFnZVN1cHBvcnRlZChiKSYmYiE9bXhDbGllbnQuZGVmYXVsdExhbmd1YWdlP2ErIl8iK2IrbXhSZXNvdXJjZXMuZXh0ZW5zaW9uOm51bGx9LGFkZDpmdW5jdGlvbihhLGIsYyl7Yj1udWxsIT1iP2I6bnVsbCE9bXhDbGllbnQubGFuZ3VhZ2U/bXhDbGllbnQubGFuZ3VhZ2UudG9Mb3dlckNhc2UoKTpteENvbnN0YW50cy5OT05FO2lmKGIhPW14Q29uc3RhbnRzLk5PTkUpe3ZhciBkPW14UmVzb3VyY2VzLmdldERlZmF1bHRCdW5kbGUoYSxiKSxlPW14UmVzb3VyY2VzLmdldFNwZWNpYWxCdW5kbGUoYSxiKSxmPWZ1bmN0aW9uKCl7aWYobnVsbCE9ZSlpZihjKW14VXRpbHMuZ2V0KGUsZnVuY3Rpb24oYSl7bXhSZXNvdXJjZXMucGFyc2UoYS5nZXRUZXh0KCkpO2MoKX0sZnVuY3Rpb24oKXtjKCl9KTtlbHNlIHRyeXt2YXIgYT1teFV0aWxzLmxvYWQoZSk7YS5pc1JlYWR5KCkmJm14UmVzb3VyY2VzLnBhcnNlKGEuZ2V0VGV4dCgpKX1jYXRjaChsKXt9ZWxzZSBudWxsIT0KYyYmYygpfTtpZihudWxsIT1kKWlmKGMpbXhVdGlscy5nZXQoZCxmdW5jdGlvbihhKXtteFJlc291cmNlcy5wYXJzZShhLmdldFRleHQoKSk7ZigpfSxmdW5jdGlvbigpe2YoKX0pO2Vsc2UgdHJ5e3ZhciBnPW14VXRpbHMubG9hZChkKTtnLmlzUmVhZHkoKSYmbXhSZXNvdXJjZXMucGFyc2UoZy5nZXRUZXh0KCkpO2YoKX1jYXRjaChrKXt9ZWxzZSBmKCl9fSxwYXJzZTpmdW5jdGlvbihhKXtpZihudWxsIT1hKXthPWEuc3BsaXQoIlxuIik7Zm9yKHZhciBiPTA7YjxhLmxlbmd0aDtiKyspaWYoIiMiIT1hW2JdLmNoYXJBdCgwKSl7dmFyIGM9YVtiXS5pbmRleE9mKCI9Iik7aWYoMDxjKXt2YXIgZD1hW2JdLnN1YnN0cmluZygwLGMpLGU9YVtiXS5sZW5ndGg7MTM9PWFbYl0uY2hhckNvZGVBdChlLTEpJiZlLS07Yz1hW2JdLnN1YnN0cmluZyhjKzEsZSk7dGhpcy5yZXNvdXJjZXNFbmNvZGVkPyhjPWMucmVwbGFjZSgvXFwoPz11W2EtZkEtRlxkXXs0fSkvZywiJSIpLG14UmVzb3VyY2VzLnJlc291cmNlc1tkXT0KdW5lc2NhcGUoYykpOm14UmVzb3VyY2VzLnJlc291cmNlc1tkXT1jfX19fSxnZXQ6ZnVuY3Rpb24oYSxiLGMpe2E9bXhSZXNvdXJjZXMucmVzb3VyY2VzW2FdO251bGw9PWEmJihhPWMpO251bGwhPWEmJm51bGwhPWImJihhPW14UmVzb3VyY2VzLnJlcGxhY2VQbGFjZWhvbGRlcnMoYSxiKSk7cmV0dXJuIGF9LHJlcGxhY2VQbGFjZWhvbGRlcnM6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9W10sZD1udWxsLGU9MDtlPGEubGVuZ3RoO2UrKyl7dmFyIGY9YS5jaGFyQXQoZSk7InsiPT1mP2Q9IiI6bnVsbCE9ZCYmIn0iPT1mPyhkPXBhcnNlSW50KGQpLTEsMDw9ZCYmZDxiLmxlbmd0aCYmYy5wdXNoKGJbZF0pLGQ9bnVsbCk6bnVsbCE9ZD9kKz1mOmMucHVzaChmKX1yZXR1cm4gYy5qb2luKCIiKX0sbG9hZFJlc291cmNlczpmdW5jdGlvbihhKXtteFJlc291cmNlcy5hZGQobXhDbGllbnQuYmFzZVBhdGgrIi9yZXNvdXJjZXMvZWRpdG9yIixudWxsLGZ1bmN0aW9uKCl7bXhSZXNvdXJjZXMuYWRkKG14Q2xpZW50LmJhc2VQYXRoKwoiL3Jlc291cmNlcy9ncmFwaCIsbnVsbCxhKX0pfX07ZnVuY3Rpb24gbXhQb2ludChhLGIpe3RoaXMueD1udWxsIT1hP2E6MDt0aGlzLnk9bnVsbCE9Yj9iOjB9bXhQb2ludC5wcm90b3R5cGUueD1udWxsO214UG9pbnQucHJvdG90eXBlLnk9bnVsbDtteFBvaW50LnByb3RvdHlwZS5lcXVhbHM9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPWEmJmEueD09dGhpcy54JiZhLnk9PXRoaXMueX07bXhQb2ludC5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbXhVdGlscy5jbG9uZSh0aGlzKX07ZnVuY3Rpb24gbXhSZWN0YW5nbGUoYSxiLGMsZCl7bXhQb2ludC5jYWxsKHRoaXMsYSxiKTt0aGlzLndpZHRoPW51bGwhPWM/YzowO3RoaXMuaGVpZ2h0PW51bGwhPWQ/ZDowfW14UmVjdGFuZ2xlLnByb3RvdHlwZT1uZXcgbXhQb2ludDtteFJlY3RhbmdsZS5wcm90b3R5cGUuY29uc3RydWN0b3I9bXhSZWN0YW5nbGU7bXhSZWN0YW5nbGUucHJvdG90eXBlLndpZHRoPW51bGw7Cm14UmVjdGFuZ2xlLnByb3RvdHlwZS5oZWlnaHQ9bnVsbDtteFJlY3RhbmdsZS5wcm90b3R5cGUuc2V0UmVjdD1mdW5jdGlvbihhLGIsYyxkKXt0aGlzLng9YTt0aGlzLnk9Yjt0aGlzLndpZHRoPWM7dGhpcy5oZWlnaHQ9ZH07bXhSZWN0YW5nbGUucHJvdG90eXBlLmdldENlbnRlclg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy54K3RoaXMud2lkdGgvMn07bXhSZWN0YW5nbGUucHJvdG90eXBlLmdldENlbnRlclk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy55K3RoaXMuaGVpZ2h0LzJ9OwpteFJlY3RhbmdsZS5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKGEpe2lmKG51bGwhPWEpe3ZhciBiPU1hdGgubWluKHRoaXMueCxhLngpLGM9TWF0aC5taW4odGhpcy55LGEueSksZD1NYXRoLm1heCh0aGlzLngrdGhpcy53aWR0aCxhLngrYS53aWR0aCk7YT1NYXRoLm1heCh0aGlzLnkrdGhpcy5oZWlnaHQsYS55K2EuaGVpZ2h0KTt0aGlzLng9Yjt0aGlzLnk9Yzt0aGlzLndpZHRoPWQtYjt0aGlzLmhlaWdodD1hLWN9fTtteFJlY3RhbmdsZS5wcm90b3R5cGUuaW50ZXJzZWN0PWZ1bmN0aW9uKGEpe2lmKG51bGwhPWEpe3ZhciBiPXRoaXMueCt0aGlzLndpZHRoLGM9YS54K2Eud2lkdGgsZD10aGlzLnkrdGhpcy5oZWlnaHQsZT1hLnkrYS5oZWlnaHQ7dGhpcy54PU1hdGgubWF4KHRoaXMueCxhLngpO3RoaXMueT1NYXRoLm1heCh0aGlzLnksYS55KTt0aGlzLndpZHRoPU1hdGgubWluKGIsYyktdGhpcy54O3RoaXMuaGVpZ2h0PU1hdGgubWluKGQsZSktdGhpcy55fX07Cm14UmVjdGFuZ2xlLnByb3RvdHlwZS5ncm93PWZ1bmN0aW9uKGEpe3RoaXMueC09YTt0aGlzLnktPWE7dGhpcy53aWR0aCs9MiphO3RoaXMuaGVpZ2h0Kz0yKmE7cmV0dXJuIHRoaXN9O214UmVjdGFuZ2xlLnByb3RvdHlwZS5nZXRQb2ludD1mdW5jdGlvbigpe3JldHVybiBuZXcgbXhQb2ludCh0aGlzLngsdGhpcy55KX07bXhSZWN0YW5nbGUucHJvdG90eXBlLnJvdGF0ZTkwPWZ1bmN0aW9uKCl7dmFyIGE9KHRoaXMud2lkdGgtdGhpcy5oZWlnaHQpLzI7dGhpcy54Kz1hO3RoaXMueS09YTthPXRoaXMud2lkdGg7dGhpcy53aWR0aD10aGlzLmhlaWdodDt0aGlzLmhlaWdodD1hfTtteFJlY3RhbmdsZS5wcm90b3R5cGUuZXF1YWxzPWZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hJiZhLng9PXRoaXMueCYmYS55PT10aGlzLnkmJmEud2lkdGg9PXRoaXMud2lkdGgmJmEuaGVpZ2h0PT10aGlzLmhlaWdodH07Cm14UmVjdGFuZ2xlLmZyb21SZWN0YW5nbGU9ZnVuY3Rpb24oYSl7cmV0dXJuIG5ldyBteFJlY3RhbmdsZShhLngsYS55LGEud2lkdGgsYS5oZWlnaHQpfTsKdmFyIG14RWZmZWN0cz17YW5pbWF0ZUNoYW5nZXM6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPTAsZT1mdW5jdGlvbigpe2Zvcih2YXIgZz0hMSxrPTA7azxiLmxlbmd0aDtrKyspe3ZhciBsPWJba107aWYobCBpbnN0YW5jZW9mIG14R2VvbWV0cnlDaGFuZ2V8fGwgaW5zdGFuY2VvZiBteFRlcm1pbmFsQ2hhbmdlfHxsIGluc3RhbmNlb2YgbXhWYWx1ZUNoYW5nZXx8bCBpbnN0YW5jZW9mIG14Q2hpbGRDaGFuZ2V8fGwgaW5zdGFuY2VvZiBteFN0eWxlQ2hhbmdlKXt2YXIgbT1hLmdldFZpZXcoKS5nZXRTdGF0ZShsLmNlbGx8fGwuY2hpbGQsITEpO2lmKG51bGwhPW0paWYoZz0hMCxsLmNvbnN0cnVjdG9yIT1teEdlb21ldHJ5Q2hhbmdlfHxhLm1vZGVsLmlzRWRnZShsLmNlbGwpKW14VXRpbHMuc2V0T3BhY2l0eShtLnNoYXBlLm5vZGUsMTAwKmQvMTApO2Vsc2V7dmFyIG49YS5nZXRWaWV3KCkuc2NhbGUscD0obC5nZW9tZXRyeS54LWwucHJldmlvdXMueCkqbixxPShsLmdlb21ldHJ5LnktCmwucHJldmlvdXMueSkqbixyPShsLmdlb21ldHJ5LndpZHRoLWwucHJldmlvdXMud2lkdGgpKm4sbj0obC5nZW9tZXRyeS5oZWlnaHQtbC5wcmV2aW91cy5oZWlnaHQpKm47MD09ZD8obS54LT1wLG0ueS09cSxtLndpZHRoLT1yLG0uaGVpZ2h0LT1uKToobS54Kz1wLzEwLG0ueSs9cS8xMCxtLndpZHRoKz1yLzEwLG0uaGVpZ2h0Kz1uLzEwKTthLmNlbGxSZW5kZXJlci5yZWRyYXcobSk7bXhFZmZlY3RzLmNhc2NhZGVPcGFjaXR5KGEsbC5jZWxsLDEwMCpkLzEwKX19fTEwPmQmJmc/KGQrKyx3aW5kb3cuc2V0VGltZW91dChlLGYpKTpudWxsIT1jJiZjKCl9LGY9MzA7ZSgpfSxjYXNjYWRlT3BhY2l0eTpmdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkPWEubW9kZWwuZ2V0Q2hpbGRDb3VudChiKSxlPTA7ZTxkO2UrKyl7dmFyIGY9YS5tb2RlbC5nZXRDaGlsZEF0KGIsZSksZz1hLmdldFZpZXcoKS5nZXRTdGF0ZShmKTtudWxsIT1nJiYobXhVdGlscy5zZXRPcGFjaXR5KGcuc2hhcGUubm9kZSwKYyksbXhFZmZlY3RzLmNhc2NhZGVPcGFjaXR5KGEsZixjKSl9Yj1hLm1vZGVsLmdldEVkZ2VzKGIpO2lmKG51bGwhPWIpZm9yKGU9MDtlPGIubGVuZ3RoO2UrKylkPWEuZ2V0VmlldygpLmdldFN0YXRlKGJbZV0pLG51bGwhPWQmJm14VXRpbHMuc2V0T3BhY2l0eShkLnNoYXBlLm5vZGUsYyl9LGZhZGVPdXQ6ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe2Q9ZHx8NDA7ZT1lfHwzMDt2YXIgZz1ifHwxMDA7bXhVdGlscy5zZXRPcGFjaXR5KGEsZyk7aWYoZnx8bnVsbD09Zil7dmFyIGs9ZnVuY3Rpb24oKXtnPU1hdGgubWF4KGctZCwwKTtteFV0aWxzLnNldE9wYWNpdHkoYSxnKTswPGc/d2luZG93LnNldFRpbWVvdXQoayxlKTooYS5zdHlsZS52aXNpYmlsaXR5PSJoaWRkZW4iLGMmJmEucGFyZW50Tm9kZSYmYS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGEpKX07d2luZG93LnNldFRpbWVvdXQoayxlKX1lbHNlIGEuc3R5bGUudmlzaWJpbGl0eT0iaGlkZGVuIixjJiZhLnBhcmVudE5vZGUmJmEucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChhKX19LApteFV0aWxzPXtlcnJvclJlc291cmNlOiJub25lIiE9bXhDbGllbnQubGFuZ3VhZ2U/ImVycm9yIjoiIixjbG9zZVJlc291cmNlOiJub25lIiE9bXhDbGllbnQubGFuZ3VhZ2U/ImNsb3NlIjoiIixlcnJvckltYWdlOm14Q2xpZW50LmltYWdlQmFzZVBhdGgrIi9lcnJvci5naWYiLHJlbW92ZUN1cnNvcnM6ZnVuY3Rpb24oYSl7bnVsbCE9YS5zdHlsZSYmKGEuc3R5bGUuY3Vyc29yPSIiKTthPWEuY2hpbGROb2RlcztpZihudWxsIT1hKWZvcih2YXIgYj1hLmxlbmd0aCxjPTA7YzxiO2MrPTEpbXhVdGlscy5yZW1vdmVDdXJzb3JzKGFbY10pfSxnZXRDdXJyZW50U3R5bGU6ZnVuY3Rpb24oKXtyZXR1cm4gbXhDbGllbnQuSVNfSUUmJihudWxsPT1kb2N1bWVudC5kb2N1bWVudE1vZGV8fDk+ZG9jdW1lbnQuZG9jdW1lbnRNb2RlKT9mdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YT9hLmN1cnJlbnRTdHlsZTpudWxsfTpmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YT93aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShhLAoiIik6bnVsbH19KCkscGFyc2VDc3NOdW1iZXI6ZnVuY3Rpb24oYSl7InRoaW4iPT1hP2E9IjIiOiJtZWRpdW0iPT1hP2E9IjQiOiJ0aGljayI9PWEmJihhPSI2Iik7YT1wYXJzZUZsb2F0KGEpO2lzTmFOKGEpJiYoYT0wKTtyZXR1cm4gYX0sc2V0UHJlZml4ZWRTdHlsZTpmdW5jdGlvbigpe3ZhciBhPW51bGw7bXhDbGllbnQuSVNfT1Q/YT0iTyI6bXhDbGllbnQuSVNfU0Z8fG14Q2xpZW50LklTX0dDP2E9IldlYmtpdCI6bXhDbGllbnQuSVNfTVQ/YT0iTW96IjpteENsaWVudC5JU19JRSYmOTw9ZG9jdW1lbnQuZG9jdW1lbnRNb2RlJiYxMD5kb2N1bWVudC5kb2N1bWVudE1vZGUmJihhPSJtcyIpO3JldHVybiBmdW5jdGlvbihiLGMsZCl7YltjXT1kO251bGwhPWEmJjA8Yy5sZW5ndGgmJihjPWErYy5zdWJzdHJpbmcoMCwxKS50b1VwcGVyQ2FzZSgpK2Muc3Vic3RyaW5nKDEpLGJbY109ZCl9fSgpLGhhc1Njcm9sbGJhcnM6ZnVuY3Rpb24oYSl7YT1teFV0aWxzLmdldEN1cnJlbnRTdHlsZShhKTsKcmV0dXJuIG51bGwhPWEmJigic2Nyb2xsIj09YS5vdmVyZmxvd3x8ImF1dG8iPT1hLm92ZXJmbG93KX0sYmluZDpmdW5jdGlvbihhLGIpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBiLmFwcGx5KGEsYXJndW1lbnRzKX19LGV2YWw6ZnVuY3Rpb24oYSl7dmFyIGI9bnVsbDtpZigwPD1hLmluZGV4T2YoImZ1bmN0aW9uIikpdHJ5e2V2YWwoInZhciBfbXhKYXZhU2NyaXB0RXhwcmVzc2lvbj0iK2EpLGI9X214SmF2YVNjcmlwdEV4cHJlc3Npb24sX214SmF2YVNjcmlwdEV4cHJlc3Npb249bnVsbH1jYXRjaChjKXtteExvZy53YXJuKGMubWVzc2FnZSsiIHdoaWxlIGV2YWx1YXRpbmcgIithKX1lbHNlIHRyeXtiPWV2YWwoYSl9Y2F0Y2goYyl7bXhMb2cud2FybihjLm1lc3NhZ2UrIiB3aGlsZSBldmFsdWF0aW5nICIrYSl9cmV0dXJuIGJ9LGZpbmROb2RlOmZ1bmN0aW9uKGEsYixjKXtpZihhLm5vZGVUeXBlPT1teENvbnN0YW50cy5OT0RFVFlQRV9FTEVNRU5UKXt2YXIgZD1hLmdldEF0dHJpYnV0ZShiKTsKaWYobnVsbCE9ZCYmZD09YylyZXR1cm4gYX1mb3IoYT1hLmZpcnN0Q2hpbGQ7bnVsbCE9YTspe2Q9bXhVdGlscy5maW5kTm9kZShhLGIsYyk7aWYobnVsbCE9ZClyZXR1cm4gZDthPWEubmV4dFNpYmxpbmd9cmV0dXJuIG51bGx9LGdldEZ1bmN0aW9uTmFtZTpmdW5jdGlvbihhKXt2YXIgYj1udWxsO251bGwhPWEmJihudWxsIT1hLm5hbWU/Yj1hLm5hbWU6KGI9bXhVdGlscy50cmltKGEudG9TdHJpbmcoKSksL15mdW5jdGlvblxzLy50ZXN0KGIpJiYoYj1teFV0aWxzLmx0cmltKGIuc3Vic3RyaW5nKDkpKSxhPWIuaW5kZXhPZigiKCIpLDA8YSYmKGI9Yi5zdWJzdHJpbmcoMCxhKSkpKSk7cmV0dXJuIGJ9LGluZGV4T2Y6ZnVuY3Rpb24oYSxiKXtpZihudWxsIT1hJiZudWxsIT1iKWZvcih2YXIgYz0wO2M8YS5sZW5ndGg7YysrKWlmKGFbY109PWIpcmV0dXJuIGM7cmV0dXJuLTF9LGZvckVhY2g6ZnVuY3Rpb24oYSxiKXtpZihudWxsIT1hJiZudWxsIT1iKWZvcih2YXIgYz0wO2M8YS5sZW5ndGg7YysrKWIoYVtjXSk7CnJldHVybiBhfSxyZW1vdmU6ZnVuY3Rpb24oYSxiKXt2YXIgYz1udWxsO2lmKCJvYmplY3QiPT10eXBlb2YgYilmb3IodmFyIGQ9bXhVdGlscy5pbmRleE9mKGIsYSk7MDw9ZDspYi5zcGxpY2UoZCwxKSxjPWEsZD1teFV0aWxzLmluZGV4T2YoYixhKTtmb3IodmFyIGUgaW4gYiliW2VdPT1hJiYoZGVsZXRlIGJbZV0sYz1hKTtyZXR1cm4gY30saXNOb2RlOmZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiBudWxsPT1hfHxpc05hTihhLm5vZGVUeXBlKXx8bnVsbCE9YiYmYS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpIT1iLnRvTG93ZXJDYXNlKCk/ITE6bnVsbD09Y3x8YS5nZXRBdHRyaWJ1dGUoYyk9PWR9LGlzQW5jZXN0b3JOb2RlOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPWI7bnVsbCE9Yzspe2lmKGM9PWEpcmV0dXJuITA7Yz1jLnBhcmVudE5vZGV9cmV0dXJuITF9LGdldENoaWxkTm9kZXM6ZnVuY3Rpb24oYSxiKXtiPWJ8fG14Q29uc3RhbnRzLk5PREVUWVBFX0VMRU1FTlQ7Zm9yKHZhciBjPQpbXSxkPWEuZmlyc3RDaGlsZDtudWxsIT1kOylkLm5vZGVUeXBlPT1iJiZjLnB1c2goZCksZD1kLm5leHRTaWJsaW5nO3JldHVybiBjfSxpbXBvcnROb2RlOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gbXhDbGllbnQuSVNfSUUmJihudWxsPT1kb2N1bWVudC5kb2N1bWVudE1vZGV8fDEwPmRvY3VtZW50LmRvY3VtZW50TW9kZSk/bXhVdGlscy5pbXBvcnROb2RlSW1wbGVtZW50YXRpb24oYSxiLGMpOmEuaW1wb3J0Tm9kZShiLGMpfSxpbXBvcnROb2RlSW1wbGVtZW50YXRpb246ZnVuY3Rpb24oYSxiLGMpe3N3aXRjaChiLm5vZGVUeXBlKXtjYXNlIDE6dmFyIGQ9YS5jcmVhdGVFbGVtZW50KGIubm9kZU5hbWUpO2lmKGIuYXR0cmlidXRlcyYmMDxiLmF0dHJpYnV0ZXMubGVuZ3RoKWZvcih2YXIgZT0wO2U8Yi5hdHRyaWJ1dGVzLmxlbmd0aDtlKyspZC5zZXRBdHRyaWJ1dGUoYi5hdHRyaWJ1dGVzW2VdLm5vZGVOYW1lLGIuZ2V0QXR0cmlidXRlKGIuYXR0cmlidXRlc1tlXS5ub2RlTmFtZSkpOwppZihjJiZiLmNoaWxkTm9kZXMmJjA8Yi5jaGlsZE5vZGVzLmxlbmd0aClmb3IoZT0wO2U8Yi5jaGlsZE5vZGVzLmxlbmd0aDtlKyspZC5hcHBlbmRDaGlsZChteFV0aWxzLmltcG9ydE5vZGVJbXBsZW1lbnRhdGlvbihhLGIuY2hpbGROb2Rlc1tlXSxjKSk7cmV0dXJuIGQ7Y2FzZSAzOmNhc2UgNDpjYXNlIDg6cmV0dXJuIGEuY3JlYXRlVGV4dE5vZGUobnVsbCE9Yi5ub2RlVmFsdWU/Yi5ub2RlVmFsdWU6Yi52YWx1ZSl9fSxjcmVhdGVYbWxEb2N1bWVudDpmdW5jdGlvbigpe3ZhciBhPW51bGw7ZG9jdW1lbnQuaW1wbGVtZW50YXRpb24mJmRvY3VtZW50LmltcGxlbWVudGF0aW9uLmNyZWF0ZURvY3VtZW50P2E9ZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uY3JlYXRlRG9jdW1lbnQoIiIsIiIsbnVsbCk6IkFjdGl2ZVhPYmplY3QiaW4gd2luZG93JiYoYT1teFV0aWxzLmNyZWF0ZU1zWG1sRG9jdW1lbnQoKSk7cmV0dXJuIGF9LGNyZWF0ZU1zWG1sRG9jdW1lbnQ6ZnVuY3Rpb24oKXt2YXIgYT0KbmV3IEFjdGl2ZVhPYmplY3QoIk1pY3Jvc29mdC5YTUxET00iKTthLmFzeW5jPSExO2EudmFsaWRhdGVPblBhcnNlPSExO2EucmVzb2x2ZUV4dGVybmFscz0hMTtyZXR1cm4gYX0scGFyc2VYbWw6ZnVuY3Rpb24oKXtyZXR1cm4gd2luZG93LkRPTVBhcnNlcj9mdW5jdGlvbihhKXtyZXR1cm4obmV3IERPTVBhcnNlcikucGFyc2VGcm9tU3RyaW5nKGEsInRleHQveG1sIil9OmZ1bmN0aW9uKGEpe3ZhciBiPW14VXRpbHMuY3JlYXRlTXNYbWxEb2N1bWVudCgpO2IubG9hZFhNTChhKTtyZXR1cm4gYn19KCksY2xlYXJTZWxlY3Rpb246ZnVuY3Rpb24oKXtyZXR1cm4gZG9jdW1lbnQuc2VsZWN0aW9uP2Z1bmN0aW9uKCl7ZG9jdW1lbnQuc2VsZWN0aW9uLmVtcHR5KCl9OndpbmRvdy5nZXRTZWxlY3Rpb24/ZnVuY3Rpb24oKXt3aW5kb3cuZ2V0U2VsZWN0aW9uKCkuZW1wdHk/d2luZG93LmdldFNlbGVjdGlvbigpLmVtcHR5KCk6d2luZG93LmdldFNlbGVjdGlvbigpLnJlbW92ZUFsbFJhbmdlcyYmCndpbmRvdy5nZXRTZWxlY3Rpb24oKS5yZW1vdmVBbGxSYW5nZXMoKX06ZnVuY3Rpb24oKXt9fSgpLHJlbW92ZVdoaXRlc3BhY2U6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9Yj9hLnByZXZpb3VzU2libGluZzphLm5leHRTaWJsaW5nO251bGwhPWMmJmMubm9kZVR5cGU9PW14Q29uc3RhbnRzLk5PREVUWVBFX1RFWFQ7KXt2YXIgZD1iP2MucHJldmlvdXNTaWJsaW5nOmMubmV4dFNpYmxpbmcsZT1teFV0aWxzLmdldFRleHRDb250ZW50KGMpOzA9PW14VXRpbHMudHJpbShlKS5sZW5ndGgmJmMucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChjKTtjPWR9fSxodG1sRW50aXRpZXM6ZnVuY3Rpb24oYSxiKXthPVN0cmluZyhhfHwiIik7YT1hLnJlcGxhY2UoLyYvZywiJmFtcDsiKTthPWEucmVwbGFjZSgvIi9nLCImcXVvdDsiKTthPWEucmVwbGFjZSgvXCcvZywiJiMzOTsiKTthPWEucmVwbGFjZSgvPC9nLCImbHQ7Iik7YT1hLnJlcGxhY2UoLz4vZywiJmd0OyIpO2lmKG51bGw9PWJ8fGIpYT1hLnJlcGxhY2UoL1xuL2csCiImI3hhOyIpO3JldHVybiBhfSxpc1ZtbDpmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YSYmInVybjpzY2hlbWFzLW1pY3Jvc29mdC1jb206dm1sIj09YS50YWdVcm59LGdldFhtbDpmdW5jdGlvbihhLGIpe3ZhciBjPSIiO214Q2xpZW50LklTX0lFfHxteENsaWVudC5JU19JRTExP2M9bXhVdGlscy5nZXRQcmV0dHlYbWwoYSwiIiwiIiwiIik6bnVsbCE9d2luZG93LlhNTFNlcmlhbGl6ZXI/Yz0obmV3IFhNTFNlcmlhbGl6ZXIpLnNlcmlhbGl6ZVRvU3RyaW5nKGEpOm51bGwhPWEueG1sJiYoYz1hLnhtbC5yZXBsYWNlKC9cclxuXHRbXHRdKi9nLCIiKS5yZXBsYWNlKC8+XHJcbi9nLCI+IikucmVwbGFjZSgvXHJcbi9nLCJcbiIpKTtyZXR1cm4gYy5yZXBsYWNlKC9cbi9nLGJ8fCImI3hhOyIpfSxnZXRQcmV0dHlYbWw6ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZj1bXTtpZihudWxsIT1hKWlmKGI9bnVsbCE9Yj9iOiIgICIsYz1udWxsIT1jP2M6IiIsZD1udWxsIT1kP2Q6IlxuIixudWxsIT0KYS5uYW1lc3BhY2VVUkkmJmEubmFtZXNwYWNlVVJJIT1lJiYoZT1hLm5hbWVzcGFjZVVSSSxudWxsPT1hLmdldEF0dHJpYnV0ZSgieG1sbnMiKSYmYS5zZXRBdHRyaWJ1dGUoInhtbG5zIixhLm5hbWVzcGFjZVVSSSkpLGEubm9kZVR5cGU9PW14Q29uc3RhbnRzLk5PREVUWVBFX0RPQ1VNRU5UKWYucHVzaChteFV0aWxzLmdldFByZXR0eVhtbChhLmRvY3VtZW50RWxlbWVudCxiLGMsZCxlKSk7ZWxzZSBpZihhLm5vZGVUeXBlPT1teENvbnN0YW50cy5OT0RFVFlQRV9ET0NVTUVOVF9GUkFHTUVOVCl7dmFyIGc9YS5maXJzdENoaWxkO2lmKG51bGwhPWcpZm9yKDtudWxsIT1nOylmLnB1c2gobXhVdGlscy5nZXRQcmV0dHlYbWwoZyxiLGMsZCxlKSksZz1nLm5leHRTaWJsaW5nfWVsc2UgaWYoYS5ub2RlVHlwZT09bXhDb25zdGFudHMuTk9ERVRZUEVfQ09NTUVOVClhPW14VXRpbHMuZ2V0VGV4dENvbnRlbnQoYSksMDxhLmxlbmd0aCYmZi5wdXNoKGMrIlx4M2MhLS0iK2ErIi0tXHgzZSIrCmQpO2Vsc2UgaWYoYS5ub2RlVHlwZT09bXhDb25zdGFudHMuTk9ERVRZUEVfVEVYVClhPW14VXRpbHMuZ2V0VGV4dENvbnRlbnQoYSksMDxhLmxlbmd0aCYmZi5wdXNoKGMrbXhVdGlscy5odG1sRW50aXRpZXMobXhVdGlscy50cmltKGEpLCExKStkKTtlbHNlIGlmKGEubm9kZVR5cGU9PW14Q29uc3RhbnRzLk5PREVUWVBFX0NEQVRBKWE9bXhVdGlscy5nZXRUZXh0Q29udGVudChhKSwwPGEubGVuZ3RoJiZmLnB1c2goYysiPCFbQ0RBVEFbIithKyJdXSIrZCk7ZWxzZXtmLnB1c2goYysiPCIrYS5ub2RlTmFtZSk7Zz1hLmF0dHJpYnV0ZXM7aWYobnVsbCE9Zylmb3IodmFyIGs9MDtrPGcubGVuZ3RoO2srKyl7dmFyIGw9bXhVdGlscy5odG1sRW50aXRpZXMoZ1trXS52YWx1ZSk7Zi5wdXNoKCIgIitnW2tdLm5vZGVOYW1lKyc9IicrbCsnIicpfWc9YS5maXJzdENoaWxkO2lmKG51bGwhPWcpe2ZvcihmLnB1c2goIj4iK2QpO251bGwhPWc7KWYucHVzaChteFV0aWxzLmdldFByZXR0eVhtbChnLApiLGMrYixkLGUpKSxnPWcubmV4dFNpYmxpbmc7Zi5wdXNoKGMrIjwvIithLm5vZGVOYW1lKyI+IitkKX1lbHNlIGYucHVzaCgiIC8+IitkKX1yZXR1cm4gZi5qb2luKCIiKX0sZXh0cmFjdFRleHRXaXRoV2hpdGVzcGFjZTpmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEpe2lmKDEhPWEubGVuZ3RofHwiQlIiIT1hWzBdLm5vZGVOYW1lJiYiXG4iIT1hWzBdLmlubmVySFRNTClmb3IodmFyIGU9MDtlPGEubGVuZ3RoO2UrKyl7dmFyIGc9YVtlXTsiQlIiPT1nLm5vZGVOYW1lfHwiXG4iPT1nLmlubmVySFRNTHx8KDE9PWEubGVuZ3RofHwwPT1lKSYmIkRJViI9PWcubm9kZU5hbWUmJiI8YnI+Ij09Zy5pbm5lckhUTUwudG9Mb3dlckNhc2UoKT9kLnB1c2goIlxuIik6KDM9PT1nLm5vZGVUeXBlfHw0PT09Zy5ub2RlVHlwZT8wPGcubm9kZVZhbHVlLmxlbmd0aCYmZC5wdXNoKGcubm9kZVZhbHVlKTo4IT09Zy5ub2RlVHlwZSYmMDxnLmNoaWxkTm9kZXMubGVuZ3RoJiZiKGcuY2hpbGROb2RlcyksCmU8YS5sZW5ndGgtMSYmMDw9bXhVdGlscy5pbmRleE9mKGMsYVtlKzFdLm5vZGVOYW1lKSYmZC5wdXNoKCJcbiIpKX19dmFyIGM9IkJMT0NLUVVPVEUgRElWIEgxIEgyIEgzIEg0IEg1IEg2IE9MIFAgUFJFIFRBQkxFIFVMIi5zcGxpdCgiICIpLGQ9W107YihhKTtyZXR1cm4gZC5qb2luKCIiKX0scmVwbGFjZVRyYWlsaW5nTmV3bGluZXM6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9IiI7MDxhLmxlbmd0aCYmIlxuIj09YS5jaGFyQXQoYS5sZW5ndGgtMSk7KWE9YS5zdWJzdHJpbmcoMCxhLmxlbmd0aC0xKSxjKz1iO3JldHVybiBhK2N9LGdldFRleHRDb250ZW50OmZ1bmN0aW9uKGEpe3JldHVybiBteENsaWVudC5JU19JRSYmdm9pZCAwIT09YS5pbm5lclRleHQ/YS5pbm5lclRleHQ6bnVsbCE9YT9hW3ZvaWQgMD09PWEudGV4dENvbnRlbnQ/InRleHQiOiJ0ZXh0Q29udGVudCJdOiIifSxzZXRUZXh0Q29udGVudDpmdW5jdGlvbihhLGIpe3ZvaWQgMCE9PWEuaW5uZXJUZXh0P2EuaW5uZXJUZXh0PQpiOmFbdm9pZCAwPT09YS50ZXh0Q29udGVudD8idGV4dCI6InRleHRDb250ZW50Il09Yn0sZ2V0SW5uZXJIdG1sOmZ1bmN0aW9uKCl7cmV0dXJuIG14Q2xpZW50LklTX0lFP2Z1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hP2EuaW5uZXJIVE1MOiIifTpmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YT8obmV3IFhNTFNlcmlhbGl6ZXIpLnNlcmlhbGl6ZVRvU3RyaW5nKGEpOiIifX0oKSxnZXRPdXRlckh0bWw6ZnVuY3Rpb24oKXtyZXR1cm4gbXhDbGllbnQuSVNfSUU/ZnVuY3Rpb24oYSl7aWYobnVsbCE9YSl7aWYobnVsbCE9YS5vdXRlckhUTUwpcmV0dXJuIGEub3V0ZXJIVE1MO3ZhciBiPVtdO2IucHVzaCgiPCIrYS5ub2RlTmFtZSk7dmFyIGM9YS5hdHRyaWJ1dGVzO2lmKG51bGwhPWMpZm9yKHZhciBkPTA7ZDxjLmxlbmd0aDtkKyspe3ZhciBlPWNbZF0udmFsdWU7bnVsbCE9ZSYmMDxlLmxlbmd0aCYmKGIucHVzaCgiICIpLGIucHVzaChjW2RdLm5vZGVOYW1lKSxiLnB1c2goJz0iJyksCmIucHVzaChlKSxiLnB1c2goJyInKSl9MD09YS5pbm5lckhUTUwubGVuZ3RoP2IucHVzaCgiLz4iKTooYi5wdXNoKCI+IiksYi5wdXNoKGEuaW5uZXJIVE1MKSxiLnB1c2goIjwvIithLm5vZGVOYW1lKyI+IikpO3JldHVybiBiLmpvaW4oIiIpfXJldHVybiIifTpmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YT8obmV3IFhNTFNlcmlhbGl6ZXIpLnNlcmlhbGl6ZVRvU3RyaW5nKGEpOiIifX0oKSx3cml0ZTpmdW5jdGlvbihhLGIpe3ZhciBjPWEub3duZXJEb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShiKTtudWxsIT1hJiZhLmFwcGVuZENoaWxkKGMpO3JldHVybiBjfSx3cml0ZWxuOmZ1bmN0aW9uKGEsYil7dmFyIGM9YS5vd25lckRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGIpO251bGwhPWEmJihhLmFwcGVuZENoaWxkKGMpLGEuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYnIiKSkpO3JldHVybiBjfSxicjpmdW5jdGlvbihhLGIpe2I9Ynx8MTtmb3IodmFyIGM9bnVsbCwKZD0wO2Q8YjtkKyspbnVsbCE9YSYmKGM9YS5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImJyIiksYS5hcHBlbmRDaGlsZChjKSk7cmV0dXJuIGN9LGJ1dHRvbjpmdW5jdGlvbihhLGIsYyl7Yz1udWxsIT1jP2M6ZG9jdW1lbnQ7Yz1jLmNyZWF0ZUVsZW1lbnQoImJ1dHRvbiIpO214VXRpbHMud3JpdGUoYyxhKTtteEV2ZW50LmFkZExpc3RlbmVyKGMsImNsaWNrIixmdW5jdGlvbihhKXtiKGEpfSk7cmV0dXJuIGN9LHBhcmE6ZnVuY3Rpb24oYSxiKXt2YXIgYz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJwIik7bXhVdGlscy53cml0ZShjLGIpO251bGwhPWEmJmEuYXBwZW5kQ2hpbGQoYyk7cmV0dXJuIGN9LGFkZFRyYW5zcGFyZW50QmFja2dyb3VuZEZpbHRlcjpmdW5jdGlvbihhKXthLnN0eWxlLmZpbHRlcis9InByb2dpZDpEWEltYWdlVHJhbnNmb3JtLk1pY3Jvc29mdC5BbHBoYUltYWdlTG9hZGVyKHNyYz0nIitteENsaWVudC5pbWFnZUJhc2VQYXRoKyIvdHJhbnNwYXJlbnQuZ2lmJywgc2l6aW5nTWV0aG9kPSdzY2FsZScpIn0sCmxpbmtBY3Rpb246ZnVuY3Rpb24oYSxiLGMsZCxlKXtyZXR1cm4gbXhVdGlscy5saW5rKGEsYixmdW5jdGlvbigpe2MuZXhlY3V0ZShkKX0sZSl9LGxpbmtJbnZva2U6ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe3JldHVybiBteFV0aWxzLmxpbmsoYSxiLGZ1bmN0aW9uKCl7Y1tkXShlKX0sZil9LGxpbms6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3BhbiIpO2Uuc3R5bGUuY29sb3I9ImJsdWUiO2Uuc3R5bGUudGV4dERlY29yYXRpb249InVuZGVybGluZSI7ZS5zdHlsZS5jdXJzb3I9InBvaW50ZXIiO251bGwhPWQmJihlLnN0eWxlLnBhZGRpbmdMZWZ0PWQrInB4Iik7bXhFdmVudC5hZGRMaXN0ZW5lcihlLCJjbGljayIsYyk7bXhVdGlscy53cml0ZShlLGIpO251bGwhPWEmJmEuYXBwZW5kQ2hpbGQoZSk7cmV0dXJuIGV9LGdldERvY3VtZW50U2l6ZTpmdW5jdGlvbigpe3ZhciBhPWRvY3VtZW50LmJvZHksYj1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7CnRyeXtyZXR1cm4gbmV3IG14UmVjdGFuZ2xlKDAsMCxhLmNsaWVudFdpZHRofHxiLmNsaWVudFdpZHRoLE1hdGgubWF4KGEuY2xpZW50SGVpZ2h0fHwwLGIuY2xpZW50SGVpZ2h0KSl9Y2F0Y2goYyl7cmV0dXJuIG5ldyBteFJlY3RhbmdsZX19LGZpdDpmdW5jdGlvbihhKXt2YXIgYj1teFV0aWxzLmdldERvY3VtZW50U2l6ZSgpLGM9cGFyc2VJbnQoYS5vZmZzZXRMZWZ0KSxkPXBhcnNlSW50KGEub2Zmc2V0V2lkdGgpLGU9bXhVdGlscy5nZXREb2N1bWVudFNjcm9sbE9yaWdpbihhLm93bmVyRG9jdW1lbnQpLGY9ZS54LGU9ZS55LGc9ZitiLndpZHRoO2MrZD5nJiYoYS5zdHlsZS5sZWZ0PU1hdGgubWF4KGYsZy1kKSsicHgiKTtjPXBhcnNlSW50KGEub2Zmc2V0VG9wKTtkPXBhcnNlSW50KGEub2Zmc2V0SGVpZ2h0KTtiPWUrYi5oZWlnaHQ7YytkPmImJihhLnN0eWxlLnRvcD1NYXRoLm1heChlLGItZCkrInB4Iil9LGxvYWQ6ZnVuY3Rpb24oYSl7YT1uZXcgbXhYbWxSZXF1ZXN0KGEsbnVsbCwKIkdFVCIsITEpO2Euc2VuZCgpO3JldHVybiBhfSxnZXQ6ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyl7YT1uZXcgbXhYbWxSZXF1ZXN0KGEsbnVsbCwiR0VUIik7dmFyIGs9YS5zZXRSZXF1ZXN0SGVhZGVycztnJiYoYS5zZXRSZXF1ZXN0SGVhZGVycz1mdW5jdGlvbihhLGIpe2suYXBwbHkodGhpcyxhcmd1bWVudHMpO2Zvcih2YXIgYyBpbiBnKWEuc2V0UmVxdWVzdEhlYWRlcihjLGdbY10pfSk7bnVsbCE9ZCYmYS5zZXRCaW5hcnkoZCk7YS5zZW5kKGIsYyxlLGYpO3JldHVybiBhfSxnZXRBbGw6ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD1hLmxlbmd0aCxlPVtdLGY9MCxnPWZ1bmN0aW9uKCl7MD09ZiYmbnVsbCE9YyYmYygpO2YrK30saz0wO2s8YS5sZW5ndGg7aysrKShmdW5jdGlvbihhLGMpe214VXRpbHMuZ2V0KGEsZnVuY3Rpb24oYSl7dmFyIGY9YS5nZXRTdGF0dXMoKTsyMDA+Znx8Mjk5PGY/ZygpOihlW2NdPWEsZC0tLDA9PWQmJmIoZSkpfSxnKX0pKGFba10sayk7MD09ZCYmCmIoZSl9LHBvc3Q6ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuKG5ldyBteFhtbFJlcXVlc3QoYSxiKSkuc2VuZChjLGQpfSxzdWJtaXQ6ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuKG5ldyBteFhtbFJlcXVlc3QoYSxiKSkuc2ltdWxhdGUoYyxkKX0sbG9hZEludG86ZnVuY3Rpb24oYSxiLGMpe214Q2xpZW50LklTX0lFP2Iub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7ND09Yi5yZWFkeVN0YXRlJiZjKCl9OmIuYWRkRXZlbnRMaXN0ZW5lcigibG9hZCIsYywhMSk7Yi5sb2FkKGEpfSxnZXRWYWx1ZTpmdW5jdGlvbihhLGIsYyl7YT1udWxsIT1hP2FbYl06bnVsbDtudWxsPT1hJiYoYT1jKTtyZXR1cm4gYX0sZ2V0TnVtYmVyOmZ1bmN0aW9uKGEsYixjKXthPW51bGwhPWE/YVtiXTpudWxsO251bGw9PWEmJihhPWN8fDApO3JldHVybiBOdW1iZXIoYSl9LGdldENvbG9yOmZ1bmN0aW9uKGEsYixjKXthPW51bGwhPWE/YVtiXTpudWxsO251bGw9PWE/YT1jOmE9PW14Q29uc3RhbnRzLk5PTkUmJgooYT1udWxsKTtyZXR1cm4gYX0sY2xvbmU6ZnVuY3Rpb24oYSxiLGMpe2M9bnVsbCE9Yz9jOiExO3ZhciBkPW51bGw7aWYobnVsbCE9YSYmImZ1bmN0aW9uIj09dHlwZW9mIGEuY29uc3RydWN0b3Ipe3ZhciBkPW5ldyBhLmNvbnN0cnVjdG9yLGU7Zm9yKGUgaW4gYSllIT1teE9iamVjdElkZW50aXR5LkZJRUxEX05BTUUmJihudWxsPT1ifHwwPm14VXRpbHMuaW5kZXhPZihiLGUpKSYmKGRbZV09Y3x8Im9iamVjdCIhPXR5cGVvZiBhW2VdP2FbZV06bXhVdGlscy5jbG9uZShhW2VdKSl9cmV0dXJuIGR9LGVxdWFsUG9pbnRzOmZ1bmN0aW9uKGEsYil7aWYobnVsbD09YSYmbnVsbCE9Ynx8bnVsbCE9YSYmbnVsbD09Ynx8bnVsbCE9YSYmbnVsbCE9YiYmYS5sZW5ndGghPWIubGVuZ3RoKXJldHVybiExO2lmKG51bGwhPWEmJm51bGwhPWIpZm9yKHZhciBjPTA7YzxhLmxlbmd0aDtjKyspaWYobnVsbCE9YVtjXSYmbnVsbD09YltjXXx8bnVsbD09YVtjXSYmbnVsbCE9YltjXXx8bnVsbCE9YVtjXSYmCm51bGwhPWJbY10mJihhW2NdLnghPWJbY10ueHx8YVtjXS55IT1iW2NdLnkpKXJldHVybiExO3JldHVybiEwfSxlcXVhbEVudHJpZXM6ZnVuY3Rpb24oYSxiKXt2YXIgYz0wO2lmKG51bGw9PWEmJm51bGwhPWJ8fG51bGwhPWEmJm51bGw9PWJ8fG51bGwhPWEmJm51bGwhPWImJmEubGVuZ3RoIT1iLmxlbmd0aClyZXR1cm4hMTtpZihudWxsIT1hJiZudWxsIT1iKXtmb3IodmFyIGQgaW4gYiljKys7Zm9yKGQgaW4gYSlpZihjLS0sIShteFV0aWxzLmlzTmFOKGFbZF0pJiZteFV0aWxzLmlzTmFOKGJbZF0pfHxhW2RdPT1iW2RdKSlyZXR1cm4hMX1yZXR1cm4gMD09Y30scmVtb3ZlRHVwbGljYXRlczpmdW5jdGlvbihhKXtmb3IodmFyIGI9bmV3IG14RGljdGlvbmFyeSxjPVtdLGQ9MDtkPGEubGVuZ3RoO2QrKyliLmdldChhW2RdKXx8KGMucHVzaChhW2RdKSxiLnB1dChhW2RdLCEwKSk7cmV0dXJuIGN9LGlzTmFOOmZ1bmN0aW9uKGEpe3JldHVybiJudW1iZXIiPT10eXBlb2YgYSYmaXNOYU4oYSl9LApleHRlbmQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz1mdW5jdGlvbigpe307Yy5wcm90b3R5cGU9Yi5wcm90b3R5cGU7YS5wcm90b3R5cGU9bmV3IGM7YS5wcm90b3R5cGUuY29uc3RydWN0b3I9YX0sdG9TdHJpbmc6ZnVuY3Rpb24oYSl7dmFyIGI9IiIsYztmb3IoYyBpbiBhKXRyeXtpZihudWxsPT1hW2NdKWIrPWMrIiA9IFtudWxsXVxuIjtlbHNlIGlmKCJmdW5jdGlvbiI9PXR5cGVvZiBhW2NdKWIrPWMrIiA9PiBbRnVuY3Rpb25dXG4iO2Vsc2UgaWYoIm9iamVjdCI9PXR5cGVvZiBhW2NdKXZhciBkPW14VXRpbHMuZ2V0RnVuY3Rpb25OYW1lKGFbY10uY29uc3RydWN0b3IpLGI9YisoYysiID0+IFsiK2QrIl1cbiIpO2Vsc2UgYis9YysiID0gIithW2NdKyJcbiJ9Y2F0Y2goZSl7Yis9YysiPSIrZS5tZXNzYWdlfXJldHVybiBifSx0b1JhZGlhbnM6ZnVuY3Rpb24oYSl7cmV0dXJuIE1hdGguUEkqYS8xODB9LHRvRGVncmVlOmZ1bmN0aW9uKGEpe3JldHVybiAxODAqYS9NYXRoLlBJfSxhcmNUb0N1cnZlczpmdW5jdGlvbihhLApiLGMsZCxlLGYsZyxrLGwpe2stPWE7bC09YjtpZigwPT09Y3x8MD09PWQpcmV0dXJuIHE7Yz1NYXRoLmFicyhjKTtkPU1hdGguYWJzKGQpO3ZhciBtPS1rLzIsbj0tbC8yLHA9TWF0aC5jb3MoZSpNYXRoLlBJLzE4MCkscT1NYXRoLnNpbihlKk1hdGguUEkvMTgwKTtlPXAqbStxKm47dmFyIG09LTEqcSptK3AqbixuPWUqZSxyPW0qbSx0PWMqYyx1PWQqZCx4PW4vdCtyL3U7MTx4PyhjKj1NYXRoLnNxcnQoeCksZCo9TWF0aC5zcXJ0KHgpLGY9MCk6KHg9MSxmPT09ZyYmKHg9LTEpLGY9eCpNYXRoLnNxcnQoKHQqdS10KnItdSpuKS8odCpyK3UqbikpKTtuPWYqYyptL2Q7cj0tMSpmKmQqZS9jO2s9cCpuLXEqcitrLzI7bD1xKm4rcCpyK2wvMjt0PU1hdGguYXRhbjIoKG0tcikvZCwoZS1uKS9jKS1NYXRoLmF0YW4yKDAsMSk7Zj0wPD10P3Q6MipNYXRoLlBJK3Q7dD1NYXRoLmF0YW4yKCgtbS1yKS9kLCgtZS1uKS9jKS1NYXRoLmF0YW4yKChtLXIpL2QsKGUtbikvYyk7ZT0wPD10P3Q6MioKTWF0aC5QSSt0OzA9PWcmJjA8ZT9lLT0yKk1hdGguUEk6MCE9ZyYmMD5lJiYoZSs9MipNYXRoLlBJKTtnPTIqZS9NYXRoLlBJO2c9TWF0aC5jZWlsKDA+Zz8tMSpnOmcpO2UvPWc7bT04LzMqTWF0aC5zaW4oZS80KSpNYXRoLnNpbihlLzQpL01hdGguc2luKGUvMik7bj1wKmM7cCo9ZDtjKj1xO2QqPXE7Zm9yKHZhciB5PU1hdGguY29zKGYpLEI9TWF0aC5zaW4oZikscj0tbSoobipCK2QqeSksdD0tbSooYypCLXAqeSkscT1bXSxBPTA7QTxnOysrQSl7Zis9ZTt2YXIgeT1NYXRoLmNvcyhmKSxCPU1hdGguc2luKGYpLHU9bip5LWQqQitrLHg9Yyp5K3AqQitsLHo9LW0qKG4qQitkKnkpLHk9LW0qKGMqQi1wKnkpLEI9NipBO3FbQl09TnVtYmVyKHIrYSk7cVtCKzFdPU51bWJlcih0K2IpO3FbQisyXT1OdW1iZXIodS16K2EpO3FbQiszXT1OdW1iZXIoeC15K2IpO3FbQis0XT1OdW1iZXIodSthKTtxW0IrNV09TnVtYmVyKHgrYik7cj11K3o7dD14K3l9cmV0dXJuIHF9LGdldEJvdW5kaW5nQm94OmZ1bmN0aW9uKGEsCmIsYyl7dmFyIGQ9bnVsbDtpZihudWxsIT1hJiZudWxsIT1iJiYwIT1iKXtiPW14VXRpbHMudG9SYWRpYW5zKGIpO3ZhciBkPU1hdGguY29zKGIpLGU9TWF0aC5zaW4oYik7Yz1udWxsIT1jP2M6bmV3IG14UG9pbnQoYS54K2Eud2lkdGgvMixhLnkrYS5oZWlnaHQvMik7dmFyIGY9bmV3IG14UG9pbnQoYS54LGEueSk7Yj1uZXcgbXhQb2ludChhLngrYS53aWR0aCxhLnkpO3ZhciBnPW5ldyBteFBvaW50KGIueCxhLnkrYS5oZWlnaHQpO2E9bmV3IG14UG9pbnQoYS54LGcueSk7Zj1teFV0aWxzLmdldFJvdGF0ZWRQb2ludChmLGQsZSxjKTtiPW14VXRpbHMuZ2V0Um90YXRlZFBvaW50KGIsZCxlLGMpO2c9bXhVdGlscy5nZXRSb3RhdGVkUG9pbnQoZyxkLGUsYyk7YT1teFV0aWxzLmdldFJvdGF0ZWRQb2ludChhLGQsZSxjKTtkPW5ldyBteFJlY3RhbmdsZShmLngsZi55LDAsMCk7ZC5hZGQobmV3IG14UmVjdGFuZ2xlKGIueCxiLnksMCwwKSk7ZC5hZGQobmV3IG14UmVjdGFuZ2xlKGcueCwKZy55LDAsMCkpO2QuYWRkKG5ldyBteFJlY3RhbmdsZShhLngsYS55LDAsMCkpfXJldHVybiBkfSxnZXRSb3RhdGVkUG9pbnQ6ZnVuY3Rpb24oYSxiLGMsZCl7ZD1udWxsIT1kP2Q6bmV3IG14UG9pbnQ7dmFyIGU9YS54LWQueDthPWEueS1kLnk7cmV0dXJuIG5ldyBteFBvaW50KGUqYi1hKmMrZC54LGEqYitlKmMrZC55KX0sZ2V0UG9ydENvbnN0cmFpbnRzOmZ1bmN0aW9uKGEsYixjLGQpe2I9bXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX1BPUlRfQ09OU1RSQUlOVCxteFV0aWxzLmdldFZhbHVlKGIuc3R5bGUsYz9teENvbnN0YW50cy5TVFlMRV9TT1VSQ0VfUE9SVF9DT05TVFJBSU5UOm14Q29uc3RhbnRzLlNUWUxFX1RBUkdFVF9QT1JUX0NPTlNUUkFJTlQsbnVsbCkpO2lmKG51bGw9PWIpcmV0dXJuIGQ7ZD1iLnRvU3RyaW5nKCk7Yj1teENvbnN0YW50cy5ESVJFQ1RJT05fTUFTS19OT05FO2M9MDsxPT1teFV0aWxzLmdldFZhbHVlKGEuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfUE9SVF9DT05TVFJBSU5UX1JPVEFUSU9OLAowKSYmKGM9bXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX1JPVEFUSU9OLDApKTthPTA7NDU8Yz8oYT0xLDEzNTw9YyYmKGE9MikpOi00NT5jJiYoYT0zLC0xMzU+PWMmJihhPTIpKTtpZigwPD1kLmluZGV4T2YobXhDb25zdGFudHMuRElSRUNUSU9OX05PUlRIKSlzd2l0Y2goYSl7Y2FzZSAwOmJ8PW14Q29uc3RhbnRzLkRJUkVDVElPTl9NQVNLX05PUlRIO2JyZWFrO2Nhc2UgMTpifD1teENvbnN0YW50cy5ESVJFQ1RJT05fTUFTS19FQVNUO2JyZWFrO2Nhc2UgMjpifD1teENvbnN0YW50cy5ESVJFQ1RJT05fTUFTS19TT1VUSDticmVhaztjYXNlIDM6Ynw9bXhDb25zdGFudHMuRElSRUNUSU9OX01BU0tfV0VTVH1pZigwPD1kLmluZGV4T2YobXhDb25zdGFudHMuRElSRUNUSU9OX1dFU1QpKXN3aXRjaChhKXtjYXNlIDA6Ynw9bXhDb25zdGFudHMuRElSRUNUSU9OX01BU0tfV0VTVDticmVhaztjYXNlIDE6Ynw9bXhDb25zdGFudHMuRElSRUNUSU9OX01BU0tfTk9SVEg7CmJyZWFrO2Nhc2UgMjpifD1teENvbnN0YW50cy5ESVJFQ1RJT05fTUFTS19FQVNUO2JyZWFrO2Nhc2UgMzpifD1teENvbnN0YW50cy5ESVJFQ1RJT05fTUFTS19TT1VUSH1pZigwPD1kLmluZGV4T2YobXhDb25zdGFudHMuRElSRUNUSU9OX1NPVVRIKSlzd2l0Y2goYSl7Y2FzZSAwOmJ8PW14Q29uc3RhbnRzLkRJUkVDVElPTl9NQVNLX1NPVVRIO2JyZWFrO2Nhc2UgMTpifD1teENvbnN0YW50cy5ESVJFQ1RJT05fTUFTS19XRVNUO2JyZWFrO2Nhc2UgMjpifD1teENvbnN0YW50cy5ESVJFQ1RJT05fTUFTS19OT1JUSDticmVhaztjYXNlIDM6Ynw9bXhDb25zdGFudHMuRElSRUNUSU9OX01BU0tfRUFTVH1pZigwPD1kLmluZGV4T2YobXhDb25zdGFudHMuRElSRUNUSU9OX0VBU1QpKXN3aXRjaChhKXtjYXNlIDA6Ynw9bXhDb25zdGFudHMuRElSRUNUSU9OX01BU0tfRUFTVDticmVhaztjYXNlIDE6Ynw9bXhDb25zdGFudHMuRElSRUNUSU9OX01BU0tfU09VVEg7YnJlYWs7Y2FzZSAyOmJ8PQpteENvbnN0YW50cy5ESVJFQ1RJT05fTUFTS19XRVNUO2JyZWFrO2Nhc2UgMzpifD1teENvbnN0YW50cy5ESVJFQ1RJT05fTUFTS19OT1JUSH1yZXR1cm4gYn0scmV2ZXJzZVBvcnRDb25zdHJhaW50czpmdW5jdGlvbihhKXt2YXIgYjtiPShhJm14Q29uc3RhbnRzLkRJUkVDVElPTl9NQVNLX1dFU1QpPDwzO2J8PShhJm14Q29uc3RhbnRzLkRJUkVDVElPTl9NQVNLX05PUlRIKTw8MTtifD0oYSZteENvbnN0YW50cy5ESVJFQ1RJT05fTUFTS19TT1VUSCk+PjE7cmV0dXJuIGJ8KGEmbXhDb25zdGFudHMuRElSRUNUSU9OX01BU0tfRUFTVCk+PjN9LGZpbmROZWFyZXN0U2VnbWVudDpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9LTE7aWYoMDxhLmFic29sdXRlUG9pbnRzLmxlbmd0aClmb3IodmFyIGU9YS5hYnNvbHV0ZVBvaW50c1swXSxmPW51bGwsZz0xO2c8YS5hYnNvbHV0ZVBvaW50cy5sZW5ndGg7ZysrKXt2YXIgaz1hLmFic29sdXRlUG9pbnRzW2ddLGU9bXhVdGlscy5wdFNlZ0Rpc3RTcShlLngsCmUueSxrLngsay55LGIsYyk7aWYobnVsbD09Znx8ZTxmKWY9ZSxkPWctMTtlPWt9cmV0dXJuIGR9LGdldERpcmVjdGVkQm91bmRzOmZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9bXhVdGlscy5nZXRWYWx1ZShjLG14Q29uc3RhbnRzLlNUWUxFX0RJUkVDVElPTixteENvbnN0YW50cy5ESVJFQ1RJT05fRUFTVCk7ZD1udWxsIT1kP2Q6bXhVdGlscy5nZXRWYWx1ZShjLG14Q29uc3RhbnRzLlNUWUxFX0ZMSVBILCExKTtlPW51bGwhPWU/ZTpteFV0aWxzLmdldFZhbHVlKGMsbXhDb25zdGFudHMuU1RZTEVfRkxJUFYsITEpO2IueD1NYXRoLnJvdW5kKE1hdGgubWF4KDAsTWF0aC5taW4oYS53aWR0aCxiLngpKSk7Yi55PU1hdGgucm91bmQoTWF0aC5tYXgoMCxNYXRoLm1pbihhLmhlaWdodCxiLnkpKSk7Yi53aWR0aD1NYXRoLnJvdW5kKE1hdGgubWF4KDAsTWF0aC5taW4oYS53aWR0aCxiLndpZHRoKSkpO2IuaGVpZ2h0PU1hdGgucm91bmQoTWF0aC5tYXgoMCxNYXRoLm1pbihhLmhlaWdodCwKYi5oZWlnaHQpKSk7aWYoZSYmKGY9PW14Q29uc3RhbnRzLkRJUkVDVElPTl9TT1VUSHx8Zj09bXhDb25zdGFudHMuRElSRUNUSU9OX05PUlRIKXx8ZCYmKGY9PW14Q29uc3RhbnRzLkRJUkVDVElPTl9FQVNUfHxmPT1teENvbnN0YW50cy5ESVJFQ1RJT05fV0VTVCkpYz1iLngsYi54PWIud2lkdGgsYi53aWR0aD1jO2lmKGQmJihmPT1teENvbnN0YW50cy5ESVJFQ1RJT05fU09VVEh8fGY9PW14Q29uc3RhbnRzLkRJUkVDVElPTl9OT1JUSCl8fGUmJihmPT1teENvbnN0YW50cy5ESVJFQ1RJT05fRUFTVHx8Zj09bXhDb25zdGFudHMuRElSRUNUSU9OX1dFU1QpKWM9Yi55LGIueT1iLmhlaWdodCxiLmhlaWdodD1jO2Q9bXhSZWN0YW5nbGUuZnJvbVJlY3RhbmdsZShiKTtmPT1teENvbnN0YW50cy5ESVJFQ1RJT05fU09VVEg/KGQueT1iLngsZC54PWIuaGVpZ2h0LGQud2lkdGg9Yi55LGQuaGVpZ2h0PWIud2lkdGgpOmY9PW14Q29uc3RhbnRzLkRJUkVDVElPTl9XRVNUPyhkLnk9Yi5oZWlnaHQsCmQueD1iLndpZHRoLGQud2lkdGg9Yi54LGQuaGVpZ2h0PWIueSk6Zj09bXhDb25zdGFudHMuRElSRUNUSU9OX05PUlRIJiYoZC55PWIud2lkdGgsZC54PWIueSxkLndpZHRoPWIuaGVpZ2h0LGQuaGVpZ2h0PWIueCk7cmV0dXJuIG5ldyBteFJlY3RhbmdsZShhLngrZC54LGEueStkLnksYS53aWR0aC1kLndpZHRoLWQueCxhLmhlaWdodC1kLmhlaWdodC1kLnkpfSxnZXRQZXJpbWV0ZXJQb2ludDpmdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkPW51bGwsZT0wO2U8YS5sZW5ndGgtMTtlKyspe3ZhciBmPW14VXRpbHMuaW50ZXJzZWN0aW9uKGFbZV0ueCxhW2VdLnksYVtlKzFdLngsYVtlKzFdLnksYi54LGIueSxjLngsYy55KTtpZihudWxsIT1mKXt2YXIgZz1jLngtZi54LGs9Yy55LWYueSxmPXtwOmYsZGlzdFNxOmsqaytnKmd9O251bGwhPWYmJihudWxsPT1kfHxkLmRpc3RTcT5mLmRpc3RTcSkmJihkPWYpfX1yZXR1cm4gbnVsbCE9ZD9kLnA6bnVsbH0scmVjdGFuZ2xlSW50ZXJzZWN0c1NlZ21lbnQ6ZnVuY3Rpb24oYSwKYixjKXt2YXIgZD1hLnksZT1hLngsZj1kK2EuaGVpZ2h0LGc9ZSthLndpZHRoO2E9Yi54O3ZhciBrPWMueDtiLng+Yy54JiYoYT1jLngsaz1iLngpO2s+ZyYmKGs9Zyk7YTxlJiYoYT1lKTtpZihhPmspcmV0dXJuITE7dmFyIGU9Yi55LGc9Yy55LGw9Yy54LWIueDsxRS03PE1hdGguYWJzKGwpJiYoYz0oYy55LWIueSkvbCxiPWIueS1jKmIueCxlPWMqYStiLGc9YyprK2IpO2U+ZyYmKGI9ZyxnPWUsZT1iKTtnPmYmJihnPWYpO2U8ZCYmKGU9ZCk7cmV0dXJuIGU+Zz8hMTohMH0sY29udGFpbnM6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBhLng8PWImJmEueCthLndpZHRoPj1iJiZhLnk8PWMmJmEueSthLmhlaWdodD49Y30saW50ZXJzZWN0czpmdW5jdGlvbihhLGIpe3ZhciBjPWEud2lkdGgsZD1hLmhlaWdodCxlPWIud2lkdGgsZj1iLmhlaWdodDtpZigwPj1lfHwwPj1mfHwwPj1jfHwwPj1kKXJldHVybiExO3ZhciBnPWEueCxrPWEueSxsPWIueCxtPWIueSxlPWUrbCxmPWYrbSxjPWMrCmcsZD1kK2s7cmV0dXJuKGU8bHx8ZT5nKSYmKGY8bXx8Zj5rKSYmKGM8Z3x8Yz5sKSYmKGQ8a3x8ZD5tKX0saW50ZXJzZWN0c0hvdHNwb3Q6ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe2Q9bnVsbCE9ZD9kOjE7ZT1udWxsIT1lP2U6MDtmPW51bGwhPWY/ZjowO2lmKDA8ZCl7dmFyIGc9YS5nZXRDZW50ZXJYKCksaz1hLmdldENlbnRlclkoKSxsPWEud2lkdGgsbT1hLmhlaWdodCxuPW14VXRpbHMuZ2V0VmFsdWUoYS5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9TVEFSVFNJWkUpKmEudmlldy5zY2FsZTswPG4mJihteFV0aWxzLmdldFZhbHVlKGEuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfSE9SSVpPTlRBTCwhMCk/KGs9YS55K24vMixtPW4pOihnPWEueCtuLzIsbD1uKSk7bD1NYXRoLm1heChlLGwqZCk7bT1NYXRoLm1heChlLG0qZCk7MDxmJiYobD1NYXRoLm1pbihsLGYpLG09TWF0aC5taW4obSxmKSk7ZD1uZXcgbXhSZWN0YW5nbGUoZy1sLzIsay1tLzIsbCxtKTtnPW14VXRpbHMudG9SYWRpYW5zKG14VXRpbHMuZ2V0VmFsdWUoYS5zdHlsZSwKbXhDb25zdGFudHMuU1RZTEVfUk9UQVRJT04pfHwwKTswIT1nJiYoZT1NYXRoLmNvcygtZyksZj1NYXRoLnNpbigtZyksZz1uZXcgbXhQb2ludChhLmdldENlbnRlclgoKSxhLmdldENlbnRlclkoKSksYT1teFV0aWxzLmdldFJvdGF0ZWRQb2ludChuZXcgbXhQb2ludChiLGMpLGUsZixnKSxiPWEueCxjPWEueSk7cmV0dXJuIG14VXRpbHMuY29udGFpbnMoZCxiLGMpfXJldHVybiEwfSxnZXRPZmZzZXQ6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9MCxkPTAsZT0hMSxmPWEsZz1kb2N1bWVudC5ib2R5LGs9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O251bGwhPWYmJmYhPWcmJmYhPWsmJiFlOyl7dmFyIGw9bXhVdGlscy5nZXRDdXJyZW50U3R5bGUoZik7bnVsbCE9bCYmKGU9ZXx8ImZpeGVkIj09bC5wb3NpdGlvbik7Zj1mLnBhcmVudE5vZGV9Ynx8ZXx8KGU9bXhVdGlscy5nZXREb2N1bWVudFNjcm9sbE9yaWdpbihhLm93bmVyRG9jdW1lbnQpLGMrPWUueCxkKz1lLnkpO2U9YS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKbnVsbCE9ZSYmKGMrPWUubGVmdCxkKz1lLnRvcCk7cmV0dXJuIG5ldyBteFBvaW50KGMsZCl9LGdldERvY3VtZW50U2Nyb2xsT3JpZ2luOmZ1bmN0aW9uKGEpe2lmKG14Q2xpZW50LklTX1FVSVJLUylyZXR1cm4gbmV3IG14UG9pbnQoYS5ib2R5LnNjcm9sbExlZnQsYS5ib2R5LnNjcm9sbFRvcCk7YT1hLmRlZmF1bHRWaWV3fHxhLnBhcmVudFdpbmRvdztyZXR1cm4gbmV3IG14UG9pbnQobnVsbCE9YSYmdm9pZCAwIT09d2luZG93LnBhZ2VYT2Zmc2V0P3dpbmRvdy5wYWdlWE9mZnNldDooZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50fHxkb2N1bWVudC5ib2R5LnBhcmVudE5vZGV8fGRvY3VtZW50LmJvZHkpLnNjcm9sbExlZnQsbnVsbCE9YSYmdm9pZCAwIT09d2luZG93LnBhZ2VZT2Zmc2V0P3dpbmRvdy5wYWdlWU9mZnNldDooZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50fHxkb2N1bWVudC5ib2R5LnBhcmVudE5vZGV8fGRvY3VtZW50LmJvZHkpLnNjcm9sbFRvcCl9LGdldFNjcm9sbE9yaWdpbjpmdW5jdGlvbihhLApiLGMpe2I9bnVsbCE9Yj9iOiExO2M9bnVsbCE9Yz9jOiEwO2Zvcih2YXIgZD1udWxsIT1hP2Eub3duZXJEb2N1bWVudDpkb2N1bWVudCxlPWQuYm9keSxmPWQuZG9jdW1lbnRFbGVtZW50LGc9bmV3IG14UG9pbnQsaz0hMTtudWxsIT1hJiZhIT1lJiZhIT1mOyl7aXNOYU4oYS5zY3JvbGxMZWZ0KXx8aXNOYU4oYS5zY3JvbGxUb3ApfHwoZy54Kz1hLnNjcm9sbExlZnQsZy55Kz1hLnNjcm9sbFRvcCk7dmFyIGw9bXhVdGlscy5nZXRDdXJyZW50U3R5bGUoYSk7bnVsbCE9bCYmKGs9a3x8ImZpeGVkIj09bC5wb3NpdGlvbik7YT1iP2EucGFyZW50Tm9kZTpudWxsfSFrJiZjJiYoYT1teFV0aWxzLmdldERvY3VtZW50U2Nyb2xsT3JpZ2luKGQpLGcueCs9YS54LGcueSs9YS55KTtyZXR1cm4gZ30sY29udmVydFBvaW50OmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1teFV0aWxzLmdldFNjcm9sbE9yaWdpbihhLCExKTthPW14VXRpbHMuZ2V0T2Zmc2V0KGEpO2EueC09ZC54O2EueS09ZC55O3JldHVybiBuZXcgbXhQb2ludChiLQphLngsYy1hLnkpfSxsdHJpbTpmdW5jdGlvbihhLGIpe3JldHVybiBudWxsIT1hP2EucmVwbGFjZShuZXcgUmVnRXhwKCJeWyIrKGJ8fCJcXHMiKSsiXSsiLCJnIiksIiIpOm51bGx9LHJ0cmltOmZ1bmN0aW9uKGEsYil7cmV0dXJuIG51bGwhPWE/YS5yZXBsYWNlKG5ldyBSZWdFeHAoIlsiKyhifHwiXFxzIikrIl0rJCIsImciKSwiIik6bnVsbH0sdHJpbTpmdW5jdGlvbihhLGIpe3JldHVybiBteFV0aWxzLmx0cmltKG14VXRpbHMucnRyaW0oYSxiKSxiKX0saXNOdW1lcmljOmZ1bmN0aW9uKGEpe3JldHVybiFpc05hTihwYXJzZUZsb2F0KGEpKSYmaXNGaW5pdGUoYSkmJigic3RyaW5nIiE9dHlwZW9mIGF8fDA+YS50b0xvd2VyQ2FzZSgpLmluZGV4T2YoIjB4IikpfSxpc0ludGVnZXI6ZnVuY3Rpb24oYSl7cmV0dXJuIFN0cmluZyhwYXJzZUludChhKSk9PT1TdHJpbmcoYSl9LG1vZDpmdW5jdGlvbihhLGIpe3JldHVybihhJWIrYiklYn0saW50ZXJzZWN0aW9uOmZ1bmN0aW9uKGEsYiwKYyxkLGUsZixnLGspe3ZhciBsPShrLWYpKihjLWEpLShnLWUpKihkLWIpO2c9KChnLWUpKihiLWYpLShrLWYpKihhLWUpKS9sO2U9KChjLWEpKihiLWYpLShkLWIpKihhLWUpKS9sO3JldHVybiAwPD1nJiYxPj1nJiYwPD1lJiYxPj1lP25ldyBteFBvaW50KGErZyooYy1hKSxiK2cqKGQtYikpOm51bGx9LHB0U2VnRGlzdFNxOmZ1bmN0aW9uKGEsYixjLGQsZSxmKXtjLT1hO2QtPWI7ZS09YTtmLT1iOzA+PWUqYytmKmQ/Yz0wOihlPWMtZSxmPWQtZixhPWUqYytmKmQsYz0wPj1hPzA6YSphLyhjKmMrZCpkKSk7ZT1lKmUrZipmLWM7MD5lJiYoZT0wKTtyZXR1cm4gZX0scHRMaW5lRGlzdDpmdW5jdGlvbihhLGIsYyxkLGUsZil7cmV0dXJuIE1hdGguYWJzKChkLWIpKmUtKGMtYSkqZitjKmItZCphKS9NYXRoLnNxcnQoKGQtYikqKGQtYikrKGMtYSkqKGMtYSkpfSxyZWxhdGl2ZUNjdzpmdW5jdGlvbihhLGIsYyxkLGUsZil7Yy09YTtkLT1iO2UtPWE7Zi09YjthPWUqZC1mKmM7MD09YSYmCihhPWUqYytmKmQsMDxhJiYoYT0oZS1jKSpjKyhmLWQpKmQsMD5hJiYoYT0wKSkpO3JldHVybiAwPmE/LTE6MDxhPzE6MH0sYW5pbWF0ZUNoYW5nZXM6ZnVuY3Rpb24oYSxiKXtteEVmZmVjdHMuYW5pbWF0ZUNoYW5nZXMuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxjYXNjYWRlT3BhY2l0eTpmdW5jdGlvbihhLGIsYyl7bXhFZmZlY3RzLmNhc2NhZGVPcGFjaXR5LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sZmFkZU91dDpmdW5jdGlvbihhLGIsYyxkLGUsZil7bXhFZmZlY3RzLmZhZGVPdXQuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxzZXRPcGFjaXR5OmZ1bmN0aW9uKGEsYil7bXhVdGlscy5pc1ZtbChhKT9hLnN0eWxlLmZpbHRlcj0xMDA8PWI/IiI6ImFscGhhKG9wYWNpdHk9IitiLzUrIikiOm14Q2xpZW50LklTX0lFJiYoInVuZGVmaW5lZCI9PT10eXBlb2YgZG9jdW1lbnQuZG9jdW1lbnRNb2RlfHw5PmRvY3VtZW50LmRvY3VtZW50TW9kZSk/YS5zdHlsZS5maWx0ZXI9MTAwPD1iPyIiOgoiYWxwaGEob3BhY2l0eT0iK2IrIikiOmEuc3R5bGUub3BhY2l0eT1iLzEwMH0sY3JlYXRlSW1hZ2U6ZnVuY3Rpb24oYSl7dmFyIGI7bXhDbGllbnQuSVNfSUU2JiYiQ1NTMUNvbXBhdCIhPWRvY3VtZW50LmNvbXBhdE1vZGU/KGI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChteENsaWVudC5WTUxfUFJFRklYKyI6aW1hZ2UiKSxiLnNldEF0dHJpYnV0ZSgic3JjIixhKSxiLnN0eWxlLmJvcmRlclN0eWxlPSJub25lIik6KGI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW1nIiksYi5zZXRBdHRyaWJ1dGUoInNyYyIsYSksYi5zZXRBdHRyaWJ1dGUoImJvcmRlciIsIjAiKSk7cmV0dXJuIGJ9LHNvcnRDZWxsczpmdW5jdGlvbihhLGIpe2I9bnVsbCE9Yj9iOiEwO3ZhciBjPW5ldyBteERpY3Rpb25hcnk7YS5zb3J0KGZ1bmN0aW9uKGEsZSl7dmFyIGQ9Yy5nZXQoYSk7bnVsbD09ZCYmKGQ9bXhDZWxsUGF0aC5jcmVhdGUoYSkuc3BsaXQobXhDZWxsUGF0aC5QQVRIX1NFUEFSQVRPUiksYy5wdXQoYSwKZCkpO3ZhciBnPWMuZ2V0KGUpO251bGw9PWcmJihnPW14Q2VsbFBhdGguY3JlYXRlKGUpLnNwbGl0KG14Q2VsbFBhdGguUEFUSF9TRVBBUkFUT1IpLGMucHV0KGUsZykpO2Q9bXhDZWxsUGF0aC5jb21wYXJlKGQsZyk7cmV0dXJuIDA9PWQ/MDowPGQ9PWI/MTotMX0pO3JldHVybiBhfSxnZXRTdHlsZW5hbWU6ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPWEmJihhPWEuc3BsaXQoIjsiKVswXSwwPmEuaW5kZXhPZigiPSIpKT9hOiIifSxnZXRTdHlsZW5hbWVzOmZ1bmN0aW9uKGEpe3ZhciBiPVtdO2lmKG51bGwhPWEpe2E9YS5zcGxpdCgiOyIpO2Zvcih2YXIgYz0wO2M8YS5sZW5ndGg7YysrKTA+YVtjXS5pbmRleE9mKCI9IikmJmIucHVzaChhW2NdKX1yZXR1cm4gYn0saW5kZXhPZlN0eWxlbmFtZTpmdW5jdGlvbihhLGIpe2lmKG51bGwhPWEmJm51bGwhPWIpZm9yKHZhciBjPWEuc3BsaXQoIjsiKSxkPTAsZT0wO2U8Yy5sZW5ndGg7ZSsrKXtpZihjW2VdPT1iKXJldHVybiBkO2QrPWNbZV0ubGVuZ3RoKwoxfXJldHVybi0xfSxhZGRTdHlsZW5hbWU6ZnVuY3Rpb24oYSxiKXswPm14VXRpbHMuaW5kZXhPZlN0eWxlbmFtZShhLGIpJiYobnVsbD09YT9hPSIiOjA8YS5sZW5ndGgmJiI7IiE9YS5jaGFyQXQoYS5sZW5ndGgtMSkmJihhKz0iOyIpLGErPWIpO3JldHVybiBhfSxyZW1vdmVTdHlsZW5hbWU6ZnVuY3Rpb24oYSxiKXt2YXIgYz1bXTtpZihudWxsIT1hKWZvcih2YXIgZD1hLnNwbGl0KCI7IiksZT0wO2U8ZC5sZW5ndGg7ZSsrKWRbZV0hPWImJmMucHVzaChkW2VdKTtyZXR1cm4gYy5qb2luKCI7Iil9LHJlbW92ZUFsbFN0eWxlbmFtZXM6ZnVuY3Rpb24oYSl7dmFyIGI9W107aWYobnVsbCE9YSl7YT1hLnNwbGl0KCI7Iik7Zm9yKHZhciBjPTA7YzxhLmxlbmd0aDtjKyspMDw9YVtjXS5pbmRleE9mKCI9IikmJmIucHVzaChhW2NdKX1yZXR1cm4gYi5qb2luKCI7Iil9LHNldENlbGxTdHlsZXM6ZnVuY3Rpb24oYSxiLGMsZCl7aWYobnVsbCE9YiYmMDxiLmxlbmd0aCl7YS5iZWdpblVwZGF0ZSgpOwp0cnl7Zm9yKHZhciBlPTA7ZTxiLmxlbmd0aDtlKyspaWYobnVsbCE9YltlXSl7dmFyIGY9bXhVdGlscy5zZXRTdHlsZShhLmdldFN0eWxlKGJbZV0pLGMsZCk7YS5zZXRTdHlsZShiW2VdLGYpfX1maW5hbGx5e2EuZW5kVXBkYXRlKCl9fX0sc2V0U3R5bGU6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPW51bGwhPWMmJigidW5kZWZpbmVkIj09dHlwZW9mIGMubGVuZ3RofHwwPGMubGVuZ3RoKTtpZihudWxsPT1hfHwwPT1hLmxlbmd0aClkJiYoYT1iKyI9IitjKyI7Iik7ZWxzZSBpZihhLnN1YnN0cmluZygwLGIubGVuZ3RoKzEpPT1iKyI9Iil7dmFyIGU9YS5pbmRleE9mKCI7Iik7YT1kP2IrIj0iK2MrKDA+ZT8iOyI6YS5zdWJzdHJpbmcoZSkpOjA+ZXx8ZT09YS5sZW5ndGgtMT8iIjphLnN1YnN0cmluZyhlKzEpfWVsc2V7dmFyIGY9YS5pbmRleE9mKCI7IitiKyI9Iik7MD5mP2QmJihkPSI7Ij09YS5jaGFyQXQoYS5sZW5ndGgtMSk/IiI6IjsiLGE9YStkK2IrIj0iK2MrIjsiKTooZT1hLmluZGV4T2YoIjsiLApmKzEpLGE9ZD9hLnN1YnN0cmluZygwLGYrMSkrYisiPSIrYysoMD5lPyI7IjphLnN1YnN0cmluZyhlKSk6YS5zdWJzdHJpbmcoMCxmKSsoMD5lPyI7IjphLnN1YnN0cmluZyhlKSkpfXJldHVybiBhfSxzZXRDZWxsU3R5bGVGbGFnczpmdW5jdGlvbihhLGIsYyxkLGUpe2lmKG51bGwhPWImJjA8Yi5sZW5ndGgpe2EuYmVnaW5VcGRhdGUoKTt0cnl7Zm9yKHZhciBmPTA7ZjxiLmxlbmd0aDtmKyspaWYobnVsbCE9YltmXSl7dmFyIGc9bXhVdGlscy5zZXRTdHlsZUZsYWcoYS5nZXRTdHlsZShiW2ZdKSxjLGQsZSk7YS5zZXRTdHlsZShiW2ZdLGcpfX1maW5hbGx5e2EuZW5kVXBkYXRlKCl9fX0sc2V0U3R5bGVGbGFnOmZ1bmN0aW9uKGEsYixjLGQpe2lmKG51bGw9PWF8fDA9PWEubGVuZ3RoKWE9ZHx8bnVsbD09ZD9iKyI9IitjOmIrIj0wIjtlbHNle3ZhciBlPWEuaW5kZXhPZihiKyI9Iik7aWYoMD5lKWU9IjsiPT1hLmNoYXJBdChhLmxlbmd0aC0xKT8iIjoiOyIsYT1kfHxudWxsPT1kP2ErCmUrYisiPSIrYzphK2UrYisiPTAiO2Vsc2V7dmFyIGY9YS5pbmRleE9mKCI7IixlKSxnO2c9MD5mP2Euc3Vic3RyaW5nKGUrYi5sZW5ndGgrMSk6YS5zdWJzdHJpbmcoZStiLmxlbmd0aCsxLGYpO2c9bnVsbD09ZD9wYXJzZUludChnKV5jOmQ/cGFyc2VJbnQoZyl8YzpwYXJzZUludChnKSZ+YzthPWEuc3Vic3RyaW5nKDAsZSkrYisiPSIrZysoMDw9Zj9hLnN1YnN0cmluZyhmKToiIil9fXJldHVybiBhfSxnZXRBbGlnbm1lbnRBc1BvaW50OmZ1bmN0aW9uKGEsYil7dmFyIGM9LS41LGQ9LS41O2E9PW14Q29uc3RhbnRzLkFMSUdOX0xFRlQ/Yz0wOmE9PW14Q29uc3RhbnRzLkFMSUdOX1JJR0hUJiYoYz0tMSk7Yj09bXhDb25zdGFudHMuQUxJR05fVE9QP2Q9MDpiPT1teENvbnN0YW50cy5BTElHTl9CT1RUT00mJihkPS0xKTtyZXR1cm4gbmV3IG14UG9pbnQoYyxkKX0sZ2V0U2l6ZUZvclN0cmluZzpmdW5jdGlvbihhLGIsYyxkLGUpe2I9bnVsbCE9Yj9iOm14Q29uc3RhbnRzLkRFRkFVTFRfRk9OVFNJWkU7CmM9bnVsbCE9Yz9jOm14Q29uc3RhbnRzLkRFRkFVTFRfRk9OVEZBTUlMWTt2YXIgZj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtmLnN0eWxlLmZvbnRGYW1pbHk9YztmLnN0eWxlLmZvbnRTaXplPU1hdGgucm91bmQoYikrInB4IjtmLnN0eWxlLmxpbmVIZWlnaHQ9TWF0aC5yb3VuZChiKm14Q29uc3RhbnRzLkxJTkVfSEVJR0hUKSsicHgiO251bGwhPWUmJigoZSZteENvbnN0YW50cy5GT05UX0JPTEQpPT1teENvbnN0YW50cy5GT05UX0JPTEQmJihmLnN0eWxlLmZvbnRXZWlnaHQ9ImJvbGQiKSwoZSZteENvbnN0YW50cy5GT05UX0lUQUxJQyk9PW14Q29uc3RhbnRzLkZPTlRfSVRBTElDJiYoZi5zdHlsZS5mb250U3R5bGU9Iml0YWxpYyIpLGI9W10sKGUmbXhDb25zdGFudHMuRk9OVF9VTkRFUkxJTkUpPT1teENvbnN0YW50cy5GT05UX1VOREVSTElORSYmYi5wdXNoKCJ1bmRlcmxpbmUiKSwoZSZteENvbnN0YW50cy5GT05UX1NUUklLRVRIUk9VR0gpPT1teENvbnN0YW50cy5GT05UX1NUUklLRVRIUk9VR0gmJgpiLnB1c2goImxpbmUtdGhyb3VnaCIpLDA8Yi5sZW5ndGgmJihmLnN0eWxlLnRleHREZWNvcmF0aW9uPWIuam9pbigiICIpKSk7Zi5zdHlsZS5wb3NpdGlvbj0iYWJzb2x1dGUiO2Yuc3R5bGUudmlzaWJpbGl0eT0iaGlkZGVuIjtmLnN0eWxlLmRpc3BsYXk9bXhDbGllbnQuSVNfUVVJUktTPyJpbmxpbmUiOiJpbmxpbmUtYmxvY2siO2Yuc3R5bGUuem9vbT0iMSI7bnVsbCE9ZD8oZi5zdHlsZS53aWR0aD1kKyJweCIsZi5zdHlsZS53aGl0ZVNwYWNlPSJub3JtYWwiKTpmLnN0eWxlLndoaXRlU3BhY2U9Im5vd3JhcCI7Zi5pbm5lckhUTUw9YTtkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGYpO2E9bmV3IG14UmVjdGFuZ2xlKDAsMCxmLm9mZnNldFdpZHRoLGYub2Zmc2V0SGVpZ2h0KTtkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGYpO3JldHVybiBhfSxnZXRWaWV3WG1sOmZ1bmN0aW9uKGEsYixjLGQsZSl7ZD1udWxsIT1kP2Q6MDtlPW51bGwhPWU/ZTowO2I9bnVsbCE9Yj9iOjE7bnVsbD09CmMmJihjPVthLmdldE1vZGVsKCkuZ2V0Um9vdCgpXSk7dmFyIGY9YS5nZXRWaWV3KCksZz1udWxsLGs9Zi5pc0V2ZW50c0VuYWJsZWQoKTtmLnNldEV2ZW50c0VuYWJsZWQoITEpO3ZhciBsPWYuZHJhd1BhbmUsbT1mLm92ZXJsYXlQYW5lO2EuZGlhbGVjdD09bXhDb25zdGFudHMuRElBTEVDVF9TVkc/KGYuZHJhd1BhbmU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKG14Q29uc3RhbnRzLk5TX1NWRywiZyIpLGYuY2FudmFzLmFwcGVuZENoaWxkKGYuZHJhd1BhbmUpLGYub3ZlcmxheVBhbmU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKG14Q29uc3RhbnRzLk5TX1NWRywiZyIpKTooZi5kcmF3UGFuZT1mLmRyYXdQYW5lLmNsb25lTm9kZSghMSksZi5jYW52YXMuYXBwZW5kQ2hpbGQoZi5kcmF3UGFuZSksZi5vdmVybGF5UGFuZT1mLm92ZXJsYXlQYW5lLmNsb25lTm9kZSghMSkpO2YuY2FudmFzLmFwcGVuZENoaWxkKGYub3ZlcmxheVBhbmUpO3ZhciBuPWYuZ2V0VHJhbnNsYXRlKCk7Zi50cmFuc2xhdGU9Cm5ldyBteFBvaW50KGQsZSk7Yj1uZXcgbXhUZW1wb3JhcnlDZWxsU3RhdGVzKGEuZ2V0VmlldygpLGIsYyk7dHJ5e2c9KG5ldyBteENvZGVjKS5lbmNvZGUoYS5nZXRWaWV3KCkpfWZpbmFsbHl7Yi5kZXN0cm95KCksZi50cmFuc2xhdGU9bixmLmNhbnZhcy5yZW1vdmVDaGlsZChmLmRyYXdQYW5lKSxmLmNhbnZhcy5yZW1vdmVDaGlsZChmLm92ZXJsYXlQYW5lKSxmLmRyYXdQYW5lPWwsZi5vdmVybGF5UGFuZT1tLGYuc2V0RXZlbnRzRW5hYmxlZChrKX1yZXR1cm4gZ30sZ2V0U2NhbGVGb3JQYWdlQ291bnQ6ZnVuY3Rpb24oYSxiLGMsZCl7aWYoMT5hKXJldHVybiAxO2M9bnVsbCE9Yz9jOm14Q29uc3RhbnRzLlBBR0VfRk9STUFUX0E0X1BPUlRSQUlUO2Q9bnVsbCE9ZD9kOjA7dmFyIGU9Yy53aWR0aC0yKmQ7Yz1jLmhlaWdodC0yKmQ7ZD1iLmdldEdyYXBoQm91bmRzKCkuY2xvbmUoKTtiPWIuZ2V0VmlldygpLmdldFNjYWxlKCk7ZC53aWR0aC89YjtkLmhlaWdodC89YjtiPWQud2lkdGg7CnZhciBmPU1hdGguc3FydChhKTtkPU1hdGguc3FydChiL2QuaGVpZ2h0LyhlL2MpKTtjPWYqZDtkPWYvZDtpZigxPmMmJmQ+YSl7dmFyIGc9ZC9hO2Q9YTtjLz1nfTE+ZCYmYz5hJiYoZz1jL2EsYz1hLGQvPWcpO2c9TWF0aC5jZWlsKGMpKk1hdGguY2VpbChkKTtmb3IoZj0wO2c+YTspe3ZhciBnPU1hdGguZmxvb3IoYykvYyxrPU1hdGguZmxvb3IoZCkvZDsxPT1nJiYoZz1NYXRoLmZsb29yKGMtMSkvYyk7MT09ayYmKGs9TWF0aC5mbG9vcihkLTEpL2QpO2c9Zz5rP2c6aztjKj1nO2QqPWc7Zz1NYXRoLmNlaWwoYykqTWF0aC5jZWlsKGQpO2YrKztpZigxMDxmKWJyZWFrfXJldHVybiBlKmMvYiouOTk5OTl9LHNob3c6ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe2M9bnVsbCE9Yz9jOjA7ZD1udWxsIT1kP2Q6MDtudWxsPT1iP2I9d2luZG93Lm9wZW4oKS5kb2N1bWVudDpiLm9wZW4oKTs5PT1kb2N1bWVudC5kb2N1bWVudE1vZGUmJmIud3JpdGVsbignXHgzYyEtLVtpZiBJRV0+PG1ldGEgaHR0cC1lcXVpdj0iWC1VQS1Db21wYXRpYmxlIiBjb250ZW50PSJJRT05Ij48IVtlbmRpZl0tLVx4M2UnKTsKdmFyIGc9YS5nZXRHcmFwaEJvdW5kcygpLGs9TWF0aC5jZWlsKGMtZy54KSxsPU1hdGguY2VpbChkLWcueSk7bnVsbD09ZSYmKGU9TWF0aC5jZWlsKGcud2lkdGgrYykrTWF0aC5jZWlsKE1hdGguY2VpbChnLngpLWcueCkpO251bGw9PWYmJihmPU1hdGguY2VpbChnLmhlaWdodCtkKStNYXRoLmNlaWwoTWF0aC5jZWlsKGcueSktZy55KSk7aWYobXhDbGllbnQuSVNfSUV8fDExPT1kb2N1bWVudC5kb2N1bWVudE1vZGUpe2Q9IjxodG1sPjxoZWFkPiI7Zz1kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiYmFzZSIpO2ZvcihjPTA7YzxnLmxlbmd0aDtjKyspZCs9Z1tjXS5vdXRlckhUTUw7ZCs9IjxzdHlsZT4iO2ZvcihjPTA7Yzxkb2N1bWVudC5zdHlsZVNoZWV0cy5sZW5ndGg7YysrKXRyeXtkKz1kb2N1bWVudC5zdHlsZVNoZWV0c1tjXS5jc3NUZXh0fWNhdGNoKG0pe31kPWQrJzwvc3R5bGU+PC9oZWFkPjxib2R5IHN0eWxlPSJtYXJnaW46MHB4OyI+JysoJzxkaXYgc3R5bGU9InBvc2l0aW9uOmFic29sdXRlO292ZXJmbG93OmhpZGRlbjt3aWR0aDonKwplKyJweDtoZWlnaHQ6IitmKydweDsiPjxkaXYgc3R5bGU9InBvc2l0aW9uOnJlbGF0aXZlO2xlZnQ6JytrKyJweDt0b3A6IitsKydweDsiPicpK2EuY29udGFpbmVyLmlubmVySFRNTDtiLndyaXRlbG4oZCsiPC9kaXY+PC9kaXY+PC9ib2R5PjxodG1sPiIpO2IuY2xvc2UoKX1lbHNle2Iud3JpdGVsbigiPGh0bWw+PGhlYWQ+Iik7Zz1kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiYmFzZSIpO2ZvcihjPTA7YzxnLmxlbmd0aDtjKyspYi53cml0ZWxuKG14VXRpbHMuZ2V0T3V0ZXJIdG1sKGdbY10pKTtkPWRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJsaW5rIik7Zm9yKGM9MDtjPGQubGVuZ3RoO2MrKyliLndyaXRlbG4obXhVdGlscy5nZXRPdXRlckh0bWwoZFtjXSkpO2Q9ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInN0eWxlIik7Zm9yKGM9MDtjPGQubGVuZ3RoO2MrKyliLndyaXRlbG4obXhVdGlscy5nZXRPdXRlckh0bWwoZFtjXSkpO2Iud3JpdGVsbignPC9oZWFkPjxib2R5IHN0eWxlPSJtYXJnaW46MHB4OyI+PC9ib2R5PjwvaHRtbD4nKTsKYi5jbG9zZSgpO2M9Yi5jcmVhdGVFbGVtZW50KCJkaXYiKTtjLnBvc2l0aW9uPSJhYnNvbHV0ZSI7Yy5vdmVyZmxvdz0iaGlkZGVuIjtjLnN0eWxlLndpZHRoPWUrInB4IjtjLnN0eWxlLmhlaWdodD1mKyJweCI7ZT1iLmNyZWF0ZUVsZW1lbnQoImRpdiIpO2Uuc3R5bGUucG9zaXRpb249ImFic29sdXRlIjtlLnN0eWxlLmxlZnQ9aysicHgiO2Uuc3R5bGUudG9wPWwrInB4IjtmPWEuY29udGFpbmVyLmZpcnN0Q2hpbGQ7Zm9yKGQ9bnVsbDtudWxsIT1mOylnPWYuY2xvbmVOb2RlKCEwKSxmPT1hLnZpZXcuZHJhd1BhbmUub3duZXJTVkdFbGVtZW50PyhjLmFwcGVuZENoaWxkKGcpLGQ9Zyk6ZS5hcHBlbmRDaGlsZChnKSxmPWYubmV4dFNpYmxpbmc7Yi5ib2R5LmFwcGVuZENoaWxkKGMpO251bGwhPWUuZmlyc3RDaGlsZCYmYi5ib2R5LmFwcGVuZENoaWxkKGUpO251bGwhPWQmJihkLnN0eWxlLm1pbldpZHRoPSIiLGQuc3R5bGUubWluSGVpZ2h0PSIiLGQuZmlyc3RDaGlsZC5zZXRBdHRyaWJ1dGUoInRyYW5zZm9ybSIsCiJ0cmFuc2xhdGUoIitrKyIsIitsKyIpIikpfW14VXRpbHMucmVtb3ZlQ3Vyc29ycyhiLmJvZHkpO3JldHVybiBifSxwcmludFNjcmVlbjpmdW5jdGlvbihhKXt2YXIgYj13aW5kb3cub3BlbigpO2EuZ2V0R3JhcGhCb3VuZHMoKTtteFV0aWxzLnNob3coYSxiLmRvY3VtZW50KTthPWZ1bmN0aW9uKCl7Yi5mb2N1cygpO2IucHJpbnQoKTtiLmNsb3NlKCl9O214Q2xpZW50LklTX0dDP2Iuc2V0VGltZW91dChhLDUwMCk6YSgpfSxwb3B1cDpmdW5jdGlvbihhLGIpe2lmKGIpe3ZhciBjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2Muc3R5bGUub3ZlcmZsb3c9InNjcm9sbCI7Yy5zdHlsZS53aWR0aD0iNjM2cHgiO2Muc3R5bGUuaGVpZ2h0PSI0NjBweCI7dmFyIGQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgicHJlIik7ZC5pbm5lckhUTUw9bXhVdGlscy5odG1sRW50aXRpZXMoYSwhMSkucmVwbGFjZSgvXG4vZywiPGJyPiIpLnJlcGxhY2UoLyAvZywiJm5ic3A7Iik7Yy5hcHBlbmRDaGlsZChkKTsKYz1uZXcgbXhXaW5kb3coIlBvcHVwIFdpbmRvdyIsYyxkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoLzItMzIwLE1hdGgubWF4KGRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0fHwwLGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQpLzItMjQwLDY0MCw0ODAsITEsITApO2Muc2V0Q2xvc2FibGUoITApO2Muc2V0VmlzaWJsZSghMCl9ZWxzZSBteENsaWVudC5JU19OUz8oYz13aW5kb3cub3BlbigpLGMuZG9jdW1lbnQud3JpdGVsbigiPHByZT4iK214VXRpbHMuaHRtbEVudGl0aWVzKGEpKyI8L3ByZSIpLGMuZG9jdW1lbnQuY2xvc2UoKSk6KGM9d2luZG93Lm9wZW4oKSxkPWMuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgicHJlIiksZC5pbm5lckhUTUw9bXhVdGlscy5odG1sRW50aXRpZXMoYSwhMSkucmVwbGFjZSgvXG4vZywiPGJyPiIpLnJlcGxhY2UoLyAvZywiJm5ic3A7IiksYy5kb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGQpKX0sYWxlcnQ6ZnVuY3Rpb24oYSl7YWxlcnQoYSl9LApwcm9tcHQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gcHJvbXB0KGEsbnVsbCE9Yj9iOiIiKX0sY29uZmlybTpmdW5jdGlvbihhKXtyZXR1cm4gY29uZmlybShhKX0sZXJyb3I6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7ZS5zdHlsZS5wYWRkaW5nPSIyMHB4Ijt2YXIgZj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbWciKTtmLnNldEF0dHJpYnV0ZSgic3JjIixkfHxteFV0aWxzLmVycm9ySW1hZ2UpO2Yuc2V0QXR0cmlidXRlKCJ2YWxpZ24iLCJib3R0b20iKTtmLnN0eWxlLnZlcnRpY2FsQWxpZ249Im1pZGRsZSI7ZS5hcHBlbmRDaGlsZChmKTtlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCLCoCIpKTtlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCLCoCIpKTtlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCLCoCIpKTtteFV0aWxzLndyaXRlKGUsYSk7YT1kb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoOwpkPWRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0fHxkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0O3ZhciBnPW5ldyBteFdpbmRvdyhteFJlc291cmNlcy5nZXQobXhVdGlscy5lcnJvclJlc291cmNlKXx8bXhVdGlscy5lcnJvclJlc291cmNlLGUsKGEtYikvMixkLzQsYixudWxsLCExLCEwKTtjJiYobXhVdGlscy5icihlKSxiPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInAiKSxjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImJ1dHRvbiIpLG14Q2xpZW50LklTX0lFP2Muc3R5bGUuY3NzVGV4dD0iZmxvYXQ6cmlnaHQiOmMuc2V0QXR0cmlidXRlKCJzdHlsZSIsImZsb2F0OnJpZ2h0IiksbXhFdmVudC5hZGRMaXN0ZW5lcihjLCJjbGljayIsZnVuY3Rpb24oYSl7Zy5kZXN0cm95KCl9KSxteFV0aWxzLndyaXRlKGMsbXhSZXNvdXJjZXMuZ2V0KG14VXRpbHMuY2xvc2VSZXNvdXJjZSl8fG14VXRpbHMuY2xvc2VSZXNvdXJjZSksYi5hcHBlbmRDaGlsZChjKSxlLmFwcGVuZENoaWxkKGIpLApteFV0aWxzLmJyKGUpLGcuc2V0Q2xvc2FibGUoITApKTtnLnNldFZpc2libGUoITApO3JldHVybiBnfSxtYWtlRHJhZ2dhYmxlOmZ1bmN0aW9uKGEsYixjLGQsZSxmLGcsayxsLG0pe2E9bmV3IG14RHJhZ1NvdXJjZShhLGMpO2EuZHJhZ09mZnNldD1uZXcgbXhQb2ludChudWxsIT1lP2U6MCxudWxsIT1mP2Y6bXhDb25zdGFudHMuVE9PTFRJUF9WRVJUSUNBTF9PRkZTRVQpO2EuYXV0b3Njcm9sbD1nO2Euc2V0R3VpZGVzRW5hYmxlZCghMSk7bnVsbCE9bCYmKGEuaGlnaGxpZ2h0RHJvcFRhcmdldHM9bCk7bnVsbCE9bSYmKGEuZ2V0RHJvcFRhcmdldD1tKTthLmdldEdyYXBoRm9yRXZlbnQ9ZnVuY3Rpb24oYSl7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIGI/YihhKTpifTtudWxsIT1kJiYoYS5jcmVhdGVEcmFnRWxlbWVudD1mdW5jdGlvbigpe3JldHVybiBkLmNsb25lTm9kZSghMCl9LGsmJihhLmNyZWF0ZVByZXZpZXdFbGVtZW50PWZ1bmN0aW9uKGEpe3ZhciBiPWQuY2xvbmVOb2RlKCEwKSwKYz1wYXJzZUludChiLnN0eWxlLndpZHRoKSxlPXBhcnNlSW50KGIuc3R5bGUuaGVpZ2h0KTtiLnN0eWxlLndpZHRoPU1hdGgucm91bmQoYyphLnZpZXcuc2NhbGUpKyJweCI7Yi5zdHlsZS5oZWlnaHQ9TWF0aC5yb3VuZChlKmEudmlldy5zY2FsZSkrInB4IjtyZXR1cm4gYn0pKTtyZXR1cm4gYX19LG14Q29uc3RhbnRzPXtERUZBVUxUX0hPVFNQT1Q6LjMsTUlOX0hPVFNQT1RfU0laRTo4LE1BWF9IT1RTUE9UX1NJWkU6MCxSRU5ERVJJTkdfSElOVF9FWEFDVDoiZXhhY3QiLFJFTkRFUklOR19ISU5UX0ZBU1RFUjoiZmFzdGVyIixSRU5ERVJJTkdfSElOVF9GQVNURVNUOiJmYXN0ZXN0IixESUFMRUNUX1NWRzoic3ZnIixESUFMRUNUX1ZNTDoidm1sIixESUFMRUNUX01JWEVESFRNTDoibWl4ZWRIdG1sIixESUFMRUNUX1BSRUZFUkhUTUw6InByZWZlckh0bWwiLERJQUxFQ1RfU1RSSUNUSFRNTDoic3RyaWN0SHRtbCIsTlNfU1ZHOiJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsTlNfWEhUTUw6Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiLApOU19YTElOSzoiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIsU0hBRE9XQ09MT1I6ImdyYXkiLFZNTF9TSEFET1dDT0xPUjoiZ3JheSIsU0hBRE9XX09GRlNFVF9YOjIsU0hBRE9XX09GRlNFVF9ZOjMsU0hBRE9XX09QQUNJVFk6MSxOT0RFVFlQRV9FTEVNRU5UOjEsTk9ERVRZUEVfQVRUUklCVVRFOjIsTk9ERVRZUEVfVEVYVDozLE5PREVUWVBFX0NEQVRBOjQsTk9ERVRZUEVfRU5USVRZX1JFRkVSRU5DRTo1LE5PREVUWVBFX0VOVElUWTo2LE5PREVUWVBFX1BST0NFU1NJTkdfSU5TVFJVQ1RJT046NyxOT0RFVFlQRV9DT01NRU5UOjgsTk9ERVRZUEVfRE9DVU1FTlQ6OSxOT0RFVFlQRV9ET0NVTUVOVFRZUEU6MTAsTk9ERVRZUEVfRE9DVU1FTlRfRlJBR01FTlQ6MTEsTk9ERVRZUEVfTk9UQVRJT046MTIsVE9PTFRJUF9WRVJUSUNBTF9PRkZTRVQ6MTYsREVGQVVMVF9WQUxJRF9DT0xPUjoiIzAwRkYwMCIsREVGQVVMVF9JTlZBTElEX0NPTE9SOiIjRkYwMDAwIixPVVRMSU5FX0hJR0hMSUdIVF9DT0xPUjoiIzAwRkYwMCIsCk9VVExJTkVfSElHSExJR0hUX1NUUk9LRVdJRFRIOjUsSElHSExJR0hUX1NUUk9LRVdJRFRIOjMsSElHSExJR0hUX1NJWkU6MixISUdITElHSFRfT1BBQ0lUWToxMDAsQ1VSU09SX01PVkFCTEVfVkVSVEVYOiJtb3ZlIixDVVJTT1JfTU9WQUJMRV9FREdFOiJtb3ZlIixDVVJTT1JfTEFCRUxfSEFORExFOiJkZWZhdWx0IixDVVJTT1JfVEVSTUlOQUxfSEFORExFOiJwb2ludGVyIixDVVJTT1JfQkVORF9IQU5ETEU6ImNyb3NzaGFpciIsQ1VSU09SX1ZJUlRVQUxfQkVORF9IQU5ETEU6ImNyb3NzaGFpciIsQ1VSU09SX0NPTk5FQ1Q6InBvaW50ZXIiLEhJR0hMSUdIVF9DT0xPUjoiIzAwRkYwMCIsQ09OTkVDVF9UQVJHRVRfQ09MT1I6IiMwMDAwRkYiLElOVkFMSURfQ09OTkVDVF9UQVJHRVRfQ09MT1I6IiNGRjAwMDAiLERST1BfVEFSR0VUX0NPTE9SOiIjMDAwMEZGIixWQUxJRF9DT0xPUjoiIzAwRkYwMCIsSU5WQUxJRF9DT0xPUjoiI0ZGMDAwMCIsRURHRV9TRUxFQ1RJT05fQ09MT1I6IiMwMEZGMDAiLApWRVJURVhfU0VMRUNUSU9OX0NPTE9SOiIjMDBGRjAwIixWRVJURVhfU0VMRUNUSU9OX1NUUk9LRVdJRFRIOjEsRURHRV9TRUxFQ1RJT05fU1RST0tFV0lEVEg6MSxWRVJURVhfU0VMRUNUSU9OX0RBU0hFRDohMCxFREdFX1NFTEVDVElPTl9EQVNIRUQ6ITAsR1VJREVfQ09MT1I6IiNGRjAwMDAiLEdVSURFX1NUUk9LRVdJRFRIOjEsT1VUTElORV9DT0xPUjoiIzAwOTlGRiIsT1VUTElORV9TVFJPS0VXSURUSDpteENsaWVudC5JU19JRT8yOjMsSEFORExFX1NJWkU6NixMQUJFTF9IQU5ETEVfU0laRTo0LEhBTkRMRV9GSUxMQ09MT1I6IiMwMEZGMDAiLEhBTkRMRV9TVFJPS0VDT0xPUjoiYmxhY2siLExBQkVMX0hBTkRMRV9GSUxMQ09MT1I6InllbGxvdyIsQ09OTkVDVF9IQU5ETEVfRklMTENPTE9SOiIjMDAwMEZGIixMT0NLRURfSEFORExFX0ZJTExDT0xPUjoiI0ZGMDAwMCIsT1VUTElORV9IQU5ETEVfRklMTENPTE9SOiIjMDBGRkZGIixPVVRMSU5FX0hBTkRMRV9TVFJPS0VDT0xPUjoiIzAwMzNGRiIsCkRFRkFVTFRfRk9OVEZBTUlMWToiQXJpYWwsSGVsdmV0aWNhIixERUZBVUxUX0ZPTlRTSVpFOjExLERFRkFVTFRfVEVYVF9ESVJFQ1RJT046IiIsTElORV9IRUlHSFQ6MS4yLFdPUkRfV1JBUDoibm9ybWFsIixBQlNPTFVURV9MSU5FX0hFSUdIVDohMSxERUZBVUxUX0ZPTlRTVFlMRTowLERFRkFVTFRfU1RBUlRTSVpFOjQwLERFRkFVTFRfTUFSS0VSU0laRTo2LERFRkFVTFRfSU1BR0VTSVpFOjI0LEVOVElUWV9TRUdNRU5UOjMwLFJFQ1RBTkdMRV9ST1VORElOR19GQUNUT1I6LjE1LExJTkVfQVJDU0laRToyMCxBUlJPV19TUEFDSU5HOjAsQVJST1dfV0lEVEg6MzAsQVJST1dfU0laRTozMCxQQUdFX0ZPUk1BVF9BNF9QT1JUUkFJVDpuZXcgbXhSZWN0YW5nbGUoMCwwLDgyNywxMTY5KSxQQUdFX0ZPUk1BVF9BNF9MQU5EU0NBUEU6bmV3IG14UmVjdGFuZ2xlKDAsMCwxMTY5LDgyNyksUEFHRV9GT1JNQVRfTEVUVEVSX1BPUlRSQUlUOm5ldyBteFJlY3RhbmdsZSgwLDAsODUwLDExMDApLApQQUdFX0ZPUk1BVF9MRVRURVJfTEFORFNDQVBFOm5ldyBteFJlY3RhbmdsZSgwLDAsMTEwMCw4NTApLE5PTkU6Im5vbmUiLFNUWUxFX1BFUklNRVRFUjoicGVyaW1ldGVyIixTVFlMRV9TT1VSQ0VfUE9SVDoic291cmNlUG9ydCIsU1RZTEVfVEFSR0VUX1BPUlQ6InRhcmdldFBvcnQiLFNUWUxFX1BPUlRfQ09OU1RSQUlOVDoicG9ydENvbnN0cmFpbnQiLFNUWUxFX1BPUlRfQ09OU1RSQUlOVF9ST1RBVElPTjoicG9ydENvbnN0cmFpbnRSb3RhdGlvbiIsU1RZTEVfU09VUkNFX1BPUlRfQ09OU1RSQUlOVDoic291cmNlUG9ydENvbnN0cmFpbnQiLFNUWUxFX1RBUkdFVF9QT1JUX0NPTlNUUkFJTlQ6InRhcmdldFBvcnRDb25zdHJhaW50IixTVFlMRV9PUEFDSVRZOiJvcGFjaXR5IixTVFlMRV9GSUxMX09QQUNJVFk6ImZpbGxPcGFjaXR5IixTVFlMRV9TVFJPS0VfT1BBQ0lUWToic3Ryb2tlT3BhY2l0eSIsU1RZTEVfVEVYVF9PUEFDSVRZOiJ0ZXh0T3BhY2l0eSIsU1RZTEVfVEVYVF9ESVJFQ1RJT046InRleHREaXJlY3Rpb24iLApTVFlMRV9PVkVSRkxPVzoib3ZlcmZsb3ciLFNUWUxFX09SVEhPR09OQUw6Im9ydGhvZ29uYWwiLFNUWUxFX0VYSVRfWDoiZXhpdFgiLFNUWUxFX0VYSVRfWToiZXhpdFkiLFNUWUxFX0VYSVRfRFg6ImV4aXREeCIsU1RZTEVfRVhJVF9EWToiZXhpdER5IixTVFlMRV9FWElUX1BFUklNRVRFUjoiZXhpdFBlcmltZXRlciIsU1RZTEVfRU5UUllfWDoiZW50cnlYIixTVFlMRV9FTlRSWV9ZOiJlbnRyeVkiLFNUWUxFX0VOVFJZX0RYOiJlbnRyeUR4IixTVFlMRV9FTlRSWV9EWToiZW50cnlEeSIsU1RZTEVfRU5UUllfUEVSSU1FVEVSOiJlbnRyeVBlcmltZXRlciIsU1RZTEVfV0hJVEVfU1BBQ0U6IndoaXRlU3BhY2UiLFNUWUxFX1JPVEFUSU9OOiJyb3RhdGlvbiIsU1RZTEVfRklMTENPTE9SOiJmaWxsQ29sb3IiLFNUWUxFX1BPSU5URVJfRVZFTlRTOiJwb2ludGVyRXZlbnRzIixTVFlMRV9TV0lNTEFORV9GSUxMQ09MT1I6InN3aW1sYW5lRmlsbENvbG9yIixTVFlMRV9NQVJHSU46Im1hcmdpbiIsClNUWUxFX0dSQURJRU5UQ09MT1I6ImdyYWRpZW50Q29sb3IiLFNUWUxFX0dSQURJRU5UX0RJUkVDVElPTjoiZ3JhZGllbnREaXJlY3Rpb24iLFNUWUxFX1NUUk9LRUNPTE9SOiJzdHJva2VDb2xvciIsU1RZTEVfU0VQQVJBVE9SQ09MT1I6InNlcGFyYXRvckNvbG9yIixTVFlMRV9TVFJPS0VXSURUSDoic3Ryb2tlV2lkdGgiLFNUWUxFX0FMSUdOOiJhbGlnbiIsU1RZTEVfVkVSVElDQUxfQUxJR046InZlcnRpY2FsQWxpZ24iLFNUWUxFX0xBQkVMX1dJRFRIOiJsYWJlbFdpZHRoIixTVFlMRV9MQUJFTF9QT1NJVElPTjoibGFiZWxQb3NpdGlvbiIsU1RZTEVfVkVSVElDQUxfTEFCRUxfUE9TSVRJT046InZlcnRpY2FsTGFiZWxQb3NpdGlvbiIsU1RZTEVfSU1BR0VfQVNQRUNUOiJpbWFnZUFzcGVjdCIsU1RZTEVfSU1BR0VfQUxJR046ImltYWdlQWxpZ24iLFNUWUxFX0lNQUdFX1ZFUlRJQ0FMX0FMSUdOOiJpbWFnZVZlcnRpY2FsQWxpZ24iLFNUWUxFX0dMQVNTOiJnbGFzcyIsU1RZTEVfSU1BR0U6ImltYWdlIiwKU1RZTEVfSU1BR0VfV0lEVEg6ImltYWdlV2lkdGgiLFNUWUxFX0lNQUdFX0hFSUdIVDoiaW1hZ2VIZWlnaHQiLFNUWUxFX0lNQUdFX0JBQ0tHUk9VTkQ6ImltYWdlQmFja2dyb3VuZCIsU1RZTEVfSU1BR0VfQk9SREVSOiJpbWFnZUJvcmRlciIsU1RZTEVfRkxJUEg6ImZsaXBIIixTVFlMRV9GTElQVjoiZmxpcFYiLFNUWUxFX05PTEFCRUw6Im5vTGFiZWwiLFNUWUxFX05PRURHRVNUWUxFOiJub0VkZ2VTdHlsZSIsU1RZTEVfTEFCRUxfQkFDS0dST1VORENPTE9SOiJsYWJlbEJhY2tncm91bmRDb2xvciIsU1RZTEVfTEFCRUxfQk9SREVSQ09MT1I6ImxhYmVsQm9yZGVyQ29sb3IiLFNUWUxFX0xBQkVMX1BBRERJTkc6ImxhYmVsUGFkZGluZyIsU1RZTEVfSU5ESUNBVE9SX1NIQVBFOiJpbmRpY2F0b3JTaGFwZSIsU1RZTEVfSU5ESUNBVE9SX0lNQUdFOiJpbmRpY2F0b3JJbWFnZSIsU1RZTEVfSU5ESUNBVE9SX0NPTE9SOiJpbmRpY2F0b3JDb2xvciIsU1RZTEVfSU5ESUNBVE9SX1NUUk9LRUNPTE9SOiJpbmRpY2F0b3JTdHJva2VDb2xvciIsClNUWUxFX0lORElDQVRPUl9HUkFESUVOVENPTE9SOiJpbmRpY2F0b3JHcmFkaWVudENvbG9yIixTVFlMRV9JTkRJQ0FUT1JfU1BBQ0lORzoiaW5kaWNhdG9yU3BhY2luZyIsU1RZTEVfSU5ESUNBVE9SX1dJRFRIOiJpbmRpY2F0b3JXaWR0aCIsU1RZTEVfSU5ESUNBVE9SX0hFSUdIVDoiaW5kaWNhdG9ySGVpZ2h0IixTVFlMRV9JTkRJQ0FUT1JfRElSRUNUSU9OOiJpbmRpY2F0b3JEaXJlY3Rpb24iLFNUWUxFX1NIQURPVzoic2hhZG93IixTVFlMRV9TRUdNRU5UOiJzZWdtZW50IixTVFlMRV9FTkRBUlJPVzoiZW5kQXJyb3ciLFNUWUxFX1NUQVJUQVJST1c6InN0YXJ0QXJyb3ciLFNUWUxFX0VORFNJWkU6ImVuZFNpemUiLFNUWUxFX1NUQVJUU0laRToic3RhcnRTaXplIixTVFlMRV9TV0lNTEFORV9MSU5FOiJzd2ltbGFuZUxpbmUiLFNUWUxFX0VOREZJTEw6ImVuZEZpbGwiLFNUWUxFX1NUQVJURklMTDoic3RhcnRGaWxsIixTVFlMRV9EQVNIRUQ6ImRhc2hlZCIsU1RZTEVfREFTSF9QQVRURVJOOiJkYXNoUGF0dGVybiIsClNUWUxFX0ZJWF9EQVNIOiJmaXhEYXNoIixTVFlMRV9ST1VOREVEOiJyb3VuZGVkIixTVFlMRV9DVVJWRUQ6ImN1cnZlZCIsU1RZTEVfQVJDU0laRToiYXJjU2l6ZSIsU1RZTEVfQUJTT0xVVEVfQVJDU0laRToiYWJzb2x1dGVBcmNTaXplIixTVFlMRV9TT1VSQ0VfUEVSSU1FVEVSX1NQQUNJTkc6InNvdXJjZVBlcmltZXRlclNwYWNpbmciLFNUWUxFX1RBUkdFVF9QRVJJTUVURVJfU1BBQ0lORzoidGFyZ2V0UGVyaW1ldGVyU3BhY2luZyIsU1RZTEVfUEVSSU1FVEVSX1NQQUNJTkc6InBlcmltZXRlclNwYWNpbmciLFNUWUxFX1NQQUNJTkc6InNwYWNpbmciLFNUWUxFX1NQQUNJTkdfVE9QOiJzcGFjaW5nVG9wIixTVFlMRV9TUEFDSU5HX0xFRlQ6InNwYWNpbmdMZWZ0IixTVFlMRV9TUEFDSU5HX0JPVFRPTToic3BhY2luZ0JvdHRvbSIsU1RZTEVfU1BBQ0lOR19SSUdIVDoic3BhY2luZ1JpZ2h0IixTVFlMRV9IT1JJWk9OVEFMOiJob3Jpem9udGFsIixTVFlMRV9ESVJFQ1RJT046ImRpcmVjdGlvbiIsClNUWUxFX0FOQ0hPUl9QT0lOVF9ESVJFQ1RJT046ImFuY2hvclBvaW50RGlyZWN0aW9uIixTVFlMRV9FTEJPVzoiZWxib3ciLFNUWUxFX0ZPTlRDT0xPUjoiZm9udENvbG9yIixTVFlMRV9GT05URkFNSUxZOiJmb250RmFtaWx5IixTVFlMRV9GT05UU0laRToiZm9udFNpemUiLFNUWUxFX0ZPTlRTVFlMRToiZm9udFN0eWxlIixTVFlMRV9BU1BFQ1Q6ImFzcGVjdCIsU1RZTEVfQVVUT1NJWkU6ImF1dG9zaXplIixTVFlMRV9GT0xEQUJMRToiZm9sZGFibGUiLFNUWUxFX0VESVRBQkxFOiJlZGl0YWJsZSIsU1RZTEVfQkFDS0dST1VORF9PVVRMSU5FOiJiYWNrZ3JvdW5kT3V0bGluZSIsU1RZTEVfQkVOREFCTEU6ImJlbmRhYmxlIixTVFlMRV9NT1ZBQkxFOiJtb3ZhYmxlIixTVFlMRV9SRVNJWkFCTEU6InJlc2l6YWJsZSIsU1RZTEVfUkVTSVpFX1dJRFRIOiJyZXNpemVXaWR0aCIsU1RZTEVfUkVTSVpFX0hFSUdIVDoicmVzaXplSGVpZ2h0IixTVFlMRV9ST1RBVEFCTEU6InJvdGF0YWJsZSIsClNUWUxFX0NMT05FQUJMRToiY2xvbmVhYmxlIixTVFlMRV9ERUxFVEFCTEU6ImRlbGV0YWJsZSIsU1RZTEVfU0hBUEU6InNoYXBlIixTVFlMRV9FREdFOiJlZGdlU3R5bGUiLFNUWUxFX0pFVFRZX1NJWkU6ImpldHR5U2l6ZSIsU1RZTEVfU09VUkNFX0pFVFRZX1NJWkU6InNvdXJjZUpldHR5U2l6ZSIsU1RZTEVfVEFSR0VUX0pFVFRZX1NJWkU6InRhcmdldEpldHR5U2l6ZSIsU1RZTEVfTE9PUDoibG9vcFN0eWxlIixTVFlMRV9PUlRIT0dPTkFMX0xPT1A6Im9ydGhvZ29uYWxMb29wIixTVFlMRV9ST1VUSU5HX0NFTlRFUl9YOiJyb3V0aW5nQ2VudGVyWCIsU1RZTEVfUk9VVElOR19DRU5URVJfWToicm91dGluZ0NlbnRlclkiLEZPTlRfQk9MRDoxLEZPTlRfSVRBTElDOjIsRk9OVF9VTkRFUkxJTkU6NCxGT05UX1NUUklLRVRIUk9VR0g6OCxTSEFQRV9SRUNUQU5HTEU6InJlY3RhbmdsZSIsU0hBUEVfRUxMSVBTRToiZWxsaXBzZSIsU0hBUEVfRE9VQkxFX0VMTElQU0U6ImRvdWJsZUVsbGlwc2UiLApTSEFQRV9SSE9NQlVTOiJyaG9tYnVzIixTSEFQRV9MSU5FOiJsaW5lIixTSEFQRV9JTUFHRToiaW1hZ2UiLFNIQVBFX0FSUk9XOiJhcnJvdyIsU0hBUEVfQVJST1dfQ09OTkVDVE9SOiJhcnJvd0Nvbm5lY3RvciIsU0hBUEVfTEFCRUw6ImxhYmVsIixTSEFQRV9DWUxJTkRFUjoiY3lsaW5kZXIiLFNIQVBFX1NXSU1MQU5FOiJzd2ltbGFuZSIsU0hBUEVfQ09OTkVDVE9SOiJjb25uZWN0b3IiLFNIQVBFX0FDVE9SOiJhY3RvciIsU0hBUEVfQ0xPVUQ6ImNsb3VkIixTSEFQRV9UUklBTkdMRToidHJpYW5nbGUiLFNIQVBFX0hFWEFHT046ImhleGFnb24iLEFSUk9XX0NMQVNTSUM6ImNsYXNzaWMiLEFSUk9XX0NMQVNTSUNfVEhJTjoiY2xhc3NpY1RoaW4iLEFSUk9XX0JMT0NLOiJibG9jayIsQVJST1dfQkxPQ0tfVEhJTjoiYmxvY2tUaGluIixBUlJPV19PUEVOOiJvcGVuIixBUlJPV19PUEVOX1RISU46Im9wZW5UaGluIixBUlJPV19PVkFMOiJvdmFsIixBUlJPV19ESUFNT05EOiJkaWFtb25kIiwKQVJST1dfRElBTU9ORF9USElOOiJkaWFtb25kVGhpbiIsQUxJR05fTEVGVDoibGVmdCIsQUxJR05fQ0VOVEVSOiJjZW50ZXIiLEFMSUdOX1JJR0hUOiJyaWdodCIsQUxJR05fVE9QOiJ0b3AiLEFMSUdOX01JRERMRToibWlkZGxlIixBTElHTl9CT1RUT006ImJvdHRvbSIsRElSRUNUSU9OX05PUlRIOiJub3J0aCIsRElSRUNUSU9OX1NPVVRIOiJzb3V0aCIsRElSRUNUSU9OX0VBU1Q6ImVhc3QiLERJUkVDVElPTl9XRVNUOiJ3ZXN0IixURVhUX0RJUkVDVElPTl9ERUZBVUxUOiIiLFRFWFRfRElSRUNUSU9OX0FVVE86ImF1dG8iLFRFWFRfRElSRUNUSU9OX0xUUjoibHRyIixURVhUX0RJUkVDVElPTl9SVEw6InJ0bCIsRElSRUNUSU9OX01BU0tfTk9ORTowLERJUkVDVElPTl9NQVNLX1dFU1Q6MSxESVJFQ1RJT05fTUFTS19OT1JUSDoyLERJUkVDVElPTl9NQVNLX1NPVVRIOjQsRElSRUNUSU9OX01BU0tfRUFTVDo4LERJUkVDVElPTl9NQVNLX0FMTDoxNSxFTEJPV19WRVJUSUNBTDoidmVydGljYWwiLApFTEJPV19IT1JJWk9OVEFMOiJob3Jpem9udGFsIixFREdFU1RZTEVfRUxCT1c6ImVsYm93RWRnZVN0eWxlIixFREdFU1RZTEVfRU5USVRZX1JFTEFUSU9OOiJlbnRpdHlSZWxhdGlvbkVkZ2VTdHlsZSIsRURHRVNUWUxFX0xPT1A6Imxvb3BFZGdlU3R5bGUiLEVER0VTVFlMRV9TSURFVE9TSURFOiJzaWRlVG9TaWRlRWRnZVN0eWxlIixFREdFU1RZTEVfVE9QVE9CT1RUT006InRvcFRvQm90dG9tRWRnZVN0eWxlIixFREdFU1RZTEVfT1JUSE9HT05BTDoib3J0aG9nb25hbEVkZ2VTdHlsZSIsRURHRVNUWUxFX1NFR01FTlQ6InNlZ21lbnRFZGdlU3R5bGUiLFBFUklNRVRFUl9FTExJUFNFOiJlbGxpcHNlUGVyaW1ldGVyIixQRVJJTUVURVJfUkVDVEFOR0xFOiJyZWN0YW5nbGVQZXJpbWV0ZXIiLFBFUklNRVRFUl9SSE9NQlVTOiJyaG9tYnVzUGVyaW1ldGVyIixQRVJJTUVURVJfSEVYQUdPTjoiaGV4YWdvblBlcmltZXRlciIsUEVSSU1FVEVSX1RSSUFOR0xFOiJ0cmlhbmdsZVBlcmltZXRlciJ9OwpmdW5jdGlvbiBteEV2ZW50T2JqZWN0KGEpe3RoaXMubmFtZT1hO3RoaXMucHJvcGVydGllcz1bXTtmb3IodmFyIGI9MTtiPGFyZ3VtZW50cy5sZW5ndGg7Yis9MiludWxsIT1hcmd1bWVudHNbYisxXSYmKHRoaXMucHJvcGVydGllc1thcmd1bWVudHNbYl1dPWFyZ3VtZW50c1tiKzFdKX1teEV2ZW50T2JqZWN0LnByb3RvdHlwZS5uYW1lPW51bGw7bXhFdmVudE9iamVjdC5wcm90b3R5cGUucHJvcGVydGllcz1udWxsO214RXZlbnRPYmplY3QucHJvdG90eXBlLmNvbnN1bWVkPSExO214RXZlbnRPYmplY3QucHJvdG90eXBlLmdldE5hbWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5uYW1lfTtteEV2ZW50T2JqZWN0LnByb3RvdHlwZS5nZXRQcm9wZXJ0aWVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHJvcGVydGllc307bXhFdmVudE9iamVjdC5wcm90b3R5cGUuZ2V0UHJvcGVydHk9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucHJvcGVydGllc1thXX07Cm14RXZlbnRPYmplY3QucHJvdG90eXBlLmlzQ29uc3VtZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25zdW1lZH07bXhFdmVudE9iamVjdC5wcm90b3R5cGUuY29uc3VtZT1mdW5jdGlvbigpe3RoaXMuY29uc3VtZWQ9ITB9O2Z1bmN0aW9uIG14TW91c2VFdmVudChhLGIpe3RoaXMuZXZ0PWE7dGhpcy5zb3VyY2VTdGF0ZT10aGlzLnN0YXRlPWJ9bXhNb3VzZUV2ZW50LnByb3RvdHlwZS5jb25zdW1lZD0hMTtteE1vdXNlRXZlbnQucHJvdG90eXBlLmV2dD1udWxsO214TW91c2VFdmVudC5wcm90b3R5cGUuZ3JhcGhYPW51bGw7bXhNb3VzZUV2ZW50LnByb3RvdHlwZS5ncmFwaFk9bnVsbDtteE1vdXNlRXZlbnQucHJvdG90eXBlLnN0YXRlPW51bGw7bXhNb3VzZUV2ZW50LnByb3RvdHlwZS5zb3VyY2VTdGF0ZT1udWxsO214TW91c2VFdmVudC5wcm90b3R5cGUuZ2V0RXZlbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ldnR9OwpteE1vdXNlRXZlbnQucHJvdG90eXBlLmdldFNvdXJjZT1mdW5jdGlvbigpe3JldHVybiBteEV2ZW50LmdldFNvdXJjZSh0aGlzLmV2dCl9O214TW91c2VFdmVudC5wcm90b3R5cGUuaXNTb3VyY2U9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPWE/bXhVdGlscy5pc0FuY2VzdG9yTm9kZShhLm5vZGUsdGhpcy5nZXRTb3VyY2UoKSk6ITF9O214TW91c2VFdmVudC5wcm90b3R5cGUuZ2V0WD1mdW5jdGlvbigpe3JldHVybiBteEV2ZW50LmdldENsaWVudFgodGhpcy5nZXRFdmVudCgpKX07bXhNb3VzZUV2ZW50LnByb3RvdHlwZS5nZXRZPWZ1bmN0aW9uKCl7cmV0dXJuIG14RXZlbnQuZ2V0Q2xpZW50WSh0aGlzLmdldEV2ZW50KCkpfTtteE1vdXNlRXZlbnQucHJvdG90eXBlLmdldEdyYXBoWD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdyYXBoWH07bXhNb3VzZUV2ZW50LnByb3RvdHlwZS5nZXRHcmFwaFk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ncmFwaFl9OwpteE1vdXNlRXZlbnQucHJvdG90eXBlLmdldFN0YXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhdGV9O214TW91c2VFdmVudC5wcm90b3R5cGUuZ2V0Q2VsbD1mdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0U3RhdGUoKTtyZXR1cm4gbnVsbCE9YT9hLmNlbGw6bnVsbH07bXhNb3VzZUV2ZW50LnByb3RvdHlwZS5pc1BvcHVwVHJpZ2dlcj1mdW5jdGlvbigpe3JldHVybiBteEV2ZW50LmlzUG9wdXBUcmlnZ2VyKHRoaXMuZ2V0RXZlbnQoKSl9O214TW91c2VFdmVudC5wcm90b3R5cGUuaXNDb25zdW1lZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN1bWVkfTsKbXhNb3VzZUV2ZW50LnByb3RvdHlwZS5jb25zdW1lPWZ1bmN0aW9uKGEpeyhudWxsIT1hP2E6bnVsbCE9dGhpcy5ldnQudG91Y2hlc3x8bXhFdmVudC5pc01vdXNlRXZlbnQodGhpcy5ldnQpKSYmdGhpcy5ldnQucHJldmVudERlZmF1bHQmJnRoaXMuZXZ0LnByZXZlbnREZWZhdWx0KCk7bXhDbGllbnQuSVNfSUUmJih0aGlzLmV2dC5yZXR1cm5WYWx1ZT0hMCk7dGhpcy5jb25zdW1lZD0hMH07ZnVuY3Rpb24gbXhFdmVudFNvdXJjZShhKXt0aGlzLnNldEV2ZW50U291cmNlKGEpfW14RXZlbnRTb3VyY2UucHJvdG90eXBlLmV2ZW50TGlzdGVuZXJzPW51bGw7bXhFdmVudFNvdXJjZS5wcm90b3R5cGUuZXZlbnRzRW5hYmxlZD0hMDtteEV2ZW50U291cmNlLnByb3RvdHlwZS5ldmVudFNvdXJjZT1udWxsO214RXZlbnRTb3VyY2UucHJvdG90eXBlLmlzRXZlbnRzRW5hYmxlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmV2ZW50c0VuYWJsZWR9OwpteEV2ZW50U291cmNlLnByb3RvdHlwZS5zZXRFdmVudHNFbmFibGVkPWZ1bmN0aW9uKGEpe3RoaXMuZXZlbnRzRW5hYmxlZD1hfTtteEV2ZW50U291cmNlLnByb3RvdHlwZS5nZXRFdmVudFNvdXJjZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmV2ZW50U291cmNlfTtteEV2ZW50U291cmNlLnByb3RvdHlwZS5zZXRFdmVudFNvdXJjZT1mdW5jdGlvbihhKXt0aGlzLmV2ZW50U291cmNlPWF9O214RXZlbnRTb3VyY2UucHJvdG90eXBlLmFkZExpc3RlbmVyPWZ1bmN0aW9uKGEsYil7bnVsbD09dGhpcy5ldmVudExpc3RlbmVycyYmKHRoaXMuZXZlbnRMaXN0ZW5lcnM9W10pO3RoaXMuZXZlbnRMaXN0ZW5lcnMucHVzaChhKTt0aGlzLmV2ZW50TGlzdGVuZXJzLnB1c2goYil9OwpteEV2ZW50U291cmNlLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lcj1mdW5jdGlvbihhKXtpZihudWxsIT10aGlzLmV2ZW50TGlzdGVuZXJzKWZvcih2YXIgYj0wO2I8dGhpcy5ldmVudExpc3RlbmVycy5sZW5ndGg7KXRoaXMuZXZlbnRMaXN0ZW5lcnNbYisxXT09YT90aGlzLmV2ZW50TGlzdGVuZXJzLnNwbGljZShiLDIpOmIrPTJ9OwpteEV2ZW50U291cmNlLnByb3RvdHlwZS5maXJlRXZlbnQ9ZnVuY3Rpb24oYSxiKXtpZihudWxsIT10aGlzLmV2ZW50TGlzdGVuZXJzJiZ0aGlzLmlzRXZlbnRzRW5hYmxlZCgpKXtudWxsPT1hJiYoYT1uZXcgbXhFdmVudE9iamVjdCk7bnVsbD09YiYmKGI9dGhpcy5nZXRFdmVudFNvdXJjZSgpKTtudWxsPT1iJiYoYj10aGlzKTtmb3IodmFyIGM9W2IsYV0sZD0wO2Q8dGhpcy5ldmVudExpc3RlbmVycy5sZW5ndGg7ZCs9Mil7dmFyIGU9dGhpcy5ldmVudExpc3RlbmVyc1tkXTtudWxsIT1lJiZlIT1hLmdldE5hbWUoKXx8dGhpcy5ldmVudExpc3RlbmVyc1tkKzFdLmFwcGx5KHRoaXMsYyl9fX07CnZhciBteEV2ZW50PXthZGRMaXN0ZW5lcjpmdW5jdGlvbigpe3JldHVybiB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcj9mdW5jdGlvbihhLGIsYyl7YS5hZGRFdmVudExpc3RlbmVyKGIsYywhMSk7bnVsbD09YS5teExpc3RlbmVyTGlzdCYmKGEubXhMaXN0ZW5lckxpc3Q9W10pO2EubXhMaXN0ZW5lckxpc3QucHVzaCh7bmFtZTpiLGY6Y30pfTpmdW5jdGlvbihhLGIsYyl7YS5hdHRhY2hFdmVudCgib24iK2IsYyk7bnVsbD09YS5teExpc3RlbmVyTGlzdCYmKGEubXhMaXN0ZW5lckxpc3Q9W10pO2EubXhMaXN0ZW5lckxpc3QucHVzaCh7bmFtZTpiLGY6Y30pfX0oKSxyZW1vdmVMaXN0ZW5lcjpmdW5jdGlvbigpe3ZhciBhPWZ1bmN0aW9uKGEsYyxkKXtpZihudWxsIT1hLm14TGlzdGVuZXJMaXN0KXtjPWEubXhMaXN0ZW5lckxpc3QubGVuZ3RoO2Zvcih2YXIgYj0wO2I8YztiKyspaWYoYS5teExpc3RlbmVyTGlzdFtiXS5mPT1kKXthLm14TGlzdGVuZXJMaXN0LnNwbGljZShiLDEpO2JyZWFrfTA9PQphLm14TGlzdGVuZXJMaXN0Lmxlbmd0aCYmKGEubXhMaXN0ZW5lckxpc3Q9bnVsbCl9fTtyZXR1cm4gd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXI/ZnVuY3Rpb24oYixjLGQpe2IucmVtb3ZlRXZlbnRMaXN0ZW5lcihjLGQsITEpO2EoYixjLGQpfTpmdW5jdGlvbihiLGMsZCl7Yi5kZXRhY2hFdmVudCgib24iK2MsZCk7YShiLGMsZCl9fSgpLHJlbW92ZUFsbExpc3RlbmVyczpmdW5jdGlvbihhKXt2YXIgYj1hLm14TGlzdGVuZXJMaXN0O2lmKG51bGwhPWIpZm9yKDswPGIubGVuZ3RoOyl7dmFyIGM9YlswXTtteEV2ZW50LnJlbW92ZUxpc3RlbmVyKGEsYy5uYW1lLGMuZil9fSxhZGRHZXN0dXJlTGlzdGVuZXJzOmZ1bmN0aW9uKGEsYixjLGQpe251bGwhPWImJm14RXZlbnQuYWRkTGlzdGVuZXIoYSxteENsaWVudC5JU19QT0lOVEVSPyJwb2ludGVyZG93biI6Im1vdXNlZG93biIsYik7bnVsbCE9YyYmbXhFdmVudC5hZGRMaXN0ZW5lcihhLG14Q2xpZW50LklTX1BPSU5URVI/InBvaW50ZXJtb3ZlIjoKIm1vdXNlbW92ZSIsYyk7bnVsbCE9ZCYmbXhFdmVudC5hZGRMaXN0ZW5lcihhLG14Q2xpZW50LklTX1BPSU5URVI/InBvaW50ZXJ1cCI6Im1vdXNldXAiLGQpOyFteENsaWVudC5JU19QT0lOVEVSJiZteENsaWVudC5JU19UT1VDSCYmKG51bGwhPWImJm14RXZlbnQuYWRkTGlzdGVuZXIoYSwidG91Y2hzdGFydCIsYiksbnVsbCE9YyYmbXhFdmVudC5hZGRMaXN0ZW5lcihhLCJ0b3VjaG1vdmUiLGMpLG51bGwhPWQmJm14RXZlbnQuYWRkTGlzdGVuZXIoYSwidG91Y2hlbmQiLGQpKX0scmVtb3ZlR2VzdHVyZUxpc3RlbmVyczpmdW5jdGlvbihhLGIsYyxkKXtudWxsIT1iJiZteEV2ZW50LnJlbW92ZUxpc3RlbmVyKGEsbXhDbGllbnQuSVNfUE9JTlRFUj8icG9pbnRlcmRvd24iOiJtb3VzZWRvd24iLGIpO251bGwhPWMmJm14RXZlbnQucmVtb3ZlTGlzdGVuZXIoYSxteENsaWVudC5JU19QT0lOVEVSPyJwb2ludGVybW92ZSI6Im1vdXNlbW92ZSIsYyk7bnVsbCE9ZCYmbXhFdmVudC5yZW1vdmVMaXN0ZW5lcihhLApteENsaWVudC5JU19QT0lOVEVSPyJwb2ludGVydXAiOiJtb3VzZXVwIixkKTshbXhDbGllbnQuSVNfUE9JTlRFUiYmbXhDbGllbnQuSVNfVE9VQ0gmJihudWxsIT1iJiZteEV2ZW50LnJlbW92ZUxpc3RlbmVyKGEsInRvdWNoc3RhcnQiLGIpLG51bGwhPWMmJm14RXZlbnQucmVtb3ZlTGlzdGVuZXIoYSwidG91Y2htb3ZlIixjKSxudWxsIT1kJiZteEV2ZW50LnJlbW92ZUxpc3RlbmVyKGEsInRvdWNoZW5kIixkKSl9LHJlZGlyZWN0TW91c2VFdmVudHM6ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyl7dmFyIGs9ZnVuY3Rpb24oYSl7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIGM/YyhhKTpjfTtteEV2ZW50LmFkZEdlc3R1cmVMaXN0ZW5lcnMoYSxmdW5jdGlvbihhKXtudWxsIT1kP2QoYSk6bXhFdmVudC5pc0NvbnN1bWVkKGEpfHxiLmZpcmVNb3VzZUV2ZW50KG14RXZlbnQuTU9VU0VfRE9XTixuZXcgbXhNb3VzZUV2ZW50KGEsayhhKSkpfSxmdW5jdGlvbihhKXtudWxsIT1lP2UoYSk6bXhFdmVudC5pc0NvbnN1bWVkKGEpfHwKYi5maXJlTW91c2VFdmVudChteEV2ZW50Lk1PVVNFX01PVkUsbmV3IG14TW91c2VFdmVudChhLGsoYSkpKX0sZnVuY3Rpb24oYSl7bnVsbCE9Zj9mKGEpOm14RXZlbnQuaXNDb25zdW1lZChhKXx8Yi5maXJlTW91c2VFdmVudChteEV2ZW50Lk1PVVNFX1VQLG5ldyBteE1vdXNlRXZlbnQoYSxrKGEpKSl9KTtteEV2ZW50LmFkZExpc3RlbmVyKGEsImRibGNsaWNrIixmdW5jdGlvbihhKXtpZihudWxsIT1nKWcoYSk7ZWxzZSBpZighbXhFdmVudC5pc0NvbnN1bWVkKGEpKXt2YXIgYz1rKGEpO2IuZGJsQ2xpY2soYSxudWxsIT1jP2MuY2VsbDpudWxsKX19KX0scmVsZWFzZTpmdW5jdGlvbihhKXt0cnl7aWYobnVsbCE9YSl7bXhFdmVudC5yZW1vdmVBbGxMaXN0ZW5lcnMoYSk7dmFyIGI9YS5jaGlsZE5vZGVzO2lmKG51bGwhPWIpe3ZhciBjPWIubGVuZ3RoO2ZvcihhPTA7YTxjO2ErPTEpbXhFdmVudC5yZWxlYXNlKGJbYV0pfX19Y2F0Y2goZCl7fX0sYWRkTW91c2VXaGVlbExpc3RlbmVyOmZ1bmN0aW9uKGEsCmIpe2lmKG51bGwhPWEpe2I9bnVsbCE9Yj9iOndpbmRvdztpZihteENsaWVudC5JU19TRiYmIW14Q2xpZW50LklTX1RPVUNIKXt2YXIgYz0xO214RXZlbnQuYWRkTGlzdGVuZXIoYiwiZ2VzdHVyZXN0YXJ0IixmdW5jdGlvbihhKXtteEV2ZW50LmNvbnN1bWUoYSk7Yz0xfSk7bXhFdmVudC5hZGRMaXN0ZW5lcihiLCJnZXN0dXJlY2hhbmdlIixmdW5jdGlvbihiKXtteEV2ZW50LmNvbnN1bWUoYik7dmFyIGQ9Yy1iLnNjYWxlOy4yPE1hdGguYWJzKGQpJiYoYShiLDA+ZCwhMCksYz1iLnNjYWxlKX0pO214RXZlbnQuYWRkTGlzdGVuZXIoYiwiZ2VzdHVyZWVuZCIsZnVuY3Rpb24oYSl7bXhFdmVudC5jb25zdW1lKGEpfSl9bXhFdmVudC5hZGRMaXN0ZW5lcihiLCJ3aGVlbCIsZnVuY3Rpb24oYil7bnVsbD09YiYmKGI9d2luZG93LmV2ZW50KTtiLmN0cmxLZXkmJmIucHJldmVudERlZmF1bHQoKTsoLjU8TWF0aC5hYnMoYi5kZWx0YVgpfHwuNTxNYXRoLmFicyhiLmRlbHRhWSkpJiZhKGIsMD09CmIuZGVsdGFZPzA8LWIuZGVsdGFYOjA8LWIuZGVsdGFZKX0pfX0sZGlzYWJsZUNvbnRleHRNZW51OmZ1bmN0aW9uKGEpe214RXZlbnQuYWRkTGlzdGVuZXIoYSwiY29udGV4dG1lbnUiLGZ1bmN0aW9uKGEpe2EucHJldmVudERlZmF1bHQmJmEucHJldmVudERlZmF1bHQoKTtyZXR1cm4hMX0pfSxnZXRTb3VyY2U6ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPWEuc3JjRWxlbWVudD9hLnNyY0VsZW1lbnQ6YS50YXJnZXR9LGlzQ29uc3VtZWQ6ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPWEuaXNDb25zdW1lZCYmYS5pc0NvbnN1bWVkfSxpc1RvdWNoRXZlbnQ6ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPWEucG9pbnRlclR5cGU/InRvdWNoIj09YS5wb2ludGVyVHlwZXx8YS5wb2ludGVyVHlwZT09PWEuTVNQT0lOVEVSX1RZUEVfVE9VQ0g6bnVsbCE9YS5tb3pJbnB1dFNvdXJjZT81PT1hLm1veklucHV0U291cmNlOjA9PWEudHlwZS5pbmRleE9mKCJ0b3VjaCIpfSxpc1BlbkV2ZW50OmZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT0KYS5wb2ludGVyVHlwZT8icGVuIj09YS5wb2ludGVyVHlwZXx8YS5wb2ludGVyVHlwZT09PWEuTVNQT0lOVEVSX1RZUEVfUEVOOm51bGwhPWEubW96SW5wdXRTb3VyY2U/Mj09YS5tb3pJbnB1dFNvdXJjZTowPT1hLnR5cGUuaW5kZXhPZigicGVuIil9LGlzTXVsdGlUb3VjaEV2ZW50OmZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hLnR5cGUmJjA9PWEudHlwZS5pbmRleE9mKCJ0b3VjaCIpJiZudWxsIT1hLnRvdWNoZXMmJjE8YS50b3VjaGVzLmxlbmd0aH0saXNNb3VzZUV2ZW50OmZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hLnBvaW50ZXJUeXBlPyJtb3VzZSI9PWEucG9pbnRlclR5cGV8fGEucG9pbnRlclR5cGU9PT1hLk1TUE9JTlRFUl9UWVBFX01PVVNFOm51bGwhPWEubW96SW5wdXRTb3VyY2U/MT09YS5tb3pJbnB1dFNvdXJjZTowPT1hLnR5cGUuaW5kZXhPZigibW91c2UiKX0saXNMZWZ0TW91c2VCdXR0b246ZnVuY3Rpb24oYSl7cmV0dXJuImJ1dHRvbnMiaW4gYSYmKCJtb3VzZWRvd24iPT0KYS50eXBlfHwibW91c2Vtb3ZlIj09YS50eXBlKT8xPT1hLmJ1dHRvbnM6IndoaWNoImluIGE/MT09PWEud2hpY2g6MT09PWEuYnV0dG9ufSxpc01pZGRsZU1vdXNlQnV0dG9uOmZ1bmN0aW9uKGEpe3JldHVybiJ3aGljaCJpbiBhPzI9PT1hLndoaWNoOjQ9PT1hLmJ1dHRvbn0saXNSaWdodE1vdXNlQnV0dG9uOmZ1bmN0aW9uKGEpe3JldHVybiJ3aGljaCJpbiBhPzM9PT1hLndoaWNoOjI9PT1hLmJ1dHRvbn0saXNQb3B1cFRyaWdnZXI6ZnVuY3Rpb24oYSl7cmV0dXJuIG14RXZlbnQuaXNSaWdodE1vdXNlQnV0dG9uKGEpfHxteENsaWVudC5JU19NQUMmJm14RXZlbnQuaXNDb250cm9sRG93bihhKSYmIW14RXZlbnQuaXNTaGlmdERvd24oYSkmJiFteEV2ZW50LmlzTWV0YURvd24oYSkmJiFteEV2ZW50LmlzQWx0RG93bihhKX0saXNTaGlmdERvd246ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPWE/YS5zaGlmdEtleTohMX0saXNBbHREb3duOmZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hPwphLmFsdEtleTohMX0saXNDb250cm9sRG93bjpmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YT9hLmN0cmxLZXk6ITF9LGlzTWV0YURvd246ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPWE/YS5tZXRhS2V5OiExfSxnZXRNYWluRXZlbnQ6ZnVuY3Rpb24oYSl7InRvdWNoc3RhcnQiIT1hLnR5cGUmJiJ0b3VjaG1vdmUiIT1hLnR5cGV8fG51bGw9PWEudG91Y2hlc3x8bnVsbD09YS50b3VjaGVzWzBdPyJ0b3VjaGVuZCI9PWEudHlwZSYmbnVsbCE9YS5jaGFuZ2VkVG91Y2hlcyYmbnVsbCE9YS5jaGFuZ2VkVG91Y2hlc1swXSYmKGE9YS5jaGFuZ2VkVG91Y2hlc1swXSk6YT1hLnRvdWNoZXNbMF07cmV0dXJuIGF9LGdldENsaWVudFg6ZnVuY3Rpb24oYSl7cmV0dXJuIG14RXZlbnQuZ2V0TWFpbkV2ZW50KGEpLmNsaWVudFh9LGdldENsaWVudFk6ZnVuY3Rpb24oYSl7cmV0dXJuIG14RXZlbnQuZ2V0TWFpbkV2ZW50KGEpLmNsaWVudFl9LGNvbnN1bWU6ZnVuY3Rpb24oYSxiLGMpe2M9bnVsbCE9CmM/YzohMDtpZihudWxsIT1iP2I6MSlhLnByZXZlbnREZWZhdWx0PyhjJiZhLnN0b3BQcm9wYWdhdGlvbigpLGEucHJldmVudERlZmF1bHQoKSk6YyYmKGEuY2FuY2VsQnViYmxlPSEwKTthLmlzQ29uc3VtZWQ9ITA7YS5wcmV2ZW50RGVmYXVsdHx8KGEucmV0dXJuVmFsdWU9ITEpfSxMQUJFTF9IQU5ETEU6LTEsUk9UQVRJT05fSEFORExFOi0yLENVU1RPTV9IQU5ETEU6LTEwMCxWSVJUVUFMX0hBTkRMRTotMUU1LE1PVVNFX0RPV046Im1vdXNlRG93biIsTU9VU0VfTU9WRToibW91c2VNb3ZlIixNT1VTRV9VUDoibW91c2VVcCIsQUNUSVZBVEU6ImFjdGl2YXRlIixSRVNJWkVfU1RBUlQ6InJlc2l6ZVN0YXJ0IixSRVNJWkU6InJlc2l6ZSIsUkVTSVpFX0VORDoicmVzaXplRW5kIixNT1ZFX1NUQVJUOiJtb3ZlU3RhcnQiLE1PVkU6Im1vdmUiLE1PVkVfRU5EOiJtb3ZlRW5kIixQQU5fU1RBUlQ6InBhblN0YXJ0IixQQU46InBhbiIsUEFOX0VORDoicGFuRW5kIixNSU5JTUlaRToibWluaW1pemUiLApOT1JNQUxJWkU6Im5vcm1hbGl6ZSIsTUFYSU1JWkU6Im1heGltaXplIixISURFOiJoaWRlIixTSE9XOiJzaG93IixDTE9TRToiY2xvc2UiLERFU1RST1k6ImRlc3Ryb3kiLFJFRlJFU0g6InJlZnJlc2giLFNJWkU6InNpemUiLFNFTEVDVDoic2VsZWN0IixGSVJFRDoiZmlyZWQiLEZJUkVfTU9VU0VfRVZFTlQ6ImZpcmVNb3VzZUV2ZW50IixHRVNUVVJFOiJnZXN0dXJlIixUQVBfQU5EX0hPTEQ6InRhcEFuZEhvbGQiLEdFVDoiZ2V0IixSRUNFSVZFOiJyZWNlaXZlIixDT05ORUNUOiJjb25uZWN0IixESVNDT05ORUNUOiJkaXNjb25uZWN0IixTVVNQRU5EOiJzdXNwZW5kIixSRVNVTUU6InJlc3VtZSIsTUFSSzoibWFyayIsUk9PVDoicm9vdCIsUE9TVDoicG9zdCIsT1BFTjoib3BlbiIsU0FWRToic2F2ZSIsQkVGT1JFX0FERF9WRVJURVg6ImJlZm9yZUFkZFZlcnRleCIsQUREX1ZFUlRFWDoiYWRkVmVydGV4IixBRlRFUl9BRERfVkVSVEVYOiJhZnRlckFkZFZlcnRleCIsRE9ORToiZG9uZSIsCkVYRUNVVEU6ImV4ZWN1dGUiLEVYRUNVVEVEOiJleGVjdXRlZCIsQkVHSU5fVVBEQVRFOiJiZWdpblVwZGF0ZSIsU1RBUlRfRURJVDoic3RhcnRFZGl0IixFTkRfVVBEQVRFOiJlbmRVcGRhdGUiLEVORF9FRElUOiJlbmRFZGl0IixCRUZPUkVfVU5ETzoiYmVmb3JlVW5kbyIsVU5ETzoidW5kbyIsUkVETzoicmVkbyIsQ0hBTkdFOiJjaGFuZ2UiLE5PVElGWToibm90aWZ5IixMQVlPVVRfQ0VMTFM6ImxheW91dENlbGxzIixDTElDSzoiY2xpY2siLFNDQUxFOiJzY2FsZSIsVFJBTlNMQVRFOiJ0cmFuc2xhdGUiLFNDQUxFX0FORF9UUkFOU0xBVEU6InNjYWxlQW5kVHJhbnNsYXRlIixVUDoidXAiLERPV046ImRvd24iLEFERDoiYWRkIixSRU1PVkU6InJlbW92ZSIsQ0xFQVI6ImNsZWFyIixBRERfQ0VMTFM6ImFkZENlbGxzIixDRUxMU19BRERFRDoiY2VsbHNBZGRlZCIsTU9WRV9DRUxMUzoibW92ZUNlbGxzIixDRUxMU19NT1ZFRDoiY2VsbHNNb3ZlZCIsUkVTSVpFX0NFTExTOiJyZXNpemVDZWxscyIsCkNFTExTX1JFU0laRUQ6ImNlbGxzUmVzaXplZCIsVE9HR0xFX0NFTExTOiJ0b2dnbGVDZWxscyIsQ0VMTFNfVE9HR0xFRDoiY2VsbHNUb2dnbGVkIixPUkRFUl9DRUxMUzoib3JkZXJDZWxscyIsQ0VMTFNfT1JERVJFRDoiY2VsbHNPcmRlcmVkIixSRU1PVkVfQ0VMTFM6InJlbW92ZUNlbGxzIixDRUxMU19SRU1PVkVEOiJjZWxsc1JlbW92ZWQiLEdST1VQX0NFTExTOiJncm91cENlbGxzIixVTkdST1VQX0NFTExTOiJ1bmdyb3VwQ2VsbHMiLFJFTU9WRV9DRUxMU19GUk9NX1BBUkVOVDoicmVtb3ZlQ2VsbHNGcm9tUGFyZW50IixGT0xEX0NFTExTOiJmb2xkQ2VsbHMiLENFTExTX0ZPTERFRDoiY2VsbHNGb2xkZWQiLEFMSUdOX0NFTExTOiJhbGlnbkNlbGxzIixMQUJFTF9DSEFOR0VEOiJsYWJlbENoYW5nZWQiLENPTk5FQ1RfQ0VMTDoiY29ubmVjdENlbGwiLENFTExfQ09OTkVDVEVEOiJjZWxsQ29ubmVjdGVkIixTUExJVF9FREdFOiJzcGxpdEVkZ2UiLEZMSVBfRURHRToiZmxpcEVkZ2UiLApTVEFSVF9FRElUSU5HOiJzdGFydEVkaXRpbmciLEVESVRJTkdfU1RBUlRFRDoiZWRpdGluZ1N0YXJ0ZWQiLEVESVRJTkdfU1RPUFBFRDoiZWRpdGluZ1N0b3BwZWQiLEFERF9PVkVSTEFZOiJhZGRPdmVybGF5IixSRU1PVkVfT1ZFUkxBWToicmVtb3ZlT3ZlcmxheSIsVVBEQVRFX0NFTExfU0laRToidXBkYXRlQ2VsbFNpemUiLEVTQ0FQRToiZXNjYXBlIixET1VCTEVfQ0xJQ0s6ImRvdWJsZUNsaWNrIixTVEFSVDoic3RhcnQiLFJFU0VUOiJyZXNldCJ9O2Z1bmN0aW9uIG14WG1sUmVxdWVzdChhLGIsYyxkLGUsZil7dGhpcy51cmw9YTt0aGlzLnBhcmFtcz1iO3RoaXMubWV0aG9kPWN8fCJQT1NUIjt0aGlzLmFzeW5jPW51bGwhPWQ/ZDohMDt0aGlzLnVzZXJuYW1lPWU7dGhpcy5wYXNzd29yZD1mfW14WG1sUmVxdWVzdC5wcm90b3R5cGUudXJsPW51bGw7bXhYbWxSZXF1ZXN0LnByb3RvdHlwZS5wYXJhbXM9bnVsbDtteFhtbFJlcXVlc3QucHJvdG90eXBlLm1ldGhvZD1udWxsOwpteFhtbFJlcXVlc3QucHJvdG90eXBlLmFzeW5jPW51bGw7bXhYbWxSZXF1ZXN0LnByb3RvdHlwZS5iaW5hcnk9ITE7bXhYbWxSZXF1ZXN0LnByb3RvdHlwZS53aXRoQ3JlZGVudGlhbHM9ITE7bXhYbWxSZXF1ZXN0LnByb3RvdHlwZS51c2VybmFtZT1udWxsO214WG1sUmVxdWVzdC5wcm90b3R5cGUucGFzc3dvcmQ9bnVsbDtteFhtbFJlcXVlc3QucHJvdG90eXBlLnJlcXVlc3Q9bnVsbDtteFhtbFJlcXVlc3QucHJvdG90eXBlLmRlY29kZVNpbXVsYXRlVmFsdWVzPSExO214WG1sUmVxdWVzdC5wcm90b3R5cGUuaXNCaW5hcnk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iaW5hcnl9O214WG1sUmVxdWVzdC5wcm90b3R5cGUuc2V0QmluYXJ5PWZ1bmN0aW9uKGEpe3RoaXMuYmluYXJ5PWF9O214WG1sUmVxdWVzdC5wcm90b3R5cGUuZ2V0VGV4dD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnJlcXVlc3QucmVzcG9uc2VUZXh0fTsKbXhYbWxSZXF1ZXN0LnByb3RvdHlwZS5pc1JlYWR5PWZ1bmN0aW9uKCl7cmV0dXJuIDQ9PXRoaXMucmVxdWVzdC5yZWFkeVN0YXRlfTtteFhtbFJlcXVlc3QucHJvdG90eXBlLmdldERvY3VtZW50RWxlbWVudD1mdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0WG1sKCk7cmV0dXJuIG51bGwhPWE/YS5kb2N1bWVudEVsZW1lbnQ6bnVsbH07bXhYbWxSZXF1ZXN0LnByb3RvdHlwZS5nZXRYbWw9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnJlcXVlc3QucmVzcG9uc2VYTUw7aWYoOTw9ZG9jdW1lbnQuZG9jdW1lbnRNb2RlfHxudWxsPT1hfHxudWxsPT1hLmRvY3VtZW50RWxlbWVudClhPW14VXRpbHMucGFyc2VYbWwodGhpcy5yZXF1ZXN0LnJlc3BvbnNlVGV4dCk7cmV0dXJuIGF9O214WG1sUmVxdWVzdC5wcm90b3R5cGUuZ2V0VGV4dD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnJlcXVlc3QucmVzcG9uc2VUZXh0fTsKbXhYbWxSZXF1ZXN0LnByb3RvdHlwZS5nZXRTdGF0dXM9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9dGhpcy5yZXF1ZXN0P3RoaXMucmVxdWVzdC5zdGF0dXM6bnVsbH07bXhYbWxSZXF1ZXN0LnByb3RvdHlwZS5jcmVhdGU9ZnVuY3Rpb24oKXtpZih3aW5kb3cuWE1MSHR0cFJlcXVlc3QpcmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGE9bmV3IFhNTEh0dHBSZXF1ZXN0O3RoaXMuaXNCaW5hcnkoKSYmYS5vdmVycmlkZU1pbWVUeXBlJiZhLm92ZXJyaWRlTWltZVR5cGUoInRleHQvcGxhaW47IGNoYXJzZXQ9eC11c2VyLWRlZmluZWQiKTtyZXR1cm4gYX07aWYoInVuZGVmaW5lZCIhPXR5cGVvZiBBY3RpdmVYT2JqZWN0KXJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgQWN0aXZlWE9iamVjdCgiTWljcm9zb2Z0LlhNTEhUVFAiKX19KCk7Cm14WG1sUmVxdWVzdC5wcm90b3R5cGUuc2VuZD1mdW5jdGlvbihhLGIsYyxkKXt0aGlzLnJlcXVlc3Q9dGhpcy5jcmVhdGUoKTtudWxsIT10aGlzLnJlcXVlc3QmJihudWxsIT1hJiYodGhpcy5yZXF1ZXN0Lm9ucmVhZHlzdGF0ZWNoYW5nZT1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMuaXNSZWFkeSgpJiYoYSh0aGlzKSx0aGlzLnJlcXVlc3Qub25yZWFkeXN0YXRlY2hhbmdlPW51bGwpfSkpLHRoaXMucmVxdWVzdC5vcGVuKHRoaXMubWV0aG9kLHRoaXMudXJsLHRoaXMuYXN5bmMsdGhpcy51c2VybmFtZSx0aGlzLnBhc3N3b3JkKSx0aGlzLnNldFJlcXVlc3RIZWFkZXJzKHRoaXMucmVxdWVzdCx0aGlzLnBhcmFtcyksd2luZG93LlhNTEh0dHBSZXF1ZXN0JiZ0aGlzLndpdGhDcmVkZW50aWFscyYmKHRoaXMucmVxdWVzdC53aXRoQ3JlZGVudGlhbHM9InRydWUiKSwhbXhDbGllbnQuSVNfUVVJUktTJiYobnVsbD09ZG9jdW1lbnQuZG9jdW1lbnRNb2RlfHw5PGRvY3VtZW50LmRvY3VtZW50TW9kZSkmJgp3aW5kb3cuWE1MSHR0cFJlcXVlc3QmJm51bGwhPWMmJm51bGwhPWQmJih0aGlzLnJlcXVlc3QudGltZW91dD1jLHRoaXMucmVxdWVzdC5vbnRpbWVvdXQ9ZCksdGhpcy5yZXF1ZXN0LnNlbmQodGhpcy5wYXJhbXMpKX07bXhYbWxSZXF1ZXN0LnByb3RvdHlwZS5zZXRSZXF1ZXN0SGVhZGVycz1mdW5jdGlvbihhLGIpe251bGwhPWImJmEuc2V0UmVxdWVzdEhlYWRlcigiQ29udGVudC1UeXBlIiwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIil9OwpteFhtbFJlcXVlc3QucHJvdG90eXBlLnNpbXVsYXRlPWZ1bmN0aW9uKGEsYil7YT1hfHxkb2N1bWVudDt2YXIgYz1udWxsO2E9PWRvY3VtZW50JiYoYz13aW5kb3cub25iZWZvcmV1bmxvYWQsd2luZG93Lm9uYmVmb3JldW5sb2FkPW51bGwpO3ZhciBkPWEuY3JlYXRlRWxlbWVudCgiZm9ybSIpO2Quc2V0QXR0cmlidXRlKCJtZXRob2QiLHRoaXMubWV0aG9kKTtkLnNldEF0dHJpYnV0ZSgiYWN0aW9uIix0aGlzLnVybCk7bnVsbCE9YiYmZC5zZXRBdHRyaWJ1dGUoInRhcmdldCIsYik7ZC5zdHlsZS5kaXNwbGF5PSJub25lIjtkLnN0eWxlLnZpc2liaWxpdHk9ImhpZGRlbiI7Zm9yKHZhciBlPTA8dGhpcy5wYXJhbXMuaW5kZXhPZigiJiIpP3RoaXMucGFyYW1zLnNwbGl0KCImIik6dGhpcy5wYXJhbXMuc3BsaXQoKSxmPTA7ZjxlLmxlbmd0aDtmKyspe3ZhciBnPWVbZl0uaW5kZXhPZigiPSIpO2lmKDA8Zyl7dmFyIGs9ZVtmXS5zdWJzdHJpbmcoMCxnKSxnPWVbZl0uc3Vic3RyaW5nKGcrCjEpO3RoaXMuZGVjb2RlU2ltdWxhdGVWYWx1ZXMmJihnPWRlY29kZVVSSUNvbXBvbmVudChnKSk7dmFyIGw9YS5jcmVhdGVFbGVtZW50KCJ0ZXh0YXJlYSIpO2wuc2V0QXR0cmlidXRlKCJ3cmFwIiwib2ZmIik7bC5zZXRBdHRyaWJ1dGUoIm5hbWUiLGspO214VXRpbHMud3JpdGUobCxnKTtkLmFwcGVuZENoaWxkKGwpfX1hLmJvZHkuYXBwZW5kQ2hpbGQoZCk7ZC5zdWJtaXQoKTtudWxsIT1kLnBhcmVudE5vZGUmJmQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChkKTtudWxsIT1jJiYod2luZG93Lm9uYmVmb3JldW5sb2FkPWMpfTsKdmFyIG14Q2xpcGJvYXJkPXtTVEVQU0laRToxMCxpbnNlcnRDb3VudDoxLGNlbGxzOm51bGwsc2V0Q2VsbHM6ZnVuY3Rpb24oYSl7bXhDbGlwYm9hcmQuY2VsbHM9YX0sZ2V0Q2VsbHM6ZnVuY3Rpb24oKXtyZXR1cm4gbXhDbGlwYm9hcmQuY2VsbHN9LGlzRW1wdHk6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09bXhDbGlwYm9hcmQuZ2V0Q2VsbHMoKX0sY3V0OmZ1bmN0aW9uKGEsYil7Yj1teENsaXBib2FyZC5jb3B5KGEsYik7bXhDbGlwYm9hcmQuaW5zZXJ0Q291bnQ9MDtteENsaXBib2FyZC5yZW1vdmVDZWxscyhhLGIpO3JldHVybiBifSxyZW1vdmVDZWxsczpmdW5jdGlvbihhLGIpe2EucmVtb3ZlQ2VsbHMoYil9LGNvcHk6ZnVuY3Rpb24oYSxiKXtiPWJ8fGEuZ2V0U2VsZWN0aW9uQ2VsbHMoKTt2YXIgYz1hLmdldEV4cG9ydGFibGVDZWxscyhhLm1vZGVsLmdldFRvcG1vc3RDZWxscyhiKSk7bXhDbGlwYm9hcmQuaW5zZXJ0Q291bnQ9MTtteENsaXBib2FyZC5zZXRDZWxscyhhLmNsb25lQ2VsbHMoYykpOwpyZXR1cm4gY30scGFzdGU6ZnVuY3Rpb24oYSl7dmFyIGI9bnVsbDtpZighbXhDbGlwYm9hcmQuaXNFbXB0eSgpKXt2YXIgYj1hLmdldEltcG9ydGFibGVDZWxscyhteENsaXBib2FyZC5nZXRDZWxscygpKSxjPW14Q2xpcGJvYXJkLmluc2VydENvdW50Km14Q2xpcGJvYXJkLlNURVBTSVpFLGQ9YS5nZXREZWZhdWx0UGFyZW50KCksYj1hLmltcG9ydENlbGxzKGIsYyxjLGQpO214Q2xpcGJvYXJkLmluc2VydENvdW50Kys7YS5zZXRTZWxlY3Rpb25DZWxscyhiKX1yZXR1cm4gYn19OwpmdW5jdGlvbiBteFdpbmRvdyhhLGIsYyxkLGUsZixnLGssbCxtKXtudWxsIT1iJiYoZz1udWxsIT1nP2c6ITAsdGhpcy5jb250ZW50PWIsdGhpcy5pbml0KGMsZCxlLGYsbSksdGhpcy5pbnN0YWxsTWF4aW1pemVIYW5kbGVyKCksdGhpcy5pbnN0YWxsTWluaW1pemVIYW5kbGVyKCksdGhpcy5pbnN0YWxsQ2xvc2VIYW5kbGVyKCksdGhpcy5zZXRNaW5pbWl6YWJsZShnKSx0aGlzLnNldFRpdGxlKGEpLChudWxsPT1rfHxrKSYmdGhpcy5pbnN0YWxsTW92ZUhhbmRsZXIoKSxudWxsIT1sJiZudWxsIT1sLnBhcmVudE5vZGU/bC5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZCh0aGlzLmRpdixsKTpkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuZGl2KSl9bXhXaW5kb3cucHJvdG90eXBlPW5ldyBteEV2ZW50U291cmNlO214V2luZG93LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1teFdpbmRvdztteFdpbmRvdy5wcm90b3R5cGUuY2xvc2VJbWFnZT1teENsaWVudC5pbWFnZUJhc2VQYXRoKyIvY2xvc2UuZ2lmIjsKbXhXaW5kb3cucHJvdG90eXBlLm1pbmltaXplSW1hZ2U9bXhDbGllbnQuaW1hZ2VCYXNlUGF0aCsiL21pbmltaXplLmdpZiI7bXhXaW5kb3cucHJvdG90eXBlLm5vcm1hbGl6ZUltYWdlPW14Q2xpZW50LmltYWdlQmFzZVBhdGgrIi9ub3JtYWxpemUuZ2lmIjtteFdpbmRvdy5wcm90b3R5cGUubWF4aW1pemVJbWFnZT1teENsaWVudC5pbWFnZUJhc2VQYXRoKyIvbWF4aW1pemUuZ2lmIjtteFdpbmRvdy5wcm90b3R5cGUucmVzaXplSW1hZ2U9bXhDbGllbnQuaW1hZ2VCYXNlUGF0aCsiL3Jlc2l6ZS5naWYiO214V2luZG93LnByb3RvdHlwZS52aXNpYmxlPSExO214V2luZG93LnByb3RvdHlwZS5taW5pbXVtU2l6ZT1uZXcgbXhSZWN0YW5nbGUoMCwwLDUwLDQwKTtteFdpbmRvdy5wcm90b3R5cGUuZGVzdHJveU9uQ2xvc2U9ITA7Cm14V2luZG93LnByb3RvdHlwZS5jb250ZW50SGVpZ2h0Q29ycmVjdGlvbj04PT1kb2N1bWVudC5kb2N1bWVudE1vZGV8fDc9PWRvY3VtZW50LmRvY3VtZW50TW9kZT82OjI7bXhXaW5kb3cucHJvdG90eXBlLnRpdGxlPW51bGw7bXhXaW5kb3cucHJvdG90eXBlLmNvbnRlbnQ9bnVsbDsKbXhXaW5kb3cucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oYSxiLGMsZCxlKXtlPW51bGwhPWU/ZToibXhXaW5kb3ciO3RoaXMuZGl2PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO3RoaXMuZGl2LmNsYXNzTmFtZT1lO3RoaXMuZGl2LnN0eWxlLmxlZnQ9YSsicHgiO3RoaXMuZGl2LnN0eWxlLnRvcD1iKyJweCI7dGhpcy50YWJsZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0YWJsZSIpO3RoaXMudGFibGUuY2xhc3NOYW1lPWU7bXhDbGllbnQuSVNfUE9JTlRFUiYmKHRoaXMuZGl2LnN0eWxlLnRvdWNoQWN0aW9uPSJub25lIik7bnVsbCE9YyYmKG14Q2xpZW50LklTX1FVSVJLU3x8KHRoaXMuZGl2LnN0eWxlLndpZHRoPWMrInB4IiksdGhpcy50YWJsZS5zdHlsZS53aWR0aD1jKyJweCIpO251bGwhPWQmJihteENsaWVudC5JU19RVUlSS1N8fCh0aGlzLmRpdi5zdHlsZS5oZWlnaHQ9ZCsicHgiKSx0aGlzLnRhYmxlLnN0eWxlLmhlaWdodD1kKyJweCIpO2E9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGJvZHkiKTsKYj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ciIpO3RoaXMudGl0bGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGQiKTt0aGlzLnRpdGxlLmNsYXNzTmFtZT1lKyJUaXRsZSI7dGhpcy5idXR0b25zPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO3RoaXMuYnV0dG9ucy5zdHlsZS5wb3NpdGlvbj0iYWJzb2x1dGUiO3RoaXMuYnV0dG9ucy5zdHlsZS5kaXNwbGF5PSJpbmxpbmUtYmxvY2siO3RoaXMuYnV0dG9ucy5zdHlsZS5yaWdodD0iNHB4Ijt0aGlzLmJ1dHRvbnMuc3R5bGUudG9wPSI1cHgiO3RoaXMudGl0bGUuYXBwZW5kQ2hpbGQodGhpcy5idXR0b25zKTtiLmFwcGVuZENoaWxkKHRoaXMudGl0bGUpO2EuYXBwZW5kQ2hpbGQoYik7Yj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ciIpO3RoaXMudGQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGQiKTt0aGlzLnRkLmNsYXNzTmFtZT1lKyJQYW5lIjs3PT1kb2N1bWVudC5kb2N1bWVudE1vZGUmJih0aGlzLnRkLnN0eWxlLmhlaWdodD0KIjEwMCUiKTt0aGlzLmNvbnRlbnRXcmFwcGVyPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO3RoaXMuY29udGVudFdyYXBwZXIuY2xhc3NOYW1lPWUrIlBhbmUiO3RoaXMuY29udGVudFdyYXBwZXIuc3R5bGUud2lkdGg9IjEwMCUiO3RoaXMuY29udGVudFdyYXBwZXIuYXBwZW5kQ2hpbGQodGhpcy5jb250ZW50KTtpZihteENsaWVudC5JU19RVUlSS1N8fCJESVYiIT10aGlzLmNvbnRlbnQubm9kZU5hbWUudG9VcHBlckNhc2UoKSl0aGlzLmNvbnRlbnRXcmFwcGVyLnN0eWxlLmhlaWdodD0iMTAwJSI7dGhpcy50ZC5hcHBlbmRDaGlsZCh0aGlzLmNvbnRlbnRXcmFwcGVyKTtiLmFwcGVuZENoaWxkKHRoaXMudGQpO2EuYXBwZW5kQ2hpbGQoYik7dGhpcy50YWJsZS5hcHBlbmRDaGlsZChhKTt0aGlzLmRpdi5hcHBlbmRDaGlsZCh0aGlzLnRhYmxlKTtlPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3RoaXMuYWN0aXZhdGUoKX0pO214RXZlbnQuYWRkR2VzdHVyZUxpc3RlbmVycyh0aGlzLnRpdGxlLAplKTtteEV2ZW50LmFkZEdlc3R1cmVMaXN0ZW5lcnModGhpcy50YWJsZSxlKTt0aGlzLmhpZGUoKX07bXhXaW5kb3cucHJvdG90eXBlLnNldFRpdGxlPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj10aGlzLnRpdGxlLmZpcnN0Q2hpbGQ7bnVsbCE9Yjspe3ZhciBjPWIubmV4dFNpYmxpbmc7Yi5ub2RlVHlwZT09bXhDb25zdGFudHMuTk9ERVRZUEVfVEVYVCYmYi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGIpO2I9Y31teFV0aWxzLndyaXRlKHRoaXMudGl0bGUsYXx8IiIpO3RoaXMudGl0bGUuYXBwZW5kQ2hpbGQodGhpcy5idXR0b25zKX07bXhXaW5kb3cucHJvdG90eXBlLnNldFNjcm9sbGFibGU9ZnVuY3Rpb24oYSl7aWYobnVsbD09bmF2aWdhdG9yLnVzZXJBZ2VudHx8MD5uYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIlByZXN0by8yLjUiKSl0aGlzLmNvbnRlbnRXcmFwcGVyLnN0eWxlLm92ZXJmbG93PWE/ImF1dG8iOiJoaWRkZW4ifTsKbXhXaW5kb3cucHJvdG90eXBlLmFjdGl2YXRlPWZ1bmN0aW9uKCl7aWYobXhXaW5kb3cuYWN0aXZlV2luZG93IT10aGlzKXt2YXIgYT1teFV0aWxzLmdldEN1cnJlbnRTdHlsZSh0aGlzLmdldEVsZW1lbnQoKSksYT1udWxsIT1hP2EuekluZGV4OjM7aWYobXhXaW5kb3cuYWN0aXZlV2luZG93KXt2YXIgYj1teFdpbmRvdy5hY3RpdmVXaW5kb3cuZ2V0RWxlbWVudCgpO251bGwhPWImJm51bGwhPWIuc3R5bGUmJihiLnN0eWxlLnpJbmRleD1hKX1iPW14V2luZG93LmFjdGl2ZVdpbmRvdzt0aGlzLmdldEVsZW1lbnQoKS5zdHlsZS56SW5kZXg9cGFyc2VJbnQoYSkrMTtteFdpbmRvdy5hY3RpdmVXaW5kb3c9dGhpczt0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LkFDVElWQVRFLCJwcmV2aW91c1dpbmRvdyIsYikpfX07bXhXaW5kb3cucHJvdG90eXBlLmdldEVsZW1lbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kaXZ9OwpteFdpbmRvdy5wcm90b3R5cGUuZml0PWZ1bmN0aW9uKCl7bXhVdGlscy5maXQodGhpcy5kaXYpfTtteFdpbmRvdy5wcm90b3R5cGUuaXNSZXNpemFibGU9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9dGhpcy5yZXNpemU/Im5vbmUiIT10aGlzLnJlc2l6ZS5zdHlsZS5kaXNwbGF5OiExfTsKbXhXaW5kb3cucHJvdG90eXBlLnNldFJlc2l6YWJsZT1mdW5jdGlvbihhKXtpZihhKWlmKG51bGw9PXRoaXMucmVzaXplKXt0aGlzLnJlc2l6ZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbWciKTt0aGlzLnJlc2l6ZS5zdHlsZS5wb3NpdGlvbj0iYWJzb2x1dGUiO3RoaXMucmVzaXplLnN0eWxlLmJvdHRvbT0iMnB4Ijt0aGlzLnJlc2l6ZS5zdHlsZS5yaWdodD0iMnB4Ijt0aGlzLnJlc2l6ZS5zZXRBdHRyaWJ1dGUoInNyYyIsdGhpcy5yZXNpemVJbWFnZSk7dGhpcy5yZXNpemUuc3R5bGUuY3Vyc29yPSJudy1yZXNpemUiO3ZhciBiPW51bGwsYz1udWxsLGQ9bnVsbCxlPW51bGw7YT1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXt0aGlzLmFjdGl2YXRlKCk7Yj1teEV2ZW50LmdldENsaWVudFgoYSk7Yz1teEV2ZW50LmdldENsaWVudFkoYSk7ZD10aGlzLmRpdi5vZmZzZXRXaWR0aDtlPXRoaXMuZGl2Lm9mZnNldEhlaWdodDtteEV2ZW50LmFkZEdlc3R1cmVMaXN0ZW5lcnMoZG9jdW1lbnQsCm51bGwsZixnKTt0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LlJFU0laRV9TVEFSVCwiZXZlbnQiLGEpKTtteEV2ZW50LmNvbnN1bWUoYSl9KTt2YXIgZj1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXtpZihudWxsIT1iJiZudWxsIT1jKXt2YXIgZj1teEV2ZW50LmdldENsaWVudFgoYSktYixnPW14RXZlbnQuZ2V0Q2xpZW50WShhKS1jO3RoaXMuc2V0U2l6ZShkK2YsZStnKTt0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LlJFU0laRSwiZXZlbnQiLGEpKTtteEV2ZW50LmNvbnN1bWUoYSl9fSksZz1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXtudWxsIT1iJiZudWxsIT1jJiYoYz1iPW51bGwsbXhFdmVudC5yZW1vdmVHZXN0dXJlTGlzdGVuZXJzKGRvY3VtZW50LG51bGwsZixnKSx0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LlJFU0laRV9FTkQsImV2ZW50IixhKSksbXhFdmVudC5jb25zdW1lKGEpKX0pOwpteEV2ZW50LmFkZEdlc3R1cmVMaXN0ZW5lcnModGhpcy5yZXNpemUsYSxmLGcpO3RoaXMuZGl2LmFwcGVuZENoaWxkKHRoaXMucmVzaXplKX1lbHNlIHRoaXMucmVzaXplLnN0eWxlLmRpc3BsYXk9ImlubGluZSI7ZWxzZSBudWxsIT10aGlzLnJlc2l6ZSYmKHRoaXMucmVzaXplLnN0eWxlLmRpc3BsYXk9Im5vbmUiKX07Cm14V2luZG93LnByb3RvdHlwZS5zZXRTaXplPWZ1bmN0aW9uKGEsYil7YT1NYXRoLm1heCh0aGlzLm1pbmltdW1TaXplLndpZHRoLGEpO2I9TWF0aC5tYXgodGhpcy5taW5pbXVtU2l6ZS5oZWlnaHQsYik7bXhDbGllbnQuSVNfUVVJUktTfHwodGhpcy5kaXYuc3R5bGUud2lkdGg9YSsicHgiLHRoaXMuZGl2LnN0eWxlLmhlaWdodD1iKyJweCIpO3RoaXMudGFibGUuc3R5bGUud2lkdGg9YSsicHgiO3RoaXMudGFibGUuc3R5bGUuaGVpZ2h0PWIrInB4IjtteENsaWVudC5JU19RVUlSS1N8fCh0aGlzLmNvbnRlbnRXcmFwcGVyLnN0eWxlLmhlaWdodD10aGlzLmRpdi5vZmZzZXRIZWlnaHQtdGhpcy50aXRsZS5vZmZzZXRIZWlnaHQtdGhpcy5jb250ZW50SGVpZ2h0Q29ycmVjdGlvbisicHgiKX07bXhXaW5kb3cucHJvdG90eXBlLnNldE1pbmltaXphYmxlPWZ1bmN0aW9uKGEpe3RoaXMubWluaW1pemUuc3R5bGUuZGlzcGxheT1hPyIiOiJub25lIn07Cm14V2luZG93LnByb3RvdHlwZS5nZXRNaW5pbXVtU2l6ZT1mdW5jdGlvbigpe3JldHVybiBuZXcgbXhSZWN0YW5nbGUoMCwwLDAsdGhpcy50aXRsZS5vZmZzZXRIZWlnaHQpfTsKbXhXaW5kb3cucHJvdG90eXBlLmluc3RhbGxNaW5pbWl6ZUhhbmRsZXI9ZnVuY3Rpb24oKXt0aGlzLm1pbmltaXplPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImltZyIpO3RoaXMubWluaW1pemUuc2V0QXR0cmlidXRlKCJzcmMiLHRoaXMubWluaW1pemVJbWFnZSk7dGhpcy5taW5pbWl6ZS5zZXRBdHRyaWJ1dGUoInRpdGxlIiwiTWluaW1pemUiKTt0aGlzLm1pbmltaXplLnN0eWxlLmN1cnNvcj0icG9pbnRlciI7dGhpcy5taW5pbWl6ZS5zdHlsZS5tYXJnaW5MZWZ0PSIycHgiO3RoaXMubWluaW1pemUuc3R5bGUuZGlzcGxheT0ibm9uZSI7dGhpcy5idXR0b25zLmFwcGVuZENoaWxkKHRoaXMubWluaW1pemUpO3ZhciBhPSExLGI9bnVsbCxjPW51bGwsZD1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihkKXt0aGlzLmFjdGl2YXRlKCk7aWYoYSlhPSExLHRoaXMubWluaW1pemUuc2V0QXR0cmlidXRlKCJzcmMiLHRoaXMubWluaW1pemVJbWFnZSksdGhpcy5taW5pbWl6ZS5zZXRBdHRyaWJ1dGUoInRpdGxlIiwKIk1pbmltaXplIiksdGhpcy5jb250ZW50V3JhcHBlci5zdHlsZS5kaXNwbGF5PSIiLHRoaXMubWF4aW1pemUuc3R5bGUuZGlzcGxheT1iLG14Q2xpZW50LklTX1FVSVJLU3x8KHRoaXMuZGl2LnN0eWxlLmhlaWdodD1jKSx0aGlzLnRhYmxlLnN0eWxlLmhlaWdodD1jLG51bGwhPXRoaXMucmVzaXplJiYodGhpcy5yZXNpemUuc3R5bGUudmlzaWJpbGl0eT0iIiksdGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5OT1JNQUxJWkUsImV2ZW50IixkKSk7ZWxzZXthPSEwO3RoaXMubWluaW1pemUuc2V0QXR0cmlidXRlKCJzcmMiLHRoaXMubm9ybWFsaXplSW1hZ2UpO3RoaXMubWluaW1pemUuc2V0QXR0cmlidXRlKCJ0aXRsZSIsIk5vcm1hbGl6ZSIpO3RoaXMuY29udGVudFdyYXBwZXIuc3R5bGUuZGlzcGxheT0ibm9uZSI7Yj10aGlzLm1heGltaXplLnN0eWxlLmRpc3BsYXk7dGhpcy5tYXhpbWl6ZS5zdHlsZS5kaXNwbGF5PSJub25lIjtjPXRoaXMudGFibGUuc3R5bGUuaGVpZ2h0Owp2YXIgZT10aGlzLmdldE1pbmltdW1TaXplKCk7MDxlLmhlaWdodCYmKG14Q2xpZW50LklTX1FVSVJLU3x8KHRoaXMuZGl2LnN0eWxlLmhlaWdodD1lLmhlaWdodCsicHgiKSx0aGlzLnRhYmxlLnN0eWxlLmhlaWdodD1lLmhlaWdodCsicHgiKTswPGUud2lkdGgmJihteENsaWVudC5JU19RVUlSS1N8fCh0aGlzLmRpdi5zdHlsZS53aWR0aD1lLndpZHRoKyJweCIpLHRoaXMudGFibGUuc3R5bGUud2lkdGg9ZS53aWR0aCsicHgiKTtudWxsIT10aGlzLnJlc2l6ZSYmKHRoaXMucmVzaXplLnN0eWxlLnZpc2liaWxpdHk9ImhpZGRlbiIpO3RoaXMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KG14RXZlbnQuTUlOSU1JWkUsImV2ZW50IixkKSl9bXhFdmVudC5jb25zdW1lKGQpfSk7bXhFdmVudC5hZGRHZXN0dXJlTGlzdGVuZXJzKHRoaXMubWluaW1pemUsZCl9OwpteFdpbmRvdy5wcm90b3R5cGUuc2V0TWF4aW1pemFibGU9ZnVuY3Rpb24oYSl7dGhpcy5tYXhpbWl6ZS5zdHlsZS5kaXNwbGF5PWE/IiI6Im5vbmUifTsKbXhXaW5kb3cucHJvdG90eXBlLmluc3RhbGxNYXhpbWl6ZUhhbmRsZXI9ZnVuY3Rpb24oKXt0aGlzLm1heGltaXplPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImltZyIpO3RoaXMubWF4aW1pemUuc2V0QXR0cmlidXRlKCJzcmMiLHRoaXMubWF4aW1pemVJbWFnZSk7dGhpcy5tYXhpbWl6ZS5zZXRBdHRyaWJ1dGUoInRpdGxlIiwiTWF4aW1pemUiKTt0aGlzLm1heGltaXplLnN0eWxlLmN1cnNvcj0iZGVmYXVsdCI7dGhpcy5tYXhpbWl6ZS5zdHlsZS5tYXJnaW5MZWZ0PSIycHgiO3RoaXMubWF4aW1pemUuc3R5bGUuY3Vyc29yPSJwb2ludGVyIjt0aGlzLm1heGltaXplLnN0eWxlLmRpc3BsYXk9Im5vbmUiO3RoaXMuYnV0dG9ucy5hcHBlbmRDaGlsZCh0aGlzLm1heGltaXplKTt2YXIgYT0hMSxiPW51bGwsYz1udWxsLGQ9bnVsbCxlPW51bGwsZj1udWxsLGc9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oZyl7dGhpcy5hY3RpdmF0ZSgpO2lmKCJub25lIiE9dGhpcy5tYXhpbWl6ZS5zdHlsZS5kaXNwbGF5KXtpZihhKWE9CiExLHRoaXMubWF4aW1pemUuc2V0QXR0cmlidXRlKCJzcmMiLHRoaXMubWF4aW1pemVJbWFnZSksdGhpcy5tYXhpbWl6ZS5zZXRBdHRyaWJ1dGUoInRpdGxlIiwiTWF4aW1pemUiKSx0aGlzLmNvbnRlbnRXcmFwcGVyLnN0eWxlLmRpc3BsYXk9IiIsdGhpcy5taW5pbWl6ZS5zdHlsZS5kaXNwbGF5PWYsdGhpcy5kaXYuc3R5bGUubGVmdD1iKyJweCIsdGhpcy5kaXYuc3R5bGUudG9wPWMrInB4IixteENsaWVudC5JU19RVUlSS1N8fCh0aGlzLmRpdi5zdHlsZS5oZWlnaHQ9ZCx0aGlzLmRpdi5zdHlsZS53aWR0aD1lLGs9bXhVdGlscy5nZXRDdXJyZW50U3R5bGUodGhpcy5jb250ZW50V3JhcHBlciksImF1dG8iIT1rLm92ZXJmbG93JiZudWxsPT10aGlzLnJlc2l6ZSl8fCh0aGlzLmNvbnRlbnRXcmFwcGVyLnN0eWxlLmhlaWdodD10aGlzLmRpdi5vZmZzZXRIZWlnaHQtdGhpcy50aXRsZS5vZmZzZXRIZWlnaHQtdGhpcy5jb250ZW50SGVpZ2h0Q29ycmVjdGlvbisicHgiKSx0aGlzLnRhYmxlLnN0eWxlLmhlaWdodD0KZCx0aGlzLnRhYmxlLnN0eWxlLndpZHRoPWUsbnVsbCE9dGhpcy5yZXNpemUmJih0aGlzLnJlc2l6ZS5zdHlsZS52aXNpYmlsaXR5PSIiKSx0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50Lk5PUk1BTElaRSwiZXZlbnQiLGcpKTtlbHNle2E9ITA7dGhpcy5tYXhpbWl6ZS5zZXRBdHRyaWJ1dGUoInNyYyIsdGhpcy5ub3JtYWxpemVJbWFnZSk7dGhpcy5tYXhpbWl6ZS5zZXRBdHRyaWJ1dGUoInRpdGxlIiwiTm9ybWFsaXplIik7dGhpcy5jb250ZW50V3JhcHBlci5zdHlsZS5kaXNwbGF5PSIiO2Y9dGhpcy5taW5pbWl6ZS5zdHlsZS5kaXNwbGF5O3RoaXMubWluaW1pemUuc3R5bGUuZGlzcGxheT0ibm9uZSI7Yj1wYXJzZUludCh0aGlzLmRpdi5zdHlsZS5sZWZ0KTtjPXBhcnNlSW50KHRoaXMuZGl2LnN0eWxlLnRvcCk7ZD10aGlzLnRhYmxlLnN0eWxlLmhlaWdodDtlPXRoaXMudGFibGUuc3R5bGUud2lkdGg7dGhpcy5kaXYuc3R5bGUubGVmdD0iMHB4Ijt0aGlzLmRpdi5zdHlsZS50b3A9CiIwcHgiO2s9TWF0aC5tYXgoZG9jdW1lbnQuYm9keS5jbGllbnRIZWlnaHR8fDAsZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodHx8MCk7bXhDbGllbnQuSVNfUVVJUktTfHwodGhpcy5kaXYuc3R5bGUud2lkdGg9ZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aC0yKyJweCIsdGhpcy5kaXYuc3R5bGUuaGVpZ2h0PWstMisicHgiKTt0aGlzLnRhYmxlLnN0eWxlLndpZHRoPWRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGgtMisicHgiO3RoaXMudGFibGUuc3R5bGUuaGVpZ2h0PWstMisicHgiO251bGwhPXRoaXMucmVzaXplJiYodGhpcy5yZXNpemUuc3R5bGUudmlzaWJpbGl0eT0iaGlkZGVuIik7aWYoIW14Q2xpZW50LklTX1FVSVJLUyl7dmFyIGs9bXhVdGlscy5nZXRDdXJyZW50U3R5bGUodGhpcy5jb250ZW50V3JhcHBlcik7aWYoImF1dG8iPT1rLm92ZXJmbG93fHxudWxsIT10aGlzLnJlc2l6ZSl0aGlzLmNvbnRlbnRXcmFwcGVyLnN0eWxlLmhlaWdodD10aGlzLmRpdi5vZmZzZXRIZWlnaHQtCnRoaXMudGl0bGUub2Zmc2V0SGVpZ2h0LXRoaXMuY29udGVudEhlaWdodENvcnJlY3Rpb24rInB4In10aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50Lk1BWElNSVpFLCJldmVudCIsZykpfW14RXZlbnQuY29uc3VtZShnKX19KTtteEV2ZW50LmFkZEdlc3R1cmVMaXN0ZW5lcnModGhpcy5tYXhpbWl6ZSxnKTtteEV2ZW50LmFkZExpc3RlbmVyKHRoaXMudGl0bGUsImRibGNsaWNrIixnKX07Cm14V2luZG93LnByb3RvdHlwZS5pbnN0YWxsTW92ZUhhbmRsZXI9ZnVuY3Rpb24oKXt0aGlzLnRpdGxlLnN0eWxlLmN1cnNvcj0ibW92ZSI7bXhFdmVudC5hZGRHZXN0dXJlTGlzdGVuZXJzKHRoaXMudGl0bGUsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7dmFyIGI9bXhFdmVudC5nZXRDbGllbnRYKGEpLGM9bXhFdmVudC5nZXRDbGllbnRZKGEpLGQ9dGhpcy5nZXRYKCksZT10aGlzLmdldFkoKSxmPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3ZhciBmPW14RXZlbnQuZ2V0Q2xpZW50WChhKS1iLGc9bXhFdmVudC5nZXRDbGllbnRZKGEpLWM7dGhpcy5zZXRMb2NhdGlvbihkK2YsZStnKTt0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50Lk1PVkUsImV2ZW50IixhKSk7bXhFdmVudC5jb25zdW1lKGEpfSksZz1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXtteEV2ZW50LnJlbW92ZUdlc3R1cmVMaXN0ZW5lcnMoZG9jdW1lbnQsbnVsbCxmLApnKTt0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50Lk1PVkVfRU5ELCJldmVudCIsYSkpO214RXZlbnQuY29uc3VtZShhKX0pO214RXZlbnQuYWRkR2VzdHVyZUxpc3RlbmVycyhkb2N1bWVudCxudWxsLGYsZyk7dGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5NT1ZFX1NUQVJULCJldmVudCIsYSkpO214RXZlbnQuY29uc3VtZShhKX0pKTtteENsaWVudC5JU19QT0lOVEVSJiYodGhpcy50aXRsZS5zdHlsZS50b3VjaEFjdGlvbj0ibm9uZSIpfTtteFdpbmRvdy5wcm90b3R5cGUuc2V0TG9jYXRpb249ZnVuY3Rpb24oYSxiKXt0aGlzLmRpdi5zdHlsZS5sZWZ0PWErInB4Ijt0aGlzLmRpdi5zdHlsZS50b3A9YisicHgifTtteFdpbmRvdy5wcm90b3R5cGUuZ2V0WD1mdW5jdGlvbigpe3JldHVybiBwYXJzZUludCh0aGlzLmRpdi5zdHlsZS5sZWZ0KX07bXhXaW5kb3cucHJvdG90eXBlLmdldFk9ZnVuY3Rpb24oKXtyZXR1cm4gcGFyc2VJbnQodGhpcy5kaXYuc3R5bGUudG9wKX07Cm14V2luZG93LnByb3RvdHlwZS5pbnN0YWxsQ2xvc2VIYW5kbGVyPWZ1bmN0aW9uKCl7dGhpcy5jbG9zZUltZz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbWciKTt0aGlzLmNsb3NlSW1nLnNldEF0dHJpYnV0ZSgic3JjIix0aGlzLmNsb3NlSW1hZ2UpO3RoaXMuY2xvc2VJbWcuc2V0QXR0cmlidXRlKCJ0aXRsZSIsIkNsb3NlIik7dGhpcy5jbG9zZUltZy5zdHlsZS5tYXJnaW5MZWZ0PSIycHgiO3RoaXMuY2xvc2VJbWcuc3R5bGUuY3Vyc29yPSJwb2ludGVyIjt0aGlzLmNsb3NlSW1nLnN0eWxlLmRpc3BsYXk9Im5vbmUiO3RoaXMuYnV0dG9ucy5hcHBlbmRDaGlsZCh0aGlzLmNsb3NlSW1nKTtteEV2ZW50LmFkZEdlc3R1cmVMaXN0ZW5lcnModGhpcy5jbG9zZUltZyxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXt0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LkNMT1NFLCJldmVudCIsYSkpO3RoaXMuZGVzdHJveU9uQ2xvc2U/dGhpcy5kZXN0cm95KCk6CnRoaXMuc2V0VmlzaWJsZSghMSk7bXhFdmVudC5jb25zdW1lKGEpfSkpfTtteFdpbmRvdy5wcm90b3R5cGUuc2V0SW1hZ2U9ZnVuY3Rpb24oYSl7dGhpcy5pbWFnZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbWciKTt0aGlzLmltYWdlLnNldEF0dHJpYnV0ZSgic3JjIixhKTt0aGlzLmltYWdlLnNldEF0dHJpYnV0ZSgiYWxpZ24iLCJsZWZ0Iik7dGhpcy5pbWFnZS5zdHlsZS5tYXJnaW5SaWdodD0iNHB4Ijt0aGlzLmltYWdlLnN0eWxlLm1hcmdpbkxlZnQ9IjBweCI7dGhpcy5pbWFnZS5zdHlsZS5tYXJnaW5Ub3A9Ii0ycHgiO3RoaXMudGl0bGUuaW5zZXJ0QmVmb3JlKHRoaXMuaW1hZ2UsdGhpcy50aXRsZS5maXJzdENoaWxkKX07bXhXaW5kb3cucHJvdG90eXBlLnNldENsb3NhYmxlPWZ1bmN0aW9uKGEpe3RoaXMuY2xvc2VJbWcuc3R5bGUuZGlzcGxheT1hPyIiOiJub25lIn07Cm14V2luZG93LnByb3RvdHlwZS5pc1Zpc2libGU9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9dGhpcy5kaXY/Im5vbmUiIT10aGlzLmRpdi5zdHlsZS5kaXNwbGF5OiExfTtteFdpbmRvdy5wcm90b3R5cGUuc2V0VmlzaWJsZT1mdW5jdGlvbihhKXtudWxsIT10aGlzLmRpdiYmdGhpcy5pc1Zpc2libGUoKSE9YSYmKGE/dGhpcy5zaG93KCk6dGhpcy5oaWRlKCkpfTsKbXhXaW5kb3cucHJvdG90eXBlLnNob3c9ZnVuY3Rpb24oKXt0aGlzLmRpdi5zdHlsZS5kaXNwbGF5PSIiO3RoaXMuYWN0aXZhdGUoKTt2YXIgYT1teFV0aWxzLmdldEN1cnJlbnRTdHlsZSh0aGlzLmNvbnRlbnRXcmFwcGVyKTtteENsaWVudC5JU19RVUlSS1N8fCJhdXRvIiE9YS5vdmVyZmxvdyYmbnVsbD09dGhpcy5yZXNpemV8fCJub25lIj09dGhpcy5jb250ZW50V3JhcHBlci5zdHlsZS5kaXNwbGF5fHwodGhpcy5jb250ZW50V3JhcHBlci5zdHlsZS5oZWlnaHQ9dGhpcy5kaXYub2Zmc2V0SGVpZ2h0LXRoaXMudGl0bGUub2Zmc2V0SGVpZ2h0LXRoaXMuY29udGVudEhlaWdodENvcnJlY3Rpb24rInB4Iik7dGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5TSE9XKSl9O214V2luZG93LnByb3RvdHlwZS5oaWRlPWZ1bmN0aW9uKCl7dGhpcy5kaXYuc3R5bGUuZGlzcGxheT0ibm9uZSI7dGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5ISURFKSl9OwpteFdpbmRvdy5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KG14RXZlbnQuREVTVFJPWSkpO251bGwhPXRoaXMuZGl2JiYobXhFdmVudC5yZWxlYXNlKHRoaXMuZGl2KSx0aGlzLmRpdi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuZGl2KSx0aGlzLmRpdj1udWxsKTt0aGlzLmNvbnRlbnRXcmFwcGVyPXRoaXMuY29udGVudD10aGlzLnRpdGxlPW51bGx9O2Z1bmN0aW9uIG14Rm9ybShhKXt0aGlzLnRhYmxlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRhYmxlIik7dGhpcy50YWJsZS5jbGFzc05hbWU9YTt0aGlzLmJvZHk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGJvZHkiKTt0aGlzLnRhYmxlLmFwcGVuZENoaWxkKHRoaXMuYm9keSl9bXhGb3JtLnByb3RvdHlwZS50YWJsZT1udWxsO214Rm9ybS5wcm90b3R5cGUuYm9keT0hMTtteEZvcm0ucHJvdG90eXBlLmdldFRhYmxlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGFibGV9OwpteEZvcm0ucHJvdG90eXBlLmFkZEJ1dHRvbnM9ZnVuY3Rpb24oYSxiKXt2YXIgYz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ciIpLGQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGQiKTtjLmFwcGVuZENoaWxkKGQpO3ZhciBkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRkIiksZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJidXR0b24iKTtteFV0aWxzLndyaXRlKGUsbXhSZXNvdXJjZXMuZ2V0KCJvayIpfHwiT0siKTtkLmFwcGVuZENoaWxkKGUpO214RXZlbnQuYWRkTGlzdGVuZXIoZSwiY2xpY2siLGZ1bmN0aW9uKCl7YSgpfSk7ZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJidXR0b24iKTtteFV0aWxzLndyaXRlKGUsbXhSZXNvdXJjZXMuZ2V0KCJjYW5jZWwiKXx8IkNhbmNlbCIpO2QuYXBwZW5kQ2hpbGQoZSk7bXhFdmVudC5hZGRMaXN0ZW5lcihlLCJjbGljayIsZnVuY3Rpb24oKXtiKCl9KTtjLmFwcGVuZENoaWxkKGQpO3RoaXMuYm9keS5hcHBlbmRDaGlsZChjKX07Cm14Rm9ybS5wcm90b3R5cGUuYWRkVGV4dD1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTtkLnNldEF0dHJpYnV0ZSgidHlwZSIsY3x8InRleHQiKTtkLnZhbHVlPWI7cmV0dXJuIHRoaXMuYWRkRmllbGQoYSxkKX07bXhGb3JtLnByb3RvdHlwZS5hZGRDaGVja2JveD1mdW5jdGlvbihhLGIpe3ZhciBjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7Yy5zZXRBdHRyaWJ1dGUoInR5cGUiLCJjaGVja2JveCIpO3RoaXMuYWRkRmllbGQoYSxjKTtiJiYoYy5jaGVja2VkPSEwKTtyZXR1cm4gY307bXhGb3JtLnByb3RvdHlwZS5hZGRUZXh0YXJlYT1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGV4dGFyZWEiKTtteENsaWVudC5JU19OUyYmYy0tO2Quc2V0QXR0cmlidXRlKCJyb3dzIixjfHwyKTtkLnZhbHVlPWI7cmV0dXJuIHRoaXMuYWRkRmllbGQoYSxkKX07Cm14Rm9ybS5wcm90b3R5cGUuYWRkQ29tYm89ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNlbGVjdCIpO251bGwhPWMmJmQuc2V0QXR0cmlidXRlKCJzaXplIixjKTtiJiZkLnNldEF0dHJpYnV0ZSgibXVsdGlwbGUiLCJ0cnVlIik7cmV0dXJuIHRoaXMuYWRkRmllbGQoYSxkKX07bXhGb3JtLnByb3RvdHlwZS5hZGRPcHRpb249ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgib3B0aW9uIik7bXhVdGlscy53cml0ZWxuKGUsYik7ZS5zZXRBdHRyaWJ1dGUoInZhbHVlIixjKTtkJiZlLnNldEF0dHJpYnV0ZSgic2VsZWN0ZWQiLGQpO2EuYXBwZW5kQ2hpbGQoZSl9OwpteEZvcm0ucHJvdG90eXBlLmFkZEZpZWxkPWZ1bmN0aW9uKGEsYil7dmFyIGM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidHIiKSxkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRkIik7bXhVdGlscy53cml0ZShkLGEpO2MuYXBwZW5kQ2hpbGQoZCk7ZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ZCIpO2QuYXBwZW5kQ2hpbGQoYik7Yy5hcHBlbmRDaGlsZChkKTt0aGlzLmJvZHkuYXBwZW5kQ2hpbGQoYyk7cmV0dXJuIGJ9O2Z1bmN0aW9uIG14SW1hZ2UoYSxiLGMpe3RoaXMuc3JjPWE7dGhpcy53aWR0aD1iO3RoaXMuaGVpZ2h0PWN9bXhJbWFnZS5wcm90b3R5cGUuc3JjPW51bGw7bXhJbWFnZS5wcm90b3R5cGUud2lkdGg9bnVsbDtteEltYWdlLnByb3RvdHlwZS5oZWlnaHQ9bnVsbDsKZnVuY3Rpb24gbXhEaXZSZXNpemVyKGEsYil7aWYoImRpdiI9PWEubm9kZU5hbWUudG9Mb3dlckNhc2UoKSl7bnVsbD09YiYmKGI9d2luZG93KTt0aGlzLmRpdj1hO3ZhciBjPW14VXRpbHMuZ2V0Q3VycmVudFN0eWxlKGEpO251bGwhPWMmJih0aGlzLnJlc2l6ZVdpZHRoPSJhdXRvIj09Yy53aWR0aCx0aGlzLnJlc2l6ZUhlaWdodD0iYXV0byI9PWMuaGVpZ2h0KTtteEV2ZW50LmFkZExpc3RlbmVyKGIsInJlc2l6ZSIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7dGhpcy5oYW5kbGluZ1Jlc2l6ZXx8KHRoaXMuaGFuZGxpbmdSZXNpemU9ITAsdGhpcy5yZXNpemUoKSx0aGlzLmhhbmRsaW5nUmVzaXplPSExKX0pKTt0aGlzLnJlc2l6ZSgpfX1teERpdlJlc2l6ZXIucHJvdG90eXBlLnJlc2l6ZVdpZHRoPSEwO214RGl2UmVzaXplci5wcm90b3R5cGUucmVzaXplSGVpZ2h0PSEwO214RGl2UmVzaXplci5wcm90b3R5cGUuaGFuZGxpbmdSZXNpemU9ITE7Cm14RGl2UmVzaXplci5wcm90b3R5cGUucmVzaXplPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXREb2N1bWVudFdpZHRoKCksYj10aGlzLmdldERvY3VtZW50SGVpZ2h0KCksYz1wYXJzZUludCh0aGlzLmRpdi5zdHlsZS5sZWZ0KSxkPXBhcnNlSW50KHRoaXMuZGl2LnN0eWxlLnJpZ2h0KSxlPXBhcnNlSW50KHRoaXMuZGl2LnN0eWxlLnRvcCksZj1wYXJzZUludCh0aGlzLmRpdi5zdHlsZS5ib3R0b20pO3RoaXMucmVzaXplV2lkdGgmJiFpc05hTihjKSYmIWlzTmFOKGQpJiYwPD1jJiYwPD1kJiYwPGEtZC1jJiYodGhpcy5kaXYuc3R5bGUud2lkdGg9YS1kLWMrInB4Iik7dGhpcy5yZXNpemVIZWlnaHQmJiFpc05hTihlKSYmIWlzTmFOKGYpJiYwPD1lJiYwPD1mJiYwPGItZS1mJiYodGhpcy5kaXYuc3R5bGUuaGVpZ2h0PWItZS1mKyJweCIpfTtteERpdlJlc2l6ZXIucHJvdG90eXBlLmdldERvY3VtZW50V2lkdGg9ZnVuY3Rpb24oKXtyZXR1cm4gZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aH07Cm14RGl2UmVzaXplci5wcm90b3R5cGUuZ2V0RG9jdW1lbnRIZWlnaHQ9ZnVuY3Rpb24oKXtyZXR1cm4gZG9jdW1lbnQuYm9keS5jbGllbnRIZWlnaHR9O2Z1bmN0aW9uIG14RHJhZ1NvdXJjZShhLGIpe3RoaXMuZWxlbWVudD1hO3RoaXMuZHJvcEhhbmRsZXI9YjtteEV2ZW50LmFkZEdlc3R1cmVMaXN0ZW5lcnMoYSxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXt0aGlzLm1vdXNlRG93bihhKX0pKTtteEV2ZW50LmFkZExpc3RlbmVyKGEsImRyYWdzdGFydCIsZnVuY3Rpb24oYSl7bXhFdmVudC5jb25zdW1lKGEpfSk7dGhpcy5ldmVudENvbnN1bWVyPWZ1bmN0aW9uKGEsYil7dmFyIGM9Yi5nZXRQcm9wZXJ0eSgiZXZlbnROYW1lIiksZD1iLmdldFByb3BlcnR5KCJldmVudCIpO2MhPW14RXZlbnQuTU9VU0VfRE9XTiYmZC5jb25zdW1lKCl9fW14RHJhZ1NvdXJjZS5wcm90b3R5cGUuZWxlbWVudD1udWxsO214RHJhZ1NvdXJjZS5wcm90b3R5cGUuZHJvcEhhbmRsZXI9bnVsbDsKbXhEcmFnU291cmNlLnByb3RvdHlwZS5kcmFnT2Zmc2V0PW51bGw7bXhEcmFnU291cmNlLnByb3RvdHlwZS5kcmFnRWxlbWVudD1udWxsO214RHJhZ1NvdXJjZS5wcm90b3R5cGUucHJldmlld0VsZW1lbnQ9bnVsbDtteERyYWdTb3VyY2UucHJvdG90eXBlLmVuYWJsZWQ9ITA7bXhEcmFnU291cmNlLnByb3RvdHlwZS5jdXJyZW50R3JhcGg9bnVsbDtteERyYWdTb3VyY2UucHJvdG90eXBlLmN1cnJlbnREcm9wVGFyZ2V0PW51bGw7bXhEcmFnU291cmNlLnByb3RvdHlwZS5jdXJyZW50UG9pbnQ9bnVsbDtteERyYWdTb3VyY2UucHJvdG90eXBlLmN1cnJlbnRHdWlkZT1udWxsO214RHJhZ1NvdXJjZS5wcm90b3R5cGUuY3VycmVudEhpZ2hsaWdodD1udWxsO214RHJhZ1NvdXJjZS5wcm90b3R5cGUuYXV0b3Njcm9sbD0hMDtteERyYWdTb3VyY2UucHJvdG90eXBlLmd1aWRlc0VuYWJsZWQ9ITA7bXhEcmFnU291cmNlLnByb3RvdHlwZS5ncmlkRW5hYmxlZD0hMDsKbXhEcmFnU291cmNlLnByb3RvdHlwZS5oaWdobGlnaHREcm9wVGFyZ2V0cz0hMDtteERyYWdTb3VyY2UucHJvdG90eXBlLmRyYWdFbGVtZW50WkluZGV4PTEwMDtteERyYWdTb3VyY2UucHJvdG90eXBlLmRyYWdFbGVtZW50T3BhY2l0eT03MDtteERyYWdTb3VyY2UucHJvdG90eXBlLmNoZWNrRXZlbnRTb3VyY2U9ITA7bXhEcmFnU291cmNlLnByb3RvdHlwZS5pc0VuYWJsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbmFibGVkfTtteERyYWdTb3VyY2UucHJvdG90eXBlLnNldEVuYWJsZWQ9ZnVuY3Rpb24oYSl7dGhpcy5lbmFibGVkPWF9O214RHJhZ1NvdXJjZS5wcm90b3R5cGUuaXNHdWlkZXNFbmFibGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ3VpZGVzRW5hYmxlZH07bXhEcmFnU291cmNlLnByb3RvdHlwZS5zZXRHdWlkZXNFbmFibGVkPWZ1bmN0aW9uKGEpe3RoaXMuZ3VpZGVzRW5hYmxlZD1hfTtteERyYWdTb3VyY2UucHJvdG90eXBlLmlzR3JpZEVuYWJsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ncmlkRW5hYmxlZH07Cm14RHJhZ1NvdXJjZS5wcm90b3R5cGUuc2V0R3JpZEVuYWJsZWQ9ZnVuY3Rpb24oYSl7dGhpcy5ncmlkRW5hYmxlZD1hfTtteERyYWdTb3VyY2UucHJvdG90eXBlLmdldEdyYXBoRm9yRXZlbnQ9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGx9O214RHJhZ1NvdXJjZS5wcm90b3R5cGUuZ2V0RHJvcFRhcmdldD1mdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gYS5nZXRDZWxsQXQoYixjKX07bXhEcmFnU291cmNlLnByb3RvdHlwZS5jcmVhdGVEcmFnRWxlbWVudD1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5lbGVtZW50LmNsb25lTm9kZSghMCl9O214RHJhZ1NvdXJjZS5wcm90b3R5cGUuY3JlYXRlUHJldmlld0VsZW1lbnQ9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGx9O214RHJhZ1NvdXJjZS5wcm90b3R5cGUuaXNBY3RpdmU9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9dGhpcy5tb3VzZU1vdmVIYW5kbGVyfTsKbXhEcmFnU291cmNlLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe251bGwhPXRoaXMuY3VycmVudEdyYXBoJiYodGhpcy5kcmFnRXhpdCh0aGlzLmN1cnJlbnRHcmFwaCksdGhpcy5jdXJyZW50R3JhcGg9bnVsbCk7dGhpcy5yZW1vdmVEcmFnRWxlbWVudCgpO3RoaXMucmVtb3ZlTGlzdGVuZXJzKCk7dGhpcy5zdG9wRHJhZygpfTsKbXhEcmFnU291cmNlLnByb3RvdHlwZS5tb3VzZURvd249ZnVuY3Rpb24oYSl7dGhpcy5lbmFibGVkJiYhbXhFdmVudC5pc0NvbnN1bWVkKGEpJiZudWxsPT10aGlzLm1vdXNlTW92ZUhhbmRsZXImJih0aGlzLnN0YXJ0RHJhZyhhKSx0aGlzLm1vdXNlTW92ZUhhbmRsZXI9bXhVdGlscy5iaW5kKHRoaXMsdGhpcy5tb3VzZU1vdmUpLHRoaXMubW91c2VVcEhhbmRsZXI9bXhVdGlscy5iaW5kKHRoaXMsdGhpcy5tb3VzZVVwKSxteEV2ZW50LmFkZEdlc3R1cmVMaXN0ZW5lcnMoZG9jdW1lbnQsbnVsbCx0aGlzLm1vdXNlTW92ZUhhbmRsZXIsdGhpcy5tb3VzZVVwSGFuZGxlciksbXhDbGllbnQuSVNfVE9VQ0gmJiFteEV2ZW50LmlzTW91c2VFdmVudChhKSYmKHRoaXMuZXZlbnRTb3VyY2U9bXhFdmVudC5nZXRTb3VyY2UoYSksbXhFdmVudC5hZGRHZXN0dXJlTGlzdGVuZXJzKHRoaXMuZXZlbnRTb3VyY2UsbnVsbCx0aGlzLm1vdXNlTW92ZUhhbmRsZXIsdGhpcy5tb3VzZVVwSGFuZGxlcikpKX07Cm14RHJhZ1NvdXJjZS5wcm90b3R5cGUuc3RhcnREcmFnPWZ1bmN0aW9uKGEpe3RoaXMuZHJhZ0VsZW1lbnQ9dGhpcy5jcmVhdGVEcmFnRWxlbWVudChhKTt0aGlzLmRyYWdFbGVtZW50LnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSI7dGhpcy5kcmFnRWxlbWVudC5zdHlsZS56SW5kZXg9dGhpcy5kcmFnRWxlbWVudFpJbmRleDtteFV0aWxzLnNldE9wYWNpdHkodGhpcy5kcmFnRWxlbWVudCx0aGlzLmRyYWdFbGVtZW50T3BhY2l0eSk7dGhpcy5jaGVja0V2ZW50U291cmNlJiZteENsaWVudC5JU19TVkcmJih0aGlzLmRyYWdFbGVtZW50LnN0eWxlLnBvaW50ZXJFdmVudHM9Im5vbmUiKX07bXhEcmFnU291cmNlLnByb3RvdHlwZS5zdG9wRHJhZz1mdW5jdGlvbigpe3RoaXMucmVtb3ZlRHJhZ0VsZW1lbnQoKX07Cm14RHJhZ1NvdXJjZS5wcm90b3R5cGUucmVtb3ZlRHJhZ0VsZW1lbnQ9ZnVuY3Rpb24oKXtudWxsIT10aGlzLmRyYWdFbGVtZW50JiYobnVsbCE9dGhpcy5kcmFnRWxlbWVudC5wYXJlbnROb2RlJiZ0aGlzLmRyYWdFbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5kcmFnRWxlbWVudCksdGhpcy5kcmFnRWxlbWVudD1udWxsKX07bXhEcmFnU291cmNlLnByb3RvdHlwZS5nZXRFbGVtZW50Rm9yRXZlbnQ9ZnVuY3Rpb24oYSl7cmV0dXJuIG14RXZlbnQuaXNUb3VjaEV2ZW50KGEpfHxteEV2ZW50LmlzUGVuRXZlbnQoYSk/ZG9jdW1lbnQuZWxlbWVudEZyb21Qb2ludChteEV2ZW50LmdldENsaWVudFgoYSksbXhFdmVudC5nZXRDbGllbnRZKGEpKTpteEV2ZW50LmdldFNvdXJjZShhKX07Cm14RHJhZ1NvdXJjZS5wcm90b3R5cGUuZ3JhcGhDb250YWluc0V2ZW50PWZ1bmN0aW9uKGEsYil7dmFyIGM9bXhFdmVudC5nZXRDbGllbnRYKGIpLGQ9bXhFdmVudC5nZXRDbGllbnRZKGIpLGU9bXhVdGlscy5nZXRPZmZzZXQoYS5jb250YWluZXIpLGY9bXhVdGlscy5nZXRTY3JvbGxPcmlnaW4oKSxnPXRoaXMuZ2V0RWxlbWVudEZvckV2ZW50KGIpO2lmKHRoaXMuY2hlY2tFdmVudFNvdXJjZSlmb3IoO251bGwhPWcmJmchPWEuY29udGFpbmVyOylnPWcucGFyZW50Tm9kZTtyZXR1cm4gbnVsbCE9ZyYmYz49ZS54LWYueCYmZD49ZS55LWYueSYmYzw9ZS54LWYueCthLmNvbnRhaW5lci5vZmZzZXRXaWR0aCYmZDw9ZS55LWYueSthLmNvbnRhaW5lci5vZmZzZXRIZWlnaHR9OwpteERyYWdTb3VyY2UucHJvdG90eXBlLm1vdXNlTW92ZT1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmdldEdyYXBoRm9yRXZlbnQoYSk7bnVsbD09Ynx8dGhpcy5ncmFwaENvbnRhaW5zRXZlbnQoYixhKXx8KGI9bnVsbCk7YiE9dGhpcy5jdXJyZW50R3JhcGgmJihudWxsIT10aGlzLmN1cnJlbnRHcmFwaCYmdGhpcy5kcmFnRXhpdCh0aGlzLmN1cnJlbnRHcmFwaCxhKSx0aGlzLmN1cnJlbnRHcmFwaD1iLG51bGwhPXRoaXMuY3VycmVudEdyYXBoJiZ0aGlzLmRyYWdFbnRlcih0aGlzLmN1cnJlbnRHcmFwaCxhKSk7bnVsbCE9dGhpcy5jdXJyZW50R3JhcGgmJnRoaXMuZHJhZ092ZXIodGhpcy5jdXJyZW50R3JhcGgsYSk7aWYobnVsbD09dGhpcy5kcmFnRWxlbWVudHx8bnVsbCE9dGhpcy5wcmV2aWV3RWxlbWVudCYmInZpc2libGUiPT10aGlzLnByZXZpZXdFbGVtZW50LnN0eWxlLnZpc2liaWxpdHkpbnVsbCE9dGhpcy5kcmFnRWxlbWVudCYmKHRoaXMuZHJhZ0VsZW1lbnQuc3R5bGUudmlzaWJpbGl0eT0KImhpZGRlbiIpO2Vsc2V7dmFyIGI9bXhFdmVudC5nZXRDbGllbnRYKGEpLGM9bXhFdmVudC5nZXRDbGllbnRZKGEpO251bGw9PXRoaXMuZHJhZ0VsZW1lbnQucGFyZW50Tm9kZSYmZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLmRyYWdFbGVtZW50KTt0aGlzLmRyYWdFbGVtZW50LnN0eWxlLnZpc2liaWxpdHk9InZpc2libGUiO251bGwhPXRoaXMuZHJhZ09mZnNldCYmKGIrPXRoaXMuZHJhZ09mZnNldC54LGMrPXRoaXMuZHJhZ09mZnNldC55KTt2YXIgZD1teFV0aWxzLmdldERvY3VtZW50U2Nyb2xsT3JpZ2luKGRvY3VtZW50KTt0aGlzLmRyYWdFbGVtZW50LnN0eWxlLmxlZnQ9YitkLngrInB4Ijt0aGlzLmRyYWdFbGVtZW50LnN0eWxlLnRvcD1jK2QueSsicHgifW14RXZlbnQuY29uc3VtZShhKX07Cm14RHJhZ1NvdXJjZS5wcm90b3R5cGUubW91c2VVcD1mdW5jdGlvbihhKXtpZihudWxsIT10aGlzLmN1cnJlbnRHcmFwaCl7aWYobnVsbCE9dGhpcy5jdXJyZW50UG9pbnQmJihudWxsPT10aGlzLnByZXZpZXdFbGVtZW50fHwiaGlkZGVuIiE9dGhpcy5wcmV2aWV3RWxlbWVudC5zdHlsZS52aXNpYmlsaXR5KSl7dmFyIGI9dGhpcy5jdXJyZW50R3JhcGgudmlldy5zY2FsZSxjPXRoaXMuY3VycmVudEdyYXBoLnZpZXcudHJhbnNsYXRlO3RoaXMuZHJvcCh0aGlzLmN1cnJlbnRHcmFwaCxhLHRoaXMuY3VycmVudERyb3BUYXJnZXQsdGhpcy5jdXJyZW50UG9pbnQueC9iLWMueCx0aGlzLmN1cnJlbnRQb2ludC55L2ItYy55KX10aGlzLmRyYWdFeGl0KHRoaXMuY3VycmVudEdyYXBoKTt0aGlzLmN1cnJlbnRHcmFwaD1udWxsfXRoaXMuc3RvcERyYWcoKTt0aGlzLnJlbW92ZUxpc3RlbmVycygpO214RXZlbnQuY29uc3VtZShhKX07Cm14RHJhZ1NvdXJjZS5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXJzPWZ1bmN0aW9uKCl7bnVsbCE9dGhpcy5ldmVudFNvdXJjZSYmKG14RXZlbnQucmVtb3ZlR2VzdHVyZUxpc3RlbmVycyh0aGlzLmV2ZW50U291cmNlLG51bGwsdGhpcy5tb3VzZU1vdmVIYW5kbGVyLHRoaXMubW91c2VVcEhhbmRsZXIpLHRoaXMuZXZlbnRTb3VyY2U9bnVsbCk7bXhFdmVudC5yZW1vdmVHZXN0dXJlTGlzdGVuZXJzKGRvY3VtZW50LG51bGwsdGhpcy5tb3VzZU1vdmVIYW5kbGVyLHRoaXMubW91c2VVcEhhbmRsZXIpO3RoaXMubW91c2VVcEhhbmRsZXI9dGhpcy5tb3VzZU1vdmVIYW5kbGVyPW51bGx9OwpteERyYWdTb3VyY2UucHJvdG90eXBlLmRyYWdFbnRlcj1mdW5jdGlvbihhLGIpe2EuaXNNb3VzZURvd249ITA7YS5pc01vdXNlVHJpZ2dlcj1teEV2ZW50LmlzTW91c2VFdmVudChiKTt0aGlzLnByZXZpZXdFbGVtZW50PXRoaXMuY3JlYXRlUHJldmlld0VsZW1lbnQoYSk7bnVsbCE9dGhpcy5wcmV2aWV3RWxlbWVudCYmdGhpcy5jaGVja0V2ZW50U291cmNlJiZteENsaWVudC5JU19TVkcmJih0aGlzLnByZXZpZXdFbGVtZW50LnN0eWxlLnBvaW50ZXJFdmVudHM9Im5vbmUiKTt0aGlzLmlzR3VpZGVzRW5hYmxlZCgpJiZudWxsIT10aGlzLnByZXZpZXdFbGVtZW50JiYodGhpcy5jdXJyZW50R3VpZGU9bmV3IG14R3VpZGUoYSxhLmdyYXBoSGFuZGxlci5nZXRHdWlkZVN0YXRlcygpKSk7dGhpcy5oaWdobGlnaHREcm9wVGFyZ2V0cyYmKHRoaXMuY3VycmVudEhpZ2hsaWdodD1uZXcgbXhDZWxsSGlnaGxpZ2h0KGEsbXhDb25zdGFudHMuRFJPUF9UQVJHRVRfQ09MT1IpKTthLmFkZExpc3RlbmVyKG14RXZlbnQuRklSRV9NT1VTRV9FVkVOVCwKdGhpcy5ldmVudENvbnN1bWVyKX07bXhEcmFnU291cmNlLnByb3RvdHlwZS5kcmFnRXhpdD1mdW5jdGlvbihhLGIpe3RoaXMuY3VycmVudFBvaW50PXRoaXMuY3VycmVudERyb3BUYXJnZXQ9bnVsbDthLmlzTW91c2VEb3duPSExO2EucmVtb3ZlTGlzdGVuZXIodGhpcy5ldmVudENvbnN1bWVyKTtudWxsIT10aGlzLnByZXZpZXdFbGVtZW50JiYobnVsbCE9dGhpcy5wcmV2aWV3RWxlbWVudC5wYXJlbnROb2RlJiZ0aGlzLnByZXZpZXdFbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5wcmV2aWV3RWxlbWVudCksdGhpcy5wcmV2aWV3RWxlbWVudD1udWxsKTtudWxsIT10aGlzLmN1cnJlbnRHdWlkZSYmKHRoaXMuY3VycmVudEd1aWRlLmRlc3Ryb3koKSx0aGlzLmN1cnJlbnRHdWlkZT1udWxsKTtudWxsIT10aGlzLmN1cnJlbnRIaWdobGlnaHQmJih0aGlzLmN1cnJlbnRIaWdobGlnaHQuZGVzdHJveSgpLHRoaXMuY3VycmVudEhpZ2hsaWdodD1udWxsKX07Cm14RHJhZ1NvdXJjZS5wcm90b3R5cGUuZHJhZ092ZXI9ZnVuY3Rpb24oYSxiKXt2YXIgYz1teFV0aWxzLmdldE9mZnNldChhLmNvbnRhaW5lciksZD1teFV0aWxzLmdldFNjcm9sbE9yaWdpbihhLmNvbnRhaW5lciksZT1teEV2ZW50LmdldENsaWVudFgoYiktYy54K2QueC1hLnBhbkR4LGM9bXhFdmVudC5nZXRDbGllbnRZKGIpLWMueStkLnktYS5wYW5EeTthLmF1dG9TY3JvbGwmJihudWxsPT10aGlzLmF1dG9zY3JvbGx8fHRoaXMuYXV0b3Njcm9sbCkmJmEuc2Nyb2xsUG9pbnRUb1Zpc2libGUoZSxjLGEuYXV0b0V4dGVuZCk7bnVsbCE9dGhpcy5jdXJyZW50SGlnaGxpZ2h0JiZhLmlzRHJvcEVuYWJsZWQoKSYmKHRoaXMuY3VycmVudERyb3BUYXJnZXQ9dGhpcy5nZXREcm9wVGFyZ2V0KGEsZSxjLGIpLGQ9YS5nZXRWaWV3KCkuZ2V0U3RhdGUodGhpcy5jdXJyZW50RHJvcFRhcmdldCksdGhpcy5jdXJyZW50SGlnaGxpZ2h0LmhpZ2hsaWdodChkKSk7aWYobnVsbCE9dGhpcy5wcmV2aWV3RWxlbWVudCl7bnVsbD09CnRoaXMucHJldmlld0VsZW1lbnQucGFyZW50Tm9kZSYmKGEuY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMucHJldmlld0VsZW1lbnQpLHRoaXMucHJldmlld0VsZW1lbnQuc3R5bGUuekluZGV4PSIzIix0aGlzLnByZXZpZXdFbGVtZW50LnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSIpO3ZhciBkPXRoaXMuaXNHcmlkRW5hYmxlZCgpJiZhLmlzR3JpZEVuYWJsZWRFdmVudChiKSxmPSEwO2lmKG51bGwhPXRoaXMuY3VycmVudEd1aWRlJiZ0aGlzLmN1cnJlbnRHdWlkZS5pc0VuYWJsZWRGb3JFdmVudChiKSl2YXIgZj1wYXJzZUludCh0aGlzLnByZXZpZXdFbGVtZW50LnN0eWxlLndpZHRoKSxnPXBhcnNlSW50KHRoaXMucHJldmlld0VsZW1lbnQuc3R5bGUuaGVpZ2h0KSxmPW5ldyBteFJlY3RhbmdsZSgwLDAsZixnKSxjPW5ldyBteFBvaW50KGUsYyksYz10aGlzLmN1cnJlbnRHdWlkZS5tb3ZlKGYsYyxkLCEwKSxmPSExLGU9Yy54LGM9Yy55O2Vsc2UgaWYoZCl2YXIgZD1hLnZpZXcuc2NhbGUsCmc9YS52aWV3LnRyYW5zbGF0ZSxrPWEuZ3JpZFNpemUvMixlPShhLnNuYXAoZS9kLWcueC1rKStnLngpKmQsYz0oYS5zbmFwKGMvZC1nLnktaykrZy55KSpkO251bGwhPXRoaXMuY3VycmVudEd1aWRlJiZmJiZ0aGlzLmN1cnJlbnRHdWlkZS5oaWRlKCk7bnVsbCE9dGhpcy5wcmV2aWV3T2Zmc2V0JiYoZSs9dGhpcy5wcmV2aWV3T2Zmc2V0LngsYys9dGhpcy5wcmV2aWV3T2Zmc2V0LnkpO3RoaXMucHJldmlld0VsZW1lbnQuc3R5bGUubGVmdD1NYXRoLnJvdW5kKGUpKyJweCI7dGhpcy5wcmV2aWV3RWxlbWVudC5zdHlsZS50b3A9TWF0aC5yb3VuZChjKSsicHgiO3RoaXMucHJldmlld0VsZW1lbnQuc3R5bGUudmlzaWJpbGl0eT0idmlzaWJsZSJ9dGhpcy5jdXJyZW50UG9pbnQ9bmV3IG14UG9pbnQoZSxjKX07Cm14RHJhZ1NvdXJjZS5wcm90b3R5cGUuZHJvcD1mdW5jdGlvbihhLGIsYyxkLGUpe3RoaXMuZHJvcEhhbmRsZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpOyJoaWRkZW4iIT1hLmNvbnRhaW5lci5zdHlsZS52aXNpYmlsaXR5JiZhLmNvbnRhaW5lci5mb2N1cygpfTtmdW5jdGlvbiBteFRvb2xiYXIoYSl7dGhpcy5jb250YWluZXI9YX1teFRvb2xiYXIucHJvdG90eXBlPW5ldyBteEV2ZW50U291cmNlO214VG9vbGJhci5wcm90b3R5cGUuY29uc3RydWN0b3I9bXhUb29sYmFyO214VG9vbGJhci5wcm90b3R5cGUuY29udGFpbmVyPW51bGw7bXhUb29sYmFyLnByb3RvdHlwZS5lbmFibGVkPSEwO214VG9vbGJhci5wcm90b3R5cGUubm9SZXNldD0hMTtteFRvb2xiYXIucHJvdG90eXBlLnVwZGF0ZURlZmF1bHRNb2RlPSEwOwpteFRvb2xiYXIucHJvdG90eXBlLmFkZEl0ZW09ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe3ZhciBnPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQobnVsbCE9Yj8iaW1nIjoiYnV0dG9uIiksaz1lfHwobnVsbCE9Zj8ibXhUb29sYmFyTW9kZSI6Im14VG9vbGJhckl0ZW0iKTtnLmNsYXNzTmFtZT1rO2cuc2V0QXR0cmlidXRlKCJzcmMiLGIpO251bGwhPWEmJihudWxsIT1iP2cuc2V0QXR0cmlidXRlKCJ0aXRsZSIsYSk6bXhVdGlscy53cml0ZShnLGEpKTt0aGlzLmNvbnRhaW5lci5hcHBlbmRDaGlsZChnKTtudWxsIT1jJiYobXhFdmVudC5hZGRMaXN0ZW5lcihnLCJjbGljayIsYyksbXhDbGllbnQuSVNfVE9VQ0gmJm14RXZlbnQuYWRkTGlzdGVuZXIoZywidG91Y2hlbmQiLGMpKTthPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe251bGwhPWQ/Zy5zZXRBdHRyaWJ1dGUoInNyYyIsYik6Zy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9IiJ9KTtteEV2ZW50LmFkZEdlc3R1cmVMaXN0ZW5lcnMoZywKbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7bnVsbCE9ZD9nLnNldEF0dHJpYnV0ZSgic3JjIixkKTpnLnN0eWxlLmJhY2tncm91bmRDb2xvcj0iZ3JheSI7aWYobnVsbCE9Zil7bnVsbD09dGhpcy5tZW51JiYodGhpcy5tZW51PW5ldyBteFBvcHVwTWVudSx0aGlzLm1lbnUuaW5pdCgpKTt2YXIgYj10aGlzLmN1cnJlbnRJbWc7dGhpcy5tZW51LmlzTWVudVNob3dpbmcoKSYmdGhpcy5tZW51LmhpZGVNZW51KCk7YiE9ZyYmKHRoaXMuY3VycmVudEltZz1nLHRoaXMubWVudS5mYWN0b3J5TWV0aG9kPWYsYj1uZXcgbXhQb2ludChnLm9mZnNldExlZnQsZy5vZmZzZXRUb3ArZy5vZmZzZXRIZWlnaHQpLHRoaXMubWVudS5wb3B1cChiLngsYi55LG51bGwsYSksdGhpcy5tZW51LmlzTWVudVNob3dpbmcoKSYmKGcuY2xhc3NOYW1lPWsrIlNlbGVjdGVkIix0aGlzLm1lbnUuaGlkZU1lbnU9ZnVuY3Rpb24oKXtteFBvcHVwTWVudS5wcm90b3R5cGUuaGlkZU1lbnUuYXBwbHkodGhpcyk7CmcuY2xhc3NOYW1lPWs7dGhpcy5jdXJyZW50SW1nPW51bGx9KSl9fSksbnVsbCxhKTtteEV2ZW50LmFkZExpc3RlbmVyKGcsIm1vdXNlb3V0IixhKTtyZXR1cm4gZ307bXhUb29sYmFyLnByb3RvdHlwZS5hZGRDb21ibz1mdW5jdGlvbihhKXt2YXIgYj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtiLnN0eWxlLmRpc3BsYXk9ImlubGluZSI7Yi5jbGFzc05hbWU9Im14VG9vbGJhckNvbWJvQ29udGFpbmVyIjt2YXIgYz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzZWxlY3QiKTtjLmNsYXNzTmFtZT1hfHwibXhUb29sYmFyQ29tYm8iO2IuYXBwZW5kQ2hpbGQoYyk7dGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQoYik7cmV0dXJuIGN9OwpteFRvb2xiYXIucHJvdG90eXBlLmFkZEFjdGlvbkNvbWJvPWZ1bmN0aW9uKGEsYil7dmFyIGM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic2VsZWN0Iik7Yy5jbGFzc05hbWU9Ynx8Im14VG9vbGJhckNvbWJvIjt0aGlzLmFkZE9wdGlvbihjLGEsbnVsbCk7bXhFdmVudC5hZGRMaXN0ZW5lcihjLCJjaGFuZ2UiLGZ1bmN0aW9uKGEpe3ZhciBiPWMub3B0aW9uc1tjLnNlbGVjdGVkSW5kZXhdO2Muc2VsZWN0ZWRJbmRleD0wO251bGwhPWIuZnVuY3QmJmIuZnVuY3QoYSl9KTt0aGlzLmNvbnRhaW5lci5hcHBlbmRDaGlsZChjKTtyZXR1cm4gY307bXhUb29sYmFyLnByb3RvdHlwZS5hZGRPcHRpb249ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIm9wdGlvbiIpO214VXRpbHMud3JpdGVsbihkLGIpOyJmdW5jdGlvbiI9PXR5cGVvZiBjP2QuZnVuY3Q9YzpkLnNldEF0dHJpYnV0ZSgidmFsdWUiLGMpO2EuYXBwZW5kQ2hpbGQoZCk7cmV0dXJuIGR9OwpteFRvb2xiYXIucHJvdG90eXBlLmFkZFN3aXRjaE1vZGU9ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbWciKTtmLmluaXRpYWxDbGFzc05hbWU9ZXx8Im14VG9vbGJhck1vZGUiO2YuY2xhc3NOYW1lPWYuaW5pdGlhbENsYXNzTmFtZTtmLnNldEF0dHJpYnV0ZSgic3JjIixiKTtmLmFsdEljb249ZDtudWxsIT1hJiZmLnNldEF0dHJpYnV0ZSgidGl0bGUiLGEpO214RXZlbnQuYWRkTGlzdGVuZXIoZiwiY2xpY2siLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe2E9dGhpcy5zZWxlY3RlZE1vZGUuYWx0SWNvbjtudWxsIT1hPyh0aGlzLnNlbGVjdGVkTW9kZS5hbHRJY29uPXRoaXMuc2VsZWN0ZWRNb2RlLmdldEF0dHJpYnV0ZSgic3JjIiksdGhpcy5zZWxlY3RlZE1vZGUuc2V0QXR0cmlidXRlKCJzcmMiLGEpKTp0aGlzLnNlbGVjdGVkTW9kZS5jbGFzc05hbWU9dGhpcy5zZWxlY3RlZE1vZGUuaW5pdGlhbENsYXNzTmFtZTt0aGlzLnVwZGF0ZURlZmF1bHRNb2RlJiYKKHRoaXMuZGVmYXVsdE1vZGU9Zik7dGhpcy5zZWxlY3RlZE1vZGU9ZjthPWYuYWx0SWNvbjtudWxsIT1hPyhmLmFsdEljb249Zi5nZXRBdHRyaWJ1dGUoInNyYyIpLGYuc2V0QXR0cmlidXRlKCJzcmMiLGEpKTpmLmNsYXNzTmFtZT1mLmluaXRpYWxDbGFzc05hbWUrIlNlbGVjdGVkIjt0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LlNFTEVDVCkpO2MoKX0pKTt0aGlzLmNvbnRhaW5lci5hcHBlbmRDaGlsZChmKTtudWxsPT10aGlzLmRlZmF1bHRNb2RlJiYodGhpcy5kZWZhdWx0TW9kZT1mLHRoaXMuc2VsZWN0TW9kZShmKSxjKCkpO3JldHVybiBmfTsKbXhUb29sYmFyLnByb3RvdHlwZS5hZGRNb2RlPWZ1bmN0aW9uKGEsYixjLGQsZSxmKXtmPW51bGwhPWY/ZjohMDt2YXIgZz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KG51bGwhPWI/ImltZyI6ImJ1dHRvbiIpO2cuaW5pdGlhbENsYXNzTmFtZT1lfHwibXhUb29sYmFyTW9kZSI7Zy5jbGFzc05hbWU9Zy5pbml0aWFsQ2xhc3NOYW1lO2cuc2V0QXR0cmlidXRlKCJzcmMiLGIpO2cuYWx0SWNvbj1kO251bGwhPWEmJmcuc2V0QXR0cmlidXRlKCJ0aXRsZSIsYSk7dGhpcy5lbmFibGVkJiZmJiYobXhFdmVudC5hZGRMaXN0ZW5lcihnLCJjbGljayIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7dGhpcy5zZWxlY3RNb2RlKGcsYyk7dGhpcy5ub1Jlc2V0PSExfSkpLG14RXZlbnQuYWRkTGlzdGVuZXIoZywiZGJsY2xpY2siLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3RoaXMuc2VsZWN0TW9kZShnLGMpO3RoaXMubm9SZXNldD0hMH0pKSxudWxsPT10aGlzLmRlZmF1bHRNb2RlJiYKKHRoaXMuZGVmYXVsdE1vZGU9Zyx0aGlzLmRlZmF1bHRGdW5jdGlvbj1jLHRoaXMuc2VsZWN0TW9kZShnLGMpKSk7dGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQoZyk7cmV0dXJuIGd9OwpteFRvb2xiYXIucHJvdG90eXBlLnNlbGVjdE1vZGU9ZnVuY3Rpb24oYSxiKXtpZih0aGlzLnNlbGVjdGVkTW9kZSE9YSl7aWYobnVsbCE9dGhpcy5zZWxlY3RlZE1vZGUpe3ZhciBjPXRoaXMuc2VsZWN0ZWRNb2RlLmFsdEljb247bnVsbCE9Yz8odGhpcy5zZWxlY3RlZE1vZGUuYWx0SWNvbj10aGlzLnNlbGVjdGVkTW9kZS5nZXRBdHRyaWJ1dGUoInNyYyIpLHRoaXMuc2VsZWN0ZWRNb2RlLnNldEF0dHJpYnV0ZSgic3JjIixjKSk6dGhpcy5zZWxlY3RlZE1vZGUuY2xhc3NOYW1lPXRoaXMuc2VsZWN0ZWRNb2RlLmluaXRpYWxDbGFzc05hbWV9dGhpcy5zZWxlY3RlZE1vZGU9YTtjPXRoaXMuc2VsZWN0ZWRNb2RlLmFsdEljb247bnVsbCE9Yz8odGhpcy5zZWxlY3RlZE1vZGUuYWx0SWNvbj10aGlzLnNlbGVjdGVkTW9kZS5nZXRBdHRyaWJ1dGUoInNyYyIpLHRoaXMuc2VsZWN0ZWRNb2RlLnNldEF0dHJpYnV0ZSgic3JjIixjKSk6dGhpcy5zZWxlY3RlZE1vZGUuY2xhc3NOYW1lPXRoaXMuc2VsZWN0ZWRNb2RlLmluaXRpYWxDbGFzc05hbWUrCiJTZWxlY3RlZCI7dGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5TRUxFQ1QsImZ1bmN0aW9uIixiKSl9fTtteFRvb2xiYXIucHJvdG90eXBlLnJlc2V0TW9kZT1mdW5jdGlvbihhKXshYSYmdGhpcy5ub1Jlc2V0fHx0aGlzLnNlbGVjdGVkTW9kZT09dGhpcy5kZWZhdWx0TW9kZXx8dGhpcy5zZWxlY3RNb2RlKHRoaXMuZGVmYXVsdE1vZGUsdGhpcy5kZWZhdWx0RnVuY3Rpb24pfTtteFRvb2xiYXIucHJvdG90eXBlLmFkZFNlcGFyYXRvcj1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5hZGRJdGVtKG51bGwsYSxudWxsKX07bXhUb29sYmFyLnByb3RvdHlwZS5hZGRCcmVhaz1mdW5jdGlvbigpe214VXRpbHMuYnIodGhpcy5jb250YWluZXIpfTsKbXhUb29sYmFyLnByb3RvdHlwZS5hZGRMaW5lPWZ1bmN0aW9uKCl7dmFyIGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaHIiKTthLnN0eWxlLm1hcmdpblJpZ2h0PSI2cHgiO2Euc2V0QXR0cmlidXRlKCJzaXplIiwiMSIpO3RoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKGEpfTtteFRvb2xiYXIucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXtteEV2ZW50LnJlbGVhc2UodGhpcy5jb250YWluZXIpO3RoaXMuc2VsZWN0ZWRNb2RlPXRoaXMuZGVmYXVsdEZ1bmN0aW9uPXRoaXMuZGVmYXVsdE1vZGU9dGhpcy5jb250YWluZXI9bnVsbDtudWxsIT10aGlzLm1lbnUmJnRoaXMubWVudS5kZXN0cm95KCl9O2Z1bmN0aW9uIG14VW5kb2FibGVFZGl0KGEsYil7dGhpcy5zb3VyY2U9YTt0aGlzLmNoYW5nZXM9W107dGhpcy5zaWduaWZpY2FudD1udWxsIT1iP2I6ITB9bXhVbmRvYWJsZUVkaXQucHJvdG90eXBlLnNvdXJjZT1udWxsOwpteFVuZG9hYmxlRWRpdC5wcm90b3R5cGUuY2hhbmdlcz1udWxsO214VW5kb2FibGVFZGl0LnByb3RvdHlwZS5zaWduaWZpY2FudD1udWxsO214VW5kb2FibGVFZGl0LnByb3RvdHlwZS51bmRvbmU9ITE7bXhVbmRvYWJsZUVkaXQucHJvdG90eXBlLnJlZG9uZT0hMTtteFVuZG9hYmxlRWRpdC5wcm90b3R5cGUuaXNFbXB0eT1mdW5jdGlvbigpe3JldHVybiAwPT10aGlzLmNoYW5nZXMubGVuZ3RofTtteFVuZG9hYmxlRWRpdC5wcm90b3R5cGUuaXNTaWduaWZpY2FudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNpZ25pZmljYW50fTtteFVuZG9hYmxlRWRpdC5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKGEpe3RoaXMuY2hhbmdlcy5wdXNoKGEpfTtteFVuZG9hYmxlRWRpdC5wcm90b3R5cGUubm90aWZ5PWZ1bmN0aW9uKCl7fTtteFVuZG9hYmxlRWRpdC5wcm90b3R5cGUuZGllPWZ1bmN0aW9uKCl7fTsKbXhVbmRvYWJsZUVkaXQucHJvdG90eXBlLnVuZG89ZnVuY3Rpb24oKXtpZighdGhpcy51bmRvbmUpe3RoaXMuc291cmNlLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LlNUQVJUX0VESVQpKTtmb3IodmFyIGE9dGhpcy5jaGFuZ2VzLmxlbmd0aC0xOzA8PWE7YS0tKXt2YXIgYj10aGlzLmNoYW5nZXNbYV07bnVsbCE9Yi5leGVjdXRlP2IuZXhlY3V0ZSgpOm51bGwhPWIudW5kbyYmYi51bmRvKCk7dGhpcy5zb3VyY2UuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KG14RXZlbnQuRVhFQ1VURUQsImNoYW5nZSIsYikpfXRoaXMudW5kb25lPSEwO3RoaXMucmVkb25lPSExO3RoaXMuc291cmNlLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LkVORF9FRElUKSl9dGhpcy5ub3RpZnkoKX07Cm14VW5kb2FibGVFZGl0LnByb3RvdHlwZS5yZWRvPWZ1bmN0aW9uKCl7aWYoIXRoaXMucmVkb25lKXt0aGlzLnNvdXJjZS5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5TVEFSVF9FRElUKSk7Zm9yKHZhciBhPXRoaXMuY2hhbmdlcy5sZW5ndGgsYj0wO2I8YTtiKyspe3ZhciBjPXRoaXMuY2hhbmdlc1tiXTtudWxsIT1jLmV4ZWN1dGU/Yy5leGVjdXRlKCk6bnVsbCE9Yy5yZWRvJiZjLnJlZG8oKTt0aGlzLnNvdXJjZS5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5FWEVDVVRFRCwiY2hhbmdlIixjKSl9dGhpcy51bmRvbmU9ITE7dGhpcy5yZWRvbmU9ITA7dGhpcy5zb3VyY2UuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KG14RXZlbnQuRU5EX0VESVQpKX10aGlzLm5vdGlmeSgpfTtmdW5jdGlvbiBteFVuZG9NYW5hZ2VyKGEpe3RoaXMuc2l6ZT1udWxsIT1hP2E6MTAwO3RoaXMuY2xlYXIoKX1teFVuZG9NYW5hZ2VyLnByb3RvdHlwZT1uZXcgbXhFdmVudFNvdXJjZTsKbXhVbmRvTWFuYWdlci5wcm90b3R5cGUuY29uc3RydWN0b3I9bXhVbmRvTWFuYWdlcjtteFVuZG9NYW5hZ2VyLnByb3RvdHlwZS5zaXplPW51bGw7bXhVbmRvTWFuYWdlci5wcm90b3R5cGUuaGlzdG9yeT1udWxsO214VW5kb01hbmFnZXIucHJvdG90eXBlLmluZGV4T2ZOZXh0QWRkPTA7bXhVbmRvTWFuYWdlci5wcm90b3R5cGUuaXNFbXB0eT1mdW5jdGlvbigpe3JldHVybiAwPT10aGlzLmhpc3RvcnkubGVuZ3RofTtteFVuZG9NYW5hZ2VyLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3RoaXMuaGlzdG9yeT1bXTt0aGlzLmluZGV4T2ZOZXh0QWRkPTA7dGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5DTEVBUikpfTtteFVuZG9NYW5hZ2VyLnByb3RvdHlwZS5jYW5VbmRvPWZ1bmN0aW9uKCl7cmV0dXJuIDA8dGhpcy5pbmRleE9mTmV4dEFkZH07Cm14VW5kb01hbmFnZXIucHJvdG90eXBlLnVuZG89ZnVuY3Rpb24oKXtmb3IoOzA8dGhpcy5pbmRleE9mTmV4dEFkZDspe3ZhciBhPXRoaXMuaGlzdG9yeVstLXRoaXMuaW5kZXhPZk5leHRBZGRdO2EudW5kbygpO2lmKGEuaXNTaWduaWZpY2FudCgpKXt0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LlVORE8sImVkaXQiLGEpKTticmVha319fTtteFVuZG9NYW5hZ2VyLnByb3RvdHlwZS5jYW5SZWRvPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW5kZXhPZk5leHRBZGQ8dGhpcy5oaXN0b3J5Lmxlbmd0aH07Cm14VW5kb01hbmFnZXIucHJvdG90eXBlLnJlZG89ZnVuY3Rpb24oKXtmb3IodmFyIGE9dGhpcy5oaXN0b3J5Lmxlbmd0aDt0aGlzLmluZGV4T2ZOZXh0QWRkPGE7KXt2YXIgYj10aGlzLmhpc3RvcnlbdGhpcy5pbmRleE9mTmV4dEFkZCsrXTtiLnJlZG8oKTtpZihiLmlzU2lnbmlmaWNhbnQoKSl7dGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5SRURPLCJlZGl0IixiKSk7YnJlYWt9fX07bXhVbmRvTWFuYWdlci5wcm90b3R5cGUudW5kb2FibGVFZGl0SGFwcGVuZWQ9ZnVuY3Rpb24oYSl7dGhpcy50cmltKCk7MDx0aGlzLnNpemUmJnRoaXMuc2l6ZT09dGhpcy5oaXN0b3J5Lmxlbmd0aCYmdGhpcy5oaXN0b3J5LnNoaWZ0KCk7dGhpcy5oaXN0b3J5LnB1c2goYSk7dGhpcy5pbmRleE9mTmV4dEFkZD10aGlzLmhpc3RvcnkubGVuZ3RoO3RoaXMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KG14RXZlbnQuQURELCJlZGl0IixhKSl9OwpteFVuZG9NYW5hZ2VyLnByb3RvdHlwZS50cmltPWZ1bmN0aW9uKCl7aWYodGhpcy5oaXN0b3J5Lmxlbmd0aD50aGlzLmluZGV4T2ZOZXh0QWRkKWZvcih2YXIgYT10aGlzLmhpc3Rvcnkuc3BsaWNlKHRoaXMuaW5kZXhPZk5leHRBZGQsdGhpcy5oaXN0b3J5Lmxlbmd0aC10aGlzLmluZGV4T2ZOZXh0QWRkKSxiPTA7YjxhLmxlbmd0aDtiKyspYVtiXS5kaWUoKX07dmFyIG14VXJsQ29udmVydGVyPWZ1bmN0aW9uKCl7fTtteFVybENvbnZlcnRlci5wcm90b3R5cGUuZW5hYmxlZD0hMDtteFVybENvbnZlcnRlci5wcm90b3R5cGUuYmFzZVVybD1udWxsO214VXJsQ29udmVydGVyLnByb3RvdHlwZS5iYXNlRG9tYWluPW51bGw7Cm14VXJsQ29udmVydGVyLnByb3RvdHlwZS51cGRhdGVCYXNlVXJsPWZ1bmN0aW9uKCl7dGhpcy5iYXNlRG9tYWluPWxvY2F0aW9uLnByb3RvY29sKyIvLyIrbG9jYXRpb24uaG9zdDt0aGlzLmJhc2VVcmw9dGhpcy5iYXNlRG9tYWluK2xvY2F0aW9uLnBhdGhuYW1lO3ZhciBhPXRoaXMuYmFzZVVybC5sYXN0SW5kZXhPZigiLyIpOzA8YSYmKHRoaXMuYmFzZVVybD10aGlzLmJhc2VVcmwuc3Vic3RyaW5nKDAsYSsxKSl9O214VXJsQ29udmVydGVyLnByb3RvdHlwZS5pc0VuYWJsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbmFibGVkfTtteFVybENvbnZlcnRlci5wcm90b3R5cGUuc2V0RW5hYmxlZD1mdW5jdGlvbihhKXt0aGlzLmVuYWJsZWQ9YX07bXhVcmxDb252ZXJ0ZXIucHJvdG90eXBlLmdldEJhc2VVcmw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iYXNlVXJsfTtteFVybENvbnZlcnRlci5wcm90b3R5cGUuc2V0QmFzZVVybD1mdW5jdGlvbihhKXt0aGlzLmJhc2VVcmw9YX07Cm14VXJsQ29udmVydGVyLnByb3RvdHlwZS5nZXRCYXNlRG9tYWluPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYmFzZURvbWFpbn07bXhVcmxDb252ZXJ0ZXIucHJvdG90eXBlLnNldEJhc2VEb21haW49ZnVuY3Rpb24oYSl7dGhpcy5iYXNlRG9tYWluPWF9O214VXJsQ29udmVydGVyLnByb3RvdHlwZS5pc1JlbGF0aXZlVXJsPWZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hJiYiLy8iIT1hLnN1YnN0cmluZygwLDIpJiYiaHR0cDovLyIhPWEuc3Vic3RyaW5nKDAsNykmJiJodHRwczovLyIhPWEuc3Vic3RyaW5nKDAsOCkmJiJkYXRhOmltYWdlIiE9YS5zdWJzdHJpbmcoMCwxMCkmJiJmaWxlOi8vIiE9YS5zdWJzdHJpbmcoMCw3KX07Cm14VXJsQ29udmVydGVyLnByb3RvdHlwZS5jb252ZXJ0PWZ1bmN0aW9uKGEpe3RoaXMuaXNFbmFibGVkKCkmJnRoaXMuaXNSZWxhdGl2ZVVybChhKSYmKG51bGw9PXRoaXMuZ2V0QmFzZVVybCgpJiZ0aGlzLnVwZGF0ZUJhc2VVcmwoKSxhPSIvIj09YS5jaGFyQXQoMCk/dGhpcy5nZXRCYXNlRG9tYWluKCkrYTp0aGlzLmdldEJhc2VVcmwoKSthKTtyZXR1cm4gYX07CmZ1bmN0aW9uIG14UGFubmluZ01hbmFnZXIoYSl7dGhpcy50aHJlYWQ9bnVsbDt0aGlzLmFjdGl2ZT0hMTt0aGlzLmR5PXRoaXMuZHg9dGhpcy50MHk9dGhpcy50MHg9dGhpcy50ZHk9dGhpcy50ZHg9MDt0aGlzLnNjcm9sbGJhcnM9ITE7dGhpcy5zY3JvbGxUb3A9dGhpcy5zY3JvbGxMZWZ0PTA7dGhpcy5tb3VzZUxpc3RlbmVyPXttb3VzZURvd246ZnVuY3Rpb24oYSxiKXt9LG1vdXNlTW92ZTpmdW5jdGlvbihhLGIpe30sbW91c2VVcDpteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhLGIpe3RoaXMuYWN0aXZlJiZ0aGlzLnN0b3AoKX0pfTthLmFkZE1vdXNlTGlzdGVuZXIodGhpcy5tb3VzZUxpc3RlbmVyKTt0aGlzLm1vdXNlVXBMaXN0ZW5lcj1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMuYWN0aXZlJiZ0aGlzLnN0b3AoKX0pO214RXZlbnQuYWRkTGlzdGVuZXIoZG9jdW1lbnQsIm1vdXNldXAiLHRoaXMubW91c2VVcExpc3RlbmVyKTt2YXIgYj1teFV0aWxzLmJpbmQodGhpcywKZnVuY3Rpb24oKXt0aGlzLnNjcm9sbGJhcnM9bXhVdGlscy5oYXNTY3JvbGxiYXJzKGEuY29udGFpbmVyKTt0aGlzLnNjcm9sbExlZnQ9YS5jb250YWluZXIuc2Nyb2xsTGVmdDt0aGlzLnNjcm9sbFRvcD1hLmNvbnRhaW5lci5zY3JvbGxUb3A7cmV0dXJuIHdpbmRvdy5zZXRJbnRlcnZhbChteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMudGR4LT10aGlzLmR4O3RoaXMudGR5LT10aGlzLmR5O3RoaXMuc2Nyb2xsYmFycz8oYS5wYW5HcmFwaCgtYS5jb250YWluZXIuc2Nyb2xsTGVmdC1NYXRoLmNlaWwodGhpcy5keCksLWEuY29udGFpbmVyLnNjcm9sbFRvcC1NYXRoLmNlaWwodGhpcy5keSkpLGEucGFuRHg9dGhpcy5zY3JvbGxMZWZ0LWEuY29udGFpbmVyLnNjcm9sbExlZnQsYS5wYW5EeT10aGlzLnNjcm9sbFRvcC1hLmNvbnRhaW5lci5zY3JvbGxUb3AsYS5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5QQU4pKSk6YS5wYW5HcmFwaCh0aGlzLmdldER4KCksCnRoaXMuZ2V0RHkoKSl9KSx0aGlzLmRlbGF5KX0pO3RoaXMuaXNBY3RpdmU9ZnVuY3Rpb24oKXtyZXR1cm4gYWN0aXZlfTt0aGlzLmdldER4PWZ1bmN0aW9uKCl7cmV0dXJuIE1hdGgucm91bmQodGhpcy50ZHgpfTt0aGlzLmdldER5PWZ1bmN0aW9uKCl7cmV0dXJuIE1hdGgucm91bmQodGhpcy50ZHkpfTt0aGlzLnN0YXJ0PWZ1bmN0aW9uKCl7dGhpcy50MHg9YS52aWV3LnRyYW5zbGF0ZS54O3RoaXMudDB5PWEudmlldy50cmFuc2xhdGUueTt0aGlzLmFjdGl2ZT0hMH07dGhpcy5wYW5Ubz1mdW5jdGlvbihjLGQsZSxmKXt0aGlzLmFjdGl2ZXx8dGhpcy5zdGFydCgpO3RoaXMuc2Nyb2xsTGVmdD1hLmNvbnRhaW5lci5zY3JvbGxMZWZ0O3RoaXMuc2Nyb2xsVG9wPWEuY29udGFpbmVyLnNjcm9sbFRvcDt2YXIgZz1hLmNvbnRhaW5lcjt0aGlzLmR4PWMrKG51bGwhPWU/ZTowKS1nLnNjcm9sbExlZnQtZy5jbGllbnRXaWR0aDt0aGlzLmR4PTA+dGhpcy5keCYmTWF0aC5hYnModGhpcy5keCk8CnRoaXMuYm9yZGVyP3RoaXMuYm9yZGVyK3RoaXMuZHg6dGhpcy5oYW5kbGVNb3VzZU91dD9NYXRoLm1heCh0aGlzLmR4LDApOjA7MD09dGhpcy5keCYmKHRoaXMuZHg9Yy1nLnNjcm9sbExlZnQsdGhpcy5keD0wPHRoaXMuZHgmJnRoaXMuZHg8dGhpcy5ib3JkZXI/dGhpcy5keC10aGlzLmJvcmRlcjp0aGlzLmhhbmRsZU1vdXNlT3V0P01hdGgubWluKDAsdGhpcy5keCk6MCk7dGhpcy5keT1kKyhudWxsIT1mP2Y6MCktZy5zY3JvbGxUb3AtZy5jbGllbnRIZWlnaHQ7dGhpcy5keT0wPnRoaXMuZHkmJk1hdGguYWJzKHRoaXMuZHkpPHRoaXMuYm9yZGVyP3RoaXMuYm9yZGVyK3RoaXMuZHk6dGhpcy5oYW5kbGVNb3VzZU91dD9NYXRoLm1heCh0aGlzLmR5LDApOjA7MD09dGhpcy5keSYmKHRoaXMuZHk9ZC1nLnNjcm9sbFRvcCx0aGlzLmR5PTA8dGhpcy5keSYmdGhpcy5keTx0aGlzLmJvcmRlcj90aGlzLmR5LXRoaXMuYm9yZGVyOnRoaXMuaGFuZGxlTW91c2VPdXQ/TWF0aC5taW4oMCx0aGlzLmR5KToKMCk7MCE9dGhpcy5keHx8MCE9dGhpcy5keT8odGhpcy5keCo9dGhpcy5kYW1wZXIsdGhpcy5keSo9dGhpcy5kYW1wZXIsbnVsbD09dGhpcy50aHJlYWQmJih0aGlzLnRocmVhZD1iKCkpKTpudWxsIT10aGlzLnRocmVhZCYmKHdpbmRvdy5jbGVhckludGVydmFsKHRoaXMudGhyZWFkKSx0aGlzLnRocmVhZD1udWxsKX07dGhpcy5zdG9wPWZ1bmN0aW9uKCl7aWYodGhpcy5hY3RpdmUpaWYodGhpcy5hY3RpdmU9ITEsbnVsbCE9dGhpcy50aHJlYWQmJih3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLnRocmVhZCksdGhpcy50aHJlYWQ9bnVsbCksdGhpcy50ZHk9dGhpcy50ZHg9MCx0aGlzLnNjcm9sbGJhcnMpYS5wYW5EeD0wLGEucGFuRHk9MCxhLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LlBBTikpO2Vsc2V7dmFyIGI9YS5wYW5EeCxkPWEucGFuRHk7aWYoMCE9Ynx8MCE9ZClhLnBhbkdyYXBoKDAsMCksYS52aWV3LnNldFRyYW5zbGF0ZSh0aGlzLnQweCtiL2Eudmlldy5zY2FsZSwKdGhpcy50MHkrZC9hLnZpZXcuc2NhbGUpfX07dGhpcy5kZXN0cm95PWZ1bmN0aW9uKCl7YS5yZW1vdmVNb3VzZUxpc3RlbmVyKHRoaXMubW91c2VMaXN0ZW5lcik7bXhFdmVudC5yZW1vdmVMaXN0ZW5lcihkb2N1bWVudCwibW91c2V1cCIsdGhpcy5tb3VzZVVwTGlzdGVuZXIpfX1teFBhbm5pbmdNYW5hZ2VyLnByb3RvdHlwZS5kYW1wZXI9MS82O214UGFubmluZ01hbmFnZXIucHJvdG90eXBlLmRlbGF5PTEwO214UGFubmluZ01hbmFnZXIucHJvdG90eXBlLmhhbmRsZU1vdXNlT3V0PSEwO214UGFubmluZ01hbmFnZXIucHJvdG90eXBlLmJvcmRlcj0wO2Z1bmN0aW9uIG14UG9wdXBNZW51KGEpe3RoaXMuZmFjdG9yeU1ldGhvZD1hO251bGwhPWEmJnRoaXMuaW5pdCgpfW14UG9wdXBNZW51LnByb3RvdHlwZT1uZXcgbXhFdmVudFNvdXJjZTtteFBvcHVwTWVudS5wcm90b3R5cGUuY29uc3RydWN0b3I9bXhQb3B1cE1lbnU7Cm14UG9wdXBNZW51LnByb3RvdHlwZS5zdWJtZW51SW1hZ2U9bXhDbGllbnQuaW1hZ2VCYXNlUGF0aCsiL3N1Ym1lbnUuZ2lmIjtteFBvcHVwTWVudS5wcm90b3R5cGUuekluZGV4PTEwMDA2O214UG9wdXBNZW51LnByb3RvdHlwZS5mYWN0b3J5TWV0aG9kPW51bGw7bXhQb3B1cE1lbnUucHJvdG90eXBlLnVzZUxlZnRCdXR0b25Gb3JQb3B1cD0hMTtteFBvcHVwTWVudS5wcm90b3R5cGUuZW5hYmxlZD0hMDtteFBvcHVwTWVudS5wcm90b3R5cGUuaXRlbUNvdW50PTA7bXhQb3B1cE1lbnUucHJvdG90eXBlLmF1dG9FeHBhbmQ9ITE7bXhQb3B1cE1lbnUucHJvdG90eXBlLnNtYXJ0U2VwYXJhdG9ycz0hMTtteFBvcHVwTWVudS5wcm90b3R5cGUubGFiZWxzPSEwOwpteFBvcHVwTWVudS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbigpe3RoaXMudGFibGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGFibGUiKTt0aGlzLnRhYmxlLmNsYXNzTmFtZT0ibXhQb3B1cE1lbnUiO3RoaXMudGJvZHk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGJvZHkiKTt0aGlzLnRhYmxlLmFwcGVuZENoaWxkKHRoaXMudGJvZHkpO3RoaXMuZGl2PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO3RoaXMuZGl2LmNsYXNzTmFtZT0ibXhQb3B1cE1lbnUiO3RoaXMuZGl2LnN0eWxlLmRpc3BsYXk9ImlubGluZSI7dGhpcy5kaXYuc3R5bGUuekluZGV4PXRoaXMuekluZGV4O3RoaXMuZGl2LmFwcGVuZENoaWxkKHRoaXMudGFibGUpO214RXZlbnQuZGlzYWJsZUNvbnRleHRNZW51KHRoaXMuZGl2KX07bXhQb3B1cE1lbnUucHJvdG90eXBlLmlzRW5hYmxlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVuYWJsZWR9OwpteFBvcHVwTWVudS5wcm90b3R5cGUuc2V0RW5hYmxlZD1mdW5jdGlvbihhKXt0aGlzLmVuYWJsZWQ9YX07bXhQb3B1cE1lbnUucHJvdG90eXBlLmlzUG9wdXBUcmlnZ2VyPWZ1bmN0aW9uKGEpe3JldHVybiBhLmlzUG9wdXBUcmlnZ2VyKCl8fHRoaXMudXNlTGVmdEJ1dHRvbkZvclBvcHVwJiZteEV2ZW50LmlzTGVmdE1vdXNlQnV0dG9uKGEuZ2V0RXZlbnQoKSl9OwpteFBvcHVwTWVudS5wcm90b3R5cGUuYWRkSXRlbT1mdW5jdGlvbihhLGIsYyxkLGUsZixnLGspe2Q9ZHx8dGhpczt0aGlzLml0ZW1Db3VudCsrO2Qud2lsbEFkZFNlcGFyYXRvciYmKGQuY29udGFpbnNJdGVtcyYmdGhpcy5hZGRTZXBhcmF0b3IoZCwhMCksZC53aWxsQWRkU2VwYXJhdG9yPSExKTtkLmNvbnRhaW5zSXRlbXM9ITA7dmFyIGw9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidHIiKTtsLmNsYXNzTmFtZT0ibXhQb3B1cE1lbnVJdGVtIjt2YXIgbT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ZCIpO20uY2xhc3NOYW1lPSJteFBvcHVwTWVudUljb24iO251bGwhPWI/KGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW1nIiksZS5zcmM9YixtLmFwcGVuZENoaWxkKGUpKTpudWxsIT1lJiYoYj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSxiLmNsYXNzTmFtZT1lLG0uYXBwZW5kQ2hpbGQoYikpO2wuYXBwZW5kQ2hpbGQobSk7dGhpcy5sYWJlbHMmJihtPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRkIiksCm0uY2xhc3NOYW1lPSJteFBvcHVwTWVudUl0ZW0iKyhudWxsPT1mfHxmPyIiOiIgbXhEaXNhYmxlZCIpLG14VXRpbHMud3JpdGUobSxhKSxtLmFsaWduPSJsZWZ0IixsLmFwcGVuZENoaWxkKG0pLGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGQiKSxhLmNsYXNzTmFtZT0ibXhQb3B1cE1lbnVJdGVtIisobnVsbD09Znx8Zj8iIjoiIG14RGlzYWJsZWQiKSxhLnN0eWxlLnBhZGRpbmdSaWdodD0iNnB4IixhLnN0eWxlLnRleHRBbGlnbj0icmlnaHQiLGwuYXBwZW5kQ2hpbGQoYSksbnVsbD09ZC5kaXYmJnRoaXMuY3JlYXRlU3VibWVudShkKSk7ZC50Ym9keS5hcHBlbmRDaGlsZChsKTtpZigwIT1nJiYwIT1mKXt2YXIgbj1udWxsO214RXZlbnQuYWRkR2VzdHVyZUxpc3RlbmVycyhsLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3RoaXMuZXZlbnRSZWNlaXZlcj1sO2QuYWN0aXZlUm93IT1sJiZkLmFjdGl2ZVJvdyE9ZCYmKG51bGwhPWQuYWN0aXZlUm93JiZudWxsIT1kLmFjdGl2ZVJvdy5kaXYucGFyZW50Tm9kZSYmCnRoaXMuaGlkZVN1Ym1lbnUoZCksbnVsbCE9bC5kaXYmJih0aGlzLnNob3dTdWJtZW51KGQsbCksZC5hY3RpdmVSb3c9bCkpO251bGw9PWRvY3VtZW50LnNlbGVjdGlvbnx8IW14Q2xpZW50LklTX1FVSVJLUyYmOCE9ZG9jdW1lbnQuZG9jdW1lbnRNb2RlfHwobj1kb2N1bWVudC5zZWxlY3Rpb24uY3JlYXRlUmFuZ2UoKSk7bXhFdmVudC5jb25zdW1lKGEpfSksbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7ZC5hY3RpdmVSb3chPWwmJmQuYWN0aXZlUm93IT1kJiYobnVsbCE9ZC5hY3RpdmVSb3cmJm51bGwhPWQuYWN0aXZlUm93LmRpdi5wYXJlbnROb2RlJiZ0aGlzLmhpZGVTdWJtZW51KGQpLHRoaXMuYXV0b0V4cGFuZCYmbnVsbCE9bC5kaXYmJih0aGlzLnNob3dTdWJtZW51KGQsbCksZC5hY3RpdmVSb3c9bCkpO2t8fChsLmNsYXNzTmFtZT0ibXhQb3B1cE1lbnVJdGVtSG92ZXIiKX0pLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe2lmKHRoaXMuZXZlbnRSZWNlaXZlcj09Cmwpe2QuYWN0aXZlUm93IT1sJiZ0aGlzLmhpZGVNZW51KCk7aWYobnVsbCE9bil7dHJ5e24uc2VsZWN0KCl9Y2F0Y2gocSl7fW49bnVsbH1udWxsIT1jJiZjKGEpfXRoaXMuZXZlbnRSZWNlaXZlcj1udWxsO214RXZlbnQuY29uc3VtZShhKX0pKTtrfHxteEV2ZW50LmFkZExpc3RlbmVyKGwsIm1vdXNlb3V0IixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXtsLmNsYXNzTmFtZT0ibXhQb3B1cE1lbnVJdGVtIn0pKX1yZXR1cm4gbH07bXhQb3B1cE1lbnUucHJvdG90eXBlLmFkZENoZWNrbWFyaz1mdW5jdGlvbihhLGIpe3ZhciBjPWEuZmlyc3RDaGlsZC5uZXh0U2libGluZztjLnN0eWxlLmJhY2tncm91bmRJbWFnZT0idXJsKCciK2IrIicpIjtjLnN0eWxlLmJhY2tncm91bmRSZXBlYXQ9Im5vLXJlcGVhdCI7Yy5zdHlsZS5iYWNrZ3JvdW5kUG9zaXRpb249IjJweCA1MCUifTsKbXhQb3B1cE1lbnUucHJvdG90eXBlLmNyZWF0ZVN1Ym1lbnU9ZnVuY3Rpb24oYSl7YS50YWJsZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0YWJsZSIpO2EudGFibGUuY2xhc3NOYW1lPSJteFBvcHVwTWVudSI7YS50Ym9keT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0Ym9keSIpO2EudGFibGUuYXBwZW5kQ2hpbGQoYS50Ym9keSk7YS5kaXY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7YS5kaXYuY2xhc3NOYW1lPSJteFBvcHVwTWVudSI7YS5kaXYuc3R5bGUucG9zaXRpb249ImFic29sdXRlIjthLmRpdi5zdHlsZS5kaXNwbGF5PSJpbmxpbmUiO2EuZGl2LnN0eWxlLnpJbmRleD10aGlzLnpJbmRleDthLmRpdi5hcHBlbmRDaGlsZChhLnRhYmxlKTt2YXIgYj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbWciKTtiLnNldEF0dHJpYnV0ZSgic3JjIix0aGlzLnN1Ym1lbnVJbWFnZSk7dGQ9YS5maXJzdENoaWxkLm5leHRTaWJsaW5nLm5leHRTaWJsaW5nO3RkLmFwcGVuZENoaWxkKGIpfTsKbXhQb3B1cE1lbnUucHJvdG90eXBlLnNob3dTdWJtZW51PWZ1bmN0aW9uKGEsYil7aWYobnVsbCE9Yi5kaXYpe2IuZGl2LnN0eWxlLmxlZnQ9YS5kaXYub2Zmc2V0TGVmdCtiLm9mZnNldExlZnQrYi5vZmZzZXRXaWR0aC0xKyJweCI7Yi5kaXYuc3R5bGUudG9wPWEuZGl2Lm9mZnNldFRvcCtiLm9mZnNldFRvcCsicHgiO2RvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYi5kaXYpO3ZhciBjPXBhcnNlSW50KGIuZGl2Lm9mZnNldExlZnQpLGQ9cGFyc2VJbnQoYi5kaXYub2Zmc2V0V2lkdGgpLGU9bXhVdGlscy5nZXREb2N1bWVudFNjcm9sbE9yaWdpbihkb2N1bWVudCksZj1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7YytkPmUueCsoZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aHx8Zi5jbGllbnRXaWR0aCkmJihiLmRpdi5zdHlsZS5sZWZ0PU1hdGgubWF4KDAsYS5kaXYub2Zmc2V0TGVmdC1kKyhteENsaWVudC5JU19JRT82Oi02KSkrInB4Iik7bXhVdGlscy5maXQoYi5kaXYpfX07Cm14UG9wdXBNZW51LnByb3RvdHlwZS5hZGRTZXBhcmF0b3I9ZnVuY3Rpb24oYSxiKXthPWF8fHRoaXM7aWYodGhpcy5zbWFydFNlcGFyYXRvcnMmJiFiKWEud2lsbEFkZFNlcGFyYXRvcj0hMDtlbHNlIGlmKG51bGwhPWEudGJvZHkpe2Eud2lsbEFkZFNlcGFyYXRvcj0hMTt2YXIgYz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ciIpLGQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGQiKTtkLmNsYXNzTmFtZT0ibXhQb3B1cE1lbnVJY29uIjtkLnN0eWxlLnBhZGRpbmc9IjAgMCAwIDBweCI7Yy5hcHBlbmRDaGlsZChkKTtkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRkIik7ZC5zdHlsZS5wYWRkaW5nPSIwIDAgMCAwcHgiO2Quc2V0QXR0cmlidXRlKCJjb2xTcGFuIiwiMiIpO3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImhyIik7ZS5zZXRBdHRyaWJ1dGUoInNpemUiLCIxIik7ZC5hcHBlbmRDaGlsZChlKTtjLmFwcGVuZENoaWxkKGQpO2EudGJvZHkuYXBwZW5kQ2hpbGQoYyl9fTsKbXhQb3B1cE1lbnUucHJvdG90eXBlLnBvcHVwPWZ1bmN0aW9uKGEsYixjLGQpe2lmKG51bGwhPXRoaXMuZGl2JiZudWxsIT10aGlzLnRib2R5JiZudWxsIT10aGlzLmZhY3RvcnlNZXRob2Qpe3RoaXMuZGl2LnN0eWxlLmxlZnQ9YSsicHgiO2Zvcih0aGlzLmRpdi5zdHlsZS50b3A9YisicHgiO251bGwhPXRoaXMudGJvZHkuZmlyc3RDaGlsZDspbXhFdmVudC5yZWxlYXNlKHRoaXMudGJvZHkuZmlyc3RDaGlsZCksdGhpcy50Ym9keS5yZW1vdmVDaGlsZCh0aGlzLnRib2R5LmZpcnN0Q2hpbGQpO3RoaXMuaXRlbUNvdW50PTA7dGhpcy5mYWN0b3J5TWV0aG9kKHRoaXMsYyxkKTswPHRoaXMuaXRlbUNvdW50JiYodGhpcy5zaG93TWVudSgpLHRoaXMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KG14RXZlbnQuU0hPVykpKX19OwpteFBvcHVwTWVudS5wcm90b3R5cGUuaXNNZW51U2hvd2luZz1mdW5jdGlvbigpe3JldHVybiBudWxsIT10aGlzLmRpdiYmdGhpcy5kaXYucGFyZW50Tm9kZT09ZG9jdW1lbnQuYm9keX07bXhQb3B1cE1lbnUucHJvdG90eXBlLnNob3dNZW51PWZ1bmN0aW9uKCl7OTw9ZG9jdW1lbnQuZG9jdW1lbnRNb2RlJiYodGhpcy5kaXYuc3R5bGUuZmlsdGVyPSJub25lIik7ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLmRpdik7bXhVdGlscy5maXQodGhpcy5kaXYpfTtteFBvcHVwTWVudS5wcm90b3R5cGUuaGlkZU1lbnU9ZnVuY3Rpb24oKXtudWxsIT10aGlzLmRpdiYmKG51bGwhPXRoaXMuZGl2LnBhcmVudE5vZGUmJnRoaXMuZGl2LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5kaXYpLHRoaXMuaGlkZVN1Ym1lbnUodGhpcyksdGhpcy5jb250YWluc0l0ZW1zPSExLHRoaXMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KG14RXZlbnQuSElERSkpKX07Cm14UG9wdXBNZW51LnByb3RvdHlwZS5oaWRlU3VibWVudT1mdW5jdGlvbihhKXtudWxsIT1hLmFjdGl2ZVJvdyYmKHRoaXMuaGlkZVN1Ym1lbnUoYS5hY3RpdmVSb3cpLG51bGwhPWEuYWN0aXZlUm93LmRpdi5wYXJlbnROb2RlJiZhLmFjdGl2ZVJvdy5kaXYucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChhLmFjdGl2ZVJvdy5kaXYpLGEuYWN0aXZlUm93PW51bGwpfTtteFBvcHVwTWVudS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe251bGwhPXRoaXMuZGl2JiYobXhFdmVudC5yZWxlYXNlKHRoaXMuZGl2KSxudWxsIT10aGlzLmRpdi5wYXJlbnROb2RlJiZ0aGlzLmRpdi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuZGl2KSx0aGlzLmRpdj1udWxsKX07CmZ1bmN0aW9uIG14QXV0b1NhdmVNYW5hZ2VyKGEpe3RoaXMuY2hhbmdlSGFuZGxlcj1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhLGMpe3RoaXMuaXNFbmFibGVkKCkmJnRoaXMuZ3JhcGhNb2RlbENoYW5nZWQoYy5nZXRQcm9wZXJ0eSgiZWRpdCIpLmNoYW5nZXMpfSk7dGhpcy5zZXRHcmFwaChhKX1teEF1dG9TYXZlTWFuYWdlci5wcm90b3R5cGU9bmV3IG14RXZlbnRTb3VyY2U7bXhBdXRvU2F2ZU1hbmFnZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yPW14QXV0b1NhdmVNYW5hZ2VyO214QXV0b1NhdmVNYW5hZ2VyLnByb3RvdHlwZS5ncmFwaD1udWxsO214QXV0b1NhdmVNYW5hZ2VyLnByb3RvdHlwZS5hdXRvU2F2ZURlbGF5PTEwO214QXV0b1NhdmVNYW5hZ2VyLnByb3RvdHlwZS5hdXRvU2F2ZVRocm90dGxlPTI7bXhBdXRvU2F2ZU1hbmFnZXIucHJvdG90eXBlLmF1dG9TYXZlVGhyZXNob2xkPTU7bXhBdXRvU2F2ZU1hbmFnZXIucHJvdG90eXBlLmlnbm9yZWRDaGFuZ2VzPTA7Cm14QXV0b1NhdmVNYW5hZ2VyLnByb3RvdHlwZS5sYXN0U25hcHNob3Q9MDtteEF1dG9TYXZlTWFuYWdlci5wcm90b3R5cGUuZW5hYmxlZD0hMDtteEF1dG9TYXZlTWFuYWdlci5wcm90b3R5cGUuY2hhbmdlSGFuZGxlcj1udWxsO214QXV0b1NhdmVNYW5hZ2VyLnByb3RvdHlwZS5pc0VuYWJsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbmFibGVkfTtteEF1dG9TYXZlTWFuYWdlci5wcm90b3R5cGUuc2V0RW5hYmxlZD1mdW5jdGlvbihhKXt0aGlzLmVuYWJsZWQ9YX07bXhBdXRvU2F2ZU1hbmFnZXIucHJvdG90eXBlLnNldEdyYXBoPWZ1bmN0aW9uKGEpe251bGwhPXRoaXMuZ3JhcGgmJnRoaXMuZ3JhcGguZ2V0TW9kZWwoKS5yZW1vdmVMaXN0ZW5lcih0aGlzLmNoYW5nZUhhbmRsZXIpO3RoaXMuZ3JhcGg9YTtudWxsIT10aGlzLmdyYXBoJiZ0aGlzLmdyYXBoLmdldE1vZGVsKCkuYWRkTGlzdGVuZXIobXhFdmVudC5DSEFOR0UsdGhpcy5jaGFuZ2VIYW5kbGVyKX07Cm14QXV0b1NhdmVNYW5hZ2VyLnByb3RvdHlwZS5zYXZlPWZ1bmN0aW9uKCl7fTtteEF1dG9TYXZlTWFuYWdlci5wcm90b3R5cGUuZ3JhcGhNb2RlbENoYW5nZWQ9ZnVuY3Rpb24oYSl7YT0oKG5ldyBEYXRlKS5nZXRUaW1lKCktdGhpcy5sYXN0U25hcHNob3QpLzFFMzthPnRoaXMuYXV0b1NhdmVEZWxheXx8dGhpcy5pZ25vcmVkQ2hhbmdlcz49dGhpcy5hdXRvU2F2ZVRocmVzaG9sZCYmYT50aGlzLmF1dG9TYXZlVGhyb3R0bGU/KHRoaXMuc2F2ZSgpLHRoaXMucmVzZXQoKSk6dGhpcy5pZ25vcmVkQ2hhbmdlcysrfTtteEF1dG9TYXZlTWFuYWdlci5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLmxhc3RTbmFwc2hvdD0obmV3IERhdGUpLmdldFRpbWUoKTt0aGlzLmlnbm9yZWRDaGFuZ2VzPTB9O214QXV0b1NhdmVNYW5hZ2VyLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5zZXRHcmFwaChudWxsKX07CmZ1bmN0aW9uIG14QW5pbWF0aW9uKGEpe3RoaXMuZGVsYXk9bnVsbCE9YT9hOjIwfW14QW5pbWF0aW9uLnByb3RvdHlwZT1uZXcgbXhFdmVudFNvdXJjZTtteEFuaW1hdGlvbi5wcm90b3R5cGUuY29uc3RydWN0b3I9bXhBbmltYXRpb247bXhBbmltYXRpb24ucHJvdG90eXBlLmRlbGF5PW51bGw7bXhBbmltYXRpb24ucHJvdG90eXBlLnRocmVhZD1udWxsO214QW5pbWF0aW9uLnByb3RvdHlwZS5pc1J1bm5pbmc9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9dGhpcy50aHJlYWR9O214QW5pbWF0aW9uLnByb3RvdHlwZS5zdGFydEFuaW1hdGlvbj1mdW5jdGlvbigpe251bGw9PXRoaXMudGhyZWFkJiYodGhpcy50aHJlYWQ9d2luZG93LnNldEludGVydmFsKG14VXRpbHMuYmluZCh0aGlzLHRoaXMudXBkYXRlQW5pbWF0aW9uKSx0aGlzLmRlbGF5KSl9O214QW5pbWF0aW9uLnByb3RvdHlwZS51cGRhdGVBbmltYXRpb249ZnVuY3Rpb24oKXt0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LkVYRUNVVEUpKX07Cm14QW5pbWF0aW9uLnByb3RvdHlwZS5zdG9wQW5pbWF0aW9uPWZ1bmN0aW9uKCl7bnVsbCE9dGhpcy50aHJlYWQmJih3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLnRocmVhZCksdGhpcy50aHJlYWQ9bnVsbCx0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LkRPTkUpKSl9O2Z1bmN0aW9uIG14TW9ycGhpbmcoYSxiLGMsZCl7bXhBbmltYXRpb24uY2FsbCh0aGlzLGQpO3RoaXMuZ3JhcGg9YTt0aGlzLnN0ZXBzPW51bGwhPWI/Yjo2O3RoaXMuZWFzZT1udWxsIT1jP2M6MS41fW14TW9ycGhpbmcucHJvdG90eXBlPW5ldyBteEFuaW1hdGlvbjtteE1vcnBoaW5nLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1teE1vcnBoaW5nO214TW9ycGhpbmcucHJvdG90eXBlLmdyYXBoPW51bGw7bXhNb3JwaGluZy5wcm90b3R5cGUuc3RlcHM9bnVsbDtteE1vcnBoaW5nLnByb3RvdHlwZS5zdGVwPTA7bXhNb3JwaGluZy5wcm90b3R5cGUuZWFzZT1udWxsOwpteE1vcnBoaW5nLnByb3RvdHlwZS5jZWxscz1udWxsO214TW9ycGhpbmcucHJvdG90eXBlLnVwZGF0ZUFuaW1hdGlvbj1mdW5jdGlvbigpe214QW5pbWF0aW9uLnByb3RvdHlwZS51cGRhdGVBbmltYXRpb24uYXBwbHkodGhpcyxhcmd1bWVudHMpO3ZhciBhPW5ldyBteENlbGxTdGF0ZVByZXZpZXcodGhpcy5ncmFwaCk7aWYobnVsbCE9dGhpcy5jZWxscylmb3IodmFyIGI9MDtiPHRoaXMuY2VsbHMubGVuZ3RoO2IrKyl0aGlzLmFuaW1hdGVDZWxsKHRoaXMuY2VsbHNbYl0sYSwhMSk7ZWxzZSB0aGlzLmFuaW1hdGVDZWxsKHRoaXMuZ3JhcGguZ2V0TW9kZWwoKS5nZXRSb290KCksYSwhMCk7dGhpcy5zaG93KGEpOyhhLmlzRW1wdHkoKXx8dGhpcy5zdGVwKys+PXRoaXMuc3RlcHMpJiZ0aGlzLnN0b3BBbmltYXRpb24oKX07bXhNb3JwaGluZy5wcm90b3R5cGUuc2hvdz1mdW5jdGlvbihhKXthLnNob3coKX07Cm14TW9ycGhpbmcucHJvdG90eXBlLmFuaW1hdGVDZWxsPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLmdyYXBoLmdldFZpZXcoKS5nZXRTdGF0ZShhKSxlPW51bGw7aWYobnVsbCE9ZCYmKGU9dGhpcy5nZXREZWx0YShkKSx0aGlzLmdyYXBoLmdldE1vZGVsKCkuaXNWZXJ0ZXgoYSkmJigwIT1lLnh8fDAhPWUueSkpKXt2YXIgZj10aGlzLmdyYXBoLnZpZXcuZ2V0VHJhbnNsYXRlKCksZz10aGlzLmdyYXBoLnZpZXcuZ2V0U2NhbGUoKTtlLngrPWYueCpnO2UueSs9Zi55Kmc7Yi5tb3ZlU3RhdGUoZCwtZS54L3RoaXMuZWFzZSwtZS55L3RoaXMuZWFzZSl9aWYoYyYmIXRoaXMuc3RvcFJlY3Vyc2lvbihkLGUpKWZvcihkPXRoaXMuZ3JhcGguZ2V0TW9kZWwoKS5nZXRDaGlsZENvdW50KGEpLGU9MDtlPGQ7ZSsrKXRoaXMuYW5pbWF0ZUNlbGwodGhpcy5ncmFwaC5nZXRNb2RlbCgpLmdldENoaWxkQXQoYSxlKSxiLGMpfTsKbXhNb3JwaGluZy5wcm90b3R5cGUuc3RvcFJlY3Vyc2lvbj1mdW5jdGlvbihhLGIpe3JldHVybiBudWxsIT1iJiYoMCE9Yi54fHwwIT1iLnkpfTtteE1vcnBoaW5nLnByb3RvdHlwZS5nZXREZWx0YT1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmdldE9yaWdpbkZvckNlbGwoYS5jZWxsKSxjPXRoaXMuZ3JhcGguZ2V0VmlldygpLmdldFRyYW5zbGF0ZSgpLGQ9dGhpcy5ncmFwaC5nZXRWaWV3KCkuZ2V0U2NhbGUoKTtyZXR1cm4gbmV3IG14UG9pbnQoKGIueC0oYS54L2QtYy54KSkqZCwoYi55LShhLnkvZC1jLnkpKSpkKX07Cm14TW9ycGhpbmcucHJvdG90eXBlLmdldE9yaWdpbkZvckNlbGw9ZnVuY3Rpb24oYSl7dmFyIGI9bnVsbDtpZihudWxsIT1hKXt2YXIgYz10aGlzLmdyYXBoLmdldE1vZGVsKCkuZ2V0UGFyZW50KGEpO2E9dGhpcy5ncmFwaC5nZXRDZWxsR2VvbWV0cnkoYSk7Yj10aGlzLmdldE9yaWdpbkZvckNlbGwoYyk7bnVsbCE9YSYmKGEucmVsYXRpdmU/KGM9dGhpcy5ncmFwaC5nZXRDZWxsR2VvbWV0cnkoYyksbnVsbCE9YyYmKGIueCs9YS54KmMud2lkdGgsYi55Kz1hLnkqYy5oZWlnaHQpKTooYi54Kz1hLngsYi55Kz1hLnkpKX1udWxsPT1iJiYoYj10aGlzLmdyYXBoLnZpZXcuZ2V0VHJhbnNsYXRlKCksYj1uZXcgbXhQb2ludCgtYi54LC1iLnkpKTtyZXR1cm4gYn07ZnVuY3Rpb24gbXhJbWFnZUJ1bmRsZShhKXt0aGlzLmltYWdlcz1bXTt0aGlzLmFsdD1udWxsIT1hP2E6ITF9bXhJbWFnZUJ1bmRsZS5wcm90b3R5cGUuaW1hZ2VzPW51bGw7Cm14SW1hZ2VCdW5kbGUucHJvdG90eXBlLmFsdD1udWxsO214SW1hZ2VCdW5kbGUucHJvdG90eXBlLnB1dEltYWdlPWZ1bmN0aW9uKGEsYixjKXt0aGlzLmltYWdlc1thXT17dmFsdWU6YixmYWxsYmFjazpjfX07bXhJbWFnZUJ1bmRsZS5wcm90b3R5cGUuZ2V0SW1hZ2U9ZnVuY3Rpb24oYSl7dmFyIGI9bnVsbDtudWxsIT1hJiYoYT10aGlzLmltYWdlc1thXSxudWxsIT1hJiYoYj10aGlzLmFsdD9hLmZhbGxiYWNrOmEudmFsdWUpKTtyZXR1cm4gYn07ZnVuY3Rpb24gbXhJbWFnZUV4cG9ydCgpe31teEltYWdlRXhwb3J0LnByb3RvdHlwZS5pbmNsdWRlT3ZlcmxheXM9ITE7Cm14SW1hZ2VFeHBvcnQucHJvdG90eXBlLmRyYXdTdGF0ZT1mdW5jdGlvbihhLGIpe251bGwhPWEmJih0aGlzLnZpc2l0U3RhdGVzUmVjdXJzaXZlKGEsYixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMuZHJhd0NlbGxTdGF0ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KSksdGhpcy5pbmNsdWRlT3ZlcmxheXMmJnRoaXMudmlzaXRTdGF0ZXNSZWN1cnNpdmUoYSxiLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dGhpcy5kcmF3T3ZlcmxheXMuYXBwbHkodGhpcyxhcmd1bWVudHMpfSkpKX07Cm14SW1hZ2VFeHBvcnQucHJvdG90eXBlLnZpc2l0U3RhdGVzUmVjdXJzaXZlPWZ1bmN0aW9uKGEsYixjKXtpZihudWxsIT1hKXtjKGEsYik7Zm9yKHZhciBkPWEudmlldy5ncmFwaCxlPWQubW9kZWwuZ2V0Q2hpbGRDb3VudChhLmNlbGwpLGY9MDtmPGU7ZisrKXt2YXIgZz1kLnZpZXcuZ2V0U3RhdGUoZC5tb2RlbC5nZXRDaGlsZEF0KGEuY2VsbCxmKSk7dGhpcy52aXNpdFN0YXRlc1JlY3Vyc2l2ZShnLGIsYyl9fX07bXhJbWFnZUV4cG9ydC5wcm90b3R5cGUuZ2V0TGlua0ZvckNlbGxTdGF0ZT1mdW5jdGlvbihhLGIpe3JldHVybiBudWxsfTtteEltYWdlRXhwb3J0LnByb3RvdHlwZS5kcmF3Q2VsbFN0YXRlPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5nZXRMaW5rRm9yQ2VsbFN0YXRlKGEsYik7bnVsbCE9YyYmYi5zZXRMaW5rKGMpO3RoaXMuZHJhd1NoYXBlKGEsYik7dGhpcy5kcmF3VGV4dChhLGIpO251bGwhPWMmJmIuc2V0TGluayhudWxsKX07Cm14SW1hZ2VFeHBvcnQucHJvdG90eXBlLmRyYXdTaGFwZT1mdW5jdGlvbihhLGIpe2Euc2hhcGUgaW5zdGFuY2VvZiBteFNoYXBlJiZhLnNoYXBlLmNoZWNrQm91bmRzKCkmJihiLnNhdmUoKSxhLnNoYXBlLnBhaW50KGIpLGIucmVzdG9yZSgpKX07bXhJbWFnZUV4cG9ydC5wcm90b3R5cGUuZHJhd1RleHQ9ZnVuY3Rpb24oYSxiKXtudWxsIT1hLnRleHQmJmEudGV4dC5jaGVja0JvdW5kcygpJiYoYi5zYXZlKCksYS50ZXh0LnBhaW50KGIpLGIucmVzdG9yZSgpKX07bXhJbWFnZUV4cG9ydC5wcm90b3R5cGUuZHJhd092ZXJsYXlzPWZ1bmN0aW9uKGEsYil7bnVsbCE9YS5vdmVybGF5cyYmYS5vdmVybGF5cy52aXNpdChmdW5jdGlvbihhLGQpe2QgaW5zdGFuY2VvZiBteFNoYXBlJiZkLnBhaW50KGIpfSl9O2Z1bmN0aW9uIG14QWJzdHJhY3RDYW52YXMyRCgpe3RoaXMuY29udmVydGVyPXRoaXMuY3JlYXRlVXJsQ29udmVydGVyKCk7dGhpcy5yZXNldCgpfQpteEFic3RyYWN0Q2FudmFzMkQucHJvdG90eXBlLnN0YXRlPW51bGw7bXhBYnN0cmFjdENhbnZhczJELnByb3RvdHlwZS5zdGF0ZXM9bnVsbDtteEFic3RyYWN0Q2FudmFzMkQucHJvdG90eXBlLnBhdGg9bnVsbDtteEFic3RyYWN0Q2FudmFzMkQucHJvdG90eXBlLnJvdGF0ZUh0bWw9ITA7bXhBYnN0cmFjdENhbnZhczJELnByb3RvdHlwZS5sYXN0WD0wO214QWJzdHJhY3RDYW52YXMyRC5wcm90b3R5cGUubGFzdFk9MDtteEFic3RyYWN0Q2FudmFzMkQucHJvdG90eXBlLm1vdmVPcD0iTSI7bXhBYnN0cmFjdENhbnZhczJELnByb3RvdHlwZS5saW5lT3A9IkwiO214QWJzdHJhY3RDYW52YXMyRC5wcm90b3R5cGUucXVhZE9wPSJRIjtteEFic3RyYWN0Q2FudmFzMkQucHJvdG90eXBlLmN1cnZlT3A9IkMiO214QWJzdHJhY3RDYW52YXMyRC5wcm90b3R5cGUuY2xvc2VPcD0iWiI7bXhBYnN0cmFjdENhbnZhczJELnByb3RvdHlwZS5wb2ludGVyRXZlbnRzPSExOwpteEFic3RyYWN0Q2FudmFzMkQucHJvdG90eXBlLmNyZWF0ZVVybENvbnZlcnRlcj1mdW5jdGlvbigpe3JldHVybiBuZXcgbXhVcmxDb252ZXJ0ZXJ9O214QWJzdHJhY3RDYW52YXMyRC5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLnN0YXRlPXRoaXMuY3JlYXRlU3RhdGUoKTt0aGlzLnN0YXRlcz1bXX07Cm14QWJzdHJhY3RDYW52YXMyRC5wcm90b3R5cGUuY3JlYXRlU3RhdGU9ZnVuY3Rpb24oKXtyZXR1cm57ZHg6MCxkeTowLHNjYWxlOjEsYWxwaGE6MSxmaWxsQWxwaGE6MSxzdHJva2VBbHBoYToxLGZpbGxDb2xvcjpudWxsLGdyYWRpZW50RmlsbEFscGhhOjEsZ3JhZGllbnRDb2xvcjpudWxsLGdyYWRpZW50QWxwaGE6MSxncmFkaWVudERpcmVjdGlvbjpudWxsLHN0cm9rZUNvbG9yOm51bGwsc3Ryb2tlV2lkdGg6MSxkYXNoZWQ6ITEsZGFzaFBhdHRlcm46IjMgMyIsZml4RGFzaDohMSxsaW5lQ2FwOiJmbGF0IixsaW5lSm9pbjoibWl0ZXIiLG1pdGVyTGltaXQ6MTAsZm9udENvbG9yOiIjMDAwMDAwIixmb250QmFja2dyb3VuZENvbG9yOm51bGwsZm9udEJvcmRlckNvbG9yOm51bGwsZm9udFNpemU6bXhDb25zdGFudHMuREVGQVVMVF9GT05UU0laRSxmb250RmFtaWx5Om14Q29uc3RhbnRzLkRFRkFVTFRfRk9OVEZBTUlMWSxmb250U3R5bGU6MCxzaGFkb3c6ITEsc2hhZG93Q29sb3I6bXhDb25zdGFudHMuU0hBRE9XQ09MT1IsCnNoYWRvd0FscGhhOm14Q29uc3RhbnRzLlNIQURPV19PUEFDSVRZLHNoYWRvd0R4Om14Q29uc3RhbnRzLlNIQURPV19PRkZTRVRfWCxzaGFkb3dEeTpteENvbnN0YW50cy5TSEFET1dfT0ZGU0VUX1kscm90YXRpb246MCxyb3RhdGlvbkN4OjAscm90YXRpb25DeTowfX07bXhBYnN0cmFjdENhbnZhczJELnByb3RvdHlwZS5mb3JtYXQ9ZnVuY3Rpb24oYSl7cmV0dXJuIE1hdGgucm91bmQocGFyc2VGbG9hdChhKSl9OwpteEFic3RyYWN0Q2FudmFzMkQucHJvdG90eXBlLmFkZE9wPWZ1bmN0aW9uKCl7aWYobnVsbCE9dGhpcy5wYXRoJiYodGhpcy5wYXRoLnB1c2goYXJndW1lbnRzWzBdKSwyPGFyZ3VtZW50cy5sZW5ndGgpKWZvcih2YXIgYT10aGlzLnN0YXRlLGI9MjtiPGFyZ3VtZW50cy5sZW5ndGg7Yis9Mil0aGlzLmxhc3RYPWFyZ3VtZW50c1tiLTFdLHRoaXMubGFzdFk9YXJndW1lbnRzW2JdLHRoaXMucGF0aC5wdXNoKHRoaXMuZm9ybWF0KCh0aGlzLmxhc3RYK2EuZHgpKmEuc2NhbGUpKSx0aGlzLnBhdGgucHVzaCh0aGlzLmZvcm1hdCgodGhpcy5sYXN0WSthLmR5KSphLnNjYWxlKSl9O214QWJzdHJhY3RDYW52YXMyRC5wcm90b3R5cGUucm90YXRlUG9pbnQ9ZnVuY3Rpb24oYSxiLGMsZCxlKXtjKj1NYXRoLlBJLzE4MDtyZXR1cm4gbXhVdGlscy5nZXRSb3RhdGVkUG9pbnQobmV3IG14UG9pbnQoYSxiKSxNYXRoLmNvcyhjKSxNYXRoLnNpbihjKSxuZXcgbXhQb2ludChkLGUpKX07Cm14QWJzdHJhY3RDYW52YXMyRC5wcm90b3R5cGUuc2F2ZT1mdW5jdGlvbigpe3RoaXMuc3RhdGVzLnB1c2godGhpcy5zdGF0ZSk7dGhpcy5zdGF0ZT1teFV0aWxzLmNsb25lKHRoaXMuc3RhdGUpfTtteEFic3RyYWN0Q2FudmFzMkQucHJvdG90eXBlLnJlc3RvcmU9ZnVuY3Rpb24oKXswPHRoaXMuc3RhdGVzLmxlbmd0aCYmKHRoaXMuc3RhdGU9dGhpcy5zdGF0ZXMucG9wKCkpfTtteEFic3RyYWN0Q2FudmFzMkQucHJvdG90eXBlLnNldExpbms9ZnVuY3Rpb24oYSl7fTtteEFic3RyYWN0Q2FudmFzMkQucHJvdG90eXBlLnNjYWxlPWZ1bmN0aW9uKGEpe3RoaXMuc3RhdGUuc2NhbGUqPWE7dGhpcy5zdGF0ZS5zdHJva2VXaWR0aCo9YX07bXhBYnN0cmFjdENhbnZhczJELnByb3RvdHlwZS50cmFuc2xhdGU9ZnVuY3Rpb24oYSxiKXt0aGlzLnN0YXRlLmR4Kz1hO3RoaXMuc3RhdGUuZHkrPWJ9O214QWJzdHJhY3RDYW52YXMyRC5wcm90b3R5cGUucm90YXRlPWZ1bmN0aW9uKGEsYixjLGQsZSl7fTsKbXhBYnN0cmFjdENhbnZhczJELnByb3RvdHlwZS5zZXRBbHBoYT1mdW5jdGlvbihhKXt0aGlzLnN0YXRlLmFscGhhPWF9O214QWJzdHJhY3RDYW52YXMyRC5wcm90b3R5cGUuc2V0RmlsbEFscGhhPWZ1bmN0aW9uKGEpe3RoaXMuc3RhdGUuZmlsbEFscGhhPWF9O214QWJzdHJhY3RDYW52YXMyRC5wcm90b3R5cGUuc2V0U3Ryb2tlQWxwaGE9ZnVuY3Rpb24oYSl7dGhpcy5zdGF0ZS5zdHJva2VBbHBoYT1hfTtteEFic3RyYWN0Q2FudmFzMkQucHJvdG90eXBlLnNldEZpbGxDb2xvcj1mdW5jdGlvbihhKXthPT1teENvbnN0YW50cy5OT05FJiYoYT1udWxsKTt0aGlzLnN0YXRlLmZpbGxDb2xvcj1hO3RoaXMuc3RhdGUuZ3JhZGllbnRDb2xvcj1udWxsfTsKbXhBYnN0cmFjdENhbnZhczJELnByb3RvdHlwZS5zZXRHcmFkaWVudD1mdW5jdGlvbihhLGIsYyxkLGUsZixnLGssbCl7Yz10aGlzLnN0YXRlO2MuZmlsbENvbG9yPWE7Yy5ncmFkaWVudEZpbGxBbHBoYT1udWxsIT1rP2s6MTtjLmdyYWRpZW50Q29sb3I9YjtjLmdyYWRpZW50QWxwaGE9bnVsbCE9bD9sOjE7Yy5ncmFkaWVudERpcmVjdGlvbj1nfTtteEFic3RyYWN0Q2FudmFzMkQucHJvdG90eXBlLnNldFN0cm9rZUNvbG9yPWZ1bmN0aW9uKGEpe2E9PW14Q29uc3RhbnRzLk5PTkUmJihhPW51bGwpO3RoaXMuc3RhdGUuc3Ryb2tlQ29sb3I9YX07bXhBYnN0cmFjdENhbnZhczJELnByb3RvdHlwZS5zZXRTdHJva2VXaWR0aD1mdW5jdGlvbihhKXt0aGlzLnN0YXRlLnN0cm9rZVdpZHRoPWF9O214QWJzdHJhY3RDYW52YXMyRC5wcm90b3R5cGUuc2V0RGFzaGVkPWZ1bmN0aW9uKGEsYil7dGhpcy5zdGF0ZS5kYXNoZWQ9YTt0aGlzLnN0YXRlLmZpeERhc2g9Yn07Cm14QWJzdHJhY3RDYW52YXMyRC5wcm90b3R5cGUuc2V0RGFzaFBhdHRlcm49ZnVuY3Rpb24oYSl7dGhpcy5zdGF0ZS5kYXNoUGF0dGVybj1hfTtteEFic3RyYWN0Q2FudmFzMkQucHJvdG90eXBlLnNldExpbmVDYXA9ZnVuY3Rpb24oYSl7dGhpcy5zdGF0ZS5saW5lQ2FwPWF9O214QWJzdHJhY3RDYW52YXMyRC5wcm90b3R5cGUuc2V0TGluZUpvaW49ZnVuY3Rpb24oYSl7dGhpcy5zdGF0ZS5saW5lSm9pbj1hfTtteEFic3RyYWN0Q2FudmFzMkQucHJvdG90eXBlLnNldE1pdGVyTGltaXQ9ZnVuY3Rpb24oYSl7dGhpcy5zdGF0ZS5taXRlckxpbWl0PWF9O214QWJzdHJhY3RDYW52YXMyRC5wcm90b3R5cGUuc2V0Rm9udENvbG9yPWZ1bmN0aW9uKGEpe2E9PW14Q29uc3RhbnRzLk5PTkUmJihhPW51bGwpO3RoaXMuc3RhdGUuZm9udENvbG9yPWF9OwpteEFic3RyYWN0Q2FudmFzMkQucHJvdG90eXBlLnNldEZvbnRCYWNrZ3JvdW5kQ29sb3I9ZnVuY3Rpb24oYSl7YT09bXhDb25zdGFudHMuTk9ORSYmKGE9bnVsbCk7dGhpcy5zdGF0ZS5mb250QmFja2dyb3VuZENvbG9yPWF9O214QWJzdHJhY3RDYW52YXMyRC5wcm90b3R5cGUuc2V0Rm9udEJvcmRlckNvbG9yPWZ1bmN0aW9uKGEpe2E9PW14Q29uc3RhbnRzLk5PTkUmJihhPW51bGwpO3RoaXMuc3RhdGUuZm9udEJvcmRlckNvbG9yPWF9O214QWJzdHJhY3RDYW52YXMyRC5wcm90b3R5cGUuc2V0Rm9udFNpemU9ZnVuY3Rpb24oYSl7dGhpcy5zdGF0ZS5mb250U2l6ZT1wYXJzZUZsb2F0KGEpfTtteEFic3RyYWN0Q2FudmFzMkQucHJvdG90eXBlLnNldEZvbnRGYW1pbHk9ZnVuY3Rpb24oYSl7dGhpcy5zdGF0ZS5mb250RmFtaWx5PWF9OwpteEFic3RyYWN0Q2FudmFzMkQucHJvdG90eXBlLnNldEZvbnRTdHlsZT1mdW5jdGlvbihhKXtudWxsPT1hJiYoYT0wKTt0aGlzLnN0YXRlLmZvbnRTdHlsZT1hfTtteEFic3RyYWN0Q2FudmFzMkQucHJvdG90eXBlLnNldFNoYWRvdz1mdW5jdGlvbihhKXt0aGlzLnN0YXRlLnNoYWRvdz1hfTtteEFic3RyYWN0Q2FudmFzMkQucHJvdG90eXBlLnNldFNoYWRvd0NvbG9yPWZ1bmN0aW9uKGEpe2E9PW14Q29uc3RhbnRzLk5PTkUmJihhPW51bGwpO3RoaXMuc3RhdGUuc2hhZG93Q29sb3I9YX07bXhBYnN0cmFjdENhbnZhczJELnByb3RvdHlwZS5zZXRTaGFkb3dBbHBoYT1mdW5jdGlvbihhKXt0aGlzLnN0YXRlLnNoYWRvd0FscGhhPWF9O214QWJzdHJhY3RDYW52YXMyRC5wcm90b3R5cGUuc2V0U2hhZG93T2Zmc2V0PWZ1bmN0aW9uKGEsYil7dGhpcy5zdGF0ZS5zaGFkb3dEeD1hO3RoaXMuc3RhdGUuc2hhZG93RHk9Yn07Cm14QWJzdHJhY3RDYW52YXMyRC5wcm90b3R5cGUuYmVnaW49ZnVuY3Rpb24oKXt0aGlzLmxhc3RZPXRoaXMubGFzdFg9MDt0aGlzLnBhdGg9W119O214QWJzdHJhY3RDYW52YXMyRC5wcm90b3R5cGUubW92ZVRvPWZ1bmN0aW9uKGEsYil7dGhpcy5hZGRPcCh0aGlzLm1vdmVPcCxhLGIpfTtteEFic3RyYWN0Q2FudmFzMkQucHJvdG90eXBlLmxpbmVUbz1mdW5jdGlvbihhLGIpe3RoaXMuYWRkT3AodGhpcy5saW5lT3AsYSxiKX07bXhBYnN0cmFjdENhbnZhczJELnByb3RvdHlwZS5xdWFkVG89ZnVuY3Rpb24oYSxiLGMsZCl7dGhpcy5hZGRPcCh0aGlzLnF1YWRPcCxhLGIsYyxkKX07bXhBYnN0cmFjdENhbnZhczJELnByb3RvdHlwZS5jdXJ2ZVRvPWZ1bmN0aW9uKGEsYixjLGQsZSxmKXt0aGlzLmFkZE9wKHRoaXMuY3VydmVPcCxhLGIsYyxkLGUsZil9OwpteEFic3RyYWN0Q2FudmFzMkQucHJvdG90eXBlLmFyY1RvPWZ1bmN0aW9uKGEsYixjLGQsZSxmLGcpe2E9bXhVdGlscy5hcmNUb0N1cnZlcyh0aGlzLmxhc3RYLHRoaXMubGFzdFksYSxiLGMsZCxlLGYsZyk7aWYobnVsbCE9YSlmb3IoYj0wO2I8YS5sZW5ndGg7Yis9Nil0aGlzLmN1cnZlVG8oYVtiXSxhW2IrMV0sYVtiKzJdLGFbYiszXSxhW2IrNF0sYVtiKzVdKX07bXhBYnN0cmFjdENhbnZhczJELnByb3RvdHlwZS5jbG9zZT1mdW5jdGlvbihhLGIsYyxkLGUsZil7dGhpcy5hZGRPcCh0aGlzLmNsb3NlT3ApfTtteEFic3RyYWN0Q2FudmFzMkQucHJvdG90eXBlLmVuZD1mdW5jdGlvbigpe307ZnVuY3Rpb24gbXhYbWxDYW52YXMyRChhKXtteEFic3RyYWN0Q2FudmFzMkQuY2FsbCh0aGlzKTt0aGlzLnJvb3Q9YTt0aGlzLndyaXRlRGVmYXVsdHMoKX1teFV0aWxzLmV4dGVuZChteFhtbENhbnZhczJELG14QWJzdHJhY3RDYW52YXMyRCk7Cm14WG1sQ2FudmFzMkQucHJvdG90eXBlLnRleHRFbmFibGVkPSEwO214WG1sQ2FudmFzMkQucHJvdG90eXBlLmNvbXByZXNzZWQ9ITA7Cm14WG1sQ2FudmFzMkQucHJvdG90eXBlLndyaXRlRGVmYXVsdHM9ZnVuY3Rpb24oKXt2YXIgYTthPXRoaXMuY3JlYXRlRWxlbWVudCgiZm9udGZhbWlseSIpO2Euc2V0QXR0cmlidXRlKCJmYW1pbHkiLG14Q29uc3RhbnRzLkRFRkFVTFRfRk9OVEZBTUlMWSk7dGhpcy5yb290LmFwcGVuZENoaWxkKGEpO2E9dGhpcy5jcmVhdGVFbGVtZW50KCJmb250c2l6ZSIpO2Euc2V0QXR0cmlidXRlKCJzaXplIixteENvbnN0YW50cy5ERUZBVUxUX0ZPTlRTSVpFKTt0aGlzLnJvb3QuYXBwZW5kQ2hpbGQoYSk7YT10aGlzLmNyZWF0ZUVsZW1lbnQoInNoYWRvd2NvbG9yIik7YS5zZXRBdHRyaWJ1dGUoImNvbG9yIixteENvbnN0YW50cy5TSEFET1dDT0xPUik7dGhpcy5yb290LmFwcGVuZENoaWxkKGEpO2E9dGhpcy5jcmVhdGVFbGVtZW50KCJzaGFkb3dhbHBoYSIpO2Euc2V0QXR0cmlidXRlKCJhbHBoYSIsbXhDb25zdGFudHMuU0hBRE9XX09QQUNJVFkpO3RoaXMucm9vdC5hcHBlbmRDaGlsZChhKTsKYT10aGlzLmNyZWF0ZUVsZW1lbnQoInNoYWRvd29mZnNldCIpO2Euc2V0QXR0cmlidXRlKCJkeCIsbXhDb25zdGFudHMuU0hBRE9XX09GRlNFVF9YKTthLnNldEF0dHJpYnV0ZSgiZHkiLG14Q29uc3RhbnRzLlNIQURPV19PRkZTRVRfWSk7dGhpcy5yb290LmFwcGVuZENoaWxkKGEpfTtteFhtbENhbnZhczJELnByb3RvdHlwZS5mb3JtYXQ9ZnVuY3Rpb24oYSl7cmV0dXJuIHBhcnNlRmxvYXQocGFyc2VGbG9hdChhKS50b0ZpeGVkKDIpKX07bXhYbWxDYW52YXMyRC5wcm90b3R5cGUuY3JlYXRlRWxlbWVudD1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5yb290Lm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudChhKX07bXhYbWxDYW52YXMyRC5wcm90b3R5cGUuc2F2ZT1mdW5jdGlvbigpe3RoaXMuY29tcHJlc3NlZCYmbXhBYnN0cmFjdENhbnZhczJELnByb3RvdHlwZS5zYXZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLnJvb3QuYXBwZW5kQ2hpbGQodGhpcy5jcmVhdGVFbGVtZW50KCJzYXZlIikpfTsKbXhYbWxDYW52YXMyRC5wcm90b3R5cGUucmVzdG9yZT1mdW5jdGlvbigpe3RoaXMuY29tcHJlc3NlZCYmbXhBYnN0cmFjdENhbnZhczJELnByb3RvdHlwZS5yZXN0b3JlLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLnJvb3QuYXBwZW5kQ2hpbGQodGhpcy5jcmVhdGVFbGVtZW50KCJyZXN0b3JlIikpfTtteFhtbENhbnZhczJELnByb3RvdHlwZS5zY2FsZT1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnQoInNjYWxlIik7Yi5zZXRBdHRyaWJ1dGUoInNjYWxlIixhKTt0aGlzLnJvb3QuYXBwZW5kQ2hpbGQoYil9O214WG1sQ2FudmFzMkQucHJvdG90eXBlLnRyYW5zbGF0ZT1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuY3JlYXRlRWxlbWVudCgidHJhbnNsYXRlIik7Yy5zZXRBdHRyaWJ1dGUoImR4Iix0aGlzLmZvcm1hdChhKSk7Yy5zZXRBdHRyaWJ1dGUoImR5Iix0aGlzLmZvcm1hdChiKSk7dGhpcy5yb290LmFwcGVuZENoaWxkKGMpfTsKbXhYbWxDYW52YXMyRC5wcm90b3R5cGUucm90YXRlPWZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9dGhpcy5jcmVhdGVFbGVtZW50KCJyb3RhdGUiKTtpZigwIT1hfHxifHxjKWYuc2V0QXR0cmlidXRlKCJ0aGV0YSIsdGhpcy5mb3JtYXQoYSkpLGYuc2V0QXR0cmlidXRlKCJmbGlwSCIsYj8iMSI6IjAiKSxmLnNldEF0dHJpYnV0ZSgiZmxpcFYiLGM/IjEiOiIwIiksZi5zZXRBdHRyaWJ1dGUoImN4Iix0aGlzLmZvcm1hdChkKSksZi5zZXRBdHRyaWJ1dGUoImN5Iix0aGlzLmZvcm1hdChlKSksdGhpcy5yb290LmFwcGVuZENoaWxkKGYpfTsKbXhYbWxDYW52YXMyRC5wcm90b3R5cGUuc2V0QWxwaGE9ZnVuY3Rpb24oYSl7aWYodGhpcy5jb21wcmVzc2VkKXtpZih0aGlzLnN0YXRlLmFscGhhPT1hKXJldHVybjtteEFic3RyYWN0Q2FudmFzMkQucHJvdG90eXBlLnNldEFscGhhLmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnQoImFscGhhIik7Yi5zZXRBdHRyaWJ1dGUoImFscGhhIix0aGlzLmZvcm1hdChhKSk7dGhpcy5yb290LmFwcGVuZENoaWxkKGIpfTtteFhtbENhbnZhczJELnByb3RvdHlwZS5zZXRGaWxsQWxwaGE9ZnVuY3Rpb24oYSl7aWYodGhpcy5jb21wcmVzc2VkKXtpZih0aGlzLnN0YXRlLmZpbGxBbHBoYT09YSlyZXR1cm47bXhBYnN0cmFjdENhbnZhczJELnByb3RvdHlwZS5zZXRGaWxsQWxwaGEuYXBwbHkodGhpcyxhcmd1bWVudHMpfXZhciBiPXRoaXMuY3JlYXRlRWxlbWVudCgiZmlsbGFscGhhIik7Yi5zZXRBdHRyaWJ1dGUoImFscGhhIix0aGlzLmZvcm1hdChhKSk7dGhpcy5yb290LmFwcGVuZENoaWxkKGIpfTsKbXhYbWxDYW52YXMyRC5wcm90b3R5cGUuc2V0U3Ryb2tlQWxwaGE9ZnVuY3Rpb24oYSl7aWYodGhpcy5jb21wcmVzc2VkKXtpZih0aGlzLnN0YXRlLnN0cm9rZUFscGhhPT1hKXJldHVybjtteEFic3RyYWN0Q2FudmFzMkQucHJvdG90eXBlLnNldFN0cm9rZUFscGhhLmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnQoInN0cm9rZWFscGhhIik7Yi5zZXRBdHRyaWJ1dGUoImFscGhhIix0aGlzLmZvcm1hdChhKSk7dGhpcy5yb290LmFwcGVuZENoaWxkKGIpfTsKbXhYbWxDYW52YXMyRC5wcm90b3R5cGUuc2V0RmlsbENvbG9yPWZ1bmN0aW9uKGEpe2E9PW14Q29uc3RhbnRzLk5PTkUmJihhPW51bGwpO2lmKHRoaXMuY29tcHJlc3NlZCl7aWYodGhpcy5zdGF0ZS5maWxsQ29sb3I9PWEpcmV0dXJuO214QWJzdHJhY3RDYW52YXMyRC5wcm90b3R5cGUuc2V0RmlsbENvbG9yLmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnQoImZpbGxjb2xvciIpO2Iuc2V0QXR0cmlidXRlKCJjb2xvciIsbnVsbCE9YT9hOm14Q29uc3RhbnRzLk5PTkUpO3RoaXMucm9vdC5hcHBlbmRDaGlsZChiKX07Cm14WG1sQ2FudmFzMkQucHJvdG90eXBlLnNldEdyYWRpZW50PWZ1bmN0aW9uKGEsYixjLGQsZSxmLGcsayxsKXtpZihudWxsIT1hJiZudWxsIT1iKXtteEFic3RyYWN0Q2FudmFzMkQucHJvdG90eXBlLnNldEdyYWRpZW50LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt2YXIgbT10aGlzLmNyZWF0ZUVsZW1lbnQoImdyYWRpZW50Iik7bS5zZXRBdHRyaWJ1dGUoImMxIixhKTttLnNldEF0dHJpYnV0ZSgiYzIiLGIpO20uc2V0QXR0cmlidXRlKCJ4Iix0aGlzLmZvcm1hdChjKSk7bS5zZXRBdHRyaWJ1dGUoInkiLHRoaXMuZm9ybWF0KGQpKTttLnNldEF0dHJpYnV0ZSgidyIsdGhpcy5mb3JtYXQoZSkpO20uc2V0QXR0cmlidXRlKCJoIix0aGlzLmZvcm1hdChmKSk7bnVsbCE9ZyYmbS5zZXRBdHRyaWJ1dGUoImRpcmVjdGlvbiIsZyk7bnVsbCE9ayYmbS5zZXRBdHRyaWJ1dGUoImFscGhhMSIsayk7bnVsbCE9bCYmbS5zZXRBdHRyaWJ1dGUoImFscGhhMiIsbCk7dGhpcy5yb290LmFwcGVuZENoaWxkKG0pfX07Cm14WG1sQ2FudmFzMkQucHJvdG90eXBlLnNldFN0cm9rZUNvbG9yPWZ1bmN0aW9uKGEpe2E9PW14Q29uc3RhbnRzLk5PTkUmJihhPW51bGwpO2lmKHRoaXMuY29tcHJlc3NlZCl7aWYodGhpcy5zdGF0ZS5zdHJva2VDb2xvcj09YSlyZXR1cm47bXhBYnN0cmFjdENhbnZhczJELnByb3RvdHlwZS5zZXRTdHJva2VDb2xvci5hcHBseSh0aGlzLGFyZ3VtZW50cyl9dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50KCJzdHJva2Vjb2xvciIpO2Iuc2V0QXR0cmlidXRlKCJjb2xvciIsbnVsbCE9YT9hOm14Q29uc3RhbnRzLk5PTkUpO3RoaXMucm9vdC5hcHBlbmRDaGlsZChiKX07Cm14WG1sQ2FudmFzMkQucHJvdG90eXBlLnNldFN0cm9rZVdpZHRoPWZ1bmN0aW9uKGEpe2lmKHRoaXMuY29tcHJlc3NlZCl7aWYodGhpcy5zdGF0ZS5zdHJva2VXaWR0aD09YSlyZXR1cm47bXhBYnN0cmFjdENhbnZhczJELnByb3RvdHlwZS5zZXRTdHJva2VXaWR0aC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50KCJzdHJva2V3aWR0aCIpO2Iuc2V0QXR0cmlidXRlKCJ3aWR0aCIsdGhpcy5mb3JtYXQoYSkpO3RoaXMucm9vdC5hcHBlbmRDaGlsZChiKX07Cm14WG1sQ2FudmFzMkQucHJvdG90eXBlLnNldERhc2hlZD1mdW5jdGlvbihhLGIpe2lmKHRoaXMuY29tcHJlc3NlZCl7aWYodGhpcy5zdGF0ZS5kYXNoZWQ9PWEpcmV0dXJuO214QWJzdHJhY3RDYW52YXMyRC5wcm90b3R5cGUuc2V0RGFzaGVkLmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgYz10aGlzLmNyZWF0ZUVsZW1lbnQoImRhc2hlZCIpO2Muc2V0QXR0cmlidXRlKCJkYXNoZWQiLGE/IjEiOiIwIik7bnVsbCE9YiYmYy5zZXRBdHRyaWJ1dGUoImZpeERhc2giLGI/IjEiOiIwIik7dGhpcy5yb290LmFwcGVuZENoaWxkKGMpfTsKbXhYbWxDYW52YXMyRC5wcm90b3R5cGUuc2V0RGFzaFBhdHRlcm49ZnVuY3Rpb24oYSl7aWYodGhpcy5jb21wcmVzc2VkKXtpZih0aGlzLnN0YXRlLmRhc2hQYXR0ZXJuPT1hKXJldHVybjtteEFic3RyYWN0Q2FudmFzMkQucHJvdG90eXBlLnNldERhc2hQYXR0ZXJuLmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnQoImRhc2hwYXR0ZXJuIik7Yi5zZXRBdHRyaWJ1dGUoInBhdHRlcm4iLGEpO3RoaXMucm9vdC5hcHBlbmRDaGlsZChiKX07bXhYbWxDYW52YXMyRC5wcm90b3R5cGUuc2V0TGluZUNhcD1mdW5jdGlvbihhKXtpZih0aGlzLmNvbXByZXNzZWQpe2lmKHRoaXMuc3RhdGUubGluZUNhcD09YSlyZXR1cm47bXhBYnN0cmFjdENhbnZhczJELnByb3RvdHlwZS5zZXRMaW5lQ2FwLmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnQoImxpbmVjYXAiKTtiLnNldEF0dHJpYnV0ZSgiY2FwIixhKTt0aGlzLnJvb3QuYXBwZW5kQ2hpbGQoYil9OwpteFhtbENhbnZhczJELnByb3RvdHlwZS5zZXRMaW5lSm9pbj1mdW5jdGlvbihhKXtpZih0aGlzLmNvbXByZXNzZWQpe2lmKHRoaXMuc3RhdGUubGluZUpvaW49PWEpcmV0dXJuO214QWJzdHJhY3RDYW52YXMyRC5wcm90b3R5cGUuc2V0TGluZUpvaW4uYXBwbHkodGhpcyxhcmd1bWVudHMpfXZhciBiPXRoaXMuY3JlYXRlRWxlbWVudCgibGluZWpvaW4iKTtiLnNldEF0dHJpYnV0ZSgiam9pbiIsYSk7dGhpcy5yb290LmFwcGVuZENoaWxkKGIpfTtteFhtbENhbnZhczJELnByb3RvdHlwZS5zZXRNaXRlckxpbWl0PWZ1bmN0aW9uKGEpe2lmKHRoaXMuY29tcHJlc3NlZCl7aWYodGhpcy5zdGF0ZS5taXRlckxpbWl0PT1hKXJldHVybjtteEFic3RyYWN0Q2FudmFzMkQucHJvdG90eXBlLnNldE1pdGVyTGltaXQuYXBwbHkodGhpcyxhcmd1bWVudHMpfXZhciBiPXRoaXMuY3JlYXRlRWxlbWVudCgibWl0ZXJsaW1pdCIpO2Iuc2V0QXR0cmlidXRlKCJsaW1pdCIsYSk7dGhpcy5yb290LmFwcGVuZENoaWxkKGIpfTsKbXhYbWxDYW52YXMyRC5wcm90b3R5cGUuc2V0Rm9udENvbG9yPWZ1bmN0aW9uKGEpe2lmKHRoaXMudGV4dEVuYWJsZWQpe2E9PW14Q29uc3RhbnRzLk5PTkUmJihhPW51bGwpO2lmKHRoaXMuY29tcHJlc3NlZCl7aWYodGhpcy5zdGF0ZS5mb250Q29sb3I9PWEpcmV0dXJuO214QWJzdHJhY3RDYW52YXMyRC5wcm90b3R5cGUuc2V0Rm9udENvbG9yLmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnQoImZvbnRjb2xvciIpO2Iuc2V0QXR0cmlidXRlKCJjb2xvciIsbnVsbCE9YT9hOm14Q29uc3RhbnRzLk5PTkUpO3RoaXMucm9vdC5hcHBlbmRDaGlsZChiKX19OwpteFhtbENhbnZhczJELnByb3RvdHlwZS5zZXRGb250QmFja2dyb3VuZENvbG9yPWZ1bmN0aW9uKGEpe2lmKHRoaXMudGV4dEVuYWJsZWQpe2E9PW14Q29uc3RhbnRzLk5PTkUmJihhPW51bGwpO2lmKHRoaXMuY29tcHJlc3NlZCl7aWYodGhpcy5zdGF0ZS5mb250QmFja2dyb3VuZENvbG9yPT1hKXJldHVybjtteEFic3RyYWN0Q2FudmFzMkQucHJvdG90eXBlLnNldEZvbnRCYWNrZ3JvdW5kQ29sb3IuYXBwbHkodGhpcyxhcmd1bWVudHMpfXZhciBiPXRoaXMuY3JlYXRlRWxlbWVudCgiZm9udGJhY2tncm91bmRjb2xvciIpO2Iuc2V0QXR0cmlidXRlKCJjb2xvciIsbnVsbCE9YT9hOm14Q29uc3RhbnRzLk5PTkUpO3RoaXMucm9vdC5hcHBlbmRDaGlsZChiKX19OwpteFhtbENhbnZhczJELnByb3RvdHlwZS5zZXRGb250Qm9yZGVyQ29sb3I9ZnVuY3Rpb24oYSl7aWYodGhpcy50ZXh0RW5hYmxlZCl7YT09bXhDb25zdGFudHMuTk9ORSYmKGE9bnVsbCk7aWYodGhpcy5jb21wcmVzc2VkKXtpZih0aGlzLnN0YXRlLmZvbnRCb3JkZXJDb2xvcj09YSlyZXR1cm47bXhBYnN0cmFjdENhbnZhczJELnByb3RvdHlwZS5zZXRGb250Qm9yZGVyQ29sb3IuYXBwbHkodGhpcyxhcmd1bWVudHMpfXZhciBiPXRoaXMuY3JlYXRlRWxlbWVudCgiZm9udGJvcmRlcmNvbG9yIik7Yi5zZXRBdHRyaWJ1dGUoImNvbG9yIixudWxsIT1hP2E6bXhDb25zdGFudHMuTk9ORSk7dGhpcy5yb290LmFwcGVuZENoaWxkKGIpfX07Cm14WG1sQ2FudmFzMkQucHJvdG90eXBlLnNldEZvbnRTaXplPWZ1bmN0aW9uKGEpe2lmKHRoaXMudGV4dEVuYWJsZWQpe2lmKHRoaXMuY29tcHJlc3NlZCl7aWYodGhpcy5zdGF0ZS5mb250U2l6ZT09YSlyZXR1cm47bXhBYnN0cmFjdENhbnZhczJELnByb3RvdHlwZS5zZXRGb250U2l6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50KCJmb250c2l6ZSIpO2Iuc2V0QXR0cmlidXRlKCJzaXplIixhKTt0aGlzLnJvb3QuYXBwZW5kQ2hpbGQoYil9fTsKbXhYbWxDYW52YXMyRC5wcm90b3R5cGUuc2V0Rm9udEZhbWlseT1mdW5jdGlvbihhKXtpZih0aGlzLnRleHRFbmFibGVkKXtpZih0aGlzLmNvbXByZXNzZWQpe2lmKHRoaXMuc3RhdGUuZm9udEZhbWlseT09YSlyZXR1cm47bXhBYnN0cmFjdENhbnZhczJELnByb3RvdHlwZS5zZXRGb250RmFtaWx5LmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnQoImZvbnRmYW1pbHkiKTtiLnNldEF0dHJpYnV0ZSgiZmFtaWx5IixhKTt0aGlzLnJvb3QuYXBwZW5kQ2hpbGQoYil9fTsKbXhYbWxDYW52YXMyRC5wcm90b3R5cGUuc2V0Rm9udFN0eWxlPWZ1bmN0aW9uKGEpe2lmKHRoaXMudGV4dEVuYWJsZWQpe251bGw9PWEmJihhPTApO2lmKHRoaXMuY29tcHJlc3NlZCl7aWYodGhpcy5zdGF0ZS5mb250U3R5bGU9PWEpcmV0dXJuO214QWJzdHJhY3RDYW52YXMyRC5wcm90b3R5cGUuc2V0Rm9udFN0eWxlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnQoImZvbnRzdHlsZSIpO2Iuc2V0QXR0cmlidXRlKCJzdHlsZSIsYSk7dGhpcy5yb290LmFwcGVuZENoaWxkKGIpfX07Cm14WG1sQ2FudmFzMkQucHJvdG90eXBlLnNldFNoYWRvdz1mdW5jdGlvbihhKXtpZih0aGlzLmNvbXByZXNzZWQpe2lmKHRoaXMuc3RhdGUuc2hhZG93PT1hKXJldHVybjtteEFic3RyYWN0Q2FudmFzMkQucHJvdG90eXBlLnNldFNoYWRvdy5hcHBseSh0aGlzLGFyZ3VtZW50cyl9dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50KCJzaGFkb3ciKTtiLnNldEF0dHJpYnV0ZSgiZW5hYmxlZCIsYT8iMSI6IjAiKTt0aGlzLnJvb3QuYXBwZW5kQ2hpbGQoYil9OwpteFhtbENhbnZhczJELnByb3RvdHlwZS5zZXRTaGFkb3dDb2xvcj1mdW5jdGlvbihhKXtpZih0aGlzLmNvbXByZXNzZWQpe2E9PW14Q29uc3RhbnRzLk5PTkUmJihhPW51bGwpO2lmKHRoaXMuc3RhdGUuc2hhZG93Q29sb3I9PWEpcmV0dXJuO214QWJzdHJhY3RDYW52YXMyRC5wcm90b3R5cGUuc2V0U2hhZG93Q29sb3IuYXBwbHkodGhpcyxhcmd1bWVudHMpfXZhciBiPXRoaXMuY3JlYXRlRWxlbWVudCgic2hhZG93Y29sb3IiKTtiLnNldEF0dHJpYnV0ZSgiY29sb3IiLG51bGwhPWE/YTpteENvbnN0YW50cy5OT05FKTt0aGlzLnJvb3QuYXBwZW5kQ2hpbGQoYil9OwpteFhtbENhbnZhczJELnByb3RvdHlwZS5zZXRTaGFkb3dBbHBoYT1mdW5jdGlvbihhKXtpZih0aGlzLmNvbXByZXNzZWQpe2lmKHRoaXMuc3RhdGUuc2hhZG93QWxwaGE9PWEpcmV0dXJuO214QWJzdHJhY3RDYW52YXMyRC5wcm90b3R5cGUuc2V0U2hhZG93QWxwaGEuYXBwbHkodGhpcyxhcmd1bWVudHMpfXZhciBiPXRoaXMuY3JlYXRlRWxlbWVudCgic2hhZG93YWxwaGEiKTtiLnNldEF0dHJpYnV0ZSgiYWxwaGEiLGEpO3RoaXMucm9vdC5hcHBlbmRDaGlsZChiKX07Cm14WG1sQ2FudmFzMkQucHJvdG90eXBlLnNldFNoYWRvd09mZnNldD1mdW5jdGlvbihhLGIpe2lmKHRoaXMuY29tcHJlc3NlZCl7aWYodGhpcy5zdGF0ZS5zaGFkb3dEeD09YSYmdGhpcy5zdGF0ZS5zaGFkb3dEeT09YilyZXR1cm47bXhBYnN0cmFjdENhbnZhczJELnByb3RvdHlwZS5zZXRTaGFkb3dPZmZzZXQuYXBwbHkodGhpcyxhcmd1bWVudHMpfXZhciBjPXRoaXMuY3JlYXRlRWxlbWVudCgic2hhZG93b2Zmc2V0Iik7Yy5zZXRBdHRyaWJ1dGUoImR4IixhKTtjLnNldEF0dHJpYnV0ZSgiZHkiLGIpO3RoaXMucm9vdC5hcHBlbmRDaGlsZChjKX07Cm14WG1sQ2FudmFzMkQucHJvdG90eXBlLnJlY3Q9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9dGhpcy5jcmVhdGVFbGVtZW50KCJyZWN0Iik7ZS5zZXRBdHRyaWJ1dGUoIngiLHRoaXMuZm9ybWF0KGEpKTtlLnNldEF0dHJpYnV0ZSgieSIsdGhpcy5mb3JtYXQoYikpO2Uuc2V0QXR0cmlidXRlKCJ3Iix0aGlzLmZvcm1hdChjKSk7ZS5zZXRBdHRyaWJ1dGUoImgiLHRoaXMuZm9ybWF0KGQpKTt0aGlzLnJvb3QuYXBwZW5kQ2hpbGQoZSl9OwpteFhtbENhbnZhczJELnByb3RvdHlwZS5yb3VuZHJlY3Q9ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe3ZhciBnPXRoaXMuY3JlYXRlRWxlbWVudCgicm91bmRyZWN0Iik7Zy5zZXRBdHRyaWJ1dGUoIngiLHRoaXMuZm9ybWF0KGEpKTtnLnNldEF0dHJpYnV0ZSgieSIsdGhpcy5mb3JtYXQoYikpO2cuc2V0QXR0cmlidXRlKCJ3Iix0aGlzLmZvcm1hdChjKSk7Zy5zZXRBdHRyaWJ1dGUoImgiLHRoaXMuZm9ybWF0KGQpKTtnLnNldEF0dHJpYnV0ZSgiZHgiLHRoaXMuZm9ybWF0KGUpKTtnLnNldEF0dHJpYnV0ZSgiZHkiLHRoaXMuZm9ybWF0KGYpKTt0aGlzLnJvb3QuYXBwZW5kQ2hpbGQoZyl9OwpteFhtbENhbnZhczJELnByb3RvdHlwZS5lbGxpcHNlPWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPXRoaXMuY3JlYXRlRWxlbWVudCgiZWxsaXBzZSIpO2Uuc2V0QXR0cmlidXRlKCJ4Iix0aGlzLmZvcm1hdChhKSk7ZS5zZXRBdHRyaWJ1dGUoInkiLHRoaXMuZm9ybWF0KGIpKTtlLnNldEF0dHJpYnV0ZSgidyIsdGhpcy5mb3JtYXQoYykpO2Uuc2V0QXR0cmlidXRlKCJoIix0aGlzLmZvcm1hdChkKSk7dGhpcy5yb290LmFwcGVuZENoaWxkKGUpfTsKbXhYbWxDYW52YXMyRC5wcm90b3R5cGUuaW1hZ2U9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxrKXtlPXRoaXMuY29udmVydGVyLmNvbnZlcnQoZSk7dmFyIGw9dGhpcy5jcmVhdGVFbGVtZW50KCJpbWFnZSIpO2wuc2V0QXR0cmlidXRlKCJ4Iix0aGlzLmZvcm1hdChhKSk7bC5zZXRBdHRyaWJ1dGUoInkiLHRoaXMuZm9ybWF0KGIpKTtsLnNldEF0dHJpYnV0ZSgidyIsdGhpcy5mb3JtYXQoYykpO2wuc2V0QXR0cmlidXRlKCJoIix0aGlzLmZvcm1hdChkKSk7bC5zZXRBdHRyaWJ1dGUoInNyYyIsZSk7bC5zZXRBdHRyaWJ1dGUoImFzcGVjdCIsZj8iMSI6IjAiKTtsLnNldEF0dHJpYnV0ZSgiZmxpcEgiLGc/IjEiOiIwIik7bC5zZXRBdHRyaWJ1dGUoImZsaXBWIixrPyIxIjoiMCIpO3RoaXMucm9vdC5hcHBlbmRDaGlsZChsKX07Cm14WG1sQ2FudmFzMkQucHJvdG90eXBlLmJlZ2luPWZ1bmN0aW9uKCl7dGhpcy5yb290LmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlRWxlbWVudCgiYmVnaW4iKSk7dGhpcy5sYXN0WT10aGlzLmxhc3RYPTB9O214WG1sQ2FudmFzMkQucHJvdG90eXBlLm1vdmVUbz1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuY3JlYXRlRWxlbWVudCgibW92ZSIpO2Muc2V0QXR0cmlidXRlKCJ4Iix0aGlzLmZvcm1hdChhKSk7Yy5zZXRBdHRyaWJ1dGUoInkiLHRoaXMuZm9ybWF0KGIpKTt0aGlzLnJvb3QuYXBwZW5kQ2hpbGQoYyk7dGhpcy5sYXN0WD1hO3RoaXMubGFzdFk9Yn07Cm14WG1sQ2FudmFzMkQucHJvdG90eXBlLmxpbmVUbz1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuY3JlYXRlRWxlbWVudCgibGluZSIpO2Muc2V0QXR0cmlidXRlKCJ4Iix0aGlzLmZvcm1hdChhKSk7Yy5zZXRBdHRyaWJ1dGUoInkiLHRoaXMuZm9ybWF0KGIpKTt0aGlzLnJvb3QuYXBwZW5kQ2hpbGQoYyk7dGhpcy5sYXN0WD1hO3RoaXMubGFzdFk9Yn07bXhYbWxDYW52YXMyRC5wcm90b3R5cGUucXVhZFRvPWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPXRoaXMuY3JlYXRlRWxlbWVudCgicXVhZCIpO2Uuc2V0QXR0cmlidXRlKCJ4MSIsdGhpcy5mb3JtYXQoYSkpO2Uuc2V0QXR0cmlidXRlKCJ5MSIsdGhpcy5mb3JtYXQoYikpO2Uuc2V0QXR0cmlidXRlKCJ4MiIsdGhpcy5mb3JtYXQoYykpO2Uuc2V0QXR0cmlidXRlKCJ5MiIsdGhpcy5mb3JtYXQoZCkpO3RoaXMucm9vdC5hcHBlbmRDaGlsZChlKTt0aGlzLmxhc3RYPWM7dGhpcy5sYXN0WT1kfTsKbXhYbWxDYW52YXMyRC5wcm90b3R5cGUuY3VydmVUbz1mdW5jdGlvbihhLGIsYyxkLGUsZil7dmFyIGc9dGhpcy5jcmVhdGVFbGVtZW50KCJjdXJ2ZSIpO2cuc2V0QXR0cmlidXRlKCJ4MSIsdGhpcy5mb3JtYXQoYSkpO2cuc2V0QXR0cmlidXRlKCJ5MSIsdGhpcy5mb3JtYXQoYikpO2cuc2V0QXR0cmlidXRlKCJ4MiIsdGhpcy5mb3JtYXQoYykpO2cuc2V0QXR0cmlidXRlKCJ5MiIsdGhpcy5mb3JtYXQoZCkpO2cuc2V0QXR0cmlidXRlKCJ4MyIsdGhpcy5mb3JtYXQoZSkpO2cuc2V0QXR0cmlidXRlKCJ5MyIsdGhpcy5mb3JtYXQoZikpO3RoaXMucm9vdC5hcHBlbmRDaGlsZChnKTt0aGlzLmxhc3RYPWU7dGhpcy5sYXN0WT1mfTtteFhtbENhbnZhczJELnByb3RvdHlwZS5jbG9zZT1mdW5jdGlvbigpe3RoaXMucm9vdC5hcHBlbmRDaGlsZCh0aGlzLmNyZWF0ZUVsZW1lbnQoImNsb3NlIikpfTsKbXhYbWxDYW52YXMyRC5wcm90b3R5cGUudGV4dD1mdW5jdGlvbihhLGIsYyxkLGUsZixnLGssbCxtLG4scCxxKXtpZih0aGlzLnRleHRFbmFibGVkJiZudWxsIT1lKXtteFV0aWxzLmlzTm9kZShlKSYmKGU9bXhVdGlscy5nZXRPdXRlckh0bWwoZSkpO3ZhciByPXRoaXMuY3JlYXRlRWxlbWVudCgidGV4dCIpO3Iuc2V0QXR0cmlidXRlKCJ4Iix0aGlzLmZvcm1hdChhKSk7ci5zZXRBdHRyaWJ1dGUoInkiLHRoaXMuZm9ybWF0KGIpKTtyLnNldEF0dHJpYnV0ZSgidyIsdGhpcy5mb3JtYXQoYykpO3Iuc2V0QXR0cmlidXRlKCJoIix0aGlzLmZvcm1hdChkKSk7ci5zZXRBdHRyaWJ1dGUoInN0ciIsZSk7bnVsbCE9ZiYmci5zZXRBdHRyaWJ1dGUoImFsaWduIixmKTtudWxsIT1nJiZyLnNldEF0dHJpYnV0ZSgidmFsaWduIixnKTtyLnNldEF0dHJpYnV0ZSgid3JhcCIsaz8iMSI6IjAiKTtudWxsPT1sJiYobD0iIik7ci5zZXRBdHRyaWJ1dGUoImZvcm1hdCIsbCk7bnVsbCE9bSYmci5zZXRBdHRyaWJ1dGUoIm92ZXJmbG93IiwKbSk7bnVsbCE9biYmci5zZXRBdHRyaWJ1dGUoImNsaXAiLG4/IjEiOiIwIik7bnVsbCE9cCYmci5zZXRBdHRyaWJ1dGUoInJvdGF0aW9uIixwKTtudWxsIT1xJiZyLnNldEF0dHJpYnV0ZSgiZGlyIixxKTt0aGlzLnJvb3QuYXBwZW5kQ2hpbGQocil9fTtteFhtbENhbnZhczJELnByb3RvdHlwZS5zdHJva2U9ZnVuY3Rpb24oKXt0aGlzLnJvb3QuYXBwZW5kQ2hpbGQodGhpcy5jcmVhdGVFbGVtZW50KCJzdHJva2UiKSl9O214WG1sQ2FudmFzMkQucHJvdG90eXBlLmZpbGw9ZnVuY3Rpb24oKXt0aGlzLnJvb3QuYXBwZW5kQ2hpbGQodGhpcy5jcmVhdGVFbGVtZW50KCJmaWxsIikpfTtteFhtbENhbnZhczJELnByb3RvdHlwZS5maWxsQW5kU3Ryb2tlPWZ1bmN0aW9uKCl7dGhpcy5yb290LmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlRWxlbWVudCgiZmlsbHN0cm9rZSIpKX07CmZ1bmN0aW9uIG14U3ZnQ2FudmFzMkQoYSxiKXtteEFic3RyYWN0Q2FudmFzMkQuY2FsbCh0aGlzKTt0aGlzLnJvb3Q9YTt0aGlzLmdyYWRpZW50cz1bXTt0aGlzLmRlZnM9bnVsbDt0aGlzLnN0eWxlRW5hYmxlZD1udWxsIT1iP2I6ITE7dmFyIGM9bnVsbDtpZihhLm93bmVyRG9jdW1lbnQhPWRvY3VtZW50KWZvcihjPWE7bnVsbCE9YyYmInN2ZyIhPWMubm9kZU5hbWU7KWM9Yy5wYXJlbnROb2RlO251bGwhPWMmJigwPGMuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImRlZnMiKS5sZW5ndGgmJih0aGlzLmRlZnM9Yy5nZXRFbGVtZW50c0J5VGFnTmFtZSgiZGVmcyIpWzBdKSxudWxsPT10aGlzLmRlZnMmJih0aGlzLmRlZnM9dGhpcy5jcmVhdGVFbGVtZW50KCJkZWZzIiksbnVsbCE9Yy5maXJzdENoaWxkP2MuaW5zZXJ0QmVmb3JlKHRoaXMuZGVmcyxjLmZpcnN0Q2hpbGQpOmMuYXBwZW5kQ2hpbGQodGhpcy5kZWZzKSksdGhpcy5zdHlsZUVuYWJsZWQmJnRoaXMuZGVmcy5hcHBlbmRDaGlsZCh0aGlzLmNyZWF0ZVN0eWxlKCkpKX0KbXhVdGlscy5leHRlbmQobXhTdmdDYW52YXMyRCxteEFic3RyYWN0Q2FudmFzMkQpOyhmdW5jdGlvbigpe214U3ZnQ2FudmFzMkQucHJvdG90eXBlLnVzZURvbVBhcnNlcj0hbXhDbGllbnQuSVNfSUUmJiJmdW5jdGlvbiI9PT10eXBlb2YgRE9NUGFyc2VyJiYiZnVuY3Rpb24iPT09dHlwZW9mIFhNTFNlcmlhbGl6ZXI7aWYobXhTdmdDYW52YXMyRC5wcm90b3R5cGUudXNlRG9tUGFyc2VyKXRyeXt2YXIgYT0obmV3IERPTVBhcnNlcikucGFyc2VGcm9tU3RyaW5nKCJ0ZXN0IHRleHQiLCJ0ZXh0L2h0bWwiKTtteFN2Z0NhbnZhczJELnByb3RvdHlwZS51c2VEb21QYXJzZXI9bnVsbCE9YX1jYXRjaChiKXtteFN2Z0NhbnZhczJELnByb3RvdHlwZS51c2VEb21QYXJzZXI9ITF9fSkoKTtteFN2Z0NhbnZhczJELnByb3RvdHlwZS5ub2RlPW51bGw7bXhTdmdDYW52YXMyRC5wcm90b3R5cGUubWF0Y2hIdG1sQWxpZ25tZW50PSEwOwpteFN2Z0NhbnZhczJELnByb3RvdHlwZS50ZXh0RW5hYmxlZD0hMDtteFN2Z0NhbnZhczJELnByb3RvdHlwZS5mb0VuYWJsZWQ9ITA7bXhTdmdDYW52YXMyRC5wcm90b3R5cGUuZm9BbHRUZXh0PSJbT2JqZWN0XSI7bXhTdmdDYW52YXMyRC5wcm90b3R5cGUuZm9PZmZzZXQ9MDtteFN2Z0NhbnZhczJELnByb3RvdHlwZS50ZXh0T2Zmc2V0PTA7bXhTdmdDYW52YXMyRC5wcm90b3R5cGUuaW1hZ2VPZmZzZXQ9MDtteFN2Z0NhbnZhczJELnByb3RvdHlwZS5zdHJva2VUb2xlcmFuY2U9MDtteFN2Z0NhbnZhczJELnByb3RvdHlwZS5taW5TdHJva2VXaWR0aD0xO214U3ZnQ2FudmFzMkQucHJvdG90eXBlLnJlZkNvdW50PTA7bXhTdmdDYW52YXMyRC5wcm90b3R5cGUubGluZUhlaWdodENvcnJlY3Rpb249MTtteFN2Z0NhbnZhczJELnByb3RvdHlwZS5wb2ludGVyRXZlbnRzVmFsdWU9ImFsbCI7bXhTdmdDYW52YXMyRC5wcm90b3R5cGUuZm9udE1ldHJpY3NQYWRkaW5nPTEwOwpteFN2Z0NhbnZhczJELnByb3RvdHlwZS5jYWNoZU9mZnNldFNpemU9ITA7bXhTdmdDYW52YXMyRC5wcm90b3R5cGUuZm9ybWF0PWZ1bmN0aW9uKGEpe3JldHVybiBwYXJzZUZsb2F0KHBhcnNlRmxvYXQoYSkudG9GaXhlZCgyKSl9O214U3ZnQ2FudmFzMkQucHJvdG90eXBlLmdldEJhc2VVcmw9ZnVuY3Rpb24oKXt2YXIgYT13aW5kb3cubG9jYXRpb24uaHJlZixiPWEubGFzdEluZGV4T2YoIiMiKTswPGImJihhPWEuc3Vic3RyaW5nKDAsYikpO3JldHVybiBhfTtteFN2Z0NhbnZhczJELnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe214QWJzdHJhY3RDYW52YXMyRC5wcm90b3R5cGUucmVzZXQuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuZ3JhZGllbnRzPVtdfTsKbXhTdmdDYW52YXMyRC5wcm90b3R5cGUuY3JlYXRlU3R5bGU9ZnVuY3Rpb24oYSl7YT10aGlzLmNyZWF0ZUVsZW1lbnQoInN0eWxlIik7YS5zZXRBdHRyaWJ1dGUoInR5cGUiLCJ0ZXh0L2NzcyIpO214VXRpbHMud3JpdGUoYSwic3Zne2ZvbnQtZmFtaWx5OiIrbXhDb25zdGFudHMuREVGQVVMVF9GT05URkFNSUxZKyI7Zm9udC1zaXplOiIrbXhDb25zdGFudHMuREVGQVVMVF9GT05UU0laRSsiO2ZpbGw6bm9uZTtzdHJva2UtbWl0ZXJsaW1pdDoxMH0iKTtyZXR1cm4gYX07Cm14U3ZnQ2FudmFzMkQucHJvdG90eXBlLmNyZWF0ZUVsZW1lbnQ9ZnVuY3Rpb24oYSxiKXtpZihudWxsIT10aGlzLnJvb3Qub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50TlMpcmV0dXJuIHRoaXMucm9vdC5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhifHxteENvbnN0YW50cy5OU19TVkcsYSk7dmFyIGM9dGhpcy5yb290Lm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudChhKTtudWxsIT1iJiZjLnNldEF0dHJpYnV0ZSgieG1sbnMiLGIpO3JldHVybiBjfTtteFN2Z0NhbnZhczJELnByb3RvdHlwZS5nZXRBbHRlcm5hdGVUZXh0PWZ1bmN0aW9uKGEsYixjLGQsZSxmLGcsayxsLG0sbixwLHEpe3JldHVybiBudWxsIT1mP3RoaXMuZm9BbHRUZXh0Om51bGx9OwpteFN2Z0NhbnZhczJELnByb3RvdHlwZS5jcmVhdGVBbHRlcm5hdGVDb250ZW50PWZ1bmN0aW9uKGEsYixjLGQsZSxmLGcsayxsLG0sbixwLHEpe2E9dGhpcy5nZXRBbHRlcm5hdGVUZXh0KGEsYixjLGQsZSxmLGcsayxsLG0sbixwLHEpO2Q9dGhpcy5zdGF0ZTtyZXR1cm4gbnVsbCE9YSYmMDxkLmZvbnRTaXplPyhrPWs9PW14Q29uc3RhbnRzLkFMSUdOX1RPUD8xOms9PW14Q29uc3RhbnRzLkFMSUdOX0JPVFRPTT8wOi4zLGU9Zz09bXhDb25zdGFudHMuQUxJR05fUklHSFQ/ImVuZCI6Zz09bXhDb25zdGFudHMuQUxJR05fTEVGVD8ic3RhcnQiOiJtaWRkbGUiLGc9dGhpcy5jcmVhdGVFbGVtZW50KCJ0ZXh0IiksZy5zZXRBdHRyaWJ1dGUoIngiLE1hdGgucm91bmQoYitkLmR4KSksZy5zZXRBdHRyaWJ1dGUoInkiLE1hdGgucm91bmQoYytkLmR5K2sqZC5mb250U2l6ZSkpLGcuc2V0QXR0cmlidXRlKCJmaWxsIixkLmZvbnRDb2xvcnx8ImJsYWNrIiksZy5zZXRBdHRyaWJ1dGUoImZvbnQtZmFtaWx5IiwKZC5mb250RmFtaWx5KSxnLnNldEF0dHJpYnV0ZSgiZm9udC1zaXplIixNYXRoLnJvdW5kKGQuZm9udFNpemUpKyJweCIpLCJzdGFydCIhPWUmJmcuc2V0QXR0cmlidXRlKCJ0ZXh0LWFuY2hvciIsZSksKGQuZm9udFN0eWxlJm14Q29uc3RhbnRzLkZPTlRfQk9MRCk9PW14Q29uc3RhbnRzLkZPTlRfQk9MRCYmZy5zZXRBdHRyaWJ1dGUoImZvbnQtd2VpZ2h0IiwiYm9sZCIpLChkLmZvbnRTdHlsZSZteENvbnN0YW50cy5GT05UX0lUQUxJQyk9PW14Q29uc3RhbnRzLkZPTlRfSVRBTElDJiZnLnNldEF0dHJpYnV0ZSgiZm9udC1zdHlsZSIsIml0YWxpYyIpLGI9W10sKGQuZm9udFN0eWxlJm14Q29uc3RhbnRzLkZPTlRfVU5ERVJMSU5FKT09bXhDb25zdGFudHMuRk9OVF9VTkRFUkxJTkUmJmIucHVzaCgidW5kZXJsaW5lIiksKGQuZm9udFN0eWxlJm14Q29uc3RhbnRzLkZPTlRfU1RSSUtFVEhST1VHSCk9PW14Q29uc3RhbnRzLkZPTlRfU1RSSUtFVEhST1VHSCYmYi5wdXNoKCJsaW5lLXRocm91Z2giKSwKMDxiLmxlbmd0aCYmZy5zZXRBdHRyaWJ1dGUoInRleHQtZGVjb3JhdGlvbiIsYi5qb2luKCIgIikpLG14VXRpbHMud3JpdGUoZyxhKSxnKTpudWxsfTtteFN2Z0NhbnZhczJELnByb3RvdHlwZS5jcmVhdGVHcmFkaWVudElkPWZ1bmN0aW9uKGEsYixjLGQsZSl7IiMiPT1hLmNoYXJBdCgwKSYmKGE9YS5zdWJzdHJpbmcoMSkpOyIjIj09Yi5jaGFyQXQoMCkmJihiPWIuc3Vic3RyaW5nKDEpKTthPWEudG9Mb3dlckNhc2UoKSsiLSIrYztiPWIudG9Mb3dlckNhc2UoKSsiLSIrZDtjPW51bGw7bnVsbD09ZXx8ZT09bXhDb25zdGFudHMuRElSRUNUSU9OX1NPVVRIP2M9InMiOmU9PW14Q29uc3RhbnRzLkRJUkVDVElPTl9FQVNUP2M9ImUiOihkPWEsYT1iLGI9ZCxlPT1teENvbnN0YW50cy5ESVJFQ1RJT05fTk9SVEg/Yz0icyI6ZT09bXhDb25zdGFudHMuRElSRUNUSU9OX1dFU1QmJihjPSJlIikpO3JldHVybiJteC1ncmFkaWVudC0iK2ErIi0iK2IrIi0iK2N9OwpteFN2Z0NhbnZhczJELnByb3RvdHlwZS5nZXRTdmdHcmFkaWVudD1mdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmPXRoaXMuY3JlYXRlR3JhZGllbnRJZChhLGIsYyxkLGUpLGc9dGhpcy5ncmFkaWVudHNbZl07aWYobnVsbD09Zyl7dmFyIGs9dGhpcy5yb290Lm93bmVyU1ZHRWxlbWVudCxsPTAsbT1mKyItIitsO2lmKG51bGwhPWspZm9yKGc9ay5vd25lckRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG0pO251bGwhPWcmJmcub3duZXJTVkdFbGVtZW50IT1rOyltPWYrIi0iK2wrKyxnPWsub3duZXJEb2N1bWVudC5nZXRFbGVtZW50QnlJZChtKTtlbHNlIG09ImlkIisgKyt0aGlzLnJlZkNvdW50O251bGw9PWcmJihnPXRoaXMuY3JlYXRlU3ZnR3JhZGllbnQoYSxiLGMsZCxlKSxnLnNldEF0dHJpYnV0ZSgiaWQiLG0pLG51bGwhPXRoaXMuZGVmcz90aGlzLmRlZnMuYXBwZW5kQ2hpbGQoZyk6ay5hcHBlbmRDaGlsZChnKSk7dGhpcy5ncmFkaWVudHNbZl09Z31yZXR1cm4gZy5nZXRBdHRyaWJ1dGUoImlkIil9OwpteFN2Z0NhbnZhczJELnByb3RvdHlwZS5jcmVhdGVTdmdHcmFkaWVudD1mdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmPXRoaXMuY3JlYXRlRWxlbWVudCgibGluZWFyR3JhZGllbnQiKTtmLnNldEF0dHJpYnV0ZSgieDEiLCIwJSIpO2Yuc2V0QXR0cmlidXRlKCJ5MSIsIjAlIik7Zi5zZXRBdHRyaWJ1dGUoIngyIiwiMCUiKTtmLnNldEF0dHJpYnV0ZSgieTIiLCIwJSIpO251bGw9PWV8fGU9PW14Q29uc3RhbnRzLkRJUkVDVElPTl9TT1VUSD9mLnNldEF0dHJpYnV0ZSgieTIiLCIxMDAlIik6ZT09bXhDb25zdGFudHMuRElSRUNUSU9OX0VBU1Q/Zi5zZXRBdHRyaWJ1dGUoIngyIiwiMTAwJSIpOmU9PW14Q29uc3RhbnRzLkRJUkVDVElPTl9OT1JUSD9mLnNldEF0dHJpYnV0ZSgieTEiLCIxMDAlIik6ZT09bXhDb25zdGFudHMuRElSRUNUSU9OX1dFU1QmJmYuc2V0QXR0cmlidXRlKCJ4MSIsIjEwMCUiKTtjPTE+Yz8iO3N0b3Atb3BhY2l0eToiK2M6IiI7ZT10aGlzLmNyZWF0ZUVsZW1lbnQoInN0b3AiKTsKZS5zZXRBdHRyaWJ1dGUoIm9mZnNldCIsIjAlIik7ZS5zZXRBdHRyaWJ1dGUoInN0eWxlIiwic3RvcC1jb2xvcjoiK2ErYyk7Zi5hcHBlbmRDaGlsZChlKTtjPTE+ZD8iO3N0b3Atb3BhY2l0eToiK2Q6IiI7ZT10aGlzLmNyZWF0ZUVsZW1lbnQoInN0b3AiKTtlLnNldEF0dHJpYnV0ZSgib2Zmc2V0IiwiMTAwJSIpO2Uuc2V0QXR0cmlidXRlKCJzdHlsZSIsInN0b3AtY29sb3I6IitiK2MpO2YuYXBwZW5kQ2hpbGQoZSk7cmV0dXJuIGZ9OwpteFN2Z0NhbnZhczJELnByb3RvdHlwZS5hZGROb2RlPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5ub2RlLGQ9dGhpcy5zdGF0ZTtpZihudWxsIT1jKXtpZigicGF0aCI9PWMubm9kZU5hbWUpaWYobnVsbCE9dGhpcy5wYXRoJiYwPHRoaXMucGF0aC5sZW5ndGgpYy5zZXRBdHRyaWJ1dGUoImQiLHRoaXMucGF0aC5qb2luKCIgIikpO2Vsc2UgcmV0dXJuO2EmJm51bGwhPWQuZmlsbENvbG9yP3RoaXMudXBkYXRlRmlsbCgpOnRoaXMuc3R5bGVFbmFibGVkfHwoImVsbGlwc2UiPT1jLm5vZGVOYW1lJiZteENsaWVudC5JU19GRj9jLnNldEF0dHJpYnV0ZSgiZmlsbCIsInRyYW5zcGFyZW50Iik6Yy5zZXRBdHRyaWJ1dGUoImZpbGwiLCJub25lIiksYT0hMSk7YiYmbnVsbCE9ZC5zdHJva2VDb2xvcj90aGlzLnVwZGF0ZVN0cm9rZSgpOnRoaXMuc3R5bGVFbmFibGVkfHxjLnNldEF0dHJpYnV0ZSgic3Ryb2tlIiwibm9uZSIpO251bGwhPWQudHJhbnNmb3JtJiYwPGQudHJhbnNmb3JtLmxlbmd0aCYmCmMuc2V0QXR0cmlidXRlKCJ0cmFuc2Zvcm0iLGQudHJhbnNmb3JtKTtkLnNoYWRvdyYmdGhpcy5yb290LmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlU2hhZG93KGMpKTswPHRoaXMuc3Ryb2tlVG9sZXJhbmNlJiYhYSYmdGhpcy5yb290LmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlVG9sZXJhbmNlKGMpKTt0aGlzLnBvaW50ZXJFdmVudHM/Yy5zZXRBdHRyaWJ1dGUoInBvaW50ZXItZXZlbnRzIix0aGlzLnBvaW50ZXJFdmVudHNWYWx1ZSk6dGhpcy5wb2ludGVyRXZlbnRzfHxudWxsIT10aGlzLm9yaWdpbmFsUm9vdHx8Yy5zZXRBdHRyaWJ1dGUoInBvaW50ZXItZXZlbnRzIiwibm9uZSIpOygicmVjdCIhPWMubm9kZU5hbWUmJiJwYXRoIiE9Yy5ub2RlTmFtZSYmImVsbGlwc2UiIT1jLm5vZGVOYW1lfHwibm9uZSIhPWMuZ2V0QXR0cmlidXRlKCJmaWxsIikmJiJ0cmFuc3BhcmVudCIhPWMuZ2V0QXR0cmlidXRlKCJmaWxsIil8fCJub25lIiE9Yy5nZXRBdHRyaWJ1dGUoInN0cm9rZSIpfHwibm9uZSIhPQpjLmdldEF0dHJpYnV0ZSgicG9pbnRlci1ldmVudHMiKSkmJnRoaXMucm9vdC5hcHBlbmRDaGlsZChjKTt0aGlzLm5vZGU9bnVsbH19OwpteFN2Z0NhbnZhczJELnByb3RvdHlwZS51cGRhdGVGaWxsPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5zdGF0ZTsoMT5hLmFscGhhfHwxPmEuZmlsbEFscGhhKSYmdGhpcy5ub2RlLnNldEF0dHJpYnV0ZSgiZmlsbC1vcGFjaXR5IixhLmFscGhhKmEuZmlsbEFscGhhKTtpZihudWxsIT1hLmZpbGxDb2xvcilpZihudWxsIT1hLmdyYWRpZW50Q29sb3IpaWYoYT10aGlzLmdldFN2Z0dyYWRpZW50KFN0cmluZyhhLmZpbGxDb2xvciksU3RyaW5nKGEuZ3JhZGllbnRDb2xvciksYS5ncmFkaWVudEZpbGxBbHBoYSxhLmdyYWRpZW50QWxwaGEsYS5ncmFkaWVudERpcmVjdGlvbiksbXhDbGllbnQuSVNfQ0hST01FQVBQfHxteENsaWVudC5JU19JRXx8bXhDbGllbnQuSVNfSUUxMXx8bXhDbGllbnQuSVNfRURHRXx8dGhpcy5yb290Lm93bmVyRG9jdW1lbnQhPWRvY3VtZW50KXRoaXMubm9kZS5zZXRBdHRyaWJ1dGUoImZpbGwiLCJ1cmwoIyIrYSsiKSIpO2Vsc2V7dmFyIGI9dGhpcy5nZXRCYXNlVXJsKCkucmVwbGFjZSgvKFtcKFwpXSkvZywKIlxcJDEiKTt0aGlzLm5vZGUuc2V0QXR0cmlidXRlKCJmaWxsIiwidXJsKCIrYisiIyIrYSsiKSIpfWVsc2UgdGhpcy5ub2RlLnNldEF0dHJpYnV0ZSgiZmlsbCIsU3RyaW5nKGEuZmlsbENvbG9yKS50b0xvd2VyQ2FzZSgpKX07bXhTdmdDYW52YXMyRC5wcm90b3R5cGUuZ2V0Q3VycmVudFN0cm9rZVdpZHRoPWZ1bmN0aW9uKCl7cmV0dXJuIE1hdGgubWF4KHRoaXMubWluU3Ryb2tlV2lkdGgsTWF0aC5tYXgoLjAxLHRoaXMuZm9ybWF0KHRoaXMuc3RhdGUuc3Ryb2tlV2lkdGgqdGhpcy5zdGF0ZS5zY2FsZSkpKX07Cm14U3ZnQ2FudmFzMkQucHJvdG90eXBlLnVwZGF0ZVN0cm9rZT1mdW5jdGlvbigpe3ZhciBhPXRoaXMuc3RhdGU7dGhpcy5ub2RlLnNldEF0dHJpYnV0ZSgic3Ryb2tlIixTdHJpbmcoYS5zdHJva2VDb2xvcikudG9Mb3dlckNhc2UoKSk7KDE+YS5hbHBoYXx8MT5hLnN0cm9rZUFscGhhKSYmdGhpcy5ub2RlLnNldEF0dHJpYnV0ZSgic3Ryb2tlLW9wYWNpdHkiLGEuYWxwaGEqYS5zdHJva2VBbHBoYSk7dmFyIGI9dGhpcy5nZXRDdXJyZW50U3Ryb2tlV2lkdGgoKTsxIT1iJiZ0aGlzLm5vZGUuc2V0QXR0cmlidXRlKCJzdHJva2Utd2lkdGgiLGIpOyJwYXRoIj09dGhpcy5ub2RlLm5vZGVOYW1lJiZ0aGlzLnVwZGF0ZVN0cm9rZUF0dHJpYnV0ZXMoKTthLmRhc2hlZCYmdGhpcy5ub2RlLnNldEF0dHJpYnV0ZSgic3Ryb2tlLWRhc2hhcnJheSIsdGhpcy5jcmVhdGVEYXNoUGF0dGVybigoYS5maXhEYXNoPzE6YS5zdHJva2VXaWR0aCkqYS5zY2FsZSkpfTsKbXhTdmdDYW52YXMyRC5wcm90b3R5cGUudXBkYXRlU3Ryb2tlQXR0cmlidXRlcz1mdW5jdGlvbigpe3ZhciBhPXRoaXMuc3RhdGU7bnVsbCE9YS5saW5lSm9pbiYmIm1pdGVyIiE9YS5saW5lSm9pbiYmdGhpcy5ub2RlLnNldEF0dHJpYnV0ZSgic3Ryb2tlLWxpbmVqb2luIixhLmxpbmVKb2luKTtpZihudWxsIT1hLmxpbmVDYXApe3ZhciBiPWEubGluZUNhcDsiZmxhdCI9PWImJihiPSJidXR0Iik7ImJ1dHQiIT1iJiZ0aGlzLm5vZGUuc2V0QXR0cmlidXRlKCJzdHJva2UtbGluZWNhcCIsYil9bnVsbD09YS5taXRlckxpbWl0fHx0aGlzLnN0eWxlRW5hYmxlZCYmMTA9PWEubWl0ZXJMaW1pdHx8dGhpcy5ub2RlLnNldEF0dHJpYnV0ZSgic3Ryb2tlLW1pdGVybGltaXQiLGEubWl0ZXJMaW1pdCl9OwpteFN2Z0NhbnZhczJELnByb3RvdHlwZS5jcmVhdGVEYXNoUGF0dGVybj1mdW5jdGlvbihhKXt2YXIgYj1bXTtpZigic3RyaW5nIj09PXR5cGVvZiB0aGlzLnN0YXRlLmRhc2hQYXR0ZXJuKXt2YXIgYz10aGlzLnN0YXRlLmRhc2hQYXR0ZXJuLnNwbGl0KCIgIik7aWYoMDxjLmxlbmd0aClmb3IodmFyIGQ9MDtkPGMubGVuZ3RoO2QrKyliW2RdPU51bWJlcihjW2RdKSphfXJldHVybiBiLmpvaW4oIiAiKX07Cm14U3ZnQ2FudmFzMkQucHJvdG90eXBlLmNyZWF0ZVRvbGVyYW5jZT1mdW5jdGlvbihhKXthPWEuY2xvbmVOb2RlKCEwKTt2YXIgYj1wYXJzZUZsb2F0KGEuZ2V0QXR0cmlidXRlKCJzdHJva2Utd2lkdGgiKXx8MSkrdGhpcy5zdHJva2VUb2xlcmFuY2U7YS5zZXRBdHRyaWJ1dGUoInBvaW50ZXItZXZlbnRzIiwic3Ryb2tlIik7YS5zZXRBdHRyaWJ1dGUoInZpc2liaWxpdHkiLCJoaWRkZW4iKTthLnJlbW92ZUF0dHJpYnV0ZSgic3Ryb2tlLWRhc2hhcnJheSIpO2Euc2V0QXR0cmlidXRlKCJzdHJva2Utd2lkdGgiLGIpO2Euc2V0QXR0cmlidXRlKCJmaWxsIiwibm9uZSIpO2Euc2V0QXR0cmlidXRlKCJzdHJva2UiLG14Q2xpZW50LklTX09UPyJub25lIjoid2hpdGUiKTtyZXR1cm4gYX07Cm14U3ZnQ2FudmFzMkQucHJvdG90eXBlLmNyZWF0ZVNoYWRvdz1mdW5jdGlvbihhKXthPWEuY2xvbmVOb2RlKCEwKTt2YXIgYj10aGlzLnN0YXRlOyJub25lIj09YS5nZXRBdHRyaWJ1dGUoImZpbGwiKXx8bXhDbGllbnQuSVNfRkYmJiJ0cmFuc3BhcmVudCI9PWEuZ2V0QXR0cmlidXRlKCJmaWxsIil8fGEuc2V0QXR0cmlidXRlKCJmaWxsIixiLnNoYWRvd0NvbG9yKTsibm9uZSIhPWEuZ2V0QXR0cmlidXRlKCJzdHJva2UiKSYmYS5zZXRBdHRyaWJ1dGUoInN0cm9rZSIsYi5zaGFkb3dDb2xvcik7YS5zZXRBdHRyaWJ1dGUoInRyYW5zZm9ybSIsInRyYW5zbGF0ZSgiK3RoaXMuZm9ybWF0KGIuc2hhZG93RHgqYi5zY2FsZSkrIiwiK3RoaXMuZm9ybWF0KGIuc2hhZG93RHkqYi5zY2FsZSkrIikiKyhiLnRyYW5zZm9ybXx8IiIpKTthLnNldEF0dHJpYnV0ZSgib3BhY2l0eSIsYi5zaGFkb3dBbHBoYSk7cmV0dXJuIGF9OwpteFN2Z0NhbnZhczJELnByb3RvdHlwZS5zZXRMaW5rPWZ1bmN0aW9uKGEpe2lmKG51bGw9PWEpdGhpcy5yb290PXRoaXMub3JpZ2luYWxSb290O2Vsc2V7dGhpcy5vcmlnaW5hbFJvb3Q9dGhpcy5yb290O3ZhciBiPXRoaXMuY3JlYXRlRWxlbWVudCgiYSIpO251bGw9PWIuc2V0QXR0cmlidXRlTlN8fHRoaXMucm9vdC5vd25lckRvY3VtZW50IT1kb2N1bWVudCYmbnVsbD09ZG9jdW1lbnQuZG9jdW1lbnRNb2RlP2Iuc2V0QXR0cmlidXRlKCJ4bGluazpocmVmIixhKTpiLnNldEF0dHJpYnV0ZU5TKG14Q29uc3RhbnRzLk5TX1hMSU5LLCJ4bGluazpocmVmIixhKTt0aGlzLnJvb3QuYXBwZW5kQ2hpbGQoYik7dGhpcy5yb290PWJ9fTsKbXhTdmdDYW52YXMyRC5wcm90b3R5cGUucm90YXRlPWZ1bmN0aW9uKGEsYixjLGQsZSl7aWYoMCE9YXx8Ynx8Yyl7dmFyIGY9dGhpcy5zdGF0ZTtkKz1mLmR4O2UrPWYuZHk7ZCo9Zi5zY2FsZTtlKj1mLnNjYWxlO2YudHJhbnNmb3JtPWYudHJhbnNmb3JtfHwiIjtpZihiJiZjKWErPTE4MDtlbHNlIGlmKGIhPWMpe3ZhciBnPWI/ZDowLGs9Yj8tMToxLGw9Yz9lOjAsbT1jPy0xOjE7Zi50cmFuc2Zvcm0rPSJ0cmFuc2xhdGUoIit0aGlzLmZvcm1hdChnKSsiLCIrdGhpcy5mb3JtYXQobCkrIilzY2FsZSgiK3RoaXMuZm9ybWF0KGspKyIsIit0aGlzLmZvcm1hdChtKSsiKXRyYW5zbGF0ZSgiK3RoaXMuZm9ybWF0KC1nKSsiLCIrdGhpcy5mb3JtYXQoLWwpKyIpIn1pZihiPyFjOmMpYSo9LTE7MCE9YSYmKGYudHJhbnNmb3JtKz0icm90YXRlKCIrdGhpcy5mb3JtYXQoYSkrIiwiK3RoaXMuZm9ybWF0KGQpKyIsIit0aGlzLmZvcm1hdChlKSsiKSIpO2Yucm90YXRpb24rPWE7Zi5yb3RhdGlvbkN4PQpkO2Yucm90YXRpb25DeT1lfX07bXhTdmdDYW52YXMyRC5wcm90b3R5cGUuYmVnaW49ZnVuY3Rpb24oKXtteEFic3RyYWN0Q2FudmFzMkQucHJvdG90eXBlLmJlZ2luLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLm5vZGU9dGhpcy5jcmVhdGVFbGVtZW50KCJwYXRoIil9O214U3ZnQ2FudmFzMkQucHJvdG90eXBlLnJlY3Q9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9dGhpcy5zdGF0ZSxmPXRoaXMuY3JlYXRlRWxlbWVudCgicmVjdCIpO2Yuc2V0QXR0cmlidXRlKCJ4Iix0aGlzLmZvcm1hdCgoYStlLmR4KSplLnNjYWxlKSk7Zi5zZXRBdHRyaWJ1dGUoInkiLHRoaXMuZm9ybWF0KChiK2UuZHkpKmUuc2NhbGUpKTtmLnNldEF0dHJpYnV0ZSgid2lkdGgiLHRoaXMuZm9ybWF0KGMqZS5zY2FsZSkpO2Yuc2V0QXR0cmlidXRlKCJoZWlnaHQiLHRoaXMuZm9ybWF0KGQqZS5zY2FsZSkpO3RoaXMubm9kZT1mfTsKbXhTdmdDYW52YXMyRC5wcm90b3R5cGUucm91bmRyZWN0PWZ1bmN0aW9uKGEsYixjLGQsZSxmKXt0aGlzLnJlY3QoYSxiLGMsZCk7MDxlJiZ0aGlzLm5vZGUuc2V0QXR0cmlidXRlKCJyeCIsdGhpcy5mb3JtYXQoZSp0aGlzLnN0YXRlLnNjYWxlKSk7MDxmJiZ0aGlzLm5vZGUuc2V0QXR0cmlidXRlKCJyeSIsdGhpcy5mb3JtYXQoZip0aGlzLnN0YXRlLnNjYWxlKSl9O214U3ZnQ2FudmFzMkQucHJvdG90eXBlLmVsbGlwc2U9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9dGhpcy5zdGF0ZSxmPXRoaXMuY3JlYXRlRWxlbWVudCgiZWxsaXBzZSIpO2Yuc2V0QXR0cmlidXRlKCJjeCIsdGhpcy5mb3JtYXQoKGErYy8yK2UuZHgpKmUuc2NhbGUpKTtmLnNldEF0dHJpYnV0ZSgiY3kiLHRoaXMuZm9ybWF0KChiK2QvMitlLmR5KSplLnNjYWxlKSk7Zi5zZXRBdHRyaWJ1dGUoInJ4IixjLzIqZS5zY2FsZSk7Zi5zZXRBdHRyaWJ1dGUoInJ5IixkLzIqZS5zY2FsZSk7dGhpcy5ub2RlPWZ9OwpteFN2Z0NhbnZhczJELnByb3RvdHlwZS5pbWFnZT1mdW5jdGlvbihhLGIsYyxkLGUsZixnLGspe2U9dGhpcy5jb252ZXJ0ZXIuY29udmVydChlKTtmPW51bGwhPWY/ZjohMDtnPW51bGwhPWc/ZzohMTtrPW51bGwhPWs/azohMTt2YXIgbD10aGlzLnN0YXRlO2ErPWwuZHg7Yis9bC5keTt2YXIgbT10aGlzLmNyZWF0ZUVsZW1lbnQoImltYWdlIik7bS5zZXRBdHRyaWJ1dGUoIngiLHRoaXMuZm9ybWF0KGEqbC5zY2FsZSkrdGhpcy5pbWFnZU9mZnNldCk7bS5zZXRBdHRyaWJ1dGUoInkiLHRoaXMuZm9ybWF0KGIqbC5zY2FsZSkrdGhpcy5pbWFnZU9mZnNldCk7bS5zZXRBdHRyaWJ1dGUoIndpZHRoIix0aGlzLmZvcm1hdChjKmwuc2NhbGUpKTttLnNldEF0dHJpYnV0ZSgiaGVpZ2h0Iix0aGlzLmZvcm1hdChkKmwuc2NhbGUpKTtudWxsPT1tLnNldEF0dHJpYnV0ZU5TP20uc2V0QXR0cmlidXRlKCJ4bGluazpocmVmIixlKTptLnNldEF0dHJpYnV0ZU5TKG14Q29uc3RhbnRzLk5TX1hMSU5LLAoieGxpbms6aHJlZiIsZSk7Znx8bS5zZXRBdHRyaWJ1dGUoInByZXNlcnZlQXNwZWN0UmF0aW8iLCJub25lIik7KDE+bC5hbHBoYXx8MT5sLmZpbGxBbHBoYSkmJm0uc2V0QXR0cmlidXRlKCJvcGFjaXR5IixsLmFscGhhKmwuZmlsbEFscGhhKTtlPXRoaXMuc3RhdGUudHJhbnNmb3JtfHwiIjtpZihnfHxrKXt2YXIgbj1mPTEscD0wLHE9MDtnJiYoZj0tMSxwPS1jLTIqYSk7ayYmKG49LTEscT0tZC0yKmIpO2UrPSJzY2FsZSgiK2YrIiwiK24rIil0cmFuc2xhdGUoIitwKmwuc2NhbGUrIiwiK3EqbC5zY2FsZSsiKSJ9MDxlLmxlbmd0aCYmbS5zZXRBdHRyaWJ1dGUoInRyYW5zZm9ybSIsZSk7dGhpcy5wb2ludGVyRXZlbnRzfHxtLnNldEF0dHJpYnV0ZSgicG9pbnRlci1ldmVudHMiLCJub25lIik7dGhpcy5yb290LmFwcGVuZENoaWxkKG0pfTsKbXhTdmdDYW52YXMyRC5wcm90b3R5cGUuY29udmVydEh0bWw9ZnVuY3Rpb24oYSl7aWYodGhpcy51c2VEb21QYXJzZXIpe3ZhciBiPShuZXcgRE9NUGFyc2VyKS5wYXJzZUZyb21TdHJpbmcoYSwidGV4dC9odG1sIik7bnVsbCE9YiYmKGE9KG5ldyBYTUxTZXJpYWxpemVyKS5zZXJpYWxpemVUb1N0cmluZyhiLmJvZHkpLCI8Ym9keSI9PWEuc3Vic3RyaW5nKDAsNSkmJihhPWEuc3Vic3RyaW5nKGEuaW5kZXhPZigiPiIsNSkrMSkpLCI8L2JvZHk+Ij09YS5zdWJzdHJpbmcoYS5sZW5ndGgtNyxhLmxlbmd0aCkmJihhPWEuc3Vic3RyaW5nKDAsYS5sZW5ndGgtNykpKX1lbHNle2lmKG51bGwhPWRvY3VtZW50LmltcGxlbWVudGF0aW9uJiZudWxsIT1kb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5jcmVhdGVEb2N1bWVudCl7dmFyIGI9ZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uY3JlYXRlRG9jdW1lbnQoImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiLCJodG1sIixudWxsKSxjPWIuY3JlYXRlRWxlbWVudCgiYm9keSIpOwpiLmRvY3VtZW50RWxlbWVudC5hcHBlbmRDaGlsZChjKTt2YXIgZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtkLmlubmVySFRNTD1hO2ZvcihhPWQuZmlyc3RDaGlsZDtudWxsIT1hOylkPWEubmV4dFNpYmxpbmcsYy5hcHBlbmRDaGlsZChiLmFkb3B0Tm9kZShhKSksYT1kO3JldHVybiBjLmlubmVySFRNTH1iPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRleHRhcmVhIik7Yi5pbm5lckhUTUw9YS5yZXBsYWNlKC8mYW1wOy9nLCImYW1wO2FtcDsiKS5yZXBsYWNlKC8mIzYwOy9nLCImYW1wO2x0OyIpLnJlcGxhY2UoLyYjNjI7L2csIiZhbXA7Z3Q7IikucmVwbGFjZSgvJmx0Oy9nLCImYW1wO2x0OyIpLnJlcGxhY2UoLyZndDsvZywiJmFtcDtndDsiKS5yZXBsYWNlKC88L2csIiZsdDsiKS5yZXBsYWNlKC8+L2csIiZndDsiKTthPWIudmFsdWUucmVwbGFjZSgvJi9nLCImYW1wOyIpLnJlcGxhY2UoLyZhbXA7bHQ7L2csIiZsdDsiKS5yZXBsYWNlKC8mYW1wO2d0Oy9nLCImZ3Q7IikucmVwbGFjZSgvJmFtcDthbXA7L2csCiImYW1wOyIpLnJlcGxhY2UoLzxicj4vZywiPGJyIC8+IikucmVwbGFjZSgvPGhyPi9nLCI8aHIgLz4iKS5yZXBsYWNlKC8oPGltZ1tePl0rKT4vZ20sIiQxIC8+Iil9cmV0dXJuIGF9OwpteFN2Z0NhbnZhczJELnByb3RvdHlwZS5jcmVhdGVEaXY9ZnVuY3Rpb24oYSl7bXhVdGlscy5pc05vZGUoYSl8fChhPSI8ZGl2PjxkaXY+Iit0aGlzLmNvbnZlcnRIdG1sKGEpKyI8L2Rpdj48L2Rpdj4iKTtpZihteENsaWVudC5JU19JRXx8bXhDbGllbnQuSVNfSUUxMXx8IWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUylyZXR1cm4gbXhVdGlscy5pc05vZGUoYSkmJihhPSI8ZGl2PjxkaXY+IitteFV0aWxzLmdldFhtbChhKSsiPC9kaXY+PC9kaXY+IiksbXhVdGlscy5wYXJzZVhtbCgnPGRpdiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCI+JythKyI8L2Rpdj4iKS5kb2N1bWVudEVsZW1lbnQ7dmFyIGI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiwiZGl2Iik7aWYobXhVdGlscy5pc05vZGUoYSkpe3ZhciBjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLGQ9Yy5jbG9uZU5vZGUoITEpO3RoaXMucm9vdC5vd25lckRvY3VtZW50IT0KZG9jdW1lbnQ/Yy5hcHBlbmRDaGlsZChhLmNsb25lTm9kZSghMCkpOmMuYXBwZW5kQ2hpbGQoYSk7ZC5hcHBlbmRDaGlsZChjKTtiLmFwcGVuZENoaWxkKGQpfWVsc2UgYi5pbm5lckhUTUw9YTtyZXR1cm4gYn07bXhTdmdDYW52YXMyRC5wcm90b3R5cGUudXBkYXRlVGV4dD1mdW5jdGlvbihhLGIsYyxkLGUsZixnLGssbCxtLG4pe251bGwhPW4mJm51bGwhPW4uZmlyc3RDaGlsZCYmbnVsbCE9bi5maXJzdENoaWxkLmZpcnN0Q2hpbGQmJnRoaXMudXBkYXRlVGV4dE5vZGVzKGEsYixjLGQsZSxmLGcsayxsLG0sbi5maXJzdENoaWxkKX07Cm14U3ZnQ2FudmFzMkQucHJvdG90eXBlLmFkZEZvcmVpZ25PYmplY3Q9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxrLGwsbSxuLHAscSxyLHQpe3E9dGhpcy5jcmVhdGVFbGVtZW50KCJnIik7dmFyIHU9dGhpcy5jcmVhdGVFbGVtZW50KCJmb3JlaWduT2JqZWN0Iik7dS5zZXRBdHRyaWJ1dGUoInN0eWxlIiwib3ZlcmZsb3c6IHZpc2libGU7IHRleHQtYWxpZ246IGxlZnQ7Iik7dS5zZXRBdHRyaWJ1dGUoInBvaW50ZXItZXZlbnRzIiwibm9uZSIpO3Iub3duZXJEb2N1bWVudCE9ZG9jdW1lbnQmJihyPW14VXRpbHMuaW1wb3J0Tm9kZUltcGxlbWVudGF0aW9uKHUub3duZXJEb2N1bWVudCxyLCEwKSk7dS5hcHBlbmRDaGlsZChyKTtxLmFwcGVuZENoaWxkKHUpO3RoaXMudXBkYXRlVGV4dE5vZGVzKGEsYixjLGQsZixnLGssbSxuLHAscSk7dGhpcy5yb290Lm93bmVyRG9jdW1lbnQhPWRvY3VtZW50JiYoYT10aGlzLmNyZWF0ZUFsdGVybmF0ZUNvbnRlbnQodSxhLGIsYyxkLGUsZixnLGssbCwKbSxuLHApLG51bGwhPWEmJih1LnNldEF0dHJpYnV0ZSgicmVxdWlyZWRGZWF0dXJlcyIsImh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSIpLGI9dGhpcy5jcmVhdGVFbGVtZW50KCJzd2l0Y2giKSxiLmFwcGVuZENoaWxkKHUpLGIuYXBwZW5kQ2hpbGQoYSkscS5hcHBlbmRDaGlsZChiKSkpO3QuYXBwZW5kQ2hpbGQocSl9OwpteFN2Z0NhbnZhczJELnByb3RvdHlwZS51cGRhdGVUZXh0Tm9kZXM9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxrLGwsbSxuKXt2YXIgcD10aGlzLnN0YXRlLnNjYWxlO214U3ZnQ2FudmFzMkQuY3JlYXRlQ3NzKGMrMixkLGUsZixnLGssbCxudWxsIT10aGlzLnN0YXRlLmZvbnRCYWNrZ3JvdW5kQ29sb3I/dGhpcy5zdGF0ZS5mb250QmFja2dyb3VuZENvbG9yOm51bGwsbnVsbCE9dGhpcy5zdGF0ZS5mb250Qm9yZGVyQ29sb3I/dGhpcy5zdGF0ZS5mb250Qm9yZGVyQ29sb3I6bnVsbCwiZGlzcGxheTogZmxleDsgYWxpZ24taXRlbXM6IHVuc2FmZSAiKyhmPT1teENvbnN0YW50cy5BTElHTl9UT1A/ImZsZXgtc3RhcnQiOmY9PW14Q29uc3RhbnRzLkFMSUdOX0JPVFRPTT8iZmxleC1lbmQiOiJjZW50ZXIiKSsiOyBqdXN0aWZ5LWNvbnRlbnQ6IHVuc2FmZSAiKyhlPT1teENvbnN0YW50cy5BTElHTl9MRUZUPyJmbGV4LXN0YXJ0IjplPT1teENvbnN0YW50cy5BTElHTl9SSUdIVD8iZmxleC1lbmQiOgoiY2VudGVyIikrIjsgIix0aGlzLmdldFRleHRDc3MoKSxwLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGMsZCxlLGYsZyl7YSs9dGhpcy5zdGF0ZS5keDtiKz10aGlzLnN0YXRlLmR5O3ZhciBrPW4uZmlyc3RDaGlsZCxsPWsuZmlyc3RDaGlsZCxxPWwuZmlyc3RDaGlsZCxyPSh0aGlzLnJvdGF0ZUh0bWw/dGhpcy5zdGF0ZS5yb3RhdGlvbjowKSsobnVsbCE9bT9tOjApLHQ9KDAhPXRoaXMuZm9PZmZzZXQ/InRyYW5zbGF0ZSgiK3RoaXMuZm9PZmZzZXQrIiAiK3RoaXMuZm9PZmZzZXQrIikiOiIiKSsoMSE9cD8ic2NhbGUoIitwKyIpIjoiIik7cS5maXJzdENoaWxkLnNldEF0dHJpYnV0ZSgic3R5bGUiLGcpO3Euc2V0QXR0cmlidXRlKCJzdHlsZSIsZik7ay5zZXRBdHRyaWJ1dGUoIndpZHRoIixNYXRoLmNlaWwoMS9NYXRoLm1pbigxLHApKjEwMCkrIiUiKTtrLnNldEF0dHJpYnV0ZSgiaGVpZ2h0IixNYXRoLmNlaWwoMS9NYXRoLm1pbigxLHApKjEwMCkrIiUiKTtkPU1hdGgucm91bmQoYisKZCk7MD5kP2suc2V0QXR0cmlidXRlKCJ5IixkKTooay5yZW1vdmVBdHRyaWJ1dGUoInkiKSxlKz0icGFkZGluZy10b3A6ICIrZCsicHg7ICIpO2wuc2V0QXR0cmlidXRlKCJzdHlsZSIsZSsibWFyZ2luLWxlZnQ6ICIrTWF0aC5yb3VuZChhK2MpKyJweDsiKTt0Kz0wIT1yPyJyb3RhdGUoIityKyIgIithKyIgIitiKyIpIjoiIjsiIiE9dD9uLnNldEF0dHJpYnV0ZSgidHJhbnNmb3JtIix0KTpuLnJlbW92ZUF0dHJpYnV0ZSgidHJhbnNmb3JtIik7MSE9dGhpcy5zdGF0ZS5hbHBoYT9uLnNldEF0dHJpYnV0ZSgib3BhY2l0eSIsdGhpcy5zdGF0ZS5hbHBoYSk6bi5yZW1vdmVBdHRyaWJ1dGUoIm9wYWNpdHkiKX0pKX07Cm14U3ZnQ2FudmFzMkQuY3JlYXRlQ3NzPWZ1bmN0aW9uKGEsYixjLGQsZSxmLGcsayxsLG0sbixwLHEpe3A9ImJveC1zaXppbmc6IGJvcmRlci1ib3g7IGZvbnQtc2l6ZTogMDsgdGV4dC1hbGlnbjogIisoYz09bXhDb25zdGFudHMuQUxJR05fTEVGVD8ibGVmdCI6Yz09bXhDb25zdGFudHMuQUxJR05fUklHSFQ/InJpZ2h0IjoiY2VudGVyIikrIjsgIjt2YXIgcj1teFV0aWxzLmdldEFsaWdubWVudEFzUG9pbnQoYyxkKTtjPSJvdmVyZmxvdzogaGlkZGVuOyAiO2Q9IndpZHRoOiAxcHg7ICI7dmFyIHQ9ImhlaWdodDogMXB4OyAiLHU9ci54KmEscj1yLnkqYjtnPyhkPSJ3aWR0aDogIitNYXRoLnJvdW5kKGEpKyJweDsgIixwKz0ibWF4LWhlaWdodDogIitNYXRoLnJvdW5kKGIpKyJweDsgIixyPTApOiJmaWxsIj09Zj8oZD0id2lkdGg6ICIrTWF0aC5yb3VuZChhKSsicHg7ICIsdD0iaGVpZ2h0OiAiK01hdGgucm91bmQoYikrInB4OyAiLG4rPSJ3aWR0aDogMTAwJTsgaGVpZ2h0OiAxMDAlOyAiLApwKz1kK3QpOiJ3aWR0aCI9PWY/KGQ9IndpZHRoOiAiK01hdGgucm91bmQoYSkrInB4OyAiLG4rPSJ3aWR0aDogMTAwJTsgIixwKz1kLHI9MCwwPGImJihwKz0ibWF4LWhlaWdodDogIitNYXRoLnJvdW5kKGIpKyJweDsgIikpOihjPSIiLHI9MCk7Yj0iIjtudWxsIT1rJiYoYis9ImJhY2tncm91bmQtY29sb3I6ICIraysiOyAiKTtudWxsIT1sJiYoYis9ImJvcmRlcjogMXB4IHNvbGlkICIrbCsiOyAiKTsiIj09Y3x8Zz9uKz1iOnArPWI7ZSYmMDxhPyhuKz0id2hpdGUtc3BhY2U6IG5vcm1hbDsgd29yZC13cmFwOiAiK214Q29uc3RhbnRzLldPUkRfV1JBUCsiOyAiLGQ9IndpZHRoOiAiK01hdGgucm91bmQoYSkrInB4OyAiLCIiIT1jJiYiZmlsbCIhPWYmJihyPTApKToobis9IndoaXRlLXNwYWNlOiBub3dyYXA7ICIsIiI9PWMmJih1PTApKTtxKHUscixtK2QrdCxwK2MsbixjKX07Cm14U3ZnQ2FudmFzMkQucHJvdG90eXBlLmdldFRleHRDc3M9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnN0YXRlLGI9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAiK2EuZm9udFNpemUrInB4OyBmb250LWZhbWlseTogIithLmZvbnRGYW1pbHkrIjsgY29sb3I6ICIrYS5mb250Q29sb3IrIjsgbGluZS1oZWlnaHQ6ICIrKG14Q29uc3RhbnRzLkFCU09MVVRFX0xJTkVfSEVJR0hUP2EuZm9udFNpemUqbXhDb25zdGFudHMuTElORV9IRUlHSFQrInB4IjpteENvbnN0YW50cy5MSU5FX0hFSUdIVCp0aGlzLmxpbmVIZWlnaHRDb3JyZWN0aW9uKSsiOyBwb2ludGVyLWV2ZW50czogIisodGhpcy5wb2ludGVyRXZlbnRzP3RoaXMucG9pbnRlckV2ZW50c1ZhbHVlOiJub25lIikrIjsgIjsoYS5mb250U3R5bGUmbXhDb25zdGFudHMuRk9OVF9CT0xEKT09bXhDb25zdGFudHMuRk9OVF9CT0xEJiYoYis9ImZvbnQtd2VpZ2h0OiBib2xkOyAiKTsoYS5mb250U3R5bGUmbXhDb25zdGFudHMuRk9OVF9JVEFMSUMpPT0KbXhDb25zdGFudHMuRk9OVF9JVEFMSUMmJihiKz0iZm9udC1zdHlsZTogaXRhbGljOyAiKTt2YXIgYz1bXTsoYS5mb250U3R5bGUmbXhDb25zdGFudHMuRk9OVF9VTkRFUkxJTkUpPT1teENvbnN0YW50cy5GT05UX1VOREVSTElORSYmYy5wdXNoKCJ1bmRlcmxpbmUiKTsoYS5mb250U3R5bGUmbXhDb25zdGFudHMuRk9OVF9TVFJJS0VUSFJPVUdIKT09bXhDb25zdGFudHMuRk9OVF9TVFJJS0VUSFJPVUdIJiZjLnB1c2goImxpbmUtdGhyb3VnaCIpOzA8Yy5sZW5ndGgmJihiKz0idGV4dC1kZWNvcmF0aW9uOiAiK2Muam9pbigiICIpKyI7ICIpO3JldHVybiBifTsKbXhTdmdDYW52YXMyRC5wcm90b3R5cGUudGV4dD1mdW5jdGlvbihhLGIsYyxkLGUsZixnLGssbCxtLG4scCxxKXtpZih0aGlzLnRleHRFbmFibGVkJiZudWxsIT1lKWlmKHA9bnVsbCE9cD9wOjAsdGhpcy5mb0VuYWJsZWQmJiJodG1sIj09bCl7dmFyIHI9dGhpcy5jcmVhdGVEaXYoZSk7bnVsbCE9ciYmKG51bGwhPXEmJnIuc2V0QXR0cmlidXRlKCJkaXIiLHEpLHRoaXMuYWRkRm9yZWlnbk9iamVjdChhLGIsYyxkLGUsZixnLGssbCxtLG4scCxxLHIsdGhpcy5yb290KSl9ZWxzZSB0aGlzLnBsYWluVGV4dChhK3RoaXMuc3RhdGUuZHgsYit0aGlzLnN0YXRlLmR5LGMsZCxlLGYsZyxrLG0sbixwLHEpfTsKbXhTdmdDYW52YXMyRC5wcm90b3R5cGUuY3JlYXRlQ2xpcD1mdW5jdGlvbihhLGIsYyxkKXthPU1hdGgucm91bmQoYSk7Yj1NYXRoLnJvdW5kKGIpO2M9TWF0aC5yb3VuZChjKTtkPU1hdGgucm91bmQoZCk7Zm9yKHZhciBlPSJteC1jbGlwLSIrYSsiLSIrYisiLSIrYysiLSIrZCxmPTAsZz1lKyItIitmO251bGwhPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGcpOylnPWUrIi0iKyArK2Y7Y2xpcD10aGlzLmNyZWF0ZUVsZW1lbnQoImNsaXBQYXRoIik7Y2xpcC5zZXRBdHRyaWJ1dGUoImlkIixnKTtlPXRoaXMuY3JlYXRlRWxlbWVudCgicmVjdCIpO2Uuc2V0QXR0cmlidXRlKCJ4IixhKTtlLnNldEF0dHJpYnV0ZSgieSIsYik7ZS5zZXRBdHRyaWJ1dGUoIndpZHRoIixjKTtlLnNldEF0dHJpYnV0ZSgiaGVpZ2h0IixkKTtjbGlwLmFwcGVuZENoaWxkKGUpO3JldHVybiBjbGlwfTsKbXhTdmdDYW52YXMyRC5wcm90b3R5cGUucGxhaW5UZXh0PWZ1bmN0aW9uKGEsYixjLGQsZSxmLGcsayxsLG0sbixwKXtuPW51bGwhPW4/bjowO2s9dGhpcy5zdGF0ZTt2YXIgcT1rLmZvbnRTaXplLHI9dGhpcy5jcmVhdGVFbGVtZW50KCJnIiksdD1rLnRyYW5zZm9ybXx8IiI7dGhpcy51cGRhdGVGb250KHIpOzAhPW4mJih0Kz0icm90YXRlKCIrbisiLCIrdGhpcy5mb3JtYXQoYSprLnNjYWxlKSsiLCIrdGhpcy5mb3JtYXQoYiprLnNjYWxlKSsiKSIpO251bGwhPXAmJnIuc2V0QXR0cmlidXRlKCJkaXJlY3Rpb24iLHApO20mJjA8YyYmMDxkJiYocD1hLG49YixmPT1teENvbnN0YW50cy5BTElHTl9DRU5URVI/cC09Yy8yOmY9PW14Q29uc3RhbnRzLkFMSUdOX1JJR0hUJiYocC09YyksImZpbGwiIT1sJiYoZz09bXhDb25zdGFudHMuQUxJR05fTUlERExFP24tPWQvMjpnPT1teENvbnN0YW50cy5BTElHTl9CT1RUT00mJihuLT1kKSksbj10aGlzLmNyZWF0ZUNsaXAocCprLnNjYWxlLTIsCm4qay5zY2FsZS0yLGMqay5zY2FsZSs0LGQqay5zY2FsZSs0KSxudWxsIT10aGlzLmRlZnM/dGhpcy5kZWZzLmFwcGVuZENoaWxkKG4pOnRoaXMucm9vdC5hcHBlbmRDaGlsZChuKSxteENsaWVudC5JU19DSFJPTUVBUFB8fG14Q2xpZW50LklTX0lFfHxteENsaWVudC5JU19JRTExfHxteENsaWVudC5JU19FREdFfHx0aGlzLnJvb3Qub3duZXJEb2N1bWVudCE9ZG9jdW1lbnQ/ci5zZXRBdHRyaWJ1dGUoImNsaXAtcGF0aCIsInVybCgjIituLmdldEF0dHJpYnV0ZSgiaWQiKSsiKSIpOihwPXRoaXMuZ2V0QmFzZVVybCgpLnJlcGxhY2UoLyhbXChcKV0pL2csIlxcJDEiKSxyLnNldEF0dHJpYnV0ZSgiY2xpcC1wYXRoIiwidXJsKCIrcCsiIyIrbi5nZXRBdHRyaWJ1dGUoImlkIikrIikiKSkpO249Zj09bXhDb25zdGFudHMuQUxJR05fUklHSFQ/ImVuZCI6Zj09bXhDb25zdGFudHMuQUxJR05fQ0VOVEVSPyJtaWRkbGUiOiJzdGFydCI7InN0YXJ0IiE9biYmci5zZXRBdHRyaWJ1dGUoInRleHQtYW5jaG9yIiwKbik7dGhpcy5zdHlsZUVuYWJsZWQmJnE9PW14Q29uc3RhbnRzLkRFRkFVTFRfRk9OVFNJWkV8fHIuc2V0QXR0cmlidXRlKCJmb250LXNpemUiLHEqay5zY2FsZSsicHgiKTswPHQubGVuZ3RoJiZyLnNldEF0dHJpYnV0ZSgidHJhbnNmb3JtIix0KTsxPmsuYWxwaGEmJnIuc2V0QXR0cmlidXRlKCJvcGFjaXR5IixrLmFscGhhKTt0PWUuc3BsaXQoIlxuIik7cD1NYXRoLnJvdW5kKHEqbXhDb25zdGFudHMuTElORV9IRUlHSFQpO3ZhciB1PXErKHQubGVuZ3RoLTEpKnA7bj1iK3EtMTtnPT1teENvbnN0YW50cy5BTElHTl9NSURETEU/ImZpbGwiPT1sP24tPWQvMjoobT0odGhpcy5tYXRjaEh0bWxBbGlnbm1lbnQmJm0mJjA8ZD9NYXRoLm1pbih1LGQpOnUpLzIsbi09bSk6Zz09bXhDb25zdGFudHMuQUxJR05fQk9UVE9NJiYoImZpbGwiPT1sP24tPWQ6KG09dGhpcy5tYXRjaEh0bWxBbGlnbm1lbnQmJm0mJjA8ZD9NYXRoLm1pbih1LGQpOnUsbi09bSsxKSk7Zm9yKG09MDttPHQubGVuZ3RoO20rKykwPAp0W21dLmxlbmd0aCYmMDxteFV0aWxzLnRyaW0odFttXSkubGVuZ3RoJiYocT10aGlzLmNyZWF0ZUVsZW1lbnQoInRleHQiKSxxLnNldEF0dHJpYnV0ZSgieCIsdGhpcy5mb3JtYXQoYSprLnNjYWxlKSt0aGlzLnRleHRPZmZzZXQpLHEuc2V0QXR0cmlidXRlKCJ5Iix0aGlzLmZvcm1hdChuKmsuc2NhbGUpK3RoaXMudGV4dE9mZnNldCksbXhVdGlscy53cml0ZShxLHRbbV0pLHIuYXBwZW5kQ2hpbGQocSkpLG4rPXA7dGhpcy5yb290LmFwcGVuZENoaWxkKHIpO3RoaXMuYWRkVGV4dEJhY2tncm91bmQocixlLGEsYixjLCJmaWxsIj09bD9kOnUsZixnLGwpfTsKbXhTdmdDYW52YXMyRC5wcm90b3R5cGUudXBkYXRlRm9udD1mdW5jdGlvbihhKXt2YXIgYj10aGlzLnN0YXRlO2Euc2V0QXR0cmlidXRlKCJmaWxsIixiLmZvbnRDb2xvcik7dGhpcy5zdHlsZUVuYWJsZWQmJmIuZm9udEZhbWlseT09bXhDb25zdGFudHMuREVGQVVMVF9GT05URkFNSUxZfHxhLnNldEF0dHJpYnV0ZSgiZm9udC1mYW1pbHkiLGIuZm9udEZhbWlseSk7KGIuZm9udFN0eWxlJm14Q29uc3RhbnRzLkZPTlRfQk9MRCk9PW14Q29uc3RhbnRzLkZPTlRfQk9MRCYmYS5zZXRBdHRyaWJ1dGUoImZvbnQtd2VpZ2h0IiwiYm9sZCIpOyhiLmZvbnRTdHlsZSZteENvbnN0YW50cy5GT05UX0lUQUxJQyk9PW14Q29uc3RhbnRzLkZPTlRfSVRBTElDJiZhLnNldEF0dHJpYnV0ZSgiZm9udC1zdHlsZSIsIml0YWxpYyIpO3ZhciBjPVtdOyhiLmZvbnRTdHlsZSZteENvbnN0YW50cy5GT05UX1VOREVSTElORSk9PW14Q29uc3RhbnRzLkZPTlRfVU5ERVJMSU5FJiZjLnB1c2goInVuZGVybGluZSIpOwooYi5mb250U3R5bGUmbXhDb25zdGFudHMuRk9OVF9TVFJJS0VUSFJPVUdIKT09bXhDb25zdGFudHMuRk9OVF9TVFJJS0VUSFJPVUdIJiZjLnB1c2goImxpbmUtdGhyb3VnaCIpOzA8Yy5sZW5ndGgmJmEuc2V0QXR0cmlidXRlKCJ0ZXh0LWRlY29yYXRpb24iLGMuam9pbigiICIpKX07Cm14U3ZnQ2FudmFzMkQucHJvdG90eXBlLmFkZFRleHRCYWNrZ3JvdW5kPWZ1bmN0aW9uKGEsYixjLGQsZSxmLGcsayxsKXt2YXIgbT10aGlzLnN0YXRlO2lmKG51bGwhPW0uZm9udEJhY2tncm91bmRDb2xvcnx8bnVsbCE9bS5mb250Qm9yZGVyQ29sb3Ipe3ZhciBuPW51bGw7aWYoImZpbGwiPT1sfHwid2lkdGgiPT1sKWc9PW14Q29uc3RhbnRzLkFMSUdOX0NFTlRFUj9jLT1lLzI6Zz09bXhDb25zdGFudHMuQUxJR05fUklHSFQmJihjLT1lKSxrPT1teENvbnN0YW50cy5BTElHTl9NSURETEU/ZC09Zi8yOms9PW14Q29uc3RhbnRzLkFMSUdOX0JPVFRPTSYmKGQtPWYpLG49bmV3IG14UmVjdGFuZ2xlKChjKzEpKm0uc2NhbGUsZCptLnNjYWxlLChlLTIpKm0uc2NhbGUsKGYrMikqbS5zY2FsZSk7ZWxzZSBpZihudWxsIT1hLmdldEJCb3gmJnRoaXMucm9vdC5vd25lckRvY3VtZW50PT1kb2N1bWVudCl0cnl7dmFyIG49YS5nZXRCQm94KCkscD1teENsaWVudC5JU19JRSYmbXhDbGllbnQuSVNfU1ZHLApuPW5ldyBteFJlY3RhbmdsZShuLngsbi55KyhwPzA6MSksbi53aWR0aCxuLmhlaWdodCsocD8xOjApKX1jYXRjaChxKXt9ZWxzZSBuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLG4uc3R5bGUubGluZUhlaWdodD1teENvbnN0YW50cy5BQlNPTFVURV9MSU5FX0hFSUdIVD9tLmZvbnRTaXplKm14Q29uc3RhbnRzLkxJTkVfSEVJR0hUKyJweCI6bXhDb25zdGFudHMuTElORV9IRUlHSFQsbi5zdHlsZS5mb250U2l6ZT1tLmZvbnRTaXplKyJweCIsbi5zdHlsZS5mb250RmFtaWx5PW0uZm9udEZhbWlseSxuLnN0eWxlLndoaXRlU3BhY2U9Im5vd3JhcCIsbi5zdHlsZS5wb3NpdGlvbj0iYWJzb2x1dGUiLG4uc3R5bGUudmlzaWJpbGl0eT0iaGlkZGVuIixuLnN0eWxlLmRpc3BsYXk9bXhDbGllbnQuSVNfUVVJUktTPyJpbmxpbmUiOiJpbmxpbmUtYmxvY2siLG4uc3R5bGUuem9vbT0iMSIsKG0uZm9udFN0eWxlJm14Q29uc3RhbnRzLkZPTlRfQk9MRCk9PW14Q29uc3RhbnRzLkZPTlRfQk9MRCYmCihuLnN0eWxlLmZvbnRXZWlnaHQ9ImJvbGQiKSwobS5mb250U3R5bGUmbXhDb25zdGFudHMuRk9OVF9JVEFMSUMpPT1teENvbnN0YW50cy5GT05UX0lUQUxJQyYmKG4uc3R5bGUuZm9udFN0eWxlPSJpdGFsaWMiKSxiPW14VXRpbHMuaHRtbEVudGl0aWVzKGIsITEpLG4uaW5uZXJIVE1MPWIucmVwbGFjZSgvXG4vZywiPGJyLz4iKSxkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG4pLGU9bi5vZmZzZXRXaWR0aCxmPW4ub2Zmc2V0SGVpZ2h0LG4ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChuKSxnPT1teENvbnN0YW50cy5BTElHTl9DRU5URVI/Yy09ZS8yOmc9PW14Q29uc3RhbnRzLkFMSUdOX1JJR0hUJiYoYy09ZSksaz09bXhDb25zdGFudHMuQUxJR05fTUlERExFP2QtPWYvMjprPT1teENvbnN0YW50cy5BTElHTl9CT1RUT00mJihkLT1mKSxuPW5ldyBteFJlY3RhbmdsZSgoYysxKSptLnNjYWxlLChkKzIpKm0uc2NhbGUsZSptLnNjYWxlLChmKzEpKm0uc2NhbGUpO251bGwhPW4mJihiPQp0aGlzLmNyZWF0ZUVsZW1lbnQoInJlY3QiKSxiLnNldEF0dHJpYnV0ZSgiZmlsbCIsbS5mb250QmFja2dyb3VuZENvbG9yfHwibm9uZSIpLGIuc2V0QXR0cmlidXRlKCJzdHJva2UiLG0uZm9udEJvcmRlckNvbG9yfHwibm9uZSIpLGIuc2V0QXR0cmlidXRlKCJ4IixNYXRoLmZsb29yKG4ueC0xKSksYi5zZXRBdHRyaWJ1dGUoInkiLE1hdGguZmxvb3Iobi55LTEpKSxiLnNldEF0dHJpYnV0ZSgid2lkdGgiLE1hdGguY2VpbChuLndpZHRoKzIpKSxiLnNldEF0dHJpYnV0ZSgiaGVpZ2h0IixNYXRoLmNlaWwobi5oZWlnaHQpKSxtPW51bGwhPW0uZm9udEJvcmRlckNvbG9yP01hdGgubWF4KDEsdGhpcy5mb3JtYXQobS5zY2FsZSkpOjAsYi5zZXRBdHRyaWJ1dGUoInN0cm9rZS13aWR0aCIsbSksdGhpcy5yb290Lm93bmVyRG9jdW1lbnQ9PWRvY3VtZW50JiYxPT1teFV0aWxzLm1vZChtLDIpJiZiLnNldEF0dHJpYnV0ZSgidHJhbnNmb3JtIiwidHJhbnNsYXRlKDAuNSwgMC41KSIpLGEuaW5zZXJ0QmVmb3JlKGIsCmEuZmlyc3RDaGlsZCkpfX07bXhTdmdDYW52YXMyRC5wcm90b3R5cGUuc3Ryb2tlPWZ1bmN0aW9uKCl7dGhpcy5hZGROb2RlKCExLCEwKX07bXhTdmdDYW52YXMyRC5wcm90b3R5cGUuZmlsbD1mdW5jdGlvbigpe3RoaXMuYWRkTm9kZSghMCwhMSl9O214U3ZnQ2FudmFzMkQucHJvdG90eXBlLmZpbGxBbmRTdHJva2U9ZnVuY3Rpb24oKXt0aGlzLmFkZE5vZGUoITAsITApfTt2YXIgbXhWbWxDYW52YXMyRD1mdW5jdGlvbihhKXtteEFic3RyYWN0Q2FudmFzMkQuY2FsbCh0aGlzKTt0aGlzLnJvb3Q9YX07bXhVdGlscy5leHRlbmQobXhWbWxDYW52YXMyRCxteEFic3RyYWN0Q2FudmFzMkQpO214Vm1sQ2FudmFzMkQucHJvdG90eXBlLm5vZGU9bnVsbDtteFZtbENhbnZhczJELnByb3RvdHlwZS50ZXh0RW5hYmxlZD0hMDtteFZtbENhbnZhczJELnByb3RvdHlwZS5tb3ZlT3A9Im0iO214Vm1sQ2FudmFzMkQucHJvdG90eXBlLmxpbmVPcD0ibCI7Cm14Vm1sQ2FudmFzMkQucHJvdG90eXBlLmN1cnZlT3A9ImMiO214Vm1sQ2FudmFzMkQucHJvdG90eXBlLmNsb3NlT3A9IngiO214Vm1sQ2FudmFzMkQucHJvdG90eXBlLnJvdGF0ZWRIdG1sQmFja2dyb3VuZD0iIjtteFZtbENhbnZhczJELnByb3RvdHlwZS52bWxTY2FsZT0xO214Vm1sQ2FudmFzMkQucHJvdG90eXBlLmNyZWF0ZUVsZW1lbnQ9ZnVuY3Rpb24oYSl7cmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoYSl9O214Vm1sQ2FudmFzMkQucHJvdG90eXBlLmNyZWF0ZVZtbEVsZW1lbnQ9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuY3JlYXRlRWxlbWVudChteENsaWVudC5WTUxfUFJFRklYKyI6IithKX07Cm14Vm1sQ2FudmFzMkQucHJvdG90eXBlLmFkZE5vZGU9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLm5vZGUsZD10aGlzLnN0YXRlO2lmKG51bGwhPWMpe2lmKCJzaGFwZSI9PWMubm9kZU5hbWUpaWYobnVsbCE9dGhpcy5wYXRoJiYwPHRoaXMucGF0aC5sZW5ndGgpYy5wYXRoPXRoaXMucGF0aC5qb2luKCIgIikrIiBlIixjLnN0eWxlLndpZHRoPXRoaXMucm9vdC5zdHlsZS53aWR0aCxjLnN0eWxlLmhlaWdodD10aGlzLnJvb3Quc3R5bGUuaGVpZ2h0LGMuY29vcmRzaXplPXBhcnNlSW50KGMuc3R5bGUud2lkdGgpKyIgIitwYXJzZUludChjLnN0eWxlLmhlaWdodCk7ZWxzZSByZXR1cm47Yy5zdHJva2V3ZWlnaHQ9dGhpcy5mb3JtYXQoTWF0aC5tYXgoMSxkLnN0cm9rZVdpZHRoKmQuc2NhbGUvdGhpcy52bWxTY2FsZSkpKyJweCI7ZC5zaGFkb3cmJnRoaXMucm9vdC5hcHBlbmRDaGlsZCh0aGlzLmNyZWF0ZVNoYWRvdyhjLGEmJm51bGwhPWQuZmlsbENvbG9yLGImJm51bGwhPWQuc3Ryb2tlQ29sb3IpKTsKYiYmbnVsbCE9ZC5zdHJva2VDb2xvcj8oYy5zdHJva2VkPSJ0cnVlIixjLnN0cm9rZWNvbG9yPWQuc3Ryb2tlQ29sb3IpOmMuc3Ryb2tlZD0iZmFsc2UiO2MuYXBwZW5kQ2hpbGQodGhpcy5jcmVhdGVTdHJva2UoKSk7YSYmbnVsbCE9ZC5maWxsQ29sb3I/Yy5hcHBlbmRDaGlsZCh0aGlzLmNyZWF0ZUZpbGwoKSk6IXRoaXMucG9pbnRlckV2ZW50c3x8InNoYXBlIj09Yy5ub2RlTmFtZSYmdGhpcy5wYXRoW3RoaXMucGF0aC5sZW5ndGgtMV0hPXRoaXMuY2xvc2VPcD9jLmZpbGxlZD0iZmFsc2UiOmMuYXBwZW5kQ2hpbGQodGhpcy5jcmVhdGVUcmFuc3BhcmVudEZpbGwoKSk7dGhpcy5yb290LmFwcGVuZENoaWxkKGMpfX07Cm14Vm1sQ2FudmFzMkQucHJvdG90eXBlLmNyZWF0ZVRyYW5zcGFyZW50RmlsbD1mdW5jdGlvbigpe3ZhciBhPXRoaXMuY3JlYXRlVm1sRWxlbWVudCgiZmlsbCIpO2Euc3JjPW14Q2xpZW50LmltYWdlQmFzZVBhdGgrIi90cmFuc3BhcmVudC5naWYiO2EudHlwZT0idGlsZSI7cmV0dXJuIGF9OwpteFZtbENhbnZhczJELnByb3RvdHlwZS5jcmVhdGVGaWxsPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5zdGF0ZSxiPXRoaXMuY3JlYXRlVm1sRWxlbWVudCgiZmlsbCIpO2IuY29sb3I9YS5maWxsQ29sb3I7aWYobnVsbCE9YS5ncmFkaWVudENvbG9yKXtiLnR5cGU9ImdyYWRpZW50IjtiLm1ldGhvZD0ibm9uZSI7Yi5jb2xvcjI9YS5ncmFkaWVudENvbG9yO3ZhciBjPTE4MC1hLnJvdGF0aW9uLGM9YS5ncmFkaWVudERpcmVjdGlvbj09bXhDb25zdGFudHMuRElSRUNUSU9OX1dFU1Q/Yy0oOTArKCJ4Ij09dGhpcy5yb290LnN0eWxlLmZsaXA/MTgwOjApKTphLmdyYWRpZW50RGlyZWN0aW9uPT1teENvbnN0YW50cy5ESVJFQ1RJT05fRUFTVD9jKyg5MCsoIngiPT10aGlzLnJvb3Quc3R5bGUuZmxpcD8xODA6MCkpOmEuZ3JhZGllbnREaXJlY3Rpb249PW14Q29uc3RhbnRzLkRJUkVDVElPTl9OT1JUSD9jLSgxODArKCJ5Ij09dGhpcy5yb290LnN0eWxlLmZsaXA/LTE4MDowKSk6YysoInkiPT0KdGhpcy5yb290LnN0eWxlLmZsaXA/LTE4MDowKTtpZigieCI9PXRoaXMucm9vdC5zdHlsZS5mbGlwfHwieSI9PXRoaXMucm9vdC5zdHlsZS5mbGlwKWMqPS0xO2IuYW5nbGU9bXhVdGlscy5tb2QoYywzNjApO2Iub3BhY2l0eT1hLmFscGhhKmEuZ3JhZGllbnRGaWxsQWxwaGEqMTAwKyIlIjtiLnNldEF0dHJpYnV0ZShteENsaWVudC5PRkZJQ0VfUFJFRklYKyI6b3BhY2l0eTIiLGEuYWxwaGEqYS5ncmFkaWVudEFscGhhKjEwMCsiJSIpfWVsc2UgaWYoMT5hLmFscGhhfHwxPmEuZmlsbEFscGhhKWIub3BhY2l0eT1hLmFscGhhKmEuZmlsbEFscGhhKjEwMCsiJSI7cmV0dXJuIGJ9OwpteFZtbENhbnZhczJELnByb3RvdHlwZS5jcmVhdGVTdHJva2U9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnN0YXRlLGI9dGhpcy5jcmVhdGVWbWxFbGVtZW50KCJzdHJva2UiKTtiLmVuZGNhcD1hLmxpbmVDYXB8fCJmbGF0IjtiLmpvaW5zdHlsZT1hLmxpbmVKb2lufHwibWl0ZXIiO2IubWl0ZXJsaW1pdD1hLm1pdGVyTGltaXR8fCIxMCI7aWYoMT5hLmFscGhhfHwxPmEuc3Ryb2tlQWxwaGEpYi5vcGFjaXR5PWEuYWxwaGEqYS5zdHJva2VBbHBoYSoxMDArIiUiO2EuZGFzaGVkJiYoYi5kYXNoc3R5bGU9dGhpcy5nZXRWbWxEYXNoU3R5bGUoKSk7cmV0dXJuIGJ9O214Vm1sQ2FudmFzMkQucHJvdG90eXBlLmdldFZtbERhc2hTdHlsZT1mdW5jdGlvbigpe3ZhciBhPSJkYXNoIjtpZigic3RyaW5nIj09PXR5cGVvZiB0aGlzLnN0YXRlLmRhc2hQYXR0ZXJuKXt2YXIgYj10aGlzLnN0YXRlLmRhc2hQYXR0ZXJuLnNwbGl0KCIgIik7MDxiLmxlbmd0aCYmMT09YlswXSYmKGE9IjAgMiIpfXJldHVybiBhfTsKbXhWbWxDYW52YXMyRC5wcm90b3R5cGUuY3JlYXRlU2hhZG93PWZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLnN0YXRlLGU9TWF0aC5QSS8xODAqLWQucm90YXRpb24sZj1NYXRoLmNvcyhlKSxlPU1hdGguc2luKGUpLGc9ZC5zaGFkb3dEeCpkLnNjYWxlLGs9ZC5zaGFkb3dEeSpkLnNjYWxlOyJ4Ij09dGhpcy5yb290LnN0eWxlLmZsaXA/Zyo9LTE6InkiPT10aGlzLnJvb3Quc3R5bGUuZmxpcCYmKGsqPS0xKTt2YXIgbD1hLmNsb25lTm9kZSghMCk7bC5zdHlsZS5tYXJnaW5MZWZ0PU1hdGgucm91bmQoZypmLWsqZSkrInB4IjtsLnN0eWxlLm1hcmdpblRvcD1NYXRoLnJvdW5kKGcqZStrKmYpKyJweCI7OD09ZG9jdW1lbnQuZG9jdW1lbnRNb2RlJiYobC5zdHJva2V3ZWlnaHQ9YS5zdHJva2V3ZWlnaHQsInNoYXBlIj09YS5ub2RlTmFtZSYmKGwucGF0aD10aGlzLnBhdGguam9pbigiICIpKyIgZSIsbC5zdHlsZS53aWR0aD10aGlzLnJvb3Quc3R5bGUud2lkdGgsbC5zdHlsZS5oZWlnaHQ9CnRoaXMucm9vdC5zdHlsZS5oZWlnaHQsbC5jb29yZHNpemU9cGFyc2VJbnQoYS5zdHlsZS53aWR0aCkrIiAiK3BhcnNlSW50KGEuc3R5bGUuaGVpZ2h0KSkpO2M/KGwuc3Ryb2tlY29sb3I9ZC5zaGFkb3dDb2xvcixsLmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlU2hhZG93U3Ryb2tlKCkpKTpsLnN0cm9rZWQ9ImZhbHNlIjtiP2wuYXBwZW5kQ2hpbGQodGhpcy5jcmVhdGVTaGFkb3dGaWxsKCkpOmwuZmlsbGVkPSJmYWxzZSI7cmV0dXJuIGx9O214Vm1sQ2FudmFzMkQucHJvdG90eXBlLmNyZWF0ZVNoYWRvd0ZpbGw9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmNyZWF0ZVZtbEVsZW1lbnQoImZpbGwiKTthLmNvbG9yPXRoaXMuc3RhdGUuc2hhZG93Q29sb3I7YS5vcGFjaXR5PXRoaXMuc3RhdGUuYWxwaGEqdGhpcy5zdGF0ZS5zaGFkb3dBbHBoYSoxMDArIiUiO3JldHVybiBhfTsKbXhWbWxDYW52YXMyRC5wcm90b3R5cGUuY3JlYXRlU2hhZG93U3Ryb2tlPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5jcmVhdGVTdHJva2UoKTthLm9wYWNpdHk9dGhpcy5zdGF0ZS5hbHBoYSp0aGlzLnN0YXRlLnNoYWRvd0FscGhhKjEwMCsiJSI7cmV0dXJuIGF9O214Vm1sQ2FudmFzMkQucHJvdG90eXBlLnJvdGF0ZT1mdW5jdGlvbihhLGIsYyxkLGUpe2ImJmM/YSs9MTgwOmI/dGhpcy5yb290LnN0eWxlLmZsaXA9IngiOmMmJih0aGlzLnJvb3Quc3R5bGUuZmxpcD0ieSIpO2lmKGI/IWM6YylhKj0tMTt0aGlzLnJvb3Quc3R5bGUucm90YXRpb249YTt0aGlzLnN0YXRlLnJvdGF0aW9uKz1hO3RoaXMuc3RhdGUucm90YXRpb25DeD1kO3RoaXMuc3RhdGUucm90YXRpb25DeT1lfTsKbXhWbWxDYW52YXMyRC5wcm90b3R5cGUuYmVnaW49ZnVuY3Rpb24oKXtteEFic3RyYWN0Q2FudmFzMkQucHJvdG90eXBlLmJlZ2luLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLm5vZGU9dGhpcy5jcmVhdGVWbWxFbGVtZW50KCJzaGFwZSIpO3RoaXMubm9kZS5zdHlsZS5wb3NpdGlvbj0iYWJzb2x1dGUifTsKbXhWbWxDYW52YXMyRC5wcm90b3R5cGUucXVhZFRvPWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPXRoaXMuc3RhdGUsZj0odGhpcy5sYXN0WCtlLmR4KSplLnNjYWxlLGc9KHRoaXMubGFzdFkrZS5keSkqZS5zY2FsZTthPShhK2UuZHgpKmUuc2NhbGU7Yj0oYitlLmR5KSplLnNjYWxlO2M9KGMrZS5keCkqZS5zY2FsZTtkPShkK2UuZHkpKmUuc2NhbGU7dmFyIGc9ZysyLzMqKGItZyksaz1jKzIvMyooYS1jKTtiPWQrMi8zKihiLWQpO3RoaXMucGF0aC5wdXNoKCJjICIrdGhpcy5mb3JtYXQoZisyLzMqKGEtZikpKyIgIit0aGlzLmZvcm1hdChnKSsiICIrdGhpcy5mb3JtYXQoaykrIiAiK3RoaXMuZm9ybWF0KGIpKyIgIit0aGlzLmZvcm1hdChjKSsiICIrdGhpcy5mb3JtYXQoZCkpO3RoaXMubGFzdFg9Yy9lLnNjYWxlLWUuZHg7dGhpcy5sYXN0WT1kL2Uuc2NhbGUtZS5keX07Cm14Vm1sQ2FudmFzMkQucHJvdG90eXBlLmNyZWF0ZVJlY3Q9ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZj10aGlzLnN0YXRlO2E9dGhpcy5jcmVhdGVWbWxFbGVtZW50KGEpO2Euc3R5bGUucG9zaXRpb249ImFic29sdXRlIjthLnN0eWxlLmxlZnQ9dGhpcy5mb3JtYXQoKGIrZi5keCkqZi5zY2FsZSkrInB4IjthLnN0eWxlLnRvcD10aGlzLmZvcm1hdCgoYytmLmR5KSpmLnNjYWxlKSsicHgiO2Euc3R5bGUud2lkdGg9dGhpcy5mb3JtYXQoZCpmLnNjYWxlKSsicHgiO2Euc3R5bGUuaGVpZ2h0PXRoaXMuZm9ybWF0KGUqZi5zY2FsZSkrInB4IjtyZXR1cm4gYX07bXhWbWxDYW52YXMyRC5wcm90b3R5cGUucmVjdD1mdW5jdGlvbihhLGIsYyxkKXt0aGlzLm5vZGU9dGhpcy5jcmVhdGVSZWN0KCJyZWN0IixhLGIsYyxkKX07Cm14Vm1sQ2FudmFzMkQucHJvdG90eXBlLnJvdW5kcmVjdD1mdW5jdGlvbihhLGIsYyxkLGUsZil7dGhpcy5ub2RlPXRoaXMuY3JlYXRlUmVjdCgicm91bmRyZWN0IixhLGIsYyxkKTt0aGlzLm5vZGUuc2V0QXR0cmlidXRlKCJhcmNzaXplIixNYXRoLm1heCgxMDAqZS9jLDEwMCpmL2QpKyIlIil9O214Vm1sQ2FudmFzMkQucHJvdG90eXBlLmVsbGlwc2U9ZnVuY3Rpb24oYSxiLGMsZCl7dGhpcy5ub2RlPXRoaXMuY3JlYXRlUmVjdCgib3ZhbCIsYSxiLGMsZCl9OwpteFZtbENhbnZhczJELnByb3RvdHlwZS5pbWFnZT1mdW5jdGlvbihhLGIsYyxkLGUsZixnLGspe2Y/KGE9dGhpcy5jcmVhdGVSZWN0KCJyZWN0IixhLGIsYyxkKSxhLnN0cm9rZWQ9ImZhbHNlIixiPXRoaXMuY3JlYXRlVm1sRWxlbWVudCgiZmlsbCIpLGIuYXNwZWN0PWY/ImF0bW9zdCI6Imlnbm9yZSIsYi5yb3RhdGU9InRydWUiLGIudHlwZT0iZnJhbWUiLGIuc3JjPWUsYS5hcHBlbmRDaGlsZChiKSk6KGE9dGhpcy5jcmVhdGVSZWN0KCJpbWFnZSIsYSxiLGMsZCksYS5zcmM9ZSk7ZyYmaz9hLnN0eWxlLnJvdGF0aW9uPSIxODAiOmc/YS5zdHlsZS5mbGlwPSJ4IjprJiYoYS5zdHlsZS5mbGlwPSJ5Iik7aWYoMT50aGlzLnN0YXRlLmFscGhhfHwxPnRoaXMuc3RhdGUuZmlsbEFscGhhKWEuc3R5bGUuZmlsdGVyKz0iYWxwaGEob3BhY2l0eT0iK3RoaXMuc3RhdGUuYWxwaGEqdGhpcy5zdGF0ZS5maWxsQWxwaGEqMTAwKyIpIjt0aGlzLnJvb3QuYXBwZW5kQ2hpbGQoYSl9OwpteFZtbENhbnZhczJELnByb3RvdHlwZS5jcmVhdGVEaXY9ZnVuY3Rpb24oYSxiLGMsZCl7Yz10aGlzLmNyZWF0ZUVsZW1lbnQoImRpdiIpO3ZhciBlPXRoaXMuc3RhdGUsZj0iIjtudWxsIT1lLmZvbnRCYWNrZ3JvdW5kQ29sb3ImJihmKz0iYmFja2dyb3VuZC1jb2xvcjoiK214VXRpbHMuaHRtbEVudGl0aWVzKGUuZm9udEJhY2tncm91bmRDb2xvcikrIjsiKTtudWxsIT1lLmZvbnRCb3JkZXJDb2xvciYmKGYrPSJib3JkZXI6MXB4IHNvbGlkICIrbXhVdGlscy5odG1sRW50aXRpZXMoZS5mb250Qm9yZGVyQ29sb3IpKyI7Iik7bXhVdGlscy5pc05vZGUoYSk/Yy5hcHBlbmRDaGlsZChhKToiZmlsbCIhPWQmJiJ3aWR0aCIhPWQ/KGQ9dGhpcy5jcmVhdGVFbGVtZW50KCJkaXYiKSxkLnN0eWxlLmNzc1RleHQ9ZixkLnN0eWxlLmRpc3BsYXk9bXhDbGllbnQuSVNfUVVJUktTPyJpbmxpbmUiOiJpbmxpbmUtYmxvY2siLGQuc3R5bGUuem9vbT0iMSIsZC5zdHlsZS50ZXh0RGVjb3JhdGlvbj0KImluaGVyaXQiLGQuaW5uZXJIVE1MPWEsYy5hcHBlbmRDaGlsZChkKSk6KGMuc3R5bGUuY3NzVGV4dD1mLGMuaW5uZXJIVE1MPWEpO2E9Yy5zdHlsZTthLmZvbnRTaXplPWUuZm9udFNpemUvdGhpcy52bWxTY2FsZSsicHgiO2EuZm9udEZhbWlseT1lLmZvbnRGYW1pbHk7YS5jb2xvcj1lLmZvbnRDb2xvcjthLnZlcnRpY2FsQWxpZ249InRvcCI7YS50ZXh0QWxpZ249Ynx8ImxlZnQiO2EubGluZUhlaWdodD1teENvbnN0YW50cy5BQlNPTFVURV9MSU5FX0hFSUdIVD9lLmZvbnRTaXplKm14Q29uc3RhbnRzLkxJTkVfSEVJR0hUL3RoaXMudm1sU2NhbGUrInB4IjpteENvbnN0YW50cy5MSU5FX0hFSUdIVDsoZS5mb250U3R5bGUmbXhDb25zdGFudHMuRk9OVF9CT0xEKT09bXhDb25zdGFudHMuRk9OVF9CT0xEJiYoYS5mb250V2VpZ2h0PSJib2xkIik7KGUuZm9udFN0eWxlJm14Q29uc3RhbnRzLkZPTlRfSVRBTElDKT09bXhDb25zdGFudHMuRk9OVF9JVEFMSUMmJihhLmZvbnRTdHlsZT0iaXRhbGljIik7CihlLmZvbnRTdHlsZSZteENvbnN0YW50cy5GT05UX1VOREVSTElORSk9PW14Q29uc3RhbnRzLkZPTlRfVU5ERVJMSU5FJiYoYS50ZXh0RGVjb3JhdGlvbj0idW5kZXJsaW5lIik7cmV0dXJuIGN9OwpteFZtbENhbnZhczJELnByb3RvdHlwZS50ZXh0PWZ1bmN0aW9uKGEsYixjLGQsZSxmLGcsayxsLG0sbixwLHEpe2lmKHRoaXMudGV4dEVuYWJsZWQmJm51bGwhPWUpe3ZhciByPXRoaXMuc3RhdGU7aWYoImh0bWwiPT1sKXtudWxsIT1yLnJvdGF0aW9uJiYoYj10aGlzLnJvdGF0ZVBvaW50KGEsYixyLnJvdGF0aW9uLHIucm90YXRpb25DeCxyLnJvdGF0aW9uQ3kpLGE9Yi54LGI9Yi55KTs4IT1kb2N1bWVudC5kb2N1bWVudE1vZGV8fG14Q2xpZW50LklTX0VNPyhhKj1yLnNjYWxlLGIqPXIuc2NhbGUpOihhKz1yLmR4LGIrPXIuZHksImZpbGwiIT1tJiZnPT1teENvbnN0YW50cy5BTElHTl9UT1AmJi0tYik7bD04IT1kb2N1bWVudC5kb2N1bWVudE1vZGV8fG14Q2xpZW50LklTX0VNP3RoaXMuY3JlYXRlRWxlbWVudCgiZGl2Iik6dGhpcy5jcmVhdGVWbWxFbGVtZW50KCJncm91cCIpO2wuc3R5bGUucG9zaXRpb249ImFic29sdXRlIjtsLnN0eWxlLmRpc3BsYXk9ImlubGluZSI7bC5zdHlsZS5sZWZ0PQp0aGlzLmZvcm1hdChhKSsicHgiO2wuc3R5bGUudG9wPXRoaXMuZm9ybWF0KGIpKyJweCI7bC5zdHlsZS56b29tPXIuc2NhbGU7dmFyIHQ9dGhpcy5jcmVhdGVFbGVtZW50KCJkaXYiKTt0LnN0eWxlLnBvc2l0aW9uPSJyZWxhdGl2ZSI7dC5zdHlsZS5kaXNwbGF5PSJpbmxpbmUiO3ZhciB1PW14VXRpbHMuZ2V0QWxpZ25tZW50QXNQb2ludChmLGcpLHg9dS54LHU9dS55O2U9dGhpcy5jcmVhdGVEaXYoZSxmLGcsbSk7Zj10aGlzLmNyZWF0ZUVsZW1lbnQoImRpdiIpO251bGwhPXEmJmUuc2V0QXR0cmlidXRlKCJkaXIiLHEpO2lmKGsmJjA8Yyl7aWYobnx8KGUuc3R5bGUud2lkdGg9TWF0aC5yb3VuZChjKSsicHgiKSxlLnN0eWxlLndvcmRXcmFwPW14Q29uc3RhbnRzLldPUkRfV1JBUCxlLnN0eWxlLndoaXRlU3BhY2U9Im5vcm1hbCIsImJyZWFrLXdvcmQiPT1lLnN0eWxlLndvcmRXcmFwKXt2YXIgeT1lO251bGwhPXkuZmlyc3RDaGlsZCYmIkRJViI9PXkuZmlyc3RDaGlsZC5ub2RlTmFtZSYmCih5LmZpcnN0Q2hpbGQuc3R5bGUud2lkdGg9IjEwMCUiKX19ZWxzZSBlLnN0eWxlLndoaXRlU3BhY2U9Im5vd3JhcCI7cD1yLnJvdGF0aW9uKyhwfHwwKTt0aGlzLnJvdGF0ZUh0bWwmJjAhPXA/KGYuc3R5bGUuZGlzcGxheT0iaW5saW5lIixmLnN0eWxlLnpvb209IjEiLGYuYXBwZW5kQ2hpbGQoZSksOCE9ZG9jdW1lbnQuZG9jdW1lbnRNb2RlfHxteENsaWVudC5JU19FTXx8IkRJViI9PXRoaXMucm9vdC5ub2RlTmFtZT9sLmFwcGVuZENoaWxkKGYpOih0LmFwcGVuZENoaWxkKGYpLGwuYXBwZW5kQ2hpbGQodCkpKTo4IT1kb2N1bWVudC5kb2N1bWVudE1vZGV8fG14Q2xpZW50LklTX0VNPyhlLnN0eWxlLmRpc3BsYXk9ImlubGluZSIsbC5hcHBlbmRDaGlsZChlKSk6KHQuYXBwZW5kQ2hpbGQoZSksbC5hcHBlbmRDaGlsZCh0KSk7IkRJViIhPXRoaXMucm9vdC5ub2RlTmFtZT8ocT10aGlzLmNyZWF0ZVZtbEVsZW1lbnQoInJlY3QiKSxxLnN0cm9rZWQ9ImZhbHNlIixxLmZpbGxlZD0iZmFsc2UiLApxLmFwcGVuZENoaWxkKGwpLHRoaXMucm9vdC5hcHBlbmRDaGlsZChxKSk6dGhpcy5yb290LmFwcGVuZENoaWxkKGwpO24/KGUuc3R5bGUub3ZlcmZsb3c9ImhpZGRlbiIsZS5zdHlsZS53aWR0aD1NYXRoLnJvdW5kKGMpKyJweCIsbXhDbGllbnQuSVNfUVVJUktTfHwoZS5zdHlsZS5tYXhIZWlnaHQ9TWF0aC5yb3VuZChkKSsicHgiKSk6ImZpbGwiPT1tPyhlLnN0eWxlLm92ZXJmbG93PSJoaWRkZW4iLGUuc3R5bGUud2lkdGg9TWF0aC5tYXgoMCxjKSsxKyJweCIsZS5zdHlsZS5oZWlnaHQ9TWF0aC5tYXgoMCxkKSsxKyJweCIpOiJ3aWR0aCI9PW0mJihlLnN0eWxlLm92ZXJmbG93PSJoaWRkZW4iLGUuc3R5bGUud2lkdGg9TWF0aC5tYXgoMCxjKSsxKyJweCIsZS5zdHlsZS5tYXhIZWlnaHQ9TWF0aC5tYXgoMCxkKSsxKyJweCIpO2lmKHRoaXMucm90YXRlSHRtbCYmMCE9cCl7eT1NYXRoLlBJLzE4MCpwO3A9cGFyc2VGbG9hdChwYXJzZUZsb2F0KE1hdGguY29zKHkpKS50b0ZpeGVkKDgpKTsKcT1wYXJzZUZsb2F0KHBhcnNlRmxvYXQoTWF0aC5zaW4oLXkpKS50b0ZpeGVkKDgpKTt5JT0yKk1hdGguUEk7MD55JiYoeSs9MipNYXRoLlBJKTt5JT1NYXRoLlBJO3k+TWF0aC5QSS8yJiYoeT1NYXRoLlBJLXkpO2c9TWF0aC5jb3MoeSk7dmFyIEI9TWF0aC5zaW4oeSk7OCE9ZG9jdW1lbnQuZG9jdW1lbnRNb2RlfHxteENsaWVudC5JU19FTXx8KGUuc3R5bGUuZGlzcGxheT0iaW5saW5lLWJsb2NrIixmLnN0eWxlLmRpc3BsYXk9ImlubGluZS1ibG9jayIsdC5zdHlsZS5kaXNwbGF5PSJpbmxpbmUtYmxvY2siKTtlLnN0eWxlLnZpc2liaWxpdHk9ImhpZGRlbiI7ZS5zdHlsZS5wb3NpdGlvbj0iYWJzb2x1dGUiO2RvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZSk7dD1lO251bGwhPXQuZmlyc3RDaGlsZCYmIkRJViI9PXQuZmlyc3RDaGlsZC5ub2RlTmFtZSYmKHQ9dC5maXJzdENoaWxkKTt5PXQub2Zmc2V0V2lkdGgrMzt0PXQub2Zmc2V0SGVpZ2h0O24/KGM9TWF0aC5taW4oYyx5KSx0PQpNYXRoLm1pbih0LGQpKTpjPXk7ayYmKGUuc3R5bGUud2lkdGg9YysicHgiKTtteENsaWVudC5JU19RVUlSS1MmJihufHwid2lkdGgiPT1tKSYmdD5kJiYodD1kLGUuc3R5bGUuaGVpZ2h0PXQrInB4Iik7ZD10O249KGQtZCpnK2MqLUIpLzItcSpjKih4Ky41KStwKmQqKHUrLjUpO2s9KGMtYypnK2QqLUIpLzIrcCpjKih4Ky41KStxKmQqKHUrLjUpOyJncm91cCI9PWwubm9kZU5hbWUmJiJESVYiPT10aGlzLnJvb3Qubm9kZU5hbWU/KG09dGhpcy5jcmVhdGVFbGVtZW50KCJkaXYiKSxtLnN0eWxlLmRpc3BsYXk9ImlubGluZS1ibG9jayIsbS5zdHlsZS5wb3NpdGlvbj0iYWJzb2x1dGUiLG0uc3R5bGUubGVmdD10aGlzLmZvcm1hdChhKyhrLWMvMikqci5zY2FsZSkrInB4IixtLnN0eWxlLnRvcD10aGlzLmZvcm1hdChiKyhuLWQvMikqci5zY2FsZSkrInB4IixsLnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQobSksbS5hcHBlbmRDaGlsZChsKSk6KHI9OCE9ZG9jdW1lbnQuZG9jdW1lbnRNb2RlfHwKbXhDbGllbnQuSVNfRU0/ci5zY2FsZToxLGwuc3R5bGUubGVmdD10aGlzLmZvcm1hdChhKyhrLWMvMikqcikrInB4IixsLnN0eWxlLnRvcD10aGlzLmZvcm1hdChiKyhuLWQvMikqcikrInB4Iik7Zi5zdHlsZS5maWx0ZXI9InByb2dpZDpEWEltYWdlVHJhbnNmb3JtLk1pY3Jvc29mdC5NYXRyaXgoTTExPSIrcCsiLCBNMTI9IitxKyIsIE0yMT0iKy1xKyIsIE0yMj0iK3ArIiwgc2l6aW5nTWV0aG9kPSdhdXRvIGV4cGFuZCcpIjtmLnN0eWxlLmJhY2tncm91bmRDb2xvcj10aGlzLnJvdGF0ZWRIdG1sQmFja2dyb3VuZDsxPnRoaXMuc3RhdGUuYWxwaGEmJihmLnN0eWxlLmZpbHRlcis9ImFscGhhKG9wYWNpdHk9IisxMDAqdGhpcy5zdGF0ZS5hbHBoYSsiKSIpO2YuYXBwZW5kQ2hpbGQoZSk7ZS5zdHlsZS5wb3NpdGlvbj0iIjtlLnN0eWxlLnZpc2liaWxpdHk9IiJ9ZWxzZSA4IT1kb2N1bWVudC5kb2N1bWVudE1vZGV8fG14Q2xpZW50LklTX0VNPyhlLnN0eWxlLnZlcnRpY2FsQWxpZ249CiJ0b3AiLDE+dGhpcy5zdGF0ZS5hbHBoYSYmKGwuc3R5bGUuZmlsdGVyPSJhbHBoYShvcGFjaXR5PSIrMTAwKnRoaXMuc3RhdGUuYWxwaGErIikiKSxyPWUucGFyZW50Tm9kZSxlLnN0eWxlLnZpc2liaWxpdHk9ImhpZGRlbiIsZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChlKSxjPWUub2Zmc2V0V2lkdGgsdD1lLm9mZnNldEhlaWdodCxteENsaWVudC5JU19RVUlSS1MmJm4mJnQ+ZCYmKHQ9ZCxlLnN0eWxlLmhlaWdodD10KyJweCIpLGQ9dCxlLnN0eWxlLnZpc2liaWxpdHk9IiIsci5hcHBlbmRDaGlsZChlKSxsLnN0eWxlLmxlZnQ9dGhpcy5mb3JtYXQoYStjKngqdGhpcy5zdGF0ZS5zY2FsZSkrInB4IixsLnN0eWxlLnRvcD10aGlzLmZvcm1hdChiK2QqdSp0aGlzLnN0YXRlLnNjYWxlKSsicHgiKTooMT50aGlzLnN0YXRlLmFscGhhJiYoZS5zdHlsZS5maWx0ZXI9ImFscGhhKG9wYWNpdHk9IisxMDAqdGhpcy5zdGF0ZS5hbHBoYSsiKSIpLHQuc3R5bGUubGVmdD0xMDAqeCsiJSIsdC5zdHlsZS50b3A9CjEwMCp1KyIlIil9ZWxzZSB0aGlzLnBsYWluVGV4dChhLGIsYyxkLG14VXRpbHMuaHRtbEVudGl0aWVzKGUsITEpLGYsZyxrLGwsbSxuLHAscSl9fTsKbXhWbWxDYW52YXMyRC5wcm90b3R5cGUucGxhaW5UZXh0PWZ1bmN0aW9uKGEsYixjLGQsZSxmLGcsayxsLG0sbixwLHEpe2s9dGhpcy5zdGF0ZTthPShhK2suZHgpKmsuc2NhbGU7Yj0oYitrLmR5KSprLnNjYWxlO2M9dGhpcy5jcmVhdGVWbWxFbGVtZW50KCJzaGFwZSIpO2Muc3R5bGUud2lkdGg9IjFweCI7Yy5zdHlsZS5oZWlnaHQ9IjFweCI7Yy5zdHJva2VkPSJmYWxzZSI7ZD10aGlzLmNyZWF0ZVZtbEVsZW1lbnQoImZpbGwiKTtkLmNvbG9yPWsuZm9udENvbG9yO2Qub3BhY2l0eT0xMDAqay5hbHBoYSsiJSI7Yy5hcHBlbmRDaGlsZChkKTtkPXRoaXMuY3JlYXRlVm1sRWxlbWVudCgicGF0aCIpO2QudGV4dHBhdGhvaz0idHJ1ZSI7ZC52PSJtICIrdGhpcy5mb3JtYXQoMCkrIiAiK3RoaXMuZm9ybWF0KDApKyIgbCAiK3RoaXMuZm9ybWF0KDEpKyIgIit0aGlzLmZvcm1hdCgwKTtjLmFwcGVuZENoaWxkKGQpO2Q9dGhpcy5jcmVhdGVWbWxFbGVtZW50KCJ0ZXh0cGF0aCIpO2Quc3R5bGUuY3NzVGV4dD0KInYtdGV4dC1hbGlnbjoiK2Y7ZC5zdHlsZS5hbGlnbj1mO2Quc3R5bGUuZm9udEZhbWlseT1rLmZvbnRGYW1pbHk7ZC5zdHJpbmc9ZTtkLm9uPSJ0cnVlIjtmPWsuZm9udFNpemUqay5zY2FsZS90aGlzLnZtbFNjYWxlO2Quc3R5bGUuZm9udFNpemU9ZisicHgiOyhrLmZvbnRTdHlsZSZteENvbnN0YW50cy5GT05UX0JPTEQpPT1teENvbnN0YW50cy5GT05UX0JPTEQmJihkLnN0eWxlLmZvbnRXZWlnaHQ9ImJvbGQiKTsoay5mb250U3R5bGUmbXhDb25zdGFudHMuRk9OVF9JVEFMSUMpPT1teENvbnN0YW50cy5GT05UX0lUQUxJQyYmKGQuc3R5bGUuZm9udFN0eWxlPSJpdGFsaWMiKTsoay5mb250U3R5bGUmbXhDb25zdGFudHMuRk9OVF9VTkRFUkxJTkUpPT1teENvbnN0YW50cy5GT05UX1VOREVSTElORSYmKGQuc3R5bGUudGV4dERlY29yYXRpb249InVuZGVybGluZSIpO2U9ZS5zcGxpdCgiXG4iKTtrPWYrKGUubGVuZ3RoLTEpKmYqbXhDb25zdGFudHMuTElORV9IRUlHSFQ7Zj1lPTA7Cmc9PW14Q29uc3RhbnRzLkFMSUdOX0JPVFRPTT9mPS1rLzI6ZyE9bXhDb25zdGFudHMuQUxJR05fTUlERExFJiYoZj1rLzIpO251bGwhPXAmJihjLnN0eWxlLnJvdGF0aW9uPXAsZz1NYXRoLlBJLzE4MCpwLGU9TWF0aC5zaW4oZykqZixmKj1NYXRoLmNvcyhnKSk7Yy5hcHBlbmRDaGlsZChkKTtjLnN0eWxlLmxlZnQ9dGhpcy5mb3JtYXQoYS1lKSsicHgiO2Muc3R5bGUudG9wPXRoaXMuZm9ybWF0KGIrZikrInB4Ijt0aGlzLnJvb3QuYXBwZW5kQ2hpbGQoYyl9O214Vm1sQ2FudmFzMkQucHJvdG90eXBlLnN0cm9rZT1mdW5jdGlvbigpe3RoaXMuYWRkTm9kZSghMSwhMCl9O214Vm1sQ2FudmFzMkQucHJvdG90eXBlLmZpbGw9ZnVuY3Rpb24oKXt0aGlzLmFkZE5vZGUoITAsITEpfTtteFZtbENhbnZhczJELnByb3RvdHlwZS5maWxsQW5kU3Ryb2tlPWZ1bmN0aW9uKCl7dGhpcy5hZGROb2RlKCEwLCEwKX07CmZ1bmN0aW9uIG14R3VpZGUoYSxiKXt0aGlzLmdyYXBoPWE7dGhpcy5zZXRTdGF0ZXMoYil9bXhHdWlkZS5wcm90b3R5cGUuZ3JhcGg9bnVsbDtteEd1aWRlLnByb3RvdHlwZS5zdGF0ZXM9bnVsbDtteEd1aWRlLnByb3RvdHlwZS5ob3Jpem9udGFsPSEwO214R3VpZGUucHJvdG90eXBlLnZlcnRpY2FsPSEwO214R3VpZGUucHJvdG90eXBlLmd1aWRlWD1udWxsO214R3VpZGUucHJvdG90eXBlLmd1aWRlWT1udWxsO214R3VpZGUucHJvdG90eXBlLnJvdW5kZWQ9ITE7bXhHdWlkZS5wcm90b3R5cGUudG9sZXJhbmNlPTI7bXhHdWlkZS5wcm90b3R5cGUuc2V0U3RhdGVzPWZ1bmN0aW9uKGEpe3RoaXMuc3RhdGVzPWF9O214R3VpZGUucHJvdG90eXBlLmlzRW5hYmxlZEZvckV2ZW50PWZ1bmN0aW9uKGEpe3JldHVybiEwfTsKbXhHdWlkZS5wcm90b3R5cGUuZ2V0R3VpZGVUb2xlcmFuY2U9ZnVuY3Rpb24oYSl7cmV0dXJuIGEmJnRoaXMuZ3JhcGguZ3JpZEVuYWJsZWQ/dGhpcy5ncmFwaC5ncmlkU2l6ZS8yOnRoaXMudG9sZXJhbmNlfTtteEd1aWRlLnByb3RvdHlwZS5jcmVhdGVHdWlkZVNoYXBlPWZ1bmN0aW9uKGEpe2E9bmV3IG14UG9seWxpbmUoW10sbXhDb25zdGFudHMuR1VJREVfQ09MT1IsbXhDb25zdGFudHMuR1VJREVfU1RST0tFV0lEVEgpO2EuaXNEYXNoZWQ9ITA7cmV0dXJuIGF9O214R3VpZGUucHJvdG90eXBlLmlzU3RhdGVJZ25vcmVkPWZ1bmN0aW9uKGEpe3JldHVybiExfTsKbXhHdWlkZS5wcm90b3R5cGUubW92ZT1mdW5jdGlvbihhLGIsYyxkKXtpZihudWxsIT10aGlzLnN0YXRlcyYmKHRoaXMuaG9yaXpvbnRhbHx8dGhpcy52ZXJ0aWNhbCkmJm51bGwhPWEmJm51bGwhPWIpe2Q9ZnVuY3Rpb24oYyxkLGUpe3ZhciBmPSExO2UmJk1hdGguYWJzKGMteik8dD8oYi55PWMtYS5nZXRDZW50ZXJZKCksdD1NYXRoLmFicyhjLXopLGY9ITApOmV8fChNYXRoLmFicyhjLUIpPHQ/KGIueT1jLWEueSx0PU1hdGguYWJzKGMtQiksZj0hMCk6TWF0aC5hYnMoYy1BKTx0JiYoYi55PWMtYS55LWEuaGVpZ2h0LHQ9TWF0aC5hYnMoYy1BKSxmPSEwKSk7ZiYmKHA9ZCxxPWMsbnVsbD09dGhpcy5ndWlkZVkmJih0aGlzLmd1aWRlWT10aGlzLmNyZWF0ZUd1aWRlU2hhcGUoITEpLHRoaXMuZ3VpZGVZLmRpYWxlY3Q9dGhpcy5ncmFwaC5kaWFsZWN0IT1teENvbnN0YW50cy5ESUFMRUNUX1NWRz9teENvbnN0YW50cy5ESUFMRUNUX1ZNTDpteENvbnN0YW50cy5ESUFMRUNUX1NWRyx0aGlzLmd1aWRlWS5wb2ludGVyRXZlbnRzPQohMSx0aGlzLmd1aWRlWS5pbml0KHRoaXMuZ3JhcGguZ2V0VmlldygpLmdldE92ZXJsYXlQYW5lKCkpKSk7bj1ufHxmfTt2YXIgZT1mdW5jdGlvbihjLGQsZSl7dmFyIGY9ITE7ZSYmTWF0aC5hYnMoYy15KTxyPyhiLng9Yy1hLmdldENlbnRlclgoKSxyPU1hdGguYWJzKGMteSksZj0hMCk6ZXx8KE1hdGguYWJzKGMtdSk8cj8oYi54PWMtYS54LHI9TWF0aC5hYnMoYy11KSxmPSEwKTpNYXRoLmFicyhjLXgpPHImJihiLng9Yy1hLngtYS53aWR0aCxyPU1hdGguYWJzKGMteCksZj0hMCkpO2YmJihsPWQsbT1jLG51bGw9PXRoaXMuZ3VpZGVYJiYodGhpcy5ndWlkZVg9dGhpcy5jcmVhdGVHdWlkZVNoYXBlKCEwKSx0aGlzLmd1aWRlWC5kaWFsZWN0PXRoaXMuZ3JhcGguZGlhbGVjdCE9bXhDb25zdGFudHMuRElBTEVDVF9TVkc/bXhDb25zdGFudHMuRElBTEVDVF9WTUw6bXhDb25zdGFudHMuRElBTEVDVF9TVkcsdGhpcy5ndWlkZVgucG9pbnRlckV2ZW50cz0hMSx0aGlzLmd1aWRlWC5pbml0KHRoaXMuZ3JhcGguZ2V0VmlldygpLmdldE92ZXJsYXlQYW5lKCkpKSk7Cms9a3x8Zn0sZj10aGlzLmdyYXBoLmdldFZpZXcoKS5zY2FsZSxmPXRoaXMuZ2V0R3VpZGVUb2xlcmFuY2UoYykqZixnPWEuY2xvbmUoKTtnLngrPWIueDtnLnkrPWIueTtmb3IodmFyIGs9ITEsbD1udWxsLG09bnVsbCxuPSExLHA9bnVsbCxxPW51bGwscj1mLHQ9Zix1PWcueCx4PWcueCtnLndpZHRoLHk9Zy5nZXRDZW50ZXJYKCksQj1nLnksQT1nLnkrZy5oZWlnaHQsej1nLmdldENlbnRlclkoKSxmPTA7Zjx0aGlzLnN0YXRlcy5sZW5ndGg7ZisrKWc9dGhpcy5zdGF0ZXNbZl0sbnVsbD09Z3x8dGhpcy5pc1N0YXRlSWdub3JlZChnKXx8KHRoaXMuaG9yaXpvbnRhbCYmKGUuY2FsbCh0aGlzLGcuZ2V0Q2VudGVyWCgpLGcsITApLGUuY2FsbCh0aGlzLGcueCxnLCExKSxlLmNhbGwodGhpcyxnLngrZy53aWR0aCxnLCExKSxudWxsPT1nLmNlbGwmJmUuY2FsbCh0aGlzLGcuZ2V0Q2VudGVyWCgpLGcsITEpKSx0aGlzLnZlcnRpY2FsJiYoZC5jYWxsKHRoaXMsZy5nZXRDZW50ZXJZKCksZywKITApLGQuY2FsbCh0aGlzLGcueSxnLCExKSxkLmNhbGwodGhpcyxnLnkrZy5oZWlnaHQsZywhMSksbnVsbD09Zy5jZWxsJiZkLmNhbGwodGhpcyxnLmdldENlbnRlclkoKSxnLCExKSkpO3RoaXMuZ3JhcGguc25hcERlbHRhKGIsYSwhYyxrLG4pO2I9dGhpcy5nZXREZWx0YShhLGwsYi54LHAsYi55KTtjPXRoaXMuZ3JhcGguY29udGFpbmVyO2t8fG51bGw9PXRoaXMuZ3VpZGVYP251bGwhPXRoaXMuZ3VpZGVYJiYoZT1kPW51bGwsbnVsbCE9bCYmbnVsbCE9YSYmKGQ9TWF0aC5taW4oYS55K2IueS10aGlzLmdyYXBoLnBhbkR5LGwueSksZT1NYXRoLm1heChhLnkrYS5oZWlnaHQrYi55LXRoaXMuZ3JhcGgucGFuRHksbC55K2wuaGVpZ2h0KSksdGhpcy5ndWlkZVgucG9pbnRzPW51bGwhPWQmJm51bGwhPWU/W25ldyBteFBvaW50KG0sZCksbmV3IG14UG9pbnQobSxlKV06W25ldyBteFBvaW50KG0sLXRoaXMuZ3JhcGgucGFuRHkpLG5ldyBteFBvaW50KG0sYy5zY3JvbGxIZWlnaHQtMy10aGlzLmdyYXBoLnBhbkR5KV0sCnRoaXMuZ3VpZGVYLnN0cm9rZT10aGlzLmdldEd1aWRlQ29sb3IobCwhMCksdGhpcy5ndWlkZVgubm9kZS5zdHlsZS52aXNpYmlsaXR5PSJ2aXNpYmxlIix0aGlzLmd1aWRlWC5yZWRyYXcoKSk6dGhpcy5ndWlkZVgubm9kZS5zdHlsZS52aXNpYmlsaXR5PSJoaWRkZW4iO258fG51bGw9PXRoaXMuZ3VpZGVZP251bGwhPXRoaXMuZ3VpZGVZJiYoZT1kPW51bGwsbnVsbCE9cCYmbnVsbCE9YSYmKGQ9TWF0aC5taW4oYS54K2IueC10aGlzLmdyYXBoLnBhbkR4LHAueCksZT1NYXRoLm1heChhLngrYS53aWR0aCtiLngtdGhpcy5ncmFwaC5wYW5EeCxwLngrcC53aWR0aCkpLHRoaXMuZ3VpZGVZLnBvaW50cz1udWxsIT1kJiZudWxsIT1lP1tuZXcgbXhQb2ludChkLHEpLG5ldyBteFBvaW50KGUscSldOltuZXcgbXhQb2ludCgtdGhpcy5ncmFwaC5wYW5EeCxxKSxuZXcgbXhQb2ludChjLnNjcm9sbFdpZHRoLTMtdGhpcy5ncmFwaC5wYW5EeCxxKV0sdGhpcy5ndWlkZVkuc3Ryb2tlPXRoaXMuZ2V0R3VpZGVDb2xvcihwLAohMSksdGhpcy5ndWlkZVkubm9kZS5zdHlsZS52aXNpYmlsaXR5PSJ2aXNpYmxlIix0aGlzLmd1aWRlWS5yZWRyYXcoKSk6dGhpcy5ndWlkZVkubm9kZS5zdHlsZS52aXNpYmlsaXR5PSJoaWRkZW4ifXJldHVybiBifTtteEd1aWRlLnByb3RvdHlwZS5nZXREZWx0YT1mdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmPXRoaXMuZ3JhcGgudmlldy5zY2FsZTtpZih0aGlzLnJvdW5kZWR8fG51bGwhPWImJm51bGw9PWIuY2VsbCljPU1hdGgucm91bmQoKGEueCtjKS9mKSpmLWEueDtpZih0aGlzLnJvdW5kZWR8fG51bGwhPWQmJm51bGw9PWQuY2VsbCllPU1hdGgucm91bmQoKGEueStlKS9mKSpmLWEueTtyZXR1cm4gbmV3IG14UG9pbnQoYyxlKX07bXhHdWlkZS5wcm90b3R5cGUuZ2V0R3VpZGVDb2xvcj1mdW5jdGlvbihhLGIpe3JldHVybiBteENvbnN0YW50cy5HVUlERV9DT0xPUn07bXhHdWlkZS5wcm90b3R5cGUuaGlkZT1mdW5jdGlvbigpe3RoaXMuc2V0VmlzaWJsZSghMSl9OwpteEd1aWRlLnByb3RvdHlwZS5zZXRWaXNpYmxlPWZ1bmN0aW9uKGEpe251bGwhPXRoaXMuZ3VpZGVYJiYodGhpcy5ndWlkZVgubm9kZS5zdHlsZS52aXNpYmlsaXR5PWE/InZpc2libGUiOiJoaWRkZW4iKTtudWxsIT10aGlzLmd1aWRlWSYmKHRoaXMuZ3VpZGVZLm5vZGUuc3R5bGUudmlzaWJpbGl0eT1hPyJ2aXNpYmxlIjoiaGlkZGVuIil9O214R3VpZGUucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXtudWxsIT10aGlzLmd1aWRlWCYmKHRoaXMuZ3VpZGVYLmRlc3Ryb3koKSx0aGlzLmd1aWRlWD1udWxsKTtudWxsIT10aGlzLmd1aWRlWSYmKHRoaXMuZ3VpZGVZLmRlc3Ryb3koKSx0aGlzLmd1aWRlWT1udWxsKX07ZnVuY3Rpb24gbXhTaGFwZShhKXt0aGlzLnN0ZW5jaWw9YTt0aGlzLmluaXRTdHlsZXMoKX1teFNoYXBlLnByb3RvdHlwZS5kaWFsZWN0PW51bGw7bXhTaGFwZS5wcm90b3R5cGUuc2NhbGU9MTtteFNoYXBlLnByb3RvdHlwZS5hbnRpQWxpYXM9ITA7Cm14U2hhcGUucHJvdG90eXBlLm1pblN2Z1N0cm9rZVdpZHRoPTE7bXhTaGFwZS5wcm90b3R5cGUuYm91bmRzPW51bGw7bXhTaGFwZS5wcm90b3R5cGUucG9pbnRzPW51bGw7bXhTaGFwZS5wcm90b3R5cGUubm9kZT1udWxsO214U2hhcGUucHJvdG90eXBlLnN0YXRlPW51bGw7bXhTaGFwZS5wcm90b3R5cGUuc3R5bGU9bnVsbDtteFNoYXBlLnByb3RvdHlwZS5ib3VuZGluZ0JveD1udWxsO214U2hhcGUucHJvdG90eXBlLnN0ZW5jaWw9bnVsbDtteFNoYXBlLnByb3RvdHlwZS5zdmdTdHJva2VUb2xlcmFuY2U9ODtteFNoYXBlLnByb3RvdHlwZS5wb2ludGVyRXZlbnRzPSEwO214U2hhcGUucHJvdG90eXBlLnN2Z1BvaW50ZXJFdmVudHM9ImFsbCI7bXhTaGFwZS5wcm90b3R5cGUuc2hhcGVQb2ludGVyRXZlbnRzPSExO214U2hhcGUucHJvdG90eXBlLnN0ZW5jaWxQb2ludGVyRXZlbnRzPSExO214U2hhcGUucHJvdG90eXBlLnZtbFNjYWxlPTE7Cm14U2hhcGUucHJvdG90eXBlLm91dGxpbmU9ITE7bXhTaGFwZS5wcm90b3R5cGUudmlzaWJsZT0hMDtteFNoYXBlLnByb3RvdHlwZS51c2VTdmdCb3VuZGluZ0JveD0hMTtteFNoYXBlLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKGEpe251bGw9PXRoaXMubm9kZSYmKHRoaXMubm9kZT10aGlzLmNyZWF0ZShhKSxudWxsIT1hJiZhLmFwcGVuZENoaWxkKHRoaXMubm9kZSkpfTtteFNoYXBlLnByb3RvdHlwZS5pbml0U3R5bGVzPWZ1bmN0aW9uKGEpe3RoaXMuc3Ryb2tld2lkdGg9MTt0aGlzLnJvdGF0aW9uPTA7dGhpcy5zdHJva2VPcGFjaXR5PXRoaXMuZmlsbE9wYWNpdHk9dGhpcy5vcGFjaXR5PTEwMDt0aGlzLmZsaXBWPXRoaXMuZmxpcEg9ITF9O214U2hhcGUucHJvdG90eXBlLmlzUGFyc2VWbWw9ZnVuY3Rpb24oKXtyZXR1cm4hMH07bXhTaGFwZS5wcm90b3R5cGUuaXNIdG1sQWxsb3dlZD1mdW5jdGlvbigpe3JldHVybiExfTsKbXhTaGFwZS5wcm90b3R5cGUuZ2V0U3ZnU2NyZWVuT2Zmc2V0PWZ1bmN0aW9uKCl7cmV0dXJuIDE9PW14VXRpbHMubW9kKE1hdGgubWF4KDEsTWF0aC5yb3VuZCgodGhpcy5zdGVuY2lsJiYiaW5oZXJpdCIhPXRoaXMuc3RlbmNpbC5zdHJva2V3aWR0aD9OdW1iZXIodGhpcy5zdGVuY2lsLnN0cm9rZXdpZHRoKTp0aGlzLnN0cm9rZXdpZHRoKSp0aGlzLnNjYWxlKSksMik/LjU6MH07bXhTaGFwZS5wcm90b3R5cGUuY3JlYXRlPWZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hJiZudWxsIT1hLm93bmVyU1ZHRWxlbWVudD90aGlzLmNyZWF0ZVN2ZyhhKTo4PT1kb2N1bWVudC5kb2N1bWVudE1vZGV8fCFteENsaWVudC5JU19WTUx8fHRoaXMuZGlhbGVjdCE9bXhDb25zdGFudHMuRElBTEVDVF9WTUwmJnRoaXMuaXNIdG1sQWxsb3dlZCgpP3RoaXMuY3JlYXRlSHRtbChhKTp0aGlzLmNyZWF0ZVZtbChhKX07Cm14U2hhcGUucHJvdG90eXBlLmNyZWF0ZVN2Zz1mdW5jdGlvbigpe3JldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMobXhDb25zdGFudHMuTlNfU1ZHLCJnIil9O214U2hhcGUucHJvdG90eXBlLmNyZWF0ZVZtbD1mdW5jdGlvbigpe3ZhciBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQobXhDbGllbnQuVk1MX1BSRUZJWCsiOmdyb3VwIik7YS5zdHlsZS5wb3NpdGlvbj0iYWJzb2x1dGUiO3JldHVybiBhfTtteFNoYXBlLnByb3RvdHlwZS5jcmVhdGVIdG1sPWZ1bmN0aW9uKCl7dmFyIGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7YS5zdHlsZS5wb3NpdGlvbj0iYWJzb2x1dGUiO3JldHVybiBhfTtteFNoYXBlLnByb3RvdHlwZS5yZWNvbmZpZ3VyZT1mdW5jdGlvbigpe3RoaXMucmVkcmF3KCl9OwpteFNoYXBlLnByb3RvdHlwZS5yZWRyYXc9ZnVuY3Rpb24oKXt0aGlzLnVwZGF0ZUJvdW5kc0Zyb21Qb2ludHMoKTt0aGlzLnZpc2libGUmJnRoaXMuY2hlY2tCb3VuZHMoKT8odGhpcy5ub2RlLnN0eWxlLnZpc2liaWxpdHk9InZpc2libGUiLHRoaXMuY2xlYXIoKSwiRElWIiE9dGhpcy5ub2RlLm5vZGVOYW1lfHwhdGhpcy5pc0h0bWxBbGxvd2VkKCkmJm14Q2xpZW50LklTX1ZNTD90aGlzLnJlZHJhd1NoYXBlKCk6dGhpcy5yZWRyYXdIdG1sU2hhcGUoKSx0aGlzLnVwZGF0ZUJvdW5kaW5nQm94KCkpOih0aGlzLm5vZGUuc3R5bGUudmlzaWJpbGl0eT0iaGlkZGVuIix0aGlzLmJvdW5kaW5nQm94PW51bGwpfTsKbXhTaGFwZS5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXtpZihudWxsIT10aGlzLm5vZGUub3duZXJTVkdFbGVtZW50KWZvcig7bnVsbCE9dGhpcy5ub2RlLmxhc3RDaGlsZDspdGhpcy5ub2RlLnJlbW92ZUNoaWxkKHRoaXMubm9kZS5sYXN0Q2hpbGQpO2Vsc2UgdGhpcy5ub2RlLnN0eWxlLmNzc1RleHQ9InBvc2l0aW9uOmFic29sdXRlOyIrKG51bGwhPXRoaXMuY3Vyc29yPyJjdXJzb3I6Iit0aGlzLmN1cnNvcisiOyI6IiIpLHRoaXMubm9kZS5pbm5lckhUTUw9IiJ9OwpteFNoYXBlLnByb3RvdHlwZS51cGRhdGVCb3VuZHNGcm9tUG9pbnRzPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5wb2ludHM7aWYobnVsbCE9YSYmMDxhLmxlbmd0aCYmbnVsbCE9YVswXSl7dGhpcy5ib3VuZHM9bmV3IG14UmVjdGFuZ2xlKE51bWJlcihhWzBdLngpLE51bWJlcihhWzBdLnkpLDEsMSk7Zm9yKHZhciBiPTE7Yjx0aGlzLnBvaW50cy5sZW5ndGg7YisrKW51bGwhPWFbYl0mJnRoaXMuYm91bmRzLmFkZChuZXcgbXhSZWN0YW5nbGUoTnVtYmVyKGFbYl0ueCksTnVtYmVyKGFbYl0ueSksMSwxKSl9fTsKbXhTaGFwZS5wcm90b3R5cGUuZ2V0TGFiZWxCb3VuZHM9ZnVuY3Rpb24oYSl7dmFyIGI9bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0RJUkVDVElPTixteENvbnN0YW50cy5ESVJFQ1RJT05fRUFTVCksYz1hO2IhPW14Q29uc3RhbnRzLkRJUkVDVElPTl9TT1VUSCYmYiE9bXhDb25zdGFudHMuRElSRUNUSU9OX05PUlRIJiZudWxsIT10aGlzLnN0YXRlJiZudWxsIT10aGlzLnN0YXRlLnRleHQmJnRoaXMuc3RhdGUudGV4dC5pc1BhaW50Qm91bmRzSW52ZXJ0ZWQoKSYmKGM9Yy5jbG9uZSgpLGI9Yy53aWR0aCxjLndpZHRoPWMuaGVpZ2h0LGMuaGVpZ2h0PWIpO2M9dGhpcy5nZXRMYWJlbE1hcmdpbnMoYyk7aWYobnVsbCE9Yyl7dmFyIGQ9IjEiPT1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfRkxJUEgsITEpLGU9IjEiPT1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfRkxJUFYsCiExKTtudWxsIT10aGlzLnN0YXRlJiZudWxsIT10aGlzLnN0YXRlLnRleHQmJnRoaXMuc3RhdGUudGV4dC5pc1BhaW50Qm91bmRzSW52ZXJ0ZWQoKSYmKGI9Yy54LGMueD1jLmhlaWdodCxjLmhlaWdodD1jLndpZHRoLGMud2lkdGg9Yy55LGMueT1iLGI9ZCxkPWUsZT1iKTtyZXR1cm4gbXhVdGlscy5nZXREaXJlY3RlZEJvdW5kcyhhLGMsdGhpcy5zdHlsZSxkLGUpfXJldHVybiBhfTtteFNoYXBlLnByb3RvdHlwZS5nZXRMYWJlbE1hcmdpbnM9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGx9OwpteFNoYXBlLnByb3RvdHlwZS5jaGVja0JvdW5kcz1mdW5jdGlvbigpe3JldHVybiFpc05hTih0aGlzLnNjYWxlKSYmaXNGaW5pdGUodGhpcy5zY2FsZSkmJjA8dGhpcy5zY2FsZSYmbnVsbCE9dGhpcy5ib3VuZHMmJiFpc05hTih0aGlzLmJvdW5kcy54KSYmIWlzTmFOKHRoaXMuYm91bmRzLnkpJiYhaXNOYU4odGhpcy5ib3VuZHMud2lkdGgpJiYhaXNOYU4odGhpcy5ib3VuZHMuaGVpZ2h0KSYmMDx0aGlzLmJvdW5kcy53aWR0aCYmMDx0aGlzLmJvdW5kcy5oZWlnaHR9O214U2hhcGUucHJvdG90eXBlLmNyZWF0ZVZtbEdyb3VwPWZ1bmN0aW9uKCl7dmFyIGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChteENsaWVudC5WTUxfUFJFRklYKyI6Z3JvdXAiKTthLnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSI7YS5zdHlsZS53aWR0aD10aGlzLm5vZGUuc3R5bGUud2lkdGg7YS5zdHlsZS5oZWlnaHQ9dGhpcy5ub2RlLnN0eWxlLmhlaWdodDtyZXR1cm4gYX07Cm14U2hhcGUucHJvdG90eXBlLnJlZHJhd1NoYXBlPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5jcmVhdGVDYW52YXMoKTtudWxsIT1hJiYoYS5wb2ludGVyRXZlbnRzPXRoaXMucG9pbnRlckV2ZW50cyx0aGlzLnBhaW50KGEpLHRoaXMubm9kZSE9YS5yb290JiZ0aGlzLm5vZGUuaW5zZXJ0QWRqYWNlbnRIVE1MKCJiZWZvcmVlbmQiLGEucm9vdC5vdXRlckhUTUwpLCJESVYiPT10aGlzLm5vZGUubm9kZU5hbWUmJjg9PWRvY3VtZW50LmRvY3VtZW50TW9kZSYmKHRoaXMubm9kZS5zdHlsZS5maWx0ZXI9IiIsbXhVdGlscy5hZGRUcmFuc3BhcmVudEJhY2tncm91bmRGaWx0ZXIodGhpcy5ub2RlKSksdGhpcy5kZXN0cm95Q2FudmFzKGEpKX07Cm14U2hhcGUucHJvdG90eXBlLmNyZWF0ZUNhbnZhcz1mdW5jdGlvbigpe3ZhciBhPW51bGw7bnVsbCE9dGhpcy5ub2RlLm93bmVyU1ZHRWxlbWVudD9hPXRoaXMuY3JlYXRlU3ZnQ2FudmFzKCk6bXhDbGllbnQuSVNfVk1MJiYodGhpcy51cGRhdGVWbWxDb250YWluZXIoKSxhPXRoaXMuY3JlYXRlVm1sQ2FudmFzKCkpO251bGwhPWEmJnRoaXMub3V0bGluZSYmKGEuc2V0U3Ryb2tlV2lkdGgodGhpcy5zdHJva2V3aWR0aCksYS5zZXRTdHJva2VDb2xvcih0aGlzLnN0cm9rZSksbnVsbCE9dGhpcy5pc0Rhc2hlZCYmYS5zZXREYXNoZWQodGhpcy5pc0Rhc2hlZCksYS5zZXRTdHJva2VXaWR0aD1mdW5jdGlvbigpe30sYS5zZXRTdHJva2VDb2xvcj1mdW5jdGlvbigpe30sYS5zZXRGaWxsQ29sb3I9ZnVuY3Rpb24oKXt9LGEuc2V0R3JhZGllbnQ9ZnVuY3Rpb24oKXt9LGEuc2V0RGFzaGVkPWZ1bmN0aW9uKCl7fSxhLnRleHQ9ZnVuY3Rpb24oKXt9KTtyZXR1cm4gYX07Cm14U2hhcGUucHJvdG90eXBlLmNyZWF0ZVN2Z0NhbnZhcz1mdW5jdGlvbigpe3ZhciBhPW5ldyBteFN2Z0NhbnZhczJEKHRoaXMubm9kZSwhMSk7YS5zdHJva2VUb2xlcmFuY2U9dGhpcy5wb2ludGVyRXZlbnRzP3RoaXMuc3ZnU3Ryb2tlVG9sZXJhbmNlOjA7YS5wb2ludGVyRXZlbnRzVmFsdWU9dGhpcy5zdmdQb2ludGVyRXZlbnRzO3ZhciBiPXRoaXMuZ2V0U3ZnU2NyZWVuT2Zmc2V0KCk7MCE9Yj90aGlzLm5vZGUuc2V0QXR0cmlidXRlKCJ0cmFuc2Zvcm0iLCJ0cmFuc2xhdGUoIitiKyIsIitiKyIpIik6dGhpcy5ub2RlLnJlbW92ZUF0dHJpYnV0ZSgidHJhbnNmb3JtIik7YS5taW5TdHJva2VXaWR0aD10aGlzLm1pblN2Z1N0cm9rZVdpZHRoO3RoaXMuYW50aUFsaWFzfHwoYS5mb3JtYXQ9ZnVuY3Rpb24oYSl7cmV0dXJuIE1hdGgucm91bmQocGFyc2VGbG9hdChhKSl9KTtyZXR1cm4gYX07Cm14U2hhcGUucHJvdG90eXBlLmNyZWF0ZVZtbENhbnZhcz1mdW5jdGlvbigpe3ZhciBhPTg9PWRvY3VtZW50LmRvY3VtZW50TW9kZSYmdGhpcy5pc1BhcnNlVm1sKCk/dGhpcy5jcmVhdGVWbWxHcm91cCgpOnRoaXMubm9kZSxiPW5ldyBteFZtbENhbnZhczJEKGEsITEpOyIiIT1hLnRhZ1VybiYmKGEuY29vcmRzaXplPU1hdGgubWF4KDEsTWF0aC5yb3VuZCh0aGlzLmJvdW5kcy53aWR0aCkpKnRoaXMudm1sU2NhbGUrIiwiK01hdGgubWF4KDEsTWF0aC5yb3VuZCh0aGlzLmJvdW5kcy5oZWlnaHQpKSp0aGlzLnZtbFNjYWxlLGIuc2NhbGUodGhpcy52bWxTY2FsZSksYi52bWxTY2FsZT10aGlzLnZtbFNjYWxlKTthPXRoaXMuc2NhbGU7Yi50cmFuc2xhdGUoLU1hdGgucm91bmQodGhpcy5ib3VuZHMueC9hKSwtTWF0aC5yb3VuZCh0aGlzLmJvdW5kcy55L2EpKTtyZXR1cm4gYn07Cm14U2hhcGUucHJvdG90eXBlLnVwZGF0ZVZtbENvbnRhaW5lcj1mdW5jdGlvbigpe3RoaXMubm9kZS5zdHlsZS5sZWZ0PU1hdGgucm91bmQodGhpcy5ib3VuZHMueCkrInB4Ijt0aGlzLm5vZGUuc3R5bGUudG9wPU1hdGgucm91bmQodGhpcy5ib3VuZHMueSkrInB4Ijt2YXIgYT1NYXRoLm1heCgxLE1hdGgucm91bmQodGhpcy5ib3VuZHMuaGVpZ2h0KSk7dGhpcy5ub2RlLnN0eWxlLndpZHRoPU1hdGgubWF4KDEsTWF0aC5yb3VuZCh0aGlzLmJvdW5kcy53aWR0aCkpKyJweCI7dGhpcy5ub2RlLnN0eWxlLmhlaWdodD1hKyJweCI7dGhpcy5ub2RlLnN0eWxlLm92ZXJmbG93PSJ2aXNpYmxlIn07bXhTaGFwZS5wcm90b3R5cGUucmVkcmF3SHRtbFNoYXBlPWZ1bmN0aW9uKCl7dGhpcy51cGRhdGVIdG1sQm91bmRzKHRoaXMubm9kZSk7dGhpcy51cGRhdGVIdG1sRmlsdGVycyh0aGlzLm5vZGUpO3RoaXMudXBkYXRlSHRtbENvbG9ycyh0aGlzLm5vZGUpfTsKbXhTaGFwZS5wcm90b3R5cGUudXBkYXRlSHRtbEZpbHRlcnM9ZnVuY3Rpb24oYSl7dmFyIGI9IiI7MTAwPnRoaXMub3BhY2l0eSYmKGIrPSJhbHBoYShvcGFjaXR5PSIrdGhpcy5vcGFjaXR5KyIpIik7dGhpcy5pc1NoYWRvdyYmKGIrPSJwcm9naWQ6RFhJbWFnZVRyYW5zZm9ybS5NaWNyb3NvZnQuZHJvcFNoYWRvdyAoT2ZmWD0nIitNYXRoLnJvdW5kKG14Q29uc3RhbnRzLlNIQURPV19PRkZTRVRfWCp0aGlzLnNjYWxlKSsiJywgT2ZmWT0nIitNYXRoLnJvdW5kKG14Q29uc3RhbnRzLlNIQURPV19PRkZTRVRfWSp0aGlzLnNjYWxlKSsiJywgQ29sb3I9JyIrbXhDb25zdGFudHMuVk1MX1NIQURPV0NPTE9SKyInKSIpO2lmKG51bGwhPXRoaXMuZmlsbCYmdGhpcy5maWxsIT1teENvbnN0YW50cy5OT05FJiZ0aGlzLmdyYWRpZW50JiZ0aGlzLmdyYWRpZW50IT1teENvbnN0YW50cy5OT05FKXt2YXIgYz10aGlzLmZpbGwsZD10aGlzLmdyYWRpZW50LGU9IjAiLGY9e2Vhc3Q6MCxzb3V0aDoxLAp3ZXN0OjIsbm9ydGg6M30sZz1udWxsIT10aGlzLmRpcmVjdGlvbj9mW3RoaXMuZGlyZWN0aW9uXTowO251bGwhPXRoaXMuZ3JhZGllbnREaXJlY3Rpb24mJihnPW14VXRpbHMubW9kKGcrZlt0aGlzLmdyYWRpZW50RGlyZWN0aW9uXS0xLDQpKTsxPT1nPyhlPSIxIixmPWMsYz1kLGQ9Zik6Mj09Zz8oZj1jLGM9ZCxkPWYpOjM9PWcmJihlPSIxIik7Yis9InByb2dpZDpEWEltYWdlVHJhbnNmb3JtLk1pY3Jvc29mdC5ncmFkaWVudChzdGFydENvbG9yU3RyPSciK2MrIicsIGVuZENvbG9yU3RyPSciK2QrIicsIGdyYWRpZW50VHlwZT0nIitlKyInKSJ9YS5zdHlsZS5maWx0ZXI9Yn07Cm14U2hhcGUucHJvdG90eXBlLnVwZGF0ZUh0bWxDb2xvcnM9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5zdHJva2U7bnVsbCE9YiYmYiE9bXhDb25zdGFudHMuTk9ORT8oYS5zdHlsZS5ib3JkZXJDb2xvcj1iLHRoaXMuaXNEYXNoZWQ/YS5zdHlsZS5ib3JkZXJTdHlsZT0iZGFzaGVkIjowPHRoaXMuc3Ryb2tld2lkdGgmJihhLnN0eWxlLmJvcmRlclN0eWxlPSJzb2xpZCIpLGEuc3R5bGUuYm9yZGVyV2lkdGg9TWF0aC5tYXgoMSxNYXRoLmNlaWwodGhpcy5zdHJva2V3aWR0aCp0aGlzLnNjYWxlKSkrInB4Iik6YS5zdHlsZS5ib3JkZXJXaWR0aD0iMHB4IjtiPXRoaXMub3V0bGluZT9udWxsOnRoaXMuZmlsbDtudWxsIT1iJiZiIT1teENvbnN0YW50cy5OT05FPyhhLnN0eWxlLmJhY2tncm91bmRDb2xvcj1iLGEuc3R5bGUuYmFja2dyb3VuZEltYWdlPSJub25lIik6dGhpcy5wb2ludGVyRXZlbnRzP2Euc3R5bGUuYmFja2dyb3VuZENvbG9yPSJ0cmFuc3BhcmVudCI6OD09ZG9jdW1lbnQuZG9jdW1lbnRNb2RlPwpteFV0aWxzLmFkZFRyYW5zcGFyZW50QmFja2dyb3VuZEZpbHRlcihhKTp0aGlzLnNldFRyYW5zcGFyZW50QmFja2dyb3VuZEltYWdlKGEpfTsKbXhTaGFwZS5wcm90b3R5cGUudXBkYXRlSHRtbEJvdW5kcz1mdW5jdGlvbihhKXt2YXIgYj05PD1kb2N1bWVudC5kb2N1bWVudE1vZGU/MDpNYXRoLmNlaWwodGhpcy5zdHJva2V3aWR0aCp0aGlzLnNjYWxlKTthLnN0eWxlLmJvcmRlcldpZHRoPU1hdGgubWF4KDEsYikrInB4IjthLnN0eWxlLm92ZXJmbG93PSJoaWRkZW4iO2Euc3R5bGUubGVmdD1NYXRoLnJvdW5kKHRoaXMuYm91bmRzLngtYi8yKSsicHgiO2Euc3R5bGUudG9wPU1hdGgucm91bmQodGhpcy5ib3VuZHMueS1iLzIpKyJweCI7IkNTUzFDb21wYXQiPT1kb2N1bWVudC5jb21wYXRNb2RlJiYoYj0tYik7YS5zdHlsZS53aWR0aD1NYXRoLnJvdW5kKE1hdGgubWF4KDAsdGhpcy5ib3VuZHMud2lkdGgrYikpKyJweCI7YS5zdHlsZS5oZWlnaHQ9TWF0aC5yb3VuZChNYXRoLm1heCgwLHRoaXMuYm91bmRzLmhlaWdodCtiKSkrInB4In07Cm14U2hhcGUucHJvdG90eXBlLmRlc3Ryb3lDYW52YXM9ZnVuY3Rpb24oYSl7aWYoYSBpbnN0YW5jZW9mIG14U3ZnQ2FudmFzMkQpe2Zvcih2YXIgYiBpbiBhLmdyYWRpZW50cyl7dmFyIGM9YS5ncmFkaWVudHNbYl07bnVsbCE9YyYmKGMubXhSZWZDb3VudD0oYy5teFJlZkNvdW50fHwwKSsxKX10aGlzLnJlbGVhc2VTdmdHcmFkaWVudHModGhpcy5vbGRHcmFkaWVudHMpO3RoaXMub2xkR3JhZGllbnRzPWEuZ3JhZGllbnRzfX07Cm14U2hhcGUucHJvdG90eXBlLnBhaW50PWZ1bmN0aW9uKGEpe3ZhciBiPSExO2lmKG51bGwhPWEmJnRoaXMub3V0bGluZSl7dmFyIGM9YS5zdHJva2U7YS5zdHJva2U9ZnVuY3Rpb24oKXtiPSEwO2MuYXBwbHkodGhpcyxhcmd1bWVudHMpfTt2YXIgZD1hLmZpbGxBbmRTdHJva2U7YS5maWxsQW5kU3Ryb2tlPWZ1bmN0aW9uKCl7Yj0hMDtkLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19dmFyIGU9dGhpcy5zY2FsZSxmPXRoaXMuYm91bmRzLngvZSxnPXRoaXMuYm91bmRzLnkvZSxrPXRoaXMuYm91bmRzLndpZHRoL2UsbD10aGlzLmJvdW5kcy5oZWlnaHQvZTtpZih0aGlzLmlzUGFpbnRCb3VuZHNJbnZlcnRlZCgpKXZhciBtPShrLWwpLzIsZj1mK20sZz1nLW0sbT1rLGs9bCxsPW07dGhpcy51cGRhdGVUcmFuc2Zvcm0oYSxmLGcsayxsKTt0aGlzLmNvbmZpZ3VyZUNhbnZhcyhhLGYsZyxrLGwpO209bnVsbDtpZihudWxsPT10aGlzLnN0ZW5jaWwmJm51bGw9PXRoaXMucG9pbnRzJiZ0aGlzLnNoYXBlUG9pbnRlckV2ZW50c3x8Cm51bGwhPXRoaXMuc3RlbmNpbCYmdGhpcy5zdGVuY2lsUG9pbnRlckV2ZW50cyl7dmFyIG49dGhpcy5jcmVhdGVCb3VuZGluZ0JveCgpO3RoaXMuZGlhbGVjdD09bXhDb25zdGFudHMuRElBTEVDVF9TVkc/KG09dGhpcy5jcmVhdGVUcmFuc3BhcmVudFN2Z1JlY3RhbmdsZShuLngsbi55LG4ud2lkdGgsbi5oZWlnaHQpLHRoaXMubm9kZS5hcHBlbmRDaGlsZChtKSk6KG49YS5jcmVhdGVSZWN0KCJyZWN0IixuLngvZSxuLnkvZSxuLndpZHRoL2Usbi5oZWlnaHQvZSksbi5hcHBlbmRDaGlsZChhLmNyZWF0ZVRyYW5zcGFyZW50RmlsbCgpKSxuLnN0cm9rZWQ9ImZhbHNlIixhLnJvb3QuYXBwZW5kQ2hpbGQobikpfWlmKG51bGwhPXRoaXMuc3RlbmNpbCl0aGlzLnN0ZW5jaWwuZHJhd1NoYXBlKGEsdGhpcyxmLGcsayxsKTtlbHNlIGlmKGEuc2V0U3Ryb2tlV2lkdGgodGhpcy5zdHJva2V3aWR0aCksbnVsbCE9dGhpcy5wb2ludHMpe2Zvcih2YXIgbj1bXSxwPTA7cDx0aGlzLnBvaW50cy5sZW5ndGg7cCsrKW51bGwhPQp0aGlzLnBvaW50c1twXSYmbi5wdXNoKG5ldyBteFBvaW50KHRoaXMucG9pbnRzW3BdLngvZSx0aGlzLnBvaW50c1twXS55L2UpKTt0aGlzLnBhaW50RWRnZVNoYXBlKGEsbil9ZWxzZSB0aGlzLnBhaW50VmVydGV4U2hhcGUoYSxmLGcsayxsKTtudWxsIT1tJiZudWxsIT1hLnN0YXRlJiZudWxsIT1hLnN0YXRlLnRyYW5zZm9ybSYmbS5zZXRBdHRyaWJ1dGUoInRyYW5zZm9ybSIsYS5zdGF0ZS50cmFuc2Zvcm0pO251bGwhPWEmJnRoaXMub3V0bGluZSYmIWImJihhLnJlY3QoZixnLGssbCksYS5zdHJva2UoKSl9OwpteFNoYXBlLnByb3RvdHlwZS5jb25maWd1cmVDYW52YXM9ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZj1udWxsO251bGwhPXRoaXMuc3R5bGUmJihmPXRoaXMuc3R5bGUuZGFzaFBhdHRlcm4pO2Euc2V0QWxwaGEodGhpcy5vcGFjaXR5LzEwMCk7YS5zZXRGaWxsQWxwaGEodGhpcy5maWxsT3BhY2l0eS8xMDApO2Euc2V0U3Ryb2tlQWxwaGEodGhpcy5zdHJva2VPcGFjaXR5LzEwMCk7bnVsbCE9dGhpcy5pc1NoYWRvdyYmYS5zZXRTaGFkb3codGhpcy5pc1NoYWRvdyk7bnVsbCE9dGhpcy5pc0Rhc2hlZCYmYS5zZXREYXNoZWQodGhpcy5pc0Rhc2hlZCxudWxsIT10aGlzLnN0eWxlPzE9PW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9GSVhfREFTSCwhMSk6ITEpO251bGwhPWYmJmEuc2V0RGFzaFBhdHRlcm4oZik7bnVsbCE9dGhpcy5maWxsJiZ0aGlzLmZpbGwhPW14Q29uc3RhbnRzLk5PTkUmJnRoaXMuZ3JhZGllbnQmJnRoaXMuZ3JhZGllbnQhPW14Q29uc3RhbnRzLk5PTkU/CihiPXRoaXMuZ2V0R3JhZGllbnRCb3VuZHMoYSxiLGMsZCxlKSxhLnNldEdyYWRpZW50KHRoaXMuZmlsbCx0aGlzLmdyYWRpZW50LGIueCxiLnksYi53aWR0aCxiLmhlaWdodCx0aGlzLmdyYWRpZW50RGlyZWN0aW9uKSk6YS5zZXRGaWxsQ29sb3IodGhpcy5maWxsKTthLnNldFN0cm9rZUNvbG9yKHRoaXMuc3Ryb2tlKX07bXhTaGFwZS5wcm90b3R5cGUuZ2V0R3JhZGllbnRCb3VuZHM9ZnVuY3Rpb24oYSxiLGMsZCxlKXtyZXR1cm4gbmV3IG14UmVjdGFuZ2xlKGIsYyxkLGUpfTtteFNoYXBlLnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm09ZnVuY3Rpb24oYSxiLGMsZCxlKXthLnNjYWxlKHRoaXMuc2NhbGUpO2Eucm90YXRlKHRoaXMuZ2V0U2hhcGVSb3RhdGlvbigpLHRoaXMuZmxpcEgsdGhpcy5mbGlwVixiK2QvMixjK2UvMil9OwpteFNoYXBlLnByb3RvdHlwZS5wYWludFZlcnRleFNoYXBlPWZ1bmN0aW9uKGEsYixjLGQsZSl7dGhpcy5wYWludEJhY2tncm91bmQoYSxiLGMsZCxlKTt0aGlzLm91dGxpbmUmJm51bGwhPXRoaXMuc3R5bGUmJjAhPW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9CQUNLR1JPVU5EX09VVExJTkUsMCl8fChhLnNldFNoYWRvdyghMSksdGhpcy5wYWludEZvcmVncm91bmQoYSxiLGMsZCxlKSl9O214U2hhcGUucHJvdG90eXBlLnBhaW50QmFja2dyb3VuZD1mdW5jdGlvbihhLGIsYyxkLGUpe307bXhTaGFwZS5wcm90b3R5cGUucGFpbnRGb3JlZ3JvdW5kPWZ1bmN0aW9uKGEsYixjLGQsZSl7fTtteFNoYXBlLnByb3RvdHlwZS5wYWludEVkZ2VTaGFwZT1mdW5jdGlvbihhLGIpe307Cm14U2hhcGUucHJvdG90eXBlLmdldEFyY1NpemU9ZnVuY3Rpb24oYSxiKXt2YXIgYzsiMSI9PW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9BQlNPTFVURV9BUkNTSVpFLDApP2M9TWF0aC5taW4oYS8yLE1hdGgubWluKGIvMixteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfQVJDU0laRSxteENvbnN0YW50cy5MSU5FX0FSQ1NJWkUpLzIpKTooYz1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfQVJDU0laRSwxMDAqbXhDb25zdGFudHMuUkVDVEFOR0xFX1JPVU5ESU5HX0ZBQ1RPUikvMTAwLGM9TWF0aC5taW4oYSpjLGIqYykpO3JldHVybiBjfTsKbXhTaGFwZS5wcm90b3R5cGUucGFpbnRHbGFzc0VmZmVjdD1mdW5jdGlvbihhLGIsYyxkLGUsZil7dmFyIGc9TWF0aC5jZWlsKHRoaXMuc3Ryb2tld2lkdGgvMik7YS5zZXRHcmFkaWVudCgiI2ZmZmZmZiIsIiNmZmZmZmYiLGIsYyxkLC42KmUsInNvdXRoIiwuOSwuMSk7YS5iZWdpbigpO2YrPTIqZzt0aGlzLmlzUm91bmRlZD8oYS5tb3ZlVG8oYi1nK2YsYy1nKSxhLnF1YWRUbyhiLWcsYy1nLGItZyxjLWcrZiksYS5saW5lVG8oYi1nLGMrLjQqZSksYS5xdWFkVG8oYisuNSpkLGMrLjcqZSxiK2QrZyxjKy40KmUpLGEubGluZVRvKGIrZCtnLGMtZytmKSxhLnF1YWRUbyhiK2QrZyxjLWcsYitkK2ctZixjLWcpKTooYS5tb3ZlVG8oYi1nLGMtZyksYS5saW5lVG8oYi1nLGMrLjQqZSksYS5xdWFkVG8oYisuNSpkLGMrLjcqZSxiK2QrZyxjKy40KmUpLGEubGluZVRvKGIrZCtnLGMtZykpO2EuY2xvc2UoKTthLmZpbGwoKX07Cm14U2hhcGUucHJvdG90eXBlLmFkZFBvaW50cz1mdW5jdGlvbihhLGIsYyxkLGUsZixnKXtpZihudWxsIT1iJiYwPGIubGVuZ3RoKXtnPW51bGwhPWc/ZzohMDt2YXIgaz1iW2IubGVuZ3RoLTFdO2lmKGUmJmMpe2I9Yi5zbGljZSgpO3ZhciBsPWJbMF0sbD1uZXcgbXhQb2ludChrLngrKGwueC1rLngpLzIsay55KyhsLnktay55KS8yKTtiLnNwbGljZSgwLDAsbCl9dmFyIG09YlswXSxsPTE7Zm9yKGc/YS5tb3ZlVG8obS54LG0ueSk6YS5saW5lVG8obS54LG0ueSk7bDwoZT9iLmxlbmd0aDpiLmxlbmd0aC0xKTspe2c9YltteFV0aWxzLm1vZChsLGIubGVuZ3RoKV07dmFyIG49bS54LWcueCxtPW0ueS1nLnk7aWYoYyYmKDAhPW58fDAhPW0pJiYobnVsbD09Znx8MD5teFV0aWxzLmluZGV4T2YoZixsLTEpKSl7dmFyIHA9TWF0aC5zcXJ0KG4qbittKm0pO2EubGluZVRvKGcueCtuKk1hdGgubWluKGQscC8yKS9wLGcueSttKk1hdGgubWluKGQscC8yKS9wKTtmb3IobT1iW214VXRpbHMubW9kKGwrCjEsYi5sZW5ndGgpXTtsPGIubGVuZ3RoLTImJjA9PU1hdGgucm91bmQobS54LWcueCkmJjA9PU1hdGgucm91bmQobS55LWcueSk7KW09YltteFV0aWxzLm1vZChsKzIsYi5sZW5ndGgpXSxsKys7bj1tLngtZy54O209bS55LWcueTtwPU1hdGgubWF4KDEsTWF0aC5zcXJ0KG4qbittKm0pKTtuPWcueCtuKk1hdGgubWluKGQscC8yKS9wO209Zy55K20qTWF0aC5taW4oZCxwLzIpL3A7YS5xdWFkVG8oZy54LGcueSxuLG0pO2c9bmV3IG14UG9pbnQobixtKX1lbHNlIGEubGluZVRvKGcueCxnLnkpO209ZztsKyt9ZT9hLmNsb3NlKCk6YS5saW5lVG8oay54LGsueSl9fTsKbXhTaGFwZS5wcm90b3R5cGUucmVzZXRTdHlsZXM9ZnVuY3Rpb24oKXt0aGlzLmluaXRTdHlsZXMoKTt0aGlzLnNwYWNpbmc9MDtkZWxldGUgdGhpcy5maWxsO2RlbGV0ZSB0aGlzLmdyYWRpZW50O2RlbGV0ZSB0aGlzLmdyYWRpZW50RGlyZWN0aW9uO2RlbGV0ZSB0aGlzLnN0cm9rZTtkZWxldGUgdGhpcy5zdGFydFNpemU7ZGVsZXRlIHRoaXMuZW5kU2l6ZTtkZWxldGUgdGhpcy5zdGFydEFycm93O2RlbGV0ZSB0aGlzLmVuZEFycm93O2RlbGV0ZSB0aGlzLmRpcmVjdGlvbjtkZWxldGUgdGhpcy5pc1NoYWRvdztkZWxldGUgdGhpcy5pc0Rhc2hlZDtkZWxldGUgdGhpcy5pc1JvdW5kZWQ7ZGVsZXRlIHRoaXMuZ2xhc3N9OwpteFNoYXBlLnByb3RvdHlwZS5hcHBseT1mdW5jdGlvbihhKXt0aGlzLnN0YXRlPWE7dGhpcy5zdHlsZT1hLnN0eWxlO2lmKG51bGwhPXRoaXMuc3R5bGUpe3RoaXMuZmlsbD1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfRklMTENPTE9SLHRoaXMuZmlsbCk7dGhpcy5ncmFkaWVudD1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfR1JBRElFTlRDT0xPUix0aGlzLmdyYWRpZW50KTt0aGlzLmdyYWRpZW50RGlyZWN0aW9uPW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9HUkFESUVOVF9ESVJFQ1RJT04sdGhpcy5ncmFkaWVudERpcmVjdGlvbik7dGhpcy5vcGFjaXR5PW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9PUEFDSVRZLHRoaXMub3BhY2l0eSk7dGhpcy5maWxsT3BhY2l0eT1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfRklMTF9PUEFDSVRZLAp0aGlzLmZpbGxPcGFjaXR5KTt0aGlzLnN0cm9rZU9wYWNpdHk9bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX1NUUk9LRV9PUEFDSVRZLHRoaXMuc3Ryb2tlT3BhY2l0eSk7dGhpcy5zdHJva2U9bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX1NUUk9LRUNPTE9SLHRoaXMuc3Ryb2tlKTt0aGlzLnN0cm9rZXdpZHRoPW14VXRpbHMuZ2V0TnVtYmVyKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfU1RST0tFV0lEVEgsdGhpcy5zdHJva2V3aWR0aCk7dGhpcy5zcGFjaW5nPW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9TUEFDSU5HLHRoaXMuc3BhY2luZyk7dGhpcy5zdGFydFNpemU9bXhVdGlscy5nZXROdW1iZXIodGhpcy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9TVEFSVFNJWkUsdGhpcy5zdGFydFNpemUpO3RoaXMuZW5kU2l6ZT1teFV0aWxzLmdldE51bWJlcih0aGlzLnN0eWxlLApteENvbnN0YW50cy5TVFlMRV9FTkRTSVpFLHRoaXMuZW5kU2l6ZSk7dGhpcy5zdGFydEFycm93PW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9TVEFSVEFSUk9XLHRoaXMuc3RhcnRBcnJvdyk7dGhpcy5lbmRBcnJvdz1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfRU5EQVJST1csdGhpcy5lbmRBcnJvdyk7dGhpcy5yb3RhdGlvbj1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfUk9UQVRJT04sdGhpcy5yb3RhdGlvbik7dGhpcy5kaXJlY3Rpb249bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0RJUkVDVElPTix0aGlzLmRpcmVjdGlvbik7dGhpcy5mbGlwSD0xPT1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfRkxJUEgsMCk7dGhpcy5mbGlwVj0xPT1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfRkxJUFYsCjApO251bGwhPXRoaXMuc3RlbmNpbCYmKHRoaXMuZmxpcEg9MT09bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLCJzdGVuY2lsRmxpcEgiLDApfHx0aGlzLmZsaXBILHRoaXMuZmxpcFY9MT09bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLCJzdGVuY2lsRmxpcFYiLDApfHx0aGlzLmZsaXBWKTtpZih0aGlzLmRpcmVjdGlvbj09bXhDb25zdGFudHMuRElSRUNUSU9OX05PUlRIfHx0aGlzLmRpcmVjdGlvbj09bXhDb25zdGFudHMuRElSRUNUSU9OX1NPVVRIKWE9dGhpcy5mbGlwSCx0aGlzLmZsaXBIPXRoaXMuZmxpcFYsdGhpcy5mbGlwVj1hO3RoaXMuaXNTaGFkb3c9MT09bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX1NIQURPVyx0aGlzLmlzU2hhZG93KTt0aGlzLmlzRGFzaGVkPTE9PW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9EQVNIRUQsdGhpcy5pc0Rhc2hlZCk7dGhpcy5pc1JvdW5kZWQ9MT09bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLApteENvbnN0YW50cy5TVFlMRV9ST1VOREVELHRoaXMuaXNSb3VuZGVkKTt0aGlzLmdsYXNzPTE9PW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9HTEFTUyx0aGlzLmdsYXNzKTt0aGlzLmZpbGw9PW14Q29uc3RhbnRzLk5PTkUmJih0aGlzLmZpbGw9bnVsbCk7dGhpcy5ncmFkaWVudD09bXhDb25zdGFudHMuTk9ORSYmKHRoaXMuZ3JhZGllbnQ9bnVsbCk7dGhpcy5zdHJva2U9PW14Q29uc3RhbnRzLk5PTkUmJih0aGlzLnN0cm9rZT1udWxsKX19O214U2hhcGUucHJvdG90eXBlLnNldEN1cnNvcj1mdW5jdGlvbihhKXtudWxsPT1hJiYoYT0iIik7dGhpcy5jdXJzb3I9YTtudWxsIT10aGlzLm5vZGUmJih0aGlzLm5vZGUuc3R5bGUuY3Vyc29yPWEpfTtteFNoYXBlLnByb3RvdHlwZS5nZXRDdXJzb3I9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jdXJzb3J9O214U2hhcGUucHJvdG90eXBlLmlzUm91bmRhYmxlPWZ1bmN0aW9uKCl7cmV0dXJuITF9OwpteFNoYXBlLnByb3RvdHlwZS51cGRhdGVCb3VuZGluZ0JveD1mdW5jdGlvbigpe2lmKHRoaXMudXNlU3ZnQm91bmRpbmdCb3gmJm51bGwhPXRoaXMubm9kZSYmbnVsbCE9dGhpcy5ub2RlLm93bmVyU1ZHRWxlbWVudCl0cnl7dmFyIGE9dGhpcy5ub2RlLmdldEJCb3goKTtpZigwPGEud2lkdGgmJjA8YS5oZWlnaHQpe3RoaXMuYm91bmRpbmdCb3g9bmV3IG14UmVjdGFuZ2xlKGEueCxhLnksYS53aWR0aCxhLmhlaWdodCk7dGhpcy5ib3VuZGluZ0JveC5ncm93KHRoaXMuc3Ryb2tld2lkdGgqdGhpcy5zY2FsZS8yKTtyZXR1cm59fWNhdGNoKGMpe31pZihudWxsIT10aGlzLmJvdW5kcyl7YT10aGlzLmNyZWF0ZUJvdW5kaW5nQm94KCk7aWYobnVsbCE9YSl7dGhpcy5hdWdtZW50Qm91bmRpbmdCb3goYSk7dmFyIGI9dGhpcy5nZXRTaGFwZVJvdGF0aW9uKCk7MCE9YiYmKGE9bXhVdGlscy5nZXRCb3VuZGluZ0JveChhLGIpKX10aGlzLmJvdW5kaW5nQm94PWF9fTsKbXhTaGFwZS5wcm90b3R5cGUuY3JlYXRlQm91bmRpbmdCb3g9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmJvdW5kcy5jbG9uZSgpOyhudWxsIT10aGlzLnN0ZW5jaWwmJih0aGlzLmRpcmVjdGlvbj09bXhDb25zdGFudHMuRElSRUNUSU9OX05PUlRIfHx0aGlzLmRpcmVjdGlvbj09bXhDb25zdGFudHMuRElSRUNUSU9OX1NPVVRIKXx8dGhpcy5pc1BhaW50Qm91bmRzSW52ZXJ0ZWQoKSkmJmEucm90YXRlOTAoKTtyZXR1cm4gYX07bXhTaGFwZS5wcm90b3R5cGUuYXVnbWVudEJvdW5kaW5nQm94PWZ1bmN0aW9uKGEpe3RoaXMuaXNTaGFkb3cmJihhLndpZHRoKz1NYXRoLmNlaWwobXhDb25zdGFudHMuU0hBRE9XX09GRlNFVF9YKnRoaXMuc2NhbGUpLGEuaGVpZ2h0Kz1NYXRoLmNlaWwobXhDb25zdGFudHMuU0hBRE9XX09GRlNFVF9ZKnRoaXMuc2NhbGUpKTthLmdyb3codGhpcy5zdHJva2V3aWR0aCp0aGlzLnNjYWxlLzIpfTsKbXhTaGFwZS5wcm90b3R5cGUuaXNQYWludEJvdW5kc0ludmVydGVkPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PXRoaXMuc3RlbmNpbCYmKHRoaXMuZGlyZWN0aW9uPT1teENvbnN0YW50cy5ESVJFQ1RJT05fTk9SVEh8fHRoaXMuZGlyZWN0aW9uPT1teENvbnN0YW50cy5ESVJFQ1RJT05fU09VVEgpfTtteFNoYXBlLnByb3RvdHlwZS5nZXRSb3RhdGlvbj1mdW5jdGlvbigpe3JldHVybiBudWxsIT10aGlzLnJvdGF0aW9uP3RoaXMucm90YXRpb246MH07bXhTaGFwZS5wcm90b3R5cGUuZ2V0VGV4dFJvdGF0aW9uPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXRSb3RhdGlvbigpOzEhPW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9IT1JJWk9OVEFMLDEpJiYoYSs9bXhUZXh0LnByb3RvdHlwZS52ZXJ0aWNhbFRleHRSb3RhdGlvbik7cmV0dXJuIGF9OwpteFNoYXBlLnByb3RvdHlwZS5nZXRTaGFwZVJvdGF0aW9uPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXRSb3RhdGlvbigpO251bGwhPXRoaXMuZGlyZWN0aW9uJiYodGhpcy5kaXJlY3Rpb249PW14Q29uc3RhbnRzLkRJUkVDVElPTl9OT1JUSD9hKz0yNzA6dGhpcy5kaXJlY3Rpb249PW14Q29uc3RhbnRzLkRJUkVDVElPTl9XRVNUP2ErPTE4MDp0aGlzLmRpcmVjdGlvbj09bXhDb25zdGFudHMuRElSRUNUSU9OX1NPVVRIJiYoYSs9OTApKTtyZXR1cm4gYX07Cm14U2hhcGUucHJvdG90eXBlLmNyZWF0ZVRyYW5zcGFyZW50U3ZnUmVjdGFuZ2xlPWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhteENvbnN0YW50cy5OU19TVkcsInJlY3QiKTtlLnNldEF0dHJpYnV0ZSgieCIsYSk7ZS5zZXRBdHRyaWJ1dGUoInkiLGIpO2Uuc2V0QXR0cmlidXRlKCJ3aWR0aCIsYyk7ZS5zZXRBdHRyaWJ1dGUoImhlaWdodCIsZCk7ZS5zZXRBdHRyaWJ1dGUoImZpbGwiLCJub25lIik7ZS5zZXRBdHRyaWJ1dGUoInN0cm9rZSIsIm5vbmUiKTtlLnNldEF0dHJpYnV0ZSgicG9pbnRlci1ldmVudHMiLCJhbGwiKTtyZXR1cm4gZX07bXhTaGFwZS5wcm90b3R5cGUuc2V0VHJhbnNwYXJlbnRCYWNrZ3JvdW5kSW1hZ2U9ZnVuY3Rpb24oYSl7YS5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2U9InVybCgnIitteENsaWVudC5pbWFnZUJhc2VQYXRoKyIvdHJhbnNwYXJlbnQuZ2lmJykifTsKbXhTaGFwZS5wcm90b3R5cGUucmVsZWFzZVN2Z0dyYWRpZW50cz1mdW5jdGlvbihhKXtpZihudWxsIT1hKWZvcih2YXIgYiBpbiBhKXt2YXIgYz1hW2JdO251bGwhPWMmJihjLm14UmVmQ291bnQ9KGMubXhSZWZDb3VudHx8MCktMSwwPT1jLm14UmVmQ291bnQmJm51bGwhPWMucGFyZW50Tm9kZSYmYy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGMpKX19O214U2hhcGUucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXtudWxsIT10aGlzLm5vZGUmJihteEV2ZW50LnJlbGVhc2UodGhpcy5ub2RlKSxudWxsIT10aGlzLm5vZGUucGFyZW50Tm9kZSYmdGhpcy5ub2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5ub2RlKSx0aGlzLm5vZGU9bnVsbCk7dGhpcy5yZWxlYXNlU3ZnR3JhZGllbnRzKHRoaXMub2xkR3JhZGllbnRzKTt0aGlzLm9sZEdyYWRpZW50cz1udWxsfTsKZnVuY3Rpb24gbXhTdGVuY2lsKGEpe3RoaXMuZGVzYz1hO3RoaXMucGFyc2VEZXNjcmlwdGlvbigpO3RoaXMucGFyc2VDb25zdHJhaW50cygpfW14VXRpbHMuZXh0ZW5kKG14U3RlbmNpbCxteFNoYXBlKTtteFN0ZW5jaWwuZGVmYXVsdExvY2FsaXplZD0hMTtteFN0ZW5jaWwuYWxsb3dFdmFsPSExO214U3RlbmNpbC5wcm90b3R5cGUuZGVzYz1udWxsO214U3RlbmNpbC5wcm90b3R5cGUuY29uc3RyYWludHM9bnVsbDtteFN0ZW5jaWwucHJvdG90eXBlLmFzcGVjdD1udWxsO214U3RlbmNpbC5wcm90b3R5cGUudzA9bnVsbDtteFN0ZW5jaWwucHJvdG90eXBlLmgwPW51bGw7bXhTdGVuY2lsLnByb3RvdHlwZS5iZ05vZGU9bnVsbDtteFN0ZW5jaWwucHJvdG90eXBlLmZnTm9kZT1udWxsO214U3RlbmNpbC5wcm90b3R5cGUuc3Ryb2tld2lkdGg9bnVsbDsKbXhTdGVuY2lsLnByb3RvdHlwZS5wYXJzZURlc2NyaXB0aW9uPWZ1bmN0aW9uKCl7dGhpcy5mZ05vZGU9dGhpcy5kZXNjLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJmb3JlZ3JvdW5kIilbMF07dGhpcy5iZ05vZGU9dGhpcy5kZXNjLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJiYWNrZ3JvdW5kIilbMF07dGhpcy53MD1OdW1iZXIodGhpcy5kZXNjLmdldEF0dHJpYnV0ZSgidyIpfHwxMDApO3RoaXMuaDA9TnVtYmVyKHRoaXMuZGVzYy5nZXRBdHRyaWJ1dGUoImgiKXx8MTAwKTt2YXIgYT10aGlzLmRlc2MuZ2V0QXR0cmlidXRlKCJhc3BlY3QiKTt0aGlzLmFzcGVjdD1udWxsIT1hP2E6InZhcmlhYmxlIjthPXRoaXMuZGVzYy5nZXRBdHRyaWJ1dGUoInN0cm9rZXdpZHRoIik7dGhpcy5zdHJva2V3aWR0aD1udWxsIT1hP2E6IjEifTsKbXhTdGVuY2lsLnByb3RvdHlwZS5wYXJzZUNvbnN0cmFpbnRzPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5kZXNjLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJjb25uZWN0aW9ucyIpWzBdO2lmKG51bGwhPWEmJihhPW14VXRpbHMuZ2V0Q2hpbGROb2RlcyhhKSxudWxsIT1hJiYwPGEubGVuZ3RoKSl7dGhpcy5jb25zdHJhaW50cz1bXTtmb3IodmFyIGI9MDtiPGEubGVuZ3RoO2IrKyl0aGlzLmNvbnN0cmFpbnRzLnB1c2godGhpcy5wYXJzZUNvbnN0cmFpbnQoYVtiXSkpfX07bXhTdGVuY2lsLnByb3RvdHlwZS5wYXJzZUNvbnN0cmFpbnQ9ZnVuY3Rpb24oYSl7dmFyIGI9TnVtYmVyKGEuZ2V0QXR0cmlidXRlKCJ4IikpLGM9TnVtYmVyKGEuZ2V0QXR0cmlidXRlKCJ5IikpLGQ9IjEiPT1hLmdldEF0dHJpYnV0ZSgicGVyaW1ldGVyIik7YT1hLmdldEF0dHJpYnV0ZSgibmFtZSIpO3JldHVybiBuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludChiLGMpLGQsYSl9OwpteFN0ZW5jaWwucHJvdG90eXBlLmV2YWx1YXRlVGV4dEF0dHJpYnV0ZT1mdW5jdGlvbihhLGIsYyl7Yj10aGlzLmV2YWx1YXRlQXR0cmlidXRlKGEsYixjKTthPWEuZ2V0QXR0cmlidXRlKCJsb2NhbGl6ZWQiKTtpZihteFN0ZW5jaWwuZGVmYXVsdExvY2FsaXplZCYmbnVsbD09YXx8IjEiPT1hKWI9bXhSZXNvdXJjZXMuZ2V0KGIpO3JldHVybiBifTtteFN0ZW5jaWwucHJvdG90eXBlLmV2YWx1YXRlQXR0cmlidXRlPWZ1bmN0aW9uKGEsYixjKXtiPWEuZ2V0QXR0cmlidXRlKGIpO251bGw9PWImJihhPW14VXRpbHMuZ2V0VGV4dENvbnRlbnQoYSksbnVsbCE9YSYmbXhTdGVuY2lsLmFsbG93RXZhbCYmKGE9bXhVdGlscy5ldmFsKGEpLCJmdW5jdGlvbiI9PXR5cGVvZiBhJiYoYj1hKGMpKSkpO3JldHVybiBifTsKbXhTdGVuY2lsLnByb3RvdHlwZS5kcmF3U2hhcGU9ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe3ZhciBnPWEuc3RhdGVzLnNsaWNlKCksaz1teFV0aWxzLmdldFZhbHVlKGIuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfRElSRUNUSU9OLG51bGwpLGs9dGhpcy5jb21wdXRlQXNwZWN0KGIuc3R5bGUsYyxkLGUsZixrKSxsPU1hdGgubWluKGsud2lkdGgsay5oZWlnaHQpLGw9ImluaGVyaXQiPT10aGlzLnN0cm9rZXdpZHRoP051bWJlcihteFV0aWxzLmdldE51bWJlcihiLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX1NUUk9LRVdJRFRILDEpKTpOdW1iZXIodGhpcy5zdHJva2V3aWR0aCkqbDthLnNldFN0cm9rZVdpZHRoKGwpO251bGwhPWIuc3R5bGUmJiIxIj09bXhVdGlscy5nZXRWYWx1ZShiLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX1BPSU5URVJfRVZFTlRTLCIwIikmJihhLnNldFN0cm9rZUNvbG9yKG14Q29uc3RhbnRzLk5PTkUpLGEucmVjdChjLGQsZSxmKSxhLnN0cm9rZSgpLGEuc2V0U3Ryb2tlQ29sb3IoYi5zdHJva2UpKTsKdGhpcy5kcmF3Q2hpbGRyZW4oYSxiLGMsZCxlLGYsdGhpcy5iZ05vZGUsaywhMSwhMCk7dGhpcy5kcmF3Q2hpbGRyZW4oYSxiLGMsZCxlLGYsdGhpcy5mZ05vZGUsaywhMCwhYi5vdXRsaW5lfHxudWxsPT1iLnN0eWxlfHwwPT1teFV0aWxzLmdldFZhbHVlKGIuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfQkFDS0dST1VORF9PVVRMSU5FLDApKTthLnN0YXRlcy5sZW5ndGghPWcubGVuZ3RoJiYoYS5zdGF0ZXM9Zyl9O214U3RlbmNpbC5wcm90b3R5cGUuZHJhd0NoaWxkcmVuPWZ1bmN0aW9uKGEsYixjLGQsZSxmLGcsayxsLG0pe2lmKG51bGwhPWcmJjA8ZSYmMDxmKWZvcihjPWcuZmlyc3RDaGlsZDtudWxsIT1jOyljLm5vZGVUeXBlPT1teENvbnN0YW50cy5OT0RFVFlQRV9FTEVNRU5UJiZ0aGlzLmRyYXdOb2RlKGEsYixjLGssbCxtKSxjPWMubmV4dFNpYmxpbmd9OwpteFN0ZW5jaWwucHJvdG90eXBlLmNvbXB1dGVBc3BlY3Q9ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe2E9YjtiPWQvdGhpcy53MDt2YXIgZz1lL3RoaXMuaDA7aWYoZj1mPT1teENvbnN0YW50cy5ESVJFQ1RJT05fTk9SVEh8fGY9PW14Q29uc3RhbnRzLkRJUkVDVElPTl9TT1VUSCl7Zz1kL3RoaXMuaDA7Yj1lL3RoaXMudzA7dmFyIGs9KGQtZSkvMjthKz1rO2MtPWt9ImZpeGVkIj09dGhpcy5hc3BlY3QmJihiPWc9TWF0aC5taW4oYixnKSxmPyhhKz0oZS10aGlzLncwKmIpLzIsYys9KGQtdGhpcy5oMCpnKS8yKTooYSs9KGQtdGhpcy53MCpiKS8yLGMrPShlLXRoaXMuaDAqZykvMikpO3JldHVybiBuZXcgbXhSZWN0YW5nbGUoYSxjLGIsZyl9OwpteFN0ZW5jaWwucHJvdG90eXBlLmRyYXdOb2RlPWZ1bmN0aW9uKGEsYixjLGQsZSxmKXt2YXIgZz1jLm5vZGVOYW1lLGs9ZC54LGw9ZC55LG09ZC53aWR0aCxuPWQuaGVpZ2h0LHA9TWF0aC5taW4obSxuKTtpZigic2F2ZSI9PWcpYS5zYXZlKCk7ZWxzZSBpZigicmVzdG9yZSI9PWcpYS5yZXN0b3JlKCk7ZWxzZSBpZihmKXtpZigicGF0aCI9PWcpe2EuYmVnaW4oKTtwPSEwO2lmKCIxIj09Yy5nZXRBdHRyaWJ1dGUoInJvdW5kZWQiKSl7Zm9yKHZhciBwPSExLHE9TnVtYmVyKGMuZ2V0QXR0cmlidXRlKCJhcmNTaXplIikpLHI9MCx0PVtdLHU9Yy5maXJzdENoaWxkO251bGwhPXU7KXtpZih1Lm5vZGVUeXBlPT1teENvbnN0YW50cy5OT0RFVFlQRV9FTEVNRU5UKXt2YXIgeD11Lm5vZGVOYW1lO2lmKCJtb3ZlIj09eHx8ImxpbmUiPT14KSJtb3ZlIiE9eCYmMCE9dC5sZW5ndGh8fHQucHVzaChbXSksdFt0Lmxlbmd0aC0xXS5wdXNoKG5ldyBteFBvaW50KGsrTnVtYmVyKHUuZ2V0QXR0cmlidXRlKCJ4IikpKgptLGwrTnVtYmVyKHUuZ2V0QXR0cmlidXRlKCJ5IikpKm4pKSxyKys7ZWxzZXtwPSEwO2JyZWFrfX11PXUubmV4dFNpYmxpbmd9aWYoIXAmJjA8cilmb3IobT0wO208dC5sZW5ndGg7bSsrKW49ITEsbD10W21dWzBdLGs9dFttXVt0W21dLmxlbmd0aC0xXSxsLng9PWsueCYmbC55PT1rLnkmJih0W21dLnBvcCgpLG49ITApLHRoaXMuYWRkUG9pbnRzKGEsdFttXSwhMCxxLG4pO2Vsc2UgcD0hMH1pZihwKWZvcih1PWMuZmlyc3RDaGlsZDtudWxsIT11Oyl1Lm5vZGVUeXBlPT1teENvbnN0YW50cy5OT0RFVFlQRV9FTEVNRU5UJiZ0aGlzLmRyYXdOb2RlKGEsYix1LGQsZSxmKSx1PXUubmV4dFNpYmxpbmd9ZWxzZSBpZigiY2xvc2UiPT1nKWEuY2xvc2UoKTtlbHNlIGlmKCJtb3ZlIj09ZylhLm1vdmVUbyhrK051bWJlcihjLmdldEF0dHJpYnV0ZSgieCIpKSptLGwrTnVtYmVyKGMuZ2V0QXR0cmlidXRlKCJ5IikpKm4pO2Vsc2UgaWYoImxpbmUiPT1nKWEubGluZVRvKGsrTnVtYmVyKGMuZ2V0QXR0cmlidXRlKCJ4IikpKgptLGwrTnVtYmVyKGMuZ2V0QXR0cmlidXRlKCJ5IikpKm4pO2Vsc2UgaWYoInF1YWQiPT1nKWEucXVhZFRvKGsrTnVtYmVyKGMuZ2V0QXR0cmlidXRlKCJ4MSIpKSptLGwrTnVtYmVyKGMuZ2V0QXR0cmlidXRlKCJ5MSIpKSpuLGsrTnVtYmVyKGMuZ2V0QXR0cmlidXRlKCJ4MiIpKSptLGwrTnVtYmVyKGMuZ2V0QXR0cmlidXRlKCJ5MiIpKSpuKTtlbHNlIGlmKCJjdXJ2ZSI9PWcpYS5jdXJ2ZVRvKGsrTnVtYmVyKGMuZ2V0QXR0cmlidXRlKCJ4MSIpKSptLGwrTnVtYmVyKGMuZ2V0QXR0cmlidXRlKCJ5MSIpKSpuLGsrTnVtYmVyKGMuZ2V0QXR0cmlidXRlKCJ4MiIpKSptLGwrTnVtYmVyKGMuZ2V0QXR0cmlidXRlKCJ5MiIpKSpuLGsrTnVtYmVyKGMuZ2V0QXR0cmlidXRlKCJ4MyIpKSptLGwrTnVtYmVyKGMuZ2V0QXR0cmlidXRlKCJ5MyIpKSpuKTtlbHNlIGlmKCJhcmMiPT1nKWEuYXJjVG8oTnVtYmVyKGMuZ2V0QXR0cmlidXRlKCJyeCIpKSptLE51bWJlcihjLmdldEF0dHJpYnV0ZSgicnkiKSkqCm4sTnVtYmVyKGMuZ2V0QXR0cmlidXRlKCJ4LWF4aXMtcm90YXRpb24iKSksTnVtYmVyKGMuZ2V0QXR0cmlidXRlKCJsYXJnZS1hcmMtZmxhZyIpKSxOdW1iZXIoYy5nZXRBdHRyaWJ1dGUoInN3ZWVwLWZsYWciKSksaytOdW1iZXIoYy5nZXRBdHRyaWJ1dGUoIngiKSkqbSxsK051bWJlcihjLmdldEF0dHJpYnV0ZSgieSIpKSpuKTtlbHNlIGlmKCJyZWN0Ij09ZylhLnJlY3QoaytOdW1iZXIoYy5nZXRBdHRyaWJ1dGUoIngiKSkqbSxsK051bWJlcihjLmdldEF0dHJpYnV0ZSgieSIpKSpuLE51bWJlcihjLmdldEF0dHJpYnV0ZSgidyIpKSptLE51bWJlcihjLmdldEF0dHJpYnV0ZSgiaCIpKSpuKTtlbHNlIGlmKCJyb3VuZHJlY3QiPT1nKWI9TnVtYmVyKGMuZ2V0QXR0cmlidXRlKCJhcmNzaXplIikpLDA9PWImJihiPTEwMCpteENvbnN0YW50cy5SRUNUQU5HTEVfUk9VTkRJTkdfRkFDVE9SKSxkPU51bWJlcihjLmdldEF0dHJpYnV0ZSgidyIpKSptLGY9TnVtYmVyKGMuZ2V0QXR0cmlidXRlKCJoIikpKgpuLGI9TnVtYmVyKGIpLzEwMCxiPU1hdGgubWluKGQqYixmKmIpLGEucm91bmRyZWN0KGsrTnVtYmVyKGMuZ2V0QXR0cmlidXRlKCJ4IikpKm0sbCtOdW1iZXIoYy5nZXRBdHRyaWJ1dGUoInkiKSkqbixkLGYsYixiKTtlbHNlIGlmKCJlbGxpcHNlIj09ZylhLmVsbGlwc2UoaytOdW1iZXIoYy5nZXRBdHRyaWJ1dGUoIngiKSkqbSxsK051bWJlcihjLmdldEF0dHJpYnV0ZSgieSIpKSpuLE51bWJlcihjLmdldEF0dHJpYnV0ZSgidyIpKSptLE51bWJlcihjLmdldEF0dHJpYnV0ZSgiaCIpKSpuKTtlbHNlIGlmKCJpbWFnZSI9PWcpYi5vdXRsaW5lfHwoYj10aGlzLmV2YWx1YXRlQXR0cmlidXRlKGMsInNyYyIsYiksYS5pbWFnZShrK051bWJlcihjLmdldEF0dHJpYnV0ZSgieCIpKSptLGwrTnVtYmVyKGMuZ2V0QXR0cmlidXRlKCJ5IikpKm4sTnVtYmVyKGMuZ2V0QXR0cmlidXRlKCJ3IikpKm0sTnVtYmVyKGMuZ2V0QXR0cmlidXRlKCJoIikpKm4sYiwhMSwiMSI9PWMuZ2V0QXR0cmlidXRlKCJmbGlwSCIpLAoiMSI9PWMuZ2V0QXR0cmlidXRlKCJmbGlwViIpKSk7ZWxzZSBpZigidGV4dCI9PWcpYi5vdXRsaW5lfHwoZD10aGlzLmV2YWx1YXRlVGV4dEF0dHJpYnV0ZShjLCJzdHIiLGIpLGY9IjEiPT1jLmdldEF0dHJpYnV0ZSgidmVydGljYWwiKT8tOTA6MCwiMCI9PWMuZ2V0QXR0cmlidXRlKCJhbGlnbi1zaGFwZSIpJiYocD1iLnJvdGF0aW9uLHE9MT09bXhVdGlscy5nZXRWYWx1ZShiLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0ZMSVBILDApLGI9MT09bXhVdGlscy5nZXRWYWx1ZShiLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0ZMSVBWLDApLGY9cSYmYj9mLXA6cXx8Yj9mK3A6Zi1wKSxmLT1jLmdldEF0dHJpYnV0ZSgicm90YXRpb24iKSxhLnRleHQoaytOdW1iZXIoYy5nZXRBdHRyaWJ1dGUoIngiKSkqbSxsK051bWJlcihjLmdldEF0dHJpYnV0ZSgieSIpKSpuLDAsMCxkLGMuZ2V0QXR0cmlidXRlKCJhbGlnbiIpfHwibGVmdCIsYy5nZXRBdHRyaWJ1dGUoInZhbGlnbiIpfHwidG9wIiwKITEsIiIsbnVsbCwhMSxmKSk7ZWxzZSBpZigiaW5jbHVkZS1zaGFwZSI9PWcpcD1teFN0ZW5jaWxSZWdpc3RyeS5nZXRTdGVuY2lsKGMuZ2V0QXR0cmlidXRlKCJuYW1lIikpLG51bGwhPXAmJihrKz1OdW1iZXIoYy5nZXRBdHRyaWJ1dGUoIngiKSkqbSxsKz1OdW1iZXIoYy5nZXRBdHRyaWJ1dGUoInkiKSkqbixkPU51bWJlcihjLmdldEF0dHJpYnV0ZSgidyIpKSptLGY9TnVtYmVyKGMuZ2V0QXR0cmlidXRlKCJoIikpKm4scC5kcmF3U2hhcGUoYSxiLGssbCxkLGYpKTtlbHNlIGlmKCJmaWxsc3Ryb2tlIj09ZylhLmZpbGxBbmRTdHJva2UoKTtlbHNlIGlmKCJmaWxsIj09ZylhLmZpbGwoKTtlbHNlIGlmKCJzdHJva2UiPT1nKWEuc3Ryb2tlKCk7ZWxzZSBpZigic3Ryb2tld2lkdGgiPT1nKW09IjEiPT1jLmdldEF0dHJpYnV0ZSgiZml4ZWQiKT8xOnAsYS5zZXRTdHJva2VXaWR0aChOdW1iZXIoYy5nZXRBdHRyaWJ1dGUoIndpZHRoIikpKm0pO2Vsc2UgaWYoImRhc2hlZCI9PWcpYS5zZXREYXNoZWQoIjEiPT0KYy5nZXRBdHRyaWJ1dGUoImRhc2hlZCIpKTtlbHNlIGlmKCJkYXNocGF0dGVybiI9PWcpe2lmKGM9Yy5nZXRBdHRyaWJ1dGUoInBhdHRlcm4iKSxudWxsIT1jKXtjPWMuc3BsaXQoIiAiKTtuPVtdO2ZvcihtPTA7bTxjLmxlbmd0aDttKyspMDxjW21dLmxlbmd0aCYmbi5wdXNoKE51bWJlcihjW21dKSpwKTtjPW4uam9pbigiICIpO2Euc2V0RGFzaFBhdHRlcm4oYyl9fWVsc2Uic3Ryb2tlY29sb3IiPT1nP2Euc2V0U3Ryb2tlQ29sb3IoYy5nZXRBdHRyaWJ1dGUoImNvbG9yIikpOiJsaW5lY2FwIj09Zz9hLnNldExpbmVDYXAoYy5nZXRBdHRyaWJ1dGUoImNhcCIpKToibGluZWpvaW4iPT1nP2Euc2V0TGluZUpvaW4oYy5nZXRBdHRyaWJ1dGUoImpvaW4iKSk6Im1pdGVybGltaXQiPT1nP2Euc2V0TWl0ZXJMaW1pdChOdW1iZXIoYy5nZXRBdHRyaWJ1dGUoImxpbWl0IikpKToiZmlsbGNvbG9yIj09Zz9hLnNldEZpbGxDb2xvcihjLmdldEF0dHJpYnV0ZSgiY29sb3IiKSk6ImFscGhhIj09Cmc/YS5zZXRBbHBoYShjLmdldEF0dHJpYnV0ZSgiYWxwaGEiKSk6ImZpbGxhbHBoYSI9PWc/YS5zZXRBbHBoYShjLmdldEF0dHJpYnV0ZSgiYWxwaGEiKSk6InN0cm9rZWFscGhhIj09Zz9hLnNldEFscGhhKGMuZ2V0QXR0cmlidXRlKCJhbHBoYSIpKToiZm9udGNvbG9yIj09Zz9hLnNldEZvbnRDb2xvcihjLmdldEF0dHJpYnV0ZSgiY29sb3IiKSk6ImZvbnRzdHlsZSI9PWc/YS5zZXRGb250U3R5bGUoYy5nZXRBdHRyaWJ1dGUoInN0eWxlIikpOiJmb250ZmFtaWx5Ij09Zz9hLnNldEZvbnRGYW1pbHkoYy5nZXRBdHRyaWJ1dGUoImZhbWlseSIpKToiZm9udHNpemUiPT1nJiZhLnNldEZvbnRTaXplKE51bWJlcihjLmdldEF0dHJpYnV0ZSgic2l6ZSIpKSpwKTshZXx8ImZpbGxzdHJva2UiIT1nJiYiZmlsbCIhPWcmJiJzdHJva2UiIT1nfHxhLnNldFNoYWRvdyghMSl9fTsKdmFyIG14U3RlbmNpbFJlZ2lzdHJ5PXtzdGVuY2lsczp7fSxhZGRTdGVuY2lsOmZ1bmN0aW9uKGEsYil7bXhTdGVuY2lsUmVnaXN0cnkuc3RlbmNpbHNbYV09Yn0sZ2V0U3RlbmNpbDpmdW5jdGlvbihhKXtyZXR1cm4gbXhTdGVuY2lsUmVnaXN0cnkuc3RlbmNpbHNbYV19fSxteE1hcmtlcj17bWFya2VyczpbXSxhZGRNYXJrZXI6ZnVuY3Rpb24oYSxiKXtteE1hcmtlci5tYXJrZXJzW2FdPWJ9LGNyZWF0ZU1hcmtlcjpmdW5jdGlvbihhLGIsYyxkLGUsZixnLGssbCxtKXt2YXIgbj1teE1hcmtlci5tYXJrZXJzW2NdO3JldHVybiBudWxsIT1uP24oYSxiLGMsZCxlLGYsZyxrLGwsbSk6bnVsbH19OwooZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEpe2E9bnVsbCE9YT9hOjI7cmV0dXJuIGZ1bmN0aW9uKGIsYyxkLGssbCxtLG4scCxxLHIpe2M9bCpxKjEuMTE4O3A9bSpxKjEuMTE4O2wqPW4rcTttKj1uK3E7dmFyIGU9ay5jbG9uZSgpO2UueC09YztlLnktPXA7bj1kIT1teENvbnN0YW50cy5BUlJPV19DTEFTU0lDJiZkIT1teENvbnN0YW50cy5BUlJPV19DTEFTU0lDX1RISU4/MTouNzU7ay54Kz0tbCpuLWM7ay55Kz0tbSpuLXA7cmV0dXJuIGZ1bmN0aW9uKCl7Yi5iZWdpbigpO2IubW92ZVRvKGUueCxlLnkpO2IubGluZVRvKGUueC1sLW0vYSxlLnktbStsL2EpO2QhPW14Q29uc3RhbnRzLkFSUk9XX0NMQVNTSUMmJmQhPW14Q29uc3RhbnRzLkFSUk9XX0NMQVNTSUNfVEhJTnx8Yi5saW5lVG8oZS54LTMqbC80LGUueS0zKm0vNCk7Yi5saW5lVG8oZS54K20vYS1sLGUueS1tLWwvYSk7Yi5jbG9zZSgpO3I/Yi5maWxsQW5kU3Ryb2tlKCk6Yi5zdHJva2UoKX19fWZ1bmN0aW9uIGIoYSl7YT0KbnVsbCE9YT9hOjI7cmV0dXJuIGZ1bmN0aW9uKGIsYyxkLGssbCxtLG4scCxxLHIpe2M9bCpxKjEuMTE4O2Q9bSpxKjEuMTE4O2wqPW4rcTttKj1uK3E7dmFyIGU9ay5jbG9uZSgpO2UueC09YztlLnktPWQ7ay54Kz0yKi1jO2sueSs9MiotZDtyZXR1cm4gZnVuY3Rpb24oKXtiLmJlZ2luKCk7Yi5tb3ZlVG8oZS54LWwtbS9hLGUueS1tK2wvYSk7Yi5saW5lVG8oZS54LGUueSk7Yi5saW5lVG8oZS54K20vYS1sLGUueS1tLWwvYSk7Yi5zdHJva2UoKX19fWZ1bmN0aW9uIGMoYSxiLGMsZyxrLGwsbSxuLHAscSl7bj1jPT1teENvbnN0YW50cy5BUlJPV19ESUFNT05EPy43MDcxOi45ODYyO2I9aypwKm47bio9bCpwO2sqPW0rcDtsKj1tK3A7dmFyIGQ9Zy5jbG9uZSgpO2QueC09YjtkLnktPW47Zy54Kz0tay1iO2cueSs9LWwtbjt2YXIgZT1jPT1teENvbnN0YW50cy5BUlJPV19ESUFNT05EPzI6My40O3JldHVybiBmdW5jdGlvbigpe2EuYmVnaW4oKTthLm1vdmVUbyhkLngsZC55KTthLmxpbmVUbyhkLngtCmsvMi1sL2UsZC55K2svZS1sLzIpO2EubGluZVRvKGQueC1rLGQueS1sKTthLmxpbmVUbyhkLngtay8yK2wvZSxkLnktbC8yLWsvZSk7YS5jbG9zZSgpO3E/YS5maWxsQW5kU3Ryb2tlKCk6YS5zdHJva2UoKX19bXhNYXJrZXIuYWRkTWFya2VyKCJjbGFzc2ljIixhKDIpKTtteE1hcmtlci5hZGRNYXJrZXIoImNsYXNzaWNUaGluIixhKDMpKTtteE1hcmtlci5hZGRNYXJrZXIoImJsb2NrIixhKDIpKTtteE1hcmtlci5hZGRNYXJrZXIoImJsb2NrVGhpbiIsYSgzKSk7bXhNYXJrZXIuYWRkTWFya2VyKCJvcGVuIixiKDIpKTtteE1hcmtlci5hZGRNYXJrZXIoIm9wZW5UaGluIixiKDMpKTtteE1hcmtlci5hZGRNYXJrZXIoIm92YWwiLGZ1bmN0aW9uKGEsYixjLGcsayxsLG0sbixwLHEpe3ZhciBkPW0vMixlPWcuY2xvbmUoKTtnLngtPWsqZDtnLnktPWwqZDtyZXR1cm4gZnVuY3Rpb24oKXthLmVsbGlwc2UoZS54LWQsZS55LWQsbSxtKTtxP2EuZmlsbEFuZFN0cm9rZSgpOmEuc3Ryb2tlKCl9fSk7Cm14TWFya2VyLmFkZE1hcmtlcigiZGlhbW9uZCIsYyk7bXhNYXJrZXIuYWRkTWFya2VyKCJkaWFtb25kVGhpbiIsYyl9KSgpO2Z1bmN0aW9uIG14QWN0b3IoYSxiLGMsZCl7bXhTaGFwZS5jYWxsKHRoaXMpO3RoaXMuYm91bmRzPWE7dGhpcy5maWxsPWI7dGhpcy5zdHJva2U9Yzt0aGlzLnN0cm9rZXdpZHRoPW51bGwhPWQ/ZDoxfW14VXRpbHMuZXh0ZW5kKG14QWN0b3IsbXhTaGFwZSk7bXhBY3Rvci5wcm90b3R5cGUucGFpbnRWZXJ0ZXhTaGFwZT1mdW5jdGlvbihhLGIsYyxkLGUpe2EudHJhbnNsYXRlKGIsYyk7YS5iZWdpbigpO3RoaXMucmVkcmF3UGF0aChhLGIsYyxkLGUpO2EuZmlsbEFuZFN0cm9rZSgpfTsKbXhBY3Rvci5wcm90b3R5cGUucmVkcmF3UGF0aD1mdW5jdGlvbihhLGIsYyxkLGUpe2I9ZC8zO2EubW92ZVRvKDAsZSk7YS5jdXJ2ZVRvKDAsMyplLzUsMCwyKmUvNSxkLzIsMiplLzUpO2EuY3VydmVUbyhkLzItYiwyKmUvNSxkLzItYiwwLGQvMiwwKTthLmN1cnZlVG8oZC8yK2IsMCxkLzIrYiwyKmUvNSxkLzIsMiplLzUpO2EuY3VydmVUbyhkLDIqZS81LGQsMyplLzUsZCxlKTthLmNsb3NlKCl9O2Z1bmN0aW9uIG14Q2xvdWQoYSxiLGMsZCl7bXhBY3Rvci5jYWxsKHRoaXMpO3RoaXMuYm91bmRzPWE7dGhpcy5maWxsPWI7dGhpcy5zdHJva2U9Yzt0aGlzLnN0cm9rZXdpZHRoPW51bGwhPWQ/ZDoxfW14VXRpbHMuZXh0ZW5kKG14Q2xvdWQsbXhBY3Rvcik7Cm14Q2xvdWQucHJvdG90eXBlLnJlZHJhd1BhdGg9ZnVuY3Rpb24oYSxiLGMsZCxlKXthLm1vdmVUbyguMjUqZCwuMjUqZSk7YS5jdXJ2ZVRvKC4wNSpkLC4yNSplLDAsLjUqZSwuMTYqZCwuNTUqZSk7YS5jdXJ2ZVRvKDAsLjY2KmUsLjE4KmQsLjkqZSwuMzEqZCwuOCplKTthLmN1cnZlVG8oLjQqZCxlLC43KmQsZSwuOCpkLC44KmUpO2EuY3VydmVUbyhkLC44KmUsZCwuNiplLC44NzUqZCwuNSplKTthLmN1cnZlVG8oZCwuMyplLC44KmQsLjEqZSwuNjI1KmQsLjIqZSk7YS5jdXJ2ZVRvKC41KmQsLjA1KmUsLjMqZCwuMDUqZSwuMjUqZCwuMjUqZSk7YS5jbG9zZSgpfTtmdW5jdGlvbiBteFJlY3RhbmdsZVNoYXBlKGEsYixjLGQpe214U2hhcGUuY2FsbCh0aGlzKTt0aGlzLmJvdW5kcz1hO3RoaXMuZmlsbD1iO3RoaXMuc3Ryb2tlPWM7dGhpcy5zdHJva2V3aWR0aD1udWxsIT1kP2Q6MX1teFV0aWxzLmV4dGVuZChteFJlY3RhbmdsZVNoYXBlLG14U2hhcGUpOwpteFJlY3RhbmdsZVNoYXBlLnByb3RvdHlwZS5pc0h0bWxBbGxvd2VkPWZ1bmN0aW9uKCl7dmFyIGE9ITA7bnVsbCE9dGhpcy5zdHlsZSYmKGE9IjEiPT1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfUE9JTlRFUl9FVkVOVFMsIjEiKSk7cmV0dXJuIXRoaXMuaXNSb3VuZGVkJiYhdGhpcy5nbGFzcyYmMD09dGhpcy5yb3RhdGlvbiYmKGF8fG51bGwhPXRoaXMuZmlsbCYmdGhpcy5maWxsIT1teENvbnN0YW50cy5OT05FKX07Cm14UmVjdGFuZ2xlU2hhcGUucHJvdG90eXBlLnBhaW50QmFja2dyb3VuZD1mdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmPSEwO251bGwhPXRoaXMuc3R5bGUmJihmPSIxIj09bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX1BPSU5URVJfRVZFTlRTLCIxIikpO2lmKGZ8fG51bGwhPXRoaXMuZmlsbCYmdGhpcy5maWxsIT1teENvbnN0YW50cy5OT05FfHxudWxsIT10aGlzLnN0cm9rZSYmdGhpcy5zdHJva2UhPW14Q29uc3RhbnRzLk5PTkUpZnx8bnVsbCE9dGhpcy5maWxsJiZ0aGlzLmZpbGwhPW14Q29uc3RhbnRzLk5PTkV8fChhLnBvaW50ZXJFdmVudHM9ITEpLHRoaXMuaXNSb3VuZGVkPygiMSI9PW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9BQlNPTFVURV9BUkNTSVpFLDApP2Y9TWF0aC5taW4oZC8yLE1hdGgubWluKGUvMixteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfQVJDU0laRSwKbXhDb25zdGFudHMuTElORV9BUkNTSVpFKS8yKSk6KGY9bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0FSQ1NJWkUsMTAwKm14Q29uc3RhbnRzLlJFQ1RBTkdMRV9ST1VORElOR19GQUNUT1IpLzEwMCxmPU1hdGgubWluKGQqZixlKmYpKSxhLnJvdW5kcmVjdChiLGMsZCxlLGYsZikpOmEucmVjdChiLGMsZCxlKSxhLmZpbGxBbmRTdHJva2UoKX07bXhSZWN0YW5nbGVTaGFwZS5wcm90b3R5cGUuaXNSb3VuZGFibGU9ZnVuY3Rpb24oYSxiLGMsZCxlKXtyZXR1cm4hMH07bXhSZWN0YW5nbGVTaGFwZS5wcm90b3R5cGUucGFpbnRGb3JlZ3JvdW5kPWZ1bmN0aW9uKGEsYixjLGQsZSl7dGhpcy5nbGFzcyYmIXRoaXMub3V0bGluZSYmbnVsbCE9dGhpcy5maWxsJiZ0aGlzLmZpbGwhPW14Q29uc3RhbnRzLk5PTkUmJnRoaXMucGFpbnRHbGFzc0VmZmVjdChhLGIsYyxkLGUsdGhpcy5nZXRBcmNTaXplKGQrdGhpcy5zdHJva2V3aWR0aCxlK3RoaXMuc3Ryb2tld2lkdGgpKX07CmZ1bmN0aW9uIG14RWxsaXBzZShhLGIsYyxkKXtteFNoYXBlLmNhbGwodGhpcyk7dGhpcy5ib3VuZHM9YTt0aGlzLmZpbGw9Yjt0aGlzLnN0cm9rZT1jO3RoaXMuc3Ryb2tld2lkdGg9bnVsbCE9ZD9kOjF9bXhVdGlscy5leHRlbmQobXhFbGxpcHNlLG14U2hhcGUpO214RWxsaXBzZS5wcm90b3R5cGUucGFpbnRWZXJ0ZXhTaGFwZT1mdW5jdGlvbihhLGIsYyxkLGUpe2EuZWxsaXBzZShiLGMsZCxlKTthLmZpbGxBbmRTdHJva2UoKX07ZnVuY3Rpb24gbXhEb3VibGVFbGxpcHNlKGEsYixjLGQpe214U2hhcGUuY2FsbCh0aGlzKTt0aGlzLmJvdW5kcz1hO3RoaXMuZmlsbD1iO3RoaXMuc3Ryb2tlPWM7dGhpcy5zdHJva2V3aWR0aD1udWxsIT1kP2Q6MX1teFV0aWxzLmV4dGVuZChteERvdWJsZUVsbGlwc2UsbXhTaGFwZSk7bXhEb3VibGVFbGxpcHNlLnByb3RvdHlwZS52bWxTY2FsZT0xMDsKbXhEb3VibGVFbGxpcHNlLnByb3RvdHlwZS5wYWludEJhY2tncm91bmQ9ZnVuY3Rpb24oYSxiLGMsZCxlKXthLmVsbGlwc2UoYixjLGQsZSk7YS5maWxsQW5kU3Ryb2tlKCl9O214RG91YmxlRWxsaXBzZS5wcm90b3R5cGUucGFpbnRGb3JlZ3JvdW5kPWZ1bmN0aW9uKGEsYixjLGQsZSl7aWYoIXRoaXMub3V0bGluZSl7dmFyIGY9bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX01BUkdJTixNYXRoLm1pbigzK3RoaXMuc3Ryb2tld2lkdGgsTWF0aC5taW4oZC81LGUvNSkpKTtkLT0yKmY7ZS09MipmOzA8ZCYmMDxlJiZhLmVsbGlwc2UoYitmLGMrZixkLGUpO2Euc3Ryb2tlKCl9fTsKbXhEb3VibGVFbGxpcHNlLnByb3RvdHlwZS5nZXRMYWJlbEJvdW5kcz1mdW5jdGlvbihhKXt2YXIgYj1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfTUFSR0lOLE1hdGgubWluKDMrdGhpcy5zdHJva2V3aWR0aCxNYXRoLm1pbihhLndpZHRoLzUvdGhpcy5zY2FsZSxhLmhlaWdodC81L3RoaXMuc2NhbGUpKSkqdGhpcy5zY2FsZTtyZXR1cm4gbmV3IG14UmVjdGFuZ2xlKGEueCtiLGEueStiLGEud2lkdGgtMipiLGEuaGVpZ2h0LTIqYil9O2Z1bmN0aW9uIG14UmhvbWJ1cyhhLGIsYyxkKXtteFNoYXBlLmNhbGwodGhpcyk7dGhpcy5ib3VuZHM9YTt0aGlzLmZpbGw9Yjt0aGlzLnN0cm9rZT1jO3RoaXMuc3Ryb2tld2lkdGg9bnVsbCE9ZD9kOjF9bXhVdGlscy5leHRlbmQobXhSaG9tYnVzLG14U2hhcGUpO214UmhvbWJ1cy5wcm90b3R5cGUuaXNSb3VuZGFibGU9ZnVuY3Rpb24oKXtyZXR1cm4hMH07Cm14UmhvbWJ1cy5wcm90b3R5cGUucGFpbnRWZXJ0ZXhTaGFwZT1mdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmPWQvMixnPWUvMixrPW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9BUkNTSVpFLG14Q29uc3RhbnRzLkxJTkVfQVJDU0laRSkvMjthLmJlZ2luKCk7dGhpcy5hZGRQb2ludHMoYSxbbmV3IG14UG9pbnQoYitmLGMpLG5ldyBteFBvaW50KGIrZCxjK2cpLG5ldyBteFBvaW50KGIrZixjK2UpLG5ldyBteFBvaW50KGIsYytnKV0sdGhpcy5pc1JvdW5kZWQsaywhMCk7YS5maWxsQW5kU3Ryb2tlKCl9O2Z1bmN0aW9uIG14UG9seWxpbmUoYSxiLGMpe214U2hhcGUuY2FsbCh0aGlzKTt0aGlzLnBvaW50cz1hO3RoaXMuc3Ryb2tlPWI7dGhpcy5zdHJva2V3aWR0aD1udWxsIT1jP2M6MX1teFV0aWxzLmV4dGVuZChteFBvbHlsaW5lLG14U2hhcGUpO214UG9seWxpbmUucHJvdG90eXBlLmdldFJvdGF0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIDB9OwpteFBvbHlsaW5lLnByb3RvdHlwZS5nZXRTaGFwZVJvdGF0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIDB9O214UG9seWxpbmUucHJvdG90eXBlLmlzUGFpbnRCb3VuZHNJbnZlcnRlZD1mdW5jdGlvbigpe3JldHVybiExfTtteFBvbHlsaW5lLnByb3RvdHlwZS5wYWludEVkZ2VTaGFwZT1mdW5jdGlvbihhLGIpe3ZhciBjPWEucG9pbnRlckV2ZW50c1ZhbHVlO2EucG9pbnRlckV2ZW50c1ZhbHVlPSJzdHJva2UiO251bGw9PXRoaXMuc3R5bGV8fDEhPXRoaXMuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfQ1VSVkVEXT90aGlzLnBhaW50TGluZShhLGIsdGhpcy5pc1JvdW5kZWQpOnRoaXMucGFpbnRDdXJ2ZWRMaW5lKGEsYik7YS5wb2ludGVyRXZlbnRzVmFsdWU9Y307Cm14UG9seWxpbmUucHJvdG90eXBlLnBhaW50TGluZT1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0FSQ1NJWkUsbXhDb25zdGFudHMuTElORV9BUkNTSVpFKS8yO2EuYmVnaW4oKTt0aGlzLmFkZFBvaW50cyhhLGIsYyxkLCExKTthLnN0cm9rZSgpfTtteFBvbHlsaW5lLnByb3RvdHlwZS5wYWludEN1cnZlZExpbmU9ZnVuY3Rpb24oYSxiKXthLmJlZ2luKCk7dmFyIGM9YlswXSxkPWIubGVuZ3RoO2EubW92ZVRvKGMueCxjLnkpO2ZvcihjPTE7YzxkLTI7YysrKXt2YXIgZT1iW2NdLGY9YltjKzFdO2EucXVhZFRvKGUueCxlLnksKGUueCtmLngpLzIsKGUueStmLnkpLzIpfWU9YltkLTJdO2Y9YltkLTFdO2EucXVhZFRvKGUueCxlLnksZi54LGYueSk7YS5zdHJva2UoKX07CmZ1bmN0aW9uIG14QXJyb3coYSxiLGMsZCxlLGYsZyl7bXhTaGFwZS5jYWxsKHRoaXMpO3RoaXMucG9pbnRzPWE7dGhpcy5maWxsPWI7dGhpcy5zdHJva2U9Yzt0aGlzLnN0cm9rZXdpZHRoPW51bGwhPWQ/ZDoxO3RoaXMuYXJyb3dXaWR0aD1udWxsIT1lP2U6bXhDb25zdGFudHMuQVJST1dfV0lEVEg7dGhpcy5zcGFjaW5nPW51bGwhPWY/ZjpteENvbnN0YW50cy5BUlJPV19TUEFDSU5HO3RoaXMuZW5kU2l6ZT1udWxsIT1nP2c6bXhDb25zdGFudHMuQVJST1dfU0laRX1teFV0aWxzLmV4dGVuZChteEFycm93LG14U2hhcGUpO214QXJyb3cucHJvdG90eXBlLmF1Z21lbnRCb3VuZGluZ0JveD1mdW5jdGlvbihhKXtteFNoYXBlLnByb3RvdHlwZS5hdWdtZW50Qm91bmRpbmdCb3guYXBwbHkodGhpcyxhcmd1bWVudHMpO2EuZ3JvdygoTWF0aC5tYXgodGhpcy5hcnJvd1dpZHRoLHRoaXMuZW5kU2l6ZSkvMit0aGlzLnN0cm9rZXdpZHRoKSp0aGlzLnNjYWxlKX07Cm14QXJyb3cucHJvdG90eXBlLnBhaW50RWRnZVNoYXBlPWZ1bmN0aW9uKGEsYil7dmFyIGM9bXhDb25zdGFudHMuQVJST1dfU1BBQ0lORyxkPW14Q29uc3RhbnRzLkFSUk9XX1dJRFRILGU9YlswXSxmPWJbYi5sZW5ndGgtMV0sZz1mLngtZS54LGs9Zi55LWUueSxsPU1hdGguc3FydChnKmcrayprKSxtPWwtMipjLW14Q29uc3RhbnRzLkFSUk9XX1NJWkUsZz1nL2wsaz1rL2wsbD1kKmsvMyxkPS1kKmcvMyxuPWUueC1sLzIrYypnLGU9ZS55LWQvMitjKmsscD1uK2wscT1lK2Qscj1wK20qZyxtPXErbSprLHQ9citsLHU9bStkLHg9dC0zKmwseT11LTMqZDthLmJlZ2luKCk7YS5tb3ZlVG8obixlKTthLmxpbmVUbyhwLHEpO2EubGluZVRvKHIsbSk7YS5saW5lVG8odCx1KTthLmxpbmVUbyhmLngtYypnLGYueS1jKmspO2EubGluZVRvKHgseSk7YS5saW5lVG8oeCtsLHkrZCk7YS5jbG9zZSgpO2EuZmlsbEFuZFN0cm9rZSgpfTsKZnVuY3Rpb24gbXhBcnJvd0Nvbm5lY3RvcihhLGIsYyxkLGUsZixnKXtteFNoYXBlLmNhbGwodGhpcyk7dGhpcy5wb2ludHM9YTt0aGlzLmZpbGw9Yjt0aGlzLnN0cm9rZT1jO3RoaXMuc3Ryb2tld2lkdGg9bnVsbCE9ZD9kOjE7dGhpcy5hcnJvd1dpZHRoPW51bGwhPWU/ZTpteENvbnN0YW50cy5BUlJPV19XSURUSDt0aGlzLmFycm93U3BhY2luZz1udWxsIT1mP2Y6bXhDb25zdGFudHMuQVJST1dfU1BBQ0lORzt0aGlzLnN0YXJ0U2l6ZT1teENvbnN0YW50cy5BUlJPV19TSVpFLzU7dGhpcy5lbmRTaXplPW14Q29uc3RhbnRzLkFSUk9XX1NJWkUvNX1teFV0aWxzLmV4dGVuZChteEFycm93Q29ubmVjdG9yLG14U2hhcGUpO214QXJyb3dDb25uZWN0b3IucHJvdG90eXBlLnVzZVN2Z0JvdW5kaW5nQm94PSEwOwpteEFycm93Q29ubmVjdG9yLnByb3RvdHlwZS5yZXNldFN0eWxlcz1mdW5jdGlvbigpe214U2hhcGUucHJvdG90eXBlLnJlc2V0U3R5bGVzLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLmFycm93U3BhY2luZz1teENvbnN0YW50cy5BUlJPV19TUEFDSU5HfTtteEFycm93Q29ubmVjdG9yLnByb3RvdHlwZS5hcHBseT1mdW5jdGlvbihhKXtteFNoYXBlLnByb3RvdHlwZS5hcHBseS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7bnVsbCE9dGhpcy5zdHlsZSYmKHRoaXMuc3RhcnRTaXplPTMqbXhVdGlscy5nZXROdW1iZXIodGhpcy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9TVEFSVFNJWkUsbXhDb25zdGFudHMuQVJST1dfU0laRS81KSx0aGlzLmVuZFNpemU9MypteFV0aWxzLmdldE51bWJlcih0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0VORFNJWkUsbXhDb25zdGFudHMuQVJST1dfU0laRS81KSl9OwpteEFycm93Q29ubmVjdG9yLnByb3RvdHlwZS5hdWdtZW50Qm91bmRpbmdCb3g9ZnVuY3Rpb24oYSl7bXhTaGFwZS5wcm90b3R5cGUuYXVnbWVudEJvdW5kaW5nQm94LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt2YXIgYj10aGlzLmdldEVkZ2VXaWR0aCgpO3RoaXMuaXNNYXJrZXJTdGFydCgpJiYoYj1NYXRoLm1heChiLHRoaXMuZ2V0U3RhcnRBcnJvd1dpZHRoKCkpKTt0aGlzLmlzTWFya2VyRW5kKCkmJihiPU1hdGgubWF4KGIsdGhpcy5nZXRFbmRBcnJvd1dpZHRoKCkpKTthLmdyb3coKGIvMit0aGlzLnN0cm9rZXdpZHRoKSp0aGlzLnNjYWxlKX07Cm14QXJyb3dDb25uZWN0b3IucHJvdG90eXBlLnBhaW50RWRnZVNoYXBlPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5zdHJva2V3aWR0aDt0aGlzLm91dGxpbmUmJihjPU1hdGgubWF4KDEsbXhVdGlscy5nZXROdW1iZXIodGhpcy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9TVFJPS0VXSURUSCx0aGlzLnN0cm9rZXdpZHRoKSkpO2Zvcih2YXIgZD10aGlzLmdldFN0YXJ0QXJyb3dXaWR0aCgpK2MsZT10aGlzLmdldEVuZEFycm93V2lkdGgoKStjLGY9dGhpcy5vdXRsaW5lP3RoaXMuZ2V0RWRnZVdpZHRoKCkrYzp0aGlzLmdldEVkZ2VXaWR0aCgpLGc9dGhpcy5pc09wZW5FbmRlZCgpLGs9dGhpcy5pc01hcmtlclN0YXJ0KCksbD10aGlzLmlzTWFya2VyRW5kKCksbT1nPzA6dGhpcy5hcnJvd1NwYWNpbmcrYy8yLG49dGhpcy5zdGFydFNpemUrYyxjPXRoaXMuZW5kU2l6ZStjLHA9dGhpcy5pc0Fycm93Um91bmRlZCgpLHE9YltiLmxlbmd0aC0xXSxyPTE7cjxiLmxlbmd0aC0xJiZiW3JdLng9PQpiWzBdLngmJmJbcl0ueT09YlswXS55OylyKys7dmFyIHQ9YltyXS54LWJbMF0ueCxyPWJbcl0ueS1iWzBdLnksdT1NYXRoLnNxcnQodCp0K3Iqcik7aWYoMCE9dSl7dmFyIHg9dC91LHksQj14LEE9ci91LHosQz1BLHU9ZipBLHY9LWYqeCxEPVtdO3A/YS5zZXRMaW5lSm9pbigicm91bmQiKToyPGIubGVuZ3RoJiZhLnNldE1pdGVyTGltaXQoMS40Mik7YS5iZWdpbigpO3Q9eDtyPUE7aWYoayYmIWcpdGhpcy5wYWludE1hcmtlcihhLGJbMF0ueCxiWzBdLnkseCxBLG4sZCxmLG0sITApO2Vsc2V7eT1iWzBdLngrdS8yK20qeDt6PWJbMF0ueSt2LzIrbSpBO3ZhciBHPWJbMF0ueC11LzIrbSp4LEo9YlswXS55LXYvMittKkE7Zz8oYS5tb3ZlVG8oeSx6KSxELnB1c2goZnVuY3Rpb24oKXthLmxpbmVUbyhHLEopfSkpOihhLm1vdmVUbyhHLEopLGEubGluZVRvKHkseikpfWZvcih2YXIgRT16PXk9MCx1PTA7dTxiLmxlbmd0aC0yO3UrKylpZih2PW14VXRpbHMucmVsYXRpdmVDY3coYlt1XS54LApiW3VdLnksYlt1KzFdLngsYlt1KzFdLnksYlt1KzJdLngsYlt1KzJdLnkpLHk9Ylt1KzJdLngtYlt1KzFdLngsej1iW3UrMl0ueS1iW3UrMV0ueSxFPU1hdGguc3FydCh5Knkreip6KSwwIT1FKXtCPXkvRTtDPXovRTtFPU1hdGgubWF4KE1hdGguc3FydCgoeCpCK0EqQysxKS8yKSwuMDQpO3k9eCtCO3o9QStDO3ZhciBIPU1hdGguc3FydCh5Knkreip6KTtpZigwIT1IKXt5Lz1IO3ovPUg7dmFyIEg9TWF0aC5tYXgoRSxNYXRoLm1pbih0aGlzLnN0cm9rZXdpZHRoLzIwMCsuMDQsLjM1KSksRT0wIT12JiZwP01hdGgubWF4KC4xLEgpOk1hdGgubWF4KEUsLjA2KSxJPWJbdSsxXS54K3oqZi8yL0UsRj1iW3UrMV0ueS15KmYvMi9FO3o9Ylt1KzFdLngteipmLzIvRTt5PWJbdSsxXS55K3kqZi8yL0U7MCE9diYmcD8tMT09dj8odj16K0MqZixFPXktQipmLGEubGluZVRvKHorQSpmLHkteCpmKSxhLnF1YWRUbyhJLEYsdixFKSxmdW5jdGlvbihiLGMpe0QucHVzaChmdW5jdGlvbigpe2EubGluZVRvKGIsCmMpfSl9KHoseSkpOihhLmxpbmVUbyhJLEYpLGZ1bmN0aW9uKGIsYyl7dmFyIGQ9SS1BKmYsZT1GK3gqZixnPUktQypmLGs9RitCKmY7RC5wdXNoKGZ1bmN0aW9uKCl7YS5xdWFkVG8oYixjLGQsZSl9KTtELnB1c2goZnVuY3Rpb24oKXthLmxpbmVUbyhnLGspfSl9KHoseSkpOihhLmxpbmVUbyhJLEYpLGZ1bmN0aW9uKGIsYyl7RC5wdXNoKGZ1bmN0aW9uKCl7YS5saW5lVG8oYixjKX0pfSh6LHkpKTt4PUI7QT1DfX11PWYqQzt2PS1mKkI7aWYobCYmIWcpdGhpcy5wYWludE1hcmtlcihhLHEueCxxLnksLXgsLUEsYyxlLGYsbSwhMSk7ZWxzZXthLmxpbmVUbyhxLngtbSpCK3UvMixxLnktbSpDK3YvMik7dmFyIEs9cS54LW0qQi11LzIsTD1xLnktbSpDLXYvMjtnPyhhLm1vdmVUbyhLLEwpLEQuc3BsaWNlKDAsMCxmdW5jdGlvbigpe2EubW92ZVRvKEssTCl9KSk6YS5saW5lVG8oSyxMKX1mb3IodT1ELmxlbmd0aC0xOzA8PXU7dS0tKURbdV0oKTtnPyhhLmVuZCgpLGEuc3Ryb2tlKCkpOgooYS5jbG9zZSgpLGEuZmlsbEFuZFN0cm9rZSgpKTthLnNldFNoYWRvdyghMSk7YS5zZXRNaXRlckxpbWl0KDQpO3AmJmEuc2V0TGluZUpvaW4oImZsYXQiKTsyPGIubGVuZ3RoJiYoYS5zZXRNaXRlckxpbWl0KDQpLGsmJiFnJiYoYS5iZWdpbigpLHRoaXMucGFpbnRNYXJrZXIoYSxiWzBdLngsYlswXS55LHQscixuLGQsZixtLCEwKSxhLnN0cm9rZSgpLGEuZW5kKCkpLGwmJiFnJiYoYS5iZWdpbigpLHRoaXMucGFpbnRNYXJrZXIoYSxxLngscS55LC14LC1BLGMsZSxmLG0sITApLGEuc3Ryb2tlKCksYS5lbmQoKSkpfX07Cm14QXJyb3dDb25uZWN0b3IucHJvdG90eXBlLnBhaW50TWFya2VyPWZ1bmN0aW9uKGEsYixjLGQsZSxmLGcsayxsLG0pe2c9ay9nO3ZhciBuPWsqZS8yO2s9LWsqZC8yO3ZhciBwPShsK2YpKmQ7Zj0obCtmKSplO20/YS5tb3ZlVG8oYi1uK3AsYy1rK2YpOmEubGluZVRvKGItbitwLGMtaytmKTthLmxpbmVUbyhiLW4vZytwLGMtay9nK2YpO2EubGluZVRvKGIrbCpkLGMrbCplKTthLmxpbmVUbyhiK24vZytwLGMray9nK2YpO2EubGluZVRvKGIrbitwLGMraytmKX07bXhBcnJvd0Nvbm5lY3Rvci5wcm90b3R5cGUuaXNBcnJvd1JvdW5kZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc1JvdW5kZWR9O214QXJyb3dDb25uZWN0b3IucHJvdG90eXBlLmdldFN0YXJ0QXJyb3dXaWR0aD1mdW5jdGlvbigpe3JldHVybiBteENvbnN0YW50cy5BUlJPV19XSURUSH07bXhBcnJvd0Nvbm5lY3Rvci5wcm90b3R5cGUuZ2V0RW5kQXJyb3dXaWR0aD1mdW5jdGlvbigpe3JldHVybiBteENvbnN0YW50cy5BUlJPV19XSURUSH07Cm14QXJyb3dDb25uZWN0b3IucHJvdG90eXBlLmdldEVkZ2VXaWR0aD1mdW5jdGlvbigpe3JldHVybiBteENvbnN0YW50cy5BUlJPV19XSURUSC8zfTtteEFycm93Q29ubmVjdG9yLnByb3RvdHlwZS5pc09wZW5FbmRlZD1mdW5jdGlvbigpe3JldHVybiExfTtteEFycm93Q29ubmVjdG9yLnByb3RvdHlwZS5pc01hcmtlclN0YXJ0PWZ1bmN0aW9uKCl7cmV0dXJuIG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9TVEFSVEFSUk9XLG14Q29uc3RhbnRzLk5PTkUpIT1teENvbnN0YW50cy5OT05FfTtteEFycm93Q29ubmVjdG9yLnByb3RvdHlwZS5pc01hcmtlckVuZD1mdW5jdGlvbigpe3JldHVybiBteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfRU5EQVJST1csbXhDb25zdGFudHMuTk9ORSkhPW14Q29uc3RhbnRzLk5PTkV9OwpmdW5jdGlvbiBteFRleHQoYSxiLGMsZCxlLGYsZyxrLGwsbSxuLHAscSxyLHQsdSx4LHksQixBLHope214U2hhcGUuY2FsbCh0aGlzKTt0aGlzLnZhbHVlPWE7dGhpcy5ib3VuZHM9Yjt0aGlzLmNvbG9yPW51bGwhPWU/ZToiYmxhY2siO3RoaXMuYWxpZ249bnVsbCE9Yz9jOm14Q29uc3RhbnRzLkFMSUdOX0NFTlRFUjt0aGlzLnZhbGlnbj1udWxsIT1kP2Q6bXhDb25zdGFudHMuQUxJR05fTUlERExFO3RoaXMuZmFtaWx5PW51bGwhPWY/ZjpteENvbnN0YW50cy5ERUZBVUxUX0ZPTlRGQU1JTFk7dGhpcy5zaXplPW51bGwhPWc/ZzpteENvbnN0YW50cy5ERUZBVUxUX0ZPTlRTSVpFO3RoaXMuZm9udFN0eWxlPW51bGwhPWs/azpteENvbnN0YW50cy5ERUZBVUxUX0ZPTlRTVFlMRTt0aGlzLnNwYWNpbmc9cGFyc2VJbnQobHx8Mik7dGhpcy5zcGFjaW5nVG9wPXRoaXMuc3BhY2luZytwYXJzZUludChtfHwwKTt0aGlzLnNwYWNpbmdSaWdodD10aGlzLnNwYWNpbmcrcGFyc2VJbnQobnx8MCk7CnRoaXMuc3BhY2luZ0JvdHRvbT10aGlzLnNwYWNpbmcrcGFyc2VJbnQocHx8MCk7dGhpcy5zcGFjaW5nTGVmdD10aGlzLnNwYWNpbmcrcGFyc2VJbnQocXx8MCk7dGhpcy5ob3Jpem9udGFsPW51bGwhPXI/cjohMDt0aGlzLmJhY2tncm91bmQ9dDt0aGlzLmJvcmRlcj11O3RoaXMud3JhcD1udWxsIT14P3g6ITE7dGhpcy5jbGlwcGVkPW51bGwhPXk/eTohMTt0aGlzLm92ZXJmbG93PW51bGwhPUI/QjoidmlzaWJsZSI7dGhpcy5sYWJlbFBhZGRpbmc9bnVsbCE9QT9BOjA7dGhpcy50ZXh0RGlyZWN0aW9uPXo7dGhpcy5yb3RhdGlvbj0wO3RoaXMudXBkYXRlTWFyZ2luKCl9bXhVdGlscy5leHRlbmQobXhUZXh0LG14U2hhcGUpO214VGV4dC5wcm90b3R5cGUuYmFzZVNwYWNpbmdUb3A9MDtteFRleHQucHJvdG90eXBlLmJhc2VTcGFjaW5nQm90dG9tPTA7bXhUZXh0LnByb3RvdHlwZS5iYXNlU3BhY2luZ0xlZnQ9MDtteFRleHQucHJvdG90eXBlLmJhc2VTcGFjaW5nUmlnaHQ9MDsKbXhUZXh0LnByb3RvdHlwZS5yZXBsYWNlTGluZWZlZWRzPSEwO214VGV4dC5wcm90b3R5cGUudmVydGljYWxUZXh0Um90YXRpb249LTkwO214VGV4dC5wcm90b3R5cGUuaWdub3JlQ2xpcHBlZFN0cmluZ1NpemU9ITA7bXhUZXh0LnByb3RvdHlwZS5pZ25vcmVTdHJpbmdTaXplPSExO214VGV4dC5wcm90b3R5cGUudGV4dFdpZHRoUGFkZGluZz04IT1kb2N1bWVudC5kb2N1bWVudE1vZGV8fG14Q2xpZW50LklTX0VNPzM6NDtteFRleHQucHJvdG90eXBlLmxhc3RWYWx1ZT1udWxsO214VGV4dC5wcm90b3R5cGUuY2FjaGVFbmFibGVkPSEwO214VGV4dC5wcm90b3R5cGUuaXNQYXJzZVZtbD1mdW5jdGlvbigpe3JldHVybiExfTtteFRleHQucHJvdG90eXBlLmlzSHRtbEFsbG93ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gOCE9ZG9jdW1lbnQuZG9jdW1lbnRNb2RlfHxteENsaWVudC5JU19FTX07bXhUZXh0LnByb3RvdHlwZS5nZXRTdmdTY3JlZW5PZmZzZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gMH07Cm14VGV4dC5wcm90b3R5cGUuY2hlY2tCb3VuZHM9ZnVuY3Rpb24oKXtyZXR1cm4haXNOYU4odGhpcy5zY2FsZSkmJmlzRmluaXRlKHRoaXMuc2NhbGUpJiYwPHRoaXMuc2NhbGUmJm51bGwhPXRoaXMuYm91bmRzJiYhaXNOYU4odGhpcy5ib3VuZHMueCkmJiFpc05hTih0aGlzLmJvdW5kcy55KSYmIWlzTmFOKHRoaXMuYm91bmRzLndpZHRoKSYmIWlzTmFOKHRoaXMuYm91bmRzLmhlaWdodCl9OwpteFRleHQucHJvdG90eXBlLnBhaW50PWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5zY2FsZSxkPXRoaXMuYm91bmRzLngvYyxlPXRoaXMuYm91bmRzLnkvYyxmPXRoaXMuYm91bmRzLndpZHRoL2MsYz10aGlzLmJvdW5kcy5oZWlnaHQvYzt0aGlzLnVwZGF0ZVRyYW5zZm9ybShhLGQsZSxmLGMpO3RoaXMuY29uZmlndXJlQ2FudmFzKGEsZCxlLGYsYyk7aWYoYilhLnVwZGF0ZVRleHQoZCxlLGYsYyx0aGlzLmFsaWduLHRoaXMudmFsaWduLHRoaXMud3JhcCx0aGlzLm92ZXJmbG93LHRoaXMuY2xpcHBlZCx0aGlzLmdldFRleHRSb3RhdGlvbigpLHRoaXMubm9kZSk7ZWxzZXt2YXIgZz1teFV0aWxzLmlzTm9kZSh0aGlzLnZhbHVlKXx8dGhpcy5kaWFsZWN0PT1teENvbnN0YW50cy5ESUFMRUNUX1NUUklDVEhUTUwsaz1nfHxhIGluc3RhbmNlb2YgbXhWbWxDYW52YXMyRD8iaHRtbCI6IiIsbD10aGlzLnZhbHVlO2d8fCJodG1sIiE9a3x8KGw9bXhVdGlscy5odG1sRW50aXRpZXMobCwhMSkpOwoiaHRtbCIhPWt8fG14VXRpbHMuaXNOb2RlKHRoaXMudmFsdWUpfHwobD1teFV0aWxzLnJlcGxhY2VUcmFpbGluZ05ld2xpbmVzKGwsIjxkaXY+PGJyPjwvZGl2PiIpKTt2YXIgbD0hbXhVdGlscy5pc05vZGUodGhpcy52YWx1ZSkmJnRoaXMucmVwbGFjZUxpbmVmZWVkcyYmImh0bWwiPT1rP2wucmVwbGFjZSgvXG4vZywiPGJyLz4iKTpsLG09dGhpcy50ZXh0RGlyZWN0aW9uO20hPW14Q29uc3RhbnRzLlRFWFRfRElSRUNUSU9OX0FVVE98fGd8fChtPXRoaXMuZ2V0QXV0b0RpcmVjdGlvbigpKTttIT1teENvbnN0YW50cy5URVhUX0RJUkVDVElPTl9MVFImJm0hPW14Q29uc3RhbnRzLlRFWFRfRElSRUNUSU9OX1JUTCYmKG09bnVsbCk7YS50ZXh0KGQsZSxmLGMsbCx0aGlzLmFsaWduLHRoaXMudmFsaWduLHRoaXMud3JhcCxrLHRoaXMub3ZlcmZsb3csdGhpcy5jbGlwcGVkLHRoaXMuZ2V0VGV4dFJvdGF0aW9uKCksbSl9fTsKbXhUZXh0LnByb3RvdHlwZS5yZWRyYXc9ZnVuY3Rpb24oKXtpZih0aGlzLnZpc2libGUmJnRoaXMuY2hlY2tCb3VuZHMoKSYmdGhpcy5jYWNoZUVuYWJsZWQmJnRoaXMubGFzdFZhbHVlPT10aGlzLnZhbHVlJiYobXhVdGlscy5pc05vZGUodGhpcy52YWx1ZSl8fHRoaXMuZGlhbGVjdD09bXhDb25zdGFudHMuRElBTEVDVF9TVFJJQ1RIVE1MKSlpZigiRElWIiE9dGhpcy5ub2RlLm5vZGVOYW1lfHwhdGhpcy5pc0h0bWxBbGxvd2VkKCkmJm14Q2xpZW50LklTX1ZNTCl7dmFyIGE9dGhpcy5jcmVhdGVDYW52YXMoKTtudWxsIT1hJiZudWxsIT1hLnVwZGF0ZVRleHQ/KGEucG9pbnRlckV2ZW50cz10aGlzLnBvaW50ZXJFdmVudHMsdGhpcy5wYWludChhLCEwKSx0aGlzLmRlc3Ryb3lDYW52YXMoYSksdGhpcy51cGRhdGVCb3VuZGluZ0JveCgpKTpteFNoYXBlLnByb3RvdHlwZS5yZWRyYXcuYXBwbHkodGhpcyxhcmd1bWVudHMpfWVsc2UgbXhDbGllbnQuSVNfU1ZHP3RoaXMucmVkcmF3SHRtbFNoYXBlV2l0aENzczMoKToKKHRoaXMudXBkYXRlU2l6ZSh0aGlzLm5vZGUsbnVsbD09dGhpcy5zdGF0ZXx8bnVsbD09dGhpcy5zdGF0ZS52aWV3LnRleHREaXYpLG14Q2xpZW50LklTX0lFJiYobnVsbD09ZG9jdW1lbnQuZG9jdW1lbnRNb2RlfHw4Pj1kb2N1bWVudC5kb2N1bWVudE1vZGUpP3RoaXMudXBkYXRlSHRtbEZpbHRlcigpOnRoaXMudXBkYXRlSHRtbFRyYW5zZm9ybSgpKSx0aGlzLnVwZGF0ZUJvdW5kaW5nQm94KCk7ZWxzZSBteFNoYXBlLnByb3RvdHlwZS5yZWRyYXcuYXBwbHkodGhpcyxhcmd1bWVudHMpLG14VXRpbHMuaXNOb2RlKHRoaXMudmFsdWUpfHx0aGlzLmRpYWxlY3Q9PW14Q29uc3RhbnRzLkRJQUxFQ1RfU1RSSUNUSFRNTD90aGlzLmxhc3RWYWx1ZT10aGlzLnZhbHVlOnRoaXMubGFzdFZhbHVlPW51bGx9OwpteFRleHQucHJvdG90eXBlLnJlc2V0U3R5bGVzPWZ1bmN0aW9uKCl7bXhTaGFwZS5wcm90b3R5cGUucmVzZXRTdHlsZXMuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuY29sb3I9ImJsYWNrIjt0aGlzLmFsaWduPW14Q29uc3RhbnRzLkFMSUdOX0NFTlRFUjt0aGlzLnZhbGlnbj1teENvbnN0YW50cy5BTElHTl9NSURETEU7dGhpcy5mYW1pbHk9bXhDb25zdGFudHMuREVGQVVMVF9GT05URkFNSUxZO3RoaXMuc2l6ZT1teENvbnN0YW50cy5ERUZBVUxUX0ZPTlRTSVpFO3RoaXMuZm9udFN0eWxlPW14Q29uc3RhbnRzLkRFRkFVTFRfRk9OVFNUWUxFO3RoaXMuc3BhY2luZ0xlZnQ9dGhpcy5zcGFjaW5nQm90dG9tPXRoaXMuc3BhY2luZ1JpZ2h0PXRoaXMuc3BhY2luZ1RvcD10aGlzLnNwYWNpbmc9Mjt0aGlzLmhvcml6b250YWw9ITA7ZGVsZXRlIHRoaXMuYmFja2dyb3VuZDtkZWxldGUgdGhpcy5ib3JkZXI7dGhpcy50ZXh0RGlyZWN0aW9uPW14Q29uc3RhbnRzLkRFRkFVTFRfVEVYVF9ESVJFQ1RJT047CmRlbGV0ZSB0aGlzLm1hcmdpbn07Cm14VGV4dC5wcm90b3R5cGUuYXBwbHk9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5zcGFjaW5nO214U2hhcGUucHJvdG90eXBlLmFwcGx5LmFwcGx5KHRoaXMsYXJndW1lbnRzKTtudWxsIT10aGlzLnN0eWxlJiYodGhpcy5mb250U3R5bGU9bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0ZPTlRTVFlMRSx0aGlzLmZvbnRTdHlsZSksdGhpcy5mYW1pbHk9bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0ZPTlRGQU1JTFksdGhpcy5mYW1pbHkpLHRoaXMuc2l6ZT1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfRk9OVFNJWkUsdGhpcy5zaXplKSx0aGlzLmNvbG9yPW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9GT05UQ09MT1IsdGhpcy5jb2xvciksdGhpcy5hbGlnbj1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfQUxJR04sCnRoaXMuYWxpZ24pLHRoaXMudmFsaWduPW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9WRVJUSUNBTF9BTElHTix0aGlzLnZhbGlnbiksdGhpcy5zcGFjaW5nPXBhcnNlSW50KG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9TUEFDSU5HLHRoaXMuc3BhY2luZykpLHRoaXMuc3BhY2luZ1RvcD1wYXJzZUludChteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfU1BBQ0lOR19UT1AsdGhpcy5zcGFjaW5nVG9wLWIpKSt0aGlzLnNwYWNpbmcsdGhpcy5zcGFjaW5nUmlnaHQ9cGFyc2VJbnQobXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX1NQQUNJTkdfUklHSFQsdGhpcy5zcGFjaW5nUmlnaHQtYikpK3RoaXMuc3BhY2luZyx0aGlzLnNwYWNpbmdCb3R0b209cGFyc2VJbnQobXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX1NQQUNJTkdfQk9UVE9NLAp0aGlzLnNwYWNpbmdCb3R0b20tYikpK3RoaXMuc3BhY2luZyx0aGlzLnNwYWNpbmdMZWZ0PXBhcnNlSW50KG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9TUEFDSU5HX0xFRlQsdGhpcy5zcGFjaW5nTGVmdC1iKSkrdGhpcy5zcGFjaW5nLHRoaXMuaG9yaXpvbnRhbD1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfSE9SSVpPTlRBTCx0aGlzLmhvcml6b250YWwpLHRoaXMuYmFja2dyb3VuZD1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfTEFCRUxfQkFDS0dST1VORENPTE9SLHRoaXMuYmFja2dyb3VuZCksdGhpcy5ib3JkZXI9bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0xBQkVMX0JPUkRFUkNPTE9SLHRoaXMuYm9yZGVyKSx0aGlzLnRleHREaXJlY3Rpb249bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX1RFWFRfRElSRUNUSU9OLApteENvbnN0YW50cy5ERUZBVUxUX1RFWFRfRElSRUNUSU9OKSx0aGlzLm9wYWNpdHk9bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX1RFWFRfT1BBQ0lUWSwxMDApLHRoaXMudXBkYXRlTWFyZ2luKCkpO3RoaXMuZmxpcEg9dGhpcy5mbGlwVj1udWxsfTtteFRleHQucHJvdG90eXBlLmdldEF1dG9EaXJlY3Rpb249ZnVuY3Rpb24oKXt2YXIgYT0vW0EtWmEtelx1MDVkMC1cdTA2NWZcdTA2NmEtXHUwNmVmXHUwNmZhLVx1MDdmZlx1ZmIxZC1cdWZkZmZcdWZlNzAtXHVmZWZjXS8uZXhlYyh0aGlzLnZhbHVlKTtyZXR1cm4gbnVsbCE9YSYmMDxhLmxlbmd0aCYmInoiPGFbMF0/bXhDb25zdGFudHMuVEVYVF9ESVJFQ1RJT05fUlRMOm14Q29uc3RhbnRzLlRFWFRfRElSRUNUSU9OX0xUUn07Cm14VGV4dC5wcm90b3R5cGUuZ2V0Q29udGVudE5vZGU9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm5vZGU7bnVsbCE9YSYmKGE9bnVsbD09YS5vd25lclNWR0VsZW1lbnQ/dGhpcy5ub2RlLmZpcnN0Q2hpbGQuZmlyc3RDaGlsZDphLmZpcnN0Q2hpbGQuZmlyc3RDaGlsZC5maXJzdENoaWxkLmZpcnN0Q2hpbGQuZmlyc3RDaGlsZCk7cmV0dXJuIGF9OwpteFRleHQucHJvdG90eXBlLnVwZGF0ZUJvdW5kaW5nQm94PWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5ub2RlO3RoaXMuYm91bmRpbmdCb3g9dGhpcy5ib3VuZHMuY2xvbmUoKTt2YXIgYj10aGlzLmdldFRleHRSb3RhdGlvbigpLGM9bnVsbCE9dGhpcy5zdHlsZT9teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfTEFCRUxfUE9TSVRJT04sbXhDb25zdGFudHMuQUxJR05fQ0VOVEVSKTpudWxsLGQ9bnVsbCE9dGhpcy5zdHlsZT9teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfVkVSVElDQUxfTEFCRUxfUE9TSVRJT04sbXhDb25zdGFudHMuQUxJR05fTUlERExFKTpudWxsO2lmKCEodGhpcy5pZ25vcmVTdHJpbmdTaXplfHxudWxsPT1hfHwiZmlsbCI9PXRoaXMub3ZlcmZsb3d8fHRoaXMuY2xpcHBlZCYmdGhpcy5pZ25vcmVDbGlwcGVkU3RyaW5nU2l6ZSYmYz09bXhDb25zdGFudHMuQUxJR05fQ0VOVEVSJiZkPT1teENvbnN0YW50cy5BTElHTl9NSURETEUpKXtkPQpjPW51bGw7aWYobnVsbCE9YS5vd25lclNWR0VsZW1lbnQpaWYobnVsbCE9YS5maXJzdENoaWxkJiZudWxsIT1hLmZpcnN0Q2hpbGQuZmlyc3RDaGlsZCYmImZvcmVpZ25PYmplY3QiPT1hLmZpcnN0Q2hpbGQuZmlyc3RDaGlsZC5ub2RlTmFtZSlhPWEuZmlyc3RDaGlsZC5maXJzdENoaWxkLmZpcnN0Q2hpbGQuZmlyc3RDaGlsZCxkPWEub2Zmc2V0SGVpZ2h0KnRoaXMuc2NhbGUsYz0id2lkdGgiPT10aGlzLm92ZXJmbG93P3RoaXMuYm91bmRpbmdCb3gud2lkdGg6YS5vZmZzZXRXaWR0aCp0aGlzLnNjYWxlO2Vsc2UgdHJ5e3ZhciBlPWEuZ2V0QkJveCgpOyJzdHJpbmciPT10eXBlb2YgdGhpcy52YWx1ZSYmMD09bXhVdGlscy50cmltKHRoaXMudmFsdWUpP3RoaXMuYm91bmRpbmdCb3g9bnVsbDp0aGlzLmJvdW5kaW5nQm94PTA9PWUud2lkdGgmJjA9PWUuaGVpZ2h0P251bGw6bmV3IG14UmVjdGFuZ2xlKGUueCxlLnksZS53aWR0aCxlLmhlaWdodCk7cmV0dXJufWNhdGNoKGYpe31lbHNle2M9Cm51bGwhPXRoaXMuc3RhdGU/dGhpcy5zdGF0ZS52aWV3LnRleHREaXY6bnVsbDtpZihudWxsPT10aGlzLm9mZnNldFdpZHRofHxudWxsPT10aGlzLm9mZnNldEhlaWdodCludWxsIT1jJiYodGhpcy51cGRhdGVGb250KGMpLHRoaXMudXBkYXRlU2l6ZShjLCExKSx0aGlzLnVwZGF0ZUlubmVySHRtbChjKSxhPWMpLGU9YSw4IT1kb2N1bWVudC5kb2N1bWVudE1vZGV8fG14Q2xpZW50LklTX0VNP251bGwhPWUuZmlyc3RDaGlsZCYmIkRJViI9PWUuZmlyc3RDaGlsZC5ub2RlTmFtZSYmKGU9ZS5maXJzdENoaWxkKTooZD1NYXRoLnJvdW5kKHRoaXMuYm91bmRzLndpZHRoL3RoaXMuc2NhbGUpLHRoaXMud3JhcCYmMDxkPyhhLnN0eWxlLndvcmRXcmFwPW14Q29uc3RhbnRzLldPUkRfV1JBUCxhLnN0eWxlLndoaXRlU3BhY2U9Im5vcm1hbCIsImJyZWFrLXdvcmQiIT1hLnN0eWxlLndvcmRXcmFwJiYoYT1lLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJkaXYiKSwwPGEubGVuZ3RoJiYoZT1hW2EubGVuZ3RoLQoxXSksYz1lLm9mZnNldFdpZHRoKzIsYT10aGlzLm5vZGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImRpdiIpLHRoaXMuY2xpcHBlZCYmKGM9TWF0aC5taW4oZCxjKSksMTxhLmxlbmd0aCYmKGFbYS5sZW5ndGgtMl0uc3R5bGUud2lkdGg9YysicHgiKSkpOmEuc3R5bGUud2hpdGVTcGFjZT0ibm93cmFwIiksdGhpcy5vZmZzZXRXaWR0aD1lLm9mZnNldFdpZHRoK3RoaXMudGV4dFdpZHRoUGFkZGluZyx0aGlzLm9mZnNldEhlaWdodD1lLm9mZnNldEhlaWdodDtjPXRoaXMub2Zmc2V0V2lkdGgqdGhpcy5zY2FsZTtkPXRoaXMub2Zmc2V0SGVpZ2h0KnRoaXMuc2NhbGV9bnVsbCE9YyYmbnVsbCE9ZCYmKHRoaXMuYm91bmRpbmdCb3g9bmV3IG14UmVjdGFuZ2xlKHRoaXMuYm91bmRzLngsdGhpcy5ib3VuZHMueSxjLGQpKX1udWxsIT10aGlzLmJvdW5kaW5nQm94JiYoMCE9Yj8oYj1teFV0aWxzLmdldEJvdW5kaW5nQm94KG5ldyBteFJlY3RhbmdsZSh0aGlzLm1hcmdpbi54KnRoaXMuYm91bmRpbmdCb3gud2lkdGgsCnRoaXMubWFyZ2luLnkqdGhpcy5ib3VuZGluZ0JveC5oZWlnaHQsdGhpcy5ib3VuZGluZ0JveC53aWR0aCx0aGlzLmJvdW5kaW5nQm94LmhlaWdodCksYixuZXcgbXhQb2ludCgwLDApKSx0aGlzLnVucm90YXRlZEJvdW5kaW5nQm94PW14UmVjdGFuZ2xlLmZyb21SZWN0YW5nbGUodGhpcy5ib3VuZGluZ0JveCksdGhpcy51bnJvdGF0ZWRCb3VuZGluZ0JveC54Kz10aGlzLm1hcmdpbi54KnRoaXMudW5yb3RhdGVkQm91bmRpbmdCb3gud2lkdGgsdGhpcy51bnJvdGF0ZWRCb3VuZGluZ0JveC55Kz10aGlzLm1hcmdpbi55KnRoaXMudW5yb3RhdGVkQm91bmRpbmdCb3guaGVpZ2h0LHRoaXMuYm91bmRpbmdCb3gueCs9Yi54LHRoaXMuYm91bmRpbmdCb3gueSs9Yi55LHRoaXMuYm91bmRpbmdCb3gud2lkdGg9Yi53aWR0aCx0aGlzLmJvdW5kaW5nQm94LmhlaWdodD1iLmhlaWdodCk6KHRoaXMuYm91bmRpbmdCb3gueCs9dGhpcy5tYXJnaW4ueCp0aGlzLmJvdW5kaW5nQm94LndpZHRoLHRoaXMuYm91bmRpbmdCb3gueSs9CnRoaXMubWFyZ2luLnkqdGhpcy5ib3VuZGluZ0JveC5oZWlnaHQsdGhpcy51bnJvdGF0ZWRCb3VuZGluZ0JveD1udWxsKSl9O214VGV4dC5wcm90b3R5cGUuZ2V0U2hhcGVSb3RhdGlvbj1mdW5jdGlvbigpe3JldHVybiAwfTtteFRleHQucHJvdG90eXBlLmdldFRleHRSb3RhdGlvbj1mdW5jdGlvbigpe3JldHVybiBudWxsIT10aGlzLnN0YXRlJiZudWxsIT10aGlzLnN0YXRlLnNoYXBlP3RoaXMuc3RhdGUuc2hhcGUuZ2V0VGV4dFJvdGF0aW9uKCk6MH07bXhUZXh0LnByb3RvdHlwZS5pc1BhaW50Qm91bmRzSW52ZXJ0ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5ob3Jpem9udGFsJiZudWxsIT10aGlzLnN0YXRlJiZ0aGlzLnN0YXRlLnZpZXcuZ3JhcGgubW9kZWwuaXNWZXJ0ZXgodGhpcy5zdGF0ZS5jZWxsKX07Cm14VGV4dC5wcm90b3R5cGUuY29uZmlndXJlQ2FudmFzPWZ1bmN0aW9uKGEsYixjLGQsZSl7bXhTaGFwZS5wcm90b3R5cGUuY29uZmlndXJlQ2FudmFzLmFwcGx5KHRoaXMsYXJndW1lbnRzKTthLnNldEZvbnRDb2xvcih0aGlzLmNvbG9yKTthLnNldEZvbnRCYWNrZ3JvdW5kQ29sb3IodGhpcy5iYWNrZ3JvdW5kKTthLnNldEZvbnRCb3JkZXJDb2xvcih0aGlzLmJvcmRlcik7YS5zZXRGb250RmFtaWx5KHRoaXMuZmFtaWx5KTthLnNldEZvbnRTaXplKHRoaXMuc2l6ZSk7YS5zZXRGb250U3R5bGUodGhpcy5mb250U3R5bGUpfTsKbXhUZXh0LnByb3RvdHlwZS51cGRhdGVWbWxDb250YWluZXI9ZnVuY3Rpb24oKXt0aGlzLm5vZGUuc3R5bGUubGVmdD1NYXRoLnJvdW5kKHRoaXMuYm91bmRzLngpKyJweCI7dGhpcy5ub2RlLnN0eWxlLnRvcD1NYXRoLnJvdW5kKHRoaXMuYm91bmRzLnkpKyJweCI7dGhpcy5ub2RlLnN0eWxlLndpZHRoPSIxcHgiO3RoaXMubm9kZS5zdHlsZS5oZWlnaHQ9IjFweCI7dGhpcy5ub2RlLnN0eWxlLm92ZXJmbG93PSJ2aXNpYmxlIn07bXhUZXh0LnByb3RvdHlwZS5nZXRIdG1sVmFsdWU9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnZhbHVlO3RoaXMuZGlhbGVjdCE9bXhDb25zdGFudHMuRElBTEVDVF9TVFJJQ1RIVE1MJiYoYT1teFV0aWxzLmh0bWxFbnRpdGllcyhhLCExKSk7YT1teFV0aWxzLnJlcGxhY2VUcmFpbGluZ05ld2xpbmVzKGEsIjxkaXY+PGJyPjwvZGl2PiIpO3JldHVybiB0aGlzLnJlcGxhY2VMaW5lZmVlZHM/YS5yZXBsYWNlKC9cbi9nLCI8YnIvPiIpOmF9OwpteFRleHQucHJvdG90eXBlLmdldFRleHRDc3M9ZnVuY3Rpb24oKXt2YXIgYT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6ICIrdGhpcy5zaXplKyJweDsgZm9udC1mYW1pbHk6ICIrdGhpcy5mYW1pbHkrIjsgY29sb3I6ICIrdGhpcy5jb2xvcisiOyBsaW5lLWhlaWdodDogIisobXhDb25zdGFudHMuQUJTT0xVVEVfTElORV9IRUlHSFQ/dGhpcy5zaXplKm14Q29uc3RhbnRzLkxJTkVfSEVJR0hUKyJweCI6bXhDb25zdGFudHMuTElORV9IRUlHSFQpKyI7IHBvaW50ZXItZXZlbnRzOiAiKyh0aGlzLnBvaW50ZXJFdmVudHM/ImFsbCI6Im5vbmUiKSsiOyAiOyh0aGlzLmZvbnRTdHlsZSZteENvbnN0YW50cy5GT05UX0JPTEQpPT1teENvbnN0YW50cy5GT05UX0JPTEQmJihhKz0iZm9udC13ZWlnaHQ6IGJvbGQ7ICIpOyh0aGlzLmZvbnRTdHlsZSZteENvbnN0YW50cy5GT05UX0lUQUxJQyk9PW14Q29uc3RhbnRzLkZPTlRfSVRBTElDJiYoYSs9ImZvbnQtc3R5bGU6IGl0YWxpYzsgIik7CnZhciBiPVtdOyh0aGlzLmZvbnRTdHlsZSZteENvbnN0YW50cy5GT05UX1VOREVSTElORSk9PW14Q29uc3RhbnRzLkZPTlRfVU5ERVJMSU5FJiZiLnB1c2goInVuZGVybGluZSIpOyh0aGlzLmZvbnRTdHlsZSZteENvbnN0YW50cy5GT05UX1NUUklLRVRIUk9VR0gpPT1teENvbnN0YW50cy5GT05UX1NUUklLRVRIUk9VR0gmJmIucHVzaCgibGluZS10aHJvdWdoIik7MDxiLmxlbmd0aCYmKGErPSJ0ZXh0LWRlY29yYXRpb246ICIrYi5qb2luKCIgIikrIjsgIik7cmV0dXJuIGF9OwpteFRleHQucHJvdG90eXBlLnJlZHJhd0h0bWxTaGFwZT1mdW5jdGlvbigpe2lmKG14Q2xpZW50LklTX1NWRyl0aGlzLnJlZHJhd0h0bWxTaGFwZVdpdGhDc3MzKCk7ZWxzZXt2YXIgYT10aGlzLm5vZGUuc3R5bGU7YS53aGl0ZVNwYWNlPSJub3JtYWwiO2Eub3ZlcmZsb3c9IiI7YS53aWR0aD0iIjthLmhlaWdodD0iIjt0aGlzLnVwZGF0ZVZhbHVlKCk7dGhpcy51cGRhdGVGb250KHRoaXMubm9kZSk7dGhpcy51cGRhdGVTaXplKHRoaXMubm9kZSxudWxsPT10aGlzLnN0YXRlfHxudWxsPT10aGlzLnN0YXRlLnZpZXcudGV4dERpdik7dGhpcy5vZmZzZXRIZWlnaHQ9dGhpcy5vZmZzZXRXaWR0aD1udWxsO214Q2xpZW50LklTX0lFJiYobnVsbD09ZG9jdW1lbnQuZG9jdW1lbnRNb2RlfHw4Pj1kb2N1bWVudC5kb2N1bWVudE1vZGUpP3RoaXMudXBkYXRlSHRtbEZpbHRlcigpOnRoaXMudXBkYXRlSHRtbFRyYW5zZm9ybSgpfX07Cm14VGV4dC5wcm90b3R5cGUucmVkcmF3SHRtbFNoYXBlV2l0aENzczM9ZnVuY3Rpb24oKXt2YXIgYT1NYXRoLm1heCgwLE1hdGgucm91bmQodGhpcy5ib3VuZHMud2lkdGgvdGhpcy5zY2FsZSkpLGI9TWF0aC5tYXgoMCxNYXRoLnJvdW5kKHRoaXMuYm91bmRzLmhlaWdodC90aGlzLnNjYWxlKSksYz0icG9zaXRpb246IGFic29sdXRlOyBsZWZ0OiAiK01hdGgucm91bmQodGhpcy5ib3VuZHMueCkrInB4OyB0b3A6ICIrTWF0aC5yb3VuZCh0aGlzLmJvdW5kcy55KSsicHg7IHBvaW50ZXItZXZlbnRzOiBub25lOyAiLGQ9dGhpcy5nZXRUZXh0Q3NzKCk7bXhTdmdDYW52YXMyRC5jcmVhdGVDc3MoYSsyLGIsdGhpcy5hbGlnbix0aGlzLnZhbGlnbix0aGlzLndyYXAsdGhpcy5vdmVyZmxvdyx0aGlzLmNsaXBwZWQsbnVsbCE9dGhpcy5iYWNrZ3JvdW5kP214VXRpbHMuaHRtbEVudGl0aWVzKHRoaXMuYmFja2dyb3VuZCk6bnVsbCxudWxsIT10aGlzLmJvcmRlcj9teFV0aWxzLmh0bWxFbnRpdGllcyh0aGlzLmJvcmRlcik6Cm51bGwsYyxkLHRoaXMuc2NhbGUsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSxiLGMsZCxsLG0pe2E9dGhpcy5nZXRUZXh0Um90YXRpb24oKTthPSgxIT10aGlzLnNjYWxlPyJzY2FsZSgiK3RoaXMuc2NhbGUrIikgIjoiIikrKDAhPWE/InJvdGF0ZSgiK2ErImRlZykgIjoiIikrKDAhPXRoaXMubWFyZ2luLnh8fDAhPXRoaXMubWFyZ2luLnk/InRyYW5zbGF0ZSgiKzEwMCp0aGlzLm1hcmdpbi54KyIlLCIrMTAwKnRoaXMubWFyZ2luLnkrIiUpIjoiIik7IiIhPWEmJihhPSJ0cmFuc2Zvcm0tb3JpZ2luOiAwIDA7IHRyYW5zZm9ybTogIithKyI7ICIpOyIiPT1tPyhjKz1kLGQ9ImRpc3BsYXk6aW5saW5lLWJsb2NrOyBtaW4td2lkdGg6IDEwMCU7ICIrYSk6ZCs9YTsxMDA+dGhpcy5vcGFjaXR5JiYobCs9Im9wYWNpdHk6ICIrdGhpcy5vcGFjaXR5LzEwMCsiOyAiKTt0aGlzLm5vZGUuc2V0QXR0cmlidXRlKCJzdHlsZSIsYyk7Yz1teFV0aWxzLmlzTm9kZSh0aGlzLnZhbHVlKT90aGlzLnZhbHVlLm91dGVySFRNTDoKdGhpcy5nZXRIdG1sVmFsdWUoKTtudWxsPT10aGlzLm5vZGUuZmlyc3RDaGlsZCYmKHRoaXMubm9kZS5pbm5lckhUTUw9IjxkaXY+PGRpdj4iK2MrIjwvZGl2PjwvZGl2PiIpO3RoaXMubm9kZS5maXJzdENoaWxkLmZpcnN0Q2hpbGQuc2V0QXR0cmlidXRlKCJzdHlsZSIsbCk7dGhpcy5ub2RlLmZpcnN0Q2hpbGQuc2V0QXR0cmlidXRlKCJzdHlsZSIsZCl9KSl9OwpteFRleHQucHJvdG90eXBlLnVwZGF0ZUh0bWxUcmFuc2Zvcm09ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldFRleHRSb3RhdGlvbigpLGI9dGhpcy5ub2RlLnN0eWxlLGM9dGhpcy5tYXJnaW4ueCxkPXRoaXMubWFyZ2luLnk7MCE9YT8obXhVdGlscy5zZXRQcmVmaXhlZFN0eWxlKGIsInRyYW5zZm9ybU9yaWdpbiIsMTAwKi1jKyIlICIrMTAwKi1kKyIlIiksbXhVdGlscy5zZXRQcmVmaXhlZFN0eWxlKGIsInRyYW5zZm9ybSIsInRyYW5zbGF0ZSgiKzEwMCpjKyIlLCIrMTAwKmQrIiUpIHNjYWxlKCIrdGhpcy5zY2FsZSsiKSByb3RhdGUoIithKyJkZWcpIikpOihteFV0aWxzLnNldFByZWZpeGVkU3R5bGUoYiwidHJhbnNmb3JtT3JpZ2luIiwiMCUgMCUiKSxteFV0aWxzLnNldFByZWZpeGVkU3R5bGUoYiwidHJhbnNmb3JtIiwic2NhbGUoIit0aGlzLnNjYWxlKyIpIHRyYW5zbGF0ZSgiKzEwMCpjKyIlLCIrMTAwKmQrIiUpIikpO2IubGVmdD1NYXRoLnJvdW5kKHRoaXMuYm91bmRzLngtCk1hdGguY2VpbChjKigiZmlsbCIhPXRoaXMub3ZlcmZsb3cmJiJ3aWR0aCIhPXRoaXMub3ZlcmZsb3c/MzoxKSkpKyJweCI7Yi50b3A9TWF0aC5yb3VuZCh0aGlzLmJvdW5kcy55LWQqKCJmaWxsIiE9dGhpcy5vdmVyZmxvdz8zOjEpKSsicHgiO2Iub3BhY2l0eT0xMDA+dGhpcy5vcGFjaXR5P3RoaXMub3BhY2l0eS8xMDA6IiJ9OwpteFRleHQucHJvdG90eXBlLnVwZGF0ZUlubmVySHRtbD1mdW5jdGlvbihhKXtpZihteFV0aWxzLmlzTm9kZSh0aGlzLnZhbHVlKSlhLmlubmVySFRNTD10aGlzLnZhbHVlLm91dGVySFRNTDtlbHNle3ZhciBiPXRoaXMudmFsdWU7dGhpcy5kaWFsZWN0IT1teENvbnN0YW50cy5ESUFMRUNUX1NUUklDVEhUTUwmJihiPW14VXRpbHMuaHRtbEVudGl0aWVzKGIsITEpKTtiPW14VXRpbHMucmVwbGFjZVRyYWlsaW5nTmV3bGluZXMoYiwiPGRpdj4mbmJzcDs8L2Rpdj4iKTtiPXRoaXMucmVwbGFjZUxpbmVmZWVkcz9iLnJlcGxhY2UoL1xuL2csIjxici8+Iik6YjthLmlubmVySFRNTD0nPGRpdiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7X2Rpc3BsYXk6aW5saW5lOyI+JytiKyI8L2Rpdj4ifX07Cm14VGV4dC5wcm90b3R5cGUudXBkYXRlSHRtbEZpbHRlcj1mdW5jdGlvbigpe3ZhciBhPXRoaXMubm9kZS5zdHlsZSxiPXRoaXMubWFyZ2luLngsYz10aGlzLm1hcmdpbi55LGQ9dGhpcy5zY2FsZTtteFV0aWxzLnNldE9wYWNpdHkodGhpcy5ub2RlLHRoaXMub3BhY2l0eSk7dmFyIGUsZj0wLGc9bnVsbCE9dGhpcy5zdGF0ZT90aGlzLnN0YXRlLnZpZXcudGV4dERpdjpudWxsLGs9dGhpcy5ub2RlO2lmKG51bGwhPWcpe2cuc3R5bGUub3ZlcmZsb3c9IiI7Zy5zdHlsZS5oZWlnaHQ9IiI7Zy5zdHlsZS53aWR0aD0iIjt0aGlzLnVwZGF0ZUZvbnQoZyk7dGhpcy51cGRhdGVTaXplKGcsITEpO3RoaXMudXBkYXRlSW5uZXJIdG1sKGcpO3ZhciBsPU1hdGgucm91bmQodGhpcy5ib3VuZHMud2lkdGgvdGhpcy5zY2FsZSk7dGhpcy53cmFwJiYwPGw/KGcuc3R5bGUud2hpdGVTcGFjZT0ibm9ybWFsIixnLnN0eWxlLndvcmRXcmFwPW14Q29uc3RhbnRzLldPUkRfV1JBUCxlPWwsdGhpcy5jbGlwcGVkJiYKKGU9TWF0aC5taW4oZSx0aGlzLmJvdW5kcy53aWR0aCkpLGcuc3R5bGUud2lkdGg9ZSsicHgiKTpnLnN0eWxlLndoaXRlU3BhY2U9Im5vd3JhcCI7az1nO251bGwhPWsuZmlyc3RDaGlsZCYmIkRJViI9PWsuZmlyc3RDaGlsZC5ub2RlTmFtZSYmKGs9ay5maXJzdENoaWxkLHRoaXMud3JhcCYmImJyZWFrLXdvcmQiPT1nLnN0eWxlLndvcmRXcmFwJiYoay5zdHlsZS53aWR0aD0iMTAwJSIpKTshdGhpcy5jbGlwcGVkJiZ0aGlzLndyYXAmJjA8bCYmKGU9ay5vZmZzZXRXaWR0aCt0aGlzLnRleHRXaWR0aFBhZGRpbmcsZy5zdHlsZS53aWR0aD1lKyJweCIpO2Y9ay5vZmZzZXRIZWlnaHQrMjtteENsaWVudC5JU19RVUlSS1MmJm51bGwhPXRoaXMuYm9yZGVyJiZ0aGlzLmJvcmRlciE9bXhDb25zdGFudHMuTk9ORSYmKGYrPTMpfWVsc2UgbnVsbCE9ay5maXJzdENoaWxkJiYiRElWIj09ay5maXJzdENoaWxkLm5vZGVOYW1lJiYoaz1rLmZpcnN0Q2hpbGQsZj1rLm9mZnNldEhlaWdodCk7ZT1rLm9mZnNldFdpZHRoKwp0aGlzLnRleHRXaWR0aFBhZGRpbmc7dGhpcy5jbGlwcGVkJiYoZj1NYXRoLm1pbihmLHRoaXMuYm91bmRzLmhlaWdodCkpO2w9dGhpcy5ib3VuZHMud2lkdGgvZDtnPXRoaXMuYm91bmRzLmhlaWdodC9kOyJmaWxsIj09dGhpcy5vdmVyZmxvdz8oZj1nLGU9bCk6IndpZHRoIj09dGhpcy5vdmVyZmxvdyYmKGY9ay5zY3JvbGxIZWlnaHQsZT1sKTt0aGlzLm9mZnNldFdpZHRoPWU7dGhpcy5vZmZzZXRIZWlnaHQ9ZjtteENsaWVudC5JU19RVUlSS1MmJih0aGlzLmNsaXBwZWR8fCJ3aWR0aCI9PXRoaXMub3ZlcmZsb3cmJjA8Zyk/KGc9TWF0aC5taW4oZyxmKSxhLmhlaWdodD1NYXRoLnJvdW5kKGcpKyJweCIpOmc9ZjsiZmlsbCIhPXRoaXMub3ZlcmZsb3cmJiJ3aWR0aCIhPXRoaXMub3ZlcmZsb3cmJih0aGlzLmNsaXBwZWQmJihlPU1hdGgubWluKGwsZSkpLGw9ZSxteENsaWVudC5JU19RVUlSS1MmJnRoaXMuY2xpcHBlZHx8dGhpcy53cmFwKSYmKGEud2lkdGg9TWF0aC5yb3VuZChsKSsKInB4Iik7dmFyIGc9ZypkLGw9bCpkLG09dGhpcy5nZXRUZXh0Um90YXRpb24oKSooTWF0aC5QSS8xODApO2U9cGFyc2VGbG9hdChwYXJzZUZsb2F0KE1hdGguY29zKG0pKS50b0ZpeGVkKDgpKTtmPXBhcnNlRmxvYXQocGFyc2VGbG9hdChNYXRoLnNpbigtbSkpLnRvRml4ZWQoOCkpO20lPTIqTWF0aC5QSTswPm0mJihtKz0yKk1hdGguUEkpO20lPU1hdGguUEk7bT5NYXRoLlBJLzImJihtPU1hdGguUEktbSk7dmFyIGs9TWF0aC5jb3MobSksbj1NYXRoLnNpbigtbSksYj1sKi0oYisuNSkscD1nKi0oYysuNSk7MCE9bSYmKGM9InByb2dpZDpEWEltYWdlVHJhbnNmb3JtLk1pY3Jvc29mdC5NYXRyaXgoTTExPSIrZSsiLCBNMTI9IitmKyIsIE0yMT0iKy1mKyIsIE0yMj0iK2UrIiwgc2l6aW5nTWV0aG9kPSdhdXRvIGV4cGFuZCcpIixhLmZpbHRlcj1udWxsIT1hLmZpbHRlciYmMDxhLmZpbHRlci5sZW5ndGg/YS5maWx0ZXIrKCIgIitjKTpjKTtjPTA7ImZpbGwiIT10aGlzLm92ZXJmbG93JiYKbXhDbGllbnQuSVNfUVVJUktTJiYoYz10aGlzLnZhbGlnbj09bXhDb25zdGFudHMuQUxJR05fVE9QP2MtMTp0aGlzLnZhbGlnbj09bXhDb25zdGFudHMuQUxJR05fQk9UVE9NP2MrMjpjKzEpO2Euem9vbT1kO2EubGVmdD1NYXRoLnJvdW5kKHRoaXMuYm91bmRzLngrKChsLWwqaytnKm4pLzItZSpiLWYqcCktbC8yKSsicHgiO2EudG9wPU1hdGgucm91bmQodGhpcy5ib3VuZHMueSsoKGctZyprK2wqbikvMitmKmItZSpwKS1nLzIrYykrInB4In07Cm14VGV4dC5wcm90b3R5cGUudXBkYXRlVmFsdWU9ZnVuY3Rpb24oKXtpZihteFV0aWxzLmlzTm9kZSh0aGlzLnZhbHVlKSl0aGlzLm5vZGUuaW5uZXJIVE1MPSIiLHRoaXMubm9kZS5hcHBlbmRDaGlsZCh0aGlzLnZhbHVlKTtlbHNle3ZhciBhPXRoaXMudmFsdWU7dGhpcy5kaWFsZWN0IT1teENvbnN0YW50cy5ESUFMRUNUX1NUUklDVEhUTUwmJihhPW14VXRpbHMuaHRtbEVudGl0aWVzKGEsITEpKTt2YXIgYT1teFV0aWxzLnJlcGxhY2VUcmFpbGluZ05ld2xpbmVzKGEsIjxkaXY+PGJyPjwvZGl2PiIpLGE9dGhpcy5yZXBsYWNlTGluZWZlZWRzP2EucmVwbGFjZSgvXG4vZywiPGJyLz4iKTphLGI9bnVsbCE9dGhpcy5iYWNrZ3JvdW5kJiZ0aGlzLmJhY2tncm91bmQhPW14Q29uc3RhbnRzLk5PTkU/dGhpcy5iYWNrZ3JvdW5kOm51bGwsYz1udWxsIT10aGlzLmJvcmRlciYmdGhpcy5ib3JkZXIhPW14Q29uc3RhbnRzLk5PTkU/dGhpcy5ib3JkZXI6bnVsbDtpZigiZmlsbCI9PXRoaXMub3ZlcmZsb3d8fAoid2lkdGgiPT10aGlzLm92ZXJmbG93KW51bGwhPWImJih0aGlzLm5vZGUuc3R5bGUuYmFja2dyb3VuZENvbG9yPWIpLG51bGwhPWMmJih0aGlzLm5vZGUuc3R5bGUuYm9yZGVyPSIxcHggc29saWQgIitjKTtlbHNle3ZhciBkPSIiO251bGwhPWImJihkKz0iYmFja2dyb3VuZC1jb2xvcjoiK214VXRpbHMuaHRtbEVudGl0aWVzKGIpKyI7Iik7bnVsbCE9YyYmKGQrPSJib3JkZXI6MXB4IHNvbGlkICIrbXhVdGlscy5odG1sRW50aXRpZXMoYykrIjsiKTthPSc8ZGl2IHN0eWxlPSJ6b29tOjE7JytkKyJkaXNwbGF5OmlubGluZS1ibG9jaztfZGlzcGxheTppbmxpbmU7dGV4dC1kZWNvcmF0aW9uOmluaGVyaXQ7cGFkZGluZy1ib3R0b206MXB4O3BhZGRpbmctcmlnaHQ6MXB4O2xpbmUtaGVpZ2h0OiIrKG14Q29uc3RhbnRzLkFCU09MVVRFX0xJTkVfSEVJR0hUP3RoaXMuc2l6ZSpteENvbnN0YW50cy5MSU5FX0hFSUdIVCsicHgiOm14Q29uc3RhbnRzLkxJTkVfSEVJR0hUKSsnIj4nK2ErIjwvZGl2PiJ9dGhpcy5ub2RlLmlubmVySFRNTD0KYTthPXRoaXMubm9kZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiZGl2Iik7MDxhLmxlbmd0aCYmKGI9dGhpcy50ZXh0RGlyZWN0aW9uLGI9PW14Q29uc3RhbnRzLlRFWFRfRElSRUNUSU9OX0FVVE8mJnRoaXMuZGlhbGVjdCE9bXhDb25zdGFudHMuRElBTEVDVF9TVFJJQ1RIVE1MJiYoYj10aGlzLmdldEF1dG9EaXJlY3Rpb24oKSksYj09bXhDb25zdGFudHMuVEVYVF9ESVJFQ1RJT05fTFRSfHxiPT1teENvbnN0YW50cy5URVhUX0RJUkVDVElPTl9SVEw/YVthLmxlbmd0aC0xXS5zZXRBdHRyaWJ1dGUoImRpciIsYik6YVthLmxlbmd0aC0xXS5yZW1vdmVBdHRyaWJ1dGUoImRpciIpKX19OwpteFRleHQucHJvdG90eXBlLnVwZGF0ZUZvbnQ9ZnVuY3Rpb24oYSl7YT1hLnN0eWxlO2EubGluZUhlaWdodD1teENvbnN0YW50cy5BQlNPTFVURV9MSU5FX0hFSUdIVD90aGlzLnNpemUqbXhDb25zdGFudHMuTElORV9IRUlHSFQrInB4IjpteENvbnN0YW50cy5MSU5FX0hFSUdIVDthLmZvbnRTaXplPXRoaXMuc2l6ZSsicHgiO2EuZm9udEZhbWlseT10aGlzLmZhbWlseTthLnZlcnRpY2FsQWxpZ249InRvcCI7YS5jb2xvcj10aGlzLmNvbG9yO2EuZm9udFdlaWdodD0odGhpcy5mb250U3R5bGUmbXhDb25zdGFudHMuRk9OVF9CT0xEKT09bXhDb25zdGFudHMuRk9OVF9CT0xEPyJib2xkIjoiIjthLmZvbnRTdHlsZT0odGhpcy5mb250U3R5bGUmbXhDb25zdGFudHMuRk9OVF9JVEFMSUMpPT1teENvbnN0YW50cy5GT05UX0lUQUxJQz8iaXRhbGljIjoiIjt2YXIgYj1bXTsodGhpcy5mb250U3R5bGUmbXhDb25zdGFudHMuRk9OVF9VTkRFUkxJTkUpPT1teENvbnN0YW50cy5GT05UX1VOREVSTElORSYmCmIucHVzaCgidW5kZXJsaW5lIik7KHRoaXMuZm9udFN0eWxlJm14Q29uc3RhbnRzLkZPTlRfU1RSSUtFVEhST1VHSCk9PW14Q29uc3RhbnRzLkZPTlRfU1RSSUtFVEhST1VHSCYmYi5wdXNoKCJsaW5lLXRocm91Z2giKTthLnRleHREZWNvcmF0aW9uPWIuam9pbigiICIpO2EudGV4dEFsaWduPXRoaXMuYWxpZ249PW14Q29uc3RhbnRzLkFMSUdOX0NFTlRFUj8iY2VudGVyIjp0aGlzLmFsaWduPT1teENvbnN0YW50cy5BTElHTl9SSUdIVD8icmlnaHQiOiJsZWZ0In07Cm14VGV4dC5wcm90b3R5cGUudXBkYXRlU2l6ZT1mdW5jdGlvbihhLGIpe3ZhciBjPU1hdGgubWF4KDAsTWF0aC5yb3VuZCh0aGlzLmJvdW5kcy53aWR0aC90aGlzLnNjYWxlKSksZD1NYXRoLm1heCgwLE1hdGgucm91bmQodGhpcy5ib3VuZHMuaGVpZ2h0L3RoaXMuc2NhbGUpKSxlPWEuc3R5bGU7dGhpcy5jbGlwcGVkPyhlLm92ZXJmbG93PSJoaWRkZW4iLG14Q2xpZW50LklTX1FVSVJLUz9lLndpZHRoPWMrInB4IjooZS5tYXhIZWlnaHQ9ZCsicHgiLGUubWF4V2lkdGg9YysicHgiKSk6ImZpbGwiPT10aGlzLm92ZXJmbG93PyhlLndpZHRoPWMrMSsicHgiLGUuaGVpZ2h0PWQrMSsicHgiLGUub3ZlcmZsb3c9ImhpZGRlbiIpOiJ3aWR0aCI9PXRoaXMub3ZlcmZsb3cmJihlLndpZHRoPWMrMSsicHgiLGUubWF4SGVpZ2h0PWQrMSsicHgiLGUub3ZlcmZsb3c9ImhpZGRlbiIpO2lmKHRoaXMud3JhcCYmMDxjKXtpZihlLndvcmRXcmFwPW14Q29uc3RhbnRzLldPUkRfV1JBUCxlLndoaXRlU3BhY2U9CiJub3JtYWwiLGUud2lkdGg9YysicHgiLGImJiJmaWxsIiE9dGhpcy5vdmVyZmxvdyYmIndpZHRoIiE9dGhpcy5vdmVyZmxvdyl7ZD1hO251bGwhPWQuZmlyc3RDaGlsZCYmIkRJViI9PWQuZmlyc3RDaGlsZC5ub2RlTmFtZSYmKGQ9ZC5maXJzdENoaWxkLCJicmVhay13b3JkIj09YS5zdHlsZS53b3JkV3JhcCYmKGQuc3R5bGUud2lkdGg9IjEwMCUiKSk7dmFyIGY9ZC5vZmZzZXRXaWR0aDtpZigwPT1mKXt2YXIgZz1hLnBhcmVudE5vZGU7YS5zdHlsZS52aXNpYmlsaXR5PSJoaWRkZW4iO2RvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYSk7Zj1kLm9mZnNldFdpZHRoO2Euc3R5bGUudmlzaWJpbGl0eT0iIjtnLmFwcGVuZENoaWxkKGEpfWYrPTM7dGhpcy5jbGlwcGVkJiYoZj1NYXRoLm1pbihmLGMpKTtlLndpZHRoPWYrInB4In19ZWxzZSBlLndoaXRlU3BhY2U9Im5vd3JhcCJ9OwpteFRleHQucHJvdG90eXBlLnVwZGF0ZU1hcmdpbj1mdW5jdGlvbigpe3RoaXMubWFyZ2luPW14VXRpbHMuZ2V0QWxpZ25tZW50QXNQb2ludCh0aGlzLmFsaWduLHRoaXMudmFsaWduKX07Cm14VGV4dC5wcm90b3R5cGUuZ2V0U3BhY2luZz1mdW5jdGlvbigpe3JldHVybiBuZXcgbXhQb2ludCh0aGlzLmFsaWduPT1teENvbnN0YW50cy5BTElHTl9DRU5URVI/KHRoaXMuc3BhY2luZ0xlZnQtdGhpcy5zcGFjaW5nUmlnaHQpLzI6dGhpcy5hbGlnbj09bXhDb25zdGFudHMuQUxJR05fUklHSFQ/LXRoaXMuc3BhY2luZ1JpZ2h0LXRoaXMuYmFzZVNwYWNpbmdSaWdodDp0aGlzLnNwYWNpbmdMZWZ0K3RoaXMuYmFzZVNwYWNpbmdMZWZ0LHRoaXMudmFsaWduPT1teENvbnN0YW50cy5BTElHTl9NSURETEU/KHRoaXMuc3BhY2luZ1RvcC10aGlzLnNwYWNpbmdCb3R0b20pLzI6dGhpcy52YWxpZ249PW14Q29uc3RhbnRzLkFMSUdOX0JPVFRPTT8tdGhpcy5zcGFjaW5nQm90dG9tLXRoaXMuYmFzZVNwYWNpbmdCb3R0b206dGhpcy5zcGFjaW5nVG9wK3RoaXMuYmFzZVNwYWNpbmdUb3ApfTtmdW5jdGlvbiBteFRyaWFuZ2xlKCl7bXhBY3Rvci5jYWxsKHRoaXMpfQpteFV0aWxzLmV4dGVuZChteFRyaWFuZ2xlLG14QWN0b3IpO214VHJpYW5nbGUucHJvdG90eXBlLmlzUm91bmRhYmxlPWZ1bmN0aW9uKCl7cmV0dXJuITB9O214VHJpYW5nbGUucHJvdG90eXBlLnJlZHJhd1BhdGg9ZnVuY3Rpb24oYSxiLGMsZCxlKXtiPW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9BUkNTSVpFLG14Q29uc3RhbnRzLkxJTkVfQVJDU0laRSkvMjt0aGlzLmFkZFBvaW50cyhhLFtuZXcgbXhQb2ludCgwLDApLG5ldyBteFBvaW50KGQsLjUqZSksbmV3IG14UG9pbnQoMCxlKV0sdGhpcy5pc1JvdW5kZWQsYiwhMCl9O2Z1bmN0aW9uIG14SGV4YWdvbigpe214QWN0b3IuY2FsbCh0aGlzKX1teFV0aWxzLmV4dGVuZChteEhleGFnb24sbXhBY3Rvcik7Cm14SGV4YWdvbi5wcm90b3R5cGUucmVkcmF3UGF0aD1mdW5jdGlvbihhLGIsYyxkLGUpe2I9bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0FSQ1NJWkUsbXhDb25zdGFudHMuTElORV9BUkNTSVpFKS8yO3RoaXMuYWRkUG9pbnRzKGEsW25ldyBteFBvaW50KC4yNSpkLDApLG5ldyBteFBvaW50KC43NSpkLDApLG5ldyBteFBvaW50KGQsLjUqZSksbmV3IG14UG9pbnQoLjc1KmQsZSksbmV3IG14UG9pbnQoLjI1KmQsZSksbmV3IG14UG9pbnQoMCwuNSplKV0sdGhpcy5pc1JvdW5kZWQsYiwhMCl9O2Z1bmN0aW9uIG14TGluZShhLGIsYyxkKXtteFNoYXBlLmNhbGwodGhpcyk7dGhpcy5ib3VuZHM9YTt0aGlzLnN0cm9rZT1iO3RoaXMuc3Ryb2tld2lkdGg9bnVsbCE9Yz9jOjE7dGhpcy52ZXJ0aWNhbD1udWxsIT1kP2Q6dGhpcy52ZXJ0aWNhbH1teFV0aWxzLmV4dGVuZChteExpbmUsbXhTaGFwZSk7bXhMaW5lLnByb3RvdHlwZS52ZXJ0aWNhbD0hMTsKbXhMaW5lLnByb3RvdHlwZS5wYWludFZlcnRleFNoYXBlPWZ1bmN0aW9uKGEsYixjLGQsZSl7YS5iZWdpbigpO2lmKHRoaXMudmVydGljYWwpe3ZhciBmPWIrZC8yO2EubW92ZVRvKGYsYyk7YS5saW5lVG8oZixjK2UpfWVsc2UgZj1jK2UvMixhLm1vdmVUbyhiLGYpLGEubGluZVRvKGIrZCxmKTthLnN0cm9rZSgpfTtmdW5jdGlvbiBteEltYWdlU2hhcGUoYSxiLGMsZCxlKXtteFNoYXBlLmNhbGwodGhpcyk7dGhpcy5ib3VuZHM9YTt0aGlzLmltYWdlPWI7dGhpcy5maWxsPWM7dGhpcy5zdHJva2U9ZDt0aGlzLnN0cm9rZXdpZHRoPW51bGwhPWU/ZToxO3RoaXMuc2hhZG93PSExfW14VXRpbHMuZXh0ZW5kKG14SW1hZ2VTaGFwZSxteFJlY3RhbmdsZVNoYXBlKTtteEltYWdlU2hhcGUucHJvdG90eXBlLnByZXNlcnZlSW1hZ2VBc3BlY3Q9ITA7bXhJbWFnZVNoYXBlLnByb3RvdHlwZS5nZXRTdmdTY3JlZW5PZmZzZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gMH07Cm14SW1hZ2VTaGFwZS5wcm90b3R5cGUuYXBwbHk9ZnVuY3Rpb24oYSl7bXhTaGFwZS5wcm90b3R5cGUuYXBwbHkuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuZ3JhZGllbnQ9dGhpcy5zdHJva2U9dGhpcy5maWxsPW51bGw7bnVsbCE9dGhpcy5zdHlsZSYmKHRoaXMucHJlc2VydmVJbWFnZUFzcGVjdD0xPT1teFV0aWxzLmdldE51bWJlcih0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0lNQUdFX0FTUEVDVCwxKSx0aGlzLmZsaXBIPXRoaXMuZmxpcEh8fDE9PW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSwiaW1hZ2VGbGlwSCIsMCksdGhpcy5mbGlwVj10aGlzLmZsaXBWfHwxPT1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsImltYWdlRmxpcFYiLDApKX07bXhJbWFnZVNoYXBlLnByb3RvdHlwZS5pc0h0bWxBbGxvd2VkPWZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMucHJlc2VydmVJbWFnZUFzcGVjdH07Cm14SW1hZ2VTaGFwZS5wcm90b3R5cGUuY3JlYXRlSHRtbD1mdW5jdGlvbigpe3ZhciBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2Euc3R5bGUucG9zaXRpb249ImFic29sdXRlIjtyZXR1cm4gYX07bXhJbWFnZVNoYXBlLnByb3RvdHlwZS5pc1JvdW5kYWJsZT1mdW5jdGlvbihhLGIsYyxkLGUpe3JldHVybiExfTsKbXhJbWFnZVNoYXBlLnByb3RvdHlwZS5wYWludFZlcnRleFNoYXBlPWZ1bmN0aW9uKGEsYixjLGQsZSl7aWYobnVsbCE9dGhpcy5pbWFnZSl7dmFyIGY9bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0lNQUdFX0JBQ0tHUk9VTkQsbnVsbCksZz1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfSU1BR0VfQk9SREVSLG51bGwpO251bGwhPWYmJihhLnNldEZpbGxDb2xvcihmKSxhLnNldFN0cm9rZUNvbG9yKGcpLGEucmVjdChiLGMsZCxlKSxhLmZpbGxBbmRTdHJva2UoKSk7YS5pbWFnZShiLGMsZCxlLHRoaXMuaW1hZ2UsdGhpcy5wcmVzZXJ2ZUltYWdlQXNwZWN0LCExLCExKTtnPW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9JTUFHRV9CT1JERVIsbnVsbCk7bnVsbCE9ZyYmKGEuc2V0U2hhZG93KCExKSxhLnNldFN0cm9rZUNvbG9yKGcpLGEucmVjdChiLGMsZCxlKSxhLnN0cm9rZSgpKX1lbHNlIG14UmVjdGFuZ2xlU2hhcGUucHJvdG90eXBlLnBhaW50QmFja2dyb3VuZC5hcHBseSh0aGlzLAphcmd1bWVudHMpfTsKbXhJbWFnZVNoYXBlLnByb3RvdHlwZS5yZWRyYXdIdG1sU2hhcGU9ZnVuY3Rpb24oKXt0aGlzLm5vZGUuc3R5bGUubGVmdD1NYXRoLnJvdW5kKHRoaXMuYm91bmRzLngpKyJweCI7dGhpcy5ub2RlLnN0eWxlLnRvcD1NYXRoLnJvdW5kKHRoaXMuYm91bmRzLnkpKyJweCI7dGhpcy5ub2RlLnN0eWxlLndpZHRoPU1hdGgubWF4KDAsTWF0aC5yb3VuZCh0aGlzLmJvdW5kcy53aWR0aCkpKyJweCI7dGhpcy5ub2RlLnN0eWxlLmhlaWdodD1NYXRoLm1heCgwLE1hdGgucm91bmQodGhpcy5ib3VuZHMuaGVpZ2h0KSkrInB4Ijt0aGlzLm5vZGUuaW5uZXJIVE1MPSIiO2lmKG51bGwhPXRoaXMuaW1hZ2Upe3ZhciBhPW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9JTUFHRV9CQUNLR1JPVU5ELCIiKSxiPW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9JTUFHRV9CT1JERVIsIiIpO3RoaXMubm9kZS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9YTsKdGhpcy5ub2RlLnN0eWxlLmJvcmRlckNvbG9yPWI7YT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KG14Q2xpZW50LklTX0lFNnx8KG51bGw9PWRvY3VtZW50LmRvY3VtZW50TW9kZXx8OD49ZG9jdW1lbnQuZG9jdW1lbnRNb2RlKSYmMCE9dGhpcy5yb3RhdGlvbj9teENsaWVudC5WTUxfUFJFRklYKyI6aW1hZ2UiOiJpbWciKTthLnNldEF0dHJpYnV0ZSgiYm9yZGVyIiwiMCIpO2Euc3R5bGUucG9zaXRpb249ImFic29sdXRlIjthLnNyYz10aGlzLmltYWdlO2I9MTAwPnRoaXMub3BhY2l0eT8iYWxwaGEob3BhY2l0eT0iK3RoaXMub3BhY2l0eSsiKSI6IiI7dGhpcy5ub2RlLnN0eWxlLmZpbHRlcj1iO3RoaXMuZmxpcEgmJnRoaXMuZmxpcFY/Yis9InByb2dpZDpEWEltYWdlVHJhbnNmb3JtLk1pY3Jvc29mdC5CYXNpY0ltYWdlKHJvdGF0aW9uPTIpIjp0aGlzLmZsaXBIP2IrPSJwcm9naWQ6RFhJbWFnZVRyYW5zZm9ybS5NaWNyb3NvZnQuQmFzaWNJbWFnZShtaXJyb3I9MSkiOnRoaXMuZmxpcFYmJgooYis9InByb2dpZDpEWEltYWdlVHJhbnNmb3JtLk1pY3Jvc29mdC5CYXNpY0ltYWdlKHJvdGF0aW9uPTIsIG1pcnJvcj0xKSIpO2Euc3R5bGUuZmlsdGVyIT1iJiYoYS5zdHlsZS5maWx0ZXI9Yik7ImltYWdlIj09YS5ub2RlTmFtZT9hLnN0eWxlLnJvdGF0aW9uPXRoaXMucm90YXRpb246MCE9dGhpcy5yb3RhdGlvbj9teFV0aWxzLnNldFByZWZpeGVkU3R5bGUoYS5zdHlsZSwidHJhbnNmb3JtIiwicm90YXRlKCIrdGhpcy5yb3RhdGlvbisiZGVnKSIpOm14VXRpbHMuc2V0UHJlZml4ZWRTdHlsZShhLnN0eWxlLCJ0cmFuc2Zvcm0iLCIiKTthLnN0eWxlLndpZHRoPXRoaXMubm9kZS5zdHlsZS53aWR0aDthLnN0eWxlLmhlaWdodD10aGlzLm5vZGUuc3R5bGUuaGVpZ2h0O3RoaXMubm9kZS5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2U9IiI7dGhpcy5ub2RlLmFwcGVuZENoaWxkKGEpfWVsc2UgdGhpcy5zZXRUcmFuc3BhcmVudEJhY2tncm91bmRJbWFnZSh0aGlzLm5vZGUpfTsKZnVuY3Rpb24gbXhMYWJlbChhLGIsYyxkKXtteFJlY3RhbmdsZVNoYXBlLmNhbGwodGhpcyxhLGIsYyxkKX1teFV0aWxzLmV4dGVuZChteExhYmVsLG14UmVjdGFuZ2xlU2hhcGUpO214TGFiZWwucHJvdG90eXBlLmltYWdlU2l6ZT1teENvbnN0YW50cy5ERUZBVUxUX0lNQUdFU0laRTtteExhYmVsLnByb3RvdHlwZS5zcGFjaW5nPTI7bXhMYWJlbC5wcm90b3R5cGUuaW5kaWNhdG9yU2l6ZT0xMDtteExhYmVsLnByb3RvdHlwZS5pbmRpY2F0b3JTcGFjaW5nPTI7bXhMYWJlbC5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbihhKXtteFNoYXBlLnByb3RvdHlwZS5pbml0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTtudWxsIT10aGlzLmluZGljYXRvclNoYXBlJiYodGhpcy5pbmRpY2F0b3I9bmV3IHRoaXMuaW5kaWNhdG9yU2hhcGUsdGhpcy5pbmRpY2F0b3IuZGlhbGVjdD10aGlzLmRpYWxlY3QsdGhpcy5pbmRpY2F0b3IuaW5pdCh0aGlzLm5vZGUpKX07Cm14TGFiZWwucHJvdG90eXBlLnJlZHJhdz1mdW5jdGlvbigpe251bGwhPXRoaXMuaW5kaWNhdG9yJiYodGhpcy5pbmRpY2F0b3IuZmlsbD10aGlzLmluZGljYXRvckNvbG9yLHRoaXMuaW5kaWNhdG9yLnN0cm9rZT10aGlzLmluZGljYXRvclN0cm9rZUNvbG9yLHRoaXMuaW5kaWNhdG9yLmdyYWRpZW50PXRoaXMuaW5kaWNhdG9yR3JhZGllbnRDb2xvcix0aGlzLmluZGljYXRvci5kaXJlY3Rpb249dGhpcy5pbmRpY2F0b3JEaXJlY3Rpb24sdGhpcy5pbmRpY2F0b3IucmVkcmF3KCkpO214U2hhcGUucHJvdG90eXBlLnJlZHJhdy5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O214TGFiZWwucHJvdG90eXBlLmlzSHRtbEFsbG93ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gbXhSZWN0YW5nbGVTaGFwZS5wcm90b3R5cGUuaXNIdG1sQWxsb3dlZC5hcHBseSh0aGlzLGFyZ3VtZW50cykmJm51bGw9PXRoaXMuaW5kaWNhdG9yQ29sb3ImJm51bGw9PXRoaXMuaW5kaWNhdG9yU2hhcGV9OwpteExhYmVsLnByb3RvdHlwZS5wYWludEZvcmVncm91bmQ9ZnVuY3Rpb24oYSxiLGMsZCxlKXt0aGlzLnBhaW50SW1hZ2UoYSxiLGMsZCxlKTt0aGlzLnBhaW50SW5kaWNhdG9yKGEsYixjLGQsZSk7bXhSZWN0YW5nbGVTaGFwZS5wcm90b3R5cGUucGFpbnRGb3JlZ3JvdW5kLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07bXhMYWJlbC5wcm90b3R5cGUucGFpbnRJbWFnZT1mdW5jdGlvbihhLGIsYyxkLGUpe251bGwhPXRoaXMuaW1hZ2UmJihiPXRoaXMuZ2V0SW1hZ2VCb3VuZHMoYixjLGQsZSksYS5pbWFnZShiLngsYi55LGIud2lkdGgsYi5oZWlnaHQsdGhpcy5pbWFnZSwhMSwhMSwhMSkpfTsKbXhMYWJlbC5wcm90b3R5cGUuZ2V0SW1hZ2VCb3VuZHM9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0lNQUdFX0FMSUdOLG14Q29uc3RhbnRzLkFMSUdOX0xFRlQpLGY9bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0lNQUdFX1ZFUlRJQ0FMX0FMSUdOLG14Q29uc3RhbnRzLkFMSUdOX01JRERMRSksZz1teFV0aWxzLmdldE51bWJlcih0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0lNQUdFX1dJRFRILG14Q29uc3RhbnRzLkRFRkFVTFRfSU1BR0VTSVpFKSxrPW14VXRpbHMuZ2V0TnVtYmVyKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfSU1BR0VfSEVJR0hULG14Q29uc3RhbnRzLkRFRkFVTFRfSU1BR0VTSVpFKSxsPW14VXRpbHMuZ2V0TnVtYmVyKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfU1BBQ0lORyx0aGlzLnNwYWNpbmcpKzU7YT1lPT1teENvbnN0YW50cy5BTElHTl9DRU5URVI/CmErKGMtZykvMjplPT1teENvbnN0YW50cy5BTElHTl9SSUdIVD9hKyhjLWctbCk6YStsO2I9Zj09bXhDb25zdGFudHMuQUxJR05fVE9QP2IrbDpmPT1teENvbnN0YW50cy5BTElHTl9CT1RUT00/YisoZC1rLWwpOmIrKGQtaykvMjtyZXR1cm4gbmV3IG14UmVjdGFuZ2xlKGEsYixnLGspfTtteExhYmVsLnByb3RvdHlwZS5wYWludEluZGljYXRvcj1mdW5jdGlvbihhLGIsYyxkLGUpe251bGwhPXRoaXMuaW5kaWNhdG9yPyh0aGlzLmluZGljYXRvci5ib3VuZHM9dGhpcy5nZXRJbmRpY2F0b3JCb3VuZHMoYixjLGQsZSksdGhpcy5pbmRpY2F0b3IucGFpbnQoYSkpOm51bGwhPXRoaXMuaW5kaWNhdG9ySW1hZ2UmJihiPXRoaXMuZ2V0SW5kaWNhdG9yQm91bmRzKGIsYyxkLGUpLGEuaW1hZ2UoYi54LGIueSxiLndpZHRoLGIuaGVpZ2h0LHRoaXMuaW5kaWNhdG9ySW1hZ2UsITEsITEsITEpKX07Cm14TGFiZWwucHJvdG90eXBlLmdldEluZGljYXRvckJvdW5kcz1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfSU1BR0VfQUxJR04sbXhDb25zdGFudHMuQUxJR05fTEVGVCksZj1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfSU1BR0VfVkVSVElDQUxfQUxJR04sbXhDb25zdGFudHMuQUxJR05fTUlERExFKSxnPW14VXRpbHMuZ2V0TnVtYmVyKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfSU5ESUNBVE9SX1dJRFRILHRoaXMuaW5kaWNhdG9yU2l6ZSksaz1teFV0aWxzLmdldE51bWJlcih0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0lORElDQVRPUl9IRUlHSFQsdGhpcy5pbmRpY2F0b3JTaXplKSxsPXRoaXMuc3BhY2luZys1O2E9ZT09bXhDb25zdGFudHMuQUxJR05fUklHSFQ/YSsoYy1nLWwpOmU9PW14Q29uc3RhbnRzLkFMSUdOX0NFTlRFUj9hKyhjLWcpLwoyOmErbDtiPWY9PW14Q29uc3RhbnRzLkFMSUdOX0JPVFRPTT9iKyhkLWstbCk6Zj09bXhDb25zdGFudHMuQUxJR05fVE9QP2IrbDpiKyhkLWspLzI7cmV0dXJuIG5ldyBteFJlY3RhbmdsZShhLGIsZyxrKX07Cm14TGFiZWwucHJvdG90eXBlLnJlZHJhd0h0bWxTaGFwZT1mdW5jdGlvbigpe2ZvcihteFJlY3RhbmdsZVNoYXBlLnByb3RvdHlwZS5yZWRyYXdIdG1sU2hhcGUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMubm9kZS5oYXNDaGlsZE5vZGVzKCk7KXRoaXMubm9kZS5yZW1vdmVDaGlsZCh0aGlzLm5vZGUubGFzdENoaWxkKTtpZihudWxsIT10aGlzLmltYWdlKXt2YXIgYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbWciKTthLnN0eWxlLnBvc2l0aW9uPSJyZWxhdGl2ZSI7YS5zZXRBdHRyaWJ1dGUoImJvcmRlciIsIjAiKTt2YXIgYj10aGlzLmdldEltYWdlQm91bmRzKHRoaXMuYm91bmRzLngsdGhpcy5ib3VuZHMueSx0aGlzLmJvdW5kcy53aWR0aCx0aGlzLmJvdW5kcy5oZWlnaHQpO2IueC09dGhpcy5ib3VuZHMueDtiLnktPXRoaXMuYm91bmRzLnk7YS5zdHlsZS5sZWZ0PU1hdGgucm91bmQoYi54KSsicHgiO2Euc3R5bGUudG9wPU1hdGgucm91bmQoYi55KSsicHgiO2Euc3R5bGUud2lkdGg9Ck1hdGgucm91bmQoYi53aWR0aCkrInB4IjthLnN0eWxlLmhlaWdodD1NYXRoLnJvdW5kKGIuaGVpZ2h0KSsicHgiO2Euc3JjPXRoaXMuaW1hZ2U7dGhpcy5ub2RlLmFwcGVuZENoaWxkKGEpfX07ZnVuY3Rpb24gbXhDeWxpbmRlcihhLGIsYyxkKXtteFNoYXBlLmNhbGwodGhpcyk7dGhpcy5ib3VuZHM9YTt0aGlzLmZpbGw9Yjt0aGlzLnN0cm9rZT1jO3RoaXMuc3Ryb2tld2lkdGg9bnVsbCE9ZD9kOjF9bXhVdGlscy5leHRlbmQobXhDeWxpbmRlcixteFNoYXBlKTtteEN5bGluZGVyLnByb3RvdHlwZS5tYXhIZWlnaHQ9NDA7bXhDeWxpbmRlci5wcm90b3R5cGUuc3ZnU3Ryb2tlVG9sZXJhbmNlPTA7Cm14Q3lsaW5kZXIucHJvdG90eXBlLnBhaW50VmVydGV4U2hhcGU9ZnVuY3Rpb24oYSxiLGMsZCxlKXthLnRyYW5zbGF0ZShiLGMpO2EuYmVnaW4oKTt0aGlzLnJlZHJhd1BhdGgoYSxiLGMsZCxlLCExKTthLmZpbGxBbmRTdHJva2UoKTt0aGlzLm91dGxpbmUmJm51bGwhPXRoaXMuc3R5bGUmJjAhPW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9CQUNLR1JPVU5EX09VVExJTkUsMCl8fChhLnNldFNoYWRvdyghMSksYS5iZWdpbigpLHRoaXMucmVkcmF3UGF0aChhLGIsYyxkLGUsITApLGEuc3Ryb2tlKCkpfTtteEN5bGluZGVyLnByb3RvdHlwZS5nZXRDeWxpbmRlclNpemU9ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuIE1hdGgubWluKHRoaXMubWF4SGVpZ2h0LE1hdGgucm91bmQoZC81KSl9OwpteEN5bGluZGVyLnByb3RvdHlwZS5yZWRyYXdQYXRoPWZ1bmN0aW9uKGEsYixjLGQsZSxmKXtiPXRoaXMuZ2V0Q3lsaW5kZXJTaXplKGIsYyxkLGUpO2lmKGYmJm51bGwhPXRoaXMuZmlsbHx8IWYmJm51bGw9PXRoaXMuZmlsbClhLm1vdmVUbygwLGIpLGEuY3VydmVUbygwLDIqYixkLDIqYixkLGIpLGZ8fChhLnN0cm9rZSgpLGEuYmVnaW4oKSk7Znx8KGEubW92ZVRvKDAsYiksYS5jdXJ2ZVRvKDAsLWIvMyxkLC1iLzMsZCxiKSxhLmxpbmVUbyhkLGUtYiksYS5jdXJ2ZVRvKGQsZStiLzMsMCxlK2IvMywwLGUtYiksYS5jbG9zZSgpKX07ZnVuY3Rpb24gbXhDb25uZWN0b3IoYSxiLGMpe214UG9seWxpbmUuY2FsbCh0aGlzLGEsYixjKX1teFV0aWxzLmV4dGVuZChteENvbm5lY3RvcixteFBvbHlsaW5lKTsKbXhDb25uZWN0b3IucHJvdG90eXBlLnVwZGF0ZUJvdW5kaW5nQm94PWZ1bmN0aW9uKCl7dGhpcy51c2VTdmdCb3VuZGluZ0JveD1udWxsIT10aGlzLnN0eWxlJiYxPT10aGlzLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX0NVUlZFRF07bXhTaGFwZS5wcm90b3R5cGUudXBkYXRlQm91bmRpbmdCb3guYXBwbHkodGhpcyxhcmd1bWVudHMpfTtteENvbm5lY3Rvci5wcm90b3R5cGUucGFpbnRFZGdlU2hhcGU9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmNyZWF0ZU1hcmtlcihhLGIsITApLGQ9dGhpcy5jcmVhdGVNYXJrZXIoYSxiLCExKTtteFBvbHlsaW5lLnByb3RvdHlwZS5wYWludEVkZ2VTaGFwZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7YS5zZXRGaWxsQ29sb3IodGhpcy5zdHJva2UpO2Euc2V0U2hhZG93KCExKTthLnNldERhc2hlZCghMSk7bnVsbCE9YyYmYygpO251bGwhPWQmJmQoKX07Cm14Q29ubmVjdG9yLnByb3RvdHlwZS5jcmVhdGVNYXJrZXI9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPW51bGwsZT1iLmxlbmd0aCxmPW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSxjP214Q29uc3RhbnRzLlNUWUxFX1NUQVJUQVJST1c6bXhDb25zdGFudHMuU1RZTEVfRU5EQVJST1cpLGc9Yz9iWzFdOmJbZS0yXSxrPWM/YlswXTpiW2UtMV07aWYobnVsbCE9ZiYmbnVsbCE9ZyYmbnVsbCE9ayl7Zm9yKGQ9MTtkPGUtMSYmMD09TWF0aC5yb3VuZChnLngtay54KSYmMD09TWF0aC5yb3VuZChnLnktay55KTspZz1jP2JbMStkXTpiW2UtMi1kXSxkKys7Yj1rLngtZy54O2U9ay55LWcueTtkPU1hdGgubWF4KDEsTWF0aC5zcXJ0KGIqYitlKmUpKTtnPWIvZDtiPWUvZDtlPW14VXRpbHMuZ2V0TnVtYmVyKHRoaXMuc3R5bGUsYz9teENvbnN0YW50cy5TVFlMRV9TVEFSVFNJWkU6bXhDb25zdGFudHMuU1RZTEVfRU5EU0laRSxteENvbnN0YW50cy5ERUZBVUxUX01BUktFUlNJWkUpO2Q9bXhNYXJrZXIuY3JlYXRlTWFya2VyKGEsCnRoaXMsZixrLGcsYixlLGMsdGhpcy5zdHJva2V3aWR0aCwwIT10aGlzLnN0eWxlW2M/bXhDb25zdGFudHMuU1RZTEVfU1RBUlRGSUxMOm14Q29uc3RhbnRzLlNUWUxFX0VOREZJTExdKX1yZXR1cm4gZH07Cm14Q29ubmVjdG9yLnByb3RvdHlwZS5hdWdtZW50Qm91bmRpbmdCb3g9ZnVuY3Rpb24oYSl7bXhTaGFwZS5wcm90b3R5cGUuYXVnbWVudEJvdW5kaW5nQm94LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt2YXIgYj0wO214VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9TVEFSVEFSUk9XLG14Q29uc3RhbnRzLk5PTkUpIT1teENvbnN0YW50cy5OT05FJiYoYj1teFV0aWxzLmdldE51bWJlcih0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX1NUQVJUU0laRSxteENvbnN0YW50cy5ERUZBVUxUX01BUktFUlNJWkUpKzEpO214VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9FTkRBUlJPVyxteENvbnN0YW50cy5OT05FKSE9bXhDb25zdGFudHMuTk9ORSYmKGI9TWF0aC5tYXgoYixteFV0aWxzLmdldE51bWJlcih0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0VORFNJWkUsbXhDb25zdGFudHMuREVGQVVMVF9NQVJLRVJTSVpFKSkrCjEpO2EuZ3JvdyhiKnRoaXMuc2NhbGUpfTtmdW5jdGlvbiBteFN3aW1sYW5lKGEsYixjLGQpe214U2hhcGUuY2FsbCh0aGlzKTt0aGlzLmJvdW5kcz1hO3RoaXMuZmlsbD1iO3RoaXMuc3Ryb2tlPWM7dGhpcy5zdHJva2V3aWR0aD1udWxsIT1kP2Q6MX1teFV0aWxzLmV4dGVuZChteFN3aW1sYW5lLG14U2hhcGUpO214U3dpbWxhbmUucHJvdG90eXBlLmltYWdlU2l6ZT0xNjtteFN3aW1sYW5lLnByb3RvdHlwZS5pc1JvdW5kYWJsZT1mdW5jdGlvbihhLGIsYyxkLGUpe3JldHVybiEwfTtteFN3aW1sYW5lLnByb3RvdHlwZS5nZXRUaXRsZVNpemU9ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5tYXgoMCxteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfU1RBUlRTSVpFLG14Q29uc3RhbnRzLkRFRkFVTFRfU1RBUlRTSVpFKSl9OwpteFN3aW1sYW5lLnByb3RvdHlwZS5nZXRMYWJlbEJvdW5kcz1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmdldFRpdGxlU2l6ZSgpO2E9bmV3IG14UmVjdGFuZ2xlKGEueCxhLnksYS53aWR0aCxhLmhlaWdodCk7dmFyIGM9dGhpcy5pc0hvcml6b250YWwoKSxkPTE9PW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9GTElQSCwwKSxlPTE9PW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9GTElQViwwKSxmPXRoaXMuZGlyZWN0aW9uPT1teENvbnN0YW50cy5ESVJFQ1RJT05fTk9SVEh8fHRoaXMuZGlyZWN0aW9uPT1teENvbnN0YW50cy5ESVJFQ1RJT05fU09VVEgsYz1jPT0hZixkPSFjJiZkIT0odGhpcy5kaXJlY3Rpb249PW14Q29uc3RhbnRzLkRJUkVDVElPTl9TT1VUSHx8dGhpcy5kaXJlY3Rpb249PW14Q29uc3RhbnRzLkRJUkVDVElPTl9XRVNUKSxlPWMmJmUhPSh0aGlzLmRpcmVjdGlvbj09bXhDb25zdGFudHMuRElSRUNUSU9OX1NPVVRIfHwKdGhpcy5kaXJlY3Rpb249PW14Q29uc3RhbnRzLkRJUkVDVElPTl9XRVNUKTtpZihmKXtiPU1hdGgubWluKGEud2lkdGgsYip0aGlzLnNjYWxlKTtpZihkfHxlKWEueCs9YS53aWR0aC1iO2Eud2lkdGg9Yn1lbHNle2I9TWF0aC5taW4oYS5oZWlnaHQsYip0aGlzLnNjYWxlKTtpZihkfHxlKWEueSs9YS5oZWlnaHQtYjthLmhlaWdodD1ifXJldHVybiBhfTtteFN3aW1sYW5lLnByb3RvdHlwZS5nZXRHcmFkaWVudEJvdW5kcz1mdW5jdGlvbihhLGIsYyxkLGUpe2E9dGhpcy5nZXRUaXRsZVNpemUoKTtpZih0aGlzLmlzSG9yaXpvbnRhbCgpKXJldHVybiBhPU1hdGgubWluKGEsZSksbmV3IG14UmVjdGFuZ2xlKGIsYyxkLGEpO2E9TWF0aC5taW4oYSxkKTtyZXR1cm4gbmV3IG14UmVjdGFuZ2xlKGIsYyxhLGUpfTsKbXhTd2ltbGFuZS5wcm90b3R5cGUuZ2V0QXJjU2l6ZT1mdW5jdGlvbihhLGIsYyl7aWYoIjEiPT1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfQUJTT0xVVEVfQVJDU0laRSwwKSlyZXR1cm4gTWF0aC5taW4oYS8yLE1hdGgubWluKGIvMixteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfQVJDU0laRSxteENvbnN0YW50cy5MSU5FX0FSQ1NJWkUpLzIpKTthPW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9BUkNTSVpFLDEwMCpteENvbnN0YW50cy5SRUNUQU5HTEVfUk9VTkRJTkdfRkFDVE9SKS8xMDA7cmV0dXJuIGMqYSozfTtteFN3aW1sYW5lLnByb3RvdHlwZS5pc0hvcml6b250YWw9ZnVuY3Rpb24oKXtyZXR1cm4gMT09bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0hPUklaT05UQUwsMSl9OwpteFN3aW1sYW5lLnByb3RvdHlwZS5wYWludFZlcnRleFNoYXBlPWZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9dGhpcy5nZXRUaXRsZVNpemUoKSxnPW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9TV0lNTEFORV9GSUxMQ09MT1IsbXhDb25zdGFudHMuTk9ORSksaz0xPT1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfU1dJTUxBTkVfTElORSwxKSxsPTAsZj10aGlzLmlzSG9yaXpvbnRhbCgpP01hdGgubWluKGYsZSk6TWF0aC5taW4oZixkKTthLnRyYW5zbGF0ZShiLGMpO3RoaXMuaXNSb3VuZGVkPyhsPXRoaXMuZ2V0QXJjU2l6ZShkLGUsZiksbD1NYXRoLm1pbigodGhpcy5pc0hvcml6b250YWwoKT9lOmQpLWYsTWF0aC5taW4oZixsKSksdGhpcy5wYWludFJvdW5kZWRTd2ltbGFuZShhLGIsYyxkLGUsZixsLGcsaykpOnRoaXMucGFpbnRTd2ltbGFuZShhLGIsYyxkLGUsZixnLGspO2c9bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLApteENvbnN0YW50cy5TVFlMRV9TRVBBUkFUT1JDT0xPUixteENvbnN0YW50cy5OT05FKTt0aGlzLnBhaW50U2VwYXJhdG9yKGEsYixjLGQsZSxmLGcpO251bGwhPXRoaXMuaW1hZ2UmJihlPXRoaXMuZ2V0SW1hZ2VCb3VuZHMoYixjLGQsZSksYS5pbWFnZShlLngtYixlLnktYyxlLndpZHRoLGUuaGVpZ2h0LHRoaXMuaW1hZ2UsITEsITEsITEpKTt0aGlzLmdsYXNzJiYoYS5zZXRTaGFkb3coITEpLHRoaXMucGFpbnRHbGFzc0VmZmVjdChhLDAsMCxkLGYsbCkpfTsKbXhTd2ltbGFuZS5wcm90b3R5cGUucGFpbnRTd2ltbGFuZT1mdW5jdGlvbihhLGIsYyxkLGUsZixnLGspe2EuYmVnaW4oKTt2YXIgbD0hMDtudWxsIT10aGlzLnN0eWxlJiYobD0iMSI9PW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9QT0lOVEVSX0VWRU5UUywiMSIpKTtsfHxudWxsIT10aGlzLmZpbGwmJnRoaXMuZmlsbCE9bXhDb25zdGFudHMuTk9ORXx8KGEucG9pbnRlckV2ZW50cz0hMSk7dGhpcy5pc0hvcml6b250YWwoKT8oYS5tb3ZlVG8oMCxmKSxhLmxpbmVUbygwLDApLGEubGluZVRvKGQsMCksYS5saW5lVG8oZCxmKSxhLmZpbGxBbmRTdHJva2UoKSxmPGUmJihnIT1teENvbnN0YW50cy5OT05FJiZsfHwoYS5wb2ludGVyRXZlbnRzPSExKSxnIT1teENvbnN0YW50cy5OT05FJiZhLnNldEZpbGxDb2xvcihnKSxhLmJlZ2luKCksYS5tb3ZlVG8oMCxmKSxhLmxpbmVUbygwLGUpLGEubGluZVRvKGQsZSksYS5saW5lVG8oZCxmKSxnPT1teENvbnN0YW50cy5OT05FPwphLnN0cm9rZSgpOmEuZmlsbEFuZFN0cm9rZSgpKSk6KGEubW92ZVRvKGYsMCksYS5saW5lVG8oMCwwKSxhLmxpbmVUbygwLGUpLGEubGluZVRvKGYsZSksYS5maWxsQW5kU3Ryb2tlKCksZjxkJiYoZyE9bXhDb25zdGFudHMuTk9ORSYmbHx8KGEucG9pbnRlckV2ZW50cz0hMSksZyE9bXhDb25zdGFudHMuTk9ORSYmYS5zZXRGaWxsQ29sb3IoZyksYS5iZWdpbigpLGEubW92ZVRvKGYsMCksYS5saW5lVG8oZCwwKSxhLmxpbmVUbyhkLGUpLGEubGluZVRvKGYsZSksZz09bXhDb25zdGFudHMuTk9ORT9hLnN0cm9rZSgpOmEuZmlsbEFuZFN0cm9rZSgpKSk7ayYmdGhpcy5wYWludERpdmlkZXIoYSxiLGMsZCxlLGYsZz09bXhDb25zdGFudHMuTk9ORSl9OwpteFN3aW1sYW5lLnByb3RvdHlwZS5wYWludFJvdW5kZWRTd2ltbGFuZT1mdW5jdGlvbihhLGIsYyxkLGUsZixnLGssbCl7YS5iZWdpbigpO3ZhciBtPSEwO251bGwhPXRoaXMuc3R5bGUmJihtPSIxIj09bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX1BPSU5URVJfRVZFTlRTLCIxIikpO218fG51bGwhPXRoaXMuZmlsbCYmdGhpcy5maWxsIT1teENvbnN0YW50cy5OT05FfHwoYS5wb2ludGVyRXZlbnRzPSExKTt0aGlzLmlzSG9yaXpvbnRhbCgpPyhhLm1vdmVUbyhkLGYpLGEubGluZVRvKGQsZyksYS5xdWFkVG8oZCwwLGQtTWF0aC5taW4oZC8yLGcpLDApLGEubGluZVRvKE1hdGgubWluKGQvMixnKSwwKSxhLnF1YWRUbygwLDAsMCxnKSxhLmxpbmVUbygwLGYpLGEuZmlsbEFuZFN0cm9rZSgpLGY8ZSYmKGshPW14Q29uc3RhbnRzLk5PTkUmJm18fChhLnBvaW50ZXJFdmVudHM9ITEpLGshPW14Q29uc3RhbnRzLk5PTkUmJmEuc2V0RmlsbENvbG9yKGspLAphLmJlZ2luKCksYS5tb3ZlVG8oMCxmKSxhLmxpbmVUbygwLGUtZyksYS5xdWFkVG8oMCxlLE1hdGgubWluKGQvMixnKSxlKSxhLmxpbmVUbyhkLU1hdGgubWluKGQvMixnKSxlKSxhLnF1YWRUbyhkLGUsZCxlLWcpLGEubGluZVRvKGQsZiksaz09bXhDb25zdGFudHMuTk9ORT9hLnN0cm9rZSgpOmEuZmlsbEFuZFN0cm9rZSgpKSk6KGEubW92ZVRvKGYsMCksYS5saW5lVG8oZywwKSxhLnF1YWRUbygwLDAsMCxNYXRoLm1pbihlLzIsZykpLGEubGluZVRvKDAsZS1NYXRoLm1pbihlLzIsZykpLGEucXVhZFRvKDAsZSxnLGUpLGEubGluZVRvKGYsZSksYS5maWxsQW5kU3Ryb2tlKCksZjxkJiYoayE9bXhDb25zdGFudHMuTk9ORSYmbXx8KGEucG9pbnRlckV2ZW50cz0hMSksayE9bXhDb25zdGFudHMuTk9ORSYmYS5zZXRGaWxsQ29sb3IoayksYS5iZWdpbigpLGEubW92ZVRvKGYsZSksYS5saW5lVG8oZC1nLGUpLGEucXVhZFRvKGQsZSxkLGUtTWF0aC5taW4oZS8yLGcpKSxhLmxpbmVUbyhkLApNYXRoLm1pbihlLzIsZykpLGEucXVhZFRvKGQsMCxkLWcsMCksYS5saW5lVG8oZiwwKSxrPT1teENvbnN0YW50cy5OT05FP2Euc3Ryb2tlKCk6YS5maWxsQW5kU3Ryb2tlKCkpKTtsJiZ0aGlzLnBhaW50RGl2aWRlcihhLGIsYyxkLGUsZixrPT1teENvbnN0YW50cy5OT05FKX07bXhTd2ltbGFuZS5wcm90b3R5cGUucGFpbnREaXZpZGVyPWZ1bmN0aW9uKGEsYixjLGQsZSxmLGcpe2d8fGEuc2V0U2hhZG93KCExKTthLmJlZ2luKCk7dGhpcy5pc0hvcml6b250YWwoKT8oYS5tb3ZlVG8oMCxmKSxhLmxpbmVUbyhkLGYpKTooYS5tb3ZlVG8oZiwwKSxhLmxpbmVUbyhmLGUpKTthLnN0cm9rZSgpfTsKbXhTd2ltbGFuZS5wcm90b3R5cGUucGFpbnRTZXBhcmF0b3I9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyl7ZyE9bXhDb25zdGFudHMuTk9ORSYmKGEuc2V0U3Ryb2tlQ29sb3IoZyksYS5zZXREYXNoZWQoITApLGEuYmVnaW4oKSx0aGlzLmlzSG9yaXpvbnRhbCgpPyhhLm1vdmVUbyhkLGYpLGEubGluZVRvKGQsZSkpOihhLm1vdmVUbyhmLDApLGEubGluZVRvKGQsMCkpLGEuc3Ryb2tlKCksYS5zZXREYXNoZWQoITEpKX07bXhTd2ltbGFuZS5wcm90b3R5cGUuZ2V0SW1hZ2VCb3VuZHM9ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuIHRoaXMuaXNIb3Jpem9udGFsKCk/bmV3IG14UmVjdGFuZ2xlKGErYy10aGlzLmltYWdlU2l6ZSxiLHRoaXMuaW1hZ2VTaXplLHRoaXMuaW1hZ2VTaXplKTpuZXcgbXhSZWN0YW5nbGUoYSxiLHRoaXMuaW1hZ2VTaXplLHRoaXMuaW1hZ2VTaXplKX07ZnVuY3Rpb24gbXhHcmFwaExheW91dChhKXt0aGlzLmdyYXBoPWF9Cm14R3JhcGhMYXlvdXQucHJvdG90eXBlLmdyYXBoPW51bGw7bXhHcmFwaExheW91dC5wcm90b3R5cGUudXNlQm91bmRpbmdCb3g9ITA7bXhHcmFwaExheW91dC5wcm90b3R5cGUucGFyZW50PW51bGw7bXhHcmFwaExheW91dC5wcm90b3R5cGUubW92ZUNlbGw9ZnVuY3Rpb24oYSxiLGMpe307bXhHcmFwaExheW91dC5wcm90b3R5cGUucmVzaXplQ2VsbD1mdW5jdGlvbihhLGIpe307bXhHcmFwaExheW91dC5wcm90b3R5cGUuZXhlY3V0ZT1mdW5jdGlvbihhKXt9O214R3JhcGhMYXlvdXQucHJvdG90eXBlLmdldEdyYXBoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ3JhcGh9O214R3JhcGhMYXlvdXQucHJvdG90eXBlLmdldENvbnN0cmFpbnQ9ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuIHRoaXMuZ3JhcGguZ2V0Q3VycmVudENlbGxTdHlsZShiKVthXX07Cm14R3JhcGhMYXlvdXQudHJhdmVyc2U9ZnVuY3Rpb24oYSxiLGMsZCxlKXtpZihudWxsIT1jJiZudWxsIT1hJiYoYj1udWxsIT1iP2I6ITAsZT1lfHxuZXcgbXhEaWN0aW9uYXJ5LCFlLmdldChhKSYmKGUucHV0KGEsITApLGQ9YyhhLGQpLG51bGw9PWR8fGQpKSYmKGQ9dGhpcy5ncmFwaC5tb2RlbC5nZXRFZGdlQ291bnQoYSksMDxkKSlmb3IodmFyIGY9MDtmPGQ7ZisrKXt2YXIgZz10aGlzLmdyYXBoLm1vZGVsLmdldEVkZ2VBdChhLGYpLGs9dGhpcy5ncmFwaC5tb2RlbC5nZXRUZXJtaW5hbChnLCEwKT09YTtpZighYnx8aylrPXRoaXMuZ3JhcGgudmlldy5nZXRWaXNpYmxlVGVybWluYWwoZywhayksdGhpcy50cmF2ZXJzZShrLGIsYyxnLGUpfX07Cm14R3JhcGhMYXlvdXQucHJvdG90eXBlLmlzQW5jZXN0b3I9ZnVuY3Rpb24oYSxiLGMpe2lmKCFjKXJldHVybiB0aGlzLmdyYXBoLm1vZGVsLmdldFBhcmVudChiKT09YTtpZihiPT1hKXJldHVybiExO2Zvcig7bnVsbCE9YiYmYiE9YTspYj10aGlzLmdyYXBoLm1vZGVsLmdldFBhcmVudChiKTtyZXR1cm4gYj09YX07bXhHcmFwaExheW91dC5wcm90b3R5cGUuaXNWZXJ0ZXhNb3ZhYmxlPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmdyYXBoLmlzQ2VsbE1vdmFibGUoYSl9O214R3JhcGhMYXlvdXQucHJvdG90eXBlLmlzVmVydGV4SWdub3JlZD1mdW5jdGlvbihhKXtyZXR1cm4hdGhpcy5ncmFwaC5nZXRNb2RlbCgpLmlzVmVydGV4KGEpfHwhdGhpcy5ncmFwaC5pc0NlbGxWaXNpYmxlKGEpfTsKbXhHcmFwaExheW91dC5wcm90b3R5cGUuaXNFZGdlSWdub3JlZD1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmdyYXBoLmdldE1vZGVsKCk7cmV0dXJuIWIuaXNFZGdlKGEpfHwhdGhpcy5ncmFwaC5pc0NlbGxWaXNpYmxlKGEpfHxudWxsPT1iLmdldFRlcm1pbmFsKGEsITApfHxudWxsPT1iLmdldFRlcm1pbmFsKGEsITEpfTtteEdyYXBoTGF5b3V0LnByb3RvdHlwZS5zZXRFZGdlU3R5bGVFbmFibGVkPWZ1bmN0aW9uKGEsYil7dGhpcy5ncmFwaC5zZXRDZWxsU3R5bGVzKG14Q29uc3RhbnRzLlNUWUxFX05PRURHRVNUWUxFLGI/IjAiOiIxIixbYV0pfTtteEdyYXBoTGF5b3V0LnByb3RvdHlwZS5zZXRPcnRob2dvbmFsRWRnZT1mdW5jdGlvbihhLGIpe3RoaXMuZ3JhcGguc2V0Q2VsbFN0eWxlcyhteENvbnN0YW50cy5TVFlMRV9PUlRIT0dPTkFMLGI/IjEiOiIwIixbYV0pfTsKbXhHcmFwaExheW91dC5wcm90b3R5cGUuZ2V0UGFyZW50T2Zmc2V0PWZ1bmN0aW9uKGEpe3ZhciBiPW5ldyBteFBvaW50O2lmKG51bGwhPWEmJmEhPXRoaXMucGFyZW50KXt2YXIgYz10aGlzLmdyYXBoLmdldE1vZGVsKCk7aWYoYy5pc0FuY2VzdG9yKHRoaXMucGFyZW50LGEpKWZvcih2YXIgZD1jLmdldEdlb21ldHJ5KGEpO2EhPXRoaXMucGFyZW50OyliLngrPWQueCxiLnkrPWQueSxhPWMuZ2V0UGFyZW50KGEpLGQ9Yy5nZXRHZW9tZXRyeShhKX1yZXR1cm4gYn07Cm14R3JhcGhMYXlvdXQucHJvdG90eXBlLnNldEVkZ2VQb2ludHM9ZnVuY3Rpb24oYSxiKXtpZihudWxsIT1hKXt2YXIgYz10aGlzLmdyYXBoLm1vZGVsLGQ9Yy5nZXRHZW9tZXRyeShhKTtudWxsPT1kPyhkPW5ldyBteEdlb21ldHJ5LGQuc2V0UmVsYXRpdmUoITApKTpkPWQuY2xvbmUoKTtpZihudWxsIT10aGlzLnBhcmVudCYmbnVsbCE9Yilmb3IodmFyIGU9Yy5nZXRQYXJlbnQoYSksZT10aGlzLmdldFBhcmVudE9mZnNldChlKSxmPTA7ZjxiLmxlbmd0aDtmKyspYltmXS54LT1lLngsYltmXS55LT1lLnk7ZC5wb2ludHM9YjtjLnNldEdlb21ldHJ5KGEsZCl9fTsKbXhHcmFwaExheW91dC5wcm90b3R5cGUuc2V0VmVydGV4TG9jYXRpb249ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXMuZ3JhcGguZ2V0TW9kZWwoKSxlPWQuZ2V0R2VvbWV0cnkoYSksZj1udWxsO2lmKG51bGwhPWUpe2Y9bmV3IG14UmVjdGFuZ2xlKGIsYyxlLndpZHRoLGUuaGVpZ2h0KTtpZih0aGlzLnVzZUJvdW5kaW5nQm94KXt2YXIgZz10aGlzLmdyYXBoLmdldFZpZXcoKS5nZXRTdGF0ZShhKTtpZihudWxsIT1nJiZudWxsIT1nLnRleHQmJm51bGwhPWcudGV4dC5ib3VuZGluZ0JveCl7dmFyIGs9dGhpcy5ncmFwaC5nZXRWaWV3KCkuc2NhbGUsbD1nLnRleHQuYm91bmRpbmdCb3g7Zy50ZXh0LmJvdW5kaW5nQm94Lng8Zy54JiYoYis9KGcueC1sLngpL2ssZi53aWR0aD1sLndpZHRoKTtnLnRleHQuYm91bmRpbmdCb3gueTxnLnkmJihjKz0oZy55LWwueSkvayxmLmhlaWdodD1sLmhlaWdodCl9fW51bGwhPXRoaXMucGFyZW50JiYoZz1kLmdldFBhcmVudChhKSxudWxsIT1nJiZnIT0KdGhpcy5wYXJlbnQmJihnPXRoaXMuZ2V0UGFyZW50T2Zmc2V0KGcpLGItPWcueCxjLT1nLnkpKTtpZihlLnghPWJ8fGUueSE9YyllPWUuY2xvbmUoKSxlLng9YixlLnk9YyxkLnNldEdlb21ldHJ5KGEsZSl9cmV0dXJuIGZ9OwpteEdyYXBoTGF5b3V0LnByb3RvdHlwZS5nZXRWZXJ0ZXhCb3VuZHM9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5ncmFwaC5nZXRNb2RlbCgpLmdldEdlb21ldHJ5KGEpO2lmKHRoaXMudXNlQm91bmRpbmdCb3gpe3ZhciBjPXRoaXMuZ3JhcGguZ2V0VmlldygpLmdldFN0YXRlKGEpO2lmKG51bGwhPWMmJm51bGwhPWMudGV4dCYmbnVsbCE9Yy50ZXh0LmJvdW5kaW5nQm94KXZhciBkPXRoaXMuZ3JhcGguZ2V0VmlldygpLnNjYWxlLGU9Yy50ZXh0LmJvdW5kaW5nQm94LGY9TWF0aC5tYXgoYy54LWUueCwwKS9kLGc9TWF0aC5tYXgoYy55LWUueSwwKS9kLGI9bmV3IG14UmVjdGFuZ2xlKGIueC1mLGIueS1nLGIud2lkdGgrZitNYXRoLm1heChlLngrZS53aWR0aC0oYy54K2Mud2lkdGgpLDApL2QsYi5oZWlnaHQrZytNYXRoLm1heChlLnkrZS5oZWlnaHQtKGMueStjLmhlaWdodCksMCkvZCl9bnVsbCE9dGhpcy5wYXJlbnQmJihhPXRoaXMuZ3JhcGguZ2V0TW9kZWwoKS5nZXRQYXJlbnQoYSksCmI9Yi5jbG9uZSgpLG51bGwhPWEmJmEhPXRoaXMucGFyZW50JiYoYT10aGlzLmdldFBhcmVudE9mZnNldChhKSxiLngrPWEueCxiLnkrPWEueSkpO3JldHVybiBuZXcgbXhSZWN0YW5nbGUoYi54LGIueSxiLndpZHRoLGIuaGVpZ2h0KX07bXhHcmFwaExheW91dC5wcm90b3R5cGUuYXJyYW5nZUdyb3Vwcz1mdW5jdGlvbihhLGIsYyxkLGUsZil7cmV0dXJuIHRoaXMuZ3JhcGgudXBkYXRlR3JvdXBCb3VuZHMoYSxiLCEwLGMsZCxlLGYpfTtmdW5jdGlvbiBXZWlnaHRlZENlbGxTb3J0ZXIoYSxiKXt0aGlzLmNlbGw9YTt0aGlzLndlaWdodGVkVmFsdWU9Yn1XZWlnaHRlZENlbGxTb3J0ZXIucHJvdG90eXBlLndlaWdodGVkVmFsdWU9MDtXZWlnaHRlZENlbGxTb3J0ZXIucHJvdG90eXBlLm51ZGdlPSExO1dlaWdodGVkQ2VsbFNvcnRlci5wcm90b3R5cGUudmlzaXRlZD0hMTtXZWlnaHRlZENlbGxTb3J0ZXIucHJvdG90eXBlLnJhbmtJbmRleD1udWxsOwpXZWlnaHRlZENlbGxTb3J0ZXIucHJvdG90eXBlLmNlbGw9bnVsbDtXZWlnaHRlZENlbGxTb3J0ZXIucHJvdG90eXBlLmNvbXBhcmU9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbnVsbCE9YSYmbnVsbCE9Yj9iLndlaWdodGVkVmFsdWU+YS53ZWlnaHRlZFZhbHVlPy0xOmIud2VpZ2h0ZWRWYWx1ZTxhLndlaWdodGVkVmFsdWU/MTpiLm51ZGdlPy0xOjE6MH07ZnVuY3Rpb24gbXhTdGFja0xheW91dChhLGIsYyxkLGUsZil7bXhHcmFwaExheW91dC5jYWxsKHRoaXMsYSk7dGhpcy5ob3Jpem9udGFsPW51bGwhPWI/YjohMDt0aGlzLnNwYWNpbmc9bnVsbCE9Yz9jOjA7dGhpcy54MD1udWxsIT1kP2Q6MDt0aGlzLnkwPW51bGwhPWU/ZTowO3RoaXMuYm9yZGVyPW51bGwhPWY/ZjowfW14U3RhY2tMYXlvdXQucHJvdG90eXBlPW5ldyBteEdyYXBoTGF5b3V0O214U3RhY2tMYXlvdXQucHJvdG90eXBlLmNvbnN0cnVjdG9yPW14U3RhY2tMYXlvdXQ7Cm14U3RhY2tMYXlvdXQucHJvdG90eXBlLmhvcml6b250YWw9bnVsbDtteFN0YWNrTGF5b3V0LnByb3RvdHlwZS5zcGFjaW5nPW51bGw7bXhTdGFja0xheW91dC5wcm90b3R5cGUueDA9bnVsbDtteFN0YWNrTGF5b3V0LnByb3RvdHlwZS55MD1udWxsO214U3RhY2tMYXlvdXQucHJvdG90eXBlLmJvcmRlcj0wO214U3RhY2tMYXlvdXQucHJvdG90eXBlLm1hcmdpblRvcD0wO214U3RhY2tMYXlvdXQucHJvdG90eXBlLm1hcmdpbkxlZnQ9MDtteFN0YWNrTGF5b3V0LnByb3RvdHlwZS5tYXJnaW5SaWdodD0wO214U3RhY2tMYXlvdXQucHJvdG90eXBlLm1hcmdpbkJvdHRvbT0wO214U3RhY2tMYXlvdXQucHJvdG90eXBlLmtlZXBGaXJzdExvY2F0aW9uPSExO214U3RhY2tMYXlvdXQucHJvdG90eXBlLmZpbGw9ITE7bXhTdGFja0xheW91dC5wcm90b3R5cGUucmVzaXplUGFyZW50PSExO214U3RhY2tMYXlvdXQucHJvdG90eXBlLnJlc2l6ZVBhcmVudE1heD0hMTsKbXhTdGFja0xheW91dC5wcm90b3R5cGUucmVzaXplTGFzdD0hMTtteFN0YWNrTGF5b3V0LnByb3RvdHlwZS53cmFwPW51bGw7bXhTdGFja0xheW91dC5wcm90b3R5cGUuYm9yZGVyQ29sbGFwc2U9ITA7bXhTdGFja0xheW91dC5wcm90b3R5cGUuYWxsb3dHYXBzPSExO214U3RhY2tMYXlvdXQucHJvdG90eXBlLmdyaWRTaXplPTA7bXhTdGFja0xheW91dC5wcm90b3R5cGUuaXNIb3Jpem9udGFsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaG9yaXpvbnRhbH07Cm14U3RhY2tMYXlvdXQucHJvdG90eXBlLm1vdmVDZWxsPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLmdyYXBoLmdldE1vZGVsKCksZT1kLmdldFBhcmVudChhKSxmPXRoaXMuaXNIb3Jpem9udGFsKCk7aWYobnVsbCE9YSYmbnVsbCE9ZSl7dmFyIGc9MCxrPWQuZ2V0Q2hpbGRDb3VudChlKTtjPWY/YjpjO2I9dGhpcy5ncmFwaC5nZXRWaWV3KCkuZ2V0U3RhdGUoZSk7bnVsbCE9YiYmKGMtPWY/Yi54OmIueSk7Yy89dGhpcy5ncmFwaC52aWV3LnNjYWxlO2ZvcihiPTA7YjxrO2IrKyl7dmFyIGw9ZC5nZXRDaGlsZEF0KGUsYik7aWYobCE9YSYmKGw9ZC5nZXRHZW9tZXRyeShsKSxudWxsIT1sKSl7bD1mP2wueCtsLndpZHRoLzI6bC55K2wuaGVpZ2h0LzI7aWYoZzw9YyYmbD5jKWJyZWFrO2c9bH19Zj1lLmdldEluZGV4KGEpO2Y9TWF0aC5tYXgoMCxiLShiPmY/MTowKSk7ZC5hZGQoZSxhLGYpfX07Cm14U3RhY2tMYXlvdXQucHJvdG90eXBlLmdldFBhcmVudFNpemU9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5ncmFwaC5nZXRNb2RlbCgpLGM9Yi5nZXRHZW9tZXRyeShhKTtudWxsIT10aGlzLmdyYXBoLmNvbnRhaW5lciYmKG51bGw9PWMmJmIuaXNMYXllcihhKXx8YT09dGhpcy5ncmFwaC5nZXRWaWV3KCkuY3VycmVudFJvb3QpJiYoYz1uZXcgbXhSZWN0YW5nbGUoMCwwLHRoaXMuZ3JhcGguY29udGFpbmVyLm9mZnNldFdpZHRoLTEsdGhpcy5ncmFwaC5jb250YWluZXIub2Zmc2V0SGVpZ2h0LTEpKTtyZXR1cm4gY307Cm14U3RhY2tMYXlvdXQucHJvdG90eXBlLmdldExheW91dENlbGxzPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj10aGlzLmdyYXBoLmdldE1vZGVsKCksYz1iLmdldENoaWxkQ291bnQoYSksZD1bXSxlPTA7ZTxjO2UrKyl7dmFyIGY9Yi5nZXRDaGlsZEF0KGEsZSk7IXRoaXMuaXNWZXJ0ZXhJZ25vcmVkKGYpJiZ0aGlzLmlzVmVydGV4TW92YWJsZShmKSYmZC5wdXNoKGYpfXRoaXMuYWxsb3dHYXBzJiZkLnNvcnQobXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdyYXBoLmdldENlbGxHZW9tZXRyeShhKSxkPXRoaXMuZ3JhcGguZ2V0Q2VsbEdlb21ldHJ5KGIpO3JldHVybiBjLnk9PWQueT8wOmMueT5kLnk+MD8xOi0xfSkpO3JldHVybiBkfTsKbXhTdGFja0xheW91dC5wcm90b3R5cGUuc25hcD1mdW5jdGlvbihhKXtpZihudWxsIT10aGlzLmdyaWRTaXplJiYwPHRoaXMuZ3JpZFNpemUmJihhPU1hdGgubWF4KGEsdGhpcy5ncmlkU2l6ZSksMTxhL3RoaXMuZ3JpZFNpemUpKXt2YXIgYj1hJXRoaXMuZ3JpZFNpemU7YSs9Yj50aGlzLmdyaWRTaXplLzI/dGhpcy5ncmlkU2l6ZS1iOi1ifXJldHVybiBhfTsKbXhTdGFja0xheW91dC5wcm90b3R5cGUuZXhlY3V0ZT1mdW5jdGlvbihhKXtpZihudWxsIT1hKXt2YXIgYj10aGlzLmdldFBhcmVudFNpemUoYSksYz10aGlzLmlzSG9yaXpvbnRhbCgpLGQ9dGhpcy5ncmFwaC5nZXRNb2RlbCgpLGU9bnVsbDtudWxsIT1iJiYoZT1jP2IuaGVpZ2h0LXRoaXMubWFyZ2luVG9wLXRoaXMubWFyZ2luQm90dG9tOmIud2lkdGgtdGhpcy5tYXJnaW5MZWZ0LXRoaXMubWFyZ2luUmlnaHQpO3ZhciBlPWUtMip0aGlzLmJvcmRlcixmPXRoaXMueDArdGhpcy5ib3JkZXIrdGhpcy5tYXJnaW5MZWZ0LGc9dGhpcy55MCt0aGlzLmJvcmRlcit0aGlzLm1hcmdpblRvcDtpZih0aGlzLmdyYXBoLmlzU3dpbWxhbmUoYSkpe3ZhciBrPXRoaXMuZ3JhcGguZ2V0Q2VsbFN0eWxlKGEpLGw9bXhVdGlscy5nZXROdW1iZXIoayxteENvbnN0YW50cy5TVFlMRV9TVEFSVFNJWkUsbXhDb25zdGFudHMuREVGQVVMVF9TVEFSVFNJWkUpLGs9MT09bXhVdGlscy5nZXRWYWx1ZShrLG14Q29uc3RhbnRzLlNUWUxFX0hPUklaT05UQUwsCiEwKTtudWxsIT1iJiYobD1rP01hdGgubWluKGwsYi5oZWlnaHQpOk1hdGgubWluKGwsYi53aWR0aCkpO2M9PWsmJihlLT1sKTtrP2crPWw6Zis9bH1kLmJlZ2luVXBkYXRlKCk7dHJ5e2Zvcih2YXIgbD0wLGs9bnVsbCxtPTAsbj1udWxsLHA9dGhpcy5nZXRMYXlvdXRDZWxscyhhKSxxPTA7cTxwLmxlbmd0aDtxKyspe3ZhciByPXBbcV0sdD1kLmdldEdlb21ldHJ5KHIpO2lmKG51bGwhPXQpe3Q9dC5jbG9uZSgpO251bGwhPXRoaXMud3JhcCYmbnVsbCE9ayYmKGMmJmsueCtrLndpZHRoK3Qud2lkdGgrMip0aGlzLnNwYWNpbmc+dGhpcy53cmFwfHwhYyYmay55K2suaGVpZ2h0K3QuaGVpZ2h0KzIqdGhpcy5zcGFjaW5nPnRoaXMud3JhcCkmJihrPW51bGwsYz9nKz1sK3RoaXMuc3BhY2luZzpmKz1sK3RoaXMuc3BhY2luZyxsPTApO3ZhciBsPU1hdGgubWF4KGwsYz90LmhlaWdodDp0LndpZHRoKSx1PTA7aWYoIXRoaXMuYm9yZGVyQ29sbGFwc2UpdmFyIHg9dGhpcy5ncmFwaC5nZXRDZWxsU3R5bGUociksCnU9bXhVdGlscy5nZXROdW1iZXIoeCxteENvbnN0YW50cy5TVFlMRV9TVFJPS0VXSURUSCwxKTtpZihudWxsIT1rKXt2YXIgeT1tK3RoaXMuc3BhY2luZytNYXRoLmZsb29yKHUvMik7Yz90Lng9dGhpcy5zbmFwKCh0aGlzLmFsbG93R2Fwcz9NYXRoLm1heCh5LHQueCk6eSktdGhpcy5tYXJnaW5MZWZ0KSt0aGlzLm1hcmdpbkxlZnQ6dC55PXRoaXMuc25hcCgodGhpcy5hbGxvd0dhcHM/TWF0aC5tYXgoeSx0LnkpOnkpLXRoaXMubWFyZ2luVG9wKSt0aGlzLm1hcmdpblRvcH1lbHNlIHRoaXMua2VlcEZpcnN0TG9jYXRpb258fChjP3QueD10aGlzLmFsbG93R2FwcyYmdC54PmY/TWF0aC5tYXgodGhpcy5zbmFwKHQueC10aGlzLm1hcmdpbkxlZnQpK3RoaXMubWFyZ2luTGVmdCxmKTpmOnQueT10aGlzLmFsbG93R2FwcyYmdC55Pmc/TWF0aC5tYXgodGhpcy5zbmFwKHQueS10aGlzLm1hcmdpblRvcCkrdGhpcy5tYXJnaW5Ub3AsZyk6Zyk7Yz90Lnk9Zzp0Lng9Zjt0aGlzLmZpbGwmJm51bGwhPQplJiYoYz90LmhlaWdodD1lOnQud2lkdGg9ZSk7Yz90LndpZHRoPXRoaXMuc25hcCh0LndpZHRoKTp0LmhlaWdodD10aGlzLnNuYXAodC5oZWlnaHQpO3RoaXMuc2V0Q2hpbGRHZW9tZXRyeShyLHQpO249cjtrPXQ7bT1jP2sueCtrLndpZHRoK01hdGguZmxvb3IodS8yKTprLnkray5oZWlnaHQrTWF0aC5mbG9vcih1LzIpfX10aGlzLnJlc2l6ZVBhcmVudCYmbnVsbCE9YiYmbnVsbCE9ayYmIXRoaXMuZ3JhcGguaXNDZWxsQ29sbGFwc2VkKGEpP3RoaXMudXBkYXRlUGFyZW50R2VvbWV0cnkoYSxiLGspOnRoaXMucmVzaXplTGFzdCYmbnVsbCE9YiYmbnVsbCE9ayYmbnVsbCE9biYmKGM/ay53aWR0aD1iLndpZHRoLWsueC10aGlzLnNwYWNpbmctdGhpcy5tYXJnaW5SaWdodC10aGlzLm1hcmdpbkxlZnQ6ay5oZWlnaHQ9Yi5oZWlnaHQtay55LXRoaXMuc3BhY2luZy10aGlzLm1hcmdpbkJvdHRvbSx0aGlzLnNldENoaWxkR2VvbWV0cnkobixrKSl9ZmluYWxseXtkLmVuZFVwZGF0ZSgpfX19OwpteFN0YWNrTGF5b3V0LnByb3RvdHlwZS5zZXRDaGlsZEdlb21ldHJ5PWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5ncmFwaC5nZXRDZWxsR2VvbWV0cnkoYSk7bnVsbCE9YyYmYi54PT1jLngmJmIueT09Yy55JiZiLndpZHRoPT1jLndpZHRoJiZiLmhlaWdodD09Yy5oZWlnaHR8fHRoaXMuZ3JhcGguZ2V0TW9kZWwoKS5zZXRHZW9tZXRyeShhLGIpfTsKbXhTdGFja0xheW91dC5wcm90b3R5cGUudXBkYXRlUGFyZW50R2VvbWV0cnk9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXMuaXNIb3Jpem9udGFsKCksZT10aGlzLmdyYXBoLmdldE1vZGVsKCksZj1iLmNsb25lKCk7ZD8oYz1jLngrYy53aWR0aCt0aGlzLm1hcmdpblJpZ2h0K3RoaXMuYm9yZGVyLGYud2lkdGg9dGhpcy5yZXNpemVQYXJlbnRNYXg/TWF0aC5tYXgoZi53aWR0aCxjKTpjKTooYz1jLnkrYy5oZWlnaHQrdGhpcy5tYXJnaW5Cb3R0b20rdGhpcy5ib3JkZXIsZi5oZWlnaHQ9dGhpcy5yZXNpemVQYXJlbnRNYXg/TWF0aC5tYXgoZi5oZWlnaHQsYyk6Yyk7Yi54PT1mLngmJmIueT09Zi55JiZiLndpZHRoPT1mLndpZHRoJiZiLmhlaWdodD09Zi5oZWlnaHR8fGUuc2V0R2VvbWV0cnkoYSxmKX07CmZ1bmN0aW9uIG14UGFydGl0aW9uTGF5b3V0KGEsYixjLGQpe214R3JhcGhMYXlvdXQuY2FsbCh0aGlzLGEpO3RoaXMuaG9yaXpvbnRhbD1udWxsIT1iP2I6ITA7dGhpcy5zcGFjaW5nPWN8fDA7dGhpcy5ib3JkZXI9ZHx8MH1teFBhcnRpdGlvbkxheW91dC5wcm90b3R5cGU9bmV3IG14R3JhcGhMYXlvdXQ7bXhQYXJ0aXRpb25MYXlvdXQucHJvdG90eXBlLmNvbnN0cnVjdG9yPW14UGFydGl0aW9uTGF5b3V0O214UGFydGl0aW9uTGF5b3V0LnByb3RvdHlwZS5ob3Jpem9udGFsPW51bGw7bXhQYXJ0aXRpb25MYXlvdXQucHJvdG90eXBlLnNwYWNpbmc9bnVsbDtteFBhcnRpdGlvbkxheW91dC5wcm90b3R5cGUuYm9yZGVyPW51bGw7bXhQYXJ0aXRpb25MYXlvdXQucHJvdG90eXBlLnJlc2l6ZVZlcnRpY2VzPSEwO214UGFydGl0aW9uTGF5b3V0LnByb3RvdHlwZS5pc0hvcml6b250YWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ob3Jpem9udGFsfTsKbXhQYXJ0aXRpb25MYXlvdXQucHJvdG90eXBlLm1vdmVDZWxsPWZ1bmN0aW9uKGEsYixjKXtjPXRoaXMuZ3JhcGguZ2V0TW9kZWwoKTt2YXIgZD1jLmdldFBhcmVudChhKTtpZihudWxsIT1hJiZudWxsIT1kKXt2YXIgZSxmPTAsZz1jLmdldENoaWxkQ291bnQoZCk7Zm9yKGU9MDtlPGc7ZSsrKXt2YXIgaz1jLmdldENoaWxkQXQoZCxlKSxrPXRoaXMuZ2V0VmVydGV4Qm91bmRzKGspO2lmKG51bGwhPWspe2s9ay54K2sud2lkdGgvMjtpZihmPGImJms+YilicmVhaztmPWt9fWI9ZC5nZXRJbmRleChhKTtiPU1hdGgubWF4KDAsZS0oZT5iPzE6MCkpO2MuYWRkKGQsYSxiKX19OwpteFBhcnRpdGlvbkxheW91dC5wcm90b3R5cGUuZXhlY3V0ZT1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmlzSG9yaXpvbnRhbCgpLGM9dGhpcy5ncmFwaC5nZXRNb2RlbCgpLGQ9Yy5nZXRHZW9tZXRyeShhKTtudWxsIT10aGlzLmdyYXBoLmNvbnRhaW5lciYmKG51bGw9PWQmJmMuaXNMYXllcihhKXx8YT09dGhpcy5ncmFwaC5nZXRWaWV3KCkuY3VycmVudFJvb3QpJiYoZD1uZXcgbXhSZWN0YW5nbGUoMCwwLHRoaXMuZ3JhcGguY29udGFpbmVyLm9mZnNldFdpZHRoLTEsdGhpcy5ncmFwaC5jb250YWluZXIub2Zmc2V0SGVpZ2h0LTEpKTtpZihudWxsIT1kKXtmb3IodmFyIGU9W10sZj1jLmdldENoaWxkQ291bnQoYSksZz0wO2c8ZjtnKyspe3ZhciBrPWMuZ2V0Q2hpbGRBdChhLGcpOyF0aGlzLmlzVmVydGV4SWdub3JlZChrKSYmdGhpcy5pc1ZlcnRleE1vdmFibGUoaykmJmUucHVzaChrKX1mPWUubGVuZ3RoO2lmKDA8Zil7dmFyIGw9dGhpcy5ib3JkZXIsbT10aGlzLmJvcmRlcixuPWI/CmQuaGVpZ2h0OmQud2lkdGgsbj1uLTIqdGhpcy5ib3JkZXI7YT10aGlzLmdyYXBoLmlzU3dpbWxhbmUoYSk/dGhpcy5ncmFwaC5nZXRTdGFydFNpemUoYSk6bmV3IG14UmVjdGFuZ2xlO24tPWI/YS5oZWlnaHQ6YS53aWR0aDtsKz1hLndpZHRoO20rPWEuaGVpZ2h0O2E9dGhpcy5ib3JkZXIrKGYtMSkqdGhpcy5zcGFjaW5nO2Q9Yj8oZC53aWR0aC1sLWEpL2Y6KGQuaGVpZ2h0LW0tYSkvZjtpZigwPGQpe2MuYmVnaW5VcGRhdGUoKTt0cnl7Zm9yKGc9MDtnPGY7ZysrKXt2YXIgaz1lW2ddLHA9Yy5nZXRHZW9tZXRyeShrKTtudWxsIT1wJiYocD1wLmNsb25lKCkscC54PWwscC55PW0sYj8odGhpcy5yZXNpemVWZXJ0aWNlcyYmKHAud2lkdGg9ZCxwLmhlaWdodD1uKSxsKz1kK3RoaXMuc3BhY2luZyk6KHRoaXMucmVzaXplVmVydGljZXMmJihwLmhlaWdodD1kLHAud2lkdGg9biksbSs9ZCt0aGlzLnNwYWNpbmcpLGMuc2V0R2VvbWV0cnkoayxwKSl9fWZpbmFsbHl7Yy5lbmRVcGRhdGUoKX19fX19OwpmdW5jdGlvbiBteENvbXBhY3RUcmVlTGF5b3V0KGEsYixjKXtteEdyYXBoTGF5b3V0LmNhbGwodGhpcyxhKTt0aGlzLmhvcml6b250YWw9bnVsbCE9Yj9iOiEwO3RoaXMuaW52ZXJ0PW51bGwhPWM/YzohMX1teENvbXBhY3RUcmVlTGF5b3V0LnByb3RvdHlwZT1uZXcgbXhHcmFwaExheW91dDtteENvbXBhY3RUcmVlTGF5b3V0LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1teENvbXBhY3RUcmVlTGF5b3V0O214Q29tcGFjdFRyZWVMYXlvdXQucHJvdG90eXBlLmhvcml6b250YWw9bnVsbDtteENvbXBhY3RUcmVlTGF5b3V0LnByb3RvdHlwZS5pbnZlcnQ9bnVsbDtteENvbXBhY3RUcmVlTGF5b3V0LnByb3RvdHlwZS5yZXNpemVQYXJlbnQ9ITA7bXhDb21wYWN0VHJlZUxheW91dC5wcm90b3R5cGUubWFpbnRhaW5QYXJlbnRMb2NhdGlvbj0hMTtteENvbXBhY3RUcmVlTGF5b3V0LnByb3RvdHlwZS5ncm91cFBhZGRpbmc9MTA7Cm14Q29tcGFjdFRyZWVMYXlvdXQucHJvdG90eXBlLmdyb3VwUGFkZGluZ1RvcD0wO214Q29tcGFjdFRyZWVMYXlvdXQucHJvdG90eXBlLmdyb3VwUGFkZGluZ1JpZ2h0PTA7bXhDb21wYWN0VHJlZUxheW91dC5wcm90b3R5cGUuZ3JvdXBQYWRkaW5nQm90dG9tPTA7bXhDb21wYWN0VHJlZUxheW91dC5wcm90b3R5cGUuZ3JvdXBQYWRkaW5nTGVmdD0wO214Q29tcGFjdFRyZWVMYXlvdXQucHJvdG90eXBlLnBhcmVudHNDaGFuZ2VkPW51bGw7bXhDb21wYWN0VHJlZUxheW91dC5wcm90b3R5cGUubW92ZVRyZWU9ITE7bXhDb21wYWN0VHJlZUxheW91dC5wcm90b3R5cGUudmlzaXRlZD1udWxsO214Q29tcGFjdFRyZWVMYXlvdXQucHJvdG90eXBlLmxldmVsRGlzdGFuY2U9MTA7bXhDb21wYWN0VHJlZUxheW91dC5wcm90b3R5cGUubm9kZURpc3RhbmNlPTIwO214Q29tcGFjdFRyZWVMYXlvdXQucHJvdG90eXBlLnJlc2V0RWRnZXM9ITA7Cm14Q29tcGFjdFRyZWVMYXlvdXQucHJvdG90eXBlLnByZWZIb3pFZGdlU2VwPTU7bXhDb21wYWN0VHJlZUxheW91dC5wcm90b3R5cGUucHJlZlZlcnRFZGdlT2ZmPTQ7bXhDb21wYWN0VHJlZUxheW91dC5wcm90b3R5cGUubWluRWRnZUpldHR5PTg7bXhDb21wYWN0VHJlZUxheW91dC5wcm90b3R5cGUuY2hhbm5lbEJ1ZmZlcj00O214Q29tcGFjdFRyZWVMYXlvdXQucHJvdG90eXBlLmVkZ2VSb3V0aW5nPSEwO214Q29tcGFjdFRyZWVMYXlvdXQucHJvdG90eXBlLnNvcnRFZGdlcz0hMTtteENvbXBhY3RUcmVlTGF5b3V0LnByb3RvdHlwZS5hbGlnblJhbmtzPSExO214Q29tcGFjdFRyZWVMYXlvdXQucHJvdG90eXBlLm1heFJhbmtIZWlnaHQ9bnVsbDtteENvbXBhY3RUcmVlTGF5b3V0LnByb3RvdHlwZS5yb290PW51bGw7bXhDb21wYWN0VHJlZUxheW91dC5wcm90b3R5cGUubm9kZT1udWxsOwpteENvbXBhY3RUcmVlTGF5b3V0LnByb3RvdHlwZS5pc1ZlcnRleElnbm9yZWQ9ZnVuY3Rpb24oYSl7cmV0dXJuIG14R3JhcGhMYXlvdXQucHJvdG90eXBlLmlzVmVydGV4SWdub3JlZC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fDA9PXRoaXMuZ3JhcGguZ2V0Q29ubmVjdGlvbnMoYSkubGVuZ3RofTtteENvbXBhY3RUcmVlTGF5b3V0LnByb3RvdHlwZS5pc0hvcml6b250YWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ob3Jpem9udGFsfTsKbXhDb21wYWN0VHJlZUxheW91dC5wcm90b3R5cGUuZXhlY3V0ZT1mdW5jdGlvbihhLGIpe3RoaXMucGFyZW50PWE7dmFyIGM9dGhpcy5ncmFwaC5nZXRNb2RlbCgpO2lmKG51bGw9PWIpaWYoMDx0aGlzLmdyYXBoLmdldEVkZ2VzKGEsYy5nZXRQYXJlbnQoYSksdGhpcy5pbnZlcnQsIXRoaXMuaW52ZXJ0LCExKS5sZW5ndGgpdGhpcy5yb290PWE7ZWxzZXt2YXIgZD10aGlzLmdyYXBoLmZpbmRUcmVlUm9vdHMoYSwhMCx0aGlzLmludmVydCk7aWYoMDxkLmxlbmd0aClmb3IodmFyIGU9MDtlPGQubGVuZ3RoO2UrKylpZighdGhpcy5pc1ZlcnRleElnbm9yZWQoZFtlXSkmJjA8dGhpcy5ncmFwaC5nZXRFZGdlcyhkW2VdLG51bGwsdGhpcy5pbnZlcnQsIXRoaXMuaW52ZXJ0LCExKS5sZW5ndGgpe3RoaXMucm9vdD1kW2VdO2JyZWFrfX1lbHNlIHRoaXMucm9vdD1iO2lmKG51bGwhPXRoaXMucm9vdCl7dGhpcy5wYXJlbnRzQ2hhbmdlZD10aGlzLnJlc2l6ZVBhcmVudD97fTpudWxsO3RoaXMucGFyZW50WT0KdGhpcy5wYXJlbnRYPW51bGw7aWYoYSE9dGhpcy5yb290JiZudWxsIT1jLmlzVmVydGV4KGEpJiZ0aGlzLm1haW50YWluUGFyZW50TG9jYXRpb24pe3ZhciBmPXRoaXMuZ3JhcGguZ2V0Q2VsbEdlb21ldHJ5KGEpO251bGwhPWYmJih0aGlzLnBhcmVudFg9Zi54LHRoaXMucGFyZW50WT1mLnkpfWMuYmVnaW5VcGRhdGUoKTt0cnl7aWYodGhpcy52aXNpdGVkPXt9LHRoaXMubm9kZT10aGlzLmRmcyh0aGlzLnJvb3QsYSksdGhpcy5hbGlnblJhbmtzJiYodGhpcy5tYXhSYW5rSGVpZ2h0PVtdLHRoaXMuZmluZFJhbmtIZWlnaHRzKHRoaXMubm9kZSwwKSx0aGlzLnNldENlbGxIZWlnaHRzKHRoaXMubm9kZSwwKSksbnVsbCE9dGhpcy5ub2RlKXt0aGlzLmxheW91dCh0aGlzLm5vZGUpO3ZhciBnPXRoaXMuZ3JhcGguZ3JpZFNpemUsZD1nO2lmKCF0aGlzLm1vdmVUcmVlKXt2YXIgaz10aGlzLmdldFZlcnRleEJvdW5kcyh0aGlzLnJvb3QpO251bGwhPWsmJihnPWsueCxkPWsueSl9az1udWxsOwprPXRoaXMuaXNIb3Jpem9udGFsKCk/dGhpcy5ob3Jpem9udGFsTGF5b3V0KHRoaXMubm9kZSxnLGQpOnRoaXMudmVydGljYWxMYXlvdXQodGhpcy5ub2RlLG51bGwsZyxkKTtpZihudWxsIT1rKXt2YXIgbD1lPTA7MD5rLngmJihlPU1hdGguYWJzKGctay54KSk7MD5rLnkmJihsPU1hdGguYWJzKGQtay55KSk7MD09ZSYmMD09bHx8dGhpcy5tb3ZlTm9kZSh0aGlzLm5vZGUsZSxsKTt0aGlzLnJlc2l6ZVBhcmVudCYmdGhpcy5hZGp1c3RQYXJlbnRzKCk7dGhpcy5lZGdlUm91dGluZyYmdGhpcy5sb2NhbEVkZ2VQcm9jZXNzaW5nKHRoaXMubm9kZSl9bnVsbCE9dGhpcy5wYXJlbnRYJiZudWxsIT10aGlzLnBhcmVudFkmJihmPXRoaXMuZ3JhcGguZ2V0Q2VsbEdlb21ldHJ5KGEpLG51bGwhPWYmJihmPWYuY2xvbmUoKSxmLng9dGhpcy5wYXJlbnRYLGYueT10aGlzLnBhcmVudFksYy5zZXRHZW9tZXRyeShhLGYpKSl9fWZpbmFsbHl7Yy5lbmRVcGRhdGUoKX19fTsKbXhDb21wYWN0VHJlZUxheW91dC5wcm90b3R5cGUubW92ZU5vZGU9ZnVuY3Rpb24oYSxiLGMpe2EueCs9YjthLnkrPWM7dGhpcy5hcHBseShhKTtmb3IoYT1hLmNoaWxkO251bGwhPWE7KXRoaXMubW92ZU5vZGUoYSxiLGMpLGE9YS5uZXh0fTsKbXhDb21wYWN0VHJlZUxheW91dC5wcm90b3R5cGUuc29ydE91dGdvaW5nRWRnZXM9ZnVuY3Rpb24oYSxiKXt2YXIgYz1uZXcgbXhEaWN0aW9uYXJ5O2Iuc29ydChmdW5jdGlvbihiLGUpe3ZhciBkPWIuZ2V0VGVybWluYWwoYi5nZXRUZXJtaW5hbCghMSk9PWEpLGc9Yy5nZXQoZCk7bnVsbD09ZyYmKGc9bXhDZWxsUGF0aC5jcmVhdGUoZCkuc3BsaXQobXhDZWxsUGF0aC5QQVRIX1NFUEFSQVRPUiksYy5wdXQoZCxnKSk7dmFyIGQ9ZS5nZXRUZXJtaW5hbChlLmdldFRlcm1pbmFsKCExKT09YSksaz1jLmdldChkKTtudWxsPT1rJiYoaz1teENlbGxQYXRoLmNyZWF0ZShkKS5zcGxpdChteENlbGxQYXRoLlBBVEhfU0VQQVJBVE9SKSxjLnB1dChkLGspKTtyZXR1cm4gbXhDZWxsUGF0aC5jb21wYXJlKGcsayl9KX07Cm14Q29tcGFjdFRyZWVMYXlvdXQucHJvdG90eXBlLmZpbmRSYW5rSGVpZ2h0cz1mdW5jdGlvbihhLGIpe2lmKG51bGw9PXRoaXMubWF4UmFua0hlaWdodFtiXXx8dGhpcy5tYXhSYW5rSGVpZ2h0W2JdPGEuaGVpZ2h0KXRoaXMubWF4UmFua0hlaWdodFtiXT1hLmhlaWdodDtmb3IodmFyIGM9YS5jaGlsZDtudWxsIT1jOyl0aGlzLmZpbmRSYW5rSGVpZ2h0cyhjLGIrMSksYz1jLm5leHR9O214Q29tcGFjdFRyZWVMYXlvdXQucHJvdG90eXBlLnNldENlbGxIZWlnaHRzPWZ1bmN0aW9uKGEsYil7bnVsbCE9dGhpcy5tYXhSYW5rSGVpZ2h0W2JdJiZ0aGlzLm1heFJhbmtIZWlnaHRbYl0+YS5oZWlnaHQmJihhLmhlaWdodD10aGlzLm1heFJhbmtIZWlnaHRbYl0pO2Zvcih2YXIgYz1hLmNoaWxkO251bGwhPWM7KXRoaXMuc2V0Q2VsbEhlaWdodHMoYyxiKzEpLGM9Yy5uZXh0fTsKbXhDb21wYWN0VHJlZUxheW91dC5wcm90b3R5cGUuZGZzPWZ1bmN0aW9uKGEsYil7dmFyIGM9bXhDZWxsUGF0aC5jcmVhdGUoYSksZD1udWxsO2lmKG51bGwhPWEmJm51bGw9PXRoaXMudmlzaXRlZFtjXSYmIXRoaXMuaXNWZXJ0ZXhJZ25vcmVkKGEpKXt0aGlzLnZpc2l0ZWRbY109YTt2YXIgZD10aGlzLmNyZWF0ZU5vZGUoYSksYz10aGlzLmdyYXBoLmdldE1vZGVsKCksZT1udWxsLGY9dGhpcy5ncmFwaC5nZXRFZGdlcyhhLGIsdGhpcy5pbnZlcnQsIXRoaXMuaW52ZXJ0LCExLCEwKSxnPXRoaXMuZ3JhcGguZ2V0VmlldygpO3RoaXMuc29ydEVkZ2VzJiZ0aGlzLnNvcnRPdXRnb2luZ0VkZ2VzKGEsZik7Zm9yKHZhciBrPTA7azxmLmxlbmd0aDtrKyspe3ZhciBsPWZba107aWYoIXRoaXMuaXNFZGdlSWdub3JlZChsKSl7dGhpcy5yZXNldEVkZ2VzJiZ0aGlzLnNldEVkZ2VQb2ludHMobCxudWxsKTt0aGlzLmVkZ2VSb3V0aW5nJiYodGhpcy5zZXRFZGdlU3R5bGVFbmFibGVkKGwsITEpLAp0aGlzLnNldEVkZ2VQb2ludHMobCxudWxsKSk7dmFyIG09Zy5nZXRTdGF0ZShsKSxsPW51bGwhPW0/bS5nZXRWaXNpYmxlVGVybWluYWwodGhpcy5pbnZlcnQpOmcuZ2V0VmlzaWJsZVRlcm1pbmFsKGwsdGhpcy5pbnZlcnQpLG09dGhpcy5kZnMobCxiKTtudWxsIT1tJiZudWxsIT1jLmdldEdlb21ldHJ5KGwpJiYobnVsbD09ZT9kLmNoaWxkPW06ZS5uZXh0PW0sZT1tKX19fXJldHVybiBkfTtteENvbXBhY3RUcmVlTGF5b3V0LnByb3RvdHlwZS5sYXlvdXQ9ZnVuY3Rpb24oYSl7aWYobnVsbCE9YSl7Zm9yKHZhciBiPWEuY2hpbGQ7bnVsbCE9YjspdGhpcy5sYXlvdXQoYiksYj1iLm5leHQ7bnVsbCE9YS5jaGlsZD90aGlzLmF0dGFjaFBhcmVudChhLHRoaXMuam9pbihhKSk6dGhpcy5sYXlvdXRMZWFmKGEpfX07Cm14Q29tcGFjdFRyZWVMYXlvdXQucHJvdG90eXBlLmhvcml6b250YWxMYXlvdXQ9ZnVuY3Rpb24oYSxiLGMsZCl7YS54Kz1iK2Eub2Zmc2V0WDthLnkrPWMrYS5vZmZzZXRZO2Q9dGhpcy5hcHBseShhLGQpO2I9YS5jaGlsZDtpZihudWxsIT1iKXtkPXRoaXMuaG9yaXpvbnRhbExheW91dChiLGEueCxhLnksZCk7Yz1hLnkrYi5vZmZzZXRZO2Zvcih2YXIgZT1iLm5leHQ7bnVsbCE9ZTspZD10aGlzLmhvcml6b250YWxMYXlvdXQoZSxhLngrYi5vZmZzZXRYLGMsZCksYys9ZS5vZmZzZXRZLGU9ZS5uZXh0fXJldHVybiBkfTsKbXhDb21wYWN0VHJlZUxheW91dC5wcm90b3R5cGUudmVydGljYWxMYXlvdXQ9ZnVuY3Rpb24oYSxiLGMsZCxlKXthLngrPWMrYS5vZmZzZXRZO2EueSs9ZCthLm9mZnNldFg7ZT10aGlzLmFwcGx5KGEsZSk7Yj1hLmNoaWxkO2lmKG51bGwhPWIpZm9yKGU9dGhpcy52ZXJ0aWNhbExheW91dChiLGEsYS54LGEueSxlKSxjPWEueCtiLm9mZnNldFksZD1iLm5leHQ7bnVsbCE9ZDspZT10aGlzLnZlcnRpY2FsTGF5b3V0KGQsYSxjLGEueStiLm9mZnNldFgsZSksYys9ZC5vZmZzZXRZLGQ9ZC5uZXh0O3JldHVybiBlfTsKbXhDb21wYWN0VHJlZUxheW91dC5wcm90b3R5cGUuYXR0YWNoUGFyZW50PWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5ub2RlRGlzdGFuY2UrdGhpcy5sZXZlbERpc3RhbmNlLGQ9KGItYS53aWR0aCkvMi10aGlzLm5vZGVEaXN0YW5jZSxlPWQrYS53aWR0aCsyKnRoaXMubm9kZURpc3RhbmNlLWI7YS5jaGlsZC5vZmZzZXRYPWMrYS5oZWlnaHQ7YS5jaGlsZC5vZmZzZXRZPWU7YS5jb250b3VyLnVwcGVySGVhZD10aGlzLmNyZWF0ZUxpbmUoYS5oZWlnaHQsMCx0aGlzLmNyZWF0ZUxpbmUoYyxlLGEuY29udG91ci51cHBlckhlYWQpKTthLmNvbnRvdXIubG93ZXJIZWFkPXRoaXMuY3JlYXRlTGluZShhLmhlaWdodCwwLHRoaXMuY3JlYXRlTGluZShjLGQsYS5jb250b3VyLmxvd2VySGVhZCkpfTsKbXhDb21wYWN0VHJlZUxheW91dC5wcm90b3R5cGUubGF5b3V0TGVhZj1mdW5jdGlvbihhKXt2YXIgYj0yKnRoaXMubm9kZURpc3RhbmNlO2EuY29udG91ci51cHBlclRhaWw9dGhpcy5jcmVhdGVMaW5lKGEuaGVpZ2h0K2IsMCk7YS5jb250b3VyLnVwcGVySGVhZD1hLmNvbnRvdXIudXBwZXJUYWlsO2EuY29udG91ci5sb3dlclRhaWw9dGhpcy5jcmVhdGVMaW5lKDAsLWEud2lkdGgtYik7YS5jb250b3VyLmxvd2VySGVhZD10aGlzLmNyZWF0ZUxpbmUoYS5oZWlnaHQrYiwwLGEuY29udG91ci5sb3dlclRhaWwpfTsKbXhDb21wYWN0VHJlZUxheW91dC5wcm90b3R5cGUuam9pbj1mdW5jdGlvbihhKXt2YXIgYj0yKnRoaXMubm9kZURpc3RhbmNlLGM9YS5jaGlsZDthLmNvbnRvdXI9Yy5jb250b3VyO2Zvcih2YXIgZD1jLndpZHRoK2IsZT1kLGM9Yy5uZXh0O251bGwhPWM7KXt2YXIgZj10aGlzLm1lcmdlKGEuY29udG91cixjLmNvbnRvdXIpO2Mub2Zmc2V0WT1mK2Q7Yy5vZmZzZXRYPTA7ZD1jLndpZHRoK2I7ZSs9ZitkO2M9Yy5uZXh0fXJldHVybiBlfTsKbXhDb21wYWN0VHJlZUxheW91dC5wcm90b3R5cGUubWVyZ2U9ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9MCxkPTAsZT0wLGY9YS5sb3dlckhlYWQsZz1iLnVwcGVySGVhZDtudWxsIT1nJiZudWxsIT1mOyl7dmFyIGs9dGhpcy5vZmZzZXQoYyxkLGcuZHgsZy5keSxmLmR4LGYuZHkpLGQ9ZCtrLGU9ZStrO2MrZy5keDw9Zi5keD8oYys9Zy5keCxkKz1nLmR5LGc9Zy5uZXh0KTooYy09Zi5keCxkLT1mLmR5LGY9Zi5uZXh0KX1udWxsIT1nPyhjPXRoaXMuYnJpZGdlKGEudXBwZXJUYWlsLDAsMCxnLGMsZCksYS51cHBlclRhaWw9bnVsbCE9Yy5uZXh0P2IudXBwZXJUYWlsOmMsYS5sb3dlclRhaWw9Yi5sb3dlclRhaWwpOihjPXRoaXMuYnJpZGdlKGIubG93ZXJUYWlsLGMsZCxmLDAsMCksbnVsbD09Yy5uZXh0JiYoYS5sb3dlclRhaWw9YykpO2EubG93ZXJIZWFkPWIubG93ZXJIZWFkO3JldHVybiBlfTsKbXhDb21wYWN0VHJlZUxheW91dC5wcm90b3R5cGUub2Zmc2V0PWZ1bmN0aW9uKGEsYixjLGQsZSxmKXtpZihlPD1hfHwwPj1hK2MpcmV0dXJuIDA7YT0wPGUqZC1jKmY/MD5hP2EqZC9jLWI6MDxhP2EqZi9lLWI6LWI6ZTxhK2M/Zi0oYisoZS1hKSpkL2MpOmU+YStjPyhjK2EpKmYvZS0oYitkKTpmLShiK2QpO3JldHVybiAwPGE/YTowfTtteENvbXBhY3RUcmVlTGF5b3V0LnByb3RvdHlwZS5icmlkZ2U9ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe2I9ZStkLmR4LWI7MD09ZC5keD9lPWQuZHk6KGU9YipkLmR5LGUvPWQuZHgpO2I9dGhpcy5jcmVhdGVMaW5lKGIsZSxkLm5leHQpO2EubmV4dD10aGlzLmNyZWF0ZUxpbmUoMCxmK2QuZHktZS1jLGIpO3JldHVybiBifTsKbXhDb21wYWN0VHJlZUxheW91dC5wcm90b3R5cGUuY3JlYXRlTm9kZT1mdW5jdGlvbihhKXt2YXIgYj17fTtiLmNlbGw9YTtiLng9MDtiLnk9MDtiLndpZHRoPTA7Yi5oZWlnaHQ9MDthPXRoaXMuZ2V0VmVydGV4Qm91bmRzKGEpO251bGwhPWEmJih0aGlzLmlzSG9yaXpvbnRhbCgpPyhiLndpZHRoPWEuaGVpZ2h0LGIuaGVpZ2h0PWEud2lkdGgpOihiLndpZHRoPWEud2lkdGgsYi5oZWlnaHQ9YS5oZWlnaHQpKTtiLm9mZnNldFg9MDtiLm9mZnNldFk9MDtiLmNvbnRvdXI9e307cmV0dXJuIGJ9OwpteENvbXBhY3RUcmVlTGF5b3V0LnByb3RvdHlwZS5hcHBseT1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZ3JhcGguZ2V0TW9kZWwoKSxkPWEuY2VsbCxlPWMuZ2V0R2VvbWV0cnkoZCk7bnVsbCE9ZCYmbnVsbCE9ZSYmKHRoaXMuaXNWZXJ0ZXhNb3ZhYmxlKGQpJiYoZT10aGlzLnNldFZlcnRleExvY2F0aW9uKGQsYS54LGEueSksdGhpcy5yZXNpemVQYXJlbnQmJihjPWMuZ2V0UGFyZW50KGQpLGQ9bXhDZWxsUGF0aC5jcmVhdGUoYyksbnVsbD09dGhpcy5wYXJlbnRzQ2hhbmdlZFtkXSYmKHRoaXMucGFyZW50c0NoYW5nZWRbZF09YykpKSxiPW51bGw9PWI/bmV3IG14UmVjdGFuZ2xlKGUueCxlLnksZS53aWR0aCxlLmhlaWdodCk6bmV3IG14UmVjdGFuZ2xlKE1hdGgubWluKGIueCxlLngpLE1hdGgubWluKGIueSxlLnkpLE1hdGgubWF4KGIueCtiLndpZHRoLGUueCtlLndpZHRoKSxNYXRoLm1heChiLnkrYi5oZWlnaHQsZS55K2UuaGVpZ2h0KSkpO3JldHVybiBifTsKbXhDb21wYWN0VHJlZUxheW91dC5wcm90b3R5cGUuY3JlYXRlTGluZT1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9e307ZC5keD1hO2QuZHk9YjtkLm5leHQ9YztyZXR1cm4gZH07bXhDb21wYWN0VHJlZUxheW91dC5wcm90b3R5cGUuYWRqdXN0UGFyZW50cz1mdW5jdGlvbigpe3ZhciBhPVtdLGI7Zm9yKGIgaW4gdGhpcy5wYXJlbnRzQ2hhbmdlZClhLnB1c2godGhpcy5wYXJlbnRzQ2hhbmdlZFtiXSk7dGhpcy5hcnJhbmdlR3JvdXBzKG14VXRpbHMuc29ydENlbGxzKGEsITApLHRoaXMuZ3JvdXBQYWRkaW5nLHRoaXMuZ3JvdXBQYWRkaW5nVG9wLHRoaXMuZ3JvdXBQYWRkaW5nUmlnaHQsdGhpcy5ncm91cFBhZGRpbmdCb3R0b20sdGhpcy5ncm91cFBhZGRpbmdMZWZ0KX07Cm14Q29tcGFjdFRyZWVMYXlvdXQucHJvdG90eXBlLmxvY2FsRWRnZVByb2Nlc3Npbmc9ZnVuY3Rpb24oYSl7dGhpcy5wcm9jZXNzTm9kZU91dGdvaW5nKGEpO2ZvcihhPWEuY2hpbGQ7bnVsbCE9YTspdGhpcy5sb2NhbEVkZ2VQcm9jZXNzaW5nKGEpLGE9YS5uZXh0fTsKbXhDb21wYWN0VHJlZUxheW91dC5wcm90b3R5cGUucHJvY2Vzc05vZGVPdXRnb2luZz1mdW5jdGlvbihhKXtmb3IodmFyIGI9YS5jaGlsZCxjPWEuY2VsbCxkPTAsZT1bXTtudWxsIT1iOyl7ZCsrO3ZhciBmPWIueDt0aGlzLmhvcml6b250YWwmJihmPWIueSk7ZS5wdXNoKG5ldyBXZWlnaHRlZENlbGxTb3J0ZXIoYixmKSk7Yj1iLm5leHR9ZS5zb3J0KFdlaWdodGVkQ2VsbFNvcnRlci5wcm90b3R5cGUuY29tcGFyZSk7dmFyIGY9YS53aWR0aCxnPShkKzEpKnRoaXMucHJlZkhvekVkZ2VTZXA7Zj5nKzIqdGhpcy5wcmVmSG96RWRnZVNlcCYmKGYtPTIqdGhpcy5wcmVmSG96RWRnZVNlcCk7YT1mL2Q7Yj1hLzI7Zj5nKzIqdGhpcy5wcmVmSG96RWRnZVNlcCYmKGIrPXRoaXMucHJlZkhvekVkZ2VTZXApO2Zvcih2YXIgZj10aGlzLm1pbkVkZ2VKZXR0eS10aGlzLnByZWZWZXJ0RWRnZU9mZixnPXRoaXMuZ2V0VmVydGV4Qm91bmRzKGMpLGs9MDtrPGUubGVuZ3RoO2srKyl7Zm9yKHZhciBsPQplW2tdLmNlbGwuY2VsbCxtPXRoaXMuZ2V0VmVydGV4Qm91bmRzKGwpLGw9dGhpcy5ncmFwaC5nZXRFZGdlc0JldHdlZW4oYyxsLCExKSxuPVtdLHAscSxyPTA7cjxsLmxlbmd0aDtyKyspdGhpcy5ob3Jpem9udGFsPyhwPWcueCtnLndpZHRoLHE9Zy55K2Isbi5wdXNoKG5ldyBteFBvaW50KHAscSkpLHA9Zy54K2cud2lkdGgrZixuLnB1c2gobmV3IG14UG9pbnQocCxxKSkscT1tLnkrbS5oZWlnaHQvMik6KHA9Zy54K2IscT1nLnkrZy5oZWlnaHQsbi5wdXNoKG5ldyBteFBvaW50KHAscSkpLHE9Zy55K2cuaGVpZ2h0K2Ysbi5wdXNoKG5ldyBteFBvaW50KHAscSkpLHA9bS54K20ud2lkdGgvMiksbi5wdXNoKG5ldyBteFBvaW50KHAscSkpLHRoaXMuc2V0RWRnZVBvaW50cyhsW3JdLG4pO2s8ZC8yP2YrPXRoaXMucHJlZlZlcnRFZGdlT2ZmOms+ZC8yJiYoZi09dGhpcy5wcmVmVmVydEVkZ2VPZmYpO2IrPWF9fTsKZnVuY3Rpb24gbXhSYWRpYWxUcmVlTGF5b3V0KGEpe214Q29tcGFjdFRyZWVMYXlvdXQuY2FsbCh0aGlzLGEsITEpfW14VXRpbHMuZXh0ZW5kKG14UmFkaWFsVHJlZUxheW91dCxteENvbXBhY3RUcmVlTGF5b3V0KTtteFJhZGlhbFRyZWVMYXlvdXQucHJvdG90eXBlLmFuZ2xlT2Zmc2V0PS41O214UmFkaWFsVHJlZUxheW91dC5wcm90b3R5cGUucm9vdHg9MDtteFJhZGlhbFRyZWVMYXlvdXQucHJvdG90eXBlLnJvb3R5PTA7bXhSYWRpYWxUcmVlTGF5b3V0LnByb3RvdHlwZS5sZXZlbERpc3RhbmNlPTEyMDtteFJhZGlhbFRyZWVMYXlvdXQucHJvdG90eXBlLm5vZGVEaXN0YW5jZT0xMDtteFJhZGlhbFRyZWVMYXlvdXQucHJvdG90eXBlLmF1dG9SYWRpdXM9ITE7bXhSYWRpYWxUcmVlTGF5b3V0LnByb3RvdHlwZS5zb3J0RWRnZXM9ITE7bXhSYWRpYWxUcmVlTGF5b3V0LnByb3RvdHlwZS5yb3dNaW5YPVtdO214UmFkaWFsVHJlZUxheW91dC5wcm90b3R5cGUucm93TWF4WD1bXTsKbXhSYWRpYWxUcmVlTGF5b3V0LnByb3RvdHlwZS5yb3dNaW5DZW5YPVtdO214UmFkaWFsVHJlZUxheW91dC5wcm90b3R5cGUucm93TWF4Q2VuWD1bXTtteFJhZGlhbFRyZWVMYXlvdXQucHJvdG90eXBlLnJvd1JhZGk9W107bXhSYWRpYWxUcmVlTGF5b3V0LnByb3RvdHlwZS5yb3c9W107bXhSYWRpYWxUcmVlTGF5b3V0LnByb3RvdHlwZS5pc1ZlcnRleElnbm9yZWQ9ZnVuY3Rpb24oYSl7cmV0dXJuIG14R3JhcGhMYXlvdXQucHJvdG90eXBlLmlzVmVydGV4SWdub3JlZC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fDA9PXRoaXMuZ3JhcGguZ2V0Q29ubmVjdGlvbnMoYSkubGVuZ3RofTsKbXhSYWRpYWxUcmVlTGF5b3V0LnByb3RvdHlwZS5leGVjdXRlPWZ1bmN0aW9uKGEsYil7dGhpcy5wYXJlbnQ9YTt0aGlzLmVkZ2VSb3V0aW5nPXRoaXMudXNlQm91bmRpbmdCb3g9ITE7bXhDb21wYWN0VHJlZUxheW91dC5wcm90b3R5cGUuZXhlY3V0ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dmFyIGM9bnVsbCxkPXRoaXMuZ2V0VmVydGV4Qm91bmRzKHRoaXMucm9vdCk7dGhpcy5jZW50ZXJYPWQueCtkLndpZHRoLzI7dGhpcy5jZW50ZXJZPWQueStkLmhlaWdodC8yO2Zvcih2YXIgZSBpbiB0aGlzLnZpc2l0ZWQpe3ZhciBmPXRoaXMuZ2V0VmVydGV4Qm91bmRzKHRoaXMudmlzaXRlZFtlXSksYz1udWxsIT1jP2M6Zi5jbG9uZSgpO2MuYWRkKGYpfXRoaXMuY2FsY1Jvd0RpbXMoW3RoaXMubm9kZV0sMCk7Zm9yKHZhciBnPTAsaz0wLGM9MDtjPHRoaXMucm93Lmxlbmd0aDtjKyspZT0odGhpcy5yb3dNYXhYW2NdLXRoaXMuY2VudGVyWC10aGlzLm5vZGVEaXN0YW5jZSkvdGhpcy5yb3dSYWRpW2NdLApnPU1hdGgubWF4KGcsKHRoaXMuY2VudGVyWC10aGlzLnJvd01pblhbY10tdGhpcy5ub2RlRGlzdGFuY2UpL3RoaXMucm93UmFkaVtjXSksaz1NYXRoLm1heChrLGUpO2ZvcihjPTA7Yzx0aGlzLnJvdy5sZW5ndGg7YysrKXt2YXIgbD10aGlzLmNlbnRlclgtdGhpcy5ub2RlRGlzdGFuY2UtZyp0aGlzLnJvd1JhZGlbY10sbT10aGlzLmNlbnRlclgrdGhpcy5ub2RlRGlzdGFuY2Urayp0aGlzLnJvd1JhZGlbY10tbDtmb3IoZT0wO2U8dGhpcy5yb3dbY10ubGVuZ3RoO2UrKylmPXRoaXMucm93W2NdLGQ9ZltlXSxmPXRoaXMuZ2V0VmVydGV4Qm91bmRzKGQuY2VsbCksZC50aGV0YT0oZi54K2Yud2lkdGgvMi1sKS9tKk1hdGguUEkqMn1mb3IoYz10aGlzLnJvdy5sZW5ndGgtMjswPD1jO2MtLSlmb3IoZj10aGlzLnJvd1tjXSxlPTA7ZTxmLmxlbmd0aDtlKyspe2Q9ZltlXTtnPWQuY2hpbGQ7Zm9yKGw9az0wO251bGwhPWc7KWwrPWcudGhldGEsaysrLGc9Zy5uZXh0OzA8ayYmKGc9bC9rLGc+CmQudGhldGEmJmU8Zi5sZW5ndGgtMT9kLnRoZXRhPU1hdGgubWluKGcsZltlKzFdLnRoZXRhLU1hdGguUEkvMTApOmc8ZC50aGV0YSYmMDxlJiYoZC50aGV0YT1NYXRoLm1heChnLGZbZS0xXS50aGV0YStNYXRoLlBJLzEwKSkpfWZvcihjPTA7Yzx0aGlzLnJvdy5sZW5ndGg7YysrKWZvcihlPTA7ZTx0aGlzLnJvd1tjXS5sZW5ndGg7ZSsrKWY9dGhpcy5yb3dbY10sZD1mW2VdLGY9dGhpcy5nZXRWZXJ0ZXhCb3VuZHMoZC5jZWxsKSx0aGlzLnNldFZlcnRleExvY2F0aW9uKGQuY2VsbCx0aGlzLmNlbnRlclgtZi53aWR0aC8yK3RoaXMucm93UmFkaVtjXSpNYXRoLmNvcyhkLnRoZXRhKSx0aGlzLmNlbnRlclktZi5oZWlnaHQvMit0aGlzLnJvd1JhZGlbY10qTWF0aC5zaW4oZC50aGV0YSkpfTsKbXhSYWRpYWxUcmVlTGF5b3V0LnByb3RvdHlwZS5jYWxjUm93RGltcz1mdW5jdGlvbihhLGIpe2lmKG51bGwhPWEmJjAhPWEubGVuZ3RoKXt0aGlzLnJvd01pblhbYl09dGhpcy5jZW50ZXJYO3RoaXMucm93TWF4WFtiXT10aGlzLmNlbnRlclg7dGhpcy5yb3dNaW5DZW5YW2JdPXRoaXMuY2VudGVyWDt0aGlzLnJvd01heENlblhbYl09dGhpcy5jZW50ZXJYO3RoaXMucm93W2JdPVtdO2Zvcih2YXIgYz0hMSxkPTA7ZDxhLmxlbmd0aDtkKyspZm9yKHZhciBlPW51bGwhPWFbZF0/YVtkXS5jaGlsZDpudWxsO251bGwhPWU7KXt2YXIgZj10aGlzLmdldFZlcnRleEJvdW5kcyhlLmNlbGwpO3RoaXMucm93TWluWFtiXT1NYXRoLm1pbihmLngsdGhpcy5yb3dNaW5YW2JdKTt0aGlzLnJvd01heFhbYl09TWF0aC5tYXgoZi54K2Yud2lkdGgsdGhpcy5yb3dNYXhYW2JdKTt0aGlzLnJvd01pbkNlblhbYl09TWF0aC5taW4oZi54K2Yud2lkdGgvMix0aGlzLnJvd01pbkNlblhbYl0pO3RoaXMucm93TWF4Q2VuWFtiXT0KTWF0aC5tYXgoZi54K2Yud2lkdGgvMix0aGlzLnJvd01heENlblhbYl0pO3RoaXMucm93UmFkaVtiXT1mLnktdGhpcy5nZXRWZXJ0ZXhCb3VuZHModGhpcy5yb290KS55O251bGwhPWUuY2hpbGQmJihjPSEwKTt0aGlzLnJvd1tiXS5wdXNoKGUpO2U9ZS5uZXh0fWMmJnRoaXMuY2FsY1Jvd0RpbXModGhpcy5yb3dbYl0sYisxKX19O2Z1bmN0aW9uIG14RmFzdE9yZ2FuaWNMYXlvdXQoYSl7bXhHcmFwaExheW91dC5jYWxsKHRoaXMsYSl9bXhGYXN0T3JnYW5pY0xheW91dC5wcm90b3R5cGU9bmV3IG14R3JhcGhMYXlvdXQ7bXhGYXN0T3JnYW5pY0xheW91dC5wcm90b3R5cGUuY29uc3RydWN0b3I9bXhGYXN0T3JnYW5pY0xheW91dDtteEZhc3RPcmdhbmljTGF5b3V0LnByb3RvdHlwZS51c2VJbnB1dE9yaWdpbj0hMDtteEZhc3RPcmdhbmljTGF5b3V0LnByb3RvdHlwZS5yZXNldEVkZ2VzPSEwO214RmFzdE9yZ2FuaWNMYXlvdXQucHJvdG90eXBlLmRpc2FibGVFZGdlU3R5bGU9ITA7Cm14RmFzdE9yZ2FuaWNMYXlvdXQucHJvdG90eXBlLmZvcmNlQ29uc3RhbnQ9NTA7bXhGYXN0T3JnYW5pY0xheW91dC5wcm90b3R5cGUuZm9yY2VDb25zdGFudFNxdWFyZWQ9MDtteEZhc3RPcmdhbmljTGF5b3V0LnByb3RvdHlwZS5taW5EaXN0YW5jZUxpbWl0PTI7bXhGYXN0T3JnYW5pY0xheW91dC5wcm90b3R5cGUubWF4RGlzdGFuY2VMaW1pdD01MDA7bXhGYXN0T3JnYW5pY0xheW91dC5wcm90b3R5cGUubWluRGlzdGFuY2VMaW1pdFNxdWFyZWQ9NDtteEZhc3RPcmdhbmljTGF5b3V0LnByb3RvdHlwZS5pbml0aWFsVGVtcD0yMDA7bXhGYXN0T3JnYW5pY0xheW91dC5wcm90b3R5cGUudGVtcGVyYXR1cmU9MDtteEZhc3RPcmdhbmljTGF5b3V0LnByb3RvdHlwZS5tYXhJdGVyYXRpb25zPTA7bXhGYXN0T3JnYW5pY0xheW91dC5wcm90b3R5cGUuaXRlcmF0aW9uPTA7bXhGYXN0T3JnYW5pY0xheW91dC5wcm90b3R5cGUuYWxsb3dlZFRvUnVuPSEwOwpteEZhc3RPcmdhbmljTGF5b3V0LnByb3RvdHlwZS5pc1ZlcnRleElnbm9yZWQ9ZnVuY3Rpb24oYSl7cmV0dXJuIG14R3JhcGhMYXlvdXQucHJvdG90eXBlLmlzVmVydGV4SWdub3JlZC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fDA9PXRoaXMuZ3JhcGguZ2V0Q29ubmVjdGlvbnMoYSkubGVuZ3RofTsKbXhGYXN0T3JnYW5pY0xheW91dC5wcm90b3R5cGUuZXhlY3V0ZT1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmdyYXBoLmdldE1vZGVsKCk7dGhpcy52ZXJ0ZXhBcnJheT1bXTtmb3IodmFyIGM9dGhpcy5ncmFwaC5nZXRDaGlsZFZlcnRpY2VzKGEpLGQ9MDtkPGMubGVuZ3RoO2QrKyl0aGlzLmlzVmVydGV4SWdub3JlZChjW2RdKXx8dGhpcy52ZXJ0ZXhBcnJheS5wdXNoKGNbZF0pO3ZhciBlPXRoaXMudXNlSW5wdXRPcmlnaW4/dGhpcy5ncmFwaC5nZXRCb3VuZGluZ0JveEZyb21HZW9tZXRyeSh0aGlzLnZlcnRleEFycmF5KTpudWxsLGY9dGhpcy52ZXJ0ZXhBcnJheS5sZW5ndGg7dGhpcy5pbmRpY2VzPVtdO3RoaXMuZGlzcFg9W107dGhpcy5kaXNwWT1bXTt0aGlzLmNlbGxMb2NhdGlvbj1bXTt0aGlzLmlzTW92ZWFibGU9W107dGhpcy5uZWlnaGJvdXJzPVtdO3RoaXMucmFkaXVzPVtdO3RoaXMucmFkaXVzU3F1YXJlZD1bXTsuMDAxPnRoaXMuZm9yY2VDb25zdGFudCYmKHRoaXMuZm9yY2VDb25zdGFudD0KLjAwMSk7dGhpcy5mb3JjZUNvbnN0YW50U3F1YXJlZD10aGlzLmZvcmNlQ29uc3RhbnQqdGhpcy5mb3JjZUNvbnN0YW50O2ZvcihkPTA7ZDx0aGlzLnZlcnRleEFycmF5Lmxlbmd0aDtkKyspe3ZhciBnPXRoaXMudmVydGV4QXJyYXlbZF07dGhpcy5jZWxsTG9jYXRpb25bZF09W107dmFyIGs9bXhPYmplY3RJZGVudGl0eS5nZXQoZyk7dGhpcy5pbmRpY2VzW2tdPWQ7dmFyIGw9dGhpcy5nZXRWZXJ0ZXhCb3VuZHMoZyksbT1sLndpZHRoLG49bC5oZWlnaHQscD1sLngscT1sLnk7dGhpcy5jZWxsTG9jYXRpb25bZF1bMF09cCttLzI7dGhpcy5jZWxsTG9jYXRpb25bZF1bMV09cStuLzI7dGhpcy5yYWRpdXNbZF09TWF0aC5taW4obSxuKTt0aGlzLnJhZGl1c1NxdWFyZWRbZF09dGhpcy5yYWRpdXNbZF0qdGhpcy5yYWRpdXNbZF19Yi5iZWdpblVwZGF0ZSgpO3RyeXtmb3IoZD0wO2Q8ZjtkKyspe3RoaXMuZGlzcFhbZF09MDt0aGlzLmRpc3BZW2RdPTA7dGhpcy5pc01vdmVhYmxlW2RdPXRoaXMuaXNWZXJ0ZXhNb3ZhYmxlKHRoaXMudmVydGV4QXJyYXlbZF0pOwp2YXIgcj10aGlzLmdyYXBoLmdldENvbm5lY3Rpb25zKHRoaXMudmVydGV4QXJyYXlbZF0sYSksYz10aGlzLmdyYXBoLmdldE9wcG9zaXRlcyhyLHRoaXMudmVydGV4QXJyYXlbZF0pO3RoaXMubmVpZ2hib3Vyc1tkXT1bXTtmb3IobT0wO208Yy5sZW5ndGg7bSsrKXt0aGlzLnJlc2V0RWRnZXMmJnRoaXMuZ3JhcGgucmVzZXRFZGdlKHJbbV0pO3RoaXMuZGlzYWJsZUVkZ2VTdHlsZSYmdGhpcy5zZXRFZGdlU3R5bGVFbmFibGVkKHJbbV0sITEpO3ZhciBrPW14T2JqZWN0SWRlbnRpdHkuZ2V0KGNbbV0pLHQ9dGhpcy5pbmRpY2VzW2tdO3RoaXMubmVpZ2hib3Vyc1tkXVttXT1udWxsIT10P3Q6ZH19dGhpcy50ZW1wZXJhdHVyZT10aGlzLmluaXRpYWxUZW1wOzA9PXRoaXMubWF4SXRlcmF0aW9ucyYmKHRoaXMubWF4SXRlcmF0aW9ucz0yMCpNYXRoLnNxcnQoZikpO2Zvcih0aGlzLml0ZXJhdGlvbj0wO3RoaXMuaXRlcmF0aW9uPHRoaXMubWF4SXRlcmF0aW9uczt0aGlzLml0ZXJhdGlvbisrKXtpZighdGhpcy5hbGxvd2VkVG9SdW4pcmV0dXJuOwp0aGlzLmNhbGNSZXB1bHNpb24oKTt0aGlzLmNhbGNBdHRyYWN0aW9uKCk7dGhpcy5jYWxjUG9zaXRpb25zKCk7dGhpcy5yZWR1Y2VUZW1wZXJhdHVyZSgpfWE9Yz1udWxsO2ZvcihkPTA7ZDx0aGlzLnZlcnRleEFycmF5Lmxlbmd0aDtkKyspZz10aGlzLnZlcnRleEFycmF5W2RdLHRoaXMuaXNWZXJ0ZXhNb3ZhYmxlKGcpJiYobD10aGlzLmdldFZlcnRleEJvdW5kcyhnKSxudWxsIT1sJiYodGhpcy5jZWxsTG9jYXRpb25bZF1bMF0tPWwud2lkdGgvMix0aGlzLmNlbGxMb2NhdGlvbltkXVsxXS09bC5oZWlnaHQvMixwPXRoaXMuZ3JhcGguc25hcChNYXRoLnJvdW5kKHRoaXMuY2VsbExvY2F0aW9uW2RdWzBdKSkscT10aGlzLmdyYXBoLnNuYXAoTWF0aC5yb3VuZCh0aGlzLmNlbGxMb2NhdGlvbltkXVsxXSkpLHRoaXMuc2V0VmVydGV4TG9jYXRpb24oZyxwLHEpLGM9bnVsbD09Yz9wOk1hdGgubWluKGMscCksYT1udWxsPT1hP3E6TWF0aC5taW4oYSxxKSkpO2Q9LShjfHwwKSsxO2c9LShhfHwKMCkrMTtudWxsIT1lJiYoZCs9ZS54LGcrPWUueSk7dGhpcy5ncmFwaC5tb3ZlQ2VsbHModGhpcy52ZXJ0ZXhBcnJheSxkLGcpfWZpbmFsbHl7Yi5lbmRVcGRhdGUoKX19O214RmFzdE9yZ2FuaWNMYXlvdXQucHJvdG90eXBlLmNhbGNQb3NpdGlvbnM9ZnVuY3Rpb24oKXtmb3IodmFyIGE9MDthPHRoaXMudmVydGV4QXJyYXkubGVuZ3RoO2ErKylpZih0aGlzLmlzTW92ZWFibGVbYV0pe3ZhciBiPU1hdGguc3FydCh0aGlzLmRpc3BYW2FdKnRoaXMuZGlzcFhbYV0rdGhpcy5kaXNwWVthXSp0aGlzLmRpc3BZW2FdKTsuMDAxPmImJihiPS4wMDEpO3ZhciBjPXRoaXMuZGlzcFhbYV0vYipNYXRoLm1pbihiLHRoaXMudGVtcGVyYXR1cmUpLGI9dGhpcy5kaXNwWVthXS9iKk1hdGgubWluKGIsdGhpcy50ZW1wZXJhdHVyZSk7dGhpcy5kaXNwWFthXT0wO3RoaXMuZGlzcFlbYV09MDt0aGlzLmNlbGxMb2NhdGlvblthXVswXSs9Yzt0aGlzLmNlbGxMb2NhdGlvblthXVsxXSs9Yn19OwpteEZhc3RPcmdhbmljTGF5b3V0LnByb3RvdHlwZS5jYWxjQXR0cmFjdGlvbj1mdW5jdGlvbigpe2Zvcih2YXIgYT0wO2E8dGhpcy52ZXJ0ZXhBcnJheS5sZW5ndGg7YSsrKWZvcih2YXIgYj0wO2I8dGhpcy5uZWlnaGJvdXJzW2FdLmxlbmd0aDtiKyspe3ZhciBjPXRoaXMubmVpZ2hib3Vyc1thXVtiXTtpZihhIT1jJiZ0aGlzLmlzTW92ZWFibGVbYV0mJnRoaXMuaXNNb3ZlYWJsZVtjXSl7dmFyIGQ9dGhpcy5jZWxsTG9jYXRpb25bYV1bMF0tdGhpcy5jZWxsTG9jYXRpb25bY11bMF0sZT10aGlzLmNlbGxMb2NhdGlvblthXVsxXS10aGlzLmNlbGxMb2NhdGlvbltjXVsxXSxmPWQqZCtlKmUtdGhpcy5yYWRpdXNTcXVhcmVkW2FdLXRoaXMucmFkaXVzU3F1YXJlZFtjXTtmPHRoaXMubWluRGlzdGFuY2VMaW1pdFNxdWFyZWQmJihmPXRoaXMubWluRGlzdGFuY2VMaW1pdFNxdWFyZWQpO3ZhciBnPU1hdGguc3FydChmKSxmPWYvdGhpcy5mb3JjZUNvbnN0YW50LGQ9ZC9nKmYsZT1lL2cqZjsKdGhpcy5kaXNwWFthXS09ZDt0aGlzLmRpc3BZW2FdLT1lO3RoaXMuZGlzcFhbY10rPWQ7dGhpcy5kaXNwWVtjXSs9ZX19fTsKbXhGYXN0T3JnYW5pY0xheW91dC5wcm90b3R5cGUuY2FsY1JlcHVsc2lvbj1mdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzLnZlcnRleEFycmF5Lmxlbmd0aCxiPTA7YjxhO2IrKylmb3IodmFyIGM9YjtjPGE7YysrKXtpZighdGhpcy5hbGxvd2VkVG9SdW4pcmV0dXJuO2lmKGMhPWImJnRoaXMuaXNNb3ZlYWJsZVtiXSYmdGhpcy5pc01vdmVhYmxlW2NdKXt2YXIgZD10aGlzLmNlbGxMb2NhdGlvbltiXVswXS10aGlzLmNlbGxMb2NhdGlvbltjXVswXSxlPXRoaXMuY2VsbExvY2F0aW9uW2JdWzFdLXRoaXMuY2VsbExvY2F0aW9uW2NdWzFdOzA9PWQmJihkPS4wMStNYXRoLnJhbmRvbSgpKTswPT1lJiYoZT0uMDErTWF0aC5yYW5kb20oKSk7dmFyIGY9TWF0aC5zcXJ0KGQqZCtlKmUpLGc9Zi10aGlzLnJhZGl1c1tiXS10aGlzLnJhZGl1c1tjXTtnPnRoaXMubWF4RGlzdGFuY2VMaW1pdHx8KGc8dGhpcy5taW5EaXN0YW5jZUxpbWl0JiYoZz10aGlzLm1pbkRpc3RhbmNlTGltaXQpLGc9dGhpcy5mb3JjZUNvbnN0YW50U3F1YXJlZC8KZyxkPWQvZipnLGU9ZS9mKmcsdGhpcy5kaXNwWFtiXSs9ZCx0aGlzLmRpc3BZW2JdKz1lLHRoaXMuZGlzcFhbY10tPWQsdGhpcy5kaXNwWVtjXS09ZSl9fX07bXhGYXN0T3JnYW5pY0xheW91dC5wcm90b3R5cGUucmVkdWNlVGVtcGVyYXR1cmU9ZnVuY3Rpb24oKXt0aGlzLnRlbXBlcmF0dXJlPXRoaXMuaW5pdGlhbFRlbXAqKDEtdGhpcy5pdGVyYXRpb24vdGhpcy5tYXhJdGVyYXRpb25zKX07ZnVuY3Rpb24gbXhDaXJjbGVMYXlvdXQoYSxiKXtteEdyYXBoTGF5b3V0LmNhbGwodGhpcyxhKTt0aGlzLnJhZGl1cz1udWxsIT1iP2I6MTAwfW14Q2lyY2xlTGF5b3V0LnByb3RvdHlwZT1uZXcgbXhHcmFwaExheW91dDtteENpcmNsZUxheW91dC5wcm90b3R5cGUuY29uc3RydWN0b3I9bXhDaXJjbGVMYXlvdXQ7bXhDaXJjbGVMYXlvdXQucHJvdG90eXBlLnJhZGl1cz1udWxsO214Q2lyY2xlTGF5b3V0LnByb3RvdHlwZS5tb3ZlQ2lyY2xlPSExOwpteENpcmNsZUxheW91dC5wcm90b3R5cGUueDA9MDtteENpcmNsZUxheW91dC5wcm90b3R5cGUueTA9MDtteENpcmNsZUxheW91dC5wcm90b3R5cGUucmVzZXRFZGdlcz0hMDtteENpcmNsZUxheW91dC5wcm90b3R5cGUuZGlzYWJsZUVkZ2VTdHlsZT0hMDsKbXhDaXJjbGVMYXlvdXQucHJvdG90eXBlLmV4ZWN1dGU9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5ncmFwaC5nZXRNb2RlbCgpO2IuYmVnaW5VcGRhdGUoKTt0cnl7Zm9yKHZhciBjPTAsZD1udWxsLGU9bnVsbCxmPVtdLGc9Yi5nZXRDaGlsZENvdW50KGEpLGs9MDtrPGc7aysrKXt2YXIgbD1iLmdldENoaWxkQXQoYSxrKTtpZih0aGlzLmlzVmVydGV4SWdub3JlZChsKSl0aGlzLmlzRWRnZUlnbm9yZWQobCl8fCh0aGlzLnJlc2V0RWRnZXMmJnRoaXMuZ3JhcGgucmVzZXRFZGdlKGwpLHRoaXMuZGlzYWJsZUVkZ2VTdHlsZSYmdGhpcy5zZXRFZGdlU3R5bGVFbmFibGVkKGwsITEpKTtlbHNle2YucHVzaChsKTt2YXIgbT10aGlzLmdldFZlcnRleEJvdW5kcyhsKSxkPW51bGw9PWQ/bS55Ok1hdGgubWluKGQsbS55KSxlPW51bGw9PWU/bS54Ok1hdGgubWluKGUsbS54KSxjPU1hdGgubWF4KGMsTWF0aC5tYXgobS53aWR0aCxtLmhlaWdodCkpfX12YXIgbj10aGlzLmdldFJhZGl1cyhmLmxlbmd0aCwKYyk7dGhpcy5tb3ZlQ2lyY2xlJiYoZT10aGlzLngwLGQ9dGhpcy55MCk7dGhpcy5jaXJjbGUoZixuLGUsZCl9ZmluYWxseXtiLmVuZFVwZGF0ZSgpfX07bXhDaXJjbGVMYXlvdXQucHJvdG90eXBlLmdldFJhZGl1cz1mdW5jdGlvbihhLGIpe3JldHVybiBNYXRoLm1heChhKmIvTWF0aC5QSSx0aGlzLnJhZGl1cyl9O214Q2lyY2xlTGF5b3V0LnByb3RvdHlwZS5jaXJjbGU9ZnVuY3Rpb24oYSxiLGMsZCl7Zm9yKHZhciBlPWEubGVuZ3RoLGY9MipNYXRoLlBJL2UsZz0wO2c8ZTtnKyspdGhpcy5pc1ZlcnRleE1vdmFibGUoYVtnXSkmJnRoaXMuc2V0VmVydGV4TG9jYXRpb24oYVtnXSxNYXRoLnJvdW5kKGMrYitiKk1hdGguc2luKGcqZikpLE1hdGgucm91bmQoZCtiK2IqTWF0aC5jb3MoZypmKSkpfTtmdW5jdGlvbiBteFBhcmFsbGVsRWRnZUxheW91dChhKXtteEdyYXBoTGF5b3V0LmNhbGwodGhpcyxhKX1teFBhcmFsbGVsRWRnZUxheW91dC5wcm90b3R5cGU9bmV3IG14R3JhcGhMYXlvdXQ7Cm14UGFyYWxsZWxFZGdlTGF5b3V0LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1teFBhcmFsbGVsRWRnZUxheW91dDtteFBhcmFsbGVsRWRnZUxheW91dC5wcm90b3R5cGUuc3BhY2luZz0yMDtteFBhcmFsbGVsRWRnZUxheW91dC5wcm90b3R5cGUuZXhlY3V0ZT1mdW5jdGlvbihhKXthPXRoaXMuZmluZFBhcmFsbGVscyhhKTt0aGlzLmdyYXBoLm1vZGVsLmJlZ2luVXBkYXRlKCk7dHJ5e2Zvcih2YXIgYiBpbiBhKXt2YXIgYz1hW2JdOzE8Yy5sZW5ndGgmJnRoaXMubGF5b3V0KGMpfX1maW5hbGx5e3RoaXMuZ3JhcGgubW9kZWwuZW5kVXBkYXRlKCl9fTsKbXhQYXJhbGxlbEVkZ2VMYXlvdXQucHJvdG90eXBlLmZpbmRQYXJhbGxlbHM9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPXRoaXMuZ3JhcGguZ2V0TW9kZWwoKSxjPVtdLGQ9Yi5nZXRDaGlsZENvdW50KGEpLGU9MDtlPGQ7ZSsrKXt2YXIgZj1iLmdldENoaWxkQXQoYSxlKTtpZighdGhpcy5pc0VkZ2VJZ25vcmVkKGYpKXt2YXIgZz10aGlzLmdldEVkZ2VJZChmKTtudWxsIT1nJiYobnVsbD09Y1tnXSYmKGNbZ109W10pLGNbZ10ucHVzaChmKSl9fXJldHVybiBjfTtteFBhcmFsbGVsRWRnZUxheW91dC5wcm90b3R5cGUuZ2V0RWRnZUlkPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZ3JhcGguZ2V0VmlldygpLGM9Yi5nZXRWaXNpYmxlVGVybWluYWwoYSwhMCk7YT1iLmdldFZpc2libGVUZXJtaW5hbChhLCExKTtyZXR1cm4gbnVsbCE9YyYmbnVsbCE9YT8oYz1teE9iamVjdElkZW50aXR5LmdldChjKSxhPW14T2JqZWN0SWRlbnRpdHkuZ2V0KGEpLGM+YT9hKyItIitjOmMrIi0iK2EpOm51bGx9OwpteFBhcmFsbGVsRWRnZUxheW91dC5wcm90b3R5cGUubGF5b3V0PWZ1bmN0aW9uKGEpe3ZhciBiPWFbMF0sYz10aGlzLmdyYXBoLmdldFZpZXcoKSxkPXRoaXMuZ3JhcGguZ2V0TW9kZWwoKSxlPWQuZ2V0R2VvbWV0cnkoYy5nZXRWaXNpYmxlVGVybWluYWwoYiwhMCkpLGQ9ZC5nZXRHZW9tZXRyeShjLmdldFZpc2libGVUZXJtaW5hbChiLCExKSk7aWYoZT09ZClmb3IodmFyIGI9ZS54K2Uud2lkdGgrdGhpcy5zcGFjaW5nLGM9ZS55K2UuaGVpZ2h0LzIsZj0wO2Y8YS5sZW5ndGg7ZisrKXRoaXMucm91dGUoYVtmXSxiLGMpLGIrPXRoaXMuc3BhY2luZztlbHNlIGlmKG51bGwhPWUmJm51bGwhPWQpe3ZhciBiPWUueCtlLndpZHRoLzIsYz1lLnkrZS5oZWlnaHQvMixmPWQueCtkLndpZHRoLzItYixnPWQueStkLmhlaWdodC8yLWMsZD1NYXRoLnNxcnQoZipmK2cqZyk7aWYoMDxkKWZvcihlPWcqdGhpcy5zcGFjaW5nL2QsZD1mKnRoaXMuc3BhY2luZy9kLGI9YitmLzIrZSooYS5sZW5ndGgtCjEpLzIsYz1jK2cvMi1kKihhLmxlbmd0aC0xKS8yLGY9MDtmPGEubGVuZ3RoO2YrKyl0aGlzLnJvdXRlKGFbZl0sYixjKSxiLT1lLGMrPWR9fTtteFBhcmFsbGVsRWRnZUxheW91dC5wcm90b3R5cGUucm91dGU9ZnVuY3Rpb24oYSxiLGMpe3RoaXMuZ3JhcGguaXNDZWxsTW92YWJsZShhKSYmdGhpcy5zZXRFZGdlUG9pbnRzKGEsW25ldyBteFBvaW50KGIsYyldKX07ZnVuY3Rpb24gbXhDb21wb3NpdGVMYXlvdXQoYSxiLGMpe214R3JhcGhMYXlvdXQuY2FsbCh0aGlzLGEpO3RoaXMubGF5b3V0cz1iO3RoaXMubWFzdGVyPWN9bXhDb21wb3NpdGVMYXlvdXQucHJvdG90eXBlPW5ldyBteEdyYXBoTGF5b3V0O214Q29tcG9zaXRlTGF5b3V0LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1teENvbXBvc2l0ZUxheW91dDtteENvbXBvc2l0ZUxheW91dC5wcm90b3R5cGUubGF5b3V0cz1udWxsO214Q29tcG9zaXRlTGF5b3V0LnByb3RvdHlwZS5tYXN0ZXI9bnVsbDsKbXhDb21wb3NpdGVMYXlvdXQucHJvdG90eXBlLm1vdmVDZWxsPWZ1bmN0aW9uKGEsYixjKXtudWxsIT10aGlzLm1hc3Rlcj90aGlzLm1hc3Rlci5tb3ZlQ2VsbC5hcHBseSh0aGlzLm1hc3Rlcixhcmd1bWVudHMpOnRoaXMubGF5b3V0c1swXS5tb3ZlQ2VsbC5hcHBseSh0aGlzLmxheW91dHNbMF0sYXJndW1lbnRzKX07bXhDb21wb3NpdGVMYXlvdXQucHJvdG90eXBlLmV4ZWN1dGU9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5ncmFwaC5nZXRNb2RlbCgpO2IuYmVnaW5VcGRhdGUoKTt0cnl7Zm9yKHZhciBjPTA7Yzx0aGlzLmxheW91dHMubGVuZ3RoO2MrKyl0aGlzLmxheW91dHNbY10uZXhlY3V0ZS5hcHBseSh0aGlzLmxheW91dHNbY10sYXJndW1lbnRzKX1maW5hbGx5e2IuZW5kVXBkYXRlKCl9fTtmdW5jdGlvbiBteEVkZ2VMYWJlbExheW91dChhLGIpe214R3JhcGhMYXlvdXQuY2FsbCh0aGlzLGEpfW14RWRnZUxhYmVsTGF5b3V0LnByb3RvdHlwZT1uZXcgbXhHcmFwaExheW91dDsKbXhFZGdlTGFiZWxMYXlvdXQucHJvdG90eXBlLmNvbnN0cnVjdG9yPW14RWRnZUxhYmVsTGF5b3V0O214RWRnZUxhYmVsTGF5b3V0LnByb3RvdHlwZS5leGVjdXRlPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj10aGlzLmdyYXBoLnZpZXcsYz10aGlzLmdyYXBoLmdldE1vZGVsKCksZD1bXSxlPVtdLGY9Yy5nZXRDaGlsZENvdW50KGEpLGc9MDtnPGY7ZysrKXt2YXIgaz1jLmdldENoaWxkQXQoYSxnKSxsPWIuZ2V0U3RhdGUoayk7bnVsbCE9bCYmKHRoaXMuaXNWZXJ0ZXhJZ25vcmVkKGspP3RoaXMuaXNFZGdlSWdub3JlZChrKXx8ZC5wdXNoKGwpOmUucHVzaChsKSl9dGhpcy5wbGFjZUxhYmVscyhlLGQpfTsKbXhFZGdlTGFiZWxMYXlvdXQucHJvdG90eXBlLnBsYWNlTGFiZWxzPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5ncmFwaC5nZXRNb2RlbCgpO2MuYmVnaW5VcGRhdGUoKTt0cnl7Zm9yKHZhciBkPTA7ZDxiLmxlbmd0aDtkKyspe3ZhciBlPWJbZF07aWYobnVsbCE9ZSYmbnVsbCE9ZS50ZXh0JiZudWxsIT1lLnRleHQuYm91bmRpbmdCb3gpZm9yKHZhciBmPTA7ZjxhLmxlbmd0aDtmKyspe3ZhciBnPWFbZl07bnVsbCE9ZyYmdGhpcy5hdm9pZChlLGcpfX19ZmluYWxseXtjLmVuZFVwZGF0ZSgpfX07Cm14RWRnZUxhYmVsTGF5b3V0LnByb3RvdHlwZS5hdm9pZD1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZ3JhcGguZ2V0TW9kZWwoKSxkPWEudGV4dC5ib3VuZGluZ0JveDtpZihteFV0aWxzLmludGVyc2VjdHMoZCxiKSl7dmFyIGU9LWQueS1kLmhlaWdodCtiLnksZj0tZC55K2IueStiLmhlaWdodCxlPU1hdGguYWJzKGUpPE1hdGguYWJzKGYpP2U6ZixmPS1kLngtZC53aWR0aCtiLngsZD0tZC54K2IueCtiLndpZHRoLGQ9TWF0aC5hYnMoZik8TWF0aC5hYnMoZCk/ZjpkO01hdGguYWJzKGQpPE1hdGguYWJzKGUpP2U9MDpkPTA7Zj1jLmdldEdlb21ldHJ5KGEuY2VsbCk7bnVsbCE9ZiYmKGY9Zi5jbG9uZSgpLG51bGwhPWYub2Zmc2V0PyhmLm9mZnNldC54Kz1kLGYub2Zmc2V0LnkrPWUpOmYub2Zmc2V0PW5ldyBteFBvaW50KGQsZSksYy5zZXRHZW9tZXRyeShhLmNlbGwsZikpfX07CmZ1bmN0aW9uIG14R3JhcGhBYnN0cmFjdEhpZXJhcmNoeUNlbGwoKXt0aGlzLng9W107dGhpcy55PVtdO3RoaXMudGVtcD1bXX1teEdyYXBoQWJzdHJhY3RIaWVyYXJjaHlDZWxsLnByb3RvdHlwZS5tYXhSYW5rPS0xO214R3JhcGhBYnN0cmFjdEhpZXJhcmNoeUNlbGwucHJvdG90eXBlLm1pblJhbms9LTE7bXhHcmFwaEFic3RyYWN0SGllcmFyY2h5Q2VsbC5wcm90b3R5cGUueD1udWxsO214R3JhcGhBYnN0cmFjdEhpZXJhcmNoeUNlbGwucHJvdG90eXBlLnk9bnVsbDtteEdyYXBoQWJzdHJhY3RIaWVyYXJjaHlDZWxsLnByb3RvdHlwZS53aWR0aD0wO214R3JhcGhBYnN0cmFjdEhpZXJhcmNoeUNlbGwucHJvdG90eXBlLmhlaWdodD0wO214R3JhcGhBYnN0cmFjdEhpZXJhcmNoeUNlbGwucHJvdG90eXBlLm5leHRMYXllckNvbm5lY3RlZENlbGxzPW51bGw7bXhHcmFwaEFic3RyYWN0SGllcmFyY2h5Q2VsbC5wcm90b3R5cGUucHJldmlvdXNMYXllckNvbm5lY3RlZENlbGxzPW51bGw7Cm14R3JhcGhBYnN0cmFjdEhpZXJhcmNoeUNlbGwucHJvdG90eXBlLnRlbXA9bnVsbDtteEdyYXBoQWJzdHJhY3RIaWVyYXJjaHlDZWxsLnByb3RvdHlwZS5nZXROZXh0TGF5ZXJDb25uZWN0ZWRDZWxscz1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbH07bXhHcmFwaEFic3RyYWN0SGllcmFyY2h5Q2VsbC5wcm90b3R5cGUuZ2V0UHJldmlvdXNMYXllckNvbm5lY3RlZENlbGxzPWZ1bmN0aW9uKGEpe3JldHVybiBudWxsfTtteEdyYXBoQWJzdHJhY3RIaWVyYXJjaHlDZWxsLnByb3RvdHlwZS5pc0VkZ2U9ZnVuY3Rpb24oKXtyZXR1cm4hMX07bXhHcmFwaEFic3RyYWN0SGllcmFyY2h5Q2VsbC5wcm90b3R5cGUuaXNWZXJ0ZXg9ZnVuY3Rpb24oKXtyZXR1cm4hMX07bXhHcmFwaEFic3RyYWN0SGllcmFyY2h5Q2VsbC5wcm90b3R5cGUuZ2V0R2VuZXJhbFB1cnBvc2VWYXJpYWJsZT1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbH07Cm14R3JhcGhBYnN0cmFjdEhpZXJhcmNoeUNlbGwucHJvdG90eXBlLnNldEdlbmVyYWxQdXJwb3NlVmFyaWFibGU9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbnVsbH07bXhHcmFwaEFic3RyYWN0SGllcmFyY2h5Q2VsbC5wcm90b3R5cGUuc2V0WD1mdW5jdGlvbihhLGIpe3RoaXMuaXNWZXJ0ZXgoKT90aGlzLnhbMF09Yjp0aGlzLmlzRWRnZSgpJiYodGhpcy54W2EtdGhpcy5taW5SYW5rLTFdPWIpfTtteEdyYXBoQWJzdHJhY3RIaWVyYXJjaHlDZWxsLnByb3RvdHlwZS5nZXRYPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmlzVmVydGV4KCk/dGhpcy54WzBdOnRoaXMuaXNFZGdlKCk/dGhpcy54W2EtdGhpcy5taW5SYW5rLTFdOjB9O214R3JhcGhBYnN0cmFjdEhpZXJhcmNoeUNlbGwucHJvdG90eXBlLnNldFk9ZnVuY3Rpb24oYSxiKXt0aGlzLmlzVmVydGV4KCk/dGhpcy55WzBdPWI6dGhpcy5pc0VkZ2UoKSYmKHRoaXMueVthLXRoaXMubWluUmFuay0xXT1iKX07CmZ1bmN0aW9uIG14R3JhcGhIaWVyYXJjaHlOb2RlKGEpe214R3JhcGhBYnN0cmFjdEhpZXJhcmNoeUNlbGwuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuY2VsbD1hO3RoaXMuaWQ9bXhPYmplY3RJZGVudGl0eS5nZXQoYSk7dGhpcy5jb25uZWN0c0FzVGFyZ2V0PVtdO3RoaXMuY29ubmVjdHNBc1NvdXJjZT1bXX1teEdyYXBoSGllcmFyY2h5Tm9kZS5wcm90b3R5cGU9bmV3IG14R3JhcGhBYnN0cmFjdEhpZXJhcmNoeUNlbGw7bXhHcmFwaEhpZXJhcmNoeU5vZGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPW14R3JhcGhIaWVyYXJjaHlOb2RlO214R3JhcGhIaWVyYXJjaHlOb2RlLnByb3RvdHlwZS5jZWxsPW51bGw7bXhHcmFwaEhpZXJhcmNoeU5vZGUucHJvdG90eXBlLmlkPW51bGw7bXhHcmFwaEhpZXJhcmNoeU5vZGUucHJvdG90eXBlLmNvbm5lY3RzQXNUYXJnZXQ9bnVsbDtteEdyYXBoSGllcmFyY2h5Tm9kZS5wcm90b3R5cGUuY29ubmVjdHNBc1NvdXJjZT1udWxsOwpteEdyYXBoSGllcmFyY2h5Tm9kZS5wcm90b3R5cGUuaGFzaENvZGU9ITE7bXhHcmFwaEhpZXJhcmNoeU5vZGUucHJvdG90eXBlLmdldFJhbmtWYWx1ZT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5tYXhSYW5rfTtteEdyYXBoSGllcmFyY2h5Tm9kZS5wcm90b3R5cGUuZ2V0TmV4dExheWVyQ29ubmVjdGVkQ2VsbHM9ZnVuY3Rpb24oYSl7aWYobnVsbD09dGhpcy5uZXh0TGF5ZXJDb25uZWN0ZWRDZWxscyl7dGhpcy5uZXh0TGF5ZXJDb25uZWN0ZWRDZWxscz1bXTt0aGlzLm5leHRMYXllckNvbm5lY3RlZENlbGxzWzBdPVtdO2Zvcih2YXIgYj0wO2I8dGhpcy5jb25uZWN0c0FzVGFyZ2V0Lmxlbmd0aDtiKyspe3ZhciBjPXRoaXMuY29ubmVjdHNBc1RhcmdldFtiXTstMT09Yy5tYXhSYW5rfHxjLm1heFJhbms9PWErMT90aGlzLm5leHRMYXllckNvbm5lY3RlZENlbGxzWzBdLnB1c2goYy5zb3VyY2UpOnRoaXMubmV4dExheWVyQ29ubmVjdGVkQ2VsbHNbMF0ucHVzaChjKX19cmV0dXJuIHRoaXMubmV4dExheWVyQ29ubmVjdGVkQ2VsbHNbMF19OwpteEdyYXBoSGllcmFyY2h5Tm9kZS5wcm90b3R5cGUuZ2V0UHJldmlvdXNMYXllckNvbm5lY3RlZENlbGxzPWZ1bmN0aW9uKGEpe2lmKG51bGw9PXRoaXMucHJldmlvdXNMYXllckNvbm5lY3RlZENlbGxzKXt0aGlzLnByZXZpb3VzTGF5ZXJDb25uZWN0ZWRDZWxscz1bXTt0aGlzLnByZXZpb3VzTGF5ZXJDb25uZWN0ZWRDZWxsc1swXT1bXTtmb3IodmFyIGI9MDtiPHRoaXMuY29ubmVjdHNBc1NvdXJjZS5sZW5ndGg7YisrKXt2YXIgYz10aGlzLmNvbm5lY3RzQXNTb3VyY2VbYl07LTE9PWMubWluUmFua3x8Yy5taW5SYW5rPT1hLTE/dGhpcy5wcmV2aW91c0xheWVyQ29ubmVjdGVkQ2VsbHNbMF0ucHVzaChjLnRhcmdldCk6dGhpcy5wcmV2aW91c0xheWVyQ29ubmVjdGVkQ2VsbHNbMF0ucHVzaChjKX19cmV0dXJuIHRoaXMucHJldmlvdXNMYXllckNvbm5lY3RlZENlbGxzWzBdfTtteEdyYXBoSGllcmFyY2h5Tm9kZS5wcm90b3R5cGUuaXNWZXJ0ZXg9ZnVuY3Rpb24oKXtyZXR1cm4hMH07Cm14R3JhcGhIaWVyYXJjaHlOb2RlLnByb3RvdHlwZS5nZXRHZW5lcmFsUHVycG9zZVZhcmlhYmxlPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnRlbXBbMF19O214R3JhcGhIaWVyYXJjaHlOb2RlLnByb3RvdHlwZS5zZXRHZW5lcmFsUHVycG9zZVZhcmlhYmxlPWZ1bmN0aW9uKGEsYil7dGhpcy50ZW1wWzBdPWJ9O214R3JhcGhIaWVyYXJjaHlOb2RlLnByb3RvdHlwZS5pc0FuY2VzdG9yPWZ1bmN0aW9uKGEpe2lmKG51bGwhPWEmJm51bGwhPXRoaXMuaGFzaENvZGUmJm51bGwhPWEuaGFzaENvZGUmJnRoaXMuaGFzaENvZGUubGVuZ3RoPGEuaGFzaENvZGUubGVuZ3RoKXtpZih0aGlzLmhhc2hDb2RlPT1hLmhhc2hDb2RlKXJldHVybiEwO2lmKG51bGw9PXRoaXMuaGFzaENvZGV8fG51bGw9PXRoaXMuaGFzaENvZGUpcmV0dXJuITE7Zm9yKHZhciBiPTA7Yjx0aGlzLmhhc2hDb2RlLmxlbmd0aDtiKyspaWYodGhpcy5oYXNoQ29kZVtiXSE9YS5oYXNoQ29kZVtiXSlyZXR1cm4hMTtyZXR1cm4hMH1yZXR1cm4hMX07Cm14R3JhcGhIaWVyYXJjaHlOb2RlLnByb3RvdHlwZS5nZXRDb3JlQ2VsbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNlbGx9O2Z1bmN0aW9uIG14R3JhcGhIaWVyYXJjaHlFZGdlKGEpe214R3JhcGhBYnN0cmFjdEhpZXJhcmNoeUNlbGwuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuZWRnZXM9YTt0aGlzLmlkcz1bXTtmb3IodmFyIGI9MDtiPGEubGVuZ3RoO2IrKyl0aGlzLmlkcy5wdXNoKG14T2JqZWN0SWRlbnRpdHkuZ2V0KGFbYl0pKX1teEdyYXBoSGllcmFyY2h5RWRnZS5wcm90b3R5cGU9bmV3IG14R3JhcGhBYnN0cmFjdEhpZXJhcmNoeUNlbGw7bXhHcmFwaEhpZXJhcmNoeUVkZ2UucHJvdG90eXBlLmNvbnN0cnVjdG9yPW14R3JhcGhIaWVyYXJjaHlFZGdlO214R3JhcGhIaWVyYXJjaHlFZGdlLnByb3RvdHlwZS5lZGdlcz1udWxsO214R3JhcGhIaWVyYXJjaHlFZGdlLnByb3RvdHlwZS5pZHM9bnVsbDtteEdyYXBoSGllcmFyY2h5RWRnZS5wcm90b3R5cGUuc291cmNlPW51bGw7Cm14R3JhcGhIaWVyYXJjaHlFZGdlLnByb3RvdHlwZS50YXJnZXQ9bnVsbDtteEdyYXBoSGllcmFyY2h5RWRnZS5wcm90b3R5cGUuaXNSZXZlcnNlZD0hMTtteEdyYXBoSGllcmFyY2h5RWRnZS5wcm90b3R5cGUuaW52ZXJ0PWZ1bmN0aW9uKGEpe2E9dGhpcy5zb3VyY2U7dGhpcy5zb3VyY2U9dGhpcy50YXJnZXQ7dGhpcy50YXJnZXQ9YTt0aGlzLmlzUmV2ZXJzZWQ9IXRoaXMuaXNSZXZlcnNlZH07Cm14R3JhcGhIaWVyYXJjaHlFZGdlLnByb3RvdHlwZS5nZXROZXh0TGF5ZXJDb25uZWN0ZWRDZWxscz1mdW5jdGlvbihhKXtpZihudWxsPT10aGlzLm5leHRMYXllckNvbm5lY3RlZENlbGxzKXt0aGlzLm5leHRMYXllckNvbm5lY3RlZENlbGxzPVtdO2Zvcih2YXIgYj0wO2I8dGhpcy50ZW1wLmxlbmd0aDtiKyspdGhpcy5uZXh0TGF5ZXJDb25uZWN0ZWRDZWxsc1tiXT1bXSxiPT10aGlzLnRlbXAubGVuZ3RoLTE/dGhpcy5uZXh0TGF5ZXJDb25uZWN0ZWRDZWxsc1tiXS5wdXNoKHRoaXMuc291cmNlKTp0aGlzLm5leHRMYXllckNvbm5lY3RlZENlbGxzW2JdLnB1c2godGhpcyl9cmV0dXJuIHRoaXMubmV4dExheWVyQ29ubmVjdGVkQ2VsbHNbYS10aGlzLm1pblJhbmstMV19OwpteEdyYXBoSGllcmFyY2h5RWRnZS5wcm90b3R5cGUuZ2V0UHJldmlvdXNMYXllckNvbm5lY3RlZENlbGxzPWZ1bmN0aW9uKGEpe2lmKG51bGw9PXRoaXMucHJldmlvdXNMYXllckNvbm5lY3RlZENlbGxzKXt0aGlzLnByZXZpb3VzTGF5ZXJDb25uZWN0ZWRDZWxscz1bXTtmb3IodmFyIGI9MDtiPHRoaXMudGVtcC5sZW5ndGg7YisrKXRoaXMucHJldmlvdXNMYXllckNvbm5lY3RlZENlbGxzW2JdPVtdLDA9PWI/dGhpcy5wcmV2aW91c0xheWVyQ29ubmVjdGVkQ2VsbHNbYl0ucHVzaCh0aGlzLnRhcmdldCk6dGhpcy5wcmV2aW91c0xheWVyQ29ubmVjdGVkQ2VsbHNbYl0ucHVzaCh0aGlzKX1yZXR1cm4gdGhpcy5wcmV2aW91c0xheWVyQ29ubmVjdGVkQ2VsbHNbYS10aGlzLm1pblJhbmstMV19O214R3JhcGhIaWVyYXJjaHlFZGdlLnByb3RvdHlwZS5pc0VkZ2U9ZnVuY3Rpb24oKXtyZXR1cm4hMH07Cm14R3JhcGhIaWVyYXJjaHlFZGdlLnByb3RvdHlwZS5nZXRHZW5lcmFsUHVycG9zZVZhcmlhYmxlPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnRlbXBbYS10aGlzLm1pblJhbmstMV19O214R3JhcGhIaWVyYXJjaHlFZGdlLnByb3RvdHlwZS5zZXRHZW5lcmFsUHVycG9zZVZhcmlhYmxlPWZ1bmN0aW9uKGEsYil7dGhpcy50ZW1wW2EtdGhpcy5taW5SYW5rLTFdPWJ9O214R3JhcGhIaWVyYXJjaHlFZGdlLnByb3RvdHlwZS5nZXRDb3JlQ2VsbD1mdW5jdGlvbigpe3JldHVybiBudWxsIT10aGlzLmVkZ2VzJiYwPHRoaXMuZWRnZXMubGVuZ3RoP3RoaXMuZWRnZXNbMF06bnVsbH07CmZ1bmN0aW9uIG14R3JhcGhIaWVyYXJjaHlNb2RlbChhLGIsYyxkLGUpe2EuZ2V0R3JhcGgoKTt0aGlzLnRpZ2h0ZW5Ub1NvdXJjZT1lO3RoaXMucm9vdHM9Yzt0aGlzLnBhcmVudD1kO3RoaXMudmVydGV4TWFwcGVyPW5ldyBteERpY3Rpb25hcnk7dGhpcy5lZGdlTWFwcGVyPW5ldyBteERpY3Rpb25hcnk7dGhpcy5tYXhSYW5rPTA7Yz1bXTtudWxsPT1iJiYoYj10aGlzLmdyYXBoLmdldENoaWxkVmVydGljZXMoZCkpO3RoaXMubWF4UmFuaz10aGlzLlNPVVJDRVNDQU5TVEFSVFJBTks7dGhpcy5jcmVhdGVJbnRlcm5hbENlbGxzKGEsYixjKTtmb3IoZD0wO2Q8Yi5sZW5ndGg7ZCsrKXtlPWNbZF0uY29ubmVjdHNBc1NvdXJjZTtmb3IodmFyIGY9MDtmPGUubGVuZ3RoO2YrKyl7dmFyIGc9ZVtmXSxrPWcuZWRnZXM7aWYobnVsbCE9ayYmMDxrLmxlbmd0aCl7dmFyIGs9a1swXSxsPWEuZ2V0VmlzaWJsZVRlcm1pbmFsKGssITEpLGw9dGhpcy52ZXJ0ZXhNYXBwZXIuZ2V0KGwpO2NbZF09PQpsJiYobD1hLmdldFZpc2libGVUZXJtaW5hbChrLCEwKSxsPXRoaXMudmVydGV4TWFwcGVyLmdldChsKSk7bnVsbCE9bCYmY1tkXSE9bCYmKGcudGFyZ2V0PWwsMD09bC5jb25uZWN0c0FzVGFyZ2V0Lmxlbmd0aCYmKGwuY29ubmVjdHNBc1RhcmdldD1bXSksMD5teFV0aWxzLmluZGV4T2YobC5jb25uZWN0c0FzVGFyZ2V0LGcpJiZsLmNvbm5lY3RzQXNUYXJnZXQucHVzaChnKSl9fWNbZF0udGVtcFswXT0xfX1teEdyYXBoSGllcmFyY2h5TW9kZWwucHJvdG90eXBlLm1heFJhbms9bnVsbDtteEdyYXBoSGllcmFyY2h5TW9kZWwucHJvdG90eXBlLnZlcnRleE1hcHBlcj1udWxsO214R3JhcGhIaWVyYXJjaHlNb2RlbC5wcm90b3R5cGUuZWRnZU1hcHBlcj1udWxsO214R3JhcGhIaWVyYXJjaHlNb2RlbC5wcm90b3R5cGUucmFua3M9bnVsbDtteEdyYXBoSGllcmFyY2h5TW9kZWwucHJvdG90eXBlLnJvb3RzPW51bGw7bXhHcmFwaEhpZXJhcmNoeU1vZGVsLnByb3RvdHlwZS5wYXJlbnQ9bnVsbDsKbXhHcmFwaEhpZXJhcmNoeU1vZGVsLnByb3RvdHlwZS5kZnNDb3VudD0wO214R3JhcGhIaWVyYXJjaHlNb2RlbC5wcm90b3R5cGUuU09VUkNFU0NBTlNUQVJUUkFOSz0xRTg7bXhHcmFwaEhpZXJhcmNoeU1vZGVsLnByb3RvdHlwZS50aWdodGVuVG9Tb3VyY2U9ITE7Cm14R3JhcGhIaWVyYXJjaHlNb2RlbC5wcm90b3R5cGUuY3JlYXRlSW50ZXJuYWxDZWxscz1mdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkPWEuZ2V0R3JhcGgoKSxlPTA7ZTxiLmxlbmd0aDtlKyspe2NbZV09bmV3IG14R3JhcGhIaWVyYXJjaHlOb2RlKGJbZV0pO3RoaXMudmVydGV4TWFwcGVyLnB1dChiW2VdLGNbZV0pO3ZhciBmPWEuZ2V0RWRnZXMoYltlXSk7Y1tlXS5jb25uZWN0c0FzU291cmNlPVtdO2Zvcih2YXIgZz0wO2c8Zi5sZW5ndGg7ZysrKXt2YXIgaz1hLmdldFZpc2libGVUZXJtaW5hbChmW2ddLCExKTtpZihrIT1iW2VdJiZhLmdyYXBoLm1vZGVsLmlzVmVydGV4KGspJiYhYS5pc1ZlcnRleElnbm9yZWQoaykpe3ZhciBsPWEuZ2V0RWRnZXNCZXR3ZWVuKGJbZV0saywhMSksaz1hLmdldEVkZ2VzQmV0d2VlbihiW2VdLGssITApO2lmKG51bGwhPWwmJjA8bC5sZW5ndGgmJm51bGw9PXRoaXMuZWRnZU1hcHBlci5nZXQobFswXSkmJjIqay5sZW5ndGg+PWwubGVuZ3RoKXtmb3IodmFyIGs9Cm5ldyBteEdyYXBoSGllcmFyY2h5RWRnZShsKSxtPTA7bTxsLmxlbmd0aDttKyspe3ZhciBuPWxbbV07dGhpcy5lZGdlTWFwcGVyLnB1dChuLGspO2QucmVzZXRFZGdlKG4pO2EuZGlzYWJsZUVkZ2VTdHlsZSYmKGEuc2V0RWRnZVN0eWxlRW5hYmxlZChuLCExKSxhLnNldE9ydGhvZ29uYWxFZGdlKG4sITApKX1rLnNvdXJjZT1jW2VdOzA+bXhVdGlscy5pbmRleE9mKGNbZV0uY29ubmVjdHNBc1NvdXJjZSxrKSYmY1tlXS5jb25uZWN0c0FzU291cmNlLnB1c2goayl9fX1jW2VdLnRlbXBbMF09MH19OwpteEdyYXBoSGllcmFyY2h5TW9kZWwucHJvdG90eXBlLmluaXRpYWxSYW5rPWZ1bmN0aW9uKCl7dmFyIGE9W107aWYobnVsbCE9dGhpcy5yb290cylmb3IodmFyIGI9MDtiPHRoaXMucm9vdHMubGVuZ3RoO2IrKyl7dmFyIGM9dGhpcy52ZXJ0ZXhNYXBwZXIuZ2V0KHRoaXMucm9vdHNbYl0pO251bGwhPWMmJmEucHVzaChjKX1mb3IodmFyIGQ9dGhpcy52ZXJ0ZXhNYXBwZXIuZ2V0VmFsdWVzKCksYj0wO2I8ZC5sZW5ndGg7YisrKWRbYl0udGVtcFswXT0tMTtmb3IodmFyIGU9YS5zbGljZSgpOzA8YS5sZW5ndGg7KXt2YXIgYz1hWzBdLGYsZztmPWMuY29ubmVjdHNBc1RhcmdldDtnPWMuY29ubmVjdHNBc1NvdXJjZTtmb3IodmFyIGs9ITAsbD10aGlzLlNPVVJDRVNDQU5TVEFSVFJBTkssYj0wO2I8Zi5sZW5ndGg7YisrKXt2YXIgbT1mW2JdO2lmKDUyNzA2MjA9PW0udGVtcFswXSltPW0uc291cmNlLGw9TWF0aC5taW4obCxtLnRlbXBbMF0tMSk7ZWxzZXtrPSExO2JyZWFrfX1pZihrKXtjLnRlbXBbMF09Cmw7dGhpcy5tYXhSYW5rPU1hdGgubWluKHRoaXMubWF4UmFuayxsKTtpZihudWxsIT1nKWZvcihiPTA7YjxnLmxlbmd0aDtiKyspbT1nW2JdLG0udGVtcFswXT01MjcwNjIwLG09bS50YXJnZXQsLTE9PW0udGVtcFswXSYmKGEucHVzaChtKSxtLnRlbXBbMF09LTIpO2Euc2hpZnQoKX1lbHNlIGlmKGI9YS5zaGlmdCgpLGEucHVzaChjKSxiPT1jJiYxPT1hLmxlbmd0aClicmVha31mb3IoYj0wO2I8ZC5sZW5ndGg7YisrKWRbYl0udGVtcFswXS09dGhpcy5tYXhSYW5rO2ZvcihiPTA7YjxlLmxlbmd0aDtiKyspZm9yKGM9ZVtiXSxhPTAsZj1jLmNvbm5lY3RzQXNTb3VyY2UsZD0wO2Q8Zi5sZW5ndGg7ZCsrKW09ZltkXSxtPW0udGFyZ2V0LGMudGVtcFswXT1NYXRoLm1heChhLG0udGVtcFswXSsxKSxhPWMudGVtcFswXTt0aGlzLm1heFJhbms9dGhpcy5TT1VSQ0VTQ0FOU1RBUlRSQU5LLXRoaXMubWF4UmFua307Cm14R3JhcGhIaWVyYXJjaHlNb2RlbC5wcm90b3R5cGUuZml4UmFua3M9ZnVuY3Rpb24oKXt2YXIgYT1bXTt0aGlzLnJhbmtzPVtdO2Zvcih2YXIgYj0wO2I8dGhpcy5tYXhSYW5rKzE7YisrKWFbYl09W10sdGhpcy5yYW5rc1tiXT1hW2JdO3ZhciBjPW51bGw7aWYobnVsbCE9dGhpcy5yb290cylmb3IodmFyIGQ9dGhpcy5yb290cyxjPVtdLGI9MDtiPGQubGVuZ3RoO2IrKyl7dmFyIGU9dGhpcy52ZXJ0ZXhNYXBwZXIuZ2V0KGRbYl0pO2NbYl09ZX10aGlzLnZpc2l0KGZ1bmN0aW9uKGIsYyxkLGUsbSl7MD09bSYmMD5jLm1heFJhbmsmJjA+Yy5taW5SYW5rJiYoYVtjLnRlbXBbMF1dLnB1c2goYyksYy5tYXhSYW5rPWMudGVtcFswXSxjLm1pblJhbms9Yy50ZW1wWzBdLGMudGVtcFswXT1hW2MubWF4UmFua10ubGVuZ3RoLTEpO2lmKG51bGwhPWImJm51bGwhPWQmJjE8Yi5tYXhSYW5rLWMubWF4UmFuaylmb3IoZC5tYXhSYW5rPWIubWF4UmFuayxkLm1pblJhbms9Yy5tYXhSYW5rLGQudGVtcD0KW10sZC54PVtdLGQueT1bXSxiPWQubWluUmFuaysxO2I8ZC5tYXhSYW5rO2IrKylhW2JdLnB1c2goZCksZC5zZXRHZW5lcmFsUHVycG9zZVZhcmlhYmxlKGIsYVtiXS5sZW5ndGgtMSl9LGMsITEsbnVsbCl9O214R3JhcGhIaWVyYXJjaHlNb2RlbC5wcm90b3R5cGUudmlzaXQ9ZnVuY3Rpb24oYSxiLGMsZCl7aWYobnVsbCE9Yil7Zm9yKHZhciBlPTA7ZTxiLmxlbmd0aDtlKyspe3ZhciBmPWJbZV07bnVsbCE9ZiYmKG51bGw9PWQmJihkPXt9KSxjPyhmLmhhc2hDb2RlPVtdLGYuaGFzaENvZGVbMF09dGhpcy5kZnNDb3VudCxmLmhhc2hDb2RlWzFdPWUsdGhpcy5leHRlbmRlZERmcyhudWxsLGYsbnVsbCxhLGQsZi5oYXNoQ29kZSxlLDApKTp0aGlzLmRmcyhudWxsLGYsbnVsbCxhLGQsMCkpfXRoaXMuZGZzQ291bnQrK319OwpteEdyYXBoSGllcmFyY2h5TW9kZWwucHJvdG90eXBlLmRmcz1mdW5jdGlvbihhLGIsYyxkLGUsZil7aWYobnVsbCE9Yil7dmFyIGc9Yi5pZDtpZihudWxsPT1lW2ddKWZvcihlW2ddPWIsZChhLGIsYyxmLDApLGE9Yi5jb25uZWN0c0FzU291cmNlLnNsaWNlKCksYz0wO2M8YS5sZW5ndGg7YysrKWc9YVtjXSx0aGlzLmRmcyhiLGcudGFyZ2V0LGcsZCxlLGYrMSk7ZWxzZSBkKGEsYixjLGYsMSl9fTsKbXhHcmFwaEhpZXJhcmNoeU1vZGVsLnByb3RvdHlwZS5leHRlbmRlZERmcz1mdW5jdGlvbihhLGIsYyxkLGUsZixnLGspe2lmKG51bGwhPWIpaWYobnVsbD09YXx8bnVsbCE9Yi5oYXNoQ29kZSYmYi5oYXNoQ29kZVswXT09YS5oYXNoQ29kZVswXXx8KGY9YS5oYXNoQ29kZS5sZW5ndGgrMSxiLmhhc2hDb2RlPWEuaGFzaENvZGUuc2xpY2UoKSxiLmhhc2hDb2RlW2YtMV09ZyksZz1iLmlkLG51bGw9PWVbZ10pZm9yKGVbZ109YixkKGEsYixjLGssMCksYT1iLmNvbm5lY3RzQXNTb3VyY2Uuc2xpY2UoKSxjPTA7YzxhLmxlbmd0aDtjKyspZz1hW2NdLHRoaXMuZXh0ZW5kZWREZnMoYixnLnRhcmdldCxnLGQsZSxiLmhhc2hDb2RlLGMsaysxKTtlbHNlIGQoYSxiLGMsaywxKX07CmZ1bmN0aW9uIG14U3dpbWxhbmVNb2RlbChhLGIsYyxkLGUpe2EuZ2V0R3JhcGgoKTt0aGlzLnRpZ2h0ZW5Ub1NvdXJjZT1lO3RoaXMucm9vdHM9Yzt0aGlzLnBhcmVudD1kO3RoaXMudmVydGV4TWFwcGVyPW5ldyBteERpY3Rpb25hcnk7dGhpcy5lZGdlTWFwcGVyPW5ldyBteERpY3Rpb25hcnk7dGhpcy5tYXhSYW5rPTA7Yz1bXTtudWxsPT1iJiYoYj10aGlzLmdyYXBoLmdldENoaWxkVmVydGljZXMoZCkpO3RoaXMubWF4UmFuaz10aGlzLlNPVVJDRVNDQU5TVEFSVFJBTks7dGhpcy5jcmVhdGVJbnRlcm5hbENlbGxzKGEsYixjKTtmb3IoZD0wO2Q8Yi5sZW5ndGg7ZCsrKXtlPWNbZF0uY29ubmVjdHNBc1NvdXJjZTtmb3IodmFyIGY9MDtmPGUubGVuZ3RoO2YrKyl7dmFyIGc9ZVtmXSxrPWcuZWRnZXM7aWYobnVsbCE9ayYmMDxrLmxlbmd0aCl7dmFyIGs9a1swXSxsPWEuZ2V0VmlzaWJsZVRlcm1pbmFsKGssITEpLGw9dGhpcy52ZXJ0ZXhNYXBwZXIuZ2V0KGwpO2NbZF09PWwmJihsPQphLmdldFZpc2libGVUZXJtaW5hbChrLCEwKSxsPXRoaXMudmVydGV4TWFwcGVyLmdldChsKSk7bnVsbCE9bCYmY1tkXSE9bCYmKGcudGFyZ2V0PWwsMD09bC5jb25uZWN0c0FzVGFyZ2V0Lmxlbmd0aCYmKGwuY29ubmVjdHNBc1RhcmdldD1bXSksMD5teFV0aWxzLmluZGV4T2YobC5jb25uZWN0c0FzVGFyZ2V0LGcpJiZsLmNvbm5lY3RzQXNUYXJnZXQucHVzaChnKSl9fWNbZF0udGVtcFswXT0xfX1teFN3aW1sYW5lTW9kZWwucHJvdG90eXBlLm1heFJhbms9bnVsbDtteFN3aW1sYW5lTW9kZWwucHJvdG90eXBlLnZlcnRleE1hcHBlcj1udWxsO214U3dpbWxhbmVNb2RlbC5wcm90b3R5cGUuZWRnZU1hcHBlcj1udWxsO214U3dpbWxhbmVNb2RlbC5wcm90b3R5cGUucmFua3M9bnVsbDtteFN3aW1sYW5lTW9kZWwucHJvdG90eXBlLnJvb3RzPW51bGw7bXhTd2ltbGFuZU1vZGVsLnByb3RvdHlwZS5wYXJlbnQ9bnVsbDtteFN3aW1sYW5lTW9kZWwucHJvdG90eXBlLmRmc0NvdW50PTA7Cm14U3dpbWxhbmVNb2RlbC5wcm90b3R5cGUuU09VUkNFU0NBTlNUQVJUUkFOSz0xRTg7bXhTd2ltbGFuZU1vZGVsLnByb3RvdHlwZS50aWdodGVuVG9Tb3VyY2U9ITE7bXhTd2ltbGFuZU1vZGVsLnByb3RvdHlwZS5yYW5rc1Blckdyb3VwPW51bGw7Cm14U3dpbWxhbmVNb2RlbC5wcm90b3R5cGUuY3JlYXRlSW50ZXJuYWxDZWxscz1mdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkPWEuZ2V0R3JhcGgoKSxlPWEuc3dpbWxhbmVzLGY9MDtmPGIubGVuZ3RoO2YrKyl7Y1tmXT1uZXcgbXhHcmFwaEhpZXJhcmNoeU5vZGUoYltmXSk7dGhpcy52ZXJ0ZXhNYXBwZXIucHV0KGJbZl0sY1tmXSk7Y1tmXS5zd2ltbGFuZUluZGV4PS0xO2Zvcih2YXIgZz0wO2c8ZS5sZW5ndGg7ZysrKWlmKGQubW9kZWwuZ2V0UGFyZW50KGJbZl0pPT1lW2ddKXtjW2ZdLnN3aW1sYW5lSW5kZXg9ZzticmVha31nPWEuZ2V0RWRnZXMoYltmXSk7Y1tmXS5jb25uZWN0c0FzU291cmNlPVtdO2Zvcih2YXIgaz0wO2s8Zy5sZW5ndGg7aysrKXt2YXIgbD1hLmdldFZpc2libGVUZXJtaW5hbChnW2tdLCExKTtpZihsIT1iW2ZdJiZhLmdyYXBoLm1vZGVsLmlzVmVydGV4KGwpJiYhYS5pc1ZlcnRleElnbm9yZWQobCkpe3ZhciBtPWEuZ2V0RWRnZXNCZXR3ZWVuKGJbZl0sbCwhMSksCmw9YS5nZXRFZGdlc0JldHdlZW4oYltmXSxsLCEwKTtpZihudWxsIT1tJiYwPG0ubGVuZ3RoJiZudWxsPT10aGlzLmVkZ2VNYXBwZXIuZ2V0KG1bMF0pJiYyKmwubGVuZ3RoPj1tLmxlbmd0aCl7Zm9yKHZhciBsPW5ldyBteEdyYXBoSGllcmFyY2h5RWRnZShtKSxuPTA7bjxtLmxlbmd0aDtuKyspe3ZhciBwPW1bbl07dGhpcy5lZGdlTWFwcGVyLnB1dChwLGwpO2QucmVzZXRFZGdlKHApO2EuZGlzYWJsZUVkZ2VTdHlsZSYmKGEuc2V0RWRnZVN0eWxlRW5hYmxlZChwLCExKSxhLnNldE9ydGhvZ29uYWxFZGdlKHAsITApKX1sLnNvdXJjZT1jW2ZdOzA+bXhVdGlscy5pbmRleE9mKGNbZl0uY29ubmVjdHNBc1NvdXJjZSxsKSYmY1tmXS5jb25uZWN0c0FzU291cmNlLnB1c2gobCl9fX1jW2ZdLnRlbXBbMF09MH19OwpteFN3aW1sYW5lTW9kZWwucHJvdG90eXBlLmluaXRpYWxSYW5rPWZ1bmN0aW9uKCl7dGhpcy5yYW5rc1Blckdyb3VwPVtdO3ZhciBhPVtdLGI9e307aWYobnVsbCE9dGhpcy5yb290cylmb3IodmFyIGM9MDtjPHRoaXMucm9vdHMubGVuZ3RoO2MrKyl7dmFyIGQ9dGhpcy52ZXJ0ZXhNYXBwZXIuZ2V0KHRoaXMucm9vdHNbY10pO3RoaXMubWF4Q2hhaW5EZnMobnVsbCxkLG51bGwsYiwwKTtudWxsIT1kJiZhLnB1c2goZCl9ZD1bXTtiPVtdO2ZvcihjPXRoaXMucmFua3NQZXJHcm91cC5sZW5ndGgtMTswPD1jO2MtLSlkW2NdPWM9PXRoaXMucmFua3NQZXJHcm91cC5sZW5ndGgtMT8wOmJbYysxXSsxLGJbY109ZFtjXSt0aGlzLnJhbmtzUGVyR3JvdXBbY107dGhpcy5tYXhSYW5rPWJbMF07ZD10aGlzLnZlcnRleE1hcHBlci5nZXRWYWx1ZXMoKTtmb3IoYz0wO2M8ZC5sZW5ndGg7YysrKWRbY10udGVtcFswXT0tMTtmb3IoYS5zbGljZSgpOzA8YS5sZW5ndGg7KXt2YXIgZD1hWzBdLGUsZjsKZT1kLmNvbm5lY3RzQXNUYXJnZXQ7Zj1kLmNvbm5lY3RzQXNTb3VyY2U7Zm9yKHZhciBnPSEwLGs9YlswXSxjPTA7YzxlLmxlbmd0aDtjKyspe3ZhciBsPWVbY107aWYoNTI3MDYyMD09bC50ZW1wWzBdKWw9bC5zb3VyY2Usaz1NYXRoLm1pbihrLGwudGVtcFswXS0xKTtlbHNle2c9ITE7YnJlYWt9fWlmKGcpe2s+YltkLnN3aW1sYW5lSW5kZXhdJiYoaz1iW2Quc3dpbWxhbmVJbmRleF0pO2QudGVtcFswXT1rO2lmKG51bGwhPWYpZm9yKGM9MDtjPGYubGVuZ3RoO2MrKylsPWZbY10sbC50ZW1wWzBdPTUyNzA2MjAsbD1sLnRhcmdldCwtMT09bC50ZW1wWzBdJiYoYS5wdXNoKGwpLGwudGVtcFswXT0tMik7YS5zaGlmdCgpfWVsc2UgaWYoYz1hLnNoaWZ0KCksYS5wdXNoKGQpLGM9PWQmJjE9PWEubGVuZ3RoKWJyZWFrfX07Cm14U3dpbWxhbmVNb2RlbC5wcm90b3R5cGUubWF4Q2hhaW5EZnM9ZnVuY3Rpb24oYSxiLGMsZCxlKXtpZihudWxsIT1iJiYoYT1teENlbGxQYXRoLmNyZWF0ZShiLmNlbGwpLG51bGw9PWRbYV0pKXtkW2FdPWI7YT1iLnN3aW1sYW5lSW5kZXg7aWYobnVsbD09dGhpcy5yYW5rc1Blckdyb3VwW2FdfHx0aGlzLnJhbmtzUGVyR3JvdXBbYV08ZSl0aGlzLnJhbmtzUGVyR3JvdXBbYV09ZTthPWIuY29ubmVjdHNBc1NvdXJjZS5zbGljZSgpO2ZvcihjPTA7YzxhLmxlbmd0aDtjKyspe3ZhciBmPWFbY10sZz1mLnRhcmdldDtiLnN3aW1sYW5lSW5kZXg8Zy5zd2ltbGFuZUluZGV4P3RoaXMubWF4Q2hhaW5EZnMoYixnLGYsbXhVdGlscy5jbG9uZShkLG51bGwsITApLDApOmIuc3dpbWxhbmVJbmRleD09Zy5zd2ltbGFuZUluZGV4JiZ0aGlzLm1heENoYWluRGZzKGIsZyxmLG14VXRpbHMuY2xvbmUoZCxudWxsLCEwKSxlKzEpfX19OwpteFN3aW1sYW5lTW9kZWwucHJvdG90eXBlLmZpeFJhbmtzPWZ1bmN0aW9uKCl7dmFyIGE9W107dGhpcy5yYW5rcz1bXTtmb3IodmFyIGI9MDtiPHRoaXMubWF4UmFuaysxO2IrKylhW2JdPVtdLHRoaXMucmFua3NbYl09YVtiXTt2YXIgYz1udWxsO2lmKG51bGwhPXRoaXMucm9vdHMpZm9yKHZhciBkPXRoaXMucm9vdHMsYz1bXSxiPTA7YjxkLmxlbmd0aDtiKyspe3ZhciBlPXRoaXMudmVydGV4TWFwcGVyLmdldChkW2JdKTtjW2JdPWV9dGhpcy52aXNpdChmdW5jdGlvbihiLGMsZCxlLG0pezA9PW0mJjA+Yy5tYXhSYW5rJiYwPmMubWluUmFuayYmKGFbYy50ZW1wWzBdXS5wdXNoKGMpLGMubWF4UmFuaz1jLnRlbXBbMF0sYy5taW5SYW5rPWMudGVtcFswXSxjLnRlbXBbMF09YVtjLm1heFJhbmtdLmxlbmd0aC0xKTtpZihudWxsIT1iJiZudWxsIT1kJiYxPGIubWF4UmFuay1jLm1heFJhbmspZm9yKGQubWF4UmFuaz1iLm1heFJhbmssZC5taW5SYW5rPWMubWF4UmFuayxkLnRlbXA9W10sCmQueD1bXSxkLnk9W10sYj1kLm1pblJhbmsrMTtiPGQubWF4UmFuaztiKyspYVtiXS5wdXNoKGQpLGQuc2V0R2VuZXJhbFB1cnBvc2VWYXJpYWJsZShiLGFbYl0ubGVuZ3RoLTEpfSxjLCExLG51bGwpfTtteFN3aW1sYW5lTW9kZWwucHJvdG90eXBlLnZpc2l0PWZ1bmN0aW9uKGEsYixjLGQpe2lmKG51bGwhPWIpe2Zvcih2YXIgZT0wO2U8Yi5sZW5ndGg7ZSsrKXt2YXIgZj1iW2VdO251bGwhPWYmJihudWxsPT1kJiYoZD17fSksYz8oZi5oYXNoQ29kZT1bXSxmLmhhc2hDb2RlWzBdPXRoaXMuZGZzQ291bnQsZi5oYXNoQ29kZVsxXT1lLHRoaXMuZXh0ZW5kZWREZnMobnVsbCxmLG51bGwsYSxkLGYuaGFzaENvZGUsZSwwKSk6dGhpcy5kZnMobnVsbCxmLG51bGwsYSxkLDApKX10aGlzLmRmc0NvdW50Kyt9fTsKbXhTd2ltbGFuZU1vZGVsLnByb3RvdHlwZS5kZnM9ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe2lmKG51bGwhPWIpe3ZhciBnPWIuaWQ7aWYobnVsbD09ZVtnXSlmb3IoZVtnXT1iLGQoYSxiLGMsZiwwKSxhPWIuY29ubmVjdHNBc1NvdXJjZS5zbGljZSgpLGM9MDtjPGEubGVuZ3RoO2MrKylnPWFbY10sdGhpcy5kZnMoYixnLnRhcmdldCxnLGQsZSxmKzEpO2Vsc2UgZChhLGIsYyxmLDEpfX07Cm14U3dpbWxhbmVNb2RlbC5wcm90b3R5cGUuZXh0ZW5kZWREZnM9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxrKXtpZihudWxsIT1iKWlmKG51bGw9PWF8fG51bGwhPWIuaGFzaENvZGUmJmIuaGFzaENvZGVbMF09PWEuaGFzaENvZGVbMF18fChmPWEuaGFzaENvZGUubGVuZ3RoKzEsYi5oYXNoQ29kZT1hLmhhc2hDb2RlLnNsaWNlKCksYi5oYXNoQ29kZVtmLTFdPWcpLGc9Yi5pZCxudWxsPT1lW2ddKXtlW2ddPWI7ZChhLGIsYyxrLDApO2E9Yi5jb25uZWN0c0FzU291cmNlLnNsaWNlKCk7Yz1iLmNvbm5lY3RzQXNUYXJnZXQuc2xpY2UoKTtmb3IoZz0wO2c8YS5sZW5ndGg7ZysrKXtmPWFbZ107dmFyIGw9Zi50YXJnZXQ7Yi5zd2ltbGFuZUluZGV4PD1sLnN3aW1sYW5lSW5kZXgmJnRoaXMuZXh0ZW5kZWREZnMoYixsLGYsZCxlLGIuaGFzaENvZGUsZyxrKzEpfWZvcihnPTA7ZzxjLmxlbmd0aDtnKyspZj1jW2ddLGw9Zi5zb3VyY2UsYi5zd2ltbGFuZUluZGV4PGwuc3dpbWxhbmVJbmRleCYmCnRoaXMuZXh0ZW5kZWREZnMoYixsLGYsZCxlLGIuaGFzaENvZGUsZyxrKzEpfWVsc2UgZChhLGIsYyxrLDEpfTtmdW5jdGlvbiBteEhpZXJhcmNoaWNhbExheW91dFN0YWdlKCl7fW14SGllcmFyY2hpY2FsTGF5b3V0U3RhZ2UucHJvdG90eXBlLmV4ZWN1dGU9ZnVuY3Rpb24oYSl7fTtmdW5jdGlvbiBteE1lZGlhbkh5YnJpZENyb3NzaW5nUmVkdWN0aW9uKGEpe3RoaXMubGF5b3V0PWF9bXhNZWRpYW5IeWJyaWRDcm9zc2luZ1JlZHVjdGlvbi5wcm90b3R5cGU9bmV3IG14SGllcmFyY2hpY2FsTGF5b3V0U3RhZ2U7bXhNZWRpYW5IeWJyaWRDcm9zc2luZ1JlZHVjdGlvbi5wcm90b3R5cGUuY29uc3RydWN0b3I9bXhNZWRpYW5IeWJyaWRDcm9zc2luZ1JlZHVjdGlvbjtteE1lZGlhbkh5YnJpZENyb3NzaW5nUmVkdWN0aW9uLnByb3RvdHlwZS5sYXlvdXQ9bnVsbDtteE1lZGlhbkh5YnJpZENyb3NzaW5nUmVkdWN0aW9uLnByb3RvdHlwZS5tYXhJdGVyYXRpb25zPTI0OwpteE1lZGlhbkh5YnJpZENyb3NzaW5nUmVkdWN0aW9uLnByb3RvdHlwZS5uZXN0ZWRCZXN0UmFua3M9bnVsbDtteE1lZGlhbkh5YnJpZENyb3NzaW5nUmVkdWN0aW9uLnByb3RvdHlwZS5jdXJyZW50QmVzdENyb3NzaW5ncz0wO214TWVkaWFuSHlicmlkQ3Jvc3NpbmdSZWR1Y3Rpb24ucHJvdG90eXBlLml0ZXJhdGlvbnNXaXRob3V0SW1wcm92ZW1lbnQ9MDtteE1lZGlhbkh5YnJpZENyb3NzaW5nUmVkdWN0aW9uLnByb3RvdHlwZS5tYXhOb0ltcHJvdmVtZW50SXRlcmF0aW9ucz0yOwpteE1lZGlhbkh5YnJpZENyb3NzaW5nUmVkdWN0aW9uLnByb3RvdHlwZS5leGVjdXRlPWZ1bmN0aW9uKGEpe2E9dGhpcy5sYXlvdXQuZ2V0TW9kZWwoKTt0aGlzLm5lc3RlZEJlc3RSYW5rcz1bXTtmb3IodmFyIGI9MDtiPGEucmFua3MubGVuZ3RoO2IrKyl0aGlzLm5lc3RlZEJlc3RSYW5rc1tiXT1hLnJhbmtzW2JdLnNsaWNlKCk7Zm9yKHZhciBjPTAsZD10aGlzLmNhbGN1bGF0ZUNyb3NzaW5ncyhhKSxiPTA7Yjx0aGlzLm1heEl0ZXJhdGlvbnMmJmM8dGhpcy5tYXhOb0ltcHJvdmVtZW50SXRlcmF0aW9ucztiKyspe3RoaXMud2VpZ2h0ZWRNZWRpYW4oYixhKTt0aGlzLnRyYW5zcG9zZShiLGEpO3ZhciBlPXRoaXMuY2FsY3VsYXRlQ3Jvc3NpbmdzKGEpO2lmKGU8ZClmb3IoZD1lLGU9Yz0wO2U8dGhpcy5uZXN0ZWRCZXN0UmFua3MubGVuZ3RoO2UrKylmb3IodmFyIGY9YS5yYW5rc1tlXSxnPTA7ZzxmLmxlbmd0aDtnKyspe3ZhciBrPWZbZ107dGhpcy5uZXN0ZWRCZXN0UmFua3NbZV1bay5nZXRHZW5lcmFsUHVycG9zZVZhcmlhYmxlKGUpXT0Ka31lbHNlIGZvcihjKyssZT0wO2U8dGhpcy5uZXN0ZWRCZXN0UmFua3MubGVuZ3RoO2UrKylmb3IoZj1hLnJhbmtzW2VdLGc9MDtnPGYubGVuZ3RoO2crKylrPWZbZ10say5zZXRHZW5lcmFsUHVycG9zZVZhcmlhYmxlKGUsZyk7aWYoMD09ZClicmVha31jPVtdO2Q9W107Zm9yKGI9MDtiPGEubWF4UmFuaysxO2IrKylkW2JdPVtdLGNbYl09ZFtiXTtmb3IoYj0wO2I8dGhpcy5uZXN0ZWRCZXN0UmFua3MubGVuZ3RoO2IrKylmb3IoZT0wO2U8dGhpcy5uZXN0ZWRCZXN0UmFua3NbYl0ubGVuZ3RoO2UrKylkW2JdLnB1c2godGhpcy5uZXN0ZWRCZXN0UmFua3NbYl1bZV0pO2EucmFua3M9Y307bXhNZWRpYW5IeWJyaWRDcm9zc2luZ1JlZHVjdGlvbi5wcm90b3R5cGUuY2FsY3VsYXRlQ3Jvc3NpbmdzPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1hLnJhbmtzLmxlbmd0aCxjPTAsZD0xO2Q8YjtkKyspYys9dGhpcy5jYWxjdWxhdGVSYW5rQ3Jvc3NpbmcoZCxhKTtyZXR1cm4gY307Cm14TWVkaWFuSHlicmlkQ3Jvc3NpbmdSZWR1Y3Rpb24ucHJvdG90eXBlLmNhbGN1bGF0ZVJhbmtDcm9zc2luZz1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYz0wLGQ9Yi5yYW5rc1thXSxlPWIucmFua3NbYS0xXSxmPVtdLGc9MDtnPGQubGVuZ3RoO2crKyl7Zm9yKHZhciBrPWRbZ10sbD1rLmdldEdlbmVyYWxQdXJwb3NlVmFyaWFibGUoYSksaz1rLmdldFByZXZpb3VzTGF5ZXJDb25uZWN0ZWRDZWxscyhhKSxtPVtdLG49MDtuPGsubGVuZ3RoO24rKyl7dmFyIHA9a1tuXS5nZXRHZW5lcmFsUHVycG9zZVZhcmlhYmxlKGEtMSk7bS5wdXNoKHApfW0uc29ydChmdW5jdGlvbihhLGIpe3JldHVybiBhLWJ9KTtmW2xdPW19ZD1bXTtmb3IoZz0wO2c8Zi5sZW5ndGg7ZysrKWQ9ZC5jb25jYXQoZltnXSk7Zm9yKGY9MTtmPGUubGVuZ3RoOylmPDw9MTtsPTIqZi0xOy0tZjtlPVtdO2ZvcihnPTA7ZzxsOysrZyllW2ddPTA7Zm9yKGc9MDtnPGQubGVuZ3RoO2crKylmb3IobD1kW2ddK2YsKytlW2xdOzA8Cmw7KWwlMiYmKGMrPWVbbCsxXSksbD1sLTE+PjEsKytlW2xdO3JldHVybiBjfTsKbXhNZWRpYW5IeWJyaWRDcm9zc2luZ1JlZHVjdGlvbi5wcm90b3R5cGUudHJhbnNwb3NlPWZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPSEwLGQ9MDtjJiYxMD5kKys7KWZvcih2YXIgZT0xPT1hJTImJjE9PWQlMixjPSExLGY9MDtmPGIucmFua3MubGVuZ3RoO2YrKyl7Zm9yKHZhciBnPWIucmFua3NbZl0saz1bXSxsPTA7bDxnLmxlbmd0aDtsKyspe3ZhciBtPWdbbF0sbj1tLmdldEdlbmVyYWxQdXJwb3NlVmFyaWFibGUoZik7MD5uJiYobj1sKTtrW25dPW19Zm9yKHZhciBwPW51bGwscT1udWxsLHIsdCx1PW51bGwseD1udWxsLHksQj1udWxsLGw9MDtsPGcubGVuZ3RoLTE7bCsrKXtpZigwPT1sKXt5PWtbbF07bT15LmdldE5leHRMYXllckNvbm5lY3RlZENlbGxzKGYpO249eS5nZXRQcmV2aW91c0xheWVyQ29ubmVjdGVkQ2VsbHMoZik7cj1bXTt0PVtdO2Zvcih2YXIgQT0wO0E8bS5sZW5ndGg7QSsrKXJbQV09bVtBXS5nZXRHZW5lcmFsUHVycG9zZVZhcmlhYmxlKGYrMSk7Zm9yKEE9CjA7QTxuLmxlbmd0aDtBKyspdFtBXT1uW0FdLmdldEdlbmVyYWxQdXJwb3NlVmFyaWFibGUoZi0xKX1lbHNlIG09cCxuPXEscj11LHQ9eCx5PUI7Qj1rW2wrMV07cD1CLmdldE5leHRMYXllckNvbm5lY3RlZENlbGxzKGYpO3E9Qi5nZXRQcmV2aW91c0xheWVyQ29ubmVjdGVkQ2VsbHMoZik7dT1bXTt4PVtdO2ZvcihBPTA7QTxwLmxlbmd0aDtBKyspdVtBXT1wW0FdLmdldEdlbmVyYWxQdXJwb3NlVmFyaWFibGUoZisxKTtmb3IoQT0wO0E8cS5sZW5ndGg7QSsrKXhbQV09cVtBXS5nZXRHZW5lcmFsUHVycG9zZVZhcmlhYmxlKGYtMSk7Zm9yKHZhciB6PTAsQz0wLEE9MDtBPHIubGVuZ3RoO0ErKylmb3IodmFyIHY9MDt2PHUubGVuZ3RoO3YrKylyW0FdPnVbdl0mJnorKyxyW0FdPHVbdl0mJkMrKztmb3IoQT0wO0E8dC5sZW5ndGg7QSsrKWZvcih2PTA7djx4Lmxlbmd0aDt2KyspdFtBXT54W3ZdJiZ6KyssdFtBXTx4W3ZdJiZDKys7aWYoQzx6fHxDPT16JiZlKXA9eS5nZXRHZW5lcmFsUHVycG9zZVZhcmlhYmxlKGYpLAp5LnNldEdlbmVyYWxQdXJwb3NlVmFyaWFibGUoZixCLmdldEdlbmVyYWxQdXJwb3NlVmFyaWFibGUoZikpLEIuc2V0R2VuZXJhbFB1cnBvc2VWYXJpYWJsZShmLHApLHA9bSxxPW4sdT1yLHg9dCxCPXksZXx8KGM9ITApfX19O214TWVkaWFuSHlicmlkQ3Jvc3NpbmdSZWR1Y3Rpb24ucHJvdG90eXBlLndlaWdodGVkTWVkaWFuPWZ1bmN0aW9uKGEsYil7dmFyIGM9MD09YSUyO2lmKGMpZm9yKHZhciBkPWIubWF4UmFuay0xOzA8PWQ7ZC0tKXRoaXMubWVkaWFuUmFuayhkLGMpO2Vsc2UgZm9yKGQ9MTtkPGIubWF4UmFuaztkKyspdGhpcy5tZWRpYW5SYW5rKGQsYyl9OwpteE1lZGlhbkh5YnJpZENyb3NzaW5nUmVkdWN0aW9uLnByb3RvdHlwZS5tZWRpYW5SYW5rPWZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPXRoaXMubmVzdGVkQmVzdFJhbmtzW2FdLmxlbmd0aCxkPVtdLGU9W10sZj0wO2Y8YztmKyspe3ZhciBnPXRoaXMubmVzdGVkQmVzdFJhbmtzW2FdW2ZdLGs9bmV3IE1lZGlhbkNlbGxTb3J0ZXI7ay5jZWxsPWc7dmFyIGw7bD1iP2cuZ2V0TmV4dExheWVyQ29ubmVjdGVkQ2VsbHMoYSk6Zy5nZXRQcmV2aW91c0xheWVyQ29ubmVjdGVkQ2VsbHMoYSk7dmFyIG07bT1iP2ErMTphLTE7bnVsbCE9bCYmMCE9bC5sZW5ndGg/KGsubWVkaWFuVmFsdWU9dGhpcy5tZWRpYW5WYWx1ZShsLG0pLGQucHVzaChrKSk6ZVtnLmdldEdlbmVyYWxQdXJwb3NlVmFyaWFibGUoYSldPSEwfWQuc29ydChNZWRpYW5DZWxsU29ydGVyLnByb3RvdHlwZS5jb21wYXJlKTtmb3IoZj0wO2Y8YztmKyspbnVsbD09ZVtmXSYmKGc9ZC5zaGlmdCgpLmNlbGwsZy5zZXRHZW5lcmFsUHVycG9zZVZhcmlhYmxlKGEsCmYpKX07bXhNZWRpYW5IeWJyaWRDcm9zc2luZ1JlZHVjdGlvbi5wcm90b3R5cGUubWVkaWFuVmFsdWU9ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9W10sZD0wLGU9MDtlPGEubGVuZ3RoO2UrKyl7dmFyIGY9YVtlXTtjW2QrK109Zi5nZXRHZW5lcmFsUHVycG9zZVZhcmlhYmxlKGIpfWMuc29ydChmdW5jdGlvbihhLGIpe3JldHVybiBhLWJ9KTtpZigxPT1kJTIpcmV0dXJuIGNbTWF0aC5mbG9vcihkLzIpXTtpZigyPT1kKXJldHVybihjWzBdK2NbMV0pLzI7ZT1kLzI7Zj1jW2UtMV0tY1swXTtkPWNbZC0xXS1jW2VdO3JldHVybihjW2UtMV0qZCtjW2VdKmYpLyhmK2QpfTtmdW5jdGlvbiBNZWRpYW5DZWxsU29ydGVyKCl7fU1lZGlhbkNlbGxTb3J0ZXIucHJvdG90eXBlLm1lZGlhblZhbHVlPTA7TWVkaWFuQ2VsbFNvcnRlci5wcm90b3R5cGUuY2VsbD0hMTsKTWVkaWFuQ2VsbFNvcnRlci5wcm90b3R5cGUuY29tcGFyZT1mdW5jdGlvbihhLGIpe3JldHVybiBudWxsIT1hJiZudWxsIT1iP2IubWVkaWFuVmFsdWU+YS5tZWRpYW5WYWx1ZT8tMTpiLm1lZGlhblZhbHVlPGEubWVkaWFuVmFsdWU/MTowOjB9O2Z1bmN0aW9uIG14TWluaW11bUN5Y2xlUmVtb3ZlcihhKXt0aGlzLmxheW91dD1hfW14TWluaW11bUN5Y2xlUmVtb3Zlci5wcm90b3R5cGU9bmV3IG14SGllcmFyY2hpY2FsTGF5b3V0U3RhZ2U7bXhNaW5pbXVtQ3ljbGVSZW1vdmVyLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1teE1pbmltdW1DeWNsZVJlbW92ZXI7bXhNaW5pbXVtQ3ljbGVSZW1vdmVyLnByb3RvdHlwZS5sYXlvdXQ9bnVsbDsKbXhNaW5pbXVtQ3ljbGVSZW1vdmVyLnByb3RvdHlwZS5leGVjdXRlPWZ1bmN0aW9uKGEpe2E9dGhpcy5sYXlvdXQuZ2V0TW9kZWwoKTtmb3IodmFyIGI9e30sYz1hLnZlcnRleE1hcHBlci5nZXRWYWx1ZXMoKSxkPXt9LGU9MDtlPGMubGVuZ3RoO2UrKylkW2NbZV0uaWRdPWNbZV07Yz1udWxsO2lmKG51bGwhPWEucm9vdHMpZm9yKHZhciBmPWEucm9vdHMsYz1bXSxlPTA7ZTxmLmxlbmd0aDtlKyspY1tlXT1hLnZlcnRleE1hcHBlci5nZXQoZltlXSk7YS52aXNpdChmdW5jdGlvbihhLGMsZSxmLG4pe2MuaXNBbmNlc3RvcihhKSYmKGUuaW52ZXJ0KCksbXhVdGlscy5yZW1vdmUoZSxhLmNvbm5lY3RzQXNTb3VyY2UpLGEuY29ubmVjdHNBc1RhcmdldC5wdXNoKGUpLG14VXRpbHMucmVtb3ZlKGUsYy5jb25uZWN0c0FzVGFyZ2V0KSxjLmNvbm5lY3RzQXNTb3VyY2UucHVzaChlKSk7YltjLmlkXT1jO2RlbGV0ZSBkW2MuaWRdfSxjLCEwLG51bGwpO2U9bXhVdGlscy5jbG9uZShiLG51bGwsCiEwKTthLnZpc2l0KGZ1bmN0aW9uKGEsYyxlLGYsbil7Yy5pc0FuY2VzdG9yKGEpJiYoZS5pbnZlcnQoKSxteFV0aWxzLnJlbW92ZShlLGEuY29ubmVjdHNBc1NvdXJjZSksYy5jb25uZWN0c0FzU291cmNlLnB1c2goZSksYS5jb25uZWN0c0FzVGFyZ2V0LnB1c2goZSksbXhVdGlscy5yZW1vdmUoZSxjLmNvbm5lY3RzQXNUYXJnZXQpKTtiW2MuaWRdPWM7ZGVsZXRlIGRbYy5pZF19LGQsITAsZSl9O2Z1bmN0aW9uIG14Q29vcmRpbmF0ZUFzc2lnbm1lbnQoYSxiLGMsZCxlLGYpe3RoaXMubGF5b3V0PWE7dGhpcy5pbnRyYUNlbGxTcGFjaW5nPWI7dGhpcy5pbnRlclJhbmtDZWxsU3BhY2luZz1jO3RoaXMub3JpZW50YXRpb249ZDt0aGlzLmluaXRpYWxYPWU7dGhpcy5wYXJhbGxlbEVkZ2VTcGFjaW5nPWZ9bXhDb29yZGluYXRlQXNzaWdubWVudC5wcm90b3R5cGU9bmV3IG14SGllcmFyY2hpY2FsTGF5b3V0U3RhZ2U7Cm14Q29vcmRpbmF0ZUFzc2lnbm1lbnQucHJvdG90eXBlLmNvbnN0cnVjdG9yPW14Q29vcmRpbmF0ZUFzc2lnbm1lbnQ7bXhDb29yZGluYXRlQXNzaWdubWVudC5wcm90b3R5cGUubGF5b3V0PW51bGw7bXhDb29yZGluYXRlQXNzaWdubWVudC5wcm90b3R5cGUuaW50cmFDZWxsU3BhY2luZz0zMDtteENvb3JkaW5hdGVBc3NpZ25tZW50LnByb3RvdHlwZS5pbnRlclJhbmtDZWxsU3BhY2luZz0xMDA7bXhDb29yZGluYXRlQXNzaWdubWVudC5wcm90b3R5cGUucGFyYWxsZWxFZGdlU3BhY2luZz0xMDtteENvb3JkaW5hdGVBc3NpZ25tZW50LnByb3RvdHlwZS5tYXhJdGVyYXRpb25zPTg7bXhDb29yZGluYXRlQXNzaWdubWVudC5wcm90b3R5cGUucHJlZkhvekVkZ2VTZXA9NTtteENvb3JkaW5hdGVBc3NpZ25tZW50LnByb3RvdHlwZS5wcmVmVmVydEVkZ2VPZmY9MjtteENvb3JkaW5hdGVBc3NpZ25tZW50LnByb3RvdHlwZS5taW5FZGdlSmV0dHk9MTI7Cm14Q29vcmRpbmF0ZUFzc2lnbm1lbnQucHJvdG90eXBlLmNoYW5uZWxCdWZmZXI9NDtteENvb3JkaW5hdGVBc3NpZ25tZW50LnByb3RvdHlwZS5qZXR0eVBvc2l0aW9ucz1udWxsO214Q29vcmRpbmF0ZUFzc2lnbm1lbnQucHJvdG90eXBlLm9yaWVudGF0aW9uPW14Q29uc3RhbnRzLkRJUkVDVElPTl9OT1JUSDtteENvb3JkaW5hdGVBc3NpZ25tZW50LnByb3RvdHlwZS5pbml0aWFsWD1udWxsO214Q29vcmRpbmF0ZUFzc2lnbm1lbnQucHJvdG90eXBlLmxpbWl0WD1udWxsO214Q29vcmRpbmF0ZUFzc2lnbm1lbnQucHJvdG90eXBlLmN1cnJlbnRYRGVsdGE9bnVsbDtteENvb3JkaW5hdGVBc3NpZ25tZW50LnByb3RvdHlwZS53aWRlc3RSYW5rPW51bGw7bXhDb29yZGluYXRlQXNzaWdubWVudC5wcm90b3R5cGUucmFua1RvcFk9bnVsbDtteENvb3JkaW5hdGVBc3NpZ25tZW50LnByb3RvdHlwZS5yYW5rQm90dG9tWT1udWxsOwpteENvb3JkaW5hdGVBc3NpZ25tZW50LnByb3RvdHlwZS53aWRlc3RSYW5rVmFsdWU9bnVsbDtteENvb3JkaW5hdGVBc3NpZ25tZW50LnByb3RvdHlwZS5yYW5rV2lkdGhzPW51bGw7bXhDb29yZGluYXRlQXNzaWdubWVudC5wcm90b3R5cGUucmFua1k9bnVsbDtteENvb3JkaW5hdGVBc3NpZ25tZW50LnByb3RvdHlwZS5maW5lVHVuaW5nPSEwO214Q29vcmRpbmF0ZUFzc2lnbm1lbnQucHJvdG90eXBlLm5leHRMYXllckNvbm5lY3RlZENhY2hlPW51bGw7bXhDb29yZGluYXRlQXNzaWdubWVudC5wcm90b3R5cGUucHJldmlvdXNMYXllckNvbm5lY3RlZENhY2hlPW51bGw7bXhDb29yZGluYXRlQXNzaWdubWVudC5wcm90b3R5cGUuZ3JvdXBQYWRkaW5nPTEwOwpteENvb3JkaW5hdGVBc3NpZ25tZW50LnByb3RvdHlwZS5wcmludFN0YXR1cz1mdW5jdGlvbigpe3ZhciBhPXRoaXMubGF5b3V0LmdldE1vZGVsKCk7bXhMb2cuc2hvdygpO214TG9nLndyaXRlbG4oIj09PT09PUNvb3JkIGFzc2lnbm1lbnQgZGVidWc9PT09PT09Iik7Zm9yKHZhciBiPTA7YjxhLnJhbmtzLmxlbmd0aDtiKyspe214TG9nLndyaXRlKCJSYW5rICIsYiwiIDogIik7Zm9yKHZhciBjPWEucmFua3NbYl0sZD0wO2Q8Yy5sZW5ndGg7ZCsrKW14TG9nLndyaXRlKGNbZF0uZ2V0R2VuZXJhbFB1cnBvc2VWYXJpYWJsZShiKSwiICAiKTtteExvZy53cml0ZWxuKCl9bXhMb2cud3JpdGVsbigiPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Iil9OwpteENvb3JkaW5hdGVBc3NpZ25tZW50LnByb3RvdHlwZS5leGVjdXRlPWZ1bmN0aW9uKGEpe3RoaXMuamV0dHlQb3NpdGlvbnM9e307YT10aGlzLmxheW91dC5nZXRNb2RlbCgpO3RoaXMuY3VycmVudFhEZWx0YT0wO3RoaXMuaW5pdGlhbENvb3Jkcyh0aGlzLmxheW91dC5nZXRHcmFwaCgpLGEpO3RoaXMuZmluZVR1bmluZyYmdGhpcy5taW5Ob2RlKGEpO3ZhciBiPTFFODtpZih0aGlzLmZpbmVUdW5pbmcpZm9yKHZhciBjPTA7Yzx0aGlzLm1heEl0ZXJhdGlvbnM7YysrKXswIT1jJiYodGhpcy5tZWRpYW5Qb3MoYyxhKSx0aGlzLm1pbk5vZGUoYSkpO2lmKHRoaXMuY3VycmVudFhEZWx0YTxiKXtmb3IodmFyIGQ9MDtkPGEucmFua3MubGVuZ3RoO2QrKylmb3IodmFyIGU9YS5yYW5rc1tkXSxmPTA7ZjxlLmxlbmd0aDtmKyspe3ZhciBnPWVbZl07Zy5zZXRYKGQsZy5nZXRHZW5lcmFsUHVycG9zZVZhcmlhYmxlKGQpKX1iPXRoaXMuY3VycmVudFhEZWx0YX1lbHNlIGZvcihkPTA7ZDxhLnJhbmtzLmxlbmd0aDtkKyspZm9yKGU9CmEucmFua3NbZF0sZj0wO2Y8ZS5sZW5ndGg7ZisrKWc9ZVtmXSxnLnNldEdlbmVyYWxQdXJwb3NlVmFyaWFibGUoZCxnLmdldFgoZCkpO3RoaXMubWluUGF0aCh0aGlzLmxheW91dC5nZXRHcmFwaCgpLGEpO3RoaXMuY3VycmVudFhEZWx0YT0wfXRoaXMuc2V0Q2VsbExvY2F0aW9ucyh0aGlzLmxheW91dC5nZXRHcmFwaCgpLGEpfTsKbXhDb29yZGluYXRlQXNzaWdubWVudC5wcm90b3R5cGUubWluTm9kZT1mdW5jdGlvbihhKXtmb3IodmFyIGI9W10sYz1uZXcgbXhEaWN0aW9uYXJ5LGQ9W10sZT0wO2U8PWEubWF4UmFuaztlKyspe2RbZV09YS5yYW5rc1tlXTtmb3IodmFyIGY9MDtmPGRbZV0ubGVuZ3RoO2YrKyl7dmFyIGc9ZFtlXVtmXSxrPW5ldyBXZWlnaHRlZENlbGxTb3J0ZXIoZyxlKTtrLnJhbmtJbmRleD1mO2sudmlzaXRlZD0hMDtiLnB1c2goayk7Yy5wdXQoZyxrKX19YT0xMCpiLmxlbmd0aDtmb3IoZj0wOzA8Yi5sZW5ndGgmJmY8PWE7KXt2YXIgZz1iLnNoaWZ0KCksZT1nLmNlbGwsbD1nLndlaWdodGVkVmFsdWUsbT1wYXJzZUludChnLnJhbmtJbmRleCksaz1lLmdldE5leHRMYXllckNvbm5lY3RlZENlbGxzKGwpLG49ZS5nZXRQcmV2aW91c0xheWVyQ29ubmVjdGVkQ2VsbHMobCkscD1rLmxlbmd0aCxxPW4ubGVuZ3RoLHI9dGhpcy5tZWRpYW5YVmFsdWUoayxsKzEpLHQ9dGhpcy5tZWRpYW5YVmFsdWUobiwKbC0xKSx1PXArcSx4PWUuZ2V0R2VuZXJhbFB1cnBvc2VWYXJpYWJsZShsKSx5PXg7MDx1JiYoeT0ocipwK3QqcSkvdSk7cD0hMTt5PHgtMT8wPT1tPyhlLnNldEdlbmVyYWxQdXJwb3NlVmFyaWFibGUobCx5KSxwPSEwKToobT1kW2xdW20tMV0seD1tLmdldEdlbmVyYWxQdXJwb3NlVmFyaWFibGUobCkseD14K20ud2lkdGgvMit0aGlzLmludHJhQ2VsbFNwYWNpbmcrZS53aWR0aC8yLHg8eT8oZS5zZXRHZW5lcmFsUHVycG9zZVZhcmlhYmxlKGwseSkscD0hMCk6eDxlLmdldEdlbmVyYWxQdXJwb3NlVmFyaWFibGUobCktMSYmKGUuc2V0R2VuZXJhbFB1cnBvc2VWYXJpYWJsZShsLHgpLHA9ITApKTp5PngrMSYmKG09PWRbbF0ubGVuZ3RoLTE/KGUuc2V0R2VuZXJhbFB1cnBvc2VWYXJpYWJsZShsLHkpLHA9ITApOihtPWRbbF1bbSsxXSx4PW0uZ2V0R2VuZXJhbFB1cnBvc2VWYXJpYWJsZShsKSx4PXgtbS53aWR0aC8yLXRoaXMuaW50cmFDZWxsU3BhY2luZy1lLndpZHRoLzIseD55PyhlLnNldEdlbmVyYWxQdXJwb3NlVmFyaWFibGUobCwKeSkscD0hMCk6eD5lLmdldEdlbmVyYWxQdXJwb3NlVmFyaWFibGUobCkrMSYmKGUuc2V0R2VuZXJhbFB1cnBvc2VWYXJpYWJsZShsLHgpLHA9ITApKSk7aWYocCl7Zm9yKGU9MDtlPGsubGVuZ3RoO2UrKylsPWtbZV0sbD1jLmdldChsKSxudWxsIT1sJiYwPT1sLnZpc2l0ZWQmJihsLnZpc2l0ZWQ9ITAsYi5wdXNoKGwpKTtmb3IoZT0wO2U8bi5sZW5ndGg7ZSsrKWw9bltlXSxsPWMuZ2V0KGwpLG51bGwhPWwmJjA9PWwudmlzaXRlZCYmKGwudmlzaXRlZD0hMCxiLnB1c2gobCkpfWcudmlzaXRlZD0hMTtmKyt9fTtteENvb3JkaW5hdGVBc3NpZ25tZW50LnByb3RvdHlwZS5tZWRpYW5Qb3M9ZnVuY3Rpb24oYSxiKXtpZigwPT1hJTIpZm9yKHZhciBjPWIubWF4UmFuazswPGM7Yy0tKXRoaXMucmFua01lZGlhblBvc2l0aW9uKGMtMSxiLGMpO2Vsc2UgZm9yKGM9MDtjPGIubWF4UmFuay0xO2MrKyl0aGlzLnJhbmtNZWRpYW5Qb3NpdGlvbihjKzEsYixjKX07Cm14Q29vcmRpbmF0ZUFzc2lnbm1lbnQucHJvdG90eXBlLnJhbmtNZWRpYW5Qb3NpdGlvbj1mdW5jdGlvbihhLGIsYyl7Yj1iLnJhbmtzW2FdO2Zvcih2YXIgZD1bXSxlPXt9LGY9MDtmPGIubGVuZ3RoO2YrKyl7dmFyIGc9YltmXTtkW2ZdPW5ldyBXZWlnaHRlZENlbGxTb3J0ZXI7ZFtmXS5jZWxsPWc7ZFtmXS5yYW5rSW5kZXg9ZjtlW2cuaWRdPWRbZl07dmFyIGs7az1jPGE/Zy5nZXRQcmV2aW91c0xheWVyQ29ubmVjdGVkQ2VsbHMoYSk6Zy5nZXROZXh0TGF5ZXJDb25uZWN0ZWRDZWxscyhhKTtkW2ZdLndlaWdodGVkVmFsdWU9dGhpcy5jYWxjdWxhdGVkV2VpZ2h0ZWRWYWx1ZShnLGspfWQuc29ydChXZWlnaHRlZENlbGxTb3J0ZXIucHJvdG90eXBlLmNvbXBhcmUpO2ZvcihmPTA7ZjxkLmxlbmd0aDtmKyspe3ZhciBsLGc9ZFtmXS5jZWxsO2w9MDtrPWM8YT9nLmdldFByZXZpb3VzTGF5ZXJDb25uZWN0ZWRDZWxscyhhKS5zbGljZSgpOmcuZ2V0TmV4dExheWVyQ29ubmVjdGVkQ2VsbHMoYSkuc2xpY2UoKTsKbnVsbCE9ayYmKGw9ay5sZW5ndGgsbD0wPGw/dGhpcy5tZWRpYW5YVmFsdWUoayxjKTpnLmdldEdlbmVyYWxQdXJwb3NlVmFyaWFibGUoYSkpO3ZhciBtPTA7az0tMUU4O2Zvcih2YXIgbj1kW2ZdLnJhbmtJbmRleC0xOzA8PW47KXt2YXIgcD1lW2Jbbl0uaWRdO2lmKG51bGwhPXApe3ZhciBxPXAuY2VsbDtwLnZpc2l0ZWQ/KGs9cS5nZXRHZW5lcmFsUHVycG9zZVZhcmlhYmxlKGEpK3Eud2lkdGgvMit0aGlzLmludHJhQ2VsbFNwYWNpbmcrbStnLndpZHRoLzIsbj0tMSk6KG0rPXEud2lkdGgrdGhpcy5pbnRyYUNlbGxTcGFjaW5nLG4tLSl9fW09MDtxPTFFODtmb3Iobj1kW2ZdLnJhbmtJbmRleCsxO248ZC5sZW5ndGg7KWlmKHA9ZVtiW25dLmlkXSxudWxsIT1wKXt2YXIgcj1wLmNlbGw7cC52aXNpdGVkPyhxPXIuZ2V0R2VuZXJhbFB1cnBvc2VWYXJpYWJsZShhKS1yLndpZHRoLzItdGhpcy5pbnRyYUNlbGxTcGFjaW5nLW0tZy53aWR0aC8yLG49ZC5sZW5ndGgpOihtKz1yLndpZHRoKwp0aGlzLmludHJhQ2VsbFNwYWNpbmcsbisrKX1sPj1rJiZsPD1xP2cuc2V0R2VuZXJhbFB1cnBvc2VWYXJpYWJsZShhLGwpOmw8az8oZy5zZXRHZW5lcmFsUHVycG9zZVZhcmlhYmxlKGEsayksdGhpcy5jdXJyZW50WERlbHRhKz1rLWwpOmw+cSYmKGcuc2V0R2VuZXJhbFB1cnBvc2VWYXJpYWJsZShhLHEpLHRoaXMuY3VycmVudFhEZWx0YSs9bC1xKTtkW2ZdLnZpc2l0ZWQ9ITB9fTtteENvb3JkaW5hdGVBc3NpZ25tZW50LnByb3RvdHlwZS5jYWxjdWxhdGVkV2VpZ2h0ZWRWYWx1ZT1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYz0wLGQ9MDtkPGIubGVuZ3RoO2QrKyl7dmFyIGU9YltkXTthLmlzVmVydGV4KCkmJmUuaXNWZXJ0ZXgoKT9jKys6Yz1hLmlzRWRnZSgpJiZlLmlzRWRnZSgpP2MrODpjKzJ9cmV0dXJuIGN9OwpteENvb3JkaW5hdGVBc3NpZ25tZW50LnByb3RvdHlwZS5tZWRpYW5YVmFsdWU9ZnVuY3Rpb24oYSxiKXtpZigwPT1hLmxlbmd0aClyZXR1cm4gMDtmb3IodmFyIGM9W10sZD0wO2Q8YS5sZW5ndGg7ZCsrKWNbZF09YVtkXS5nZXRHZW5lcmFsUHVycG9zZVZhcmlhYmxlKGIpO2Muc29ydChmdW5jdGlvbihhLGIpe3JldHVybiBhLWJ9KTtpZigxPT1hLmxlbmd0aCUyKXJldHVybiBjW01hdGguZmxvb3IoYS5sZW5ndGgvMildO2Q9YS5sZW5ndGgvMjtyZXR1cm4oY1tkLTFdK2NbZF0pLzJ9OwpteENvb3JkaW5hdGVBc3NpZ25tZW50LnByb3RvdHlwZS5pbml0aWFsQ29vcmRzPWZ1bmN0aW9uKGEsYil7dGhpcy5jYWxjdWxhdGVXaWRlc3RSYW5rKGEsYik7Zm9yKHZhciBjPXRoaXMud2lkZXN0UmFuazswPD1jO2MtLSljPGIubWF4UmFuayYmdGhpcy5yYW5rQ29vcmRpbmF0ZXMoYyxhLGIpO2ZvcihjPXRoaXMud2lkZXN0UmFuaysxO2M8PWIubWF4UmFuaztjKyspMDxjJiZ0aGlzLnJhbmtDb29yZGluYXRlcyhjLGEsYil9OwpteENvb3JkaW5hdGVBc3NpZ25tZW50LnByb3RvdHlwZS5yYW5rQ29vcmRpbmF0ZXM9ZnVuY3Rpb24oYSxiLGMpe2I9Yy5yYW5rc1thXTtjPXRoaXMuaW5pdGlhbFgrKHRoaXMud2lkZXN0UmFua1ZhbHVlLXRoaXMucmFua1dpZHRoc1thXSkvMjtmb3IodmFyIGQ9ITEsZT0wO2U8Yi5sZW5ndGg7ZSsrKXt2YXIgZj1iW2VdO2lmKGYuaXNWZXJ0ZXgoKSl7dmFyIGc9dGhpcy5sYXlvdXQuZ2V0VmVydGV4Qm91bmRzKGYuY2VsbCk7bnVsbCE9Zz90aGlzLm9yaWVudGF0aW9uPT1teENvbnN0YW50cy5ESVJFQ1RJT05fTk9SVEh8fHRoaXMub3JpZW50YXRpb249PW14Q29uc3RhbnRzLkRJUkVDVElPTl9TT1VUSD8oZi53aWR0aD1nLndpZHRoLGYuaGVpZ2h0PWcuaGVpZ2h0KTooZi53aWR0aD1nLmhlaWdodCxmLmhlaWdodD1nLndpZHRoKTpkPSEwfWVsc2UgZi5pc0VkZ2UoKSYmKGc9MSxudWxsIT1mLmVkZ2VzP2c9Zi5lZGdlcy5sZW5ndGg6bXhMb2cud2FybigiZWRnZS5lZGdlcyBpcyBudWxsIiksCmYud2lkdGg9KGctMSkqdGhpcy5wYXJhbGxlbEVkZ2VTcGFjaW5nKTtjKz1mLndpZHRoLzI7Zi5zZXRYKGEsYyk7Zi5zZXRHZW5lcmFsUHVycG9zZVZhcmlhYmxlKGEsYyk7Yys9Zi53aWR0aC8yO2MrPXRoaXMuaW50cmFDZWxsU3BhY2luZ30xPT1kJiZteExvZy53YXJuKCJBdCBsZWFzdCBvbmUgY2VsbCBoYXMgbm8gYm91bmRzIil9OwpteENvb3JkaW5hdGVBc3NpZ25tZW50LnByb3RvdHlwZS5jYWxjdWxhdGVXaWRlc3RSYW5rPWZ1bmN0aW9uKGEsYil7dmFyIGM9LXRoaXMuaW50ZXJSYW5rQ2VsbFNwYWNpbmcsZD0wO3RoaXMucmFua1dpZHRocz1bXTt0aGlzLnJhbmtZPVtdO2Zvcih2YXIgZT1iLm1heFJhbms7MDw9ZTtlLS0pe2Zvcih2YXIgZj0wLGc9Yi5yYW5rc1tlXSxrPXRoaXMuaW5pdGlhbFgsbD0hMSxtPTA7bTxnLmxlbmd0aDttKyspe3ZhciBuPWdbbV07aWYobi5pc1ZlcnRleCgpKXt2YXIgcD10aGlzLmxheW91dC5nZXRWZXJ0ZXhCb3VuZHMobi5jZWxsKTtudWxsIT1wP3RoaXMub3JpZW50YXRpb249PW14Q29uc3RhbnRzLkRJUkVDVElPTl9OT1JUSHx8dGhpcy5vcmllbnRhdGlvbj09bXhDb25zdGFudHMuRElSRUNUSU9OX1NPVVRIPyhuLndpZHRoPXAud2lkdGgsbi5oZWlnaHQ9cC5oZWlnaHQpOihuLndpZHRoPXAuaGVpZ2h0LG4uaGVpZ2h0PXAud2lkdGgpOmw9ITA7Zj1NYXRoLm1heChmLG4uaGVpZ2h0KX1lbHNlIG4uaXNFZGdlKCkmJgoocD0xLG51bGwhPW4uZWRnZXM/cD1uLmVkZ2VzLmxlbmd0aDpteExvZy53YXJuKCJlZGdlLmVkZ2VzIGlzIG51bGwiKSxuLndpZHRoPShwLTEpKnRoaXMucGFyYWxsZWxFZGdlU3BhY2luZyk7ays9bi53aWR0aC8yO24uc2V0WChlLGspO24uc2V0R2VuZXJhbFB1cnBvc2VWYXJpYWJsZShlLGspO2srPW4ud2lkdGgvMjtrKz10aGlzLmludHJhQ2VsbFNwYWNpbmc7az50aGlzLndpZGVzdFJhbmtWYWx1ZSYmKHRoaXMud2lkZXN0UmFua1ZhbHVlPWssdGhpcy53aWRlc3RSYW5rPWUpO3RoaXMucmFua1dpZHRoc1tlXT1rfTE9PWwmJm14TG9nLndhcm4oIkF0IGxlYXN0IG9uZSBjZWxsIGhhcyBubyBib3VuZHMiKTt0aGlzLnJhbmtZW2VdPWM7az1mLzIrZC8yK3RoaXMuaW50ZXJSYW5rQ2VsbFNwYWNpbmc7ZD1mO2M9dGhpcy5vcmllbnRhdGlvbj09bXhDb25zdGFudHMuRElSRUNUSU9OX05PUlRIfHx0aGlzLm9yaWVudGF0aW9uPT1teENvbnN0YW50cy5ESVJFQ1RJT05fV0VTVD9jK2s6Yy0Kaztmb3IobT0wO208Zy5sZW5ndGg7bSsrKWdbbV0uc2V0WShlLGMpfX07Cm14Q29vcmRpbmF0ZUFzc2lnbm1lbnQucHJvdG90eXBlLm1pblBhdGg9ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9Yi5lZGdlTWFwcGVyLmdldFZhbHVlcygpLGQ9MDtkPGMubGVuZ3RoO2QrKyl7dmFyIGU9Y1tkXTtpZighKDE+ZS5tYXhSYW5rLWUubWluUmFuay0xKSl7Zm9yKHZhciBmPWUuZ2V0R2VuZXJhbFB1cnBvc2VWYXJpYWJsZShlLm1pblJhbmsrMSksZz0hMCxrPTAsbD1lLm1pblJhbmsrMjtsPGUubWF4UmFuaztsKyspe3ZhciBtPWUuZ2V0R2VuZXJhbFB1cnBvc2VWYXJpYWJsZShsKTtmIT1tPyhnPSExLGY9bSk6aysrfWlmKCFnKXtmb3IodmFyIGc9Zj0wLG09W10sbj1bXSxwPWUuZ2V0R2VuZXJhbFB1cnBvc2VWYXJpYWJsZShlLm1pblJhbmsrMSksbD1lLm1pblJhbmsrMTtsPGUubWF4UmFuay0xO2wrKyl7dmFyIHE9ZS5nZXRYKGwrMSk7cD09cT8obVtsLWUubWluUmFuay0xXT1wLGYrKyk6dGhpcy5yZXBvc2l0aW9uVmFsaWQoYixlLGwrMSxwKT8obVtsLWUubWluUmFuay0KMV09cCxmKyspOnA9bVtsLWUubWluUmFuay0xXT1xfXA9ZS5nZXRYKGwpO2ZvcihsPWUubWF4UmFuay0xO2w+ZS5taW5SYW5rKzE7bC0tKXE9ZS5nZXRYKGwtMSkscD09cT8obltsLWUubWluUmFuay0yXT1wLGcrKyk6dGhpcy5yZXBvc2l0aW9uVmFsaWQoYixlLGwtMSxwKT8obltsLWUubWluUmFuay0yXT1wLGcrKyk6KG5bbC1lLm1pblJhbmstMl09ZS5nZXRYKGwtMSkscD1xKTtpZihnPmt8fGY+aylpZihnPj1mKWZvcihsPWUubWF4UmFuay0yO2w+ZS5taW5SYW5rO2wtLSllLnNldFgobCxuW2wtZS5taW5SYW5rLTFdKTtlbHNlIGlmKGY+Zylmb3IobD1lLm1pblJhbmsrMjtsPGUubWF4UmFuaztsKyspZS5zZXRYKGwsbVtsLWUubWluUmFuay0yXSl9fX19OwpteENvb3JkaW5hdGVBc3NpZ25tZW50LnByb3RvdHlwZS5yZXBvc2l0aW9uVmFsaWQ9ZnVuY3Rpb24oYSxiLGMsZCl7YT1hLnJhbmtzW2NdO2Zvcih2YXIgZT0tMSxmPTA7ZjxhLmxlbmd0aDtmKyspaWYoYj09YVtmXSl7ZT1mO2JyZWFrfWlmKDA+ZSlyZXR1cm4hMTtmPWIuZ2V0R2VuZXJhbFB1cnBvc2VWYXJpYWJsZShjKTtpZihkPGYpe2lmKDA9PWUpcmV0dXJuITA7YT1hW2UtMV07Yz1hLmdldEdlbmVyYWxQdXJwb3NlVmFyaWFibGUoYyk7Yz1jK2Eud2lkdGgvMit0aGlzLmludHJhQ2VsbFNwYWNpbmcrYi53aWR0aC8yO2lmKCEoYzw9ZCkpcmV0dXJuITF9ZWxzZSBpZihkPmYpe2lmKGU9PWEubGVuZ3RoLTEpcmV0dXJuITA7YT1hW2UrMV07Yz1hLmdldEdlbmVyYWxQdXJwb3NlVmFyaWFibGUoYyk7Yz1jLWEud2lkdGgvMi10aGlzLmludHJhQ2VsbFNwYWNpbmctYi53aWR0aC8yO2lmKCEoYz49ZCkpcmV0dXJuITF9cmV0dXJuITB9OwpteENvb3JkaW5hdGVBc3NpZ25tZW50LnByb3RvdHlwZS5zZXRDZWxsTG9jYXRpb25zPWZ1bmN0aW9uKGEsYil7dGhpcy5yYW5rVG9wWT1bXTt0aGlzLnJhbmtCb3R0b21ZPVtdO2Zvcih2YXIgYz0wO2M8Yi5yYW5rcy5sZW5ndGg7YysrKXRoaXMucmFua1RvcFlbY109TnVtYmVyLk1BWF9WQUxVRSx0aGlzLnJhbmtCb3R0b21ZW2NdPS1OdW1iZXIuTUFYX1ZBTFVFO2Zvcih2YXIgZD1iLnZlcnRleE1hcHBlci5nZXRWYWx1ZXMoKSxjPTA7YzxkLmxlbmd0aDtjKyspdGhpcy5zZXRWZXJ0ZXhMb2NhdGlvbihkW2NdKTt0aGlzLmxheW91dC5lZGdlU3R5bGUhPW14SGllcmFyY2hpY2FsRWRnZVN0eWxlLk9SVEhPR09OQUwmJnRoaXMubGF5b3V0LmVkZ2VTdHlsZSE9bXhIaWVyYXJjaGljYWxFZGdlU3R5bGUuUE9MWUxJTkUmJnRoaXMubGF5b3V0LmVkZ2VTdHlsZSE9bXhIaWVyYXJjaGljYWxFZGdlU3R5bGUuQ1VSVkV8fHRoaXMubG9jYWxFZGdlUHJvY2Vzc2luZyhiKTtkPWIuZWRnZU1hcHBlci5nZXRWYWx1ZXMoKTsKZm9yKGM9MDtjPGQubGVuZ3RoO2MrKyl0aGlzLnNldEVkZ2VQb3NpdGlvbihkW2NdKX07Cm14Q29vcmRpbmF0ZUFzc2lnbm1lbnQucHJvdG90eXBlLmxvY2FsRWRnZVByb2Nlc3Npbmc9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPTA7YjxhLnJhbmtzLmxlbmd0aDtiKyspZm9yKHZhciBjPWEucmFua3NbYl0sZD0wO2Q8Yy5sZW5ndGg7ZCsrKXt2YXIgZT1jW2RdO2lmKGUuaXNWZXJ0ZXgoKSlmb3IodmFyIGY9ZS5nZXRQcmV2aW91c0xheWVyQ29ubmVjdGVkQ2VsbHMoYiksZz1iLTEsaz0wOzI+aztrKyspe2lmKC0xPGcmJmc8YS5yYW5rcy5sZW5ndGgmJm51bGwhPWYmJjA8Zi5sZW5ndGgpe2Zvcih2YXIgbD1bXSxtPTA7bTxmLmxlbmd0aDttKyspe3ZhciBuPW5ldyBXZWlnaHRlZENlbGxTb3J0ZXIoZlttXSxmW21dLmdldFgoZykpO2wucHVzaChuKX1sLnNvcnQoV2VpZ2h0ZWRDZWxsU29ydGVyLnByb3RvdHlwZS5jb21wYXJlKTtmb3IodmFyIG49ZS54WzBdLWUud2lkdGgvMixwPW4rZS53aWR0aCxxPWY9MCxnPVtdLG09MDttPGwubGVuZ3RoO20rKyl7dmFyIHI9bFttXS5jZWxsLAp0O2lmKHIuaXNWZXJ0ZXgoKSl7dD0wPT1rP2UuY29ubmVjdHNBc1NvdXJjZTplLmNvbm5lY3RzQXNUYXJnZXQ7Zm9yKHZhciB1PTA7dTx0Lmxlbmd0aDt1KyspaWYodFt1XS5zb3VyY2U9PXJ8fHRbdV0udGFyZ2V0PT1yKWYrPXRbdV0uZWRnZXMubGVuZ3RoLHErKyxnLnB1c2godFt1XSl9ZWxzZSBmKz1yLmVkZ2VzLmxlbmd0aCxxKyssZy5wdXNoKHIpfWUud2lkdGg+KGYrMSkqdGhpcy5wcmVmSG96RWRnZVNlcCsyKnRoaXMucHJlZkhvekVkZ2VTZXAmJihuKz10aGlzLnByZWZIb3pFZGdlU2VwLHAtPXRoaXMucHJlZkhvekVkZ2VTZXApO2w9KHAtbikvZjtuKz1sLzI7cD10aGlzLm1pbkVkZ2VKZXR0eS10aGlzLnByZWZWZXJ0RWRnZU9mZjtmb3IobT0wO208Zy5sZW5ndGg7bSsrKWZvcihxPWdbbV0uZWRnZXMubGVuZ3RoLHI9dGhpcy5qZXR0eVBvc2l0aW9uc1tnW21dLmlkc1swXV0sbnVsbD09ciYmKHI9W10sdGhpcy5qZXR0eVBvc2l0aW9uc1tnW21dLmlkc1swXV09ciksbTxmLzI/CnArPXRoaXMucHJlZlZlcnRFZGdlT2ZmOm0+Zi8yJiYocC09dGhpcy5wcmVmVmVydEVkZ2VPZmYpLHQ9MDt0PHE7dCsrKXJbNCp0KzIqa109bixuKz1sLHJbNCp0KzIqaysxXT1wfWY9ZS5nZXROZXh0TGF5ZXJDb25uZWN0ZWRDZWxscyhiKTtnPWIrMX19fTsKbXhDb29yZGluYXRlQXNzaWdubWVudC5wcm90b3R5cGUuc2V0RWRnZVBvc2l0aW9uPWZ1bmN0aW9uKGEpe3ZhciBiPTA7aWYoMTAxMjA3IT1hLnRlbXBbMF0pe3ZhciBjPWEubWF4UmFuayxkPWEubWluUmFuaztjPT1kJiYoYz1hLnNvdXJjZS5tYXhSYW5rLGQ9YS50YXJnZXQubWluUmFuayk7Zm9yKHZhciBlPTAsZj10aGlzLmpldHR5UG9zaXRpb25zW2EuaWRzWzBdXSxnPWEuaXNSZXZlcnNlZD9hLnRhcmdldC5jZWxsOmEuc291cmNlLmNlbGwsaz10aGlzLmxheW91dC5ncmFwaCxsPXRoaXMub3JpZW50YXRpb249PW14Q29uc3RhbnRzLkRJUkVDVElPTl9FQVNUfHx0aGlzLm9yaWVudGF0aW9uPT1teENvbnN0YW50cy5ESVJFQ1RJT05fU09VVEgsbT0wO208YS5lZGdlcy5sZW5ndGg7bSsrKXt2YXIgbj1hLmVkZ2VzW21dLHA9dGhpcy5sYXlvdXQuZ2V0VmlzaWJsZVRlcm1pbmFsKG4sITApLHE9W10scj1hLmlzUmV2ZXJzZWQ7cCE9ZyYmKHI9IXIpO2lmKG51bGwhPWYpe3ZhciB0PXI/CjI6MCx1PXI/bD90aGlzLnJhbmtCb3R0b21ZW2RdOnRoaXMucmFua1RvcFlbZF06bD90aGlzLnJhbmtUb3BZW2NdOnRoaXMucmFua0JvdHRvbVlbY10seD1mWzQqZSsxK3RdO3IhPWwmJih4PS14KTt2YXIgdT11K3gsdD1mWzQqZSt0XSx5PWsubW9kZWwuZ2V0VGVybWluYWwobiwhMCk7dGhpcy5sYXlvdXQuaXNQb3J0KHkpJiZrLm1vZGVsLmdldFBhcmVudCh5KT09cCYmKHQ9ay52aWV3LmdldFN0YXRlKHkpLHQ9bnVsbCE9dD90Lng6cC5nZW9tZXRyeS54K2Euc291cmNlLndpZHRoKnkuZ2VvbWV0cnkueCk7dGhpcy5vcmllbnRhdGlvbj09bXhDb25zdGFudHMuRElSRUNUSU9OX05PUlRIfHx0aGlzLm9yaWVudGF0aW9uPT1teENvbnN0YW50cy5ESVJFQ1RJT05fU09VVEg/KHEucHVzaChuZXcgbXhQb2ludCh0LHUpKSx0aGlzLmxheW91dC5lZGdlU3R5bGU9PW14SGllcmFyY2hpY2FsRWRnZVN0eWxlLkNVUlZFJiZxLnB1c2gobmV3IG14UG9pbnQodCx1K3gpKSk6KHEucHVzaChuZXcgbXhQb2ludCh1LAp0KSksdGhpcy5sYXlvdXQuZWRnZVN0eWxlPT1teEhpZXJhcmNoaWNhbEVkZ2VTdHlsZS5DVVJWRSYmcS5wdXNoKG5ldyBteFBvaW50KHUreCx0KSkpfXQ9YS54Lmxlbmd0aC0xO3U9eD0tMTtwPWEubWF4UmFuay0xO2ZvcihyJiYodD0wLHg9YS54Lmxlbmd0aCx1PTEscD1hLm1pblJhbmsrMSk7YS5tYXhSYW5rIT1hLm1pblJhbmsmJnQhPXg7dCs9dSl7dmFyIHk9YS54W3RdK2IsQj0odGhpcy5yYW5rVG9wWVtwXSt0aGlzLnJhbmtCb3R0b21ZW3ArMV0pLzIsQT0odGhpcy5yYW5rVG9wWVtwLTFdK3RoaXMucmFua0JvdHRvbVlbcF0pLzI7aWYocil2YXIgej1CLEI9QSxBPXo7dGhpcy5vcmllbnRhdGlvbj09bXhDb25zdGFudHMuRElSRUNUSU9OX05PUlRIfHx0aGlzLm9yaWVudGF0aW9uPT1teENvbnN0YW50cy5ESVJFQ1RJT05fU09VVEg/KHEucHVzaChuZXcgbXhQb2ludCh5LEIpKSxxLnB1c2gobmV3IG14UG9pbnQoeSxBKSkpOihxLnB1c2gobmV3IG14UG9pbnQoQix5KSkscS5wdXNoKG5ldyBteFBvaW50KEEsCnkpKSk7dGhpcy5saW1pdFg9TWF0aC5tYXgodGhpcy5saW1pdFgseSk7cCs9dX1udWxsIT1mJiYodD1yPzI6MCx1PXI/bD90aGlzLnJhbmtUb3BZW2NdOnRoaXMucmFua0JvdHRvbVlbY106bD90aGlzLnJhbmtCb3R0b21ZW2RdOnRoaXMucmFua1RvcFlbZF0seD1mWzQqZSszLXRdLHIhPWwmJih4PS14KSx1LT14LHQ9Zls0KmUrMi10XSxyPWsubW9kZWwuZ2V0VGVybWluYWwobiwhMSkscD10aGlzLmxheW91dC5nZXRWaXNpYmxlVGVybWluYWwobiwhMSksdGhpcy5sYXlvdXQuaXNQb3J0KHIpJiZrLm1vZGVsLmdldFBhcmVudChyKT09cCYmKHQ9ay52aWV3LmdldFN0YXRlKHIpLHQ9bnVsbCE9dD90Lng6cC5nZW9tZXRyeS54K2EudGFyZ2V0LndpZHRoKnIuZ2VvbWV0cnkueCksdGhpcy5vcmllbnRhdGlvbj09bXhDb25zdGFudHMuRElSRUNUSU9OX05PUlRIfHx0aGlzLm9yaWVudGF0aW9uPT1teENvbnN0YW50cy5ESVJFQ1RJT05fU09VVEg/KHRoaXMubGF5b3V0LmVkZ2VTdHlsZT09bXhIaWVyYXJjaGljYWxFZGdlU3R5bGUuQ1VSVkUmJgpxLnB1c2gobmV3IG14UG9pbnQodCx1LXgpKSxxLnB1c2gobmV3IG14UG9pbnQodCx1KSkpOih0aGlzLmxheW91dC5lZGdlU3R5bGU9PW14SGllcmFyY2hpY2FsRWRnZVN0eWxlLkNVUlZFJiZxLnB1c2gobmV3IG14UG9pbnQodS14LHQpKSxxLnB1c2gobmV3IG14UG9pbnQodSx0KSkpKTthLmlzUmV2ZXJzZWQmJnRoaXMucHJvY2Vzc1JldmVyc2VkRWRnZShhLG4pO3RoaXMubGF5b3V0LnNldEVkZ2VQb2ludHMobixxKTtiPTA9PWI/dGhpcy5wYXJhbGxlbEVkZ2VTcGFjaW5nOjA8Yj8tYjotYit0aGlzLnBhcmFsbGVsRWRnZVNwYWNpbmc7ZSsrfWEudGVtcFswXT0xMDEyMDd9fTsKbXhDb29yZGluYXRlQXNzaWdubWVudC5wcm90b3R5cGUuc2V0VmVydGV4TG9jYXRpb249ZnVuY3Rpb24oYSl7dmFyIGI9YS5jZWxsLGM9YS54WzBdLWEud2lkdGgvMixkPWEueVswXS1hLmhlaWdodC8yO3RoaXMucmFua1RvcFlbYS5taW5SYW5rXT1NYXRoLm1pbih0aGlzLnJhbmtUb3BZW2EubWluUmFua10sZCk7dGhpcy5yYW5rQm90dG9tWVthLm1pblJhbmtdPU1hdGgubWF4KHRoaXMucmFua0JvdHRvbVlbYS5taW5SYW5rXSxkK2EuaGVpZ2h0KTt0aGlzLm9yaWVudGF0aW9uPT1teENvbnN0YW50cy5ESVJFQ1RJT05fTk9SVEh8fHRoaXMub3JpZW50YXRpb249PW14Q29uc3RhbnRzLkRJUkVDVElPTl9TT1VUSD90aGlzLmxheW91dC5zZXRWZXJ0ZXhMb2NhdGlvbihiLGMsZCk6dGhpcy5sYXlvdXQuc2V0VmVydGV4TG9jYXRpb24oYixkLGMpO3RoaXMubGltaXRYPU1hdGgubWF4KHRoaXMubGltaXRYLGMrYS53aWR0aCl9OwpteENvb3JkaW5hdGVBc3NpZ25tZW50LnByb3RvdHlwZS5wcm9jZXNzUmV2ZXJzZWRFZGdlPWZ1bmN0aW9uKGEsYil7fTtmdW5jdGlvbiBteFN3aW1sYW5lT3JkZXJpbmcoYSl7dGhpcy5sYXlvdXQ9YX1teFN3aW1sYW5lT3JkZXJpbmcucHJvdG90eXBlPW5ldyBteEhpZXJhcmNoaWNhbExheW91dFN0YWdlO214U3dpbWxhbmVPcmRlcmluZy5wcm90b3R5cGUuY29uc3RydWN0b3I9bXhTd2ltbGFuZU9yZGVyaW5nO214U3dpbWxhbmVPcmRlcmluZy5wcm90b3R5cGUubGF5b3V0PW51bGw7Cm14U3dpbWxhbmVPcmRlcmluZy5wcm90b3R5cGUuZXhlY3V0ZT1mdW5jdGlvbihhKXthPXRoaXMubGF5b3V0LmdldE1vZGVsKCk7dmFyIGI9bXhVdGlscy5jbG9uZShhLnZlcnRleE1hcHBlcixudWxsLCEwKSxjPW51bGw7aWYobnVsbCE9YS5yb290cylmb3IodmFyIGQ9YS5yb290cyxjPVtdLGU9MDtlPGQubGVuZ3RoO2UrKyljW2VdPWEudmVydGV4TWFwcGVyLmdldChkW2VdKTthLnZpc2l0KGZ1bmN0aW9uKGEsYyxkLGUsbSl7ZT1udWxsIT1hJiZhLnN3aW1sYW5lSW5kZXg9PWMuc3dpbWxhbmVJbmRleCYmYy5pc0FuY2VzdG9yKGEpO209bnVsbCE9YSYmbnVsbCE9ZCYmYS5zd2ltbGFuZUluZGV4PGMuc3dpbWxhbmVJbmRleCYmZC5zb3VyY2U9PWM7ZT8oZC5pbnZlcnQoKSxteFV0aWxzLnJlbW92ZShkLGEuY29ubmVjdHNBc1NvdXJjZSksYy5jb25uZWN0c0FzU291cmNlLnB1c2goZCksYS5jb25uZWN0c0FzVGFyZ2V0LnB1c2goZCksbXhVdGlscy5yZW1vdmUoZCxjLmNvbm5lY3RzQXNUYXJnZXQpKToKbSYmKGQuaW52ZXJ0KCksbXhVdGlscy5yZW1vdmUoZCxhLmNvbm5lY3RzQXNUYXJnZXQpLGMuY29ubmVjdHNBc1RhcmdldC5wdXNoKGQpLGEuY29ubmVjdHNBc1NvdXJjZS5wdXNoKGQpLG14VXRpbHMucmVtb3ZlKGQsYy5jb25uZWN0c0FzU291cmNlKSk7YT1teENlbGxQYXRoLmNyZWF0ZShjLmNlbGwpO2RlbGV0ZSBiW2FdfSxjLCEwLG51bGwpfTtmdW5jdGlvbiBteEhpZXJhcmNoaWNhbExheW91dChhLGIsYyl7bXhHcmFwaExheW91dC5jYWxsKHRoaXMsYSk7dGhpcy5vcmllbnRhdGlvbj1udWxsIT1iP2I6bXhDb25zdGFudHMuRElSRUNUSU9OX05PUlRIO3RoaXMuZGV0ZXJtaW5pc3RpYz1udWxsIT1jP2M6ITB9dmFyIG14SGllcmFyY2hpY2FsRWRnZVN0eWxlPXtPUlRIT0dPTkFMOjEsUE9MWUxJTkU6MixTVFJBSUdIVDozLENVUlZFOjR9O214SGllcmFyY2hpY2FsTGF5b3V0LnByb3RvdHlwZT1uZXcgbXhHcmFwaExheW91dDsKbXhIaWVyYXJjaGljYWxMYXlvdXQucHJvdG90eXBlLmNvbnN0cnVjdG9yPW14SGllcmFyY2hpY2FsTGF5b3V0O214SGllcmFyY2hpY2FsTGF5b3V0LnByb3RvdHlwZS5yb290cz1udWxsO214SGllcmFyY2hpY2FsTGF5b3V0LnByb3RvdHlwZS5yZXNpemVQYXJlbnQ9ITE7bXhIaWVyYXJjaGljYWxMYXlvdXQucHJvdG90eXBlLm1haW50YWluUGFyZW50TG9jYXRpb249ITE7bXhIaWVyYXJjaGljYWxMYXlvdXQucHJvdG90eXBlLm1vdmVQYXJlbnQ9ITE7bXhIaWVyYXJjaGljYWxMYXlvdXQucHJvdG90eXBlLnBhcmVudEJvcmRlcj0wO214SGllcmFyY2hpY2FsTGF5b3V0LnByb3RvdHlwZS5pbnRyYUNlbGxTcGFjaW5nPTMwO214SGllcmFyY2hpY2FsTGF5b3V0LnByb3RvdHlwZS5pbnRlclJhbmtDZWxsU3BhY2luZz0xMDA7bXhIaWVyYXJjaGljYWxMYXlvdXQucHJvdG90eXBlLmludGVySGllcmFyY2h5U3BhY2luZz02MDsKbXhIaWVyYXJjaGljYWxMYXlvdXQucHJvdG90eXBlLnBhcmFsbGVsRWRnZVNwYWNpbmc9MTA7bXhIaWVyYXJjaGljYWxMYXlvdXQucHJvdG90eXBlLm9yaWVudGF0aW9uPW14Q29uc3RhbnRzLkRJUkVDVElPTl9OT1JUSDtteEhpZXJhcmNoaWNhbExheW91dC5wcm90b3R5cGUuZmluZVR1bmluZz0hMDtteEhpZXJhcmNoaWNhbExheW91dC5wcm90b3R5cGUudGlnaHRlblRvU291cmNlPSEwO214SGllcmFyY2hpY2FsTGF5b3V0LnByb3RvdHlwZS5kaXNhYmxlRWRnZVN0eWxlPSEwO214SGllcmFyY2hpY2FsTGF5b3V0LnByb3RvdHlwZS50cmF2ZXJzZUFuY2VzdG9ycz0hMDtteEhpZXJhcmNoaWNhbExheW91dC5wcm90b3R5cGUubW9kZWw9bnVsbDtteEhpZXJhcmNoaWNhbExheW91dC5wcm90b3R5cGUuZWRnZXNDYWNoZT1udWxsO214SGllcmFyY2hpY2FsTGF5b3V0LnByb3RvdHlwZS5lZGdlU291cmNlVGVybUNhY2hlPW51bGw7Cm14SGllcmFyY2hpY2FsTGF5b3V0LnByb3RvdHlwZS5lZGdlc1RhcmdldFRlcm1DYWNoZT1udWxsO214SGllcmFyY2hpY2FsTGF5b3V0LnByb3RvdHlwZS5lZGdlU3R5bGU9bXhIaWVyYXJjaGljYWxFZGdlU3R5bGUuUE9MWUxJTkU7bXhIaWVyYXJjaGljYWxMYXlvdXQucHJvdG90eXBlLmdldE1vZGVsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubW9kZWx9OwpteEhpZXJhcmNoaWNhbExheW91dC5wcm90b3R5cGUuZXhlY3V0ZT1mdW5jdGlvbihhLGIpe3RoaXMucGFyZW50PWE7dmFyIGM9dGhpcy5ncmFwaC5tb2RlbDt0aGlzLmVkZ2VzQ2FjaGU9bmV3IG14RGljdGlvbmFyeTt0aGlzLmVkZ2VTb3VyY2VUZXJtQ2FjaGU9bmV3IG14RGljdGlvbmFyeTt0aGlzLmVkZ2VzVGFyZ2V0VGVybUNhY2hlPW5ldyBteERpY3Rpb25hcnk7bnVsbD09Ynx8YiBpbnN0YW5jZW9mIEFycmF5fHwoYj1bYl0pO2lmKG51bGwhPWJ8fG51bGwhPWEpe3RoaXMucGFyZW50WT10aGlzLnBhcmVudFg9bnVsbDtpZihhIT10aGlzLnJvb3QmJm51bGwhPWMuaXNWZXJ0ZXgoYSkmJnRoaXMubWFpbnRhaW5QYXJlbnRMb2NhdGlvbil7dmFyIGQ9dGhpcy5ncmFwaC5nZXRDZWxsR2VvbWV0cnkoYSk7bnVsbCE9ZCYmKHRoaXMucGFyZW50WD1kLngsdGhpcy5wYXJlbnRZPWQueSl9aWYobnVsbCE9Yil7Zm9yKHZhciBlPVtdLGY9MDtmPGIubGVuZ3RoO2YrKykobnVsbCE9YT9jLmlzQW5jZXN0b3IoYSwKYltmXSk6MSkmJmMuaXNWZXJ0ZXgoYltmXSkmJmUucHVzaChiW2ZdKTt0aGlzLnJvb3RzPWV9Yy5iZWdpblVwZGF0ZSgpO3RyeXt0aGlzLnJ1bihhKSx0aGlzLnJlc2l6ZVBhcmVudCYmIXRoaXMuZ3JhcGguaXNDZWxsQ29sbGFwc2VkKGEpJiZ0aGlzLmdyYXBoLnVwZGF0ZUdyb3VwQm91bmRzKFthXSx0aGlzLnBhcmVudEJvcmRlcix0aGlzLm1vdmVQYXJlbnQpLG51bGwhPXRoaXMucGFyZW50WCYmbnVsbCE9dGhpcy5wYXJlbnRZJiYoZD10aGlzLmdyYXBoLmdldENlbGxHZW9tZXRyeShhKSxudWxsIT1kJiYoZD1kLmNsb25lKCksZC54PXRoaXMucGFyZW50WCxkLnk9dGhpcy5wYXJlbnRZLGMuc2V0R2VvbWV0cnkoYSxkKSkpfWZpbmFsbHl7Yy5lbmRVcGRhdGUoKX19fTsKbXhIaWVyYXJjaGljYWxMYXlvdXQucHJvdG90eXBlLmZpbmRSb290cz1mdW5jdGlvbihhLGIpe3ZhciBjPVtdO2lmKG51bGwhPWEmJm51bGwhPWIpe3ZhciBkPXRoaXMuZ3JhcGgubW9kZWwsZT1udWxsLGY9LTFFNSxnO2ZvcihnIGluIGIpe3ZhciBrPWJbZ107aWYoZC5pc1ZlcnRleChrKSYmdGhpcy5ncmFwaC5pc0NlbGxWaXNpYmxlKGspKXtmb3IodmFyIGw9dGhpcy5nZXRFZGdlcyhrKSxtPTAsbj0wLHA9MDtwPGwubGVuZ3RoO3ArKyl0aGlzLmdldFZpc2libGVUZXJtaW5hbChsW3BdLCEwKT09az9tKys6bisrOzA9PW4mJjA8bSYmYy5wdXNoKGspO2w9bS1uO2w+ZiYmKGY9bCxlPWspfX0wPT1jLmxlbmd0aCYmbnVsbCE9ZSYmYy5wdXNoKGUpfXJldHVybiBjfTsKbXhIaWVyYXJjaGljYWxMYXlvdXQucHJvdG90eXBlLmdldEVkZ2VzPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZWRnZXNDYWNoZS5nZXQoYSk7aWYobnVsbCE9YilyZXR1cm4gYjtmb3IodmFyIGM9dGhpcy5ncmFwaC5tb2RlbCxiPVtdLGQ9dGhpcy5ncmFwaC5pc0NlbGxDb2xsYXBzZWQoYSksZT1jLmdldENoaWxkQ291bnQoYSksZj0wO2Y8ZTtmKyspe3ZhciBnPWMuZ2V0Q2hpbGRBdChhLGYpO2lmKHRoaXMuaXNQb3J0KGcpKWI9Yi5jb25jYXQoYy5nZXRFZGdlcyhnLCEwLCEwKSk7ZWxzZSBpZihkfHwhdGhpcy5ncmFwaC5pc0NlbGxWaXNpYmxlKGcpKWI9Yi5jb25jYXQoYy5nZXRFZGdlcyhnLCEwLCEwKSl9Yj1iLmNvbmNhdChjLmdldEVkZ2VzKGEsITAsITApKTtjPVtdO2ZvcihmPTA7ZjxiLmxlbmd0aDtmKyspZD10aGlzLmdldFZpc2libGVUZXJtaW5hbChiW2ZdLCEwKSxlPXRoaXMuZ2V0VmlzaWJsZVRlcm1pbmFsKGJbZl0sITEpLChkPT1lfHxkIT1lJiYoZT09YSYmKG51bGw9PQp0aGlzLnBhcmVudHx8dGhpcy5pc0FuY2VzdG9yKHRoaXMucGFyZW50LGQsdGhpcy50cmF2ZXJzZUFuY2VzdG9ycykpfHxkPT1hJiYobnVsbD09dGhpcy5wYXJlbnR8fHRoaXMuaXNBbmNlc3Rvcih0aGlzLnBhcmVudCxlLHRoaXMudHJhdmVyc2VBbmNlc3RvcnMpKSkpJiZjLnB1c2goYltmXSk7dGhpcy5lZGdlc0NhY2hlLnB1dChhLGMpO3JldHVybiBjfTsKbXhIaWVyYXJjaGljYWxMYXlvdXQucHJvdG90eXBlLmdldFZpc2libGVUZXJtaW5hbD1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZWRnZXNUYXJnZXRUZXJtQ2FjaGU7YiYmKGM9dGhpcy5lZGdlU291cmNlVGVybUNhY2hlKTt2YXIgZD1jLmdldChhKTtpZihudWxsIT1kKXJldHVybiBkO3ZhciBkPXRoaXMuZ3JhcGgudmlldy5nZXRTdGF0ZShhKSxlPW51bGwhPWQ/ZC5nZXRWaXNpYmxlVGVybWluYWwoYik6dGhpcy5ncmFwaC52aWV3LmdldFZpc2libGVUZXJtaW5hbChhLGIpO251bGw9PWUmJihlPW51bGwhPWQ/ZC5nZXRWaXNpYmxlVGVybWluYWwoYik6dGhpcy5ncmFwaC52aWV3LmdldFZpc2libGVUZXJtaW5hbChhLGIpKTtudWxsIT1lJiYodGhpcy5pc1BvcnQoZSkmJihlPXRoaXMuZ3JhcGgubW9kZWwuZ2V0UGFyZW50KGUpKSxjLnB1dChhLGUpKTtyZXR1cm4gZX07Cm14SGllcmFyY2hpY2FsTGF5b3V0LnByb3RvdHlwZS5ydW49ZnVuY3Rpb24oYSl7dmFyIGI9W10sYz1bXTtpZihudWxsPT10aGlzLnJvb3RzJiZudWxsIT1hKXt2YXIgZD17fTt0aGlzLmZpbHRlckRlc2NlbmRhbnRzKGEsZCk7dGhpcy5yb290cz1bXTt2YXIgZT0hMCxmO2ZvcihmIGluIGQpaWYobnVsbCE9ZFtmXSl7ZT0hMTticmVha31mb3IoOyFlOyl7Zm9yKHZhciBnPXRoaXMuZmluZFJvb3RzKGEsZCksZT0wO2U8Zy5sZW5ndGg7ZSsrKXt2YXIgaz17fTtiLnB1c2goayk7dGhpcy50cmF2ZXJzZShnW2VdLCEwLG51bGwsYyxrLGIsZCl9Zm9yKGU9MDtlPGcubGVuZ3RoO2UrKyl0aGlzLnJvb3RzLnB1c2goZ1tlXSk7ZT0hMDtmb3IoZiBpbiBkKWlmKG51bGwhPWRbZl0pe2U9ITE7YnJlYWt9fX1lbHNlIGZvcihlPTA7ZTx0aGlzLnJvb3RzLmxlbmd0aDtlKyspaz17fSxiLnB1c2goayksdGhpcy50cmF2ZXJzZSh0aGlzLnJvb3RzW2VdLCEwLG51bGwsYyxrLGIsbnVsbCk7Zm9yKGU9Yz0KMDtlPGIubGVuZ3RoO2UrKyl7az1iW2VdO2Q9W107Zm9yKGYgaW4gaylkLnB1c2goa1tmXSk7dGhpcy5tb2RlbD1uZXcgbXhHcmFwaEhpZXJhcmNoeU1vZGVsKHRoaXMsZCx0aGlzLnJvb3RzLGEsdGhpcy50aWdodGVuVG9Tb3VyY2UpO3RoaXMuY3ljbGVTdGFnZShhKTt0aGlzLmxheWVyaW5nU3RhZ2UoKTt0aGlzLmNyb3NzaW5nU3RhZ2UoYSk7Yz10aGlzLnBsYWNlbWVudFN0YWdlKGMsYSl9fTsKbXhIaWVyYXJjaGljYWxMYXlvdXQucHJvdG90eXBlLmZpbHRlckRlc2NlbmRhbnRzPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5ncmFwaC5tb2RlbDtjLmlzVmVydGV4KGEpJiZhIT10aGlzLnBhcmVudCYmdGhpcy5ncmFwaC5pc0NlbGxWaXNpYmxlKGEpJiYoYltteE9iamVjdElkZW50aXR5LmdldChhKV09YSk7aWYodGhpcy50cmF2ZXJzZUFuY2VzdG9yc3x8YT09dGhpcy5wYXJlbnQmJnRoaXMuZ3JhcGguaXNDZWxsVmlzaWJsZShhKSlmb3IodmFyIGQ9Yy5nZXRDaGlsZENvdW50KGEpLGU9MDtlPGQ7ZSsrKXt2YXIgZj1jLmdldENoaWxkQXQoYSxlKTt0aGlzLmlzUG9ydChmKXx8dGhpcy5maWx0ZXJEZXNjZW5kYW50cyhmLGIpfX07bXhIaWVyYXJjaGljYWxMYXlvdXQucHJvdG90eXBlLmlzUG9ydD1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YSYmbnVsbCE9YS5nZW9tZXRyeT9hLmdlb21ldHJ5LnJlbGF0aXZlOiExfTsKbXhIaWVyYXJjaGljYWxMYXlvdXQucHJvdG90eXBlLmdldEVkZ2VzQmV0d2Vlbj1mdW5jdGlvbihhLGIsYyl7Yz1udWxsIT1jP2M6ITE7Zm9yKHZhciBkPXRoaXMuZ2V0RWRnZXMoYSksZT1bXSxmPTA7ZjxkLmxlbmd0aDtmKyspe3ZhciBnPXRoaXMuZ2V0VmlzaWJsZVRlcm1pbmFsKGRbZl0sITApLGs9dGhpcy5nZXRWaXNpYmxlVGVybWluYWwoZFtmXSwhMSk7KGc9PWEmJms9PWJ8fCFjJiZnPT1iJiZrPT1hKSYmZS5wdXNoKGRbZl0pfXJldHVybiBlfTsKbXhIaWVyYXJjaGljYWxMYXlvdXQucHJvdG90eXBlLnRyYXZlcnNlPWZ1bmN0aW9uKGEsYixjLGQsZSxmLGcpe2lmKG51bGwhPWEmJm51bGwhPWQpe3ZhciBrPW14T2JqZWN0SWRlbnRpdHkuZ2V0KGEpO2lmKG51bGw9PWRba10mJihudWxsPT1nfHxudWxsIT1nW2tdKSl7bnVsbD09ZVtrXSYmKGVba109YSk7bnVsbD09ZFtrXSYmKGRba109YSk7bnVsbCE9PWcmJmRlbGV0ZSBnW2tdO3ZhciBsPXRoaXMuZ2V0RWRnZXMoYSksaz1bXTtmb3IoYz0wO2M8bC5sZW5ndGg7YysrKWtbY109dGhpcy5nZXRWaXNpYmxlVGVybWluYWwobFtjXSwhMCk9PWE7Zm9yKGM9MDtjPGwubGVuZ3RoO2MrKylpZighYnx8a1tjXSl7YT10aGlzLmdldFZpc2libGVUZXJtaW5hbChsW2NdLCFrW2NdKTtmb3IodmFyIG09MSxuPTA7bjxsLmxlbmd0aDtuKyspaWYobiE9Yyl7dmFyIHA9a1tuXTt0aGlzLmdldFZpc2libGVUZXJtaW5hbChsW25dLCFwKT09YSYmKHA/bSsrOm0tLSl9MDw9bSYmKGU9dGhpcy50cmF2ZXJzZShhLApiLGxbY10sZCxlLGYsZykpfX1lbHNlIGlmKG51bGw9PWVba10pZm9yKGM9MDtjPGYubGVuZ3RoO2MrKylpZihiPWZbY10sbnVsbCE9YltrXSl7Zm9yKGwgaW4gYillW2xdPWJbbF07Zi5zcGxpY2UoYywxKTticmVha319cmV0dXJuIGV9O214SGllcmFyY2hpY2FsTGF5b3V0LnByb3RvdHlwZS5jeWNsZVN0YWdlPWZ1bmN0aW9uKGEpeyhuZXcgbXhNaW5pbXVtQ3ljbGVSZW1vdmVyKHRoaXMpKS5leGVjdXRlKGEpfTtteEhpZXJhcmNoaWNhbExheW91dC5wcm90b3R5cGUubGF5ZXJpbmdTdGFnZT1mdW5jdGlvbigpe3RoaXMubW9kZWwuaW5pdGlhbFJhbmsoKTt0aGlzLm1vZGVsLmZpeFJhbmtzKCl9O214SGllcmFyY2hpY2FsTGF5b3V0LnByb3RvdHlwZS5jcm9zc2luZ1N0YWdlPWZ1bmN0aW9uKGEpeyhuZXcgbXhNZWRpYW5IeWJyaWRDcm9zc2luZ1JlZHVjdGlvbih0aGlzKSkuZXhlY3V0ZShhKX07Cm14SGllcmFyY2hpY2FsTGF5b3V0LnByb3RvdHlwZS5wbGFjZW1lbnRTdGFnZT1mdW5jdGlvbihhLGIpe3ZhciBjPW5ldyBteENvb3JkaW5hdGVBc3NpZ25tZW50KHRoaXMsdGhpcy5pbnRyYUNlbGxTcGFjaW5nLHRoaXMuaW50ZXJSYW5rQ2VsbFNwYWNpbmcsdGhpcy5vcmllbnRhdGlvbixhLHRoaXMucGFyYWxsZWxFZGdlU3BhY2luZyk7Yy5maW5lVHVuaW5nPXRoaXMuZmluZVR1bmluZztjLmV4ZWN1dGUoYik7cmV0dXJuIGMubGltaXRYK3RoaXMuaW50ZXJIaWVyYXJjaHlTcGFjaW5nfTtmdW5jdGlvbiBteFN3aW1sYW5lTGF5b3V0KGEsYixjKXtteEdyYXBoTGF5b3V0LmNhbGwodGhpcyxhKTt0aGlzLm9yaWVudGF0aW9uPW51bGwhPWI/YjpteENvbnN0YW50cy5ESVJFQ1RJT05fTk9SVEg7dGhpcy5kZXRlcm1pbmlzdGljPW51bGwhPWM/YzohMH1teFN3aW1sYW5lTGF5b3V0LnByb3RvdHlwZT1uZXcgbXhHcmFwaExheW91dDsKbXhTd2ltbGFuZUxheW91dC5wcm90b3R5cGUuY29uc3RydWN0b3I9bXhTd2ltbGFuZUxheW91dDtteFN3aW1sYW5lTGF5b3V0LnByb3RvdHlwZS5yb290cz1udWxsO214U3dpbWxhbmVMYXlvdXQucHJvdG90eXBlLnN3aW1sYW5lcz1udWxsO214U3dpbWxhbmVMYXlvdXQucHJvdG90eXBlLmR1bW15VmVydGV4V2lkdGg9NTA7bXhTd2ltbGFuZUxheW91dC5wcm90b3R5cGUucmVzaXplUGFyZW50PSExO214U3dpbWxhbmVMYXlvdXQucHJvdG90eXBlLm1haW50YWluUGFyZW50TG9jYXRpb249ITE7bXhTd2ltbGFuZUxheW91dC5wcm90b3R5cGUubW92ZVBhcmVudD0hMTtteFN3aW1sYW5lTGF5b3V0LnByb3RvdHlwZS5wYXJlbnRCb3JkZXI9MzA7bXhTd2ltbGFuZUxheW91dC5wcm90b3R5cGUuaW50cmFDZWxsU3BhY2luZz0zMDtteFN3aW1sYW5lTGF5b3V0LnByb3RvdHlwZS5pbnRlclJhbmtDZWxsU3BhY2luZz0xMDA7Cm14U3dpbWxhbmVMYXlvdXQucHJvdG90eXBlLmludGVySGllcmFyY2h5U3BhY2luZz02MDtteFN3aW1sYW5lTGF5b3V0LnByb3RvdHlwZS5wYXJhbGxlbEVkZ2VTcGFjaW5nPTEwO214U3dpbWxhbmVMYXlvdXQucHJvdG90eXBlLm9yaWVudGF0aW9uPW14Q29uc3RhbnRzLkRJUkVDVElPTl9OT1JUSDtteFN3aW1sYW5lTGF5b3V0LnByb3RvdHlwZS5maW5lVHVuaW5nPSEwO214U3dpbWxhbmVMYXlvdXQucHJvdG90eXBlLnRpZ2h0ZW5Ub1NvdXJjZT0hMDtteFN3aW1sYW5lTGF5b3V0LnByb3RvdHlwZS5kaXNhYmxlRWRnZVN0eWxlPSEwO214U3dpbWxhbmVMYXlvdXQucHJvdG90eXBlLnRyYXZlcnNlQW5jZXN0b3JzPSEwO214U3dpbWxhbmVMYXlvdXQucHJvdG90eXBlLm1vZGVsPW51bGw7bXhTd2ltbGFuZUxheW91dC5wcm90b3R5cGUuZWRnZXNDYWNoZT1udWxsO214SGllcmFyY2hpY2FsTGF5b3V0LnByb3RvdHlwZS5lZGdlU291cmNlVGVybUNhY2hlPW51bGw7Cm14SGllcmFyY2hpY2FsTGF5b3V0LnByb3RvdHlwZS5lZGdlc1RhcmdldFRlcm1DYWNoZT1udWxsO214SGllcmFyY2hpY2FsTGF5b3V0LnByb3RvdHlwZS5lZGdlU3R5bGU9bXhIaWVyYXJjaGljYWxFZGdlU3R5bGUuUE9MWUxJTkU7bXhTd2ltbGFuZUxheW91dC5wcm90b3R5cGUuZ2V0TW9kZWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tb2RlbH07Cm14U3dpbWxhbmVMYXlvdXQucHJvdG90eXBlLmV4ZWN1dGU9ZnVuY3Rpb24oYSxiKXt0aGlzLnBhcmVudD1hO3ZhciBjPXRoaXMuZ3JhcGgubW9kZWw7dGhpcy5lZGdlc0NhY2hlPW5ldyBteERpY3Rpb25hcnk7dGhpcy5lZGdlU291cmNlVGVybUNhY2hlPW5ldyBteERpY3Rpb25hcnk7dGhpcy5lZGdlc1RhcmdldFRlcm1DYWNoZT1uZXcgbXhEaWN0aW9uYXJ5O2lmKCEobnVsbD09Ynx8MT5iLmxlbmd0aCkpe251bGw9PWEmJihhPWMuZ2V0UGFyZW50KGJbMF0pKTt0aGlzLnBhcmVudFk9dGhpcy5wYXJlbnRYPW51bGw7aWYoYSE9dGhpcy5yb290JiZudWxsIT1jLmlzVmVydGV4KGEpJiZ0aGlzLm1haW50YWluUGFyZW50TG9jYXRpb24pe3ZhciBkPXRoaXMuZ3JhcGguZ2V0Q2VsbEdlb21ldHJ5KGEpO251bGwhPWQmJih0aGlzLnBhcmVudFg9ZC54LHRoaXMucGFyZW50WT1kLnkpfXRoaXMuc3dpbWxhbmVzPWI7Zm9yKHZhciBlPVtdLGY9MDtmPGIubGVuZ3RoO2YrKyl7dmFyIGc9dGhpcy5ncmFwaC5nZXRDaGlsZENlbGxzKGJbZl0pOwppZihudWxsPT1nfHwwPT1nLmxlbmd0aClnPXRoaXMuZ3JhcGguaW5zZXJ0VmVydGV4KGJbZl0sbnVsbCxudWxsLDAsMCx0aGlzLmR1bW15VmVydGV4V2lkdGgsMCksZS5wdXNoKGcpfWMuYmVnaW5VcGRhdGUoKTt0cnl7dGhpcy5ydW4oYSksdGhpcy5yZXNpemVQYXJlbnQmJiF0aGlzLmdyYXBoLmlzQ2VsbENvbGxhcHNlZChhKSYmdGhpcy5ncmFwaC51cGRhdGVHcm91cEJvdW5kcyhbYV0sdGhpcy5wYXJlbnRCb3JkZXIsdGhpcy5tb3ZlUGFyZW50KSxudWxsIT10aGlzLnBhcmVudFgmJm51bGwhPXRoaXMucGFyZW50WSYmKGQ9dGhpcy5ncmFwaC5nZXRDZWxsR2VvbWV0cnkoYSksbnVsbCE9ZCYmKGQ9ZC5jbG9uZSgpLGQueD10aGlzLnBhcmVudFgsZC55PXRoaXMucGFyZW50WSxjLnNldEdlb21ldHJ5KGEsZCkpKSx0aGlzLmdyYXBoLnJlbW92ZUNlbGxzKGUpfWZpbmFsbHl7Yy5lbmRVcGRhdGUoKX19fTsKbXhTd2ltbGFuZUxheW91dC5wcm90b3R5cGUudXBkYXRlR3JvdXBCb3VuZHM9ZnVuY3Rpb24oKXt2YXIgYT1bXSxiPXRoaXMubW9kZWwsYztmb3IoYyBpbiBiLmVkZ2VNYXBwZXIpZm9yKHZhciBkPWIuZWRnZU1hcHBlcltjXSxlPTA7ZTxkLmVkZ2VzLmxlbmd0aDtlKyspYS5wdXNoKGQuZWRnZXNbZV0pO2E9dGhpcy5ncmFwaC5nZXRCb3VuZGluZ0JveEZyb21HZW9tZXRyeShhLCEwKTtiPVtdO2ZvcihlPTA7ZTx0aGlzLnN3aW1sYW5lcy5sZW5ndGg7ZSsrKXt2YXIgZj10aGlzLnN3aW1sYW5lc1tlXTtjPXRoaXMuZ3JhcGguZ2V0Q2VsbEdlb21ldHJ5KGYpO2lmKG51bGwhPWMpe3ZhciBnPXRoaXMuZ3JhcGguZ2V0Q2hpbGRDZWxscyhmKSxkPXRoaXMuZ3JhcGguaXNTd2ltbGFuZShmKT90aGlzLmdyYXBoLmdldFN0YXJ0U2l6ZShmKTpuZXcgbXhSZWN0YW5nbGUsZj10aGlzLmdyYXBoLmdldEJvdW5kaW5nQm94RnJvbUdlb21ldHJ5KGcpO2JbZV09ZjtkPWYueStjLnktZC5oZWlnaHQtCnRoaXMucGFyZW50Qm9yZGVyO2M9Zi55K2MueStmLmhlaWdodDtudWxsPT1hP2E9bmV3IG14UmVjdGFuZ2xlKDAsZCwwLGMtZCk6KGEueT1NYXRoLm1pbihhLnksZCksYS5oZWlnaHQ9TWF0aC5tYXgoYS55K2EuaGVpZ2h0LGMpLWEueSl9fWZvcihlPTA7ZTx0aGlzLnN3aW1sYW5lcy5sZW5ndGg7ZSsrKWlmKGY9dGhpcy5zd2ltbGFuZXNbZV0sYz10aGlzLmdyYXBoLmdldENlbGxHZW9tZXRyeShmKSxudWxsIT1jKXt2YXIgZz10aGlzLmdyYXBoLmdldENoaWxkQ2VsbHMoZiksZD10aGlzLmdyYXBoLmlzU3dpbWxhbmUoZik/dGhpcy5ncmFwaC5nZXRTdGFydFNpemUoZik6bmV3IG14UmVjdGFuZ2xlLGs9Yy5jbG9uZSgpLGw9ZC53aWR0aCsoMD09ZT90aGlzLnBhcmVudEJvcmRlcjp0aGlzLmludGVyUmFua0NlbGxTcGFjaW5nLzIpLG09YltlXS54LWwsbj1hLnktdGhpcy5wYXJlbnRCb3JkZXI7ay54Kz1tO2sueT1uO2sud2lkdGg9YltlXS53aWR0aCtsK3RoaXMuaW50ZXJSYW5rQ2VsbFNwYWNpbmcvCjI7ay5oZWlnaHQ9YS5oZWlnaHQrZC5oZWlnaHQrMip0aGlzLnBhcmVudEJvcmRlcjt0aGlzLmdyYXBoLm1vZGVsLnNldEdlb21ldHJ5KGYsayk7dGhpcy5ncmFwaC5tb3ZlQ2VsbHMoZywtbSxjLnktbil9fTsKbXhTd2ltbGFuZUxheW91dC5wcm90b3R5cGUuZmluZFJvb3RzPWZ1bmN0aW9uKGEsYil7dmFyIGM9W107aWYobnVsbCE9YSYmbnVsbCE9Yil7dmFyIGQ9dGhpcy5ncmFwaC5tb2RlbCxlPW51bGwsZj0tMUU1LGc7Zm9yKGcgaW4gYil7dmFyIGs9YltnXTtpZihudWxsIT1rJiZkLmlzVmVydGV4KGspJiZ0aGlzLmdyYXBoLmlzQ2VsbFZpc2libGUoaykmJmQuaXNBbmNlc3RvcihhLGspKXtmb3IodmFyIGw9dGhpcy5nZXRFZGdlcyhrKSxtPTAsbj0wLHA9MDtwPGwubGVuZ3RoO3ArKyl7dmFyIHE9dGhpcy5nZXRWaXNpYmxlVGVybWluYWwobFtwXSwhMCk7cT09az8ocT10aGlzLmdldFZpc2libGVUZXJtaW5hbChsW3BdLCExKSxkLmlzQW5jZXN0b3IoYSxxKSYmbSsrKTpkLmlzQW5jZXN0b3IoYSxxKSYmbisrfTA9PW4mJjA8bSYmYy5wdXNoKGspO2w9bS1uO2w+ZiYmKGY9bCxlPWspfX0wPT1jLmxlbmd0aCYmbnVsbCE9ZSYmYy5wdXNoKGUpfXJldHVybiBjfTsKbXhTd2ltbGFuZUxheW91dC5wcm90b3R5cGUuZ2V0RWRnZXM9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5lZGdlc0NhY2hlLmdldChhKTtpZihudWxsIT1iKXJldHVybiBiO2Zvcih2YXIgYz10aGlzLmdyYXBoLm1vZGVsLGI9W10sZD10aGlzLmdyYXBoLmlzQ2VsbENvbGxhcHNlZChhKSxlPWMuZ2V0Q2hpbGRDb3VudChhKSxmPTA7ZjxlO2YrKyl7dmFyIGc9Yy5nZXRDaGlsZEF0KGEsZik7aWYodGhpcy5pc1BvcnQoZykpYj1iLmNvbmNhdChjLmdldEVkZ2VzKGcsITAsITApKTtlbHNlIGlmKGR8fCF0aGlzLmdyYXBoLmlzQ2VsbFZpc2libGUoZykpYj1iLmNvbmNhdChjLmdldEVkZ2VzKGcsITAsITApKX1iPWIuY29uY2F0KGMuZ2V0RWRnZXMoYSwhMCwhMCkpO2M9W107Zm9yKGY9MDtmPGIubGVuZ3RoO2YrKylkPXRoaXMuZ2V0VmlzaWJsZVRlcm1pbmFsKGJbZl0sITApLGU9dGhpcy5nZXRWaXNpYmxlVGVybWluYWwoYltmXSwhMSksKGQ9PWV8fGQhPWUmJihlPT1hJiYobnVsbD09dGhpcy5wYXJlbnR8fAp0aGlzLmdyYXBoLmlzVmFsaWRBbmNlc3RvcihkLHRoaXMucGFyZW50LHRoaXMudHJhdmVyc2VBbmNlc3RvcnMpKXx8ZD09YSYmKG51bGw9PXRoaXMucGFyZW50fHx0aGlzLmdyYXBoLmlzVmFsaWRBbmNlc3RvcihlLHRoaXMucGFyZW50LHRoaXMudHJhdmVyc2VBbmNlc3RvcnMpKSkpJiZjLnB1c2goYltmXSk7dGhpcy5lZGdlc0NhY2hlLnB1dChhLGMpO3JldHVybiBjfTsKbXhTd2ltbGFuZUxheW91dC5wcm90b3R5cGUuZ2V0VmlzaWJsZVRlcm1pbmFsPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5lZGdlc1RhcmdldFRlcm1DYWNoZTtiJiYoYz10aGlzLmVkZ2VTb3VyY2VUZXJtQ2FjaGUpO3ZhciBkPWMuZ2V0KGEpO2lmKG51bGwhPWQpcmV0dXJuIGQ7dmFyIGQ9dGhpcy5ncmFwaC52aWV3LmdldFN0YXRlKGEpLGU9bnVsbCE9ZD9kLmdldFZpc2libGVUZXJtaW5hbChiKTp0aGlzLmdyYXBoLnZpZXcuZ2V0VmlzaWJsZVRlcm1pbmFsKGEsYik7bnVsbD09ZSYmKGU9bnVsbCE9ZD9kLmdldFZpc2libGVUZXJtaW5hbChiKTp0aGlzLmdyYXBoLnZpZXcuZ2V0VmlzaWJsZVRlcm1pbmFsKGEsYikpO251bGwhPWUmJih0aGlzLmlzUG9ydChlKSYmKGU9dGhpcy5ncmFwaC5tb2RlbC5nZXRQYXJlbnQoZSkpLGMucHV0KGEsZSkpO3JldHVybiBlfTsKbXhTd2ltbGFuZUxheW91dC5wcm90b3R5cGUucnVuPWZ1bmN0aW9uKGEpe3ZhciBiPVtdLGM9e307aWYobnVsbCE9dGhpcy5zd2ltbGFuZXMmJjA8dGhpcy5zd2ltbGFuZXMubGVuZ3RoJiZudWxsIT1hKXtmb3IodmFyIGQ9e30sZT0wO2U8dGhpcy5zd2ltbGFuZXMubGVuZ3RoO2UrKyl0aGlzLmZpbHRlckRlc2NlbmRhbnRzKHRoaXMuc3dpbWxhbmVzW2VdLGQpO3RoaXMucm9vdHM9W107dmFyIGU9ITAsZjtmb3IoZiBpbiBkKWlmKG51bGwhPWRbZl0pe2U9ITE7YnJlYWt9Zm9yKHZhciBnPTA7IWUmJmc8dGhpcy5zd2ltbGFuZXMubGVuZ3RoOyl7dmFyIGs9dGhpcy5maW5kUm9vdHModGhpcy5zd2ltbGFuZXNbZ10sZCk7aWYoMD09ay5sZW5ndGgpZysrO2Vsc2V7Zm9yKGU9MDtlPGsubGVuZ3RoO2UrKyl7dmFyIGw9e307Yi5wdXNoKGwpO3RoaXMudHJhdmVyc2Uoa1tlXSwhMCxudWxsLGMsbCxiLGQsZyl9Zm9yKGU9MDtlPGsubGVuZ3RoO2UrKyl0aGlzLnJvb3RzLnB1c2goa1tlXSk7CmU9ITA7Zm9yKGYgaW4gZClpZihudWxsIT1kW2ZdKXtlPSExO2JyZWFrfX19fWVsc2UgZm9yKGU9MDtlPHRoaXMucm9vdHMubGVuZ3RoO2UrKylsPXt9LGIucHVzaChsKSx0aGlzLnRyYXZlcnNlKHRoaXMucm9vdHNbZV0sITAsbnVsbCxjLGwsYixudWxsKTtiPVtdO2ZvcihmIGluIGMpYi5wdXNoKGNbZl0pO3RoaXMubW9kZWw9bmV3IG14U3dpbWxhbmVNb2RlbCh0aGlzLGIsdGhpcy5yb290cyxhLHRoaXMudGlnaHRlblRvU291cmNlKTt0aGlzLmN5Y2xlU3RhZ2UoYSk7dGhpcy5sYXllcmluZ1N0YWdlKCk7dGhpcy5jcm9zc2luZ1N0YWdlKGEpO3RoaXMucGxhY2VtZW50U3RhZ2UoMCxhKX07Cm14U3dpbWxhbmVMYXlvdXQucHJvdG90eXBlLmZpbHRlckRlc2NlbmRhbnRzPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5ncmFwaC5tb2RlbDtjLmlzVmVydGV4KGEpJiZhIT10aGlzLnBhcmVudCYmYy5nZXRQYXJlbnQoYSkhPXRoaXMucGFyZW50JiZ0aGlzLmdyYXBoLmlzQ2VsbFZpc2libGUoYSkmJihiW214T2JqZWN0SWRlbnRpdHkuZ2V0KGEpXT1hKTtpZih0aGlzLnRyYXZlcnNlQW5jZXN0b3JzfHxhPT10aGlzLnBhcmVudCYmdGhpcy5ncmFwaC5pc0NlbGxWaXNpYmxlKGEpKWZvcih2YXIgZD1jLmdldENoaWxkQ291bnQoYSksZT0wO2U8ZDtlKyspe3ZhciBmPWMuZ2V0Q2hpbGRBdChhLGUpO3RoaXMuaXNQb3J0KGYpfHx0aGlzLmZpbHRlckRlc2NlbmRhbnRzKGYsYil9fTtteFN3aW1sYW5lTGF5b3V0LnByb3RvdHlwZS5pc1BvcnQ9ZnVuY3Rpb24oYSl7cmV0dXJuIGEuZ2VvbWV0cnkucmVsYXRpdmU/ITA6ITF9OwpteFN3aW1sYW5lTGF5b3V0LnByb3RvdHlwZS5nZXRFZGdlc0JldHdlZW49ZnVuY3Rpb24oYSxiLGMpe2M9bnVsbCE9Yz9jOiExO2Zvcih2YXIgZD10aGlzLmdldEVkZ2VzKGEpLGU9W10sZj0wO2Y8ZC5sZW5ndGg7ZisrKXt2YXIgZz10aGlzLmdldFZpc2libGVUZXJtaW5hbChkW2ZdLCEwKSxrPXRoaXMuZ2V0VmlzaWJsZVRlcm1pbmFsKGRbZl0sITEpOyhnPT1hJiZrPT1ifHwhYyYmZz09YiYmaz09YSkmJmUucHVzaChkW2ZdKX1yZXR1cm4gZX07Cm14U3dpbWxhbmVMYXlvdXQucHJvdG90eXBlLnRyYXZlcnNlPWZ1bmN0aW9uKGEsYixjLGQsZSxmLGcsayl7aWYobnVsbCE9YSYmbnVsbCE9ZCl7dmFyIGw9bXhPYmplY3RJZGVudGl0eS5nZXQoYSk7aWYobnVsbD09ZFtsXSYmKG51bGw9PWd8fG51bGwhPWdbbF0pKXtudWxsPT1lW2xdJiYoZVtsXT1hKTtudWxsPT1kW2xdJiYoZFtsXT1hKTtudWxsIT09ZyYmZGVsZXRlIGdbbF07dmFyIG09dGhpcy5nZXRFZGdlcyhhKSxsPXRoaXMuZ3JhcGgubW9kZWw7Zm9yKGM9MDtjPG0ubGVuZ3RoO2MrKyl7dmFyIG49dGhpcy5nZXRWaXNpYmxlVGVybWluYWwobVtjXSwhMCkscD1uPT1hO3AmJihuPXRoaXMuZ2V0VmlzaWJsZVRlcm1pbmFsKG1bY10sITEpKTt2YXIgcTtmb3IocT0wO3E8dGhpcy5zd2ltbGFuZXMubGVuZ3RoJiYhbC5pc0FuY2VzdG9yKHRoaXMuc3dpbWxhbmVzW3FdLG4pO3ErKyk7cT49dGhpcy5zd2ltbGFuZXMubGVuZ3RofHwhKHE+a3x8KCFifHxwKSYmcT09ayl8fChlPXRoaXMudHJhdmVyc2UobiwKYixtW2NdLGQsZSxmLGcscSkpfX1lbHNlIGlmKG51bGw9PWVbbF0pZm9yKGM9MDtjPGYubGVuZ3RoO2MrKylpZihhPWZbY10sbnVsbCE9YVtsXSl7Zm9yKG0gaW4gYSllW21dPWFbbV07Zi5zcGxpY2UoYywxKTticmVha319cmV0dXJuIGV9O214U3dpbWxhbmVMYXlvdXQucHJvdG90eXBlLmN5Y2xlU3RhZ2U9ZnVuY3Rpb24oYSl7KG5ldyBteFN3aW1sYW5lT3JkZXJpbmcodGhpcykpLmV4ZWN1dGUoYSl9O214U3dpbWxhbmVMYXlvdXQucHJvdG90eXBlLmxheWVyaW5nU3RhZ2U9ZnVuY3Rpb24oKXt0aGlzLm1vZGVsLmluaXRpYWxSYW5rKCk7dGhpcy5tb2RlbC5maXhSYW5rcygpfTtteFN3aW1sYW5lTGF5b3V0LnByb3RvdHlwZS5jcm9zc2luZ1N0YWdlPWZ1bmN0aW9uKGEpeyhuZXcgbXhNZWRpYW5IeWJyaWRDcm9zc2luZ1JlZHVjdGlvbih0aGlzKSkuZXhlY3V0ZShhKX07Cm14U3dpbWxhbmVMYXlvdXQucHJvdG90eXBlLnBsYWNlbWVudFN0YWdlPWZ1bmN0aW9uKGEsYil7dmFyIGM9bmV3IG14Q29vcmRpbmF0ZUFzc2lnbm1lbnQodGhpcyx0aGlzLmludHJhQ2VsbFNwYWNpbmcsdGhpcy5pbnRlclJhbmtDZWxsU3BhY2luZyx0aGlzLm9yaWVudGF0aW9uLGEsdGhpcy5wYXJhbGxlbEVkZ2VTcGFjaW5nKTtjLmZpbmVUdW5pbmc9dGhpcy5maW5lVHVuaW5nO2MuZXhlY3V0ZShiKTtyZXR1cm4gYy5saW1pdFgrdGhpcy5pbnRlckhpZXJhcmNoeVNwYWNpbmd9O2Z1bmN0aW9uIG14R3JhcGhNb2RlbChhKXt0aGlzLmN1cnJlbnRFZGl0PXRoaXMuY3JlYXRlVW5kb2FibGVFZGl0KCk7bnVsbCE9YT90aGlzLnNldFJvb3QoYSk6dGhpcy5jbGVhcigpfW14R3JhcGhNb2RlbC5wcm90b3R5cGU9bmV3IG14RXZlbnRTb3VyY2U7bXhHcmFwaE1vZGVsLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1teEdyYXBoTW9kZWw7bXhHcmFwaE1vZGVsLnByb3RvdHlwZS5yb290PW51bGw7Cm14R3JhcGhNb2RlbC5wcm90b3R5cGUuY2VsbHM9bnVsbDtteEdyYXBoTW9kZWwucHJvdG90eXBlLm1haW50YWluRWRnZVBhcmVudD0hMDtteEdyYXBoTW9kZWwucHJvdG90eXBlLmlnbm9yZVJlbGF0aXZlRWRnZVBhcmVudD0hMDtteEdyYXBoTW9kZWwucHJvdG90eXBlLmNyZWF0ZUlkcz0hMDtteEdyYXBoTW9kZWwucHJvdG90eXBlLnByZWZpeD0iIjtteEdyYXBoTW9kZWwucHJvdG90eXBlLnBvc3RmaXg9IiI7bXhHcmFwaE1vZGVsLnByb3RvdHlwZS5uZXh0SWQ9MDtteEdyYXBoTW9kZWwucHJvdG90eXBlLmN1cnJlbnRFZGl0PW51bGw7bXhHcmFwaE1vZGVsLnByb3RvdHlwZS51cGRhdGVMZXZlbD0wO214R3JhcGhNb2RlbC5wcm90b3R5cGUuZW5kaW5nVXBkYXRlPSExO214R3JhcGhNb2RlbC5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXt0aGlzLnNldFJvb3QodGhpcy5jcmVhdGVSb290KCkpfTtteEdyYXBoTW9kZWwucHJvdG90eXBlLmlzQ3JlYXRlSWRzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY3JlYXRlSWRzfTsKbXhHcmFwaE1vZGVsLnByb3RvdHlwZS5zZXRDcmVhdGVJZHM9ZnVuY3Rpb24oYSl7dGhpcy5jcmVhdGVJZHM9YX07bXhHcmFwaE1vZGVsLnByb3RvdHlwZS5jcmVhdGVSb290PWZ1bmN0aW9uKCl7dmFyIGE9bmV3IG14Q2VsbDthLmluc2VydChuZXcgbXhDZWxsKTtyZXR1cm4gYX07bXhHcmFwaE1vZGVsLnByb3RvdHlwZS5nZXRDZWxsPWZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT10aGlzLmNlbGxzP3RoaXMuY2VsbHNbYV06bnVsbH07bXhHcmFwaE1vZGVsLnByb3RvdHlwZS5maWx0ZXJDZWxscz1mdW5jdGlvbihhLGIpe3ZhciBjPW51bGw7aWYobnVsbCE9YSlmb3IodmFyIGM9W10sZD0wO2Q8YS5sZW5ndGg7ZCsrKWIoYVtkXSkmJmMucHVzaChhW2RdKTtyZXR1cm4gY307bXhHcmFwaE1vZGVsLnByb3RvdHlwZS5nZXREZXNjZW5kYW50cz1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5maWx0ZXJEZXNjZW5kYW50cyhudWxsLGEpfTsKbXhHcmFwaE1vZGVsLnByb3RvdHlwZS5maWx0ZXJEZXNjZW5kYW50cz1mdW5jdGlvbihhLGIpe3ZhciBjPVtdO2I9Ynx8dGhpcy5nZXRSb290KCk7KG51bGw9PWF8fGEoYikpJiZjLnB1c2goYik7Zm9yKHZhciBkPXRoaXMuZ2V0Q2hpbGRDb3VudChiKSxlPTA7ZTxkO2UrKyl2YXIgZj10aGlzLmdldENoaWxkQXQoYixlKSxjPWMuY29uY2F0KHRoaXMuZmlsdGVyRGVzY2VuZGFudHMoYSxmKSk7cmV0dXJuIGN9O214R3JhcGhNb2RlbC5wcm90b3R5cGUuZ2V0Um9vdD1mdW5jdGlvbihhKXt2YXIgYj1hfHx0aGlzLnJvb3Q7aWYobnVsbCE9YSlmb3IoO251bGwhPWE7KWI9YSxhPXRoaXMuZ2V0UGFyZW50KGEpO3JldHVybiBifTtteEdyYXBoTW9kZWwucHJvdG90eXBlLnNldFJvb3Q9ZnVuY3Rpb24oYSl7dGhpcy5leGVjdXRlKG5ldyBteFJvb3RDaGFuZ2UodGhpcyxhKSk7cmV0dXJuIGF9OwpteEdyYXBoTW9kZWwucHJvdG90eXBlLnJvb3RDaGFuZ2VkPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMucm9vdDt0aGlzLnJvb3Q9YTt0aGlzLm5leHRJZD0wO3RoaXMuY2VsbHM9bnVsbDt0aGlzLmNlbGxBZGRlZChhKTtyZXR1cm4gYn07bXhHcmFwaE1vZGVsLnByb3RvdHlwZS5pc1Jvb3Q9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPWEmJnRoaXMucm9vdD09YX07bXhHcmFwaE1vZGVsLnByb3RvdHlwZS5pc0xheWVyPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmlzUm9vdCh0aGlzLmdldFBhcmVudChhKSl9O214R3JhcGhNb2RlbC5wcm90b3R5cGUuaXNBbmNlc3Rvcj1mdW5jdGlvbihhLGIpe2Zvcig7bnVsbCE9YiYmYiE9YTspYj10aGlzLmdldFBhcmVudChiKTtyZXR1cm4gYj09YX07bXhHcmFwaE1vZGVsLnByb3RvdHlwZS5jb250YWlucz1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5pc0FuY2VzdG9yKHRoaXMucm9vdCxhKX07Cm14R3JhcGhNb2RlbC5wcm90b3R5cGUuZ2V0UGFyZW50PWZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hP2EuZ2V0UGFyZW50KCk6bnVsbH07bXhHcmFwaE1vZGVsLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24oYSxiLGMpe2lmKGIhPWEmJm51bGwhPWEmJm51bGwhPWIpe251bGw9PWMmJihjPXRoaXMuZ2V0Q2hpbGRDb3VudChhKSk7dmFyIGQ9YSE9dGhpcy5nZXRQYXJlbnQoYik7dGhpcy5leGVjdXRlKG5ldyBteENoaWxkQ2hhbmdlKHRoaXMsYSxiLGMpKTt0aGlzLm1haW50YWluRWRnZVBhcmVudCYmZCYmdGhpcy51cGRhdGVFZGdlUGFyZW50cyhiKX1yZXR1cm4gYn07Cm14R3JhcGhNb2RlbC5wcm90b3R5cGUuY2VsbEFkZGVkPWZ1bmN0aW9uKGEpe2lmKG51bGwhPWEpe251bGw9PWEuZ2V0SWQoKSYmdGhpcy5jcmVhdGVJZHMmJmEuc2V0SWQodGhpcy5jcmVhdGVJZChhKSk7aWYobnVsbCE9YS5nZXRJZCgpKXt2YXIgYj10aGlzLmdldENlbGwoYS5nZXRJZCgpKTtpZihiIT1hKXtmb3IoO251bGwhPWI7KWEuc2V0SWQodGhpcy5jcmVhdGVJZChhKSksYj10aGlzLmdldENlbGwoYS5nZXRJZCgpKTtudWxsPT10aGlzLmNlbGxzJiYodGhpcy5jZWxscz17fSk7dGhpcy5jZWxsc1thLmdldElkKCldPWF9fW14VXRpbHMuaXNOdW1lcmljKGEuZ2V0SWQoKSkmJih0aGlzLm5leHRJZD1NYXRoLm1heCh0aGlzLm5leHRJZCxhLmdldElkKCkpKTtmb3IodmFyIGI9dGhpcy5nZXRDaGlsZENvdW50KGEpLGM9MDtjPGI7YysrKXRoaXMuY2VsbEFkZGVkKHRoaXMuZ2V0Q2hpbGRBdChhLGMpKX19OwpteEdyYXBoTW9kZWwucHJvdG90eXBlLmNyZWF0ZUlkPWZ1bmN0aW9uKGEpe2E9dGhpcy5uZXh0SWQ7dGhpcy5uZXh0SWQrKztyZXR1cm4gdGhpcy5wcmVmaXgrYSt0aGlzLnBvc3RmaXh9O214R3JhcGhNb2RlbC5wcm90b3R5cGUudXBkYXRlRWRnZVBhcmVudHM9ZnVuY3Rpb24oYSxiKXtiPWJ8fHRoaXMuZ2V0Um9vdChhKTtmb3IodmFyIGM9dGhpcy5nZXRDaGlsZENvdW50KGEpLGQ9MDtkPGM7ZCsrKXt2YXIgZT10aGlzLmdldENoaWxkQXQoYSxkKTt0aGlzLnVwZGF0ZUVkZ2VQYXJlbnRzKGUsYil9ZT10aGlzLmdldEVkZ2VDb3VudChhKTtjPVtdO2ZvcihkPTA7ZDxlO2QrKyljLnB1c2godGhpcy5nZXRFZGdlQXQoYSxkKSk7Zm9yKGQ9MDtkPGMubGVuZ3RoO2QrKyllPWNbZF0sdGhpcy5pc0FuY2VzdG9yKGIsZSkmJnRoaXMudXBkYXRlRWRnZVBhcmVudChlLGIpfTsKbXhHcmFwaE1vZGVsLnByb3RvdHlwZS51cGRhdGVFZGdlUGFyZW50PWZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPXRoaXMuZ2V0VGVybWluYWwoYSwhMCksZD10aGlzLmdldFRlcm1pbmFsKGEsITEpO251bGwhPWMmJiF0aGlzLmlzRWRnZShjKSYmbnVsbCE9Yy5nZW9tZXRyeSYmYy5nZW9tZXRyeS5yZWxhdGl2ZTspYz10aGlzLmdldFBhcmVudChjKTtmb3IoO251bGwhPWQmJnRoaXMuaWdub3JlUmVsYXRpdmVFZGdlUGFyZW50JiYhdGhpcy5pc0VkZ2UoZCkmJm51bGwhPWQuZ2VvbWV0cnkmJmQuZ2VvbWV0cnkucmVsYXRpdmU7KWQ9dGhpcy5nZXRQYXJlbnQoZCk7aWYodGhpcy5pc0FuY2VzdG9yKGIsYykmJnRoaXMuaXNBbmNlc3RvcihiLGQpJiYoYz1jPT1kP3RoaXMuZ2V0UGFyZW50KGMpOnRoaXMuZ2V0TmVhcmVzdENvbW1vbkFuY2VzdG9yKGMsZCksbnVsbCE9YyYmKHRoaXMuZ2V0UGFyZW50KGMpIT10aGlzLnJvb3R8fHRoaXMuaXNBbmNlc3RvcihjLGEpKSYmdGhpcy5nZXRQYXJlbnQoYSkhPQpjKSl7ZD10aGlzLmdldEdlb21ldHJ5KGEpO2lmKG51bGwhPWQpe3ZhciBlPXRoaXMuZ2V0T3JpZ2luKHRoaXMuZ2V0UGFyZW50KGEpKSxmPXRoaXMuZ2V0T3JpZ2luKGMpLGc9Zi54LWUueCxlPWYueS1lLnksZD1kLmNsb25lKCk7ZC50cmFuc2xhdGUoLWcsLWUpO3RoaXMuc2V0R2VvbWV0cnkoYSxkKX10aGlzLmFkZChjLGEsdGhpcy5nZXRDaGlsZENvdW50KGMpKX19O214R3JhcGhNb2RlbC5wcm90b3R5cGUuZ2V0T3JpZ2luPWZ1bmN0aW9uKGEpe3ZhciBiO251bGwhPWE/KGI9dGhpcy5nZXRPcmlnaW4odGhpcy5nZXRQYXJlbnQoYSkpLHRoaXMuaXNFZGdlKGEpfHwoYT10aGlzLmdldEdlb21ldHJ5KGEpLG51bGwhPWEmJihiLngrPWEueCxiLnkrPWEueSkpKTpiPW5ldyBteFBvaW50O3JldHVybiBifTsKbXhHcmFwaE1vZGVsLnByb3RvdHlwZS5nZXROZWFyZXN0Q29tbW9uQW5jZXN0b3I9ZnVuY3Rpb24oYSxiKXtpZihudWxsIT1hJiZudWxsIT1iKXt2YXIgYz1teENlbGxQYXRoLmNyZWF0ZShiKTtpZihudWxsIT1jJiYwPGMubGVuZ3RoKXt2YXIgZD1hLGU9bXhDZWxsUGF0aC5jcmVhdGUoZCk7aWYoYy5sZW5ndGg8ZS5sZW5ndGgpdmFyIGQ9YixmPWUsZT1jLGM9Zjtmb3IoO251bGwhPWQ7KXtmPXRoaXMuZ2V0UGFyZW50KGQpO2lmKDA9PWMuaW5kZXhPZihlK214Q2VsbFBhdGguUEFUSF9TRVBBUkFUT1IpJiZudWxsIT1mKXJldHVybiBkO2U9bXhDZWxsUGF0aC5nZXRQYXJlbnRQYXRoKGUpO2Q9Zn19fXJldHVybiBudWxsfTtteEdyYXBoTW9kZWwucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbihhKXthPT10aGlzLnJvb3Q/dGhpcy5zZXRSb290KG51bGwpOm51bGwhPXRoaXMuZ2V0UGFyZW50KGEpJiZ0aGlzLmV4ZWN1dGUobmV3IG14Q2hpbGRDaGFuZ2UodGhpcyxudWxsLGEpKTtyZXR1cm4gYX07Cm14R3JhcGhNb2RlbC5wcm90b3R5cGUuY2VsbFJlbW92ZWQ9ZnVuY3Rpb24oYSl7aWYobnVsbCE9YSYmbnVsbCE9dGhpcy5jZWxscyl7Zm9yKHZhciBiPXRoaXMuZ2V0Q2hpbGRDb3VudChhKS0xOzA8PWI7Yi0tKXRoaXMuY2VsbFJlbW92ZWQodGhpcy5nZXRDaGlsZEF0KGEsYikpO251bGwhPXRoaXMuY2VsbHMmJm51bGwhPWEuZ2V0SWQoKSYmZGVsZXRlIHRoaXMuY2VsbHNbYS5nZXRJZCgpXX19O214R3JhcGhNb2RlbC5wcm90b3R5cGUucGFyZW50Rm9yQ2VsbENoYW5nZWQ9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXMuZ2V0UGFyZW50KGEpO251bGwhPWI/Yj09ZCYmZC5nZXRJbmRleChhKT09Y3x8Yi5pbnNlcnQoYSxjKTpudWxsIT1kJiYoYz1kLmdldEluZGV4KGEpLGQucmVtb3ZlKGMpKTtiPXRoaXMuY29udGFpbnMoYik7Yz10aGlzLmNvbnRhaW5zKGQpO2ImJiFjP3RoaXMuY2VsbEFkZGVkKGEpOmMmJiFiJiZ0aGlzLmNlbGxSZW1vdmVkKGEpO3JldHVybiBkfTsKbXhHcmFwaE1vZGVsLnByb3RvdHlwZS5nZXRDaGlsZENvdW50PWZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hP2EuZ2V0Q2hpbGRDb3VudCgpOjB9O214R3JhcGhNb2RlbC5wcm90b3R5cGUuZ2V0Q2hpbGRBdD1mdW5jdGlvbihhLGIpe3JldHVybiBudWxsIT1hP2EuZ2V0Q2hpbGRBdChiKTpudWxsfTtteEdyYXBoTW9kZWwucHJvdG90eXBlLmdldENoaWxkcmVuPWZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hP2EuY2hpbGRyZW46bnVsbH07bXhHcmFwaE1vZGVsLnByb3RvdHlwZS5nZXRDaGlsZFZlcnRpY2VzPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmdldENoaWxkQ2VsbHMoYSwhMCwhMSl9O214R3JhcGhNb2RlbC5wcm90b3R5cGUuZ2V0Q2hpbGRFZGdlcz1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5nZXRDaGlsZENlbGxzKGEsITEsITApfTsKbXhHcmFwaE1vZGVsLnByb3RvdHlwZS5nZXRDaGlsZENlbGxzPWZ1bmN0aW9uKGEsYixjKXtiPW51bGwhPWI/YjohMTtjPW51bGwhPWM/YzohMTtmb3IodmFyIGQ9dGhpcy5nZXRDaGlsZENvdW50KGEpLGU9W10sZj0wO2Y8ZDtmKyspe3ZhciBnPXRoaXMuZ2V0Q2hpbGRBdChhLGYpOyghYyYmIWJ8fGMmJnRoaXMuaXNFZGdlKGcpfHxiJiZ0aGlzLmlzVmVydGV4KGcpKSYmZS5wdXNoKGcpfXJldHVybiBlfTtteEdyYXBoTW9kZWwucHJvdG90eXBlLmdldFRlcm1pbmFsPWZ1bmN0aW9uKGEsYil7cmV0dXJuIG51bGwhPWE/YS5nZXRUZXJtaW5hbChiKTpudWxsfTsKbXhHcmFwaE1vZGVsLnByb3RvdHlwZS5zZXRUZXJtaW5hbD1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9YiE9dGhpcy5nZXRUZXJtaW5hbChhLGMpO3RoaXMuZXhlY3V0ZShuZXcgbXhUZXJtaW5hbENoYW5nZSh0aGlzLGEsYixjKSk7dGhpcy5tYWludGFpbkVkZ2VQYXJlbnQmJmQmJnRoaXMudXBkYXRlRWRnZVBhcmVudChhLHRoaXMuZ2V0Um9vdCgpKTtyZXR1cm4gYn07bXhHcmFwaE1vZGVsLnByb3RvdHlwZS5zZXRUZXJtaW5hbHM9ZnVuY3Rpb24oYSxiLGMpe3RoaXMuYmVnaW5VcGRhdGUoKTt0cnl7dGhpcy5zZXRUZXJtaW5hbChhLGIsITApLHRoaXMuc2V0VGVybWluYWwoYSxjLCExKX1maW5hbGx5e3RoaXMuZW5kVXBkYXRlKCl9fTsKbXhHcmFwaE1vZGVsLnByb3RvdHlwZS50ZXJtaW5hbEZvckNlbGxDaGFuZ2VkPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLmdldFRlcm1pbmFsKGEsYyk7bnVsbCE9Yj9iLmluc2VydEVkZ2UoYSxjKTpudWxsIT1kJiZkLnJlbW92ZUVkZ2UoYSxjKTtyZXR1cm4gZH07bXhHcmFwaE1vZGVsLnByb3RvdHlwZS5nZXRFZGdlQ291bnQ9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPWE/YS5nZXRFZGdlQ291bnQoKTowfTtteEdyYXBoTW9kZWwucHJvdG90eXBlLmdldEVkZ2VBdD1mdW5jdGlvbihhLGIpe3JldHVybiBudWxsIT1hP2EuZ2V0RWRnZUF0KGIpOm51bGx9O214R3JhcGhNb2RlbC5wcm90b3R5cGUuZ2V0RGlyZWN0ZWRFZGdlQ291bnQ9ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD0wLGU9dGhpcy5nZXRFZGdlQ291bnQoYSksZj0wO2Y8ZTtmKyspe3ZhciBnPXRoaXMuZ2V0RWRnZUF0KGEsZik7ZyE9YyYmdGhpcy5nZXRUZXJtaW5hbChnLGIpPT1hJiZkKyt9cmV0dXJuIGR9OwpteEdyYXBoTW9kZWwucHJvdG90eXBlLmdldENvbm5lY3Rpb25zPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmdldEVkZ2VzKGEsITAsITAsITEpfTtteEdyYXBoTW9kZWwucHJvdG90eXBlLmdldEluY29taW5nRWRnZXM9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZ2V0RWRnZXMoYSwhMCwhMSwhMSl9O214R3JhcGhNb2RlbC5wcm90b3R5cGUuZ2V0T3V0Z29pbmdFZGdlcz1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5nZXRFZGdlcyhhLCExLCEwLCExKX07Cm14R3JhcGhNb2RlbC5wcm90b3R5cGUuZ2V0RWRnZXM9ZnVuY3Rpb24oYSxiLGMsZCl7Yj1udWxsIT1iP2I6ITA7Yz1udWxsIT1jP2M6ITA7ZD1udWxsIT1kP2Q6ITA7Zm9yKHZhciBlPXRoaXMuZ2V0RWRnZUNvdW50KGEpLGY9W10sZz0wO2c8ZTtnKyspe3ZhciBrPXRoaXMuZ2V0RWRnZUF0KGEsZyksbD10aGlzLmdldFRlcm1pbmFsKGssITApLG09dGhpcy5nZXRUZXJtaW5hbChrLCExKTsoZCYmbD09bXx8bCE9bSYmKGImJm09PWF8fGMmJmw9PWEpKSYmZi5wdXNoKGspfXJldHVybiBmfTsKbXhHcmFwaE1vZGVsLnByb3RvdHlwZS5nZXRFZGdlc0JldHdlZW49ZnVuY3Rpb24oYSxiLGMpe2M9bnVsbCE9Yz9jOiExO3ZhciBkPXRoaXMuZ2V0RWRnZUNvdW50KGEpLGU9dGhpcy5nZXRFZGdlQ291bnQoYiksZj1hLGc9ZDtlPGQmJihnPWUsZj1iKTtkPVtdO2ZvcihlPTA7ZTxnO2UrKyl7dmFyIGs9dGhpcy5nZXRFZGdlQXQoZixlKSxsPXRoaXMuZ2V0VGVybWluYWwoaywhMCksbT10aGlzLmdldFRlcm1pbmFsKGssITEpLG49bT09YSYmbD09YjsobD09YSYmbT09Ynx8IWMmJm4pJiZkLnB1c2goayl9cmV0dXJuIGR9OwpteEdyYXBoTW9kZWwucHJvdG90eXBlLmdldE9wcG9zaXRlcz1mdW5jdGlvbihhLGIsYyxkKXtjPW51bGwhPWM/YzohMDtkPW51bGwhPWQ/ZDohMDt2YXIgZT1bXTtpZihudWxsIT1hKWZvcih2YXIgZj0wO2Y8YS5sZW5ndGg7ZisrKXt2YXIgZz10aGlzLmdldFRlcm1pbmFsKGFbZl0sITApLGs9dGhpcy5nZXRUZXJtaW5hbChhW2ZdLCExKTtnPT1iJiZudWxsIT1rJiZrIT1iJiZkP2UucHVzaChrKTprPT1iJiZudWxsIT1nJiZnIT1iJiZjJiZlLnB1c2goZyl9cmV0dXJuIGV9OwpteEdyYXBoTW9kZWwucHJvdG90eXBlLmdldFRvcG1vc3RDZWxscz1mdW5jdGlvbihhKXtmb3IodmFyIGI9bmV3IG14RGljdGlvbmFyeSxjPVtdLGQ9MDtkPGEubGVuZ3RoO2QrKyliLnB1dChhW2RdLCEwKTtmb3IoZD0wO2Q8YS5sZW5ndGg7ZCsrKXtmb3IodmFyIGU9YVtkXSxmPSEwLGc9dGhpcy5nZXRQYXJlbnQoZSk7bnVsbCE9Zzspe2lmKGIuZ2V0KGcpKXtmPSExO2JyZWFrfWc9dGhpcy5nZXRQYXJlbnQoZyl9ZiYmYy5wdXNoKGUpfXJldHVybiBjfTtteEdyYXBoTW9kZWwucHJvdG90eXBlLmlzVmVydGV4PWZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hP2EuaXNWZXJ0ZXgoKTohMX07bXhHcmFwaE1vZGVsLnByb3RvdHlwZS5pc0VkZ2U9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPWE/YS5pc0VkZ2UoKTohMX07bXhHcmFwaE1vZGVsLnByb3RvdHlwZS5pc0Nvbm5lY3RhYmxlPWZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hP2EuaXNDb25uZWN0YWJsZSgpOiExfTsKbXhHcmFwaE1vZGVsLnByb3RvdHlwZS5nZXRWYWx1ZT1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YT9hLmdldFZhbHVlKCk6bnVsbH07bXhHcmFwaE1vZGVsLnByb3RvdHlwZS5zZXRWYWx1ZT1mdW5jdGlvbihhLGIpe3RoaXMuZXhlY3V0ZShuZXcgbXhWYWx1ZUNoYW5nZSh0aGlzLGEsYikpO3JldHVybiBifTtteEdyYXBoTW9kZWwucHJvdG90eXBlLnZhbHVlRm9yQ2VsbENoYW5nZWQ9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS52YWx1ZUNoYW5nZWQoYil9O214R3JhcGhNb2RlbC5wcm90b3R5cGUuZ2V0R2VvbWV0cnk9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPWE/YS5nZXRHZW9tZXRyeSgpOm51bGx9O214R3JhcGhNb2RlbC5wcm90b3R5cGUuc2V0R2VvbWV0cnk9ZnVuY3Rpb24oYSxiKXtiIT10aGlzLmdldEdlb21ldHJ5KGEpJiZ0aGlzLmV4ZWN1dGUobmV3IG14R2VvbWV0cnlDaGFuZ2UodGhpcyxhLGIpKTtyZXR1cm4gYn07Cm14R3JhcGhNb2RlbC5wcm90b3R5cGUuZ2VvbWV0cnlGb3JDZWxsQ2hhbmdlZD1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZ2V0R2VvbWV0cnkoYSk7YS5zZXRHZW9tZXRyeShiKTtyZXR1cm4gY307bXhHcmFwaE1vZGVsLnByb3RvdHlwZS5nZXRTdHlsZT1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YT9hLmdldFN0eWxlKCk6bnVsbH07bXhHcmFwaE1vZGVsLnByb3RvdHlwZS5zZXRTdHlsZT1mdW5jdGlvbihhLGIpe2IhPXRoaXMuZ2V0U3R5bGUoYSkmJnRoaXMuZXhlY3V0ZShuZXcgbXhTdHlsZUNoYW5nZSh0aGlzLGEsYikpO3JldHVybiBifTtteEdyYXBoTW9kZWwucHJvdG90eXBlLnN0eWxlRm9yQ2VsbENoYW5nZWQ9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdldFN0eWxlKGEpO2Euc2V0U3R5bGUoYik7cmV0dXJuIGN9O214R3JhcGhNb2RlbC5wcm90b3R5cGUuaXNDb2xsYXBzZWQ9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPWE/YS5pc0NvbGxhcHNlZCgpOiExfTsKbXhHcmFwaE1vZGVsLnByb3RvdHlwZS5zZXRDb2xsYXBzZWQ9ZnVuY3Rpb24oYSxiKXtiIT10aGlzLmlzQ29sbGFwc2VkKGEpJiZ0aGlzLmV4ZWN1dGUobmV3IG14Q29sbGFwc2VDaGFuZ2UodGhpcyxhLGIpKTtyZXR1cm4gYn07bXhHcmFwaE1vZGVsLnByb3RvdHlwZS5jb2xsYXBzZWRTdGF0ZUZvckNlbGxDaGFuZ2VkPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5pc0NvbGxhcHNlZChhKTthLnNldENvbGxhcHNlZChiKTtyZXR1cm4gY307bXhHcmFwaE1vZGVsLnByb3RvdHlwZS5pc1Zpc2libGU9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPWE/YS5pc1Zpc2libGUoKTohMX07bXhHcmFwaE1vZGVsLnByb3RvdHlwZS5zZXRWaXNpYmxlPWZ1bmN0aW9uKGEsYil7YiE9dGhpcy5pc1Zpc2libGUoYSkmJnRoaXMuZXhlY3V0ZShuZXcgbXhWaXNpYmxlQ2hhbmdlKHRoaXMsYSxiKSk7cmV0dXJuIGJ9OwpteEdyYXBoTW9kZWwucHJvdG90eXBlLnZpc2libGVTdGF0ZUZvckNlbGxDaGFuZ2VkPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5pc1Zpc2libGUoYSk7YS5zZXRWaXNpYmxlKGIpO3JldHVybiBjfTtteEdyYXBoTW9kZWwucHJvdG90eXBlLmV4ZWN1dGU9ZnVuY3Rpb24oYSl7YS5leGVjdXRlKCk7dGhpcy5iZWdpblVwZGF0ZSgpO3RoaXMuY3VycmVudEVkaXQuYWRkKGEpO3RoaXMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KG14RXZlbnQuRVhFQ1VURSwiY2hhbmdlIixhKSk7dGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5FWEVDVVRFRCwiY2hhbmdlIixhKSk7dGhpcy5lbmRVcGRhdGUoKX07bXhHcmFwaE1vZGVsLnByb3RvdHlwZS5iZWdpblVwZGF0ZT1mdW5jdGlvbigpe3RoaXMudXBkYXRlTGV2ZWwrKzt0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LkJFR0lOX1VQREFURSkpOzE9PXRoaXMudXBkYXRlTGV2ZWwmJnRoaXMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KG14RXZlbnQuU1RBUlRfRURJVCkpfTsKbXhHcmFwaE1vZGVsLnByb3RvdHlwZS5lbmRVcGRhdGU9ZnVuY3Rpb24oKXt0aGlzLnVwZGF0ZUxldmVsLS07MD09dGhpcy51cGRhdGVMZXZlbCYmdGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5FTkRfRURJVCkpO2lmKCF0aGlzLmVuZGluZ1VwZGF0ZSl7dGhpcy5lbmRpbmdVcGRhdGU9MD09dGhpcy51cGRhdGVMZXZlbDt0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LkVORF9VUERBVEUsImVkaXQiLHRoaXMuY3VycmVudEVkaXQpKTt0cnl7aWYodGhpcy5lbmRpbmdVcGRhdGUmJiF0aGlzLmN1cnJlbnRFZGl0LmlzRW1wdHkoKSl7dGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5CRUZPUkVfVU5ETywiZWRpdCIsdGhpcy5jdXJyZW50RWRpdCkpO3ZhciBhPXRoaXMuY3VycmVudEVkaXQ7dGhpcy5jdXJyZW50RWRpdD10aGlzLmNyZWF0ZVVuZG9hYmxlRWRpdCgpO2Eubm90aWZ5KCk7dGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5VTkRPLAoiZWRpdCIsYSkpfX1maW5hbGx5e3RoaXMuZW5kaW5nVXBkYXRlPSExfX19O214R3JhcGhNb2RlbC5wcm90b3R5cGUuY3JlYXRlVW5kb2FibGVFZGl0PWZ1bmN0aW9uKGEpe3ZhciBiPW5ldyBteFVuZG9hYmxlRWRpdCh0aGlzLG51bGwhPWE/YTohMCk7Yi5ub3RpZnk9ZnVuY3Rpb24oKXtiLnNvdXJjZS5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5DSEFOR0UsImVkaXQiLGIsImNoYW5nZXMiLGIuY2hhbmdlcykpO2Iuc291cmNlLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50Lk5PVElGWSwiZWRpdCIsYiwiY2hhbmdlcyIsYi5jaGFuZ2VzKSl9O3JldHVybiBifTsKbXhHcmFwaE1vZGVsLnByb3RvdHlwZS5tZXJnZUNoaWxkcmVuPWZ1bmN0aW9uKGEsYixjKXtjPW51bGwhPWM/YzohMDt0aGlzLmJlZ2luVXBkYXRlKCk7dHJ5e3ZhciBkPXt9O3RoaXMubWVyZ2VDaGlsZHJlbkltcGwoYSxiLGMsZCk7Zm9yKHZhciBlIGluIGQpe3ZhciBmPWRbZV0sZz10aGlzLmdldFRlcm1pbmFsKGYsITApO251bGwhPWcmJihnPWRbbXhDZWxsUGF0aC5jcmVhdGUoZyldLHRoaXMuc2V0VGVybWluYWwoZixnLCEwKSk7Zz10aGlzLmdldFRlcm1pbmFsKGYsITEpO251bGwhPWcmJihnPWRbbXhDZWxsUGF0aC5jcmVhdGUoZyldLHRoaXMuc2V0VGVybWluYWwoZixnLCExKSl9fWZpbmFsbHl7dGhpcy5lbmRVcGRhdGUoKX19OwpteEdyYXBoTW9kZWwucHJvdG90eXBlLm1lcmdlQ2hpbGRyZW5JbXBsPWZ1bmN0aW9uKGEsYixjLGQpe3RoaXMuYmVnaW5VcGRhdGUoKTt0cnl7Zm9yKHZhciBlPWEuZ2V0Q2hpbGRDb3VudCgpLGY9MDtmPGU7ZisrKXt2YXIgZz1hLmdldENoaWxkQXQoZik7aWYoImZ1bmN0aW9uIj09dHlwZW9mIGcuZ2V0SWQpe3ZhciBrPWcuZ2V0SWQoKSxsPW51bGw9PWt8fHRoaXMuaXNFZGdlKGcpJiZjP251bGw6dGhpcy5nZXRDZWxsKGspO2lmKG51bGw9PWwpe3ZhciBtPWcuY2xvbmUoKTttLnNldElkKGspO20uc2V0VGVybWluYWwoZy5nZXRUZXJtaW5hbCghMCksITApO20uc2V0VGVybWluYWwoZy5nZXRUZXJtaW5hbCghMSksITEpO2w9Yi5pbnNlcnQobSk7dGhpcy5jZWxsQWRkZWQobCl9ZFtteENlbGxQYXRoLmNyZWF0ZShnKV09bDt0aGlzLm1lcmdlQ2hpbGRyZW5JbXBsKGcsbCxjLGQpfX19ZmluYWxseXt0aGlzLmVuZFVwZGF0ZSgpfX07Cm14R3JhcGhNb2RlbC5wcm90b3R5cGUuZ2V0UGFyZW50cz1mdW5jdGlvbihhKXt2YXIgYj1bXTtpZihudWxsIT1hKWZvcih2YXIgYz1uZXcgbXhEaWN0aW9uYXJ5LGQ9MDtkPGEubGVuZ3RoO2QrKyl7dmFyIGU9dGhpcy5nZXRQYXJlbnQoYVtkXSk7bnVsbD09ZXx8Yy5nZXQoZSl8fChjLnB1dChlLCEwKSxiLnB1c2goZSkpfXJldHVybiBifTtteEdyYXBoTW9kZWwucHJvdG90eXBlLmNsb25lQ2VsbD1mdW5jdGlvbihhLGIpe3JldHVybiBudWxsIT1hP3RoaXMuY2xvbmVDZWxscyhbYV0sYilbMF06bnVsbH07Cm14R3JhcGhNb2RlbC5wcm90b3R5cGUuY2xvbmVDZWxscz1mdW5jdGlvbihhLGIsYyl7Yj1udWxsIT1iP2I6ITA7Yz1udWxsIT1jP2M6e307Zm9yKHZhciBkPVtdLGU9MDtlPGEubGVuZ3RoO2UrKyludWxsIT1hW2VdP2QucHVzaCh0aGlzLmNsb25lQ2VsbEltcGwoYVtlXSxjLGIpKTpkLnB1c2gobnVsbCk7Zm9yKGU9MDtlPGQubGVuZ3RoO2UrKyludWxsIT1kW2VdJiZ0aGlzLnJlc3RvcmVDbG9uZShkW2VdLGFbZV0sYyk7cmV0dXJuIGR9O214R3JhcGhNb2RlbC5wcm90b3R5cGUuY2xvbmVDZWxsSW1wbD1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9bXhPYmplY3RJZGVudGl0eS5nZXQoYSksZT1iW2RdO2lmKG51bGw9PWUmJihlPXRoaXMuY2VsbENsb25lZChhKSxiW2RdPWUsYykpZm9yKGM9dGhpcy5nZXRDaGlsZENvdW50KGEpLGQ9MDtkPGM7ZCsrKXt2YXIgZj10aGlzLmNsb25lQ2VsbEltcGwodGhpcy5nZXRDaGlsZEF0KGEsZCksYiwhMCk7ZS5pbnNlcnQoZil9cmV0dXJuIGV9OwpteEdyYXBoTW9kZWwucHJvdG90eXBlLmNlbGxDbG9uZWQ9ZnVuY3Rpb24oYSl7cmV0dXJuIGEuY2xvbmUoKX07bXhHcmFwaE1vZGVsLnByb3RvdHlwZS5yZXN0b3JlQ2xvbmU9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXMuZ2V0VGVybWluYWwoYiwhMCk7bnVsbCE9ZCYmKGQ9Y1tteE9iamVjdElkZW50aXR5LmdldChkKV0sbnVsbCE9ZCYmZC5pbnNlcnRFZGdlKGEsITApKTtkPXRoaXMuZ2V0VGVybWluYWwoYiwhMSk7bnVsbCE9ZCYmKGQ9Y1tteE9iamVjdElkZW50aXR5LmdldChkKV0sbnVsbCE9ZCYmZC5pbnNlcnRFZGdlKGEsITEpKTtmb3IodmFyIGQ9dGhpcy5nZXRDaGlsZENvdW50KGEpLGU9MDtlPGQ7ZSsrKXRoaXMucmVzdG9yZUNsb25lKHRoaXMuZ2V0Q2hpbGRBdChhLGUpLHRoaXMuZ2V0Q2hpbGRBdChiLGUpLGMpfTtmdW5jdGlvbiBteFJvb3RDaGFuZ2UoYSxiKXt0aGlzLm1vZGVsPWE7dGhpcy5wcmV2aW91cz10aGlzLnJvb3Q9Yn0KbXhSb290Q2hhbmdlLnByb3RvdHlwZS5leGVjdXRlPWZ1bmN0aW9uKCl7dGhpcy5yb290PXRoaXMucHJldmlvdXM7dGhpcy5wcmV2aW91cz10aGlzLm1vZGVsLnJvb3RDaGFuZ2VkKHRoaXMucHJldmlvdXMpfTtmdW5jdGlvbiBteENoaWxkQ2hhbmdlKGEsYixjLGQpe3RoaXMubW9kZWw9YTt0aGlzLnByZXZpb3VzPXRoaXMucGFyZW50PWI7dGhpcy5jaGlsZD1jO3RoaXMucHJldmlvdXNJbmRleD10aGlzLmluZGV4PWR9Cm14Q2hpbGRDaGFuZ2UucHJvdG90eXBlLmV4ZWN1dGU9ZnVuY3Rpb24oKXtpZihudWxsIT10aGlzLmNoaWxkKXt2YXIgYT10aGlzLm1vZGVsLmdldFBhcmVudCh0aGlzLmNoaWxkKSxiPW51bGwhPWE/YS5nZXRJbmRleCh0aGlzLmNoaWxkKTowO251bGw9PXRoaXMucHJldmlvdXMmJnRoaXMuY29ubmVjdCh0aGlzLmNoaWxkLCExKTthPXRoaXMubW9kZWwucGFyZW50Rm9yQ2VsbENoYW5nZWQodGhpcy5jaGlsZCx0aGlzLnByZXZpb3VzLHRoaXMucHJldmlvdXNJbmRleCk7bnVsbCE9dGhpcy5wcmV2aW91cyYmdGhpcy5jb25uZWN0KHRoaXMuY2hpbGQsITApO3RoaXMucGFyZW50PXRoaXMucHJldmlvdXM7dGhpcy5wcmV2aW91cz1hO3RoaXMuaW5kZXg9dGhpcy5wcmV2aW91c0luZGV4O3RoaXMucHJldmlvdXNJbmRleD1ifX07Cm14Q2hpbGRDaGFuZ2UucHJvdG90eXBlLmNvbm5lY3Q9ZnVuY3Rpb24oYSxiKXtiPW51bGwhPWI/YjohMDt2YXIgYz1hLmdldFRlcm1pbmFsKCEwKSxkPWEuZ2V0VGVybWluYWwoITEpO251bGwhPWMmJihiP3RoaXMubW9kZWwudGVybWluYWxGb3JDZWxsQ2hhbmdlZChhLGMsITApOnRoaXMubW9kZWwudGVybWluYWxGb3JDZWxsQ2hhbmdlZChhLG51bGwsITApKTtudWxsIT1kJiYoYj90aGlzLm1vZGVsLnRlcm1pbmFsRm9yQ2VsbENoYW5nZWQoYSxkLCExKTp0aGlzLm1vZGVsLnRlcm1pbmFsRm9yQ2VsbENoYW5nZWQoYSxudWxsLCExKSk7YS5zZXRUZXJtaW5hbChjLCEwKTthLnNldFRlcm1pbmFsKGQsITEpO2M9dGhpcy5tb2RlbC5nZXRDaGlsZENvdW50KGEpO2ZvcihkPTA7ZDxjO2QrKyl0aGlzLmNvbm5lY3QodGhpcy5tb2RlbC5nZXRDaGlsZEF0KGEsZCksYil9OwpmdW5jdGlvbiBteFRlcm1pbmFsQ2hhbmdlKGEsYixjLGQpe3RoaXMubW9kZWw9YTt0aGlzLmNlbGw9Yjt0aGlzLnByZXZpb3VzPXRoaXMudGVybWluYWw9Yzt0aGlzLnNvdXJjZT1kfW14VGVybWluYWxDaGFuZ2UucHJvdG90eXBlLmV4ZWN1dGU9ZnVuY3Rpb24oKXtudWxsIT10aGlzLmNlbGwmJih0aGlzLnRlcm1pbmFsPXRoaXMucHJldmlvdXMsdGhpcy5wcmV2aW91cz10aGlzLm1vZGVsLnRlcm1pbmFsRm9yQ2VsbENoYW5nZWQodGhpcy5jZWxsLHRoaXMucHJldmlvdXMsdGhpcy5zb3VyY2UpKX07ZnVuY3Rpb24gbXhWYWx1ZUNoYW5nZShhLGIsYyl7dGhpcy5tb2RlbD1hO3RoaXMuY2VsbD1iO3RoaXMucHJldmlvdXM9dGhpcy52YWx1ZT1jfQpteFZhbHVlQ2hhbmdlLnByb3RvdHlwZS5leGVjdXRlPWZ1bmN0aW9uKCl7bnVsbCE9dGhpcy5jZWxsJiYodGhpcy52YWx1ZT10aGlzLnByZXZpb3VzLHRoaXMucHJldmlvdXM9dGhpcy5tb2RlbC52YWx1ZUZvckNlbGxDaGFuZ2VkKHRoaXMuY2VsbCx0aGlzLnByZXZpb3VzKSl9O2Z1bmN0aW9uIG14U3R5bGVDaGFuZ2UoYSxiLGMpe3RoaXMubW9kZWw9YTt0aGlzLmNlbGw9Yjt0aGlzLnByZXZpb3VzPXRoaXMuc3R5bGU9Y31teFN0eWxlQ2hhbmdlLnByb3RvdHlwZS5leGVjdXRlPWZ1bmN0aW9uKCl7bnVsbCE9dGhpcy5jZWxsJiYodGhpcy5zdHlsZT10aGlzLnByZXZpb3VzLHRoaXMucHJldmlvdXM9dGhpcy5tb2RlbC5zdHlsZUZvckNlbGxDaGFuZ2VkKHRoaXMuY2VsbCx0aGlzLnByZXZpb3VzKSl9O2Z1bmN0aW9uIG14R2VvbWV0cnlDaGFuZ2UoYSxiLGMpe3RoaXMubW9kZWw9YTt0aGlzLmNlbGw9Yjt0aGlzLnByZXZpb3VzPXRoaXMuZ2VvbWV0cnk9Y30KbXhHZW9tZXRyeUNoYW5nZS5wcm90b3R5cGUuZXhlY3V0ZT1mdW5jdGlvbigpe251bGwhPXRoaXMuY2VsbCYmKHRoaXMuZ2VvbWV0cnk9dGhpcy5wcmV2aW91cyx0aGlzLnByZXZpb3VzPXRoaXMubW9kZWwuZ2VvbWV0cnlGb3JDZWxsQ2hhbmdlZCh0aGlzLmNlbGwsdGhpcy5wcmV2aW91cykpfTtmdW5jdGlvbiBteENvbGxhcHNlQ2hhbmdlKGEsYixjKXt0aGlzLm1vZGVsPWE7dGhpcy5jZWxsPWI7dGhpcy5wcmV2aW91cz10aGlzLmNvbGxhcHNlZD1jfW14Q29sbGFwc2VDaGFuZ2UucHJvdG90eXBlLmV4ZWN1dGU9ZnVuY3Rpb24oKXtudWxsIT10aGlzLmNlbGwmJih0aGlzLmNvbGxhcHNlZD10aGlzLnByZXZpb3VzLHRoaXMucHJldmlvdXM9dGhpcy5tb2RlbC5jb2xsYXBzZWRTdGF0ZUZvckNlbGxDaGFuZ2VkKHRoaXMuY2VsbCx0aGlzLnByZXZpb3VzKSl9OwpmdW5jdGlvbiBteFZpc2libGVDaGFuZ2UoYSxiLGMpe3RoaXMubW9kZWw9YTt0aGlzLmNlbGw9Yjt0aGlzLnByZXZpb3VzPXRoaXMudmlzaWJsZT1jfW14VmlzaWJsZUNoYW5nZS5wcm90b3R5cGUuZXhlY3V0ZT1mdW5jdGlvbigpe251bGwhPXRoaXMuY2VsbCYmKHRoaXMudmlzaWJsZT10aGlzLnByZXZpb3VzLHRoaXMucHJldmlvdXM9dGhpcy5tb2RlbC52aXNpYmxlU3RhdGVGb3JDZWxsQ2hhbmdlZCh0aGlzLmNlbGwsdGhpcy5wcmV2aW91cykpfTtmdW5jdGlvbiBteENlbGxBdHRyaWJ1dGVDaGFuZ2UoYSxiLGMpe3RoaXMuY2VsbD1hO3RoaXMuYXR0cmlidXRlPWI7dGhpcy5wcmV2aW91cz10aGlzLnZhbHVlPWN9Cm14Q2VsbEF0dHJpYnV0ZUNoYW5nZS5wcm90b3R5cGUuZXhlY3V0ZT1mdW5jdGlvbigpe2lmKG51bGwhPXRoaXMuY2VsbCl7dmFyIGE9dGhpcy5jZWxsLmdldEF0dHJpYnV0ZSh0aGlzLmF0dHJpYnV0ZSk7bnVsbD09dGhpcy5wcmV2aW91cz90aGlzLmNlbGwudmFsdWUucmVtb3ZlQXR0cmlidXRlKHRoaXMuYXR0cmlidXRlKTp0aGlzLmNlbGwuc2V0QXR0cmlidXRlKHRoaXMuYXR0cmlidXRlLHRoaXMucHJldmlvdXMpO3RoaXMucHJldmlvdXM9YX19O2Z1bmN0aW9uIG14Q2VsbChhLGIsYyl7dGhpcy52YWx1ZT1hO3RoaXMuc2V0R2VvbWV0cnkoYik7dGhpcy5zZXRTdHlsZShjKTtpZihudWxsIT10aGlzLm9uSW5pdCl0aGlzLm9uSW5pdCgpfW14Q2VsbC5wcm90b3R5cGUuaWQ9bnVsbDtteENlbGwucHJvdG90eXBlLnZhbHVlPW51bGw7bXhDZWxsLnByb3RvdHlwZS5nZW9tZXRyeT1udWxsO214Q2VsbC5wcm90b3R5cGUuc3R5bGU9bnVsbDtteENlbGwucHJvdG90eXBlLnZlcnRleD0hMTsKbXhDZWxsLnByb3RvdHlwZS5lZGdlPSExO214Q2VsbC5wcm90b3R5cGUuY29ubmVjdGFibGU9ITA7bXhDZWxsLnByb3RvdHlwZS52aXNpYmxlPSEwO214Q2VsbC5wcm90b3R5cGUuY29sbGFwc2VkPSExO214Q2VsbC5wcm90b3R5cGUucGFyZW50PW51bGw7bXhDZWxsLnByb3RvdHlwZS5zb3VyY2U9bnVsbDtteENlbGwucHJvdG90eXBlLnRhcmdldD1udWxsO214Q2VsbC5wcm90b3R5cGUuY2hpbGRyZW49bnVsbDtteENlbGwucHJvdG90eXBlLmVkZ2VzPW51bGw7bXhDZWxsLnByb3RvdHlwZS5teFRyYW5zaWVudD0iaWQgdmFsdWUgcGFyZW50IHNvdXJjZSB0YXJnZXQgY2hpbGRyZW4gZWRnZXMiLnNwbGl0KCIgIik7bXhDZWxsLnByb3RvdHlwZS5nZXRJZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmlkfTtteENlbGwucHJvdG90eXBlLnNldElkPWZ1bmN0aW9uKGEpe3RoaXMuaWQ9YX07bXhDZWxsLnByb3RvdHlwZS5nZXRWYWx1ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnZhbHVlfTsKbXhDZWxsLnByb3RvdHlwZS5zZXRWYWx1ZT1mdW5jdGlvbihhKXt0aGlzLnZhbHVlPWF9O214Q2VsbC5wcm90b3R5cGUudmFsdWVDaGFuZ2VkPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZ2V0VmFsdWUoKTt0aGlzLnNldFZhbHVlKGEpO3JldHVybiBifTtteENlbGwucHJvdG90eXBlLmdldEdlb21ldHJ5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2VvbWV0cnl9O214Q2VsbC5wcm90b3R5cGUuc2V0R2VvbWV0cnk9ZnVuY3Rpb24oYSl7dGhpcy5nZW9tZXRyeT1hfTtteENlbGwucHJvdG90eXBlLmdldFN0eWxlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3R5bGV9O214Q2VsbC5wcm90b3R5cGUuc2V0U3R5bGU9ZnVuY3Rpb24oYSl7dGhpcy5zdHlsZT1hfTtteENlbGwucHJvdG90eXBlLmlzVmVydGV4PWZ1bmN0aW9uKCl7cmV0dXJuIDAhPXRoaXMudmVydGV4fTtteENlbGwucHJvdG90eXBlLnNldFZlcnRleD1mdW5jdGlvbihhKXt0aGlzLnZlcnRleD1hfTsKbXhDZWxsLnByb3RvdHlwZS5pc0VkZ2U9ZnVuY3Rpb24oKXtyZXR1cm4gMCE9dGhpcy5lZGdlfTtteENlbGwucHJvdG90eXBlLnNldEVkZ2U9ZnVuY3Rpb24oYSl7dGhpcy5lZGdlPWF9O214Q2VsbC5wcm90b3R5cGUuaXNDb25uZWN0YWJsZT1mdW5jdGlvbigpe3JldHVybiAwIT10aGlzLmNvbm5lY3RhYmxlfTtteENlbGwucHJvdG90eXBlLnNldENvbm5lY3RhYmxlPWZ1bmN0aW9uKGEpe3RoaXMuY29ubmVjdGFibGU9YX07bXhDZWxsLnByb3RvdHlwZS5pc1Zpc2libGU9ZnVuY3Rpb24oKXtyZXR1cm4gMCE9dGhpcy52aXNpYmxlfTtteENlbGwucHJvdG90eXBlLnNldFZpc2libGU9ZnVuY3Rpb24oYSl7dGhpcy52aXNpYmxlPWF9O214Q2VsbC5wcm90b3R5cGUuaXNDb2xsYXBzZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gMCE9dGhpcy5jb2xsYXBzZWR9O214Q2VsbC5wcm90b3R5cGUuc2V0Q29sbGFwc2VkPWZ1bmN0aW9uKGEpe3RoaXMuY29sbGFwc2VkPWF9OwpteENlbGwucHJvdG90eXBlLmdldFBhcmVudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBhcmVudH07bXhDZWxsLnByb3RvdHlwZS5zZXRQYXJlbnQ9ZnVuY3Rpb24oYSl7dGhpcy5wYXJlbnQ9YX07bXhDZWxsLnByb3RvdHlwZS5nZXRUZXJtaW5hbD1mdW5jdGlvbihhKXtyZXR1cm4gYT90aGlzLnNvdXJjZTp0aGlzLnRhcmdldH07bXhDZWxsLnByb3RvdHlwZS5zZXRUZXJtaW5hbD1mdW5jdGlvbihhLGIpe2I/dGhpcy5zb3VyY2U9YTp0aGlzLnRhcmdldD1hO3JldHVybiBhfTtteENlbGwucHJvdG90eXBlLmdldENoaWxkQ291bnQ9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09dGhpcy5jaGlsZHJlbj8wOnRoaXMuY2hpbGRyZW4ubGVuZ3RofTtteENlbGwucHJvdG90eXBlLmdldEluZGV4PWZ1bmN0aW9uKGEpe3JldHVybiBteFV0aWxzLmluZGV4T2YodGhpcy5jaGlsZHJlbixhKX07Cm14Q2VsbC5wcm90b3R5cGUuZ2V0Q2hpbGRBdD1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbD09dGhpcy5jaGlsZHJlbj9udWxsOnRoaXMuY2hpbGRyZW5bYV19O214Q2VsbC5wcm90b3R5cGUuaW5zZXJ0PWZ1bmN0aW9uKGEsYil7bnVsbCE9YSYmKG51bGw9PWImJihiPXRoaXMuZ2V0Q2hpbGRDb3VudCgpLGEuZ2V0UGFyZW50KCk9PXRoaXMmJmItLSksYS5yZW1vdmVGcm9tUGFyZW50KCksYS5zZXRQYXJlbnQodGhpcyksbnVsbD09dGhpcy5jaGlsZHJlbj8odGhpcy5jaGlsZHJlbj1bXSx0aGlzLmNoaWxkcmVuLnB1c2goYSkpOnRoaXMuY2hpbGRyZW4uc3BsaWNlKGIsMCxhKSk7cmV0dXJuIGF9O214Q2VsbC5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKGEpe3ZhciBiPW51bGw7bnVsbCE9dGhpcy5jaGlsZHJlbiYmMDw9YSYmKGI9dGhpcy5nZXRDaGlsZEF0KGEpLG51bGwhPWImJih0aGlzLmNoaWxkcmVuLnNwbGljZShhLDEpLGIuc2V0UGFyZW50KG51bGwpKSk7cmV0dXJuIGJ9OwpteENlbGwucHJvdG90eXBlLnJlbW92ZUZyb21QYXJlbnQ9ZnVuY3Rpb24oKXtpZihudWxsIT10aGlzLnBhcmVudCl7dmFyIGE9dGhpcy5wYXJlbnQuZ2V0SW5kZXgodGhpcyk7dGhpcy5wYXJlbnQucmVtb3ZlKGEpfX07bXhDZWxsLnByb3RvdHlwZS5nZXRFZGdlQ291bnQ9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09dGhpcy5lZGdlcz8wOnRoaXMuZWRnZXMubGVuZ3RofTtteENlbGwucHJvdG90eXBlLmdldEVkZ2VJbmRleD1mdW5jdGlvbihhKXtyZXR1cm4gbXhVdGlscy5pbmRleE9mKHRoaXMuZWRnZXMsYSl9O214Q2VsbC5wcm90b3R5cGUuZ2V0RWRnZUF0PWZ1bmN0aW9uKGEpe3JldHVybiBudWxsPT10aGlzLmVkZ2VzP251bGw6dGhpcy5lZGdlc1thXX07Cm14Q2VsbC5wcm90b3R5cGUuaW5zZXJ0RWRnZT1mdW5jdGlvbihhLGIpe251bGwhPWEmJihhLnJlbW92ZUZyb21UZXJtaW5hbChiKSxhLnNldFRlcm1pbmFsKHRoaXMsYiksbnVsbD09dGhpcy5lZGdlc3x8YS5nZXRUZXJtaW5hbCghYikhPXRoaXN8fDA+bXhVdGlscy5pbmRleE9mKHRoaXMuZWRnZXMsYSkpJiYobnVsbD09dGhpcy5lZGdlcyYmKHRoaXMuZWRnZXM9W10pLHRoaXMuZWRnZXMucHVzaChhKSk7cmV0dXJuIGF9O214Q2VsbC5wcm90b3R5cGUucmVtb3ZlRWRnZT1mdW5jdGlvbihhLGIpe2lmKG51bGwhPWEpe2lmKGEuZ2V0VGVybWluYWwoIWIpIT10aGlzJiZudWxsIT10aGlzLmVkZ2VzKXt2YXIgYz10aGlzLmdldEVkZ2VJbmRleChhKTswPD1jJiZ0aGlzLmVkZ2VzLnNwbGljZShjLDEpfWEuc2V0VGVybWluYWwobnVsbCxiKX1yZXR1cm4gYX07Cm14Q2VsbC5wcm90b3R5cGUucmVtb3ZlRnJvbVRlcm1pbmFsPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZ2V0VGVybWluYWwoYSk7bnVsbCE9YiYmYi5yZW1vdmVFZGdlKHRoaXMsYSl9O214Q2VsbC5wcm90b3R5cGUuaGFzQXR0cmlidXRlPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZ2V0VmFsdWUoKTtyZXR1cm4gbnVsbCE9YiYmYi5ub2RlVHlwZT09bXhDb25zdGFudHMuTk9ERVRZUEVfRUxFTUVOVCYmYi5oYXNBdHRyaWJ1dGU/Yi5oYXNBdHRyaWJ1dGUoYSk6bnVsbCE9Yi5nZXRBdHRyaWJ1dGUoYSl9O214Q2VsbC5wcm90b3R5cGUuZ2V0QXR0cmlidXRlPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5nZXRWYWx1ZSgpLGM9bnVsbCE9YyYmYy5ub2RlVHlwZT09bXhDb25zdGFudHMuTk9ERVRZUEVfRUxFTUVOVD9jLmdldEF0dHJpYnV0ZShhKTpudWxsO3JldHVybiBudWxsIT1jP2M6Yn07Cm14Q2VsbC5wcm90b3R5cGUuc2V0QXR0cmlidXRlPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5nZXRWYWx1ZSgpO251bGwhPWMmJmMubm9kZVR5cGU9PW14Q29uc3RhbnRzLk5PREVUWVBFX0VMRU1FTlQmJmMuc2V0QXR0cmlidXRlKGEsYil9O214Q2VsbC5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgYT1teFV0aWxzLmNsb25lKHRoaXMsdGhpcy5teFRyYW5zaWVudCk7YS5zZXRWYWx1ZSh0aGlzLmNsb25lVmFsdWUoKSk7cmV0dXJuIGF9O214Q2VsbC5wcm90b3R5cGUuY2xvbmVWYWx1ZT1mdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0VmFsdWUoKTtudWxsIT1hJiYoImZ1bmN0aW9uIj09dHlwZW9mIGEuY2xvbmU/YT1hLmNsb25lKCk6aXNOYU4oYS5ub2RlVHlwZSl8fChhPWEuY2xvbmVOb2RlKCEwKSkpO3JldHVybiBhfTtmdW5jdGlvbiBteEdlb21ldHJ5KGEsYixjLGQpe214UmVjdGFuZ2xlLmNhbGwodGhpcyxhLGIsYyxkKX1teEdlb21ldHJ5LnByb3RvdHlwZT1uZXcgbXhSZWN0YW5nbGU7Cm14R2VvbWV0cnkucHJvdG90eXBlLmNvbnN0cnVjdG9yPW14R2VvbWV0cnk7bXhHZW9tZXRyeS5wcm90b3R5cGUuVFJBTlNMQVRFX0NPTlRST0xfUE9JTlRTPSEwO214R2VvbWV0cnkucHJvdG90eXBlLmFsdGVybmF0ZUJvdW5kcz1udWxsO214R2VvbWV0cnkucHJvdG90eXBlLnNvdXJjZVBvaW50PW51bGw7bXhHZW9tZXRyeS5wcm90b3R5cGUudGFyZ2V0UG9pbnQ9bnVsbDtteEdlb21ldHJ5LnByb3RvdHlwZS5wb2ludHM9bnVsbDtteEdlb21ldHJ5LnByb3RvdHlwZS5vZmZzZXQ9bnVsbDtteEdlb21ldHJ5LnByb3RvdHlwZS5yZWxhdGl2ZT0hMTsKbXhHZW9tZXRyeS5wcm90b3R5cGUuc3dhcD1mdW5jdGlvbigpe2lmKG51bGwhPXRoaXMuYWx0ZXJuYXRlQm91bmRzKXt2YXIgYT1uZXcgbXhSZWN0YW5nbGUodGhpcy54LHRoaXMueSx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KTt0aGlzLng9dGhpcy5hbHRlcm5hdGVCb3VuZHMueDt0aGlzLnk9dGhpcy5hbHRlcm5hdGVCb3VuZHMueTt0aGlzLndpZHRoPXRoaXMuYWx0ZXJuYXRlQm91bmRzLndpZHRoO3RoaXMuaGVpZ2h0PXRoaXMuYWx0ZXJuYXRlQm91bmRzLmhlaWdodDt0aGlzLmFsdGVybmF0ZUJvdW5kcz1hfX07bXhHZW9tZXRyeS5wcm90b3R5cGUuZ2V0VGVybWluYWxQb2ludD1mdW5jdGlvbihhKXtyZXR1cm4gYT90aGlzLnNvdXJjZVBvaW50OnRoaXMudGFyZ2V0UG9pbnR9O214R2VvbWV0cnkucHJvdG90eXBlLnNldFRlcm1pbmFsUG9pbnQ9ZnVuY3Rpb24oYSxiKXtiP3RoaXMuc291cmNlUG9pbnQ9YTp0aGlzLnRhcmdldFBvaW50PWE7cmV0dXJuIGF9OwpteEdlb21ldHJ5LnByb3RvdHlwZS5yb3RhdGU9ZnVuY3Rpb24oYSxiKXt2YXIgYz1teFV0aWxzLnRvUmFkaWFucyhhKSxkPU1hdGguY29zKGMpLGM9TWF0aC5zaW4oYyk7aWYoIXRoaXMucmVsYXRpdmUpe3ZhciBlPW5ldyBteFBvaW50KHRoaXMuZ2V0Q2VudGVyWCgpLHRoaXMuZ2V0Q2VudGVyWSgpKSxlPW14VXRpbHMuZ2V0Um90YXRlZFBvaW50KGUsZCxjLGIpO3RoaXMueD1NYXRoLnJvdW5kKGUueC10aGlzLndpZHRoLzIpO3RoaXMueT1NYXRoLnJvdW5kKGUueS10aGlzLmhlaWdodC8yKX1udWxsIT10aGlzLnNvdXJjZVBvaW50JiYoZT1teFV0aWxzLmdldFJvdGF0ZWRQb2ludCh0aGlzLnNvdXJjZVBvaW50LGQsYyxiKSx0aGlzLnNvdXJjZVBvaW50Lng9TWF0aC5yb3VuZChlLngpLHRoaXMuc291cmNlUG9pbnQueT1NYXRoLnJvdW5kKGUueSkpO251bGwhPXRoaXMudGFyZ2V0UG9pbnQmJihlPW14VXRpbHMuZ2V0Um90YXRlZFBvaW50KHRoaXMudGFyZ2V0UG9pbnQsZCxjLGIpLHRoaXMudGFyZ2V0UG9pbnQueD0KTWF0aC5yb3VuZChlLngpLHRoaXMudGFyZ2V0UG9pbnQueT1NYXRoLnJvdW5kKGUueSkpO2lmKG51bGwhPXRoaXMucG9pbnRzKWZvcih2YXIgZj0wO2Y8dGhpcy5wb2ludHMubGVuZ3RoO2YrKyludWxsIT10aGlzLnBvaW50c1tmXSYmKGU9bXhVdGlscy5nZXRSb3RhdGVkUG9pbnQodGhpcy5wb2ludHNbZl0sZCxjLGIpLHRoaXMucG9pbnRzW2ZdLng9TWF0aC5yb3VuZChlLngpLHRoaXMucG9pbnRzW2ZdLnk9TWF0aC5yb3VuZChlLnkpKX07Cm14R2VvbWV0cnkucHJvdG90eXBlLnRyYW5zbGF0ZT1mdW5jdGlvbihhLGIpe2E9cGFyc2VGbG9hdChhKTtiPXBhcnNlRmxvYXQoYik7dGhpcy5yZWxhdGl2ZXx8KHRoaXMueD1wYXJzZUZsb2F0KHRoaXMueCkrYSx0aGlzLnk9cGFyc2VGbG9hdCh0aGlzLnkpK2IpO251bGwhPXRoaXMuc291cmNlUG9pbnQmJih0aGlzLnNvdXJjZVBvaW50Lng9cGFyc2VGbG9hdCh0aGlzLnNvdXJjZVBvaW50LngpK2EsdGhpcy5zb3VyY2VQb2ludC55PXBhcnNlRmxvYXQodGhpcy5zb3VyY2VQb2ludC55KStiKTtudWxsIT10aGlzLnRhcmdldFBvaW50JiYodGhpcy50YXJnZXRQb2ludC54PXBhcnNlRmxvYXQodGhpcy50YXJnZXRQb2ludC54KSthLHRoaXMudGFyZ2V0UG9pbnQueT1wYXJzZUZsb2F0KHRoaXMudGFyZ2V0UG9pbnQueSkrYik7aWYodGhpcy5UUkFOU0xBVEVfQ09OVFJPTF9QT0lOVFMmJm51bGwhPXRoaXMucG9pbnRzKWZvcih2YXIgYz0wO2M8dGhpcy5wb2ludHMubGVuZ3RoO2MrKyludWxsIT0KdGhpcy5wb2ludHNbY10mJih0aGlzLnBvaW50c1tjXS54PXBhcnNlRmxvYXQodGhpcy5wb2ludHNbY10ueCkrYSx0aGlzLnBvaW50c1tjXS55PXBhcnNlRmxvYXQodGhpcy5wb2ludHNbY10ueSkrYil9OwpteEdlb21ldHJ5LnByb3RvdHlwZS5zY2FsZT1mdW5jdGlvbihhLGIsYyl7YT1wYXJzZUZsb2F0KGEpO2I9cGFyc2VGbG9hdChiKTtudWxsIT10aGlzLnNvdXJjZVBvaW50JiYodGhpcy5zb3VyY2VQb2ludC54PXBhcnNlRmxvYXQodGhpcy5zb3VyY2VQb2ludC54KSphLHRoaXMuc291cmNlUG9pbnQueT1wYXJzZUZsb2F0KHRoaXMuc291cmNlUG9pbnQueSkqYik7bnVsbCE9dGhpcy50YXJnZXRQb2ludCYmKHRoaXMudGFyZ2V0UG9pbnQueD1wYXJzZUZsb2F0KHRoaXMudGFyZ2V0UG9pbnQueCkqYSx0aGlzLnRhcmdldFBvaW50Lnk9cGFyc2VGbG9hdCh0aGlzLnRhcmdldFBvaW50LnkpKmIpO2lmKG51bGwhPXRoaXMucG9pbnRzKWZvcih2YXIgZD0wO2Q8dGhpcy5wb2ludHMubGVuZ3RoO2QrKyludWxsIT10aGlzLnBvaW50c1tkXSYmKHRoaXMucG9pbnRzW2RdLng9cGFyc2VGbG9hdCh0aGlzLnBvaW50c1tkXS54KSphLHRoaXMucG9pbnRzW2RdLnk9cGFyc2VGbG9hdCh0aGlzLnBvaW50c1tkXS55KSoKYik7dGhpcy5yZWxhdGl2ZXx8KHRoaXMueD1wYXJzZUZsb2F0KHRoaXMueCkqYSx0aGlzLnk9cGFyc2VGbG9hdCh0aGlzLnkpKmIsYyYmKGI9YT1NYXRoLm1pbihhLGIpKSx0aGlzLndpZHRoPXBhcnNlRmxvYXQodGhpcy53aWR0aCkqYSx0aGlzLmhlaWdodD1wYXJzZUZsb2F0KHRoaXMuaGVpZ2h0KSpiKX07Cm14R2VvbWV0cnkucHJvdG90eXBlLmVxdWFscz1mdW5jdGlvbihhKXtyZXR1cm4gbXhSZWN0YW5nbGUucHJvdG90eXBlLmVxdWFscy5hcHBseSh0aGlzLGFyZ3VtZW50cykmJnRoaXMucmVsYXRpdmU9PWEucmVsYXRpdmUmJihudWxsPT10aGlzLnNvdXJjZVBvaW50JiZudWxsPT1hLnNvdXJjZVBvaW50fHxudWxsIT10aGlzLnNvdXJjZVBvaW50JiZ0aGlzLnNvdXJjZVBvaW50LmVxdWFscyhhLnNvdXJjZVBvaW50KSkmJihudWxsPT10aGlzLnRhcmdldFBvaW50JiZudWxsPT1hLnRhcmdldFBvaW50fHxudWxsIT10aGlzLnRhcmdldFBvaW50JiZ0aGlzLnRhcmdldFBvaW50LmVxdWFscyhhLnRhcmdldFBvaW50KSkmJihudWxsPT10aGlzLnBvaW50cyYmbnVsbD09YS5wb2ludHN8fG51bGwhPXRoaXMucG9pbnRzJiZteFV0aWxzLmVxdWFsUG9pbnRzKHRoaXMucG9pbnRzLGEucG9pbnRzKSkmJihudWxsPT10aGlzLmFsdGVybmF0ZUJvdW5kcyYmbnVsbD09YS5hbHRlcm5hdGVCb3VuZHN8fApudWxsIT10aGlzLmFsdGVybmF0ZUJvdW5kcyYmdGhpcy5hbHRlcm5hdGVCb3VuZHMuZXF1YWxzKGEuYWx0ZXJuYXRlQm91bmRzKSkmJihudWxsPT10aGlzLm9mZnNldCYmbnVsbD09YS5vZmZzZXR8fG51bGwhPXRoaXMub2Zmc2V0JiZ0aGlzLm9mZnNldC5lcXVhbHMoYS5vZmZzZXQpKX07CnZhciBteENlbGxQYXRoPXtQQVRIX1NFUEFSQVRPUjoiLiIsY3JlYXRlOmZ1bmN0aW9uKGEpe3ZhciBiPSIiO2lmKG51bGwhPWEpZm9yKHZhciBjPWEuZ2V0UGFyZW50KCk7bnVsbCE9YzspYj1jLmdldEluZGV4KGEpK214Q2VsbFBhdGguUEFUSF9TRVBBUkFUT1IrYixhPWMsYz1hLmdldFBhcmVudCgpO2E9Yi5sZW5ndGg7MTxhJiYoYj1iLnN1YnN0cmluZygwLGEtMSkpO3JldHVybiBifSxnZXRQYXJlbnRQYXRoOmZ1bmN0aW9uKGEpe2lmKG51bGwhPWEpe3ZhciBiPWEubGFzdEluZGV4T2YobXhDZWxsUGF0aC5QQVRIX1NFUEFSQVRPUik7aWYoMDw9YilyZXR1cm4gYS5zdWJzdHJpbmcoMCxiKTtpZigwPGEubGVuZ3RoKXJldHVybiIifXJldHVybiBudWxsfSxyZXNvbHZlOmZ1bmN0aW9uKGEsYil7dmFyIGM9YTtpZihudWxsIT1iKWZvcih2YXIgZD1iLnNwbGl0KG14Q2VsbFBhdGguUEFUSF9TRVBBUkFUT1IpLGU9MDtlPGQubGVuZ3RoO2UrKyljPWMuZ2V0Q2hpbGRBdChwYXJzZUludChkW2VdKSk7CnJldHVybiBjfSxjb21wYXJlOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPU1hdGgubWluKGEubGVuZ3RoLGIubGVuZ3RoKSxkPTAsZT0wO2U8YztlKyspaWYoYVtlXSE9YltlXSl7MD09YVtlXS5sZW5ndGh8fDA9PWJbZV0ubGVuZ3RoP2Q9YVtlXT09YltlXT8wOmFbZV0+YltlXT8xOi0xOihjPXBhcnNlSW50KGFbZV0pLGU9cGFyc2VJbnQoYltlXSksZD1jPT1lPzA6Yz5lPzE6LTEpO2JyZWFrfTA9PWQmJihjPWEubGVuZ3RoLGU9Yi5sZW5ndGgsYyE9ZSYmKGQ9Yz5lPzE6LTEpKTtyZXR1cm4gZH19LG14UGVyaW1ldGVyPXtSZWN0YW5nbGVQZXJpbWV0ZXI6ZnVuY3Rpb24oYSxiLGMsZCl7Yj1hLmdldENlbnRlclgoKTt2YXIgZT1hLmdldENlbnRlclkoKSxmPU1hdGguYXRhbjIoYy55LWUsYy54LWIpLGc9bmV3IG14UG9pbnQoMCwwKSxrPU1hdGguUEksbD1NYXRoLlBJLzItZixtPU1hdGguYXRhbjIoYS5oZWlnaHQsYS53aWR0aCk7ZjwtayttfHxmPmstbT8oZy54PWEueCxnLnk9ZS1hLndpZHRoKgpNYXRoLnRhbihmKS8yKTpmPC1tPyhnLnk9YS55LGcueD1iLWEuaGVpZ2h0Kk1hdGgudGFuKGwpLzIpOmY8bT8oZy54PWEueCthLndpZHRoLGcueT1lK2Eud2lkdGgqTWF0aC50YW4oZikvMik6KGcueT1hLnkrYS5oZWlnaHQsZy54PWIrYS5oZWlnaHQqTWF0aC50YW4obCkvMik7ZCYmKGMueD49YS54JiZjLng8PWEueCthLndpZHRoP2cueD1jLng6Yy55Pj1hLnkmJmMueTw9YS55K2EuaGVpZ2h0JiYoZy55PWMueSksYy54PGEueD9nLng9YS54OmMueD5hLngrYS53aWR0aCYmKGcueD1hLngrYS53aWR0aCksYy55PGEueT9nLnk9YS55OmMueT5hLnkrYS5oZWlnaHQmJihnLnk9YS55K2EuaGVpZ2h0KSk7cmV0dXJuIGd9LEVsbGlwc2VQZXJpbWV0ZXI6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9YS54LGY9YS55LGc9YS53aWR0aC8yLGs9YS5oZWlnaHQvMixsPWUrZyxtPWYraztiPWMueDtjPWMueTt2YXIgbj1wYXJzZUludChiLWwpLHA9cGFyc2VJbnQoYy1tKTtpZigwPT1uJiYwIT1wKXJldHVybiBuZXcgbXhQb2ludChsLAptK2sqcC9NYXRoLmFicyhwKSk7aWYoMD09biYmMD09cClyZXR1cm4gbmV3IG14UG9pbnQoYixjKTtpZihkKXtpZihjPj1mJiZjPD1mK2EuaGVpZ2h0KXJldHVybiBhPWMtbSxhPU1hdGguc3FydChnKmcqKDEtYSphLyhrKmspKSl8fDAsYjw9ZSYmKGE9LWEpLG5ldyBteFBvaW50KGwrYSxjKTtpZihiPj1lJiZiPD1lK2Eud2lkdGgpcmV0dXJuIGE9Yi1sLGE9TWF0aC5zcXJ0KGsqayooMS1hKmEvKGcqZykpKXx8MCxjPD1mJiYoYT0tYSksbmV3IG14UG9pbnQoYixtK2EpfWU9cC9uO20tPWUqbDtmPWcqZyplKmUrayprO2E9LTIqbCpmO2s9TWF0aC5zcXJ0KGEqYS00KmYqKGcqZyplKmUqbCpsK2sqaypsKmwtZypnKmsqaykpO2c9KC1hK2spLygyKmYpO2w9KC1hLWspLygyKmYpO2s9ZSpnK207bT1lKmwrbTtNYXRoLnNxcnQoTWF0aC5wb3coZy1iLDIpK01hdGgucG93KGstYywyKSk8TWF0aC5zcXJ0KE1hdGgucG93KGwtYiwyKStNYXRoLnBvdyhtLWMsMikpPyhiPWcsYz1rKTooYj1sLGM9Cm0pO3JldHVybiBuZXcgbXhQb2ludChiLGMpfSxSaG9tYnVzUGVyaW1ldGVyOmZ1bmN0aW9uKGEsYixjLGQpe2I9YS54O3ZhciBlPWEueSxmPWEud2lkdGg7YT1hLmhlaWdodDt2YXIgZz1iK2YvMixrPWUrYS8yLGw9Yy54O2M9Yy55O2lmKGc9PWwpcmV0dXJuIGs+Yz9uZXcgbXhQb2ludChnLGUpOm5ldyBteFBvaW50KGcsZSthKTtpZihrPT1jKXJldHVybiBnPmw/bmV3IG14UG9pbnQoYixrKTpuZXcgbXhQb2ludChiK2Ysayk7dmFyIG09ZyxuPWs7ZCYmKGw+PWImJmw8PWIrZj9tPWw6Yz49ZSYmYzw9ZSthJiYobj1jKSk7cmV0dXJuIGw8Zz9jPGs/bXhVdGlscy5pbnRlcnNlY3Rpb24obCxjLG0sbixnLGUsYixrKTpteFV0aWxzLmludGVyc2VjdGlvbihsLGMsbSxuLGcsZSthLGIsayk6YzxrP214VXRpbHMuaW50ZXJzZWN0aW9uKGwsYyxtLG4sZyxlLGIrZixrKTpteFV0aWxzLmludGVyc2VjdGlvbihsLGMsbSxuLGcsZSthLGIrZixrKX0sVHJpYW5nbGVQZXJpbWV0ZXI6ZnVuY3Rpb24oYSwKYixjLGQpe2I9bnVsbCE9Yj9iLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX0RJUkVDVElPTl06bnVsbDt2YXIgZT1iPT1teENvbnN0YW50cy5ESVJFQ1RJT05fTk9SVEh8fGI9PW14Q29uc3RhbnRzLkRJUkVDVElPTl9TT1VUSCxmPWEueCxnPWEueSxrPWEud2lkdGgsbD1hLmhlaWdodDthPWYray8yO3ZhciBtPWcrbC8yLG49bmV3IG14UG9pbnQoZixnKSxwPW5ldyBteFBvaW50KGYrayxtKSxxPW5ldyBteFBvaW50KGYsZytsKTtiPT1teENvbnN0YW50cy5ESVJFQ1RJT05fTk9SVEg/KG49cSxwPW5ldyBteFBvaW50KGEsZykscT1uZXcgbXhQb2ludChmK2ssZytsKSk6Yj09bXhDb25zdGFudHMuRElSRUNUSU9OX1NPVVRIPyhwPW5ldyBteFBvaW50KGEsZytsKSxxPW5ldyBteFBvaW50KGYrayxnKSk6Yj09bXhDb25zdGFudHMuRElSRUNUSU9OX1dFU1QmJihuPW5ldyBteFBvaW50KGYrayxnKSxwPW5ldyBteFBvaW50KGYsbSkscT1uZXcgbXhQb2ludChmK2ssZytsKSk7dmFyIHI9Yy54LQphLHQ9Yy55LW0scj1lP01hdGguYXRhbjIocix0KTpNYXRoLmF0YW4yKHQsciksdD1lP01hdGguYXRhbjIoayxsKTpNYXRoLmF0YW4yKGwsayk7KGI9PW14Q29uc3RhbnRzLkRJUkVDVElPTl9OT1JUSHx8Yj09bXhDb25zdGFudHMuRElSRUNUSU9OX1dFU1Q/cj4tdCYmcjx0OnI8LU1hdGguUEkrdHx8cj5NYXRoLlBJLXQpP2M9ZCYmKGUmJmMueD49bi54JiZjLng8PXEueHx8IWUmJmMueT49bi55JiZjLnk8PXEueSk/ZT9uZXcgbXhQb2ludChjLngsbi55KTpuZXcgbXhQb2ludChuLngsYy55KTpiPT1teENvbnN0YW50cy5ESVJFQ1RJT05fTk9SVEg/bmV3IG14UG9pbnQoZitrLzIrbCpNYXRoLnRhbihyKS8yLGcrbCk6Yj09bXhDb25zdGFudHMuRElSRUNUSU9OX1NPVVRIP25ldyBteFBvaW50KGYray8yLWwqTWF0aC50YW4ocikvMixnKTpiPT1teENvbnN0YW50cy5ESVJFQ1RJT05fV0VTVD9uZXcgbXhQb2ludChmK2ssZytsLzIraypNYXRoLnRhbihyKS8yKTpuZXcgbXhQb2ludChmLGcrCmwvMi1rKk1hdGgudGFuKHIpLzIpOihkJiYoZD1uZXcgbXhQb2ludChhLG0pLGMueT49ZyYmYy55PD1nK2w/KGQueD1lP2E6Yj09bXhDb25zdGFudHMuRElSRUNUSU9OX1dFU1Q/ZitrOmYsZC55PWMueSk6Yy54Pj1mJiZjLng8PWYrayYmKGQueD1jLngsZC55PWU/Yj09bXhDb25zdGFudHMuRElSRUNUSU9OX05PUlRIP2crbDpnOm0pLGE9ZC54LG09ZC55KSxjPWUmJmMueDw9ZitrLzJ8fCFlJiZjLnk8PWcrbC8yP214VXRpbHMuaW50ZXJzZWN0aW9uKGMueCxjLnksYSxtLG4ueCxuLnkscC54LHAueSk6bXhVdGlscy5pbnRlcnNlY3Rpb24oYy54LGMueSxhLG0scC54LHAueSxxLngscS55KSk7bnVsbD09YyYmKGM9bmV3IG14UG9pbnQoYSxtKSk7cmV0dXJuIGN9LEhleGFnb25QZXJpbWV0ZXI6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9YS54LGY9YS55LGc9YS53aWR0aCxrPWEuaGVpZ2h0LGw9YS5nZXRDZW50ZXJYKCk7YT1hLmdldENlbnRlclkoKTt2YXIgbT1jLngsbj1jLnkscD0tTWF0aC5hdGFuMihuLQphLG0tbCkscT1NYXRoLlBJLHI9TWF0aC5QSS8yO25ldyBteFBvaW50KGwsYSk7Yj1udWxsIT1iP214VXRpbHMuZ2V0VmFsdWUoYi5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9ESVJFQ1RJT04sbXhDb25zdGFudHMuRElSRUNUSU9OX0VBU1QpOm14Q29uc3RhbnRzLkRJUkVDVElPTl9FQVNUO3ZhciB0PWI9PW14Q29uc3RhbnRzLkRJUkVDVElPTl9OT1JUSHx8Yj09bXhDb25zdGFudHMuRElSRUNUSU9OX1NPVVRIO2I9bmV3IG14UG9pbnQ7dmFyIHU9bmV3IG14UG9pbnQ7aWYobTxlJiZuPGZ8fG08ZSYmbj5mK2t8fG0+ZStnJiZuPGZ8fG0+ZStnJiZuPmYraylkPSExO2lmKGQpe2lmKHQpe2lmKG09PWwpe2lmKG48PWYpcmV0dXJuIG5ldyBteFBvaW50KGwsZik7aWYobj49ZitrKXJldHVybiBuZXcgbXhQb2ludChsLGYrayl9ZWxzZSBpZihtPGUpe2lmKG49PWYray80KXJldHVybiBuZXcgbXhQb2ludChlLGYray80KTtpZihuPT1mKzMqay80KXJldHVybiBuZXcgbXhQb2ludChlLGYrMyoKay80KX1lbHNlIGlmKG0+ZStnKXtpZihuPT1mK2svNClyZXR1cm4gbmV3IG14UG9pbnQoZStnLGYray80KTtpZihuPT1mKzMqay80KXJldHVybiBuZXcgbXhQb2ludChlK2csZiszKmsvNCl9ZWxzZSBpZihtPT1lKXtpZihuPGEpcmV0dXJuIG5ldyBteFBvaW50KGUsZitrLzQpO2lmKG4+YSlyZXR1cm4gbmV3IG14UG9pbnQoZSxmKzMqay80KX1lbHNlIGlmKG09PWUrZyl7aWYobjxhKXJldHVybiBuZXcgbXhQb2ludChlK2csZitrLzQpO2lmKG4+YSlyZXR1cm4gbmV3IG14UG9pbnQoZStnLGYrMyprLzQpfWlmKG49PWYpcmV0dXJuIG5ldyBteFBvaW50KGwsZik7aWYobj09ZitrKXJldHVybiBuZXcgbXhQb2ludChsLGYrayk7bTxsP24+ZitrLzQmJm48ZiszKmsvND8oYj1uZXcgbXhQb2ludChlLGYpLHU9bmV3IG14UG9pbnQoZSxmK2spKTpuPGYray80PyhiPW5ldyBteFBvaW50KGUtTWF0aC5mbG9vciguNSpnKSxmK01hdGguZmxvb3IoLjUqaykpLHU9bmV3IG14UG9pbnQoZStnLGYtCk1hdGguZmxvb3IoLjI1KmspKSk6bj5mKzMqay80JiYoYj1uZXcgbXhQb2ludChlLU1hdGguZmxvb3IoLjUqZyksZitNYXRoLmZsb29yKC41KmspKSx1PW5ldyBteFBvaW50KGUrZyxmK01hdGguZmxvb3IoMS4yNSprKSkpOm0+bCYmKG4+ZitrLzQmJm48ZiszKmsvND8oYj1uZXcgbXhQb2ludChlK2csZiksdT1uZXcgbXhQb2ludChlK2csZitrKSk6bjxmK2svND8oYj1uZXcgbXhQb2ludChlLGYtTWF0aC5mbG9vciguMjUqaykpLHU9bmV3IG14UG9pbnQoZStNYXRoLmZsb29yKDEuNSpnKSxmK01hdGguZmxvb3IoLjUqaykpKTpuPmYrMyprLzQmJihiPW5ldyBteFBvaW50KGUrTWF0aC5mbG9vcigxLjUqZyksZitNYXRoLmZsb29yKC41KmspKSx1PW5ldyBteFBvaW50KGUsZitNYXRoLmZsb29yKDEuMjUqaykpKSl9ZWxzZXtpZihuPT1hKXtpZihtPD1lKXJldHVybiBuZXcgbXhQb2ludChlLGYray8yKTtpZihtPj1lK2cpcmV0dXJuIG5ldyBteFBvaW50KGUrZyxmK2svMil9ZWxzZSBpZihuPApmKXtpZihtPT1lK2cvNClyZXR1cm4gbmV3IG14UG9pbnQoZStnLzQsZik7aWYobT09ZSszKmcvNClyZXR1cm4gbmV3IG14UG9pbnQoZSszKmcvNCxmKX1lbHNlIGlmKG4+ZitrKXtpZihtPT1lK2cvNClyZXR1cm4gbmV3IG14UG9pbnQoZStnLzQsZitrKTtpZihtPT1lKzMqZy80KXJldHVybiBuZXcgbXhQb2ludChlKzMqZy80LGYrayl9ZWxzZSBpZihuPT1mKXtpZihtPGwpcmV0dXJuIG5ldyBteFBvaW50KGUrZy80LGYpO2lmKG0+bClyZXR1cm4gbmV3IG14UG9pbnQoZSszKmcvNCxmKX1lbHNlIGlmKG49PWYrayl7aWYobTxsKXJldHVybiBuZXcgbXhQb2ludChlK2cvNCxmK2spO2lmKG4+YSlyZXR1cm4gbmV3IG14UG9pbnQoZSszKmcvNCxmK2spfWlmKG09PWUpcmV0dXJuIG5ldyBteFBvaW50KGUsYSk7aWYobT09ZStnKXJldHVybiBuZXcgbXhQb2ludChlK2csYSk7bjxhP20+ZStnLzQmJm08ZSszKmcvND8oYj1uZXcgbXhQb2ludChlLGYpLHU9bmV3IG14UG9pbnQoZStnLGYpKToKbTxlK2cvND8oYj1uZXcgbXhQb2ludChlLU1hdGguZmxvb3IoLjI1KmcpLGYrayksdT1uZXcgbXhQb2ludChlK01hdGguZmxvb3IoLjUqZyksZi1NYXRoLmZsb29yKC41KmspKSk6bT5lKzMqZy80JiYoYj1uZXcgbXhQb2ludChlK01hdGguZmxvb3IoLjUqZyksZi1NYXRoLmZsb29yKC41KmspKSx1PW5ldyBteFBvaW50KGUrTWF0aC5mbG9vcigxLjI1KmcpLGYraykpOm4+YSYmKG0+ZStnLzQmJm08ZSszKmcvND8oYj1uZXcgbXhQb2ludChlLGYrayksdT1uZXcgbXhQb2ludChlK2csZitrKSk6bTxlK2cvND8oYj1uZXcgbXhQb2ludChlLU1hdGguZmxvb3IoLjI1KmcpLGYpLHU9bmV3IG14UG9pbnQoZStNYXRoLmZsb29yKC41KmcpLGYrTWF0aC5mbG9vcigxLjUqaykpKTptPmUrMypnLzQmJihiPW5ldyBteFBvaW50KGUrTWF0aC5mbG9vciguNSpnKSxmK01hdGguZmxvb3IoMS41KmspKSx1PW5ldyBteFBvaW50KGUrTWF0aC5mbG9vcigxLjI1KmcpLGYpKSl9ZD1sO3A9YTttPj1lJiZtPD0KZStnPyhkPW0scD1uPGE/ZitrOmYpOm4+PWYmJm48PWYrayYmKHA9bixkPW08bD9lK2c6ZSk7Yz1teFV0aWxzLmludGVyc2VjdGlvbihkLHAsYy54LGMueSxiLngsYi55LHUueCx1LnkpfWVsc2V7aWYodCl7bT1NYXRoLmF0YW4yKGsvNCxnLzIpO2lmKHA9PW0pcmV0dXJuIG5ldyBteFBvaW50KGUrZyxmK01hdGguZmxvb3IoLjI1KmspKTtpZihwPT1yKXJldHVybiBuZXcgbXhQb2ludChlK01hdGguZmxvb3IoLjUqZyksZik7aWYocD09cS1tKXJldHVybiBuZXcgbXhQb2ludChlLGYrTWF0aC5mbG9vciguMjUqaykpO2lmKHA9PS1tKXJldHVybiBuZXcgbXhQb2ludChlK2csZitNYXRoLmZsb29yKC43NSprKSk7aWYocD09LXIpcmV0dXJuIG5ldyBteFBvaW50KGUrTWF0aC5mbG9vciguNSpnKSxmK2spO2lmKHA9PS1xK20pcmV0dXJuIG5ldyBteFBvaW50KGUsZitNYXRoLmZsb29yKC43NSprKSk7cDxtJiZwPi1tPyhiPW5ldyBteFBvaW50KGUrZyxmKSx1PW5ldyBteFBvaW50KGUrZyxmKwprKSk6cD5tJiZwPHI/KGI9bmV3IG14UG9pbnQoZSxmLU1hdGguZmxvb3IoLjI1KmspKSx1PW5ldyBteFBvaW50KGUrTWF0aC5mbG9vcigxLjUqZyksZitNYXRoLmZsb29yKC41KmspKSk6cD5yJiZwPHEtbT8oYj1uZXcgbXhQb2ludChlLU1hdGguZmxvb3IoLjUqZyksZitNYXRoLmZsb29yKC41KmspKSx1PW5ldyBteFBvaW50KGUrZyxmLU1hdGguZmxvb3IoLjI1KmspKSk6cD5xLW0mJnA8PXF8fHA8LXErbSYmcD49LXE/KGI9bmV3IG14UG9pbnQoZSxmKSx1PW5ldyBteFBvaW50KGUsZitrKSk6cDwtbSYmcD4tcj8oYj1uZXcgbXhQb2ludChlK01hdGguZmxvb3IoMS41KmcpLGYrTWF0aC5mbG9vciguNSprKSksdT1uZXcgbXhQb2ludChlLGYrTWF0aC5mbG9vcigxLjI1KmspKSk6cDwtciYmcD4tcSttJiYoYj1uZXcgbXhQb2ludChlLU1hdGguZmxvb3IoLjUqZyksZitNYXRoLmZsb29yKC41KmspKSx1PW5ldyBteFBvaW50KGUrZyxmK01hdGguZmxvb3IoMS4yNSprKSkpfWVsc2V7bT0KTWF0aC5hdGFuMihrLzIsZy80KTtpZihwPT1tKXJldHVybiBuZXcgbXhQb2ludChlK01hdGguZmxvb3IoLjc1KmcpLGYpO2lmKHA9PXEtbSlyZXR1cm4gbmV3IG14UG9pbnQoZStNYXRoLmZsb29yKC4yNSpnKSxmKTtpZihwPT1xfHxwPT0tcSlyZXR1cm4gbmV3IG14UG9pbnQoZSxmK01hdGguZmxvb3IoLjUqaykpO2lmKDA9PXApcmV0dXJuIG5ldyBteFBvaW50KGUrZyxmK01hdGguZmxvb3IoLjUqaykpO2lmKHA9PS1tKXJldHVybiBuZXcgbXhQb2ludChlK01hdGguZmxvb3IoLjc1KmcpLGYrayk7aWYocD09LXErbSlyZXR1cm4gbmV3IG14UG9pbnQoZStNYXRoLmZsb29yKC4yNSpnKSxmK2spOzA8cCYmcDxtPyhiPW5ldyBteFBvaW50KGUrTWF0aC5mbG9vciguNSpnKSxmLU1hdGguZmxvb3IoLjUqaykpLHU9bmV3IG14UG9pbnQoZStNYXRoLmZsb29yKDEuMjUqZyksZitrKSk6cD5tJiZwPHEtbT8oYj1uZXcgbXhQb2ludChlLGYpLHU9bmV3IG14UG9pbnQoZStnLGYpKTpwPnEtbSYmCnA8cT8oYj1uZXcgbXhQb2ludChlLU1hdGguZmxvb3IoLjI1KmcpLGYrayksdT1uZXcgbXhQb2ludChlK01hdGguZmxvb3IoLjUqZyksZi1NYXRoLmZsb29yKC41KmspKSk6MD5wJiZwPi1tPyhiPW5ldyBteFBvaW50KGUrTWF0aC5mbG9vciguNSpnKSxmK01hdGguZmxvb3IoMS41KmspKSx1PW5ldyBteFBvaW50KGUrTWF0aC5mbG9vcigxLjI1KmcpLGYpKTpwPC1tJiZwPi1xK20/KGI9bmV3IG14UG9pbnQoZSxmK2spLHU9bmV3IG14UG9pbnQoZStnLGYraykpOnA8LXErbSYmcD4tcSYmKGI9bmV3IG14UG9pbnQoZS1NYXRoLmZsb29yKC4yNSpnKSxmKSx1PW5ldyBteFBvaW50KGUrTWF0aC5mbG9vciguNSpnKSxmK01hdGguZmxvb3IoMS41KmspKSl9Yz1teFV0aWxzLmludGVyc2VjdGlvbihsLGEsYy54LGMueSxiLngsYi55LHUueCx1LnkpfXJldHVybiBudWxsPT1jP25ldyBteFBvaW50KGwsYSk6Y319OwpmdW5jdGlvbiBteFByaW50UHJldmlldyhhLGIsYyxkLGUsZixnLGssbCl7dGhpcy5ncmFwaD1hO3RoaXMuc2NhbGU9bnVsbCE9Yj9iOjEvYS5wYWdlU2NhbGU7dGhpcy5ib3JkZXI9bnVsbCE9ZD9kOjA7dGhpcy5wYWdlRm9ybWF0PW14UmVjdGFuZ2xlLmZyb21SZWN0YW5nbGUobnVsbCE9Yz9jOmEucGFnZUZvcm1hdCk7dGhpcy50aXRsZT1udWxsIT1rP2s6IlByaW50ZXItZnJpZW5kbHkgdmVyc2lvbiI7dGhpcy54MD1udWxsIT1lP2U6MDt0aGlzLnkwPW51bGwhPWY/ZjowO3RoaXMuYm9yZGVyQ29sb3I9Zzt0aGlzLnBhZ2VTZWxlY3Rvcj1udWxsIT1sP2w6ITB9bXhQcmludFByZXZpZXcucHJvdG90eXBlLmdyYXBoPW51bGw7bXhQcmludFByZXZpZXcucHJvdG90eXBlLnBhZ2VGb3JtYXQ9bnVsbDtteFByaW50UHJldmlldy5wcm90b3R5cGUuc2NhbGU9bnVsbDtteFByaW50UHJldmlldy5wcm90b3R5cGUuYm9yZGVyPTA7Cm14UHJpbnRQcmV2aWV3LnByb3RvdHlwZS5tYXJnaW5Ub3A9MDtteFByaW50UHJldmlldy5wcm90b3R5cGUubWFyZ2luQm90dG9tPTA7bXhQcmludFByZXZpZXcucHJvdG90eXBlLngwPTA7bXhQcmludFByZXZpZXcucHJvdG90eXBlLnkwPTA7bXhQcmludFByZXZpZXcucHJvdG90eXBlLmF1dG9PcmlnaW49ITA7bXhQcmludFByZXZpZXcucHJvdG90eXBlLnByaW50T3ZlcmxheXM9ITE7bXhQcmludFByZXZpZXcucHJvdG90eXBlLnByaW50Q29udHJvbHM9ITE7bXhQcmludFByZXZpZXcucHJvdG90eXBlLnByaW50QmFja2dyb3VuZEltYWdlPSExO214UHJpbnRQcmV2aWV3LnByb3RvdHlwZS5iYWNrZ3JvdW5kQ29sb3I9IiNmZmZmZmYiO214UHJpbnRQcmV2aWV3LnByb3RvdHlwZS5ib3JkZXJDb2xvcj1udWxsO214UHJpbnRQcmV2aWV3LnByb3RvdHlwZS50aXRsZT1udWxsO214UHJpbnRQcmV2aWV3LnByb3RvdHlwZS5wYWdlU2VsZWN0b3I9bnVsbDsKbXhQcmludFByZXZpZXcucHJvdG90eXBlLnduZD1udWxsO214UHJpbnRQcmV2aWV3LnByb3RvdHlwZS50YXJnZXRXaW5kb3c9bnVsbDtteFByaW50UHJldmlldy5wcm90b3R5cGUucGFnZUNvdW50PTA7bXhQcmludFByZXZpZXcucHJvdG90eXBlLmNsaXBwaW5nPSEwO214UHJpbnRQcmV2aWV3LnByb3RvdHlwZS5nZXRXaW5kb3c9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy53bmR9OwpteFByaW50UHJldmlldy5wcm90b3R5cGUuZ2V0RG9jdHlwZT1mdW5jdGlvbigpe3ZhciBhPSIiOzU9PWRvY3VtZW50LmRvY3VtZW50TW9kZT9hPSc8bWV0YSBodHRwLWVxdWl2PSJYLVVBLUNvbXBhdGlibGUiIGNvbnRlbnQ9IklFPTUiPic6OD09ZG9jdW1lbnQuZG9jdW1lbnRNb2RlP2E9JzxtZXRhIGh0dHAtZXF1aXY9IlgtVUEtQ29tcGF0aWJsZSIgY29udGVudD0iSUU9OCI+Jzo4PGRvY3VtZW50LmRvY3VtZW50TW9kZSYmKGE9J1x4M2MhLS1baWYgSUVdPjxtZXRhIGh0dHAtZXF1aXY9IlgtVUEtQ29tcGF0aWJsZSIgY29udGVudD0iSUU9ZWRnZSI+PCFbZW5kaWZdLS1ceDNlJyk7cmV0dXJuIGF9O214UHJpbnRQcmV2aWV3LnByb3RvdHlwZS5hcHBlbmRHcmFwaD1mdW5jdGlvbihhLGIsYyxkLGUsZil7dGhpcy5ncmFwaD1hO3RoaXMuc2NhbGU9bnVsbCE9Yj9iOjEvYS5wYWdlU2NhbGU7dGhpcy54MD1jO3RoaXMueTA9ZDt0aGlzLm9wZW4obnVsbCxudWxsLGUsZil9OwpteFByaW50UHJldmlldy5wcm90b3R5cGUub3Blbj1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZT10aGlzLmdyYXBoLmNlbGxSZW5kZXJlci5pbml0aWFsaXplT3ZlcmxheSxmPW51bGw7dHJ5e3RoaXMucHJpbnRPdmVybGF5cyYmKHRoaXMuZ3JhcGguY2VsbFJlbmRlcmVyLmluaXRpYWxpemVPdmVybGF5PWZ1bmN0aW9uKGEsYil7Yi5pbml0KGEudmlldy5nZXREcmF3UGFuZSgpKX0pO3RoaXMucHJpbnRDb250cm9scyYmKHRoaXMuZ3JhcGguY2VsbFJlbmRlcmVyLmluaXRDb250cm9sPWZ1bmN0aW9uKGEsYixjLGQpe2IuZGlhbGVjdD1hLnZpZXcuZ3JhcGguZGlhbGVjdDtiLmluaXQoYS52aWV3LmdldERyYXdQYW5lKCkpfSk7dGhpcy53bmQ9bnVsbCE9Yj9iOnRoaXMud25kO3ZhciBnPSExO251bGw9PXRoaXMud25kJiYoZz0hMCx0aGlzLnduZD13aW5kb3cub3BlbigpKTt2YXIgaz10aGlzLnduZC5kb2N1bWVudDtpZihnKXt2YXIgbD10aGlzLmdldERvY3R5cGUoKTtudWxsIT1sJiYwPGwubGVuZ3RoJiYKay53cml0ZWxuKGwpO214Q2xpZW50LklTX1ZNTD9rLndyaXRlbG4oJzxodG1sIHhtbG5zOnY9InVybjpzY2hlbWFzLW1pY3Jvc29mdC1jb206dm1sIiB4bWxuczpvPSJ1cm46c2NoZW1hcy1taWNyb3NvZnQtY29tOm9mZmljZTpvZmZpY2UiPicpOigiQ1NTMUNvbXBhdCI9PT1kb2N1bWVudC5jb21wYXRNb2RlJiZrLndyaXRlbG4oIjwhRE9DVFlQRSBodG1sPiIpLGsud3JpdGVsbigiPGh0bWw+IikpO2sud3JpdGVsbigiPGhlYWQ+Iik7dGhpcy53cml0ZUhlYWQoayxhKTtrLndyaXRlbG4oIjwvaGVhZD4iKTtrLndyaXRlbG4oJzxib2R5IGNsYXNzPSJteFBhZ2UiPicpfXZhciBtPXRoaXMuZ3JhcGguZ2V0R3JhcGhCb3VuZHMoKS5jbG9uZSgpLG49dGhpcy5ncmFwaC5nZXRWaWV3KCkuZ2V0U2NhbGUoKSxwPW4vdGhpcy5zY2FsZSxxPXRoaXMuZ3JhcGguZ2V0VmlldygpLmdldFRyYW5zbGF0ZSgpO3RoaXMuYXV0b09yaWdpbnx8KHRoaXMueDAtPXEueCp0aGlzLnNjYWxlLHRoaXMueTAtPQpxLnkqdGhpcy5zY2FsZSxtLndpZHRoKz1tLngsbS5oZWlnaHQrPW0ueSxtLng9MCx0aGlzLmJvcmRlcj1tLnk9MCk7dmFyIHI9dGhpcy5wYWdlRm9ybWF0LndpZHRoLTIqdGhpcy5ib3JkZXIsdD10aGlzLnBhZ2VGb3JtYXQuaGVpZ2h0LTIqdGhpcy5ib3JkZXI7dGhpcy5wYWdlRm9ybWF0LmhlaWdodCs9dGhpcy5tYXJnaW5Ub3ArdGhpcy5tYXJnaW5Cb3R0b207bS53aWR0aC89cDttLmhlaWdodC89cDt2YXIgdT1NYXRoLm1heCgxLE1hdGguY2VpbCgobS53aWR0aCt0aGlzLngwKS9yKSkseD1NYXRoLm1heCgxLE1hdGguY2VpbCgobS5oZWlnaHQrdGhpcy55MCkvdCkpO3RoaXMucGFnZUNvdW50PXUqeDt2YXIgeT1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe2lmKHRoaXMucGFnZVNlbGVjdG9yJiYoMTx4fHwxPHUpKXt2YXIgYT10aGlzLmNyZWF0ZVBhZ2VTZWxlY3Rvcih4LHUpO2suYm9keS5hcHBlbmRDaGlsZChhKTtpZihteENsaWVudC5JU19JRSYmbnVsbD09ay5kb2N1bWVudE1vZGV8fAo1PT1rLmRvY3VtZW50TW9kZXx8OD09ay5kb2N1bWVudE1vZGV8fDc9PWsuZG9jdW1lbnRNb2RlKXthLnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSI7dmFyIGI9ZnVuY3Rpb24oKXthLnN0eWxlLnRvcD0oay5ib2R5LnNjcm9sbFRvcHx8ay5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wKSsxMCsicHgifTtteEV2ZW50LmFkZExpc3RlbmVyKHRoaXMud25kLCJzY3JvbGwiLGZ1bmN0aW9uKGEpe2IoKX0pO214RXZlbnQuYWRkTGlzdGVuZXIodGhpcy53bmQsInJlc2l6ZSIsZnVuY3Rpb24oYSl7YigpfSl9fX0pLEI9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSxiKXtudWxsIT10aGlzLmJvcmRlckNvbG9yJiYoYS5zdHlsZS5ib3JkZXJDb2xvcj10aGlzLmJvcmRlckNvbG9yLGEuc3R5bGUuYm9yZGVyU3R5bGU9InNvbGlkIixhLnN0eWxlLmJvcmRlcldpZHRoPSIxcHgiKTthLnN0eWxlLmJhY2tncm91bmQ9dGhpcy5iYWNrZ3JvdW5kQ29sb3I7aWYoY3x8YilhLnN0eWxlLnBhZ2VCcmVha0FmdGVyPQoiYWx3YXlzIjtpZihnJiYobXhDbGllbnQuSVNfSUV8fDExPD1kb2N1bWVudC5kb2N1bWVudE1vZGV8fG14Q2xpZW50LklTX0VER0UpKWsud3JpdGVsbihhLm91dGVySFRNTCksYS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGEpO2Vsc2UgaWYobXhDbGllbnQuSVNfSUV8fDExPD1kb2N1bWVudC5kb2N1bWVudE1vZGV8fG14Q2xpZW50LklTX0VER0Upe3ZhciBkPWsuY3JlYXRlRWxlbWVudCgiZGl2Iik7ZC5pbm5lckhUTUw9YS5vdXRlckhUTUw7ZD1kLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJkaXYiKVswXTtrLmJvZHkuYXBwZW5kQ2hpbGQoZCk7YS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGEpfWVsc2UgYS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGEpLGsuYm9keS5hcHBlbmRDaGlsZChhKTsoY3x8YikmJnRoaXMuYWRkUGFnZUJyZWFrKGspfSksQT10aGlzLmdldENvdmVyUGFnZXModGhpcy5wYWdlRm9ybWF0LndpZHRoLHRoaXMucGFnZUZvcm1hdC5oZWlnaHQpO2lmKG51bGwhPUEpZm9yKHZhciB6PQowO3o8QS5sZW5ndGg7eisrKUIoQVt6XSwhMCk7Zm9yKHZhciBDPXRoaXMuZ2V0QXBwZW5kaWNlcyh0aGlzLnBhZ2VGb3JtYXQud2lkdGgsdGhpcy5wYWdlRm9ybWF0LmhlaWdodCksej0wO3o8eDt6Kyspe3ZhciB2PXoqdC90aGlzLnNjYWxlLXRoaXMueTAvdGhpcy5zY2FsZSsobS55LXEueSpuKS9uO2ZvcihhPTA7YTx1O2ErKyl7aWYobnVsbD09dGhpcy53bmQpcmV0dXJuIG51bGw7dmFyIEQ9YSpyL3RoaXMuc2NhbGUtdGhpcy54MC90aGlzLnNjYWxlKyhtLngtcS54Km4pL24sRz16KnUrYSsxLEo9bmV3IG14UmVjdGFuZ2xlKEQsdixyLHQpLGY9dGhpcy5yZW5kZXJQYWdlKHRoaXMucGFnZUZvcm1hdC53aWR0aCx0aGlzLnBhZ2VGb3JtYXQuaGVpZ2h0LDAsMCxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXt0aGlzLmFkZEdyYXBoRnJhZ21lbnQoLUQsLXYsdGhpcy5zY2FsZSxHLGEsSik7dGhpcy5wcmludEJhY2tncm91bmRJbWFnZSYmdGhpcy5pbnNlcnRCYWNrZ3JvdW5kSW1hZ2UoYSwKLUQsLXYpfSksRyk7Zi5zZXRBdHRyaWJ1dGUoImlkIiwibXhQYWdlLSIrRyk7QihmLG51bGwhPUN8fHo8eC0xfHxhPHUtMSl9fWlmKG51bGwhPUMpZm9yKHo9MDt6PEMubGVuZ3RoO3orKylCKENbel0sejxDLmxlbmd0aC0xKTtnJiYhZCYmKHRoaXMuY2xvc2VEb2N1bWVudCgpLHkoKSk7dGhpcy53bmQuZm9jdXMoKX1jYXRjaChFKXtudWxsIT1mJiZudWxsIT1mLnBhcmVudE5vZGUmJmYucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChmKX1maW5hbGx5e3RoaXMuZ3JhcGguY2VsbFJlbmRlcmVyLmluaXRpYWxpemVPdmVybGF5PWV9cmV0dXJuIHRoaXMud25kfTtteFByaW50UHJldmlldy5wcm90b3R5cGUuYWRkUGFnZUJyZWFrPWZ1bmN0aW9uKGEpe3ZhciBiPWEuY3JlYXRlRWxlbWVudCgiaHIiKTtiLmNsYXNzTmFtZT0ibXhQYWdlQnJlYWsiO2EuYm9keS5hcHBlbmRDaGlsZChiKX07Cm14UHJpbnRQcmV2aWV3LnByb3RvdHlwZS5jbG9zZURvY3VtZW50PWZ1bmN0aW9uKCl7dHJ5e2lmKG51bGwhPXRoaXMud25kJiZudWxsIT10aGlzLnduZC5kb2N1bWVudCl7dmFyIGE9dGhpcy53bmQuZG9jdW1lbnQ7dGhpcy53cml0ZVBvc3RmaXgoYSk7YS53cml0ZWxuKCI8L2JvZHk+Iik7YS53cml0ZWxuKCI8L2h0bWw+Iik7YS5jbG9zZSgpO214RXZlbnQucmVsZWFzZShhLmJvZHkpfX1jYXRjaChiKXt9fTsKbXhQcmludFByZXZpZXcucHJvdG90eXBlLndyaXRlSGVhZD1mdW5jdGlvbihhLGIpe251bGwhPXRoaXMudGl0bGUmJmEud3JpdGVsbigiPHRpdGxlPiIrdGhpcy50aXRsZSsiPC90aXRsZT4iKTtteENsaWVudC5JU19WTUwmJmEud3JpdGVsbignPHN0eWxlIHR5cGU9InRleHQvY3NzIj52XFw6KntiZWhhdmlvcjp1cmwoI2RlZmF1bHQjVk1MKX1vXFw6KntiZWhhdmlvcjp1cmwoI2RlZmF1bHQjVk1MKX08L3N0eWxlPicpO214Q2xpZW50LmxpbmsoInN0eWxlc2hlZXQiLG14Q2xpZW50LmJhc2VQYXRoKyIvY3NzL2NvbW1vbi5jc3MiLGEpO2Eud3JpdGVsbignPHN0eWxlIHR5cGU9InRleHQvY3NzIj4nKTthLndyaXRlbG4oIkBtZWRpYSBwcmludCB7Iik7YS53cml0ZWxuKCIgICogeyAtd2Via2l0LXByaW50LWNvbG9yLWFkanVzdDogZXhhY3Q7IH0iKTthLndyaXRlbG4oIiAgdGFibGUubXhQYWdlU2VsZWN0b3IgeyBkaXNwbGF5OiBub25lOyB9Iik7YS53cml0ZWxuKCIgIGhyLm14UGFnZUJyZWFrIHsgZGlzcGxheTogbm9uZTsgfSIpOwphLndyaXRlbG4oIn0iKTthLndyaXRlbG4oIkBtZWRpYSBzY3JlZW4geyIpO2Eud3JpdGVsbigiICB0YWJsZS5teFBhZ2VTZWxlY3RvciB7IHBvc2l0aW9uOiBmaXhlZDsgcmlnaHQ6IDEwcHg7IHRvcDogMTBweDtmb250LWZhbWlseTogQXJpYWw7IGZvbnQtc2l6ZToxMHB0OyBib3JkZXI6IHNvbGlkIDFweCBkYXJrZ3JheTtiYWNrZ3JvdW5kOiB3aGl0ZTsgYm9yZGVyLWNvbGxhcHNlOmNvbGxhcHNlOyB9Iik7YS53cml0ZWxuKCIgIHRhYmxlLm14UGFnZVNlbGVjdG9yIHRkIHsgYm9yZGVyOiBzb2xpZCAxcHggZ3JheTsgcGFkZGluZzo0cHg7IH0iKTthLndyaXRlbG4oIiAgYm9keS5teFBhZ2UgeyBiYWNrZ3JvdW5kOiBncmF5OyB9Iik7YS53cml0ZWxuKCJ9Iik7bnVsbCE9YiYmYS53cml0ZWxuKGIpO2Eud3JpdGVsbigiPC9zdHlsZT4iKX07bXhQcmludFByZXZpZXcucHJvdG90eXBlLndyaXRlUG9zdGZpeD1mdW5jdGlvbihhKXt9OwpteFByaW50UHJldmlldy5wcm90b3R5cGUuY3JlYXRlUGFnZVNlbGVjdG9yPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy53bmQuZG9jdW1lbnQsZD1jLmNyZWF0ZUVsZW1lbnQoInRhYmxlIik7ZC5jbGFzc05hbWU9Im14UGFnZVNlbGVjdG9yIjtkLnNldEF0dHJpYnV0ZSgiYm9yZGVyIiwiMCIpO2Zvcih2YXIgZT1jLmNyZWF0ZUVsZW1lbnQoInRib2R5IiksZj0wO2Y8YTtmKyspe2Zvcih2YXIgZz1jLmNyZWF0ZUVsZW1lbnQoInRyIiksaz0wO2s8YjtrKyspe3ZhciBsPWYqYitrKzEsbT1jLmNyZWF0ZUVsZW1lbnQoInRkIiksbj1jLmNyZWF0ZUVsZW1lbnQoImEiKTtuLnNldEF0dHJpYnV0ZSgiaHJlZiIsIiNteFBhZ2UtIitsKTshbXhDbGllbnQuSVNfTlN8fG14Q2xpZW50LklTX1NGfHxteENsaWVudC5JU19HQ3x8bi5zZXRBdHRyaWJ1dGUoIm9uY2xpY2siLCJ2YXIgcGFnZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdteFBhZ2UtIitsKyInKTtwYWdlLnNjcm9sbEludG9WaWV3KHRydWUpO2V2ZW50LnByZXZlbnREZWZhdWx0KCk7Iik7Cm14VXRpbHMud3JpdGUobixsLGMpO20uYXBwZW5kQ2hpbGQobik7Zy5hcHBlbmRDaGlsZChtKX1lLmFwcGVuZENoaWxkKGcpfWQuYXBwZW5kQ2hpbGQoZSk7cmV0dXJuIGR9OwpteFByaW50UHJldmlldy5wcm90b3R5cGUucmVuZGVyUGFnZT1mdW5jdGlvbihhLGIsYyxkLGUsZil7Zj10aGlzLnduZC5kb2N1bWVudDt2YXIgZz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSxrPW51bGw7dHJ5e2lmKDAhPWN8fDAhPWQpe2cuc3R5bGUucG9zaXRpb249InJlbGF0aXZlIjtnLnN0eWxlLndpZHRoPWErInB4IjtnLnN0eWxlLmhlaWdodD1iKyJweCI7Zy5zdHlsZS5wYWdlQnJlYWtJbnNpZGU9ImF2b2lkIjt2YXIgbD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtsLnN0eWxlLnBvc2l0aW9uPSJyZWxhdGl2ZSI7bC5zdHlsZS50b3A9dGhpcy5ib3JkZXIrInB4IjtsLnN0eWxlLmxlZnQ9dGhpcy5ib3JkZXIrInB4IjtsLnN0eWxlLndpZHRoPWEtMip0aGlzLmJvcmRlcisicHgiO2wuc3R5bGUuaGVpZ2h0PWItMip0aGlzLmJvcmRlcisicHgiO2wuc3R5bGUub3ZlcmZsb3c9ImhpZGRlbiI7dmFyIG09ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7bS5zdHlsZS5wb3NpdGlvbj0KInJlbGF0aXZlIjttLnN0eWxlLm1hcmdpbkxlZnQ9YysicHgiO20uc3R5bGUubWFyZ2luVG9wPWQrInB4Ijs4PT1mLmRvY3VtZW50TW9kZSYmKGwuc3R5bGUucG9zaXRpb249ImFic29sdXRlIixtLnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSIpOzEwPT1mLmRvY3VtZW50TW9kZSYmKG0uc3R5bGUud2lkdGg9IjEwMCUiLG0uc3R5bGUuaGVpZ2h0PSIxMDAlIik7bC5hcHBlbmRDaGlsZChtKTtnLmFwcGVuZENoaWxkKGwpO2RvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZyk7az1tfWVsc2UgZy5zdHlsZS53aWR0aD1hKyJweCIsZy5zdHlsZS5oZWlnaHQ9YisicHgiLGcuc3R5bGUub3ZlcmZsb3c9ImhpZGRlbiIsZy5zdHlsZS5wYWdlQnJlYWtJbnNpZGU9ImF2b2lkIiw4PT1mLmRvY3VtZW50TW9kZSYmKGcuc3R5bGUucG9zaXRpb249InJlbGF0aXZlIiksbD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSxsLnN0eWxlLndpZHRoPWEtMip0aGlzLmJvcmRlcisicHgiLGwuc3R5bGUuaGVpZ2h0PQpiLTIqdGhpcy5ib3JkZXIrInB4IixsLnN0eWxlLm92ZXJmbG93PSJoaWRkZW4iLCFteENsaWVudC5JU19JRXx8bnVsbCE9Zi5kb2N1bWVudE1vZGUmJjUhPWYuZG9jdW1lbnRNb2RlJiY4IT1mLmRvY3VtZW50TW9kZSYmNyE9Zi5kb2N1bWVudE1vZGU/KGwuc3R5bGUudG9wPXRoaXMuYm9yZGVyKyJweCIsbC5zdHlsZS5sZWZ0PXRoaXMuYm9yZGVyKyJweCIpOihsLnN0eWxlLm1hcmdpblRvcD10aGlzLmJvcmRlcisicHgiLGwuc3R5bGUubWFyZ2luTGVmdD10aGlzLmJvcmRlcisicHgiKSx0aGlzLmdyYXBoLmRpYWxlY3Q9PW14Q29uc3RhbnRzLkRJQUxFQ1RfVk1MJiYobC5zdHlsZS5wb3NpdGlvbj0iYWJzb2x1dGUiKSxnLmFwcGVuZENoaWxkKGwpLGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZyksaz1sfWNhdGNoKG4pe3Rocm93IGcucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChnKSxuO31lKGspO3JldHVybiBnfTsKbXhQcmludFByZXZpZXcucHJvdG90eXBlLmdldFJvb3Q9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdyYXBoLnZpZXcuY3VycmVudFJvb3Q7bnVsbD09YSYmKGE9dGhpcy5ncmFwaC5nZXRNb2RlbCgpLmdldFJvb3QoKSk7cmV0dXJuIGF9OwpteFByaW50UHJldmlldy5wcm90b3R5cGUuYWRkR3JhcGhGcmFnbWVudD1mdW5jdGlvbihhLGIsYyxkLGUsZil7dmFyIGc9dGhpcy5ncmFwaC5nZXRWaWV3KCk7ZD10aGlzLmdyYXBoLmNvbnRhaW5lcjt0aGlzLmdyYXBoLmNvbnRhaW5lcj1lO3ZhciBrPWcuZ2V0Q2FudmFzKCksbD1nLmdldEJhY2tncm91bmRQYW5lKCksbT1nLmdldERyYXdQYW5lKCksbj1nLmdldE92ZXJsYXlQYW5lKCkscD1jO2lmKHRoaXMuZ3JhcGguZGlhbGVjdD09bXhDb25zdGFudHMuRElBTEVDVF9TVkcpe2lmKGcuY3JlYXRlU3ZnKCksIW14Q2xpZW50Lk5PX0ZPKXt2YXIgcT1nLmdldERyYXdQYW5lKCkucGFyZW50Tm9kZTtxLmdldEF0dHJpYnV0ZSgidHJhbnNmb3JtIik7cS5zZXRBdHRyaWJ1dGUoInRyYW5zZm9ybU9yaWdpbiIsIjAgMCIpO3Euc2V0QXR0cmlidXRlKCJ0cmFuc2Zvcm0iLCJzY2FsZSgiK2MrIiwiK2MrIil0cmFuc2xhdGUoIithKyIsIitiKyIpIik7Yz0xO2I9YT0wfX1lbHNlIHRoaXMuZ3JhcGguZGlhbGVjdD09Cm14Q29uc3RhbnRzLkRJQUxFQ1RfVk1MP2cuY3JlYXRlVm1sKCk6Zy5jcmVhdGVIdG1sKCk7cT1nLmlzRXZlbnRzRW5hYmxlZCgpO2cuc2V0RXZlbnRzRW5hYmxlZCghMSk7dmFyIHI9dGhpcy5ncmFwaC5pc0VuYWJsZWQoKTt0aGlzLmdyYXBoLnNldEVuYWJsZWQoITEpO3ZhciB0PWcuZ2V0VHJhbnNsYXRlKCk7Zy50cmFuc2xhdGU9bmV3IG14UG9pbnQoYSxiKTt2YXIgdT10aGlzLmdyYXBoLmNlbGxSZW5kZXJlci5yZWRyYXcseD1nLnN0YXRlczthPWcuc2NhbGU7aWYodGhpcy5jbGlwcGluZyl7dmFyIHk9bmV3IG14UmVjdGFuZ2xlKChmLngrdC54KSphLChmLnkrdC55KSphLGYud2lkdGgqYS9wLGYuaGVpZ2h0KmEvcCk7dGhpcy5ncmFwaC5jZWxsUmVuZGVyZXIucmVkcmF3PWZ1bmN0aW9uKGEsYixjKXtpZihudWxsIT1hKXt2YXIgZD14LmdldChhLmNlbGwpO2lmKG51bGwhPWQmJihkPWcuZ2V0Qm91bmRpbmdCb3goZCwhMSksbnVsbCE9ZCYmMDxkLndpZHRoJiYwPGQuaGVpZ2h0JiYKIW14VXRpbHMuaW50ZXJzZWN0cyh5LGQpKSlyZXR1cm59dS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fWE9bnVsbDt0cnl7dmFyIEI9W3RoaXMuZ2V0Um9vdCgpXTthPW5ldyBteFRlbXBvcmFyeUNlbGxTdGF0ZXMoZyxjLEIsbnVsbCxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5nZXRMaW5rRm9yQ2VsbFN0YXRlKGEpfSkpfWZpbmFsbHl7aWYobXhDbGllbnQuSVNfSUUpZy5vdmVybGF5UGFuZS5pbm5lckhUTUw9IiIsZy5jYW52YXMuc3R5bGUub3ZlcmZsb3c9ImhpZGRlbiIsZy5jYW52YXMuc3R5bGUucG9zaXRpb249InJlbGF0aXZlIixnLmNhbnZhcy5zdHlsZS50b3A9dGhpcy5tYXJnaW5Ub3ArInB4IixnLmNhbnZhcy5zdHlsZS53aWR0aD1mLndpZHRoKyJweCIsZy5jYW52YXMuc3R5bGUuaGVpZ2h0PWYuaGVpZ2h0KyJweCI7ZWxzZSBmb3IoYz1lLmZpcnN0Q2hpbGQ7bnVsbCE9YzspQj1jLm5leHRTaWJsaW5nLGI9Yy5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLAoic3ZnIj09Yj8oYy5zdHlsZS5vdmVyZmxvdz0iaGlkZGVuIixjLnN0eWxlLnBvc2l0aW9uPSJyZWxhdGl2ZSIsYy5zdHlsZS50b3A9dGhpcy5tYXJnaW5Ub3ArInB4IixjLnNldEF0dHJpYnV0ZSgid2lkdGgiLGYud2lkdGgpLGMuc2V0QXR0cmlidXRlKCJoZWlnaHQiLGYuaGVpZ2h0KSxjLnN0eWxlLndpZHRoPSIiLGMuc3R5bGUuaGVpZ2h0PSIiKToiZGVmYXVsdCIhPWMuc3R5bGUuY3Vyc29yJiYiZGl2IiE9YiYmYy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGMpLGM9Qjt0aGlzLnByaW50QmFja2dyb3VuZEltYWdlJiYoZT1lLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJzdmciKSwwPGUubGVuZ3RoJiYoZVswXS5zdHlsZS5wb3NpdGlvbj0iYWJzb2x1dGUiKSk7Zy5vdmVybGF5UGFuZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGcub3ZlcmxheVBhbmUpO3RoaXMuZ3JhcGguc2V0RW5hYmxlZChyKTt0aGlzLmdyYXBoLmNvbnRhaW5lcj1kO3RoaXMuZ3JhcGguY2VsbFJlbmRlcmVyLnJlZHJhdz0KdTtnLmNhbnZhcz1rO2cuYmFja2dyb3VuZFBhbmU9bDtnLmRyYXdQYW5lPW07Zy5vdmVybGF5UGFuZT1uO2cudHJhbnNsYXRlPXQ7YS5kZXN0cm95KCk7Zy5zZXRFdmVudHNFbmFibGVkKHEpfX07bXhQcmludFByZXZpZXcucHJvdG90eXBlLmdldExpbmtGb3JDZWxsU3RhdGU9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZ3JhcGguZ2V0TGlua0ZvckNlbGwoYS5jZWxsKX07Cm14UHJpbnRQcmV2aWV3LnByb3RvdHlwZS5pbnNlcnRCYWNrZ3JvdW5kSW1hZ2U9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXMuZ3JhcGguYmFja2dyb3VuZEltYWdlO2lmKG51bGwhPWQpe3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImltZyIpO2Uuc3R5bGUucG9zaXRpb249ImFic29sdXRlIjtlLnN0eWxlLm1hcmdpbkxlZnQ9TWF0aC5yb3VuZChiKnRoaXMuc2NhbGUpKyJweCI7ZS5zdHlsZS5tYXJnaW5Ub3A9TWF0aC5yb3VuZChjKnRoaXMuc2NhbGUpKyJweCI7ZS5zZXRBdHRyaWJ1dGUoIndpZHRoIixNYXRoLnJvdW5kKHRoaXMuc2NhbGUqZC53aWR0aCkpO2Uuc2V0QXR0cmlidXRlKCJoZWlnaHQiLE1hdGgucm91bmQodGhpcy5zY2FsZSpkLmhlaWdodCkpO2Uuc3JjPWQuc3JjO2EuaW5zZXJ0QmVmb3JlKGUsYS5maXJzdENoaWxkKX19O214UHJpbnRQcmV2aWV3LnByb3RvdHlwZS5nZXRDb3ZlclBhZ2VzPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9OwpteFByaW50UHJldmlldy5wcm90b3R5cGUuZ2V0QXBwZW5kaWNlcz1mdW5jdGlvbigpe3JldHVybiBudWxsfTtteFByaW50UHJldmlldy5wcm90b3R5cGUucHJpbnQ9ZnVuY3Rpb24oYSl7YT10aGlzLm9wZW4oYSk7bnVsbCE9YSYmYS5wcmludCgpfTtteFByaW50UHJldmlldy5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24oKXtudWxsIT10aGlzLnduZCYmKHRoaXMud25kLmNsb3NlKCksdGhpcy53bmQ9bnVsbCl9O2Z1bmN0aW9uIG14U3R5bGVzaGVldCgpe3RoaXMuc3R5bGVzPXt9O3RoaXMucHV0RGVmYXVsdFZlcnRleFN0eWxlKHRoaXMuY3JlYXRlRGVmYXVsdFZlcnRleFN0eWxlKCkpO3RoaXMucHV0RGVmYXVsdEVkZ2VTdHlsZSh0aGlzLmNyZWF0ZURlZmF1bHRFZGdlU3R5bGUoKSl9Cm14U3R5bGVzaGVldC5wcm90b3R5cGUuY3JlYXRlRGVmYXVsdFZlcnRleFN0eWxlPWZ1bmN0aW9uKCl7dmFyIGE9e307YVtteENvbnN0YW50cy5TVFlMRV9TSEFQRV09bXhDb25zdGFudHMuU0hBUEVfUkVDVEFOR0xFO2FbbXhDb25zdGFudHMuU1RZTEVfUEVSSU1FVEVSXT1teFBlcmltZXRlci5SZWN0YW5nbGVQZXJpbWV0ZXI7YVtteENvbnN0YW50cy5TVFlMRV9WRVJUSUNBTF9BTElHTl09bXhDb25zdGFudHMuQUxJR05fTUlERExFO2FbbXhDb25zdGFudHMuU1RZTEVfQUxJR05dPW14Q29uc3RhbnRzLkFMSUdOX0NFTlRFUjthW214Q29uc3RhbnRzLlNUWUxFX0ZJTExDT0xPUl09IiNDM0Q5RkYiO2FbbXhDb25zdGFudHMuU1RZTEVfU1RST0tFQ09MT1JdPSIjNjQ4MkI5IjthW214Q29uc3RhbnRzLlNUWUxFX0ZPTlRDT0xPUl09IiM3NzQ0MDAiO3JldHVybiBhfTsKbXhTdHlsZXNoZWV0LnByb3RvdHlwZS5jcmVhdGVEZWZhdWx0RWRnZVN0eWxlPWZ1bmN0aW9uKCl7dmFyIGE9e307YVtteENvbnN0YW50cy5TVFlMRV9TSEFQRV09bXhDb25zdGFudHMuU0hBUEVfQ09OTkVDVE9SO2FbbXhDb25zdGFudHMuU1RZTEVfRU5EQVJST1ddPW14Q29uc3RhbnRzLkFSUk9XX0NMQVNTSUM7YVtteENvbnN0YW50cy5TVFlMRV9WRVJUSUNBTF9BTElHTl09bXhDb25zdGFudHMuQUxJR05fTUlERExFO2FbbXhDb25zdGFudHMuU1RZTEVfQUxJR05dPW14Q29uc3RhbnRzLkFMSUdOX0NFTlRFUjthW214Q29uc3RhbnRzLlNUWUxFX1NUUk9LRUNPTE9SXT0iIzY0ODJCOSI7YVtteENvbnN0YW50cy5TVFlMRV9GT05UQ09MT1JdPSIjNDQ2Mjk5IjtyZXR1cm4gYX07bXhTdHlsZXNoZWV0LnByb3RvdHlwZS5wdXREZWZhdWx0VmVydGV4U3R5bGU9ZnVuY3Rpb24oYSl7dGhpcy5wdXRDZWxsU3R5bGUoImRlZmF1bHRWZXJ0ZXgiLGEpfTsKbXhTdHlsZXNoZWV0LnByb3RvdHlwZS5wdXREZWZhdWx0RWRnZVN0eWxlPWZ1bmN0aW9uKGEpe3RoaXMucHV0Q2VsbFN0eWxlKCJkZWZhdWx0RWRnZSIsYSl9O214U3R5bGVzaGVldC5wcm90b3R5cGUuZ2V0RGVmYXVsdFZlcnRleFN0eWxlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3R5bGVzLmRlZmF1bHRWZXJ0ZXh9O214U3R5bGVzaGVldC5wcm90b3R5cGUuZ2V0RGVmYXVsdEVkZ2VTdHlsZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnN0eWxlcy5kZWZhdWx0RWRnZX07bXhTdHlsZXNoZWV0LnByb3RvdHlwZS5wdXRDZWxsU3R5bGU9ZnVuY3Rpb24oYSxiKXt0aGlzLnN0eWxlc1thXT1ifTsKbXhTdHlsZXNoZWV0LnByb3RvdHlwZS5nZXRDZWxsU3R5bGU9ZnVuY3Rpb24oYSxiKXt2YXIgYz1iO2lmKG51bGwhPWEmJjA8YS5sZW5ndGgpZm9yKHZhciBkPWEuc3BsaXQoIjsiKSxjPW51bGwhPWMmJiI7IiE9YS5jaGFyQXQoMCk/bXhVdGlscy5jbG9uZShjKTp7fSxlPTA7ZTxkLmxlbmd0aDtlKyspe3ZhciBmPWRbZV0sZz1mLmluZGV4T2YoIj0iKTtpZigwPD1nKXt2YXIgaz1mLnN1YnN0cmluZygwLGcpLGY9Zi5zdWJzdHJpbmcoZysxKTtmPT1teENvbnN0YW50cy5OT05FP2RlbGV0ZSBjW2tdOm14VXRpbHMuaXNOdW1lcmljKGYpP2Nba109cGFyc2VGbG9hdChmKTpjW2tdPWZ9ZWxzZSBpZihmPXRoaXMuc3R5bGVzW2ZdLG51bGwhPWYpZm9yKGsgaW4gZiljW2tdPWZba119cmV0dXJuIGN9OwpmdW5jdGlvbiBteENlbGxTdGF0ZShhLGIsYyl7dGhpcy52aWV3PWE7dGhpcy5jZWxsPWI7dGhpcy5zdHlsZT1udWxsIT1jP2M6e307dGhpcy5vcmlnaW49bmV3IG14UG9pbnQ7dGhpcy5hYnNvbHV0ZU9mZnNldD1uZXcgbXhQb2ludH1teENlbGxTdGF0ZS5wcm90b3R5cGU9bmV3IG14UmVjdGFuZ2xlO214Q2VsbFN0YXRlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1teENlbGxTdGF0ZTtteENlbGxTdGF0ZS5wcm90b3R5cGUudmlldz1udWxsO214Q2VsbFN0YXRlLnByb3RvdHlwZS5jZWxsPW51bGw7bXhDZWxsU3RhdGUucHJvdG90eXBlLnN0eWxlPW51bGw7bXhDZWxsU3RhdGUucHJvdG90eXBlLmludmFsaWRTdHlsZT0hMTtteENlbGxTdGF0ZS5wcm90b3R5cGUuaW52YWxpZD0hMDtteENlbGxTdGF0ZS5wcm90b3R5cGUub3JpZ2luPW51bGw7bXhDZWxsU3RhdGUucHJvdG90eXBlLmFic29sdXRlUG9pbnRzPW51bGw7bXhDZWxsU3RhdGUucHJvdG90eXBlLmFic29sdXRlT2Zmc2V0PW51bGw7Cm14Q2VsbFN0YXRlLnByb3RvdHlwZS52aXNpYmxlU291cmNlU3RhdGU9bnVsbDtteENlbGxTdGF0ZS5wcm90b3R5cGUudmlzaWJsZVRhcmdldFN0YXRlPW51bGw7bXhDZWxsU3RhdGUucHJvdG90eXBlLnRlcm1pbmFsRGlzdGFuY2U9MDtteENlbGxTdGF0ZS5wcm90b3R5cGUubGVuZ3RoPTA7bXhDZWxsU3RhdGUucHJvdG90eXBlLnNlZ21lbnRzPW51bGw7bXhDZWxsU3RhdGUucHJvdG90eXBlLnNoYXBlPW51bGw7bXhDZWxsU3RhdGUucHJvdG90eXBlLnRleHQ9bnVsbDtteENlbGxTdGF0ZS5wcm90b3R5cGUudW5zY2FsZWRXaWR0aD1udWxsO214Q2VsbFN0YXRlLnByb3RvdHlwZS51bnNjYWxlZEhlaWdodD1udWxsOwpteENlbGxTdGF0ZS5wcm90b3R5cGUuZ2V0UGVyaW1ldGVyQm91bmRzPWZ1bmN0aW9uKGEsYil7YT1hfHwwO2I9bnVsbCE9Yj9iOm5ldyBteFJlY3RhbmdsZSh0aGlzLngsdGhpcy55LHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpO2lmKG51bGwhPXRoaXMuc2hhcGUmJm51bGwhPXRoaXMuc2hhcGUuc3RlbmNpbCYmImZpeGVkIj09dGhpcy5zaGFwZS5zdGVuY2lsLmFzcGVjdCl7dmFyIGM9dGhpcy5zaGFwZS5zdGVuY2lsLmNvbXB1dGVBc3BlY3QodGhpcy5zdHlsZSxiLngsYi55LGIud2lkdGgsYi5oZWlnaHQpO2IueD1jLng7Yi55PWMueTtiLndpZHRoPXRoaXMuc2hhcGUuc3RlbmNpbC53MCpjLndpZHRoO2IuaGVpZ2h0PXRoaXMuc2hhcGUuc3RlbmNpbC5oMCpjLmhlaWdodH0wIT1hJiZiLmdyb3coYSk7cmV0dXJuIGJ9OwpteENlbGxTdGF0ZS5wcm90b3R5cGUuc2V0QWJzb2x1dGVUZXJtaW5hbFBvaW50PWZ1bmN0aW9uKGEsYil7Yj8obnVsbD09dGhpcy5hYnNvbHV0ZVBvaW50cyYmKHRoaXMuYWJzb2x1dGVQb2ludHM9W10pLDA9PXRoaXMuYWJzb2x1dGVQb2ludHMubGVuZ3RoP3RoaXMuYWJzb2x1dGVQb2ludHMucHVzaChhKTp0aGlzLmFic29sdXRlUG9pbnRzWzBdPWEpOm51bGw9PXRoaXMuYWJzb2x1dGVQb2ludHM/KHRoaXMuYWJzb2x1dGVQb2ludHM9W10sdGhpcy5hYnNvbHV0ZVBvaW50cy5wdXNoKG51bGwpLHRoaXMuYWJzb2x1dGVQb2ludHMucHVzaChhKSk6MT09dGhpcy5hYnNvbHV0ZVBvaW50cy5sZW5ndGg/dGhpcy5hYnNvbHV0ZVBvaW50cy5wdXNoKGEpOnRoaXMuYWJzb2x1dGVQb2ludHNbdGhpcy5hYnNvbHV0ZVBvaW50cy5sZW5ndGgtMV09YX07Cm14Q2VsbFN0YXRlLnByb3RvdHlwZS5zZXRDdXJzb3I9ZnVuY3Rpb24oYSl7bnVsbCE9dGhpcy5zaGFwZSYmdGhpcy5zaGFwZS5zZXRDdXJzb3IoYSk7bnVsbCE9dGhpcy50ZXh0JiZ0aGlzLnRleHQuc2V0Q3Vyc29yKGEpfTtteENlbGxTdGF0ZS5wcm90b3R5cGUuZ2V0VmlzaWJsZVRlcm1pbmFsPWZ1bmN0aW9uKGEpe2E9dGhpcy5nZXRWaXNpYmxlVGVybWluYWxTdGF0ZShhKTtyZXR1cm4gbnVsbCE9YT9hLmNlbGw6bnVsbH07bXhDZWxsU3RhdGUucHJvdG90eXBlLmdldFZpc2libGVUZXJtaW5hbFN0YXRlPWZ1bmN0aW9uKGEpe3JldHVybiBhP3RoaXMudmlzaWJsZVNvdXJjZVN0YXRlOnRoaXMudmlzaWJsZVRhcmdldFN0YXRlfTtteENlbGxTdGF0ZS5wcm90b3R5cGUuc2V0VmlzaWJsZVRlcm1pbmFsU3RhdGU9ZnVuY3Rpb24oYSxiKXtiP3RoaXMudmlzaWJsZVNvdXJjZVN0YXRlPWE6dGhpcy52aXNpYmxlVGFyZ2V0U3RhdGU9YX07Cm14Q2VsbFN0YXRlLnByb3RvdHlwZS5nZXRDZWxsQm91bmRzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2VsbEJvdW5kc307bXhDZWxsU3RhdGUucHJvdG90eXBlLmdldFBhaW50Qm91bmRzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGFpbnRCb3VuZHN9O214Q2VsbFN0YXRlLnByb3RvdHlwZS51cGRhdGVDYWNoZWRCb3VuZHM9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnZpZXcudHJhbnNsYXRlLGI9dGhpcy52aWV3LnNjYWxlO3RoaXMuY2VsbEJvdW5kcz1uZXcgbXhSZWN0YW5nbGUodGhpcy54L2ItYS54LHRoaXMueS9iLWEueSx0aGlzLndpZHRoL2IsdGhpcy5oZWlnaHQvYik7dGhpcy5wYWludEJvdW5kcz1teFJlY3RhbmdsZS5mcm9tUmVjdGFuZ2xlKHRoaXMuY2VsbEJvdW5kcyk7bnVsbCE9dGhpcy5zaGFwZSYmdGhpcy5zaGFwZS5pc1BhaW50Qm91bmRzSW52ZXJ0ZWQoKSYmdGhpcy5wYWludEJvdW5kcy5yb3RhdGU5MCgpfTsKbXhDZWxsU3RhdGUucHJvdG90eXBlLnNldFN0YXRlPWZ1bmN0aW9uKGEpe3RoaXMudmlldz1hLnZpZXc7dGhpcy5jZWxsPWEuY2VsbDt0aGlzLnN0eWxlPWEuc3R5bGU7dGhpcy5hYnNvbHV0ZVBvaW50cz1hLmFic29sdXRlUG9pbnRzO3RoaXMub3JpZ2luPWEub3JpZ2luO3RoaXMuYWJzb2x1dGVPZmZzZXQ9YS5hYnNvbHV0ZU9mZnNldDt0aGlzLmJvdW5kaW5nQm94PWEuYm91bmRpbmdCb3g7dGhpcy50ZXJtaW5hbERpc3RhbmNlPWEudGVybWluYWxEaXN0YW5jZTt0aGlzLnNlZ21lbnRzPWEuc2VnbWVudHM7dGhpcy5sZW5ndGg9YS5sZW5ndGg7dGhpcy54PWEueDt0aGlzLnk9YS55O3RoaXMud2lkdGg9YS53aWR0aDt0aGlzLmhlaWdodD1hLmhlaWdodDt0aGlzLnVuc2NhbGVkV2lkdGg9YS51bnNjYWxlZFdpZHRoO3RoaXMudW5zY2FsZWRIZWlnaHQ9YS51bnNjYWxlZEhlaWdodH07Cm14Q2VsbFN0YXRlLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW5ldyBteENlbGxTdGF0ZSh0aGlzLnZpZXcsdGhpcy5jZWxsLHRoaXMuc3R5bGUpO2lmKG51bGwhPXRoaXMuYWJzb2x1dGVQb2ludHMpe2EuYWJzb2x1dGVQb2ludHM9W107Zm9yKHZhciBiPTA7Yjx0aGlzLmFic29sdXRlUG9pbnRzLmxlbmd0aDtiKyspYS5hYnNvbHV0ZVBvaW50c1tiXT10aGlzLmFic29sdXRlUG9pbnRzW2JdLmNsb25lKCl9bnVsbCE9dGhpcy5vcmlnaW4mJihhLm9yaWdpbj10aGlzLm9yaWdpbi5jbG9uZSgpKTtudWxsIT10aGlzLmFic29sdXRlT2Zmc2V0JiYoYS5hYnNvbHV0ZU9mZnNldD10aGlzLmFic29sdXRlT2Zmc2V0LmNsb25lKCkpO251bGwhPXRoaXMuYm91bmRpbmdCb3gmJihhLmJvdW5kaW5nQm94PXRoaXMuYm91bmRpbmdCb3guY2xvbmUoKSk7YS50ZXJtaW5hbERpc3RhbmNlPXRoaXMudGVybWluYWxEaXN0YW5jZTthLnNlZ21lbnRzPXRoaXMuc2VnbWVudHM7YS5sZW5ndGg9CnRoaXMubGVuZ3RoO2EueD10aGlzLng7YS55PXRoaXMueTthLndpZHRoPXRoaXMud2lkdGg7YS5oZWlnaHQ9dGhpcy5oZWlnaHQ7YS51bnNjYWxlZFdpZHRoPXRoaXMudW5zY2FsZWRXaWR0aDthLnVuc2NhbGVkSGVpZ2h0PXRoaXMudW5zY2FsZWRIZWlnaHQ7cmV0dXJuIGF9O214Q2VsbFN0YXRlLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy52aWV3LmdyYXBoLmNlbGxSZW5kZXJlci5kZXN0cm95KHRoaXMpfTtmdW5jdGlvbiBteEdyYXBoU2VsZWN0aW9uTW9kZWwoYSl7dGhpcy5ncmFwaD1hO3RoaXMuY2VsbHM9W119bXhHcmFwaFNlbGVjdGlvbk1vZGVsLnByb3RvdHlwZT1uZXcgbXhFdmVudFNvdXJjZTtteEdyYXBoU2VsZWN0aW9uTW9kZWwucHJvdG90eXBlLmNvbnN0cnVjdG9yPW14R3JhcGhTZWxlY3Rpb25Nb2RlbDtteEdyYXBoU2VsZWN0aW9uTW9kZWwucHJvdG90eXBlLmRvbmVSZXNvdXJjZT0ibm9uZSIhPW14Q2xpZW50Lmxhbmd1YWdlPyJkb25lIjoiIjsKbXhHcmFwaFNlbGVjdGlvbk1vZGVsLnByb3RvdHlwZS51cGRhdGluZ1NlbGVjdGlvblJlc291cmNlPSJub25lIiE9bXhDbGllbnQubGFuZ3VhZ2U/InVwZGF0aW5nU2VsZWN0aW9uIjoiIjtteEdyYXBoU2VsZWN0aW9uTW9kZWwucHJvdG90eXBlLmdyYXBoPW51bGw7bXhHcmFwaFNlbGVjdGlvbk1vZGVsLnByb3RvdHlwZS5zaW5nbGVTZWxlY3Rpb249ITE7bXhHcmFwaFNlbGVjdGlvbk1vZGVsLnByb3RvdHlwZS5pc1NpbmdsZVNlbGVjdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNpbmdsZVNlbGVjdGlvbn07bXhHcmFwaFNlbGVjdGlvbk1vZGVsLnByb3RvdHlwZS5zZXRTaW5nbGVTZWxlY3Rpb249ZnVuY3Rpb24oYSl7dGhpcy5zaW5nbGVTZWxlY3Rpb249YX07bXhHcmFwaFNlbGVjdGlvbk1vZGVsLnByb3RvdHlwZS5pc1NlbGVjdGVkPWZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hPzA8PW14VXRpbHMuaW5kZXhPZih0aGlzLmNlbGxzLGEpOiExfTsKbXhHcmFwaFNlbGVjdGlvbk1vZGVsLnByb3RvdHlwZS5pc0VtcHR5PWZ1bmN0aW9uKCl7cmV0dXJuIDA9PXRoaXMuY2VsbHMubGVuZ3RofTtteEdyYXBoU2VsZWN0aW9uTW9kZWwucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dGhpcy5jaGFuZ2VTZWxlY3Rpb24obnVsbCx0aGlzLmNlbGxzKX07bXhHcmFwaFNlbGVjdGlvbk1vZGVsLnByb3RvdHlwZS5zZXRDZWxsPWZ1bmN0aW9uKGEpe251bGwhPWEmJnRoaXMuc2V0Q2VsbHMoW2FdKX07bXhHcmFwaFNlbGVjdGlvbk1vZGVsLnByb3RvdHlwZS5zZXRDZWxscz1mdW5jdGlvbihhKXtpZihudWxsIT1hKXt0aGlzLnNpbmdsZVNlbGVjdGlvbiYmKGE9W3RoaXMuZ2V0Rmlyc3RTZWxlY3RhYmxlQ2VsbChhKV0pO2Zvcih2YXIgYj1bXSxjPTA7YzxhLmxlbmd0aDtjKyspdGhpcy5ncmFwaC5pc0NlbGxTZWxlY3RhYmxlKGFbY10pJiZiLnB1c2goYVtjXSk7dGhpcy5jaGFuZ2VTZWxlY3Rpb24oYix0aGlzLmNlbGxzKX19OwpteEdyYXBoU2VsZWN0aW9uTW9kZWwucHJvdG90eXBlLmdldEZpcnN0U2VsZWN0YWJsZUNlbGw9ZnVuY3Rpb24oYSl7aWYobnVsbCE9YSlmb3IodmFyIGI9MDtiPGEubGVuZ3RoO2IrKylpZih0aGlzLmdyYXBoLmlzQ2VsbFNlbGVjdGFibGUoYVtiXSkpcmV0dXJuIGFbYl07cmV0dXJuIG51bGx9O214R3JhcGhTZWxlY3Rpb25Nb2RlbC5wcm90b3R5cGUuYWRkQ2VsbD1mdW5jdGlvbihhKXtudWxsIT1hJiZ0aGlzLmFkZENlbGxzKFthXSl9OwpteEdyYXBoU2VsZWN0aW9uTW9kZWwucHJvdG90eXBlLmFkZENlbGxzPWZ1bmN0aW9uKGEpe2lmKG51bGwhPWEpe3ZhciBiPW51bGw7dGhpcy5zaW5nbGVTZWxlY3Rpb24mJihiPXRoaXMuY2VsbHMsYT1bdGhpcy5nZXRGaXJzdFNlbGVjdGFibGVDZWxsKGEpXSk7Zm9yKHZhciBjPVtdLGQ9MDtkPGEubGVuZ3RoO2QrKykhdGhpcy5pc1NlbGVjdGVkKGFbZF0pJiZ0aGlzLmdyYXBoLmlzQ2VsbFNlbGVjdGFibGUoYVtkXSkmJmMucHVzaChhW2RdKTt0aGlzLmNoYW5nZVNlbGVjdGlvbihjLGIpfX07bXhHcmFwaFNlbGVjdGlvbk1vZGVsLnByb3RvdHlwZS5yZW1vdmVDZWxsPWZ1bmN0aW9uKGEpe251bGwhPWEmJnRoaXMucmVtb3ZlQ2VsbHMoW2FdKX07Cm14R3JhcGhTZWxlY3Rpb25Nb2RlbC5wcm90b3R5cGUucmVtb3ZlQ2VsbHM9ZnVuY3Rpb24oYSl7aWYobnVsbCE9YSl7Zm9yKHZhciBiPVtdLGM9MDtjPGEubGVuZ3RoO2MrKyl0aGlzLmlzU2VsZWN0ZWQoYVtjXSkmJmIucHVzaChhW2NdKTt0aGlzLmNoYW5nZVNlbGVjdGlvbihudWxsLGIpfX07bXhHcmFwaFNlbGVjdGlvbk1vZGVsLnByb3RvdHlwZS5jaGFuZ2VTZWxlY3Rpb249ZnVuY3Rpb24oYSxiKXtpZihudWxsIT1hJiYwPGEubGVuZ3RoJiZudWxsIT1hWzBdfHxudWxsIT1iJiYwPGIubGVuZ3RoJiZudWxsIT1iWzBdKXt2YXIgYz1uZXcgbXhTZWxlY3Rpb25DaGFuZ2UodGhpcyxhLGIpO2MuZXhlY3V0ZSgpO3ZhciBkPW5ldyBteFVuZG9hYmxlRWRpdCh0aGlzLCExKTtkLmFkZChjKTt0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LlVORE8sImVkaXQiLGQpKX19OwpteEdyYXBoU2VsZWN0aW9uTW9kZWwucHJvdG90eXBlLmNlbGxBZGRlZD1mdW5jdGlvbihhKXtudWxsPT1hfHx0aGlzLmlzU2VsZWN0ZWQoYSl8fHRoaXMuY2VsbHMucHVzaChhKX07bXhHcmFwaFNlbGVjdGlvbk1vZGVsLnByb3RvdHlwZS5jZWxsUmVtb3ZlZD1mdW5jdGlvbihhKXtudWxsIT1hJiYoYT1teFV0aWxzLmluZGV4T2YodGhpcy5jZWxscyxhKSwwPD1hJiZ0aGlzLmNlbGxzLnNwbGljZShhLDEpKX07ZnVuY3Rpb24gbXhTZWxlY3Rpb25DaGFuZ2UoYSxiLGMpe3RoaXMuc2VsZWN0aW9uTW9kZWw9YTt0aGlzLmFkZGVkPW51bGwhPWI/Yi5zbGljZSgpOm51bGw7dGhpcy5yZW1vdmVkPW51bGwhPWM/Yy5zbGljZSgpOm51bGx9Cm14U2VsZWN0aW9uQ2hhbmdlLnByb3RvdHlwZS5leGVjdXRlPWZ1bmN0aW9uKCl7dmFyIGE9bXhMb2cuZW50ZXIoIm14U2VsZWN0aW9uQ2hhbmdlLmV4ZWN1dGUiKTt3aW5kb3cuc3RhdHVzPW14UmVzb3VyY2VzLmdldCh0aGlzLnNlbGVjdGlvbk1vZGVsLnVwZGF0aW5nU2VsZWN0aW9uUmVzb3VyY2UpfHx0aGlzLnNlbGVjdGlvbk1vZGVsLnVwZGF0aW5nU2VsZWN0aW9uUmVzb3VyY2U7aWYobnVsbCE9dGhpcy5yZW1vdmVkKWZvcih2YXIgYj0wO2I8dGhpcy5yZW1vdmVkLmxlbmd0aDtiKyspdGhpcy5zZWxlY3Rpb25Nb2RlbC5jZWxsUmVtb3ZlZCh0aGlzLnJlbW92ZWRbYl0pO2lmKG51bGwhPXRoaXMuYWRkZWQpZm9yKGI9MDtiPHRoaXMuYWRkZWQubGVuZ3RoO2IrKyl0aGlzLnNlbGVjdGlvbk1vZGVsLmNlbGxBZGRlZCh0aGlzLmFkZGVkW2JdKTtiPXRoaXMuYWRkZWQ7dGhpcy5hZGRlZD10aGlzLnJlbW92ZWQ7dGhpcy5yZW1vdmVkPWI7d2luZG93LnN0YXR1cz1teFJlc291cmNlcy5nZXQodGhpcy5zZWxlY3Rpb25Nb2RlbC5kb25lUmVzb3VyY2UpfHwKdGhpcy5zZWxlY3Rpb25Nb2RlbC5kb25lUmVzb3VyY2U7bXhMb2cubGVhdmUoIm14U2VsZWN0aW9uQ2hhbmdlLmV4ZWN1dGUiLGEpO3RoaXMuc2VsZWN0aW9uTW9kZWwuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KG14RXZlbnQuQ0hBTkdFLCJhZGRlZCIsdGhpcy5hZGRlZCwicmVtb3ZlZCIsdGhpcy5yZW1vdmVkKSl9OwpmdW5jdGlvbiBteENlbGxFZGl0b3IoYSl7dGhpcy5ncmFwaD1hO3RoaXMuem9vbUhhbmRsZXI9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt0aGlzLmdyYXBoLmlzRWRpdGluZygpJiZ0aGlzLnJlc2l6ZSgpfSk7dGhpcy5ncmFwaC52aWV3LmFkZExpc3RlbmVyKG14RXZlbnQuU0NBTEUsdGhpcy56b29tSGFuZGxlcik7dGhpcy5ncmFwaC52aWV3LmFkZExpc3RlbmVyKG14RXZlbnQuU0NBTEVfQU5EX1RSQU5TTEFURSx0aGlzLnpvb21IYW5kbGVyKTt0aGlzLmNoYW5nZUhhbmRsZXI9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7bnVsbCE9dGhpcy5lZGl0aW5nQ2VsbCYmbnVsbD09dGhpcy5ncmFwaC5nZXRWaWV3KCkuZ2V0U3RhdGUodGhpcy5lZGl0aW5nQ2VsbCkmJnRoaXMuc3RvcEVkaXRpbmcoITApfSk7dGhpcy5ncmFwaC5nZXRNb2RlbCgpLmFkZExpc3RlbmVyKG14RXZlbnQuQ0hBTkdFLHRoaXMuY2hhbmdlSGFuZGxlcil9Cm14Q2VsbEVkaXRvci5wcm90b3R5cGUuZ3JhcGg9bnVsbDtteENlbGxFZGl0b3IucHJvdG90eXBlLnRleHRhcmVhPW51bGw7bXhDZWxsRWRpdG9yLnByb3RvdHlwZS5lZGl0aW5nQ2VsbD1udWxsO214Q2VsbEVkaXRvci5wcm90b3R5cGUudHJpZ2dlcj1udWxsO214Q2VsbEVkaXRvci5wcm90b3R5cGUubW9kaWZpZWQ9ITE7bXhDZWxsRWRpdG9yLnByb3RvdHlwZS5hdXRvU2l6ZT0hMDtteENlbGxFZGl0b3IucHJvdG90eXBlLnNlbGVjdFRleHQ9ITA7bXhDZWxsRWRpdG9yLnByb3RvdHlwZS5lbXB0eUxhYmVsVGV4dD1teENsaWVudC5JU19GRj8iPGJyPiI6IiI7bXhDZWxsRWRpdG9yLnByb3RvdHlwZS5lc2NhcGVDYW5jZWxzRWRpdGluZz0hMDtteENlbGxFZGl0b3IucHJvdG90eXBlLnRleHROb2RlPSIiO214Q2VsbEVkaXRvci5wcm90b3R5cGUuekluZGV4PTU7bXhDZWxsRWRpdG9yLnByb3RvdHlwZS5taW5SZXNpemU9bmV3IG14UmVjdGFuZ2xlKDAsMjApOwpteENlbGxFZGl0b3IucHJvdG90eXBlLndvcmRXcmFwUGFkZGluZz1teENsaWVudC5JU19RVUlSS1M/MjpteENsaWVudC5JU19JRTExPzA6MTtteENlbGxFZGl0b3IucHJvdG90eXBlLmJsdXJFbmFibGVkPSExO214Q2VsbEVkaXRvci5wcm90b3R5cGUuaW5pdGlhbFZhbHVlPW51bGw7bXhDZWxsRWRpdG9yLnByb3RvdHlwZS5hbGlnbj1udWxsO214Q2VsbEVkaXRvci5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbigpe3RoaXMudGV4dGFyZWE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7dGhpcy50ZXh0YXJlYS5jbGFzc05hbWU9Im14Q2VsbEVkaXRvciBteFBsYWluVGV4dEVkaXRvciI7dGhpcy50ZXh0YXJlYS5jb250ZW50RWRpdGFibGU9ITA7bXhDbGllbnQuSVNfR0MmJih0aGlzLnRleHRhcmVhLnN0eWxlLm1pbkhlaWdodD0iMWVtIik7dGhpcy50ZXh0YXJlYS5zdHlsZS5wb3NpdGlvbj10aGlzLmlzTGVnYWN5RWRpdG9yKCk/ImFic29sdXRlIjoicmVsYXRpdmUiO3RoaXMuaW5zdGFsbExpc3RlbmVycyh0aGlzLnRleHRhcmVhKX07Cm14Q2VsbEVkaXRvci5wcm90b3R5cGUuYXBwbHlWYWx1ZT1mdW5jdGlvbihhLGIpe3RoaXMuZ3JhcGgubGFiZWxDaGFuZ2VkKGEuY2VsbCxiLHRoaXMudHJpZ2dlcil9O214Q2VsbEVkaXRvci5wcm90b3R5cGUuc2V0QWxpZ249ZnVuY3Rpb24oYSl7bnVsbCE9dGhpcy50ZXh0YXJlYSYmKHRoaXMudGV4dGFyZWEuc3R5bGUudGV4dEFsaWduPWEpO3RoaXMuYWxpZ249YTt0aGlzLnJlc2l6ZSgpfTsKbXhDZWxsRWRpdG9yLnByb3RvdHlwZS5nZXRJbml0aWFsVmFsdWU9ZnVuY3Rpb24oYSxiKXt2YXIgYz1teFV0aWxzLmh0bWxFbnRpdGllcyh0aGlzLmdyYXBoLmdldEVkaXRpbmdWYWx1ZShhLmNlbGwsYiksITEpO214Q2xpZW50LklTX1FVSVJLU3x8OD09ZG9jdW1lbnQuZG9jdW1lbnRNb2RlfHw5PT1kb2N1bWVudC5kb2N1bWVudE1vZGV8fDEwPT1kb2N1bWVudC5kb2N1bWVudE1vZGV8fChjPW14VXRpbHMucmVwbGFjZVRyYWlsaW5nTmV3bGluZXMoYywiPGRpdj48YnI+PC9kaXY+IikpO3JldHVybiBjLnJlcGxhY2UoL1xuL2csIjxicj4iKX07bXhDZWxsRWRpdG9yLnByb3RvdHlwZS5nZXRDdXJyZW50VmFsdWU9ZnVuY3Rpb24oYSl7cmV0dXJuIG14VXRpbHMuZXh0cmFjdFRleHRXaXRoV2hpdGVzcGFjZSh0aGlzLnRleHRhcmVhLmNoaWxkTm9kZXMpfTsKbXhDZWxsRWRpdG9yLnByb3RvdHlwZS5pc0NhbmNlbEVkaXRpbmdLZXlFdmVudD1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5lc2NhcGVDYW5jZWxzRWRpdGluZ3x8bXhFdmVudC5pc1NoaWZ0RG93bihhKXx8bXhFdmVudC5pc0NvbnRyb2xEb3duKGEpfHxteEV2ZW50LmlzTWV0YURvd24oYSl9OwpteENlbGxFZGl0b3IucHJvdG90eXBlLmluc3RhbGxMaXN0ZW5lcnM9ZnVuY3Rpb24oYSl7bXhFdmVudC5hZGRMaXN0ZW5lcihhLCJkcmFnc3RhcnQiLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3RoaXMuZ3JhcGguc3RvcEVkaXRpbmcoITEpO214RXZlbnQuY29uc3VtZShhKX0pKTtteEV2ZW50LmFkZExpc3RlbmVyKGEsImJsdXIiLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3RoaXMuYmx1ckVuYWJsZWQmJnRoaXMuZm9jdXNMb3N0KGEpfSkpO214RXZlbnQuYWRkTGlzdGVuZXIoYSwia2V5ZG93biIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7bXhFdmVudC5pc0NvbnN1bWVkKGEpfHwodGhpcy5pc1N0b3BFZGl0aW5nRXZlbnQoYSk/KHRoaXMuZ3JhcGguc3RvcEVkaXRpbmcoITEpLG14RXZlbnQuY29uc3VtZShhKSk6Mjc9PWEua2V5Q29kZSYmKHRoaXMuZ3JhcGguc3RvcEVkaXRpbmcodGhpcy5pc0NhbmNlbEVkaXRpbmdLZXlFdmVudChhKSksbXhFdmVudC5jb25zdW1lKGEpKSl9KSk7CnZhciBiPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGIpe251bGwhPXRoaXMuZWRpdGluZ0NlbGwmJnRoaXMuY2xlYXJPbkNoYW5nZSYmYS5pbm5lckhUTUw9PXRoaXMuZ2V0RW1wdHlMYWJlbFRleHQoKSYmKCFteENsaWVudC5JU19GRnx8OCE9Yi5rZXlDb2RlJiY0NiE9Yi5rZXlDb2RlKSYmKHRoaXMuY2xlYXJPbkNoYW5nZT0hMSxhLmlubmVySFRNTD0iIil9KTtteEV2ZW50LmFkZExpc3RlbmVyKGEsImtleXByZXNzIixiKTtteEV2ZW50LmFkZExpc3RlbmVyKGEsInBhc3RlIixiKTtiPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe251bGwhPXRoaXMuZWRpdGluZ0NlbGwmJigwPT10aGlzLnRleHRhcmVhLmlubmVySFRNTC5sZW5ndGh8fCI8YnI+Ij09dGhpcy50ZXh0YXJlYS5pbm5lckhUTUw/KHRoaXMudGV4dGFyZWEuaW5uZXJIVE1MPXRoaXMuZ2V0RW1wdHlMYWJlbFRleHQoKSx0aGlzLmNsZWFyT25DaGFuZ2U9MDx0aGlzLnRleHRhcmVhLmlubmVySFRNTC5sZW5ndGgpOgp0aGlzLmNsZWFyT25DaGFuZ2U9ITEpfSk7bXhFdmVudC5hZGRMaXN0ZW5lcihhLG14Q2xpZW50LklTX0lFMTF8fG14Q2xpZW50LklTX0lFPyJrZXl1cCI6ImlucHV0IixiKTtteEV2ZW50LmFkZExpc3RlbmVyKGEsImN1dCIsYik7bXhFdmVudC5hZGRMaXN0ZW5lcihhLCJwYXN0ZSIsYik7dmFyIGI9bXhDbGllbnQuSVNfSUUxMXx8bXhDbGllbnQuSVNfSUU/ImtleWRvd24iOiJpbnB1dCIsYz1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXtudWxsIT10aGlzLmVkaXRpbmdDZWxsJiZ0aGlzLmF1dG9TaXplJiYhbXhFdmVudC5pc0NvbnN1bWVkKGEpJiYobnVsbCE9dGhpcy5yZXNpemVUaHJlYWQmJndpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5yZXNpemVUaHJlYWQpLHRoaXMucmVzaXplVGhyZWFkPXdpbmRvdy5zZXRUaW1lb3V0KG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dGhpcy5yZXNpemVUaHJlYWQ9bnVsbDt0aGlzLnJlc2l6ZSgpfSksMCkpfSk7bXhFdmVudC5hZGRMaXN0ZW5lcihhLApiLGMpO214RXZlbnQuYWRkTGlzdGVuZXIod2luZG93LCJyZXNpemUiLGMpOzk8PWRvY3VtZW50LmRvY3VtZW50TW9kZT8obXhFdmVudC5hZGRMaXN0ZW5lcihhLCJET01Ob2RlUmVtb3ZlZCIsYyksbXhFdmVudC5hZGRMaXN0ZW5lcihhLCJET01Ob2RlSW5zZXJ0ZWQiLGMpKToobXhFdmVudC5hZGRMaXN0ZW5lcihhLCJjdXQiLGMpLG14RXZlbnQuYWRkTGlzdGVuZXIoYSwicGFzdGUiLGMpKX07bXhDZWxsRWRpdG9yLnByb3RvdHlwZS5pc1N0b3BFZGl0aW5nRXZlbnQ9ZnVuY3Rpb24oYSl7cmV0dXJuIDExMz09YS5rZXlDb2RlfHx0aGlzLmdyYXBoLmlzRW50ZXJTdG9wc0NlbGxFZGl0aW5nKCkmJjEzPT1hLmtleUNvZGUmJiFteEV2ZW50LmlzQ29udHJvbERvd24oYSkmJiFteEV2ZW50LmlzU2hpZnREb3duKGEpfTtteENlbGxFZGl0b3IucHJvdG90eXBlLmlzRXZlbnRTb3VyY2U9ZnVuY3Rpb24oYSl7cmV0dXJuIG14RXZlbnQuZ2V0U291cmNlKGEpPT10aGlzLnRleHRhcmVhfTsKbXhDZWxsRWRpdG9yLnByb3RvdHlwZS5yZXNpemU9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdyYXBoLmdldFZpZXcoKS5nZXRTdGF0ZSh0aGlzLmVkaXRpbmdDZWxsKTtpZihudWxsPT1hKXRoaXMuc3RvcEVkaXRpbmcoITApO2Vsc2UgaWYobnVsbCE9dGhpcy50ZXh0YXJlYSl7dmFyIGI9dGhpcy5ncmFwaC5nZXRNb2RlbCgpLmlzRWRnZShhLmNlbGwpLGM9dGhpcy5ncmFwaC5nZXRWaWV3KCkuc2NhbGUsZD1udWxsO2lmKHRoaXMuYXV0b1NpemUmJiJmaWxsIiE9YS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9PVkVSRkxPV10pe3ZhciBlPW14VXRpbHMuZ2V0VmFsdWUoYS5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9MQUJFTF9XSURUSCxudWxsKSxkPW51bGwhPWEudGV4dCYmbnVsbD09dGhpcy5hbGlnbj9hLnRleHQubWFyZ2luOm51bGw7bnVsbD09ZCYmKGQ9bXhVdGlscy5nZXRBbGlnbm1lbnRBc1BvaW50KHRoaXMuYWxpZ258fG14VXRpbHMuZ2V0VmFsdWUoYS5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9BTElHTiwKbXhDb25zdGFudHMuQUxJR05fQ0VOVEVSKSxteFV0aWxzLmdldFZhbHVlKGEuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfVkVSVElDQUxfQUxJR04sbXhDb25zdGFudHMuQUxJR05fTUlERExFKSkpO2lmKGIpdGhpcy5ib3VuZHM9bmV3IG14UmVjdGFuZ2xlKGEuYWJzb2x1dGVPZmZzZXQueCxhLmFic29sdXRlT2Zmc2V0LnksMCwwKSxudWxsIT1lJiYoZT0ocGFyc2VGbG9hdChlKSsyKSpjLHRoaXMuYm91bmRzLndpZHRoPWUsdGhpcy5ib3VuZHMueCs9ZC54KmUpO2Vsc2V7dmFyIGI9bXhSZWN0YW5nbGUuZnJvbVJlY3RhbmdsZShhKSxmPW14VXRpbHMuZ2V0VmFsdWUoYS5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9MQUJFTF9QT1NJVElPTixteENvbnN0YW50cy5BTElHTl9DRU5URVIpLGc9bXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX1ZFUlRJQ0FMX0xBQkVMX1BPU0lUSU9OLG14Q29uc3RhbnRzLkFMSUdOX01JRERMRSksYj1udWxsIT1hLnNoYXBlJiZmPT0KbXhDb25zdGFudHMuQUxJR05fQ0VOVEVSJiZnPT1teENvbnN0YW50cy5BTElHTl9NSURETEU/YS5zaGFwZS5nZXRMYWJlbEJvdW5kcyhiKTpiO251bGwhPWUmJihiLndpZHRoPXBhcnNlRmxvYXQoZSkqYyk7aWYoIWEudmlldy5ncmFwaC5jZWxsUmVuZGVyZXIubGVnYWN5U3BhY2luZ3x8IndpZHRoIiE9YS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9PVkVSRkxPV10pdmFyIGY9cGFyc2VJbnQoYS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9TUEFDSU5HXXx8MikqYyxrPShwYXJzZUludChhLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX1NQQUNJTkdfVE9QXXx8MCkrbXhUZXh0LnByb3RvdHlwZS5iYXNlU3BhY2luZ1RvcCkqYytmLGw9KHBhcnNlSW50KGEuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfU1BBQ0lOR19SSUdIVF18fDApK214VGV4dC5wcm90b3R5cGUuYmFzZVNwYWNpbmdSaWdodCkqYytmLG09KHBhcnNlSW50KGEuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfU1BBQ0lOR19CT1RUT01dfHwKMCkrbXhUZXh0LnByb3RvdHlwZS5iYXNlU3BhY2luZ0JvdHRvbSkqYytmLG49KHBhcnNlSW50KGEuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfU1BBQ0lOR19MRUZUXXx8MCkrbXhUZXh0LnByb3RvdHlwZS5iYXNlU3BhY2luZ0xlZnQpKmMrZixmPW14VXRpbHMuZ2V0VmFsdWUoYS5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9MQUJFTF9QT1NJVElPTixteENvbnN0YW50cy5BTElHTl9DRU5URVIpLGc9bXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX1ZFUlRJQ0FMX0xBQkVMX1BPU0lUSU9OLG14Q29uc3RhbnRzLkFMSUdOX01JRERMRSksYj1uZXcgbXhSZWN0YW5nbGUoYi54K24sYi55K2ssYi53aWR0aC0oZj09bXhDb25zdGFudHMuQUxJR05fQ0VOVEVSJiZudWxsPT1lP24rbDowKSxiLmhlaWdodC0oZz09bXhDb25zdGFudHMuQUxJR05fTUlERExFP2srbTowKSk7dGhpcy5ib3VuZHM9bmV3IG14UmVjdGFuZ2xlKGIueCthLmFic29sdXRlT2Zmc2V0LngsYi55KwphLmFic29sdXRlT2Zmc2V0LnksYi53aWR0aCxiLmhlaWdodCl9dGhpcy5ncmFwaC5pc1dyYXBwaW5nKGEuY2VsbCkmJigyPD10aGlzLmJvdW5kcy53aWR0aHx8Mjw9dGhpcy5ib3VuZHMuaGVpZ2h0KSYmdGhpcy50ZXh0YXJlYS5pbm5lckhUTUwhPXRoaXMuZ2V0RW1wdHlMYWJlbFRleHQoKT8odGhpcy50ZXh0YXJlYS5zdHlsZS53b3JkV3JhcD1teENvbnN0YW50cy5XT1JEX1dSQVAsdGhpcy50ZXh0YXJlYS5zdHlsZS53aGl0ZVNwYWNlPSJub3JtYWwiLGU9TWF0aC5yb3VuZCh0aGlzLmJvdW5kcy53aWR0aC9jKSt0aGlzLndvcmRXcmFwUGFkZGluZywicmVsYXRpdmUiIT10aGlzLnRleHRhcmVhLnN0eWxlLnBvc2l0aW9uPyh0aGlzLnRleHRhcmVhLnN0eWxlLndpZHRoPWUrInB4Iix0aGlzLnRleHRhcmVhLnNjcm9sbFdpZHRoPmUmJih0aGlzLnRleHRhcmVhLnN0eWxlLndpZHRoPXRoaXMudGV4dGFyZWEuc2Nyb2xsV2lkdGgrInB4IikpOnRoaXMudGV4dGFyZWEuc3R5bGUubWF4V2lkdGg9CmUrInB4Iik6KHRoaXMudGV4dGFyZWEuc3R5bGUud2hpdGVTcGFjZT0ibm93cmFwIix0aGlzLnRleHRhcmVhLnN0eWxlLndpZHRoPSIiKTs4PT1kb2N1bWVudC5kb2N1bWVudE1vZGUmJih0aGlzLnRleHRhcmVhLnN0eWxlLnpvb209IjEiLHRoaXMudGV4dGFyZWEuc3R5bGUuaGVpZ2h0PSJhdXRvIik7YT10aGlzLnRleHRhcmVhLnNjcm9sbFdpZHRoO2U9dGhpcy50ZXh0YXJlYS5zY3JvbGxIZWlnaHQ7OD09ZG9jdW1lbnQuZG9jdW1lbnRNb2RlPyh0aGlzLnRleHRhcmVhLnN0eWxlLmxlZnQ9TWF0aC5tYXgoMCxNYXRoLmNlaWwoKHRoaXMuYm91bmRzLngtZC54Kih0aGlzLmJvdW5kcy53aWR0aC0oYSsxKSpjKSthKihjLTEpKjArMiooZC54Ky41KSkvYykpKyJweCIsdGhpcy50ZXh0YXJlYS5zdHlsZS50b3A9TWF0aC5tYXgoMCxNYXRoLmNlaWwoKHRoaXMuYm91bmRzLnktZC55Kih0aGlzLmJvdW5kcy5oZWlnaHQtKGUrLjUpKmMpK2UqKGMtMSkqMCsxKk1hdGguYWJzKGQueSsuNSkpLwpjKSkrInB4Iix0aGlzLnRleHRhcmVhLnN0eWxlLndpZHRoPU1hdGgucm91bmQoYSpjKSsicHgiLHRoaXMudGV4dGFyZWEuc3R5bGUuaGVpZ2h0PU1hdGgucm91bmQoZSpjKSsicHgiKTpteENsaWVudC5JU19RVUlSS1M/KHRoaXMudGV4dGFyZWEuc3R5bGUubGVmdD1NYXRoLm1heCgwLE1hdGguY2VpbCh0aGlzLmJvdW5kcy54LWQueCoodGhpcy5ib3VuZHMud2lkdGgtKGErMSkqYykrYSooYy0xKSowKzIqKGQueCsuNSkpKSsicHgiLHRoaXMudGV4dGFyZWEuc3R5bGUudG9wPU1hdGgubWF4KDAsTWF0aC5jZWlsKHRoaXMuYm91bmRzLnktZC55Kih0aGlzLmJvdW5kcy5oZWlnaHQtKGUrLjUpKmMpK2UqKGMtMSkqMCsxKk1hdGguYWJzKGQueSsuNSkpKSsicHgiKToodGhpcy50ZXh0YXJlYS5zdHlsZS5sZWZ0PU1hdGgubWF4KDAsTWF0aC5yb3VuZCh0aGlzLmJvdW5kcy54LWQueCoodGhpcy5ib3VuZHMud2lkdGgtMikpKzEpKyJweCIsdGhpcy50ZXh0YXJlYS5zdHlsZS50b3A9TWF0aC5tYXgoMCwKTWF0aC5yb3VuZCh0aGlzLmJvdW5kcy55LWQueSoodGhpcy5ib3VuZHMuaGVpZ2h0LTQpKygtMT09ZC55PzM6MCkpKzEpKyJweCIpfWVsc2UgdGhpcy5ib3VuZHM9dGhpcy5nZXRFZGl0b3JCb3VuZHMoYSksdGhpcy50ZXh0YXJlYS5zdHlsZS53aWR0aD1NYXRoLnJvdW5kKHRoaXMuYm91bmRzLndpZHRoL2MpKyJweCIsdGhpcy50ZXh0YXJlYS5zdHlsZS5oZWlnaHQ9TWF0aC5yb3VuZCh0aGlzLmJvdW5kcy5oZWlnaHQvYykrInB4Iiw4PT1kb2N1bWVudC5kb2N1bWVudE1vZGV8fG14Q2xpZW50LklTX1FVSVJLUz8odGhpcy50ZXh0YXJlYS5zdHlsZS5sZWZ0PU1hdGgucm91bmQodGhpcy5ib3VuZHMueCkrInB4Iix0aGlzLnRleHRhcmVhLnN0eWxlLnRvcD1NYXRoLnJvdW5kKHRoaXMuYm91bmRzLnkpKyJweCIpOih0aGlzLnRleHRhcmVhLnN0eWxlLmxlZnQ9TWF0aC5tYXgoMCxNYXRoLnJvdW5kKHRoaXMuYm91bmRzLngrMSkpKyJweCIsdGhpcy50ZXh0YXJlYS5zdHlsZS50b3A9TWF0aC5tYXgoMCwKTWF0aC5yb3VuZCh0aGlzLmJvdW5kcy55KzEpKSsicHgiKSx0aGlzLmdyYXBoLmlzV3JhcHBpbmcoYS5jZWxsKSYmKDI8PXRoaXMuYm91bmRzLndpZHRofHwyPD10aGlzLmJvdW5kcy5oZWlnaHQpJiZ0aGlzLnRleHRhcmVhLmlubmVySFRNTCE9dGhpcy5nZXRFbXB0eUxhYmVsVGV4dCgpPyh0aGlzLnRleHRhcmVhLnN0eWxlLndvcmRXcmFwPW14Q29uc3RhbnRzLldPUkRfV1JBUCx0aGlzLnRleHRhcmVhLnN0eWxlLndoaXRlU3BhY2U9Im5vcm1hbCIsImZpbGwiIT1hLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX09WRVJGTE9XXSYmKHRoaXMudGV4dGFyZWEuc3R5bGUud2lkdGg9TWF0aC5yb3VuZCh0aGlzLmJvdW5kcy53aWR0aC9jKSt0aGlzLndvcmRXcmFwUGFkZGluZysicHgiKSk6KHRoaXMudGV4dGFyZWEuc3R5bGUud2hpdGVTcGFjZT0ibm93cmFwIiwiZmlsbCIhPWEuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfT1ZFUkZMT1ddJiYodGhpcy50ZXh0YXJlYS5zdHlsZS53aWR0aD0iIikpOwpteENsaWVudC5JU19WTUw/dGhpcy50ZXh0YXJlYS5zdHlsZS56b29tPWM6KG14VXRpbHMuc2V0UHJlZml4ZWRTdHlsZSh0aGlzLnRleHRhcmVhLnN0eWxlLCJ0cmFuc2Zvcm1PcmlnaW4iLCIwcHggMHB4IiksbXhVdGlscy5zZXRQcmVmaXhlZFN0eWxlKHRoaXMudGV4dGFyZWEuc3R5bGUsInRyYW5zZm9ybSIsInNjYWxlKCIrYysiLCIrYysiKSIrKG51bGw9PWQ/IiI6IiB0cmFuc2xhdGUoIisxMDAqZC54KyIlLCIrMTAwKmQueSsiJSkiKSkpfX07bXhDZWxsRWRpdG9yLnByb3RvdHlwZS5mb2N1c0xvc3Q9ZnVuY3Rpb24oKXt0aGlzLnN0b3BFZGl0aW5nKCF0aGlzLmdyYXBoLmlzSW52b2tlc1N0b3BDZWxsRWRpdGluZygpKX07bXhDZWxsRWRpdG9yLnByb3RvdHlwZS5nZXRCYWNrZ3JvdW5kQ29sb3I9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGx9OwpteENlbGxFZGl0b3IucHJvdG90eXBlLmlzTGVnYWN5RWRpdG9yPWZ1bmN0aW9uKCl7aWYobXhDbGllbnQuSVNfVk1MKXJldHVybiEwO3ZhciBhPSExO2lmKG14Q2xpZW50LklTX1NWRyl7dmFyIGI9dGhpcy5ncmFwaC52aWV3LmdldERyYXdQYW5lKCkub3duZXJTVkdFbGVtZW50O251bGwhPWImJihiPW14VXRpbHMuZ2V0Q3VycmVudFN0eWxlKGIpLG51bGwhPWImJihhPSJhYnNvbHV0ZSI9PWIucG9zaXRpb24pKX1yZXR1cm4hYX07Cm14Q2VsbEVkaXRvci5wcm90b3R5cGUuc3RhcnRFZGl0aW5nPWZ1bmN0aW9uKGEsYil7dGhpcy5zdG9wRWRpdGluZyghMCk7dGhpcy5hbGlnbj1udWxsO251bGw9PXRoaXMudGV4dGFyZWEmJnRoaXMuaW5pdCgpO251bGwhPXRoaXMuZ3JhcGgudG9vbHRpcEhhbmRsZXImJnRoaXMuZ3JhcGgudG9vbHRpcEhhbmRsZXIuaGlkZVRvb2x0aXAoKTt2YXIgYz10aGlzLmdyYXBoLmdldFZpZXcoKS5nZXRTdGF0ZShhKTtpZihudWxsIT1jKXt0aGlzLmdyYXBoLmdldFZpZXcoKTt2YXIgZD1teFV0aWxzLmdldFZhbHVlKGMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfRk9OVFNJWkUsbXhDb25zdGFudHMuREVGQVVMVF9GT05UU0laRSksZT1teFV0aWxzLmdldFZhbHVlKGMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfRk9OVEZBTUlMWSxteENvbnN0YW50cy5ERUZBVUxUX0ZPTlRGQU1JTFkpLGY9bXhVdGlscy5nZXRWYWx1ZShjLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0ZPTlRDT0xPUiwiYmxhY2siKSwKZz1teFV0aWxzLmdldFZhbHVlKGMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfQUxJR04sbXhDb25zdGFudHMuQUxJR05fTEVGVCksaz0obXhVdGlscy5nZXRWYWx1ZShjLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0ZPTlRTVFlMRSwwKSZteENvbnN0YW50cy5GT05UX0JPTEQpPT1teENvbnN0YW50cy5GT05UX0JPTEQsbD0obXhVdGlscy5nZXRWYWx1ZShjLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0ZPTlRTVFlMRSwwKSZteENvbnN0YW50cy5GT05UX0lUQUxJQyk9PW14Q29uc3RhbnRzLkZPTlRfSVRBTElDLG09W107KG14VXRpbHMuZ2V0VmFsdWUoYy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9GT05UU1RZTEUsMCkmbXhDb25zdGFudHMuRk9OVF9VTkRFUkxJTkUpPT1teENvbnN0YW50cy5GT05UX1VOREVSTElORSYmbS5wdXNoKCJ1bmRlcmxpbmUiKTsobXhVdGlscy5nZXRWYWx1ZShjLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0ZPTlRTVFlMRSwwKSZteENvbnN0YW50cy5GT05UX1NUUklLRVRIUk9VR0gpPT0KbXhDb25zdGFudHMuRk9OVF9TVFJJS0VUSFJPVUdIJiZtLnB1c2goImxpbmUtdGhyb3VnaCIpO3RoaXMudGV4dGFyZWEuc3R5bGUubGluZUhlaWdodD1teENvbnN0YW50cy5BQlNPTFVURV9MSU5FX0hFSUdIVD9NYXRoLnJvdW5kKGQqbXhDb25zdGFudHMuTElORV9IRUlHSFQpKyJweCI6bXhDb25zdGFudHMuTElORV9IRUlHSFQ7dGhpcy50ZXh0YXJlYS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9dGhpcy5nZXRCYWNrZ3JvdW5kQ29sb3IoYyk7dGhpcy50ZXh0YXJlYS5zdHlsZS50ZXh0RGVjb3JhdGlvbj1tLmpvaW4oIiAiKTt0aGlzLnRleHRhcmVhLnN0eWxlLmZvbnRXZWlnaHQ9az8iYm9sZCI6Im5vcm1hbCI7dGhpcy50ZXh0YXJlYS5zdHlsZS5mb250U3R5bGU9bD8iaXRhbGljIjoiIjt0aGlzLnRleHRhcmVhLnN0eWxlLmZvbnRTaXplPU1hdGgucm91bmQoZCkrInB4Ijt0aGlzLnRleHRhcmVhLnN0eWxlLnpJbmRleD10aGlzLnpJbmRleDt0aGlzLnRleHRhcmVhLnN0eWxlLmZvbnRGYW1pbHk9CmU7dGhpcy50ZXh0YXJlYS5zdHlsZS50ZXh0QWxpZ249Zzt0aGlzLnRleHRhcmVhLnN0eWxlLm91dGxpbmU9Im5vbmUiO3RoaXMudGV4dGFyZWEuc3R5bGUuY29sb3I9ZjtkPXRoaXMudGV4dERpcmVjdGlvbj1teFV0aWxzLmdldFZhbHVlKGMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfVEVYVF9ESVJFQ1RJT04sbXhDb25zdGFudHMuREVGQVVMVF9URVhUX0RJUkVDVElPTik7ZD09bXhDb25zdGFudHMuVEVYVF9ESVJFQ1RJT05fQVVUTyYmKG51bGw9PWN8fG51bGw9PWMudGV4dHx8Yy50ZXh0LmRpYWxlY3Q9PW14Q29uc3RhbnRzLkRJQUxFQ1RfU1RSSUNUSFRNTHx8bXhVdGlscy5pc05vZGUoYy50ZXh0LnZhbHVlKXx8KGQ9Yy50ZXh0LmdldEF1dG9EaXJlY3Rpb24oKSkpO2Q9PW14Q29uc3RhbnRzLlRFWFRfRElSRUNUSU9OX0xUUnx8ZD09bXhDb25zdGFudHMuVEVYVF9ESVJFQ1RJT05fUlRMP3RoaXMudGV4dGFyZWEuc2V0QXR0cmlidXRlKCJkaXIiLGQpOnRoaXMudGV4dGFyZWEucmVtb3ZlQXR0cmlidXRlKCJkaXIiKTsKdGhpcy50ZXh0YXJlYS5pbm5lckhUTUw9dGhpcy5nZXRJbml0aWFsVmFsdWUoYyxiKXx8IiI7dGhpcy5pbml0aWFsVmFsdWU9dGhpcy50ZXh0YXJlYS5pbm5lckhUTUw7MD09dGhpcy50ZXh0YXJlYS5pbm5lckhUTUwubGVuZ3RofHwiPGJyPiI9PXRoaXMudGV4dGFyZWEuaW5uZXJIVE1MPyh0aGlzLnRleHRhcmVhLmlubmVySFRNTD10aGlzLmdldEVtcHR5TGFiZWxUZXh0KCksdGhpcy5jbGVhck9uQ2hhbmdlPSEwKTp0aGlzLmNsZWFyT25DaGFuZ2U9dGhpcy50ZXh0YXJlYS5pbm5lckhUTUw9PXRoaXMuZ2V0RW1wdHlMYWJlbFRleHQoKTt0aGlzLmdyYXBoLmNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLnRleHRhcmVhKTt0aGlzLmVkaXRpbmdDZWxsPWE7dGhpcy50cmlnZ2VyPWI7dGhpcy50ZXh0Tm9kZT1udWxsO251bGwhPWMudGV4dCYmdGhpcy5pc0hpZGVMYWJlbChjKSYmKHRoaXMudGV4dE5vZGU9Yy50ZXh0Lm5vZGUsdGhpcy50ZXh0Tm9kZS5zdHlsZS52aXNpYmlsaXR5PSJoaWRkZW4iKTsKdGhpcy5hdXRvU2l6ZSYmKHRoaXMuZ3JhcGgubW9kZWwuaXNFZGdlKGMuY2VsbCl8fCJmaWxsIiE9Yy5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9PVkVSRkxPV10pJiZ3aW5kb3cuc2V0VGltZW91dChteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMucmVzaXplKCl9KSwwKTt0aGlzLnJlc2l6ZSgpO3RyeXt0aGlzLnRleHRhcmVhLmZvY3VzKCksdGhpcy5pc1NlbGVjdFRleHQoKSYmMDx0aGlzLnRleHRhcmVhLmlubmVySFRNTC5sZW5ndGgmJih0aGlzLnRleHRhcmVhLmlubmVySFRNTCE9dGhpcy5nZXRFbXB0eUxhYmVsVGV4dCgpfHwhdGhpcy5jbGVhck9uQ2hhbmdlKSYmZG9jdW1lbnQuZXhlY0NvbW1hbmQoInNlbGVjdEFsbCIsITEsbnVsbCl9Y2F0Y2gobil7fX19O214Q2VsbEVkaXRvci5wcm90b3R5cGUuaXNTZWxlY3RUZXh0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2VsZWN0VGV4dH07Cm14Q2VsbEVkaXRvci5wcm90b3R5cGUuY2xlYXJTZWxlY3Rpb249ZnVuY3Rpb24oKXt2YXIgYT1udWxsO3dpbmRvdy5nZXRTZWxlY3Rpb24/YT13aW5kb3cuZ2V0U2VsZWN0aW9uKCk6ZG9jdW1lbnQuc2VsZWN0aW9uJiYoYT1kb2N1bWVudC5zZWxlY3Rpb24pO251bGwhPWEmJihhLmVtcHR5P2EuZW1wdHkoKTphLnJlbW92ZUFsbFJhbmdlcyYmYS5yZW1vdmVBbGxSYW5nZXMoKSl9OwpteENlbGxFZGl0b3IucHJvdG90eXBlLnN0b3BFZGl0aW5nPWZ1bmN0aW9uKGEpe2lmKG51bGwhPXRoaXMuZWRpdGluZ0NlbGwpe251bGwhPXRoaXMudGV4dE5vZGUmJih0aGlzLnRleHROb2RlLnN0eWxlLnZpc2liaWxpdHk9InZpc2libGUiLHRoaXMudGV4dE5vZGU9bnVsbCk7YT1hP251bGw6dGhpcy5ncmFwaC52aWV3LmdldFN0YXRlKHRoaXMuZWRpdGluZ0NlbGwpO3ZhciBiPXRoaXMuaW5pdGlhbFZhbHVlO3RoaXMuYm91bmRzPXRoaXMudHJpZ2dlcj10aGlzLmVkaXRpbmdDZWxsPXRoaXMuaW5pdGlhbFZhbHVlPW51bGw7dGhpcy50ZXh0YXJlYS5ibHVyKCk7dGhpcy5jbGVhclNlbGVjdGlvbigpO251bGwhPXRoaXMudGV4dGFyZWEucGFyZW50Tm9kZSYmdGhpcy50ZXh0YXJlYS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMudGV4dGFyZWEpO3RoaXMuY2xlYXJPbkNoYW5nZSYmdGhpcy50ZXh0YXJlYS5pbm5lckhUTUw9PXRoaXMuZ2V0RW1wdHlMYWJlbFRleHQoKSYmKHRoaXMudGV4dGFyZWEuaW5uZXJIVE1MPQoiIix0aGlzLmNsZWFyT25DaGFuZ2U9ITEpO2lmKG51bGwhPWEmJih0aGlzLnRleHRhcmVhLmlubmVySFRNTCE9Ynx8bnVsbCE9dGhpcy5hbGlnbikpe3RoaXMucHJlcGFyZVRleHRhcmVhKCk7Yj10aGlzLmdldEN1cnJlbnRWYWx1ZShhKTt0aGlzLmdyYXBoLmdldE1vZGVsKCkuYmVnaW5VcGRhdGUoKTt0cnl7bnVsbCE9YiYmdGhpcy5hcHBseVZhbHVlKGEsYiksbnVsbCE9dGhpcy5hbGlnbiYmdGhpcy5ncmFwaC5zZXRDZWxsU3R5bGVzKG14Q29uc3RhbnRzLlNUWUxFX0FMSUdOLHRoaXMuYWxpZ24sW2EuY2VsbF0pfWZpbmFsbHl7dGhpcy5ncmFwaC5nZXRNb2RlbCgpLmVuZFVwZGF0ZSgpfX1teEV2ZW50LnJlbGVhc2UodGhpcy50ZXh0YXJlYSk7dGhpcy5hbGlnbj10aGlzLnRleHRhcmVhPW51bGx9fTsKbXhDZWxsRWRpdG9yLnByb3RvdHlwZS5wcmVwYXJlVGV4dGFyZWE9ZnVuY3Rpb24oKXtudWxsIT10aGlzLnRleHRhcmVhLmxhc3RDaGlsZCYmIkJSIj09dGhpcy50ZXh0YXJlYS5sYXN0Q2hpbGQubm9kZU5hbWUmJnRoaXMudGV4dGFyZWEucmVtb3ZlQ2hpbGQodGhpcy50ZXh0YXJlYS5sYXN0Q2hpbGQpfTtteENlbGxFZGl0b3IucHJvdG90eXBlLmlzSGlkZUxhYmVsPWZ1bmN0aW9uKGEpe3JldHVybiEwfTtteENlbGxFZGl0b3IucHJvdG90eXBlLmdldE1pbmltdW1TaXplPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZ3JhcGguZ2V0VmlldygpLnNjYWxlO3JldHVybiBuZXcgbXhSZWN0YW5nbGUoMCwwLG51bGw9PWEudGV4dD8zMDphLnRleHQuc2l6ZSpiKzIwLCJsZWZ0Ij09dGhpcy50ZXh0YXJlYS5zdHlsZS50ZXh0QWxpZ24/MTIwOjQwKX07Cm14Q2VsbEVkaXRvci5wcm90b3R5cGUuZ2V0RWRpdG9yQm91bmRzPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZ3JhcGguZ2V0TW9kZWwoKS5pc0VkZ2UoYS5jZWxsKSxjPXRoaXMuZ3JhcGguZ2V0VmlldygpLnNjYWxlLGQ9dGhpcy5nZXRNaW5pbXVtU2l6ZShhKSxlPWQud2lkdGgsZD1kLmhlaWdodDtpZighYiYmYS52aWV3LmdyYXBoLmNlbGxSZW5kZXJlci5sZWdhY3lTcGFjaW5nJiYiZmlsbCI9PWEuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfT1ZFUkZMT1ddKWM9YS5zaGFwZS5nZXRMYWJlbEJvdW5kcyhteFJlY3RhbmdsZS5mcm9tUmVjdGFuZ2xlKGEpKTtlbHNle3ZhciBmPXBhcnNlSW50KGEuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfU1BBQ0lOR118fDApKmMsZz0ocGFyc2VJbnQoYS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9TUEFDSU5HX1RPUF18fDApK214VGV4dC5wcm90b3R5cGUuYmFzZVNwYWNpbmdUb3ApKmMrZixrPShwYXJzZUludChhLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX1NQQUNJTkdfUklHSFRdfHwKMCkrbXhUZXh0LnByb3RvdHlwZS5iYXNlU3BhY2luZ1JpZ2h0KSpjK2YsbD0ocGFyc2VJbnQoYS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9TUEFDSU5HX0JPVFRPTV18fDApK214VGV4dC5wcm90b3R5cGUuYmFzZVNwYWNpbmdCb3R0b20pKmMrZixmPShwYXJzZUludChhLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX1NQQUNJTkdfTEVGVF18fDApK214VGV4dC5wcm90b3R5cGUuYmFzZVNwYWNpbmdMZWZ0KSpjK2YsYz1uZXcgbXhSZWN0YW5nbGUoYS54LGEueSxNYXRoLm1heChlLGEud2lkdGgtZi1rKSxNYXRoLm1heChkLGEuaGVpZ2h0LWctbCkpLGs9bXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0xBQkVMX1BPU0lUSU9OLG14Q29uc3RhbnRzLkFMSUdOX0NFTlRFUiksbD1teFV0aWxzLmdldFZhbHVlKGEuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfVkVSVElDQUxfTEFCRUxfUE9TSVRJT04sbXhDb25zdGFudHMuQUxJR05fTUlERExFKSxjPW51bGwhPWEuc2hhcGUmJgprPT1teENvbnN0YW50cy5BTElHTl9DRU5URVImJmw9PW14Q29uc3RhbnRzLkFMSUdOX01JRERMRT9hLnNoYXBlLmdldExhYmVsQm91bmRzKGMpOmM7Yj8oYy54PWEuYWJzb2x1dGVPZmZzZXQueCxjLnk9YS5hYnNvbHV0ZU9mZnNldC55LG51bGwhPWEudGV4dCYmbnVsbCE9YS50ZXh0LmJvdW5kaW5nQm94JiYoMDxhLnRleHQuYm91bmRpbmdCb3gueCYmKGMueD1hLnRleHQuYm91bmRpbmdCb3gueCksMDxhLnRleHQuYm91bmRpbmdCb3gueSYmKGMueT1hLnRleHQuYm91bmRpbmdCb3gueSkpKTpudWxsIT1hLnRleHQmJm51bGwhPWEudGV4dC5ib3VuZGluZ0JveCYmKGMueD1NYXRoLm1pbihjLngsYS50ZXh0LmJvdW5kaW5nQm94LngpLGMueT1NYXRoLm1pbihjLnksYS50ZXh0LmJvdW5kaW5nQm94LnkpKTtjLngrPWY7Yy55Kz1nO251bGwhPWEudGV4dCYmbnVsbCE9YS50ZXh0LmJvdW5kaW5nQm94JiYoYj8oYy53aWR0aD1NYXRoLm1heChlLGEudGV4dC5ib3VuZGluZ0JveC53aWR0aCksCmMuaGVpZ2h0PU1hdGgubWF4KGQsYS50ZXh0LmJvdW5kaW5nQm94LmhlaWdodCkpOihjLndpZHRoPU1hdGgubWF4KGMud2lkdGgsYS50ZXh0LmJvdW5kaW5nQm94LndpZHRoKSxjLmhlaWdodD1NYXRoLm1heChjLmhlaWdodCxhLnRleHQuYm91bmRpbmdCb3guaGVpZ2h0KSkpO3RoaXMuZ3JhcGguZ2V0TW9kZWwoKS5pc1ZlcnRleChhLmNlbGwpJiYoYj1teFV0aWxzLmdldFZhbHVlKGEuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfTEFCRUxfUE9TSVRJT04sbXhDb25zdGFudHMuQUxJR05fQ0VOVEVSKSxiPT1teENvbnN0YW50cy5BTElHTl9MRUZUP2MueC09YS53aWR0aDpiPT1teENvbnN0YW50cy5BTElHTl9SSUdIVCYmKGMueCs9YS53aWR0aCksYj1teFV0aWxzLmdldFZhbHVlKGEuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfVkVSVElDQUxfTEFCRUxfUE9TSVRJT04sbXhDb25zdGFudHMuQUxJR05fTUlERExFKSxiPT1teENvbnN0YW50cy5BTElHTl9UT1A/Yy55LT1hLmhlaWdodDpiPT0KbXhDb25zdGFudHMuQUxJR05fQk9UVE9NJiYoYy55Kz1hLmhlaWdodCkpfXJldHVybiBuZXcgbXhSZWN0YW5nbGUoTWF0aC5yb3VuZChjLngpLE1hdGgucm91bmQoYy55KSxNYXRoLnJvdW5kKGMud2lkdGgpLE1hdGgucm91bmQoYy5oZWlnaHQpKX07bXhDZWxsRWRpdG9yLnByb3RvdHlwZS5nZXRFbXB0eUxhYmVsVGV4dD1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5lbXB0eUxhYmVsVGV4dH07bXhDZWxsRWRpdG9yLnByb3RvdHlwZS5nZXRFZGl0aW5nQ2VsbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVkaXRpbmdDZWxsfTsKbXhDZWxsRWRpdG9yLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7bnVsbCE9dGhpcy50ZXh0YXJlYSYmKG14RXZlbnQucmVsZWFzZSh0aGlzLnRleHRhcmVhKSxudWxsIT10aGlzLnRleHRhcmVhLnBhcmVudE5vZGUmJnRoaXMudGV4dGFyZWEucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLnRleHRhcmVhKSx0aGlzLnRleHRhcmVhPW51bGwpO251bGwhPXRoaXMuY2hhbmdlSGFuZGxlciYmKHRoaXMuZ3JhcGguZ2V0TW9kZWwoKS5yZW1vdmVMaXN0ZW5lcih0aGlzLmNoYW5nZUhhbmRsZXIpLHRoaXMuY2hhbmdlSGFuZGxlcj1udWxsKTt0aGlzLnpvb21IYW5kbGVyJiYodGhpcy5ncmFwaC52aWV3LnJlbW92ZUxpc3RlbmVyKHRoaXMuem9vbUhhbmRsZXIpLHRoaXMuem9vbUhhbmRsZXI9bnVsbCl9O2Z1bmN0aW9uIG14Q2VsbFJlbmRlcmVyKCl7fW14Q2VsbFJlbmRlcmVyLmRlZmF1bHRTaGFwZXM9e307Cm14Q2VsbFJlbmRlcmVyLnByb3RvdHlwZS5kZWZhdWx0RWRnZVNoYXBlPW14Q29ubmVjdG9yO214Q2VsbFJlbmRlcmVyLnByb3RvdHlwZS5kZWZhdWx0VmVydGV4U2hhcGU9bXhSZWN0YW5nbGVTaGFwZTtteENlbGxSZW5kZXJlci5wcm90b3R5cGUuZGVmYXVsdFRleHRTaGFwZT1teFRleHQ7bXhDZWxsUmVuZGVyZXIucHJvdG90eXBlLmxlZ2FjeUNvbnRyb2xQb3NpdGlvbj0hMDtteENlbGxSZW5kZXJlci5wcm90b3R5cGUubGVnYWN5U3BhY2luZz0hMDtteENlbGxSZW5kZXJlci5wcm90b3R5cGUuYW50aUFsaWFzPSEwO214Q2VsbFJlbmRlcmVyLnByb3RvdHlwZS5taW5TdmdTdHJva2VXaWR0aD0xO214Q2VsbFJlbmRlcmVyLnByb3RvdHlwZS5mb3JjZUNvbnRyb2xDbGlja0hhbmRsZXI9ITE7bXhDZWxsUmVuZGVyZXIucmVnaXN0ZXJTaGFwZT1mdW5jdGlvbihhLGIpe214Q2VsbFJlbmRlcmVyLmRlZmF1bHRTaGFwZXNbYV09Yn07Cm14Q2VsbFJlbmRlcmVyLnJlZ2lzdGVyU2hhcGUobXhDb25zdGFudHMuU0hBUEVfUkVDVEFOR0xFLG14UmVjdGFuZ2xlU2hhcGUpO214Q2VsbFJlbmRlcmVyLnJlZ2lzdGVyU2hhcGUobXhDb25zdGFudHMuU0hBUEVfRUxMSVBTRSxteEVsbGlwc2UpO214Q2VsbFJlbmRlcmVyLnJlZ2lzdGVyU2hhcGUobXhDb25zdGFudHMuU0hBUEVfUkhPTUJVUyxteFJob21idXMpO214Q2VsbFJlbmRlcmVyLnJlZ2lzdGVyU2hhcGUobXhDb25zdGFudHMuU0hBUEVfQ1lMSU5ERVIsbXhDeWxpbmRlcik7bXhDZWxsUmVuZGVyZXIucmVnaXN0ZXJTaGFwZShteENvbnN0YW50cy5TSEFQRV9DT05ORUNUT1IsbXhDb25uZWN0b3IpO214Q2VsbFJlbmRlcmVyLnJlZ2lzdGVyU2hhcGUobXhDb25zdGFudHMuU0hBUEVfQUNUT1IsbXhBY3Rvcik7bXhDZWxsUmVuZGVyZXIucmVnaXN0ZXJTaGFwZShteENvbnN0YW50cy5TSEFQRV9UUklBTkdMRSxteFRyaWFuZ2xlKTsKbXhDZWxsUmVuZGVyZXIucmVnaXN0ZXJTaGFwZShteENvbnN0YW50cy5TSEFQRV9IRVhBR09OLG14SGV4YWdvbik7bXhDZWxsUmVuZGVyZXIucmVnaXN0ZXJTaGFwZShteENvbnN0YW50cy5TSEFQRV9DTE9VRCxteENsb3VkKTtteENlbGxSZW5kZXJlci5yZWdpc3RlclNoYXBlKG14Q29uc3RhbnRzLlNIQVBFX0xJTkUsbXhMaW5lKTtteENlbGxSZW5kZXJlci5yZWdpc3RlclNoYXBlKG14Q29uc3RhbnRzLlNIQVBFX0FSUk9XLG14QXJyb3cpO214Q2VsbFJlbmRlcmVyLnJlZ2lzdGVyU2hhcGUobXhDb25zdGFudHMuU0hBUEVfQVJST1dfQ09OTkVDVE9SLG14QXJyb3dDb25uZWN0b3IpO214Q2VsbFJlbmRlcmVyLnJlZ2lzdGVyU2hhcGUobXhDb25zdGFudHMuU0hBUEVfRE9VQkxFX0VMTElQU0UsbXhEb3VibGVFbGxpcHNlKTtteENlbGxSZW5kZXJlci5yZWdpc3RlclNoYXBlKG14Q29uc3RhbnRzLlNIQVBFX1NXSU1MQU5FLG14U3dpbWxhbmUpOwpteENlbGxSZW5kZXJlci5yZWdpc3RlclNoYXBlKG14Q29uc3RhbnRzLlNIQVBFX0lNQUdFLG14SW1hZ2VTaGFwZSk7bXhDZWxsUmVuZGVyZXIucmVnaXN0ZXJTaGFwZShteENvbnN0YW50cy5TSEFQRV9MQUJFTCxteExhYmVsKTtteENlbGxSZW5kZXJlci5wcm90b3R5cGUuaW5pdGlhbGl6ZVNoYXBlPWZ1bmN0aW9uKGEpe2Euc2hhcGUuZGlhbGVjdD1hLnZpZXcuZ3JhcGguZGlhbGVjdDt0aGlzLmNvbmZpZ3VyZVNoYXBlKGEpO2Euc2hhcGUuaW5pdChhLnZpZXcuZ2V0RHJhd1BhbmUoKSl9O214Q2VsbFJlbmRlcmVyLnByb3RvdHlwZS5jcmVhdGVTaGFwZT1mdW5jdGlvbihhKXt2YXIgYj1udWxsO251bGwhPWEuc3R5bGUmJihiPW14U3RlbmNpbFJlZ2lzdHJ5LmdldFN0ZW5jaWwoYS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9TSEFQRV0pLGI9bnVsbCE9Yj9uZXcgbXhTaGFwZShiKTpuZXcgKHRoaXMuZ2V0U2hhcGVDb25zdHJ1Y3RvcihhKSkpO3JldHVybiBifTsKbXhDZWxsUmVuZGVyZXIucHJvdG90eXBlLmNyZWF0ZUluZGljYXRvclNoYXBlPWZ1bmN0aW9uKGEpe2Euc2hhcGUuaW5kaWNhdG9yU2hhcGU9dGhpcy5nZXRTaGFwZShhLnZpZXcuZ3JhcGguZ2V0SW5kaWNhdG9yU2hhcGUoYSkpfTtteENlbGxSZW5kZXJlci5wcm90b3R5cGUuZ2V0U2hhcGU9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPWE/bXhDZWxsUmVuZGVyZXIuZGVmYXVsdFNoYXBlc1thXTpudWxsfTtteENlbGxSZW5kZXJlci5wcm90b3R5cGUuZ2V0U2hhcGVDb25zdHJ1Y3Rvcj1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmdldFNoYXBlKGEuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfU0hBUEVdKTtudWxsPT1iJiYoYj1hLnZpZXcuZ3JhcGguZ2V0TW9kZWwoKS5pc0VkZ2UoYS5jZWxsKT90aGlzLmRlZmF1bHRFZGdlU2hhcGU6dGhpcy5kZWZhdWx0VmVydGV4U2hhcGUpO3JldHVybiBifTsKbXhDZWxsUmVuZGVyZXIucHJvdG90eXBlLmNvbmZpZ3VyZVNoYXBlPWZ1bmN0aW9uKGEpe2Euc2hhcGUuYXBwbHkoYSk7YS5zaGFwZS5pbWFnZT1hLnZpZXcuZ3JhcGguZ2V0SW1hZ2UoYSk7YS5zaGFwZS5pbmRpY2F0b3JDb2xvcj1hLnZpZXcuZ3JhcGguZ2V0SW5kaWNhdG9yQ29sb3IoYSk7YS5zaGFwZS5pbmRpY2F0b3JTdHJva2VDb2xvcj1hLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX0lORElDQVRPUl9TVFJPS0VDT0xPUl07YS5zaGFwZS5pbmRpY2F0b3JHcmFkaWVudENvbG9yPWEudmlldy5ncmFwaC5nZXRJbmRpY2F0b3JHcmFkaWVudENvbG9yKGEpO2Euc2hhcGUuaW5kaWNhdG9yRGlyZWN0aW9uPWEuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfSU5ESUNBVE9SX0RJUkVDVElPTl07YS5zaGFwZS5pbmRpY2F0b3JJbWFnZT1hLnZpZXcuZ3JhcGguZ2V0SW5kaWNhdG9ySW1hZ2UoYSk7dGhpcy5wb3N0Q29uZmlndXJlU2hhcGUoYSl9OwpteENlbGxSZW5kZXJlci5wcm90b3R5cGUucG9zdENvbmZpZ3VyZVNoYXBlPWZ1bmN0aW9uKGEpe251bGwhPWEuc2hhcGUmJih0aGlzLnJlc29sdmVDb2xvcihhLCJpbmRpY2F0b3JHcmFkaWVudENvbG9yIixteENvbnN0YW50cy5TVFlMRV9HUkFESUVOVENPTE9SKSx0aGlzLnJlc29sdmVDb2xvcihhLCJpbmRpY2F0b3JDb2xvciIsbXhDb25zdGFudHMuU1RZTEVfRklMTENPTE9SKSx0aGlzLnJlc29sdmVDb2xvcihhLCJncmFkaWVudCIsbXhDb25zdGFudHMuU1RZTEVfR1JBRElFTlRDT0xPUiksdGhpcy5yZXNvbHZlQ29sb3IoYSwic3Ryb2tlIixteENvbnN0YW50cy5TVFlMRV9TVFJPS0VDT0xPUiksdGhpcy5yZXNvbHZlQ29sb3IoYSwiZmlsbCIsbXhDb25zdGFudHMuU1RZTEVfRklMTENPTE9SKSl9OwpteENlbGxSZW5kZXJlci5wcm90b3R5cGUuY2hlY2tQbGFjZWhvbGRlclN0eWxlcz1mdW5jdGlvbihhKXtpZihudWxsIT1hLnN0eWxlKWZvcih2YXIgYj1bImluaGVyaXQiLCJzd2ltbGFuZSIsImluZGljYXRlZCJdLGM9W214Q29uc3RhbnRzLlNUWUxFX0ZJTExDT0xPUixteENvbnN0YW50cy5TVFlMRV9TVFJPS0VDT0xPUixteENvbnN0YW50cy5TVFlMRV9HUkFESUVOVENPTE9SLG14Q29uc3RhbnRzLlNUWUxFX0ZPTlRDT0xPUl0sZD0wO2Q8Yy5sZW5ndGg7ZCsrKWlmKDA8PW14VXRpbHMuaW5kZXhPZihiLGEuc3R5bGVbY1tkXV0pKXJldHVybiEwO3JldHVybiExfTsKbXhDZWxsUmVuZGVyZXIucHJvdG90eXBlLnJlc29sdmVDb2xvcj1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9Yz09bXhDb25zdGFudHMuU1RZTEVfRk9OVENPTE9SP2EudGV4dDphLnNoYXBlO2lmKG51bGwhPWQpe3ZhciBlPWEudmlldy5ncmFwaCxmPWRbYl0sZz1udWxsOyJpbmhlcml0Ij09Zj9nPWUubW9kZWwuZ2V0UGFyZW50KGEuY2VsbCk6InN3aW1sYW5lIj09Zj8oZFtiXT1jPT1teENvbnN0YW50cy5TVFlMRV9TVFJPS0VDT0xPUnx8Yz09bXhDb25zdGFudHMuU1RZTEVfRk9OVENPTE9SPyIjMDAwMDAwIjoiI2ZmZmZmZiIsZz1udWxsIT1lLm1vZGVsLmdldFRlcm1pbmFsKGEuY2VsbCwhMSk/ZS5tb2RlbC5nZXRUZXJtaW5hbChhLmNlbGwsITEpOmEuY2VsbCxnPWUuZ2V0U3dpbWxhbmUoZyksYz1lLnN3aW1sYW5lSW5kaWNhdG9yQ29sb3JBdHRyaWJ1dGUpOiJpbmRpY2F0ZWQiPT1mJiZudWxsIT1hLnNoYXBlJiYoZFtiXT1hLnNoYXBlLmluZGljYXRvckNvbG9yKTtudWxsIT1nJiYoYT0KZS5nZXRWaWV3KCkuZ2V0U3RhdGUoZyksZFtiXT1udWxsLG51bGwhPWEmJihlPWM9PW14Q29uc3RhbnRzLlNUWUxFX0ZPTlRDT0xPUj9hLnRleHQ6YS5zaGFwZSxkW2JdPW51bGwhPWUmJiJpbmRpY2F0b3JDb2xvciIhPWI/ZVtiXTphLnN0eWxlW2NdKSl9fTtteENlbGxSZW5kZXJlci5wcm90b3R5cGUuZ2V0TGFiZWxWYWx1ZT1mdW5jdGlvbihhKXtyZXR1cm4gYS52aWV3LmdyYXBoLmdldExhYmVsKGEuY2VsbCl9OwpteENlbGxSZW5kZXJlci5wcm90b3R5cGUuY3JlYXRlTGFiZWw9ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLnZpZXcuZ3JhcGg7Yy5nZXRNb2RlbCgpLmlzRWRnZShhLmNlbGwpO2lmKDA8YS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9GT05UU0laRV18fG51bGw9PWEuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfRk9OVFNJWkVdKXt2YXIgZD1jLmlzSHRtbExhYmVsKGEuY2VsbCl8fG51bGwhPWImJm14VXRpbHMuaXNOb2RlKGIpO2EudGV4dD1uZXcgdGhpcy5kZWZhdWx0VGV4dFNoYXBlKGIsbmV3IG14UmVjdGFuZ2xlLGEuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfQUxJR05dfHxteENvbnN0YW50cy5BTElHTl9DRU5URVIsYy5nZXRWZXJ0aWNhbEFsaWduKGEpLGEuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfRk9OVENPTE9SXSxhLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX0ZPTlRGQU1JTFldLGEuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfRk9OVFNJWkVdLGEuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfRk9OVFNUWUxFXSwKYS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9TUEFDSU5HXSxhLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX1NQQUNJTkdfVE9QXSxhLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX1NQQUNJTkdfUklHSFRdLGEuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfU1BBQ0lOR19CT1RUT01dLGEuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfU1BBQ0lOR19MRUZUXSxhLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX0hPUklaT05UQUxdLGEuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfTEFCRUxfQkFDS0dST1VORENPTE9SXSxhLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX0xBQkVMX0JPUkRFUkNPTE9SXSxjLmlzV3JhcHBpbmcoYS5jZWxsKSYmYy5pc0h0bWxMYWJlbChhLmNlbGwpLGMuaXNMYWJlbENsaXBwZWQoYS5jZWxsKSxhLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX09WRVJGTE9XXSxhLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX0xBQkVMX1BBRERJTkddLG14VXRpbHMuZ2V0VmFsdWUoYS5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9URVhUX0RJUkVDVElPTiwKbXhDb25zdGFudHMuREVGQVVMVF9URVhUX0RJUkVDVElPTikpO2EudGV4dC5vcGFjaXR5PW14VXRpbHMuZ2V0VmFsdWUoYS5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9URVhUX09QQUNJVFksMTAwKTthLnRleHQuZGlhbGVjdD1kP214Q29uc3RhbnRzLkRJQUxFQ1RfU1RSSUNUSFRNTDphLnZpZXcuZ3JhcGguZGlhbGVjdDthLnRleHQuc3R5bGU9YS5zdHlsZTthLnRleHQuc3RhdGU9YTt0aGlzLmluaXRpYWxpemVMYWJlbChhLGEudGV4dCk7dmFyIGU9ITEsZj1mdW5jdGlvbihiKXt2YXIgZD1hO2lmKG14Q2xpZW50LklTX1RPVUNIfHxlKWQ9bXhFdmVudC5nZXRDbGllbnRYKGIpLGI9bXhFdmVudC5nZXRDbGllbnRZKGIpLGI9bXhVdGlscy5jb252ZXJ0UG9pbnQoYy5jb250YWluZXIsZCxiKSxkPWMudmlldy5nZXRTdGF0ZShjLmdldENlbGxBdChiLngsYi55KSk7cmV0dXJuIGR9O214RXZlbnQuYWRkR2VzdHVyZUxpc3RlbmVycyhhLnRleHQubm9kZSxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihiKXt0aGlzLmlzTGFiZWxFdmVudChhLApiKSYmKGMuZmlyZU1vdXNlRXZlbnQobXhFdmVudC5NT1VTRV9ET1dOLG5ldyBteE1vdXNlRXZlbnQoYixhKSksZT1jLmRpYWxlY3QhPW14Q29uc3RhbnRzLkRJQUxFQ1RfU1ZHJiYiSU1HIj09bXhFdmVudC5nZXRTb3VyY2UoYikubm9kZU5hbWUpfSksbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYil7dGhpcy5pc0xhYmVsRXZlbnQoYSxiKSYmYy5maXJlTW91c2VFdmVudChteEV2ZW50Lk1PVVNFX01PVkUsbmV3IG14TW91c2VFdmVudChiLGYoYikpKX0pLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGIpe3RoaXMuaXNMYWJlbEV2ZW50KGEsYikmJihjLmZpcmVNb3VzZUV2ZW50KG14RXZlbnQuTU9VU0VfVVAsbmV3IG14TW91c2VFdmVudChiLGYoYikpKSxlPSExKX0pKTtjLm5hdGl2ZURibENsaWNrRW5hYmxlZCYmbXhFdmVudC5hZGRMaXN0ZW5lcihhLnRleHQubm9kZSwiZGJsY2xpY2siLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGIpe3RoaXMuaXNMYWJlbEV2ZW50KGEsCmIpJiYoYy5kYmxDbGljayhiLGEuY2VsbCksbXhFdmVudC5jb25zdW1lKGIpKX0pKX19O214Q2VsbFJlbmRlcmVyLnByb3RvdHlwZS5pbml0aWFsaXplTGFiZWw9ZnVuY3Rpb24oYSxiKXtteENsaWVudC5JU19TVkcmJm14Q2xpZW50Lk5PX0ZPJiZiLmRpYWxlY3QhPW14Q29uc3RhbnRzLkRJQUxFQ1RfU1ZHP2IuaW5pdChhLnZpZXcuZ3JhcGguY29udGFpbmVyKTpiLmluaXQoYS52aWV3LmdldERyYXdQYW5lKCkpfTsKbXhDZWxsUmVuZGVyZXIucHJvdG90eXBlLmNyZWF0ZUNlbGxPdmVybGF5cz1mdW5jdGlvbihhKXt2YXIgYj1hLnZpZXcuZ3JhcGguZ2V0Q2VsbE92ZXJsYXlzKGEuY2VsbCksYz1udWxsO2lmKG51bGwhPWIpZm9yKHZhciBjPW5ldyBteERpY3Rpb25hcnksZD0wO2Q8Yi5sZW5ndGg7ZCsrKXt2YXIgZT1udWxsIT1hLm92ZXJsYXlzP2Eub3ZlcmxheXMucmVtb3ZlKGJbZF0pOm51bGw7bnVsbD09ZSYmKGU9bmV3IG14SW1hZ2VTaGFwZShuZXcgbXhSZWN0YW5nbGUsYltkXS5pbWFnZS5zcmMpLGUuZGlhbGVjdD1hLnZpZXcuZ3JhcGguZGlhbGVjdCxlLnByZXNlcnZlSW1hZ2VBc3BlY3Q9ITEsZS5vdmVybGF5PWJbZF0sdGhpcy5pbml0aWFsaXplT3ZlcmxheShhLGUpLHRoaXMuaW5zdGFsbENlbGxPdmVybGF5TGlzdGVuZXJzKGEsYltkXSxlKSxudWxsIT1iW2RdLmN1cnNvciYmKGUubm9kZS5zdHlsZS5jdXJzb3I9YltkXS5jdXJzb3IpKTtjLnB1dChiW2RdLGUpfW51bGwhPWEub3ZlcmxheXMmJgphLm92ZXJsYXlzLnZpc2l0KGZ1bmN0aW9uKGEsYil7Yi5kZXN0cm95KCl9KTthLm92ZXJsYXlzPWN9O214Q2VsbFJlbmRlcmVyLnByb3RvdHlwZS5pbml0aWFsaXplT3ZlcmxheT1mdW5jdGlvbihhLGIpe2IuaW5pdChhLnZpZXcuZ2V0T3ZlcmxheVBhbmUoKSl9OwpteENlbGxSZW5kZXJlci5wcm90b3R5cGUuaW5zdGFsbENlbGxPdmVybGF5TGlzdGVuZXJzPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1hLnZpZXcuZ3JhcGg7bXhFdmVudC5hZGRMaXN0ZW5lcihjLm5vZGUsImNsaWNrIixmdW5jdGlvbihjKXtkLmlzRWRpdGluZygpJiZkLnN0b3BFZGl0aW5nKCFkLmlzSW52b2tlc1N0b3BDZWxsRWRpdGluZygpKTtiLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LkNMSUNLLCJldmVudCIsYywiY2VsbCIsYS5jZWxsKSl9KTtteEV2ZW50LmFkZEdlc3R1cmVMaXN0ZW5lcnMoYy5ub2RlLGZ1bmN0aW9uKGEpe214RXZlbnQuY29uc3VtZShhKX0sZnVuY3Rpb24oYil7ZC5maXJlTW91c2VFdmVudChteEV2ZW50Lk1PVVNFX01PVkUsbmV3IG14TW91c2VFdmVudChiLGEpKX0pO214Q2xpZW50LklTX1RPVUNIJiZteEV2ZW50LmFkZExpc3RlbmVyKGMubm9kZSwidG91Y2hlbmQiLGZ1bmN0aW9uKGMpe2IuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KG14RXZlbnQuQ0xJQ0ssCiJldmVudCIsYywiY2VsbCIsYS5jZWxsKSl9KX07bXhDZWxsUmVuZGVyZXIucHJvdG90eXBlLmNyZWF0ZUNvbnRyb2w9ZnVuY3Rpb24oYSl7dmFyIGI9YS52aWV3LmdyYXBoLGM9Yi5nZXRGb2xkaW5nSW1hZ2UoYSk7aWYoYi5mb2xkaW5nRW5hYmxlZCYmbnVsbCE9Yyl7aWYobnVsbD09YS5jb250cm9sKXt2YXIgZD1uZXcgbXhSZWN0YW5nbGUoMCwwLGMud2lkdGgsYy5oZWlnaHQpO2EuY29udHJvbD1uZXcgbXhJbWFnZVNoYXBlKGQsYy5zcmMpO2EuY29udHJvbC5wcmVzZXJ2ZUltYWdlQXNwZWN0PSExO2EuY29udHJvbC5kaWFsZWN0PWIuZGlhbGVjdDt0aGlzLmluaXRDb250cm9sKGEsYS5jb250cm9sLCEwLHRoaXMuY3JlYXRlQ29udHJvbENsaWNrSGFuZGxlcihhKSl9fWVsc2UgbnVsbCE9YS5jb250cm9sJiYoYS5jb250cm9sLmRlc3Ryb3koKSxhLmNvbnRyb2w9bnVsbCl9OwpteENlbGxSZW5kZXJlci5wcm90b3R5cGUuY3JlYXRlQ29udHJvbENsaWNrSGFuZGxlcj1mdW5jdGlvbihhKXt2YXIgYj1hLnZpZXcuZ3JhcGg7cmV0dXJuIG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGMpe2lmKHRoaXMuZm9yY2VDb250cm9sQ2xpY2tIYW5kbGVyfHxiLmlzRW5hYmxlZCgpKXt2YXIgZD0hYi5pc0NlbGxDb2xsYXBzZWQoYS5jZWxsKTtiLmZvbGRDZWxscyhkLCExLFthLmNlbGxdLG51bGwsYyk7bXhFdmVudC5jb25zdW1lKGMpfX0pfTsKbXhDZWxsUmVuZGVyZXIucHJvdG90eXBlLmluaXRDb250cm9sPWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPWEudmlldy5ncmFwaDtlLmlzSHRtbExhYmVsKGEuY2VsbCkmJm14Q2xpZW50Lk5PX0ZPJiZlLmRpYWxlY3Q9PW14Q29uc3RhbnRzLkRJQUxFQ1RfU1ZHPyhiLmRpYWxlY3Q9bXhDb25zdGFudHMuRElBTEVDVF9QUkVGRVJIVE1MLGIuaW5pdChlLmNvbnRhaW5lciksYi5ub2RlLnN0eWxlLnpJbmRleD0xKTpiLmluaXQoYS52aWV3LmdldE92ZXJsYXlQYW5lKCkpO2I9Yi5pbm5lck5vZGV8fGIubm9kZTtudWxsPT1kfHxteENsaWVudC5JU19JT1N8fChlLmlzRW5hYmxlZCgpJiYoYi5zdHlsZS5jdXJzb3I9InBvaW50ZXIiKSxteEV2ZW50LmFkZExpc3RlbmVyKGIsImNsaWNrIixkKSk7aWYoYyl7dmFyIGY9bnVsbDtteEV2ZW50LmFkZEdlc3R1cmVMaXN0ZW5lcnMoYixmdW5jdGlvbihiKXtmPW5ldyBteFBvaW50KG14RXZlbnQuZ2V0Q2xpZW50WChiKSxteEV2ZW50LmdldENsaWVudFkoYikpOwplLmZpcmVNb3VzZUV2ZW50KG14RXZlbnQuTU9VU0VfRE9XTixuZXcgbXhNb3VzZUV2ZW50KGIsYSkpO214RXZlbnQuY29uc3VtZShiKX0sZnVuY3Rpb24oYil7ZS5maXJlTW91c2VFdmVudChteEV2ZW50Lk1PVVNFX01PVkUsbmV3IG14TW91c2VFdmVudChiLGEpKX0sZnVuY3Rpb24oYil7ZS5maXJlTW91c2VFdmVudChteEV2ZW50Lk1PVVNFX1VQLG5ldyBteE1vdXNlRXZlbnQoYixhKSk7bXhFdmVudC5jb25zdW1lKGIpfSk7bnVsbCE9ZCYmbXhDbGllbnQuSVNfSU9TJiZiLmFkZEV2ZW50TGlzdGVuZXIoInRvdWNoZW5kIixmdW5jdGlvbihhKXtpZihudWxsIT1mKXt2YXIgYj1lLnRvbGVyYW5jZTtNYXRoLmFicyhmLngtbXhFdmVudC5nZXRDbGllbnRYKGEpKTxiJiZNYXRoLmFicyhmLnktbXhFdmVudC5nZXRDbGllbnRZKGEpKTxiJiYoZC5jYWxsKGQsYSksbXhFdmVudC5jb25zdW1lKGEpKX19LCEwKX1yZXR1cm4gYn07Cm14Q2VsbFJlbmRlcmVyLnByb3RvdHlwZS5pc1NoYXBlRXZlbnQ9ZnVuY3Rpb24oYSxiKXtyZXR1cm4hMH07bXhDZWxsUmVuZGVyZXIucHJvdG90eXBlLmlzTGFiZWxFdmVudD1mdW5jdGlvbihhLGIpe3JldHVybiEwfTsKbXhDZWxsUmVuZGVyZXIucHJvdG90eXBlLmluc3RhbGxMaXN0ZW5lcnM9ZnVuY3Rpb24oYSl7dmFyIGI9YS52aWV3LmdyYXBoLGM9ZnVuY3Rpb24oYyl7dmFyIGQ9YTtpZihiLmRpYWxlY3QhPW14Q29uc3RhbnRzLkRJQUxFQ1RfU1ZHJiYiSU1HIj09bXhFdmVudC5nZXRTb3VyY2UoYykubm9kZU5hbWV8fG14Q2xpZW50LklTX1RPVUNIKWQ9bXhFdmVudC5nZXRDbGllbnRYKGMpLGM9bXhFdmVudC5nZXRDbGllbnRZKGMpLGM9bXhVdGlscy5jb252ZXJ0UG9pbnQoYi5jb250YWluZXIsZCxjKSxkPWIudmlldy5nZXRTdGF0ZShiLmdldENlbGxBdChjLngsYy55KSk7cmV0dXJuIGR9O214RXZlbnQuYWRkR2VzdHVyZUxpc3RlbmVycyhhLnNoYXBlLm5vZGUsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYyl7dGhpcy5pc1NoYXBlRXZlbnQoYSxjKSYmYi5maXJlTW91c2VFdmVudChteEV2ZW50Lk1PVVNFX0RPV04sbmV3IG14TW91c2VFdmVudChjLGEpKX0pLG14VXRpbHMuYmluZCh0aGlzLApmdW5jdGlvbihkKXt0aGlzLmlzU2hhcGVFdmVudChhLGQpJiZiLmZpcmVNb3VzZUV2ZW50KG14RXZlbnQuTU9VU0VfTU9WRSxuZXcgbXhNb3VzZUV2ZW50KGQsYyhkKSkpfSksbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oZCl7dGhpcy5pc1NoYXBlRXZlbnQoYSxkKSYmYi5maXJlTW91c2VFdmVudChteEV2ZW50Lk1PVVNFX1VQLG5ldyBteE1vdXNlRXZlbnQoZCxjKGQpKSl9KSk7Yi5uYXRpdmVEYmxDbGlja0VuYWJsZWQmJm14RXZlbnQuYWRkTGlzdGVuZXIoYS5zaGFwZS5ub2RlLCJkYmxjbGljayIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYyl7dGhpcy5pc1NoYXBlRXZlbnQoYSxjKSYmKGIuZGJsQ2xpY2soYyxhLmNlbGwpLG14RXZlbnQuY29uc3VtZShjKSl9KSl9OwpteENlbGxSZW5kZXJlci5wcm90b3R5cGUucmVkcmF3TGFiZWw9ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLnZpZXcuZ3JhcGgsZD10aGlzLmdldExhYmVsVmFsdWUoYSksZT1jLmlzV3JhcHBpbmcoYS5jZWxsKSxmPWMuaXNMYWJlbENsaXBwZWQoYS5jZWxsKSxnPWEudmlldy5ncmFwaC5pc0h0bWxMYWJlbChhLmNlbGwpfHxudWxsIT1kJiZteFV0aWxzLmlzTm9kZShkKT9teENvbnN0YW50cy5ESUFMRUNUX1NUUklDVEhUTUw6YS52aWV3LmdyYXBoLmRpYWxlY3Qsaz1hLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX09WRVJGTE9XXXx8InZpc2libGUiO251bGw9PWEudGV4dHx8YS50ZXh0LndyYXA9PWUmJmEudGV4dC5jbGlwcGVkPT1mJiZhLnRleHQub3ZlcmZsb3c9PWsmJmEudGV4dC5kaWFsZWN0PT1nfHwoYS50ZXh0LmRlc3Ryb3koKSxhLnRleHQ9bnVsbCk7bnVsbD09YS50ZXh0JiZudWxsIT1kJiYobXhVdGlscy5pc05vZGUoZCl8fDA8ZC5sZW5ndGgpP3RoaXMuY3JlYXRlTGFiZWwoYSwKZCk6bnVsbD09YS50ZXh0fHxudWxsIT1kJiYwIT1kLmxlbmd0aHx8KGEudGV4dC5kZXN0cm95KCksYS50ZXh0PW51bGwpO2lmKG51bGwhPWEudGV4dCl7YiYmKG51bGwhPWEudGV4dC5sYXN0VmFsdWUmJnRoaXMuaXNUZXh0U2hhcGVJbnZhbGlkKGEsYS50ZXh0KSYmKGEudGV4dC5sYXN0VmFsdWU9bnVsbCksYS50ZXh0LnJlc2V0U3R5bGVzKCksYS50ZXh0LmFwcGx5KGEpLGEudGV4dC52YWxpZ249Yy5nZXRWZXJ0aWNhbEFsaWduKGEpKTt2YXIgYz10aGlzLmdldExhYmVsQm91bmRzKGEpLGw9dGhpcy5nZXRUZXh0U2NhbGUoYSk7dGhpcy5yZXNvbHZlQ29sb3IoYSwiY29sb3IiLG14Q29uc3RhbnRzLlNUWUxFX0ZPTlRDT0xPUik7aWYoYnx8YS50ZXh0LnZhbHVlIT1kfHxhLnRleHQuaXNXcmFwcGluZyE9ZXx8YS50ZXh0Lm92ZXJmbG93IT1rfHxhLnRleHQuaXNDbGlwcGluZyE9Znx8YS50ZXh0LnNjYWxlIT1sfHxhLnRleHQuZGlhbGVjdCE9Z3x8bnVsbD09YS50ZXh0LmJvdW5kc3x8CiFhLnRleHQuYm91bmRzLmVxdWFscyhjKSlhLnRleHQuZGlhbGVjdD1nLGEudGV4dC52YWx1ZT1kLGEudGV4dC5ib3VuZHM9YyxhLnRleHQuc2NhbGU9bCxhLnRleHQud3JhcD1lLGEudGV4dC5jbGlwcGVkPWYsYS50ZXh0Lm92ZXJmbG93PWssZD1hLnRleHQubm9kZS5zdHlsZS52aXNpYmlsaXR5LHRoaXMucmVkcmF3TGFiZWxTaGFwZShhLnRleHQpLGEudGV4dC5ub2RlLnN0eWxlLnZpc2liaWxpdHk9ZH19OwpteENlbGxSZW5kZXJlci5wcm90b3R5cGUuaXNUZXh0U2hhcGVJbnZhbGlkPWZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gYyhjLGUsZil7cmV0dXJuInNwYWNpbmdUb3AiPT1lfHwic3BhY2luZ1JpZ2h0Ij09ZXx8InNwYWNpbmdCb3R0b20iPT1lfHwic3BhY2luZ0xlZnQiPT1lP3BhcnNlRmxvYXQoYltjXSktcGFyc2VGbG9hdChiLnNwYWNpbmcpIT0oYS5zdHlsZVtlXXx8Zik6YltjXSE9KGEuc3R5bGVbZV18fGYpfXJldHVybiBjKCJmb250U3R5bGUiLG14Q29uc3RhbnRzLlNUWUxFX0ZPTlRTVFlMRSxteENvbnN0YW50cy5ERUZBVUxUX0ZPTlRTVFlMRSl8fGMoImZhbWlseSIsbXhDb25zdGFudHMuU1RZTEVfRk9OVEZBTUlMWSxteENvbnN0YW50cy5ERUZBVUxUX0ZPTlRGQU1JTFkpfHxjKCJzaXplIixteENvbnN0YW50cy5TVFlMRV9GT05UU0laRSxteENvbnN0YW50cy5ERUZBVUxUX0ZPTlRTSVpFKXx8YygiY29sb3IiLG14Q29uc3RhbnRzLlNUWUxFX0ZPTlRDT0xPUiwiYmxhY2siKXx8CmMoImFsaWduIixteENvbnN0YW50cy5TVFlMRV9BTElHTiwiIil8fGMoInZhbGlnbiIsbXhDb25zdGFudHMuU1RZTEVfVkVSVElDQUxfQUxJR04sIiIpfHxjKCJzcGFjaW5nIixteENvbnN0YW50cy5TVFlMRV9TUEFDSU5HLDIpfHxjKCJzcGFjaW5nVG9wIixteENvbnN0YW50cy5TVFlMRV9TUEFDSU5HX1RPUCwwKXx8Yygic3BhY2luZ1JpZ2h0IixteENvbnN0YW50cy5TVFlMRV9TUEFDSU5HX1JJR0hULDApfHxjKCJzcGFjaW5nQm90dG9tIixteENvbnN0YW50cy5TVFlMRV9TUEFDSU5HX0JPVFRPTSwwKXx8Yygic3BhY2luZ0xlZnQiLG14Q29uc3RhbnRzLlNUWUxFX1NQQUNJTkdfTEVGVCwwKXx8YygiaG9yaXpvbnRhbCIsbXhDb25zdGFudHMuU1RZTEVfSE9SSVpPTlRBTCwhMCl8fGMoImJhY2tncm91bmQiLG14Q29uc3RhbnRzLlNUWUxFX0xBQkVMX0JBQ0tHUk9VTkRDT0xPUil8fGMoImJvcmRlciIsbXhDb25zdGFudHMuU1RZTEVfTEFCRUxfQk9SREVSQ09MT1IpfHxjKCJvcGFjaXR5IiwKbXhDb25zdGFudHMuU1RZTEVfVEVYVF9PUEFDSVRZLDEwMCl8fGMoInRleHREaXJlY3Rpb24iLG14Q29uc3RhbnRzLlNUWUxFX1RFWFRfRElSRUNUSU9OLG14Q29uc3RhbnRzLkRFRkFVTFRfVEVYVF9ESVJFQ1RJT04pfTtteENlbGxSZW5kZXJlci5wcm90b3R5cGUucmVkcmF3TGFiZWxTaGFwZT1mdW5jdGlvbihhKXthLnJlZHJhdygpfTtteENlbGxSZW5kZXJlci5wcm90b3R5cGUuZ2V0VGV4dFNjYWxlPWZ1bmN0aW9uKGEpe3JldHVybiBhLnZpZXcuc2NhbGV9OwpteENlbGxSZW5kZXJlci5wcm90b3R5cGUuZ2V0TGFiZWxCb3VuZHM9ZnVuY3Rpb24oYSl7dmFyIGI9YS52aWV3LmdyYXBoLGM9YS52aWV3LnNjYWxlLGQ9Yi5nZXRNb2RlbCgpLmlzRWRnZShhLmNlbGwpLGU9bmV3IG14UmVjdGFuZ2xlKGEuYWJzb2x1dGVPZmZzZXQueCxhLmFic29sdXRlT2Zmc2V0LnkpO2lmKGQpe3ZhciBmPWEudGV4dC5nZXRTcGFjaW5nKCk7ZS54Kz1mLngqYztlLnkrPWYueSpjO2I9Yi5nZXRDZWxsR2VvbWV0cnkoYS5jZWxsKTtudWxsIT1iJiYoZS53aWR0aD1NYXRoLm1heCgwLGIud2lkdGgqYyksZS5oZWlnaHQ9TWF0aC5tYXgoMCxiLmhlaWdodCpjKSl9ZWxzZSBhLnRleHQuaXNQYWludEJvdW5kc0ludmVydGVkKCkmJihiPWUueCxlLng9ZS55LGUueT1iKSxlLngrPWEueCxlLnkrPWEueSxlLndpZHRoPU1hdGgubWF4KDEsYS53aWR0aCksZS5oZWlnaHQ9TWF0aC5tYXgoMSxhLmhlaWdodCk7YS50ZXh0LmlzUGFpbnRCb3VuZHNJbnZlcnRlZCgpJiYoYj0oYS53aWR0aC0KYS5oZWlnaHQpLzIsZS54Kz1iLGUueS09YixiPWUud2lkdGgsZS53aWR0aD1lLmhlaWdodCxlLmhlaWdodD1iKTtudWxsIT1hLnNoYXBlJiYoYj1teFV0aWxzLmdldFZhbHVlKGEuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfTEFCRUxfUE9TSVRJT04sbXhDb25zdGFudHMuQUxJR05fQ0VOVEVSKSxmPW14VXRpbHMuZ2V0VmFsdWUoYS5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9WRVJUSUNBTF9MQUJFTF9QT1NJVElPTixteENvbnN0YW50cy5BTElHTl9NSURETEUpLGI9PW14Q29uc3RhbnRzLkFMSUdOX0NFTlRFUiYmZj09bXhDb25zdGFudHMuQUxJR05fTUlERExFJiYoZT1hLnNoYXBlLmdldExhYmVsQm91bmRzKGUpKSk7Yj1teFV0aWxzLmdldFZhbHVlKGEuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfTEFCRUxfV0lEVEgsbnVsbCk7bnVsbCE9YiYmKGUud2lkdGg9cGFyc2VGbG9hdChiKSpjKTtkfHx0aGlzLnJvdGF0ZUxhYmVsQm91bmRzKGEsZSk7cmV0dXJuIGV9OwpteENlbGxSZW5kZXJlci5wcm90b3R5cGUucm90YXRlTGFiZWxCb3VuZHM9ZnVuY3Rpb24oYSxiKXtiLnktPWEudGV4dC5tYXJnaW4ueSpiLmhlaWdodDtiLngtPWEudGV4dC5tYXJnaW4ueCpiLndpZHRoO2lmKCF0aGlzLmxlZ2FjeVNwYWNpbmd8fCJmaWxsIiE9YS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9PVkVSRkxPV10mJiJ3aWR0aCIhPWEuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfT1ZFUkZMT1ddKXt2YXIgYz1hLnZpZXcuc2NhbGUsZD1hLnRleHQuZ2V0U3BhY2luZygpO2IueCs9ZC54KmM7Yi55Kz1kLnkqYzt2YXIgZD1teFV0aWxzLmdldFZhbHVlKGEuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfTEFCRUxfUE9TSVRJT04sbXhDb25zdGFudHMuQUxJR05fQ0VOVEVSKSxlPW14VXRpbHMuZ2V0VmFsdWUoYS5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9WRVJUSUNBTF9MQUJFTF9QT1NJVElPTixteENvbnN0YW50cy5BTElHTl9NSURETEUpLGY9bXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLApteENvbnN0YW50cy5TVFlMRV9MQUJFTF9XSURUSCxudWxsKTtiLndpZHRoPU1hdGgubWF4KDAsYi53aWR0aC0oZD09bXhDb25zdGFudHMuQUxJR05fQ0VOVEVSJiZudWxsPT1mP2EudGV4dC5zcGFjaW5nTGVmdCpjK2EudGV4dC5zcGFjaW5nUmlnaHQqYzowKSk7Yi5oZWlnaHQ9TWF0aC5tYXgoMCxiLmhlaWdodC0oZT09bXhDb25zdGFudHMuQUxJR05fTUlERExFP2EudGV4dC5zcGFjaW5nVG9wKmMrYS50ZXh0LnNwYWNpbmdCb3R0b20qYzowKSl9ZT1hLnRleHQuZ2V0VGV4dFJvdGF0aW9uKCk7MCE9ZSYmbnVsbCE9YSYmYS52aWV3LmdyYXBoLm1vZGVsLmlzVmVydGV4KGEuY2VsbCkmJihjPWEuZ2V0Q2VudGVyWCgpLGQ9YS5nZXRDZW50ZXJZKCksYi54IT1jfHxiLnkhPWQpJiYoZSo9TWF0aC5QSS8xODAsYz1teFV0aWxzLmdldFJvdGF0ZWRQb2ludChuZXcgbXhQb2ludChiLngsYi55KSxNYXRoLmNvcyhlKSxNYXRoLnNpbihlKSxuZXcgbXhQb2ludChjLGQpKSxiLng9Yy54LGIueT0KYy55KX07Cm14Q2VsbFJlbmRlcmVyLnByb3RvdHlwZS5yZWRyYXdDZWxsT3ZlcmxheXM9ZnVuY3Rpb24oYSxiKXt0aGlzLmNyZWF0ZUNlbGxPdmVybGF5cyhhKTtpZihudWxsIT1hLm92ZXJsYXlzKXt2YXIgYz1teFV0aWxzLm1vZChteFV0aWxzLmdldFZhbHVlKGEuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfUk9UQVRJT04sMCksOTApLGQ9bXhVdGlscy50b1JhZGlhbnMoYyksZT1NYXRoLmNvcyhkKSxmPU1hdGguc2luKGQpO2Eub3ZlcmxheXMudmlzaXQoZnVuY3Rpb24oZCxrKXt2YXIgZz1rLm92ZXJsYXkuZ2V0Qm91bmRzKGEpO2lmKCFhLnZpZXcuZ3JhcGguZ2V0TW9kZWwoKS5pc0VkZ2UoYS5jZWxsKSYmbnVsbCE9YS5zaGFwZSYmMCE9Yyl7dmFyIG09Zy5nZXRDZW50ZXJYKCksbj1nLmdldENlbnRlclkoKSxuPW14VXRpbHMuZ2V0Um90YXRlZFBvaW50KG5ldyBteFBvaW50KG0sbiksZSxmLG5ldyBteFBvaW50KGEuZ2V0Q2VudGVyWCgpLGEuZ2V0Q2VudGVyWSgpKSksbT1uLngsbj1uLnk7Zy54PQpNYXRoLnJvdW5kKG0tZy53aWR0aC8yKTtnLnk9TWF0aC5yb3VuZChuLWcuaGVpZ2h0LzIpfWlmKGJ8fG51bGw9PWsuYm91bmRzfHxrLnNjYWxlIT1hLnZpZXcuc2NhbGV8fCFrLmJvdW5kcy5lcXVhbHMoZykpay5ib3VuZHM9ZyxrLnNjYWxlPWEudmlldy5zY2FsZSxrLnJlZHJhdygpfSl9fTsKbXhDZWxsUmVuZGVyZXIucHJvdG90eXBlLnJlZHJhd0NvbnRyb2w9ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLnZpZXcuZ3JhcGguZ2V0Rm9sZGluZ0ltYWdlKGEpO2lmKG51bGwhPWEuY29udHJvbCYmbnVsbCE9Yyl7dmFyIGM9dGhpcy5nZXRDb250cm9sQm91bmRzKGEsYy53aWR0aCxjLmhlaWdodCksZD10aGlzLmxlZ2FjeUNvbnRyb2xQb3NpdGlvbj9teFV0aWxzLmdldFZhbHVlKGEuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfUk9UQVRJT04sMCk6YS5zaGFwZS5nZXRUZXh0Um90YXRpb24oKSxlPWEudmlldy5zY2FsZTtpZihifHxhLmNvbnRyb2wuc2NhbGUhPWV8fCFhLmNvbnRyb2wuYm91bmRzLmVxdWFscyhjKXx8YS5jb250cm9sLnJvdGF0aW9uIT1kKWEuY29udHJvbC5yb3RhdGlvbj1kLGEuY29udHJvbC5ib3VuZHM9YyxhLmNvbnRyb2wuc2NhbGU9ZSxhLmNvbnRyb2wucmVkcmF3KCl9fTsKbXhDZWxsUmVuZGVyZXIucHJvdG90eXBlLmdldENvbnRyb2xCb3VuZHM9ZnVuY3Rpb24oYSxiLGMpe2lmKG51bGwhPWEuY29udHJvbCl7dmFyIGQ9YS52aWV3LnNjYWxlLGU9YS5nZXRDZW50ZXJYKCksZj1hLmdldENlbnRlclkoKTtpZighYS52aWV3LmdyYXBoLmdldE1vZGVsKCkuaXNFZGdlKGEuY2VsbCkmJihlPWEueCtiKmQsZj1hLnkrYypkLG51bGwhPWEuc2hhcGUpKXt2YXIgZz1hLnNoYXBlLmdldFNoYXBlUm90YXRpb24oKTtpZih0aGlzLmxlZ2FjeUNvbnRyb2xQb3NpdGlvbilnPW14VXRpbHMuZ2V0VmFsdWUoYS5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9ST1RBVElPTiwwKTtlbHNlIGlmKGEuc2hhcGUuaXNQYWludEJvdW5kc0ludmVydGVkKCkpdmFyIGs9KGEud2lkdGgtYS5oZWlnaHQpLzIsZT1lK2ssZj1mLWs7MCE9ZyYmKGs9bXhVdGlscy50b1JhZGlhbnMoZyksZz1NYXRoLmNvcyhrKSxrPU1hdGguc2luKGspLGY9bXhVdGlscy5nZXRSb3RhdGVkUG9pbnQobmV3IG14UG9pbnQoZSwKZiksZyxrLG5ldyBteFBvaW50KGEuZ2V0Q2VudGVyWCgpLGEuZ2V0Q2VudGVyWSgpKSksZT1mLngsZj1mLnkpfXJldHVybiBhLnZpZXcuZ3JhcGguZ2V0TW9kZWwoKS5pc0VkZ2UoYS5jZWxsKSxuZXcgbXhSZWN0YW5nbGUoTWF0aC5yb3VuZChlLWIvMipkKSxNYXRoLnJvdW5kKGYtYy8yKmQpLE1hdGgucm91bmQoYipkKSxNYXRoLnJvdW5kKGMqZCkpfXJldHVybiBudWxsfTsKbXhDZWxsUmVuZGVyZXIucHJvdG90eXBlLmluc2VydFN0YXRlQWZ0ZXI9ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD10aGlzLmdldFNoYXBlc0ZvclN0YXRlKGEpLGU9MDtlPGQubGVuZ3RoO2UrKylpZihudWxsIT1kW2VdJiZudWxsIT1kW2VdLm5vZGUpe3ZhciBmPWRbZV0ubm9kZS5wYXJlbnROb2RlIT1hLnZpZXcuZ2V0RHJhd1BhbmUoKSYmZFtlXS5ub2RlLnBhcmVudE5vZGUhPWEudmlldy5nZXRPdmVybGF5UGFuZSgpLGc9Zj9jOmI7aWYobnVsbCE9ZyYmZy5uZXh0U2libGluZyE9ZFtlXS5ub2RlKW51bGw9PWcubmV4dFNpYmxpbmc/Zy5wYXJlbnROb2RlLmFwcGVuZENoaWxkKGRbZV0ubm9kZSk6Zy5wYXJlbnROb2RlLmluc2VydEJlZm9yZShkW2VdLm5vZGUsZy5uZXh0U2libGluZyk7ZWxzZSBpZihudWxsPT1nKWlmKGRbZV0ubm9kZS5wYXJlbnROb2RlPT1hLnZpZXcuZ3JhcGguY29udGFpbmVyKXtmb3IoZz1hLnZpZXcuY2FudmFzO251bGwhPWcmJmcucGFyZW50Tm9kZSE9CmEudmlldy5ncmFwaC5jb250YWluZXI7KWc9Zy5wYXJlbnROb2RlO251bGwhPWcmJm51bGwhPWcubmV4dFNpYmxpbmc/Zy5uZXh0U2libGluZyE9ZFtlXS5ub2RlJiZkW2VdLm5vZGUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZFtlXS5ub2RlLGcubmV4dFNpYmxpbmcpOmRbZV0ubm9kZS5wYXJlbnROb2RlLmFwcGVuZENoaWxkKGRbZV0ubm9kZSl9ZWxzZSBudWxsIT1kW2VdLm5vZGUucGFyZW50Tm9kZSYmbnVsbCE9ZFtlXS5ub2RlLnBhcmVudE5vZGUuZmlyc3RDaGlsZCYmZFtlXS5ub2RlLnBhcmVudE5vZGUuZmlyc3RDaGlsZCE9ZFtlXS5ub2RlJiZkW2VdLm5vZGUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZFtlXS5ub2RlLGRbZV0ubm9kZS5wYXJlbnROb2RlLmZpcnN0Q2hpbGQpO2Y/Yz1kW2VdLm5vZGU6Yj1kW2VdLm5vZGV9cmV0dXJuW2IsY119OwpteENlbGxSZW5kZXJlci5wcm90b3R5cGUuZ2V0U2hhcGVzRm9yU3RhdGU9ZnVuY3Rpb24oYSl7cmV0dXJuW2Euc2hhcGUsYS50ZXh0LGEuY29udHJvbF19O214Q2VsbFJlbmRlcmVyLnByb3RvdHlwZS5yZWRyYXc9ZnVuY3Rpb24oYSxiLGMpe2I9dGhpcy5yZWRyYXdTaGFwZShhLGIsYyk7bnVsbD09YS5zaGFwZXx8bnVsbCE9YyYmIWN8fCh0aGlzLnJlZHJhd0xhYmVsKGEsYiksdGhpcy5yZWRyYXdDZWxsT3ZlcmxheXMoYSxiKSx0aGlzLnJlZHJhd0NvbnRyb2woYSxiKSl9OwpteENlbGxSZW5kZXJlci5wcm90b3R5cGUucmVkcmF3U2hhcGU9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWEudmlldy5ncmFwaC5tb2RlbCxlPSExO251bGwhPWEuc2hhcGUmJm51bGwhPWEuc2hhcGUuc3R5bGUmJm51bGwhPWEuc3R5bGUmJmEuc2hhcGUuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfU0hBUEVdIT1hLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX1NIQVBFXSYmKGEuc2hhcGUuZGVzdHJveSgpLGEuc2hhcGU9bnVsbCk7bnVsbD09YS5zaGFwZSYmbnVsbCE9YS52aWV3LmdyYXBoLmNvbnRhaW5lciYmYS5jZWxsIT1hLnZpZXcuY3VycmVudFJvb3QmJihkLmlzVmVydGV4KGEuY2VsbCl8fGQuaXNFZGdlKGEuY2VsbCkpPyhhLnNoYXBlPXRoaXMuY3JlYXRlU2hhcGUoYSksbnVsbCE9YS5zaGFwZSYmKGEuc2hhcGUubWluU3ZnU3Ryb2tlV2lkdGg9dGhpcy5taW5TdmdTdHJva2VXaWR0aCxhLnNoYXBlLmFudGlBbGlhcz10aGlzLmFudGlBbGlhcyx0aGlzLmNyZWF0ZUluZGljYXRvclNoYXBlKGEpLAp0aGlzLmluaXRpYWxpemVTaGFwZShhKSx0aGlzLmNyZWF0ZUNlbGxPdmVybGF5cyhhKSx0aGlzLmluc3RhbGxMaXN0ZW5lcnMoYSksYS52aWV3LmdyYXBoLnNlbGVjdGlvbkNlbGxzSGFuZGxlci51cGRhdGVIYW5kbGVyKGEpKSk6Ynx8bnVsbD09YS5zaGFwZXx8bXhVdGlscy5lcXVhbEVudHJpZXMoYS5zaGFwZS5zdHlsZSxhLnN0eWxlKSYmIXRoaXMuY2hlY2tQbGFjZWhvbGRlclN0eWxlcyhhKXx8KGEuc2hhcGUucmVzZXRTdHlsZXMoKSx0aGlzLmNvbmZpZ3VyZVNoYXBlKGEpLGEudmlldy5ncmFwaC5zZWxlY3Rpb25DZWxsc0hhbmRsZXIudXBkYXRlSGFuZGxlcihhKSxiPSEwKTtudWxsIT1hLnNoYXBlJiZhLnNoYXBlLmluZGljYXRvclNoYXBlIT10aGlzLmdldFNoYXBlKGEudmlldy5ncmFwaC5nZXRJbmRpY2F0b3JTaGFwZShhKSkmJihudWxsIT1hLnNoYXBlLmluZGljYXRvciYmKGEuc2hhcGUuaW5kaWNhdG9yLmRlc3Ryb3koKSxhLnNoYXBlLmluZGljYXRvcj1udWxsKSx0aGlzLmNyZWF0ZUluZGljYXRvclNoYXBlKGEpLApudWxsIT1hLnNoYXBlLmluZGljYXRvclNoYXBlJiYoYS5zaGFwZS5pbmRpY2F0b3I9bmV3IGEuc2hhcGUuaW5kaWNhdG9yU2hhcGUsYS5zaGFwZS5pbmRpY2F0b3IuZGlhbGVjdD1hLnNoYXBlLmRpYWxlY3QsYS5zaGFwZS5pbmRpY2F0b3IuaW5pdChhLm5vZGUpLGI9ITApKTtudWxsIT1hLnNoYXBlJiYodGhpcy5jcmVhdGVDb250cm9sKGEpLGJ8fHRoaXMuaXNTaGFwZUludmFsaWQoYSxhLnNoYXBlKSkmJihudWxsIT1hLmFic29sdXRlUG9pbnRzPyhhLnNoYXBlLnBvaW50cz1hLmFic29sdXRlUG9pbnRzLnNsaWNlKCksYS5zaGFwZS5ib3VuZHM9bnVsbCk6KGEuc2hhcGUucG9pbnRzPW51bGwsYS5zaGFwZS5ib3VuZHM9bmV3IG14UmVjdGFuZ2xlKGEueCxhLnksYS53aWR0aCxhLmhlaWdodCkpLGEuc2hhcGUuc2NhbGU9YS52aWV3LnNjYWxlLG51bGw9PWN8fGM/dGhpcy5kb1JlZHJhd1NoYXBlKGEpOmEuc2hhcGUudXBkYXRlQm91bmRpbmdCb3goKSxlPSEwKTtyZXR1cm4gZX07Cm14Q2VsbFJlbmRlcmVyLnByb3RvdHlwZS5kb1JlZHJhd1NoYXBlPWZ1bmN0aW9uKGEpe2Euc2hhcGUucmVkcmF3KCl9O214Q2VsbFJlbmRlcmVyLnByb3RvdHlwZS5pc1NoYXBlSW52YWxpZD1mdW5jdGlvbihhLGIpe3JldHVybiBudWxsPT1iLmJvdW5kc3x8Yi5zY2FsZSE9YS52aWV3LnNjYWxlfHxudWxsPT1hLmFic29sdXRlUG9pbnRzJiYhYi5ib3VuZHMuZXF1YWxzKGEpfHxudWxsIT1hLmFic29sdXRlUG9pbnRzJiYhbXhVdGlscy5lcXVhbFBvaW50cyhiLnBvaW50cyxhLmFic29sdXRlUG9pbnRzKX07Cm14Q2VsbFJlbmRlcmVyLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKGEpe251bGwhPWEuc2hhcGUmJihudWxsIT1hLnRleHQmJihhLnRleHQuZGVzdHJveSgpLGEudGV4dD1udWxsKSxudWxsIT1hLm92ZXJsYXlzJiYoYS5vdmVybGF5cy52aXNpdChmdW5jdGlvbihhLGMpe2MuZGVzdHJveSgpfSksYS5vdmVybGF5cz1udWxsKSxudWxsIT1hLmNvbnRyb2wmJihhLmNvbnRyb2wuZGVzdHJveSgpLGEuY29udHJvbD1udWxsKSxhLnNoYXBlLmRlc3Ryb3koKSxhLnNoYXBlPW51bGwpfTsKdmFyIG14RWRnZVN0eWxlPXtFbnRpdHlSZWxhdGlvbjpmdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmPWEudmlldyxnPWYuZ3JhcGg7ZD1teFV0aWxzLmdldFZhbHVlKGEuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfU0VHTUVOVCxteENvbnN0YW50cy5FTlRJVFlfU0VHTUVOVCkqZi5zY2FsZTt2YXIgaz1hLmFic29sdXRlUG9pbnRzLGw9a1swXSxtPWtbay5sZW5ndGgtMV0saz0hMTtpZihudWxsIT1sKWI9bmV3IG14Q2VsbFN0YXRlLGIueD1sLngsYi55PWwueTtlbHNlIGlmKG51bGwhPWIpe3ZhciBuPW14VXRpbHMuZ2V0UG9ydENvbnN0cmFpbnRzKGIsYSwhMCxteENvbnN0YW50cy5ESVJFQ1RJT05fTUFTS19OT05FKTtuIT1teENvbnN0YW50cy5ESVJFQ1RJT05fTUFTS19OT05FJiZuIT1teENvbnN0YW50cy5ESVJFQ1RJT05fTUFTS19XRVNUK214Q29uc3RhbnRzLkRJUkVDVElPTl9NQVNLX0VBU1Q/az1uPT1teENvbnN0YW50cy5ESVJFQ1RJT05fTUFTS19XRVNUOihsPWcuZ2V0Q2VsbEdlb21ldHJ5KGIuY2VsbCksCmwucmVsYXRpdmU/az0uNT49bC54Om51bGwhPWMmJihrPWMueCtjLndpZHRoPGIueCkpfWVsc2UgcmV0dXJuO2w9ITA7bnVsbCE9bT8oYz1uZXcgbXhDZWxsU3RhdGUsYy54PW0ueCxjLnk9bS55KTpudWxsIT1jJiYobj1teFV0aWxzLmdldFBvcnRDb25zdHJhaW50cyhjLGEsITEsbXhDb25zdGFudHMuRElSRUNUSU9OX01BU0tfTk9ORSksbiE9bXhDb25zdGFudHMuRElSRUNUSU9OX01BU0tfTk9ORSYmbiE9bXhDb25zdGFudHMuRElSRUNUSU9OX01BU0tfV0VTVCtteENvbnN0YW50cy5ESVJFQ1RJT05fTUFTS19FQVNUP2w9bj09bXhDb25zdGFudHMuRElSRUNUSU9OX01BU0tfV0VTVDooYT1nLmdldENlbGxHZW9tZXRyeShjLmNlbGwpLGEucmVsYXRpdmU/bD0uNT49YS54Om51bGwhPWImJihsPWIueCtiLndpZHRoPGMueCkpKTtudWxsIT1iJiZudWxsIT1jJiYoYT1rP2IueDpiLngrYi53aWR0aCxiPWYuZ2V0Um91dGluZ0NlbnRlclkoYiksZz1sP2MueDpjLngrYy53aWR0aCxjPWYuZ2V0Um91dGluZ0NlbnRlclkoYyksCmY9bmV3IG14UG9pbnQoYSsoaz8tZDpkKSxiKSxtPW5ldyBteFBvaW50KGcrKGw/LWQ6ZCksYyksaz09bD8oZD1rP01hdGgubWluKGEsZyktZDpNYXRoLm1heChhLGcpK2QsZS5wdXNoKG5ldyBteFBvaW50KGQsYikpLGUucHVzaChuZXcgbXhQb2ludChkLGMpKSk6KGYueDxtLng9PWs/KGQ9YisoYy1iKS8yLGUucHVzaChmKSxlLnB1c2gobmV3IG14UG9pbnQoZi54LGQpKSxlLnB1c2gobmV3IG14UG9pbnQobS54LGQpKSk6ZS5wdXNoKGYpLGUucHVzaChtKSkpfSxMb29wOmZ1bmN0aW9uKGEsYixjLGQsZSl7Yz1hLmFic29sdXRlUG9pbnRzO3ZhciBmPWNbYy5sZW5ndGgtMV07aWYobnVsbCE9Y1swXSYmbnVsbCE9Zil7aWYobnVsbCE9ZCYmMDxkLmxlbmd0aClmb3IoYj0wO2I8ZC5sZW5ndGg7YisrKWM9ZFtiXSxjPWEudmlldy50cmFuc2Zvcm1Db250cm9sUG9pbnQoYSxjKSxlLnB1c2gobmV3IG14UG9pbnQoYy54LGMueSkpfWVsc2UgaWYobnVsbCE9Yil7dmFyIGY9YS52aWV3LGc9Zi5ncmFwaDsKYz1udWxsIT1kJiYwPGQubGVuZ3RoP2RbMF06bnVsbDtudWxsIT1jJiYoYz1mLnRyYW5zZm9ybUNvbnRyb2xQb2ludChhLGMpLG14VXRpbHMuY29udGFpbnMoYixjLngsYy55KSYmKGM9bnVsbCkpO3ZhciBrPWQ9MCxsPTAsbT0wLGc9bXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX1NFR01FTlQsZy5ncmlkU2l6ZSkqZi5zY2FsZTthPW14VXRpbHMuZ2V0VmFsdWUoYS5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9ESVJFQ1RJT04sbXhDb25zdGFudHMuRElSRUNUSU9OX1dFU1QpO2E9PW14Q29uc3RhbnRzLkRJUkVDVElPTl9OT1JUSHx8YT09bXhDb25zdGFudHMuRElSRUNUSU9OX1NPVVRIPyhkPWYuZ2V0Um91dGluZ0NlbnRlclgoYiksaz1nKToobD1mLmdldFJvdXRpbmdDZW50ZXJZKGIpLG09Zyk7bnVsbD09Y3x8Yy54PGIueHx8Yy54PmIueCtiLndpZHRoP251bGwhPWM/KGQ9Yy54LG09TWF0aC5tYXgoTWF0aC5hYnMobC1jLnkpLG0pKTphPT1teENvbnN0YW50cy5ESVJFQ1RJT05fTk9SVEg/Cmw9Yi55LTIqazphPT1teENvbnN0YW50cy5ESVJFQ1RJT05fU09VVEg/bD1iLnkrYi5oZWlnaHQrMiprOmQ9YT09bXhDb25zdGFudHMuRElSRUNUSU9OX0VBU1Q/Yi54LTIqbTpiLngrYi53aWR0aCsyKm06bnVsbCE9YyYmKGQ9Zi5nZXRSb3V0aW5nQ2VudGVyWChiKSxrPU1hdGgubWF4KE1hdGguYWJzKGQtYy54KSxtKSxsPWMueSxtPTApO2UucHVzaChuZXcgbXhQb2ludChkLWssbC1tKSk7ZS5wdXNoKG5ldyBteFBvaW50KGQrayxsK20pKX19LEVsYm93Q29ubmVjdG9yOmZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9bnVsbCE9ZCYmMDxkLmxlbmd0aD9kWzBdOm51bGwsZz0hMSxrPSExO2lmKG51bGwhPWImJm51bGwhPWMpaWYobnVsbCE9Zil2YXIgbD1NYXRoLm1pbihiLngsYy54KSxtPU1hdGgubWF4KGIueCtiLndpZHRoLGMueCtjLndpZHRoKSxrPU1hdGgubWluKGIueSxjLnkpLG49TWF0aC5tYXgoYi55K2IuaGVpZ2h0LGMueStjLmhlaWdodCksZj1hLnZpZXcudHJhbnNmb3JtQ29udHJvbFBvaW50KGEsCmYpLGc9Zi55PGt8fGYueT5uLGs9Zi54PGx8fGYueD5tO2Vsc2UgbD1NYXRoLm1heChiLngsYy54KSxtPU1hdGgubWluKGIueCtiLndpZHRoLGMueCtjLndpZHRoKSwoZz1sPT1tKXx8KGs9TWF0aC5tYXgoYi55LGMueSksbj1NYXRoLm1pbihiLnkrYi5oZWlnaHQsYy55K2MuaGVpZ2h0KSxrPWs9PW4pO2t8fCFnJiZhLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX0VMQk9XXSE9bXhDb25zdGFudHMuRUxCT1dfVkVSVElDQUw/bXhFZGdlU3R5bGUuU2lkZVRvU2lkZShhLGIsYyxkLGUpOm14RWRnZVN0eWxlLlRvcFRvQm90dG9tKGEsYixjLGQsZSl9LFNpZGVUb1NpZGU6ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZj1hLnZpZXc7ZD1udWxsIT1kJiYwPGQubGVuZ3RoP2RbMF06bnVsbDt2YXIgZz1hLmFic29sdXRlUG9pbnRzLGs9Z1swXSxnPWdbZy5sZW5ndGgtMV07bnVsbCE9ZCYmKGQ9Zi50cmFuc2Zvcm1Db250cm9sUG9pbnQoYSxkKSk7bnVsbCE9ayYmKGI9bmV3IG14Q2VsbFN0YXRlLApiLng9ay54LGIueT1rLnkpO251bGwhPWcmJihjPW5ldyBteENlbGxTdGF0ZSxjLng9Zy54LGMueT1nLnkpO251bGwhPWImJm51bGwhPWMmJihhPU1hdGgubWF4KGIueCxjLngpLGs9TWF0aC5taW4oYi54K2Iud2lkdGgsYy54K2Mud2lkdGgpLGE9bnVsbCE9ZD9kLng6TWF0aC5yb3VuZChrKyhhLWspLzIpLGs9Zi5nZXRSb3V0aW5nQ2VudGVyWShiKSxmPWYuZ2V0Um91dGluZ0NlbnRlclkoYyksbnVsbCE9ZCYmKGQueT49Yi55JiZkLnk8PWIueStiLmhlaWdodCYmKGs9ZC55KSxkLnk+PWMueSYmZC55PD1jLnkrYy5oZWlnaHQmJihmPWQueSkpLG14VXRpbHMuY29udGFpbnMoYyxhLGspfHxteFV0aWxzLmNvbnRhaW5zKGIsYSxrKXx8ZS5wdXNoKG5ldyBteFBvaW50KGEsaykpLG14VXRpbHMuY29udGFpbnMoYyxhLGYpfHxteFV0aWxzLmNvbnRhaW5zKGIsYSxmKXx8ZS5wdXNoKG5ldyBteFBvaW50KGEsZikpLDE9PWUubGVuZ3RoJiYobnVsbCE9ZD9teFV0aWxzLmNvbnRhaW5zKGMsYSwKZC55KXx8bXhVdGlscy5jb250YWlucyhiLGEsZC55KXx8ZS5wdXNoKG5ldyBteFBvaW50KGEsZC55KSk6KGY9TWF0aC5tYXgoYi55LGMueSksZS5wdXNoKG5ldyBteFBvaW50KGEsZisoTWF0aC5taW4oYi55K2IuaGVpZ2h0LGMueStjLmhlaWdodCktZikvMikpKSkpfSxUb3BUb0JvdHRvbTpmdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmPWEudmlldztkPW51bGwhPWQmJjA8ZC5sZW5ndGg/ZFswXTpudWxsO3ZhciBnPWEuYWJzb2x1dGVQb2ludHMsaz1nWzBdLGc9Z1tnLmxlbmd0aC0xXTtudWxsIT1kJiYoZD1mLnRyYW5zZm9ybUNvbnRyb2xQb2ludChhLGQpKTtudWxsIT1rJiYoYj1uZXcgbXhDZWxsU3RhdGUsYi54PWsueCxiLnk9ay55KTtudWxsIT1nJiYoYz1uZXcgbXhDZWxsU3RhdGUsYy54PWcueCxjLnk9Zy55KTtudWxsIT1iJiZudWxsIT1jJiYoaz1NYXRoLm1heChiLnksYy55KSxnPU1hdGgubWluKGIueStiLmhlaWdodCxjLnkrYy5oZWlnaHQpLGE9Zi5nZXRSb3V0aW5nQ2VudGVyWChiKSwKbnVsbCE9ZCYmZC54Pj1iLngmJmQueDw9Yi54K2Iud2lkdGgmJihhPWQueCksaz1udWxsIT1kP2QueTpNYXRoLnJvdW5kKGcrKGstZykvMiksbXhVdGlscy5jb250YWlucyhjLGEsayl8fG14VXRpbHMuY29udGFpbnMoYixhLGspfHxlLnB1c2gobmV3IG14UG9pbnQoYSxrKSksYT1udWxsIT1kJiZkLng+PWMueCYmZC54PD1jLngrYy53aWR0aD9kLng6Zi5nZXRSb3V0aW5nQ2VudGVyWChjKSxteFV0aWxzLmNvbnRhaW5zKGMsYSxrKXx8bXhVdGlscy5jb250YWlucyhiLGEsayl8fGUucHVzaChuZXcgbXhQb2ludChhLGspKSwxPT1lLmxlbmd0aCYmKG51bGwhPWQmJjE9PWUubGVuZ3RoP214VXRpbHMuY29udGFpbnMoYyxkLngsayl8fG14VXRpbHMuY29udGFpbnMoYixkLngsayl8fGUucHVzaChuZXcgbXhQb2ludChkLngsaykpOihmPU1hdGgubWF4KGIueCxjLngpLGUucHVzaChuZXcgbXhQb2ludChmKyhNYXRoLm1pbihiLngrYi53aWR0aCxjLngrYy53aWR0aCktZikvMixrKSkpKSl9LApTZWdtZW50Q29ubmVjdG9yOmZ1bmN0aW9uKGEsYixjLGQsZSl7ZnVuY3Rpb24gZihiKXtiLng9TWF0aC5yb3VuZChiLngqYS52aWV3LnNjYWxlKjEwKS8xMDtiLnk9TWF0aC5yb3VuZChiLnkqYS52aWV3LnNjYWxlKjEwKS8xMDtpZihudWxsPT1rfHwxPD1NYXRoLmFicyhrLngtYi54KXx8TWF0aC5hYnMoay55LWIueSk+PU1hdGgubWF4KDEsYS52aWV3LnNjYWxlKSllLnB1c2goYiksaz1iO3JldHVybiBrfXZhciBnPW14RWRnZVN0eWxlLnNjYWxlUG9pbnRBcnJheShhLmFic29sdXRlUG9pbnRzLGEudmlldy5zY2FsZSk7Yj1teEVkZ2VTdHlsZS5zY2FsZUNlbGxTdGF0ZShiLGEudmlldy5zY2FsZSk7Yz1teEVkZ2VTdHlsZS5zY2FsZUNlbGxTdGF0ZShjLGEudmlldy5zY2FsZSk7dmFyIGs9MDxlLmxlbmd0aD9lWzBdOm51bGwsbD0hMCxtPW51bGwsbj1nWzBdO251bGw9PW4mJm51bGwhPWI/bj1uZXcgbXhQb2ludChhLnZpZXcuZ2V0Um91dGluZ0NlbnRlclgoYiksYS52aWV3LmdldFJvdXRpbmdDZW50ZXJZKGIpKToKbnVsbCE9biYmKG49bi5jbG9uZSgpKTt2YXIgcD1nLmxlbmd0aC0xO2lmKG51bGwhPWQmJjA8ZC5sZW5ndGgpe2Zvcih2YXIgcT1bXSxyPTA7cjxkLmxlbmd0aDtyKyspe3ZhciB0PWEudmlldy50cmFuc2Zvcm1Db250cm9sUG9pbnQoYSxkW3JdLCEwKTtudWxsIT10JiZxLnB1c2godCl9aWYoMD09cS5sZW5ndGgpcmV0dXJuO251bGwhPW4mJm51bGwhPXFbMF0mJigxPk1hdGguYWJzKHFbMF0ueC1uLngpJiYocVswXS54PW4ueCksMT5NYXRoLmFicyhxWzBdLnktbi55KSYmKHFbMF0ueT1uLnkpKTt0PWdbcF07bnVsbCE9dCYmbnVsbCE9cVtxLmxlbmd0aC0xXSYmKDE+TWF0aC5hYnMocVtxLmxlbmd0aC0xXS54LXQueCkmJihxW3EubGVuZ3RoLTFdLng9dC54KSwxPk1hdGguYWJzKHFbcS5sZW5ndGgtMV0ueS10LnkpJiYocVtxLmxlbmd0aC0xXS55PXQueSkpO3ZhciBtPXFbMF0sdT1iO2Q9Z1swXTt2YXIgeD0hMSx5PSExLHg9bTtudWxsIT1kJiYodT1udWxsKTtmb3Iocj0wOzI+cjtyKyspe3ZhciBCPQpudWxsIT1kJiZkLng9PXgueCxBPW51bGwhPWQmJmQueT09eC55LHo9bnVsbCE9dSYmeC55Pj11LnkmJngueTw9dS55K3UuaGVpZ2h0LHU9bnVsbCE9dSYmeC54Pj11LngmJngueDw9dS54K3Uud2lkdGgseD1BfHxudWxsPT1kJiZ6LHk9Qnx8bnVsbD09ZCYmdTtpZigwIT1yfHwhKHgmJnl8fEImJkEpKXtpZihudWxsIT1kJiYhQSYmIUImJih6fHx1KSl7bD16PyExOiEwO2JyZWFrfWlmKHl8fHgpe2w9eDsxPT1yJiYobD0wPT1xLmxlbmd0aCUyP3g6eSk7YnJlYWt9fXU9YztkPWdbcF07bnVsbCE9ZCYmKHU9bnVsbCk7eD1xW3EubGVuZ3RoLTFdO0ImJkEmJihxPXEuc2xpY2UoMSkpfWwmJihudWxsIT1nWzBdJiZnWzBdLnkhPW0ueXx8bnVsbD09Z1swXSYmbnVsbCE9YiYmKG0ueTxiLnl8fG0ueT5iLnkrYi5oZWlnaHQpKT9mKG5ldyBteFBvaW50KG4ueCxtLnkpKTohbCYmKG51bGwhPWdbMF0mJmdbMF0ueCE9bS54fHxudWxsPT1nWzBdJiZudWxsIT1iJiYobS54PGIueHx8bS54PmIueCsKYi53aWR0aCkpJiZmKG5ldyBteFBvaW50KG0ueCxuLnkpKTtsP24ueT1tLnk6bi54PW0ueDtmb3Iocj0wO3I8cS5sZW5ndGg7cisrKWw9IWwsbT1xW3JdLGw/bi55PW0ueTpuLng9bS54LGYobi5jbG9uZSgpKX1lbHNlIG09bixsPSEwO249Z1twXTtudWxsPT1uJiZudWxsIT1jJiYobj1uZXcgbXhQb2ludChhLnZpZXcuZ2V0Um91dGluZ0NlbnRlclgoYyksYS52aWV3LmdldFJvdXRpbmdDZW50ZXJZKGMpKSk7bnVsbCE9biYmbnVsbCE9bSYmKGwmJihudWxsIT1nW3BdJiZnW3BdLnkhPW0ueXx8bnVsbD09Z1twXSYmbnVsbCE9YyYmKG0ueTxjLnl8fG0ueT5jLnkrYy5oZWlnaHQpKT9mKG5ldyBteFBvaW50KG4ueCxtLnkpKTohbCYmKG51bGwhPWdbcF0mJmdbcF0ueCE9bS54fHxudWxsPT1nW3BdJiZudWxsIT1jJiYobS54PGMueHx8bS54PmMueCtjLndpZHRoKSkmJmYobmV3IG14UG9pbnQobS54LG4ueSkpKTtpZihudWxsPT1nWzBdJiZudWxsIT1iKWZvcig7MTxlLmxlbmd0aCYmbnVsbCE9CmVbMV0mJm14VXRpbHMuY29udGFpbnMoYixlWzFdLngsZVsxXS55KTspZS5zcGxpY2UoMSwxKTtpZihudWxsPT1nW3BdJiZudWxsIT1jKWZvcig7MTxlLmxlbmd0aCYmbnVsbCE9ZVtlLmxlbmd0aC0xXSYmbXhVdGlscy5jb250YWlucyhjLGVbZS5sZW5ndGgtMV0ueCxlW2UubGVuZ3RoLTFdLnkpOyllLnNwbGljZShlLmxlbmd0aC0xLDEpO251bGwhPXQmJm51bGwhPWVbZS5sZW5ndGgtMV0mJjE+PU1hdGguYWJzKHQueC1lW2UubGVuZ3RoLTFdLngpJiYxPj1NYXRoLmFicyh0LnktZVtlLmxlbmd0aC0xXS55KSYmKGUuc3BsaWNlKGUubGVuZ3RoLTEsMSksbnVsbCE9ZVtlLmxlbmd0aC0xXSYmKDE+TWF0aC5hYnMoZVtlLmxlbmd0aC0xXS54LXQueCkmJihlW2UubGVuZ3RoLTFdLng9dC54KSwxPk1hdGguYWJzKGVbZS5sZW5ndGgtMV0ueS10LnkpJiYoZVtlLmxlbmd0aC0xXS55PXQueSkpKX0sb3J0aEJ1ZmZlcjoxMCxvcnRoUG9pbnRzRmFsbGJhY2s6ITAsZGlyVmVjdG9yczpbWy0xLAowXSxbMCwtMV0sWzEsMF0sWzAsMV0sWy0xLDBdLFswLC0xXSxbMSwwXV0sd2F5UG9pbnRzMTpbWzAsMF0sWzAsMF0sWzAsMF0sWzAsMF0sWzAsMF0sWzAsMF0sWzAsMF0sWzAsMF0sWzAsMF0sWzAsMF0sWzAsMF0sWzAsMF1dLHJvdXRlUGF0dGVybnM6W1tbNTEzLDIzMDgsMjA4MSwyNTYyXSxbNTEzLDEwOTAsNTE0LDIxODQsMjExNCwyNTYxXSxbNTEzLDEwOTAsNTE0LDI1NjQsMjE4NCwyNTYyXSxbNTEzLDIzMDgsMjU2MSwxMDkwLDUxNCwyNTY4LDIzMDhdXSxbWzUxNCwxMDU3LDUxMywyMzA4LDIwODEsMjU2Ml0sWzUxNCwyMTg0LDIxMTQsMjU2MV0sWzUxNCwyMTg0LDI1NjIsMTA1Nyw1MTMsMjU2NCwyMTg0XSxbNTE0LDEwNTcsNTEzLDI1NjgsMjMwOCwyNTYxXV0sW1sxMDkwLDUxNCwxMDU3LDUxMywyMzA4LDIwODEsMjU2Ml0sWzIxMTQsMjU2MV0sWzEwOTAsMjU2MiwxMDU3LDUxMywyNTY0LDIxODRdLFsxMDkwLDUxNCwxMDU3LDUxMywyMzA4LDI1NjEsMjU2OF1dLFtbMjA4MSwKMjU2Ml0sWzEwNTcsNTEzLDEwOTAsNTE0LDIxODQsMjExNCwyNTYxXSxbMTA1Nyw1MTMsMTA5MCw1MTQsMjE4NCwyNTYyLDI1NjRdLFsxMDU3LDI1NjEsMTA5MCw1MTQsMjU2OCwyMzA4XV1dLGlubGluZVJvdXRlUGF0dGVybnM6W1tudWxsLFsyMTE0LDI1NjhdLG51bGwsbnVsbF0sW251bGwsWzUxNCwyMDgxLDIxMTQsMjU2OF0sbnVsbCxudWxsXSxbbnVsbCxbMjExNCwyNTYxXSxudWxsLG51bGxdLFtbMjA4MSwyNTYyXSxbMTA1NywyMTE0LDI1NjhdLFsyMTg0LDI1NjJdLG51bGxdXSx2ZXJ0ZXhTZXBlcmF0aW9uczpbXSxsaW1pdHM6W1swLDAsMCwwLDAsMCwwLDAsMF0sWzAsMCwwLDAsMCwwLDAsMCwwXV0sTEVGVF9NQVNLOjMyLFRPUF9NQVNLOjY0LFJJR0hUX01BU0s6MTI4LEJPVFRPTV9NQVNLOjI1NixMRUZUOjEsVE9QOjIsUklHSFQ6NCxCT1RUT006OCxTSURFX01BU0s6NDgwLENFTlRFUl9NQVNLOjUxMixTT1VSQ0VfTUFTSzoxMDI0LFRBUkdFVF9NQVNLOjIwNDgsVkVSVEVYX01BU0s6MzA3MiwKZ2V0SmV0dHlTaXplOmZ1bmN0aW9uKGEsYil7dmFyIGM9bXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLGI/bXhDb25zdGFudHMuU1RZTEVfU09VUkNFX0pFVFRZX1NJWkU6bXhDb25zdGFudHMuU1RZTEVfVEFSR0VUX0pFVFRZX1NJWkUsbXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0pFVFRZX1NJWkUsbXhFZGdlU3R5bGUub3J0aEJ1ZmZlcikpOyJhdXRvIj09YyYmKG14VXRpbHMuZ2V0VmFsdWUoYS5zdHlsZSxiP214Q29uc3RhbnRzLlNUWUxFX1NUQVJUQVJST1c6bXhDb25zdGFudHMuU1RZTEVfRU5EQVJST1csbXhDb25zdGFudHMuTk9ORSkhPW14Q29uc3RhbnRzLk5PTkU/KGM9bXhVdGlscy5nZXROdW1iZXIoYS5zdHlsZSxiP214Q29uc3RhbnRzLlNUWUxFX1NUQVJUU0laRTpteENvbnN0YW50cy5TVFlMRV9FTkRTSVpFLG14Q29uc3RhbnRzLkRFRkFVTFRfTUFSS0VSU0laRSksYz1NYXRoLm1heCgyLE1hdGguY2VpbCgoYytteEVkZ2VTdHlsZS5vcnRoQnVmZmVyKS8KbXhFZGdlU3R5bGUub3J0aEJ1ZmZlcikpKm14RWRnZVN0eWxlLm9ydGhCdWZmZXIpOmM9MipteEVkZ2VTdHlsZS5vcnRoQnVmZmVyKTtyZXR1cm4gY30sc2NhbGVQb2ludEFycmF5OmZ1bmN0aW9uKGEsYil7dmFyIGM9W107aWYobnVsbCE9YSlmb3IodmFyIGQ9MDtkPGEubGVuZ3RoO2QrKylpZihudWxsIT1hW2RdKXt2YXIgZT1uZXcgbXhQb2ludChNYXRoLnJvdW5kKGFbZF0ueC9iKjEwKS8xMCxNYXRoLnJvdW5kKGFbZF0ueS9iKjEwKS8xMCk7Y1tkXT1lfWVsc2UgY1tkXT1udWxsO2Vsc2UgYz1udWxsO3JldHVybiBjfSxzY2FsZUNlbGxTdGF0ZTpmdW5jdGlvbihhLGIpe3ZhciBjO251bGwhPWE/KGM9YS5jbG9uZSgpLGMuc2V0UmVjdChNYXRoLnJvdW5kKGEueC9iKjEwKS8xMCxNYXRoLnJvdW5kKGEueS9iKjEwKS8xMCxNYXRoLnJvdW5kKGEud2lkdGgvYioxMCkvMTAsTWF0aC5yb3VuZChhLmhlaWdodC9iKjEwKS8xMCkpOmM9bnVsbDtyZXR1cm4gY30sT3J0aENvbm5lY3RvcjpmdW5jdGlvbihhLApiLGMsZCxlKXt2YXIgZj1hLnZpZXcuZ3JhcGgsZz1udWxsPT1sPyExOmYuZ2V0TW9kZWwoKS5pc0VkZ2UobC5jZWxsKSxrPW51bGw9PW0/ITE6Zi5nZXRNb2RlbCgpLmlzRWRnZShtLmNlbGwpLGY9bXhFZGdlU3R5bGUuc2NhbGVQb2ludEFycmF5KGEuYWJzb2x1dGVQb2ludHMsYS52aWV3LnNjYWxlKSxsPW14RWRnZVN0eWxlLnNjYWxlQ2VsbFN0YXRlKGIsYS52aWV3LnNjYWxlKSxtPW14RWRnZVN0eWxlLnNjYWxlQ2VsbFN0YXRlKGMsYS52aWV3LnNjYWxlKSxuPWZbMF0scD1mW2YubGVuZ3RoLTFdLHE9bnVsbCE9bD9sLng6bi54LHI9bnVsbCE9bD9sLnk6bi55LHQ9bnVsbCE9bD9sLndpZHRoOjAsdT1udWxsIT1sP2wuaGVpZ2h0OjAseD1udWxsIT1tP20ueDpwLngseT1udWxsIT1tP20ueTpwLnksQj1udWxsIT1tP20ud2lkdGg6MCxBPW51bGwhPW0/bS5oZWlnaHQ6MCxmPW14RWRnZVN0eWxlLmdldEpldHR5U2l6ZShhLCEwKSx6PW14RWRnZVN0eWxlLmdldEpldHR5U2l6ZShhLCExKTsKbnVsbCE9bCYmbT09bCYmKGY9ej1NYXRoLm1heChmLHopKTt2YXIgQz16K2Ysdj0hMTtpZihudWxsIT1uJiZudWxsIT1wKXZhciB2PXAueC1uLngsRD1wLnktbi55LHY9dip2K0QqRDxDKkM7aWYodnx8bXhFZGdlU3R5bGUub3J0aFBvaW50c0ZhbGxiYWNrJiZudWxsIT1kJiYwPGQubGVuZ3RofHxnfHxrKW14RWRnZVN0eWxlLlNlZ21lbnRDb25uZWN0b3IoYSxiLGMsZCxlKTtlbHNle2M9W214Q29uc3RhbnRzLkRJUkVDVElPTl9NQVNLX0FMTCxteENvbnN0YW50cy5ESVJFQ1RJT05fTUFTS19BTExdO251bGwhPWwmJihjWzBdPW14VXRpbHMuZ2V0UG9ydENvbnN0cmFpbnRzKGwsYSwhMCxteENvbnN0YW50cy5ESVJFQ1RJT05fTUFTS19BTEwpLGI9bXhVdGlscy5nZXRWYWx1ZShsLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX1JPVEFUSU9OLDApLDAhPWImJihiPW14VXRpbHMuZ2V0Qm91bmRpbmdCb3gobmV3IG14UmVjdGFuZ2xlKHEscix0LHUpLGIpLHE9Yi54LHI9Yi55LHQ9Yi53aWR0aCwKdT1iLmhlaWdodCkpO251bGwhPW0mJihjWzFdPW14VXRpbHMuZ2V0UG9ydENvbnN0cmFpbnRzKG0sYSwhMSxteENvbnN0YW50cy5ESVJFQ1RJT05fTUFTS19BTEwpLGI9bXhVdGlscy5nZXRWYWx1ZShtLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX1JPVEFUSU9OLDApLDAhPWImJihiPW14VXRpbHMuZ2V0Qm91bmRpbmdCb3gobmV3IG14UmVjdGFuZ2xlKHgseSxCLEEpLGIpLHg9Yi54LHk9Yi55LEI9Yi53aWR0aCxBPWIuaGVpZ2h0KSk7Yj1bMCwwXTtxPVtbcSxyLHQsdV0sW3gseSxCLEFdXTt6PVtmLHpdO2Zvcih2PTA7Mj52O3YrKylteEVkZ2VTdHlsZS5saW1pdHNbdl1bMV09cVt2XVswXS16W3ZdLG14RWRnZVN0eWxlLmxpbWl0c1t2XVsyXT1xW3ZdWzFdLXpbdl0sbXhFZGdlU3R5bGUubGltaXRzW3ZdWzRdPXFbdl1bMF0rcVt2XVsyXSt6W3ZdLG14RWRnZVN0eWxlLmxpbWl0c1t2XVs4XT1xW3ZdWzFdK3Fbdl1bM10relt2XTt6PXFbMF1bMV0rcVswXVszXS8yO3I9cVsxXVsxXStxWzFdWzNdLwoyO3Y9cVswXVswXStxWzBdWzJdLzItKHFbMV1bMF0rcVsxXVsyXS8yKTtEPXotcjt6PTA7MD52P3o9MD5EPzI6MTowPj1EJiYoej0zLDA9PXYmJih6PTIpKTtyPW51bGw7bnVsbCE9bCYmKHI9bik7bD1bWy41LC41XSxbLjUsLjVdXTtmb3Iodj0wOzI+djt2KyspbnVsbCE9ciYmKGxbdl1bMF09KHIueC1xW3ZdWzBdKS9xW3ZdWzJdLDE+PU1hdGguYWJzKHIueC1xW3ZdWzBdKT9iW3ZdPW14Q29uc3RhbnRzLkRJUkVDVElPTl9NQVNLX1dFU1Q6MT49TWF0aC5hYnMoci54LXFbdl1bMF0tcVt2XVsyXSkmJihiW3ZdPW14Q29uc3RhbnRzLkRJUkVDVElPTl9NQVNLX0VBU1QpLGxbdl1bMV09KHIueS1xW3ZdWzFdKS9xW3ZdWzNdLDE+PU1hdGguYWJzKHIueS1xW3ZdWzFdKT9iW3ZdPW14Q29uc3RhbnRzLkRJUkVDVElPTl9NQVNLX05PUlRIOjE+PU1hdGguYWJzKHIueS1xW3ZdWzFdLXFbdl1bM10pJiYoYlt2XT1teENvbnN0YW50cy5ESVJFQ1RJT05fTUFTS19TT1VUSCkpLHI9bnVsbCxudWxsIT0KbSYmKHI9cCk7dj1xWzBdWzFdLShxWzFdWzFdK3FbMV1bM10pO3A9cVswXVswXS0ocVsxXVswXStxWzFdWzJdKTtyPXFbMV1bMV0tKHFbMF1bMV0rcVswXVszXSk7dD1xWzFdWzBdLShxWzBdWzBdK3FbMF1bMl0pO214RWRnZVN0eWxlLnZlcnRleFNlcGVyYXRpb25zWzFdPU1hdGgubWF4KHAtQywwKTtteEVkZ2VTdHlsZS52ZXJ0ZXhTZXBlcmF0aW9uc1syXT1NYXRoLm1heCh2LUMsMCk7bXhFZGdlU3R5bGUudmVydGV4U2VwZXJhdGlvbnNbNF09TWF0aC5tYXgoci1DLDApO214RWRnZVN0eWxlLnZlcnRleFNlcGVyYXRpb25zWzNdPU1hdGgubWF4KHQtQywwKTtDPVtdO209W107bj1bXTttWzBdPXA+PXQ/bXhDb25zdGFudHMuRElSRUNUSU9OX01BU0tfV0VTVDpteENvbnN0YW50cy5ESVJFQ1RJT05fTUFTS19FQVNUO25bMF09dj49cj9teENvbnN0YW50cy5ESVJFQ1RJT05fTUFTS19OT1JUSDpteENvbnN0YW50cy5ESVJFQ1RJT05fTUFTS19TT1VUSDttWzFdPW14VXRpbHMucmV2ZXJzZVBvcnRDb25zdHJhaW50cyhtWzBdKTsKblsxXT1teFV0aWxzLnJldmVyc2VQb3J0Q29uc3RyYWludHMoblswXSk7cD1wPj10P3A6dDtyPXY+PXI/djpyO3Q9W1swLDBdLFswLDBdXTt1PSExO2Zvcih2PTA7Mj52O3YrKykwPT1iW3ZdJiYoMD09KG1bdl0mY1t2XSkmJihtW3ZdPW14VXRpbHMucmV2ZXJzZVBvcnRDb25zdHJhaW50cyhtW3ZdKSksMD09KG5bdl0mY1t2XSkmJihuW3ZdPW14VXRpbHMucmV2ZXJzZVBvcnRDb25zdHJhaW50cyhuW3ZdKSksdFt2XVswXT1uW3ZdLHRbdl1bMV09bVt2XSk7MDxyJiYwPHAmJigwPChtWzBdJmNbMF0pJiYwPChuWzFdJmNbMV0pPyh0WzBdWzBdPW1bMF0sdFswXVsxXT1uWzBdLHRbMV1bMF09blsxXSx0WzFdWzFdPW1bMV0sdT0hMCk6MDwoblswXSZjWzBdKSYmMDwobVsxXSZjWzFdKSYmKHRbMF1bMF09blswXSx0WzBdWzFdPW1bMF0sdFsxXVswXT1tWzFdLHRbMV1bMV09blsxXSx1PSEwKSk7MDxyJiYhdSYmKHRbMF1bMF09blswXSx0WzBdWzFdPW1bMF0sdFsxXVswXT1uWzFdLHRbMV1bMV09Cm1bMV0sdT0hMCk7MDxwJiYhdSYmKHRbMF1bMF09bVswXSx0WzBdWzFdPW5bMF0sdFsxXVswXT1tWzFdLHRbMV1bMV09blsxXSk7Zm9yKHY9MDsyPnY7disrKTA9PWJbdl0mJigwPT0odFt2XVswXSZjW3ZdKSYmKHRbdl1bMF09dFt2XVsxXSksQ1t2XT10W3ZdWzBdJmNbdl0sQ1t2XXw9KHRbdl1bMV0mY1t2XSk8PDgsQ1t2XXw9KHRbMS12XVt2XSZjW3ZdKTw8MTYsQ1t2XXw9KHRbMS12XVsxLXZdJmNbdl0pPDwyNCwwPT0oQ1t2XSYxNSkmJihDW3ZdPDw9OCksMD09KENbdl0mMzg0MCkmJihDW3ZdPUNbdl0mMTV8Q1t2XT4+OCksMD09KENbdl0mOTgzMDQwKSYmKENbdl09Q1t2XSY2NTUzNXwoQ1t2XSYyNTE2NTgyNDApPj44KSxiW3ZdPUNbdl0mMTUsY1t2XT09bXhDb25zdGFudHMuRElSRUNUSU9OX01BU0tfV0VTVHx8Y1t2XT09bXhDb25zdGFudHMuRElSRUNUSU9OX01BU0tfTk9SVEh8fGNbdl09PW14Q29uc3RhbnRzLkRJUkVDVElPTl9NQVNLX0VBU1R8fGNbdl09PW14Q29uc3RhbnRzLkRJUkVDVElPTl9NQVNLX1NPVVRIKSYmCihiW3ZdPWNbdl0pO2M9YlswXT09bXhDb25zdGFudHMuRElSRUNUSU9OX01BU0tfRUFTVD8zOmJbMF07Qz1iWzFdPT1teENvbnN0YW50cy5ESVJFQ1RJT05fTUFTS19FQVNUPzM6YlsxXTtjLT16O0MtPXo7MT5jJiYoYys9NCk7MT5DJiYoQys9NCk7Yz1teEVkZ2VTdHlsZS5yb3V0ZVBhdHRlcm5zW2MtMV1bQy0xXTtteEVkZ2VTdHlsZS53YXlQb2ludHMxWzBdWzBdPXFbMF1bMF07bXhFZGdlU3R5bGUud2F5UG9pbnRzMVswXVsxXT1xWzBdWzFdO3N3aXRjaChiWzBdKXtjYXNlIG14Q29uc3RhbnRzLkRJUkVDVElPTl9NQVNLX1dFU1Q6bXhFZGdlU3R5bGUud2F5UG9pbnRzMVswXVswXS09ZjtteEVkZ2VTdHlsZS53YXlQb2ludHMxWzBdWzFdKz1sWzBdWzFdKnFbMF1bM107YnJlYWs7Y2FzZSBteENvbnN0YW50cy5ESVJFQ1RJT05fTUFTS19TT1VUSDpteEVkZ2VTdHlsZS53YXlQb2ludHMxWzBdWzBdKz1sWzBdWzBdKnFbMF1bMl07bXhFZGdlU3R5bGUud2F5UG9pbnRzMVswXVsxXSs9cVswXVszXSsKZjticmVhaztjYXNlIG14Q29uc3RhbnRzLkRJUkVDVElPTl9NQVNLX0VBU1Q6bXhFZGdlU3R5bGUud2F5UG9pbnRzMVswXVswXSs9cVswXVsyXStmO214RWRnZVN0eWxlLndheVBvaW50czFbMF1bMV0rPWxbMF1bMV0qcVswXVszXTticmVhaztjYXNlIG14Q29uc3RhbnRzLkRJUkVDVElPTl9NQVNLX05PUlRIOm14RWRnZVN0eWxlLndheVBvaW50czFbMF1bMF0rPWxbMF1bMF0qcVswXVsyXSxteEVkZ2VTdHlsZS53YXlQb2ludHMxWzBdWzFdLT1mfWY9MDttPUM9MDwoYlswXSYobXhDb25zdGFudHMuRElSRUNUSU9OX01BU0tfRUFTVHxteENvbnN0YW50cy5ESVJFQ1RJT05fTUFTS19XRVNUKSk/MDoxO2Zvcih2PTA7djxjLmxlbmd0aDt2Kyspbj1jW3ZdJjE1LHU9bj09bXhDb25zdGFudHMuRElSRUNUSU9OX01BU0tfRUFTVD8zOm4sdSs9eiw0PHUmJih1LT00KSxwPW14RWRnZVN0eWxlLmRpclZlY3RvcnNbdS0xXSxuPTA8dSUyPzA6MSxuIT1DJiYoZisrLG14RWRnZVN0eWxlLndheVBvaW50czFbZl1bMF09Cm14RWRnZVN0eWxlLndheVBvaW50czFbZi0xXVswXSxteEVkZ2VTdHlsZS53YXlQb2ludHMxW2ZdWzFdPW14RWRnZVN0eWxlLndheVBvaW50czFbZi0xXVsxXSkseD0wPChjW3ZdJm14RWRnZVN0eWxlLlRBUkdFVF9NQVNLKSx5PTA8KGNbdl0mbXhFZGdlU3R5bGUuU09VUkNFX01BU0spLHI9KGNbdl0mbXhFZGdlU3R5bGUuU0lERV9NQVNLKT4+NSxyPDw9eiwxNTxyJiYocj4+PTQpLHQ9MDwoY1t2XSZteEVkZ2VTdHlsZS5DRU5URVJfTUFTSyksKHl8fHgpJiY5PnI/KHU9eT8wOjEscj10JiYwPT1uP3FbdV1bMF0rbFt1XVswXSpxW3VdWzJdOnQ/cVt1XVsxXStsW3VdWzFdKnFbdV1bM106bXhFZGdlU3R5bGUubGltaXRzW3VdW3JdLDA9PW4/KHI9KHItbXhFZGdlU3R5bGUud2F5UG9pbnRzMVtmXVswXSkqcFswXSwwPHImJihteEVkZ2VTdHlsZS53YXlQb2ludHMxW2ZdWzBdKz1wWzBdKnIpKToocj0oci1teEVkZ2VTdHlsZS53YXlQb2ludHMxW2ZdWzFdKSpwWzFdLDA8ciYmKG14RWRnZVN0eWxlLndheVBvaW50czFbZl1bMV0rPQpwWzFdKnIpKSk6dCYmKG14RWRnZVN0eWxlLndheVBvaW50czFbZl1bMF0rPXBbMF0qTWF0aC5hYnMobXhFZGdlU3R5bGUudmVydGV4U2VwZXJhdGlvbnNbdV0vMiksbXhFZGdlU3R5bGUud2F5UG9pbnRzMVtmXVsxXSs9cFsxXSpNYXRoLmFicyhteEVkZ2VTdHlsZS52ZXJ0ZXhTZXBlcmF0aW9uc1t1XS8yKSksMDxmJiZteEVkZ2VTdHlsZS53YXlQb2ludHMxW2ZdW25dPT1teEVkZ2VTdHlsZS53YXlQb2ludHMxW2YtMV1bbl0/Zi0tOkM9bjtmb3Iodj0wO3Y8PWYmJih2IT1mfHwoKDA8KGJbMV0mKG14Q29uc3RhbnRzLkRJUkVDVElPTl9NQVNLX0VBU1R8bXhDb25zdGFudHMuRElSRUNUSU9OX01BU0tfV0VTVCkpPzA6MSk9PW0/MDoxKT09KGYrMSklMik7disrKWUucHVzaChuZXcgbXhQb2ludChNYXRoLnJvdW5kKG14RWRnZVN0eWxlLndheVBvaW50czFbdl1bMF0qYS52aWV3LnNjYWxlKjEwKS8xMCxNYXRoLnJvdW5kKG14RWRnZVN0eWxlLndheVBvaW50czFbdl1bMV0qYS52aWV3LnNjYWxlKgoxMCkvMTApKTtmb3IoYT0xO2E8ZS5sZW5ndGg7KW51bGw9PWVbYS0xXXx8bnVsbD09ZVthXXx8ZVthLTFdLnghPWVbYV0ueHx8ZVthLTFdLnkhPWVbYV0ueT9hKys6ZS5zcGxpY2UoYSwxKX19LGdldFJvdXRlUGF0dGVybjpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1hWzBdPT1teENvbnN0YW50cy5ESVJFQ1RJT05fTUFTS19FQVNUPzM6YVswXTthPWFbMV09PW14Q29uc3RhbnRzLkRJUkVDVElPTl9NQVNLX0VBU1Q/MzphWzFdO2UtPWI7YS09YjsxPmUmJihlKz00KTsxPmEmJihhKz00KTtiPXJvdXRlUGF0dGVybnNbZS0xXVthLTFdOzAhPWMmJjAhPWR8fG51bGw9PWlubGluZVJvdXRlUGF0dGVybnNbZS0xXVthLTFdfHwoYj1pbmxpbmVSb3V0ZVBhdHRlcm5zW2UtMV1bYS0xXSk7cmV0dXJuIGJ9fSxteFN0eWxlUmVnaXN0cnk9e3ZhbHVlczpbXSxwdXRWYWx1ZTpmdW5jdGlvbihhLGIpe214U3R5bGVSZWdpc3RyeS52YWx1ZXNbYV09Yn0sZ2V0VmFsdWU6ZnVuY3Rpb24oYSl7cmV0dXJuIG14U3R5bGVSZWdpc3RyeS52YWx1ZXNbYV19LApnZXROYW1lOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYiBpbiBteFN0eWxlUmVnaXN0cnkudmFsdWVzKWlmKG14U3R5bGVSZWdpc3RyeS52YWx1ZXNbYl09PWEpcmV0dXJuIGI7cmV0dXJuIG51bGx9fTtteFN0eWxlUmVnaXN0cnkucHV0VmFsdWUobXhDb25zdGFudHMuRURHRVNUWUxFX0VMQk9XLG14RWRnZVN0eWxlLkVsYm93Q29ubmVjdG9yKTtteFN0eWxlUmVnaXN0cnkucHV0VmFsdWUobXhDb25zdGFudHMuRURHRVNUWUxFX0VOVElUWV9SRUxBVElPTixteEVkZ2VTdHlsZS5FbnRpdHlSZWxhdGlvbik7bXhTdHlsZVJlZ2lzdHJ5LnB1dFZhbHVlKG14Q29uc3RhbnRzLkVER0VTVFlMRV9MT09QLG14RWRnZVN0eWxlLkxvb3ApO214U3R5bGVSZWdpc3RyeS5wdXRWYWx1ZShteENvbnN0YW50cy5FREdFU1RZTEVfU0lERVRPU0lERSxteEVkZ2VTdHlsZS5TaWRlVG9TaWRlKTtteFN0eWxlUmVnaXN0cnkucHV0VmFsdWUobXhDb25zdGFudHMuRURHRVNUWUxFX1RPUFRPQk9UVE9NLG14RWRnZVN0eWxlLlRvcFRvQm90dG9tKTsKbXhTdHlsZVJlZ2lzdHJ5LnB1dFZhbHVlKG14Q29uc3RhbnRzLkVER0VTVFlMRV9PUlRIT0dPTkFMLG14RWRnZVN0eWxlLk9ydGhDb25uZWN0b3IpO214U3R5bGVSZWdpc3RyeS5wdXRWYWx1ZShteENvbnN0YW50cy5FREdFU1RZTEVfU0VHTUVOVCxteEVkZ2VTdHlsZS5TZWdtZW50Q29ubmVjdG9yKTtteFN0eWxlUmVnaXN0cnkucHV0VmFsdWUobXhDb25zdGFudHMuUEVSSU1FVEVSX0VMTElQU0UsbXhQZXJpbWV0ZXIuRWxsaXBzZVBlcmltZXRlcik7bXhTdHlsZVJlZ2lzdHJ5LnB1dFZhbHVlKG14Q29uc3RhbnRzLlBFUklNRVRFUl9SRUNUQU5HTEUsbXhQZXJpbWV0ZXIuUmVjdGFuZ2xlUGVyaW1ldGVyKTtteFN0eWxlUmVnaXN0cnkucHV0VmFsdWUobXhDb25zdGFudHMuUEVSSU1FVEVSX1JIT01CVVMsbXhQZXJpbWV0ZXIuUmhvbWJ1c1BlcmltZXRlcik7bXhTdHlsZVJlZ2lzdHJ5LnB1dFZhbHVlKG14Q29uc3RhbnRzLlBFUklNRVRFUl9UUklBTkdMRSxteFBlcmltZXRlci5UcmlhbmdsZVBlcmltZXRlcik7Cm14U3R5bGVSZWdpc3RyeS5wdXRWYWx1ZShteENvbnN0YW50cy5QRVJJTUVURVJfSEVYQUdPTixteFBlcmltZXRlci5IZXhhZ29uUGVyaW1ldGVyKTtmdW5jdGlvbiBteEdyYXBoVmlldyhhKXt0aGlzLmdyYXBoPWE7dGhpcy50cmFuc2xhdGU9bmV3IG14UG9pbnQ7dGhpcy5ncmFwaEJvdW5kcz1uZXcgbXhSZWN0YW5nbGU7dGhpcy5zdGF0ZXM9bmV3IG14RGljdGlvbmFyeX1teEdyYXBoVmlldy5wcm90b3R5cGU9bmV3IG14RXZlbnRTb3VyY2U7bXhHcmFwaFZpZXcucHJvdG90eXBlLmNvbnN0cnVjdG9yPW14R3JhcGhWaWV3O214R3JhcGhWaWV3LnByb3RvdHlwZS5FTVBUWV9QT0lOVD1uZXcgbXhQb2ludDtteEdyYXBoVmlldy5wcm90b3R5cGUuZG9uZVJlc291cmNlPSJub25lIiE9bXhDbGllbnQubGFuZ3VhZ2U/ImRvbmUiOiIiOwpteEdyYXBoVmlldy5wcm90b3R5cGUudXBkYXRpbmdEb2N1bWVudFJlc291cmNlPSJub25lIiE9bXhDbGllbnQubGFuZ3VhZ2U/InVwZGF0aW5nRG9jdW1lbnQiOiIiO214R3JhcGhWaWV3LnByb3RvdHlwZS5hbGxvd0V2YWw9ITE7bXhHcmFwaFZpZXcucHJvdG90eXBlLmNhcHR1cmVEb2N1bWVudEdlc3R1cmU9ITA7bXhHcmFwaFZpZXcucHJvdG90eXBlLm9wdGltaXplVm1sUmVmbG93cz0hMDtteEdyYXBoVmlldy5wcm90b3R5cGUucmVuZGVyaW5nPSEwO214R3JhcGhWaWV3LnByb3RvdHlwZS5ncmFwaD1udWxsO214R3JhcGhWaWV3LnByb3RvdHlwZS5jdXJyZW50Um9vdD1udWxsO214R3JhcGhWaWV3LnByb3RvdHlwZS5ncmFwaEJvdW5kcz1udWxsO214R3JhcGhWaWV3LnByb3RvdHlwZS5zY2FsZT0xO214R3JhcGhWaWV3LnByb3RvdHlwZS50cmFuc2xhdGU9bnVsbDtteEdyYXBoVmlldy5wcm90b3R5cGUuc3RhdGVzPW51bGw7Cm14R3JhcGhWaWV3LnByb3RvdHlwZS51cGRhdGVTdHlsZT0hMTtteEdyYXBoVmlldy5wcm90b3R5cGUubGFzdE5vZGU9bnVsbDtteEdyYXBoVmlldy5wcm90b3R5cGUubGFzdEh0bWxOb2RlPW51bGw7bXhHcmFwaFZpZXcucHJvdG90eXBlLmxhc3RGb3JlZ3JvdW5kTm9kZT1udWxsO214R3JhcGhWaWV3LnByb3RvdHlwZS5sYXN0Rm9yZWdyb3VuZEh0bWxOb2RlPW51bGw7bXhHcmFwaFZpZXcucHJvdG90eXBlLmdldEdyYXBoQm91bmRzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ3JhcGhCb3VuZHN9O214R3JhcGhWaWV3LnByb3RvdHlwZS5zZXRHcmFwaEJvdW5kcz1mdW5jdGlvbihhKXt0aGlzLmdyYXBoQm91bmRzPWF9OwpteEdyYXBoVmlldy5wcm90b3R5cGUuZ2V0Qm91bmRzPWZ1bmN0aW9uKGEpe3ZhciBiPW51bGw7aWYobnVsbCE9YSYmMDxhLmxlbmd0aClmb3IodmFyIGM9dGhpcy5ncmFwaC5nZXRNb2RlbCgpLGQ9MDtkPGEubGVuZ3RoO2QrKylpZihjLmlzVmVydGV4KGFbZF0pfHxjLmlzRWRnZShhW2RdKSl7dmFyIGU9dGhpcy5nZXRTdGF0ZShhW2RdKTtudWxsIT1lJiYobnVsbD09Yj9iPW14UmVjdGFuZ2xlLmZyb21SZWN0YW5nbGUoZSk6Yi5hZGQoZSkpfXJldHVybiBifTtteEdyYXBoVmlldy5wcm90b3R5cGUuc2V0Q3VycmVudFJvb3Q9ZnVuY3Rpb24oYSl7aWYodGhpcy5jdXJyZW50Um9vdCE9YSl7dmFyIGI9bmV3IG14Q3VycmVudFJvb3RDaGFuZ2UodGhpcyxhKTtiLmV4ZWN1dGUoKTt2YXIgYz1uZXcgbXhVbmRvYWJsZUVkaXQodGhpcywhMCk7Yy5hZGQoYik7dGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5VTkRPLCJlZGl0IixjKSk7dGhpcy5ncmFwaC5zaXplRGlkQ2hhbmdlKCl9cmV0dXJuIGF9OwpteEdyYXBoVmlldy5wcm90b3R5cGUuc2NhbGVBbmRUcmFuc2xhdGU9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXMuc2NhbGUsZT1uZXcgbXhQb2ludCh0aGlzLnRyYW5zbGF0ZS54LHRoaXMudHJhbnNsYXRlLnkpO2lmKHRoaXMuc2NhbGUhPWF8fHRoaXMudHJhbnNsYXRlLnghPWJ8fHRoaXMudHJhbnNsYXRlLnkhPWMpdGhpcy5zY2FsZT1hLHRoaXMudHJhbnNsYXRlLng9Yix0aGlzLnRyYW5zbGF0ZS55PWMsdGhpcy5pc0V2ZW50c0VuYWJsZWQoKSYmdGhpcy52aWV3U3RhdGVDaGFuZ2VkKCk7dGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5TQ0FMRV9BTkRfVFJBTlNMQVRFLCJzY2FsZSIsYSwicHJldmlvdXNTY2FsZSIsZCwidHJhbnNsYXRlIix0aGlzLnRyYW5zbGF0ZSwicHJldmlvdXNUcmFuc2xhdGUiLGUpKX07bXhHcmFwaFZpZXcucHJvdG90eXBlLmdldFNjYWxlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2NhbGV9OwpteEdyYXBoVmlldy5wcm90b3R5cGUuc2V0U2NhbGU9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5zY2FsZTt0aGlzLnNjYWxlIT1hJiYodGhpcy5zY2FsZT1hLHRoaXMuaXNFdmVudHNFbmFibGVkKCkmJnRoaXMudmlld1N0YXRlQ2hhbmdlZCgpKTt0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LlNDQUxFLCJzY2FsZSIsYSwicHJldmlvdXNTY2FsZSIsYikpfTtteEdyYXBoVmlldy5wcm90b3R5cGUuZ2V0VHJhbnNsYXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudHJhbnNsYXRlfTsKbXhHcmFwaFZpZXcucHJvdG90eXBlLnNldFRyYW5zbGF0ZT1mdW5jdGlvbihhLGIpe3ZhciBjPW5ldyBteFBvaW50KHRoaXMudHJhbnNsYXRlLngsdGhpcy50cmFuc2xhdGUueSk7aWYodGhpcy50cmFuc2xhdGUueCE9YXx8dGhpcy50cmFuc2xhdGUueSE9Yil0aGlzLnRyYW5zbGF0ZS54PWEsdGhpcy50cmFuc2xhdGUueT1iLHRoaXMuaXNFdmVudHNFbmFibGVkKCkmJnRoaXMudmlld1N0YXRlQ2hhbmdlZCgpO3RoaXMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KG14RXZlbnQuVFJBTlNMQVRFLCJ0cmFuc2xhdGUiLHRoaXMudHJhbnNsYXRlLCJwcmV2aW91c1RyYW5zbGF0ZSIsYykpfTtteEdyYXBoVmlldy5wcm90b3R5cGUudmlld1N0YXRlQ2hhbmdlZD1mdW5jdGlvbigpe3RoaXMucmV2YWxpZGF0ZSgpO3RoaXMuZ3JhcGguc2l6ZURpZENoYW5nZSgpfTsKbXhHcmFwaFZpZXcucHJvdG90eXBlLnJlZnJlc2g9ZnVuY3Rpb24oKXtudWxsIT10aGlzLmN1cnJlbnRSb290JiZ0aGlzLmNsZWFyKCk7dGhpcy5yZXZhbGlkYXRlKCl9O214R3JhcGhWaWV3LnByb3RvdHlwZS5yZXZhbGlkYXRlPWZ1bmN0aW9uKCl7dGhpcy5pbnZhbGlkYXRlKCk7dGhpcy52YWxpZGF0ZSgpfTtteEdyYXBoVmlldy5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXMuZ3JhcGguZ2V0TW9kZWwoKTthPWF8fGQuZ2V0Um9vdCgpO2I9bnVsbCE9Yj9iOiExO2M9bnVsbCE9Yz9jOiEwO3RoaXMucmVtb3ZlU3RhdGUoYSk7aWYoYyYmKGJ8fGEhPXRoaXMuY3VycmVudFJvb3QpKXtjPWQuZ2V0Q2hpbGRDb3VudChhKTtmb3IodmFyIGU9MDtlPGM7ZSsrKXRoaXMuY2xlYXIoZC5nZXRDaGlsZEF0KGEsZSksYil9ZWxzZSB0aGlzLmludmFsaWRhdGUoYSl9OwpteEdyYXBoVmlldy5wcm90b3R5cGUuaW52YWxpZGF0ZT1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcy5ncmFwaC5nZXRNb2RlbCgpO2E9YXx8ZC5nZXRSb290KCk7Yj1udWxsIT1iP2I6ITA7Yz1udWxsIT1jP2M6ITA7dmFyIGU9dGhpcy5nZXRTdGF0ZShhKTtudWxsIT1lJiYoZS5pbnZhbGlkPSEwKTtpZighYS5pbnZhbGlkYXRpbmcpe2EuaW52YWxpZGF0aW5nPSEwO2lmKGIpZm9yKHZhciBmPWQuZ2V0Q2hpbGRDb3VudChhKSxlPTA7ZTxmO2UrKyl7dmFyIGc9ZC5nZXRDaGlsZEF0KGEsZSk7dGhpcy5pbnZhbGlkYXRlKGcsYixjKX1pZihjKWZvcihmPWQuZ2V0RWRnZUNvdW50KGEpLGU9MDtlPGY7ZSsrKXRoaXMuaW52YWxpZGF0ZShkLmdldEVkZ2VBdChhLGUpLGIsYyk7ZGVsZXRlIGEuaW52YWxpZGF0aW5nfX07Cm14R3JhcGhWaWV3LnByb3RvdHlwZS52YWxpZGF0ZT1mdW5jdGlvbihhKXt2YXIgYj1teExvZy5lbnRlcigibXhHcmFwaFZpZXcudmFsaWRhdGUiKTt3aW5kb3cuc3RhdHVzPW14UmVzb3VyY2VzLmdldCh0aGlzLnVwZGF0aW5nRG9jdW1lbnRSZXNvdXJjZSl8fHRoaXMudXBkYXRpbmdEb2N1bWVudFJlc291cmNlO3RoaXMucmVzZXRWYWxpZGF0aW9uU3RhdGUoKTt2YXIgYz1udWxsO3RoaXMub3B0aW1pemVWbWxSZWZsb3dzJiZudWxsIT10aGlzLmNhbnZhcyYmbnVsbD09dGhpcy50ZXh0RGl2JiYoOD09ZG9jdW1lbnQuZG9jdW1lbnRNb2RlJiYhbXhDbGllbnQuSVNfRU18fG14Q2xpZW50LklTX1FVSVJLUykmJih0aGlzLnBsYWNlaG9sZGVyPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLHRoaXMucGxhY2Vob2xkZXIuc3R5bGUucG9zaXRpb249ImFic29sdXRlIix0aGlzLnBsYWNlaG9sZGVyLnN0eWxlLndpZHRoPXRoaXMuY2FudmFzLmNsaWVudFdpZHRoKyJweCIsdGhpcy5wbGFjZWhvbGRlci5zdHlsZS5oZWlnaHQ9CnRoaXMuY2FudmFzLmNsaWVudEhlaWdodCsicHgiLHRoaXMuY2FudmFzLnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQodGhpcy5wbGFjZWhvbGRlciksYz10aGlzLmRyYXdQYW5lLnN0eWxlLmRpc3BsYXksdGhpcy5jYW52YXMuc3R5bGUuZGlzcGxheT0ibm9uZSIsdGhpcy50ZXh0RGl2PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLHRoaXMudGV4dERpdi5zdHlsZS5wb3NpdGlvbj0iYWJzb2x1dGUiLHRoaXMudGV4dERpdi5zdHlsZS53aGl0ZVNwYWNlPSJub3dyYXAiLHRoaXMudGV4dERpdi5zdHlsZS52aXNpYmlsaXR5PSJoaWRkZW4iLHRoaXMudGV4dERpdi5zdHlsZS5kaXNwbGF5PW14Q2xpZW50LklTX1FVSVJLUz8iaW5saW5lIjoiaW5saW5lLWJsb2NrIix0aGlzLnRleHREaXYuc3R5bGUuem9vbT0iMSIsZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLnRleHREaXYpKTthPXRoaXMuZ2V0Qm91bmRpbmdCb3godGhpcy52YWxpZGF0ZUNlbGxTdGF0ZSh0aGlzLnZhbGlkYXRlQ2VsbChhfHwKKG51bGwhPXRoaXMuY3VycmVudFJvb3Q/dGhpcy5jdXJyZW50Um9vdDp0aGlzLmdyYXBoLmdldE1vZGVsKCkuZ2V0Um9vdCgpKSkpKTt0aGlzLnNldEdyYXBoQm91bmRzKG51bGwhPWE/YTp0aGlzLmdldEVtcHR5Qm91bmRzKCkpO3RoaXMudmFsaWRhdGVCYWNrZ3JvdW5kKCk7bnVsbCE9YyYmKHRoaXMuY2FudmFzLnN0eWxlLmRpc3BsYXk9Yyx0aGlzLnRleHREaXYucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLnRleHREaXYpLG51bGwhPXRoaXMucGxhY2Vob2xkZXImJnRoaXMucGxhY2Vob2xkZXIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLnBsYWNlaG9sZGVyKSx0aGlzLnRleHREaXY9bnVsbCk7dGhpcy5yZXNldFZhbGlkYXRpb25TdGF0ZSgpO3dpbmRvdy5zdGF0dXM9bXhSZXNvdXJjZXMuZ2V0KHRoaXMuZG9uZVJlc291cmNlKXx8dGhpcy5kb25lUmVzb3VyY2U7bXhMb2cubGVhdmUoIm14R3JhcGhWaWV3LnZhbGlkYXRlIixiKX07Cm14R3JhcGhWaWV3LnByb3RvdHlwZS5nZXRFbXB0eUJvdW5kcz1mdW5jdGlvbigpe3JldHVybiBuZXcgbXhSZWN0YW5nbGUodGhpcy50cmFuc2xhdGUueCp0aGlzLnNjYWxlLHRoaXMudHJhbnNsYXRlLnkqdGhpcy5zY2FsZSl9OwpteEdyYXBoVmlldy5wcm90b3R5cGUuZ2V0Qm91bmRpbmdCb3g9ZnVuY3Rpb24oYSxiKXtiPW51bGwhPWI/YjohMDt2YXIgYz1udWxsO2lmKG51bGwhPWEmJihudWxsIT1hLnNoYXBlJiZudWxsIT1hLnNoYXBlLmJvdW5kaW5nQm94JiYoYz1hLnNoYXBlLmJvdW5kaW5nQm94LmNsb25lKCkpLG51bGwhPWEudGV4dCYmbnVsbCE9YS50ZXh0LmJvdW5kaW5nQm94JiYobnVsbCE9Yz9jLmFkZChhLnRleHQuYm91bmRpbmdCb3gpOmM9YS50ZXh0LmJvdW5kaW5nQm94LmNsb25lKCkpLGIpKWZvcih2YXIgZD10aGlzLmdyYXBoLmdldE1vZGVsKCksZT1kLmdldENoaWxkQ291bnQoYS5jZWxsKSxmPTA7ZjxlO2YrKyl7dmFyIGc9dGhpcy5nZXRCb3VuZGluZ0JveCh0aGlzLmdldFN0YXRlKGQuZ2V0Q2hpbGRBdChhLmNlbGwsZikpKTtudWxsIT1nJiYobnVsbD09Yz9jPWc6Yy5hZGQoZykpfXJldHVybiBjfTsKbXhHcmFwaFZpZXcucHJvdG90eXBlLmNyZWF0ZUJhY2tncm91bmRQYWdlU2hhcGU9ZnVuY3Rpb24oYSl7cmV0dXJuIG5ldyBteFJlY3RhbmdsZVNoYXBlKGEsIndoaXRlIiwiYmxhY2siKX07bXhHcmFwaFZpZXcucHJvdG90eXBlLnZhbGlkYXRlQmFja2dyb3VuZD1mdW5jdGlvbigpe3RoaXMudmFsaWRhdGVCYWNrZ3JvdW5kSW1hZ2UoKTt0aGlzLnZhbGlkYXRlQmFja2dyb3VuZFBhZ2UoKX07Cm14R3JhcGhWaWV3LnByb3RvdHlwZS52YWxpZGF0ZUJhY2tncm91bmRJbWFnZT1mdW5jdGlvbigpe3ZhciBhPXRoaXMuZ3JhcGguZ2V0QmFja2dyb3VuZEltYWdlKCk7aWYobnVsbCE9YSl7aWYobnVsbD09dGhpcy5iYWNrZ3JvdW5kSW1hZ2V8fHRoaXMuYmFja2dyb3VuZEltYWdlLmltYWdlIT1hLnNyYyl7bnVsbCE9dGhpcy5iYWNrZ3JvdW5kSW1hZ2UmJnRoaXMuYmFja2dyb3VuZEltYWdlLmRlc3Ryb3koKTt2YXIgYj1uZXcgbXhSZWN0YW5nbGUoMCwwLDEsMSk7dGhpcy5iYWNrZ3JvdW5kSW1hZ2U9bmV3IG14SW1hZ2VTaGFwZShiLGEuc3JjKTt0aGlzLmJhY2tncm91bmRJbWFnZS5kaWFsZWN0PXRoaXMuZ3JhcGguZGlhbGVjdDt0aGlzLmJhY2tncm91bmRJbWFnZS5pbml0KHRoaXMuYmFja2dyb3VuZFBhbmUpO3RoaXMuYmFja2dyb3VuZEltYWdlLnJlZHJhdygpOzghPWRvY3VtZW50LmRvY3VtZW50TW9kZXx8bXhDbGllbnQuSVNfRU18fG14RXZlbnQuYWRkR2VzdHVyZUxpc3RlbmVycyh0aGlzLmJhY2tncm91bmRJbWFnZS5ub2RlLApteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXt0aGlzLmdyYXBoLmZpcmVNb3VzZUV2ZW50KG14RXZlbnQuTU9VU0VfRE9XTixuZXcgbXhNb3VzZUV2ZW50KGEpKX0pLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3RoaXMuZ3JhcGguZmlyZU1vdXNlRXZlbnQobXhFdmVudC5NT1VTRV9NT1ZFLG5ldyBteE1vdXNlRXZlbnQoYSkpfSksbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7dGhpcy5ncmFwaC5maXJlTW91c2VFdmVudChteEV2ZW50Lk1PVVNFX1VQLG5ldyBteE1vdXNlRXZlbnQoYSkpfSkpfXRoaXMucmVkcmF3QmFja2dyb3VuZEltYWdlKHRoaXMuYmFja2dyb3VuZEltYWdlLGEpfWVsc2UgbnVsbCE9dGhpcy5iYWNrZ3JvdW5kSW1hZ2UmJih0aGlzLmJhY2tncm91bmRJbWFnZS5kZXN0cm95KCksdGhpcy5iYWNrZ3JvdW5kSW1hZ2U9bnVsbCl9OwpteEdyYXBoVmlldy5wcm90b3R5cGUudmFsaWRhdGVCYWNrZ3JvdW5kUGFnZT1mdW5jdGlvbigpe2lmKHRoaXMuZ3JhcGgucGFnZVZpc2libGUpe3ZhciBhPXRoaXMuZ2V0QmFja2dyb3VuZFBhZ2VCb3VuZHMoKTtudWxsPT10aGlzLmJhY2tncm91bmRQYWdlU2hhcGU/KHRoaXMuYmFja2dyb3VuZFBhZ2VTaGFwZT10aGlzLmNyZWF0ZUJhY2tncm91bmRQYWdlU2hhcGUoYSksdGhpcy5iYWNrZ3JvdW5kUGFnZVNoYXBlLnNjYWxlPXRoaXMuc2NhbGUsdGhpcy5iYWNrZ3JvdW5kUGFnZVNoYXBlLmlzU2hhZG93PSEwLHRoaXMuYmFja2dyb3VuZFBhZ2VTaGFwZS5kaWFsZWN0PXRoaXMuZ3JhcGguZGlhbGVjdCx0aGlzLmJhY2tncm91bmRQYWdlU2hhcGUuaW5pdCh0aGlzLmJhY2tncm91bmRQYW5lKSx0aGlzLmJhY2tncm91bmRQYWdlU2hhcGUucmVkcmF3KCksdGhpcy5ncmFwaC5uYXRpdmVEYmxDbGlja0VuYWJsZWQmJm14RXZlbnQuYWRkTGlzdGVuZXIodGhpcy5iYWNrZ3JvdW5kUGFnZVNoYXBlLm5vZGUsCiJkYmxjbGljayIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7dGhpcy5ncmFwaC5kYmxDbGljayhhKX0pKSxteEV2ZW50LmFkZEdlc3R1cmVMaXN0ZW5lcnModGhpcy5iYWNrZ3JvdW5kUGFnZVNoYXBlLm5vZGUsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7dGhpcy5ncmFwaC5maXJlTW91c2VFdmVudChteEV2ZW50Lk1PVVNFX0RPV04sbmV3IG14TW91c2VFdmVudChhKSl9KSxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXtudWxsIT10aGlzLmdyYXBoLnRvb2x0aXBIYW5kbGVyJiZ0aGlzLmdyYXBoLnRvb2x0aXBIYW5kbGVyLmlzSGlkZU9uSG92ZXIoKSYmdGhpcy5ncmFwaC50b29sdGlwSGFuZGxlci5oaWRlKCk7dGhpcy5ncmFwaC5pc01vdXNlRG93biYmIW14RXZlbnQuaXNDb25zdW1lZChhKSYmdGhpcy5ncmFwaC5maXJlTW91c2VFdmVudChteEV2ZW50Lk1PVVNFX01PVkUsbmV3IG14TW91c2VFdmVudChhKSl9KSxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXt0aGlzLmdyYXBoLmZpcmVNb3VzZUV2ZW50KG14RXZlbnQuTU9VU0VfVVAsCm5ldyBteE1vdXNlRXZlbnQoYSkpfSkpKToodGhpcy5iYWNrZ3JvdW5kUGFnZVNoYXBlLnNjYWxlPXRoaXMuc2NhbGUsdGhpcy5iYWNrZ3JvdW5kUGFnZVNoYXBlLmJvdW5kcz1hLHRoaXMuYmFja2dyb3VuZFBhZ2VTaGFwZS5yZWRyYXcoKSl9ZWxzZSBudWxsIT10aGlzLmJhY2tncm91bmRQYWdlU2hhcGUmJih0aGlzLmJhY2tncm91bmRQYWdlU2hhcGUuZGVzdHJveSgpLHRoaXMuYmFja2dyb3VuZFBhZ2VTaGFwZT1udWxsKX07bXhHcmFwaFZpZXcucHJvdG90eXBlLmdldEJhY2tncm91bmRQYWdlQm91bmRzPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5ncmFwaC5wYWdlRm9ybWF0LGI9dGhpcy5zY2FsZSp0aGlzLmdyYXBoLnBhZ2VTY2FsZTtyZXR1cm4gbmV3IG14UmVjdGFuZ2xlKHRoaXMuc2NhbGUqdGhpcy50cmFuc2xhdGUueCx0aGlzLnNjYWxlKnRoaXMudHJhbnNsYXRlLnksYS53aWR0aCpiLGEuaGVpZ2h0KmIpfTsKbXhHcmFwaFZpZXcucHJvdG90eXBlLnJlZHJhd0JhY2tncm91bmRJbWFnZT1mdW5jdGlvbihhLGIpe2Euc2NhbGU9dGhpcy5zY2FsZTthLmJvdW5kcy54PXRoaXMuc2NhbGUqdGhpcy50cmFuc2xhdGUueDthLmJvdW5kcy55PXRoaXMuc2NhbGUqdGhpcy50cmFuc2xhdGUueTthLmJvdW5kcy53aWR0aD10aGlzLnNjYWxlKmIud2lkdGg7YS5ib3VuZHMuaGVpZ2h0PXRoaXMuc2NhbGUqYi5oZWlnaHQ7YS5yZWRyYXcoKX07Cm14R3JhcGhWaWV3LnByb3RvdHlwZS52YWxpZGF0ZUNlbGw9ZnVuY3Rpb24oYSxiKXtpZihudWxsIT1hKWlmKGI9KG51bGwhPWI/YjohMCkmJnRoaXMuZ3JhcGguaXNDZWxsVmlzaWJsZShhKSxudWxsPT10aGlzLmdldFN0YXRlKGEsYil8fGIpZm9yKHZhciBjPXRoaXMuZ3JhcGguZ2V0TW9kZWwoKSxkPWMuZ2V0Q2hpbGRDb3VudChhKSxlPTA7ZTxkO2UrKyl0aGlzLnZhbGlkYXRlQ2VsbChjLmdldENoaWxkQXQoYSxlKSxiJiYoIXRoaXMuaXNDZWxsQ29sbGFwc2VkKGEpfHxhPT10aGlzLmN1cnJlbnRSb290KSk7ZWxzZSB0aGlzLnJlbW92ZVN0YXRlKGEpO3JldHVybiBhfTsKbXhHcmFwaFZpZXcucHJvdG90eXBlLnZhbGlkYXRlQ2VsbFN0YXRlPWZ1bmN0aW9uKGEsYil7Yj1udWxsIT1iP2I6ITA7dmFyIGM9bnVsbDtpZihudWxsIT1hJiYoYz10aGlzLmdldFN0YXRlKGEpLG51bGwhPWMpKXt2YXIgZD10aGlzLmdyYXBoLmdldE1vZGVsKCk7aWYoYy5pbnZhbGlkKXtjLmludmFsaWQ9ITE7aWYobnVsbD09Yy5zdHlsZXx8Yy5pbnZhbGlkU3R5bGUpYy5zdHlsZT10aGlzLmdyYXBoLmdldENlbGxTdHlsZShjLmNlbGwpLGMuaW52YWxpZFN0eWxlPSExO2EhPXRoaXMuY3VycmVudFJvb3QmJnRoaXMudmFsaWRhdGVDZWxsU3RhdGUoZC5nZXRQYXJlbnQoYSksITEpO2Muc2V0VmlzaWJsZVRlcm1pbmFsU3RhdGUodGhpcy52YWxpZGF0ZUNlbGxTdGF0ZSh0aGlzLmdldFZpc2libGVUZXJtaW5hbChhLCEwKSwhMSksITApO2Muc2V0VmlzaWJsZVRlcm1pbmFsU3RhdGUodGhpcy52YWxpZGF0ZUNlbGxTdGF0ZSh0aGlzLmdldFZpc2libGVUZXJtaW5hbChhLCExKSwhMSksCiExKTt0aGlzLnVwZGF0ZUNlbGxTdGF0ZShjKTthPT10aGlzLmN1cnJlbnRSb290fHxjLmludmFsaWR8fCh0aGlzLmdyYXBoLmNlbGxSZW5kZXJlci5yZWRyYXcoYywhMSx0aGlzLmlzUmVuZGVyaW5nKCkpLGMudXBkYXRlQ2FjaGVkQm91bmRzKCkpfWlmKGImJiFjLmludmFsaWQpe251bGwhPWMuc2hhcGUmJnRoaXMuc3RhdGVWYWxpZGF0ZWQoYyk7Zm9yKHZhciBlPWQuZ2V0Q2hpbGRDb3VudChhKSxmPTA7ZjxlO2YrKyl0aGlzLnZhbGlkYXRlQ2VsbFN0YXRlKGQuZ2V0Q2hpbGRBdChhLGYpKX19cmV0dXJuIGN9OwpteEdyYXBoVmlldy5wcm90b3R5cGUudXBkYXRlQ2VsbFN0YXRlPWZ1bmN0aW9uKGEpe2EuYWJzb2x1dGVPZmZzZXQueD0wO2EuYWJzb2x1dGVPZmZzZXQueT0wO2Eub3JpZ2luLng9MDthLm9yaWdpbi55PTA7YS5sZW5ndGg9MDtpZihhLmNlbGwhPXRoaXMuY3VycmVudFJvb3Qpe3ZhciBiPXRoaXMuZ3JhcGguZ2V0TW9kZWwoKSxjPXRoaXMuZ2V0U3RhdGUoYi5nZXRQYXJlbnQoYS5jZWxsKSk7bnVsbCE9YyYmYy5jZWxsIT10aGlzLmN1cnJlbnRSb290JiYoYS5vcmlnaW4ueCs9Yy5vcmlnaW4ueCxhLm9yaWdpbi55Kz1jLm9yaWdpbi55KTt2YXIgZD10aGlzLmdyYXBoLmdldENoaWxkT2Zmc2V0Rm9yQ2VsbChhLmNlbGwpO251bGwhPWQmJihhLm9yaWdpbi54Kz1kLngsYS5vcmlnaW4ueSs9ZC55KTt2YXIgZT10aGlzLmdyYXBoLmdldENlbGxHZW9tZXRyeShhLmNlbGwpO251bGwhPWUmJihiLmlzRWRnZShhLmNlbGwpfHwoZD1udWxsIT1lLm9mZnNldD9lLm9mZnNldDp0aGlzLkVNUFRZX1BPSU5ULAplLnJlbGF0aXZlJiZudWxsIT1jP2IuaXNFZGdlKGMuY2VsbCk/KGQ9dGhpcy5nZXRQb2ludChjLGUpLG51bGwhPWQmJihhLm9yaWdpbi54Kz1kLngvdGhpcy5zY2FsZS1jLm9yaWdpbi54LXRoaXMudHJhbnNsYXRlLngsYS5vcmlnaW4ueSs9ZC55L3RoaXMuc2NhbGUtYy5vcmlnaW4ueS10aGlzLnRyYW5zbGF0ZS55KSk6KGEub3JpZ2luLngrPWUueCpjLnVuc2NhbGVkV2lkdGgrZC54LGEub3JpZ2luLnkrPWUueSpjLnVuc2NhbGVkSGVpZ2h0K2QueSk6KGEuYWJzb2x1dGVPZmZzZXQueD10aGlzLnNjYWxlKmQueCxhLmFic29sdXRlT2Zmc2V0Lnk9dGhpcy5zY2FsZSpkLnksYS5vcmlnaW4ueCs9ZS54LGEub3JpZ2luLnkrPWUueSkpLGEueD10aGlzLnNjYWxlKih0aGlzLnRyYW5zbGF0ZS54K2Eub3JpZ2luLngpLGEueT10aGlzLnNjYWxlKih0aGlzLnRyYW5zbGF0ZS55K2Eub3JpZ2luLnkpLGEud2lkdGg9dGhpcy5zY2FsZSplLndpZHRoLGEudW5zY2FsZWRXaWR0aD1lLndpZHRoLGEuaGVpZ2h0PQp0aGlzLnNjYWxlKmUuaGVpZ2h0LGEudW5zY2FsZWRIZWlnaHQ9ZS5oZWlnaHQsYi5pc1ZlcnRleChhLmNlbGwpJiZ0aGlzLnVwZGF0ZVZlcnRleFN0YXRlKGEsZSksYi5pc0VkZ2UoYS5jZWxsKSYmdGhpcy51cGRhdGVFZGdlU3RhdGUoYSxlKSl9YS51cGRhdGVDYWNoZWRCb3VuZHMoKX07bXhHcmFwaFZpZXcucHJvdG90eXBlLmlzQ2VsbENvbGxhcHNlZD1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5ncmFwaC5pc0NlbGxDb2xsYXBzZWQoYSl9OwpteEdyYXBoVmlldy5wcm90b3R5cGUudXBkYXRlVmVydGV4U3RhdGU9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdyYXBoLmdldE1vZGVsKCksZD10aGlzLmdldFN0YXRlKGMuZ2V0UGFyZW50KGEuY2VsbCkpO2lmKGIucmVsYXRpdmUmJm51bGwhPWQmJiFjLmlzRWRnZShkLmNlbGwpKXt2YXIgZT1teFV0aWxzLnRvUmFkaWFucyhkLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX1JPVEFUSU9OXXx8IjAiKTtpZigwIT1lKXt2YXIgYz1NYXRoLmNvcyhlKSxlPU1hdGguc2luKGUpLGY9bmV3IG14UG9pbnQoYS5nZXRDZW50ZXJYKCksYS5nZXRDZW50ZXJZKCkpLGQ9bmV3IG14UG9pbnQoZC5nZXRDZW50ZXJYKCksZC5nZXRDZW50ZXJZKCkpLGQ9bXhVdGlscy5nZXRSb3RhdGVkUG9pbnQoZixjLGUsZCk7YS54PWQueC1hLndpZHRoLzI7YS55PWQueS1hLmhlaWdodC8yfX10aGlzLnVwZGF0ZVZlcnRleExhYmVsT2Zmc2V0KGEpfTsKbXhHcmFwaFZpZXcucHJvdG90eXBlLnVwZGF0ZUVkZ2VTdGF0ZT1mdW5jdGlvbihhLGIpe3ZhciBjPWEuZ2V0VmlzaWJsZVRlcm1pbmFsU3RhdGUoITApLGQ9YS5nZXRWaXNpYmxlVGVybWluYWxTdGF0ZSghMSk7bnVsbCE9dGhpcy5ncmFwaC5tb2RlbC5nZXRUZXJtaW5hbChhLmNlbGwsITApJiZudWxsPT1jfHxudWxsPT1jJiZudWxsPT1iLmdldFRlcm1pbmFsUG9pbnQoITApfHxudWxsIT10aGlzLmdyYXBoLm1vZGVsLmdldFRlcm1pbmFsKGEuY2VsbCwhMSkmJm51bGw9PWR8fG51bGw9PWQmJm51bGw9PWIuZ2V0VGVybWluYWxQb2ludCghMSk/dGhpcy5jbGVhcihhLmNlbGwsITApOih0aGlzLnVwZGF0ZUZpeGVkVGVybWluYWxQb2ludHMoYSxjLGQpLHRoaXMudXBkYXRlUG9pbnRzKGEsYi5wb2ludHMsYyxkKSx0aGlzLnVwZGF0ZUZsb2F0aW5nVGVybWluYWxQb2ludHMoYSxjLGQpLGM9YS5hYnNvbHV0ZVBvaW50cyxhLmNlbGwhPXRoaXMuY3VycmVudFJvb3QmJihudWxsPT1jfHwyPgpjLmxlbmd0aHx8bnVsbD09Y1swXXx8bnVsbD09Y1tjLmxlbmd0aC0xXSk/dGhpcy5jbGVhcihhLmNlbGwsITApOih0aGlzLnVwZGF0ZUVkZ2VCb3VuZHMoYSksdGhpcy51cGRhdGVFZGdlTGFiZWxPZmZzZXQoYSkpKX07Cm14R3JhcGhWaWV3LnByb3RvdHlwZS51cGRhdGVWZXJ0ZXhMYWJlbE9mZnNldD1mdW5jdGlvbihhKXt2YXIgYj1teFV0aWxzLmdldFZhbHVlKGEuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfTEFCRUxfUE9TSVRJT04sbXhDb25zdGFudHMuQUxJR05fQ0VOVEVSKTtpZihiPT1teENvbnN0YW50cy5BTElHTl9MRUZUKWI9bXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0xBQkVMX1dJRFRILG51bGwpLGI9bnVsbCE9Yj9iKnRoaXMuc2NhbGU6YS53aWR0aCxhLmFic29sdXRlT2Zmc2V0LngtPWI7ZWxzZSBpZihiPT1teENvbnN0YW50cy5BTElHTl9SSUdIVClhLmFic29sdXRlT2Zmc2V0LngrPWEud2lkdGg7ZWxzZSBpZihiPT1teENvbnN0YW50cy5BTElHTl9DRU5URVImJihiPW14VXRpbHMuZ2V0VmFsdWUoYS5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9MQUJFTF9XSURUSCxudWxsKSxudWxsIT1iKSl7dmFyIGM9bXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0FMSUdOLApteENvbnN0YW50cy5BTElHTl9DRU5URVIpLGQ9MDtjPT1teENvbnN0YW50cy5BTElHTl9DRU5URVI/ZD0uNTpjPT1teENvbnN0YW50cy5BTElHTl9SSUdIVCYmKGQ9MSk7MCE9ZCYmKGEuYWJzb2x1dGVPZmZzZXQueC09KGIqdGhpcy5zY2FsZS1hLndpZHRoKSpkKX1iPW14VXRpbHMuZ2V0VmFsdWUoYS5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9WRVJUSUNBTF9MQUJFTF9QT1NJVElPTixteENvbnN0YW50cy5BTElHTl9NSURETEUpO2I9PW14Q29uc3RhbnRzLkFMSUdOX1RPUD9hLmFic29sdXRlT2Zmc2V0LnktPWEuaGVpZ2h0OmI9PW14Q29uc3RhbnRzLkFMSUdOX0JPVFRPTSYmKGEuYWJzb2x1dGVPZmZzZXQueSs9YS5oZWlnaHQpfTtteEdyYXBoVmlldy5wcm90b3R5cGUucmVzZXRWYWxpZGF0aW9uU3RhdGU9ZnVuY3Rpb24oKXt0aGlzLmxhc3RGb3JlZ3JvdW5kSHRtbE5vZGU9dGhpcy5sYXN0Rm9yZWdyb3VuZE5vZGU9dGhpcy5sYXN0SHRtbE5vZGU9dGhpcy5sYXN0Tm9kZT1udWxsfTsKbXhHcmFwaFZpZXcucHJvdG90eXBlLnN0YXRlVmFsaWRhdGVkPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZ3JhcGguZ2V0TW9kZWwoKS5pc0VkZ2UoYS5jZWxsKSYmdGhpcy5ncmFwaC5rZWVwRWRnZXNJbkZvcmVncm91bmR8fHRoaXMuZ3JhcGguZ2V0TW9kZWwoKS5pc1ZlcnRleChhLmNlbGwpJiZ0aGlzLmdyYXBoLmtlZXBFZGdlc0luQmFja2dyb3VuZDthPXRoaXMuZ3JhcGguY2VsbFJlbmRlcmVyLmluc2VydFN0YXRlQWZ0ZXIoYSxiP3RoaXMubGFzdEZvcmVncm91bmROb2RlfHx0aGlzLmxhc3ROb2RlOnRoaXMubGFzdE5vZGUsYj90aGlzLmxhc3RGb3JlZ3JvdW5kSHRtbE5vZGV8fHRoaXMubGFzdEh0bWxOb2RlOnRoaXMubGFzdEh0bWxOb2RlKTtiPyh0aGlzLmxhc3RGb3JlZ3JvdW5kSHRtbE5vZGU9YVsxXSx0aGlzLmxhc3RGb3JlZ3JvdW5kTm9kZT1hWzBdKToodGhpcy5sYXN0SHRtbE5vZGU9YVsxXSx0aGlzLmxhc3ROb2RlPWFbMF0pfTsKbXhHcmFwaFZpZXcucHJvdG90eXBlLnVwZGF0ZUZpeGVkVGVybWluYWxQb2ludHM9ZnVuY3Rpb24oYSxiLGMpe3RoaXMudXBkYXRlRml4ZWRUZXJtaW5hbFBvaW50KGEsYiwhMCx0aGlzLmdyYXBoLmdldENvbm5lY3Rpb25Db25zdHJhaW50KGEsYiwhMCkpO3RoaXMudXBkYXRlRml4ZWRUZXJtaW5hbFBvaW50KGEsYywhMSx0aGlzLmdyYXBoLmdldENvbm5lY3Rpb25Db25zdHJhaW50KGEsYywhMSkpfTtteEdyYXBoVmlldy5wcm90b3R5cGUudXBkYXRlRml4ZWRUZXJtaW5hbFBvaW50PWZ1bmN0aW9uKGEsYixjLGQpe2Euc2V0QWJzb2x1dGVUZXJtaW5hbFBvaW50KHRoaXMuZ2V0Rml4ZWRUZXJtaW5hbFBvaW50KGEsYixjLGQpLGMpfTsKbXhHcmFwaFZpZXcucHJvdG90eXBlLmdldEZpeGVkVGVybWluYWxQb2ludD1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1udWxsO251bGwhPWQmJihlPXRoaXMuZ3JhcGguZ2V0Q29ubmVjdGlvblBvaW50KGIsZCwhMSkpO2lmKG51bGw9PWUmJm51bGw9PWIpe2I9dGhpcy5zY2FsZTtkPXRoaXMudHJhbnNsYXRlO3ZhciBmPWEub3JpZ2luLGU9dGhpcy5ncmFwaC5nZXRDZWxsR2VvbWV0cnkoYS5jZWxsKS5nZXRUZXJtaW5hbFBvaW50KGMpO251bGwhPWUmJihlPW5ldyBteFBvaW50KGIqKGQueCtlLngrZi54KSxiKihkLnkrZS55K2YueSkpKX1yZXR1cm4gZX07Cm14R3JhcGhWaWV3LnByb3RvdHlwZS51cGRhdGVCb3VuZHNGcm9tU3RlbmNpbD1mdW5jdGlvbihhKXt2YXIgYj1udWxsO2lmKG51bGwhPWEmJm51bGwhPWEuc2hhcGUmJm51bGwhPWEuc2hhcGUuc3RlbmNpbCYmImZpeGVkIj09YS5zaGFwZS5zdGVuY2lsLmFzcGVjdCl7dmFyIGI9bXhSZWN0YW5nbGUuZnJvbVJlY3RhbmdsZShhKSxjPWEuc2hhcGUuc3RlbmNpbC5jb21wdXRlQXNwZWN0KGEuc3R5bGUsYS54LGEueSxhLndpZHRoLGEuaGVpZ2h0KTthLnNldFJlY3QoYy54LGMueSxhLnNoYXBlLnN0ZW5jaWwudzAqYy53aWR0aCxhLnNoYXBlLnN0ZW5jaWwuaDAqYy5oZWlnaHQpfXJldHVybiBifTsKbXhHcmFwaFZpZXcucHJvdG90eXBlLnVwZGF0ZVBvaW50cz1mdW5jdGlvbihhLGIsYyxkKXtpZihudWxsIT1hKXt2YXIgZT1bXTtlLnB1c2goYS5hYnNvbHV0ZVBvaW50c1swXSk7dmFyIGY9dGhpcy5nZXRFZGdlU3R5bGUoYSxiLGMsZCk7aWYobnVsbCE9Zil7Yz10aGlzLmdldFRlcm1pbmFsUG9ydChhLGMsITApO2Q9dGhpcy5nZXRUZXJtaW5hbFBvcnQoYSxkLCExKTt2YXIgZz10aGlzLnVwZGF0ZUJvdW5kc0Zyb21TdGVuY2lsKGMpLGs9dGhpcy51cGRhdGVCb3VuZHNGcm9tU3RlbmNpbChkKTtmKGEsYyxkLGIsZSk7bnVsbCE9ZyYmYy5zZXRSZWN0KGcueCxnLnksZy53aWR0aCxnLmhlaWdodCk7bnVsbCE9ayYmZC5zZXRSZWN0KGsueCxrLnksay53aWR0aCxrLmhlaWdodCl9ZWxzZSBpZihudWxsIT1iKWZvcihmPTA7ZjxiLmxlbmd0aDtmKyspbnVsbCE9YltmXSYmKGM9bXhVdGlscy5jbG9uZShiW2ZdKSxlLnB1c2godGhpcy50cmFuc2Zvcm1Db250cm9sUG9pbnQoYSxjKSkpO2I9CmEuYWJzb2x1dGVQb2ludHM7ZS5wdXNoKGJbYi5sZW5ndGgtMV0pO2EuYWJzb2x1dGVQb2ludHM9ZX19O214R3JhcGhWaWV3LnByb3RvdHlwZS50cmFuc2Zvcm1Db250cm9sUG9pbnQ9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBudWxsIT1hJiZudWxsIT1iPyhhPWEub3JpZ2luLGM9Yz8xOnRoaXMuc2NhbGUsbmV3IG14UG9pbnQoYyooYi54K3RoaXMudHJhbnNsYXRlLngrYS54KSxjKihiLnkrdGhpcy50cmFuc2xhdGUueSthLnkpKSk6bnVsbH07Cm14R3JhcGhWaWV3LnByb3RvdHlwZS5pc0xvb3BTdHlsZUVuYWJsZWQ9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9dGhpcy5ncmFwaC5nZXRDb25uZWN0aW9uQ29uc3RyYWludChhLGMsITApLGY9dGhpcy5ncmFwaC5nZXRDb25uZWN0aW9uQ29uc3RyYWludChhLGQsITEpO3JldHVybiEobnVsbD09Ynx8Mj5iLmxlbmd0aCl8fG14VXRpbHMuZ2V0VmFsdWUoYS5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9PUlRIT0dPTkFMX0xPT1AsITEpJiYobnVsbCE9ZSYmbnVsbCE9ZS5wb2ludHx8bnVsbCE9ZiYmbnVsbCE9Zi5wb2ludCk/ITE6bnVsbCE9YyYmYz09ZH07Cm14R3JhcGhWaWV3LnByb3RvdHlwZS5nZXRFZGdlU3R5bGU9ZnVuY3Rpb24oYSxiLGMsZCl7YT10aGlzLmlzTG9vcFN0eWxlRW5hYmxlZChhLGIsYyxkKT9teFV0aWxzLmdldFZhbHVlKGEuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfTE9PUCx0aGlzLmdyYXBoLmRlZmF1bHRMb29wU3R5bGUpOm14VXRpbHMuZ2V0VmFsdWUoYS5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9OT0VER0VTVFlMRSwhMSk/bnVsbDphLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX0VER0VdOyJzdHJpbmciPT10eXBlb2YgYSYmKGI9bXhTdHlsZVJlZ2lzdHJ5LmdldFZhbHVlKGEpLG51bGw9PWImJnRoaXMuaXNBbGxvd0V2YWwoKSYmKGI9bXhVdGlscy5ldmFsKGEpKSxhPWIpO3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBhP2E6bnVsbH07Cm14R3JhcGhWaWV3LnByb3RvdHlwZS51cGRhdGVGbG9hdGluZ1Rlcm1pbmFsUG9pbnRzPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1hLmFic29sdXRlUG9pbnRzLGU9ZFswXTtudWxsPT1kW2QubGVuZ3RoLTFdJiZudWxsIT1jJiZ0aGlzLnVwZGF0ZUZsb2F0aW5nVGVybWluYWxQb2ludChhLGMsYiwhMSk7bnVsbD09ZSYmbnVsbCE9YiYmdGhpcy51cGRhdGVGbG9hdGluZ1Rlcm1pbmFsUG9pbnQoYSxiLGMsITApfTtteEdyYXBoVmlldy5wcm90b3R5cGUudXBkYXRlRmxvYXRpbmdUZXJtaW5hbFBvaW50PWZ1bmN0aW9uKGEsYixjLGQpe2Euc2V0QWJzb2x1dGVUZXJtaW5hbFBvaW50KHRoaXMuZ2V0RmxvYXRpbmdUZXJtaW5hbFBvaW50KGEsYixjLGQpLGQpfTsKbXhHcmFwaFZpZXcucHJvdG90eXBlLmdldEZsb2F0aW5nVGVybWluYWxQb2ludD1mdW5jdGlvbihhLGIsYyxkKXtiPXRoaXMuZ2V0VGVybWluYWxQb3J0KGEsYixkKTt2YXIgZT10aGlzLmdldE5leHRQb2ludChhLGMsZCksZj10aGlzLmdyYXBoLmlzT3J0aG9nb25hbChhKTtjPW14VXRpbHMudG9SYWRpYW5zKE51bWJlcihiLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX1JPVEFUSU9OXXx8IjAiKSk7dmFyIGc9bmV3IG14UG9pbnQoYi5nZXRDZW50ZXJYKCksYi5nZXRDZW50ZXJZKCkpO2lmKDAhPWMpdmFyIGs9TWF0aC5jb3MoLWMpLGw9TWF0aC5zaW4oLWMpLGU9bXhVdGlscy5nZXRSb3RhdGVkUG9pbnQoZSxrLGwsZyk7az1wYXJzZUZsb2F0KGEuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfUEVSSU1FVEVSX1NQQUNJTkddfHwwKTtrKz1wYXJzZUZsb2F0KGEuc3R5bGVbZD9teENvbnN0YW50cy5TVFlMRV9TT1VSQ0VfUEVSSU1FVEVSX1NQQUNJTkc6bXhDb25zdGFudHMuU1RZTEVfVEFSR0VUX1BFUklNRVRFUl9TUEFDSU5HXXx8CjApO2E9dGhpcy5nZXRQZXJpbWV0ZXJQb2ludChiLGUsMD09YyYmZixrKTswIT1jJiYoaz1NYXRoLmNvcyhjKSxsPU1hdGguc2luKGMpLGE9bXhVdGlscy5nZXRSb3RhdGVkUG9pbnQoYSxrLGwsZykpO3JldHVybiBhfTtteEdyYXBoVmlldy5wcm90b3R5cGUuZ2V0VGVybWluYWxQb3J0PWZ1bmN0aW9uKGEsYixjKXthPW14VXRpbHMuZ2V0VmFsdWUoYS5zdHlsZSxjP214Q29uc3RhbnRzLlNUWUxFX1NPVVJDRV9QT1JUOm14Q29uc3RhbnRzLlNUWUxFX1RBUkdFVF9QT1JUKTtudWxsIT1hJiYoYT10aGlzLmdldFN0YXRlKHRoaXMuZ3JhcGguZ2V0TW9kZWwoKS5nZXRDZWxsKGEpKSxudWxsIT1hJiYoYj1hKSk7cmV0dXJuIGJ9OwpteEdyYXBoVmlldy5wcm90b3R5cGUuZ2V0UGVyaW1ldGVyUG9pbnQ9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9bnVsbDtpZihudWxsIT1hKXt2YXIgZj10aGlzLmdldFBlcmltZXRlckZ1bmN0aW9uKGEpO2lmKG51bGwhPWYmJm51bGwhPWImJihkPXRoaXMuZ2V0UGVyaW1ldGVyQm91bmRzKGEsZCksMDxkLndpZHRofHwwPGQuaGVpZ2h0KSl7dmFyIGU9bmV3IG14UG9pbnQoYi54LGIueSksZz1iPSExO3RoaXMuZ3JhcGgubW9kZWwuaXNWZXJ0ZXgoYS5jZWxsKSYmKGI9MT09bXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0ZMSVBILDApLGc9MT09bXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0ZMSVBWLDApLG51bGwhPWEuc2hhcGUmJm51bGwhPWEuc2hhcGUuc3RlbmNpbCYmKGI9MT09bXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLCJzdGVuY2lsRmxpcEgiLDApfHxiLGc9MT09bXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLCJzdGVuY2lsRmxpcFYiLAowKXx8ZyksYiYmKGUueD0yKmQuZ2V0Q2VudGVyWCgpLWUueCksZyYmKGUueT0yKmQuZ2V0Q2VudGVyWSgpLWUueSkpO2U9ZihkLGEsZSxjKTtudWxsIT1lJiYoYiYmKGUueD0yKmQuZ2V0Q2VudGVyWCgpLWUueCksZyYmKGUueT0yKmQuZ2V0Q2VudGVyWSgpLWUueSkpfW51bGw9PWUmJihlPXRoaXMuZ2V0UG9pbnQoYSkpfXJldHVybiBlfTtteEdyYXBoVmlldy5wcm90b3R5cGUuZ2V0Um91dGluZ0NlbnRlclg9ZnVuY3Rpb24oYSl7dmFyIGI9bnVsbCE9YS5zdHlsZT9wYXJzZUZsb2F0KGEuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfUk9VVElOR19DRU5URVJfWF0pfHwwOjA7cmV0dXJuIGEuZ2V0Q2VudGVyWCgpK2IqYS53aWR0aH07Cm14R3JhcGhWaWV3LnByb3RvdHlwZS5nZXRSb3V0aW5nQ2VudGVyWT1mdW5jdGlvbihhKXt2YXIgYj1udWxsIT1hLnN0eWxlP3BhcnNlRmxvYXQoYS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9ST1VUSU5HX0NFTlRFUl9ZXSl8fDA6MDtyZXR1cm4gYS5nZXRDZW50ZXJZKCkrYiphLmhlaWdodH07bXhHcmFwaFZpZXcucHJvdG90eXBlLmdldFBlcmltZXRlckJvdW5kcz1mdW5jdGlvbihhLGIpe2I9bnVsbCE9Yj9iOjA7bnVsbCE9YSYmKGIrPXBhcnNlRmxvYXQoYS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9QRVJJTUVURVJfU1BBQ0lOR118fDApKTtyZXR1cm4gYS5nZXRQZXJpbWV0ZXJCb3VuZHMoYip0aGlzLnNjYWxlKX07Cm14R3JhcGhWaWV3LnByb3RvdHlwZS5nZXRQZXJpbWV0ZXJGdW5jdGlvbj1mdW5jdGlvbihhKXthPWEuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfUEVSSU1FVEVSXTtpZigic3RyaW5nIj09dHlwZW9mIGEpe3ZhciBiPW14U3R5bGVSZWdpc3RyeS5nZXRWYWx1ZShhKTtudWxsPT1iJiZ0aGlzLmlzQWxsb3dFdmFsKCkmJihiPW14VXRpbHMuZXZhbChhKSk7YT1ifXJldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBhP2E6bnVsbH07bXhHcmFwaFZpZXcucHJvdG90eXBlLmdldE5leHRQb2ludD1mdW5jdGlvbihhLGIsYyl7YT1hLmFic29sdXRlUG9pbnRzO3ZhciBkPW51bGw7bnVsbCE9YSYmMjw9YS5sZW5ndGgmJihkPWEubGVuZ3RoLGQ9YVtjP01hdGgubWluKDEsZC0xKTpNYXRoLm1heCgwLGQtMildKTtudWxsPT1kJiZudWxsIT1iJiYoZD1uZXcgbXhQb2ludChiLmdldENlbnRlclgoKSxiLmdldENlbnRlclkoKSkpO3JldHVybiBkfTsKbXhHcmFwaFZpZXcucHJvdG90eXBlLmdldFZpc2libGVUZXJtaW5hbD1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYz10aGlzLmdyYXBoLmdldE1vZGVsKCksZD1jLmdldFRlcm1pbmFsKGEsYiksZT1kO251bGwhPWQmJmQhPXRoaXMuY3VycmVudFJvb3Q7KXtpZighdGhpcy5ncmFwaC5pc0NlbGxWaXNpYmxlKGUpfHx0aGlzLmlzQ2VsbENvbGxhcHNlZChkKSllPWQ7ZD1jLmdldFBhcmVudChkKX1udWxsPT1lfHxjLmNvbnRhaW5zKGUpJiZjLmdldFBhcmVudChlKSE9Yy5nZXRSb290KCkmJmUhPXRoaXMuY3VycmVudFJvb3R8fChlPW51bGwpO3JldHVybiBlfTsKbXhHcmFwaFZpZXcucHJvdG90eXBlLnVwZGF0ZUVkZ2VCb3VuZHM9ZnVuY3Rpb24oYSl7dmFyIGI9YS5hYnNvbHV0ZVBvaW50cyxjPWJbMF0sZD1iW2IubGVuZ3RoLTFdO2lmKGMueCE9ZC54fHxjLnkhPWQueSl7dmFyIGU9ZC54LWMueCxmPWQueS1jLnk7YS50ZXJtaW5hbERpc3RhbmNlPU1hdGguc3FydChlKmUrZipmKX1lbHNlIGEudGVybWluYWxEaXN0YW5jZT0wO3ZhciBkPTAsZz1bXSxmPWM7aWYobnVsbCE9Zil7Zm9yKHZhciBjPWYueCxrPWYueSxsPWMsbT1rLG49MTtuPGIubGVuZ3RoO24rKyl7dmFyIHA9YltuXTtudWxsIT1wJiYoZT1mLngtcC54LGY9Zi55LXAueSxlPU1hdGguc3FydChlKmUrZipmKSxnLnB1c2goZSksZCs9ZSxmPXAsYz1NYXRoLm1pbihmLngsYyksaz1NYXRoLm1pbihmLnksayksbD1NYXRoLm1heChmLngsbCksbT1NYXRoLm1heChmLnksbSkpfWEubGVuZ3RoPWQ7YS5zZWdtZW50cz1nO2EueD1jO2EueT1rO2Eud2lkdGg9TWF0aC5tYXgoMSxsLWMpO2EuaGVpZ2h0PQpNYXRoLm1heCgxLG0tayl9fTsKbXhHcmFwaFZpZXcucHJvdG90eXBlLmdldFBvaW50PWZ1bmN0aW9uKGEsYil7dmFyIGM9YS5nZXRDZW50ZXJYKCksZD1hLmdldENlbnRlclkoKTtpZihudWxsPT1hLnNlZ21lbnRzfHxudWxsIT1iJiYhYi5yZWxhdGl2ZSludWxsIT1iJiYobT1iLm9mZnNldCxudWxsIT1tJiYoYys9bS54LGQrPW0ueSkpO2Vsc2V7Zm9yKHZhciBlPWEuYWJzb2x1dGVQb2ludHMubGVuZ3RoLGY9TWF0aC5yb3VuZCgoKG51bGwhPWI/Yi54LzI6MCkrLjUpKmEubGVuZ3RoKSxnPWEuc2VnbWVudHNbMF0saz0wLGw9MTtmPj1NYXRoLnJvdW5kKGsrZykmJmw8ZS0xOylrKz1nLGc9YS5zZWdtZW50c1tsKytdO2U9MD09Zz8wOihmLWspL2c7Zj1hLmFic29sdXRlUG9pbnRzW2wtMV07bD1hLmFic29sdXRlUG9pbnRzW2xdO2lmKG51bGwhPWYmJm51bGwhPWwpe2s9Yz1kPTA7aWYobnVsbCE9Yil7dmFyIGQ9Yi55LG09Yi5vZmZzZXQ7bnVsbCE9bSYmKGM9bS54LGs9bS55KX1tPWwueC1mLng7bD1sLnktZi55O2M9CmYueCttKmUrKCgwPT1nPzA6bC9nKSpkK2MpKnRoaXMuc2NhbGU7ZD1mLnkrbCplLSgoMD09Zz8wOm0vZykqZC1rKSp0aGlzLnNjYWxlfX1yZXR1cm4gbmV3IG14UG9pbnQoYyxkKX07Cm14R3JhcGhWaWV3LnByb3RvdHlwZS5nZXRSZWxhdGl2ZVBvaW50PWZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLmdyYXBoLmdldE1vZGVsKCkuZ2V0R2VvbWV0cnkoYS5jZWxsKTtpZihudWxsIT1kKXt2YXIgZT1hLmFic29sdXRlUG9pbnRzLmxlbmd0aDtpZihkLnJlbGF0aXZlJiYxPGUpe2Zvcih2YXIgZD1hLmxlbmd0aCxmPWEuc2VnbWVudHMsZz1hLmFic29sdXRlUG9pbnRzWzBdLGs9YS5hYnNvbHV0ZVBvaW50c1sxXSxsPW14VXRpbHMucHRTZWdEaXN0U3EoZy54LGcueSxrLngsay55LGIsYyksbT0wLG49MCxwPTAscT0yO3E8ZTtxKyspbis9ZltxLTJdLGs9YS5hYnNvbHV0ZVBvaW50c1txXSxnPW14VXRpbHMucHRTZWdEaXN0U3EoZy54LGcueSxrLngsay55LGIsYyksZzw9bCYmKGw9ZyxtPXEtMSxwPW4pLGc9aztlPWZbbV07Zz1hLmFic29sdXRlUG9pbnRzW21dO2s9YS5hYnNvbHV0ZVBvaW50c1ttKzFdO2w9ay54O2Y9ay55O2E9Zy54LWw7bT1nLnktZjtmPShhLShiLWwpKSoKYSsobS0oYy1mKSkqbTthPU1hdGguc3FydCgwPj1mPzA6ZipmLyhhKmErbSptKSk7YT5lJiYoYT1lKTtlPU1hdGguc3FydChteFV0aWxzLnB0U2VnRGlzdFNxKGcueCxnLnksay54LGsueSxiLGMpKTstMT09bXhVdGlscy5yZWxhdGl2ZUNjdyhnLngsZy55LGsueCxrLnksYixjKSYmKGU9LWUpO3JldHVybiBuZXcgbXhQb2ludCgoZC8yLXAtYSkvZCotMixlL3RoaXMuc2NhbGUpfX1yZXR1cm4gbmV3IG14UG9pbnR9OwpteEdyYXBoVmlldy5wcm90b3R5cGUudXBkYXRlRWRnZUxhYmVsT2Zmc2V0PWZ1bmN0aW9uKGEpe3ZhciBiPWEuYWJzb2x1dGVQb2ludHM7YS5hYnNvbHV0ZU9mZnNldC54PWEuZ2V0Q2VudGVyWCgpO2EuYWJzb2x1dGVPZmZzZXQueT1hLmdldENlbnRlclkoKTtpZihudWxsIT1iJiYwPGIubGVuZ3RoJiZudWxsIT1hLnNlZ21lbnRzKXt2YXIgYz10aGlzLmdyYXBoLmdldENlbGxHZW9tZXRyeShhLmNlbGwpO2lmKGMucmVsYXRpdmUpe3ZhciBkPXRoaXMuZ2V0UG9pbnQoYSxjKTtudWxsIT1kJiYoYS5hYnNvbHV0ZU9mZnNldD1kKX1lbHNle3ZhciBkPWJbMF0sZT1iW2IubGVuZ3RoLTFdO2lmKG51bGwhPWQmJm51bGwhPWUpe3ZhciBiPWUueC1kLngsZj1lLnktZC55LGc9ZT0wLGM9Yy5vZmZzZXQ7bnVsbCE9YyYmKGU9Yy54LGc9Yy55KTtjPWQueStmLzIrZyp0aGlzLnNjYWxlO2EuYWJzb2x1dGVPZmZzZXQueD1kLngrYi8yK2UqdGhpcy5zY2FsZTthLmFic29sdXRlT2Zmc2V0Lnk9Y319fX07Cm14R3JhcGhWaWV3LnByb3RvdHlwZS5nZXRTdGF0ZT1mdW5jdGlvbihhLGIpe2I9Ynx8ITE7dmFyIGM9bnVsbDtudWxsIT1hJiYoYz10aGlzLnN0YXRlcy5nZXQoYSksYiYmKG51bGw9PWN8fHRoaXMudXBkYXRlU3R5bGUpJiZ0aGlzLmdyYXBoLmlzQ2VsbFZpc2libGUoYSkmJihudWxsPT1jPyhjPXRoaXMuY3JlYXRlU3RhdGUoYSksdGhpcy5zdGF0ZXMucHV0KGEsYykpOmMuc3R5bGU9dGhpcy5ncmFwaC5nZXRDZWxsU3R5bGUoYSkpKTtyZXR1cm4gY307bXhHcmFwaFZpZXcucHJvdG90eXBlLmlzUmVuZGVyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVuZGVyaW5nfTtteEdyYXBoVmlldy5wcm90b3R5cGUuc2V0UmVuZGVyaW5nPWZ1bmN0aW9uKGEpe3RoaXMucmVuZGVyaW5nPWF9O214R3JhcGhWaWV3LnByb3RvdHlwZS5pc0FsbG93RXZhbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmFsbG93RXZhbH07Cm14R3JhcGhWaWV3LnByb3RvdHlwZS5zZXRBbGxvd0V2YWw9ZnVuY3Rpb24oYSl7dGhpcy5hbGxvd0V2YWw9YX07bXhHcmFwaFZpZXcucHJvdG90eXBlLmdldFN0YXRlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YXRlc307bXhHcmFwaFZpZXcucHJvdG90eXBlLnNldFN0YXRlcz1mdW5jdGlvbihhKXt0aGlzLnN0YXRlcz1hfTtteEdyYXBoVmlldy5wcm90b3R5cGUuZ2V0Q2VsbFN0YXRlcz1mdW5jdGlvbihhKXtpZihudWxsPT1hKXJldHVybiB0aGlzLnN0YXRlcztmb3IodmFyIGI9W10sYz0wO2M8YS5sZW5ndGg7YysrKXt2YXIgZD10aGlzLmdldFN0YXRlKGFbY10pO251bGwhPWQmJmIucHVzaChkKX1yZXR1cm4gYn07Cm14R3JhcGhWaWV3LnByb3RvdHlwZS5yZW1vdmVTdGF0ZT1mdW5jdGlvbihhKXt2YXIgYj1udWxsO251bGwhPWEmJihiPXRoaXMuc3RhdGVzLnJlbW92ZShhKSxudWxsIT1iJiYodGhpcy5ncmFwaC5jZWxsUmVuZGVyZXIuZGVzdHJveShiKSxiLmludmFsaWQ9ITAsYi5kZXN0cm95KCkpKTtyZXR1cm4gYn07bXhHcmFwaFZpZXcucHJvdG90eXBlLmNyZWF0ZVN0YXRlPWZ1bmN0aW9uKGEpe3JldHVybiBuZXcgbXhDZWxsU3RhdGUodGhpcyxhLHRoaXMuZ3JhcGguZ2V0Q2VsbFN0eWxlKGEpKX07bXhHcmFwaFZpZXcucHJvdG90eXBlLmdldENhbnZhcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNhbnZhc307bXhHcmFwaFZpZXcucHJvdG90eXBlLmdldEJhY2tncm91bmRQYW5lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYmFja2dyb3VuZFBhbmV9O214R3JhcGhWaWV3LnByb3RvdHlwZS5nZXREcmF3UGFuZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmRyYXdQYW5lfTsKbXhHcmFwaFZpZXcucHJvdG90eXBlLmdldE92ZXJsYXlQYW5lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3ZlcmxheVBhbmV9O214R3JhcGhWaWV3LnByb3RvdHlwZS5nZXREZWNvcmF0b3JQYW5lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGVjb3JhdG9yUGFuZX07bXhHcmFwaFZpZXcucHJvdG90eXBlLmlzQ29udGFpbmVyRXZlbnQ9ZnVuY3Rpb24oYSl7YT1teEV2ZW50LmdldFNvdXJjZShhKTtyZXR1cm4gYT09dGhpcy5ncmFwaC5jb250YWluZXJ8fGEucGFyZW50Tm9kZT09dGhpcy5iYWNrZ3JvdW5kUGFuZXx8bnVsbCE9YS5wYXJlbnROb2RlJiZhLnBhcmVudE5vZGUucGFyZW50Tm9kZT09dGhpcy5iYWNrZ3JvdW5kUGFuZXx8YT09dGhpcy5jYW52YXMucGFyZW50Tm9kZXx8YT09dGhpcy5jYW52YXN8fGE9PXRoaXMuYmFja2dyb3VuZFBhbmV8fGE9PXRoaXMuZHJhd1BhbmV8fGE9PXRoaXMub3ZlcmxheVBhbmV8fGE9PXRoaXMuZGVjb3JhdG9yUGFuZX07Cm14R3JhcGhWaWV3LnByb3RvdHlwZS5pc1Njcm9sbEV2ZW50PWZ1bmN0aW9uKGEpe3ZhciBiPW14VXRpbHMuZ2V0T2Zmc2V0KHRoaXMuZ3JhcGguY29udGFpbmVyKTthPW5ldyBteFBvaW50KGEuY2xpZW50WC1iLngsYS5jbGllbnRZLWIueSk7dmFyIGI9dGhpcy5ncmFwaC5jb250YWluZXIub2Zmc2V0V2lkdGgsYz10aGlzLmdyYXBoLmNvbnRhaW5lci5jbGllbnRXaWR0aDtpZihiPmMmJmEueD5jKzImJmEueDw9YilyZXR1cm4hMDtiPXRoaXMuZ3JhcGguY29udGFpbmVyLm9mZnNldEhlaWdodDtjPXRoaXMuZ3JhcGguY29udGFpbmVyLmNsaWVudEhlaWdodDtyZXR1cm4gYj5jJiZhLnk+YysyJiZhLnk8PWI/ITA6ITF9OwpteEdyYXBoVmlldy5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbigpe3RoaXMuaW5zdGFsbExpc3RlbmVycygpO3ZhciBhPXRoaXMuZ3JhcGg7YS5kaWFsZWN0PT1teENvbnN0YW50cy5ESUFMRUNUX1NWRz90aGlzLmNyZWF0ZVN2ZygpOmEuZGlhbGVjdD09bXhDb25zdGFudHMuRElBTEVDVF9WTUw/dGhpcy5jcmVhdGVWbWwoKTp0aGlzLmNyZWF0ZUh0bWwoKX07Cm14R3JhcGhWaWV3LnByb3RvdHlwZS5pbnN0YWxsTGlzdGVuZXJzPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5ncmFwaCxiPWEuY29udGFpbmVyO2lmKG51bGwhPWIpe214Q2xpZW50LklTX1RPVUNIJiYobXhFdmVudC5hZGRMaXN0ZW5lcihiLCJnZXN0dXJlc3RhcnQiLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGIpe2EuZmlyZUdlc3R1cmVFdmVudChiKTtteEV2ZW50LmNvbnN1bWUoYil9KSksbXhFdmVudC5hZGRMaXN0ZW5lcihiLCJnZXN0dXJlY2hhbmdlIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihiKXthLmZpcmVHZXN0dXJlRXZlbnQoYik7bXhFdmVudC5jb25zdW1lKGIpfSkpLG14RXZlbnQuYWRkTGlzdGVuZXIoYiwiZ2VzdHVyZWVuZCIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYil7YS5maXJlR2VzdHVyZUV2ZW50KGIpO214RXZlbnQuY29uc3VtZShiKX0pKSk7bXhFdmVudC5hZGRHZXN0dXJlTGlzdGVuZXJzKGIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYil7IXRoaXMuaXNDb250YWluZXJFdmVudChiKXx8CihteENsaWVudC5JU19JRXx8bXhDbGllbnQuSVNfSUUxMXx8bXhDbGllbnQuSVNfR0N8fG14Q2xpZW50LklTX09QfHxteENsaWVudC5JU19TRikmJnRoaXMuaXNTY3JvbGxFdmVudChiKXx8YS5maXJlTW91c2VFdmVudChteEV2ZW50Lk1PVVNFX0RPV04sbmV3IG14TW91c2VFdmVudChiKSl9KSxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihiKXt0aGlzLmlzQ29udGFpbmVyRXZlbnQoYikmJmEuZmlyZU1vdXNlRXZlbnQobXhFdmVudC5NT1VTRV9NT1ZFLG5ldyBteE1vdXNlRXZlbnQoYikpfSksbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYil7dGhpcy5pc0NvbnRhaW5lckV2ZW50KGIpJiZhLmZpcmVNb3VzZUV2ZW50KG14RXZlbnQuTU9VU0VfVVAsbmV3IG14TW91c2VFdmVudChiKSl9KSk7bXhFdmVudC5hZGRMaXN0ZW5lcihiLCJkYmxjbGljayIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYil7dGhpcy5pc0NvbnRhaW5lckV2ZW50KGIpJiZhLmRibENsaWNrKGIpfSkpOwp2YXIgYz1mdW5jdGlvbihjKXt2YXIgZD1udWxsO214Q2xpZW50LklTX1RPVUNIJiYoZD1teEV2ZW50LmdldENsaWVudFgoYyksYz1teEV2ZW50LmdldENsaWVudFkoYyksYz1teFV0aWxzLmNvbnZlcnRQb2ludChiLGQsYyksZD1hLnZpZXcuZ2V0U3RhdGUoYS5nZXRDZWxsQXQoYy54LGMueSkpKTtyZXR1cm4gZH07YS5hZGRNb3VzZUxpc3RlbmVyKHttb3VzZURvd246ZnVuY3Rpb24oYixjKXthLnBvcHVwTWVudUhhbmRsZXIuaGlkZU1lbnUoKX0sbW91c2VNb3ZlOmZ1bmN0aW9uKCl7fSxtb3VzZVVwOmZ1bmN0aW9uKCl7fX0pO3RoaXMubW92ZUhhbmRsZXI9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYil7bnVsbCE9YS50b29sdGlwSGFuZGxlciYmYS50b29sdGlwSGFuZGxlci5pc0hpZGVPbkhvdmVyKCkmJmEudG9vbHRpcEhhbmRsZXIuaGlkZSgpO3RoaXMuY2FwdHVyZURvY3VtZW50R2VzdHVyZSYmYS5pc01vdXNlRG93biYmbnVsbCE9YS5jb250YWluZXImJiF0aGlzLmlzQ29udGFpbmVyRXZlbnQoYikmJgoibm9uZSIhPWEuY29udGFpbmVyLnN0eWxlLmRpc3BsYXkmJiJoaWRkZW4iIT1hLmNvbnRhaW5lci5zdHlsZS52aXNpYmlsaXR5JiYhbXhFdmVudC5pc0NvbnN1bWVkKGIpJiZhLmZpcmVNb3VzZUV2ZW50KG14RXZlbnQuTU9VU0VfTU9WRSxuZXcgbXhNb3VzZUV2ZW50KGIsYyhiKSkpfSk7dGhpcy5lbmRIYW5kbGVyPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGIpe3RoaXMuY2FwdHVyZURvY3VtZW50R2VzdHVyZSYmYS5pc01vdXNlRG93biYmbnVsbCE9YS5jb250YWluZXImJiF0aGlzLmlzQ29udGFpbmVyRXZlbnQoYikmJiJub25lIiE9YS5jb250YWluZXIuc3R5bGUuZGlzcGxheSYmImhpZGRlbiIhPWEuY29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHkmJmEuZmlyZU1vdXNlRXZlbnQobXhFdmVudC5NT1VTRV9VUCxuZXcgbXhNb3VzZUV2ZW50KGIpKX0pO214RXZlbnQuYWRkR2VzdHVyZUxpc3RlbmVycyhkb2N1bWVudCxudWxsLHRoaXMubW92ZUhhbmRsZXIsdGhpcy5lbmRIYW5kbGVyKX19OwpteEdyYXBoVmlldy5wcm90b3R5cGUuY3JlYXRlSHRtbD1mdW5jdGlvbigpe3ZhciBhPXRoaXMuZ3JhcGguY29udGFpbmVyO251bGwhPWEmJih0aGlzLmNhbnZhcz10aGlzLmNyZWF0ZUh0bWxQYW5lKCIxMDAlIiwiMTAwJSIpLHRoaXMuY2FudmFzLnN0eWxlLm92ZXJmbG93PSJoaWRkZW4iLHRoaXMuYmFja2dyb3VuZFBhbmU9dGhpcy5jcmVhdGVIdG1sUGFuZSgiMXB4IiwiMXB4IiksdGhpcy5kcmF3UGFuZT10aGlzLmNyZWF0ZUh0bWxQYW5lKCIxcHgiLCIxcHgiKSx0aGlzLm92ZXJsYXlQYW5lPXRoaXMuY3JlYXRlSHRtbFBhbmUoIjFweCIsIjFweCIpLHRoaXMuZGVjb3JhdG9yUGFuZT10aGlzLmNyZWF0ZUh0bWxQYW5lKCIxcHgiLCIxcHgiKSx0aGlzLmNhbnZhcy5hcHBlbmRDaGlsZCh0aGlzLmJhY2tncm91bmRQYW5lKSx0aGlzLmNhbnZhcy5hcHBlbmRDaGlsZCh0aGlzLmRyYXdQYW5lKSx0aGlzLmNhbnZhcy5hcHBlbmRDaGlsZCh0aGlzLm92ZXJsYXlQYW5lKSx0aGlzLmNhbnZhcy5hcHBlbmRDaGlsZCh0aGlzLmRlY29yYXRvclBhbmUpLAphLmFwcGVuZENoaWxkKHRoaXMuY2FudmFzKSx0aGlzLnVwZGF0ZUNvbnRhaW5lclN0eWxlKGEpLG14Q2xpZW50LklTX1FVSVJLUyYmKGE9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7YT10aGlzLmdldEdyYXBoQm91bmRzKCk7dGhpcy51cGRhdGVIdG1sQ2FudmFzU2l6ZShhLngrYS53aWR0aCt0aGlzLmdyYXBoLmJvcmRlcixhLnkrYS5oZWlnaHQrdGhpcy5ncmFwaC5ib3JkZXIpfSksbXhFdmVudC5hZGRMaXN0ZW5lcih3aW5kb3csInJlc2l6ZSIsYSkpKX07Cm14R3JhcGhWaWV3LnByb3RvdHlwZS51cGRhdGVIdG1sQ2FudmFzU2l6ZT1mdW5jdGlvbihhLGIpe2lmKG51bGwhPXRoaXMuZ3JhcGguY29udGFpbmVyKXt2YXIgYz10aGlzLmdyYXBoLmNvbnRhaW5lci5vZmZzZXRIZWlnaHQ7dGhpcy5jYW52YXMuc3R5bGUud2lkdGg9dGhpcy5ncmFwaC5jb250YWluZXIub2Zmc2V0V2lkdGg8YT9hKyJweCI6IjEwMCUiO3RoaXMuY2FudmFzLnN0eWxlLmhlaWdodD1jPGI/YisicHgiOiIxMDAlIn19O214R3JhcGhWaWV3LnByb3RvdHlwZS5jcmVhdGVIdG1sUGFuZT1mdW5jdGlvbihhLGIpe3ZhciBjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIkRJViIpO251bGwhPWEmJm51bGwhPWI/KGMuc3R5bGUucG9zaXRpb249ImFic29sdXRlIixjLnN0eWxlLmxlZnQ9IjBweCIsYy5zdHlsZS50b3A9IjBweCIsYy5zdHlsZS53aWR0aD1hLGMuc3R5bGUuaGVpZ2h0PWIpOmMuc3R5bGUucG9zaXRpb249InJlbGF0aXZlIjtyZXR1cm4gY307Cm14R3JhcGhWaWV3LnByb3RvdHlwZS5jcmVhdGVWbWw9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdyYXBoLmNvbnRhaW5lcjtpZihudWxsIT1hKXt2YXIgYj1hLm9mZnNldFdpZHRoLGM9YS5vZmZzZXRIZWlnaHQ7dGhpcy5jYW52YXM9dGhpcy5jcmVhdGVWbWxQYW5lKGIsYyk7dGhpcy5jYW52YXMuc3R5bGUub3ZlcmZsb3c9ImhpZGRlbiI7dGhpcy5iYWNrZ3JvdW5kUGFuZT10aGlzLmNyZWF0ZVZtbFBhbmUoYixjKTt0aGlzLmRyYXdQYW5lPXRoaXMuY3JlYXRlVm1sUGFuZShiLGMpO3RoaXMub3ZlcmxheVBhbmU9dGhpcy5jcmVhdGVWbWxQYW5lKGIsYyk7dGhpcy5kZWNvcmF0b3JQYW5lPXRoaXMuY3JlYXRlVm1sUGFuZShiLGMpO3RoaXMuY2FudmFzLmFwcGVuZENoaWxkKHRoaXMuYmFja2dyb3VuZFBhbmUpO3RoaXMuY2FudmFzLmFwcGVuZENoaWxkKHRoaXMuZHJhd1BhbmUpO3RoaXMuY2FudmFzLmFwcGVuZENoaWxkKHRoaXMub3ZlcmxheVBhbmUpO3RoaXMuY2FudmFzLmFwcGVuZENoaWxkKHRoaXMuZGVjb3JhdG9yUGFuZSk7CmEuYXBwZW5kQ2hpbGQodGhpcy5jYW52YXMpfX07bXhHcmFwaFZpZXcucHJvdG90eXBlLmNyZWF0ZVZtbFBhbmU9ZnVuY3Rpb24oYSxiKXt2YXIgYz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KG14Q2xpZW50LlZNTF9QUkVGSVgrIjpncm91cCIpO2Muc3R5bGUucG9zaXRpb249ImFic29sdXRlIjtjLnN0eWxlLmxlZnQ9IjBweCI7Yy5zdHlsZS50b3A9IjBweCI7Yy5zdHlsZS53aWR0aD1hKyJweCI7Yy5zdHlsZS5oZWlnaHQ9YisicHgiO2Muc2V0QXR0cmlidXRlKCJjb29yZHNpemUiLGErIiwiK2IpO2Muc2V0QXR0cmlidXRlKCJjb29yZG9yaWdpbiIsIjAsMCIpO3JldHVybiBjfTsKbXhHcmFwaFZpZXcucHJvdG90eXBlLmNyZWF0ZVN2Zz1mdW5jdGlvbigpe3ZhciBhPXRoaXMuZ3JhcGguY29udGFpbmVyO3RoaXMuY2FudmFzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhteENvbnN0YW50cy5OU19TVkcsImciKTt0aGlzLmJhY2tncm91bmRQYW5lPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhteENvbnN0YW50cy5OU19TVkcsImciKTt0aGlzLmNhbnZhcy5hcHBlbmRDaGlsZCh0aGlzLmJhY2tncm91bmRQYW5lKTt0aGlzLmRyYXdQYW5lPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhteENvbnN0YW50cy5OU19TVkcsImciKTt0aGlzLmNhbnZhcy5hcHBlbmRDaGlsZCh0aGlzLmRyYXdQYW5lKTt0aGlzLm92ZXJsYXlQYW5lPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhteENvbnN0YW50cy5OU19TVkcsImciKTt0aGlzLmNhbnZhcy5hcHBlbmRDaGlsZCh0aGlzLm92ZXJsYXlQYW5lKTt0aGlzLmRlY29yYXRvclBhbmU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKG14Q29uc3RhbnRzLk5TX1NWRywKImciKTt0aGlzLmNhbnZhcy5hcHBlbmRDaGlsZCh0aGlzLmRlY29yYXRvclBhbmUpO3ZhciBiPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhteENvbnN0YW50cy5OU19TVkcsInN2ZyIpO2Iuc3R5bGUubGVmdD0iMHB4IjtiLnN0eWxlLnRvcD0iMHB4IjtiLnN0eWxlLndpZHRoPSIxMDAlIjtiLnN0eWxlLmhlaWdodD0iMTAwJSI7Yi5zdHlsZS5kaXNwbGF5PSJibG9jayI7Yi5hcHBlbmRDaGlsZCh0aGlzLmNhbnZhcyk7aWYobXhDbGllbnQuSVNfSUV8fG14Q2xpZW50LklTX0lFMTEpYi5zdHlsZS5vdmVyZmxvdz0iaGlkZGVuIjtudWxsIT1hJiYoYS5hcHBlbmRDaGlsZChiKSx0aGlzLnVwZGF0ZUNvbnRhaW5lclN0eWxlKGEpKX07Cm14R3JhcGhWaWV3LnByb3RvdHlwZS51cGRhdGVDb250YWluZXJTdHlsZT1mdW5jdGlvbihhKXt2YXIgYj1teFV0aWxzLmdldEN1cnJlbnRTdHlsZShhKTtudWxsIT1iJiYic3RhdGljIj09Yi5wb3NpdGlvbiYmKGEuc3R5bGUucG9zaXRpb249InJlbGF0aXZlIik7bXhDbGllbnQuSVNfUE9JTlRFUiYmKGEuc3R5bGUudG91Y2hBY3Rpb249Im5vbmUiKX07Cm14R3JhcGhWaWV3LnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dmFyIGE9bnVsbCE9dGhpcy5jYW52YXM/dGhpcy5jYW52YXMub3duZXJTVkdFbGVtZW50Om51bGw7bnVsbD09YSYmKGE9dGhpcy5jYW52YXMpO251bGwhPWEmJm51bGwhPWEucGFyZW50Tm9kZSYmKHRoaXMuY2xlYXIodGhpcy5jdXJyZW50Um9vdCwhMCksbXhFdmVudC5yZW1vdmVHZXN0dXJlTGlzdGVuZXJzKGRvY3VtZW50LG51bGwsdGhpcy5tb3ZlSGFuZGxlcix0aGlzLmVuZEhhbmRsZXIpLG14RXZlbnQucmVsZWFzZSh0aGlzLmdyYXBoLmNvbnRhaW5lciksYS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGEpLHRoaXMuZGVjb3JhdG9yUGFuZT10aGlzLm92ZXJsYXlQYW5lPXRoaXMuZHJhd1BhbmU9dGhpcy5iYWNrZ3JvdW5kUGFuZT10aGlzLmNhbnZhcz10aGlzLmVuZEhhbmRsZXI9dGhpcy5tb3ZlSGFuZGxlcj1udWxsKX07CmZ1bmN0aW9uIG14Q3VycmVudFJvb3RDaGFuZ2UoYSxiKXt0aGlzLnZpZXc9YTt0aGlzLnByZXZpb3VzPXRoaXMucm9vdD1iO3RoaXMuaXNVcD1udWxsPT1iO2lmKCF0aGlzLmlzVXApZm9yKHZhciBjPXRoaXMudmlldy5jdXJyZW50Um9vdCxkPXRoaXMudmlldy5ncmFwaC5nZXRNb2RlbCgpO251bGwhPWM7KXtpZihjPT1iKXt0aGlzLmlzVXA9ITA7YnJlYWt9Yz1kLmdldFBhcmVudChjKX19Cm14Q3VycmVudFJvb3RDaGFuZ2UucHJvdG90eXBlLmV4ZWN1dGU9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnZpZXcuY3VycmVudFJvb3Q7dGhpcy52aWV3LmN1cnJlbnRSb290PXRoaXMucHJldmlvdXM7dGhpcy5wcmV2aW91cz1hO2E9dGhpcy52aWV3LmdyYXBoLmdldFRyYW5zbGF0ZUZvclJvb3QodGhpcy52aWV3LmN1cnJlbnRSb290KTtudWxsIT1hJiYodGhpcy52aWV3LnRyYW5zbGF0ZT1uZXcgbXhQb2ludCgtYS54LC1hLnkpKTt0aGlzLmlzVXA/KHRoaXMudmlldy5jbGVhcih0aGlzLnZpZXcuY3VycmVudFJvb3QsITApLHRoaXMudmlldy52YWxpZGF0ZSgpKTp0aGlzLnZpZXcucmVmcmVzaCgpO3RoaXMudmlldy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QodGhpcy5pc1VwP214RXZlbnQuVVA6bXhFdmVudC5ET1dOLCJyb290Iix0aGlzLnZpZXcuY3VycmVudFJvb3QsInByZXZpb3VzIix0aGlzLnByZXZpb3VzKSk7dGhpcy5pc1VwPSF0aGlzLmlzVXB9OwpmdW5jdGlvbiBteEdyYXBoKGEsYixjLGQpe3RoaXMubW91c2VMaXN0ZW5lcnM9bnVsbDt0aGlzLnJlbmRlckhpbnQ9Yzt0aGlzLmRpYWxlY3Q9bXhDbGllbnQuSVNfU1ZHP214Q29uc3RhbnRzLkRJQUxFQ1RfU1ZHOmM9PW14Q29uc3RhbnRzLlJFTkRFUklOR19ISU5UX0VYQUNUJiZteENsaWVudC5JU19WTUw/bXhDb25zdGFudHMuRElBTEVDVF9WTUw6Yz09bXhDb25zdGFudHMuUkVOREVSSU5HX0hJTlRfRkFTVEVTVD9teENvbnN0YW50cy5ESUFMRUNUX1NUUklDVEhUTUw6Yz09bXhDb25zdGFudHMuUkVOREVSSU5HX0hJTlRfRkFTVEVSP214Q29uc3RhbnRzLkRJQUxFQ1RfUFJFRkVSSFRNTDpteENvbnN0YW50cy5ESUFMRUNUX01JWEVESFRNTDt0aGlzLm1vZGVsPW51bGwhPWI/YjpuZXcgbXhHcmFwaE1vZGVsO3RoaXMubXVsdGlwbGljaXRpZXM9W107dGhpcy5pbWFnZUJ1bmRsZXM9W107dGhpcy5jZWxsUmVuZGVyZXI9dGhpcy5jcmVhdGVDZWxsUmVuZGVyZXIoKTt0aGlzLnNldFNlbGVjdGlvbk1vZGVsKHRoaXMuY3JlYXRlU2VsZWN0aW9uTW9kZWwoKSk7CnRoaXMuc2V0U3R5bGVzaGVldChudWxsIT1kP2Q6dGhpcy5jcmVhdGVTdHlsZXNoZWV0KCkpO3RoaXMudmlldz10aGlzLmNyZWF0ZUdyYXBoVmlldygpO3RoaXMuZ3JhcGhNb2RlbENoYW5nZUxpc3RlbmVyPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEsYil7dGhpcy5ncmFwaE1vZGVsQ2hhbmdlZChiLmdldFByb3BlcnR5KCJlZGl0IikuY2hhbmdlcyl9KTt0aGlzLm1vZGVsLmFkZExpc3RlbmVyKG14RXZlbnQuQ0hBTkdFLHRoaXMuZ3JhcGhNb2RlbENoYW5nZUxpc3RlbmVyKTt0aGlzLmNyZWF0ZUhhbmRsZXJzKCk7bnVsbCE9YSYmdGhpcy5pbml0KGEpO3RoaXMudmlldy5yZXZhbGlkYXRlKCl9bXhMb2FkUmVzb3VyY2VzP214UmVzb3VyY2VzLmFkZChteENsaWVudC5iYXNlUGF0aCsiL3Jlc291cmNlcy9ncmFwaCIpOm14Q2xpZW50LmRlZmF1bHRCdW5kbGVzLnB1c2gobXhDbGllbnQuYmFzZVBhdGgrIi9yZXNvdXJjZXMvZ3JhcGgiKTtteEdyYXBoLnByb3RvdHlwZT1uZXcgbXhFdmVudFNvdXJjZTsKbXhHcmFwaC5wcm90b3R5cGUuY29uc3RydWN0b3I9bXhHcmFwaDtteEdyYXBoLnByb3RvdHlwZS5tb3VzZUxpc3RlbmVycz1udWxsO214R3JhcGgucHJvdG90eXBlLmlzTW91c2VEb3duPSExO214R3JhcGgucHJvdG90eXBlLm1vZGVsPW51bGw7bXhHcmFwaC5wcm90b3R5cGUudmlldz1udWxsO214R3JhcGgucHJvdG90eXBlLnN0eWxlc2hlZXQ9bnVsbDtteEdyYXBoLnByb3RvdHlwZS5zZWxlY3Rpb25Nb2RlbD1udWxsO214R3JhcGgucHJvdG90eXBlLmNlbGxFZGl0b3I9bnVsbDtteEdyYXBoLnByb3RvdHlwZS5jZWxsUmVuZGVyZXI9bnVsbDtteEdyYXBoLnByb3RvdHlwZS5tdWx0aXBsaWNpdGllcz1udWxsO214R3JhcGgucHJvdG90eXBlLnJlbmRlckhpbnQ9bnVsbDtteEdyYXBoLnByb3RvdHlwZS5kaWFsZWN0PW51bGw7bXhHcmFwaC5wcm90b3R5cGUuZ3JpZFNpemU9MTA7bXhHcmFwaC5wcm90b3R5cGUuZ3JpZEVuYWJsZWQ9ITA7Cm14R3JhcGgucHJvdG90eXBlLnBvcnRzRW5hYmxlZD0hMDtteEdyYXBoLnByb3RvdHlwZS5uYXRpdmVEYmxDbGlja0VuYWJsZWQ9ITA7bXhHcmFwaC5wcm90b3R5cGUuZG91YmxlVGFwRW5hYmxlZD0hMDtteEdyYXBoLnByb3RvdHlwZS5kb3VibGVUYXBUaW1lb3V0PTUwMDtteEdyYXBoLnByb3RvdHlwZS5kb3VibGVUYXBUb2xlcmFuY2U9MjU7bXhHcmFwaC5wcm90b3R5cGUubGFzdFRvdWNoWT0wO214R3JhcGgucHJvdG90eXBlLmxhc3RUb3VjaFk9MDtteEdyYXBoLnByb3RvdHlwZS5sYXN0VG91Y2hUaW1lPTA7bXhHcmFwaC5wcm90b3R5cGUudGFwQW5kSG9sZEVuYWJsZWQ9ITA7bXhHcmFwaC5wcm90b3R5cGUudGFwQW5kSG9sZERlbGF5PTUwMDtteEdyYXBoLnByb3RvdHlwZS50YXBBbmRIb2xkSW5Qcm9ncmVzcz0hMTtteEdyYXBoLnByb3RvdHlwZS50YXBBbmRIb2xkVmFsaWQ9ITE7bXhHcmFwaC5wcm90b3R5cGUuaW5pdGlhbFRvdWNoWD0wOwpteEdyYXBoLnByb3RvdHlwZS5pbml0aWFsVG91Y2hZPTA7bXhHcmFwaC5wcm90b3R5cGUudG9sZXJhbmNlPTQ7bXhHcmFwaC5wcm90b3R5cGUuZGVmYXVsdE92ZXJsYXA9LjU7bXhHcmFwaC5wcm90b3R5cGUuZGVmYXVsdFBhcmVudD1udWxsO214R3JhcGgucHJvdG90eXBlLmFsdGVybmF0ZUVkZ2VTdHlsZT1udWxsO214R3JhcGgucHJvdG90eXBlLmJhY2tncm91bmRJbWFnZT1udWxsO214R3JhcGgucHJvdG90eXBlLnBhZ2VWaXNpYmxlPSExO214R3JhcGgucHJvdG90eXBlLnBhZ2VCcmVha3NWaXNpYmxlPSExO214R3JhcGgucHJvdG90eXBlLnBhZ2VCcmVha0NvbG9yPSJncmF5IjtteEdyYXBoLnByb3RvdHlwZS5wYWdlQnJlYWtEYXNoZWQ9ITA7bXhHcmFwaC5wcm90b3R5cGUubWluUGFnZUJyZWFrRGlzdD0yMDtteEdyYXBoLnByb3RvdHlwZS5wcmVmZXJQYWdlU2l6ZT0hMTtteEdyYXBoLnByb3RvdHlwZS5wYWdlRm9ybWF0PW14Q29uc3RhbnRzLlBBR0VfRk9STUFUX0E0X1BPUlRSQUlUOwpteEdyYXBoLnByb3RvdHlwZS5wYWdlU2NhbGU9MS41O214R3JhcGgucHJvdG90eXBlLmVuYWJsZWQ9ITA7bXhHcmFwaC5wcm90b3R5cGUuZXNjYXBlRW5hYmxlZD0hMDtteEdyYXBoLnByb3RvdHlwZS5pbnZva2VzU3RvcENlbGxFZGl0aW5nPSEwO214R3JhcGgucHJvdG90eXBlLmVudGVyU3RvcHNDZWxsRWRpdGluZz0hMTtteEdyYXBoLnByb3RvdHlwZS51c2VTY3JvbGxiYXJzRm9yUGFubmluZz0hMDtteEdyYXBoLnByb3RvdHlwZS5leHBvcnRFbmFibGVkPSEwO214R3JhcGgucHJvdG90eXBlLmltcG9ydEVuYWJsZWQ9ITA7bXhHcmFwaC5wcm90b3R5cGUuY2VsbHNMb2NrZWQ9ITE7bXhHcmFwaC5wcm90b3R5cGUuY2VsbHNDbG9uZWFibGU9ITA7bXhHcmFwaC5wcm90b3R5cGUuZm9sZGluZ0VuYWJsZWQ9ITA7bXhHcmFwaC5wcm90b3R5cGUuY2VsbHNFZGl0YWJsZT0hMDtteEdyYXBoLnByb3RvdHlwZS5jZWxsc0RlbGV0YWJsZT0hMDsKbXhHcmFwaC5wcm90b3R5cGUuY2VsbHNNb3ZhYmxlPSEwO214R3JhcGgucHJvdG90eXBlLmVkZ2VMYWJlbHNNb3ZhYmxlPSEwO214R3JhcGgucHJvdG90eXBlLnZlcnRleExhYmVsc01vdmFibGU9ITE7bXhHcmFwaC5wcm90b3R5cGUuZHJvcEVuYWJsZWQ9ITE7bXhHcmFwaC5wcm90b3R5cGUuc3BsaXRFbmFibGVkPSEwO214R3JhcGgucHJvdG90eXBlLmNlbGxzUmVzaXphYmxlPSEwO214R3JhcGgucHJvdG90eXBlLmNlbGxzQmVuZGFibGU9ITA7bXhHcmFwaC5wcm90b3R5cGUuY2VsbHNTZWxlY3RhYmxlPSEwO214R3JhcGgucHJvdG90eXBlLmNlbGxzRGlzY29ubmVjdGFibGU9ITA7bXhHcmFwaC5wcm90b3R5cGUuYXV0b1NpemVDZWxscz0hMTtteEdyYXBoLnByb3RvdHlwZS5hdXRvU2l6ZUNlbGxzT25BZGQ9ITE7bXhHcmFwaC5wcm90b3R5cGUuYXV0b1Njcm9sbD0hMDtteEdyYXBoLnByb3RvdHlwZS5pZ25vcmVTY3JvbGxiYXJzPSExOwpteEdyYXBoLnByb3RvdHlwZS50cmFuc2xhdGVUb1Njcm9sbFBvc2l0aW9uPSExO214R3JhcGgucHJvdG90eXBlLnRpbWVyQXV0b1Njcm9sbD0hMTtteEdyYXBoLnByb3RvdHlwZS5hbGxvd0F1dG9QYW5uaW5nPSExO214R3JhcGgucHJvdG90eXBlLmF1dG9FeHRlbmQ9ITA7bXhHcmFwaC5wcm90b3R5cGUubWF4aW11bUdyYXBoQm91bmRzPW51bGw7bXhHcmFwaC5wcm90b3R5cGUubWluaW11bUdyYXBoU2l6ZT1udWxsO214R3JhcGgucHJvdG90eXBlLm1pbmltdW1Db250YWluZXJTaXplPW51bGw7bXhHcmFwaC5wcm90b3R5cGUubWF4aW11bUNvbnRhaW5lclNpemU9bnVsbDtteEdyYXBoLnByb3RvdHlwZS5yZXNpemVDb250YWluZXI9ITE7bXhHcmFwaC5wcm90b3R5cGUuYm9yZGVyPTA7bXhHcmFwaC5wcm90b3R5cGUua2VlcEVkZ2VzSW5Gb3JlZ3JvdW5kPSExO214R3JhcGgucHJvdG90eXBlLmtlZXBFZGdlc0luQmFja2dyb3VuZD0hMTsKbXhHcmFwaC5wcm90b3R5cGUuYWxsb3dOZWdhdGl2ZUNvb3JkaW5hdGVzPSEwO214R3JhcGgucHJvdG90eXBlLmNvbnN0cmFpbkNoaWxkcmVuPSEwO214R3JhcGgucHJvdG90eXBlLmNvbnN0cmFpblJlbGF0aXZlQ2hpbGRyZW49ITE7bXhHcmFwaC5wcm90b3R5cGUuZXh0ZW5kUGFyZW50cz0hMDtteEdyYXBoLnByb3RvdHlwZS5leHRlbmRQYXJlbnRzT25BZGQ9ITA7bXhHcmFwaC5wcm90b3R5cGUuZXh0ZW5kUGFyZW50c09uTW92ZT0hMTtteEdyYXBoLnByb3RvdHlwZS5yZWN1cnNpdmVSZXNpemU9ITE7bXhHcmFwaC5wcm90b3R5cGUuY29sbGFwc2VUb1ByZWZlcnJlZFNpemU9ITA7bXhHcmFwaC5wcm90b3R5cGUuem9vbUZhY3Rvcj0xLjI7bXhHcmFwaC5wcm90b3R5cGUua2VlcFNlbGVjdGlvblZpc2libGVPblpvb209ITE7bXhHcmFwaC5wcm90b3R5cGUuY2VudGVyWm9vbT0hMDtteEdyYXBoLnByb3RvdHlwZS5yZXNldFZpZXdPblJvb3RDaGFuZ2U9ITA7Cm14R3JhcGgucHJvdG90eXBlLnJlc2V0RWRnZXNPblJlc2l6ZT0hMTtteEdyYXBoLnByb3RvdHlwZS5yZXNldEVkZ2VzT25Nb3ZlPSExO214R3JhcGgucHJvdG90eXBlLnJlc2V0RWRnZXNPbkNvbm5lY3Q9ITA7bXhHcmFwaC5wcm90b3R5cGUuYWxsb3dMb29wcz0hMTtteEdyYXBoLnByb3RvdHlwZS5kZWZhdWx0TG9vcFN0eWxlPW14RWRnZVN0eWxlLkxvb3A7bXhHcmFwaC5wcm90b3R5cGUubXVsdGlncmFwaD0hMDtteEdyYXBoLnByb3RvdHlwZS5jb25uZWN0YWJsZUVkZ2VzPSExO214R3JhcGgucHJvdG90eXBlLmFsbG93RGFuZ2xpbmdFZGdlcz0hMDtteEdyYXBoLnByb3RvdHlwZS5jbG9uZUludmFsaWRFZGdlcz0hMTtteEdyYXBoLnByb3RvdHlwZS5kaXNjb25uZWN0T25Nb3ZlPSEwO214R3JhcGgucHJvdG90eXBlLmxhYmVsc1Zpc2libGU9ITA7bXhHcmFwaC5wcm90b3R5cGUuaHRtbExhYmVscz0hMTtteEdyYXBoLnByb3RvdHlwZS5zd2ltbGFuZVNlbGVjdGlvbkVuYWJsZWQ9ITA7Cm14R3JhcGgucHJvdG90eXBlLnN3aW1sYW5lTmVzdGluZz0hMDtteEdyYXBoLnByb3RvdHlwZS5zd2ltbGFuZUluZGljYXRvckNvbG9yQXR0cmlidXRlPW14Q29uc3RhbnRzLlNUWUxFX0ZJTExDT0xPUjtteEdyYXBoLnByb3RvdHlwZS5pbWFnZUJ1bmRsZXM9bnVsbDtteEdyYXBoLnByb3RvdHlwZS5taW5GaXRTY2FsZT0uMTtteEdyYXBoLnByb3RvdHlwZS5tYXhGaXRTY2FsZT04O214R3JhcGgucHJvdG90eXBlLnBhbkR4PTA7bXhHcmFwaC5wcm90b3R5cGUucGFuRHk9MDtteEdyYXBoLnByb3RvdHlwZS5jb2xsYXBzZWRJbWFnZT1uZXcgbXhJbWFnZShteENsaWVudC5pbWFnZUJhc2VQYXRoKyIvY29sbGFwc2VkLmdpZiIsOSw5KTtteEdyYXBoLnByb3RvdHlwZS5leHBhbmRlZEltYWdlPW5ldyBteEltYWdlKG14Q2xpZW50LmltYWdlQmFzZVBhdGgrIi9leHBhbmRlZC5naWYiLDksOSk7Cm14R3JhcGgucHJvdG90eXBlLndhcm5pbmdJbWFnZT1uZXcgbXhJbWFnZShteENsaWVudC5pbWFnZUJhc2VQYXRoKyIvd2FybmluZyIrKG14Q2xpZW50LklTX01BQz8iLnBuZyI6Ii5naWYiKSwxNiwxNik7bXhHcmFwaC5wcm90b3R5cGUuYWxyZWFkeUNvbm5lY3RlZFJlc291cmNlPSJub25lIiE9bXhDbGllbnQubGFuZ3VhZ2U/ImFscmVhZHlDb25uZWN0ZWQiOiIiO214R3JhcGgucHJvdG90eXBlLmNvbnRhaW5zVmFsaWRhdGlvbkVycm9yc1Jlc291cmNlPSJub25lIiE9bXhDbGllbnQubGFuZ3VhZ2U/ImNvbnRhaW5zVmFsaWRhdGlvbkVycm9ycyI6IiI7bXhHcmFwaC5wcm90b3R5cGUuY29sbGFwc2VFeHBhbmRSZXNvdXJjZT0ibm9uZSIhPW14Q2xpZW50Lmxhbmd1YWdlPyJjb2xsYXBzZS1leHBhbmQiOiIiOwpteEdyYXBoLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKGEpe3RoaXMuY29udGFpbmVyPWE7dGhpcy5jZWxsRWRpdG9yPXRoaXMuY3JlYXRlQ2VsbEVkaXRvcigpO3RoaXMudmlldy5pbml0KCk7dGhpcy5zaXplRGlkQ2hhbmdlKCk7bXhFdmVudC5hZGRMaXN0ZW5lcihhLCJtb3VzZWxlYXZlIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe251bGwhPXRoaXMudG9vbHRpcEhhbmRsZXImJnRoaXMudG9vbHRpcEhhbmRsZXIuaGlkZSgpfSkpO214Q2xpZW50LklTX0lFJiYobXhFdmVudC5hZGRMaXN0ZW5lcih3aW5kb3csInVubG9hZCIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt0aGlzLmRlc3Ryb3koKX0pKSxteEV2ZW50LmFkZExpc3RlbmVyKGEsInNlbGVjdHN0YXJ0IixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5pc0VkaXRpbmcoKXx8IXRoaXMuaXNNb3VzZURvd24mJiFteEV2ZW50LmlzU2hpZnREb3duKGEpfSkpKTs4PT1kb2N1bWVudC5kb2N1bWVudE1vZGUmJgphLmluc2VydEFkamFjZW50SFRNTCgiYmVmb3JlZW5kIiwiPCIrbXhDbGllbnQuVk1MX1BSRUZJWCsnOmdyb3VwIHN0eWxlPSJESVNQTEFZOiBub25lOyI+PC8nK214Q2xpZW50LlZNTF9QUkVGSVgrIjpncm91cD4iKX07Cm14R3JhcGgucHJvdG90eXBlLmNyZWF0ZUhhbmRsZXJzPWZ1bmN0aW9uKCl7dGhpcy50b29sdGlwSGFuZGxlcj10aGlzLmNyZWF0ZVRvb2x0aXBIYW5kbGVyKCk7dGhpcy50b29sdGlwSGFuZGxlci5zZXRFbmFibGVkKCExKTt0aGlzLnNlbGVjdGlvbkNlbGxzSGFuZGxlcj10aGlzLmNyZWF0ZVNlbGVjdGlvbkNlbGxzSGFuZGxlcigpO3RoaXMuY29ubmVjdGlvbkhhbmRsZXI9dGhpcy5jcmVhdGVDb25uZWN0aW9uSGFuZGxlcigpO3RoaXMuY29ubmVjdGlvbkhhbmRsZXIuc2V0RW5hYmxlZCghMSk7dGhpcy5ncmFwaEhhbmRsZXI9dGhpcy5jcmVhdGVHcmFwaEhhbmRsZXIoKTt0aGlzLnBhbm5pbmdIYW5kbGVyPXRoaXMuY3JlYXRlUGFubmluZ0hhbmRsZXIoKTt0aGlzLnBhbm5pbmdIYW5kbGVyLnBhbm5pbmdFbmFibGVkPSExO3RoaXMucG9wdXBNZW51SGFuZGxlcj10aGlzLmNyZWF0ZVBvcHVwTWVudUhhbmRsZXIoKX07Cm14R3JhcGgucHJvdG90eXBlLmNyZWF0ZVRvb2x0aXBIYW5kbGVyPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBteFRvb2x0aXBIYW5kbGVyKHRoaXMpfTtteEdyYXBoLnByb3RvdHlwZS5jcmVhdGVTZWxlY3Rpb25DZWxsc0hhbmRsZXI9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG14U2VsZWN0aW9uQ2VsbHNIYW5kbGVyKHRoaXMpfTtteEdyYXBoLnByb3RvdHlwZS5jcmVhdGVDb25uZWN0aW9uSGFuZGxlcj1mdW5jdGlvbigpe3JldHVybiBuZXcgbXhDb25uZWN0aW9uSGFuZGxlcih0aGlzKX07bXhHcmFwaC5wcm90b3R5cGUuY3JlYXRlR3JhcGhIYW5kbGVyPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBteEdyYXBoSGFuZGxlcih0aGlzKX07bXhHcmFwaC5wcm90b3R5cGUuY3JlYXRlUGFubmluZ0hhbmRsZXI9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG14UGFubmluZ0hhbmRsZXIodGhpcyl9O214R3JhcGgucHJvdG90eXBlLmNyZWF0ZVBvcHVwTWVudUhhbmRsZXI9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG14UG9wdXBNZW51SGFuZGxlcih0aGlzKX07Cm14R3JhcGgucHJvdG90eXBlLmNyZWF0ZVNlbGVjdGlvbk1vZGVsPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBteEdyYXBoU2VsZWN0aW9uTW9kZWwodGhpcyl9O214R3JhcGgucHJvdG90eXBlLmNyZWF0ZVN0eWxlc2hlZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG14U3R5bGVzaGVldH07bXhHcmFwaC5wcm90b3R5cGUuY3JlYXRlR3JhcGhWaWV3PWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBteEdyYXBoVmlldyh0aGlzKX07bXhHcmFwaC5wcm90b3R5cGUuY3JlYXRlQ2VsbFJlbmRlcmVyPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBteENlbGxSZW5kZXJlcn07bXhHcmFwaC5wcm90b3R5cGUuY3JlYXRlQ2VsbEVkaXRvcj1mdW5jdGlvbigpe3JldHVybiBuZXcgbXhDZWxsRWRpdG9yKHRoaXMpfTtteEdyYXBoLnByb3RvdHlwZS5nZXRNb2RlbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLm1vZGVsfTtteEdyYXBoLnByb3RvdHlwZS5nZXRWaWV3PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmlld307Cm14R3JhcGgucHJvdG90eXBlLmdldFN0eWxlc2hlZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdHlsZXNoZWV0fTtteEdyYXBoLnByb3RvdHlwZS5zZXRTdHlsZXNoZWV0PWZ1bmN0aW9uKGEpe3RoaXMuc3R5bGVzaGVldD1hfTtteEdyYXBoLnByb3RvdHlwZS5nZXRTZWxlY3Rpb25Nb2RlbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNlbGVjdGlvbk1vZGVsfTtteEdyYXBoLnByb3RvdHlwZS5zZXRTZWxlY3Rpb25Nb2RlbD1mdW5jdGlvbihhKXt0aGlzLnNlbGVjdGlvbk1vZGVsPWF9OwpteEdyYXBoLnByb3RvdHlwZS5nZXRTZWxlY3Rpb25DZWxsc0ZvckNoYW5nZXM9ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9bmV3IG14RGljdGlvbmFyeSxkPVtdLGU9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7aWYoIWMuZ2V0KGEpJiZ0aGlzLm1vZGVsLmNvbnRhaW5zKGEpKWlmKHRoaXMubW9kZWwuaXNFZGdlKGEpfHx0aGlzLm1vZGVsLmlzVmVydGV4KGEpKWMucHV0KGEsITApLGQucHVzaChhKTtlbHNlIGZvcih2YXIgYj10aGlzLm1vZGVsLmdldENoaWxkQ291bnQoYSksZj0wO2Y8YjtmKyspZSh0aGlzLm1vZGVsLmdldENoaWxkQXQoYSxmKSl9KSxmPTA7ZjxhLmxlbmd0aDtmKyspe3ZhciBnPWFbZl07aWYoZy5jb25zdHJ1Y3RvciE9bXhSb290Q2hhbmdlJiYobnVsbD09Ynx8IWIoZykpKXt2YXIgaz1udWxsO2cgaW5zdGFuY2VvZiBteENoaWxkQ2hhbmdlP2s9Zy5jaGlsZDpudWxsIT1nLmNlbGwmJmcuY2VsbCBpbnN0YW5jZW9mIG14Q2VsbCYmKGs9Zy5jZWxsKTtudWxsIT0KayYmZShrKX19cmV0dXJuIGR9O214R3JhcGgucHJvdG90eXBlLmdyYXBoTW9kZWxDaGFuZ2VkPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7YisrKXRoaXMucHJvY2Vzc0NoYW5nZShhW2JdKTt0aGlzLnVwZGF0ZVNlbGVjdGlvbigpO3RoaXMudmlldy52YWxpZGF0ZSgpO3RoaXMuc2l6ZURpZENoYW5nZSgpfTsKbXhHcmFwaC5wcm90b3R5cGUudXBkYXRlU2VsZWN0aW9uPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPXRoaXMuZ2V0U2VsZWN0aW9uQ2VsbHMoKSxiPVtdLGM9MDtjPGEubGVuZ3RoO2MrKylpZih0aGlzLm1vZGVsLmNvbnRhaW5zKGFbY10pJiZ0aGlzLmlzQ2VsbFZpc2libGUoYVtjXSkpZm9yKHZhciBkPXRoaXMubW9kZWwuZ2V0UGFyZW50KGFbY10pO251bGwhPWQmJmQhPXRoaXMudmlldy5jdXJyZW50Um9vdDspe2lmKHRoaXMuaXNDZWxsQ29sbGFwc2VkKGQpfHwhdGhpcy5pc0NlbGxWaXNpYmxlKGQpKXtiLnB1c2goYVtjXSk7YnJlYWt9ZD10aGlzLm1vZGVsLmdldFBhcmVudChkKX1lbHNlIGIucHVzaChhW2NdKTt0aGlzLnJlbW92ZVNlbGVjdGlvbkNlbGxzKGIpfTsKbXhHcmFwaC5wcm90b3R5cGUucHJvY2Vzc0NoYW5nZT1mdW5jdGlvbihhKXtpZihhIGluc3RhbmNlb2YgbXhSb290Q2hhbmdlKXRoaXMuY2xlYXJTZWxlY3Rpb24oKSx0aGlzLnNldERlZmF1bHRQYXJlbnQobnVsbCksdGhpcy5yZW1vdmVTdGF0ZUZvckNlbGwoYS5wcmV2aW91cyksdGhpcy5yZXNldFZpZXdPblJvb3RDaGFuZ2UmJih0aGlzLnZpZXcuc2NhbGU9MSx0aGlzLnZpZXcudHJhbnNsYXRlLng9MCx0aGlzLnZpZXcudHJhbnNsYXRlLnk9MCksdGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5ST09UKSk7ZWxzZSBpZihhIGluc3RhbmNlb2YgbXhDaGlsZENoYW5nZSl7dmFyIGI9dGhpcy5tb2RlbC5nZXRQYXJlbnQoYS5jaGlsZCk7dGhpcy52aWV3LmludmFsaWRhdGUoYS5jaGlsZCwhMCwhMCk7aWYoIXRoaXMubW9kZWwuY29udGFpbnMoYil8fHRoaXMuaXNDZWxsQ29sbGFwc2VkKGIpKXRoaXMudmlldy5pbnZhbGlkYXRlKGEuY2hpbGQsITAsITApLHRoaXMucmVtb3ZlU3RhdGVGb3JDZWxsKGEuY2hpbGQpLAp0aGlzLnZpZXcuY3VycmVudFJvb3Q9PWEuY2hpbGQmJnRoaXMuaG9tZSgpO2IhPWEucHJldmlvdXMmJihudWxsIT1iJiZ0aGlzLnZpZXcuaW52YWxpZGF0ZShiLCExLCExKSxudWxsIT1hLnByZXZpb3VzJiZ0aGlzLnZpZXcuaW52YWxpZGF0ZShhLnByZXZpb3VzLCExLCExKSl9ZWxzZSBhIGluc3RhbmNlb2YgbXhUZXJtaW5hbENoYW5nZXx8YSBpbnN0YW5jZW9mIG14R2VvbWV0cnlDaGFuZ2U/KGEgaW5zdGFuY2VvZiBteFRlcm1pbmFsQ2hhbmdlfHxudWxsPT1hLnByZXZpb3VzJiZudWxsIT1hLmdlb21ldHJ5fHxudWxsIT1hLnByZXZpb3VzJiYhYS5wcmV2aW91cy5lcXVhbHMoYS5nZW9tZXRyeSkpJiZ0aGlzLnZpZXcuaW52YWxpZGF0ZShhLmNlbGwpOmEgaW5zdGFuY2VvZiBteFZhbHVlQ2hhbmdlP3RoaXMudmlldy5pbnZhbGlkYXRlKGEuY2VsbCwhMSwhMSk6YSBpbnN0YW5jZW9mIG14U3R5bGVDaGFuZ2U/KHRoaXMudmlldy5pbnZhbGlkYXRlKGEuY2VsbCwhMCwhMCksYT10aGlzLnZpZXcuZ2V0U3RhdGUoYS5jZWxsKSwKbnVsbCE9YSYmKGEuaW52YWxpZFN0eWxlPSEwKSk6bnVsbCE9YS5jZWxsJiZhLmNlbGwgaW5zdGFuY2VvZiBteENlbGwmJnRoaXMucmVtb3ZlU3RhdGVGb3JDZWxsKGEuY2VsbCl9O214R3JhcGgucHJvdG90eXBlLnJlbW92ZVN0YXRlRm9yQ2VsbD1mdW5jdGlvbihhKXtmb3IodmFyIGI9dGhpcy5tb2RlbC5nZXRDaGlsZENvdW50KGEpLGM9MDtjPGI7YysrKXRoaXMucmVtb3ZlU3RhdGVGb3JDZWxsKHRoaXMubW9kZWwuZ2V0Q2hpbGRBdChhLGMpKTt0aGlzLnZpZXcuaW52YWxpZGF0ZShhLCExLCEwKTt0aGlzLnZpZXcucmVtb3ZlU3RhdGUoYSl9OwpteEdyYXBoLnByb3RvdHlwZS5hZGRDZWxsT3ZlcmxheT1mdW5jdGlvbihhLGIpe251bGw9PWEub3ZlcmxheXMmJihhLm92ZXJsYXlzPVtdKTthLm92ZXJsYXlzLnB1c2goYik7dmFyIGM9dGhpcy52aWV3LmdldFN0YXRlKGEpO251bGwhPWMmJnRoaXMuY2VsbFJlbmRlcmVyLnJlZHJhdyhjKTt0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LkFERF9PVkVSTEFZLCJjZWxsIixhLCJvdmVybGF5IixiKSk7cmV0dXJuIGJ9O214R3JhcGgucHJvdG90eXBlLmdldENlbGxPdmVybGF5cz1mdW5jdGlvbihhKXtyZXR1cm4gYS5vdmVybGF5c307Cm14R3JhcGgucHJvdG90eXBlLnJlbW92ZUNlbGxPdmVybGF5PWZ1bmN0aW9uKGEsYil7aWYobnVsbD09Yil0aGlzLnJlbW92ZUNlbGxPdmVybGF5cyhhKTtlbHNle3ZhciBjPW14VXRpbHMuaW5kZXhPZihhLm92ZXJsYXlzLGIpOzA8PWM/KGEub3ZlcmxheXMuc3BsaWNlKGMsMSksMD09YS5vdmVybGF5cy5sZW5ndGgmJihhLm92ZXJsYXlzPW51bGwpLGM9dGhpcy52aWV3LmdldFN0YXRlKGEpLG51bGwhPWMmJnRoaXMuY2VsbFJlbmRlcmVyLnJlZHJhdyhjKSx0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LlJFTU9WRV9PVkVSTEFZLCJjZWxsIixhLCJvdmVybGF5IixiKSkpOmI9bnVsbH1yZXR1cm4gYn07Cm14R3JhcGgucHJvdG90eXBlLnJlbW92ZUNlbGxPdmVybGF5cz1mdW5jdGlvbihhKXt2YXIgYj1hLm92ZXJsYXlzO2lmKG51bGwhPWIpe2Eub3ZlcmxheXM9bnVsbDt2YXIgYz10aGlzLnZpZXcuZ2V0U3RhdGUoYSk7bnVsbCE9YyYmdGhpcy5jZWxsUmVuZGVyZXIucmVkcmF3KGMpO2ZvcihjPTA7YzxiLmxlbmd0aDtjKyspdGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5SRU1PVkVfT1ZFUkxBWSwiY2VsbCIsYSwib3ZlcmxheSIsYltjXSkpfXJldHVybiBifTtteEdyYXBoLnByb3RvdHlwZS5jbGVhckNlbGxPdmVybGF5cz1mdW5jdGlvbihhKXthPW51bGwhPWE/YTp0aGlzLm1vZGVsLmdldFJvb3QoKTt0aGlzLnJlbW92ZUNlbGxPdmVybGF5cyhhKTtmb3IodmFyIGI9dGhpcy5tb2RlbC5nZXRDaGlsZENvdW50KGEpLGM9MDtjPGI7YysrKXt2YXIgZD10aGlzLm1vZGVsLmdldENoaWxkQXQoYSxjKTt0aGlzLmNsZWFyQ2VsbE92ZXJsYXlzKGQpfX07Cm14R3JhcGgucHJvdG90eXBlLnNldENlbGxXYXJuaW5nPWZ1bmN0aW9uKGEsYixjLGQpe2lmKG51bGwhPWImJjA8Yi5sZW5ndGgpcmV0dXJuIGM9bnVsbCE9Yz9jOnRoaXMud2FybmluZ0ltYWdlLGI9bmV3IG14Q2VsbE92ZXJsYXkoYywiPGZvbnQgY29sb3I9cmVkPiIrYisiPC9mb250PiIpLGQmJmIuYWRkTGlzdGVuZXIobXhFdmVudC5DTElDSyxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihiLGMpe3RoaXMuaXNFbmFibGVkKCkmJnRoaXMuc2V0U2VsZWN0aW9uQ2VsbChhKX0pKSx0aGlzLmFkZENlbGxPdmVybGF5KGEsYik7dGhpcy5yZW1vdmVDZWxsT3ZlcmxheXMoYSk7cmV0dXJuIG51bGx9O214R3JhcGgucHJvdG90eXBlLnN0YXJ0RWRpdGluZz1mdW5jdGlvbihhKXt0aGlzLnN0YXJ0RWRpdGluZ0F0Q2VsbChudWxsLGEpfTsKbXhHcmFwaC5wcm90b3R5cGUuc3RhcnRFZGl0aW5nQXRDZWxsPWZ1bmN0aW9uKGEsYil7bnVsbCE9YiYmbXhFdmVudC5pc011bHRpVG91Y2hFdmVudChiKXx8KG51bGw9PWEmJihhPXRoaXMuZ2V0U2VsZWN0aW9uQ2VsbCgpLG51bGw9PWF8fHRoaXMuaXNDZWxsRWRpdGFibGUoYSl8fChhPW51bGwpKSxudWxsIT1hJiYodGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5TVEFSVF9FRElUSU5HLCJjZWxsIixhLCJldmVudCIsYikpLHRoaXMuY2VsbEVkaXRvci5zdGFydEVkaXRpbmcoYSxiKSx0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LkVESVRJTkdfU1RBUlRFRCwiY2VsbCIsYSwiZXZlbnQiLGIpKSkpfTtteEdyYXBoLnByb3RvdHlwZS5nZXRFZGl0aW5nVmFsdWU9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5jb252ZXJ0VmFsdWVUb1N0cmluZyhhKX07Cm14R3JhcGgucHJvdG90eXBlLnN0b3BFZGl0aW5nPWZ1bmN0aW9uKGEpe3RoaXMuY2VsbEVkaXRvci5zdG9wRWRpdGluZyhhKTt0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LkVESVRJTkdfU1RPUFBFRCwiY2FuY2VsIixhKSl9O214R3JhcGgucHJvdG90eXBlLmxhYmVsQ2hhbmdlZD1mdW5jdGlvbihhLGIsYyl7dGhpcy5tb2RlbC5iZWdpblVwZGF0ZSgpO3RyeXt2YXIgZD1hLnZhbHVlO3RoaXMuY2VsbExhYmVsQ2hhbmdlZChhLGIsdGhpcy5pc0F1dG9TaXplQ2VsbChhKSk7dGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5MQUJFTF9DSEFOR0VELCJjZWxsIixhLCJ2YWx1ZSIsYiwib2xkIixkLCJldmVudCIsYykpfWZpbmFsbHl7dGhpcy5tb2RlbC5lbmRVcGRhdGUoKX1yZXR1cm4gYX07Cm14R3JhcGgucHJvdG90eXBlLmNlbGxMYWJlbENoYW5nZWQ9ZnVuY3Rpb24oYSxiLGMpe3RoaXMubW9kZWwuYmVnaW5VcGRhdGUoKTt0cnl7dGhpcy5tb2RlbC5zZXRWYWx1ZShhLGIpLGMmJnRoaXMuY2VsbFNpemVVcGRhdGVkKGEsITEpfWZpbmFsbHl7dGhpcy5tb2RlbC5lbmRVcGRhdGUoKX19O214R3JhcGgucHJvdG90eXBlLmVzY2FwZT1mdW5jdGlvbihhKXt0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LkVTQ0FQRSwiZXZlbnQiLGEpKX07Cm14R3JhcGgucHJvdG90eXBlLmNsaWNrPWZ1bmN0aW9uKGEpe3ZhciBiPWEuZ2V0RXZlbnQoKSxjPWEuZ2V0Q2VsbCgpLGQ9bmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5DTElDSywiZXZlbnQiLGIsImNlbGwiLGMpO2EuaXNDb25zdW1lZCgpJiZkLmNvbnN1bWUoKTt0aGlzLmZpcmVFdmVudChkKTtpZih0aGlzLmlzRW5hYmxlZCgpJiYhbXhFdmVudC5pc0NvbnN1bWVkKGIpJiYhZC5pc0NvbnN1bWVkKCkpe2lmKG51bGwhPWMpe2lmKHRoaXMuaXNUcmFuc3BhcmVudENsaWNrRXZlbnQoYikpe3ZhciBlPSExO2E9dGhpcy5nZXRDZWxsQXQoYS5ncmFwaFgsYS5ncmFwaFksbnVsbCxudWxsLG51bGwsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5pc0NlbGxTZWxlY3RlZChhLmNlbGwpO2U9ZXx8YjtyZXR1cm4hZXx8Ynx8YS5jZWxsIT1jJiZ0aGlzLm1vZGVsLmlzQW5jZXN0b3IoYS5jZWxsLGMpfSkpO251bGwhPWEmJihjPWEpfX1lbHNlIGlmKHRoaXMuaXNTd2ltbGFuZVNlbGVjdGlvbkVuYWJsZWQoKSYmCihjPXRoaXMuZ2V0U3dpbWxhbmVBdChhLmdldEdyYXBoWCgpLGEuZ2V0R3JhcGhZKCkpLCF0aGlzLmlzVG9nZ2xlRXZlbnQoYikmJm51bGwhPWMpKXtkPWM7Zm9yKGE9W107bnVsbCE9ZDspe3ZhciBkPXRoaXMubW9kZWwuZ2V0UGFyZW50KGQpLGY9dGhpcy52aWV3LmdldFN0YXRlKGQpO3RoaXMuaXNTd2ltbGFuZShkKSYmbnVsbCE9ZiYmYS5wdXNoKGQpfWlmKDA8YS5sZW5ndGgpZm9yKGE9YS5yZXZlcnNlKCksYS5zcGxpY2UoMCwwLGMpLGEucHVzaChjKSxkPTA7ZDxhLmxlbmd0aC0yO2QrKyl0aGlzLmlzQ2VsbFNlbGVjdGVkKGFbZF0pJiYoYz1hW2QrMV0pfW51bGwhPWM/dGhpcy5zZWxlY3RDZWxsRm9yRXZlbnQoYyxiKTp0aGlzLmlzVG9nZ2xlRXZlbnQoYil8fHRoaXMuY2xlYXJTZWxlY3Rpb24oKX19OwpteEdyYXBoLnByb3RvdHlwZS5pc1NpYmxpbmdTZWxlY3RlZD1mdW5jdGlvbihhKXtmb3IodmFyIGI9dGhpcy5tb2RlbCxjPWIuZ2V0UGFyZW50KGEpLGQ9Yi5nZXRDaGlsZENvdW50KGMpLGU9MDtlPGQ7ZSsrKXt2YXIgZj1iLmdldENoaWxkQXQoYyxlKTtpZihhIT1mJiZ0aGlzLmlzQ2VsbFNlbGVjdGVkKGYpKXJldHVybiEwfXJldHVybiExfTtteEdyYXBoLnByb3RvdHlwZS5kYmxDbGljaz1mdW5jdGlvbihhLGIpe3ZhciBjPW5ldyBteEV2ZW50T2JqZWN0KG14RXZlbnQuRE9VQkxFX0NMSUNLLCJldmVudCIsYSwiY2VsbCIsYik7dGhpcy5maXJlRXZlbnQoYyk7IXRoaXMuaXNFbmFibGVkKCl8fG14RXZlbnQuaXNDb25zdW1lZChhKXx8Yy5pc0NvbnN1bWVkKCl8fG51bGw9PWJ8fCF0aGlzLmlzQ2VsbEVkaXRhYmxlKGIpfHx0aGlzLmlzRWRpdGluZyhiKXx8KHRoaXMuc3RhcnRFZGl0aW5nQXRDZWxsKGIsYSksbXhFdmVudC5jb25zdW1lKGEpKX07Cm14R3JhcGgucHJvdG90eXBlLnRhcEFuZEhvbGQ9ZnVuY3Rpb24oYSl7dmFyIGI9YS5nZXRFdmVudCgpLGM9bmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5UQVBfQU5EX0hPTEQsImV2ZW50IixiLCJjZWxsIixhLmdldENlbGwoKSk7dGhpcy5maXJlRXZlbnQoYyk7Yy5pc0NvbnN1bWVkKCkmJih0aGlzLnBhbm5pbmdIYW5kbGVyLnBhbm5pbmdUcmlnZ2VyPSExKTt0aGlzLmlzRW5hYmxlZCgpJiYhbXhFdmVudC5pc0NvbnN1bWVkKGIpJiYhYy5pc0NvbnN1bWVkKCkmJnRoaXMuY29ubmVjdGlvbkhhbmRsZXIuaXNFbmFibGVkKCkmJihiPXRoaXMudmlldy5nZXRTdGF0ZSh0aGlzLmNvbm5lY3Rpb25IYW5kbGVyLm1hcmtlci5nZXRDZWxsKGEpKSxudWxsIT1iJiYodGhpcy5jb25uZWN0aW9uSGFuZGxlci5tYXJrZXIuY3VycmVudENvbG9yPXRoaXMuY29ubmVjdGlvbkhhbmRsZXIubWFya2VyLnZhbGlkQ29sb3IsdGhpcy5jb25uZWN0aW9uSGFuZGxlci5tYXJrZXIubWFya2VkU3RhdGU9YiwKdGhpcy5jb25uZWN0aW9uSGFuZGxlci5tYXJrZXIubWFyaygpLHRoaXMuY29ubmVjdGlvbkhhbmRsZXIuZmlyc3Q9bmV3IG14UG9pbnQoYS5nZXRHcmFwaFgoKSxhLmdldEdyYXBoWSgpKSx0aGlzLmNvbm5lY3Rpb25IYW5kbGVyLmVkZ2VTdGF0ZT10aGlzLmNvbm5lY3Rpb25IYW5kbGVyLmNyZWF0ZUVkZ2VTdGF0ZShhKSx0aGlzLmNvbm5lY3Rpb25IYW5kbGVyLnByZXZpb3VzPWIsdGhpcy5jb25uZWN0aW9uSGFuZGxlci5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5TVEFSVCwic3RhdGUiLHRoaXMuY29ubmVjdGlvbkhhbmRsZXIucHJldmlvdXMpKSkpfTsKbXhHcmFwaC5wcm90b3R5cGUuc2Nyb2xsUG9pbnRUb1Zpc2libGU9ZnVuY3Rpb24oYSxiLGMsZCl7aWYodGhpcy50aW1lckF1dG9TY3JvbGx8fCF0aGlzLmlnbm9yZVNjcm9sbGJhcnMmJiFteFV0aWxzLmhhc1Njcm9sbGJhcnModGhpcy5jb250YWluZXIpKXRoaXMuYWxsb3dBdXRvUGFubmluZyYmIXRoaXMucGFubmluZ0hhbmRsZXIuaXNBY3RpdmUoKSYmKG51bGw9PXRoaXMucGFubmluZ01hbmFnZXImJih0aGlzLnBhbm5pbmdNYW5hZ2VyPXRoaXMuY3JlYXRlUGFubmluZ01hbmFnZXIoKSksdGhpcy5wYW5uaW5nTWFuYWdlci5wYW5UbyhhK3RoaXMucGFuRHgsYit0aGlzLnBhbkR5KSk7ZWxzZXt2YXIgZT10aGlzLmNvbnRhaW5lcjtkPW51bGwhPWQ/ZDoyMDtpZihhPj1lLnNjcm9sbExlZnQmJmI+PWUuc2Nyb2xsVG9wJiZhPD1lLnNjcm9sbExlZnQrZS5jbGllbnRXaWR0aCYmYjw9ZS5zY3JvbGxUb3ArZS5jbGllbnRIZWlnaHQpe3ZhciBmPWUuc2Nyb2xsTGVmdCtlLmNsaWVudFdpZHRoLQphO2lmKGY8ZCl7aWYoYT1lLnNjcm9sbExlZnQsZS5zY3JvbGxMZWZ0Kz1kLWYsYyYmYT09ZS5zY3JvbGxMZWZ0KXtpZih0aGlzLmRpYWxlY3Q9PW14Q29uc3RhbnRzLkRJQUxFQ1RfU1ZHKXthPXRoaXMudmlldy5nZXREcmF3UGFuZSgpLm93bmVyU1ZHRWxlbWVudDt2YXIgZz10aGlzLmNvbnRhaW5lci5zY3JvbGxXaWR0aCtkLWZ9ZWxzZSBnPU1hdGgubWF4KGUuY2xpZW50V2lkdGgsZS5zY3JvbGxXaWR0aCkrZC1mLGE9dGhpcy52aWV3LmdldENhbnZhcygpO2Euc3R5bGUud2lkdGg9ZysicHgiO2Uuc2Nyb2xsTGVmdCs9ZC1mfX1lbHNlIGY9YS1lLnNjcm9sbExlZnQsZjxkJiYoZS5zY3JvbGxMZWZ0LT1kLWYpO2Y9ZS5zY3JvbGxUb3ArZS5jbGllbnRIZWlnaHQtYjtmPGQ/KGE9ZS5zY3JvbGxUb3AsZS5zY3JvbGxUb3ArPWQtZixhPT1lLnNjcm9sbFRvcCYmYyYmKHRoaXMuZGlhbGVjdD09bXhDb25zdGFudHMuRElBTEVDVF9TVkc/KGE9dGhpcy52aWV3LmdldERyYXdQYW5lKCkub3duZXJTVkdFbGVtZW50LApiPXRoaXMuY29udGFpbmVyLnNjcm9sbEhlaWdodCtkLWYpOihiPU1hdGgubWF4KGUuY2xpZW50SGVpZ2h0LGUuc2Nyb2xsSGVpZ2h0KStkLWYsYT10aGlzLnZpZXcuZ2V0Q2FudmFzKCkpLGEuc3R5bGUuaGVpZ2h0PWIrInB4IixlLnNjcm9sbFRvcCs9ZC1mKSk6KGY9Yi1lLnNjcm9sbFRvcCxmPGQmJihlLnNjcm9sbFRvcC09ZC1mKSl9fX07bXhHcmFwaC5wcm90b3R5cGUuY3JlYXRlUGFubmluZ01hbmFnZXI9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG14UGFubmluZ01hbmFnZXIodGhpcyl9OwpteEdyYXBoLnByb3RvdHlwZS5nZXRCb3JkZXJTaXplcz1mdW5jdGlvbigpe3ZhciBhPW14VXRpbHMuZ2V0Q3VycmVudFN0eWxlKHRoaXMuY29udGFpbmVyKTtyZXR1cm4gbmV3IG14UmVjdGFuZ2xlKG14VXRpbHMucGFyc2VDc3NOdW1iZXIoYS5wYWRkaW5nTGVmdCkrKCJub25lIiE9YS5ib3JkZXJMZWZ0U3R5bGU/bXhVdGlscy5wYXJzZUNzc051bWJlcihhLmJvcmRlckxlZnRXaWR0aCk6MCksbXhVdGlscy5wYXJzZUNzc051bWJlcihhLnBhZGRpbmdUb3ApKygibm9uZSIhPWEuYm9yZGVyVG9wU3R5bGU/bXhVdGlscy5wYXJzZUNzc051bWJlcihhLmJvcmRlclRvcFdpZHRoKTowKSxteFV0aWxzLnBhcnNlQ3NzTnVtYmVyKGEucGFkZGluZ1JpZ2h0KSsoIm5vbmUiIT1hLmJvcmRlclJpZ2h0U3R5bGU/bXhVdGlscy5wYXJzZUNzc051bWJlcihhLmJvcmRlclJpZ2h0V2lkdGgpOjApLG14VXRpbHMucGFyc2VDc3NOdW1iZXIoYS5wYWRkaW5nQm90dG9tKSsoIm5vbmUiIT1hLmJvcmRlckJvdHRvbVN0eWxlPwpteFV0aWxzLnBhcnNlQ3NzTnVtYmVyKGEuYm9yZGVyQm90dG9tV2lkdGgpOjApKX07bXhHcmFwaC5wcm90b3R5cGUuZ2V0UHJlZmVycmVkUGFnZVNpemU9ZnVuY3Rpb24oYSxiLGMpe2E9dGhpcy52aWV3LnRyYW5zbGF0ZTt2YXIgZD10aGlzLnBhZ2VGb3JtYXQsZT10aGlzLnBhZ2VTY2FsZSxkPW5ldyBteFJlY3RhbmdsZSgwLDAsTWF0aC5jZWlsKGQud2lkdGgqZSksTWF0aC5jZWlsKGQuaGVpZ2h0KmUpKTtyZXR1cm4gbmV3IG14UmVjdGFuZ2xlKDAsMCwodGhpcy5wYWdlQnJlYWtzVmlzaWJsZT9NYXRoLmNlaWwoYi9kLndpZHRoKToxKSpkLndpZHRoKzIrYS54LCh0aGlzLnBhZ2VCcmVha3NWaXNpYmxlP01hdGguY2VpbChjL2QuaGVpZ2h0KToxKSpkLmhlaWdodCsyK2EueSl9OwpteEdyYXBoLnByb3RvdHlwZS5maXQ9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyl7aWYobnVsbCE9dGhpcy5jb250YWluZXIpe2E9bnVsbCE9YT9hOnRoaXMuZ2V0Qm9yZGVyKCk7Yj1udWxsIT1iP2I6ITE7Yz1udWxsIT1jP2M6MDtkPW51bGwhPWQ/ZDohMDtlPW51bGwhPWU/ZTohMTtmPW51bGwhPWY/ZjohMTt2YXIgaz10aGlzLmdldEJvcmRlclNpemVzKCksbD10aGlzLmNvbnRhaW5lci5vZmZzZXRXaWR0aC1rLngtay53aWR0aC0xLG09bnVsbCE9Zz9nOnRoaXMuY29udGFpbmVyLm9mZnNldEhlaWdodC1rLnktay5oZWlnaHQtMTtnPXRoaXMudmlldy5nZXRHcmFwaEJvdW5kcygpO2lmKDA8Zy53aWR0aCYmMDxnLmhlaWdodCl7YiYmbnVsbCE9Zy54JiZudWxsIT1nLnkmJihnPWcuY2xvbmUoKSxnLndpZHRoKz1nLngsZy5oZWlnaHQrPWcueSxnLng9MCxnLnk9MCk7dmFyIGs9dGhpcy52aWV3LnNjYWxlLG49Zy53aWR0aC9rLHA9Zy5oZWlnaHQvaztudWxsIT10aGlzLmJhY2tncm91bmRJbWFnZSYmCihuPU1hdGgubWF4KG4sdGhpcy5iYWNrZ3JvdW5kSW1hZ2Uud2lkdGgtZy54L2spLHA9TWF0aC5tYXgocCx0aGlzLmJhY2tncm91bmRJbWFnZS5oZWlnaHQtZy55L2spKTt2YXIgcT0oYj9hOjIqYSkrYysxLGw9bC1xLG09bS1xO2U9ZT9tL3A6Zj9sL246TWF0aC5taW4obC9uLG0vcCk7bnVsbCE9dGhpcy5taW5GaXRTY2FsZSYmKGU9TWF0aC5tYXgoZSx0aGlzLm1pbkZpdFNjYWxlKSk7bnVsbCE9dGhpcy5tYXhGaXRTY2FsZSYmKGU9TWF0aC5taW4oZSx0aGlzLm1heEZpdFNjYWxlKSk7aWYoZCliP3RoaXMudmlldy5zY2FsZSE9ZSYmdGhpcy52aWV3LnNldFNjYWxlKGUpOm14VXRpbHMuaGFzU2Nyb2xsYmFycyh0aGlzLmNvbnRhaW5lcik/KHRoaXMudmlldy5zZXRTY2FsZShlKSxhPXRoaXMuZ2V0R3JhcGhCb3VuZHMoKSxudWxsIT1hLngmJih0aGlzLmNvbnRhaW5lci5zY3JvbGxMZWZ0PWEueCksbnVsbCE9YS55JiYodGhpcy5jb250YWluZXIuc2Nyb2xsVG9wPWEueSkpOnRoaXMudmlldy5zY2FsZUFuZFRyYW5zbGF0ZShlLApudWxsIT1nLng/TWF0aC5mbG9vcih0aGlzLnZpZXcudHJhbnNsYXRlLngtZy54L2srYS9lK2MvMik6YSxudWxsIT1nLnk/TWF0aC5mbG9vcih0aGlzLnZpZXcudHJhbnNsYXRlLnktZy55L2srYS9lK2MvMik6YSk7ZWxzZSByZXR1cm4gZX19cmV0dXJuIHRoaXMudmlldy5zY2FsZX07Cm14R3JhcGgucHJvdG90eXBlLnNpemVEaWRDaGFuZ2U9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldEdyYXBoQm91bmRzKCk7aWYobnVsbCE9dGhpcy5jb250YWluZXIpe3ZhciBiPXRoaXMuZ2V0Qm9yZGVyKCksYz1NYXRoLm1heCgwLGEueCkrYS53aWR0aCsyKmIsYj1NYXRoLm1heCgwLGEueSkrYS5oZWlnaHQrMipiO251bGwhPXRoaXMubWluaW11bUNvbnRhaW5lclNpemUmJihjPU1hdGgubWF4KGMsdGhpcy5taW5pbXVtQ29udGFpbmVyU2l6ZS53aWR0aCksYj1NYXRoLm1heChiLHRoaXMubWluaW11bUNvbnRhaW5lclNpemUuaGVpZ2h0KSk7dGhpcy5yZXNpemVDb250YWluZXImJnRoaXMuZG9SZXNpemVDb250YWluZXIoYyxiKTtpZih0aGlzLnByZWZlclBhZ2VTaXplfHwhbXhDbGllbnQuSVNfSUUmJnRoaXMucGFnZVZpc2libGUpe3ZhciBkPXRoaXMuZ2V0UHJlZmVycmVkUGFnZVNpemUoYSxNYXRoLm1heCgxLGMpLE1hdGgubWF4KDEsYikpO251bGwhPWQmJihjPWQud2lkdGgqdGhpcy52aWV3LnNjYWxlLApiPWQuaGVpZ2h0KnRoaXMudmlldy5zY2FsZSl9bnVsbCE9dGhpcy5taW5pbXVtR3JhcGhTaXplJiYoYz1NYXRoLm1heChjLHRoaXMubWluaW11bUdyYXBoU2l6ZS53aWR0aCp0aGlzLnZpZXcuc2NhbGUpLGI9TWF0aC5tYXgoYix0aGlzLm1pbmltdW1HcmFwaFNpemUuaGVpZ2h0KnRoaXMudmlldy5zY2FsZSkpO2M9TWF0aC5jZWlsKGMpO2I9TWF0aC5jZWlsKGIpO3RoaXMuZGlhbGVjdD09bXhDb25zdGFudHMuRElBTEVDVF9TVkc/KGQ9dGhpcy52aWV3LmdldERyYXdQYW5lKCkub3duZXJTVkdFbGVtZW50LG51bGwhPWQmJihkLnN0eWxlLm1pbldpZHRoPU1hdGgubWF4KDEsYykrInB4IixkLnN0eWxlLm1pbkhlaWdodD1NYXRoLm1heCgxLGIpKyJweCIsZC5zdHlsZS53aWR0aD0iMTAwJSIsZC5zdHlsZS5oZWlnaHQ9IjEwMCUiKSk6bXhDbGllbnQuSVNfUVVJUktTP3RoaXMudmlldy51cGRhdGVIdG1sQ2FudmFzU2l6ZShNYXRoLm1heCgxLGMpLE1hdGgubWF4KDEsYikpOih0aGlzLnZpZXcuY2FudmFzLnN0eWxlLm1pbldpZHRoPQpNYXRoLm1heCgxLGMpKyJweCIsdGhpcy52aWV3LmNhbnZhcy5zdHlsZS5taW5IZWlnaHQ9TWF0aC5tYXgoMSxiKSsicHgiKTt0aGlzLnVwZGF0ZVBhZ2VCcmVha3ModGhpcy5wYWdlQnJlYWtzVmlzaWJsZSxjLGIpfXRoaXMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KG14RXZlbnQuU0laRSwiYm91bmRzIixhKSl9O214R3JhcGgucHJvdG90eXBlLmRvUmVzaXplQ29udGFpbmVyPWZ1bmN0aW9uKGEsYil7bnVsbCE9dGhpcy5tYXhpbXVtQ29udGFpbmVyU2l6ZSYmKGE9TWF0aC5taW4odGhpcy5tYXhpbXVtQ29udGFpbmVyU2l6ZS53aWR0aCxhKSxiPU1hdGgubWluKHRoaXMubWF4aW11bUNvbnRhaW5lclNpemUuaGVpZ2h0LGIpKTt0aGlzLmNvbnRhaW5lci5zdHlsZS53aWR0aD1NYXRoLmNlaWwoYSkrInB4Ijt0aGlzLmNvbnRhaW5lci5zdHlsZS5oZWlnaHQ9TWF0aC5jZWlsKGIpKyJweCJ9OwpteEdyYXBoLnByb3RvdHlwZS51cGRhdGVQYWdlQnJlYWtzPWZ1bmN0aW9uKGEsYixjKXtiPXRoaXMudmlldy5zY2FsZTtjPXRoaXMudmlldy50cmFuc2xhdGU7dmFyIGQ9dGhpcy5wYWdlRm9ybWF0LGU9Yip0aGlzLnBhZ2VTY2FsZSxmPW5ldyBteFJlY3RhbmdsZSgwLDAsZC53aWR0aCplLGQuaGVpZ2h0KmUpLGQ9bXhSZWN0YW5nbGUuZnJvbVJlY3RhbmdsZSh0aGlzLmdldEdyYXBoQm91bmRzKCkpO2Qud2lkdGg9TWF0aC5tYXgoMSxkLndpZHRoKTtkLmhlaWdodD1NYXRoLm1heCgxLGQuaGVpZ2h0KTtmLng9TWF0aC5mbG9vcigoZC54LWMueCpiKS9mLndpZHRoKSpmLndpZHRoK2MueCpiO2YueT1NYXRoLmZsb29yKChkLnktYy55KmIpL2YuaGVpZ2h0KSpmLmhlaWdodCtjLnkqYjtkLndpZHRoPU1hdGguY2VpbCgoZC53aWR0aCsoZC54LWYueCkpL2Yud2lkdGgpKmYud2lkdGg7ZC5oZWlnaHQ9TWF0aC5jZWlsKChkLmhlaWdodCsoZC55LWYueSkpL2YuaGVpZ2h0KSpmLmhlaWdodDsKdmFyIGc9KGE9YSYmTWF0aC5taW4oZi53aWR0aCxmLmhlaWdodCk+dGhpcy5taW5QYWdlQnJlYWtEaXN0KT9NYXRoLmNlaWwoZC5oZWlnaHQvZi5oZWlnaHQpKzE6MCxrPWE/TWF0aC5jZWlsKGQud2lkdGgvZi53aWR0aCkrMTowLGw9KGstMSkqZi53aWR0aCxtPShnLTEpKmYuaGVpZ2h0O251bGw9PXRoaXMuaG9yaXpvbnRhbFBhZ2VCcmVha3MmJjA8ZyYmKHRoaXMuaG9yaXpvbnRhbFBhZ2VCcmVha3M9W10pO251bGw9PXRoaXMudmVydGljYWxQYWdlQnJlYWtzJiYwPGsmJih0aGlzLnZlcnRpY2FsUGFnZUJyZWFrcz1bXSk7YT1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXtpZihudWxsIT1hKXtmb3IodmFyIGI9YT09dGhpcy5ob3Jpem9udGFsUGFnZUJyZWFrcz9nOmssYz0wO2M8PWI7YysrKXt2YXIgZD1hPT10aGlzLmhvcml6b250YWxQYWdlQnJlYWtzP1tuZXcgbXhQb2ludChNYXRoLnJvdW5kKGYueCksTWF0aC5yb3VuZChmLnkrYypmLmhlaWdodCkpLG5ldyBteFBvaW50KE1hdGgucm91bmQoZi54KwpsKSxNYXRoLnJvdW5kKGYueStjKmYuaGVpZ2h0KSldOltuZXcgbXhQb2ludChNYXRoLnJvdW5kKGYueCtjKmYud2lkdGgpLE1hdGgucm91bmQoZi55KSksbmV3IG14UG9pbnQoTWF0aC5yb3VuZChmLngrYypmLndpZHRoKSxNYXRoLnJvdW5kKGYueSttKSldO251bGwhPWFbY10/KGFbY10ucG9pbnRzPWQsYVtjXS5yZWRyYXcoKSk6KGQ9bmV3IG14UG9seWxpbmUoZCx0aGlzLnBhZ2VCcmVha0NvbG9yKSxkLmRpYWxlY3Q9dGhpcy5kaWFsZWN0LGQucG9pbnRlckV2ZW50cz0hMSxkLmlzRGFzaGVkPXRoaXMucGFnZUJyZWFrRGFzaGVkLGQuaW5pdCh0aGlzLnZpZXcuYmFja2dyb3VuZFBhbmUpLGQucmVkcmF3KCksYVtjXT1kKX1mb3IoYz1iO2M8YS5sZW5ndGg7YysrKWFbY10uZGVzdHJveSgpO2Euc3BsaWNlKGIsYS5sZW5ndGgtYil9fSk7YSh0aGlzLmhvcml6b250YWxQYWdlQnJlYWtzKTthKHRoaXMudmVydGljYWxQYWdlQnJlYWtzKX07Cm14R3JhcGgucHJvdG90eXBlLmdldEN1cnJlbnRDZWxsU3R5bGU9ZnVuY3Rpb24oYSxiKXt2YXIgYz1iP251bGw6dGhpcy52aWV3LmdldFN0YXRlKGEpO3JldHVybiBudWxsIT1jP2Muc3R5bGU6dGhpcy5nZXRDZWxsU3R5bGUoYSl9O214R3JhcGgucHJvdG90eXBlLmdldENlbGxTdHlsZT1mdW5jdGlvbihhKXt2YXIgYj10aGlzLm1vZGVsLmdldFN0eWxlKGEpO2E9dGhpcy5tb2RlbC5pc0VkZ2UoYSk/dGhpcy5zdHlsZXNoZWV0LmdldERlZmF1bHRFZGdlU3R5bGUoKTp0aGlzLnN0eWxlc2hlZXQuZ2V0RGVmYXVsdFZlcnRleFN0eWxlKCk7bnVsbCE9YiYmKGE9dGhpcy5wb3N0UHJvY2Vzc0NlbGxTdHlsZSh0aGlzLnN0eWxlc2hlZXQuZ2V0Q2VsbFN0eWxlKGIsYSkpKTtudWxsPT1hJiYoYT17fSk7cmV0dXJuIGF9OwpteEdyYXBoLnByb3RvdHlwZS5wb3N0UHJvY2Vzc0NlbGxTdHlsZT1mdW5jdGlvbihhKXtpZihudWxsIT1hKXt2YXIgYj1hW214Q29uc3RhbnRzLlNUWUxFX0lNQUdFXSxjPXRoaXMuZ2V0SW1hZ2VGcm9tQnVuZGxlcyhiKTtudWxsIT1jP2FbbXhDb25zdGFudHMuU1RZTEVfSU1BR0VdPWM6Yz1iO251bGwhPWMmJiJkYXRhOmltYWdlLyI9PWMuc3Vic3RyaW5nKDAsMTEpJiYoImRhdGE6aW1hZ2Uvc3ZnK3htbCw8Ij09Yy5zdWJzdHJpbmcoMCwyMCk/Yz1jLnN1YnN0cmluZygwLDE5KStlbmNvZGVVUklDb21wb25lbnQoYy5zdWJzdHJpbmcoMTkpKToiZGF0YTppbWFnZS9zdmcreG1sLCUzQyIhPWMuc3Vic3RyaW5nKDAsMjIpJiYoYj1jLmluZGV4T2YoIiwiKSwwPGImJiI7YmFzZTY0LCIhPWMuc3Vic3RyaW5nKGItNyxiKzEpJiYoYz1jLnN1YnN0cmluZygwLGIpKyI7YmFzZTY0LCIrYy5zdWJzdHJpbmcoYisxKSkpLGFbbXhDb25zdGFudHMuU1RZTEVfSU1BR0VdPWMpfXJldHVybiBhfTsKbXhHcmFwaC5wcm90b3R5cGUuc2V0Q2VsbFN0eWxlPWZ1bmN0aW9uKGEsYil7Yj1ifHx0aGlzLmdldFNlbGVjdGlvbkNlbGxzKCk7aWYobnVsbCE9Yil7dGhpcy5tb2RlbC5iZWdpblVwZGF0ZSgpO3RyeXtmb3IodmFyIGM9MDtjPGIubGVuZ3RoO2MrKyl0aGlzLm1vZGVsLnNldFN0eWxlKGJbY10sYSl9ZmluYWxseXt0aGlzLm1vZGVsLmVuZFVwZGF0ZSgpfX19O214R3JhcGgucHJvdG90eXBlLnRvZ2dsZUNlbGxTdHlsZT1mdW5jdGlvbihhLGIsYyl7Yz1jfHx0aGlzLmdldFNlbGVjdGlvbkNlbGwoKTtyZXR1cm4gdGhpcy50b2dnbGVDZWxsU3R5bGVzKGEsYixbY10pfTsKbXhHcmFwaC5wcm90b3R5cGUudG9nZ2xlQ2VsbFN0eWxlcz1mdW5jdGlvbihhLGIsYyl7Yj1udWxsIT1iP2I6ITE7Yz1jfHx0aGlzLmdldFNlbGVjdGlvbkNlbGxzKCk7dmFyIGQ9bnVsbDtudWxsIT1jJiYwPGMubGVuZ3RoJiYoZD10aGlzLmdldEN1cnJlbnRDZWxsU3R5bGUoY1swXSksZD1teFV0aWxzLmdldFZhbHVlKGQsYSxiKT8wOjEsdGhpcy5zZXRDZWxsU3R5bGVzKGEsZCxjKSk7cmV0dXJuIGR9O214R3JhcGgucHJvdG90eXBlLnNldENlbGxTdHlsZXM9ZnVuY3Rpb24oYSxiLGMpe2M9Y3x8dGhpcy5nZXRTZWxlY3Rpb25DZWxscygpO214VXRpbHMuc2V0Q2VsbFN0eWxlcyh0aGlzLm1vZGVsLGMsYSxiKX07bXhHcmFwaC5wcm90b3R5cGUudG9nZ2xlQ2VsbFN0eWxlRmxhZ3M9ZnVuY3Rpb24oYSxiLGMpe3RoaXMuc2V0Q2VsbFN0eWxlRmxhZ3MoYSxiLG51bGwsYyl9OwpteEdyYXBoLnByb3RvdHlwZS5zZXRDZWxsU3R5bGVGbGFncz1mdW5jdGlvbihhLGIsYyxkKXtkPWR8fHRoaXMuZ2V0U2VsZWN0aW9uQ2VsbHMoKTtudWxsIT1kJiYwPGQubGVuZ3RoJiYobnVsbD09YyYmKGM9dGhpcy5nZXRDdXJyZW50Q2VsbFN0eWxlKGRbMF0pLGM9KHBhcnNlSW50KGNbYV18fDApJmIpIT1iKSxteFV0aWxzLnNldENlbGxTdHlsZUZsYWdzKHRoaXMubW9kZWwsZCxhLGIsYykpfTsKbXhHcmFwaC5wcm90b3R5cGUuYWxpZ25DZWxscz1mdW5jdGlvbihhLGIsYyl7bnVsbD09YiYmKGI9dGhpcy5nZXRTZWxlY3Rpb25DZWxscygpKTtpZihudWxsIT1iJiYxPGIubGVuZ3RoKXtpZihudWxsPT1jKWZvcih2YXIgZD0wO2Q8Yi5sZW5ndGg7ZCsrKXt2YXIgZT10aGlzLnZpZXcuZ2V0U3RhdGUoYltkXSk7aWYobnVsbCE9ZSYmIXRoaXMubW9kZWwuaXNFZGdlKGJbZF0pKWlmKG51bGw9PWMpaWYoYT09bXhDb25zdGFudHMuQUxJR05fQ0VOVEVSKXtjPWUueCtlLndpZHRoLzI7YnJlYWt9ZWxzZSBpZihhPT1teENvbnN0YW50cy5BTElHTl9SSUdIVCljPWUueCtlLndpZHRoO2Vsc2UgaWYoYT09bXhDb25zdGFudHMuQUxJR05fVE9QKWM9ZS55O2Vsc2UgaWYoYT09bXhDb25zdGFudHMuQUxJR05fTUlERExFKXtjPWUueStlLmhlaWdodC8yO2JyZWFrfWVsc2UgYz1hPT1teENvbnN0YW50cy5BTElHTl9CT1RUT00/ZS55K2UuaGVpZ2h0OmUueDtlbHNlIGM9YT09bXhDb25zdGFudHMuQUxJR05fUklHSFQ/Ck1hdGgubWF4KGMsZS54K2Uud2lkdGgpOmE9PW14Q29uc3RhbnRzLkFMSUdOX1RPUD9NYXRoLm1pbihjLGUueSk6YT09bXhDb25zdGFudHMuQUxJR05fQk9UVE9NP01hdGgubWF4KGMsZS55K2UuaGVpZ2h0KTpNYXRoLm1pbihjLGUueCl9aWYobnVsbCE9Yyl7dmFyIGY9dGhpcy52aWV3LnNjYWxlO3RoaXMubW9kZWwuYmVnaW5VcGRhdGUoKTt0cnl7Zm9yKGQ9MDtkPGIubGVuZ3RoO2QrKylpZihlPXRoaXMudmlldy5nZXRTdGF0ZShiW2RdKSxudWxsIT1lKXt2YXIgZz10aGlzLmdldENlbGxHZW9tZXRyeShiW2RdKTtudWxsPT1nfHx0aGlzLm1vZGVsLmlzRWRnZShiW2RdKXx8KGc9Zy5jbG9uZSgpLGE9PW14Q29uc3RhbnRzLkFMSUdOX0NFTlRFUj9nLngrPShjLWUueC1lLndpZHRoLzIpL2Y6YT09bXhDb25zdGFudHMuQUxJR05fUklHSFQ/Zy54Kz0oYy1lLngtZS53aWR0aCkvZjphPT1teENvbnN0YW50cy5BTElHTl9UT1A/Zy55Kz0oYy1lLnkpL2Y6YT09bXhDb25zdGFudHMuQUxJR05fTUlERExFPwpnLnkrPShjLWUueS1lLmhlaWdodC8yKS9mOmE9PW14Q29uc3RhbnRzLkFMSUdOX0JPVFRPTT9nLnkrPShjLWUueS1lLmhlaWdodCkvZjpnLngrPShjLWUueCkvZix0aGlzLnJlc2l6ZUNlbGwoYltkXSxnKSl9dGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5BTElHTl9DRUxMUywiYWxpZ24iLGEsImNlbGxzIixiKSl9ZmluYWxseXt0aGlzLm1vZGVsLmVuZFVwZGF0ZSgpfX19cmV0dXJuIGJ9OwpteEdyYXBoLnByb3RvdHlwZS5mbGlwRWRnZT1mdW5jdGlvbihhKXtpZihudWxsIT1hJiZudWxsIT10aGlzLmFsdGVybmF0ZUVkZ2VTdHlsZSl7dGhpcy5tb2RlbC5iZWdpblVwZGF0ZSgpO3RyeXt2YXIgYj10aGlzLm1vZGVsLmdldFN0eWxlKGEpO251bGw9PWJ8fDA9PWIubGVuZ3RoP3RoaXMubW9kZWwuc2V0U3R5bGUoYSx0aGlzLmFsdGVybmF0ZUVkZ2VTdHlsZSk6dGhpcy5tb2RlbC5zZXRTdHlsZShhLG51bGwpO3RoaXMucmVzZXRFZGdlKGEpO3RoaXMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KG14RXZlbnQuRkxJUF9FREdFLCJlZGdlIixhKSl9ZmluYWxseXt0aGlzLm1vZGVsLmVuZFVwZGF0ZSgpfX1yZXR1cm4gYX07bXhHcmFwaC5wcm90b3R5cGUuYWRkSW1hZ2VCdW5kbGU9ZnVuY3Rpb24oYSl7dGhpcy5pbWFnZUJ1bmRsZXMucHVzaChhKX07Cm14R3JhcGgucHJvdG90eXBlLnJlbW92ZUltYWdlQnVuZGxlPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1bXSxjPTA7Yzx0aGlzLmltYWdlQnVuZGxlcy5sZW5ndGg7YysrKXRoaXMuaW1hZ2VCdW5kbGVzW2NdIT1hJiZiLnB1c2godGhpcy5pbWFnZUJ1bmRsZXNbY10pO3RoaXMuaW1hZ2VCdW5kbGVzPWJ9O214R3JhcGgucHJvdG90eXBlLmdldEltYWdlRnJvbUJ1bmRsZXM9ZnVuY3Rpb24oYSl7aWYobnVsbCE9YSlmb3IodmFyIGI9MDtiPHRoaXMuaW1hZ2VCdW5kbGVzLmxlbmd0aDtiKyspe3ZhciBjPXRoaXMuaW1hZ2VCdW5kbGVzW2JdLmdldEltYWdlKGEpO2lmKG51bGwhPWMpcmV0dXJuIGN9cmV0dXJuIG51bGx9OwpteEdyYXBoLnByb3RvdHlwZS5vcmRlckNlbGxzPWZ1bmN0aW9uKGEsYil7bnVsbD09YiYmKGI9bXhVdGlscy5zb3J0Q2VsbHModGhpcy5nZXRTZWxlY3Rpb25DZWxscygpLCEwKSk7dGhpcy5tb2RlbC5iZWdpblVwZGF0ZSgpO3RyeXt0aGlzLmNlbGxzT3JkZXJlZChiLGEpLHRoaXMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KG14RXZlbnQuT1JERVJfQ0VMTFMsImJhY2siLGEsImNlbGxzIixiKSl9ZmluYWxseXt0aGlzLm1vZGVsLmVuZFVwZGF0ZSgpfXJldHVybiBifTsKbXhHcmFwaC5wcm90b3R5cGUuY2VsbHNPcmRlcmVkPWZ1bmN0aW9uKGEsYil7aWYobnVsbCE9YSl7dGhpcy5tb2RlbC5iZWdpblVwZGF0ZSgpO3RyeXtmb3IodmFyIGM9MDtjPGEubGVuZ3RoO2MrKyl7dmFyIGQ9dGhpcy5tb2RlbC5nZXRQYXJlbnQoYVtjXSk7Yj90aGlzLm1vZGVsLmFkZChkLGFbY10sYyk6dGhpcy5tb2RlbC5hZGQoZCxhW2NdLHRoaXMubW9kZWwuZ2V0Q2hpbGRDb3VudChkKS0xKX10aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LkNFTExTX09SREVSRUQsImJhY2siLGIsImNlbGxzIixhKSl9ZmluYWxseXt0aGlzLm1vZGVsLmVuZFVwZGF0ZSgpfX19OwpteEdyYXBoLnByb3RvdHlwZS5ncm91cENlbGxzPWZ1bmN0aW9uKGEsYixjKXtudWxsPT1jJiYoYz1teFV0aWxzLnNvcnRDZWxscyh0aGlzLmdldFNlbGVjdGlvbkNlbGxzKCksITApKTtjPXRoaXMuZ2V0Q2VsbHNGb3JHcm91cChjKTtudWxsPT1hJiYoYT10aGlzLmNyZWF0ZUdyb3VwQ2VsbChjKSk7dmFyIGQ9dGhpcy5nZXRCb3VuZHNGb3JHcm91cChhLGMsYik7aWYoMDxjLmxlbmd0aCYmbnVsbCE9ZCl7dmFyIGU9dGhpcy5tb2RlbC5nZXRQYXJlbnQoYSk7bnVsbD09ZSYmKGU9dGhpcy5tb2RlbC5nZXRQYXJlbnQoY1swXSkpO3RoaXMubW9kZWwuYmVnaW5VcGRhdGUoKTt0cnl7bnVsbD09dGhpcy5nZXRDZWxsR2VvbWV0cnkoYSkmJnRoaXMubW9kZWwuc2V0R2VvbWV0cnkoYSxuZXcgbXhHZW9tZXRyeSk7dmFyIGY9dGhpcy5tb2RlbC5nZXRDaGlsZENvdW50KGUpO3RoaXMuY2VsbHNBZGRlZChbYV0sZSxmLG51bGwsbnVsbCwhMSwhMSwhMSk7Zj10aGlzLm1vZGVsLmdldENoaWxkQ291bnQoYSk7CnRoaXMuY2VsbHNBZGRlZChjLGEsZixudWxsLG51bGwsITEsITEsITEpO3RoaXMuY2VsbHNNb3ZlZChjLC1kLngsLWQueSwhMSwhMSwhMSk7dGhpcy5jZWxsc1Jlc2l6ZWQoW2FdLFtkXSwhMSk7dGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5HUk9VUF9DRUxMUywiZ3JvdXAiLGEsImJvcmRlciIsYiwiY2VsbHMiLGMpKX1maW5hbGx5e3RoaXMubW9kZWwuZW5kVXBkYXRlKCl9fXJldHVybiBhfTtteEdyYXBoLnByb3RvdHlwZS5nZXRDZWxsc0Zvckdyb3VwPWZ1bmN0aW9uKGEpe3ZhciBiPVtdO2lmKG51bGwhPWEmJjA8YS5sZW5ndGgpe3ZhciBjPXRoaXMubW9kZWwuZ2V0UGFyZW50KGFbMF0pO2IucHVzaChhWzBdKTtmb3IodmFyIGQ9MTtkPGEubGVuZ3RoO2QrKyl0aGlzLm1vZGVsLmdldFBhcmVudChhW2RdKT09YyYmYi5wdXNoKGFbZF0pfXJldHVybiBifTsKbXhHcmFwaC5wcm90b3R5cGUuZ2V0Qm91bmRzRm9yR3JvdXA9ZnVuY3Rpb24oYSxiLGMpe2I9dGhpcy5nZXRCb3VuZGluZ0JveEZyb21HZW9tZXRyeShiLCEwKTtudWxsIT1iJiYodGhpcy5pc1N3aW1sYW5lKGEpJiYoYT10aGlzLmdldFN0YXJ0U2l6ZShhKSxiLngtPWEud2lkdGgsYi55LT1hLmhlaWdodCxiLndpZHRoKz1hLndpZHRoLGIuaGVpZ2h0Kz1hLmhlaWdodCksbnVsbCE9YyYmKGIueC09YyxiLnktPWMsYi53aWR0aCs9MipjLGIuaGVpZ2h0Kz0yKmMpKTtyZXR1cm4gYn07bXhHcmFwaC5wcm90b3R5cGUuY3JlYXRlR3JvdXBDZWxsPWZ1bmN0aW9uKGEpe2E9bmV3IG14Q2VsbCgiIik7YS5zZXRWZXJ0ZXgoITApO2Euc2V0Q29ubmVjdGFibGUoITEpO3JldHVybiBhfTsKbXhHcmFwaC5wcm90b3R5cGUudW5ncm91cENlbGxzPWZ1bmN0aW9uKGEpe3ZhciBiPVtdO2lmKG51bGw9PWEpe2E9dGhpcy5nZXRTZWxlY3Rpb25DZWxscygpO2Zvcih2YXIgYz1bXSxkPTA7ZDxhLmxlbmd0aDtkKyspMDx0aGlzLm1vZGVsLmdldENoaWxkQ291bnQoYVtkXSkmJmMucHVzaChhW2RdKTthPWN9aWYobnVsbCE9YSYmMDxhLmxlbmd0aCl7dGhpcy5tb2RlbC5iZWdpblVwZGF0ZSgpO3RyeXtmb3IoZD0wO2Q8YS5sZW5ndGg7ZCsrKXt2YXIgZT10aGlzLm1vZGVsLmdldENoaWxkcmVuKGFbZF0pO2lmKG51bGwhPWUmJjA8ZS5sZW5ndGgpe3ZhciBlPWUuc2xpY2UoKSxmPXRoaXMubW9kZWwuZ2V0UGFyZW50KGFbZF0pLGc9dGhpcy5tb2RlbC5nZXRDaGlsZENvdW50KGYpO3RoaXMuY2VsbHNBZGRlZChlLGYsZyxudWxsLG51bGwsITApO2I9Yi5jb25jYXQoZSl9fXRoaXMucmVtb3ZlQ2VsbHNBZnRlclVuZ3JvdXAoYSk7dGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5VTkdST1VQX0NFTExTLAoiY2VsbHMiLGEpKX1maW5hbGx5e3RoaXMubW9kZWwuZW5kVXBkYXRlKCl9fXJldHVybiBifTtteEdyYXBoLnByb3RvdHlwZS5yZW1vdmVDZWxsc0FmdGVyVW5ncm91cD1mdW5jdGlvbihhKXt0aGlzLmNlbGxzUmVtb3ZlZCh0aGlzLmFkZEFsbEVkZ2VzKGEpKX07bXhHcmFwaC5wcm90b3R5cGUucmVtb3ZlQ2VsbHNGcm9tUGFyZW50PWZ1bmN0aW9uKGEpe251bGw9PWEmJihhPXRoaXMuZ2V0U2VsZWN0aW9uQ2VsbHMoKSk7dGhpcy5tb2RlbC5iZWdpblVwZGF0ZSgpO3RyeXt2YXIgYj10aGlzLmdldERlZmF1bHRQYXJlbnQoKSxjPXRoaXMubW9kZWwuZ2V0Q2hpbGRDb3VudChiKTt0aGlzLmNlbGxzQWRkZWQoYSxiLGMsbnVsbCxudWxsLCEwKTt0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LlJFTU9WRV9DRUxMU19GUk9NX1BBUkVOVCwiY2VsbHMiLGEpKX1maW5hbGx5e3RoaXMubW9kZWwuZW5kVXBkYXRlKCl9cmV0dXJuIGF9OwpteEdyYXBoLnByb3RvdHlwZS51cGRhdGVHcm91cEJvdW5kcz1mdW5jdGlvbihhLGIsYyxkLGUsZixnKXtudWxsPT1hJiYoYT10aGlzLmdldFNlbGVjdGlvbkNlbGxzKCkpO2I9bnVsbCE9Yj9iOjA7Yz1udWxsIT1jP2M6ITE7ZD1udWxsIT1kP2Q6MDtlPW51bGwhPWU/ZTowO2Y9bnVsbCE9Zj9mOjA7Zz1udWxsIT1nP2c6MDt0aGlzLm1vZGVsLmJlZ2luVXBkYXRlKCk7dHJ5e2Zvcih2YXIgaz1hLmxlbmd0aC0xOzA8PWs7ay0tKXt2YXIgbD10aGlzLmdldENlbGxHZW9tZXRyeShhW2tdKTtpZihudWxsIT1sKXt2YXIgbT10aGlzLmdldENoaWxkQ2VsbHMoYVtrXSk7aWYobnVsbCE9bSYmMDxtLmxlbmd0aCl7dmFyIG49dGhpcy5nZXRCb3VuZGluZ0JveEZyb21HZW9tZXRyeShtLCEwKTtpZihudWxsIT1uJiYwPG4ud2lkdGgmJjA8bi5oZWlnaHQpe3ZhciBwPTAscT0wO2lmKHRoaXMuaXNTd2ltbGFuZShhW2tdKSl2YXIgcj10aGlzLmdldFN0YXJ0U2l6ZShhW2tdKSxwPXIud2lkdGgscT0Kci5oZWlnaHQ7bD1sLmNsb25lKCk7YyYmKGwueD1NYXRoLnJvdW5kKGwueCtuLngtYi1wLWcpLGwueT1NYXRoLnJvdW5kKGwueStuLnktYi1xLWQpKTtsLndpZHRoPU1hdGgucm91bmQobi53aWR0aCsyKmIrcCtnK2UpO2wuaGVpZ2h0PU1hdGgucm91bmQobi5oZWlnaHQrMipiK3ErZCtmKTt0aGlzLm1vZGVsLnNldEdlb21ldHJ5KGFba10sbCk7dGhpcy5tb3ZlQ2VsbHMobSxiK3Atbi54K2csYitxLW4ueStkKX19fX19ZmluYWxseXt0aGlzLm1vZGVsLmVuZFVwZGF0ZSgpfXJldHVybiBhfTsKbXhHcmFwaC5wcm90b3R5cGUuZ2V0Qm91bmRpbmdCb3g9ZnVuY3Rpb24oYSl7dmFyIGI9bnVsbDtpZihudWxsIT1hJiYwPGEubGVuZ3RoKWZvcih2YXIgYz0wO2M8YS5sZW5ndGg7YysrKWlmKHRoaXMubW9kZWwuaXNWZXJ0ZXgoYVtjXSl8fHRoaXMubW9kZWwuaXNFZGdlKGFbY10pKXt2YXIgZD10aGlzLnZpZXcuZ2V0Qm91bmRpbmdCb3godGhpcy52aWV3LmdldFN0YXRlKGFbY10pLCEwKTtudWxsIT1kJiYobnVsbD09Yj9iPW14UmVjdGFuZ2xlLmZyb21SZWN0YW5nbGUoZCk6Yi5hZGQoZCkpfXJldHVybiBifTtteEdyYXBoLnByb3RvdHlwZS5jbG9uZUNlbGw9ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuIHRoaXMuY2xvbmVDZWxscyhbYV0sYixjLGQpWzBdfTsKbXhHcmFwaC5wcm90b3R5cGUuY2xvbmVDZWxscz1mdW5jdGlvbihhLGIsYyxkKXtiPW51bGwhPWI/YjohMDt2YXIgZT1udWxsO2lmKG51bGwhPWEpe2Zvcih2YXIgZj1uZXcgbXhEaWN0aW9uYXJ5LGU9W10sZz0wO2c8YS5sZW5ndGg7ZysrKWYucHV0KGFbZ10sITApLGUucHVzaChhW2ddKTtpZigwPGUubGVuZ3RoKWZvcih2YXIgaz10aGlzLnZpZXcuc2NhbGUsbD10aGlzLnZpZXcudHJhbnNsYXRlLGU9dGhpcy5tb2RlbC5jbG9uZUNlbGxzKGEsITAsYyksZz0wO2c8YS5sZW5ndGg7ZysrKWlmKCFiJiZ0aGlzLm1vZGVsLmlzRWRnZShlW2ddKSYmbnVsbCE9dGhpcy5nZXRFZGdlVmFsaWRhdGlvbkVycm9yKGVbZ10sdGhpcy5tb2RlbC5nZXRUZXJtaW5hbChlW2ddLCEwKSx0aGlzLm1vZGVsLmdldFRlcm1pbmFsKGVbZ10sITEpKSllW2ddPW51bGw7ZWxzZXt2YXIgbT10aGlzLm1vZGVsLmdldEdlb21ldHJ5KGVbZ10pO2lmKG51bGwhPW0pe3ZhciBuPXRoaXMudmlldy5nZXRTdGF0ZShhW2ddKSwKcD10aGlzLnZpZXcuZ2V0U3RhdGUodGhpcy5tb2RlbC5nZXRQYXJlbnQoYVtnXSkpO2lmKG51bGwhPW4mJm51bGwhPXApaWYoYz1kPzA6cC5vcmlnaW4ueCxwPWQ/MDpwLm9yaWdpbi55LHRoaXMubW9kZWwuaXNFZGdlKGVbZ10pKXtpZihuPW4uYWJzb2x1dGVQb2ludHMsbnVsbCE9bil7Zm9yKHZhciBxPXRoaXMubW9kZWwuZ2V0VGVybWluYWwoYVtnXSwhMCk7bnVsbCE9cSYmIWYuZ2V0KHEpOylxPXRoaXMubW9kZWwuZ2V0UGFyZW50KHEpO251bGw9PXEmJm51bGwhPW5bMF0mJm0uc2V0VGVybWluYWxQb2ludChuZXcgbXhQb2ludChuWzBdLngvay1sLngsblswXS55L2stbC55KSwhMCk7Zm9yKHE9dGhpcy5tb2RlbC5nZXRUZXJtaW5hbChhW2ddLCExKTtudWxsIT1xJiYhZi5nZXQocSk7KXE9dGhpcy5tb2RlbC5nZXRQYXJlbnQocSk7dmFyIHI9bi5sZW5ndGgtMTtudWxsPT1xJiZudWxsIT1uW3JdJiZtLnNldFRlcm1pbmFsUG9pbnQobmV3IG14UG9pbnQobltyXS54L2stbC54LG5bcl0ueS8Kay1sLnkpLCExKTttPW0ucG9pbnRzO2lmKG51bGwhPW0pZm9yKG49MDtuPG0ubGVuZ3RoO24rKyltW25dLngrPWMsbVtuXS55Kz1wfX1lbHNlIG0udHJhbnNsYXRlKGMscCl9fWVsc2UgZT1bXX1yZXR1cm4gZX07bXhHcmFwaC5wcm90b3R5cGUuaW5zZXJ0VmVydGV4PWZ1bmN0aW9uKGEsYixjLGQsZSxmLGcsayxsKXtiPXRoaXMuY3JlYXRlVmVydGV4KGEsYixjLGQsZSxmLGcsayxsKTtyZXR1cm4gdGhpcy5hZGRDZWxsKGIsYSl9O214R3JhcGgucHJvdG90eXBlLmNyZWF0ZVZlcnRleD1mdW5jdGlvbihhLGIsYyxkLGUsZixnLGssbCl7YT1uZXcgbXhHZW9tZXRyeShkLGUsZixnKTthLnJlbGF0aXZlPW51bGwhPWw/bDohMTtjPW5ldyBteENlbGwoYyxhLGspO2Muc2V0SWQoYik7Yy5zZXRWZXJ0ZXgoITApO2Muc2V0Q29ubmVjdGFibGUoITApO3JldHVybiBjfTsKbXhHcmFwaC5wcm90b3R5cGUuaW5zZXJ0RWRnZT1mdW5jdGlvbihhLGIsYyxkLGUsZil7Yj10aGlzLmNyZWF0ZUVkZ2UoYSxiLGMsZCxlLGYpO3JldHVybiB0aGlzLmFkZEVkZ2UoYixhLGQsZSl9O214R3JhcGgucHJvdG90eXBlLmNyZWF0ZUVkZ2U9ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe2E9bmV3IG14Q2VsbChjLG5ldyBteEdlb21ldHJ5LGYpO2Euc2V0SWQoYik7YS5zZXRFZGdlKCEwKTthLmdlb21ldHJ5LnJlbGF0aXZlPSEwO3JldHVybiBhfTtteEdyYXBoLnByb3RvdHlwZS5hZGRFZGdlPWZ1bmN0aW9uKGEsYixjLGQsZSl7cmV0dXJuIHRoaXMuYWRkQ2VsbChhLGIsZSxjLGQpfTtteEdyYXBoLnByb3RvdHlwZS5hZGRDZWxsPWZ1bmN0aW9uKGEsYixjLGQsZSl7cmV0dXJuIHRoaXMuYWRkQ2VsbHMoW2FdLGIsYyxkLGUpWzBdfTsKbXhHcmFwaC5wcm90b3R5cGUuYWRkQ2VsbHM9ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe251bGw9PWImJihiPXRoaXMuZ2V0RGVmYXVsdFBhcmVudCgpKTtudWxsPT1jJiYoYz10aGlzLm1vZGVsLmdldENoaWxkQ291bnQoYikpO3RoaXMubW9kZWwuYmVnaW5VcGRhdGUoKTt0cnl7dGhpcy5jZWxsc0FkZGVkKGEsYixjLGQsZSxudWxsIT1mP2Y6ITEsITApLHRoaXMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KG14RXZlbnQuQUREX0NFTExTLCJjZWxscyIsYSwicGFyZW50IixiLCJpbmRleCIsYywic291cmNlIixkLCJ0YXJnZXQiLGUpKX1maW5hbGx5e3RoaXMubW9kZWwuZW5kVXBkYXRlKCl9cmV0dXJuIGF9OwpteEdyYXBoLnByb3RvdHlwZS5jZWxsc0FkZGVkPWZ1bmN0aW9uKGEsYixjLGQsZSxmLGcsayl7aWYobnVsbCE9YSYmbnVsbCE9YiYmbnVsbCE9Yyl7dGhpcy5tb2RlbC5iZWdpblVwZGF0ZSgpO3RyeXtmb3IodmFyIGw9Zj90aGlzLnZpZXcuZ2V0U3RhdGUoYik6bnVsbCxtPW51bGwhPWw/bC5vcmlnaW46bnVsbCxuPW5ldyBteFBvaW50KDAsMCksbD0wO2w8YS5sZW5ndGg7bCsrKWlmKG51bGw9PWFbbF0pYy0tO2Vsc2V7dmFyIHA9dGhpcy5tb2RlbC5nZXRQYXJlbnQoYVtsXSk7aWYobnVsbCE9bSYmYVtsXSE9YiYmYiE9cCl7dmFyIHE9dGhpcy52aWV3LmdldFN0YXRlKHApLHI9bnVsbCE9cT9xLm9yaWdpbjpuLHQ9dGhpcy5tb2RlbC5nZXRHZW9tZXRyeShhW2xdKTtpZihudWxsIT10KXt2YXIgdT1yLngtbS54LHg9ci55LW0ueSx0PXQuY2xvbmUoKTt0LnRyYW5zbGF0ZSh1LHgpO3QucmVsYXRpdmV8fCF0aGlzLm1vZGVsLmlzVmVydGV4KGFbbF0pfHx0aGlzLmlzQWxsb3dOZWdhdGl2ZUNvb3JkaW5hdGVzKCl8fAoodC54PU1hdGgubWF4KDAsdC54KSx0Lnk9TWF0aC5tYXgoMCx0LnkpKTt0aGlzLm1vZGVsLnNldEdlb21ldHJ5KGFbbF0sdCl9fWI9PXAmJmMrbD50aGlzLm1vZGVsLmdldENoaWxkQ291bnQoYikmJmMtLTt0aGlzLm1vZGVsLmFkZChiLGFbbF0sYytsKTt0aGlzLmF1dG9TaXplQ2VsbHNPbkFkZCYmdGhpcy5hdXRvU2l6ZUNlbGwoYVtsXSwhMCk7KG51bGw9PWt8fGspJiZ0aGlzLmlzRXh0ZW5kUGFyZW50c09uQWRkKGFbbF0pJiZ0aGlzLmlzRXh0ZW5kUGFyZW50KGFbbF0pJiZ0aGlzLmV4dGVuZFBhcmVudChhW2xdKTsobnVsbD09Z3x8ZykmJnRoaXMuY29uc3RyYWluQ2hpbGQoYVtsXSk7bnVsbCE9ZCYmdGhpcy5jZWxsQ29ubmVjdGVkKGFbbF0sZCwhMCk7bnVsbCE9ZSYmdGhpcy5jZWxsQ29ubmVjdGVkKGFbbF0sZSwhMSl9dGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5DRUxMU19BRERFRCwiY2VsbHMiLGEsInBhcmVudCIsYiwiaW5kZXgiLGMsInNvdXJjZSIsCmQsInRhcmdldCIsZSwiYWJzb2x1dGUiLGYpKX1maW5hbGx5e3RoaXMubW9kZWwuZW5kVXBkYXRlKCl9fX07bXhHcmFwaC5wcm90b3R5cGUuYXV0b1NpemVDZWxsPWZ1bmN0aW9uKGEsYil7aWYobnVsbCE9Yj9iOjEpZm9yKHZhciBjPXRoaXMubW9kZWwuZ2V0Q2hpbGRDb3VudChhKSxkPTA7ZDxjO2QrKyl0aGlzLmF1dG9TaXplQ2VsbCh0aGlzLm1vZGVsLmdldENoaWxkQXQoYSxkKSk7dGhpcy5nZXRNb2RlbCgpLmlzVmVydGV4KGEpJiZ0aGlzLmlzQXV0b1NpemVDZWxsKGEpJiZ0aGlzLnVwZGF0ZUNlbGxTaXplKGEpfTsKbXhHcmFwaC5wcm90b3R5cGUucmVtb3ZlQ2VsbHM9ZnVuY3Rpb24oYSxiKXtiPW51bGwhPWI/YjohMDtudWxsPT1hJiYoYT10aGlzLmdldERlbGV0YWJsZUNlbGxzKHRoaXMuZ2V0U2VsZWN0aW9uQ2VsbHMoKSkpO2lmKGIpYT10aGlzLmdldERlbGV0YWJsZUNlbGxzKHRoaXMuYWRkQWxsRWRnZXMoYSkpO2Vsc2V7YT1hLnNsaWNlKCk7Zm9yKHZhciBjPXRoaXMuZ2V0RGVsZXRhYmxlQ2VsbHModGhpcy5nZXRBbGxFZGdlcyhhKSksZD1uZXcgbXhEaWN0aW9uYXJ5LGU9MDtlPGEubGVuZ3RoO2UrKylkLnB1dChhW2VdLCEwKTtmb3IoZT0wO2U8Yy5sZW5ndGg7ZSsrKW51bGwhPXRoaXMudmlldy5nZXRTdGF0ZShjW2VdKXx8ZC5nZXQoY1tlXSl8fChkLnB1dChjW2VdLCEwKSxhLnB1c2goY1tlXSkpfXRoaXMubW9kZWwuYmVnaW5VcGRhdGUoKTt0cnl7dGhpcy5jZWxsc1JlbW92ZWQoYSksdGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5SRU1PVkVfQ0VMTFMsImNlbGxzIiwKYSwiaW5jbHVkZUVkZ2VzIixiKSl9ZmluYWxseXt0aGlzLm1vZGVsLmVuZFVwZGF0ZSgpfXJldHVybiBhfTsKbXhHcmFwaC5wcm90b3R5cGUuY2VsbHNSZW1vdmVkPWZ1bmN0aW9uKGEpe2lmKG51bGwhPWEmJjA8YS5sZW5ndGgpe3ZhciBiPXRoaXMudmlldy5zY2FsZSxjPXRoaXMudmlldy50cmFuc2xhdGU7dGhpcy5tb2RlbC5iZWdpblVwZGF0ZSgpO3RyeXtmb3IodmFyIGQ9bmV3IG14RGljdGlvbmFyeSxlPTA7ZTxhLmxlbmd0aDtlKyspZC5wdXQoYVtlXSwhMCk7Zm9yKGU9MDtlPGEubGVuZ3RoO2UrKyl7Zm9yKHZhciBmPXRoaXMuZ2V0QWxsRWRnZXMoW2FbZV1dKSxnPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGQsZil7dmFyIGc9dGhpcy5tb2RlbC5nZXRHZW9tZXRyeShkKTtpZihudWxsIT1nKXtmb3IodmFyIGs9dGhpcy5tb2RlbC5nZXRUZXJtaW5hbChkLGYpLGw9ITEsbT1rO251bGwhPW07KXtpZihhW2VdPT1tKXtsPSEwO2JyZWFrfW09dGhpcy5tb2RlbC5nZXRQYXJlbnQobSl9bCYmKGc9Zy5jbG9uZSgpLGw9dGhpcy52aWV3LmdldFN0YXRlKGQpLG51bGwhPWwmJm51bGwhPWwuYWJzb2x1dGVQb2ludHM/CihrPWwuYWJzb2x1dGVQb2ludHMsbT1mPzA6ay5sZW5ndGgtMSxnLnNldFRlcm1pbmFsUG9pbnQobmV3IG14UG9pbnQoa1ttXS54L2ItYy54LWwub3JpZ2luLngsa1ttXS55L2ItYy55LWwub3JpZ2luLnkpLGYpKTooaz10aGlzLnZpZXcuZ2V0U3RhdGUoayksbnVsbCE9ayYmZy5zZXRUZXJtaW5hbFBvaW50KG5ldyBteFBvaW50KGsuZ2V0Q2VudGVyWCgpL2ItYy54LGsuZ2V0Q2VudGVyWSgpL2ItYy55KSxmKSksdGhpcy5tb2RlbC5zZXRHZW9tZXRyeShkLGcpLHRoaXMubW9kZWwuc2V0VGVybWluYWwoZCxudWxsLGYpKX19KSxrPTA7azxmLmxlbmd0aDtrKyspZC5nZXQoZltrXSl8fChkLnB1dChmW2tdLCEwKSxnKGZba10sITApLGcoZltrXSwhMSkpO3RoaXMubW9kZWwucmVtb3ZlKGFbZV0pfXRoaXMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KG14RXZlbnQuQ0VMTFNfUkVNT1ZFRCwiY2VsbHMiLGEpKX1maW5hbGx5e3RoaXMubW9kZWwuZW5kVXBkYXRlKCl9fX07Cm14R3JhcGgucHJvdG90eXBlLnNwbGl0RWRnZT1mdW5jdGlvbihhLGIsYyxkLGUsZixnLGspe2Q9ZHx8MDtlPWV8fDA7az1udWxsIT1rP2s6dGhpcy5tb2RlbC5nZXRQYXJlbnQoYSk7Zj10aGlzLm1vZGVsLmdldFRlcm1pbmFsKGEsITApO3RoaXMubW9kZWwuYmVnaW5VcGRhdGUoKTt0cnl7aWYobnVsbD09Yyl7Yz10aGlzLmNsb25lQ2VsbChhKTt2YXIgbD10aGlzLnZpZXcuZ2V0U3RhdGUoYSksbT10aGlzLmdldENlbGxHZW9tZXRyeShjKTtpZihudWxsIT1tJiZudWxsIT1tLnBvaW50cyYmbnVsbCE9bCl7dmFyIG49dGhpcy52aWV3LnRyYW5zbGF0ZSxwPXRoaXMudmlldy5zY2FsZSxxPW14VXRpbHMuZmluZE5lYXJlc3RTZWdtZW50KGwsKGQrbi54KSpwLChlK24ueSkqcCk7bS5wb2ludHM9bS5wb2ludHMuc2xpY2UoMCxxKTttPXRoaXMuZ2V0Q2VsbEdlb21ldHJ5KGEpO251bGwhPW0mJm51bGwhPW0ucG9pbnRzJiYobT1tLmNsb25lKCksbS5wb2ludHM9bS5wb2ludHMuc2xpY2UocSksCnRoaXMubW9kZWwuc2V0R2VvbWV0cnkoYSxtKSl9fXRoaXMuY2VsbHNNb3ZlZChiLGQsZSwhMSwhMSk7dGhpcy5jZWxsc0FkZGVkKGIsayx0aGlzLm1vZGVsLmdldENoaWxkQ291bnQoayksbnVsbCxudWxsLCEwKTt0aGlzLmNlbGxzQWRkZWQoW2NdLGssdGhpcy5tb2RlbC5nZXRDaGlsZENvdW50KGspLGYsYlswXSwhMSk7dGhpcy5jZWxsQ29ubmVjdGVkKGEsYlswXSwhMCk7dGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5TUExJVF9FREdFLCJlZGdlIixhLCJjZWxscyIsYiwibmV3RWRnZSIsYywiZHgiLGQsImR5IixlKSl9ZmluYWxseXt0aGlzLm1vZGVsLmVuZFVwZGF0ZSgpfXJldHVybiBjfTsKbXhHcmFwaC5wcm90b3R5cGUudG9nZ2xlQ2VsbHM9ZnVuY3Rpb24oYSxiLGMpe251bGw9PWImJihiPXRoaXMuZ2V0U2VsZWN0aW9uQ2VsbHMoKSk7YyYmKGI9dGhpcy5hZGRBbGxFZGdlcyhiKSk7dGhpcy5tb2RlbC5iZWdpblVwZGF0ZSgpO3RyeXt0aGlzLmNlbGxzVG9nZ2xlZChiLGEpLHRoaXMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KG14RXZlbnQuVE9HR0xFX0NFTExTLCJzaG93IixhLCJjZWxscyIsYiwiaW5jbHVkZUVkZ2VzIixjKSl9ZmluYWxseXt0aGlzLm1vZGVsLmVuZFVwZGF0ZSgpfXJldHVybiBifTtteEdyYXBoLnByb3RvdHlwZS5jZWxsc1RvZ2dsZWQ9ZnVuY3Rpb24oYSxiKXtpZihudWxsIT1hJiYwPGEubGVuZ3RoKXt0aGlzLm1vZGVsLmJlZ2luVXBkYXRlKCk7dHJ5e2Zvcih2YXIgYz0wO2M8YS5sZW5ndGg7YysrKXRoaXMubW9kZWwuc2V0VmlzaWJsZShhW2NdLGIpfWZpbmFsbHl7dGhpcy5tb2RlbC5lbmRVcGRhdGUoKX19fTsKbXhHcmFwaC5wcm90b3R5cGUuZm9sZENlbGxzPWZ1bmN0aW9uKGEsYixjLGQsZSl7Yj1udWxsIT1iP2I6ITE7bnVsbD09YyYmKGM9dGhpcy5nZXRGb2xkYWJsZUNlbGxzKHRoaXMuZ2V0U2VsZWN0aW9uQ2VsbHMoKSxhKSk7dGhpcy5zdG9wRWRpdGluZyghMSk7dGhpcy5tb2RlbC5iZWdpblVwZGF0ZSgpO3RyeXt0aGlzLmNlbGxzRm9sZGVkKGMsYSxiLGQpLHRoaXMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KG14RXZlbnQuRk9MRF9DRUxMUywiY29sbGFwc2UiLGEsInJlY3Vyc2UiLGIsImNlbGxzIixjKSl9ZmluYWxseXt0aGlzLm1vZGVsLmVuZFVwZGF0ZSgpfXJldHVybiBjfTsKbXhHcmFwaC5wcm90b3R5cGUuY2VsbHNGb2xkZWQ9ZnVuY3Rpb24oYSxiLGMsZCl7aWYobnVsbCE9YSYmMDxhLmxlbmd0aCl7dGhpcy5tb2RlbC5iZWdpblVwZGF0ZSgpO3RyeXtmb3IodmFyIGU9MDtlPGEubGVuZ3RoO2UrKylpZigoIWR8fHRoaXMuaXNDZWxsRm9sZGFibGUoYVtlXSxiKSkmJmIhPXRoaXMuaXNDZWxsQ29sbGFwc2VkKGFbZV0pKXt0aGlzLm1vZGVsLnNldENvbGxhcHNlZChhW2VdLGIpO3RoaXMuc3dhcEJvdW5kcyhhW2VdLGIpO3RoaXMuaXNFeHRlbmRQYXJlbnQoYVtlXSkmJnRoaXMuZXh0ZW5kUGFyZW50KGFbZV0pO2lmKGMpe3ZhciBmPXRoaXMubW9kZWwuZ2V0Q2hpbGRyZW4oYVtlXSk7dGhpcy5jZWxsc0ZvbGRlZChmLGIsYyl9dGhpcy5jb25zdHJhaW5DaGlsZChhW2VdKX10aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LkNFTExTX0ZPTERFRCwiY2VsbHMiLGEsImNvbGxhcHNlIixiLCJyZWN1cnNlIixjKSl9ZmluYWxseXt0aGlzLm1vZGVsLmVuZFVwZGF0ZSgpfX19OwpteEdyYXBoLnByb3RvdHlwZS5zd2FwQm91bmRzPWZ1bmN0aW9uKGEsYil7aWYobnVsbCE9YSl7dmFyIGM9dGhpcy5tb2RlbC5nZXRHZW9tZXRyeShhKTtudWxsIT1jJiYoYz1jLmNsb25lKCksdGhpcy51cGRhdGVBbHRlcm5hdGVCb3VuZHMoYSxjLGIpLGMuc3dhcCgpLHRoaXMubW9kZWwuc2V0R2VvbWV0cnkoYSxjKSl9fTsKbXhHcmFwaC5wcm90b3R5cGUudXBkYXRlQWx0ZXJuYXRlQm91bmRzPWZ1bmN0aW9uKGEsYixjKXtpZihudWxsIT1hJiZudWxsIT1iKXtjPXRoaXMuZ2V0Q3VycmVudENlbGxTdHlsZShhKTtpZihudWxsPT1iLmFsdGVybmF0ZUJvdW5kcyl7dmFyIGQ9Yjt0aGlzLmNvbGxhcHNlVG9QcmVmZXJyZWRTaXplJiYoYT10aGlzLmdldFByZWZlcnJlZFNpemVGb3JDZWxsKGEpLG51bGwhPWEmJihkPWEsYT1teFV0aWxzLmdldFZhbHVlKGMsbXhDb25zdGFudHMuU1RZTEVfU1RBUlRTSVpFKSwwPGEmJihkLmhlaWdodD1NYXRoLm1heChkLmhlaWdodCxhKSkpKTtiLmFsdGVybmF0ZUJvdW5kcz1uZXcgbXhSZWN0YW5nbGUoMCwwLGQud2lkdGgsZC5oZWlnaHQpfWlmKG51bGwhPWIuYWx0ZXJuYXRlQm91bmRzKXtiLmFsdGVybmF0ZUJvdW5kcy54PWIueDtiLmFsdGVybmF0ZUJvdW5kcy55PWIueTt2YXIgZT1teFV0aWxzLnRvUmFkaWFucyhjW214Q29uc3RhbnRzLlNUWUxFX1JPVEFUSU9OXXx8MCk7CjAhPWUmJihjPWIuYWx0ZXJuYXRlQm91bmRzLmdldENlbnRlclgoKS1iLmdldENlbnRlclgoKSxkPWIuYWx0ZXJuYXRlQm91bmRzLmdldENlbnRlclkoKS1iLmdldENlbnRlclkoKSxhPU1hdGguY29zKGUpLGU9TWF0aC5zaW4oZSksYi5hbHRlcm5hdGVCb3VuZHMueCs9YSpjLWUqZC1jLGIuYWx0ZXJuYXRlQm91bmRzLnkrPWUqYythKmQtZCl9fX07bXhHcmFwaC5wcm90b3R5cGUuYWRkQWxsRWRnZXM9ZnVuY3Rpb24oYSl7dmFyIGI9YS5zbGljZSgpO3JldHVybiBteFV0aWxzLnJlbW92ZUR1cGxpY2F0ZXMoYi5jb25jYXQodGhpcy5nZXRBbGxFZGdlcyhhKSkpfTsKbXhHcmFwaC5wcm90b3R5cGUuZ2V0QWxsRWRnZXM9ZnVuY3Rpb24oYSl7dmFyIGI9W107aWYobnVsbCE9YSlmb3IodmFyIGM9MDtjPGEubGVuZ3RoO2MrKyl7Zm9yKHZhciBkPXRoaXMubW9kZWwuZ2V0RWRnZUNvdW50KGFbY10pLGU9MDtlPGQ7ZSsrKWIucHVzaCh0aGlzLm1vZGVsLmdldEVkZ2VBdChhW2NdLGUpKTtkPXRoaXMubW9kZWwuZ2V0Q2hpbGRyZW4oYVtjXSk7Yj1iLmNvbmNhdCh0aGlzLmdldEFsbEVkZ2VzKGQpKX1yZXR1cm4gYn07bXhHcmFwaC5wcm90b3R5cGUudXBkYXRlQ2VsbFNpemU9ZnVuY3Rpb24oYSxiKXtiPW51bGwhPWI/YjohMTt0aGlzLm1vZGVsLmJlZ2luVXBkYXRlKCk7dHJ5e3RoaXMuY2VsbFNpemVVcGRhdGVkKGEsYiksdGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5VUERBVEVfQ0VMTF9TSVpFLCJjZWxsIixhLCJpZ25vcmVDaGlsZHJlbiIsYikpfWZpbmFsbHl7dGhpcy5tb2RlbC5lbmRVcGRhdGUoKX1yZXR1cm4gYX07Cm14R3JhcGgucHJvdG90eXBlLmNlbGxTaXplVXBkYXRlZD1mdW5jdGlvbihhLGIpe2lmKG51bGwhPWEpe3RoaXMubW9kZWwuYmVnaW5VcGRhdGUoKTt0cnl7dmFyIGM9dGhpcy5nZXRQcmVmZXJyZWRTaXplRm9yQ2VsbChhKSxkPXRoaXMubW9kZWwuZ2V0R2VvbWV0cnkoYSk7aWYobnVsbCE9YyYmbnVsbCE9ZCl7dmFyIGU9dGhpcy5pc0NlbGxDb2xsYXBzZWQoYSksZD1kLmNsb25lKCk7aWYodGhpcy5pc1N3aW1sYW5lKGEpKXt2YXIgZj10aGlzLmdldENlbGxTdHlsZShhKSxnPXRoaXMubW9kZWwuZ2V0U3R5bGUoYSk7bnVsbD09ZyYmKGc9IiIpO214VXRpbHMuZ2V0VmFsdWUoZixteENvbnN0YW50cy5TVFlMRV9IT1JJWk9OVEFMLCEwKT8oZz1teFV0aWxzLnNldFN0eWxlKGcsbXhDb25zdGFudHMuU1RZTEVfU1RBUlRTSVpFLGMuaGVpZ2h0KzgpLGUmJihkLmhlaWdodD1jLmhlaWdodCs4KSxkLndpZHRoPWMud2lkdGgpOihnPW14VXRpbHMuc2V0U3R5bGUoZyxteENvbnN0YW50cy5TVFlMRV9TVEFSVFNJWkUsCmMud2lkdGgrOCksZSYmKGQud2lkdGg9Yy53aWR0aCs4KSxkLmhlaWdodD1jLmhlaWdodCk7dGhpcy5tb2RlbC5zZXRTdHlsZShhLGcpfWVsc2V7dmFyIGs9dGhpcy52aWV3LmNyZWF0ZVN0YXRlKGEpLGw9ay5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9BTElHTl18fG14Q29uc3RhbnRzLkFMSUdOX0NFTlRFUjtsPT1teENvbnN0YW50cy5BTElHTl9SSUdIVD9kLngrPWQud2lkdGgtYy53aWR0aDpsPT1teENvbnN0YW50cy5BTElHTl9DRU5URVImJihkLngrPU1hdGgucm91bmQoKGQud2lkdGgtYy53aWR0aCkvMikpO3ZhciBtPXRoaXMuZ2V0VmVydGljYWxBbGlnbihrKTttPT1teENvbnN0YW50cy5BTElHTl9CT1RUT00/ZC55Kz1kLmhlaWdodC1jLmhlaWdodDptPT1teENvbnN0YW50cy5BTElHTl9NSURETEUmJihkLnkrPU1hdGgucm91bmQoKGQuaGVpZ2h0LWMuaGVpZ2h0KS8yKSk7ZC53aWR0aD1jLndpZHRoO2QuaGVpZ2h0PWMuaGVpZ2h0fWlmKCFiJiYhZSl7dmFyIG49dGhpcy52aWV3LmdldEJvdW5kcyh0aGlzLm1vZGVsLmdldENoaWxkcmVuKGEpKTsKaWYobnVsbCE9bil7dmFyIHA9dGhpcy52aWV3LnRyYW5zbGF0ZSxxPXRoaXMudmlldy5zY2FsZSxyPShuLnkrbi5oZWlnaHQpL3EtZC55LXAueTtkLndpZHRoPU1hdGgubWF4KGQud2lkdGgsKG4ueCtuLndpZHRoKS9xLWQueC1wLngpO2QuaGVpZ2h0PU1hdGgubWF4KGQuaGVpZ2h0LHIpfX10aGlzLmNlbGxzUmVzaXplZChbYV0sW2RdLCExKX19ZmluYWxseXt0aGlzLm1vZGVsLmVuZFVwZGF0ZSgpfX19OwpteEdyYXBoLnByb3RvdHlwZS5nZXRQcmVmZXJyZWRTaXplRm9yQ2VsbD1mdW5jdGlvbihhLGIpe3ZhciBjPW51bGw7aWYobnVsbCE9YSl7dmFyIGQ9dGhpcy52aWV3LmNyZWF0ZVN0YXRlKGEpLGU9ZC5zdHlsZTtpZighdGhpcy5tb2RlbC5pc0VkZ2UoYSkpe3ZhciBmPWVbbXhDb25zdGFudHMuU1RZTEVfRk9OVFNJWkVdfHxteENvbnN0YW50cy5ERUZBVUxUX0ZPTlRTSVpFLGc9MCxjPTA7bnVsbD09dGhpcy5nZXRJbWFnZShkKSYmbnVsbD09ZVtteENvbnN0YW50cy5TVFlMRV9JTUFHRV18fGVbbXhDb25zdGFudHMuU1RZTEVfU0hBUEVdIT1teENvbnN0YW50cy5TSEFQRV9MQUJFTHx8KGVbbXhDb25zdGFudHMuU1RZTEVfVkVSVElDQUxfQUxJR05dPT1teENvbnN0YW50cy5BTElHTl9NSURETEUmJihnKz1wYXJzZUZsb2F0KGVbbXhDb25zdGFudHMuU1RZTEVfSU1BR0VfV0lEVEhdKXx8bXhMYWJlbC5wcm90b3R5cGUuaW1hZ2VTaXplKSxlW214Q29uc3RhbnRzLlNUWUxFX0FMSUdOXSE9Cm14Q29uc3RhbnRzLkFMSUdOX0NFTlRFUiYmKGMrPXBhcnNlRmxvYXQoZVtteENvbnN0YW50cy5TVFlMRV9JTUFHRV9IRUlHSFRdKXx8bXhMYWJlbC5wcm90b3R5cGUuaW1hZ2VTaXplKSk7dmFyIGc9ZysyKihlW214Q29uc3RhbnRzLlNUWUxFX1NQQUNJTkddfHwwKSxnPWcrKGVbbXhDb25zdGFudHMuU1RZTEVfU1BBQ0lOR19MRUZUXXx8MCksZz1nKyhlW214Q29uc3RhbnRzLlNUWUxFX1NQQUNJTkdfUklHSFRdfHwwKSxjPWMrMiooZVtteENvbnN0YW50cy5TVFlMRV9TUEFDSU5HXXx8MCksYz1jKyhlW214Q29uc3RhbnRzLlNUWUxFX1NQQUNJTkdfVE9QXXx8MCksYz1jKyhlW214Q29uc3RhbnRzLlNUWUxFX1NQQUNJTkdfQk9UVE9NXXx8MCksaz10aGlzLmdldEZvbGRpbmdJbWFnZShkKTtudWxsIT1rJiYoZys9ay53aWR0aCs4KTtrPXRoaXMuY2VsbFJlbmRlcmVyLmdldExhYmVsVmFsdWUoZCk7bnVsbCE9ayYmMDxrLmxlbmd0aD8odGhpcy5pc0h0bWxMYWJlbChkLmNlbGwpfHwoaz0KbXhVdGlscy5odG1sRW50aXRpZXMoaywhMSkpLGs9ay5yZXBsYWNlKC9cbi9nLCI8YnI+IiksZj1teFV0aWxzLmdldFNpemVGb3JTdHJpbmcoayxmLGVbbXhDb25zdGFudHMuU1RZTEVfRk9OVEZBTUlMWV0sYixlW214Q29uc3RhbnRzLlNUWUxFX0ZPTlRTVFlMRV0pLGQ9Zi53aWR0aCtnLGM9Zi5oZWlnaHQrYyxteFV0aWxzLmdldFZhbHVlKGUsbXhDb25zdGFudHMuU1RZTEVfSE9SSVpPTlRBTCwhMCl8fChlPWMsYz1kLGQ9ZSksdGhpcy5ncmlkRW5hYmxlZCYmKGQ9dGhpcy5zbmFwKGQrdGhpcy5ncmlkU2l6ZS8yKSxjPXRoaXMuc25hcChjK3RoaXMuZ3JpZFNpemUvMikpLGM9bmV3IG14UmVjdGFuZ2xlKDAsMCxkLGMpKTooZT00KnRoaXMuZ3JpZFNpemUsYz1uZXcgbXhSZWN0YW5nbGUoMCwwLGUsZSkpfX1yZXR1cm4gY307bXhHcmFwaC5wcm90b3R5cGUucmVzaXplQ2VsbD1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIHRoaXMucmVzaXplQ2VsbHMoW2FdLFtiXSxjKVswXX07Cm14R3JhcGgucHJvdG90eXBlLnJlc2l6ZUNlbGxzPWZ1bmN0aW9uKGEsYixjKXtjPW51bGwhPWM/Yzp0aGlzLmlzUmVjdXJzaXZlUmVzaXplKCk7dGhpcy5tb2RlbC5iZWdpblVwZGF0ZSgpO3RyeXt2YXIgZD10aGlzLmNlbGxzUmVzaXplZChhLGIsYyk7dGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5SRVNJWkVfQ0VMTFMsImNlbGxzIixhLCJib3VuZHMiLGIsInByZXZpb3VzIixkKSl9ZmluYWxseXt0aGlzLm1vZGVsLmVuZFVwZGF0ZSgpfXJldHVybiBhfTsKbXhHcmFwaC5wcm90b3R5cGUuY2VsbHNSZXNpemVkPWZ1bmN0aW9uKGEsYixjKXtjPW51bGwhPWM/YzohMTt2YXIgZD1bXTtpZihudWxsIT1hJiZudWxsIT1iJiZhLmxlbmd0aD09Yi5sZW5ndGgpe3RoaXMubW9kZWwuYmVnaW5VcGRhdGUoKTt0cnl7Zm9yKHZhciBlPTA7ZTxhLmxlbmd0aDtlKyspZC5wdXNoKHRoaXMuY2VsbFJlc2l6ZWQoYVtlXSxiW2VdLCExLGMpKSx0aGlzLmlzRXh0ZW5kUGFyZW50KGFbZV0pJiZ0aGlzLmV4dGVuZFBhcmVudChhW2VdKSx0aGlzLmNvbnN0cmFpbkNoaWxkKGFbZV0pO3RoaXMucmVzZXRFZGdlc09uUmVzaXplJiZ0aGlzLnJlc2V0RWRnZXMoYSk7dGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5DRUxMU19SRVNJWkVELCJjZWxscyIsYSwiYm91bmRzIixiLCJwcmV2aW91cyIsZCkpfWZpbmFsbHl7dGhpcy5tb2RlbC5lbmRVcGRhdGUoKX19cmV0dXJuIGR9OwpteEdyYXBoLnByb3RvdHlwZS5jZWxsUmVzaXplZD1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZT10aGlzLm1vZGVsLmdldEdlb21ldHJ5KGEpO2lmKG51bGwhPWUmJihlLnghPWIueHx8ZS55IT1iLnl8fGUud2lkdGghPWIud2lkdGh8fGUuaGVpZ2h0IT1iLmhlaWdodCkpe3ZhciBmPWUuY2xvbmUoKTshYyYmZi5yZWxhdGl2ZT8oYz1mLm9mZnNldCxudWxsIT1jJiYoYy54Kz1iLngtZi54LGMueSs9Yi55LWYueSkpOihmLng9Yi54LGYueT1iLnkpO2Yud2lkdGg9Yi53aWR0aDtmLmhlaWdodD1iLmhlaWdodDtmLnJlbGF0aXZlfHwhdGhpcy5tb2RlbC5pc1ZlcnRleChhKXx8dGhpcy5pc0FsbG93TmVnYXRpdmVDb29yZGluYXRlcygpfHwoZi54PU1hdGgubWF4KDAsZi54KSxmLnk9TWF0aC5tYXgoMCxmLnkpKTt0aGlzLm1vZGVsLmJlZ2luVXBkYXRlKCk7dHJ5e2QmJnRoaXMucmVzaXplQ2hpbGRDZWxscyhhLGYpLHRoaXMubW9kZWwuc2V0R2VvbWV0cnkoYSxmKSx0aGlzLmNvbnN0cmFpbkNoaWxkQ2VsbHMoYSl9ZmluYWxseXt0aGlzLm1vZGVsLmVuZFVwZGF0ZSgpfX1yZXR1cm4gZX07Cm14R3JhcGgucHJvdG90eXBlLnJlc2l6ZUNoaWxkQ2VsbHM9ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9dGhpcy5tb2RlbC5nZXRHZW9tZXRyeShhKSxkPWIud2lkdGgvYy53aWR0aCxjPWIuaGVpZ2h0L2MuaGVpZ2h0LGU9dGhpcy5tb2RlbC5nZXRDaGlsZENvdW50KGEpLGY9MDtmPGU7ZisrKXRoaXMuc2NhbGVDZWxsKHRoaXMubW9kZWwuZ2V0Q2hpbGRBdChhLGYpLGQsYywhMCl9O214R3JhcGgucHJvdG90eXBlLmNvbnN0cmFpbkNoaWxkQ2VsbHM9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPXRoaXMubW9kZWwuZ2V0Q2hpbGRDb3VudChhKSxjPTA7YzxiO2MrKyl0aGlzLmNvbnN0cmFpbkNoaWxkKHRoaXMubW9kZWwuZ2V0Q2hpbGRBdChhLGMpKX07Cm14R3JhcGgucHJvdG90eXBlLnNjYWxlQ2VsbD1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZT10aGlzLm1vZGVsLmdldEdlb21ldHJ5KGEpO2lmKG51bGwhPWUpe3ZhciBmPXRoaXMuZ2V0Q3VycmVudENlbGxTdHlsZShhKSxlPWUuY2xvbmUoKSxnPWUueCxrPWUueSxsPWUud2lkdGgsbT1lLmhlaWdodDtlLnNjYWxlKGIsYywiZml4ZWQiPT1mW214Q29uc3RhbnRzLlNUWUxFX0FTUEVDVF0pOyIxIj09ZltteENvbnN0YW50cy5TVFlMRV9SRVNJWkVfV0lEVEhdP2Uud2lkdGg9bCpiOiIwIj09ZltteENvbnN0YW50cy5TVFlMRV9SRVNJWkVfV0lEVEhdJiYoZS53aWR0aD1sKTsiMSI9PWZbbXhDb25zdGFudHMuU1RZTEVfUkVTSVpFX0hFSUdIVF0/ZS5oZWlnaHQ9bSpjOiIwIj09ZltteENvbnN0YW50cy5TVFlMRV9SRVNJWkVfSEVJR0hUXSYmKGUuaGVpZ2h0PW0pO3RoaXMuaXNDZWxsTW92YWJsZShhKXx8KGUueD1nLGUueT1rKTt0aGlzLmlzQ2VsbFJlc2l6YWJsZShhKXx8KGUud2lkdGg9bCwKZS5oZWlnaHQ9bSk7dGhpcy5tb2RlbC5pc1ZlcnRleChhKT90aGlzLmNlbGxSZXNpemVkKGEsZSwhMCxkKTp0aGlzLm1vZGVsLnNldEdlb21ldHJ5KGEsZSl9fTtteEdyYXBoLnByb3RvdHlwZS5leHRlbmRQYXJlbnQ9ZnVuY3Rpb24oYSl7aWYobnVsbCE9YSl7dmFyIGI9dGhpcy5tb2RlbC5nZXRQYXJlbnQoYSksYz10aGlzLmdldENlbGxHZW9tZXRyeShiKTtudWxsPT1ifHxudWxsPT1jfHx0aGlzLmlzQ2VsbENvbGxhcHNlZChiKXx8KGE9dGhpcy5nZXRDZWxsR2VvbWV0cnkoYSksbnVsbCE9YSYmIWEucmVsYXRpdmUmJihjLndpZHRoPGEueCthLndpZHRofHxjLmhlaWdodDxhLnkrYS5oZWlnaHQpJiYoYz1jLmNsb25lKCksYy53aWR0aD1NYXRoLm1heChjLndpZHRoLGEueCthLndpZHRoKSxjLmhlaWdodD1NYXRoLm1heChjLmhlaWdodCxhLnkrYS5oZWlnaHQpLHRoaXMuY2VsbHNSZXNpemVkKFtiXSxbY10sITEpKSl9fTsKbXhHcmFwaC5wcm90b3R5cGUuaW1wb3J0Q2VsbHM9ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe3JldHVybiB0aGlzLm1vdmVDZWxscyhhLGIsYywhMCxkLGUsZil9OwpteEdyYXBoLnByb3RvdHlwZS5tb3ZlQ2VsbHM9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyl7Yj1udWxsIT1iP2I6MDtjPW51bGwhPWM/YzowO2Q9bnVsbCE9ZD9kOiExO2lmKG51bGwhPWEmJigwIT1ifHwwIT1jfHxkfHxudWxsIT1lKSl7YT10aGlzLm1vZGVsLmdldFRvcG1vc3RDZWxscyhhKTt0aGlzLm1vZGVsLmJlZ2luVXBkYXRlKCk7dHJ5e2Zvcih2YXIgaz1uZXcgbXhEaWN0aW9uYXJ5LGw9MDtsPGEubGVuZ3RoO2wrKylrLnB1dChhW2xdLCEwKTtmb3IodmFyIG09bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7Zm9yKDtudWxsIT1hOyl7aWYoay5nZXQoYSkpcmV0dXJuITA7YT10aGlzLm1vZGVsLmdldFBhcmVudChhKX1yZXR1cm4hMX0pLG49W10sbD0wO2w8YS5sZW5ndGg7bCsrKXt2YXIgcD10aGlzLmdldENlbGxHZW9tZXRyeShhW2xdKSxxPXRoaXMubW9kZWwuZ2V0UGFyZW50KGFbbF0pO251bGwhPXAmJnAucmVsYXRpdmUmJnRoaXMubW9kZWwuaXNFZGdlKHEpJiYobSh0aGlzLm1vZGVsLmdldFRlcm1pbmFsKHEsCiEwKSl8fG0odGhpcy5tb2RlbC5nZXRUZXJtaW5hbChxLCExKSkpfHxuLnB1c2goYVtsXSl9YT1uO2QmJihhPXRoaXMuY2xvbmVDZWxscyhhLHRoaXMuaXNDbG9uZUludmFsaWRFZGdlcygpLGcpLG51bGw9PWUmJihlPXRoaXMuZ2V0RGVmYXVsdFBhcmVudCgpKSk7dmFyIHI9dGhpcy5pc0FsbG93TmVnYXRpdmVDb29yZGluYXRlcygpO251bGwhPWUmJnRoaXMuc2V0QWxsb3dOZWdhdGl2ZUNvb3JkaW5hdGVzKCEwKTt0aGlzLmNlbGxzTW92ZWQoYSxiLGMsIWQmJnRoaXMuaXNEaXNjb25uZWN0T25Nb3ZlKCkmJnRoaXMuaXNBbGxvd0RhbmdsaW5nRWRnZXMoKSxudWxsPT1lLHRoaXMuaXNFeHRlbmRQYXJlbnRzT25Nb3ZlKCkmJm51bGw9PWUpO3RoaXMuc2V0QWxsb3dOZWdhdGl2ZUNvb3JkaW5hdGVzKHIpO2lmKG51bGwhPWUpe3ZhciB0PXRoaXMubW9kZWwuZ2V0Q2hpbGRDb3VudChlKTt0aGlzLmNlbGxzQWRkZWQoYSxlLHQsbnVsbCxudWxsLCEwKX10aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50Lk1PVkVfQ0VMTFMsCiJjZWxscyIsYSwiZHgiLGIsImR5IixjLCJjbG9uZSIsZCwidGFyZ2V0IixlLCJldmVudCIsZikpfWZpbmFsbHl7dGhpcy5tb2RlbC5lbmRVcGRhdGUoKX19cmV0dXJuIGF9OwpteEdyYXBoLnByb3RvdHlwZS5jZWxsc01vdmVkPWZ1bmN0aW9uKGEsYixjLGQsZSxmKXtpZihudWxsIT1hJiYoMCE9Ynx8MCE9Yykpe2Y9bnVsbCE9Zj9mOiExO3RoaXMubW9kZWwuYmVnaW5VcGRhdGUoKTt0cnl7ZCYmdGhpcy5kaXNjb25uZWN0R3JhcGgoYSk7Zm9yKHZhciBnPTA7ZzxhLmxlbmd0aDtnKyspdGhpcy50cmFuc2xhdGVDZWxsKGFbZ10sYixjKSxmJiZ0aGlzLmlzRXh0ZW5kUGFyZW50KGFbZ10pP3RoaXMuZXh0ZW5kUGFyZW50KGFbZ10pOmUmJnRoaXMuY29uc3RyYWluQ2hpbGQoYVtnXSk7dGhpcy5yZXNldEVkZ2VzT25Nb3ZlJiZ0aGlzLnJlc2V0RWRnZXMoYSk7dGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5DRUxMU19NT1ZFRCwiY2VsbHMiLGEsImR4IixiLCJkeSIsYywiZGlzY29ubmVjdCIsZCkpfWZpbmFsbHl7dGhpcy5tb2RlbC5lbmRVcGRhdGUoKX19fTsKbXhHcmFwaC5wcm90b3R5cGUudHJhbnNsYXRlQ2VsbD1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcy5tb2RlbC5nZXRHZW9tZXRyeShhKTtpZihudWxsIT1kKXtiPXBhcnNlRmxvYXQoYik7Yz1wYXJzZUZsb2F0KGMpO2Q9ZC5jbG9uZSgpO2QudHJhbnNsYXRlKGIsYyk7ZC5yZWxhdGl2ZXx8IXRoaXMubW9kZWwuaXNWZXJ0ZXgoYSl8fHRoaXMuaXNBbGxvd05lZ2F0aXZlQ29vcmRpbmF0ZXMoKXx8KGQueD1NYXRoLm1heCgwLHBhcnNlRmxvYXQoZC54KSksZC55PU1hdGgubWF4KDAscGFyc2VGbG9hdChkLnkpKSk7aWYoZC5yZWxhdGl2ZSYmIXRoaXMubW9kZWwuaXNFZGdlKGEpKXt2YXIgZT10aGlzLm1vZGVsLmdldFBhcmVudChhKSxmPTA7dGhpcy5tb2RlbC5pc1ZlcnRleChlKSYmKGU9dGhpcy5nZXRDdXJyZW50Q2VsbFN0eWxlKGUpLGY9bXhVdGlscy5nZXRWYWx1ZShlLG14Q29uc3RhbnRzLlNUWUxFX1JPVEFUSU9OLDApKTswIT1mJiYoZj1teFV0aWxzLnRvUmFkaWFucygtZiksCmU9TWF0aC5jb3MoZiksZj1NYXRoLnNpbihmKSxjPW14VXRpbHMuZ2V0Um90YXRlZFBvaW50KG5ldyBteFBvaW50KGIsYyksZSxmLG5ldyBteFBvaW50KDAsMCkpLGI9Yy54LGM9Yy55KTtudWxsPT1kLm9mZnNldD9kLm9mZnNldD1uZXcgbXhQb2ludChiLGMpOihkLm9mZnNldC54PXBhcnNlRmxvYXQoZC5vZmZzZXQueCkrYixkLm9mZnNldC55PXBhcnNlRmxvYXQoZC5vZmZzZXQueSkrYyl9dGhpcy5tb2RlbC5zZXRHZW9tZXRyeShhLGQpfX07Cm14R3JhcGgucHJvdG90eXBlLmdldENlbGxDb250YWlubWVudEFyZWE9ZnVuY3Rpb24oYSl7aWYobnVsbCE9YSYmIXRoaXMubW9kZWwuaXNFZGdlKGEpKXt2YXIgYj10aGlzLm1vZGVsLmdldFBhcmVudChhKTtpZihudWxsIT1iJiZiIT10aGlzLmdldERlZmF1bHRQYXJlbnQoKSl7dmFyIGM9dGhpcy5tb2RlbC5nZXRHZW9tZXRyeShiKTtpZihudWxsIT1jKXt2YXIgZD1hPTAsZT1jLndpZHRoLGM9Yy5oZWlnaHQ7aWYodGhpcy5pc1N3aW1sYW5lKGIpKXt2YXIgZj10aGlzLmdldFN0YXJ0U2l6ZShiKSxnPXRoaXMuZ2V0Q3VycmVudENlbGxTdHlsZShiKSxiPW14VXRpbHMuZ2V0VmFsdWUoZyxteENvbnN0YW50cy5TVFlMRV9ESVJFQ1RJT04sbXhDb25zdGFudHMuRElSRUNUSU9OX0VBU1QpLGs9MT09bXhVdGlscy5nZXRWYWx1ZShnLG14Q29uc3RhbnRzLlNUWUxFX0ZMSVBILDApLGc9MT09bXhVdGlscy5nZXRWYWx1ZShnLG14Q29uc3RhbnRzLlNUWUxFX0ZMSVBWLDApO2lmKGI9PW14Q29uc3RhbnRzLkRJUkVDVElPTl9TT1VUSHx8CmI9PW14Q29uc3RhbnRzLkRJUkVDVElPTl9OT1JUSCl7dmFyIGw9Zi53aWR0aDtmLndpZHRoPWYuaGVpZ2h0O2YuaGVpZ2h0PWx9aWYoYj09bXhDb25zdGFudHMuRElSRUNUSU9OX0VBU1QmJiFnfHxiPT1teENvbnN0YW50cy5ESVJFQ1RJT05fTk9SVEgmJiFrfHxiPT1teENvbnN0YW50cy5ESVJFQ1RJT05fV0VTVCYmZ3x8Yj09bXhDb25zdGFudHMuRElSRUNUSU9OX1NPVVRIJiZrKWE9Zi53aWR0aCxkPWYuaGVpZ2h0O2UtPWYud2lkdGg7Yy09Zi5oZWlnaHR9cmV0dXJuIG5ldyBteFJlY3RhbmdsZShhLGQsZSxjKX19fXJldHVybiBudWxsfTtteEdyYXBoLnByb3RvdHlwZS5nZXRNYXhpbXVtR3JhcGhCb3VuZHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXhpbXVtR3JhcGhCb3VuZHN9OwpteEdyYXBoLnByb3RvdHlwZS5jb25zdHJhaW5DaGlsZD1mdW5jdGlvbihhLGIpe2lmKG51bGwhPWEpe3ZhciBjPXRoaXMuZ2V0Q2VsbEdlb21ldHJ5KGEpO2lmKG51bGwhPWMmJih0aGlzLmlzQ29uc3RyYWluUmVsYXRpdmVDaGlsZHJlbigpfHwhYy5yZWxhdGl2ZSkpe3ZhciBkPXRoaXMubW9kZWwuZ2V0UGFyZW50KGEpO3RoaXMuZ2V0Q2VsbEdlb21ldHJ5KGQpO3ZhciBlPXRoaXMuZ2V0TWF4aW11bUdyYXBoQm91bmRzKCk7bnVsbCE9ZSYmKGQ9dGhpcy5nZXRCb3VuZGluZ0JveEZyb21HZW9tZXRyeShbZF0sITEpLG51bGwhPWQmJihlPW14UmVjdGFuZ2xlLmZyb21SZWN0YW5nbGUoZSksZS54LT1kLngsZS55LT1kLnkpKTtpZih0aGlzLmlzQ29uc3RyYWluQ2hpbGQoYSkmJihkPXRoaXMuZ2V0Q2VsbENvbnRhaW5tZW50QXJlYShhKSxudWxsIT1kKSl7dmFyIGY9dGhpcy5nZXRPdmVybGFwKGEpOzA8ZiYmKGQ9bXhSZWN0YW5nbGUuZnJvbVJlY3RhbmdsZShkKSxkLngtPWQud2lkdGgqCmYsZC55LT1kLmhlaWdodCpmLGQud2lkdGgrPTIqZC53aWR0aCpmLGQuaGVpZ2h0Kz0yKmQuaGVpZ2h0KmYpO251bGw9PWU/ZT1kOihlPW14UmVjdGFuZ2xlLmZyb21SZWN0YW5nbGUoZSksZS5pbnRlcnNlY3QoZCkpfWlmKG51bGwhPWUpe2Q9W2FdO2lmKCF0aGlzLmlzQ2VsbENvbGxhcHNlZChhKSlmb3IodmFyIGY9dGhpcy5tb2RlbC5nZXREZXNjZW5kYW50cyhhKSxnPTA7ZzxmLmxlbmd0aDtnKyspdGhpcy5pc0NlbGxWaXNpYmxlKGZbZ10pJiZkLnB1c2goZltnXSk7ZD10aGlzLmdldEJvdW5kaW5nQm94RnJvbUdlb21ldHJ5KGQsITEpO2lmKG51bGwhPWQpe2M9Yy5jbG9uZSgpO2Y9MDtjLndpZHRoPmUud2lkdGgmJihmPWMud2lkdGgtZS53aWR0aCxjLndpZHRoLT1mKTtkLngrZC53aWR0aD5lLngrZS53aWR0aCYmKGYtPWQueCtkLndpZHRoLWUueC1lLndpZHRoLWYpO2c9MDtjLmhlaWdodD5lLmhlaWdodCYmKGc9Yy5oZWlnaHQtZS5oZWlnaHQsYy5oZWlnaHQtPWcpO2QueStkLmhlaWdodD4KZS55K2UuaGVpZ2h0JiYoZy09ZC55K2QuaGVpZ2h0LWUueS1lLmhlaWdodC1nKTtkLng8ZS54JiYoZi09ZC54LWUueCk7ZC55PGUueSYmKGctPWQueS1lLnkpO2lmKDAhPWZ8fDAhPWcpYy5yZWxhdGl2ZT8obnVsbD09Yy5vZmZzZXQmJihjLm9mZnNldD1uZXcgbXhQb2ludCksYy5vZmZzZXQueCs9ZixjLm9mZnNldC55Kz1nKTooYy54Kz1mLGMueSs9Zyk7dGhpcy5tb2RlbC5zZXRHZW9tZXRyeShhLGMpfX19fX07Cm14R3JhcGgucHJvdG90eXBlLnJlc2V0RWRnZXM9ZnVuY3Rpb24oYSl7aWYobnVsbCE9YSl7Zm9yKHZhciBiPW5ldyBteERpY3Rpb25hcnksYz0wO2M8YS5sZW5ndGg7YysrKWIucHV0KGFbY10sITApO3RoaXMubW9kZWwuYmVnaW5VcGRhdGUoKTt0cnl7Zm9yKGM9MDtjPGEubGVuZ3RoO2MrKyl7dmFyIGQ9dGhpcy5tb2RlbC5nZXRFZGdlcyhhW2NdKTtpZihudWxsIT1kKWZvcih2YXIgZT0wO2U8ZC5sZW5ndGg7ZSsrKXt2YXIgZj10aGlzLnZpZXcuZ2V0U3RhdGUoZFtlXSksZz1udWxsIT1mP2YuZ2V0VmlzaWJsZVRlcm1pbmFsKCEwKTp0aGlzLnZpZXcuZ2V0VmlzaWJsZVRlcm1pbmFsKGRbZV0sITApLGs9bnVsbCE9Zj9mLmdldFZpc2libGVUZXJtaW5hbCghMSk6dGhpcy52aWV3LmdldFZpc2libGVUZXJtaW5hbChkW2VdLCExKTtiLmdldChnKSYmYi5nZXQoayl8fHRoaXMucmVzZXRFZGdlKGRbZV0pfXRoaXMucmVzZXRFZGdlcyh0aGlzLm1vZGVsLmdldENoaWxkcmVuKGFbY10pKX19ZmluYWxseXt0aGlzLm1vZGVsLmVuZFVwZGF0ZSgpfX19OwpteEdyYXBoLnByb3RvdHlwZS5yZXNldEVkZ2U9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5tb2RlbC5nZXRHZW9tZXRyeShhKTtudWxsIT1iJiZudWxsIT1iLnBvaW50cyYmMDxiLnBvaW50cy5sZW5ndGgmJihiPWIuY2xvbmUoKSxiLnBvaW50cz1bXSx0aGlzLm1vZGVsLnNldEdlb21ldHJ5KGEsYikpO3JldHVybiBhfTsKbXhHcmFwaC5wcm90b3R5cGUuZ2V0T3V0bGluZUNvbnN0cmFpbnQ9ZnVuY3Rpb24oYSxiLGMpe2lmKG51bGwhPWIuc2hhcGUpe2M9dGhpcy52aWV3LmdldFBlcmltZXRlckJvdW5kcyhiKTt2YXIgZD1iLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX0RJUkVDVElPTl07aWYoZD09bXhDb25zdGFudHMuRElSRUNUSU9OX05PUlRIfHxkPT1teENvbnN0YW50cy5ESVJFQ1RJT05fU09VVEgpe2MueCs9Yy53aWR0aC8yLWMuaGVpZ2h0LzI7Yy55Kz1jLmhlaWdodC8yLWMud2lkdGgvMjt2YXIgZT1jLndpZHRoO2Mud2lkdGg9Yy5oZWlnaHQ7Yy5oZWlnaHQ9ZX12YXIgZj1teFV0aWxzLnRvUmFkaWFucyhiLnNoYXBlLmdldFNoYXBlUm90YXRpb24oKSk7aWYoMCE9Zil7dmFyIGU9TWF0aC5jb3MoLWYpLGY9TWF0aC5zaW4oLWYpLGc9bmV3IG14UG9pbnQoYy5nZXRDZW50ZXJYKCksYy5nZXRDZW50ZXJZKCkpO2E9bXhVdGlscy5nZXRSb3RhdGVkUG9pbnQoYSxlLGYsZyl9dmFyIGc9Zj0xLGs9MCxsPQowO2lmKHRoaXMuZ2V0TW9kZWwoKS5pc1ZlcnRleChiLmNlbGwpKXt2YXIgbT1iLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX0ZMSVBIXSxuPWIuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfRkxJUFZdO251bGwhPWIuc2hhcGUmJm51bGwhPWIuc2hhcGUuc3RlbmNpbCYmKG09MT09bXhVdGlscy5nZXRWYWx1ZShiLnN0eWxlLCJzdGVuY2lsRmxpcEgiLDApfHxtLG49MT09bXhVdGlscy5nZXRWYWx1ZShiLnN0eWxlLCJzdGVuY2lsRmxpcFYiLDApfHxuKTtpZihkPT1teENvbnN0YW50cy5ESVJFQ1RJT05fTk9SVEh8fGQ9PW14Q29uc3RhbnRzLkRJUkVDVElPTl9TT1VUSCllPW0sbT1uLG49ZTttJiYoZj0tMSxrPS1jLndpZHRoKTtuJiYoZz0tMSxsPS1jLmhlaWdodCl9YT1uZXcgbXhQb2ludCgoYS54LWMueCkqZi1rK2MueCwoYS55LWMueSkqZy1sK2MueSk7cmV0dXJuIG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDA9PWMud2lkdGg/MDpNYXRoLnJvdW5kKDFFMyoKKGEueC1jLngpL2Mud2lkdGgpLzFFMywwPT1jLmhlaWdodD8wOk1hdGgucm91bmQoMUUzKihhLnktYy55KS9jLmhlaWdodCkvMUUzKSwhMSl9cmV0dXJuIG51bGx9O214R3JhcGgucHJvdG90eXBlLmdldEFsbENvbm5lY3Rpb25Db25zdHJhaW50cz1mdW5jdGlvbihhLGIpe3JldHVybiBudWxsIT1hJiZudWxsIT1hLnNoYXBlJiZudWxsIT1hLnNoYXBlLnN0ZW5jaWw/YS5zaGFwZS5zdGVuY2lsLmNvbnN0cmFpbnRzOm51bGx9OwpteEdyYXBoLnByb3RvdHlwZS5nZXRDb25uZWN0aW9uQ29uc3RyYWludD1mdW5jdGlvbihhLGIsYyl7Yj1udWxsO3ZhciBkPWEuc3R5bGVbYz9teENvbnN0YW50cy5TVFlMRV9FWElUX1g6bXhDb25zdGFudHMuU1RZTEVfRU5UUllfWF07aWYobnVsbCE9ZCl7dmFyIGU9YS5zdHlsZVtjP214Q29uc3RhbnRzLlNUWUxFX0VYSVRfWTpteENvbnN0YW50cy5TVFlMRV9FTlRSWV9ZXTtudWxsIT1lJiYoYj1uZXcgbXhQb2ludChwYXJzZUZsb2F0KGQpLHBhcnNlRmxvYXQoZSkpKX12YXIgZD0hMSxmPWU9MDtudWxsIT1iJiYoZD1teFV0aWxzLmdldFZhbHVlKGEuc3R5bGUsYz9teENvbnN0YW50cy5TVFlMRV9FWElUX1BFUklNRVRFUjpteENvbnN0YW50cy5TVFlMRV9FTlRSWV9QRVJJTUVURVIsITApLGU9cGFyc2VGbG9hdChhLnN0eWxlW2M/bXhDb25zdGFudHMuU1RZTEVfRVhJVF9EWDpteENvbnN0YW50cy5TVFlMRV9FTlRSWV9EWF0pLGY9cGFyc2VGbG9hdChhLnN0eWxlW2M/bXhDb25zdGFudHMuU1RZTEVfRVhJVF9EWToKbXhDb25zdGFudHMuU1RZTEVfRU5UUllfRFldKSxlPWlzRmluaXRlKGUpP2U6MCxmPWlzRmluaXRlKGYpP2Y6MCk7cmV0dXJuIG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KGIsZCxudWxsLGUsZil9OwpteEdyYXBoLnByb3RvdHlwZS5zZXRDb25uZWN0aW9uQ29uc3RyYWludD1mdW5jdGlvbihhLGIsYyxkKXtpZihudWxsIT1kKXt0aGlzLm1vZGVsLmJlZ2luVXBkYXRlKCk7dHJ5e251bGw9PWR8fG51bGw9PWQucG9pbnQ/KHRoaXMuc2V0Q2VsbFN0eWxlcyhjP214Q29uc3RhbnRzLlNUWUxFX0VYSVRfWDpteENvbnN0YW50cy5TVFlMRV9FTlRSWV9YLG51bGwsW2FdKSx0aGlzLnNldENlbGxTdHlsZXMoYz9teENvbnN0YW50cy5TVFlMRV9FWElUX1k6bXhDb25zdGFudHMuU1RZTEVfRU5UUllfWSxudWxsLFthXSksdGhpcy5zZXRDZWxsU3R5bGVzKGM/bXhDb25zdGFudHMuU1RZTEVfRVhJVF9EWDpteENvbnN0YW50cy5TVFlMRV9FTlRSWV9EWCxudWxsLFthXSksdGhpcy5zZXRDZWxsU3R5bGVzKGM/bXhDb25zdGFudHMuU1RZTEVfRVhJVF9EWTpteENvbnN0YW50cy5TVFlMRV9FTlRSWV9EWSxudWxsLFthXSksdGhpcy5zZXRDZWxsU3R5bGVzKGM/bXhDb25zdGFudHMuU1RZTEVfRVhJVF9QRVJJTUVURVI6Cm14Q29uc3RhbnRzLlNUWUxFX0VOVFJZX1BFUklNRVRFUixudWxsLFthXSkpOm51bGwhPWQucG9pbnQmJih0aGlzLnNldENlbGxTdHlsZXMoYz9teENvbnN0YW50cy5TVFlMRV9FWElUX1g6bXhDb25zdGFudHMuU1RZTEVfRU5UUllfWCxkLnBvaW50LngsW2FdKSx0aGlzLnNldENlbGxTdHlsZXMoYz9teENvbnN0YW50cy5TVFlMRV9FWElUX1k6bXhDb25zdGFudHMuU1RZTEVfRU5UUllfWSxkLnBvaW50LnksW2FdKSx0aGlzLnNldENlbGxTdHlsZXMoYz9teENvbnN0YW50cy5TVFlMRV9FWElUX0RYOm14Q29uc3RhbnRzLlNUWUxFX0VOVFJZX0RYLGQuZHgsW2FdKSx0aGlzLnNldENlbGxTdHlsZXMoYz9teENvbnN0YW50cy5TVFlMRV9FWElUX0RZOm14Q29uc3RhbnRzLlNUWUxFX0VOVFJZX0RZLGQuZHksW2FdKSxkLnBlcmltZXRlcj90aGlzLnNldENlbGxTdHlsZXMoYz9teENvbnN0YW50cy5TVFlMRV9FWElUX1BFUklNRVRFUjpteENvbnN0YW50cy5TVFlMRV9FTlRSWV9QRVJJTUVURVIsCm51bGwsW2FdKTp0aGlzLnNldENlbGxTdHlsZXMoYz9teENvbnN0YW50cy5TVFlMRV9FWElUX1BFUklNRVRFUjpteENvbnN0YW50cy5TVFlMRV9FTlRSWV9QRVJJTUVURVIsIjAiLFthXSkpfWZpbmFsbHl7dGhpcy5tb2RlbC5lbmRVcGRhdGUoKX19fTsKbXhHcmFwaC5wcm90b3R5cGUuZ2V0Q29ubmVjdGlvblBvaW50PWZ1bmN0aW9uKGEsYixjKXtjPW51bGwhPWM/YzohMDt2YXIgZD1udWxsO2lmKG51bGwhPWEmJm51bGwhPWIucG9pbnQpe3ZhciBlPXRoaXMudmlldy5nZXRQZXJpbWV0ZXJCb3VuZHMoYSksZj1uZXcgbXhQb2ludChlLmdldENlbnRlclgoKSxlLmdldENlbnRlclkoKSksZz1hLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX0RJUkVDVElPTl0saz0wO251bGwhPWcmJjE9PW14VXRpbHMuZ2V0VmFsdWUoYS5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9BTkNIT1JfUE9JTlRfRElSRUNUSU9OLDEpJiYoZz09bXhDb25zdGFudHMuRElSRUNUSU9OX05PUlRIP2srPTI3MDpnPT1teENvbnN0YW50cy5ESVJFQ1RJT05fV0VTVD9rKz0xODA6Zz09bXhDb25zdGFudHMuRElSRUNUSU9OX1NPVVRIJiYoays9OTApLGchPW14Q29uc3RhbnRzLkRJUkVDVElPTl9OT1JUSCYmZyE9bXhDb25zdGFudHMuRElSRUNUSU9OX1NPVVRIfHxlLnJvdGF0ZTkwKCkpOwp2YXIgZD10aGlzLnZpZXcuc2NhbGUsZD1uZXcgbXhQb2ludChlLngrYi5wb2ludC54KmUud2lkdGgrYi5keCpkLGUueStiLnBvaW50LnkqZS5oZWlnaHQrYi5keSpkKSxsPWEuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfUk9UQVRJT05dfHwwO2lmKGIucGVyaW1ldGVyKTAhPWsmJihnPWU9MCw5MD09az9nPTE6MTgwPT1rP2U9LTE6MjcwPT1rJiYoZz0tMSksZD1teFV0aWxzLmdldFJvdGF0ZWRQb2ludChkLGUsZyxmKSksZD10aGlzLnZpZXcuZ2V0UGVyaW1ldGVyUG9pbnQoYSxkLCExKTtlbHNlIGlmKGwrPWssdGhpcy5nZXRNb2RlbCgpLmlzVmVydGV4KGEuY2VsbCkpe2s9MT09YS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9GTElQSF07Yj0xPT1hLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX0ZMSVBWXTtudWxsIT1hLnNoYXBlJiZudWxsIT1hLnNoYXBlLnN0ZW5jaWwmJihrPTE9PW14VXRpbHMuZ2V0VmFsdWUoYS5zdHlsZSwic3RlbmNpbEZsaXBIIiwwKXx8ayxiPTE9PW14VXRpbHMuZ2V0VmFsdWUoYS5zdHlsZSwKInN0ZW5jaWxGbGlwViIsMCl8fGIpO2lmKGc9PW14Q29uc3RhbnRzLkRJUkVDVElPTl9OT1JUSHx8Zz09bXhDb25zdGFudHMuRElSRUNUSU9OX1NPVVRIKWE9ayxrPWIsYj1hO2smJihkLng9MiplLmdldENlbnRlclgoKS1kLngpO2ImJihkLnk9MiplLmdldENlbnRlclkoKS1kLnkpfTAhPWwmJm51bGwhPWQmJihhPW14VXRpbHMudG9SYWRpYW5zKGwpLGU9TWF0aC5jb3MoYSksZz1NYXRoLnNpbihhKSxkPW14VXRpbHMuZ2V0Um90YXRlZFBvaW50KGQsZSxnLGYpKX1jJiZudWxsIT1kJiYoZC54PU1hdGgucm91bmQoZC54KSxkLnk9TWF0aC5yb3VuZChkLnkpKTtyZXR1cm4gZH07Cm14R3JhcGgucHJvdG90eXBlLmNvbm5lY3RDZWxsPWZ1bmN0aW9uKGEsYixjLGQpe3RoaXMubW9kZWwuYmVnaW5VcGRhdGUoKTt0cnl7dmFyIGU9dGhpcy5tb2RlbC5nZXRUZXJtaW5hbChhLGMpO3RoaXMuY2VsbENvbm5lY3RlZChhLGIsYyxkKTt0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LkNPTk5FQ1RfQ0VMTCwiZWRnZSIsYSwidGVybWluYWwiLGIsInNvdXJjZSIsYywicHJldmlvdXMiLGUpKX1maW5hbGx5e3RoaXMubW9kZWwuZW5kVXBkYXRlKCl9cmV0dXJuIGF9OwpteEdyYXBoLnByb3RvdHlwZS5jZWxsQ29ubmVjdGVkPWZ1bmN0aW9uKGEsYixjLGQpe2lmKG51bGwhPWEpe3RoaXMubW9kZWwuYmVnaW5VcGRhdGUoKTt0cnl7dmFyIGU9dGhpcy5tb2RlbC5nZXRUZXJtaW5hbChhLGMpO3RoaXMuc2V0Q29ubmVjdGlvbkNvbnN0cmFpbnQoYSxiLGMsZCk7dGhpcy5pc1BvcnRzRW5hYmxlZCgpJiYoZD1udWxsLHRoaXMuaXNQb3J0KGIpJiYoZD1iLmdldElkKCksYj10aGlzLmdldFRlcm1pbmFsRm9yUG9ydChiLGMpKSx0aGlzLnNldENlbGxTdHlsZXMoYz9teENvbnN0YW50cy5TVFlMRV9TT1VSQ0VfUE9SVDpteENvbnN0YW50cy5TVFlMRV9UQVJHRVRfUE9SVCxkLFthXSkpO3RoaXMubW9kZWwuc2V0VGVybWluYWwoYSxiLGMpO3RoaXMucmVzZXRFZGdlc09uQ29ubmVjdCYmdGhpcy5yZXNldEVkZ2UoYSk7dGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5DRUxMX0NPTk5FQ1RFRCwiZWRnZSIsYSwidGVybWluYWwiLGIsInNvdXJjZSIsCmMsInByZXZpb3VzIixlKSl9ZmluYWxseXt0aGlzLm1vZGVsLmVuZFVwZGF0ZSgpfX19OwpteEdyYXBoLnByb3RvdHlwZS5kaXNjb25uZWN0R3JhcGg9ZnVuY3Rpb24oYSl7aWYobnVsbCE9YSl7dGhpcy5tb2RlbC5iZWdpblVwZGF0ZSgpO3RyeXtmb3IodmFyIGI9dGhpcy52aWV3LnNjYWxlLGM9dGhpcy52aWV3LnRyYW5zbGF0ZSxkPW5ldyBteERpY3Rpb25hcnksZT0wO2U8YS5sZW5ndGg7ZSsrKWQucHV0KGFbZV0sITApO2ZvcihlPTA7ZTxhLmxlbmd0aDtlKyspaWYodGhpcy5tb2RlbC5pc0VkZ2UoYVtlXSkpe3ZhciBmPXRoaXMubW9kZWwuZ2V0R2VvbWV0cnkoYVtlXSk7aWYobnVsbCE9Zil7dmFyIGc9dGhpcy52aWV3LmdldFN0YXRlKGFbZV0pLGs9dGhpcy52aWV3LmdldFN0YXRlKHRoaXMubW9kZWwuZ2V0UGFyZW50KGFbZV0pKTtpZihudWxsIT1nJiZudWxsIT1rKXt2YXIgZj1mLmNsb25lKCksbD0tay5vcmlnaW4ueCxtPS1rLm9yaWdpbi55LG49Zy5hYnNvbHV0ZVBvaW50cyxwPXRoaXMubW9kZWwuZ2V0VGVybWluYWwoYVtlXSwhMCk7aWYobnVsbCE9cCYmdGhpcy5pc0NlbGxEaXNjb25uZWN0YWJsZShhW2VdLApwLCEwKSl7Zm9yKDtudWxsIT1wJiYhZC5nZXQocCk7KXA9dGhpcy5tb2RlbC5nZXRQYXJlbnQocCk7bnVsbD09cCYmKGYuc2V0VGVybWluYWxQb2ludChuZXcgbXhQb2ludChuWzBdLngvYi1jLngrbCxuWzBdLnkvYi1jLnkrbSksITApLHRoaXMubW9kZWwuc2V0VGVybWluYWwoYVtlXSxudWxsLCEwKSl9dmFyIHE9dGhpcy5tb2RlbC5nZXRUZXJtaW5hbChhW2VdLCExKTtpZihudWxsIT1xJiZ0aGlzLmlzQ2VsbERpc2Nvbm5lY3RhYmxlKGFbZV0scSwhMSkpe2Zvcig7bnVsbCE9cSYmIWQuZ2V0KHEpOylxPXRoaXMubW9kZWwuZ2V0UGFyZW50KHEpO2lmKG51bGw9PXEpe3ZhciByPW4ubGVuZ3RoLTE7Zi5zZXRUZXJtaW5hbFBvaW50KG5ldyBteFBvaW50KG5bcl0ueC9iLWMueCtsLG5bcl0ueS9iLWMueSttKSwhMSk7dGhpcy5tb2RlbC5zZXRUZXJtaW5hbChhW2VdLG51bGwsITEpfX10aGlzLm1vZGVsLnNldEdlb21ldHJ5KGFbZV0sZil9fX19ZmluYWxseXt0aGlzLm1vZGVsLmVuZFVwZGF0ZSgpfX19OwpteEdyYXBoLnByb3RvdHlwZS5nZXRDdXJyZW50Um9vdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnZpZXcuY3VycmVudFJvb3R9O214R3JhcGgucHJvdG90eXBlLmdldFRyYW5zbGF0ZUZvclJvb3Q9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGx9O214R3JhcGgucHJvdG90eXBlLmlzUG9ydD1mdW5jdGlvbihhKXtyZXR1cm4hMX07bXhHcmFwaC5wcm90b3R5cGUuZ2V0VGVybWluYWxGb3JQb3J0PWZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMubW9kZWwuZ2V0UGFyZW50KGEpfTtteEdyYXBoLnByb3RvdHlwZS5nZXRDaGlsZE9mZnNldEZvckNlbGw9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGx9O214R3JhcGgucHJvdG90eXBlLmVudGVyR3JvdXA9ZnVuY3Rpb24oYSl7YT1hfHx0aGlzLmdldFNlbGVjdGlvbkNlbGwoKTtudWxsIT1hJiZ0aGlzLmlzVmFsaWRSb290KGEpJiYodGhpcy52aWV3LnNldEN1cnJlbnRSb290KGEpLHRoaXMuY2xlYXJTZWxlY3Rpb24oKSl9OwpteEdyYXBoLnByb3RvdHlwZS5leGl0R3JvdXA9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm1vZGVsLmdldFJvb3QoKSxiPXRoaXMuZ2V0Q3VycmVudFJvb3QoKTtpZihudWxsIT1iKXtmb3IodmFyIGM9dGhpcy5tb2RlbC5nZXRQYXJlbnQoYik7YyE9YSYmIXRoaXMuaXNWYWxpZFJvb3QoYykmJnRoaXMubW9kZWwuZ2V0UGFyZW50KGMpIT1hOyljPXRoaXMubW9kZWwuZ2V0UGFyZW50KGMpO2M9PWF8fHRoaXMubW9kZWwuZ2V0UGFyZW50KGMpPT1hP3RoaXMudmlldy5zZXRDdXJyZW50Um9vdChudWxsKTp0aGlzLnZpZXcuc2V0Q3VycmVudFJvb3QoYyk7bnVsbCE9dGhpcy52aWV3LmdldFN0YXRlKGIpJiZ0aGlzLnNldFNlbGVjdGlvbkNlbGwoYil9fTtteEdyYXBoLnByb3RvdHlwZS5ob21lPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXRDdXJyZW50Um9vdCgpO251bGwhPWEmJih0aGlzLnZpZXcuc2V0Q3VycmVudFJvb3QobnVsbCksbnVsbCE9dGhpcy52aWV3LmdldFN0YXRlKGEpJiZ0aGlzLnNldFNlbGVjdGlvbkNlbGwoYSkpfTsKbXhHcmFwaC5wcm90b3R5cGUuaXNWYWxpZFJvb3Q9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPWF9O214R3JhcGgucHJvdG90eXBlLmdldEdyYXBoQm91bmRzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmlldy5nZXRHcmFwaEJvdW5kcygpfTtteEdyYXBoLnByb3RvdHlwZS5nZXRDZWxsQm91bmRzPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1bYV07YiYmKGQ9ZC5jb25jYXQodGhpcy5tb2RlbC5nZXRFZGdlcyhhKSkpO2Q9dGhpcy52aWV3LmdldEJvdW5kcyhkKTtpZihjKXtjPXRoaXMubW9kZWwuZ2V0Q2hpbGRDb3VudChhKTtmb3IodmFyIGU9MDtlPGM7ZSsrKXt2YXIgZj10aGlzLmdldENlbGxCb3VuZHModGhpcy5tb2RlbC5nZXRDaGlsZEF0KGEsZSksYiwhMCk7bnVsbCE9ZD9kLmFkZChmKTpkPWZ9fXJldHVybiBkfTsKbXhHcmFwaC5wcm90b3R5cGUuZ2V0Qm91bmRpbmdCb3hGcm9tR2VvbWV0cnk9ZnVuY3Rpb24oYSxiKXtiPW51bGwhPWI/YjohMTt2YXIgYz1udWxsO2lmKG51bGwhPWEpZm9yKHZhciBkPTA7ZDxhLmxlbmd0aDtkKyspaWYoYnx8dGhpcy5tb2RlbC5pc1ZlcnRleChhW2RdKSl7dmFyIGU9dGhpcy5nZXRDZWxsR2VvbWV0cnkoYVtkXSk7aWYobnVsbCE9ZSl7dmFyIGY9bnVsbDtpZih0aGlzLm1vZGVsLmlzRWRnZShhW2RdKSl7Zj1mdW5jdGlvbihhKXtudWxsIT1hJiYobnVsbD09Zz9nPW5ldyBteFJlY3RhbmdsZShhLngsYS55LDAsMCk6Zy5hZGQobmV3IG14UmVjdGFuZ2xlKGEueCxhLnksMCwwKSkpfTtudWxsPT10aGlzLm1vZGVsLmdldFRlcm1pbmFsKGFbZF0sITApJiZmKGUuZ2V0VGVybWluYWxQb2ludCghMCkpO251bGw9PXRoaXMubW9kZWwuZ2V0VGVybWluYWwoYVtkXSwhMSkmJmYoZS5nZXRUZXJtaW5hbFBvaW50KCExKSk7ZT1lLnBvaW50cztpZihudWxsIT1lJiYwPGUubGVuZ3RoKWZvcih2YXIgZz0KbmV3IG14UmVjdGFuZ2xlKGVbMF0ueCxlWzBdLnksMCwwKSxrPTE7azxlLmxlbmd0aDtrKyspZihlW2tdKTtmPWd9ZWxzZSBrPXRoaXMubW9kZWwuZ2V0UGFyZW50KGFbZF0pLGUucmVsYXRpdmU/dGhpcy5tb2RlbC5pc1ZlcnRleChrKSYmayE9dGhpcy52aWV3LmN1cnJlbnRSb290JiYoZz10aGlzLmdldEJvdW5kaW5nQm94RnJvbUdlb21ldHJ5KFtrXSwhMSksbnVsbCE9ZyYmKGY9bmV3IG14UmVjdGFuZ2xlKGUueCpnLndpZHRoLGUueSpnLmhlaWdodCxlLndpZHRoLGUuaGVpZ2h0KSwwPD1teFV0aWxzLmluZGV4T2YoYSxrKSYmKGYueCs9Zy54LGYueSs9Zy55KSkpOihmPW14UmVjdGFuZ2xlLmZyb21SZWN0YW5nbGUoZSksdGhpcy5tb2RlbC5pc1ZlcnRleChrKSYmMDw9bXhVdGlscy5pbmRleE9mKGEsaykmJihnPXRoaXMuZ2V0Qm91bmRpbmdCb3hGcm9tR2VvbWV0cnkoW2tdLCExKSxudWxsIT1nJiYoZi54Kz1nLngsZi55Kz1nLnkpKSksbnVsbCE9ZiYmbnVsbCE9ZS5vZmZzZXQmJgooZi54Kz1lLm9mZnNldC54LGYueSs9ZS5vZmZzZXQueSksZT10aGlzLmdldEN1cnJlbnRDZWxsU3R5bGUoYVtkXSksbnVsbCE9ZiYmKGU9bXhVdGlscy5nZXRWYWx1ZShlLG14Q29uc3RhbnRzLlNUWUxFX1JPVEFUSU9OLDApLDAhPWUmJihmPW14VXRpbHMuZ2V0Qm91bmRpbmdCb3goZixlKSkpO251bGwhPWYmJihudWxsPT1jP2M9bXhSZWN0YW5nbGUuZnJvbVJlY3RhbmdsZShmKTpjLmFkZChmKSl9fXJldHVybiBjfTtteEdyYXBoLnByb3RvdHlwZS5yZWZyZXNoPWZ1bmN0aW9uKGEpe3RoaXMudmlldy5jbGVhcihhLG51bGw9PWEpO3RoaXMudmlldy52YWxpZGF0ZSgpO3RoaXMuc2l6ZURpZENoYW5nZSgpO3RoaXMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KG14RXZlbnQuUkVGUkVTSCkpfTtteEdyYXBoLnByb3RvdHlwZS5zbmFwPWZ1bmN0aW9uKGEpe3RoaXMuZ3JpZEVuYWJsZWQmJihhPU1hdGgucm91bmQoYS90aGlzLmdyaWRTaXplKSp0aGlzLmdyaWRTaXplKTtyZXR1cm4gYX07Cm14R3JhcGgucHJvdG90eXBlLnNuYXBEZWx0YT1mdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmPXRoaXMudmlldy50cmFuc2xhdGUsZz10aGlzLnZpZXcuc2NhbGU7IWMmJnRoaXMuZ3JpZEVuYWJsZWQ/KGM9dGhpcy5ncmlkU2l6ZSpnKi41LGR8fChkPWIueC0odGhpcy5zbmFwKGIueC9nLWYueCkrZi54KSpnLGEueD1NYXRoLmFicyhhLngtZCk8Yz8wOnRoaXMuc25hcChhLngvZykqZy1kKSxlfHwoYj1iLnktKHRoaXMuc25hcChiLnkvZy1mLnkpK2YueSkqZyxhLnk9TWF0aC5hYnMoYS55LWIpPGM/MDp0aGlzLnNuYXAoYS55L2cpKmctYikpOihjPS41KmcsZHx8KGQ9Yi54LShNYXRoLnJvdW5kKGIueC9nLWYueCkrZi54KSpnLGEueD1NYXRoLmFicyhhLngtZCk8Yz8wOk1hdGgucm91bmQoYS54L2cpKmctZCksZXx8KGI9Yi55LShNYXRoLnJvdW5kKGIueS9nLWYueSkrZi55KSpnLGEueT1NYXRoLmFicyhhLnktYik8Yz8wOk1hdGgucm91bmQoYS55L2cpKmctYikpO3JldHVybiBhfTsKbXhHcmFwaC5wcm90b3R5cGUucGFuR3JhcGg9ZnVuY3Rpb24oYSxiKXtpZih0aGlzLnVzZVNjcm9sbGJhcnNGb3JQYW5uaW5nJiZteFV0aWxzLmhhc1Njcm9sbGJhcnModGhpcy5jb250YWluZXIpKXRoaXMuY29udGFpbmVyLnNjcm9sbExlZnQ9LWEsdGhpcy5jb250YWluZXIuc2Nyb2xsVG9wPS1iO2Vsc2V7dmFyIGM9dGhpcy52aWV3LmdldENhbnZhcygpO2lmKHRoaXMuZGlhbGVjdD09bXhDb25zdGFudHMuRElBTEVDVF9TVkcpaWYoMD09YSYmMD09Yil7aWYobXhDbGllbnQuSVNfSUU/Yy5zZXRBdHRyaWJ1dGUoInRyYW5zZm9ybSIsInRyYW5zbGF0ZSgiK2ErIiwiK2IrIikiKTpjLnJlbW92ZUF0dHJpYnV0ZSgidHJhbnNmb3JtIiksbnVsbCE9dGhpcy5zaGlmdFByZXZpZXcxKXtmb3IodmFyIGQ9dGhpcy5zaGlmdFByZXZpZXcxLmZpcnN0Q2hpbGQ7bnVsbCE9ZDspe3ZhciBlPWQubmV4dFNpYmxpbmc7dGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQoZCk7ZD1lfW51bGwhPXRoaXMuc2hpZnRQcmV2aWV3MS5wYXJlbnROb2RlJiYKdGhpcy5zaGlmdFByZXZpZXcxLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5zaGlmdFByZXZpZXcxKTt0aGlzLnNoaWZ0UHJldmlldzE9bnVsbDt0aGlzLmNvbnRhaW5lci5hcHBlbmRDaGlsZChjLnBhcmVudE5vZGUpO2ZvcihkPXRoaXMuc2hpZnRQcmV2aWV3Mi5maXJzdENoaWxkO251bGwhPWQ7KWU9ZC5uZXh0U2libGluZyx0aGlzLmNvbnRhaW5lci5hcHBlbmRDaGlsZChkKSxkPWU7bnVsbCE9dGhpcy5zaGlmdFByZXZpZXcyLnBhcmVudE5vZGUmJnRoaXMuc2hpZnRQcmV2aWV3Mi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuc2hpZnRQcmV2aWV3Mik7dGhpcy5zaGlmdFByZXZpZXcyPW51bGx9fWVsc2V7Yy5zZXRBdHRyaWJ1dGUoInRyYW5zZm9ybSIsInRyYW5zbGF0ZSgiK2ErIiwiK2IrIikiKTtpZihudWxsPT10aGlzLnNoaWZ0UHJldmlldzEpe3RoaXMuc2hpZnRQcmV2aWV3MT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTt0aGlzLnNoaWZ0UHJldmlldzEuc3R5bGUucG9zaXRpb249CiJhYnNvbHV0ZSI7dGhpcy5zaGlmdFByZXZpZXcxLnN0eWxlLm92ZXJmbG93PSJ2aXNpYmxlIjt0aGlzLnNoaWZ0UHJldmlldzI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7dGhpcy5zaGlmdFByZXZpZXcyLnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSI7dGhpcy5zaGlmdFByZXZpZXcyLnN0eWxlLm92ZXJmbG93PSJ2aXNpYmxlIjtmb3IodmFyIGY9dGhpcy5zaGlmdFByZXZpZXcxLGQ9dGhpcy5jb250YWluZXIuZmlyc3RDaGlsZDtudWxsIT1kOyllPWQubmV4dFNpYmxpbmcsZCE9Yy5wYXJlbnROb2RlP2YuYXBwZW5kQ2hpbGQoZCk6Zj10aGlzLnNoaWZ0UHJldmlldzIsZD1lO251bGwhPXRoaXMuc2hpZnRQcmV2aWV3MS5maXJzdENoaWxkJiZ0aGlzLmNvbnRhaW5lci5pbnNlcnRCZWZvcmUodGhpcy5zaGlmdFByZXZpZXcxLGMucGFyZW50Tm9kZSk7bnVsbCE9dGhpcy5zaGlmdFByZXZpZXcyLmZpcnN0Q2hpbGQmJnRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuc2hpZnRQcmV2aWV3Mil9dGhpcy5zaGlmdFByZXZpZXcxLnN0eWxlLmxlZnQ9CmErInB4Ijt0aGlzLnNoaWZ0UHJldmlldzEuc3R5bGUudG9wPWIrInB4Ijt0aGlzLnNoaWZ0UHJldmlldzIuc3R5bGUubGVmdD1hKyJweCI7dGhpcy5zaGlmdFByZXZpZXcyLnN0eWxlLnRvcD1iKyJweCJ9ZWxzZSBjLnN0eWxlLmxlZnQ9YSsicHgiLGMuc3R5bGUudG9wPWIrInB4Ijt0aGlzLnBhbkR4PWE7dGhpcy5wYW5EeT1iO3RoaXMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KG14RXZlbnQuUEFOKSl9fTtteEdyYXBoLnByb3RvdHlwZS56b29tSW49ZnVuY3Rpb24oKXt0aGlzLnpvb20odGhpcy56b29tRmFjdG9yKX07bXhHcmFwaC5wcm90b3R5cGUuem9vbU91dD1mdW5jdGlvbigpe3RoaXMuem9vbSgxL3RoaXMuem9vbUZhY3Rvcil9OwpteEdyYXBoLnByb3RvdHlwZS56b29tQWN0dWFsPWZ1bmN0aW9uKCl7MT09dGhpcy52aWV3LnNjYWxlP3RoaXMudmlldy5zZXRUcmFuc2xhdGUoMCwwKToodGhpcy52aWV3LnRyYW5zbGF0ZS54PTAsdGhpcy52aWV3LnRyYW5zbGF0ZS55PTAsdGhpcy52aWV3LnNldFNjYWxlKDEpKX07bXhHcmFwaC5wcm90b3R5cGUuem9vbVRvPWZ1bmN0aW9uKGEsYil7dGhpcy56b29tKGEvdGhpcy52aWV3LnNjYWxlLGIpfTsKbXhHcmFwaC5wcm90b3R5cGUuY2VudGVyPWZ1bmN0aW9uKGEsYixjLGQpe2E9bnVsbCE9YT9hOiEwO2I9bnVsbCE9Yj9iOiEwO2M9bnVsbCE9Yz9jOi41O2Q9bnVsbCE9ZD9kOi41O3ZhciBlPW14VXRpbHMuaGFzU2Nyb2xsYmFycyh0aGlzLmNvbnRhaW5lciksZj0yKnRoaXMuZ2V0Qm9yZGVyKCksZz10aGlzLmNvbnRhaW5lci5jbGllbnRXaWR0aC1mLGY9dGhpcy5jb250YWluZXIuY2xpZW50SGVpZ2h0LWYsaz10aGlzLmdldEdyYXBoQm91bmRzKCksbD10aGlzLnZpZXcudHJhbnNsYXRlLG09dGhpcy52aWV3LnNjYWxlLG49YT9nLWsud2lkdGg6MCxwPWI/Zi1rLmhlaWdodDowO2U/KGsueC09bC54LGsueS09bC55LGE9dGhpcy5jb250YWluZXIuc2Nyb2xsV2lkdGgsYj10aGlzLmNvbnRhaW5lci5zY3JvbGxIZWlnaHQsYT5nJiYobj0wKSxiPmYmJihwPTApLHRoaXMudmlldy5zZXRUcmFuc2xhdGUoTWF0aC5mbG9vcihuLzItay54KSxNYXRoLmZsb29yKHAvMi1rLnkpKSx0aGlzLmNvbnRhaW5lci5zY3JvbGxMZWZ0PQooYS1nKS8yLHRoaXMuY29udGFpbmVyLnNjcm9sbFRvcD0oYi1mKS8yKTp0aGlzLnZpZXcuc2V0VHJhbnNsYXRlKGE/TWF0aC5mbG9vcihsLngtay54Km0rbipjL20pOmwueCxiP01hdGguZmxvb3IobC55LWsueSptK3AqZC9tKTpsLnkpfTsKbXhHcmFwaC5wcm90b3R5cGUuem9vbT1mdW5jdGlvbihhLGIpe2I9bnVsbCE9Yj9iOnRoaXMuY2VudGVyWm9vbTt2YXIgYz1NYXRoLnJvdW5kKHRoaXMudmlldy5zY2FsZSphKjEwMCkvMTAwLGQ9dGhpcy52aWV3LmdldFN0YXRlKHRoaXMuZ2V0U2VsZWN0aW9uQ2VsbCgpKTthPWMvdGhpcy52aWV3LnNjYWxlO2lmKHRoaXMua2VlcFNlbGVjdGlvblZpc2libGVPblpvb20mJm51bGwhPWQpZD1uZXcgbXhSZWN0YW5nbGUoZC54KmEsZC55KmEsZC53aWR0aCphLGQuaGVpZ2h0KmEpLHRoaXMudmlldy5zY2FsZT1jLHRoaXMuc2Nyb2xsUmVjdFRvVmlzaWJsZShkKXx8KHRoaXMudmlldy5yZXZhbGlkYXRlKCksdGhpcy52aWV3LnNldFNjYWxlKGMpKTtlbHNlIGlmKGQ9bXhVdGlscy5oYXNTY3JvbGxiYXJzKHRoaXMuY29udGFpbmVyKSxiJiYhZCl7dmFyIGQ9dGhpcy5jb250YWluZXIub2Zmc2V0V2lkdGgsZT10aGlzLmNvbnRhaW5lci5vZmZzZXRIZWlnaHQ7aWYoMTxhKXZhciBmPShhLTEpLwooMipjKSxkPWQqLWYsZT1lKi1mO2Vsc2UgZj0oMS9hLTEpLygyKnRoaXMudmlldy5zY2FsZSksZCo9ZixlKj1mO3RoaXMudmlldy5zY2FsZUFuZFRyYW5zbGF0ZShjLHRoaXMudmlldy50cmFuc2xhdGUueCtkLHRoaXMudmlldy50cmFuc2xhdGUueStlKX1lbHNle3ZhciBmPXRoaXMudmlldy50cmFuc2xhdGUueCxnPXRoaXMudmlldy50cmFuc2xhdGUueSxrPXRoaXMuY29udGFpbmVyLnNjcm9sbExlZnQsbD10aGlzLmNvbnRhaW5lci5zY3JvbGxUb3A7dGhpcy52aWV3LnNldFNjYWxlKGMpO2QmJihlPWQ9MCxiJiYoZD10aGlzLmNvbnRhaW5lci5vZmZzZXRXaWR0aCooYS0xKS8yLGU9dGhpcy5jb250YWluZXIub2Zmc2V0SGVpZ2h0KihhLTEpLzIpLHRoaXMuY29udGFpbmVyLnNjcm9sbExlZnQ9KHRoaXMudmlldy50cmFuc2xhdGUueC1mKSp0aGlzLnZpZXcuc2NhbGUrTWF0aC5yb3VuZChrKmErZCksdGhpcy5jb250YWluZXIuc2Nyb2xsVG9wPSh0aGlzLnZpZXcudHJhbnNsYXRlLnktCmcpKnRoaXMudmlldy5zY2FsZStNYXRoLnJvdW5kKGwqYStlKSl9fTsKbXhHcmFwaC5wcm90b3R5cGUuem9vbVRvUmVjdD1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmNvbnRhaW5lci5jbGllbnRXaWR0aC9hLndpZHRoLyh0aGlzLmNvbnRhaW5lci5jbGllbnRIZWlnaHQvYS5oZWlnaHQpO2EueD1NYXRoLm1heCgwLGEueCk7YS55PU1hdGgubWF4KDAsYS55KTt2YXIgYz1NYXRoLm1pbih0aGlzLmNvbnRhaW5lci5zY3JvbGxXaWR0aCxhLngrYS53aWR0aCksZD1NYXRoLm1pbih0aGlzLmNvbnRhaW5lci5zY3JvbGxIZWlnaHQsYS55K2EuaGVpZ2h0KTthLndpZHRoPWMtYS54O2EuaGVpZ2h0PWQtYS55OzE+Yj8oYj1hLmhlaWdodC9iLGM9KGItYS5oZWlnaHQpLzIsYS5oZWlnaHQ9YixhLnktPU1hdGgubWluKGEueSxjKSxkPU1hdGgubWluKHRoaXMuY29udGFpbmVyLnNjcm9sbEhlaWdodCxhLnkrYS5oZWlnaHQpLGEuaGVpZ2h0PWQtYS55KTooYio9YS53aWR0aCxjPShiLWEud2lkdGgpLzIsYS53aWR0aD1iLGEueC09TWF0aC5taW4oYS54LGMpLGM9TWF0aC5taW4odGhpcy5jb250YWluZXIuc2Nyb2xsV2lkdGgsCmEueCthLndpZHRoKSxhLndpZHRoPWMtYS54KTtiPXRoaXMuY29udGFpbmVyLmNsaWVudFdpZHRoL2Eud2lkdGg7Yz10aGlzLnZpZXcuc2NhbGUqYjtteFV0aWxzLmhhc1Njcm9sbGJhcnModGhpcy5jb250YWluZXIpPyh0aGlzLnZpZXcuc2V0U2NhbGUoYyksdGhpcy5jb250YWluZXIuc2Nyb2xsTGVmdD1NYXRoLnJvdW5kKGEueCpiKSx0aGlzLmNvbnRhaW5lci5zY3JvbGxUb3A9TWF0aC5yb3VuZChhLnkqYikpOnRoaXMudmlldy5zY2FsZUFuZFRyYW5zbGF0ZShjLHRoaXMudmlldy50cmFuc2xhdGUueC1hLngvdGhpcy52aWV3LnNjYWxlLHRoaXMudmlldy50cmFuc2xhdGUueS1hLnkvdGhpcy52aWV3LnNjYWxlKX07Cm14R3JhcGgucHJvdG90eXBlLnNjcm9sbENlbGxUb1Zpc2libGU9ZnVuY3Rpb24oYSxiKXt2YXIgYz0tdGhpcy52aWV3LnRyYW5zbGF0ZS54LGQ9LXRoaXMudmlldy50cmFuc2xhdGUueSxlPXRoaXMudmlldy5nZXRTdGF0ZShhKTtudWxsIT1lJiYoYz1uZXcgbXhSZWN0YW5nbGUoYytlLngsZCtlLnksZS53aWR0aCxlLmhlaWdodCksYiYmbnVsbCE9dGhpcy5jb250YWluZXImJihkPXRoaXMuY29udGFpbmVyLmNsaWVudFdpZHRoLGU9dGhpcy5jb250YWluZXIuY2xpZW50SGVpZ2h0LGMueD1jLmdldENlbnRlclgoKS1kLzIsYy53aWR0aD1kLGMueT1jLmdldENlbnRlclkoKS1lLzIsYy5oZWlnaHQ9ZSksZD1uZXcgbXhQb2ludCh0aGlzLnZpZXcudHJhbnNsYXRlLngsdGhpcy52aWV3LnRyYW5zbGF0ZS55KSx0aGlzLnNjcm9sbFJlY3RUb1Zpc2libGUoYykmJihjPW5ldyBteFBvaW50KHRoaXMudmlldy50cmFuc2xhdGUueCx0aGlzLnZpZXcudHJhbnNsYXRlLnkpLHRoaXMudmlldy50cmFuc2xhdGUueD0KZC54LHRoaXMudmlldy50cmFuc2xhdGUueT1kLnksdGhpcy52aWV3LnNldFRyYW5zbGF0ZShjLngsYy55KSkpfTsKbXhHcmFwaC5wcm90b3R5cGUuc2Nyb2xsUmVjdFRvVmlzaWJsZT1mdW5jdGlvbihhKXt2YXIgYj0hMTtpZihudWxsIT1hKXt2YXIgYz10aGlzLmNvbnRhaW5lci5vZmZzZXRXaWR0aCxkPXRoaXMuY29udGFpbmVyLm9mZnNldEhlaWdodCxlPU1hdGgubWluKGMsYS53aWR0aCksZj1NYXRoLm1pbihkLGEuaGVpZ2h0KTtpZihteFV0aWxzLmhhc1Njcm9sbGJhcnModGhpcy5jb250YWluZXIpKXtjPXRoaXMuY29udGFpbmVyO2EueCs9dGhpcy52aWV3LnRyYW5zbGF0ZS54O2EueSs9dGhpcy52aWV3LnRyYW5zbGF0ZS55O3ZhciBnPWMuc2Nyb2xsTGVmdC1hLngsZD1NYXRoLm1heChnLWMuc2Nyb2xsTGVmdCwwKTswPGc/Yy5zY3JvbGxMZWZ0LT1nKzI6KGc9YS54K2UtYy5zY3JvbGxMZWZ0LWMuY2xpZW50V2lkdGgsMDxnJiYoYy5zY3JvbGxMZWZ0Kz1nKzIpKTtlPWMuc2Nyb2xsVG9wLWEueTtnPU1hdGgubWF4KDAsZS1jLnNjcm9sbFRvcCk7MDxlP2Muc2Nyb2xsVG9wLT1lKzI6KGU9YS55KwpmLWMuc2Nyb2xsVG9wLWMuY2xpZW50SGVpZ2h0LDA8ZSYmKGMuc2Nyb2xsVG9wKz1lKzIpKTt0aGlzLnVzZVNjcm9sbGJhcnNGb3JQYW5uaW5nfHwwPT1kJiYwPT1nfHx0aGlzLnZpZXcuc2V0VHJhbnNsYXRlKGQsZyl9ZWxzZXt2YXIgZz0tdGhpcy52aWV3LnRyYW5zbGF0ZS54LGs9LXRoaXMudmlldy50cmFuc2xhdGUueSxsPXRoaXMudmlldy5zY2FsZTthLngrZT5nK2MmJih0aGlzLnZpZXcudHJhbnNsYXRlLngtPShhLngrZS1jLWcpL2wsYj0hMCk7YS55K2Y+aytkJiYodGhpcy52aWV3LnRyYW5zbGF0ZS55LT0oYS55K2YtZC1rKS9sLGI9ITApO2EueDxnJiYodGhpcy52aWV3LnRyYW5zbGF0ZS54Kz0oZy1hLngpL2wsYj0hMCk7YS55PGsmJih0aGlzLnZpZXcudHJhbnNsYXRlLnkrPShrLWEueSkvbCxiPSEwKTtiJiYodGhpcy52aWV3LnJlZnJlc2goKSxudWxsIT10aGlzLnNlbGVjdGlvbkNlbGxzSGFuZGxlciYmdGhpcy5zZWxlY3Rpb25DZWxsc0hhbmRsZXIucmVmcmVzaCgpKX19cmV0dXJuIGJ9OwpteEdyYXBoLnByb3RvdHlwZS5nZXRDZWxsR2VvbWV0cnk9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMubW9kZWwuZ2V0R2VvbWV0cnkoYSl9O214R3JhcGgucHJvdG90eXBlLmlzQ2VsbFZpc2libGU9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMubW9kZWwuaXNWaXNpYmxlKGEpfTtteEdyYXBoLnByb3RvdHlwZS5pc0NlbGxDb2xsYXBzZWQ9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMubW9kZWwuaXNDb2xsYXBzZWQoYSl9O214R3JhcGgucHJvdG90eXBlLmlzQ2VsbENvbm5lY3RhYmxlPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLm1vZGVsLmlzQ29ubmVjdGFibGUoYSl9OwpteEdyYXBoLnByb3RvdHlwZS5pc09ydGhvZ29uYWw9ZnVuY3Rpb24oYSl7dmFyIGI9YS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9PUlRIT0dPTkFMXTtpZihudWxsIT1iKXJldHVybiBiO2E9dGhpcy52aWV3LmdldEVkZ2VTdHlsZShhKTtyZXR1cm4gYT09bXhFZGdlU3R5bGUuU2VnbWVudENvbm5lY3Rvcnx8YT09bXhFZGdlU3R5bGUuRWxib3dDb25uZWN0b3J8fGE9PW14RWRnZVN0eWxlLlNpZGVUb1NpZGV8fGE9PW14RWRnZVN0eWxlLlRvcFRvQm90dG9tfHxhPT1teEVkZ2VTdHlsZS5FbnRpdHlSZWxhdGlvbnx8YT09bXhFZGdlU3R5bGUuT3J0aENvbm5lY3Rvcn07bXhHcmFwaC5wcm90b3R5cGUuaXNMb29wPWZ1bmN0aW9uKGEpe3ZhciBiPWEuZ2V0VmlzaWJsZVRlcm1pbmFsU3RhdGUoITApO2E9YS5nZXRWaXNpYmxlVGVybWluYWxTdGF0ZSghMSk7cmV0dXJuIG51bGwhPWImJmI9PWF9O214R3JhcGgucHJvdG90eXBlLmlzQ2xvbmVFdmVudD1mdW5jdGlvbihhKXtyZXR1cm4gbXhFdmVudC5pc0NvbnRyb2xEb3duKGEpfTsKbXhHcmFwaC5wcm90b3R5cGUuaXNUcmFuc3BhcmVudENsaWNrRXZlbnQ9ZnVuY3Rpb24oYSl7cmV0dXJuITF9O214R3JhcGgucHJvdG90eXBlLmlzVG9nZ2xlRXZlbnQ9ZnVuY3Rpb24oYSl7cmV0dXJuIG14Q2xpZW50LklTX01BQz9teEV2ZW50LmlzTWV0YURvd24oYSk6bXhFdmVudC5pc0NvbnRyb2xEb3duKGEpfTtteEdyYXBoLnByb3RvdHlwZS5pc0dyaWRFbmFibGVkRXZlbnQ9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPWEmJiFteEV2ZW50LmlzQWx0RG93bihhKX07bXhHcmFwaC5wcm90b3R5cGUuaXNDb25zdHJhaW5lZEV2ZW50PWZ1bmN0aW9uKGEpe3JldHVybiBteEV2ZW50LmlzU2hpZnREb3duKGEpfTtteEdyYXBoLnByb3RvdHlwZS5pc0lnbm9yZVRlcm1pbmFsRXZlbnQ9ZnVuY3Rpb24oYSl7cmV0dXJuITF9O214R3JhcGgucHJvdG90eXBlLnZhbGlkYXRpb25BbGVydD1mdW5jdGlvbihhKXtteFV0aWxzLmFsZXJ0KGEpfTsKbXhHcmFwaC5wcm90b3R5cGUuaXNFZGdlVmFsaWQ9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBudWxsPT10aGlzLmdldEVkZ2VWYWxpZGF0aW9uRXJyb3IoYSxiLGMpfTsKbXhHcmFwaC5wcm90b3R5cGUuZ2V0RWRnZVZhbGlkYXRpb25FcnJvcj1mdW5jdGlvbihhLGIsYyl7aWYobnVsbCE9YSYmIXRoaXMuaXNBbGxvd0RhbmdsaW5nRWRnZXMoKSYmKG51bGw9PWJ8fG51bGw9PWMpKXJldHVybiIiO2lmKG51bGwhPWEmJm51bGw9PXRoaXMubW9kZWwuZ2V0VGVybWluYWwoYSwhMCkmJm51bGw9PXRoaXMubW9kZWwuZ2V0VGVybWluYWwoYSwhMSkpcmV0dXJuIG51bGw7aWYoIXRoaXMuYWxsb3dMb29wcyYmYj09YyYmbnVsbCE9Ynx8IXRoaXMuaXNWYWxpZENvbm5lY3Rpb24oYixjKSlyZXR1cm4iIjtpZihudWxsIT1iJiZudWxsIT1jKXt2YXIgZD0iIjtpZighdGhpcy5tdWx0aWdyYXBoKXt2YXIgZT10aGlzLm1vZGVsLmdldEVkZ2VzQmV0d2VlbihiLGMsITApO2lmKDE8ZS5sZW5ndGh8fDE9PWUubGVuZ3RoJiZlWzBdIT1hKWQrPShteFJlc291cmNlcy5nZXQodGhpcy5hbHJlYWR5Q29ubmVjdGVkUmVzb3VyY2UpfHx0aGlzLmFscmVhZHlDb25uZWN0ZWRSZXNvdXJjZSkrCiJcbiJ9dmFyIGU9dGhpcy5tb2RlbC5nZXREaXJlY3RlZEVkZ2VDb3VudChiLCEwLGEpLGY9dGhpcy5tb2RlbC5nZXREaXJlY3RlZEVkZ2VDb3VudChjLCExLGEpO2lmKG51bGwhPXRoaXMubXVsdGlwbGljaXRpZXMpZm9yKHZhciBnPTA7Zzx0aGlzLm11bHRpcGxpY2l0aWVzLmxlbmd0aDtnKyspe3ZhciBrPXRoaXMubXVsdGlwbGljaXRpZXNbZ10uY2hlY2sodGhpcyxhLGIsYyxlLGYpO251bGwhPWsmJihkKz1rKX1rPXRoaXMudmFsaWRhdGVFZGdlKGEsYixjKTtudWxsIT1rJiYoZCs9ayk7cmV0dXJuIDA8ZC5sZW5ndGg/ZDpudWxsfXJldHVybiB0aGlzLmFsbG93RGFuZ2xpbmdFZGdlcz9udWxsOiIifTtteEdyYXBoLnByb3RvdHlwZS52YWxpZGF0ZUVkZ2U9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBudWxsfTsKbXhHcmFwaC5wcm90b3R5cGUudmFsaWRhdGVHcmFwaD1mdW5jdGlvbihhLGIpe2E9bnVsbCE9YT9hOnRoaXMubW9kZWwuZ2V0Um9vdCgpO2I9bnVsbCE9Yj9iOnt9O2Zvcih2YXIgYz0hMCxkPXRoaXMubW9kZWwuZ2V0Q2hpbGRDb3VudChhKSxlPTA7ZTxkO2UrKyl7dmFyIGY9dGhpcy5tb2RlbC5nZXRDaGlsZEF0KGEsZSksZz1iO3RoaXMuaXNWYWxpZFJvb3QoZikmJihnPXt9KTtnPXRoaXMudmFsaWRhdGVHcmFwaChmLGcpO251bGwhPWc/dGhpcy5zZXRDZWxsV2FybmluZyhmLGcucmVwbGFjZSgvXG4vZywiPGJyPiIpKTp0aGlzLnNldENlbGxXYXJuaW5nKGYsbnVsbCk7Yz1jJiZudWxsPT1nfWQ9IiI7dGhpcy5pc0NlbGxDb2xsYXBzZWQoYSkmJiFjJiYoZCs9KG14UmVzb3VyY2VzLmdldCh0aGlzLmNvbnRhaW5zVmFsaWRhdGlvbkVycm9yc1Jlc291cmNlKXx8dGhpcy5jb250YWluc1ZhbGlkYXRpb25FcnJvcnNSZXNvdXJjZSkrIlxuIik7ZD10aGlzLm1vZGVsLmlzRWRnZShhKT9kKwoodGhpcy5nZXRFZGdlVmFsaWRhdGlvbkVycm9yKGEsdGhpcy5tb2RlbC5nZXRUZXJtaW5hbChhLCEwKSx0aGlzLm1vZGVsLmdldFRlcm1pbmFsKGEsITEpKXx8IiIpOmQrKHRoaXMuZ2V0Q2VsbFZhbGlkYXRpb25FcnJvcihhKXx8IiIpO2U9dGhpcy52YWxpZGF0ZUNlbGwoYSxiKTtudWxsIT1lJiYoZCs9ZSk7bnVsbD09dGhpcy5tb2RlbC5nZXRQYXJlbnQoYSkmJnRoaXMudmlldy52YWxpZGF0ZSgpO3JldHVybiAwPGQubGVuZ3RofHwhYz9kOm51bGx9OwpteEdyYXBoLnByb3RvdHlwZS5nZXRDZWxsVmFsaWRhdGlvbkVycm9yPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMubW9kZWwuZ2V0RGlyZWN0ZWRFZGdlQ291bnQoYSwhMCksYz10aGlzLm1vZGVsLmdldERpcmVjdGVkRWRnZUNvdW50KGEsITEpO2E9dGhpcy5tb2RlbC5nZXRWYWx1ZShhKTt2YXIgZD0iIjtpZihudWxsIT10aGlzLm11bHRpcGxpY2l0aWVzKWZvcih2YXIgZT0wO2U8dGhpcy5tdWx0aXBsaWNpdGllcy5sZW5ndGg7ZSsrKXt2YXIgZj10aGlzLm11bHRpcGxpY2l0aWVzW2VdO2Yuc291cmNlJiZteFV0aWxzLmlzTm9kZShhLGYudHlwZSxmLmF0dHIsZi52YWx1ZSkmJihiPmYubWF4fHxiPGYubWluKT9kKz1mLmNvdW50RXJyb3IrIlxuIjohZi5zb3VyY2UmJm14VXRpbHMuaXNOb2RlKGEsZi50eXBlLGYuYXR0cixmLnZhbHVlKSYmKGM+Zi5tYXh8fGM8Zi5taW4pJiYoZCs9Zi5jb3VudEVycm9yKyJcbiIpfXJldHVybiAwPGQubGVuZ3RoP2Q6bnVsbH07Cm14R3JhcGgucHJvdG90eXBlLnZhbGlkYXRlQ2VsbD1mdW5jdGlvbihhLGIpe3JldHVybiBudWxsfTtteEdyYXBoLnByb3RvdHlwZS5nZXRCYWNrZ3JvdW5kSW1hZ2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iYWNrZ3JvdW5kSW1hZ2V9O214R3JhcGgucHJvdG90eXBlLnNldEJhY2tncm91bmRJbWFnZT1mdW5jdGlvbihhKXt0aGlzLmJhY2tncm91bmRJbWFnZT1hfTtteEdyYXBoLnByb3RvdHlwZS5nZXRGb2xkaW5nSW1hZ2U9ZnVuY3Rpb24oYSl7aWYobnVsbCE9YSYmdGhpcy5mb2xkaW5nRW5hYmxlZCYmIXRoaXMuZ2V0TW9kZWwoKS5pc0VkZ2UoYS5jZWxsKSl7dmFyIGI9dGhpcy5pc0NlbGxDb2xsYXBzZWQoYS5jZWxsKTtpZih0aGlzLmlzQ2VsbEZvbGRhYmxlKGEuY2VsbCwhYikpcmV0dXJuIGI/dGhpcy5jb2xsYXBzZWRJbWFnZTp0aGlzLmV4cGFuZGVkSW1hZ2V9cmV0dXJuIG51bGx9OwpteEdyYXBoLnByb3RvdHlwZS5jb252ZXJ0VmFsdWVUb1N0cmluZz1mdW5jdGlvbihhKXthPXRoaXMubW9kZWwuZ2V0VmFsdWUoYSk7aWYobnVsbCE9YSl7aWYobXhVdGlscy5pc05vZGUoYSkpcmV0dXJuIGEubm9kZU5hbWU7aWYoImZ1bmN0aW9uIj09dHlwZW9mIGEudG9TdHJpbmcpcmV0dXJuIGEudG9TdHJpbmcoKX1yZXR1cm4iIn07bXhHcmFwaC5wcm90b3R5cGUuZ2V0TGFiZWw9ZnVuY3Rpb24oYSl7dmFyIGI9IiI7aWYodGhpcy5sYWJlbHNWaXNpYmxlJiZudWxsIT1hKXt2YXIgYz10aGlzLmdldEN1cnJlbnRDZWxsU3R5bGUoYSk7bXhVdGlscy5nZXRWYWx1ZShjLG14Q29uc3RhbnRzLlNUWUxFX05PTEFCRUwsITEpfHwoYj10aGlzLmNvbnZlcnRWYWx1ZVRvU3RyaW5nKGEpKX1yZXR1cm4gYn07bXhHcmFwaC5wcm90b3R5cGUuaXNIdG1sTGFiZWw9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuaXNIdG1sTGFiZWxzKCl9O214R3JhcGgucHJvdG90eXBlLmlzSHRtbExhYmVscz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmh0bWxMYWJlbHN9OwpteEdyYXBoLnByb3RvdHlwZS5zZXRIdG1sTGFiZWxzPWZ1bmN0aW9uKGEpe3RoaXMuaHRtbExhYmVscz1hfTtteEdyYXBoLnByb3RvdHlwZS5pc1dyYXBwaW5nPWZ1bmN0aW9uKGEpe3JldHVybiJ3cmFwIj09dGhpcy5nZXRDdXJyZW50Q2VsbFN0eWxlKGEpW214Q29uc3RhbnRzLlNUWUxFX1dISVRFX1NQQUNFXX07bXhHcmFwaC5wcm90b3R5cGUuaXNMYWJlbENsaXBwZWQ9ZnVuY3Rpb24oYSl7cmV0dXJuImhpZGRlbiI9PXRoaXMuZ2V0Q3VycmVudENlbGxTdHlsZShhKVtteENvbnN0YW50cy5TVFlMRV9PVkVSRkxPV119OwpteEdyYXBoLnByb3RvdHlwZS5nZXRUb29sdGlwPWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPW51bGw7bnVsbCE9YSYmKG51bGw9PWEuY29udHJvbHx8YiE9YS5jb250cm9sLm5vZGUmJmIucGFyZW50Tm9kZSE9YS5jb250cm9sLm5vZGV8fChlPXRoaXMuY29sbGFwc2VFeHBhbmRSZXNvdXJjZSxlPW14VXRpbHMuaHRtbEVudGl0aWVzKG14UmVzb3VyY2VzLmdldChlKXx8ZSkucmVwbGFjZSgvXFxuL2csIjxicj4iKSksbnVsbD09ZSYmbnVsbCE9YS5vdmVybGF5cyYmYS5vdmVybGF5cy52aXNpdChmdW5jdGlvbihhLGMpe251bGwhPWV8fGIhPWMubm9kZSYmYi5wYXJlbnROb2RlIT1jLm5vZGV8fChlPWMub3ZlcmxheS50b1N0cmluZygpKX0pLG51bGw9PWUmJihjPXRoaXMuc2VsZWN0aW9uQ2VsbHNIYW5kbGVyLmdldEhhbmRsZXIoYS5jZWxsKSxudWxsIT1jJiYiZnVuY3Rpb24iPT10eXBlb2YgYy5nZXRUb29sdGlwRm9yTm9kZSYmKGU9Yy5nZXRUb29sdGlwRm9yTm9kZShiKSkpLG51bGw9PQplJiYoZT10aGlzLmdldFRvb2x0aXBGb3JDZWxsKGEuY2VsbCkpKTtyZXR1cm4gZX07bXhHcmFwaC5wcm90b3R5cGUuZ2V0VG9vbHRpcEZvckNlbGw9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPWEmJm51bGwhPWEuZ2V0VG9vbHRpcD9hLmdldFRvb2x0aXAoKTp0aGlzLmNvbnZlcnRWYWx1ZVRvU3RyaW5nKGEpfTtteEdyYXBoLnByb3RvdHlwZS5nZXRMaW5rRm9yQ2VsbD1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbH07bXhHcmFwaC5wcm90b3R5cGUuZ2V0Q3Vyc29yRm9yTW91c2VFdmVudD1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5nZXRDdXJzb3JGb3JDZWxsKGEuZ2V0Q2VsbCgpKX07bXhHcmFwaC5wcm90b3R5cGUuZ2V0Q3Vyc29yRm9yQ2VsbD1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbH07Cm14R3JhcGgucHJvdG90eXBlLmdldFN0YXJ0U2l6ZT1mdW5jdGlvbihhLGIpe3ZhciBjPW5ldyBteFJlY3RhbmdsZSxkPXRoaXMuZ2V0Q3VycmVudENlbGxTdHlsZShhLGIpLGU9cGFyc2VJbnQobXhVdGlscy5nZXRWYWx1ZShkLG14Q29uc3RhbnRzLlNUWUxFX1NUQVJUU0laRSxteENvbnN0YW50cy5ERUZBVUxUX1NUQVJUU0laRSkpO214VXRpbHMuZ2V0VmFsdWUoZCxteENvbnN0YW50cy5TVFlMRV9IT1JJWk9OVEFMLCEwKT9jLmhlaWdodD1lOmMud2lkdGg9ZTtyZXR1cm4gY307Cm14R3JhcGgucHJvdG90eXBlLmdldFN3aW1sYW5lRGlyZWN0aW9uPWZ1bmN0aW9uKGEpe3ZhciBiPW14VXRpbHMuZ2V0VmFsdWUoYSxteENvbnN0YW50cy5TVFlMRV9ESVJFQ1RJT04sbXhDb25zdGFudHMuRElSRUNUSU9OX0VBU1QpLGM9MT09bXhVdGlscy5nZXRWYWx1ZShhLG14Q29uc3RhbnRzLlNUWUxFX0ZMSVBILDApLGQ9MT09bXhVdGlscy5nZXRWYWx1ZShhLG14Q29uc3RhbnRzLlNUWUxFX0ZMSVBWLDApO2E9bXhVdGlscy5nZXRWYWx1ZShhLG14Q29uc3RhbnRzLlNUWUxFX0hPUklaT05UQUwsITApPzA6MztiPT1teENvbnN0YW50cy5ESVJFQ1RJT05fTk9SVEg/YS0tOmI9PW14Q29uc3RhbnRzLkRJUkVDVElPTl9XRVNUP2ErPTI6Yj09bXhDb25zdGFudHMuRElSRUNUSU9OX1NPVVRIJiYoYSs9MSk7Yj1teFV0aWxzLm1vZChhLDIpO2MmJjE9PWImJihhKz0yKTtkJiYwPT1iJiYoYSs9Mik7cmV0dXJuW214Q29uc3RhbnRzLkRJUkVDVElPTl9OT1JUSCxteENvbnN0YW50cy5ESVJFQ1RJT05fRUFTVCwKbXhDb25zdGFudHMuRElSRUNUSU9OX1NPVVRILG14Q29uc3RhbnRzLkRJUkVDVElPTl9XRVNUXVtteFV0aWxzLm1vZChhLDQpXX07bXhHcmFwaC5wcm90b3R5cGUuZ2V0QWN0dWFsU3RhcnRTaXplPWZ1bmN0aW9uKGEsYil7dmFyIGM9bmV3IG14UmVjdGFuZ2xlO2lmKHRoaXMuaXNTd2ltbGFuZShhLGIpKXt2YXIgZD10aGlzLmdldEN1cnJlbnRDZWxsU3R5bGUoYSxiKSxlPXBhcnNlSW50KG14VXRpbHMuZ2V0VmFsdWUoZCxteENvbnN0YW50cy5TVFlMRV9TVEFSVFNJWkUsbXhDb25zdGFudHMuREVGQVVMVF9TVEFSVFNJWkUpKSxkPXRoaXMuZ2V0U3dpbWxhbmVEaXJlY3Rpb24oZCk7ZD09bXhDb25zdGFudHMuRElSRUNUSU9OX05PUlRIP2MueT1lOmQ9PW14Q29uc3RhbnRzLkRJUkVDVElPTl9XRVNUP2MueD1lOmQ9PW14Q29uc3RhbnRzLkRJUkVDVElPTl9TT1VUSD9jLmhlaWdodD1lOmMud2lkdGg9ZX1yZXR1cm4gY307Cm14R3JhcGgucHJvdG90eXBlLmdldEltYWdlPWZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hJiZudWxsIT1hLnN0eWxlP2Euc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfSU1BR0VdOm51bGx9O214R3JhcGgucHJvdG90eXBlLmlzVHJhbnNwYXJlbnRTdGF0ZT1mdW5jdGlvbihhKXt2YXIgYj0hMTtpZihudWxsIT1hKXZhciBiPW14VXRpbHMuZ2V0VmFsdWUoYS5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9TVFJPS0VDT0xPUixteENvbnN0YW50cy5OT05FKSxjPW14VXRpbHMuZ2V0VmFsdWUoYS5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9GSUxMQ09MT1IsbXhDb25zdGFudHMuTk9ORSksYj1iPT1teENvbnN0YW50cy5OT05FJiZjPT1teENvbnN0YW50cy5OT05FJiZudWxsPT10aGlzLmdldEltYWdlKGEpO3JldHVybiBifTsKbXhHcmFwaC5wcm90b3R5cGUuZ2V0VmVydGljYWxBbGlnbj1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YSYmbnVsbCE9YS5zdHlsZT9hLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX1ZFUlRJQ0FMX0FMSUdOXXx8bXhDb25zdGFudHMuQUxJR05fTUlERExFOm51bGx9O214R3JhcGgucHJvdG90eXBlLmdldEluZGljYXRvckNvbG9yPWZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hJiZudWxsIT1hLnN0eWxlP2Euc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfSU5ESUNBVE9SX0NPTE9SXTpudWxsfTtteEdyYXBoLnByb3RvdHlwZS5nZXRJbmRpY2F0b3JHcmFkaWVudENvbG9yPWZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hJiZudWxsIT1hLnN0eWxlP2Euc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfSU5ESUNBVE9SX0dSQURJRU5UQ09MT1JdOm51bGx9OwpteEdyYXBoLnByb3RvdHlwZS5nZXRJbmRpY2F0b3JTaGFwZT1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YSYmbnVsbCE9YS5zdHlsZT9hLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX0lORElDQVRPUl9TSEFQRV06bnVsbH07bXhHcmFwaC5wcm90b3R5cGUuZ2V0SW5kaWNhdG9ySW1hZ2U9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPWEmJm51bGwhPWEuc3R5bGU/YS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9JTkRJQ0FUT1JfSU1BR0VdOm51bGx9O214R3JhcGgucHJvdG90eXBlLmdldEJvcmRlcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmJvcmRlcn07bXhHcmFwaC5wcm90b3R5cGUuc2V0Qm9yZGVyPWZ1bmN0aW9uKGEpe3RoaXMuYm9yZGVyPWF9OwpteEdyYXBoLnByb3RvdHlwZS5pc1N3aW1sYW5lPWZ1bmN0aW9uKGEsYil7cmV0dXJuIG51bGw9PWF8fHRoaXMubW9kZWwuZ2V0UGFyZW50KGEpPT10aGlzLm1vZGVsLmdldFJvb3QoKXx8dGhpcy5tb2RlbC5pc0VkZ2UoYSk/ITE6dGhpcy5nZXRDdXJyZW50Q2VsbFN0eWxlKGEsYilbbXhDb25zdGFudHMuU1RZTEVfU0hBUEVdPT1teENvbnN0YW50cy5TSEFQRV9TV0lNTEFORX07bXhHcmFwaC5wcm90b3R5cGUuaXNSZXNpemVDb250YWluZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yZXNpemVDb250YWluZXJ9O214R3JhcGgucHJvdG90eXBlLnNldFJlc2l6ZUNvbnRhaW5lcj1mdW5jdGlvbihhKXt0aGlzLnJlc2l6ZUNvbnRhaW5lcj1hfTtteEdyYXBoLnByb3RvdHlwZS5pc0VuYWJsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbmFibGVkfTtteEdyYXBoLnByb3RvdHlwZS5zZXRFbmFibGVkPWZ1bmN0aW9uKGEpe3RoaXMuZW5hYmxlZD1hfTsKbXhHcmFwaC5wcm90b3R5cGUuaXNFc2NhcGVFbmFibGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXNjYXBlRW5hYmxlZH07bXhHcmFwaC5wcm90b3R5cGUuc2V0RXNjYXBlRW5hYmxlZD1mdW5jdGlvbihhKXt0aGlzLmVzY2FwZUVuYWJsZWQ9YX07bXhHcmFwaC5wcm90b3R5cGUuaXNJbnZva2VzU3RvcENlbGxFZGl0aW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW52b2tlc1N0b3BDZWxsRWRpdGluZ307bXhHcmFwaC5wcm90b3R5cGUuc2V0SW52b2tlc1N0b3BDZWxsRWRpdGluZz1mdW5jdGlvbihhKXt0aGlzLmludm9rZXNTdG9wQ2VsbEVkaXRpbmc9YX07bXhHcmFwaC5wcm90b3R5cGUuaXNFbnRlclN0b3BzQ2VsbEVkaXRpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbnRlclN0b3BzQ2VsbEVkaXRpbmd9O214R3JhcGgucHJvdG90eXBlLnNldEVudGVyU3RvcHNDZWxsRWRpdGluZz1mdW5jdGlvbihhKXt0aGlzLmVudGVyU3RvcHNDZWxsRWRpdGluZz1hfTsKbXhHcmFwaC5wcm90b3R5cGUuaXNDZWxsTG9ja2VkPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMubW9kZWwuZ2V0R2VvbWV0cnkoYSk7cmV0dXJuIHRoaXMuaXNDZWxsc0xvY2tlZCgpfHxudWxsIT1iJiZ0aGlzLm1vZGVsLmlzVmVydGV4KGEpJiZiLnJlbGF0aXZlfTtteEdyYXBoLnByb3RvdHlwZS5pc0NlbGxzTG9ja2VkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2VsbHNMb2NrZWR9O214R3JhcGgucHJvdG90eXBlLnNldENlbGxzTG9ja2VkPWZ1bmN0aW9uKGEpe3RoaXMuY2VsbHNMb2NrZWQ9YX07bXhHcmFwaC5wcm90b3R5cGUuZ2V0Q2xvbmVhYmxlQ2VsbHM9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMubW9kZWwuZmlsdGVyQ2VsbHMoYSxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5pc0NlbGxDbG9uZWFibGUoYSl9KSl9OwpteEdyYXBoLnByb3RvdHlwZS5pc0NlbGxDbG9uZWFibGU9ZnVuY3Rpb24oYSl7YT10aGlzLmdldEN1cnJlbnRDZWxsU3R5bGUoYSk7cmV0dXJuIHRoaXMuaXNDZWxsc0Nsb25lYWJsZSgpJiYwIT1hW214Q29uc3RhbnRzLlNUWUxFX0NMT05FQUJMRV19O214R3JhcGgucHJvdG90eXBlLmlzQ2VsbHNDbG9uZWFibGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jZWxsc0Nsb25lYWJsZX07bXhHcmFwaC5wcm90b3R5cGUuc2V0Q2VsbHNDbG9uZWFibGU9ZnVuY3Rpb24oYSl7dGhpcy5jZWxsc0Nsb25lYWJsZT1hfTtteEdyYXBoLnByb3RvdHlwZS5nZXRFeHBvcnRhYmxlQ2VsbHM9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMubW9kZWwuZmlsdGVyQ2VsbHMoYSxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jYW5FeHBvcnRDZWxsKGEpfSkpfTtteEdyYXBoLnByb3RvdHlwZS5jYW5FeHBvcnRDZWxsPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmV4cG9ydEVuYWJsZWR9OwpteEdyYXBoLnByb3RvdHlwZS5nZXRJbXBvcnRhYmxlQ2VsbHM9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMubW9kZWwuZmlsdGVyQ2VsbHMoYSxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jYW5JbXBvcnRDZWxsKGEpfSkpfTtteEdyYXBoLnByb3RvdHlwZS5jYW5JbXBvcnRDZWxsPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmltcG9ydEVuYWJsZWR9O214R3JhcGgucHJvdG90eXBlLmlzQ2VsbFNlbGVjdGFibGU9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuaXNDZWxsc1NlbGVjdGFibGUoKX07bXhHcmFwaC5wcm90b3R5cGUuaXNDZWxsc1NlbGVjdGFibGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jZWxsc1NlbGVjdGFibGV9O214R3JhcGgucHJvdG90eXBlLnNldENlbGxzU2VsZWN0YWJsZT1mdW5jdGlvbihhKXt0aGlzLmNlbGxzU2VsZWN0YWJsZT1hfTsKbXhHcmFwaC5wcm90b3R5cGUuZ2V0RGVsZXRhYmxlQ2VsbHM9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMubW9kZWwuZmlsdGVyQ2VsbHMoYSxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5pc0NlbGxEZWxldGFibGUoYSl9KSl9O214R3JhcGgucHJvdG90eXBlLmlzQ2VsbERlbGV0YWJsZT1mdW5jdGlvbihhKXthPXRoaXMuZ2V0Q3VycmVudENlbGxTdHlsZShhKTtyZXR1cm4gdGhpcy5pc0NlbGxzRGVsZXRhYmxlKCkmJjAhPWFbbXhDb25zdGFudHMuU1RZTEVfREVMRVRBQkxFXX07bXhHcmFwaC5wcm90b3R5cGUuaXNDZWxsc0RlbGV0YWJsZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNlbGxzRGVsZXRhYmxlfTtteEdyYXBoLnByb3RvdHlwZS5zZXRDZWxsc0RlbGV0YWJsZT1mdW5jdGlvbihhKXt0aGlzLmNlbGxzRGVsZXRhYmxlPWF9OwpteEdyYXBoLnByb3RvdHlwZS5pc0xhYmVsTW92YWJsZT1mdW5jdGlvbihhKXtyZXR1cm4hdGhpcy5pc0NlbGxMb2NrZWQoYSkmJih0aGlzLm1vZGVsLmlzRWRnZShhKSYmdGhpcy5lZGdlTGFiZWxzTW92YWJsZXx8dGhpcy5tb2RlbC5pc1ZlcnRleChhKSYmdGhpcy52ZXJ0ZXhMYWJlbHNNb3ZhYmxlKX07bXhHcmFwaC5wcm90b3R5cGUuaXNDZWxsUm90YXRhYmxlPWZ1bmN0aW9uKGEpe3JldHVybiAwIT10aGlzLmdldEN1cnJlbnRDZWxsU3R5bGUoYSlbbXhDb25zdGFudHMuU1RZTEVfUk9UQVRBQkxFXX07bXhHcmFwaC5wcm90b3R5cGUuZ2V0TW92YWJsZUNlbGxzPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLm1vZGVsLmZpbHRlckNlbGxzKGEsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuaXNDZWxsTW92YWJsZShhKX0pKX07Cm14R3JhcGgucHJvdG90eXBlLmlzQ2VsbE1vdmFibGU9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5nZXRDdXJyZW50Q2VsbFN0eWxlKGEpO3JldHVybiB0aGlzLmlzQ2VsbHNNb3ZhYmxlKCkmJiF0aGlzLmlzQ2VsbExvY2tlZChhKSYmMCE9YltteENvbnN0YW50cy5TVFlMRV9NT1ZBQkxFXX07bXhHcmFwaC5wcm90b3R5cGUuaXNDZWxsc01vdmFibGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jZWxsc01vdmFibGV9O214R3JhcGgucHJvdG90eXBlLnNldENlbGxzTW92YWJsZT1mdW5jdGlvbihhKXt0aGlzLmNlbGxzTW92YWJsZT1hfTtteEdyYXBoLnByb3RvdHlwZS5pc0dyaWRFbmFibGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ3JpZEVuYWJsZWR9O214R3JhcGgucHJvdG90eXBlLnNldEdyaWRFbmFibGVkPWZ1bmN0aW9uKGEpe3RoaXMuZ3JpZEVuYWJsZWQ9YX07bXhHcmFwaC5wcm90b3R5cGUuaXNQb3J0c0VuYWJsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wb3J0c0VuYWJsZWR9OwpteEdyYXBoLnByb3RvdHlwZS5zZXRQb3J0c0VuYWJsZWQ9ZnVuY3Rpb24oYSl7dGhpcy5wb3J0c0VuYWJsZWQ9YX07bXhHcmFwaC5wcm90b3R5cGUuZ2V0R3JpZFNpemU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ncmlkU2l6ZX07bXhHcmFwaC5wcm90b3R5cGUuc2V0R3JpZFNpemU9ZnVuY3Rpb24oYSl7dGhpcy5ncmlkU2l6ZT1hfTtteEdyYXBoLnByb3RvdHlwZS5nZXRUb2xlcmFuY2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50b2xlcmFuY2V9O214R3JhcGgucHJvdG90eXBlLnNldFRvbGVyYW5jZT1mdW5jdGlvbihhKXt0aGlzLnRvbGVyYW5jZT1hfTtteEdyYXBoLnByb3RvdHlwZS5pc1ZlcnRleExhYmVsc01vdmFibGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52ZXJ0ZXhMYWJlbHNNb3ZhYmxlfTtteEdyYXBoLnByb3RvdHlwZS5zZXRWZXJ0ZXhMYWJlbHNNb3ZhYmxlPWZ1bmN0aW9uKGEpe3RoaXMudmVydGV4TGFiZWxzTW92YWJsZT1hfTsKbXhHcmFwaC5wcm90b3R5cGUuaXNFZGdlTGFiZWxzTW92YWJsZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVkZ2VMYWJlbHNNb3ZhYmxlfTtteEdyYXBoLnByb3RvdHlwZS5zZXRFZGdlTGFiZWxzTW92YWJsZT1mdW5jdGlvbihhKXt0aGlzLmVkZ2VMYWJlbHNNb3ZhYmxlPWF9O214R3JhcGgucHJvdG90eXBlLmlzU3dpbWxhbmVOZXN0aW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3dpbWxhbmVOZXN0aW5nfTtteEdyYXBoLnByb3RvdHlwZS5zZXRTd2ltbGFuZU5lc3Rpbmc9ZnVuY3Rpb24oYSl7dGhpcy5zd2ltbGFuZU5lc3Rpbmc9YX07bXhHcmFwaC5wcm90b3R5cGUuaXNTd2ltbGFuZVNlbGVjdGlvbkVuYWJsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zd2ltbGFuZVNlbGVjdGlvbkVuYWJsZWR9O214R3JhcGgucHJvdG90eXBlLnNldFN3aW1sYW5lU2VsZWN0aW9uRW5hYmxlZD1mdW5jdGlvbihhKXt0aGlzLnN3aW1sYW5lU2VsZWN0aW9uRW5hYmxlZD1hfTsKbXhHcmFwaC5wcm90b3R5cGUuaXNNdWx0aWdyYXBoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubXVsdGlncmFwaH07bXhHcmFwaC5wcm90b3R5cGUuc2V0TXVsdGlncmFwaD1mdW5jdGlvbihhKXt0aGlzLm11bHRpZ3JhcGg9YX07bXhHcmFwaC5wcm90b3R5cGUuaXNBbGxvd0xvb3BzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYWxsb3dMb29wc307bXhHcmFwaC5wcm90b3R5cGUuc2V0QWxsb3dEYW5nbGluZ0VkZ2VzPWZ1bmN0aW9uKGEpe3RoaXMuYWxsb3dEYW5nbGluZ0VkZ2VzPWF9O214R3JhcGgucHJvdG90eXBlLmlzQWxsb3dEYW5nbGluZ0VkZ2VzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYWxsb3dEYW5nbGluZ0VkZ2VzfTtteEdyYXBoLnByb3RvdHlwZS5zZXRDb25uZWN0YWJsZUVkZ2VzPWZ1bmN0aW9uKGEpe3RoaXMuY29ubmVjdGFibGVFZGdlcz1hfTtteEdyYXBoLnByb3RvdHlwZS5pc0Nvbm5lY3RhYmxlRWRnZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25uZWN0YWJsZUVkZ2VzfTsKbXhHcmFwaC5wcm90b3R5cGUuc2V0Q2xvbmVJbnZhbGlkRWRnZXM9ZnVuY3Rpb24oYSl7dGhpcy5jbG9uZUludmFsaWRFZGdlcz1hfTtteEdyYXBoLnByb3RvdHlwZS5pc0Nsb25lSW52YWxpZEVkZ2VzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2xvbmVJbnZhbGlkRWRnZXN9O214R3JhcGgucHJvdG90eXBlLnNldEFsbG93TG9vcHM9ZnVuY3Rpb24oYSl7dGhpcy5hbGxvd0xvb3BzPWF9O214R3JhcGgucHJvdG90eXBlLmlzRGlzY29ubmVjdE9uTW92ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmRpc2Nvbm5lY3RPbk1vdmV9O214R3JhcGgucHJvdG90eXBlLnNldERpc2Nvbm5lY3RPbk1vdmU9ZnVuY3Rpb24oYSl7dGhpcy5kaXNjb25uZWN0T25Nb3ZlPWF9O214R3JhcGgucHJvdG90eXBlLmlzRHJvcEVuYWJsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kcm9wRW5hYmxlZH07Cm14R3JhcGgucHJvdG90eXBlLnNldERyb3BFbmFibGVkPWZ1bmN0aW9uKGEpe3RoaXMuZHJvcEVuYWJsZWQ9YX07bXhHcmFwaC5wcm90b3R5cGUuaXNTcGxpdEVuYWJsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zcGxpdEVuYWJsZWR9O214R3JhcGgucHJvdG90eXBlLnNldFNwbGl0RW5hYmxlZD1mdW5jdGlvbihhKXt0aGlzLnNwbGl0RW5hYmxlZD1hfTtteEdyYXBoLnByb3RvdHlwZS5pc0NlbGxSZXNpemFibGU9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5nZXRDdXJyZW50Q2VsbFN0eWxlKGEpO3JldHVybiB0aGlzLmlzQ2VsbHNSZXNpemFibGUoKSYmIXRoaXMuaXNDZWxsTG9ja2VkKGEpJiYiMCIhPW14VXRpbHMuZ2V0VmFsdWUoYixteENvbnN0YW50cy5TVFlMRV9SRVNJWkFCTEUsIjEiKX07bXhHcmFwaC5wcm90b3R5cGUuaXNDZWxsc1Jlc2l6YWJsZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNlbGxzUmVzaXphYmxlfTsKbXhHcmFwaC5wcm90b3R5cGUuc2V0Q2VsbHNSZXNpemFibGU9ZnVuY3Rpb24oYSl7dGhpcy5jZWxsc1Jlc2l6YWJsZT1hfTtteEdyYXBoLnByb3RvdHlwZS5pc1Rlcm1pbmFsUG9pbnRNb3ZhYmxlPWZ1bmN0aW9uKGEsYil7cmV0dXJuITB9O214R3JhcGgucHJvdG90eXBlLmlzQ2VsbEJlbmRhYmxlPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZ2V0Q3VycmVudENlbGxTdHlsZShhKTtyZXR1cm4gdGhpcy5pc0NlbGxzQmVuZGFibGUoKSYmIXRoaXMuaXNDZWxsTG9ja2VkKGEpJiYwIT1iW214Q29uc3RhbnRzLlNUWUxFX0JFTkRBQkxFXX07bXhHcmFwaC5wcm90b3R5cGUuaXNDZWxsc0JlbmRhYmxlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2VsbHNCZW5kYWJsZX07bXhHcmFwaC5wcm90b3R5cGUuc2V0Q2VsbHNCZW5kYWJsZT1mdW5jdGlvbihhKXt0aGlzLmNlbGxzQmVuZGFibGU9YX07Cm14R3JhcGgucHJvdG90eXBlLmlzQ2VsbEVkaXRhYmxlPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZ2V0Q3VycmVudENlbGxTdHlsZShhKTtyZXR1cm4gdGhpcy5pc0NlbGxzRWRpdGFibGUoKSYmIXRoaXMuaXNDZWxsTG9ja2VkKGEpJiYwIT1iW214Q29uc3RhbnRzLlNUWUxFX0VESVRBQkxFXX07bXhHcmFwaC5wcm90b3R5cGUuaXNDZWxsc0VkaXRhYmxlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2VsbHNFZGl0YWJsZX07bXhHcmFwaC5wcm90b3R5cGUuc2V0Q2VsbHNFZGl0YWJsZT1mdW5jdGlvbihhKXt0aGlzLmNlbGxzRWRpdGFibGU9YX07bXhHcmFwaC5wcm90b3R5cGUuaXNDZWxsRGlzY29ubmVjdGFibGU9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiB0aGlzLmlzQ2VsbHNEaXNjb25uZWN0YWJsZSgpJiYhdGhpcy5pc0NlbGxMb2NrZWQoYSl9O214R3JhcGgucHJvdG90eXBlLmlzQ2VsbHNEaXNjb25uZWN0YWJsZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNlbGxzRGlzY29ubmVjdGFibGV9OwpteEdyYXBoLnByb3RvdHlwZS5zZXRDZWxsc0Rpc2Nvbm5lY3RhYmxlPWZ1bmN0aW9uKGEpe3RoaXMuY2VsbHNEaXNjb25uZWN0YWJsZT1hfTtteEdyYXBoLnByb3RvdHlwZS5pc1ZhbGlkU291cmNlPWZ1bmN0aW9uKGEpe3JldHVybiBudWxsPT1hJiZ0aGlzLmFsbG93RGFuZ2xpbmdFZGdlc3x8bnVsbCE9YSYmKCF0aGlzLm1vZGVsLmlzRWRnZShhKXx8dGhpcy5jb25uZWN0YWJsZUVkZ2VzKSYmdGhpcy5pc0NlbGxDb25uZWN0YWJsZShhKX07bXhHcmFwaC5wcm90b3R5cGUuaXNWYWxpZFRhcmdldD1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5pc1ZhbGlkU291cmNlKGEpfTtteEdyYXBoLnByb3RvdHlwZS5pc1ZhbGlkQ29ubmVjdGlvbj1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmlzVmFsaWRTb3VyY2UoYSkmJnRoaXMuaXNWYWxpZFRhcmdldChiKX07bXhHcmFwaC5wcm90b3R5cGUuc2V0Q29ubmVjdGFibGU9ZnVuY3Rpb24oYSl7dGhpcy5jb25uZWN0aW9uSGFuZGxlci5zZXRFbmFibGVkKGEpfTsKbXhHcmFwaC5wcm90b3R5cGUuaXNDb25uZWN0YWJsZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbm5lY3Rpb25IYW5kbGVyLmlzRW5hYmxlZCgpfTtteEdyYXBoLnByb3RvdHlwZS5zZXRUb29sdGlwcz1mdW5jdGlvbihhKXt0aGlzLnRvb2x0aXBIYW5kbGVyLnNldEVuYWJsZWQoYSl9O214R3JhcGgucHJvdG90eXBlLnNldFBhbm5pbmc9ZnVuY3Rpb24oYSl7dGhpcy5wYW5uaW5nSGFuZGxlci5wYW5uaW5nRW5hYmxlZD1hfTtteEdyYXBoLnByb3RvdHlwZS5pc0VkaXRpbmc9ZnVuY3Rpb24oYSl7aWYobnVsbCE9dGhpcy5jZWxsRWRpdG9yKXt2YXIgYj10aGlzLmNlbGxFZGl0b3IuZ2V0RWRpdGluZ0NlbGwoKTtyZXR1cm4gbnVsbD09YT9udWxsIT1iOmE9PWJ9cmV0dXJuITF9O214R3JhcGgucHJvdG90eXBlLmlzQXV0b1NpemVDZWxsPWZ1bmN0aW9uKGEpe2E9dGhpcy5nZXRDdXJyZW50Q2VsbFN0eWxlKGEpO3JldHVybiB0aGlzLmlzQXV0b1NpemVDZWxscygpfHwxPT1hW214Q29uc3RhbnRzLlNUWUxFX0FVVE9TSVpFXX07Cm14R3JhcGgucHJvdG90eXBlLmlzQXV0b1NpemVDZWxscz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmF1dG9TaXplQ2VsbHN9O214R3JhcGgucHJvdG90eXBlLnNldEF1dG9TaXplQ2VsbHM9ZnVuY3Rpb24oYSl7dGhpcy5hdXRvU2l6ZUNlbGxzPWF9O214R3JhcGgucHJvdG90eXBlLmlzRXh0ZW5kUGFyZW50PWZ1bmN0aW9uKGEpe3JldHVybiF0aGlzLmdldE1vZGVsKCkuaXNFZGdlKGEpJiZ0aGlzLmlzRXh0ZW5kUGFyZW50cygpfTtteEdyYXBoLnByb3RvdHlwZS5pc0V4dGVuZFBhcmVudHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5leHRlbmRQYXJlbnRzfTtteEdyYXBoLnByb3RvdHlwZS5zZXRFeHRlbmRQYXJlbnRzPWZ1bmN0aW9uKGEpe3RoaXMuZXh0ZW5kUGFyZW50cz1hfTtteEdyYXBoLnByb3RvdHlwZS5pc0V4dGVuZFBhcmVudHNPbkFkZD1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5leHRlbmRQYXJlbnRzT25BZGR9OwpteEdyYXBoLnByb3RvdHlwZS5zZXRFeHRlbmRQYXJlbnRzT25BZGQ9ZnVuY3Rpb24oYSl7dGhpcy5leHRlbmRQYXJlbnRzT25BZGQ9YX07bXhHcmFwaC5wcm90b3R5cGUuaXNFeHRlbmRQYXJlbnRzT25Nb3ZlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXh0ZW5kUGFyZW50c09uTW92ZX07bXhHcmFwaC5wcm90b3R5cGUuc2V0RXh0ZW5kUGFyZW50c09uTW92ZT1mdW5jdGlvbihhKXt0aGlzLmV4dGVuZFBhcmVudHNPbk1vdmU9YX07bXhHcmFwaC5wcm90b3R5cGUuaXNSZWN1cnNpdmVSZXNpemU9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucmVjdXJzaXZlUmVzaXplfTtteEdyYXBoLnByb3RvdHlwZS5zZXRSZWN1cnNpdmVSZXNpemU9ZnVuY3Rpb24oYSl7dGhpcy5yZWN1cnNpdmVSZXNpemU9YX07bXhHcmFwaC5wcm90b3R5cGUuaXNDb25zdHJhaW5DaGlsZD1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5pc0NvbnN0cmFpbkNoaWxkcmVuKCkmJiF0aGlzLmdldE1vZGVsKCkuaXNFZGdlKHRoaXMuZ2V0TW9kZWwoKS5nZXRQYXJlbnQoYSkpfTsKbXhHcmFwaC5wcm90b3R5cGUuaXNDb25zdHJhaW5DaGlsZHJlbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cmFpbkNoaWxkcmVufTtteEdyYXBoLnByb3RvdHlwZS5zZXRDb25zdHJhaW5DaGlsZHJlbj1mdW5jdGlvbihhKXt0aGlzLmNvbnN0cmFpbkNoaWxkcmVuPWF9O214R3JhcGgucHJvdG90eXBlLmlzQ29uc3RyYWluUmVsYXRpdmVDaGlsZHJlbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnN0cmFpblJlbGF0aXZlQ2hpbGRyZW59O214R3JhcGgucHJvdG90eXBlLnNldENvbnN0cmFpblJlbGF0aXZlQ2hpbGRyZW49ZnVuY3Rpb24oYSl7dGhpcy5jb25zdHJhaW5SZWxhdGl2ZUNoaWxkcmVuPWF9O214R3JhcGgucHJvdG90eXBlLmlzQWxsb3dOZWdhdGl2ZUNvb3JkaW5hdGVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYWxsb3dOZWdhdGl2ZUNvb3JkaW5hdGVzfTsKbXhHcmFwaC5wcm90b3R5cGUuc2V0QWxsb3dOZWdhdGl2ZUNvb3JkaW5hdGVzPWZ1bmN0aW9uKGEpe3RoaXMuYWxsb3dOZWdhdGl2ZUNvb3JkaW5hdGVzPWF9O214R3JhcGgucHJvdG90eXBlLmdldE92ZXJsYXA9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuaXNBbGxvd092ZXJsYXBQYXJlbnQoYSk/dGhpcy5kZWZhdWx0T3ZlcmxhcDowfTtteEdyYXBoLnByb3RvdHlwZS5pc0FsbG93T3ZlcmxhcFBhcmVudD1mdW5jdGlvbihhKXtyZXR1cm4hMX07bXhHcmFwaC5wcm90b3R5cGUuZ2V0Rm9sZGFibGVDZWxscz1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLm1vZGVsLmZpbHRlckNlbGxzKGEsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuaXNDZWxsRm9sZGFibGUoYSxiKX0pKX07Cm14R3JhcGgucHJvdG90eXBlLmlzQ2VsbEZvbGRhYmxlPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5nZXRDdXJyZW50Q2VsbFN0eWxlKGEpO3JldHVybiAwPHRoaXMubW9kZWwuZ2V0Q2hpbGRDb3VudChhKSYmMCE9Y1tteENvbnN0YW50cy5TVFlMRV9GT0xEQUJMRV19O214R3JhcGgucHJvdG90eXBlLmlzVmFsaWREcm9wVGFyZ2V0PWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gbnVsbCE9YSYmKHRoaXMuaXNTcGxpdEVuYWJsZWQoKSYmdGhpcy5pc1NwbGl0VGFyZ2V0KGEsYixjKXx8IXRoaXMubW9kZWwuaXNFZGdlKGEpJiYodGhpcy5pc1N3aW1sYW5lKGEpfHwwPHRoaXMubW9kZWwuZ2V0Q2hpbGRDb3VudChhKSYmIXRoaXMuaXNDZWxsQ29sbGFwc2VkKGEpKSl9OwpteEdyYXBoLnByb3RvdHlwZS5pc1NwbGl0VGFyZ2V0PWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gdGhpcy5tb2RlbC5pc0VkZ2UoYSkmJm51bGwhPWImJjE9PWIubGVuZ3RoJiZ0aGlzLmlzQ2VsbENvbm5lY3RhYmxlKGJbMF0pJiZudWxsPT10aGlzLmdldEVkZ2VWYWxpZGF0aW9uRXJyb3IoYSx0aGlzLm1vZGVsLmdldFRlcm1pbmFsKGEsITApLGJbMF0pPyhjPXRoaXMubW9kZWwuZ2V0VGVybWluYWwoYSwhMCksYT10aGlzLm1vZGVsLmdldFRlcm1pbmFsKGEsITEpLCF0aGlzLm1vZGVsLmlzQW5jZXN0b3IoYlswXSxjKSYmIXRoaXMubW9kZWwuaXNBbmNlc3RvcihiWzBdLGEpKTohMX07Cm14R3JhcGgucHJvdG90eXBlLmdldERyb3BUYXJnZXQ9ZnVuY3Rpb24oYSxiLGMsZCl7aWYoIXRoaXMuaXNTd2ltbGFuZU5lc3RpbmcoKSlmb3IodmFyIGU9MDtlPGEubGVuZ3RoO2UrKylpZih0aGlzLmlzU3dpbWxhbmUoYVtlXSkpcmV0dXJuIG51bGw7ZT1teFV0aWxzLmNvbnZlcnRQb2ludCh0aGlzLmNvbnRhaW5lcixteEV2ZW50LmdldENsaWVudFgoYiksbXhFdmVudC5nZXRDbGllbnRZKGIpKTtlLngtPXRoaXMucGFuRHg7ZS55LT10aGlzLnBhbkR5O2U9dGhpcy5nZXRTd2ltbGFuZUF0KGUueCxlLnkpO2lmKG51bGw9PWMpYz1lO2Vsc2UgaWYobnVsbCE9ZSl7Zm9yKHZhciBmPXRoaXMubW9kZWwuZ2V0UGFyZW50KGUpO251bGwhPWYmJnRoaXMuaXNTd2ltbGFuZShmKSYmZiE9YzspZj10aGlzLm1vZGVsLmdldFBhcmVudChmKTtmPT1jJiYoYz1lKX1mb3IoO251bGwhPWMmJiF0aGlzLmlzVmFsaWREcm9wVGFyZ2V0KGMsYSxiKSYmIXRoaXMubW9kZWwuaXNMYXllcihjKTspYz10aGlzLm1vZGVsLmdldFBhcmVudChjKTsKaWYobnVsbD09ZHx8IWQpZm9yKHZhciBnPWM7bnVsbCE9ZyYmMD5teFV0aWxzLmluZGV4T2YoYSxnKTspZz10aGlzLm1vZGVsLmdldFBhcmVudChnKTtyZXR1cm4gdGhpcy5tb2RlbC5pc0xheWVyKGMpfHxudWxsIT1nP251bGw6Y307bXhHcmFwaC5wcm90b3R5cGUuZ2V0RGVmYXVsdFBhcmVudD1mdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0Q3VycmVudFJvb3QoKTtudWxsPT1hJiYoYT10aGlzLmRlZmF1bHRQYXJlbnQsbnVsbD09YSYmKGE9dGhpcy5tb2RlbC5nZXRSb290KCksYT10aGlzLm1vZGVsLmdldENoaWxkQXQoYSwwKSkpO3JldHVybiBhfTtteEdyYXBoLnByb3RvdHlwZS5zZXREZWZhdWx0UGFyZW50PWZ1bmN0aW9uKGEpe3RoaXMuZGVmYXVsdFBhcmVudD1hfTtteEdyYXBoLnByb3RvdHlwZS5nZXRTd2ltbGFuZT1mdW5jdGlvbihhKXtmb3IoO251bGwhPWEmJiF0aGlzLmlzU3dpbWxhbmUoYSk7KWE9dGhpcy5tb2RlbC5nZXRQYXJlbnQoYSk7cmV0dXJuIGF9OwpteEdyYXBoLnByb3RvdHlwZS5nZXRTd2ltbGFuZUF0PWZ1bmN0aW9uKGEsYixjKXtudWxsPT1jJiYoYz10aGlzLmdldEN1cnJlbnRSb290KCksbnVsbD09YyYmKGM9dGhpcy5tb2RlbC5nZXRSb290KCkpKTtpZihudWxsIT1jKWZvcih2YXIgZD10aGlzLm1vZGVsLmdldENoaWxkQ291bnQoYyksZT0wO2U8ZDtlKyspe3ZhciBmPXRoaXMubW9kZWwuZ2V0Q2hpbGRBdChjLGUpO2lmKG51bGwhPWYpe3ZhciBnPXRoaXMuZ2V0U3dpbWxhbmVBdChhLGIsZik7aWYobnVsbCE9ZylyZXR1cm4gZztpZih0aGlzLmlzQ2VsbFZpc2libGUoZikmJnRoaXMuaXNTd2ltbGFuZShmKSYmKGc9dGhpcy52aWV3LmdldFN0YXRlKGYpLHRoaXMuaW50ZXJzZWN0cyhnLGEsYikpKXJldHVybiBmfX1yZXR1cm4gbnVsbH07Cm14R3JhcGgucHJvdG90eXBlLmdldENlbGxBdD1mdW5jdGlvbihhLGIsYyxkLGUsZil7ZD1udWxsIT1kP2Q6ITA7ZT1udWxsIT1lP2U6ITA7bnVsbD09YyYmKGM9dGhpcy5nZXRDdXJyZW50Um9vdCgpLG51bGw9PWMmJihjPXRoaXMuZ2V0TW9kZWwoKS5nZXRSb290KCkpKTtpZihudWxsIT1jKWZvcih2YXIgZz10aGlzLm1vZGVsLmdldENoaWxkQ291bnQoYyktMTswPD1nO2ctLSl7dmFyIGs9dGhpcy5tb2RlbC5nZXRDaGlsZEF0KGMsZyksbD10aGlzLmdldENlbGxBdChhLGIsayxkLGUsZik7aWYobnVsbCE9bClyZXR1cm4gbDtpZih0aGlzLmlzQ2VsbFZpc2libGUoaykmJihlJiZ0aGlzLm1vZGVsLmlzRWRnZShrKXx8ZCYmdGhpcy5tb2RlbC5pc1ZlcnRleChrKSkmJihsPXRoaXMudmlldy5nZXRTdGF0ZShrKSxudWxsIT1sJiYobnVsbD09Znx8IWYobCxhLGIpKSYmdGhpcy5pbnRlcnNlY3RzKGwsYSxiKSkpcmV0dXJuIGt9cmV0dXJuIG51bGx9OwpteEdyYXBoLnByb3RvdHlwZS5pbnRlcnNlY3RzPWZ1bmN0aW9uKGEsYixjKXtpZihudWxsIT1hKXt2YXIgZD1hLmFic29sdXRlUG9pbnRzO2lmKG51bGwhPWQpe2E9dGhpcy50b2xlcmFuY2UqdGhpcy50b2xlcmFuY2U7Zm9yKHZhciBlPWRbMF0sZj0xO2Y8ZC5sZW5ndGg7ZisrKXt2YXIgZz1kW2ZdO2lmKG14VXRpbHMucHRTZWdEaXN0U3EoZS54LGUueSxnLngsZy55LGIsYyk8PWEpcmV0dXJuITA7ZT1nfX1lbHNlIGlmKGU9bXhVdGlscy50b1JhZGlhbnMobXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX1JPVEFUSU9OKXx8MCksMCE9ZSYmKGQ9TWF0aC5jb3MoLWUpLGU9TWF0aC5zaW4oLWUpLGY9bmV3IG14UG9pbnQoYS5nZXRDZW50ZXJYKCksYS5nZXRDZW50ZXJZKCkpLGU9bXhVdGlscy5nZXRSb3RhdGVkUG9pbnQobmV3IG14UG9pbnQoYixjKSxkLGUsZiksYj1lLngsYz1lLnkpLG14VXRpbHMuY29udGFpbnMoYSxiLGMpKXJldHVybiEwfXJldHVybiExfTsKbXhHcmFwaC5wcm90b3R5cGUuaGl0c1N3aW1sYW5lQ29udGVudD1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcy5nZXRWaWV3KCkuZ2V0U3RhdGUoYSk7YT10aGlzLmdldFN0YXJ0U2l6ZShhKTtpZihudWxsIT1kKXt2YXIgZT10aGlzLmdldFZpZXcoKS5nZXRTY2FsZSgpO2ItPWQueDtjLT1kLnk7aWYoMDxhLndpZHRoJiYwPGImJmI+YS53aWR0aCplfHwwPGEuaGVpZ2h0JiYwPGMmJmM+YS5oZWlnaHQqZSlyZXR1cm4hMH1yZXR1cm4hMX07bXhHcmFwaC5wcm90b3R5cGUuZ2V0Q2hpbGRWZXJ0aWNlcz1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5nZXRDaGlsZENlbGxzKGEsITAsITEpfTtteEdyYXBoLnByb3RvdHlwZS5nZXRDaGlsZEVkZ2VzPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmdldENoaWxkQ2VsbHMoYSwhMSwhMCl9OwpteEdyYXBoLnByb3RvdHlwZS5nZXRDaGlsZENlbGxzPWZ1bmN0aW9uKGEsYixjKXthPW51bGwhPWE/YTp0aGlzLmdldERlZmF1bHRQYXJlbnQoKTthPXRoaXMubW9kZWwuZ2V0Q2hpbGRDZWxscyhhLG51bGwhPWI/YjohMSxudWxsIT1jP2M6ITEpO2I9W107Zm9yKGM9MDtjPGEubGVuZ3RoO2MrKyl0aGlzLmlzQ2VsbFZpc2libGUoYVtjXSkmJmIucHVzaChhW2NdKTtyZXR1cm4gYn07bXhHcmFwaC5wcm90b3R5cGUuZ2V0Q29ubmVjdGlvbnM9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5nZXRFZGdlcyhhLGIsITAsITAsITEpfTtteEdyYXBoLnByb3RvdHlwZS5nZXRJbmNvbWluZ0VkZ2VzPWZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuZ2V0RWRnZXMoYSxiLCEwLCExLCExKX07bXhHcmFwaC5wcm90b3R5cGUuZ2V0T3V0Z29pbmdFZGdlcz1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmdldEVkZ2VzKGEsYiwhMSwhMCwhMSl9OwpteEdyYXBoLnByb3RvdHlwZS5nZXRFZGdlcz1mdW5jdGlvbihhLGIsYyxkLGUsZil7Yz1udWxsIT1jP2M6ITA7ZD1udWxsIT1kP2Q6ITA7ZT1udWxsIT1lP2U6ITA7Zj1udWxsIT1mP2Y6ITE7Zm9yKHZhciBnPVtdLGs9dGhpcy5pc0NlbGxDb2xsYXBzZWQoYSksbD10aGlzLm1vZGVsLmdldENoaWxkQ291bnQoYSksbT0wO208bDttKyspe3ZhciBuPXRoaXMubW9kZWwuZ2V0Q2hpbGRBdChhLG0pO2lmKGt8fCF0aGlzLmlzQ2VsbFZpc2libGUobikpZz1nLmNvbmNhdCh0aGlzLm1vZGVsLmdldEVkZ2VzKG4sYyxkKSl9Zz1nLmNvbmNhdCh0aGlzLm1vZGVsLmdldEVkZ2VzKGEsYyxkKSk7az1bXTtmb3IobT0wO208Zy5sZW5ndGg7bSsrKW49dGhpcy52aWV3LmdldFN0YXRlKGdbbV0pLGw9bnVsbCE9bj9uLmdldFZpc2libGVUZXJtaW5hbCghMCk6dGhpcy52aWV3LmdldFZpc2libGVUZXJtaW5hbChnW21dLCEwKSxuPW51bGwhPW4/bi5nZXRWaXNpYmxlVGVybWluYWwoITEpOnRoaXMudmlldy5nZXRWaXNpYmxlVGVybWluYWwoZ1ttXSwKITEpLChlJiZsPT1ufHxsIT1uJiYoYyYmbj09YSYmKG51bGw9PWJ8fHRoaXMuaXNWYWxpZEFuY2VzdG9yKGwsYixmKSl8fGQmJmw9PWEmJihudWxsPT1ifHx0aGlzLmlzVmFsaWRBbmNlc3RvcihuLGIsZikpKSkmJmsucHVzaChnW21dKTtyZXR1cm4ga307bXhHcmFwaC5wcm90b3R5cGUuaXNWYWxpZEFuY2VzdG9yPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gYz90aGlzLm1vZGVsLmlzQW5jZXN0b3IoYixhKTp0aGlzLm1vZGVsLmdldFBhcmVudChhKT09Yn07Cm14R3JhcGgucHJvdG90eXBlLmdldE9wcG9zaXRlcz1mdW5jdGlvbihhLGIsYyxkKXtjPW51bGwhPWM/YzohMDtkPW51bGwhPWQ/ZDohMDt2YXIgZT1bXSxmPW5ldyBteERpY3Rpb25hcnk7aWYobnVsbCE9YSlmb3IodmFyIGc9MDtnPGEubGVuZ3RoO2crKyl7dmFyIGs9dGhpcy52aWV3LmdldFN0YXRlKGFbZ10pLGw9bnVsbCE9az9rLmdldFZpc2libGVUZXJtaW5hbCghMCk6dGhpcy52aWV3LmdldFZpc2libGVUZXJtaW5hbChhW2ddLCEwKSxrPW51bGwhPWs/ay5nZXRWaXNpYmxlVGVybWluYWwoITEpOnRoaXMudmlldy5nZXRWaXNpYmxlVGVybWluYWwoYVtnXSwhMSk7bD09YiYmbnVsbCE9ayYmayE9YiYmZD9mLmdldChrKXx8KGYucHV0KGssITApLGUucHVzaChrKSk6az09YiYmbnVsbCE9bCYmbCE9YiYmYyYmIWYuZ2V0KGwpJiYoZi5wdXQobCwhMCksZS5wdXNoKGwpKX1yZXR1cm4gZX07Cm14R3JhcGgucHJvdG90eXBlLmdldEVkZ2VzQmV0d2Vlbj1mdW5jdGlvbihhLGIsYyl7Yz1udWxsIT1jP2M6ITE7Zm9yKHZhciBkPXRoaXMuZ2V0RWRnZXMoYSksZT1bXSxmPTA7ZjxkLmxlbmd0aDtmKyspe3ZhciBnPXRoaXMudmlldy5nZXRTdGF0ZShkW2ZdKSxrPW51bGwhPWc/Zy5nZXRWaXNpYmxlVGVybWluYWwoITApOnRoaXMudmlldy5nZXRWaXNpYmxlVGVybWluYWwoZFtmXSwhMCksZz1udWxsIT1nP2cuZ2V0VmlzaWJsZVRlcm1pbmFsKCExKTp0aGlzLnZpZXcuZ2V0VmlzaWJsZVRlcm1pbmFsKGRbZl0sITEpOyhrPT1hJiZnPT1ifHwhYyYmaz09YiYmZz09YSkmJmUucHVzaChkW2ZdKX1yZXR1cm4gZX07Cm14R3JhcGgucHJvdG90eXBlLmdldFBvaW50Rm9yRXZlbnQ9ZnVuY3Rpb24oYSxiKXt2YXIgYz1teFV0aWxzLmNvbnZlcnRQb2ludCh0aGlzLmNvbnRhaW5lcixteEV2ZW50LmdldENsaWVudFgoYSksbXhFdmVudC5nZXRDbGllbnRZKGEpKSxkPXRoaXMudmlldy5zY2FsZSxlPXRoaXMudmlldy50cmFuc2xhdGUsZj0wIT1iP3RoaXMuZ3JpZFNpemUvMjowO2MueD10aGlzLnNuYXAoYy54L2QtZS54LWYpO2MueT10aGlzLnNuYXAoYy55L2QtZS55LWYpO3JldHVybiBjfTsKbXhHcmFwaC5wcm90b3R5cGUuZ2V0Q2VsbHM9ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe2Y9bnVsbCE9Zj9mOltdO2lmKDA8Y3x8MDxkKXt2YXIgZz10aGlzLmdldE1vZGVsKCksaz1hK2MsbD1iK2Q7bnVsbD09ZSYmKGU9dGhpcy5nZXRDdXJyZW50Um9vdCgpLG51bGw9PWUmJihlPWcuZ2V0Um9vdCgpKSk7aWYobnVsbCE9ZSlmb3IodmFyIG09Zy5nZXRDaGlsZENvdW50KGUpLG49MDtuPG07bisrKXt2YXIgcD1nLmdldENoaWxkQXQoZSxuKSxxPXRoaXMudmlldy5nZXRTdGF0ZShwKTtpZihudWxsIT1xJiZ0aGlzLmlzQ2VsbFZpc2libGUocCkpe3ZhciByPW14VXRpbHMuZ2V0VmFsdWUocS5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9ST1RBVElPTil8fDA7MCE9ciYmKHE9bXhVdGlscy5nZXRCb3VuZGluZ0JveChxLHIpKTsoZy5pc0VkZ2UocCl8fGcuaXNWZXJ0ZXgocCkpJiZxLng+PWEmJnEueStxLmhlaWdodDw9bCYmcS55Pj1iJiZxLngrcS53aWR0aDw9az9mLnB1c2gocCk6dGhpcy5nZXRDZWxscyhhLApiLGMsZCxwLGYpfX19cmV0dXJuIGZ9O214R3JhcGgucHJvdG90eXBlLmdldENlbGxzQmV5b25kPWZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9W107aWYoZHx8ZSlpZihudWxsPT1jJiYoYz10aGlzLmdldERlZmF1bHRQYXJlbnQoKSksbnVsbCE9Yylmb3IodmFyIGc9dGhpcy5tb2RlbC5nZXRDaGlsZENvdW50KGMpLGs9MDtrPGc7aysrKXt2YXIgbD10aGlzLm1vZGVsLmdldENoaWxkQXQoYyxrKSxtPXRoaXMudmlldy5nZXRTdGF0ZShsKTt0aGlzLmlzQ2VsbFZpc2libGUobCkmJm51bGwhPW0mJighZHx8bS54Pj1hKSYmKCFlfHxtLnk+PWIpJiZmLnB1c2gobCl9cmV0dXJuIGZ9OwpteEdyYXBoLnByb3RvdHlwZS5maW5kVHJlZVJvb3RzPWZ1bmN0aW9uKGEsYixjKXtiPW51bGwhPWI/YjohMTtjPW51bGwhPWM/YzohMTt2YXIgZD1bXTtpZihudWxsIT1hKXtmb3IodmFyIGU9dGhpcy5nZXRNb2RlbCgpLGY9ZS5nZXRDaGlsZENvdW50KGEpLGc9bnVsbCxrPTAsbD0wO2w8ZjtsKyspe3ZhciBtPWUuZ2V0Q2hpbGRBdChhLGwpO2lmKHRoaXMubW9kZWwuaXNWZXJ0ZXgobSkmJnRoaXMuaXNDZWxsVmlzaWJsZShtKSl7Zm9yKHZhciBuPXRoaXMuZ2V0Q29ubmVjdGlvbnMobSxiP2E6bnVsbCkscD0wLHE9MCxyPTA7cjxuLmxlbmd0aDtyKyspdGhpcy52aWV3LmdldFZpc2libGVUZXJtaW5hbChuW3JdLCEwKT09bT9wKys6cSsrOyhjJiYwPT1wJiYwPHF8fCFjJiYwPT1xJiYwPHApJiZkLnB1c2gobSk7bj1jP3EtcDpwLXE7bj5rJiYoaz1uLGc9bSl9fTA9PWQubGVuZ3RoJiZudWxsIT1nJiZkLnB1c2goZyl9cmV0dXJuIGR9OwpteEdyYXBoLnByb3RvdHlwZS50cmF2ZXJzZT1mdW5jdGlvbihhLGIsYyxkLGUsZil7aWYobnVsbCE9YyYmbnVsbCE9YSYmKGI9bnVsbCE9Yj9iOiEwLGY9bnVsbCE9Zj9mOiExLGU9ZXx8bmV3IG14RGljdGlvbmFyeSwhZS5nZXQoYSkmJihlLnB1dChhLCEwKSxkPWMoYSxkKSxudWxsPT1kfHxkKSkmJihkPXRoaXMubW9kZWwuZ2V0RWRnZUNvdW50KGEpLDA8ZCkpZm9yKHZhciBnPTA7ZzxkO2crKyl7dmFyIGs9dGhpcy5tb2RlbC5nZXRFZGdlQXQoYSxnKSxsPXRoaXMubW9kZWwuZ2V0VGVybWluYWwoaywhMCk9PWE7YiYmIWYhPWx8fChsPXRoaXMubW9kZWwuZ2V0VGVybWluYWwoaywhbCksdGhpcy50cmF2ZXJzZShsLGIsYyxrLGUsZikpfX07bXhHcmFwaC5wcm90b3R5cGUuaXNDZWxsU2VsZWN0ZWQ9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZ2V0U2VsZWN0aW9uTW9kZWwoKS5pc1NlbGVjdGVkKGEpfTtteEdyYXBoLnByb3RvdHlwZS5pc1NlbGVjdGlvbkVtcHR5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0U2VsZWN0aW9uTW9kZWwoKS5pc0VtcHR5KCl9OwpteEdyYXBoLnByb3RvdHlwZS5jbGVhclNlbGVjdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFNlbGVjdGlvbk1vZGVsKCkuY2xlYXIoKX07bXhHcmFwaC5wcm90b3R5cGUuZ2V0U2VsZWN0aW9uQ291bnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRTZWxlY3Rpb25Nb2RlbCgpLmNlbGxzLmxlbmd0aH07bXhHcmFwaC5wcm90b3R5cGUuZ2V0U2VsZWN0aW9uQ2VsbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFNlbGVjdGlvbk1vZGVsKCkuY2VsbHNbMF19O214R3JhcGgucHJvdG90eXBlLmdldFNlbGVjdGlvbkNlbGxzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0U2VsZWN0aW9uTW9kZWwoKS5jZWxscy5zbGljZSgpfTtteEdyYXBoLnByb3RvdHlwZS5zZXRTZWxlY3Rpb25DZWxsPWZ1bmN0aW9uKGEpe3RoaXMuZ2V0U2VsZWN0aW9uTW9kZWwoKS5zZXRDZWxsKGEpfTtteEdyYXBoLnByb3RvdHlwZS5zZXRTZWxlY3Rpb25DZWxscz1mdW5jdGlvbihhKXt0aGlzLmdldFNlbGVjdGlvbk1vZGVsKCkuc2V0Q2VsbHMoYSl9OwpteEdyYXBoLnByb3RvdHlwZS5hZGRTZWxlY3Rpb25DZWxsPWZ1bmN0aW9uKGEpe3RoaXMuZ2V0U2VsZWN0aW9uTW9kZWwoKS5hZGRDZWxsKGEpfTtteEdyYXBoLnByb3RvdHlwZS5hZGRTZWxlY3Rpb25DZWxscz1mdW5jdGlvbihhKXt0aGlzLmdldFNlbGVjdGlvbk1vZGVsKCkuYWRkQ2VsbHMoYSl9O214R3JhcGgucHJvdG90eXBlLnJlbW92ZVNlbGVjdGlvbkNlbGw9ZnVuY3Rpb24oYSl7dGhpcy5nZXRTZWxlY3Rpb25Nb2RlbCgpLnJlbW92ZUNlbGwoYSl9O214R3JhcGgucHJvdG90eXBlLnJlbW92ZVNlbGVjdGlvbkNlbGxzPWZ1bmN0aW9uKGEpe3RoaXMuZ2V0U2VsZWN0aW9uTW9kZWwoKS5yZW1vdmVDZWxscyhhKX07bXhHcmFwaC5wcm90b3R5cGUuc2VsZWN0UmVnaW9uPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5nZXRDZWxscyhhLngsYS55LGEud2lkdGgsYS5oZWlnaHQpO3RoaXMuc2VsZWN0Q2VsbHNGb3JFdmVudChjLGIpO3JldHVybiBjfTsKbXhHcmFwaC5wcm90b3R5cGUuc2VsZWN0TmV4dENlbGw9ZnVuY3Rpb24oKXt0aGlzLnNlbGVjdENlbGwoITApfTtteEdyYXBoLnByb3RvdHlwZS5zZWxlY3RQcmV2aW91c0NlbGw9ZnVuY3Rpb24oKXt0aGlzLnNlbGVjdENlbGwoKX07bXhHcmFwaC5wcm90b3R5cGUuc2VsZWN0UGFyZW50Q2VsbD1mdW5jdGlvbigpe3RoaXMuc2VsZWN0Q2VsbCghMSwhMCl9O214R3JhcGgucHJvdG90eXBlLnNlbGVjdENoaWxkQ2VsbD1mdW5jdGlvbigpe3RoaXMuc2VsZWN0Q2VsbCghMSwhMSwhMCl9OwpteEdyYXBoLnByb3RvdHlwZS5zZWxlY3RDZWxsPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLnNlbGVjdGlvbk1vZGVsLGU9MDxkLmNlbGxzLmxlbmd0aD9kLmNlbGxzWzBdOm51bGw7MTxkLmNlbGxzLmxlbmd0aCYmZC5jbGVhcigpO3ZhciBkPW51bGwhPWU/dGhpcy5tb2RlbC5nZXRQYXJlbnQoZSk6dGhpcy5nZXREZWZhdWx0UGFyZW50KCksZj10aGlzLm1vZGVsLmdldENoaWxkQ291bnQoZCk7bnVsbD09ZSYmMDxmPyhhPXRoaXMubW9kZWwuZ2V0Q2hpbGRBdChkLDApLHRoaXMuc2V0U2VsZWN0aW9uQ2VsbChhKSk6bnVsbCE9ZSYmIWJ8fG51bGw9PXRoaXMudmlldy5nZXRTdGF0ZShkKXx8bnVsbD09dGhpcy5tb2RlbC5nZXRHZW9tZXRyeShkKT9udWxsIT1lJiZjPzA8dGhpcy5tb2RlbC5nZXRDaGlsZENvdW50KGUpJiYoYT10aGlzLm1vZGVsLmdldENoaWxkQXQoZSwwKSx0aGlzLnNldFNlbGVjdGlvbkNlbGwoYSkpOjA8ZiYmKGI9ZC5nZXRJbmRleChlKSxhPyhiKyssYT10aGlzLm1vZGVsLmdldENoaWxkQXQoZCwKYiVmKSk6KGItLSxhPXRoaXMubW9kZWwuZ2V0Q2hpbGRBdChkLDA+Yj9mLTE6YikpLHRoaXMuc2V0U2VsZWN0aW9uQ2VsbChhKSk6dGhpcy5nZXRDdXJyZW50Um9vdCgpIT1kJiZ0aGlzLnNldFNlbGVjdGlvbkNlbGwoZCl9O214R3JhcGgucHJvdG90eXBlLnNlbGVjdEFsbD1mdW5jdGlvbihhLGIpe2E9YXx8dGhpcy5nZXREZWZhdWx0UGFyZW50KCk7dmFyIGM9Yj90aGlzLm1vZGVsLmZpbHRlckRlc2NlbmRhbnRzKG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGIpe3JldHVybiBiIT1hJiZudWxsIT10aGlzLnZpZXcuZ2V0U3RhdGUoYil9KSxhKTp0aGlzLm1vZGVsLmdldENoaWxkcmVuKGEpO251bGwhPWMmJnRoaXMuc2V0U2VsZWN0aW9uQ2VsbHMoYyl9O214R3JhcGgucHJvdG90eXBlLnNlbGVjdFZlcnRpY2VzPWZ1bmN0aW9uKGEsYil7dGhpcy5zZWxlY3RDZWxscyghMCwhMSxhLGIpfTsKbXhHcmFwaC5wcm90b3R5cGUuc2VsZWN0RWRnZXM9ZnVuY3Rpb24oYSl7dGhpcy5zZWxlY3RDZWxscyghMSwhMCxhKX07bXhHcmFwaC5wcm90b3R5cGUuc2VsZWN0Q2VsbHM9ZnVuY3Rpb24oYSxiLGMsZCl7Yz1jfHx0aGlzLmdldERlZmF1bHRQYXJlbnQoKTt2YXIgZT1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihjKXtyZXR1cm4gbnVsbCE9dGhpcy52aWV3LmdldFN0YXRlKGMpJiYoKGR8fDA9PXRoaXMubW9kZWwuZ2V0Q2hpbGRDb3VudChjKSkmJnRoaXMubW9kZWwuaXNWZXJ0ZXgoYykmJmEmJiF0aGlzLm1vZGVsLmlzRWRnZSh0aGlzLm1vZGVsLmdldFBhcmVudChjKSl8fHRoaXMubW9kZWwuaXNFZGdlKGMpJiZiKX0pO2M9dGhpcy5tb2RlbC5maWx0ZXJEZXNjZW5kYW50cyhlLGMpO251bGwhPWMmJnRoaXMuc2V0U2VsZWN0aW9uQ2VsbHMoYyl9OwpteEdyYXBoLnByb3RvdHlwZS5zZWxlY3RDZWxsRm9yRXZlbnQ9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmlzQ2VsbFNlbGVjdGVkKGEpO3RoaXMuaXNUb2dnbGVFdmVudChiKT9jP3RoaXMucmVtb3ZlU2VsZWN0aW9uQ2VsbChhKTp0aGlzLmFkZFNlbGVjdGlvbkNlbGwoYSk6YyYmMT09dGhpcy5nZXRTZWxlY3Rpb25Db3VudCgpfHx0aGlzLnNldFNlbGVjdGlvbkNlbGwoYSl9O214R3JhcGgucHJvdG90eXBlLnNlbGVjdENlbGxzRm9yRXZlbnQ9ZnVuY3Rpb24oYSxiKXt0aGlzLmlzVG9nZ2xlRXZlbnQoYik/dGhpcy5hZGRTZWxlY3Rpb25DZWxscyhhKTp0aGlzLnNldFNlbGVjdGlvbkNlbGxzKGEpfTsKbXhHcmFwaC5wcm90b3R5cGUuY3JlYXRlSGFuZGxlcj1mdW5jdGlvbihhKXt2YXIgYj1udWxsO2lmKG51bGwhPWEpaWYodGhpcy5tb2RlbC5pc0VkZ2UoYS5jZWxsKSl2YXIgYj1hLmdldFZpc2libGVUZXJtaW5hbFN0YXRlKCEwKSxjPWEuZ2V0VmlzaWJsZVRlcm1pbmFsU3RhdGUoITEpLGQ9dGhpcy5nZXRDZWxsR2VvbWV0cnkoYS5jZWxsKSxiPXRoaXMudmlldy5nZXRFZGdlU3R5bGUoYSxudWxsIT1kP2QucG9pbnRzOm51bGwsYixjKSxiPXRoaXMuY3JlYXRlRWRnZUhhbmRsZXIoYSxiKTtlbHNlIGI9dGhpcy5jcmVhdGVWZXJ0ZXhIYW5kbGVyKGEpO3JldHVybiBifTtteEdyYXBoLnByb3RvdHlwZS5jcmVhdGVWZXJ0ZXhIYW5kbGVyPWZ1bmN0aW9uKGEpe3JldHVybiBuZXcgbXhWZXJ0ZXhIYW5kbGVyKGEpfTsKbXhHcmFwaC5wcm90b3R5cGUuY3JlYXRlRWRnZUhhbmRsZXI9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYj09bXhFZGdlU3R5bGUuTG9vcHx8Yj09bXhFZGdlU3R5bGUuRWxib3dDb25uZWN0b3J8fGI9PW14RWRnZVN0eWxlLlNpZGVUb1NpZGV8fGI9PW14RWRnZVN0eWxlLlRvcFRvQm90dG9tP3RoaXMuY3JlYXRlRWxib3dFZGdlSGFuZGxlcihhKTpiPT1teEVkZ2VTdHlsZS5TZWdtZW50Q29ubmVjdG9yfHxiPT1teEVkZ2VTdHlsZS5PcnRoQ29ubmVjdG9yP3RoaXMuY3JlYXRlRWRnZVNlZ21lbnRIYW5kbGVyKGEpOm5ldyBteEVkZ2VIYW5kbGVyKGEpfTtteEdyYXBoLnByb3RvdHlwZS5jcmVhdGVFZGdlU2VnbWVudEhhbmRsZXI9ZnVuY3Rpb24oYSl7cmV0dXJuIG5ldyBteEVkZ2VTZWdtZW50SGFuZGxlcihhKX07bXhHcmFwaC5wcm90b3R5cGUuY3JlYXRlRWxib3dFZGdlSGFuZGxlcj1mdW5jdGlvbihhKXtyZXR1cm4gbmV3IG14RWxib3dFZGdlSGFuZGxlcihhKX07Cm14R3JhcGgucHJvdG90eXBlLmFkZE1vdXNlTGlzdGVuZXI9ZnVuY3Rpb24oYSl7bnVsbD09dGhpcy5tb3VzZUxpc3RlbmVycyYmKHRoaXMubW91c2VMaXN0ZW5lcnM9W10pO3RoaXMubW91c2VMaXN0ZW5lcnMucHVzaChhKX07bXhHcmFwaC5wcm90b3R5cGUucmVtb3ZlTW91c2VMaXN0ZW5lcj1mdW5jdGlvbihhKXtpZihudWxsIT10aGlzLm1vdXNlTGlzdGVuZXJzKWZvcih2YXIgYj0wO2I8dGhpcy5tb3VzZUxpc3RlbmVycy5sZW5ndGg7YisrKWlmKHRoaXMubW91c2VMaXN0ZW5lcnNbYl09PWEpe3RoaXMubW91c2VMaXN0ZW5lcnMuc3BsaWNlKGIsMSk7YnJlYWt9fTsKbXhHcmFwaC5wcm90b3R5cGUudXBkYXRlTW91c2VFdmVudD1mdW5jdGlvbihhLGIpe2lmKG51bGw9PWEuZ3JhcGhYfHxudWxsPT1hLmdyYXBoWSl7dmFyIGM9bXhVdGlscy5jb252ZXJ0UG9pbnQodGhpcy5jb250YWluZXIsYS5nZXRYKCksYS5nZXRZKCkpO2EuZ3JhcGhYPWMueC10aGlzLnBhbkR4O2EuZ3JhcGhZPWMueS10aGlzLnBhbkR5O251bGw9PWEuZ2V0Q2VsbCgpJiZ0aGlzLmlzTW91c2VEb3duJiZiPT1teEV2ZW50Lk1PVVNFX01PVkUmJihhLnN0YXRlPXRoaXMudmlldy5nZXRTdGF0ZSh0aGlzLmdldENlbGxBdChjLngsYy55LG51bGwsbnVsbCxudWxsLGZ1bmN0aW9uKGEpe3JldHVybiBudWxsPT1hLnNoYXBlfHxhLnNoYXBlLnBhaW50QmFja2dyb3VuZCE9bXhSZWN0YW5nbGVTaGFwZS5wcm90b3R5cGUucGFpbnRCYWNrZ3JvdW5kfHwiMSI9PW14VXRpbHMuZ2V0VmFsdWUoYS5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9QT0lOVEVSX0VWRU5UUywiMSIpfHxudWxsIT1hLnNoYXBlLmZpbGwmJgphLnNoYXBlLmZpbGwhPW14Q29uc3RhbnRzLk5PTkV9KSkpfXJldHVybiBhfTtteEdyYXBoLnByb3RvdHlwZS5nZXRTdGF0ZUZvclRvdWNoRXZlbnQ9ZnVuY3Rpb24oYSl7dmFyIGI9bXhFdmVudC5nZXRDbGllbnRYKGEpO2E9bXhFdmVudC5nZXRDbGllbnRZKGEpO2I9bXhVdGlscy5jb252ZXJ0UG9pbnQodGhpcy5jb250YWluZXIsYixhKTtyZXR1cm4gdGhpcy52aWV3LmdldFN0YXRlKHRoaXMuZ2V0Q2VsbEF0KGIueCxiLnkpKX07Cm14R3JhcGgucHJvdG90eXBlLmlzRXZlbnRJZ25vcmVkPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1teEV2ZW50LmlzTW91c2VFdmVudChiLmdldEV2ZW50KCkpLGU9ITE7Yi5nZXRFdmVudCgpPT10aGlzLmxhc3RFdmVudD9lPSEwOnRoaXMubGFzdEV2ZW50PWIuZ2V0RXZlbnQoKTtudWxsIT10aGlzLmV2ZW50U291cmNlJiZhIT1teEV2ZW50Lk1PVVNFX01PVkU/KG14RXZlbnQucmVtb3ZlR2VzdHVyZUxpc3RlbmVycyh0aGlzLmV2ZW50U291cmNlLG51bGwsdGhpcy5tb3VzZU1vdmVSZWRpcmVjdCx0aGlzLm1vdXNlVXBSZWRpcmVjdCksdGhpcy5ldmVudFNvdXJjZT10aGlzLm1vdXNlVXBSZWRpcmVjdD10aGlzLm1vdXNlTW92ZVJlZGlyZWN0PW51bGwpOm14Q2xpZW50LklTX0dDfHxudWxsPT10aGlzLmV2ZW50U291cmNlfHxiLmdldFNvdXJjZSgpPT10aGlzLmV2ZW50U291cmNlPyFteENsaWVudC5JU19UT1VDSHx8YSE9bXhFdmVudC5NT1VTRV9ET1dOfHxkfHxteEV2ZW50LmlzUGVuRXZlbnQoYi5nZXRFdmVudCgpKXx8Cih0aGlzLmV2ZW50U291cmNlPWIuZ2V0U291cmNlKCksdGhpcy5tb3VzZU1vdmVSZWRpcmVjdD1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXt0aGlzLmZpcmVNb3VzZUV2ZW50KG14RXZlbnQuTU9VU0VfTU9WRSxuZXcgbXhNb3VzZUV2ZW50KGEsdGhpcy5nZXRTdGF0ZUZvclRvdWNoRXZlbnQoYSkpKX0pLHRoaXMubW91c2VVcFJlZGlyZWN0PW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3RoaXMuZmlyZU1vdXNlRXZlbnQobXhFdmVudC5NT1VTRV9VUCxuZXcgbXhNb3VzZUV2ZW50KGEsdGhpcy5nZXRTdGF0ZUZvclRvdWNoRXZlbnQoYSkpKX0pLG14RXZlbnQuYWRkR2VzdHVyZUxpc3RlbmVycyh0aGlzLmV2ZW50U291cmNlLG51bGwsdGhpcy5tb3VzZU1vdmVSZWRpcmVjdCx0aGlzLm1vdXNlVXBSZWRpcmVjdCkpOmU9ITA7dGhpcy5pc1N5bnRoZXRpY0V2ZW50SWdub3JlZChhLGIsYykmJihlPSEwKTtpZighbXhFdmVudC5pc1BvcHVwVHJpZ2dlcih0aGlzLmxhc3RFdmVudCkmJgphIT1teEV2ZW50Lk1PVVNFX01PVkUmJjI9PXRoaXMubGFzdEV2ZW50LmRldGFpbClyZXR1cm4hMDthPT1teEV2ZW50Lk1PVVNFX1VQJiZ0aGlzLmlzTW91c2VEb3duP3RoaXMuaXNNb3VzZURvd249ITE6YSE9bXhFdmVudC5NT1VTRV9ET1dOfHx0aGlzLmlzTW91c2VEb3duPyFlJiYoKCFteENsaWVudC5JU19GRnx8YSE9bXhFdmVudC5NT1VTRV9NT1ZFKSYmdGhpcy5pc01vdXNlRG93biYmdGhpcy5pc01vdXNlVHJpZ2dlciE9ZHx8YT09bXhFdmVudC5NT1VTRV9ET1dOJiZ0aGlzLmlzTW91c2VEb3dufHxhPT1teEV2ZW50Lk1PVVNFX1VQJiYhdGhpcy5pc01vdXNlRG93bikmJihlPSEwKToodGhpcy5pc01vdXNlRG93bj0hMCx0aGlzLmlzTW91c2VUcmlnZ2VyPWQpO2V8fGEhPW14RXZlbnQuTU9VU0VfRE9XTnx8KHRoaXMubGFzdE1vdXNlWD1iLmdldFgoKSx0aGlzLmxhc3RNb3VzZVk9Yi5nZXRZKCkpO3JldHVybiBlfTsKbXhHcmFwaC5wcm90b3R5cGUuaXNTeW50aGV0aWNFdmVudElnbm9yZWQ9ZnVuY3Rpb24oYSxiLGMpe2M9ITE7Yj1teEV2ZW50LmlzTW91c2VFdmVudChiLmdldEV2ZW50KCkpO3RoaXMuaWdub3JlTW91c2VFdmVudHMmJmImJmEhPW14RXZlbnQuTU9VU0VfTU9WRT8odGhpcy5pZ25vcmVNb3VzZUV2ZW50cz1hIT1teEV2ZW50Lk1PVVNFX1VQLGM9ITApOm14Q2xpZW50LklTX0ZGJiYhYiYmYT09bXhFdmVudC5NT1VTRV9VUCYmKHRoaXMuaWdub3JlTW91c2VFdmVudHM9ITApO3JldHVybiBjfTsKbXhHcmFwaC5wcm90b3R5cGUuaXNFdmVudFNvdXJjZUlnbm9yZWQ9ZnVuY3Rpb24oYSxiKXt2YXIgYz1iLmdldFNvdXJjZSgpLGQ9bnVsbCE9Yy5ub2RlTmFtZT9jLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk6IiIsZT0hbXhFdmVudC5pc01vdXNlRXZlbnQoYi5nZXRFdmVudCgpKXx8bXhFdmVudC5pc0xlZnRNb3VzZUJ1dHRvbihiLmdldEV2ZW50KCkpO3JldHVybiBhPT1teEV2ZW50Lk1PVVNFX0RPV04mJmUmJigic2VsZWN0Ij09ZHx8Im9wdGlvbiI9PWR8fCJpbnB1dCI9PWQmJiJjaGVja2JveCIhPWMudHlwZSYmInJhZGlvIiE9Yy50eXBlJiYiYnV0dG9uIiE9Yy50eXBlJiYic3VibWl0IiE9Yy50eXBlJiYiZmlsZSIhPWMudHlwZSl9O214R3JhcGgucHJvdG90eXBlLmdldEV2ZW50U3RhdGU9ZnVuY3Rpb24oYSl7cmV0dXJuIGF9OwpteEdyYXBoLnByb3RvdHlwZS5maXJlTW91c2VFdmVudD1mdW5jdGlvbihhLGIsYyl7aWYodGhpcy5pc0V2ZW50U291cmNlSWdub3JlZChhLGIpKW51bGwhPXRoaXMudG9vbHRpcEhhbmRsZXImJnRoaXMudG9vbHRpcEhhbmRsZXIuaGlkZSgpO2Vsc2V7bnVsbD09YyYmKGM9dGhpcyk7Yj10aGlzLnVwZGF0ZU1vdXNlRXZlbnQoYixhKTtpZighdGhpcy5uYXRpdmVEYmxDbGlja0VuYWJsZWQmJiFteEV2ZW50LmlzUG9wdXBUcmlnZ2VyKGIuZ2V0RXZlbnQoKSl8fHRoaXMuZG91YmxlVGFwRW5hYmxlZCYmbXhDbGllbnQuSVNfVE9VQ0gmJihteEV2ZW50LmlzVG91Y2hFdmVudChiLmdldEV2ZW50KCkpfHxteEV2ZW50LmlzUGVuRXZlbnQoYi5nZXRFdmVudCgpKSkpe3ZhciBkPShuZXcgRGF0ZSkuZ2V0VGltZSgpO2lmKCFteENsaWVudC5JU19RVUlSS1MmJmE9PW14RXZlbnQuTU9VU0VfRE9XTnx8bXhDbGllbnQuSVNfUVVJUktTJiZhPT1teEV2ZW50Lk1PVVNFX1VQJiYhdGhpcy5maXJlRG91YmxlQ2xpY2spaWYobnVsbCE9CnRoaXMubGFzdFRvdWNoRXZlbnQmJnRoaXMubGFzdFRvdWNoRXZlbnQhPWIuZ2V0RXZlbnQoKSYmZC10aGlzLmxhc3RUb3VjaFRpbWU8dGhpcy5kb3VibGVUYXBUaW1lb3V0JiZNYXRoLmFicyh0aGlzLmxhc3RUb3VjaFgtYi5nZXRYKCkpPHRoaXMuZG91YmxlVGFwVG9sZXJhbmNlJiZNYXRoLmFicyh0aGlzLmxhc3RUb3VjaFktYi5nZXRZKCkpPHRoaXMuZG91YmxlVGFwVG9sZXJhbmNlJiYyPnRoaXMuZG91YmxlQ2xpY2tDb3VudGVyKXtpZih0aGlzLmRvdWJsZUNsaWNrQ291bnRlcisrLGQ9ITEsYT09bXhFdmVudC5NT1VTRV9VUD9iLmdldENlbGwoKT09dGhpcy5sYXN0VG91Y2hDZWxsJiZudWxsIT10aGlzLmxhc3RUb3VjaENlbGwmJih0aGlzLmxhc3RUb3VjaFRpbWU9MCxkPXRoaXMubGFzdFRvdWNoQ2VsbCx0aGlzLmxhc3RUb3VjaENlbGw9bnVsbCxteENsaWVudC5JU19RVUlSS1MmJmIuZ2V0U291cmNlKCkuZmlyZUV2ZW50KCJvbmRibGNsaWNrIiksdGhpcy5kYmxDbGljayhiLmdldEV2ZW50KCksCmQpLGQ9ITApOih0aGlzLmZpcmVEb3VibGVDbGljaz0hMCx0aGlzLmxhc3RUb3VjaFRpbWU9MCksIW14Q2xpZW50LklTX1FVSVJLU3x8ZCl7bXhFdmVudC5jb25zdW1lKGIuZ2V0RXZlbnQoKSk7cmV0dXJufX1lbHNle2lmKG51bGw9PXRoaXMubGFzdFRvdWNoRXZlbnR8fHRoaXMubGFzdFRvdWNoRXZlbnQhPWIuZ2V0RXZlbnQoKSl0aGlzLmxhc3RUb3VjaENlbGw9Yi5nZXRDZWxsKCksdGhpcy5sYXN0VG91Y2hYPWIuZ2V0WCgpLHRoaXMubGFzdFRvdWNoWT1iLmdldFkoKSx0aGlzLmxhc3RUb3VjaFRpbWU9ZCx0aGlzLmxhc3RUb3VjaEV2ZW50PWIuZ2V0RXZlbnQoKSx0aGlzLmRvdWJsZUNsaWNrQ291bnRlcj0wfWVsc2UgaWYoKHRoaXMuaXNNb3VzZURvd258fGE9PW14RXZlbnQuTU9VU0VfVVApJiZ0aGlzLmZpcmVEb3VibGVDbGljayl7dGhpcy5maXJlRG91YmxlQ2xpY2s9ITE7ZD10aGlzLmxhc3RUb3VjaENlbGw7dGhpcy5sYXN0VG91Y2hDZWxsPW51bGw7dGhpcy5pc01vdXNlRG93bj0KITE7KG51bGwhPWR8fChteEV2ZW50LmlzVG91Y2hFdmVudChiLmdldEV2ZW50KCkpfHxteEV2ZW50LmlzUGVuRXZlbnQoYi5nZXRFdmVudCgpKSkmJihteENsaWVudC5JU19HQ3x8bXhDbGllbnQuSVNfU0YpKSYmTWF0aC5hYnModGhpcy5sYXN0VG91Y2hYLWIuZ2V0WCgpKTx0aGlzLmRvdWJsZVRhcFRvbGVyYW5jZSYmTWF0aC5hYnModGhpcy5sYXN0VG91Y2hZLWIuZ2V0WSgpKTx0aGlzLmRvdWJsZVRhcFRvbGVyYW5jZT90aGlzLmRibENsaWNrKGIuZ2V0RXZlbnQoKSxkKTpteEV2ZW50LmNvbnN1bWUoYi5nZXRFdmVudCgpKTtyZXR1cm59fWlmKCF0aGlzLmlzRXZlbnRJZ25vcmVkKGEsYixjKSl7Yi5zdGF0ZT10aGlzLmdldEV2ZW50U3RhdGUoYi5nZXRTdGF0ZSgpKTt0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LkZJUkVfTU9VU0VfRVZFTlQsImV2ZW50TmFtZSIsYSwiZXZlbnQiLGIpKTtpZihteENsaWVudC5JU19PUHx8bXhDbGllbnQuSVNfU0Z8fG14Q2xpZW50LklTX0dDfHwKbXhDbGllbnQuSVNfSUUxMXx8bXhDbGllbnQuSVNfSUUmJm14Q2xpZW50LklTX1NWR3x8Yi5nZXRFdmVudCgpLnRhcmdldCE9dGhpcy5jb250YWluZXIpe2lmKGE9PW14RXZlbnQuTU9VU0VfTU9WRSYmdGhpcy5pc01vdXNlRG93biYmdGhpcy5hdXRvU2Nyb2xsJiYhbXhFdmVudC5pc011bHRpVG91Y2hFdmVudChiLmdldEV2ZW50KSl0aGlzLnNjcm9sbFBvaW50VG9WaXNpYmxlKGIuZ2V0R3JhcGhYKCksYi5nZXRHcmFwaFkoKSx0aGlzLmF1dG9FeHRlbmQpO2Vsc2UgaWYoYT09bXhFdmVudC5NT1VTRV9VUCYmdGhpcy5pZ25vcmVTY3JvbGxiYXJzJiZ0aGlzLnRyYW5zbGF0ZVRvU2Nyb2xsUG9zaXRpb24mJigwIT10aGlzLmNvbnRhaW5lci5zY3JvbGxMZWZ0fHwwIT10aGlzLmNvbnRhaW5lci5zY3JvbGxUb3ApKXt2YXIgZD10aGlzLnZpZXcuc2NhbGUsZT10aGlzLnZpZXcudHJhbnNsYXRlO3RoaXMudmlldy5zZXRUcmFuc2xhdGUoZS54LXRoaXMuY29udGFpbmVyLnNjcm9sbExlZnQvCmQsZS55LXRoaXMuY29udGFpbmVyLnNjcm9sbFRvcC9kKTt0aGlzLmNvbnRhaW5lci5zY3JvbGxMZWZ0PTA7dGhpcy5jb250YWluZXIuc2Nyb2xsVG9wPTB9aWYobnVsbCE9dGhpcy5tb3VzZUxpc3RlbmVycylmb3IoZD1bYyxiXSxiLmdldEV2ZW50KCkucHJldmVudERlZmF1bHR8fChiLmdldEV2ZW50KCkucmV0dXJuVmFsdWU9ITApLGU9MDtlPHRoaXMubW91c2VMaXN0ZW5lcnMubGVuZ3RoO2UrKyl7dmFyIGY9dGhpcy5tb3VzZUxpc3RlbmVyc1tlXTthPT1teEV2ZW50Lk1PVVNFX0RPV04/Zi5tb3VzZURvd24uYXBwbHkoZixkKTphPT1teEV2ZW50Lk1PVVNFX01PVkU/Zi5tb3VzZU1vdmUuYXBwbHkoZixkKTphPT1teEV2ZW50Lk1PVVNFX1VQJiZmLm1vdXNlVXAuYXBwbHkoZixkKX1hPT1teEV2ZW50Lk1PVVNFX1VQJiZ0aGlzLmNsaWNrKGIpfShteEV2ZW50LmlzVG91Y2hFdmVudChiLmdldEV2ZW50KCkpfHxteEV2ZW50LmlzUGVuRXZlbnQoYi5nZXRFdmVudCgpKSkmJmE9PW14RXZlbnQuTU9VU0VfRE9XTiYmCnRoaXMudGFwQW5kSG9sZEVuYWJsZWQmJiF0aGlzLnRhcEFuZEhvbGRJblByb2dyZXNzPyh0aGlzLnRhcEFuZEhvbGRJblByb2dyZXNzPSEwLHRoaXMuaW5pdGlhbFRvdWNoWD1iLmdldEdyYXBoWCgpLHRoaXMuaW5pdGlhbFRvdWNoWT1iLmdldEdyYXBoWSgpLHRoaXMudGFwQW5kSG9sZFRocmVhZCYmd2luZG93LmNsZWFyVGltZW91dCh0aGlzLnRhcEFuZEhvbGRUaHJlYWQpLHRoaXMudGFwQW5kSG9sZFRocmVhZD13aW5kb3cuc2V0VGltZW91dChteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMudGFwQW5kSG9sZFZhbGlkJiZ0aGlzLnRhcEFuZEhvbGQoYik7dGhpcy50YXBBbmRIb2xkVmFsaWQ9dGhpcy50YXBBbmRIb2xkSW5Qcm9ncmVzcz0hMX0pLHRoaXMudGFwQW5kSG9sZERlbGF5KSx0aGlzLnRhcEFuZEhvbGRWYWxpZD0hMCk6YT09bXhFdmVudC5NT1VTRV9VUD90aGlzLnRhcEFuZEhvbGRWYWxpZD10aGlzLnRhcEFuZEhvbGRJblByb2dyZXNzPSExOnRoaXMudGFwQW5kSG9sZFZhbGlkJiYKKHRoaXMudGFwQW5kSG9sZFZhbGlkPU1hdGguYWJzKHRoaXMuaW5pdGlhbFRvdWNoWC1iLmdldEdyYXBoWCgpKTx0aGlzLnRvbGVyYW5jZSYmTWF0aC5hYnModGhpcy5pbml0aWFsVG91Y2hZLWIuZ2V0R3JhcGhZKCkpPHRoaXMudG9sZXJhbmNlKTthPT1teEV2ZW50Lk1PVVNFX0RPV04mJnRoaXMuaXNFZGl0aW5nKCkmJiF0aGlzLmNlbGxFZGl0b3IuaXNFdmVudFNvdXJjZShiLmdldEV2ZW50KCkpJiZ0aGlzLnN0b3BFZGl0aW5nKCF0aGlzLmlzSW52b2tlc1N0b3BDZWxsRWRpdGluZygpKTt0aGlzLmNvbnN1bWVNb3VzZUV2ZW50KGEsYixjKX19fTtteEdyYXBoLnByb3RvdHlwZS5jb25zdW1lTW91c2VFdmVudD1mdW5jdGlvbihhLGIsYyl7YT09bXhFdmVudC5NT1VTRV9ET1dOJiZteEV2ZW50LmlzVG91Y2hFdmVudChiLmdldEV2ZW50KCkpJiZiLmNvbnN1bWUoITEpfTsKbXhHcmFwaC5wcm90b3R5cGUuZmlyZUdlc3R1cmVFdmVudD1mdW5jdGlvbihhLGIpe3RoaXMubGFzdFRvdWNoVGltZT0wO3RoaXMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KG14RXZlbnQuR0VTVFVSRSwiZXZlbnQiLGEsImNlbGwiLGIpKX07Cm14R3JhcGgucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmRlc3Ryb3llZHx8KHRoaXMuZGVzdHJveWVkPSEwLG51bGwhPXRoaXMudG9vbHRpcEhhbmRsZXImJnRoaXMudG9vbHRpcEhhbmRsZXIuZGVzdHJveSgpLG51bGwhPXRoaXMuc2VsZWN0aW9uQ2VsbHNIYW5kbGVyJiZ0aGlzLnNlbGVjdGlvbkNlbGxzSGFuZGxlci5kZXN0cm95KCksbnVsbCE9dGhpcy5wYW5uaW5nSGFuZGxlciYmdGhpcy5wYW5uaW5nSGFuZGxlci5kZXN0cm95KCksbnVsbCE9dGhpcy5wb3B1cE1lbnVIYW5kbGVyJiZ0aGlzLnBvcHVwTWVudUhhbmRsZXIuZGVzdHJveSgpLG51bGwhPXRoaXMuY29ubmVjdGlvbkhhbmRsZXImJnRoaXMuY29ubmVjdGlvbkhhbmRsZXIuZGVzdHJveSgpLG51bGwhPXRoaXMuZ3JhcGhIYW5kbGVyJiZ0aGlzLmdyYXBoSGFuZGxlci5kZXN0cm95KCksbnVsbCE9dGhpcy5jZWxsRWRpdG9yJiZ0aGlzLmNlbGxFZGl0b3IuZGVzdHJveSgpLG51bGwhPXRoaXMudmlldyYmdGhpcy52aWV3LmRlc3Ryb3koKSwKbnVsbCE9dGhpcy5tb2RlbCYmbnVsbCE9dGhpcy5ncmFwaE1vZGVsQ2hhbmdlTGlzdGVuZXImJih0aGlzLm1vZGVsLnJlbW92ZUxpc3RlbmVyKHRoaXMuZ3JhcGhNb2RlbENoYW5nZUxpc3RlbmVyKSx0aGlzLmdyYXBoTW9kZWxDaGFuZ2VMaXN0ZW5lcj1udWxsKSx0aGlzLmNvbnRhaW5lcj1udWxsKX07ZnVuY3Rpb24gbXhDZWxsT3ZlcmxheShhLGIsYyxkLGUsZil7dGhpcy5pbWFnZT1hO3RoaXMudG9vbHRpcD1iO3RoaXMuYWxpZ249bnVsbCE9Yz9jOnRoaXMuYWxpZ247dGhpcy52ZXJ0aWNhbEFsaWduPW51bGwhPWQ/ZDp0aGlzLnZlcnRpY2FsQWxpZ247dGhpcy5vZmZzZXQ9bnVsbCE9ZT9lOm5ldyBteFBvaW50O3RoaXMuY3Vyc29yPW51bGwhPWY/ZjoiaGVscCJ9bXhDZWxsT3ZlcmxheS5wcm90b3R5cGU9bmV3IG14RXZlbnRTb3VyY2U7bXhDZWxsT3ZlcmxheS5wcm90b3R5cGUuY29uc3RydWN0b3I9bXhDZWxsT3ZlcmxheTtteENlbGxPdmVybGF5LnByb3RvdHlwZS5pbWFnZT1udWxsOwpteENlbGxPdmVybGF5LnByb3RvdHlwZS50b29sdGlwPW51bGw7bXhDZWxsT3ZlcmxheS5wcm90b3R5cGUuYWxpZ249bXhDb25zdGFudHMuQUxJR05fUklHSFQ7bXhDZWxsT3ZlcmxheS5wcm90b3R5cGUudmVydGljYWxBbGlnbj1teENvbnN0YW50cy5BTElHTl9CT1RUT007bXhDZWxsT3ZlcmxheS5wcm90b3R5cGUub2Zmc2V0PW51bGw7bXhDZWxsT3ZlcmxheS5wcm90b3R5cGUuY3Vyc29yPW51bGw7bXhDZWxsT3ZlcmxheS5wcm90b3R5cGUuZGVmYXVsdE92ZXJsYXA9LjU7Cm14Q2VsbE92ZXJsYXkucHJvdG90eXBlLmdldEJvdW5kcz1mdW5jdGlvbihhKXt2YXIgYj1hLnZpZXcuZ3JhcGguZ2V0TW9kZWwoKS5pc0VkZ2UoYS5jZWxsKSxjPWEudmlldy5zY2FsZSxkPXRoaXMuaW1hZ2Uud2lkdGgsZT10aGlzLmltYWdlLmhlaWdodDtpZihiKWlmKGI9YS5hYnNvbHV0ZVBvaW50cywxPT1iLmxlbmd0aCUyKWI9YltNYXRoLmZsb29yKGIubGVuZ3RoLzIpXTtlbHNle3ZhciBmPWIubGVuZ3RoLzI7YT1iW2YtMV07Yj1iW2ZdO2I9bmV3IG14UG9pbnQoYS54KyhiLngtYS54KS8yLGEueSsoYi55LWEueSkvMil9ZWxzZSBiPW5ldyBteFBvaW50LGIueD10aGlzLmFsaWduPT1teENvbnN0YW50cy5BTElHTl9MRUZUP2EueDp0aGlzLmFsaWduPT1teENvbnN0YW50cy5BTElHTl9DRU5URVI/YS54K2Eud2lkdGgvMjphLngrYS53aWR0aCxiLnk9dGhpcy52ZXJ0aWNhbEFsaWduPT1teENvbnN0YW50cy5BTElHTl9UT1A/YS55OnRoaXMudmVydGljYWxBbGlnbj09bXhDb25zdGFudHMuQUxJR05fTUlERExFPwphLnkrYS5oZWlnaHQvMjphLnkrYS5oZWlnaHQ7cmV0dXJuIG5ldyBteFJlY3RhbmdsZShNYXRoLnJvdW5kKGIueC0oZCp0aGlzLmRlZmF1bHRPdmVybGFwLXRoaXMub2Zmc2V0LngpKmMpLE1hdGgucm91bmQoYi55LShlKnRoaXMuZGVmYXVsdE92ZXJsYXAtdGhpcy5vZmZzZXQueSkqYyksZCpjLGUqYyl9O214Q2VsbE92ZXJsYXkucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudG9vbHRpcH07ZnVuY3Rpb24gbXhPdXRsaW5lKGEsYil7dGhpcy5zb3VyY2U9YTtudWxsIT1iJiZ0aGlzLmluaXQoYil9bXhPdXRsaW5lLnByb3RvdHlwZS5zb3VyY2U9bnVsbDtteE91dGxpbmUucHJvdG90eXBlLm91dGxpbmU9bnVsbDtteE91dGxpbmUucHJvdG90eXBlLmdyYXBoUmVuZGVySGludD1teENvbnN0YW50cy5SRU5ERVJJTkdfSElOVF9GQVNURVI7bXhPdXRsaW5lLnByb3RvdHlwZS5lbmFibGVkPSEwO214T3V0bGluZS5wcm90b3R5cGUuc2hvd1ZpZXdwb3J0PSEwOwpteE91dGxpbmUucHJvdG90eXBlLmJvcmRlcj0xMDtteE91dGxpbmUucHJvdG90eXBlLnNpemVyU2l6ZT04O214T3V0bGluZS5wcm90b3R5cGUubGFiZWxzVmlzaWJsZT0hMTtteE91dGxpbmUucHJvdG90eXBlLnVwZGF0ZU9uUGFuPSExO214T3V0bGluZS5wcm90b3R5cGUuc2l6ZXJJbWFnZT1udWxsO214T3V0bGluZS5wcm90b3R5cGUubWluU2NhbGU9MUUtNDtteE91dGxpbmUucHJvdG90eXBlLnN1c3BlbmRlZD0hMTtteE91dGxpbmUucHJvdG90eXBlLmZvcmNlVm1sSGFuZGxlcz04PT1kb2N1bWVudC5kb2N1bWVudE1vZGU7bXhPdXRsaW5lLnByb3RvdHlwZS5jcmVhdGVHcmFwaD1mdW5jdGlvbihhKXthPW5ldyBteEdyYXBoKGEsdGhpcy5zb3VyY2UuZ2V0TW9kZWwoKSx0aGlzLmdyYXBoUmVuZGVySGludCx0aGlzLnNvdXJjZS5nZXRTdHlsZXNoZWV0KCkpO2EuZm9sZGluZ0VuYWJsZWQ9ITE7YS5hdXRvU2Nyb2xsPSExO3JldHVybiBhfTsKbXhPdXRsaW5lLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKGEpe3RoaXMub3V0bGluZT10aGlzLmNyZWF0ZUdyYXBoKGEpO3ZhciBiPXRoaXMub3V0bGluZS5ncmFwaE1vZGVsQ2hhbmdlZDt0aGlzLm91dGxpbmUuZ3JhcGhNb2RlbENoYW5nZWQ9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7dGhpcy5zdXNwZW5kZWR8fG51bGw9PXRoaXMub3V0bGluZXx8Yi5hcHBseSh0aGlzLm91dGxpbmUsYXJndW1lbnRzKX0pO214Q2xpZW50LklTX1NWRyYmKGE9dGhpcy5vdXRsaW5lLmdldFZpZXcoKS5nZXRDYW52YXMoKS5wYXJlbnROb2RlLGEuc2V0QXR0cmlidXRlKCJzaGFwZS1yZW5kZXJpbmciLCJvcHRpbWl6ZVNwZWVkIiksYS5zZXRBdHRyaWJ1dGUoImltYWdlLXJlbmRlcmluZyIsIm9wdGltaXplU3BlZWQiKSk7dGhpcy5vdXRsaW5lLmxhYmVsc1Zpc2libGU9dGhpcy5sYWJlbHNWaXNpYmxlO3RoaXMub3V0bGluZS5zZXRFbmFibGVkKCExKTt0aGlzLnVwZGF0ZUhhbmRsZXI9bXhVdGlscy5iaW5kKHRoaXMsCmZ1bmN0aW9uKGEsYil7dGhpcy5zdXNwZW5kZWR8fHRoaXMuYWN0aXZlfHx0aGlzLnVwZGF0ZSgpfSk7dGhpcy5zb3VyY2UuZ2V0TW9kZWwoKS5hZGRMaXN0ZW5lcihteEV2ZW50LkNIQU5HRSx0aGlzLnVwZGF0ZUhhbmRsZXIpO3RoaXMub3V0bGluZS5hZGRNb3VzZUxpc3RlbmVyKHRoaXMpO2E9dGhpcy5zb3VyY2UuZ2V0VmlldygpO2EuYWRkTGlzdGVuZXIobXhFdmVudC5TQ0FMRSx0aGlzLnVwZGF0ZUhhbmRsZXIpO2EuYWRkTGlzdGVuZXIobXhFdmVudC5UUkFOU0xBVEUsdGhpcy51cGRhdGVIYW5kbGVyKTthLmFkZExpc3RlbmVyKG14RXZlbnQuU0NBTEVfQU5EX1RSQU5TTEFURSx0aGlzLnVwZGF0ZUhhbmRsZXIpO2EuYWRkTGlzdGVuZXIobXhFdmVudC5ET1dOLHRoaXMudXBkYXRlSGFuZGxlcik7YS5hZGRMaXN0ZW5lcihteEV2ZW50LlVQLHRoaXMudXBkYXRlSGFuZGxlcik7bXhFdmVudC5hZGRMaXN0ZW5lcih0aGlzLnNvdXJjZS5jb250YWluZXIsInNjcm9sbCIsdGhpcy51cGRhdGVIYW5kbGVyKTsKdGhpcy5wYW5IYW5kbGVyPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3RoaXMudXBkYXRlT25QYW4mJnRoaXMudXBkYXRlSGFuZGxlci5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KTt0aGlzLnNvdXJjZS5hZGRMaXN0ZW5lcihteEV2ZW50LlBBTix0aGlzLnBhbkhhbmRsZXIpO3RoaXMucmVmcmVzaEhhbmRsZXI9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7dGhpcy5vdXRsaW5lLnNldFN0eWxlc2hlZXQodGhpcy5zb3VyY2UuZ2V0U3R5bGVzaGVldCgpKTt0aGlzLm91dGxpbmUucmVmcmVzaCgpfSk7dGhpcy5zb3VyY2UuYWRkTGlzdGVuZXIobXhFdmVudC5SRUZSRVNILHRoaXMucmVmcmVzaEhhbmRsZXIpO3RoaXMuYm91bmRzPW5ldyBteFJlY3RhbmdsZSgwLDAsMCwwKTt0aGlzLnNlbGVjdGlvbkJvcmRlcj1uZXcgbXhSZWN0YW5nbGVTaGFwZSh0aGlzLmJvdW5kcyxudWxsLG14Q29uc3RhbnRzLk9VVExJTkVfQ09MT1IsbXhDb25zdGFudHMuT1VUTElORV9TVFJPS0VXSURUSCk7CnRoaXMuc2VsZWN0aW9uQm9yZGVyLmRpYWxlY3Q9dGhpcy5vdXRsaW5lLmRpYWxlY3Q7dGhpcy5mb3JjZVZtbEhhbmRsZXMmJih0aGlzLnNlbGVjdGlvbkJvcmRlci5pc0h0bWxBbGxvd2VkPWZ1bmN0aW9uKCl7cmV0dXJuITF9KTt0aGlzLnNlbGVjdGlvbkJvcmRlci5pbml0KHRoaXMub3V0bGluZS5nZXRWaWV3KCkuZ2V0T3ZlcmxheVBhbmUoKSk7YT1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXt2YXIgYj1teEV2ZW50LmdldFNvdXJjZShhKSxjPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3RoaXMub3V0bGluZS5maXJlTW91c2VFdmVudChteEV2ZW50Lk1PVVNFX01PVkUsbmV3IG14TW91c2VFdmVudChhKSl9KSxmPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe214RXZlbnQucmVtb3ZlR2VzdHVyZUxpc3RlbmVycyhiLG51bGwsYyxmKTt0aGlzLm91dGxpbmUuZmlyZU1vdXNlRXZlbnQobXhFdmVudC5NT1VTRV9VUCxuZXcgbXhNb3VzZUV2ZW50KGEpKX0pOwpteEV2ZW50LmFkZEdlc3R1cmVMaXN0ZW5lcnMoYixudWxsLGMsZik7dGhpcy5vdXRsaW5lLmZpcmVNb3VzZUV2ZW50KG14RXZlbnQuTU9VU0VfRE9XTixuZXcgbXhNb3VzZUV2ZW50KGEpKX0pO214RXZlbnQuYWRkR2VzdHVyZUxpc3RlbmVycyh0aGlzLnNlbGVjdGlvbkJvcmRlci5ub2RlLGEpO3RoaXMuc2l6ZXI9dGhpcy5jcmVhdGVTaXplcigpO3RoaXMuZm9yY2VWbWxIYW5kbGVzJiYodGhpcy5zaXplci5pc0h0bWxBbGxvd2VkPWZ1bmN0aW9uKCl7cmV0dXJuITF9KTt0aGlzLnNpemVyLmluaXQodGhpcy5vdXRsaW5lLmdldFZpZXcoKS5nZXRPdmVybGF5UGFuZSgpKTt0aGlzLmVuYWJsZWQmJih0aGlzLnNpemVyLm5vZGUuc3R5bGUuY3Vyc29yPSJud3NlLXJlc2l6ZSIpO214RXZlbnQuYWRkR2VzdHVyZUxpc3RlbmVycyh0aGlzLnNpemVyLm5vZGUsYSk7dGhpcy5zZWxlY3Rpb25Cb3JkZXIubm9kZS5zdHlsZS5kaXNwbGF5PXRoaXMuc2hvd1ZpZXdwb3J0PyIiOiJub25lIjt0aGlzLnNpemVyLm5vZGUuc3R5bGUuZGlzcGxheT0KdGhpcy5zZWxlY3Rpb25Cb3JkZXIubm9kZS5zdHlsZS5kaXNwbGF5O3RoaXMuc2VsZWN0aW9uQm9yZGVyLm5vZGUuc3R5bGUuY3Vyc29yPSJtb3ZlIjt0aGlzLnVwZGF0ZSghMSl9O214T3V0bGluZS5wcm90b3R5cGUuaXNFbmFibGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZW5hYmxlZH07bXhPdXRsaW5lLnByb3RvdHlwZS5zZXRFbmFibGVkPWZ1bmN0aW9uKGEpe3RoaXMuZW5hYmxlZD1hfTtteE91dGxpbmUucHJvdG90eXBlLnNldFpvb21FbmFibGVkPWZ1bmN0aW9uKGEpe3RoaXMuc2l6ZXIubm9kZS5zdHlsZS52aXNpYmlsaXR5PWE/InZpc2libGUiOiJoaWRkZW4ifTtteE91dGxpbmUucHJvdG90eXBlLnJlZnJlc2g9ZnVuY3Rpb24oKXt0aGlzLnVwZGF0ZSghMCl9OwpteE91dGxpbmUucHJvdG90eXBlLmNyZWF0ZVNpemVyPWZ1bmN0aW9uKCl7dmFyIGE9bnVsbCE9dGhpcy5zaXplckltYWdlP25ldyBteEltYWdlU2hhcGUobmV3IG14UmVjdGFuZ2xlKDAsMCx0aGlzLnNpemVySW1hZ2Uud2lkdGgsdGhpcy5zaXplckltYWdlLmhlaWdodCksdGhpcy5zaXplckltYWdlLnNyYyk6bmV3IG14UmVjdGFuZ2xlU2hhcGUobmV3IG14UmVjdGFuZ2xlKDAsMCx0aGlzLnNpemVyU2l6ZSx0aGlzLnNpemVyU2l6ZSksbXhDb25zdGFudHMuT1VUTElORV9IQU5ETEVfRklMTENPTE9SLG14Q29uc3RhbnRzLk9VVExJTkVfSEFORExFX1NUUk9LRUNPTE9SKTthLmRpYWxlY3Q9dGhpcy5vdXRsaW5lLmRpYWxlY3Q7cmV0dXJuIGF9O214T3V0bGluZS5wcm90b3R5cGUuZ2V0U291cmNlQ29udGFpbmVyU2l6ZT1mdW5jdGlvbigpe3JldHVybiBuZXcgbXhSZWN0YW5nbGUoMCwwLHRoaXMuc291cmNlLmNvbnRhaW5lci5zY3JvbGxXaWR0aCx0aGlzLnNvdXJjZS5jb250YWluZXIuc2Nyb2xsSGVpZ2h0KX07Cm14T3V0bGluZS5wcm90b3R5cGUuZ2V0T3V0bGluZU9mZnNldD1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbH07bXhPdXRsaW5lLnByb3RvdHlwZS5nZXRTb3VyY2VHcmFwaEJvdW5kcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNvdXJjZS5nZXRHcmFwaEJvdW5kcygpfTsKbXhPdXRsaW5lLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oYSl7aWYobnVsbCE9dGhpcy5zb3VyY2UmJm51bGwhPXRoaXMuc291cmNlLmNvbnRhaW5lciYmbnVsbCE9dGhpcy5vdXRsaW5lJiZudWxsIT10aGlzLm91dGxpbmUuY29udGFpbmVyKXt2YXIgYj10aGlzLnNvdXJjZS52aWV3LnNjYWxlLGM9dGhpcy5nZXRTb3VyY2VHcmFwaEJvdW5kcygpLGM9bmV3IG14UmVjdGFuZ2xlKGMueC9iK3RoaXMuc291cmNlLnBhbkR4LGMueS9iK3RoaXMuc291cmNlLnBhbkR5LGMud2lkdGgvYixjLmhlaWdodC9iKSxkPW5ldyBteFJlY3RhbmdsZSgwLDAsdGhpcy5zb3VyY2UuY29udGFpbmVyLmNsaWVudFdpZHRoL2IsdGhpcy5zb3VyY2UuY29udGFpbmVyLmNsaWVudEhlaWdodC9iKSxlPWMuY2xvbmUoKTtlLmFkZChkKTtkPXRoaXMuZ2V0U291cmNlQ29udGFpbmVyU2l6ZSgpO2I9TWF0aC5taW4oTWF0aC5tYXgoMCx0aGlzLm91dGxpbmUuY29udGFpbmVyLmNsaWVudFdpZHRoLXRoaXMuYm9yZGVyKS8KTWF0aC5tYXgoZC53aWR0aC9iLGUud2lkdGgpLE1hdGgubWF4KDAsdGhpcy5vdXRsaW5lLmNvbnRhaW5lci5jbGllbnRIZWlnaHQtdGhpcy5ib3JkZXIpL01hdGgubWF4KGQuaGVpZ2h0L2IsZS5oZWlnaHQpKTtkPWlzTmFOKGIpP3RoaXMubWluU2NhbGU6TWF0aC5tYXgodGhpcy5taW5TY2FsZSxiKTtpZigwPGQpe3RoaXMub3V0bGluZS5nZXRWaWV3KCkuc2NhbGUhPWQmJih0aGlzLm91dGxpbmUuZ2V0VmlldygpLnNjYWxlPWQsYT0hMCk7Yj10aGlzLm91dGxpbmUuZ2V0VmlldygpO2IuY3VycmVudFJvb3QhPXRoaXMuc291cmNlLmdldFZpZXcoKS5jdXJyZW50Um9vdCYmYi5zZXRDdXJyZW50Um9vdCh0aGlzLnNvdXJjZS5nZXRWaWV3KCkuY3VycmVudFJvb3QpO3ZhciBlPXRoaXMuc291cmNlLnZpZXcudHJhbnNsYXRlLGY9ZS54K3RoaXMuc291cmNlLnBhbkR4LGc9ZS55K3RoaXMuc291cmNlLnBhbkR5LGQ9dGhpcy5nZXRPdXRsaW5lT2Zmc2V0KGQpO251bGwhPWQmJihmKz1kLngsCmcrPWQueSk7MD5jLngmJihmLT1jLngpOzA+Yy55JiYoZy09Yy55KTtpZihiLnRyYW5zbGF0ZS54IT1mfHxiLnRyYW5zbGF0ZS55IT1nKWIudHJhbnNsYXRlLng9ZixiLnRyYW5zbGF0ZS55PWcsYT0hMDt2YXIgYz1iLnRyYW5zbGF0ZSxkPXRoaXMuc291cmNlLmdldFZpZXcoKS5zY2FsZSxmPWQvYi5zY2FsZSxnPTEvYi5zY2FsZSxrPXRoaXMuc291cmNlLmNvbnRhaW5lcjt0aGlzLmJvdW5kcz1uZXcgbXhSZWN0YW5nbGUoKGMueC1lLngtdGhpcy5zb3VyY2UucGFuRHgpL2csKGMueS1lLnktdGhpcy5zb3VyY2UucGFuRHkpL2csay5jbGllbnRXaWR0aC9mLGsuY2xpZW50SGVpZ2h0L2YpO3RoaXMuYm91bmRzLngrPXRoaXMuc291cmNlLmNvbnRhaW5lci5zY3JvbGxMZWZ0KmIuc2NhbGUvZDt0aGlzLmJvdW5kcy55Kz10aGlzLnNvdXJjZS5jb250YWluZXIuc2Nyb2xsVG9wKmIuc2NhbGUvZDtjPXRoaXMuc2VsZWN0aW9uQm9yZGVyLmJvdW5kcztpZihjLnghPXRoaXMuYm91bmRzLnh8fApjLnkhPXRoaXMuYm91bmRzLnl8fGMud2lkdGghPXRoaXMuYm91bmRzLndpZHRofHxjLmhlaWdodCE9dGhpcy5ib3VuZHMuaGVpZ2h0KXRoaXMuc2VsZWN0aW9uQm9yZGVyLmJvdW5kcz10aGlzLmJvdW5kcyx0aGlzLnNlbGVjdGlvbkJvcmRlci5yZWRyYXcoKTtjPXRoaXMuc2l6ZXIuYm91bmRzO2I9bmV3IG14UmVjdGFuZ2xlKHRoaXMuYm91bmRzLngrdGhpcy5ib3VuZHMud2lkdGgtYy53aWR0aC8yLHRoaXMuYm91bmRzLnkrdGhpcy5ib3VuZHMuaGVpZ2h0LWMuaGVpZ2h0LzIsYy53aWR0aCxjLmhlaWdodCk7aWYoYy54IT1iLnh8fGMueSE9Yi55fHxjLndpZHRoIT1iLndpZHRofHxjLmhlaWdodCE9Yi5oZWlnaHQpdGhpcy5zaXplci5ib3VuZHM9YiwiaGlkZGVuIiE9dGhpcy5zaXplci5ub2RlLnN0eWxlLnZpc2liaWxpdHkmJnRoaXMuc2l6ZXIucmVkcmF3KCk7YSYmdGhpcy5vdXRsaW5lLnZpZXcucmV2YWxpZGF0ZSgpfX19OwpteE91dGxpbmUucHJvdG90eXBlLm1vdXNlRG93bj1mdW5jdGlvbihhLGIpe2lmKHRoaXMuZW5hYmxlZCYmdGhpcy5zaG93Vmlld3BvcnQpe3ZhciBjPW14RXZlbnQuaXNNb3VzZUV2ZW50KGIuZ2V0RXZlbnQoKSk/MDp0aGlzLnNvdXJjZS50b2xlcmFuY2UsYz10aGlzLnNvdXJjZS5hbGxvd0hhbmRsZUJvdW5kc0NoZWNrJiYobXhDbGllbnQuSVNfSUV8fDA8Yyk/bmV3IG14UmVjdGFuZ2xlKGIuZ2V0R3JhcGhYKCktYyxiLmdldEdyYXBoWSgpLWMsMipjLDIqYyk6bnVsbDt0aGlzLnpvb209Yi5pc1NvdXJjZSh0aGlzLnNpemVyKXx8bnVsbCE9YyYmbXhVdGlscy5pbnRlcnNlY3RzKHNoYXBlLmJvdW5kcyxjKTt0aGlzLnN0YXJ0WD1iLmdldFgoKTt0aGlzLnN0YXJ0WT1iLmdldFkoKTt0aGlzLmFjdGl2ZT0hMDt0aGlzLnNvdXJjZS51c2VTY3JvbGxiYXJzRm9yUGFubmluZyYmbXhVdGlscy5oYXNTY3JvbGxiYXJzKHRoaXMuc291cmNlLmNvbnRhaW5lcik/KHRoaXMuZHgwPXRoaXMuc291cmNlLmNvbnRhaW5lci5zY3JvbGxMZWZ0LAp0aGlzLmR5MD10aGlzLnNvdXJjZS5jb250YWluZXIuc2Nyb2xsVG9wKTp0aGlzLmR5MD10aGlzLmR4MD0wfWIuY29uc3VtZSgpfTsKbXhPdXRsaW5lLnByb3RvdHlwZS5tb3VzZU1vdmU9ZnVuY3Rpb24oYSxiKXtpZih0aGlzLmFjdGl2ZSl7dGhpcy5zZWxlY3Rpb25Cb3JkZXIubm9kZS5zdHlsZS5kaXNwbGF5PXRoaXMuc2hvd1ZpZXdwb3J0PyIiOiJub25lIjt0aGlzLnNpemVyLm5vZGUuc3R5bGUuZGlzcGxheT10aGlzLnNlbGVjdGlvbkJvcmRlci5ub2RlLnN0eWxlLmRpc3BsYXk7dmFyIGM9dGhpcy5nZXRUcmFuc2xhdGVGb3JFdmVudChiKSxkPWMueCxlPWMueTtpZih0aGlzLnpvb20pYz10aGlzLnNvdXJjZS5jb250YWluZXIsZT1kLyhjLmNsaWVudFdpZHRoL2MuY2xpZW50SGVpZ2h0KSxjPW5ldyBteFJlY3RhbmdsZSh0aGlzLmJvdW5kcy54LHRoaXMuYm91bmRzLnksTWF0aC5tYXgoMSx0aGlzLmJvdW5kcy53aWR0aCtkKSxNYXRoLm1heCgxLHRoaXMuYm91bmRzLmhlaWdodCtlKSksdGhpcy5zZWxlY3Rpb25Cb3JkZXIuYm91bmRzPWMsdGhpcy5zZWxlY3Rpb25Cb3JkZXIucmVkcmF3KCk7ZWxzZXt2YXIgZj10aGlzLm91dGxpbmUuZ2V0VmlldygpLnNjYWxlLApjPW5ldyBteFJlY3RhbmdsZSh0aGlzLmJvdW5kcy54K2QsdGhpcy5ib3VuZHMueStlLHRoaXMuYm91bmRzLndpZHRoLHRoaXMuYm91bmRzLmhlaWdodCk7dGhpcy5zZWxlY3Rpb25Cb3JkZXIuYm91bmRzPWM7dGhpcy5zZWxlY3Rpb25Cb3JkZXIucmVkcmF3KCk7ZD1kL2YqdGhpcy5zb3VyY2UuZ2V0VmlldygpLnNjYWxlO2U9ZS9mKnRoaXMuc291cmNlLmdldFZpZXcoKS5zY2FsZTt0aGlzLnNvdXJjZS5wYW5HcmFwaCgtZC10aGlzLmR4MCwtZS10aGlzLmR5MCl9ZD10aGlzLnNpemVyLmJvdW5kczt0aGlzLnNpemVyLmJvdW5kcz1uZXcgbXhSZWN0YW5nbGUoYy54K2Mud2lkdGgtZC53aWR0aC8yLGMueStjLmhlaWdodC1kLmhlaWdodC8yLGQud2lkdGgsZC5oZWlnaHQpOyJoaWRkZW4iIT10aGlzLnNpemVyLm5vZGUuc3R5bGUudmlzaWJpbGl0eSYmdGhpcy5zaXplci5yZWRyYXcoKTtiLmNvbnN1bWUoKX19OwpteE91dGxpbmUucHJvdG90eXBlLmdldFRyYW5zbGF0ZUZvckV2ZW50PWZ1bmN0aW9uKGEpe3JldHVybiBuZXcgbXhQb2ludChhLmdldFgoKS10aGlzLnN0YXJ0WCxhLmdldFkoKS10aGlzLnN0YXJ0WSl9OwpteE91dGxpbmUucHJvdG90eXBlLm1vdXNlVXA9ZnVuY3Rpb24oYSxiKXtpZih0aGlzLmFjdGl2ZSl7dmFyIGM9dGhpcy5nZXRUcmFuc2xhdGVGb3JFdmVudChiKSxkPWMueCxjPWMueTtpZigwPE1hdGguYWJzKGQpfHwwPE1hdGguYWJzKGMpKXtpZih0aGlzLnpvb20pe3ZhciBjPXRoaXMuc2VsZWN0aW9uQm9yZGVyLmJvdW5kcy53aWR0aCxlPXRoaXMuc291cmNlLmdldFZpZXcoKS5zY2FsZTt0aGlzLnNvdXJjZS56b29tVG8oTWF0aC5tYXgodGhpcy5taW5TY2FsZSxlLWQqZS9jKSwhMSl9ZWxzZSB0aGlzLnNvdXJjZS51c2VTY3JvbGxiYXJzRm9yUGFubmluZyYmbXhVdGlscy5oYXNTY3JvbGxiYXJzKHRoaXMuc291cmNlLmNvbnRhaW5lcil8fCh0aGlzLnNvdXJjZS5wYW5HcmFwaCgwLDApLGQvPXRoaXMub3V0bGluZS5nZXRWaWV3KCkuc2NhbGUsYy89dGhpcy5vdXRsaW5lLmdldFZpZXcoKS5zY2FsZSxlPXRoaXMuc291cmNlLmdldFZpZXcoKS50cmFuc2xhdGUsdGhpcy5zb3VyY2UuZ2V0VmlldygpLnNldFRyYW5zbGF0ZShlLngtCmQsZS55LWMpKTt0aGlzLnVwZGF0ZSgpO2IuY29uc3VtZSgpfXRoaXMuaW5kZXg9bnVsbDt0aGlzLmFjdGl2ZT0hMX19OwpteE91dGxpbmUucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXtudWxsIT10aGlzLnNvdXJjZSYmKHRoaXMuc291cmNlLnJlbW92ZUxpc3RlbmVyKHRoaXMucGFuSGFuZGxlciksdGhpcy5zb3VyY2UucmVtb3ZlTGlzdGVuZXIodGhpcy5yZWZyZXNoSGFuZGxlciksdGhpcy5zb3VyY2UuZ2V0TW9kZWwoKS5yZW1vdmVMaXN0ZW5lcih0aGlzLnVwZGF0ZUhhbmRsZXIpLHRoaXMuc291cmNlLmdldFZpZXcoKS5yZW1vdmVMaXN0ZW5lcih0aGlzLnVwZGF0ZUhhbmRsZXIpLG14RXZlbnQucmVtb3ZlTGlzdGVuZXIodGhpcy5zb3VyY2UuY29udGFpbmVyLCJzY3JvbGwiLHRoaXMudXBkYXRlSGFuZGxlciksdGhpcy5zb3VyY2U9bnVsbCk7bnVsbCE9dGhpcy5vdXRsaW5lJiYodGhpcy5vdXRsaW5lLnJlbW92ZU1vdXNlTGlzdGVuZXIodGhpcyksdGhpcy5vdXRsaW5lLmRlc3Ryb3koKSx0aGlzLm91dGxpbmU9bnVsbCk7bnVsbCE9dGhpcy5zZWxlY3Rpb25Cb3JkZXImJih0aGlzLnNlbGVjdGlvbkJvcmRlci5kZXN0cm95KCksCnRoaXMuc2VsZWN0aW9uQm9yZGVyPW51bGwpO251bGwhPXRoaXMuc2l6ZXImJih0aGlzLnNpemVyLmRlc3Ryb3koKSx0aGlzLnNpemVyPW51bGwpfTtmdW5jdGlvbiBteE11bHRpcGxpY2l0eShhLGIsYyxkLGUsZixnLGssbCxtKXt0aGlzLnNvdXJjZT1hO3RoaXMudHlwZT1iO3RoaXMuYXR0cj1jO3RoaXMudmFsdWU9ZDt0aGlzLm1pbj1udWxsIT1lP2U6MDt0aGlzLm1heD1udWxsIT1mP2Y6Im4iO3RoaXMudmFsaWROZWlnaGJvcnM9Zzt0aGlzLmNvdW50RXJyb3I9bXhSZXNvdXJjZXMuZ2V0KGspfHxrO3RoaXMudHlwZUVycm9yPW14UmVzb3VyY2VzLmdldChsKXx8bDt0aGlzLnZhbGlkTmVpZ2hib3JzQWxsb3dlZD1udWxsIT1tP206ITB9bXhNdWx0aXBsaWNpdHkucHJvdG90eXBlLnR5cGU9bnVsbDtteE11bHRpcGxpY2l0eS5wcm90b3R5cGUuYXR0cj1udWxsO214TXVsdGlwbGljaXR5LnByb3RvdHlwZS52YWx1ZT1udWxsO214TXVsdGlwbGljaXR5LnByb3RvdHlwZS5zb3VyY2U9bnVsbDsKbXhNdWx0aXBsaWNpdHkucHJvdG90eXBlLm1pbj1udWxsO214TXVsdGlwbGljaXR5LnByb3RvdHlwZS5tYXg9bnVsbDtteE11bHRpcGxpY2l0eS5wcm90b3R5cGUudmFsaWROZWlnaGJvcnM9bnVsbDtteE11bHRpcGxpY2l0eS5wcm90b3R5cGUudmFsaWROZWlnaGJvcnNBbGxvd2VkPSEwO214TXVsdGlwbGljaXR5LnByb3RvdHlwZS5jb3VudEVycm9yPW51bGw7bXhNdWx0aXBsaWNpdHkucHJvdG90eXBlLnR5cGVFcnJvcj1udWxsOwpteE11bHRpcGxpY2l0eS5wcm90b3R5cGUuY2hlY2s9ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe3ZhciBnPSIiO2lmKHRoaXMuc291cmNlJiZ0aGlzLmNoZWNrVGVybWluYWwoYSxjLGIpfHwhdGhpcy5zb3VyY2UmJnRoaXMuY2hlY2tUZXJtaW5hbChhLGQsYikpbnVsbCE9dGhpcy5jb3VudEVycm9yJiYodGhpcy5zb3VyY2UmJigwPT10aGlzLm1heHx8ZT49dGhpcy5tYXgpfHwhdGhpcy5zb3VyY2UmJigwPT10aGlzLm1heHx8Zj49dGhpcy5tYXgpKSYmKGcrPXRoaXMuY291bnRFcnJvcisiXG4iKSxudWxsIT10aGlzLnZhbGlkTmVpZ2hib3JzJiZudWxsIT10aGlzLnR5cGVFcnJvciYmMDx0aGlzLnZhbGlkTmVpZ2hib3JzLmxlbmd0aCYmKHRoaXMuY2hlY2tOZWlnaGJvcnMoYSxiLGMsZCl8fChnKz10aGlzLnR5cGVFcnJvcisiXG4iKSk7cmV0dXJuIDA8Zy5sZW5ndGg/ZzpudWxsfTsKbXhNdWx0aXBsaWNpdHkucHJvdG90eXBlLmNoZWNrTmVpZ2hib3JzPWZ1bmN0aW9uKGEsYixjLGQpe2I9YS5tb2RlbC5nZXRWYWx1ZShjKTtkPWEubW9kZWwuZ2V0VmFsdWUoZCk7Yz0hdGhpcy52YWxpZE5laWdoYm9yc0FsbG93ZWQ7Zm9yKHZhciBlPXRoaXMudmFsaWROZWlnaGJvcnMsZj0wO2Y8ZS5sZW5ndGg7ZisrKWlmKHRoaXMuc291cmNlJiZ0aGlzLmNoZWNrVHlwZShhLGQsZVtmXSkpe2M9dGhpcy52YWxpZE5laWdoYm9yc0FsbG93ZWQ7YnJlYWt9ZWxzZSBpZighdGhpcy5zb3VyY2UmJnRoaXMuY2hlY2tUeXBlKGEsYixlW2ZdKSl7Yz10aGlzLnZhbGlkTmVpZ2hib3JzQWxsb3dlZDticmVha31yZXR1cm4gY307bXhNdWx0aXBsaWNpdHkucHJvdG90eXBlLmNoZWNrVGVybWluYWw9ZnVuY3Rpb24oYSxiLGMpe2I9YS5tb2RlbC5nZXRWYWx1ZShiKTtyZXR1cm4gdGhpcy5jaGVja1R5cGUoYSxiLHRoaXMudHlwZSx0aGlzLmF0dHIsdGhpcy52YWx1ZSl9OwpteE11bHRpcGxpY2l0eS5wcm90b3R5cGUuY2hlY2tUeXBlPWZ1bmN0aW9uKGEsYixjLGQsZSl7cmV0dXJuIG51bGwhPWI/aXNOYU4oYi5ub2RlVHlwZSk/Yj09YzpteFV0aWxzLmlzTm9kZShiLGMsZCxlKTohMX07CmZ1bmN0aW9uIG14TGF5b3V0TWFuYWdlcihhKXt0aGlzLnVuZG9IYW5kbGVyPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEsYyl7dGhpcy5pc0VuYWJsZWQoKSYmdGhpcy5iZWZvcmVVbmRvKGMuZ2V0UHJvcGVydHkoImVkaXQiKSl9KTt0aGlzLm1vdmVIYW5kbGVyPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEsYyl7dGhpcy5pc0VuYWJsZWQoKSYmdGhpcy5jZWxsc01vdmVkKGMuZ2V0UHJvcGVydHkoImNlbGxzIiksYy5nZXRQcm9wZXJ0eSgiZXZlbnQiKSl9KTt0aGlzLnJlc2l6ZUhhbmRsZXI9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSxjKXt0aGlzLmlzRW5hYmxlZCgpJiZ0aGlzLmNlbGxzUmVzaXplZChjLmdldFByb3BlcnR5KCJjZWxscyIpLGMuZ2V0UHJvcGVydHkoImJvdW5kcyIpLGMuZ2V0UHJvcGVydHkoInByZXZpb3VzIikpfSk7dGhpcy5zZXRHcmFwaChhKX1teExheW91dE1hbmFnZXIucHJvdG90eXBlPW5ldyBteEV2ZW50U291cmNlOwpteExheW91dE1hbmFnZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yPW14TGF5b3V0TWFuYWdlcjtteExheW91dE1hbmFnZXIucHJvdG90eXBlLmdyYXBoPW51bGw7bXhMYXlvdXRNYW5hZ2VyLnByb3RvdHlwZS5idWJibGluZz0hMDtteExheW91dE1hbmFnZXIucHJvdG90eXBlLmVuYWJsZWQ9ITA7bXhMYXlvdXRNYW5hZ2VyLnByb3RvdHlwZS51bmRvSGFuZGxlcj1udWxsO214TGF5b3V0TWFuYWdlci5wcm90b3R5cGUubW92ZUhhbmRsZXI9bnVsbDtteExheW91dE1hbmFnZXIucHJvdG90eXBlLnJlc2l6ZUhhbmRsZXI9bnVsbDtteExheW91dE1hbmFnZXIucHJvdG90eXBlLmlzRW5hYmxlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVuYWJsZWR9O214TGF5b3V0TWFuYWdlci5wcm90b3R5cGUuc2V0RW5hYmxlZD1mdW5jdGlvbihhKXt0aGlzLmVuYWJsZWQ9YX07bXhMYXlvdXRNYW5hZ2VyLnByb3RvdHlwZS5pc0J1YmJsaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYnViYmxpbmd9OwpteExheW91dE1hbmFnZXIucHJvdG90eXBlLnNldEJ1YmJsaW5nPWZ1bmN0aW9uKGEpe3RoaXMuYnViYmxpbmc9YX07bXhMYXlvdXRNYW5hZ2VyLnByb3RvdHlwZS5nZXRHcmFwaD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdyYXBofTsKbXhMYXlvdXRNYW5hZ2VyLnByb3RvdHlwZS5zZXRHcmFwaD1mdW5jdGlvbihhKXtpZihudWxsIT10aGlzLmdyYXBoKXt2YXIgYj10aGlzLmdyYXBoLmdldE1vZGVsKCk7Yi5yZW1vdmVMaXN0ZW5lcih0aGlzLnVuZG9IYW5kbGVyKTt0aGlzLmdyYXBoLnJlbW92ZUxpc3RlbmVyKHRoaXMubW92ZUhhbmRsZXIpO3RoaXMuZ3JhcGgucmVtb3ZlTGlzdGVuZXIodGhpcy5yZXNpemVIYW5kbGVyKX10aGlzLmdyYXBoPWE7bnVsbCE9dGhpcy5ncmFwaCYmKGI9dGhpcy5ncmFwaC5nZXRNb2RlbCgpLGIuYWRkTGlzdGVuZXIobXhFdmVudC5CRUZPUkVfVU5ETyx0aGlzLnVuZG9IYW5kbGVyKSx0aGlzLmdyYXBoLmFkZExpc3RlbmVyKG14RXZlbnQuTU9WRV9DRUxMUyx0aGlzLm1vdmVIYW5kbGVyKSx0aGlzLmdyYXBoLmFkZExpc3RlbmVyKG14RXZlbnQuUkVTSVpFX0NFTExTLHRoaXMucmVzaXplSGFuZGxlcikpfTsKbXhMYXlvdXRNYW5hZ2VyLnByb3RvdHlwZS5oYXNMYXlvdXQ9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZ2V0TGF5b3V0KGEsbXhFdmVudC5MQVlPVVRfQ0VMTFMpfTtteExheW91dE1hbmFnZXIucHJvdG90eXBlLmdldExheW91dD1mdW5jdGlvbihhLGIpe3JldHVybiBudWxsfTtteExheW91dE1hbmFnZXIucHJvdG90eXBlLmJlZm9yZVVuZG89ZnVuY3Rpb24oYSl7dGhpcy5leGVjdXRlTGF5b3V0Rm9yQ2VsbHModGhpcy5nZXRDZWxsc0ZvckNoYW5nZXMoYS5jaGFuZ2VzKSl9OwpteExheW91dE1hbmFnZXIucHJvdG90eXBlLmNlbGxzTW92ZWQ9ZnVuY3Rpb24oYSxiKXtpZihudWxsIT1hJiZudWxsIT1iKWZvcih2YXIgYz1teFV0aWxzLmNvbnZlcnRQb2ludCh0aGlzLmdldEdyYXBoKCkuY29udGFpbmVyLG14RXZlbnQuZ2V0Q2xpZW50WChiKSxteEV2ZW50LmdldENsaWVudFkoYikpLGQ9MDtkPGEubGVuZ3RoO2QrKyl7dmFyIGU9dGhpcy5nZXRBbmNlc3RvckxheW91dChhW2RdLG14RXZlbnQuTU9WRV9DRUxMUyk7bnVsbCE9ZSYmZS5tb3ZlQ2VsbChhW2RdLGMueCxjLnkpfX07bXhMYXlvdXRNYW5hZ2VyLnByb3RvdHlwZS5jZWxsc1Jlc2l6ZWQ9ZnVuY3Rpb24oYSxiLGMpe2lmKG51bGwhPWEmJm51bGwhPWIpZm9yKHZhciBkPTA7ZDxhLmxlbmd0aDtkKyspe3ZhciBlPXRoaXMuZ2V0QW5jZXN0b3JMYXlvdXQoYVtkXSxteEV2ZW50LlJFU0laRV9DRUxMUyk7bnVsbCE9ZSYmZS5yZXNpemVDZWxsKGFbZF0sYltkXSxjW2RdKX19OwpteExheW91dE1hbmFnZXIucHJvdG90eXBlLmdldEFuY2VzdG9yTGF5b3V0PWZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPXRoaXMuZ2V0R3JhcGgoKS5nZXRNb2RlbCgpO251bGwhPWE7KXt2YXIgZD10aGlzLmdldExheW91dChhLGIpO2lmKG51bGwhPWQpcmV0dXJuIGQ7YT1jLmdldFBhcmVudChhKX1yZXR1cm4gbnVsbH07bXhMYXlvdXRNYW5hZ2VyLnByb3RvdHlwZS5nZXRDZWxsc0ZvckNoYW5nZXM9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPVtdLGM9MDtjPGEubGVuZ3RoO2MrKyl7dmFyIGQ9YVtjXTtpZihkIGluc3RhbmNlb2YgbXhSb290Q2hhbmdlKXJldHVybltdO2I9Yi5jb25jYXQodGhpcy5nZXRDZWxsc0ZvckNoYW5nZShkKSl9cmV0dXJuIGJ9OwpteExheW91dE1hbmFnZXIucHJvdG90eXBlLmdldENlbGxzRm9yQ2hhbmdlPWZ1bmN0aW9uKGEpe3JldHVybiBhIGluc3RhbmNlb2YgbXhDaGlsZENoYW5nZT90aGlzLmFkZENlbGxzV2l0aExheW91dChhLmNoaWxkLHRoaXMuYWRkQ2VsbHNXaXRoTGF5b3V0KGEucHJldmlvdXMpKTphIGluc3RhbmNlb2YgbXhUZXJtaW5hbENoYW5nZXx8YSBpbnN0YW5jZW9mIG14R2VvbWV0cnlDaGFuZ2V8fGEgaW5zdGFuY2VvZiBteFZpc2libGVDaGFuZ2V8fGEgaW5zdGFuY2VvZiBteFN0eWxlQ2hhbmdlP3RoaXMuYWRkQ2VsbHNXaXRoTGF5b3V0KGEuY2VsbCk6W119O214TGF5b3V0TWFuYWdlci5wcm90b3R5cGUuYWRkQ2VsbHNXaXRoTGF5b3V0PWZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuYWRkRGVzY2VuZGFudHNXaXRoTGF5b3V0KGEsdGhpcy5hZGRBbmNlc3RvcnNXaXRoTGF5b3V0KGEsYikpfTsKbXhMYXlvdXRNYW5hZ2VyLnByb3RvdHlwZS5hZGRBbmNlc3RvcnNXaXRoTGF5b3V0PWZ1bmN0aW9uKGEsYil7Yj1udWxsIT1iP2I6W107aWYobnVsbCE9YSYmKG51bGwhPXRoaXMuaGFzTGF5b3V0KGEpJiZiLnB1c2goYSksdGhpcy5pc0J1YmJsaW5nKCkpKXt2YXIgYz10aGlzLmdldEdyYXBoKCkuZ2V0TW9kZWwoKTt0aGlzLmFkZEFuY2VzdG9yc1dpdGhMYXlvdXQoYy5nZXRQYXJlbnQoYSksYil9cmV0dXJuIGJ9O214TGF5b3V0TWFuYWdlci5wcm90b3R5cGUuYWRkRGVzY2VuZGFudHNXaXRoTGF5b3V0PWZ1bmN0aW9uKGEsYil7Yj1udWxsIT1iP2I6W107aWYobnVsbCE9YSYmdGhpcy5oYXNMYXlvdXQoYSkpZm9yKHZhciBjPXRoaXMuZ2V0R3JhcGgoKS5nZXRNb2RlbCgpLGQ9MDtkPGMuZ2V0Q2hpbGRDb3VudChhKTtkKyspe3ZhciBlPWMuZ2V0Q2hpbGRBdChhLGQpO3RoaXMuaGFzTGF5b3V0KGUpJiYoYi5wdXNoKGUpLHRoaXMuYWRkRGVzY2VuZGFudHNXaXRoTGF5b3V0KGUsYikpfXJldHVybiBifTsKbXhMYXlvdXRNYW5hZ2VyLnByb3RvdHlwZS5leGVjdXRlTGF5b3V0Rm9yQ2VsbHM9ZnVuY3Rpb24oYSl7YT1teFV0aWxzLnNvcnRDZWxscyhhLCEwKTt0aGlzLmxheW91dENlbGxzKGEsITEpO3RoaXMubGF5b3V0Q2VsbHMoYS5yZXZlcnNlKCksITApfTtteExheW91dE1hbmFnZXIucHJvdG90eXBlLmxheW91dENlbGxzPWZ1bmN0aW9uKGEsYil7aWYoMDxhLmxlbmd0aCl7dmFyIGM9dGhpcy5nZXRHcmFwaCgpLmdldE1vZGVsKCk7Yy5iZWdpblVwZGF0ZSgpO3RyeXtmb3IodmFyIGQ9bnVsbCxlPTA7ZTxhLmxlbmd0aDtlKyspYVtlXSE9Yy5nZXRSb290KCkmJmFbZV0hPWQmJih0aGlzLmV4ZWN1dGVMYXlvdXQoYVtlXSxiKSxkPWFbZV0pO3RoaXMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KG14RXZlbnQuTEFZT1VUX0NFTExTLCJjZWxscyIsYSkpfWZpbmFsbHl7Yy5lbmRVcGRhdGUoKX19fTsKbXhMYXlvdXRNYW5hZ2VyLnByb3RvdHlwZS5leGVjdXRlTGF5b3V0PWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5nZXRMYXlvdXQoYSxiP214RXZlbnQuRU5EX1VQREFURTpteEV2ZW50LkJFR0lOX1VQREFURSk7bnVsbCE9YyYmYy5leGVjdXRlKGEpfTtteExheW91dE1hbmFnZXIucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLnNldEdyYXBoKG51bGwpfTsKZnVuY3Rpb24gbXhTd2ltbGFuZU1hbmFnZXIoYSxiLGMsZCl7dGhpcy5ob3Jpem9udGFsPW51bGwhPWI/YjohMDt0aGlzLmFkZEVuYWJsZWQ9bnVsbCE9Yz9jOiEwO3RoaXMucmVzaXplRW5hYmxlZD1udWxsIT1kP2Q6ITA7dGhpcy5hZGRIYW5kbGVyPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEsYil7dGhpcy5pc0VuYWJsZWQoKSYmdGhpcy5pc0FkZEVuYWJsZWQoKSYmdGhpcy5jZWxsc0FkZGVkKGIuZ2V0UHJvcGVydHkoImNlbGxzIikpfSk7dGhpcy5yZXNpemVIYW5kbGVyPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEsYil7dGhpcy5pc0VuYWJsZWQoKSYmdGhpcy5pc1Jlc2l6ZUVuYWJsZWQoKSYmdGhpcy5jZWxsc1Jlc2l6ZWQoYi5nZXRQcm9wZXJ0eSgiY2VsbHMiKSl9KTt0aGlzLnNldEdyYXBoKGEpfW14U3dpbWxhbmVNYW5hZ2VyLnByb3RvdHlwZT1uZXcgbXhFdmVudFNvdXJjZTtteFN3aW1sYW5lTWFuYWdlci5wcm90b3R5cGUuY29uc3RydWN0b3I9bXhTd2ltbGFuZU1hbmFnZXI7Cm14U3dpbWxhbmVNYW5hZ2VyLnByb3RvdHlwZS5ncmFwaD1udWxsO214U3dpbWxhbmVNYW5hZ2VyLnByb3RvdHlwZS5lbmFibGVkPSEwO214U3dpbWxhbmVNYW5hZ2VyLnByb3RvdHlwZS5ob3Jpem9udGFsPSEwO214U3dpbWxhbmVNYW5hZ2VyLnByb3RvdHlwZS5hZGRFbmFibGVkPSEwO214U3dpbWxhbmVNYW5hZ2VyLnByb3RvdHlwZS5yZXNpemVFbmFibGVkPSEwO214U3dpbWxhbmVNYW5hZ2VyLnByb3RvdHlwZS5hZGRIYW5kbGVyPW51bGw7bXhTd2ltbGFuZU1hbmFnZXIucHJvdG90eXBlLnJlc2l6ZUhhbmRsZXI9bnVsbDtteFN3aW1sYW5lTWFuYWdlci5wcm90b3R5cGUuaXNFbmFibGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZW5hYmxlZH07bXhTd2ltbGFuZU1hbmFnZXIucHJvdG90eXBlLnNldEVuYWJsZWQ9ZnVuY3Rpb24oYSl7dGhpcy5lbmFibGVkPWF9O214U3dpbWxhbmVNYW5hZ2VyLnByb3RvdHlwZS5pc0hvcml6b250YWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ob3Jpem9udGFsfTsKbXhTd2ltbGFuZU1hbmFnZXIucHJvdG90eXBlLnNldEhvcml6b250YWw9ZnVuY3Rpb24oYSl7dGhpcy5ob3Jpem9udGFsPWF9O214U3dpbWxhbmVNYW5hZ2VyLnByb3RvdHlwZS5pc0FkZEVuYWJsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hZGRFbmFibGVkfTtteFN3aW1sYW5lTWFuYWdlci5wcm90b3R5cGUuc2V0QWRkRW5hYmxlZD1mdW5jdGlvbihhKXt0aGlzLmFkZEVuYWJsZWQ9YX07bXhTd2ltbGFuZU1hbmFnZXIucHJvdG90eXBlLmlzUmVzaXplRW5hYmxlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnJlc2l6ZUVuYWJsZWR9O214U3dpbWxhbmVNYW5hZ2VyLnByb3RvdHlwZS5zZXRSZXNpemVFbmFibGVkPWZ1bmN0aW9uKGEpe3RoaXMucmVzaXplRW5hYmxlZD1hfTtteFN3aW1sYW5lTWFuYWdlci5wcm90b3R5cGUuZ2V0R3JhcGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ncmFwaH07Cm14U3dpbWxhbmVNYW5hZ2VyLnByb3RvdHlwZS5zZXRHcmFwaD1mdW5jdGlvbihhKXtudWxsIT10aGlzLmdyYXBoJiYodGhpcy5ncmFwaC5yZW1vdmVMaXN0ZW5lcih0aGlzLmFkZEhhbmRsZXIpLHRoaXMuZ3JhcGgucmVtb3ZlTGlzdGVuZXIodGhpcy5yZXNpemVIYW5kbGVyKSk7dGhpcy5ncmFwaD1hO251bGwhPXRoaXMuZ3JhcGgmJih0aGlzLmdyYXBoLmFkZExpc3RlbmVyKG14RXZlbnQuQUREX0NFTExTLHRoaXMuYWRkSGFuZGxlciksdGhpcy5ncmFwaC5hZGRMaXN0ZW5lcihteEV2ZW50LkNFTExTX1JFU0laRUQsdGhpcy5yZXNpemVIYW5kbGVyKSl9O214U3dpbWxhbmVNYW5hZ2VyLnByb3RvdHlwZS5pc1N3aW1sYW5lSWdub3JlZD1mdW5jdGlvbihhKXtyZXR1cm4hdGhpcy5nZXRHcmFwaCgpLmlzU3dpbWxhbmUoYSl9OwpteFN3aW1sYW5lTWFuYWdlci5wcm90b3R5cGUuaXNDZWxsSG9yaXpvbnRhbD1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5ncmFwaC5pc1N3aW1sYW5lKGEpPyhhPXRoaXMuZ3JhcGguZ2V0Q2VsbFN0eWxlKGEpLDE9PW14VXRpbHMuZ2V0VmFsdWUoYSxteENvbnN0YW50cy5TVFlMRV9IT1JJWk9OVEFMLDEpKTohdGhpcy5pc0hvcml6b250YWwoKX07bXhTd2ltbGFuZU1hbmFnZXIucHJvdG90eXBlLmNlbGxzQWRkZWQ9ZnVuY3Rpb24oYSl7aWYobnVsbCE9YSl7dmFyIGI9dGhpcy5nZXRHcmFwaCgpLmdldE1vZGVsKCk7Yi5iZWdpblVwZGF0ZSgpO3RyeXtmb3IodmFyIGM9MDtjPGEubGVuZ3RoO2MrKyl0aGlzLmlzU3dpbWxhbmVJZ25vcmVkKGFbY10pfHx0aGlzLnN3aW1sYW5lQWRkZWQoYVtjXSl9ZmluYWxseXtiLmVuZFVwZGF0ZSgpfX19OwpteFN3aW1sYW5lTWFuYWdlci5wcm90b3R5cGUuc3dpbWxhbmVBZGRlZD1mdW5jdGlvbihhKXtmb3IodmFyIGI9dGhpcy5nZXRHcmFwaCgpLmdldE1vZGVsKCksYz1iLmdldFBhcmVudChhKSxkPWIuZ2V0Q2hpbGRDb3VudChjKSxlPW51bGwsZj0wO2Y8ZDtmKyspe3ZhciBnPWIuZ2V0Q2hpbGRBdChjLGYpO2lmKGchPWEmJiF0aGlzLmlzU3dpbWxhbmVJZ25vcmVkKGcpJiYoZT1iLmdldEdlb21ldHJ5KGcpLG51bGwhPWUpKWJyZWFrfW51bGwhPWUmJihiPW51bGwhPWM/dGhpcy5pc0NlbGxIb3Jpem9udGFsKGMpOnRoaXMuaG9yaXpvbnRhbCx0aGlzLnJlc2l6ZVN3aW1sYW5lKGEsZS53aWR0aCxlLmhlaWdodCxiKSl9OwpteFN3aW1sYW5lTWFuYWdlci5wcm90b3R5cGUuY2VsbHNSZXNpemVkPWZ1bmN0aW9uKGEpe2lmKG51bGwhPWEpe3ZhciBiPXRoaXMuZ2V0R3JhcGgoKS5nZXRNb2RlbCgpO2IuYmVnaW5VcGRhdGUoKTt0cnl7Zm9yKHZhciBjPTA7YzxhLmxlbmd0aDtjKyspaWYoIXRoaXMuaXNTd2ltbGFuZUlnbm9yZWQoYVtjXSkpe3ZhciBkPWIuZ2V0R2VvbWV0cnkoYVtjXSk7aWYobnVsbCE9ZCl7Zm9yKHZhciBlPW5ldyBteFJlY3RhbmdsZSgwLDAsZC53aWR0aCxkLmhlaWdodCksZj1hW2NdLGc9ZjtudWxsIT1nOyl7dmFyIGY9ZyxnPWIuZ2V0UGFyZW50KGcpLGs9dGhpcy5ncmFwaC5pc1N3aW1sYW5lKGcpP3RoaXMuZ3JhcGguZ2V0U3RhcnRTaXplKGcpOm5ldyBteFJlY3RhbmdsZTtlLndpZHRoKz1rLndpZHRoO2UuaGVpZ2h0Kz1rLmhlaWdodH12YXIgbD1udWxsIT1nP3RoaXMuaXNDZWxsSG9yaXpvbnRhbChnKTp0aGlzLmhvcml6b250YWw7dGhpcy5yZXNpemVTd2ltbGFuZShmLGUud2lkdGgsCmUuaGVpZ2h0LGwpfX19ZmluYWxseXtiLmVuZFVwZGF0ZSgpfX19OwpteFN3aW1sYW5lTWFuYWdlci5wcm90b3R5cGUucmVzaXplU3dpbWxhbmU9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9dGhpcy5nZXRHcmFwaCgpLmdldE1vZGVsKCk7ZS5iZWdpblVwZGF0ZSgpO3RyeXt2YXIgZj10aGlzLmlzQ2VsbEhvcml6b250YWwoYSk7aWYoIXRoaXMuaXNTd2ltbGFuZUlnbm9yZWQoYSkpe3ZhciBnPWUuZ2V0R2VvbWV0cnkoYSk7bnVsbCE9ZyYmKGQmJmcuaGVpZ2h0IT1jfHwhZCYmZy53aWR0aCE9YikmJihnPWcuY2xvbmUoKSxkP2cuaGVpZ2h0PWM6Zy53aWR0aD1iLGUuc2V0R2VvbWV0cnkoYSxnKSl9dmFyIGs9dGhpcy5ncmFwaC5pc1N3aW1sYW5lKGEpP3RoaXMuZ3JhcGguZ2V0U3RhcnRTaXplKGEpOm5ldyBteFJlY3RhbmdsZTtiLT1rLndpZHRoO2MtPWsuaGVpZ2h0O3ZhciBsPWUuZ2V0Q2hpbGRDb3VudChhKTtmb3IoZD0wO2Q8bDtkKyspe3ZhciBtPWUuZ2V0Q2hpbGRBdChhLGQpO3RoaXMucmVzaXplU3dpbWxhbmUobSxiLGMsZil9fWZpbmFsbHl7ZS5lbmRVcGRhdGUoKX19OwpteFN3aW1sYW5lTWFuYWdlci5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuc2V0R3JhcGgobnVsbCl9OwpmdW5jdGlvbiBteFRlbXBvcmFyeUNlbGxTdGF0ZXMoYSxiLGMsZCxlKXtiPW51bGwhPWI/YjoxO3RoaXMudmlldz1hO3RoaXMub2xkVmFsaWRhdGVDZWxsU3RhdGU9YS52YWxpZGF0ZUNlbGxTdGF0ZTt0aGlzLm9sZEJvdW5kcz1hLmdldEdyYXBoQm91bmRzKCk7dGhpcy5vbGRTdGF0ZXM9YS5nZXRTdGF0ZXMoKTt0aGlzLm9sZFNjYWxlPWEuZ2V0U2NhbGUoKTt0aGlzLm9sZERvUmVkcmF3U2hhcGU9YS5ncmFwaC5jZWxsUmVuZGVyZXIuZG9SZWRyYXdTaGFwZTt2YXIgZj10aGlzO251bGwhPWUmJihhLmdyYXBoLmNlbGxSZW5kZXJlci5kb1JlZHJhd1NoYXBlPWZ1bmN0aW9uKGIpe3ZhciBjPWIuc2hhcGUucGFpbnQ7Yi5zaGFwZS5wYWludD1mdW5jdGlvbihhKXt2YXIgZD1lKGIpO251bGwhPWQmJmEuc2V0TGluayhkKTtjLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtudWxsIT1kJiZhLnNldExpbmsobnVsbCl9O2Yub2xkRG9SZWRyYXdTaGFwZS5hcHBseShhLmdyYXBoLmNlbGxSZW5kZXJlciwKYXJndW1lbnRzKTtiLnNoYXBlLnBhaW50PWN9KTthLnZhbGlkYXRlQ2VsbFN0YXRlPWZ1bmN0aW9uKGIsYyl7cmV0dXJuIG51bGw9PWJ8fG51bGw9PWR8fGQoYik/Zi5vbGRWYWxpZGF0ZUNlbGxTdGF0ZS5hcHBseShhLGFyZ3VtZW50cyk6bnVsbH07YS5zZXRTdGF0ZXMobmV3IG14RGljdGlvbmFyeSk7YS5zZXRTY2FsZShiKTtpZihudWxsIT1jKXthLnJlc2V0VmFsaWRhdGlvblN0YXRlKCk7Yj1udWxsO2Zvcih2YXIgZz0wO2c8Yy5sZW5ndGg7ZysrKXt2YXIgaz1hLmdldEJvdW5kaW5nQm94KGEudmFsaWRhdGVDZWxsU3RhdGUoYS52YWxpZGF0ZUNlbGwoY1tnXSkpKTtudWxsPT1iP2I9azpiLmFkZChrKX1hLnNldEdyYXBoQm91bmRzKGJ8fG5ldyBteFJlY3RhbmdsZSl9fW14VGVtcG9yYXJ5Q2VsbFN0YXRlcy5wcm90b3R5cGUudmlldz1udWxsO214VGVtcG9yYXJ5Q2VsbFN0YXRlcy5wcm90b3R5cGUub2xkU3RhdGVzPW51bGw7Cm14VGVtcG9yYXJ5Q2VsbFN0YXRlcy5wcm90b3R5cGUub2xkQm91bmRzPW51bGw7bXhUZW1wb3JhcnlDZWxsU3RhdGVzLnByb3RvdHlwZS5vbGRTY2FsZT1udWxsO214VGVtcG9yYXJ5Q2VsbFN0YXRlcy5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMudmlldy5zZXRTY2FsZSh0aGlzLm9sZFNjYWxlKTt0aGlzLnZpZXcuc2V0U3RhdGVzKHRoaXMub2xkU3RhdGVzKTt0aGlzLnZpZXcuc2V0R3JhcGhCb3VuZHModGhpcy5vbGRCb3VuZHMpO3RoaXMudmlldy52YWxpZGF0ZUNlbGxTdGF0ZT10aGlzLm9sZFZhbGlkYXRlQ2VsbFN0YXRlO3RoaXMudmlldy5ncmFwaC5jZWxsUmVuZGVyZXIuZG9SZWRyYXdTaGFwZT10aGlzLm9sZERvUmVkcmF3U2hhcGV9O2Z1bmN0aW9uIG14Q2VsbFN0YXRlUHJldmlldyhhKXt0aGlzLmRlbHRhcz1uZXcgbXhEaWN0aW9uYXJ5O3RoaXMuZ3JhcGg9YX1teENlbGxTdGF0ZVByZXZpZXcucHJvdG90eXBlLmdyYXBoPW51bGw7Cm14Q2VsbFN0YXRlUHJldmlldy5wcm90b3R5cGUuZGVsdGFzPW51bGw7bXhDZWxsU3RhdGVQcmV2aWV3LnByb3RvdHlwZS5jb3VudD0wO214Q2VsbFN0YXRlUHJldmlldy5wcm90b3R5cGUuaXNFbXB0eT1mdW5jdGlvbigpe3JldHVybiAwPT10aGlzLmNvdW50fTtteENlbGxTdGF0ZVByZXZpZXcucHJvdG90eXBlLm1vdmVTdGF0ZT1mdW5jdGlvbihhLGIsYyxkLGUpe2Q9bnVsbCE9ZD9kOiEwO2U9bnVsbCE9ZT9lOiEwO3ZhciBmPXRoaXMuZGVsdGFzLmdldChhLmNlbGwpO251bGw9PWY/KGY9e3BvaW50Om5ldyBteFBvaW50KGIsYyksc3RhdGU6YX0sdGhpcy5kZWx0YXMucHV0KGEuY2VsbCxmKSx0aGlzLmNvdW50KyspOmQ/KGYucG9pbnQueCs9YixmLnBvaW50LnkrPWMpOihmLnBvaW50Lng9YixmLnBvaW50Lnk9Yyk7ZSYmdGhpcy5hZGRFZGdlcyhhKTtyZXR1cm4gZi5wb2ludH07Cm14Q2VsbFN0YXRlUHJldmlldy5wcm90b3R5cGUuc2hvdz1mdW5jdGlvbihhKXt0aGlzLmRlbHRhcy52aXNpdChteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhLGMpe3RoaXMudHJhbnNsYXRlU3RhdGUoYy5zdGF0ZSxjLnBvaW50LngsYy5wb2ludC55KX0pKTt0aGlzLmRlbHRhcy52aXNpdChteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihiLGMpe3RoaXMucmV2YWxpZGF0ZVN0YXRlKGMuc3RhdGUsYy5wb2ludC54LGMucG9pbnQueSxhKX0pKX07Cm14Q2VsbFN0YXRlUHJldmlldy5wcm90b3R5cGUudHJhbnNsYXRlU3RhdGU9ZnVuY3Rpb24oYSxiLGMpe2lmKG51bGwhPWEpe3ZhciBkPXRoaXMuZ3JhcGguZ2V0TW9kZWwoKTtpZihkLmlzVmVydGV4KGEuY2VsbCkpe2Eudmlldy51cGRhdGVDZWxsU3RhdGUoYSk7dmFyIGU9ZC5nZXRHZW9tZXRyeShhLmNlbGwpOzA9PWImJjA9PWN8fG51bGw9PWV8fGUucmVsYXRpdmUmJm51bGw9PXRoaXMuZGVsdGFzLmdldChhLmNlbGwpfHwoYS54Kz1iLGEueSs9Yyl9Zm9yKHZhciBlPWQuZ2V0Q2hpbGRDb3VudChhLmNlbGwpLGY9MDtmPGU7ZisrKXRoaXMudHJhbnNsYXRlU3RhdGUoYS52aWV3LmdldFN0YXRlKGQuZ2V0Q2hpbGRBdChhLmNlbGwsZikpLGIsYyl9fTsKbXhDZWxsU3RhdGVQcmV2aWV3LnByb3RvdHlwZS5yZXZhbGlkYXRlU3RhdGU9ZnVuY3Rpb24oYSxiLGMsZCl7aWYobnVsbCE9YSl7dmFyIGU9dGhpcy5ncmFwaC5nZXRNb2RlbCgpO2UuaXNFZGdlKGEuY2VsbCkmJmEudmlldy51cGRhdGVDZWxsU3RhdGUoYSk7dmFyIGY9dGhpcy5ncmFwaC5nZXRDZWxsR2VvbWV0cnkoYS5jZWxsKSxnPWEudmlldy5nZXRTdGF0ZShlLmdldFBhcmVudChhLmNlbGwpKTswPT1iJiYwPT1jfHxudWxsPT1mfHwhZi5yZWxhdGl2ZXx8IWUuaXNWZXJ0ZXgoYS5jZWxsKXx8bnVsbCE9ZyYmIWUuaXNWZXJ0ZXgoZy5jZWxsKSYmbnVsbD09dGhpcy5kZWx0YXMuZ2V0KGEuY2VsbCl8fChhLngrPWIsYS55Kz1jKTt0aGlzLmdyYXBoLmNlbGxSZW5kZXJlci5yZWRyYXcoYSk7bnVsbCE9ZCYmZChhKTtmPWUuZ2V0Q2hpbGRDb3VudChhLmNlbGwpO2ZvcihnPTA7ZzxmO2crKyl0aGlzLnJldmFsaWRhdGVTdGF0ZSh0aGlzLmdyYXBoLnZpZXcuZ2V0U3RhdGUoZS5nZXRDaGlsZEF0KGEuY2VsbCwKZykpLGIsYyxkKX19O214Q2VsbFN0YXRlUHJldmlldy5wcm90b3R5cGUuYWRkRWRnZXM9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPXRoaXMuZ3JhcGguZ2V0TW9kZWwoKSxjPWIuZ2V0RWRnZUNvdW50KGEuY2VsbCksZD0wO2Q8YztkKyspe3ZhciBlPWEudmlldy5nZXRTdGF0ZShiLmdldEVkZ2VBdChhLmNlbGwsZCkpO251bGwhPWUmJnRoaXMubW92ZVN0YXRlKGUsMCwwKX19O2Z1bmN0aW9uIG14Q29ubmVjdGlvbkNvbnN0cmFpbnQoYSxiLGMsZCxlKXt0aGlzLnBvaW50PWE7dGhpcy5wZXJpbWV0ZXI9bnVsbCE9Yj9iOiEwO3RoaXMubmFtZT1jO3RoaXMuZHg9ZD9kOjA7dGhpcy5keT1lP2U6MH1teENvbm5lY3Rpb25Db25zdHJhaW50LnByb3RvdHlwZS5wb2ludD1udWxsO214Q29ubmVjdGlvbkNvbnN0cmFpbnQucHJvdG90eXBlLnBlcmltZXRlcj1udWxsO214Q29ubmVjdGlvbkNvbnN0cmFpbnQucHJvdG90eXBlLm5hbWU9bnVsbDsKbXhDb25uZWN0aW9uQ29uc3RyYWludC5wcm90b3R5cGUuZHg9bnVsbDtteENvbm5lY3Rpb25Db25zdHJhaW50LnByb3RvdHlwZS5keT1udWxsOwpmdW5jdGlvbiBteEdyYXBoSGFuZGxlcihhKXt0aGlzLmdyYXBoPWE7dGhpcy5ncmFwaC5hZGRNb3VzZUxpc3RlbmVyKHRoaXMpO3RoaXMucGFuSGFuZGxlcj1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMuc3VzcGVuZGVkfHwodGhpcy51cGRhdGVQcmV2aWV3KCksdGhpcy51cGRhdGVIaW50KCkpfSk7dGhpcy5ncmFwaC5hZGRMaXN0ZW5lcihteEV2ZW50LlBBTix0aGlzLnBhbkhhbmRsZXIpO3RoaXMuZXNjYXBlSGFuZGxlcj1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhLGMpe3RoaXMucmVzZXQoKX0pO3RoaXMuZ3JhcGguYWRkTGlzdGVuZXIobXhFdmVudC5FU0NBUEUsdGhpcy5lc2NhcGVIYW5kbGVyKTt0aGlzLnJlZnJlc2hIYW5kbGVyPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEsYyl7d2luZG93LnNldFRpbWVvdXQobXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXtpZihudWxsIT10aGlzLmZpcnN0JiYhdGhpcy5zdXNwZW5kZWQpe3ZhciBhPXRoaXMuY3VycmVudER4LApiPXRoaXMuY3VycmVudER5O3RoaXMuY3VycmVudER5PXRoaXMuY3VycmVudER4PTA7dGhpcy51cGRhdGVQcmV2aWV3KCk7dGhpcy5ib3VuZHM9dGhpcy5ncmFwaC5nZXRWaWV3KCkuZ2V0Qm91bmRzKHRoaXMuY2VsbHMpO3RoaXMucEJvdW5kcz10aGlzLmdldFByZXZpZXdCb3VuZHModGhpcy5jZWxscyk7bnVsbD09dGhpcy5wQm91bmRzP3RoaXMucmVzZXQoKToodGhpcy5jdXJyZW50RHg9YSx0aGlzLmN1cnJlbnREeT1iLHRoaXMudXBkYXRlUHJldmlldygpLHRoaXMudXBkYXRlSGludCgpLHRoaXMubGl2ZVByZXZpZXdVc2VkJiZ0aGlzLnNldEhhbmRsZXNWaXNpYmxlRm9yQ2VsbHModGhpcy5ncmFwaC5zZWxlY3Rpb25DZWxsc0hhbmRsZXIuZ2V0SGFuZGxlZFNlbGVjdGlvbkNlbGxzKCksITEpKX19KSwwKX0pO3RoaXMuZ3JhcGguZ2V0TW9kZWwoKS5hZGRMaXN0ZW5lcihteEV2ZW50LkNIQU5HRSx0aGlzLnJlZnJlc2hIYW5kbGVyKTt0aGlzLmtleUhhbmRsZXI9bXhVdGlscy5iaW5kKHRoaXMsCmZ1bmN0aW9uKGEpe251bGw9PXRoaXMuZ3JhcGguY29udGFpbmVyfHwiaGlkZGVuIj09dGhpcy5ncmFwaC5jb250YWluZXIuc3R5bGUudmlzaWJpbGl0eXx8bnVsbD09dGhpcy5maXJzdHx8dGhpcy5zdXNwZW5kZWR8fChhPXRoaXMuZ3JhcGguaXNDbG9uZUV2ZW50KGEpJiZ0aGlzLmdyYXBoLmlzQ2VsbHNDbG9uZWFibGUoKSYmdGhpcy5pc0Nsb25lRW5hYmxlZCgpLGEhPXRoaXMuY2xvbmluZyYmKHRoaXMuY2xvbmluZz1hLHRoaXMuY2hlY2tQcmV2aWV3KCksdGhpcy51cGRhdGVQcmV2aWV3KCkpKX0pO214RXZlbnQuYWRkTGlzdGVuZXIoZG9jdW1lbnQsImtleWRvd24iLHRoaXMua2V5SGFuZGxlcik7bXhFdmVudC5hZGRMaXN0ZW5lcihkb2N1bWVudCwia2V5dXAiLHRoaXMua2V5SGFuZGxlcil9bXhHcmFwaEhhbmRsZXIucHJvdG90eXBlLmdyYXBoPW51bGw7bXhHcmFwaEhhbmRsZXIucHJvdG90eXBlLm1heENlbGxzPW14Q2xpZW50LklTX0lFPzIwOjUwOwpteEdyYXBoSGFuZGxlci5wcm90b3R5cGUuZW5hYmxlZD0hMDtteEdyYXBoSGFuZGxlci5wcm90b3R5cGUuaGlnaGxpZ2h0RW5hYmxlZD0hMDtteEdyYXBoSGFuZGxlci5wcm90b3R5cGUuY2xvbmVFbmFibGVkPSEwO214R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5tb3ZlRW5hYmxlZD0hMDtteEdyYXBoSGFuZGxlci5wcm90b3R5cGUuZ3VpZGVzRW5hYmxlZD0hMTtteEdyYXBoSGFuZGxlci5wcm90b3R5cGUuaGFuZGxlc1Zpc2libGU9ITA7bXhHcmFwaEhhbmRsZXIucHJvdG90eXBlLmd1aWRlPW51bGw7bXhHcmFwaEhhbmRsZXIucHJvdG90eXBlLmN1cnJlbnREeD1udWxsO214R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5jdXJyZW50RHk9bnVsbDtteEdyYXBoSGFuZGxlci5wcm90b3R5cGUudXBkYXRlQ3Vyc29yPSEwO214R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5zZWxlY3RFbmFibGVkPSEwO214R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5yZW1vdmVDZWxsc0Zyb21QYXJlbnQ9ITA7Cm14R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5yZW1vdmVFbXB0eVBhcmVudHM9ITE7bXhHcmFwaEhhbmRsZXIucHJvdG90eXBlLmNvbm5lY3RPbkRyb3A9ITE7bXhHcmFwaEhhbmRsZXIucHJvdG90eXBlLnNjcm9sbE9uTW92ZT0hMDtteEdyYXBoSGFuZGxlci5wcm90b3R5cGUubWluaW11bVNpemU9NjtteEdyYXBoSGFuZGxlci5wcm90b3R5cGUucHJldmlld0NvbG9yPSJibGFjayI7bXhHcmFwaEhhbmRsZXIucHJvdG90eXBlLmh0bWxQcmV2aWV3PSExO214R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5zaGFwZT1udWxsO214R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5zY2FsZUdyaWQ9ITE7bXhHcmFwaEhhbmRsZXIucHJvdG90eXBlLnJvdGF0aW9uRW5hYmxlZD0hMDtteEdyYXBoSGFuZGxlci5wcm90b3R5cGUubWF4TGl2ZVByZXZpZXc9MDtteEdyYXBoSGFuZGxlci5wcm90b3R5cGUuYWxsb3dMaXZlUHJldmlldz1teENsaWVudC5JU19TVkc7Cm14R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5pc0VuYWJsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbmFibGVkfTtteEdyYXBoSGFuZGxlci5wcm90b3R5cGUuc2V0RW5hYmxlZD1mdW5jdGlvbihhKXt0aGlzLmVuYWJsZWQ9YX07bXhHcmFwaEhhbmRsZXIucHJvdG90eXBlLmlzQ2xvbmVFbmFibGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2xvbmVFbmFibGVkfTtteEdyYXBoSGFuZGxlci5wcm90b3R5cGUuc2V0Q2xvbmVFbmFibGVkPWZ1bmN0aW9uKGEpe3RoaXMuY2xvbmVFbmFibGVkPWF9O214R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5pc01vdmVFbmFibGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubW92ZUVuYWJsZWR9O214R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5zZXRNb3ZlRW5hYmxlZD1mdW5jdGlvbihhKXt0aGlzLm1vdmVFbmFibGVkPWF9O214R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5pc1NlbGVjdEVuYWJsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZWxlY3RFbmFibGVkfTsKbXhHcmFwaEhhbmRsZXIucHJvdG90eXBlLnNldFNlbGVjdEVuYWJsZWQ9ZnVuY3Rpb24oYSl7dGhpcy5zZWxlY3RFbmFibGVkPWF9O214R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5pc1JlbW92ZUNlbGxzRnJvbVBhcmVudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnJlbW92ZUNlbGxzRnJvbVBhcmVudH07bXhHcmFwaEhhbmRsZXIucHJvdG90eXBlLnNldFJlbW92ZUNlbGxzRnJvbVBhcmVudD1mdW5jdGlvbihhKXt0aGlzLnJlbW92ZUNlbGxzRnJvbVBhcmVudD1hfTsKbXhHcmFwaEhhbmRsZXIucHJvdG90eXBlLmlzUHJvcGFnYXRlU2VsZWN0aW9uQ2VsbD1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZ3JhcGgubW9kZWwuZ2V0UGFyZW50KGEpO2lmKGIpe3ZhciBkPXRoaXMuZ3JhcGguZ2V0Q2VsbEdlb21ldHJ5KGEpO3JldHVybiF0aGlzLmdyYXBoLm1vZGVsLmlzRWRnZShhKSYmIXRoaXMuZ3JhcGgubW9kZWwuaXNFZGdlKGMpJiYhdGhpcy5ncmFwaC5pc1NpYmxpbmdTZWxlY3RlZChhKSYmKG51bGw9PWR8fGQucmVsYXRpdmV8fCF0aGlzLmdyYXBoLmlzU3dpbWxhbmUoYykpfXJldHVybiF0aGlzLmdyYXBoLmlzQ2VsbFNlbGVjdGVkKGMpfTsKbXhHcmFwaEhhbmRsZXIucHJvdG90eXBlLmdldEluaXRpYWxDZWxsRm9yRXZlbnQ9ZnVuY3Rpb24oYSl7dmFyIGI9YS5nZXRTdGF0ZSgpO2lmKCF0aGlzLmdyYXBoLmlzVG9nZ2xlRXZlbnQoYS5nZXRFdmVudCgpKSYmbnVsbCE9YiYmIXRoaXMuZ3JhcGguaXNDZWxsU2VsZWN0ZWQoYi5jZWxsKSl7YT10aGlzLmdyYXBoLm1vZGVsO2Zvcih2YXIgYz10aGlzLmdyYXBoLnZpZXcuZ2V0U3RhdGUoYS5nZXRQYXJlbnQoYi5jZWxsKSk7bnVsbCE9YyYmIXRoaXMuZ3JhcGguaXNDZWxsU2VsZWN0ZWQoYy5jZWxsKSYmKGEuaXNWZXJ0ZXgoYy5jZWxsKXx8YS5pc0VkZ2UoYy5jZWxsKSkmJnRoaXMuaXNQcm9wYWdhdGVTZWxlY3Rpb25DZWxsKGIuY2VsbCwhMCk7KWI9YyxjPXRoaXMuZ3JhcGgudmlldy5nZXRTdGF0ZSh0aGlzLmdyYXBoLmdldE1vZGVsKCkuZ2V0UGFyZW50KGIuY2VsbCkpfXJldHVybiBudWxsIT1iP2IuY2VsbDpudWxsfTsKbXhHcmFwaEhhbmRsZXIucHJvdG90eXBlLmlzRGVsYXllZFNlbGVjdGlvbj1mdW5jdGlvbihhLGIpe2lmKCF0aGlzLmdyYXBoLmlzVG9nZ2xlRXZlbnQoYi5nZXRFdmVudCgpKSlmb3IoO251bGwhPWE7KXtpZih0aGlzLmdyYXBoLnNlbGVjdGlvbkNlbGxzSGFuZGxlci5pc0hhbmRsZWQoYSkpcmV0dXJuIHRoaXMuZ3JhcGguY2VsbEVkaXRvci5nZXRFZGl0aW5nQ2VsbCgpIT1hO2E9dGhpcy5ncmFwaC5tb2RlbC5nZXRQYXJlbnQoYSl9cmV0dXJuIHRoaXMuZ3JhcGguaXNUb2dnbGVFdmVudChiLmdldEV2ZW50KCkpfTsKbXhHcmFwaEhhbmRsZXIucHJvdG90eXBlLnNlbGVjdERlbGF5ZWQ9ZnVuY3Rpb24oYSl7aWYoIXRoaXMuZ3JhcGgucG9wdXBNZW51SGFuZGxlci5pc1BvcHVwVHJpZ2dlcihhKSl7dmFyIGI9YS5nZXRDZWxsKCk7bnVsbD09YiYmKGI9dGhpcy5jZWxsKTt2YXIgYz10aGlzLmdyYXBoLnZpZXcuZ2V0U3RhdGUoYik7aWYobnVsbCE9Yyl7aWYoIWEuaXNTb3VyY2UoYy5jb250cm9sKSYmIXRoaXMuZ3JhcGguaXNUb2dnbGVFdmVudChhLmdldEV2ZW50KCkpKWZvcih2YXIgYz10aGlzLmdyYXBoLmdldE1vZGVsKCksZD1jLmdldFBhcmVudChiKTtudWxsIT10aGlzLmdyYXBoLnZpZXcuZ2V0U3RhdGUoZCkmJihjLmlzVmVydGV4KGQpfHxjLmlzRWRnZShkKSkmJnRoaXMuaXNQcm9wYWdhdGVTZWxlY3Rpb25DZWxsKGIsITEpOyliPWQsZD1jLmdldFBhcmVudChiKTt0aGlzLmdyYXBoLnNlbGVjdENlbGxGb3JFdmVudChiLGEuZ2V0RXZlbnQoKSl9fX07Cm14R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5jb25zdW1lTW91c2VFdmVudD1mdW5jdGlvbihhLGIpe2IuY29uc3VtZSgpfTsKbXhHcmFwaEhhbmRsZXIucHJvdG90eXBlLm1vdXNlRG93bj1mdW5jdGlvbihhLGIpe2lmKCFiLmlzQ29uc3VtZWQoKSYmdGhpcy5pc0VuYWJsZWQoKSYmdGhpcy5ncmFwaC5pc0VuYWJsZWQoKSYmbnVsbCE9Yi5nZXRTdGF0ZSgpJiYhbXhFdmVudC5pc011bHRpVG91Y2hFdmVudChiLmdldEV2ZW50KCkpKXt2YXIgYz10aGlzLmdldEluaXRpYWxDZWxsRm9yRXZlbnQoYik7dGhpcy5kZWxheWVkU2VsZWN0aW9uPXRoaXMuaXNEZWxheWVkU2VsZWN0aW9uKGMsYik7dGhpcy5jZWxsPW51bGw7dGhpcy5pc1NlbGVjdEVuYWJsZWQoKSYmIXRoaXMuZGVsYXllZFNlbGVjdGlvbiYmdGhpcy5ncmFwaC5zZWxlY3RDZWxsRm9yRXZlbnQoYyxiLmdldEV2ZW50KCkpO2lmKHRoaXMuaXNNb3ZlRW5hYmxlZCgpKXt2YXIgZD10aGlzLmdyYXBoLm1vZGVsLGU9ZC5nZXRHZW9tZXRyeShjKTt0aGlzLmdyYXBoLmlzQ2VsbE1vdmFibGUoYykmJighZC5pc0VkZ2UoYyl8fDE8dGhpcy5ncmFwaC5nZXRTZWxlY3Rpb25Db3VudCgpfHwKbnVsbCE9ZS5wb2ludHMmJjA8ZS5wb2ludHMubGVuZ3RofHxudWxsPT1kLmdldFRlcm1pbmFsKGMsITApfHxudWxsPT1kLmdldFRlcm1pbmFsKGMsITEpfHx0aGlzLmdyYXBoLmFsbG93RGFuZ2xpbmdFZGdlc3x8dGhpcy5ncmFwaC5pc0Nsb25lRXZlbnQoYi5nZXRFdmVudCgpKSYmdGhpcy5ncmFwaC5pc0NlbGxzQ2xvbmVhYmxlKCkpP3RoaXMuc3RhcnQoYyxiLmdldFgoKSxiLmdldFkoKSk6dGhpcy5kZWxheWVkU2VsZWN0aW9uJiYodGhpcy5jZWxsPWMpO3RoaXMuY2VsbFdhc0NsaWNrZWQ9ITA7dGhpcy5jb25zdW1lTW91c2VFdmVudChteEV2ZW50Lk1PVVNFX0RPV04sYil9fX07Cm14R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5nZXRHdWlkZVN0YXRlcz1mdW5jdGlvbigpe3ZhciBhPXRoaXMuZ3JhcGguZ2V0RGVmYXVsdFBhcmVudCgpLGI9dGhpcy5ncmFwaC5nZXRNb2RlbCgpLGM9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPXRoaXMuZ3JhcGgudmlldy5nZXRTdGF0ZShhKSYmYi5pc1ZlcnRleChhKSYmbnVsbCE9Yi5nZXRHZW9tZXRyeShhKSYmIWIuZ2V0R2VvbWV0cnkoYSkucmVsYXRpdmV9KTtyZXR1cm4gdGhpcy5ncmFwaC52aWV3LmdldENlbGxTdGF0ZXMoYi5maWx0ZXJEZXNjZW5kYW50cyhjLGEpKX07bXhHcmFwaEhhbmRsZXIucHJvdG90eXBlLmdldENlbGxzPWZ1bmN0aW9uKGEpe3JldHVybiF0aGlzLmRlbGF5ZWRTZWxlY3Rpb24mJnRoaXMuZ3JhcGguaXNDZWxsTW92YWJsZShhKT9bYV06dGhpcy5ncmFwaC5nZXRNb3ZhYmxlQ2VsbHModGhpcy5ncmFwaC5nZXRTZWxlY3Rpb25DZWxscygpKX07Cm14R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5nZXRQcmV2aWV3Qm91bmRzPWZ1bmN0aW9uKGEpe2E9dGhpcy5nZXRCb3VuZGluZ0JveChhKTtudWxsIT1hJiYoYS53aWR0aD1NYXRoLm1heCgwLGEud2lkdGgtMSksYS5oZWlnaHQ9TWF0aC5tYXgoMCxhLmhlaWdodC0xKSxhLndpZHRoPHRoaXMubWluaW11bVNpemU/KGEueC09KHRoaXMubWluaW11bVNpemUtYS53aWR0aCkvMixhLndpZHRoPXRoaXMubWluaW11bVNpemUpOihhLng9TWF0aC5yb3VuZChhLngpLGEud2lkdGg9TWF0aC5jZWlsKGEud2lkdGgpKSxhLmhlaWdodDx0aGlzLm1pbmltdW1TaXplPyhhLnktPSh0aGlzLm1pbmltdW1TaXplLWEuaGVpZ2h0KS8yLGEuaGVpZ2h0PXRoaXMubWluaW11bVNpemUpOihhLnk9TWF0aC5yb3VuZChhLnkpLGEuaGVpZ2h0PU1hdGguY2VpbChhLmhlaWdodCkpKTtyZXR1cm4gYX07Cm14R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5nZXRCb3VuZGluZ0JveD1mdW5jdGlvbihhKXt2YXIgYj1udWxsO2lmKG51bGwhPWEmJjA8YS5sZW5ndGgpZm9yKHZhciBjPXRoaXMuZ3JhcGguZ2V0TW9kZWwoKSxkPTA7ZDxhLmxlbmd0aDtkKyspaWYoYy5pc1ZlcnRleChhW2RdKXx8Yy5pc0VkZ2UoYVtkXSkpe3ZhciBlPXRoaXMuZ3JhcGgudmlldy5nZXRTdGF0ZShhW2RdKTtpZihudWxsIT1lKXt2YXIgZj1lO2MuaXNWZXJ0ZXgoYVtkXSkmJm51bGwhPWUuc2hhcGUmJm51bGwhPWUuc2hhcGUuYm91bmRpbmdCb3gmJihmPWUuc2hhcGUuYm91bmRpbmdCb3gpO251bGw9PWI/Yj1teFJlY3RhbmdsZS5mcm9tUmVjdGFuZ2xlKGYpOmIuYWRkKGYpfX1yZXR1cm4gYn07Cm14R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5jcmVhdGVQcmV2aWV3U2hhcGU9ZnVuY3Rpb24oYSl7YT1uZXcgbXhSZWN0YW5nbGVTaGFwZShhLG51bGwsdGhpcy5wcmV2aWV3Q29sb3IpO2EuaXNEYXNoZWQ9ITA7dGhpcy5odG1sUHJldmlldz8oYS5kaWFsZWN0PW14Q29uc3RhbnRzLkRJQUxFQ1RfU1RSSUNUSFRNTCxhLmluaXQodGhpcy5ncmFwaC5jb250YWluZXIpKTooYS5kaWFsZWN0PXRoaXMuZ3JhcGguZGlhbGVjdCE9bXhDb25zdGFudHMuRElBTEVDVF9TVkc/bXhDb25zdGFudHMuRElBTEVDVF9WTUw6bXhDb25zdGFudHMuRElBTEVDVF9TVkcsYS5pbml0KHRoaXMuZ3JhcGguZ2V0VmlldygpLmdldE92ZXJsYXlQYW5lKCkpLGEucG9pbnRlckV2ZW50cz0hMSxteENsaWVudC5JU19JT1MmJihhLmdldFN2Z1NjcmVlbk9mZnNldD1mdW5jdGlvbigpe3JldHVybiAwfSkpO3JldHVybiBhfTsKbXhHcmFwaEhhbmRsZXIucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKGEsYixjLGQpe3RoaXMuY2VsbD1hO3RoaXMuZmlyc3Q9bXhVdGlscy5jb252ZXJ0UG9pbnQodGhpcy5ncmFwaC5jb250YWluZXIsYixjKTt0aGlzLmNlbGxzPW51bGwhPWQ/ZDp0aGlzLmdldENlbGxzKHRoaXMuY2VsbCk7dGhpcy5ib3VuZHM9dGhpcy5ncmFwaC5nZXRWaWV3KCkuZ2V0Qm91bmRzKHRoaXMuY2VsbHMpO3RoaXMucEJvdW5kcz10aGlzLmdldFByZXZpZXdCb3VuZHModGhpcy5jZWxscyk7dGhpcy5hbGxDZWxscz1uZXcgbXhEaWN0aW9uYXJ5O3RoaXMuY2xvbmluZz0hMTtmb3IoYj10aGlzLmNlbGxDb3VudD0wO2I8dGhpcy5jZWxscy5sZW5ndGg7YisrKXRoaXMuY2VsbENvdW50Kz10aGlzLmFkZFN0YXRlcyh0aGlzLmNlbGxzW2JdLHRoaXMuYWxsQ2VsbHMpO2lmKHRoaXMuZ3VpZGVzRW5hYmxlZCl7dGhpcy5ndWlkZT1uZXcgbXhHdWlkZSh0aGlzLmdyYXBoLHRoaXMuZ2V0R3VpZGVTdGF0ZXMoKSk7CnZhciBlPXRoaXMuZ3JhcGgubW9kZWwuZ2V0UGFyZW50KGEpLGY9Mj50aGlzLmdyYXBoLm1vZGVsLmdldENoaWxkQ291bnQoZSksZz1uZXcgbXhEaWN0aW9uYXJ5O2E9dGhpcy5ncmFwaC5nZXRPcHBvc2l0ZXModGhpcy5ncmFwaC5nZXRFZGdlcyh0aGlzLmNlbGwpLHRoaXMuY2VsbCk7Zm9yKGI9MDtiPGEubGVuZ3RoO2IrKyljPXRoaXMuZ3JhcGgudmlldy5nZXRTdGF0ZShhW2JdKSxudWxsPT1jfHxnLmdldChjKXx8Zy5wdXQoYywhMCk7dGhpcy5ndWlkZS5pc1N0YXRlSWdub3JlZD1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXt2YXIgYj10aGlzLmdyYXBoLm1vZGVsLmdldFBhcmVudChhLmNlbGwpO3JldHVybiBudWxsIT1hLmNlbGwmJighdGhpcy5jbG9uaW5nJiZ0aGlzLmlzQ2VsbE1vdmluZyhhLmNlbGwpfHxhLmNlbGwhPSh0aGlzLnRhcmdldHx8ZSkmJiFmJiYhZy5nZXQoYSkmJihudWxsPT10aGlzLnRhcmdldHx8Mjw9dGhpcy5ncmFwaC5tb2RlbC5nZXRDaGlsZENvdW50KHRoaXMudGFyZ2V0KSkmJgpiIT0odGhpcy50YXJnZXR8fGUpKX0pfX07bXhHcmFwaEhhbmRsZXIucHJvdG90eXBlLmFkZFN0YXRlcz1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZ3JhcGgudmlldy5nZXRTdGF0ZShhKSxkPTA7aWYobnVsbCE9YyYmbnVsbD09Yi5nZXQoYSkpe2IucHV0KGEsYyk7ZCsrO2Zvcih2YXIgYz10aGlzLmdyYXBoLm1vZGVsLmdldENoaWxkQ291bnQoYSksZT0wO2U8YztlKyspZCs9dGhpcy5hZGRTdGF0ZXModGhpcy5ncmFwaC5tb2RlbC5nZXRDaGlsZEF0KGEsZSksYil9cmV0dXJuIGR9O214R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5pc0NlbGxNb3Zpbmc9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPXRoaXMuYWxsQ2VsbHMuZ2V0KGEpfTsKbXhHcmFwaEhhbmRsZXIucHJvdG90eXBlLnVzZUd1aWRlc0ZvckV2ZW50PWZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT10aGlzLmd1aWRlP3RoaXMuZ3VpZGUuaXNFbmFibGVkRm9yRXZlbnQoYS5nZXRFdmVudCgpKSYmIXRoaXMuZ3JhcGguaXNDb25zdHJhaW5lZEV2ZW50KGEuZ2V0RXZlbnQoKSk6ITB9O214R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5zbmFwPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuc2NhbGVHcmlkP3RoaXMuZ3JhcGgudmlldy5zY2FsZToxO2EueD10aGlzLmdyYXBoLnNuYXAoYS54L2IpKmI7YS55PXRoaXMuZ3JhcGguc25hcChhLnkvYikqYjtyZXR1cm4gYX07Cm14R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5nZXREZWx0YT1mdW5jdGlvbihhKXthPW14VXRpbHMuY29udmVydFBvaW50KHRoaXMuZ3JhcGguY29udGFpbmVyLGEuZ2V0WCgpLGEuZ2V0WSgpKTtyZXR1cm4gbmV3IG14UG9pbnQoYS54LXRoaXMuZmlyc3QueC10aGlzLmdyYXBoLnBhbkR4LGEueS10aGlzLmZpcnN0LnktdGhpcy5ncmFwaC5wYW5EeSl9O214R3JhcGhIYW5kbGVyLnByb3RvdHlwZS51cGRhdGVIaW50PWZ1bmN0aW9uKGEpe307bXhHcmFwaEhhbmRsZXIucHJvdG90eXBlLnJlbW92ZUhpbnQ9ZnVuY3Rpb24oKXt9O214R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5yb3VuZExlbmd0aD1mdW5jdGlvbihhKXtyZXR1cm4gTWF0aC5yb3VuZCgxMDAqYSkvMTAwfTtteEdyYXBoSGFuZGxlci5wcm90b3R5cGUuaXNWYWxpZERyb3BUYXJnZXQ9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5ncmFwaC5tb2RlbC5nZXRQYXJlbnQodGhpcy5jZWxsKSE9YX07Cm14R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5jaGVja1ByZXZpZXc9ZnVuY3Rpb24oKXt0aGlzLmxpdmVQcmV2aWV3QWN0aXZlJiZ0aGlzLmNsb25pbmc/KHRoaXMucmVzZXRMaXZlUHJldmlldygpLHRoaXMubGl2ZVByZXZpZXdBY3RpdmU9ITEpOnRoaXMubWF4TGl2ZVByZXZpZXc+PXRoaXMuY2VsbENvdW50JiYhdGhpcy5saXZlUHJldmlld0FjdGl2ZSYmdGhpcy5hbGxvd0xpdmVQcmV2aWV3P3RoaXMuY2xvbmluZyYmdGhpcy5saXZlUHJldmlld0FjdGl2ZXx8KHRoaXMubGl2ZVByZXZpZXdVc2VkPXRoaXMubGl2ZVByZXZpZXdBY3RpdmU9ITApOnRoaXMubGl2ZVByZXZpZXdVc2VkfHxudWxsIT10aGlzLnNoYXBlfHwodGhpcy5zaGFwZT10aGlzLmNyZWF0ZVByZXZpZXdTaGFwZSh0aGlzLmJvdW5kcykpfTsKbXhHcmFwaEhhbmRsZXIucHJvdG90eXBlLm1vdXNlTW92ZT1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZ3JhcGg7aWYoYi5pc0NvbnN1bWVkKCl8fCFjLmlzTW91c2VEb3dufHxudWxsPT10aGlzLmNlbGx8fG51bGw9PXRoaXMuZmlyc3R8fG51bGw9PXRoaXMuYm91bmRzfHx0aGlzLnN1c3BlbmRlZCkhdGhpcy5pc01vdmVFbmFibGVkKCkmJiF0aGlzLmlzQ2xvbmVFbmFibGVkKCl8fCF0aGlzLnVwZGF0ZUN1cnNvcnx8Yi5pc0NvbnN1bWVkKCl8fG51bGw9PWIuZ2V0U3RhdGUoKSYmbnVsbD09Yi5zb3VyY2VTdGF0ZXx8Yy5pc01vdXNlRG93bnx8KGQ9Yy5nZXRDdXJzb3JGb3JNb3VzZUV2ZW50KGIpLG51bGw9PWQmJmMuaXNFbmFibGVkKCkmJmMuaXNDZWxsTW92YWJsZShiLmdldENlbGwoKSkmJihkPWMuZ2V0TW9kZWwoKS5pc0VkZ2UoYi5nZXRDZWxsKCkpP214Q29uc3RhbnRzLkNVUlNPUl9NT1ZBQkxFX0VER0U6bXhDb25zdGFudHMuQ1VSU09SX01PVkFCTEVfVkVSVEVYKSxudWxsIT0KZCYmbnVsbCE9Yi5zb3VyY2VTdGF0ZSYmYi5zb3VyY2VTdGF0ZS5zZXRDdXJzb3IoZCkpO2Vsc2UgaWYobXhFdmVudC5pc011bHRpVG91Y2hFdmVudChiLmdldEV2ZW50KCkpKXRoaXMucmVzZXQoKTtlbHNle3ZhciBkPXRoaXMuZ2V0RGVsdGEoYiksZT1jLnRvbGVyYW5jZTtpZihudWxsIT10aGlzLnNoYXBlfHx0aGlzLmxpdmVQcmV2aWV3QWN0aXZlfHxNYXRoLmFicyhkLngpPmV8fE1hdGguYWJzKGQueSk+ZSl7bnVsbD09dGhpcy5oaWdobGlnaHQmJih0aGlzLmhpZ2hsaWdodD1uZXcgbXhDZWxsSGlnaGxpZ2h0KHRoaXMuZ3JhcGgsbXhDb25zdGFudHMuRFJPUF9UQVJHRVRfQ09MT1IsMykpO3ZhciBlPWMuaXNDbG9uZUV2ZW50KGIuZ2V0RXZlbnQoKSkmJmMuaXNDZWxsc0Nsb25lYWJsZSgpJiZ0aGlzLmlzQ2xvbmVFbmFibGVkKCksZj1jLmlzR3JpZEVuYWJsZWRFdmVudChiLmdldEV2ZW50KCkpLGc9Yi5nZXRDZWxsKCksaz0hMCxsPW51bGw7dGhpcy5jbG9uaW5nPWU7Yy5pc0Ryb3BFbmFibGVkKCkmJgp0aGlzLmhpZ2hsaWdodEVuYWJsZWQmJihsPWMuZ2V0RHJvcFRhcmdldCh0aGlzLmNlbGxzLGIuZ2V0RXZlbnQoKSxnLGUpKTt2YXIgbT1jLmdldFZpZXcoKS5nZXRTdGF0ZShsKSxuPSExO251bGwhPW0mJihlfHx0aGlzLmlzVmFsaWREcm9wVGFyZ2V0KGwsYikpPyh0aGlzLnRhcmdldCE9bCYmKHRoaXMudGFyZ2V0PWwsdGhpcy5zZXRIaWdobGlnaHRDb2xvcihteENvbnN0YW50cy5EUk9QX1RBUkdFVF9DT0xPUikpLG49ITApOih0aGlzLnRhcmdldD1udWxsLHRoaXMuY29ubmVjdE9uRHJvcCYmbnVsbCE9ZyYmMT09dGhpcy5jZWxscy5sZW5ndGgmJmMuZ2V0TW9kZWwoKS5pc1ZlcnRleChnKSYmYy5pc0NlbGxDb25uZWN0YWJsZShnKSYmKG09Yy5nZXRWaWV3KCkuZ2V0U3RhdGUoZyksbnVsbCE9bSYmKGc9bnVsbD09Yy5nZXRFZGdlVmFsaWRhdGlvbkVycm9yKG51bGwsdGhpcy5jZWxsLGcpP214Q29uc3RhbnRzLlZBTElEX0NPTE9SOm14Q29uc3RhbnRzLklOVkFMSURfQ09OTkVDVF9UQVJHRVRfQ09MT1IsCnRoaXMuc2V0SGlnaGxpZ2h0Q29sb3IoZyksbj0hMCkpKTtudWxsIT1tJiZuP3RoaXMuaGlnaGxpZ2h0LmhpZ2hsaWdodChtKTp0aGlzLmhpZ2hsaWdodC5oaWRlKCk7bnVsbCE9dGhpcy5ndWlkZSYmdGhpcy51c2VHdWlkZXNGb3JFdmVudChiKT8oZD10aGlzLmd1aWRlLm1vdmUodGhpcy5ib3VuZHMsZCxmLGUpLGs9ITEpOmQ9dGhpcy5ncmFwaC5zbmFwRGVsdGEoZCx0aGlzLmJvdW5kcywhZiwhMSwhMSk7bnVsbCE9dGhpcy5ndWlkZSYmayYmdGhpcy5ndWlkZS5oaWRlKCk7Yy5pc0NvbnN0cmFpbmVkRXZlbnQoYi5nZXRFdmVudCgpKSYmKE1hdGguYWJzKGQueCk+TWF0aC5hYnMoZC55KT9kLnk9MDpkLng9MCk7dGhpcy5jaGVja1ByZXZpZXcoKTtpZih0aGlzLmN1cnJlbnREeCE9ZC54fHx0aGlzLmN1cnJlbnREeSE9ZC55KXRoaXMuY3VycmVudER4PWQueCx0aGlzLmN1cnJlbnREeT1kLnksdGhpcy51cGRhdGVQcmV2aWV3KCl9dGhpcy51cGRhdGVIaW50KGIpO3RoaXMuY29uc3VtZU1vdXNlRXZlbnQobXhFdmVudC5NT1VTRV9NT1ZFLApiKTtteEV2ZW50LmNvbnN1bWUoYi5nZXRFdmVudCgpKX19O214R3JhcGhIYW5kbGVyLnByb3RvdHlwZS51cGRhdGVQcmV2aWV3PWZ1bmN0aW9uKGEpe3RoaXMubGl2ZVByZXZpZXdVc2VkJiYhYT9udWxsIT10aGlzLmNlbGxzJiYodGhpcy5zZXRIYW5kbGVzVmlzaWJsZUZvckNlbGxzKHRoaXMuZ3JhcGguc2VsZWN0aW9uQ2VsbHNIYW5kbGVyLmdldEhhbmRsZWRTZWxlY3Rpb25DZWxscygpLCExKSx0aGlzLnVwZGF0ZUxpdmVQcmV2aWV3KHRoaXMuY3VycmVudER4LHRoaXMuY3VycmVudER5KSk6dGhpcy51cGRhdGVQcmV2aWV3U2hhcGUoKX07Cm14R3JhcGhIYW5kbGVyLnByb3RvdHlwZS51cGRhdGVQcmV2aWV3U2hhcGU9ZnVuY3Rpb24oKXtudWxsIT10aGlzLnNoYXBlJiZudWxsIT10aGlzLnBCb3VuZHMmJih0aGlzLnNoYXBlLmJvdW5kcz1uZXcgbXhSZWN0YW5nbGUoTWF0aC5yb3VuZCh0aGlzLnBCb3VuZHMueCt0aGlzLmN1cnJlbnREeCksTWF0aC5yb3VuZCh0aGlzLnBCb3VuZHMueSt0aGlzLmN1cnJlbnREeSksdGhpcy5wQm91bmRzLndpZHRoLHRoaXMucEJvdW5kcy5oZWlnaHQpLHRoaXMuc2hhcGUucmVkcmF3KCkpfTsKbXhHcmFwaEhhbmRsZXIucHJvdG90eXBlLnVwZGF0ZUxpdmVQcmV2aWV3PWZ1bmN0aW9uKGEsYil7aWYoIXRoaXMuc3VzcGVuZGVkKXt2YXIgYz1bXTtudWxsIT10aGlzLmFsbENlbGxzJiZ0aGlzLmFsbENlbGxzLnZpc2l0KG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGQsZSl7aWYobnVsbD09dGhpcy5ncmFwaC52aWV3LmdldFN0YXRlKGUuY2VsbCkpZS5kZXN0cm95KCk7ZWxzZXt2YXIgZj1lLmNsb25lKCk7Yy5wdXNoKFtlLGZdKTtudWxsIT1lLnNoYXBlJiYobnVsbD09ZS5zaGFwZS5vcmlnaW5hbFBvaW50ZXJFdmVudHMmJihlLnNoYXBlLm9yaWdpbmFsUG9pbnRlckV2ZW50cz1lLnNoYXBlLnBvaW50ZXJFdmVudHMpLGUuc2hhcGUucG9pbnRlckV2ZW50cz0hMSxudWxsIT1lLnRleHQmJihudWxsPT1lLnRleHQub3JpZ2luYWxQb2ludGVyRXZlbnRzJiYoZS50ZXh0Lm9yaWdpbmFsUG9pbnRlckV2ZW50cz1lLnRleHQucG9pbnRlckV2ZW50cyksZS50ZXh0LnBvaW50ZXJFdmVudHM9CiExKSk7dGhpcy5ncmFwaC5tb2RlbC5pc1ZlcnRleChlLmNlbGwpJiYoZS54Kz1hLGUueSs9Yix0aGlzLmNsb25pbmd8fChlLnZpZXcuZ3JhcGguY2VsbFJlbmRlcmVyLnJlZHJhdyhlLCEwKSxlLnZpZXcuaW52YWxpZGF0ZShlLmNlbGwpLGUuaW52YWxpZD0hMSxudWxsIT1lLmNvbnRyb2wmJm51bGwhPWUuY29udHJvbC5ub2RlJiYoZS5jb250cm9sLm5vZGUuc3R5bGUudmlzaWJpbGl0eT0iaGlkZGVuIikpKX19KSk7aWYoMD09Yy5sZW5ndGgpdGhpcy5yZXNldCgpO2Vsc2V7Zm9yKHZhciBkPXRoaXMuZ3JhcGgudmlldy5zY2FsZSxlPTA7ZTxjLmxlbmd0aDtlKyspe3ZhciBmPWNbZV1bMF07aWYodGhpcy5ncmFwaC5tb2RlbC5pc0VkZ2UoZi5jZWxsKSl7dmFyIGc9dGhpcy5ncmFwaC5nZXRDZWxsR2VvbWV0cnkoZi5jZWxsKSxrPVtdO2lmKG51bGwhPWcmJm51bGwhPWcucG9pbnRzKWZvcih2YXIgbD0wO2w8Zy5wb2ludHMubGVuZ3RoO2wrKyludWxsIT1nLnBvaW50c1tsXSYmay5wdXNoKG5ldyBteFBvaW50KGcucG9pbnRzW2xdLngrCmEvZCxnLnBvaW50c1tsXS55K2IvZCkpO3ZhciBnPWYudmlzaWJsZVNvdXJjZVN0YXRlLGw9Zi52aXNpYmxlVGFyZ2V0U3RhdGUsbT1jW2VdWzFdLmFic29sdXRlUG9pbnRzO251bGwhPWcmJnRoaXMuaXNDZWxsTW92aW5nKGcuY2VsbCk/Zi52aWV3LnVwZGF0ZUZpeGVkVGVybWluYWxQb2ludChmLGcsITAsdGhpcy5ncmFwaC5nZXRDb25uZWN0aW9uQ29uc3RyYWludChmLGcsITApKTooZz1tWzBdLGYuc2V0QWJzb2x1dGVUZXJtaW5hbFBvaW50KG5ldyBteFBvaW50KGcueCthLGcueStiKSwhMCksZz1udWxsKTtudWxsIT1sJiZ0aGlzLmlzQ2VsbE1vdmluZyhsLmNlbGwpP2Yudmlldy51cGRhdGVGaXhlZFRlcm1pbmFsUG9pbnQoZixsLCExLHRoaXMuZ3JhcGguZ2V0Q29ubmVjdGlvbkNvbnN0cmFpbnQoZixsLCExKSk6KGw9bVttLmxlbmd0aC0xXSxmLnNldEFic29sdXRlVGVybWluYWxQb2ludChuZXcgbXhQb2ludChsLngrYSxsLnkrYiksITEpLGw9bnVsbCk7Zi52aWV3LnVwZGF0ZVBvaW50cyhmLAprLGcsbCk7Zi52aWV3LnVwZGF0ZUZsb2F0aW5nVGVybWluYWxQb2ludHMoZixnLGwpO2Yudmlldy51cGRhdGVFZGdlTGFiZWxPZmZzZXQoZik7Zi5pbnZhbGlkPSExO3RoaXMuY2xvbmluZ3x8Zi52aWV3LmdyYXBoLmNlbGxSZW5kZXJlci5yZWRyYXcoZiwhMCl9fXRoaXMuZ3JhcGgudmlldy52YWxpZGF0ZSgpO3RoaXMucmVkcmF3SGFuZGxlcyhjKTt0aGlzLnJlc2V0UHJldmlld1N0YXRlcyhjKX19fTtteEdyYXBoSGFuZGxlci5wcm90b3R5cGUucmVkcmF3SGFuZGxlcz1mdW5jdGlvbihhKXtmb3IodmFyIGI9MDtiPGEubGVuZ3RoO2IrKyl7dmFyIGM9dGhpcy5ncmFwaC5zZWxlY3Rpb25DZWxsc0hhbmRsZXIuZ2V0SGFuZGxlcihhW2JdWzBdLmNlbGwpO251bGwhPWMmJmMucmVkcmF3KCEwKX19O214R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5yZXNldFByZXZpZXdTdGF0ZXM9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPTA7YjxhLmxlbmd0aDtiKyspYVtiXVswXS5zZXRTdGF0ZShhW2JdWzFdKX07Cm14R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5zdXNwZW5kPWZ1bmN0aW9uKCl7dGhpcy5zdXNwZW5kZWR8fCh0aGlzLmxpdmVQcmV2aWV3VXNlZCYmdGhpcy51cGRhdGVMaXZlUHJldmlldygwLDApLG51bGwhPXRoaXMuc2hhcGUmJih0aGlzLnNoYXBlLm5vZGUuc3R5bGUudmlzaWJpbGl0eT0iaGlkZGVuIiksbnVsbCE9dGhpcy5ndWlkZSYmdGhpcy5ndWlkZS5zZXRWaXNpYmxlKCExKSx0aGlzLnN1c3BlbmRlZD0hMCl9O214R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5yZXN1bWU9ZnVuY3Rpb24oKXt0aGlzLnN1c3BlbmRlZCYmKHRoaXMuc3VzcGVuZGVkPW51bGwsdGhpcy5saXZlUHJldmlld1VzZWQmJih0aGlzLmxpdmVQcmV2aWV3QWN0aXZlPSEwKSxudWxsIT10aGlzLnNoYXBlJiYodGhpcy5zaGFwZS5ub2RlLnN0eWxlLnZpc2liaWxpdHk9InZpc2libGUiKSxudWxsIT10aGlzLmd1aWRlJiZ0aGlzLmd1aWRlLnNldFZpc2libGUoITApKX07Cm14R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5yZXNldExpdmVQcmV2aWV3PWZ1bmN0aW9uKCl7bnVsbCE9dGhpcy5hbGxDZWxscyYmKHRoaXMuYWxsQ2VsbHMudmlzaXQobXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSxiKXtudWxsIT1iLnNoYXBlJiZudWxsIT1iLnNoYXBlLm9yaWdpbmFsUG9pbnRlckV2ZW50cyYmKGIuc2hhcGUucG9pbnRlckV2ZW50cz1iLnNoYXBlLm9yaWdpbmFsUG9pbnRlckV2ZW50cyxiLnNoYXBlLm9yaWdpbmFsUG9pbnRlckV2ZW50cz1udWxsLGIuc2hhcGUuYm91bmRzPW51bGwsbnVsbCE9Yi50ZXh0JiYoYi50ZXh0LnBvaW50ZXJFdmVudHM9Yi50ZXh0Lm9yaWdpbmFsUG9pbnRlckV2ZW50cyxiLnRleHQub3JpZ2luYWxQb2ludGVyRXZlbnRzPW51bGwpKTtudWxsIT1iLmNvbnRyb2wmJm51bGwhPWIuY29udHJvbC5ub2RlJiYiaGlkZGVuIj09Yi5jb250cm9sLm5vZGUuc3R5bGUudmlzaWJpbGl0eSYmKGIuY29udHJvbC5ub2RlLnN0eWxlLnZpc2liaWxpdHk9CiIiKTtiLnZpZXcuaW52YWxpZGF0ZShiLmNlbGwpfSkpLHRoaXMuZ3JhcGgudmlldy52YWxpZGF0ZSgpKX07bXhHcmFwaEhhbmRsZXIucHJvdG90eXBlLnNldEhhbmRsZXNWaXNpYmxlRm9yQ2VsbHM9ZnVuY3Rpb24oYSxiKXtpZih0aGlzLmhhbmRsZXNWaXNpYmxlIT1iKXt0aGlzLmhhbmRsZXNWaXNpYmxlPWI7Zm9yKHZhciBjPTA7YzxhLmxlbmd0aDtjKyspe3ZhciBkPXRoaXMuZ3JhcGguc2VsZWN0aW9uQ2VsbHNIYW5kbGVyLmdldEhhbmRsZXIoYVtjXSk7bnVsbCE9ZCYmKGQuc2V0SGFuZGxlc1Zpc2libGUoYiksYiYmZC5yZWRyYXcoKSl9fX07bXhHcmFwaEhhbmRsZXIucHJvdG90eXBlLnNldEhpZ2hsaWdodENvbG9yPWZ1bmN0aW9uKGEpe251bGwhPXRoaXMuaGlnaGxpZ2h0JiZ0aGlzLmhpZ2hsaWdodC5zZXRIaWdobGlnaHRDb2xvcihhKX07Cm14R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5tb3VzZVVwPWZ1bmN0aW9uKGEsYil7aWYoIWIuaXNDb25zdW1lZCgpKWlmKHRoaXMubGl2ZVByZXZpZXdVc2VkJiZ0aGlzLnJlc2V0TGl2ZVByZXZpZXcoKSxudWxsPT10aGlzLmNlbGx8fG51bGw9PXRoaXMuZmlyc3R8fG51bGw9PXRoaXMuc2hhcGUmJiF0aGlzLmxpdmVQcmV2aWV3VXNlZHx8bnVsbD09dGhpcy5jdXJyZW50RHh8fG51bGw9PXRoaXMuY3VycmVudER5KXRoaXMuaXNTZWxlY3RFbmFibGVkKCkmJnRoaXMuZGVsYXllZFNlbGVjdGlvbiYmbnVsbCE9dGhpcy5jZWxsJiZ0aGlzLnNlbGVjdERlbGF5ZWQoYik7ZWxzZXt2YXIgYz10aGlzLmdyYXBoLGQ9Yi5nZXRDZWxsKCk7aWYodGhpcy5jb25uZWN0T25Ecm9wJiZudWxsPT10aGlzLnRhcmdldCYmbnVsbCE9ZCYmYy5nZXRNb2RlbCgpLmlzVmVydGV4KGQpJiZjLmlzQ2VsbENvbm5lY3RhYmxlKGQpJiZjLmlzRWRnZVZhbGlkKG51bGwsdGhpcy5jZWxsLGQpKWMuY29ubmVjdGlvbkhhbmRsZXIuY29ubmVjdCh0aGlzLmNlbGwsCmQsYi5nZXRFdmVudCgpKTtlbHNle3ZhciBkPWMuaXNDbG9uZUV2ZW50KGIuZ2V0RXZlbnQoKSkmJmMuaXNDZWxsc0Nsb25lYWJsZSgpJiZ0aGlzLmlzQ2xvbmVFbmFibGVkKCksZT1jLmdldFZpZXcoKS5zY2FsZSxmPXRoaXMucm91bmRMZW5ndGgodGhpcy5jdXJyZW50RHgvZSksZT10aGlzLnJvdW5kTGVuZ3RoKHRoaXMuY3VycmVudER5L2UpLGc9dGhpcy50YXJnZXQ7Yy5pc1NwbGl0RW5hYmxlZCgpJiZjLmlzU3BsaXRUYXJnZXQoZyx0aGlzLmNlbGxzLGIuZ2V0RXZlbnQoKSk/Yy5zcGxpdEVkZ2UoZyx0aGlzLmNlbGxzLG51bGwsZixlLGIuZ2V0R3JhcGhYKCksYi5nZXRHcmFwaFkoKSk6dGhpcy5tb3ZlQ2VsbHModGhpcy5jZWxscyxmLGUsZCx0aGlzLnRhcmdldCxiLmdldEV2ZW50KCkpfX10aGlzLmNlbGxXYXNDbGlja2VkJiZ0aGlzLmNvbnN1bWVNb3VzZUV2ZW50KG14RXZlbnQuTU9VU0VfVVAsYik7dGhpcy5yZXNldCgpfTsKbXhHcmFwaEhhbmRsZXIucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5saXZlUHJldmlld1VzZWQmJih0aGlzLnJlc2V0TGl2ZVByZXZpZXcoKSx0aGlzLnNldEhhbmRsZXNWaXNpYmxlRm9yQ2VsbHModGhpcy5ncmFwaC5zZWxlY3Rpb25DZWxsc0hhbmRsZXIuZ2V0SGFuZGxlZFNlbGVjdGlvbkNlbGxzKCksITApKTt0aGlzLmRlc3Ryb3lTaGFwZXMoKTt0aGlzLnJlbW92ZUhpbnQoKTt0aGlzLmRlbGF5ZWRTZWxlY3Rpb249ITE7dGhpcy5saXZlUHJldmlld1VzZWQ9dGhpcy5saXZlUHJldmlld0FjdGl2ZT1udWxsO3RoaXMuY2VsbFdhc0NsaWNrZWQ9ITE7dGhpcy5jZWxsQ291bnQ9dGhpcy5jdXJyZW50RHk9dGhpcy5jdXJyZW50RHg9dGhpcy5zdXNwZW5kZWQ9bnVsbDt0aGlzLmNsb25pbmc9ITE7dGhpcy5jZWxsPXRoaXMuY2VsbHM9dGhpcy5maXJzdD10aGlzLnRhcmdldD10aGlzLmd1aWRlcz10aGlzLnBCb3VuZHM9dGhpcy5hbGxDZWxscz1udWxsfTsKbXhHcmFwaEhhbmRsZXIucHJvdG90eXBlLnNob3VsZFJlbW92ZUNlbGxzRnJvbVBhcmVudD1mdW5jdGlvbihhLGIsYyl7aWYodGhpcy5ncmFwaC5nZXRNb2RlbCgpLmlzVmVydGV4KGEpJiYoYT10aGlzLmdyYXBoLmdldFZpZXcoKS5nZXRTdGF0ZShhKSxudWxsIT1hKSl7Yz1teFV0aWxzLmNvbnZlcnRQb2ludCh0aGlzLmdyYXBoLmNvbnRhaW5lcixteEV2ZW50LmdldENsaWVudFgoYyksbXhFdmVudC5nZXRDbGllbnRZKGMpKTt2YXIgZD1teFV0aWxzLnRvUmFkaWFucyhteFV0aWxzLmdldFZhbHVlKGEuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfUk9UQVRJT04pfHwwKTtpZigwIT1kKXtiPU1hdGguY29zKC1kKTt2YXIgZD1NYXRoLnNpbigtZCksZT1uZXcgbXhQb2ludChhLmdldENlbnRlclgoKSxhLmdldENlbnRlclkoKSk7Yz1teFV0aWxzLmdldFJvdGF0ZWRQb2ludChjLGIsZCxlKX1yZXR1cm4hbXhVdGlscy5jb250YWlucyhhLGMueCxjLnkpfXJldHVybiExfTsKbXhHcmFwaEhhbmRsZXIucHJvdG90eXBlLm1vdmVDZWxscz1mdW5jdGlvbihhLGIsYyxkLGUsZil7ZCYmKGE9dGhpcy5ncmFwaC5nZXRDbG9uZWFibGVDZWxscyhhKSk7dmFyIGc9dGhpcy5ncmFwaC5nZXRNb2RlbCgpLmdldFBhcmVudCh0aGlzLmNlbGwpO251bGw9PWUmJnRoaXMuaXNSZW1vdmVDZWxsc0Zyb21QYXJlbnQoKSYmdGhpcy5zaG91bGRSZW1vdmVDZWxsc0Zyb21QYXJlbnQoZyxhLGYpJiYoZT10aGlzLmdyYXBoLmdldERlZmF1bHRQYXJlbnQoKSk7ZD1kJiYhdGhpcy5ncmFwaC5pc0NlbGxMb2NrZWQoZXx8dGhpcy5ncmFwaC5nZXREZWZhdWx0UGFyZW50KCkpO3RoaXMuZ3JhcGguZ2V0TW9kZWwoKS5iZWdpblVwZGF0ZSgpO3RyeXtnPVtdO2lmKCFkJiZudWxsIT1lJiZ0aGlzLnJlbW92ZUVtcHR5UGFyZW50cyl7Zm9yKHZhciBrPW5ldyBteERpY3Rpb25hcnksbD0wO2w8YS5sZW5ndGg7bCsrKWsucHV0KGFbbF0sITApO2ZvcihsPTA7bDxhLmxlbmd0aDtsKyspe3ZhciBtPQp0aGlzLmdyYXBoLm1vZGVsLmdldFBhcmVudChhW2xdKTtudWxsPT1tfHxrLmdldChtKXx8KGsucHV0KG0sITApLGcucHVzaChtKSl9fWE9dGhpcy5ncmFwaC5tb3ZlQ2VsbHMoYSxiLGMsZCxlLGYpO2I9W107Zm9yKGw9MDtsPGcubGVuZ3RoO2wrKyl0aGlzLnNob3VsZFJlbW92ZVBhcmVudChnW2xdKSYmYi5wdXNoKGdbbF0pO3RoaXMuZ3JhcGgucmVtb3ZlQ2VsbHMoYiwhMSl9ZmluYWxseXt0aGlzLmdyYXBoLmdldE1vZGVsKCkuZW5kVXBkYXRlKCl9ZCYmdGhpcy5ncmFwaC5zZXRTZWxlY3Rpb25DZWxscyhhKTt0aGlzLmlzU2VsZWN0RW5hYmxlZCgpJiZ0aGlzLnNjcm9sbE9uTW92ZSYmdGhpcy5ncmFwaC5zY3JvbGxDZWxsVG9WaXNpYmxlKGFbMF0pfTsKbXhHcmFwaEhhbmRsZXIucHJvdG90eXBlLnNob3VsZFJlbW92ZVBhcmVudD1mdW5jdGlvbihhKXthPXRoaXMuZ3JhcGgudmlldy5nZXRTdGF0ZShhKTtyZXR1cm4gbnVsbCE9YSYmKHRoaXMuZ3JhcGgubW9kZWwuaXNFZGdlKGEuY2VsbCl8fHRoaXMuZ3JhcGgubW9kZWwuaXNWZXJ0ZXgoYS5jZWxsKSkmJnRoaXMuZ3JhcGguaXNDZWxsRGVsZXRhYmxlKGEuY2VsbCkmJjA9PXRoaXMuZ3JhcGgubW9kZWwuZ2V0Q2hpbGRDb3VudChhLmNlbGwpJiZ0aGlzLmdyYXBoLmlzVHJhbnNwYXJlbnRTdGF0ZShhKX07Cm14R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5kZXN0cm95U2hhcGVzPWZ1bmN0aW9uKCl7bnVsbCE9dGhpcy5zaGFwZSYmKHRoaXMuc2hhcGUuZGVzdHJveSgpLHRoaXMuc2hhcGU9bnVsbCk7bnVsbCE9dGhpcy5ndWlkZSYmKHRoaXMuZ3VpZGUuZGVzdHJveSgpLHRoaXMuZ3VpZGU9bnVsbCk7bnVsbCE9dGhpcy5oaWdobGlnaHQmJih0aGlzLmhpZ2hsaWdodC5kZXN0cm95KCksdGhpcy5oaWdobGlnaHQ9bnVsbCl9OwpteEdyYXBoSGFuZGxlci5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuZ3JhcGgucmVtb3ZlTW91c2VMaXN0ZW5lcih0aGlzKTt0aGlzLmdyYXBoLnJlbW92ZUxpc3RlbmVyKHRoaXMucGFuSGFuZGxlcik7bnVsbCE9dGhpcy5lc2NhcGVIYW5kbGVyJiYodGhpcy5ncmFwaC5yZW1vdmVMaXN0ZW5lcih0aGlzLmVzY2FwZUhhbmRsZXIpLHRoaXMuZXNjYXBlSGFuZGxlcj1udWxsKTtudWxsIT10aGlzLnJlZnJlc2hIYW5kbGVyJiYodGhpcy5ncmFwaC5nZXRNb2RlbCgpLnJlbW92ZUxpc3RlbmVyKHRoaXMucmVmcmVzaEhhbmRsZXIpLHRoaXMucmVmcmVzaEhhbmRsZXI9bnVsbCk7bXhFdmVudC5yZW1vdmVMaXN0ZW5lcihkb2N1bWVudCwia2V5ZG93biIsdGhpcy5rZXlIYW5kbGVyKTtteEV2ZW50LnJlbW92ZUxpc3RlbmVyKGRvY3VtZW50LCJrZXl1cCIsdGhpcy5rZXlIYW5kbGVyKTt0aGlzLmRlc3Ryb3lTaGFwZXMoKTt0aGlzLnJlbW92ZUhpbnQoKX07CmZ1bmN0aW9uIG14UGFubmluZ0hhbmRsZXIoYSl7bnVsbCE9YSYmKHRoaXMuZ3JhcGg9YSx0aGlzLmdyYXBoLmFkZE1vdXNlTGlzdGVuZXIodGhpcyksdGhpcy5mb3JjZVBhbm5pbmdIYW5kbGVyPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEsYyl7dmFyIGI9Yy5nZXRQcm9wZXJ0eSgiZXZlbnROYW1lIiksZT1jLmdldFByb3BlcnR5KCJldmVudCIpO2I9PW14RXZlbnQuTU9VU0VfRE9XTiYmdGhpcy5pc0ZvcmNlUGFubmluZ0V2ZW50KGUpJiYodGhpcy5zdGFydChlKSx0aGlzLmFjdGl2ZT0hMCx0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LlBBTl9TVEFSVCwiZXZlbnQiLGUpKSxlLmNvbnN1bWUoKSl9KSx0aGlzLmdyYXBoLmFkZExpc3RlbmVyKG14RXZlbnQuRklSRV9NT1VTRV9FVkVOVCx0aGlzLmZvcmNlUGFubmluZ0hhbmRsZXIpLHRoaXMuZ2VzdHVyZUhhbmRsZXI9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSxjKXtpZih0aGlzLmlzUGluY2hFbmFibGVkKCkpe3ZhciBiPQpjLmdldFByb3BlcnR5KCJldmVudCIpO214RXZlbnQuaXNDb25zdW1lZChiKXx8Imdlc3R1cmVzdGFydCIhPWIudHlwZT8iZ2VzdHVyZWVuZCI9PWIudHlwZSYmbnVsbCE9dGhpcy5pbml0aWFsU2NhbGUmJih0aGlzLmluaXRpYWxTY2FsZT1udWxsKToodGhpcy5pbml0aWFsU2NhbGU9dGhpcy5ncmFwaC52aWV3LnNjYWxlLHRoaXMuYWN0aXZlfHxudWxsPT10aGlzLm1vdXNlRG93bkV2ZW50fHwodGhpcy5zdGFydCh0aGlzLm1vdXNlRG93bkV2ZW50KSx0aGlzLm1vdXNlRG93bkV2ZW50PW51bGwpKTtudWxsIT10aGlzLmluaXRpYWxTY2FsZSYmdGhpcy56b29tR3JhcGgoYil9fSksdGhpcy5ncmFwaC5hZGRMaXN0ZW5lcihteEV2ZW50LkdFU1RVUkUsdGhpcy5nZXN0dXJlSGFuZGxlciksdGhpcy5tb3VzZVVwTGlzdGVuZXI9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt0aGlzLmFjdGl2ZSYmdGhpcy5yZXNldCgpfSksbXhFdmVudC5hZGRMaXN0ZW5lcihkb2N1bWVudCwibW91c2V1cCIsCnRoaXMubW91c2VVcExpc3RlbmVyKSl9bXhQYW5uaW5nSGFuZGxlci5wcm90b3R5cGU9bmV3IG14RXZlbnRTb3VyY2U7bXhQYW5uaW5nSGFuZGxlci5wcm90b3R5cGUuY29uc3RydWN0b3I9bXhQYW5uaW5nSGFuZGxlcjtteFBhbm5pbmdIYW5kbGVyLnByb3RvdHlwZS5ncmFwaD1udWxsO214UGFubmluZ0hhbmRsZXIucHJvdG90eXBlLnVzZUxlZnRCdXR0b25Gb3JQYW5uaW5nPSExO214UGFubmluZ0hhbmRsZXIucHJvdG90eXBlLnVzZVBvcHVwVHJpZ2dlcj0hMDtteFBhbm5pbmdIYW5kbGVyLnByb3RvdHlwZS5pZ25vcmVDZWxsPSExO214UGFubmluZ0hhbmRsZXIucHJvdG90eXBlLnByZXZpZXdFbmFibGVkPSEwO214UGFubmluZ0hhbmRsZXIucHJvdG90eXBlLnVzZUdyaWQ9ITE7bXhQYW5uaW5nSGFuZGxlci5wcm90b3R5cGUucGFubmluZ0VuYWJsZWQ9ITA7bXhQYW5uaW5nSGFuZGxlci5wcm90b3R5cGUucGluY2hFbmFibGVkPSEwOwpteFBhbm5pbmdIYW5kbGVyLnByb3RvdHlwZS5tYXhTY2FsZT04O214UGFubmluZ0hhbmRsZXIucHJvdG90eXBlLm1pblNjYWxlPS4wMTtteFBhbm5pbmdIYW5kbGVyLnByb3RvdHlwZS5keD1udWxsO214UGFubmluZ0hhbmRsZXIucHJvdG90eXBlLmR5PW51bGw7bXhQYW5uaW5nSGFuZGxlci5wcm90b3R5cGUuc3RhcnRYPTA7bXhQYW5uaW5nSGFuZGxlci5wcm90b3R5cGUuc3RhcnRZPTA7bXhQYW5uaW5nSGFuZGxlci5wcm90b3R5cGUuaXNBY3RpdmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hY3RpdmV8fG51bGwhPXRoaXMuaW5pdGlhbFNjYWxlfTtteFBhbm5pbmdIYW5kbGVyLnByb3RvdHlwZS5pc1Bhbm5pbmdFbmFibGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGFubmluZ0VuYWJsZWR9O214UGFubmluZ0hhbmRsZXIucHJvdG90eXBlLnNldFBhbm5pbmdFbmFibGVkPWZ1bmN0aW9uKGEpe3RoaXMucGFubmluZ0VuYWJsZWQ9YX07Cm14UGFubmluZ0hhbmRsZXIucHJvdG90eXBlLmlzUGluY2hFbmFibGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGluY2hFbmFibGVkfTtteFBhbm5pbmdIYW5kbGVyLnByb3RvdHlwZS5zZXRQaW5jaEVuYWJsZWQ9ZnVuY3Rpb24oYSl7dGhpcy5waW5jaEVuYWJsZWQ9YX07bXhQYW5uaW5nSGFuZGxlci5wcm90b3R5cGUuaXNQYW5uaW5nVHJpZ2dlcj1mdW5jdGlvbihhKXt2YXIgYj1hLmdldEV2ZW50KCk7cmV0dXJuIHRoaXMudXNlTGVmdEJ1dHRvbkZvclBhbm5pbmcmJm51bGw9PWEuZ2V0U3RhdGUoKSYmbXhFdmVudC5pc0xlZnRNb3VzZUJ1dHRvbihiKXx8bXhFdmVudC5pc0NvbnRyb2xEb3duKGIpJiZteEV2ZW50LmlzU2hpZnREb3duKGIpfHx0aGlzLnVzZVBvcHVwVHJpZ2dlciYmbXhFdmVudC5pc1BvcHVwVHJpZ2dlcihiKX07bXhQYW5uaW5nSGFuZGxlci5wcm90b3R5cGUuaXNGb3JjZVBhbm5pbmdFdmVudD1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5pZ25vcmVDZWxsfHxteEV2ZW50LmlzTXVsdGlUb3VjaEV2ZW50KGEuZ2V0RXZlbnQoKSl9OwpteFBhbm5pbmdIYW5kbGVyLnByb3RvdHlwZS5tb3VzZURvd249ZnVuY3Rpb24oYSxiKXt0aGlzLm1vdXNlRG93bkV2ZW50PWI7IWIuaXNDb25zdW1lZCgpJiZ0aGlzLmlzUGFubmluZ0VuYWJsZWQoKSYmIXRoaXMuYWN0aXZlJiZ0aGlzLmlzUGFubmluZ1RyaWdnZXIoYikmJih0aGlzLnN0YXJ0KGIpLHRoaXMuY29uc3VtZVBhbm5pbmdUcmlnZ2VyKGIpKX07bXhQYW5uaW5nSGFuZGxlci5wcm90b3R5cGUuc3RhcnQ9ZnVuY3Rpb24oYSl7dGhpcy5keDA9LXRoaXMuZ3JhcGguY29udGFpbmVyLnNjcm9sbExlZnQ7dGhpcy5keTA9LXRoaXMuZ3JhcGguY29udGFpbmVyLnNjcm9sbFRvcDt0aGlzLnN0YXJ0WD1hLmdldFgoKTt0aGlzLnN0YXJ0WT1hLmdldFkoKTt0aGlzLmR5PXRoaXMuZHg9bnVsbDt0aGlzLnBhbm5pbmdUcmlnZ2VyPSEwfTtteFBhbm5pbmdIYW5kbGVyLnByb3RvdHlwZS5jb25zdW1lUGFubmluZ1RyaWdnZXI9ZnVuY3Rpb24oYSl7YS5jb25zdW1lKCl9OwpteFBhbm5pbmdIYW5kbGVyLnByb3RvdHlwZS5tb3VzZU1vdmU9ZnVuY3Rpb24oYSxiKXt0aGlzLmR4PWIuZ2V0WCgpLXRoaXMuc3RhcnRYO3RoaXMuZHk9Yi5nZXRZKCktdGhpcy5zdGFydFk7aWYodGhpcy5hY3RpdmUpdGhpcy5wcmV2aWV3RW5hYmxlZCYmKHRoaXMudXNlR3JpZCYmKHRoaXMuZHg9dGhpcy5ncmFwaC5zbmFwKHRoaXMuZHgpLHRoaXMuZHk9dGhpcy5ncmFwaC5zbmFwKHRoaXMuZHkpKSx0aGlzLmdyYXBoLnBhbkdyYXBoKHRoaXMuZHgrdGhpcy5keDAsdGhpcy5keSt0aGlzLmR5MCkpLHRoaXMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KG14RXZlbnQuUEFOLCJldmVudCIsYikpO2Vsc2UgaWYodGhpcy5wYW5uaW5nVHJpZ2dlcil7dmFyIGM9dGhpcy5hY3RpdmU7dGhpcy5hY3RpdmU9TWF0aC5hYnModGhpcy5keCk+dGhpcy5ncmFwaC50b2xlcmFuY2V8fE1hdGguYWJzKHRoaXMuZHkpPnRoaXMuZ3JhcGgudG9sZXJhbmNlOyFjJiZ0aGlzLmFjdGl2ZSYmdGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5QQU5fU1RBUlQsCiJldmVudCIsYikpfSh0aGlzLmFjdGl2ZXx8dGhpcy5wYW5uaW5nVHJpZ2dlcikmJmIuY29uc3VtZSgpfTtteFBhbm5pbmdIYW5kbGVyLnByb3RvdHlwZS5tb3VzZVVwPWZ1bmN0aW9uKGEsYil7aWYodGhpcy5hY3RpdmUpe2lmKG51bGwhPXRoaXMuZHgmJm51bGwhPXRoaXMuZHkpe2lmKCF0aGlzLmdyYXBoLnVzZVNjcm9sbGJhcnNGb3JQYW5uaW5nfHwhbXhVdGlscy5oYXNTY3JvbGxiYXJzKHRoaXMuZ3JhcGguY29udGFpbmVyKSl7dmFyIGM9dGhpcy5ncmFwaC5nZXRWaWV3KCkuc2NhbGUsZD10aGlzLmdyYXBoLmdldFZpZXcoKS50cmFuc2xhdGU7dGhpcy5ncmFwaC5wYW5HcmFwaCgwLDApO3RoaXMucGFuR3JhcGgoZC54K3RoaXMuZHgvYyxkLnkrdGhpcy5keS9jKX1iLmNvbnN1bWUoKX10aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LlBBTl9FTkQsImV2ZW50IixiKSl9dGhpcy5yZXNldCgpfTsKbXhQYW5uaW5nSGFuZGxlci5wcm90b3R5cGUuem9vbUdyYXBoPWZ1bmN0aW9uKGEpe3ZhciBiPU1hdGgucm91bmQodGhpcy5pbml0aWFsU2NhbGUqYS5zY2FsZSoxMDApLzEwMDtudWxsIT10aGlzLm1pblNjYWxlJiYoYj1NYXRoLm1heCh0aGlzLm1pblNjYWxlLGIpKTtudWxsIT10aGlzLm1heFNjYWxlJiYoYj1NYXRoLm1pbih0aGlzLm1heFNjYWxlLGIpKTt0aGlzLmdyYXBoLnZpZXcuc2NhbGUhPWImJih0aGlzLmdyYXBoLnpvb21UbyhiKSxteEV2ZW50LmNvbnN1bWUoYSkpfTtteFBhbm5pbmdIYW5kbGVyLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3RoaXMucGFubmluZ1RyaWdnZXI9ITE7dGhpcy5tb3VzZURvd25FdmVudD1udWxsO3RoaXMuYWN0aXZlPSExO3RoaXMuZHk9dGhpcy5keD1udWxsfTtteFBhbm5pbmdIYW5kbGVyLnByb3RvdHlwZS5wYW5HcmFwaD1mdW5jdGlvbihhLGIpe3RoaXMuZ3JhcGguZ2V0VmlldygpLnNldFRyYW5zbGF0ZShhLGIpfTsKbXhQYW5uaW5nSGFuZGxlci5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuZ3JhcGgucmVtb3ZlTW91c2VMaXN0ZW5lcih0aGlzKTt0aGlzLmdyYXBoLnJlbW92ZUxpc3RlbmVyKHRoaXMuZm9yY2VQYW5uaW5nSGFuZGxlcik7dGhpcy5ncmFwaC5yZW1vdmVMaXN0ZW5lcih0aGlzLmdlc3R1cmVIYW5kbGVyKTtteEV2ZW50LnJlbW92ZUxpc3RlbmVyKGRvY3VtZW50LCJtb3VzZXVwIix0aGlzLm1vdXNlVXBMaXN0ZW5lcil9OwpmdW5jdGlvbiBteFBvcHVwTWVudUhhbmRsZXIoYSxiKXtudWxsIT1hJiYodGhpcy5ncmFwaD1hLHRoaXMuZmFjdG9yeU1ldGhvZD1iLHRoaXMuZ3JhcGguYWRkTW91c2VMaXN0ZW5lcih0aGlzKSx0aGlzLmdlc3R1cmVIYW5kbGVyPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEsYil7dGhpcy5pblRvbGVyYW5jZT0hMX0pLHRoaXMuZ3JhcGguYWRkTGlzdGVuZXIobXhFdmVudC5HRVNUVVJFLHRoaXMuZ2VzdHVyZUhhbmRsZXIpLHRoaXMuaW5pdCgpKX1teFBvcHVwTWVudUhhbmRsZXIucHJvdG90eXBlPW5ldyBteFBvcHVwTWVudTtteFBvcHVwTWVudUhhbmRsZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yPW14UG9wdXBNZW51SGFuZGxlcjtteFBvcHVwTWVudUhhbmRsZXIucHJvdG90eXBlLmdyYXBoPW51bGw7bXhQb3B1cE1lbnVIYW5kbGVyLnByb3RvdHlwZS5zZWxlY3RPblBvcHVwPSEwOwpteFBvcHVwTWVudUhhbmRsZXIucHJvdG90eXBlLmNsZWFyU2VsZWN0aW9uT25CYWNrZ3JvdW5kPSEwO214UG9wdXBNZW51SGFuZGxlci5wcm90b3R5cGUudHJpZ2dlclg9bnVsbDtteFBvcHVwTWVudUhhbmRsZXIucHJvdG90eXBlLnRyaWdnZXJZPW51bGw7bXhQb3B1cE1lbnVIYW5kbGVyLnByb3RvdHlwZS5zY3JlZW5YPW51bGw7bXhQb3B1cE1lbnVIYW5kbGVyLnByb3RvdHlwZS5zY3JlZW5ZPW51bGw7bXhQb3B1cE1lbnVIYW5kbGVyLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKCl7bXhQb3B1cE1lbnUucHJvdG90eXBlLmluaXQuYXBwbHkodGhpcyk7bXhFdmVudC5hZGRHZXN0dXJlTGlzdGVuZXJzKHRoaXMuZGl2LG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3RoaXMuZ3JhcGgudG9vbHRpcEhhbmRsZXIuaGlkZSgpfSkpfTtteFBvcHVwTWVudUhhbmRsZXIucHJvdG90eXBlLmlzU2VsZWN0T25Qb3B1cD1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5zZWxlY3RPblBvcHVwfTsKbXhQb3B1cE1lbnVIYW5kbGVyLnByb3RvdHlwZS5tb3VzZURvd249ZnVuY3Rpb24oYSxiKXt0aGlzLmlzRW5hYmxlZCgpJiYhbXhFdmVudC5pc011bHRpVG91Y2hFdmVudChiLmdldEV2ZW50KCkpJiYodGhpcy5oaWRlTWVudSgpLHRoaXMudHJpZ2dlclg9Yi5nZXRHcmFwaFgoKSx0aGlzLnRyaWdnZXJZPWIuZ2V0R3JhcGhZKCksdGhpcy5zY3JlZW5YPW14RXZlbnQuZ2V0TWFpbkV2ZW50KGIuZ2V0RXZlbnQoKSkuc2NyZWVuWCx0aGlzLnNjcmVlblk9bXhFdmVudC5nZXRNYWluRXZlbnQoYi5nZXRFdmVudCgpKS5zY3JlZW5ZLHRoaXMucG9wdXBUcmlnZ2VyPXRoaXMuaXNQb3B1cFRyaWdnZXIoYiksdGhpcy5pblRvbGVyYW5jZT0hMCl9OwpteFBvcHVwTWVudUhhbmRsZXIucHJvdG90eXBlLm1vdXNlTW92ZT1mdW5jdGlvbihhLGIpe3RoaXMuaW5Ub2xlcmFuY2UmJm51bGwhPXRoaXMuc2NyZWVuWCYmbnVsbCE9dGhpcy5zY3JlZW5ZJiYoTWF0aC5hYnMobXhFdmVudC5nZXRNYWluRXZlbnQoYi5nZXRFdmVudCgpKS5zY3JlZW5YLXRoaXMuc2NyZWVuWCk+dGhpcy5ncmFwaC50b2xlcmFuY2V8fE1hdGguYWJzKG14RXZlbnQuZ2V0TWFpbkV2ZW50KGIuZ2V0RXZlbnQoKSkuc2NyZWVuWS10aGlzLnNjcmVlblkpPnRoaXMuZ3JhcGgudG9sZXJhbmNlKSYmKHRoaXMuaW5Ub2xlcmFuY2U9ITEpfTsKbXhQb3B1cE1lbnVIYW5kbGVyLnByb3RvdHlwZS5tb3VzZVVwPWZ1bmN0aW9uKGEsYil7aWYodGhpcy5wb3B1cFRyaWdnZXImJnRoaXMuaW5Ub2xlcmFuY2UmJm51bGwhPXRoaXMudHJpZ2dlclgmJm51bGwhPXRoaXMudHJpZ2dlclkpe3ZhciBjPXRoaXMuZ2V0Q2VsbEZvclBvcHVwRXZlbnQoYik7dGhpcy5ncmFwaC5pc0VuYWJsZWQoKSYmdGhpcy5pc1NlbGVjdE9uUG9wdXAoYikmJm51bGwhPWMmJiF0aGlzLmdyYXBoLmlzQ2VsbFNlbGVjdGVkKGMpP3RoaXMuZ3JhcGguc2V0U2VsZWN0aW9uQ2VsbChjKTp0aGlzLmNsZWFyU2VsZWN0aW9uT25CYWNrZ3JvdW5kJiZudWxsPT1jJiZ0aGlzLmdyYXBoLmNsZWFyU2VsZWN0aW9uKCk7dGhpcy5ncmFwaC50b29sdGlwSGFuZGxlci5oaWRlKCk7dmFyIGQ9bXhVdGlscy5nZXRTY3JvbGxPcmlnaW4oKTt0aGlzLnBvcHVwKGIuZ2V0WCgpK2QueCsxLGIuZ2V0WSgpK2QueSsxLGMsYi5nZXRFdmVudCgpKTtiLmNvbnN1bWUoKX10aGlzLmluVG9sZXJhbmNlPQp0aGlzLnBvcHVwVHJpZ2dlcj0hMX07bXhQb3B1cE1lbnVIYW5kbGVyLnByb3RvdHlwZS5nZXRDZWxsRm9yUG9wdXBFdmVudD1mdW5jdGlvbihhKXtyZXR1cm4gYS5nZXRDZWxsKCl9O214UG9wdXBNZW51SGFuZGxlci5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuZ3JhcGgucmVtb3ZlTW91c2VMaXN0ZW5lcih0aGlzKTt0aGlzLmdyYXBoLnJlbW92ZUxpc3RlbmVyKHRoaXMuZ2VzdHVyZUhhbmRsZXIpO214UG9wdXBNZW51LnByb3RvdHlwZS5kZXN0cm95LmFwcGx5KHRoaXMpfTsKZnVuY3Rpb24gbXhDZWxsTWFya2VyKGEsYixjLGQpe214RXZlbnRTb3VyY2UuY2FsbCh0aGlzKTtudWxsIT1hJiYodGhpcy5ncmFwaD1hLHRoaXMudmFsaWRDb2xvcj1udWxsIT1iP2I6bXhDb25zdGFudHMuREVGQVVMVF9WQUxJRF9DT0xPUix0aGlzLmludmFsaWRDb2xvcj1udWxsIT1jP2M6bXhDb25zdGFudHMuREVGQVVMVF9JTlZBTElEX0NPTE9SLHRoaXMuaG90c3BvdD1udWxsIT1kP2Q6bXhDb25zdGFudHMuREVGQVVMVF9IT1RTUE9ULHRoaXMuaGlnaGxpZ2h0PW5ldyBteENlbGxIaWdobGlnaHQoYSkpfW14VXRpbHMuZXh0ZW5kKG14Q2VsbE1hcmtlcixteEV2ZW50U291cmNlKTtteENlbGxNYXJrZXIucHJvdG90eXBlLmdyYXBoPW51bGw7bXhDZWxsTWFya2VyLnByb3RvdHlwZS5lbmFibGVkPSEwO214Q2VsbE1hcmtlci5wcm90b3R5cGUuaG90c3BvdD1teENvbnN0YW50cy5ERUZBVUxUX0hPVFNQT1Q7bXhDZWxsTWFya2VyLnByb3RvdHlwZS5ob3RzcG90RW5hYmxlZD0hMTsKbXhDZWxsTWFya2VyLnByb3RvdHlwZS52YWxpZENvbG9yPW51bGw7bXhDZWxsTWFya2VyLnByb3RvdHlwZS5pbnZhbGlkQ29sb3I9bnVsbDtteENlbGxNYXJrZXIucHJvdG90eXBlLmN1cnJlbnRDb2xvcj1udWxsO214Q2VsbE1hcmtlci5wcm90b3R5cGUudmFsaWRTdGF0ZT1udWxsO214Q2VsbE1hcmtlci5wcm90b3R5cGUubWFya2VkU3RhdGU9bnVsbDtteENlbGxNYXJrZXIucHJvdG90eXBlLnNldEVuYWJsZWQ9ZnVuY3Rpb24oYSl7dGhpcy5lbmFibGVkPWF9O214Q2VsbE1hcmtlci5wcm90b3R5cGUuaXNFbmFibGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZW5hYmxlZH07bXhDZWxsTWFya2VyLnByb3RvdHlwZS5zZXRIb3RzcG90PWZ1bmN0aW9uKGEpe3RoaXMuaG90c3BvdD1hfTtteENlbGxNYXJrZXIucHJvdG90eXBlLmdldEhvdHNwb3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ob3RzcG90fTsKbXhDZWxsTWFya2VyLnByb3RvdHlwZS5zZXRIb3RzcG90RW5hYmxlZD1mdW5jdGlvbihhKXt0aGlzLmhvdHNwb3RFbmFibGVkPWF9O214Q2VsbE1hcmtlci5wcm90b3R5cGUuaXNIb3RzcG90RW5hYmxlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmhvdHNwb3RFbmFibGVkfTtteENlbGxNYXJrZXIucHJvdG90eXBlLmhhc1ZhbGlkU3RhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9dGhpcy52YWxpZFN0YXRlfTtteENlbGxNYXJrZXIucHJvdG90eXBlLmdldFZhbGlkU3RhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52YWxpZFN0YXRlfTtteENlbGxNYXJrZXIucHJvdG90eXBlLmdldE1hcmtlZFN0YXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFya2VkU3RhdGV9O214Q2VsbE1hcmtlci5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLnZhbGlkU3RhdGU9bnVsbDtudWxsIT10aGlzLm1hcmtlZFN0YXRlJiYodGhpcy5tYXJrZWRTdGF0ZT1udWxsLHRoaXMudW5tYXJrKCkpfTsKbXhDZWxsTWFya2VyLnByb3RvdHlwZS5wcm9jZXNzPWZ1bmN0aW9uKGEpe3ZhciBiPW51bGw7dGhpcy5pc0VuYWJsZWQoKSYmKGI9dGhpcy5nZXRTdGF0ZShhKSx0aGlzLnNldEN1cnJlbnRTdGF0ZShiLGEpKTtyZXR1cm4gYn07bXhDZWxsTWFya2VyLnByb3RvdHlwZS5zZXRDdXJyZW50U3RhdGU9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPW51bGwhPWE/dGhpcy5pc1ZhbGlkU3RhdGUoYSk6ITE7Yz1udWxsIT1jP2M6dGhpcy5nZXRNYXJrZXJDb2xvcihiLmdldEV2ZW50KCksYSxkKTt0aGlzLnZhbGlkU3RhdGU9ZD9hOm51bGw7aWYoYSE9dGhpcy5tYXJrZWRTdGF0ZXx8YyE9dGhpcy5jdXJyZW50Q29sb3IpdGhpcy5jdXJyZW50Q29sb3I9YyxudWxsIT1hJiZudWxsIT10aGlzLmN1cnJlbnRDb2xvcj8odGhpcy5tYXJrZWRTdGF0ZT1hLHRoaXMubWFyaygpKTpudWxsIT10aGlzLm1hcmtlZFN0YXRlJiYodGhpcy5tYXJrZWRTdGF0ZT1udWxsLHRoaXMudW5tYXJrKCkpfTsKbXhDZWxsTWFya2VyLnByb3RvdHlwZS5tYXJrQ2VsbD1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZ3JhcGguZ2V0VmlldygpLmdldFN0YXRlKGEpO251bGwhPWMmJih0aGlzLmN1cnJlbnRDb2xvcj1udWxsIT1iP2I6dGhpcy52YWxpZENvbG9yLHRoaXMubWFya2VkU3RhdGU9Yyx0aGlzLm1hcmsoKSl9O214Q2VsbE1hcmtlci5wcm90b3R5cGUubWFyaz1mdW5jdGlvbigpe3RoaXMuaGlnaGxpZ2h0LnNldEhpZ2hsaWdodENvbG9yKHRoaXMuY3VycmVudENvbG9yKTt0aGlzLmhpZ2hsaWdodC5oaWdobGlnaHQodGhpcy5tYXJrZWRTdGF0ZSk7dGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5NQVJLLCJzdGF0ZSIsdGhpcy5tYXJrZWRTdGF0ZSkpfTtteENlbGxNYXJrZXIucHJvdG90eXBlLnVubWFyaz1mdW5jdGlvbigpe3RoaXMubWFyaygpfTtteENlbGxNYXJrZXIucHJvdG90eXBlLmlzVmFsaWRTdGF0ZT1mdW5jdGlvbihhKXtyZXR1cm4hMH07Cm14Q2VsbE1hcmtlci5wcm90b3R5cGUuZ2V0TWFya2VyQ29sb3I9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBjP3RoaXMudmFsaWRDb2xvcjp0aGlzLmludmFsaWRDb2xvcn07bXhDZWxsTWFya2VyLnByb3RvdHlwZS5nZXRTdGF0ZT1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmdyYXBoLmdldFZpZXcoKSxjPXRoaXMuZ2V0Q2VsbChhKSxiPXRoaXMuZ2V0U3RhdGVUb01hcmsoYi5nZXRTdGF0ZShjKSk7cmV0dXJuIG51bGwhPWImJnRoaXMuaW50ZXJzZWN0cyhiLGEpP2I6bnVsbH07bXhDZWxsTWFya2VyLnByb3RvdHlwZS5nZXRDZWxsPWZ1bmN0aW9uKGEpe3JldHVybiBhLmdldENlbGwoKX07bXhDZWxsTWFya2VyLnByb3RvdHlwZS5nZXRTdGF0ZVRvTWFyaz1mdW5jdGlvbihhKXtyZXR1cm4gYX07Cm14Q2VsbE1hcmtlci5wcm90b3R5cGUuaW50ZXJzZWN0cz1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmhvdHNwb3RFbmFibGVkP214VXRpbHMuaW50ZXJzZWN0c0hvdHNwb3QoYSxiLmdldEdyYXBoWCgpLGIuZ2V0R3JhcGhZKCksdGhpcy5ob3RzcG90LG14Q29uc3RhbnRzLk1JTl9IT1RTUE9UX1NJWkUsbXhDb25zdGFudHMuTUFYX0hPVFNQT1RfU0laRSk6ITB9O214Q2VsbE1hcmtlci5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuZ3JhcGguZ2V0VmlldygpLnJlbW92ZUxpc3RlbmVyKHRoaXMucmVzZXRIYW5kbGVyKTt0aGlzLmdyYXBoLmdldE1vZGVsKCkucmVtb3ZlTGlzdGVuZXIodGhpcy5yZXNldEhhbmRsZXIpO3RoaXMuaGlnaGxpZ2h0LmRlc3Ryb3koKX07CmZ1bmN0aW9uIG14U2VsZWN0aW9uQ2VsbHNIYW5kbGVyKGEpe214RXZlbnRTb3VyY2UuY2FsbCh0aGlzKTt0aGlzLmdyYXBoPWE7dGhpcy5oYW5kbGVycz1uZXcgbXhEaWN0aW9uYXJ5O3RoaXMuZ3JhcGguYWRkTW91c2VMaXN0ZW5lcih0aGlzKTt0aGlzLnJlZnJlc2hIYW5kbGVyPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEsYyl7dGhpcy5pc0VuYWJsZWQoKSYmdGhpcy5yZWZyZXNoKCl9KTt0aGlzLmdyYXBoLmdldFNlbGVjdGlvbk1vZGVsKCkuYWRkTGlzdGVuZXIobXhFdmVudC5DSEFOR0UsdGhpcy5yZWZyZXNoSGFuZGxlcik7dGhpcy5ncmFwaC5nZXRNb2RlbCgpLmFkZExpc3RlbmVyKG14RXZlbnQuQ0hBTkdFLHRoaXMucmVmcmVzaEhhbmRsZXIpO3RoaXMuZ3JhcGguZ2V0VmlldygpLmFkZExpc3RlbmVyKG14RXZlbnQuU0NBTEUsdGhpcy5yZWZyZXNoSGFuZGxlcik7dGhpcy5ncmFwaC5nZXRWaWV3KCkuYWRkTGlzdGVuZXIobXhFdmVudC5UUkFOU0xBVEUsdGhpcy5yZWZyZXNoSGFuZGxlcik7CnRoaXMuZ3JhcGguZ2V0VmlldygpLmFkZExpc3RlbmVyKG14RXZlbnQuU0NBTEVfQU5EX1RSQU5TTEFURSx0aGlzLnJlZnJlc2hIYW5kbGVyKTt0aGlzLmdyYXBoLmdldFZpZXcoKS5hZGRMaXN0ZW5lcihteEV2ZW50LkRPV04sdGhpcy5yZWZyZXNoSGFuZGxlcik7dGhpcy5ncmFwaC5nZXRWaWV3KCkuYWRkTGlzdGVuZXIobXhFdmVudC5VUCx0aGlzLnJlZnJlc2hIYW5kbGVyKX1teFV0aWxzLmV4dGVuZChteFNlbGVjdGlvbkNlbGxzSGFuZGxlcixteEV2ZW50U291cmNlKTtteFNlbGVjdGlvbkNlbGxzSGFuZGxlci5wcm90b3R5cGUuZ3JhcGg9bnVsbDtteFNlbGVjdGlvbkNlbGxzSGFuZGxlci5wcm90b3R5cGUuZW5hYmxlZD0hMDtteFNlbGVjdGlvbkNlbGxzSGFuZGxlci5wcm90b3R5cGUucmVmcmVzaEhhbmRsZXI9bnVsbDtteFNlbGVjdGlvbkNlbGxzSGFuZGxlci5wcm90b3R5cGUubWF4SGFuZGxlcnM9MTAwOwpteFNlbGVjdGlvbkNlbGxzSGFuZGxlci5wcm90b3R5cGUuaGFuZGxlcnM9bnVsbDtteFNlbGVjdGlvbkNlbGxzSGFuZGxlci5wcm90b3R5cGUuaXNFbmFibGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZW5hYmxlZH07bXhTZWxlY3Rpb25DZWxsc0hhbmRsZXIucHJvdG90eXBlLnNldEVuYWJsZWQ9ZnVuY3Rpb24oYSl7dGhpcy5lbmFibGVkPWF9O214U2VsZWN0aW9uQ2VsbHNIYW5kbGVyLnByb3RvdHlwZS5nZXRIYW5kbGVyPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmhhbmRsZXJzLmdldChhKX07bXhTZWxlY3Rpb25DZWxsc0hhbmRsZXIucHJvdG90eXBlLmlzSGFuZGxlZD1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9dGhpcy5nZXRIYW5kbGVyKGEpfTtteFNlbGVjdGlvbkNlbGxzSGFuZGxlci5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLmhhbmRsZXJzLnZpc2l0KGZ1bmN0aW9uKGEsYil7Yi5yZXNldC5hcHBseShiKX0pfTsKbXhTZWxlY3Rpb25DZWxsc0hhbmRsZXIucHJvdG90eXBlLmdldEhhbmRsZWRTZWxlY3Rpb25DZWxscz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdyYXBoLmdldFNlbGVjdGlvbkNlbGxzKCl9OwpteFNlbGVjdGlvbkNlbGxzSGFuZGxlci5wcm90b3R5cGUucmVmcmVzaD1mdW5jdGlvbigpe3ZhciBhPXRoaXMuaGFuZGxlcnM7dGhpcy5oYW5kbGVycz1uZXcgbXhEaWN0aW9uYXJ5O2Zvcih2YXIgYj1teFV0aWxzLnNvcnRDZWxscyh0aGlzLmdldEhhbmRsZWRTZWxlY3Rpb25DZWxscygpLCExKSxjPTA7YzxiLmxlbmd0aDtjKyspe3ZhciBkPXRoaXMuZ3JhcGgudmlldy5nZXRTdGF0ZShiW2NdKTtpZihudWxsIT1kKXt2YXIgZT1hLnJlbW92ZShiW2NdKTtudWxsIT1lJiYoZS5zdGF0ZSE9ZD8oZS5kZXN0cm95KCksZT1udWxsKTp0aGlzLmlzSGFuZGxlckFjdGl2ZShlKXx8KG51bGwhPWUucmVmcmVzaCYmZS5yZWZyZXNoKCksZS5yZWRyYXcoKSkpO251bGw9PWUmJihlPXRoaXMuZ3JhcGguY3JlYXRlSGFuZGxlcihkKSx0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LkFERCwic3RhdGUiLGQpKSk7bnVsbCE9ZSYmdGhpcy5oYW5kbGVycy5wdXQoYltjXSxlKX19YS52aXNpdChteFV0aWxzLmJpbmQodGhpcywKZnVuY3Rpb24oYSxiKXt0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LlJFTU9WRSwic3RhdGUiLGIuc3RhdGUpKTtiLmRlc3Ryb3koKX0pKX07bXhTZWxlY3Rpb25DZWxsc0hhbmRsZXIucHJvdG90eXBlLmlzSGFuZGxlckFjdGl2ZT1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YS5pbmRleH07bXhTZWxlY3Rpb25DZWxsc0hhbmRsZXIucHJvdG90eXBlLnVwZGF0ZUhhbmRsZXI9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5oYW5kbGVycy5yZW1vdmUoYS5jZWxsKTtpZihudWxsIT1iKXt2YXIgYz1iLmluZGV4LGQ9Yi5zdGFydFgsZT1iLnN0YXJ0WTtiLmRlc3Ryb3koKTtiPXRoaXMuZ3JhcGguY3JlYXRlSGFuZGxlcihhKTtudWxsIT1iJiYodGhpcy5oYW5kbGVycy5wdXQoYS5jZWxsLGIpLG51bGwhPWMmJm51bGwhPWQmJm51bGwhPWUmJmIuc3RhcnQoZCxlLGMpKX19OwpteFNlbGVjdGlvbkNlbGxzSGFuZGxlci5wcm90b3R5cGUubW91c2VEb3duPWZ1bmN0aW9uKGEsYil7aWYodGhpcy5ncmFwaC5pc0VuYWJsZWQoKSYmdGhpcy5pc0VuYWJsZWQoKSl7dmFyIGM9W2EsYl07dGhpcy5oYW5kbGVycy52aXNpdChmdW5jdGlvbihhLGIpe2IubW91c2VEb3duLmFwcGx5KGIsYyl9KX19O214U2VsZWN0aW9uQ2VsbHNIYW5kbGVyLnByb3RvdHlwZS5tb3VzZU1vdmU9ZnVuY3Rpb24oYSxiKXtpZih0aGlzLmdyYXBoLmlzRW5hYmxlZCgpJiZ0aGlzLmlzRW5hYmxlZCgpKXt2YXIgYz1bYSxiXTt0aGlzLmhhbmRsZXJzLnZpc2l0KGZ1bmN0aW9uKGEsYil7Yi5tb3VzZU1vdmUuYXBwbHkoYixjKX0pfX07Cm14U2VsZWN0aW9uQ2VsbHNIYW5kbGVyLnByb3RvdHlwZS5tb3VzZVVwPWZ1bmN0aW9uKGEsYil7aWYodGhpcy5ncmFwaC5pc0VuYWJsZWQoKSYmdGhpcy5pc0VuYWJsZWQoKSl7dmFyIGM9W2EsYl07dGhpcy5oYW5kbGVycy52aXNpdChmdW5jdGlvbihhLGIpe2IubW91c2VVcC5hcHBseShiLGMpfSl9fTtteFNlbGVjdGlvbkNlbGxzSGFuZGxlci5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuZ3JhcGgucmVtb3ZlTW91c2VMaXN0ZW5lcih0aGlzKTtudWxsIT10aGlzLnJlZnJlc2hIYW5kbGVyJiYodGhpcy5ncmFwaC5nZXRTZWxlY3Rpb25Nb2RlbCgpLnJlbW92ZUxpc3RlbmVyKHRoaXMucmVmcmVzaEhhbmRsZXIpLHRoaXMuZ3JhcGguZ2V0TW9kZWwoKS5yZW1vdmVMaXN0ZW5lcih0aGlzLnJlZnJlc2hIYW5kbGVyKSx0aGlzLmdyYXBoLmdldFZpZXcoKS5yZW1vdmVMaXN0ZW5lcih0aGlzLnJlZnJlc2hIYW5kbGVyKSx0aGlzLnJlZnJlc2hIYW5kbGVyPW51bGwpfTsKZnVuY3Rpb24gbXhDb25uZWN0aW9uSGFuZGxlcihhLGIpe214RXZlbnRTb3VyY2UuY2FsbCh0aGlzKTtudWxsIT1hJiYodGhpcy5ncmFwaD1hLHRoaXMuZmFjdG9yeU1ldGhvZD1iLHRoaXMuaW5pdCgpLHRoaXMuZXNjYXBlSGFuZGxlcj1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhLGIpe3RoaXMucmVzZXQoKX0pLHRoaXMuZ3JhcGguYWRkTGlzdGVuZXIobXhFdmVudC5FU0NBUEUsdGhpcy5lc2NhcGVIYW5kbGVyKSl9bXhVdGlscy5leHRlbmQobXhDb25uZWN0aW9uSGFuZGxlcixteEV2ZW50U291cmNlKTtteENvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS5ncmFwaD1udWxsO214Q29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLmZhY3RvcnlNZXRob2Q9ITA7bXhDb25uZWN0aW9uSGFuZGxlci5wcm90b3R5cGUubW92ZUljb25Gcm9udD0hMTtteENvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS5tb3ZlSWNvbkJhY2s9ITE7Cm14Q29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLmNvbm5lY3RJbWFnZT1udWxsO214Q29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLnRhcmdldENvbm5lY3RJbWFnZT0hMTtteENvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS5lbmFibGVkPSEwO214Q29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLnNlbGVjdD0hMDtteENvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS5jcmVhdGVUYXJnZXQ9ITE7bXhDb25uZWN0aW9uSGFuZGxlci5wcm90b3R5cGUubWFya2VyPW51bGw7bXhDb25uZWN0aW9uSGFuZGxlci5wcm90b3R5cGUuY29uc3RyYWludEhhbmRsZXI9bnVsbDtteENvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS5lcnJvcj1udWxsO214Q29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLndheXBvaW50c0VuYWJsZWQ9ITE7bXhDb25uZWN0aW9uSGFuZGxlci5wcm90b3R5cGUuaWdub3JlTW91c2VEb3duPSExO214Q29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLmZpcnN0PW51bGw7Cm14Q29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLmNvbm5lY3RJY29uT2Zmc2V0PW5ldyBteFBvaW50KDAsbXhDb25zdGFudHMuVE9PTFRJUF9WRVJUSUNBTF9PRkZTRVQpO214Q29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLmVkZ2VTdGF0ZT1udWxsO214Q29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLmNoYW5nZUhhbmRsZXI9bnVsbDtteENvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS5kcmlsbEhhbmRsZXI9bnVsbDtteENvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS5tb3VzZURvd25Db3VudGVyPTA7bXhDb25uZWN0aW9uSGFuZGxlci5wcm90b3R5cGUubW92ZVByZXZpZXdBd2F5PW14Q2xpZW50LklTX1ZNTDtteENvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS5vdXRsaW5lQ29ubmVjdD0hMTtteENvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS5saXZlUHJldmlldz0hMTtteENvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS5jdXJzb3I9bnVsbDsKbXhDb25uZWN0aW9uSGFuZGxlci5wcm90b3R5cGUuaW5zZXJ0QmVmb3JlU291cmNlPSExO214Q29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLmlzRW5hYmxlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVuYWJsZWR9O214Q29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLnNldEVuYWJsZWQ9ZnVuY3Rpb24oYSl7dGhpcy5lbmFibGVkPWF9O214Q29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLmlzSW5zZXJ0QmVmb3JlPWZ1bmN0aW9uKGEsYixjLGQsZSl7cmV0dXJuIHRoaXMuaW5zZXJ0QmVmb3JlU291cmNlJiZiIT1jfTtteENvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS5pc0NyZWF0ZVRhcmdldD1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jcmVhdGVUYXJnZXR9O214Q29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLnNldENyZWF0ZVRhcmdldD1mdW5jdGlvbihhKXt0aGlzLmNyZWF0ZVRhcmdldD1hfTsKbXhDb25uZWN0aW9uSGFuZGxlci5wcm90b3R5cGUuY3JlYXRlU2hhcGU9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmxpdmVQcmV2aWV3JiZudWxsIT10aGlzLmVkZ2VTdGF0ZT90aGlzLmdyYXBoLmNlbGxSZW5kZXJlci5jcmVhdGVTaGFwZSh0aGlzLmVkZ2VTdGF0ZSk6bmV3IG14UG9seWxpbmUoW10sbXhDb25zdGFudHMuSU5WQUxJRF9DT0xPUik7YS5kaWFsZWN0PXRoaXMuZ3JhcGguZGlhbGVjdCE9bXhDb25zdGFudHMuRElBTEVDVF9TVkc/bXhDb25zdGFudHMuRElBTEVDVF9WTUw6bXhDb25zdGFudHMuRElBTEVDVF9TVkc7YS5zY2FsZT10aGlzLmdyYXBoLnZpZXcuc2NhbGU7YS5wb2ludGVyRXZlbnRzPSExO2EuaXNEYXNoZWQ9ITA7YS5pbml0KHRoaXMuZ3JhcGguZ2V0VmlldygpLmdldE92ZXJsYXlQYW5lKCkpO214RXZlbnQucmVkaXJlY3RNb3VzZUV2ZW50cyhhLm5vZGUsdGhpcy5ncmFwaCxudWxsKTtyZXR1cm4gYX07Cm14Q29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oKXt0aGlzLmdyYXBoLmFkZE1vdXNlTGlzdGVuZXIodGhpcyk7dGhpcy5tYXJrZXI9dGhpcy5jcmVhdGVNYXJrZXIoKTt0aGlzLmNvbnN0cmFpbnRIYW5kbGVyPW5ldyBteENvbnN0cmFpbnRIYW5kbGVyKHRoaXMuZ3JhcGgpO3RoaXMuY2hhbmdlSGFuZGxlcj1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXtudWxsIT10aGlzLmljb25TdGF0ZSYmKHRoaXMuaWNvblN0YXRlPXRoaXMuZ3JhcGguZ2V0VmlldygpLmdldFN0YXRlKHRoaXMuaWNvblN0YXRlLmNlbGwpKTtudWxsIT10aGlzLmljb25TdGF0ZT8odGhpcy5yZWRyYXdJY29ucyh0aGlzLmljb25zLHRoaXMuaWNvblN0YXRlKSx0aGlzLmNvbnN0cmFpbnRIYW5kbGVyLnJlc2V0KCkpOm51bGwhPXRoaXMucHJldmlvdXMmJm51bGw9PXRoaXMuZ3JhcGgudmlldy5nZXRTdGF0ZSh0aGlzLnByZXZpb3VzLmNlbGwpJiZ0aGlzLnJlc2V0KCl9KTt0aGlzLmdyYXBoLmdldE1vZGVsKCkuYWRkTGlzdGVuZXIobXhFdmVudC5DSEFOR0UsCnRoaXMuY2hhbmdlSGFuZGxlcik7dGhpcy5ncmFwaC5nZXRWaWV3KCkuYWRkTGlzdGVuZXIobXhFdmVudC5TQ0FMRSx0aGlzLmNoYW5nZUhhbmRsZXIpO3RoaXMuZ3JhcGguZ2V0VmlldygpLmFkZExpc3RlbmVyKG14RXZlbnQuVFJBTlNMQVRFLHRoaXMuY2hhbmdlSGFuZGxlcik7dGhpcy5ncmFwaC5nZXRWaWV3KCkuYWRkTGlzdGVuZXIobXhFdmVudC5TQ0FMRV9BTkRfVFJBTlNMQVRFLHRoaXMuY2hhbmdlSGFuZGxlcik7dGhpcy5kcmlsbEhhbmRsZXI9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7dGhpcy5yZXNldCgpfSk7dGhpcy5ncmFwaC5hZGRMaXN0ZW5lcihteEV2ZW50LlNUQVJUX0VESVRJTkcsdGhpcy5kcmlsbEhhbmRsZXIpO3RoaXMuZ3JhcGguZ2V0VmlldygpLmFkZExpc3RlbmVyKG14RXZlbnQuRE9XTix0aGlzLmRyaWxsSGFuZGxlcik7dGhpcy5ncmFwaC5nZXRWaWV3KCkuYWRkTGlzdGVuZXIobXhFdmVudC5VUCx0aGlzLmRyaWxsSGFuZGxlcil9OwpteENvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS5pc0Nvbm5lY3RhYmxlQ2VsbD1mdW5jdGlvbihhKXtyZXR1cm4hMH07Cm14Q29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLmNyZWF0ZU1hcmtlcj1mdW5jdGlvbigpe3ZhciBhPW5ldyBteENlbGxNYXJrZXIodGhpcy5ncmFwaCk7YS5ob3RzcG90RW5hYmxlZD0hMDthLmdldENlbGw9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYil7dmFyIGM9bXhDZWxsTWFya2VyLnByb3RvdHlwZS5nZXRDZWxsLmFwcGx5KGEsYXJndW1lbnRzKTt0aGlzLmVycm9yPW51bGw7bnVsbD09YyYmbnVsbCE9dGhpcy5jdXJyZW50UG9pbnQmJihjPXRoaXMuZ3JhcGguZ2V0Q2VsbEF0KHRoaXMuY3VycmVudFBvaW50LngsdGhpcy5jdXJyZW50UG9pbnQueSkpO2lmKG51bGwhPWMmJiF0aGlzLmdyYXBoLmlzQ2VsbENvbm5lY3RhYmxlKGMpKXt2YXIgZD10aGlzLmdyYXBoLmdldE1vZGVsKCkuZ2V0UGFyZW50KGMpO3RoaXMuZ3JhcGguZ2V0TW9kZWwoKS5pc1ZlcnRleChkKSYmdGhpcy5ncmFwaC5pc0NlbGxDb25uZWN0YWJsZShkKSYmKGM9ZCl9aWYodGhpcy5ncmFwaC5pc1N3aW1sYW5lKGMpJiYKbnVsbCE9dGhpcy5jdXJyZW50UG9pbnQmJnRoaXMuZ3JhcGguaGl0c1N3aW1sYW5lQ29udGVudChjLHRoaXMuY3VycmVudFBvaW50LngsdGhpcy5jdXJyZW50UG9pbnQueSl8fCF0aGlzLmlzQ29ubmVjdGFibGVDZWxsKGMpKWM9bnVsbDtudWxsIT1jP3RoaXMuaXNDb25uZWN0aW5nKCk/bnVsbCE9dGhpcy5wcmV2aW91cyYmKHRoaXMuZXJyb3I9dGhpcy52YWxpZGF0ZUNvbm5lY3Rpb24odGhpcy5wcmV2aW91cy5jZWxsLGMpLG51bGwhPXRoaXMuZXJyb3ImJjA9PXRoaXMuZXJyb3IubGVuZ3RoJiYoYz1udWxsLHRoaXMuaXNDcmVhdGVUYXJnZXQoYi5nZXRFdmVudCgpKSYmKHRoaXMuZXJyb3I9bnVsbCkpKTp0aGlzLmlzVmFsaWRTb3VyY2UoYyxiKXx8KGM9bnVsbCk6IXRoaXMuaXNDb25uZWN0aW5nKCl8fHRoaXMuaXNDcmVhdGVUYXJnZXQoYi5nZXRFdmVudCgpKXx8dGhpcy5ncmFwaC5hbGxvd0RhbmdsaW5nRWRnZXN8fCh0aGlzLmVycm9yPSIiKTtyZXR1cm4gY30pO2EuaXNWYWxpZFN0YXRlPQpteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihiKXtyZXR1cm4gdGhpcy5pc0Nvbm5lY3RpbmcoKT9udWxsPT10aGlzLmVycm9yOm14Q2VsbE1hcmtlci5wcm90b3R5cGUuaXNWYWxpZFN0YXRlLmFwcGx5KGEsYXJndW1lbnRzKX0pO2EuZ2V0TWFya2VyQ29sb3I9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYixjLGQpe3JldHVybiBudWxsPT10aGlzLmNvbm5lY3RJbWFnZXx8dGhpcy5pc0Nvbm5lY3RpbmcoKT9teENlbGxNYXJrZXIucHJvdG90eXBlLmdldE1hcmtlckNvbG9yLmFwcGx5KGEsYXJndW1lbnRzKTpudWxsfSk7YS5pbnRlcnNlY3RzPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGIsYyl7cmV0dXJuIG51bGwhPXRoaXMuY29ubmVjdEltYWdlfHx0aGlzLmlzQ29ubmVjdGluZygpPyEwOm14Q2VsbE1hcmtlci5wcm90b3R5cGUuaW50ZXJzZWN0cy5hcHBseShhLGFyZ3VtZW50cyl9KTtyZXR1cm4gYX07Cm14Q29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKGEsYixjLGQpe3RoaXMucHJldmlvdXM9YTt0aGlzLmZpcnN0PW5ldyBteFBvaW50KGIsYyk7dGhpcy5lZGdlU3RhdGU9bnVsbCE9ZD9kOnRoaXMuY3JlYXRlRWRnZVN0YXRlKG51bGwpO3RoaXMubWFya2VyLmN1cnJlbnRDb2xvcj10aGlzLm1hcmtlci52YWxpZENvbG9yO3RoaXMubWFya2VyLm1hcmtlZFN0YXRlPWE7dGhpcy5tYXJrZXIubWFyaygpO3RoaXMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KG14RXZlbnQuU1RBUlQsInN0YXRlIix0aGlzLnByZXZpb3VzKSl9O214Q29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLmlzQ29ubmVjdGluZz1mdW5jdGlvbigpe3JldHVybiBudWxsIT10aGlzLmZpcnN0JiZudWxsIT10aGlzLnNoYXBlfTtteENvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS5pc1ZhbGlkU291cmNlPWZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuZ3JhcGguaXNWYWxpZFNvdXJjZShhKX07Cm14Q29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLmlzVmFsaWRUYXJnZXQ9ZnVuY3Rpb24oYSl7cmV0dXJuITB9O214Q29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLnZhbGlkYXRlQ29ubmVjdGlvbj1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmlzVmFsaWRUYXJnZXQoYik/dGhpcy5ncmFwaC5nZXRFZGdlVmFsaWRhdGlvbkVycm9yKG51bGwsYSxiKToiIn07bXhDb25uZWN0aW9uSGFuZGxlci5wcm90b3R5cGUuZ2V0Q29ubmVjdEltYWdlPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNvbm5lY3RJbWFnZX07bXhDb25uZWN0aW9uSGFuZGxlci5wcm90b3R5cGUuaXNNb3ZlSWNvblRvRnJvbnRGb3JTdGF0ZT1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YS50ZXh0JiZhLnRleHQubm9kZS5wYXJlbnROb2RlPT10aGlzLmdyYXBoLmNvbnRhaW5lcj8hMDp0aGlzLm1vdmVJY29uRnJvbnR9OwpteENvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS5jcmVhdGVJY29ucz1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmdldENvbm5lY3RJbWFnZShhKTtpZihudWxsIT1iJiZudWxsIT1hKXt0aGlzLmljb25TdGF0ZT1hO3ZhciBjPVtdLGQ9bmV3IG14UmVjdGFuZ2xlKDAsMCxiLndpZHRoLGIuaGVpZ2h0KSxlPW5ldyBteEltYWdlU2hhcGUoZCxiLnNyYyxudWxsLG51bGwsMCk7ZS5wcmVzZXJ2ZUltYWdlQXNwZWN0PSExO3RoaXMuaXNNb3ZlSWNvblRvRnJvbnRGb3JTdGF0ZShhKT8oZS5kaWFsZWN0PW14Q29uc3RhbnRzLkRJQUxFQ1RfU1RSSUNUSFRNTCxlLmluaXQodGhpcy5ncmFwaC5jb250YWluZXIpKTooZS5kaWFsZWN0PXRoaXMuZ3JhcGguZGlhbGVjdD09bXhDb25zdGFudHMuRElBTEVDVF9TVkc/bXhDb25zdGFudHMuRElBTEVDVF9TVkc6bXhDb25zdGFudHMuRElBTEVDVF9WTUwsZS5pbml0KHRoaXMuZ3JhcGguZ2V0VmlldygpLmdldE92ZXJsYXlQYW5lKCkpLHRoaXMubW92ZUljb25CYWNrJiYKbnVsbCE9ZS5ub2RlLnByZXZpb3VzU2libGluZyYmZS5ub2RlLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGUubm9kZSxlLm5vZGUucGFyZW50Tm9kZS5maXJzdENoaWxkKSk7ZS5ub2RlLnN0eWxlLmN1cnNvcj1teENvbnN0YW50cy5DVVJTT1JfQ09OTkVDVDt2YXIgZj1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3JldHVybiBudWxsIT10aGlzLmN1cnJlbnRTdGF0ZT90aGlzLmN1cnJlbnRTdGF0ZTphfSksYj1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXtteEV2ZW50LmlzQ29uc3VtZWQoYSl8fCh0aGlzLmljb249ZSx0aGlzLmdyYXBoLmZpcmVNb3VzZUV2ZW50KG14RXZlbnQuTU9VU0VfRE9XTixuZXcgbXhNb3VzZUV2ZW50KGEsZigpKSkpfSk7bXhFdmVudC5yZWRpcmVjdE1vdXNlRXZlbnRzKGUubm9kZSx0aGlzLmdyYXBoLGYsYik7Yy5wdXNoKGUpO3RoaXMucmVkcmF3SWNvbnMoYyx0aGlzLmljb25TdGF0ZSk7cmV0dXJuIGN9cmV0dXJuIG51bGx9OwpteENvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS5yZWRyYXdJY29ucz1mdW5jdGlvbihhLGIpe2lmKG51bGwhPWEmJm51bGwhPWFbMF0mJm51bGwhPWIpe3ZhciBjPXRoaXMuZ2V0SWNvblBvc2l0aW9uKGFbMF0sYik7YVswXS5ib3VuZHMueD1jLng7YVswXS5ib3VuZHMueT1jLnk7YVswXS5yZWRyYXcoKX19OwpteENvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS5nZXRJY29uUG9zaXRpb249ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdyYXBoLmdldFZpZXcoKS5zY2FsZSxkPWIuZ2V0Q2VudGVyWCgpLGU9Yi5nZXRDZW50ZXJZKCk7aWYodGhpcy5ncmFwaC5pc1N3aW1sYW5lKGIuY2VsbCkpe3ZhciBmPXRoaXMuZ3JhcGguZ2V0U3RhcnRTaXplKGIuY2VsbCksZD0wIT1mLndpZHRoP2IueCtmLndpZHRoKmMvMjpkLGU9MCE9Zi5oZWlnaHQ/Yi55K2YuaGVpZ2h0KmMvMjplLGY9bXhVdGlscy50b1JhZGlhbnMobXhVdGlscy5nZXRWYWx1ZShiLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX1JPVEFUSU9OKXx8MCk7aWYoMCE9Zil2YXIgYz1NYXRoLmNvcyhmKSxmPU1hdGguc2luKGYpLGc9bmV3IG14UG9pbnQoYi5nZXRDZW50ZXJYKCksYi5nZXRDZW50ZXJZKCkpLGU9bXhVdGlscy5nZXRSb3RhdGVkUG9pbnQobmV3IG14UG9pbnQoZCxlKSxjLGYsZyksZD1lLngsZT1lLnl9cmV0dXJuIG5ldyBteFBvaW50KGQtCmEuYm91bmRzLndpZHRoLzIsZS1hLmJvdW5kcy5oZWlnaHQvMil9O214Q29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLmRlc3Ryb3lJY29ucz1mdW5jdGlvbigpe2lmKG51bGwhPXRoaXMuaWNvbnMpe2Zvcih2YXIgYT0wO2E8dGhpcy5pY29ucy5sZW5ndGg7YSsrKXRoaXMuaWNvbnNbYV0uZGVzdHJveSgpO3RoaXMuaWNvblN0YXRlPXRoaXMuc2VsZWN0ZWRJY29uPXRoaXMuaWNvbj10aGlzLmljb25zPW51bGx9fTtteENvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS5pc1N0YXJ0RXZlbnQ9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPXRoaXMuY29uc3RyYWludEhhbmRsZXIuY3VycmVudEZvY3VzJiZudWxsIT10aGlzLmNvbnN0cmFpbnRIYW5kbGVyLmN1cnJlbnRDb25zdHJhaW50fHxudWxsIT10aGlzLnByZXZpb3VzJiZudWxsPT10aGlzLmVycm9yJiYobnVsbD09dGhpcy5pY29uc3x8bnVsbCE9dGhpcy5pY29ucyYmbnVsbCE9dGhpcy5pY29uKX07Cm14Q29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLm1vdXNlRG93bj1mdW5jdGlvbihhLGIpe3RoaXMubW91c2VEb3duQ291bnRlcisrO2lmKHRoaXMuaXNFbmFibGVkKCkmJnRoaXMuZ3JhcGguaXNFbmFibGVkKCkmJiFiLmlzQ29uc3VtZWQoKSYmIXRoaXMuaXNDb25uZWN0aW5nKCkmJnRoaXMuaXNTdGFydEV2ZW50KGIpKXtudWxsIT10aGlzLmNvbnN0cmFpbnRIYW5kbGVyLmN1cnJlbnRDb25zdHJhaW50JiZudWxsIT10aGlzLmNvbnN0cmFpbnRIYW5kbGVyLmN1cnJlbnRGb2N1cyYmbnVsbCE9dGhpcy5jb25zdHJhaW50SGFuZGxlci5jdXJyZW50UG9pbnQ/KHRoaXMuc291cmNlQ29uc3RyYWludD10aGlzLmNvbnN0cmFpbnRIYW5kbGVyLmN1cnJlbnRDb25zdHJhaW50LHRoaXMucHJldmlvdXM9dGhpcy5jb25zdHJhaW50SGFuZGxlci5jdXJyZW50Rm9jdXMsdGhpcy5maXJzdD10aGlzLmNvbnN0cmFpbnRIYW5kbGVyLmN1cnJlbnRQb2ludC5jbG9uZSgpKTp0aGlzLmZpcnN0PW5ldyBteFBvaW50KGIuZ2V0R3JhcGhYKCksCmIuZ2V0R3JhcGhZKCkpO3RoaXMuZWRnZVN0YXRlPXRoaXMuY3JlYXRlRWRnZVN0YXRlKGIpO3RoaXMubW91c2VEb3duQ291bnRlcj0xO3RoaXMud2F5cG9pbnRzRW5hYmxlZCYmbnVsbD09dGhpcy5zaGFwZSYmKHRoaXMud2F5cG9pbnRzPW51bGwsdGhpcy5zaGFwZT10aGlzLmNyZWF0ZVNoYXBlKCksbnVsbCE9dGhpcy5lZGdlU3RhdGUmJnRoaXMuc2hhcGUuYXBwbHkodGhpcy5lZGdlU3RhdGUpKTtpZihudWxsPT10aGlzLnByZXZpb3VzJiZudWxsIT10aGlzLmVkZ2VTdGF0ZSl7dmFyIGM9dGhpcy5ncmFwaC5nZXRQb2ludEZvckV2ZW50KGIuZ2V0RXZlbnQoKSk7dGhpcy5lZGdlU3RhdGUuY2VsbC5nZW9tZXRyeS5zZXRUZXJtaW5hbFBvaW50KGMsITApfXRoaXMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KG14RXZlbnQuU1RBUlQsInN0YXRlIix0aGlzLnByZXZpb3VzKSk7Yi5jb25zdW1lKCl9dGhpcy5zZWxlY3RlZEljb249dGhpcy5pY29uO3RoaXMuaWNvbj1udWxsfTsKbXhDb25uZWN0aW9uSGFuZGxlci5wcm90b3R5cGUuaXNJbW1lZGlhdGVDb25uZWN0U291cmNlPWZ1bmN0aW9uKGEpe3JldHVybiF0aGlzLmdyYXBoLmlzQ2VsbE1vdmFibGUoYS5jZWxsKX07bXhDb25uZWN0aW9uSGFuZGxlci5wcm90b3R5cGUuY3JlYXRlRWRnZVN0YXRlPWZ1bmN0aW9uKGEpe3JldHVybiBudWxsfTsKbXhDb25uZWN0aW9uSGFuZGxlci5wcm90b3R5cGUuaXNPdXRsaW5lQ29ubmVjdEV2ZW50PWZ1bmN0aW9uKGEpe3ZhciBiPW14VXRpbHMuZ2V0T2Zmc2V0KHRoaXMuZ3JhcGguY29udGFpbmVyKSxjPWEuZ2V0RXZlbnQoKSxkPW14RXZlbnQuZ2V0Q2xpZW50WChjKSxjPW14RXZlbnQuZ2V0Q2xpZW50WShjKSxlPWRvY3VtZW50LmRvY3VtZW50RWxlbWVudCxmPXRoaXMuY3VycmVudFBvaW50LngtdGhpcy5ncmFwaC5jb250YWluZXIuc2Nyb2xsTGVmdCtiLngtKCh3aW5kb3cucGFnZVhPZmZzZXR8fGUuc2Nyb2xsTGVmdCktKGUuY2xpZW50TGVmdHx8MCkpLGI9dGhpcy5jdXJyZW50UG9pbnQueS10aGlzLmdyYXBoLmNvbnRhaW5lci5zY3JvbGxUb3ArYi55LSgod2luZG93LnBhZ2VZT2Zmc2V0fHxlLnNjcm9sbFRvcCktKGUuY2xpZW50VG9wfHwwKSk7cmV0dXJuIHRoaXMub3V0bGluZUNvbm5lY3QmJiFteEV2ZW50LmlzU2hpZnREb3duKGEuZ2V0RXZlbnQoKSkmJihhLmlzU291cmNlKHRoaXMubWFya2VyLmhpZ2hsaWdodC5zaGFwZSl8fApteEV2ZW50LmlzQWx0RG93bihhLmdldEV2ZW50KCkpJiZudWxsIT1hLmdldFN0YXRlKCl8fHRoaXMubWFya2VyLmhpZ2hsaWdodC5pc0hpZ2hsaWdodEF0KGQsYyl8fChmIT1kfHxiIT1jKSYmbnVsbD09YS5nZXRTdGF0ZSgpJiZ0aGlzLm1hcmtlci5oaWdobGlnaHQuaXNIaWdobGlnaHRBdChmLGIpKX07Cm14Q29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLnVwZGF0ZUN1cnJlbnRTdGF0ZT1mdW5jdGlvbihhLGIpe3RoaXMuY29uc3RyYWludEhhbmRsZXIudXBkYXRlKGEsbnVsbD09dGhpcy5maXJzdCwhMSxudWxsPT10aGlzLmZpcnN0fHxhLmlzU291cmNlKHRoaXMubWFya2VyLmhpZ2hsaWdodC5zaGFwZSk/bnVsbDpiKTtpZihudWxsIT10aGlzLmNvbnN0cmFpbnRIYW5kbGVyLmN1cnJlbnRGb2N1cyYmbnVsbCE9dGhpcy5jb25zdHJhaW50SGFuZGxlci5jdXJyZW50Q29uc3RyYWludCludWxsIT10aGlzLm1hcmtlci5oaWdobGlnaHQmJm51bGwhPXRoaXMubWFya2VyLmhpZ2hsaWdodC5zdGF0ZSYmdGhpcy5tYXJrZXIuaGlnaGxpZ2h0LnN0YXRlLmNlbGw9PXRoaXMuY29uc3RyYWludEhhbmRsZXIuY3VycmVudEZvY3VzLmNlbGw/InRyYW5zcGFyZW50IiE9dGhpcy5tYXJrZXIuaGlnaGxpZ2h0LnNoYXBlLnN0cm9rZSYmKHRoaXMubWFya2VyLmhpZ2hsaWdodC5zaGFwZS5zdHJva2U9InRyYW5zcGFyZW50IiwKdGhpcy5tYXJrZXIuaGlnaGxpZ2h0LnJlcGFpbnQoKSk6dGhpcy5tYXJrZXIubWFya0NlbGwodGhpcy5jb25zdHJhaW50SGFuZGxlci5jdXJyZW50Rm9jdXMuY2VsbCwidHJhbnNwYXJlbnQiKSxudWxsIT10aGlzLnByZXZpb3VzJiYodGhpcy5lcnJvcj10aGlzLnZhbGlkYXRlQ29ubmVjdGlvbih0aGlzLnByZXZpb3VzLmNlbGwsdGhpcy5jb25zdHJhaW50SGFuZGxlci5jdXJyZW50Rm9jdXMuY2VsbCksbnVsbD09dGhpcy5lcnJvciYmKHRoaXMuY3VycmVudFN0YXRlPXRoaXMuY29uc3RyYWludEhhbmRsZXIuY3VycmVudEZvY3VzKSwobnVsbCE9dGhpcy5lcnJvcnx8bnVsbCE9dGhpcy5jdXJyZW50U3RhdGUmJiF0aGlzLmlzQ2VsbEVuYWJsZWQodGhpcy5jdXJyZW50U3RhdGUuY2VsbCkpJiZ0aGlzLmNvbnN0cmFpbnRIYW5kbGVyLnJlc2V0KCkpO2Vsc2V7dGhpcy5ncmFwaC5pc0lnbm9yZVRlcm1pbmFsRXZlbnQoYS5nZXRFdmVudCgpKT8odGhpcy5tYXJrZXIucmVzZXQoKSx0aGlzLmN1cnJlbnRTdGF0ZT0KbnVsbCk6KHRoaXMubWFya2VyLnByb2Nlc3MoYSksdGhpcy5jdXJyZW50U3RhdGU9dGhpcy5tYXJrZXIuZ2V0VmFsaWRTdGF0ZSgpKTtudWxsPT10aGlzLmN1cnJlbnRTdGF0ZXx8dGhpcy5pc0NlbGxFbmFibGVkKHRoaXMuY3VycmVudFN0YXRlLmNlbGwpfHwodGhpcy5jb25zdHJhaW50SGFuZGxlci5yZXNldCgpLHRoaXMubWFya2VyLnJlc2V0KCksdGhpcy5jdXJyZW50U3RhdGU9bnVsbCk7dmFyIGM9dGhpcy5pc091dGxpbmVDb25uZWN0RXZlbnQoYSk7bnVsbCE9dGhpcy5jdXJyZW50U3RhdGUmJmMmJihhLmlzU291cmNlKHRoaXMubWFya2VyLmhpZ2hsaWdodC5zaGFwZSkmJihiPW5ldyBteFBvaW50KGEuZ2V0R3JhcGhYKCksYS5nZXRHcmFwaFkoKSkpLGM9dGhpcy5ncmFwaC5nZXRPdXRsaW5lQ29uc3RyYWludChiLHRoaXMuY3VycmVudFN0YXRlLGEpLHRoaXMuY29uc3RyYWludEhhbmRsZXIuc2V0Rm9jdXMoYSx0aGlzLmN1cnJlbnRTdGF0ZSwhMSksdGhpcy5jb25zdHJhaW50SGFuZGxlci5jdXJyZW50Q29uc3RyYWludD0KYyx0aGlzLmNvbnN0cmFpbnRIYW5kbGVyLmN1cnJlbnRQb2ludD1iKTt0aGlzLm91dGxpbmVDb25uZWN0JiZudWxsIT10aGlzLm1hcmtlci5oaWdobGlnaHQmJm51bGwhPXRoaXMubWFya2VyLmhpZ2hsaWdodC5zaGFwZSYmKGM9dGhpcy5ncmFwaC52aWV3LnNjYWxlLG51bGwhPXRoaXMuY29uc3RyYWludEhhbmRsZXIuY3VycmVudENvbnN0cmFpbnQmJm51bGwhPXRoaXMuY29uc3RyYWludEhhbmRsZXIuY3VycmVudEZvY3VzPyh0aGlzLm1hcmtlci5oaWdobGlnaHQuc2hhcGUuc3Ryb2tlPW14Q29uc3RhbnRzLk9VVExJTkVfSElHSExJR0hUX0NPTE9SLHRoaXMubWFya2VyLmhpZ2hsaWdodC5zaGFwZS5zdHJva2V3aWR0aD1teENvbnN0YW50cy5PVVRMSU5FX0hJR0hMSUdIVF9TVFJPS0VXSURUSC9jL2MsdGhpcy5tYXJrZXIuaGlnaGxpZ2h0LnJlcGFpbnQoKSk6dGhpcy5tYXJrZXIuaGFzVmFsaWRTdGF0ZSgpJiYodGhpcy5ncmFwaC5pc0NlbGxDb25uZWN0YWJsZShhLmdldENlbGwoKSkmJgp0aGlzLm1hcmtlci5nZXRWYWxpZFN0YXRlKCkhPWEuZ2V0U3RhdGUoKT8odGhpcy5tYXJrZXIuaGlnaGxpZ2h0LnNoYXBlLnN0cm9rZT0idHJhbnNwYXJlbnQiLHRoaXMuY3VycmVudFN0YXRlPW51bGwpOnRoaXMubWFya2VyLmhpZ2hsaWdodC5zaGFwZS5zdHJva2U9bXhDb25zdGFudHMuREVGQVVMVF9WQUxJRF9DT0xPUix0aGlzLm1hcmtlci5oaWdobGlnaHQuc2hhcGUuc3Ryb2tld2lkdGg9bXhDb25zdGFudHMuSElHSExJR0hUX1NUUk9LRVdJRFRIL2MvYyx0aGlzLm1hcmtlci5oaWdobGlnaHQucmVwYWludCgpKSl9fTtteENvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS5pc0NlbGxFbmFibGVkPWZ1bmN0aW9uKGEpe3JldHVybiEwfTsKbXhDb25uZWN0aW9uSGFuZGxlci5wcm90b3R5cGUuY29udmVydFdheXBvaW50PWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZ3JhcGguZ2V0VmlldygpLmdldFNjYWxlKCksYz10aGlzLmdyYXBoLmdldFZpZXcoKS5nZXRUcmFuc2xhdGUoKTthLng9YS54L2ItYy54O2EueT1hLnkvYi1jLnl9OwpteENvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS5zbmFwVG9QcmV2aWV3PWZ1bmN0aW9uKGEsYil7aWYoIW14RXZlbnQuaXNBbHREb3duKGEuZ2V0RXZlbnQoKSkmJm51bGwhPXRoaXMucHJldmlvdXMpe3ZhciBjPXRoaXMuZ3JhcGguZ3JpZFNpemUqdGhpcy5ncmFwaC52aWV3LnNjYWxlLzIsZD1udWxsIT10aGlzLnNvdXJjZUNvbnN0cmFpbnQ/dGhpcy5maXJzdDpuZXcgbXhQb2ludCh0aGlzLnByZXZpb3VzLmdldENlbnRlclgoKSx0aGlzLnByZXZpb3VzLmdldENlbnRlclkoKSk7TWF0aC5hYnMoZC54LWEuZ2V0R3JhcGhYKCkpPGMmJihiLng9ZC54KTtNYXRoLmFicyhkLnktYS5nZXRHcmFwaFkoKSk8YyYmKGIueT1kLnkpfX07Cm14Q29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLm1vdXNlTW92ZT1mdW5jdGlvbihhLGIpe2lmKGIuaXNDb25zdW1lZCgpfHwhdGhpcy5pZ25vcmVNb3VzZURvd24mJm51bGw9PXRoaXMuZmlyc3QmJnRoaXMuZ3JhcGguaXNNb3VzZURvd24pdGhpcy5jb25zdHJhaW50SGFuZGxlci5yZXNldCgpO2Vsc2V7dGhpcy5pc0VuYWJsZWQoKXx8bnVsbD09dGhpcy5jdXJyZW50U3RhdGV8fCh0aGlzLmRlc3Ryb3lJY29ucygpLHRoaXMuY3VycmVudFN0YXRlPW51bGwpO3ZhciBjPXRoaXMuZ3JhcGguZ2V0VmlldygpLGQ9Yy5zY2FsZSxlPWMudHJhbnNsYXRlLGM9bmV3IG14UG9pbnQoYi5nZXRHcmFwaFgoKSxiLmdldEdyYXBoWSgpKTt0aGlzLmVycm9yPW51bGw7dGhpcy5ncmFwaC5pc0dyaWRFbmFibGVkRXZlbnQoYi5nZXRFdmVudCgpKSYmKGM9bmV3IG14UG9pbnQoKHRoaXMuZ3JhcGguc25hcChjLngvZC1lLngpK2UueCkqZCwodGhpcy5ncmFwaC5zbmFwKGMueS9kLWUueSkrZS55KSpkKSk7CnRoaXMuc25hcFRvUHJldmlldyhiLGMpO3RoaXMuY3VycmVudFBvaW50PWM7KG51bGwhPXRoaXMuZmlyc3R8fHRoaXMuaXNFbmFibGVkKCkmJnRoaXMuZ3JhcGguaXNFbmFibGVkKCkpJiYobnVsbCE9dGhpcy5zaGFwZXx8bnVsbD09dGhpcy5maXJzdHx8TWF0aC5hYnMoYi5nZXRHcmFwaFgoKS10aGlzLmZpcnN0LngpPnRoaXMuZ3JhcGgudG9sZXJhbmNlfHxNYXRoLmFicyhiLmdldEdyYXBoWSgpLXRoaXMuZmlyc3QueSk+dGhpcy5ncmFwaC50b2xlcmFuY2UpJiZ0aGlzLnVwZGF0ZUN1cnJlbnRTdGF0ZShiLGMpO2lmKG51bGwhPXRoaXMuZmlyc3Qpe3ZhciBmPW51bGwsZD1jO251bGwhPXRoaXMuY29uc3RyYWludEhhbmRsZXIuY3VycmVudENvbnN0cmFpbnQmJm51bGwhPXRoaXMuY29uc3RyYWludEhhbmRsZXIuY3VycmVudEZvY3VzJiZudWxsIT10aGlzLmNvbnN0cmFpbnRIYW5kbGVyLmN1cnJlbnRQb2ludD8oZj10aGlzLmNvbnN0cmFpbnRIYW5kbGVyLmN1cnJlbnRDb25zdHJhaW50LApkPXRoaXMuY29uc3RyYWludEhhbmRsZXIuY3VycmVudFBvaW50LmNsb25lKCkpOm51bGwhPXRoaXMucHJldmlvdXMmJiF0aGlzLmdyYXBoLmlzSWdub3JlVGVybWluYWxFdmVudChiLmdldEV2ZW50KCkpJiZteEV2ZW50LmlzU2hpZnREb3duKGIuZ2V0RXZlbnQoKSkmJihNYXRoLmFicyh0aGlzLnByZXZpb3VzLmdldENlbnRlclgoKS1jLngpPE1hdGguYWJzKHRoaXMucHJldmlvdXMuZ2V0Q2VudGVyWSgpLWMueSk/Yy54PXRoaXMucHJldmlvdXMuZ2V0Q2VudGVyWCgpOmMueT10aGlzLnByZXZpb3VzLmdldENlbnRlclkoKSk7ZT10aGlzLmZpcnN0O2lmKG51bGwhPXRoaXMuc2VsZWN0ZWRJY29uKXt2YXIgZz10aGlzLnNlbGVjdGVkSWNvbi5ib3VuZHMud2lkdGgsaz10aGlzLnNlbGVjdGVkSWNvbi5ib3VuZHMuaGVpZ2h0O251bGwhPXRoaXMuY3VycmVudFN0YXRlJiZ0aGlzLnRhcmdldENvbm5lY3RJbWFnZT8oZz10aGlzLmdldEljb25Qb3NpdGlvbih0aGlzLnNlbGVjdGVkSWNvbiwKdGhpcy5jdXJyZW50U3RhdGUpLHRoaXMuc2VsZWN0ZWRJY29uLmJvdW5kcy54PWcueCx0aGlzLnNlbGVjdGVkSWNvbi5ib3VuZHMueT1nLnkpOihnPW5ldyBteFJlY3RhbmdsZShiLmdldEdyYXBoWCgpK3RoaXMuY29ubmVjdEljb25PZmZzZXQueCxiLmdldEdyYXBoWSgpK3RoaXMuY29ubmVjdEljb25PZmZzZXQueSxnLGspLHRoaXMuc2VsZWN0ZWRJY29uLmJvdW5kcz1nKTt0aGlzLnNlbGVjdGVkSWNvbi5yZWRyYXcoKX1udWxsIT10aGlzLmVkZ2VTdGF0ZT8odGhpcy51cGRhdGVFZGdlU3RhdGUoZCxmKSxkPXRoaXMuZWRnZVN0YXRlLmFic29sdXRlUG9pbnRzW3RoaXMuZWRnZVN0YXRlLmFic29sdXRlUG9pbnRzLmxlbmd0aC0xXSxlPXRoaXMuZWRnZVN0YXRlLmFic29sdXRlUG9pbnRzWzBdKToobnVsbCE9dGhpcy5jdXJyZW50U3RhdGUmJm51bGw9PXRoaXMuY29uc3RyYWludEhhbmRsZXIuY3VycmVudENvbnN0cmFpbnQmJihnPXRoaXMuZ2V0VGFyZ2V0UGVyaW1ldGVyUG9pbnQodGhpcy5jdXJyZW50U3RhdGUsCmIpLG51bGwhPWcmJihkPWcpKSxudWxsPT10aGlzLnNvdXJjZUNvbnN0cmFpbnQmJm51bGwhPXRoaXMucHJldmlvdXMmJihnPXRoaXMuZ2V0U291cmNlUGVyaW1ldGVyUG9pbnQodGhpcy5wcmV2aW91cyxudWxsIT10aGlzLndheXBvaW50cyYmMDx0aGlzLndheXBvaW50cy5sZW5ndGg/dGhpcy53YXlwb2ludHNbMF06ZCxiKSxudWxsIT1nJiYoZT1nKSkpO2lmKG51bGw9PXRoaXMuY3VycmVudFN0YXRlJiZ0aGlzLm1vdmVQcmV2aWV3QXdheSl7Zz1lO251bGwhPXRoaXMuZWRnZVN0YXRlJiYyPD10aGlzLmVkZ2VTdGF0ZS5hYnNvbHV0ZVBvaW50cy5sZW5ndGgmJihmPXRoaXMuZWRnZVN0YXRlLmFic29sdXRlUG9pbnRzW3RoaXMuZWRnZVN0YXRlLmFic29sdXRlUG9pbnRzLmxlbmd0aC0yXSxudWxsIT1mJiYoZz1mKSk7Zj1kLngtZy54O2c9ZC55LWcueTtrPU1hdGguc3FydChmKmYrZypnKTtpZigwPT1rKXJldHVybjt0aGlzLm9yaWdpbmFsUG9pbnQ9ZC5jbG9uZSgpO2QueC09NCpmLwprO2QueS09NCpnL2t9ZWxzZSB0aGlzLm9yaWdpbmFsUG9pbnQ9bnVsbDtudWxsPT10aGlzLnNoYXBlJiYoZj1NYXRoLmFicyhiLmdldEdyYXBoWCgpLXRoaXMuZmlyc3QueCksZz1NYXRoLmFicyhiLmdldEdyYXBoWSgpLXRoaXMuZmlyc3QueSksZj50aGlzLmdyYXBoLnRvbGVyYW5jZXx8Zz50aGlzLmdyYXBoLnRvbGVyYW5jZSkmJih0aGlzLnNoYXBlPXRoaXMuY3JlYXRlU2hhcGUoKSxudWxsIT10aGlzLmVkZ2VTdGF0ZSYmdGhpcy5zaGFwZS5hcHBseSh0aGlzLmVkZ2VTdGF0ZSksdGhpcy51cGRhdGVDdXJyZW50U3RhdGUoYixjKSk7bnVsbCE9dGhpcy5zaGFwZSYmKG51bGwhPXRoaXMuZWRnZVN0YXRlP3RoaXMuc2hhcGUucG9pbnRzPXRoaXMuZWRnZVN0YXRlLmFic29sdXRlUG9pbnRzOihjPVtlXSxudWxsIT10aGlzLndheXBvaW50cyYmKGM9Yy5jb25jYXQodGhpcy53YXlwb2ludHMpKSxjLnB1c2goZCksdGhpcy5zaGFwZS5wb2ludHM9YyksdGhpcy5kcmF3UHJldmlldygpKTsKbnVsbCE9dGhpcy5jdXJzb3ImJih0aGlzLmdyYXBoLmNvbnRhaW5lci5zdHlsZS5jdXJzb3I9dGhpcy5jdXJzb3IpO214RXZlbnQuY29uc3VtZShiLmdldEV2ZW50KCkpO2IuY29uc3VtZSgpfWVsc2UgdGhpcy5pc0VuYWJsZWQoKSYmdGhpcy5ncmFwaC5pc0VuYWJsZWQoKT90aGlzLnByZXZpb3VzIT10aGlzLmN1cnJlbnRTdGF0ZSYmbnVsbD09dGhpcy5lZGdlU3RhdGU/KHRoaXMuZGVzdHJveUljb25zKCksbnVsbCE9dGhpcy5jdXJyZW50U3RhdGUmJm51bGw9PXRoaXMuZXJyb3ImJm51bGw9PXRoaXMuY29uc3RyYWludEhhbmRsZXIuY3VycmVudENvbnN0cmFpbnQmJih0aGlzLmljb25zPXRoaXMuY3JlYXRlSWNvbnModGhpcy5jdXJyZW50U3RhdGUpLG51bGw9PXRoaXMuaWNvbnMmJih0aGlzLmN1cnJlbnRTdGF0ZS5zZXRDdXJzb3IobXhDb25zdGFudHMuQ1VSU09SX0NPTk5FQ1QpLGIuY29uc3VtZSgpKSksdGhpcy5wcmV2aW91cz10aGlzLmN1cnJlbnRTdGF0ZSk6dGhpcy5wcmV2aW91cyE9CnRoaXMuY3VycmVudFN0YXRlfHxudWxsPT10aGlzLmN1cnJlbnRTdGF0ZXx8bnVsbCE9dGhpcy5pY29uc3x8dGhpcy5ncmFwaC5pc01vdXNlRG93bnx8Yi5jb25zdW1lKCk6dGhpcy5jb25zdHJhaW50SGFuZGxlci5yZXNldCgpO2lmKCF0aGlzLmdyYXBoLmlzTW91c2VEb3duJiZudWxsIT10aGlzLmN1cnJlbnRTdGF0ZSYmbnVsbCE9dGhpcy5pY29ucyl7Yz0hMTtkPWIuZ2V0U291cmNlKCk7Zm9yKGU9MDtlPHRoaXMuaWNvbnMubGVuZ3RoJiYhYztlKyspYz1kPT10aGlzLmljb25zW2VdLm5vZGV8fGQucGFyZW50Tm9kZT09dGhpcy5pY29uc1tlXS5ub2RlO2N8fHRoaXMudXBkYXRlSWNvbnModGhpcy5jdXJyZW50U3RhdGUsdGhpcy5pY29ucyxiKX19fTsKbXhDb25uZWN0aW9uSGFuZGxlci5wcm90b3R5cGUudXBkYXRlRWRnZVN0YXRlPWZ1bmN0aW9uKGEsYil7bnVsbCE9dGhpcy5zb3VyY2VDb25zdHJhaW50JiZudWxsIT10aGlzLnNvdXJjZUNvbnN0cmFpbnQucG9pbnQmJih0aGlzLmVkZ2VTdGF0ZS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9FWElUX1hdPXRoaXMuc291cmNlQ29uc3RyYWludC5wb2ludC54LHRoaXMuZWRnZVN0YXRlLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX0VYSVRfWV09dGhpcy5zb3VyY2VDb25zdHJhaW50LnBvaW50LnkpO251bGwhPWImJm51bGwhPWIucG9pbnQ/KHRoaXMuZWRnZVN0YXRlLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX0VOVFJZX1hdPWIucG9pbnQueCx0aGlzLmVkZ2VTdGF0ZS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9FTlRSWV9ZXT1iLnBvaW50LnkpOihkZWxldGUgdGhpcy5lZGdlU3RhdGUuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfRU5UUllfWF0sZGVsZXRlIHRoaXMuZWRnZVN0YXRlLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX0VOVFJZX1ldKTsKdGhpcy5lZGdlU3RhdGUuYWJzb2x1dGVQb2ludHM9W251bGwsbnVsbCE9dGhpcy5jdXJyZW50U3RhdGU/bnVsbDphXTt0aGlzLmdyYXBoLnZpZXcudXBkYXRlRml4ZWRUZXJtaW5hbFBvaW50KHRoaXMuZWRnZVN0YXRlLHRoaXMucHJldmlvdXMsITAsdGhpcy5zb3VyY2VDb25zdHJhaW50KTtudWxsIT10aGlzLmN1cnJlbnRTdGF0ZSYmKG51bGw9PWImJihiPXRoaXMuZ3JhcGguZ2V0Q29ubmVjdGlvbkNvbnN0cmFpbnQodGhpcy5lZGdlU3RhdGUsdGhpcy5wcmV2aW91cywhMSkpLHRoaXMuZWRnZVN0YXRlLnNldEFic29sdXRlVGVybWluYWxQb2ludChudWxsLCExKSx0aGlzLmdyYXBoLnZpZXcudXBkYXRlRml4ZWRUZXJtaW5hbFBvaW50KHRoaXMuZWRnZVN0YXRlLHRoaXMuY3VycmVudFN0YXRlLCExLGIpKTt2YXIgYz1udWxsO2lmKG51bGwhPXRoaXMud2F5cG9pbnRzKWZvcih2YXIgYz1bXSxkPTA7ZDx0aGlzLndheXBvaW50cy5sZW5ndGg7ZCsrKXt2YXIgZT10aGlzLndheXBvaW50c1tkXS5jbG9uZSgpOwp0aGlzLmNvbnZlcnRXYXlwb2ludChlKTtjW2RdPWV9dGhpcy5ncmFwaC52aWV3LnVwZGF0ZVBvaW50cyh0aGlzLmVkZ2VTdGF0ZSxjLHRoaXMucHJldmlvdXMsdGhpcy5jdXJyZW50U3RhdGUpO3RoaXMuZ3JhcGgudmlldy51cGRhdGVGbG9hdGluZ1Rlcm1pbmFsUG9pbnRzKHRoaXMuZWRnZVN0YXRlLHRoaXMucHJldmlvdXMsdGhpcy5jdXJyZW50U3RhdGUpfTsKbXhDb25uZWN0aW9uSGFuZGxlci5wcm90b3R5cGUuZ2V0VGFyZ2V0UGVyaW1ldGVyUG9pbnQ9ZnVuY3Rpb24oYSxiKXt2YXIgYz1udWxsLGQ9YS52aWV3LGU9ZC5nZXRQZXJpbWV0ZXJGdW5jdGlvbihhKTtpZihudWxsIT1lKXt2YXIgZj1udWxsIT10aGlzLndheXBvaW50cyYmMDx0aGlzLndheXBvaW50cy5sZW5ndGg/dGhpcy53YXlwb2ludHNbdGhpcy53YXlwb2ludHMubGVuZ3RoLTFdOm5ldyBteFBvaW50KHRoaXMucHJldmlvdXMuZ2V0Q2VudGVyWCgpLHRoaXMucHJldmlvdXMuZ2V0Q2VudGVyWSgpKSxkPWUoZC5nZXRQZXJpbWV0ZXJCb3VuZHMoYSksdGhpcy5lZGdlU3RhdGUsZiwhMSk7bnVsbCE9ZCYmKGM9ZCl9ZWxzZSBjPW5ldyBteFBvaW50KGEuZ2V0Q2VudGVyWCgpLGEuZ2V0Q2VudGVyWSgpKTtyZXR1cm4gY307Cm14Q29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLmdldFNvdXJjZVBlcmltZXRlclBvaW50PWZ1bmN0aW9uKGEsYixjKXtjPW51bGw7dmFyIGQ9YS52aWV3LGU9ZC5nZXRQZXJpbWV0ZXJGdW5jdGlvbihhKSxmPW5ldyBteFBvaW50KGEuZ2V0Q2VudGVyWCgpLGEuZ2V0Q2VudGVyWSgpKTtpZihudWxsIT1lKXt2YXIgZz1teFV0aWxzLmdldFZhbHVlKGEuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfUk9UQVRJT04sMCksaz1NYXRoLlBJLzE4MCotZzswIT1nJiYoYj1teFV0aWxzLmdldFJvdGF0ZWRQb2ludChuZXcgbXhQb2ludChiLngsYi55KSxNYXRoLmNvcyhrKSxNYXRoLnNpbihrKSxmKSk7YT1lKGQuZ2V0UGVyaW1ldGVyQm91bmRzKGEpLGEsYiwhMSk7bnVsbCE9YSYmKDAhPWcmJihhPW14VXRpbHMuZ2V0Um90YXRlZFBvaW50KG5ldyBteFBvaW50KGEueCxhLnkpLE1hdGguY29zKC1rKSxNYXRoLnNpbigtayksZikpLGM9YSl9ZWxzZSBjPWY7cmV0dXJuIGN9OwpteENvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS51cGRhdGVJY29ucz1mdW5jdGlvbihhLGIsYyl7fTtteENvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS5pc1N0b3BFdmVudD1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YS5nZXRTdGF0ZSgpfTsKbXhDb25uZWN0aW9uSGFuZGxlci5wcm90b3R5cGUuYWRkV2F5cG9pbnRGb3JFdmVudD1mdW5jdGlvbihhKXt2YXIgYj1teFV0aWxzLmNvbnZlcnRQb2ludCh0aGlzLmdyYXBoLmNvbnRhaW5lcixhLmdldFgoKSxhLmdldFkoKSksYz1NYXRoLmFicyhiLngtdGhpcy5maXJzdC54KSxiPU1hdGguYWJzKGIueS10aGlzLmZpcnN0LnkpO2lmKG51bGwhPXRoaXMud2F5cG9pbnRzfHwxPHRoaXMubW91c2VEb3duQ291bnRlciYmKGM+dGhpcy5ncmFwaC50b2xlcmFuY2V8fGI+dGhpcy5ncmFwaC50b2xlcmFuY2UpKW51bGw9PXRoaXMud2F5cG9pbnRzJiYodGhpcy53YXlwb2ludHM9W10pLGM9dGhpcy5ncmFwaC52aWV3LnNjYWxlLGI9bmV3IG14UG9pbnQodGhpcy5ncmFwaC5zbmFwKGEuZ2V0R3JhcGhYKCkvYykqYyx0aGlzLmdyYXBoLnNuYXAoYS5nZXRHcmFwaFkoKS9jKSpjKSx0aGlzLndheXBvaW50cy5wdXNoKGIpfTsKbXhDb25uZWN0aW9uSGFuZGxlci5wcm90b3R5cGUuY2hlY2tDb25zdHJhaW50cz1mdW5jdGlvbihhLGIpe3JldHVybiBudWxsPT1hfHxudWxsPT1ifHxudWxsPT1hLnBvaW50fHxudWxsPT1iLnBvaW50fHwhYS5wb2ludC5lcXVhbHMoYi5wb2ludCl8fGEuZHghPWIuZHh8fGEuZHkhPWIuZHl8fGEucGVyaW1ldGVyIT1iLnBlcmltZXRlcn07Cm14Q29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLm1vdXNlVXA9ZnVuY3Rpb24oYSxiKXtpZighYi5pc0NvbnN1bWVkKCkmJnRoaXMuaXNDb25uZWN0aW5nKCkpe2lmKHRoaXMud2F5cG9pbnRzRW5hYmxlZCYmIXRoaXMuaXNTdG9wRXZlbnQoYikpe3RoaXMuYWRkV2F5cG9pbnRGb3JFdmVudChiKTtiLmNvbnN1bWUoKTtyZXR1cm59dmFyIGM9dGhpcy5zb3VyY2VDb25zdHJhaW50LGQ9dGhpcy5jb25zdHJhaW50SGFuZGxlci5jdXJyZW50Q29uc3RyYWludCxlPW51bGwhPXRoaXMucHJldmlvdXM/dGhpcy5wcmV2aW91cy5jZWxsOm51bGwsZj1udWxsO251bGwhPXRoaXMuY29uc3RyYWludEhhbmRsZXIuY3VycmVudENvbnN0cmFpbnQmJm51bGwhPXRoaXMuY29uc3RyYWludEhhbmRsZXIuY3VycmVudEZvY3VzJiYoZj10aGlzLmNvbnN0cmFpbnRIYW5kbGVyLmN1cnJlbnRGb2N1cy5jZWxsKTtudWxsPT1mJiZudWxsIT10aGlzLmN1cnJlbnRTdGF0ZSYmKGY9dGhpcy5jdXJyZW50U3RhdGUuY2VsbCk7Cm51bGwhPXRoaXMuZXJyb3J8fG51bGwhPWUmJm51bGwhPWYmJmU9PWYmJiF0aGlzLmNoZWNrQ29uc3RyYWludHMoYyxkKT8obnVsbCE9dGhpcy5wcmV2aW91cyYmbnVsbCE9dGhpcy5tYXJrZXIudmFsaWRTdGF0ZSYmdGhpcy5wcmV2aW91cy5jZWxsPT10aGlzLm1hcmtlci52YWxpZFN0YXRlLmNlbGwmJnRoaXMuZ3JhcGguc2VsZWN0Q2VsbEZvckV2ZW50KHRoaXMubWFya2VyLnNvdXJjZSxiLmdldEV2ZW50KCkpLG51bGwhPXRoaXMuZXJyb3ImJjA8dGhpcy5lcnJvci5sZW5ndGgmJnRoaXMuZ3JhcGgudmFsaWRhdGlvbkFsZXJ0KHRoaXMuZXJyb3IpKTp0aGlzLmNvbm5lY3QoZSxmLGIuZ2V0RXZlbnQoKSxiLmdldENlbGwoKSk7dGhpcy5kZXN0cm95SWNvbnMoKTtiLmNvbnN1bWUoKX1udWxsIT10aGlzLmZpcnN0JiZ0aGlzLnJlc2V0KCl9OwpteENvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe251bGwhPXRoaXMuc2hhcGUmJih0aGlzLnNoYXBlLmRlc3Ryb3koKSx0aGlzLnNoYXBlPW51bGwpO251bGwhPXRoaXMuY3Vyc29yJiZudWxsIT10aGlzLmdyYXBoLmNvbnRhaW5lciYmKHRoaXMuZ3JhcGguY29udGFpbmVyLnN0eWxlLmN1cnNvcj0iIik7dGhpcy5kZXN0cm95SWNvbnMoKTt0aGlzLm1hcmtlci5yZXNldCgpO3RoaXMuY29uc3RyYWludEhhbmRsZXIucmVzZXQoKTt0aGlzLnNvdXJjZUNvbnN0cmFpbnQ9dGhpcy5lcnJvcj10aGlzLnByZXZpb3VzPXRoaXMuZWRnZVN0YXRlPXRoaXMuY3VycmVudFBvaW50PXRoaXMub3JpZ2luYWxQb2ludD1udWxsO3RoaXMubW91c2VEb3duQ291bnRlcj0wO3RoaXMuZmlyc3Q9bnVsbDt0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LlJFU0VUKSl9OwpteENvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS5kcmF3UHJldmlldz1mdW5jdGlvbigpe3RoaXMudXBkYXRlUHJldmlldyhudWxsPT10aGlzLmVycm9yKTt0aGlzLnNoYXBlLnJlZHJhdygpfTtteENvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS51cGRhdGVQcmV2aWV3PWZ1bmN0aW9uKGEpe3RoaXMuc2hhcGUuc3Ryb2tld2lkdGg9dGhpcy5nZXRFZGdlV2lkdGgoYSk7dGhpcy5zaGFwZS5zdHJva2U9dGhpcy5nZXRFZGdlQ29sb3IoYSl9O214Q29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLmdldEVkZ2VDb2xvcj1mdW5jdGlvbihhKXtyZXR1cm4gYT9teENvbnN0YW50cy5WQUxJRF9DT0xPUjpteENvbnN0YW50cy5JTlZBTElEX0NPTE9SfTtteENvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS5nZXRFZGdlV2lkdGg9ZnVuY3Rpb24oYSl7cmV0dXJuIGE/MzoxfTsKbXhDb25uZWN0aW9uSGFuZGxlci5wcm90b3R5cGUuY29ubmVjdD1mdW5jdGlvbihhLGIsYyxkKXtpZihudWxsIT1ifHx0aGlzLmlzQ3JlYXRlVGFyZ2V0KGMpfHx0aGlzLmdyYXBoLmFsbG93RGFuZ2xpbmdFZGdlcyl7dmFyIGU9dGhpcy5ncmFwaC5nZXRNb2RlbCgpLGY9ITEsZz1udWxsO2UuYmVnaW5VcGRhdGUoKTt0cnl7aWYobnVsbCE9YSYmbnVsbD09YiYmIXRoaXMuZ3JhcGguaXNJZ25vcmVUZXJtaW5hbEV2ZW50KGMpJiZ0aGlzLmlzQ3JlYXRlVGFyZ2V0KGMpJiYoYj10aGlzLmNyZWF0ZVRhcmdldFZlcnRleChjLGEpLG51bGwhPWIpKXtkPXRoaXMuZ3JhcGguZ2V0RHJvcFRhcmdldChbYl0sYyxkKTtmPSEwO2lmKG51bGwhPWQmJnRoaXMuZ3JhcGguZ2V0TW9kZWwoKS5pc0VkZ2UoZCkpZD10aGlzLmdyYXBoLmdldERlZmF1bHRQYXJlbnQoKTtlbHNle3ZhciBrPXRoaXMuZ3JhcGguZ2V0VmlldygpLmdldFN0YXRlKGQpO2lmKG51bGwhPWspe3ZhciBsPWUuZ2V0R2VvbWV0cnkoYik7CmwueC09ay5vcmlnaW4ueDtsLnktPWsub3JpZ2luLnl9fXRoaXMuZ3JhcGguYWRkQ2VsbChiLGQpfXZhciBtPXRoaXMuZ3JhcGguZ2V0RGVmYXVsdFBhcmVudCgpO251bGwhPWEmJm51bGwhPWImJmUuZ2V0UGFyZW50KGEpPT1lLmdldFBhcmVudChiKSYmZS5nZXRQYXJlbnQoZS5nZXRQYXJlbnQoYSkpIT1lLmdldFJvb3QoKSYmKG09ZS5nZXRQYXJlbnQoYSksbnVsbCE9YS5nZW9tZXRyeSYmYS5nZW9tZXRyeS5yZWxhdGl2ZSYmbnVsbCE9Yi5nZW9tZXRyeSYmYi5nZW9tZXRyeS5yZWxhdGl2ZSYmKG09ZS5nZXRQYXJlbnQobSkpKTt2YXIgbj1rPW51bGw7bnVsbCE9dGhpcy5lZGdlU3RhdGUmJihrPXRoaXMuZWRnZVN0YXRlLmNlbGwudmFsdWUsbj10aGlzLmVkZ2VTdGF0ZS5jZWxsLnN0eWxlKTtnPXRoaXMuaW5zZXJ0RWRnZShtLG51bGwsayxhLGIsbik7aWYobnVsbCE9Zyl7dGhpcy5ncmFwaC5zZXRDb25uZWN0aW9uQ29uc3RyYWludChnLGEsITAsdGhpcy5zb3VyY2VDb25zdHJhaW50KTsKdGhpcy5ncmFwaC5zZXRDb25uZWN0aW9uQ29uc3RyYWludChnLGIsITEsdGhpcy5jb25zdHJhaW50SGFuZGxlci5jdXJyZW50Q29uc3RyYWludCk7bnVsbCE9dGhpcy5lZGdlU3RhdGUmJmUuc2V0R2VvbWV0cnkoZyx0aGlzLmVkZ2VTdGF0ZS5jZWxsLmdlb21ldHJ5KTttPWUuZ2V0UGFyZW50KGEpO2lmKHRoaXMuaXNJbnNlcnRCZWZvcmUoZyxhLGIsYyxkKSl7Zm9yKGw9YTtudWxsIT1sLnBhcmVudCYmbnVsbCE9bC5nZW9tZXRyeSYmbC5nZW9tZXRyeS5yZWxhdGl2ZSYmbC5wYXJlbnQhPWcucGFyZW50OylsPXRoaXMuZ3JhcGgubW9kZWwuZ2V0UGFyZW50KGwpO251bGwhPWwmJm51bGwhPWwucGFyZW50JiZsLnBhcmVudD09Zy5wYXJlbnQmJmUuYWRkKG0sZyxsLnBhcmVudC5nZXRJbmRleChsKSl9dmFyIHA9ZS5nZXRHZW9tZXRyeShnKTtudWxsPT1wJiYocD1uZXcgbXhHZW9tZXRyeSxwLnJlbGF0aXZlPSEwLGUuc2V0R2VvbWV0cnkoZyxwKSk7aWYobnVsbCE9dGhpcy53YXlwb2ludHMmJgowPHRoaXMud2F5cG9pbnRzLmxlbmd0aCl7dmFyIHE9dGhpcy5ncmFwaC52aWV3LnNjYWxlLHI9dGhpcy5ncmFwaC52aWV3LnRyYW5zbGF0ZTtwLnBvaW50cz1bXTtmb3IoYT0wO2E8dGhpcy53YXlwb2ludHMubGVuZ3RoO2ErKyl7dmFyIHQ9dGhpcy53YXlwb2ludHNbYV07cC5wb2ludHMucHVzaChuZXcgbXhQb2ludCh0LngvcS1yLngsdC55L3Etci55KSl9fWlmKG51bGw9PWIpe3ZhciB1PXRoaXMuZ3JhcGgudmlldy50cmFuc2xhdGUscT10aGlzLmdyYXBoLnZpZXcuc2NhbGUsdD1udWxsIT10aGlzLm9yaWdpbmFsUG9pbnQ/bmV3IG14UG9pbnQodGhpcy5vcmlnaW5hbFBvaW50LngvcS11LngsdGhpcy5vcmlnaW5hbFBvaW50LnkvcS11LnkpOm5ldyBteFBvaW50KHRoaXMuY3VycmVudFBvaW50LngvcS11LngsdGhpcy5jdXJyZW50UG9pbnQueS9xLXUueSk7dC54LT10aGlzLmdyYXBoLnBhbkR4L3RoaXMuZ3JhcGgudmlldy5zY2FsZTt0LnktPXRoaXMuZ3JhcGgucGFuRHkvdGhpcy5ncmFwaC52aWV3LnNjYWxlOwpwLnNldFRlcm1pbmFsUG9pbnQodCwhMSl9dGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5DT05ORUNULCJjZWxsIixnLCJ0ZXJtaW5hbCIsYiwiZXZlbnQiLGMsInRhcmdldCIsZCwidGVybWluYWxJbnNlcnRlZCIsZikpfX1jYXRjaCh4KXtteExvZy5zaG93KCksbXhMb2cuZGVidWcoeC5tZXNzYWdlKX1maW5hbGx5e2UuZW5kVXBkYXRlKCl9dGhpcy5zZWxlY3QmJnRoaXMuc2VsZWN0Q2VsbHMoZyxmP2I6bnVsbCl9fTtteENvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS5zZWxlY3RDZWxscz1mdW5jdGlvbihhLGIpe3RoaXMuZ3JhcGguc2V0U2VsZWN0aW9uQ2VsbChhKX07Cm14Q29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLmluc2VydEVkZ2U9ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe2lmKG51bGw9PXRoaXMuZmFjdG9yeU1ldGhvZClyZXR1cm4gdGhpcy5ncmFwaC5pbnNlcnRFZGdlKGEsYixjLGQsZSxmKTtiPXRoaXMuY3JlYXRlRWRnZShjLGQsZSxmKTtyZXR1cm4gdGhpcy5ncmFwaC5hZGRFZGdlKGIsYSxkLGUpfTsKbXhDb25uZWN0aW9uSGFuZGxlci5wcm90b3R5cGUuY3JlYXRlVGFyZ2V0VmVydGV4PWZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPXRoaXMuZ3JhcGguZ2V0Q2VsbEdlb21ldHJ5KGIpO251bGwhPWMmJmMucmVsYXRpdmU7KWI9dGhpcy5ncmFwaC5nZXRNb2RlbCgpLmdldFBhcmVudChiKSxjPXRoaXMuZ3JhcGguZ2V0Q2VsbEdlb21ldHJ5KGIpO3ZhciBkPXRoaXMuZ3JhcGguY2xvbmVDZWxsKGIpLGM9dGhpcy5ncmFwaC5nZXRNb2RlbCgpLmdldEdlb21ldHJ5KGQpO2lmKG51bGwhPWMpe3ZhciBlPXRoaXMuZ3JhcGgudmlldy50cmFuc2xhdGUsZj10aGlzLmdyYXBoLnZpZXcuc2NhbGUsZz1uZXcgbXhQb2ludCh0aGlzLmN1cnJlbnRQb2ludC54L2YtZS54LHRoaXMuY3VycmVudFBvaW50LnkvZi1lLnkpO2MueD1NYXRoLnJvdW5kKGcueC1jLndpZHRoLzItdGhpcy5ncmFwaC5wYW5EeC9mKTtjLnk9TWF0aC5yb3VuZChnLnktYy5oZWlnaHQvMi10aGlzLmdyYXBoLnBhbkR5L2YpO2c9dGhpcy5nZXRBbGlnbm1lbnRUb2xlcmFuY2UoKTsKaWYoMDxnKXt2YXIgaz10aGlzLmdyYXBoLnZpZXcuZ2V0U3RhdGUoYik7aWYobnVsbCE9ayl7dmFyIGw9ay54L2YtZS54LGU9ay55L2YtZS55O01hdGguYWJzKGwtYy54KTw9ZyYmKGMueD1NYXRoLnJvdW5kKGwpKTtNYXRoLmFicyhlLWMueSk8PWcmJihjLnk9TWF0aC5yb3VuZChlKSl9fX1yZXR1cm4gZH07bXhDb25uZWN0aW9uSGFuZGxlci5wcm90b3R5cGUuZ2V0QWxpZ25tZW50VG9sZXJhbmNlPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmdyYXBoLmlzR3JpZEVuYWJsZWQoKT90aGlzLmdyYXBoLmdyaWRTaXplLzI6dGhpcy5ncmFwaC50b2xlcmFuY2V9OwpteENvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS5jcmVhdGVFZGdlPWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPW51bGw7bnVsbCE9dGhpcy5mYWN0b3J5TWV0aG9kJiYoZT10aGlzLmZhY3RvcnlNZXRob2QoYixjLGQpKTtudWxsPT1lJiYoZT1uZXcgbXhDZWxsKGF8fCIiKSxlLnNldEVkZ2UoITApLGUuc2V0U3R5bGUoZCksYT1uZXcgbXhHZW9tZXRyeSxhLnJlbGF0aXZlPSEwLGUuc2V0R2VvbWV0cnkoYSkpO3JldHVybiBlfTsKbXhDb25uZWN0aW9uSGFuZGxlci5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuZ3JhcGgucmVtb3ZlTW91c2VMaXN0ZW5lcih0aGlzKTtudWxsIT10aGlzLnNoYXBlJiYodGhpcy5zaGFwZS5kZXN0cm95KCksdGhpcy5zaGFwZT1udWxsKTtudWxsIT10aGlzLm1hcmtlciYmKHRoaXMubWFya2VyLmRlc3Ryb3koKSx0aGlzLm1hcmtlcj1udWxsKTtudWxsIT10aGlzLmNvbnN0cmFpbnRIYW5kbGVyJiYodGhpcy5jb25zdHJhaW50SGFuZGxlci5kZXN0cm95KCksdGhpcy5jb25zdHJhaW50SGFuZGxlcj1udWxsKTtudWxsIT10aGlzLmNoYW5nZUhhbmRsZXImJih0aGlzLmdyYXBoLmdldE1vZGVsKCkucmVtb3ZlTGlzdGVuZXIodGhpcy5jaGFuZ2VIYW5kbGVyKSx0aGlzLmdyYXBoLmdldFZpZXcoKS5yZW1vdmVMaXN0ZW5lcih0aGlzLmNoYW5nZUhhbmRsZXIpLHRoaXMuY2hhbmdlSGFuZGxlcj1udWxsKTtudWxsIT10aGlzLmRyaWxsSGFuZGxlciYmKHRoaXMuZ3JhcGgucmVtb3ZlTGlzdGVuZXIodGhpcy5kcmlsbEhhbmRsZXIpLAp0aGlzLmdyYXBoLmdldFZpZXcoKS5yZW1vdmVMaXN0ZW5lcih0aGlzLmRyaWxsSGFuZGxlciksdGhpcy5kcmlsbEhhbmRsZXI9bnVsbCk7bnVsbCE9dGhpcy5lc2NhcGVIYW5kbGVyJiYodGhpcy5ncmFwaC5yZW1vdmVMaXN0ZW5lcih0aGlzLmVzY2FwZUhhbmRsZXIpLHRoaXMuZXNjYXBlSGFuZGxlcj1udWxsKX07CmZ1bmN0aW9uIG14Q29uc3RyYWludEhhbmRsZXIoYSl7dGhpcy5ncmFwaD1hO3RoaXMucmVzZXRIYW5kbGVyPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEsYyl7bnVsbCE9dGhpcy5jdXJyZW50Rm9jdXMmJm51bGw9PXRoaXMuZ3JhcGgudmlldy5nZXRTdGF0ZSh0aGlzLmN1cnJlbnRGb2N1cy5jZWxsKT90aGlzLnJlc2V0KCk6dGhpcy5yZWRyYXcoKX0pO3RoaXMuZ3JhcGgubW9kZWwuYWRkTGlzdGVuZXIobXhFdmVudC5DSEFOR0UsdGhpcy5yZXNldEhhbmRsZXIpO3RoaXMuZ3JhcGgudmlldy5hZGRMaXN0ZW5lcihteEV2ZW50LlNDQUxFX0FORF9UUkFOU0xBVEUsdGhpcy5yZXNldEhhbmRsZXIpO3RoaXMuZ3JhcGgudmlldy5hZGRMaXN0ZW5lcihteEV2ZW50LlRSQU5TTEFURSx0aGlzLnJlc2V0SGFuZGxlcik7dGhpcy5ncmFwaC52aWV3LmFkZExpc3RlbmVyKG14RXZlbnQuU0NBTEUsdGhpcy5yZXNldEhhbmRsZXIpO3RoaXMuZ3JhcGguYWRkTGlzdGVuZXIobXhFdmVudC5ST09ULAp0aGlzLnJlc2V0SGFuZGxlcil9bXhDb25zdHJhaW50SGFuZGxlci5wcm90b3R5cGUucG9pbnRJbWFnZT1uZXcgbXhJbWFnZShteENsaWVudC5pbWFnZUJhc2VQYXRoKyIvcG9pbnQuZ2lmIiw1LDUpO214Q29uc3RyYWludEhhbmRsZXIucHJvdG90eXBlLmdyYXBoPW51bGw7bXhDb25zdHJhaW50SGFuZGxlci5wcm90b3R5cGUuZW5hYmxlZD0hMDtteENvbnN0cmFpbnRIYW5kbGVyLnByb3RvdHlwZS5oaWdobGlnaHRDb2xvcj1teENvbnN0YW50cy5ERUZBVUxUX1ZBTElEX0NPTE9SO214Q29uc3RyYWludEhhbmRsZXIucHJvdG90eXBlLmlzRW5hYmxlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVuYWJsZWR9O214Q29uc3RyYWludEhhbmRsZXIucHJvdG90eXBlLnNldEVuYWJsZWQ9ZnVuY3Rpb24oYSl7dGhpcy5lbmFibGVkPWF9OwpteENvbnN0cmFpbnRIYW5kbGVyLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe2lmKG51bGwhPXRoaXMuZm9jdXNJY29ucyl7Zm9yKHZhciBhPTA7YTx0aGlzLmZvY3VzSWNvbnMubGVuZ3RoO2ErKyl0aGlzLmZvY3VzSWNvbnNbYV0uZGVzdHJveSgpO3RoaXMuZm9jdXNJY29ucz1udWxsfW51bGwhPXRoaXMuZm9jdXNIaWdobGlnaHQmJih0aGlzLmZvY3VzSGlnaGxpZ2h0LmRlc3Ryb3koKSx0aGlzLmZvY3VzSGlnaGxpZ2h0PW51bGwpO3RoaXMuZm9jdXNQb2ludHM9dGhpcy5jdXJyZW50Rm9jdXM9dGhpcy5jdXJyZW50UG9pbnQ9dGhpcy5jdXJyZW50Rm9jdXNBcmVhPXRoaXMuY3VycmVudENvbnN0cmFpbnQ9bnVsbH07bXhDb25zdHJhaW50SGFuZGxlci5wcm90b3R5cGUuZ2V0VG9sZXJhbmNlPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmdyYXBoLmdldFRvbGVyYW5jZSgpfTsKbXhDb25zdHJhaW50SGFuZGxlci5wcm90b3R5cGUuZ2V0SW1hZ2VGb3JDb25zdHJhaW50PWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gdGhpcy5wb2ludEltYWdlfTtteENvbnN0cmFpbnRIYW5kbGVyLnByb3RvdHlwZS5pc0V2ZW50SWdub3JlZD1mdW5jdGlvbihhLGIpe3JldHVybiExfTtteENvbnN0cmFpbnRIYW5kbGVyLnByb3RvdHlwZS5pc1N0YXRlSWdub3JlZD1mdW5jdGlvbihhLGIpe3JldHVybiExfTtteENvbnN0cmFpbnRIYW5kbGVyLnByb3RvdHlwZS5kZXN0cm95SWNvbnM9ZnVuY3Rpb24oKXtpZihudWxsIT10aGlzLmZvY3VzSWNvbnMpe2Zvcih2YXIgYT0wO2E8dGhpcy5mb2N1c0ljb25zLmxlbmd0aDthKyspdGhpcy5mb2N1c0ljb25zW2FdLmRlc3Ryb3koKTt0aGlzLmZvY3VzUG9pbnRzPXRoaXMuZm9jdXNJY29ucz1udWxsfX07Cm14Q29uc3RyYWludEhhbmRsZXIucHJvdG90eXBlLmRlc3Ryb3lGb2N1c0hpZ2hsaWdodD1mdW5jdGlvbigpe251bGwhPXRoaXMuZm9jdXNIaWdobGlnaHQmJih0aGlzLmZvY3VzSGlnaGxpZ2h0LmRlc3Ryb3koKSx0aGlzLmZvY3VzSGlnaGxpZ2h0PW51bGwpfTtteENvbnN0cmFpbnRIYW5kbGVyLnByb3RvdHlwZS5pc0tlZXBGb2N1c0V2ZW50PWZ1bmN0aW9uKGEpe3JldHVybiBteEV2ZW50LmlzU2hpZnREb3duKGEuZ2V0RXZlbnQoKSl9OwpteENvbnN0cmFpbnRIYW5kbGVyLnByb3RvdHlwZS5nZXRDZWxsRm9yRXZlbnQ9ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLmdldENlbGwoKTtudWxsIT1jfHxudWxsPT1ifHxhLmdldEdyYXBoWCgpPT1iLngmJmEuZ2V0R3JhcGhZKCk9PWIueXx8KGM9dGhpcy5ncmFwaC5nZXRDZWxsQXQoYi54LGIueSkpO2lmKG51bGwhPWMmJiF0aGlzLmdyYXBoLmlzQ2VsbENvbm5lY3RhYmxlKGMpKXt2YXIgZD10aGlzLmdyYXBoLmdldE1vZGVsKCkuZ2V0UGFyZW50KGMpO3RoaXMuZ3JhcGguZ2V0TW9kZWwoKS5pc1ZlcnRleChkKSYmdGhpcy5ncmFwaC5pc0NlbGxDb25uZWN0YWJsZShkKSYmKGM9ZCl9cmV0dXJuIHRoaXMuZ3JhcGguaXNDZWxsTG9ja2VkKGMpP251bGw6Y307Cm14Q29uc3RyYWludEhhbmRsZXIucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbihhLGIsYyxkKXtpZih0aGlzLmlzRW5hYmxlZCgpJiYhdGhpcy5pc0V2ZW50SWdub3JlZChhKSl7bnVsbD09dGhpcy5tb3VzZWxlYXZlSGFuZGxlciYmbnVsbCE9dGhpcy5ncmFwaC5jb250YWluZXImJih0aGlzLm1vdXNlbGVhdmVIYW5kbGVyPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dGhpcy5yZXNldCgpfSksbXhFdmVudC5hZGRMaXN0ZW5lcih0aGlzLmdyYXBoLmNvbnRhaW5lciwibW91c2VsZWF2ZSIsdGhpcy5yZXNldEhhbmRsZXIpKTt2YXIgZT10aGlzLmdldFRvbGVyYW5jZShhKSxmPW51bGwhPWQ/ZC54OmEuZ2V0R3JhcGhYKCksZz1udWxsIT1kP2QueTphLmdldEdyYXBoWSgpLGY9bmV3IG14UmVjdGFuZ2xlKGYtZSxnLWUsMiplLDIqZSksZT1uZXcgbXhSZWN0YW5nbGUoYS5nZXRHcmFwaFgoKS1lLGEuZ2V0R3JhcGhZKCktZSwyKmUsMiplKSxrPXRoaXMuZ3JhcGgudmlldy5nZXRTdGF0ZSh0aGlzLmdldENlbGxGb3JFdmVudChhLApkKSk7dGhpcy5pc0tlZXBGb2N1c0V2ZW50KGEpfHxudWxsIT10aGlzLmN1cnJlbnRGb2N1c0FyZWEmJm51bGwhPXRoaXMuY3VycmVudEZvY3VzJiZudWxsPT1rJiZ0aGlzLmdyYXBoLmdldE1vZGVsKCkuaXNWZXJ0ZXgodGhpcy5jdXJyZW50Rm9jdXMuY2VsbCkmJm14VXRpbHMuaW50ZXJzZWN0cyh0aGlzLmN1cnJlbnRGb2N1c0FyZWEsZSl8fGs9PXRoaXMuY3VycmVudEZvY3VzfHwodGhpcy5jdXJyZW50Rm9jdXM9dGhpcy5jdXJyZW50Rm9jdXNBcmVhPW51bGwsdGhpcy5zZXRGb2N1cyhhLGssYikpO2E9dGhpcy5jdXJyZW50UG9pbnQ9dGhpcy5jdXJyZW50Q29uc3RyYWludD1udWxsO2lmKG51bGwhPXRoaXMuZm9jdXNJY29ucyYmbnVsbCE9dGhpcy5jb25zdHJhaW50cyYmKG51bGw9PWt8fHRoaXMuY3VycmVudEZvY3VzPT1rKSlmb3IodmFyIGc9ZS5nZXRDZW50ZXJYKCksbD1lLmdldENlbnRlclkoKSxtPTA7bTx0aGlzLmZvY3VzSWNvbnMubGVuZ3RoO20rKyl7dmFyIG49Zy10aGlzLmZvY3VzSWNvbnNbbV0uYm91bmRzLmdldENlbnRlclgoKSwKcD1sLXRoaXMuZm9jdXNJY29uc1ttXS5ib3VuZHMuZ2V0Q2VudGVyWSgpLG49bipuK3AqcDtpZigodGhpcy5pbnRlcnNlY3RzKHRoaXMuZm9jdXNJY29uc1ttXSxlLGIsYyl8fG51bGwhPWQmJnRoaXMuaW50ZXJzZWN0cyh0aGlzLmZvY3VzSWNvbnNbbV0sZixiLGMpKSYmKG51bGw9PWF8fG48YSkpe3RoaXMuY3VycmVudENvbnN0cmFpbnQ9dGhpcy5jb25zdHJhaW50c1ttXTt0aGlzLmN1cnJlbnRQb2ludD10aGlzLmZvY3VzUG9pbnRzW21dO2E9bjtuPXRoaXMuZm9jdXNJY29uc1ttXS5ib3VuZHMuY2xvbmUoKTtuLmdyb3cobXhDb25zdGFudHMuSElHSExJR0hUX1NJWkUrMSk7LS1uLndpZHRoOy0tbi5oZWlnaHQ7aWYobnVsbD09dGhpcy5mb2N1c0hpZ2hsaWdodCl7cD10aGlzLmNyZWF0ZUhpZ2hsaWdodFNoYXBlKCk7cC5kaWFsZWN0PXRoaXMuZ3JhcGguZGlhbGVjdD09bXhDb25zdGFudHMuRElBTEVDVF9TVkc/bXhDb25zdGFudHMuRElBTEVDVF9TVkc6bXhDb25zdGFudHMuRElBTEVDVF9WTUw7CnAucG9pbnRlckV2ZW50cz0hMTtwLmluaXQodGhpcy5ncmFwaC5nZXRWaWV3KCkuZ2V0T3ZlcmxheVBhbmUoKSk7dGhpcy5mb2N1c0hpZ2hsaWdodD1wO3ZhciBxPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPXRoaXMuY3VycmVudEZvY3VzP3RoaXMuY3VycmVudEZvY3VzOmt9KTtteEV2ZW50LnJlZGlyZWN0TW91c2VFdmVudHMocC5ub2RlLHRoaXMuZ3JhcGgscSl9dGhpcy5mb2N1c0hpZ2hsaWdodC5ib3VuZHM9bjt0aGlzLmZvY3VzSGlnaGxpZ2h0LnJlZHJhdygpfX1udWxsPT10aGlzLmN1cnJlbnRDb25zdHJhaW50JiZ0aGlzLmRlc3Ryb3lGb2N1c0hpZ2hsaWdodCgpfWVsc2UgdGhpcy5jdXJyZW50UG9pbnQ9dGhpcy5jdXJyZW50Rm9jdXM9dGhpcy5jdXJyZW50Q29uc3RyYWludD1udWxsfTsKbXhDb25zdHJhaW50SGFuZGxlci5wcm90b3R5cGUucmVkcmF3PWZ1bmN0aW9uKCl7aWYobnVsbCE9dGhpcy5jdXJyZW50Rm9jdXMmJm51bGwhPXRoaXMuY29uc3RyYWludHMmJm51bGwhPXRoaXMuZm9jdXNJY29ucyl7dmFyIGE9dGhpcy5ncmFwaC52aWV3LmdldFN0YXRlKHRoaXMuY3VycmVudEZvY3VzLmNlbGwpO3RoaXMuY3VycmVudEZvY3VzPWE7dGhpcy5jdXJyZW50Rm9jdXNBcmVhPW5ldyBteFJlY3RhbmdsZShhLngsYS55LGEud2lkdGgsYS5oZWlnaHQpO2Zvcih2YXIgYj0wO2I8dGhpcy5jb25zdHJhaW50cy5sZW5ndGg7YisrKXt2YXIgYz10aGlzLmdyYXBoLmdldENvbm5lY3Rpb25Qb2ludChhLHRoaXMuY29uc3RyYWludHNbYl0pLGQ9dGhpcy5nZXRJbWFnZUZvckNvbnN0cmFpbnQoYSx0aGlzLmNvbnN0cmFpbnRzW2JdLGMpLGQ9bmV3IG14UmVjdGFuZ2xlKE1hdGgucm91bmQoYy54LWQud2lkdGgvMiksTWF0aC5yb3VuZChjLnktZC5oZWlnaHQvMiksZC53aWR0aCxkLmhlaWdodCk7CnRoaXMuZm9jdXNJY29uc1tiXS5ib3VuZHM9ZDt0aGlzLmZvY3VzSWNvbnNbYl0ucmVkcmF3KCk7dGhpcy5jdXJyZW50Rm9jdXNBcmVhLmFkZCh0aGlzLmZvY3VzSWNvbnNbYl0uYm91bmRzKTt0aGlzLmZvY3VzUG9pbnRzW2JdPWN9fX07Cm14Q29uc3RyYWludEhhbmRsZXIucHJvdG90eXBlLnNldEZvY3VzPWZ1bmN0aW9uKGEsYixjKXt0aGlzLmNvbnN0cmFpbnRzPW51bGwhPWImJiF0aGlzLmlzU3RhdGVJZ25vcmVkKGIsYykmJnRoaXMuZ3JhcGguaXNDZWxsQ29ubmVjdGFibGUoYi5jZWxsKT90aGlzLmlzRW5hYmxlZCgpP3RoaXMuZ3JhcGguZ2V0QWxsQ29ubmVjdGlvbkNvbnN0cmFpbnRzKGIsYyl8fFtdOltdOm51bGw7aWYobnVsbCE9dGhpcy5jb25zdHJhaW50cyl7dGhpcy5jdXJyZW50Rm9jdXM9Yjt0aGlzLmN1cnJlbnRGb2N1c0FyZWE9bmV3IG14UmVjdGFuZ2xlKGIueCxiLnksYi53aWR0aCxiLmhlaWdodCk7aWYobnVsbCE9dGhpcy5mb2N1c0ljb25zKXtmb3IoYz0wO2M8dGhpcy5mb2N1c0ljb25zLmxlbmd0aDtjKyspdGhpcy5mb2N1c0ljb25zW2NdLmRlc3Ryb3koKTt0aGlzLmZvY3VzUG9pbnRzPXRoaXMuZm9jdXNJY29ucz1udWxsfXRoaXMuZm9jdXNQb2ludHM9W107dGhpcy5mb2N1c0ljb25zPVtdO2ZvcihjPQowO2M8dGhpcy5jb25zdHJhaW50cy5sZW5ndGg7YysrKXt2YXIgZD10aGlzLmdyYXBoLmdldENvbm5lY3Rpb25Qb2ludChiLHRoaXMuY29uc3RyYWludHNbY10pLGU9dGhpcy5nZXRJbWFnZUZvckNvbnN0cmFpbnQoYix0aGlzLmNvbnN0cmFpbnRzW2NdLGQpLGY9ZS5zcmMsZT1uZXcgbXhSZWN0YW5nbGUoTWF0aC5yb3VuZChkLngtZS53aWR0aC8yKSxNYXRoLnJvdW5kKGQueS1lLmhlaWdodC8yKSxlLndpZHRoLGUuaGVpZ2h0KSxmPW5ldyBteEltYWdlU2hhcGUoZSxmKTtmLmRpYWxlY3Q9dGhpcy5ncmFwaC5kaWFsZWN0IT1teENvbnN0YW50cy5ESUFMRUNUX1NWRz9teENvbnN0YW50cy5ESUFMRUNUX01JWEVESFRNTDpteENvbnN0YW50cy5ESUFMRUNUX1NWRztmLnByZXNlcnZlSW1hZ2VBc3BlY3Q9ITE7Zi5pbml0KHRoaXMuZ3JhcGguZ2V0VmlldygpLmdldERlY29yYXRvclBhbmUoKSk7KG14Q2xpZW50LklTX1FVSVJLU3x8OD09ZG9jdW1lbnQuZG9jdW1lbnRNb2RlKSYmbXhFdmVudC5hZGRMaXN0ZW5lcihmLm5vZGUsCiJkcmFnc3RhcnQiLGZ1bmN0aW9uKGEpe214RXZlbnQuY29uc3VtZShhKTtyZXR1cm4hMX0pO251bGwhPWYubm9kZS5wcmV2aW91c1NpYmxpbmcmJmYubm9kZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShmLm5vZGUsZi5ub2RlLnBhcmVudE5vZGUuZmlyc3RDaGlsZCk7ZT1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3JldHVybiBudWxsIT10aGlzLmN1cnJlbnRGb2N1cz90aGlzLmN1cnJlbnRGb2N1czpifSk7Zi5yZWRyYXcoKTtteEV2ZW50LnJlZGlyZWN0TW91c2VFdmVudHMoZi5ub2RlLHRoaXMuZ3JhcGgsZSk7dGhpcy5jdXJyZW50Rm9jdXNBcmVhLmFkZChmLmJvdW5kcyk7dGhpcy5mb2N1c0ljb25zLnB1c2goZik7dGhpcy5mb2N1c1BvaW50cy5wdXNoKGQpfXRoaXMuY3VycmVudEZvY3VzQXJlYS5ncm93KHRoaXMuZ2V0VG9sZXJhbmNlKGEpKX1lbHNlIHRoaXMuZGVzdHJveUljb25zKCksdGhpcy5kZXN0cm95Rm9jdXNIaWdobGlnaHQoKX07Cm14Q29uc3RyYWludEhhbmRsZXIucHJvdG90eXBlLmNyZWF0ZUhpZ2hsaWdodFNoYXBlPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IG14UmVjdGFuZ2xlU2hhcGUobnVsbCx0aGlzLmhpZ2hsaWdodENvbG9yLHRoaXMuaGlnaGxpZ2h0Q29sb3IsbXhDb25zdGFudHMuSElHSExJR0hUX1NUUk9LRVdJRFRIKTthLm9wYWNpdHk9bXhDb25zdGFudHMuSElHSExJR0hUX09QQUNJVFk7cmV0dXJuIGF9O214Q29uc3RyYWludEhhbmRsZXIucHJvdG90eXBlLmludGVyc2VjdHM9ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuIG14VXRpbHMuaW50ZXJzZWN0cyhhLmJvdW5kcyxiKX07Cm14Q29uc3RyYWludEhhbmRsZXIucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLnJlc2V0KCk7bnVsbCE9dGhpcy5yZXNldEhhbmRsZXImJih0aGlzLmdyYXBoLm1vZGVsLnJlbW92ZUxpc3RlbmVyKHRoaXMucmVzZXRIYW5kbGVyKSx0aGlzLmdyYXBoLnZpZXcucmVtb3ZlTGlzdGVuZXIodGhpcy5yZXNldEhhbmRsZXIpLHRoaXMuZ3JhcGgucmVtb3ZlTGlzdGVuZXIodGhpcy5yZXNldEhhbmRsZXIpLHRoaXMucmVzZXRIYW5kbGVyPW51bGwpO251bGwhPXRoaXMubW91c2VsZWF2ZUhhbmRsZXImJm51bGwhPXRoaXMuZ3JhcGguY29udGFpbmVyJiYobXhFdmVudC5yZW1vdmVMaXN0ZW5lcih0aGlzLmdyYXBoLmNvbnRhaW5lciwibW91c2VsZWF2ZSIsdGhpcy5tb3VzZWxlYXZlSGFuZGxlciksdGhpcy5tb3VzZWxlYXZlSGFuZGxlcj1udWxsKX07CmZ1bmN0aW9uIG14UnViYmVyYmFuZChhKXtudWxsIT1hJiYodGhpcy5ncmFwaD1hLHRoaXMuZ3JhcGguYWRkTW91c2VMaXN0ZW5lcih0aGlzKSx0aGlzLmZvcmNlUnViYmVyYmFuZEhhbmRsZXI9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSxjKXt2YXIgYj1jLmdldFByb3BlcnR5KCJldmVudE5hbWUiKSxlPWMuZ2V0UHJvcGVydHkoImV2ZW50Iik7aWYoYj09bXhFdmVudC5NT1VTRV9ET1dOJiZ0aGlzLmlzRm9yY2VSdWJiZXJiYW5kRXZlbnQoZSkpe3ZhciBiPW14VXRpbHMuZ2V0T2Zmc2V0KHRoaXMuZ3JhcGguY29udGFpbmVyKSxmPW14VXRpbHMuZ2V0U2Nyb2xsT3JpZ2luKHRoaXMuZ3JhcGguY29udGFpbmVyKTtmLngtPWIueDtmLnktPWIueTt0aGlzLnN0YXJ0KGUuZ2V0WCgpK2YueCxlLmdldFkoKStmLnkpO2UuY29uc3VtZSghMSl9fSksdGhpcy5ncmFwaC5hZGRMaXN0ZW5lcihteEV2ZW50LkZJUkVfTU9VU0VfRVZFTlQsdGhpcy5mb3JjZVJ1YmJlcmJhbmRIYW5kbGVyKSwKdGhpcy5wYW5IYW5kbGVyPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dGhpcy5yZXBhaW50KCl9KSx0aGlzLmdyYXBoLmFkZExpc3RlbmVyKG14RXZlbnQuUEFOLHRoaXMucGFuSGFuZGxlciksdGhpcy5nZXN0dXJlSGFuZGxlcj1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhLGMpe251bGwhPXRoaXMuZmlyc3QmJnRoaXMucmVzZXQoKX0pLHRoaXMuZ3JhcGguYWRkTGlzdGVuZXIobXhFdmVudC5HRVNUVVJFLHRoaXMuZ2VzdHVyZUhhbmRsZXIpLG14Q2xpZW50LklTX0lFJiZteEV2ZW50LmFkZExpc3RlbmVyKHdpbmRvdywidW5sb2FkIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMuZGVzdHJveSgpfSkpKX1teFJ1YmJlcmJhbmQucHJvdG90eXBlLmRlZmF1bHRPcGFjaXR5PTIwO214UnViYmVyYmFuZC5wcm90b3R5cGUuZW5hYmxlZD0hMDtteFJ1YmJlcmJhbmQucHJvdG90eXBlLmRpdj1udWxsO214UnViYmVyYmFuZC5wcm90b3R5cGUuc2hhcmVkRGl2PW51bGw7Cm14UnViYmVyYmFuZC5wcm90b3R5cGUuY3VycmVudFg9MDtteFJ1YmJlcmJhbmQucHJvdG90eXBlLmN1cnJlbnRZPTA7bXhSdWJiZXJiYW5kLnByb3RvdHlwZS5mYWRlT3V0PSExO214UnViYmVyYmFuZC5wcm90b3R5cGUuaXNFbmFibGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZW5hYmxlZH07bXhSdWJiZXJiYW5kLnByb3RvdHlwZS5zZXRFbmFibGVkPWZ1bmN0aW9uKGEpe3RoaXMuZW5hYmxlZD1hfTtteFJ1YmJlcmJhbmQucHJvdG90eXBlLmlzRm9yY2VSdWJiZXJiYW5kRXZlbnQ9ZnVuY3Rpb24oYSl7cmV0dXJuIG14RXZlbnQuaXNBbHREb3duKGEuZ2V0RXZlbnQoKSl9OwpteFJ1YmJlcmJhbmQucHJvdG90eXBlLm1vdXNlRG93bj1mdW5jdGlvbihhLGIpe2lmKCFiLmlzQ29uc3VtZWQoKSYmdGhpcy5pc0VuYWJsZWQoKSYmdGhpcy5ncmFwaC5pc0VuYWJsZWQoKSYmbnVsbD09Yi5nZXRTdGF0ZSgpJiYhbXhFdmVudC5pc011bHRpVG91Y2hFdmVudChiLmdldEV2ZW50KCkpKXt2YXIgYz1teFV0aWxzLmdldE9mZnNldCh0aGlzLmdyYXBoLmNvbnRhaW5lciksZD1teFV0aWxzLmdldFNjcm9sbE9yaWdpbih0aGlzLmdyYXBoLmNvbnRhaW5lcik7ZC54LT1jLng7ZC55LT1jLnk7dGhpcy5zdGFydChiLmdldFgoKStkLngsYi5nZXRZKCkrZC55KTtiLmNvbnN1bWUoITEpfX07Cm14UnViYmVyYmFuZC5wcm90b3R5cGUuc3RhcnQ9ZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKGEpe2E9bmV3IG14TW91c2VFdmVudChhKTt2YXIgYj1teFV0aWxzLmNvbnZlcnRQb2ludChkLGEuZ2V0WCgpLGEuZ2V0WSgpKTthLmdyYXBoWD1iLng7YS5ncmFwaFk9Yi55O3JldHVybiBhfXRoaXMuZmlyc3Q9bmV3IG14UG9pbnQoYSxiKTt2YXIgZD10aGlzLmdyYXBoLmNvbnRhaW5lcjt0aGlzLmRyYWdIYW5kbGVyPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3RoaXMubW91c2VNb3ZlKHRoaXMuZ3JhcGgsYyhhKSl9KTt0aGlzLmRyb3BIYW5kbGVyPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3RoaXMubW91c2VVcCh0aGlzLmdyYXBoLGMoYSkpfSk7bXhDbGllbnQuSVNfRkYmJm14RXZlbnQuYWRkR2VzdHVyZUxpc3RlbmVycyhkb2N1bWVudCxudWxsLHRoaXMuZHJhZ0hhbmRsZXIsdGhpcy5kcm9wSGFuZGxlcil9OwpteFJ1YmJlcmJhbmQucHJvdG90eXBlLm1vdXNlTW92ZT1mdW5jdGlvbihhLGIpe2lmKCFiLmlzQ29uc3VtZWQoKSYmbnVsbCE9dGhpcy5maXJzdCl7dmFyIGM9bXhVdGlscy5nZXRTY3JvbGxPcmlnaW4odGhpcy5ncmFwaC5jb250YWluZXIpLGQ9bXhVdGlscy5nZXRPZmZzZXQodGhpcy5ncmFwaC5jb250YWluZXIpO2MueC09ZC54O2MueS09ZC55O3ZhciBkPWIuZ2V0WCgpK2MueCxjPWIuZ2V0WSgpK2MueSxlPXRoaXMuZmlyc3QueC1kLGY9dGhpcy5maXJzdC55LWMsZz10aGlzLmdyYXBoLnRvbGVyYW5jZTtpZihudWxsIT10aGlzLmRpdnx8TWF0aC5hYnMoZSk+Z3x8TWF0aC5hYnMoZik+ZyludWxsPT10aGlzLmRpdiYmKHRoaXMuZGl2PXRoaXMuY3JlYXRlU2hhcGUoKSksbXhVdGlscy5jbGVhclNlbGVjdGlvbigpLHRoaXMudXBkYXRlKGQsYyksYi5jb25zdW1lKCl9fTsKbXhSdWJiZXJiYW5kLnByb3RvdHlwZS5jcmVhdGVTaGFwZT1mdW5jdGlvbigpe251bGw9PXRoaXMuc2hhcmVkRGl2JiYodGhpcy5zaGFyZWREaXY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IiksdGhpcy5zaGFyZWREaXYuY2xhc3NOYW1lPSJteFJ1YmJlcmJhbmQiLG14VXRpbHMuc2V0T3BhY2l0eSh0aGlzLnNoYXJlZERpdix0aGlzLmRlZmF1bHRPcGFjaXR5KSk7dGhpcy5ncmFwaC5jb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5zaGFyZWREaXYpO3ZhciBhPXRoaXMuc2hhcmVkRGl2O214Q2xpZW50LklTX1NWRyYmKCFteENsaWVudC5JU19JRXx8MTA8PWRvY3VtZW50LmRvY3VtZW50TW9kZSkmJnRoaXMuZmFkZU91dCYmKHRoaXMuc2hhcmVkRGl2PW51bGwpO3JldHVybiBhfTtteFJ1YmJlcmJhbmQucHJvdG90eXBlLmlzQWN0aXZlPWZ1bmN0aW9uKGEsYil7cmV0dXJuIG51bGwhPXRoaXMuZGl2JiYibm9uZSIhPXRoaXMuZGl2LnN0eWxlLmRpc3BsYXl9OwpteFJ1YmJlcmJhbmQucHJvdG90eXBlLm1vdXNlVXA9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmlzQWN0aXZlKCk7dGhpcy5yZXNldCgpO2MmJih0aGlzLmV4ZWN1dGUoYi5nZXRFdmVudCgpKSxiLmNvbnN1bWUoKSl9O214UnViYmVyYmFuZC5wcm90b3R5cGUuZXhlY3V0ZT1mdW5jdGlvbihhKXt2YXIgYj1uZXcgbXhSZWN0YW5nbGUodGhpcy54LHRoaXMueSx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KTt0aGlzLmdyYXBoLnNlbGVjdFJlZ2lvbihiLGEpfTsKbXhSdWJiZXJiYW5kLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe2lmKG51bGwhPXRoaXMuZGl2KWlmKG14Q2xpZW50LklTX1NWRyYmKCFteENsaWVudC5JU19JRXx8MTA8PWRvY3VtZW50LmRvY3VtZW50TW9kZSkmJnRoaXMuZmFkZU91dCl7dmFyIGE9dGhpcy5kaXY7bXhVdGlscy5zZXRQcmVmaXhlZFN0eWxlKGEuc3R5bGUsInRyYW5zaXRpb24iLCJhbGwgMC4ycyBsaW5lYXIiKTthLnN0eWxlLnBvaW50ZXJFdmVudHM9Im5vbmUiO2Euc3R5bGUub3BhY2l0eT0wO3dpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGEpfSwyMDApfWVsc2UgdGhpcy5kaXYucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmRpdik7bXhFdmVudC5yZW1vdmVHZXN0dXJlTGlzdGVuZXJzKGRvY3VtZW50LG51bGwsdGhpcy5kcmFnSGFuZGxlcix0aGlzLmRyb3BIYW5kbGVyKTt0aGlzLmRyb3BIYW5kbGVyPXRoaXMuZHJhZ0hhbmRsZXI9bnVsbDt0aGlzLmN1cnJlbnRZPQp0aGlzLmN1cnJlbnRYPTA7dGhpcy5kaXY9dGhpcy5maXJzdD1udWxsfTtteFJ1YmJlcmJhbmQucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbihhLGIpe3RoaXMuY3VycmVudFg9YTt0aGlzLmN1cnJlbnRZPWI7dGhpcy5yZXBhaW50KCl9OwpteFJ1YmJlcmJhbmQucHJvdG90eXBlLnJlcGFpbnQ9ZnVuY3Rpb24oKXtpZihudWxsIT10aGlzLmRpdil7dmFyIGE9dGhpcy5jdXJyZW50WC10aGlzLmdyYXBoLnBhbkR4LGI9dGhpcy5jdXJyZW50WS10aGlzLmdyYXBoLnBhbkR5O3RoaXMueD1NYXRoLm1pbih0aGlzLmZpcnN0LngsYSk7dGhpcy55PU1hdGgubWluKHRoaXMuZmlyc3QueSxiKTt0aGlzLndpZHRoPU1hdGgubWF4KHRoaXMuZmlyc3QueCxhKS10aGlzLng7dGhpcy5oZWlnaHQ9TWF0aC5tYXgodGhpcy5maXJzdC55LGIpLXRoaXMueTthPW14Q2xpZW50LklTX1ZNTD90aGlzLmdyYXBoLnBhbkR5OjA7dGhpcy5kaXYuc3R5bGUubGVmdD10aGlzLngrKG14Q2xpZW50LklTX1ZNTD90aGlzLmdyYXBoLnBhbkR4OjApKyJweCI7dGhpcy5kaXYuc3R5bGUudG9wPXRoaXMueSthKyJweCI7dGhpcy5kaXYuc3R5bGUud2lkdGg9TWF0aC5tYXgoMSx0aGlzLndpZHRoKSsicHgiO3RoaXMuZGl2LnN0eWxlLmhlaWdodD1NYXRoLm1heCgxLAp0aGlzLmhlaWdodCkrInB4In19O214UnViYmVyYmFuZC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuZGVzdHJveWVkfHwodGhpcy5kZXN0cm95ZWQ9ITAsdGhpcy5ncmFwaC5yZW1vdmVNb3VzZUxpc3RlbmVyKHRoaXMpLHRoaXMuZ3JhcGgucmVtb3ZlTGlzdGVuZXIodGhpcy5mb3JjZVJ1YmJlcmJhbmRIYW5kbGVyKSx0aGlzLmdyYXBoLnJlbW92ZUxpc3RlbmVyKHRoaXMucGFuSGFuZGxlciksdGhpcy5yZXNldCgpLG51bGwhPXRoaXMuc2hhcmVkRGl2JiYodGhpcy5zaGFyZWREaXY9bnVsbCkpfTtmdW5jdGlvbiBteEhhbmRsZShhLGIsYyxkKXt0aGlzLmdyYXBoPWEudmlldy5ncmFwaDt0aGlzLnN0YXRlPWE7dGhpcy5jdXJzb3I9bnVsbCE9Yj9iOnRoaXMuY3Vyc29yO3RoaXMuaW1hZ2U9bnVsbCE9Yz9jOnRoaXMuaW1hZ2U7dGhpcy5zaGFwZT1udWxsIT1kP2Q6bnVsbDt0aGlzLmluaXQoKX1teEhhbmRsZS5wcm90b3R5cGUuY3Vyc29yPSJkZWZhdWx0IjsKbXhIYW5kbGUucHJvdG90eXBlLmltYWdlPW51bGw7bXhIYW5kbGUucHJvdG90eXBlLmlnbm9yZUdyaWQ9ITE7bXhIYW5kbGUucHJvdG90eXBlLmdldFBvc2l0aW9uPWZ1bmN0aW9uKGEpe307bXhIYW5kbGUucHJvdG90eXBlLnNldFBvc2l0aW9uPWZ1bmN0aW9uKGEsYixjKXt9O214SGFuZGxlLnByb3RvdHlwZS5leGVjdXRlPWZ1bmN0aW9uKGEpe307bXhIYW5kbGUucHJvdG90eXBlLmNvcHlTdHlsZT1mdW5jdGlvbihhKXt0aGlzLmdyYXBoLnNldENlbGxTdHlsZXMoYSx0aGlzLnN0YXRlLnN0eWxlW2FdLFt0aGlzLnN0YXRlLmNlbGxdKX07Cm14SGFuZGxlLnByb3RvdHlwZS5wcm9jZXNzRXZlbnQ9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5ncmFwaC52aWV3LnNjYWxlLGM9dGhpcy5ncmFwaC52aWV3LnRyYW5zbGF0ZSxjPW5ldyBteFBvaW50KGEuZ2V0R3JhcGhYKCkvYi1jLngsYS5nZXRHcmFwaFkoKS9iLWMueSk7bnVsbCE9dGhpcy5zaGFwZSYmbnVsbCE9dGhpcy5zaGFwZS5ib3VuZHMmJihjLngtPXRoaXMuc2hhcGUuYm91bmRzLndpZHRoL2IvNCxjLnktPXRoaXMuc2hhcGUuYm91bmRzLmhlaWdodC9iLzQpO3ZhciBiPS1teFV0aWxzLnRvUmFkaWFucyh0aGlzLmdldFJvdGF0aW9uKCkpLGQ9LW14VXRpbHMudG9SYWRpYW5zKHRoaXMuZ2V0VG90YWxSb3RhdGlvbigpKS1iLGM9dGhpcy5mbGlwUG9pbnQodGhpcy5yb3RhdGVQb2ludCh0aGlzLnNuYXBQb2ludCh0aGlzLnJvdGF0ZVBvaW50KGMsYiksdGhpcy5pZ25vcmVHcmlkfHwhdGhpcy5ncmFwaC5pc0dyaWRFbmFibGVkRXZlbnQoYS5nZXRFdmVudCgpKSksZCkpO3RoaXMuc2V0UG9zaXRpb24odGhpcy5zdGF0ZS5nZXRQYWludEJvdW5kcygpLApjLGEpO3RoaXMucG9zaXRpb25DaGFuZ2VkKCk7dGhpcy5yZWRyYXcoKX07bXhIYW5kbGUucHJvdG90eXBlLnBvc2l0aW9uQ2hhbmdlZD1mdW5jdGlvbigpe251bGwhPXRoaXMuc3RhdGUudGV4dCYmdGhpcy5zdGF0ZS50ZXh0LmFwcGx5KHRoaXMuc3RhdGUpO251bGwhPXRoaXMuc3RhdGUuc2hhcGUmJnRoaXMuc3RhdGUuc2hhcGUuYXBwbHkodGhpcy5zdGF0ZSk7dGhpcy5ncmFwaC5jZWxsUmVuZGVyZXIucmVkcmF3KHRoaXMuc3RhdGUsITApfTtteEhhbmRsZS5wcm90b3R5cGUuZ2V0Um90YXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9dGhpcy5zdGF0ZS5zaGFwZT90aGlzLnN0YXRlLnNoYXBlLmdldFJvdGF0aW9uKCk6MH07bXhIYW5kbGUucHJvdG90eXBlLmdldFRvdGFsUm90YXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9dGhpcy5zdGF0ZS5zaGFwZT90aGlzLnN0YXRlLnNoYXBlLmdldFNoYXBlUm90YXRpb24oKTowfTsKbXhIYW5kbGUucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmlzSHRtbFJlcXVpcmVkKCk7bnVsbCE9dGhpcy5pbWFnZT8odGhpcy5zaGFwZT1uZXcgbXhJbWFnZVNoYXBlKG5ldyBteFJlY3RhbmdsZSgwLDAsdGhpcy5pbWFnZS53aWR0aCx0aGlzLmltYWdlLmhlaWdodCksdGhpcy5pbWFnZS5zcmMpLHRoaXMuc2hhcGUucHJlc2VydmVJbWFnZUFzcGVjdD0hMSk6bnVsbD09dGhpcy5zaGFwZSYmKHRoaXMuc2hhcGU9dGhpcy5jcmVhdGVTaGFwZShhKSk7dGhpcy5pbml0U2hhcGUoYSl9O214SGFuZGxlLnByb3RvdHlwZS5jcmVhdGVTaGFwZT1mdW5jdGlvbihhKXthPW5ldyBteFJlY3RhbmdsZSgwLDAsbXhDb25zdGFudHMuSEFORExFX1NJWkUsbXhDb25zdGFudHMuSEFORExFX1NJWkUpO3JldHVybiBuZXcgbXhSZWN0YW5nbGVTaGFwZShhLG14Q29uc3RhbnRzLkhBTkRMRV9GSUxMQ09MT1IsbXhDb25zdGFudHMuSEFORExFX1NUUk9LRUNPTE9SKX07Cm14SGFuZGxlLnByb3RvdHlwZS5pbml0U2hhcGU9ZnVuY3Rpb24oYSl7YSYmdGhpcy5zaGFwZS5pc0h0bWxBbGxvd2VkKCk/KHRoaXMuc2hhcGUuZGlhbGVjdD1teENvbnN0YW50cy5ESUFMRUNUX1NUUklDVEhUTUwsdGhpcy5zaGFwZS5pbml0KHRoaXMuZ3JhcGguY29udGFpbmVyKSk6KHRoaXMuc2hhcGUuZGlhbGVjdD10aGlzLmdyYXBoLmRpYWxlY3QhPW14Q29uc3RhbnRzLkRJQUxFQ1RfU1ZHP214Q29uc3RhbnRzLkRJQUxFQ1RfTUlYRURIVE1MOm14Q29uc3RhbnRzLkRJQUxFQ1RfU1ZHLG51bGwhPXRoaXMuY3Vyc29yJiZ0aGlzLnNoYXBlLmluaXQodGhpcy5ncmFwaC5nZXRWaWV3KCkuZ2V0T3ZlcmxheVBhbmUoKSkpO214RXZlbnQucmVkaXJlY3RNb3VzZUV2ZW50cyh0aGlzLnNoYXBlLm5vZGUsdGhpcy5ncmFwaCx0aGlzLnN0YXRlKTt0aGlzLnNoYXBlLm5vZGUuc3R5bGUuY3Vyc29yPXRoaXMuY3Vyc29yfTsKbXhIYW5kbGUucHJvdG90eXBlLnJlZHJhdz1mdW5jdGlvbigpe2lmKG51bGwhPXRoaXMuc2hhcGUmJm51bGwhPXRoaXMuc3RhdGUuc2hhcGUpe3ZhciBhPXRoaXMuZ2V0UG9zaXRpb24odGhpcy5zdGF0ZS5nZXRQYWludEJvdW5kcygpKTtpZihudWxsIT1hKXt2YXIgYj1teFV0aWxzLnRvUmFkaWFucyh0aGlzLmdldFRvdGFsUm90YXRpb24oKSksYT10aGlzLnJvdGF0ZVBvaW50KHRoaXMuZmxpcFBvaW50KGEpLGIpLGI9dGhpcy5ncmFwaC52aWV3LnNjYWxlLGM9dGhpcy5ncmFwaC52aWV3LnRyYW5zbGF0ZTt0aGlzLnNoYXBlLmJvdW5kcy54PU1hdGguZmxvb3IoKGEueCtjLngpKmItdGhpcy5zaGFwZS5ib3VuZHMud2lkdGgvMik7dGhpcy5zaGFwZS5ib3VuZHMueT1NYXRoLmZsb29yKChhLnkrYy55KSpiLXRoaXMuc2hhcGUuYm91bmRzLmhlaWdodC8yKTt0aGlzLnNoYXBlLnJlZHJhdygpfX19OwpteEhhbmRsZS5wcm90b3R5cGUuaXNIdG1sUmVxdWlyZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9dGhpcy5zdGF0ZS50ZXh0JiZ0aGlzLnN0YXRlLnRleHQubm9kZS5wYXJlbnROb2RlPT10aGlzLmdyYXBoLmNvbnRhaW5lcn07bXhIYW5kbGUucHJvdG90eXBlLnJvdGF0ZVBvaW50PWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5zdGF0ZS5nZXRDZWxsQm91bmRzKCksYz1uZXcgbXhQb2ludChjLmdldENlbnRlclgoKSxjLmdldENlbnRlclkoKSk7cmV0dXJuIG14VXRpbHMuZ2V0Um90YXRlZFBvaW50KGEsTWF0aC5jb3MoYiksTWF0aC5zaW4oYiksYyl9OwpteEhhbmRsZS5wcm90b3R5cGUuZmxpcFBvaW50PWZ1bmN0aW9uKGEpe2lmKG51bGwhPXRoaXMuc3RhdGUuc2hhcGUpe3ZhciBiPXRoaXMuc3RhdGUuZ2V0Q2VsbEJvdW5kcygpO3RoaXMuc3RhdGUuc2hhcGUuZmxpcEgmJihhLng9MipiLngrYi53aWR0aC1hLngpO3RoaXMuc3RhdGUuc2hhcGUuZmxpcFYmJihhLnk9MipiLnkrYi5oZWlnaHQtYS55KX1yZXR1cm4gYX07bXhIYW5kbGUucHJvdG90eXBlLnNuYXBQb2ludD1mdW5jdGlvbihhLGIpe2J8fChhLng9dGhpcy5ncmFwaC5zbmFwKGEueCksYS55PXRoaXMuZ3JhcGguc25hcChhLnkpKTtyZXR1cm4gYX07bXhIYW5kbGUucHJvdG90eXBlLnNldFZpc2libGU9ZnVuY3Rpb24oYSl7bnVsbCE9dGhpcy5zaGFwZSYmbnVsbCE9dGhpcy5zaGFwZS5ub2RlJiYodGhpcy5zaGFwZS5ub2RlLnN0eWxlLmRpc3BsYXk9YT8iIjoibm9uZSIpfTsKbXhIYW5kbGUucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5zZXRWaXNpYmxlKCEwKTt0aGlzLnN0YXRlLnN0eWxlPXRoaXMuZ3JhcGguZ2V0Q2VsbFN0eWxlKHRoaXMuc3RhdGUuY2VsbCk7dGhpcy5wb3NpdGlvbkNoYW5nZWQoKX07bXhIYW5kbGUucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXtudWxsIT10aGlzLnNoYXBlJiYodGhpcy5zaGFwZS5kZXN0cm95KCksdGhpcy5zaGFwZT1udWxsKX07CmZ1bmN0aW9uIG14VmVydGV4SGFuZGxlcihhKXtudWxsIT1hJiYodGhpcy5zdGF0ZT1hLHRoaXMuaW5pdCgpLHRoaXMuZXNjYXBlSGFuZGxlcj1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhLGMpe3RoaXMubGl2ZVByZXZpZXcmJm51bGwhPXRoaXMuaW5kZXgmJih0aGlzLnN0YXRlLnZpZXcuZ3JhcGguY2VsbFJlbmRlcmVyLnJlZHJhdyh0aGlzLnN0YXRlLCEwKSx0aGlzLnN0YXRlLnZpZXcuaW52YWxpZGF0ZSh0aGlzLnN0YXRlLmNlbGwpLHRoaXMuc3RhdGUuaW52YWxpZD0hMSx0aGlzLnN0YXRlLnZpZXcudmFsaWRhdGUoKSk7dGhpcy5yZXNldCgpfSksdGhpcy5zdGF0ZS52aWV3LmdyYXBoLmFkZExpc3RlbmVyKG14RXZlbnQuRVNDQVBFLHRoaXMuZXNjYXBlSGFuZGxlcikpfW14VmVydGV4SGFuZGxlci5wcm90b3R5cGUuZ3JhcGg9bnVsbDtteFZlcnRleEhhbmRsZXIucHJvdG90eXBlLnN0YXRlPW51bGw7bXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5zaW5nbGVTaXplcj0hMTsKbXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5pbmRleD1udWxsO214VmVydGV4SGFuZGxlci5wcm90b3R5cGUuYWxsb3dIYW5kbGVCb3VuZHNDaGVjaz0hMDtteFZlcnRleEhhbmRsZXIucHJvdG90eXBlLmhhbmRsZUltYWdlPW51bGw7bXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS50b2xlcmFuY2U9MDtteFZlcnRleEhhbmRsZXIucHJvdG90eXBlLnJvdGF0aW9uRW5hYmxlZD0hMTtteFZlcnRleEhhbmRsZXIucHJvdG90eXBlLnBhcmVudEhpZ2hsaWdodEVuYWJsZWQ9ITE7bXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5yb3RhdGlvblJhc3Rlcj0hMDtteFZlcnRleEhhbmRsZXIucHJvdG90eXBlLnJvdGF0aW9uQ3Vyc29yPSJjcm9zc2hhaXIiO214VmVydGV4SGFuZGxlci5wcm90b3R5cGUubGl2ZVByZXZpZXc9ITE7bXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5tYW5hZ2VTaXplcnM9ITE7bXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5jb25zdHJhaW5Hcm91cEJ5Q2hpbGRyZW49ITE7Cm14VmVydGV4SGFuZGxlci5wcm90b3R5cGUucm90YXRpb25IYW5kbGVWU3BhY2luZz0tMTY7bXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5ob3Jpem9udGFsT2Zmc2V0PTA7bXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS52ZXJ0aWNhbE9mZnNldD0wOwpteFZlcnRleEhhbmRsZXIucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oKXt0aGlzLmdyYXBoPXRoaXMuc3RhdGUudmlldy5ncmFwaDt0aGlzLnNlbGVjdGlvbkJvdW5kcz10aGlzLmdldFNlbGVjdGlvbkJvdW5kcyh0aGlzLnN0YXRlKTt0aGlzLmJvdW5kcz1uZXcgbXhSZWN0YW5nbGUodGhpcy5zZWxlY3Rpb25Cb3VuZHMueCx0aGlzLnNlbGVjdGlvbkJvdW5kcy55LHRoaXMuc2VsZWN0aW9uQm91bmRzLndpZHRoLHRoaXMuc2VsZWN0aW9uQm91bmRzLmhlaWdodCk7dGhpcy5zZWxlY3Rpb25Cb3JkZXI9dGhpcy5jcmVhdGVTZWxlY3Rpb25TaGFwZSh0aGlzLmJvdW5kcyk7dGhpcy5zZWxlY3Rpb25Cb3JkZXIuZGlhbGVjdD10aGlzLmdyYXBoLmRpYWxlY3QhPW14Q29uc3RhbnRzLkRJQUxFQ1RfU1ZHP214Q29uc3RhbnRzLkRJQUxFQ1RfVk1MOm14Q29uc3RhbnRzLkRJQUxFQ1RfU1ZHO3RoaXMuc2VsZWN0aW9uQm9yZGVyLnBvaW50ZXJFdmVudHM9ITE7dGhpcy5zZWxlY3Rpb25Cb3JkZXIucm90YXRpb249Ck51bWJlcih0aGlzLnN0YXRlLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX1JPVEFUSU9OXXx8IjAiKTt0aGlzLnNlbGVjdGlvbkJvcmRlci5pbml0KHRoaXMuZ3JhcGguZ2V0VmlldygpLmdldE92ZXJsYXlQYW5lKCkpO214RXZlbnQucmVkaXJlY3RNb3VzZUV2ZW50cyh0aGlzLnNlbGVjdGlvbkJvcmRlci5ub2RlLHRoaXMuZ3JhcGgsdGhpcy5zdGF0ZSk7dGhpcy5ncmFwaC5pc0NlbGxNb3ZhYmxlKHRoaXMuc3RhdGUuY2VsbCkmJnRoaXMuc2VsZWN0aW9uQm9yZGVyLnNldEN1cnNvcihteENvbnN0YW50cy5DVVJTT1JfTU9WQUJMRV9WRVJURVgpO2lmKDA+PW14R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5tYXhDZWxsc3x8dGhpcy5ncmFwaC5nZXRTZWxlY3Rpb25Db3VudCgpPG14R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5tYXhDZWxscyl7dmFyIGE9dGhpcy5ncmFwaC5pc0NlbGxSZXNpemFibGUodGhpcy5zdGF0ZS5jZWxsKTt0aGlzLnNpemVycz1bXTtpZihhfHx0aGlzLmdyYXBoLmlzTGFiZWxNb3ZhYmxlKHRoaXMuc3RhdGUuY2VsbCkmJgoyPD10aGlzLnN0YXRlLndpZHRoJiYyPD10aGlzLnN0YXRlLmhlaWdodCl7dmFyIGI9MDthJiYodGhpcy5zaW5nbGVTaXplcnx8KHRoaXMuc2l6ZXJzLnB1c2godGhpcy5jcmVhdGVTaXplcigibnctcmVzaXplIixiKyspKSx0aGlzLnNpemVycy5wdXNoKHRoaXMuY3JlYXRlU2l6ZXIoIm4tcmVzaXplIixiKyspKSx0aGlzLnNpemVycy5wdXNoKHRoaXMuY3JlYXRlU2l6ZXIoIm5lLXJlc2l6ZSIsYisrKSksdGhpcy5zaXplcnMucHVzaCh0aGlzLmNyZWF0ZVNpemVyKCJ3LXJlc2l6ZSIsYisrKSksdGhpcy5zaXplcnMucHVzaCh0aGlzLmNyZWF0ZVNpemVyKCJlLXJlc2l6ZSIsYisrKSksdGhpcy5zaXplcnMucHVzaCh0aGlzLmNyZWF0ZVNpemVyKCJzdy1yZXNpemUiLGIrKykpLHRoaXMuc2l6ZXJzLnB1c2godGhpcy5jcmVhdGVTaXplcigicy1yZXNpemUiLGIrKykpKSx0aGlzLnNpemVycy5wdXNoKHRoaXMuY3JlYXRlU2l6ZXIoInNlLXJlc2l6ZSIsYisrKSkpO2E9dGhpcy5ncmFwaC5tb2RlbC5nZXRHZW9tZXRyeSh0aGlzLnN0YXRlLmNlbGwpOwpudWxsPT1hfHxhLnJlbGF0aXZlfHx0aGlzLmdyYXBoLmlzU3dpbWxhbmUodGhpcy5zdGF0ZS5jZWxsKXx8IXRoaXMuZ3JhcGguaXNMYWJlbE1vdmFibGUodGhpcy5zdGF0ZS5jZWxsKXx8KHRoaXMubGFiZWxTaGFwZT10aGlzLmNyZWF0ZVNpemVyKG14Q29uc3RhbnRzLkNVUlNPUl9MQUJFTF9IQU5ETEUsbXhFdmVudC5MQUJFTF9IQU5ETEUsbXhDb25zdGFudHMuTEFCRUxfSEFORExFX1NJWkUsbXhDb25zdGFudHMuTEFCRUxfSEFORExFX0ZJTExDT0xPUiksdGhpcy5zaXplcnMucHVzaCh0aGlzLmxhYmVsU2hhcGUpKX1lbHNlIHRoaXMuZ3JhcGguaXNDZWxsTW92YWJsZSh0aGlzLnN0YXRlLmNlbGwpJiYhdGhpcy5ncmFwaC5pc0NlbGxSZXNpemFibGUodGhpcy5zdGF0ZS5jZWxsKSYmMj50aGlzLnN0YXRlLndpZHRoJiYyPnRoaXMuc3RhdGUuaGVpZ2h0JiYodGhpcy5sYWJlbFNoYXBlPXRoaXMuY3JlYXRlU2l6ZXIobXhDb25zdGFudHMuQ1VSU09SX01PVkFCTEVfVkVSVEVYLG14RXZlbnQuTEFCRUxfSEFORExFLApudWxsLG14Q29uc3RhbnRzLkxBQkVMX0hBTkRMRV9GSUxMQ09MT1IpLHRoaXMuc2l6ZXJzLnB1c2godGhpcy5sYWJlbFNoYXBlKSl9dGhpcy5pc1JvdGF0aW9uSGFuZGxlVmlzaWJsZSgpJiYodGhpcy5yb3RhdGlvblNoYXBlPXRoaXMuY3JlYXRlU2l6ZXIodGhpcy5yb3RhdGlvbkN1cnNvcixteEV2ZW50LlJPVEFUSU9OX0hBTkRMRSxteENvbnN0YW50cy5IQU5ETEVfU0laRSszLG14Q29uc3RhbnRzLkhBTkRMRV9GSUxMQ09MT1IpLHRoaXMuc2l6ZXJzLnB1c2godGhpcy5yb3RhdGlvblNoYXBlKSk7dGhpcy5jdXN0b21IYW5kbGVzPXRoaXMuY3JlYXRlQ3VzdG9tSGFuZGxlcygpO3RoaXMucmVkcmF3KCk7dGhpcy5jb25zdHJhaW5Hcm91cEJ5Q2hpbGRyZW4mJnRoaXMudXBkYXRlTWluQm91bmRzKCl9OwpteFZlcnRleEhhbmRsZXIucHJvdG90eXBlLmlzUm90YXRpb25IYW5kbGVWaXNpYmxlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ3JhcGguaXNFbmFibGVkKCkmJnRoaXMucm90YXRpb25FbmFibGVkJiZ0aGlzLmdyYXBoLmlzQ2VsbFJvdGF0YWJsZSh0aGlzLnN0YXRlLmNlbGwpJiYoMD49bXhHcmFwaEhhbmRsZXIucHJvdG90eXBlLm1heENlbGxzfHx0aGlzLmdyYXBoLmdldFNlbGVjdGlvbkNvdW50KCk8bXhHcmFwaEhhbmRsZXIucHJvdG90eXBlLm1heENlbGxzKX07bXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5pc0NvbnN0cmFpbmVkRXZlbnQ9ZnVuY3Rpb24oYSl7cmV0dXJuIG14RXZlbnQuaXNTaGlmdERvd24oYS5nZXRFdmVudCgpKXx8ImZpeGVkIj09dGhpcy5zdGF0ZS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9BU1BFQ1RdfTtteFZlcnRleEhhbmRsZXIucHJvdG90eXBlLmlzQ2VudGVyZWRFdmVudD1mdW5jdGlvbihhLGIpe3JldHVybiExfTsKbXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5jcmVhdGVDdXN0b21IYW5kbGVzPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9OwpteFZlcnRleEhhbmRsZXIucHJvdG90eXBlLnVwZGF0ZU1pbkJvdW5kcz1mdW5jdGlvbigpe3ZhciBhPXRoaXMuZ3JhcGguZ2V0Q2hpbGRDZWxscyh0aGlzLnN0YXRlLmNlbGwpO2lmKDA8YS5sZW5ndGgmJih0aGlzLm1pbkJvdW5kcz10aGlzLmdyYXBoLnZpZXcuZ2V0Qm91bmRzKGEpLG51bGwhPXRoaXMubWluQm91bmRzKSl7dmFyIGE9dGhpcy5zdGF0ZS52aWV3LnNjYWxlLGI9dGhpcy5zdGF0ZS52aWV3LnRyYW5zbGF0ZTt0aGlzLm1pbkJvdW5kcy54LT10aGlzLnN0YXRlLng7dGhpcy5taW5Cb3VuZHMueS09dGhpcy5zdGF0ZS55O3RoaXMubWluQm91bmRzLngvPWE7dGhpcy5taW5Cb3VuZHMueS89YTt0aGlzLm1pbkJvdW5kcy53aWR0aC89YTt0aGlzLm1pbkJvdW5kcy5oZWlnaHQvPWE7dGhpcy54MD10aGlzLnN0YXRlLngvYS1iLng7dGhpcy55MD10aGlzLnN0YXRlLnkvYS1iLnl9fTsKbXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5nZXRTZWxlY3Rpb25Cb3VuZHM9ZnVuY3Rpb24oYSl7cmV0dXJuIG5ldyBteFJlY3RhbmdsZShNYXRoLnJvdW5kKGEueCksTWF0aC5yb3VuZChhLnkpLE1hdGgucm91bmQoYS53aWR0aCksTWF0aC5yb3VuZChhLmhlaWdodCkpfTtteFZlcnRleEhhbmRsZXIucHJvdG90eXBlLmNyZWF0ZVBhcmVudEhpZ2hsaWdodFNoYXBlPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNyZWF0ZVNlbGVjdGlvblNoYXBlKGEpfTtteFZlcnRleEhhbmRsZXIucHJvdG90eXBlLmNyZWF0ZVNlbGVjdGlvblNoYXBlPWZ1bmN0aW9uKGEpe2E9bmV3IG14UmVjdGFuZ2xlU2hhcGUobXhSZWN0YW5nbGUuZnJvbVJlY3RhbmdsZShhKSxudWxsLHRoaXMuZ2V0U2VsZWN0aW9uQ29sb3IoKSk7YS5zdHJva2V3aWR0aD10aGlzLmdldFNlbGVjdGlvblN0cm9rZVdpZHRoKCk7YS5pc0Rhc2hlZD10aGlzLmlzU2VsZWN0aW9uRGFzaGVkKCk7cmV0dXJuIGF9OwpteFZlcnRleEhhbmRsZXIucHJvdG90eXBlLmdldFNlbGVjdGlvbkNvbG9yPWZ1bmN0aW9uKCl7cmV0dXJuIG14Q29uc3RhbnRzLlZFUlRFWF9TRUxFQ1RJT05fQ09MT1J9O214VmVydGV4SGFuZGxlci5wcm90b3R5cGUuZ2V0U2VsZWN0aW9uU3Ryb2tlV2lkdGg9ZnVuY3Rpb24oKXtyZXR1cm4gbXhDb25zdGFudHMuVkVSVEVYX1NFTEVDVElPTl9TVFJPS0VXSURUSH07bXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5pc1NlbGVjdGlvbkRhc2hlZD1mdW5jdGlvbigpe3JldHVybiBteENvbnN0YW50cy5WRVJURVhfU0VMRUNUSU9OX0RBU0hFRH07Cm14VmVydGV4SGFuZGxlci5wcm90b3R5cGUuY3JlYXRlU2l6ZXI9ZnVuY3Rpb24oYSxiLGMsZCl7Yz1jfHxteENvbnN0YW50cy5IQU5ETEVfU0laRTtjPW5ldyBteFJlY3RhbmdsZSgwLDAsYyxjKTtkPXRoaXMuY3JlYXRlU2l6ZXJTaGFwZShjLGIsZCk7ZC5pc0h0bWxBbGxvd2VkKCkmJm51bGwhPXRoaXMuc3RhdGUudGV4dCYmdGhpcy5zdGF0ZS50ZXh0Lm5vZGUucGFyZW50Tm9kZT09dGhpcy5ncmFwaC5jb250YWluZXI/KC0tZC5ib3VuZHMuaGVpZ2h0LC0tZC5ib3VuZHMud2lkdGgsZC5kaWFsZWN0PW14Q29uc3RhbnRzLkRJQUxFQ1RfU1RSSUNUSFRNTCxkLmluaXQodGhpcy5ncmFwaC5jb250YWluZXIpKTooZC5kaWFsZWN0PXRoaXMuZ3JhcGguZGlhbGVjdCE9bXhDb25zdGFudHMuRElBTEVDVF9TVkc/bXhDb25zdGFudHMuRElBTEVDVF9NSVhFREhUTUw6bXhDb25zdGFudHMuRElBTEVDVF9TVkcsZC5pbml0KHRoaXMuZ3JhcGguZ2V0VmlldygpLmdldE92ZXJsYXlQYW5lKCkpKTsKbXhFdmVudC5yZWRpcmVjdE1vdXNlRXZlbnRzKGQubm9kZSx0aGlzLmdyYXBoLHRoaXMuc3RhdGUpO3RoaXMuZ3JhcGguaXNFbmFibGVkKCkmJmQuc2V0Q3Vyc29yKGEpO3RoaXMuaXNTaXplclZpc2libGUoYil8fChkLnZpc2libGU9ITEpO3JldHVybiBkfTtteFZlcnRleEhhbmRsZXIucHJvdG90eXBlLmlzU2l6ZXJWaXNpYmxlPWZ1bmN0aW9uKGEpe3JldHVybiEwfTsKbXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5jcmVhdGVTaXplclNoYXBlPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gbnVsbCE9dGhpcy5oYW5kbGVJbWFnZT8oYT1uZXcgbXhSZWN0YW5nbGUoYS54LGEueSx0aGlzLmhhbmRsZUltYWdlLndpZHRoLHRoaXMuaGFuZGxlSW1hZ2UuaGVpZ2h0KSxhPW5ldyBteEltYWdlU2hhcGUoYSx0aGlzLmhhbmRsZUltYWdlLnNyYyksYS5wcmVzZXJ2ZUltYWdlQXNwZWN0PSExLGEpOmI9PW14RXZlbnQuUk9UQVRJT05fSEFORExFP25ldyBteEVsbGlwc2UoYSxjfHxteENvbnN0YW50cy5IQU5ETEVfRklMTENPTE9SLG14Q29uc3RhbnRzLkhBTkRMRV9TVFJPS0VDT0xPUik6bmV3IG14UmVjdGFuZ2xlU2hhcGUoYSxjfHxteENvbnN0YW50cy5IQU5ETEVfRklMTENPTE9SLG14Q29uc3RhbnRzLkhBTkRMRV9TVFJPS0VDT0xPUil9OwpteFZlcnRleEhhbmRsZXIucHJvdG90eXBlLm1vdmVTaXplclRvPWZ1bmN0aW9uKGEsYixjKXtudWxsIT1hJiYoYS5ib3VuZHMueD1NYXRoLmZsb29yKGItYS5ib3VuZHMud2lkdGgvMiksYS5ib3VuZHMueT1NYXRoLmZsb29yKGMtYS5ib3VuZHMuaGVpZ2h0LzIpLG51bGwhPWEubm9kZSYmIm5vbmUiIT1hLm5vZGUuc3R5bGUuZGlzcGxheSYmYS5yZWRyYXcoKSl9OwpteFZlcnRleEhhbmRsZXIucHJvdG90eXBlLmdldEhhbmRsZUZvckV2ZW50PWZ1bmN0aW9uKGEpe3ZhciBiPW14RXZlbnQuaXNNb3VzZUV2ZW50KGEuZ2V0RXZlbnQoKSk/MTp0aGlzLnRvbGVyYW5jZSxjPXRoaXMuYWxsb3dIYW5kbGVCb3VuZHNDaGVjayYmKG14Q2xpZW50LklTX0lFfHwwPGIpP25ldyBteFJlY3RhbmdsZShhLmdldEdyYXBoWCgpLWIsYS5nZXRHcmFwaFkoKS1iLDIqYiwyKmIpOm51bGwsYj1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihiKXt2YXIgZD1udWxsIT1iJiZiLmNvbnN0cnVjdG9yIT1teEltYWdlU2hhcGUmJnRoaXMuYWxsb3dIYW5kbGVCb3VuZHNDaGVjaz9uZXcgbXhSZWN0YW5nbGUoYS5nZXRHcmFwaFgoKS1iLnN2Z1N0cm9rZVRvbGVyYW5jZSxhLmdldEdyYXBoWSgpLWIuc3ZnU3Ryb2tlVG9sZXJhbmNlLDIqYi5zdmdTdHJva2VUb2xlcmFuY2UsMipiLnN2Z1N0cm9rZVRvbGVyYW5jZSk6YztyZXR1cm4gbnVsbCE9YiYmKGEuaXNTb3VyY2UoYil8fG51bGwhPQpkJiZteFV0aWxzLmludGVyc2VjdHMoYi5ib3VuZHMsZCkmJiJub25lIiE9Yi5ub2RlLnN0eWxlLmRpc3BsYXkmJiJoaWRkZW4iIT1iLm5vZGUuc3R5bGUudmlzaWJpbGl0eSl9KTtpZihudWxsIT10aGlzLmN1c3RvbUhhbmRsZXMmJnRoaXMuaXNDdXN0b21IYW5kbGVFdmVudChhKSlmb3IodmFyIGQ9dGhpcy5jdXN0b21IYW5kbGVzLmxlbmd0aC0xOzA8PWQ7ZC0tKWlmKGIodGhpcy5jdXN0b21IYW5kbGVzW2RdLnNoYXBlKSlyZXR1cm4gbXhFdmVudC5DVVNUT01fSEFORExFLWQ7aWYoYih0aGlzLnJvdGF0aW9uU2hhcGUpKXJldHVybiBteEV2ZW50LlJPVEFUSU9OX0hBTkRMRTtpZihiKHRoaXMubGFiZWxTaGFwZSkpcmV0dXJuIG14RXZlbnQuTEFCRUxfSEFORExFO2lmKG51bGwhPXRoaXMuc2l6ZXJzKWZvcihkPTA7ZDx0aGlzLnNpemVycy5sZW5ndGg7ZCsrKWlmKGIodGhpcy5zaXplcnNbZF0pKXJldHVybiBkO3JldHVybiBudWxsfTsKbXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5pc0N1c3RvbUhhbmRsZUV2ZW50PWZ1bmN0aW9uKGEpe3JldHVybiEwfTtteFZlcnRleEhhbmRsZXIucHJvdG90eXBlLm1vdXNlRG93bj1mdW5jdGlvbihhLGIpe2lmKCFiLmlzQ29uc3VtZWQoKSYmdGhpcy5ncmFwaC5pc0VuYWJsZWQoKSl7dmFyIGM9dGhpcy5nZXRIYW5kbGVGb3JFdmVudChiKTtudWxsIT1jJiYodGhpcy5zdGFydChiLmdldEdyYXBoWCgpLGIuZ2V0R3JhcGhZKCksYyksYi5jb25zdW1lKCkpfX07bXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5pc0xpdmVQcmV2aWV3Qm9yZGVyPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPXRoaXMuc3RhdGUuc2hhcGUmJm51bGw9PXRoaXMuc3RhdGUuc2hhcGUuZmlsbCYmbnVsbD09dGhpcy5zdGF0ZS5zaGFwZS5zdHJva2V9OwpteFZlcnRleEhhbmRsZXIucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKGEsYixjKXtpZihudWxsIT10aGlzLnNlbGVjdGlvbkJvcmRlcil7dGhpcy5saXZlUHJldmlld0FjdGl2ZT10aGlzLmxpdmVQcmV2aWV3JiYwPT10aGlzLmdyYXBoLm1vZGVsLmdldENoaWxkQ291bnQodGhpcy5zdGF0ZS5jZWxsKTt0aGlzLmluVG9sZXJhbmNlPSEwO3RoaXMuY2hpbGRPZmZzZXRZPXRoaXMuY2hpbGRPZmZzZXRYPTA7dGhpcy5pbmRleD1jO3RoaXMuc3RhcnRYPWE7dGhpcy5zdGFydFk9YjthPXRoaXMuc3RhdGUudmlldy5ncmFwaC5tb2RlbDtiPWEuZ2V0UGFyZW50KHRoaXMuc3RhdGUuY2VsbCk7dGhpcy5zdGF0ZS52aWV3LmN1cnJlbnRSb290IT1iJiYoYS5pc1ZlcnRleChiKXx8YS5pc0VkZ2UoYikpJiYodGhpcy5wYXJlbnRTdGF0ZT10aGlzLnN0YXRlLnZpZXcuZ3JhcGgudmlldy5nZXRTdGF0ZShiKSk7dGhpcy5zZWxlY3Rpb25Cb3JkZXIubm9kZS5zdHlsZS5kaXNwbGF5PWM9PW14RXZlbnQuUk9UQVRJT05fSEFORExFPwoiaW5saW5lIjoibm9uZSI7aWYoIXRoaXMubGl2ZVByZXZpZXdBY3RpdmV8fHRoaXMuaXNMaXZlUHJldmlld0JvcmRlcigpKXRoaXMucHJldmlldz10aGlzLmNyZWF0ZVNlbGVjdGlvblNoYXBlKHRoaXMuYm91bmRzKSxteENsaWVudC5JU19TVkcmJjAhPU51bWJlcih0aGlzLnN0YXRlLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX1JPVEFUSU9OXXx8IjAiKXx8bnVsbD09dGhpcy5zdGF0ZS50ZXh0fHx0aGlzLnN0YXRlLnRleHQubm9kZS5wYXJlbnROb2RlIT10aGlzLmdyYXBoLmNvbnRhaW5lcj8odGhpcy5wcmV2aWV3LmRpYWxlY3Q9dGhpcy5ncmFwaC5kaWFsZWN0IT1teENvbnN0YW50cy5ESUFMRUNUX1NWRz9teENvbnN0YW50cy5ESUFMRUNUX1ZNTDpteENvbnN0YW50cy5ESUFMRUNUX1NWRyx0aGlzLnByZXZpZXcuaW5pdCh0aGlzLmdyYXBoLnZpZXcuZ2V0T3ZlcmxheVBhbmUoKSkpOih0aGlzLnByZXZpZXcuZGlhbGVjdD1teENvbnN0YW50cy5ESUFMRUNUX1NUUklDVEhUTUwsdGhpcy5wcmV2aWV3LmluaXQodGhpcy5ncmFwaC5jb250YWluZXIpKTsKYz09bXhFdmVudC5ST1RBVElPTl9IQU5ETEUmJihiPXRoaXMuZ2V0Um90YXRpb25IYW5kbGVQb3NpdGlvbigpLGE9Yi54LXRoaXMuc3RhdGUuZ2V0Q2VudGVyWCgpLGI9Yi55LXRoaXMuc3RhdGUuZ2V0Q2VudGVyWSgpLHRoaXMuc3RhcnRBbmdsZT0wIT1hPzE4MCpNYXRoLmF0YW4oYi9hKS9NYXRoLlBJKzkwOjA+Yj8xODA6MCx0aGlzLnN0YXJ0RGlzdD1NYXRoLnNxcnQoYSphK2IqYikpO2lmKHRoaXMubGl2ZVByZXZpZXdBY3RpdmUpZm9yKHRoaXMuaGlkZVNpemVycygpLGM9PW14RXZlbnQuUk9UQVRJT05fSEFORExFP3RoaXMucm90YXRpb25TaGFwZS5ub2RlLnN0eWxlLmRpc3BsYXk9IiI6Yz09bXhFdmVudC5MQUJFTF9IQU5ETEU/dGhpcy5sYWJlbFNoYXBlLm5vZGUuc3R5bGUuZGlzcGxheT0iIjpudWxsIT10aGlzLnNpemVycyYmbnVsbCE9dGhpcy5zaXplcnNbY10/dGhpcy5zaXplcnNbY10ubm9kZS5zdHlsZS5kaXNwbGF5PSIiOmM8PW14RXZlbnQuQ1VTVE9NX0hBTkRMRSYmCm51bGwhPXRoaXMuY3VzdG9tSGFuZGxlcyYmdGhpcy5jdXN0b21IYW5kbGVzW214RXZlbnQuQ1VTVE9NX0hBTkRMRS1jXS5zZXRWaXNpYmxlKCEwKSxjPXRoaXMuZ3JhcGguZ2V0RWRnZXModGhpcy5zdGF0ZS5jZWxsKSx0aGlzLmVkZ2VIYW5kbGVycz1bXSxhPTA7YTxjLmxlbmd0aDthKyspYj10aGlzLmdyYXBoLnNlbGVjdGlvbkNlbGxzSGFuZGxlci5nZXRIYW5kbGVyKGNbYV0pLG51bGwhPWImJnRoaXMuZWRnZUhhbmRsZXJzLnB1c2goYil9fTtteFZlcnRleEhhbmRsZXIucHJvdG90eXBlLnNldEhhbmRsZXNWaXNpYmxlPWZ1bmN0aW9uKGEpe2lmKG51bGwhPXRoaXMuc2l6ZXJzKWZvcih2YXIgYj0wO2I8dGhpcy5zaXplcnMubGVuZ3RoO2IrKyl0aGlzLnNpemVyc1tiXS5ub2RlLnN0eWxlLmRpc3BsYXk9YT8iIjoibm9uZSI7aWYobnVsbCE9dGhpcy5jdXN0b21IYW5kbGVzKWZvcihiPTA7Yjx0aGlzLmN1c3RvbUhhbmRsZXMubGVuZ3RoO2IrKyl0aGlzLmN1c3RvbUhhbmRsZXNbYl0uc2V0VmlzaWJsZShhKX07Cm14VmVydGV4SGFuZGxlci5wcm90b3R5cGUuaGlkZVNpemVycz1mdW5jdGlvbigpe3RoaXMuc2V0SGFuZGxlc1Zpc2libGUoITEpfTtteFZlcnRleEhhbmRsZXIucHJvdG90eXBlLmNoZWNrVG9sZXJhbmNlPWZ1bmN0aW9uKGEpe3RoaXMuaW5Ub2xlcmFuY2UmJm51bGwhPXRoaXMuc3RhcnRYJiZudWxsIT10aGlzLnN0YXJ0WSYmKG14RXZlbnQuaXNNb3VzZUV2ZW50KGEuZ2V0RXZlbnQoKSl8fE1hdGguYWJzKGEuZ2V0R3JhcGhYKCktdGhpcy5zdGFydFgpPnRoaXMuZ3JhcGgudG9sZXJhbmNlfHxNYXRoLmFicyhhLmdldEdyYXBoWSgpLXRoaXMuc3RhcnRZKT50aGlzLmdyYXBoLnRvbGVyYW5jZSkmJih0aGlzLmluVG9sZXJhbmNlPSExKX07bXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS51cGRhdGVIaW50PWZ1bmN0aW9uKGEpe307bXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5yZW1vdmVIaW50PWZ1bmN0aW9uKCl7fTsKbXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5yb3VuZEFuZ2xlPWZ1bmN0aW9uKGEpe3JldHVybiBNYXRoLnJvdW5kKDEwKmEpLzEwfTtteFZlcnRleEhhbmRsZXIucHJvdG90eXBlLnJvdW5kTGVuZ3RoPWZ1bmN0aW9uKGEpe3JldHVybiBNYXRoLnJvdW5kKDEwMCphKS8xMDB9OwpteFZlcnRleEhhbmRsZXIucHJvdG90eXBlLm1vdXNlTW92ZT1mdW5jdGlvbihhLGIpe2IuaXNDb25zdW1lZCgpfHxudWxsPT10aGlzLmluZGV4P3RoaXMuZ3JhcGguaXNNb3VzZURvd258fG51bGw9PXRoaXMuZ2V0SGFuZGxlRm9yRXZlbnQoYil8fGIuY29uc3VtZSghMSk6KHRoaXMuY2hlY2tUb2xlcmFuY2UoYiksdGhpcy5pblRvbGVyYW5jZXx8KHRoaXMuaW5kZXg8PW14RXZlbnQuQ1VTVE9NX0hBTkRMRT9udWxsIT10aGlzLmN1c3RvbUhhbmRsZXMmJih0aGlzLmN1c3RvbUhhbmRsZXNbbXhFdmVudC5DVVNUT01fSEFORExFLXRoaXMuaW5kZXhdLnByb2Nlc3NFdmVudChiKSx0aGlzLmN1c3RvbUhhbmRsZXNbbXhFdmVudC5DVVNUT01fSEFORExFLXRoaXMuaW5kZXhdLmFjdGl2ZT0hMCx0aGlzLmlzTW92ZUN1c3RvbUhhbmRsZVByZXZpZXdUb0Zyb250KHRoaXMuY3VzdG9tSGFuZGxlc1tteEV2ZW50LkNVU1RPTV9IQU5ETEUtdGhpcy5pbmRleF0pJiZ0aGlzLm1vdmVUb0Zyb250KCkpOgp0aGlzLmluZGV4PT1teEV2ZW50LkxBQkVMX0hBTkRMRT90aGlzLm1vdmVMYWJlbChiKTp0aGlzLmluZGV4PT1teEV2ZW50LlJPVEFUSU9OX0hBTkRMRT90aGlzLnJvdGF0ZVZlcnRleChiKToodGhpcy5yZXNpemVWZXJ0ZXgoYiksdGhpcy51cGRhdGVIaW50KGIpKSksYi5jb25zdW1lKCkpfTtteFZlcnRleEhhbmRsZXIucHJvdG90eXBlLmlzTW92ZUN1c3RvbUhhbmRsZVByZXZpZXdUb0Zyb250PWZ1bmN0aW9uKGEpe3JldHVybiExfTsKbXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5tb3ZlTGFiZWw9ZnVuY3Rpb24oYSl7dmFyIGI9bmV3IG14UG9pbnQoYS5nZXRHcmFwaFgoKSxhLmdldEdyYXBoWSgpKSxjPXRoaXMuZ3JhcGgudmlldy50cmFuc2xhdGUsZD10aGlzLmdyYXBoLnZpZXcuc2NhbGU7dGhpcy5ncmFwaC5pc0dyaWRFbmFibGVkRXZlbnQoYS5nZXRFdmVudCgpKSYmKGIueD0odGhpcy5ncmFwaC5zbmFwKGIueC9kLWMueCkrYy54KSpkLGIueT0odGhpcy5ncmFwaC5zbmFwKGIueS9kLWMueSkrYy55KSpkKTt0aGlzLm1vdmVTaXplclRvKHRoaXMuc2l6ZXJzW251bGwhPXRoaXMucm90YXRpb25TaGFwZT90aGlzLnNpemVycy5sZW5ndGgtMjp0aGlzLnNpemVycy5sZW5ndGgtMV0sYi54LGIueSl9OwpteFZlcnRleEhhbmRsZXIucHJvdG90eXBlLnJvdGF0ZVZlcnRleD1mdW5jdGlvbihhKXt2YXIgYj1uZXcgbXhQb2ludChhLmdldEdyYXBoWCgpLGEuZ2V0R3JhcGhZKCkpLGM9dGhpcy5zdGF0ZS54K3RoaXMuc3RhdGUud2lkdGgvMi1iLngsZD10aGlzLnN0YXRlLnkrdGhpcy5zdGF0ZS5oZWlnaHQvMi1iLnk7dGhpcy5jdXJyZW50QWxwaGE9MCE9Yz8xODAqTWF0aC5hdGFuKGQvYykvTWF0aC5QSSs5MDowPmQ/MTgwOjA7MDxjJiYodGhpcy5jdXJyZW50QWxwaGEtPTE4MCk7dGhpcy5jdXJyZW50QWxwaGEtPXRoaXMuc3RhcnRBbmdsZTt0aGlzLnJvdGF0aW9uUmFzdGVyJiZ0aGlzLmdyYXBoLmlzR3JpZEVuYWJsZWRFdmVudChhLmdldEV2ZW50KCkpPyhjPWIueC10aGlzLnN0YXRlLmdldENlbnRlclgoKSxkPWIueS10aGlzLnN0YXRlLmdldENlbnRlclkoKSxhPU1hdGguc3FydChjKmMrZCpkKSxyYXN0ZXI9Mj5hLXRoaXMuc3RhcnREaXN0PzE1OjI1PmEtdGhpcy5zdGFydERpc3Q/NToKMSx0aGlzLmN1cnJlbnRBbHBoYT1NYXRoLnJvdW5kKHRoaXMuY3VycmVudEFscGhhL3Jhc3RlcikqcmFzdGVyKTp0aGlzLmN1cnJlbnRBbHBoYT10aGlzLnJvdW5kQW5nbGUodGhpcy5jdXJyZW50QWxwaGEpO3RoaXMuc2VsZWN0aW9uQm9yZGVyLnJvdGF0aW9uPXRoaXMuY3VycmVudEFscGhhO3RoaXMuc2VsZWN0aW9uQm9yZGVyLnJlZHJhdygpO3RoaXMubGl2ZVByZXZpZXdBY3RpdmUmJnRoaXMucmVkcmF3SGFuZGxlcygpfTsKbXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5yZXNpemVWZXJ0ZXg9ZnVuY3Rpb24oYSl7dmFyIGI9bmV3IG14UG9pbnQodGhpcy5zdGF0ZS5nZXRDZW50ZXJYKCksdGhpcy5zdGF0ZS5nZXRDZW50ZXJZKCkpLGM9bXhVdGlscy50b1JhZGlhbnModGhpcy5zdGF0ZS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9ST1RBVElPTl18fCIwIiksZD1uZXcgbXhQb2ludChhLmdldEdyYXBoWCgpLGEuZ2V0R3JhcGhZKCkpLGU9dGhpcy5ncmFwaC52aWV3LnRyYW5zbGF0ZSxmPXRoaXMuZ3JhcGgudmlldy5zY2FsZSxnPU1hdGguY29zKC1jKSxrPU1hdGguc2luKC1jKSxsPWQueC10aGlzLnN0YXJ0WCxtPWQueS10aGlzLnN0YXJ0WSxkPWsqbCtnKm0sbD1nKmwtayptLG09ZCxnPXRoaXMuZ3JhcGguZ2V0Q2VsbEdlb21ldHJ5KHRoaXMuc3RhdGUuY2VsbCk7dGhpcy51bnNjYWxlZEJvdW5kcz10aGlzLnVuaW9uKGcsbC9mLG0vZix0aGlzLmluZGV4LHRoaXMuZ3JhcGguaXNHcmlkRW5hYmxlZEV2ZW50KGEuZ2V0RXZlbnQoKSksCjEsbmV3IG14UG9pbnQoMCwwKSx0aGlzLmlzQ29uc3RyYWluZWRFdmVudChhKSx0aGlzLmlzQ2VudGVyZWRFdmVudCh0aGlzLnN0YXRlLGEpKTtnLnJlbGF0aXZlfHwoaz10aGlzLmdyYXBoLmdldE1heGltdW1HcmFwaEJvdW5kcygpLG51bGwhPWsmJm51bGwhPXRoaXMucGFyZW50U3RhdGUmJihrPW14UmVjdGFuZ2xlLmZyb21SZWN0YW5nbGUoayksay54LT0odGhpcy5wYXJlbnRTdGF0ZS54LWUueCpmKS9mLGsueS09KHRoaXMucGFyZW50U3RhdGUueS1lLnkqZikvZiksdGhpcy5ncmFwaC5pc0NvbnN0cmFpbkNoaWxkKHRoaXMuc3RhdGUuY2VsbCkmJihkPXRoaXMuZ3JhcGguZ2V0Q2VsbENvbnRhaW5tZW50QXJlYSh0aGlzLnN0YXRlLmNlbGwpLG51bGwhPWQmJihsPXRoaXMuZ3JhcGguZ2V0T3ZlcmxhcCh0aGlzLnN0YXRlLmNlbGwpLDA8bCYmKGQ9bXhSZWN0YW5nbGUuZnJvbVJlY3RhbmdsZShkKSxkLngtPWQud2lkdGgqbCxkLnktPWQuaGVpZ2h0KmwsZC53aWR0aCs9MipkLndpZHRoKgpsLGQuaGVpZ2h0Kz0yKmQuaGVpZ2h0KmwpLG51bGw9PWs/az1kOihrPW14UmVjdGFuZ2xlLmZyb21SZWN0YW5nbGUoayksay5pbnRlcnNlY3QoZCkpKSksbnVsbCE9ayYmKHRoaXMudW5zY2FsZWRCb3VuZHMueDxrLngmJih0aGlzLnVuc2NhbGVkQm91bmRzLndpZHRoLT1rLngtdGhpcy51bnNjYWxlZEJvdW5kcy54LHRoaXMudW5zY2FsZWRCb3VuZHMueD1rLngpLHRoaXMudW5zY2FsZWRCb3VuZHMueTxrLnkmJih0aGlzLnVuc2NhbGVkQm91bmRzLmhlaWdodC09ay55LXRoaXMudW5zY2FsZWRCb3VuZHMueSx0aGlzLnVuc2NhbGVkQm91bmRzLnk9ay55KSx0aGlzLnVuc2NhbGVkQm91bmRzLngrdGhpcy51bnNjYWxlZEJvdW5kcy53aWR0aD5rLngray53aWR0aCYmKHRoaXMudW5zY2FsZWRCb3VuZHMud2lkdGgtPXRoaXMudW5zY2FsZWRCb3VuZHMueCt0aGlzLnVuc2NhbGVkQm91bmRzLndpZHRoLWsueC1rLndpZHRoKSx0aGlzLnVuc2NhbGVkQm91bmRzLnkrdGhpcy51bnNjYWxlZEJvdW5kcy5oZWlnaHQ+CmsueStrLmhlaWdodCYmKHRoaXMudW5zY2FsZWRCb3VuZHMuaGVpZ2h0LT10aGlzLnVuc2NhbGVkQm91bmRzLnkrdGhpcy51bnNjYWxlZEJvdW5kcy5oZWlnaHQtay55LWsuaGVpZ2h0KSkpO2Q9dGhpcy5ib3VuZHM7dGhpcy5ib3VuZHM9bmV3IG14UmVjdGFuZ2xlKChudWxsIT10aGlzLnBhcmVudFN0YXRlP3RoaXMucGFyZW50U3RhdGUueDplLngqZikrdGhpcy51bnNjYWxlZEJvdW5kcy54KmYsKG51bGwhPXRoaXMucGFyZW50U3RhdGU/dGhpcy5wYXJlbnRTdGF0ZS55OmUueSpmKSt0aGlzLnVuc2NhbGVkQm91bmRzLnkqZix0aGlzLnVuc2NhbGVkQm91bmRzLndpZHRoKmYsdGhpcy51bnNjYWxlZEJvdW5kcy5oZWlnaHQqZik7Zy5yZWxhdGl2ZSYmbnVsbCE9dGhpcy5wYXJlbnRTdGF0ZSYmKHRoaXMuYm91bmRzLngrPXRoaXMuc3RhdGUueC10aGlzLnBhcmVudFN0YXRlLngsdGhpcy5ib3VuZHMueSs9dGhpcy5zdGF0ZS55LXRoaXMucGFyZW50U3RhdGUueSk7Zz1NYXRoLmNvcyhjKTsKaz1NYXRoLnNpbihjKTtjPW5ldyBteFBvaW50KHRoaXMuYm91bmRzLmdldENlbnRlclgoKSx0aGlzLmJvdW5kcy5nZXRDZW50ZXJZKCkpO2w9Yy54LWIueDttPWMueS1iLnk7Yj1nKmwtayptLWw7Yz1rKmwrZyptLW07bD10aGlzLmJvdW5kcy54LXRoaXMuc3RhdGUueDttPXRoaXMuYm91bmRzLnktdGhpcy5zdGF0ZS55O2U9ZypsLWsqbTtnPWsqbCtnKm07dGhpcy5ib3VuZHMueCs9Yjt0aGlzLmJvdW5kcy55Kz1jO3RoaXMudW5zY2FsZWRCb3VuZHMueD10aGlzLnJvdW5kTGVuZ3RoKHRoaXMudW5zY2FsZWRCb3VuZHMueCtiL2YpO3RoaXMudW5zY2FsZWRCb3VuZHMueT10aGlzLnJvdW5kTGVuZ3RoKHRoaXMudW5zY2FsZWRCb3VuZHMueStjL2YpO3RoaXMudW5zY2FsZWRCb3VuZHMud2lkdGg9dGhpcy5yb3VuZExlbmd0aCh0aGlzLnVuc2NhbGVkQm91bmRzLndpZHRoKTt0aGlzLnVuc2NhbGVkQm91bmRzLmhlaWdodD10aGlzLnJvdW5kTGVuZ3RoKHRoaXMudW5zY2FsZWRCb3VuZHMuaGVpZ2h0KTsKdGhpcy5ncmFwaC5pc0NlbGxDb2xsYXBzZWQodGhpcy5zdGF0ZS5jZWxsKXx8MD09YiYmMD09Yz90aGlzLmNoaWxkT2Zmc2V0WT10aGlzLmNoaWxkT2Zmc2V0WD0wOih0aGlzLmNoaWxkT2Zmc2V0WD10aGlzLnN0YXRlLngtdGhpcy5ib3VuZHMueCtlLHRoaXMuY2hpbGRPZmZzZXRZPXRoaXMuc3RhdGUueS10aGlzLmJvdW5kcy55K2cpO2QuZXF1YWxzKHRoaXMuYm91bmRzKXx8KHRoaXMubGl2ZVByZXZpZXdBY3RpdmUmJnRoaXMudXBkYXRlTGl2ZVByZXZpZXcoYSksbnVsbCE9dGhpcy5wcmV2aWV3P3RoaXMuZHJhd1ByZXZpZXcoKTp0aGlzLnVwZGF0ZVBhcmVudEhpZ2hsaWdodCgpKX07Cm14VmVydGV4SGFuZGxlci5wcm90b3R5cGUudXBkYXRlTGl2ZVByZXZpZXc9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5ncmFwaC52aWV3LnNjYWxlLGM9dGhpcy5ncmFwaC52aWV3LnRyYW5zbGF0ZTthPXRoaXMuc3RhdGUuY2xvbmUoKTt0aGlzLnN0YXRlLng9dGhpcy5ib3VuZHMueDt0aGlzLnN0YXRlLnk9dGhpcy5ib3VuZHMueTt0aGlzLnN0YXRlLm9yaWdpbj1uZXcgbXhQb2ludCh0aGlzLnN0YXRlLngvYi1jLngsdGhpcy5zdGF0ZS55L2ItYy55KTt0aGlzLnN0YXRlLndpZHRoPXRoaXMuYm91bmRzLndpZHRoO3RoaXMuc3RhdGUuaGVpZ2h0PXRoaXMuYm91bmRzLmhlaWdodDtiPXRoaXMuc3RhdGUuYWJzb2x1dGVPZmZzZXQ7bmV3IG14UG9pbnQoYi54LGIueSk7dGhpcy5zdGF0ZS5hYnNvbHV0ZU9mZnNldC54PTA7dGhpcy5zdGF0ZS5hYnNvbHV0ZU9mZnNldC55PTA7Yj10aGlzLmdyYXBoLmdldENlbGxHZW9tZXRyeSh0aGlzLnN0YXRlLmNlbGwpO251bGwhPWImJihjPWIub2Zmc2V0fHwKdGhpcy5FTVBUWV9QT0lOVCxudWxsPT1jfHxiLnJlbGF0aXZlfHwodGhpcy5zdGF0ZS5hYnNvbHV0ZU9mZnNldC54PXRoaXMuc3RhdGUudmlldy5zY2FsZSpjLngsdGhpcy5zdGF0ZS5hYnNvbHV0ZU9mZnNldC55PXRoaXMuc3RhdGUudmlldy5zY2FsZSpjLnkpLHRoaXMuc3RhdGUudmlldy51cGRhdGVWZXJ0ZXhMYWJlbE9mZnNldCh0aGlzLnN0YXRlKSk7dGhpcy5zdGF0ZS52aWV3LmdyYXBoLmNlbGxSZW5kZXJlci5yZWRyYXcodGhpcy5zdGF0ZSwhMCk7dGhpcy5zdGF0ZS52aWV3LmludmFsaWRhdGUodGhpcy5zdGF0ZS5jZWxsKTt0aGlzLnN0YXRlLmludmFsaWQ9ITE7dGhpcy5zdGF0ZS52aWV3LnZhbGlkYXRlKCk7dGhpcy5yZWRyYXdIYW5kbGVzKCk7dGhpcy5tb3ZlVG9Gcm9udCgpO251bGwhPXRoaXMuc3RhdGUuY29udHJvbCYmbnVsbCE9dGhpcy5zdGF0ZS5jb250cm9sLm5vZGUmJih0aGlzLnN0YXRlLmNvbnRyb2wubm9kZS5zdHlsZS52aXNpYmlsaXR5PSJoaWRkZW4iKTt0aGlzLnN0YXRlLnNldFN0YXRlKGEpfTsKbXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5tb3ZlVG9Gcm9udD1mdW5jdGlvbigpe2lmKG51bGwhPXRoaXMuc3RhdGUudGV4dCYmbnVsbCE9dGhpcy5zdGF0ZS50ZXh0Lm5vZGUmJm51bGwhPXRoaXMuc3RhdGUudGV4dC5ub2RlLm5leHRTaWJsaW5nfHxudWxsIT10aGlzLnN0YXRlLnNoYXBlJiZudWxsIT10aGlzLnN0YXRlLnNoYXBlLm5vZGUmJm51bGwhPXRoaXMuc3RhdGUuc2hhcGUubm9kZS5uZXh0U2libGluZyYmKG51bGw9PXRoaXMuc3RhdGUudGV4dHx8dGhpcy5zdGF0ZS5zaGFwZS5ub2RlLm5leHRTaWJsaW5nIT10aGlzLnN0YXRlLnRleHQubm9kZSkpbnVsbCE9dGhpcy5zdGF0ZS5zaGFwZSYmbnVsbCE9dGhpcy5zdGF0ZS5zaGFwZS5ub2RlJiZ0aGlzLnN0YXRlLnNoYXBlLm5vZGUucGFyZW50Tm9kZS5hcHBlbmRDaGlsZCh0aGlzLnN0YXRlLnNoYXBlLm5vZGUpLG51bGwhPXRoaXMuc3RhdGUudGV4dCYmbnVsbCE9dGhpcy5zdGF0ZS50ZXh0Lm5vZGUmJnRoaXMuc3RhdGUudGV4dC5ub2RlLnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQodGhpcy5zdGF0ZS50ZXh0Lm5vZGUpfTsKbXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5tb3VzZVVwPWZ1bmN0aW9uKGEsYil7aWYobnVsbCE9dGhpcy5pbmRleCYmbnVsbCE9dGhpcy5zdGF0ZSl7dmFyIGM9bmV3IG14UG9pbnQoYi5nZXRHcmFwaFgoKSxiLmdldEdyYXBoWSgpKSxkPXRoaXMuaW5kZXg7dGhpcy5pbmRleD1udWxsO3RoaXMuc3RhdGUudmlldy5pbnZhbGlkYXRlKHRoaXMuc3RhdGUuY2VsbCwhMSwhMSk7dGhpcy5zdGF0ZS52aWV3LnZhbGlkYXRlKCk7dGhpcy5ncmFwaC5nZXRNb2RlbCgpLmJlZ2luVXBkYXRlKCk7dHJ5e2lmKGQ8PW14RXZlbnQuQ1VTVE9NX0hBTkRMRSludWxsIT10aGlzLmN1c3RvbUhhbmRsZXMmJih0aGlzLmN1c3RvbUhhbmRsZXNbbXhFdmVudC5DVVNUT01fSEFORExFLWRdLmFjdGl2ZT0hMSx0aGlzLmN1c3RvbUhhbmRsZXNbbXhFdmVudC5DVVNUT01fSEFORExFLWRdLmV4ZWN1dGUoYikpO2Vsc2UgaWYoZD09bXhFdmVudC5ST1RBVElPTl9IQU5ETEUpaWYobnVsbCE9dGhpcy5jdXJyZW50QWxwaGEpe3ZhciBlPQp0aGlzLmN1cnJlbnRBbHBoYS0odGhpcy5zdGF0ZS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9ST1RBVElPTl18fDApOzAhPWUmJnRoaXMucm90YXRlQ2VsbCh0aGlzLnN0YXRlLmNlbGwsZSl9ZWxzZSB0aGlzLnJvdGF0ZUNsaWNrKCk7ZWxzZXt2YXIgZj10aGlzLmdyYXBoLmlzR3JpZEVuYWJsZWRFdmVudChiLmdldEV2ZW50KCkpLGc9bXhVdGlscy50b1JhZGlhbnModGhpcy5zdGF0ZS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9ST1RBVElPTl18fCIwIiksaz1NYXRoLmNvcygtZyksbD1NYXRoLnNpbigtZyksbT1jLngtdGhpcy5zdGFydFgsbj1jLnktdGhpcy5zdGFydFksYz1sKm0raypuLG09ayptLWwqbixuPWMscD10aGlzLmdyYXBoLnZpZXcuc2NhbGUscT10aGlzLmlzUmVjdXJzaXZlUmVzaXplKHRoaXMuc3RhdGUsYik7dGhpcy5yZXNpemVDZWxsKHRoaXMuc3RhdGUuY2VsbCx0aGlzLnJvdW5kTGVuZ3RoKG0vcCksdGhpcy5yb3VuZExlbmd0aChuL3ApLGQsZix0aGlzLmlzQ29uc3RyYWluZWRFdmVudChiKSwKcSl9fWZpbmFsbHl7dGhpcy5ncmFwaC5nZXRNb2RlbCgpLmVuZFVwZGF0ZSgpfWIuY29uc3VtZSgpO3RoaXMucmVzZXQoKX19O214VmVydGV4SGFuZGxlci5wcm90b3R5cGUuaXNSZWN1cnNpdmVSZXNpemU9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5ncmFwaC5pc1JlY3Vyc2l2ZVJlc2l6ZSh0aGlzLnN0YXRlKX07bXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5yb3RhdGVDbGljaz1mdW5jdGlvbigpe307Cm14VmVydGV4SGFuZGxlci5wcm90b3R5cGUucm90YXRlQ2VsbD1mdW5jdGlvbihhLGIsYyl7aWYoMCE9Yil7dmFyIGQ9dGhpcy5ncmFwaC5nZXRNb2RlbCgpO2lmKGQuaXNWZXJ0ZXgoYSl8fGQuaXNFZGdlKGEpKXtpZighZC5pc0VkZ2UoYSkpe3ZhciBlPSh0aGlzLmdyYXBoLmdldEN1cnJlbnRDZWxsU3R5bGUoYSlbbXhDb25zdGFudHMuU1RZTEVfUk9UQVRJT05dfHwwKStiO3RoaXMuZ3JhcGguc2V0Q2VsbFN0eWxlcyhteENvbnN0YW50cy5TVFlMRV9ST1RBVElPTixlLFthXSl9ZT10aGlzLmdyYXBoLmdldENlbGxHZW9tZXRyeShhKTtpZihudWxsIT1lKXt2YXIgZj10aGlzLmdyYXBoLmdldENlbGxHZW9tZXRyeShjKTtudWxsPT1mfHxkLmlzRWRnZShjKXx8KGU9ZS5jbG9uZSgpLGUucm90YXRlKGIsbmV3IG14UG9pbnQoZi53aWR0aC8yLGYuaGVpZ2h0LzIpKSxkLnNldEdlb21ldHJ5KGEsZSkpO2lmKGQuaXNWZXJ0ZXgoYSkmJiFlLnJlbGF0aXZlfHxkLmlzRWRnZShhKSlmb3IoYz0KZC5nZXRDaGlsZENvdW50KGEpLGU9MDtlPGM7ZSsrKXRoaXMucm90YXRlQ2VsbChkLmdldENoaWxkQXQoYSxlKSxiLGEpfX19fTsKbXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe251bGwhPXRoaXMuc2l6ZXJzJiZudWxsIT10aGlzLmluZGV4JiZudWxsIT10aGlzLnNpemVyc1t0aGlzLmluZGV4XSYmIm5vbmUiPT10aGlzLnNpemVyc1t0aGlzLmluZGV4XS5ub2RlLnN0eWxlLmRpc3BsYXkmJih0aGlzLnNpemVyc1t0aGlzLmluZGV4XS5ub2RlLnN0eWxlLmRpc3BsYXk9IiIpO3RoaXMuaW5kZXg9dGhpcy5pblRvbGVyYW5jZT10aGlzLmN1cnJlbnRBbHBoYT1udWxsO251bGwhPXRoaXMucHJldmlldyYmKHRoaXMucHJldmlldy5kZXN0cm95KCksdGhpcy5wcmV2aWV3PW51bGwpO2lmKHRoaXMubGl2ZVByZXZpZXdBY3RpdmUmJm51bGwhPXRoaXMuc2l6ZXJzKXtmb3IodmFyIGE9MDthPHRoaXMuc2l6ZXJzLmxlbmd0aDthKyspbnVsbCE9dGhpcy5zaXplcnNbYV0mJih0aGlzLnNpemVyc1thXS5ub2RlLnN0eWxlLmRpc3BsYXk9IiIpO251bGwhPXRoaXMuc3RhdGUuY29udHJvbCYmbnVsbCE9CnRoaXMuc3RhdGUuY29udHJvbC5ub2RlJiYodGhpcy5zdGF0ZS5jb250cm9sLm5vZGUuc3R5bGUudmlzaWJpbGl0eT0iIil9aWYobnVsbCE9dGhpcy5jdXN0b21IYW5kbGVzKWZvcihhPTA7YTx0aGlzLmN1c3RvbUhhbmRsZXMubGVuZ3RoO2ErKyl0aGlzLmN1c3RvbUhhbmRsZXNbYV0uYWN0aXZlPyh0aGlzLmN1c3RvbUhhbmRsZXNbYV0uYWN0aXZlPSExLHRoaXMuY3VzdG9tSGFuZGxlc1thXS5yZXNldCgpKTp0aGlzLmN1c3RvbUhhbmRsZXNbYV0uc2V0VmlzaWJsZSghMCk7bnVsbCE9dGhpcy5zZWxlY3Rpb25Cb3JkZXImJih0aGlzLnNlbGVjdGlvbkJvcmRlci5ub2RlLnN0eWxlLmRpc3BsYXk9ImlubGluZSIsdGhpcy5zZWxlY3Rpb25Cb3VuZHM9dGhpcy5nZXRTZWxlY3Rpb25Cb3VuZHModGhpcy5zdGF0ZSksdGhpcy5ib3VuZHM9bmV3IG14UmVjdGFuZ2xlKHRoaXMuc2VsZWN0aW9uQm91bmRzLngsdGhpcy5zZWxlY3Rpb25Cb3VuZHMueSx0aGlzLnNlbGVjdGlvbkJvdW5kcy53aWR0aCwKdGhpcy5zZWxlY3Rpb25Cb3VuZHMuaGVpZ2h0KSx0aGlzLmRyYXdQcmV2aWV3KCkpO3RoaXMucmVtb3ZlSGludCgpO3RoaXMucmVkcmF3SGFuZGxlcygpO3RoaXMubGl2ZVByZXZpZXdBY3RpdmU9dGhpcy51bnNjYWxlZEJvdW5kcz10aGlzLmVkZ2VIYW5kbGVycz1udWxsfTsKbXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5yZXNpemVDZWxsPWZ1bmN0aW9uKGEsYixjLGQsZSxmLGcpe2I9dGhpcy5ncmFwaC5tb2RlbC5nZXRHZW9tZXRyeShhKTtudWxsIT1iJiYoZD09bXhFdmVudC5MQUJFTF9IQU5ETEU/KGQ9LW14VXRpbHMudG9SYWRpYW5zKHRoaXMuc3RhdGUuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfUk9UQVRJT05dfHwiMCIpLGc9TWF0aC5jb3MoZCksYz1NYXRoLnNpbihkKSxkPXRoaXMuZ3JhcGgudmlldy5zY2FsZSxnPW14VXRpbHMuZ2V0Um90YXRlZFBvaW50KG5ldyBteFBvaW50KE1hdGgucm91bmQoKHRoaXMubGFiZWxTaGFwZS5ib3VuZHMuZ2V0Q2VudGVyWCgpLXRoaXMuc3RhcnRYKS9kKSxNYXRoLnJvdW5kKCh0aGlzLmxhYmVsU2hhcGUuYm91bmRzLmdldENlbnRlclkoKS10aGlzLnN0YXJ0WSkvZCkpLGcsYyksYj1iLmNsb25lKCksbnVsbD09Yi5vZmZzZXQ/Yi5vZmZzZXQ9ZzooYi5vZmZzZXQueCs9Zy54LGIub2Zmc2V0LnkrPWcueSksdGhpcy5ncmFwaC5tb2RlbC5zZXRHZW9tZXRyeShhLApiKSk6bnVsbCE9dGhpcy51bnNjYWxlZEJvdW5kcyYmKGQ9dGhpcy5ncmFwaC52aWV3LnNjYWxlLDA9PXRoaXMuY2hpbGRPZmZzZXRYJiYwPT10aGlzLmNoaWxkT2Zmc2V0WXx8dGhpcy5tb3ZlQ2hpbGRyZW4oYSxNYXRoLnJvdW5kKHRoaXMuY2hpbGRPZmZzZXRYL2QpLE1hdGgucm91bmQodGhpcy5jaGlsZE9mZnNldFkvZCkpLHRoaXMuZ3JhcGgucmVzaXplQ2VsbChhLHRoaXMudW5zY2FsZWRCb3VuZHMsZykpKX07bXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5tb3ZlQ2hpbGRyZW49ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD10aGlzLmdyYXBoLmdldE1vZGVsKCksZT1kLmdldENoaWxkQ291bnQoYSksZj0wO2Y8ZTtmKyspe3ZhciBnPWQuZ2V0Q2hpbGRBdChhLGYpLGs9dGhpcy5ncmFwaC5nZXRDZWxsR2VvbWV0cnkoZyk7bnVsbCE9ayYmKGs9ay5jbG9uZSgpLGsudHJhbnNsYXRlKGIsYyksZC5zZXRHZW9tZXRyeShnLGspKX19OwpteFZlcnRleEhhbmRsZXIucHJvdG90eXBlLnVuaW9uPWZ1bmN0aW9uKGEsYixjLGQsZSxmLGcsayxsKXtlPW51bGwhPWU/ZSYmdGhpcy5ncmFwaC5ncmlkRW5hYmxlZDp0aGlzLmdyYXBoLmdyaWRFbmFibGVkO2lmKHRoaXMuc2luZ2xlU2l6ZXIpcmV0dXJuIGQ9YS54K2Eud2lkdGgrYixnPWEueSthLmhlaWdodCtjLGUmJihkPXRoaXMuZ3JhcGguc25hcChkL2YpKmYsZz10aGlzLmdyYXBoLnNuYXAoZy9mKSpmKSxmPW5ldyBteFJlY3RhbmdsZShhLngsYS55LDAsMCksZi5hZGQobmV3IG14UmVjdGFuZ2xlKGQsZywwLDApKSxmO3ZhciBtPWEud2lkdGgsbj1hLmhlaWdodCxwPWEueC1nLngqZixxPXArbTthPWEueS1nLnkqZjt2YXIgcj1hK24sdD1wK20vMix1PWErbi8yOzQ8ZD8ocis9YyxyPWU/dGhpcy5ncmFwaC5zbmFwKHIvZikqZjpNYXRoLnJvdW5kKHIvZikqZik6Mz5kJiYoYSs9YyxhPWU/dGhpcy5ncmFwaC5zbmFwKGEvZikqZjpNYXRoLnJvdW5kKGEvZikqZik7aWYoMD09ZHx8CjM9PWR8fDU9PWQpcCs9YixwPWU/dGhpcy5ncmFwaC5zbmFwKHAvZikqZjpNYXRoLnJvdW5kKHAvZikqZjtlbHNlIGlmKDI9PWR8fDQ9PWR8fDc9PWQpcSs9YixxPWU/dGhpcy5ncmFwaC5zbmFwKHEvZikqZjpNYXRoLnJvdW5kKHEvZikqZjtlPXEtcDtjPXItYTtrJiYoaz10aGlzLmdyYXBoLmdldENlbGxHZW9tZXRyeSh0aGlzLnN0YXRlLmNlbGwpLG51bGwhPWsmJihrPWsud2lkdGgvay5oZWlnaHQsMT09ZHx8Mj09ZHx8Nz09ZHx8Nj09ZD9lPWMqazpjPWUvaywwPT1kJiYocD1xLWUsYT1yLWMpKSk7bCYmKGUrPWUtbSxjKz1jLW4scCs9dC0ocCtlLzIpLGErPXUtKGErYy8yKSk7MD5lJiYocCs9ZSxlPU1hdGguYWJzKGUpKTswPmMmJihhKz1jLGM9TWF0aC5hYnMoYykpO2Q9bmV3IG14UmVjdGFuZ2xlKHArZy54KmYsYStnLnkqZixlLGMpO251bGwhPXRoaXMubWluQm91bmRzJiYoZC53aWR0aD1NYXRoLm1heChkLndpZHRoLHRoaXMubWluQm91bmRzLngqZit0aGlzLm1pbkJvdW5kcy53aWR0aCoKZitNYXRoLm1heCgwLHRoaXMueDAqZi1kLngpKSxkLmhlaWdodD1NYXRoLm1heChkLmhlaWdodCx0aGlzLm1pbkJvdW5kcy55KmYrdGhpcy5taW5Cb3VuZHMuaGVpZ2h0KmYrTWF0aC5tYXgoMCx0aGlzLnkwKmYtZC55KSkpO3JldHVybiBkfTtteFZlcnRleEhhbmRsZXIucHJvdG90eXBlLnJlZHJhdz1mdW5jdGlvbihhKXt0aGlzLnNlbGVjdGlvbkJvdW5kcz10aGlzLmdldFNlbGVjdGlvbkJvdW5kcyh0aGlzLnN0YXRlKTt0aGlzLmJvdW5kcz1uZXcgbXhSZWN0YW5nbGUodGhpcy5zZWxlY3Rpb25Cb3VuZHMueCx0aGlzLnNlbGVjdGlvbkJvdW5kcy55LHRoaXMuc2VsZWN0aW9uQm91bmRzLndpZHRoLHRoaXMuc2VsZWN0aW9uQm91bmRzLmhlaWdodCk7dGhpcy5kcmF3UHJldmlldygpO2F8fHRoaXMucmVkcmF3SGFuZGxlcygpfTsKbXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5nZXRIYW5kbGVQYWRkaW5nPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IG14UG9pbnQoMCwwKSxiPXRoaXMudG9sZXJhbmNlO251bGwhPXRoaXMuc2l6ZXJzJiYwPHRoaXMuc2l6ZXJzLmxlbmd0aCYmbnVsbCE9dGhpcy5zaXplcnNbMF0mJih0aGlzLmJvdW5kcy53aWR0aDwyKnRoaXMuc2l6ZXJzWzBdLmJvdW5kcy53aWR0aCsyKmJ8fHRoaXMuYm91bmRzLmhlaWdodDwyKnRoaXMuc2l6ZXJzWzBdLmJvdW5kcy5oZWlnaHQrMipiKSYmKGIvPTIsYS54PXRoaXMuc2l6ZXJzWzBdLmJvdW5kcy53aWR0aCtiLGEueT10aGlzLnNpemVyc1swXS5ib3VuZHMuaGVpZ2h0K2IpO3JldHVybiBhfTtteFZlcnRleEhhbmRsZXIucHJvdG90eXBlLmdldFNpemVyQm91bmRzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYm91bmRzfTsKbXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5yZWRyYXdIYW5kbGVzPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXRTaXplckJvdW5kcygpLGI9dGhpcy50b2xlcmFuY2U7dGhpcy52ZXJ0aWNhbE9mZnNldD10aGlzLmhvcml6b250YWxPZmZzZXQ9MDtpZihudWxsIT10aGlzLmN1c3RvbUhhbmRsZXMpZm9yKHZhciBjPTA7Yzx0aGlzLmN1c3RvbUhhbmRsZXMubGVuZ3RoO2MrKyl7dmFyIGQ9dGhpcy5jdXN0b21IYW5kbGVzW2NdLnNoYXBlLm5vZGUuc3R5bGUuZGlzcGxheTt0aGlzLmN1c3RvbUhhbmRsZXNbY10ucmVkcmF3KCk7dGhpcy5jdXN0b21IYW5kbGVzW2NdLnNoYXBlLm5vZGUuc3R5bGUuZGlzcGxheT1kO3RoaXMuY3VzdG9tSGFuZGxlc1tjXS5zaGFwZS5ub2RlLnN0eWxlLnZpc2liaWxpdHk9dGhpcy5pc0N1c3RvbUhhbmRsZVZpc2libGUodGhpcy5jdXN0b21IYW5kbGVzW2NdKT8iIjoiaGlkZGVuIn1pZihudWxsIT10aGlzLnNpemVycyYmMDx0aGlzLnNpemVycy5sZW5ndGgmJgpudWxsIT10aGlzLnNpemVyc1swXSl7aWYobnVsbD09dGhpcy5pbmRleCYmdGhpcy5tYW5hZ2VTaXplcnMmJjg8PXRoaXMuc2l6ZXJzLmxlbmd0aCl7Yz10aGlzLmdldEhhbmRsZVBhZGRpbmcoKTt0aGlzLmhvcml6b250YWxPZmZzZXQ9Yy54O3RoaXMudmVydGljYWxPZmZzZXQ9Yy55O2lmKDAhPXRoaXMuaG9yaXpvbnRhbE9mZnNldHx8MCE9dGhpcy52ZXJ0aWNhbE9mZnNldClhPW5ldyBteFJlY3RhbmdsZShhLngsYS55LGEud2lkdGgsYS5oZWlnaHQpLGEueC09dGhpcy5ob3Jpem9udGFsT2Zmc2V0LzIsYS53aWR0aCs9dGhpcy5ob3Jpem9udGFsT2Zmc2V0LGEueS09dGhpcy52ZXJ0aWNhbE9mZnNldC8yLGEuaGVpZ2h0Kz10aGlzLnZlcnRpY2FsT2Zmc2V0Ozg8PXRoaXMuc2l6ZXJzLmxlbmd0aCYmKGEud2lkdGg8Mip0aGlzLnNpemVyc1swXS5ib3VuZHMud2lkdGgrMipifHxhLmhlaWdodDwyKnRoaXMuc2l6ZXJzWzBdLmJvdW5kcy5oZWlnaHQrMipiPyh0aGlzLnNpemVyc1swXS5ub2RlLnN0eWxlLmRpc3BsYXk9CiJub25lIix0aGlzLnNpemVyc1syXS5ub2RlLnN0eWxlLmRpc3BsYXk9Im5vbmUiLHRoaXMuc2l6ZXJzWzVdLm5vZGUuc3R5bGUuZGlzcGxheT0ibm9uZSIsdGhpcy5zaXplcnNbN10ubm9kZS5zdHlsZS5kaXNwbGF5PSJub25lIik6KHRoaXMuc2l6ZXJzWzBdLm5vZGUuc3R5bGUuZGlzcGxheT0iIix0aGlzLnNpemVyc1syXS5ub2RlLnN0eWxlLmRpc3BsYXk9IiIsdGhpcy5zaXplcnNbNV0ubm9kZS5zdHlsZS5kaXNwbGF5PSIiLHRoaXMuc2l6ZXJzWzddLm5vZGUuc3R5bGUuZGlzcGxheT0iIikpfWI9YS54K2Eud2lkdGg7Yz1hLnkrYS5oZWlnaHQ7aWYodGhpcy5zaW5nbGVTaXplcil0aGlzLm1vdmVTaXplclRvKHRoaXMuc2l6ZXJzWzBdLGIsYyk7ZWxzZXt2YXIgZD1hLngrYS53aWR0aC8yLGU9YS55K2EuaGVpZ2h0LzI7aWYoODw9dGhpcy5zaXplcnMubGVuZ3RoKXt2YXIgZj0ibnctcmVzaXplIG4tcmVzaXplIG5lLXJlc2l6ZSBlLXJlc2l6ZSBzZS1yZXNpemUgcy1yZXNpemUgc3ctcmVzaXplIHctcmVzaXplIi5zcGxpdCgiICIpLApnPW14VXRpbHMudG9SYWRpYW5zKHRoaXMuc3RhdGUuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfUk9UQVRJT05dfHwiMCIpLGs9TWF0aC5jb3MoZyksbD1NYXRoLnNpbihnKSxnPU1hdGgucm91bmQoNCpnL01hdGguUEkpLG09bmV3IG14UG9pbnQoYS5nZXRDZW50ZXJYKCksYS5nZXRDZW50ZXJZKCkpLG49bXhVdGlscy5nZXRSb3RhdGVkUG9pbnQobmV3IG14UG9pbnQoYS54LGEueSksayxsLG0pO3RoaXMubW92ZVNpemVyVG8odGhpcy5zaXplcnNbMF0sbi54LG4ueSk7dGhpcy5zaXplcnNbMF0uc2V0Q3Vyc29yKGZbbXhVdGlscy5tb2QoMCtnLGYubGVuZ3RoKV0pO24ueD1kO24ueT1hLnk7bj1teFV0aWxzLmdldFJvdGF0ZWRQb2ludChuLGssbCxtKTt0aGlzLm1vdmVTaXplclRvKHRoaXMuc2l6ZXJzWzFdLG4ueCxuLnkpO3RoaXMuc2l6ZXJzWzFdLnNldEN1cnNvcihmW214VXRpbHMubW9kKDErZyxmLmxlbmd0aCldKTtuLng9YjtuLnk9YS55O249bXhVdGlscy5nZXRSb3RhdGVkUG9pbnQobiwKayxsLG0pO3RoaXMubW92ZVNpemVyVG8odGhpcy5zaXplcnNbMl0sbi54LG4ueSk7dGhpcy5zaXplcnNbMl0uc2V0Q3Vyc29yKGZbbXhVdGlscy5tb2QoMitnLGYubGVuZ3RoKV0pO24ueD1hLng7bi55PWU7bj1teFV0aWxzLmdldFJvdGF0ZWRQb2ludChuLGssbCxtKTt0aGlzLm1vdmVTaXplclRvKHRoaXMuc2l6ZXJzWzNdLG4ueCxuLnkpO3RoaXMuc2l6ZXJzWzNdLnNldEN1cnNvcihmW214VXRpbHMubW9kKDcrZyxmLmxlbmd0aCldKTtuLng9YjtuLnk9ZTtuPW14VXRpbHMuZ2V0Um90YXRlZFBvaW50KG4sayxsLG0pO3RoaXMubW92ZVNpemVyVG8odGhpcy5zaXplcnNbNF0sbi54LG4ueSk7dGhpcy5zaXplcnNbNF0uc2V0Q3Vyc29yKGZbbXhVdGlscy5tb2QoMytnLGYubGVuZ3RoKV0pO24ueD1hLng7bi55PWM7bj1teFV0aWxzLmdldFJvdGF0ZWRQb2ludChuLGssbCxtKTt0aGlzLm1vdmVTaXplclRvKHRoaXMuc2l6ZXJzWzVdLG4ueCxuLnkpO3RoaXMuc2l6ZXJzWzVdLnNldEN1cnNvcihmW214VXRpbHMubW9kKDYrCmcsZi5sZW5ndGgpXSk7bi54PWQ7bi55PWM7bj1teFV0aWxzLmdldFJvdGF0ZWRQb2ludChuLGssbCxtKTt0aGlzLm1vdmVTaXplclRvKHRoaXMuc2l6ZXJzWzZdLG4ueCxuLnkpO3RoaXMuc2l6ZXJzWzZdLnNldEN1cnNvcihmW214VXRpbHMubW9kKDUrZyxmLmxlbmd0aCldKTtuLng9YjtuLnk9YztuPW14VXRpbHMuZ2V0Um90YXRlZFBvaW50KG4sayxsLG0pO3RoaXMubW92ZVNpemVyVG8odGhpcy5zaXplcnNbN10sbi54LG4ueSk7dGhpcy5zaXplcnNbN10uc2V0Q3Vyc29yKGZbbXhVdGlscy5tb2QoNCtnLGYubGVuZ3RoKV0pO24ueD1kK3RoaXMuc3RhdGUuYWJzb2x1dGVPZmZzZXQueDtuLnk9ZSt0aGlzLnN0YXRlLmFic29sdXRlT2Zmc2V0Lnk7bj1teFV0aWxzLmdldFJvdGF0ZWRQb2ludChuLGssbCxtKTt0aGlzLm1vdmVTaXplclRvKHRoaXMuc2l6ZXJzWzhdLG4ueCxuLnkpfWVsc2UgMjw9dGhpcy5zdGF0ZS53aWR0aCYmMjw9dGhpcy5zdGF0ZS5oZWlnaHQ/dGhpcy5tb3ZlU2l6ZXJUbyh0aGlzLnNpemVyc1swXSwKZCt0aGlzLnN0YXRlLmFic29sdXRlT2Zmc2V0LngsZSt0aGlzLnN0YXRlLmFic29sdXRlT2Zmc2V0LnkpOnRoaXMubW92ZVNpemVyVG8odGhpcy5zaXplcnNbMF0sdGhpcy5zdGF0ZS54LHRoaXMuc3RhdGUueSl9fW51bGwhPXRoaXMucm90YXRpb25TaGFwZSYmKGc9bXhVdGlscy50b1JhZGlhbnMobnVsbCE9dGhpcy5jdXJyZW50QWxwaGE/dGhpcy5jdXJyZW50QWxwaGE6dGhpcy5zdGF0ZS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9ST1RBVElPTl18fCIwIiksaz1NYXRoLmNvcyhnKSxsPU1hdGguc2luKGcpLG09bmV3IG14UG9pbnQodGhpcy5zdGF0ZS5nZXRDZW50ZXJYKCksdGhpcy5zdGF0ZS5nZXRDZW50ZXJZKCkpLG49bXhVdGlscy5nZXRSb3RhdGVkUG9pbnQodGhpcy5nZXRSb3RhdGlvbkhhbmRsZVBvc2l0aW9uKCksayxsLG0pLG51bGwhPXRoaXMucm90YXRpb25TaGFwZS5ub2RlJiYodGhpcy5tb3ZlU2l6ZXJUbyh0aGlzLnJvdGF0aW9uU2hhcGUsbi54LG4ueSksdGhpcy5yb3RhdGlvblNoYXBlLm5vZGUuc3R5bGUudmlzaWJpbGl0eT0KdGhpcy5zdGF0ZS52aWV3LmdyYXBoLmlzRWRpdGluZygpPyJoaWRkZW4iOiIiKSk7bnVsbCE9dGhpcy5zZWxlY3Rpb25Cb3JkZXImJih0aGlzLnNlbGVjdGlvbkJvcmRlci5yb3RhdGlvbj1OdW1iZXIodGhpcy5zdGF0ZS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9ST1RBVElPTl18fCIwIikpO2lmKG51bGwhPXRoaXMuZWRnZUhhbmRsZXJzKWZvcihjPTA7Yzx0aGlzLmVkZ2VIYW5kbGVycy5sZW5ndGg7YysrKXRoaXMuZWRnZUhhbmRsZXJzW2NdLnJlZHJhdygpfTtteFZlcnRleEhhbmRsZXIucHJvdG90eXBlLmlzQ3VzdG9tSGFuZGxlVmlzaWJsZT1mdW5jdGlvbihhKXtyZXR1cm4hdGhpcy5ncmFwaC5pc0VkaXRpbmcoKSYmMT09dGhpcy5zdGF0ZS52aWV3LmdyYXBoLmdldFNlbGVjdGlvbkNvdW50KCl9OwpteFZlcnRleEhhbmRsZXIucHJvdG90eXBlLmdldFJvdGF0aW9uSGFuZGxlUG9zaXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG14UG9pbnQodGhpcy5ib3VuZHMueCt0aGlzLmJvdW5kcy53aWR0aC8yLHRoaXMuYm91bmRzLnkrdGhpcy5yb3RhdGlvbkhhbmRsZVZTcGFjaW5nKX07bXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5pc1BhcmVudEhpZ2hsaWdodFZpc2libGU9ZnVuY3Rpb24oKXtyZXR1cm4hMH07Cm14VmVydGV4SGFuZGxlci5wcm90b3R5cGUudXBkYXRlUGFyZW50SGlnaGxpZ2h0PWZ1bmN0aW9uKCl7aWYobnVsbCE9dGhpcy5zZWxlY3Rpb25Cb3JkZXImJnRoaXMuaXNQYXJlbnRIaWdobGlnaHRWaXNpYmxlKCkpaWYobnVsbCE9dGhpcy5wYXJlbnRIaWdobGlnaHQpe3ZhciBhPXRoaXMuZ3JhcGgubW9kZWwuZ2V0UGFyZW50KHRoaXMuc3RhdGUuY2VsbCk7aWYodGhpcy5ncmFwaC5tb2RlbC5pc1ZlcnRleChhKSl7dmFyIGE9dGhpcy5ncmFwaC52aWV3LmdldFN0YXRlKGEpLGI9dGhpcy5wYXJlbnRIaWdobGlnaHQuYm91bmRzO251bGw9PWF8fGIueD09YS54JiZiLnk9PWEueSYmYi53aWR0aD09YS53aWR0aCYmYi5oZWlnaHQ9PWEuaGVpZ2h0fHwodGhpcy5wYXJlbnRIaWdobGlnaHQuYm91bmRzPW14UmVjdGFuZ2xlLmZyb21SZWN0YW5nbGUoYSksdGhpcy5wYXJlbnRIaWdobGlnaHQucmVkcmF3KCkpfWVsc2UgdGhpcy5wYXJlbnRIaWdobGlnaHQuZGVzdHJveSgpLHRoaXMucGFyZW50SGlnaGxpZ2h0PQpudWxsfWVsc2UgdGhpcy5wYXJlbnRIaWdobGlnaHRFbmFibGVkJiYoYT10aGlzLmdyYXBoLm1vZGVsLmdldFBhcmVudCh0aGlzLnN0YXRlLmNlbGwpLHRoaXMuZ3JhcGgubW9kZWwuaXNWZXJ0ZXgoYSkmJihhPXRoaXMuZ3JhcGgudmlldy5nZXRTdGF0ZShhKSxudWxsIT1hJiYodGhpcy5wYXJlbnRIaWdobGlnaHQ9dGhpcy5jcmVhdGVQYXJlbnRIaWdobGlnaHRTaGFwZShhKSx0aGlzLnBhcmVudEhpZ2hsaWdodC5kaWFsZWN0PXRoaXMuZ3JhcGguZGlhbGVjdCE9bXhDb25zdGFudHMuRElBTEVDVF9TVkc/bXhDb25zdGFudHMuRElBTEVDVF9WTUw6bXhDb25zdGFudHMuRElBTEVDVF9TVkcsdGhpcy5wYXJlbnRIaWdobGlnaHQucG9pbnRlckV2ZW50cz0hMSx0aGlzLnBhcmVudEhpZ2hsaWdodC5yb3RhdGlvbj1OdW1iZXIoYS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9ST1RBVElPTl18fCIwIiksdGhpcy5wYXJlbnRIaWdobGlnaHQuaW5pdCh0aGlzLmdyYXBoLmdldFZpZXcoKS5nZXRPdmVybGF5UGFuZSgpKSwKdGhpcy5wYXJlbnRIaWdobGlnaHQucmVkcmF3KCkpKSl9OwpteFZlcnRleEhhbmRsZXIucHJvdG90eXBlLmRyYXdQcmV2aWV3PWZ1bmN0aW9uKCl7bnVsbCE9dGhpcy5wcmV2aWV3JiYodGhpcy5wcmV2aWV3LmJvdW5kcz10aGlzLmJvdW5kcyx0aGlzLnByZXZpZXcubm9kZS5wYXJlbnROb2RlPT10aGlzLmdyYXBoLmNvbnRhaW5lciYmKHRoaXMucHJldmlldy5ib3VuZHMud2lkdGg9TWF0aC5tYXgoMCx0aGlzLnByZXZpZXcuYm91bmRzLndpZHRoLTEpLHRoaXMucHJldmlldy5ib3VuZHMuaGVpZ2h0PU1hdGgubWF4KDAsdGhpcy5wcmV2aWV3LmJvdW5kcy5oZWlnaHQtMSkpLHRoaXMucHJldmlldy5yb3RhdGlvbj1OdW1iZXIodGhpcy5zdGF0ZS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9ST1RBVElPTl18fCIwIiksdGhpcy5wcmV2aWV3LnJlZHJhdygpKTt0aGlzLnNlbGVjdGlvbkJvcmRlci5ib3VuZHM9dGhpcy5nZXRTZWxlY3Rpb25Cb3JkZXJCb3VuZHMoKTt0aGlzLnNlbGVjdGlvbkJvcmRlci5yZWRyYXcoKTt0aGlzLnVwZGF0ZVBhcmVudEhpZ2hsaWdodCgpfTsKbXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5nZXRTZWxlY3Rpb25Cb3JkZXJCb3VuZHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ib3VuZHN9OwpteFZlcnRleEhhbmRsZXIucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXtudWxsIT10aGlzLmVzY2FwZUhhbmRsZXImJih0aGlzLnN0YXRlLnZpZXcuZ3JhcGgucmVtb3ZlTGlzdGVuZXIodGhpcy5lc2NhcGVIYW5kbGVyKSx0aGlzLmVzY2FwZUhhbmRsZXI9bnVsbCk7bnVsbCE9dGhpcy5wcmV2aWV3JiYodGhpcy5wcmV2aWV3LmRlc3Ryb3koKSx0aGlzLnByZXZpZXc9bnVsbCk7bnVsbCE9dGhpcy5wYXJlbnRIaWdobGlnaHQmJih0aGlzLnBhcmVudEhpZ2hsaWdodC5kZXN0cm95KCksdGhpcy5wYXJlbnRIaWdobGlnaHQ9bnVsbCk7bnVsbCE9dGhpcy5zZWxlY3Rpb25Cb3JkZXImJih0aGlzLnNlbGVjdGlvbkJvcmRlci5kZXN0cm95KCksdGhpcy5zZWxlY3Rpb25Cb3JkZXI9bnVsbCk7dGhpcy5sYWJlbFNoYXBlPW51bGw7dGhpcy5yZW1vdmVIaW50KCk7aWYobnVsbCE9dGhpcy5zaXplcnMpe2Zvcih2YXIgYT0wO2E8dGhpcy5zaXplcnMubGVuZ3RoO2ErKyl0aGlzLnNpemVyc1thXS5kZXN0cm95KCk7CnRoaXMuc2l6ZXJzPW51bGx9aWYobnVsbCE9dGhpcy5jdXN0b21IYW5kbGVzKXtmb3IoYT0wO2E8dGhpcy5jdXN0b21IYW5kbGVzLmxlbmd0aDthKyspdGhpcy5jdXN0b21IYW5kbGVzW2FdLmRlc3Ryb3koKTt0aGlzLmN1c3RvbUhhbmRsZXM9bnVsbH19O2Z1bmN0aW9uIG14RWRnZUhhbmRsZXIoYSl7bnVsbCE9YSYmKHRoaXMuc3RhdGU9YSx0aGlzLmluaXQoKSx0aGlzLmVzY2FwZUhhbmRsZXI9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYixjKXt2YXIgZD1udWxsIT10aGlzLmluZGV4O3RoaXMucmVzZXQoKTtkJiZ0aGlzLmdyYXBoLmNlbGxSZW5kZXJlci5yZWRyYXcodGhpcy5zdGF0ZSwhMSxhLnZpZXcuaXNSZW5kZXJpbmcoKSl9KSx0aGlzLnN0YXRlLnZpZXcuZ3JhcGguYWRkTGlzdGVuZXIobXhFdmVudC5FU0NBUEUsdGhpcy5lc2NhcGVIYW5kbGVyKSl9bXhFZGdlSGFuZGxlci5wcm90b3R5cGUuZ3JhcGg9bnVsbDtteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5zdGF0ZT1udWxsOwpteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5tYXJrZXI9bnVsbDtteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5jb25zdHJhaW50SGFuZGxlcj1udWxsO214RWRnZUhhbmRsZXIucHJvdG90eXBlLmVycm9yPW51bGw7bXhFZGdlSGFuZGxlci5wcm90b3R5cGUuc2hhcGU9bnVsbDtteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5iZW5kcz1udWxsO214RWRnZUhhbmRsZXIucHJvdG90eXBlLmxhYmVsU2hhcGU9bnVsbDtteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5jbG9uZUVuYWJsZWQ9ITA7bXhFZGdlSGFuZGxlci5wcm90b3R5cGUuYWRkRW5hYmxlZD0hMTtteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5yZW1vdmVFbmFibGVkPSExO214RWRnZUhhbmRsZXIucHJvdG90eXBlLmRibENsaWNrUmVtb3ZlRW5hYmxlZD0hMTtteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5tZXJnZVJlbW92ZUVuYWJsZWQ9ITE7bXhFZGdlSGFuZGxlci5wcm90b3R5cGUuc3RyYWlnaHRSZW1vdmVFbmFibGVkPSExOwpteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS52aXJ0dWFsQmVuZHNFbmFibGVkPSExO214RWRnZUhhbmRsZXIucHJvdG90eXBlLnZpcnR1YWxCZW5kT3BhY2l0eT0yMDtteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5wYXJlbnRIaWdobGlnaHRFbmFibGVkPSExO214RWRnZUhhbmRsZXIucHJvdG90eXBlLnByZWZlckh0bWw9ITE7bXhFZGdlSGFuZGxlci5wcm90b3R5cGUuYWxsb3dIYW5kbGVCb3VuZHNDaGVjaz0hMDtteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5zbmFwVG9UZXJtaW5hbHM9ITE7bXhFZGdlSGFuZGxlci5wcm90b3R5cGUuaGFuZGxlSW1hZ2U9bnVsbDtteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS50b2xlcmFuY2U9MDtteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5vdXRsaW5lQ29ubmVjdD0hMTtteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5tYW5hZ2VMYWJlbEhhbmRsZT0hMTsKbXhFZGdlSGFuZGxlci5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbigpe3RoaXMuZ3JhcGg9dGhpcy5zdGF0ZS52aWV3LmdyYXBoO3RoaXMubWFya2VyPXRoaXMuY3JlYXRlTWFya2VyKCk7dGhpcy5jb25zdHJhaW50SGFuZGxlcj1uZXcgbXhDb25zdHJhaW50SGFuZGxlcih0aGlzLmdyYXBoKTt0aGlzLnBvaW50cz1bXTt0aGlzLmFic3BvaW50cz10aGlzLmdldFNlbGVjdGlvblBvaW50cyh0aGlzLnN0YXRlKTt0aGlzLnNoYXBlPXRoaXMuY3JlYXRlU2VsZWN0aW9uU2hhcGUodGhpcy5hYnNwb2ludHMpO3RoaXMuc2hhcGUuZGlhbGVjdD10aGlzLmdyYXBoLmRpYWxlY3QhPW14Q29uc3RhbnRzLkRJQUxFQ1RfU1ZHP214Q29uc3RhbnRzLkRJQUxFQ1RfTUlYRURIVE1MOm14Q29uc3RhbnRzLkRJQUxFQ1RfU1ZHO3RoaXMuc2hhcGUuaW5pdCh0aGlzLmdyYXBoLmdldFZpZXcoKS5nZXRPdmVybGF5UGFuZSgpKTt0aGlzLnNoYXBlLnBvaW50ZXJFdmVudHM9ITE7dGhpcy5zaGFwZS5zZXRDdXJzb3IobXhDb25zdGFudHMuQ1VSU09SX01PVkFCTEVfRURHRSk7Cm14RXZlbnQucmVkaXJlY3RNb3VzZUV2ZW50cyh0aGlzLnNoYXBlLm5vZGUsdGhpcy5ncmFwaCx0aGlzLnN0YXRlKTt0aGlzLnByZWZlckh0bWw9bnVsbCE9dGhpcy5zdGF0ZS50ZXh0JiZ0aGlzLnN0YXRlLnRleHQubm9kZS5wYXJlbnROb2RlPT10aGlzLmdyYXBoLmNvbnRhaW5lcjtpZighdGhpcy5wcmVmZXJIdG1sKXt2YXIgYT10aGlzLnN0YXRlLmdldFZpc2libGVUZXJtaW5hbFN0YXRlKCEwKTtudWxsIT1hJiYodGhpcy5wcmVmZXJIdG1sPW51bGwhPWEudGV4dCYmYS50ZXh0Lm5vZGUucGFyZW50Tm9kZT09dGhpcy5ncmFwaC5jb250YWluZXIpO3RoaXMucHJlZmVySHRtbHx8KGE9dGhpcy5zdGF0ZS5nZXRWaXNpYmxlVGVybWluYWxTdGF0ZSghMSksbnVsbCE9YSYmKHRoaXMucHJlZmVySHRtbD1udWxsIT1hLnRleHQmJmEudGV4dC5ub2RlLnBhcmVudE5vZGU9PXRoaXMuZ3JhcGguY29udGFpbmVyKSl9dGhpcy5wYXJlbnRIaWdobGlnaHRFbmFibGVkJiYoYT10aGlzLmdyYXBoLm1vZGVsLmdldFBhcmVudCh0aGlzLnN0YXRlLmNlbGwpLAp0aGlzLmdyYXBoLm1vZGVsLmlzVmVydGV4KGEpJiYoYT10aGlzLmdyYXBoLnZpZXcuZ2V0U3RhdGUoYSksbnVsbCE9YSYmKHRoaXMucGFyZW50SGlnaGxpZ2h0PXRoaXMuY3JlYXRlUGFyZW50SGlnaGxpZ2h0U2hhcGUoYSksdGhpcy5wYXJlbnRIaWdobGlnaHQuZGlhbGVjdD10aGlzLmdyYXBoLmRpYWxlY3QhPW14Q29uc3RhbnRzLkRJQUxFQ1RfU1ZHP214Q29uc3RhbnRzLkRJQUxFQ1RfVk1MOm14Q29uc3RhbnRzLkRJQUxFQ1RfU1ZHLHRoaXMucGFyZW50SGlnaGxpZ2h0LnBvaW50ZXJFdmVudHM9ITEsdGhpcy5wYXJlbnRIaWdobGlnaHQucm90YXRpb249TnVtYmVyKGEuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfUk9UQVRJT05dfHwiMCIpLHRoaXMucGFyZW50SGlnaGxpZ2h0LmluaXQodGhpcy5ncmFwaC5nZXRWaWV3KCkuZ2V0T3ZlcmxheVBhbmUoKSkpKSk7aWYodGhpcy5ncmFwaC5nZXRTZWxlY3Rpb25Db3VudCgpPG14R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5tYXhDZWxsc3x8CjA+PW14R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5tYXhDZWxscyl0aGlzLmJlbmRzPXRoaXMuY3JlYXRlQmVuZHMoKSx0aGlzLmlzVmlydHVhbEJlbmRzRW5hYmxlZCgpJiYodGhpcy52aXJ0dWFsQmVuZHM9dGhpcy5jcmVhdGVWaXJ0dWFsQmVuZHMoKSk7dGhpcy5sYWJlbD1uZXcgbXhQb2ludCh0aGlzLnN0YXRlLmFic29sdXRlT2Zmc2V0LngsdGhpcy5zdGF0ZS5hYnNvbHV0ZU9mZnNldC55KTt0aGlzLmxhYmVsU2hhcGU9dGhpcy5jcmVhdGVMYWJlbEhhbmRsZVNoYXBlKCk7dGhpcy5pbml0QmVuZCh0aGlzLmxhYmVsU2hhcGUpO3RoaXMubGFiZWxTaGFwZS5zZXRDdXJzb3IobXhDb25zdGFudHMuQ1VSU09SX0xBQkVMX0hBTkRMRSk7dGhpcy5jdXN0b21IYW5kbGVzPXRoaXMuY3JlYXRlQ3VzdG9tSGFuZGxlcygpO3RoaXMucmVkcmF3KCl9O214RWRnZUhhbmRsZXIucHJvdG90eXBlLmNyZWF0ZUN1c3RvbUhhbmRsZXM9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH07Cm14RWRnZUhhbmRsZXIucHJvdG90eXBlLmlzVmlydHVhbEJlbmRzRW5hYmxlZD1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy52aXJ0dWFsQmVuZHNFbmFibGVkJiYobnVsbD09dGhpcy5zdGF0ZS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9FREdFXXx8dGhpcy5zdGF0ZS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9FREdFXT09bXhDb25zdGFudHMuTk9ORXx8MT09dGhpcy5zdGF0ZS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9OT0VER0VTVFlMRV0pJiYiYXJyb3ciIT1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3RhdGUuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfU0hBUEUsbnVsbCl9O214RWRnZUhhbmRsZXIucHJvdG90eXBlLmlzQ2VsbEVuYWJsZWQ9ZnVuY3Rpb24oYSl7cmV0dXJuITB9O214RWRnZUhhbmRsZXIucHJvdG90eXBlLmlzQWRkUG9pbnRFdmVudD1mdW5jdGlvbihhKXtyZXR1cm4gbXhFdmVudC5pc1NoaWZ0RG93bihhKX07Cm14RWRnZUhhbmRsZXIucHJvdG90eXBlLmlzUmVtb3ZlUG9pbnRFdmVudD1mdW5jdGlvbihhKXtyZXR1cm4gbXhFdmVudC5pc1NoaWZ0RG93bihhKX07bXhFZGdlSGFuZGxlci5wcm90b3R5cGUuZ2V0U2VsZWN0aW9uUG9pbnRzPWZ1bmN0aW9uKGEpe3JldHVybiBhLmFic29sdXRlUG9pbnRzfTtteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5jcmVhdGVQYXJlbnRIaWdobGlnaHRTaGFwZT1mdW5jdGlvbihhKXthPW5ldyBteFJlY3RhbmdsZVNoYXBlKGEsbnVsbCx0aGlzLmdldFNlbGVjdGlvbkNvbG9yKCkpO2Euc3Ryb2tld2lkdGg9dGhpcy5nZXRTZWxlY3Rpb25TdHJva2VXaWR0aCgpO2EuaXNEYXNoZWQ9dGhpcy5pc1NlbGVjdGlvbkRhc2hlZCgpO3JldHVybiBhfTsKbXhFZGdlSGFuZGxlci5wcm90b3R5cGUuY3JlYXRlU2VsZWN0aW9uU2hhcGU9ZnVuY3Rpb24oYSl7YT1uZXcgdGhpcy5zdGF0ZS5zaGFwZS5jb25zdHJ1Y3RvcjthLm91dGxpbmU9ITA7YS5hcHBseSh0aGlzLnN0YXRlKTthLmlzRGFzaGVkPXRoaXMuaXNTZWxlY3Rpb25EYXNoZWQoKTthLnN0cm9rZT10aGlzLmdldFNlbGVjdGlvbkNvbG9yKCk7YS5pc1NoYWRvdz0hMTtyZXR1cm4gYX07bXhFZGdlSGFuZGxlci5wcm90b3R5cGUuZ2V0U2VsZWN0aW9uQ29sb3I9ZnVuY3Rpb24oKXtyZXR1cm4gbXhDb25zdGFudHMuRURHRV9TRUxFQ1RJT05fQ09MT1J9O214RWRnZUhhbmRsZXIucHJvdG90eXBlLmdldFNlbGVjdGlvblN0cm9rZVdpZHRoPWZ1bmN0aW9uKCl7cmV0dXJuIG14Q29uc3RhbnRzLkVER0VfU0VMRUNUSU9OX1NUUk9LRVdJRFRIfTtteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5pc1NlbGVjdGlvbkRhc2hlZD1mdW5jdGlvbigpe3JldHVybiBteENvbnN0YW50cy5FREdFX1NFTEVDVElPTl9EQVNIRUR9OwpteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5pc0Nvbm5lY3RhYmxlQ2VsbD1mdW5jdGlvbihhKXtyZXR1cm4hMH07bXhFZGdlSGFuZGxlci5wcm90b3R5cGUuZ2V0Q2VsbEF0PWZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMub3V0bGluZUNvbm5lY3Q/bnVsbDp0aGlzLmdyYXBoLmdldENlbGxBdChhLGIpfTsKbXhFZGdlSGFuZGxlci5wcm90b3R5cGUuY3JlYXRlTWFya2VyPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IG14Q2VsbE1hcmtlcih0aGlzLmdyYXBoKSxiPXRoaXM7YS5nZXRDZWxsPWZ1bmN0aW9uKGEpe3ZhciBjPW14Q2VsbE1hcmtlci5wcm90b3R5cGUuZ2V0Q2VsbC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7YyE9Yi5zdGF0ZS5jZWxsJiZudWxsIT1jfHxudWxsPT1iLmN1cnJlbnRQb2ludHx8KGM9Yi5ncmFwaC5nZXRDZWxsQXQoYi5jdXJyZW50UG9pbnQueCxiLmN1cnJlbnRQb2ludC55KSk7aWYobnVsbCE9YyYmIXRoaXMuZ3JhcGguaXNDZWxsQ29ubmVjdGFibGUoYykpe3ZhciBlPXRoaXMuZ3JhcGguZ2V0TW9kZWwoKS5nZXRQYXJlbnQoYyk7dGhpcy5ncmFwaC5nZXRNb2RlbCgpLmlzVmVydGV4KGUpJiZ0aGlzLmdyYXBoLmlzQ2VsbENvbm5lY3RhYmxlKGUpJiYoYz1lKX1lPWIuZ3JhcGguZ2V0TW9kZWwoKTtpZih0aGlzLmdyYXBoLmlzU3dpbWxhbmUoYykmJm51bGwhPWIuY3VycmVudFBvaW50JiYKdGhpcy5ncmFwaC5oaXRzU3dpbWxhbmVDb250ZW50KGMsYi5jdXJyZW50UG9pbnQueCxiLmN1cnJlbnRQb2ludC55KXx8IWIuaXNDb25uZWN0YWJsZUNlbGwoYyl8fGM9PWIuc3RhdGUuY2VsbHx8bnVsbCE9YyYmIWIuZ3JhcGguY29ubmVjdGFibGVFZGdlcyYmZS5pc0VkZ2UoYyl8fGUuaXNBbmNlc3RvcihiLnN0YXRlLmNlbGwsYykpYz1udWxsO3RoaXMuZ3JhcGguaXNDZWxsQ29ubmVjdGFibGUoYyl8fChjPW51bGwpO3JldHVybiBjfTthLmlzVmFsaWRTdGF0ZT1mdW5jdGlvbihhKXt2YXIgYz1iLmdyYXBoLmdldE1vZGVsKCksYz1iLmdyYXBoLnZpZXcuZ2V0VGVybWluYWxQb3J0KGEsYi5ncmFwaC52aWV3LmdldFN0YXRlKGMuZ2V0VGVybWluYWwoYi5zdGF0ZS5jZWxsLCFiLmlzU291cmNlKSksIWIuaXNTb3VyY2UpLGM9bnVsbCE9Yz9jLmNlbGw6bnVsbDtiLmVycm9yPWIudmFsaWRhdGVDb25uZWN0aW9uKGIuaXNTb3VyY2U/YS5jZWxsOmMsYi5pc1NvdXJjZT9jOmEuY2VsbCk7CnJldHVybiBudWxsPT1iLmVycm9yfTtyZXR1cm4gYX07bXhFZGdlSGFuZGxlci5wcm90b3R5cGUudmFsaWRhdGVDb25uZWN0aW9uPWZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuZ3JhcGguZ2V0RWRnZVZhbGlkYXRpb25FcnJvcih0aGlzLnN0YXRlLmNlbGwsYSxiKX07Cm14RWRnZUhhbmRsZXIucHJvdG90eXBlLmNyZWF0ZUJlbmRzPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPXRoaXMuc3RhdGUuY2VsbCxiPVtdLGM9MDtjPHRoaXMuYWJzcG9pbnRzLmxlbmd0aDtjKyspaWYodGhpcy5pc0hhbmRsZVZpc2libGUoYykpe3ZhciBkPWM9PXRoaXMuYWJzcG9pbnRzLmxlbmd0aC0xLGU9MD09Y3x8ZDsoZXx8dGhpcy5ncmFwaC5pc0NlbGxCZW5kYWJsZShhKSkmJm14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3ZhciBkPXRoaXMuY3JlYXRlSGFuZGxlU2hhcGUoYSk7dGhpcy5pbml0QmVuZChkLG14VXRpbHMuYmluZCh0aGlzLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dGhpcy5kYmxDbGlja1JlbW92ZUVuYWJsZWQmJnRoaXMucmVtb3ZlUG9pbnQodGhpcy5zdGF0ZSxhKX0pKSk7dGhpcy5pc0hhbmRsZUVuYWJsZWQoYykmJmQuc2V0Q3Vyc29yKGU/bXhDb25zdGFudHMuQ1VSU09SX1RFUk1JTkFMX0hBTkRMRTpteENvbnN0YW50cy5DVVJTT1JfQkVORF9IQU5ETEUpOwpiLnB1c2goZCk7ZXx8KHRoaXMucG9pbnRzLnB1c2gobmV3IG14UG9pbnQoMCwwKSksZC5ub2RlLnN0eWxlLnZpc2liaWxpdHk9ImhpZGRlbiIpfSkoYyl9cmV0dXJuIGJ9O214RWRnZUhhbmRsZXIucHJvdG90eXBlLmNyZWF0ZVZpcnR1YWxCZW5kcz1mdW5jdGlvbigpe3ZhciBhPVtdO2lmKHRoaXMuZ3JhcGguaXNDZWxsQmVuZGFibGUodGhpcy5zdGF0ZS5jZWxsKSlmb3IodmFyIGI9MTtiPHRoaXMuYWJzcG9pbnRzLmxlbmd0aDtiKyspbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYil7dGhpcy5pbml0QmVuZChiKTtiLnNldEN1cnNvcihteENvbnN0YW50cy5DVVJTT1JfVklSVFVBTF9CRU5EX0hBTkRMRSk7YS5wdXNoKGIpfSkodGhpcy5jcmVhdGVIYW5kbGVTaGFwZSgpKTtyZXR1cm4gYX07bXhFZGdlSGFuZGxlci5wcm90b3R5cGUuaXNIYW5kbGVFbmFibGVkPWZ1bmN0aW9uKGEpe3JldHVybiEwfTsKbXhFZGdlSGFuZGxlci5wcm90b3R5cGUuaXNIYW5kbGVWaXNpYmxlPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuc3RhdGUuZ2V0VmlzaWJsZVRlcm1pbmFsU3RhdGUoITApLGM9dGhpcy5zdGF0ZS5nZXRWaXNpYmxlVGVybWluYWxTdGF0ZSghMSksZD10aGlzLmdyYXBoLmdldENlbGxHZW9tZXRyeSh0aGlzLnN0YXRlLmNlbGwpO3JldHVybihudWxsIT1kP3RoaXMuZ3JhcGgudmlldy5nZXRFZGdlU3R5bGUodGhpcy5zdGF0ZSxkLnBvaW50cyxiLGMpOm51bGwpIT1teEVkZ2VTdHlsZS5FbnRpdHlSZWxhdGlvbnx8MD09YXx8YT09dGhpcy5hYnNwb2ludHMubGVuZ3RoLTF9OwpteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5jcmVhdGVIYW5kbGVTaGFwZT1mdW5jdGlvbihhKXtpZihudWxsIT10aGlzLmhhbmRsZUltYWdlKXJldHVybiBhPW5ldyBteEltYWdlU2hhcGUobmV3IG14UmVjdGFuZ2xlKDAsMCx0aGlzLmhhbmRsZUltYWdlLndpZHRoLHRoaXMuaGFuZGxlSW1hZ2UuaGVpZ2h0KSx0aGlzLmhhbmRsZUltYWdlLnNyYyksYS5wcmVzZXJ2ZUltYWdlQXNwZWN0PSExLGE7YT1teENvbnN0YW50cy5IQU5ETEVfU0laRTt0aGlzLnByZWZlckh0bWwmJi0tYTtyZXR1cm4gbmV3IG14UmVjdGFuZ2xlU2hhcGUobmV3IG14UmVjdGFuZ2xlKDAsMCxhLGEpLG14Q29uc3RhbnRzLkhBTkRMRV9GSUxMQ09MT1IsbXhDb25zdGFudHMuSEFORExFX1NUUk9LRUNPTE9SKX07Cm14RWRnZUhhbmRsZXIucHJvdG90eXBlLmNyZWF0ZUxhYmVsSGFuZGxlU2hhcGU9ZnVuY3Rpb24oKXtpZihudWxsIT10aGlzLmxhYmVsSGFuZGxlSW1hZ2Upe3ZhciBhPW5ldyBteEltYWdlU2hhcGUobmV3IG14UmVjdGFuZ2xlKDAsMCx0aGlzLmxhYmVsSGFuZGxlSW1hZ2Uud2lkdGgsdGhpcy5sYWJlbEhhbmRsZUltYWdlLmhlaWdodCksdGhpcy5sYWJlbEhhbmRsZUltYWdlLnNyYyk7YS5wcmVzZXJ2ZUltYWdlQXNwZWN0PSExO3JldHVybiBhfWE9bXhDb25zdGFudHMuTEFCRUxfSEFORExFX1NJWkU7cmV0dXJuIG5ldyBteFJlY3RhbmdsZVNoYXBlKG5ldyBteFJlY3RhbmdsZSgwLDAsYSxhKSxteENvbnN0YW50cy5MQUJFTF9IQU5ETEVfRklMTENPTE9SLG14Q29uc3RhbnRzLkhBTkRMRV9TVFJPS0VDT0xPUil9OwpteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5pbml0QmVuZD1mdW5jdGlvbihhLGIpe3RoaXMucHJlZmVySHRtbD8oYS5kaWFsZWN0PW14Q29uc3RhbnRzLkRJQUxFQ1RfU1RSSUNUSFRNTCxhLmluaXQodGhpcy5ncmFwaC5jb250YWluZXIpKTooYS5kaWFsZWN0PXRoaXMuZ3JhcGguZGlhbGVjdCE9bXhDb25zdGFudHMuRElBTEVDVF9TVkc/bXhDb25zdGFudHMuRElBTEVDVF9NSVhFREhUTUw6bXhDb25zdGFudHMuRElBTEVDVF9TVkcsYS5pbml0KHRoaXMuZ3JhcGguZ2V0VmlldygpLmdldE92ZXJsYXlQYW5lKCkpKTtteEV2ZW50LnJlZGlyZWN0TW91c2VFdmVudHMoYS5ub2RlLHRoaXMuZ3JhcGgsdGhpcy5zdGF0ZSxudWxsLG51bGwsbnVsbCxiKTsobXhDbGllbnQuSVNfUVVJUktTfHw4PT1kb2N1bWVudC5kb2N1bWVudE1vZGUpJiZteEV2ZW50LmFkZExpc3RlbmVyKGEubm9kZSwiZHJhZ3N0YXJ0IixmdW5jdGlvbihhKXtteEV2ZW50LmNvbnN1bWUoYSk7cmV0dXJuITF9KTtteENsaWVudC5JU19UT1VDSCYmCmEubm9kZS5zZXRBdHRyaWJ1dGUoInBvaW50ZXItZXZlbnRzIiwibm9uZSIpfTsKbXhFZGdlSGFuZGxlci5wcm90b3R5cGUuZ2V0SGFuZGxlRm9yRXZlbnQ9ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihiKXtpZihudWxsIT1iJiZudWxsIT1iLm5vZGUmJiJub25lIiE9Yi5ub2RlLnN0eWxlLmRpc3BsYXkmJiJoaWRkZW4iIT1iLm5vZGUuc3R5bGUudmlzaWJpbGl0eSYmKGEuaXNTb3VyY2UoYil8fG51bGwhPWQmJm14VXRpbHMuaW50ZXJzZWN0cyhiLmJvdW5kcyxkKSkpe3ZhciBjPWEuZ2V0R3JhcGhYKCktYi5ib3VuZHMuZ2V0Q2VudGVyWCgpO2I9YS5nZXRHcmFwaFkoKS1iLmJvdW5kcy5nZXRDZW50ZXJZKCk7Yz1jKmMrYipiO2lmKG51bGw9PWV8fGM8PWUpcmV0dXJuIGU9YywhMH1yZXR1cm4hMX12YXIgYz1teEV2ZW50LmlzTW91c2VFdmVudChhLmdldEV2ZW50KCkpPzE6dGhpcy50b2xlcmFuY2UsZD10aGlzLmFsbG93SGFuZGxlQm91bmRzQ2hlY2smJihteENsaWVudC5JU19JRXx8MDxjKT9uZXcgbXhSZWN0YW5nbGUoYS5nZXRHcmFwaFgoKS1jLGEuZ2V0R3JhcGhZKCktCmMsMipjLDIqYyk6bnVsbCxlPW51bGwsYz1udWxsO2lmKG51bGwhPXRoaXMuY3VzdG9tSGFuZGxlcyYmdGhpcy5pc0N1c3RvbUhhbmRsZUV2ZW50KGEpKWZvcih2YXIgZj10aGlzLmN1c3RvbUhhbmRsZXMubGVuZ3RoLTE7MDw9ZjtmLS0paWYoYih0aGlzLmN1c3RvbUhhbmRsZXNbZl0uc2hhcGUpKXJldHVybiBteEV2ZW50LkNVU1RPTV9IQU5ETEUtZjtpZihhLmlzU291cmNlKHRoaXMuc3RhdGUudGV4dCl8fGIodGhpcy5sYWJlbFNoYXBlKSljPW14RXZlbnQuTEFCRUxfSEFORExFO2lmKG51bGwhPXRoaXMuYmVuZHMpZm9yKGY9MDtmPHRoaXMuYmVuZHMubGVuZ3RoO2YrKyliKHRoaXMuYmVuZHNbZl0pJiYoYz1mKTtpZihudWxsIT10aGlzLnZpcnR1YWxCZW5kcyYmdGhpcy5pc0FkZFZpcnR1YWxCZW5kRXZlbnQoYSkpZm9yKGY9MDtmPHRoaXMudmlydHVhbEJlbmRzLmxlbmd0aDtmKyspYih0aGlzLnZpcnR1YWxCZW5kc1tmXSkmJihjPW14RXZlbnQuVklSVFVBTF9IQU5ETEUtZik7cmV0dXJuIGN9OwpteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5pc0FkZFZpcnR1YWxCZW5kRXZlbnQ9ZnVuY3Rpb24oYSl7cmV0dXJuITB9O214RWRnZUhhbmRsZXIucHJvdG90eXBlLmlzQ3VzdG9tSGFuZGxlRXZlbnQ9ZnVuY3Rpb24oYSl7cmV0dXJuITB9OwpteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5tb3VzZURvd249ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdldEhhbmRsZUZvckV2ZW50KGIpO2lmKG51bGwhPXRoaXMuYmVuZHMmJm51bGwhPXRoaXMuYmVuZHNbY10pe3ZhciBkPXRoaXMuYmVuZHNbY10uYm91bmRzO3RoaXMuc25hcFBvaW50PW5ldyBteFBvaW50KGQuZ2V0Q2VudGVyWCgpLGQuZ2V0Q2VudGVyWSgpKX1pZih0aGlzLmFkZEVuYWJsZWQmJm51bGw9PWMmJnRoaXMuaXNBZGRQb2ludEV2ZW50KGIuZ2V0RXZlbnQoKSkpdGhpcy5hZGRQb2ludCh0aGlzLnN0YXRlLGIuZ2V0RXZlbnQoKSksYi5jb25zdW1lKCk7ZWxzZSBpZihudWxsIT1jJiYhYi5pc0NvbnN1bWVkKCkmJnRoaXMuZ3JhcGguaXNFbmFibGVkKCkpe2lmKHRoaXMucmVtb3ZlRW5hYmxlZCYmdGhpcy5pc1JlbW92ZVBvaW50RXZlbnQoYi5nZXRFdmVudCgpKSl0aGlzLnJlbW92ZVBvaW50KHRoaXMuc3RhdGUsYyk7ZWxzZSBpZihjIT1teEV2ZW50LkxBQkVMX0hBTkRMRXx8CnRoaXMuZ3JhcGguaXNMYWJlbE1vdmFibGUoYi5nZXRDZWxsKCkpKWM8PW14RXZlbnQuVklSVFVBTF9IQU5ETEUmJm14VXRpbHMuc2V0T3BhY2l0eSh0aGlzLnZpcnR1YWxCZW5kc1tteEV2ZW50LlZJUlRVQUxfSEFORExFLWNdLm5vZGUsMTAwKSx0aGlzLnN0YXJ0KGIuZ2V0WCgpLGIuZ2V0WSgpLGMpO2IuY29uc3VtZSgpfX07Cm14RWRnZUhhbmRsZXIucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKGEsYixjKXt0aGlzLnN0YXJ0WD1hO3RoaXMuc3RhcnRZPWI7dGhpcy5pc1NvdXJjZT1udWxsPT10aGlzLmJlbmRzPyExOjA9PWM7dGhpcy5pc1RhcmdldD1udWxsPT10aGlzLmJlbmRzPyExOmM9PXRoaXMuYmVuZHMubGVuZ3RoLTE7dGhpcy5pc0xhYmVsPWM9PW14RXZlbnQuTEFCRUxfSEFORExFO2lmKHRoaXMuaXNTb3VyY2V8fHRoaXMuaXNUYXJnZXQpe2lmKGE9dGhpcy5zdGF0ZS5jZWxsLGI9dGhpcy5ncmFwaC5tb2RlbC5nZXRUZXJtaW5hbChhLHRoaXMuaXNTb3VyY2UpLG51bGw9PWImJnRoaXMuZ3JhcGguaXNUZXJtaW5hbFBvaW50TW92YWJsZShhLHRoaXMuaXNTb3VyY2UpfHxudWxsIT1iJiZ0aGlzLmdyYXBoLmlzQ2VsbERpc2Nvbm5lY3RhYmxlKGEsYix0aGlzLmlzU291cmNlKSl0aGlzLmluZGV4PWN9ZWxzZSB0aGlzLmluZGV4PWM7aWYodGhpcy5pbmRleDw9bXhFdmVudC5DVVNUT01fSEFORExFJiZ0aGlzLmluZGV4PgpteEV2ZW50LlZJUlRVQUxfSEFORExFJiZudWxsIT10aGlzLmN1c3RvbUhhbmRsZXMpZm9yKGM9MDtjPHRoaXMuY3VzdG9tSGFuZGxlcy5sZW5ndGg7YysrKWMhPW14RXZlbnQuQ1VTVE9NX0hBTkRMRS10aGlzLmluZGV4JiZ0aGlzLmN1c3RvbUhhbmRsZXNbY10uc2V0VmlzaWJsZSghMSl9O214RWRnZUhhbmRsZXIucHJvdG90eXBlLmNsb25lUHJldmlld1N0YXRlPWZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuc3RhdGUuY2xvbmUoKX07bXhFZGdlSGFuZGxlci5wcm90b3R5cGUuZ2V0U25hcFRvVGVybWluYWxUb2xlcmFuY2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ncmFwaC5ncmlkU2l6ZSp0aGlzLmdyYXBoLnZpZXcuc2NhbGUvMn07bXhFZGdlSGFuZGxlci5wcm90b3R5cGUudXBkYXRlSGludD1mdW5jdGlvbihhLGIpe307bXhFZGdlSGFuZGxlci5wcm90b3R5cGUucmVtb3ZlSGludD1mdW5jdGlvbigpe307bXhFZGdlSGFuZGxlci5wcm90b3R5cGUucm91bmRMZW5ndGg9ZnVuY3Rpb24oYSl7cmV0dXJuIE1hdGgucm91bmQoYSl9OwpteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5pc1NuYXBUb1Rlcm1pbmFsc0V2ZW50PWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnNuYXBUb1Rlcm1pbmFscyYmIW14RXZlbnQuaXNBbHREb3duKGEuZ2V0RXZlbnQoKSl9OwpteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5nZXRQb2ludEZvckV2ZW50PWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZ3JhcGguZ2V0VmlldygpLGM9Yi5zY2FsZSxkPW5ldyBteFBvaW50KHRoaXMucm91bmRMZW5ndGgoYS5nZXRHcmFwaFgoKS9jKSpjLHRoaXMucm91bmRMZW5ndGgoYS5nZXRHcmFwaFkoKS9jKSpjKSxlPXRoaXMuZ2V0U25hcFRvVGVybWluYWxUb2xlcmFuY2UoKSxmPSExLGc9ITE7aWYoMDxlJiZ0aGlzLmlzU25hcFRvVGVybWluYWxzRXZlbnQoYSkpe3ZhciBrPWZ1bmN0aW9uKGEpe251bGwhPWEmJmwuY2FsbCh0aGlzLG5ldyBteFBvaW50KGIuZ2V0Um91dGluZ0NlbnRlclgoYSksYi5nZXRSb3V0aW5nQ2VudGVyWShhKSkpfSxsPWZ1bmN0aW9uKGEpe2lmKG51bGwhPWEpe3ZhciBiPWEueDtNYXRoLmFicyhkLngtYik8ZSYmKGQueD1iLGY9ITApO2E9YS55O01hdGguYWJzKGQueS1hKTxlJiYoZC55PWEsZz0hMCl9fTtrLmNhbGwodGhpcyx0aGlzLnN0YXRlLmdldFZpc2libGVUZXJtaW5hbFN0YXRlKCEwKSk7CmsuY2FsbCh0aGlzLHRoaXMuc3RhdGUuZ2V0VmlzaWJsZVRlcm1pbmFsU3RhdGUoITEpKTtpZihudWxsIT10aGlzLnN0YXRlLmFic29sdXRlUG9pbnRzKWZvcihrPTA7azx0aGlzLnN0YXRlLmFic29sdXRlUG9pbnRzLmxlbmd0aDtrKyspbC5jYWxsKHRoaXMsdGhpcy5zdGF0ZS5hYnNvbHV0ZVBvaW50c1trXSl9dGhpcy5ncmFwaC5pc0dyaWRFbmFibGVkRXZlbnQoYS5nZXRFdmVudCgpKSYmKGE9Yi50cmFuc2xhdGUsZnx8KGQueD0odGhpcy5ncmFwaC5zbmFwKGQueC9jLWEueCkrYS54KSpjKSxnfHwoZC55PSh0aGlzLmdyYXBoLnNuYXAoZC55L2MtYS55KSthLnkpKmMpKTtyZXR1cm4gZH07Cm14RWRnZUhhbmRsZXIucHJvdG90eXBlLmdldFByZXZpZXdUZXJtaW5hbFN0YXRlPWZ1bmN0aW9uKGEpe3RoaXMuY29uc3RyYWludEhhbmRsZXIudXBkYXRlKGEsdGhpcy5pc1NvdXJjZSwhMCxhLmlzU291cmNlKHRoaXMubWFya2VyLmhpZ2hsaWdodC5zaGFwZSk/bnVsbDp0aGlzLmN1cnJlbnRQb2ludCk7aWYobnVsbCE9dGhpcy5jb25zdHJhaW50SGFuZGxlci5jdXJyZW50Rm9jdXMmJm51bGwhPXRoaXMuY29uc3RyYWludEhhbmRsZXIuY3VycmVudENvbnN0cmFpbnQpcmV0dXJuIG51bGwhPXRoaXMubWFya2VyLmhpZ2hsaWdodCYmbnVsbCE9dGhpcy5tYXJrZXIuaGlnaGxpZ2h0LnN0YXRlJiZ0aGlzLm1hcmtlci5oaWdobGlnaHQuc3RhdGUuY2VsbD09dGhpcy5jb25zdHJhaW50SGFuZGxlci5jdXJyZW50Rm9jdXMuY2VsbD8idHJhbnNwYXJlbnQiIT10aGlzLm1hcmtlci5oaWdobGlnaHQuc2hhcGUuc3Ryb2tlJiYodGhpcy5tYXJrZXIuaGlnaGxpZ2h0LnNoYXBlLnN0cm9rZT0idHJhbnNwYXJlbnQiLAp0aGlzLm1hcmtlci5oaWdobGlnaHQucmVwYWludCgpKTp0aGlzLm1hcmtlci5tYXJrQ2VsbCh0aGlzLmNvbnN0cmFpbnRIYW5kbGVyLmN1cnJlbnRGb2N1cy5jZWxsLCJ0cmFuc3BhcmVudCIpLGE9dGhpcy5ncmFwaC5nZXRNb2RlbCgpLGE9dGhpcy5ncmFwaC52aWV3LmdldFRlcm1pbmFsUG9ydCh0aGlzLnN0YXRlLHRoaXMuZ3JhcGgudmlldy5nZXRTdGF0ZShhLmdldFRlcm1pbmFsKHRoaXMuc3RhdGUuY2VsbCwhdGhpcy5pc1NvdXJjZSkpLCF0aGlzLmlzU291cmNlKSxhPW51bGwhPWE/YS5jZWxsOm51bGwsdGhpcy5lcnJvcj10aGlzLnZhbGlkYXRlQ29ubmVjdGlvbih0aGlzLmlzU291cmNlP3RoaXMuY29uc3RyYWludEhhbmRsZXIuY3VycmVudEZvY3VzLmNlbGw6YSx0aGlzLmlzU291cmNlP2E6dGhpcy5jb25zdHJhaW50SGFuZGxlci5jdXJyZW50Rm9jdXMuY2VsbCksYT1udWxsLG51bGw9PXRoaXMuZXJyb3ImJihhPXRoaXMuY29uc3RyYWludEhhbmRsZXIuY3VycmVudEZvY3VzKSwKKG51bGwhPXRoaXMuZXJyb3J8fG51bGwhPWEmJiF0aGlzLmlzQ2VsbEVuYWJsZWQoYS5jZWxsKSkmJnRoaXMuY29uc3RyYWludEhhbmRsZXIucmVzZXQoKSxhO2lmKHRoaXMuZ3JhcGguaXNJZ25vcmVUZXJtaW5hbEV2ZW50KGEuZ2V0RXZlbnQoKSkpcmV0dXJuIHRoaXMubWFya2VyLnJlc2V0KCksbnVsbDt0aGlzLm1hcmtlci5wcm9jZXNzKGEpO2E9dGhpcy5tYXJrZXIuZ2V0VmFsaWRTdGF0ZSgpO251bGw9PWF8fHRoaXMuaXNDZWxsRW5hYmxlZChhLmNlbGwpfHwodGhpcy5jb25zdHJhaW50SGFuZGxlci5yZXNldCgpLHRoaXMubWFya2VyLnJlc2V0KCkpO3JldHVybiB0aGlzLm1hcmtlci5nZXRWYWxpZFN0YXRlKCl9OwpteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5nZXRQcmV2aWV3UG9pbnRzPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5ncmFwaC5nZXRDZWxsR2VvbWV0cnkodGhpcy5zdGF0ZS5jZWxsKSxjPW51bGwhPWMucG9pbnRzP2MucG9pbnRzLnNsaWNlKCk6bnVsbCxkPW5ldyBteFBvaW50KGEueCxhLnkpLGU9bnVsbDtpZih0aGlzLmlzU291cmNlfHx0aGlzLmlzVGFyZ2V0KXRoaXMuZ3JhcGgucmVzZXRFZGdlc09uQ29ubmVjdCYmKGM9bnVsbCk7ZWxzZSBpZih0aGlzLmNvbnZlcnRQb2ludChkLCExKSxudWxsPT1jKWM9W2RdO2Vsc2V7dGhpcy5pbmRleDw9bXhFdmVudC5WSVJUVUFMX0hBTkRMRSYmYy5zcGxpY2UobXhFdmVudC5WSVJUVUFMX0hBTkRMRS10aGlzLmluZGV4LDAsZCk7aWYoIXRoaXMuaXNTb3VyY2UmJiF0aGlzLmlzVGFyZ2V0KXtmb3IodmFyIGY9MDtmPHRoaXMuYmVuZHMubGVuZ3RoO2YrKylpZihmIT10aGlzLmluZGV4KXt2YXIgZz10aGlzLmJlbmRzW2ZdO251bGwhPWcmJm14VXRpbHMuY29udGFpbnMoZy5ib3VuZHMsCmEueCxhLnkpJiYodGhpcy5pbmRleDw9bXhFdmVudC5WSVJUVUFMX0hBTkRMRT9jLnNwbGljZShteEV2ZW50LlZJUlRVQUxfSEFORExFLXRoaXMuaW5kZXgsMSk6Yy5zcGxpY2UodGhpcy5pbmRleC0xLDEpLGU9Yyl9aWYobnVsbD09ZSYmdGhpcy5zdHJhaWdodFJlbW92ZUVuYWJsZWQmJihudWxsPT1ifHwhbXhFdmVudC5pc0FsdERvd24oYi5nZXRFdmVudCgpKSkpe2Y9dGhpcy5ncmFwaC50b2xlcmFuY2UqdGhpcy5ncmFwaC50b2xlcmFuY2U7Zz10aGlzLnN0YXRlLmFic29sdXRlUG9pbnRzLnNsaWNlKCk7Z1t0aGlzLmluZGV4XT1hO3ZhciBrPXRoaXMuc3RhdGUuZ2V0VmlzaWJsZVRlcm1pbmFsU3RhdGUoITApO2lmKG51bGwhPWspe3ZhciBsPXRoaXMuZ3JhcGguZ2V0Q29ubmVjdGlvbkNvbnN0cmFpbnQodGhpcy5zdGF0ZSxrLCEwKTtpZihudWxsPT1sfHxudWxsPT10aGlzLmdyYXBoLmdldENvbm5lY3Rpb25Qb2ludChrLGwpKWdbMF09bmV3IG14UG9pbnQoay52aWV3LmdldFJvdXRpbmdDZW50ZXJYKGspLAprLnZpZXcuZ2V0Um91dGluZ0NlbnRlclkoaykpfWs9dGhpcy5zdGF0ZS5nZXRWaXNpYmxlVGVybWluYWxTdGF0ZSghMSk7bnVsbCE9ayYmKGw9dGhpcy5ncmFwaC5nZXRDb25uZWN0aW9uQ29uc3RyYWludCh0aGlzLnN0YXRlLGssITEpLG51bGw9PWx8fG51bGw9PXRoaXMuZ3JhcGguZ2V0Q29ubmVjdGlvblBvaW50KGssbCkpJiYoZ1tnLmxlbmd0aC0xXT1uZXcgbXhQb2ludChrLnZpZXcuZ2V0Um91dGluZ0NlbnRlclgoayksay52aWV3LmdldFJvdXRpbmdDZW50ZXJZKGspKSk7bD10aGlzLmluZGV4OzA8bCYmbDxnLmxlbmd0aC0xJiZteFV0aWxzLnB0U2VnRGlzdFNxKGdbbC0xXS54LGdbbC0xXS55LGdbbCsxXS54LGdbbCsxXS55LGEueCxhLnkpPGYmJihjLnNwbGljZShsLTEsMSksZT1jKX19bnVsbD09ZSYmdGhpcy5pbmRleD5teEV2ZW50LlZJUlRVQUxfSEFORExFJiYoY1t0aGlzLmluZGV4LTFdPWQpfXJldHVybiBudWxsIT1lP2U6Y307Cm14RWRnZUhhbmRsZXIucHJvdG90eXBlLmlzT3V0bGluZUNvbm5lY3RFdmVudD1mdW5jdGlvbihhKXt2YXIgYj1teFV0aWxzLmdldE9mZnNldCh0aGlzLmdyYXBoLmNvbnRhaW5lciksYz1hLmdldEV2ZW50KCksZD1teEV2ZW50LmdldENsaWVudFgoYyksYz1teEV2ZW50LmdldENsaWVudFkoYyksZT1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsZj10aGlzLmN1cnJlbnRQb2ludC54LXRoaXMuZ3JhcGguY29udGFpbmVyLnNjcm9sbExlZnQrYi54LSgod2luZG93LnBhZ2VYT2Zmc2V0fHxlLnNjcm9sbExlZnQpLShlLmNsaWVudExlZnR8fDApKSxiPXRoaXMuY3VycmVudFBvaW50LnktdGhpcy5ncmFwaC5jb250YWluZXIuc2Nyb2xsVG9wK2IueS0oKHdpbmRvdy5wYWdlWU9mZnNldHx8ZS5zY3JvbGxUb3ApLShlLmNsaWVudFRvcHx8MCkpO3JldHVybiB0aGlzLm91dGxpbmVDb25uZWN0JiYhbXhFdmVudC5pc1NoaWZ0RG93bihhLmdldEV2ZW50KCkpJiYoYS5pc1NvdXJjZSh0aGlzLm1hcmtlci5oaWdobGlnaHQuc2hhcGUpfHwKbXhFdmVudC5pc0FsdERvd24oYS5nZXRFdmVudCgpKSYmbnVsbCE9YS5nZXRTdGF0ZSgpfHx0aGlzLm1hcmtlci5oaWdobGlnaHQuaXNIaWdobGlnaHRBdChkLGMpfHwoZiE9ZHx8YiE9YykmJm51bGw9PWEuZ2V0U3RhdGUoKSYmdGhpcy5tYXJrZXIuaGlnaGxpZ2h0LmlzSGlnaGxpZ2h0QXQoZixiKSl9OwpteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS51cGRhdGVQcmV2aWV3U3RhdGU9ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZj10aGlzLmlzU291cmNlP2M6dGhpcy5zdGF0ZS5nZXRWaXNpYmxlVGVybWluYWxTdGF0ZSghMCksZz10aGlzLmlzVGFyZ2V0P2M6dGhpcy5zdGF0ZS5nZXRWaXNpYmxlVGVybWluYWxTdGF0ZSghMSksaz10aGlzLmdyYXBoLmdldENvbm5lY3Rpb25Db25zdHJhaW50KGEsZiwhMCksbD10aGlzLmdyYXBoLmdldENvbm5lY3Rpb25Db25zdHJhaW50KGEsZywhMSksbT10aGlzLmNvbnN0cmFpbnRIYW5kbGVyLmN1cnJlbnRDb25zdHJhaW50O251bGw9PW0mJmUmJihudWxsIT1jPyhkLmlzU291cmNlKHRoaXMubWFya2VyLmhpZ2hsaWdodC5zaGFwZSkmJihiPW5ldyBteFBvaW50KGQuZ2V0R3JhcGhYKCksZC5nZXRHcmFwaFkoKSkpLG09dGhpcy5ncmFwaC5nZXRPdXRsaW5lQ29uc3RyYWludChiLGMsZCksdGhpcy5jb25zdHJhaW50SGFuZGxlci5zZXRGb2N1cyhkLGMsdGhpcy5pc1NvdXJjZSksCnRoaXMuY29uc3RyYWludEhhbmRsZXIuY3VycmVudENvbnN0cmFpbnQ9bSx0aGlzLmNvbnN0cmFpbnRIYW5kbGVyLmN1cnJlbnRQb2ludD1iKTptPW5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KTtpZih0aGlzLm91dGxpbmVDb25uZWN0JiZudWxsIT10aGlzLm1hcmtlci5oaWdobGlnaHQmJm51bGwhPXRoaXMubWFya2VyLmhpZ2hsaWdodC5zaGFwZSl7dmFyIG49dGhpcy5ncmFwaC52aWV3LnNjYWxlO251bGwhPXRoaXMuY29uc3RyYWludEhhbmRsZXIuY3VycmVudENvbnN0cmFpbnQmJm51bGwhPXRoaXMuY29uc3RyYWludEhhbmRsZXIuY3VycmVudEZvY3VzPyh0aGlzLm1hcmtlci5oaWdobGlnaHQuc2hhcGUuc3Ryb2tlPWU/bXhDb25zdGFudHMuT1VUTElORV9ISUdITElHSFRfQ09MT1I6InRyYW5zcGFyZW50Iix0aGlzLm1hcmtlci5oaWdobGlnaHQuc2hhcGUuc3Ryb2tld2lkdGg9bXhDb25zdGFudHMuT1VUTElORV9ISUdITElHSFRfU1RST0tFV0lEVEgvbi9uLHRoaXMubWFya2VyLmhpZ2hsaWdodC5yZXBhaW50KCkpOgp0aGlzLm1hcmtlci5oYXNWYWxpZFN0YXRlKCkmJih0aGlzLm1hcmtlci5oaWdobGlnaHQuc2hhcGUuc3Ryb2tlPXRoaXMuZ3JhcGguaXNDZWxsQ29ubmVjdGFibGUoZC5nZXRDZWxsKCkpJiZ0aGlzLm1hcmtlci5nZXRWYWxpZFN0YXRlKCkhPWQuZ2V0U3RhdGUoKT8idHJhbnNwYXJlbnQiOm14Q29uc3RhbnRzLkRFRkFVTFRfVkFMSURfQ09MT1IsdGhpcy5tYXJrZXIuaGlnaGxpZ2h0LnNoYXBlLnN0cm9rZXdpZHRoPW14Q29uc3RhbnRzLkhJR0hMSUdIVF9TVFJPS0VXSURUSC9uL24sdGhpcy5tYXJrZXIuaGlnaGxpZ2h0LnJlcGFpbnQoKSl9dGhpcy5pc1NvdXJjZT9rPW06dGhpcy5pc1RhcmdldCYmKGw9bSk7aWYodGhpcy5pc1NvdXJjZXx8dGhpcy5pc1RhcmdldCludWxsIT1tJiZudWxsIT1tLnBvaW50PyhhLnN0eWxlW3RoaXMuaXNTb3VyY2U/bXhDb25zdGFudHMuU1RZTEVfRVhJVF9YOm14Q29uc3RhbnRzLlNUWUxFX0VOVFJZX1hdPW0ucG9pbnQueCxhLnN0eWxlW3RoaXMuaXNTb3VyY2U/Cm14Q29uc3RhbnRzLlNUWUxFX0VYSVRfWTpteENvbnN0YW50cy5TVFlMRV9FTlRSWV9ZXT1tLnBvaW50LnkpOihkZWxldGUgYS5zdHlsZVt0aGlzLmlzU291cmNlP214Q29uc3RhbnRzLlNUWUxFX0VYSVRfWDpteENvbnN0YW50cy5TVFlMRV9FTlRSWV9YXSxkZWxldGUgYS5zdHlsZVt0aGlzLmlzU291cmNlP214Q29uc3RhbnRzLlNUWUxFX0VYSVRfWTpteENvbnN0YW50cy5TVFlMRV9FTlRSWV9ZXSk7YS5zZXRWaXNpYmxlVGVybWluYWxTdGF0ZShmLCEwKTthLnNldFZpc2libGVUZXJtaW5hbFN0YXRlKGcsITEpO3RoaXMuaXNTb3VyY2UmJm51bGw9PWZ8fGEudmlldy51cGRhdGVGaXhlZFRlcm1pbmFsUG9pbnQoYSxmLCEwLGspO3RoaXMuaXNUYXJnZXQmJm51bGw9PWd8fGEudmlldy51cGRhdGVGaXhlZFRlcm1pbmFsUG9pbnQoYSxnLCExLGwpOyh0aGlzLmlzU291cmNlfHx0aGlzLmlzVGFyZ2V0KSYmbnVsbD09YyYmKGEuc2V0QWJzb2x1dGVUZXJtaW5hbFBvaW50KGIsdGhpcy5pc1NvdXJjZSksCm51bGw9PXRoaXMubWFya2VyLmdldE1hcmtlZFN0YXRlKCkmJih0aGlzLmVycm9yPXRoaXMuZ3JhcGguYWxsb3dEYW5nbGluZ0VkZ2VzP251bGw6IiIpKTthLnZpZXcudXBkYXRlUG9pbnRzKGEsdGhpcy5wb2ludHMsZixnKTthLnZpZXcudXBkYXRlRmxvYXRpbmdUZXJtaW5hbFBvaW50cyhhLGYsZyl9OwpteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5tb3VzZU1vdmU9ZnVuY3Rpb24oYSxiKXtpZihudWxsIT10aGlzLmluZGV4JiZudWxsIT10aGlzLm1hcmtlcil7dGhpcy5jdXJyZW50UG9pbnQ9dGhpcy5nZXRQb2ludEZvckV2ZW50KGIpO3RoaXMuZXJyb3I9bnVsbDshdGhpcy5ncmFwaC5pc0lnbm9yZVRlcm1pbmFsRXZlbnQoYi5nZXRFdmVudCgpKSYmbXhFdmVudC5pc1NoaWZ0RG93bihiLmdldEV2ZW50KCkpJiZudWxsIT10aGlzLnNuYXBQb2ludCYmKE1hdGguYWJzKHRoaXMuc25hcFBvaW50LngtdGhpcy5jdXJyZW50UG9pbnQueCk8TWF0aC5hYnModGhpcy5zbmFwUG9pbnQueS10aGlzLmN1cnJlbnRQb2ludC55KT90aGlzLmN1cnJlbnRQb2ludC54PXRoaXMuc25hcFBvaW50Lng6dGhpcy5jdXJyZW50UG9pbnQueT10aGlzLnNuYXBQb2ludC55KTtpZih0aGlzLmluZGV4PD1teEV2ZW50LkNVU1RPTV9IQU5ETEUmJnRoaXMuaW5kZXg+bXhFdmVudC5WSVJUVUFMX0hBTkRMRSludWxsIT0KdGhpcy5jdXN0b21IYW5kbGVzJiZ0aGlzLmN1c3RvbUhhbmRsZXNbbXhFdmVudC5DVVNUT01fSEFORExFLXRoaXMuaW5kZXhdLnByb2Nlc3NFdmVudChiKTtlbHNlIGlmKHRoaXMuaXNMYWJlbCl0aGlzLmxhYmVsLng9dGhpcy5jdXJyZW50UG9pbnQueCx0aGlzLmxhYmVsLnk9dGhpcy5jdXJyZW50UG9pbnQueTtlbHNle3RoaXMucG9pbnRzPXRoaXMuZ2V0UHJldmlld1BvaW50cyh0aGlzLmN1cnJlbnRQb2ludCxiKTt2YXIgYz10aGlzLmlzU291cmNlfHx0aGlzLmlzVGFyZ2V0P3RoaXMuZ2V0UHJldmlld1Rlcm1pbmFsU3RhdGUoYik6bnVsbDtpZihudWxsIT10aGlzLmNvbnN0cmFpbnRIYW5kbGVyLmN1cnJlbnRDb25zdHJhaW50JiZudWxsIT10aGlzLmNvbnN0cmFpbnRIYW5kbGVyLmN1cnJlbnRGb2N1cyYmbnVsbCE9dGhpcy5jb25zdHJhaW50SGFuZGxlci5jdXJyZW50UG9pbnQpdGhpcy5jdXJyZW50UG9pbnQ9dGhpcy5jb25zdHJhaW50SGFuZGxlci5jdXJyZW50UG9pbnQuY2xvbmUoKTsKZWxzZSBpZih0aGlzLm91dGxpbmVDb25uZWN0KXt2YXIgZD10aGlzLmlzU291cmNlfHx0aGlzLmlzVGFyZ2V0P3RoaXMuaXNPdXRsaW5lQ29ubmVjdEV2ZW50KGIpOiExO2Q/Yz10aGlzLm1hcmtlci5oaWdobGlnaHQuc3RhdGU6bnVsbCE9YyYmYyE9Yi5nZXRTdGF0ZSgpJiZ0aGlzLmdyYXBoLmlzQ2VsbENvbm5lY3RhYmxlKGIuZ2V0Q2VsbCgpKSYmbnVsbCE9dGhpcy5tYXJrZXIuaGlnaGxpZ2h0LnNoYXBlJiYodGhpcy5tYXJrZXIuaGlnaGxpZ2h0LnNoYXBlLnN0cm9rZT0idHJhbnNwYXJlbnQiLHRoaXMubWFya2VyLmhpZ2hsaWdodC5yZXBhaW50KCksYz1udWxsKX1udWxsPT1jfHx0aGlzLmlzQ2VsbEVuYWJsZWQoYy5jZWxsKXx8KGM9bnVsbCx0aGlzLm1hcmtlci5yZXNldCgpKTt2YXIgZT10aGlzLmNsb25lUHJldmlld1N0YXRlKHRoaXMuY3VycmVudFBvaW50LG51bGwhPWM/Yy5jZWxsOm51bGwpO3RoaXMudXBkYXRlUHJldmlld1N0YXRlKGUsdGhpcy5jdXJyZW50UG9pbnQsCmMsYixkKTt0aGlzLnNldFByZXZpZXdDb2xvcihudWxsPT10aGlzLmVycm9yP3RoaXMubWFya2VyLnZhbGlkQ29sb3I6dGhpcy5tYXJrZXIuaW52YWxpZENvbG9yKTt0aGlzLmFic3BvaW50cz1lLmFic29sdXRlUG9pbnRzO3RoaXMuYWN0aXZlPSEwO3RoaXMudXBkYXRlSGludChiLHRoaXMuY3VycmVudFBvaW50KX10aGlzLmRyYXdQcmV2aWV3KCk7bXhFdmVudC5jb25zdW1lKGIuZ2V0RXZlbnQoKSk7Yi5jb25zdW1lKCl9ZWxzZSBteENsaWVudC5JU19JRSYmbnVsbCE9dGhpcy5nZXRIYW5kbGVGb3JFdmVudChiKSYmYi5jb25zdW1lKCExKX07Cm14RWRnZUhhbmRsZXIucHJvdG90eXBlLm1vdXNlVXA9ZnVuY3Rpb24oYSxiKXtpZihudWxsIT10aGlzLmluZGV4JiZudWxsIT10aGlzLm1hcmtlcil7dmFyIGM9dGhpcy5zdGF0ZS5jZWxsLGQ9dGhpcy5pbmRleDt0aGlzLmluZGV4PW51bGw7aWYoYi5nZXRYKCkhPXRoaXMuc3RhcnRYfHxiLmdldFkoKSE9dGhpcy5zdGFydFkpe3ZhciBlPSF0aGlzLmdyYXBoLmlzSWdub3JlVGVybWluYWxFdmVudChiLmdldEV2ZW50KCkpJiZ0aGlzLmdyYXBoLmlzQ2xvbmVFdmVudChiLmdldEV2ZW50KCkpJiZ0aGlzLmNsb25lRW5hYmxlZCYmdGhpcy5ncmFwaC5pc0NlbGxzQ2xvbmVhYmxlKCk7aWYobnVsbCE9dGhpcy5lcnJvcikwPHRoaXMuZXJyb3IubGVuZ3RoJiZ0aGlzLmdyYXBoLnZhbGlkYXRpb25BbGVydCh0aGlzLmVycm9yKTtlbHNlIGlmKGQ8PW14RXZlbnQuQ1VTVE9NX0hBTkRMRSYmZD5teEV2ZW50LlZJUlRVQUxfSEFORExFKXtpZihudWxsIT10aGlzLmN1c3RvbUhhbmRsZXMpe3ZhciBmPQp0aGlzLmdyYXBoLmdldE1vZGVsKCk7Zi5iZWdpblVwZGF0ZSgpO3RyeXt0aGlzLmN1c3RvbUhhbmRsZXNbbXhFdmVudC5DVVNUT01fSEFORExFLWRdLmV4ZWN1dGUoYil9ZmluYWxseXtmLmVuZFVwZGF0ZSgpfX19ZWxzZSBpZih0aGlzLmlzTGFiZWwpdGhpcy5tb3ZlTGFiZWwodGhpcy5zdGF0ZSx0aGlzLmxhYmVsLngsdGhpcy5sYWJlbC55KTtlbHNlIGlmKHRoaXMuaXNTb3VyY2V8fHRoaXMuaXNUYXJnZXQpaWYoZD1udWxsLG51bGwhPXRoaXMuY29uc3RyYWludEhhbmRsZXIuY3VycmVudENvbnN0cmFpbnQmJm51bGwhPXRoaXMuY29uc3RyYWludEhhbmRsZXIuY3VycmVudEZvY3VzJiYoZD10aGlzLmNvbnN0cmFpbnRIYW5kbGVyLmN1cnJlbnRGb2N1cy5jZWxsKSxudWxsPT1kJiZ0aGlzLm1hcmtlci5oYXNWYWxpZFN0YXRlKCkmJm51bGwhPXRoaXMubWFya2VyLmhpZ2hsaWdodCYmbnVsbCE9dGhpcy5tYXJrZXIuaGlnaGxpZ2h0LnNoYXBlJiYidHJhbnNwYXJlbnQiIT10aGlzLm1hcmtlci5oaWdobGlnaHQuc2hhcGUuc3Ryb2tlJiYKIndoaXRlIiE9dGhpcy5tYXJrZXIuaGlnaGxpZ2h0LnNoYXBlLnN0cm9rZSYmKGQ9dGhpcy5tYXJrZXIudmFsaWRTdGF0ZS5jZWxsKSxudWxsIT1kKXt2YXIgZj10aGlzLmdyYXBoLmdldE1vZGVsKCksZz1mLmdldFBhcmVudChjKTtmLmJlZ2luVXBkYXRlKCk7dHJ5e2lmKGUpe3ZhciBrPWYuZ2V0R2VvbWV0cnkoYyksZT10aGlzLmdyYXBoLmNsb25lQ2VsbChjKTtmLmFkZChnLGUsZi5nZXRDaGlsZENvdW50KGcpKTtudWxsIT1rJiYoaz1rLmNsb25lKCksZi5zZXRHZW9tZXRyeShlLGspKTt2YXIgbD1mLmdldFRlcm1pbmFsKGMsIXRoaXMuaXNTb3VyY2UpO3RoaXMuZ3JhcGguY29ubmVjdENlbGwoZSxsLCF0aGlzLmlzU291cmNlKTtjPWV9Yz10aGlzLmNvbm5lY3QoYyxkLHRoaXMuaXNTb3VyY2UsZSxiKX1maW5hbGx5e2YuZW5kVXBkYXRlKCl9fWVsc2UgdGhpcy5ncmFwaC5pc0FsbG93RGFuZ2xpbmdFZGdlcygpJiYoZj10aGlzLmFic3BvaW50c1t0aGlzLmlzU291cmNlPzA6dGhpcy5hYnNwb2ludHMubGVuZ3RoLQoxXSxmLng9dGhpcy5yb3VuZExlbmd0aChmLngvdGhpcy5ncmFwaC52aWV3LnNjYWxlLXRoaXMuZ3JhcGgudmlldy50cmFuc2xhdGUueCksZi55PXRoaXMucm91bmRMZW5ndGgoZi55L3RoaXMuZ3JhcGgudmlldy5zY2FsZS10aGlzLmdyYXBoLnZpZXcudHJhbnNsYXRlLnkpLGs9dGhpcy5ncmFwaC5nZXRWaWV3KCkuZ2V0U3RhdGUodGhpcy5ncmFwaC5nZXRNb2RlbCgpLmdldFBhcmVudChjKSksbnVsbCE9ayYmKGYueC09ay5vcmlnaW4ueCxmLnktPWsub3JpZ2luLnkpLGYueC09dGhpcy5ncmFwaC5wYW5EeC90aGlzLmdyYXBoLnZpZXcuc2NhbGUsZi55LT10aGlzLmdyYXBoLnBhbkR5L3RoaXMuZ3JhcGgudmlldy5zY2FsZSxjPXRoaXMuY2hhbmdlVGVybWluYWxQb2ludChjLGYsdGhpcy5pc1NvdXJjZSxlKSk7ZWxzZSB0aGlzLmFjdGl2ZT9jPXRoaXMuY2hhbmdlUG9pbnRzKGMsdGhpcy5wb2ludHMsZSk6KHRoaXMuZ3JhcGguZ2V0VmlldygpLmludmFsaWRhdGUodGhpcy5zdGF0ZS5jZWxsKSwKdGhpcy5ncmFwaC5nZXRWaWV3KCkudmFsaWRhdGUodGhpcy5zdGF0ZS5jZWxsKSl9ZWxzZSB0aGlzLmdyYXBoLmlzVG9nZ2xlRXZlbnQoYi5nZXRFdmVudCgpKSYmdGhpcy5ncmFwaC5zZWxlY3RDZWxsRm9yRXZlbnQodGhpcy5zdGF0ZS5jZWxsLGIuZ2V0RXZlbnQoKSk7bnVsbCE9dGhpcy5tYXJrZXImJih0aGlzLnJlc2V0KCksYyE9dGhpcy5zdGF0ZS5jZWxsJiZ0aGlzLmdyYXBoLnNldFNlbGVjdGlvbkNlbGwoYykpO2IuY29uc3VtZSgpfX07Cm14RWRnZUhhbmRsZXIucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5hY3RpdmUmJnRoaXMucmVmcmVzaCgpO3RoaXMuc25hcFBvaW50PXRoaXMucG9pbnRzPXRoaXMubGFiZWw9dGhpcy5pbmRleD10aGlzLmVycm9yPW51bGw7dGhpcy5hY3RpdmU9dGhpcy5pc1RhcmdldD10aGlzLmlzU291cmNlPXRoaXMuaXNMYWJlbD0hMTtpZih0aGlzLmxpdmVQcmV2aWV3JiZudWxsIT10aGlzLnNpemVycylmb3IodmFyIGE9MDthPHRoaXMuc2l6ZXJzLmxlbmd0aDthKyspbnVsbCE9dGhpcy5zaXplcnNbYV0mJih0aGlzLnNpemVyc1thXS5ub2RlLnN0eWxlLmRpc3BsYXk9IiIpO251bGwhPXRoaXMubWFya2VyJiZ0aGlzLm1hcmtlci5yZXNldCgpO251bGwhPXRoaXMuY29uc3RyYWludEhhbmRsZXImJnRoaXMuY29uc3RyYWludEhhbmRsZXIucmVzZXQoKTtpZihudWxsIT10aGlzLmN1c3RvbUhhbmRsZXMpZm9yKGE9MDthPHRoaXMuY3VzdG9tSGFuZGxlcy5sZW5ndGg7YSsrKXRoaXMuY3VzdG9tSGFuZGxlc1thXS5yZXNldCgpOwp0aGlzLnNldFByZXZpZXdDb2xvcihteENvbnN0YW50cy5FREdFX1NFTEVDVElPTl9DT0xPUik7dGhpcy5yZW1vdmVIaW50KCk7dGhpcy5yZWRyYXcoKX07bXhFZGdlSGFuZGxlci5wcm90b3R5cGUuc2V0UHJldmlld0NvbG9yPWZ1bmN0aW9uKGEpe251bGwhPXRoaXMuc2hhcGUmJih0aGlzLnNoYXBlLnN0cm9rZT1hKX07Cm14RWRnZUhhbmRsZXIucHJvdG90eXBlLmNvbnZlcnRQb2ludD1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZ3JhcGguZ2V0VmlldygpLmdldFNjYWxlKCksZD10aGlzLmdyYXBoLmdldFZpZXcoKS5nZXRUcmFuc2xhdGUoKTtiJiYoYS54PXRoaXMuZ3JhcGguc25hcChhLngpLGEueT10aGlzLmdyYXBoLnNuYXAoYS55KSk7YS54PU1hdGgucm91bmQoYS54L2MtZC54KTthLnk9TWF0aC5yb3VuZChhLnkvYy1kLnkpO2M9dGhpcy5ncmFwaC5nZXRWaWV3KCkuZ2V0U3RhdGUodGhpcy5ncmFwaC5nZXRNb2RlbCgpLmdldFBhcmVudCh0aGlzLnN0YXRlLmNlbGwpKTtudWxsIT1jJiYoYS54LT1jLm9yaWdpbi54LGEueS09Yy5vcmlnaW4ueSk7cmV0dXJuIGF9OwpteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5tb3ZlTGFiZWw9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXMuZ3JhcGguZ2V0TW9kZWwoKSxlPWQuZ2V0R2VvbWV0cnkoYS5jZWxsKTtpZihudWxsIT1lKXt2YXIgZj10aGlzLmdyYXBoLmdldFZpZXcoKS5zY2FsZSxlPWUuY2xvbmUoKTtpZihlLnJlbGF0aXZlKXt2YXIgZz10aGlzLmdyYXBoLmdldFZpZXcoKS5nZXRSZWxhdGl2ZVBvaW50KGEsYixjKTtlLng9TWF0aC5yb3VuZCgxRTQqZy54KS8xRTQ7ZS55PU1hdGgucm91bmQoZy55KTtlLm9mZnNldD1uZXcgbXhQb2ludCgwLDApO2c9dGhpcy5ncmFwaC52aWV3LmdldFBvaW50KGEsZSk7ZS5vZmZzZXQ9bmV3IG14UG9pbnQoTWF0aC5yb3VuZCgoYi1nLngpL2YpLE1hdGgucm91bmQoKGMtZy55KS9mKSl9ZWxzZXt2YXIgaz1hLmFic29sdXRlUG9pbnRzLGc9a1swXSxrPWtbay5sZW5ndGgtMV07bnVsbCE9ZyYmbnVsbCE9ayYmKGUub2Zmc2V0PW5ldyBteFBvaW50KE1hdGgucm91bmQoKGItCihnLngrKGsueC1nLngpLzIpKS9mKSxNYXRoLnJvdW5kKChjLShnLnkrKGsueS1nLnkpLzIpKS9mKSksZS54PTAsZS55PTApfWQuc2V0R2VvbWV0cnkoYS5jZWxsLGUpfX07bXhFZGdlSGFuZGxlci5wcm90b3R5cGUuY29ubmVjdD1mdW5jdGlvbihhLGIsYyxkLGUpe2Q9dGhpcy5ncmFwaC5nZXRNb2RlbCgpO2QuZ2V0UGFyZW50KGEpO2QuYmVnaW5VcGRhdGUoKTt0cnl7dmFyIGY9dGhpcy5jb25zdHJhaW50SGFuZGxlci5jdXJyZW50Q29uc3RyYWludDtudWxsPT1mJiYoZj1uZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludCk7dGhpcy5ncmFwaC5jb25uZWN0Q2VsbChhLGIsYyxmKX1maW5hbGx5e2QuZW5kVXBkYXRlKCl9cmV0dXJuIGF9OwpteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5jaGFuZ2VUZXJtaW5hbFBvaW50PWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPXRoaXMuZ3JhcGguZ2V0TW9kZWwoKTtlLmJlZ2luVXBkYXRlKCk7dHJ5e2lmKGQpe3ZhciBmPWUuZ2V0UGFyZW50KGEpLGc9ZS5nZXRUZXJtaW5hbChhLCFjKTthPXRoaXMuZ3JhcGguY2xvbmVDZWxsKGEpO2UuYWRkKGYsYSxlLmdldENoaWxkQ291bnQoZikpO2Uuc2V0VGVybWluYWwoYSxnLCFjKX12YXIgaz1lLmdldEdlb21ldHJ5KGEpO251bGwhPWsmJihrPWsuY2xvbmUoKSxrLnNldFRlcm1pbmFsUG9pbnQoYixjKSxlLnNldEdlb21ldHJ5KGEsayksdGhpcy5ncmFwaC5jb25uZWN0Q2VsbChhLG51bGwsYyxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludCkpfWZpbmFsbHl7ZS5lbmRVcGRhdGUoKX1yZXR1cm4gYX07Cm14RWRnZUhhbmRsZXIucHJvdG90eXBlLmNoYW5nZVBvaW50cz1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcy5ncmFwaC5nZXRNb2RlbCgpO2QuYmVnaW5VcGRhdGUoKTt0cnl7aWYoYyl7dmFyIGU9ZC5nZXRQYXJlbnQoYSksZj1kLmdldFRlcm1pbmFsKGEsITApLGc9ZC5nZXRUZXJtaW5hbChhLCExKTthPXRoaXMuZ3JhcGguY2xvbmVDZWxsKGEpO2QuYWRkKGUsYSxkLmdldENoaWxkQ291bnQoZSkpO2Quc2V0VGVybWluYWwoYSxmLCEwKTtkLnNldFRlcm1pbmFsKGEsZywhMSl9dmFyIGs9ZC5nZXRHZW9tZXRyeShhKTtudWxsIT1rJiYoaz1rLmNsb25lKCksay5wb2ludHM9YixkLnNldEdlb21ldHJ5KGEsaykpfWZpbmFsbHl7ZC5lbmRVcGRhdGUoKX1yZXR1cm4gYX07Cm14RWRnZUhhbmRsZXIucHJvdG90eXBlLmFkZFBvaW50PWZ1bmN0aW9uKGEsYil7dmFyIGM9bXhVdGlscy5jb252ZXJ0UG9pbnQodGhpcy5ncmFwaC5jb250YWluZXIsbXhFdmVudC5nZXRDbGllbnRYKGIpLG14RXZlbnQuZ2V0Q2xpZW50WShiKSksZD10aGlzLmdyYXBoLmlzR3JpZEVuYWJsZWRFdmVudChiKTt0aGlzLmNvbnZlcnRQb2ludChjLGQpO3RoaXMuYWRkUG9pbnRBdChhLGMueCxjLnkpO214RXZlbnQuY29uc3VtZShiKX07Cm14RWRnZUhhbmRsZXIucHJvdG90eXBlLmFkZFBvaW50QXQ9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXMuZ3JhcGguZ2V0Q2VsbEdlb21ldHJ5KGEuY2VsbCk7Yj1uZXcgbXhQb2ludChiLGMpO2lmKG51bGwhPWQpe3ZhciBkPWQuY2xvbmUoKSxlPXRoaXMuZ3JhcGgudmlldy50cmFuc2xhdGU7Yz10aGlzLmdyYXBoLnZpZXcuc2NhbGU7dmFyIGU9bmV3IG14UG9pbnQoZS54KmMsZS55KmMpLGY9dGhpcy5ncmFwaC5tb2RlbC5nZXRQYXJlbnQodGhpcy5zdGF0ZS5jZWxsKTt0aGlzLmdyYXBoLm1vZGVsLmlzVmVydGV4KGYpJiYoZT10aGlzLmdyYXBoLnZpZXcuZ2V0U3RhdGUoZiksZT1uZXcgbXhQb2ludChlLngsZS55KSk7Yz1teFV0aWxzLmZpbmROZWFyZXN0U2VnbWVudChhLGIueCpjK2UueCxiLnkqYytlLnkpO251bGw9PWQucG9pbnRzP2QucG9pbnRzPVtiXTpkLnBvaW50cy5zcGxpY2UoYywwLGIpO3RoaXMuZ3JhcGguZ2V0TW9kZWwoKS5zZXRHZW9tZXRyeShhLmNlbGwsZCk7dGhpcy5yZWZyZXNoKCk7CnRoaXMucmVkcmF3KCl9fTtteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5yZW1vdmVQb2ludD1mdW5jdGlvbihhLGIpe2lmKDA8YiYmYjx0aGlzLmFic3BvaW50cy5sZW5ndGgtMSl7dmFyIGM9dGhpcy5ncmFwaC5nZXRDZWxsR2VvbWV0cnkodGhpcy5zdGF0ZS5jZWxsKTtudWxsIT1jJiZudWxsIT1jLnBvaW50cyYmKGM9Yy5jbG9uZSgpLGMucG9pbnRzLnNwbGljZShiLTEsMSksdGhpcy5ncmFwaC5nZXRNb2RlbCgpLnNldEdlb21ldHJ5KGEuY2VsbCxjKSx0aGlzLnJlZnJlc2goKSx0aGlzLnJlZHJhdygpKX19OwpteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5nZXRIYW5kbGVGaWxsQ29sb3I9ZnVuY3Rpb24oYSl7YT0wPT1hO3ZhciBiPXRoaXMuc3RhdGUuY2VsbCxjPXRoaXMuZ3JhcGguZ2V0TW9kZWwoKS5nZXRUZXJtaW5hbChiLGEpLGQ9bXhDb25zdGFudHMuSEFORExFX0ZJTExDT0xPUjtudWxsIT1jJiYhdGhpcy5ncmFwaC5pc0NlbGxEaXNjb25uZWN0YWJsZShiLGMsYSl8fG51bGw9PWMmJiF0aGlzLmdyYXBoLmlzVGVybWluYWxQb2ludE1vdmFibGUoYixhKT9kPW14Q29uc3RhbnRzLkxPQ0tFRF9IQU5ETEVfRklMTENPTE9SOm51bGwhPWMmJnRoaXMuZ3JhcGguaXNDZWxsRGlzY29ubmVjdGFibGUoYixjLGEpJiYoZD1teENvbnN0YW50cy5DT05ORUNUX0hBTkRMRV9GSUxMQ09MT1IpO3JldHVybiBkfTsKbXhFZGdlSGFuZGxlci5wcm90b3R5cGUucmVkcmF3PWZ1bmN0aW9uKGEpe3RoaXMuYWJzcG9pbnRzPXRoaXMuc3RhdGUuYWJzb2x1dGVQb2ludHMuc2xpY2UoKTt2YXIgYj10aGlzLmdyYXBoLmdldE1vZGVsKCkuZ2V0R2VvbWV0cnkodGhpcy5zdGF0ZS5jZWxsKTtpZihudWxsIT1iJiYoYj1iLnBvaW50cyxudWxsIT10aGlzLmJlbmRzJiYwPHRoaXMuYmVuZHMubGVuZ3RoJiZudWxsIT1iKSl7bnVsbD09dGhpcy5wb2ludHMmJih0aGlzLnBvaW50cz1bXSk7Zm9yKHZhciBjPTE7Yzx0aGlzLmJlbmRzLmxlbmd0aC0xO2MrKyludWxsIT10aGlzLmJlbmRzW2NdJiZudWxsIT10aGlzLmFic3BvaW50c1tjXSYmKHRoaXMucG9pbnRzW2MtMV09YltjLTFdKX10aGlzLmRyYXdQcmV2aWV3KCk7YXx8dGhpcy5yZWRyYXdIYW5kbGVzKCl9OwpteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5yZWRyYXdIYW5kbGVzPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5zdGF0ZS5jZWxsLGI9dGhpcy5sYWJlbFNoYXBlLmJvdW5kczt0aGlzLmxhYmVsPW5ldyBteFBvaW50KHRoaXMuc3RhdGUuYWJzb2x1dGVPZmZzZXQueCx0aGlzLnN0YXRlLmFic29sdXRlT2Zmc2V0LnkpO3RoaXMubGFiZWxTaGFwZS5ib3VuZHM9bmV3IG14UmVjdGFuZ2xlKE1hdGgucm91bmQodGhpcy5sYWJlbC54LWIud2lkdGgvMiksTWF0aC5yb3VuZCh0aGlzLmxhYmVsLnktYi5oZWlnaHQvMiksYi53aWR0aCxiLmhlaWdodCk7Yj10aGlzLmdyYXBoLmdldExhYmVsKGEpO3RoaXMubGFiZWxTaGFwZS52aXNpYmxlPW51bGwhPWImJjA8Yi5sZW5ndGgmJnRoaXMuZ3JhcGguaXNMYWJlbE1vdmFibGUoYSk7aWYobnVsbCE9dGhpcy5iZW5kcyYmMDx0aGlzLmJlbmRzLmxlbmd0aCl7dmFyIGM9dGhpcy5hYnNwb2ludHMubGVuZ3RoLTEsYT10aGlzLmFic3BvaW50c1swXSxkPWEueCwKZT1hLnksYj10aGlzLmJlbmRzWzBdLmJvdW5kczt0aGlzLmJlbmRzWzBdLmJvdW5kcz1uZXcgbXhSZWN0YW5nbGUoTWF0aC5mbG9vcihkLWIud2lkdGgvMiksTWF0aC5mbG9vcihlLWIuaGVpZ2h0LzIpLGIud2lkdGgsYi5oZWlnaHQpO3RoaXMuYmVuZHNbMF0uZmlsbD10aGlzLmdldEhhbmRsZUZpbGxDb2xvcigwKTt0aGlzLmJlbmRzWzBdLnJlZHJhdygpO3RoaXMubWFuYWdlTGFiZWxIYW5kbGUmJnRoaXMuY2hlY2tMYWJlbEhhbmRsZSh0aGlzLmJlbmRzWzBdLmJvdW5kcyk7dmFyIGM9dGhpcy5hYnNwb2ludHNbY10sZD1jLngsZT1jLnksZj10aGlzLmJlbmRzLmxlbmd0aC0xLGI9dGhpcy5iZW5kc1tmXS5ib3VuZHM7dGhpcy5iZW5kc1tmXS5ib3VuZHM9bmV3IG14UmVjdGFuZ2xlKE1hdGguZmxvb3IoZC1iLndpZHRoLzIpLE1hdGguZmxvb3IoZS1iLmhlaWdodC8yKSxiLndpZHRoLGIuaGVpZ2h0KTt0aGlzLmJlbmRzW2ZdLmZpbGw9dGhpcy5nZXRIYW5kbGVGaWxsQ29sb3IoZik7CnRoaXMuYmVuZHNbZl0ucmVkcmF3KCk7dGhpcy5tYW5hZ2VMYWJlbEhhbmRsZSYmdGhpcy5jaGVja0xhYmVsSGFuZGxlKHRoaXMuYmVuZHNbZl0uYm91bmRzKTt0aGlzLnJlZHJhd0lubmVyQmVuZHMoYSxjKX1pZihudWxsIT10aGlzLmFic3BvaW50cyYmbnVsbCE9dGhpcy52aXJ0dWFsQmVuZHMmJjA8dGhpcy52aXJ0dWFsQmVuZHMubGVuZ3RoKWZvcihjPXRoaXMuYWJzcG9pbnRzWzBdLGE9MDthPHRoaXMudmlydHVhbEJlbmRzLmxlbmd0aDthKyspbnVsbCE9dGhpcy52aXJ0dWFsQmVuZHNbYV0mJm51bGwhPXRoaXMuYWJzcG9pbnRzW2ErMV0mJihkPXRoaXMuYWJzcG9pbnRzW2ErMV0sYj10aGlzLnZpcnR1YWxCZW5kc1thXSxiLmJvdW5kcz1uZXcgbXhSZWN0YW5nbGUoTWF0aC5mbG9vcihjLngrKGQueC1jLngpLzItYi5ib3VuZHMud2lkdGgvMiksTWF0aC5mbG9vcihjLnkrKGQueS1jLnkpLzItYi5ib3VuZHMuaGVpZ2h0LzIpLGIuYm91bmRzLndpZHRoLGIuYm91bmRzLmhlaWdodCksCmIucmVkcmF3KCksbXhVdGlscy5zZXRPcGFjaXR5KGIubm9kZSx0aGlzLnZpcnR1YWxCZW5kT3BhY2l0eSksYz1kLHRoaXMubWFuYWdlTGFiZWxIYW5kbGUmJnRoaXMuY2hlY2tMYWJlbEhhbmRsZShiLmJvdW5kcykpO251bGwhPXRoaXMubGFiZWxTaGFwZSYmdGhpcy5sYWJlbFNoYXBlLnJlZHJhdygpO2lmKG51bGwhPXRoaXMuY3VzdG9tSGFuZGxlcylmb3IoYT0wO2E8dGhpcy5jdXN0b21IYW5kbGVzLmxlbmd0aDthKyspYj10aGlzLmN1c3RvbUhhbmRsZXNbYV0uc2hhcGUubm9kZS5zdHlsZS5kaXNwbGF5LHRoaXMuY3VzdG9tSGFuZGxlc1thXS5yZWRyYXcoKSx0aGlzLmN1c3RvbUhhbmRsZXNbYV0uc2hhcGUubm9kZS5zdHlsZS5kaXNwbGF5PWIsdGhpcy5jdXN0b21IYW5kbGVzW2FdLnNoYXBlLm5vZGUuc3R5bGUudmlzaWJpbGl0eT10aGlzLmlzQ3VzdG9tSGFuZGxlVmlzaWJsZSh0aGlzLmN1c3RvbUhhbmRsZXNbYV0pPyIiOiJoaWRkZW4ifTsKbXhFZGdlSGFuZGxlci5wcm90b3R5cGUuaXNDdXN0b21IYW5kbGVWaXNpYmxlPWZ1bmN0aW9uKGEpe3JldHVybiF0aGlzLmdyYXBoLmlzRWRpdGluZygpJiYxPT10aGlzLnN0YXRlLnZpZXcuZ3JhcGguZ2V0U2VsZWN0aW9uQ291bnQoKX07Cm14RWRnZUhhbmRsZXIucHJvdG90eXBlLnNldEhhbmRsZXNWaXNpYmxlPWZ1bmN0aW9uKGEpe2lmKG51bGwhPXRoaXMuYmVuZHMpZm9yKHZhciBiPTA7Yjx0aGlzLmJlbmRzLmxlbmd0aDtiKyspdGhpcy5iZW5kc1tiXS5ub2RlLnN0eWxlLmRpc3BsYXk9YT8iIjoibm9uZSI7aWYobnVsbCE9dGhpcy52aXJ0dWFsQmVuZHMpZm9yKGI9MDtiPHRoaXMudmlydHVhbEJlbmRzLmxlbmd0aDtiKyspdGhpcy52aXJ0dWFsQmVuZHNbYl0ubm9kZS5zdHlsZS5kaXNwbGF5PWE/IiI6Im5vbmUiO251bGwhPXRoaXMubGFiZWxTaGFwZSYmKHRoaXMubGFiZWxTaGFwZS5ub2RlLnN0eWxlLmRpc3BsYXk9YT8iIjoibm9uZSIpO2lmKG51bGwhPXRoaXMuY3VzdG9tSGFuZGxlcylmb3IoYj0wO2I8dGhpcy5jdXN0b21IYW5kbGVzLmxlbmd0aDtiKyspdGhpcy5jdXN0b21IYW5kbGVzW2JdLnNldFZpc2libGUoYSl9OwpteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5yZWRyYXdJbm5lckJlbmRzPWZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTE7Yzx0aGlzLmJlbmRzLmxlbmd0aC0xO2MrKylpZihudWxsIT10aGlzLmJlbmRzW2NdKWlmKG51bGwhPXRoaXMuYWJzcG9pbnRzW2NdKXt2YXIgZD10aGlzLmFic3BvaW50c1tjXS54LGU9dGhpcy5hYnNwb2ludHNbY10ueSxmPXRoaXMuYmVuZHNbY10uYm91bmRzO3RoaXMuYmVuZHNbY10ubm9kZS5zdHlsZS52aXNpYmlsaXR5PSJ2aXNpYmxlIjt0aGlzLmJlbmRzW2NdLmJvdW5kcz1uZXcgbXhSZWN0YW5nbGUoTWF0aC5yb3VuZChkLWYud2lkdGgvMiksTWF0aC5yb3VuZChlLWYuaGVpZ2h0LzIpLGYud2lkdGgsZi5oZWlnaHQpO3RoaXMubWFuYWdlTGFiZWxIYW5kbGU/dGhpcy5jaGVja0xhYmVsSGFuZGxlKHRoaXMuYmVuZHNbY10uYm91bmRzKTpudWxsPT10aGlzLmhhbmRsZUltYWdlJiZ0aGlzLmxhYmVsU2hhcGUudmlzaWJsZSYmbXhVdGlscy5pbnRlcnNlY3RzKHRoaXMuYmVuZHNbY10uYm91bmRzLAp0aGlzLmxhYmVsU2hhcGUuYm91bmRzKSYmKHc9bXhDb25zdGFudHMuSEFORExFX1NJWkUrMyxoPW14Q29uc3RhbnRzLkhBTkRMRV9TSVpFKzMsdGhpcy5iZW5kc1tjXS5ib3VuZHM9bmV3IG14UmVjdGFuZ2xlKE1hdGgucm91bmQoZC13LzIpLE1hdGgucm91bmQoZS1oLzIpLHcsaCkpO3RoaXMuYmVuZHNbY10ucmVkcmF3KCl9ZWxzZSB0aGlzLmJlbmRzW2NdLmRlc3Ryb3koKSx0aGlzLmJlbmRzW2NdPW51bGx9O214RWRnZUhhbmRsZXIucHJvdG90eXBlLmNoZWNrTGFiZWxIYW5kbGU9ZnVuY3Rpb24oYSl7aWYobnVsbCE9dGhpcy5sYWJlbFNoYXBlKXt2YXIgYj10aGlzLmxhYmVsU2hhcGUuYm91bmRzO214VXRpbHMuaW50ZXJzZWN0cyhhLGIpJiYoYS5nZXRDZW50ZXJZKCk8Yi5nZXRDZW50ZXJZKCk/Yi55PWEueSthLmhlaWdodDpiLnk9YS55LWIuaGVpZ2h0KX19OwpteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5kcmF3UHJldmlldz1mdW5jdGlvbigpe2lmKHRoaXMuaXNMYWJlbCl7dmFyIGE9dGhpcy5sYWJlbFNoYXBlLmJvdW5kcyxhPW5ldyBteFJlY3RhbmdsZShNYXRoLnJvdW5kKHRoaXMubGFiZWwueC1hLndpZHRoLzIpLE1hdGgucm91bmQodGhpcy5sYWJlbC55LWEuaGVpZ2h0LzIpLGEud2lkdGgsYS5oZWlnaHQpO3RoaXMubGFiZWxTaGFwZS5ib3VuZHMuZXF1YWxzKGEpfHwodGhpcy5sYWJlbFNoYXBlLmJvdW5kcz1hLHRoaXMubGFiZWxTaGFwZS5yZWRyYXcoKSl9bnVsbD09dGhpcy5zaGFwZXx8bXhVdGlscy5lcXVhbFBvaW50cyh0aGlzLnNoYXBlLnBvaW50cyx0aGlzLmFic3BvaW50cyl8fCh0aGlzLnNoYXBlLmFwcGx5KHRoaXMuc3RhdGUpLHRoaXMuc2hhcGUucG9pbnRzPXRoaXMuYWJzcG9pbnRzLnNsaWNlKCksdGhpcy5zaGFwZS5zY2FsZT10aGlzLnN0YXRlLnZpZXcuc2NhbGUsdGhpcy5zaGFwZS5pc0Rhc2hlZD10aGlzLmlzU2VsZWN0aW9uRGFzaGVkKCksCnRoaXMuc2hhcGUuc3Ryb2tlPXRoaXMuZ2V0U2VsZWN0aW9uQ29sb3IoKSx0aGlzLnNoYXBlLnN0cm9rZXdpZHRoPXRoaXMuZ2V0U2VsZWN0aW9uU3Ryb2tlV2lkdGgoKS90aGlzLnNoYXBlLnNjYWxlL3RoaXMuc2hhcGUuc2NhbGUsdGhpcy5zaGFwZS5pc1NoYWRvdz0hMSx0aGlzLnNoYXBlLnJlZHJhdygpKTtudWxsIT10aGlzLnBhcmVudEhpZ2hsaWdodCYmdGhpcy5wYXJlbnRIaWdobGlnaHQucmVkcmF3KCl9OwpteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5yZWZyZXNoPWZ1bmN0aW9uKCl7dGhpcy5hYnNwb2ludHM9dGhpcy5nZXRTZWxlY3Rpb25Qb2ludHModGhpcy5zdGF0ZSk7dGhpcy5wb2ludHM9W107bnVsbCE9dGhpcy5iZW5kcyYmKHRoaXMuZGVzdHJveUJlbmRzKHRoaXMuYmVuZHMpLHRoaXMuYmVuZHM9dGhpcy5jcmVhdGVCZW5kcygpKTtudWxsIT10aGlzLnZpcnR1YWxCZW5kcyYmKHRoaXMuZGVzdHJveUJlbmRzKHRoaXMudmlydHVhbEJlbmRzKSx0aGlzLnZpcnR1YWxCZW5kcz10aGlzLmNyZWF0ZVZpcnR1YWxCZW5kcygpKTtudWxsIT10aGlzLmN1c3RvbUhhbmRsZXMmJih0aGlzLmRlc3Ryb3lCZW5kcyh0aGlzLmN1c3RvbUhhbmRsZXMpLHRoaXMuY3VzdG9tSGFuZGxlcz10aGlzLmNyZWF0ZUN1c3RvbUhhbmRsZXMoKSk7bnVsbCE9dGhpcy5sYWJlbFNoYXBlJiZudWxsIT10aGlzLmxhYmVsU2hhcGUubm9kZSYmbnVsbCE9dGhpcy5sYWJlbFNoYXBlLm5vZGUucGFyZW50Tm9kZSYmdGhpcy5sYWJlbFNoYXBlLm5vZGUucGFyZW50Tm9kZS5hcHBlbmRDaGlsZCh0aGlzLmxhYmVsU2hhcGUubm9kZSl9OwpteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5kZXN0cm95QmVuZHM9ZnVuY3Rpb24oYSl7aWYobnVsbCE9YSlmb3IodmFyIGI9MDtiPGEubGVuZ3RoO2IrKyludWxsIT1hW2JdJiZhW2JdLmRlc3Ryb3koKX07Cm14RWRnZUhhbmRsZXIucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXtudWxsIT10aGlzLmVzY2FwZUhhbmRsZXImJih0aGlzLnN0YXRlLnZpZXcuZ3JhcGgucmVtb3ZlTGlzdGVuZXIodGhpcy5lc2NhcGVIYW5kbGVyKSx0aGlzLmVzY2FwZUhhbmRsZXI9bnVsbCk7bnVsbCE9dGhpcy5tYXJrZXImJih0aGlzLm1hcmtlci5kZXN0cm95KCksdGhpcy5tYXJrZXI9bnVsbCk7bnVsbCE9dGhpcy5zaGFwZSYmKHRoaXMuc2hhcGUuZGVzdHJveSgpLHRoaXMuc2hhcGU9bnVsbCk7bnVsbCE9dGhpcy5wYXJlbnRIaWdobGlnaHQmJih0aGlzLnBhcmVudEhpZ2hsaWdodC5kZXN0cm95KCksdGhpcy5wYXJlbnRIaWdobGlnaHQ9bnVsbCk7bnVsbCE9dGhpcy5sYWJlbFNoYXBlJiYodGhpcy5sYWJlbFNoYXBlLmRlc3Ryb3koKSx0aGlzLmxhYmVsU2hhcGU9bnVsbCk7bnVsbCE9dGhpcy5jb25zdHJhaW50SGFuZGxlciYmKHRoaXMuY29uc3RyYWludEhhbmRsZXIuZGVzdHJveSgpLHRoaXMuY29uc3RyYWludEhhbmRsZXI9Cm51bGwpO3RoaXMuZGVzdHJveUJlbmRzKHRoaXMudmlydHVhbEJlbmRzKTt0aGlzLnZpcnR1YWxCZW5kcz1udWxsO3RoaXMuZGVzdHJveUJlbmRzKHRoaXMuY3VzdG9tSGFuZGxlcyk7dGhpcy5jdXN0b21IYW5kbGVzPW51bGw7dGhpcy5kZXN0cm95QmVuZHModGhpcy5iZW5kcyk7dGhpcy5iZW5kcz1udWxsO3RoaXMucmVtb3ZlSGludCgpfTtmdW5jdGlvbiBteEVsYm93RWRnZUhhbmRsZXIoYSl7bXhFZGdlSGFuZGxlci5jYWxsKHRoaXMsYSl9bXhVdGlscy5leHRlbmQobXhFbGJvd0VkZ2VIYW5kbGVyLG14RWRnZUhhbmRsZXIpO214RWxib3dFZGdlSGFuZGxlci5wcm90b3R5cGUuZmxpcEVuYWJsZWQ9ITA7bXhFbGJvd0VkZ2VIYW5kbGVyLnByb3RvdHlwZS5kb3VibGVDbGlja09yaWVudGF0aW9uUmVzb3VyY2U9Im5vbmUiIT1teENsaWVudC5sYW5ndWFnZT8iZG91YmxlQ2xpY2tPcmllbnRhdGlvbiI6IiI7Cm14RWxib3dFZGdlSGFuZGxlci5wcm90b3R5cGUuY3JlYXRlQmVuZHM9ZnVuY3Rpb24oKXt2YXIgYT1bXSxiPXRoaXMuY3JlYXRlSGFuZGxlU2hhcGUoMCk7dGhpcy5pbml0QmVuZChiKTtiLnNldEN1cnNvcihteENvbnN0YW50cy5DVVJTT1JfVEVSTUlOQUxfSEFORExFKTthLnB1c2goYik7YS5wdXNoKHRoaXMuY3JlYXRlVmlydHVhbEJlbmQobXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7IW14RXZlbnQuaXNDb25zdW1lZChhKSYmdGhpcy5mbGlwRW5hYmxlZCYmKHRoaXMuZ3JhcGguZmxpcEVkZ2UodGhpcy5zdGF0ZS5jZWxsLGEpLG14RXZlbnQuY29uc3VtZShhKSl9KSkpO3RoaXMucG9pbnRzLnB1c2gobmV3IG14UG9pbnQoMCwwKSk7Yj10aGlzLmNyZWF0ZUhhbmRsZVNoYXBlKDIpO3RoaXMuaW5pdEJlbmQoYik7Yi5zZXRDdXJzb3IobXhDb25zdGFudHMuQ1VSU09SX1RFUk1JTkFMX0hBTkRMRSk7YS5wdXNoKGIpO3JldHVybiBhfTsKbXhFbGJvd0VkZ2VIYW5kbGVyLnByb3RvdHlwZS5jcmVhdGVWaXJ0dWFsQmVuZD1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmNyZWF0ZUhhbmRsZVNoYXBlKCk7dGhpcy5pbml0QmVuZChiLGEpO2Iuc2V0Q3Vyc29yKHRoaXMuZ2V0Q3Vyc29yRm9yQmVuZCgpKTt0aGlzLmdyYXBoLmlzQ2VsbEJlbmRhYmxlKHRoaXMuc3RhdGUuY2VsbCl8fChiLm5vZGUuc3R5bGUuZGlzcGxheT0ibm9uZSIpO3JldHVybiBifTsKbXhFbGJvd0VkZ2VIYW5kbGVyLnByb3RvdHlwZS5nZXRDdXJzb3JGb3JCZW5kPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhdGUuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfRURHRV09PW14RWRnZVN0eWxlLlRvcFRvQm90dG9tfHx0aGlzLnN0YXRlLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX0VER0VdPT1teENvbnN0YW50cy5FREdFU1RZTEVfVE9QVE9CT1RUT018fCh0aGlzLnN0YXRlLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX0VER0VdPT1teEVkZ2VTdHlsZS5FbGJvd0Nvbm5lY3Rvcnx8dGhpcy5zdGF0ZS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9FREdFXT09bXhDb25zdGFudHMuRURHRVNUWUxFX0VMQk9XKSYmdGhpcy5zdGF0ZS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9FTEJPV109PW14Q29uc3RhbnRzLkVMQk9XX1ZFUlRJQ0FMPyJyb3ctcmVzaXplIjoiY29sLXJlc2l6ZSJ9OwpteEVsYm93RWRnZUhhbmRsZXIucHJvdG90eXBlLmdldFRvb2x0aXBGb3JOb2RlPWZ1bmN0aW9uKGEpe3ZhciBiPW51bGw7bnVsbD09dGhpcy5iZW5kc3x8bnVsbD09dGhpcy5iZW5kc1sxXXx8YSE9dGhpcy5iZW5kc1sxXS5ub2RlJiZhLnBhcmVudE5vZGUhPXRoaXMuYmVuZHNbMV0ubm9kZXx8KGI9dGhpcy5kb3VibGVDbGlja09yaWVudGF0aW9uUmVzb3VyY2UsYj1teFJlc291cmNlcy5nZXQoYil8fGIpO3JldHVybiBifTsKbXhFbGJvd0VkZ2VIYW5kbGVyLnByb3RvdHlwZS5jb252ZXJ0UG9pbnQ9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdyYXBoLmdldFZpZXcoKS5nZXRTY2FsZSgpLGQ9dGhpcy5ncmFwaC5nZXRWaWV3KCkuZ2V0VHJhbnNsYXRlKCksZT10aGlzLnN0YXRlLm9yaWdpbjtiJiYoYS54PXRoaXMuZ3JhcGguc25hcChhLngpLGEueT10aGlzLmdyYXBoLnNuYXAoYS55KSk7YS54PU1hdGgucm91bmQoYS54L2MtZC54LWUueCk7YS55PU1hdGgucm91bmQoYS55L2MtZC55LWUueSk7cmV0dXJuIGF9OwpteEVsYm93RWRnZUhhbmRsZXIucHJvdG90eXBlLnJlZHJhd0lubmVyQmVuZHM9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdyYXBoLmdldE1vZGVsKCkuZ2V0R2VvbWV0cnkodGhpcy5zdGF0ZS5jZWxsKSxkPXRoaXMuc3RhdGUuYWJzb2x1dGVQb2ludHMsZT1udWxsOzE8ZC5sZW5ndGg/KGE9ZFsxXSxiPWRbZC5sZW5ndGgtMl0pOm51bGwhPWMucG9pbnRzJiYwPGMucG9pbnRzLmxlbmd0aCYmKGU9ZFswXSk7ZT1udWxsPT1lP25ldyBteFBvaW50KGEueCsoYi54LWEueCkvMixhLnkrKGIueS1hLnkpLzIpOm5ldyBteFBvaW50KHRoaXMuZ3JhcGguZ2V0VmlldygpLnNjYWxlKihlLngrdGhpcy5ncmFwaC5nZXRWaWV3KCkudHJhbnNsYXRlLngrdGhpcy5zdGF0ZS5vcmlnaW4ueCksdGhpcy5ncmFwaC5nZXRWaWV3KCkuc2NhbGUqKGUueSt0aGlzLmdyYXBoLmdldFZpZXcoKS50cmFuc2xhdGUueSt0aGlzLnN0YXRlLm9yaWdpbi55KSk7ZD10aGlzLmJlbmRzWzFdLmJvdW5kcztjPWQud2lkdGg7CmQ9ZC5oZWlnaHQ7Yz1uZXcgbXhSZWN0YW5nbGUoTWF0aC5yb3VuZChlLngtYy8yKSxNYXRoLnJvdW5kKGUueS1kLzIpLGMsZCk7dGhpcy5tYW5hZ2VMYWJlbEhhbmRsZT90aGlzLmNoZWNrTGFiZWxIYW5kbGUoYyk6bnVsbD09dGhpcy5oYW5kbGVJbWFnZSYmdGhpcy5sYWJlbFNoYXBlLnZpc2libGUmJm14VXRpbHMuaW50ZXJzZWN0cyhjLHRoaXMubGFiZWxTaGFwZS5ib3VuZHMpJiYoYz1teENvbnN0YW50cy5IQU5ETEVfU0laRSszLGQ9bXhDb25zdGFudHMuSEFORExFX1NJWkUrMyxjPW5ldyBteFJlY3RhbmdsZShNYXRoLmZsb29yKGUueC1jLzIpLE1hdGguZmxvb3IoZS55LWQvMiksYyxkKSk7dGhpcy5iZW5kc1sxXS5ib3VuZHM9Yzt0aGlzLmJlbmRzWzFdLnJlZHJhdygpO3RoaXMubWFuYWdlTGFiZWxIYW5kbGUmJnRoaXMuY2hlY2tMYWJlbEhhbmRsZSh0aGlzLmJlbmRzWzFdLmJvdW5kcyl9OwpmdW5jdGlvbiBteEVkZ2VTZWdtZW50SGFuZGxlcihhKXtteEVkZ2VIYW5kbGVyLmNhbGwodGhpcyxhKX1teFV0aWxzLmV4dGVuZChteEVkZ2VTZWdtZW50SGFuZGxlcixteEVsYm93RWRnZUhhbmRsZXIpOwpteEVkZ2VTZWdtZW50SGFuZGxlci5wcm90b3R5cGUuZ2V0Q3VycmVudFBvaW50cz1mdW5jdGlvbigpe3ZhciBhPXRoaXMuc3RhdGUuYWJzb2x1dGVQb2ludHM7aWYobnVsbCE9YSl7dmFyIGI9TWF0aC5tYXgoMSx0aGlzLmdyYXBoLnZpZXcuc2NhbGUpO2lmKDI9PWEubGVuZ3RofHwzPT1hLmxlbmd0aCYmKE1hdGguYWJzKGFbMF0ueC1hWzFdLngpPGImJk1hdGguYWJzKGFbMV0ueC1hWzJdLngpPGJ8fE1hdGguYWJzKGFbMF0ueS1hWzFdLnkpPGImJk1hdGguYWJzKGFbMV0ueS1hWzJdLnkpPGIpKXZhciBiPWFbMF0ueCsoYVthLmxlbmd0aC0xXS54LWFbMF0ueCkvMixjPWFbMF0ueSsoYVthLmxlbmd0aC0xXS55LWFbMF0ueSkvMixhPVthWzBdLG5ldyBteFBvaW50KGIsYyksbmV3IG14UG9pbnQoYixjKSxhW2EubGVuZ3RoLTFdXX1yZXR1cm4gYX07Cm14RWRnZVNlZ21lbnRIYW5kbGVyLnByb3RvdHlwZS5nZXRQcmV2aWV3UG9pbnRzPWZ1bmN0aW9uKGEpe2lmKHRoaXMuaXNTb3VyY2V8fHRoaXMuaXNUYXJnZXQpcmV0dXJuIG14RWxib3dFZGdlSGFuZGxlci5wcm90b3R5cGUuZ2V0UHJldmlld1BvaW50cy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dmFyIGI9dGhpcy5nZXRDdXJyZW50UG9pbnRzKCksYz10aGlzLmNvbnZlcnRQb2ludChiWzBdLmNsb25lKCksITEpO2E9dGhpcy5jb252ZXJ0UG9pbnQoYS5jbG9uZSgpLCExKTtmb3IodmFyIGQ9W10sZT0xO2U8Yi5sZW5ndGg7ZSsrKXt2YXIgZj10aGlzLmNvbnZlcnRQb2ludChiW2VdLmNsb25lKCksITEpO2U9PXRoaXMuaW5kZXgmJigwPT1NYXRoLnJvdW5kKGMueC1mLngpJiYoYy54PWEueCxmLng9YS54KSwwPT1NYXRoLnJvdW5kKGMueS1mLnkpJiYoYy55PWEueSxmLnk9YS55KSk7ZTxiLmxlbmd0aC0xJiZkLnB1c2goZik7Yz1mfWlmKDE9PWQubGVuZ3RoKXt2YXIgYj10aGlzLnN0YXRlLmdldFZpc2libGVUZXJtaW5hbFN0YXRlKCEwKSwKYz10aGlzLnN0YXRlLmdldFZpc2libGVUZXJtaW5hbFN0YXRlKCExKSxmPXRoaXMuc3RhdGUudmlldy5nZXRTY2FsZSgpLGc9dGhpcy5zdGF0ZS52aWV3LmdldFRyYW5zbGF0ZSgpLGU9ZFswXS54KmYrZy54LGY9ZFswXS55KmYrZy55O2lmKG51bGwhPWImJm14VXRpbHMuY29udGFpbnMoYixlLGYpfHxudWxsIT1jJiZteFV0aWxzLmNvbnRhaW5zKGMsZSxmKSlkPVthLGFdfXJldHVybiBkfTsKbXhFZGdlU2VnbWVudEhhbmRsZXIucHJvdG90eXBlLnVwZGF0ZVByZXZpZXdTdGF0ZT1mdW5jdGlvbihhLGIsYyxkKXtteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS51cGRhdGVQcmV2aWV3U3RhdGUuYXBwbHkodGhpcyxhcmd1bWVudHMpO2lmKCF0aGlzLmlzU291cmNlJiYhdGhpcy5pc1RhcmdldCl7Yj10aGlzLmNvbnZlcnRQb2ludChiLmNsb25lKCksITEpO2Zvcih2YXIgZT1hLmFic29sdXRlUG9pbnRzLGY9ZVswXSxnPWVbMV0saz1bXSxsPTI7bDxlLmxlbmd0aDtsKyspe3ZhciBtPWVbbF07MD09TWF0aC5yb3VuZChmLngtZy54KSYmMD09TWF0aC5yb3VuZChnLngtbS54KXx8MD09TWF0aC5yb3VuZChmLnktZy55KSYmMD09TWF0aC5yb3VuZChnLnktbS55KXx8ay5wdXNoKHRoaXMuY29udmVydFBvaW50KGcuY2xvbmUoKSwhMSkpO2Y9ZztnPW19Zj10aGlzLnN0YXRlLmdldFZpc2libGVUZXJtaW5hbFN0YXRlKCEwKTtnPXRoaXMuc3RhdGUuZ2V0VmlzaWJsZVRlcm1pbmFsU3RhdGUoITEpOwpsPXRoaXMuc3RhdGUuYWJzb2x1dGVQb2ludHM7aWYoMD09ay5sZW5ndGgmJigwPT1NYXRoLnJvdW5kKGVbMF0ueC1lW2UubGVuZ3RoLTFdLngpfHwwPT1NYXRoLnJvdW5kKGVbMF0ueS1lW2UubGVuZ3RoLTFdLnkpKSlrPVtiLGJdO2Vsc2UgaWYoNT09ZS5sZW5ndGgmJjI9PWsubGVuZ3RoJiZudWxsIT1mJiZudWxsIT1nJiZudWxsIT1sJiYwPT1NYXRoLnJvdW5kKGxbMF0ueC1sW2wubGVuZ3RoLTFdLngpKXt2YXIgaz10aGlzLmdyYXBoLmdldFZpZXcoKSxsPWsuZ2V0U2NhbGUoKSxtPWsuZ2V0VHJhbnNsYXRlKCksZT1rLmdldFJvdXRpbmdDZW50ZXJZKGYpL2wtbS55LG49dGhpcy5ncmFwaC5nZXRDb25uZWN0aW9uQ29uc3RyYWludChhLGYsITApO251bGwhPW4mJihuPXRoaXMuZ3JhcGguZ2V0Q29ubmVjdGlvblBvaW50KGYsbiksbnVsbCE9biYmKHRoaXMuY29udmVydFBvaW50KG4sITEpLGU9bi55KSk7az1rLmdldFJvdXRpbmdDZW50ZXJZKGcpL2wtbS55O2lmKGw9dGhpcy5ncmFwaC5nZXRDb25uZWN0aW9uQ29uc3RyYWludChhLApnLCExKSluPXRoaXMuZ3JhcGguZ2V0Q29ubmVjdGlvblBvaW50KGcsbCksbnVsbCE9biYmKHRoaXMuY29udmVydFBvaW50KG4sITEpLGs9bi55KTtrPVtuZXcgbXhQb2ludChiLngsZSksbmV3IG14UG9pbnQoYi54LGspXX10aGlzLnBvaW50cz1rO2Eudmlldy51cGRhdGVGaXhlZFRlcm1pbmFsUG9pbnRzKGEsZixnKTthLnZpZXcudXBkYXRlUG9pbnRzKGEsdGhpcy5wb2ludHMsZixnKTthLnZpZXcudXBkYXRlRmxvYXRpbmdUZXJtaW5hbFBvaW50cyhhLGYsZyl9fTsKbXhFZGdlU2VnbWVudEhhbmRsZXIucHJvdG90eXBlLmNvbm5lY3Q9ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZj10aGlzLmdyYXBoLmdldE1vZGVsKCksZz1mLmdldEdlb21ldHJ5KGEpLGs9bnVsbDtpZihudWxsIT1nJiZudWxsIT1nLnBvaW50cyYmMDxnLnBvaW50cy5sZW5ndGgpZm9yKHZhciBsPXRoaXMuYWJzcG9pbnRzLG09bFswXSxuPWxbMV0saz1bXSxwPTI7cDxsLmxlbmd0aDtwKyspe3ZhciBxPWxbcF07MD09TWF0aC5yb3VuZChtLngtbi54KSYmMD09TWF0aC5yb3VuZChuLngtcS54KXx8MD09TWF0aC5yb3VuZChtLnktbi55KSYmMD09TWF0aC5yb3VuZChuLnktcS55KXx8ay5wdXNoKHRoaXMuY29udmVydFBvaW50KG4uY2xvbmUoKSwhMSkpO209bjtuPXF9Zi5iZWdpblVwZGF0ZSgpO3RyeXtudWxsIT1rJiYoZz1mLmdldEdlb21ldHJ5KGEpLG51bGwhPWcmJihnPWcuY2xvbmUoKSxnLnBvaW50cz1rLGYuc2V0R2VvbWV0cnkoYSxnKSkpLGE9bXhFZGdlSGFuZGxlci5wcm90b3R5cGUuY29ubmVjdC5hcHBseSh0aGlzLAphcmd1bWVudHMpfWZpbmFsbHl7Zi5lbmRVcGRhdGUoKX1yZXR1cm4gYX07bXhFZGdlU2VnbWVudEhhbmRsZXIucHJvdG90eXBlLmdldFRvb2x0aXBGb3JOb2RlPWZ1bmN0aW9uKGEpe3JldHVybiBudWxsfTtteEVkZ2VTZWdtZW50SGFuZGxlci5wcm90b3R5cGUuc3RhcnQ9ZnVuY3Rpb24oYSxiLGMpe214RWRnZUhhbmRsZXIucHJvdG90eXBlLnN0YXJ0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTtudWxsPT10aGlzLmJlbmRzfHxudWxsPT10aGlzLmJlbmRzW2NdfHx0aGlzLmlzU291cmNlfHx0aGlzLmlzVGFyZ2V0fHxteFV0aWxzLnNldE9wYWNpdHkodGhpcy5iZW5kc1tjXS5ub2RlLDEwMCl9OwpteEVkZ2VTZWdtZW50SGFuZGxlci5wcm90b3R5cGUuY3JlYXRlQmVuZHM9ZnVuY3Rpb24oKXt2YXIgYT1bXSxiPXRoaXMuY3JlYXRlSGFuZGxlU2hhcGUoMCk7dGhpcy5pbml0QmVuZChiKTtiLnNldEN1cnNvcihteENvbnN0YW50cy5DVVJTT1JfVEVSTUlOQUxfSEFORExFKTthLnB1c2goYik7dmFyIGM9dGhpcy5nZXRDdXJyZW50UG9pbnRzKCk7aWYodGhpcy5ncmFwaC5pc0NlbGxCZW5kYWJsZSh0aGlzLnN0YXRlLmNlbGwpKXtudWxsPT10aGlzLnBvaW50cyYmKHRoaXMucG9pbnRzPVtdKTtmb3IodmFyIGQ9MDtkPGMubGVuZ3RoLTE7ZCsrKXtiPXRoaXMuY3JlYXRlVmlydHVhbEJlbmQoKTthLnB1c2goYik7dmFyIGU9MD09TWF0aC5yb3VuZChjW2RdLngtY1tkKzFdLngpOzA9PU1hdGgucm91bmQoY1tkXS55LWNbZCsxXS55KSYmZDxjLmxlbmd0aC0yJiYoZT0wPT1NYXRoLnJvdW5kKGNbZF0ueC1jW2QrMl0ueCkpO2Iuc2V0Q3Vyc29yKGU/ImNvbC1yZXNpemUiOiJyb3ctcmVzaXplIik7CnRoaXMucG9pbnRzLnB1c2gobmV3IG14UG9pbnQoMCwwKSl9fWI9dGhpcy5jcmVhdGVIYW5kbGVTaGFwZShjLmxlbmd0aCk7dGhpcy5pbml0QmVuZChiKTtiLnNldEN1cnNvcihteENvbnN0YW50cy5DVVJTT1JfVEVSTUlOQUxfSEFORExFKTthLnB1c2goYik7cmV0dXJuIGF9O214RWRnZVNlZ21lbnRIYW5kbGVyLnByb3RvdHlwZS5yZWRyYXc9ZnVuY3Rpb24oKXt0aGlzLnJlZnJlc2goKTtteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5yZWRyYXcuYXBwbHkodGhpcyxhcmd1bWVudHMpfTsKbXhFZGdlU2VnbWVudEhhbmRsZXIucHJvdG90eXBlLnJlZHJhd0lubmVyQmVuZHM9ZnVuY3Rpb24oYSxiKXtpZih0aGlzLmdyYXBoLmlzQ2VsbEJlbmRhYmxlKHRoaXMuc3RhdGUuY2VsbCkpe3ZhciBjPXRoaXMuZ2V0Q3VycmVudFBvaW50cygpO2lmKG51bGwhPWMmJjE8Yy5sZW5ndGgpe3ZhciBkPSExO2lmKDQ9PWMubGVuZ3RoJiYwPT1NYXRoLnJvdW5kKGNbMV0ueC1jWzJdLngpJiYwPT1NYXRoLnJvdW5kKGNbMV0ueS1jWzJdLnkpKWlmKGQ9ITAsMD09TWF0aC5yb3VuZChjWzBdLnktY1tjLmxlbmd0aC0xXS55KSl7dmFyIGU9Y1swXS54KyhjW2MubGVuZ3RoLTFdLngtY1swXS54KS8yO2NbMV09bmV3IG14UG9pbnQoZSxjWzFdLnkpO2NbMl09bmV3IG14UG9pbnQoZSxjWzJdLnkpfWVsc2UgZT1jWzBdLnkrKGNbYy5sZW5ndGgtMV0ueS1jWzBdLnkpLzIsY1sxXT1uZXcgbXhQb2ludChjWzFdLngsZSksY1syXT1uZXcgbXhQb2ludChjWzJdLngsZSk7Zm9yKGU9MDtlPGMubGVuZ3RoLQoxO2UrKylpZihudWxsIT10aGlzLmJlbmRzW2UrMV0pe2E9Y1tlXTtiPWNbZSsxXTt2YXIgZj1uZXcgbXhQb2ludChhLngrKGIueC1hLngpLzIsYS55KyhiLnktYS55KS8yKSxnPXRoaXMuYmVuZHNbZSsxXS5ib3VuZHM7dGhpcy5iZW5kc1tlKzFdLmJvdW5kcz1uZXcgbXhSZWN0YW5nbGUoTWF0aC5mbG9vcihmLngtZy53aWR0aC8yKSxNYXRoLmZsb29yKGYueS1nLmhlaWdodC8yKSxnLndpZHRoLGcuaGVpZ2h0KTt0aGlzLmJlbmRzW2UrMV0ucmVkcmF3KCk7dGhpcy5tYW5hZ2VMYWJlbEhhbmRsZSYmdGhpcy5jaGVja0xhYmVsSGFuZGxlKHRoaXMuYmVuZHNbZSsxXS5ib3VuZHMpfWQmJihteFV0aWxzLnNldE9wYWNpdHkodGhpcy5iZW5kc1sxXS5ub2RlLHRoaXMudmlydHVhbEJlbmRPcGFjaXR5KSxteFV0aWxzLnNldE9wYWNpdHkodGhpcy5iZW5kc1szXS5ub2RlLHRoaXMudmlydHVhbEJlbmRPcGFjaXR5KSl9fX07CmZ1bmN0aW9uIG14S2V5SGFuZGxlcihhLGIpe251bGwhPWEmJih0aGlzLmdyYXBoPWEsdGhpcy50YXJnZXQ9Ynx8ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LHRoaXMubm9ybWFsS2V5cz1bXSx0aGlzLnNoaWZ0S2V5cz1bXSx0aGlzLmNvbnRyb2xLZXlzPVtdLHRoaXMuY29udHJvbFNoaWZ0S2V5cz1bXSx0aGlzLmtleWRvd25IYW5kbGVyPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3RoaXMua2V5RG93bihhKX0pLG14RXZlbnQuYWRkTGlzdGVuZXIodGhpcy50YXJnZXQsImtleWRvd24iLHRoaXMua2V5ZG93bkhhbmRsZXIpLG14Q2xpZW50LklTX0lFJiZteEV2ZW50LmFkZExpc3RlbmVyKHdpbmRvdywidW5sb2FkIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMuZGVzdHJveSgpfSkpKX1teEtleUhhbmRsZXIucHJvdG90eXBlLmdyYXBoPW51bGw7bXhLZXlIYW5kbGVyLnByb3RvdHlwZS50YXJnZXQ9bnVsbDsKbXhLZXlIYW5kbGVyLnByb3RvdHlwZS5ub3JtYWxLZXlzPW51bGw7bXhLZXlIYW5kbGVyLnByb3RvdHlwZS5zaGlmdEtleXM9bnVsbDtteEtleUhhbmRsZXIucHJvdG90eXBlLmNvbnRyb2xLZXlzPW51bGw7bXhLZXlIYW5kbGVyLnByb3RvdHlwZS5jb250cm9sU2hpZnRLZXlzPW51bGw7bXhLZXlIYW5kbGVyLnByb3RvdHlwZS5lbmFibGVkPSEwO214S2V5SGFuZGxlci5wcm90b3R5cGUuaXNFbmFibGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZW5hYmxlZH07bXhLZXlIYW5kbGVyLnByb3RvdHlwZS5zZXRFbmFibGVkPWZ1bmN0aW9uKGEpe3RoaXMuZW5hYmxlZD1hfTtteEtleUhhbmRsZXIucHJvdG90eXBlLmJpbmRLZXk9ZnVuY3Rpb24oYSxiKXt0aGlzLm5vcm1hbEtleXNbYV09Yn07bXhLZXlIYW5kbGVyLnByb3RvdHlwZS5iaW5kU2hpZnRLZXk9ZnVuY3Rpb24oYSxiKXt0aGlzLnNoaWZ0S2V5c1thXT1ifTsKbXhLZXlIYW5kbGVyLnByb3RvdHlwZS5iaW5kQ29udHJvbEtleT1mdW5jdGlvbihhLGIpe3RoaXMuY29udHJvbEtleXNbYV09Yn07bXhLZXlIYW5kbGVyLnByb3RvdHlwZS5iaW5kQ29udHJvbFNoaWZ0S2V5PWZ1bmN0aW9uKGEsYil7dGhpcy5jb250cm9sU2hpZnRLZXlzW2FdPWJ9O214S2V5SGFuZGxlci5wcm90b3R5cGUuaXNDb250cm9sRG93bj1mdW5jdGlvbihhKXtyZXR1cm4gbXhFdmVudC5pc0NvbnRyb2xEb3duKGEpfTtteEtleUhhbmRsZXIucHJvdG90eXBlLmdldEZ1bmN0aW9uPWZ1bmN0aW9uKGEpe3JldHVybiBudWxsPT1hfHxteEV2ZW50LmlzQWx0RG93bihhKT9udWxsOnRoaXMuaXNDb250cm9sRG93bihhKT9teEV2ZW50LmlzU2hpZnREb3duKGEpP3RoaXMuY29udHJvbFNoaWZ0S2V5c1thLmtleUNvZGVdOnRoaXMuY29udHJvbEtleXNbYS5rZXlDb2RlXTpteEV2ZW50LmlzU2hpZnREb3duKGEpP3RoaXMuc2hpZnRLZXlzW2Eua2V5Q29kZV06dGhpcy5ub3JtYWxLZXlzW2Eua2V5Q29kZV19OwpteEtleUhhbmRsZXIucHJvdG90eXBlLmlzR3JhcGhFdmVudD1mdW5jdGlvbihhKXt2YXIgYj1teEV2ZW50LmdldFNvdXJjZShhKTtyZXR1cm4gYj09dGhpcy50YXJnZXR8fGIucGFyZW50Tm9kZT09dGhpcy50YXJnZXR8fG51bGwhPXRoaXMuZ3JhcGguY2VsbEVkaXRvciYmdGhpcy5ncmFwaC5jZWxsRWRpdG9yLmlzRXZlbnRTb3VyY2UoYSk/ITA6bXhVdGlscy5pc0FuY2VzdG9yTm9kZSh0aGlzLmdyYXBoLmNvbnRhaW5lcixiKX07bXhLZXlIYW5kbGVyLnByb3RvdHlwZS5rZXlEb3duPWZ1bmN0aW9uKGEpe2lmKHRoaXMuaXNFbmFibGVkRm9yRXZlbnQoYSkpaWYoMjc9PWEua2V5Q29kZSl0aGlzLmVzY2FwZShhKTtlbHNlIGlmKCF0aGlzLmlzRXZlbnRJZ25vcmVkKGEpKXt2YXIgYj10aGlzLmdldEZ1bmN0aW9uKGEpO251bGwhPWImJihiKGEpLG14RXZlbnQuY29uc3VtZShhKSl9fTsKbXhLZXlIYW5kbGVyLnByb3RvdHlwZS5pc0VuYWJsZWRGb3JFdmVudD1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5ncmFwaC5pc0VuYWJsZWQoKSYmIW14RXZlbnQuaXNDb25zdW1lZChhKSYmdGhpcy5pc0dyYXBoRXZlbnQoYSkmJnRoaXMuaXNFbmFibGVkKCl9O214S2V5SGFuZGxlci5wcm90b3R5cGUuaXNFdmVudElnbm9yZWQ9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZ3JhcGguaXNFZGl0aW5nKCl9O214S2V5SGFuZGxlci5wcm90b3R5cGUuZXNjYXBlPWZ1bmN0aW9uKGEpe3RoaXMuZ3JhcGguaXNFc2NhcGVFbmFibGVkKCkmJnRoaXMuZ3JhcGguZXNjYXBlKGEpfTsKbXhLZXlIYW5kbGVyLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7bnVsbCE9dGhpcy50YXJnZXQmJm51bGwhPXRoaXMua2V5ZG93bkhhbmRsZXImJihteEV2ZW50LnJlbW92ZUxpc3RlbmVyKHRoaXMudGFyZ2V0LCJrZXlkb3duIix0aGlzLmtleWRvd25IYW5kbGVyKSx0aGlzLmtleWRvd25IYW5kbGVyPW51bGwpO3RoaXMudGFyZ2V0PW51bGx9O2Z1bmN0aW9uIG14VG9vbHRpcEhhbmRsZXIoYSxiKXtudWxsIT1hJiYodGhpcy5ncmFwaD1hLHRoaXMuZGVsYXk9Ynx8NTAwLHRoaXMuZ3JhcGguYWRkTW91c2VMaXN0ZW5lcih0aGlzKSl9bXhUb29sdGlwSGFuZGxlci5wcm90b3R5cGUuekluZGV4PTEwMDA1O214VG9vbHRpcEhhbmRsZXIucHJvdG90eXBlLmdyYXBoPW51bGw7bXhUb29sdGlwSGFuZGxlci5wcm90b3R5cGUuZGVsYXk9bnVsbDtteFRvb2x0aXBIYW5kbGVyLnByb3RvdHlwZS5pZ25vcmVUb3VjaEV2ZW50cz0hMDsKbXhUb29sdGlwSGFuZGxlci5wcm90b3R5cGUuaGlkZU9uSG92ZXI9ITE7bXhUb29sdGlwSGFuZGxlci5wcm90b3R5cGUuZGVzdHJveWVkPSExO214VG9vbHRpcEhhbmRsZXIucHJvdG90eXBlLmVuYWJsZWQ9ITA7bXhUb29sdGlwSGFuZGxlci5wcm90b3R5cGUuaXNFbmFibGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZW5hYmxlZH07bXhUb29sdGlwSGFuZGxlci5wcm90b3R5cGUuc2V0RW5hYmxlZD1mdW5jdGlvbihhKXt0aGlzLmVuYWJsZWQ9YX07bXhUb29sdGlwSGFuZGxlci5wcm90b3R5cGUuaXNIaWRlT25Ib3Zlcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmhpZGVPbkhvdmVyfTtteFRvb2x0aXBIYW5kbGVyLnByb3RvdHlwZS5zZXRIaWRlT25Ib3Zlcj1mdW5jdGlvbihhKXt0aGlzLmhpZGVPbkhvdmVyPWF9OwpteFRvb2x0aXBIYW5kbGVyLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKCl7bnVsbCE9ZG9jdW1lbnQuYm9keSYmKHRoaXMuZGl2PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLHRoaXMuZGl2LmNsYXNzTmFtZT0ibXhUb29sdGlwIix0aGlzLmRpdi5zdHlsZS52aXNpYmlsaXR5PSJoaWRkZW4iLGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5kaXYpLG14RXZlbnQuYWRkR2VzdHVyZUxpc3RlbmVycyh0aGlzLmRpdixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXt0aGlzLmhpZGVUb29sdGlwKCl9KSkpfTtteFRvb2x0aXBIYW5kbGVyLnByb3RvdHlwZS5nZXRTdGF0ZUZvckV2ZW50PWZ1bmN0aW9uKGEpe3JldHVybiBhLmdldFN0YXRlKCl9O214VG9vbHRpcEhhbmRsZXIucHJvdG90eXBlLm1vdXNlRG93bj1mdW5jdGlvbihhLGIpe3RoaXMucmVzZXQoYiwhMSk7dGhpcy5oaWRlVG9vbHRpcCgpfTsKbXhUb29sdGlwSGFuZGxlci5wcm90b3R5cGUubW91c2VNb3ZlPWZ1bmN0aW9uKGEsYil7aWYoYi5nZXRYKCkhPXRoaXMubGFzdFh8fGIuZ2V0WSgpIT10aGlzLmxhc3RZKXt0aGlzLnJlc2V0KGIsITApO3ZhciBjPXRoaXMuZ2V0U3RhdGVGb3JFdmVudChiKTsodGhpcy5pc0hpZGVPbkhvdmVyKCl8fGMhPXRoaXMuc3RhdGV8fGIuZ2V0U291cmNlKCkhPXRoaXMubm9kZSYmKCF0aGlzLnN0YXRlU291cmNlfHxudWxsIT1jJiZ0aGlzLnN0YXRlU291cmNlPT0oYi5pc1NvdXJjZShjLnNoYXBlKXx8IWIuaXNTb3VyY2UoYy50ZXh0KSkpKSYmdGhpcy5oaWRlVG9vbHRpcCgpfXRoaXMubGFzdFg9Yi5nZXRYKCk7dGhpcy5sYXN0WT1iLmdldFkoKX07bXhUb29sdGlwSGFuZGxlci5wcm90b3R5cGUubW91c2VVcD1mdW5jdGlvbihhLGIpe3RoaXMucmVzZXQoYiwhMCk7dGhpcy5oaWRlVG9vbHRpcCgpfTsKbXhUb29sdGlwSGFuZGxlci5wcm90b3R5cGUucmVzZXRUaW1lcj1mdW5jdGlvbigpe251bGwhPXRoaXMudGhyZWFkJiYod2luZG93LmNsZWFyVGltZW91dCh0aGlzLnRocmVhZCksdGhpcy50aHJlYWQ9bnVsbCl9OwpteFRvb2x0aXBIYW5kbGVyLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbihhLGIsYyl7aWYoIXRoaXMuaWdub3JlVG91Y2hFdmVudHN8fG14RXZlbnQuaXNNb3VzZUV2ZW50KGEuZ2V0RXZlbnQoKSkpaWYodGhpcy5yZXNldFRpbWVyKCksYz1udWxsIT1jP2M6dGhpcy5nZXRTdGF0ZUZvckV2ZW50KGEpLGImJnRoaXMuaXNFbmFibGVkKCkmJm51bGwhPWMmJihudWxsPT10aGlzLmRpdnx8ImhpZGRlbiI9PXRoaXMuZGl2LnN0eWxlLnZpc2liaWxpdHkpKXt2YXIgZD1hLmdldFNvdXJjZSgpLGU9YS5nZXRYKCksZj1hLmdldFkoKSxnPWEuaXNTb3VyY2UoYy5zaGFwZSl8fGEuaXNTb3VyY2UoYy50ZXh0KTt0aGlzLnRocmVhZD13aW5kb3cuc2V0VGltZW91dChteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe2lmKCF0aGlzLmdyYXBoLmlzRWRpdGluZygpJiYhdGhpcy5ncmFwaC5wb3B1cE1lbnVIYW5kbGVyLmlzTWVudVNob3dpbmcoKSYmIXRoaXMuZ3JhcGguaXNNb3VzZURvd24pe3ZhciBhPQp0aGlzLmdyYXBoLmdldFRvb2x0aXAoYyxkLGUsZik7dGhpcy5zaG93KGEsZSxmKTt0aGlzLnN0YXRlPWM7dGhpcy5ub2RlPWQ7dGhpcy5zdGF0ZVNvdXJjZT1nfX0pLHRoaXMuZGVsYXkpfX07bXhUb29sdGlwSGFuZGxlci5wcm90b3R5cGUuaGlkZT1mdW5jdGlvbigpe3RoaXMucmVzZXRUaW1lcigpO3RoaXMuaGlkZVRvb2x0aXAoKX07bXhUb29sdGlwSGFuZGxlci5wcm90b3R5cGUuaGlkZVRvb2x0aXA9ZnVuY3Rpb24oKXtudWxsIT10aGlzLmRpdiYmKHRoaXMuZGl2LnN0eWxlLnZpc2liaWxpdHk9ImhpZGRlbiIsdGhpcy5kaXYuaW5uZXJIVE1MPSIiKX07Cm14VG9vbHRpcEhhbmRsZXIucHJvdG90eXBlLnNob3c9ZnVuY3Rpb24oYSxiLGMpe2lmKCF0aGlzLmRlc3Ryb3llZCYmbnVsbCE9YSYmMDxhLmxlbmd0aCl7bnVsbD09dGhpcy5kaXYmJnRoaXMuaW5pdCgpO3ZhciBkPW14VXRpbHMuZ2V0U2Nyb2xsT3JpZ2luKCk7dGhpcy5kaXYuc3R5bGUuekluZGV4PXRoaXMuekluZGV4O3RoaXMuZGl2LnN0eWxlLmxlZnQ9YitkLngrInB4Ijt0aGlzLmRpdi5zdHlsZS50b3A9YytteENvbnN0YW50cy5UT09MVElQX1ZFUlRJQ0FMX09GRlNFVCtkLnkrInB4IjtteFV0aWxzLmlzTm9kZShhKT8odGhpcy5kaXYuaW5uZXJIVE1MPSIiLHRoaXMuZGl2LmFwcGVuZENoaWxkKGEpKTp0aGlzLmRpdi5pbm5lckhUTUw9YS5yZXBsYWNlKC9cbi9nLCI8YnI+Iik7dGhpcy5kaXYuc3R5bGUudmlzaWJpbGl0eT0iIjtteFV0aWxzLmZpdCh0aGlzLmRpdil9fTsKbXhUb29sdGlwSGFuZGxlci5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuZGVzdHJveWVkfHwodGhpcy5ncmFwaC5yZW1vdmVNb3VzZUxpc3RlbmVyKHRoaXMpLG14RXZlbnQucmVsZWFzZSh0aGlzLmRpdiksbnVsbCE9dGhpcy5kaXYmJm51bGwhPXRoaXMuZGl2LnBhcmVudE5vZGUmJnRoaXMuZGl2LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5kaXYpLHRoaXMuZGVzdHJveWVkPSEwLHRoaXMuZGl2PW51bGwpfTtmdW5jdGlvbiBteENlbGxUcmFja2VyKGEsYixjKXtteENlbGxNYXJrZXIuY2FsbCh0aGlzLGEsYik7dGhpcy5ncmFwaC5hZGRNb3VzZUxpc3RlbmVyKHRoaXMpO251bGwhPWMmJih0aGlzLmdldENlbGw9Yyk7bXhDbGllbnQuSVNfSUUmJm14RXZlbnQuYWRkTGlzdGVuZXIod2luZG93LCJ1bmxvYWQiLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dGhpcy5kZXN0cm95KCl9KSl9bXhVdGlscy5leHRlbmQobXhDZWxsVHJhY2tlcixteENlbGxNYXJrZXIpOwpteENlbGxUcmFja2VyLnByb3RvdHlwZS5tb3VzZURvd249ZnVuY3Rpb24oYSxiKXt9O214Q2VsbFRyYWNrZXIucHJvdG90eXBlLm1vdXNlTW92ZT1mdW5jdGlvbihhLGIpe3RoaXMuaXNFbmFibGVkKCkmJnRoaXMucHJvY2VzcyhiKX07bXhDZWxsVHJhY2tlci5wcm90b3R5cGUubW91c2VVcD1mdW5jdGlvbihhLGIpe307bXhDZWxsVHJhY2tlci5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuZGVzdHJveWVkfHwodGhpcy5kZXN0cm95ZWQ9ITAsdGhpcy5ncmFwaC5yZW1vdmVNb3VzZUxpc3RlbmVyKHRoaXMpLG14Q2VsbE1hcmtlci5wcm90b3R5cGUuZGVzdHJveS5hcHBseSh0aGlzKSl9OwpmdW5jdGlvbiBteENlbGxIaWdobGlnaHQoYSxiLGMsZCl7bnVsbCE9YSYmKHRoaXMuZ3JhcGg9YSx0aGlzLmhpZ2hsaWdodENvbG9yPW51bGwhPWI/YjpteENvbnN0YW50cy5ERUZBVUxUX1ZBTElEX0NPTE9SLHRoaXMuc3Ryb2tlV2lkdGg9bnVsbCE9Yz9jOm14Q29uc3RhbnRzLkhJR0hMSUdIVF9TVFJPS0VXSURUSCx0aGlzLmRhc2hlZD1udWxsIT1kP2Q6ITEsdGhpcy5vcGFjaXR5PW14Q29uc3RhbnRzLkhJR0hMSUdIVF9PUEFDSVRZLHRoaXMucmVwYWludEhhbmRsZXI9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXtpZihudWxsIT10aGlzLnN0YXRlKXt2YXIgYT10aGlzLmdyYXBoLnZpZXcuZ2V0U3RhdGUodGhpcy5zdGF0ZS5jZWxsKTtudWxsPT1hP3RoaXMuaGlkZSgpOih0aGlzLnN0YXRlPWEsdGhpcy5yZXBhaW50KCkpfX0pLHRoaXMuZ3JhcGguZ2V0VmlldygpLmFkZExpc3RlbmVyKG14RXZlbnQuU0NBTEUsdGhpcy5yZXBhaW50SGFuZGxlciksdGhpcy5ncmFwaC5nZXRWaWV3KCkuYWRkTGlzdGVuZXIobXhFdmVudC5UUkFOU0xBVEUsCnRoaXMucmVwYWludEhhbmRsZXIpLHRoaXMuZ3JhcGguZ2V0VmlldygpLmFkZExpc3RlbmVyKG14RXZlbnQuU0NBTEVfQU5EX1RSQU5TTEFURSx0aGlzLnJlcGFpbnRIYW5kbGVyKSx0aGlzLmdyYXBoLmdldE1vZGVsKCkuYWRkTGlzdGVuZXIobXhFdmVudC5DSEFOR0UsdGhpcy5yZXBhaW50SGFuZGxlciksdGhpcy5yZXNldEhhbmRsZXI9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt0aGlzLmhpZGUoKX0pLHRoaXMuZ3JhcGguZ2V0VmlldygpLmFkZExpc3RlbmVyKG14RXZlbnQuRE9XTix0aGlzLnJlc2V0SGFuZGxlciksdGhpcy5ncmFwaC5nZXRWaWV3KCkuYWRkTGlzdGVuZXIobXhFdmVudC5VUCx0aGlzLnJlc2V0SGFuZGxlcikpfW14Q2VsbEhpZ2hsaWdodC5wcm90b3R5cGUua2VlcE9uVG9wPSExO214Q2VsbEhpZ2hsaWdodC5wcm90b3R5cGUuZ3JhcGg9bnVsbDtteENlbGxIaWdobGlnaHQucHJvdG90eXBlLnN0YXRlPW51bGw7Cm14Q2VsbEhpZ2hsaWdodC5wcm90b3R5cGUuc3BhY2luZz0yO214Q2VsbEhpZ2hsaWdodC5wcm90b3R5cGUucmVzZXRIYW5kbGVyPW51bGw7bXhDZWxsSGlnaGxpZ2h0LnByb3RvdHlwZS5zZXRIaWdobGlnaHRDb2xvcj1mdW5jdGlvbihhKXt0aGlzLmhpZ2hsaWdodENvbG9yPWE7bnVsbCE9dGhpcy5zaGFwZSYmKHRoaXMuc2hhcGUuc3Ryb2tlPWEpfTtteENlbGxIaWdobGlnaHQucHJvdG90eXBlLmRyYXdIaWdobGlnaHQ9ZnVuY3Rpb24oKXt0aGlzLnNoYXBlPXRoaXMuY3JlYXRlU2hhcGUoKTt0aGlzLnJlcGFpbnQoKTt0aGlzLmtlZXBPblRvcHx8dGhpcy5zaGFwZS5ub2RlLnBhcmVudE5vZGUuZmlyc3RDaGlsZD09dGhpcy5zaGFwZS5ub2RlfHx0aGlzLnNoYXBlLm5vZGUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodGhpcy5zaGFwZS5ub2RlLHRoaXMuc2hhcGUubm9kZS5wYXJlbnROb2RlLmZpcnN0Q2hpbGQpfTsKbXhDZWxsSGlnaGxpZ2h0LnByb3RvdHlwZS5jcmVhdGVTaGFwZT1mdW5jdGlvbigpe3ZhciBhPXRoaXMuZ3JhcGguY2VsbFJlbmRlcmVyLmNyZWF0ZVNoYXBlKHRoaXMuc3RhdGUpO2Euc3ZnU3Ryb2tlVG9sZXJhbmNlPXRoaXMuZ3JhcGgudG9sZXJhbmNlO2EucG9pbnRzPXRoaXMuc3RhdGUuYWJzb2x1dGVQb2ludHM7YS5hcHBseSh0aGlzLnN0YXRlKTthLnN0cm9rZT10aGlzLmhpZ2hsaWdodENvbG9yO2Eub3BhY2l0eT10aGlzLm9wYWNpdHk7YS5pc0Rhc2hlZD10aGlzLmRhc2hlZDthLmlzU2hhZG93PSExO2EuZGlhbGVjdD10aGlzLmdyYXBoLmRpYWxlY3QhPW14Q29uc3RhbnRzLkRJQUxFQ1RfU1ZHP214Q29uc3RhbnRzLkRJQUxFQ1RfVk1MOm14Q29uc3RhbnRzLkRJQUxFQ1RfU1ZHO2EuaW5pdCh0aGlzLmdyYXBoLmdldFZpZXcoKS5nZXRPdmVybGF5UGFuZSgpKTtteEV2ZW50LnJlZGlyZWN0TW91c2VFdmVudHMoYS5ub2RlLHRoaXMuZ3JhcGgsdGhpcy5zdGF0ZSk7dGhpcy5ncmFwaC5kaWFsZWN0IT0KbXhDb25zdGFudHMuRElBTEVDVF9TVkc/YS5wb2ludGVyRXZlbnRzPSExOmEuc3ZnUG9pbnRlckV2ZW50cz0ic3Ryb2tlIjtyZXR1cm4gYX07bXhDZWxsSGlnaGxpZ2h0LnByb3RvdHlwZS5nZXRTdHJva2VXaWR0aD1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5zdHJva2VXaWR0aH07Cm14Q2VsbEhpZ2hsaWdodC5wcm90b3R5cGUucmVwYWludD1mdW5jdGlvbigpe2lmKG51bGwhPXRoaXMuc3RhdGUmJm51bGwhPXRoaXMuc2hhcGUpe3RoaXMuc2hhcGUuc2NhbGU9dGhpcy5zdGF0ZS52aWV3LnNjYWxlO3RoaXMuZ3JhcGgubW9kZWwuaXNFZGdlKHRoaXMuc3RhdGUuY2VsbCk/KHRoaXMuc2hhcGUuc3Ryb2tld2lkdGg9dGhpcy5nZXRTdHJva2VXaWR0aCgpLHRoaXMuc2hhcGUucG9pbnRzPXRoaXMuc3RhdGUuYWJzb2x1dGVQb2ludHMsdGhpcy5zaGFwZS5vdXRsaW5lPSExKToodGhpcy5zaGFwZS5ib3VuZHM9bmV3IG14UmVjdGFuZ2xlKHRoaXMuc3RhdGUueC10aGlzLnNwYWNpbmcsdGhpcy5zdGF0ZS55LXRoaXMuc3BhY2luZyx0aGlzLnN0YXRlLndpZHRoKzIqdGhpcy5zcGFjaW5nLHRoaXMuc3RhdGUuaGVpZ2h0KzIqdGhpcy5zcGFjaW5nKSx0aGlzLnNoYXBlLnJvdGF0aW9uPU51bWJlcih0aGlzLnN0YXRlLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX1JPVEFUSU9OXXx8CiIwIiksdGhpcy5zaGFwZS5zdHJva2V3aWR0aD10aGlzLmdldFN0cm9rZVdpZHRoKCkvdGhpcy5zdGF0ZS52aWV3LnNjYWxlLHRoaXMuc2hhcGUub3V0bGluZT0hMCk7bnVsbCE9dGhpcy5zdGF0ZS5zaGFwZSYmdGhpcy5zaGFwZS5zZXRDdXJzb3IodGhpcy5zdGF0ZS5zaGFwZS5nZXRDdXJzb3IoKSk7aWYobXhDbGllbnQuSVNfUVVJUktTfHw4PT1kb2N1bWVudC5kb2N1bWVudE1vZGUpInRyYW5zcGFyZW50Ij09dGhpcy5zaGFwZS5zdHJva2U/KHRoaXMuc2hhcGUuc3Ryb2tlPSJ3aGl0ZSIsdGhpcy5zaGFwZS5vcGFjaXR5PTEpOnRoaXMuc2hhcGUub3BhY2l0eT10aGlzLm9wYWNpdHk7dGhpcy5zaGFwZS5yZWRyYXcoKX19O214Q2VsbEhpZ2hsaWdodC5wcm90b3R5cGUuaGlkZT1mdW5jdGlvbigpe3RoaXMuaGlnaGxpZ2h0KG51bGwpfTsKbXhDZWxsSGlnaGxpZ2h0LnByb3RvdHlwZS5oaWdobGlnaHQ9ZnVuY3Rpb24oYSl7dGhpcy5zdGF0ZSE9YSYmKG51bGwhPXRoaXMuc2hhcGUmJih0aGlzLnNoYXBlLmRlc3Ryb3koKSx0aGlzLnNoYXBlPW51bGwpLHRoaXMuc3RhdGU9YSxudWxsIT10aGlzLnN0YXRlJiZ0aGlzLmRyYXdIaWdobGlnaHQoKSl9O214Q2VsbEhpZ2hsaWdodC5wcm90b3R5cGUuaXNIaWdobGlnaHRBdD1mdW5jdGlvbihhLGIpe3ZhciBjPSExO2lmKG51bGwhPXRoaXMuc2hhcGUmJm51bGwhPWRvY3VtZW50LmVsZW1lbnRGcm9tUG9pbnQmJiFteENsaWVudC5JU19RVUlSS1MpZm9yKHZhciBkPWRvY3VtZW50LmVsZW1lbnRGcm9tUG9pbnQoYSxiKTtudWxsIT1kOyl7aWYoZD09dGhpcy5zaGFwZS5ub2RlKXtjPSEwO2JyZWFrfWQ9ZC5wYXJlbnROb2RlfXJldHVybiBjfTsKbXhDZWxsSGlnaGxpZ2h0LnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5ncmFwaC5nZXRWaWV3KCkucmVtb3ZlTGlzdGVuZXIodGhpcy5yZXNldEhhbmRsZXIpO3RoaXMuZ3JhcGguZ2V0VmlldygpLnJlbW92ZUxpc3RlbmVyKHRoaXMucmVwYWludEhhbmRsZXIpO3RoaXMuZ3JhcGguZ2V0TW9kZWwoKS5yZW1vdmVMaXN0ZW5lcih0aGlzLnJlcGFpbnRIYW5kbGVyKTtudWxsIT10aGlzLnNoYXBlJiYodGhpcy5zaGFwZS5kZXN0cm95KCksdGhpcy5zaGFwZT1udWxsKX07CmZ1bmN0aW9uIG14RGVmYXVsdEtleUhhbmRsZXIoYSl7aWYobnVsbCE9YSl7dGhpcy5lZGl0b3I9YTt0aGlzLmhhbmRsZXI9bmV3IG14S2V5SGFuZGxlcihhLmdyYXBoKTt2YXIgYj10aGlzLmhhbmRsZXIuZXNjYXBlO3RoaXMuaGFuZGxlci5lc2NhcGU9ZnVuY3Rpb24oYyl7Yi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7YS5oaWRlUHJvcGVydGllcygpO2EuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KG14RXZlbnQuRVNDQVBFLCJldmVudCIsYykpfX19bXhEZWZhdWx0S2V5SGFuZGxlci5wcm90b3R5cGUuZWRpdG9yPW51bGw7bXhEZWZhdWx0S2V5SGFuZGxlci5wcm90b3R5cGUuaGFuZGxlcj1udWxsOwpteERlZmF1bHRLZXlIYW5kbGVyLnByb3RvdHlwZS5iaW5kQWN0aW9uPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMuZWRpdG9yLmV4ZWN1dGUoYil9KTtjP3RoaXMuaGFuZGxlci5iaW5kQ29udHJvbEtleShhLGQpOnRoaXMuaGFuZGxlci5iaW5kS2V5KGEsZCl9O214RGVmYXVsdEtleUhhbmRsZXIucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmhhbmRsZXIuZGVzdHJveSgpO3RoaXMuaGFuZGxlcj1udWxsfTtmdW5jdGlvbiBteERlZmF1bHRQb3B1cE1lbnUoYSl7dGhpcy5jb25maWc9YX1teERlZmF1bHRQb3B1cE1lbnUucHJvdG90eXBlLmltYWdlQmFzZVBhdGg9bnVsbDtteERlZmF1bHRQb3B1cE1lbnUucHJvdG90eXBlLmNvbmZpZz1udWxsOwpteERlZmF1bHRQb3B1cE1lbnUucHJvdG90eXBlLmNyZWF0ZU1lbnU9ZnVuY3Rpb24oYSxiLGMsZCl7aWYobnVsbCE9dGhpcy5jb25maWcpe3ZhciBlPXRoaXMuY3JlYXRlQ29uZGl0aW9ucyhhLGMsZCk7dGhpcy5hZGRJdGVtcyhhLGIsYyxkLGUsdGhpcy5jb25maWcuZmlyc3RDaGlsZCxudWxsKX19OwpteERlZmF1bHRQb3B1cE1lbnUucHJvdG90eXBlLmFkZEl0ZW1zPWZ1bmN0aW9uKGEsYixjLGQsZSxmLGcpe2Zvcih2YXIgaz0hMTtudWxsIT1mOyl7aWYoImFkZCI9PWYubm9kZU5hbWUpe3ZhciBsPWYuZ2V0QXR0cmlidXRlKCJpZiIpO2lmKG51bGw9PWx8fGVbbF0pe3ZhciBsPWYuZ2V0QXR0cmlidXRlKCJhcyIpLGw9bXhSZXNvdXJjZXMuZ2V0KGwpfHxsLG09bXhVdGlscy5ldmFsKG14VXRpbHMuZ2V0VGV4dENvbnRlbnQoZikpLG49Zi5nZXRBdHRyaWJ1dGUoImFjdGlvbiIpLHA9Zi5nZXRBdHRyaWJ1dGUoImljb24iKSxxPWYuZ2V0QXR0cmlidXRlKCJpY29uQ2xzIikscj1mLmdldEF0dHJpYnV0ZSgiZW5hYmxlZC1pZiIpLHI9bnVsbD09cnx8ZVtyXTtrJiYoYi5hZGRTZXBhcmF0b3IoZyksaz0hMSk7bnVsbCE9cCYmdGhpcy5pbWFnZUJhc2VQYXRoJiYocD10aGlzLmltYWdlQmFzZVBhdGgrcCk7bD10aGlzLmFkZEFjdGlvbihiLGEsbCxwLG0sbixjLGcscSxyKTt0aGlzLmFkZEl0ZW1zKGEsCmIsYyxkLGUsZi5maXJzdENoaWxkLGwpfX1lbHNlInNlcGFyYXRvciI9PWYubm9kZU5hbWUmJihrPSEwKTtmPWYubmV4dFNpYmxpbmd9fTtteERlZmF1bHRQb3B1cE1lbnUucHJvdG90eXBlLmFkZEFjdGlvbj1mdW5jdGlvbihhLGIsYyxkLGUsZixnLGssbCxtKXtyZXR1cm4gYS5hZGRJdGVtKGMsZCxmdW5jdGlvbihhKXsiZnVuY3Rpb24iPT10eXBlb2YgZSYmZS5jYWxsKGIsYixnLGEpO251bGwhPWYmJmIuZXhlY3V0ZShmLGcsYSl9LGssbCxtKX07Cm14RGVmYXVsdFBvcHVwTWVudS5wcm90b3R5cGUuY3JlYXRlQ29uZGl0aW9ucz1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9YS5ncmFwaC5nZXRNb2RlbCgpLGU9ZC5nZXRDaGlsZENvdW50KGIpLGY9W107Zi5ub2NlbGw9bnVsbD09YjtmLm5jZWxscz0xPGEuZ3JhcGguZ2V0U2VsZWN0aW9uQ291bnQoKTtmLm5vdFJvb3Q9ZC5nZXRSb290KCkhPWQuZ2V0UGFyZW50KGEuZ3JhcGguZ2V0RGVmYXVsdFBhcmVudCgpKTtmLmNlbGw9bnVsbCE9YjtkPW51bGwhPWImJjE9PWEuZ3JhcGguZ2V0U2VsZWN0aW9uQ291bnQoKTtmLm5vbkVtcHR5PWQmJjA8ZTtmLmV4cGFuZGFibGU9ZCYmYS5ncmFwaC5pc0NlbGxGb2xkYWJsZShiLCExKTtmLmNvbGxhcHNhYmxlPWQmJmEuZ3JhcGguaXNDZWxsRm9sZGFibGUoYiwhMCk7Zi52YWxpZFJvb3Q9ZCYmYS5ncmFwaC5pc1ZhbGlkUm9vdChiKTtmLmVtcHR5VmFsaWRSb290PWYudmFsaWRSb290JiYwPT1lO2Yuc3dpbWxhbmU9ZCYmYS5ncmFwaC5pc1N3aW1sYW5lKGIpOwplPXRoaXMuY29uZmlnLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJjb25kaXRpb24iKTtmb3IoZD0wO2Q8ZS5sZW5ndGg7ZCsrKXt2YXIgZz1teFV0aWxzLmV2YWwobXhVdGlscy5nZXRUZXh0Q29udGVudChlW2RdKSksaz1lW2RdLmdldEF0dHJpYnV0ZSgibmFtZSIpO251bGwhPWsmJiJmdW5jdGlvbiI9PXR5cGVvZiBnJiYoZltrXT1nKGEsYixjKSl9cmV0dXJuIGZ9O2Z1bmN0aW9uIG14RGVmYXVsdFRvb2xiYXIoYSxiKXt0aGlzLmVkaXRvcj1iO251bGwhPWEmJm51bGwhPWImJnRoaXMuaW5pdChhKX1teERlZmF1bHRUb29sYmFyLnByb3RvdHlwZS5lZGl0b3I9bnVsbDtteERlZmF1bHRUb29sYmFyLnByb3RvdHlwZS50b29sYmFyPW51bGw7bXhEZWZhdWx0VG9vbGJhci5wcm90b3R5cGUucmVzZXRIYW5kbGVyPW51bGw7bXhEZWZhdWx0VG9vbGJhci5wcm90b3R5cGUuc3BhY2luZz00O214RGVmYXVsdFRvb2xiYXIucHJvdG90eXBlLmNvbm5lY3RPbkRyb3A9ITE7Cm14RGVmYXVsdFRvb2xiYXIucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oYSl7bnVsbCE9YSYmKHRoaXMudG9vbGJhcj1uZXcgbXhUb29sYmFyKGEpLHRoaXMudG9vbGJhci5hZGRMaXN0ZW5lcihteEV2ZW50LlNFTEVDVCxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhLGMpe3ZhciBiPWMuZ2V0UHJvcGVydHkoImZ1bmN0aW9uIik7dGhpcy5lZGl0b3IuaW5zZXJ0RnVuY3Rpb249bnVsbCE9Yj9teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe2IuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMudG9vbGJhci5yZXNldE1vZGUoKX0pOm51bGx9KSksdGhpcy5yZXNldEhhbmRsZXI9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXtudWxsIT10aGlzLnRvb2xiYXImJnRoaXMudG9vbGJhci5yZXNldE1vZGUoITApfSksdGhpcy5lZGl0b3IuZ3JhcGguYWRkTGlzdGVuZXIobXhFdmVudC5ET1VCTEVfQ0xJQ0ssdGhpcy5yZXNldEhhbmRsZXIpLHRoaXMuZWRpdG9yLmFkZExpc3RlbmVyKG14RXZlbnQuRVNDQVBFLAp0aGlzLnJlc2V0SGFuZGxlcikpfTtteERlZmF1bHRUb29sYmFyLnByb3RvdHlwZS5hZGRJdGVtPWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7bnVsbCE9YyYmMDxjLmxlbmd0aCYmdGhpcy5lZGl0b3IuZXhlY3V0ZShjKX0pO3JldHVybiB0aGlzLnRvb2xiYXIuYWRkSXRlbShhLGIsZSxkKX07bXhEZWZhdWx0VG9vbGJhci5wcm90b3R5cGUuYWRkU2VwYXJhdG9yPWZ1bmN0aW9uKGEpe2E9YXx8bXhDbGllbnQuaW1hZ2VCYXNlUGF0aCsiL3NlcGFyYXRvci5naWYiO3RoaXMudG9vbGJhci5hZGRTZXBhcmF0b3IoYSl9O214RGVmYXVsdFRvb2xiYXIucHJvdG90eXBlLmFkZENvbWJvPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudG9vbGJhci5hZGRDb21ibygpfTtteERlZmF1bHRUb29sYmFyLnByb3RvdHlwZS5hZGRBY3Rpb25Db21ibz1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy50b29sYmFyLmFkZEFjdGlvbkNvbWJvKGEpfTsKbXhEZWZhdWx0VG9vbGJhci5wcm90b3R5cGUuYWRkQWN0aW9uT3B0aW9uPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMuZWRpdG9yLmV4ZWN1dGUoYyl9KTt0aGlzLmFkZE9wdGlvbihhLGIsZCl9O214RGVmYXVsdFRvb2xiYXIucHJvdG90eXBlLmFkZE9wdGlvbj1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIHRoaXMudG9vbGJhci5hZGRPcHRpb24oYSxiLGMpfTtteERlZmF1bHRUb29sYmFyLnByb3RvdHlwZS5hZGRNb2RlPWZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt0aGlzLmVkaXRvci5zZXRNb2RlKGMpO251bGwhPWUmJmUodGhpcy5lZGl0b3IpfSk7cmV0dXJuIHRoaXMudG9vbGJhci5hZGRTd2l0Y2hNb2RlKGEsYixmLGQpfTsKbXhEZWZhdWx0VG9vbGJhci5wcm90b3R5cGUuYWRkUHJvdG90eXBlPWZ1bmN0aW9uKGEsYixjLGQsZSxmKXt2YXIgZz1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBjP2MoKTpudWxsIT1jP3RoaXMuZWRpdG9yLmdyYXBoLmNsb25lQ2VsbChjKTpudWxsfSksaz1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhLGIpeyJmdW5jdGlvbiI9PXR5cGVvZiBlP2UodGhpcy5lZGl0b3IsZygpLGEsYik6dGhpcy5kcm9wKGcoKSxhLGIpO3RoaXMudG9vbGJhci5yZXNldE1vZGUoKTtteEV2ZW50LmNvbnN1bWUoYSl9KTthPXRoaXMudG9vbGJhci5hZGRNb2RlKGEsYixrLGQsbnVsbCxmKTt0aGlzLmluc3RhbGxEcm9wSGFuZGxlcihhLGZ1bmN0aW9uKGEsYixjKXtrKGIsYyl9KTtyZXR1cm4gYX07Cm14RGVmYXVsdFRvb2xiYXIucHJvdG90eXBlLmRyb3A9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXMuZWRpdG9yLmdyYXBoLGU9ZC5nZXRNb2RlbCgpO2lmKG51bGwhPWMmJiFlLmlzRWRnZShjKSYmdGhpcy5jb25uZWN0T25Ecm9wJiZkLmlzQ2VsbENvbm5lY3RhYmxlKGMpKXRoaXMuY29ubmVjdChhLGIsYyk7ZWxzZXtmb3IoO251bGwhPWMmJiFkLmlzVmFsaWREcm9wVGFyZ2V0KGMsW2FdLGIpOyljPWUuZ2V0UGFyZW50KGMpO3RoaXMuaW5zZXJ0KGEsYixjKX19OwpteERlZmF1bHRUb29sYmFyLnByb3RvdHlwZS5pbnNlcnQ9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXMuZWRpdG9yLmdyYXBoO2lmKGQuY2FuSW1wb3J0Q2VsbChhKSl7dmFyIGU9bXhFdmVudC5nZXRDbGllbnRYKGIpLGY9bXhFdmVudC5nZXRDbGllbnRZKGIpLGU9bXhVdGlscy5jb252ZXJ0UG9pbnQoZC5jb250YWluZXIsZSxmKTtyZXR1cm4gZC5pc1NwbGl0RW5hYmxlZCgpJiZkLmlzU3BsaXRUYXJnZXQoYyxbYV0sYik/ZC5zcGxpdEVkZ2UoYyxbYV0sbnVsbCxlLngsZS55KTp0aGlzLmVkaXRvci5hZGRWZXJ0ZXgoYyxhLGUueCxlLnkpfXJldHVybiBudWxsfTsKbXhEZWZhdWx0VG9vbGJhci5wcm90b3R5cGUuY29ubmVjdD1mdW5jdGlvbihhLGIsYyl7Yj10aGlzLmVkaXRvci5ncmFwaDt2YXIgZD1iLmdldE1vZGVsKCk7aWYobnVsbCE9YyYmYi5pc0NlbGxDb25uZWN0YWJsZShhKSYmYi5pc0VkZ2VWYWxpZChudWxsLGMsYSkpe3ZhciBlPW51bGw7ZC5iZWdpblVwZGF0ZSgpO3RyeXt2YXIgZj1kLmdldEdlb21ldHJ5KGMpLGc9ZC5nZXRHZW9tZXRyeShhKS5jbG9uZSgpO2cueD1mLngrKGYud2lkdGgtZy53aWR0aCkvMjtnLnk9Zi55KyhmLmhlaWdodC1nLmhlaWdodCkvMjt2YXIgaz10aGlzLnNwYWNpbmcqYi5ncmlkU2l6ZSxsPTIwKmQuZ2V0RGlyZWN0ZWRFZGdlQ291bnQoYywhMCk7dGhpcy5lZGl0b3IuaG9yaXpvbnRhbEZsb3c/Zy54Kz0oZy53aWR0aCtmLndpZHRoKS8yK2srbDpnLnkrPShnLmhlaWdodCtmLmhlaWdodCkvMitrK2w7YS5zZXRHZW9tZXRyeShnKTt2YXIgbT1kLmdldFBhcmVudChjKTtiLmFkZENlbGwoYSxtKTtiLmNvbnN0cmFpbkNoaWxkKGEpOwplPXRoaXMuZWRpdG9yLmNyZWF0ZUVkZ2UoYyxhKTtpZihudWxsPT1kLmdldEdlb21ldHJ5KGUpKXt2YXIgbj1uZXcgbXhHZW9tZXRyeTtuLnJlbGF0aXZlPSEwO2Quc2V0R2VvbWV0cnkoZSxuKX1iLmFkZEVkZ2UoZSxtLGMsYSl9ZmluYWxseXtkLmVuZFVwZGF0ZSgpfWIuc2V0U2VsZWN0aW9uQ2VsbHMoW2EsZV0pO2Iuc2Nyb2xsQ2VsbFRvVmlzaWJsZShhKX19OwpteERlZmF1bHRUb29sYmFyLnByb3RvdHlwZS5pbnN0YWxsRHJvcEhhbmRsZXI9ZnVuY3Rpb24oYSxiKXt2YXIgYz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbWciKTtjLnNldEF0dHJpYnV0ZSgic3JjIixhLmdldEF0dHJpYnV0ZSgic3JjIikpO3ZhciBkPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGUpe2Muc3R5bGUud2lkdGg9MiphLm9mZnNldFdpZHRoKyJweCI7Yy5zdHlsZS5oZWlnaHQ9MiphLm9mZnNldEhlaWdodCsicHgiO214VXRpbHMubWFrZURyYWdnYWJsZShhLHRoaXMuZWRpdG9yLmdyYXBoLGIsYyk7bXhFdmVudC5yZW1vdmVMaXN0ZW5lcihjLCJsb2FkIixkKX0pO214Q2xpZW50LklTX0lFP2QoKTpteEV2ZW50LmFkZExpc3RlbmVyKGMsImxvYWQiLGQpfTsKbXhEZWZhdWx0VG9vbGJhci5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe251bGwhPXRoaXMucmVzZXRIYW5kbGVyJiYodGhpcy5lZGl0b3IuZ3JhcGgucmVtb3ZlTGlzdGVuZXIoImRibGNsaWNrIix0aGlzLnJlc2V0SGFuZGxlciksdGhpcy5lZGl0b3IucmVtb3ZlTGlzdGVuZXIoImVzY2FwZSIsdGhpcy5yZXNldEhhbmRsZXIpLHRoaXMucmVzZXRIYW5kbGVyPW51bGwpO251bGwhPXRoaXMudG9vbGJhciYmKHRoaXMudG9vbGJhci5kZXN0cm95KCksdGhpcy50b29sYmFyPW51bGwpfTsKZnVuY3Rpb24gbXhFZGl0b3IoYSl7dGhpcy5hY3Rpb25zPVtdO3RoaXMuYWRkQWN0aW9ucygpO2lmKG51bGwhPWRvY3VtZW50LmJvZHkpe3RoaXMuY3ljbGVBdHRyaWJ1dGVWYWx1ZXM9W107dGhpcy5wb3B1cEhhbmRsZXI9bmV3IG14RGVmYXVsdFBvcHVwTWVudTt0aGlzLnVuZG9NYW5hZ2VyPW5ldyBteFVuZG9NYW5hZ2VyO3RoaXMuZ3JhcGg9dGhpcy5jcmVhdGVHcmFwaCgpO3RoaXMudG9vbGJhcj10aGlzLmNyZWF0ZVRvb2xiYXIoKTt0aGlzLmtleUhhbmRsZXI9bmV3IG14RGVmYXVsdEtleUhhbmRsZXIodGhpcyk7dGhpcy5jb25maWd1cmUoYSk7dGhpcy5ncmFwaC5zd2ltbGFuZUluZGljYXRvckNvbG9yQXR0cmlidXRlPXRoaXMuY3ljbGVBdHRyaWJ1dGVOYW1lO2lmKG51bGwhPXRoaXMub25Jbml0KXRoaXMub25Jbml0KCk7bXhDbGllbnQuSVNfSUUmJm14RXZlbnQuYWRkTGlzdGVuZXIod2luZG93LCJ1bmxvYWQiLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dGhpcy5kZXN0cm95KCl9KSl9fQpteExvYWRSZXNvdXJjZXM/bXhSZXNvdXJjZXMuYWRkKG14Q2xpZW50LmJhc2VQYXRoKyIvcmVzb3VyY2VzL2VkaXRvciIpOm14Q2xpZW50LmRlZmF1bHRCdW5kbGVzLnB1c2gobXhDbGllbnQuYmFzZVBhdGgrIi9yZXNvdXJjZXMvZWRpdG9yIik7bXhFZGl0b3IucHJvdG90eXBlPW5ldyBteEV2ZW50U291cmNlO214RWRpdG9yLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1teEVkaXRvcjtteEVkaXRvci5wcm90b3R5cGUuYXNrWm9vbVJlc291cmNlPSJub25lIiE9bXhDbGllbnQubGFuZ3VhZ2U/ImFza1pvb20iOiIiO214RWRpdG9yLnByb3RvdHlwZS5sYXN0U2F2ZWRSZXNvdXJjZT0ibm9uZSIhPW14Q2xpZW50Lmxhbmd1YWdlPyJsYXN0U2F2ZWQiOiIiO214RWRpdG9yLnByb3RvdHlwZS5jdXJyZW50RmlsZVJlc291cmNlPSJub25lIiE9bXhDbGllbnQubGFuZ3VhZ2U/ImN1cnJlbnRGaWxlIjoiIjsKbXhFZGl0b3IucHJvdG90eXBlLnByb3BlcnRpZXNSZXNvdXJjZT0ibm9uZSIhPW14Q2xpZW50Lmxhbmd1YWdlPyJwcm9wZXJ0aWVzIjoiIjtteEVkaXRvci5wcm90b3R5cGUudGFza3NSZXNvdXJjZT0ibm9uZSIhPW14Q2xpZW50Lmxhbmd1YWdlPyJ0YXNrcyI6IiI7bXhFZGl0b3IucHJvdG90eXBlLmhlbHBSZXNvdXJjZT0ibm9uZSIhPW14Q2xpZW50Lmxhbmd1YWdlPyJoZWxwIjoiIjtteEVkaXRvci5wcm90b3R5cGUub3V0bGluZVJlc291cmNlPSJub25lIiE9bXhDbGllbnQubGFuZ3VhZ2U/Im91dGxpbmUiOiIiO214RWRpdG9yLnByb3RvdHlwZS5vdXRsaW5lPW51bGw7bXhFZGl0b3IucHJvdG90eXBlLmdyYXBoPW51bGw7bXhFZGl0b3IucHJvdG90eXBlLmdyYXBoUmVuZGVySGludD1udWxsO214RWRpdG9yLnByb3RvdHlwZS50b29sYmFyPW51bGw7bXhFZGl0b3IucHJvdG90eXBlLnN0YXR1cz1udWxsO214RWRpdG9yLnByb3RvdHlwZS5wb3B1cEhhbmRsZXI9bnVsbDsKbXhFZGl0b3IucHJvdG90eXBlLnVuZG9NYW5hZ2VyPW51bGw7bXhFZGl0b3IucHJvdG90eXBlLmtleUhhbmRsZXI9bnVsbDtteEVkaXRvci5wcm90b3R5cGUuYWN0aW9ucz1udWxsO214RWRpdG9yLnByb3RvdHlwZS5kYmxDbGlja0FjdGlvbj0iZWRpdCI7bXhFZGl0b3IucHJvdG90eXBlLnN3aW1sYW5lUmVxdWlyZWQ9ITE7bXhFZGl0b3IucHJvdG90eXBlLmRpc2FibGVDb250ZXh0TWVudT0hMDtteEVkaXRvci5wcm90b3R5cGUuaW5zZXJ0RnVuY3Rpb249bnVsbDtteEVkaXRvci5wcm90b3R5cGUuZm9yY2VkSW5zZXJ0aW5nPSExO214RWRpdG9yLnByb3RvdHlwZS50ZW1wbGF0ZXM9bnVsbDtteEVkaXRvci5wcm90b3R5cGUuZGVmYXVsdEVkZ2U9bnVsbDtteEVkaXRvci5wcm90b3R5cGUuZGVmYXVsdEVkZ2VTdHlsZT1udWxsO214RWRpdG9yLnByb3RvdHlwZS5kZWZhdWx0R3JvdXA9bnVsbDtteEVkaXRvci5wcm90b3R5cGUuZ3JvdXBCb3JkZXJTaXplPW51bGw7Cm14RWRpdG9yLnByb3RvdHlwZS5maWxlbmFtZT1udWxsO214RWRpdG9yLnByb3RvdHlwZS5saW5lZmVlZD0iJiN4YTsiO214RWRpdG9yLnByb3RvdHlwZS5wb3N0UGFyYW1ldGVyTmFtZT0ieG1sIjtteEVkaXRvci5wcm90b3R5cGUuZXNjYXBlUG9zdERhdGE9ITA7bXhFZGl0b3IucHJvdG90eXBlLnVybFBvc3Q9bnVsbDtteEVkaXRvci5wcm90b3R5cGUudXJsSW1hZ2U9bnVsbDtteEVkaXRvci5wcm90b3R5cGUuaG9yaXpvbnRhbEZsb3c9ITE7bXhFZGl0b3IucHJvdG90eXBlLmxheW91dERpYWdyYW09ITE7bXhFZGl0b3IucHJvdG90eXBlLnN3aW1sYW5lU3BhY2luZz0wO214RWRpdG9yLnByb3RvdHlwZS5tYWludGFpblN3aW1sYW5lcz0hMTtteEVkaXRvci5wcm90b3R5cGUubGF5b3V0U3dpbWxhbmVzPSExO214RWRpdG9yLnByb3RvdHlwZS5jeWNsZUF0dHJpYnV0ZVZhbHVlcz1udWxsO214RWRpdG9yLnByb3RvdHlwZS5jeWNsZUF0dHJpYnV0ZUluZGV4PTA7Cm14RWRpdG9yLnByb3RvdHlwZS5jeWNsZUF0dHJpYnV0ZU5hbWU9ImZpbGxDb2xvciI7bXhFZGl0b3IucHJvdG90eXBlLnRhc2tzPW51bGw7bXhFZGl0b3IucHJvdG90eXBlLnRhc2tzV2luZG93SW1hZ2U9bnVsbDtteEVkaXRvci5wcm90b3R5cGUudGFza3NUb3A9MjA7bXhFZGl0b3IucHJvdG90eXBlLmhlbHA9bnVsbDtteEVkaXRvci5wcm90b3R5cGUuaGVscFdpbmRvd0ltYWdlPW51bGw7bXhFZGl0b3IucHJvdG90eXBlLnVybEhlbHA9bnVsbDtteEVkaXRvci5wcm90b3R5cGUuaGVscFdpZHRoPTMwMDtteEVkaXRvci5wcm90b3R5cGUuaGVscEhlaWdodD0yNjA7bXhFZGl0b3IucHJvdG90eXBlLnByb3BlcnRpZXNXaWR0aD0yNDA7bXhFZGl0b3IucHJvdG90eXBlLnByb3BlcnRpZXNIZWlnaHQ9bnVsbDtteEVkaXRvci5wcm90b3R5cGUubW92ZVByb3BlcnRpZXNEaWFsb2c9ITE7bXhFZGl0b3IucHJvdG90eXBlLnZhbGlkYXRpbmc9ITE7Cm14RWRpdG9yLnByb3RvdHlwZS5tb2RpZmllZD0hMTtteEVkaXRvci5wcm90b3R5cGUuaXNNb2RpZmllZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLm1vZGlmaWVkfTtteEVkaXRvci5wcm90b3R5cGUuc2V0TW9kaWZpZWQ9ZnVuY3Rpb24oYSl7dGhpcy5tb2RpZmllZD1hfTsKbXhFZGl0b3IucHJvdG90eXBlLmFkZEFjdGlvbnM9ZnVuY3Rpb24oKXt0aGlzLmFkZEFjdGlvbigic2F2ZSIsZnVuY3Rpb24oYSl7YS5zYXZlKCl9KTt0aGlzLmFkZEFjdGlvbigicHJpbnQiLGZ1bmN0aW9uKGEpeyhuZXcgbXhQcmludFByZXZpZXcoYS5ncmFwaCwxKSkub3BlbigpfSk7dGhpcy5hZGRBY3Rpb24oInNob3ciLGZ1bmN0aW9uKGEpe214VXRpbHMuc2hvdyhhLmdyYXBoLG51bGwsMTAsMTApfSk7dGhpcy5hZGRBY3Rpb24oImV4cG9ydEltYWdlIixmdW5jdGlvbihhKXt2YXIgYj1hLmdldFVybEltYWdlKCk7aWYobnVsbD09Ynx8bXhDbGllbnQuSVNfTE9DQUwpYS5leGVjdXRlKCJzaG93Iik7ZWxzZXt2YXIgYz1teFV0aWxzLmdldFZpZXdYbWwoYS5ncmFwaCwxKSxjPW14VXRpbHMuZ2V0WG1sKGMsIlxuIik7bXhVdGlscy5zdWJtaXQoYixhLnBvc3RQYXJhbWV0ZXJOYW1lKyI9IitlbmNvZGVVUklDb21wb25lbnQoYyksZG9jdW1lbnQsIl9ibGFuayIpfX0pO3RoaXMuYWRkQWN0aW9uKCJyZWZyZXNoIiwKZnVuY3Rpb24oYSl7YS5ncmFwaC5yZWZyZXNoKCl9KTt0aGlzLmFkZEFjdGlvbigiY3V0IixmdW5jdGlvbihhKXthLmdyYXBoLmlzRW5hYmxlZCgpJiZteENsaXBib2FyZC5jdXQoYS5ncmFwaCl9KTt0aGlzLmFkZEFjdGlvbigiY29weSIsZnVuY3Rpb24oYSl7YS5ncmFwaC5pc0VuYWJsZWQoKSYmbXhDbGlwYm9hcmQuY29weShhLmdyYXBoKX0pO3RoaXMuYWRkQWN0aW9uKCJwYXN0ZSIsZnVuY3Rpb24oYSl7YS5ncmFwaC5pc0VuYWJsZWQoKSYmbXhDbGlwYm9hcmQucGFzdGUoYS5ncmFwaCl9KTt0aGlzLmFkZEFjdGlvbigiZGVsZXRlIixmdW5jdGlvbihhKXthLmdyYXBoLmlzRW5hYmxlZCgpJiZhLmdyYXBoLnJlbW92ZUNlbGxzKCl9KTt0aGlzLmFkZEFjdGlvbigiZ3JvdXAiLGZ1bmN0aW9uKGEpe2EuZ3JhcGguaXNFbmFibGVkKCkmJmEuZ3JhcGguc2V0U2VsZWN0aW9uQ2VsbChhLmdyb3VwQ2VsbHMoKSl9KTt0aGlzLmFkZEFjdGlvbigidW5ncm91cCIsZnVuY3Rpb24oYSl7YS5ncmFwaC5pc0VuYWJsZWQoKSYmCmEuZ3JhcGguc2V0U2VsZWN0aW9uQ2VsbHMoYS5ncmFwaC51bmdyb3VwQ2VsbHMoKSl9KTt0aGlzLmFkZEFjdGlvbigicmVtb3ZlRnJvbVBhcmVudCIsZnVuY3Rpb24oYSl7YS5ncmFwaC5pc0VuYWJsZWQoKSYmYS5ncmFwaC5yZW1vdmVDZWxsc0Zyb21QYXJlbnQoKX0pO3RoaXMuYWRkQWN0aW9uKCJ1bmRvIixmdW5jdGlvbihhKXthLmdyYXBoLmlzRW5hYmxlZCgpJiZhLnVuZG8oKX0pO3RoaXMuYWRkQWN0aW9uKCJyZWRvIixmdW5jdGlvbihhKXthLmdyYXBoLmlzRW5hYmxlZCgpJiZhLnJlZG8oKX0pO3RoaXMuYWRkQWN0aW9uKCJ6b29tSW4iLGZ1bmN0aW9uKGEpe2EuZ3JhcGguem9vbUluKCl9KTt0aGlzLmFkZEFjdGlvbigiem9vbU91dCIsZnVuY3Rpb24oYSl7YS5ncmFwaC56b29tT3V0KCl9KTt0aGlzLmFkZEFjdGlvbigiYWN0dWFsU2l6ZSIsZnVuY3Rpb24oYSl7YS5ncmFwaC56b29tQWN0dWFsKCl9KTt0aGlzLmFkZEFjdGlvbigiZml0IixmdW5jdGlvbihhKXthLmdyYXBoLmZpdCgpfSk7CnRoaXMuYWRkQWN0aW9uKCJzaG93UHJvcGVydGllcyIsZnVuY3Rpb24oYSxiKXthLnNob3dQcm9wZXJ0aWVzKGIpfSk7dGhpcy5hZGRBY3Rpb24oInNlbGVjdEFsbCIsZnVuY3Rpb24oYSl7YS5ncmFwaC5pc0VuYWJsZWQoKSYmYS5ncmFwaC5zZWxlY3RBbGwoKX0pO3RoaXMuYWRkQWN0aW9uKCJzZWxlY3ROb25lIixmdW5jdGlvbihhKXthLmdyYXBoLmlzRW5hYmxlZCgpJiZhLmdyYXBoLmNsZWFyU2VsZWN0aW9uKCl9KTt0aGlzLmFkZEFjdGlvbigic2VsZWN0VmVydGljZXMiLGZ1bmN0aW9uKGEpe2EuZ3JhcGguaXNFbmFibGVkKCkmJmEuZ3JhcGguc2VsZWN0VmVydGljZXMoKX0pO3RoaXMuYWRkQWN0aW9uKCJzZWxlY3RFZGdlcyIsZnVuY3Rpb24oYSl7YS5ncmFwaC5pc0VuYWJsZWQoKSYmYS5ncmFwaC5zZWxlY3RFZGdlcygpfSk7dGhpcy5hZGRBY3Rpb24oImVkaXQiLGZ1bmN0aW9uKGEsYil7YS5ncmFwaC5pc0VuYWJsZWQoKSYmYS5ncmFwaC5pc0NlbGxFZGl0YWJsZShiKSYmYS5ncmFwaC5zdGFydEVkaXRpbmdBdENlbGwoYil9KTsKdGhpcy5hZGRBY3Rpb24oInRvQmFjayIsZnVuY3Rpb24oYSxiKXthLmdyYXBoLmlzRW5hYmxlZCgpJiZhLmdyYXBoLm9yZGVyQ2VsbHMoITApfSk7dGhpcy5hZGRBY3Rpb24oInRvRnJvbnQiLGZ1bmN0aW9uKGEsYil7YS5ncmFwaC5pc0VuYWJsZWQoKSYmYS5ncmFwaC5vcmRlckNlbGxzKCExKX0pO3RoaXMuYWRkQWN0aW9uKCJlbnRlckdyb3VwIixmdW5jdGlvbihhLGIpe2EuZ3JhcGguZW50ZXJHcm91cChiKX0pO3RoaXMuYWRkQWN0aW9uKCJleGl0R3JvdXAiLGZ1bmN0aW9uKGEpe2EuZ3JhcGguZXhpdEdyb3VwKCl9KTt0aGlzLmFkZEFjdGlvbigiaG9tZSIsZnVuY3Rpb24oYSl7YS5ncmFwaC5ob21lKCl9KTt0aGlzLmFkZEFjdGlvbigic2VsZWN0UHJldmlvdXMiLGZ1bmN0aW9uKGEpe2EuZ3JhcGguaXNFbmFibGVkKCkmJmEuZ3JhcGguc2VsZWN0UHJldmlvdXNDZWxsKCl9KTt0aGlzLmFkZEFjdGlvbigic2VsZWN0TmV4dCIsZnVuY3Rpb24oYSl7YS5ncmFwaC5pc0VuYWJsZWQoKSYmCmEuZ3JhcGguc2VsZWN0TmV4dENlbGwoKX0pO3RoaXMuYWRkQWN0aW9uKCJzZWxlY3RQYXJlbnQiLGZ1bmN0aW9uKGEpe2EuZ3JhcGguaXNFbmFibGVkKCkmJmEuZ3JhcGguc2VsZWN0UGFyZW50Q2VsbCgpfSk7dGhpcy5hZGRBY3Rpb24oInNlbGVjdENoaWxkIixmdW5jdGlvbihhKXthLmdyYXBoLmlzRW5hYmxlZCgpJiZhLmdyYXBoLnNlbGVjdENoaWxkQ2VsbCgpfSk7dGhpcy5hZGRBY3Rpb24oImNvbGxhcHNlIixmdW5jdGlvbihhKXthLmdyYXBoLmlzRW5hYmxlZCgpJiZhLmdyYXBoLmZvbGRDZWxscyghMCl9KTt0aGlzLmFkZEFjdGlvbigiY29sbGFwc2VBbGwiLGZ1bmN0aW9uKGEpe2lmKGEuZ3JhcGguaXNFbmFibGVkKCkpe3ZhciBiPWEuZ3JhcGguZ2V0Q2hpbGRWZXJ0aWNlcygpO2EuZ3JhcGguZm9sZENlbGxzKCEwLCExLGIpfX0pO3RoaXMuYWRkQWN0aW9uKCJleHBhbmQiLGZ1bmN0aW9uKGEpe2EuZ3JhcGguaXNFbmFibGVkKCkmJmEuZ3JhcGguZm9sZENlbGxzKCExKX0pOwp0aGlzLmFkZEFjdGlvbigiZXhwYW5kQWxsIixmdW5jdGlvbihhKXtpZihhLmdyYXBoLmlzRW5hYmxlZCgpKXt2YXIgYj1hLmdyYXBoLmdldENoaWxkVmVydGljZXMoKTthLmdyYXBoLmZvbGRDZWxscyghMSwhMSxiKX19KTt0aGlzLmFkZEFjdGlvbigiYm9sZCIsZnVuY3Rpb24oYSl7YS5ncmFwaC5pc0VuYWJsZWQoKSYmYS5ncmFwaC50b2dnbGVDZWxsU3R5bGVGbGFncyhteENvbnN0YW50cy5TVFlMRV9GT05UU1RZTEUsbXhDb25zdGFudHMuRk9OVF9CT0xEKX0pO3RoaXMuYWRkQWN0aW9uKCJpdGFsaWMiLGZ1bmN0aW9uKGEpe2EuZ3JhcGguaXNFbmFibGVkKCkmJmEuZ3JhcGgudG9nZ2xlQ2VsbFN0eWxlRmxhZ3MobXhDb25zdGFudHMuU1RZTEVfRk9OVFNUWUxFLG14Q29uc3RhbnRzLkZPTlRfSVRBTElDKX0pO3RoaXMuYWRkQWN0aW9uKCJ1bmRlcmxpbmUiLGZ1bmN0aW9uKGEpe2EuZ3JhcGguaXNFbmFibGVkKCkmJmEuZ3JhcGgudG9nZ2xlQ2VsbFN0eWxlRmxhZ3MobXhDb25zdGFudHMuU1RZTEVfRk9OVFNUWUxFLApteENvbnN0YW50cy5GT05UX1VOREVSTElORSl9KTt0aGlzLmFkZEFjdGlvbigiYWxpZ25DZWxsc0xlZnQiLGZ1bmN0aW9uKGEpe2EuZ3JhcGguaXNFbmFibGVkKCkmJmEuZ3JhcGguYWxpZ25DZWxscyhteENvbnN0YW50cy5BTElHTl9MRUZUKX0pO3RoaXMuYWRkQWN0aW9uKCJhbGlnbkNlbGxzQ2VudGVyIixmdW5jdGlvbihhKXthLmdyYXBoLmlzRW5hYmxlZCgpJiZhLmdyYXBoLmFsaWduQ2VsbHMobXhDb25zdGFudHMuQUxJR05fQ0VOVEVSKX0pO3RoaXMuYWRkQWN0aW9uKCJhbGlnbkNlbGxzUmlnaHQiLGZ1bmN0aW9uKGEpe2EuZ3JhcGguaXNFbmFibGVkKCkmJmEuZ3JhcGguYWxpZ25DZWxscyhteENvbnN0YW50cy5BTElHTl9SSUdIVCl9KTt0aGlzLmFkZEFjdGlvbigiYWxpZ25DZWxsc1RvcCIsZnVuY3Rpb24oYSl7YS5ncmFwaC5pc0VuYWJsZWQoKSYmYS5ncmFwaC5hbGlnbkNlbGxzKG14Q29uc3RhbnRzLkFMSUdOX1RPUCl9KTt0aGlzLmFkZEFjdGlvbigiYWxpZ25DZWxsc01pZGRsZSIsCmZ1bmN0aW9uKGEpe2EuZ3JhcGguaXNFbmFibGVkKCkmJmEuZ3JhcGguYWxpZ25DZWxscyhteENvbnN0YW50cy5BTElHTl9NSURETEUpfSk7dGhpcy5hZGRBY3Rpb24oImFsaWduQ2VsbHNCb3R0b20iLGZ1bmN0aW9uKGEpe2EuZ3JhcGguaXNFbmFibGVkKCkmJmEuZ3JhcGguYWxpZ25DZWxscyhteENvbnN0YW50cy5BTElHTl9CT1RUT00pfSk7dGhpcy5hZGRBY3Rpb24oImFsaWduRm9udExlZnQiLGZ1bmN0aW9uKGEpe2EuZ3JhcGguc2V0Q2VsbFN0eWxlcyhteENvbnN0YW50cy5TVFlMRV9BTElHTixteENvbnN0YW50cy5BTElHTl9MRUZUKX0pO3RoaXMuYWRkQWN0aW9uKCJhbGlnbkZvbnRDZW50ZXIiLGZ1bmN0aW9uKGEpe2EuZ3JhcGguaXNFbmFibGVkKCkmJmEuZ3JhcGguc2V0Q2VsbFN0eWxlcyhteENvbnN0YW50cy5TVFlMRV9BTElHTixteENvbnN0YW50cy5BTElHTl9DRU5URVIpfSk7dGhpcy5hZGRBY3Rpb24oImFsaWduRm9udFJpZ2h0IixmdW5jdGlvbihhKXthLmdyYXBoLmlzRW5hYmxlZCgpJiYKYS5ncmFwaC5zZXRDZWxsU3R5bGVzKG14Q29uc3RhbnRzLlNUWUxFX0FMSUdOLG14Q29uc3RhbnRzLkFMSUdOX1JJR0hUKX0pO3RoaXMuYWRkQWN0aW9uKCJhbGlnbkZvbnRUb3AiLGZ1bmN0aW9uKGEpe2EuZ3JhcGguaXNFbmFibGVkKCkmJmEuZ3JhcGguc2V0Q2VsbFN0eWxlcyhteENvbnN0YW50cy5TVFlMRV9WRVJUSUNBTF9BTElHTixteENvbnN0YW50cy5BTElHTl9UT1ApfSk7dGhpcy5hZGRBY3Rpb24oImFsaWduRm9udE1pZGRsZSIsZnVuY3Rpb24oYSl7YS5ncmFwaC5pc0VuYWJsZWQoKSYmYS5ncmFwaC5zZXRDZWxsU3R5bGVzKG14Q29uc3RhbnRzLlNUWUxFX1ZFUlRJQ0FMX0FMSUdOLG14Q29uc3RhbnRzLkFMSUdOX01JRERMRSl9KTt0aGlzLmFkZEFjdGlvbigiYWxpZ25Gb250Qm90dG9tIixmdW5jdGlvbihhKXthLmdyYXBoLmlzRW5hYmxlZCgpJiZhLmdyYXBoLnNldENlbGxTdHlsZXMobXhDb25zdGFudHMuU1RZTEVfVkVSVElDQUxfQUxJR04sbXhDb25zdGFudHMuQUxJR05fQk9UVE9NKX0pOwp0aGlzLmFkZEFjdGlvbigiem9vbSIsZnVuY3Rpb24oYSl7dmFyIGI9MTAwKmEuZ3JhcGguZ2V0VmlldygpLnNjYWxlLGI9cGFyc2VGbG9hdChteFV0aWxzLnByb21wdChteFJlc291cmNlcy5nZXQoYS5hc2tab29tUmVzb3VyY2UpfHxhLmFza1pvb21SZXNvdXJjZSxiKSkvMTAwO2lzTmFOKGIpfHxhLmdyYXBoLmdldFZpZXcoKS5zZXRTY2FsZShiKX0pO3RoaXMuYWRkQWN0aW9uKCJ0b2dnbGVUYXNrcyIsZnVuY3Rpb24oYSl7bnVsbCE9YS50YXNrcz9hLnRhc2tzLnNldFZpc2libGUoIWEudGFza3MuaXNWaXNpYmxlKCkpOmEuc2hvd1Rhc2tzKCl9KTt0aGlzLmFkZEFjdGlvbigidG9nZ2xlSGVscCIsZnVuY3Rpb24oYSl7bnVsbCE9YS5oZWxwP2EuaGVscC5zZXRWaXNpYmxlKCFhLmhlbHAuaXNWaXNpYmxlKCkpOmEuc2hvd0hlbHAoKX0pO3RoaXMuYWRkQWN0aW9uKCJ0b2dnbGVPdXRsaW5lIixmdW5jdGlvbihhKXtudWxsPT1hLm91dGxpbmU/YS5zaG93T3V0bGluZSgpOmEub3V0bGluZS5zZXRWaXNpYmxlKCFhLm91dGxpbmUuaXNWaXNpYmxlKCkpfSk7CnRoaXMuYWRkQWN0aW9uKCJ0b2dnbGVDb25zb2xlIixmdW5jdGlvbihhKXtteExvZy5zZXRWaXNpYmxlKCFteExvZy5pc1Zpc2libGUoKSl9KX07bXhFZGl0b3IucHJvdG90eXBlLmNvbmZpZ3VyZT1mdW5jdGlvbihhKXtudWxsIT1hJiYoKG5ldyBteENvZGVjKGEub3duZXJEb2N1bWVudCkpLmRlY29kZShhLHRoaXMpLHRoaXMucmVzZXRIaXN0b3J5KCkpfTtteEVkaXRvci5wcm90b3R5cGUucmVzZXRGaXJzdFRpbWU9ZnVuY3Rpb24oKXtkb2N1bWVudC5jb29raWU9Im14Z3JhcGg9c2VlbjsgZXhwaXJlcz1GcmksIDI3IEp1bCAyMDAxIDAyOjQ3OjExIFVUQzsgcGF0aD0vIn07bXhFZGl0b3IucHJvdG90eXBlLnJlc2V0SGlzdG9yeT1mdW5jdGlvbigpe3RoaXMubGFzdFNuYXBzaG90PShuZXcgRGF0ZSkuZ2V0VGltZSgpO3RoaXMudW5kb01hbmFnZXIuY2xlYXIoKTt0aGlzLmlnbm9yZWRDaGFuZ2VzPTA7dGhpcy5zZXRNb2RpZmllZCghMSl9OwpteEVkaXRvci5wcm90b3R5cGUuYWRkQWN0aW9uPWZ1bmN0aW9uKGEsYil7dGhpcy5hY3Rpb25zW2FdPWJ9O214RWRpdG9yLnByb3RvdHlwZS5leGVjdXRlPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLmFjdGlvbnNbYV07aWYobnVsbCE9ZCl0cnl7dmFyIGU9YXJndW1lbnRzO2VbMF09dGhpcztkLmFwcGx5KHRoaXMsZSl9Y2F0Y2goZil7dGhyb3cgbXhVdGlscy5lcnJvcigiQ2Fubm90IGV4ZWN1dGUgIithKyI6ICIrZi5tZXNzYWdlLDI4MCwhMCksZjt9ZWxzZSBteFV0aWxzLmVycm9yKCJDYW5ub3QgZmluZCBhY3Rpb24gIithLDI4MCwhMCl9O214RWRpdG9yLnByb3RvdHlwZS5hZGRUZW1wbGF0ZT1mdW5jdGlvbihhLGIpe3RoaXMudGVtcGxhdGVzW2FdPWJ9O214RWRpdG9yLnByb3RvdHlwZS5nZXRUZW1wbGF0ZT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy50ZW1wbGF0ZXNbYV19OwpteEVkaXRvci5wcm90b3R5cGUuY3JlYXRlR3JhcGg9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgbXhHcmFwaChudWxsLG51bGwsdGhpcy5ncmFwaFJlbmRlckhpbnQpO2Euc2V0VG9vbHRpcHMoITApO2Euc2V0UGFubmluZyghMCk7dGhpcy5pbnN0YWxsRGJsQ2xpY2tIYW5kbGVyKGEpO3RoaXMuaW5zdGFsbFVuZG9IYW5kbGVyKGEpO3RoaXMuaW5zdGFsbERyaWxsSGFuZGxlcihhKTt0aGlzLmluc3RhbGxDaGFuZ2VIYW5kbGVyKGEpO3RoaXMuaW5zdGFsbEluc2VydEhhbmRsZXIoYSk7YS5wb3B1cE1lbnVIYW5kbGVyLmZhY3RvcnlNZXRob2Q9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSxjLGQpe3JldHVybiB0aGlzLmNyZWF0ZVBvcHVwTWVudShhLGMsZCl9KTthLmNvbm5lY3Rpb25IYW5kbGVyLmZhY3RvcnlNZXRob2Q9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSxjKXtyZXR1cm4gdGhpcy5jcmVhdGVFZGdlKGEsYyl9KTt0aGlzLmNyZWF0ZVN3aW1sYW5lTWFuYWdlcihhKTsKdGhpcy5jcmVhdGVMYXlvdXRNYW5hZ2VyKGEpO3JldHVybiBhfTtteEVkaXRvci5wcm90b3R5cGUuY3JlYXRlU3dpbWxhbmVNYW5hZ2VyPWZ1bmN0aW9uKGEpe2E9bmV3IG14U3dpbWxhbmVNYW5hZ2VyKGEsITEpO2EuaXNIb3Jpem9udGFsPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaG9yaXpvbnRhbEZsb3d9KTthLmlzRW5hYmxlZD1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3JldHVybiB0aGlzLm1haW50YWluU3dpbWxhbmVzfSk7cmV0dXJuIGF9OwpteEVkaXRvci5wcm90b3R5cGUuY3JlYXRlTGF5b3V0TWFuYWdlcj1mdW5jdGlvbihhKXt2YXIgYj1uZXcgbXhMYXlvdXRNYW5hZ2VyKGEpLGM9dGhpcztiLmdldExheW91dD1mdW5jdGlvbihiKXt2YXIgZD1udWxsLGY9Yy5ncmFwaC5nZXRNb2RlbCgpO251bGwhPWYuZ2V0UGFyZW50KGIpJiYoYy5sYXlvdXRTd2ltbGFuZXMmJmEuaXNTd2ltbGFuZShiKT8obnVsbD09Yy5zd2ltbGFuZUxheW91dCYmKGMuc3dpbWxhbmVMYXlvdXQ9Yy5jcmVhdGVTd2ltbGFuZUxheW91dCgpKSxkPWMuc3dpbWxhbmVMYXlvdXQpOmMubGF5b3V0RGlhZ3JhbSYmKGEuaXNWYWxpZFJvb3QoYil8fG51bGw9PWYuZ2V0UGFyZW50KGYuZ2V0UGFyZW50KGIpKSkmJihudWxsPT1jLmRpYWdyYW1MYXlvdXQmJihjLmRpYWdyYW1MYXlvdXQ9Yy5jcmVhdGVEaWFncmFtTGF5b3V0KCkpLGQ9Yy5kaWFncmFtTGF5b3V0KSk7cmV0dXJuIGR9O3JldHVybiBifTsKbXhFZGl0b3IucHJvdG90eXBlLnNldEdyYXBoQ29udGFpbmVyPWZ1bmN0aW9uKGEpe251bGw9PXRoaXMuZ3JhcGguY29udGFpbmVyJiYodGhpcy5ncmFwaC5pbml0KGEpLHRoaXMucnViYmVyYmFuZD1uZXcgbXhSdWJiZXJiYW5kKHRoaXMuZ3JhcGgpLHRoaXMuZGlzYWJsZUNvbnRleHRNZW51JiZteEV2ZW50LmRpc2FibGVDb250ZXh0TWVudShhKSxteENsaWVudC5JU19RVUlSS1MmJm5ldyBteERpdlJlc2l6ZXIoYSkpfTtteEVkaXRvci5wcm90b3R5cGUuaW5zdGFsbERibENsaWNrSGFuZGxlcj1mdW5jdGlvbihhKXthLmFkZExpc3RlbmVyKG14RXZlbnQuRE9VQkxFX0NMSUNLLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGIsYyl7dmFyIGQ9Yy5nZXRQcm9wZXJ0eSgiY2VsbCIpO251bGwhPWQmJmEuaXNFbmFibGVkKCkmJm51bGwhPXRoaXMuZGJsQ2xpY2tBY3Rpb24mJih0aGlzLmV4ZWN1dGUodGhpcy5kYmxDbGlja0FjdGlvbixkKSxjLmNvbnN1bWUoKSl9KSl9OwpteEVkaXRvci5wcm90b3R5cGUuaW5zdGFsbFVuZG9IYW5kbGVyPWZ1bmN0aW9uKGEpe3ZhciBiPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEsYil7dmFyIGM9Yi5nZXRQcm9wZXJ0eSgiZWRpdCIpO3RoaXMudW5kb01hbmFnZXIudW5kb2FibGVFZGl0SGFwcGVuZWQoYyl9KTthLmdldE1vZGVsKCkuYWRkTGlzdGVuZXIobXhFdmVudC5VTkRPLGIpO2EuZ2V0VmlldygpLmFkZExpc3RlbmVyKG14RXZlbnQuVU5ETyxiKTtiPWZ1bmN0aW9uKGIsZCl7dmFyIGM9ZC5nZXRQcm9wZXJ0eSgiZWRpdCIpLmNoYW5nZXM7YS5zZXRTZWxlY3Rpb25DZWxscyhhLmdldFNlbGVjdGlvbkNlbGxzRm9yQ2hhbmdlcyhjKSl9O3RoaXMudW5kb01hbmFnZXIuYWRkTGlzdGVuZXIobXhFdmVudC5VTkRPLGIpO3RoaXMudW5kb01hbmFnZXIuYWRkTGlzdGVuZXIobXhFdmVudC5SRURPLGIpfTsKbXhFZGl0b3IucHJvdG90eXBlLmluc3RhbGxEcmlsbEhhbmRsZXI9ZnVuY3Rpb24oYSl7dmFyIGI9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7dGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5ST09UKSl9KTthLmdldFZpZXcoKS5hZGRMaXN0ZW5lcihteEV2ZW50LkRPV04sYik7YS5nZXRWaWV3KCkuYWRkTGlzdGVuZXIobXhFdmVudC5VUCxiKX07Cm14RWRpdG9yLnByb3RvdHlwZS5pbnN0YWxsQ2hhbmdlSGFuZGxlcj1mdW5jdGlvbihhKXt2YXIgYj1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihiLGQpe3RoaXMuc2V0TW9kaWZpZWQoITApOzE9PXRoaXMudmFsaWRhdGluZyYmYS52YWxpZGF0ZUdyYXBoKCk7Zm9yKHZhciBjPWQuZ2V0UHJvcGVydHkoImVkaXQiKS5jaGFuZ2VzLGY9MDtmPGMubGVuZ3RoO2YrKyl7dmFyIGc9Y1tmXTtpZihnIGluc3RhbmNlb2YgbXhSb290Q2hhbmdlfHxnIGluc3RhbmNlb2YgbXhWYWx1ZUNoYW5nZSYmZy5jZWxsPT10aGlzLmdyYXBoLm1vZGVsLnJvb3R8fGcgaW5zdGFuY2VvZiBteENlbGxBdHRyaWJ1dGVDaGFuZ2UmJmcuY2VsbD09dGhpcy5ncmFwaC5tb2RlbC5yb290KXt0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LlJPT1QpKTticmVha319fSk7YS5nZXRNb2RlbCgpLmFkZExpc3RlbmVyKG14RXZlbnQuQ0hBTkdFLGIpfTsKbXhFZGl0b3IucHJvdG90eXBlLmluc3RhbGxJbnNlcnRIYW5kbGVyPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7YS5hZGRNb3VzZUxpc3RlbmVyKHttb3VzZURvd246ZnVuY3Rpb24oYSxkKXtudWxsPT1iLmluc2VydEZ1bmN0aW9ufHxkLmlzUG9wdXBUcmlnZ2VyKCl8fCFiLmZvcmNlZEluc2VydGluZyYmbnVsbCE9ZC5nZXRTdGF0ZSgpfHwoYi5ncmFwaC5jbGVhclNlbGVjdGlvbigpLGIuaW5zZXJ0RnVuY3Rpb24oZC5nZXRFdmVudCgpLGQuZ2V0Q2VsbCgpKSx0aGlzLmlzQWN0aXZlPSEwLGQuY29uc3VtZSgpKX0sbW91c2VNb3ZlOmZ1bmN0aW9uKGEsYil7dGhpcy5pc0FjdGl2ZSYmYi5jb25zdW1lKCl9LG1vdXNlVXA6ZnVuY3Rpb24oYSxiKXt0aGlzLmlzQWN0aXZlJiYodGhpcy5pc0FjdGl2ZT0hMSxiLmNvbnN1bWUoKSl9fSl9OwpteEVkaXRvci5wcm90b3R5cGUuY3JlYXRlRGlhZ3JhbUxheW91dD1mdW5jdGlvbigpe3ZhciBhPXRoaXMuZ3JhcGguZ3JpZFNpemUsYj1uZXcgbXhTdGFja0xheW91dCh0aGlzLmdyYXBoLCF0aGlzLmhvcml6b250YWxGbG93LHRoaXMuc3dpbWxhbmVTcGFjaW5nLDIqYSwyKmEpO2IuaXNWZXJ0ZXhJZ25vcmVkPWZ1bmN0aW9uKGEpe3JldHVybiFiLmdyYXBoLmlzU3dpbWxhbmUoYSl9O3JldHVybiBifTtteEVkaXRvci5wcm90b3R5cGUuY3JlYXRlU3dpbWxhbmVMYXlvdXQ9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG14Q29tcGFjdFRyZWVMYXlvdXQodGhpcy5ncmFwaCx0aGlzLmhvcml6b250YWxGbG93KX07bXhFZGl0b3IucHJvdG90eXBlLmNyZWF0ZVRvb2xiYXI9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG14RGVmYXVsdFRvb2xiYXIobnVsbCx0aGlzKX07Cm14RWRpdG9yLnByb3RvdHlwZS5zZXRUb29sYmFyQ29udGFpbmVyPWZ1bmN0aW9uKGEpe3RoaXMudG9vbGJhci5pbml0KGEpO214Q2xpZW50LklTX1FVSVJLUyYmbmV3IG14RGl2UmVzaXplcihhKX07Cm14RWRpdG9yLnByb3RvdHlwZS5zZXRTdGF0dXNDb250YWluZXI9ZnVuY3Rpb24oYSl7bnVsbD09dGhpcy5zdGF0dXMmJih0aGlzLnN0YXR1cz1hLHRoaXMuYWRkTGlzdGVuZXIobXhFdmVudC5TQVZFLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dmFyIGE9KG5ldyBEYXRlKS50b0xvY2FsZVN0cmluZygpO3RoaXMuc2V0U3RhdHVzKChteFJlc291cmNlcy5nZXQodGhpcy5sYXN0U2F2ZWRSZXNvdXJjZSl8fHRoaXMubGFzdFNhdmVkUmVzb3VyY2UpKyI6ICIrYSl9KSksdGhpcy5hZGRMaXN0ZW5lcihteEV2ZW50Lk9QRU4sbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt0aGlzLnNldFN0YXR1cygobXhSZXNvdXJjZXMuZ2V0KHRoaXMuY3VycmVudEZpbGVSZXNvdXJjZSl8fHRoaXMuY3VycmVudEZpbGVSZXNvdXJjZSkrIjogIit0aGlzLmZpbGVuYW1lKX0pKSxteENsaWVudC5JU19RVUlSS1MmJm5ldyBteERpdlJlc2l6ZXIoYSkpfTsKbXhFZGl0b3IucHJvdG90eXBlLnNldFN0YXR1cz1mdW5jdGlvbihhKXtudWxsIT10aGlzLnN0YXR1cyYmbnVsbCE9YSYmKHRoaXMuc3RhdHVzLmlubmVySFRNTD1hKX07bXhFZGl0b3IucHJvdG90eXBlLnNldFRpdGxlQ29udGFpbmVyPWZ1bmN0aW9uKGEpe3RoaXMuYWRkTGlzdGVuZXIobXhFdmVudC5ST09ULG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGIpe2EuaW5uZXJIVE1MPXRoaXMuZ2V0VGl0bGUoKX0pKTtteENsaWVudC5JU19RVUlSS1MmJm5ldyBteERpdlJlc2l6ZXIoYSl9O214RWRpdG9yLnByb3RvdHlwZS50cmVlTGF5b3V0PWZ1bmN0aW9uKGEsYil7bnVsbCE9YSYmKG5ldyBteENvbXBhY3RUcmVlTGF5b3V0KHRoaXMuZ3JhcGgsYikpLmV4ZWN1dGUoYSl9OwpteEVkaXRvci5wcm90b3R5cGUuZ2V0VGl0bGU9ZnVuY3Rpb24oKXtmb3IodmFyIGE9IiIsYj10aGlzLmdyYXBoLGM9Yi5nZXRDdXJyZW50Um9vdCgpO251bGwhPWMmJm51bGwhPWIuZ2V0TW9kZWwoKS5nZXRQYXJlbnQoYi5nZXRNb2RlbCgpLmdldFBhcmVudChjKSk7KWIuaXNWYWxpZFJvb3QoYykmJihhPSIgPiAiK2IuY29udmVydFZhbHVlVG9TdHJpbmcoYykrYSksYz1iLmdldE1vZGVsKCkuZ2V0UGFyZW50KGMpO3JldHVybiB0aGlzLmdldFJvb3RUaXRsZSgpK2F9O214RWRpdG9yLnByb3RvdHlwZS5nZXRSb290VGl0bGU9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdyYXBoLmdldE1vZGVsKCkuZ2V0Um9vdCgpO3JldHVybiB0aGlzLmdyYXBoLmNvbnZlcnRWYWx1ZVRvU3RyaW5nKGEpfTtteEVkaXRvci5wcm90b3R5cGUudW5kbz1mdW5jdGlvbigpe3RoaXMudW5kb01hbmFnZXIudW5kbygpfTtteEVkaXRvci5wcm90b3R5cGUucmVkbz1mdW5jdGlvbigpe3RoaXMudW5kb01hbmFnZXIucmVkbygpfTsKbXhFZGl0b3IucHJvdG90eXBlLmdyb3VwQ2VsbHM9ZnVuY3Rpb24oKXt2YXIgYT1udWxsIT10aGlzLmdyb3VwQm9yZGVyU2l6ZT90aGlzLmdyb3VwQm9yZGVyU2l6ZTp0aGlzLmdyYXBoLmdyaWRTaXplO3JldHVybiB0aGlzLmdyYXBoLmdyb3VwQ2VsbHModGhpcy5jcmVhdGVHcm91cCgpLGEpfTtteEVkaXRvci5wcm90b3R5cGUuY3JlYXRlR3JvdXA9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ncmFwaC5nZXRNb2RlbCgpLmNsb25lQ2VsbCh0aGlzLmRlZmF1bHRHcm91cCl9O214RWRpdG9yLnByb3RvdHlwZS5vcGVuPWZ1bmN0aW9uKGEpe2lmKG51bGwhPWEpe3ZhciBiPW14VXRpbHMubG9hZChhKS5nZXRYbWwoKTt0aGlzLnJlYWRHcmFwaE1vZGVsKGIuZG9jdW1lbnRFbGVtZW50KTt0aGlzLmZpbGVuYW1lPWE7dGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5PUEVOLCJmaWxlbmFtZSIsYSkpfX07Cm14RWRpdG9yLnByb3RvdHlwZS5yZWFkR3JhcGhNb2RlbD1mdW5jdGlvbihhKXsobmV3IG14Q29kZWMoYS5vd25lckRvY3VtZW50KSkuZGVjb2RlKGEsdGhpcy5ncmFwaC5nZXRNb2RlbCgpKTt0aGlzLnJlc2V0SGlzdG9yeSgpfTtteEVkaXRvci5wcm90b3R5cGUuc2F2ZT1mdW5jdGlvbihhLGIpe2E9YXx8dGhpcy5nZXRVcmxQb3N0KCk7aWYobnVsbCE9YSYmMDxhLmxlbmd0aCl7dmFyIGM9dGhpcy53cml0ZUdyYXBoTW9kZWwoYik7dGhpcy5wb3N0RGlhZ3JhbShhLGMpO3RoaXMuc2V0TW9kaWZpZWQoITEpfXRoaXMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KG14RXZlbnQuU0FWRSwidXJsIixhKSl9OwpteEVkaXRvci5wcm90b3R5cGUucG9zdERpYWdyYW09ZnVuY3Rpb24oYSxiKXt0aGlzLmVzY2FwZVBvc3REYXRhJiYoYj1lbmNvZGVVUklDb21wb25lbnQoYikpO214VXRpbHMucG9zdChhLHRoaXMucG9zdFBhcmFtZXRlck5hbWUrIj0iK2IsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYyl7dGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5QT1NULCJyZXF1ZXN0IixjLCJ1cmwiLGEsImRhdGEiLGIpKX0pKX07bXhFZGl0b3IucHJvdG90eXBlLndyaXRlR3JhcGhNb2RlbD1mdW5jdGlvbihhKXthPW51bGwhPWE/YTp0aGlzLmxpbmVmZWVkO3ZhciBiPShuZXcgbXhDb2RlYykuZW5jb2RlKHRoaXMuZ3JhcGguZ2V0TW9kZWwoKSk7cmV0dXJuIG14VXRpbHMuZ2V0WG1sKGIsYSl9O214RWRpdG9yLnByb3RvdHlwZS5nZXRVcmxQb3N0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudXJsUG9zdH07bXhFZGl0b3IucHJvdG90eXBlLmdldFVybEltYWdlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudXJsSW1hZ2V9OwpteEVkaXRvci5wcm90b3R5cGUuc3dhcFN0eWxlcz1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZ3JhcGguZ2V0U3R5bGVzaGVldCgpLnN0eWxlc1tiXTt0aGlzLmdyYXBoLmdldFZpZXcoKS5nZXRTdHlsZXNoZWV0KCkucHV0Q2VsbFN0eWxlKGIsdGhpcy5ncmFwaC5nZXRTdHlsZXNoZWV0KCkuc3R5bGVzW2FdKTt0aGlzLmdyYXBoLmdldFN0eWxlc2hlZXQoKS5wdXRDZWxsU3R5bGUoYSxjKTt0aGlzLmdyYXBoLnJlZnJlc2goKX07Cm14RWRpdG9yLnByb3RvdHlwZS5zaG93UHJvcGVydGllcz1mdW5jdGlvbihhKXthPWF8fHRoaXMuZ3JhcGguZ2V0U2VsZWN0aW9uQ2VsbCgpO251bGw9PWEmJihhPXRoaXMuZ3JhcGguZ2V0Q3VycmVudFJvb3QoKSxudWxsPT1hJiYoYT10aGlzLmdyYXBoLmdldE1vZGVsKCkuZ2V0Um9vdCgpKSk7aWYobnVsbCE9YSl7dGhpcy5ncmFwaC5zdG9wRWRpdGluZyghMCk7dmFyIGI9bXhVdGlscy5nZXRPZmZzZXQodGhpcy5ncmFwaC5jb250YWluZXIpLGM9Yi54KzEwLGI9Yi55O2lmKG51bGw9PXRoaXMucHJvcGVydGllc3x8dGhpcy5tb3ZlUHJvcGVydGllc0RpYWxvZyl7dmFyIGQ9dGhpcy5ncmFwaC5nZXRDZWxsQm91bmRzKGEpO251bGwhPWQmJihjKz1kLngrTWF0aC5taW4oMjAwLGQud2lkdGgpLGIrPWQueSl9ZWxzZSBjPXRoaXMucHJvcGVydGllcy5nZXRYKCksYj10aGlzLnByb3BlcnRpZXMuZ2V0WSgpO3RoaXMuaGlkZVByb3BlcnRpZXMoKTthPXRoaXMuY3JlYXRlUHJvcGVydGllcyhhKTsKbnVsbCE9YSYmKHRoaXMucHJvcGVydGllcz1uZXcgbXhXaW5kb3cobXhSZXNvdXJjZXMuZ2V0KHRoaXMucHJvcGVydGllc1Jlc291cmNlKXx8dGhpcy5wcm9wZXJ0aWVzUmVzb3VyY2UsYSxjLGIsdGhpcy5wcm9wZXJ0aWVzV2lkdGgsdGhpcy5wcm9wZXJ0aWVzSGVpZ2h0LCExKSx0aGlzLnByb3BlcnRpZXMuc2V0VmlzaWJsZSghMCkpfX07bXhFZGl0b3IucHJvdG90eXBlLmlzUHJvcGVydGllc1Zpc2libGU9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9dGhpcy5wcm9wZXJ0aWVzfTsKbXhFZGl0b3IucHJvdG90eXBlLmNyZWF0ZVByb3BlcnRpZXM9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5ncmFwaC5nZXRNb2RlbCgpLGM9Yi5nZXRWYWx1ZShhKTtpZihteFV0aWxzLmlzTm9kZShjKSl7dmFyIGQ9bmV3IG14Rm9ybSgicHJvcGVydGllcyIpO2QuYWRkVGV4dCgiSUQiLGEuZ2V0SWQoKSkuc2V0QXR0cmlidXRlKCJyZWFkb25seSIsInRydWUiKTt2YXIgZT1udWxsLGY9bnVsbCxnPW51bGwsaz1udWxsLGw9bnVsbDtiLmlzVmVydGV4KGEpJiYoZT1iLmdldEdlb21ldHJ5KGEpLG51bGwhPWUmJihmPWQuYWRkVGV4dCgidG9wIixlLnkpLGc9ZC5hZGRUZXh0KCJsZWZ0IixlLngpLGs9ZC5hZGRUZXh0KCJ3aWR0aCIsZS53aWR0aCksbD1kLmFkZFRleHQoImhlaWdodCIsZS5oZWlnaHQpKSk7Zm9yKHZhciBtPWIuZ2V0U3R5bGUoYSksbj1kLmFkZFRleHQoIlN0eWxlIixtfHwiIikscD1jLmF0dHJpYnV0ZXMscT1bXSxjPTA7YzxwLmxlbmd0aDtjKyspcVtjXT1kLmFkZFRleHRhcmVhKHBbY10ubm9kZU5hbWUsCnBbY10udmFsdWUsImxhYmVsIj09cFtjXS5ub2RlTmFtZT80OjIpO2M9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt0aGlzLmhpZGVQcm9wZXJ0aWVzKCk7Yi5iZWdpblVwZGF0ZSgpO3RyeXtudWxsIT1lJiYoZT1lLmNsb25lKCksZS54PXBhcnNlRmxvYXQoZy52YWx1ZSksZS55PXBhcnNlRmxvYXQoZi52YWx1ZSksZS53aWR0aD1wYXJzZUZsb2F0KGsudmFsdWUpLGUuaGVpZ2h0PXBhcnNlRmxvYXQobC52YWx1ZSksYi5zZXRHZW9tZXRyeShhLGUpKTswPG4udmFsdWUubGVuZ3RoP2Iuc2V0U3R5bGUoYSxuLnZhbHVlKTpiLnNldFN0eWxlKGEsbnVsbCk7Zm9yKHZhciBjPTA7YzxwLmxlbmd0aDtjKyspe3ZhciBkPW5ldyBteENlbGxBdHRyaWJ1dGVDaGFuZ2UoYSxwW2NdLm5vZGVOYW1lLHFbY10udmFsdWUpO2IuZXhlY3V0ZShkKX10aGlzLmdyYXBoLmlzQXV0b1NpemVDZWxsKGEpJiZ0aGlzLmdyYXBoLnVwZGF0ZUNlbGxTaXplKGEpfWZpbmFsbHl7Yi5lbmRVcGRhdGUoKX19KTsKbT1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMuaGlkZVByb3BlcnRpZXMoKX0pO2QuYWRkQnV0dG9ucyhjLG0pO3JldHVybiBkLnRhYmxlfXJldHVybiBudWxsfTtteEVkaXRvci5wcm90b3R5cGUuaGlkZVByb3BlcnRpZXM9ZnVuY3Rpb24oKXtudWxsIT10aGlzLnByb3BlcnRpZXMmJih0aGlzLnByb3BlcnRpZXMuZGVzdHJveSgpLHRoaXMucHJvcGVydGllcz1udWxsKX07Cm14RWRpdG9yLnByb3RvdHlwZS5zaG93VGFza3M9ZnVuY3Rpb24oKXtpZihudWxsPT10aGlzLnRhc2tzKXt2YXIgYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTthLnN0eWxlLnBhZGRpbmc9IjRweCI7YS5zdHlsZS5wYWRkaW5nTGVmdD0iMjBweCI7dmFyIGI9ZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aCxiPW5ldyBteFdpbmRvdyhteFJlc291cmNlcy5nZXQodGhpcy50YXNrc1Jlc291cmNlKXx8dGhpcy50YXNrc1Jlc291cmNlLGEsYi0yMjAsdGhpcy50YXNrc1RvcCwyMDApO2Iuc2V0Q2xvc2FibGUoITApO2IuZGVzdHJveU9uQ2xvc2U9ITE7dmFyIGM9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYil7bXhFdmVudC5yZWxlYXNlKGEpO2EuaW5uZXJIVE1MPSIiO3RoaXMuY3JlYXRlVGFza3MoYSl9KTt0aGlzLmdyYXBoLmdldE1vZGVsKCkuYWRkTGlzdGVuZXIobXhFdmVudC5DSEFOR0UsYyk7dGhpcy5ncmFwaC5nZXRTZWxlY3Rpb25Nb2RlbCgpLmFkZExpc3RlbmVyKG14RXZlbnQuQ0hBTkdFLApjKTt0aGlzLmdyYXBoLmFkZExpc3RlbmVyKG14RXZlbnQuUk9PVCxjKTtudWxsIT10aGlzLnRhc2tzV2luZG93SW1hZ2UmJmIuc2V0SW1hZ2UodGhpcy50YXNrc1dpbmRvd0ltYWdlKTt0aGlzLnRhc2tzPWI7dGhpcy5jcmVhdGVUYXNrcyhhKX10aGlzLnRhc2tzLnNldFZpc2libGUoITApfTtteEVkaXRvci5wcm90b3R5cGUucmVmcmVzaFRhc2tzPWZ1bmN0aW9uKGEpe251bGwhPXRoaXMudGFza3MmJihhPXRoaXMudGFza3MuY29udGVudCxteEV2ZW50LnJlbGVhc2UoYSksYS5pbm5lckhUTUw9IiIsdGhpcy5jcmVhdGVUYXNrcyhhKSl9O214RWRpdG9yLnByb3RvdHlwZS5jcmVhdGVUYXNrcz1mdW5jdGlvbihhKXt9OwpteEVkaXRvci5wcm90b3R5cGUuc2hvd0hlbHA9ZnVuY3Rpb24oYSl7aWYobnVsbD09dGhpcy5oZWxwKXt2YXIgYj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpZnJhbWUiKTtiLnNldEF0dHJpYnV0ZSgic3JjIixteFJlc291cmNlcy5nZXQoInVybEhlbHAiKXx8dGhpcy51cmxIZWxwKTtiLnNldEF0dHJpYnV0ZSgiaGVpZ2h0IiwiMTAwJSIpO2Iuc2V0QXR0cmlidXRlKCJ3aWR0aCIsIjEwMCUiKTtiLnNldEF0dHJpYnV0ZSgiZnJhbWVCb3JkZXIiLCIwIik7Yi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9IndoaXRlIjthPWRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGg7dmFyIGM9ZG9jdW1lbnQuYm9keS5jbGllbnRIZWlnaHR8fGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQsZD1uZXcgbXhXaW5kb3cobXhSZXNvdXJjZXMuZ2V0KHRoaXMuaGVscFJlc291cmNlKXx8dGhpcy5oZWxwUmVzb3VyY2UsYiwoYS10aGlzLmhlbHBXaWR0aCkvMiwoYy10aGlzLmhlbHBIZWlnaHQpLwozLHRoaXMuaGVscFdpZHRoLHRoaXMuaGVscEhlaWdodCk7ZC5zZXRNYXhpbWl6YWJsZSghMCk7ZC5zZXRDbG9zYWJsZSghMCk7ZC5kZXN0cm95T25DbG9zZT0hMTtkLnNldFJlc2l6YWJsZSghMCk7bnVsbCE9dGhpcy5oZWxwV2luZG93SW1hZ2UmJmQuc2V0SW1hZ2UodGhpcy5oZWxwV2luZG93SW1hZ2UpO214Q2xpZW50LklTX05TJiYoYT1mdW5jdGlvbihhKXtiLnNldEF0dHJpYnV0ZSgiaGVpZ2h0IixkLmRpdi5vZmZzZXRIZWlnaHQtMjYrInB4Iil9LGQuYWRkTGlzdGVuZXIobXhFdmVudC5SRVNJWkVfRU5ELGEpLGQuYWRkTGlzdGVuZXIobXhFdmVudC5NQVhJTUlaRSxhKSxkLmFkZExpc3RlbmVyKG14RXZlbnQuTk9STUFMSVpFLGEpLGQuYWRkTGlzdGVuZXIobXhFdmVudC5TSE9XLGEpKTt0aGlzLmhlbHA9ZH10aGlzLmhlbHAuc2V0VmlzaWJsZSghMCl9OwpteEVkaXRvci5wcm90b3R5cGUuc2hvd091dGxpbmU9ZnVuY3Rpb24oKXtpZihudWxsPT10aGlzLm91dGxpbmUpe3ZhciBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2Euc3R5bGUub3ZlcmZsb3c9ImhpZGRlbiI7YS5zdHlsZS5wb3NpdGlvbj0icmVsYXRpdmUiO2Euc3R5bGUud2lkdGg9IjEwMCUiO2Euc3R5bGUuaGVpZ2h0PSIxMDAlIjthLnN0eWxlLmJhY2tncm91bmQ9IndoaXRlIjthLnN0eWxlLmN1cnNvcj0ibW92ZSI7OD09ZG9jdW1lbnQuZG9jdW1lbnRNb2RlJiYoYS5zdHlsZS5maWx0ZXI9InByb2dpZDpEWEltYWdlVHJhbnNmb3JtLk1pY3Jvc29mdC5hbHBoYShvcGFjaXR5PTEwMCkiKTt2YXIgYj1uZXcgbXhXaW5kb3cobXhSZXNvdXJjZXMuZ2V0KHRoaXMub3V0bGluZVJlc291cmNlKXx8dGhpcy5vdXRsaW5lUmVzb3VyY2UsYSw2MDAsNDgwLDIwMCwyMDAsITEpLGM9bmV3IG14T3V0bGluZSh0aGlzLmdyYXBoLGEpO2Iuc2V0Q2xvc2FibGUoITApO2Iuc2V0UmVzaXphYmxlKCEwKTsKYi5kZXN0cm95T25DbG9zZT0hMTtiLmFkZExpc3RlbmVyKG14RXZlbnQuUkVTSVpFX0VORCxmdW5jdGlvbigpe2MudXBkYXRlKCl9KTt0aGlzLm91dGxpbmU9Yjt0aGlzLm91dGxpbmUub3V0bGluZT1jfXRoaXMub3V0bGluZS5zZXRWaXNpYmxlKCEwKTt0aGlzLm91dGxpbmUub3V0bGluZS51cGRhdGUoITApfTtteEVkaXRvci5wcm90b3R5cGUuc2V0TW9kZT1mdW5jdGlvbihhKXsic2VsZWN0Ij09YT8odGhpcy5ncmFwaC5wYW5uaW5nSGFuZGxlci51c2VMZWZ0QnV0dG9uRm9yUGFubmluZz0hMSx0aGlzLmdyYXBoLnNldENvbm5lY3RhYmxlKCExKSk6ImNvbm5lY3QiPT1hPyh0aGlzLmdyYXBoLnBhbm5pbmdIYW5kbGVyLnVzZUxlZnRCdXR0b25Gb3JQYW5uaW5nPSExLHRoaXMuZ3JhcGguc2V0Q29ubmVjdGFibGUoITApKToicGFuIj09YSYmKHRoaXMuZ3JhcGgucGFubmluZ0hhbmRsZXIudXNlTGVmdEJ1dHRvbkZvclBhbm5pbmc9ITAsdGhpcy5ncmFwaC5zZXRDb25uZWN0YWJsZSghMSkpfTsKbXhFZGl0b3IucHJvdG90eXBlLmNyZWF0ZVBvcHVwTWVudT1mdW5jdGlvbihhLGIsYyl7dGhpcy5wb3B1cEhhbmRsZXIuY3JlYXRlTWVudSh0aGlzLGEsYixjKX07bXhFZGl0b3IucHJvdG90eXBlLmNyZWF0ZUVkZ2U9ZnVuY3Rpb24oYSxiKXt2YXIgYztpZihudWxsIT10aGlzLmRlZmF1bHRFZGdlKWM9dGhpcy5ncmFwaC5nZXRNb2RlbCgpLmNsb25lQ2VsbCh0aGlzLmRlZmF1bHRFZGdlKTtlbHNle2M9bmV3IG14Q2VsbCgiIik7Yy5zZXRFZGdlKCEwKTt2YXIgZD1uZXcgbXhHZW9tZXRyeTtkLnJlbGF0aXZlPSEwO2Muc2V0R2VvbWV0cnkoZCl9ZD10aGlzLmdldEVkZ2VTdHlsZSgpO251bGwhPWQmJmMuc2V0U3R5bGUoZCk7cmV0dXJuIGN9O214RWRpdG9yLnByb3RvdHlwZS5nZXRFZGdlU3R5bGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kZWZhdWx0RWRnZVN0eWxlfTsKbXhFZGl0b3IucHJvdG90eXBlLmNvbnN1bWVDeWNsZUF0dHJpYnV0ZT1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9dGhpcy5jeWNsZUF0dHJpYnV0ZVZhbHVlcyYmMDx0aGlzLmN5Y2xlQXR0cmlidXRlVmFsdWVzLmxlbmd0aCYmdGhpcy5ncmFwaC5pc1N3aW1sYW5lKGEpP3RoaXMuY3ljbGVBdHRyaWJ1dGVWYWx1ZXNbdGhpcy5jeWNsZUF0dHJpYnV0ZUluZGV4KysldGhpcy5jeWNsZUF0dHJpYnV0ZVZhbHVlcy5sZW5ndGhdOm51bGx9O214RWRpdG9yLnByb3RvdHlwZS5jeWNsZUF0dHJpYnV0ZT1mdW5jdGlvbihhKXtpZihudWxsIT10aGlzLmN5Y2xlQXR0cmlidXRlTmFtZSl7dmFyIGI9dGhpcy5jb25zdW1lQ3ljbGVBdHRyaWJ1dGUoYSk7bnVsbCE9YiYmYS5zZXRTdHlsZShhLmdldFN0eWxlKCkrIjsiK3RoaXMuY3ljbGVBdHRyaWJ1dGVOYW1lKyI9IitiKX19OwpteEVkaXRvci5wcm90b3R5cGUuYWRkVmVydGV4PWZ1bmN0aW9uKGEsYixjLGQpe2Zvcih2YXIgZT10aGlzLmdyYXBoLmdldE1vZGVsKCk7bnVsbCE9YSYmIXRoaXMuZ3JhcGguaXNWYWxpZERyb3BUYXJnZXQoYSk7KWE9ZS5nZXRQYXJlbnQoYSk7YT1udWxsIT1hP2E6dGhpcy5ncmFwaC5nZXRTd2ltbGFuZUF0KGMsZCk7dmFyIGY9dGhpcy5ncmFwaC5nZXRWaWV3KCkuc2NhbGUsZz1lLmdldEdlb21ldHJ5KGIpLGs9ZS5nZXRHZW9tZXRyeShhKTtpZih0aGlzLmdyYXBoLmlzU3dpbWxhbmUoYikmJiF0aGlzLmdyYXBoLnN3aW1sYW5lTmVzdGluZylhPW51bGw7ZWxzZXtpZihudWxsPT1hJiZ0aGlzLnN3aW1sYW5lUmVxdWlyZWQpcmV0dXJuIG51bGw7aWYobnVsbCE9YSYmbnVsbCE9ayl7dmFyIGw9dGhpcy5ncmFwaC5nZXRWaWV3KCkuZ2V0U3RhdGUoYSk7aWYobnVsbCE9bCl7aWYoYy09bC5vcmlnaW4ueCpmLGQtPWwub3JpZ2luLnkqZix0aGlzLmdyYXBoLmlzQ29uc3RyYWluZWRNb3Zpbmcpe3ZhciBrPQpnLndpZHRoLG09Zy5oZWlnaHQsbj1sLngrbC53aWR0aDtjK2s+biYmKGMtPWMray1uKTtuPWwueStsLmhlaWdodDtkK20+biYmKGQtPWQrbS1uKX19ZWxzZSBudWxsIT1rJiYoYy09ay54KmYsZC09ay55KmYpfX1nPWcuY2xvbmUoKTtnLng9dGhpcy5ncmFwaC5zbmFwKGMvZi10aGlzLmdyYXBoLmdldFZpZXcoKS50cmFuc2xhdGUueC10aGlzLmdyYXBoLmdyaWRTaXplLzIpO2cueT10aGlzLmdyYXBoLnNuYXAoZC9mLXRoaXMuZ3JhcGguZ2V0VmlldygpLnRyYW5zbGF0ZS55LXRoaXMuZ3JhcGguZ3JpZFNpemUvMik7Yi5zZXRHZW9tZXRyeShnKTtudWxsPT1hJiYoYT10aGlzLmdyYXBoLmdldERlZmF1bHRQYXJlbnQoKSk7dGhpcy5jeWNsZUF0dHJpYnV0ZShiKTt0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LkJFRk9SRV9BRERfVkVSVEVYLCJ2ZXJ0ZXgiLGIsInBhcmVudCIsYSkpO2UuYmVnaW5VcGRhdGUoKTt0cnl7Yj10aGlzLmdyYXBoLmFkZENlbGwoYiwKYSksbnVsbCE9YiYmKHRoaXMuZ3JhcGguY29uc3RyYWluQ2hpbGQoYiksdGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5BRERfVkVSVEVYLCJ2ZXJ0ZXgiLGIpKSl9ZmluYWxseXtlLmVuZFVwZGF0ZSgpfW51bGwhPWImJih0aGlzLmdyYXBoLnNldFNlbGVjdGlvbkNlbGwoYiksdGhpcy5ncmFwaC5zY3JvbGxDZWxsVG9WaXNpYmxlKGIpLHRoaXMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KG14RXZlbnQuQUZURVJfQUREX1ZFUlRFWCwidmVydGV4IixiKSkpO3JldHVybiBifTsKbXhFZGl0b3IucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmRlc3Ryb3llZHx8KHRoaXMuZGVzdHJveWVkPSEwLG51bGwhPXRoaXMudGFza3MmJnRoaXMudGFza3MuZGVzdHJveSgpLG51bGwhPXRoaXMub3V0bGluZSYmdGhpcy5vdXRsaW5lLmRlc3Ryb3koKSxudWxsIT10aGlzLnByb3BlcnRpZXMmJnRoaXMucHJvcGVydGllcy5kZXN0cm95KCksbnVsbCE9dGhpcy5rZXlIYW5kbGVyJiZ0aGlzLmtleUhhbmRsZXIuZGVzdHJveSgpLG51bGwhPXRoaXMucnViYmVyYmFuZCYmdGhpcy5ydWJiZXJiYW5kLmRlc3Ryb3koKSxudWxsIT10aGlzLnRvb2xiYXImJnRoaXMudG9vbGJhci5kZXN0cm95KCksbnVsbCE9dGhpcy5ncmFwaCYmdGhpcy5ncmFwaC5kZXN0cm95KCksdGhpcy50ZW1wbGF0ZXM9dGhpcy5zdGF0dXM9bnVsbCl9Owp2YXIgbXhDb2RlY1JlZ2lzdHJ5PXtjb2RlY3M6W10sYWxpYXNlczpbXSxyZWdpc3RlcjpmdW5jdGlvbihhKXtpZihudWxsIT1hKXt2YXIgYj1hLmdldE5hbWUoKTtteENvZGVjUmVnaXN0cnkuY29kZWNzW2JdPWE7dmFyIGM9bXhVdGlscy5nZXRGdW5jdGlvbk5hbWUoYS50ZW1wbGF0ZS5jb25zdHJ1Y3Rvcik7YyE9YiYmbXhDb2RlY1JlZ2lzdHJ5LmFkZEFsaWFzKGMsYil9cmV0dXJuIGF9LGFkZEFsaWFzOmZ1bmN0aW9uKGEsYil7bXhDb2RlY1JlZ2lzdHJ5LmFsaWFzZXNbYV09Yn0sZ2V0Q29kZWM6ZnVuY3Rpb24oYSl7dmFyIGI9bnVsbDtpZihudWxsIT1hKXt2YXIgYj1teFV0aWxzLmdldEZ1bmN0aW9uTmFtZShhKSxjPW14Q29kZWNSZWdpc3RyeS5hbGlhc2VzW2JdO251bGwhPWMmJihiPWMpO2I9bXhDb2RlY1JlZ2lzdHJ5LmNvZGVjc1tiXTtpZihudWxsPT1iKXRyeXtiPW5ldyBteE9iamVjdENvZGVjKG5ldyBhKSxteENvZGVjUmVnaXN0cnkucmVnaXN0ZXIoYil9Y2F0Y2goZCl7fX1yZXR1cm4gYn19OwpmdW5jdGlvbiBteENvZGVjKGEpe3RoaXMuZG9jdW1lbnQ9YXx8bXhVdGlscy5jcmVhdGVYbWxEb2N1bWVudCgpO3RoaXMub2JqZWN0cz1bXX1teENvZGVjLnByb3RvdHlwZS5kb2N1bWVudD1udWxsO214Q29kZWMucHJvdG90eXBlLm9iamVjdHM9bnVsbDtteENvZGVjLnByb3RvdHlwZS5lbGVtZW50cz1udWxsO214Q29kZWMucHJvdG90eXBlLmVuY29kZURlZmF1bHRzPSExO214Q29kZWMucHJvdG90eXBlLnB1dE9iamVjdD1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLm9iamVjdHNbYV09Yn07bXhDb2RlYy5wcm90b3R5cGUuZ2V0T2JqZWN0PWZ1bmN0aW9uKGEpe3ZhciBiPW51bGw7bnVsbCE9YSYmKGI9dGhpcy5vYmplY3RzW2FdLG51bGw9PWImJihiPXRoaXMubG9va3VwKGEpLG51bGw9PWImJihhPXRoaXMuZ2V0RWxlbWVudEJ5SWQoYSksbnVsbCE9YSYmKGI9dGhpcy5kZWNvZGUoYSkpKSkpO3JldHVybiBifTtteENvZGVjLnByb3RvdHlwZS5sb29rdXA9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGx9OwpteENvZGVjLnByb3RvdHlwZS5nZXRFbGVtZW50QnlJZD1mdW5jdGlvbihhKXt0aGlzLnVwZGF0ZUVsZW1lbnRzKCk7cmV0dXJuIHRoaXMuZWxlbWVudHNbYV19O214Q29kZWMucHJvdG90eXBlLnVwZGF0ZUVsZW1lbnRzPWZ1bmN0aW9uKCl7bnVsbD09dGhpcy5lbGVtZW50cyYmKHRoaXMuZWxlbWVudHM9e30sbnVsbCE9dGhpcy5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQmJnRoaXMuYWRkRWxlbWVudCh0aGlzLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkpfTsKbXhDb2RlYy5wcm90b3R5cGUuYWRkRWxlbWVudD1mdW5jdGlvbihhKXtpZihhLm5vZGVUeXBlPT1teENvbnN0YW50cy5OT0RFVFlQRV9FTEVNRU5UKXt2YXIgYj1hLmdldEF0dHJpYnV0ZSgiaWQiKTtpZihudWxsIT1iKWlmKG51bGw9PXRoaXMuZWxlbWVudHNbYl0pdGhpcy5lbGVtZW50c1tiXT1hO2Vsc2UgaWYodGhpcy5lbGVtZW50c1tiXSE9YSl0aHJvdyBFcnJvcihiKyI6IER1cGxpY2F0ZSBJRCIpO31mb3IoYT1hLmZpcnN0Q2hpbGQ7bnVsbCE9YTspdGhpcy5hZGRFbGVtZW50KGEpLGE9YS5uZXh0U2libGluZ307bXhDb2RlYy5wcm90b3R5cGUuZ2V0SWQ9ZnVuY3Rpb24oYSl7dmFyIGI9bnVsbDtudWxsIT1hJiYoYj10aGlzLnJlZmVyZW5jZShhKSxudWxsPT1iJiZhIGluc3RhbmNlb2YgbXhDZWxsJiYoYj1hLmdldElkKCksbnVsbD09YiYmKGI9bXhDZWxsUGF0aC5jcmVhdGUoYSksMD09Yi5sZW5ndGgmJihiPSJyb290IikpKSk7cmV0dXJuIGJ9OwpteENvZGVjLnByb3RvdHlwZS5yZWZlcmVuY2U9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGx9O214Q29kZWMucHJvdG90eXBlLmVuY29kZT1mdW5jdGlvbihhKXt2YXIgYj1udWxsO2lmKG51bGwhPWEmJm51bGwhPWEuY29uc3RydWN0b3Ipe3ZhciBjPW14Q29kZWNSZWdpc3RyeS5nZXRDb2RlYyhhLmNvbnN0cnVjdG9yKTtudWxsIT1jP2I9Yy5lbmNvZGUodGhpcyxhKTpteFV0aWxzLmlzTm9kZShhKT9iPW14VXRpbHMuaW1wb3J0Tm9kZSh0aGlzLmRvY3VtZW50LGEsITApOm14TG9nLndhcm4oIm14Q29kZWMuZW5jb2RlOiBObyBjb2RlYyBmb3IgIitteFV0aWxzLmdldEZ1bmN0aW9uTmFtZShhLmNvbnN0cnVjdG9yKSl9cmV0dXJuIGJ9OwpteENvZGVjLnByb3RvdHlwZS5kZWNvZGU9ZnVuY3Rpb24oYSxiKXt0aGlzLnVwZGF0ZUVsZW1lbnRzKCk7dmFyIGM9bnVsbDtpZihudWxsIT1hJiZhLm5vZGVUeXBlPT1teENvbnN0YW50cy5OT0RFVFlQRV9FTEVNRU5UKXtjPW51bGw7dHJ5e2M9d2luZG93W2Eubm9kZU5hbWVdfWNhdGNoKGQpe31jPW14Q29kZWNSZWdpc3RyeS5nZXRDb2RlYyhjKTtudWxsIT1jP2M9Yy5kZWNvZGUodGhpcyxhLGIpOihjPWEuY2xvbmVOb2RlKCEwKSxjLnJlbW92ZUF0dHJpYnV0ZSgiYXMiKSl9cmV0dXJuIGN9O214Q29kZWMucHJvdG90eXBlLmVuY29kZUNlbGw9ZnVuY3Rpb24oYSxiLGMpe2IuYXBwZW5kQ2hpbGQodGhpcy5lbmNvZGUoYSkpO2lmKG51bGw9PWN8fGMpe2M9YS5nZXRDaGlsZENvdW50KCk7Zm9yKHZhciBkPTA7ZDxjO2QrKyl0aGlzLmVuY29kZUNlbGwoYS5nZXRDaGlsZEF0KGQpLGIpfX07Cm14Q29kZWMucHJvdG90eXBlLmlzQ2VsbENvZGVjPWZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hJiYiZnVuY3Rpb24iPT10eXBlb2YgYS5pc0NlbGxDb2RlYz9hLmlzQ2VsbENvZGVjKCk6ITF9O214Q29kZWMucHJvdG90eXBlLmRlY29kZUNlbGw9ZnVuY3Rpb24oYSxiKXtiPW51bGwhPWI/YjohMDt2YXIgYz1udWxsO2lmKG51bGwhPWEmJmEubm9kZVR5cGU9PW14Q29uc3RhbnRzLk5PREVUWVBFX0VMRU1FTlQpe2M9bXhDb2RlY1JlZ2lzdHJ5LmdldENvZGVjKGEubm9kZU5hbWUpO2lmKCF0aGlzLmlzQ2VsbENvZGVjKGMpKWZvcih2YXIgZD1hLmZpcnN0Q2hpbGQ7bnVsbCE9ZCYmIXRoaXMuaXNDZWxsQ29kZWMoYyk7KWM9bXhDb2RlY1JlZ2lzdHJ5LmdldENvZGVjKGQubm9kZU5hbWUpLGQ9ZC5uZXh0U2libGluZzt0aGlzLmlzQ2VsbENvZGVjKGMpfHwoYz1teENvZGVjUmVnaXN0cnkuZ2V0Q29kZWMobXhDZWxsKSk7Yz1jLmRlY29kZSh0aGlzLGEpO2ImJnRoaXMuaW5zZXJ0SW50b0dyYXBoKGMpfXJldHVybiBjfTsKbXhDb2RlYy5wcm90b3R5cGUuaW5zZXJ0SW50b0dyYXBoPWZ1bmN0aW9uKGEpe3ZhciBiPWEucGFyZW50LGM9YS5nZXRUZXJtaW5hbCghMCksZD1hLmdldFRlcm1pbmFsKCExKTthLnNldFRlcm1pbmFsKG51bGwsITEpO2Euc2V0VGVybWluYWwobnVsbCwhMCk7YS5wYXJlbnQ9bnVsbDtpZihudWxsIT1iKXtpZihiPT1hKXRocm93IEVycm9yKGIuaWQrIjogU2VsZiBSZWZlcmVuY2UiKTtiLmluc2VydChhKX1udWxsIT1jJiZjLmluc2VydEVkZ2UoYSwhMCk7bnVsbCE9ZCYmZC5pbnNlcnRFZGdlKGEsITEpfTtteENvZGVjLnByb3RvdHlwZS5zZXRBdHRyaWJ1dGU9ZnVuY3Rpb24oYSxiLGMpe251bGwhPWImJm51bGwhPWMmJmEuc2V0QXR0cmlidXRlKGIsYyl9OwpmdW5jdGlvbiBteE9iamVjdENvZGVjKGEsYixjLGQpe3RoaXMudGVtcGxhdGU9YTt0aGlzLmV4Y2x1ZGU9bnVsbCE9Yj9iOltdO3RoaXMuaWRyZWZzPW51bGwhPWM/YzpbXTt0aGlzLm1hcHBpbmc9bnVsbCE9ZD9kOltdO3RoaXMucmV2ZXJzZT17fTtmb3IodmFyIGUgaW4gdGhpcy5tYXBwaW5nKXRoaXMucmV2ZXJzZVt0aGlzLm1hcHBpbmdbZV1dPWV9bXhPYmplY3RDb2RlYy5hbGxvd0V2YWw9ITE7bXhPYmplY3RDb2RlYy5wcm90b3R5cGUudGVtcGxhdGU9bnVsbDtteE9iamVjdENvZGVjLnByb3RvdHlwZS5leGNsdWRlPW51bGw7bXhPYmplY3RDb2RlYy5wcm90b3R5cGUuaWRyZWZzPW51bGw7bXhPYmplY3RDb2RlYy5wcm90b3R5cGUubWFwcGluZz1udWxsO214T2JqZWN0Q29kZWMucHJvdG90eXBlLnJldmVyc2U9bnVsbDtteE9iamVjdENvZGVjLnByb3RvdHlwZS5nZXROYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIG14VXRpbHMuZ2V0RnVuY3Rpb25OYW1lKHRoaXMudGVtcGxhdGUuY29uc3RydWN0b3IpfTsKbXhPYmplY3RDb2RlYy5wcm90b3R5cGUuY2xvbmVUZW1wbGF0ZT1mdW5jdGlvbigpe3JldHVybiBuZXcgdGhpcy50ZW1wbGF0ZS5jb25zdHJ1Y3Rvcn07bXhPYmplY3RDb2RlYy5wcm90b3R5cGUuZ2V0RmllbGROYW1lPWZ1bmN0aW9uKGEpe2lmKG51bGwhPWEpe3ZhciBiPXRoaXMucmV2ZXJzZVthXTtudWxsIT1iJiYoYT1iKX1yZXR1cm4gYX07bXhPYmplY3RDb2RlYy5wcm90b3R5cGUuZ2V0QXR0cmlidXRlTmFtZT1mdW5jdGlvbihhKXtpZihudWxsIT1hKXt2YXIgYj10aGlzLm1hcHBpbmdbYV07bnVsbCE9YiYmKGE9Yil9cmV0dXJuIGF9O214T2JqZWN0Q29kZWMucHJvdG90eXBlLmlzRXhjbHVkZWQ9ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuIGI9PW14T2JqZWN0SWRlbnRpdHkuRklFTERfTkFNRXx8MDw9bXhVdGlscy5pbmRleE9mKHRoaXMuZXhjbHVkZSxiKX07Cm14T2JqZWN0Q29kZWMucHJvdG90eXBlLmlzUmVmZXJlbmNlPWZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiAwPD1teFV0aWxzLmluZGV4T2YodGhpcy5pZHJlZnMsYil9O214T2JqZWN0Q29kZWMucHJvdG90eXBlLmVuY29kZT1mdW5jdGlvbihhLGIpe3ZhciBjPWEuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0aGlzLmdldE5hbWUoKSk7Yj10aGlzLmJlZm9yZUVuY29kZShhLGIsYyk7dGhpcy5lbmNvZGVPYmplY3QoYSxiLGMpO3JldHVybiB0aGlzLmFmdGVyRW5jb2RlKGEsYixjKX07bXhPYmplY3RDb2RlYy5wcm90b3R5cGUuZW5jb2RlT2JqZWN0PWZ1bmN0aW9uKGEsYixjKXthLnNldEF0dHJpYnV0ZShjLCJpZCIsYS5nZXRJZChiKSk7Zm9yKHZhciBkIGluIGIpe3ZhciBlPWQsZj1iW2VdO251bGw9PWZ8fHRoaXMuaXNFeGNsdWRlZChiLGUsZiwhMCl8fChteFV0aWxzLmlzSW50ZWdlcihlKSYmKGU9bnVsbCksdGhpcy5lbmNvZGVWYWx1ZShhLGIsZSxmLGMpKX19OwpteE9iamVjdENvZGVjLnByb3RvdHlwZS5lbmNvZGVWYWx1ZT1mdW5jdGlvbihhLGIsYyxkLGUpe2lmKG51bGwhPWQpe2lmKHRoaXMuaXNSZWZlcmVuY2UoYixjLGQsITApKXt2YXIgZj1hLmdldElkKGQpO2lmKG51bGw9PWYpe214TG9nLndhcm4oIm14T2JqZWN0Q29kZWMuZW5jb2RlOiBObyBJRCBmb3IgIit0aGlzLmdldE5hbWUoKSsiLiIrYysiPSIrZCk7cmV0dXJufWQ9Zn1mPXRoaXMudGVtcGxhdGVbY107aWYobnVsbD09Y3x8YS5lbmNvZGVEZWZhdWx0c3x8ZiE9ZCljPXRoaXMuZ2V0QXR0cmlidXRlTmFtZShjKSx0aGlzLndyaXRlQXR0cmlidXRlKGEsYixjLGQsZSl9fTtteE9iamVjdENvZGVjLnByb3RvdHlwZS53cml0ZUF0dHJpYnV0ZT1mdW5jdGlvbihhLGIsYyxkLGUpeyJvYmplY3QiIT10eXBlb2YgZD90aGlzLndyaXRlUHJpbWl0aXZlQXR0cmlidXRlKGEsYixjLGQsZSk6dGhpcy53cml0ZUNvbXBsZXhBdHRyaWJ1dGUoYSxiLGMsZCxlKX07Cm14T2JqZWN0Q29kZWMucHJvdG90eXBlLndyaXRlUHJpbWl0aXZlQXR0cmlidXRlPWZ1bmN0aW9uKGEsYixjLGQsZSl7ZD10aGlzLmNvbnZlcnRBdHRyaWJ1dGVUb1htbChhLGIsYyxkLGUpO251bGw9PWM/KGI9YS5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhZGQiKSwiZnVuY3Rpb24iPT10eXBlb2YgZD9iLmFwcGVuZENoaWxkKGEuZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoZCkpOmEuc2V0QXR0cmlidXRlKGIsInZhbHVlIixkKSxlLmFwcGVuZENoaWxkKGIpKToiZnVuY3Rpb24iIT10eXBlb2YgZCYmYS5zZXRBdHRyaWJ1dGUoZSxjLGQpfTsKbXhPYmplY3RDb2RlYy5wcm90b3R5cGUud3JpdGVDb21wbGV4QXR0cmlidXRlPWZ1bmN0aW9uKGEsYixjLGQsZSl7YT1hLmVuY29kZShkKTtudWxsIT1hPyhudWxsIT1jJiZhLnNldEF0dHJpYnV0ZSgiYXMiLGMpLGUuYXBwZW5kQ2hpbGQoYSkpOm14TG9nLndhcm4oIm14T2JqZWN0Q29kZWMuZW5jb2RlOiBObyBub2RlIGZvciAiK3RoaXMuZ2V0TmFtZSgpKyIuIitjKyI6ICIrZCl9O214T2JqZWN0Q29kZWMucHJvdG90eXBlLmNvbnZlcnRBdHRyaWJ1dGVUb1htbD1mdW5jdGlvbihhLGIsYyxkKXt0aGlzLmlzQm9vbGVhbkF0dHJpYnV0ZShhLGIsYyxkKSYmKGQ9MT09ZD8iMSI6IjAiKTtyZXR1cm4gZH07bXhPYmplY3RDb2RlYy5wcm90b3R5cGUuaXNCb29sZWFuQXR0cmlidXRlPWZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiJ1bmRlZmluZWQiPT10eXBlb2YgZC5sZW5ndGgmJigxPT1kfHwwPT1kKX07Cm14T2JqZWN0Q29kZWMucHJvdG90eXBlLmNvbnZlcnRBdHRyaWJ1dGVGcm9tWG1sPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1iLnZhbHVlO3RoaXMuaXNOdW1lcmljQXR0cmlidXRlKGEsYixjKSYmKGQ9cGFyc2VGbG9hdChkKSxpc05hTihkKXx8IWlzRmluaXRlKGQpKSYmKGQ9MCk7cmV0dXJuIGR9O214T2JqZWN0Q29kZWMucHJvdG90eXBlLmlzTnVtZXJpY0F0dHJpYnV0ZT1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIGMuY29uc3RydWN0b3I9PW14R2VvbWV0cnkmJigieCI9PWIubmFtZXx8InkiPT1iLm5hbWV8fCJ3aWR0aCI9PWIubmFtZXx8ImhlaWdodCI9PWIubmFtZSl8fGMuY29uc3RydWN0b3I9PW14UG9pbnQmJigieCI9PWIubmFtZXx8InkiPT1iLm5hbWUpfHxteFV0aWxzLmlzTnVtZXJpYyhiLnZhbHVlKX07bXhPYmplY3RDb2RlYy5wcm90b3R5cGUuYmVmb3JlRW5jb2RlPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gYn07Cm14T2JqZWN0Q29kZWMucHJvdG90eXBlLmFmdGVyRW5jb2RlPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gY307bXhPYmplY3RDb2RlYy5wcm90b3R5cGUuZGVjb2RlPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1iLmdldEF0dHJpYnV0ZSgiaWQiKSxlPWEub2JqZWN0c1tkXTtudWxsPT1lJiYoZT1jfHx0aGlzLmNsb25lVGVtcGxhdGUoKSxudWxsIT1kJiZhLnB1dE9iamVjdChkLGUpKTtiPXRoaXMuYmVmb3JlRGVjb2RlKGEsYixlKTt0aGlzLmRlY29kZU5vZGUoYSxiLGUpO3JldHVybiB0aGlzLmFmdGVyRGVjb2RlKGEsYixlKX07bXhPYmplY3RDb2RlYy5wcm90b3R5cGUuZGVjb2RlTm9kZT1mdW5jdGlvbihhLGIsYyl7bnVsbCE9YiYmKHRoaXMuZGVjb2RlQXR0cmlidXRlcyhhLGIsYyksdGhpcy5kZWNvZGVDaGlsZHJlbihhLGIsYykpfTsKbXhPYmplY3RDb2RlYy5wcm90b3R5cGUuZGVjb2RlQXR0cmlidXRlcz1mdW5jdGlvbihhLGIsYyl7Yj1iLmF0dHJpYnV0ZXM7aWYobnVsbCE9Yilmb3IodmFyIGQ9MDtkPGIubGVuZ3RoO2QrKyl0aGlzLmRlY29kZUF0dHJpYnV0ZShhLGJbZF0sYyl9O214T2JqZWN0Q29kZWMucHJvdG90eXBlLmlzSWdub3JlZEF0dHJpYnV0ZT1mdW5jdGlvbihhLGIsYyl7cmV0dXJuImFzIj09Yi5ub2RlTmFtZXx8ImlkIj09Yi5ub2RlTmFtZX07Cm14T2JqZWN0Q29kZWMucHJvdG90eXBlLmRlY29kZUF0dHJpYnV0ZT1mdW5jdGlvbihhLGIsYyl7aWYoIXRoaXMuaXNJZ25vcmVkQXR0cmlidXRlKGEsYixjKSl7dmFyIGQ9Yi5ub2RlTmFtZTtiPXRoaXMuY29udmVydEF0dHJpYnV0ZUZyb21YbWwoYSxiLGMpO3ZhciBlPXRoaXMuZ2V0RmllbGROYW1lKGQpO2lmKHRoaXMuaXNSZWZlcmVuY2UoYyxlLGIsITEpKXthPWEuZ2V0T2JqZWN0KGIpO2lmKG51bGw9PWEpe214TG9nLndhcm4oIm14T2JqZWN0Q29kZWMuZGVjb2RlOiBObyBvYmplY3QgZm9yICIrdGhpcy5nZXROYW1lKCkrIi4iK2QrIj0iK2IpO3JldHVybn1iPWF9dGhpcy5pc0V4Y2x1ZGVkKGMsZCxiLCExKXx8KGNbZF09Yil9fTsKbXhPYmplY3RDb2RlYy5wcm90b3R5cGUuZGVjb2RlQ2hpbGRyZW49ZnVuY3Rpb24oYSxiLGMpe2ZvcihiPWIuZmlyc3RDaGlsZDtudWxsIT1iOyl7dmFyIGQ9Yi5uZXh0U2libGluZztiLm5vZGVUeXBlIT1teENvbnN0YW50cy5OT0RFVFlQRV9FTEVNRU5UfHx0aGlzLnByb2Nlc3NJbmNsdWRlKGEsYixjKXx8dGhpcy5kZWNvZGVDaGlsZChhLGIsYyk7Yj1kfX07Cm14T2JqZWN0Q29kZWMucHJvdG90eXBlLmRlY29kZUNoaWxkPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLmdldEZpZWxkTmFtZShiLmdldEF0dHJpYnV0ZSgiYXMiKSk7aWYobnVsbD09ZHx8IXRoaXMuaXNFeGNsdWRlZChjLGQsYiwhMSkpe3ZhciBlPXRoaXMuZ2V0RmllbGRUZW1wbGF0ZShjLGQsYik7ImFkZCI9PWIubm9kZU5hbWU/KGE9Yi5nZXRBdHRyaWJ1dGUoInZhbHVlIiksbnVsbD09YSYmbXhPYmplY3RDb2RlYy5hbGxvd0V2YWwmJihhPW14VXRpbHMuZXZhbChteFV0aWxzLmdldFRleHRDb250ZW50KGIpKSkpOmE9YS5kZWNvZGUoYixlKTt0cnl7dGhpcy5hZGRPYmplY3RWYWx1ZShjLGQsYSxlKX1jYXRjaChmKXt0aHJvdyBFcnJvcihmLm1lc3NhZ2UrIiBmb3IgIitiLm5vZGVOYW1lKTt9fX07Cm14T2JqZWN0Q29kZWMucHJvdG90eXBlLmdldEZpZWxkVGVtcGxhdGU9ZnVuY3Rpb24oYSxiLGMpe2E9YVtiXTthIGluc3RhbmNlb2YgQXJyYXkmJjA8YS5sZW5ndGgmJihhPW51bGwpO3JldHVybiBhfTtteE9iamVjdENvZGVjLnByb3RvdHlwZS5hZGRPYmplY3RWYWx1ZT1mdW5jdGlvbihhLGIsYyxkKXtudWxsIT1jJiZjIT1kJiYobnVsbCE9YiYmMDxiLmxlbmd0aD9hW2JdPWM6YS5wdXNoKGMpKX07bXhPYmplY3RDb2RlYy5wcm90b3R5cGUucHJvY2Vzc0luY2x1ZGU9ZnVuY3Rpb24oYSxiLGMpe2lmKCJpbmNsdWRlIj09Yi5ub2RlTmFtZSl7Yj1iLmdldEF0dHJpYnV0ZSgibmFtZSIpO2lmKG51bGwhPWIpdHJ5e3ZhciBkPW14VXRpbHMubG9hZChiKS5nZXREb2N1bWVudEVsZW1lbnQoKTtudWxsIT1kJiZhLmRlY29kZShkLGMpfWNhdGNoKGUpe31yZXR1cm4hMH1yZXR1cm4hMX07bXhPYmplY3RDb2RlYy5wcm90b3R5cGUuYmVmb3JlRGVjb2RlPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gYn07Cm14T2JqZWN0Q29kZWMucHJvdG90eXBlLmFmdGVyRGVjb2RlPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gY307Cm14Q29kZWNSZWdpc3RyeS5yZWdpc3RlcihmdW5jdGlvbigpe3ZhciBhPW5ldyBteE9iamVjdENvZGVjKG5ldyBteENlbGwsWyJjaGlsZHJlbiIsImVkZ2VzIiwib3ZlcmxheXMiLCJteFRyYW5zaWVudCJdLFsicGFyZW50Iiwic291cmNlIiwidGFyZ2V0Il0pO2EuaXNDZWxsQ29kZWM9ZnVuY3Rpb24oKXtyZXR1cm4hMH07YS5pc051bWVyaWNBdHRyaWJ1dGU9ZnVuY3Rpb24oYSxjLGQpe3JldHVybiJ2YWx1ZSIhPT1jLm5vZGVOYW1lJiZteE9iamVjdENvZGVjLnByb3RvdHlwZS5pc051bWVyaWNBdHRyaWJ1dGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfTthLmlzRXhjbHVkZWQ9ZnVuY3Rpb24oYSxjLGQsZSl7cmV0dXJuIG14T2JqZWN0Q29kZWMucHJvdG90eXBlLmlzRXhjbHVkZWQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHxlJiYidmFsdWUiPT1jJiZkLm5vZGVUeXBlPT1teENvbnN0YW50cy5OT0RFVFlQRV9FTEVNRU5UfTthLmFmdGVyRW5jb2RlPWZ1bmN0aW9uKGEsYyxkKXtpZihudWxsIT0KYy52YWx1ZSYmYy52YWx1ZS5ub2RlVHlwZT09bXhDb25zdGFudHMuTk9ERVRZUEVfRUxFTUVOVCl7dmFyIGI9ZDtkPW14VXRpbHMuaW1wb3J0Tm9kZShhLmRvY3VtZW50LGMudmFsdWUsITApO2QuYXBwZW5kQ2hpbGQoYik7YT1iLmdldEF0dHJpYnV0ZSgiaWQiKTtkLnNldEF0dHJpYnV0ZSgiaWQiLGEpO2IucmVtb3ZlQXR0cmlidXRlKCJpZCIpfXJldHVybiBkfTthLmJlZm9yZURlY29kZT1mdW5jdGlvbihhLGMsZCl7dmFyIGI9Yy5jbG9uZU5vZGUoITApLGY9dGhpcy5nZXROYW1lKCk7Yy5ub2RlTmFtZSE9Zj8oYj1jLmdldEVsZW1lbnRzQnlUYWdOYW1lKGYpWzBdLG51bGwhPWImJmIucGFyZW50Tm9kZT09Yz8obXhVdGlscy5yZW1vdmVXaGl0ZXNwYWNlKGIsITApLG14VXRpbHMucmVtb3ZlV2hpdGVzcGFjZShiLCExKSxiLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYikpOmI9bnVsbCxkLnZhbHVlPWMuY2xvbmVOb2RlKCEwKSxjPWQudmFsdWUuZ2V0QXR0cmlidXRlKCJpZCIpLG51bGwhPQpjJiYoZC5zZXRJZChjKSxkLnZhbHVlLnJlbW92ZUF0dHJpYnV0ZSgiaWQiKSkpOmQuc2V0SWQoYy5nZXRBdHRyaWJ1dGUoImlkIikpO2lmKG51bGwhPWIpZm9yKGM9MDtjPHRoaXMuaWRyZWZzLmxlbmd0aDtjKyspe3ZhciBmPXRoaXMuaWRyZWZzW2NdLGc9Yi5nZXRBdHRyaWJ1dGUoZik7aWYobnVsbCE9Zyl7Yi5yZW1vdmVBdHRyaWJ1dGUoZik7dmFyIGs9YS5vYmplY3RzW2ddfHxhLmxvb2t1cChnKTtudWxsPT1rJiYoZz1hLmdldEVsZW1lbnRCeUlkKGcpLG51bGwhPWcmJihrPShteENvZGVjUmVnaXN0cnkuY29kZWNzW2cubm9kZU5hbWVdfHx0aGlzKS5kZWNvZGUoYSxnKSkpO2RbZl09a319cmV0dXJuIGJ9O3JldHVybiBhfSgpKTsKbXhDb2RlY1JlZ2lzdHJ5LnJlZ2lzdGVyKGZ1bmN0aW9uKCl7dmFyIGE9bmV3IG14T2JqZWN0Q29kZWMobmV3IG14R3JhcGhNb2RlbCk7YS5lbmNvZGVPYmplY3Q9ZnVuY3Rpb24oYSxjLGQpe3ZhciBiPWEuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgicm9vdCIpO2EuZW5jb2RlQ2VsbChjLmdldFJvb3QoKSxiKTtkLmFwcGVuZENoaWxkKGIpfTthLmRlY29kZUNoaWxkPWZ1bmN0aW9uKGEsYyxkKXsicm9vdCI9PWMubm9kZU5hbWU/dGhpcy5kZWNvZGVSb290KGEsYyxkKTpteE9iamVjdENvZGVjLnByb3RvdHlwZS5kZWNvZGVDaGlsZC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O2EuZGVjb2RlUm9vdD1mdW5jdGlvbihhLGMsZCl7dmFyIGI9bnVsbDtmb3IoYz1jLmZpcnN0Q2hpbGQ7bnVsbCE9Yzspe3ZhciBmPWEuZGVjb2RlQ2VsbChjKTtudWxsIT1mJiZudWxsPT1mLmdldFBhcmVudCgpJiYoYj1mKTtjPWMubmV4dFNpYmxpbmd9bnVsbCE9YiYmZC5zZXRSb290KGIpfTtyZXR1cm4gYX0oKSk7Cm14Q29kZWNSZWdpc3RyeS5yZWdpc3RlcihmdW5jdGlvbigpe3ZhciBhPW5ldyBteE9iamVjdENvZGVjKG5ldyBteFJvb3RDaGFuZ2UsWyJtb2RlbCIsInByZXZpb3VzIiwicm9vdCJdKTthLmFmdGVyRW5jb2RlPWZ1bmN0aW9uKGEsYyxkKXthLmVuY29kZUNlbGwoYy5yb290LGQpO3JldHVybiBkfTthLmJlZm9yZURlY29kZT1mdW5jdGlvbihhLGMsZCl7aWYobnVsbCE9Yy5maXJzdENoaWxkJiZjLmZpcnN0Q2hpbGQubm9kZVR5cGU9PW14Q29uc3RhbnRzLk5PREVUWVBFX0VMRU1FTlQpe2M9Yy5jbG9uZU5vZGUoITApO3ZhciBiPWMuZmlyc3RDaGlsZDtkLnJvb3Q9YS5kZWNvZGVDZWxsKGIsITEpO2Q9Yi5uZXh0U2libGluZztiLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYik7Zm9yKGI9ZDtudWxsIT1iOylkPWIubmV4dFNpYmxpbmcsYS5kZWNvZGVDZWxsKGIpLGIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChiKSxiPWR9cmV0dXJuIGN9O2EuYWZ0ZXJEZWNvZGU9ZnVuY3Rpb24oYSxjLApkKXtkLnByZXZpb3VzPWQucm9vdDtyZXR1cm4gZH07cmV0dXJuIGF9KCkpOwpteENvZGVjUmVnaXN0cnkucmVnaXN0ZXIoZnVuY3Rpb24oKXt2YXIgYT1uZXcgbXhPYmplY3RDb2RlYyhuZXcgbXhDaGlsZENoYW5nZSxbIm1vZGVsIiwiY2hpbGQiLCJwcmV2aW91c0luZGV4Il0sWyJwYXJlbnQiLCJwcmV2aW91cyJdKTthLmlzUmVmZXJlbmNlPWZ1bmN0aW9uKGEsYyxkLGUpe3JldHVybiJjaGlsZCIhPWN8fGUmJiFhLm1vZGVsLmNvbnRhaW5zKGEucHJldmlvdXMpPzA8PW14VXRpbHMuaW5kZXhPZih0aGlzLmlkcmVmcyxjKTohMH07YS5pc0V4Y2x1ZGVkPWZ1bmN0aW9uKGEsYyxkLGUpe3JldHVybiBteE9iamVjdENvZGVjLnByb3RvdHlwZS5pc0V4Y2x1ZGVkLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8ZSYmbnVsbCE9ZCYmKCJwcmV2aW91cyI9PWN8fCJwYXJlbnQiPT1jKSYmIWEubW9kZWwuY29udGFpbnMoZCl9O2EuYWZ0ZXJFbmNvZGU9ZnVuY3Rpb24oYSxjLGQpe3RoaXMuaXNSZWZlcmVuY2UoYywiY2hpbGQiLGMuY2hpbGQsITApP2Quc2V0QXR0cmlidXRlKCJjaGlsZCIsCmEuZ2V0SWQoYy5jaGlsZCkpOmEuZW5jb2RlQ2VsbChjLmNoaWxkLGQpO3JldHVybiBkfTthLmJlZm9yZURlY29kZT1mdW5jdGlvbihhLGMsZCl7aWYobnVsbCE9Yy5maXJzdENoaWxkJiZjLmZpcnN0Q2hpbGQubm9kZVR5cGU9PW14Q29uc3RhbnRzLk5PREVUWVBFX0VMRU1FTlQpe2M9Yy5jbG9uZU5vZGUoITApO3ZhciBiPWMuZmlyc3RDaGlsZDtkLmNoaWxkPWEuZGVjb2RlQ2VsbChiLCExKTtkPWIubmV4dFNpYmxpbmc7Yi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGIpO2ZvcihiPWQ7bnVsbCE9Yjspe2Q9Yi5uZXh0U2libGluZztpZihiLm5vZGVUeXBlPT1teENvbnN0YW50cy5OT0RFVFlQRV9FTEVNRU5UKXt2YXIgZj1iLmdldEF0dHJpYnV0ZSgiaWQiKTtudWxsPT1hLmxvb2t1cChmKSYmYS5kZWNvZGVDZWxsKGIpfWIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChiKTtiPWR9fWVsc2UgYj1jLmdldEF0dHJpYnV0ZSgiY2hpbGQiKSxkLmNoaWxkPWEuZ2V0T2JqZWN0KGIpO3JldHVybiBjfTsKYS5hZnRlckRlY29kZT1mdW5jdGlvbihhLGMsZCl7bnVsbCE9ZC5jaGlsZCYmKG51bGwhPWQuY2hpbGQucGFyZW50JiZudWxsIT1kLnByZXZpb3VzJiZkLmNoaWxkLnBhcmVudCE9ZC5wcmV2aW91cyYmKGQucHJldmlvdXM9ZC5jaGlsZC5wYXJlbnQpLGQuY2hpbGQucGFyZW50PWQucHJldmlvdXMsZC5wcmV2aW91cz1kLnBhcmVudCxkLnByZXZpb3VzSW5kZXg9ZC5pbmRleCk7cmV0dXJuIGR9O3JldHVybiBhfSgpKTtteENvZGVjUmVnaXN0cnkucmVnaXN0ZXIoZnVuY3Rpb24oKXt2YXIgYT1uZXcgbXhPYmplY3RDb2RlYyhuZXcgbXhUZXJtaW5hbENoYW5nZSxbIm1vZGVsIiwicHJldmlvdXMiXSxbImNlbGwiLCJ0ZXJtaW5hbCJdKTthLmFmdGVyRGVjb2RlPWZ1bmN0aW9uKGEsYyxkKXtkLnByZXZpb3VzPWQudGVybWluYWw7cmV0dXJuIGR9O3JldHVybiBhfSgpKTsKdmFyIG14R2VuZXJpY0NoYW5nZUNvZGVjPWZ1bmN0aW9uKGEsYil7dmFyIGM9bmV3IG14T2JqZWN0Q29kZWMoYSxbIm1vZGVsIiwicHJldmlvdXMiXSxbImNlbGwiXSk7Yy5hZnRlckRlY29kZT1mdW5jdGlvbihhLGMsZil7bXhVdGlscy5pc05vZGUoZi5jZWxsKSYmKGYuY2VsbD1hLmRlY29kZUNlbGwoZi5jZWxsLCExKSk7Zi5wcmV2aW91cz1mW2JdO3JldHVybiBmfTtyZXR1cm4gY307bXhDb2RlY1JlZ2lzdHJ5LnJlZ2lzdGVyKG14R2VuZXJpY0NoYW5nZUNvZGVjKG5ldyBteFZhbHVlQ2hhbmdlLCJ2YWx1ZSIpKTtteENvZGVjUmVnaXN0cnkucmVnaXN0ZXIobXhHZW5lcmljQ2hhbmdlQ29kZWMobmV3IG14U3R5bGVDaGFuZ2UsInN0eWxlIikpO214Q29kZWNSZWdpc3RyeS5yZWdpc3RlcihteEdlbmVyaWNDaGFuZ2VDb2RlYyhuZXcgbXhHZW9tZXRyeUNoYW5nZSwiZ2VvbWV0cnkiKSk7Cm14Q29kZWNSZWdpc3RyeS5yZWdpc3RlcihteEdlbmVyaWNDaGFuZ2VDb2RlYyhuZXcgbXhDb2xsYXBzZUNoYW5nZSwiY29sbGFwc2VkIikpO214Q29kZWNSZWdpc3RyeS5yZWdpc3RlcihteEdlbmVyaWNDaGFuZ2VDb2RlYyhuZXcgbXhWaXNpYmxlQ2hhbmdlLCJ2aXNpYmxlIikpO214Q29kZWNSZWdpc3RyeS5yZWdpc3RlcihteEdlbmVyaWNDaGFuZ2VDb2RlYyhuZXcgbXhDZWxsQXR0cmlidXRlQ2hhbmdlLCJ2YWx1ZSIpKTtteENvZGVjUmVnaXN0cnkucmVnaXN0ZXIoZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG14T2JqZWN0Q29kZWMobmV3IG14R3JhcGgsImdyYXBoTGlzdGVuZXJzIGV2ZW50TGlzdGVuZXJzIHZpZXcgY29udGFpbmVyIGNlbGxSZW5kZXJlciBlZGl0b3Igc2VsZWN0aW9uIi5zcGxpdCgiICIpKX0oKSk7Cm14Q29kZWNSZWdpc3RyeS5yZWdpc3RlcihmdW5jdGlvbigpe3ZhciBhPW5ldyBteE9iamVjdENvZGVjKG5ldyBteEdyYXBoVmlldyk7YS5lbmNvZGU9ZnVuY3Rpb24oYSxjKXtyZXR1cm4gdGhpcy5lbmNvZGVDZWxsKGEsYyxjLmdyYXBoLmdldE1vZGVsKCkuZ2V0Um9vdCgpKX07YS5lbmNvZGVDZWxsPWZ1bmN0aW9uKGEsYyxkKXt2YXIgYj1jLmdyYXBoLmdldE1vZGVsKCksZj1jLmdldFN0YXRlKGQpLGc9Yi5nZXRQYXJlbnQoZCk7aWYobnVsbD09Z3x8bnVsbCE9Zil7dmFyIGs9Yi5nZXRDaGlsZENvdW50KGQpLGw9Yy5ncmFwaC5nZXRDZWxsR2VvbWV0cnkoZCksbT1udWxsO2c9PWIuZ2V0Um9vdCgpP209ImxheWVyIjpudWxsPT1nP209ImdyYXBoIjpiLmlzRWRnZShkKT9tPSJlZGdlIjowPGsmJm51bGwhPWw/bT0iZ3JvdXAiOmIuaXNWZXJ0ZXgoZCkmJihtPSJ2ZXJ0ZXgiKTtpZihudWxsIT1tKXt2YXIgbj1hLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQobSk7bnVsbCE9Yy5ncmFwaC5nZXRMYWJlbChkKSYmCihuLnNldEF0dHJpYnV0ZSgibGFiZWwiLGMuZ3JhcGguZ2V0TGFiZWwoZCkpLGMuZ3JhcGguaXNIdG1sTGFiZWwoZCkmJm4uc2V0QXR0cmlidXRlKCJodG1sIiwhMCkpO2lmKG51bGw9PWcpe3ZhciBwPWMuZ2V0R3JhcGhCb3VuZHMoKTtudWxsIT1wJiYobi5zZXRBdHRyaWJ1dGUoIngiLE1hdGgucm91bmQocC54KSksbi5zZXRBdHRyaWJ1dGUoInkiLE1hdGgucm91bmQocC55KSksbi5zZXRBdHRyaWJ1dGUoIndpZHRoIixNYXRoLnJvdW5kKHAud2lkdGgpKSxuLnNldEF0dHJpYnV0ZSgiaGVpZ2h0IixNYXRoLnJvdW5kKHAuaGVpZ2h0KSkpO24uc2V0QXR0cmlidXRlKCJzY2FsZSIsYy5zY2FsZSl9ZWxzZSBpZihudWxsIT1mJiZudWxsIT1sKXtmb3IocCBpbiBmLnN0eWxlKWc9Zi5zdHlsZVtwXSwiZnVuY3Rpb24iPT10eXBlb2YgZyYmIm9iamVjdCI9PXR5cGVvZiBnJiYoZz1teFN0eWxlUmVnaXN0cnkuZ2V0TmFtZShnKSksbnVsbCE9ZyYmImZ1bmN0aW9uIiE9dHlwZW9mIGcmJiJvYmplY3QiIT0KdHlwZW9mIGcmJm4uc2V0QXR0cmlidXRlKHAsZyk7Zz1mLmFic29sdXRlUG9pbnRzO2lmKG51bGwhPWcmJjA8Zy5sZW5ndGgpe2w9TWF0aC5yb3VuZChnWzBdLngpKyIsIitNYXRoLnJvdW5kKGdbMF0ueSk7Zm9yKHA9MTtwPGcubGVuZ3RoO3ArKylsKz0iICIrTWF0aC5yb3VuZChnW3BdLngpKyIsIitNYXRoLnJvdW5kKGdbcF0ueSk7bi5zZXRBdHRyaWJ1dGUoInBvaW50cyIsbCl9ZWxzZSBuLnNldEF0dHJpYnV0ZSgieCIsTWF0aC5yb3VuZChmLngpKSxuLnNldEF0dHJpYnV0ZSgieSIsTWF0aC5yb3VuZChmLnkpKSxuLnNldEF0dHJpYnV0ZSgid2lkdGgiLE1hdGgucm91bmQoZi53aWR0aCkpLG4uc2V0QXR0cmlidXRlKCJoZWlnaHQiLE1hdGgucm91bmQoZi5oZWlnaHQpKTtwPWYuYWJzb2x1dGVPZmZzZXQ7bnVsbCE9cCYmKDAhPXAueCYmbi5zZXRBdHRyaWJ1dGUoImR4IixNYXRoLnJvdW5kKHAueCkpLDAhPXAueSYmbi5zZXRBdHRyaWJ1dGUoImR5IixNYXRoLnJvdW5kKHAueSkpKX1mb3IocD0KMDtwPGs7cCsrKWY9dGhpcy5lbmNvZGVDZWxsKGEsYyxiLmdldENoaWxkQXQoZCxwKSksbnVsbCE9ZiYmbi5hcHBlbmRDaGlsZChmKX19cmV0dXJuIG59O3JldHVybiBhfSgpKTsKdmFyIG14U3R5bGVzaGVldENvZGVjPW14Q29kZWNSZWdpc3RyeS5yZWdpc3RlcihmdW5jdGlvbigpe3ZhciBhPW5ldyBteE9iamVjdENvZGVjKG5ldyBteFN0eWxlc2hlZXQpO2EuZW5jb2RlPWZ1bmN0aW9uKGEsYyl7dmFyIGI9YS5kb2N1bWVudC5jcmVhdGVFbGVtZW50KHRoaXMuZ2V0TmFtZSgpKSxlO2ZvcihlIGluIGMuc3R5bGVzKXt2YXIgZj1jLnN0eWxlc1tlXSxnPWEuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYWRkIik7aWYobnVsbCE9ZSl7Zy5zZXRBdHRyaWJ1dGUoImFzIixlKTtmb3IodmFyIGsgaW4gZil7dmFyIGw9dGhpcy5nZXRTdHJpbmdWYWx1ZShrLGZba10pO2lmKG51bGwhPWwpe3ZhciBtPWEuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYWRkIik7bS5zZXRBdHRyaWJ1dGUoInZhbHVlIixsKTttLnNldEF0dHJpYnV0ZSgiYXMiLGspO2cuYXBwZW5kQ2hpbGQobSl9fTA8Zy5jaGlsZE5vZGVzLmxlbmd0aCYmYi5hcHBlbmRDaGlsZChnKX19cmV0dXJuIGJ9O2EuZ2V0U3RyaW5nVmFsdWU9CmZ1bmN0aW9uKGEsYyl7dmFyIGI9dHlwZW9mIGM7ImZ1bmN0aW9uIj09Yj9jPW14U3R5bGVSZWdpc3RyeS5nZXROYW1lKGMpOiJvYmplY3QiPT1iJiYoYz1udWxsKTtyZXR1cm4gY307YS5kZWNvZGU9ZnVuY3Rpb24oYSxjLGQpe2Q9ZHx8bmV3IHRoaXMudGVtcGxhdGUuY29uc3RydWN0b3I7dmFyIGI9Yy5nZXRBdHRyaWJ1dGUoImlkIik7bnVsbCE9YiYmKGEub2JqZWN0c1tiXT1kKTtmb3IoYz1jLmZpcnN0Q2hpbGQ7bnVsbCE9Yzspe2lmKCF0aGlzLnByb2Nlc3NJbmNsdWRlKGEsYyxkKSYmImFkZCI9PWMubm9kZU5hbWUmJihiPWMuZ2V0QXR0cmlidXRlKCJhcyIpLG51bGwhPWIpKXt2YXIgZj1jLmdldEF0dHJpYnV0ZSgiZXh0ZW5kIiksZz1udWxsIT1mP214VXRpbHMuY2xvbmUoZC5zdHlsZXNbZl0pOm51bGw7bnVsbD09ZyYmKG51bGwhPWYmJm14TG9nLndhcm4oIm14U3R5bGVzaGVldENvZGVjLmRlY29kZTogc3R5bGVzaGVldCAiK2YrIiBub3QgZm91bmQgdG8gZXh0ZW5kIiksZz0Ke30pO2ZvcihmPWMuZmlyc3RDaGlsZDtudWxsIT1mOyl7aWYoZi5ub2RlVHlwZT09bXhDb25zdGFudHMuTk9ERVRZUEVfRUxFTUVOVCl7dmFyIGs9Zi5nZXRBdHRyaWJ1dGUoImFzIik7aWYoImFkZCI9PWYubm9kZU5hbWUpe3ZhciBsPW14VXRpbHMuZ2V0VGV4dENvbnRlbnQoZik7bnVsbCE9bCYmMDxsLmxlbmd0aCYmbXhTdHlsZXNoZWV0Q29kZWMuYWxsb3dFdmFsP2w9bXhVdGlscy5ldmFsKGwpOihsPWYuZ2V0QXR0cmlidXRlKCJ2YWx1ZSIpLG14VXRpbHMuaXNOdW1lcmljKGwpJiYobD1wYXJzZUZsb2F0KGwpKSk7bnVsbCE9bCYmKGdba109bCl9ZWxzZSJyZW1vdmUiPT1mLm5vZGVOYW1lJiZkZWxldGUgZ1trXX1mPWYubmV4dFNpYmxpbmd9ZC5wdXRDZWxsU3R5bGUoYixnKX1jPWMubmV4dFNpYmxpbmd9cmV0dXJuIGR9O3JldHVybiBhfSgpKTtteFN0eWxlc2hlZXRDb2RlYy5hbGxvd0V2YWw9ITA7Cm14Q29kZWNSZWdpc3RyeS5yZWdpc3RlcihmdW5jdGlvbigpe3ZhciBhPW5ldyBteE9iamVjdENvZGVjKG5ldyBteERlZmF1bHRLZXlIYW5kbGVyKTthLmVuY29kZT1mdW5jdGlvbihhLGMpe3JldHVybiBudWxsfTthLmRlY29kZT1mdW5jdGlvbihhLGMsZCl7aWYobnVsbCE9ZClmb3IoYz1jLmZpcnN0Q2hpbGQ7bnVsbCE9Yzspe2lmKCF0aGlzLnByb2Nlc3NJbmNsdWRlKGEsYyxkKSYmImFkZCI9PWMubm9kZU5hbWUpe3ZhciBiPWMuZ2V0QXR0cmlidXRlKCJhcyIpLGY9Yy5nZXRBdHRyaWJ1dGUoImFjdGlvbiIpLGc9Yy5nZXRBdHRyaWJ1dGUoImNvbnRyb2wiKTtkLmJpbmRBY3Rpb24oYixmLGcpfWM9Yy5uZXh0U2libGluZ31yZXR1cm4gZH07cmV0dXJuIGF9KCkpOwp2YXIgbXhEZWZhdWx0VG9vbGJhckNvZGVjPW14Q29kZWNSZWdpc3RyeS5yZWdpc3RlcihmdW5jdGlvbigpe3ZhciBhPW5ldyBteE9iamVjdENvZGVjKG5ldyBteERlZmF1bHRUb29sYmFyKTthLmVuY29kZT1mdW5jdGlvbihhLGMpe3JldHVybiBudWxsfTthLmRlY29kZT1mdW5jdGlvbihhLGMsZCl7aWYobnVsbCE9ZCl7dmFyIGI9ZC5lZGl0b3I7Zm9yKGM9Yy5maXJzdENoaWxkO251bGwhPWM7KXtpZihjLm5vZGVUeXBlPT1teENvbnN0YW50cy5OT0RFVFlQRV9FTEVNRU5UJiYhdGhpcy5wcm9jZXNzSW5jbHVkZShhLGMsZCkpaWYoInNlcGFyYXRvciI9PWMubm9kZU5hbWUpZC5hZGRTZXBhcmF0b3IoKTtlbHNlIGlmKCJiciI9PWMubm9kZU5hbWUpZC50b29sYmFyLmFkZEJyZWFrKCk7ZWxzZSBpZigiaHIiPT1jLm5vZGVOYW1lKWQudG9vbGJhci5hZGRMaW5lKCk7ZWxzZSBpZigiYWRkIj09Yy5ub2RlTmFtZSl7dmFyIGY9Yy5nZXRBdHRyaWJ1dGUoImFzIiksZj1teFJlc291cmNlcy5nZXQoZil8fApmLGc9Yy5nZXRBdHRyaWJ1dGUoImljb24iKSxrPWMuZ2V0QXR0cmlidXRlKCJwcmVzc2VkSWNvbiIpLGw9Yy5nZXRBdHRyaWJ1dGUoImFjdGlvbiIpLG09Yy5nZXRBdHRyaWJ1dGUoIm1vZGUiKSxuPWMuZ2V0QXR0cmlidXRlKCJ0ZW1wbGF0ZSIpLHA9IjAiIT1jLmdldEF0dHJpYnV0ZSgidG9nZ2xlIikscT1teFV0aWxzLmdldFRleHRDb250ZW50KGMpLHI9bnVsbDtpZihudWxsIT1sKXI9ZC5hZGRJdGVtKGYsZyxsLGspO2Vsc2UgaWYobnVsbCE9bSl2YXIgdD1teERlZmF1bHRUb29sYmFyQ29kZWMuYWxsb3dFdmFsP214VXRpbHMuZXZhbChxKTpudWxsLHI9ZC5hZGRNb2RlKGYsZyxtLGssdCk7ZWxzZSBpZihudWxsIT1ufHxudWxsIT1xJiYwPHEubGVuZ3RoKXI9Yi50ZW1wbGF0ZXNbbl0sbj1jLmdldEF0dHJpYnV0ZSgic3R5bGUiKSxudWxsIT1yJiZudWxsIT1uJiYocj1iLmdyYXBoLmNsb25lQ2VsbChyKSxyLnNldFN0eWxlKG4pKSxuPW51bGwsbnVsbCE9cSYmMDxxLmxlbmd0aCYmCm14RGVmYXVsdFRvb2xiYXJDb2RlYy5hbGxvd0V2YWwmJihuPW14VXRpbHMuZXZhbChxKSkscj1kLmFkZFByb3RvdHlwZShmLGcscixrLG4scCk7ZWxzZSBpZihrPW14VXRpbHMuZ2V0Q2hpbGROb2RlcyhjKSwwPGsubGVuZ3RoKWlmKG51bGw9PWcpZm9yKG49ZC5hZGRBY3Rpb25Db21ibyhmKSxmPTA7ZjxrLmxlbmd0aDtmKyspcD1rW2ZdLCJzZXBhcmF0b3IiPT1wLm5vZGVOYW1lP2QuYWRkT3B0aW9uKG4sIi0tLSIpOiJhZGQiPT1wLm5vZGVOYW1lJiYoZz1wLmdldEF0dHJpYnV0ZSgiYXMiKSxwPXAuZ2V0QXR0cmlidXRlKCJhY3Rpb24iKSxkLmFkZEFjdGlvbk9wdGlvbihuLGcscCkpO2Vsc2V7dmFyIHU9bnVsbCx4PWQuYWRkUHJvdG90eXBlKGYsZyxmdW5jdGlvbigpe3ZhciBhPWIudGVtcGxhdGVzW3UudmFsdWVdO2lmKG51bGwhPWEpe3ZhciBhPWEuY2xvbmUoKSxjPXUub3B0aW9uc1t1LnNlbGVjdGVkSW5kZXhdLmNlbGxTdHlsZTtudWxsIT1jJiZhLnNldFN0eWxlKGMpO3JldHVybiBhfW14TG9nLndhcm4oIlRlbXBsYXRlICIrCmErIiBub3QgZm91bmQiKTtyZXR1cm4gbnVsbH0sbnVsbCxudWxsLHApLHU9ZC5hZGRDb21ibygpO214RXZlbnQuYWRkTGlzdGVuZXIodSwiY2hhbmdlIixmdW5jdGlvbigpe2QudG9vbGJhci5zZWxlY3RNb2RlKHgsZnVuY3Rpb24oYSl7YT1teFV0aWxzLmNvbnZlcnRQb2ludChiLmdyYXBoLmNvbnRhaW5lcixteEV2ZW50LmdldENsaWVudFgoYSksbXhFdmVudC5nZXRDbGllbnRZKGEpKTtyZXR1cm4gYi5hZGRWZXJ0ZXgobnVsbCx0KCksYS54LGEueSl9KTtkLnRvb2xiYXIubm9SZXNldD0hMX0pO2ZvcihmPTA7ZjxrLmxlbmd0aDtmKyspcD1rW2ZdLCJzZXBhcmF0b3IiPT1wLm5vZGVOYW1lP2QuYWRkT3B0aW9uKHUsIi0tLSIpOiJhZGQiPT1wLm5vZGVOYW1lJiYoZz1wLmdldEF0dHJpYnV0ZSgiYXMiKSxxPXAuZ2V0QXR0cmlidXRlKCJ0ZW1wbGF0ZSIpLGQuYWRkT3B0aW9uKHUsZyxxfHxuKS5jZWxsU3R5bGU9cC5nZXRBdHRyaWJ1dGUoInN0eWxlIikpfW51bGwhPXImJihuPWMuZ2V0QXR0cmlidXRlKCJpZCIpLApudWxsIT1uJiYwPG4ubGVuZ3RoJiZyLnNldEF0dHJpYnV0ZSgiaWQiLG4pKX1jPWMubmV4dFNpYmxpbmd9fXJldHVybiBkfTtyZXR1cm4gYX0oKSk7bXhEZWZhdWx0VG9vbGJhckNvZGVjLmFsbG93RXZhbD0hMDtteENvZGVjUmVnaXN0cnkucmVnaXN0ZXIoZnVuY3Rpb24oKXt2YXIgYT1uZXcgbXhPYmplY3RDb2RlYyhuZXcgbXhEZWZhdWx0UG9wdXBNZW51KTthLmVuY29kZT1mdW5jdGlvbihhLGMpe3JldHVybiBudWxsfTthLmRlY29kZT1mdW5jdGlvbihhLGMsZCl7dmFyIGI9Yy5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaW5jbHVkZSIpWzBdO251bGwhPWI/dGhpcy5wcm9jZXNzSW5jbHVkZShhLGIsZCk6bnVsbCE9ZCYmKGQuY29uZmlnPWMpO3JldHVybiBkfTtyZXR1cm4gYX0oKSk7Cm14Q29kZWNSZWdpc3RyeS5yZWdpc3RlcihmdW5jdGlvbigpe3ZhciBhPW5ldyBteE9iamVjdENvZGVjKG5ldyBteEVkaXRvciwibW9kaWZpZWQgbGFzdFNuYXBzaG90IGlnbm9yZWRDaGFuZ2VzIHVuZG9NYW5hZ2VyIGdyYXBoQ29udGFpbmVyIHRvb2xiYXJDb250YWluZXIiLnNwbGl0KCIgIikpO2EuYWZ0ZXJEZWNvZGU9ZnVuY3Rpb24oYSxjLGQpe2E9Yy5nZXRBdHRyaWJ1dGUoImRlZmF1bHRFZGdlIik7bnVsbCE9YSYmKGMucmVtb3ZlQXR0cmlidXRlKCJkZWZhdWx0RWRnZSIpLGQuZGVmYXVsdEVkZ2U9ZC50ZW1wbGF0ZXNbYV0pO2E9Yy5nZXRBdHRyaWJ1dGUoImRlZmF1bHRHcm91cCIpO251bGwhPWEmJihjLnJlbW92ZUF0dHJpYnV0ZSgiZGVmYXVsdEdyb3VwIiksZC5kZWZhdWx0R3JvdXA9ZC50ZW1wbGF0ZXNbYV0pO3JldHVybiBkfTthLmRlY29kZUNoaWxkPWZ1bmN0aW9uKGEsYyxkKXtpZigiQXJyYXkiPT1jLm5vZGVOYW1lKXtpZigidGVtcGxhdGVzIj09Yy5nZXRBdHRyaWJ1dGUoImFzIikpe3RoaXMuZGVjb2RlVGVtcGxhdGVzKGEsCmMsZCk7cmV0dXJufX1lbHNlIGlmKCJ1aSI9PWMubm9kZU5hbWUpe3RoaXMuZGVjb2RlVWkoYSxjLGQpO3JldHVybn1teE9iamVjdENvZGVjLnByb3RvdHlwZS5kZWNvZGVDaGlsZC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O2EuZGVjb2RlVWk9ZnVuY3Rpb24oYSxjLGQpe2ZvcihhPWMuZmlyc3RDaGlsZDtudWxsIT1hOyl7aWYoImFkZCI9PWEubm9kZU5hbWUpe2M9YS5nZXRBdHRyaWJ1dGUoImFzIik7dmFyIGI9YS5nZXRBdHRyaWJ1dGUoImVsZW1lbnQiKSxmPWEuZ2V0QXR0cmlidXRlKCJzdHlsZSIpO2lmKG51bGwhPWIpYj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChiKSxudWxsIT1iJiZudWxsIT1mJiYoYi5zdHlsZS5jc3NUZXh0Kz0iOyIrZik7ZWxzZXt2YXIgZz1wYXJzZUludChhLmdldEF0dHJpYnV0ZSgieCIpKSxrPXBhcnNlSW50KGEuZ2V0QXR0cmlidXRlKCJ5IikpLGw9YS5nZXRBdHRyaWJ1dGUoIndpZHRoIiksbT1hLmdldEF0dHJpYnV0ZSgiaGVpZ2h0IiksYj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKYi5zdHlsZS5jc3NUZXh0PWY7KG5ldyBteFdpbmRvdyhteFJlc291cmNlcy5nZXQoYyl8fGMsYixnLGssbCxtLCExLCEwKSkuc2V0VmlzaWJsZSghMCl9ImdyYXBoIj09Yz9kLnNldEdyYXBoQ29udGFpbmVyKGIpOiJ0b29sYmFyIj09Yz9kLnNldFRvb2xiYXJDb250YWluZXIoYik6InRpdGxlIj09Yz9kLnNldFRpdGxlQ29udGFpbmVyKGIpOiJzdGF0dXMiPT1jP2Quc2V0U3RhdHVzQ29udGFpbmVyKGIpOiJtYXAiPT1jJiZkLnNldE1hcENvbnRhaW5lcihiKX1lbHNlInJlc291cmNlIj09YS5ub2RlTmFtZT9teFJlc291cmNlcy5hZGQoYS5nZXRBdHRyaWJ1dGUoImJhc2VuYW1lIikpOiJzdHlsZXNoZWV0Ij09YS5ub2RlTmFtZSYmbXhDbGllbnQubGluaygic3R5bGVzaGVldCIsYS5nZXRBdHRyaWJ1dGUoIm5hbWUiKSk7YT1hLm5leHRTaWJsaW5nfX07YS5kZWNvZGVUZW1wbGF0ZXM9ZnVuY3Rpb24oYSxjLGQpe251bGw9PWQudGVtcGxhdGVzJiYoZC50ZW1wbGF0ZXM9W10pO2M9bXhVdGlscy5nZXRDaGlsZE5vZGVzKGMpOwpmb3IodmFyIGI9MDtiPGMubGVuZ3RoO2IrKyl7Zm9yKHZhciBmPWNbYl0uZ2V0QXR0cmlidXRlKCJhcyIpLGc9Y1tiXS5maXJzdENoaWxkO251bGwhPWcmJjEhPWcubm9kZVR5cGU7KWc9Zy5uZXh0U2libGluZztudWxsIT1nJiYoZC50ZW1wbGF0ZXNbZl09YS5kZWNvZGVDZWxsKGcpKX19O3JldHVybiBhfSgpKTsvKgogR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlLCBodHRwOi8vd3d3LmdudS5vcmcvY29weWxlZnQvbGVzc2VyLmh0bWwKIEBhdXRob3IgIEphbiBPZHZhcmtvLCBodHRwOi8vb2R2YXJrby5jegogQGNyZWF0ZWQgMjAwOC0wNi0xNQogQHVwZGF0ZWQgMjAxMi0wMS0xOQogQGxpbmsgICAgaHR0cDovL2pzY29sb3IuY29tCiovCnZhciBteEpTQ29sb3I9e2JpbmRDbGFzczoiY29sb3IiLGJpbmRpbmc6ITAscHJlbG9hZGluZzohMCxpbnN0YWxsOmZ1bmN0aW9uKCl7fSxpbml0OmZ1bmN0aW9uKCl7bXhKU0NvbG9yLnByZWxvYWRpbmcmJm14SlNDb2xvci5wcmVsb2FkKCl9LGdldERpcjpmdW5jdGlvbigpe3JldHVybiBJTUFHRV9QQVRIKyIvIn0sZGV0ZWN0RGlyOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPWxvY2F0aW9uLmhyZWYsYj1kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiYmFzZSIpLGM9MDtjPGIubGVuZ3RoO2MrPTEpYltjXS5ocmVmJiYoYT1iW2NdLmhyZWYpO2I9ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInNjcmlwdCIpO2ZvcihjPTA7YzxiLmxlbmd0aDtjKz0xKWlmKGJbY10uc3JjJiYvKF58XC8panNjb2xvclwuanMoWz8jXS4qKT8kL2kudGVzdChiW2NdLnNyYykpcmV0dXJuIGE9KG5ldyBteEpTQ29sb3IuVVJJKGJbY10uc3JjKSkudG9BYnNvbHV0ZShhKSxhLnBhdGg9YS5wYXRoLnJlcGxhY2UoL1teXC9dKyQvLAoiIiksYS5xdWVyeT1udWxsLGEuZnJhZ21lbnQ9bnVsbCxhLnRvU3RyaW5nKCk7cmV0dXJuITF9LHByZWxvYWQ6ZnVuY3Rpb24oKXtmb3IodmFyIGEgaW4gbXhKU0NvbG9yLmltZ1JlcXVpcmUpbXhKU0NvbG9yLmltZ1JlcXVpcmUuaGFzT3duUHJvcGVydHkoYSkmJm14SlNDb2xvci5sb2FkSW1hZ2UoYSl9LGltYWdlczp7cGFkOlsxODEsMTAxXSxzbGQ6WzE2LDEwMV0sY3Jvc3M6WzE1LDE1XSxhcnJvdzpbNywxMV19LGltZ1JlcXVpcmU6e30saW1nTG9hZGVkOnt9LHJlcXVpcmVJbWFnZTpmdW5jdGlvbihhKXtteEpTQ29sb3IuaW1nUmVxdWlyZVthXT0hMH0sbG9hZEltYWdlOmZ1bmN0aW9uKGEpe214SlNDb2xvci5pbWdMb2FkZWRbYV18fChteEpTQ29sb3IuaW1nTG9hZGVkW2FdPW5ldyBJbWFnZSxteEpTQ29sb3IuaW1nTG9hZGVkW2FdLnNyYz1teEpTQ29sb3IuZ2V0RGlyKCkrYSl9LGZldGNoRWxlbWVudDpmdW5jdGlvbihhKXtyZXR1cm4ic3RyaW5nIj09PXR5cGVvZiBhP2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKGEpOgphfSxhZGRFdmVudDpmdW5jdGlvbihhLGIsYyl7YS5hZGRFdmVudExpc3RlbmVyP2EuYWRkRXZlbnRMaXN0ZW5lcihiLGMsITEpOmEuYXR0YWNoRXZlbnQmJmEuYXR0YWNoRXZlbnQoIm9uIitiLGMpfSxmaXJlRXZlbnQ6ZnVuY3Rpb24oYSxiKXtpZihhKWlmKGRvY3VtZW50LmNyZWF0ZUV2ZW50KXt2YXIgYz1kb2N1bWVudC5jcmVhdGVFdmVudCgiSFRNTEV2ZW50cyIpO2MuaW5pdEV2ZW50KGIsITAsITApO2EuZGlzcGF0Y2hFdmVudChjKX1lbHNlIGlmKGRvY3VtZW50LmNyZWF0ZUV2ZW50T2JqZWN0KWM9ZG9jdW1lbnQuY3JlYXRlRXZlbnRPYmplY3QoKSxhLmZpcmVFdmVudCgib24iK2IsYyk7ZWxzZSBpZihhWyJvbiIrYl0pYVsib24iK2JdKCl9LGdldEVsZW1lbnRQb3M6ZnVuY3Rpb24oYSl7dmFyIGI9YSxjPTAsZD0wO2lmKGIub2Zmc2V0UGFyZW50KXtkbyBjKz1iLm9mZnNldExlZnQsZCs9Yi5vZmZzZXRUb3A7d2hpbGUoYj1iLm9mZnNldFBhcmVudCl9Zm9yKDsoYT1hLnBhcmVudE5vZGUpJiYKIkJPRFkiIT09YS5ub2RlTmFtZS50b1VwcGVyQ2FzZSgpOyljLT1hLnNjcm9sbExlZnQsZC09YS5zY3JvbGxUb3A7cmV0dXJuW2MsZF19LGdldEVsZW1lbnRTaXplOmZ1bmN0aW9uKGEpe3JldHVyblthLm9mZnNldFdpZHRoLGEub2Zmc2V0SGVpZ2h0XX0sZ2V0UmVsTW91c2VQb3M6ZnVuY3Rpb24oYSl7dmFyIGI9MCxjPTA7YXx8KGE9d2luZG93LmV2ZW50KTsibnVtYmVyIj09PXR5cGVvZiBhLm9mZnNldFg/KGI9YS5vZmZzZXRYLGM9YS5vZmZzZXRZKToibnVtYmVyIj09PXR5cGVvZiBhLmxheWVyWCYmKGI9YS5sYXllclgsYz1hLmxheWVyWSk7cmV0dXJue3g6Yix5OmN9fSxnZXRWaWV3UG9zOmZ1bmN0aW9uKCl7cmV0dXJuIm51bWJlciI9PT10eXBlb2Ygd2luZG93LnBhZ2VZT2Zmc2V0P1t3aW5kb3cucGFnZVhPZmZzZXQsd2luZG93LnBhZ2VZT2Zmc2V0XTpkb2N1bWVudC5ib2R5JiYoZG9jdW1lbnQuYm9keS5zY3JvbGxMZWZ0fHxkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCk/W2RvY3VtZW50LmJvZHkuc2Nyb2xsTGVmdCwKZG9jdW1lbnQuYm9keS5zY3JvbGxUb3BdOmRvY3VtZW50LmRvY3VtZW50RWxlbWVudCYmKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0fHxkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wKT9bZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQsZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcF06WzAsMF19LGdldFZpZXdTaXplOmZ1bmN0aW9uKCl7cmV0dXJuIm51bWJlciI9PT10eXBlb2Ygd2luZG93LmlubmVyV2lkdGg/W3dpbmRvdy5pbm5lcldpZHRoLHdpbmRvdy5pbm5lckhlaWdodF06ZG9jdW1lbnQuYm9keSYmKGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGh8fGRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0KT9bZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aCxkb2N1bWVudC5ib2R5LmNsaWVudEhlaWdodF06ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50JiYoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRofHxkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0KT8KW2RvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCxkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0XTpbMCwwXX0sVVJJOmZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSl7Zm9yKHZhciBiPSIiO2E7KWlmKCIuLi8iPT09YS5zdWJzdHIoMCwzKXx8Ii4vIj09PWEuc3Vic3RyKDAsMikpYT1hLnJlcGxhY2UoL15cLisvLCIiKS5zdWJzdHIoMSk7ZWxzZSBpZigiLy4vIj09PWEuc3Vic3RyKDAsMyl8fCIvLiI9PT1hKWE9Ii8iK2Euc3Vic3RyKDMpO2Vsc2UgaWYoIi8uLi8iPT09YS5zdWJzdHIoMCw0KXx8Ii8uLiI9PT1hKWE9Ii8iK2Euc3Vic3RyKDQpLGI9Yi5yZXBsYWNlKC9cLz9bXlwvXSokLywiIik7ZWxzZSBpZigiLiI9PT1hfHwiLi4iPT09YSlhPSIiO2Vsc2V7dmFyIGM9YS5tYXRjaCgvXlwvP1teXC9dKi8pWzBdO2E9YS5zdWJzdHIoYy5sZW5ndGgpO2IrPWN9cmV0dXJuIGJ9dGhpcy5hdXRob3JpdHk9dGhpcy5zY2hlbWU9bnVsbDt0aGlzLnBhdGg9CiIiO3RoaXMuZnJhZ21lbnQ9dGhpcy5xdWVyeT1udWxsO3RoaXMucGFyc2U9ZnVuY3Rpb24oYSl7YT1hLm1hdGNoKC9eKChbQS1aYS16XVswLTlBLVphLXorLi1dKikoOikpPygoXC9cLykoW15cLz8jXSopKT8oW14/I10qKSgoXD8pKFteI10qKSk/KCgjKSguKikpPy8pO3RoaXMuc2NoZW1lPWFbM10/YVsyXTpudWxsO3RoaXMuYXV0aG9yaXR5PWFbNV0/YVs2XTpudWxsO3RoaXMucGF0aD1hWzddO3RoaXMucXVlcnk9YVs5XT9hWzEwXTpudWxsO3RoaXMuZnJhZ21lbnQ9YVsxMl0/YVsxM106bnVsbDtyZXR1cm4gdGhpc307dGhpcy50b1N0cmluZz1mdW5jdGlvbigpe3ZhciBhPSIiO251bGwhPT10aGlzLnNjaGVtZSYmKGE9YSt0aGlzLnNjaGVtZSsiOiIpO251bGwhPT10aGlzLmF1dGhvcml0eSYmKGE9YSsiLy8iK3RoaXMuYXV0aG9yaXR5KTtudWxsIT09dGhpcy5wYXRoJiYoYSs9dGhpcy5wYXRoKTtudWxsIT09dGhpcy5xdWVyeSYmKGE9YSsiPyIrdGhpcy5xdWVyeSk7bnVsbCE9PQp0aGlzLmZyYWdtZW50JiYoYT1hKyIjIit0aGlzLmZyYWdtZW50KTtyZXR1cm4gYX07dGhpcy50b0Fic29sdXRlPWZ1bmN0aW9uKGEpe2E9bmV3IG14SlNDb2xvci5VUkkoYSk7dmFyIGM9bmV3IG14SlNDb2xvci5VUkk7aWYobnVsbD09PWEuc2NoZW1lKXJldHVybiExO251bGwhPT10aGlzLnNjaGVtZSYmdGhpcy5zY2hlbWUudG9Mb3dlckNhc2UoKT09PWEuc2NoZW1lLnRvTG93ZXJDYXNlKCkmJih0aGlzLnNjaGVtZT1udWxsKTtudWxsIT09dGhpcy5zY2hlbWU/KGMuc2NoZW1lPXRoaXMuc2NoZW1lLGMuYXV0aG9yaXR5PXRoaXMuYXV0aG9yaXR5LGMucGF0aD1iKHRoaXMucGF0aCksYy5xdWVyeT10aGlzLnF1ZXJ5KToobnVsbCE9PXRoaXMuYXV0aG9yaXR5PyhjLmF1dGhvcml0eT10aGlzLmF1dGhvcml0eSxjLnBhdGg9Yih0aGlzLnBhdGgpLGMucXVlcnk9dGhpcy5xdWVyeSk6KCIiPT09dGhpcy5wYXRoPyhjLnBhdGg9YS5wYXRoLGMucXVlcnk9bnVsbCE9PXRoaXMucXVlcnk/dGhpcy5xdWVyeToKYS5xdWVyeSk6KCIvIj09PXRoaXMucGF0aC5zdWJzdHIoMCwxKT9jLnBhdGg9Yih0aGlzLnBhdGgpOihjLnBhdGg9bnVsbCE9PWEuYXV0aG9yaXR5JiYiIj09PWEucGF0aD8iLyIrdGhpcy5wYXRoOmEucGF0aC5yZXBsYWNlKC9bXlwvXSskLywiIikrdGhpcy5wYXRoLGMucGF0aD1iKGMucGF0aCkpLGMucXVlcnk9dGhpcy5xdWVyeSksYy5hdXRob3JpdHk9YS5hdXRob3JpdHkpLGMuc2NoZW1lPWEuc2NoZW1lKTtjLmZyYWdtZW50PXRoaXMuZnJhZ21lbnQ7cmV0dXJuIGN9O2EmJnRoaXMucGFyc2UoYSl9LGNvbG9yOmZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gYyhhLGIsYyl7aWYobnVsbD09PWEpcmV0dXJuW2MsYyxjXTt2YXIgZD1NYXRoLmZsb29yKGEpLGU9YyooMS1iKTthPWMqKDEtYiooZCUyP2EtZDoxLShhLWQpKSk7c3dpdGNoKGQpe2Nhc2UgNjpjYXNlIDA6cmV0dXJuW2MsYSxlXTtjYXNlIDE6cmV0dXJuW2EsYyxlXTtjYXNlIDI6cmV0dXJuW2UsYyxhXTtjYXNlIDM6cmV0dXJuW2UsCmEsY107Y2FzZSA0OnJldHVyblthLGUsY107Y2FzZSA1OnJldHVybltjLGUsYV19fWZ1bmN0aW9uIGQoYixjKXtpZighbXhKU0NvbG9yLnBpY2tlcil7bXhKU0NvbG9yLnBpY2tlcj17Ym94OmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLGJveEI6ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IikscGFkOmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLHBhZEI6ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IikscGFkTTpkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSxzbGQ6ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iiksc2xkQjpkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSxzbGRNOmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLGJ0bjpkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSxidG5TOmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNwYW4iKSxidG5UOmRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHIucGlja2VyQ2xvc2VUZXh0KX07Zm9yKHZhciBkPQowO2Q8bXhKU0NvbG9yLmltYWdlcy5zbGRbMV07ZCs9NCl7dmFyIGs9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7ay5zdHlsZS5oZWlnaHQ9IjRweCI7ay5zdHlsZS5mb250U2l6ZT0iMXB4IjtrLnN0eWxlLmxpbmVIZWlnaHQ9IjAiO214SlNDb2xvci5waWNrZXIuc2xkLmFwcGVuZENoaWxkKGspfW14SlNDb2xvci5waWNrZXIuc2xkQi5hcHBlbmRDaGlsZChteEpTQ29sb3IucGlja2VyLnNsZCk7bXhKU0NvbG9yLnBpY2tlci5ib3guYXBwZW5kQ2hpbGQobXhKU0NvbG9yLnBpY2tlci5zbGRCKTtteEpTQ29sb3IucGlja2VyLmJveC5hcHBlbmRDaGlsZChteEpTQ29sb3IucGlja2VyLnNsZE0pO214SlNDb2xvci5waWNrZXIucGFkQi5hcHBlbmRDaGlsZChteEpTQ29sb3IucGlja2VyLnBhZCk7bXhKU0NvbG9yLnBpY2tlci5ib3guYXBwZW5kQ2hpbGQobXhKU0NvbG9yLnBpY2tlci5wYWRCKTtteEpTQ29sb3IucGlja2VyLmJveC5hcHBlbmRDaGlsZChteEpTQ29sb3IucGlja2VyLnBhZE0pOwpteEpTQ29sb3IucGlja2VyLmJ0blMuYXBwZW5kQ2hpbGQobXhKU0NvbG9yLnBpY2tlci5idG5UKTtteEpTQ29sb3IucGlja2VyLmJ0bi5hcHBlbmRDaGlsZChteEpTQ29sb3IucGlja2VyLmJ0blMpO214SlNDb2xvci5waWNrZXIuYm94LmFwcGVuZENoaWxkKG14SlNDb2xvci5waWNrZXIuYnRuKTtteEpTQ29sb3IucGlja2VyLmJveEIuYXBwZW5kQ2hpbGQobXhKU0NvbG9yLnBpY2tlci5ib3gpfXZhciBsPW14SlNDb2xvci5waWNrZXI7bC5ib3gub25tb3VzZXVwPWwuYm94Lm9ubW91c2VvdXQ9ZnVuY3Rpb24oKXtteENsaWVudC5JU19UT1VDSHx8YS5mb2N1cygpfTtsLmJveC5vbm1vdXNlZG93bj1mdW5jdGlvbigpe307bC5ib3gub25tb3VzZW1vdmU9ZnVuY3Rpb24oYSl7aWYoeXx8Qil5JiZtKGEpLEImJm4oYSksZG9jdW1lbnQuc2VsZWN0aW9uP2RvY3VtZW50LnNlbGVjdGlvbi5lbXB0eSgpOndpbmRvdy5nZXRTZWxlY3Rpb24mJndpbmRvdy5nZXRTZWxlY3Rpb24oKS5yZW1vdmVBbGxSYW5nZXMoKSwKcCgpfTtsLnBhZE0ub25tb3VzZXVwPWwucGFkTS5vbm1vdXNlb3V0PWZ1bmN0aW9uKCl7eSYmKHk9ITEsbXhKU0NvbG9yLmZpcmVFdmVudCh1LCJjaGFuZ2UiKSl9O2wucGFkTS5vbm1vdXNlZG93bj1mdW5jdGlvbihhKXtzd2l0Y2godCl7Y2FzZSAwOjA9PT1yLmhzdlsyXSYmci5mcm9tSFNWKG51bGwsbnVsbCwxKTticmVhaztjYXNlIDE6MD09PXIuaHN2WzFdJiZyLmZyb21IU1YobnVsbCwxLG51bGwpfXk9ITA7bShhKTtwKCl9O2wuc2xkTS5vbm1vdXNldXA9bC5zbGRNLm9ubW91c2VvdXQ9ZnVuY3Rpb24oKXtCJiYoQj0hMSxteEpTQ29sb3IuZmlyZUV2ZW50KHUsImNoYW5nZSIpKX07bC5zbGRNLm9ubW91c2Vkb3duPWZ1bmN0aW9uKGEpe0I9ITA7bihhKTtwKCl9O2Q9ZShyKTtsLmJveC5zdHlsZS53aWR0aD1kWzBdKyJweCI7bC5ib3guc3R5bGUuaGVpZ2h0PWRbMV0rInB4IjtsLmJveEIuc3R5bGUucG9zaXRpb249ImFic29sdXRlIjtsLmJveEIuc3R5bGUuY2xlYXI9ImJvdGgiOwpsLmJveEIuc3R5bGUubGVmdD1iKyJweCI7bC5ib3hCLnN0eWxlLnRvcD1jKyJweCI7bC5ib3hCLnN0eWxlLnpJbmRleD1yLnBpY2tlclpJbmRleDtsLmJveEIuc3R5bGUuYm9yZGVyPXIucGlja2VyQm9yZGVyKyJweCBzb2xpZCI7bC5ib3hCLnN0eWxlLmJvcmRlckNvbG9yPXIucGlja2VyQm9yZGVyQ29sb3I7bC5ib3hCLnN0eWxlLmJhY2tncm91bmQ9ci5waWNrZXJGYWNlQ29sb3I7bC5wYWQuc3R5bGUud2lkdGg9bXhKU0NvbG9yLmltYWdlcy5wYWRbMF0rInB4IjtsLnBhZC5zdHlsZS5oZWlnaHQ9bXhKU0NvbG9yLmltYWdlcy5wYWRbMV0rInB4IjtsLnBhZEIuc3R5bGUucG9zaXRpb249ImFic29sdXRlIjtsLnBhZEIuc3R5bGUubGVmdD1yLnBpY2tlckZhY2UrInB4IjtsLnBhZEIuc3R5bGUudG9wPXIucGlja2VyRmFjZSsicHgiO2wucGFkQi5zdHlsZS5ib3JkZXI9ci5waWNrZXJJbnNldCsicHggc29saWQiO2wucGFkQi5zdHlsZS5ib3JkZXJDb2xvcj1yLnBpY2tlckluc2V0Q29sb3I7CmwucGFkTS5zdHlsZS5wb3NpdGlvbj0iYWJzb2x1dGUiO2wucGFkTS5zdHlsZS5sZWZ0PSIwIjtsLnBhZE0uc3R5bGUudG9wPSIwIjtsLnBhZE0uc3R5bGUud2lkdGg9ci5waWNrZXJGYWNlKzIqci5waWNrZXJJbnNldCtteEpTQ29sb3IuaW1hZ2VzLnBhZFswXStteEpTQ29sb3IuaW1hZ2VzLmFycm93WzBdKyJweCI7bC5wYWRNLnN0eWxlLmhlaWdodD1sLmJveC5zdHlsZS5oZWlnaHQ7bC5wYWRNLnN0eWxlLmN1cnNvcj0iY3Jvc3NoYWlyIjtsLnNsZC5zdHlsZS5vdmVyZmxvdz0iaGlkZGVuIjtsLnNsZC5zdHlsZS53aWR0aD1teEpTQ29sb3IuaW1hZ2VzLnNsZFswXSsicHgiO2wuc2xkLnN0eWxlLmhlaWdodD1teEpTQ29sb3IuaW1hZ2VzLnNsZFsxXSsicHgiO2wuc2xkQi5zdHlsZS5kaXNwbGF5PXIuc2xpZGVyPyJibG9jayI6Im5vbmUiO2wuc2xkQi5zdHlsZS5wb3NpdGlvbj0iYWJzb2x1dGUiO2wuc2xkQi5zdHlsZS5yaWdodD1yLnBpY2tlckZhY2UrInB4IjtsLnNsZEIuc3R5bGUudG9wPQpyLnBpY2tlckZhY2UrInB4IjtsLnNsZEIuc3R5bGUuYm9yZGVyPXIucGlja2VySW5zZXQrInB4IHNvbGlkIjtsLnNsZEIuc3R5bGUuYm9yZGVyQ29sb3I9ci5waWNrZXJJbnNldENvbG9yO2wuc2xkTS5zdHlsZS5kaXNwbGF5PXIuc2xpZGVyPyJibG9jayI6Im5vbmUiO2wuc2xkTS5zdHlsZS5wb3NpdGlvbj0iYWJzb2x1dGUiO2wuc2xkTS5zdHlsZS5yaWdodD0iMCI7bC5zbGRNLnN0eWxlLnRvcD0iMCI7bC5zbGRNLnN0eWxlLndpZHRoPW14SlNDb2xvci5pbWFnZXMuc2xkWzBdK214SlNDb2xvci5pbWFnZXMuYXJyb3dbMF0rci5waWNrZXJGYWNlKzIqci5waWNrZXJJbnNldCsicHgiO2wuc2xkTS5zdHlsZS5oZWlnaHQ9bC5ib3guc3R5bGUuaGVpZ2h0O3RyeXtsLnNsZE0uc3R5bGUuY3Vyc29yPSJwb2ludGVyIn1jYXRjaChGKXtsLnNsZE0uc3R5bGUuY3Vyc29yPSJoYW5kIn1sLmJ0bi5zdHlsZS5kaXNwbGF5PXIucGlja2VyQ2xvc2FibGU/ImJsb2NrIjoibm9uZSI7bC5idG4uc3R5bGUucG9zaXRpb249CiJhYnNvbHV0ZSI7bC5idG4uc3R5bGUubGVmdD1yLnBpY2tlckZhY2UrInB4IjtsLmJ0bi5zdHlsZS5ib3R0b209ci5waWNrZXJGYWNlKyJweCI7bC5idG4uc3R5bGUucGFkZGluZz0iMCAxNXB4IjtsLmJ0bi5zdHlsZS5oZWlnaHQ9IjE4cHgiO2wuYnRuLnN0eWxlLmJvcmRlcj1yLnBpY2tlckluc2V0KyJweCBzb2xpZCI7KGZ1bmN0aW9uKCl7dmFyIGE9ci5waWNrZXJJbnNldENvbG9yLnNwbGl0KC9ccysvKTtsLmJ0bi5zdHlsZS5ib3JkZXJDb2xvcj0yPmEubGVuZ3RoP2FbMF06YVsxXSsiICIrYVswXSsiICIrYVswXSsiICIrYVsxXX0pKCk7bC5idG4uc3R5bGUuY29sb3I9ci5waWNrZXJCdXR0b25Db2xvcjtsLmJ0bi5zdHlsZS5mb250PSIxMnB4IHNhbnMtc2VyaWYiO2wuYnRuLnN0eWxlLnRleHRBbGlnbj0iY2VudGVyIjt0cnl7bC5idG4uc3R5bGUuY3Vyc29yPSJwb2ludGVyIn1jYXRjaChGKXtsLmJ0bi5zdHlsZS5jdXJzb3I9ImhhbmQifWwuYnRuLm9ubW91c2Vkb3duPWZ1bmN0aW9uKCl7ci5oaWRlUGlja2VyKCl9OwpsLmJ0blMuc3R5bGUubGluZUhlaWdodD1sLmJ0bi5zdHlsZS5oZWlnaHQ7c3dpdGNoKHQpe2Nhc2UgMDp2YXIgcT0iaHMucG5nIjticmVhaztjYXNlIDE6cT0iaHYucG5nIn1sLnBhZE0uc3R5bGUuYmFja2dyb3VuZEltYWdlPSJ1cmwoZGF0YTppbWFnZS9naWY7YmFzZTY0LFIwbEdPRGxoRHdBUEFLRUJBQUFBQVAvLy8vLy8vLy8vL3lINUJBRUtBQUlBTEFBQUFBQVBBQThBQUFJa2xCOFF4NTNiNG90U1VXY3Z5aXo0LzRBZVFKYm1LWTRwMUhIYXBCbHdQTC91VlJzRkFEcz0pIjtsLnBhZE0uc3R5bGUuYmFja2dyb3VuZFJlcGVhdD0ibm8tcmVwZWF0IjtsLnNsZE0uc3R5bGUuYmFja2dyb3VuZEltYWdlPSJ1cmwoZGF0YTppbWFnZS9naWY7YmFzZTY0LFIwbEdPRGxoQndBTEFLRUNBQUFBQVAvLy82ZzhlS2c4ZUNINUJBRUtBQUlBTEFBQUFBQUhBQXNBQUFJVFRJUVljTG5zZ0d4dmlqcnhxZFFxNkRSSkFRQTcpIjtsLnNsZE0uc3R5bGUuYmFja2dyb3VuZFJlcGVhdD0ibm8tcmVwZWF0IjsKbC5wYWQuc3R5bGUuYmFja2dyb3VuZEltYWdlPSJ1cmwoJyIrbXhKU0NvbG9yLmdldERpcigpK3ErIicpIjtsLnBhZC5zdHlsZS5iYWNrZ3JvdW5kUmVwZWF0PSJuby1yZXBlYXQiO2wucGFkLnN0eWxlLmJhY2tncm91bmRQb3NpdGlvbj0iMCAwIjtmKCk7ZygpO214SlNDb2xvci5waWNrZXIub3duZXI9cjtkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiYm9keSIpWzBdLmFwcGVuZENoaWxkKGwuYm94Qil9ZnVuY3Rpb24gZShhKXtyZXR1cm5bMiphLnBpY2tlckluc2V0KzIqYS5waWNrZXJGYWNlK214SlNDb2xvci5pbWFnZXMucGFkWzBdKyhhLnNsaWRlcj8yKmEucGlja2VySW5zZXQrMipteEpTQ29sb3IuaW1hZ2VzLmFycm93WzBdK214SlNDb2xvci5pbWFnZXMuc2xkWzBdOjApLGEucGlja2VyQ2xvc2FibGU/NCphLnBpY2tlckluc2V0KzMqYS5waWNrZXJGYWNlK214SlNDb2xvci5pbWFnZXMucGFkWzFdK2EucGlja2VyQnV0dG9uSGVpZ2h0OjIqYS5waWNrZXJJbnNldCsyKgphLnBpY2tlckZhY2UrbXhKU0NvbG9yLmltYWdlcy5wYWRbMV1dfWZ1bmN0aW9uIGYoKXtzd2l0Y2godCl7Y2FzZSAwOnZhciBhPTE7YnJlYWs7Y2FzZSAxOmE9Mn1teEpTQ29sb3IucGlja2VyLnBhZE0uc3R5bGUuYmFja2dyb3VuZFBvc2l0aW9uPXIucGlja2VyRmFjZStyLnBpY2tlckluc2V0K01hdGgucm91bmQoci5oc3ZbMF0vNioobXhKU0NvbG9yLmltYWdlcy5wYWRbMF0tMSkpLU1hdGguZmxvb3IobXhKU0NvbG9yLmltYWdlcy5jcm9zc1swXS8yKSsicHggIisoci5waWNrZXJGYWNlK3IucGlja2VySW5zZXQrTWF0aC5yb3VuZCgoMS1yLmhzdlthXSkqKG14SlNDb2xvci5pbWFnZXMucGFkWzFdLTEpKS1NYXRoLmZsb29yKG14SlNDb2xvci5pbWFnZXMuY3Jvc3NbMV0vMikpKyJweCI7YT1teEpTQ29sb3IucGlja2VyLnNsZC5jaGlsZE5vZGVzO3N3aXRjaCh0KXtjYXNlIDA6Zm9yKHZhciBiPWMoci5oc3ZbMF0sci5oc3ZbMV0sMSksZD0wO2Q8YS5sZW5ndGg7ZCs9MSlhW2RdLnN0eWxlLmJhY2tncm91bmRDb2xvcj0KInJnYigiK2JbMF0qKDEtZC9hLmxlbmd0aCkqMTAwKyIlLCIrYlsxXSooMS1kL2EubGVuZ3RoKSoxMDArIiUsIitiWzJdKigxLWQvYS5sZW5ndGgpKjEwMCsiJSkiO2JyZWFrO2Nhc2UgMTp2YXIgZSxmPVtyLmhzdlsyXSwwLDBdLGQ9TWF0aC5mbG9vcihyLmhzdlswXSksZz1kJTI/ci5oc3ZbMF0tZDoxLShyLmhzdlswXS1kKTtzd2l0Y2goZCl7Y2FzZSA2OmNhc2UgMDpiPVswLDEsMl07YnJlYWs7Y2FzZSAxOmI9WzEsMCwyXTticmVhaztjYXNlIDI6Yj1bMiwwLDFdO2JyZWFrO2Nhc2UgMzpiPVsyLDEsMF07YnJlYWs7Y2FzZSA0OmI9WzEsMiwwXTticmVhaztjYXNlIDU6Yj1bMCwyLDFdfWZvcihkPTA7ZDxhLmxlbmd0aDtkKz0xKWU9MS0xLyhhLmxlbmd0aC0xKSpkLGZbMV09ZlswXSooMS1lKmcpLGZbMl09ZlswXSooMS1lKSxhW2RdLnN0eWxlLmJhY2tncm91bmRDb2xvcj0icmdiKCIrMTAwKmZbYlswXV0rIiUsIisxMDAqZltiWzFdXSsiJSwiKzEwMCpmW2JbMl1dKyIlKSJ9fWZ1bmN0aW9uIGcoKXtzd2l0Y2godCl7Y2FzZSAwOnZhciBhPQoyO2JyZWFrO2Nhc2UgMTphPTF9bXhKU0NvbG9yLnBpY2tlci5zbGRNLnN0eWxlLmJhY2tncm91bmRQb3NpdGlvbj0iMCAiKyhyLnBpY2tlckZhY2Urci5waWNrZXJJbnNldCtNYXRoLnJvdW5kKCgxLXIuaHN2W2FdKSoobXhKU0NvbG9yLmltYWdlcy5zbGRbMV0tMSkpLU1hdGguZmxvb3IobXhKU0NvbG9yLmltYWdlcy5hcnJvd1sxXS8yKSkrInB4In1mdW5jdGlvbiBrKCl7cmV0dXJuIG14SlNDb2xvci5waWNrZXImJm14SlNDb2xvci5waWNrZXIub3duZXI9PT1yfWZ1bmN0aW9uIGwoKXt1IT09YSYmci5pbXBvcnRDb2xvcigpfWZ1bmN0aW9uIG0oYSl7dmFyIGI9bXhKU0NvbG9yLmdldFJlbE1vdXNlUG9zKGEpO2E9Yi54LXIucGlja2VyRmFjZS1yLnBpY2tlckluc2V0O2I9Yi55LXIucGlja2VyRmFjZS1yLnBpY2tlckluc2V0O3N3aXRjaCh0KXtjYXNlIDA6ci5mcm9tSFNWKDYvKG14SlNDb2xvci5pbWFnZXMucGFkWzBdLTEpKmEsMS1iLyhteEpTQ29sb3IuaW1hZ2VzLnBhZFsxXS0KMSksbnVsbCx2KTticmVhaztjYXNlIDE6ci5mcm9tSFNWKDYvKG14SlNDb2xvci5pbWFnZXMucGFkWzBdLTEpKmEsbnVsbCwxLWIvKG14SlNDb2xvci5pbWFnZXMucGFkWzFdLTEpLHYpfX1mdW5jdGlvbiBuKGEpe2E9bXhKU0NvbG9yLmdldFJlbE1vdXNlUG9zKGEpLnktci5waWNrZXJGYWNlLXIucGlja2VySW5zZXQ7c3dpdGNoKHQpe2Nhc2UgMDpyLmZyb21IU1YobnVsbCxudWxsLDEtYS8obXhKU0NvbG9yLmltYWdlcy5zbGRbMV0tMSksQyk7YnJlYWs7Y2FzZSAxOnIuZnJvbUhTVihudWxsLDEtYS8obXhKU0NvbG9yLmltYWdlcy5zbGRbMV0tMSksbnVsbCxDKX19ZnVuY3Rpb24gcCgpe2lmKHIub25JbW1lZGlhdGVDaGFuZ2UpaWYoInN0cmluZyI9PT10eXBlb2Ygci5vbkltbWVkaWF0ZUNoYW5nZSlldmFsKHIub25JbW1lZGlhdGVDaGFuZ2UpO2Vsc2Ugci5vbkltbWVkaWF0ZUNoYW5nZShyKX10aGlzLmFkanVzdD10aGlzLnJlcXVpcmVkPSEwO3RoaXMuaGFzaD0hMTt0aGlzLnNsaWRlcj0KdGhpcy5jYXBzPSEwO3RoaXMuc3R5bGVFbGVtZW50PXRoaXMudmFsdWVFbGVtZW50PWE7dGhpcy5vbkltbWVkaWF0ZUNoYW5nZT1udWxsO3RoaXMuaHN2PVswLDAsMV07dGhpcy5yZ2I9WzEsMSwxXTt0aGlzLnBpY2tlck9uZm9jdXM9ITA7dGhpcy5waWNrZXJNb2RlPSJIU1YiO3RoaXMucGlja2VyUG9zaXRpb249ImJvdHRvbSI7dGhpcy5waWNrZXJTbWFydFBvc2l0aW9uPSEwO3RoaXMucGlja2VyQnV0dG9uSGVpZ2h0PTIwO3RoaXMucGlja2VyQ2xvc2FibGU9ITE7dGhpcy5waWNrZXJDbG9zZVRleHQ9IkNsb3NlIjt0aGlzLnBpY2tlckJ1dHRvbkNvbG9yPSJCdXR0b25UZXh0Ijt0aGlzLnBpY2tlckZhY2U9MDt0aGlzLnBpY2tlckZhY2VDb2xvcj0iVGhyZWVERmFjZSI7dGhpcy5waWNrZXJCb3JkZXI9MTt0aGlzLnBpY2tlckJvcmRlckNvbG9yPSJUaHJlZURIaWdobGlnaHQgVGhyZWVEU2hhZG93IFRocmVlRFNoYWRvdyBUaHJlZURIaWdobGlnaHQiO3RoaXMucGlja2VySW5zZXQ9CjE7dGhpcy5waWNrZXJJbnNldENvbG9yPSJUaHJlZURTaGFkb3cgVGhyZWVESGlnaGxpZ2h0IFRocmVlREhpZ2hsaWdodCBUaHJlZURTaGFkb3ciO3RoaXMucGlja2VyWkluZGV4PTFFNDtmb3IodmFyIHEgaW4gYiliLmhhc093blByb3BlcnR5KHEpJiYodGhpc1txXT1iW3FdKTt0aGlzLmhpZGVQaWNrZXI9ZnVuY3Rpb24oKXtrKCkmJihkZWxldGUgbXhKU0NvbG9yLnBpY2tlci5vd25lcixkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiYm9keSIpWzBdLnJlbW92ZUNoaWxkKG14SlNDb2xvci5waWNrZXIuYm94QikpfTt0aGlzLnNob3dQaWNrZXI9ZnVuY3Rpb24oKXtrKCl8fChteEpTQ29sb3IuZ2V0RWxlbWVudFBvcyhhKSxteEpTQ29sb3IuZ2V0RWxlbWVudFNpemUoYSksbXhKU0NvbG9yLmdldFZpZXdQb3MoKSxteEpTQ29sb3IuZ2V0Vmlld1NpemUoKSxlKHRoaXMpLHRoaXMucGlja2VyUG9zaXRpb24udG9Mb3dlckNhc2UoKSxkKDAsMCkpfTt0aGlzLmltcG9ydENvbG9yPQpmdW5jdGlvbigpe3U/dGhpcy5hZGp1c3Q/IXRoaXMucmVxdWlyZWQmJi9eXHMqJC8udGVzdCh1LnZhbHVlKT8odS52YWx1ZT0iIix4LnN0eWxlLmJhY2tncm91bmRJbWFnZT14LmpzY1N0eWxlLmJhY2tncm91bmRJbWFnZSx4LnN0eWxlLmJhY2tncm91bmRDb2xvcj14LmpzY1N0eWxlLmJhY2tncm91bmRDb2xvcix4LnN0eWxlLmNvbG9yPXguanNjU3R5bGUuY29sb3IsdGhpcy5leHBvcnRDb2xvcihBfHopKTp0aGlzLmZyb21TdHJpbmcodS52YWx1ZSl8fHRoaXMuZXhwb3J0Q29sb3IoKTp0aGlzLmZyb21TdHJpbmcodS52YWx1ZSxBKXx8KHguc3R5bGUuYmFja2dyb3VuZEltYWdlPXguanNjU3R5bGUuYmFja2dyb3VuZEltYWdlLHguc3R5bGUuYmFja2dyb3VuZENvbG9yPXguanNjU3R5bGUuYmFja2dyb3VuZENvbG9yLHguc3R5bGUuY29sb3I9eC5qc2NTdHlsZS5jb2xvcix0aGlzLmV4cG9ydENvbG9yKEF8eikpOnRoaXMuZXhwb3J0Q29sb3IoKX07dGhpcy5leHBvcnRDb2xvcj1mdW5jdGlvbihhKXtpZighKGEmCkEpJiZ1KXt2YXIgYj10aGlzLnRvU3RyaW5nKCk7dGhpcy5jYXBzJiYoYj1iLnRvVXBwZXJDYXNlKCkpO3RoaXMuaGFzaCYmKGI9IiMiK2IpO3UudmFsdWU9Yn1hJnp8fCF4fHwoeC5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2U9Im5vbmUiLHguc3R5bGUuYmFja2dyb3VuZENvbG9yPSIjIit0aGlzLnRvU3RyaW5nKCkseC5zdHlsZS5jb2xvcj0uNT4uMjEzKnRoaXMucmdiWzBdKy43MTUqdGhpcy5yZ2JbMV0rLjA3Mip0aGlzLnJnYlsyXT8iI0ZGRiI6IiMwMDAiKTthJkN8fCFrKCl8fGYoKTthJnZ8fCFrKCl8fGcoKX07dGhpcy5mcm9tSFNWPWZ1bmN0aW9uKGEsYixkLGUpezA+YSYmKGE9MCk7NjxhJiYoYT02KTswPmImJihiPTApOzE8YiYmKGI9MSk7MD5kJiYoZD0wKTsxPGQmJihkPTEpO3RoaXMucmdiPWMobnVsbD09PWE/dGhpcy5oc3ZbMF06dGhpcy5oc3ZbMF09YSxudWxsPT09Yj90aGlzLmhzdlsxXTp0aGlzLmhzdlsxXT1iLG51bGw9PT1kP3RoaXMuaHN2WzJdOnRoaXMuaHN2WzJdPQpkKTt0aGlzLmV4cG9ydENvbG9yKGUpfTt0aGlzLmZyb21SR0I9ZnVuY3Rpb24oYSxiLGMsZCl7MD5hJiYoYT0wKTsxPGEmJihhPTEpOzA+YiYmKGI9MCk7MTxiJiYoYj0xKTswPmMmJihjPTApOzE8YyYmKGM9MSk7YT1udWxsPT09YT90aGlzLnJnYlswXTp0aGlzLnJnYlswXT1hO2I9bnVsbD09PWI/dGhpcy5yZ2JbMV06dGhpcy5yZ2JbMV09Yjt2YXIgZT1udWxsPT09Yz90aGlzLnJnYlsyXTp0aGlzLnJnYlsyXT1jLGY9TWF0aC5taW4oTWF0aC5taW4oYSxiKSxlKTtjPU1hdGgubWF4KE1hdGgubWF4KGEsYiksZSk7dmFyIGc9Yy1mOzA9PT1nP2E9W251bGwsMCxjXTooYT1hPT09Zj8zKyhlLWIpL2c6Yj09PWY/NSsoYS1lKS9nOjErKGItYSkvZyxhPVs2PT09YT8wOmEsZy9jLGNdKTtudWxsIT09YVswXSYmKHRoaXMuaHN2WzBdPWFbMF0pOzAhPT1hWzJdJiYodGhpcy5oc3ZbMV09YVsxXSk7dGhpcy5oc3ZbMl09YVsyXTt0aGlzLmV4cG9ydENvbG9yKGQpfTt0aGlzLmZyb21TdHJpbmc9CmZ1bmN0aW9uKGEsYil7dmFyIGM9YS5tYXRjaCgvXlxXKihbMC05QS1GXXszfShbMC05QS1GXXszfSk/KVxXKiQvaSk7cmV0dXJuIGM/KDY9PT1jWzFdLmxlbmd0aD90aGlzLmZyb21SR0IocGFyc2VJbnQoY1sxXS5zdWJzdHIoMCwyKSwxNikvMjU1LHBhcnNlSW50KGNbMV0uc3Vic3RyKDIsMiksMTYpLzI1NSxwYXJzZUludChjWzFdLnN1YnN0cig0LDIpLDE2KS8yNTUsYik6dGhpcy5mcm9tUkdCKHBhcnNlSW50KGNbMV0uY2hhckF0KDApK2NbMV0uY2hhckF0KDApLDE2KS8yNTUscGFyc2VJbnQoY1sxXS5jaGFyQXQoMSkrY1sxXS5jaGFyQXQoMSksMTYpLzI1NSxwYXJzZUludChjWzFdLmNoYXJBdCgyKStjWzFdLmNoYXJBdCgyKSwxNikvMjU1LGIpLCEwKTohMX07dGhpcy50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybigyNTZ8TWF0aC5yb3VuZCgyNTUqdGhpcy5yZ2JbMF0pKS50b1N0cmluZygxNikuc3Vic3RyKDEpKygyNTZ8TWF0aC5yb3VuZCgyNTUqdGhpcy5yZ2JbMV0pKS50b1N0cmluZygxNikuc3Vic3RyKDEpKwooMjU2fE1hdGgucm91bmQoMjU1KnRoaXMucmdiWzJdKSkudG9TdHJpbmcoMTYpLnN1YnN0cigxKX07dmFyIHI9dGhpcyx0PSJodnMiPT09dGhpcy5waWNrZXJNb2RlLnRvTG93ZXJDYXNlKCk/MTowLHU9bXhKU0NvbG9yLmZldGNoRWxlbWVudCh0aGlzLnZhbHVlRWxlbWVudCkseD1teEpTQ29sb3IuZmV0Y2hFbGVtZW50KHRoaXMuc3R5bGVFbGVtZW50KSx5PSExLEI9ITEsQT0xLHo9MixDPTQsdj04O3UmJihxPWZ1bmN0aW9uKCl7ci5mcm9tU3RyaW5nKHUudmFsdWUsQSk7cCgpfSxteEpTQ29sb3IuYWRkRXZlbnQodSwia2V5dXAiLHEpLG14SlNDb2xvci5hZGRFdmVudCh1LCJpbnB1dCIscSksbXhKU0NvbG9yLmFkZEV2ZW50KHUsImJsdXIiLGwpLHUuc2V0QXR0cmlidXRlKCJhdXRvY29tcGxldGUiLCJvZmYiKSk7eCYmKHguanNjU3R5bGU9e2JhY2tncm91bmRJbWFnZTp4LnN0eWxlLmJhY2tncm91bmRJbWFnZSxiYWNrZ3JvdW5kQ29sb3I6eC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IsCmNvbG9yOnguc3R5bGUuY29sb3J9KTtzd2l0Y2godCl7Y2FzZSAwOm14SlNDb2xvci5yZXF1aXJlSW1hZ2UoImhzLnBuZyIpO2JyZWFrO2Nhc2UgMTpteEpTQ29sb3IucmVxdWlyZUltYWdlKCJodi5wbmciKX10aGlzLmltcG9ydENvbG9yKCl9fTtteEpTQ29sb3IuaW5zdGFsbCgpOwpFZGl0b3I9ZnVuY3Rpb24oYSxjLGYsZCxrKXtteEV2ZW50U291cmNlLmNhbGwodGhpcyk7dGhpcy5jaHJvbWVsZXNzPW51bGwhPWE/YTp0aGlzLmNocm9tZWxlc3M7dGhpcy5pbml0U3RlbmNpbFJlZ2lzdHJ5KCk7dGhpcy5ncmFwaD1kfHx0aGlzLmNyZWF0ZUdyYXBoKGMsZik7dGhpcy5lZGl0YWJsZT1udWxsIT1rP2s6IWE7dGhpcy51bmRvTWFuYWdlcj10aGlzLmNyZWF0ZVVuZG9NYW5hZ2VyKCk7dGhpcy5zdGF0dXM9IiI7dGhpcy5nZXRPckNyZWF0ZUZpbGVuYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZmlsZW5hbWV8fG14UmVzb3VyY2VzLmdldCgiZHJhd2luZyIsW0VkaXRvci5wYWdlQ291bnRlcl0pKyIueG1sIn07dGhpcy5nZXRGaWxlbmFtZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmZpbGVuYW1lfTt0aGlzLnNldFN0YXR1cz1mdW5jdGlvbihhKXt0aGlzLnN0YXR1cz1hO3RoaXMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KCJzdGF0dXNDaGFuZ2VkIikpfTt0aGlzLmdldFN0YXR1cz0KZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdGF0dXN9O3RoaXMuZ3JhcGhDaGFuZ2VMaXN0ZW5lcj1mdW5jdGlvbihhLGQpe3ZhciBiPW51bGwhPWQ/ZC5nZXRQcm9wZXJ0eSgiZWRpdCIpOm51bGw7bnVsbCE9YiYmYi5pZ25vcmVFZGl0fHx0aGlzLnNldE1vZGlmaWVkKCEwKX07dGhpcy5ncmFwaC5nZXRNb2RlbCgpLmFkZExpc3RlbmVyKG14RXZlbnQuQ0hBTkdFLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dGhpcy5ncmFwaENoYW5nZUxpc3RlbmVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pKTt0aGlzLmdyYXBoLnJlc2V0Vmlld09uUm9vdENoYW5nZT0hMTt0aGlzLmluaXQoKX07RWRpdG9yLnBhZ2VDb3VudGVyPTA7CihmdW5jdGlvbigpe3RyeXtmb3IodmFyIGE9d2luZG93O251bGwhPWEub3BlbmVyJiYidW5kZWZpbmVkIiE9PXR5cGVvZiBhLm9wZW5lci5FZGl0b3ImJiFpc05hTihhLm9wZW5lci5FZGl0b3IucGFnZUNvdW50ZXIpJiZhLm9wZW5lciE9YTspYT1hLm9wZW5lcjtudWxsIT1hJiYoYS5FZGl0b3IucGFnZUNvdW50ZXIrKyxFZGl0b3IucGFnZUNvdW50ZXI9YS5FZGl0b3IucGFnZUNvdW50ZXIpfWNhdGNoKGMpe319KSgpO0VkaXRvci51c2VMb2NhbFN0b3JhZ2U9InVuZGVmaW5lZCIhPXR5cGVvZiBTdG9yYWdlJiZteENsaWVudC5JU19JT1M7CkVkaXRvci5tb3ZlSW1hZ2U9bXhDbGllbnQuSVNfU1ZHPyJkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBITjJaeUI0Yld4dWN6MGlhSFIwY0RvdkwzZDNkeTUzTXk1dmNtY3ZNakF3TUM5emRtY2lJSFpwWlhkQ2IzZzlJakFnTUNBeU5DQXlOQ0lnZDJsa2RHZzlJakk0Y0hnaUlHaGxhV2RvZEQwaU1qaHdlQ0krUEdjK1BDOW5QanhuUGp4blBqeG5Qanh3WVhSb0lIUnlZVzV6Wm05eWJUMGlkSEpoYm5Oc1lYUmxLREl1TkN3eUxqUXBjMk5oYkdVb01DNDRLWEp2ZEdGMFpTZzBOU3d4TWl3eE1pa2lJSE4wY205clpUMGlJekk1WWpabU1pSWdabWxzYkQwaUl6STVZalptTWlJZ1pEMGlUVEUxTEROc01pNHpMREl1TTJ3dE1pNDRPU3d5TGpnM2JERXVORElzTVM0ME1rd3hPQzQzTERZdU4wd3lNU3c1VmpOSU1UVjZJRTB6TERsc01pNHpMVEl1TTJ3eUxqZzNMREl1T0Rsc01TNDBNaTB4TGpReVREWXVOeXcxTGpOTU9Td3pTRE5XT1hvZ1RUa3NNakVnYkMweUxqTXRNaTR6YkRJdU9Ea3RNaTQ0TjJ3dE1TNDBNaTB4TGpReVREVXVNeXd4Tnk0elRETXNNVFYyTmtnNWVpQk5NakVzTVRWc0xUSXVNeXd5TGpOc0xUSXVPRGN0TWk0NE9Xd3RNUzQwTWl3eExqUXliREl1T0Rrc01pNDROMHd4TlN3eU1XZzJWakUxZWlJdlBqd3ZaejQ4TDJjK1BDOW5Qand2YzNablBnbz0iOklNQUdFX1BBVEgrCiIvbW92ZS5wbmciO0VkaXRvci5yb3dNb3ZlSW1hZ2U9bXhDbGllbnQuSVNfU1ZHPyJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUFjQUFBQUVCQU1BQUFDdzZEaE9BQUFBR0ZCTVZFVXpNelAvLy85dGJXMVFVRkNLaW9wQlFVRjhmSHhmWDEvSVhsbVhBQUFBRkVsRVFWUUltV05nTlZkellCQVVGQlJnZ0xNQUV6WUJ5MjlrRVBnQUFBQUFTVVZPUks1Q1lJST0iOklNQUdFX1BBVEgrIi90aHVtYl9ob3J6LnBuZyI7CkVkaXRvci5oZWxwSW1hZ2U9bXhDbGllbnQuSVNfU1ZHPyJkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBITjJaeUI0Yld4dWN6MGlhSFIwY0RvdkwzZDNkeTUzTXk1dmNtY3ZNakF3TUM5emRtY2lJSGRwWkhSb1BTSXlOQ0lnYUdWcFoyaDBQU0l5TkNJZ2RtbGxkMEp2ZUQwaU1DQXdJREkwSURJMElqNDhjR0YwYUNCbWFXeHNQU0p1YjI1bElpQmtQU0pOTUNBd2FESTBkakkwU0RCNklpOCtQSEJoZEdnZ1pEMGlUVEV4SURFNGFESjJMVEpvTFRKMk1ucHRNUzB4TmtNMkxqUTRJRElnTWlBMkxqUTRJRElnTVRKek5DNDBPQ0F4TUNBeE1DQXhNQ0F4TUMwMExqUTRJREV3TFRFd1V6RTNMalV5SURJZ01USWdNbnB0TUNBeE9HTXROQzQwTVNBd0xUZ3RNeTQxT1MwNExUaHpNeTQxT1MwNElEZ3RPQ0E0SURNdU5Ua2dPQ0E0TFRNdU5Ua2dPQzA0SURoNmJUQXRNVFJqTFRJdU1qRWdNQzAwSURFdU56a3ROQ0EwYURKak1DMHhMakV1T1MweUlESXRNbk15SUM0NUlESWdNbU13SURJdE15QXhMamMxTFRNZ05XZ3lZekF0TWk0eU5TQXpMVEl1TlNBekxUVWdNQzB5TGpJeExURXVOemt0TkMwMExUUjZJaTgrUEM5emRtYysiOklNQUdFX1BBVEgrCiIvaGVscC5wbmciOwpFZGl0b3IuY2hlY2ttYXJrSW1hZ2U9bXhDbGllbnQuSVNfU1ZHPyJkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhGUUFWQU1RZkFHeHNiSHg4ZklxS2lvYUdodmIyOW5KeWN2cjYrc0RBd0pxYW1sdGJXNU9UaytucDZZR0JnZVRrNUx5OHZKaVltUDM5L2ZMeThxV2xwYTZ1cnNqSXlPTGk0dmo0K04vZjMrM3Q3ZlQwOUxDd3NIWjJkdWJtNXI2K3ZtWm1adi8vL3lIL0MxaE5VQ0JFWVhSaFdFMVFQRDk0Y0dGamEyVjBJR0psWjJsdVBTTHZ1NzhpSUdsa1BTSlhOVTB3VFhCRFpXaHBTSHB5WlZONlRsUmplbXRqT1dRaVB6NGdQSGc2ZUcxd2JXVjBZU0I0Yld4dWN6cDRQU0poWkc5aVpUcHVjenB0WlhSaEx5SWdlRHA0YlhCMGF6MGlRV1J2WW1VZ1dFMVFJRU52Y21VZ05TNHdMV013TmpBZ05qRXVNVE0wTnpjM0xDQXlNREV3THpBeUx6RXlMVEUzT2pNeU9qQXdJQ0FnSUNBZ0lDQWlQaUE4Y21SbU9sSkVSaUI0Yld4dWN6cHlaR1k5SW1oMGRIQTZMeTkzZDNjdWR6TXViM0puTHpFNU9Ua3ZNREl2TWpJdGNtUm1MWE41Ym5SaGVDMXVjeU1pUGlBOGNtUm1Pa1JsYzJOeWFYQjBhVzl1SUhKa1pqcGhZbTkxZEQwaUlpQjRiV3h1Y3pwNGJYQTlJbWgwZEhBNkx5OXVjeTVoWkc5aVpTNWpiMjB2ZUdGd0x6RXVNQzhpSUhodGJHNXpPbmh0Y0UxTlBTSm9kSFJ3T2k4dmJuTXVZV1J2WW1VdVkyOXRMM2hoY0M4eExqQXZiVzB2SWlCNGJXeHVjenB6ZEZKbFpqMGlhSFIwY0RvdkwyNXpMbUZrYjJKbExtTnZiUzk0WVhBdk1TNHdMM05VZVhCbEwxSmxjMjkxY21ObFVtVm1JeUlnZUcxd09rTnlaV0YwYjNKVWIyOXNQU0pCWkc5aVpTQlFhRzkwYjNOb2IzQWdRMU0xSUZkcGJtUnZkM01pSUhodGNFMU5Pa2x1YzNSaGJtTmxTVVE5SW5odGNDNXBhV1E2T0VZNE5UWkVSVFE1UVVGQk1URkZNVUU1TVRWRE9UTTVNVVpHTVRFM00wUWlJSGh0Y0UxTk9rUnZZM1Z0Wlc1MFNVUTlJbmh0Y0M1a2FXUTZPRVk0TlRaRVJUVTVRVUZCTVRGRk1VRTVNVFZET1RNNU1VWkdNVEUzTTBRaVBpQThlRzF3VFUwNlJHVnlhWFpsWkVaeWIyMGdjM1JTWldZNmFXNXpkR0Z1WTJWSlJEMGllRzF3TG1scFpEbzRSamcxTmtSRk1qbEJRVUV4TVVVeFFUa3hOVU01TXpreFJrWXhNVGN6UkNJZ2MzUlNaV1k2Wkc5amRXMWxiblJKUkQwaWVHMXdMbVJwWkRvNFJqZzFOa1JGTXpsQlFVRXhNVVV4UVRreE5VTTVNemt4UmtZeE1UY3pSQ0l2UGlBOEwzSmtaanBFWlhOamNtbHdkR2x2Ymo0Z1BDOXlaR1k2VWtSR1BpQThMM2c2ZUcxd2JXVjBZVDRnUEQ5NGNHRmphMlYwSUdWdVpEMGljaUkvUGdILy92MzgrL3I1K1BmMjlmVHo4dkh3Nys3dDdPdnE2ZWpuNXVYazQrTGg0Ti9lM2R6YjJ0blkxOWJWMU5QUzBkRFB6czNNeThySnlNZkd4Y1REd3NIQXY3Njl2THU2dWJpM3RyVzBzN0t4c0srdXJheXJxcW1vcDZhbHBLT2lvYUNmbnAyY201cVptSmVXbFpTVGtwR1FqNDZOakl1S2lZaUhob1dFZzRLQmdIOStmWHg3ZW5sNGQzWjFkSE55Y1hCdmJtMXNhMnBwYUdkbVpXUmpZbUZnWDE1ZFhGdGFXVmhYVmxWVVUxSlJVRTlPVFV4TFNrbElSMFpGUkVOQ1FVQS9QajA4T3pvNU9EYzJOVFF6TWpFd0x5NHRMQ3NxS1NnbkppVWtJeUloSUI4ZUhSd2JHaGtZRnhZVkZCTVNFUkFQRGcwTUN3b0pDQWNHQlFRREFnRUFBQ0g1QkFFQUFCOEFMQUFBQUFBVkFCVUFBQVZJNENlT1pHbWVhS3F1Ykt0eWxrdFNnQ09MUnlMZDMrUUpFSm5oNFZIY01vT2ZZUVhRTEJjQkQ0UEE2bmdHbElJbkVIRWhQT0FOUmthSUZocThTdUhDRTFIYjhMaDhMZ3NCQURzPSI6SU1BR0VfUEFUSCsKIi9jaGVja21hcmsuZ2lmIjtFZGl0b3IubWF4aW1pemVJbWFnZT0iZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFCVUFBQUFWQkFNQUFBQmJPYmlsQUFBQUVsQk1WRVVBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQURnS3htaUFBQUFCWFJTVGxNQTc1OHZYMVB3M0JvQUFBQkpTVVJCVkFqWFk4QUpRa09ER0JoVVEwTWhiQVVHQmlZWTI0Q0JnUm5HRm1aZ01JU3dnd3dER1JoRWhWVkJiQVZtRVFZR1J3TW1CaklBUWkvQ1RJUmQ2RzVBdUEzZHpZUUJBSGowRUZkSGt2VjRBQUFBQUVsRlRrU3VRbUNDIjtFZGl0b3Iuem9vbU91dEltYWdlPSJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUJVQUFBQVZCQU1BQUFCYk9iaWxBQUFBRWxCTVZFVUFBQUFBQUFBc0xDeHhjWEVoSVNGZ1lHQ2hqVFV4QUFBQUFYUlNUbE1BUU9iWVpnQUFBRWRKUkVGVUNOZGpJQU13Q1FyQjJZS0NnZ0pRSnFNd0E3TWdsSzFvd01CZ3FBQlZBcElUZ0xKWlhGeGdiSVE0UWozQ0hJVDVnZ29JZTVrZ05rTTFLU0RZS0JLcXhQa0RBUG81QkFaQkU1NGhBQUFBQUVsRlRrU3VRbUNDIjsKRWRpdG9yLnpvb21JbkltYWdlPSJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUJVQUFBQVZCQU1BQUFCYk9iaWxBQUFBRWxCTVZFVUFBQUFBQUFBc0xDd2hJU0Z4Y1hGZ1lHQmF2S2FvQUFBQUFYUlNUbE1BUU9iWVpnQUFBRWxKUkVGVUNOZGpJQU13Q1FyQjJZS0NnZ0pRSnFNSUE0c2dsSzNvd016Z3FBQlZ3c0RNd0NnQVpUTWJHOFBZQ0hHRWVvUTVDUE1GRlJEMk1rRnNobXBTUUxCUkpGU0o4d2NBRXFjRU0ydWhsMk1BQUFBQVNVVk9SSzVDWUlJPSI7RWRpdG9yLnpvb21GaXRJbWFnZT0iZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFCVUFBQUFWQkFNQUFBQmJPYmlsQUFBQUQxQk1WRVVBQUFBQUFBQXdNREJ3Y0hCZ1lHQzF4bDA5QUFBQUFYUlNUbE1BUU9iWVpnQUFBRUZKUkVGVUNOZGpJQU13Q1FyQjJZS0NnZ0pRSnFNd0E3TWdsSzFvd01CZ3FBQlZBcElUd01kR3FFZVlnekJmVUFGaEx4UEVacWdtQlFRYlJVS0ZPSDhBQUs1T0EzbEErRkZPQUFBQUFFbEZUa1N1UW1DQyI7CkVkaXRvci5sYXllcnNJbWFnZT0iZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFCVUFBQUFWQ0FNQUFBQ2V5VldrQUFBQWFWQk1WRVVBQUFBZ0lDQUlDQWdkSFIwUER3OFdGaFlJQ0FnTEN3c1hGeGN2THk4T0RnNHVMaTRpSWlJcUtpb2tKQ1FZR0JnS0Nnb25KeWNGQlFVQ0FnSXFLaW9jSEJ3Y0hCd09EZzRlSGg0Y0hCd25KeWNKQ1FrVUZCUXFLaW9qSXlNdUxpNFpHUmtnSUNBRUJBVE9XWVhBQUFBQUduUlNUbE1BRDcrZm56OC9INy9mZjE4Lzc3K3ZyNStmbjM5L2IyOGZIMnhTb0tzQUFBQ1FTVVJCVkJqVHJZeEpFc01nREFSWlpNQVk3M3NnQ2NuL0h4bmhLdG5rN2o2b1JxMHBzZnVveW5kWi9TdU9Ea0hQTHpmVlQ2S2V5UGVQbko3S3Jua1JqV01YVG40U01uTjhtWGUyU1NNM3RzOEwvWlV4eHJiQVVMU1lKSlVMRTBJdzlwanBlbm9JQ2NnY1g2MW1HZ1RndEN2OUJlOTlwekNvRGhOUVdRbmNoRDFtdXA1KytDWUdjb1FleGFqWmJmd0FqLzBNRDhaT2FVZ0FBQUFBU1VWT1JLNUNZSUk9IjsKRWRpdG9yLnByZXZpb3VzSW1hZ2U9ImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQlFBQUFBVUNBWUFBQUNOaVIwTkFBQUFCbUpMUjBRQS93RC9BUCtndmFlVEFBQUFoMGxFUVZRNGplM1VzUW5DVUJDQTRVOGhwYTFOc29FanBIUUpTMGR4QURkd0VNdU1JSmtnQTFoWUNoYkdRZ01pK0pDOHE0TC9BQi92RHU3eDc0Y1dXRVpoSlU0NFJtQTF6dWpSNUdJYlhGOVlOcmpEL1EwYkRSWTRmRUJaNFA0TGxnVG5DYkFmODRwVU04LzloWTA4dE1VdEVvUTFMcEVnck5CRmdsQ2hGWFI2UTZHZnd3UjZBR0tKTUY3NFZ0dDNBQUFBQUVsRlRrU3VRbUNDIjtFZGl0b3IubmV4dEltYWdlPSJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUJRQUFBQVVDQVlBQUFDTmlSME5BQUFBQm1KTFIwUUEvd0QvQVArZ3ZhZVRBQUFBaTBsRVFWUTRqZVhVSVE3Q1VBd0EwTWVHeFdJMnl5bHduQUxKVWRCY2dZdk03UVlMbWpPUUlBa0lQbUpaZ2hpSXZ5cG9VdFgwdGZuSkwzOFg1WmZhRWdVZVVjTWFuRkJIZ1MwU0xsaEhnZ2szYkNQQmhDZjJrZUNRUjh3andZVERwNllpWnhKbU9VMWpHdzd2R0FMZXNjdUJ4c0FyTmxPd2QvQ00xVlNNL3V0MXFDSXcrdU93aU1KK09GNENRekJDWG0zaHlBQUFBQUJKUlU1RXJrSmdnZz09IjsKRWRpdG9yLmVkaXRJbWFnZT1teENsaWVudC5JU19TVkc/ImRhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCxSMGxHT0RsaEN3QUxBSUFCQUZkWFYvLy8veUg1QkFFQUFBRUFMQUFBQUFBTEFBc0FBQUlaakI4QWlLdWM0anZMT0dxenJqWDZ6bWtXeUNoWGFVSkJBUUE3IjpJTUFHRV9QQVRIKyIvZWRpdC5naWYiO0VkaXRvci56b29tT3V0TGFyZ2VJbWFnZT0iZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFDQUFBQUFnQ0FNQUFBQkVwSXJHQUFBQWlsQk1WRVVBQUFELy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vMk4yaU5BQUFBTFhSU1RsTUErdlRjS01NOTZHUkJId1h4aTBZYVgxSExyS1doaUhwV0VPbk9yNTJWYjJ4S1NEY1QxOVBLdjVsL05nZGs4K3ZpQUFBQkprbEVRVlE0eTRXVDJYYURNQXhFdldEMm5TU1VORW5USk4zci8vKzlTajdJTEFZNkwwaWpDNE9OWVZaUnBvNmNCeXJ6MllLU1VHb3JHVHB6NzFsUFZIdlQrYXZvQjV3SWtVL214azh2ZWNlU3VOb0xnNDRJenppWGp2cGloNzJ3S1FubTh5YzJVb2lQL0xBZDhqUWZlMlhmNFBxKzJFeVlJdnY5d2J6SEhDZ3d4RGRsQnRXWk9kcURmVENWZ3FweWdRcHNaYW9qVkFWYzlValF4bkFKRElCaGlRdjg0dHEzZ01RQ0FWVHhWb1NpYlhKZjh0TXVjN2UxVEIvRENtZWpCTmcvdzFZM2MrQU01dnY0dzd4TTU5L29YYW1ySGFMVnFQUStPVENubU1aeGd6MFNkTDV6amkwL2xkNmo4OHFHYTVLSWlCQjZXZUpHS2ZVS3dTTUtMdVhndmwxVFcwdG01UjlVUUwvZWZTRFlzbnp4RDhDaW5oQnNUVGR1Z0phdEtwSndmOHYrQURiOFFtdlc3QWVBQUFBQUFFbEZUa1N1UW1DQyI7CkVkaXRvci56b29tSW5MYXJnZUltYWdlPSJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUNBQUFBQWdDQU1BQUFCRXBJckdBQUFBaWxCTVZFVUFBQUQvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8yTjJpTkFBQUFMWFJTVGxNQSt2VGNLTU05NkdSQkh3WHhpMFlhWDFITHJLV2hpSHBXRU9uT3I1MlZiMnhLU0RjVDE5UEt2NWwvTmdkazgrdmlBQUFCS0VsRVFWUTR5NFdUNldLQ01CQ0VOd2tCd24yb0ZLdldxcjNMKzc5ZXM0RWtRSURPSDJkM1B4azJBQmlKbEI4SkNYanF3NExpa0hWR0xIVG0zbk0zVWVWTjU2OTBHQkJOMEd3eVYvM2trclVRUitXZUtuUkVlS3B6YVhXZDc3Q21KaVhHZlBJRUk0VjR5UTlUSVcvbnRsY01CZTczMVZ0czl3NVRXRzhGNWozbVFJNGh2cktwZEdlWUE3Q1g5cUFjbDY1MGdWSmFydHhSdWh5SFZnaEY4aWRRQUliRkx2Q0x1MjhCc1FFQzZhS3RDSzZQeWIzSlQ3UG1ibXROSDhOeTU2Q290RC8ycU9zNWNKYnVmZnhnWG1DaWIreGRkVlU1Uk5PaGt2dmtoVGxGZWh6VldDT2gzKytNWUVsT2hmZG92YUltblJZVm1xRGRzdWhOcDFRckJCRTZ1R0MyKzNaTmpHZGc1Qjk0b0QrOXV5VmdXVDc5QndBeEVCVFdkT3UzYldCVmdzbi9OL0FIVUQ5SUMwMU9lNDBBQUFBQVNVVk9SSzVDWUlJPSI7CkVkaXRvci5hY3R1YWxTaXplTGFyZ2VJbWFnZT0iZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFDQUFBQUFnQ0FNQUFBQkVwSXJHQUFBQWlsQk1WRVVBQUFELy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vMk4yaU5BQUFBTFhSU1RsTUErdlRjS01NOTZHUkJId1h4aTBZYVgxSExyS1doaUhwV0VPbk9yNTJWYjJ4S1NEY1QxOVBLdjVsL05nZGs4K3ZpQUFBQklVbEVRVlE0eTRXVDJYcURJQkNGQnhEYzl5VFdORW5USk4zcis3OWVHVDRCRWJYbmF1Yk1yOGRCQmFNNDUwZENRcDRMV0ZBYXNjR0lSZDQ4ZUI0Y05ZRTdmNlhqZ0dpQ0ZzNWMrZG1sNkNGTjZqMVY2SVFJbEhQcGRWL3VzS2NtSmNWODhnUVRSWGpMRDlNaGIrZldxOFlHOS91Q21UQ0ZqZWVEZVk4NVVHS0lVR1V1cXpONDJrdjdvQ291cTlvSGFtbHpWUjFsVmZwQUl1MVFWUmlXK3NBdjdyNEZwQVlJWlpWc1JYQjlUUDVEZnBvMWQxdHJDZ3p6MWlpcHRIL3NVYmR6NEN6TjkrbUxlWEhuMytoZGRkZDRSRGVnc3J2endad1NzMkdMUFJKaWRBcUNMVGxWd2FNUHFwWU1XalRXQkIyV1JXODZwVmtoU0t5REsyYmR0MnRtYWdaRzRzQkQvZXZkTFFITEV2UWZBT0tSb0xDbUcxRkFCNnVLbWJ5K2d6K1JFRG43TzUrRXdRQUFBQUJKUlU1RXJrSmdnZz09IjsKRWRpdG9yLnByaW50TGFyZ2VJbWFnZT0iZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFDQUFBQUFnQ0FNQUFBQkVwSXJHQUFBQVhWQk1WRVVBQUFELy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy85Ukt2dmxBQUFBSG5SU1RsTUF5ZG5sNzdxYk1MVDA5M0g3SzROZDRLdG4wODIrbFl0NWJra2xFZ1A0NG5RU0FBQUFwVWxFUVZRNHk3M1AyUTZESUJSRjBjT2diUkhIemhQLy81bTltQkFRS2pHMWNUMFljN0lUQU11MUxOUWdVWmlRMkRZb05RMHNDUWI2cWdIQWZSeDQ4b3BxM0o5QVo2eHVGN3VPZXc4SWsxT3NDWlJTMlVBQzlWK0Q5YStRWll4TkE0NVlGUWZ0UHRTa0FUT2h3N2RBYzB2UEJ3S1dpSU9qUDBKWjB5TXVRSjI3ZzM2RGlwT1VzcVJBTTBkUjhLRDEvSUxIYUhTRS93OERJeDA5RTNnL0JUY2U2ckhVQjVzQVBLdmZGK0pkQUFBQUFFbEZUa1N1UW1DQyI7CkVkaXRvci5sYXllcnNMYXJnZUltYWdlPSJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUNBQUFBQWdDQU1BQUFCRXBJckdBQUFBbVZCTVZFVUFBQUQvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8rL3Y3Ly8vK2JuWmtrQUFBQU1uUlNUbE1BQlByOEJ5aUQ4OEtzVGkvcnZKYjI3Mm1qZVVBMUN1UGUxTS9LalZ4WUh4TVA2S1owUzluWXpHUkdHUmF6bnBHSWJ6YUdVZjBBQUFIRVNVUkJWRGpMYlpMWllvSXdFRVZEZ0xDamJLSWdBbHFYcXQzbS96K3VOd3UxcmN5RGhqbDNrdG5ZTDdPWTI1NEMwVlgzeVdGWmZ6RHJPQ2xiYmdLeGkwWURIandsNGpiblJrWHhKUy9DMVlQM0RiQmhEMW43RXg0dWFBcWRWRGIzeUovNEovM25KRDJ0by9uZ1F6L0RmVXZ6TXA0Sko1c1NDYUY1b1htZW1nUURmRHh6YmkrS3E0c1Urdk5jdUFteDk0SnR5T1AyREQ0RXB6MmFzV1NDejRaLzRmRUN4eU5qOXpDOXhOTEhjZFBFTythd0RLZVNhVXUwVzR0d1pRaU8yaFlWaXNUUjNSQ3RLL2MxWDZ0NHhNRXBpR3FYcVZudEVCTG9sa1pac0tZNFF0d0g2anpxNjdkRUhsSnlzQjFhTk9EM1hUN24xVWthc1FONTlMNHlDMlJFTE1EU2VDUnR6M3lWMjJVYjNveklVVGtuWXg4SldxRGRReGJVZXM5OGNSMmtadFVTdmVGL2JBaGNlZHdFV21seElrcFpVeTRYT0NiNlZCamp4SHZid28vMWxCQUhIaTJKQ3IwTkk1NzBRaHlIcS9EaEpvRTJsTGd5QTRSVmU2S21aNDdPLzNiODZNQ1AwSFdhNzNBOC9DM1NVYzVRYzFhanQ2ZmdwWEorUkdwTXZEU2NoZXBaRE9PUVJjWlZJS2NLOTB4MkQ3ZXRxdEkrNTYrdTZuM3NQcmlPNm5mcGhpdFI0K08ybTNFYk03bGgzbWUxRk0xbytMTUk4ODdyTitzMy93WmRURmxwTlZKaU9BQUFBQUJKUlU1RXJrSmdnZz09IjsKRWRpdG9yLmNsb3NlTGFyZ2VJbWFnZT0iZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFDQUFBQUFnQ0FNQUFBQkVwSXJHQUFBQVVWQk1WRVVBQUFELy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLzhJTitkZUFBQUFHblJTVGxNQXV2QUlnL2RETS9RbE9ldUZoajBTNXM0dktnemp4SlJRTmlMU2V5MEFBQUROU1VSQlZEakxmWkxiRW9NZ0RFUWpSUlJzMVhxWC8vL1FObU9ISlNualBrSE9HUjdJRW1lb0d0SlpzdG53anFiUmZJc21nRWR0UENxZTlZbno3WlNjMDdyRTJRaVNjK3F2OFR2alJYQTJQRFVtM2RwZTgyaUpoT0VVZnhKSm8zYUN2K2pLbVJtSDRsY0NqQ2plaDlHV09kTC9HWlprWEgzUFlZRHJIQm5mYzREL1JWWmY1c2pvQzF3YXMrWTZIUXh3YVV4RnZxL2EwUHYzNDNWQ1R4ZkJTUmlCK2FiM00zZWlRWlhtTU5CSjNZOHBHUlp0WVE3RGdITVhKRWRQTFRhTi9xQmp6Sk9CYzNubU5jYnNBMTZiTVIwb0xxZitBQUFBQUVsRlRrU3VRbUNDIjsKRWRpdG9yLmVkaXRMYXJnZUltYWdlPSJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUNBQUFBQWdDQU1BQUFCRXBJckdBQUFBZ1ZCTVZFVUFBQUQvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLzlkM3lKVEFBQUFLblJTVGxNQStoemkzblJRV3lYemttMGgyajN1NTRnekVnU1hqbFlvVEJnSnhMMmxvR3BBT1MzSnQ3V3htMzVHYTdnUkFBQUE2VWxFUVZRNHk2M1EyWGFDTUJTRjRRMEpCYXNvUTVESnFiWGpmdjhIYkNLMkJaTndvLzhGWEh4N3JjTUM3bFF1MGlYOHFVL3F0dkFXQ3BvcUg4ZFl6UzBTd2FWNWVLL1VBZjhYOXBkMkNXS3p1RjVKcmZ0cDFvd1h3bklHTFVhTDNQWW5kT0hmNGtOTlhXclhLL203Q0h1bms3SzhMRTZZdEJwY2tud0c5R0t4bnJvWSt5bEJYY3g0eEt5eC91L0V1WGk1MDljUDlWN09PMW95SG56cmRGVGNxTEcvNGliQkE1cElNci80eHZLenVRRGtWeTl3VzhTZ0JGRDZIRHZ1ek12clpjQzlRbGtmTXpJN3c2NG0rYjRQcUJNTkhCMDVsSDIxUFZ4Sm8yL2ZCWHhWNGhCMzhQY0QrNUFrSTRGdUVUc0FBQUFBU1VWT1JLNUNZSUk9IjsKRWRpdG9yLnByZXZpb3VzTGFyZ2VJbWFnZT0iZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFDQUFBQUFnQ0FNQUFBQkVwSXJHQUFBQVBGQk1WRVVBQUFELy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1lTV2dUQUFBQUUzUlNUbE1BN2ZjaTQ5M2MwTVc4dUo2Q1prczRNeFFIRVpMNmV3QUFBRlpKUkVGVU9NdmRrc2tSZ0RBTUE0bER3ZzJCN2I5WE9sZ2UvS0t2ZHNhMjVLRmI1WGxSdnhYQy9ETkJFdjhJRk5qQmdHZERnWHRGZ1R5aHdEWGlRQVVIQ3Z3YTRVdjZtUjZVUisxbGVkMm1Wb252bCt0TUw0NXFDUU5RTEl4N0FBQUFBRWxGVGtTdVFtQ0MiO0VkaXRvci5uZXh0TGFyZ2VJbWFnZT0iZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFDQUFBQUFnQ0FNQUFBQkVwSXJHQUFBQVBGQk1WRVVBQUFELy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1lTV2dUQUFBQUUzUlNUbE1BN2ZjaTQ5M2MwTVc4dUo2Q1prczRNeFFIRVpMNmV3QUFBRlJKUkVGVU9NdmQwc2tSZ0NBUUJWRUZ3UTBWN2Z4ek5RUDZ3STA1djZwWi9reWoxYjdGTmdpazJnUXp6TGNBd2lVQWlnSE9Ud0RISzRBMUNtQjVCSkFOSkcxaFE5cWFmWWNxRmxaUDNJRmM5ZVZHclIraUlna0RRUlVYSUFBQUFBQkpSVTVFcmtKZ2dnPT0iOwpFZGl0b3IucmVmcmVzaExhcmdlSW1hZ2U9ImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQ0FBQUFBZ0NBTUFBQUJFcElyR0FBQUFvbEJNVkVVQUFBRC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy84RUxuYUNBQUFBTlhSU1RsTUFCZnlFMlFLVStkZk55eUR5b1ZZS3duVHY3Tis2cm50c1lsRk5RakVxRXczMTZ1U3pmMmMxSkIzR3ZxZWJpVnc2R0FqUUI0RFFyMTBBQUFFN1NVUkJWRGpMdlpMWGNvTXdFQUJQSWdSQ3gzVFQzQTN1ZHFMLy83VWdBZEdSY1I0eWs4aytpZHNkbWdTL1F5V0VxRC9heFMySkRWMzN6bG56TEhJelEyTURxOU9lSjNtOGw3NktLRU5ZbHhybU0vYjY1WXMxKzhZeG5URVpGSUVZMHZWaHN6RldmVUdaREpwUVREem5UZ0FlNWs0WGhReElMQjdydXpCUW4ra2t5RFh1SGZSdGpvWURFdkg3SjlMejk4ZEJaWFhMOTRYME9mY28yUEZsQ2hLYmpWekVkYWtvU2xLam9Ob3FQWWtKL3dVWkFZd2MrUHBMajFFaTcramRvQldsd1Fab0p2MkgxdzNDV2dSdm83ZGQ5RFA1YnRnd0NXejBNMDIrb1ZveENjSVdlWTlQTm1SNkIrK205cHJNeFlFSVNwQ0JZQmxmeTliYzc0NWlzN1VVVUxBZW0xV3c3RmZhbHNpQTJ1YUpzZ21XUDNwUUk5cTkveU1Ma2FhSEFwMmZ4aEhmZi9jTnE3ZEJkSFhoR1c3bCtNbzJ6VTBDZjhrbkoyeEEwb0o4ZW53QUFBQUFTVVZPUks1Q1lJST0iOwpFZGl0b3IuYmFja0xhcmdlSW1hZ2U9ImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQ0FBQUFBZ0NBTUFBQUJFcElyR0FBQUFjbEJNVkVVQUFBRC8vLy8vLy8vLy8vLy8vLy8rL3Y3Ly8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8rL3Y3Ly8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLzh2S0xmVEFBQUFKWFJTVGxNQUNoN2g5Z2J5M05MSXd6d1o1NXVWSmdINTdiKzh0YkNsallWMVJSTVE0NkZyVHpRdyt2dHhPUUFBQUo1SlJFRlVPTXVGMDBjV2d6QVFBMURSRFFGQ2J3RlNkZjhyWnBkVnJOSDJ6M3R1TXY3bWxkWlEyV04yeWk4eCtUVDhKdnlUa3F2d3BpS3Z3c09JckExZldyK1hHVGtsZmo4ZE9RUitEM0t5VUY2UXVmQmtKTjBoZkNhekV2NnNaQlJDSkRVY1Bhc0dLcHUxUkx0WUU4bGtIQVBCUUxvVHNLL1NmQXlSdzVGakF1aEN6QzJNU2owZ0orNjZsSGF0Z1hkS2JvRDl0ZlJFQjVtOS8rM2lDOWpIRFl2c0dOY1VBQUFBQUVsRlRrU3VRbUNDIjsKRWRpdG9yLmZ1bGxzY3JlZW5MYXJnZUltYWdlPSJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUNBQUFBQWdDQU1BQUFCRXBJckdBQUFBbGxCTVZFVUFBQUQvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vQUpjV29BQUFBTVhSU1RsTUErd0lGeFBXUENJYjQ0NnRuVXhtc29JeWtneFRlMjlqUW5wS0JlMk1Oc1poVlRSL0t5THVXYkZoRVBqVXE3TDl6K2JRaitnQUFBV3hKUkVGVU9NdHRrNGwyZ2tBTVJUT0RDTzRGdFFnSWJuV3BTOXY4Lzg4MWlaRmg4UjUxTk84R0orZ0FqTU44enVUUkZTdzA0Y0lPSFFjcUZISDZvYVFGR3hmMGplQmpFZ0I4WTUyVHBXOUFnNHpCNVFJQ1dPdEhyZ3dHdUZaQmN3K2dQUDBNRlM3K2lpRDVpbk9tRElRUzlzWmdUd1V6d0V6eXhoeEhWRUVVN05kRFVYc3FVUHRxaklnUjJJWlNDVDR1cHpTZUllT2RjTUhuZkRzeDNnaVBvZXpmVTZNclFHQjUvL1Nja0xFRzJ4WXNjSzRHZm5VRnFhaXgzOXpyd29vYU9EL2NYb1l1dkhLUUljN3B6ZDNIVlB1c3A2dDJGQVcvUm1qTW9uYmw4dndIRGVaby9Ha2xlSkM3ZStwNVhBL3JBcTFYL1YxMHdLYWcwNHJCcGEyL2QwTEw0T1lZY2VPRXRzRzVqeU1udEkxd1MrTjFCR2NRQmwvQ29Mb1BPbDlBQnJXL0JQNTNlMWJ3U0pISGxrSVZjaEp3bUh3eXlmSjRrSXZFbkt0d2t4TlNFY3Q4M0tTQ2hUN1dpV2dEWjNjY1owQk00dGxvSm93MllVQXRpZk5UM25qbnlEK3kvcE1zblA0RE4zWTR5bDFHeWswQUFBQUFTVVZPUks1Q1lJST0iOwpFZGl0b3IuY3RybEtleT1teENsaWVudC5JU19NQUM/IkNtZCI6IkN0cmwiO0VkaXRvci5oaW50T2Zmc2V0PTIwO0VkaXRvci5wb3B1cHNBbGxvd2VkPSEwO214VXRpbHMuZXh0ZW5kKEVkaXRvcixteEV2ZW50U291cmNlKTtFZGl0b3IucHJvdG90eXBlLm9yaWdpbmFsTm9Gb3JlaWduT2JqZWN0PW14Q2xpZW50Lk5PX0ZPO0VkaXRvci5wcm90b3R5cGUudHJhbnNwYXJlbnRJbWFnZT1teENsaWVudC5JU19TVkc/ImRhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCxSMGxHT0RsaE1BQXdBSUFBQVAvLy93QUFBQ0g1QkFFQUFBQUFMQUFBQUFBd0FEQUFBQUl4aEkrcHkrMFBvNXkwMm91ejNyejdENGJpU0pibWlhYnF5cmJ1QzhmeVROZjJqZWY2enZmK0R3d0toOFNpOGVncEFBQTciOklNQUdFX1BBVEgrIi90cmFuc3BhcmVudC5naWYiO0VkaXRvci5wcm90b3R5cGUuZXh0ZW5kQ2FudmFzPSEwO0VkaXRvci5wcm90b3R5cGUuY2hyb21lbGVzcz0hMTtFZGl0b3IucHJvdG90eXBlLmNhbmNlbEZpcnN0PSEwOwpFZGl0b3IucHJvdG90eXBlLmVuYWJsZWQ9ITA7RWRpdG9yLnByb3RvdHlwZS5maWxlbmFtZT1udWxsO0VkaXRvci5wcm90b3R5cGUubW9kaWZpZWQ9ITE7RWRpdG9yLnByb3RvdHlwZS5hdXRvc2F2ZT0hMDtFZGl0b3IucHJvdG90eXBlLmluaXRpYWxUb3BTcGFjaW5nPTA7RWRpdG9yLnByb3RvdHlwZS5hcHBOYW1lPWRvY3VtZW50LnRpdGxlO0VkaXRvci5wcm90b3R5cGUuZWRpdEJsYW5rVXJsPXdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbCsiLy8iK3dpbmRvdy5sb2NhdGlvbi5ob3N0KyIvIjtFZGl0b3IucHJvdG90eXBlLmRlZmF1bHRHcmFwaE92ZXJmbG93PSJoaWRkZW4iO0VkaXRvci5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbigpe307RWRpdG9yLnByb3RvdHlwZS5pc0Nocm9tZWxlc3NWaWV3PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2hyb21lbGVzc307RWRpdG9yLnByb3RvdHlwZS5zZXRBdXRvc2F2ZT1mdW5jdGlvbihhKXt0aGlzLmF1dG9zYXZlPWE7dGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QoImF1dG9zYXZlQ2hhbmdlZCIpKX07CkVkaXRvci5wcm90b3R5cGUuZ2V0RWRpdEJsYW5rVXJsPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVkaXRCbGFua1VybCthfTsKRWRpdG9yLnByb3RvdHlwZS5lZGl0QXNOZXc9ZnVuY3Rpb24oYSxjKXt2YXIgZj1udWxsIT1jPyI/dGl0bGU9IitlbmNvZGVVUklDb21wb25lbnQoYyk6IiI7bnVsbCE9dXJsUGFyYW1zLnVpJiYoZis9KDA8Zi5sZW5ndGg/IiYiOiI/IikrInVpPSIrdXJsUGFyYW1zLnVpKTtpZigidW5kZWZpbmVkIiE9PXR5cGVvZiB3aW5kb3cucG9zdE1lc3NhZ2UmJihudWxsPT1kb2N1bWVudC5kb2N1bWVudE1vZGV8fDEwPD1kb2N1bWVudC5kb2N1bWVudE1vZGUpKXt2YXIgZD1udWxsLGs9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYyl7InJlYWR5Ij09Yy5kYXRhJiZjLnNvdXJjZT09ZCYmKG14RXZlbnQucmVtb3ZlTGlzdGVuZXIod2luZG93LCJtZXNzYWdlIixrKSxkLnBvc3RNZXNzYWdlKGEsIioiKSl9KTtteEV2ZW50LmFkZExpc3RlbmVyKHdpbmRvdywibWVzc2FnZSIsayk7ZD10aGlzLmdyYXBoLm9wZW5MaW5rKHRoaXMuZ2V0RWRpdEJsYW5rVXJsKGYrKDA8Zi5sZW5ndGg/IiYiOiI/IikrCiJjbGllbnQ9MSIpLG51bGwsITApfWVsc2UgdGhpcy5ncmFwaC5vcGVuTGluayh0aGlzLmdldEVkaXRCbGFua1VybChmKSsiI1IiK2VuY29kZVVSSUNvbXBvbmVudChhKSl9O0VkaXRvci5wcm90b3R5cGUuY3JlYXRlR3JhcGg9ZnVuY3Rpb24oYSxjKXt2YXIgZj1uZXcgR3JhcGgobnVsbCxjLG51bGwsbnVsbCxhKTtmLnRyYW5zcGFyZW50QmFja2dyb3VuZD0hMTt0aGlzLmNocm9tZWxlc3N8fChmLmlzQmxhbmtMaW5rPWZ1bmN0aW9uKGEpe3JldHVybiF0aGlzLmlzRXh0ZXJuYWxQcm90b2NvbChhKX0pO3JldHVybiBmfTsKRWRpdG9yLnByb3RvdHlwZS5yZXNldEdyYXBoPWZ1bmN0aW9uKCl7dGhpcy5ncmFwaC5ncmlkRW5hYmxlZD0hdGhpcy5pc0Nocm9tZWxlc3NWaWV3KCl8fCIxIj09dXJsUGFyYW1zLmdyaWQ7dGhpcy5ncmFwaC5ncmFwaEhhbmRsZXIuZ3VpZGVzRW5hYmxlZD0hMDt0aGlzLmdyYXBoLnNldFRvb2x0aXBzKCEwKTt0aGlzLmdyYXBoLnNldENvbm5lY3RhYmxlKCEwKTt0aGlzLmdyYXBoLmZvbGRpbmdFbmFibGVkPSEwO3RoaXMuZ3JhcGguc2Nyb2xsYmFycz10aGlzLmdyYXBoLmRlZmF1bHRTY3JvbGxiYXJzO3RoaXMuZ3JhcGgucGFnZVZpc2libGU9dGhpcy5ncmFwaC5kZWZhdWx0UGFnZVZpc2libGU7dGhpcy5ncmFwaC5wYWdlQnJlYWtzVmlzaWJsZT10aGlzLmdyYXBoLnBhZ2VWaXNpYmxlO3RoaXMuZ3JhcGgucHJlZmVyUGFnZVNpemU9dGhpcy5ncmFwaC5wYWdlQnJlYWtzVmlzaWJsZTt0aGlzLmdyYXBoLmJhY2tncm91bmQ9bnVsbDt0aGlzLmdyYXBoLnBhZ2VTY2FsZT1teEdyYXBoLnByb3RvdHlwZS5wYWdlU2NhbGU7CnRoaXMuZ3JhcGgucGFnZUZvcm1hdD1teEdyYXBoLnByb3RvdHlwZS5wYWdlRm9ybWF0O3RoaXMuZ3JhcGguY3VycmVudFNjYWxlPTE7dGhpcy5ncmFwaC5jdXJyZW50VHJhbnNsYXRlLng9MDt0aGlzLmdyYXBoLmN1cnJlbnRUcmFuc2xhdGUueT0wO3RoaXMudXBkYXRlR3JhcGhDb21wb25lbnRzKCk7dGhpcy5ncmFwaC52aWV3LnNldFNjYWxlKDEpfTsKRWRpdG9yLnByb3RvdHlwZS5yZWFkR3JhcGhTdGF0ZT1mdW5jdGlvbihhKXt0aGlzLmdyYXBoLmdyaWRFbmFibGVkPSIwIiE9YS5nZXRBdHRyaWJ1dGUoImdyaWQiKSYmKCF0aGlzLmlzQ2hyb21lbGVzc1ZpZXcoKXx8IjEiPT11cmxQYXJhbXMuZ3JpZCk7dGhpcy5ncmFwaC5ncmlkU2l6ZT1wYXJzZUZsb2F0KGEuZ2V0QXR0cmlidXRlKCJncmlkU2l6ZSIpKXx8bXhHcmFwaC5wcm90b3R5cGUuZ3JpZFNpemU7dGhpcy5ncmFwaC5ncmFwaEhhbmRsZXIuZ3VpZGVzRW5hYmxlZD0iMCIhPWEuZ2V0QXR0cmlidXRlKCJndWlkZXMiKTt0aGlzLmdyYXBoLnNldFRvb2x0aXBzKCIwIiE9YS5nZXRBdHRyaWJ1dGUoInRvb2x0aXBzIikpO3RoaXMuZ3JhcGguc2V0Q29ubmVjdGFibGUoIjAiIT1hLmdldEF0dHJpYnV0ZSgiY29ubmVjdCIpKTt0aGlzLmdyYXBoLmNvbm5lY3Rpb25BcnJvd3NFbmFibGVkPSIwIiE9YS5nZXRBdHRyaWJ1dGUoImFycm93cyIpO3RoaXMuZ3JhcGguZm9sZGluZ0VuYWJsZWQ9CiIwIiE9YS5nZXRBdHRyaWJ1dGUoImZvbGQiKTt0aGlzLmlzQ2hyb21lbGVzc1ZpZXcoKSYmdGhpcy5ncmFwaC5mb2xkaW5nRW5hYmxlZCYmKHRoaXMuZ3JhcGguZm9sZGluZ0VuYWJsZWQ9IjEiPT11cmxQYXJhbXMubmF2LHRoaXMuZ3JhcGguY2VsbFJlbmRlcmVyLmZvcmNlQ29udHJvbENsaWNrSGFuZGxlcj10aGlzLmdyYXBoLmZvbGRpbmdFbmFibGVkKTt2YXIgYz1wYXJzZUZsb2F0KGEuZ2V0QXR0cmlidXRlKCJwYWdlU2NhbGUiKSk7IWlzTmFOKGMpJiYwPGM/dGhpcy5ncmFwaC5wYWdlU2NhbGU9Yzp0aGlzLmdyYXBoLnBhZ2VTY2FsZT1teEdyYXBoLnByb3RvdHlwZS5wYWdlU2NhbGU7dGhpcy5ncmFwaC5pc0xpZ2h0Ym94VmlldygpfHx0aGlzLmdyYXBoLmlzVmlld2VyKCk/dGhpcy5ncmFwaC5wYWdlVmlzaWJsZT0hMTooYz1hLmdldEF0dHJpYnV0ZSgicGFnZSIpLHRoaXMuZ3JhcGgucGFnZVZpc2libGU9bnVsbCE9Yz8iMCIhPWM6dGhpcy5ncmFwaC5kZWZhdWx0UGFnZVZpc2libGUpOwp0aGlzLmdyYXBoLnBhZ2VCcmVha3NWaXNpYmxlPXRoaXMuZ3JhcGgucGFnZVZpc2libGU7dGhpcy5ncmFwaC5wcmVmZXJQYWdlU2l6ZT10aGlzLmdyYXBoLnBhZ2VCcmVha3NWaXNpYmxlO3ZhciBjPXBhcnNlRmxvYXQoYS5nZXRBdHRyaWJ1dGUoInBhZ2VXaWR0aCIpKSxmPXBhcnNlRmxvYXQoYS5nZXRBdHRyaWJ1dGUoInBhZ2VIZWlnaHQiKSk7aXNOYU4oYyl8fGlzTmFOKGYpfHwodGhpcy5ncmFwaC5wYWdlRm9ybWF0PW5ldyBteFJlY3RhbmdsZSgwLDAsYyxmKSk7YT1hLmdldEF0dHJpYnV0ZSgiYmFja2dyb3VuZCIpO3RoaXMuZ3JhcGguYmFja2dyb3VuZD1udWxsIT1hJiYwPGEubGVuZ3RoP2E6bnVsbH07CkVkaXRvci5wcm90b3R5cGUuc2V0R3JhcGhYbWw9ZnVuY3Rpb24oYSl7aWYobnVsbCE9YSl7dmFyIGM9bmV3IG14Q29kZWMoYS5vd25lckRvY3VtZW50KTtpZigibXhHcmFwaE1vZGVsIj09YS5ub2RlTmFtZSl7dGhpcy5ncmFwaC5tb2RlbC5iZWdpblVwZGF0ZSgpO3RyeXt0aGlzLmdyYXBoLm1vZGVsLmNsZWFyKCksdGhpcy5ncmFwaC52aWV3LnNjYWxlPTEsdGhpcy5yZWFkR3JhcGhTdGF0ZShhKSx0aGlzLnVwZGF0ZUdyYXBoQ29tcG9uZW50cygpLGMuZGVjb2RlKGEsdGhpcy5ncmFwaC5nZXRNb2RlbCgpKX1maW5hbGx5e3RoaXMuZ3JhcGgubW9kZWwuZW5kVXBkYXRlKCl9dGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QoInJlc2V0R3JhcGhWaWV3IikpfWVsc2UgaWYoInJvb3QiPT1hLm5vZGVOYW1lKXt0aGlzLnJlc2V0R3JhcGgoKTt2YXIgZj1jLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIm14R3JhcGhNb2RlbCIpO2YuYXBwZW5kQ2hpbGQoYSk7Yy5kZWNvZGUoZix0aGlzLmdyYXBoLmdldE1vZGVsKCkpOwp0aGlzLnVwZGF0ZUdyYXBoQ29tcG9uZW50cygpO3RoaXMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KCJyZXNldEdyYXBoVmlldyIpKX1lbHNlIHRocm93e21lc3NhZ2U6bXhSZXNvdXJjZXMuZ2V0KCJjYW5ub3RPcGVuRmlsZSIpLG5vZGU6YSx0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1lc3NhZ2V9fTt9ZWxzZSB0aGlzLnJlc2V0R3JhcGgoKSx0aGlzLmdyYXBoLm1vZGVsLmNsZWFyKCksdGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QoInJlc2V0R3JhcGhWaWV3IikpfTsKRWRpdG9yLnByb3RvdHlwZS5nZXRHcmFwaFhtbD1mdW5jdGlvbihhKXthPShudWxsIT1hP2E6MSk/KG5ldyBteENvZGVjKG14VXRpbHMuY3JlYXRlWG1sRG9jdW1lbnQoKSkpLmVuY29kZSh0aGlzLmdyYXBoLmdldE1vZGVsKCkpOnRoaXMuZ3JhcGguZW5jb2RlQ2VsbHMobXhVdGlscy5zb3J0Q2VsbHModGhpcy5ncmFwaC5tb2RlbC5nZXRUb3Btb3N0Q2VsbHModGhpcy5ncmFwaC5nZXRTZWxlY3Rpb25DZWxscygpKSkpO2lmKDAhPXRoaXMuZ3JhcGgudmlldy50cmFuc2xhdGUueHx8MCE9dGhpcy5ncmFwaC52aWV3LnRyYW5zbGF0ZS55KWEuc2V0QXR0cmlidXRlKCJkeCIsTWF0aC5yb3VuZCgxMDAqdGhpcy5ncmFwaC52aWV3LnRyYW5zbGF0ZS54KS8xMDApLGEuc2V0QXR0cmlidXRlKCJkeSIsTWF0aC5yb3VuZCgxMDAqdGhpcy5ncmFwaC52aWV3LnRyYW5zbGF0ZS55KS8xMDApO2Euc2V0QXR0cmlidXRlKCJncmlkIix0aGlzLmdyYXBoLmlzR3JpZEVuYWJsZWQoKT8iMSI6IjAiKTthLnNldEF0dHJpYnV0ZSgiZ3JpZFNpemUiLAp0aGlzLmdyYXBoLmdyaWRTaXplKTthLnNldEF0dHJpYnV0ZSgiZ3VpZGVzIix0aGlzLmdyYXBoLmdyYXBoSGFuZGxlci5ndWlkZXNFbmFibGVkPyIxIjoiMCIpO2Euc2V0QXR0cmlidXRlKCJ0b29sdGlwcyIsdGhpcy5ncmFwaC50b29sdGlwSGFuZGxlci5pc0VuYWJsZWQoKT8iMSI6IjAiKTthLnNldEF0dHJpYnV0ZSgiY29ubmVjdCIsdGhpcy5ncmFwaC5jb25uZWN0aW9uSGFuZGxlci5pc0VuYWJsZWQoKT8iMSI6IjAiKTthLnNldEF0dHJpYnV0ZSgiYXJyb3dzIix0aGlzLmdyYXBoLmNvbm5lY3Rpb25BcnJvd3NFbmFibGVkPyIxIjoiMCIpO2Euc2V0QXR0cmlidXRlKCJmb2xkIix0aGlzLmdyYXBoLmZvbGRpbmdFbmFibGVkPyIxIjoiMCIpO2Euc2V0QXR0cmlidXRlKCJwYWdlIix0aGlzLmdyYXBoLnBhZ2VWaXNpYmxlPyIxIjoiMCIpO2Euc2V0QXR0cmlidXRlKCJwYWdlU2NhbGUiLHRoaXMuZ3JhcGgucGFnZVNjYWxlKTthLnNldEF0dHJpYnV0ZSgicGFnZVdpZHRoIix0aGlzLmdyYXBoLnBhZ2VGb3JtYXQud2lkdGgpOwphLnNldEF0dHJpYnV0ZSgicGFnZUhlaWdodCIsdGhpcy5ncmFwaC5wYWdlRm9ybWF0LmhlaWdodCk7bnVsbCE9dGhpcy5ncmFwaC5iYWNrZ3JvdW5kJiZhLnNldEF0dHJpYnV0ZSgiYmFja2dyb3VuZCIsdGhpcy5ncmFwaC5iYWNrZ3JvdW5kKTtyZXR1cm4gYX07RWRpdG9yLnByb3RvdHlwZS51cGRhdGVHcmFwaENvbXBvbmVudHM9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdyYXBoO251bGwhPWEuY29udGFpbmVyJiYoYS52aWV3LnZhbGlkYXRlQmFja2dyb3VuZCgpLGEuY29udGFpbmVyLnN0eWxlLm92ZXJmbG93PWEuc2Nyb2xsYmFycz8iYXV0byI6dGhpcy5kZWZhdWx0R3JhcGhPdmVyZmxvdyx0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdCgidXBkYXRlR3JhcGhDb21wb25lbnRzIikpKX07RWRpdG9yLnByb3RvdHlwZS5zZXRNb2RpZmllZD1mdW5jdGlvbihhKXt0aGlzLm1vZGlmaWVkPWF9OwpFZGl0b3IucHJvdG90eXBlLnNldEZpbGVuYW1lPWZ1bmN0aW9uKGEpe3RoaXMuZmlsZW5hbWU9YX07CkVkaXRvci5wcm90b3R5cGUuY3JlYXRlVW5kb01hbmFnZXI9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdyYXBoLGM9bmV3IG14VW5kb01hbmFnZXI7dGhpcy51bmRvTGlzdGVuZXI9ZnVuY3Rpb24oYSxmKXtjLnVuZG9hYmxlRWRpdEhhcHBlbmVkKGYuZ2V0UHJvcGVydHkoImVkaXQiKSl9O3ZhciBmPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEsYyl7dGhpcy51bmRvTGlzdGVuZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpfSk7YS5nZXRNb2RlbCgpLmFkZExpc3RlbmVyKG14RXZlbnQuVU5ETyxmKTthLmdldFZpZXcoKS5hZGRMaXN0ZW5lcihteEV2ZW50LlVORE8sZik7Zj1mdW5jdGlvbihkLGMpe3ZhciBmPWEuZ2V0U2VsZWN0aW9uQ2VsbHNGb3JDaGFuZ2VzKGMuZ2V0UHJvcGVydHkoImVkaXQiKS5jaGFuZ2VzLGZ1bmN0aW9uKGEpe3JldHVybiEoYSBpbnN0YW5jZW9mIG14Q2hpbGRDaGFuZ2UpfSk7aWYoMDxmLmxlbmd0aCl7YS5nZXRNb2RlbCgpO2Zvcih2YXIgaz1bXSxiPTA7YjwKZi5sZW5ndGg7YisrKW51bGwhPWEudmlldy5nZXRTdGF0ZShmW2JdKSYmay5wdXNoKGZbYl0pO2Euc2V0U2VsZWN0aW9uQ2VsbHMoayl9fTtjLmFkZExpc3RlbmVyKG14RXZlbnQuVU5ETyxmKTtjLmFkZExpc3RlbmVyKG14RXZlbnQuUkVETyxmKTtyZXR1cm4gY307RWRpdG9yLnByb3RvdHlwZS5pbml0U3RlbmNpbFJlZ2lzdHJ5PWZ1bmN0aW9uKCl7fTtFZGl0b3IucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXtudWxsIT10aGlzLmdyYXBoJiYodGhpcy5ncmFwaC5kZXN0cm95KCksdGhpcy5ncmFwaD1udWxsKX07T3BlbkZpbGU9ZnVuY3Rpb24oYSl7dGhpcy5jb25zdW1lcj10aGlzLnByb2R1Y2VyPW51bGw7dGhpcy5kb25lPWE7dGhpcy5hcmdzPW51bGx9O09wZW5GaWxlLnByb3RvdHlwZS5zZXRDb25zdW1lcj1mdW5jdGlvbihhKXt0aGlzLmNvbnN1bWVyPWE7dGhpcy5leGVjdXRlKCl9OwpPcGVuRmlsZS5wcm90b3R5cGUuc2V0RGF0YT1mdW5jdGlvbigpe3RoaXMuYXJncz1hcmd1bWVudHM7dGhpcy5leGVjdXRlKCl9O09wZW5GaWxlLnByb3RvdHlwZS5lcnJvcj1mdW5jdGlvbihhKXt0aGlzLmNhbmNlbCghMCk7bXhVdGlscy5hbGVydChhKX07T3BlbkZpbGUucHJvdG90eXBlLmV4ZWN1dGU9ZnVuY3Rpb24oKXtudWxsIT10aGlzLmNvbnN1bWVyJiZudWxsIT10aGlzLmFyZ3MmJih0aGlzLmNhbmNlbCghMSksdGhpcy5jb25zdW1lci5hcHBseSh0aGlzLHRoaXMuYXJncykpfTtPcGVuRmlsZS5wcm90b3R5cGUuY2FuY2VsPWZ1bmN0aW9uKGEpe251bGwhPXRoaXMuZG9uZSYmdGhpcy5kb25lKG51bGwhPWE/YTohMCl9OwpmdW5jdGlvbiBEaWFsb2coYSxjLGYsZCxrLG0scSxiLGUsZyxuKXt2YXIgbD0wO214Q2xpZW50LklTX1ZNTCYmKG51bGw9PWRvY3VtZW50LmRvY3VtZW50TW9kZXx8OD5kb2N1bWVudC5kb2N1bWVudE1vZGUpJiYobD04MCk7Zis9bDtkKz1sO3ZhciBwPWYsdj1kLHQ9bXhVdGlscy5nZXREb2N1bWVudFNpemUoKTtudWxsIT13aW5kb3cuaW5uZXJIZWlnaHQmJih0LmhlaWdodD13aW5kb3cuaW5uZXJIZWlnaHQpO3ZhciB5PXQuaGVpZ2h0LHg9TWF0aC5tYXgoMSxNYXRoLnJvdW5kKCh0LndpZHRoLWYtNjQpLzIpKSxDPU1hdGgubWF4KDEsTWF0aC5yb3VuZCgoeS1kLWEuZm9vdGVySGVpZ2h0KS8zKSk7bXhDbGllbnQuSVNfUVVJUktTfHwoYy5zdHlsZS5tYXhIZWlnaHQ9IjEwMCUiKTtmPW51bGwhPWRvY3VtZW50LmJvZHk/TWF0aC5taW4oZixkb2N1bWVudC5ib2R5LnNjcm9sbFdpZHRoLTY0KTpmO2Q9TWF0aC5taW4oZCx5LTY0KTswPGEuZGlhbG9ncy5sZW5ndGgmJih0aGlzLnpJbmRleCs9CjIqYS5kaWFsb2dzLmxlbmd0aCk7bnVsbD09dGhpcy5iZyYmKHRoaXMuYmc9YS5jcmVhdGVEaXYoImJhY2tncm91bmQiKSx0aGlzLmJnLnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSIsdGhpcy5iZy5zdHlsZS5iYWNrZ3JvdW5kPURpYWxvZy5iYWNrZHJvcENvbG9yLHRoaXMuYmcuc3R5bGUuaGVpZ2h0PXkrInB4Iix0aGlzLmJnLnN0eWxlLnJpZ2h0PSIwcHgiLHRoaXMuYmcuc3R5bGUuekluZGV4PXRoaXMuekluZGV4LTIsbXhVdGlscy5zZXRPcGFjaXR5KHRoaXMuYmcsdGhpcy5iZ09wYWNpdHkpLG14Q2xpZW50LklTX1FVSVJLUyYmbmV3IG14RGl2UmVzaXplcih0aGlzLmJnKSk7dD1teFV0aWxzLmdldERvY3VtZW50U2Nyb2xsT3JpZ2luKGRvY3VtZW50KTt0aGlzLmJnLnN0eWxlLmxlZnQ9dC54KyJweCI7dGhpcy5iZy5zdHlsZS50b3A9dC55KyJweCI7eCs9dC54O0MrPXQueTtrJiZkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuYmcpO3ZhciBCPWEuY3JlYXRlRGl2KGU/ImdlVHJhbnNEaWFsb2ciOgoiZ2VEaWFsb2ciKTtrPXRoaXMuZ2V0UG9zaXRpb24oeCxDLGYsZCk7eD1rLng7Qz1rLnk7Qi5zdHlsZS53aWR0aD1mKyJweCI7Qi5zdHlsZS5oZWlnaHQ9ZCsicHgiO0Iuc3R5bGUubGVmdD14KyJweCI7Qi5zdHlsZS50b3A9QysicHgiO0Iuc3R5bGUuekluZGV4PXRoaXMuekluZGV4O0IuYXBwZW5kQ2hpbGQoYyk7ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChCKTshYiYmYy5jbGllbnRIZWlnaHQ+Qi5jbGllbnRIZWlnaHQtNjQmJihjLnN0eWxlLm92ZXJmbG93WT0iYXV0byIpO2lmKG0mJihtPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImltZyIpLG0uc2V0QXR0cmlidXRlKCJzcmMiLERpYWxvZy5wcm90b3R5cGUuY2xvc2VJbWFnZSksbS5zZXRBdHRyaWJ1dGUoInRpdGxlIixteFJlc291cmNlcy5nZXQoImNsb3NlIikpLG0uY2xhc3NOYW1lPSJnZURpYWxvZ0Nsb3NlIixtLnN0eWxlLnRvcD1DKzE0KyJweCIsbS5zdHlsZS5sZWZ0PXgrZiszOC1sKyJweCIsbS5zdHlsZS56SW5kZXg9CnRoaXMuekluZGV4LG14RXZlbnQuYWRkTGlzdGVuZXIobSwiY2xpY2siLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7YS5oaWRlRGlhbG9nKCEwKX0pKSxkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG0pLHRoaXMuZGlhbG9nSW1nPW0sIW4pKXt2YXIgRD0hMTtteEV2ZW50LmFkZEdlc3R1cmVMaXN0ZW5lcnModGhpcy5iZyxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXtEPSEwfSksbnVsbCxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihiKXtEJiYoYS5oaWRlRGlhbG9nKCEwKSxEPSExKX0pKX10aGlzLnJlc2l6ZUxpc3RlbmVyPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7aWYobnVsbCE9Zyl7dmFyIGU9ZygpO251bGwhPWUmJihwPWY9ZS53LHY9ZD1lLmgpfWU9bXhVdGlscy5nZXREb2N1bWVudFNpemUoKTt5PWUuaGVpZ2h0O3RoaXMuYmcuc3R5bGUuaGVpZ2h0PXkrInB4Ijt4PU1hdGgubWF4KDEsTWF0aC5yb3VuZCgoZS53aWR0aC1mLTY0KS8yKSk7Qz1NYXRoLm1heCgxLApNYXRoLnJvdW5kKCh5LWQtYS5mb290ZXJIZWlnaHQpLzMpKTtmPW51bGwhPWRvY3VtZW50LmJvZHk/TWF0aC5taW4ocCxkb2N1bWVudC5ib2R5LnNjcm9sbFdpZHRoLTY0KTpwO2Q9TWF0aC5taW4odix5LTY0KTtlPXRoaXMuZ2V0UG9zaXRpb24oeCxDLGYsZCk7eD1lLng7Qz1lLnk7Qi5zdHlsZS5sZWZ0PXgrInB4IjtCLnN0eWxlLnRvcD1DKyJweCI7Qi5zdHlsZS53aWR0aD1mKyJweCI7Qi5zdHlsZS5oZWlnaHQ9ZCsicHgiOyFiJiZjLmNsaWVudEhlaWdodD5CLmNsaWVudEhlaWdodC02NCYmKGMuc3R5bGUub3ZlcmZsb3dZPSJhdXRvIik7bnVsbCE9dGhpcy5kaWFsb2dJbWcmJih0aGlzLmRpYWxvZ0ltZy5zdHlsZS50b3A9QysxNCsicHgiLHRoaXMuZGlhbG9nSW1nLnN0eWxlLmxlZnQ9eCtmKzM4LWwrInB4Iil9KTtteEV2ZW50LmFkZExpc3RlbmVyKHdpbmRvdywicmVzaXplIix0aGlzLnJlc2l6ZUxpc3RlbmVyKTt0aGlzLm9uRGlhbG9nQ2xvc2U9cTt0aGlzLmNvbnRhaW5lcj0KQjthLmVkaXRvci5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QoInNob3dEaWFsb2ciKSl9RGlhbG9nLmJhY2tkcm9wQ29sb3I9IndoaXRlIjtEaWFsb2cucHJvdG90eXBlLnpJbmRleD1teFBvcHVwTWVudS5wcm90b3R5cGUuekluZGV4LTE7CkRpYWxvZy5wcm90b3R5cGUubm9Db2xvckltYWdlPW14Q2xpZW50LklTX1NWRz8iZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFCQUFBQUFRQ0FNQUFBQW9MUTlUQUFBQUdYUkZXSFJUYjJaMGQyRnlaUUJCWkc5aVpTQkpiV0ZuWlZKbFlXUjVjY2xsUEFBQUF5QnBWRmgwV0UxTU9tTnZiUzVoWkc5aVpTNTRiWEFBQUFBQUFEdy9lSEJoWTJ0bGRDQmlaV2RwYmowaTc3dS9JaUJwWkQwaVZ6Vk5NRTF3UTJWb2FVaDZjbVZUZWs1VVkzcHJZemxrSWo4K0lEeDRPbmh0Y0cxbGRHRWdlRzFzYm5NNmVEMGlZV1J2WW1VNmJuTTZiV1YwWVM4aUlIZzZlRzF3ZEdzOUlrRmtiMkpsSUZoTlVDQkRiM0psSURVdU1DMWpNRFl3SURZeExqRXpORGMzTnl3Z01qQXhNQzh3TWk4eE1pMHhOem96TWpvd01DQWdJQ0FnSUNBZ0lqNGdQSEprWmpwU1JFWWdlRzFzYm5NNmNtUm1QU0pvZEhSd09pOHZkM2QzTG5jekxtOXlaeTh4T1RrNUx6QXlMekl5TFhKa1ppMXplVzUwWVhndGJuTWpJajRnUEhKa1pqcEVaWE5qY21sd2RHbHZiaUJ5WkdZNllXSnZkWFE5SWlJZ2VHMXNibk02ZUcxd1BTSm9kSFJ3T2k4dmJuTXVZV1J2WW1VdVkyOXRMM2hoY0M4eExqQXZJaUI0Yld4dWN6cDRiWEJOVFQwaWFIUjBjRG92TDI1ekxtRmtiMkpsTG1OdmJTOTRZWEF2TVM0d0wyMXRMeUlnZUcxc2JuTTZjM1JTWldZOUltaDBkSEE2THk5dWN5NWhaRzlpWlM1amIyMHZlR0Z3THpFdU1DOXpWSGx3WlM5U1pYTnZkWEpqWlZKbFppTWlJSGh0Y0RwRGNtVmhkRzl5Vkc5dmJEMGlRV1J2WW1VZ1VHaHZkRzl6YUc5d0lFTlROU0JYYVc1a2IzZHpJaUI0YlhCTlRUcEpibk4wWVc1alpVbEVQU0o0YlhBdWFXbGtPa0V6UkRsQk1VVXdPRFl4TVRFeFJURkNNekE0UkRkRE1qSkJNRU14UkRNM0lpQjRiWEJOVFRwRWIyTjFiV1Z1ZEVsRVBTSjRiWEF1Wkdsa09rRXpSRGxCTVVVeE9EWXhNVEV4UlRGQ016QTRSRGRETWpKQk1FTXhSRE0zSWo0Z1BIaHRjRTFOT2tSbGNtbDJaV1JHY205dElITjBVbVZtT21sdWMzUmhibU5sU1VROUluaHRjQzVwYVdRNlFUTkVPVUV4UkVVNE5qRXhNVEZGTVVJek1EaEVOME15TWtFd1F6RkVNemNpSUhOMFVtVm1PbVJ2WTNWdFpXNTBTVVE5SW5odGNDNWthV1E2UVRORU9VRXhSRVk0TmpFeE1URkZNVUl6TURoRU4wTXlNa0V3UXpGRU16Y2lMejRnUEM5eVpHWTZSR1Z6WTNKcGNIUnBiMjQrSUR3dmNtUm1PbEpFUmo0Z1BDOTRPbmh0Y0cxbGRHRStJRHcvZUhCaFkydGxkQ0JsYm1ROUluSWlQejV4aDNmbUFBQUFCbEJNVkVYLy8vL016TXc0NnFxREFBQUFHRWxFUVZSNDJtSmdnQUpHS0dBWUlJR0J0aDhLQUFJTUFFVVFBSUVsbkx1UUFBQUFBRWxGVGtTdVFtQ0MiOklNQUdFX1BBVEgrCiIvbm9jb2xvci5wbmciO0RpYWxvZy5wcm90b3R5cGUuY2xvc2VJbWFnZT1teENsaWVudC5JU19TVkc/ImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQWtBQUFBSkFRTUFBQURhWDVSVEFBQUFCbEJNVkVWN21yMy8vLyt3a3NzcEFBQUFBblJTVGxQL0FPVzNNRW9BQUFBZFNVUkJWQWdkWTlqWHdDRER3TkRSd0hDd2dlRXhtQVN5Z1NMN0dnQjEyUWlxTkhaWkl3QUFBQUJKUlU1RXJrSmdnZz09IjpJTUFHRV9QQVRIKyIvY2xvc2UucG5nIjsKRGlhbG9nLnByb3RvdHlwZS5jbGVhckltYWdlPW14Q2xpZW50LklTX1NWRz8iZGF0YTppbWFnZS9naWY7YmFzZTY0LFIwbEdPRGxoRFFBS0FJQUJBTURBd1AvLy95SC9DMWhOVUNCRVlYUmhXRTFRUEQ5NGNHRmphMlYwSUdKbFoybHVQU0x2dTc4aUlHbGtQU0pYTlUwd1RYQkRaV2hwU0hweVpWTjZUbFJqZW10ak9XUWlQejRnUEhnNmVHMXdiV1YwWVNCNGJXeHVjenA0UFNKaFpHOWlaVHB1Y3pwdFpYUmhMeUlnZURwNGJYQjBhejBpUVdSdlltVWdXRTFRSUVOdmNtVWdOUzR3TFdNd05qQWdOakV1TVRNME56YzNMQ0F5TURFd0x6QXlMekV5TFRFM09qTXlPakF3SUNBZ0lDQWdJQ0FpUGlBOGNtUm1PbEpFUmlCNGJXeHVjenB5WkdZOUltaDBkSEE2THk5M2QzY3Vkek11YjNKbkx6RTVPVGt2TURJdk1qSXRjbVJtTFhONWJuUmhlQzF1Y3lNaVBpQThjbVJtT2tSbGMyTnlhWEIwYVc5dUlISmtaanBoWW05MWREMGlJaUI0Yld4dWN6cDRiWEE5SW1oMGRIQTZMeTl1Y3k1aFpHOWlaUzVqYjIwdmVHRndMekV1TUM4aUlIaHRiRzV6T25odGNFMU5QU0pvZEhSd09pOHZibk11WVdSdlltVXVZMjl0TDNoaGNDOHhMakF2YlcwdklpQjRiV3h1Y3pwemRGSmxaajBpYUhSMGNEb3ZMMjV6TG1Ga2IySmxMbU52YlM5NFlYQXZNUzR3TDNOVWVYQmxMMUpsYzI5MWNtTmxVbVZtSXlJZ2VHMXdPa055WldGMGIzSlViMjlzUFNKQlpHOWlaU0JRYUc5MGIzTm9iM0FnUTFNMUlGZHBibVJ2ZDNNaUlIaHRjRTFOT2tsdWMzUmhibU5sU1VROUluaHRjQzVwYVdRNk9VSXpPRU0xTnpJNE5qRXlNVEZGTVVFek1rTkRNVUUzTmpaRVJERTJRaklpSUhodGNFMU5Pa1J2WTNWdFpXNTBTVVE5SW5odGNDNWthV1E2T1VJek9FTTFOek00TmpFeU1URkZNVUV6TWtORE1VRTNOalpFUkRFMlFqSWlQaUE4ZUcxd1RVMDZSR1Z5YVhabFpFWnliMjBnYzNSU1pXWTZhVzV6ZEdGdVkyVkpSRDBpZUcxd0xtbHBaRG81UWpNNFF6VTNNRGcyTVRJeE1VVXhRVE15UTBNeFFUYzJOa1JFTVRaQ01pSWdjM1JTWldZNlpHOWpkVzFsYm5SSlJEMGllRzF3TG1ScFpEbzVRak00UXpVM01UZzJNVEl4TVVVeFFUTXlRME14UVRjMk5rUkVNVFpDTWlJdlBpQThMM0prWmpwRVpYTmpjbWx3ZEdsdmJqNGdQQzl5WkdZNlVrUkdQaUE4TDNnNmVHMXdiV1YwWVQ0Z1BEOTRjR0ZqYTJWMElHVnVaRDBpY2lJL1BnSC8vdjM4Ky9yNStQZjI5ZlR6OHZIdzcrN3Q3T3ZxNmVqbjV1WGs0K0xoNE4vZTNkemIydG5ZMTliVjFOUFMwZERQenMzTXk4ckp5TWZHeGNURHdzSEF2NzY5dkx1NnViaTN0clcwczdLeHNLK3VyYXlycXFtb3A2YWxwS09pb2FDZm5wMmNtNXFabUplV2xaU1RrcEdRajQ2TmpJdUtpWWlIaG9XRWc0S0JnSDkrZlh4N2VubDRkM1oxZEhOeWNYQnZibTFzYTJwcGFHZG1aV1JqWW1GZ1gxNWRYRnRhV1ZoWFZsVlVVMUpSVUU5T1RVeExTa2xJUjBaRlJFTkNRVUEvUGowOE96bzVPRGMyTlRRek1qRXdMeTR0TENzcUtTZ25KaVVrSXlJaElCOGVIUndiR2hrWUZ4WVZGQk1TRVJBUERnME1Dd29KQ0FjR0JRUURBZ0VBQUNINUJBRUFBQUVBTEFBQUFBQU5BQW9BQUFJWFRHQ0plYkQ5akVPVHFSbHR0WGRyQjMyUEoybmN5UlFBT3c9PSI6SU1BR0VfUEFUSCsKIi9jbGVhci5naWYiOwpEaWFsb2cucHJvdG90eXBlLmxvY2tlZEltYWdlPW14Q2xpZW50LklTX1NWRz8iZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFBd0FBQUFNQ0FNQUFBQmhxNnpWQUFBQUdYUkZXSFJUYjJaMGQyRnlaUUJCWkc5aVpTQkpiV0ZuWlZKbFlXUjVjY2xsUEFBQUF5SnBWRmgwV0UxTU9tTnZiUzVoWkc5aVpTNTRiWEFBQUFBQUFEdy9lSEJoWTJ0bGRDQmlaV2RwYmowaTc3dS9JaUJwWkQwaVZ6Vk5NRTF3UTJWb2FVaDZjbVZUZWs1VVkzcHJZemxrSWo4K0lEeDRPbmh0Y0cxbGRHRWdlRzFzYm5NNmVEMGlZV1J2WW1VNmJuTTZiV1YwWVM4aUlIZzZlRzF3ZEdzOUlrRmtiMkpsSUZoTlVDQkRiM0psSURVdU1DMWpNRFl3SURZeExqRXpORGMzTnl3Z01qQXhNQzh3TWk4eE1pMHhOem96TWpvd01DQWdJQ0FnSUNBZ0lqNGdQSEprWmpwU1JFWWdlRzFzYm5NNmNtUm1QU0pvZEhSd09pOHZkM2QzTG5jekxtOXlaeTh4T1RrNUx6QXlMekl5TFhKa1ppMXplVzUwWVhndGJuTWpJajRnUEhKa1pqcEVaWE5qY21sd2RHbHZiaUJ5WkdZNllXSnZkWFE5SWlJZ2VHMXNibk02ZUcxd1BTSm9kSFJ3T2k4dmJuTXVZV1J2WW1VdVkyOXRMM2hoY0M4eExqQXZJaUI0Yld4dWN6cDRiWEJOVFQwaWFIUjBjRG92TDI1ekxtRmtiMkpsTG1OdmJTOTRZWEF2TVM0d0wyMXRMeUlnZUcxc2JuTTZjM1JTWldZOUltaDBkSEE2THk5dWN5NWhaRzlpWlM1amIyMHZlR0Z3THpFdU1DOXpWSGx3WlM5U1pYTnZkWEpqWlZKbFppTWlJSGh0Y0RwRGNtVmhkRzl5Vkc5dmJEMGlRV1J2WW1VZ1VHaHZkRzl6YUc5d0lFTlROU0JOWVdOcGJuUnZjMmdpSUhodGNFMU5Pa2x1YzNSaGJtTmxTVVE5SW5odGNDNXBhV1E2TXpkRE1EWkNPREV4TnpJeE1URkZOVUkwUlRrNU5UZzRPVGN5TVVVeU9ERWlJSGh0Y0UxTk9rUnZZM1Z0Wlc1MFNVUTlJbmh0Y0M1a2FXUTZNemRETURaQ09ESXhOekl4TVRGRk5VSTBSVGs1TlRnNE9UY3lNVVV5T0RFaVBpQThlRzF3VFUwNlJHVnlhWFpsWkVaeWIyMGdjM1JTWldZNmFXNXpkR0Z1WTJWSlJEMGllRzF3TG1scFpEb3pOME13TmtJM1JqRTNNakV4TVVVMVFqUkZPVGsxT0RnNU56SXhSVEk0TVNJZ2MzUlNaV1k2Wkc5amRXMWxiblJKUkQwaWVHMXdMbVJwWkRvek4wTXdOa0k0TURFM01qRXhNVVUxUWpSRk9UazFPRGc1TnpJeFJUSTRNU0l2UGlBOEwzSmtaanBFWlhOamNtbHdkR2x2Ymo0Z1BDOXlaR1k2VWtSR1BpQThMM2c2ZUcxd2JXVjBZVDRnUEQ5NGNHRmphMlYwSUdWdVpEMGljaUkvUHZxTUNGWUFBQUFWVUV4VVJabVptYisvdjdLeXNxeXNyTXpNekxHeHNmLy8vNGc4TjFjQUFBQUhkRkpPVS8vLy8vLy8vd0FhU3dOR0FBQUFQRWxFUVZSNDJsVE1RUTRBSVFnRXdVYTAvLzlrVFFpck93ZVlPZ0RxQU1iWlVyMTBBR2xBd3g0L0JKMlFKNFUwTDVicllqb3Z2cHYzMnhaZ0FIWmFBVEZ0TWJ1NEFBQUFBRWxGVGtTdVFtQ0MiOklNQUdFX1BBVEgrCiIvbG9ja2VkLnBuZyI7CkRpYWxvZy5wcm90b3R5cGUudW5sb2NrZWRJbWFnZT1teENsaWVudC5JU19TVkc/ImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQXdBQUFBTUNBTUFBQUJocTZ6VkFBQUFHWFJGV0hSVGIyWjBkMkZ5WlFCQlpHOWlaU0JKYldGblpWSmxZV1I1Y2NsbFBBQUFBeUpwVkZoMFdFMU1PbU52YlM1aFpHOWlaUzU0YlhBQUFBQUFBRHcvZUhCaFkydGxkQ0JpWldkcGJqMGk3N3UvSWlCcFpEMGlWelZOTUUxd1EyVm9hVWg2Y21WVGVrNVVZM3ByWXpsa0lqOCtJRHg0T25odGNHMWxkR0VnZUcxc2JuTTZlRDBpWVdSdlltVTZibk02YldWMFlTOGlJSGc2ZUcxd2RHczlJa0ZrYjJKbElGaE5VQ0JEYjNKbElEVXVNQzFqTURZd0lEWXhMakV6TkRjM055d2dNakF4TUM4d01pOHhNaTB4Tnpvek1qb3dNQ0FnSUNBZ0lDQWdJajRnUEhKa1pqcFNSRVlnZUcxc2JuTTZjbVJtUFNKb2RIUndPaTh2ZDNkM0xuY3pMbTl5Wnk4eE9UazVMekF5THpJeUxYSmtaaTF6ZVc1MFlYZ3Ribk1qSWo0Z1BISmtaanBFWlhOamNtbHdkR2x2YmlCeVpHWTZZV0p2ZFhROUlpSWdlRzFzYm5NNmVHMXdQU0pvZEhSd09pOHZibk11WVdSdlltVXVZMjl0TDNoaGNDOHhMakF2SWlCNGJXeHVjenA0YlhCTlRUMGlhSFIwY0RvdkwyNXpMbUZrYjJKbExtTnZiUzk0WVhBdk1TNHdMMjF0THlJZ2VHMXNibk02YzNSU1pXWTlJbWgwZEhBNkx5OXVjeTVoWkc5aVpTNWpiMjB2ZUdGd0x6RXVNQzl6Vkhsd1pTOVNaWE52ZFhKalpWSmxaaU1pSUhodGNEcERjbVZoZEc5eVZHOXZiRDBpUVdSdlltVWdVR2h2ZEc5emFHOXdJRU5UTlNCTllXTnBiblJ2YzJnaUlIaHRjRTFOT2tsdWMzUmhibU5sU1VROUluaHRjQzVwYVdRNk16ZERNRFpDTjBReE56SXhNVEZGTlVJMFJUazVOVGc0T1RjeU1VVXlPREVpSUhodGNFMU5Pa1J2WTNWdFpXNTBTVVE5SW5odGNDNWthV1E2TXpkRE1EWkNOMFV4TnpJeE1URkZOVUkwUlRrNU5UZzRPVGN5TVVVeU9ERWlQaUE4ZUcxd1RVMDZSR1Z5YVhabFpFWnliMjBnYzNSU1pXWTZhVzV6ZEdGdVkyVkpSRDBpZUcxd0xtbHBaRG96TjBNd05rSTNRakUzTWpFeE1VVTFRalJGT1RrMU9EZzVOekl4UlRJNE1TSWdjM1JTWldZNlpHOWpkVzFsYm5SSlJEMGllRzF3TG1ScFpEb3pOME13TmtJM1F6RTNNakV4TVVVMVFqUkZPVGsxT0RnNU56SXhSVEk0TVNJdlBpQThMM0prWmpwRVpYTmpjbWx3ZEdsdmJqNGdQQzl5WkdZNlVrUkdQaUE4TDNnNmVHMXdiV1YwWVQ0Z1BEOTRjR0ZqYTJWMElHVnVaRDBpY2lJL1BrS01wVndBQUFBWVVFeFVSWm1abWJLeXNyKy92Nnlzck9YbDVjek16TEd4c2YvLy96SE41bHdBQUFBSWRGSk9VLy8vLy8vLy8vOEEzb085V1FBQUFEeEpSRUZVZU5wVXpGRVNBQ0FFQk5CVnNmZS9jWkpVKzhNenM4Q0lBQkNpZHRmR09uZG5Zc1Q0MEhEU2lDY2JQZG9KbzEwbzlhSTY3N2Nwd0FDUm9BRjNkRk5sc3dBQUFBQkpSVTVFcmtKZ2dnPT0iOklNQUdFX1BBVEgrCiIvdW5sb2NrZWQucG5nIjtEaWFsb2cucHJvdG90eXBlLmJnT3BhY2l0eT04MDtEaWFsb2cucHJvdG90eXBlLmdldFBvc2l0aW9uPWZ1bmN0aW9uKGEsYyl7cmV0dXJuIG5ldyBteFBvaW50KGEsYyl9O0RpYWxvZy5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24oYSxjKXtpZihudWxsIT10aGlzLm9uRGlhbG9nQ2xvc2Upe2lmKDA9PXRoaXMub25EaWFsb2dDbG9zZShhLGMpKXJldHVybiExO3RoaXMub25EaWFsb2dDbG9zZT1udWxsfW51bGwhPXRoaXMuZGlhbG9nSW1nJiYodGhpcy5kaWFsb2dJbWcucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmRpYWxvZ0ltZyksdGhpcy5kaWFsb2dJbWc9bnVsbCk7bnVsbCE9dGhpcy5iZyYmbnVsbCE9dGhpcy5iZy5wYXJlbnROb2RlJiZ0aGlzLmJnLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5iZyk7bXhFdmVudC5yZW1vdmVMaXN0ZW5lcih3aW5kb3csInJlc2l6ZSIsdGhpcy5yZXNpemVMaXN0ZW5lcik7dGhpcy5jb250YWluZXIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmNvbnRhaW5lcil9Owp2YXIgRXJyb3JEaWFsb2c9ZnVuY3Rpb24oYSxjLGYsZCxrLG0scSxiLGUsZyxuKXtlPW51bGwhPWU/ZTohMDt2YXIgbD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtsLnN0eWxlLnRleHRBbGlnbj0iY2VudGVyIjtpZihudWxsIT1jKXt2YXIgcD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtwLnN0eWxlLnBhZGRpbmc9IjBweCI7cC5zdHlsZS5tYXJnaW49IjBweCI7cC5zdHlsZS5mb250U2l6ZT0iMThweCI7cC5zdHlsZS5wYWRkaW5nQm90dG9tPSIxNnB4IjtwLnN0eWxlLm1hcmdpbkJvdHRvbT0iMTBweCI7cC5zdHlsZS5ib3JkZXJCb3R0b209IjFweCBzb2xpZCAjYzBjMGMwIjtwLnN0eWxlLmNvbG9yPSJncmF5IjtwLnN0eWxlLndoaXRlU3BhY2U9Im5vd3JhcCI7cC5zdHlsZS50ZXh0T3ZlcmZsb3c9ImVsbGlwc2lzIjtwLnN0eWxlLm92ZXJmbG93PSJoaWRkZW4iO214VXRpbHMud3JpdGUocCxjKTtwLnNldEF0dHJpYnV0ZSgidGl0bGUiLGMpO2wuYXBwZW5kQ2hpbGQocCl9Yz0KZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7Yy5zdHlsZS5saW5lSGVpZ2h0PSIxLjJlbSI7Yy5zdHlsZS5wYWRkaW5nPSI2cHgiO2MuaW5uZXJIVE1MPWY7bC5hcHBlbmRDaGlsZChjKTtmPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2Yuc3R5bGUubWFyZ2luVG9wPSIxMnB4IjtmLnN0eWxlLnRleHRBbGlnbj0iY2VudGVyIjtudWxsIT1tJiYoYz1teFV0aWxzLmJ1dHRvbihteFJlc291cmNlcy5nZXQoInRyeUFnYWluIiksZnVuY3Rpb24oKXthLmhpZGVEaWFsb2coKTttKCl9KSxjLmNsYXNzTmFtZT0iZ2VCdG4iLGYuYXBwZW5kQ2hpbGQoYyksZi5zdHlsZS50ZXh0QWxpZ249ImNlbnRlciIpO251bGwhPWcmJihnPW14VXRpbHMuYnV0dG9uKGcsZnVuY3Rpb24oKXtudWxsIT1uJiZuKCl9KSxnLmNsYXNzTmFtZT0iZ2VCdG4iLGYuYXBwZW5kQ2hpbGQoZykpO3ZhciB2PW14VXRpbHMuYnV0dG9uKGQsZnVuY3Rpb24oKXtlJiZhLmhpZGVEaWFsb2coKTtudWxsIT1rJiZrKCl9KTsKdi5jbGFzc05hbWU9ImdlQnRuIjtmLmFwcGVuZENoaWxkKHYpO251bGwhPXEmJihkPW14VXRpbHMuYnV0dG9uKHEsZnVuY3Rpb24oKXtlJiZhLmhpZGVEaWFsb2coKTtudWxsIT1iJiZiKCl9KSxkLmNsYXNzTmFtZT0iZ2VCdG4gZ2VQcmltYXJ5QnRuIixmLmFwcGVuZENoaWxkKGQpKTt0aGlzLmluaXQ9ZnVuY3Rpb24oKXt2LmZvY3VzKCl9O2wuYXBwZW5kQ2hpbGQoZik7dGhpcy5jb250YWluZXI9bH0sUHJpbnREaWFsb2c9ZnVuY3Rpb24oYSxjKXt0aGlzLmNyZWF0ZShhLGMpfTsKUHJpbnREaWFsb2cucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbihhKXtmdW5jdGlvbiBjKGEpe3ZhciBlPWIuY2hlY2tlZHx8Zy5jaGVja2VkLGQ9cGFyc2VJbnQobC52YWx1ZSkvMTAwO2lzTmFOKGQpJiYoZD0xLGwudmFsdWU9IjEwMCUiKTt2YXIgZD0uNzUqZCxjPWYucGFnZUZvcm1hdHx8bXhDb25zdGFudHMuUEFHRV9GT1JNQVRfQTRfUE9SVFJBSVQscD0xL2YucGFnZVNjYWxlO2lmKGUpe3ZhciBtPWIuY2hlY2tlZD8xOnBhcnNlSW50KG4udmFsdWUpO2lzTmFOKG0pfHwocD1teFV0aWxzLmdldFNjYWxlRm9yUGFnZUNvdW50KG0sZixjKSl9Zi5nZXRHcmFwaEJvdW5kcygpO3ZhciB2PW09MCxjPW14UmVjdGFuZ2xlLmZyb21SZWN0YW5nbGUoYyk7Yy53aWR0aD1NYXRoLmNlaWwoYy53aWR0aCpkKTtjLmhlaWdodD1NYXRoLmNlaWwoYy5oZWlnaHQqZCk7cCo9ZDshZSYmZi5wYWdlVmlzaWJsZT8oZD1mLmdldFBhZ2VMYXlvdXQoKSxtLT1kLngqYy53aWR0aCx2LT1kLnkqYy5oZWlnaHQpOgplPSEwO2U9UHJpbnREaWFsb2cuY3JlYXRlUHJpbnRQcmV2aWV3KGYscCxjLDAsbSx2LGUpO2Uub3BlbigpO2EmJlByaW50RGlhbG9nLnByaW50UHJldmlldyhlKX12YXIgZj1hLmVkaXRvci5ncmFwaCxkLGssbT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0YWJsZSIpO20uc3R5bGUud2lkdGg9IjEwMCUiO20uc3R5bGUuaGVpZ2h0PSIxMDAlIjt2YXIgcT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0Ym9keSIpO2Q9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidHIiKTt2YXIgYj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbnB1dCIpO2Iuc2V0QXR0cmlidXRlKCJ0eXBlIiwiY2hlY2tib3giKTtrPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRkIik7ay5zZXRBdHRyaWJ1dGUoImNvbHNwYW4iLCIyIik7ay5zdHlsZS5mb250U2l6ZT0iMTBwdCI7ay5hcHBlbmRDaGlsZChiKTt2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzcGFuIik7bXhVdGlscy53cml0ZShlLCIgIitteFJlc291cmNlcy5nZXQoImZpdFBhZ2UiKSk7CmsuYXBwZW5kQ2hpbGQoZSk7bXhFdmVudC5hZGRMaXN0ZW5lcihlLCJjbGljayIsZnVuY3Rpb24oYSl7Yi5jaGVja2VkPSFiLmNoZWNrZWQ7Zy5jaGVja2VkPSFiLmNoZWNrZWQ7bXhFdmVudC5jb25zdW1lKGEpfSk7bXhFdmVudC5hZGRMaXN0ZW5lcihiLCJjaGFuZ2UiLGZ1bmN0aW9uKCl7Zy5jaGVja2VkPSFiLmNoZWNrZWR9KTtkLmFwcGVuZENoaWxkKGspO3EuYXBwZW5kQ2hpbGQoZCk7ZD1kLmNsb25lTm9kZSghMSk7dmFyIGc9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTtnLnNldEF0dHJpYnV0ZSgidHlwZSIsImNoZWNrYm94Iik7az1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ZCIpO2suc3R5bGUuZm9udFNpemU9IjEwcHQiO2suYXBwZW5kQ2hpbGQoZyk7ZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzcGFuIik7bXhVdGlscy53cml0ZShlLCIgIitteFJlc291cmNlcy5nZXQoInBvc3RlclByaW50IikrIjoiKTtrLmFwcGVuZENoaWxkKGUpO214RXZlbnQuYWRkTGlzdGVuZXIoZSwKImNsaWNrIixmdW5jdGlvbihhKXtnLmNoZWNrZWQ9IWcuY2hlY2tlZDtiLmNoZWNrZWQ9IWcuY2hlY2tlZDtteEV2ZW50LmNvbnN1bWUoYSl9KTtkLmFwcGVuZENoaWxkKGspO3ZhciBuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7bi5zZXRBdHRyaWJ1dGUoInZhbHVlIiwiMSIpO24uc2V0QXR0cmlidXRlKCJ0eXBlIiwibnVtYmVyIik7bi5zZXRBdHRyaWJ1dGUoIm1pbiIsIjEiKTtuLnNldEF0dHJpYnV0ZSgic2l6ZSIsIjQiKTtuLnNldEF0dHJpYnV0ZSgiZGlzYWJsZWQiLCJkaXNhYmxlZCIpO24uc3R5bGUud2lkdGg9IjUwcHgiO2s9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGQiKTtrLnN0eWxlLmZvbnRTaXplPSIxMHB0IjtrLmFwcGVuZENoaWxkKG4pO214VXRpbHMud3JpdGUoaywiICIrbXhSZXNvdXJjZXMuZ2V0KCJwYWdlcyIpKyIgKG1heCkiKTtkLmFwcGVuZENoaWxkKGspO3EuYXBwZW5kQ2hpbGQoZCk7bXhFdmVudC5hZGRMaXN0ZW5lcihnLCJjaGFuZ2UiLApmdW5jdGlvbigpe2cuY2hlY2tlZD9uLnJlbW92ZUF0dHJpYnV0ZSgiZGlzYWJsZWQiKTpuLnNldEF0dHJpYnV0ZSgiZGlzYWJsZWQiLCJkaXNhYmxlZCIpO2IuY2hlY2tlZD0hZy5jaGVja2VkfSk7ZD1kLmNsb25lTm9kZSghMSk7az1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ZCIpO214VXRpbHMud3JpdGUoayxteFJlc291cmNlcy5nZXQoInBhZ2VTY2FsZSIpKyI6Iik7ZC5hcHBlbmRDaGlsZChrKTtrPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRkIik7dmFyIGw9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTtsLnNldEF0dHJpYnV0ZSgidmFsdWUiLCIxMDAgJSIpO2wuc2V0QXR0cmlidXRlKCJzaXplIiwiNSIpO2wuc3R5bGUud2lkdGg9IjUwcHgiO2suYXBwZW5kQ2hpbGQobCk7ZC5hcHBlbmRDaGlsZChrKTtxLmFwcGVuZENoaWxkKGQpO2Q9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidHIiKTtrPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRkIik7ay5jb2xTcGFuPTI7Cmsuc3R5bGUucGFkZGluZ1RvcD0iMjBweCI7ay5zZXRBdHRyaWJ1dGUoImFsaWduIiwicmlnaHQiKTtlPW14VXRpbHMuYnV0dG9uKG14UmVzb3VyY2VzLmdldCgiY2FuY2VsIiksZnVuY3Rpb24oKXthLmhpZGVEaWFsb2coKX0pO2UuY2xhc3NOYW1lPSJnZUJ0biI7YS5lZGl0b3IuY2FuY2VsRmlyc3QmJmsuYXBwZW5kQ2hpbGQoZSk7aWYoUHJpbnREaWFsb2cucHJldmlld0VuYWJsZWQpe3ZhciBwPW14VXRpbHMuYnV0dG9uKG14UmVzb3VyY2VzLmdldCgicHJldmlldyIpLGZ1bmN0aW9uKCl7YS5oaWRlRGlhbG9nKCk7YyghMSl9KTtwLmNsYXNzTmFtZT0iZ2VCdG4iO2suYXBwZW5kQ2hpbGQocCl9cD1teFV0aWxzLmJ1dHRvbihteFJlc291cmNlcy5nZXQoUHJpbnREaWFsb2cucHJldmlld0VuYWJsZWQ/InByaW50Ijoib2siKSxmdW5jdGlvbigpe2EuaGlkZURpYWxvZygpO2MoITApfSk7cC5jbGFzc05hbWU9ImdlQnRuIGdlUHJpbWFyeUJ0biI7ay5hcHBlbmRDaGlsZChwKTthLmVkaXRvci5jYW5jZWxGaXJzdHx8CmsuYXBwZW5kQ2hpbGQoZSk7ZC5hcHBlbmRDaGlsZChrKTtxLmFwcGVuZENoaWxkKGQpO20uYXBwZW5kQ2hpbGQocSk7dGhpcy5jb250YWluZXI9bX07UHJpbnREaWFsb2cucHJpbnRQcmV2aWV3PWZ1bmN0aW9uKGEpe3RyeXtpZihudWxsIT1hLnduZCl7dmFyIGM9ZnVuY3Rpb24oKXthLnduZC5mb2N1cygpO2Eud25kLnByaW50KCk7YS53bmQuY2xvc2UoKX07bXhDbGllbnQuSVNfR0M/d2luZG93LnNldFRpbWVvdXQoYyw1MDApOmMoKX19Y2F0Y2goZil7fX07ClByaW50RGlhbG9nLmNyZWF0ZVByaW50UHJldmlldz1mdW5jdGlvbihhLGMsZixkLGssbSxxKXtjPW5ldyBteFByaW50UHJldmlldyhhLGMsZixkLGssbSk7Yy50aXRsZT1teFJlc291cmNlcy5nZXQoInByZXZpZXciKTtjLnByaW50QmFja2dyb3VuZEltYWdlPSEwO2MuYXV0b09yaWdpbj1xO2E9YS5iYWNrZ3JvdW5kO2lmKG51bGw9PWF8fCIiPT1hfHxhPT1teENvbnN0YW50cy5OT05FKWE9IiNmZmZmZmYiO2MuYmFja2dyb3VuZENvbG9yPWE7dmFyIGI9Yy53cml0ZUhlYWQ7Yy53cml0ZUhlYWQ9ZnVuY3Rpb24oYSl7Yi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7YS53cml0ZWxuKCc8c3R5bGUgdHlwZT0idGV4dC9jc3MiPicpO2Eud3JpdGVsbigiQG1lZGlhIHNjcmVlbiB7Iik7YS53cml0ZWxuKCIgIGJvZHkgPiBkaXYgeyBwYWRkaW5nOjMwcHg7Ym94LXNpemluZzpjb250ZW50LWJveDsgfSIpO2Eud3JpdGVsbigifSIpO2Eud3JpdGVsbigiPC9zdHlsZT4iKX07cmV0dXJuIGN9OwpQcmludERpYWxvZy5wcmV2aWV3RW5hYmxlZD0hMDsKdmFyIFBhZ2VTZXR1cERpYWxvZz1mdW5jdGlvbihhKXtmdW5jdGlvbiBjKCl7bnVsbD09bnx8bj09bXhDb25zdGFudHMuTk9ORT8oZy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9IiIsZy5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2U9InVybCgnIitEaWFsb2cucHJvdG90eXBlLm5vQ29sb3JJbWFnZSsiJykiKTooZy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9bixnLnN0eWxlLmJhY2tncm91bmRJbWFnZT0iIil9ZnVuY3Rpb24gZigpe251bGw9PXY/KHAucmVtb3ZlQXR0cmlidXRlKCJ0aXRsZSIpLHAuc3R5bGUuZm9udFNpemU9IiIscC5pbm5lckhUTUw9bXhSZXNvdXJjZXMuZ2V0KCJjaGFuZ2UiKSsiLi4uIik6KHAuc2V0QXR0cmlidXRlKCJ0aXRsZSIsdi5zcmMpLHAuc3R5bGUuZm9udFNpemU9IjExcHgiLHAuaW5uZXJIVE1MPXYuc3JjLnN1YnN0cmluZygwLDQyKSsiLi4uIil9dmFyIGQ9YS5lZGl0b3IuZ3JhcGgsayxtLHE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGFibGUiKTtxLnN0eWxlLndpZHRoPQoiMTAwJSI7cS5zdHlsZS5oZWlnaHQ9IjEwMCUiO3ZhciBiPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRib2R5Iik7az1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ciIpO209ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGQiKTttLnN0eWxlLnZlcnRpY2FsQWxpZ249InRvcCI7bS5zdHlsZS5mb250U2l6ZT0iMTBwdCI7bXhVdGlscy53cml0ZShtLG14UmVzb3VyY2VzLmdldCgicGFwZXJTaXplIikrIjoiKTtrLmFwcGVuZENoaWxkKG0pO209ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGQiKTttLnN0eWxlLnZlcnRpY2FsQWxpZ249InRvcCI7bS5zdHlsZS5mb250U2l6ZT0iMTBwdCI7dmFyIGU9UGFnZVNldHVwRGlhbG9nLmFkZFBhZ2VGb3JtYXRQYW5lbChtLCJwYWdlc2V0dXBkaWFsb2ciLGQucGFnZUZvcm1hdCk7ay5hcHBlbmRDaGlsZChtKTtiLmFwcGVuZENoaWxkKGspO2s9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidHIiKTttPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRkIik7Cm14VXRpbHMud3JpdGUobSxteFJlc291cmNlcy5nZXQoImJhY2tncm91bmQiKSsiOiIpO2suYXBwZW5kQ2hpbGQobSk7bT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ZCIpO20uc3R5bGUud2hpdGVTcGFjZT0ibm93cmFwIjtkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbnB1dCIpLnNldEF0dHJpYnV0ZSgidHlwZSIsInRleHQiKTt2YXIgZz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJidXR0b24iKTtnLnN0eWxlLndpZHRoPSIxOHB4IjtnLnN0eWxlLmhlaWdodD0iMThweCI7Zy5zdHlsZS5tYXJnaW5SaWdodD0iMjBweCI7Zy5zdHlsZS5iYWNrZ3JvdW5kUG9zaXRpb249ImNlbnRlciBjZW50ZXIiO2cuc3R5bGUuYmFja2dyb3VuZFJlcGVhdD0ibm8tcmVwZWF0Ijt2YXIgbj1kLmJhY2tncm91bmQ7YygpO214RXZlbnQuYWRkTGlzdGVuZXIoZywiY2xpY2siLGZ1bmN0aW9uKGIpe2EucGlja0NvbG9yKG58fCJub25lIixmdW5jdGlvbihhKXtuPWE7YygpfSk7bXhFdmVudC5jb25zdW1lKGIpfSk7Cm0uYXBwZW5kQ2hpbGQoZyk7bXhVdGlscy53cml0ZShtLG14UmVzb3VyY2VzLmdldCgiZ3JpZFNpemUiKSsiOiIpO3ZhciBsPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7bC5zZXRBdHRyaWJ1dGUoInR5cGUiLCJudW1iZXIiKTtsLnNldEF0dHJpYnV0ZSgibWluIiwiMCIpO2wuc3R5bGUud2lkdGg9IjQwcHgiO2wuc3R5bGUubWFyZ2luTGVmdD0iNnB4IjtsLnZhbHVlPWQuZ2V0R3JpZFNpemUoKTttLmFwcGVuZENoaWxkKGwpO214RXZlbnQuYWRkTGlzdGVuZXIobCwiY2hhbmdlIixmdW5jdGlvbigpe3ZhciBhPXBhcnNlSW50KGwudmFsdWUpO2wudmFsdWU9TWF0aC5tYXgoMSxpc05hTihhKT9kLmdldEdyaWRTaXplKCk6YSl9KTtrLmFwcGVuZENoaWxkKG0pO2IuYXBwZW5kQ2hpbGQoayk7az1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ciIpO209ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGQiKTtteFV0aWxzLndyaXRlKG0sbXhSZXNvdXJjZXMuZ2V0KCJpbWFnZSIpKwoiOiIpO2suYXBwZW5kQ2hpbGQobSk7bT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ZCIpO3ZhciBwPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKTtwLnN0eWxlLnRleHREZWNvcmF0aW9uPSJ1bmRlcmxpbmUiO3Auc3R5bGUuY3Vyc29yPSJwb2ludGVyIjtwLnN0eWxlLmNvbG9yPSIjYTBhMGEwIjt2YXIgdj1kLmJhY2tncm91bmRJbWFnZTtteEV2ZW50LmFkZExpc3RlbmVyKHAsImNsaWNrIixmdW5jdGlvbihiKXthLnNob3dCYWNrZ3JvdW5kSW1hZ2VEaWFsb2coZnVuY3Rpb24oYSl7dj1hO2YoKX0pO214RXZlbnQuY29uc3VtZShiKX0pO2YoKTttLmFwcGVuZENoaWxkKHApO2suYXBwZW5kQ2hpbGQobSk7Yi5hcHBlbmRDaGlsZChrKTtrPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRyIik7bT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ZCIpO20uY29sU3Bhbj0yO20uc3R5bGUucGFkZGluZ1RvcD0iMTZweCI7bS5zZXRBdHRyaWJ1dGUoImFsaWduIiwicmlnaHQiKTt2YXIgdD0KbXhVdGlscy5idXR0b24obXhSZXNvdXJjZXMuZ2V0KCJjYW5jZWwiKSxmdW5jdGlvbigpe2EuaGlkZURpYWxvZygpfSk7dC5jbGFzc05hbWU9ImdlQnRuIjthLmVkaXRvci5jYW5jZWxGaXJzdCYmbS5hcHBlbmRDaGlsZCh0KTt2YXIgeT1teFV0aWxzLmJ1dHRvbihteFJlc291cmNlcy5nZXQoImFwcGx5IiksZnVuY3Rpb24oKXthLmhpZGVEaWFsb2coKTtkLmdyaWRTaXplIT09bC52YWx1ZSYmZC5zZXRHcmlkU2l6ZShwYXJzZUludChsLnZhbHVlKSk7dmFyIGI9bmV3IENoYW5nZVBhZ2VTZXR1cChhLG4sdixlLmdldCgpKTtiLmlnbm9yZUNvbG9yPWQuYmFja2dyb3VuZD09bjtiLmlnbm9yZUltYWdlPShudWxsIT1kLmJhY2tncm91bmRJbWFnZT9kLmJhY2tncm91bmRJbWFnZS5zcmM6bnVsbCk9PT0obnVsbCE9dj92LnNyYzpudWxsKTtkLnBhZ2VGb3JtYXQud2lkdGg9PWIucHJldmlvdXNGb3JtYXQud2lkdGgmJmQucGFnZUZvcm1hdC5oZWlnaHQ9PWIucHJldmlvdXNGb3JtYXQuaGVpZ2h0JiYKYi5pZ25vcmVDb2xvciYmYi5pZ25vcmVJbWFnZXx8ZC5tb2RlbC5leGVjdXRlKGIpfSk7eS5jbGFzc05hbWU9ImdlQnRuIGdlUHJpbWFyeUJ0biI7bS5hcHBlbmRDaGlsZCh5KTthLmVkaXRvci5jYW5jZWxGaXJzdHx8bS5hcHBlbmRDaGlsZCh0KTtrLmFwcGVuZENoaWxkKG0pO2IuYXBwZW5kQ2hpbGQoayk7cS5hcHBlbmRDaGlsZChiKTt0aGlzLmNvbnRhaW5lcj1xfTsKUGFnZVNldHVwRGlhbG9nLmFkZFBhZ2VGb3JtYXRQYW5lbD1mdW5jdGlvbihhLGMsZixkKXtmdW5jdGlvbiBrKGEsZCxjKXtpZihjfHxsIT1kb2N1bWVudC5hY3RpdmVFbGVtZW50JiZwIT1kb2N1bWVudC5hY3RpdmVFbGVtZW50KXthPSExO2ZvcihkPTA7ZDx0Lmxlbmd0aDtkKyspYz10W2RdLEI/ImN1c3RvbSI9PWMua2V5JiYoYi52YWx1ZT1jLmtleSxCPSExKTpudWxsIT1jLmZvcm1hdCYmKCJhNCI9PWMua2V5PzgyNj09Zi53aWR0aD8oZj1teFJlY3RhbmdsZS5mcm9tUmVjdGFuZ2xlKGYpLGYud2lkdGg9ODI3KTo4MjY9PWYuaGVpZ2h0JiYoZj1teFJlY3RhbmdsZS5mcm9tUmVjdGFuZ2xlKGYpLGYuaGVpZ2h0PTgyNyk6ImE1Ij09Yy5rZXkmJig1ODQ9PWYud2lkdGg/KGY9bXhSZWN0YW5nbGUuZnJvbVJlY3RhbmdsZShmKSxmLndpZHRoPTU4Myk6NTg0PT1mLmhlaWdodCYmKGY9bXhSZWN0YW5nbGUuZnJvbVJlY3RhbmdsZShmKSxmLmhlaWdodD01ODMpKSxmLndpZHRoPT1jLmZvcm1hdC53aWR0aCYmCmYuaGVpZ2h0PT1jLmZvcm1hdC5oZWlnaHQ/KGIudmFsdWU9Yy5rZXksbS5zZXRBdHRyaWJ1dGUoImNoZWNrZWQiLCJjaGVja2VkIiksbS5kZWZhdWx0Q2hlY2tlZD0hMCxtLmNoZWNrZWQ9ITAscS5yZW1vdmVBdHRyaWJ1dGUoImNoZWNrZWQiKSxxLmRlZmF1bHRDaGVja2VkPSExLHEuY2hlY2tlZD0hMSxhPSEwKTpmLndpZHRoPT1jLmZvcm1hdC5oZWlnaHQmJmYuaGVpZ2h0PT1jLmZvcm1hdC53aWR0aCYmKGIudmFsdWU9Yy5rZXksbS5yZW1vdmVBdHRyaWJ1dGUoImNoZWNrZWQiKSxtLmRlZmF1bHRDaGVja2VkPSExLG0uY2hlY2tlZD0hMSxxLnNldEF0dHJpYnV0ZSgiY2hlY2tlZCIsImNoZWNrZWQiKSxxLmRlZmF1bHRDaGVja2VkPSEwLGE9cS5jaGVja2VkPSEwKSk7YT8oZS5zdHlsZS5kaXNwbGF5PSIiLG4uc3R5bGUuZGlzcGxheT0ibm9uZSIpOihsLnZhbHVlPWYud2lkdGgvMTAwLHAudmFsdWU9Zi5oZWlnaHQvMTAwLG0uc2V0QXR0cmlidXRlKCJjaGVja2VkIiwiY2hlY2tlZCIpLApiLnZhbHVlPSJjdXN0b20iLGUuc3R5bGUuZGlzcGxheT0ibm9uZSIsbi5zdHlsZS5kaXNwbGF5PSIiKX19Yz0iZm9ybWF0LSIrYzt2YXIgbT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbnB1dCIpO20uc2V0QXR0cmlidXRlKCJuYW1lIixjKTttLnNldEF0dHJpYnV0ZSgidHlwZSIsInJhZGlvIik7bS5zZXRBdHRyaWJ1dGUoInZhbHVlIiwicG9ydHJhaXQiKTt2YXIgcT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbnB1dCIpO3Euc2V0QXR0cmlidXRlKCJuYW1lIixjKTtxLnNldEF0dHJpYnV0ZSgidHlwZSIsInJhZGlvIik7cS5zZXRBdHRyaWJ1dGUoInZhbHVlIiwibGFuZHNjYXBlIik7dmFyIGI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic2VsZWN0Iik7Yi5zdHlsZS5tYXJnaW5Cb3R0b209IjhweCI7Yi5zdHlsZS53aWR0aD0iMjAycHgiO3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2Uuc3R5bGUubWFyZ2luTGVmdD0iNHB4IjtlLnN0eWxlLndpZHRoPSIyMTBweCI7CmUuc3R5bGUuaGVpZ2h0PSIyNHB4IjttLnN0eWxlLm1hcmdpblJpZ2h0PSI2cHgiO2UuYXBwZW5kQ2hpbGQobSk7Yz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzcGFuIik7Yy5zdHlsZS5tYXhXaWR0aD0iMTAwcHgiO214VXRpbHMud3JpdGUoYyxteFJlc291cmNlcy5nZXQoInBvcnRyYWl0IikpO2UuYXBwZW5kQ2hpbGQoYyk7cS5zdHlsZS5tYXJnaW5MZWZ0PSIxMHB4IjtxLnN0eWxlLm1hcmdpblJpZ2h0PSI2cHgiO2UuYXBwZW5kQ2hpbGQocSk7dmFyIGc9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3BhbiIpO2cuc3R5bGUud2lkdGg9IjEwMHB4IjtteFV0aWxzLndyaXRlKGcsbXhSZXNvdXJjZXMuZ2V0KCJsYW5kc2NhcGUiKSk7ZS5hcHBlbmRDaGlsZChnKTt2YXIgbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtuLnN0eWxlLm1hcmdpbkxlZnQ9IjRweCI7bi5zdHlsZS53aWR0aD0iMjEwcHgiO24uc3R5bGUuaGVpZ2h0PSIyNHB4Ijt2YXIgbD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbnB1dCIpOwpsLnNldEF0dHJpYnV0ZSgic2l6ZSIsIjciKTtsLnN0eWxlLnRleHRBbGlnbj0icmlnaHQiO24uYXBwZW5kQ2hpbGQobCk7bXhVdGlscy53cml0ZShuLCIgaW4geCAiKTt2YXIgcD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbnB1dCIpO3Auc2V0QXR0cmlidXRlKCJzaXplIiwiNyIpO3Auc3R5bGUudGV4dEFsaWduPSJyaWdodCI7bi5hcHBlbmRDaGlsZChwKTtteFV0aWxzLndyaXRlKG4sIiBpbiIpO2Uuc3R5bGUuZGlzcGxheT0ibm9uZSI7bi5zdHlsZS5kaXNwbGF5PSJub25lIjtmb3IodmFyIHY9e30sdD1QYWdlU2V0dXBEaWFsb2cuZ2V0Rm9ybWF0cygpLHk9MDt5PHQubGVuZ3RoO3krKyl7dmFyIHg9dFt5XTt2W3gua2V5XT14O3ZhciBDPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIm9wdGlvbiIpO0Muc2V0QXR0cmlidXRlKCJ2YWx1ZSIseC5rZXkpO214VXRpbHMud3JpdGUoQyx4LnRpdGxlKTtiLmFwcGVuZENoaWxkKEMpfXZhciBCPSExO2soKTthLmFwcGVuZENoaWxkKGIpO214VXRpbHMuYnIoYSk7CmEuYXBwZW5kQ2hpbGQoZSk7YS5hcHBlbmRDaGlsZChuKTt2YXIgRD1mLHo9ZnVuY3Rpb24oYSxjKXt2YXIgZz12W2IudmFsdWVdO251bGwhPWcuZm9ybWF0PyhsLnZhbHVlPWcuZm9ybWF0LndpZHRoLzEwMCxwLnZhbHVlPWcuZm9ybWF0LmhlaWdodC8xMDAsbi5zdHlsZS5kaXNwbGF5PSJub25lIixlLnN0eWxlLmRpc3BsYXk9IiIpOihlLnN0eWxlLmRpc3BsYXk9Im5vbmUiLG4uc3R5bGUuZGlzcGxheT0iIik7Zz1wYXJzZUZsb2F0KGwudmFsdWUpO2lmKGlzTmFOKGcpfHwwPj1nKWwudmFsdWU9Zi53aWR0aC8xMDA7Zz1wYXJzZUZsb2F0KHAudmFsdWUpO2lmKGlzTmFOKGcpfHwwPj1nKXAudmFsdWU9Zi5oZWlnaHQvMTAwO2c9bmV3IG14UmVjdGFuZ2xlKDAsMCxNYXRoLmZsb29yKDEwMCpwYXJzZUZsb2F0KGwudmFsdWUpKSxNYXRoLmZsb29yKDEwMCpwYXJzZUZsb2F0KHAudmFsdWUpKSk7ImN1c3RvbSIhPWIudmFsdWUmJnEuY2hlY2tlZCYmKGc9bmV3IG14UmVjdGFuZ2xlKDAsMCwKZy5oZWlnaHQsZy53aWR0aCkpO2MmJkJ8fGcud2lkdGg9PUQud2lkdGgmJmcuaGVpZ2h0PT1ELmhlaWdodHx8KEQ9ZyxudWxsIT1kJiZkKEQpKX07bXhFdmVudC5hZGRMaXN0ZW5lcihjLCJjbGljayIsZnVuY3Rpb24oYSl7bS5jaGVja2VkPSEwO3ooYSk7bXhFdmVudC5jb25zdW1lKGEpfSk7bXhFdmVudC5hZGRMaXN0ZW5lcihnLCJjbGljayIsZnVuY3Rpb24oYSl7cS5jaGVja2VkPSEwO3ooYSk7bXhFdmVudC5jb25zdW1lKGEpfSk7bXhFdmVudC5hZGRMaXN0ZW5lcihsLCJibHVyIix6KTtteEV2ZW50LmFkZExpc3RlbmVyKGwsImNsaWNrIix6KTtteEV2ZW50LmFkZExpc3RlbmVyKHAsImJsdXIiLHopO214RXZlbnQuYWRkTGlzdGVuZXIocCwiY2xpY2siLHopO214RXZlbnQuYWRkTGlzdGVuZXIocSwiY2hhbmdlIix6KTtteEV2ZW50LmFkZExpc3RlbmVyKG0sImNoYW5nZSIseik7bXhFdmVudC5hZGRMaXN0ZW5lcihiLCJjaGFuZ2UiLGZ1bmN0aW9uKGEpe0I9ImN1c3RvbSI9PWIudmFsdWU7CnooYSwhMCl9KTt6KCk7cmV0dXJue3NldDpmdW5jdGlvbihhKXtmPWE7ayhudWxsLG51bGwsITApfSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gRH0sd2lkdGhJbnB1dDpsLGhlaWdodElucHV0OnB9fTsKUGFnZVNldHVwRGlhbG9nLmdldEZvcm1hdHM9ZnVuY3Rpb24oKXtyZXR1cm5be2tleToibGV0dGVyIix0aXRsZTonVVMtTGV0dGVyICg4LDUiIHggMTEiKScsZm9ybWF0Om14Q29uc3RhbnRzLlBBR0VfRk9STUFUX0xFVFRFUl9QT1JUUkFJVH0se2tleToibGVnYWwiLHRpdGxlOidVUy1MZWdhbCAoOCw1IiB4IDE0IiknLGZvcm1hdDpuZXcgbXhSZWN0YW5nbGUoMCwwLDg1MCwxNDAwKX0se2tleToidGFibG9pZCIsdGl0bGU6J1VTLVRhYmxvaWQgKDExIiB4IDE3IiknLGZvcm1hdDpuZXcgbXhSZWN0YW5nbGUoMCwwLDExMDAsMTcwMCl9LHtrZXk6ImV4ZWN1dGl2ZSIsdGl0bGU6J1VTLUV4ZWN1dGl2ZSAoNyIgeCAxMCIpJyxmb3JtYXQ6bmV3IG14UmVjdGFuZ2xlKDAsMCw3MDAsMUUzKX0se2tleToiYTAiLHRpdGxlOiJBMCAoODQxIG1tIHggMTE4OSBtbSkiLGZvcm1hdDpuZXcgbXhSZWN0YW5nbGUoMCwwLDMzMDAsNDY4MSl9LHtrZXk6ImExIix0aXRsZToiQTEgKDU5NCBtbSB4IDg0MSBtbSkiLApmb3JtYXQ6bmV3IG14UmVjdGFuZ2xlKDAsMCwyMzM5LDMzMDApfSx7a2V5OiJhMiIsdGl0bGU6IkEyICg0MjAgbW0geCA1OTQgbW0pIixmb3JtYXQ6bmV3IG14UmVjdGFuZ2xlKDAsMCwxNjU0LDIzMzYpfSx7a2V5OiJhMyIsdGl0bGU6IkEzICgyOTcgbW0geCA0MjAgbW0pIixmb3JtYXQ6bmV3IG14UmVjdGFuZ2xlKDAsMCwxMTY5LDE2NTQpfSx7a2V5OiJhNCIsdGl0bGU6IkE0ICgyMTAgbW0geCAyOTcgbW0pIixmb3JtYXQ6bXhDb25zdGFudHMuUEFHRV9GT1JNQVRfQTRfUE9SVFJBSVR9LHtrZXk6ImE1Iix0aXRsZToiQTUgKDE0OCBtbSB4IDIxMCBtbSkiLGZvcm1hdDpuZXcgbXhSZWN0YW5nbGUoMCwwLDU4Myw4MjcpfSx7a2V5OiJhNiIsdGl0bGU6IkE2ICgxMDUgbW0geCAxNDggbW0pIixmb3JtYXQ6bmV3IG14UmVjdGFuZ2xlKDAsMCw0MTMsNTgzKX0se2tleToiYTciLHRpdGxlOiJBNyAoNzQgbW0geCAxMDUgbW0pIixmb3JtYXQ6bmV3IG14UmVjdGFuZ2xlKDAsMCwyOTEsNDEzKX0sCntrZXk6ImI0Iix0aXRsZToiQjQgKDI1MCBtbSB4IDM1MyBtbSkiLGZvcm1hdDpuZXcgbXhSZWN0YW5nbGUoMCwwLDk4MCwxMzkwKX0se2tleToiYjUiLHRpdGxlOiJCNSAoMTc2IG1tIHggMjUwIG1tKSIsZm9ybWF0Om5ldyBteFJlY3RhbmdsZSgwLDAsNjkwLDk4MCl9LHtrZXk6IjE2LTkiLHRpdGxlOiIxNjo5ICgxNjAwIHggOTAwKSIsZm9ybWF0Om5ldyBteFJlY3RhbmdsZSgwLDAsMTYwMCw5MDApfSx7a2V5OiIxNi0xMCIsdGl0bGU6IjE2OjEwICgxOTIwIHggMTIwMCkiLGZvcm1hdDpuZXcgbXhSZWN0YW5nbGUoMCwwLDE5MjAsMTIwMCl9LHtrZXk6IjQtMyIsdGl0bGU6IjQ6MyAoMTYwMCB4IDEyMDApIixmb3JtYXQ6bmV3IG14UmVjdGFuZ2xlKDAsMCwxNjAwLDEyMDApfSx7a2V5OiJjdXN0b20iLHRpdGxlOm14UmVzb3VyY2VzLmdldCgiY3VzdG9tIiksZm9ybWF0Om51bGx9XX07CnZhciBGaWxlbmFtZURpYWxvZz1mdW5jdGlvbihhLGMsZixkLGssbSxxLGIsZSxnLG4sbCl7ZT1udWxsIT1lP2U6ITA7dmFyIHAsdix0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRhYmxlIikseT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0Ym9keSIpO3Quc3R5bGUubWFyZ2luVG9wPSI4cHgiO3A9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidHIiKTt2PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRkIik7di5zdHlsZS53aGl0ZVNwYWNlPSJub3dyYXAiO3Yuc3R5bGUuZm9udFNpemU9IjEwcHQiO3Yuc3R5bGUud2lkdGg9bj8iODBweCI6IjEyMHB4IjtteFV0aWxzLndyaXRlKHYsKGt8fG14UmVzb3VyY2VzLmdldCgiZmlsZW5hbWUiKSkrIjoiKTtwLmFwcGVuZENoaWxkKHYpO3ZhciB4PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7eC5zZXRBdHRyaWJ1dGUoInZhbHVlIixjfHwiIik7eC5zdHlsZS5tYXJnaW5MZWZ0PSI0cHgiO3guc3R5bGUud2lkdGg9bnVsbCE9bD9sKwoicHgiOiIxODBweCI7dmFyIEM9bXhVdGlscy5idXR0b24oZixmdW5jdGlvbigpe2lmKG51bGw9PW18fG0oeC52YWx1ZSkpZSYmYS5oaWRlRGlhbG9nKCksZCh4LnZhbHVlKX0pO0MuY2xhc3NOYW1lPSJnZUJ0biBnZVByaW1hcnlCdG4iO3RoaXMuaW5pdD1mdW5jdGlvbigpe2lmKG51bGwhPWt8fG51bGw9PXEpaWYoeC5mb2N1cygpLG14Q2xpZW50LklTX0dDfHxteENsaWVudC5JU19GRnx8NTw9ZG9jdW1lbnQuZG9jdW1lbnRNb2RlfHxteENsaWVudC5JU19RVUlSS1M/eC5zZWxlY3QoKTpkb2N1bWVudC5leGVjQ29tbWFuZCgic2VsZWN0QWxsIiwhMSxudWxsKSxHcmFwaC5maWxlU3VwcG9ydCl7dmFyIGE9dC5wYXJlbnROb2RlO2lmKG51bGwhPWEpe3ZhciBiPW51bGw7bXhFdmVudC5hZGRMaXN0ZW5lcihhLCJkcmFnbGVhdmUiLGZ1bmN0aW9uKGEpe251bGwhPWImJihiLnN0eWxlLmJhY2tncm91bmRDb2xvcj0iIixiPW51bGwpO2Euc3RvcFByb3BhZ2F0aW9uKCk7YS5wcmV2ZW50RGVmYXVsdCgpfSk7Cm14RXZlbnQuYWRkTGlzdGVuZXIoYSwiZHJhZ292ZXIiLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe251bGw9PWImJighbXhDbGllbnQuSVNfSUV8fDEwPGRvY3VtZW50LmRvY3VtZW50TW9kZSkmJihiPXgsYi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9IiNlYmYyZjkiKTthLnN0b3BQcm9wYWdhdGlvbigpO2EucHJldmVudERlZmF1bHQoKX0pKTtteEV2ZW50LmFkZExpc3RlbmVyKGEsImRyb3AiLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe251bGwhPWImJihiLnN0eWxlLmJhY2tncm91bmRDb2xvcj0iIixiPW51bGwpOzA8PW14VXRpbHMuaW5kZXhPZihhLmRhdGFUcmFuc2Zlci50eXBlcywidGV4dC91cmktbGlzdCIpJiYoeC52YWx1ZT1kZWNvZGVVUklDb21wb25lbnQoYS5kYXRhVHJhbnNmZXIuZ2V0RGF0YSgidGV4dC91cmktbGlzdCIpKSxDLmNsaWNrKCkpO2Euc3RvcFByb3BhZ2F0aW9uKCk7YS5wcmV2ZW50RGVmYXVsdCgpfSkpfX19O3Y9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGQiKTsKdi5zdHlsZS53aGl0ZVNwYWNlPSJub3dyYXAiO3YuYXBwZW5kQ2hpbGQoeCk7cC5hcHBlbmRDaGlsZCh2KTtpZihudWxsIT1rfHxudWxsPT1xKXkuYXBwZW5kQ2hpbGQocCksbnVsbCE9biYmKG51bGwhPWEuZWRpdG9yLmRpYWdyYW1GaWxlVHlwZXMmJihwPUZpbGVuYW1lRGlhbG9nLmNyZWF0ZUZpbGVUeXBlcyhhLHgsYS5lZGl0b3IuZGlhZ3JhbUZpbGVUeXBlcykscC5zdHlsZS5tYXJnaW5MZWZ0PSI2cHgiLHAuc3R5bGUud2lkdGg9Ijc0cHgiLHYuYXBwZW5kQ2hpbGQocCkseC5zdHlsZS53aWR0aD1udWxsIT1sP2wtNDArInB4IjoiMTQwcHgiKSx2LmFwcGVuZENoaWxkKEZpbGVuYW1lRGlhbG9nLmNyZWF0ZVR5cGVIaW50KGEseCxuKSkpO251bGwhPXEmJihwPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRyIiksdj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ZCIpLHYuY29sU3Bhbj0yLHYuYXBwZW5kQ2hpbGQocSkscC5hcHBlbmRDaGlsZCh2KSx5LmFwcGVuZENoaWxkKHApKTtwPQpkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ciIpO3Y9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGQiKTt2LmNvbFNwYW49Mjt2LnN0eWxlLnBhZGRpbmdUb3A9IjIwcHgiO3Yuc3R5bGUud2hpdGVTcGFjZT0ibm93cmFwIjt2LnNldEF0dHJpYnV0ZSgiYWxpZ24iLCJyaWdodCIpO249bXhVdGlscy5idXR0b24obXhSZXNvdXJjZXMuZ2V0KCJjYW5jZWwiKSxmdW5jdGlvbigpe2EuaGlkZURpYWxvZygpO251bGwhPWcmJmcoKX0pO24uY2xhc3NOYW1lPSJnZUJ0biI7YS5lZGl0b3IuY2FuY2VsRmlyc3QmJnYuYXBwZW5kQ2hpbGQobik7bnVsbCE9YiYmKGw9bXhVdGlscy5idXR0b24obXhSZXNvdXJjZXMuZ2V0KCJoZWxwIiksZnVuY3Rpb24oKXthLmVkaXRvci5ncmFwaC5vcGVuTGluayhiKX0pLGwuY2xhc3NOYW1lPSJnZUJ0biIsdi5hcHBlbmRDaGlsZChsKSk7bXhFdmVudC5hZGRMaXN0ZW5lcih4LCJrZXlwcmVzcyIsZnVuY3Rpb24oYSl7MTM9PWEua2V5Q29kZSYmQy5jbGljaygpfSk7CnYuYXBwZW5kQ2hpbGQoQyk7YS5lZGl0b3IuY2FuY2VsRmlyc3R8fHYuYXBwZW5kQ2hpbGQobik7cC5hcHBlbmRDaGlsZCh2KTt5LmFwcGVuZENoaWxkKHApO3QuYXBwZW5kQ2hpbGQoeSk7dGhpcy5jb250YWluZXI9dH07RmlsZW5hbWVEaWFsb2cuZmlsZW5hbWVIZWxwTGluaz1udWxsOwpGaWxlbmFtZURpYWxvZy5jcmVhdGVUeXBlSGludD1mdW5jdGlvbihhLGMsZil7dmFyIGQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW1nIik7ZC5zdHlsZS5jc3NUZXh0PSJ2ZXJ0aWNhbC1hbGlnbjp0b3A7aGVpZ2h0OjE2cHg7d2lkdGg6MTZweDttYXJnaW4tbGVmdDo0cHg7YmFja2dyb3VuZC1yZXBlYXQ6bm8tcmVwZWF0O2JhY2tncm91bmQtcG9zaXRpb246Y2VudGVyIGJvdHRvbTtjdXJzb3I6cG9pbnRlcjsiO214VXRpbHMuc2V0T3BhY2l0eShkLDcwKTt2YXIgaz1mdW5jdGlvbigpe2Quc2V0QXR0cmlidXRlKCJzcmMiLEVkaXRvci5oZWxwSW1hZ2UpO2Quc2V0QXR0cmlidXRlKCJ0aXRsZSIsbXhSZXNvdXJjZXMuZ2V0KCJoZWxwIikpO2Zvcih2YXIgYT0wO2E8Zi5sZW5ndGg7YSsrKWlmKDA8ZlthXS5leHQubGVuZ3RoJiZjLnZhbHVlLnRvTG93ZXJDYXNlKCkuc3Vic3RyaW5nKGMudmFsdWUubGVuZ3RoLWZbYV0uZXh0Lmxlbmd0aC0xKT09Ii4iK2ZbYV0uZXh0KXtkLnNldEF0dHJpYnV0ZSgic3JjIiwKbXhDbGllbnQuaW1hZ2VCYXNlUGF0aCsiL3dhcm5pbmcucG5nIik7ZC5zZXRBdHRyaWJ1dGUoInRpdGxlIixteFJlc291cmNlcy5nZXQoZlthXS50aXRsZSkpO2JyZWFrfX07bXhFdmVudC5hZGRMaXN0ZW5lcihjLCJrZXl1cCIsayk7bXhFdmVudC5hZGRMaXN0ZW5lcihjLCJjaGFuZ2UiLGspO214RXZlbnQuYWRkTGlzdGVuZXIoZCwiY2xpY2siLGZ1bmN0aW9uKGMpe3ZhciBmPWQuZ2V0QXR0cmlidXRlKCJ0aXRsZSIpO2QuZ2V0QXR0cmlidXRlKCJzcmMiKT09RWRpdG9yLmhlbHBJbWFnZT9hLmVkaXRvci5ncmFwaC5vcGVuTGluayhGaWxlbmFtZURpYWxvZy5maWxlbmFtZUhlbHBMaW5rKToiIiE9ZiYmYS5zaG93RXJyb3IobnVsbCxmLG14UmVzb3VyY2VzLmdldCgiaGVscCIpLGZ1bmN0aW9uKCl7YS5lZGl0b3IuZ3JhcGgub3BlbkxpbmsoRmlsZW5hbWVEaWFsb2cuZmlsZW5hbWVIZWxwTGluayl9LG51bGwsbXhSZXNvdXJjZXMuZ2V0KCJvayIpLG51bGwsbnVsbCxudWxsLDM0MCw5MCk7Cm14RXZlbnQuY29uc3VtZShjKX0pO2soKTtyZXR1cm4gZH07CkZpbGVuYW1lRGlhbG9nLmNyZWF0ZUZpbGVUeXBlcz1mdW5jdGlvbihhLGMsZil7dmFyIGQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic2VsZWN0Iik7Zm9yKGE9MDthPGYubGVuZ3RoO2ErKyl7dmFyIGs9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgib3B0aW9uIik7ay5zZXRBdHRyaWJ1dGUoInZhbHVlIixhKTtteFV0aWxzLndyaXRlKGssbXhSZXNvdXJjZXMuZ2V0KGZbYV0uZGVzY3JpcHRpb24pKyIgKC4iK2ZbYV0uZXh0ZW5zaW9uKyIpIik7ZC5hcHBlbmRDaGlsZChrKX1teEV2ZW50LmFkZExpc3RlbmVyKGQsImNoYW5nZSIsZnVuY3Rpb24oYSl7YT1mW2QudmFsdWVdLmV4dGVuc2lvbjt2YXIgbT1jLnZhbHVlLmxhc3RJbmRleE9mKCIuIik7MDxtPyhhPWZbZC52YWx1ZV0uZXh0ZW5zaW9uLGMudmFsdWU9Yy52YWx1ZS5zdWJzdHJpbmcoMCxtKzEpK2EpOmMudmFsdWU9Yy52YWx1ZSsiLiIrYTsiY3JlYXRlRXZlbnQiaW4gZG9jdW1lbnQ/KGE9ZG9jdW1lbnQuY3JlYXRlRXZlbnQoIkhUTUxFdmVudHMiKSwKYS5pbml0RXZlbnQoImNoYW5nZSIsITEsITApLGMuZGlzcGF0Y2hFdmVudChhKSk6Yy5maXJlRXZlbnQoIm9uY2hhbmdlIil9KTthPWZ1bmN0aW9uKGEpe3ZhciBtPWMudmFsdWUubGFzdEluZGV4T2YoIi4iKTthPTA7aWYoMDxtKWZvcih2YXIgbT1jLnZhbHVlLnRvTG93ZXJDYXNlKCkuc3Vic3RyaW5nKG0rMSksYj0wO2I8Zi5sZW5ndGg7YisrKWlmKG09PWZbYl0uZXh0ZW5zaW9uKXthPWI7YnJlYWt9ZC52YWx1ZT1hfTtteEV2ZW50LmFkZExpc3RlbmVyKGMsImNoYW5nZSIsYSk7bXhFdmVudC5hZGRMaXN0ZW5lcihjLCJrZXl1cCIsYSk7YSgpO3JldHVybiBkfTsKKGZ1bmN0aW9uKCl7bXhHcmFwaFZpZXcucHJvdG90eXBlLnZhbGlkYXRlQmFja2dyb3VuZFBhZ2U9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdyYXBoO2lmKG51bGwhPWEuY29udGFpbmVyJiYhYS50cmFuc3BhcmVudEJhY2tncm91bmQpe2lmKGEucGFnZVZpc2libGUpe3ZhciBiPXRoaXMuZ2V0QmFja2dyb3VuZFBhZ2VCb3VuZHMoKTtpZihudWxsPT10aGlzLmJhY2tncm91bmRQYWdlU2hhcGUpe2Zvcih2YXIgZT1hLmNvbnRhaW5lci5maXJzdENoaWxkO251bGwhPWUmJmUubm9kZVR5cGUhPW14Q29uc3RhbnRzLk5PREVUWVBFX0VMRU1FTlQ7KWU9ZS5uZXh0U2libGluZztudWxsIT1lJiYodGhpcy5iYWNrZ3JvdW5kUGFnZVNoYXBlPXRoaXMuY3JlYXRlQmFja2dyb3VuZFBhZ2VTaGFwZShiKSx0aGlzLmJhY2tncm91bmRQYWdlU2hhcGUuc2NhbGU9MSx0aGlzLmJhY2tncm91bmRQYWdlU2hhcGUuaXNTaGFkb3c9IW14Q2xpZW50LklTX1FVSVJLUyx0aGlzLmJhY2tncm91bmRQYWdlU2hhcGUuZGlhbGVjdD0KbXhDb25zdGFudHMuRElBTEVDVF9TVFJJQ1RIVE1MLHRoaXMuYmFja2dyb3VuZFBhZ2VTaGFwZS5pbml0KGEuY29udGFpbmVyKSxlLnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSIsYS5jb250YWluZXIuaW5zZXJ0QmVmb3JlKHRoaXMuYmFja2dyb3VuZFBhZ2VTaGFwZS5ub2RlLGUpLHRoaXMuYmFja2dyb3VuZFBhZ2VTaGFwZS5yZWRyYXcoKSx0aGlzLmJhY2tncm91bmRQYWdlU2hhcGUubm9kZS5jbGFzc05hbWU9ImdlQmFja2dyb3VuZFBhZ2UiLG14RXZlbnQuYWRkTGlzdGVuZXIodGhpcy5iYWNrZ3JvdW5kUGFnZVNoYXBlLm5vZGUsImRibGNsaWNrIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihiKXthLmRibENsaWNrKGIpfSkpLG14RXZlbnQuYWRkR2VzdHVyZUxpc3RlbmVycyh0aGlzLmJhY2tncm91bmRQYWdlU2hhcGUubm9kZSxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihiKXthLmZpcmVNb3VzZUV2ZW50KG14RXZlbnQuTU9VU0VfRE9XTixuZXcgbXhNb3VzZUV2ZW50KGIpKX0pLApteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihiKXtudWxsIT1hLnRvb2x0aXBIYW5kbGVyJiZhLnRvb2x0aXBIYW5kbGVyLmlzSGlkZU9uSG92ZXIoKSYmYS50b29sdGlwSGFuZGxlci5oaWRlKCk7YS5pc01vdXNlRG93biYmIW14RXZlbnQuaXNDb25zdW1lZChiKSYmYS5maXJlTW91c2VFdmVudChteEV2ZW50Lk1PVVNFX01PVkUsbmV3IG14TW91c2VFdmVudChiKSl9KSxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihiKXthLmZpcmVNb3VzZUV2ZW50KG14RXZlbnQuTU9VU0VfVVAsbmV3IG14TW91c2VFdmVudChiKSl9KSkpfWVsc2UgdGhpcy5iYWNrZ3JvdW5kUGFnZVNoYXBlLnNjYWxlPTEsdGhpcy5iYWNrZ3JvdW5kUGFnZVNoYXBlLmJvdW5kcz1iLHRoaXMuYmFja2dyb3VuZFBhZ2VTaGFwZS5yZWRyYXcoKX1lbHNlIG51bGwhPXRoaXMuYmFja2dyb3VuZFBhZ2VTaGFwZSYmKHRoaXMuYmFja2dyb3VuZFBhZ2VTaGFwZS5kZXN0cm95KCksdGhpcy5iYWNrZ3JvdW5kUGFnZVNoYXBlPQpudWxsKTt0aGlzLnZhbGlkYXRlQmFja2dyb3VuZFN0eWxlcygpfX07bXhHcmFwaFZpZXcucHJvdG90eXBlLnZhbGlkYXRlQmFja2dyb3VuZFN0eWxlcz1mdW5jdGlvbigpe3ZhciBhPXRoaXMuZ3JhcGgsYj1udWxsPT1hLmJhY2tncm91bmR8fGEuYmFja2dyb3VuZD09bXhDb25zdGFudHMuTk9ORT9hLmRlZmF1bHRQYWdlQmFja2dyb3VuZENvbG9yOmEuYmFja2dyb3VuZCxlPW51bGwhPWImJnRoaXMuZ3JpZENvbG9yIT1iLnRvTG93ZXJDYXNlKCk/dGhpcy5ncmlkQ29sb3I6IiNmZmZmZmYiLGQ9Im5vbmUiLGM9IiI7aWYoYS5pc0dyaWRFbmFibGVkKCkpe2M9MTA7bXhDbGllbnQuSVNfU1ZHPyhkPXVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudCh0aGlzLmNyZWF0ZVN2Z0dyaWQoZSkpKSxkPXdpbmRvdy5idG9hP2J0b2EoZCk6QmFzZTY0LmVuY29kZShkLCEwKSxkPSJ1cmwoZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCwiK2QrIikiLGM9YS5ncmlkU2l6ZSp0aGlzLnNjYWxlKnRoaXMuZ3JpZFN0ZXBzKToKZD0idXJsKCIrdGhpcy5ncmlkSW1hZ2UrIikiO3ZhciBmPWU9MDtudWxsIT1hLnZpZXcuYmFja2dyb3VuZFBhZ2VTaGFwZSYmKGY9dGhpcy5nZXRCYWNrZ3JvdW5kUGFnZUJvdW5kcygpLGU9MStmLngsZj0xK2YueSk7Yz0tTWF0aC5yb3VuZChjLW14VXRpbHMubW9kKHRoaXMudHJhbnNsYXRlLngqdGhpcy5zY2FsZS1lLGMpKSsicHggIistTWF0aC5yb3VuZChjLW14VXRpbHMubW9kKHRoaXMudHJhbnNsYXRlLnkqdGhpcy5zY2FsZS1mLGMpKSsicHgifWU9YS52aWV3LmNhbnZhcztudWxsIT1lLm93bmVyU1ZHRWxlbWVudCYmKGU9ZS5vd25lclNWR0VsZW1lbnQpO251bGwhPWEudmlldy5iYWNrZ3JvdW5kUGFnZVNoYXBlPyhhLnZpZXcuYmFja2dyb3VuZFBhZ2VTaGFwZS5ub2RlLnN0eWxlLmJhY2tncm91bmRQb3NpdGlvbj1jLGEudmlldy5iYWNrZ3JvdW5kUGFnZVNoYXBlLm5vZGUuc3R5bGUuYmFja2dyb3VuZEltYWdlPWQsYS52aWV3LmJhY2tncm91bmRQYWdlU2hhcGUubm9kZS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9CmIsYS5jb250YWluZXIuY2xhc3NOYW1lPSJnZURpYWdyYW1Db250YWluZXIgZ2VEaWFncmFtQmFja2Ryb3AiLGUuc3R5bGUuYmFja2dyb3VuZEltYWdlPSJub25lIixlLnN0eWxlLmJhY2tncm91bmRDb2xvcj0iIik6KGEuY29udGFpbmVyLmNsYXNzTmFtZT0iZ2VEaWFncmFtQ29udGFpbmVyIixlLnN0eWxlLmJhY2tncm91bmRQb3NpdGlvbj1jLGUuc3R5bGUuYmFja2dyb3VuZENvbG9yPWIsZS5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2U9ZCl9O214R3JhcGhWaWV3LnByb3RvdHlwZS5jcmVhdGVTdmdHcmlkPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj10aGlzLmdyYXBoLmdyaWRTaXplKnRoaXMuc2NhbGU7Yjx0aGlzLm1pbkdyaWRTaXplOyliKj0yO2Zvcih2YXIgZT10aGlzLmdyaWRTdGVwcypiLGQ9W10sYz0xO2M8dGhpcy5ncmlkU3RlcHM7YysrKXt2YXIgZj1jKmI7ZC5wdXNoKCJNIDAgIitmKyIgTCAiK2UrIiAiK2YrIiBNICIrZisiIDAgTCAiK2YrIiAiK2UpfXJldHVybic8c3ZnIHdpZHRoPSInKwplKyciIGhlaWdodD0iJytlKyciIHhtbG5zPSInK214Q29uc3RhbnRzLk5TX1NWRysnIj48ZGVmcz48cGF0dGVybiBpZD0iZ3JpZCIgd2lkdGg9IicrZSsnIiBoZWlnaHQ9IicrZSsnIiBwYXR0ZXJuVW5pdHM9InVzZXJTcGFjZU9uVXNlIj48cGF0aCBkPSInK2Quam9pbigiICIpKyciIGZpbGw9Im5vbmUiIHN0cm9rZT0iJythKyciIG9wYWNpdHk9IjAuMiIgc3Ryb2tlLXdpZHRoPSIxIi8+PHBhdGggZD0iTSAnK2UrIiAwIEwgMCAwIDAgIitlKyciIGZpbGw9Im5vbmUiIHN0cm9rZT0iJythKyciIHN0cm9rZS13aWR0aD0iMSIvPjwvcGF0dGVybj48L2RlZnM+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0idXJsKCNncmlkKSIvPjwvc3ZnPid9O3ZhciBhPW14R3JhcGgucHJvdG90eXBlLnBhbkdyYXBoO214R3JhcGgucHJvdG90eXBlLnBhbkdyYXBoPWZ1bmN0aW9uKGQsYil7YS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7aWYobnVsbCE9dGhpcy5zaGlmdFByZXZpZXcxKXt2YXIgZT0KdGhpcy52aWV3LmNhbnZhcztudWxsIT1lLm93bmVyU1ZHRWxlbWVudCYmKGU9ZS5vd25lclNWR0VsZW1lbnQpO3ZhciBjPXRoaXMuZ3JpZFNpemUqdGhpcy52aWV3LnNjYWxlKnRoaXMudmlldy5ncmlkU3RlcHMsYz0tTWF0aC5yb3VuZChjLW14VXRpbHMubW9kKHRoaXMudmlldy50cmFuc2xhdGUueCp0aGlzLnZpZXcuc2NhbGUrZCxjKSkrInB4ICIrLU1hdGgucm91bmQoYy1teFV0aWxzLm1vZCh0aGlzLnZpZXcudHJhbnNsYXRlLnkqdGhpcy52aWV3LnNjYWxlK2IsYykpKyJweCI7ZS5zdHlsZS5iYWNrZ3JvdW5kUG9zaXRpb249Y319O214R3JhcGgucHJvdG90eXBlLnVwZGF0ZVBhZ2VCcmVha3M9ZnVuY3Rpb24oYSxiLGUpe3ZhciBkPXRoaXMudmlldy5zY2FsZSxjPXRoaXMudmlldy50cmFuc2xhdGUsZj10aGlzLnBhZ2VGb3JtYXQscD1kKnRoaXMucGFnZVNjYWxlLHY9dGhpcy52aWV3LmdldEJhY2tncm91bmRQYWdlQm91bmRzKCk7Yj12LndpZHRoO2U9di5oZWlnaHQ7dmFyIHQ9Cm5ldyBteFJlY3RhbmdsZShkKmMueCxkKmMueSxmLndpZHRoKnAsZi5oZWlnaHQqcCkseT0oYT1hJiZNYXRoLm1pbih0LndpZHRoLHQuaGVpZ2h0KT50aGlzLm1pblBhZ2VCcmVha0Rpc3QpP01hdGguY2VpbChlL3QuaGVpZ2h0KS0xOjAsbT1hP01hdGguY2VpbChiL3Qud2lkdGgpLTE6MCxrPXYueCtiLHE9di55K2U7bnVsbD09dGhpcy5ob3Jpem9udGFsUGFnZUJyZWFrcyYmMDx5JiYodGhpcy5ob3Jpem9udGFsUGFnZUJyZWFrcz1bXSk7bnVsbD09dGhpcy52ZXJ0aWNhbFBhZ2VCcmVha3MmJjA8bSYmKHRoaXMudmVydGljYWxQYWdlQnJlYWtzPVtdKTthPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe2lmKG51bGwhPWEpe2Zvcih2YXIgYj1hPT10aGlzLmhvcml6b250YWxQYWdlQnJlYWtzP3k6bSxlPTA7ZTw9YjtlKyspe3ZhciBkPWE9PXRoaXMuaG9yaXpvbnRhbFBhZ2VCcmVha3M/W25ldyBteFBvaW50KE1hdGgucm91bmQodi54KSxNYXRoLnJvdW5kKHYueSsoZSsxKSp0LmhlaWdodCkpLApuZXcgbXhQb2ludChNYXRoLnJvdW5kKGspLE1hdGgucm91bmQodi55KyhlKzEpKnQuaGVpZ2h0KSldOltuZXcgbXhQb2ludChNYXRoLnJvdW5kKHYueCsoZSsxKSp0LndpZHRoKSxNYXRoLnJvdW5kKHYueSkpLG5ldyBteFBvaW50KE1hdGgucm91bmQodi54KyhlKzEpKnQud2lkdGgpLE1hdGgucm91bmQocSkpXTtudWxsIT1hW2VdPyhhW2VdLnBvaW50cz1kLGFbZV0ucmVkcmF3KCkpOihkPW5ldyBteFBvbHlsaW5lKGQsdGhpcy5wYWdlQnJlYWtDb2xvciksZC5kaWFsZWN0PXRoaXMuZGlhbGVjdCxkLmlzRGFzaGVkPXRoaXMucGFnZUJyZWFrRGFzaGVkLGQucG9pbnRlckV2ZW50cz0hMSxkLmluaXQodGhpcy52aWV3LmJhY2tncm91bmRQYW5lKSxkLnJlZHJhdygpLGFbZV09ZCl9Zm9yKGU9YjtlPGEubGVuZ3RoO2UrKylhW2VdLmRlc3Ryb3koKTthLnNwbGljZShiLGEubGVuZ3RoLWIpfX0pO2EodGhpcy5ob3Jpem9udGFsUGFnZUJyZWFrcyk7YSh0aGlzLnZlcnRpY2FsUGFnZUJyZWFrcyl9Owp2YXIgYz1teEdyYXBoSGFuZGxlci5wcm90b3R5cGUuc2hvdWxkUmVtb3ZlQ2VsbHNGcm9tUGFyZW50O214R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5zaG91bGRSZW1vdmVDZWxsc0Zyb21QYXJlbnQ9ZnVuY3Rpb24oYSxiLGUpe2Zvcih2YXIgZD0wO2Q8Yi5sZW5ndGg7ZCsrKWlmKHRoaXMuZ3JhcGguZ2V0TW9kZWwoKS5pc1ZlcnRleChiW2RdKSl7dmFyIGY9dGhpcy5ncmFwaC5nZXRDZWxsR2VvbWV0cnkoYltkXSk7aWYobnVsbCE9ZiYmZi5yZWxhdGl2ZSlyZXR1cm4hMX1yZXR1cm4gYy5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O3ZhciBmPW14Q29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLmNyZWF0ZU1hcmtlcjtteENvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS5jcmVhdGVNYXJrZXI9ZnVuY3Rpb24oKXt2YXIgYT1mLmFwcGx5KHRoaXMsYXJndW1lbnRzKTthLmludGVyc2VjdHM9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYixlKXtyZXR1cm4gdGhpcy5pc0Nvbm5lY3RpbmcoKT8KITA6bXhDZWxsTWFya2VyLnByb3RvdHlwZS5pbnRlcnNlY3RzLmFwcGx5KGEsYXJndW1lbnRzKX0pO3JldHVybiBhfTtteEdyYXBoVmlldy5wcm90b3R5cGUuY3JlYXRlQmFja2dyb3VuZFBhZ2VTaGFwZT1mdW5jdGlvbihhKXtyZXR1cm4gbmV3IG14UmVjdGFuZ2xlU2hhcGUoYSwiI2ZmZmZmZiIsdGhpcy5ncmFwaC5kZWZhdWx0UGFnZUJvcmRlckNvbG9yKX07bXhHcmFwaFZpZXcucHJvdG90eXBlLmdldEJhY2tncm91bmRQYWdlQm91bmRzPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXRHcmFwaEJvdW5kcygpLGI9MDxhLndpZHRoP2EueC90aGlzLnNjYWxlLXRoaXMudHJhbnNsYXRlLng6MCxlPTA8YS5oZWlnaHQ/YS55L3RoaXMuc2NhbGUtdGhpcy50cmFuc2xhdGUueTowLGQ9dGhpcy5ncmFwaC5wYWdlRm9ybWF0LGM9dGhpcy5ncmFwaC5wYWdlU2NhbGUsZj1kLndpZHRoKmMsZD1kLmhlaWdodCpjLGM9TWF0aC5mbG9vcihNYXRoLm1pbigwLGIpL2YpLHA9TWF0aC5mbG9vcihNYXRoLm1pbigwLAplKS9kKTtyZXR1cm4gbmV3IG14UmVjdGFuZ2xlKHRoaXMuc2NhbGUqKHRoaXMudHJhbnNsYXRlLngrYypmKSx0aGlzLnNjYWxlKih0aGlzLnRyYW5zbGF0ZS55K3AqZCksdGhpcy5zY2FsZSooTWF0aC5jZWlsKE1hdGgubWF4KDEsYithLndpZHRoL3RoaXMuc2NhbGUpL2YpLWMpKmYsdGhpcy5zY2FsZSooTWF0aC5jZWlsKE1hdGgubWF4KDEsZSthLmhlaWdodC90aGlzLnNjYWxlKS9kKS1wKSpkKX07dmFyIGQ9bXhHcmFwaC5wcm90b3R5cGUucGFuR3JhcGg7bXhHcmFwaC5wcm90b3R5cGUucGFuR3JhcGg9ZnVuY3Rpb24oYSxiKXtkLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLmRpYWxlY3Q9PW14Q29uc3RhbnRzLkRJQUxFQ1RfU1ZHfHxudWxsPT10aGlzLnZpZXcuYmFja2dyb3VuZFBhZ2VTaGFwZXx8dGhpcy51c2VTY3JvbGxiYXJzRm9yUGFubmluZyYmbXhVdGlscy5oYXNTY3JvbGxiYXJzKHRoaXMuY29udGFpbmVyKXx8KHRoaXMudmlldy5iYWNrZ3JvdW5kUGFnZVNoYXBlLm5vZGUuc3R5bGUubWFyZ2luTGVmdD0KYSsicHgiLHRoaXMudmlldy5iYWNrZ3JvdW5kUGFnZVNoYXBlLm5vZGUuc3R5bGUubWFyZ2luVG9wPWIrInB4Iil9O3ZhciBrPW14UG9wdXBNZW51LnByb3RvdHlwZS5hZGRJdGVtO214UG9wdXBNZW51LnByb3RvdHlwZS5hZGRJdGVtPWZ1bmN0aW9uKGEsYixlLGQsYyxmKXt2YXIgZz1rLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtudWxsPT1mfHxmfHxteEV2ZW50LmFkZExpc3RlbmVyKGcsIm1vdXNlZG93biIsZnVuY3Rpb24oYSl7bXhFdmVudC5jb25zdW1lKGEpfSk7cmV0dXJuIGd9O3ZhciBtPW14R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5pc1Byb3BhZ2F0ZVNlbGVjdGlvbkNlbGw7bXhHcmFwaEhhbmRsZXIucHJvdG90eXBlLmlzUHJvcGFnYXRlU2VsZWN0aW9uQ2VsbD1mdW5jdGlvbihhLGIpe3ZhciBlLGQ9dGhpcy5ncmFwaC5tb2RlbC5nZXRQYXJlbnQoYSk7aWYoYilyZXR1cm4gZT10aGlzLmdyYXBoLmdldENlbGxHZW9tZXRyeShhKSwhdGhpcy5ncmFwaC5tb2RlbC5pc0VkZ2UoYSkmJgohdGhpcy5ncmFwaC5tb2RlbC5pc0VkZ2UoZCkmJiF0aGlzLmdyYXBoLmlzU2libGluZ1NlbGVjdGVkKGEpJiYobnVsbD09ZXx8ZS5yZWxhdGl2ZXx8IXRoaXMuZ3JhcGguaXNDb250YWluZXIoZCl8fHRoaXMuZ3JhcGguaXNQYXJ0KGEpKTtlPW0uYXBwbHkodGhpcyxhcmd1bWVudHMpO2lmKHRoaXMuZ3JhcGguaXNUYWJsZUNlbGwoYSl8fHRoaXMuZ3JhcGguaXNUYWJsZVJvdyhhKSllPWQsdGhpcy5ncmFwaC5pc1RhYmxlKGUpfHwoZT10aGlzLmdyYXBoLm1vZGVsLmdldFBhcmVudChlKSksZT0hdGhpcy5ncmFwaC5zZWxlY3Rpb25DZWxsc0hhbmRsZXIuaXNIYW5kbGVkKGUpfHx0aGlzLmdyYXBoLmlzQ2VsbFNlbGVjdGVkKGEpfHx0aGlzLmdyYXBoLmlzVGFibGVDZWxsKGEpJiZ0aGlzLmdyYXBoLmlzQ2VsbFNlbGVjdGVkKGQpO3JldHVybiBlfTtteFBvcHVwTWVudUhhbmRsZXIucHJvdG90eXBlLmdldENlbGxGb3JQb3B1cEV2ZW50PWZ1bmN0aW9uKGEpe2E9YS5nZXRDZWxsKCk7Zm9yKHZhciBiPQp0aGlzLmdyYXBoLmdldE1vZGVsKCksZT1iLmdldFBhcmVudChhKSxkPXRoaXMuZ3JhcGgudmlldy5nZXRTdGF0ZShlKSxjPXRoaXMuZ3JhcGguaXNDZWxsU2VsZWN0ZWQoYSk7bnVsbCE9ZCYmKGIuaXNWZXJ0ZXgoZSl8fGIuaXNFZGdlKGUpKTspe3ZhciBmPXRoaXMuZ3JhcGguaXNDZWxsU2VsZWN0ZWQoZSksYz1jfHxmO2lmKGZ8fCFjJiYodGhpcy5ncmFwaC5pc1RhYmxlQ2VsbChhKXx8dGhpcy5ncmFwaC5pc1RhYmxlUm93KGEpKSlhPWU7ZT1iLmdldFBhcmVudChlKX1yZXR1cm4gYX19KSgpO0VkaXRvclVpPWZ1bmN0aW9uKGEsYyxmKXtteEV2ZW50U291cmNlLmNhbGwodGhpcyk7dGhpcy5kZXN0cm95RnVuY3Rpb25zPVtdO3RoaXMuZWRpdG9yPWF8fG5ldyBFZGl0b3I7dGhpcy5jb250YWluZXI9Y3x8ZG9jdW1lbnQuYm9keTt2YXIgZD10aGlzLmVkaXRvci5ncmFwaDtkLmxpZ2h0Ym94PWY7ZC51c2VDc3NUcmFuc2Zvcm1zJiYodGhpcy5sYXp5Wm9vbURlbGF5PTApO214Q2xpZW50LklTX1NWRz9teFBvcHVwTWVudS5wcm90b3R5cGUuc3VibWVudUltYWdlPSJkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhDUUFKQUlBQUFQLy8vek16TXlINUJBRUFBQUFBTEFBQUFBQUpBQWtBQUFJUGhJOFdlYkhzSG9wU09WZ2IyNkFBQURzPSI6KG5ldyBJbWFnZSkuc3JjPW14UG9wdXBNZW51LnByb3RvdHlwZS5zdWJtZW51SW1hZ2U7bXhDbGllbnQuSVNfU1ZHfHxudWxsPT1teENvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS5jb25uZWN0SW1hZ2V8fCgobmV3IEltYWdlKS5zcmM9bXhDb25uZWN0aW9uSGFuZGxlci5wcm90b3R5cGUuY29ubmVjdEltYWdlLnNyYyk7CnRoaXMuZWRpdG9yLmNocm9tZWxlc3MmJiF0aGlzLmVkaXRvci5lZGl0YWJsZSYmKHRoaXMuZm9vdGVySGVpZ2h0PTAsZC5pc0VuYWJsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4hMX0sZC5wYW5uaW5nSGFuZGxlci5pc0ZvcmNlUGFubmluZ0V2ZW50PWZ1bmN0aW9uKGEpe3JldHVybiFteEV2ZW50LmlzUG9wdXBUcmlnZ2VyKGEuZ2V0RXZlbnQoKSl9KTt0aGlzLmFjdGlvbnM9bmV3IEFjdGlvbnModGhpcyk7dGhpcy5tZW51cz10aGlzLmNyZWF0ZU1lbnVzKCk7aWYoIWQuc3RhbmRhbG9uZSl7dGhpcy5jcmVhdGVEaXZzKCk7dGhpcy5jcmVhdGVVaSgpO3RoaXMucmVmcmVzaCgpO3ZhciBrPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe251bGw9PWEmJihhPXdpbmRvdy5ldmVudCk7cmV0dXJuIGQuaXNFZGl0aW5nKCl8fG51bGwhPWEmJnRoaXMuaXNTZWxlY3Rpb25BbGxvd2VkKGEpfSk7dGhpcy5jb250YWluZXI9PWRvY3VtZW50LmJvZHkmJih0aGlzLm1lbnViYXJDb250YWluZXIub25zZWxlY3RzdGFydD0Kayx0aGlzLm1lbnViYXJDb250YWluZXIub25tb3VzZWRvd249ayx0aGlzLnRvb2xiYXJDb250YWluZXIub25zZWxlY3RzdGFydD1rLHRoaXMudG9vbGJhckNvbnRhaW5lci5vbm1vdXNlZG93bj1rLHRoaXMuZGlhZ3JhbUNvbnRhaW5lci5vbnNlbGVjdHN0YXJ0PWssdGhpcy5kaWFncmFtQ29udGFpbmVyLm9ubW91c2Vkb3duPWssdGhpcy5zaWRlYmFyQ29udGFpbmVyLm9uc2VsZWN0c3RhcnQ9ayx0aGlzLnNpZGViYXJDb250YWluZXIub25tb3VzZWRvd249ayx0aGlzLmZvcm1hdENvbnRhaW5lci5vbnNlbGVjdHN0YXJ0PWssdGhpcy5mb3JtYXRDb250YWluZXIub25tb3VzZWRvd249ayx0aGlzLmZvb3RlckNvbnRhaW5lci5vbnNlbGVjdHN0YXJ0PWssdGhpcy5mb290ZXJDb250YWluZXIub25tb3VzZWRvd249ayxudWxsIT10aGlzLnRhYkNvbnRhaW5lciYmKHRoaXMudGFiQ29udGFpbmVyLm9uc2VsZWN0c3RhcnQ9aykpOyF0aGlzLmVkaXRvci5jaHJvbWVsZXNzfHx0aGlzLmVkaXRvci5lZGl0YWJsZT8KKGM9ZnVuY3Rpb24oYSl7aWYobnVsbCE9YSl7dmFyIGI9bXhFdmVudC5nZXRTb3VyY2UoYSk7aWYoIkEiPT1iLm5vZGVOYW1lKWZvcig7bnVsbCE9Yjspe2lmKCJnZUhpbnQiPT1iLmNsYXNzTmFtZSlyZXR1cm4hMDtiPWIucGFyZW50Tm9kZX19cmV0dXJuIGsoYSl9LG14Q2xpZW50LklTX0lFJiYoInVuZGVmaW5lZCI9PT10eXBlb2YgZG9jdW1lbnQuZG9jdW1lbnRNb2RlfHw5PmRvY3VtZW50LmRvY3VtZW50TW9kZSk/bXhFdmVudC5hZGRMaXN0ZW5lcih0aGlzLmRpYWdyYW1Db250YWluZXIsImNvbnRleHRtZW51IixjKTp0aGlzLmRpYWdyYW1Db250YWluZXIub25jb250ZXh0bWVudT1jKTpkLnBhbm5pbmdIYW5kbGVyLnVzZVBvcHVwVHJpZ2dlcj0hMTtkLmluaXQodGhpcy5kaWFncmFtQ29udGFpbmVyKTtteENsaWVudC5JU19TVkcmJm51bGwhPWQudmlldy5nZXREcmF3UGFuZSgpJiYoYz1kLnZpZXcuZ2V0RHJhd1BhbmUoKS5vd25lclNWR0VsZW1lbnQsbnVsbCE9YyYmKGMuc3R5bGUucG9zaXRpb249CiJhYnNvbHV0ZSIpKTt0aGlzLmhvdmVySWNvbnM9dGhpcy5jcmVhdGVIb3Zlckljb25zKCk7aWYobnVsbCE9ZC5ncmFwaEhhbmRsZXIpe3ZhciBtPWQuZ3JhcGhIYW5kbGVyLnN0YXJ0O2QuZ3JhcGhIYW5kbGVyLnN0YXJ0PWZ1bmN0aW9uKCl7bnVsbCE9eC5ob3Zlckljb25zJiZ4LmhvdmVySWNvbnMucmVzZXQoKTttLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19bXhFdmVudC5hZGRMaXN0ZW5lcih0aGlzLmRpYWdyYW1Db250YWluZXIsIm1vdXNlbW92ZSIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7dmFyIGI9bXhVdGlscy5nZXRPZmZzZXQodGhpcy5kaWFncmFtQ29udGFpbmVyKTswPG14RXZlbnQuZ2V0Q2xpZW50WChhKS1iLngtdGhpcy5kaWFncmFtQ29udGFpbmVyLmNsaWVudFdpZHRofHwwPG14RXZlbnQuZ2V0Q2xpZW50WShhKS1iLnktdGhpcy5kaWFncmFtQ29udGFpbmVyLmNsaWVudEhlaWdodD90aGlzLmRpYWdyYW1Db250YWluZXIuc2V0QXR0cmlidXRlKCJ0aXRsZSIsCm14UmVzb3VyY2VzLmdldCgicGFuVG9vbHRpcCIpKTp0aGlzLmRpYWdyYW1Db250YWluZXIucmVtb3ZlQXR0cmlidXRlKCJ0aXRsZSIpfSkpO3ZhciBxPSExLGI9dGhpcy5ob3Zlckljb25zLmlzUmVzZXRFdmVudDt0aGlzLmhvdmVySWNvbnMuaXNSZXNldEV2ZW50PWZ1bmN0aW9uKGEsZSl7cmV0dXJuIHF8fGIuYXBwbHkodGhpcyxhcmd1bWVudHMpfTt0aGlzLmtleWRvd25IYW5kbGVyPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpezMyIT1hLndoaWNofHxkLmlzRWRpdGluZygpP214RXZlbnQuaXNDb25zdW1lZChhKXx8MjchPWEua2V5Q29kZXx8dGhpcy5oaWRlRGlhbG9nKG51bGwsITApOihxPSEwLHRoaXMuaG92ZXJJY29ucy5yZXNldCgpLGQuY29udGFpbmVyLnN0eWxlLmN1cnNvcj0ibW92ZSIsZC5pc0VkaXRpbmcoKXx8bXhFdmVudC5nZXRTb3VyY2UoYSkhPWQuY29udGFpbmVyfHxteEV2ZW50LmNvbnN1bWUoYSkpfSk7bXhFdmVudC5hZGRMaXN0ZW5lcihkb2N1bWVudCwKImtleWRvd24iLHRoaXMua2V5ZG93bkhhbmRsZXIpO3RoaXMua2V5dXBIYW5kbGVyPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe2QuY29udGFpbmVyLnN0eWxlLmN1cnNvcj0iIjtxPSExfSk7bXhFdmVudC5hZGRMaXN0ZW5lcihkb2N1bWVudCwia2V5dXAiLHRoaXMua2V5dXBIYW5kbGVyKTt2YXIgZT1kLnBhbm5pbmdIYW5kbGVyLmlzRm9yY2VQYW5uaW5nRXZlbnQ7ZC5wYW5uaW5nSGFuZGxlci5pc0ZvcmNlUGFubmluZ0V2ZW50PWZ1bmN0aW9uKGEpe3JldHVybiBlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8cXx8bXhFdmVudC5pc01vdXNlRXZlbnQoYS5nZXRFdmVudCgpKSYmKHRoaXMudXNlUG9wdXBUcmlnZ2VyfHwhbXhFdmVudC5pc1BvcHVwVHJpZ2dlcihhLmdldEV2ZW50KCkpKSYmKCFteEV2ZW50LmlzQ29udHJvbERvd24oYS5nZXRFdmVudCgpKSYmbXhFdmVudC5pc1JpZ2h0TW91c2VCdXR0b24oYS5nZXRFdmVudCgpKXx8bXhFdmVudC5pc01pZGRsZU1vdXNlQnV0dG9uKGEuZ2V0RXZlbnQoKSkpfTsKdmFyIGc9ZC5jZWxsRWRpdG9yLmlzU3RvcEVkaXRpbmdFdmVudDtkLmNlbGxFZGl0b3IuaXNTdG9wRWRpdGluZ0V2ZW50PWZ1bmN0aW9uKGEpe3JldHVybiBnLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8MTM9PWEua2V5Q29kZSYmKCFteENsaWVudC5JU19TRiYmbXhFdmVudC5pc0NvbnRyb2xEb3duKGEpfHxteENsaWVudC5JU19NQUMmJm14RXZlbnQuaXNNZXRhRG93bihhKXx8bXhDbGllbnQuSVNfU0YmJm14RXZlbnQuaXNTaGlmdERvd24oYSkpfTt2YXIgbj1kLmlzWm9vbVdoZWVsRXZlbnQ7ZC5pc1pvb21XaGVlbEV2ZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHF8fG4uYXBwbHkodGhpcyxhcmd1bWVudHMpfTt2YXIgbD0hMSxwPW51bGwsdj1udWxsLHQ9bnVsbCx5PW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7aWYobnVsbCE9dGhpcy50b29sYmFyJiZsIT1kLmNlbGxFZGl0b3IuaXNDb250ZW50RWRpdGluZygpKXtmb3IodmFyIGE9dGhpcy50b29sYmFyLmNvbnRhaW5lci5maXJzdENoaWxkLApiPVtdO251bGwhPWE7KXt2YXIgZT1hLm5leHRTaWJsaW5nOzA+bXhVdGlscy5pbmRleE9mKHRoaXMudG9vbGJhci5zdGF0aWNFbGVtZW50cyxhKSYmKGEucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChhKSxiLnB1c2goYSkpO2E9ZX1hPXRoaXMudG9vbGJhci5mb250TWVudTtlPXRoaXMudG9vbGJhci5zaXplTWVudTtpZihudWxsPT10KXRoaXMudG9vbGJhci5jcmVhdGVUZXh0VG9vbGJhcigpO2Vsc2V7Zm9yKHZhciBjPTA7Yzx0Lmxlbmd0aDtjKyspdGhpcy50b29sYmFyLmNvbnRhaW5lci5hcHBlbmRDaGlsZCh0W2NdKTt0aGlzLnRvb2xiYXIuZm9udE1lbnU9cDt0aGlzLnRvb2xiYXIuc2l6ZU1lbnU9dn1sPWQuY2VsbEVkaXRvci5pc0NvbnRlbnRFZGl0aW5nKCk7cD1hO3Y9ZTt0PWJ9fSkseD10aGlzLEM9ZC5jZWxsRWRpdG9yLnN0YXJ0RWRpdGluZztkLmNlbGxFZGl0b3Iuc3RhcnRFZGl0aW5nPWZ1bmN0aW9uKCl7Qy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7eSgpO2lmKGQuY2VsbEVkaXRvci5pc0NvbnRlbnRFZGl0aW5nKCkpe3ZhciBhPQohMSxiPWZ1bmN0aW9uKCl7YXx8KGE9ITAsd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXtmb3IodmFyIGI9ZC5nZXRTZWxlY3RlZEVsZW1lbnQoKTtudWxsIT1iJiZiLm5vZGVUeXBlIT1teENvbnN0YW50cy5OT0RFVFlQRV9FTEVNRU5UOyliPWIucGFyZW50Tm9kZTtpZihudWxsIT1iJiYoYj1teFV0aWxzLmdldEN1cnJlbnRTdHlsZShiKSxudWxsIT1iJiZudWxsIT14LnRvb2xiYXIpKXt2YXIgZT1iLmZvbnRGYW1pbHk7IiciPT1lLmNoYXJBdCgwKSYmKGU9ZS5zdWJzdHJpbmcoMSkpOyInIj09ZS5jaGFyQXQoZS5sZW5ndGgtMSkmJihlPWUuc3Vic3RyaW5nKDAsZS5sZW5ndGgtMSkpO3gudG9vbGJhci5zZXRGb250TmFtZShlKTt4LnRvb2xiYXIuc2V0Rm9udFNpemUocGFyc2VJbnQoYi5mb250U2l6ZSkpfWE9ITF9LDApKX07bXhFdmVudC5hZGRMaXN0ZW5lcihkLmNlbGxFZGl0b3IudGV4dGFyZWEsImlucHV0IixiKTtteEV2ZW50LmFkZExpc3RlbmVyKGQuY2VsbEVkaXRvci50ZXh0YXJlYSwKInRvdWNoZW5kIixiKTtteEV2ZW50LmFkZExpc3RlbmVyKGQuY2VsbEVkaXRvci50ZXh0YXJlYSwibW91c2V1cCIsYik7bXhFdmVudC5hZGRMaXN0ZW5lcihkLmNlbGxFZGl0b3IudGV4dGFyZWEsImtleXVwIixiKTtiKCl9fTt2YXIgQj1kLmNlbGxFZGl0b3Iuc3RvcEVkaXRpbmc7ZC5jZWxsRWRpdG9yLnN0b3BFZGl0aW5nPWZ1bmN0aW9uKGEsYil7dHJ5e0IuYXBwbHkodGhpcyxhcmd1bWVudHMpLHkoKX1jYXRjaChBKXt4LmhhbmRsZUVycm9yKEEpfX07ZC5jb250YWluZXIuc2V0QXR0cmlidXRlKCJ0YWJpbmRleCIsIjAiKTtkLmNvbnRhaW5lci5zdHlsZS5jdXJzb3I9ImRlZmF1bHQiO2lmKHdpbmRvdy5zZWxmPT09d2luZG93LnRvcCYmbnVsbCE9ZC5jb250YWluZXIucGFyZW50Tm9kZSl0cnl7ZC5jb250YWluZXIuZm9jdXMoKX1jYXRjaCh1KXt9dmFyIEQ9ZC5maXJlTW91c2VFdmVudDtkLmZpcmVNb3VzZUV2ZW50PWZ1bmN0aW9uKGEsYixlKXthPT1teEV2ZW50Lk1PVVNFX0RPV04mJgp0aGlzLmNvbnRhaW5lci5mb2N1cygpO0QuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtkLnBvcHVwTWVudUhhbmRsZXIuYXV0b0V4cGFuZD0hMDtudWxsIT10aGlzLm1lbnVzJiYoZC5wb3B1cE1lbnVIYW5kbGVyLmZhY3RvcnlNZXRob2Q9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSxiLGUpe3RoaXMubWVudXMuY3JlYXRlUG9wdXBNZW51KGEsYixlKX0pKTtteEV2ZW50LmFkZEdlc3R1cmVMaXN0ZW5lcnMoZG9jdW1lbnQsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7ZC5wb3B1cE1lbnVIYW5kbGVyLmhpZGVNZW51KCl9KSk7dGhpcy5rZXlIYW5kbGVyPXRoaXMuY3JlYXRlS2V5SGFuZGxlcihhKTt0aGlzLmdldEtleUhhbmRsZXI9ZnVuY3Rpb24oKXtyZXR1cm4ga2V5SGFuZGxlcn07dmFyIHo9InJvdW5kZWQgc2hhZG93IGdsYXNzIGRhc2hlZCBkYXNoUGF0dGVybiBjb21pYyBsYWJlbEJhY2tncm91bmRDb2xvciIuc3BsaXQoIiAiKSxFPSJzaGFwZSBlZGdlU3R5bGUgY3VydmVkIHJvdW5kZWQgZWxib3cgY29taWMganVtcFN0eWxlIGp1bXBTaXplIi5zcGxpdCgiICIpOwp0aGlzLnNldERlZmF1bHRTdHlsZT1mdW5jdGlvbihhKXt0cnl7dmFyIGI9ZC52aWV3LmdldFN0YXRlKGEpO2lmKG51bGwhPWIpe3ZhciBlPWEuY2xvbmUoKTtlLnN0eWxlPSIiO3ZhciBjPWQuZ2V0Q2VsbFN0eWxlKGUpO2E9W107dmFyIGU9W10sZztmb3IoZyBpbiBiLnN0eWxlKWNbZ10hPWIuc3R5bGVbZ10mJihhLnB1c2goYi5zdHlsZVtnXSksZS5wdXNoKGcpKTtmb3IodmFyIGY9ZC5nZXRNb2RlbCgpLmdldFN0eWxlKGIuY2VsbCksbD1udWxsIT1mP2Yuc3BsaXQoIjsiKTpbXSxmPTA7ZjxsLmxlbmd0aDtmKyspe3ZhciBuPWxbZl0scD1uLmluZGV4T2YoIj0iKTtpZigwPD1wKXtnPW4uc3Vic3RyaW5nKDAscCk7dmFyIHU9bi5zdWJzdHJpbmcocCsxKTtudWxsIT1jW2ddJiYibm9uZSI9PXUmJihhLnB1c2godSksZS5wdXNoKGcpKX19ZC5nZXRNb2RlbCgpLmlzRWRnZShiLmNlbGwpP2QuY3VycmVudEVkZ2VTdHlsZT17fTpkLmN1cnJlbnRWZXJ0ZXhTdHlsZT17fTt0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdCgic3R5bGVDaGFuZ2VkIiwKImtleXMiLGUsInZhbHVlcyIsYSwiY2VsbHMiLFtiLmNlbGxdKSl9fWNhdGNoKGJhKXt0aGlzLmhhbmRsZUVycm9yKGJhKX19O3RoaXMuY2xlYXJEZWZhdWx0U3R5bGU9ZnVuY3Rpb24oKXtkLmN1cnJlbnRFZGdlU3R5bGU9bXhVdGlscy5jbG9uZShkLmRlZmF1bHRFZGdlU3R5bGUpO2QuY3VycmVudFZlcnRleFN0eWxlPW14VXRpbHMuY2xvbmUoZC5kZWZhdWx0VmVydGV4U3R5bGUpO3RoaXMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KCJzdHlsZUNoYW5nZWQiLCJrZXlzIixbXSwidmFsdWVzIixbXSwiY2VsbHMiLFtdKSl9O3ZhciBHPVsiZm9udEZhbWlseSIsImZvbnRTaXplIiwiZm9udENvbG9yIl0sRj0iZWRnZVN0eWxlIHN0YXJ0QXJyb3cgc3RhcnRGaWxsIHN0YXJ0U2l6ZSBlbmRBcnJvdyBlbmRGaWxsIGVuZFNpemUiLnNwbGl0KCIgIiksSD1bInN0YXJ0QXJyb3cgc3RhcnRGaWxsIHN0YXJ0U2l6ZSBzb3VyY2VQZXJpbWV0ZXJTcGFjaW5nIGVuZEFycm93IGVuZEZpbGwgZW5kU2l6ZSB0YXJnZXRQZXJpbWV0ZXJTcGFjaW5nIi5zcGxpdCgiICIpLApbInN0cm9rZUNvbG9yIiwic3Ryb2tlV2lkdGgiXSxbImZpbGxDb2xvciIsImdyYWRpZW50Q29sb3IiXSxHLFsib3BhY2l0eSJdLFsiYWxpZ24iXSxbImh0bWwiXV07Zm9yKGE9MDthPEgubGVuZ3RoO2ErKylmb3IoYz0wO2M8SFthXS5sZW5ndGg7YysrKXoucHVzaChIW2FdW2NdKTtmb3IoYT0wO2E8RS5sZW5ndGg7YSsrKTA+bXhVdGlscy5pbmRleE9mKHosRVthXSkmJnoucHVzaChFW2FdKTt2YXIgSj1mdW5jdGlvbihhLGIpe3ZhciBlPWQuZ2V0TW9kZWwoKTtlLmJlZ2luVXBkYXRlKCk7dHJ5e2Zvcih2YXIgYz0wO2M8YS5sZW5ndGg7YysrKXt2YXIgZz1hW2NdLGY7aWYoYilmPVsiZm9udFNpemUiLCJmb250RmFtaWx5IiwiZm9udENvbG9yIl07ZWxzZXt2YXIgbj1lLmdldFN0eWxlKGcpLGw9bnVsbCE9bj9uLnNwbGl0KCI7Iik6W107Zj16LnNsaWNlKCk7Zm9yKHZhciBwPTA7cDxsLmxlbmd0aDtwKyspe3ZhciB1PWxbcF0sdD11LmluZGV4T2YoIj0iKTtpZigwPD10KXt2YXIgSz0KdS5zdWJzdHJpbmcoMCx0KSx5PW14VXRpbHMuaW5kZXhPZihmLEspOzA8PXkmJmYuc3BsaWNlKHksMSk7Zm9yKHZhciBtPTA7bTxILmxlbmd0aDttKyspe3ZhciB2PUhbbV07aWYoMDw9bXhVdGlscy5pbmRleE9mKHYsSykpZm9yKHZhciBrPTA7azx2Lmxlbmd0aDtrKyspe3ZhciB4PW14VXRpbHMuaW5kZXhPZihmLHZba10pOzA8PXgmJmYuc3BsaWNlKHgsMSl9fX19fWZvcih2YXIgQz1lLmlzRWRnZShnKSxxPUM/ZC5jdXJyZW50RWRnZVN0eWxlOmQuY3VycmVudFZlcnRleFN0eWxlLEI9ZS5nZXRTdHlsZShnKSxwPTA7cDxmLmxlbmd0aDtwKyspe3ZhciBLPWZbcF0sRD1xW0tdO251bGw9PUR8fCJzaGFwZSI9PUsmJiFDfHxDJiYhKDA+bXhVdGlscy5pbmRleE9mKEUsSykpfHwoQj1teFV0aWxzLnNldFN0eWxlKEIsSyxEKSl9ZS5zZXRTdHlsZShnLEIpfX1maW5hbGx5e2UuZW5kVXBkYXRlKCl9fTtkLmFkZExpc3RlbmVyKCJjZWxsc0luc2VydGVkIixmdW5jdGlvbihhLGIpe0ooYi5nZXRQcm9wZXJ0eSgiY2VsbHMiKSl9KTsKZC5hZGRMaXN0ZW5lcigidGV4dEluc2VydGVkIixmdW5jdGlvbihhLGIpe0ooYi5nZXRQcm9wZXJ0eSgiY2VsbHMiKSwhMCl9KTtkLmNvbm5lY3Rpb25IYW5kbGVyLmFkZExpc3RlbmVyKG14RXZlbnQuQ09OTkVDVCxmdW5jdGlvbihhLGIpe3ZhciBlPVtiLmdldFByb3BlcnR5KCJjZWxsIildO2IuZ2V0UHJvcGVydHkoInRlcm1pbmFsSW5zZXJ0ZWQiKSYmZS5wdXNoKGIuZ2V0UHJvcGVydHkoInRlcm1pbmFsIikpO0ooZSl9KTt0aGlzLmFkZExpc3RlbmVyKCJzdHlsZUNoYW5nZWQiLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEsYil7dmFyIGU9Yi5nZXRQcm9wZXJ0eSgiY2VsbHMiKSxjPSExLGc9ITE7aWYoMDxlLmxlbmd0aClmb3IodmFyIGY9MDtmPGUubGVuZ3RoJiYoYz1kLmdldE1vZGVsKCkuaXNWZXJ0ZXgoZVtmXSl8fGMsIShnPWQuZ2V0TW9kZWwoKS5pc0VkZ2UoZVtmXSl8fGcpfHwhYyk7ZisrKTtlbHNlIGc9Yz0hMDtmb3IodmFyIGU9Yi5nZXRQcm9wZXJ0eSgia2V5cyIpLApuPWIuZ2V0UHJvcGVydHkoInZhbHVlcyIpLGY9MDtmPGUubGVuZ3RoO2YrKyl7dmFyIGw9MDw9bXhVdGlscy5pbmRleE9mKEcsZVtmXSk7aWYoInN0cm9rZUNvbG9yIiE9ZVtmXXx8bnVsbCE9bltmXSYmIm5vbmUiIT1uW2ZdKWlmKDA8PW14VXRpbHMuaW5kZXhPZihFLGVbZl0pKWd8fDA8PW14VXRpbHMuaW5kZXhPZihGLGVbZl0pP251bGw9PW5bZl0/ZGVsZXRlIGQuY3VycmVudEVkZ2VTdHlsZVtlW2ZdXTpkLmN1cnJlbnRFZGdlU3R5bGVbZVtmXV09bltmXTpjJiYwPD1teFV0aWxzLmluZGV4T2YoeixlW2ZdKSYmKG51bGw9PW5bZl0/ZGVsZXRlIGQuY3VycmVudFZlcnRleFN0eWxlW2VbZl1dOmQuY3VycmVudFZlcnRleFN0eWxlW2VbZl1dPW5bZl0pO2Vsc2UgaWYoMDw9bXhVdGlscy5pbmRleE9mKHosZVtmXSkpe2lmKGN8fGwpbnVsbD09bltmXT9kZWxldGUgZC5jdXJyZW50VmVydGV4U3R5bGVbZVtmXV06ZC5jdXJyZW50VmVydGV4U3R5bGVbZVtmXV09bltmXTtpZihnfHxsfHwKMDw9bXhVdGlscy5pbmRleE9mKEYsZVtmXSkpbnVsbD09bltmXT9kZWxldGUgZC5jdXJyZW50RWRnZVN0eWxlW2VbZl1dOmQuY3VycmVudEVkZ2VTdHlsZVtlW2ZdXT1uW2ZdfX1udWxsIT10aGlzLnRvb2xiYXImJih0aGlzLnRvb2xiYXIuc2V0Rm9udE5hbWUoZC5jdXJyZW50VmVydGV4U3R5bGUuZm9udEZhbWlseXx8TWVudXMucHJvdG90eXBlLmRlZmF1bHRGb250KSx0aGlzLnRvb2xiYXIuc2V0Rm9udFNpemUoZC5jdXJyZW50VmVydGV4U3R5bGUuZm9udFNpemV8fE1lbnVzLnByb3RvdHlwZS5kZWZhdWx0Rm9udFNpemUpLG51bGwhPXRoaXMudG9vbGJhci5lZGdlU3R5bGVNZW51JiYodGhpcy50b29sYmFyLmVkZ2VTdHlsZU1lbnUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImRpdiIpWzBdLmNsYXNzTmFtZT0ib3J0aG9nb25hbEVkZ2VTdHlsZSI9PWQuY3VycmVudEVkZ2VTdHlsZS5lZGdlU3R5bGUmJiIxIj09ZC5jdXJyZW50RWRnZVN0eWxlLmN1cnZlZD8iZ2VTcHJpdGUgZ2VTcHJpdGUtY3VydmVkIjoKInN0cmFpZ2h0Ij09ZC5jdXJyZW50RWRnZVN0eWxlLmVkZ2VTdHlsZXx8Im5vbmUiPT1kLmN1cnJlbnRFZGdlU3R5bGUuZWRnZVN0eWxlfHxudWxsPT1kLmN1cnJlbnRFZGdlU3R5bGUuZWRnZVN0eWxlPyJnZVNwcml0ZSBnZVNwcml0ZS1zdHJhaWdodCI6ImVudGl0eVJlbGF0aW9uRWRnZVN0eWxlIj09ZC5jdXJyZW50RWRnZVN0eWxlLmVkZ2VTdHlsZT8iZ2VTcHJpdGUgZ2VTcHJpdGUtZW50aXR5IjoiZWxib3dFZGdlU3R5bGUiPT1kLmN1cnJlbnRFZGdlU3R5bGUuZWRnZVN0eWxlPyJnZVNwcml0ZSBnZVNwcml0ZS0iKygidmVydGljYWwiPT1kLmN1cnJlbnRFZGdlU3R5bGUuZWxib3c/InZlcnRpY2FsZWxib3ciOiJob3Jpem9udGFsZWxib3ciKToiaXNvbWV0cmljRWRnZVN0eWxlIj09ZC5jdXJyZW50RWRnZVN0eWxlLmVkZ2VTdHlsZT8iZ2VTcHJpdGUgZ2VTcHJpdGUtIisoInZlcnRpY2FsIj09ZC5jdXJyZW50RWRnZVN0eWxlLmVsYm93PyJ2ZXJ0aWNhbGlzb21ldHJpYyI6Imhvcml6b250YWxpc29tZXRyaWMiKToKImdlU3ByaXRlIGdlU3ByaXRlLW9ydGhvZ29uYWwiKSxudWxsIT10aGlzLnRvb2xiYXIuZWRnZVNoYXBlTWVudSYmKHRoaXMudG9vbGJhci5lZGdlU2hhcGVNZW51LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJkaXYiKVswXS5jbGFzc05hbWU9ImxpbmsiPT1kLmN1cnJlbnRFZGdlU3R5bGUuc2hhcGU/ImdlU3ByaXRlIGdlU3ByaXRlLWxpbmtlZGdlIjoiZmxleEFycm93Ij09ZC5jdXJyZW50RWRnZVN0eWxlLnNoYXBlPyJnZVNwcml0ZSBnZVNwcml0ZS1hcnJvdyI6ImFycm93Ij09ZC5jdXJyZW50RWRnZVN0eWxlLnNoYXBlPyJnZVNwcml0ZSBnZVNwcml0ZS1zaW1wbGVhcnJvdyI6ImdlU3ByaXRlIGdlU3ByaXRlLWNvbm5lY3Rpb24iKSxudWxsIT10aGlzLnRvb2xiYXIubGluZVN0YXJ0TWVudSYmKHRoaXMudG9vbGJhci5saW5lU3RhcnRNZW51LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJkaXYiKVswXS5jbGFzc05hbWU9dGhpcy5nZXRDc3NDbGFzc0Zvck1hcmtlcigic3RhcnQiLGQuY3VycmVudEVkZ2VTdHlsZS5zaGFwZSwKZC5jdXJyZW50RWRnZVN0eWxlW214Q29uc3RhbnRzLlNUWUxFX1NUQVJUQVJST1ddLG14VXRpbHMuZ2V0VmFsdWUoZC5jdXJyZW50RWRnZVN0eWxlLCJzdGFydEZpbGwiLCIxIikpKSxudWxsIT10aGlzLnRvb2xiYXIubGluZUVuZE1lbnUmJih0aGlzLnRvb2xiYXIubGluZUVuZE1lbnUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImRpdiIpWzBdLmNsYXNzTmFtZT10aGlzLmdldENzc0NsYXNzRm9yTWFya2VyKCJlbmQiLGQuY3VycmVudEVkZ2VTdHlsZS5zaGFwZSxkLmN1cnJlbnRFZGdlU3R5bGVbbXhDb25zdGFudHMuU1RZTEVfRU5EQVJST1ddLG14VXRpbHMuZ2V0VmFsdWUoZC5jdXJyZW50RWRnZVN0eWxlLCJlbmRGaWxsIiwiMSIpKSkpfSkpO251bGwhPXRoaXMudG9vbGJhciYmKGE9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt2YXIgYT1kLmN1cnJlbnRWZXJ0ZXhTdHlsZS5mb250RmFtaWx5fHwiSGVsdmV0aWNhIixiPVN0cmluZyhkLmN1cnJlbnRWZXJ0ZXhTdHlsZS5mb250U2l6ZXx8CiIxMiIpLGU9ZC5nZXRWaWV3KCkuZ2V0U3RhdGUoZC5nZXRTZWxlY3Rpb25DZWxsKCkpO251bGwhPWUmJihhPWUuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfRk9OVEZBTUlMWV18fGEsYj1lLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX0ZPTlRTSVpFXXx8YiwxMDxhLmxlbmd0aCYmKGE9YS5zdWJzdHJpbmcoMCw4KSsiLi4uIikpO3RoaXMudG9vbGJhci5zZXRGb250TmFtZShhKTt0aGlzLnRvb2xiYXIuc2V0Rm9udFNpemUoYil9KSxkLmdldFNlbGVjdGlvbk1vZGVsKCkuYWRkTGlzdGVuZXIobXhFdmVudC5DSEFOR0UsYSksZC5nZXRNb2RlbCgpLmFkZExpc3RlbmVyKG14RXZlbnQuQ0hBTkdFLGEpKTtkLmFkZExpc3RlbmVyKG14RXZlbnQuQ0VMTFNfQURERUQsZnVuY3Rpb24oYSxiKXt2YXIgZT1iLmdldFByb3BlcnR5KCJjZWxscyIpLGM9Yi5nZXRQcm9wZXJ0eSgicGFyZW50Iik7ZC5nZXRNb2RlbCgpLmlzTGF5ZXIoYykmJiFkLmlzQ2VsbFZpc2libGUoYykmJm51bGwhPWUmJjA8ZS5sZW5ndGgmJgpkLmdldE1vZGVsKCkuc2V0VmlzaWJsZShjLCEwKX0pO3RoaXMuZ2VzdHVyZUhhbmRsZXI9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7bnVsbCE9dGhpcy5jdXJyZW50TWVudSYmbXhFdmVudC5nZXRTb3VyY2UoYSkhPXRoaXMuY3VycmVudE1lbnUuZGl2JiZ0aGlzLmhpZGVDdXJyZW50TWVudSgpfSk7bXhFdmVudC5hZGRHZXN0dXJlTGlzdGVuZXJzKGRvY3VtZW50LHRoaXMuZ2VzdHVyZUhhbmRsZXIpO3RoaXMucmVzaXplSGFuZGxlcj1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3dpbmRvdy5zZXRUaW1lb3V0KG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7bnVsbCE9dGhpcy5lZGl0b3IuZ3JhcGgmJnRoaXMucmVmcmVzaCgpfSksMCl9KTtteEV2ZW50LmFkZExpc3RlbmVyKHdpbmRvdywicmVzaXplIix0aGlzLnJlc2l6ZUhhbmRsZXIpO3RoaXMub3JpZW50YXRpb25DaGFuZ2VIYW5kbGVyPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dGhpcy5yZWZyZXNoKCl9KTsKbXhFdmVudC5hZGRMaXN0ZW5lcih3aW5kb3csIm9yaWVudGF0aW9uY2hhbmdlIix0aGlzLm9yaWVudGF0aW9uQ2hhbmdlSGFuZGxlcik7bXhDbGllbnQuSVNfSU9TJiYhd2luZG93Lm5hdmlnYXRvci5zdGFuZGFsb25lJiYodGhpcy5zY3JvbGxIYW5kbGVyPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7d2luZG93LnNjcm9sbFRvKDAsMCl9KSxteEV2ZW50LmFkZExpc3RlbmVyKHdpbmRvdywic2Nyb2xsIix0aGlzLnNjcm9sbEhhbmRsZXIpKTt0aGlzLmVkaXRvci5hZGRMaXN0ZW5lcigicmVzZXRHcmFwaFZpZXciLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dGhpcy5yZXNldFNjcm9sbGJhcnMoKX0pKTt0aGlzLmFkZExpc3RlbmVyKCJncmlkRW5hYmxlZENoYW5nZWQiLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7ZC52aWV3LnZhbGlkYXRlQmFja2dyb3VuZCgpfSkpO3RoaXMuYWRkTGlzdGVuZXIoImJhY2tncm91bmRDb2xvckNoYW5nZWQiLG14VXRpbHMuYmluZCh0aGlzLApmdW5jdGlvbigpe2Qudmlldy52YWxpZGF0ZUJhY2tncm91bmQoKX0pKTtkLmFkZExpc3RlbmVyKCJncmlkU2l6ZUNoYW5nZWQiLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7ZC5pc0dyaWRFbmFibGVkKCkmJmQudmlldy52YWxpZGF0ZUJhY2tncm91bmQoKX0pKTt0aGlzLmVkaXRvci5yZXNldEdyYXBoKCl9dGhpcy5pbml0KCk7ZC5zdGFuZGFsb25lfHx0aGlzLm9wZW4oKX07bXhVdGlscy5leHRlbmQoRWRpdG9yVWksbXhFdmVudFNvdXJjZSk7RWRpdG9yVWkuY29tcGFjdFVpPSEwO0VkaXRvclVpLnByb3RvdHlwZS5zcGxpdFNpemU9bXhDbGllbnQuSVNfVE9VQ0h8fG14Q2xpZW50LklTX1BPSU5URVI/MTI6ODtFZGl0b3JVaS5wcm90b3R5cGUubWVudWJhckhlaWdodD0zMDtFZGl0b3JVaS5wcm90b3R5cGUuZm9ybWF0RW5hYmxlZD0hMDtFZGl0b3JVaS5wcm90b3R5cGUuZm9ybWF0V2lkdGg9MjQwO0VkaXRvclVpLnByb3RvdHlwZS50b29sYmFySGVpZ2h0PTM4OwpFZGl0b3JVaS5wcm90b3R5cGUuZm9vdGVySGVpZ2h0PTI4O0VkaXRvclVpLnByb3RvdHlwZS5zaWRlYmFyRm9vdGVySGVpZ2h0PTM0O0VkaXRvclVpLnByb3RvdHlwZS5oc3BsaXRQb3NpdGlvbj02NDA+PXNjcmVlbi53aWR0aD8xMTg6ImxhcmdlIiE9dXJsUGFyYW1zWyJzaWRlYmFyLWVudHJpZXMiXT8yMTI6MjQwO0VkaXRvclVpLnByb3RvdHlwZS5hbGxvd0FuaW1hdGlvbj0hMDtFZGl0b3JVaS5wcm90b3R5cGUubGlnaHRib3hNYXhGaXRTY2FsZT0yO0VkaXRvclVpLnByb3RvdHlwZS5saWdodGJveFZlcnRpY2FsRGl2aWRlcj00O0VkaXRvclVpLnByb3RvdHlwZS5oc3BsaXRDbGlja0VuYWJsZWQ9ITE7CkVkaXRvclVpLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5lZGl0b3IuZ3JhcGg7aWYoIWEuc3RhbmRhbG9uZSl7bXhFdmVudC5hZGRMaXN0ZW5lcihhLmNvbnRhaW5lciwic2Nyb2xsIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe2EudG9vbHRpcEhhbmRsZXIuaGlkZSgpO251bGwhPWEuY29ubmVjdGlvbkhhbmRsZXImJm51bGwhPWEuY29ubmVjdGlvbkhhbmRsZXIuY29uc3RyYWludEhhbmRsZXImJmEuY29ubmVjdGlvbkhhbmRsZXIuY29uc3RyYWludEhhbmRsZXIucmVzZXQoKX0pKTthLmFkZExpc3RlbmVyKG14RXZlbnQuRVNDQVBFLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7YS50b29sdGlwSGFuZGxlci5oaWRlKCk7dmFyIGQ9YS5nZXRSdWJiZXJiYW5kKCk7bnVsbCE9ZCYmZC5jYW5jZWwoKX0pKTtteEV2ZW50LmFkZExpc3RlbmVyKGEuY29udGFpbmVyLCJrZXlkb3duIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXt0aGlzLm9uS2V5RG93bihhKX0pKTsKbXhFdmVudC5hZGRMaXN0ZW5lcihhLmNvbnRhaW5lciwia2V5cHJlc3MiLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3RoaXMub25LZXlQcmVzcyhhKX0pKTt0aGlzLmFkZFVuZG9MaXN0ZW5lcigpO3RoaXMuYWRkQmVmb3JlVW5sb2FkTGlzdGVuZXIoKTthLmdldFNlbGVjdGlvbk1vZGVsKCkuYWRkTGlzdGVuZXIobXhFdmVudC5DSEFOR0UsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt0aGlzLnVwZGF0ZUFjdGlvblN0YXRlcygpfSkpO2EuZ2V0TW9kZWwoKS5hZGRMaXN0ZW5lcihteEV2ZW50LkNIQU5HRSxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMudXBkYXRlQWN0aW9uU3RhdGVzKCl9KSk7dmFyIGM9YS5zZXREZWZhdWx0UGFyZW50LGY9dGhpczt0aGlzLmVkaXRvci5ncmFwaC5zZXREZWZhdWx0UGFyZW50PWZ1bmN0aW9uKCl7Yy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7Zi51cGRhdGVBY3Rpb25TdGF0ZXMoKX07YS5lZGl0TGluaz1mLmFjdGlvbnMuZ2V0KCJlZGl0TGluayIpLmZ1bmN0Owp0aGlzLnVwZGF0ZUFjdGlvblN0YXRlcygpO3RoaXMuaW5pdENsaXBib2FyZCgpO3RoaXMuaW5pdENhbnZhcygpO251bGwhPXRoaXMuZm9ybWF0JiZ0aGlzLmZvcm1hdC5pbml0KCl9fTtFZGl0b3JVaS5wcm90b3R5cGUub25LZXlEb3duPWZ1bmN0aW9uKGEpe3ZhciBjPXRoaXMuZWRpdG9yLmdyYXBoOzkhPWEud2hpY2h8fCFjLmlzRW5hYmxlZCgpfHxteEV2ZW50LmlzQWx0RG93bihhKXx8Yy5pc0VkaXRpbmcoKSYmbXhFdmVudC5pc1NoaWZ0RG93bihhKXx8KGMuaXNFZGl0aW5nKCk/Yy5zdG9wRWRpdGluZyghMSk6Yy5zZWxlY3RDZWxsKCFteEV2ZW50LmlzU2hpZnREb3duKGEpKSxteEV2ZW50LmNvbnN1bWUoYSkpfTsKRWRpdG9yVWkucHJvdG90eXBlLm9uS2V5UHJlc3M9ZnVuY3Rpb24oYSl7dmFyIGM9dGhpcy5lZGl0b3IuZ3JhcGg7IXRoaXMuaXNJbW1lZGlhdGVFZGl0aW5nRXZlbnQoYSl8fGMuaXNFZGl0aW5nKCl8fGMuaXNTZWxlY3Rpb25FbXB0eSgpfHwwPT09YS53aGljaHx8Mjc9PT1hLndoaWNofHxteEV2ZW50LmlzQWx0RG93bihhKXx8bXhFdmVudC5pc0NvbnRyb2xEb3duKGEpfHxteEV2ZW50LmlzTWV0YURvd24oYSl8fChjLmVzY2FwZSgpLGMuc3RhcnRFZGl0aW5nKCksbXhDbGllbnQuSVNfRkYmJihjPWMuY2VsbEVkaXRvcixjLnRleHRhcmVhLmlubmVySFRNTD1TdHJpbmcuZnJvbUNoYXJDb2RlKGEud2hpY2gpLGE9ZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKSxhLnNlbGVjdE5vZGVDb250ZW50cyhjLnRleHRhcmVhKSxhLmNvbGxhcHNlKCExKSxjPXdpbmRvdy5nZXRTZWxlY3Rpb24oKSxjLnJlbW92ZUFsbFJhbmdlcygpLGMuYWRkUmFuZ2UoYSkpKX07CkVkaXRvclVpLnByb3RvdHlwZS5pc0ltbWVkaWF0ZUVkaXRpbmdFdmVudD1mdW5jdGlvbihhKXtyZXR1cm4hMH07CkVkaXRvclVpLnByb3RvdHlwZS5nZXRDc3NDbGFzc0Zvck1hcmtlcj1mdW5jdGlvbihhLGMsZixkKXtyZXR1cm4iZmxleEFycm93Ij09Yz9udWxsIT1mJiZmIT1teENvbnN0YW50cy5OT05FPyJnZVNwcml0ZSBnZVNwcml0ZS0iK2ErImJsb2NrdHJhbnMiOiJnZVNwcml0ZSBnZVNwcml0ZS1ub2Fycm93IjoiYm94Ij09Znx8ImhhbGZDaXJjbGUiPT1mPyJnZVNwcml0ZSBnZVN2Z1Nwcml0ZSBnZVNwcml0ZS0iK2YrKCJlbmQiPT1hPyIgZ2VGbGlwU3ByaXRlIjoiIik6Zj09bXhDb25zdGFudHMuQVJST1dfQ0xBU1NJQz8iMSI9PWQ/ImdlU3ByaXRlIGdlU3ByaXRlLSIrYSsiY2xhc3NpYyI6ImdlU3ByaXRlIGdlU3ByaXRlLSIrYSsiY2xhc3NpY3RyYW5zIjpmPT1teENvbnN0YW50cy5BUlJPV19DTEFTU0lDX1RISU4/IjEiPT1kPyJnZVNwcml0ZSBnZVNwcml0ZS0iK2ErImNsYXNzaWN0aGluIjoiZ2VTcHJpdGUgZ2VTcHJpdGUtIithKyJjbGFzc2ljdGhpbnRyYW5zIjpmPT1teENvbnN0YW50cy5BUlJPV19PUEVOPwoiZ2VTcHJpdGUgZ2VTcHJpdGUtIithKyJvcGVuIjpmPT1teENvbnN0YW50cy5BUlJPV19PUEVOX1RISU4/ImdlU3ByaXRlIGdlU3ByaXRlLSIrYSsib3BlbnRoaW4iOmY9PW14Q29uc3RhbnRzLkFSUk9XX0JMT0NLPyIxIj09ZD8iZ2VTcHJpdGUgZ2VTcHJpdGUtIithKyJibG9jayI6ImdlU3ByaXRlIGdlU3ByaXRlLSIrYSsiYmxvY2t0cmFucyI6Zj09bXhDb25zdGFudHMuQVJST1dfQkxPQ0tfVEhJTj8iMSI9PWQ/ImdlU3ByaXRlIGdlU3ByaXRlLSIrYSsiYmxvY2t0aGluIjoiZ2VTcHJpdGUgZ2VTcHJpdGUtIithKyJibG9ja3RoaW50cmFucyI6Zj09bXhDb25zdGFudHMuQVJST1dfT1ZBTD8iMSI9PWQ/ImdlU3ByaXRlIGdlU3ByaXRlLSIrYSsib3ZhbCI6ImdlU3ByaXRlIGdlU3ByaXRlLSIrYSsib3ZhbHRyYW5zIjpmPT1teENvbnN0YW50cy5BUlJPV19ESUFNT05EPyIxIj09ZD8iZ2VTcHJpdGUgZ2VTcHJpdGUtIithKyJkaWFtb25kIjoiZ2VTcHJpdGUgZ2VTcHJpdGUtIithKyJkaWFtb25kdHJhbnMiOgpmPT1teENvbnN0YW50cy5BUlJPV19ESUFNT05EX1RISU4/IjEiPT1kPyJnZVNwcml0ZSBnZVNwcml0ZS0iK2ErInRoaW5kaWFtb25kIjoiZ2VTcHJpdGUgZ2VTcHJpdGUtIithKyJ0aGluZGlhbW9uZHRyYW5zIjoib3BlbkFzeW5jIj09Zj8iZ2VTcHJpdGUgZ2VTcHJpdGUtIithKyJvcGVuYXN5bmMiOiJkYXNoIj09Zj8iZ2VTcHJpdGUgZ2VTcHJpdGUtIithKyJkYXNoIjoiY3Jvc3MiPT1mPyJnZVNwcml0ZSBnZVNwcml0ZS0iK2ErImNyb3NzIjoiYXN5bmMiPT1mPyIxIj09ZD8iZ2VTcHJpdGUgZ2VTcHJpdGUtIithKyJhc3luYyI6ImdlU3ByaXRlIGdlU3ByaXRlLSIrYSsiYXN5bmN0cmFucyI6ImNpcmNsZSI9PWZ8fCJjaXJjbGVQbHVzIj09Zj8iMSI9PWR8fCJjaXJjbGUiPT1mPyJnZVNwcml0ZSBnZVNwcml0ZS0iK2ErImNpcmNsZSI6ImdlU3ByaXRlIGdlU3ByaXRlLSIrYSsiY2lyY2xlcGx1cyI6IkVSb25lIj09Zj8iZ2VTcHJpdGUgZ2VTcHJpdGUtIithKyJlcm9uZSI6IkVSbWFuZE9uZSI9PQpmPyJnZVNwcml0ZSBnZVNwcml0ZS0iK2ErImVyb25ldG9vbmUiOiJFUm1hbnkiPT1mPyJnZVNwcml0ZSBnZVNwcml0ZS0iK2ErImVybWFueSI6IkVSb25lVG9NYW55Ij09Zj8iZ2VTcHJpdGUgZ2VTcHJpdGUtIithKyJlcm9uZXRvbWFueSI6IkVSemVyb1RvT25lIj09Zj8iZ2VTcHJpdGUgZ2VTcHJpdGUtIithKyJlcm9uZW9wdCI6IkVSemVyb1RvTWFueSI9PWY/ImdlU3ByaXRlIGdlU3ByaXRlLSIrYSsiZXJtYW55b3B0IjoiZ2VTcHJpdGUgZ2VTcHJpdGUtbm9hcnJvdyJ9O0VkaXRvclVpLnByb3RvdHlwZS5jcmVhdGVNZW51cz1mdW5jdGlvbigpe3JldHVybiBudWxsfTsKRWRpdG9yVWkucHJvdG90eXBlLnVwZGF0ZVBhc3RlQWN0aW9uU3RhdGVzPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5lZGl0b3IuZ3JhcGgsYz10aGlzLmFjdGlvbnMuZ2V0KCJwYXN0ZSIpLGY9dGhpcy5hY3Rpb25zLmdldCgicGFzdGVIZXJlIik7Yy5zZXRFbmFibGVkKHRoaXMuZWRpdG9yLmdyYXBoLmNlbGxFZGl0b3IuaXNDb250ZW50RWRpdGluZygpfHwhbXhDbGlwYm9hcmQuaXNFbXB0eSgpJiZhLmlzRW5hYmxlZCgpJiYhYS5pc0NlbGxMb2NrZWQoYS5nZXREZWZhdWx0UGFyZW50KCkpKTtmLnNldEVuYWJsZWQoYy5pc0VuYWJsZWQoKSl9OwpFZGl0b3JVaS5wcm90b3R5cGUuaW5pdENsaXBib2FyZD1mdW5jdGlvbigpe3ZhciBhPXRoaXMsYz1teENsaXBib2FyZC5jdXQ7bXhDbGlwYm9hcmQuY3V0PWZ1bmN0aW9uKGQpe2QuY2VsbEVkaXRvci5pc0NvbnRlbnRFZGl0aW5nKCk/ZG9jdW1lbnQuZXhlY0NvbW1hbmQoImN1dCIsITEsbnVsbCk6Yy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7YS51cGRhdGVQYXN0ZUFjdGlvblN0YXRlcygpfTtteENsaXBib2FyZC5jb3B5PWZ1bmN0aW9uKGQpe3ZhciBjPW51bGw7aWYoZC5jZWxsRWRpdG9yLmlzQ29udGVudEVkaXRpbmcoKSlkb2N1bWVudC5leGVjQ29tbWFuZCgiY29weSIsITEsbnVsbCk7ZWxzZXtmb3IodmFyIGM9Y3x8ZC5nZXRTZWxlY3Rpb25DZWxscygpLGM9ZC5nZXRFeHBvcnRhYmxlQ2VsbHMoZC5tb2RlbC5nZXRUb3Btb3N0Q2VsbHMoYykpLGI9e30sZT1kLmNyZWF0ZUNlbGxMb29rdXAoYyksZz1kLmNsb25lQ2VsbHMoYyxudWxsLGIpLGY9bmV3IG14R3JhcGhNb2RlbCxsPWYuZ2V0Q2hpbGRBdChmLmdldFJvb3QoKSwKMCkscD0wO3A8Zy5sZW5ndGg7cCsrKWYuYWRkKGwsZ1twXSk7ZC51cGRhdGVDdXN0b21MaW5rcyhkLmNyZWF0ZUNlbGxNYXBwaW5nKGIsZSksZyk7bXhDbGlwYm9hcmQuaW5zZXJ0Q291bnQ9MTtteENsaXBib2FyZC5zZXRDZWxscyhnKX1hLnVwZGF0ZVBhc3RlQWN0aW9uU3RhdGVzKCk7cmV0dXJuIGN9O3ZhciBmPW14Q2xpcGJvYXJkLnBhc3RlO214Q2xpcGJvYXJkLnBhc3RlPWZ1bmN0aW9uKGQpe3ZhciBjPW51bGw7ZC5jZWxsRWRpdG9yLmlzQ29udGVudEVkaXRpbmcoKT9kb2N1bWVudC5leGVjQ29tbWFuZCgicGFzdGUiLCExLG51bGwpOmM9Zi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7YS51cGRhdGVQYXN0ZUFjdGlvblN0YXRlcygpO3JldHVybiBjfTt2YXIgZD10aGlzLmVkaXRvci5ncmFwaC5jZWxsRWRpdG9yLnN0YXJ0RWRpdGluZzt0aGlzLmVkaXRvci5ncmFwaC5jZWxsRWRpdG9yLnN0YXJ0RWRpdGluZz1mdW5jdGlvbigpe2QuYXBwbHkodGhpcyxhcmd1bWVudHMpO2EudXBkYXRlUGFzdGVBY3Rpb25TdGF0ZXMoKX07CnZhciBrPXRoaXMuZWRpdG9yLmdyYXBoLmNlbGxFZGl0b3Iuc3RvcEVkaXRpbmc7dGhpcy5lZGl0b3IuZ3JhcGguY2VsbEVkaXRvci5zdG9wRWRpdGluZz1mdW5jdGlvbihkLGMpe2suYXBwbHkodGhpcyxhcmd1bWVudHMpO2EudXBkYXRlUGFzdGVBY3Rpb25TdGF0ZXMoKX07dGhpcy51cGRhdGVQYXN0ZUFjdGlvblN0YXRlcygpfTtFZGl0b3JVaS5wcm90b3R5cGUubGF6eVpvb21EZWxheT0yMDtFZGl0b3JVaS5wcm90b3R5cGUud2hlZWxab29tRGVsYXk9NDAwO0VkaXRvclVpLnByb3RvdHlwZS5idXR0b25ab29tRGVsYXk9NjAwOwpFZGl0b3JVaS5wcm90b3R5cGUuaW5pdENhbnZhcz1mdW5jdGlvbigpe3ZhciBhPXRoaXMuZWRpdG9yLmdyYXBoO2EudGltZXJBdXRvU2Nyb2xsPSEwO2EuZ2V0UGFnZVBhZGRpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG14UG9pbnQoTWF0aC5tYXgoMCxNYXRoLnJvdW5kKChhLmNvbnRhaW5lci5vZmZzZXRXaWR0aC0zNCkvYS52aWV3LnNjYWxlKSksTWF0aC5tYXgoMCxNYXRoLnJvdW5kKChhLmNvbnRhaW5lci5vZmZzZXRIZWlnaHQtMzQpL2Eudmlldy5zY2FsZSkpKX07YS52aWV3LmdldEJhY2tncm91bmRQYWdlQm91bmRzPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5ncmFwaC5nZXRQYWdlTGF5b3V0KCksYj10aGlzLmdyYXBoLmdldFBhZ2VTaXplKCk7cmV0dXJuIG5ldyBteFJlY3RhbmdsZSh0aGlzLnNjYWxlKih0aGlzLnRyYW5zbGF0ZS54K2EueCpiLndpZHRoKSx0aGlzLnNjYWxlKih0aGlzLnRyYW5zbGF0ZS55K2EueSpiLmhlaWdodCksdGhpcy5zY2FsZSphLndpZHRoKmIud2lkdGgsCnRoaXMuc2NhbGUqYS5oZWlnaHQqYi5oZWlnaHQpfTthLmdldFByZWZlcnJlZFBhZ2VTaXplPWZ1bmN0aW9uKGEsYixlKXthPXRoaXMuZ2V0UGFnZUxheW91dCgpO2I9dGhpcy5nZXRQYWdlU2l6ZSgpO3JldHVybiBuZXcgbXhSZWN0YW5nbGUoMCwwLGEud2lkdGgqYi53aWR0aCxhLmhlaWdodCpiLmhlaWdodCl9O3ZhciBjPW51bGwsZj10aGlzO2lmKHRoaXMuZWRpdG9yLmlzQ2hyb21lbGVzc1ZpZXcoKSl7dGhpcy5jaHJvbWVsZXNzUmVzaXplPWM9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYixlLGQsYyl7aWYobnVsbCE9YS5jb250YWluZXImJiFhLmlzVmlld2VyKCkpe2Q9bnVsbCE9ZD9kOjA7Yz1udWxsIT1jP2M6MDt2YXIgZz1hLnBhZ2VWaXNpYmxlP2Eudmlldy5nZXRCYWNrZ3JvdW5kUGFnZUJvdW5kcygpOmEuZ2V0R3JhcGhCb3VuZHMoKSxmPW14VXRpbHMuaGFzU2Nyb2xsYmFycyhhLmNvbnRhaW5lciksbj1hLnZpZXcudHJhbnNsYXRlLGw9YS52aWV3LnNjYWxlLHA9bXhSZWN0YW5nbGUuZnJvbVJlY3RhbmdsZShnKTsKcC54PXAueC9sLW4ueDtwLnk9cC55L2wtbi55O3Aud2lkdGgvPWw7cC5oZWlnaHQvPWw7dmFyIG49YS5jb250YWluZXIuc2Nyb2xsVG9wLHQ9YS5jb250YWluZXIuc2Nyb2xsTGVmdCx1PW14Q2xpZW50LklTX1FVSVJLU3x8ODw9ZG9jdW1lbnQuZG9jdW1lbnRNb2RlPzIwOjE0O2lmKDg9PWRvY3VtZW50LmRvY3VtZW50TW9kZXx8OT09ZG9jdW1lbnQuZG9jdW1lbnRNb2RlKXUrPTM7dmFyIEE9YS5jb250YWluZXIub2Zmc2V0V2lkdGgtdSx1PWEuY29udGFpbmVyLm9mZnNldEhlaWdodC11O2I9Yj9NYXRoLm1heCguMyxNYXRoLm1pbihlfHwxLEEvcC53aWR0aCkpOmw7ZT0oQS1iKnAud2lkdGgpLzIvYjt2YXIgeT0wPT10aGlzLmxpZ2h0Ym94VmVydGljYWxEaXZpZGVyPzA6KHUtYipwLmhlaWdodCkvdGhpcy5saWdodGJveFZlcnRpY2FsRGl2aWRlci9iO2YmJihlPU1hdGgubWF4KGUsMCkseT1NYXRoLm1heCh5LDApKTtpZihmfHxnLndpZHRoPEF8fGcuaGVpZ2h0PHUpYS52aWV3LnNjYWxlQW5kVHJhbnNsYXRlKGIsCk1hdGguZmxvb3IoZS1wLngpLE1hdGguZmxvb3IoeS1wLnkpKSxhLmNvbnRhaW5lci5zY3JvbGxUb3A9bipiL2wsYS5jb250YWluZXIuc2Nyb2xsTGVmdD10KmIvbDtlbHNlIGlmKDAhPWR8fDAhPWMpZz1hLnZpZXcudHJhbnNsYXRlLGEudmlldy5zZXRUcmFuc2xhdGUoTWF0aC5mbG9vcihnLngrZC9sKSxNYXRoLmZsb29yKGcueStjL2wpKX19KTt0aGlzLmNocm9tZWxlc3NXaW5kb3dSZXNpemU9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt0aGlzLmNocm9tZWxlc3NSZXNpemUoITEpfSk7dmFyIGQ9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt0aGlzLmNocm9tZWxlc3NXaW5kb3dSZXNpemUoITEpfSk7bXhFdmVudC5hZGRMaXN0ZW5lcih3aW5kb3csInJlc2l6ZSIsZCk7dGhpcy5kZXN0cm95RnVuY3Rpb25zLnB1c2goZnVuY3Rpb24oKXtteEV2ZW50LnJlbW92ZUxpc3RlbmVyKHdpbmRvdywicmVzaXplIixkKX0pO3RoaXMuZWRpdG9yLmFkZExpc3RlbmVyKCJyZXNldEdyYXBoVmlldyIsCm14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dGhpcy5jaHJvbWVsZXNzUmVzaXplKCEwKX0pKTt0aGlzLmFjdGlvbnMuZ2V0KCJ6b29tSW4iKS5mdW5jdD1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihiKXthLnpvb21JbigpO3RoaXMuY2hyb21lbGVzc1Jlc2l6ZSghMSl9KTt0aGlzLmFjdGlvbnMuZ2V0KCJ6b29tT3V0IikuZnVuY3Q9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYil7YS56b29tT3V0KCk7dGhpcy5jaHJvbWVsZXNzUmVzaXplKCExKX0pO2lmKCIwIiE9dXJsUGFyYW1zLnRvb2xiYXIpe3ZhciBrPUpTT04ucGFyc2UoZGVjb2RlVVJJQ29tcG9uZW50KHVybFBhcmFtc1sidG9vbGJhci1jb25maWciXXx8Int9IikpO3RoaXMuY2hyb21lbGVzc1Rvb2xiYXI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7dGhpcy5jaHJvbWVsZXNzVG9vbGJhci5zdHlsZS5wb3NpdGlvbj0iZml4ZWQiO3RoaXMuY2hyb21lbGVzc1Rvb2xiYXIuc3R5bGUub3ZlcmZsb3c9ImhpZGRlbiI7CnRoaXMuY2hyb21lbGVzc1Rvb2xiYXIuc3R5bGUuYm94U2l6aW5nPSJib3JkZXItYm94Ijt0aGlzLmNocm9tZWxlc3NUb29sYmFyLnN0eWxlLndoaXRlU3BhY2U9Im5vd3JhcCI7dGhpcy5jaHJvbWVsZXNzVG9vbGJhci5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9IiMwMDAwMDAiO3RoaXMuY2hyb21lbGVzc1Rvb2xiYXIuc3R5bGUucGFkZGluZz0iMTBweCAxMHB4IDhweCAxMHB4Ijt0aGlzLmNocm9tZWxlc3NUb29sYmFyLnN0eWxlLmxlZnQ9YS5pc1ZpZXdlcigpPyIwIjoiNTAlIjtteENsaWVudC5JU19WTUx8fChteFV0aWxzLnNldFByZWZpeGVkU3R5bGUodGhpcy5jaHJvbWVsZXNzVG9vbGJhci5zdHlsZSwiYm9yZGVyUmFkaXVzIiwiMjBweCIpLG14VXRpbHMuc2V0UHJlZml4ZWRTdHlsZSh0aGlzLmNocm9tZWxlc3NUb29sYmFyLnN0eWxlLCJ0cmFuc2l0aW9uIiwib3BhY2l0eSA2MDBtcyBlYXNlLWluLW91dCIpKTt2YXIgbT1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3ZhciBiPQpteFV0aWxzLmdldEN1cnJlbnRTdHlsZShhLmNvbnRhaW5lcik7YS5pc1ZpZXdlcigpP3RoaXMuY2hyb21lbGVzc1Rvb2xiYXIuc3R5bGUudG9wPSIwIjp0aGlzLmNocm9tZWxlc3NUb29sYmFyLnN0eWxlLmJvdHRvbT0obnVsbCE9Yj9wYXJzZUludChiWyJtYXJnaW4tYm90dG9tIl18fDApOjApKyhudWxsIT10aGlzLnRhYkNvbnRhaW5lcj8yMCtwYXJzZUludCh0aGlzLnRhYkNvbnRhaW5lci5zdHlsZS5oZWlnaHQpOjIwKSsicHgifSk7dGhpcy5lZGl0b3IuYWRkTGlzdGVuZXIoInJlc2V0R3JhcGhWaWV3IixtKTttKCk7dmFyIHE9MCxtPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEsYixlKXtxKys7dmFyIGQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3BhbiIpO2Quc3R5bGUucGFkZGluZ0xlZnQ9IjhweCI7ZC5zdHlsZS5wYWRkaW5nUmlnaHQ9IjhweCI7ZC5zdHlsZS5jdXJzb3I9InBvaW50ZXIiO214RXZlbnQuYWRkTGlzdGVuZXIoZCwiY2xpY2siLGEpO251bGwhPWUmJmQuc2V0QXR0cmlidXRlKCJ0aXRsZSIsCmUpO2E9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW1nIik7YS5zZXRBdHRyaWJ1dGUoImJvcmRlciIsIjAiKTthLnNldEF0dHJpYnV0ZSgic3JjIixiKTtkLmFwcGVuZENoaWxkKGEpO3RoaXMuY2hyb21lbGVzc1Rvb2xiYXIuYXBwZW5kQ2hpbGQoZCk7cmV0dXJuIGR9KTtudWxsIT1rLmJhY2tCdG4mJm0obXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7d2luZG93LmxvY2F0aW9uLmhyZWY9ay5iYWNrQnRuLnVybDtteEV2ZW50LmNvbnN1bWUoYSl9KSxFZGl0b3IuYmFja0xhcmdlSW1hZ2UsbXhSZXNvdXJjZXMuZ2V0KCJiYWNrIixudWxsLCJCYWNrIikpO3ZhciBiPW0obXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7dGhpcy5hY3Rpb25zLmdldCgicHJldmlvdXNQYWdlIikuZnVuY3QoKTtteEV2ZW50LmNvbnN1bWUoYSl9KSxFZGl0b3IucHJldmlvdXNMYXJnZUltYWdlLG14UmVzb3VyY2VzLmdldCgicHJldmlvdXNQYWdlIikpLGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CmUuc3R5bGUuZGlzcGxheT0iaW5saW5lLWJsb2NrIjtlLnN0eWxlLnZlcnRpY2FsQWxpZ249InRvcCI7ZS5zdHlsZS5mb250RmFtaWx5PSJIZWx2ZXRpY2EsQXJpYWwiO2Uuc3R5bGUubWFyZ2luVG9wPSI4cHgiO2Uuc3R5bGUuZm9udFNpemU9IjE0cHgiO2Uuc3R5bGUuY29sb3I9IiNmZmZmZmYiO3RoaXMuY2hyb21lbGVzc1Rvb2xiYXIuYXBwZW5kQ2hpbGQoZSk7dmFyIGc9bShteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXt0aGlzLmFjdGlvbnMuZ2V0KCJuZXh0UGFnZSIpLmZ1bmN0KCk7bXhFdmVudC5jb25zdW1lKGEpfSksRWRpdG9yLm5leHRMYXJnZUltYWdlLG14UmVzb3VyY2VzLmdldCgibmV4dFBhZ2UiKSksbj1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe251bGwhPXRoaXMucGFnZXMmJjE8dGhpcy5wYWdlcy5sZW5ndGgmJm51bGwhPXRoaXMuY3VycmVudFBhZ2UmJihlLmlubmVySFRNTD0iIixteFV0aWxzLndyaXRlKGUsbXhVdGlscy5pbmRleE9mKHRoaXMucGFnZXMsCnRoaXMuY3VycmVudFBhZ2UpKzErIiAvICIrdGhpcy5wYWdlcy5sZW5ndGgpKX0pO2Iuc3R5bGUucGFkZGluZ0xlZnQ9IjBweCI7Yi5zdHlsZS5wYWRkaW5nUmlnaHQ9IjRweCI7Zy5zdHlsZS5wYWRkaW5nTGVmdD0iNHB4IjtnLnN0eWxlLnBhZGRpbmdSaWdodD0iMHB4Ijt2YXIgbD1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe251bGwhPXRoaXMucGFnZXMmJjE8dGhpcy5wYWdlcy5sZW5ndGgmJm51bGwhPXRoaXMuY3VycmVudFBhZ2U/KGcuc3R5bGUuZGlzcGxheT0iIixiLnN0eWxlLmRpc3BsYXk9IiIsZS5zdHlsZS5kaXNwbGF5PSJpbmxpbmUtYmxvY2siKTooZy5zdHlsZS5kaXNwbGF5PSJub25lIixiLnN0eWxlLmRpc3BsYXk9Im5vbmUiLGUuc3R5bGUuZGlzcGxheT0ibm9uZSIpO24oKX0pO3RoaXMuZWRpdG9yLmFkZExpc3RlbmVyKCJyZXNldEdyYXBoVmlldyIsbCk7dGhpcy5lZGl0b3IuYWRkTGlzdGVuZXIoInBhZ2VTZWxlY3RlZCIsbik7bShteFV0aWxzLmJpbmQodGhpcywKZnVuY3Rpb24oYSl7dGhpcy5hY3Rpb25zLmdldCgiem9vbU91dCIpLmZ1bmN0KCk7bXhFdmVudC5jb25zdW1lKGEpfSksRWRpdG9yLnpvb21PdXRMYXJnZUltYWdlLG14UmVzb3VyY2VzLmdldCgiem9vbU91dCIpKyIgKEFsdCtNb3VzZXdoZWVsKSIpO20obXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7dGhpcy5hY3Rpb25zLmdldCgiem9vbUluIikuZnVuY3QoKTtteEV2ZW50LmNvbnN1bWUoYSl9KSxFZGl0b3Iuem9vbUluTGFyZ2VJbWFnZSxteFJlc291cmNlcy5nZXQoInpvb21JbiIpKyIgKEFsdCtNb3VzZXdoZWVsKSIpO20obXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYil7YS5pc0xpZ2h0Ym94VmlldygpPygxPT1hLnZpZXcuc2NhbGU/dGhpcy5saWdodGJveEZpdCgpOmEuem9vbVRvKDEpLHRoaXMuY2hyb21lbGVzc1Jlc2l6ZSghMSkpOnRoaXMuY2hyb21lbGVzc1Jlc2l6ZSghMCk7bXhFdmVudC5jb25zdW1lKGIpfSksRWRpdG9yLmFjdHVhbFNpemVMYXJnZUltYWdlLApteFJlc291cmNlcy5nZXQoImZpdCIpKTt2YXIgcD1udWxsLHY9bnVsbCx0PW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe251bGwhPXAmJih3aW5kb3cuY2xlYXJUaW1lb3V0KHApLGZhZGVUaGVhZD1udWxsKTtudWxsIT12JiYod2luZG93LmNsZWFyVGltZW91dCh2KSxmYWRlVGhlYWQyPW51bGwpO3A9d2luZG93LnNldFRpbWVvdXQobXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXtteFV0aWxzLnNldE9wYWNpdHkodGhpcy5jaHJvbWVsZXNzVG9vbGJhciwwKTtwPW51bGw7dj13aW5kb3cuc2V0VGltZW91dChteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMuY2hyb21lbGVzc1Rvb2xiYXIuc3R5bGUuZGlzcGxheT0ibm9uZSI7dj1udWxsfSksNjAwKX0pLGF8fDIwMCl9KSx5PW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe251bGwhPXAmJih3aW5kb3cuY2xlYXJUaW1lb3V0KHApLGZhZGVUaGVhZD1udWxsKTtudWxsIT12JiYod2luZG93LmNsZWFyVGltZW91dCh2KSwKZmFkZVRoZWFkMj1udWxsKTt0aGlzLmNocm9tZWxlc3NUb29sYmFyLnN0eWxlLmRpc3BsYXk9IiI7bXhVdGlscy5zZXRPcGFjaXR5KHRoaXMuY2hyb21lbGVzc1Rvb2xiYXIsYXx8MzApfSk7aWYoIjEiPT11cmxQYXJhbXMubGF5ZXJzKXt0aGlzLmxheWVyc0RpYWxvZz1udWxsO3ZhciB4PW0obXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYil7aWYobnVsbCE9dGhpcy5sYXllcnNEaWFsb2cpdGhpcy5sYXllcnNEaWFsb2cucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmxheWVyc0RpYWxvZyksdGhpcy5sYXllcnNEaWFsb2c9bnVsbDtlbHNle3RoaXMubGF5ZXJzRGlhbG9nPWEuY3JlYXRlTGF5ZXJzRGlhbG9nKCk7bXhFdmVudC5hZGRMaXN0ZW5lcih0aGlzLmxheWVyc0RpYWxvZywibW91c2VsZWF2ZSIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt0aGlzLmxheWVyc0RpYWxvZy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMubGF5ZXJzRGlhbG9nKTt0aGlzLmxheWVyc0RpYWxvZz0KbnVsbH0pKTt2YXIgZT14LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO214VXRpbHMuc2V0UHJlZml4ZWRTdHlsZSh0aGlzLmxheWVyc0RpYWxvZy5zdHlsZSwiYm9yZGVyUmFkaXVzIiwiNXB4Iik7dGhpcy5sYXllcnNEaWFsb2cuc3R5bGUucG9zaXRpb249ImZpeGVkIjt0aGlzLmxheWVyc0RpYWxvZy5zdHlsZS5mb250RmFtaWx5PSJIZWx2ZXRpY2EsQXJpYWwiO3RoaXMubGF5ZXJzRGlhbG9nLnN0eWxlLmJhY2tncm91bmRDb2xvcj0iIzAwMDAwMCI7dGhpcy5sYXllcnNEaWFsb2cuc3R5bGUud2lkdGg9IjE2MHB4Ijt0aGlzLmxheWVyc0RpYWxvZy5zdHlsZS5wYWRkaW5nPSI0cHggMnB4IDRweCAycHgiO3RoaXMubGF5ZXJzRGlhbG9nLnN0eWxlLmNvbG9yPSIjZmZmZmZmIjtteFV0aWxzLnNldE9wYWNpdHkodGhpcy5sYXllcnNEaWFsb2csNzApO3RoaXMubGF5ZXJzRGlhbG9nLnN0eWxlLmxlZnQ9ZS5sZWZ0KyJweCI7dGhpcy5sYXllcnNEaWFsb2cuc3R5bGUuYm90dG9tPXBhcnNlSW50KHRoaXMuY2hyb21lbGVzc1Rvb2xiYXIuc3R5bGUuYm90dG9tKSsKdGhpcy5jaHJvbWVsZXNzVG9vbGJhci5vZmZzZXRIZWlnaHQrNCsicHgiO2U9bXhVdGlscy5nZXRDdXJyZW50U3R5bGUodGhpcy5lZGl0b3IuZ3JhcGguY29udGFpbmVyKTt0aGlzLmxheWVyc0RpYWxvZy5zdHlsZS56SW5kZXg9ZS56SW5kZXg7ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLmxheWVyc0RpYWxvZyl9bXhFdmVudC5jb25zdW1lKGIpfSksRWRpdG9yLmxheWVyc0xhcmdlSW1hZ2UsbXhSZXNvdXJjZXMuZ2V0KCJsYXllcnMiKSksQz1hLmdldE1vZGVsKCk7Qy5hZGRMaXN0ZW5lcihteEV2ZW50LkNIQU5HRSxmdW5jdGlvbigpe3guc3R5bGUuZGlzcGxheT0xPEMuZ2V0Q2hpbGRDb3VudChDLnJvb3QpPyIiOiJub25lIn0pfXRoaXMuYWRkQ2hyb21lbGVzc1Rvb2xiYXJJdGVtcyhtKTtudWxsPT10aGlzLmVkaXRvci5lZGl0QnV0dG9uTGluayYmbnVsbD09dGhpcy5lZGl0b3IuZWRpdEJ1dHRvbkZ1bmN8fG0obXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYil7bnVsbCE9CnRoaXMuZWRpdG9yLmVkaXRCdXR0b25GdW5jP3RoaXMuZWRpdG9yLmVkaXRCdXR0b25GdW5jKCk6Il9ibGFuayI9PXRoaXMuZWRpdG9yLmVkaXRCdXR0b25MaW5rP3RoaXMuZWRpdG9yLmVkaXRBc05ldyh0aGlzLmdldEVkaXRCbGFua1htbCgpKTphLm9wZW5MaW5rKHRoaXMuZWRpdG9yLmVkaXRCdXR0b25MaW5rLCJlZGl0V2luZG93Iik7bXhFdmVudC5jb25zdW1lKGIpfSksRWRpdG9yLmVkaXRMYXJnZUltYWdlLG14UmVzb3VyY2VzLmdldCgiZWRpdCIpKTtpZihudWxsIT10aGlzLmxpZ2h0Ym94VG9vbGJhckFjdGlvbnMpZm9yKGw9MDtsPHRoaXMubGlnaHRib3hUb29sYmFyQWN0aW9ucy5sZW5ndGg7bCsrKXt2YXIgQj10aGlzLmxpZ2h0Ym94VG9vbGJhckFjdGlvbnNbbF07bShCLmZuLEIuaWNvbixCLnRvb2x0aXApfW51bGwhPWsucmVmcmVzaEJ0biYmbShteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXtrLnJlZnJlc2hCdG4udXJsP3dpbmRvdy5sb2NhdGlvbi5ocmVmPWsucmVmcmVzaEJ0bi51cmw6CndpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtteEV2ZW50LmNvbnN1bWUoYSl9KSxFZGl0b3IucmVmcmVzaExhcmdlSW1hZ2UsbXhSZXNvdXJjZXMuZ2V0KCJyZWZyZXNoIixudWxsLCJSZWZyZXNoIikpO251bGwhPWsuZnVsbHNjcmVlbkJ0biYmd2luZG93LnNlbGYhPT13aW5kb3cudG9wJiZtKG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGIpe2suZnVsbHNjcmVlbkJ0bi51cmw/YS5vcGVuTGluayhrLmZ1bGxzY3JlZW5CdG4udXJsKTphLm9wZW5MaW5rKHdpbmRvdy5sb2NhdGlvbi5ocmVmKTtteEV2ZW50LmNvbnN1bWUoYil9KSxFZGl0b3IuZnVsbHNjcmVlbkxhcmdlSW1hZ2UsbXhSZXNvdXJjZXMuZ2V0KCJvcGVuSW5OZXdXaW5kb3ciLG51bGwsIk9wZW4gaW4gTmV3IFdpbmRvdyIpKTsoay5jbG9zZUJ0biYmd2luZG93LnNlbGY9PT13aW5kb3cudG9wfHxhLmxpZ2h0Ym94JiYoIjEiPT11cmxQYXJhbXMuY2xvc2V8fHRoaXMuY29udGFpbmVyIT1kb2N1bWVudC5ib2R5KSkmJm0obXhVdGlscy5iaW5kKHRoaXMsCmZ1bmN0aW9uKGEpeyIxIj09dXJsUGFyYW1zLmNsb3NlfHxrLmNsb3NlQnRuP3dpbmRvdy5jbG9zZSgpOih0aGlzLmRlc3Ryb3koKSxteEV2ZW50LmNvbnN1bWUoYSkpfSksRWRpdG9yLmNsb3NlTGFyZ2VJbWFnZSxteFJlc291cmNlcy5nZXQoImNsb3NlIikrIiAoRXNjYXBlKSIpO3RoaXMuY2hyb21lbGVzc1Rvb2xiYXIuc3R5bGUuZGlzcGxheT0ibm9uZSI7YS5pc1ZpZXdlcigpfHxteFV0aWxzLnNldFByZWZpeGVkU3R5bGUodGhpcy5jaHJvbWVsZXNzVG9vbGJhci5zdHlsZSwidHJhbnNmb3JtIiwidHJhbnNsYXRlKC01MCUsMCkiKTthLmNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLmNocm9tZWxlc3NUb29sYmFyKTtteEV2ZW50LmFkZExpc3RlbmVyKGEuY29udGFpbmVyLG14Q2xpZW50LklTX1BPSU5URVI/InBvaW50ZXJtb3ZlIjoibW91c2Vtb3ZlIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXtteEV2ZW50LmlzVG91Y2hFdmVudChhKXx8KG14RXZlbnQuaXNTaGlmdERvd24oYSl8fAp5KDMwKSx0KCkpfSkpO214RXZlbnQuYWRkTGlzdGVuZXIodGhpcy5jaHJvbWVsZXNzVG9vbGJhcixteENsaWVudC5JU19QT0lOVEVSPyJwb2ludGVybW92ZSI6Im1vdXNlbW92ZSIsZnVuY3Rpb24oYSl7bXhFdmVudC5jb25zdW1lKGEpfSk7bXhFdmVudC5hZGRMaXN0ZW5lcih0aGlzLmNocm9tZWxlc3NUb29sYmFyLCJtb3VzZWVudGVyIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXtteEV2ZW50LmlzU2hpZnREb3duKGEpP3QoKTp5KDEwMCl9KSk7bXhFdmVudC5hZGRMaXN0ZW5lcih0aGlzLmNocm9tZWxlc3NUb29sYmFyLCJtb3VzZW1vdmUiLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe214RXZlbnQuaXNTaGlmdERvd24oYSk/dCgpOnkoMTAwKTtteEV2ZW50LmNvbnN1bWUoYSl9KSk7bXhFdmVudC5hZGRMaXN0ZW5lcih0aGlzLmNocm9tZWxlc3NUb29sYmFyLCJtb3VzZWxlYXZlIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXtteEV2ZW50LmlzVG91Y2hFdmVudChhKXx8CnkoMzApfSkpO3ZhciBEPWEuZ2V0VG9sZXJhbmNlKCk7YS5hZGRNb3VzZUxpc3RlbmVyKHtzdGFydFg6MCxzdGFydFk6MCxzY3JvbGxMZWZ0OjAsc2Nyb2xsVG9wOjAsbW91c2VEb3duOmZ1bmN0aW9uKGIsZSl7dGhpcy5zdGFydFg9ZS5nZXRHcmFwaFgoKTt0aGlzLnN0YXJ0WT1lLmdldEdyYXBoWSgpO3RoaXMuc2Nyb2xsTGVmdD1hLmNvbnRhaW5lci5zY3JvbGxMZWZ0O3RoaXMuc2Nyb2xsVG9wPWEuY29udGFpbmVyLnNjcm9sbFRvcH0sbW91c2VNb3ZlOmZ1bmN0aW9uKGEsYil7fSxtb3VzZVVwOmZ1bmN0aW9uKGIsZSl7bXhFdmVudC5pc1RvdWNoRXZlbnQoZS5nZXRFdmVudCgpKSYmTWF0aC5hYnModGhpcy5zY3JvbGxMZWZ0LWEuY29udGFpbmVyLnNjcm9sbExlZnQpPEQmJk1hdGguYWJzKHRoaXMuc2Nyb2xsVG9wLWEuY29udGFpbmVyLnNjcm9sbFRvcCk8RCYmTWF0aC5hYnModGhpcy5zdGFydFgtZS5nZXRHcmFwaFgoKSk8RCYmTWF0aC5hYnModGhpcy5zdGFydFktZS5nZXRHcmFwaFkoKSk8CkQmJigwPHBhcnNlRmxvYXQoZi5jaHJvbWVsZXNzVG9vbGJhci5zdHlsZS5vcGFjaXR5fHwwKT90KCk6eSgzMCkpfX0pfXRoaXMuZWRpdG9yLmVkaXRhYmxlfHx0aGlzLmFkZENocm9tZWxlc3NDbGlja0hhbmRsZXIoKX1lbHNlIGlmKHRoaXMuZWRpdG9yLmV4dGVuZENhbnZhcyl7dmFyIHo9YS52aWV3LnZhbGlkYXRlO2Eudmlldy52YWxpZGF0ZT1mdW5jdGlvbigpe2lmKG51bGwhPXRoaXMuZ3JhcGguY29udGFpbmVyJiZteFV0aWxzLmhhc1Njcm9sbGJhcnModGhpcy5ncmFwaC5jb250YWluZXIpKXt2YXIgYT10aGlzLmdyYXBoLmdldFBhZ2VQYWRkaW5nKCksYj10aGlzLmdyYXBoLmdldFBhZ2VTaXplKCk7dGhpcy50cmFuc2xhdGUueD1hLngtKHRoaXMueDB8fDApKmIud2lkdGg7dGhpcy50cmFuc2xhdGUueT1hLnktKHRoaXMueTB8fDApKmIuaGVpZ2h0fXouYXBwbHkodGhpcyxhcmd1bWVudHMpfTtpZighYS5pc1ZpZXdlcigpKXt2YXIgRT1hLnNpemVEaWRDaGFuZ2U7YS5zaXplRGlkQ2hhbmdlPQpmdW5jdGlvbigpe2lmKG51bGwhPXRoaXMuY29udGFpbmVyJiZteFV0aWxzLmhhc1Njcm9sbGJhcnModGhpcy5jb250YWluZXIpKXt2YXIgYj10aGlzLmdldFBhZ2VMYXlvdXQoKSxlPXRoaXMuZ2V0UGFnZVBhZGRpbmcoKSxkPXRoaXMuZ2V0UGFnZVNpemUoKSxjPU1hdGguY2VpbCgyKmUueCtiLndpZHRoKmQud2lkdGgpLGc9TWF0aC5jZWlsKDIqZS55K2IuaGVpZ2h0KmQuaGVpZ2h0KSxmPWEubWluaW11bUdyYXBoU2l6ZTtpZihudWxsPT1mfHxmLndpZHRoIT1jfHxmLmhlaWdodCE9ZylhLm1pbmltdW1HcmFwaFNpemU9bmV3IG14UmVjdGFuZ2xlKDAsMCxjLGcpO2M9ZS54LWIueCpkLndpZHRoO2U9ZS55LWIueSpkLmhlaWdodDt0aGlzLmF1dG9UcmFuc2xhdGV8fHRoaXMudmlldy50cmFuc2xhdGUueD09YyYmdGhpcy52aWV3LnRyYW5zbGF0ZS55PT1lP0UuYXBwbHkodGhpcyxhcmd1bWVudHMpOih0aGlzLmF1dG9UcmFuc2xhdGU9ITAsdGhpcy52aWV3LngwPWIueCx0aGlzLnZpZXcueTA9CmIueSxiPWEudmlldy50cmFuc2xhdGUueCxkPWEudmlldy50cmFuc2xhdGUueSxhLnZpZXcuc2V0VHJhbnNsYXRlKGMsZSksYS5jb250YWluZXIuc2Nyb2xsTGVmdCs9TWF0aC5yb3VuZCgoYy1iKSphLnZpZXcuc2NhbGUpLGEuY29udGFpbmVyLnNjcm9sbFRvcCs9TWF0aC5yb3VuZCgoZS1kKSphLnZpZXcuc2NhbGUpLHRoaXMuYXV0b1RyYW5zbGF0ZT0hMSl9ZWxzZSB0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LlNJWkUsImJvdW5kcyIsdGhpcy5nZXRHcmFwaEJvdW5kcygpKSl9fX12YXIgRz1hLnZpZXcuZ2V0QmFja2dyb3VuZFBhbmUoKSxGPWEudmlldy5nZXREcmF3UGFuZSgpO2EuY3VtdWxhdGl2ZVpvb21GYWN0b3I9MTt2YXIgSD1udWxsLEo9bnVsbCx1PW51bGwsSz1udWxsLEE9ZnVuY3Rpb24oYil7bnVsbCE9SCYmd2luZG93LmNsZWFyVGltZW91dChIKTt3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpe2EuaXNNb3VzZURvd258fChIPXdpbmRvdy5zZXRUaW1lb3V0KG14VXRpbHMuYmluZCh0aGlzLApmdW5jdGlvbigpe2EuaXNGYXN0Wm9vbUVuYWJsZWQoKSYmKG51bGwhPWEudmlldy5iYWNrZ3JvdW5kUGFnZVNoYXBlJiZudWxsIT1hLnZpZXcuYmFja2dyb3VuZFBhZ2VTaGFwZS5ub2RlJiYobXhVdGlscy5zZXRQcmVmaXhlZFN0eWxlKGEudmlldy5iYWNrZ3JvdW5kUGFnZVNoYXBlLm5vZGUuc3R5bGUsInRyYW5zZm9ybS1vcmlnaW4iLG51bGwpLG14VXRpbHMuc2V0UHJlZml4ZWRTdHlsZShhLnZpZXcuYmFja2dyb3VuZFBhZ2VTaGFwZS5ub2RlLnN0eWxlLCJ0cmFuc2Zvcm0iLG51bGwpKSxGLnN0eWxlLnRyYW5zZm9ybU9yaWdpbj0iIixHLnN0eWxlLnRyYW5zZm9ybU9yaWdpbj0iIixteENsaWVudC5JU19TRj8oRi5zdHlsZS50cmFuc2Zvcm09InNjYWxlKDEpIixHLnN0eWxlLnRyYW5zZm9ybT0ic2NhbGUoMSkiLHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Ri5zdHlsZS50cmFuc2Zvcm09IiI7Ry5zdHlsZS50cmFuc2Zvcm09IiJ9LDApKTooRi5zdHlsZS50cmFuc2Zvcm09CiIiLEcuc3R5bGUudHJhbnNmb3JtPSIiKSxhLnZpZXcuZ2V0RGVjb3JhdG9yUGFuZSgpLnN0eWxlLm9wYWNpdHk9IiIsYS52aWV3LmdldE92ZXJsYXlQYW5lKCkuc3R5bGUub3BhY2l0eT0iIik7dmFyIGI9bmV3IG14UG9pbnQoYS5jb250YWluZXIuc2Nyb2xsTGVmdCxhLmNvbnRhaW5lci5zY3JvbGxUb3ApLGU9bXhVdGlscy5nZXRPZmZzZXQoYS5jb250YWluZXIpLGQ9YS52aWV3LnNjYWxlLGc9MCxsPTA7bnVsbCE9SiYmKGc9YS5jb250YWluZXIub2Zmc2V0V2lkdGgvMi1KLngrZS54LGw9YS5jb250YWluZXIub2Zmc2V0SGVpZ2h0LzItSi55K2UueSk7YS56b29tKGEuY3VtdWxhdGl2ZVpvb21GYWN0b3IpO2Eudmlldy5zY2FsZSE9ZCYmKG51bGwhPXUmJihnKz1iLngtdS54LGwrPWIueS11LnkpLG51bGwhPWMmJmYuY2hyb21lbGVzc1Jlc2l6ZSghMSxudWxsLGcqKGEuY3VtdWxhdGl2ZVpvb21GYWN0b3ItMSksbCooYS5jdW11bGF0aXZlWm9vbUZhY3Rvci0xKSksIW14VXRpbHMuaGFzU2Nyb2xsYmFycyhhLmNvbnRhaW5lcil8fAowPT1nJiYwPT1sfHwoYS5jb250YWluZXIuc2Nyb2xsTGVmdC09ZyooYS5jdW11bGF0aXZlWm9vbUZhY3Rvci0xKSxhLmNvbnRhaW5lci5zY3JvbGxUb3AtPWwqKGEuY3VtdWxhdGl2ZVpvb21GYWN0b3ItMSkpKTtudWxsIT1LJiZGLnNldEF0dHJpYnV0ZSgiZmlsdGVyIixLKTthLmN1bXVsYXRpdmVab29tRmFjdG9yPTE7Sz1KPXU9SD1udWxsfSksbnVsbCE9Yj9iOmEuaXNGYXN0Wm9vbUVuYWJsZWQoKT9mLndoZWVsWm9vbURlbGF5OmYubGF6eVpvb21EZWxheSkpfSwwKX07YS5sYXp5Wm9vbT1mdW5jdGlvbihiLGUsZCl7KGU9ZXx8IWEuc2Nyb2xsYmFycykmJihKPW5ldyBteFBvaW50KGEuY29udGFpbmVyLm9mZnNldExlZnQrYS5jb250YWluZXIuY2xpZW50V2lkdGgvMixhLmNvbnRhaW5lci5vZmZzZXRUb3ArYS5jb250YWluZXIuY2xpZW50SGVpZ2h0LzIpKTtiPy4xNT49dGhpcy52aWV3LnNjYWxlKnRoaXMuY3VtdWxhdGl2ZVpvb21GYWN0b3I/dGhpcy5jdW11bGF0aXZlWm9vbUZhY3Rvcio9Cih0aGlzLnZpZXcuc2NhbGUrLjA1KS90aGlzLnZpZXcuc2NhbGU6KHRoaXMuY3VtdWxhdGl2ZVpvb21GYWN0b3IqPXRoaXMuem9vbUZhY3Rvcix0aGlzLmN1bXVsYXRpdmVab29tRmFjdG9yPU1hdGgucm91bmQodGhpcy52aWV3LnNjYWxlKnRoaXMuY3VtdWxhdGl2ZVpvb21GYWN0b3IqMjApLzIwL3RoaXMudmlldy5zY2FsZSk6LjE1Pj10aGlzLnZpZXcuc2NhbGUqdGhpcy5jdW11bGF0aXZlWm9vbUZhY3Rvcj90aGlzLmN1bXVsYXRpdmVab29tRmFjdG9yKj0odGhpcy52aWV3LnNjYWxlLS4wNSkvdGhpcy52aWV3LnNjYWxlOih0aGlzLmN1bXVsYXRpdmVab29tRmFjdG9yLz10aGlzLnpvb21GYWN0b3IsdGhpcy5jdW11bGF0aXZlWm9vbUZhY3Rvcj1NYXRoLnJvdW5kKHRoaXMudmlldy5zY2FsZSp0aGlzLmN1bXVsYXRpdmVab29tRmFjdG9yKjIwKS8yMC90aGlzLnZpZXcuc2NhbGUpO3RoaXMuY3VtdWxhdGl2ZVpvb21GYWN0b3I9TWF0aC5tYXgoLjA1LE1hdGgubWluKHRoaXMudmlldy5zY2FsZSoKdGhpcy5jdW11bGF0aXZlWm9vbUZhY3RvciwxNjApKS90aGlzLnZpZXcuc2NhbGU7aWYoYS5pc0Zhc3Rab29tRW5hYmxlZCgpKXtudWxsPT1LJiYiIiE9Ri5nZXRBdHRyaWJ1dGUoImZpbHRlciIpJiYoSz1GLmdldEF0dHJpYnV0ZSgiZmlsdGVyIiksRi5yZW1vdmVBdHRyaWJ1dGUoImZpbHRlciIpKTt1PW5ldyBteFBvaW50KGEuY29udGFpbmVyLnNjcm9sbExlZnQsYS5jb250YWluZXIuc2Nyb2xsVG9wKTtiPWU/YS5jb250YWluZXIuc2Nyb2xsTGVmdCthLmNvbnRhaW5lci5jbGllbnRXaWR0aC8yOkoueCthLmNvbnRhaW5lci5zY3JvbGxMZWZ0LWEuY29udGFpbmVyLm9mZnNldExlZnQ7dmFyIGM9ZT9hLmNvbnRhaW5lci5zY3JvbGxUb3ArYS5jb250YWluZXIuY2xpZW50SGVpZ2h0LzI6Si55K2EuY29udGFpbmVyLnNjcm9sbFRvcC1hLmNvbnRhaW5lci5vZmZzZXRUb3A7Ri5zdHlsZS50cmFuc2Zvcm1PcmlnaW49YisicHggIitjKyJweCI7Ri5zdHlsZS50cmFuc2Zvcm09InNjYWxlKCIrCnRoaXMuY3VtdWxhdGl2ZVpvb21GYWN0b3IrIikiO0cuc3R5bGUudHJhbnNmb3JtT3JpZ2luPWIrInB4ICIrYysicHgiO0cuc3R5bGUudHJhbnNmb3JtPSJzY2FsZSgiK3RoaXMuY3VtdWxhdGl2ZVpvb21GYWN0b3IrIikiO251bGwhPWEudmlldy5iYWNrZ3JvdW5kUGFnZVNoYXBlJiZudWxsIT1hLnZpZXcuYmFja2dyb3VuZFBhZ2VTaGFwZS5ub2RlJiYoYj1hLnZpZXcuYmFja2dyb3VuZFBhZ2VTaGFwZS5ub2RlLG14VXRpbHMuc2V0UHJlZml4ZWRTdHlsZShiLnN0eWxlLCJ0cmFuc2Zvcm0tb3JpZ2luIiwoZT9hLmNvbnRhaW5lci5jbGllbnRXaWR0aC8yK2EuY29udGFpbmVyLnNjcm9sbExlZnQtYi5vZmZzZXRMZWZ0KyJweCI6Si54K2EuY29udGFpbmVyLnNjcm9sbExlZnQtYi5vZmZzZXRMZWZ0LWEuY29udGFpbmVyLm9mZnNldExlZnQrInB4IikrIiAiKyhlP2EuY29udGFpbmVyLmNsaWVudEhlaWdodC8yK2EuY29udGFpbmVyLnNjcm9sbFRvcC1iLm9mZnNldFRvcCsicHgiOkoueSsKYS5jb250YWluZXIuc2Nyb2xsVG9wLWIub2Zmc2V0VG9wLWEuY29udGFpbmVyLm9mZnNldFRvcCsicHgiKSksbXhVdGlscy5zZXRQcmVmaXhlZFN0eWxlKGIuc3R5bGUsInRyYW5zZm9ybSIsInNjYWxlKCIrdGhpcy5jdW11bGF0aXZlWm9vbUZhY3RvcisiKSIpKTthLnZpZXcuZ2V0RGVjb3JhdG9yUGFuZSgpLnN0eWxlLm9wYWNpdHk9IjAiO2Eudmlldy5nZXRPdmVybGF5UGFuZSgpLnN0eWxlLm9wYWNpdHk9IjAiO251bGwhPWYuaG92ZXJJY29ucyYmZi5ob3Zlckljb25zLnJlc2V0KCl9QShkKX07bXhFdmVudC5hZGRHZXN0dXJlTGlzdGVuZXJzKGEuY29udGFpbmVyLGZ1bmN0aW9uKGEpe251bGwhPUgmJndpbmRvdy5jbGVhclRpbWVvdXQoSCl9LG51bGwsZnVuY3Rpb24oYil7MSE9YS5jdW11bGF0aXZlWm9vbUZhY3RvciYmQSgwKX0pO214RXZlbnQuYWRkTGlzdGVuZXIoYS5jb250YWluZXIsInNjcm9sbCIsZnVuY3Rpb24oKXtIJiYhYS5pc01vdXNlRG93biYmMSE9YS5jdW11bGF0aXZlWm9vbUZhY3RvciYmCkEoMCl9KTtteEV2ZW50LmFkZE1vdXNlV2hlZWxMaXN0ZW5lcihteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihiLGUsZCl7aWYobnVsbD09dGhpcy5kaWFsb2dzfHwwPT10aGlzLmRpYWxvZ3MubGVuZ3RoKWlmKCFhLnNjcm9sbGJhcnMmJmEuaXNTY3JvbGxXaGVlbEV2ZW50KGIpKXtkPWEudmlldy5nZXRUcmFuc2xhdGUoKTt2YXIgYz00MC9hLnZpZXcuc2NhbGU7bXhFdmVudC5pc1NoaWZ0RG93bihiKT9hLnZpZXcuc2V0VHJhbnNsYXRlKGQueCsoZT8tYzpjKSxkLnkpOmEudmlldy5zZXRUcmFuc2xhdGUoZC54LGQueSsoZT9jOi1jKSl9ZWxzZSBpZihkfHxhLmlzWm9vbVdoZWVsRXZlbnQoYikpZm9yKGQ9bXhFdmVudC5nZXRTb3VyY2UoYik7bnVsbCE9ZDspe2lmKGQ9PWEuY29udGFpbmVyKXJldHVybiBhLnRvb2x0aXBIYW5kbGVyLmhpZGVUb29sdGlwKCksSj1uZXcgbXhQb2ludChteEV2ZW50LmdldENsaWVudFgoYiksbXhFdmVudC5nZXRDbGllbnRZKGIpKSxhLmxhenlab29tKGUpLApteEV2ZW50LmNvbnN1bWUoYiksITE7ZD1kLnBhcmVudE5vZGV9fSksYS5jb250YWluZXIpO2EucGFubmluZ0hhbmRsZXIuem9vbUdyYXBoPWZ1bmN0aW9uKGIpe2EuY3VtdWxhdGl2ZVpvb21GYWN0b3I9Yi5zY2FsZTthLmxhenlab29tKDA8Yi5zY2FsZSwhMCk7bXhFdmVudC5jb25zdW1lKGIpfX07RWRpdG9yVWkucHJvdG90eXBlLmFkZENocm9tZWxlc3NUb29sYmFySXRlbXM9ZnVuY3Rpb24oYSl7YShteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXt0aGlzLmFjdGlvbnMuZ2V0KCJwcmludCIpLmZ1bmN0KCk7bXhFdmVudC5jb25zdW1lKGEpfSksRWRpdG9yLnByaW50TGFyZ2VJbWFnZSxteFJlc291cmNlcy5nZXQoInByaW50IikpfTsKRWRpdG9yVWkucHJvdG90eXBlLmNyZWF0ZVRlbXBvcmFyeUdyYXBoPWZ1bmN0aW9uKGEpe2E9bmV3IEdyYXBoKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLG51bGwsbnVsbCxhKTthLnJlc2V0Vmlld09uUm9vdENoYW5nZT0hMTthLnNldENvbm5lY3RhYmxlKCExKTthLmdyaWRFbmFibGVkPSExO2EuYXV0b1Njcm9sbD0hMTthLnNldFRvb2x0aXBzKCExKTthLnNldEVuYWJsZWQoITEpO2EuY29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHk9ImhpZGRlbiI7YS5jb250YWluZXIuc3R5bGUucG9zaXRpb249ImFic29sdXRlIjthLmNvbnRhaW5lci5zdHlsZS5vdmVyZmxvdz0iaGlkZGVuIjthLmNvbnRhaW5lci5zdHlsZS5oZWlnaHQ9IjFweCI7YS5jb250YWluZXIuc3R5bGUud2lkdGg9IjFweCI7cmV0dXJuIGF9OwpFZGl0b3JVaS5wcm90b3R5cGUuYWRkQ2hyb21lbGVzc0NsaWNrSGFuZGxlcj1mdW5jdGlvbigpe3ZhciBhPXVybFBhcmFtcy5oaWdobGlnaHQ7bnVsbCE9YSYmMDxhLmxlbmd0aCYmKGE9IiMiK2EpO3RoaXMuZWRpdG9yLmdyYXBoLmFkZENsaWNrSGFuZGxlcihhKX07RWRpdG9yVWkucHJvdG90eXBlLnRvZ2dsZUZvcm1hdFBhbmVsPWZ1bmN0aW9uKGEpe2E9bnVsbCE9YT9hOjA9PXRoaXMuZm9ybWF0V2lkdGg7bnVsbCE9dGhpcy5mb3JtYXQmJih0aGlzLmZvcm1hdFdpZHRoPWE/MjQwOjAsdGhpcy5mb3JtYXRDb250YWluZXIuc3R5bGUuZGlzcGxheT1hPyIiOiJub25lIix0aGlzLnJlZnJlc2goKSx0aGlzLmZvcm1hdC5yZWZyZXNoKCksdGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QoImZvcm1hdFdpZHRoQ2hhbmdlZCIpKSl9OwpFZGl0b3JVaS5wcm90b3R5cGUubGlnaHRib3hGaXQ9ZnVuY3Rpb24oYSl7aWYodGhpcy5pc0RpYWdyYW1FbXB0eSgpKXRoaXMuZWRpdG9yLmdyYXBoLnZpZXcuc2V0U2NhbGUoMSk7ZWxzZXt2YXIgYz11cmxQYXJhbXMuYm9yZGVyLGY9NjA7bnVsbCE9YyYmKGY9cGFyc2VJbnQoYykpO3RoaXMuZWRpdG9yLmdyYXBoLm1heEZpdFNjYWxlPXRoaXMubGlnaHRib3hNYXhGaXRTY2FsZTt0aGlzLmVkaXRvci5ncmFwaC5maXQoZixudWxsLG51bGwsbnVsbCxudWxsLG51bGwsYSk7dGhpcy5lZGl0b3IuZ3JhcGgubWF4Rml0U2NhbGU9bnVsbH19O0VkaXRvclVpLnByb3RvdHlwZS5pc0RpYWdyYW1FbXB0eT1mdW5jdGlvbigpe3ZhciBhPXRoaXMuZWRpdG9yLmdyYXBoLmdldE1vZGVsKCk7cmV0dXJuIDE9PWEuZ2V0Q2hpbGRDb3VudChhLnJvb3QpJiYwPT1hLmdldENoaWxkQ291bnQoYS5nZXRDaGlsZEF0KGEucm9vdCwwKSl9OwpFZGl0b3JVaS5wcm90b3R5cGUuaXNTZWxlY3Rpb25BbGxvd2VkPWZ1bmN0aW9uKGEpe3JldHVybiJTRUxFQ1QiPT1teEV2ZW50LmdldFNvdXJjZShhKS5ub2RlTmFtZXx8IklOUFVUIj09bXhFdmVudC5nZXRTb3VyY2UoYSkubm9kZU5hbWUmJm14VXRpbHMuaXNBbmNlc3Rvck5vZGUodGhpcy5mb3JtYXRDb250YWluZXIsbXhFdmVudC5nZXRTb3VyY2UoYSkpfTtFZGl0b3JVaS5wcm90b3R5cGUuYWRkQmVmb3JlVW5sb2FkTGlzdGVuZXI9ZnVuY3Rpb24oKXt3aW5kb3cub25iZWZvcmV1bmxvYWQ9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXtpZighdGhpcy5lZGl0b3IuaXNDaHJvbWVsZXNzVmlldygpKXJldHVybiB0aGlzLm9uQmVmb3JlVW5sb2FkKCl9KX07RWRpdG9yVWkucHJvdG90eXBlLm9uQmVmb3JlVW5sb2FkPWZ1bmN0aW9uKCl7aWYodGhpcy5lZGl0b3IubW9kaWZpZWQpcmV0dXJuIG14UmVzb3VyY2VzLmdldCgiYWxsQ2hhbmdlc0xvc3QiKX07CkVkaXRvclVpLnByb3RvdHlwZS5vcGVuPWZ1bmN0aW9uKCl7dHJ5e251bGwhPXdpbmRvdy5vcGVuZXImJm51bGwhPXdpbmRvdy5vcGVuZXIub3BlbkZpbGUmJndpbmRvdy5vcGVuZXIub3BlbkZpbGUuc2V0Q29uc3VtZXIobXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSxjKXt0cnl7dmFyIGY9bXhVdGlscy5wYXJzZVhtbChhKTt0aGlzLmVkaXRvci5zZXRHcmFwaFhtbChmLmRvY3VtZW50RWxlbWVudCk7dGhpcy5lZGl0b3Iuc2V0TW9kaWZpZWQoITEpO3RoaXMuZWRpdG9yLnVuZG9NYW5hZ2VyLmNsZWFyKCk7bnVsbCE9YyYmKHRoaXMuZWRpdG9yLnNldEZpbGVuYW1lKGMpLHRoaXMudXBkYXRlRG9jdW1lbnRUaXRsZSgpKX1jYXRjaChkKXtteFV0aWxzLmFsZXJ0KG14UmVzb3VyY2VzLmdldCgiaW52YWxpZE9yTWlzc2luZ0ZpbGUiKSsiOiAiK2QubWVzc2FnZSl9fSkpfWNhdGNoKGEpe310aGlzLmVkaXRvci5ncmFwaC52aWV3LnZhbGlkYXRlKCk7dGhpcy5lZGl0b3IuZ3JhcGguc2l6ZURpZENoYW5nZSgpOwp0aGlzLmVkaXRvci5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QoInJlc2V0R3JhcGhWaWV3IikpfTtFZGl0b3JVaS5wcm90b3R5cGUuc2V0Q3VycmVudE1lbnU9ZnVuY3Rpb24oYSxjKXt0aGlzLmN1cnJlbnRNZW51RWx0PWM7dGhpcy5jdXJyZW50TWVudT1hfTtFZGl0b3JVaS5wcm90b3R5cGUucmVzZXRDdXJyZW50TWVudT1mdW5jdGlvbigpe3RoaXMuY3VycmVudE1lbnU9dGhpcy5jdXJyZW50TWVudUVsdD1udWxsfTtFZGl0b3JVaS5wcm90b3R5cGUuaGlkZUN1cnJlbnRNZW51PWZ1bmN0aW9uKCl7bnVsbCE9dGhpcy5jdXJyZW50TWVudSYmKHRoaXMuY3VycmVudE1lbnUuaGlkZU1lbnUoKSx0aGlzLnJlc2V0Q3VycmVudE1lbnUoKSl9OwpFZGl0b3JVaS5wcm90b3R5cGUudXBkYXRlRG9jdW1lbnRUaXRsZT1mdW5jdGlvbigpe3ZhciBhPXRoaXMuZWRpdG9yLmdldE9yQ3JlYXRlRmlsZW5hbWUoKTtudWxsIT10aGlzLmVkaXRvci5hcHBOYW1lJiYoYSs9IiAtICIrdGhpcy5lZGl0b3IuYXBwTmFtZSk7ZG9jdW1lbnQudGl0bGU9YX07RWRpdG9yVWkucHJvdG90eXBlLmNyZWF0ZUhvdmVySWNvbnM9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEhvdmVySWNvbnModGhpcy5lZGl0b3IuZ3JhcGgpfTtFZGl0b3JVaS5wcm90b3R5cGUucmVkbz1mdW5jdGlvbigpe3RyeXt0aGlzLmVkaXRvci5ncmFwaC5pc0VkaXRpbmcoKT9kb2N1bWVudC5leGVjQ29tbWFuZCgicmVkbyIsITEsbnVsbCk6dGhpcy5lZGl0b3IudW5kb01hbmFnZXIucmVkbygpfWNhdGNoKGEpe319OwpFZGl0b3JVaS5wcm90b3R5cGUudW5kbz1mdW5jdGlvbigpe3RyeXt2YXIgYT10aGlzLmVkaXRvci5ncmFwaDtpZihhLmlzRWRpdGluZygpKXt2YXIgYz1hLmNlbGxFZGl0b3IudGV4dGFyZWEuaW5uZXJIVE1MO2RvY3VtZW50LmV4ZWNDb21tYW5kKCJ1bmRvIiwhMSxudWxsKTtjPT1hLmNlbGxFZGl0b3IudGV4dGFyZWEuaW5uZXJIVE1MJiYoYS5zdG9wRWRpdGluZyghMCksdGhpcy5lZGl0b3IudW5kb01hbmFnZXIudW5kbygpKX1lbHNlIHRoaXMuZWRpdG9yLnVuZG9NYW5hZ2VyLnVuZG8oKX1jYXRjaChmKXt9fTtFZGl0b3JVaS5wcm90b3R5cGUuY2FuUmVkbz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVkaXRvci5ncmFwaC5pc0VkaXRpbmcoKXx8dGhpcy5lZGl0b3IudW5kb01hbmFnZXIuY2FuUmVkbygpfTtFZGl0b3JVaS5wcm90b3R5cGUuY2FuVW5kbz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVkaXRvci5ncmFwaC5pc0VkaXRpbmcoKXx8dGhpcy5lZGl0b3IudW5kb01hbmFnZXIuY2FuVW5kbygpfTsKRWRpdG9yVWkucHJvdG90eXBlLmdldEVkaXRCbGFua1htbD1mdW5jdGlvbigpe3JldHVybiBteFV0aWxzLmdldFhtbCh0aGlzLmVkaXRvci5nZXRHcmFwaFhtbCgpKX07RWRpdG9yVWkucHJvdG90eXBlLmdldFVybD1mdW5jdGlvbihhKXthPW51bGwhPWE/YTp3aW5kb3cubG9jYXRpb24ucGF0aG5hbWU7dmFyIGM9MDxhLmluZGV4T2YoIj8iKT8xOjAsZjtmb3IoZiBpbiB1cmxQYXJhbXMpYT0wPT1jP2ErIj8iOmErIiYiLGErPWYrIj0iK3VybFBhcmFtc1tmXSxjKys7cmV0dXJuIGF9OwpFZGl0b3JVaS5wcm90b3R5cGUuc2V0U2Nyb2xsYmFycz1mdW5jdGlvbihhKXt2YXIgYz10aGlzLmVkaXRvci5ncmFwaCxmPWMuY29udGFpbmVyLnN0eWxlLm92ZXJmbG93O2Muc2Nyb2xsYmFycz1hO3RoaXMuZWRpdG9yLnVwZGF0ZUdyYXBoQ29tcG9uZW50cygpO2YhPWMuY29udGFpbmVyLnN0eWxlLm92ZXJmbG93JiYoYy5jb250YWluZXIuc2Nyb2xsVG9wPTAsYy5jb250YWluZXIuc2Nyb2xsTGVmdD0wLGMudmlldy5zY2FsZUFuZFRyYW5zbGF0ZSgxLDAsMCksdGhpcy5yZXNldFNjcm9sbGJhcnMoKSk7dGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QoInNjcm9sbGJhcnNDaGFuZ2VkIikpfTtFZGl0b3JVaS5wcm90b3R5cGUuaGFzU2Nyb2xsYmFycz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVkaXRvci5ncmFwaC5zY3JvbGxiYXJzfTsKRWRpdG9yVWkucHJvdG90eXBlLnJlc2V0U2Nyb2xsYmFycz1mdW5jdGlvbigpe3ZhciBhPXRoaXMuZWRpdG9yLmdyYXBoO2lmKCF0aGlzLmVkaXRvci5leHRlbmRDYW52YXMpYS5jb250YWluZXIuc2Nyb2xsVG9wPTAsYS5jb250YWluZXIuc2Nyb2xsTGVmdD0wLG14VXRpbHMuaGFzU2Nyb2xsYmFycyhhLmNvbnRhaW5lcil8fGEudmlldy5zZXRUcmFuc2xhdGUoMCwwKTtlbHNlIGlmKCF0aGlzLmVkaXRvci5pc0Nocm9tZWxlc3NWaWV3KCkpaWYobXhVdGlscy5oYXNTY3JvbGxiYXJzKGEuY29udGFpbmVyKSlpZihhLnBhZ2VWaXNpYmxlKXt2YXIgYz1hLmdldFBhZ2VQYWRkaW5nKCk7YS5jb250YWluZXIuc2Nyb2xsVG9wPU1hdGguZmxvb3IoYy55LXRoaXMuZWRpdG9yLmluaXRpYWxUb3BTcGFjaW5nKS0xO2EuY29udGFpbmVyLnNjcm9sbExlZnQ9TWF0aC5mbG9vcihNYXRoLm1pbihjLngsKGEuY29udGFpbmVyLnNjcm9sbFdpZHRoLWEuY29udGFpbmVyLmNsaWVudFdpZHRoKS8yKSktCjE7Yz1hLmdldEdyYXBoQm91bmRzKCk7MDxjLndpZHRoJiYwPGMuaGVpZ2h0JiYoYy54PmEuY29udGFpbmVyLnNjcm9sbExlZnQrLjkqYS5jb250YWluZXIuY2xpZW50V2lkdGgmJihhLmNvbnRhaW5lci5zY3JvbGxMZWZ0PU1hdGgubWluKGMueCtjLndpZHRoLWEuY29udGFpbmVyLmNsaWVudFdpZHRoLGMueC0xMCkpLGMueT5hLmNvbnRhaW5lci5zY3JvbGxUb3ArLjkqYS5jb250YWluZXIuY2xpZW50SGVpZ2h0JiYoYS5jb250YWluZXIuc2Nyb2xsVG9wPU1hdGgubWluKGMueStjLmhlaWdodC1hLmNvbnRhaW5lci5jbGllbnRIZWlnaHQsYy55LTEwKSkpfWVsc2V7dmFyIGM9YS5nZXRHcmFwaEJvdW5kcygpLGY9TWF0aC5tYXgoYy53aWR0aCxhLnNjcm9sbFRpbGVTaXplLndpZHRoKmEudmlldy5zY2FsZSk7YS5jb250YWluZXIuc2Nyb2xsVG9wPU1hdGguZmxvb3IoTWF0aC5tYXgoMCxjLnktTWF0aC5tYXgoMjAsKGEuY29udGFpbmVyLmNsaWVudEhlaWdodC1NYXRoLm1heChjLmhlaWdodCwKYS5zY3JvbGxUaWxlU2l6ZS5oZWlnaHQqYS52aWV3LnNjYWxlKSkvNCkpKTthLmNvbnRhaW5lci5zY3JvbGxMZWZ0PU1hdGguZmxvb3IoTWF0aC5tYXgoMCxjLngtTWF0aC5tYXgoMCwoYS5jb250YWluZXIuY2xpZW50V2lkdGgtZikvMikpKX1lbHNle3ZhciBjPW14UmVjdGFuZ2xlLmZyb21SZWN0YW5nbGUoYS5wYWdlVmlzaWJsZT9hLnZpZXcuZ2V0QmFja2dyb3VuZFBhZ2VCb3VuZHMoKTphLmdldEdyYXBoQm91bmRzKCkpLGY9YS52aWV3LnRyYW5zbGF0ZSxkPWEudmlldy5zY2FsZTtjLng9Yy54L2QtZi54O2MueT1jLnkvZC1mLnk7Yy53aWR0aC89ZDtjLmhlaWdodC89ZDthLnZpZXcuc2V0VHJhbnNsYXRlKE1hdGguZmxvb3IoTWF0aC5tYXgoMCwoYS5jb250YWluZXIuY2xpZW50V2lkdGgtYy53aWR0aCkvMiktYy54KzIpLE1hdGguZmxvb3IoKGEucGFnZVZpc2libGU/MDpNYXRoLm1heCgwLChhLmNvbnRhaW5lci5jbGllbnRIZWlnaHQtYy5oZWlnaHQpLzQpKS1jLnkrMSkpfX07CkVkaXRvclVpLnByb3RvdHlwZS5zZXRQYWdlVmlzaWJsZT1mdW5jdGlvbihhKXt2YXIgYz10aGlzLmVkaXRvci5ncmFwaCxmPW14VXRpbHMuaGFzU2Nyb2xsYmFycyhjLmNvbnRhaW5lciksZD0wLGs9MDtmJiYoZD1jLnZpZXcudHJhbnNsYXRlLngqYy52aWV3LnNjYWxlLWMuY29udGFpbmVyLnNjcm9sbExlZnQsaz1jLnZpZXcudHJhbnNsYXRlLnkqYy52aWV3LnNjYWxlLWMuY29udGFpbmVyLnNjcm9sbFRvcCk7Yy5wYWdlVmlzaWJsZT1hO2MucGFnZUJyZWFrc1Zpc2libGU9YTtjLnByZWZlclBhZ2VTaXplPWE7Yy52aWV3LnZhbGlkYXRlQmFja2dyb3VuZCgpO2YmJihhPWMuZ2V0U2VsZWN0aW9uQ2VsbHMoKSxjLmNsZWFyU2VsZWN0aW9uKCksYy5zZXRTZWxlY3Rpb25DZWxscyhhKSk7Yy5zaXplRGlkQ2hhbmdlKCk7ZiYmKGMuY29udGFpbmVyLnNjcm9sbExlZnQ9Yy52aWV3LnRyYW5zbGF0ZS54KmMudmlldy5zY2FsZS1kLGMuY29udGFpbmVyLnNjcm9sbFRvcD1jLnZpZXcudHJhbnNsYXRlLnkqCmMudmlldy5zY2FsZS1rKTt0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdCgicGFnZVZpZXdDaGFuZ2VkIikpfTtmdW5jdGlvbiBDaGFuZ2VQYWdlU2V0dXAoYSxjLGYsZCxrKXt0aGlzLnVpPWE7dGhpcy5wcmV2aW91c0NvbG9yPXRoaXMuY29sb3I9Yzt0aGlzLnByZXZpb3VzSW1hZ2U9dGhpcy5pbWFnZT1mO3RoaXMucHJldmlvdXNGb3JtYXQ9dGhpcy5mb3JtYXQ9ZDt0aGlzLnByZXZpb3VzUGFnZVNjYWxlPXRoaXMucGFnZVNjYWxlPWs7dGhpcy5pZ25vcmVJbWFnZT10aGlzLmlnbm9yZUNvbG9yPSExfQpDaGFuZ2VQYWdlU2V0dXAucHJvdG90eXBlLmV4ZWN1dGU9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnVpLmVkaXRvci5ncmFwaDtpZighdGhpcy5pZ25vcmVDb2xvcil7dGhpcy5jb2xvcj10aGlzLnByZXZpb3VzQ29sb3I7dmFyIGM9YS5iYWNrZ3JvdW5kO3RoaXMudWkuc2V0QmFja2dyb3VuZENvbG9yKHRoaXMucHJldmlvdXNDb2xvcik7dGhpcy5wcmV2aW91c0NvbG9yPWN9dGhpcy5pZ25vcmVJbWFnZXx8KHRoaXMuaW1hZ2U9dGhpcy5wcmV2aW91c0ltYWdlLGM9YS5iYWNrZ3JvdW5kSW1hZ2UsdGhpcy51aS5zZXRCYWNrZ3JvdW5kSW1hZ2UodGhpcy5wcmV2aW91c0ltYWdlKSx0aGlzLnByZXZpb3VzSW1hZ2U9Yyk7bnVsbCE9dGhpcy5wcmV2aW91c0Zvcm1hdCYmKHRoaXMuZm9ybWF0PXRoaXMucHJldmlvdXNGb3JtYXQsYz1hLnBhZ2VGb3JtYXQsdGhpcy5wcmV2aW91c0Zvcm1hdC53aWR0aCE9Yy53aWR0aHx8dGhpcy5wcmV2aW91c0Zvcm1hdC5oZWlnaHQhPWMuaGVpZ2h0KSYmKHRoaXMudWkuc2V0UGFnZUZvcm1hdCh0aGlzLnByZXZpb3VzRm9ybWF0KSwKdGhpcy5wcmV2aW91c0Zvcm1hdD1jKTtudWxsIT10aGlzLmZvbGRpbmdFbmFibGVkJiZ0aGlzLmZvbGRpbmdFbmFibGVkIT10aGlzLnVpLmVkaXRvci5ncmFwaC5mb2xkaW5nRW5hYmxlZCYmKHRoaXMudWkuc2V0Rm9sZGluZ0VuYWJsZWQodGhpcy5mb2xkaW5nRW5hYmxlZCksdGhpcy5mb2xkaW5nRW5hYmxlZD0hdGhpcy5mb2xkaW5nRW5hYmxlZCk7bnVsbCE9dGhpcy5wcmV2aW91c1BhZ2VTY2FsZSYmKGE9dGhpcy51aS5lZGl0b3IuZ3JhcGgucGFnZVNjYWxlLHRoaXMucHJldmlvdXNQYWdlU2NhbGUhPWEmJih0aGlzLnVpLnNldFBhZ2VTY2FsZSh0aGlzLnByZXZpb3VzUGFnZVNjYWxlKSx0aGlzLnByZXZpb3VzUGFnZVNjYWxlPWEpKX07CihmdW5jdGlvbigpe3ZhciBhPW5ldyBteE9iamVjdENvZGVjKG5ldyBDaGFuZ2VQYWdlU2V0dXAsWyJ1aSIsInByZXZpb3VzQ29sb3IiLCJwcmV2aW91c0ltYWdlIiwicHJldmlvdXNGb3JtYXQiLCJwcmV2aW91c1BhZ2VTY2FsZSJdKTthLmFmdGVyRGVjb2RlPWZ1bmN0aW9uKGEsZixkKXtkLnByZXZpb3VzQ29sb3I9ZC5jb2xvcjtkLnByZXZpb3VzSW1hZ2U9ZC5pbWFnZTtkLnByZXZpb3VzRm9ybWF0PWQuZm9ybWF0O2QucHJldmlvdXNQYWdlU2NhbGU9ZC5wYWdlU2NhbGU7bnVsbCE9ZC5mb2xkaW5nRW5hYmxlZCYmKGQuZm9sZGluZ0VuYWJsZWQ9IWQuZm9sZGluZ0VuYWJsZWQpO3JldHVybiBkfTtteENvZGVjUmVnaXN0cnkucmVnaXN0ZXIoYSl9KSgpO0VkaXRvclVpLnByb3RvdHlwZS5zZXRCYWNrZ3JvdW5kQ29sb3I9ZnVuY3Rpb24oYSl7dGhpcy5lZGl0b3IuZ3JhcGguYmFja2dyb3VuZD1hO3RoaXMuZWRpdG9yLmdyYXBoLnZpZXcudmFsaWRhdGVCYWNrZ3JvdW5kKCk7dGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QoImJhY2tncm91bmRDb2xvckNoYW5nZWQiKSl9OwpFZGl0b3JVaS5wcm90b3R5cGUuc2V0Rm9sZGluZ0VuYWJsZWQ9ZnVuY3Rpb24oYSl7dGhpcy5lZGl0b3IuZ3JhcGguZm9sZGluZ0VuYWJsZWQ9YTt0aGlzLmVkaXRvci5ncmFwaC52aWV3LnJldmFsaWRhdGUoKTt0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdCgiZm9sZGluZ0VuYWJsZWRDaGFuZ2VkIikpfTtFZGl0b3JVaS5wcm90b3R5cGUuc2V0UGFnZUZvcm1hdD1mdW5jdGlvbihhKXt0aGlzLmVkaXRvci5ncmFwaC5wYWdlRm9ybWF0PWE7dGhpcy5lZGl0b3IuZ3JhcGgucGFnZVZpc2libGU/KHRoaXMuZWRpdG9yLmdyYXBoLnZpZXcudmFsaWRhdGVCYWNrZ3JvdW5kKCksdGhpcy5lZGl0b3IuZ3JhcGguc2l6ZURpZENoYW5nZSgpKTp0aGlzLmFjdGlvbnMuZ2V0KCJwYWdlVmlldyIpLmZ1bmN0KCk7dGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QoInBhZ2VGb3JtYXRDaGFuZ2VkIikpfTsKRWRpdG9yVWkucHJvdG90eXBlLnNldFBhZ2VTY2FsZT1mdW5jdGlvbihhKXt0aGlzLmVkaXRvci5ncmFwaC5wYWdlU2NhbGU9YTt0aGlzLmVkaXRvci5ncmFwaC5wYWdlVmlzaWJsZT8odGhpcy5lZGl0b3IuZ3JhcGgudmlldy52YWxpZGF0ZUJhY2tncm91bmQoKSx0aGlzLmVkaXRvci5ncmFwaC5zaXplRGlkQ2hhbmdlKCkpOnRoaXMuYWN0aW9ucy5nZXQoInBhZ2VWaWV3IikuZnVuY3QoKTt0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdCgicGFnZVNjYWxlQ2hhbmdlZCIpKX07RWRpdG9yVWkucHJvdG90eXBlLnNldEdyaWRDb2xvcj1mdW5jdGlvbihhKXt0aGlzLmVkaXRvci5ncmFwaC52aWV3LmdyaWRDb2xvcj1hO3RoaXMuZWRpdG9yLmdyYXBoLnZpZXcudmFsaWRhdGVCYWNrZ3JvdW5kKCk7dGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QoImdyaWRDb2xvckNoYW5nZWQiKSl9OwpFZGl0b3JVaS5wcm90b3R5cGUuYWRkVW5kb0xpc3RlbmVyPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5hY3Rpb25zLmdldCgidW5kbyIpLGM9dGhpcy5hY3Rpb25zLmdldCgicmVkbyIpLGY9dGhpcy5lZGl0b3IudW5kb01hbmFnZXIsZD1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe2Euc2V0RW5hYmxlZCh0aGlzLmNhblVuZG8oKSk7Yy5zZXRFbmFibGVkKHRoaXMuY2FuUmVkbygpKX0pO2YuYWRkTGlzdGVuZXIobXhFdmVudC5BREQsZCk7Zi5hZGRMaXN0ZW5lcihteEV2ZW50LlVORE8sZCk7Zi5hZGRMaXN0ZW5lcihteEV2ZW50LlJFRE8sZCk7Zi5hZGRMaXN0ZW5lcihteEV2ZW50LkNMRUFSLGQpO3ZhciBrPXRoaXMuZWRpdG9yLmdyYXBoLmNlbGxFZGl0b3Iuc3RhcnRFZGl0aW5nO3RoaXMuZWRpdG9yLmdyYXBoLmNlbGxFZGl0b3Iuc3RhcnRFZGl0aW5nPWZ1bmN0aW9uKCl7ay5hcHBseSh0aGlzLGFyZ3VtZW50cyk7ZCgpfTt2YXIgbT10aGlzLmVkaXRvci5ncmFwaC5jZWxsRWRpdG9yLnN0b3BFZGl0aW5nOwp0aGlzLmVkaXRvci5ncmFwaC5jZWxsRWRpdG9yLnN0b3BFZGl0aW5nPWZ1bmN0aW9uKGEsYil7bS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7ZCgpfTtkKCl9OwpFZGl0b3JVaS5wcm90b3R5cGUudXBkYXRlQWN0aW9uU3RhdGVzPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5lZGl0b3IuZ3JhcGgsYz0hYS5pc1NlbGVjdGlvbkVtcHR5KCksZj0hMSxkPSExLGs9YS5nZXRTZWxlY3Rpb25DZWxscygpO2lmKG51bGwhPWspZm9yKHZhciBtPTA7bTxrLmxlbmd0aDttKyspe3ZhciBxPWtbbV07YS5nZXRNb2RlbCgpLmlzRWRnZShxKSYmKGQ9ITApO2EuZ2V0TW9kZWwoKS5pc1ZlcnRleChxKSYmKGY9ITApO2lmKGQmJmYpYnJlYWt9az0iY3V0IGNvcHkgYm9sZCBpdGFsaWMgdW5kZXJsaW5lIGRlbGV0ZSBkdXBsaWNhdGUgZWRpdFN0eWxlIGVkaXRUb29sdGlwIGVkaXRMaW5rIGJhY2tncm91bmRDb2xvciBib3JkZXJDb2xvciBlZGl0IHRvRnJvbnQgdG9CYWNrIGxvY2tVbmxvY2sgc29saWQgZGFzaGVkIHBhc3RlU2l6ZSBkb3R0ZWQgZmlsbENvbG9yIGdyYWRpZW50Q29sb3Igc2hhZG93IGZvbnRDb2xvciBmb3JtYXR0ZWRUZXh0IHJvdW5kZWQgdG9nZ2xlUm91bmRlZCBzaGFycCBzdHJva2VDb2xvciIuc3BsaXQoIiAiKTtmb3IobT0KMDttPGsubGVuZ3RoO20rKyl0aGlzLmFjdGlvbnMuZ2V0KGtbbV0pLnNldEVuYWJsZWQoYyk7dGhpcy5hY3Rpb25zLmdldCgic2V0QXNEZWZhdWx0U3R5bGUiKS5zZXRFbmFibGVkKDE9PWEuZ2V0U2VsZWN0aW9uQ291bnQoKSk7dGhpcy5hY3Rpb25zLmdldCgiY2xlYXJXYXlwb2ludHMiKS5zZXRFbmFibGVkKCFhLmlzU2VsZWN0aW9uRW1wdHkoKSk7dGhpcy5hY3Rpb25zLmdldCgiY29weVNpemUiKS5zZXRFbmFibGVkKDE9PWEuZ2V0U2VsZWN0aW9uQ291bnQoKSk7dGhpcy5hY3Rpb25zLmdldCgidHVybiIpLnNldEVuYWJsZWQoIWEuaXNTZWxlY3Rpb25FbXB0eSgpKTt0aGlzLmFjdGlvbnMuZ2V0KCJjdXJ2ZWQiKS5zZXRFbmFibGVkKGQpO3RoaXMuYWN0aW9ucy5nZXQoInJvdGF0aW9uIikuc2V0RW5hYmxlZChmKTt0aGlzLmFjdGlvbnMuZ2V0KCJ3b3JkV3JhcCIpLnNldEVuYWJsZWQoZik7dGhpcy5hY3Rpb25zLmdldCgiYXV0b3NpemUiKS5zZXRFbmFibGVkKGYpO2Q9ZiYmMT09CmEuZ2V0U2VsZWN0aW9uQ291bnQoKTt0aGlzLmFjdGlvbnMuZ2V0KCJncm91cCIpLnNldEVuYWJsZWQoMTxhLmdldFNlbGVjdGlvbkNvdW50KCl8fGQmJiFhLmlzQ29udGFpbmVyKGEuZ2V0U2VsZWN0aW9uQ2VsbCgpKSk7dGhpcy5hY3Rpb25zLmdldCgidW5ncm91cCIpLnNldEVuYWJsZWQoMT09YS5nZXRTZWxlY3Rpb25Db3VudCgpJiYoMDxhLmdldE1vZGVsKCkuZ2V0Q2hpbGRDb3VudChhLmdldFNlbGVjdGlvbkNlbGwoKSl8fGQmJmEuaXNDb250YWluZXIoYS5nZXRTZWxlY3Rpb25DZWxsKCkpKSk7dGhpcy5hY3Rpb25zLmdldCgicmVtb3ZlRnJvbUdyb3VwIikuc2V0RW5hYmxlZChkJiZhLmdldE1vZGVsKCkuaXNWZXJ0ZXgoYS5nZXRNb2RlbCgpLmdldFBhcmVudChhLmdldFNlbGVjdGlvbkNlbGwoKSkpKTthLnZpZXcuZ2V0U3RhdGUoYS5nZXRTZWxlY3Rpb25DZWxsKCkpO3RoaXMubWVudXMuZ2V0KCJuYXZpZ2F0aW9uIikuc2V0RW5hYmxlZChjfHxudWxsIT1hLnZpZXcuY3VycmVudFJvb3QpOwp0aGlzLmFjdGlvbnMuZ2V0KCJjb2xsYXBzaWJsZSIpLnNldEVuYWJsZWQoZiYmKGEuaXNDb250YWluZXIoYS5nZXRTZWxlY3Rpb25DZWxsKCkpfHwwPGEubW9kZWwuZ2V0Q2hpbGRDb3VudChhLmdldFNlbGVjdGlvbkNlbGwoKSkpKTt0aGlzLmFjdGlvbnMuZ2V0KCJob21lIikuc2V0RW5hYmxlZChudWxsIT1hLnZpZXcuY3VycmVudFJvb3QpO3RoaXMuYWN0aW9ucy5nZXQoImV4aXRHcm91cCIpLnNldEVuYWJsZWQobnVsbCE9YS52aWV3LmN1cnJlbnRSb290KTt0aGlzLmFjdGlvbnMuZ2V0KCJlbnRlckdyb3VwIikuc2V0RW5hYmxlZCgxPT1hLmdldFNlbGVjdGlvbkNvdW50KCkmJmEuaXNWYWxpZFJvb3QoYS5nZXRTZWxlY3Rpb25DZWxsKCkpKTtjPTE9PWEuZ2V0U2VsZWN0aW9uQ291bnQoKSYmYS5pc0NlbGxGb2xkYWJsZShhLmdldFNlbGVjdGlvbkNlbGwoKSk7dGhpcy5hY3Rpb25zLmdldCgiZXhwYW5kIikuc2V0RW5hYmxlZChjKTt0aGlzLmFjdGlvbnMuZ2V0KCJjb2xsYXBzZSIpLnNldEVuYWJsZWQoYyk7CnRoaXMuYWN0aW9ucy5nZXQoImVkaXRMaW5rIikuc2V0RW5hYmxlZCgxPT1hLmdldFNlbGVjdGlvbkNvdW50KCkpO3RoaXMuYWN0aW9ucy5nZXQoIm9wZW5MaW5rIikuc2V0RW5hYmxlZCgxPT1hLmdldFNlbGVjdGlvbkNvdW50KCkmJm51bGwhPWEuZ2V0TGlua0ZvckNlbGwoYS5nZXRTZWxlY3Rpb25DZWxsKCkpKTt0aGlzLmFjdGlvbnMuZ2V0KCJndWlkZXMiKS5zZXRFbmFibGVkKGEuaXNFbmFibGVkKCkpO3RoaXMuYWN0aW9ucy5nZXQoImdyaWQiKS5zZXRFbmFibGVkKCF0aGlzLmVkaXRvci5jaHJvbWVsZXNzfHx0aGlzLmVkaXRvci5lZGl0YWJsZSk7Yz1hLmlzRW5hYmxlZCgpJiYhYS5pc0NlbGxMb2NrZWQoYS5nZXREZWZhdWx0UGFyZW50KCkpO3RoaXMubWVudXMuZ2V0KCJsYXlvdXQiKS5zZXRFbmFibGVkKGMpO3RoaXMubWVudXMuZ2V0KCJpbnNlcnQiKS5zZXRFbmFibGVkKGMpO3RoaXMubWVudXMuZ2V0KCJkaXJlY3Rpb24iKS5zZXRFbmFibGVkKGMmJmYpO3RoaXMubWVudXMuZ2V0KCJhbGlnbiIpLnNldEVuYWJsZWQoYyYmCmYmJjE8YS5nZXRTZWxlY3Rpb25Db3VudCgpKTt0aGlzLm1lbnVzLmdldCgiZGlzdHJpYnV0ZSIpLnNldEVuYWJsZWQoYyYmZiYmMTxhLmdldFNlbGVjdGlvbkNvdW50KCkpO3RoaXMuYWN0aW9ucy5nZXQoInNlbGVjdFZlcnRpY2VzIikuc2V0RW5hYmxlZChjKTt0aGlzLmFjdGlvbnMuZ2V0KCJzZWxlY3RFZGdlcyIpLnNldEVuYWJsZWQoYyk7dGhpcy5hY3Rpb25zLmdldCgic2VsZWN0QWxsIikuc2V0RW5hYmxlZChjKTt0aGlzLmFjdGlvbnMuZ2V0KCJzZWxlY3ROb25lIikuc2V0RW5hYmxlZChjKTt0aGlzLnVwZGF0ZVBhc3RlQWN0aW9uU3RhdGVzKCl9O0VkaXRvclVpLnByb3RvdHlwZS56ZXJvT2Zmc2V0PW5ldyBteFBvaW50KDAsMCk7RWRpdG9yVWkucHJvdG90eXBlLmdldERpYWdyYW1Db250YWluZXJPZmZzZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy56ZXJvT2Zmc2V0fTsKRWRpdG9yVWkucHJvdG90eXBlLnJlZnJlc2g9ZnVuY3Rpb24oYSl7YT1udWxsIT1hP2E6ITA7dmFyIGM9bXhDbGllbnQuSVNfSUUmJihudWxsPT1kb2N1bWVudC5kb2N1bWVudE1vZGV8fDU9PWRvY3VtZW50LmRvY3VtZW50TW9kZSksZj10aGlzLmNvbnRhaW5lci5jbGllbnRXaWR0aCxkPXRoaXMuY29udGFpbmVyLmNsaWVudEhlaWdodDt0aGlzLmNvbnRhaW5lcj09ZG9jdW1lbnQuYm9keSYmKGY9ZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aHx8ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoLGQ9Yz9kb2N1bWVudC5ib2R5LmNsaWVudEhlaWdodHx8ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodDpkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0KTt2YXIgaz0wO214Q2xpZW50LklTX0lPUyYmIXdpbmRvdy5uYXZpZ2F0b3Iuc3RhbmRhbG9uZSYmd2luZG93LmlubmVySGVpZ2h0IT1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0JiYKKGs9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodC13aW5kb3cuaW5uZXJIZWlnaHQsd2luZG93LnNjcm9sbFRvKDAsMCkpO3ZhciBtPU1hdGgubWF4KDAsTWF0aC5taW4odGhpcy5oc3BsaXRQb3NpdGlvbixmLXRoaXMuc3BsaXRTaXplLTIwKSkscT0wO251bGwhPXRoaXMubWVudWJhciYmKHRoaXMubWVudWJhckNvbnRhaW5lci5zdHlsZS5oZWlnaHQ9dGhpcy5tZW51YmFySGVpZ2h0KyJweCIscSs9dGhpcy5tZW51YmFySGVpZ2h0KTtudWxsIT10aGlzLnRvb2xiYXImJih0aGlzLnRvb2xiYXJDb250YWluZXIuc3R5bGUudG9wPXRoaXMubWVudWJhckhlaWdodCsicHgiLHRoaXMudG9vbGJhckNvbnRhaW5lci5zdHlsZS5oZWlnaHQ9dGhpcy50b29sYmFySGVpZ2h0KyJweCIscSs9dGhpcy50b29sYmFySGVpZ2h0KTswPHEmJiFteENsaWVudC5JU19RVUlSS1MmJihxKz0xKTt2YXIgYj0wO2lmKG51bGwhPXRoaXMuc2lkZWJhckZvb3RlckNvbnRhaW5lcil7dmFyIGU9CnRoaXMuZm9vdGVySGVpZ2h0K2ssYj1NYXRoLm1heCgwLE1hdGgubWluKGQtcS1lLHRoaXMuc2lkZWJhckZvb3RlckhlaWdodCkpO3RoaXMuc2lkZWJhckZvb3RlckNvbnRhaW5lci5zdHlsZS53aWR0aD1tKyJweCI7dGhpcy5zaWRlYmFyRm9vdGVyQ29udGFpbmVyLnN0eWxlLmhlaWdodD1iKyJweCI7dGhpcy5zaWRlYmFyRm9vdGVyQ29udGFpbmVyLnN0eWxlLmJvdHRvbT1lKyJweCJ9ZT1udWxsIT10aGlzLmZvcm1hdD90aGlzLmZvcm1hdFdpZHRoOjA7dGhpcy5zaWRlYmFyQ29udGFpbmVyLnN0eWxlLnRvcD1xKyJweCI7dGhpcy5zaWRlYmFyQ29udGFpbmVyLnN0eWxlLndpZHRoPW0rInB4Ijt0aGlzLmZvcm1hdENvbnRhaW5lci5zdHlsZS50b3A9cSsicHgiO3RoaXMuZm9ybWF0Q29udGFpbmVyLnN0eWxlLndpZHRoPWUrInB4Ijt0aGlzLmZvcm1hdENvbnRhaW5lci5zdHlsZS5kaXNwbGF5PW51bGwhPXRoaXMuZm9ybWF0PyIiOiJub25lIjt2YXIgZz10aGlzLmdldERpYWdyYW1Db250YWluZXJPZmZzZXQoKSwKbj1udWxsIT10aGlzLmhzcGxpdC5wYXJlbnROb2RlP20rdGhpcy5zcGxpdFNpemU6MDt0aGlzLmRpYWdyYW1Db250YWluZXIuc3R5bGUubGVmdD1uK2cueCsicHgiO3RoaXMuZGlhZ3JhbUNvbnRhaW5lci5zdHlsZS50b3A9cStnLnkrInB4Ijt0aGlzLmZvb3RlckNvbnRhaW5lci5zdHlsZS5oZWlnaHQ9dGhpcy5mb290ZXJIZWlnaHQrInB4Ijt0aGlzLmhzcGxpdC5zdHlsZS50b3A9dGhpcy5zaWRlYmFyQ29udGFpbmVyLnN0eWxlLnRvcDt0aGlzLmhzcGxpdC5zdHlsZS5ib3R0b209dGhpcy5mb290ZXJIZWlnaHQraysicHgiO3RoaXMuaHNwbGl0LnN0eWxlLmxlZnQ9bSsicHgiO3RoaXMuZm9vdGVyQ29udGFpbmVyLnN0eWxlLmRpc3BsYXk9MD09dGhpcy5mb290ZXJIZWlnaHQ/Im5vbmUiOiIiO251bGwhPXRoaXMudGFiQ29udGFpbmVyJiYodGhpcy50YWJDb250YWluZXIuc3R5bGUubGVmdD1uKyJweCIpO2M/KHRoaXMubWVudWJhckNvbnRhaW5lci5zdHlsZS53aWR0aD1mKyJweCIsCnRoaXMudG9vbGJhckNvbnRhaW5lci5zdHlsZS53aWR0aD10aGlzLm1lbnViYXJDb250YWluZXIuc3R5bGUud2lkdGgsYz1NYXRoLm1heCgwLGQtdGhpcy5mb290ZXJIZWlnaHQtdGhpcy5tZW51YmFySGVpZ2h0LXRoaXMudG9vbGJhckhlaWdodCksdGhpcy5zaWRlYmFyQ29udGFpbmVyLnN0eWxlLmhlaWdodD1jLWIrInB4Iix0aGlzLmZvcm1hdENvbnRhaW5lci5zdHlsZS5oZWlnaHQ9YysicHgiLHRoaXMuZGlhZ3JhbUNvbnRhaW5lci5zdHlsZS53aWR0aD1udWxsIT10aGlzLmhzcGxpdC5wYXJlbnROb2RlP01hdGgubWF4KDAsZi1tLXRoaXMuc3BsaXRTaXplLWUpKyJweCI6ZisicHgiLHRoaXMuZm9vdGVyQ29udGFpbmVyLnN0eWxlLndpZHRoPXRoaXMubWVudWJhckNvbnRhaW5lci5zdHlsZS53aWR0aCxiPU1hdGgubWF4KDAsZC10aGlzLmZvb3RlckhlaWdodC10aGlzLm1lbnViYXJIZWlnaHQtdGhpcy50b29sYmFySGVpZ2h0KSxudWxsIT10aGlzLnRhYkNvbnRhaW5lciYmKHRoaXMudGFiQ29udGFpbmVyLnN0eWxlLndpZHRoPQp0aGlzLmRpYWdyYW1Db250YWluZXIuc3R5bGUud2lkdGgsdGhpcy50YWJDb250YWluZXIuc3R5bGUuYm90dG9tPXRoaXMuZm9vdGVySGVpZ2h0K2srInB4IixiLT10aGlzLnRhYkNvbnRhaW5lci5jbGllbnRIZWlnaHQpLHRoaXMuZGlhZ3JhbUNvbnRhaW5lci5zdHlsZS5oZWlnaHQ9YisicHgiLHRoaXMuaHNwbGl0LnN0eWxlLmhlaWdodD1iKyJweCIpOigwPHRoaXMuZm9vdGVySGVpZ2h0JiYodGhpcy5mb290ZXJDb250YWluZXIuc3R5bGUuYm90dG9tPWsrInB4IiksdGhpcy5kaWFncmFtQ29udGFpbmVyLnN0eWxlLnJpZ2h0PWUrInB4IixmPTAsbnVsbCE9dGhpcy50YWJDb250YWluZXImJih0aGlzLnRhYkNvbnRhaW5lci5zdHlsZS5ib3R0b209dGhpcy5mb290ZXJIZWlnaHQraysicHgiLHRoaXMudGFiQ29udGFpbmVyLnN0eWxlLnJpZ2h0PXRoaXMuZGlhZ3JhbUNvbnRhaW5lci5zdHlsZS5yaWdodCxmPXRoaXMudGFiQ29udGFpbmVyLmNsaWVudEhlaWdodCksdGhpcy5zaWRlYmFyQ29udGFpbmVyLnN0eWxlLmJvdHRvbT0KdGhpcy5mb290ZXJIZWlnaHQrYitrKyJweCIsdGhpcy5mb3JtYXRDb250YWluZXIuc3R5bGUuYm90dG9tPXRoaXMuZm9vdGVySGVpZ2h0K2srInB4Iix0aGlzLmRpYWdyYW1Db250YWluZXIuc3R5bGUuYm90dG9tPXRoaXMuZm9vdGVySGVpZ2h0K2srZisicHgiKTthJiZ0aGlzLmVkaXRvci5ncmFwaC5zaXplRGlkQ2hhbmdlKCl9O0VkaXRvclVpLnByb3RvdHlwZS5jcmVhdGVUYWJDb250YWluZXI9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH07CkVkaXRvclVpLnByb3RvdHlwZS5jcmVhdGVEaXZzPWZ1bmN0aW9uKCl7dGhpcy5tZW51YmFyQ29udGFpbmVyPXRoaXMuY3JlYXRlRGl2KCJnZU1lbnViYXJDb250YWluZXIiKTt0aGlzLnRvb2xiYXJDb250YWluZXI9dGhpcy5jcmVhdGVEaXYoImdlVG9vbGJhckNvbnRhaW5lciIpO3RoaXMuc2lkZWJhckNvbnRhaW5lcj10aGlzLmNyZWF0ZURpdigiZ2VTaWRlYmFyQ29udGFpbmVyIik7dGhpcy5mb3JtYXRDb250YWluZXI9dGhpcy5jcmVhdGVEaXYoImdlU2lkZWJhckNvbnRhaW5lciBnZUZvcm1hdENvbnRhaW5lciIpO3RoaXMuZGlhZ3JhbUNvbnRhaW5lcj10aGlzLmNyZWF0ZURpdigiZ2VEaWFncmFtQ29udGFpbmVyIik7dGhpcy5mb290ZXJDb250YWluZXI9dGhpcy5jcmVhdGVEaXYoImdlRm9vdGVyQ29udGFpbmVyIik7dGhpcy5oc3BsaXQ9dGhpcy5jcmVhdGVEaXYoImdlSHNwbGl0Iik7dGhpcy5oc3BsaXQuc2V0QXR0cmlidXRlKCJ0aXRsZSIsbXhSZXNvdXJjZXMuZ2V0KCJjb2xsYXBzZUV4cGFuZCIpKTsKdGhpcy5tZW51YmFyQ29udGFpbmVyLnN0eWxlLnRvcD0iMHB4Ijt0aGlzLm1lbnViYXJDb250YWluZXIuc3R5bGUubGVmdD0iMHB4Ijt0aGlzLm1lbnViYXJDb250YWluZXIuc3R5bGUucmlnaHQ9IjBweCI7dGhpcy50b29sYmFyQ29udGFpbmVyLnN0eWxlLmxlZnQ9IjBweCI7dGhpcy50b29sYmFyQ29udGFpbmVyLnN0eWxlLnJpZ2h0PSIwcHgiO3RoaXMuc2lkZWJhckNvbnRhaW5lci5zdHlsZS5sZWZ0PSIwcHgiO3RoaXMuZm9ybWF0Q29udGFpbmVyLnN0eWxlLnJpZ2h0PSIwcHgiO3RoaXMuZm9ybWF0Q29udGFpbmVyLnN0eWxlLnpJbmRleD0iMSI7dGhpcy5kaWFncmFtQ29udGFpbmVyLnN0eWxlLnJpZ2h0PShudWxsIT10aGlzLmZvcm1hdD90aGlzLmZvcm1hdFdpZHRoOjApKyJweCI7dGhpcy5mb290ZXJDb250YWluZXIuc3R5bGUubGVmdD0iMHB4Ijt0aGlzLmZvb3RlckNvbnRhaW5lci5zdHlsZS5yaWdodD0iMHB4Ijt0aGlzLmZvb3RlckNvbnRhaW5lci5zdHlsZS5ib3R0b209CiIwcHgiO3RoaXMuZm9vdGVyQ29udGFpbmVyLnN0eWxlLnpJbmRleD1teFBvcHVwTWVudS5wcm90b3R5cGUuekluZGV4LTI7dGhpcy5oc3BsaXQuc3R5bGUud2lkdGg9dGhpcy5zcGxpdFNpemUrInB4IjtpZih0aGlzLnNpZGViYXJGb290ZXJDb250YWluZXI9dGhpcy5jcmVhdGVTaWRlYmFyRm9vdGVyQ29udGFpbmVyKCkpdGhpcy5zaWRlYmFyRm9vdGVyQ29udGFpbmVyLnN0eWxlLmxlZnQ9IjBweCI7dGhpcy5lZGl0b3IuY2hyb21lbGVzcz90aGlzLmRpYWdyYW1Db250YWluZXIuc3R5bGUuYm9yZGVyPSJub25lIjp0aGlzLnRhYkNvbnRhaW5lcj10aGlzLmNyZWF0ZVRhYkNvbnRhaW5lcigpfTtFZGl0b3JVaS5wcm90b3R5cGUuY3JlYXRlU2lkZWJhckZvb3RlckNvbnRhaW5lcj1mdW5jdGlvbigpe3JldHVybiBudWxsfTsKRWRpdG9yVWkucHJvdG90eXBlLmNyZWF0ZVVpPWZ1bmN0aW9uKCl7dGhpcy5tZW51YmFyPXRoaXMuZWRpdG9yLmNocm9tZWxlc3M/bnVsbDp0aGlzLm1lbnVzLmNyZWF0ZU1lbnViYXIodGhpcy5jcmVhdGVEaXYoImdlTWVudWJhciIpKTtudWxsIT10aGlzLm1lbnViYXImJnRoaXMubWVudWJhckNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLm1lbnViYXIuY29udGFpbmVyKTtudWxsIT10aGlzLm1lbnViYXImJih0aGlzLnN0YXR1c0NvbnRhaW5lcj10aGlzLmNyZWF0ZVN0YXR1c0NvbnRhaW5lcigpLHRoaXMuZWRpdG9yLmFkZExpc3RlbmVyKCJzdGF0dXNDaGFuZ2VkIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMuc2V0U3RhdHVzVGV4dCh0aGlzLmVkaXRvci5nZXRTdGF0dXMoKSl9KSksdGhpcy5zZXRTdGF0dXNUZXh0KHRoaXMuZWRpdG9yLmdldFN0YXR1cygpKSx0aGlzLm1lbnViYXIuY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuc3RhdHVzQ29udGFpbmVyKSx0aGlzLmNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLm1lbnViYXJDb250YWluZXIpKTsKdGhpcy5zaWRlYmFyPXRoaXMuZWRpdG9yLmNocm9tZWxlc3M/bnVsbDp0aGlzLmNyZWF0ZVNpZGViYXIodGhpcy5zaWRlYmFyQ29udGFpbmVyKTtudWxsIT10aGlzLnNpZGViYXImJnRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuc2lkZWJhckNvbnRhaW5lcik7dGhpcy5mb3JtYXQ9dGhpcy5lZGl0b3IuY2hyb21lbGVzc3x8IXRoaXMuZm9ybWF0RW5hYmxlZD9udWxsOnRoaXMuY3JlYXRlRm9ybWF0KHRoaXMuZm9ybWF0Q29udGFpbmVyKTtudWxsIT10aGlzLmZvcm1hdCYmdGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5mb3JtYXRDb250YWluZXIpO3ZhciBhPXRoaXMuZWRpdG9yLmNocm9tZWxlc3M/bnVsbDp0aGlzLmNyZWF0ZUZvb3RlcigpO251bGwhPWEmJih0aGlzLmZvb3RlckNvbnRhaW5lci5hcHBlbmRDaGlsZChhKSx0aGlzLmNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLmZvb3RlckNvbnRhaW5lcikpO251bGwhPXRoaXMuc2lkZWJhciYmdGhpcy5zaWRlYmFyRm9vdGVyQ29udGFpbmVyJiYKdGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5zaWRlYmFyRm9vdGVyQ29udGFpbmVyKTt0aGlzLmNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLmRpYWdyYW1Db250YWluZXIpO251bGwhPXRoaXMuY29udGFpbmVyJiZudWxsIT10aGlzLnRhYkNvbnRhaW5lciYmdGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy50YWJDb250YWluZXIpO3RoaXMudG9vbGJhcj10aGlzLmVkaXRvci5jaHJvbWVsZXNzP251bGw6dGhpcy5jcmVhdGVUb29sYmFyKHRoaXMuY3JlYXRlRGl2KCJnZVRvb2xiYXIiKSk7bnVsbCE9dGhpcy50b29sYmFyJiYodGhpcy50b29sYmFyQ29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMudG9vbGJhci5jb250YWluZXIpLHRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMudG9vbGJhckNvbnRhaW5lcikpO251bGwhPXRoaXMuc2lkZWJhciYmKHRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuaHNwbGl0KSx0aGlzLmFkZFNwbGl0SGFuZGxlcih0aGlzLmhzcGxpdCwKITAsMCxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXt0aGlzLmhzcGxpdFBvc2l0aW9uPWE7dGhpcy5yZWZyZXNoKCl9KSkpfTtFZGl0b3JVaS5wcm90b3R5cGUuY3JlYXRlU3RhdHVzQ29udGFpbmVyPWZ1bmN0aW9uKCl7dmFyIGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpO2EuY2xhc3NOYW1lPSJnZUl0ZW0gZ2VTdGF0dXMiOzQyMD5zY3JlZW4ud2lkdGgmJihhLnN0eWxlLm1heFdpZHRoPU1hdGgubWF4KDIwLHNjcmVlbi53aWR0aC0zMjApKyJweCIsYS5zdHlsZS5vdmVyZmxvdz0iaGlkZGVuIik7cmV0dXJuIGF9O0VkaXRvclVpLnByb3RvdHlwZS5zZXRTdGF0dXNUZXh0PWZ1bmN0aW9uKGEpe3RoaXMuc3RhdHVzQ29udGFpbmVyLmlubmVySFRNTD1hfTtFZGl0b3JVaS5wcm90b3R5cGUuY3JlYXRlVG9vbGJhcj1mdW5jdGlvbihhKXtyZXR1cm4gbmV3IFRvb2xiYXIodGhpcyxhKX07CkVkaXRvclVpLnByb3RvdHlwZS5jcmVhdGVTaWRlYmFyPWZ1bmN0aW9uKGEpe3JldHVybiBuZXcgU2lkZWJhcih0aGlzLGEpfTtFZGl0b3JVaS5wcm90b3R5cGUuY3JlYXRlRm9ybWF0PWZ1bmN0aW9uKGEpe3JldHVybiBuZXcgRm9ybWF0KHRoaXMsYSl9O0VkaXRvclVpLnByb3RvdHlwZS5jcmVhdGVGb290ZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jcmVhdGVEaXYoImdlRm9vdGVyIil9O0VkaXRvclVpLnByb3RvdHlwZS5jcmVhdGVEaXY9ZnVuY3Rpb24oYSl7dmFyIGM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7Yy5jbGFzc05hbWU9YTtyZXR1cm4gY307CkVkaXRvclVpLnByb3RvdHlwZS5hZGRTcGxpdEhhbmRsZXI9ZnVuY3Rpb24oYSxjLGYsZCl7ZnVuY3Rpb24gayhhKXtpZihudWxsIT1xKXt2YXIgbD1uZXcgbXhQb2ludChteEV2ZW50LmdldENsaWVudFgoYSksbXhFdmVudC5nZXRDbGllbnRZKGEpKTtkKE1hdGgubWF4KDAsYisoYz9sLngtcS54OnEueS1sLnkpLWYpKTtteEV2ZW50LmNvbnN1bWUoYSk7YiE9bigpJiYoZT0hMCxnPW51bGwpfX1mdW5jdGlvbiBtKGEpe2soYSk7cT1iPW51bGx9dmFyIHE9bnVsbCxiPW51bGwsZT0hMCxnPW51bGw7bXhDbGllbnQuSVNfUE9JTlRFUiYmKGEuc3R5bGUudG91Y2hBY3Rpb249Im5vbmUiKTt2YXIgbj1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3ZhciBiPXBhcnNlSW50KGM/YS5zdHlsZS5sZWZ0OmEuc3R5bGUuYm90dG9tKTtjfHwoYj1iK2YtdGhpcy5mb290ZXJIZWlnaHQpO3JldHVybiBifSk7bXhFdmVudC5hZGRHZXN0dXJlTGlzdGVuZXJzKGEsZnVuY3Rpb24oYSl7cT1uZXcgbXhQb2ludChteEV2ZW50LmdldENsaWVudFgoYSksCm14RXZlbnQuZ2V0Q2xpZW50WShhKSk7Yj1uKCk7ZT0hMTtteEV2ZW50LmNvbnN1bWUoYSl9KTtteEV2ZW50LmFkZExpc3RlbmVyKGEsImNsaWNrIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXtpZighZSYmdGhpcy5oc3BsaXRDbGlja0VuYWJsZWQpe3ZhciBiPW51bGwhPWc/Zy1mOjA7Zz1uKCk7ZChiKTtteEV2ZW50LmNvbnN1bWUoYSl9fSkpO214RXZlbnQuYWRkR2VzdHVyZUxpc3RlbmVycyhkb2N1bWVudCxudWxsLGssbSk7dGhpcy5kZXN0cm95RnVuY3Rpb25zLnB1c2goZnVuY3Rpb24oKXtteEV2ZW50LnJlbW92ZUdlc3R1cmVMaXN0ZW5lcnMoZG9jdW1lbnQsbnVsbCxrLG0pfSl9OwpFZGl0b3JVaS5wcm90b3R5cGUuaGFuZGxlRXJyb3I9ZnVuY3Rpb24oYSxjLGYsZCxrKXthPW51bGwhPWEmJm51bGwhPWEuZXJyb3I/YS5lcnJvcjphO2lmKG51bGwhPWF8fG51bGwhPWMpe2s9bXhVdGlscy5odG1sRW50aXRpZXMobXhSZXNvdXJjZXMuZ2V0KCJ1bmtub3duRXJyb3IiKSk7dmFyIG09bXhSZXNvdXJjZXMuZ2V0KCJvayIpO2M9bnVsbCE9Yz9jOm14UmVzb3VyY2VzLmdldCgiZXJyb3IiKTtudWxsIT1hJiZudWxsIT1hLm1lc3NhZ2UmJihrPW14VXRpbHMuaHRtbEVudGl0aWVzKGEubWVzc2FnZSkpO3RoaXMuc2hvd0Vycm9yKGMsayxtLGYsbnVsbCxudWxsLG51bGwsbnVsbCxudWxsLG51bGwsbnVsbCxudWxsLGQ/ZjpudWxsKX1lbHNlIG51bGwhPWYmJmYoKX07CkVkaXRvclVpLnByb3RvdHlwZS5zaG93RXJyb3I9ZnVuY3Rpb24oYSxjLGYsZCxrLG0scSxiLGUsZyxuLGwscCl7YT1uZXcgRXJyb3JEaWFsb2codGhpcyxhLGMsZnx8bXhSZXNvdXJjZXMuZ2V0KCJvayIpLGQsayxtLHEsbCxiLGUpO2M9TWF0aC5jZWlsKG51bGwhPWM/Yy5sZW5ndGgvNTA6MSk7dGhpcy5zaG93RGlhbG9nKGEuY29udGFpbmVyLGd8fDM0MCxufHwxMDArMjAqYywhMCwhMSxwKTthLmluaXQoKX07RWRpdG9yVWkucHJvdG90eXBlLnNob3dEaWFsb2c9ZnVuY3Rpb24oYSxjLGYsZCxrLG0scSxiLGUsZyl7dGhpcy5lZGl0b3IuZ3JhcGgudG9vbHRpcEhhbmRsZXIuaGlkZVRvb2x0aXAoKTtudWxsPT10aGlzLmRpYWxvZ3MmJih0aGlzLmRpYWxvZ3M9W10pO3RoaXMuZGlhbG9nPW5ldyBEaWFsb2codGhpcyxhLGMsZixkLGssbSxxLGIsZSxnKTt0aGlzLmRpYWxvZ3MucHVzaCh0aGlzLmRpYWxvZyl9OwpFZGl0b3JVaS5wcm90b3R5cGUuaGlkZURpYWxvZz1mdW5jdGlvbihhLGMpe2lmKG51bGwhPXRoaXMuZGlhbG9ncyYmMDx0aGlzLmRpYWxvZ3MubGVuZ3RoKXt2YXIgZj10aGlzLmRpYWxvZ3MucG9wKCk7MD09Zi5jbG9zZShhLGMpP3RoaXMuZGlhbG9ncy5wdXNoKGYpOih0aGlzLmRpYWxvZz0wPHRoaXMuZGlhbG9ncy5sZW5ndGg/dGhpcy5kaWFsb2dzW3RoaXMuZGlhbG9ncy5sZW5ndGgtMV06bnVsbCx0aGlzLmVkaXRvci5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QoImhpZGVEaWFsb2ciKSksbnVsbD09dGhpcy5kaWFsb2cmJiJoaWRkZW4iIT10aGlzLmVkaXRvci5ncmFwaC5jb250YWluZXIuc3R5bGUudmlzaWJpbGl0eSYmd2luZG93LnNldFRpbWVvdXQobXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt0aGlzLmVkaXRvci5ncmFwaC5pc0VkaXRpbmcoKSYmbnVsbCE9dGhpcy5lZGl0b3IuZ3JhcGguY2VsbEVkaXRvci50ZXh0YXJlYT90aGlzLmVkaXRvci5ncmFwaC5jZWxsRWRpdG9yLnRleHRhcmVhLmZvY3VzKCk6CihteFV0aWxzLmNsZWFyU2VsZWN0aW9uKCksdGhpcy5lZGl0b3IuZ3JhcGguY29udGFpbmVyLmZvY3VzKCkpfSksMCkpfX07RWRpdG9yVWkucHJvdG90eXBlLmN0cmxFbnRlcj1mdW5jdGlvbigpe3ZhciBhPXRoaXMuZWRpdG9yLmdyYXBoO2lmKGEuaXNFbmFibGVkKCkpdHJ5e2Zvcih2YXIgYz1hLmdldFNlbGVjdGlvbkNlbGxzKCksZj1uZXcgbXhEaWN0aW9uYXJ5LGQ9W10saz0wO2s8Yy5sZW5ndGg7aysrKXt2YXIgbT1hLmlzVGFibGVDZWxsKGNba10pP2EubW9kZWwuZ2V0UGFyZW50KGNba10pOmNba107bnVsbD09bXx8Zi5nZXQobSl8fChmLnB1dChtLCEwKSxkLnB1c2gobSkpfWEuc2V0U2VsZWN0aW9uQ2VsbHMoYS5kdXBsaWNhdGVDZWxscyhkLCExKSl9Y2F0Y2gocSl7dGhpcy5oYW5kbGVFcnJvcihxKX19OwpFZGl0b3JVaS5wcm90b3R5cGUucGlja0NvbG9yPWZ1bmN0aW9uKGEsYyl7dmFyIGY9dGhpcy5lZGl0b3IuZ3JhcGgsZD1mLmNlbGxFZGl0b3Iuc2F2ZVNlbGVjdGlvbigpLGs9MjI2KzE3KihNYXRoLmNlaWwoQ29sb3JEaWFsb2cucHJvdG90eXBlLnByZXNldENvbG9ycy5sZW5ndGgvMTIpK01hdGguY2VpbChDb2xvckRpYWxvZy5wcm90b3R5cGUuZGVmYXVsdENvbG9ycy5sZW5ndGgvMTIpKSxtPW5ldyBDb2xvckRpYWxvZyh0aGlzLGF8fCJub25lIixmdW5jdGlvbihhKXtmLmNlbGxFZGl0b3IucmVzdG9yZVNlbGVjdGlvbihkKTtjKGEpfSxmdW5jdGlvbigpe2YuY2VsbEVkaXRvci5yZXN0b3JlU2VsZWN0aW9uKGQpfSk7dGhpcy5zaG93RGlhbG9nKG0uY29udGFpbmVyLDIzMCxrLCEwLCExKTttLmluaXQoKX07CkVkaXRvclVpLnByb3RvdHlwZS5vcGVuRmlsZT1mdW5jdGlvbigpe3dpbmRvdy5vcGVuRmlsZT1uZXcgT3BlbkZpbGUobXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7dGhpcy5oaWRlRGlhbG9nKGEpfSkpO3RoaXMuc2hvd0RpYWxvZygobmV3IE9wZW5EaWFsb2codGhpcykpLmNvbnRhaW5lcixFZGl0b3IudXNlTG9jYWxTdG9yYWdlPzY0MDozMjAsRWRpdG9yLnVzZUxvY2FsU3RvcmFnZT80ODA6MjIwLCEwLCEwLGZ1bmN0aW9uKCl7d2luZG93Lm9wZW5GaWxlPW51bGx9KX07CkVkaXRvclVpLnByb3RvdHlwZS5leHRyYWN0R3JhcGhNb2RlbEZyb21IdG1sPWZ1bmN0aW9uKGEpe3ZhciBjPW51bGw7dHJ5e3ZhciBmPWEuaW5kZXhPZigiJmx0O214R3JhcGhNb2RlbCAiKTtpZigwPD1mKXt2YXIgZD1hLmxhc3RJbmRleE9mKCImbHQ7L214R3JhcGhNb2RlbCZndDsiKTtkPmYmJihjPWEuc3Vic3RyaW5nKGYsZCsyMSkucmVwbGFjZSgvJmd0Oy9nLCI+IikucmVwbGFjZSgvJmx0Oy9nLCI8IikucmVwbGFjZSgvXFwmcXVvdDsvZywnIicpLnJlcGxhY2UoL1xuL2csIiIpKX19Y2F0Y2goayl7fXJldHVybiBjfTsKRWRpdG9yVWkucHJvdG90eXBlLmV4dHJhY3RHcmFwaE1vZGVsRnJvbUV2ZW50PWZ1bmN0aW9uKGEpe3ZhciBjPW51bGwsZj1udWxsO251bGwhPWEmJihhPW51bGwhPWEuZGF0YVRyYW5zZmVyP2EuZGF0YVRyYW5zZmVyOmEuY2xpcGJvYXJkRGF0YSxudWxsIT1hJiYoMTA9PWRvY3VtZW50LmRvY3VtZW50TW9kZXx8MTE9PWRvY3VtZW50LmRvY3VtZW50TW9kZT9mPWEuZ2V0RGF0YSgiVGV4dCIpOihmPTA8PW14VXRpbHMuaW5kZXhPZihhLnR5cGVzLCJ0ZXh0L2h0bWwiKT9hLmdldERhdGEoInRleHQvaHRtbCIpOm51bGwsbXhVdGlscy5pbmRleE9mKGEudHlwZXMsbnVsbD09Znx8MD09Zi5sZW5ndGgpJiYoZj1hLmdldERhdGEoInRleHQvcGxhaW4iKSkpLG51bGwhPWYmJihmPUdyYXBoLnphcEdyZW1saW5zKG14VXRpbHMudHJpbShmKSksYT10aGlzLmV4dHJhY3RHcmFwaE1vZGVsRnJvbUh0bWwoZiksbnVsbCE9YSYmKGY9YSkpKSk7bnVsbCE9ZiYmdGhpcy5pc0NvbXBhdGlibGVTdHJpbmcoZikmJgooYz1mKTtyZXR1cm4gY307RWRpdG9yVWkucHJvdG90eXBlLmlzQ29tcGF0aWJsZVN0cmluZz1mdW5jdGlvbihhKXtyZXR1cm4hMX07RWRpdG9yVWkucHJvdG90eXBlLnNhdmVGaWxlPWZ1bmN0aW9uKGEpe2F8fG51bGw9PXRoaXMuZWRpdG9yLmZpbGVuYW1lPyhhPW5ldyBGaWxlbmFtZURpYWxvZyh0aGlzLHRoaXMuZWRpdG9yLmdldE9yQ3JlYXRlRmlsZW5hbWUoKSxteFJlc291cmNlcy5nZXQoInNhdmUiKSxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXt0aGlzLnNhdmUoYSl9KSxudWxsLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe2lmKG51bGwhPWEmJjA8YS5sZW5ndGgpcmV0dXJuITA7bXhVdGlscy5jb25maXJtKG14UmVzb3VyY2VzLmdldCgiaW52YWxpZE5hbWUiKSk7cmV0dXJuITF9KSksdGhpcy5zaG93RGlhbG9nKGEuY29udGFpbmVyLDMwMCwxMDAsITAsITApLGEuaW5pdCgpKTp0aGlzLnNhdmUodGhpcy5lZGl0b3IuZ2V0T3JDcmVhdGVGaWxlbmFtZSgpKX07CkVkaXRvclVpLnByb3RvdHlwZS5zYXZlPWZ1bmN0aW9uKGEpe2lmKG51bGwhPWEpe3RoaXMuZWRpdG9yLmdyYXBoLmlzRWRpdGluZygpJiZ0aGlzLmVkaXRvci5ncmFwaC5zdG9wRWRpdGluZygpO3ZhciBjPW14VXRpbHMuZ2V0WG1sKHRoaXMuZWRpdG9yLmdldEdyYXBoWG1sKCkpO3RyeXtpZihFZGl0b3IudXNlTG9jYWxTdG9yYWdlKXtpZihudWxsIT1sb2NhbFN0b3JhZ2UuZ2V0SXRlbShhKSYmIW14VXRpbHMuY29uZmlybShteFJlc291cmNlcy5nZXQoInJlcGxhY2VJdCIsW2FdKSkpcmV0dXJuO2xvY2FsU3RvcmFnZS5zZXRJdGVtKGEsYyk7dGhpcy5lZGl0b3Iuc2V0U3RhdHVzKG14VXRpbHMuaHRtbEVudGl0aWVzKG14UmVzb3VyY2VzLmdldCgic2F2ZWQiKSkrIiAiK25ldyBEYXRlKX1lbHNlIGlmKGMubGVuZ3RoPE1BWF9SRVFVRVNUX1NJWkUpKG5ldyBteFhtbFJlcXVlc3QoU0FWRV9VUkwsImZpbGVuYW1lPSIrZW5jb2RlVVJJQ29tcG9uZW50KGEpKyImeG1sPSIrZW5jb2RlVVJJQ29tcG9uZW50KGMpKSkuc2ltdWxhdGUoZG9jdW1lbnQsCiJfYmxhbmsiKTtlbHNle214VXRpbHMuYWxlcnQobXhSZXNvdXJjZXMuZ2V0KCJkcmF3aW5nVG9vTGFyZ2UiKSk7bXhVdGlscy5wb3B1cChjKTtyZXR1cm59dGhpcy5lZGl0b3Iuc2V0TW9kaWZpZWQoITEpO3RoaXMuZWRpdG9yLnNldEZpbGVuYW1lKGEpO3RoaXMudXBkYXRlRG9jdW1lbnRUaXRsZSgpfWNhdGNoKGYpe3RoaXMuZWRpdG9yLnNldFN0YXR1cyhteFV0aWxzLmh0bWxFbnRpdGllcyhteFJlc291cmNlcy5nZXQoImVycm9yU2F2aW5nRmlsZSIpKSl9fX07CkVkaXRvclVpLnByb3RvdHlwZS5leGVjdXRlTGF5b3V0PWZ1bmN0aW9uKGEsYyxmKXt2YXIgZD10aGlzLmVkaXRvci5ncmFwaDtpZihkLmlzRW5hYmxlZCgpKXtkLmdldE1vZGVsKCkuYmVnaW5VcGRhdGUoKTt0cnl7YSgpfWNhdGNoKGspe3Rocm93IGs7fWZpbmFsbHl7dGhpcy5hbGxvd0FuaW1hdGlvbiYmYyYmKG51bGw9PW5hdmlnYXRvci51c2VyQWdlbnR8fDA+bmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJDYW1pbm8iKSk/KGE9bmV3IG14TW9ycGhpbmcoZCksYS5hZGRMaXN0ZW5lcihteEV2ZW50LkRPTkUsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXtkLmdldE1vZGVsKCkuZW5kVXBkYXRlKCk7bnVsbCE9ZiYmZigpfSkpLGEuc3RhcnRBbmltYXRpb24oKSk6KGQuZ2V0TW9kZWwoKS5lbmRVcGRhdGUoKSxudWxsIT1mJiZmKCkpfX19OwpFZGl0b3JVaS5wcm90b3R5cGUuc2hvd0ltYWdlRGlhbG9nPWZ1bmN0aW9uKGEsYyxmLGQpe2Q9dGhpcy5lZGl0b3IuZ3JhcGguY2VsbEVkaXRvcjt2YXIgaz1kLnNhdmVTZWxlY3Rpb24oKSxtPW14VXRpbHMucHJvbXB0KGEsYyk7ZC5yZXN0b3JlU2VsZWN0aW9uKGspO2lmKG51bGwhPW0mJjA8bS5sZW5ndGgpe3ZhciBxPW5ldyBJbWFnZTtxLm9ubG9hZD1mdW5jdGlvbigpe2YobSxxLndpZHRoLHEuaGVpZ2h0KX07cS5vbmVycm9yPWZ1bmN0aW9uKCl7ZihudWxsKTtteFV0aWxzLmFsZXJ0KG14UmVzb3VyY2VzLmdldCgiZmlsZU5vdEZvdW5kIikpfTtxLnNyYz1tfWVsc2UgZihudWxsKX07RWRpdG9yVWkucHJvdG90eXBlLnNob3dMaW5rRGlhbG9nPWZ1bmN0aW9uKGEsYyxmKXthPW5ldyBMaW5rRGlhbG9nKHRoaXMsYSxjLGYpO3RoaXMuc2hvd0RpYWxvZyhhLmNvbnRhaW5lciw0MjAsOTAsITAsITApO2EuaW5pdCgpfTsKRWRpdG9yVWkucHJvdG90eXBlLnNob3dEYXRhRGlhbG9nPWZ1bmN0aW9uKGEpe251bGwhPWEmJihhPW5ldyBFZGl0RGF0YURpYWxvZyh0aGlzLGEpLHRoaXMuc2hvd0RpYWxvZyhhLmNvbnRhaW5lciw0ODAsNDIwLCEwLCExLG51bGwsITEpLGEuaW5pdCgpKX07CkVkaXRvclVpLnByb3RvdHlwZS5zaG93QmFja2dyb3VuZEltYWdlRGlhbG9nPWZ1bmN0aW9uKGEpe2E9bnVsbCE9YT9hOm14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe2E9bmV3IENoYW5nZVBhZ2VTZXR1cCh0aGlzLG51bGwsYSk7YS5pZ25vcmVDb2xvcj0hMDt0aGlzLmVkaXRvci5ncmFwaC5tb2RlbC5leGVjdXRlKGEpfSk7dmFyIGM9bXhVdGlscy5wcm9tcHQobXhSZXNvdXJjZXMuZ2V0KCJiYWNrZ3JvdW5kSW1hZ2UiKSwiIik7aWYobnVsbCE9YyYmMDxjLmxlbmd0aCl7dmFyIGY9bmV3IEltYWdlO2Yub25sb2FkPWZ1bmN0aW9uKCl7YShuZXcgbXhJbWFnZShjLGYud2lkdGgsZi5oZWlnaHQpKX07Zi5vbmVycm9yPWZ1bmN0aW9uKCl7YShudWxsKTtteFV0aWxzLmFsZXJ0KG14UmVzb3VyY2VzLmdldCgiZmlsZU5vdEZvdW5kIikpfTtmLnNyYz1jfWVsc2UgYShudWxsKX07CkVkaXRvclVpLnByb3RvdHlwZS5zZXRCYWNrZ3JvdW5kSW1hZ2U9ZnVuY3Rpb24oYSl7dGhpcy5lZGl0b3IuZ3JhcGguc2V0QmFja2dyb3VuZEltYWdlKGEpO3RoaXMuZWRpdG9yLmdyYXBoLnZpZXcudmFsaWRhdGVCYWNrZ3JvdW5kSW1hZ2UoKTt0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdCgiYmFja2dyb3VuZEltYWdlQ2hhbmdlZCIpKX07RWRpdG9yVWkucHJvdG90eXBlLmNvbmZpcm09ZnVuY3Rpb24oYSxjLGYpe214VXRpbHMuY29uZmlybShhKT9udWxsIT1jJiZjKCk6bnVsbCE9ZiYmZigpfTsKRWRpdG9yVWkucHJvdG90eXBlLmNyZWF0ZU91dGxpbmU9ZnVuY3Rpb24oYSl7dmFyIGM9bmV3IG14T3V0bGluZSh0aGlzLmVkaXRvci5ncmFwaCk7Yy5ib3JkZXI9MjA7bXhFdmVudC5hZGRMaXN0ZW5lcih3aW5kb3csInJlc2l6ZSIsZnVuY3Rpb24oKXtjLnVwZGF0ZSgpfSk7dGhpcy5hZGRMaXN0ZW5lcigicGFnZUZvcm1hdENoYW5nZWQiLGZ1bmN0aW9uKCl7Yy51cGRhdGUoKX0pO3JldHVybiBjfTtFZGl0b3JVaS5wcm90b3R5cGUuYWx0U2hpZnRBY3Rpb25zPXs2NzoiY2xlYXJXYXlwb2ludHMiLDY1OiJjb25uZWN0aW9uQXJyb3dzIiw3NjoiZWRpdExpbmsiLDgwOiJjb25uZWN0aW9uUG9pbnRzIiw4NDoiZWRpdFRvb2x0aXAiLDg2OiJwYXN0ZVNpemUiLDg4OiJjb3B5U2l6ZSJ9OwpFZGl0b3JVaS5wcm90b3R5cGUuY3JlYXRlS2V5SGFuZGxlcj1mdW5jdGlvbihhKXtmdW5jdGlvbiBjKGEsZSxjKXtxLnB1c2goZnVuY3Rpb24oKXtpZighZC5pc1NlbGVjdGlvbkVtcHR5KCkmJmQuaXNFbmFibGVkKCkpaWYoZT1udWxsIT1lP2U6MSxjKXtkLmdldE1vZGVsKCkuYmVnaW5VcGRhdGUoKTt0cnl7Zm9yKHZhciBiPWQuZ2V0U2VsZWN0aW9uQ2VsbHMoKSxnPTA7ZzxiLmxlbmd0aDtnKyspaWYoZC5nZXRNb2RlbCgpLmlzVmVydGV4KGJbZ10pJiZkLmlzQ2VsbFJlc2l6YWJsZShiW2ddKSl7dmFyIGY9ZC5nZXRDZWxsR2VvbWV0cnkoYltnXSk7bnVsbCE9ZiYmKGY9Zi5jbG9uZSgpLDM3PT1hP2Yud2lkdGg9TWF0aC5tYXgoMCxmLndpZHRoLWUpOjM4PT1hP2YuaGVpZ2h0PU1hdGgubWF4KDAsZi5oZWlnaHQtZSk6Mzk9PWE/Zi53aWR0aCs9ZTo0MD09YSYmKGYuaGVpZ2h0Kz1lKSxkLmdldE1vZGVsKCkuc2V0R2VvbWV0cnkoYltnXSxmKSl9fWZpbmFsbHl7ZC5nZXRNb2RlbCgpLmVuZFVwZGF0ZSgpfX1lbHNle3ZhciBuPQpkLmdldFNlbGVjdGlvbkNlbGwoKSxmPWQubW9kZWwuZ2V0UGFyZW50KG4pLGI9bnVsbDsxPT1kLmdldFNlbGVjdGlvbkNvdW50KCkmJmQubW9kZWwuaXNWZXJ0ZXgobikmJm51bGwhPWQubGF5b3V0TWFuYWdlciYmIWQuaXNDZWxsTG9ja2VkKG4pJiYoYj1kLmxheW91dE1hbmFnZXIuZ2V0TGF5b3V0KGYpKTtpZihudWxsIT1iJiZiLmNvbnN0cnVjdG9yPT1teFN0YWNrTGF5b3V0KWI9Zi5nZXRJbmRleChuKSwzNz09YXx8Mzg9PWE/ZC5tb2RlbC5hZGQoZixuLE1hdGgubWF4KDAsYi0xKSk6MzkhPWEmJjQwIT1hfHxkLm1vZGVsLmFkZChmLG4sTWF0aC5taW4oZC5tb2RlbC5nZXRDaGlsZENvdW50KGYpLGIrMSkpO2Vsc2V7Yj1kLmdldE1vdmFibGVDZWxscyhkLmdldFNlbGVjdGlvbkNlbGxzKCkpO249W107Zm9yKGc9MDtnPGIubGVuZ3RoO2crKylmPWQuZ2V0Q3VycmVudENlbGxTdHlsZShiW2ddKSwiMSI9PW14VXRpbHMuZ2V0VmFsdWUoZiwicGFydCIsIjAiKT8oZj1kLm1vZGVsLmdldFBhcmVudChiW2ddKSwKZC5tb2RlbC5pc1ZlcnRleChmKSYmMD5teFV0aWxzLmluZGV4T2YoYixmKSYmbi5wdXNoKGYpKTpuLnB1c2goYltnXSk7MDxuLmxlbmd0aCYmKGI9Zj0wLDM3PT1hP2Y9LWU6Mzg9PWE/Yj0tZTozOT09YT9mPWU6NDA9PWEmJihiPWUpLGQubW92ZUNlbGxzKG4sZixiKSl9fX0pO251bGwhPWImJndpbmRvdy5jbGVhclRpbWVvdXQoYik7Yj13aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpe2lmKDA8cS5sZW5ndGgpe2QuZ2V0TW9kZWwoKS5iZWdpblVwZGF0ZSgpO3RyeXtmb3IodmFyIGE9MDthPHEubGVuZ3RoO2ErKylxW2FdKCk7cT1bXX1maW5hbGx5e2QuZ2V0TW9kZWwoKS5lbmRVcGRhdGUoKX19fSwyMDApfXZhciBmPXRoaXMsZD10aGlzLmVkaXRvci5ncmFwaCxrPW5ldyBteEtleUhhbmRsZXIoZCksbT1rLmlzRXZlbnRJZ25vcmVkO2suaXNFdmVudElnbm9yZWQ9ZnVuY3Rpb24oYSl7cmV0dXJuIShteEV2ZW50LmlzU2hpZnREb3duKGEpJiY5PT1hLmtleUNvZGUpJiYoIXRoaXMuaXNDb250cm9sRG93bihhKXx8Cm14RXZlbnQuaXNTaGlmdERvd24oYSl8fDkwIT1hLmtleUNvZGUmJjg5IT1hLmtleUNvZGUmJjE4OCE9YS5rZXlDb2RlJiYxOTAhPWEua2V5Q29kZSYmODUhPWEua2V5Q29kZSkmJig2NiE9YS5rZXlDb2RlJiY3MyE9YS5rZXlDb2RlfHwhdGhpcy5pc0NvbnRyb2xEb3duKGEpfHx0aGlzLmdyYXBoLmNlbGxFZGl0b3IuaXNDb250ZW50RWRpdGluZygpJiYhbXhDbGllbnQuSVNfRkYmJiFteENsaWVudC5JU19TRikmJm0uYXBwbHkodGhpcyxhcmd1bWVudHMpfTtrLmlzRW5hYmxlZEZvckV2ZW50PWZ1bmN0aW9uKGEpe3JldHVybiFteEV2ZW50LmlzQ29uc3VtZWQoYSkmJnRoaXMuaXNHcmFwaEV2ZW50KGEpJiZ0aGlzLmlzRW5hYmxlZCgpJiYobnVsbD09Zi5kaWFsb2dzfHwwPT1mLmRpYWxvZ3MubGVuZ3RoKX07ay5pc0NvbnRyb2xEb3duPWZ1bmN0aW9uKGEpe3JldHVybiBteEV2ZW50LmlzQ29udHJvbERvd24oYSl8fG14Q2xpZW50LklTX01BQyYmYS5tZXRhS2V5fTt2YXIgcT1bXSxiPQpudWxsLGU9ezM3Om14Q29uc3RhbnRzLkRJUkVDVElPTl9XRVNULDM4Om14Q29uc3RhbnRzLkRJUkVDVElPTl9OT1JUSCwzOTpteENvbnN0YW50cy5ESVJFQ1RJT05fRUFTVCw0MDpteENvbnN0YW50cy5ESVJFQ1RJT05fU09VVEh9LGc9ay5nZXRGdW5jdGlvbjtteEtleUhhbmRsZXIucHJvdG90eXBlLmdldEZ1bmN0aW9uPWZ1bmN0aW9uKGEpe2lmKGQuaXNFbmFibGVkKCkpe2lmKG14RXZlbnQuaXNTaGlmdERvd24oYSkmJm14RXZlbnQuaXNBbHREb3duKGEpKXt2YXIgYj1mLmFjdGlvbnMuZ2V0KGYuYWx0U2hpZnRBY3Rpb25zW2Eua2V5Q29kZV0pO2lmKG51bGwhPWIpcmV0dXJuIGIuZnVuY3R9aWYoOT09YS5rZXlDb2RlJiZteEV2ZW50LmlzQWx0RG93bihhKSlyZXR1cm4gZC5jZWxsRWRpdG9yLmlzQ29udGVudEVkaXRpbmcoKT9mdW5jdGlvbigpe2RvY3VtZW50LmV4ZWNDb21tYW5kKCJvdXRkZW50IiwhMSxudWxsKX06bXhFdmVudC5pc1NoaWZ0RG93bihhKT9mdW5jdGlvbigpe2Quc2VsZWN0UGFyZW50Q2VsbCgpfToKZnVuY3Rpb24oKXtkLnNlbGVjdENoaWxkQ2VsbCgpfTtpZihudWxsIT1lW2Eua2V5Q29kZV0mJiFkLmlzU2VsZWN0aW9uRW1wdHkoKSlpZighdGhpcy5pc0NvbnRyb2xEb3duKGEpJiZteEV2ZW50LmlzU2hpZnREb3duKGEpJiZteEV2ZW50LmlzQWx0RG93bihhKSl7aWYoZC5tb2RlbC5pc1ZlcnRleChkLmdldFNlbGVjdGlvbkNlbGwoKSkpcmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGI9ZC5jb25uZWN0VmVydGV4KGQuZ2V0U2VsZWN0aW9uQ2VsbCgpLGVbYS5rZXlDb2RlXSxkLmRlZmF1bHRFZGdlTGVuZ3RoLGEsITApO251bGwhPWImJjA8Yi5sZW5ndGgmJigxPT1iLmxlbmd0aCYmZC5tb2RlbC5pc0VkZ2UoYlswXSk/ZC5zZXRTZWxlY3Rpb25DZWxsKGQubW9kZWwuZ2V0VGVybWluYWwoYlswXSwhMSkpOmQuc2V0U2VsZWN0aW9uQ2VsbChiW2IubGVuZ3RoLTFdKSxkLnNjcm9sbENlbGxUb1Zpc2libGUoZC5nZXRTZWxlY3Rpb25DZWxsKCkpLG51bGwhPWYuaG92ZXJJY29ucyYmZi5ob3Zlckljb25zLnVwZGF0ZShkLnZpZXcuZ2V0U3RhdGUoZC5nZXRTZWxlY3Rpb25DZWxsKCkpKSl9fWVsc2UgcmV0dXJuIHRoaXMuaXNDb250cm9sRG93bihhKT8KZnVuY3Rpb24oKXtjKGEua2V5Q29kZSxteEV2ZW50LmlzU2hpZnREb3duKGEpP2QuZ3JpZFNpemU6bnVsbCwhMCl9OmZ1bmN0aW9uKCl7YyhhLmtleUNvZGUsbXhFdmVudC5pc1NoaWZ0RG93bihhKT9kLmdyaWRTaXplOm51bGwpfX1yZXR1cm4gZy5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O2suYmluZEFjdGlvbj1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhLGIsZSxkKXt2YXIgYz10aGlzLmFjdGlvbnMuZ2V0KGUpO251bGwhPWMmJihlPWZ1bmN0aW9uKCl7Yy5pc0VuYWJsZWQoKSYmYy5mdW5jdCgpfSxiP2Q/ay5iaW5kQ29udHJvbFNoaWZ0S2V5KGEsZSk6ay5iaW5kQ29udHJvbEtleShhLGUpOmQ/ay5iaW5kU2hpZnRLZXkoYSxlKTprLmJpbmRLZXkoYSxlKSl9KTt2YXIgbj10aGlzLGw9ay5lc2NhcGU7ay5lc2NhcGU9ZnVuY3Rpb24oYSl7bC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O2suZW50ZXI9ZnVuY3Rpb24oKXt9O2suYmluZENvbnRyb2xTaGlmdEtleSgzNixmdW5jdGlvbigpe2QuZXhpdEdyb3VwKCl9KTsKay5iaW5kQ29udHJvbFNoaWZ0S2V5KDM1LGZ1bmN0aW9uKCl7ZC5lbnRlckdyb3VwKCl9KTtrLmJpbmRTaGlmdEtleSgzNixmdW5jdGlvbigpe2QuaG9tZSgpfSk7ay5iaW5kS2V5KDM1LGZ1bmN0aW9uKCl7ZC5yZWZyZXNoKCl9KTtrLmJpbmRBY3Rpb24oMTA3LCEwLCJ6b29tSW4iKTtrLmJpbmRBY3Rpb24oMTA5LCEwLCJ6b29tT3V0Iik7ay5iaW5kQWN0aW9uKDgwLCEwLCJwcmludCIpO2suYmluZEFjdGlvbig3OSwhMCwib3V0bGluZSIsITApO2lmKCF0aGlzLmVkaXRvci5jaHJvbWVsZXNzfHx0aGlzLmVkaXRvci5lZGl0YWJsZSlrLmJpbmRDb250cm9sS2V5KDM2LGZ1bmN0aW9uKCl7ZC5pc0VuYWJsZWQoKSYmZC5mb2xkQ2VsbHMoITApfSksay5iaW5kQ29udHJvbEtleSgzNSxmdW5jdGlvbigpe2QuaXNFbmFibGVkKCkmJmQuZm9sZENlbGxzKCExKX0pLGsuYmluZENvbnRyb2xLZXkoMTMsZnVuY3Rpb24oKXtuLmN0cmxFbnRlcigpfSksay5iaW5kQWN0aW9uKDgsITEsImRlbGV0ZSIpLAprLmJpbmRBY3Rpb24oOCwhMCwiZGVsZXRlQWxsIiksay5iaW5kQWN0aW9uKDQ2LCExLCJkZWxldGUiKSxrLmJpbmRBY3Rpb24oNDYsITAsImRlbGV0ZUFsbCIpLGsuYmluZEFjdGlvbigzNiwhMSwicmVzZXRWaWV3Iiksay5iaW5kQWN0aW9uKDcyLCEwLCJmaXRXaW5kb3ciLCEwKSxrLmJpbmRBY3Rpb24oNzQsITAsImZpdFBhZ2UiKSxrLmJpbmRBY3Rpb24oNzQsITAsImZpdFR3b1BhZ2VzIiwhMCksay5iaW5kQWN0aW9uKDQ4LCEwLCJjdXN0b21ab29tIiksay5iaW5kQWN0aW9uKDgyLCEwLCJ0dXJuIiksay5iaW5kQWN0aW9uKDgyLCEwLCJjbGVhckRlZmF1bHRTdHlsZSIsITApLGsuYmluZEFjdGlvbig4MywhMCwic2F2ZSIpLGsuYmluZEFjdGlvbig4MywhMCwic2F2ZUFzIiwhMCksay5iaW5kQWN0aW9uKDY1LCEwLCJzZWxlY3RBbGwiKSxrLmJpbmRBY3Rpb24oNjUsITAsInNlbGVjdE5vbmUiLCEwKSxrLmJpbmRBY3Rpb24oNzMsITAsInNlbGVjdFZlcnRpY2VzIiwhMCksay5iaW5kQWN0aW9uKDY5LAohMCwic2VsZWN0RWRnZXMiLCEwKSxrLmJpbmRBY3Rpb24oNjksITAsImVkaXRTdHlsZSIpLGsuYmluZEFjdGlvbig2NiwhMCwiYm9sZCIpLGsuYmluZEFjdGlvbig2NiwhMCwidG9CYWNrIiwhMCksay5iaW5kQWN0aW9uKDcwLCEwLCJ0b0Zyb250IiwhMCksay5iaW5kQWN0aW9uKDY4LCEwLCJkdXBsaWNhdGUiKSxrLmJpbmRBY3Rpb24oNjgsITAsInNldEFzRGVmYXVsdFN0eWxlIiwhMCksay5iaW5kQWN0aW9uKDkwLCEwLCJ1bmRvIiksay5iaW5kQWN0aW9uKDg5LCEwLCJhdXRvc2l6ZSIsITApLGsuYmluZEFjdGlvbig4OCwhMCwiY3V0Iiksay5iaW5kQWN0aW9uKDY3LCEwLCJjb3B5Iiksay5iaW5kQWN0aW9uKDg2LCEwLCJwYXN0ZSIpLGsuYmluZEFjdGlvbig3MSwhMCwiZ3JvdXAiKSxrLmJpbmRBY3Rpb24oNzcsITAsImVkaXREYXRhIiksay5iaW5kQWN0aW9uKDcxLCEwLCJncmlkIiwhMCksay5iaW5kQWN0aW9uKDczLCEwLCJpdGFsaWMiKSxrLmJpbmRBY3Rpb24oNzYsITAsImxvY2tVbmxvY2siKSwKay5iaW5kQWN0aW9uKDc2LCEwLCJsYXllcnMiLCEwKSxrLmJpbmRBY3Rpb24oODAsITAsImZvcm1hdFBhbmVsIiwhMCksay5iaW5kQWN0aW9uKDg1LCEwLCJ1bmRlcmxpbmUiKSxrLmJpbmRBY3Rpb24oODUsITAsInVuZ3JvdXAiLCEwKSxrLmJpbmRBY3Rpb24oMTkwLCEwLCJzdXBlcnNjcmlwdCIpLGsuYmluZEFjdGlvbigxODgsITAsInN1YnNjcmlwdCIpLGsuYmluZEFjdGlvbig5LCExLCJpbmRlbnQiLCEwKSxrLmJpbmRLZXkoMTMsZnVuY3Rpb24oKXtkLmlzRW5hYmxlZCgpJiZkLnN0YXJ0RWRpdGluZ0F0Q2VsbCgpfSksay5iaW5kS2V5KDExMyxmdW5jdGlvbigpe2QuaXNFbmFibGVkKCkmJmQuc3RhcnRFZGl0aW5nQXRDZWxsKCl9KTtteENsaWVudC5JU19XSU4/ay5iaW5kQWN0aW9uKDg5LCEwLCJyZWRvIik6ay5iaW5kQWN0aW9uKDkwLCEwLCJyZWRvIiwhMCk7cmV0dXJuIGt9OwpFZGl0b3JVaS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe251bGwhPXRoaXMuZWRpdG9yJiYodGhpcy5lZGl0b3IuZGVzdHJveSgpLHRoaXMuZWRpdG9yPW51bGwpO251bGwhPXRoaXMubWVudWJhciYmKHRoaXMubWVudWJhci5kZXN0cm95KCksdGhpcy5tZW51YmFyPW51bGwpO251bGwhPXRoaXMudG9vbGJhciYmKHRoaXMudG9vbGJhci5kZXN0cm95KCksdGhpcy50b29sYmFyPW51bGwpO251bGwhPXRoaXMuc2lkZWJhciYmKHRoaXMuc2lkZWJhci5kZXN0cm95KCksdGhpcy5zaWRlYmFyPW51bGwpO251bGwhPXRoaXMua2V5SGFuZGxlciYmKHRoaXMua2V5SGFuZGxlci5kZXN0cm95KCksdGhpcy5rZXlIYW5kbGVyPW51bGwpO251bGwhPXRoaXMua2V5ZG93bkhhbmRsZXImJihteEV2ZW50LnJlbW92ZUxpc3RlbmVyKGRvY3VtZW50LCJrZXlkb3duIix0aGlzLmtleWRvd25IYW5kbGVyKSx0aGlzLmtleWRvd25IYW5kbGVyPW51bGwpO251bGwhPXRoaXMua2V5dXBIYW5kbGVyJiYKKG14RXZlbnQucmVtb3ZlTGlzdGVuZXIoZG9jdW1lbnQsImtleXVwIix0aGlzLmtleXVwSGFuZGxlciksdGhpcy5rZXl1cEhhbmRsZXI9bnVsbCk7bnVsbCE9dGhpcy5yZXNpemVIYW5kbGVyJiYobXhFdmVudC5yZW1vdmVMaXN0ZW5lcih3aW5kb3csInJlc2l6ZSIsdGhpcy5yZXNpemVIYW5kbGVyKSx0aGlzLnJlc2l6ZUhhbmRsZXI9bnVsbCk7bnVsbCE9dGhpcy5nZXN0dXJlSGFuZGxlciYmKG14RXZlbnQucmVtb3ZlR2VzdHVyZUxpc3RlbmVycyhkb2N1bWVudCx0aGlzLmdlc3R1cmVIYW5kbGVyKSx0aGlzLmdlc3R1cmVIYW5kbGVyPW51bGwpO251bGwhPXRoaXMub3JpZW50YXRpb25DaGFuZ2VIYW5kbGVyJiYobXhFdmVudC5yZW1vdmVMaXN0ZW5lcih3aW5kb3csIm9yaWVudGF0aW9uY2hhbmdlIix0aGlzLm9yaWVudGF0aW9uQ2hhbmdlSGFuZGxlciksdGhpcy5vcmllbnRhdGlvbkNoYW5nZUhhbmRsZXI9bnVsbCk7bnVsbCE9dGhpcy5zY3JvbGxIYW5kbGVyJiYobXhFdmVudC5yZW1vdmVMaXN0ZW5lcih3aW5kb3csCiJzY3JvbGwiLHRoaXMuc2Nyb2xsSGFuZGxlciksdGhpcy5zY3JvbGxIYW5kbGVyPW51bGwpO2lmKG51bGwhPXRoaXMuZGVzdHJveUZ1bmN0aW9ucyl7Zm9yKHZhciBhPTA7YTx0aGlzLmRlc3Ryb3lGdW5jdGlvbnMubGVuZ3RoO2ErKyl0aGlzLmRlc3Ryb3lGdW5jdGlvbnNbYV0oKTt0aGlzLmRlc3Ryb3lGdW5jdGlvbnM9bnVsbH1mb3IodmFyIGM9W3RoaXMubWVudWJhckNvbnRhaW5lcix0aGlzLnRvb2xiYXJDb250YWluZXIsdGhpcy5zaWRlYmFyQ29udGFpbmVyLHRoaXMuZm9ybWF0Q29udGFpbmVyLHRoaXMuZGlhZ3JhbUNvbnRhaW5lcix0aGlzLmZvb3RlckNvbnRhaW5lcix0aGlzLmNocm9tZWxlc3NUb29sYmFyLHRoaXMuaHNwbGl0LHRoaXMuc2lkZWJhckZvb3RlckNvbnRhaW5lcix0aGlzLmxheWVyc0RpYWxvZ10sYT0wO2E8Yy5sZW5ndGg7YSsrKW51bGwhPWNbYV0mJm51bGwhPWNbYV0ucGFyZW50Tm9kZSYmY1thXS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGNbYV0pfTsidW5kZWZpbmVkIiE9PXR5cGVvZiBodG1sNCYmKGh0bWw0LkFUVFJJQlNbImE6OnRhcmdldCJdPTAsaHRtbDQuQVRUUklCU1sic291cmNlOjpzcmMiXT0wLGh0bWw0LkFUVFJJQlNbInZpZGVvOjpzcmMiXT0wKTsoZnVuY3Rpb24oKXt2YXIgYT1bWyJuYnNwIiwiMTYwIl0sWyJzaHkiLCIxNzMiXV0sYz1teFV0aWxzLnBhcnNlWG1sO214VXRpbHMucGFyc2VYbWw9ZnVuY3Rpb24oZil7Zm9yKHZhciBkPTA7ZDxhLmxlbmd0aDtkKyspZj1mLnJlcGxhY2UobmV3IFJlZ0V4cCgiJiIrYVtkXVswXSsiOyIsImciKSwiJiMiK2FbZF1bMV0rIjsiKTtyZXR1cm4gYyhmKX19KSgpOwpEYXRlLnByb3RvdHlwZS50b0lTT1N0cmluZ3x8ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEpe2E9U3RyaW5nKGEpOzE9PT1hLmxlbmd0aCYmKGE9IjAiK2EpO3JldHVybiBhfURhdGUucHJvdG90eXBlLnRvSVNPU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0VVRDRnVsbFllYXIoKSsiLSIrYSh0aGlzLmdldFVUQ01vbnRoKCkrMSkrIi0iK2EodGhpcy5nZXRVVENEYXRlKCkpKyJUIithKHRoaXMuZ2V0VVRDSG91cnMoKSkrIjoiK2EodGhpcy5nZXRVVENNaW51dGVzKCkpKyI6IithKHRoaXMuZ2V0VVRDU2Vjb25kcygpKSsiLiIrU3RyaW5nKCh0aGlzLmdldFVUQ01pbGxpc2Vjb25kcygpLzFFMykudG9GaXhlZCgzKSkuc2xpY2UoMiw1KSsiWiJ9fSgpO0RhdGUubm93fHwoRGF0ZS5ub3c9ZnVuY3Rpb24oKXtyZXR1cm4obmV3IERhdGUpLmdldFRpbWUoKX0pO214Q29uc3RhbnRzLlBPSU5UUz0xO214Q29uc3RhbnRzLk1JTExJTUVURVJTPTI7bXhDb25zdGFudHMuSU5DSEVTPTM7Cm14Q29uc3RhbnRzLlBJWEVMU19QRVJfTU09My45Mzc7bXhDb25zdGFudHMuUElYRUxTX1BFUl9JTkNIPTEwMDtteENvbnN0YW50cy5TSEFET1dfT1BBQ0lUWT0uMjU7bXhDb25zdGFudHMuU0hBRE9XQ09MT1I9IiMwMDAwMDAiO214Q29uc3RhbnRzLlZNTF9TSEFET1dDT0xPUj0iI2QwZDBkMCI7bXhHcmFwaC5wcm90b3R5cGUucGFnZUJyZWFrQ29sb3I9IiNjMGMwYzAiO214R3JhcGgucHJvdG90eXBlLnBhZ2VTY2FsZT0xOyhmdW5jdGlvbigpe3RyeXtpZihudWxsIT1uYXZpZ2F0b3ImJm51bGwhPW5hdmlnYXRvci5sYW5ndWFnZSl7dmFyIGE9bmF2aWdhdG9yLmxhbmd1YWdlLnRvTG93ZXJDYXNlKCk7bXhHcmFwaC5wcm90b3R5cGUucGFnZUZvcm1hdD0iZW4tdXMiPT09YXx8ImVuLWNhIj09PWF8fCJlcy1teCI9PT1hP214Q29uc3RhbnRzLlBBR0VfRk9STUFUX0xFVFRFUl9QT1JUUkFJVDpteENvbnN0YW50cy5QQUdFX0ZPUk1BVF9BNF9QT1JUUkFJVH19Y2F0Y2goYyl7fX0pKCk7Cm14VGV4dC5wcm90b3R5cGUuYmFzZVNwYWNpbmdUb3A9NTtteFRleHQucHJvdG90eXBlLmJhc2VTcGFjaW5nQm90dG9tPTE7bXhHcmFwaE1vZGVsLnByb3RvdHlwZS5pZ25vcmVSZWxhdGl2ZUVkZ2VQYXJlbnQ9ITE7bXhHcmFwaFZpZXcucHJvdG90eXBlLmdyaWRJbWFnZT1teENsaWVudC5JU19TVkc/ImRhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCxSMGxHT0RsaENnQUtBSkVBQUFBQUFQLy8vOHpNelAvLy95SDVCQUVBQUFNQUxBQUFBQUFLQUFvQUFBSUoxSTZweSswUG8yd0ZBRHM9IjpJTUFHRV9QQVRIKyIvZ3JpZC5naWYiO214R3JhcGhWaWV3LnByb3RvdHlwZS5ncmlkU3RlcHM9NDtteEdyYXBoVmlldy5wcm90b3R5cGUubWluR3JpZFNpemU9NDtteEdyYXBoVmlldy5wcm90b3R5cGUuZGVmYXVsdEdyaWRDb2xvcj0iI2QwZDBkMCI7bXhHcmFwaFZpZXcucHJvdG90eXBlLmdyaWRDb2xvcj1teEdyYXBoVmlldy5wcm90b3R5cGUuZGVmYXVsdEdyaWRDb2xvcjsKbXhHcmFwaFZpZXcucHJvdG90eXBlLnVuaXQ9bXhDb25zdGFudHMuUE9JTlRTO214R3JhcGhWaWV3LnByb3RvdHlwZS5zZXRVbml0PWZ1bmN0aW9uKGEpe3RoaXMudW5pdCE9YSYmKHRoaXMudW5pdD1hLHRoaXMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KCJ1bml0Q2hhbmdlZCIsInVuaXQiLGEpKSl9O214U3ZnQ2FudmFzMkQucHJvdG90eXBlLmZvQWx0VGV4dD0iW05vdCBzdXBwb3J0ZWQgYnkgdmlld2VyXSI7bXhTaGFwZS5wcm90b3R5cGUuZ2V0Q29uc3RyYWludHM9ZnVuY3Rpb24oYSxjLGYpe3JldHVybiBudWxsfTsKR3JhcGg9ZnVuY3Rpb24oYSxjLGYsZCxrLG0pe214R3JhcGguY2FsbCh0aGlzLGEsYyxmLGQpO3RoaXMudGhlbWVzPWt8fHRoaXMuZGVmYXVsdFRoZW1lczt0aGlzLmN1cnJlbnRFZGdlU3R5bGU9bXhVdGlscy5jbG9uZSh0aGlzLmRlZmF1bHRFZGdlU3R5bGUpO3RoaXMuY3VycmVudFZlcnRleFN0eWxlPW14VXRpbHMuY2xvbmUodGhpcy5kZWZhdWx0VmVydGV4U3R5bGUpO3RoaXMuc3RhbmRhbG9uZT1udWxsIT1tP206ITE7YT10aGlzLmJhc2VVcmw7Yz1hLmluZGV4T2YoIi8vIik7dGhpcy5kb21haW5QYXRoVXJsPXRoaXMuZG9tYWluVXJsPSIiOzA8YyYmKGM9YS5pbmRleE9mKCIvIixjKzIpLDA8YyYmKHRoaXMuZG9tYWluVXJsPWEuc3Vic3RyaW5nKDAsYykpLGM9YS5sYXN0SW5kZXhPZigiLyIpLDA8YyYmKHRoaXMuZG9tYWluUGF0aFVybD1hLnN1YnN0cmluZygwLGMrMSkpKTt0aGlzLmlzSHRtbExhYmVsPWZ1bmN0aW9uKGEpe2E9dGhpcy5nZXRDdXJyZW50Q2VsbFN0eWxlKGEpOwpyZXR1cm4gbnVsbCE9YT8iMSI9PWEuaHRtbHx8IndyYXAiPT1hW214Q29uc3RhbnRzLlNUWUxFX1dISVRFX1NQQUNFXTohMX07aWYodGhpcy5lZGdlTW9kZSl7dmFyIHE9bnVsbCxiPW51bGwsZT1udWxsLGc9bnVsbCxuPSExO3RoaXMuYWRkTGlzdGVuZXIobXhFdmVudC5GSVJFX01PVVNFX0VWRU5ULG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEsZCl7aWYoIm1vdXNlRG93biI9PWQuZ2V0UHJvcGVydHkoImV2ZW50TmFtZSIpJiZ0aGlzLmlzRW5hYmxlZCgpKXt2YXIgYz1kLmdldFByb3BlcnR5KCJldmVudCIpLGY9Yy5nZXRTdGF0ZSgpO2lmKCFteEV2ZW50LmlzQWx0RG93bihjLmdldEV2ZW50KCkpJiZudWxsIT1mKWlmKHRoaXMubW9kZWwuaXNFZGdlKGYuY2VsbCkpaWYocT1uZXcgbXhQb2ludChjLmdldEdyYXBoWCgpLGMuZ2V0R3JhcGhZKCkpLG49dGhpcy5pc0NlbGxTZWxlY3RlZChmLmNlbGwpLGU9ZixiPWMsbnVsbCE9Zi50ZXh0JiZudWxsIT1mLnRleHQuYm91bmRpbmdCb3gmJgpteFV0aWxzLmNvbnRhaW5zKGYudGV4dC5ib3VuZGluZ0JveCxjLmdldEdyYXBoWCgpLGMuZ2V0R3JhcGhZKCkpKWc9bXhFdmVudC5MQUJFTF9IQU5ETEU7ZWxzZXt2YXIgbD10aGlzLnNlbGVjdGlvbkNlbGxzSGFuZGxlci5nZXRIYW5kbGVyKGYuY2VsbCk7bnVsbCE9bCYmbnVsbCE9bC5iZW5kcyYmMDxsLmJlbmRzLmxlbmd0aCYmKGc9bC5nZXRIYW5kbGVGb3JFdmVudChjKSl9ZWxzZSBpZighdGhpcy5wYW5uaW5nSGFuZGxlci5pc0FjdGl2ZSgpJiYobD10aGlzLnNlbGVjdGlvbkNlbGxzSGFuZGxlci5nZXRIYW5kbGVyKGYuY2VsbCksbnVsbD09bHx8bnVsbD09bC5nZXRIYW5kbGVGb3JFdmVudChjKSkpe3ZhciBwPW5ldyBteFJlY3RhbmdsZShjLmdldEdyYXBoWCgpLGMuZ2V0R3JhcGhZKCkpO3AuZ3JvdyhteFNoYXBlLnByb3RvdHlwZS5zdmdTdHJva2VUb2xlcmFuY2UtMSk7aWYodGhpcy5pc1RhYmxlQ2VsbChmLmNlbGwpKXt2YXIgbD10aGlzLm1vZGVsLmdldFBhcmVudChmLmNlbGwpLAp1PXRoaXMubW9kZWwuZ2V0UGFyZW50KGwpO2lmKG14VXRpbHMuaW50ZXJzZWN0cyhwLG5ldyBteFJlY3RhbmdsZShmLngsZi55LTEsZi53aWR0aCwxKSkmJnRoaXMubW9kZWwuZ2V0Q2hpbGRBdCh1LDApIT1sfHxteFV0aWxzLmludGVyc2VjdHMocCxuZXcgbXhSZWN0YW5nbGUoZi54LGYueStmLmhlaWdodC0xLGYud2lkdGgsMSkpfHxteFV0aWxzLmludGVyc2VjdHMocCxuZXcgbXhSZWN0YW5nbGUoZi54LTEsZi55LDEsZi5oZWlnaHQpKSYmdGhpcy5tb2RlbC5nZXRDaGlsZEF0KGwsMCkhPWYuY2VsbHx8bXhVdGlscy5pbnRlcnNlY3RzKHAsbmV3IG14UmVjdGFuZ2xlKGYueCtmLndpZHRoLTEsZi55LDEsZi5oZWlnaHQpKSl0aGlzLnNlbGVjdENlbGxGb3JFdmVudCh1LGMuZ2V0RXZlbnQoKSksbD10aGlzLnNlbGVjdGlvbkNlbGxzSGFuZGxlci5nZXRIYW5kbGVyKHUpLG51bGwhPWwmJih1PWwuZ2V0SGFuZGxlRm9yRXZlbnQoYyksbnVsbCE9dSYmKGwuc3RhcnQoYy5nZXRHcmFwaFgoKSwKYy5nZXRHcmFwaFkoKSx1KSxjLmNvbnN1bWUoKSkpfWZvcig7IWMuaXNDb25zdW1lZCgpJiZudWxsIT1mJiYodGhpcy5pc1RhYmxlQ2VsbChmLmNlbGwpfHx0aGlzLmlzVGFibGVSb3coZi5jZWxsKXx8dGhpcy5pc1RhYmxlKGYuY2VsbCkpOyl0aGlzLmlzU3dpbWxhbmUoZi5jZWxsKSYmKGw9dGhpcy5nZXRBY3R1YWxTdGFydFNpemUoZi5jZWxsKSwoMDxsLnh8fDA8bC53aWR0aCkmJm14VXRpbHMuaW50ZXJzZWN0cyhwLG5ldyBteFJlY3RhbmdsZShmLngrbC54LWwud2lkdGgtMSsoMD09bC54P2Yud2lkdGg6MCksZi55LDEsZi5oZWlnaHQpKXx8KDA8bC55fHwwPGwuaGVpZ2h0KSYmbXhVdGlscy5pbnRlcnNlY3RzKHAsbmV3IG14UmVjdGFuZ2xlKGYueCxmLnkrbC55LWwuaGVpZ2h0LTErKDA9PWwueT9mLmhlaWdodDowKSxmLndpZHRoLDEpKSkmJih0aGlzLnNlbGVjdENlbGxGb3JFdmVudChmLmNlbGwsYy5nZXRFdmVudCgpKSxsPXRoaXMuc2VsZWN0aW9uQ2VsbHNIYW5kbGVyLmdldEhhbmRsZXIoZi5jZWxsKSwKbnVsbCE9bCYmKHU9bXhFdmVudC5DVVNUT01fSEFORExFLWwuY3VzdG9tSGFuZGxlcy5sZW5ndGgrMSxsLnN0YXJ0KGMuZ2V0R3JhcGhYKCksYy5nZXRHcmFwaFkoKSx1KSxjLmNvbnN1bWUoKSkpLGY9dGhpcy52aWV3LmdldFN0YXRlKHRoaXMubW9kZWwuZ2V0UGFyZW50KGYuY2VsbCkpfX19KSk7dGhpcy5hZGRNb3VzZUxpc3RlbmVyKHttb3VzZURvd246ZnVuY3Rpb24oYSxiKXt9LG1vdXNlTW92ZTpteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhLGQpe3ZhciBjPXRoaXMuc2VsZWN0aW9uQ2VsbHNIYW5kbGVyLmhhbmRsZXJzLm1hcCxmO2ZvcihmIGluIGMpaWYobnVsbCE9Y1tmXS5pbmRleClyZXR1cm47aWYodGhpcy5pc0VuYWJsZWQoKSYmIXRoaXMucGFubmluZ0hhbmRsZXIuaXNBY3RpdmUoKSYmIW14RXZlbnQuaXNBbHREb3duKGQuZ2V0RXZlbnQoKSkpaWYoZj10aGlzLnRvbGVyYW5jZSxudWxsIT1xJiZudWxsIT1lJiZudWxsIT1iKXtpZihjPWUsTWF0aC5hYnMocS54LWQuZ2V0R3JhcGhYKCkpPgpmfHxNYXRoLmFicyhxLnktZC5nZXRHcmFwaFkoKSk+Zil7dGhpcy5pc0NlbGxTZWxlY3RlZChjLmNlbGwpfHx0aGlzLnNlbGVjdENlbGxGb3JFdmVudChjLmNlbGwsZC5nZXRFdmVudCgpKTt2YXIgbD10aGlzLnNlbGVjdGlvbkNlbGxzSGFuZGxlci5nZXRIYW5kbGVyKGMuY2VsbCk7aWYobnVsbCE9bCYmbnVsbCE9bC5iZW5kcyYmMDxsLmJlbmRzLmxlbmd0aCl7Zj1sLmdldEhhbmRsZUZvckV2ZW50KGIpO3ZhciBwPXRoaXMudmlldy5nZXRFZGdlU3R5bGUoYyksdT1wPT1teEVkZ2VTdHlsZS5FbnRpdHlSZWxhdGlvbjtufHxnIT1teEV2ZW50LkxBQkVMX0hBTkRMRXx8KGY9Zyk7aWYodSYmMCE9ZiYmZiE9bC5iZW5kcy5sZW5ndGgtMSYmZiE9bXhFdmVudC5MQUJFTF9IQU5ETEUpIXV8fG51bGw9PWMudmlzaWJsZVNvdXJjZVN0YXRlJiZudWxsPT1jLnZpc2libGVUYXJnZXRTdGF0ZXx8KHRoaXMuZ3JhcGhIYW5kbGVyLnJlc2V0KCksZC5jb25zdW1lKCkpO2Vsc2UgaWYoZj09bXhFdmVudC5MQUJFTF9IQU5ETEV8fAowPT1mfHxudWxsIT1jLnZpc2libGVTb3VyY2VTdGF0ZXx8Zj09bC5iZW5kcy5sZW5ndGgtMXx8bnVsbCE9Yy52aXNpYmxlVGFyZ2V0U3RhdGUpdXx8Zj09bXhFdmVudC5MQUJFTF9IQU5ETEV8fCh1PWMuYWJzb2x1dGVQb2ludHMsbnVsbCE9dSYmKG51bGw9PXAmJm51bGw9PWZ8fHA9PW14RWRnZVN0eWxlLk9ydGhDb25uZWN0b3IpJiYoZj1nLG51bGw9PWYmJihmPW5ldyBteFJlY3RhbmdsZShxLngscS55KSxmLmdyb3cobXhFZGdlSGFuZGxlci5wcm90b3R5cGUuaGFuZGxlSW1hZ2Uud2lkdGgvMiksbXhVdGlscy5jb250YWlucyhmLHVbMF0ueCx1WzBdLnkpP2Y9MDpteFV0aWxzLmNvbnRhaW5zKGYsdVt1Lmxlbmd0aC0xXS54LHVbdS5sZW5ndGgtMV0ueSk/Zj1sLmJlbmRzLmxlbmd0aC0xOm51bGwhPXAmJigyPT11Lmxlbmd0aHx8Mz09dS5sZW5ndGgmJigwPT1NYXRoLnJvdW5kKHVbMF0ueC11WzFdLngpJiYwPT1NYXRoLnJvdW5kKHVbMV0ueC11WzJdLngpfHwwPT1NYXRoLnJvdW5kKHVbMF0ueS0KdVsxXS55KSYmMD09TWF0aC5yb3VuZCh1WzFdLnktdVsyXS55KSkpP2Y9MjooZj1teFV0aWxzLmZpbmROZWFyZXN0U2VnbWVudChjLHEueCxxLnkpLGY9bnVsbD09cD9teEV2ZW50LlZJUlRVQUxfSEFORExFLWY6ZisxKSkpLG51bGw9PWYmJihmPW14RXZlbnQuVklSVFVBTF9IQU5ETEUpKSxsLnN0YXJ0KGQuZ2V0R3JhcGhYKCksZC5nZXRHcmFwaFgoKSxmKSxnPXE9Yj1lPW51bGwsbj0hMSxkLmNvbnN1bWUoKSx0aGlzLmdyYXBoSGFuZGxlci5yZXNldCgpfX19ZWxzZSBpZihjPWQuZ2V0U3RhdGUoKSxudWxsIT1jKXtsPW51bGw7aWYodGhpcy5tb2RlbC5pc0VkZ2UoYy5jZWxsKSl7aWYoZj1uZXcgbXhSZWN0YW5nbGUoZC5nZXRHcmFwaFgoKSxkLmdldEdyYXBoWSgpKSxmLmdyb3cobXhFZGdlSGFuZGxlci5wcm90b3R5cGUuaGFuZGxlSW1hZ2Uud2lkdGgvMiksdT1jLmFic29sdXRlUG9pbnRzLG51bGwhPXUpaWYobnVsbCE9Yy50ZXh0JiZudWxsIT1jLnRleHQuYm91bmRpbmdCb3gmJgpteFV0aWxzLmNvbnRhaW5zKGMudGV4dC5ib3VuZGluZ0JveCxkLmdldEdyYXBoWCgpLGQuZ2V0R3JhcGhZKCkpKWw9Im1vdmUiO2Vsc2UgaWYobXhVdGlscy5jb250YWlucyhmLHVbMF0ueCx1WzBdLnkpfHxteFV0aWxzLmNvbnRhaW5zKGYsdVt1Lmxlbmd0aC0xXS54LHVbdS5sZW5ndGgtMV0ueSkpbD0icG9pbnRlciI7ZWxzZSBpZihudWxsIT1jLnZpc2libGVTb3VyY2VTdGF0ZXx8bnVsbCE9Yy52aXNpYmxlVGFyZ2V0U3RhdGUpZj10aGlzLnZpZXcuZ2V0RWRnZVN0eWxlKGMpLGw9ImNyb3NzaGFpciIsZiE9bXhFZGdlU3R5bGUuRW50aXR5UmVsYXRpb24mJnRoaXMuaXNPcnRob2dvbmFsKGMpJiYoZj1teFV0aWxzLmZpbmROZWFyZXN0U2VnbWVudChjLGQuZ2V0R3JhcGhYKCksZC5nZXRHcmFwaFkoKSksZjx1Lmxlbmd0aC0xJiYwPD1mJiYobD0wPT1NYXRoLnJvdW5kKHVbZl0ueC11W2YrMV0ueCk/ImNvbC1yZXNpemUiOiJyb3ctcmVzaXplIikpfWVsc2V7Zj1uZXcgbXhSZWN0YW5nbGUoZC5nZXRHcmFwaFgoKSwKZC5nZXRHcmFwaFkoKSk7Zi5ncm93KG14U2hhcGUucHJvdG90eXBlLnN2Z1N0cm9rZVRvbGVyYW5jZS0xKTtpZih0aGlzLmlzVGFibGVDZWxsKGMuY2VsbCkpaWYodT10aGlzLm1vZGVsLmdldFBhcmVudChjLmNlbGwpLHA9dGhpcy5tb2RlbC5nZXRQYXJlbnQodSksbXhVdGlscy5pbnRlcnNlY3RzKGYsbmV3IG14UmVjdGFuZ2xlKGMueC0xLGMueSwxLGMuaGVpZ2h0KSkmJnRoaXMubW9kZWwuZ2V0Q2hpbGRBdCh1LDApIT1jLmNlbGx8fG14VXRpbHMuaW50ZXJzZWN0cyhmLG5ldyBteFJlY3RhbmdsZShjLngrYy53aWR0aC0xLGMueSwxLGMuaGVpZ2h0KSkpbD0iY29sLXJlc2l6ZSI7ZWxzZSBpZihteFV0aWxzLmludGVyc2VjdHMoZixuZXcgbXhSZWN0YW5nbGUoYy54LGMueS0xLGMud2lkdGgsMSkpJiZ0aGlzLm1vZGVsLmdldENoaWxkQXQocCwwKSE9dXx8bXhVdGlscy5pbnRlcnNlY3RzKGYsbmV3IG14UmVjdGFuZ2xlKGMueCxjLnkrYy5oZWlnaHQtMSxjLndpZHRoLDEpKSlsPSJyb3ctcmVzaXplIjsKZm9yKHU9YztudWxsPT1sJiZudWxsIT11JiYodGhpcy5pc1RhYmxlQ2VsbCh1LmNlbGwpfHx0aGlzLmlzVGFibGVSb3codS5jZWxsKXx8dGhpcy5pc1RhYmxlKHUuY2VsbCkpOyl0aGlzLmlzU3dpbWxhbmUodS5jZWxsKSYmKHA9dGhpcy5nZXRBY3R1YWxTdGFydFNpemUodS5jZWxsKSwoMDxwLnh8fDA8cC53aWR0aCkmJm14VXRpbHMuaW50ZXJzZWN0cyhmLG5ldyBteFJlY3RhbmdsZSh1LngrcC54LXAud2lkdGgtMSsoMD09cC54P3Uud2lkdGg6MCksdS55LDEsdS5oZWlnaHQpKT9sPSJjb2wtcmVzaXplIjooMDxwLnl8fDA8cC5oZWlnaHQpJiZteFV0aWxzLmludGVyc2VjdHMoZixuZXcgbXhSZWN0YW5nbGUodS54LHUueStwLnktcC5oZWlnaHQtMSsoMD09cC55P3UuaGVpZ2h0OjApLHUud2lkdGgsMSkpJiYobD0icm93LXJlc2l6ZSIpKSx1PXRoaXMudmlldy5nZXRTdGF0ZSh0aGlzLm1vZGVsLmdldFBhcmVudCh1LmNlbGwpKX1udWxsIT1sJiZjLnNldEN1cnNvcihsKX19KSxtb3VzZVVwOm14VXRpbHMuYmluZCh0aGlzLApmdW5jdGlvbihhLGQpe2c9cT1iPWU9bnVsbH0pfSl9dGhpcy5jZWxsUmVuZGVyZXIuZ2V0TGFiZWxWYWx1ZT1mdW5jdGlvbihhKXt2YXIgYj1teENlbGxSZW5kZXJlci5wcm90b3R5cGUuZ2V0TGFiZWxWYWx1ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7YS52aWV3LmdyYXBoLmlzSHRtbExhYmVsKGEuY2VsbCkmJihiPTEhPWEuc3R5bGUuaHRtbD9teFV0aWxzLmh0bWxFbnRpdGllcyhiLCExKTphLnZpZXcuZ3JhcGguc2FuaXRpemVIdG1sKGIpKTtyZXR1cm4gYn07aWYoInVuZGVmaW5lZCIhPT10eXBlb2YgbXhWZXJ0ZXhIYW5kbGVyKXt0aGlzLnNldENvbm5lY3RhYmxlKCEwKTt0aGlzLnNldERyb3BFbmFibGVkKCEwKTt0aGlzLnNldFBhbm5pbmcoITApO3RoaXMuc2V0VG9vbHRpcHMoITApO3RoaXMuc2V0QWxsb3dMb29wcyghMCk7dGhpcy5hbGxvd0F1dG9QYW5uaW5nPSEwO3RoaXMuY29uc3RyYWluQ2hpbGRyZW49dGhpcy5yZXNldEVkZ2VzT25Db25uZWN0PSExO3RoaXMuY29uc3RyYWluUmVsYXRpdmVDaGlsZHJlbj0KITA7dGhpcy5ncmFwaEhhbmRsZXIuc2Nyb2xsT25Nb3ZlPSExO3RoaXMuZ3JhcGhIYW5kbGVyLnNjYWxlR3JpZD0hMDt0aGlzLmNvbm5lY3Rpb25IYW5kbGVyLnNldENyZWF0ZVRhcmdldCghMSk7dGhpcy5jb25uZWN0aW9uSGFuZGxlci5pbnNlcnRCZWZvcmVTb3VyY2U9ITA7dGhpcy5jb25uZWN0aW9uSGFuZGxlci5pc1ZhbGlkU291cmNlPWZ1bmN0aW9uKGEsYil7cmV0dXJuITF9O3RoaXMuYWx0ZXJuYXRlRWRnZVN0eWxlPSJ2ZXJ0aWNhbCI7bnVsbD09ZCYmdGhpcy5sb2FkU3R5bGVzaGVldCgpO3ZhciBsPXRoaXMuZ3JhcGhIYW5kbGVyLmdldEd1aWRlU3RhdGVzO3RoaXMuZ3JhcGhIYW5kbGVyLmdldEd1aWRlU3RhdGVzPWZ1bmN0aW9uKCl7dmFyIGE9bC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7aWYodGhpcy5ncmFwaC5wYWdlVmlzaWJsZSl7Zm9yKHZhciBiPVtdLGU9dGhpcy5ncmFwaC5wYWdlRm9ybWF0LGQ9dGhpcy5ncmFwaC5wYWdlU2NhbGUsYz1lLndpZHRoKmQsZT1lLmhlaWdodCoKZCxkPXRoaXMuZ3JhcGgudmlldy50cmFuc2xhdGUsZj10aGlzLmdyYXBoLnZpZXcuc2NhbGUsZz10aGlzLmdyYXBoLmdldFBhZ2VMYXlvdXQoKSxuPTA7bjxnLndpZHRoO24rKyliLnB1c2gobmV3IG14UmVjdGFuZ2xlKCgoZy54K24pKmMrZC54KSpmLChnLnkqZStkLnkpKmYsYypmLGUqZikpO2ZvcihuPTE7bjxnLmhlaWdodDtuKyspYi5wdXNoKG5ldyBteFJlY3RhbmdsZSgoZy54KmMrZC54KSpmLCgoZy55K24pKmUrZC55KSpmLGMqZixlKmYpKTthPWIuY29uY2F0KGEpfXJldHVybiBhfTtteERyYWdTb3VyY2UucHJvdG90eXBlLmRyYWdFbGVtZW50WkluZGV4PW14UG9wdXBNZW51LnByb3RvdHlwZS56SW5kZXg7bXhHdWlkZS5wcm90b3R5cGUuZ2V0R3VpZGVDb2xvcj1mdW5jdGlvbihhLGIpe3JldHVybiBudWxsPT1hLmNlbGw/IiNmZmE1MDAiOm14Q29uc3RhbnRzLkdVSURFX0NPTE9SfTt0aGlzLmdyYXBoSGFuZGxlci5jcmVhdGVQcmV2aWV3U2hhcGU9ZnVuY3Rpb24oYSl7dGhpcy5wcmV2aWV3Q29sb3I9CiIjMDAwMDAwIj09dGhpcy5ncmFwaC5iYWNrZ3JvdW5kPyIjZmZmZmZmIjpteEdyYXBoSGFuZGxlci5wcm90b3R5cGUucHJldmlld0NvbG9yO3JldHVybiBteEdyYXBoSGFuZGxlci5wcm90b3R5cGUuY3JlYXRlUHJldmlld1NoYXBlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07dmFyIHA9dGhpcy5ncmFwaEhhbmRsZXIuZ2V0Q2VsbHM7dGhpcy5ncmFwaEhhbmRsZXIuZ2V0Q2VsbHM9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPXAuYXBwbHkodGhpcyxhcmd1bWVudHMpLGU9bmV3IG14RGljdGlvbmFyeSxkPVtdLGM9MDtjPGIubGVuZ3RoO2MrKyl7dmFyIGY9dGhpcy5ncmFwaC5pc1RhYmxlUm93KGJbY10pJiZ0aGlzLmdyYXBoLmlzQ2VsbFNlbGVjdGVkKGJbY10pP2JbY106dGhpcy5ncmFwaC5nZXRDb21wb3NpdGVQYXJlbnQoYltjXSk7bnVsbD09Znx8ZS5nZXQoZil8fChlLnB1dChmLCEwKSxkLnB1c2goZikpfXJldHVybiBkfTt2YXIgdj10aGlzLmdyYXBoSGFuZGxlci5zdGFydDt0aGlzLmdyYXBoSGFuZGxlci5zdGFydD0KZnVuY3Rpb24oYSxiLGUsZCl7YT10aGlzLmdyYXBoLmdldENvbXBvc2l0ZVBhcmVudChhKTt2LmFwcGx5KHRoaXMsYXJndW1lbnRzKX07dGhpcy5jb25uZWN0aW9uSGFuZGxlci5jcmVhdGVUYXJnZXRWZXJ0ZXg9ZnVuY3Rpb24oYSxiKXtiPXRoaXMuZ3JhcGguZ2V0Q29tcG9zaXRlUGFyZW50KGIpO3JldHVybiBteENvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS5jcmVhdGVUYXJnZXRWZXJ0ZXguYXBwbHkodGhpcyxhcmd1bWVudHMpfTt2YXIgdD1uZXcgbXhSdWJiZXJiYW5kKHRoaXMpO3RoaXMuZ2V0UnViYmVyYmFuZD1mdW5jdGlvbigpe3JldHVybiB0fTt2YXIgeT0obmV3IERhdGUpLmdldFRpbWUoKSx4PTAsQz10aGlzLmNvbm5lY3Rpb25IYW5kbGVyLm1vdXNlTW92ZTt0aGlzLmNvbm5lY3Rpb25IYW5kbGVyLm1vdXNlTW92ZT1mdW5jdGlvbigpe3ZhciBhPXRoaXMuY3VycmVudFN0YXRlO0MuYXBwbHkodGhpcyxhcmd1bWVudHMpO2EhPXRoaXMuY3VycmVudFN0YXRlPyh5PShuZXcgRGF0ZSkuZ2V0VGltZSgpLAp4PTApOng9KG5ldyBEYXRlKS5nZXRUaW1lKCkteX07dmFyIEI9dGhpcy5jb25uZWN0aW9uSGFuZGxlci5pc091dGxpbmVDb25uZWN0RXZlbnQ7dGhpcy5jb25uZWN0aW9uSGFuZGxlci5pc091dGxpbmVDb25uZWN0RXZlbnQ9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPXRoaXMuY3VycmVudFN0YXRlJiZhLmdldFN0YXRlKCk9PXRoaXMuY3VycmVudFN0YXRlJiYyRTM8eHx8KG51bGw9PXRoaXMuY3VycmVudFN0YXRlfHwiMCIhPW14VXRpbHMuZ2V0VmFsdWUodGhpcy5jdXJyZW50U3RhdGUuc3R5bGUsIm91dGxpbmVDb25uZWN0IiwiMSIpKSYmQi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O3ZhciBEPXRoaXMuaXNUb2dnbGVFdmVudDt0aGlzLmlzVG9nZ2xlRXZlbnQ9ZnVuY3Rpb24oYSl7cmV0dXJuIEQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHwhbXhDbGllbnQuSVNfQ0hST01FT1MmJm14RXZlbnQuaXNTaGlmdERvd24oYSl9O3ZhciB6PXQuaXNGb3JjZVJ1YmJlcmJhbmRFdmVudDt0LmlzRm9yY2VSdWJiZXJiYW5kRXZlbnQ9CmZ1bmN0aW9uKGEpe3JldHVybiB6LmFwcGx5KHRoaXMsYXJndW1lbnRzKSYmIW14RXZlbnQuaXNTaGlmdERvd24oYS5nZXRFdmVudCgpKSYmIW14RXZlbnQuaXNDb250cm9sRG93bihhLmdldEV2ZW50KCkpfHxteENsaWVudC5JU19DSFJPTUVPUyYmbXhFdmVudC5pc1NoaWZ0RG93bihhLmdldEV2ZW50KCkpfHxteFV0aWxzLmhhc1Njcm9sbGJhcnModGhpcy5ncmFwaC5jb250YWluZXIpJiZteENsaWVudC5JU19GRiYmbXhDbGllbnQuSVNfV0lOJiZudWxsPT1hLmdldFN0YXRlKCkmJm14RXZlbnQuaXNUb3VjaEV2ZW50KGEuZ2V0RXZlbnQoKSl9O3ZhciBFPW51bGw7dGhpcy5wYW5uaW5nSGFuZGxlci5hZGRMaXN0ZW5lcihteEV2ZW50LlBBTl9TVEFSVCxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMuaXNFbmFibGVkKCkmJihFPXRoaXMuY29udGFpbmVyLnN0eWxlLmN1cnNvcix0aGlzLmNvbnRhaW5lci5zdHlsZS5jdXJzb3I9Im1vdmUiKX0pKTt0aGlzLnBhbm5pbmdIYW5kbGVyLmFkZExpc3RlbmVyKG14RXZlbnQuUEFOX0VORCwKbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt0aGlzLmlzRW5hYmxlZCgpJiYodGhpcy5jb250YWluZXIuc3R5bGUuY3Vyc29yPUUpfSkpO3RoaXMucG9wdXBNZW51SGFuZGxlci5hdXRvRXhwYW5kPSEwO3RoaXMucG9wdXBNZW51SGFuZGxlci5pc1NlbGVjdE9uUG9wdXA9ZnVuY3Rpb24oYSl7cmV0dXJuIG14RXZlbnQuaXNNb3VzZUV2ZW50KGEuZ2V0RXZlbnQoKSl9O3ZhciBHPXRoaXMuY2xpY2s7dGhpcy5jbGljaz1mdW5jdGlvbihhKXt2YXIgYj1udWxsPT1hLnN0YXRlJiZudWxsIT1hLnNvdXJjZVN0YXRlJiZ0aGlzLmlzQ2VsbExvY2tlZChhLnNvdXJjZVN0YXRlLmNlbGwpO2lmKHRoaXMuaXNFbmFibGVkKCkmJiFifHxhLmlzQ29uc3VtZWQoKSlyZXR1cm4gRy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dmFyIGU9Yj9hLnNvdXJjZVN0YXRlLmNlbGw6YS5nZXRDZWxsKCk7bnVsbCE9ZSYmKGU9dGhpcy5nZXRDbGlja2FibGVMaW5rRm9yQ2VsbChlKSxudWxsIT1lJiYodGhpcy5pc0N1c3RvbUxpbmsoZSk/CnRoaXMuY3VzdG9tTGlua0NsaWNrZWQoZSk6dGhpcy5vcGVuTGluayhlKSkpO3RoaXMuaXNFbmFibGVkKCkmJmImJnRoaXMuY2xlYXJTZWxlY3Rpb24oKX07dGhpcy50b29sdGlwSGFuZGxlci5nZXRTdGF0ZUZvckV2ZW50PWZ1bmN0aW9uKGEpe3JldHVybiBhLnNvdXJjZVN0YXRlfTt0aGlzLmdldEN1cnNvckZvck1vdXNlRXZlbnQ9ZnVuY3Rpb24oYSl7dmFyIGI9bnVsbD09YS5zdGF0ZSYmbnVsbCE9YS5zb3VyY2VTdGF0ZSYmdGhpcy5pc0NlbGxMb2NrZWQoYS5zb3VyY2VTdGF0ZS5jZWxsKTtyZXR1cm4gdGhpcy5nZXRDdXJzb3JGb3JDZWxsKGI/YS5zb3VyY2VTdGF0ZS5jZWxsOmEuZ2V0Q2VsbCgpKX07dmFyIEY9dGhpcy5nZXRDdXJzb3JGb3JDZWxsO3RoaXMuZ2V0Q3Vyc29yRm9yQ2VsbD1mdW5jdGlvbihhKXtpZighdGhpcy5pc0VuYWJsZWQoKXx8dGhpcy5pc0NlbGxMb2NrZWQoYSkpe2lmKG51bGwhPXRoaXMuZ2V0Q2xpY2thYmxlTGlua0ZvckNlbGwoYSkpcmV0dXJuInBvaW50ZXIiOwppZih0aGlzLmlzQ2VsbExvY2tlZChhKSlyZXR1cm4iZGVmYXVsdCJ9cmV0dXJuIEYuYXBwbHkodGhpcyxhcmd1bWVudHMpfTt0aGlzLnNlbGVjdFJlZ2lvbj1mdW5jdGlvbihhLGIpe3ZhciBlPXRoaXMuZ2V0QWxsQ2VsbHMoYS54LGEueSxhLndpZHRoLGEuaGVpZ2h0KTt0aGlzLnNlbGVjdENlbGxzRm9yRXZlbnQoZSxiKTtyZXR1cm4gZX07dGhpcy5nZXRBbGxDZWxscz1mdW5jdGlvbihhLGIsZSxkLGMsZil7Zj1udWxsIT1mP2Y6W107aWYoMDxlfHwwPGQpe3ZhciBnPXRoaXMuZ2V0TW9kZWwoKSxsPWErZSxuPWIrZDtudWxsPT1jJiYoYz10aGlzLmdldEN1cnJlbnRSb290KCksbnVsbD09YyYmKGM9Zy5nZXRSb290KCkpKTtpZihudWxsIT1jKWZvcih2YXIgcD1nLmdldENoaWxkQ291bnQoYyksdT0wO3U8cDt1Kyspe3ZhciB0PWcuZ2V0Q2hpbGRBdChjLHUpLEE9dGhpcy52aWV3LmdldFN0YXRlKHQpO2lmKG51bGwhPUEmJnRoaXMuaXNDZWxsVmlzaWJsZSh0KSYmIjEiIT1teFV0aWxzLmdldFZhbHVlKEEuc3R5bGUsCiJsb2NrZWQiLCIwIikpe3ZhciBtPW14VXRpbHMuZ2V0VmFsdWUoQS5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9ST1RBVElPTil8fDA7MCE9bSYmKEE9bXhVdGlscy5nZXRCb3VuZGluZ0JveChBLG0pKTsoZy5pc0VkZ2UodCl8fGcuaXNWZXJ0ZXgodCkpJiZBLng+PWEmJkEueStBLmhlaWdodDw9biYmQS55Pj1iJiZBLngrQS53aWR0aDw9bCYmZi5wdXNoKHQpO3RoaXMuZ2V0QWxsQ2VsbHMoYSxiLGUsZCx0LGYpfX19cmV0dXJuIGZ9O3ZhciBIPXRoaXMuZ3JhcGhIYW5kbGVyLnNob3VsZFJlbW92ZUNlbGxzRnJvbVBhcmVudDt0aGlzLmdyYXBoSGFuZGxlci5zaG91bGRSZW1vdmVDZWxsc0Zyb21QYXJlbnQ9ZnVuY3Rpb24oYSxiLGUpe3JldHVybiB0aGlzLmdyYXBoLmlzQ2VsbFNlbGVjdGVkKGEpPyExOkguYXBwbHkodGhpcyxhcmd1bWVudHMpfTt0aGlzLmlzQ2VsbExvY2tlZD1mdW5jdGlvbihhKXtmb3IoYT10aGlzLnZpZXcuZ2V0U3RhdGUoYSk7bnVsbCE9YTspe2lmKCIxIj09bXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLAoibG9ja2VkIiwiMCIpKXJldHVybiEwO2E9dGhpcy52aWV3LmdldFN0YXRlKHRoaXMubW9kZWwuZ2V0UGFyZW50KGEuY2VsbCkpfXJldHVybiExfTt2YXIgSj1udWxsO3RoaXMuYWRkTGlzdGVuZXIobXhFdmVudC5GSVJFX01PVVNFX0VWRU5ULG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEsYil7aWYoIm1vdXNlRG93biI9PWIuZ2V0UHJvcGVydHkoImV2ZW50TmFtZSIpKXt2YXIgZT1iLmdldFByb3BlcnR5KCJldmVudCIpLmdldFN0YXRlKCk7Sj1udWxsPT1lfHx0aGlzLmlzU2VsZWN0aW9uRW1wdHkoKXx8dGhpcy5pc0NlbGxTZWxlY3RlZChlLmNlbGwpP251bGw6dGhpcy5nZXRTZWxlY3Rpb25DZWxscygpfX0pKTt0aGlzLmFkZExpc3RlbmVyKG14RXZlbnQuVEFQX0FORF9IT0xELG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEsYil7aWYoIW14RXZlbnQuaXNNdWx0aVRvdWNoRXZlbnQoYikpe3ZhciBlPWIuZ2V0UHJvcGVydHkoImV2ZW50IiksZD1iLmdldFByb3BlcnR5KCJjZWxsIik7Cm51bGw9PWQ/KGU9bXhVdGlscy5jb252ZXJ0UG9pbnQodGhpcy5jb250YWluZXIsbXhFdmVudC5nZXRDbGllbnRYKGUpLG14RXZlbnQuZ2V0Q2xpZW50WShlKSksdC5zdGFydChlLngsZS55KSk6bnVsbCE9Sj90aGlzLmFkZFNlbGVjdGlvbkNlbGxzKEopOjE8dGhpcy5nZXRTZWxlY3Rpb25Db3VudCgpJiZ0aGlzLmlzQ2VsbFNlbGVjdGVkKGQpJiZ0aGlzLnJlbW92ZVNlbGVjdGlvbkNlbGwoZCk7Sj1udWxsO2IuY29uc3VtZSgpfX0pKTt0aGlzLmNvbm5lY3Rpb25IYW5kbGVyLnNlbGVjdENlbGxzPWZ1bmN0aW9uKGEsYil7dGhpcy5ncmFwaC5zZXRTZWxlY3Rpb25DZWxsKGJ8fGEpfTt0aGlzLmNvbm5lY3Rpb25IYW5kbGVyLmNvbnN0cmFpbnRIYW5kbGVyLmlzU3RhdGVJZ25vcmVkPWZ1bmN0aW9uKGEsYil7dmFyIGU9YS52aWV3LmdyYXBoO3JldHVybiBiJiYoZS5pc0NlbGxTZWxlY3RlZChhLmNlbGwpfHxlLmlzVGFibGVSb3coYS5jZWxsKSYmZS5zZWxlY3Rpb25DZWxsc0hhbmRsZXIuaXNIYW5kbGVkKGUubW9kZWwuZ2V0UGFyZW50KGEuY2VsbCkpKX07CnRoaXMuc2VsZWN0aW9uTW9kZWwuYWRkTGlzdGVuZXIobXhFdmVudC5DSEFOR0UsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt2YXIgYT10aGlzLmNvbm5lY3Rpb25IYW5kbGVyLmNvbnN0cmFpbnRIYW5kbGVyO251bGwhPWEuY3VycmVudEZvY3VzJiZhLmlzU3RhdGVJZ25vcmVkKGEuY3VycmVudEZvY3VzLCEwKSYmKGEuY3VycmVudEZvY3VzPW51bGwsYS5jb25zdHJhaW50cz1udWxsLGEuZGVzdHJveUljb25zKCkpO2EuZGVzdHJveUZvY3VzSGlnaGxpZ2h0KCl9KSk7R3JhcGgudG91Y2hTdHlsZSYmdGhpcy5pbml0VG91Y2goKTt2YXIgdT10aGlzLnVwZGF0ZU1vdXNlRXZlbnQ7dGhpcy51cGRhdGVNb3VzZUV2ZW50PWZ1bmN0aW9uKGEpe2E9dS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7bnVsbCE9YS5zdGF0ZSYmdGhpcy5pc0NlbGxMb2NrZWQoYS5nZXRDZWxsKCkpJiYoYS5zdGF0ZT1udWxsKTtyZXR1cm4gYX19dGhpcy5jdXJyZW50VHJhbnNsYXRlPW5ldyBteFBvaW50KDAsMCl9OwpHcmFwaC50b3VjaFN0eWxlPW14Q2xpZW50LklTX1RPVUNIfHxteENsaWVudC5JU19GRiYmbXhDbGllbnQuSVNfV0lOfHwwPG5hdmlnYXRvci5tYXhUb3VjaFBvaW50c3x8MDxuYXZpZ2F0b3IubXNNYXhUb3VjaFBvaW50c3x8bnVsbD09d2luZG93LnVybFBhcmFtc3x8IjEiPT11cmxQYXJhbXMudG91Y2g7R3JhcGguZmlsZVN1cHBvcnQ9bnVsbCE9d2luZG93LkZpbGUmJm51bGwhPXdpbmRvdy5GaWxlUmVhZGVyJiZudWxsIT13aW5kb3cuRmlsZUxpc3QmJihudWxsPT13aW5kb3cudXJsUGFyYW1zfHwiMCIhPXVybFBhcmFtcy5maWxlc3VwcG9ydCk7R3JhcGgubGluZUp1bXBzRW5hYmxlZD0hMDtHcmFwaC5kZWZhdWx0SnVtcFNpemU9NjtHcmFwaC5taW5UYWJsZUNvbHVtbldpZHRoPTIwO0dyYXBoLm1pblRhYmxlUm93SGVpZ2h0PTIwO0dyYXBoLmZvcmVpZ25PYmplY3RXYXJuaW5nVGV4dD0iVmlld2VyIGRvZXMgbm90IHN1cHBvcnQgZnVsbCBTVkcgMS4xIjsKR3JhcGguZm9yZWlnbk9iamVjdFdhcm5pbmdMaW5rPSJodHRwczovL2Rlc2suZHJhdy5pby9zdXBwb3J0L3NvbHV0aW9ucy9hcnRpY2xlcy8xNjAwMDA0MjQ4NyI7CkdyYXBoLmNyZWF0ZVN2Z0ltYWdlPWZ1bmN0aW9uKGEsYyxmLGQsayl7Zj11bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoJzwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iJythKydweCIgaGVpZ2h0PSInK2MrJ3B4IiAnKyhudWxsIT1kJiZudWxsIT1rPyd2aWV3Qm94PSIwIDAgJytkKyIgIitrKyciICc6IiIpKyd2ZXJzaW9uPSIxLjEiPicrZisiPC9zdmc+IikpO3JldHVybiBuZXcgbXhJbWFnZSgiZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCwiKyh3aW5kb3cuYnRvYT9idG9hKGYpOkJhc2U2NC5lbmNvZGUoZiwhMCkpLGEsYyl9OwpHcmFwaC56YXBHcmVtbGlucz1mdW5jdGlvbihhKXtmb3IodmFyIGM9W10sZj0wO2Y8YS5sZW5ndGg7ZisrKXt2YXIgZD1hLmNoYXJDb2RlQXQoZik7KDMyPD1kfHw5PT1kfHwxMD09ZHx8MTM9PWQpJiY2NTUzNSE9ZCYmNjU1MzQhPWQmJmMucHVzaChhLmNoYXJBdChmKSl9cmV0dXJuIGMuam9pbigiIil9O0dyYXBoLnN0cmluZ1RvQnl0ZXM9ZnVuY3Rpb24oYSl7Zm9yKHZhciBjPUFycmF5KGEubGVuZ3RoKSxmPTA7ZjxhLmxlbmd0aDtmKyspY1tmXT1hLmNoYXJDb2RlQXQoZik7cmV0dXJuIGN9O0dyYXBoLmJ5dGVzVG9TdHJpbmc9ZnVuY3Rpb24oYSl7Zm9yKHZhciBjPUFycmF5KGEubGVuZ3RoKSxmPTA7ZjxhLmxlbmd0aDtmKyspY1tmXT1TdHJpbmcuZnJvbUNoYXJDb2RlKGFbZl0pO3JldHVybiBjLmpvaW4oIiIpfTtHcmFwaC5jb21wcmVzc05vZGU9ZnVuY3Rpb24oYSxjKXt2YXIgZj1teFV0aWxzLmdldFhtbChhKTtyZXR1cm4gR3JhcGguY29tcHJlc3MoYz9mOkdyYXBoLnphcEdyZW1saW5zKGYpKX07CkdyYXBoLmNvbXByZXNzPWZ1bmN0aW9uKGEsYyl7aWYobnVsbD09YXx8MD09YS5sZW5ndGh8fCJ1bmRlZmluZWQiPT09dHlwZW9mIHBha28pcmV0dXJuIGE7dmFyIGY9Yz9wYWtvLmRlZmxhdGUoZW5jb2RlVVJJQ29tcG9uZW50KGEpLHt0bzoic3RyaW5nIn0pOnBha28uZGVmbGF0ZVJhdyhlbmNvZGVVUklDb21wb25lbnQoYSkse3RvOiJzdHJpbmcifSk7cmV0dXJuIHdpbmRvdy5idG9hP2J0b2EoZik6QmFzZTY0LmVuY29kZShmLCEwKX07R3JhcGguZGVjb21wcmVzcz1mdW5jdGlvbihhLGMsZil7aWYobnVsbD09YXx8MD09YS5sZW5ndGh8fCJ1bmRlZmluZWQiPT09dHlwZW9mIHBha28pcmV0dXJuIGE7YT13aW5kb3cuYXRvYj9hdG9iKGEpOkJhc2U2NC5kZWNvZGUoYSwhMCk7Yz1kZWNvZGVVUklDb21wb25lbnQoYz9wYWtvLmluZmxhdGUoYSx7dG86InN0cmluZyJ9KTpwYWtvLmluZmxhdGVSYXcoYSx7dG86InN0cmluZyJ9KSk7cmV0dXJuIGY/YzpHcmFwaC56YXBHcmVtbGlucyhjKX07CkdyYXBoLnJlbW92ZVBhc3RlRm9ybWF0dGluZz1mdW5jdGlvbihhKXtmb3IoO251bGwhPWE7KW51bGwhPWEuZmlyc3RDaGlsZCYmR3JhcGgucmVtb3ZlUGFzdGVGb3JtYXR0aW5nKGEuZmlyc3RDaGlsZCksYS5ub2RlVHlwZT09bXhDb25zdGFudHMuTk9ERVRZUEVfRUxFTUVOVCYmbnVsbCE9YS5zdHlsZSYmKGEuc3R5bGUud2hpdGVTcGFjZT0iIiwiIzAwMDAwMCI9PWEuc3R5bGUuY29sb3ImJihhLnN0eWxlLmNvbG9yPSIiKSksYT1hLm5leHRTaWJsaW5nfTtHcmFwaC5pc0xpbms9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPWEmJkdyYXBoLmxpbmtQYXR0ZXJuLnRlc3QoYSl9O0dyYXBoLmxpbmtQYXR0ZXJuPS9eKGh0dHBzPzpcL1wvKT8oKChbYS16XGRdKFthLXpcZC1dKlthLXpcZF0pKilcLikrW2Etel17Mix9fCgoXGR7MSwzfVwuKXszfVxkezEsM30pKShcOlxkKyk/KFwvWy1hLXpcZCVfLn4rXSopKihcP1s7JmEtelxkJV8ufis9LV0qKT8oXCNbLWEtelxkX10qKT8kL2k7Cm14VXRpbHMuZXh0ZW5kKEdyYXBoLG14R3JhcGgpO0dyYXBoLnByb3RvdHlwZS5taW5GaXRTY2FsZT1udWxsO0dyYXBoLnByb3RvdHlwZS5tYXhGaXRTY2FsZT1udWxsO0dyYXBoLnByb3RvdHlwZS5saW5rUG9saWN5PSJmcmFtZSI9PXVybFBhcmFtcy50YXJnZXQ/ImJsYW5rIjp1cmxQYXJhbXMudGFyZ2V0fHwiYXV0byI7R3JhcGgucHJvdG90eXBlLmxpbmtUYXJnZXQ9ImZyYW1lIj09dXJsUGFyYW1zLnRhcmdldD8iX3NlbGYiOiJfYmxhbmsiO0dyYXBoLnByb3RvdHlwZS5saW5rUmVsYXRpb249Im5vZm9sbG93IG5vb3BlbmVyIG5vcmVmZXJyZXIiO0dyYXBoLnByb3RvdHlwZS5kZWZhdWx0U2Nyb2xsYmFycz0hbXhDbGllbnQuSVNfSU9TO0dyYXBoLnByb3RvdHlwZS5kZWZhdWx0UGFnZVZpc2libGU9ITA7R3JhcGgucHJvdG90eXBlLmxpZ2h0Ym94PSExO0dyYXBoLnByb3RvdHlwZS5kZWZhdWx0UGFnZUJhY2tncm91bmRDb2xvcj0iI2ZmZmZmZiI7CkdyYXBoLnByb3RvdHlwZS5kZWZhdWx0UGFnZUJvcmRlckNvbG9yPSIjZmZmZmZmIjtHcmFwaC5wcm90b3R5cGUuc2Nyb2xsVGlsZVNpemU9bmV3IG14UmVjdGFuZ2xlKDAsMCw0MDAsNDAwKTtHcmFwaC5wcm90b3R5cGUudHJhbnNwYXJlbnRCYWNrZ3JvdW5kPSEwO0dyYXBoLnByb3RvdHlwZS5zZWxlY3RQYXJlbnRBZnRlckRlbGV0ZT0hMTtHcmFwaC5wcm90b3R5cGUuZGVmYXVsdEVkZ2VMZW5ndGg9ODA7R3JhcGgucHJvdG90eXBlLmVkZ2VNb2RlPSExO0dyYXBoLnByb3RvdHlwZS5jb25uZWN0aW9uQXJyb3dzRW5hYmxlZD0hMDtHcmFwaC5wcm90b3R5cGUucGxhY2Vob2xkZXJQYXR0ZXJuPVJlZ0V4cCgiJShkYXRley4qfXxbXiVee159XSspJSIsImciKTtHcmFwaC5wcm90b3R5cGUuYWJzb2x1dGVVcmxQYXR0ZXJuPS9eKD86W2Etel0rOik/XC9cLy9pO0dyYXBoLnByb3RvdHlwZS5kZWZhdWx0VGhlbWVOYW1lPSJkZWZhdWx0IjsKR3JhcGgucHJvdG90eXBlLmRlZmF1bHRUaGVtZXM9e307R3JhcGgucHJvdG90eXBlLmJhc2VVcmw9bnVsbCE9dXJsUGFyYW1zLmJhc2U/ZGVjb2RlVVJJQ29tcG9uZW50KHVybFBhcmFtcy5iYXNlKTood2luZG93IT13aW5kb3cudG9wP2RvY3VtZW50LnJlZmVycmVyOmRvY3VtZW50LmxvY2F0aW9uLnRvU3RyaW5nKCkpLnNwbGl0KCIjIilbMF07R3JhcGgucHJvdG90eXBlLmVkaXRBZnRlckluc2VydD0hMTtHcmFwaC5wcm90b3R5cGUuYnVpbHRJblByb3BlcnRpZXM9WyJsYWJlbCIsInRvb2x0aXAiLCJwbGFjZWhvbGRlcnMiLCJwbGFjZWhvbGRlciJdO0dyYXBoLnByb3RvdHlwZS5zdGFuZGFsb25lPSExOwpHcmFwaC5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbihhKXtteEdyYXBoLnByb3RvdHlwZS5pbml0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLmNlbGxSZW5kZXJlci5pbml0aWFsaXplTGFiZWw9ZnVuY3Rpb24oYSxmKXtteENlbGxSZW5kZXJlci5wcm90b3R5cGUuaW5pdGlhbGl6ZUxhYmVsLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt2YXIgZD1hLnZpZXcuZ3JhcGgudG9sZXJhbmNlLGM9ITAsbT1udWxsLHE9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7Yz0hMDttPW5ldyBteFBvaW50KG14RXZlbnQuZ2V0Q2xpZW50WChhKSxteEV2ZW50LmdldENsaWVudFkoYSkpfSksYj1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXtjPWMmJm51bGwhPW0mJk1hdGguYWJzKG0ueC1teEV2ZW50LmdldENsaWVudFgoYSkpPGQmJk1hdGguYWJzKG0ueS1teEV2ZW50LmdldENsaWVudFkoYSkpPGR9KSxlPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGIpe2lmKGMpZm9yKHZhciBlPW14RXZlbnQuZ2V0U291cmNlKGIpO251bGwhPQplJiZlIT1mLm5vZGU7KXtpZigiYSI9PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSl7YS52aWV3LmdyYXBoLmxhYmVsTGlua0NsaWNrZWQoYSxlLGIpO2JyZWFrfWU9ZS5wYXJlbnROb2RlfX0pO214RXZlbnQuYWRkR2VzdHVyZUxpc3RlbmVycyhmLm5vZGUscSxiLGUpO214RXZlbnQuYWRkTGlzdGVuZXIoZi5ub2RlLCJjbGljayIsZnVuY3Rpb24oYSl7bXhFdmVudC5jb25zdW1lKGEpfSl9O3RoaXMuaW5pdExheW91dE1hbmFnZXIoKX07CihmdW5jdGlvbigpe0dyYXBoLnByb3RvdHlwZS51c2VDc3NUcmFuc2Zvcm1zPSExO0dyYXBoLnByb3RvdHlwZS5jdXJyZW50U2NhbGU9MTtHcmFwaC5wcm90b3R5cGUuY3VycmVudFRyYW5zbGF0ZT1uZXcgbXhQb2ludCgwLDApO0dyYXBoLnByb3RvdHlwZS5pc0Zhc3Rab29tRW5hYmxlZD1mdW5jdGlvbigpe3JldHVybiJub2NzcyIhPXVybFBhcmFtcy56b29tJiYhbXhDbGllbnQuTk9fRk8mJiFteENsaWVudC5JU19FREdFJiYhdGhpcy51c2VDc3NUcmFuc2Zvcm1zJiZ0aGlzLmlzQ3NzVHJhbnNmb3Jtc1N1cHBvcnRlZCgpfTtHcmFwaC5wcm90b3R5cGUuaXNDc3NUcmFuc2Zvcm1zU3VwcG9ydGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGlhbGVjdD09bXhDb25zdGFudHMuRElBTEVDVF9TVkcmJiFteENsaWVudC5OT19GTyYmKCF0aGlzLmxpZ2h0Ym94fHwhbXhDbGllbnQuSVNfU0YpfTtHcmFwaC5wcm90b3R5cGUuZ2V0Q2VsbEF0PWZ1bmN0aW9uKGEsYyxmLHEsYixlKXt0aGlzLnVzZUNzc1RyYW5zZm9ybXMmJgooYT1hL3RoaXMuY3VycmVudFNjYWxlLXRoaXMuY3VycmVudFRyYW5zbGF0ZS54LGM9Yy90aGlzLmN1cnJlbnRTY2FsZS10aGlzLmN1cnJlbnRUcmFuc2xhdGUueSk7cmV0dXJuIHRoaXMuZ2V0U2NhbGVkQ2VsbEF0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX07R3JhcGgucHJvdG90eXBlLmdldFNjYWxlZENlbGxBdD1mdW5jdGlvbihhLGMsZixxLGIsZSl7cT1udWxsIT1xP3E6ITA7Yj1udWxsIT1iP2I6ITA7bnVsbD09ZiYmKGY9dGhpcy5nZXRDdXJyZW50Um9vdCgpLG51bGw9PWYmJihmPXRoaXMuZ2V0TW9kZWwoKS5nZXRSb290KCkpKTtpZihudWxsIT1mKWZvcih2YXIgZD10aGlzLm1vZGVsLmdldENoaWxkQ291bnQoZiktMTswPD1kO2QtLSl7dmFyIG49dGhpcy5tb2RlbC5nZXRDaGlsZEF0KGYsZCksbD10aGlzLmdldFNjYWxlZENlbGxBdChhLGMsbixxLGIsZSk7aWYobnVsbCE9bClyZXR1cm4gbDtpZih0aGlzLmlzQ2VsbFZpc2libGUobikmJihiJiZ0aGlzLm1vZGVsLmlzRWRnZShuKXx8CnEmJnRoaXMubW9kZWwuaXNWZXJ0ZXgobikpJiYobD10aGlzLnZpZXcuZ2V0U3RhdGUobiksbnVsbCE9bCYmKG51bGw9PWV8fCFlKGwsYSxjKSkmJnRoaXMuaW50ZXJzZWN0cyhsLGEsYykpKXJldHVybiBufXJldHVybiBudWxsfTtHcmFwaC5wcm90b3R5cGUuaXNSZWN1cnNpdmVWZXJ0ZXhSZXNpemU9ZnVuY3Rpb24oYSl7cmV0dXJuIXRoaXMuaXNTd2ltbGFuZShhLmNlbGwpJiYwPHRoaXMubW9kZWwuZ2V0Q2hpbGRDb3VudChhLmNlbGwpJiYhdGhpcy5pc0NlbGxDb2xsYXBzZWQoYS5jZWxsKSYmIjEiPT1teFV0aWxzLmdldFZhbHVlKGEuc3R5bGUsInJlY3Vyc2l2ZVJlc2l6ZSIsIjEiKSYmbnVsbD09bXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLCJjaGlsZExheW91dCIsbnVsbCl9O0dyYXBoLnByb3RvdHlwZS5pc1BhcnQ9ZnVuY3Rpb24oYSl7cmV0dXJuIjEiPT1teFV0aWxzLmdldFZhbHVlKHRoaXMuZ2V0Q3VycmVudENlbGxTdHlsZShhKSwicGFydCIsIjAiKXx8dGhpcy5pc1RhYmxlQ2VsbChhKXx8CnRoaXMuaXNUYWJsZVJvdyhhKX07R3JhcGgucHJvdG90eXBlLmdldENvbXBvc2l0ZVBhcmVudD1mdW5jdGlvbihhKXtmb3IoO3RoaXMuaXNQYXJ0KGEpOyl7dmFyIGM9dGhpcy5tb2RlbC5nZXRQYXJlbnQoYSk7aWYoIXRoaXMubW9kZWwuaXNWZXJ0ZXgoYykpYnJlYWs7YT1jfXJldHVybiBhfTtteENlbGxIaWdobGlnaHQucHJvdG90eXBlLmdldFN0cm9rZVdpZHRoPWZ1bmN0aW9uKGEpe2E9dGhpcy5zdHJva2VXaWR0aDt0aGlzLmdyYXBoLnVzZUNzc1RyYW5zZm9ybXMmJihhLz10aGlzLmdyYXBoLmN1cnJlbnRTY2FsZSk7cmV0dXJuIGF9O214R3JhcGhWaWV3LnByb3RvdHlwZS5nZXRHcmFwaEJvdW5kcz1mdW5jdGlvbigpe3ZhciBhPXRoaXMuZ3JhcGhCb3VuZHM7aWYodGhpcy5ncmFwaC51c2VDc3NUcmFuc2Zvcm1zKXZhciBjPXRoaXMuZ3JhcGguY3VycmVudFRyYW5zbGF0ZSxmPXRoaXMuZ3JhcGguY3VycmVudFNjYWxlLGE9bmV3IG14UmVjdGFuZ2xlKChhLngrYy54KSpmLChhLnkrCmMueSkqZixhLndpZHRoKmYsYS5oZWlnaHQqZik7cmV0dXJuIGF9O214R3JhcGhWaWV3LnByb3RvdHlwZS52aWV3U3RhdGVDaGFuZ2VkPWZ1bmN0aW9uKCl7dGhpcy5ncmFwaC51c2VDc3NUcmFuc2Zvcm1zP3RoaXMudmFsaWRhdGUoKTp0aGlzLnJldmFsaWRhdGUoKTt0aGlzLmdyYXBoLnNpemVEaWRDaGFuZ2UoKX07dmFyIGE9bXhHcmFwaFZpZXcucHJvdG90eXBlLnZhbGlkYXRlO214R3JhcGhWaWV3LnByb3RvdHlwZS52YWxpZGF0ZT1mdW5jdGlvbihjKXt0aGlzLmdyYXBoLnVzZUNzc1RyYW5zZm9ybXMmJih0aGlzLmdyYXBoLmN1cnJlbnRTY2FsZT10aGlzLnNjYWxlLHRoaXMuZ3JhcGguY3VycmVudFRyYW5zbGF0ZS54PXRoaXMudHJhbnNsYXRlLngsdGhpcy5ncmFwaC5jdXJyZW50VHJhbnNsYXRlLnk9dGhpcy50cmFuc2xhdGUueSx0aGlzLnNjYWxlPTEsdGhpcy50cmFuc2xhdGUueD0wLHRoaXMudHJhbnNsYXRlLnk9MCk7YS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5ncmFwaC51c2VDc3NUcmFuc2Zvcm1zJiYKKHRoaXMuZ3JhcGgudXBkYXRlQ3NzVHJhbnNmb3JtKCksdGhpcy5zY2FsZT10aGlzLmdyYXBoLmN1cnJlbnRTY2FsZSx0aGlzLnRyYW5zbGF0ZS54PXRoaXMuZ3JhcGguY3VycmVudFRyYW5zbGF0ZS54LHRoaXMudHJhbnNsYXRlLnk9dGhpcy5ncmFwaC5jdXJyZW50VHJhbnNsYXRlLnkpfTtHcmFwaC5wcm90b3R5cGUudXBkYXRlQ3NzVHJhbnNmb3JtPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy52aWV3LmdldERyYXdQYW5lKCk7aWYobnVsbCE9YSlpZihhPWEucGFyZW50Tm9kZSx0aGlzLnVzZUNzc1RyYW5zZm9ybXMpe3ZhciBjPWEuZ2V0QXR0cmlidXRlKCJ0cmFuc2Zvcm0iKTthLnNldEF0dHJpYnV0ZSgidHJhbnNmb3JtT3JpZ2luIiwiMCAwIik7dmFyIGY9TWF0aC5yb3VuZCgxMDAqdGhpcy5jdXJyZW50U2NhbGUpLzEwMDthLnNldEF0dHJpYnV0ZSgidHJhbnNmb3JtIiwic2NhbGUoIitmKyIsIitmKyIpdHJhbnNsYXRlKCIrTWF0aC5yb3VuZCgxMDAqdGhpcy5jdXJyZW50VHJhbnNsYXRlLngpLwoxMDArIiwiK01hdGgucm91bmQoMTAwKnRoaXMuY3VycmVudFRyYW5zbGF0ZS55KS8xMDArIikiKTtpZihjIT1hLmdldEF0dHJpYnV0ZSgidHJhbnNmb3JtIikpdHJ5e2lmKG14Q2xpZW50LklTX0VER0Upe3ZhciBxPWEuc3R5bGUuZGlzcGxheTthLnN0eWxlLmRpc3BsYXk9Im5vbmUiO2EuZ2V0QkJveCgpO2Euc3R5bGUuZGlzcGxheT1xfX1jYXRjaChiKXt9fWVsc2UgYS5yZW1vdmVBdHRyaWJ1dGUoInRyYW5zZm9ybU9yaWdpbiIpLGEucmVtb3ZlQXR0cmlidXRlKCJ0cmFuc2Zvcm0iKX07dmFyIGM9bXhHcmFwaFZpZXcucHJvdG90eXBlLnZhbGlkYXRlQmFja2dyb3VuZFBhZ2U7bXhHcmFwaFZpZXcucHJvdG90eXBlLnZhbGlkYXRlQmFja2dyb3VuZFBhZ2U9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdyYXBoLnVzZUNzc1RyYW5zZm9ybXMsZj10aGlzLnNjYWxlLG09dGhpcy50cmFuc2xhdGU7YSYmKHRoaXMuc2NhbGU9dGhpcy5ncmFwaC5jdXJyZW50U2NhbGUsdGhpcy50cmFuc2xhdGU9CnRoaXMuZ3JhcGguY3VycmVudFRyYW5zbGF0ZSk7Yy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7YSYmKHRoaXMuc2NhbGU9Zix0aGlzLnRyYW5zbGF0ZT1tKX07dmFyIGY9bXhHcmFwaC5wcm90b3R5cGUudXBkYXRlUGFnZUJyZWFrcztteEdyYXBoLnByb3RvdHlwZS51cGRhdGVQYWdlQnJlYWtzPWZ1bmN0aW9uKGEsYyxtKXt2YXIgZD10aGlzLnVzZUNzc1RyYW5zZm9ybXMsYj10aGlzLnZpZXcuc2NhbGUsZT10aGlzLnZpZXcudHJhbnNsYXRlO2QmJih0aGlzLnZpZXcuc2NhbGU9MSx0aGlzLnZpZXcudHJhbnNsYXRlPW5ldyBteFBvaW50KDAsMCksdGhpcy51c2VDc3NUcmFuc2Zvcm1zPSExKTtmLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtkJiYodGhpcy52aWV3LnNjYWxlPWIsdGhpcy52aWV3LnRyYW5zbGF0ZT1lLHRoaXMudXNlQ3NzVHJhbnNmb3Jtcz0hMCl9fSkoKTtHcmFwaC5wcm90b3R5cGUuaXNMaWdodGJveFZpZXc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5saWdodGJveH07CkdyYXBoLnByb3RvdHlwZS5pc1ZpZXdlcj1mdW5jdGlvbigpe3JldHVybiExfTtHcmFwaC5wcm90b3R5cGUubGFiZWxMaW5rQ2xpY2tlZD1mdW5jdGlvbihhLGMsZil7Yz1jLmdldEF0dHJpYnV0ZSgiaHJlZiIpO2lmKG51bGwhPWMmJiF0aGlzLmlzQ3VzdG9tTGluayhjKSYmbXhFdmVudC5pc0xlZnRNb3VzZUJ1dHRvbihmKSYmIW14RXZlbnQuaXNQb3B1cFRyaWdnZXIoZil8fG14RXZlbnQuaXNUb3VjaEV2ZW50KGYpKXtpZighdGhpcy5pc0VuYWJsZWQoKXx8dGhpcy5pc0NlbGxMb2NrZWQoYS5jZWxsKSlhPXRoaXMuaXNCbGFua0xpbmsoYyk/dGhpcy5saW5rVGFyZ2V0OiJfdG9wIix0aGlzLm9wZW5MaW5rKHRoaXMuZ2V0QWJzb2x1dGVVcmwoYyksYSk7bXhFdmVudC5jb25zdW1lKGYpfX07CkdyYXBoLnByb3RvdHlwZS5vcGVuTGluaz1mdW5jdGlvbihhLGMsZil7dmFyIGQ9d2luZG93O3RyeXtpZigiX3NlbGYiPT1jJiZ3aW5kb3chPXdpbmRvdy50b3Apd2luZG93LmxvY2F0aW9uLmhyZWY9YTtlbHNlIGlmKGEuc3Vic3RyaW5nKDAsdGhpcy5iYXNlVXJsLmxlbmd0aCk9PXRoaXMuYmFzZVVybCYmIiMiPT1hLmNoYXJBdCh0aGlzLmJhc2VVcmwubGVuZ3RoKSYmIl90b3AiPT1jJiZ3aW5kb3c9PXdpbmRvdy50b3Ape3ZhciBrPWEuc3BsaXQoIiMiKVsxXTt3aW5kb3cubG9jYXRpb24uaGFzaD09IiMiK2smJih3aW5kb3cubG9jYXRpb24uaGFzaD0iIik7d2luZG93LmxvY2F0aW9uLmhhc2g9a31lbHNlIGQ9d2luZG93Lm9wZW4oYSxudWxsIT1jP2M6Il9ibGFuayIpLG51bGw9PWR8fGZ8fChkLm9wZW5lcj1udWxsKX1jYXRjaChtKXt9cmV0dXJuIGR9OwpHcmFwaC5wcm90b3R5cGUuZ2V0TGlua1RpdGxlPWZ1bmN0aW9uKGEpe3JldHVybiBhLnN1YnN0cmluZyhhLmxhc3RJbmRleE9mKCIvIikrMSl9O0dyYXBoLnByb3RvdHlwZS5pc0N1c3RvbUxpbms9ZnVuY3Rpb24oYSl7cmV0dXJuImRhdGE6Ij09YS5zdWJzdHJpbmcoMCw1KX07R3JhcGgucHJvdG90eXBlLmN1c3RvbUxpbmtDbGlja2VkPWZ1bmN0aW9uKGEpe3JldHVybiExfTtHcmFwaC5wcm90b3R5cGUuaXNFeHRlcm5hbFByb3RvY29sPWZ1bmN0aW9uKGEpe3JldHVybiJtYWlsdG86Ij09PWEuc3Vic3RyaW5nKDAsNyl9O0dyYXBoLnByb3RvdHlwZS5pc0JsYW5rTGluaz1mdW5jdGlvbihhKXtyZXR1cm4hdGhpcy5pc0V4dGVybmFsUHJvdG9jb2woYSkmJigiYmxhbmsiPT09dGhpcy5saW5rUG9saWN5fHwic2VsZiIhPT10aGlzLmxpbmtQb2xpY3kmJiF0aGlzLmlzUmVsYXRpdmVVcmwoYSkmJmEuc3Vic3RyaW5nKDAsdGhpcy5kb21haW5VcmwubGVuZ3RoKSE9PXRoaXMuZG9tYWluVXJsKX07CkdyYXBoLnByb3RvdHlwZS5pc1JlbGF0aXZlVXJsPWZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hJiYhdGhpcy5hYnNvbHV0ZVVybFBhdHRlcm4udGVzdChhKSYmImRhdGE6IiE9PWEuc3Vic3RyaW5nKDAsNSkmJiF0aGlzLmlzRXh0ZXJuYWxQcm90b2NvbChhKX07R3JhcGgucHJvdG90eXBlLmdldEFic29sdXRlVXJsPWZ1bmN0aW9uKGEpe251bGwhPWEmJnRoaXMuaXNSZWxhdGl2ZVVybChhKSYmKGE9IiMiPT1hLmNoYXJBdCgwKT90aGlzLmJhc2VVcmwrYToiLyI9PWEuY2hhckF0KDApP3RoaXMuZG9tYWluVXJsK2E6dGhpcy5kb21haW5QYXRoVXJsK2EpO3JldHVybiBhfTsKR3JhcGgucHJvdG90eXBlLmluaXRMYXlvdXRNYW5hZ2VyPWZ1bmN0aW9uKCl7dGhpcy5sYXlvdXRNYW5hZ2VyPW5ldyBteExheW91dE1hbmFnZXIodGhpcyk7dGhpcy5sYXlvdXRNYW5hZ2VyLmhhc0xheW91dD1mdW5jdGlvbihhLGMpe3JldHVybiBudWxsIT10aGlzLmdyYXBoLmdldENlbGxTdHlsZShhKS5jaGlsZExheW91dH07dGhpcy5sYXlvdXRNYW5hZ2VyLmdldExheW91dD1mdW5jdGlvbihhLGMpe2lmKGMhPW14RXZlbnQuQkVHSU5fVVBEQVRFKXt2YXIgZj10aGlzLmdyYXBoLmdldENlbGxTdHlsZShhKTtpZigic3RhY2tMYXlvdXQiPT1mLmNoaWxkTGF5b3V0KXt2YXIgZD1uZXcgbXhTdGFja0xheW91dCh0aGlzLmdyYXBoLCEwKTtkLnJlc2l6ZVBhcmVudE1heD0iMSI9PW14VXRpbHMuZ2V0VmFsdWUoZiwicmVzaXplUGFyZW50TWF4IiwiMSIpO2QuaG9yaXpvbnRhbD0iMSI9PW14VXRpbHMuZ2V0VmFsdWUoZiwiaG9yaXpvbnRhbFN0YWNrIiwiMSIpO2QucmVzaXplUGFyZW50PQoiMSI9PW14VXRpbHMuZ2V0VmFsdWUoZiwicmVzaXplUGFyZW50IiwiMSIpO2QucmVzaXplTGFzdD0iMSI9PW14VXRpbHMuZ2V0VmFsdWUoZiwicmVzaXplTGFzdCIsIjAiKTtkLnNwYWNpbmc9Zi5zdGFja1NwYWNpbmd8fGQuc3BhY2luZztkLmJvcmRlcj1mLnN0YWNrQm9yZGVyfHxkLmJvcmRlcjtkLm1hcmdpbkxlZnQ9Zi5tYXJnaW5MZWZ0fHwwO2QubWFyZ2luUmlnaHQ9Zi5tYXJnaW5SaWdodHx8MDtkLm1hcmdpblRvcD1mLm1hcmdpblRvcHx8MDtkLm1hcmdpbkJvdHRvbT1mLm1hcmdpbkJvdHRvbXx8MDtkLmZpbGw9ITA7cmV0dXJuIGR9aWYoInRyZWVMYXlvdXQiPT1mLmNoaWxkTGF5b3V0KXJldHVybiBkPW5ldyBteENvbXBhY3RUcmVlTGF5b3V0KHRoaXMuZ3JhcGgpLGQuaG9yaXpvbnRhbD0iMSI9PW14VXRpbHMuZ2V0VmFsdWUoZiwiaG9yaXpvbnRhbFRyZWUiLCIxIiksZC5yZXNpemVQYXJlbnQ9IjEiPT1teFV0aWxzLmdldFZhbHVlKGYsInJlc2l6ZVBhcmVudCIsIjEiKSwKZC5ncm91cFBhZGRpbmc9bXhVdGlscy5nZXRWYWx1ZShmLCJwYXJlbnRQYWRkaW5nIiwyMCksZC5sZXZlbERpc3RhbmNlPW14VXRpbHMuZ2V0VmFsdWUoZiwidHJlZUxldmVsRGlzdGFuY2UiLDMwKSxkLm1haW50YWluUGFyZW50TG9jYXRpb249ITAsZC5lZGdlUm91dGluZz0hMSxkLnJlc2V0RWRnZXM9ITEsZDtpZigiZmxvd0xheW91dCI9PWYuY2hpbGRMYXlvdXQpcmV0dXJuIGQ9bmV3IG14SGllcmFyY2hpY2FsTGF5b3V0KHRoaXMuZ3JhcGgsbXhVdGlscy5nZXRWYWx1ZShmLCJmbG93T3JpZW50YXRpb24iLG14Q29uc3RhbnRzLkRJUkVDVElPTl9FQVNUKSksZC5yZXNpemVQYXJlbnQ9IjEiPT1teFV0aWxzLmdldFZhbHVlKGYsInJlc2l6ZVBhcmVudCIsIjEiKSxkLnBhcmVudEJvcmRlcj1teFV0aWxzLmdldFZhbHVlKGYsInBhcmVudFBhZGRpbmciLDIwKSxkLm1haW50YWluUGFyZW50TG9jYXRpb249ITAsZC5pbnRyYUNlbGxTcGFjaW5nPW14VXRpbHMuZ2V0VmFsdWUoZiwiaW50cmFDZWxsU3BhY2luZyIsCm14SGllcmFyY2hpY2FsTGF5b3V0LnByb3RvdHlwZS5pbnRyYUNlbGxTcGFjaW5nKSxkLmludGVyUmFua0NlbGxTcGFjaW5nPW14VXRpbHMuZ2V0VmFsdWUoZiwiaW50ZXJSYW5rQ2VsbFNwYWNpbmciLG14SGllcmFyY2hpY2FsTGF5b3V0LnByb3RvdHlwZS5pbnRlclJhbmtDZWxsU3BhY2luZyksZC5pbnRlckhpZXJhcmNoeVNwYWNpbmc9bXhVdGlscy5nZXRWYWx1ZShmLCJpbnRlckhpZXJhcmNoeVNwYWNpbmciLG14SGllcmFyY2hpY2FsTGF5b3V0LnByb3RvdHlwZS5pbnRlckhpZXJhcmNoeVNwYWNpbmcpLGQucGFyYWxsZWxFZGdlU3BhY2luZz1teFV0aWxzLmdldFZhbHVlKGYsInBhcmFsbGVsRWRnZVNwYWNpbmciLG14SGllcmFyY2hpY2FsTGF5b3V0LnByb3RvdHlwZS5wYXJhbGxlbEVkZ2VTcGFjaW5nKSxkO2lmKCJjaXJjbGVMYXlvdXQiPT1mLmNoaWxkTGF5b3V0KXJldHVybiBuZXcgbXhDaXJjbGVMYXlvdXQodGhpcy5ncmFwaCk7aWYoIm9yZ2FuaWNMYXlvdXQiPT1mLmNoaWxkTGF5b3V0KXJldHVybiBuZXcgbXhGYXN0T3JnYW5pY0xheW91dCh0aGlzLmdyYXBoKTsKaWYoInRhYmxlTGF5b3V0Ij09Zi5jaGlsZExheW91dClyZXR1cm4gbmV3IFRhYmxlTGF5b3V0KHRoaXMuZ3JhcGgpfXJldHVybiBudWxsfX07R3JhcGgucHJvdG90eXBlLmdldFBhZ2VTaXplPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGFnZVZpc2libGU/bmV3IG14UmVjdGFuZ2xlKDAsMCx0aGlzLnBhZ2VGb3JtYXQud2lkdGgqdGhpcy5wYWdlU2NhbGUsdGhpcy5wYWdlRm9ybWF0LmhlaWdodCp0aGlzLnBhZ2VTY2FsZSk6dGhpcy5zY3JvbGxUaWxlU2l6ZX07CkdyYXBoLnByb3RvdHlwZS5nZXRQYWdlTGF5b3V0PWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXRQYWdlU2l6ZSgpLGM9dGhpcy5nZXRHcmFwaEJvdW5kcygpO2lmKDA9PWMud2lkdGh8fDA9PWMuaGVpZ2h0KXJldHVybiBuZXcgbXhSZWN0YW5nbGUoMCwwLDEsMSk7dmFyIGY9TWF0aC5mbG9vcihNYXRoLmNlaWwoYy54L3RoaXMudmlldy5zY2FsZS10aGlzLnZpZXcudHJhbnNsYXRlLngpL2Eud2lkdGgpLGQ9TWF0aC5mbG9vcihNYXRoLmNlaWwoYy55L3RoaXMudmlldy5zY2FsZS10aGlzLnZpZXcudHJhbnNsYXRlLnkpL2EuaGVpZ2h0KTtyZXR1cm4gbmV3IG14UmVjdGFuZ2xlKGYsZCxNYXRoLmNlaWwoKE1hdGguZmxvb3IoKGMueCtjLndpZHRoKS90aGlzLnZpZXcuc2NhbGUpLXRoaXMudmlldy50cmFuc2xhdGUueCkvYS53aWR0aCktZixNYXRoLmNlaWwoKE1hdGguZmxvb3IoKGMueStjLmhlaWdodCkvdGhpcy52aWV3LnNjYWxlKS10aGlzLnZpZXcudHJhbnNsYXRlLnkpL2EuaGVpZ2h0KS0KZCl9O0dyYXBoLnByb3RvdHlwZS5zYW5pdGl6ZUh0bWw9ZnVuY3Rpb24oYSxjKXtyZXR1cm4gaHRtbF9zYW5pdGl6ZShhLGZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hJiYiamF2YXNjcmlwdDoiIT09YS50b1N0cmluZygpLnRvTG93ZXJDYXNlKCkuc3Vic3RyaW5nKDAsMTEpP2E6bnVsbH0sZnVuY3Rpb24oYSl7cmV0dXJuIGF9KX07R3JhcGgucHJvdG90eXBlLnVwZGF0ZVBsYWNlaG9sZGVycz1mdW5jdGlvbigpe3ZhciBhPSExLGM7Zm9yKGMgaW4gdGhpcy5tb2RlbC5jZWxscyl7dmFyIGY9dGhpcy5tb2RlbC5jZWxsc1tjXTt0aGlzLmlzUmVwbGFjZVBsYWNlaG9sZGVycyhmKSYmKHRoaXMudmlldy5pbnZhbGlkYXRlKGYsITEsITEpLGE9ITApfWEmJnRoaXMudmlldy52YWxpZGF0ZSgpfTtHcmFwaC5wcm90b3R5cGUuaXNSZXBsYWNlUGxhY2Vob2xkZXJzPWZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hLnZhbHVlJiYib2JqZWN0Ij09dHlwZW9mIGEudmFsdWUmJiIxIj09YS52YWx1ZS5nZXRBdHRyaWJ1dGUoInBsYWNlaG9sZGVycyIpfTsKR3JhcGgucHJvdG90eXBlLmlzWm9vbVdoZWVsRXZlbnQ9ZnVuY3Rpb24oYSl7cmV0dXJuIG14RXZlbnQuaXNBbHREb3duKGEpfHxteEV2ZW50LmlzTWV0YURvd24oYSkmJm14Q2xpZW50LklTX01BQ3x8bXhFdmVudC5pc0NvbnRyb2xEb3duKGEpfTtHcmFwaC5wcm90b3R5cGUuaXNTY3JvbGxXaGVlbEV2ZW50PWZ1bmN0aW9uKGEpe3JldHVybiF0aGlzLmlzWm9vbVdoZWVsRXZlbnQoYSl9O0dyYXBoLnByb3RvdHlwZS5pc1RyYW5zcGFyZW50Q2xpY2tFdmVudD1mdW5jdGlvbihhKXtyZXR1cm4gbXhFdmVudC5pc0FsdERvd24oYSl8fG14Q2xpZW50LklTX0NIUk9NRU9TJiZteEV2ZW50LmlzU2hpZnREb3duKGEpfTtHcmFwaC5wcm90b3R5cGUuaXNJZ25vcmVUZXJtaW5hbEV2ZW50PWZ1bmN0aW9uKGEpe3JldHVybiBteEV2ZW50LmlzU2hpZnREb3duKGEpJiZteEV2ZW50LmlzQ29udHJvbERvd24oYSl9OwpHcmFwaC5wcm90b3R5cGUuaXNTcGxpdFRhcmdldD1mdW5jdGlvbihhLGMsZil7cmV0dXJuIXRoaXMubW9kZWwuaXNFZGdlKGNbMF0pJiYhbXhFdmVudC5pc0FsdERvd24oZikmJiFteEV2ZW50LmlzU2hpZnREb3duKGYpJiZteEdyYXBoLnByb3RvdHlwZS5pc1NwbGl0VGFyZ2V0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX07R3JhcGgucHJvdG90eXBlLmdldExhYmVsPWZ1bmN0aW9uKGEpe3ZhciBjPW14R3JhcGgucHJvdG90eXBlLmdldExhYmVsLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtudWxsIT1jJiZ0aGlzLmlzUmVwbGFjZVBsYWNlaG9sZGVycyhhKSYmbnVsbD09YS5nZXRBdHRyaWJ1dGUoInBsYWNlaG9sZGVyIikmJihjPXRoaXMucmVwbGFjZVBsYWNlaG9sZGVycyhhLGMpKTtyZXR1cm4gY307CkdyYXBoLnByb3RvdHlwZS5pc0xhYmVsTW92YWJsZT1mdW5jdGlvbihhKXt2YXIgYz10aGlzLmdldEN1cnJlbnRDZWxsU3R5bGUoYSk7cmV0dXJuIXRoaXMuaXNDZWxsTG9ja2VkKGEpJiYodGhpcy5tb2RlbC5pc0VkZ2UoYSkmJnRoaXMuZWRnZUxhYmVsc01vdmFibGV8fHRoaXMubW9kZWwuaXNWZXJ0ZXgoYSkmJih0aGlzLnZlcnRleExhYmVsc01vdmFibGV8fCIxIj09bXhVdGlscy5nZXRWYWx1ZShjLCJsYWJlbE1vdmFibGUiLCIwIikpKX07R3JhcGgucHJvdG90eXBlLnNldEdyaWRTaXplPWZ1bmN0aW9uKGEpe3RoaXMuZ3JpZFNpemU9YTt0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdCgiZ3JpZFNpemVDaGFuZ2VkIikpfTsKR3JhcGgucHJvdG90eXBlLmdldENsaWNrYWJsZUxpbmtGb3JDZWxsPWZ1bmN0aW9uKGEpe2Rve3ZhciBjPXRoaXMuZ2V0TGlua0ZvckNlbGwoYSk7aWYobnVsbCE9YylyZXR1cm4gYzthPXRoaXMubW9kZWwuZ2V0UGFyZW50KGEpfXdoaWxlKG51bGwhPWEpO3JldHVybiBudWxsfTtHcmFwaC5wcm90b3R5cGUuZ2V0R2xvYmFsVmFyaWFibGU9ZnVuY3Rpb24oYSl7dmFyIGM9bnVsbDsiZGF0ZSI9PWE/Yz0obmV3IERhdGUpLnRvTG9jYWxlRGF0ZVN0cmluZygpOiJ0aW1lIj09YT9jPShuZXcgRGF0ZSkudG9Mb2NhbGVUaW1lU3RyaW5nKCk6InRpbWVzdGFtcCI9PWE/Yz0obmV3IERhdGUpLnRvTG9jYWxlU3RyaW5nKCk6ImRhdGV7Ij09YS5zdWJzdHJpbmcoMCw1KSYmKGE9YS5zdWJzdHJpbmcoNSxhLmxlbmd0aC0xKSxjPXRoaXMuZm9ybWF0RGF0ZShuZXcgRGF0ZSxhKSk7cmV0dXJuIGN9OwpHcmFwaC5wcm90b3R5cGUuZm9ybWF0RGF0ZT1mdW5jdGlvbihhLGMsZil7bnVsbD09dGhpcy5kYXRlRm9ybWF0Q2FjaGUmJih0aGlzLmRhdGVGb3JtYXRDYWNoZT17aTE4bjp7ZGF5TmFtZXM6IlN1biBNb24gVHVlIFdlZCBUaHUgRnJpIFNhdCBTdW5kYXkgTW9uZGF5IFR1ZXNkYXkgV2VkbmVzZGF5IFRodXJzZGF5IEZyaWRheSBTYXR1cmRheSIuc3BsaXQoIiAiKSxtb250aE5hbWVzOiJKYW4gRmViIE1hciBBcHIgTWF5IEp1biBKdWwgQXVnIFNlcCBPY3QgTm92IERlYyBKYW51YXJ5IEZlYnJ1YXJ5IE1hcmNoIEFwcmlsIE1heSBKdW5lIEp1bHkgQXVndXN0IFNlcHRlbWJlciBPY3RvYmVyIE5vdmVtYmVyIERlY2VtYmVyIi5zcGxpdCgiICIpfSxtYXNrczp7ImRlZmF1bHQiOiJkZGQgbW1tIGRkIHl5eXkgSEg6TU06c3MiLHNob3J0RGF0ZToibS9kL3l5IixtZWRpdW1EYXRlOiJtbW0gZCwgeXl5eSIsbG9uZ0RhdGU6Im1tbW0gZCwgeXl5eSIsZnVsbERhdGU6ImRkZGQsIG1tbW0gZCwgeXl5eSIsCnNob3J0VGltZToiaDpNTSBUVCIsbWVkaXVtVGltZToiaDpNTTpzcyBUVCIsbG9uZ1RpbWU6Img6TU06c3MgVFQgWiIsaXNvRGF0ZToieXl5eS1tbS1kZCIsaXNvVGltZToiSEg6TU06c3MiLGlzb0RhdGVUaW1lOiJ5eXl5LW1tLWRkJ1QnSEg6TU06c3MiLGlzb1V0Y0RhdGVUaW1lOiJVVEM6eXl5eS1tbS1kZCdUJ0hIOk1NOnNzJ1onIn19KTt2YXIgZD10aGlzLmRhdGVGb3JtYXRDYWNoZSxrPS9cYig/OltQTUNFQV1bU0RQXVR8KD86UGFjaWZpY3xNb3VudGFpbnxDZW50cmFsfEVhc3Rlcm58QXRsYW50aWMpICg/OlN0YW5kYXJkfERheWxpZ2h0fFByZXZhaWxpbmcpIFRpbWV8KD86R01UfFVUQykoPzpbLStdXGR7NH0pPylcYi9nLG09L1teLStcZEEtWl0vZyxxPWZ1bmN0aW9uKGEsYil7YT1TdHJpbmcoYSk7Zm9yKGI9Ynx8MjthLmxlbmd0aDxiOylhPSIwIithO3JldHVybiBhfTsxIT1hcmd1bWVudHMubGVuZ3RofHwiW29iamVjdCBTdHJpbmddIiE9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGEpfHwKL1xkLy50ZXN0KGEpfHwoYz1hLGE9dm9pZCAwKTthPWE/bmV3IERhdGUoYSk6bmV3IERhdGU7aWYoaXNOYU4oYSkpdGhyb3cgU3ludGF4RXJyb3IoImludmFsaWQgZGF0ZSIpO2M9U3RyaW5nKGQubWFza3NbY118fGN8fGQubWFza3NbImRlZmF1bHQiXSk7IlVUQzoiPT1jLnNsaWNlKDAsNCkmJihjPWMuc2xpY2UoNCksZj0hMCk7dmFyIGI9Zj8iZ2V0VVRDIjoiZ2V0IixlPWFbYisiRGF0ZSJdKCksZz1hW2IrIkRheSJdKCksbj1hW2IrIk1vbnRoIl0oKSxsPWFbYisiRnVsbFllYXIiXSgpLHA9YVtiKyJIb3VycyJdKCksdj1hW2IrIk1pbnV0ZXMiXSgpLHQ9YVtiKyJTZWNvbmRzIl0oKSxiPWFbYisiTWlsbGlzZWNvbmRzIl0oKSx5PWY/MDphLmdldFRpbWV6b25lT2Zmc2V0KCkseD17ZDplLGRkOnEoZSksZGRkOmQuaTE4bi5kYXlOYW1lc1tnXSxkZGRkOmQuaTE4bi5kYXlOYW1lc1tnKzddLG06bisxLG1tOnEobisxKSxtbW06ZC5pMThuLm1vbnRoTmFtZXNbbl0sbW1tbTpkLmkxOG4ubW9udGhOYW1lc1tuKwoxMl0seXk6U3RyaW5nKGwpLnNsaWNlKDIpLHl5eXk6bCxoOnAlMTJ8fDEyLGhoOnEocCUxMnx8MTIpLEg6cCxISDpxKHApLE06dixNTTpxKHYpLHM6dCxzczpxKHQpLGw6cShiLDMpLEw6cSg5OTxiP01hdGgucm91bmQoYi8xMCk6YiksdDoxMj5wPyJhIjoicCIsdHQ6MTI+cD8iYW0iOiJwbSIsVDoxMj5wPyJBIjoiUCIsVFQ6MTI+cD8iQU0iOiJQTSIsWjpmPyJVVEMiOihTdHJpbmcoYSkubWF0Y2goayl8fFsiIl0pLnBvcCgpLnJlcGxhY2UobSwiIiksbzooMDx5PyItIjoiKyIpK3EoMTAwKk1hdGguZmxvb3IoTWF0aC5hYnMoeSkvNjApK01hdGguYWJzKHkpJTYwLDQpLFM6WyJ0aCIsInN0IiwibmQiLCJyZCJdWzM8ZSUxMD8wOigxMCE9ZSUxMDAtZSUxMCkqZSUxMF19O3JldHVybiBjLnJlcGxhY2UoL2R7MSw0fXxtezEsNH18eXkoPzp5eSk/fChbSGhNc1R0XSlcMT98W0xsb1NaXXwiW14iXSoifCdbXiddKicvZyxmdW5jdGlvbihhKXtyZXR1cm4gYSBpbiB4P3hbYV06YS5zbGljZSgxLAphLmxlbmd0aC0xKX0pfTsKR3JhcGgucHJvdG90eXBlLmNyZWF0ZUxheWVyc0RpYWxvZz1mdW5jdGlvbigpe3ZhciBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2Euc3R5bGUucG9zaXRpb249ImFic29sdXRlIjtmb3IodmFyIGM9dGhpcy5nZXRNb2RlbCgpLGY9Yy5nZXRDaGlsZENvdW50KGMucm9vdCksZD0wO2Q8ZjtkKyspbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oZCl7dmFyIGY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7Zi5zdHlsZS5vdmVyZmxvdz0iaGlkZGVuIjtmLnN0eWxlLnRleHRPdmVyZmxvdz0iZWxsaXBzaXMiO2Yuc3R5bGUucGFkZGluZz0iMnB4IjtmLnN0eWxlLndoaXRlU3BhY2U9Im5vd3JhcCI7dmFyIGs9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTtrLnN0eWxlLmRpc3BsYXk9ImlubGluZS1ibG9jayI7ay5zZXRBdHRyaWJ1dGUoInR5cGUiLCJjaGVja2JveCIpO2MuaXNWaXNpYmxlKGQpJiYoay5zZXRBdHRyaWJ1dGUoImNoZWNrZWQiLCJjaGVja2VkIiksCmsuZGVmYXVsdENoZWNrZWQ9ITApO2YuYXBwZW5kQ2hpbGQoayk7dmFyIGI9dGhpcy5jb252ZXJ0VmFsdWVUb1N0cmluZyhkKXx8bXhSZXNvdXJjZXMuZ2V0KCJiYWNrZ3JvdW5kIil8fCJCYWNrZ3JvdW5kIjtmLnNldEF0dHJpYnV0ZSgidGl0bGUiLGIpO214VXRpbHMud3JpdGUoZixiKTthLmFwcGVuZENoaWxkKGYpO214RXZlbnQuYWRkTGlzdGVuZXIoaywiY2xpY2siLGZ1bmN0aW9uKCl7bnVsbCE9ay5nZXRBdHRyaWJ1dGUoImNoZWNrZWQiKT9rLnJlbW92ZUF0dHJpYnV0ZSgiY2hlY2tlZCIpOmsuc2V0QXR0cmlidXRlKCJjaGVja2VkIiwiY2hlY2tlZCIpO2Muc2V0VmlzaWJsZShkLGsuY2hlY2tlZCl9KX0pKGMuZ2V0Q2hpbGRBdChjLnJvb3QsZCkpO3JldHVybiBhfTsKR3JhcGgucHJvdG90eXBlLnJlcGxhY2VQbGFjZWhvbGRlcnM9ZnVuY3Rpb24oYSxjKXt2YXIgZj1bXTtpZihudWxsIT1jKXtmb3IodmFyIGQ9MDttYXRjaD10aGlzLnBsYWNlaG9sZGVyUGF0dGVybi5leGVjKGMpOyl7dmFyIGs9bWF0Y2hbMF07aWYoMjxrLmxlbmd0aCYmIiVsYWJlbCUiIT1rJiYiJXRvb2x0aXAlIiE9ayl7dmFyIG09bnVsbDtpZihtYXRjaC5pbmRleD5kJiYiJSI9PWMuY2hhckF0KG1hdGNoLmluZGV4LTEpKW09ay5zdWJzdHJpbmcoMSk7ZWxzZXt2YXIgcT1rLnN1YnN0cmluZygxLGsubGVuZ3RoLTEpO2lmKCJpZCI9PXEpbT1hLmlkO2Vsc2UgaWYoMD5xLmluZGV4T2YoInsiKSlmb3IodmFyIGI9YTtudWxsPT1tJiZudWxsIT1iOyludWxsIT1iLnZhbHVlJiYib2JqZWN0Ij09dHlwZW9mIGIudmFsdWUmJihtPWIuaGFzQXR0cmlidXRlKHEpP251bGwhPWIuZ2V0QXR0cmlidXRlKHEpP2IuZ2V0QXR0cmlidXRlKHEpOiIiOm51bGwpLGI9dGhpcy5tb2RlbC5nZXRQYXJlbnQoYik7Cm51bGw9PW0mJihtPXRoaXMuZ2V0R2xvYmFsVmFyaWFibGUocSkpfWYucHVzaChjLnN1YnN0cmluZyhkLG1hdGNoLmluZGV4KSsobnVsbCE9bT9tOmspKTtkPW1hdGNoLmluZGV4K2subGVuZ3RofX1mLnB1c2goYy5zdWJzdHJpbmcoZCkpfXJldHVybiBmLmpvaW4oIiIpfTtHcmFwaC5wcm90b3R5cGUucmVzdG9yZVNlbGVjdGlvbj1mdW5jdGlvbihhKXtpZihudWxsIT1hJiYwPGEubGVuZ3RoKXtmb3IodmFyIGM9W10sZj0wO2Y8YS5sZW5ndGg7ZisrKXt2YXIgZD10aGlzLm1vZGVsLmdldENlbGwoYVtmXS5pZCk7bnVsbCE9ZCYmYy5wdXNoKGQpfXRoaXMuc2V0U2VsZWN0aW9uQ2VsbHMoYyl9ZWxzZSB0aGlzLmNsZWFyU2VsZWN0aW9uKCl9OwpHcmFwaC5wcm90b3R5cGUuc2VsZWN0Q2VsbHNGb3JDb25uZWN0VmVydGV4PWZ1bmN0aW9uKGEsYyxmKXsyPT1hLmxlbmd0aCYmdGhpcy5tb2RlbC5pc1ZlcnRleChhWzFdKT8odGhpcy5zZXRTZWxlY3Rpb25DZWxsKGFbMV0pLHRoaXMuc2Nyb2xsQ2VsbFRvVmlzaWJsZShhWzFdKSxudWxsIT1mJiYobXhFdmVudC5pc1RvdWNoRXZlbnQoYyk/Zi51cGRhdGUoZi5nZXRTdGF0ZSh0aGlzLnZpZXcuZ2V0U3RhdGUoYVsxXSkpKTpmLnJlc2V0KCkpKTp0aGlzLnNldFNlbGVjdGlvbkNlbGxzKGEpfTsKR3JhcGgucHJvdG90eXBlLmNvbm5lY3RWZXJ0ZXg9ZnVuY3Rpb24oYSxjLGYsZCxrLG0pe2lmKGEuZ2VvbWV0cnkucmVsYXRpdmUmJnRoaXMubW9kZWwuaXNFZGdlKGEucGFyZW50KSlyZXR1cm5bXTttPW0/bTohMTt2YXIgcT10aGlzLmdldENvbXBvc2l0ZVBhcmVudChhKSxiPWEuZ2VvbWV0cnkucmVsYXRpdmUmJm51bGwhPWEucGFyZW50Lmdlb21ldHJ5P25ldyBteFBvaW50KGEucGFyZW50Lmdlb21ldHJ5LndpZHRoKmEuZ2VvbWV0cnkueCxhLnBhcmVudC5nZW9tZXRyeS5oZWlnaHQqYS5nZW9tZXRyeS55KTpuZXcgbXhQb2ludChxLmdlb21ldHJ5LngscS5nZW9tZXRyeS55KTtjPT1teENvbnN0YW50cy5ESVJFQ1RJT05fTk9SVEg/KGIueCs9cS5nZW9tZXRyeS53aWR0aC8yLGIueS09Zik6Yz09bXhDb25zdGFudHMuRElSRUNUSU9OX1NPVVRIPyhiLngrPXEuZ2VvbWV0cnkud2lkdGgvMixiLnkrPXEuZ2VvbWV0cnkuaGVpZ2h0K2YpOihiLng9Yz09bXhDb25zdGFudHMuRElSRUNUSU9OX1dFU1Q/CmIueC1mOmIueCsocS5nZW9tZXRyeS53aWR0aCtmKSxiLnkrPXEuZ2VvbWV0cnkuaGVpZ2h0LzIpO2Y9dGhpcy52aWV3LmdldFN0YXRlKHRoaXMubW9kZWwuZ2V0UGFyZW50KGEpKTt2YXIgcT10aGlzLnZpZXcuc2NhbGUsZT10aGlzLnZpZXcudHJhbnNsYXRlLGc9ZS54KnEsZT1lLnkqcTtudWxsIT1mJiZ0aGlzLm1vZGVsLmlzVmVydGV4KGYuY2VsbCkmJihnPWYueCxlPWYueSk7dGhpcy5tb2RlbC5pc1ZlcnRleChhLnBhcmVudCkmJmEuZ2VvbWV0cnkucmVsYXRpdmUmJihiLngrPWEucGFyZW50Lmdlb21ldHJ5LngsYi55Kz1hLnBhcmVudC5nZW9tZXRyeS55KTttPW18fG14RXZlbnQuaXNDb250cm9sRG93bihkKSYmIWs/bnVsbDp0aGlzLmdldENlbGxBdChnK2IueCpxLGUrYi55KnEpO3RoaXMubW9kZWwuaXNBbmNlc3RvcihtLGEpJiYobT1udWxsKTtmb3IoZj1tO251bGwhPWY7KXtpZih0aGlzLmlzQ2VsbExvY2tlZChmKSl7bT1udWxsO2JyZWFrfWY9dGhpcy5tb2RlbC5nZXRQYXJlbnQoZil9bnVsbCE9Cm0mJihmPXRoaXMudmlldy5nZXRTdGF0ZShhKSxxPXRoaXMudmlldy5nZXRTdGF0ZShtKSxudWxsIT1mJiZudWxsIT1xJiZteFV0aWxzLmludGVyc2VjdHMoZixxKSYmKG09bnVsbCkpO2lmKGs9IW14RXZlbnQuaXNTaGlmdERvd24oZCl8fGspYz09bXhDb25zdGFudHMuRElSRUNUSU9OX05PUlRIP2IueS09YS5nZW9tZXRyeS5oZWlnaHQvMjpjPT1teENvbnN0YW50cy5ESVJFQ1RJT05fU09VVEg/Yi55Kz1hLmdlb21ldHJ5LmhlaWdodC8yOmIueD1jPT1teENvbnN0YW50cy5ESVJFQ1RJT05fV0VTVD9iLngtYS5nZW9tZXRyeS53aWR0aC8yOmIueCthLmdlb21ldHJ5LndpZHRoLzI7bnVsbD09bXx8dGhpcy5pc0NlbGxDb25uZWN0YWJsZShtKXx8dGhpcy5pc1N3aW1sYW5lKG0pfHwoZj10aGlzLmdldE1vZGVsKCkuZ2V0UGFyZW50KG0pLHRoaXMuZ2V0TW9kZWwoKS5pc1ZlcnRleChmKSYmdGhpcy5pc0NlbGxDb25uZWN0YWJsZShmKSYmKG09ZikpO2lmKG09PWF8fHRoaXMubW9kZWwuaXNFZGdlKG0pfHwKIXRoaXMuaXNDZWxsQ29ubmVjdGFibGUobSkmJiF0aGlzLmlzU3dpbWxhbmUobSkpbT1udWxsO2Y9W107dGhpcy5tb2RlbC5iZWdpblVwZGF0ZSgpO3RyeXt2YXIgbj1udWxsIT1tJiZ0aGlzLmlzU3dpbWxhbmUobSkscT1uP251bGw6bTtpZihudWxsPT1xJiZrKXtmb3IodmFyIGc9YSxsPXRoaXMuZ2V0Q2VsbEdlb21ldHJ5KGEpO251bGwhPWwmJmwucmVsYXRpdmU7KWc9dGhpcy5nZXRNb2RlbCgpLmdldFBhcmVudChnKSxsPXRoaXMuZ2V0Q2VsbEdlb21ldHJ5KGcpO2c9dGhpcy5nZXRDb21wb3NpdGVQYXJlbnQoZyk7cT10aGlzLmR1cGxpY2F0ZUNlbGxzKFtnXSwhMSlbMF07bD10aGlzLmdldENlbGxHZW9tZXRyeShxKTtudWxsIT1sJiYobC54PWIueC1sLndpZHRoLzIsbC55PWIueS1sLmhlaWdodC8yKTtuJiYodGhpcy5hZGRDZWxscyhbcV0sbSxudWxsLG51bGwsbnVsbCwhMCksbT1udWxsKX1uPW51bGw7bnVsbCE9dGhpcy5sYXlvdXRNYW5hZ2VyJiYobj10aGlzLmxheW91dE1hbmFnZXIuZ2V0TGF5b3V0KHRoaXMubW9kZWwuZ2V0UGFyZW50KGEpKSk7CnZhciBwPW14RXZlbnQuaXNDb250cm9sRG93bihkKSYma3x8bnVsbD09bSYmbnVsbCE9biYmbi5jb25zdHJ1Y3Rvcj09bXhTdGFja0xheW91dD9udWxsOnRoaXMuaW5zZXJ0RWRnZSh0aGlzLm1vZGVsLmdldFBhcmVudChhKSxudWxsLCIiLGEscSx0aGlzLmNyZWF0ZUN1cnJlbnRFZGdlU3R5bGUoKSk7aWYobnVsbCE9cCYmdGhpcy5jb25uZWN0aW9uSGFuZGxlci5pbnNlcnRCZWZvcmVTb3VyY2Upe3ZhciB2PW51bGw7Zm9yKGQ9YTtudWxsIT1kLnBhcmVudCYmbnVsbCE9ZC5nZW9tZXRyeSYmZC5nZW9tZXRyeS5yZWxhdGl2ZSYmZC5wYXJlbnQhPXAucGFyZW50OylkPXRoaXMubW9kZWwuZ2V0UGFyZW50KGQpO251bGwhPWQmJm51bGwhPWQucGFyZW50JiZkLnBhcmVudD09cC5wYXJlbnQmJih2PWQucGFyZW50LmdldEluZGV4KGQpLHRoaXMubW9kZWwuYWRkKGQucGFyZW50LHAsdikpfW51bGw9PW0mJm51bGwhPXEmJm51bGwhPW4mJm51bGwhPWEucGFyZW50JiZuLmNvbnN0cnVjdG9yPT0KbXhTdGFja0xheW91dCYmYz09bXhDb25zdGFudHMuRElSRUNUSU9OX1dFU1QmJih2PWEucGFyZW50LmdldEluZGV4KGEpLHRoaXMubW9kZWwuYWRkKGEucGFyZW50LHEsdikpO251bGwhPXAmJmYucHVzaChwKTtudWxsPT1tJiZudWxsIT1xJiZmLnB1c2gocSk7bnVsbD09cSYmbnVsbCE9cCYmcC5nZW9tZXRyeS5zZXRUZXJtaW5hbFBvaW50KGIsITEpO251bGwhPXAmJnRoaXMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KCJjZWxsc0luc2VydGVkIiwiY2VsbHMiLFtwXSkpfWZpbmFsbHl7dGhpcy5tb2RlbC5lbmRVcGRhdGUoKX1yZXR1cm4gZn07CkdyYXBoLnByb3RvdHlwZS5nZXRJbmRleGFibGVUZXh0PWZ1bmN0aW9uKCl7dmFyIGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IiksYz1bXSxmLGQ7Zm9yKGQgaW4gdGhpcy5tb2RlbC5jZWxscylpZihmPXRoaXMubW9kZWwuY2VsbHNbZF0sdGhpcy5tb2RlbC5pc1ZlcnRleChmKXx8dGhpcy5tb2RlbC5pc0VkZ2UoZikpdGhpcy5pc0h0bWxMYWJlbChmKT8oYS5pbm5lckhUTUw9dGhpcy5nZXRMYWJlbChmKSxmPW14VXRpbHMuZXh0cmFjdFRleHRXaXRoV2hpdGVzcGFjZShbYV0pKTpmPXRoaXMuZ2V0TGFiZWwoZiksZj1teFV0aWxzLnRyaW0oZi5yZXBsYWNlKC9bXHgwMC1ceDFGXHg3Ri1ceDlGXXxccysvZywiICIpKSwwPGYubGVuZ3RoJiZjLnB1c2goZik7cmV0dXJuIGMuam9pbigiICIpfTsKR3JhcGgucHJvdG90eXBlLmNvbnZlcnRWYWx1ZVRvU3RyaW5nPWZ1bmN0aW9uKGEpe3ZhciBjPXRoaXMubW9kZWwuZ2V0VmFsdWUoYSk7aWYobnVsbCE9YyYmIm9iamVjdCI9PXR5cGVvZiBjKXtpZih0aGlzLmlzUmVwbGFjZVBsYWNlaG9sZGVycyhhKSYmbnVsbCE9YS5nZXRBdHRyaWJ1dGUoInBsYWNlaG9sZGVyIikpe2Zvcih2YXIgYz1hLmdldEF0dHJpYnV0ZSgicGxhY2Vob2xkZXIiKSxmPWEsZD1udWxsO251bGw9PWQmJm51bGwhPWY7KW51bGwhPWYudmFsdWUmJiJvYmplY3QiPT10eXBlb2YgZi52YWx1ZSYmKGQ9Zi5oYXNBdHRyaWJ1dGUoYyk/bnVsbCE9Zi5nZXRBdHRyaWJ1dGUoYyk/Zi5nZXRBdHRyaWJ1dGUoYyk6IiI6bnVsbCksZj10aGlzLm1vZGVsLmdldFBhcmVudChmKTtyZXR1cm4gZHx8IiJ9cmV0dXJuIGMuZ2V0QXR0cmlidXRlKCJsYWJlbCIpfHwiIn1yZXR1cm4gbXhHcmFwaC5wcm90b3R5cGUuY29udmVydFZhbHVlVG9TdHJpbmcuYXBwbHkodGhpcyxhcmd1bWVudHMpfTsKR3JhcGgucHJvdG90eXBlLmdldExpbmtzRm9yU3RhdGU9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPWEmJm51bGwhPWEudGV4dCYmbnVsbCE9YS50ZXh0Lm5vZGU/YS50ZXh0Lm5vZGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImEiKTpudWxsfTtHcmFwaC5wcm90b3R5cGUuZ2V0TGlua0ZvckNlbGw9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPWEudmFsdWUmJiJvYmplY3QiPT10eXBlb2YgYS52YWx1ZT8oYT1hLnZhbHVlLmdldEF0dHJpYnV0ZSgibGluayIpLG51bGwhPWEmJiJqYXZhc2NyaXB0OiI9PT1hLnRvTG93ZXJDYXNlKCkuc3Vic3RyaW5nKDAsMTEpJiYoYT1hLnN1YnN0cmluZygxMSkpLGEpOm51bGx9OwpHcmFwaC5wcm90b3R5cGUuZ2V0Q2VsbFN0eWxlPWZ1bmN0aW9uKGEpe3ZhciBjPW14R3JhcGgucHJvdG90eXBlLmdldENlbGxTdHlsZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7aWYobnVsbCE9YSYmbnVsbCE9dGhpcy5sYXlvdXRNYW5hZ2VyKXt2YXIgZj10aGlzLm1vZGVsLmdldFBhcmVudChhKTt0aGlzLm1vZGVsLmlzVmVydGV4KGYpJiZ0aGlzLmlzQ2VsbENvbGxhcHNlZChhKSYmKGY9dGhpcy5sYXlvdXRNYW5hZ2VyLmdldExheW91dChmKSxudWxsIT1mJiZmLmNvbnN0cnVjdG9yPT1teFN0YWNrTGF5b3V0JiYoY1tteENvbnN0YW50cy5TVFlMRV9IT1JJWk9OVEFMXT0hZi5ob3Jpem9udGFsKSl9cmV0dXJuIGN9OwpHcmFwaC5wcm90b3R5cGUudXBkYXRlQWx0ZXJuYXRlQm91bmRzPWZ1bmN0aW9uKGEsYyxmKXtpZihudWxsIT1hJiZudWxsIT1jJiZudWxsIT10aGlzLmxheW91dE1hbmFnZXImJm51bGwhPWMuYWx0ZXJuYXRlQm91bmRzKXt2YXIgZD10aGlzLmxheW91dE1hbmFnZXIuZ2V0TGF5b3V0KHRoaXMubW9kZWwuZ2V0UGFyZW50KGEpKTtudWxsIT1kJiZkLmNvbnN0cnVjdG9yPT1teFN0YWNrTGF5b3V0JiYoZC5ob3Jpem9udGFsP2MuYWx0ZXJuYXRlQm91bmRzLmhlaWdodD0wOmMuYWx0ZXJuYXRlQm91bmRzLndpZHRoPTApfW14R3JhcGgucHJvdG90eXBlLnVwZGF0ZUFsdGVybmF0ZUJvdW5kcy5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O0dyYXBoLnByb3RvdHlwZS5pc01vdmVDZWxsc0V2ZW50PWZ1bmN0aW9uKGEsYyl7cmV0dXJuIG14RXZlbnQuaXNTaGlmdERvd24oYSl8fCIxIj09bXhVdGlscy5nZXRWYWx1ZShjLnN0eWxlLCJtb3ZlQ2VsbHMiLCIwIil9OwpHcmFwaC5wcm90b3R5cGUuZm9sZENlbGxzPWZ1bmN0aW9uKGEsYyxmLGQsayl7Yz1udWxsIT1jP2M6ITE7bnVsbD09ZiYmKGY9dGhpcy5nZXRGb2xkYWJsZUNlbGxzKHRoaXMuZ2V0U2VsZWN0aW9uQ2VsbHMoKSxhKSk7aWYobnVsbCE9Zil7dGhpcy5tb2RlbC5iZWdpblVwZGF0ZSgpO3RyeXtpZihteEdyYXBoLnByb3RvdHlwZS5mb2xkQ2VsbHMuYXBwbHkodGhpcyxhcmd1bWVudHMpLG51bGwhPXRoaXMubGF5b3V0TWFuYWdlcilmb3IodmFyIG09MDttPGYubGVuZ3RoO20rKyl7dmFyIHE9dGhpcy52aWV3LmdldFN0YXRlKGZbbV0pLGI9dGhpcy5nZXRDZWxsR2VvbWV0cnkoZlttXSk7aWYobnVsbCE9cSYmbnVsbCE9Yil7dmFyIGU9TWF0aC5yb3VuZChiLndpZHRoLXEud2lkdGgvdGhpcy52aWV3LnNjYWxlKSxnPU1hdGgucm91bmQoYi5oZWlnaHQtcS5oZWlnaHQvdGhpcy52aWV3LnNjYWxlKTtpZigwIT1nfHwwIT1lKXt2YXIgbj10aGlzLm1vZGVsLmdldFBhcmVudChmW21dKSxsPXRoaXMubGF5b3V0TWFuYWdlci5nZXRMYXlvdXQobik7Cm51bGw9PWw/bnVsbCE9ayYmdGhpcy5pc01vdmVDZWxsc0V2ZW50KGsscSkmJnRoaXMubW92ZVNpYmxpbmdzKHEsbixlLGcpOm51bGwhPWsmJm14RXZlbnQuaXNBbHREb3duKGspfHxsLmNvbnN0cnVjdG9yIT1teFN0YWNrTGF5b3V0fHxsLnJlc2l6ZUxhc3R8fHRoaXMucmVzaXplUGFyZW50U3RhY2tzKG4sbCxlLGcpfX19fWZpbmFsbHl7dGhpcy5tb2RlbC5lbmRVcGRhdGUoKX10aGlzLmlzRW5hYmxlZCgpJiZ0aGlzLnNldFNlbGVjdGlvbkNlbGxzKGYpfX07CkdyYXBoLnByb3RvdHlwZS5tb3ZlU2libGluZ3M9ZnVuY3Rpb24oYSxjLGYsZCl7dGhpcy5tb2RlbC5iZWdpblVwZGF0ZSgpO3RyeXt2YXIgaz10aGlzLmdldENlbGxzQmV5b25kKGEueCxhLnksYywhMCwhMCk7Zm9yKGM9MDtjPGsubGVuZ3RoO2MrKylpZihrW2NdIT1hLmNlbGwpe3ZhciBtPXRoaXMudmlldy5nZXRTdGF0ZShrW2NdKSxxPXRoaXMuZ2V0Q2VsbEdlb21ldHJ5KGtbY10pO251bGwhPW0mJm51bGwhPXEmJihxPXEuY2xvbmUoKSxxLnRyYW5zbGF0ZShNYXRoLnJvdW5kKGYqTWF0aC5tYXgoMCxNYXRoLm1pbigxLChtLngtYS54KS9hLndpZHRoKSkpLE1hdGgucm91bmQoZCpNYXRoLm1heCgwLE1hdGgubWluKDEsKG0ueS1hLnkpL2EuaGVpZ2h0KSkpKSx0aGlzLm1vZGVsLnNldEdlb21ldHJ5KGtbY10scSkpfX1maW5hbGx5e3RoaXMubW9kZWwuZW5kVXBkYXRlKCl9fTsKR3JhcGgucHJvdG90eXBlLnJlc2l6ZVBhcmVudFN0YWNrcz1mdW5jdGlvbihhLGMsZixkKXtpZihudWxsIT10aGlzLmxheW91dE1hbmFnZXImJm51bGwhPWMmJmMuY29uc3RydWN0b3I9PW14U3RhY2tMYXlvdXQmJiFjLnJlc2l6ZUxhc3Qpe3RoaXMubW9kZWwuYmVnaW5VcGRhdGUoKTt0cnl7Zm9yKHZhciBrPWMuaG9yaXpvbnRhbDtudWxsIT1hJiZudWxsIT1jJiZjLmNvbnN0cnVjdG9yPT1teFN0YWNrTGF5b3V0JiZjLmhvcml6b250YWw9PWsmJiFjLnJlc2l6ZUxhc3Q7KXt2YXIgbT10aGlzLmdldENlbGxHZW9tZXRyeShhKSxxPXRoaXMudmlldy5nZXRTdGF0ZShhKTtudWxsIT1xJiZudWxsIT1tJiYobT1tLmNsb25lKCksYy5ob3Jpem9udGFsP20ud2lkdGgrPWYrTWF0aC5taW4oMCxxLndpZHRoL3RoaXMudmlldy5zY2FsZS1tLndpZHRoKTptLmhlaWdodCs9ZCtNYXRoLm1pbigwLHEuaGVpZ2h0L3RoaXMudmlldy5zY2FsZS1tLmhlaWdodCksdGhpcy5tb2RlbC5zZXRHZW9tZXRyeShhLAptKSk7YT10aGlzLm1vZGVsLmdldFBhcmVudChhKTtjPXRoaXMubGF5b3V0TWFuYWdlci5nZXRMYXlvdXQoYSl9fWZpbmFsbHl7dGhpcy5tb2RlbC5lbmRVcGRhdGUoKX19fTtHcmFwaC5wcm90b3R5cGUuaXNDb250YWluZXI9ZnVuY3Rpb24oYSl7dmFyIGM9dGhpcy5nZXRDdXJyZW50Q2VsbFN0eWxlKGEpO3JldHVybiB0aGlzLmlzU3dpbWxhbmUoYSk/IjAiIT1jLmNvbnRhaW5lcjoiMSI9PWMuY29udGFpbmVyfTtHcmFwaC5wcm90b3R5cGUuaXNFeHRlbmRQYXJlbnQ9ZnVuY3Rpb24oYSl7dmFyIGM9dGhpcy5tb2RlbC5nZXRQYXJlbnQoYSk7cmV0dXJuIG51bGwhPWMmJihjPXRoaXMuZ2V0Q3VycmVudENlbGxTdHlsZShjKSxudWxsIT1jLmV4cGFuZCk/IjAiIT1jLmV4cGFuZDpteEdyYXBoLnByb3RvdHlwZS5pc0V4dGVuZFBhcmVudC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9OwpHcmFwaC5wcm90b3R5cGUuaXNDZWxsQ29ubmVjdGFibGU9ZnVuY3Rpb24oYSl7dmFyIGM9dGhpcy5nZXRDdXJyZW50Q2VsbFN0eWxlKGEpO3JldHVybiBudWxsIT1jLmNvbm5lY3RhYmxlPyIwIiE9Yy5jb25uZWN0YWJsZTpteEdyYXBoLnByb3RvdHlwZS5pc0NlbGxDb25uZWN0YWJsZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O0dyYXBoLnByb3RvdHlwZS5pc0xhYmVsTW92YWJsZT1mdW5jdGlvbihhKXt2YXIgYz10aGlzLmdldEN1cnJlbnRDZWxsU3R5bGUoYSk7cmV0dXJuIG51bGwhPWMubW92YWJsZUxhYmVsPyIwIiE9Yy5tb3ZhYmxlTGFiZWw6bXhHcmFwaC5wcm90b3R5cGUuaXNMYWJlbE1vdmFibGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtHcmFwaC5wcm90b3R5cGUuc2VsZWN0QWxsPWZ1bmN0aW9uKGEpe2E9YXx8dGhpcy5nZXREZWZhdWx0UGFyZW50KCk7dGhpcy5pc0NlbGxMb2NrZWQoYSl8fG14R3JhcGgucHJvdG90eXBlLnNlbGVjdEFsbC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9OwpHcmFwaC5wcm90b3R5cGUuc2VsZWN0Q2VsbHM9ZnVuY3Rpb24oYSxjLGYpe2Y9Znx8dGhpcy5nZXREZWZhdWx0UGFyZW50KCk7dGhpcy5pc0NlbGxMb2NrZWQoZil8fG14R3JhcGgucHJvdG90eXBlLnNlbGVjdENlbGxzLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07R3JhcGgucHJvdG90eXBlLmdldFN3aW1sYW5lQXQ9ZnVuY3Rpb24oYSxjLGYpe3ZhciBkPW14R3JhcGgucHJvdG90eXBlLmdldFN3aW1sYW5lQXQuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuaXNDZWxsTG9ja2VkKGQpJiYoZD1udWxsKTtyZXR1cm4gZH07CkdyYXBoLnByb3RvdHlwZS5pc0NlbGxGb2xkYWJsZT1mdW5jdGlvbihhKXt2YXIgYz10aGlzLmdldEN1cnJlbnRDZWxsU3R5bGUoYSk7cmV0dXJuIHRoaXMuZm9sZGluZ0VuYWJsZWQmJigiMSI9PWMudHJlZUZvbGRpbmd8fCF0aGlzLmlzQ2VsbExvY2tlZChhKSYmKHRoaXMuaXNDb250YWluZXIoYSkmJiIwIiE9Yy5jb2xsYXBzaWJsZXx8IXRoaXMuaXNDb250YWluZXIoYSkmJiIxIj09Yy5jb2xsYXBzaWJsZSkpfTtHcmFwaC5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLmlzRWRpdGluZygpJiZ0aGlzLnN0b3BFZGl0aW5nKCEwKTt0aGlzLmVzY2FwZSgpO3RoaXMuaXNTZWxlY3Rpb25FbXB0eSgpfHx0aGlzLmNsZWFyU2VsZWN0aW9uKCl9OwpHcmFwaC5wcm90b3R5cGUuem9vbT1mdW5jdGlvbihhLGMpe2E9TWF0aC5tYXgoLjAxLE1hdGgubWluKHRoaXMudmlldy5zY2FsZSphLDE2MCkpL3RoaXMudmlldy5zY2FsZTtteEdyYXBoLnByb3RvdHlwZS56b29tLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07R3JhcGgucHJvdG90eXBlLnpvb21Jbj1mdW5jdGlvbigpey4xNT50aGlzLnZpZXcuc2NhbGU/dGhpcy56b29tKCh0aGlzLnZpZXcuc2NhbGUrLjAxKS90aGlzLnZpZXcuc2NhbGUpOnRoaXMuem9vbShNYXRoLnJvdW5kKHRoaXMudmlldy5zY2FsZSp0aGlzLnpvb21GYWN0b3IqMjApLzIwL3RoaXMudmlldy5zY2FsZSl9O0dyYXBoLnByb3RvdHlwZS56b29tT3V0PWZ1bmN0aW9uKCl7LjE1Pj10aGlzLnZpZXcuc2NhbGU/dGhpcy56b29tKCh0aGlzLnZpZXcuc2NhbGUtLjAxKS90aGlzLnZpZXcuc2NhbGUpOnRoaXMuem9vbShNYXRoLnJvdW5kKDEvdGhpcy56b29tRmFjdG9yKnRoaXMudmlldy5zY2FsZSoyMCkvMjAvdGhpcy52aWV3LnNjYWxlKX07CkdyYXBoLnByb3RvdHlwZS5nZXRUb29sdGlwRm9yQ2VsbD1mdW5jdGlvbihhKXt2YXIgYz0iIjtpZihteFV0aWxzLmlzTm9kZShhLnZhbHVlKSl7dmFyIGY9YS52YWx1ZS5nZXRBdHRyaWJ1dGUoInRvb2x0aXAiKTtpZihudWxsIT1mKW51bGwhPWYmJnRoaXMuaXNSZXBsYWNlUGxhY2Vob2xkZXJzKGEpJiYoZj10aGlzLnJlcGxhY2VQbGFjZWhvbGRlcnMoYSxmKSksYz10aGlzLnNhbml0aXplSHRtbChmKTtlbHNle2Y9dGhpcy5idWlsdEluUHJvcGVydGllczthPWEudmFsdWUuYXR0cmlidXRlczt2YXIgZD1bXTt0aGlzLmlzRW5hYmxlZCgpJiZmLnB1c2goImxpbmsiKTtmb3IodmFyIGs9MDtrPGEubGVuZ3RoO2srKykwPm14VXRpbHMuaW5kZXhPZihmLGFba10ubm9kZU5hbWUpJiYwPGFba10ubm9kZVZhbHVlLmxlbmd0aCYmZC5wdXNoKHtuYW1lOmFba10ubm9kZU5hbWUsdmFsdWU6YVtrXS5ub2RlVmFsdWV9KTtkLnNvcnQoZnVuY3Rpb24oYSxjKXtyZXR1cm4gYS5uYW1lPGMubmFtZT8KLTE6YS5uYW1lPmMubmFtZT8xOjB9KTtmb3Ioaz0wO2s8ZC5sZW5ndGg7aysrKSJsaW5rIj09ZFtrXS5uYW1lJiZ0aGlzLmlzQ3VzdG9tTGluayhkW2tdLnZhbHVlKXx8KGMrPSgibGluayIhPWRba10ubmFtZT8iPGI+IitkW2tdLm5hbWUrIjo8L2I+ICI6IiIpK214VXRpbHMuaHRtbEVudGl0aWVzKGRba10udmFsdWUpKyJcbiIpOzA8Yy5sZW5ndGgmJihjPWMuc3Vic3RyaW5nKDAsYy5sZW5ndGgtMSksbXhDbGllbnQuSVNfU1ZHJiYoYz0nPGRpdiBzdHlsZT0ibWF4LXdpZHRoOjM2MHB4OyI+JytjKyI8L2Rpdj4iKSl9fXJldHVybiBjfTtHcmFwaC5wcm90b3R5cGUuc3RyaW5nVG9CeXRlcz1mdW5jdGlvbihhKXtyZXR1cm4gR3JhcGguc3RyaW5nVG9CeXRlcyhhKX07R3JhcGgucHJvdG90eXBlLmJ5dGVzVG9TdHJpbmc9ZnVuY3Rpb24oYSl7cmV0dXJuIEdyYXBoLmJ5dGVzVG9TdHJpbmcoYSl9O0dyYXBoLnByb3RvdHlwZS5jb21wcmVzc05vZGU9ZnVuY3Rpb24oYSl7cmV0dXJuIEdyYXBoLmNvbXByZXNzTm9kZShhKX07CkdyYXBoLnByb3RvdHlwZS5jb21wcmVzcz1mdW5jdGlvbihhLGMpe3JldHVybiBHcmFwaC5jb21wcmVzcyhhLGMpfTtHcmFwaC5wcm90b3R5cGUuZGVjb21wcmVzcz1mdW5jdGlvbihhLGMpe3JldHVybiBHcmFwaC5kZWNvbXByZXNzKGEsYyl9O0dyYXBoLnByb3RvdHlwZS56YXBHcmVtbGlucz1mdW5jdGlvbihhKXtyZXR1cm4gR3JhcGguemFwR3JlbWxpbnMoYSl9O0hvdmVySWNvbnM9ZnVuY3Rpb24oYSl7dGhpcy5ncmFwaD1hO3RoaXMuaW5pdCgpfTtIb3Zlckljb25zLnByb3RvdHlwZS5hcnJvd1NwYWNpbmc9MjtIb3Zlckljb25zLnByb3RvdHlwZS51cGRhdGVEZWxheT01MDA7SG92ZXJJY29ucy5wcm90b3R5cGUuYWN0aXZhdGlvbkRlbGF5PTE0MDtIb3Zlckljb25zLnByb3RvdHlwZS5jdXJyZW50U3RhdGU9bnVsbDtIb3Zlckljb25zLnByb3RvdHlwZS5hY3RpdmVBcnJvdz1udWxsO0hvdmVySWNvbnMucHJvdG90eXBlLmluYWN0aXZlT3BhY2l0eT0xNTsKSG92ZXJJY29ucy5wcm90b3R5cGUuY3NzQ3Vyc29yPSJjb3B5IjtIb3Zlckljb25zLnByb3RvdHlwZS5jaGVja0NvbGxpc2lvbnM9ITA7SG92ZXJJY29ucy5wcm90b3R5cGUuYXJyb3dGaWxsPSIjMjliNmYyIjtIb3Zlckljb25zLnByb3RvdHlwZS50cmlhbmdsZVVwPW14Q2xpZW50LklTX1NWRz9HcmFwaC5jcmVhdGVTdmdJbWFnZSgxOCwyOCwnPHBhdGggZD0ibSA2IDI2IEwgMTIgMjYgTCAxMiAxMiBMIDE4IDEyIEwgOSAxIEwgMSAxMiBMIDYgMTIgeiIgc3Ryb2tlPSIjZmZmIiBmaWxsPSInK0hvdmVySWNvbnMucHJvdG90eXBlLmFycm93RmlsbCsnIi8+Jyk6bmV3IG14SW1hZ2UoSU1BR0VfUEFUSCsiL3RyaWFuZ2xlLXVwLnBuZyIsMjYsMTQpOwpIb3Zlckljb25zLnByb3RvdHlwZS50cmlhbmdsZVJpZ2h0PW14Q2xpZW50LklTX1NWRz9HcmFwaC5jcmVhdGVTdmdJbWFnZSgyNiwxOCwnPHBhdGggZD0ibSAxIDYgTCAxNCA2IEwgMTQgMSBMIDI2IDkgTCAxNCAxOCBMIDE0IDEyIEwgMSAxMiB6IiBzdHJva2U9IiNmZmYiIGZpbGw9IicrSG92ZXJJY29ucy5wcm90b3R5cGUuYXJyb3dGaWxsKyciLz4nKTpuZXcgbXhJbWFnZShJTUFHRV9QQVRIKyIvdHJpYW5nbGUtcmlnaHQucG5nIiwxNCwyNik7SG92ZXJJY29ucy5wcm90b3R5cGUudHJpYW5nbGVEb3duPW14Q2xpZW50LklTX1NWRz9HcmFwaC5jcmVhdGVTdmdJbWFnZSgxOCwyNiwnPHBhdGggZD0ibSA2IDEgTCA2IDE0IEwgMSAxNCBMIDkgMjYgTCAxOCAxNCBMIDEyIDE0IEwgMTIgMSB6IiBzdHJva2U9IiNmZmYiIGZpbGw9IicrSG92ZXJJY29ucy5wcm90b3R5cGUuYXJyb3dGaWxsKyciLz4nKTpuZXcgbXhJbWFnZShJTUFHRV9QQVRIKyIvdHJpYW5nbGUtZG93bi5wbmciLDI2LDE0KTsKSG92ZXJJY29ucy5wcm90b3R5cGUudHJpYW5nbGVMZWZ0PW14Q2xpZW50LklTX1NWRz9HcmFwaC5jcmVhdGVTdmdJbWFnZSgyOCwxOCwnPHBhdGggZD0ibSAxIDkgTCAxMiAxIEwgMTIgNiBMIDI2IDYgTCAyNiAxMiBMIDEyIDEyIEwgMTIgMTggeiIgc3Ryb2tlPSIjZmZmIiBmaWxsPSInK0hvdmVySWNvbnMucHJvdG90eXBlLmFycm93RmlsbCsnIi8+Jyk6bmV3IG14SW1hZ2UoSU1BR0VfUEFUSCsiL3RyaWFuZ2xlLWxlZnQucG5nIiwxNCwyNik7SG92ZXJJY29ucy5wcm90b3R5cGUucm91bmREcm9wPW14Q2xpZW50LklTX1NWRz9HcmFwaC5jcmVhdGVTdmdJbWFnZSgyNiwyNiwnPGNpcmNsZSBjeD0iMTMiIGN5PSIxMyIgcj0iMTIiIHN0cm9rZT0iI2ZmZiIgZmlsbD0iJytIb3Zlckljb25zLnByb3RvdHlwZS5hcnJvd0ZpbGwrJyIvPicpOm5ldyBteEltYWdlKElNQUdFX1BBVEgrIi9yb3VuZC1kcm9wLnBuZyIsMjYsMjYpOwpIb3Zlckljb25zLnByb3RvdHlwZS5yZWZyZXNoVGFyZ2V0PW5ldyBteEltYWdlKG14Q2xpZW50LklTX1NWRz8iZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQSE4yWnlCNGJXeHVjejBpYUhSMGNEb3ZMM2QzZHk1M015NXZjbWN2TWpBd01DOXpkbWNpSUhacFpYZENiM2c5SWpBZ01DQXlOQ0F5TkNJZ2QybGtkR2c5SWpNMmNIZ2lJR2hsYVdkb2REMGlNelp3ZUNJK1BHVnNiR2x3YzJVZ1ptbHNiRDBpSXpJNVlqWm1NaUlnWTNnOUlqRXlJaUJqZVQwaU1USWlJSEo0UFNJeE1pSWdjbms5SWpFeUlpOCtQSEJoZEdnZ2RISmhibk5tYjNKdFBTSnpZMkZzWlNnd0xqZ3BJSFJ5WVc1emJHRjBaU2d5TGpRc0lESXVOQ2tpSUhOMGNtOXJaVDBpSTJabVppSWdabWxzYkQwaUkyWm1aaUlnWkQwaVRURXlJRFoyTTJ3MExUUXROQzAwZGpOakxUUXVORElnTUMwNElETXVOVGd0T0NBNElEQWdNUzQxTnk0ME5pQXpMakF6SURFdU1qUWdOQzR5Tmt3MkxqY2dNVFF1T0dNdExqUTFMUzQ0TXkwdU55MHhMamM1TFM0M0xUSXVPQ0F3TFRNdU16RWdNaTQyT1MwMklEWXRObnB0Tmk0M05pQXhMamMwVERFM0xqTWdPUzR5WXk0ME5DNDROQzQzSURFdU56a3VOeUF5TGpnZ01DQXpMak14TFRJdU5qa2dOaTAySURaMkxUTnNMVFFnTkNBMElEUjJMVE5qTkM0ME1pQXdJRGd0TXk0MU9DQTRMVGdnTUMweExqVTNMUzQwTmkwekxqQXpMVEV1TWpRdE5DNHlObm9pTHo0OGNHRjBhQ0JrUFNKTk1DQXdhREkwZGpJMFNEQjZJaUJtYVd4c1BTSnViMjVsSWk4K1BDOXpkbWMrQ2c9PSI6CklNQUdFX1BBVEgrIi9yZWZyZXNoLnBuZyIsMzgsMzgpO0hvdmVySWNvbnMucHJvdG90eXBlLnRvbGVyYW5jZT1teENsaWVudC5JU19UT1VDSD82OjA7CkhvdmVySWNvbnMucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oKXt0aGlzLmFycm93VXA9dGhpcy5jcmVhdGVBcnJvdyh0aGlzLnRyaWFuZ2xlVXAsbXhSZXNvdXJjZXMuZ2V0KCJwbHVzVG9vbHRpcCIpKTt0aGlzLmFycm93UmlnaHQ9dGhpcy5jcmVhdGVBcnJvdyh0aGlzLnRyaWFuZ2xlUmlnaHQsbXhSZXNvdXJjZXMuZ2V0KCJwbHVzVG9vbHRpcCIpKTt0aGlzLmFycm93RG93bj10aGlzLmNyZWF0ZUFycm93KHRoaXMudHJpYW5nbGVEb3duLG14UmVzb3VyY2VzLmdldCgicGx1c1Rvb2x0aXAiKSk7dGhpcy5hcnJvd0xlZnQ9dGhpcy5jcmVhdGVBcnJvdyh0aGlzLnRyaWFuZ2xlTGVmdCxteFJlc291cmNlcy5nZXQoInBsdXNUb29sdGlwIikpO3RoaXMuZWx0cz1bdGhpcy5hcnJvd1VwLHRoaXMuYXJyb3dSaWdodCx0aGlzLmFycm93RG93bix0aGlzLmFycm93TGVmdF07dGhpcy5yZXNldEhhbmRsZXI9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt0aGlzLnJlc2V0KCl9KTt0aGlzLnJlcGFpbnRIYW5kbGVyPQpteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMucmVwYWludCgpfSk7dGhpcy5ncmFwaC5zZWxlY3Rpb25Nb2RlbC5hZGRMaXN0ZW5lcihteEV2ZW50LkNIQU5HRSx0aGlzLnJlc2V0SGFuZGxlcik7dGhpcy5ncmFwaC5tb2RlbC5hZGRMaXN0ZW5lcihteEV2ZW50LkNIQU5HRSx0aGlzLnJlcGFpbnRIYW5kbGVyKTt0aGlzLmdyYXBoLnZpZXcuYWRkTGlzdGVuZXIobXhFdmVudC5TQ0FMRV9BTkRfVFJBTlNMQVRFLHRoaXMucmVwYWludEhhbmRsZXIpO3RoaXMuZ3JhcGgudmlldy5hZGRMaXN0ZW5lcihteEV2ZW50LlRSQU5TTEFURSx0aGlzLnJlcGFpbnRIYW5kbGVyKTt0aGlzLmdyYXBoLnZpZXcuYWRkTGlzdGVuZXIobXhFdmVudC5TQ0FMRSx0aGlzLnJlcGFpbnRIYW5kbGVyKTt0aGlzLmdyYXBoLnZpZXcuYWRkTGlzdGVuZXIobXhFdmVudC5ET1dOLHRoaXMucmVwYWludEhhbmRsZXIpO3RoaXMuZ3JhcGgudmlldy5hZGRMaXN0ZW5lcihteEV2ZW50LlVQLHRoaXMucmVwYWludEhhbmRsZXIpOwp0aGlzLmdyYXBoLmFkZExpc3RlbmVyKG14RXZlbnQuUk9PVCx0aGlzLnJlcGFpbnRIYW5kbGVyKTt0aGlzLmdyYXBoLmFkZExpc3RlbmVyKG14RXZlbnQuRVNDQVBFLHRoaXMucmVzZXRIYW5kbGVyKTtteEV2ZW50LmFkZExpc3RlbmVyKHRoaXMuZ3JhcGguY29udGFpbmVyLCJzY3JvbGwiLHRoaXMucmVzZXRIYW5kbGVyKTt0aGlzLmdyYXBoLmFkZExpc3RlbmVyKG14RXZlbnQuRVNDQVBFLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dGhpcy5tb3VzZURvd25Qb2ludD1udWxsfSkpO214RXZlbnQuYWRkTGlzdGVuZXIodGhpcy5ncmFwaC5jb250YWluZXIsIm1vdXNlbGVhdmUiLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe251bGwhPWEucmVsYXRlZFRhcmdldCYmbXhFdmVudC5nZXRTb3VyY2UoYSk9PXRoaXMuZ3JhcGguY29udGFpbmVyJiZ0aGlzLnNldERpc3BsYXkoIm5vbmUiKX0pKTt0aGlzLmdyYXBoLmFkZExpc3RlbmVyKG14RXZlbnQuU1RBUlRfRURJVElORywKbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7dGhpcy5yZXNldCgpfSkpO3ZhciBhPXRoaXMuZ3JhcGguY2xpY2s7dGhpcy5ncmFwaC5jbGljaz1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihjKXthLmFwcGx5KHRoaXMuZ3JhcGgsYXJndW1lbnRzKTtudWxsPT10aGlzLmN1cnJlbnRTdGF0ZXx8dGhpcy5ncmFwaC5pc0NlbGxTZWxlY3RlZCh0aGlzLmN1cnJlbnRTdGF0ZS5jZWxsKXx8IW14RXZlbnQuaXNUb3VjaEV2ZW50KGMuZ2V0RXZlbnQoKSl8fHRoaXMuZ3JhcGgubW9kZWwuaXNWZXJ0ZXgoYy5nZXRDZWxsKCkpfHx0aGlzLnJlc2V0KCl9KTt2YXIgYz0hMTt0aGlzLmdyYXBoLmFkZE1vdXNlTGlzdGVuZXIoe21vdXNlRG93bjpteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhLGQpe2M9ITE7dmFyIGY9ZC5nZXRFdmVudCgpO2lmKHRoaXMuaXNSZXNldEV2ZW50KGYpKXRoaXMucmVzZXQoKTtlbHNlIGlmKCF0aGlzLmlzQWN0aXZlKCkpe3ZhciBtPXRoaXMuZ2V0U3RhdGUoZC5nZXRTdGF0ZSgpKTsKbnVsbD09bSYmbXhFdmVudC5pc1RvdWNoRXZlbnQoZil8fHRoaXMudXBkYXRlKG0pfXRoaXMuc2V0RGlzcGxheSgibm9uZSIpfSksbW91c2VNb3ZlOm14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEsZCl7dmFyIGY9ZC5nZXRFdmVudCgpO3RoaXMuaXNSZXNldEV2ZW50KGYpP3RoaXMucmVzZXQoKTp0aGlzLmdyYXBoLmlzTW91c2VEb3dufHxteEV2ZW50LmlzVG91Y2hFdmVudChmKXx8dGhpcy51cGRhdGUodGhpcy5nZXRTdGF0ZShkLmdldFN0YXRlKCkpLGQuZ2V0R3JhcGhYKCksZC5nZXRHcmFwaFkoKSk7bnVsbCE9dGhpcy5ncmFwaC5jb25uZWN0aW9uSGFuZGxlciYmbnVsbCE9dGhpcy5ncmFwaC5jb25uZWN0aW9uSGFuZGxlci5zaGFwZSYmKGM9ITApfSksbW91c2VVcDpteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhLGQpe3ZhciBmPWQuZ2V0RXZlbnQoKTtteFV0aWxzLmNvbnZlcnRQb2ludCh0aGlzLmdyYXBoLmNvbnRhaW5lcixteEV2ZW50LmdldENsaWVudFgoZiksbXhFdmVudC5nZXRDbGllbnRZKGYpKTsKdGhpcy5pc1Jlc2V0RXZlbnQoZik/dGhpcy5yZXNldCgpOnRoaXMuaXNBY3RpdmUoKSYmIWMmJm51bGwhPXRoaXMubW91c2VEb3duUG9pbnQ/dGhpcy5jbGljayh0aGlzLmN1cnJlbnRTdGF0ZSx0aGlzLmdldERpcmVjdGlvbigpLGQpOnRoaXMuaXNBY3RpdmUoKT8xPT10aGlzLmdyYXBoLmdldFNlbGVjdGlvbkNvdW50KCkmJnRoaXMuZ3JhcGgubW9kZWwuaXNFZGdlKHRoaXMuZ3JhcGguZ2V0U2VsZWN0aW9uQ2VsbCgpKT90aGlzLnJlc2V0KCk6dGhpcy51cGRhdGUodGhpcy5nZXRTdGF0ZSh0aGlzLmdyYXBoLnZpZXcuZ2V0U3RhdGUodGhpcy5ncmFwaC5nZXRDZWxsQXQoZC5nZXRHcmFwaFgoKSxkLmdldEdyYXBoWSgpKSkpKTpteEV2ZW50LmlzVG91Y2hFdmVudChmKXx8bnVsbCE9dGhpcy5iYm94JiZteFV0aWxzLmNvbnRhaW5zKHRoaXMuYmJveCxkLmdldEdyYXBoWCgpLGQuZ2V0R3JhcGhZKCkpPyh0aGlzLnNldERpc3BsYXkoIiIpLHRoaXMucmVwYWludCgpKTpteEV2ZW50LmlzVG91Y2hFdmVudChmKXx8CnRoaXMucmVzZXQoKTtjPSExO3RoaXMucmVzZXRBY3RpdmVBcnJvdygpfSl9KX07SG92ZXJJY29ucy5wcm90b3R5cGUuaXNSZXNldEV2ZW50PWZ1bmN0aW9uKGEsYyl7cmV0dXJuIG14RXZlbnQuaXNBbHREb3duKGEpfHxudWxsPT10aGlzLmFjdGl2ZUFycm93JiZteEV2ZW50LmlzU2hpZnREb3duKGEpfHxteEV2ZW50LmlzTWV0YURvd24oYSl8fG14RXZlbnQuaXNQb3B1cFRyaWdnZXIoYSkmJiFteEV2ZW50LmlzQ29udHJvbERvd24oYSl9OwpIb3Zlckljb25zLnByb3RvdHlwZS5jcmVhdGVBcnJvdz1mdW5jdGlvbihhLGMpe3ZhciBmPW51bGw7bXhDbGllbnQuSVNfSUUmJiFteENsaWVudC5JU19TVkc/KG14Q2xpZW50LklTX0lFNiYmIkNTUzFDb21wYXQiIT1kb2N1bWVudC5jb21wYXRNb2RlPyhmPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQobXhDbGllbnQuVk1MX1BSRUZJWCsiOmltYWdlIiksZi5zZXRBdHRyaWJ1dGUoInNyYyIsYS5zcmMpLGYuc3R5bGUuYm9yZGVyU3R5bGU9Im5vbmUiKTooZj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSxmLnN0eWxlLmJhY2tncm91bmRJbWFnZT0idXJsKCIrYS5zcmMrIikiLGYuc3R5bGUuYmFja2dyb3VuZFBvc2l0aW9uPSJjZW50ZXIiLGYuc3R5bGUuYmFja2dyb3VuZFJlcGVhdD0ibm8tcmVwZWF0IiksZi5zdHlsZS53aWR0aD1hLndpZHRoKzQrInB4IixmLnN0eWxlLmhlaWdodD1hLmhlaWdodCs0KyJweCIsZi5zdHlsZS5kaXNwbGF5PW14Q2xpZW50LklTX1FVSVJLUz8iaW5saW5lIjoKImlubGluZS1ibG9jayIpOihmPW14VXRpbHMuY3JlYXRlSW1hZ2UoYS5zcmMpLGYuc3R5bGUud2lkdGg9YS53aWR0aCsicHgiLGYuc3R5bGUuaGVpZ2h0PWEuaGVpZ2h0KyJweCIsZi5zdHlsZS5wYWRkaW5nPXRoaXMudG9sZXJhbmNlKyJweCIpO251bGwhPWMmJmYuc2V0QXR0cmlidXRlKCJ0aXRsZSIsYyk7Zi5zdHlsZS5wb3NpdGlvbj0iYWJzb2x1dGUiO2Yuc3R5bGUuY3Vyc29yPXRoaXMuY3NzQ3Vyc29yO214RXZlbnQuYWRkR2VzdHVyZUxpc3RlbmVycyhmLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe251bGw9PXRoaXMuY3VycmVudFN0YXRlfHx0aGlzLmlzUmVzZXRFdmVudChhKXx8KHRoaXMubW91c2VEb3duUG9pbnQ9bXhVdGlscy5jb252ZXJ0UG9pbnQodGhpcy5ncmFwaC5jb250YWluZXIsbXhFdmVudC5nZXRDbGllbnRYKGEpLG14RXZlbnQuZ2V0Q2xpZW50WShhKSksdGhpcy5kcmFnKGEsdGhpcy5tb3VzZURvd25Qb2ludC54LHRoaXMubW91c2VEb3duUG9pbnQueSksCnRoaXMuYWN0aXZlQXJyb3c9Zix0aGlzLnNldERpc3BsYXkoIm5vbmUiKSxteEV2ZW50LmNvbnN1bWUoYSkpfSkpO214RXZlbnQucmVkaXJlY3RNb3VzZUV2ZW50cyhmLHRoaXMuZ3JhcGgsdGhpcy5jdXJyZW50U3RhdGUpO214RXZlbnQuYWRkTGlzdGVuZXIoZiwibW91c2VlbnRlciIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7bXhFdmVudC5pc01vdXNlRXZlbnQoYSkmJihudWxsIT10aGlzLmFjdGl2ZUFycm93JiZ0aGlzLmFjdGl2ZUFycm93IT1mJiZteFV0aWxzLnNldE9wYWNpdHkodGhpcy5hY3RpdmVBcnJvdyx0aGlzLmluYWN0aXZlT3BhY2l0eSksdGhpcy5ncmFwaC5jb25uZWN0aW9uSGFuZGxlci5jb25zdHJhaW50SGFuZGxlci5yZXNldCgpLG14VXRpbHMuc2V0T3BhY2l0eShmLDEwMCksdGhpcy5hY3RpdmVBcnJvdz1mKX0pKTtteEV2ZW50LmFkZExpc3RlbmVyKGYsIm1vdXNlbGVhdmUiLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3RoaXMuZ3JhcGguaXNNb3VzZURvd258fAp0aGlzLnJlc2V0QWN0aXZlQXJyb3coKX0pKTtyZXR1cm4gZn07SG92ZXJJY29ucy5wcm90b3R5cGUucmVzZXRBY3RpdmVBcnJvdz1mdW5jdGlvbigpe251bGwhPXRoaXMuYWN0aXZlQXJyb3cmJihteFV0aWxzLnNldE9wYWNpdHkodGhpcy5hY3RpdmVBcnJvdyx0aGlzLmluYWN0aXZlT3BhY2l0eSksdGhpcy5hY3RpdmVBcnJvdz1udWxsKX07SG92ZXJJY29ucy5wcm90b3R5cGUuZ2V0RGlyZWN0aW9uPWZ1bmN0aW9uKCl7dmFyIGE9bXhDb25zdGFudHMuRElSRUNUSU9OX0VBU1Q7dGhpcy5hY3RpdmVBcnJvdz09dGhpcy5hcnJvd1VwP2E9bXhDb25zdGFudHMuRElSRUNUSU9OX05PUlRIOnRoaXMuYWN0aXZlQXJyb3c9PXRoaXMuYXJyb3dEb3duP2E9bXhDb25zdGFudHMuRElSRUNUSU9OX1NPVVRIOnRoaXMuYWN0aXZlQXJyb3c9PXRoaXMuYXJyb3dMZWZ0JiYoYT1teENvbnN0YW50cy5ESVJFQ1RJT05fV0VTVCk7cmV0dXJuIGF9OwpIb3Zlckljb25zLnByb3RvdHlwZS52aXNpdE5vZGVzPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYz0wO2M8dGhpcy5lbHRzLmxlbmd0aDtjKyspbnVsbCE9dGhpcy5lbHRzW2NdJiZhKHRoaXMuZWx0c1tjXSl9O0hvdmVySWNvbnMucHJvdG90eXBlLnJlbW92ZU5vZGVzPWZ1bmN0aW9uKCl7dGhpcy52aXNpdE5vZGVzKGZ1bmN0aW9uKGEpe251bGwhPWEucGFyZW50Tm9kZSYmYS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGEpfSl9O0hvdmVySWNvbnMucHJvdG90eXBlLnNldERpc3BsYXk9ZnVuY3Rpb24oYSl7dGhpcy52aXNpdE5vZGVzKGZ1bmN0aW9uKGMpe2Muc3R5bGUuZGlzcGxheT1hfSl9O0hvdmVySWNvbnMucHJvdG90eXBlLmlzQWN0aXZlPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPXRoaXMuYWN0aXZlQXJyb3cmJm51bGwhPXRoaXMuY3VycmVudFN0YXRlfTsKSG92ZXJJY29ucy5wcm90b3R5cGUuZHJhZz1mdW5jdGlvbihhLGMsZil7dGhpcy5ncmFwaC5wb3B1cE1lbnVIYW5kbGVyLmhpZGVNZW51KCk7dGhpcy5ncmFwaC5zdG9wRWRpdGluZyghMSk7bnVsbCE9dGhpcy5jdXJyZW50U3RhdGUmJih0aGlzLmdyYXBoLmNvbm5lY3Rpb25IYW5kbGVyLnN0YXJ0KHRoaXMuY3VycmVudFN0YXRlLGMsZiksdGhpcy5ncmFwaC5pc01vdXNlVHJpZ2dlcj1teEV2ZW50LmlzTW91c2VFdmVudChhKSx0aGlzLmdyYXBoLmlzTW91c2VEb3duPSEwLGM9dGhpcy5ncmFwaC5zZWxlY3Rpb25DZWxsc0hhbmRsZXIuZ2V0SGFuZGxlcih0aGlzLmN1cnJlbnRTdGF0ZS5jZWxsKSxudWxsIT1jJiZjLnNldEhhbmRsZXNWaXNpYmxlKCExKSxjPXRoaXMuZ3JhcGguY29ubmVjdGlvbkhhbmRsZXIuZWRnZVN0YXRlLG51bGwhPWEmJm14RXZlbnQuaXNTaGlmdERvd24oYSkmJm14RXZlbnQuaXNDb250cm9sRG93bihhKSYmbnVsbCE9YyYmIm9ydGhvZ29uYWxFZGdlU3R5bGUiPT09Cm14VXRpbHMuZ2V0VmFsdWUoYy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9FREdFLG51bGwpJiYoYT10aGlzLmdldERpcmVjdGlvbigpLGMuY2VsbC5zdHlsZT1teFV0aWxzLnNldFN0eWxlKGMuY2VsbC5zdHlsZSwic291cmNlUG9ydENvbnN0cmFpbnQiLGEpLGMuc3R5bGUuc291cmNlUG9ydENvbnN0cmFpbnQ9YSkpfTtIb3Zlckljb25zLnByb3RvdHlwZS5nZXRTdGF0ZUF0PWZ1bmN0aW9uKGEsYyxmKXtyZXR1cm4gdGhpcy5ncmFwaC52aWV3LmdldFN0YXRlKHRoaXMuZ3JhcGguZ2V0Q2VsbEF0KGMsZikpfTsKSG92ZXJJY29ucy5wcm90b3R5cGUuY2xpY2s9ZnVuY3Rpb24oYSxjLGYpe3ZhciBkPWYuZ2V0RXZlbnQoKSxrPWYuZ2V0R3JhcGhYKCksbT1mLmdldEdyYXBoWSgpLGs9dGhpcy5nZXRTdGF0ZUF0KGEsayxtKTtudWxsPT1rfHwhdGhpcy5ncmFwaC5tb2RlbC5pc0VkZ2Uoay5jZWxsKXx8bXhFdmVudC5pc0NvbnRyb2xEb3duKGQpfHxrLmdldFZpc2libGVUZXJtaW5hbFN0YXRlKCEwKSE9YSYmay5nZXRWaXNpYmxlVGVybWluYWxTdGF0ZSghMSkhPWE/bnVsbCE9YSYmdGhpcy5ncmFwaC5zZWxlY3RDZWxsc0ZvckNvbm5lY3RWZXJ0ZXgodGhpcy5ncmFwaC5jb25uZWN0VmVydGV4KGEuY2VsbCxjLHRoaXMuZ3JhcGguZGVmYXVsdEVkZ2VMZW5ndGgsZCksZCx0aGlzKToodGhpcy5ncmFwaC5zZXRTZWxlY3Rpb25DZWxsKGsuY2VsbCksdGhpcy5yZXNldCgpKTtmLmNvbnN1bWUoKX07CkhvdmVySWNvbnMucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKGEpe251bGwhPWEmJiFhfHxudWxsPT10aGlzLnVwZGF0ZVRocmVhZHx8d2luZG93LmNsZWFyVGltZW91dCh0aGlzLnVwZGF0ZVRocmVhZCk7dGhpcy5hY3RpdmVBcnJvdz10aGlzLmN1cnJlbnRTdGF0ZT10aGlzLm1vdXNlRG93blBvaW50PW51bGw7dGhpcy5yZW1vdmVOb2RlcygpO3RoaXMuYmJveD1udWxsfTsKSG92ZXJJY29ucy5wcm90b3R5cGUucmVwYWludD1mdW5jdGlvbigpe3RoaXMuYmJveD1udWxsO2lmKG51bGwhPXRoaXMuY3VycmVudFN0YXRlKXt0aGlzLmN1cnJlbnRTdGF0ZT10aGlzLmdldFN0YXRlKHRoaXMuY3VycmVudFN0YXRlKTtpZihudWxsIT10aGlzLmN1cnJlbnRTdGF0ZSYmdGhpcy5ncmFwaC5tb2RlbC5pc1ZlcnRleCh0aGlzLmN1cnJlbnRTdGF0ZS5jZWxsKSYmdGhpcy5ncmFwaC5pc0NlbGxDb25uZWN0YWJsZSh0aGlzLmN1cnJlbnRTdGF0ZS5jZWxsKSl7dmFyIGE9bXhSZWN0YW5nbGUuZnJvbVJlY3RhbmdsZSh0aGlzLmN1cnJlbnRTdGF0ZSk7bnVsbCE9dGhpcy5jdXJyZW50U3RhdGUuc2hhcGUmJm51bGwhPXRoaXMuY3VycmVudFN0YXRlLnNoYXBlLmJvdW5kaW5nQm94JiYoYT1teFJlY3RhbmdsZS5mcm9tUmVjdGFuZ2xlKHRoaXMuY3VycmVudFN0YXRlLnNoYXBlLmJvdW5kaW5nQm94KSk7YS5ncm93KHRoaXMuZ3JhcGgudG9sZXJhbmNlKTthLmdyb3codGhpcy5hcnJvd1NwYWNpbmcpOwp2YXIgYz10aGlzLmdyYXBoLnNlbGVjdGlvbkNlbGxzSGFuZGxlci5nZXRIYW5kbGVyKHRoaXMuY3VycmVudFN0YXRlLmNlbGwpO3RoaXMuZ3JhcGguaXNUYWJsZVJvdyh0aGlzLmN1cnJlbnRTdGF0ZS5jZWxsKSYmKGM9dGhpcy5ncmFwaC5zZWxlY3Rpb25DZWxsc0hhbmRsZXIuZ2V0SGFuZGxlcih0aGlzLmdyYXBoLm1vZGVsLmdldFBhcmVudCh0aGlzLmN1cnJlbnRTdGF0ZS5jZWxsKSkpO3ZhciBmPW51bGw7bnVsbCE9YyYmKGEueC09Yy5ob3Jpem9udGFsT2Zmc2V0LzIsYS55LT1jLnZlcnRpY2FsT2Zmc2V0LzIsYS53aWR0aCs9Yy5ob3Jpem9udGFsT2Zmc2V0LGEuaGVpZ2h0Kz1jLnZlcnRpY2FsT2Zmc2V0LG51bGwhPWMucm90YXRpb25TaGFwZSYmbnVsbCE9Yy5yb3RhdGlvblNoYXBlLm5vZGUmJiJoaWRkZW4iIT1jLnJvdGF0aW9uU2hhcGUubm9kZS5zdHlsZS52aXNpYmlsaXR5JiYibm9uZSIhPWMucm90YXRpb25TaGFwZS5ub2RlLnN0eWxlLmRpc3BsYXkmJm51bGwhPWMucm90YXRpb25TaGFwZS5ib3VuZGluZ0JveCYmCihmPWMucm90YXRpb25TaGFwZS5ib3VuZGluZ0JveCkpO2M9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSxlLGMpe2lmKG51bGwhPWYpe3ZhciBiPW5ldyBteFJlY3RhbmdsZShlLGMsYS5jbGllbnRXaWR0aCxhLmNsaWVudEhlaWdodCk7bXhVdGlscy5pbnRlcnNlY3RzKGIsZikmJihhPT10aGlzLmFycm93VXA/Yy09Yi55K2IuaGVpZ2h0LWYueTphPT10aGlzLmFycm93UmlnaHQ/ZSs9Zi54K2Yud2lkdGgtYi54OmE9PXRoaXMuYXJyb3dEb3duP2MrPWYueStmLmhlaWdodC1iLnk6YT09dGhpcy5hcnJvd0xlZnQmJihlLT1iLngrYi53aWR0aC1mLngpKX1hLnN0eWxlLmxlZnQ9ZSsicHgiO2Euc3R5bGUudG9wPWMrInB4IjtteFV0aWxzLnNldE9wYWNpdHkoYSx0aGlzLmluYWN0aXZlT3BhY2l0eSl9KTtjKHRoaXMuYXJyb3dVcCxNYXRoLnJvdW5kKHRoaXMuY3VycmVudFN0YXRlLmdldENlbnRlclgoKS10aGlzLnRyaWFuZ2xlVXAud2lkdGgvMi10aGlzLnRvbGVyYW5jZSksTWF0aC5yb3VuZChhLnktCnRoaXMudHJpYW5nbGVVcC5oZWlnaHQtdGhpcy50b2xlcmFuY2UpKTtjKHRoaXMuYXJyb3dSaWdodCxNYXRoLnJvdW5kKGEueCthLndpZHRoLXRoaXMudG9sZXJhbmNlKSxNYXRoLnJvdW5kKHRoaXMuY3VycmVudFN0YXRlLmdldENlbnRlclkoKS10aGlzLnRyaWFuZ2xlUmlnaHQuaGVpZ2h0LzItdGhpcy50b2xlcmFuY2UpKTtjKHRoaXMuYXJyb3dEb3duLHBhcnNlSW50KHRoaXMuYXJyb3dVcC5zdHlsZS5sZWZ0KSxNYXRoLnJvdW5kKGEueSthLmhlaWdodC10aGlzLnRvbGVyYW5jZSkpO2ModGhpcy5hcnJvd0xlZnQsTWF0aC5yb3VuZChhLngtdGhpcy50cmlhbmdsZUxlZnQud2lkdGgtdGhpcy50b2xlcmFuY2UpLHBhcnNlSW50KHRoaXMuYXJyb3dSaWdodC5zdHlsZS50b3ApKTtpZih0aGlzLmNoZWNrQ29sbGlzaW9ucyl7dmFyIGM9dGhpcy5ncmFwaC5nZXRDZWxsQXQoYS54K2Eud2lkdGgrdGhpcy50cmlhbmdsZVJpZ2h0LndpZHRoLzIsdGhpcy5jdXJyZW50U3RhdGUuZ2V0Q2VudGVyWSgpKSwKZD10aGlzLmdyYXBoLmdldENlbGxBdChhLngtdGhpcy50cmlhbmdsZUxlZnQud2lkdGgvMix0aGlzLmN1cnJlbnRTdGF0ZS5nZXRDZW50ZXJZKCkpLGs9dGhpcy5ncmFwaC5nZXRDZWxsQXQodGhpcy5jdXJyZW50U3RhdGUuZ2V0Q2VudGVyWCgpLGEueS10aGlzLnRyaWFuZ2xlVXAuaGVpZ2h0LzIpLGE9dGhpcy5ncmFwaC5nZXRDZWxsQXQodGhpcy5jdXJyZW50U3RhdGUuZ2V0Q2VudGVyWCgpLGEueSthLmhlaWdodCt0aGlzLnRyaWFuZ2xlRG93bi5oZWlnaHQvMik7bnVsbCE9YyYmYz09ZCYmZD09ayYmaz09YSYmKGE9az1kPWM9bnVsbCk7dmFyIG09dGhpcy5ncmFwaC5nZXRDZWxsR2VvbWV0cnkodGhpcy5jdXJyZW50U3RhdGUuY2VsbCkscT1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhLGUpe3ZhciBiPXRoaXMuZ3JhcGgubW9kZWwuaXNWZXJ0ZXgoYSkmJnRoaXMuZ3JhcGguZ2V0Q2VsbEdlb21ldHJ5KGEpO251bGw9PWF8fHRoaXMuZ3JhcGgubW9kZWwuaXNBbmNlc3RvcihhLAp0aGlzLmN1cnJlbnRTdGF0ZS5jZWxsKXx8dGhpcy5ncmFwaC5pc1N3aW1sYW5lKGEpfHwhKG51bGw9PWJ8fG51bGw9PW18fGIuaGVpZ2h0PDMqbS5oZWlnaHQmJmIud2lkdGg8MyptLndpZHRoKT9lLnN0eWxlLnZpc2liaWxpdHk9InZpc2libGUiOmUuc3R5bGUudmlzaWJpbGl0eT0iaGlkZGVuIn0pO3EoYyx0aGlzLmFycm93UmlnaHQpO3EoZCx0aGlzLmFycm93TGVmdCk7cShrLHRoaXMuYXJyb3dVcCk7cShhLHRoaXMuYXJyb3dEb3duKX1lbHNlIHRoaXMuYXJyb3dMZWZ0LnN0eWxlLnZpc2liaWxpdHk9InZpc2libGUiLHRoaXMuYXJyb3dSaWdodC5zdHlsZS52aXNpYmlsaXR5PSJ2aXNpYmxlIix0aGlzLmFycm93VXAuc3R5bGUudmlzaWJpbGl0eT0idmlzaWJsZSIsdGhpcy5hcnJvd0Rvd24uc3R5bGUudmlzaWJpbGl0eT0idmlzaWJsZSI7dGhpcy5ncmFwaC50b29sdGlwSGFuZGxlci5pc0VuYWJsZWQoKT8odGhpcy5hcnJvd0xlZnQuc2V0QXR0cmlidXRlKCJ0aXRsZSIsbXhSZXNvdXJjZXMuZ2V0KCJwbHVzVG9vbHRpcCIpKSwKdGhpcy5hcnJvd1JpZ2h0LnNldEF0dHJpYnV0ZSgidGl0bGUiLG14UmVzb3VyY2VzLmdldCgicGx1c1Rvb2x0aXAiKSksdGhpcy5hcnJvd1VwLnNldEF0dHJpYnV0ZSgidGl0bGUiLG14UmVzb3VyY2VzLmdldCgicGx1c1Rvb2x0aXAiKSksdGhpcy5hcnJvd0Rvd24uc2V0QXR0cmlidXRlKCJ0aXRsZSIsbXhSZXNvdXJjZXMuZ2V0KCJwbHVzVG9vbHRpcCIpKSk6KHRoaXMuYXJyb3dMZWZ0LnJlbW92ZUF0dHJpYnV0ZSgidGl0bGUiKSx0aGlzLmFycm93UmlnaHQucmVtb3ZlQXR0cmlidXRlKCJ0aXRsZSIpLHRoaXMuYXJyb3dVcC5yZW1vdmVBdHRyaWJ1dGUoInRpdGxlIiksdGhpcy5hcnJvd0Rvd24ucmVtb3ZlQXR0cmlidXRlKCJ0aXRsZSIpKX1lbHNlIHRoaXMucmVzZXQoKTtudWxsIT10aGlzLmN1cnJlbnRTdGF0ZSYmKHRoaXMuYmJveD10aGlzLmNvbXB1dGVCb3VuZGluZ0JveCgpLG51bGwhPXRoaXMuYmJveCYmdGhpcy5iYm94Lmdyb3coMTApKX19OwpIb3Zlckljb25zLnByb3RvdHlwZS5jb21wdXRlQm91bmRpbmdCb3g9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdyYXBoLm1vZGVsLmlzRWRnZSh0aGlzLmN1cnJlbnRTdGF0ZS5jZWxsKT9udWxsOm14UmVjdGFuZ2xlLmZyb21SZWN0YW5nbGUodGhpcy5jdXJyZW50U3RhdGUpO3RoaXMudmlzaXROb2RlcyhmdW5jdGlvbihjKXtudWxsIT1jLnBhcmVudE5vZGUmJihjPW5ldyBteFJlY3RhbmdsZShjLm9mZnNldExlZnQsYy5vZmZzZXRUb3AsYy5vZmZzZXRXaWR0aCxjLm9mZnNldEhlaWdodCksbnVsbD09YT9hPWM6YS5hZGQoYykpfSk7cmV0dXJuIGF9OwpIb3Zlckljb25zLnByb3RvdHlwZS5nZXRTdGF0ZT1mdW5jdGlvbihhKXtpZihudWxsIT1hKWlmKGE9YS5jZWxsLHRoaXMuZ3JhcGguZ2V0TW9kZWwoKS5jb250YWlucyhhKSl7aWYodGhpcy5ncmFwaC5nZXRNb2RlbCgpLmlzVmVydGV4KGEpJiYhdGhpcy5ncmFwaC5pc0NlbGxDb25uZWN0YWJsZShhKSl7dmFyIGM9dGhpcy5ncmFwaC5nZXRNb2RlbCgpLmdldFBhcmVudChhKTt0aGlzLmdyYXBoLmdldE1vZGVsKCkuaXNWZXJ0ZXgoYykmJnRoaXMuZ3JhcGguaXNDZWxsQ29ubmVjdGFibGUoYykmJihhPWMpfWlmKHRoaXMuZ3JhcGguaXNDZWxsTG9ja2VkKGEpfHx0aGlzLmdyYXBoLm1vZGVsLmlzRWRnZShhKSlhPW51bGw7YT10aGlzLmdyYXBoLnZpZXcuZ2V0U3RhdGUoYSk7bnVsbCE9YSYmbnVsbD09YS5zdHlsZSYmKGE9bnVsbCl9ZWxzZSBhPW51bGw7cmV0dXJuIGF9OwpIb3Zlckljb25zLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oYSxjLGYpe2lmKCF0aGlzLmdyYXBoLmNvbm5lY3Rpb25BcnJvd3NFbmFibGVkfHxudWxsIT1hJiYiMCI9PW14VXRpbHMuZ2V0VmFsdWUoYS5zdHlsZSwiYWxsb3dBcnJvd3MiLCIxIikpdGhpcy5yZXNldCgpO2Vsc2V7bnVsbCE9YSYmbnVsbCE9YS5jZWxsLmdlb21ldHJ5JiZhLmNlbGwuZ2VvbWV0cnkucmVsYXRpdmUmJnRoaXMuZ3JhcGgubW9kZWwuaXNFZGdlKGEuY2VsbC5wYXJlbnQpJiYoYT1udWxsKTt2YXIgZD1udWxsO3RoaXMucHJldiE9YXx8dGhpcy5pc0FjdGl2ZSgpPyh0aGlzLnN0YXJ0VGltZT0obmV3IERhdGUpLmdldFRpbWUoKSx0aGlzLnByZXY9YSxkPTAsbnVsbCE9dGhpcy51cGRhdGVUaHJlYWQmJndpbmRvdy5jbGVhclRpbWVvdXQodGhpcy51cGRhdGVUaHJlYWQpLG51bGwhPWEmJih0aGlzLnVwZGF0ZVRocmVhZD13aW5kb3cuc2V0VGltZW91dChteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMuaXNBY3RpdmUoKXx8CnRoaXMuZ3JhcGguaXNNb3VzZURvd258fHRoaXMuZ3JhcGgucGFubmluZ0hhbmRsZXIuaXNBY3RpdmUoKXx8KHRoaXMucHJldj1hLHRoaXMudXBkYXRlKGEsYyxmKSl9KSx0aGlzLnVwZGF0ZURlbGF5KzEwKSkpOm51bGwhPXRoaXMuc3RhcnRUaW1lJiYoZD0obmV3IERhdGUpLmdldFRpbWUoKS10aGlzLnN0YXJ0VGltZSk7dGhpcy5zZXREaXNwbGF5KCIiKTtudWxsIT10aGlzLmN1cnJlbnRTdGF0ZSYmdGhpcy5jdXJyZW50U3RhdGUhPWEmJmQ8dGhpcy5hY3RpdmF0aW9uRGVsYXkmJm51bGwhPXRoaXMuYmJveCYmIW14VXRpbHMuY29udGFpbnModGhpcy5iYm94LGMsZik/dGhpcy5yZXNldCghMSk6KG51bGwhPXRoaXMuY3VycmVudFN0YXRlfHxkPnRoaXMuYWN0aXZhdGlvbkRlbGF5KSYmdGhpcy5jdXJyZW50U3RhdGUhPWEmJihkPnRoaXMudXBkYXRlRGVsYXkmJm51bGwhPWF8fG51bGw9PXRoaXMuYmJveHx8bnVsbD09Y3x8bnVsbD09Znx8IW14VXRpbHMuY29udGFpbnModGhpcy5iYm94LApjLGYpKSYmKG51bGwhPWEmJnRoaXMuZ3JhcGguaXNFbmFibGVkKCk/KHRoaXMucmVtb3ZlTm9kZXMoKSx0aGlzLnNldEN1cnJlbnRTdGF0ZShhKSx0aGlzLnJlcGFpbnQoKSx0aGlzLmdyYXBoLmNvbm5lY3Rpb25IYW5kbGVyLmNvbnN0cmFpbnRIYW5kbGVyLmN1cnJlbnRGb2N1cyE9YSYmdGhpcy5ncmFwaC5jb25uZWN0aW9uSGFuZGxlci5jb25zdHJhaW50SGFuZGxlci5yZXNldCgpKTp0aGlzLnJlc2V0KCkpfX07CkhvdmVySWNvbnMucHJvdG90eXBlLnNldEN1cnJlbnRTdGF0ZT1mdW5jdGlvbihhKXsiZWFzdHdlc3QiIT1hLnN0eWxlLnBvcnRDb25zdHJhaW50JiYodGhpcy5ncmFwaC5jb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5hcnJvd1VwKSx0aGlzLmdyYXBoLmNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLmFycm93RG93bikpO3RoaXMuZ3JhcGguY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuYXJyb3dSaWdodCk7dGhpcy5ncmFwaC5jb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5hcnJvd0xlZnQpO3RoaXMuY3VycmVudFN0YXRlPWF9O0dyYXBoLnByb3RvdHlwZS5jcmVhdGVQYXJlbnQ9ZnVuY3Rpb24oYSxjLGYsZCxrKXthPXRoaXMuY2xvbmVDZWxsKGEpO2Zvcih2YXIgbT0wO208ZjttKyspe3ZhciBxPXRoaXMuY2xvbmVDZWxsKGMpLGI9dGhpcy5nZXRDZWxsR2VvbWV0cnkocSk7bnVsbCE9YiYmKGIueCs9bSpkLGIueSs9bSprKTthLmluc2VydChxKX1yZXR1cm4gYX07CkdyYXBoLnByb3RvdHlwZS5jcmVhdGVUYWJsZT1mdW5jdGlvbihhLGMsZixkLGssbSl7Zj1udWxsIT1mP2Y6NjA7ZD1udWxsIT1kP2Q6NDA7bT1udWxsIT1tP206MzA7cmV0dXJuIHRoaXMuY3JlYXRlUGFyZW50KHRoaXMuY3JlYXRlVmVydGV4KG51bGwsbnVsbCxudWxsIT1rP2s6IiIsMCwwLGMqZixhKmQrKG51bGwhPWs/bTowKSwobnVsbCE9az8ic3dpbWxhbmU7c3RhcnRTaXplPSIrbSsiOyI6IiIpKyJodG1sPTE7d2hpdGVTcGFjZT13cmFwO2NvbnRhaW5lcj0xO2NvbGxhcHNpYmxlPTA7Y2hpbGRMYXlvdXQ9dGFibGVMYXlvdXQ7IiksdGhpcy5jcmVhdGVQYXJlbnQodGhpcy5jcmVhdGVWZXJ0ZXgobnVsbCxudWxsLCIiLDAsMCxjKmYsZCwiaHRtbD0xO3doaXRlU3BhY2U9d3JhcDtjb2xsYXBzaWJsZT0wO2Ryb3BUYXJnZXQ9MDtwb2ludGVyRXZlbnRzPTA7ZmlsbENvbG9yPW5vbmU7c3Ryb2tlQ29sb3I9bm9uZTtwb2ludHM9W1swLDAuNV0sWzEsMC41XV07cG9ydENvbnN0cmFpbnQ9ZWFzdHdlc3Q7IiksCnRoaXMuY3JlYXRlVmVydGV4KG51bGwsbnVsbCwiIiwwLDAsZixkLCJzaGFwZT1wYXJ0aWFsUmVjdGFuZ2xlO2h0bWw9MTt3aGl0ZVNwYWNlPXdyYXA7Y29ubmVjdGFibGU9MDtmaWxsQ29sb3I9bm9uZTsiKSxjLGYsMCksYSwwLGQpfTsKR3JhcGgucHJvdG90eXBlLmNyZWF0ZUNyb3NzRnVuY3Rpb25hbFN3aW1sYW5lPWZ1bmN0aW9uKGEsYyxmLGQsayl7Zj1udWxsIT1mP2Y6MTIwO2Q9bnVsbCE9ZD9kOjEyMDtrPW51bGwhPWs/azo0MDt2YXIgbT10aGlzLmNyZWF0ZVZlcnRleChudWxsLG51bGwsIiIsMCwwLGMqZixhKmQsInN3aW1sYW5lO2h0bWw9MTt3aGl0ZVNwYWNlPXdyYXA7Y29sbGFwc2libGU9MDtyZWN1cnNpdmVSZXNpemU9MDtleHBhbmQ9MDtwb2ludGVyRXZlbnRzPTA7Y2hpbGRMYXlvdXQ9dGFibGVMYXlvdXQ7c3RhcnRTaXplPSIraysiOyIpLHE9bXhVdGlscy5nZXRWYWx1ZSh0aGlzLmdldENlbGxTdHlsZShtKSxteENvbnN0YW50cy5TVFlMRV9TVEFSVFNJWkUsbXhDb25zdGFudHMuREVGQVVMVF9TVEFSVFNJWkUpO20uZ2VvbWV0cnkud2lkdGgrPXE7bS5nZW9tZXRyeS5oZWlnaHQrPXE7az10aGlzLmNyZWF0ZVZlcnRleChudWxsLG51bGwsIiIsMCxxLGMqZitxLGQsInN3aW1sYW5lO2h0bWw9MTt3aGl0ZVNwYWNlPXdyYXA7Y29sbGFwc2libGU9MDtyZWN1cnNpdmVSZXNpemU9MDtleHBhbmQ9MDtwb2ludGVyRXZlbnRzPTA7aG9yaXpvbnRhbD0wO3BvaW50cz1bWzAsMC41XSxbMSwwLjVdXTtwb3J0Q29uc3RyYWludD1lYXN0d2VzdDtzdGFydFNpemU9IisKaysiOyIpO20uaW5zZXJ0KHRoaXMuY3JlYXRlUGFyZW50KGssdGhpcy5jcmVhdGVWZXJ0ZXgobnVsbCxudWxsLCIiLHEsMCxmLGQsInN3aW1sYW5lO2h0bWw9MTt3aGl0ZVNwYWNlPXdyYXA7Y29sbGFwc2libGU9MDtyZWN1cnNpdmVSZXNpemU9MDtleHBhbmQ9MDtwb2ludGVyRXZlbnRzPTA7Y29ubmVjdGFibGU9MDtzdGFydFNpemU9NDA7IiksYyxmLDApKTtyZXR1cm4gMTxhPyhrLmdlb21ldHJ5Lnk9ZCtxLHRoaXMuY3JlYXRlUGFyZW50KG0sdGhpcy5jcmVhdGVQYXJlbnQoayx0aGlzLmNyZWF0ZVZlcnRleChudWxsLG51bGwsIiIscSwwLGYsZCwic3dpbWxhbmU7aHRtbD0xO3doaXRlU3BhY2U9d3JhcDtjb2xsYXBzaWJsZT0wO3JlY3Vyc2l2ZVJlc2l6ZT0wO2V4cGFuZD0wO3BvaW50ZXJFdmVudHM9MDtjb25uZWN0YWJsZT0wO3N0YXJ0U2l6ZT0wOyIpLGMsZiwwKSxhLTEsMCxkKSk6bX07CkdyYXBoLnByb3RvdHlwZS5pc1RhYmxlQ2VsbD1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5tb2RlbC5pc1ZlcnRleChhKSYmdGhpcy5pc1RhYmxlUm93KHRoaXMubW9kZWwuZ2V0UGFyZW50KGEpKX07R3JhcGgucHJvdG90eXBlLmlzVGFibGVSb3c9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMubW9kZWwuaXNWZXJ0ZXgoYSkmJnRoaXMuaXNUYWJsZSh0aGlzLm1vZGVsLmdldFBhcmVudChhKSl9O0dyYXBoLnByb3RvdHlwZS5pc1RhYmxlPWZ1bmN0aW9uKGEpe2E9dGhpcy5nZXRDZWxsU3R5bGUoYSk7cmV0dXJuIG51bGwhPWEmJiJ0YWJsZUxheW91dCI9PWEuY2hpbGRMYXlvdXR9OwpHcmFwaC5wcm90b3R5cGUuc2V0VGFibGVSb3dIZWlnaHQ9ZnVuY3Rpb24oYSxjKXt2YXIgZj10aGlzLmdldE1vZGVsKCk7Zi5iZWdpblVwZGF0ZSgpO3RyeXt2YXIgZD10aGlzLmdldENlbGxHZW9tZXRyeShhKTtpZihudWxsIT1kKXtkPWQuY2xvbmUoKTtkLmhlaWdodCs9YztmLnNldEdlb21ldHJ5KGEsZCk7dmFyIGs9Zi5nZXRQYXJlbnQoYSksbT10aGlzLmdldENlbGxHZW9tZXRyeShrKTtudWxsIT1tJiYobT1tLmNsb25lKCksbS5oZWlnaHQrPWMsZi5zZXRHZW9tZXRyeShrLG0pKX19ZmluYWxseXtmLmVuZFVwZGF0ZSgpfX07CkdyYXBoLnByb3RvdHlwZS5zZXRUYWJsZUNvbHVtbldpZHRoPWZ1bmN0aW9uKGEsYyl7dmFyIGY9dGhpcy5nZXRNb2RlbCgpLGQ9Zi5nZXRQYXJlbnQoYSksaz1mLmdldFBhcmVudChkKSxtPWYuZ2V0Q2hpbGRDZWxscyhkLCEwKSxxPW14VXRpbHMuaW5kZXhPZihtLGEpLGI9cT09bS5sZW5ndGgtMTtmLmJlZ2luVXBkYXRlKCk7dHJ5e2Zvcih2YXIgZT1mLmdldENoaWxkQ2VsbHMoaywhMCksZz0wO2c8ZS5sZW5ndGg7ZysrKXt2YXIgZD1lW2ddLG09Zi5nZXRDaGlsZENlbGxzKGQsITApLG49bVtxXSxsPXRoaXMuZ2V0Q2VsbEdlb21ldHJ5KG4pO251bGwhPWwmJihsPWwuY2xvbmUoKSxsLndpZHRoKz1jLGYuc2V0R2VvbWV0cnkobixsKSk7cTxtLmxlbmd0aC0xJiYobj1tW3ErMV0sbD10aGlzLmdldENlbGxHZW9tZXRyeShuKSxudWxsIT1sJiYobD1sLmNsb25lKCksbC54Kz1jLGwud2lkdGgtPWMsZi5zZXRHZW9tZXRyeShuLGwpKSl9aWYoYil7dmFyIHA9dGhpcy5nZXRDZWxsR2VvbWV0cnkoayk7Cm51bGwhPXAmJihwPXAuY2xvbmUoKSxwLndpZHRoKz1jLGYuc2V0R2VvbWV0cnkoayxwKSl9fWZpbmFsbHl7Zi5lbmRVcGRhdGUoKX19O2Z1bmN0aW9uIFRhYmxlTGF5b3V0KGEpe214R3JhcGhMYXlvdXQuY2FsbCh0aGlzLGEpfVRhYmxlTGF5b3V0LnByb3RvdHlwZT1uZXcgbXhTdGFja0xheW91dDtUYWJsZUxheW91dC5wcm90b3R5cGUuY29uc3RydWN0b3I9VGFibGVMYXlvdXQ7VGFibGVMYXlvdXQucHJvdG90eXBlLmlzSG9yaXpvbnRhbD1mdW5jdGlvbigpe3JldHVybiExfTtUYWJsZUxheW91dC5wcm90b3R5cGUuZ2V0U2l6ZT1mdW5jdGlvbihhLGMpe2Zvcih2YXIgZj0wLGQ9MDtkPGEubGVuZ3RoO2QrKylpZighdGhpcy5pc1ZlcnRleElnbm9yZWQoYVtkXSkpe3ZhciBrPXRoaXMuZ3JhcGguZ2V0Q2VsbEdlb21ldHJ5KGFbZF0pO251bGwhPWsmJihmKz1jP2sud2lkdGg6ay5oZWlnaHQpfXJldHVybiBmfTsKVGFibGVMYXlvdXQucHJvdG90eXBlLmdldFJvd0xheW91dD1mdW5jdGlvbihhLGMpe2Zvcih2YXIgZj10aGlzLmdyYXBoLm1vZGVsLmdldENoaWxkQ2VsbHMoYSwhMCksZD10aGlzLmdyYXBoLmdldEFjdHVhbFN0YXJ0U2l6ZShhLCEwKSxrPXRoaXMuZ2V0U2l6ZShmLCEwKSxtPWMtZC54LWQud2lkdGgscT1bXSxkPWQueCxiPTA7YjxmLmxlbmd0aDtiKyspe3ZhciBlPXRoaXMuZ3JhcGguZ2V0Q2VsbEdlb21ldHJ5KGZbYl0pO251bGwhPWUmJihkKz1lLndpZHRoKm0vayxxLnB1c2goTWF0aC5yb3VuZChkKSkpfXJldHVybiBxfTsKVGFibGVMYXlvdXQucHJvdG90eXBlLmxheW91dFJvdz1mdW5jdGlvbihhLGMsZil7dmFyIGQ9dGhpcy5ncmFwaC5nZXRNb2RlbCgpLGs9ZC5nZXRDaGlsZENlbGxzKGEsITApLG09dGhpcy5ncmFwaC5nZXRBY3R1YWxTdGFydFNpemUoYSwhMCkscT0wO251bGwhPWMmJihjPWMuc2xpY2UoKSxjLnNwbGljZSgwLDAsbS54KSk7Zm9yKHZhciBiPTA7YjxrLmxlbmd0aDtiKyspe3ZhciBlPXRoaXMuZ3JhcGguZ2V0Q2VsbEdlb21ldHJ5KGtbYl0pO2lmKG51bGwhPWUpe2U9ZS5jbG9uZSgpO2UueT0wO2UuaGVpZ2h0PWY7aWYobnVsbCE9YyllLng9Y1tiXSxlLndpZHRoPWNbYisxXS1lLng7ZWxzZSBpZihiPT1rLmxlbmd0aC0xKXt2YXIgZz10aGlzLmdyYXBoLmdldENlbGxHZW9tZXRyeShhKTtudWxsIT1nJiYoZS53aWR0aD1nLndpZHRoLW0ueC1tLndpZHRoLXEpfWVsc2UgcSs9ZS53aWR0aDtkLnNldEdlb21ldHJ5KGtbYl0sZSl9fX07ClRhYmxlTGF5b3V0LnByb3RvdHlwZS5leGVjdXRlPWZ1bmN0aW9uKGEpe2lmKG51bGwhPWEpe3ZhciBjPXRoaXMuZ3JhcGguZ2V0QWN0dWFsU3RhcnRTaXplKGEsITApLGY9dGhpcy5ncmFwaC5nZXRDZWxsR2VvbWV0cnkoYSksZD10aGlzLmdyYXBoLmdldENlbGxTdHlsZShhKSxrPSIxIj09bXhVdGlscy5nZXRWYWx1ZShkLCJyZXNpemVMYXN0Um93IiwiMCIpLG09IjEiPT1teFV0aWxzLmdldFZhbHVlKGQsInJlc2l6ZUxhc3QiLCIwIiksZD10aGlzLmdyYXBoLmdldE1vZGVsKCk7ZC5iZWdpblVwZGF0ZSgpO3RyeXt2YXIgcT1mLmhlaWdodC1jLnktYy5oZWlnaHQsYj1mLndpZHRoLWMueC1jLndpZHRoLGU9ZC5nZXRDaGlsZENlbGxzKGEsITApLGc9dGhpcy5nZXRTaXplKGUsITEpO2lmKDA8cSYmMDxiJiYwPGUubGVuZ3RoJiYwPGcpe2lmKGspe3ZhciBuPXRoaXMuZ3JhcGguZ2V0Q2VsbEdlb21ldHJ5KGVbZS5sZW5ndGgtMV0pO251bGwhPW4mJihuPW4uY2xvbmUoKSxuLmhlaWdodD0KcS1nK24uaGVpZ2h0LGQuc2V0R2VvbWV0cnkoZVtlLmxlbmd0aC0xXSxuKSl9dmFyIGw9bT9udWxsOnRoaXMuZ2V0Um93TGF5b3V0KGVbMF0sYikscD1jLnk7Zm9yKGE9MDthPGUubGVuZ3RoO2ErKyluPXRoaXMuZ3JhcGguZ2V0Q2VsbEdlb21ldHJ5KGVbYV0pLG51bGwhPW4mJihuPW4uY2xvbmUoKSxuLng9Yy54LG4ud2lkdGg9YixuLnk9TWF0aC5yb3VuZChwKSxwPWs/cCtuLmhlaWdodDpwK24uaGVpZ2h0L2cqcSxuLmhlaWdodD1NYXRoLnJvdW5kKHApLW4ueSxkLnNldEdlb21ldHJ5KGVbYV0sbikpLHRoaXMubGF5b3V0Um93KGVbYV0sbCxuLmhlaWdodCl9fWZpbmFsbHl7ZC5lbmRVcGRhdGUoKX19fTsKKGZ1bmN0aW9uKCl7dmFyIGE9bXhHcmFwaFZpZXcucHJvdG90eXBlLnJlc2V0VmFsaWRhdGlvblN0YXRlO214R3JhcGhWaWV3LnByb3RvdHlwZS5yZXNldFZhbGlkYXRpb25TdGF0ZT1mdW5jdGlvbigpe2EuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMudmFsaWRFZGdlcz1bXX07dmFyIGM9bXhHcmFwaFZpZXcucHJvdG90eXBlLnZhbGlkYXRlQ2VsbFN0YXRlO214R3JhcGhWaWV3LnByb3RvdHlwZS52YWxpZGF0ZUNlbGxTdGF0ZT1mdW5jdGlvbihhLGIpe2I9bnVsbCE9Yj9iOiEwO3ZhciBlPXRoaXMuZ2V0U3RhdGUoYSk7bnVsbCE9ZSYmYiYmdGhpcy5ncmFwaC5tb2RlbC5pc0VkZ2UoZS5jZWxsKSYmbnVsbCE9ZS5zdHlsZSYmMSE9ZS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9DVVJWRURdJiYhZS5pbnZhbGlkJiZ0aGlzLnVwZGF0ZUxpbmVKdW1wcyhlKSYmdGhpcy5ncmFwaC5jZWxsUmVuZGVyZXIucmVkcmF3KGUsITEsdGhpcy5pc1JlbmRlcmluZygpKTtlPWMuYXBwbHkodGhpcywKYXJndW1lbnRzKTtudWxsIT1lJiZiJiZ0aGlzLmdyYXBoLm1vZGVsLmlzRWRnZShlLmNlbGwpJiZudWxsIT1lLnN0eWxlJiYxIT1lLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX0NVUlZFRF0mJnRoaXMudmFsaWRFZGdlcy5wdXNoKGUpO3JldHVybiBlfTt2YXIgZj1teENlbGxSZW5kZXJlci5wcm90b3R5cGUuaXNTaGFwZUludmFsaWQ7bXhDZWxsUmVuZGVyZXIucHJvdG90eXBlLmlzU2hhcGVJbnZhbGlkPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGYuYXBwbHkodGhpcyxhcmd1bWVudHMpfHxudWxsIT1hLnJvdXRlZFBvaW50cyYmbnVsbCE9Yi5yb3V0ZWRQb2ludHMmJiFteFV0aWxzLmVxdWFsUG9pbnRzKGIucm91dGVkUG9pbnRzLGEucm91dGVkUG9pbnRzKX07dmFyIGQ9bXhHcmFwaFZpZXcucHJvdG90eXBlLnVwZGF0ZUNlbGxTdGF0ZTtteEdyYXBoVmlldy5wcm90b3R5cGUudXBkYXRlQ2VsbFN0YXRlPWZ1bmN0aW9uKGEpe2QuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuZ3JhcGgubW9kZWwuaXNFZGdlKGEuY2VsbCkmJgoxIT1hLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX0NVUlZFRF0mJnRoaXMudXBkYXRlTGluZUp1bXBzKGEpfTtteEdyYXBoVmlldy5wcm90b3R5cGUudXBkYXRlTGluZUp1bXBzPWZ1bmN0aW9uKGEpe3ZhciBiPWEuYWJzb2x1dGVQb2ludHM7aWYoR3JhcGgubGluZUp1bXBzRW5hYmxlZCl7dmFyIGU9bnVsbCE9YS5yb3V0ZWRQb2ludHMsYz1udWxsO2lmKG51bGwhPWImJm51bGwhPXRoaXMudmFsaWRFZGdlcyYmIm5vbmUiIT09bXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLCJqdW1wU3R5bGUiLCJub25lIikpe2Zvcih2YXIgZD1mdW5jdGlvbihiLGUsZCl7dmFyIGY9bmV3IG14UG9pbnQoZSxkKTtmLnR5cGU9YjtjLnB1c2goZik7Zj1udWxsIT1hLnJvdXRlZFBvaW50cz9hLnJvdXRlZFBvaW50c1tjLmxlbmd0aC0xXTpudWxsO3JldHVybiBudWxsPT1mfHxmLnR5cGUhPWJ8fGYueCE9ZXx8Zi55IT1kfSxmPS41KnRoaXMuc2NhbGUsZT0hMSxjPVtdLHQ9MDt0PGIubGVuZ3RoLTE7dCsrKXtmb3IodmFyIHk9CmJbdCsxXSxtPWJbdF0saz1bXSxxPWJbdCsyXTt0PGIubGVuZ3RoLTImJm14VXRpbHMucHRTZWdEaXN0U3EobS54LG0ueSxxLngscS55LHkueCx5LnkpPDEqdGhpcy5zY2FsZSp0aGlzLnNjYWxlOyl5PXEsdCsrLHE9Ylt0KzJdO2Zvcih2YXIgZT1kKDAsbS54LG0ueSl8fGUsRD0wO0Q8dGhpcy52YWxpZEVkZ2VzLmxlbmd0aDtEKyspe3ZhciB6PXRoaXMudmFsaWRFZGdlc1tEXSxFPXouYWJzb2x1dGVQb2ludHM7aWYobnVsbCE9RSYmbXhVdGlscy5pbnRlcnNlY3RzKGEseikmJiIxIiE9ei5zdHlsZS5ub0p1bXApZm9yKHo9MDt6PEUubGVuZ3RoLTE7eisrKXtmb3IodmFyIEc9RVt6KzFdLEY9RVt6XSxxPUVbeisyXTt6PEUubGVuZ3RoLTImJm14VXRpbHMucHRTZWdEaXN0U3EoRi54LEYueSxxLngscS55LEcueCxHLnkpPDEqdGhpcy5zY2FsZSp0aGlzLnNjYWxlOylHPXEseisrLHE9RVt6KzJdO3E9bXhVdGlscy5pbnRlcnNlY3Rpb24obS54LG0ueSx5LngseS55LEYueCxGLnksRy54LApHLnkpO2lmKG51bGwhPXEmJihNYXRoLmFicyhxLngtbS54KT5mfHxNYXRoLmFicyhxLnktbS55KT5mKSYmKE1hdGguYWJzKHEueC15LngpPmZ8fE1hdGguYWJzKHEueS15LnkpPmYpJiYoTWF0aC5hYnMocS54LUYueCk+Znx8TWF0aC5hYnMocS55LUYueSk+ZikmJihNYXRoLmFicyhxLngtRy54KT5mfHxNYXRoLmFicyhxLnktRy55KT5mKSl7Rz1xLngtbS54O0Y9cS55LW0ueTtxPXtkaXN0U3E6RypHK0YqRix4OnEueCx5OnEueX07Zm9yKEc9MDtHPGsubGVuZ3RoO0crKylpZihrW0ddLmRpc3RTcT5xLmRpc3RTcSl7ay5zcGxpY2UoRywwLHEpO3E9bnVsbDticmVha31udWxsPT1xfHwwIT1rLmxlbmd0aCYma1trLmxlbmd0aC0xXS54PT09cS54JiZrW2subGVuZ3RoLTFdLnk9PT1xLnl8fGsucHVzaChxKX19fWZvcih6PTA7ejxrLmxlbmd0aDt6KyspZT1kKDEsa1t6XS54LGtbel0ueSl8fGV9cT1iW2IubGVuZ3RoLTFdO2U9ZCgwLHEueCxxLnkpfHxlfWEucm91dGVkUG9pbnRzPWM7cmV0dXJuIGV9cmV0dXJuITF9Owp2YXIgaz1teENvbm5lY3Rvci5wcm90b3R5cGUucGFpbnRMaW5lO214Q29ubmVjdG9yLnByb3RvdHlwZS5wYWludExpbmU9ZnVuY3Rpb24oYSxiLGMpe3RoaXMucm91dGVkUG9pbnRzPW51bGwhPXRoaXMuc3RhdGU/dGhpcy5zdGF0ZS5yb3V0ZWRQb2ludHM6bnVsbDtpZih0aGlzLm91dGxpbmV8fG51bGw9PXRoaXMuc3RhdGV8fG51bGw9PXRoaXMuc3R5bGV8fG51bGw9PXRoaXMuc3RhdGUucm91dGVkUG9pbnRzfHwwPT10aGlzLnN0YXRlLnJvdXRlZFBvaW50cy5sZW5ndGgpay5hcHBseSh0aGlzLGFyZ3VtZW50cyk7ZWxzZXt2YXIgZT1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfQVJDU0laRSxteENvbnN0YW50cy5MSU5FX0FSQ1NJWkUpLzIsZD0ocGFyc2VJbnQobXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLCJqdW1wU2l6ZSIsR3JhcGguZGVmYXVsdEp1bXBTaXplKSktMikvMit0aGlzLnN0cm9rZXdpZHRoLGY9bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLAoianVtcFN0eWxlIiwibm9uZSIpLGc9ITAsbj1udWxsLG09bnVsbCxxPVtdLEI9bnVsbDthLmJlZ2luKCk7Zm9yKHZhciBEPTA7RDx0aGlzLnN0YXRlLnJvdXRlZFBvaW50cy5sZW5ndGg7RCsrKXt2YXIgej10aGlzLnN0YXRlLnJvdXRlZFBvaW50c1tEXSxFPW5ldyBteFBvaW50KHoueC90aGlzLnNjYWxlLHoueS90aGlzLnNjYWxlKTswPT1EP0U9YlswXTpEPT10aGlzLnN0YXRlLnJvdXRlZFBvaW50cy5sZW5ndGgtMSYmKEU9YltiLmxlbmd0aC0xXSk7dmFyIEc9ITE7aWYobnVsbCE9biYmMT09ei50eXBlKXt2YXIgRj10aGlzLnN0YXRlLnJvdXRlZFBvaW50c1tEKzFdLHo9Ri54L3RoaXMuc2NhbGUtRS54LEY9Ri55L3RoaXMuc2NhbGUtRS55LHo9eip6K0YqRjtudWxsPT1CJiYoQj1uZXcgbXhQb2ludChFLngtbi54LEUueS1uLnkpLG09TWF0aC5zcXJ0KEIueCpCLngrQi55KkIueSksMDxtPyhCLng9Qi54KmQvbSxCLnk9Qi55KmQvbSk6Qj1udWxsKTt6PmQqZCYmMDxtJiYoej1uLngtCkUueCxGPW4ueS1FLnksej16KnorRipGLHo+ZCpkJiYoRz1uZXcgbXhQb2ludChFLngtQi54LEUueS1CLnkpLHo9bmV3IG14UG9pbnQoRS54K0IueCxFLnkrQi55KSxxLnB1c2goRyksdGhpcy5hZGRQb2ludHMoYSxxLGMsZSwhMSxudWxsLGcpLHE9MD5NYXRoLnJvdW5kKEIueCl8fDA9PU1hdGgucm91bmQoQi54KSYmMD49TWF0aC5yb3VuZChCLnkpPzE6LTEsZz0hMSwic2hhcnAiPT1mPyhhLmxpbmVUbyhHLngtQi55KnEsRy55K0IueCpxKSxhLmxpbmVUbyh6LngtQi55KnEsei55K0IueCpxKSxhLmxpbmVUbyh6Lngsei55KSk6ImFyYyI9PWY/KHEqPTEuMyxhLmN1cnZlVG8oRy54LUIueSpxLEcueStCLngqcSx6LngtQi55KnEsei55K0IueCpxLHoueCx6LnkpKTooYS5tb3ZlVG8oei54LHoueSksZz0hMCkscT1bel0sRz0hMCkpfWVsc2UgQj1udWxsO0d8fChxLnB1c2goRSksbj1FKX10aGlzLmFkZFBvaW50cyhhLHEsYyxlLCExLG51bGwsZyk7YS5zdHJva2UoKX19O3ZhciBtPW14R3JhcGhWaWV3LnByb3RvdHlwZS51cGRhdGVGbG9hdGluZ1Rlcm1pbmFsUG9pbnQ7Cm14R3JhcGhWaWV3LnByb3RvdHlwZS51cGRhdGVGbG9hdGluZ1Rlcm1pbmFsUG9pbnQ9ZnVuY3Rpb24oYSxiLGMsZCl7aWYobnVsbD09Ynx8bnVsbD09YXx8IjEiIT1iLnN0eWxlLnNuYXBUb1BvaW50JiYiMSIhPWEuc3R5bGUuc25hcFRvUG9pbnQpbS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7ZWxzZXtiPXRoaXMuZ2V0VGVybWluYWxQb3J0KGEsYixkKTt2YXIgZT10aGlzLmdldE5leHRQb2ludChhLGMsZCksZj10aGlzLmdyYXBoLmlzT3J0aG9nb25hbChhKSxnPW14VXRpbHMudG9SYWRpYW5zKE51bWJlcihiLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX1JPVEFUSU9OXXx8IjAiKSksbD1uZXcgbXhQb2ludChiLmdldENlbnRlclgoKSxiLmdldENlbnRlclkoKSk7aWYoMCE9Zyl2YXIgbj1NYXRoLmNvcygtZyksaz1NYXRoLnNpbigtZyksZT1teFV0aWxzLmdldFJvdGF0ZWRQb2ludChlLG4sayxsKTtuPXBhcnNlRmxvYXQoYS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9QRVJJTUVURVJfU1BBQ0lOR118fAowKTtuKz1wYXJzZUZsb2F0KGEuc3R5bGVbZD9teENvbnN0YW50cy5TVFlMRV9TT1VSQ0VfUEVSSU1FVEVSX1NQQUNJTkc6bXhDb25zdGFudHMuU1RZTEVfVEFSR0VUX1BFUklNRVRFUl9TUEFDSU5HXXx8MCk7ZT10aGlzLmdldFBlcmltZXRlclBvaW50KGIsZSwwPT1nJiZmLG4pOzAhPWcmJihuPU1hdGguY29zKGcpLGs9TWF0aC5zaW4oZyksZT1teFV0aWxzLmdldFJvdGF0ZWRQb2ludChlLG4sayxsKSk7YS5zZXRBYnNvbHV0ZVRlcm1pbmFsUG9pbnQodGhpcy5zbmFwVG9BbmNob3JQb2ludChhLGIsYyxkLGUpLGQpfX07bXhHcmFwaFZpZXcucHJvdG90eXBlLnNuYXBUb0FuY2hvclBvaW50PWZ1bmN0aW9uKGEsYixjLGQsZil7aWYobnVsbCE9YiYmbnVsbCE9YSl7YT10aGlzLmdyYXBoLmdldEFsbENvbm5lY3Rpb25Db25zdHJhaW50cyhiKTtkPWM9bnVsbDtpZihudWxsIT1hKWZvcih2YXIgZT0wO2U8YS5sZW5ndGg7ZSsrKXt2YXIgZz10aGlzLmdyYXBoLmdldENvbm5lY3Rpb25Qb2ludChiLAphW2VdKTtpZihudWxsIT1nKXt2YXIgbD0oZy54LWYueCkqKGcueC1mLngpKyhnLnktZi55KSooZy55LWYueSk7aWYobnVsbD09ZHx8bDxkKWM9ZyxkPWx9fW51bGwhPWMmJihmPWMpfXJldHVybiBmfTt2YXIgcT1teFN0ZW5jaWwucHJvdG90eXBlLmV2YWx1YXRlVGV4dEF0dHJpYnV0ZTtteFN0ZW5jaWwucHJvdG90eXBlLmV2YWx1YXRlVGV4dEF0dHJpYnV0ZT1mdW5jdGlvbihhLGIsYyl7dmFyIGU9cS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7IjEiPT1hLmdldEF0dHJpYnV0ZSgicGxhY2Vob2xkZXJzIikmJm51bGwhPWMuc3RhdGUmJihlPWMuc3RhdGUudmlldy5ncmFwaC5yZXBsYWNlUGxhY2Vob2xkZXJzKGMuc3RhdGUuY2VsbCxlKSk7cmV0dXJuIGV9O3ZhciBiPW14Q2VsbFJlbmRlcmVyLnByb3RvdHlwZS5jcmVhdGVTaGFwZTtteENlbGxSZW5kZXJlci5wcm90b3R5cGUuY3JlYXRlU2hhcGU9ZnVuY3Rpb24oYSl7aWYobnVsbCE9YS5zdHlsZSYmInVuZGVmaW5lZCIhPT10eXBlb2YgcGFrbyl7dmFyIGU9Cm14VXRpbHMuZ2V0VmFsdWUoYS5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9TSEFQRSxudWxsKTtpZihudWxsIT1lJiYic3RyaW5nIj09PXR5cGVvZiBlJiYic3RlbmNpbCgiPT1lLnN1YnN0cmluZygwLDgpKXRyeXt2YXIgYz1lLnN1YnN0cmluZyg4LGUubGVuZ3RoLTEpLGQ9bXhVdGlscy5wYXJzZVhtbChHcmFwaC5kZWNvbXByZXNzKGMpKTtyZXR1cm4gbmV3IG14U2hhcGUobmV3IG14U3RlbmNpbChkLmRvY3VtZW50RWxlbWVudCkpfWNhdGNoKHApe251bGwhPXdpbmRvdy5jb25zb2xlJiZjb25zb2xlLmxvZygiRXJyb3IgaW4gc2hhcGU6ICIrcCl9fXJldHVybiBiLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19KSgpO214U3RlbmNpbFJlZ2lzdHJ5LmxpYnJhcmllcz17fTtteFN0ZW5jaWxSZWdpc3RyeS5keW5hbWljTG9hZGluZz0hMDtteFN0ZW5jaWxSZWdpc3RyeS5hbGxvd0V2YWw9ITA7bXhTdGVuY2lsUmVnaXN0cnkucGFja2FnZXM9W107Cm14U3RlbmNpbFJlZ2lzdHJ5LmdldFN0ZW5jaWw9ZnVuY3Rpb24oYSl7dmFyIGM9bXhTdGVuY2lsUmVnaXN0cnkuc3RlbmNpbHNbYV07aWYobnVsbD09YyYmbnVsbD09bXhDZWxsUmVuZGVyZXIuZGVmYXVsdFNoYXBlc1thXSYmbXhTdGVuY2lsUmVnaXN0cnkuZHluYW1pY0xvYWRpbmcpe3ZhciBmPW14U3RlbmNpbFJlZ2lzdHJ5LmdldEJhc2VuYW1lRm9yU3RlbmNpbChhKTtpZihudWxsIT1mKXtjPW14U3RlbmNpbFJlZ2lzdHJ5LmxpYnJhcmllc1tmXTtpZihudWxsIT1jKXtpZihudWxsPT1teFN0ZW5jaWxSZWdpc3RyeS5wYWNrYWdlc1tmXSl7Zm9yKHZhciBkPTA7ZDxjLmxlbmd0aDtkKyspe3ZhciBrPWNbZF07aWYoIi54bWwiPT1rLnRvTG93ZXJDYXNlKCkuc3Vic3RyaW5nKGsubGVuZ3RoLTQsay5sZW5ndGgpKW14U3RlbmNpbFJlZ2lzdHJ5LmxvYWRTdGVuY2lsU2V0KGssbnVsbCk7ZWxzZSBpZigiLmpzIj09ay50b0xvd2VyQ2FzZSgpLnN1YnN0cmluZyhrLmxlbmd0aC0zLGsubGVuZ3RoKSl0cnl7aWYobXhTdGVuY2lsUmVnaXN0cnkuYWxsb3dFdmFsKXt2YXIgbT0KbXhVdGlscy5sb2FkKGspO251bGwhPW0mJjIwMDw9bS5nZXRTdGF0dXMoKSYmMjk5Pj1tLmdldFN0YXR1cygpJiZldmFsLmNhbGwod2luZG93LG0uZ2V0VGV4dCgpKX19Y2F0Y2gocSl7bnVsbCE9d2luZG93LmNvbnNvbGUmJmNvbnNvbGUubG9nKCJlcnJvciBpbiBnZXRTdGVuY2lsOiIsayxxKX19bXhTdGVuY2lsUmVnaXN0cnkucGFja2FnZXNbZl09MX19ZWxzZSBmPWYucmVwbGFjZSgiXy1fIiwiXyIpLG14U3RlbmNpbFJlZ2lzdHJ5LmxvYWRTdGVuY2lsU2V0KFNURU5DSUxfUEFUSCsiLyIrZisiLnhtbCIsbnVsbCk7Yz1teFN0ZW5jaWxSZWdpc3RyeS5zdGVuY2lsc1thXX19cmV0dXJuIGN9OwpteFN0ZW5jaWxSZWdpc3RyeS5nZXRCYXNlbmFtZUZvclN0ZW5jaWw9ZnVuY3Rpb24oYSl7dmFyIGM9bnVsbDtpZihudWxsIT1hJiYic3RyaW5nIj09PXR5cGVvZiBhJiYoYT1hLnNwbGl0KCIuIiksMDxhLmxlbmd0aCYmIm14Z3JhcGgiPT1hWzBdKSlmb3IodmFyIGM9YVsxXSxmPTI7ZjxhLmxlbmd0aC0xO2YrKyljKz0iLyIrYVtmXTtyZXR1cm4gY307Cm14U3RlbmNpbFJlZ2lzdHJ5LmxvYWRTdGVuY2lsU2V0PWZ1bmN0aW9uKGEsYyxmLGQpe3ZhciBrPW14U3RlbmNpbFJlZ2lzdHJ5LnBhY2thZ2VzW2FdO2lmKG51bGwhPWYmJmZ8fG51bGw9PWspe3ZhciBtPSExO2lmKG51bGw9PWspdHJ5e2lmKGQpe214U3RlbmNpbFJlZ2lzdHJ5LmxvYWRTdGVuY2lsKGEsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oZCl7bnVsbCE9ZCYmbnVsbCE9ZC5kb2N1bWVudEVsZW1lbnQmJihteFN0ZW5jaWxSZWdpc3RyeS5wYWNrYWdlc1thXT1kLG09ITAsbXhTdGVuY2lsUmVnaXN0cnkucGFyc2VTdGVuY2lsU2V0KGQuZG9jdW1lbnRFbGVtZW50LGMsbSkpfSkpO3JldHVybn1rPW14U3RlbmNpbFJlZ2lzdHJ5LmxvYWRTdGVuY2lsKGEpO214U3RlbmNpbFJlZ2lzdHJ5LnBhY2thZ2VzW2FdPWs7bT0hMH1jYXRjaChxKXtudWxsIT13aW5kb3cuY29uc29sZSYmY29uc29sZS5sb2coImVycm9yIGluIGxvYWRTdGVuY2lsU2V0OiIsYSxxKX1udWxsIT1rJiZudWxsIT0Kay5kb2N1bWVudEVsZW1lbnQmJm14U3RlbmNpbFJlZ2lzdHJ5LnBhcnNlU3RlbmNpbFNldChrLmRvY3VtZW50RWxlbWVudCxjLG0pfX07bXhTdGVuY2lsUmVnaXN0cnkubG9hZFN0ZW5jaWw9ZnVuY3Rpb24oYSxjKXtpZihudWxsIT1jKW14VXRpbHMuZ2V0KGEsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7YygyMDA8PWEuZ2V0U3RhdHVzKCkmJjI5OT49YS5nZXRTdGF0dXMoKT9hLmdldFhtbCgpOm51bGwpfSkpO2Vsc2UgcmV0dXJuIG14VXRpbHMubG9hZChhKS5nZXRYbWwoKX07bXhTdGVuY2lsUmVnaXN0cnkucGFyc2VTdGVuY2lsU2V0cz1mdW5jdGlvbihhKXtmb3IodmFyIGM9MDtjPGEubGVuZ3RoO2MrKylteFN0ZW5jaWxSZWdpc3RyeS5wYXJzZVN0ZW5jaWxTZXQobXhVdGlscy5wYXJzZVhtbChhW2NdKS5kb2N1bWVudEVsZW1lbnQpfTsKbXhTdGVuY2lsUmVnaXN0cnkucGFyc2VTdGVuY2lsU2V0PWZ1bmN0aW9uKGEsYyxmKXtpZigic3RlbmNpbHMiPT1hLm5vZGVOYW1lKWZvcih2YXIgZD1hLmZpcnN0Q2hpbGQ7bnVsbCE9ZDspInNoYXBlcyI9PWQubm9kZU5hbWUmJm14U3RlbmNpbFJlZ2lzdHJ5LnBhcnNlU3RlbmNpbFNldChkLGMsZiksZD1kLm5leHRTaWJsaW5nO2Vsc2V7Zj1udWxsIT1mP2Y6ITA7dmFyIGQ9YS5maXJzdENoaWxkLGs9IiI7YT1hLmdldEF0dHJpYnV0ZSgibmFtZSIpO2ZvcihudWxsIT1hJiYoaz1hKyIuIik7bnVsbCE9ZDspe2lmKGQubm9kZVR5cGU9PW14Q29uc3RhbnRzLk5PREVUWVBFX0VMRU1FTlQmJihhPWQuZ2V0QXR0cmlidXRlKCJuYW1lIiksbnVsbCE9YSkpe3ZhciBrPWsudG9Mb3dlckNhc2UoKSxtPWEucmVwbGFjZSgvIC9nLCJfIik7ZiYmbXhTdGVuY2lsUmVnaXN0cnkuYWRkU3RlbmNpbChrK20udG9Mb3dlckNhc2UoKSxuZXcgbXhTdGVuY2lsKGQpKTtpZihudWxsIT1jKXt2YXIgcT1kLmdldEF0dHJpYnV0ZSgidyIpLApiPWQuZ2V0QXR0cmlidXRlKCJoIikscT1udWxsPT1xPzgwOnBhcnNlSW50KHEsMTApLGI9bnVsbD09Yj84MDpwYXJzZUludChiLDEwKTtjKGssbSxhLHEsYil9fWQ9ZC5uZXh0U2libGluZ319fTsKInVuZGVmaW5lZCIhPXR5cGVvZiBteFZlcnRleEhhbmRsZXImJmZ1bmN0aW9uKCl7ZnVuY3Rpb24gYSgpe3ZhciBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2EuY2xhc3NOYW1lPSJnZUhpbnQiO2Euc3R5bGUud2hpdGVTcGFjZT0ibm93cmFwIjthLnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSI7cmV0dXJuIGF9ZnVuY3Rpb24gYyhhLGIpe3N3aXRjaChiKXtjYXNlIG14Q29uc3RhbnRzLlBPSU5UUzpyZXR1cm4gYTtjYXNlIG14Q29uc3RhbnRzLk1JTExJTUVURVJTOnJldHVybihhL214Q29uc3RhbnRzLlBJWEVMU19QRVJfTU0pLnRvRml4ZWQoMSk7Y2FzZSBteENvbnN0YW50cy5JTkNIRVM6cmV0dXJuKGEvbXhDb25zdGFudHMuUElYRUxTX1BFUl9JTkNIKS50b0ZpeGVkKDIpfX1teENvbnN0YW50cy5IQU5ETEVfRklMTENPTE9SPSIjMjliNmYyIjtteENvbnN0YW50cy5IQU5ETEVfU1RST0tFQ09MT1I9IiMwMDg4Y2YiO214Q29uc3RhbnRzLlZFUlRFWF9TRUxFQ1RJT05fQ09MT1I9CiIjMDBhOGZmIjtteENvbnN0YW50cy5PVVRMSU5FX0NPTE9SPSIjMDBhOGZmIjtteENvbnN0YW50cy5PVVRMSU5FX0hBTkRMRV9GSUxMQ09MT1I9IiM5OWNjZmYiO214Q29uc3RhbnRzLk9VVExJTkVfSEFORExFX1NUUk9LRUNPTE9SPSIjMDBhOGZmIjtteENvbnN0YW50cy5DT05ORUNUX0hBTkRMRV9GSUxMQ09MT1I9IiNjZWU3ZmYiO214Q29uc3RhbnRzLkVER0VfU0VMRUNUSU9OX0NPTE9SPSIjMDBhOGZmIjtteENvbnN0YW50cy5ERUZBVUxUX1ZBTElEX0NPTE9SPSIjMDBhOGZmIjtteENvbnN0YW50cy5MQUJFTF9IQU5ETEVfRklMTENPTE9SPSIjY2VlN2ZmIjtteENvbnN0YW50cy5HVUlERV9DT0xPUj0iIzAwODhjZiI7bXhDb25zdGFudHMuSElHSExJR0hUX09QQUNJVFk9MzA7bXhDb25zdGFudHMuSElHSExJR0hUX1NJWkU9NTtteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5zbmFwVG9UZXJtaW5hbHM9ITA7bXhHcmFwaEhhbmRsZXIucHJvdG90eXBlLmd1aWRlc0VuYWJsZWQ9ITA7bXhHcmFwaEhhbmRsZXIucHJvdG90eXBlLnJlbW92ZUVtcHR5UGFyZW50cz0KITA7bXhSdWJiZXJiYW5kLnByb3RvdHlwZS5mYWRlT3V0PSEwO214R3VpZGUucHJvdG90eXBlLmlzRW5hYmxlZEZvckV2ZW50PWZ1bmN0aW9uKGEpe3JldHVybiFteEV2ZW50LmlzQWx0RG93bihhKX07dmFyIGY9bXhDb25uZWN0aW9uSGFuZGxlci5wcm90b3R5cGUuaXNDcmVhdGVUYXJnZXQ7bXhDb25uZWN0aW9uSGFuZGxlci5wcm90b3R5cGUuaXNDcmVhdGVUYXJnZXQ9ZnVuY3Rpb24oYSl7cmV0dXJuIG14RXZlbnQuaXNDb250cm9sRG93bihhKXx8Zi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O214Q29uc3RyYWludEhhbmRsZXIucHJvdG90eXBlLmNyZWF0ZUhpZ2hsaWdodFNoYXBlPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IG14RWxsaXBzZShudWxsLHRoaXMuaGlnaGxpZ2h0Q29sb3IsdGhpcy5oaWdobGlnaHRDb2xvciwwKTthLm9wYWNpdHk9bXhDb25zdGFudHMuSElHSExJR0hUX09QQUNJVFk7cmV0dXJuIGF9O214Q29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLmxpdmVQcmV2aWV3PQohMDtteENvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS5jdXJzb3I9ImNyb3NzaGFpciI7bXhDb25uZWN0aW9uSGFuZGxlci5wcm90b3R5cGUuY3JlYXRlRWRnZVN0YXRlPWZ1bmN0aW9uKGEpe2E9dGhpcy5ncmFwaC5jcmVhdGVDdXJyZW50RWRnZVN0eWxlKCk7YT10aGlzLmdyYXBoLmNyZWF0ZUVkZ2UobnVsbCxudWxsLG51bGwsbnVsbCxudWxsLGEpO2E9bmV3IG14Q2VsbFN0YXRlKHRoaXMuZ3JhcGgudmlldyxhLHRoaXMuZ3JhcGguZ2V0Q2VsbFN0eWxlKGEpKTtmb3IodmFyIGIgaW4gdGhpcy5ncmFwaC5jdXJyZW50RWRnZVN0eWxlKWEuc3R5bGVbYl09dGhpcy5ncmFwaC5jdXJyZW50RWRnZVN0eWxlW2JdO3JldHVybiBhfTt2YXIgZD1teENvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS5jcmVhdGVTaGFwZTtteENvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS5jcmVhdGVTaGFwZT1mdW5jdGlvbigpe3ZhciBhPWQuYXBwbHkodGhpcyxhcmd1bWVudHMpO2EuaXNEYXNoZWQ9IjEiPT0KdGhpcy5ncmFwaC5jdXJyZW50RWRnZVN0eWxlW214Q29uc3RhbnRzLlNUWUxFX0RBU0hFRF07cmV0dXJuIGF9O214Q29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLnVwZGF0ZVByZXZpZXc9ZnVuY3Rpb24oYSl7fTt2YXIgaz1teENvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS5jcmVhdGVNYXJrZXI7bXhDb25uZWN0aW9uSGFuZGxlci5wcm90b3R5cGUuY3JlYXRlTWFya2VyPWZ1bmN0aW9uKCl7dmFyIGE9ay5hcHBseSh0aGlzLGFyZ3VtZW50cyksYj1hLmdldENlbGw7YS5nZXRDZWxsPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3ZhciBlPWIuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuZXJyb3I9bnVsbDtyZXR1cm4gZX0pO3JldHVybiBhfTtHcmFwaC5wcm90b3R5cGUuZGVmYXVsdFZlcnRleFN0eWxlPXt9O0dyYXBoLnByb3RvdHlwZS5kZWZhdWx0RWRnZVN0eWxlPXtlZGdlU3R5bGU6Im9ydGhvZ29uYWxFZGdlU3R5bGUiLHJvdW5kZWQ6IjAiLGpldHR5U2l6ZToiYXV0byIsCm9ydGhvZ29uYWxMb29wOiIxIn07R3JhcGgucHJvdG90eXBlLmNyZWF0ZUN1cnJlbnRFZGdlU3R5bGU9ZnVuY3Rpb24oKXt2YXIgYT0iZWRnZVN0eWxlPSIrKHRoaXMuY3VycmVudEVkZ2VTdHlsZS5lZGdlU3R5bGV8fCJub25lIikrIjsiO251bGwhPXRoaXMuY3VycmVudEVkZ2VTdHlsZS5zaGFwZSYmKGErPSJzaGFwZT0iK3RoaXMuY3VycmVudEVkZ2VTdHlsZS5zaGFwZSsiOyIpO251bGwhPXRoaXMuY3VycmVudEVkZ2VTdHlsZS5jdXJ2ZWQmJihhKz0iY3VydmVkPSIrdGhpcy5jdXJyZW50RWRnZVN0eWxlLmN1cnZlZCsiOyIpO251bGwhPXRoaXMuY3VycmVudEVkZ2VTdHlsZS5yb3VuZGVkJiYoYSs9InJvdW5kZWQ9Iit0aGlzLmN1cnJlbnRFZGdlU3R5bGUucm91bmRlZCsiOyIpO251bGwhPXRoaXMuY3VycmVudEVkZ2VTdHlsZS5jb21pYyYmKGErPSJjb21pYz0iK3RoaXMuY3VycmVudEVkZ2VTdHlsZS5jb21pYysiOyIpO251bGwhPXRoaXMuY3VycmVudEVkZ2VTdHlsZS5qdW1wU3R5bGUmJgooYSs9Imp1bXBTdHlsZT0iK3RoaXMuY3VycmVudEVkZ2VTdHlsZS5qdW1wU3R5bGUrIjsiKTtudWxsIT10aGlzLmN1cnJlbnRFZGdlU3R5bGUuanVtcFNpemUmJihhKz0ianVtcFNpemU9Iit0aGlzLmN1cnJlbnRFZGdlU3R5bGUuanVtcFNpemUrIjsiKTtudWxsIT10aGlzLmN1cnJlbnRFZGdlU3R5bGUub3J0aG9nb25hbExvb3A/YSs9Im9ydGhvZ29uYWxMb29wPSIrdGhpcy5jdXJyZW50RWRnZVN0eWxlLm9ydGhvZ29uYWxMb29wKyI7IjpudWxsIT1HcmFwaC5wcm90b3R5cGUuZGVmYXVsdEVkZ2VTdHlsZS5vcnRob2dvbmFsTG9vcCYmKGErPSJvcnRob2dvbmFsTG9vcD0iK0dyYXBoLnByb3RvdHlwZS5kZWZhdWx0RWRnZVN0eWxlLm9ydGhvZ29uYWxMb29wKyI7Iik7bnVsbCE9dGhpcy5jdXJyZW50RWRnZVN0eWxlLmpldHR5U2l6ZT9hKz0iamV0dHlTaXplPSIrdGhpcy5jdXJyZW50RWRnZVN0eWxlLmpldHR5U2l6ZSsiOyI6bnVsbCE9R3JhcGgucHJvdG90eXBlLmRlZmF1bHRFZGdlU3R5bGUuamV0dHlTaXplJiYKKGErPSJqZXR0eVNpemU9IitHcmFwaC5wcm90b3R5cGUuZGVmYXVsdEVkZ2VTdHlsZS5qZXR0eVNpemUrIjsiKTsiZWxib3dFZGdlU3R5bGUiPT10aGlzLmN1cnJlbnRFZGdlU3R5bGUuZWRnZVN0eWxlJiZudWxsIT10aGlzLmN1cnJlbnRFZGdlU3R5bGUuZWxib3cmJihhKz0iZWxib3c9Iit0aGlzLmN1cnJlbnRFZGdlU3R5bGUuZWxib3crIjsiKTtyZXR1cm4gYT1udWxsIT10aGlzLmN1cnJlbnRFZGdlU3R5bGUuaHRtbD9hKygiaHRtbD0iK3RoaXMuY3VycmVudEVkZ2VTdHlsZS5odG1sKyI7Iik6YSsiaHRtbD0xOyJ9O0dyYXBoLnByb3RvdHlwZS5nZXRQYWdlUGFkZGluZz1mdW5jdGlvbigpe3JldHVybiBuZXcgbXhQb2ludCgwLDApfTtHcmFwaC5wcm90b3R5cGUubG9hZFN0eWxlc2hlZXQ9ZnVuY3Rpb24oKXt2YXIgYT1udWxsIT10aGlzLnRoZW1lcz90aGlzLnRoZW1lc1t0aGlzLmRlZmF1bHRUaGVtZU5hbWVdOm14U3R5bGVSZWdpc3RyeS5keW5hbWljTG9hZGluZz9teFV0aWxzLmxvYWQoU1RZTEVfUEFUSCsKIi9kZWZhdWx0LnhtbCIpLmdldERvY3VtZW50RWxlbWVudCgpOm51bGw7bnVsbCE9YSYmKG5ldyBteENvZGVjKGEub3duZXJEb2N1bWVudCkpLmRlY29kZShhLHRoaXMuZ2V0U3R5bGVzaGVldCgpKX07R3JhcGgucHJvdG90eXBlLmNyZWF0ZUNlbGxMb29rdXA9ZnVuY3Rpb24oYSxiKXtiPW51bGwhPWI/Yjp7fTtmb3IodmFyIGU9MDtlPGEubGVuZ3RoO2UrKyl7dmFyIGM9YVtlXTtiW214T2JqZWN0SWRlbnRpdHkuZ2V0KGMpXT1jLmdldElkKCk7Zm9yKHZhciBkPXRoaXMubW9kZWwuZ2V0Q2hpbGRDb3VudChjKSxmPTA7ZjxkO2YrKyl0aGlzLmNyZWF0ZUNlbGxMb29rdXAoW3RoaXMubW9kZWwuZ2V0Q2hpbGRBdChjLGYpXSxiKX1yZXR1cm4gYn07R3JhcGgucHJvdG90eXBlLmNyZWF0ZUNlbGxNYXBwaW5nPWZ1bmN0aW9uKGEsYixlKXtlPW51bGwhPWU/ZTp7fTtmb3IodmFyIGMgaW4gYSl7dmFyIGQ9YltjXTtudWxsPT1lW2RdJiYoZVtkXT1hW2NdLmdldElkKCl8fCIiKX1yZXR1cm4gZX07CkdyYXBoLnByb3RvdHlwZS5pbXBvcnRHcmFwaE1vZGVsPWZ1bmN0aW9uKGEsYixlLGMpe2I9bnVsbCE9Yj9iOjA7ZT1udWxsIT1lP2U6MDt2YXIgZD1uZXcgbXhDb2RlYyhhLm93bmVyRG9jdW1lbnQpLGY9bmV3IG14R3JhcGhNb2RlbDtkLmRlY29kZShhLGYpO2E9W107dmFyIGQ9e30sZz17fSxsPWYuZ2V0Q2hpbGRyZW4odGhpcy5jbG9uZUNlbGwoZi5yb290LHRoaXMuaXNDbG9uZUludmFsaWRFZGdlcygpLGQpKTtpZihudWxsIT1sKXt2YXIgbj10aGlzLmNyZWF0ZUNlbGxMb29rdXAoW2Yucm9vdF0pLGw9bC5zbGljZSgpO3RoaXMubW9kZWwuYmVnaW5VcGRhdGUoKTt0cnl7aWYoMSE9bC5sZW5ndGh8fHRoaXMuaXNDZWxsTG9ja2VkKHRoaXMuZ2V0RGVmYXVsdFBhcmVudCgpKSlmb3IoZj0wO2Y8bC5sZW5ndGg7ZisrKXt2YXIgdT10aGlzLm1vZGVsLmdldENoaWxkcmVuKHRoaXMubW92ZUNlbGxzKFtsW2ZdXSxiLGUsITEsdGhpcy5tb2RlbC5nZXRSb290KCkpWzBdKTtudWxsIT11JiYKKGE9YS5jb25jYXQodSkpfWVsc2UgYT10aGlzLm1vdmVDZWxscyhmLmdldENoaWxkcmVuKGxbMF0pLGIsZSwhMSx0aGlzLmdldERlZmF1bHRQYXJlbnQoKSksZ1tmLmdldENoaWxkQXQoZi5yb290LDApLmdldElkKCldPXRoaXMuZ2V0RGVmYXVsdFBhcmVudCgpLmdldElkKCk7aWYobnVsbCE9YSYmKHRoaXMuY3JlYXRlQ2VsbE1hcHBpbmcoZCxuLGcpLHRoaXMudXBkYXRlQ3VzdG9tTGlua3MoZyxhKSxjKSl7dGhpcy5pc0dyaWRFbmFibGVkKCkmJihiPXRoaXMuc25hcChiKSxlPXRoaXMuc25hcChlKSk7dmFyIHA9dGhpcy5nZXRCb3VuZGluZ0JveEZyb21HZW9tZXRyeShhLCEwKTtudWxsIT1wJiZ0aGlzLm1vdmVDZWxscyhhLGItcC54LGUtcC55KX19ZmluYWxseXt0aGlzLm1vZGVsLmVuZFVwZGF0ZSgpfX1yZXR1cm4gYX07R3JhcGgucHJvdG90eXBlLmVuY29kZUNlbGxzPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj17fSxlPXRoaXMuY2xvbmVDZWxscyhhLG51bGwsYiksYz1uZXcgbXhEaWN0aW9uYXJ5LApkPTA7ZDxhLmxlbmd0aDtkKyspYy5wdXQoYVtkXSwhMCk7Zm9yKGQ9MDtkPGUubGVuZ3RoO2QrKyl7dmFyIGY9dGhpcy52aWV3LmdldFN0YXRlKGFbZF0pO2lmKG51bGwhPWYpe3ZhciBnPXRoaXMuZ2V0Q2VsbEdlb21ldHJ5KGVbZF0pO251bGw9PWd8fCFnLnJlbGF0aXZlfHx0aGlzLm1vZGVsLmlzRWRnZShhW2RdKXx8Yy5nZXQodGhpcy5tb2RlbC5nZXRQYXJlbnQoYVtkXSkpfHwoZy5yZWxhdGl2ZT0hMSxnLng9Zi54L2Yudmlldy5zY2FsZS1mLnZpZXcudHJhbnNsYXRlLngsZy55PWYueS9mLnZpZXcuc2NhbGUtZi52aWV3LnRyYW5zbGF0ZS55KX19Yz1uZXcgbXhDb2RlYztmPW5ldyBteEdyYXBoTW9kZWw7Zz1mLmdldENoaWxkQXQoZi5nZXRSb290KCksMCk7Zm9yKGQ9MDtkPGUubGVuZ3RoO2QrKylmLmFkZChnLGVbZF0pO3RoaXMudXBkYXRlQ3VzdG9tTGlua3ModGhpcy5jcmVhdGVDZWxsTWFwcGluZyhiLHRoaXMuY3JlYXRlQ2VsbExvb2t1cChhKSksZSk7cmV0dXJuIGMuZW5jb2RlKGYpfTsKdmFyIG09R3JhcGgucHJvdG90eXBlLnNwbGl0RWRnZTtHcmFwaC5wcm90b3R5cGUuc3BsaXRFZGdlPWZ1bmN0aW9uKGEsYixlLGMsZCxmLGcsbCl7bnVsbD09bCYmKGw9dGhpcy5tb2RlbC5nZXRQYXJlbnQoYSksdGhpcy5pc1RhYmxlKGwpfHx0aGlzLmlzVGFibGVSb3cobCkpJiYobD10aGlzLmdldENlbGxBdChmLGcsbnVsbCwhMCwhMSkpO20uYXBwbHkodGhpcyxbYSxiLGUsYyxkLGYsZyxsXSl9O3ZhciBxPUdyYXBoLnByb3RvdHlwZS5zZWxlY3RDZWxsO0dyYXBoLnByb3RvdHlwZS5zZWxlY3RDZWxsPWZ1bmN0aW9uKGEsYixlKXtpZihifHxlKXEuYXBwbHkodGhpcyxhcmd1bWVudHMpO2Vsc2V7dmFyIGM9dGhpcy5nZXRTZWxlY3Rpb25DZWxsKCksZD1udWxsLGY9W10sZz1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihiKXtpZihudWxsIT10aGlzLnZpZXcuZ2V0U3RhdGUoYikmJih0aGlzLm1vZGVsLmlzVmVydGV4KGIpfHx0aGlzLm1vZGVsLmlzRWRnZShiKSkpaWYoZi5wdXNoKGIpLApiPT1jKWQ9Zi5sZW5ndGgtMTtlbHNlIGlmKGEmJm51bGw9PWMmJjA8Zi5sZW5ndGh8fG51bGwhPWQmJmEmJmYubGVuZ3RoPmR8fCFhJiYwPGQpcmV0dXJuO2Zvcih2YXIgZT0wO2U8dGhpcy5tb2RlbC5nZXRDaGlsZENvdW50KGIpO2UrKylnKHRoaXMubW9kZWwuZ2V0Q2hpbGRBdChiLGUpKX0pO2codGhpcy5tb2RlbC5yb290KTswPGYubGVuZ3RoJiYoZD1udWxsIT1kP214VXRpbHMubW9kKGQrKGE/MTotMSksZi5sZW5ndGgpOjAsdGhpcy5zZXRTZWxlY3Rpb25DZWxsKGZbZF0pKX19O3ZhciBiPUdyYXBoLnByb3RvdHlwZS5tb3ZlQ2VsbHM7R3JhcGgucHJvdG90eXBlLm1vdmVDZWxscz1mdW5jdGlvbihhLGUsYyxkLGYsZyxsKXtsPW51bGwhPWw/bDp7fTt2YXIgbj1iLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtkJiZ0aGlzLnVwZGF0ZUN1c3RvbUxpbmtzKHRoaXMuY3JlYXRlQ2VsbE1hcHBpbmcobCx0aGlzLmNyZWF0ZUNlbGxMb29rdXAoYSkpLG4pO3JldHVybiBufTt2YXIgZT1HcmFwaC5wcm90b3R5cGUucmVtb3ZlQ2VsbHM7CkdyYXBoLnByb3RvdHlwZS5yZW1vdmVDZWxscz1mdW5jdGlvbihhLGIpe3ZhciBjPVtdO3RoaXMubW9kZWwuYmVnaW5VcGRhdGUoKTt0cnl7Zm9yKHZhciBkPTA7ZDxhLmxlbmd0aDtkKyspdGhpcy5pc1RhYmxlQ2VsbChhW2RdKT90aGlzLmxhYmVsQ2hhbmdlZChhW2RdLCIiKTpjLnB1c2goYVtkXSk7Yz1lLmFwcGx5KHRoaXMsW2MsYl0pfWZpbmFsbHl7dGhpcy5tb2RlbC5lbmRVcGRhdGUoKX1yZXR1cm4gY307R3JhcGgucHJvdG90eXBlLnVwZGF0ZUN1c3RvbUxpbmtzPWZ1bmN0aW9uKGEsYil7Zm9yKHZhciBlPTA7ZTxiLmxlbmd0aDtlKyspbnVsbCE9YltlXSYmdGhpcy51cGRhdGVDdXN0b21MaW5rc0ZvckNlbGwoYSxiW2VdKX07R3JhcGgucHJvdG90eXBlLnVwZGF0ZUN1c3RvbUxpbmtzRm9yQ2VsbD1mdW5jdGlvbihhLGIpe307R3JhcGgucHJvdG90eXBlLmdldEFsbENvbm5lY3Rpb25Db25zdHJhaW50cz1mdW5jdGlvbihhLGIpe2lmKG51bGwhPWEpe3ZhciBlPW14VXRpbHMuZ2V0VmFsdWUoYS5zdHlsZSwKInBvaW50cyIsbnVsbCk7aWYobnVsbCE9ZSl7dmFyIGM9W107dHJ5e2Zvcih2YXIgZD1KU09OLnBhcnNlKGUpLGU9MDtlPGQubGVuZ3RoO2UrKyl7dmFyIGY9ZFtlXTtjLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoZlswXSxmWzFdKSwyPGYubGVuZ3RoPyIwIiE9ZlsyXTohMCxudWxsLDM8Zi5sZW5ndGg/ZlszXTowLDQ8Zi5sZW5ndGg/Zls0XTowKSl9fWNhdGNoKG5hKXt9cmV0dXJuIGN9aWYobnVsbCE9YS5zaGFwZSYmbnVsbCE9YS5zaGFwZS5ib3VuZHMpe2Y9YS5zaGFwZS5kaXJlY3Rpb247ZD1hLnNoYXBlLmJvdW5kcztlPWEuc2hhcGUuc2NhbGU7Yz1kLndpZHRoL2U7ZD1kLmhlaWdodC9lO2lmKGY9PW14Q29uc3RhbnRzLkRJUkVDVElPTl9OT1JUSHx8Zj09bXhDb25zdGFudHMuRElSRUNUSU9OX1NPVVRIKWY9YyxjPWQsZD1mO2U9YS5zaGFwZS5nZXRDb25zdHJhaW50cyhhLnN0eWxlLGMsZCk7aWYobnVsbCE9ZSlyZXR1cm4gZTtpZihudWxsIT0KYS5zaGFwZS5zdGVuY2lsJiZudWxsIT1hLnNoYXBlLnN0ZW5jaWwuY29uc3RyYWludHMpcmV0dXJuIGEuc2hhcGUuc3RlbmNpbC5jb25zdHJhaW50cztpZihudWxsIT1hLnNoYXBlLmNvbnN0cmFpbnRzKXJldHVybiBhLnNoYXBlLmNvbnN0cmFpbnRzfX1yZXR1cm4gbnVsbH07R3JhcGgucHJvdG90eXBlLmZsaXBFZGdlPWZ1bmN0aW9uKGEpe2lmKG51bGwhPWEpe3ZhciBiPXRoaXMuZ2V0Q3VycmVudENlbGxTdHlsZShhKSxiPW14VXRpbHMuZ2V0VmFsdWUoYixteENvbnN0YW50cy5TVFlMRV9FTEJPVyxteENvbnN0YW50cy5FTEJPV19IT1JJWk9OVEFMKT09bXhDb25zdGFudHMuRUxCT1dfSE9SSVpPTlRBTD9teENvbnN0YW50cy5FTEJPV19WRVJUSUNBTDpteENvbnN0YW50cy5FTEJPV19IT1JJWk9OVEFMO3RoaXMuc2V0Q2VsbFN0eWxlcyhteENvbnN0YW50cy5TVFlMRV9FTEJPVyxiLFthXSl9fTtHcmFwaC5wcm90b3R5cGUuaXNWYWxpZFJvb3Q9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPQp0aGlzLm1vZGVsLmdldENoaWxkQ291bnQoYSksZT0wLGM9MDtjPGI7YysrKXt2YXIgZD10aGlzLm1vZGVsLmdldENoaWxkQXQoYSxjKTt0aGlzLm1vZGVsLmlzVmVydGV4KGQpJiYoZD10aGlzLmdldENlbGxHZW9tZXRyeShkKSxudWxsPT1kfHxkLnJlbGF0aXZlfHxlKyspfXJldHVybiAwPGV8fHRoaXMuaXNDb250YWluZXIoYSl9O0dyYXBoLnByb3RvdHlwZS5pc1ZhbGlkRHJvcFRhcmdldD1mdW5jdGlvbihhLGIsZSl7Zm9yKHZhciBjPXRoaXMuZ2V0Q3VycmVudENlbGxTdHlsZShhKSxkPSEwLGY9MDtmPGIubGVuZ3RoJiZkO2YrKylkPWQmJnRoaXMuaXNUYWJsZVJvdyhiW2ZdKTtyZXR1cm4oIjEiIT1teFV0aWxzLmdldFZhbHVlKGMsInBhcnQiLCIwIil8fHRoaXMuaXNDb250YWluZXIoYSkpJiYiMCIhPW14VXRpbHMuZ2V0VmFsdWUoYywiZHJvcFRhcmdldCIsIjEiKSYmKG14R3JhcGgucHJvdG90eXBlLmlzVmFsaWREcm9wVGFyZ2V0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcy5pc0NvbnRhaW5lcihhKSkmJgohdGhpcy5pc1RhYmxlUm93KGEpJiYoIXRoaXMuaXNUYWJsZShhKXx8ZCl9O0dyYXBoLnByb3RvdHlwZS5jcmVhdGVHcm91cENlbGw9ZnVuY3Rpb24oKXt2YXIgYT1teEdyYXBoLnByb3RvdHlwZS5jcmVhdGVHcm91cENlbGwuYXBwbHkodGhpcyxhcmd1bWVudHMpO2Euc2V0U3R5bGUoImdyb3VwIik7cmV0dXJuIGF9O0dyYXBoLnByb3RvdHlwZS5pc0V4dGVuZFBhcmVudHNPbkFkZD1mdW5jdGlvbihhKXt2YXIgYj1teEdyYXBoLnByb3RvdHlwZS5pc0V4dGVuZFBhcmVudHNPbkFkZC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7aWYoYiYmbnVsbCE9YSYmbnVsbCE9dGhpcy5sYXlvdXRNYW5hZ2VyKXt2YXIgZT10aGlzLm1vZGVsLmdldFBhcmVudChhKTtudWxsIT1lJiYoZT10aGlzLmxheW91dE1hbmFnZXIuZ2V0TGF5b3V0KGUpLG51bGwhPWUmJmUuY29uc3RydWN0b3I9PW14U3RhY2tMYXlvdXQmJihiPSExKSl9cmV0dXJuIGJ9O0dyYXBoLnByb3RvdHlwZS5nZXRQcmVmZXJyZWRTaXplRm9yQ2VsbD0KZnVuY3Rpb24oYSl7dmFyIGI9bXhHcmFwaC5wcm90b3R5cGUuZ2V0UHJlZmVycmVkU2l6ZUZvckNlbGwuYXBwbHkodGhpcyxhcmd1bWVudHMpO251bGwhPWImJihiLndpZHRoKz0xMCxiLmhlaWdodCs9NCx0aGlzLmdyaWRFbmFibGVkJiYoYi53aWR0aD10aGlzLnNuYXAoYi53aWR0aCksYi5oZWlnaHQ9dGhpcy5zbmFwKGIuaGVpZ2h0KSkpO3JldHVybiBifTtHcmFwaC5wcm90b3R5cGUudHVyblNoYXBlcz1mdW5jdGlvbihhLGIpe3ZhciBlPXRoaXMuZ2V0TW9kZWwoKSxjPVtdO2UuYmVnaW5VcGRhdGUoKTt0cnl7Zm9yKHZhciBkPTA7ZDxhLmxlbmd0aDtkKyspe3ZhciBmPWFbZF07aWYoZS5pc0VkZ2UoZikpe3ZhciBnPWUuZ2V0VGVybWluYWwoZiwhMCksbD1lLmdldFRlcm1pbmFsKGYsITEpO2Uuc2V0VGVybWluYWwoZixsLCEwKTtlLnNldFRlcm1pbmFsKGYsZywhMSk7dmFyIG49ZS5nZXRHZW9tZXRyeShmKTtpZihudWxsIT1uKXtuPW4uY2xvbmUoKTtudWxsIT1uLnBvaW50cyYmCm4ucG9pbnRzLnJldmVyc2UoKTt2YXIgdT1uLmdldFRlcm1pbmFsUG9pbnQoITApLHA9bi5nZXRUZXJtaW5hbFBvaW50KCExKTtuLnNldFRlcm1pbmFsUG9pbnQodSwhMSk7bi5zZXRUZXJtaW5hbFBvaW50KHAsITApO2Uuc2V0R2VvbWV0cnkoZixuKTt2YXIgdD10aGlzLnZpZXcuZ2V0U3RhdGUoZiksQT10aGlzLnZpZXcuZ2V0U3RhdGUoZyksbT10aGlzLnZpZXcuZ2V0U3RhdGUobCk7aWYobnVsbCE9dCl7dmFyIGs9bnVsbCE9QT90aGlzLmdldENvbm5lY3Rpb25Db25zdHJhaW50KHQsQSwhMCk6bnVsbCxTPW51bGwhPW0/dGhpcy5nZXRDb25uZWN0aW9uQ29uc3RyYWludCh0LG0sITEpOm51bGw7dGhpcy5zZXRDb25uZWN0aW9uQ29uc3RyYWludChmLGcsITAsUyk7dGhpcy5zZXRDb25uZWN0aW9uQ29uc3RyYWludChmLGwsITEsayl9Yy5wdXNoKGYpfX1lbHNlIGlmKGUuaXNWZXJ0ZXgoZikmJihuPXRoaXMuZ2V0Q2VsbEdlb21ldHJ5KGYpLG51bGwhPW4pKXtuPW4uY2xvbmUoKTtuLngrPQpuLndpZHRoLzItbi5oZWlnaHQvMjtuLnkrPW4uaGVpZ2h0LzItbi53aWR0aC8yO3ZhciB5PW4ud2lkdGg7bi53aWR0aD1uLmhlaWdodDtuLmhlaWdodD15O2Uuc2V0R2VvbWV0cnkoZixuKTt2YXIgdj10aGlzLnZpZXcuZ2V0U3RhdGUoZik7aWYobnVsbCE9dil7dmFyIEs9W214Q29uc3RhbnRzLkRJUkVDVElPTl9FQVNULG14Q29uc3RhbnRzLkRJUkVDVElPTl9TT1VUSCxteENvbnN0YW50cy5ESVJFQ1RJT05fV0VTVCxteENvbnN0YW50cy5ESVJFQ1RJT05fTk9SVEhdLHg9bXhVdGlscy5nZXRWYWx1ZSh2LnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0RJUkVDVElPTixteENvbnN0YW50cy5ESVJFQ1RJT05fRUFTVCk7dGhpcy5zZXRDZWxsU3R5bGVzKG14Q29uc3RhbnRzLlNUWUxFX0RJUkVDVElPTixLW214VXRpbHMubW9kKG14VXRpbHMuaW5kZXhPZihLLHgpKyhiPy0xOjEpLEsubGVuZ3RoKV0sW2ZdKX1jLnB1c2goZil9fX1maW5hbGx5e2UuZW5kVXBkYXRlKCl9cmV0dXJuIGN9O0dyYXBoLnByb3RvdHlwZS5zdGVuY2lsSGFzUGxhY2Vob2xkZXJzPQpmdW5jdGlvbihhKXtpZihudWxsIT1hJiZudWxsIT1hLmZnTm9kZSlmb3IoYT1hLmZnTm9kZS5maXJzdENoaWxkO251bGwhPWE7KXtpZigidGV4dCI9PWEubm9kZU5hbWUmJiIxIj09YS5nZXRBdHRyaWJ1dGUoInBsYWNlaG9sZGVycyIpKXJldHVybiEwO2E9YS5uZXh0U2libGluZ31yZXR1cm4hMX07R3JhcGgucHJvdG90eXBlLnByb2Nlc3NDaGFuZ2U9ZnVuY3Rpb24oYSl7bXhHcmFwaC5wcm90b3R5cGUucHJvY2Vzc0NoYW5nZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7YSBpbnN0YW5jZW9mIG14VmFsdWVDaGFuZ2UmJm51bGwhPWEuY2VsbCYmbnVsbCE9YS5jZWxsLnZhbHVlJiYib2JqZWN0Ij09dHlwZW9mIGEuY2VsbC52YWx1ZSYmdGhpcy5pbnZhbGlkYXRlRGVzY2VuZGFudHNXaXRoUGxhY2Vob2xkZXJzKGEuY2VsbCl9O0dyYXBoLnByb3RvdHlwZS5pbnZhbGlkYXRlRGVzY2VuZGFudHNXaXRoUGxhY2Vob2xkZXJzPWZ1bmN0aW9uKGEpe2E9dGhpcy5tb2RlbC5nZXREZXNjZW5kYW50cyhhKTsKaWYoMDxhLmxlbmd0aClmb3IodmFyIGI9MDtiPGEubGVuZ3RoO2IrKyl7dmFyIGU9dGhpcy52aWV3LmdldFN0YXRlKGFbYl0pO251bGwhPWUmJm51bGwhPWUuc2hhcGUmJm51bGwhPWUuc2hhcGUuc3RlbmNpbCYmdGhpcy5zdGVuY2lsSGFzUGxhY2Vob2xkZXJzKGUuc2hhcGUuc3RlbmNpbCk/dGhpcy5yZW1vdmVTdGF0ZUZvckNlbGwoYVtiXSk6dGhpcy5pc1JlcGxhY2VQbGFjZWhvbGRlcnMoYVtiXSkmJnRoaXMudmlldy5pbnZhbGlkYXRlKGFbYl0sITEsITEpfX07R3JhcGgucHJvdG90eXBlLnJlcGxhY2VFbGVtZW50PWZ1bmN0aW9uKGEsYil7Zm9yKHZhciBlPWEub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KG51bGwhPWI/Yjoic3BhbiIpLGM9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYS5hdHRyaWJ1dGVzKTthdHRyPWMucG9wKCk7KWUuc2V0QXR0cmlidXRlKGF0dHIubm9kZU5hbWUsYXR0ci5ub2RlVmFsdWUpO2UuaW5uZXJIVE1MPWEuaW5uZXJIVE1MO2EucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQoZSwKYSl9O0dyYXBoLnByb3RvdHlwZS5wcm9jZXNzRWxlbWVudHM9ZnVuY3Rpb24oYSxiKXtpZihudWxsIT1hKWZvcih2YXIgZT1hLmdldEVsZW1lbnRzQnlUYWdOYW1lKCIqIiksYz0wO2M8ZS5sZW5ndGg7YysrKWIoZVtjXSl9O0dyYXBoLnByb3RvdHlwZS51cGRhdGVMYWJlbEVsZW1lbnRzPWZ1bmN0aW9uKGEsYixlKXthPW51bGwhPWE/YTp0aGlzLmdldFNlbGVjdGlvbkNlbGxzKCk7Zm9yKHZhciBjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLGQ9MDtkPGEubGVuZ3RoO2QrKylpZih0aGlzLmlzSHRtbExhYmVsKGFbZF0pKXt2YXIgZj10aGlzLmNvbnZlcnRWYWx1ZVRvU3RyaW5nKGFbZF0pO2lmKG51bGwhPWYmJjA8Zi5sZW5ndGgpe2MuaW5uZXJIVE1MPWY7Zm9yKHZhciBnPWMuZ2V0RWxlbWVudHNCeVRhZ05hbWUobnVsbCE9ZT9lOiIqIiksbD0wO2w8Zy5sZW5ndGg7bCsrKWIoZ1tsXSk7Yy5pbm5lckhUTUwhPWYmJnRoaXMuY2VsbExhYmVsQ2hhbmdlZChhW2RdLGMuaW5uZXJIVE1MKX19fTsKR3JhcGgucHJvdG90eXBlLmNlbGxMYWJlbENoYW5nZWQ9ZnVuY3Rpb24oYSxiLGUpe2I9R3JhcGguemFwR3JlbWxpbnMoYik7dGhpcy5tb2RlbC5iZWdpblVwZGF0ZSgpO3RyeXtpZihudWxsIT1hLnZhbHVlJiYib2JqZWN0Ij09dHlwZW9mIGEudmFsdWUpe2lmKHRoaXMuaXNSZXBsYWNlUGxhY2Vob2xkZXJzKGEpJiZudWxsIT1hLmdldEF0dHJpYnV0ZSgicGxhY2Vob2xkZXIiKSlmb3IodmFyIGM9YS5nZXRBdHRyaWJ1dGUoInBsYWNlaG9sZGVyIiksZD1hO251bGwhPWQ7KXtpZihkPT10aGlzLm1vZGVsLmdldFJvb3QoKXx8bnVsbCE9ZC52YWx1ZSYmIm9iamVjdCI9PXR5cGVvZiBkLnZhbHVlJiZkLmhhc0F0dHJpYnV0ZShjKSl7dGhpcy5zZXRBdHRyaWJ1dGVGb3JDZWxsKGQsYyxiKTticmVha31kPXRoaXMubW9kZWwuZ2V0UGFyZW50KGQpfXZhciBmPWEudmFsdWUuY2xvbmVOb2RlKCEwKTtmLnNldEF0dHJpYnV0ZSgibGFiZWwiLGIpO2I9Zn1teEdyYXBoLnByb3RvdHlwZS5jZWxsTGFiZWxDaGFuZ2VkLmFwcGx5KHRoaXMsCmFyZ3VtZW50cyl9ZmluYWxseXt0aGlzLm1vZGVsLmVuZFVwZGF0ZSgpfX07R3JhcGgucHJvdG90eXBlLmNlbGxzUmVtb3ZlZD1mdW5jdGlvbihhKXtpZihudWxsIT1hKXtmb3IodmFyIGI9bmV3IG14RGljdGlvbmFyeSxlPTA7ZTxhLmxlbmd0aDtlKyspYi5wdXQoYVtlXSwhMCk7Zm9yKHZhciBjPVtdLGU9MDtlPGEubGVuZ3RoO2UrKyl7dmFyIGQ9dGhpcy5tb2RlbC5nZXRQYXJlbnQoYVtlXSk7bnVsbD09ZHx8Yi5nZXQoZCl8fChiLnB1dChkLCEwKSxjLnB1c2goZCkpfWZvcihlPTA7ZTxjLmxlbmd0aDtlKyspaWYoZD10aGlzLnZpZXcuZ2V0U3RhdGUoY1tlXSksbnVsbCE9ZCYmKHRoaXMubW9kZWwuaXNFZGdlKGQuY2VsbCl8fHRoaXMubW9kZWwuaXNWZXJ0ZXgoZC5jZWxsKSkmJnRoaXMuaXNDZWxsRGVsZXRhYmxlKGQuY2VsbCkmJnRoaXMuaXNUcmFuc3BhcmVudFN0YXRlKGQpKXtmb3IodmFyIGY9ITAsZz0wO2c8dGhpcy5tb2RlbC5nZXRDaGlsZENvdW50KGQuY2VsbCkmJmY7ZysrKWIuZ2V0KHRoaXMubW9kZWwuZ2V0Q2hpbGRBdChkLmNlbGwsCmcpKXx8KGY9ITEpO2YmJmEucHVzaChkLmNlbGwpfX1teEdyYXBoLnByb3RvdHlwZS5jZWxsc1JlbW92ZWQuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtHcmFwaC5wcm90b3R5cGUucmVtb3ZlQ2VsbHNBZnRlclVuZ3JvdXA9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPVtdLGU9MDtlPGEubGVuZ3RoO2UrKyl0aGlzLmlzQ2VsbERlbGV0YWJsZShhW2VdKSYmdGhpcy5pc1RyYW5zcGFyZW50U3RhdGUodGhpcy52aWV3LmdldFN0YXRlKGFbZV0pKSYmYi5wdXNoKGFbZV0pO2E9YjtteEdyYXBoLnByb3RvdHlwZS5yZW1vdmVDZWxsc0FmdGVyVW5ncm91cC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O0dyYXBoLnByb3RvdHlwZS5zZXRMaW5rRm9yQ2VsbD1mdW5jdGlvbihhLGIpe3RoaXMuc2V0QXR0cmlidXRlRm9yQ2VsbChhLCJsaW5rIixiKX07R3JhcGgucHJvdG90eXBlLnNldFRvb2x0aXBGb3JDZWxsPWZ1bmN0aW9uKGEsYil7dGhpcy5zZXRBdHRyaWJ1dGVGb3JDZWxsKGEsInRvb2x0aXAiLGIpfTsKR3JhcGgucHJvdG90eXBlLmdldEF0dHJpYnV0ZUZvckNlbGw9ZnVuY3Rpb24oYSxiLGUpe2E9bnVsbCE9YS52YWx1ZSYmIm9iamVjdCI9PT10eXBlb2YgYS52YWx1ZT9hLnZhbHVlLmdldEF0dHJpYnV0ZShiKTpudWxsO3JldHVybiBudWxsIT1hP2E6ZX07R3JhcGgucHJvdG90eXBlLnNldEF0dHJpYnV0ZUZvckNlbGw9ZnVuY3Rpb24oYSxiLGUpe3ZhciBjO251bGwhPWEudmFsdWUmJiJvYmplY3QiPT10eXBlb2YgYS52YWx1ZT9jPWEudmFsdWUuY2xvbmVOb2RlKCEwKTooYz1teFV0aWxzLmNyZWF0ZVhtbERvY3VtZW50KCkuY3JlYXRlRWxlbWVudCgiVXNlck9iamVjdCIpLGMuc2V0QXR0cmlidXRlKCJsYWJlbCIsYS52YWx1ZXx8IiIpKTtudWxsIT1lP2Muc2V0QXR0cmlidXRlKGIsZSk6Yy5yZW1vdmVBdHRyaWJ1dGUoYik7dGhpcy5tb2RlbC5zZXRWYWx1ZShhLGMpfTt2YXIgZz1HcmFwaC5wcm90b3R5cGUuaXNFeHRlbmRQYXJlbnQ7R3JhcGgucHJvdG90eXBlLmlzRXh0ZW5kUGFyZW50PQpmdW5jdGlvbihhKXtyZXR1cm4gZy5hcHBseSh0aGlzLGFyZ3VtZW50cykmJiF0aGlzLmlzVGFibGUoYSl9O3ZhciBuPUdyYXBoLnByb3RvdHlwZS5nZXREcm9wVGFyZ2V0O0dyYXBoLnByb3RvdHlwZS5nZXREcm9wVGFyZ2V0PWZ1bmN0aW9uKGEsYixlLGMpe3RoaXMuZ2V0TW9kZWwoKTtpZihteEV2ZW50LmlzQWx0RG93bihiKSlyZXR1cm4gbnVsbDtmb3IodmFyIGQ9MDtkPGEubGVuZ3RoO2QrKylpZih0aGlzLm1vZGVsLmlzRWRnZSh0aGlzLm1vZGVsLmdldFBhcmVudChhW2RdKSkpcmV0dXJuIG51bGw7Zm9yKHZhciBmPW4uYXBwbHkodGhpcyxhcmd1bWVudHMpLGc9ITAsZD0wO2Q8YS5sZW5ndGgmJmc7ZCsrKWc9ZyYmdGhpcy5pc1RhYmxlUm93KGFbZF0pO2cmJih0aGlzLmlzVGFibGVDZWxsKGYpJiYoZj10aGlzLm1vZGVsLmdldFBhcmVudChmKSksdGhpcy5pc1RhYmxlUm93KGYpJiYoZj10aGlzLm1vZGVsLmdldFBhcmVudChmKSksdGhpcy5pc1RhYmxlKGYpfHwoZj1udWxsKSk7CnJldHVybiBmfTtHcmFwaC5wcm90b3R5cGUuY2xpY2s9ZnVuY3Rpb24oYSl7bXhHcmFwaC5wcm90b3R5cGUuY2xpY2suY2FsbCh0aGlzLGEpO3RoaXMuZmlyc3RDbGlja1N0YXRlPWEuZ2V0U3RhdGUoKTt0aGlzLmZpcnN0Q2xpY2tTb3VyY2U9YS5nZXRTb3VyY2UoKX07R3JhcGgucHJvdG90eXBlLmRibENsaWNrPWZ1bmN0aW9uKGEsYil7aWYodGhpcy5pc0VuYWJsZWQoKSl7dmFyIGU9bXhVdGlscy5jb252ZXJ0UG9pbnQodGhpcy5jb250YWluZXIsbXhFdmVudC5nZXRDbGllbnRYKGEpLG14RXZlbnQuZ2V0Q2xpZW50WShhKSk7aWYobnVsbCE9YSYmIXRoaXMubW9kZWwuaXNWZXJ0ZXgoYikpe3ZhciBjPXRoaXMubW9kZWwuaXNFZGdlKGIpP3RoaXMudmlldy5nZXRTdGF0ZShiKTpudWxsLGQ9bXhFdmVudC5nZXRTb3VyY2UoYSk7dGhpcy5maXJzdENsaWNrU3RhdGUhPWN8fHRoaXMuZmlyc3RDbGlja1NvdXJjZSE9ZHx8bnVsbCE9YyYmbnVsbCE9Yy50ZXh0JiZudWxsIT1jLnRleHQubm9kZSYmCm51bGwhPWMudGV4dC5ib3VuZGluZ0JveCYmKG14VXRpbHMuY29udGFpbnMoYy50ZXh0LmJvdW5kaW5nQm94LGUueCxlLnkpfHxteFV0aWxzLmlzQW5jZXN0b3JOb2RlKGMudGV4dC5ub2RlLG14RXZlbnQuZ2V0U291cmNlKGEpKSl8fChudWxsIT1jfHx0aGlzLmlzQ2VsbExvY2tlZCh0aGlzLmdldERlZmF1bHRQYXJlbnQoKSkpJiYobnVsbD09Y3x8dGhpcy5pc0NlbGxMb2NrZWQoYy5jZWxsKSl8fCEobnVsbCE9Y3x8bXhDbGllbnQuSVNfVk1MJiZkPT10aGlzLnZpZXcuZ2V0Q2FudmFzKCl8fG14Q2xpZW50LklTX1NWRyYmZD09dGhpcy52aWV3LmdldENhbnZhcygpLm93bmVyU1ZHRWxlbWVudCl8fChudWxsPT1jJiYoYz10aGlzLnZpZXcuZ2V0U3RhdGUodGhpcy5nZXRDZWxsQXQoZS54LGUueSkpKSxiPXRoaXMuYWRkVGV4dChlLngsZS55LGMpKX1teEdyYXBoLnByb3RvdHlwZS5kYmxDbGljay5jYWxsKHRoaXMsYSxiKX19O0dyYXBoLnByb3RvdHlwZS5nZXRJbnNlcnRQb2ludD1mdW5jdGlvbigpe3ZhciBhPQp0aGlzLmdldEdyaWRTaXplKCksYj10aGlzLmNvbnRhaW5lci5zY3JvbGxMZWZ0L3RoaXMudmlldy5zY2FsZS10aGlzLnZpZXcudHJhbnNsYXRlLngsZT10aGlzLmNvbnRhaW5lci5zY3JvbGxUb3AvdGhpcy52aWV3LnNjYWxlLXRoaXMudmlldy50cmFuc2xhdGUueTtpZih0aGlzLnBhZ2VWaXNpYmxlKXZhciBjPXRoaXMuZ2V0UGFnZUxheW91dCgpLGQ9dGhpcy5nZXRQYWdlU2l6ZSgpLGI9TWF0aC5tYXgoYixjLngqZC53aWR0aCksZT1NYXRoLm1heChlLGMueSpkLmhlaWdodCk7cmV0dXJuIG5ldyBteFBvaW50KHRoaXMuc25hcChiK2EpLHRoaXMuc25hcChlK2EpKX07R3JhcGgucHJvdG90eXBlLmdldEZyZWVJbnNlcnRQb2ludD1mdW5jdGlvbigpe3ZhciBhPXRoaXMudmlldyxiPXRoaXMuZ2V0R3JhcGhCb3VuZHMoKSxlPXRoaXMuZ2V0SW5zZXJ0UG9pbnQoKSxjPXRoaXMuc25hcChNYXRoLnJvdW5kKE1hdGgubWF4KGUueCxiLngvYS5zY2FsZS1hLnRyYW5zbGF0ZS54KygwPT1iLndpZHRoPwoyKnRoaXMuZ3JpZFNpemU6MCkpKSksYT10aGlzLnNuYXAoTWF0aC5yb3VuZChNYXRoLm1heChlLnksKGIueStiLmhlaWdodCkvYS5zY2FsZS1hLnRyYW5zbGF0ZS55KzIqdGhpcy5ncmlkU2l6ZSkpKTtyZXR1cm4gbmV3IG14UG9pbnQoYyxhKX07R3JhcGgucHJvdG90eXBlLmdldENlbnRlckluc2VydFBvaW50PWZ1bmN0aW9uKGEpe2E9bnVsbCE9YT9hOm5ldyBteFJlY3RhbmdsZTtyZXR1cm4gbXhVdGlscy5oYXNTY3JvbGxiYXJzKHRoaXMuY29udGFpbmVyKT9uZXcgbXhQb2ludCh0aGlzLnNuYXAoKHRoaXMuY29udGFpbmVyLnNjcm9sbExlZnQrdGhpcy5jb250YWluZXIuY2xpZW50V2lkdGgvMikvdGhpcy52aWV3LnNjYWxlLXRoaXMudmlldy50cmFuc2xhdGUueC1hLndpZHRoLzIpLHRoaXMuc25hcCgodGhpcy5jb250YWluZXIuc2Nyb2xsVG9wK3RoaXMuY29udGFpbmVyLmNsaWVudEhlaWdodC8yKS90aGlzLnZpZXcuc2NhbGUtdGhpcy52aWV3LnRyYW5zbGF0ZS55LWEuaGVpZ2h0LwoyKSk6bmV3IG14UG9pbnQodGhpcy5zbmFwKHRoaXMuY29udGFpbmVyLmNsaWVudFdpZHRoLzIvdGhpcy52aWV3LnNjYWxlLXRoaXMudmlldy50cmFuc2xhdGUueC1hLndpZHRoLzIpLHRoaXMuc25hcCh0aGlzLmNvbnRhaW5lci5jbGllbnRIZWlnaHQvMi90aGlzLnZpZXcuc2NhbGUtdGhpcy52aWV3LnRyYW5zbGF0ZS55LWEuaGVpZ2h0LzIpKX07R3JhcGgucHJvdG90eXBlLmlzTW91c2VJbnNlcnRQb2ludD1mdW5jdGlvbigpe3JldHVybiExfTtHcmFwaC5wcm90b3R5cGUuYWRkVGV4dD1mdW5jdGlvbihhLGIsZSl7dmFyIGM9bmV3IG14Q2VsbDtjLnZhbHVlPSJUZXh0IjtjLmdlb21ldHJ5PW5ldyBteEdlb21ldHJ5KDAsMCwwLDApO2MudmVydGV4PSEwO2lmKG51bGwhPWUmJnRoaXMubW9kZWwuaXNFZGdlKGUuY2VsbCkpe2Muc3R5bGU9ImVkZ2VMYWJlbDtodG1sPTE7YWxpZ249Y2VudGVyO3ZlcnRpY2FsQWxpZ249bWlkZGxlO3Jlc2l6YWJsZT0wO3BvaW50cz1bXTsiO2MuZ2VvbWV0cnkucmVsYXRpdmU9CiEwO2MuY29ubmVjdGFibGU9ITE7dmFyIGQ9dGhpcy52aWV3LmdldFJlbGF0aXZlUG9pbnQoZSxhLGIpO2MuZ2VvbWV0cnkueD1NYXRoLnJvdW5kKDFFNCpkLngpLzFFNDtjLmdlb21ldHJ5Lnk9TWF0aC5yb3VuZChkLnkpO2MuZ2VvbWV0cnkub2Zmc2V0PW5ldyBteFBvaW50KDAsMCk7dmFyIGQ9dGhpcy52aWV3LmdldFBvaW50KGUsYy5nZW9tZXRyeSksZj10aGlzLnZpZXcuc2NhbGU7Yy5nZW9tZXRyeS5vZmZzZXQ9bmV3IG14UG9pbnQoTWF0aC5yb3VuZCgoYS1kLngpL2YpLE1hdGgucm91bmQoKGItZC55KS9mKSl9ZWxzZSBkPXRoaXMudmlldy50cmFuc2xhdGUsYy5zdHlsZT0idGV4dDtodG1sPTE7YWxpZ249Y2VudGVyO3ZlcnRpY2FsQWxpZ249bWlkZGxlO3Jlc2l6YWJsZT0wO3BvaW50cz1bXTsiLGMuZ2VvbWV0cnkud2lkdGg9NDAsYy5nZW9tZXRyeS5oZWlnaHQ9MjAsYy5nZW9tZXRyeS54PU1hdGgucm91bmQoYS90aGlzLnZpZXcuc2NhbGUpLWQueC0obnVsbCE9ZT9lLm9yaWdpbi54OgowKSxjLmdlb21ldHJ5Lnk9TWF0aC5yb3VuZChiL3RoaXMudmlldy5zY2FsZSktZC55LShudWxsIT1lP2Uub3JpZ2luLnk6MCksYy5zdHlsZSs9ImF1dG9zaXplPTE7Ijt0aGlzLmdldE1vZGVsKCkuYmVnaW5VcGRhdGUoKTt0cnl7dGhpcy5hZGRDZWxscyhbY10sbnVsbCE9ZT9lLmNlbGw6bnVsbCksdGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QoInRleHRJbnNlcnRlZCIsImNlbGxzIixbY10pKSx0aGlzLmF1dG9TaXplQ2VsbChjKX1maW5hbGx5e3RoaXMuZ2V0TW9kZWwoKS5lbmRVcGRhdGUoKX1yZXR1cm4gY307R3JhcGgucHJvdG90eXBlLmFkZENsaWNrSGFuZGxlcj1mdW5jdGlvbihhLGIsZSl7dmFyIGM9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt2YXIgYT10aGlzLmNvbnRhaW5lci5nZXRFbGVtZW50c0J5VGFnTmFtZSgiYSIpO2lmKG51bGwhPWEpZm9yKHZhciBlPTA7ZTxhLmxlbmd0aDtlKyspe3ZhciBjPXRoaXMuZ2V0QWJzb2x1dGVVcmwoYVtlXS5nZXRBdHRyaWJ1dGUoImhyZWYiKSk7Cm51bGwhPWMmJihhW2VdLnNldEF0dHJpYnV0ZSgicmVsIix0aGlzLmxpbmtSZWxhdGlvbiksYVtlXS5zZXRBdHRyaWJ1dGUoImhyZWYiLGMpLG51bGwhPWImJm14RXZlbnQuYWRkR2VzdHVyZUxpc3RlbmVycyhhW2VdLG51bGwsbnVsbCxiKSl9fSk7dGhpcy5tb2RlbC5hZGRMaXN0ZW5lcihteEV2ZW50LkNIQU5HRSxjKTtjKCk7dmFyIGQ9dGhpcy5jb250YWluZXIuc3R5bGUuY3Vyc29yLGY9dGhpcy5nZXRUb2xlcmFuY2UoKSxnPXRoaXMsbD17Y3VycmVudFN0YXRlOm51bGwsY3VycmVudExpbms6bnVsbCxoaWdobGlnaHQ6bnVsbCE9YSYmIiIhPWEmJmEhPW14Q29uc3RhbnRzLk5PTkU/bmV3IG14Q2VsbEhpZ2hsaWdodChnLGEsNCk6bnVsbCxzdGFydFg6MCxzdGFydFk6MCxzY3JvbGxMZWZ0OjAsc2Nyb2xsVG9wOjAsdXBkYXRlQ3VycmVudFN0YXRlOmZ1bmN0aW9uKGEpe3ZhciBiPWEuc291cmNlU3RhdGU7aWYobnVsbD09Ynx8bnVsbD09Zy5nZXRMaW5rRm9yQ2VsbChiLmNlbGwpKWE9CmcuZ2V0Q2VsbEF0KGEuZ2V0R3JhcGhYKCksYS5nZXRHcmFwaFkoKSxudWxsLG51bGwsbnVsbCxmdW5jdGlvbihhLGIsZSl7cmV0dXJuIG51bGw9PWcuZ2V0TGlua0ZvckNlbGwoYS5jZWxsKX0pLGI9Zy52aWV3LmdldFN0YXRlKGEpO2IhPXRoaXMuY3VycmVudFN0YXRlJiYobnVsbCE9dGhpcy5jdXJyZW50U3RhdGUmJnRoaXMuY2xlYXIoKSx0aGlzLmN1cnJlbnRTdGF0ZT1iLG51bGwhPXRoaXMuY3VycmVudFN0YXRlJiZ0aGlzLmFjdGl2YXRlKHRoaXMuY3VycmVudFN0YXRlKSl9LG1vdXNlRG93bjpmdW5jdGlvbihhLGIpe3RoaXMuc3RhcnRYPWIuZ2V0R3JhcGhYKCk7dGhpcy5zdGFydFk9Yi5nZXRHcmFwaFkoKTt0aGlzLnNjcm9sbExlZnQ9Zy5jb250YWluZXIuc2Nyb2xsTGVmdDt0aGlzLnNjcm9sbFRvcD1nLmNvbnRhaW5lci5zY3JvbGxUb3A7bnVsbD09dGhpcy5jdXJyZW50TGluayYmImF1dG8iPT1nLmNvbnRhaW5lci5zdHlsZS5vdmVyZmxvdyYmKGcuY29udGFpbmVyLnN0eWxlLmN1cnNvcj0KIm1vdmUiKTt0aGlzLnVwZGF0ZUN1cnJlbnRTdGF0ZShiKX0sbW91c2VNb3ZlOmZ1bmN0aW9uKGEsYil7aWYoZy5pc01vdXNlRG93bil7aWYobnVsbCE9dGhpcy5jdXJyZW50TGluayl7dmFyIGU9TWF0aC5hYnModGhpcy5zdGFydFgtYi5nZXRHcmFwaFgoKSksYz1NYXRoLmFicyh0aGlzLnN0YXJ0WS1iLmdldEdyYXBoWSgpKTsoZT5mfHxjPmYpJiZ0aGlzLmNsZWFyKCl9fWVsc2V7Zm9yKGU9Yi5nZXRTb3VyY2UoKTtudWxsIT1lJiYiYSIhPWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKTspZT1lLnBhcmVudE5vZGU7bnVsbCE9ZT90aGlzLmNsZWFyKCk6KG51bGwhPWcudG9vbHRpcEhhbmRsZXImJm51bGwhPXRoaXMuY3VycmVudExpbmsmJm51bGwhPXRoaXMuY3VycmVudFN0YXRlJiZnLnRvb2x0aXBIYW5kbGVyLnJlc2V0KGIsITAsdGhpcy5jdXJyZW50U3RhdGUpLChudWxsPT10aGlzLmN1cnJlbnRTdGF0ZXx8Yi5nZXRTdGF0ZSgpIT10aGlzLmN1cnJlbnRTdGF0ZSYmbnVsbCE9Yi5zb3VyY2VTdGF0ZXx8CiFnLmludGVyc2VjdHModGhpcy5jdXJyZW50U3RhdGUsYi5nZXRHcmFwaFgoKSxiLmdldEdyYXBoWSgpKSkmJnRoaXMudXBkYXRlQ3VycmVudFN0YXRlKGIpKX19LG1vdXNlVXA6ZnVuY3Rpb24oYSxjKXtmb3IodmFyIGQ9Yy5nZXRTb3VyY2UoKSxsPWMuZ2V0RXZlbnQoKTtudWxsIT1kJiYiYSIhPWQubm9kZU5hbWUudG9Mb3dlckNhc2UoKTspZD1kLnBhcmVudE5vZGU7bnVsbD09ZCYmTWF0aC5hYnModGhpcy5zY3JvbGxMZWZ0LWcuY29udGFpbmVyLnNjcm9sbExlZnQpPGYmJk1hdGguYWJzKHRoaXMuc2Nyb2xsVG9wLWcuY29udGFpbmVyLnNjcm9sbFRvcCk8ZiYmKG51bGw9PWMuc291cmNlU3RhdGV8fCFjLmlzU291cmNlKGMuc291cmNlU3RhdGUuY29udHJvbCkpJiYoKG14RXZlbnQuaXNMZWZ0TW91c2VCdXR0b24obCl8fG14RXZlbnQuaXNNaWRkbGVNb3VzZUJ1dHRvbihsKSkmJiFteEV2ZW50LmlzUG9wdXBUcmlnZ2VyKGwpfHxteEV2ZW50LmlzVG91Y2hFdmVudChsKSkmJihudWxsIT0KdGhpcy5jdXJyZW50TGluaz8oZD1nLmlzQmxhbmtMaW5rKHRoaXMuY3VycmVudExpbmspLCJkYXRhOiIhPT10aGlzLmN1cnJlbnRMaW5rLnN1YnN0cmluZygwLDUpJiZkfHxudWxsPT1ifHxiKGwsdGhpcy5jdXJyZW50TGluayksbXhFdmVudC5pc0NvbnN1bWVkKGwpfHwobD1teEV2ZW50LmlzTWlkZGxlTW91c2VCdXR0b24obCk/Il9ibGFuayI6ZD9nLmxpbmtUYXJnZXQ6Il90b3AiLGcub3BlbkxpbmsodGhpcy5jdXJyZW50TGluayxsKSxjLmNvbnN1bWUoKSkpOm51bGwhPWUmJiFjLmlzQ29uc3VtZWQoKSYmTWF0aC5hYnModGhpcy5zY3JvbGxMZWZ0LWcuY29udGFpbmVyLnNjcm9sbExlZnQpPGYmJk1hdGguYWJzKHRoaXMuc2Nyb2xsVG9wLWcuY29udGFpbmVyLnNjcm9sbFRvcCk8ZiYmTWF0aC5hYnModGhpcy5zdGFydFgtYy5nZXRHcmFwaFgoKSk8ZiYmTWF0aC5hYnModGhpcy5zdGFydFktYy5nZXRHcmFwaFkoKSk8ZiYmZShjLmdldEV2ZW50KCkpKTt0aGlzLmNsZWFyKCl9LGFjdGl2YXRlOmZ1bmN0aW9uKGEpe3RoaXMuY3VycmVudExpbms9CmcuZ2V0QWJzb2x1dGVVcmwoZy5nZXRMaW5rRm9yQ2VsbChhLmNlbGwpKTtudWxsIT10aGlzLmN1cnJlbnRMaW5rJiYoZy5jb250YWluZXIuc3R5bGUuY3Vyc29yPSJwb2ludGVyIixudWxsIT10aGlzLmhpZ2hsaWdodCYmdGhpcy5oaWdobGlnaHQuaGlnaGxpZ2h0KGEpKX0sY2xlYXI6ZnVuY3Rpb24oKXtudWxsIT1nLmNvbnRhaW5lciYmKGcuY29udGFpbmVyLnN0eWxlLmN1cnNvcj1kKTt0aGlzLmN1cnJlbnRMaW5rPXRoaXMuY3VycmVudFN0YXRlPW51bGw7bnVsbCE9dGhpcy5oaWdobGlnaHQmJnRoaXMuaGlnaGxpZ2h0LmhpZGUoKTtudWxsIT1nLnRvb2x0aXBIYW5kbGVyJiZnLnRvb2x0aXBIYW5kbGVyLmhpZGUoKX19O2cuY2xpY2s9ZnVuY3Rpb24oYSl7fTtnLmFkZE1vdXNlTGlzdGVuZXIobCk7bXhFdmVudC5hZGRMaXN0ZW5lcihkb2N1bWVudCwibW91c2VsZWF2ZSIsZnVuY3Rpb24oYSl7bC5jbGVhcigpfSl9O0dyYXBoLnByb3RvdHlwZS5kdXBsaWNhdGVDZWxscz1mdW5jdGlvbihhLApiKXthPW51bGwhPWE/YTp0aGlzLmdldFNlbGVjdGlvbkNlbGxzKCk7Yj1udWxsIT1iP2I6ITA7YT10aGlzLm1vZGVsLmdldFRvcG1vc3RDZWxscyhhKTt2YXIgZT10aGlzLmdldE1vZGVsKCksYz10aGlzLmdyaWRTaXplLGQ9W107ZS5iZWdpblVwZGF0ZSgpO3RyeXtmb3IodmFyIGY9dGhpcy5jbG9uZUNlbGxzKGEsITEsbnVsbCwhMCksZz0wO2c8YS5sZW5ndGg7ZysrKXt2YXIgbD1lLmdldFBhcmVudChhW2ddKSxuPXRoaXMubW92ZUNlbGxzKFtmW2ddXSxjLGMsITEpWzBdO2QucHVzaChuKTtpZihiKWUuYWRkKGwsZltnXSk7ZWxzZXt2YXIgdT1sLmdldEluZGV4KGFbZ10pO2UuYWRkKGwsZltnXSx1KzEpfWlmKHRoaXMuaXNUYWJsZShsKSl7dmFyIHA9dGhpcy5nZXRDZWxsR2VvbWV0cnkoZltnXSksdD10aGlzLmdldENlbGxHZW9tZXRyeShsKTtudWxsIT1wJiZudWxsIT10JiYodD10LmNsb25lKCksdC5oZWlnaHQrPXAuaGVpZ2h0LGUuc2V0R2VvbWV0cnkobCx0KSl9fX1maW5hbGx5e2UuZW5kVXBkYXRlKCl9cmV0dXJuIGR9OwpHcmFwaC5wcm90b3R5cGUuaW5zZXJ0SW1hZ2U9ZnVuY3Rpb24oYSxiLGUpe2lmKG51bGwhPWEmJm51bGwhPXRoaXMuY2VsbEVkaXRvci50ZXh0YXJlYSl7Zm9yKHZhciBjPXRoaXMuY2VsbEVkaXRvci50ZXh0YXJlYS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaW1nIiksZD1bXSxmPTA7ZjxjLmxlbmd0aDtmKyspZC5wdXNoKGNbZl0pO2RvY3VtZW50LmV4ZWNDb21tYW5kKCJpbnNlcnRpbWFnZSIsITEsYSk7YT10aGlzLmNlbGxFZGl0b3IudGV4dGFyZWEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImltZyIpO2lmKGEubGVuZ3RoPT1kLmxlbmd0aCsxKWZvcihmPWEubGVuZ3RoLTE7MDw9ZjtmLS0paWYoMD09Znx8YVtmXSE9ZFtmLTFdKXthW2ZdLnNldEF0dHJpYnV0ZSgid2lkdGgiLGIpO2FbZl0uc2V0QXR0cmlidXRlKCJoZWlnaHQiLGUpO2JyZWFrfX19O0dyYXBoLnByb3RvdHlwZS5pbnNlcnRMaW5rPWZ1bmN0aW9uKGEpe2lmKG51bGwhPXRoaXMuY2VsbEVkaXRvci50ZXh0YXJlYSlpZigwPT0KYS5sZW5ndGgpZG9jdW1lbnQuZXhlY0NvbW1hbmQoInVubGluayIsITEpO2Vsc2UgaWYobXhDbGllbnQuSVNfRkYpe2Zvcih2YXIgYj10aGlzLmNlbGxFZGl0b3IudGV4dGFyZWEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImEiKSxlPVtdLGM9MDtjPGIubGVuZ3RoO2MrKyllLnB1c2goYltjXSk7ZG9jdW1lbnQuZXhlY0NvbW1hbmQoImNyZWF0ZWxpbmsiLCExLG14VXRpbHMudHJpbShhKSk7Yj10aGlzLmNlbGxFZGl0b3IudGV4dGFyZWEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImEiKTtpZihiLmxlbmd0aD09ZS5sZW5ndGgrMSlmb3IoYz1iLmxlbmd0aC0xOzA8PWM7Yy0tKWlmKGJbY10hPWVbYy0xXSl7Zm9yKGI9YltjXS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiYSIpOzA8Yi5sZW5ndGg7KXtmb3IoZT1iWzBdLnBhcmVudE5vZGU7bnVsbCE9YlswXS5maXJzdENoaWxkOyllLmluc2VydEJlZm9yZShiWzBdLmZpcnN0Q2hpbGQsYlswXSk7ZS5yZW1vdmVDaGlsZChiWzBdKX1icmVha319ZWxzZSBkb2N1bWVudC5leGVjQ29tbWFuZCgiY3JlYXRlbGluayIsCiExLG14VXRpbHMudHJpbShhKSl9O0dyYXBoLnByb3RvdHlwZS5pc0NlbGxSZXNpemFibGU9ZnVuY3Rpb24oYSl7dmFyIGI9bXhHcmFwaC5wcm90b3R5cGUuaXNDZWxsUmVzaXphYmxlLmFwcGx5KHRoaXMsYXJndW1lbnRzKSxlPXRoaXMuZ2V0Q3VycmVudENlbGxTdHlsZShhKTtyZXR1cm4hdGhpcy5pc1RhYmxlQ2VsbChhKSYmIXRoaXMuaXNUYWJsZVJvdyhhKSYmKGJ8fCIwIiE9bXhVdGlscy5nZXRWYWx1ZShlLG14Q29uc3RhbnRzLlNUWUxFX1JFU0laQUJMRSwiMSIpJiYid3JhcCI9PWVbbXhDb25zdGFudHMuU1RZTEVfV0hJVEVfU1BBQ0VdKX07R3JhcGgucHJvdG90eXBlLmRpc3RyaWJ1dGVDZWxscz1mdW5jdGlvbihhLGIpe251bGw9PWImJihiPXRoaXMuZ2V0U2VsZWN0aW9uQ2VsbHMoKSk7aWYobnVsbCE9YiYmMTxiLmxlbmd0aCl7Zm9yKHZhciBlPVtdLGM9bnVsbCxkPW51bGwsZj0wO2Y8Yi5sZW5ndGg7ZisrKWlmKHRoaXMuZ2V0TW9kZWwoKS5pc1ZlcnRleChiW2ZdKSl7dmFyIGc9CnRoaXMudmlldy5nZXRTdGF0ZShiW2ZdKTtpZihudWxsIT1nKXt2YXIgbD1hP2cuZ2V0Q2VudGVyWCgpOmcuZ2V0Q2VudGVyWSgpLGM9bnVsbCE9Yz9NYXRoLm1heChjLGwpOmwsZD1udWxsIT1kP01hdGgubWluKGQsbCk6bDtlLnB1c2goZyl9fWlmKDI8ZS5sZW5ndGgpe2Uuc29ydChmdW5jdGlvbihiLGUpe3JldHVybiBhP2IueC1lLng6Yi55LWUueX0pO2c9dGhpcy52aWV3LnRyYW5zbGF0ZTtsPXRoaXMudmlldy5zY2FsZTtkPWQvbC0oYT9nLng6Zy55KTtjPWMvbC0oYT9nLng6Zy55KTt0aGlzLmdldE1vZGVsKCkuYmVnaW5VcGRhdGUoKTt0cnl7Zm9yKHZhciBuPShjLWQpLyhlLmxlbmd0aC0xKSxjPWQsZj0xO2Y8ZS5sZW5ndGgtMTtmKyspe3ZhciB1PXRoaXMudmlldy5nZXRTdGF0ZSh0aGlzLm1vZGVsLmdldFBhcmVudChlW2ZdLmNlbGwpKSxwPXRoaXMuZ2V0Q2VsbEdlb21ldHJ5KGVbZl0uY2VsbCksYz1jK247bnVsbCE9cCYmbnVsbCE9dSYmKHA9cC5jbG9uZSgpLGE/cC54PQpNYXRoLnJvdW5kKGMtcC53aWR0aC8yKS11Lm9yaWdpbi54OnAueT1NYXRoLnJvdW5kKGMtcC5oZWlnaHQvMiktdS5vcmlnaW4ueSx0aGlzLmdldE1vZGVsKCkuc2V0R2VvbWV0cnkoZVtmXS5jZWxsLHApKX19ZmluYWxseXt0aGlzLmdldE1vZGVsKCkuZW5kVXBkYXRlKCl9fX1yZXR1cm4gYn07R3JhcGgucHJvdG90eXBlLmlzQ2xvbmVFdmVudD1mdW5jdGlvbihhKXtyZXR1cm4gbXhDbGllbnQuSVNfTUFDJiZteEV2ZW50LmlzTWV0YURvd24oYSl8fG14RXZlbnQuaXNDb250cm9sRG93bihhKX07R3JhcGgucHJvdG90eXBlLmNyZWF0ZVN2Z0ltYWdlRXhwb3J0PWZ1bmN0aW9uKCl7dmFyIGE9bmV3IG14SW1hZ2VFeHBvcnQ7YS5nZXRMaW5rRm9yQ2VsbFN0YXRlPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuZ2V0TGlua0ZvckNlbGwoYS5jZWxsKX0pO3JldHVybiBhfTtHcmFwaC5wcm90b3R5cGUuZ2V0U3ZnPWZ1bmN0aW9uKGEsYixlLGMsZCxmLGcsbCwKbixwKXt2YXIgdT10aGlzLnVzZUNzc1RyYW5zZm9ybXM7dSYmKHRoaXMudXNlQ3NzVHJhbnNmb3Jtcz0hMSx0aGlzLnZpZXcucmV2YWxpZGF0ZSgpLHRoaXMuc2l6ZURpZENoYW5nZSgpKTt0cnl7Yj1udWxsIT1iP2I6MTtlPW51bGwhPWU/ZTowO2Q9bnVsbCE9ZD9kOiEwO2Y9bnVsbCE9Zj9mOiEwO2c9bnVsbCE9Zz9nOiEwO3ZhciB0PWZ8fGM/dGhpcy5nZXRHcmFwaEJvdW5kcygpOnRoaXMuZ2V0Qm91bmRpbmdCb3godGhpcy5nZXRTZWxlY3Rpb25DZWxscygpKTtpZihudWxsPT10KXRocm93IEVycm9yKG14UmVzb3VyY2VzLmdldCgiZHJhd2luZ0VtcHR5IikpO3ZhciBBPXRoaXMudmlldy5zY2FsZSxtPW14VXRpbHMuY3JlYXRlWG1sRG9jdW1lbnQoKSxrPW51bGwhPW0uY3JlYXRlRWxlbWVudE5TP20uY3JlYXRlRWxlbWVudE5TKG14Q29uc3RhbnRzLk5TX1NWRywic3ZnIik6bS5jcmVhdGVFbGVtZW50KCJzdmciKTtudWxsIT1hJiYobnVsbCE9ay5zdHlsZT9rLnN0eWxlLmJhY2tncm91bmRDb2xvcj0KYTprLnNldEF0dHJpYnV0ZSgic3R5bGUiLCJiYWNrZ3JvdW5kLWNvbG9yOiIrYSkpO251bGw9PW0uY3JlYXRlRWxlbWVudE5TPyhrLnNldEF0dHJpYnV0ZSgieG1sbnMiLG14Q29uc3RhbnRzLk5TX1NWRyksay5zZXRBdHRyaWJ1dGUoInhtbG5zOnhsaW5rIixteENvbnN0YW50cy5OU19YTElOSykpOmsuc2V0QXR0cmlidXRlTlMoImh0dHA6Ly93d3cudzMub3JnLzIwMDAveG1sbnMvIiwieG1sbnM6eGxpbmsiLG14Q29uc3RhbnRzLk5TX1hMSU5LKTthPWIvQTt2YXIgeT1NYXRoLm1heCgxLE1hdGguY2VpbCh0LndpZHRoKmEpKzIqZSkrKHA/NTowKSx2PU1hdGgubWF4KDEsTWF0aC5jZWlsKHQuaGVpZ2h0KmEpKzIqZSkrKHA/NTowKTtrLnNldEF0dHJpYnV0ZSgidmVyc2lvbiIsIjEuMSIpO2suc2V0QXR0cmlidXRlKCJ3aWR0aCIseSsicHgiKTtrLnNldEF0dHJpYnV0ZSgiaGVpZ2h0Iix2KyJweCIpO2suc2V0QXR0cmlidXRlKCJ2aWV3Qm94IiwoZD8iLTAuNSAtMC41IjoiMCAwIikrCiIgIit5KyIgIit2KTttLmFwcGVuZENoaWxkKGspO3ZhciBLPW51bGwhPW0uY3JlYXRlRWxlbWVudE5TP20uY3JlYXRlRWxlbWVudE5TKG14Q29uc3RhbnRzLk5TX1NWRywiZyIpOm0uY3JlYXRlRWxlbWVudCgiZyIpO2suYXBwZW5kQ2hpbGQoSyk7dmFyIHg9dGhpcy5jcmVhdGVTdmdDYW52YXMoSyk7eC5mb09mZnNldD1kPy0uNTowO3gudGV4dE9mZnNldD1kPy0uNTowO3guaW1hZ2VPZmZzZXQ9ZD8tLjU6MDt4LnRyYW5zbGF0ZShNYXRoLmZsb29yKChlL2ItdC54KS9BKSxNYXRoLmZsb29yKChlL2ItdC55KS9BKSk7dmFyIHE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IiksUz14LmdldEFsdGVybmF0ZVRleHQ7eC5nZXRBbHRlcm5hdGVUZXh0PWZ1bmN0aW9uKGEsYixlLGMsZCxmLGcsbCxuLHAsa2EsdSx0KXtpZihudWxsIT1mJiYwPHRoaXMuc3RhdGUuZm9udFNpemUpdHJ5e214VXRpbHMuaXNOb2RlKGYpP2Y9Zi5pbm5lclRleHQ6KHEuaW5uZXJIVE1MPWYsZj1teFV0aWxzLmV4dHJhY3RUZXh0V2l0aFdoaXRlc3BhY2UocS5jaGlsZE5vZGVzKSk7CmZvcih2YXIgTWE9TWF0aC5jZWlsKDIqYy90aGlzLnN0YXRlLmZvbnRTaXplKSxBPVtdLGs9MCxtPTA7KDA9PU1hfHxrPE1hKSYmbTxmLmxlbmd0aDspe3ZhciB5PWYuY2hhckNvZGVBdChtKTtpZigxMD09eXx8MTM9PXkpe2lmKDA8aylicmVha31lbHNlIEEucHVzaChmLmNoYXJBdChtKSksMjU1PnkmJmsrKzttKyt9QS5sZW5ndGg8Zi5sZW5ndGgmJjE8Zi5sZW5ndGgtQS5sZW5ndGgmJihmPW14VXRpbHMudHJpbShBLmpvaW4oIiIpKSsiLi4uIik7cmV0dXJuIGZ9Y2F0Y2goVGEpe3JldHVybiBTLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1lbHNlIHJldHVybiBTLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07dmFyIHo9dGhpcy5iYWNrZ3JvdW5kSW1hZ2U7aWYobnVsbCE9eil7Yj1BL2I7dmFyIE09dGhpcy52aWV3LnRyYW5zbGF0ZSxJPW5ldyBteFJlY3RhbmdsZShNLngqYixNLnkqYix6LndpZHRoKmIsei5oZWlnaHQqYik7bXhVdGlscy5pbnRlcnNlY3RzKHQsSSkmJnguaW1hZ2UoTS54LApNLnksei53aWR0aCx6LmhlaWdodCx6LnNyYywhMCl9eC5zY2FsZShhKTt4LnRleHRFbmFibGVkPWc7bD1udWxsIT1sP2w6dGhpcy5jcmVhdGVTdmdJbWFnZUV4cG9ydCgpO3ZhciBRPWwuZHJhd0NlbGxTdGF0ZSxDPWwuZ2V0TGlua0ZvckNlbGxTdGF0ZTtsLmdldExpbmtGb3JDZWxsU3RhdGU9ZnVuY3Rpb24oYSxiKXt2YXIgZT1DLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gbnVsbD09ZXx8YS52aWV3LmdyYXBoLmlzQ3VzdG9tTGluayhlKT9udWxsOmV9O2wuZHJhd0NlbGxTdGF0ZT1mdW5jdGlvbihhLGIpe2Zvcih2YXIgZT1hLnZpZXcuZ3JhcGgsYz1lLmlzQ2VsbFNlbGVjdGVkKGEuY2VsbCksZD1lLm1vZGVsLmdldFBhcmVudChhLmNlbGwpOyFmJiYhYyYmbnVsbCE9ZDspYz1lLmlzQ2VsbFNlbGVjdGVkKGQpLGQ9ZS5tb2RlbC5nZXRQYXJlbnQoZCk7KGZ8fGMpJiZRLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07bC5kcmF3U3RhdGUodGhpcy5nZXRWaWV3KCkuZ2V0U3RhdGUodGhpcy5tb2RlbC5yb290KSwKeCk7dGhpcy51cGRhdGVTdmdMaW5rcyhrLG4sITApO3RoaXMuYWRkRm9yZWlnbk9iamVjdFdhcm5pbmcoeCxrKTtyZXR1cm4ga31maW5hbGx5e3UmJih0aGlzLnVzZUNzc1RyYW5zZm9ybXM9ITAsdGhpcy52aWV3LnJldmFsaWRhdGUoKSx0aGlzLnNpemVEaWRDaGFuZ2UoKSl9fTtHcmFwaC5wcm90b3R5cGUuYWRkRm9yZWlnbk9iamVjdFdhcm5pbmc9ZnVuY3Rpb24oYSxiKXtpZigwPGIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImZvcmVpZ25PYmplY3QiKS5sZW5ndGgpe3ZhciBlPWEuY3JlYXRlRWxlbWVudCgic3dpdGNoIiksYz1hLmNyZWF0ZUVsZW1lbnQoImciKTtjLnNldEF0dHJpYnV0ZSgicmVxdWlyZWRGZWF0dXJlcyIsImh0dHA6Ly93d3cudzMub3JnL1RSL1NWRzExL2ZlYXR1cmUjRXh0ZW5zaWJpbGl0eSIpO3ZhciBkPWEuY3JlYXRlRWxlbWVudCgiYSIpO2Quc2V0QXR0cmlidXRlKCJ0cmFuc2Zvcm0iLCJ0cmFuc2xhdGUoMCwtNSkiKTtudWxsPT1kLnNldEF0dHJpYnV0ZU5TfHwKYi5vd25lckRvY3VtZW50IT1kb2N1bWVudCYmbnVsbD09ZG9jdW1lbnQuZG9jdW1lbnRNb2RlPyhkLnNldEF0dHJpYnV0ZSgieGxpbms6aHJlZiIsR3JhcGguZm9yZWlnbk9iamVjdFdhcm5pbmdMaW5rKSxkLnNldEF0dHJpYnV0ZSgidGFyZ2V0IiwiX2JsYW5rIikpOihkLnNldEF0dHJpYnV0ZU5TKG14Q29uc3RhbnRzLk5TX1hMSU5LLCJ4bGluazpocmVmIixHcmFwaC5mb3JlaWduT2JqZWN0V2FybmluZ0xpbmspLGQuc2V0QXR0cmlidXRlTlMobXhDb25zdGFudHMuTlNfWExJTkssInRhcmdldCIsIl9ibGFuayIpKTt2YXIgZj1hLmNyZWF0ZUVsZW1lbnQoInRleHQiKTtmLnNldEF0dHJpYnV0ZSgidGV4dC1hbmNob3IiLCJtaWRkbGUiKTtmLnNldEF0dHJpYnV0ZSgiZm9udC1zaXplIiwiMTBweCIpO2Yuc2V0QXR0cmlidXRlKCJ4IiwiNTAlIik7Zi5zZXRBdHRyaWJ1dGUoInkiLCIxMDAlIik7bXhVdGlscy53cml0ZShmLEdyYXBoLmZvcmVpZ25PYmplY3RXYXJuaW5nVGV4dCk7ZS5hcHBlbmRDaGlsZChjKTsKZC5hcHBlbmRDaGlsZChmKTtlLmFwcGVuZENoaWxkKGQpO2IuYXBwZW5kQ2hpbGQoZSl9fTtHcmFwaC5wcm90b3R5cGUudXBkYXRlU3ZnTGlua3M9ZnVuY3Rpb24oYSxiLGUpe2E9YS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiYSIpO2Zvcih2YXIgYz0wO2M8YS5sZW5ndGg7YysrKXt2YXIgZD1hW2NdLmdldEF0dHJpYnV0ZSgiaHJlZiIpO251bGw9PWQmJihkPWFbY10uZ2V0QXR0cmlidXRlKCJ4bGluazpocmVmIikpO251bGwhPWQmJihudWxsIT1iJiYvXmh0dHBzPzpcL1wvLy50ZXN0KGQpP2FbY10uc2V0QXR0cmlidXRlKCJ0YXJnZXQiLGIpOmUmJnRoaXMuaXNDdXN0b21MaW5rKGQpJiZhW2NdLnNldEF0dHJpYnV0ZSgiaHJlZiIsImphdmFzY3JpcHQ6dm9pZCgwKTsiKSl9fTtHcmFwaC5wcm90b3R5cGUuY3JlYXRlU3ZnQ2FudmFzPWZ1bmN0aW9uKGEpe2E9bmV3IG14U3ZnQ2FudmFzMkQoYSk7YS5wb2ludGVyRXZlbnRzPSEwO3JldHVybiBhfTtHcmFwaC5wcm90b3R5cGUuZ2V0U2VsZWN0ZWRFbGVtZW50PQpmdW5jdGlvbigpe3ZhciBhPW51bGw7aWYod2luZG93LmdldFNlbGVjdGlvbil7dmFyIGI9d2luZG93LmdldFNlbGVjdGlvbigpO2IuZ2V0UmFuZ2VBdCYmYi5yYW5nZUNvdW50JiYoYT1iLmdldFJhbmdlQXQoMCkuY29tbW9uQW5jZXN0b3JDb250YWluZXIpfWVsc2UgZG9jdW1lbnQuc2VsZWN0aW9uJiYoYT1kb2N1bWVudC5zZWxlY3Rpb24uY3JlYXRlUmFuZ2UoKS5wYXJlbnRFbGVtZW50KCkpO3JldHVybiBhfTtHcmFwaC5wcm90b3R5cGUuZ2V0UGFyZW50QnlOYW1lPWZ1bmN0aW9uKGEsYixlKXtmb3IoO251bGwhPWEmJmEubm9kZU5hbWUhPWI7KXtpZihhPT1lKXJldHVybiBudWxsO2E9YS5wYXJlbnROb2RlfXJldHVybiBhfTtHcmFwaC5wcm90b3R5cGUuZ2V0UGFyZW50QnlOYW1lcz1mdW5jdGlvbihhLGIsZSl7Zm9yKDtudWxsIT1hJiYhKDA8PW14VXRpbHMuaW5kZXhPZihiLGEubm9kZU5hbWUpKTspe2lmKGE9PWUpcmV0dXJuIG51bGw7YT1hLnBhcmVudE5vZGV9cmV0dXJuIGF9OwpHcmFwaC5wcm90b3R5cGUuc2VsZWN0Tm9kZT1mdW5jdGlvbihhKXt2YXIgYj1udWxsO2lmKHdpbmRvdy5nZXRTZWxlY3Rpb24pe2lmKGI9d2luZG93LmdldFNlbGVjdGlvbigpLGIuZ2V0UmFuZ2VBdCYmYi5yYW5nZUNvdW50KXt2YXIgZT1kb2N1bWVudC5jcmVhdGVSYW5nZSgpO2Uuc2VsZWN0Tm9kZShhKTtiLnJlbW92ZUFsbFJhbmdlcygpO2IuYWRkUmFuZ2UoZSl9fWVsc2UoYj1kb2N1bWVudC5zZWxlY3Rpb24pJiYiQ29udHJvbCIhPWIudHlwZSYmKGE9Yi5jcmVhdGVSYW5nZSgpLGEuY29sbGFwc2UoITApLGU9Yi5jcmVhdGVSYW5nZSgpLGUuc2V0RW5kUG9pbnQoIlN0YXJ0VG9TdGFydCIsYSksZS5zZWxlY3QoKSl9O0dyYXBoLnByb3RvdHlwZS5kZWxldGVDZWxscz1mdW5jdGlvbihhLGIpe3ZhciBlPW51bGw7aWYobnVsbCE9YSYmMDxhLmxlbmd0aCl7dGhpcy5tb2RlbC5iZWdpblVwZGF0ZSgpO3RyeXtmb3IodmFyIGM9MDtjPGEubGVuZ3RoO2MrKyl7dmFyIGQ9dGhpcy5tb2RlbC5nZXRQYXJlbnQoYVtjXSk7CmlmKHRoaXMuaXNUYWJsZShkKSl7dmFyIGY9dGhpcy5nZXRDZWxsR2VvbWV0cnkoYVtjXSksZz10aGlzLmdldENlbGxHZW9tZXRyeShkKTtudWxsIT1mJiZudWxsIT1nJiYoZz1nLmNsb25lKCksZy5oZWlnaHQtPWYuaGVpZ2h0LHRoaXMubW9kZWwuc2V0R2VvbWV0cnkoZCxnKSl9fXZhciBsPXRoaXMuc2VsZWN0UGFyZW50QWZ0ZXJEZWxldGU/dGhpcy5tb2RlbC5nZXRQYXJlbnRzKGEpOm51bGw7dGhpcy5yZW1vdmVDZWxscyhhLGIpfWZpbmFsbHl7dGhpcy5tb2RlbC5lbmRVcGRhdGUoKX1pZihudWxsIT1sKWZvcihlPVtdLGM9MDtjPGwubGVuZ3RoO2MrKyl0aGlzLm1vZGVsLmNvbnRhaW5zKGxbY10pJiYodGhpcy5tb2RlbC5pc1ZlcnRleChsW2NdKXx8dGhpcy5tb2RlbC5pc0VkZ2UobFtjXSkpJiZlLnB1c2gobFtjXSl9cmV0dXJuIGV9O0dyYXBoLnByb3RvdHlwZS5pbnNlcnRUYWJsZUNvbHVtbj1mdW5jdGlvbihhLGIpe3ZhciBlPXRoaXMuZ2V0TW9kZWwoKTtlLmJlZ2luVXBkYXRlKCk7CnRyeXt2YXIgYz1hLGQ9MDtpZih0aGlzLmlzVGFibGVDZWxsKGEpKXZhciBmPWUuZ2V0UGFyZW50KGEpLGM9ZS5nZXRQYXJlbnQoZiksZD1teFV0aWxzLmluZGV4T2YoZS5nZXRDaGlsZENlbGxzKGYsITApLGEpO2Vsc2UgdGhpcy5pc1RhYmxlUm93KGEpP2M9ZS5nZXRQYXJlbnQoYSk6YT1lLmdldENoaWxkQ2VsbHMoYywhMClbMF0sYnx8KGQ9ZS5nZXRDaGlsZENlbGxzKGEsITApLmxlbmd0aC0xKTtmb3IodmFyIGc9ZS5nZXRDaGlsZENlbGxzKGMsITApLGw9R3JhcGgubWluVGFibGVDb2x1bW5XaWR0aCxmPTA7ZjxnLmxlbmd0aDtmKyspe3ZhciBuPWUuZ2V0Q2hpbGRDZWxscyhnW2ZdLCEwKVtkXSxwPWUuY2xvbmVDZWxsKG4sITEpLHU9dGhpcy5nZXRDZWxsR2VvbWV0cnkocCk7cC52YWx1ZT1udWxsO2lmKG51bGwhPXUpe3ZhciBsPXUud2lkdGgsdD10aGlzLmdldENlbGxHZW9tZXRyeShnW2ZdKTtudWxsIT10JiYodS5oZWlnaHQ9dC5oZWlnaHQpfWUuYWRkKGdbZl0scCxkKyhiPwowOjEpKX12YXIgQT10aGlzLmdldENlbGxHZW9tZXRyeShjKTtudWxsIT1BJiYoQT1BLmNsb25lKCksQS53aWR0aCs9bCxlLnNldEdlb21ldHJ5KGMsQSkpfWZpbmFsbHl7ZS5lbmRVcGRhdGUoKX19O0dyYXBoLnByb3RvdHlwZS5pbnNlcnRUYWJsZVJvdz1mdW5jdGlvbihhLGIpe3ZhciBlPXRoaXMuZ2V0TW9kZWwoKTtlLmJlZ2luVXBkYXRlKCk7dHJ5e3ZhciBjPWEsZD1hO2lmKHRoaXMuaXNUYWJsZUNlbGwoYSkpZD1lLmdldFBhcmVudChhKSxjPWUuZ2V0UGFyZW50KGQpO2Vsc2UgaWYodGhpcy5pc1RhYmxlUm93KGEpKWM9ZS5nZXRQYXJlbnQoYSk7ZWxzZSB2YXIgZj1lLmdldENoaWxkQ2VsbHMoYywhMCksZD1mW2I/MDpmLmxlbmd0aC0xXTt2YXIgZz1lLmdldENoaWxkQ2VsbHMoZCwhMCksbD1jLmdldEluZGV4KGQpLGQ9ZS5jbG9uZUNlbGwoZCwhMSk7ZC52YWx1ZT1udWxsO3ZhciBuPXRoaXMuZ2V0Q2VsbEdlb21ldHJ5KGQpO2lmKG51bGwhPW4pe2ZvcihmPTA7ZjxnLmxlbmd0aDtmKyspe2E9CmUuY2xvbmVDZWxsKGdbZl0sITEpO2QuaW5zZXJ0KGEpO2EudmFsdWU9bnVsbDt2YXIgcD10aGlzLmdldENlbGxHZW9tZXRyeShhKTtudWxsIT1wJiYocC5oZWlnaHQ9bi5oZWlnaHQpfWUuYWRkKGMsZCxsKyhiPzA6MSkpO3ZhciB1PXRoaXMuZ2V0Q2VsbEdlb21ldHJ5KGMpO251bGwhPXUmJih1PXUuY2xvbmUoKSx1LmhlaWdodCs9bi5oZWlnaHQsZS5zZXRHZW9tZXRyeShjLHUpKX19ZmluYWxseXtlLmVuZFVwZGF0ZSgpfX07R3JhcGgucHJvdG90eXBlLmRlbGV0ZVRhYmxlQ29sdW1uPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZ2V0TW9kZWwoKTtiLmJlZ2luVXBkYXRlKCk7dHJ5e3ZhciBlPWEsYz1udWxsLGQ9MDtpZih0aGlzLmlzVGFibGVDZWxsKGEpKXZhciBmPWIuZ2V0UGFyZW50KGEpLGU9Yi5nZXRQYXJlbnQoZiksZD1teFV0aWxzLmluZGV4T2YoYi5nZXRDaGlsZENlbGxzKGYsITApLGEpO2Vsc2UgdGhpcy5pc1RhYmxlUm93KGEpPyhlPWIuZ2V0UGFyZW50KGEpLGQ9Yi5nZXRDaGlsZENlbGxzKGEsCiEwKS5sZW5ndGgtMSk6dGhpcy5pc1RhYmxlKGEpJiYoYz1iLmdldENoaWxkQ2VsbHMoYSwhMCksZD1iLmdldENoaWxkQ2VsbHMoY1swXSwhMCkubGVuZ3RoLTEpO2E9MDtjPW51bGwhPWM/YzpiLmdldENoaWxkQ2VsbHMoZSwhMCk7Zm9yKGY9MDtmPGMubGVuZ3RoO2YrKyl7dmFyIGc9Yi5nZXRDaGlsZENlbGxzKGNbZl0sITApW2RdO2IucmVtb3ZlKGcpO3ZhciBsPXRoaXMuZ2V0Q2VsbEdlb21ldHJ5KGcpO251bGwhPWwmJihhPU1hdGgubWF4KGEsbC53aWR0aCkpfXZhciBuPXRoaXMuZ2V0Q2VsbEdlb21ldHJ5KGUpO251bGwhPW4mJihuPW4uY2xvbmUoKSxuLndpZHRoLT1hLGIuc2V0R2VvbWV0cnkoZSxuKSl9ZmluYWxseXtiLmVuZFVwZGF0ZSgpfX07R3JhcGgucHJvdG90eXBlLmRlbGV0ZVRhYmxlUm93PWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZ2V0TW9kZWwoKTtiLmJlZ2luVXBkYXRlKCk7dHJ5e3ZhciBlPWE7aWYodGhpcy5pc1RhYmxlQ2VsbChhKSllPWIuZ2V0UGFyZW50KGEpOwplbHNlIGlmKHRoaXMuaXNUYWJsZShhKSl2YXIgYz1iLmdldENoaWxkQ2VsbHMoYSwhMCksZT1jW2MubGVuZ3RoLTFdO3ZhciBkPWIuZ2V0UGFyZW50KGUpO2IucmVtb3ZlKGUpO2E9MDt2YXIgZj10aGlzLmdldENlbGxHZW9tZXRyeShlKTtudWxsIT1mJiYoYT1mLmhlaWdodCk7dmFyIGc9dGhpcy5nZXRDZWxsR2VvbWV0cnkoZCk7bnVsbCE9ZyYmKGc9Zy5jbG9uZSgpLGcuaGVpZ2h0LT1hLGIuc2V0R2VvbWV0cnkoZCxnKSl9ZmluYWxseXtiLmVuZFVwZGF0ZSgpfX07R3JhcGgucHJvdG90eXBlLmluc2VydFJvdz1mdW5jdGlvbihhLGIpe2Zvcih2YXIgZT1hLnRCb2RpZXNbMF0sYz1lLnJvd3NbMF0uY2VsbHMsZD0wLGY9MDtmPGMubGVuZ3RoO2YrKyl2YXIgZz1jW2ZdLmdldEF0dHJpYnV0ZSgiY29sc3BhbiIpLGQ9ZCsobnVsbCE9Zz9wYXJzZUludChnKToxKTtlPWUuaW5zZXJ0Um93KGIpO2ZvcihmPTA7ZjxkO2YrKylteFV0aWxzLmJyKGUuaW5zZXJ0Q2VsbCgtMSkpO3JldHVybiBlLmNlbGxzWzBdfTsKR3JhcGgucHJvdG90eXBlLmRlbGV0ZVJvdz1mdW5jdGlvbihhLGIpe2EudEJvZGllc1swXS5kZWxldGVSb3coYil9O0dyYXBoLnByb3RvdHlwZS5pbnNlcnRDb2x1bW49ZnVuY3Rpb24oYSxiKXt2YXIgZT1hLnRIZWFkO2lmKG51bGwhPWUpZm9yKHZhciBjPTA7YzxlLnJvd3MubGVuZ3RoO2MrKyl7dmFyIGQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGgiKTtlLnJvd3NbY10uYXBwZW5kQ2hpbGQoZCk7bXhVdGlscy5icihkKX1lPWEudEJvZGllc1swXTtmb3IoYz0wO2M8ZS5yb3dzLmxlbmd0aDtjKyspZD1lLnJvd3NbY10uaW5zZXJ0Q2VsbChiKSxteFV0aWxzLmJyKGQpO3JldHVybiBlLnJvd3NbMF0uY2VsbHNbMDw9Yj9iOmUucm93c1swXS5jZWxscy5sZW5ndGgtMV19O0dyYXBoLnByb3RvdHlwZS5kZWxldGVDb2x1bW49ZnVuY3Rpb24oYSxiKXtpZigwPD1iKWZvcih2YXIgZT1hLnRCb2RpZXNbMF0ucm93cyxjPTA7YzxlLmxlbmd0aDtjKyspZVtjXS5jZWxscy5sZW5ndGg+YiYmCmVbY10uZGVsZXRlQ2VsbChiKX07R3JhcGgucHJvdG90eXBlLnBhc3RlSHRtbEF0Q2FyZXQ9ZnVuY3Rpb24oYSl7dmFyIGI7aWYod2luZG93LmdldFNlbGVjdGlvbil7aWYoYj13aW5kb3cuZ2V0U2VsZWN0aW9uKCksYi5nZXRSYW5nZUF0JiZiLnJhbmdlQ291bnQpe2I9Yi5nZXRSYW5nZUF0KDApO2IuZGVsZXRlQ29udGVudHMoKTt2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtlLmlubmVySFRNTD1hO2E9ZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO2Zvcih2YXIgYztjPWUuZmlyc3RDaGlsZDspbGFzdE5vZGU9YS5hcHBlbmRDaGlsZChjKTtiLmluc2VydE5vZGUoYSl9fWVsc2UoYj1kb2N1bWVudC5zZWxlY3Rpb24pJiYiQ29udHJvbCIhPWIudHlwZSYmYi5jcmVhdGVSYW5nZSgpLnBhc3RlSFRNTChhKX07R3JhcGgucHJvdG90eXBlLmNyZWF0ZUxpbmtGb3JIaW50PWZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gZShhLGIpe2EubGVuZ3RoPmImJihhPWEuc3Vic3RyaW5nKDAsCk1hdGgucm91bmQoYi8yKSkrIi4uLiIrYS5zdWJzdHJpbmcoYS5sZW5ndGgtTWF0aC5yb3VuZChiLzQpKSk7cmV0dXJuIGF9YT1udWxsIT1hP2E6ImphdmFzY3JpcHQ6dm9pZCgwKTsiO2lmKG51bGw9PWJ8fDA9PWIubGVuZ3RoKWI9dGhpcy5pc0N1c3RvbUxpbmsoYSk/dGhpcy5nZXRMaW5rVGl0bGUoYSk6YTt2YXIgYz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIik7Yy5zZXRBdHRyaWJ1dGUoInJlbCIsdGhpcy5saW5rUmVsYXRpb24pO2Muc2V0QXR0cmlidXRlKCJocmVmIix0aGlzLmdldEFic29sdXRlVXJsKGEpKTtjLnNldEF0dHJpYnV0ZSgidGl0bGUiLGUodGhpcy5pc0N1c3RvbUxpbmsoYSk/dGhpcy5nZXRMaW5rVGl0bGUoYSk6YSw4MCkpO251bGwhPXRoaXMubGlua1RhcmdldCYmYy5zZXRBdHRyaWJ1dGUoInRhcmdldCIsdGhpcy5saW5rVGFyZ2V0KTtteFV0aWxzLndyaXRlKGMsZShiLDQwKSk7dGhpcy5pc0N1c3RvbUxpbmsoYSkmJm14RXZlbnQuYWRkTGlzdGVuZXIoYywKImNsaWNrIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihiKXt0aGlzLmN1c3RvbUxpbmtDbGlja2VkKGEpO214RXZlbnQuY29uc3VtZShiKX0pKTtyZXR1cm4gY307R3JhcGgucHJvdG90eXBlLmluaXRUb3VjaD1mdW5jdGlvbigpe3RoaXMuY29ubmVjdGlvbkhhbmRsZXIubWFya2VyLmlzRW5hYmxlZD1mdW5jdGlvbigpe3JldHVybiBudWxsIT10aGlzLmdyYXBoLmNvbm5lY3Rpb25IYW5kbGVyLmZpcnN0fTt0aGlzLmFkZExpc3RlbmVyKG14RXZlbnQuU1RBUlRfRURJVElORyxmdW5jdGlvbihhLGIpe3RoaXMucG9wdXBNZW51SGFuZGxlci5oaWRlTWVudSgpfSk7dmFyIGE9dGhpcy51cGRhdGVNb3VzZUV2ZW50O3RoaXMudXBkYXRlTW91c2VFdmVudD1mdW5jdGlvbihiKXtiPWEuYXBwbHkodGhpcyxhcmd1bWVudHMpO2lmKG14RXZlbnQuaXNUb3VjaEV2ZW50KGIuZ2V0RXZlbnQoKSkmJm51bGw9PWIuZ2V0U3RhdGUoKSl7dmFyIGU9dGhpcy5nZXRDZWxsQXQoYi5ncmFwaFgsYi5ncmFwaFkpOwpudWxsIT1lJiZ0aGlzLmlzU3dpbWxhbmUoZSkmJnRoaXMuaGl0c1N3aW1sYW5lQ29udGVudChlLGIuZ3JhcGhYLGIuZ3JhcGhZKXx8KGIuc3RhdGU9dGhpcy52aWV3LmdldFN0YXRlKGUpLG51bGwhPWIuc3RhdGUmJm51bGwhPWIuc3RhdGUuc2hhcGUmJih0aGlzLmNvbnRhaW5lci5zdHlsZS5jdXJzb3I9Yi5zdGF0ZS5zaGFwZS5ub2RlLnN0eWxlLmN1cnNvcikpfW51bGw9PWIuZ2V0U3RhdGUoKSYmdGhpcy5pc0VuYWJsZWQoKSYmKHRoaXMuY29udGFpbmVyLnN0eWxlLmN1cnNvcj0iZGVmYXVsdCIpO3JldHVybiBifTt2YXIgYj0hMSxlPSExLGM9ITEsZD10aGlzLmZpcmVNb3VzZUV2ZW50O3RoaXMuZmlyZU1vdXNlRXZlbnQ9ZnVuY3Rpb24oYSxmLGcpe2E9PW14RXZlbnQuTU9VU0VfRE9XTiYmKGY9dGhpcy51cGRhdGVNb3VzZUV2ZW50KGYpLGI9dGhpcy5pc0NlbGxTZWxlY3RlZChmLmdldENlbGwoKSksZT10aGlzLmlzU2VsZWN0aW9uRW1wdHkoKSxjPXRoaXMucG9wdXBNZW51SGFuZGxlci5pc01lbnVTaG93aW5nKCkpOwpkLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07dGhpcy5wb3B1cE1lbnVIYW5kbGVyLm1vdXNlVXA9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSxkKXt0aGlzLnBvcHVwTWVudUhhbmRsZXIucG9wdXBUcmlnZ2VyPSF0aGlzLmlzRWRpdGluZygpJiZ0aGlzLmlzRW5hYmxlZCgpJiYobnVsbD09ZC5nZXRTdGF0ZSgpfHwhZC5pc1NvdXJjZShkLmdldFN0YXRlKCkuY29udHJvbCkpJiYodGhpcy5wb3B1cE1lbnVIYW5kbGVyLnBvcHVwVHJpZ2dlcnx8IWMmJiFteEV2ZW50LmlzTW91c2VFdmVudChkLmdldEV2ZW50KCkpJiYoZSYmbnVsbD09ZC5nZXRDZWxsKCkmJnRoaXMuaXNTZWxlY3Rpb25FbXB0eSgpfHxiJiZ0aGlzLmlzQ2VsbFNlbGVjdGVkKGQuZ2V0Q2VsbCgpKSkpO214UG9wdXBNZW51SGFuZGxlci5wcm90b3R5cGUubW91c2VVcC5hcHBseSh0aGlzLnBvcHVwTWVudUhhbmRsZXIsYXJndW1lbnRzKX0pfTtteENlbGxFZGl0b3IucHJvdG90eXBlLmlzQ29udGVudEVkaXRpbmc9ZnVuY3Rpb24oKXt2YXIgYT0KdGhpcy5ncmFwaC52aWV3LmdldFN0YXRlKHRoaXMuZWRpdGluZ0NlbGwpO3JldHVybiBudWxsIT1hJiYxPT1hLnN0eWxlLmh0bWx9O214Q2VsbEVkaXRvci5wcm90b3R5cGUuaXNUYWJsZVNlbGVjdGVkPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPXRoaXMuZ3JhcGguZ2V0UGFyZW50QnlOYW1lKHRoaXMuZ3JhcGguZ2V0U2VsZWN0ZWRFbGVtZW50KCksIlRBQkxFIix0aGlzLnRleHRhcmVhKX07bXhDZWxsRWRpdG9yLnByb3RvdHlwZS5hbGlnblRleHQ9ZnVuY3Rpb24oYSxiKXt2YXIgZT1udWxsIT1iJiZteEV2ZW50LmlzU2hpZnREb3duKGIpO2lmKGV8fG51bGwhPXdpbmRvdy5nZXRTZWxlY3Rpb24mJm51bGwhPXdpbmRvdy5nZXRTZWxlY3Rpb24oKS5jb250YWluc05vZGUpe3ZhciBjPSEwO3RoaXMuZ3JhcGgucHJvY2Vzc0VsZW1lbnRzKHRoaXMudGV4dGFyZWEsZnVuY3Rpb24oYSl7ZXx8d2luZG93LmdldFNlbGVjdGlvbigpLmNvbnRhaW5zTm9kZShhLCEwKT8oYS5yZW1vdmVBdHRyaWJ1dGUoImFsaWduIiksCmEuc3R5bGUudGV4dEFsaWduPW51bGwpOmM9ITF9KTtjJiZ0aGlzLmdyYXBoLmNlbGxFZGl0b3Iuc2V0QWxpZ24oYSl9ZG9jdW1lbnQuZXhlY0NvbW1hbmQoImp1c3RpZnkiK2EudG9Mb3dlckNhc2UoKSwhMSxudWxsKX07bXhDZWxsRWRpdG9yLnByb3RvdHlwZS5zYXZlU2VsZWN0aW9uPWZ1bmN0aW9uKCl7aWYod2luZG93LmdldFNlbGVjdGlvbil7dmFyIGE9d2luZG93LmdldFNlbGVjdGlvbigpO2lmKGEuZ2V0UmFuZ2VBdCYmYS5yYW5nZUNvdW50KXtmb3IodmFyIGI9W10sZT0wLGM9YS5yYW5nZUNvdW50O2U8YzsrK2UpYi5wdXNoKGEuZ2V0UmFuZ2VBdChlKSk7cmV0dXJuIGJ9fWVsc2UgaWYoZG9jdW1lbnQuc2VsZWN0aW9uJiZkb2N1bWVudC5zZWxlY3Rpb24uY3JlYXRlUmFuZ2UpcmV0dXJuIGRvY3VtZW50LnNlbGVjdGlvbi5jcmVhdGVSYW5nZSgpO3JldHVybiBudWxsfTtteENlbGxFZGl0b3IucHJvdG90eXBlLnJlc3RvcmVTZWxlY3Rpb249ZnVuY3Rpb24oYSl7dHJ5e2lmKGEpaWYod2luZG93LmdldFNlbGVjdGlvbil7c2VsPQp3aW5kb3cuZ2V0U2VsZWN0aW9uKCk7c2VsLnJlbW92ZUFsbFJhbmdlcygpO2Zvcih2YXIgYj0wLGU9YS5sZW5ndGg7YjxlOysrYilzZWwuYWRkUmFuZ2UoYVtiXSl9ZWxzZSBkb2N1bWVudC5zZWxlY3Rpb24mJmEuc2VsZWN0JiZhLnNlbGVjdCgpfWNhdGNoKHJhKXt9fTt2YXIgbD1teENlbGxSZW5kZXJlci5wcm90b3R5cGUuaW5pdGlhbGl6ZUxhYmVsO214Q2VsbFJlbmRlcmVyLnByb3RvdHlwZS5pbml0aWFsaXplTGFiZWw9ZnVuY3Rpb24oYSl7bnVsbCE9YS50ZXh0JiYoYS50ZXh0LnJlcGxhY2VMaW5lZmVlZHM9IjAiIT1teFV0aWxzLmdldFZhbHVlKGEuc3R5bGUsIm5sMkJyIiwiMSIpKTtsLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07dmFyIHA9bXhDb25zdHJhaW50SGFuZGxlci5wcm90b3R5cGUudXBkYXRlO214Q29uc3RyYWludEhhbmRsZXIucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbihhLGIpe3RoaXMuaXNLZWVwRm9jdXNFdmVudChhKXx8IW14RXZlbnQuaXNBbHREb3duKGEuZ2V0RXZlbnQoKSk/CnAuYXBwbHkodGhpcyxhcmd1bWVudHMpOnRoaXMucmVzZXQoKX07bXhHdWlkZS5wcm90b3R5cGUuY3JlYXRlR3VpZGVTaGFwZT1mdW5jdGlvbihhKXtyZXR1cm4gbmV3IG14UG9seWxpbmUoW10sbXhDb25zdGFudHMuR1VJREVfQ09MT1IsbXhDb25zdGFudHMuR1VJREVfU1RST0tFV0lEVEgpfTtteENlbGxFZGl0b3IucHJvdG90eXBlLmVzY2FwZUNhbmNlbHNFZGl0aW5nPSExO3ZhciB2PW14Q2VsbEVkaXRvci5wcm90b3R5cGUuc3RhcnRFZGl0aW5nO214Q2VsbEVkaXRvci5wcm90b3R5cGUuc3RhcnRFZGl0aW5nPWZ1bmN0aW9uKGEsYil7dGhpcy5ncmFwaC5pc1RhYmxlKGEpJiYhdGhpcy5ncmFwaC5pc1N3aW1sYW5lKGEpJiYwPHRoaXMuZ3JhcGgubW9kZWwuZ2V0Q2hpbGRDb3VudChhKSYmKGE9dGhpcy5ncmFwaC5tb2RlbC5nZXRDaGlsZEF0KGEsMCkpO3RoaXMuZ3JhcGguaXNUYWJsZVJvdyhhKSYmIXRoaXMuZ3JhcGguaXNTd2ltbGFuZShhKSYmMDx0aGlzLmdyYXBoLm1vZGVsLmdldENoaWxkQ291bnQoYSkmJgooYT10aGlzLmdyYXBoLm1vZGVsLmdldENoaWxkQXQoYSwwKSk7di5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dmFyIGU9dGhpcy5ncmFwaC52aWV3LmdldFN0YXRlKGEpO3RoaXMudGV4dGFyZWEuY2xhc3NOYW1lPW51bGwhPWUmJjE9PWUuc3R5bGUuaHRtbD8ibXhDZWxsRWRpdG9yIGdlQ29udGVudEVkaXRhYmxlIjoibXhDZWxsRWRpdG9yIG14UGxhaW5UZXh0RWRpdG9yIjt0aGlzLmNvZGVWaWV3TW9kZT0hMTt0aGlzLnN3aXRjaFNlbGVjdGlvblN0YXRlPW51bGw7dGhpcy5ncmFwaC5zZXRTZWxlY3Rpb25DZWxsKGEpO3ZhciBlPXRoaXMuZ3JhcGguZ2V0TW9kZWwoKS5nZXRQYXJlbnQoYSksYz10aGlzLmdyYXBoLmdldENlbGxHZW9tZXRyeShhKTt0aGlzLmdyYXBoLmdldE1vZGVsKCkuaXNFZGdlKGUpJiZudWxsIT1jJiZjLnJlbGF0aXZlfHx0aGlzLmdyYXBoLmdldE1vZGVsKCkuaXNFZGdlKGEpP214Q2xpZW50LklTX1FVSVJLUz90aGlzLnRleHRhcmVhLnN0eWxlLmJvcmRlcj0iZ3JheSBkb3R0ZWQgMXB4IjoKdGhpcy50ZXh0YXJlYS5zdHlsZS5vdXRsaW5lPW14Q2xpZW50LklTX0lFfHxteENsaWVudC5JU19JRTExfHxteENsaWVudC5JU19GRiYmbXhDbGllbnQuSVNfV0lOPyJncmF5IGRvdHRlZCAxcHgiOiIiOm14Q2xpZW50LklTX1FVSVJLUyYmKHRoaXMudGV4dGFyZWEuc3R5bGUub3V0bGluZT0ibm9uZSIsdGhpcy50ZXh0YXJlYS5zdHlsZS5ib3JkZXI9IiIpfTt2YXIgdD1teENlbGxFZGl0b3IucHJvdG90eXBlLmluc3RhbGxMaXN0ZW5lcnM7bXhDZWxsRWRpdG9yLnByb3RvdHlwZS5pbnN0YWxsTGlzdGVuZXJzPWZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSxlKXtlLm9yaWdpbmFsTm9kZT1hO2E9YS5maXJzdENoaWxkO2Zvcih2YXIgYz1lLmZpcnN0Q2hpbGQ7bnVsbCE9YSYmbnVsbCE9YzspYihhLGMpLGE9YS5uZXh0U2libGluZyxjPWMubmV4dFNpYmxpbmc7cmV0dXJuIGV9ZnVuY3Rpb24gZShhLGIpe2lmKG51bGwhPWEpaWYoYi5vcmlnaW5hbE5vZGUhPWEpYyhhKTtlbHNlIGZvcihhPQphLmZpcnN0Q2hpbGQsYj1iLmZpcnN0Q2hpbGQ7bnVsbCE9YTspe3ZhciBkPWEubmV4dFNpYmxpbmc7bnVsbD09Yj9jKGEpOihlKGEsYiksYj1iLm5leHRTaWJsaW5nKTthPWR9fWZ1bmN0aW9uIGMoYSl7Zm9yKHZhciBiPWEuZmlyc3RDaGlsZDtudWxsIT1iOyl7dmFyIGU9Yi5uZXh0U2libGluZztjKGIpO2I9ZX0xPT1hLm5vZGVUeXBlJiYoIkJSIj09PWEubm9kZU5hbWV8fG51bGwhPWEuZmlyc3RDaGlsZCl8fDM9PWEubm9kZVR5cGUmJjAhPW14VXRpbHMudHJpbShteFV0aWxzLmdldFRleHRDb250ZW50KGEpKS5sZW5ndGg/KDM9PWEubm9kZVR5cGUmJm14VXRpbHMuc2V0VGV4dENvbnRlbnQoYSxteFV0aWxzLmdldFRleHRDb250ZW50KGEpLnJlcGxhY2UoL1xufFxyL2csIiIpKSwxPT1hLm5vZGVUeXBlJiYoYS5yZW1vdmVBdHRyaWJ1dGUoInN0eWxlIiksYS5yZW1vdmVBdHRyaWJ1dGUoImNsYXNzIiksYS5yZW1vdmVBdHRyaWJ1dGUoIndpZHRoIiksYS5yZW1vdmVBdHRyaWJ1dGUoImNlbGxwYWRkaW5nIiksCmEucmVtb3ZlQXR0cmlidXRlKCJjZWxsc3BhY2luZyIpLGEucmVtb3ZlQXR0cmlidXRlKCJib3JkZXIiKSkpOmEucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChhKX10LmFwcGx5KHRoaXMsYXJndW1lbnRzKTtteENsaWVudC5JU19RVUlSS1N8fDc9PT1kb2N1bWVudC5kb2N1bWVudE1vZGV8fDg9PT1kb2N1bWVudC5kb2N1bWVudE1vZGV8fG14RXZlbnQuYWRkTGlzdGVuZXIodGhpcy50ZXh0YXJlYSwicGFzdGUiLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3ZhciBjPWIodGhpcy50ZXh0YXJlYSx0aGlzLnRleHRhcmVhLmNsb25lTm9kZSghMCkpO3dpbmRvdy5zZXRUaW1lb3V0KG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7bnVsbCE9dGhpcy50ZXh0YXJlYSYmKDA8PXRoaXMudGV4dGFyZWEuaW5uZXJIVE1MLmluZGV4T2YoIjxvOk9mZmljZURvY3VtZW50U2V0dGluZ3M+Iil8fDA8PXRoaXMudGV4dGFyZWEuaW5uZXJIVE1MLmluZGV4T2YoIlx4M2MhLS1baWYgIW1zb10+Iik/CmUodGhpcy50ZXh0YXJlYSxjKTpHcmFwaC5yZW1vdmVQYXN0ZUZvcm1hdHRpbmcodGhpcy50ZXh0YXJlYSkpfSksMCl9KSl9O214Q2VsbEVkaXRvci5wcm90b3R5cGUudG9nZ2xlVmlld01vZGU9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdyYXBoLnZpZXcuZ2V0U3RhdGUodGhpcy5lZGl0aW5nQ2VsbCk7aWYobnVsbCE9YSl7dmFyIGI9bnVsbCE9YSYmIjAiIT1teFV0aWxzLmdldFZhbHVlKGEuc3R5bGUsIm5sMkJyIiwiMSIpLGU9dGhpcy5zYXZlU2VsZWN0aW9uKCk7aWYodGhpcy5jb2RlVmlld01vZGUpe249bXhVdGlscy5leHRyYWN0VGV4dFdpdGhXaGl0ZXNwYWNlKHRoaXMudGV4dGFyZWEuY2hpbGROb2Rlcyk7MDxuLmxlbmd0aCYmIlxuIj09bi5jaGFyQXQobi5sZW5ndGgtMSkmJihuPW4uc3Vic3RyaW5nKDAsbi5sZW5ndGgtMSkpO249dGhpcy5ncmFwaC5zYW5pdGl6ZUh0bWwoYj9uLnJlcGxhY2UoL1xuL2csIjxici8+Iik6biwhMCk7dGhpcy50ZXh0YXJlYS5jbGFzc05hbWU9Im14Q2VsbEVkaXRvciBnZUNvbnRlbnRFZGl0YWJsZSI7CnZhciBjPW14VXRpbHMuZ2V0VmFsdWUoYS5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9GT05UU0laRSxteENvbnN0YW50cy5ERUZBVUxUX0ZPTlRTSVpFKSxiPW14VXRpbHMuZ2V0VmFsdWUoYS5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9GT05URkFNSUxZLG14Q29uc3RhbnRzLkRFRkFVTFRfRk9OVEZBTUlMWSksZD1teFV0aWxzLmdldFZhbHVlKGEuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfQUxJR04sbXhDb25zdGFudHMuQUxJR05fTEVGVCksZj0obXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0ZPTlRTVFlMRSwwKSZteENvbnN0YW50cy5GT05UX0JPTEQpPT1teENvbnN0YW50cy5GT05UX0JPTEQsZz0obXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0ZPTlRTVFlMRSwwKSZteENvbnN0YW50cy5GT05UX0lUQUxJQyk9PW14Q29uc3RhbnRzLkZPTlRfSVRBTElDLGw9W107KG14VXRpbHMuZ2V0VmFsdWUoYS5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9GT05UU1RZTEUsCjApJm14Q29uc3RhbnRzLkZPTlRfVU5ERVJMSU5FKT09bXhDb25zdGFudHMuRk9OVF9VTkRFUkxJTkUmJmwucHVzaCgidW5kZXJsaW5lIik7KG14VXRpbHMuZ2V0VmFsdWUoYS5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9GT05UU1RZTEUsMCkmbXhDb25zdGFudHMuRk9OVF9TVFJJS0VUSFJPVUdIKT09bXhDb25zdGFudHMuRk9OVF9TVFJJS0VUSFJPVUdIJiZsLnB1c2goImxpbmUtdGhyb3VnaCIpO3RoaXMudGV4dGFyZWEuc3R5bGUubGluZUhlaWdodD1teENvbnN0YW50cy5BQlNPTFVURV9MSU5FX0hFSUdIVD9NYXRoLnJvdW5kKGMqbXhDb25zdGFudHMuTElORV9IRUlHSFQpKyJweCI6bXhDb25zdGFudHMuTElORV9IRUlHSFQ7dGhpcy50ZXh0YXJlYS5zdHlsZS5mb250U2l6ZT1NYXRoLnJvdW5kKGMpKyJweCI7dGhpcy50ZXh0YXJlYS5zdHlsZS50ZXh0RGVjb3JhdGlvbj1sLmpvaW4oIiAiKTt0aGlzLnRleHRhcmVhLnN0eWxlLmZvbnRXZWlnaHQ9Zj8iYm9sZCI6Im5vcm1hbCI7dGhpcy50ZXh0YXJlYS5zdHlsZS5mb250U3R5bGU9Cmc/Iml0YWxpYyI6IiI7dGhpcy50ZXh0YXJlYS5zdHlsZS5mb250RmFtaWx5PWI7dGhpcy50ZXh0YXJlYS5zdHlsZS50ZXh0QWxpZ249ZDt0aGlzLnRleHRhcmVhLnN0eWxlLnBhZGRpbmc9IjBweCI7dGhpcy50ZXh0YXJlYS5pbm5lckhUTUwhPW4mJih0aGlzLnRleHRhcmVhLmlubmVySFRNTD1uLDA9PXRoaXMudGV4dGFyZWEuaW5uZXJIVE1MLmxlbmd0aCYmKHRoaXMudGV4dGFyZWEuaW5uZXJIVE1MPXRoaXMuZ2V0RW1wdHlMYWJlbFRleHQoKSx0aGlzLmNsZWFyT25DaGFuZ2U9MDx0aGlzLnRleHRhcmVhLmlubmVySFRNTC5sZW5ndGgpKTt0aGlzLmNvZGVWaWV3TW9kZT0hMX1lbHNle3RoaXMuY2xlYXJPbkNoYW5nZSYmdGhpcy50ZXh0YXJlYS5pbm5lckhUTUw9PXRoaXMuZ2V0RW1wdHlMYWJlbFRleHQoKSYmKHRoaXMuY2xlYXJPbkNoYW5nZT0hMSx0aGlzLnRleHRhcmVhLmlubmVySFRNTD0iIik7dmFyIG49bXhVdGlscy5odG1sRW50aXRpZXModGhpcy50ZXh0YXJlYS5pbm5lckhUTUwpOwpteENsaWVudC5JU19RVUlSS1N8fDg9PWRvY3VtZW50LmRvY3VtZW50TW9kZXx8KG49bXhVdGlscy5yZXBsYWNlVHJhaWxpbmdOZXdsaW5lcyhuLCI8ZGl2Pjxicj48L2Rpdj4iKSk7bj10aGlzLmdyYXBoLnNhbml0aXplSHRtbChiP24ucmVwbGFjZSgvXG4vZywiIikucmVwbGFjZSgvJmx0O2JyXHMqLj8mZ3Q7L2csIjxicj4iKTpuLCEwKTt0aGlzLnRleHRhcmVhLmNsYXNzTmFtZT0ibXhDZWxsRWRpdG9yIG14UGxhaW5UZXh0RWRpdG9yIjt2YXIgYz1teENvbnN0YW50cy5ERUZBVUxUX0ZPTlRTSVpFO3RoaXMudGV4dGFyZWEuc3R5bGUubGluZUhlaWdodD1teENvbnN0YW50cy5BQlNPTFVURV9MSU5FX0hFSUdIVD9NYXRoLnJvdW5kKGMqbXhDb25zdGFudHMuTElORV9IRUlHSFQpKyJweCI6bXhDb25zdGFudHMuTElORV9IRUlHSFQ7dGhpcy50ZXh0YXJlYS5zdHlsZS5mb250U2l6ZT1NYXRoLnJvdW5kKGMpKyJweCI7dGhpcy50ZXh0YXJlYS5zdHlsZS50ZXh0RGVjb3JhdGlvbj0iIjsKdGhpcy50ZXh0YXJlYS5zdHlsZS5mb250V2VpZ2h0PSJub3JtYWwiO3RoaXMudGV4dGFyZWEuc3R5bGUuZm9udFN0eWxlPSIiO3RoaXMudGV4dGFyZWEuc3R5bGUuZm9udEZhbWlseT1teENvbnN0YW50cy5ERUZBVUxUX0ZPTlRGQU1JTFk7dGhpcy50ZXh0YXJlYS5zdHlsZS50ZXh0QWxpZ249ImxlZnQiO3RoaXMudGV4dGFyZWEuc3R5bGUucGFkZGluZz0iMnB4Ijt0aGlzLnRleHRhcmVhLmlubmVySFRNTCE9biYmKHRoaXMudGV4dGFyZWEuaW5uZXJIVE1MPW4pO3RoaXMuY29kZVZpZXdNb2RlPSEwfXRoaXMudGV4dGFyZWEuZm9jdXMoKTtudWxsIT10aGlzLnN3aXRjaFNlbGVjdGlvblN0YXRlJiZ0aGlzLnJlc3RvcmVTZWxlY3Rpb24odGhpcy5zd2l0Y2hTZWxlY3Rpb25TdGF0ZSk7dGhpcy5zd2l0Y2hTZWxlY3Rpb25TdGF0ZT1lO3RoaXMucmVzaXplKCl9fTt2YXIgeT1teENlbGxFZGl0b3IucHJvdG90eXBlLnJlc2l6ZTtteENlbGxFZGl0b3IucHJvdG90eXBlLnJlc2l6ZT1mdW5jdGlvbihhLApiKXtpZihudWxsIT10aGlzLnRleHRhcmVhKWlmKGE9dGhpcy5ncmFwaC5nZXRWaWV3KCkuZ2V0U3RhdGUodGhpcy5lZGl0aW5nQ2VsbCksdGhpcy5jb2RlVmlld01vZGUmJm51bGwhPWEpe3ZhciBlPWEudmlldy5zY2FsZTt0aGlzLmJvdW5kcz1teFJlY3RhbmdsZS5mcm9tUmVjdGFuZ2xlKGEpO2lmKDA9PXRoaXMuYm91bmRzLndpZHRoJiYwPT10aGlzLmJvdW5kcy5oZWlnaHQpe3RoaXMuYm91bmRzLndpZHRoPTE2MCplO3RoaXMuYm91bmRzLmhlaWdodD02MCplO3ZhciBjPW51bGwhPWEudGV4dD9hLnRleHQubWFyZ2luOm51bGw7bnVsbD09YyYmKGM9bXhVdGlscy5nZXRBbGlnbm1lbnRBc1BvaW50KG14VXRpbHMuZ2V0VmFsdWUoYS5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9BTElHTixteENvbnN0YW50cy5BTElHTl9DRU5URVIpLG14VXRpbHMuZ2V0VmFsdWUoYS5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9WRVJUSUNBTF9BTElHTixteENvbnN0YW50cy5BTElHTl9NSURETEUpKSk7CnRoaXMuYm91bmRzLngrPWMueCp0aGlzLmJvdW5kcy53aWR0aDt0aGlzLmJvdW5kcy55Kz1jLnkqdGhpcy5ib3VuZHMuaGVpZ2h0fXRoaXMudGV4dGFyZWEuc3R5bGUud2lkdGg9TWF0aC5yb3VuZCgodGhpcy5ib3VuZHMud2lkdGgtNCkvZSkrInB4Ijt0aGlzLnRleHRhcmVhLnN0eWxlLmhlaWdodD1NYXRoLnJvdW5kKCh0aGlzLmJvdW5kcy5oZWlnaHQtNCkvZSkrInB4Ijt0aGlzLnRleHRhcmVhLnN0eWxlLm92ZXJmbG93PSJhdXRvIjt0aGlzLnRleHRhcmVhLmNsaWVudEhlaWdodDx0aGlzLnRleHRhcmVhLm9mZnNldEhlaWdodCYmKHRoaXMudGV4dGFyZWEuc3R5bGUuaGVpZ2h0PU1hdGgucm91bmQodGhpcy5ib3VuZHMuaGVpZ2h0L2UpKyh0aGlzLnRleHRhcmVhLm9mZnNldEhlaWdodC10aGlzLnRleHRhcmVhLmNsaWVudEhlaWdodCkrInB4Iix0aGlzLmJvdW5kcy5oZWlnaHQ9cGFyc2VJbnQodGhpcy50ZXh0YXJlYS5zdHlsZS5oZWlnaHQpKmUpO3RoaXMudGV4dGFyZWEuY2xpZW50V2lkdGg8CnRoaXMudGV4dGFyZWEub2Zmc2V0V2lkdGgmJih0aGlzLnRleHRhcmVhLnN0eWxlLndpZHRoPU1hdGgucm91bmQodGhpcy5ib3VuZHMud2lkdGgvZSkrKHRoaXMudGV4dGFyZWEub2Zmc2V0V2lkdGgtdGhpcy50ZXh0YXJlYS5jbGllbnRXaWR0aCkrInB4Iix0aGlzLmJvdW5kcy53aWR0aD1wYXJzZUludCh0aGlzLnRleHRhcmVhLnN0eWxlLndpZHRoKSplKTt0aGlzLnRleHRhcmVhLnN0eWxlLmxlZnQ9TWF0aC5yb3VuZCh0aGlzLmJvdW5kcy54KSsicHgiO3RoaXMudGV4dGFyZWEuc3R5bGUudG9wPU1hdGgucm91bmQodGhpcy5ib3VuZHMueSkrInB4IjtteENsaWVudC5JU19WTUw/dGhpcy50ZXh0YXJlYS5zdHlsZS56b29tPWU6bXhVdGlscy5zZXRQcmVmaXhlZFN0eWxlKHRoaXMudGV4dGFyZWEuc3R5bGUsInRyYW5zZm9ybSIsInNjYWxlKCIrZSsiLCIrZSsiKSIpfWVsc2UgdGhpcy50ZXh0YXJlYS5zdHlsZS5oZWlnaHQ9IiIsdGhpcy50ZXh0YXJlYS5zdHlsZS5vdmVyZmxvdz0iIiwKeS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O214Q2VsbEVkaXRvckdldEluaXRpYWxWYWx1ZT1teENlbGxFZGl0b3IucHJvdG90eXBlLmdldEluaXRpYWxWYWx1ZTtteENlbGxFZGl0b3IucHJvdG90eXBlLmdldEluaXRpYWxWYWx1ZT1mdW5jdGlvbihhLGIpe2lmKCIwIj09bXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLCJodG1sIiwiMCIpKXJldHVybiBteENlbGxFZGl0b3JHZXRJbml0aWFsVmFsdWUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3ZhciBlPXRoaXMuZ3JhcGguZ2V0RWRpdGluZ1ZhbHVlKGEuY2VsbCxiKTsiMSI9PW14VXRpbHMuZ2V0VmFsdWUoYS5zdHlsZSwibmwyQnIiLCIxIikmJihlPWUucmVwbGFjZSgvXG4vZywiPGJyLz4iKSk7cmV0dXJuIGU9dGhpcy5ncmFwaC5zYW5pdGl6ZUh0bWwoZSwhMCl9O214Q2VsbEVkaXRvckdldEN1cnJlbnRWYWx1ZT1teENlbGxFZGl0b3IucHJvdG90eXBlLmdldEN1cnJlbnRWYWx1ZTtteENlbGxFZGl0b3IucHJvdG90eXBlLmdldEN1cnJlbnRWYWx1ZT0KZnVuY3Rpb24oYSl7aWYoIjAiPT1teFV0aWxzLmdldFZhbHVlKGEuc3R5bGUsImh0bWwiLCIwIikpcmV0dXJuIG14Q2VsbEVkaXRvckdldEN1cnJlbnRWYWx1ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dmFyIGI9dGhpcy5ncmFwaC5zYW5pdGl6ZUh0bWwodGhpcy50ZXh0YXJlYS5pbm5lckhUTUwsITApO3JldHVybiBiPSIxIj09bXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLCJubDJCciIsIjEiKT9iLnJlcGxhY2UoL1xyXG4vZywiPGJyLz4iKS5yZXBsYWNlKC9cbi9nLCI8YnIvPiIpOmIucmVwbGFjZSgvXHJcbi9nLCIiKS5yZXBsYWNlKC9cbi9nLCIiKX07dmFyIHg9bXhDZWxsRWRpdG9yLnByb3RvdHlwZS5zdG9wRWRpdGluZztteENlbGxFZGl0b3IucHJvdG90eXBlLnN0b3BFZGl0aW5nPWZ1bmN0aW9uKGEpe3RoaXMuY29kZVZpZXdNb2RlJiZ0aGlzLnRvZ2dsZVZpZXdNb2RlKCk7eC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5mb2N1c0NvbnRhaW5lcigpfTtteENlbGxFZGl0b3IucHJvdG90eXBlLmZvY3VzQ29udGFpbmVyPQpmdW5jdGlvbigpe3RyeXt0aGlzLmdyYXBoLmNvbnRhaW5lci5mb2N1cygpfWNhdGNoKFMpe319O3ZhciBDPW14Q2VsbEVkaXRvci5wcm90b3R5cGUuYXBwbHlWYWx1ZTtteENlbGxFZGl0b3IucHJvdG90eXBlLmFwcGx5VmFsdWU9ZnVuY3Rpb24oYSxiKXt0aGlzLmdyYXBoLmdldE1vZGVsKCkuYmVnaW5VcGRhdGUoKTt0cnl7Qy5hcHBseSh0aGlzLGFyZ3VtZW50cyksIiI9PWImJnRoaXMuZ3JhcGguaXNDZWxsRGVsZXRhYmxlKGEuY2VsbCkmJjA9PXRoaXMuZ3JhcGgubW9kZWwuZ2V0Q2hpbGRDb3VudChhLmNlbGwpJiZ0aGlzLmdyYXBoLmlzVHJhbnNwYXJlbnRTdGF0ZShhKSYmdGhpcy5ncmFwaC5yZW1vdmVDZWxscyhbYS5jZWxsXSwhMSl9ZmluYWxseXt0aGlzLmdyYXBoLmdldE1vZGVsKCkuZW5kVXBkYXRlKCl9fTtteENlbGxFZGl0b3IucHJvdG90eXBlLmdldEJhY2tncm91bmRDb2xvcj1mdW5jdGlvbihhKXt2YXIgYj1teFV0aWxzLmdldFZhbHVlKGEuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfTEFCRUxfQkFDS0dST1VORENPTE9SLApudWxsKTtudWxsIT1iJiZiIT1teENvbnN0YW50cy5OT05FfHwhKG51bGwhPWEuY2VsbC5nZW9tZXRyeSYmMDxhLmNlbGwuZ2VvbWV0cnkud2lkdGgpfHwwPT1teFV0aWxzLmdldFZhbHVlKGEuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfUk9UQVRJT04sMCkmJjAhPW14VXRpbHMuZ2V0VmFsdWUoYS5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9IT1JJWk9OVEFMLDEpfHwoYj1teFV0aWxzLmdldFZhbHVlKGEuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfRklMTENPTE9SLG51bGwpKTtiPT1teENvbnN0YW50cy5OT05FJiYoYj1udWxsKTtyZXR1cm4gYn07bXhDZWxsRWRpdG9yLnByb3RvdHlwZS5nZXRNaW5pbXVtU2l6ZT1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmdyYXBoLmdldFZpZXcoKS5zY2FsZTtyZXR1cm4gbmV3IG14UmVjdGFuZ2xlKDAsMCxudWxsPT1hLnRleHQ/MzA6YS50ZXh0LnNpemUqYisyMCwzMCl9O214R3JhcGhIYW5kbGVySXNWYWxpZERyb3BUYXJnZXQ9bXhHcmFwaEhhbmRsZXIucHJvdG90eXBlLmlzVmFsaWREcm9wVGFyZ2V0OwpteEdyYXBoSGFuZGxlci5wcm90b3R5cGUuaXNWYWxpZERyb3BUYXJnZXQ9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbXhHcmFwaEhhbmRsZXJJc1ZhbGlkRHJvcFRhcmdldC5hcHBseSh0aGlzLGFyZ3VtZW50cykmJiFteEV2ZW50LmlzQWx0RG93bihiLmdldEV2ZW50KX07bXhHcmFwaFZpZXcucHJvdG90eXBlLmZvcm1hdFVuaXRUZXh0PWZ1bmN0aW9uKGEpe3JldHVybiBhP2MoYSx0aGlzLnVuaXQpOmF9O214R3JhcGhIYW5kbGVyLnByb3RvdHlwZS51cGRhdGVIaW50PWZ1bmN0aW9uKGIpe2lmKG51bGwhPXRoaXMucEJvdW5kcyYmKG51bGwhPXRoaXMuc2hhcGV8fHRoaXMubGl2ZVByZXZpZXdBY3RpdmUpKXtudWxsPT10aGlzLmhpbnQmJih0aGlzLmhpbnQ9YSgpLHRoaXMuZ3JhcGguY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuaGludCkpO3ZhciBlPXRoaXMuZ3JhcGgudmlldy50cmFuc2xhdGUsZD10aGlzLmdyYXBoLnZpZXcuc2NhbGU7Yj10aGlzLnJvdW5kTGVuZ3RoKCh0aGlzLmJvdW5kcy54Kwp0aGlzLmN1cnJlbnREeCkvZC1lLngpO2U9dGhpcy5yb3VuZExlbmd0aCgodGhpcy5ib3VuZHMueSt0aGlzLmN1cnJlbnREeSkvZC1lLnkpO2Q9dGhpcy5ncmFwaC52aWV3LnVuaXQ7dGhpcy5oaW50LmlubmVySFRNTD1jKGIsZCkrIiwgIitjKGUsZCk7dGhpcy5oaW50LnN0eWxlLmxlZnQ9dGhpcy5wQm91bmRzLngrdGhpcy5jdXJyZW50RHgrTWF0aC5yb3VuZCgodGhpcy5wQm91bmRzLndpZHRoLXRoaXMuaGludC5jbGllbnRXaWR0aCkvMikrInB4Ijt0aGlzLmhpbnQuc3R5bGUudG9wPXRoaXMucEJvdW5kcy55K3RoaXMuY3VycmVudER5K3RoaXMucEJvdW5kcy5oZWlnaHQrRWRpdG9yLmhpbnRPZmZzZXQrInB4In19O214R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5yZW1vdmVIaW50PWZ1bmN0aW9uKCl7bnVsbCE9dGhpcy5oaW50JiYodGhpcy5oaW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5oaW50KSx0aGlzLmhpbnQ9bnVsbCl9O3ZhciBCPW14U2VsZWN0aW9uQ2VsbHNIYW5kbGVyLnByb3RvdHlwZS5nZXRIYW5kbGVkU2VsZWN0aW9uQ2VsbHM7Cm14U2VsZWN0aW9uQ2VsbHNIYW5kbGVyLnByb3RvdHlwZS5nZXRIYW5kbGVkU2VsZWN0aW9uQ2VsbHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEpe2UuZ2V0KGEpfHwoZS5wdXQoYSwhMCksZC5wdXNoKGEpKX1mb3IodmFyIGI9Qi5hcHBseSh0aGlzLGFyZ3VtZW50cyksZT1uZXcgbXhEaWN0aW9uYXJ5LGM9dGhpcy5ncmFwaC5tb2RlbCxkPVtdLGY9MDtmPGIubGVuZ3RoO2YrKyl7dmFyIGc9YltmXTt0aGlzLmdyYXBoLmlzVGFibGVDZWxsKGcpP2EoYy5nZXRQYXJlbnQoYy5nZXRQYXJlbnQoZykpKTp0aGlzLmdyYXBoLmlzVGFibGVSb3coZykmJmEoYy5nZXRQYXJlbnQoZykpO2EoZyl9cmV0dXJuIGR9O3ZhciBEPW14VmVydGV4SGFuZGxlci5wcm90b3R5cGUuaXNNb3ZlQ3VzdG9tSGFuZGxlUHJldmlld1RvRnJvbnQ7bXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5pc01vdmVDdXN0b21IYW5kbGVQcmV2aWV3VG9Gcm9udD1mdW5jdGlvbihhKXtyZXR1cm4gRC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fAp0aGlzLmdyYXBoLmlzVGFibGUodGhpcy5zdGF0ZS5jZWxsKSYmKG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdGF0ZS5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9GSUxMQ09MT1IsbXhDb25zdGFudHMuTk9ORSk9PW14Q29uc3RhbnRzLk5PTkV8fHRoaXMuZ3JhcGguaXNTd2ltbGFuZSh0aGlzLnN0YXRlLmNlbGwpJiZteFV0aWxzLmdldFZhbHVlKHRoaXMuc3RhdGUuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfU1dJTUxBTkVfRklMTENPTE9SLG14Q29uc3RhbnRzLk5PTkUpPT1teENvbnN0YW50cy5OT05FKX07dmFyIHo9bXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5jcmVhdGVQYXJlbnRIaWdobGlnaHRTaGFwZTtteFZlcnRleEhhbmRsZXIucHJvdG90eXBlLmNyZWF0ZVBhcmVudEhpZ2hsaWdodFNoYXBlPWZ1bmN0aW9uKGEpe3ZhciBiPXouYXBwbHkodGhpcyxhcmd1bWVudHMpO2Iuc3Ryb2tlPSIjQzBDMEMwIjtiLnN0cm9rZXdpZHRoPTE7cmV0dXJuIGJ9O3ZhciBFPW14RWRnZUhhbmRsZXIucHJvdG90eXBlLmNyZWF0ZVBhcmVudEhpZ2hsaWdodFNoYXBlOwpteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5jcmVhdGVQYXJlbnRIaWdobGlnaHRTaGFwZT1mdW5jdGlvbihhKXt2YXIgYj1FLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtiLnN0cm9rZT0iI0MwQzBDMCI7Yi5zdHJva2V3aWR0aD0xO3JldHVybiBifTtteFZlcnRleEhhbmRsZXIucHJvdG90eXBlLnJvdGF0aW9uSGFuZGxlVlNwYWNpbmc9LTEyO214VmVydGV4SGFuZGxlci5wcm90b3R5cGUuZ2V0Um90YXRpb25IYW5kbGVQb3NpdGlvbj1mdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0SGFuZGxlUGFkZGluZygpO3JldHVybiBuZXcgbXhQb2ludCh0aGlzLmJvdW5kcy54K3RoaXMuYm91bmRzLndpZHRoLXRoaXMucm90YXRpb25IYW5kbGVWU3BhY2luZythLngvMix0aGlzLmJvdW5kcy55K3RoaXMucm90YXRpb25IYW5kbGVWU3BhY2luZy1hLnkvMil9O214VmVydGV4SGFuZGxlci5wcm90b3R5cGUuaXNSZWN1cnNpdmVSZXNpemU9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5ncmFwaC5pc1JlY3Vyc2l2ZVZlcnRleFJlc2l6ZShhKSYmCiFteEV2ZW50LmlzQ29udHJvbERvd24oYi5nZXRFdmVudCgpKX07bXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5pc0NlbnRlcmVkRXZlbnQ9ZnVuY3Rpb24oYSxiKXtyZXR1cm4hKCF0aGlzLmdyYXBoLmlzU3dpbWxhbmUoYS5jZWxsKSYmMDx0aGlzLmdyYXBoLm1vZGVsLmdldENoaWxkQ291bnQoYS5jZWxsKSYmIXRoaXMuZ3JhcGguaXNDZWxsQ29sbGFwc2VkKGEuY2VsbCkmJiIxIj09bXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLCJyZWN1cnNpdmVSZXNpemUiLCIxIikmJm51bGw9PW14VXRpbHMuZ2V0VmFsdWUoYS5zdHlsZSwiY2hpbGRMYXlvdXQiLG51bGwpKSYmbXhFdmVudC5pc0NvbnRyb2xEb3duKGIuZ2V0RXZlbnQoKSl8fG14RXZlbnQuaXNNZXRhRG93bihiLmdldEV2ZW50KCkpfTt2YXIgRz1teFZlcnRleEhhbmRsZXIucHJvdG90eXBlLmlzUm90YXRpb25IYW5kbGVWaXNpYmxlO214VmVydGV4SGFuZGxlci5wcm90b3R5cGUuaXNSb3RhdGlvbkhhbmRsZVZpc2libGU9ZnVuY3Rpb24oKXtyZXR1cm4gRy5hcHBseSh0aGlzLAphcmd1bWVudHMpJiYhdGhpcy5ncmFwaC5pc1RhYmxlQ2VsbCh0aGlzLnN0YXRlLmNlbGwpJiYhdGhpcy5ncmFwaC5pc1RhYmxlUm93KHRoaXMuc3RhdGUuY2VsbCkmJiF0aGlzLmdyYXBoLmlzVGFibGUodGhpcy5zdGF0ZS5jZWxsKX07bXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5nZXRTaXplckJvdW5kcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdyYXBoLmlzVGFibGVDZWxsKHRoaXMuc3RhdGUuY2VsbCk/dGhpcy5ncmFwaC52aWV3LmdldFN0YXRlKHRoaXMuZ3JhcGgubW9kZWwuZ2V0UGFyZW50KHRoaXMuZ3JhcGgubW9kZWwuZ2V0UGFyZW50KHRoaXMuc3RhdGUuY2VsbCkpKTp0aGlzLmJvdW5kc307dmFyIEY9bXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5pc1BhcmVudEhpZ2hsaWdodFZpc2libGU7bXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5pc1BhcmVudEhpZ2hsaWdodFZpc2libGU9ZnVuY3Rpb24oKXtyZXR1cm4gRi5hcHBseSh0aGlzLGFyZ3VtZW50cykmJiF0aGlzLmdyYXBoLmlzVGFibGVDZWxsKHRoaXMuc3RhdGUuY2VsbCkmJgohdGhpcy5ncmFwaC5pc1RhYmxlUm93KHRoaXMuc3RhdGUuY2VsbCl9O3ZhciBIPW14VmVydGV4SGFuZGxlci5wcm90b3R5cGUuaXNDdXN0b21IYW5kbGVWaXNpYmxlO214VmVydGV4SGFuZGxlci5wcm90b3R5cGUuaXNDdXN0b21IYW5kbGVWaXNpYmxlPWZ1bmN0aW9uKGEpe3JldHVybiBhLnRhYmxlSGFuZGxlfHxILmFwcGx5KHRoaXMsYXJndW1lbnRzKSYmKCF0aGlzLmdyYXBoLmlzVGFibGUodGhpcy5zdGF0ZS5jZWxsKXx8dGhpcy5ncmFwaC5pc0NlbGxTZWxlY3RlZCh0aGlzLnN0YXRlLmNlbGwpKX07bXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5nZXRTZWxlY3Rpb25Cb3JkZXJJbnNldD1mdW5jdGlvbigpe3ZhciBhPTA7dGhpcy5ncmFwaC5pc1RhYmxlUm93KHRoaXMuc3RhdGUuY2VsbCk/YT0xOnRoaXMuZ3JhcGguaXNUYWJsZUNlbGwodGhpcy5zdGF0ZS5jZWxsKSYmKGE9Mik7cmV0dXJuIGF9O3ZhciBKPW14VmVydGV4SGFuZGxlci5wcm90b3R5cGUuZ2V0U2VsZWN0aW9uQm9yZGVyQm91bmRzOwpteFZlcnRleEhhbmRsZXIucHJvdG90eXBlLmdldFNlbGVjdGlvbkJvcmRlckJvdW5kcz1mdW5jdGlvbigpe3JldHVybiBKLmFwcGx5KHRoaXMsYXJndW1lbnRzKS5ncm93KC10aGlzLmdldFNlbGVjdGlvbkJvcmRlckluc2V0KCkpfTt2YXIgdT1teFZlcnRleEhhbmRsZXIucHJvdG90eXBlLmNyZWF0ZUN1c3RvbUhhbmRsZXM7bXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5jcmVhdGVDdXN0b21IYW5kbGVzPWZ1bmN0aW9uKCl7dmFyIGE9dS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7aWYodGhpcy5ncmFwaC5pc1RhYmxlKHRoaXMuc3RhdGUuY2VsbCkpe3ZhciBiPXRoaXMuZ3JhcGgsZT1iLm1vZGVsLGM9dGhpcy5zdGF0ZSxkPXRoaXMuc2VsZWN0aW9uQm9yZGVyO251bGw9PWEmJihhPVtdKTtmb3IodmFyIGY9W10sZz0wO2c8ZS5nZXRDaGlsZENvdW50KHRoaXMuc3RhdGUuY2VsbCk7ZysrKXt2YXIgbD10aGlzLmdyYXBoLnZpZXcuZ2V0U3RhdGUoZS5nZXRDaGlsZEF0KHRoaXMuc3RhdGUuY2VsbCwKZykpO251bGwhPWwmJmUuaXNWZXJ0ZXgobC5jZWxsKSYmZi5wdXNoKGwpfWZvcih2YXIgbj1bXSxnPTA7ZzxlLmdldENoaWxkQ291bnQoZlswXS5jZWxsKTtnKyspbD10aGlzLmdyYXBoLnZpZXcuZ2V0U3RhdGUoZS5nZXRDaGlsZEF0KGZbMF0uY2VsbCxnKSksbnVsbCE9bCYmZS5pc1ZlcnRleChsLmNlbGwpJiZuLnB1c2gobCk7Zm9yKGc9MDtnPG4ubGVuZ3RoO2crKylteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihlKXt2YXIgZj1uW2VdLGc9ZTxuLmxlbmd0aC0xP25bZSsxXTpudWxsLGw9bmV3IG14TGluZShuZXcgbXhSZWN0YW5nbGUsbXhDb25zdGFudHMuTk9ORSwxLCEwKTtsLmlzRGFzaGVkPWQuaXNEYXNoZWQ7bD1uZXcgbXhIYW5kbGUoZiwiY29sLXJlc2l6ZSIsbnVsbCxsKTtsLnRhYmxlSGFuZGxlPSEwO3ZhciB1PTA7bC5zaGFwZS5ub2RlLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGwuc2hhcGUubm9kZSxsLnNoYXBlLm5vZGUucGFyZW50Tm9kZS5maXJzdENoaWxkKTtsLnJlZHJhdz0KZnVuY3Rpb24oKXtpZihudWxsIT10aGlzLnNoYXBlJiZudWxsIT10aGlzLnN0YXRlLnNoYXBlKXt2YXIgYT1iLmdldEFjdHVhbFN0YXJ0U2l6ZShjLmNlbGwpO3RoaXMuc2hhcGUuc3Ryb2tlPTA9PXU/bXhDb25zdGFudHMuTk9ORTpkLnN0cm9rZTt0aGlzLnNoYXBlLmJvdW5kcy54PXRoaXMuc3RhdGUueCt0aGlzLnN0YXRlLndpZHRoK3UqdGhpcy5ncmFwaC52aWV3LnNjYWxlO3RoaXMuc2hhcGUuYm91bmRzLndpZHRoPTE7dGhpcy5zaGFwZS5ib3VuZHMueT1jLnkrKGU9PW4ubGVuZ3RoLTE/MDphLnkqdGhpcy5ncmFwaC52aWV3LnNjYWxlKTt0aGlzLnNoYXBlLmJvdW5kcy5oZWlnaHQ9Yy5oZWlnaHQtKGU9PW4ubGVuZ3RoLTE/MDooYS5oZWlnaHQrYS55KSp0aGlzLmdyYXBoLnZpZXcuc2NhbGUpO3RoaXMuc2hhcGUucmVkcmF3KCl9fTtsLnNldFBvc2l0aW9uPWZ1bmN0aW9uKGEsYixlKXt1PU1hdGgubWF4KEdyYXBoLm1pblRhYmxlQ29sdW1uV2lkdGgtYS53aWR0aCxiLngtYS54LQphLndpZHRoKTtudWxsIT1nJiYodT1NYXRoLm1pbihnLngrZy53aWR0aC1mLngtZi53aWR0aC1HcmFwaC5taW5UYWJsZUNvbHVtbldpZHRoLHUpKX07bC5leGVjdXRlPWZ1bmN0aW9uKCl7MCE9dSYmYi5zZXRUYWJsZUNvbHVtbldpZHRoKHRoaXMuc3RhdGUuY2VsbCx1KTt1PTB9O2wucmVzZXQ9ZnVuY3Rpb24oKXt1PTB9O2EucHVzaChsKX0pKGcpO2ZvcihnPTA7ZzxmLmxlbmd0aDtnKyspbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oZSl7ZT1mW2VdO3ZhciBjPW5ldyBteExpbmUobmV3IG14UmVjdGFuZ2xlLG14Q29uc3RhbnRzLk5PTkUsMSk7Yy5pc0Rhc2hlZD1kLmlzRGFzaGVkO2U9bmV3IG14SGFuZGxlKGUsInJvdy1yZXNpemUiLG51bGwsYyk7ZS50YWJsZUhhbmRsZT0hMDt2YXIgZz0wO2Uuc2hhcGUubm9kZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShlLnNoYXBlLm5vZGUsZS5zaGFwZS5ub2RlLnBhcmVudE5vZGUuZmlyc3RDaGlsZCk7ZS5yZWRyYXc9ZnVuY3Rpb24oKXtudWxsIT0KdGhpcy5zaGFwZSYmbnVsbCE9dGhpcy5zdGF0ZS5zaGFwZSYmKHRoaXMuc2hhcGUuc3Ryb2tlPTA9PWc/bXhDb25zdGFudHMuTk9ORTpkLnN0cm9rZSx0aGlzLnNoYXBlLmJvdW5kcy54PXRoaXMuc3RhdGUueCx0aGlzLnNoYXBlLmJvdW5kcy53aWR0aD10aGlzLnN0YXRlLndpZHRoLHRoaXMuc2hhcGUuYm91bmRzLnk9dGhpcy5zdGF0ZS55K3RoaXMuc3RhdGUuaGVpZ2h0K2cqdGhpcy5ncmFwaC52aWV3LnNjYWxlLHRoaXMuc2hhcGUuYm91bmRzLmhlaWdodD0xLHRoaXMuc2hhcGUucmVkcmF3KCkpfTtlLnNldFBvc2l0aW9uPWZ1bmN0aW9uKGEsYixlKXtnPU1hdGgubWF4KEdyYXBoLm1pblRhYmxlUm93SGVpZ2h0LWEuaGVpZ2h0LGIueS1hLnktYS5oZWlnaHQpfTtlLmV4ZWN1dGU9ZnVuY3Rpb24oKXswIT1nJiZiLnNldFRhYmxlUm93SGVpZ2h0KHRoaXMuc3RhdGUuY2VsbCxnKTtnPTB9O2UucmVzZXQ9ZnVuY3Rpb24oKXtnPTB9O2EucHVzaChlKX0pKGcpfXJldHVybiBudWxsIT1hPwphLnJldmVyc2UoKTpudWxsfTt2YXIgSz1teFZlcnRleEhhbmRsZXIucHJvdG90eXBlLnNldEhhbmRsZXNWaXNpYmxlO214VmVydGV4SGFuZGxlci5wcm90b3R5cGUuc2V0SGFuZGxlc1Zpc2libGU9ZnVuY3Rpb24oYSl7Sy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7aWYobnVsbCE9dGhpcy5tb3ZlSGFuZGxlcylmb3IodmFyIGI9MDtiPHRoaXMubW92ZUhhbmRsZXMubGVuZ3RoO2IrKyl0aGlzLm1vdmVIYW5kbGVzW2JdLnN0eWxlLnZpc2liaWxpdHk9YT8iIjoiaGlkZGVuIjtpZihudWxsIT10aGlzLmNvcm5lckhhbmRsZXMpZm9yKGI9MDtiPHRoaXMuY29ybmVySGFuZGxlcy5sZW5ndGg7YisrKXRoaXMuY29ybmVySGFuZGxlc1tiXS5ub2RlLnN0eWxlLnZpc2liaWxpdHk9YT8iIjoiaGlkZGVuIn07bXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5yZWZyZXNoTW92ZUhhbmRsZXM9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdyYXBoLm1vZGVsO2lmKG51bGwhPXRoaXMubW92ZUhhbmRsZXMpe2Zvcih2YXIgYj0KMDtiPHRoaXMubW92ZUhhbmRsZXMubGVuZ3RoO2IrKyl0aGlzLm1vdmVIYW5kbGVzW2JdLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5tb3ZlSGFuZGxlc1tiXSk7dGhpcy5tb3ZlSGFuZGxlcz1udWxsfXRoaXMubW92ZUhhbmRsZXM9W107Zm9yKGI9MDtiPGEuZ2V0Q2hpbGRDb3VudCh0aGlzLnN0YXRlLmNlbGwpO2IrKylteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihiKXtpZihudWxsIT1iJiZhLmlzVmVydGV4KGIuY2VsbCkpe3ZhciBlPW14VXRpbHMuY3JlYXRlSW1hZ2UoRWRpdG9yLnJvd01vdmVJbWFnZSk7ZS5zdHlsZS5wb3NpdGlvbj0iYWJzb2x1dGUiO2Uuc3R5bGUuY3Vyc29yPSJwb2ludGVyIjtlLnN0eWxlLndpZHRoPSI3cHgiO2Uuc3R5bGUuaGVpZ2h0PSI0cHgiO2Uucm93U3RhdGU9YjtteEV2ZW50LmFkZEdlc3R1cmVMaXN0ZW5lcnMoZSxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXt0aGlzLmdyYXBoLnN0b3BFZGl0aW5nKCExKTt0aGlzLmdyYXBoLnNlbGVjdENlbGxGb3JFdmVudChiLmNlbGwsCmEpO3RoaXMuZ3JhcGguZ3JhcGhIYW5kbGVyLnN0YXJ0KHRoaXMuc3RhdGUuY2VsbCxteEV2ZW50LmdldENsaWVudFgoYSksbXhFdmVudC5nZXRDbGllbnRZKGEpLHRoaXMuZ3JhcGguZ2V0U2VsZWN0aW9uQ2VsbHMoKSk7dGhpcy5ncmFwaC5ncmFwaEhhbmRsZXIuY2VsbFdhc0NsaWNrZWQ9ITA7dGhpcy5ncmFwaC5pc01vdXNlVHJpZ2dlcj1teEV2ZW50LmlzTW91c2VFdmVudChhKTt0aGlzLmdyYXBoLmlzTW91c2VEb3duPSEwO214RXZlbnQuY29uc3VtZShhKX0pKTt0aGlzLm1vdmVIYW5kbGVzLnB1c2goZSk7dGhpcy5ncmFwaC5jb250YWluZXIuYXBwZW5kQ2hpbGQoZSl9fSkodGhpcy5ncmFwaC52aWV3LmdldFN0YXRlKGEuZ2V0Q2hpbGRBdCh0aGlzLnN0YXRlLmNlbGwsYikpKX07bXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5yZWZyZXNoPWZ1bmN0aW9uKCl7aWYobnVsbCE9dGhpcy5jdXN0b21IYW5kbGVzKXtmb3IodmFyIGE9MDthPHRoaXMuY3VzdG9tSGFuZGxlcy5sZW5ndGg7YSsrKXRoaXMuY3VzdG9tSGFuZGxlc1thXS5kZXN0cm95KCk7CnRoaXMuY3VzdG9tSGFuZGxlcz10aGlzLmNyZWF0ZUN1c3RvbUhhbmRsZXMoKX10aGlzLmdyYXBoLmlzVGFibGUodGhpcy5zdGF0ZS5jZWxsKSYmdGhpcy5yZWZyZXNoTW92ZUhhbmRsZXMoKX07dmFyIEE9bXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5nZXRIYW5kbGVQYWRkaW5nO214VmVydGV4SGFuZGxlci5wcm90b3R5cGUuZ2V0SGFuZGxlUGFkZGluZz1mdW5jdGlvbigpe3ZhciBhPW5ldyBteFBvaW50KDAsMCksYj10aGlzLnRvbGVyYW5jZSxlPXRoaXMuc3RhdGUuc3R5bGUuc2hhcGU7bnVsbD09bXhDZWxsUmVuZGVyZXIuZGVmYXVsdFNoYXBlc1tlXSYmbXhTdGVuY2lsUmVnaXN0cnkuZ2V0U3RlbmNpbChlKTtlPXRoaXMuZ3JhcGguaXNUYWJsZSh0aGlzLnN0YXRlLmNlbGwpfHx0aGlzLmdyYXBoLmNlbGxFZGl0b3IuZ2V0RWRpdGluZ0NlbGwoKT09dGhpcy5zdGF0ZS5jZWxsO2lmKCFlJiZudWxsIT10aGlzLmN1c3RvbUhhbmRsZXMpZm9yKHZhciBjPTA7Yzx0aGlzLmN1c3RvbUhhbmRsZXMubGVuZ3RoO2MrKylpZihudWxsIT0KdGhpcy5jdXN0b21IYW5kbGVzW2NdLnNoYXBlJiZudWxsIT10aGlzLmN1c3RvbUhhbmRsZXNbY10uc2hhcGUuYm91bmRzKXt2YXIgZD10aGlzLmN1c3RvbUhhbmRsZXNbY10uc2hhcGUuYm91bmRzLGY9ZC5nZXRDZW50ZXJYKCksZz1kLmdldENlbnRlclkoKTtpZihNYXRoLmFicyh0aGlzLnN0YXRlLngtZik8ZC53aWR0aC8yfHxNYXRoLmFicyh0aGlzLnN0YXRlLnktZyk8ZC5oZWlnaHQvMnx8TWF0aC5hYnModGhpcy5zdGF0ZS54K3RoaXMuc3RhdGUud2lkdGgtZik8ZC53aWR0aC8yfHxNYXRoLmFicyh0aGlzLnN0YXRlLnkrdGhpcy5zdGF0ZS5oZWlnaHQtZyk8ZC5oZWlnaHQvMil7ZT0hMDticmVha319ZSYmbnVsbCE9dGhpcy5zaXplcnMmJjA8dGhpcy5zaXplcnMubGVuZ3RoJiZudWxsIT10aGlzLnNpemVyc1swXT8oYi89Mix0aGlzLmdyYXBoLmlzVGFibGUodGhpcy5zdGF0ZS5jZWxsKSYmKGIrPTcpLGEueD10aGlzLnNpemVyc1swXS5ib3VuZHMud2lkdGgrYixhLnk9dGhpcy5zaXplcnNbMF0uYm91bmRzLmhlaWdodCsKYik6YT1BLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gYX07bXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS51cGRhdGVIaW50PWZ1bmN0aW9uKGIpe2lmKHRoaXMuaW5kZXghPW14RXZlbnQuTEFCRUxfSEFORExFKXtudWxsPT10aGlzLmhpbnQmJih0aGlzLmhpbnQ9YSgpLHRoaXMuc3RhdGUudmlldy5ncmFwaC5jb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5oaW50KSk7aWYodGhpcy5pbmRleD09bXhFdmVudC5ST1RBVElPTl9IQU5ETEUpdGhpcy5oaW50LmlubmVySFRNTD10aGlzLmN1cnJlbnRBbHBoYSsiJmRlZzsiO2Vsc2V7Yj10aGlzLnN0YXRlLnZpZXcuc2NhbGU7dmFyIGU9dGhpcy5zdGF0ZS52aWV3LnVuaXQ7dGhpcy5oaW50LmlubmVySFRNTD1jKHRoaXMucm91bmRMZW5ndGgodGhpcy5ib3VuZHMud2lkdGgvYiksZSkrIiB4ICIrYyh0aGlzLnJvdW5kTGVuZ3RoKHRoaXMuYm91bmRzLmhlaWdodC9iKSxlKX1iPW14VXRpbHMuZ2V0Qm91bmRpbmdCb3godGhpcy5ib3VuZHMsCm51bGwhPXRoaXMuY3VycmVudEFscGhhP3RoaXMuY3VycmVudEFscGhhOnRoaXMuc3RhdGUuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfUk9UQVRJT05dfHwiMCIpO251bGw9PWImJihiPXRoaXMuYm91bmRzKTt0aGlzLmhpbnQuc3R5bGUubGVmdD1iLngrTWF0aC5yb3VuZCgoYi53aWR0aC10aGlzLmhpbnQuY2xpZW50V2lkdGgpLzIpKyJweCI7dGhpcy5oaW50LnN0eWxlLnRvcD1iLnkrYi5oZWlnaHQrRWRpdG9yLmhpbnRPZmZzZXQrInB4IjtudWxsIT10aGlzLmxpbmtIaW50JiYodGhpcy5saW5rSGludC5zdHlsZS5kaXNwbGF5PSJub25lIil9fTtteFZlcnRleEhhbmRsZXIucHJvdG90eXBlLnJlbW92ZUhpbnQ9ZnVuY3Rpb24oKXtteEdyYXBoSGFuZGxlci5wcm90b3R5cGUucmVtb3ZlSGludC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7bnVsbCE9dGhpcy5saW5rSGludCYmKHRoaXMubGlua0hpbnQuc3R5bGUuZGlzcGxheT0iIil9O3ZhciBNPW14RWRnZUhhbmRsZXIucHJvdG90eXBlLm1vdXNlTW92ZTsKbXhFZGdlSGFuZGxlci5wcm90b3R5cGUubW91c2VNb3ZlPWZ1bmN0aW9uKGEsYil7TS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7bnVsbCE9dGhpcy5ncmFwaC5ncmFwaEhhbmRsZXImJm51bGwhPXRoaXMuZ3JhcGguZ3JhcGhIYW5kbGVyLmZpcnN0JiZudWxsIT10aGlzLmxpbmtIaW50JiYibm9uZSIhPXRoaXMubGlua0hpbnQuc3R5bGUuZGlzcGxheSYmKHRoaXMubGlua0hpbnQuc3R5bGUuZGlzcGxheT0ibm9uZSIpfTt2YXIgUT1teEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5tb3VzZVVwO214RWRnZUhhbmRsZXIucHJvdG90eXBlLm1vdXNlVXA9ZnVuY3Rpb24oYSxiKXtRLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtudWxsIT10aGlzLmxpbmtIaW50JiYibm9uZSI9PXRoaXMubGlua0hpbnQuc3R5bGUuZGlzcGxheSYmKHRoaXMubGlua0hpbnQuc3R5bGUuZGlzcGxheT0iIil9O214RWRnZUhhbmRsZXIucHJvdG90eXBlLnVwZGF0ZUhpbnQ9ZnVuY3Rpb24oYixlKXtudWxsPT10aGlzLmhpbnQmJgoodGhpcy5oaW50PWEoKSx0aGlzLnN0YXRlLnZpZXcuZ3JhcGguY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuaGludCkpO3ZhciBkPXRoaXMuZ3JhcGgudmlldy50cmFuc2xhdGUsZj10aGlzLmdyYXBoLnZpZXcuc2NhbGUsZz10aGlzLnJvdW5kTGVuZ3RoKGUueC9mLWQueCksZD10aGlzLnJvdW5kTGVuZ3RoKGUueS9mLWQueSksZj10aGlzLmdyYXBoLnZpZXcudW5pdDt0aGlzLmhpbnQuaW5uZXJIVE1MPWMoZyxmKSsiLCAiK2MoZCxmKTt0aGlzLmhpbnQuc3R5bGUudmlzaWJpbGl0eT0idmlzaWJsZSI7aWYodGhpcy5pc1NvdXJjZXx8dGhpcy5pc1RhcmdldCludWxsIT10aGlzLmNvbnN0cmFpbnRIYW5kbGVyLmN1cnJlbnRDb25zdHJhaW50JiZudWxsIT10aGlzLmNvbnN0cmFpbnRIYW5kbGVyLmN1cnJlbnRGb2N1cz8oZz10aGlzLmNvbnN0cmFpbnRIYW5kbGVyLmN1cnJlbnRDb25zdHJhaW50LnBvaW50LHRoaXMuaGludC5pbm5lckhUTUw9IlsiK01hdGgucm91bmQoMTAwKmcueCkrCiIlLCAiK01hdGgucm91bmQoMTAwKmcueSkrIiVdIik6dGhpcy5tYXJrZXIuaGFzVmFsaWRTdGF0ZSgpJiYodGhpcy5oaW50LnN0eWxlLnZpc2liaWxpdHk9ImhpZGRlbiIpO3RoaXMuaGludC5zdHlsZS5sZWZ0PU1hdGgucm91bmQoYi5nZXRHcmFwaFgoKS10aGlzLmhpbnQuY2xpZW50V2lkdGgvMikrInB4Ijt0aGlzLmhpbnQuc3R5bGUudG9wPU1hdGgubWF4KGIuZ2V0R3JhcGhZKCksZS55KStFZGl0b3IuaGludE9mZnNldCsicHgiO251bGwhPXRoaXMubGlua0hpbnQmJih0aGlzLmxpbmtIaW50LnN0eWxlLmRpc3BsYXk9Im5vbmUiKX07bXhFZGdlSGFuZGxlci5wcm90b3R5cGUucmVtb3ZlSGludD1teFZlcnRleEhhbmRsZXIucHJvdG90eXBlLnJlbW92ZUhpbnQ7SG92ZXJJY29ucy5wcm90b3R5cGUubWFpbkhhbmRsZT1teENsaWVudC5JU19TVkc/R3JhcGguY3JlYXRlU3ZnSW1hZ2UoMTgsMTgsJzxjaXJjbGUgY3g9IjkiIGN5PSI5IiByPSI1IiBzdHJva2U9IiNmZmYiIGZpbGw9IicrCkhvdmVySWNvbnMucHJvdG90eXBlLmFycm93RmlsbCsnIiBzdHJva2Utd2lkdGg9IjEiLz4nKTpuZXcgbXhJbWFnZShJTUFHRV9QQVRIKyIvaGFuZGxlLW1haW4ucG5nIiwxNywxNyk7SG92ZXJJY29ucy5wcm90b3R5cGUuc2Vjb25kYXJ5SGFuZGxlPW14Q2xpZW50LklTX1NWRz9HcmFwaC5jcmVhdGVTdmdJbWFnZSgxNiwxNiwnPHBhdGggZD0ibSA4IDMgTCAxMyA4IEwgOCAxMyBMIDMgOCB6IiBzdHJva2U9IiNmZmYiIGZpbGw9IiNmY2EwMDAiLz4nKTpuZXcgbXhJbWFnZShJTUFHRV9QQVRIKyIvaGFuZGxlLXNlY29uZGFyeS5wbmciLDE3LDE3KTtIb3Zlckljb25zLnByb3RvdHlwZS5maXhlZEhhbmRsZT1teENsaWVudC5JU19TVkc/R3JhcGguY3JlYXRlU3ZnSW1hZ2UoMTgsMTgsJzxjaXJjbGUgY3g9IjkiIGN5PSI5IiByPSI1IiBzdHJva2U9IiNmZmYiIGZpbGw9IicrSG92ZXJJY29ucy5wcm90b3R5cGUuYXJyb3dGaWxsKyciIHN0cm9rZS13aWR0aD0iMSIvPjxwYXRoIGQ9Im0gNyA3IEwgMTEgMTEgTSA3IDExIEwgMTEgNyIgc3Ryb2tlPSIjZmZmIi8+Jyk6Cm5ldyBteEltYWdlKElNQUdFX1BBVEgrIi9oYW5kbGUtZml4ZWQucG5nIiwxNywxNyk7SG92ZXJJY29ucy5wcm90b3R5cGUudGVybWluYWxIYW5kbGU9bXhDbGllbnQuSVNfU1ZHP0dyYXBoLmNyZWF0ZVN2Z0ltYWdlKDE4LDE4LCc8Y2lyY2xlIGN4PSI5IiBjeT0iOSIgcj0iNSIgc3Ryb2tlPSIjZmZmIiBmaWxsPSInK0hvdmVySWNvbnMucHJvdG90eXBlLmFycm93RmlsbCsnIiBzdHJva2Utd2lkdGg9IjEiLz48Y2lyY2xlIGN4PSI5IiBjeT0iOSIgcj0iMiIgc3Ryb2tlPSIjZmZmIiBmaWxsPSJ0cmFuc3BhcmVudCIvPicpOm5ldyBteEltYWdlKElNQUdFX1BBVEgrIi9oYW5kbGUtdGVybWluYWwucG5nIiwxNywxNyk7SG92ZXJJY29ucy5wcm90b3R5cGUucm90YXRpb25IYW5kbGU9bXhDbGllbnQuSVNfU1ZHP0dyYXBoLmNyZWF0ZVN2Z0ltYWdlKDE2LDE2LCc8cGF0aCBzdHJva2U9IicrSG92ZXJJY29ucy5wcm90b3R5cGUuYXJyb3dGaWxsKyciIGZpbGw9IicrSG92ZXJJY29ucy5wcm90b3R5cGUuYXJyb3dGaWxsKwonIiBkPSJNMTUuNTUgNS41NUwxMSAxdjMuMDdDNy4wNiA0LjU2IDQgNy45MiA0IDEyczMuMDUgNy40NCA3IDcuOTN2LTIuMDJjLTIuODQtLjQ4LTUtMi45NC01LTUuOTFzMi4xNi01LjQzIDUtNS45MVYxMGw0LjU1LTQuNDV6TTE5LjkzIDExYy0uMTctMS4zOS0uNzItMi43My0xLjYyLTMuODlsLTEuNDIgMS40MmMuNTQuNzUuODggMS42IDEuMDIgMi40N2gyLjAyek0xMyAxNy45djIuMDJjMS4zOS0uMTcgMi43NC0uNzEgMy45LTEuNjFsLTEuNDQtMS40NGMtLjc1LjU0LTEuNTkuODktMi40NiAxLjAzem0zLjg5LTIuNDJsMS40MiAxLjQxYy45LTEuMTYgMS40NS0yLjUgMS42Mi0zLjg5aC0yLjAyYy0uMTQuODctLjQ4IDEuNzItMS4wMiAyLjQ4eiIvPicsMjQsMjQpOm5ldyBteEltYWdlKElNQUdFX1BBVEgrIi9oYW5kbGUtcm90YXRlLnBuZyIsMTYsMTYpO214Q2xpZW50LklTX1NWRyYmKG14Q29uc3RyYWludEhhbmRsZXIucHJvdG90eXBlLnBvaW50SW1hZ2U9R3JhcGguY3JlYXRlU3ZnSW1hZ2UoNSwKNSwnPHBhdGggZD0ibSAwIDAgTCA1IDUgTSAwIDUgTCA1IDAiIHN0cm9rZT0iJytIb3Zlckljb25zLnByb3RvdHlwZS5hcnJvd0ZpbGwrJyIvPicpKTtteFZlcnRleEhhbmRsZXIuVEFCTEVfSEFORExFX0NPTE9SPSIjZmNhMDAwIjtteFZlcnRleEhhbmRsZXIucHJvdG90eXBlLmhhbmRsZUltYWdlPUhvdmVySWNvbnMucHJvdG90eXBlLm1haW5IYW5kbGU7bXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5zZWNvbmRhcnlIYW5kbGVJbWFnZT1Ib3Zlckljb25zLnByb3RvdHlwZS5zZWNvbmRhcnlIYW5kbGU7bXhFZGdlSGFuZGxlci5wcm90b3R5cGUuaGFuZGxlSW1hZ2U9SG92ZXJJY29ucy5wcm90b3R5cGUubWFpbkhhbmRsZTtteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS50ZXJtaW5hbEhhbmRsZUltYWdlPUhvdmVySWNvbnMucHJvdG90eXBlLnRlcm1pbmFsSGFuZGxlO214RWRnZUhhbmRsZXIucHJvdG90eXBlLmZpeGVkSGFuZGxlSW1hZ2U9SG92ZXJJY29ucy5wcm90b3R5cGUuZml4ZWRIYW5kbGU7Cm14RWRnZUhhbmRsZXIucHJvdG90eXBlLmxhYmVsSGFuZGxlSW1hZ2U9SG92ZXJJY29ucy5wcm90b3R5cGUuc2Vjb25kYXJ5SGFuZGxlO214T3V0bGluZS5wcm90b3R5cGUuc2l6ZXJJbWFnZT1Ib3Zlckljb25zLnByb3RvdHlwZS5tYWluSGFuZGxlO251bGwhPXdpbmRvdy5TaWRlYmFyJiYoU2lkZWJhci5wcm90b3R5cGUudHJpYW5nbGVVcD1Ib3Zlckljb25zLnByb3RvdHlwZS50cmlhbmdsZVVwLFNpZGViYXIucHJvdG90eXBlLnRyaWFuZ2xlUmlnaHQ9SG92ZXJJY29ucy5wcm90b3R5cGUudHJpYW5nbGVSaWdodCxTaWRlYmFyLnByb3RvdHlwZS50cmlhbmdsZURvd249SG92ZXJJY29ucy5wcm90b3R5cGUudHJpYW5nbGVEb3duLFNpZGViYXIucHJvdG90eXBlLnRyaWFuZ2xlTGVmdD1Ib3Zlckljb25zLnByb3RvdHlwZS50cmlhbmdsZUxlZnQsU2lkZWJhci5wcm90b3R5cGUucmVmcmVzaFRhcmdldD1Ib3Zlckljb25zLnByb3RvdHlwZS5yZWZyZXNoVGFyZ2V0LFNpZGViYXIucHJvdG90eXBlLnJvdW5kRHJvcD0KSG92ZXJJY29ucy5wcm90b3R5cGUucm91bmREcm9wKTtteENsaWVudC5JU19TVkd8fCgobmV3IEltYWdlKS5zcmM9SG92ZXJJY29ucy5wcm90b3R5cGUubWFpbkhhbmRsZS5zcmMsKG5ldyBJbWFnZSkuc3JjPUhvdmVySWNvbnMucHJvdG90eXBlLmZpeGVkSGFuZGxlLnNyYywobmV3IEltYWdlKS5zcmM9SG92ZXJJY29ucy5wcm90b3R5cGUudGVybWluYWxIYW5kbGUuc3JjLChuZXcgSW1hZ2UpLnNyYz1Ib3Zlckljb25zLnByb3RvdHlwZS5zZWNvbmRhcnlIYW5kbGUuc3JjLChuZXcgSW1hZ2UpLnNyYz1Ib3Zlckljb25zLnByb3RvdHlwZS5yb3RhdGlvbkhhbmRsZS5zcmMsKG5ldyBJbWFnZSkuc3JjPUhvdmVySWNvbnMucHJvdG90eXBlLnRyaWFuZ2xlVXAuc3JjLChuZXcgSW1hZ2UpLnNyYz1Ib3Zlckljb25zLnByb3RvdHlwZS50cmlhbmdsZVJpZ2h0LnNyYywobmV3IEltYWdlKS5zcmM9SG92ZXJJY29ucy5wcm90b3R5cGUudHJpYW5nbGVEb3duLnNyYywobmV3IEltYWdlKS5zcmM9CkhvdmVySWNvbnMucHJvdG90eXBlLnRyaWFuZ2xlTGVmdC5zcmMsKG5ldyBJbWFnZSkuc3JjPUhvdmVySWNvbnMucHJvdG90eXBlLnJlZnJlc2hUYXJnZXQuc3JjLChuZXcgSW1hZ2UpLnNyYz1Ib3Zlckljb25zLnByb3RvdHlwZS5yb3VuZERyb3Auc3JjKTtteFZlcnRleEhhbmRsZXIucHJvdG90eXBlLnJvdGF0aW9uRW5hYmxlZD0hMDtteFZlcnRleEhhbmRsZXIucHJvdG90eXBlLm1hbmFnZVNpemVycz0hMDtteFZlcnRleEhhbmRsZXIucHJvdG90eXBlLmxpdmVQcmV2aWV3PSEwO214R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5tYXhMaXZlUHJldmlldz0xNjtteFJ1YmJlcmJhbmQucHJvdG90eXBlLmRlZmF1bHRPcGFjaXR5PTMwO214Q29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLm91dGxpbmVDb25uZWN0PSEwO214Q2VsbEhpZ2hsaWdodC5wcm90b3R5cGUua2VlcE9uVG9wPSEwO214VmVydGV4SGFuZGxlci5wcm90b3R5cGUucGFyZW50SGlnaGxpZ2h0RW5hYmxlZD0hMDtteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5wYXJlbnRIaWdobGlnaHRFbmFibGVkPQohMDtteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5kYmxDbGlja1JlbW92ZUVuYWJsZWQ9ITA7bXhFZGdlSGFuZGxlci5wcm90b3R5cGUuc3RyYWlnaHRSZW1vdmVFbmFibGVkPSEwO214RWRnZUhhbmRsZXIucHJvdG90eXBlLnZpcnR1YWxCZW5kc0VuYWJsZWQ9ITA7bXhFZGdlSGFuZGxlci5wcm90b3R5cGUubWVyZ2VSZW1vdmVFbmFibGVkPSEwO214RWRnZUhhbmRsZXIucHJvdG90eXBlLm1hbmFnZUxhYmVsSGFuZGxlPSEwO214RWRnZUhhbmRsZXIucHJvdG90eXBlLm91dGxpbmVDb25uZWN0PSEwO214RWRnZUhhbmRsZXIucHJvdG90eXBlLmlzQWRkVmlydHVhbEJlbmRFdmVudD1mdW5jdGlvbihhKXtyZXR1cm4hbXhFdmVudC5pc1NoaWZ0RG93bihhLmdldEV2ZW50KCkpfTtteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5pc0N1c3RvbUhhbmRsZUV2ZW50PWZ1bmN0aW9uKGEpe3JldHVybiFteEV2ZW50LmlzU2hpZnREb3duKGEuZ2V0RXZlbnQoKSl9O2lmKEdyYXBoLnRvdWNoU3R5bGUpe2lmKG14Q2xpZW50LklTX1RPVUNIfHwKMDxuYXZpZ2F0b3IubWF4VG91Y2hQb2ludHN8fDA8bmF2aWdhdG9yLm1zTWF4VG91Y2hQb2ludHMpbXhTaGFwZS5wcm90b3R5cGUuc3ZnU3Ryb2tlVG9sZXJhbmNlPTE4LG14VmVydGV4SGFuZGxlci5wcm90b3R5cGUudG9sZXJhbmNlPTEyLG14RWRnZUhhbmRsZXIucHJvdG90eXBlLnRvbGVyYW5jZT0xMixHcmFwaC5wcm90b3R5cGUudG9sZXJhbmNlPTEyLG14VmVydGV4SGFuZGxlci5wcm90b3R5cGUucm90YXRpb25IYW5kbGVWU3BhY2luZz0tMTYsbXhDb25zdHJhaW50SGFuZGxlci5wcm90b3R5cGUuZ2V0VG9sZXJhbmNlPWZ1bmN0aW9uKGEpe3JldHVybiBteEV2ZW50LmlzTW91c2VFdmVudChhLmdldEV2ZW50KCkpPzQ6dGhpcy5ncmFwaC5nZXRUb2xlcmFuY2UoKX07bXhQYW5uaW5nSGFuZGxlci5wcm90b3R5cGUuaXNQYW5uaW5nVHJpZ2dlcj1mdW5jdGlvbihhKXt2YXIgYj1hLmdldEV2ZW50KCk7cmV0dXJuIG51bGw9PWEuZ2V0U3RhdGUoKSYmIW14RXZlbnQuaXNNb3VzZUV2ZW50KGIpfHwKbXhFdmVudC5pc1BvcHVwVHJpZ2dlcihiKSYmKG51bGw9PWEuZ2V0U3RhdGUoKXx8bXhFdmVudC5pc0NvbnRyb2xEb3duKGIpfHxteEV2ZW50LmlzU2hpZnREb3duKGIpKX07dmFyIEk9bXhHcmFwaEhhbmRsZXIucHJvdG90eXBlLm1vdXNlRG93bjtteEdyYXBoSGFuZGxlci5wcm90b3R5cGUubW91c2VEb3duPWZ1bmN0aW9uKGEsYil7SS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7bXhFdmVudC5pc1RvdWNoRXZlbnQoYi5nZXRFdmVudCgpKSYmdGhpcy5ncmFwaC5pc0NlbGxTZWxlY3RlZChiLmdldENlbGwoKSkmJjE8dGhpcy5ncmFwaC5nZXRTZWxlY3Rpb25Db3VudCgpJiYodGhpcy5kZWxheWVkU2VsZWN0aW9uPSExKX19ZWxzZSBteFBhbm5pbmdIYW5kbGVyLnByb3RvdHlwZS5pc1Bhbm5pbmdUcmlnZ2VyPWZ1bmN0aW9uKGEpe3ZhciBiPWEuZ2V0RXZlbnQoKTtyZXR1cm4gbXhFdmVudC5pc0xlZnRNb3VzZUJ1dHRvbihiKSYmKHRoaXMudXNlTGVmdEJ1dHRvbkZvclBhbm5pbmcmJm51bGw9PQphLmdldFN0YXRlKCl8fG14RXZlbnQuaXNDb250cm9sRG93bihiKSYmIW14RXZlbnQuaXNTaGlmdERvd24oYikpfHx0aGlzLnVzZVBvcHVwVHJpZ2dlciYmbXhFdmVudC5pc1BvcHVwVHJpZ2dlcihiKX07bXhSdWJiZXJiYW5kLnByb3RvdHlwZS5pc1NwYWNlRXZlbnQ9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZ3JhcGguaXNFbmFibGVkKCkmJiF0aGlzLmdyYXBoLmlzQ2VsbExvY2tlZCh0aGlzLmdyYXBoLmdldERlZmF1bHRQYXJlbnQoKSkmJm14RXZlbnQuaXNDb250cm9sRG93bihhLmdldEV2ZW50KCkpJiZteEV2ZW50LmlzU2hpZnREb3duKGEuZ2V0RXZlbnQoKSl9O214UnViYmVyYmFuZC5wcm90b3R5cGUuY2FuY2VsbGVkPSExO214UnViYmVyYmFuZC5wcm90b3R5cGUuY2FuY2VsPWZ1bmN0aW9uKCl7dGhpcy5pc0FjdGl2ZSgpJiYodGhpcy5jYW5jZWxsZWQ9ITAsdGhpcy5yZXNldCgpKX07bXhSdWJiZXJiYW5kLnByb3RvdHlwZS5tb3VzZVVwPWZ1bmN0aW9uKGEsYil7aWYodGhpcy5jYW5jZWxsZWQpdGhpcy5jYW5jZWxsZWQ9CiExLGIuY29uc3VtZSgpO2Vsc2V7dmFyIGU9bnVsbCE9dGhpcy5kaXYmJiJub25lIiE9dGhpcy5kaXYuc3R5bGUuZGlzcGxheSxjPW51bGwsZD1udWxsLGY9bnVsbCxnPW51bGw7bnVsbCE9dGhpcy5maXJzdCYmbnVsbCE9dGhpcy5jdXJyZW50WCYmbnVsbCE9dGhpcy5jdXJyZW50WSYmKGM9dGhpcy5maXJzdC54LGQ9dGhpcy5maXJzdC55LGY9KHRoaXMuY3VycmVudFgtYykvdGhpcy5ncmFwaC52aWV3LnNjYWxlLGc9KHRoaXMuY3VycmVudFktZCkvdGhpcy5ncmFwaC52aWV3LnNjYWxlLG14RXZlbnQuaXNBbHREb3duKGIuZ2V0RXZlbnQoKSl8fChmPXRoaXMuZ3JhcGguc25hcChmKSxnPXRoaXMuZ3JhcGguc25hcChnKSx0aGlzLmdyYXBoLmlzR3JpZEVuYWJsZWQoKXx8KE1hdGguYWJzKGYpPHRoaXMuZ3JhcGgudG9sZXJhbmNlJiYoZj0wKSxNYXRoLmFicyhnKTx0aGlzLmdyYXBoLnRvbGVyYW5jZSYmKGc9MCkpKSk7dGhpcy5yZXNldCgpO2lmKGUpe2lmKG14RXZlbnQuaXNBbHREb3duKGIuZ2V0RXZlbnQoKSkmJgp0aGlzLmdyYXBoLmlzVG9nZ2xlRXZlbnQoYi5nZXRFdmVudCgpKSl7dmFyIGY9bmV3IG14UmVjdGFuZ2xlKHRoaXMueCx0aGlzLnksdGhpcy53aWR0aCx0aGlzLmhlaWdodCksbD10aGlzLmdyYXBoLmdldENlbGxzKGYueCxmLnksZi53aWR0aCxmLmhlaWdodCk7dGhpcy5ncmFwaC5yZW1vdmVTZWxlY3Rpb25DZWxscyhsKX1lbHNlIGlmKHRoaXMuaXNTcGFjZUV2ZW50KGIpKXt0aGlzLmdyYXBoLm1vZGVsLmJlZ2luVXBkYXRlKCk7dHJ5e2ZvcihsPXRoaXMuZ3JhcGguZ2V0Q2VsbHNCZXlvbmQoYyxkLHRoaXMuZ3JhcGguZ2V0RGVmYXVsdFBhcmVudCgpLCEwLCEwKSxlPTA7ZTxsLmxlbmd0aDtlKyspaWYodGhpcy5ncmFwaC5pc0NlbGxNb3ZhYmxlKGxbZV0pKXt2YXIgbj10aGlzLmdyYXBoLnZpZXcuZ2V0U3RhdGUobFtlXSksdT10aGlzLmdyYXBoLmdldENlbGxHZW9tZXRyeShsW2VdKTtudWxsIT1uJiZudWxsIT11JiYodT11LmNsb25lKCksdS50cmFuc2xhdGUoZixnKSx0aGlzLmdyYXBoLm1vZGVsLnNldEdlb21ldHJ5KGxbZV0sCnUpKX19ZmluYWxseXt0aGlzLmdyYXBoLm1vZGVsLmVuZFVwZGF0ZSgpfX1lbHNlIGY9bmV3IG14UmVjdGFuZ2xlKHRoaXMueCx0aGlzLnksdGhpcy53aWR0aCx0aGlzLmhlaWdodCksdGhpcy5ncmFwaC5zZWxlY3RSZWdpb24oZixiLmdldEV2ZW50KCkpO2IuY29uc3VtZSgpfX19O214UnViYmVyYmFuZC5wcm90b3R5cGUubW91c2VNb3ZlPWZ1bmN0aW9uKGEsYil7aWYoIWIuaXNDb25zdW1lZCgpJiZudWxsIT10aGlzLmZpcnN0KXt2YXIgZT1teFV0aWxzLmdldFNjcm9sbE9yaWdpbih0aGlzLmdyYXBoLmNvbnRhaW5lciksYz1teFV0aWxzLmdldE9mZnNldCh0aGlzLmdyYXBoLmNvbnRhaW5lcik7ZS54LT1jLng7ZS55LT1jLnk7dmFyIGM9Yi5nZXRYKCkrZS54LGU9Yi5nZXRZKCkrZS55LGQ9dGhpcy5maXJzdC54LWMsZj10aGlzLmZpcnN0LnktZSxnPXRoaXMuZ3JhcGgudG9sZXJhbmNlO2lmKG51bGwhPXRoaXMuZGl2fHxNYXRoLmFicyhkKT5nfHxNYXRoLmFicyhmKT5nKW51bGw9PQp0aGlzLmRpdiYmKHRoaXMuZGl2PXRoaXMuY3JlYXRlU2hhcGUoKSksbXhVdGlscy5jbGVhclNlbGVjdGlvbigpLHRoaXMudXBkYXRlKGMsZSksdGhpcy5pc1NwYWNlRXZlbnQoYik/KGM9dGhpcy54K3RoaXMud2lkdGgsZT10aGlzLnkrdGhpcy5oZWlnaHQsZD10aGlzLmdyYXBoLnZpZXcuc2NhbGUsbXhFdmVudC5pc0FsdERvd24oYi5nZXRFdmVudCgpKXx8KHRoaXMud2lkdGg9dGhpcy5ncmFwaC5zbmFwKHRoaXMud2lkdGgvZCkqZCx0aGlzLmhlaWdodD10aGlzLmdyYXBoLnNuYXAodGhpcy5oZWlnaHQvZCkqZCx0aGlzLmdyYXBoLmlzR3JpZEVuYWJsZWQoKXx8KHRoaXMud2lkdGg8dGhpcy5ncmFwaC50b2xlcmFuY2UmJih0aGlzLndpZHRoPTApLHRoaXMuaGVpZ2h0PHRoaXMuZ3JhcGgudG9sZXJhbmNlJiYodGhpcy5oZWlnaHQ9MCkpLHRoaXMueDx0aGlzLmZpcnN0LngmJih0aGlzLng9Yy10aGlzLndpZHRoKSx0aGlzLnk8dGhpcy5maXJzdC55JiYodGhpcy55PWUtdGhpcy5oZWlnaHQpKSwKdGhpcy5kaXYuc3R5bGUuYm9yZGVyU3R5bGU9ImRhc2hlZCIsdGhpcy5kaXYuc3R5bGUuYmFja2dyb3VuZENvbG9yPSJ3aGl0ZSIsdGhpcy5kaXYuc3R5bGUubGVmdD10aGlzLngrInB4Iix0aGlzLmRpdi5zdHlsZS50b3A9dGhpcy55KyJweCIsdGhpcy5kaXYuc3R5bGUud2lkdGg9TWF0aC5tYXgoMCx0aGlzLndpZHRoKSsicHgiLHRoaXMuZGl2LnN0eWxlLmhlaWdodD10aGlzLmdyYXBoLmNvbnRhaW5lci5jbGllbnRIZWlnaHQrInB4Iix0aGlzLmRpdi5zdHlsZS5ib3JkZXJXaWR0aD0wPj10aGlzLndpZHRoPyIwcHggMXB4IDBweCAwcHgiOiIwcHggMXB4IDBweCAxcHgiLG51bGw9PXRoaXMuc2Vjb25kRGl2JiYodGhpcy5zZWNvbmREaXY9dGhpcy5kaXYuY2xvbmVOb2RlKCEwKSx0aGlzLmRpdi5wYXJlbnROb2RlLmFwcGVuZENoaWxkKHRoaXMuc2Vjb25kRGl2KSksdGhpcy5zZWNvbmREaXYuc3R5bGUubGVmdD10aGlzLngrInB4Iix0aGlzLnNlY29uZERpdi5zdHlsZS50b3A9dGhpcy55KwoicHgiLHRoaXMuc2Vjb25kRGl2LnN0eWxlLndpZHRoPXRoaXMuZ3JhcGguY29udGFpbmVyLmNsaWVudFdpZHRoKyJweCIsdGhpcy5zZWNvbmREaXYuc3R5bGUuaGVpZ2h0PU1hdGgubWF4KDAsdGhpcy5oZWlnaHQpKyJweCIsdGhpcy5zZWNvbmREaXYuc3R5bGUuYm9yZGVyV2lkdGg9MD49dGhpcy5oZWlnaHQ/IjFweCAwcHggMHB4IDBweCI6IjFweCAwcHggMXB4IDBweCIpOih0aGlzLmRpdi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9IiIsdGhpcy5kaXYuc3R5bGUuYm9yZGVyV2lkdGg9IiIsdGhpcy5kaXYuc3R5bGUuYm9yZGVyU3R5bGU9IiIsbnVsbCE9dGhpcy5zZWNvbmREaXYmJih0aGlzLnNlY29uZERpdi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuc2Vjb25kRGl2KSx0aGlzLnNlY29uZERpdj1udWxsKSksYi5jb25zdW1lKCl9fTt2YXIgUj1teFJ1YmJlcmJhbmQucHJvdG90eXBlLnJlc2V0O214UnViYmVyYmFuZC5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXtudWxsIT0KdGhpcy5zZWNvbmREaXYmJih0aGlzLnNlY29uZERpdi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuc2Vjb25kRGl2KSx0aGlzLnNlY29uZERpdj1udWxsKTtSLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07dmFyIFo9KG5ldyBEYXRlKS5nZXRUaW1lKCksVz0wLGlhPW14RWRnZUhhbmRsZXIucHJvdG90eXBlLnVwZGF0ZVByZXZpZXdTdGF0ZTtteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS51cGRhdGVQcmV2aWV3U3RhdGU9ZnVuY3Rpb24oYSxiLGUsYyl7aWEuYXBwbHkodGhpcyxhcmd1bWVudHMpO2UhPXRoaXMuY3VycmVudFRlcm1pbmFsU3RhdGU/KFo9KG5ldyBEYXRlKS5nZXRUaW1lKCksVz0wKTpXPShuZXcgRGF0ZSkuZ2V0VGltZSgpLVo7dGhpcy5jdXJyZW50VGVybWluYWxTdGF0ZT1lfTt2YXIgYmE9bXhFZGdlSGFuZGxlci5wcm90b3R5cGUuaXNPdXRsaW5lQ29ubmVjdEV2ZW50O214RWRnZUhhbmRsZXIucHJvdG90eXBlLmlzT3V0bGluZUNvbm5lY3RFdmVudD1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9CnRoaXMuY3VycmVudFRlcm1pbmFsU3RhdGUmJmEuZ2V0U3RhdGUoKT09dGhpcy5jdXJyZW50VGVybWluYWxTdGF0ZSYmMkUzPFd8fChudWxsPT10aGlzLmN1cnJlbnRUZXJtaW5hbFN0YXRlfHwiMCIhPW14VXRpbHMuZ2V0VmFsdWUodGhpcy5jdXJyZW50VGVybWluYWxTdGF0ZS5zdHlsZSwib3V0bGluZUNvbm5lY3QiLCIxIikpJiZiYS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O214RWRnZUhhbmRsZXIucHJvdG90eXBlLmNyZWF0ZUhhbmRsZVNoYXBlPWZ1bmN0aW9uKGEsYil7dmFyIGU9bnVsbCE9YSYmMD09YSxjPXRoaXMuc3RhdGUuZ2V0VmlzaWJsZVRlcm1pbmFsU3RhdGUoZSksZD1udWxsIT1hJiYoMD09YXx8YT49dGhpcy5zdGF0ZS5hYnNvbHV0ZVBvaW50cy5sZW5ndGgtMXx8dGhpcy5jb25zdHJ1Y3Rvcj09bXhFbGJvd0VkZ2VIYW5kbGVyJiYyPT1hKT90aGlzLmdyYXBoLmdldENvbm5lY3Rpb25Db25zdHJhaW50KHRoaXMuc3RhdGUsYyxlKTpudWxsLGU9bnVsbCE9KG51bGwhPQpkP3RoaXMuZ3JhcGguZ2V0Q29ubmVjdGlvblBvaW50KHRoaXMuc3RhdGUuZ2V0VmlzaWJsZVRlcm1pbmFsU3RhdGUoZSksZCk6bnVsbCk/dGhpcy5maXhlZEhhbmRsZUltYWdlOm51bGwhPWQmJm51bGwhPWM/dGhpcy50ZXJtaW5hbEhhbmRsZUltYWdlOnRoaXMuaGFuZGxlSW1hZ2U7aWYobnVsbCE9ZSlyZXR1cm4gZT1uZXcgbXhJbWFnZVNoYXBlKG5ldyBteFJlY3RhbmdsZSgwLDAsZS53aWR0aCxlLmhlaWdodCksZS5zcmMpLGUucHJlc2VydmVJbWFnZUFzcGVjdD0hMSxlO2U9bXhDb25zdGFudHMuSEFORExFX1NJWkU7dGhpcy5wcmVmZXJIdG1sJiYtLWU7cmV0dXJuIG5ldyBteFJlY3RhbmdsZVNoYXBlKG5ldyBteFJlY3RhbmdsZSgwLDAsZSxlKSxteENvbnN0YW50cy5IQU5ETEVfRklMTENPTE9SLG14Q29uc3RhbnRzLkhBTkRMRV9TVFJPS0VDT0xPUil9O3ZhciBVPW14VmVydGV4SGFuZGxlci5wcm90b3R5cGUuY3JlYXRlU2l6ZXJTaGFwZTtteFZlcnRleEhhbmRsZXIucHJvdG90eXBlLmNyZWF0ZVNpemVyU2hhcGU9CmZ1bmN0aW9uKGEsYixlKXt0aGlzLmhhbmRsZUltYWdlPWI9PW14RXZlbnQuUk9UQVRJT05fSEFORExFP0hvdmVySWNvbnMucHJvdG90eXBlLnJvdGF0aW9uSGFuZGxlOmI9PW14RXZlbnQuTEFCRUxfSEFORExFP3RoaXMuc2Vjb25kYXJ5SGFuZGxlSW1hZ2U6dGhpcy5oYW5kbGVJbWFnZTtyZXR1cm4gVS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O3ZhciBjYT1teEdyYXBoSGFuZGxlci5wcm90b3R5cGUuZ2V0Qm91bmRpbmdCb3g7bXhHcmFwaEhhbmRsZXIucHJvdG90eXBlLmdldEJvdW5kaW5nQm94PWZ1bmN0aW9uKGEpe2lmKG51bGwhPWEmJjE9PWEubGVuZ3RoKXt2YXIgYj10aGlzLmdyYXBoLmdldE1vZGVsKCksZT1iLmdldFBhcmVudChhWzBdKSxjPXRoaXMuZ3JhcGguZ2V0Q2VsbEdlb21ldHJ5KGFbMF0pO2lmKGIuaXNFZGdlKGUpJiZudWxsIT1jJiZjLnJlbGF0aXZlJiYoYj10aGlzLmdyYXBoLnZpZXcuZ2V0U3RhdGUoYVswXSksbnVsbCE9YiYmMj5iLndpZHRoJiYyPmIuaGVpZ2h0JiYKbnVsbCE9Yi50ZXh0JiZudWxsIT1iLnRleHQuYm91bmRpbmdCb3gpKXJldHVybiBteFJlY3RhbmdsZS5mcm9tUmVjdGFuZ2xlKGIudGV4dC5ib3VuZGluZ0JveCl9cmV0dXJuIGNhLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07dmFyIGRhPW14R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5nZXRHdWlkZVN0YXRlcztteEdyYXBoSGFuZGxlci5wcm90b3R5cGUuZ2V0R3VpZGVTdGF0ZXM9ZnVuY3Rpb24oKXtmb3IodmFyIGE9ZGEuYXBwbHkodGhpcyxhcmd1bWVudHMpLGI9W10sZT0wO2U8YS5sZW5ndGg7ZSsrKSIxIiE9bXhVdGlscy5nZXRWYWx1ZShhW2VdLnN0eWxlLCJwYXJ0IiwiMCIpJiZiLnB1c2goYVtlXSk7cmV0dXJuIGJ9O3ZhciBhYT1teFZlcnRleEhhbmRsZXIucHJvdG90eXBlLmdldFNlbGVjdGlvbkJvdW5kcztteFZlcnRleEhhbmRsZXIucHJvdG90eXBlLmdldFNlbGVjdGlvbkJvdW5kcz1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmdyYXBoLmdldE1vZGVsKCksZT1iLmdldFBhcmVudChhLmNlbGwpLApjPXRoaXMuZ3JhcGguZ2V0Q2VsbEdlb21ldHJ5KGEuY2VsbCk7cmV0dXJuIGIuaXNFZGdlKGUpJiZudWxsIT1jJiZjLnJlbGF0aXZlJiYyPmEud2lkdGgmJjI+YS5oZWlnaHQmJm51bGwhPWEudGV4dCYmbnVsbCE9YS50ZXh0LmJvdW5kaW5nQm94PyhiPWEudGV4dC51bnJvdGF0ZWRCb3VuZGluZ0JveHx8YS50ZXh0LmJvdW5kaW5nQm94LG5ldyBteFJlY3RhbmdsZShNYXRoLnJvdW5kKGIueCksTWF0aC5yb3VuZChiLnkpLE1hdGgucm91bmQoYi53aWR0aCksTWF0aC5yb3VuZChiLmhlaWdodCkpKTphYS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O3ZhciBUPW14VmVydGV4SGFuZGxlci5wcm90b3R5cGUubW91c2VEb3duO214VmVydGV4SGFuZGxlci5wcm90b3R5cGUubW91c2VEb3duPWZ1bmN0aW9uKGEsYil7dmFyIGU9dGhpcy5ncmFwaC5nZXRNb2RlbCgpLGM9ZS5nZXRQYXJlbnQodGhpcy5zdGF0ZS5jZWxsKSxkPXRoaXMuZ3JhcGguZ2V0Q2VsbEdlb21ldHJ5KHRoaXMuc3RhdGUuY2VsbCk7Cih0aGlzLmdldEhhbmRsZUZvckV2ZW50KGIpPT1teEV2ZW50LlJPVEFUSU9OX0hBTkRMRXx8IWUuaXNFZGdlKGMpfHxudWxsPT1kfHwhZC5yZWxhdGl2ZXx8bnVsbD09dGhpcy5zdGF0ZXx8Mjw9dGhpcy5zdGF0ZS53aWR0aHx8Mjw9dGhpcy5zdGF0ZS5oZWlnaHQpJiZULmFwcGx5KHRoaXMsYXJndW1lbnRzKX07bXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5yb3RhdGVDbGljaz1mdW5jdGlvbigpe3ZhciBhPW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdGF0ZS5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9TVFJPS0VDT0xPUixteENvbnN0YW50cy5OT05FKSxiPW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdGF0ZS5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9GSUxMQ09MT1IsbXhDb25zdGFudHMuTk9ORSk7dGhpcy5zdGF0ZS52aWV3LmdyYXBoLm1vZGVsLmlzVmVydGV4KHRoaXMuc3RhdGUuY2VsbCkmJmE9PW14Q29uc3RhbnRzLk5PTkUmJmI9PW14Q29uc3RhbnRzLk5PTkU/KGE9bXhVdGlscy5tb2QobXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0YXRlLnN0eWxlLApteENvbnN0YW50cy5TVFlMRV9ST1RBVElPTiwwKSs5MCwzNjApLHRoaXMuc3RhdGUudmlldy5ncmFwaC5zZXRDZWxsU3R5bGVzKG14Q29uc3RhbnRzLlNUWUxFX1JPVEFUSU9OLGEsW3RoaXMuc3RhdGUuY2VsbF0pKTp0aGlzLnN0YXRlLnZpZXcuZ3JhcGgudHVyblNoYXBlcyhbdGhpcy5zdGF0ZS5jZWxsXSl9O3ZhciBZPW14VmVydGV4SGFuZGxlci5wcm90b3R5cGUubW91c2VNb3ZlO214VmVydGV4SGFuZGxlci5wcm90b3R5cGUubW91c2VNb3ZlPWZ1bmN0aW9uKGEsYil7WS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7bnVsbCE9dGhpcy5ncmFwaC5ncmFwaEhhbmRsZXIuZmlyc3QmJihudWxsIT10aGlzLnJvdGF0aW9uU2hhcGUmJm51bGwhPXRoaXMucm90YXRpb25TaGFwZS5ub2RlJiYodGhpcy5yb3RhdGlvblNoYXBlLm5vZGUuc3R5bGUuZGlzcGxheT0ibm9uZSIpLG51bGwhPXRoaXMubGlua0hpbnQmJiJub25lIiE9dGhpcy5saW5rSGludC5zdHlsZS5kaXNwbGF5JiYodGhpcy5saW5rSGludC5zdHlsZS5kaXNwbGF5PQoibm9uZSIpKX07dmFyIFA9bXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5tb3VzZVVwO214VmVydGV4SGFuZGxlci5wcm90b3R5cGUubW91c2VVcD1mdW5jdGlvbihhLGIpe1AuYXBwbHkodGhpcyxhcmd1bWVudHMpO251bGwhPXRoaXMucm90YXRpb25TaGFwZSYmbnVsbCE9dGhpcy5yb3RhdGlvblNoYXBlLm5vZGUmJih0aGlzLnJvdGF0aW9uU2hhcGUubm9kZS5zdHlsZS5kaXNwbGF5PTE9PXRoaXMuZ3JhcGguZ2V0U2VsZWN0aW9uQ291bnQoKT8iIjoibm9uZSIpO251bGwhPXRoaXMubGlua0hpbnQmJiJub25lIj09dGhpcy5saW5rSGludC5zdHlsZS5kaXNwbGF5JiYodGhpcy5saW5rSGludC5zdHlsZS5kaXNwbGF5PSIiKX07dmFyIEw9bXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5pbml0O214VmVydGV4SGFuZGxlci5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbigpe0wuYXBwbHkodGhpcyxhcmd1bWVudHMpO3ZhciBhPSExO251bGwhPXRoaXMucm90YXRpb25TaGFwZSYmdGhpcy5yb3RhdGlvblNoYXBlLm5vZGUuc2V0QXR0cmlidXRlKCJ0aXRsZSIsCm14UmVzb3VyY2VzLmdldCgicm90YXRlVG9vbHRpcCIpKTtpZih0aGlzLmdyYXBoLmlzVGFibGUodGhpcy5zdGF0ZS5jZWxsKSl0aGlzLnJlZnJlc2hNb3ZlSGFuZGxlcygpO2Vsc2UgaWYoMT09dGhpcy5ncmFwaC5nZXRTZWxlY3Rpb25Db3VudCgpJiYodGhpcy5ncmFwaC5pc1RhYmxlQ2VsbCh0aGlzLnN0YXRlLmNlbGwpfHx0aGlzLmdyYXBoLmlzVGFibGVSb3codGhpcy5zdGF0ZS5jZWxsKSkpe3RoaXMuY29ybmVySGFuZGxlcz1bXTtmb3IodmFyIGI9MDs0PmI7YisrKXt2YXIgZT1uZXcgbXhSZWN0YW5nbGVTaGFwZShuZXcgbXhSZWN0YW5nbGUoMCwwLDQsNCksIiNmZmZmZmYiLG14Q29uc3RhbnRzLkhBTkRMRV9TVFJPS0VDT0xPUik7ZS5kaWFsZWN0PXRoaXMuZ3JhcGguZGlhbGVjdCE9bXhDb25zdGFudHMuRElBTEVDVF9TVkc/bXhDb25zdGFudHMuRElBTEVDVF9WTUw6bXhDb25zdGFudHMuRElBTEVDVF9TVkc7ZS5pbml0KHRoaXMuZ3JhcGgudmlldy5nZXRPdmVybGF5UGFuZSgpKTsKdGhpcy5jb3JuZXJIYW5kbGVzLnB1c2goZSl9fXZhciBjPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7bnVsbCE9dGhpcy5zcGVjaWFsSGFuZGxlJiYodGhpcy5zcGVjaWFsSGFuZGxlLm5vZGUuc3R5bGUuZGlzcGxheT10aGlzLmdyYXBoLmlzRW5hYmxlZCgpJiZ0aGlzLmdyYXBoLmdldFNlbGVjdGlvbkNvdW50KCk8dGhpcy5ncmFwaC5ncmFwaEhhbmRsZXIubWF4Q2VsbHM/IiI6Im5vbmUiKTt0aGlzLnJlZHJhd0hhbmRsZXMoKX0pO3RoaXMuY2hhbmdlSGFuZGxlcj1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhLGIpe3RoaXMudXBkYXRlTGlua0hpbnQodGhpcy5ncmFwaC5nZXRMaW5rRm9yQ2VsbCh0aGlzLnN0YXRlLmNlbGwpLHRoaXMuZ3JhcGguZ2V0TGlua3NGb3JTdGF0ZSh0aGlzLnN0YXRlKSk7YygpfSk7dGhpcy5ncmFwaC5nZXRTZWxlY3Rpb25Nb2RlbCgpLmFkZExpc3RlbmVyKG14RXZlbnQuQ0hBTkdFLHRoaXMuY2hhbmdlSGFuZGxlcik7dGhpcy5ncmFwaC5nZXRNb2RlbCgpLmFkZExpc3RlbmVyKG14RXZlbnQuQ0hBTkdFLAp0aGlzLmNoYW5nZUhhbmRsZXIpO3RoaXMuZWRpdGluZ0hhbmRsZXI9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSxiKXt0aGlzLnJlZHJhd0hhbmRsZXMoKX0pO3RoaXMuZ3JhcGguYWRkTGlzdGVuZXIobXhFdmVudC5FRElUSU5HX1NUT1BQRUQsdGhpcy5lZGl0aW5nSGFuZGxlcik7Yj10aGlzLmdyYXBoLmdldExpbmtGb3JDZWxsKHRoaXMuc3RhdGUuY2VsbCk7ZT10aGlzLmdyYXBoLmdldExpbmtzRm9yU3RhdGUodGhpcy5zdGF0ZSk7dGhpcy51cGRhdGVMaW5rSGludChiLGUpO2lmKG51bGwhPWJ8fG51bGwhPWUmJjA8ZS5sZW5ndGgpYT0hMDthJiZ0aGlzLnJlZHJhd0hhbmRsZXMoKX07bXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS51cGRhdGVMaW5rSGludD1mdW5jdGlvbihiLGUpe3RyeXtpZihudWxsPT1iJiYobnVsbD09ZXx8MD09ZS5sZW5ndGgpfHwxPHRoaXMuZ3JhcGguZ2V0U2VsZWN0aW9uQ291bnQoKSludWxsIT10aGlzLmxpbmtIaW50JiYodGhpcy5saW5rSGludC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMubGlua0hpbnQpLAp0aGlzLmxpbmtIaW50PW51bGwpO2Vsc2UgaWYobnVsbCE9Ynx8bnVsbCE9ZSYmMDxlLmxlbmd0aCl7bnVsbD09dGhpcy5saW5rSGludCYmKHRoaXMubGlua0hpbnQ9YSgpLHRoaXMubGlua0hpbnQuc3R5bGUucGFkZGluZz0iNnB4IDhweCA2cHggOHB4Iix0aGlzLmxpbmtIaW50LnN0eWxlLm9wYWNpdHk9IjEiLHRoaXMubGlua0hpbnQuc3R5bGUuZmlsdGVyPSIiLHRoaXMuZ3JhcGguY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMubGlua0hpbnQpKTt0aGlzLmxpbmtIaW50LmlubmVySFRNTD0iIjtpZihudWxsIT1iJiYodGhpcy5saW5rSGludC5hcHBlbmRDaGlsZCh0aGlzLmdyYXBoLmNyZWF0ZUxpbmtGb3JIaW50KGIpKSx0aGlzLmdyYXBoLmlzRW5hYmxlZCgpJiYiZnVuY3Rpb24iPT09dHlwZW9mIHRoaXMuZ3JhcGguZWRpdExpbmspKXt2YXIgYz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbWciKTtjLnNldEF0dHJpYnV0ZSgic3JjIixFZGl0b3IuZWRpdEltYWdlKTtjLnNldEF0dHJpYnV0ZSgidGl0bGUiLApteFJlc291cmNlcy5nZXQoImVkaXRMaW5rIikpO2Muc2V0QXR0cmlidXRlKCJ3aWR0aCIsIjExIik7Yy5zZXRBdHRyaWJ1dGUoImhlaWdodCIsIjExIik7Yy5zdHlsZS5tYXJnaW5MZWZ0PSIxMHB4IjtjLnN0eWxlLm1hcmdpbkJvdHRvbT0iLTFweCI7Yy5zdHlsZS5jdXJzb3I9InBvaW50ZXIiO3RoaXMubGlua0hpbnQuYXBwZW5kQ2hpbGQoYyk7bXhFdmVudC5hZGRMaXN0ZW5lcihjLCJjbGljayIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7dGhpcy5ncmFwaC5zZXRTZWxlY3Rpb25DZWxsKHRoaXMuc3RhdGUuY2VsbCk7dGhpcy5ncmFwaC5lZGl0TGluaygpO214RXZlbnQuY29uc3VtZShhKX0pKTt2YXIgZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbWciKTtkLnNldEF0dHJpYnV0ZSgic3JjIixEaWFsb2cucHJvdG90eXBlLmNsZWFySW1hZ2UpO2Quc2V0QXR0cmlidXRlKCJ0aXRsZSIsbXhSZXNvdXJjZXMuZ2V0KCJyZW1vdmVJdCIsW214UmVzb3VyY2VzLmdldCgibGluayIpXSkpOwpkLnNldEF0dHJpYnV0ZSgid2lkdGgiLCIxMyIpO2Quc2V0QXR0cmlidXRlKCJoZWlnaHQiLCIxMCIpO2Quc3R5bGUubWFyZ2luTGVmdD0iNHB4IjtkLnN0eWxlLm1hcmdpbkJvdHRvbT0iLTFweCI7ZC5zdHlsZS5jdXJzb3I9InBvaW50ZXIiO3RoaXMubGlua0hpbnQuYXBwZW5kQ2hpbGQoZCk7bXhFdmVudC5hZGRMaXN0ZW5lcihkLCJjbGljayIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7dGhpcy5ncmFwaC5zZXRMaW5rRm9yQ2VsbCh0aGlzLnN0YXRlLmNlbGwsbnVsbCk7bXhFdmVudC5jb25zdW1lKGEpfSkpfWlmKG51bGwhPWUpZm9yKGM9MDtjPGUubGVuZ3RoO2MrKyl7dmFyIGY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7Zi5zdHlsZS5tYXJnaW5Ub3A9bnVsbCE9Ynx8MDxjPyI2cHgiOiIwcHgiO2YuYXBwZW5kQ2hpbGQodGhpcy5ncmFwaC5jcmVhdGVMaW5rRm9ySGludChlW2NdLmdldEF0dHJpYnV0ZSgiaHJlZiIpLG14VXRpbHMuZ2V0VGV4dENvbnRlbnQoZVtjXSkpKTsKdGhpcy5saW5rSGludC5hcHBlbmRDaGlsZChmKX19fWNhdGNoKHFhKXt9fTtteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS51cGRhdGVMaW5rSGludD1teFZlcnRleEhhbmRsZXIucHJvdG90eXBlLnVwZGF0ZUxpbmtIaW50O3ZhciBlYT1teEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5pbml0O214RWRnZUhhbmRsZXIucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oKXtlYS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5jb25zdHJhaW50SGFuZGxlci5pc0VuYWJsZWQ9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdGF0ZS52aWV3LmdyYXBoLmNvbm5lY3Rpb25IYW5kbGVyLmlzRW5hYmxlZCgpfSk7dmFyIGE9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXtudWxsIT10aGlzLmxpbmtIaW50JiYodGhpcy5saW5rSGludC5zdHlsZS5kaXNwbGF5PTE9PXRoaXMuZ3JhcGguZ2V0U2VsZWN0aW9uQ291bnQoKT8iIjoibm9uZSIpO251bGwhPXRoaXMubGFiZWxTaGFwZSYmCih0aGlzLmxhYmVsU2hhcGUubm9kZS5zdHlsZS5kaXNwbGF5PXRoaXMuZ3JhcGguaXNFbmFibGVkKCkmJnRoaXMuZ3JhcGguZ2V0U2VsZWN0aW9uQ291bnQoKTx0aGlzLmdyYXBoLmdyYXBoSGFuZGxlci5tYXhDZWxscz8iIjoibm9uZSIpfSk7dGhpcy5jaGFuZ2VIYW5kbGVyPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGIsZSl7dGhpcy51cGRhdGVMaW5rSGludCh0aGlzLmdyYXBoLmdldExpbmtGb3JDZWxsKHRoaXMuc3RhdGUuY2VsbCksdGhpcy5ncmFwaC5nZXRMaW5rc0ZvclN0YXRlKHRoaXMuc3RhdGUpKTthKCk7dGhpcy5yZWRyYXdIYW5kbGVzKCl9KTt0aGlzLmdyYXBoLmdldFNlbGVjdGlvbk1vZGVsKCkuYWRkTGlzdGVuZXIobXhFdmVudC5DSEFOR0UsdGhpcy5jaGFuZ2VIYW5kbGVyKTt0aGlzLmdyYXBoLmdldE1vZGVsKCkuYWRkTGlzdGVuZXIobXhFdmVudC5DSEFOR0UsdGhpcy5jaGFuZ2VIYW5kbGVyKTt2YXIgYj10aGlzLmdyYXBoLmdldExpbmtGb3JDZWxsKHRoaXMuc3RhdGUuY2VsbCksCmU9dGhpcy5ncmFwaC5nZXRMaW5rc0ZvclN0YXRlKHRoaXMuc3RhdGUpO2lmKG51bGwhPWJ8fG51bGwhPWUmJjA8ZS5sZW5ndGgpdGhpcy51cGRhdGVMaW5rSGludChiLGUpLHRoaXMucmVkcmF3SGFuZGxlcygpfTt2YXIgTz1teENvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS5pbml0O214Q29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oKXtPLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLmNvbnN0cmFpbnRIYW5kbGVyLmlzRW5hYmxlZD1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3JldHVybiB0aGlzLmdyYXBoLmNvbm5lY3Rpb25IYW5kbGVyLmlzRW5hYmxlZCgpfSl9O3ZhciBYPW14VmVydGV4SGFuZGxlci5wcm90b3R5cGUucmVkcmF3SGFuZGxlcztteFZlcnRleEhhbmRsZXIucHJvdG90eXBlLnJlZHJhd0hhbmRsZXM9ZnVuY3Rpb24oKXtpZihudWxsIT10aGlzLm1vdmVIYW5kbGVzKWZvcih2YXIgYT0wO2E8dGhpcy5tb3ZlSGFuZGxlcy5sZW5ndGg7YSsrKXRoaXMubW92ZUhhbmRsZXNbYV0uc3R5bGUubGVmdD0KdGhpcy5tb3ZlSGFuZGxlc1thXS5yb3dTdGF0ZS54K3RoaXMubW92ZUhhbmRsZXNbYV0ucm93U3RhdGUud2lkdGgtMysicHgiLHRoaXMubW92ZUhhbmRsZXNbYV0uc3R5bGUudG9wPXRoaXMubW92ZUhhbmRsZXNbYV0ucm93U3RhdGUueSt0aGlzLm1vdmVIYW5kbGVzW2FdLnJvd1N0YXRlLmhlaWdodC8yLTIrInB4IjtpZihudWxsIT10aGlzLmNvcm5lckhhbmRsZXMpe3ZhciBhPXRoaXMuZ2V0U2VsZWN0aW9uQm9yZGVySW5zZXQoKSxiPXRoaXMuY29ybmVySGFuZGxlcyxlPWJbMF0uYm91bmRzLmhlaWdodC8yO2JbMF0uYm91bmRzLng9dGhpcy5zdGF0ZS54LWJbMF0uYm91bmRzLndpZHRoLzIrYTtiWzBdLmJvdW5kcy55PXRoaXMuc3RhdGUueS1lK2E7YlswXS5yZWRyYXcoKTtiWzFdLmJvdW5kcy54PWJbMF0uYm91bmRzLngrdGhpcy5zdGF0ZS53aWR0aC0yKmE7YlsxXS5ib3VuZHMueT1iWzBdLmJvdW5kcy55O2JbMV0ucmVkcmF3KCk7YlsyXS5ib3VuZHMueD1iWzBdLmJvdW5kcy54OwpiWzJdLmJvdW5kcy55PXRoaXMuc3RhdGUueSt0aGlzLnN0YXRlLmhlaWdodC0yKmE7YlsyXS5yZWRyYXcoKTtiWzNdLmJvdW5kcy54PWJbMV0uYm91bmRzLng7YlszXS5ib3VuZHMueT1iWzJdLmJvdW5kcy55O2JbM10ucmVkcmF3KCl9bnVsbCE9dGhpcy5yb3RhdGlvblNoYXBlJiZudWxsIT10aGlzLnJvdGF0aW9uU2hhcGUubm9kZSYmKHRoaXMucm90YXRpb25TaGFwZS5ub2RlLnN0eWxlLmRpc3BsYXk9bnVsbCE9dGhpcy5tb3ZlSGFuZGxlc3x8MSE9dGhpcy5ncmFwaC5nZXRTZWxlY3Rpb25Db3VudCgpfHxudWxsIT10aGlzLmluZGV4JiZ0aGlzLmluZGV4IT1teEV2ZW50LlJPVEFUSU9OX0hBTkRMRT8ibm9uZSI6IiIpO1guYXBwbHkodGhpcyk7bnVsbCE9dGhpcy5zdGF0ZSYmbnVsbCE9dGhpcy5saW5rSGludCYmKGE9bmV3IG14UG9pbnQodGhpcy5zdGF0ZS5nZXRDZW50ZXJYKCksdGhpcy5zdGF0ZS5nZXRDZW50ZXJZKCkpLGI9bmV3IG14UmVjdGFuZ2xlKHRoaXMuc3RhdGUueCwKdGhpcy5zdGF0ZS55LTIyLHRoaXMuc3RhdGUud2lkdGgrMjQsdGhpcy5zdGF0ZS5oZWlnaHQrMjIpLGU9bXhVdGlscy5nZXRCb3VuZGluZ0JveChiLHRoaXMuc3RhdGUuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfUk9UQVRJT05dfHwiMCIsYSksYT1udWxsIT1lP214VXRpbHMuZ2V0Qm91bmRpbmdCb3godGhpcy5zdGF0ZSx0aGlzLnN0YXRlLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX1JPVEFUSU9OXXx8IjAiKTp0aGlzLnN0YXRlLGI9bnVsbCE9dGhpcy5zdGF0ZS50ZXh0P3RoaXMuc3RhdGUudGV4dC5ib3VuZGluZ0JveDpudWxsLG51bGw9PWUmJihlPXRoaXMuc3RhdGUpLGU9ZS55K2UuaGVpZ2h0LG51bGwhPWImJihlPU1hdGgubWF4KGUsYi55K2IuaGVpZ2h0KSksdGhpcy5saW5rSGludC5zdHlsZS5sZWZ0PU1hdGgubWF4KDAsTWF0aC5yb3VuZChhLngrKGEud2lkdGgtdGhpcy5saW5rSGludC5jbGllbnRXaWR0aCkvMikpKyJweCIsdGhpcy5saW5rSGludC5zdHlsZS50b3A9TWF0aC5yb3VuZChlKwp0aGlzLnZlcnRpY2FsT2Zmc2V0LzIrRWRpdG9yLmhpbnRPZmZzZXQpKyJweCIpfTt2YXIgZ2E9bXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5kZXN0cm95O214VmVydGV4SGFuZGxlci5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe2dhLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtpZihudWxsIT10aGlzLm1vdmVIYW5kbGVzKXtmb3IodmFyIGE9MDthPHRoaXMubW92ZUhhbmRsZXMubGVuZ3RoO2ErKyl0aGlzLm1vdmVIYW5kbGVzW2FdLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5tb3ZlSGFuZGxlc1thXSk7dGhpcy5tb3ZlSGFuZGxlcz1udWxsfWlmKG51bGwhPXRoaXMuY29ybmVySGFuZGxlcyl7Zm9yKGE9MDthPHRoaXMuY29ybmVySGFuZGxlcy5sZW5ndGg7YSsrKXRoaXMuY29ybmVySGFuZGxlc1thXS5ub2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5jb3JuZXJIYW5kbGVzW2FdLm5vZGUpO3RoaXMuY29ybmVySGFuZGxlcz1udWxsfW51bGwhPXRoaXMubGlua0hpbnQmJgoodGhpcy5saW5rSGludC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMubGlua0hpbnQpLHRoaXMubGlua0hpbnQ9bnVsbCk7bnVsbCE9dGhpcy5jaGFuZ2VIYW5kbGVyJiYodGhpcy5ncmFwaC5nZXRTZWxlY3Rpb25Nb2RlbCgpLnJlbW92ZUxpc3RlbmVyKHRoaXMuY2hhbmdlSGFuZGxlciksdGhpcy5ncmFwaC5nZXRNb2RlbCgpLnJlbW92ZUxpc3RlbmVyKHRoaXMuY2hhbmdlSGFuZGxlciksdGhpcy5jaGFuZ2VIYW5kbGVyPW51bGwpO251bGwhPXRoaXMuZWRpdGluZ0hhbmRsZXImJih0aGlzLmdyYXBoLnJlbW92ZUxpc3RlbmVyKHRoaXMuZWRpdGluZ0hhbmRsZXIpLHRoaXMuZWRpdGluZ0hhbmRsZXI9bnVsbCl9O3ZhciB4YT1teEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5yZWRyYXdIYW5kbGVzO214RWRnZUhhbmRsZXIucHJvdG90eXBlLnJlZHJhd0hhbmRsZXM9ZnVuY3Rpb24oKXtpZihudWxsIT10aGlzLm1hcmtlciYmKHhhLmFwcGx5KHRoaXMpLG51bGwhPXRoaXMuc3RhdGUmJm51bGwhPQp0aGlzLmxpbmtIaW50KSl7dmFyIGE9dGhpcy5zdGF0ZTtudWxsIT10aGlzLnN0YXRlLnRleHQmJm51bGwhPXRoaXMuc3RhdGUudGV4dC5ib3VuZHMmJihhPW5ldyBteFJlY3RhbmdsZShhLngsYS55LGEud2lkdGgsYS5oZWlnaHQpLGEuYWRkKHRoaXMuc3RhdGUudGV4dC5ib3VuZHMpKTt0aGlzLmxpbmtIaW50LnN0eWxlLmxlZnQ9TWF0aC5tYXgoMCxNYXRoLnJvdW5kKGEueCsoYS53aWR0aC10aGlzLmxpbmtIaW50LmNsaWVudFdpZHRoKS8yKSkrInB4Ijt0aGlzLmxpbmtIaW50LnN0eWxlLnRvcD1NYXRoLnJvdW5kKGEueSthLmhlaWdodCtFZGl0b3IuaGludE9mZnNldCkrInB4In19O3ZhciBOPW14RWRnZUhhbmRsZXIucHJvdG90eXBlLnJlc2V0O214RWRnZUhhbmRsZXIucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7Ti5hcHBseSh0aGlzLGFyZ3VtZW50cyk7bnVsbCE9dGhpcy5saW5rSGludCYmKHRoaXMubGlua0hpbnQuc3R5bGUudmlzaWJpbGl0eT0iIil9O3ZhciBoYT1teEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5kZXN0cm95OwpteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7aGEuYXBwbHkodGhpcyxhcmd1bWVudHMpO251bGwhPXRoaXMubGlua0hpbnQmJih0aGlzLmxpbmtIaW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5saW5rSGludCksdGhpcy5saW5rSGludD1udWxsKTtudWxsIT10aGlzLmNoYW5nZUhhbmRsZXImJih0aGlzLmdyYXBoLmdldE1vZGVsKCkucmVtb3ZlTGlzdGVuZXIodGhpcy5jaGFuZ2VIYW5kbGVyKSx0aGlzLmdyYXBoLmdldFNlbGVjdGlvbk1vZGVsKCkucmVtb3ZlTGlzdGVuZXIodGhpcy5jaGFuZ2VIYW5kbGVyKSx0aGlzLmNoYW5nZUhhbmRsZXI9bnVsbCl9fSgpOyhmdW5jdGlvbigpe2Z1bmN0aW9uIGEoKXtteEN5bGluZGVyLmNhbGwodGhpcyl9ZnVuY3Rpb24gYygpe214QWN0b3IuY2FsbCh0aGlzKX1mdW5jdGlvbiBmKCl7bXhDeWxpbmRlci5jYWxsKHRoaXMpfWZ1bmN0aW9uIGQoKXtteEN5bGluZGVyLmNhbGwodGhpcyl9ZnVuY3Rpb24gaygpe214Q3lsaW5kZXIuY2FsbCh0aGlzKX1mdW5jdGlvbiBtKCl7bXhBY3Rvci5jYWxsKHRoaXMpfWZ1bmN0aW9uIHEoKXtteEN5bGluZGVyLmNhbGwodGhpcyl9ZnVuY3Rpb24gYigpe214QWN0b3IuY2FsbCh0aGlzKX1mdW5jdGlvbiBlKCl7bXhBY3Rvci5jYWxsKHRoaXMpfWZ1bmN0aW9uIGcoKXtteEFjdG9yLmNhbGwodGhpcyl9ZnVuY3Rpb24gbigpe214QWN0b3IuY2FsbCh0aGlzKX1mdW5jdGlvbiBsKCl7bXhBY3Rvci5jYWxsKHRoaXMpfWZ1bmN0aW9uIHAoKXtteEFjdG9yLmNhbGwodGhpcyl9ZnVuY3Rpb24gdigpe214QWN0b3IuY2FsbCh0aGlzKX1mdW5jdGlvbiB0KGEsYil7dGhpcy5jYW52YXM9CmE7dGhpcy5jYW52YXMuc2V0TGluZUpvaW4oInJvdW5kIik7dGhpcy5jYW52YXMuc2V0TGluZUNhcCgicm91bmQiKTt0aGlzLmRlZmF1bHRWYXJpYXRpb249Yjt0aGlzLm9yaWdpbmFsTGluZVRvPXRoaXMuY2FudmFzLmxpbmVUbzt0aGlzLmNhbnZhcy5saW5lVG89bXhVdGlscy5iaW5kKHRoaXMsdC5wcm90b3R5cGUubGluZVRvKTt0aGlzLm9yaWdpbmFsTW92ZVRvPXRoaXMuY2FudmFzLm1vdmVUbzt0aGlzLmNhbnZhcy5tb3ZlVG89bXhVdGlscy5iaW5kKHRoaXMsdC5wcm90b3R5cGUubW92ZVRvKTt0aGlzLm9yaWdpbmFsQ2xvc2U9dGhpcy5jYW52YXMuY2xvc2U7dGhpcy5jYW52YXMuY2xvc2U9bXhVdGlscy5iaW5kKHRoaXMsdC5wcm90b3R5cGUuY2xvc2UpO3RoaXMub3JpZ2luYWxRdWFkVG89dGhpcy5jYW52YXMucXVhZFRvO3RoaXMuY2FudmFzLnF1YWRUbz1teFV0aWxzLmJpbmQodGhpcyx0LnByb3RvdHlwZS5xdWFkVG8pO3RoaXMub3JpZ2luYWxDdXJ2ZVRvPXRoaXMuY2FudmFzLmN1cnZlVG87CnRoaXMuY2FudmFzLmN1cnZlVG89bXhVdGlscy5iaW5kKHRoaXMsdC5wcm90b3R5cGUuY3VydmVUbyk7dGhpcy5vcmlnaW5hbEFyY1RvPXRoaXMuY2FudmFzLmFyY1RvO3RoaXMuY2FudmFzLmFyY1RvPW14VXRpbHMuYmluZCh0aGlzLHQucHJvdG90eXBlLmFyY1RvKX1mdW5jdGlvbiB5KCl7bXhSZWN0YW5nbGVTaGFwZS5jYWxsKHRoaXMpfWZ1bmN0aW9uIHgoKXtteFJlY3RhbmdsZVNoYXBlLmNhbGwodGhpcyl9ZnVuY3Rpb24gQygpe214QWN0b3IuY2FsbCh0aGlzKX1mdW5jdGlvbiBCKCl7bXhBY3Rvci5jYWxsKHRoaXMpfWZ1bmN0aW9uIEQoKXtteEFjdG9yLmNhbGwodGhpcyl9ZnVuY3Rpb24geigpe214UmVjdGFuZ2xlU2hhcGUuY2FsbCh0aGlzKX1mdW5jdGlvbiBFKCl7bXhSZWN0YW5nbGVTaGFwZS5jYWxsKHRoaXMpfWZ1bmN0aW9uIEcoKXtteEN5bGluZGVyLmNhbGwodGhpcyl9ZnVuY3Rpb24gRigpe214U2hhcGUuY2FsbCh0aGlzKX1mdW5jdGlvbiBIKCl7bXhTaGFwZS5jYWxsKHRoaXMpfQpmdW5jdGlvbiBKKCl7bXhFbGxpcHNlLmNhbGwodGhpcyl9ZnVuY3Rpb24gdSgpe214U2hhcGUuY2FsbCh0aGlzKX1mdW5jdGlvbiBLKCl7bXhTaGFwZS5jYWxsKHRoaXMpfWZ1bmN0aW9uIEEoKXtteFJlY3RhbmdsZVNoYXBlLmNhbGwodGhpcyl9ZnVuY3Rpb24gTSgpe214U2hhcGUuY2FsbCh0aGlzKX1mdW5jdGlvbiBRKCl7bXhTaGFwZS5jYWxsKHRoaXMpfWZ1bmN0aW9uIEkoKXtteFNoYXBlLmNhbGwodGhpcyl9ZnVuY3Rpb24gUigpe214U2hhcGUuY2FsbCh0aGlzKX1mdW5jdGlvbiBaKCl7bXhTaGFwZS5jYWxsKHRoaXMpfWZ1bmN0aW9uIFcoKXtteEN5bGluZGVyLmNhbGwodGhpcyl9ZnVuY3Rpb24gaWEoKXtteEN5bGluZGVyLmNhbGwodGhpcyl9ZnVuY3Rpb24gYmEoKXtteFJlY3RhbmdsZVNoYXBlLmNhbGwodGhpcyl9ZnVuY3Rpb24gVSgpe214RG91YmxlRWxsaXBzZS5jYWxsKHRoaXMpfWZ1bmN0aW9uIGNhKCl7bXhEb3VibGVFbGxpcHNlLmNhbGwodGhpcyl9ZnVuY3Rpb24gZGEoKXtteEFycm93Q29ubmVjdG9yLmNhbGwodGhpcyk7CnRoaXMuc3BhY2luZz0wfWZ1bmN0aW9uIGFhKCl7bXhBcnJvd0Nvbm5lY3Rvci5jYWxsKHRoaXMpO3RoaXMuc3BhY2luZz0wfWZ1bmN0aW9uIFQoKXtteEFjdG9yLmNhbGwodGhpcyl9ZnVuY3Rpb24gWSgpe214UmVjdGFuZ2xlU2hhcGUuY2FsbCh0aGlzKX1mdW5jdGlvbiBQKCl7bXhBY3Rvci5jYWxsKHRoaXMpfWZ1bmN0aW9uIEwoKXtteEFjdG9yLmNhbGwodGhpcyl9ZnVuY3Rpb24gZWEoKXtteEFjdG9yLmNhbGwodGhpcyl9ZnVuY3Rpb24gTygpe214QWN0b3IuY2FsbCh0aGlzKX1mdW5jdGlvbiBYKCl7bXhBY3Rvci5jYWxsKHRoaXMpfWZ1bmN0aW9uIGdhKCl7bXhBY3Rvci5jYWxsKHRoaXMpfWZ1bmN0aW9uIHhhKCl7bXhBY3Rvci5jYWxsKHRoaXMpfWZ1bmN0aW9uIE4oKXtteEFjdG9yLmNhbGwodGhpcyl9ZnVuY3Rpb24gaGEoKXtteEFjdG9yLmNhbGwodGhpcyl9ZnVuY3Rpb24gUygpe214QWN0b3IuY2FsbCh0aGlzKX1mdW5jdGlvbiBmYSgpe214RWxsaXBzZS5jYWxsKHRoaXMpfQpmdW5jdGlvbiBwYSgpe214RWxsaXBzZS5jYWxsKHRoaXMpfWZ1bmN0aW9uIHJhKCl7bXhFbGxpcHNlLmNhbGwodGhpcyl9ZnVuY3Rpb24gbGEoKXtteFJob21idXMuY2FsbCh0aGlzKX1mdW5jdGlvbiBxYSgpe214RWxsaXBzZS5jYWxsKHRoaXMpfWZ1bmN0aW9uIG5hKCl7bXhFbGxpcHNlLmNhbGwodGhpcyl9ZnVuY3Rpb24gQWEoKXtteEVsbGlwc2UuY2FsbCh0aGlzKX1mdW5jdGlvbiB5YSgpe214RWxsaXBzZS5jYWxsKHRoaXMpfWZ1bmN0aW9uIG9hKCl7bXhBY3Rvci5jYWxsKHRoaXMpfWZ1bmN0aW9uIHNhKCl7bXhBY3Rvci5jYWxsKHRoaXMpfWZ1bmN0aW9uIHVhKCl7bXhBY3Rvci5jYWxsKHRoaXMpfWZ1bmN0aW9uIGphKCl7bXhDb25uZWN0b3IuY2FsbCh0aGlzKX1mdW5jdGlvbiBEYShhLGIsZSxjLGQsZixnLGwsbix1KXtnKz1uO3ZhciBrYT1jLmNsb25lKCk7Yy54LT1kKigyKmcrbik7Yy55LT1mKigyKmcrbik7ZCo9ZytuO2YqPWcrbjtyZXR1cm4gZnVuY3Rpb24oKXthLmVsbGlwc2Uoa2EueC0KZC1nLGthLnktZi1nLDIqZywyKmcpO3U/YS5maWxsQW5kU3Ryb2tlKCk6YS5zdHJva2UoKX19bXhVdGlscy5leHRlbmQoYSxteEN5bGluZGVyKTthLnByb3RvdHlwZS5zaXplPTIwO2EucHJvdG90eXBlLmRhcmtPcGFjaXR5PTA7YS5wcm90b3R5cGUuZGFya09wYWNpdHkyPTA7YS5wcm90b3R5cGUucGFpbnRWZXJ0ZXhTaGFwZT1mdW5jdGlvbihhLGIsZSxjLGQpe3ZhciBmPU1hdGgubWF4KDAsTWF0aC5taW4oYyxNYXRoLm1pbihkLHBhcnNlRmxvYXQobXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLCJzaXplIix0aGlzLnNpemUpKSkpKSxnPU1hdGgubWF4KC0xLE1hdGgubWluKDEscGFyc2VGbG9hdChteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsImRhcmtPcGFjaXR5Iix0aGlzLmRhcmtPcGFjaXR5KSkpKSxrYT1NYXRoLm1heCgtMSxNYXRoLm1pbigxLHBhcnNlRmxvYXQobXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLCJkYXJrT3BhY2l0eTIiLHRoaXMuZGFya09wYWNpdHkyKSkpKTsKYS50cmFuc2xhdGUoYixlKTthLmJlZ2luKCk7YS5tb3ZlVG8oMCwwKTthLmxpbmVUbyhjLWYsMCk7YS5saW5lVG8oYyxmKTthLmxpbmVUbyhjLGQpO2EubGluZVRvKGYsZCk7YS5saW5lVG8oMCxkLWYpO2EubGluZVRvKDAsMCk7YS5jbG9zZSgpO2EuZW5kKCk7YS5maWxsQW5kU3Ryb2tlKCk7dGhpcy5vdXRsaW5lfHwoYS5zZXRTaGFkb3coITEpLDAhPWcmJihhLnNldEZpbGxBbHBoYShNYXRoLmFicyhnKSksYS5zZXRGaWxsQ29sb3IoMD5nPyIjRkZGRkZGIjoiIzAwMDAwMCIpLGEuYmVnaW4oKSxhLm1vdmVUbygwLDApLGEubGluZVRvKGMtZiwwKSxhLmxpbmVUbyhjLGYpLGEubGluZVRvKGYsZiksYS5jbG9zZSgpLGEuZmlsbCgpKSwwIT1rYSYmKGEuc2V0RmlsbEFscGhhKE1hdGguYWJzKGthKSksYS5zZXRGaWxsQ29sb3IoMD5rYT8iI0ZGRkZGRiI6IiMwMDAwMDAiKSxhLmJlZ2luKCksYS5tb3ZlVG8oMCwwKSxhLmxpbmVUbyhmLGYpLGEubGluZVRvKGYsZCksYS5saW5lVG8oMCxkLQpmKSxhLmNsb3NlKCksYS5maWxsKCkpLGEuYmVnaW4oKSxhLm1vdmVUbyhmLGQpLGEubGluZVRvKGYsZiksYS5saW5lVG8oMCwwKSxhLm1vdmVUbyhmLGYpLGEubGluZVRvKGMsZiksYS5lbmQoKSxhLnN0cm9rZSgpKX07YS5wcm90b3R5cGUuZ2V0TGFiZWxNYXJnaW5zPWZ1bmN0aW9uKGEpe3JldHVybiBteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsImJvdW5kZWRMYmwiLCExKT8oYT1wYXJzZUZsb2F0KG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSwic2l6ZSIsdGhpcy5zaXplKSkqdGhpcy5zY2FsZSxuZXcgbXhSZWN0YW5nbGUoYSxhLDAsMCkpOm51bGx9O214Q2VsbFJlbmRlcmVyLnJlZ2lzdGVyU2hhcGUoImN1YmUiLGEpO3ZhciB2YT1NYXRoLnRhbihteFV0aWxzLnRvUmFkaWFucygzMCkpLG1hPSguNS12YSkvMjtteFV0aWxzLmV4dGVuZChjLG14QWN0b3IpO2MucHJvdG90eXBlLnNpemU9MjA7Yy5wcm90b3R5cGUucmVkcmF3UGF0aD1mdW5jdGlvbihhLGIsZSxjLGQpe2I9Ck1hdGgubWluKGMsZC92YSk7YS50cmFuc2xhdGUoKGMtYikvMiwoZC1iKS8yK2IvNCk7YS5tb3ZlVG8oMCwuMjUqYik7YS5saW5lVG8oLjUqYixiKm1hKTthLmxpbmVUbyhiLC4yNSpiKTthLmxpbmVUbyguNSpiLCguNS1tYSkqYik7YS5saW5lVG8oMCwuMjUqYik7YS5jbG9zZSgpO2EuZW5kKCl9O214Q2VsbFJlbmRlcmVyLnJlZ2lzdGVyU2hhcGUoImlzb1JlY3RhbmdsZSIsYyk7bXhVdGlscy5leHRlbmQoZixteEN5bGluZGVyKTtmLnByb3RvdHlwZS5zaXplPTIwO2YucHJvdG90eXBlLnJlZHJhd1BhdGg9ZnVuY3Rpb24oYSxiLGUsYyxkLGYpe2I9TWF0aC5taW4oYyxkLyguNSt2YSkpO2Y/KGEubW92ZVRvKDAsLjI1KmIpLGEubGluZVRvKC41KmIsKC41LW1hKSpiKSxhLmxpbmVUbyhiLC4yNSpiKSxhLm1vdmVUbyguNSpiLCguNS1tYSkqYiksYS5saW5lVG8oLjUqYiwoMS1tYSkqYikpOihhLnRyYW5zbGF0ZSgoYy1iKS8yLChkLWIpLzIpLGEubW92ZVRvKDAsLjI1KmIpLGEubGluZVRvKC41KgpiLGIqbWEpLGEubGluZVRvKGIsLjI1KmIpLGEubGluZVRvKGIsLjc1KmIpLGEubGluZVRvKC41KmIsKDEtbWEpKmIpLGEubGluZVRvKDAsLjc1KmIpLGEuY2xvc2UoKSk7YS5lbmQoKX07bXhDZWxsUmVuZGVyZXIucmVnaXN0ZXJTaGFwZSgiaXNvQ3ViZSIsZik7bXhVdGlscy5leHRlbmQoZCxteEN5bGluZGVyKTtkLnByb3RvdHlwZS5yZWRyYXdQYXRoPWZ1bmN0aW9uKGEsYixlLGMsZCxmKXtiPU1hdGgubWluKGQvMixNYXRoLnJvdW5kKGQvOCkrdGhpcy5zdHJva2V3aWR0aC0xKTtpZihmJiZudWxsIT10aGlzLmZpbGx8fCFmJiZudWxsPT10aGlzLmZpbGwpYS5tb3ZlVG8oMCxiKSxhLmN1cnZlVG8oMCwyKmIsYywyKmIsYyxiKSxmfHwoYS5zdHJva2UoKSxhLmJlZ2luKCkpLGEudHJhbnNsYXRlKDAsYi8yKSxhLm1vdmVUbygwLGIpLGEuY3VydmVUbygwLDIqYixjLDIqYixjLGIpLGZ8fChhLnN0cm9rZSgpLGEuYmVnaW4oKSksYS50cmFuc2xhdGUoMCxiLzIpLGEubW92ZVRvKDAsYiksCmEuY3VydmVUbygwLDIqYixjLDIqYixjLGIpLGZ8fChhLnN0cm9rZSgpLGEuYmVnaW4oKSksYS50cmFuc2xhdGUoMCwtYik7Znx8KGEubW92ZVRvKDAsYiksYS5jdXJ2ZVRvKDAsLWIvMyxjLC1iLzMsYyxiKSxhLmxpbmVUbyhjLGQtYiksYS5jdXJ2ZVRvKGMsZCtiLzMsMCxkK2IvMywwLGQtYiksYS5jbG9zZSgpKX07ZC5wcm90b3R5cGUuZ2V0TGFiZWxNYXJnaW5zPWZ1bmN0aW9uKGEpe3JldHVybiBuZXcgbXhSZWN0YW5nbGUoMCwyLjUqTWF0aC5taW4oYS5oZWlnaHQvMixNYXRoLnJvdW5kKGEuaGVpZ2h0LzgpK3RoaXMuc3Ryb2tld2lkdGgtMSksMCwwKX07bXhDZWxsUmVuZGVyZXIucmVnaXN0ZXJTaGFwZSgiZGF0YXN0b3JlIixkKTtteFV0aWxzLmV4dGVuZChrLG14Q3lsaW5kZXIpO2sucHJvdG90eXBlLnNpemU9MzA7ay5wcm90b3R5cGUuZGFya09wYWNpdHk9MDtrLnByb3RvdHlwZS5wYWludFZlcnRleFNoYXBlPWZ1bmN0aW9uKGEsYixlLGMsZCl7dmFyIGY9TWF0aC5tYXgoMCwKTWF0aC5taW4oYyxNYXRoLm1pbihkLHBhcnNlRmxvYXQobXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLCJzaXplIix0aGlzLnNpemUpKSkpKSxnPU1hdGgubWF4KC0xLE1hdGgubWluKDEscGFyc2VGbG9hdChteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsImRhcmtPcGFjaXR5Iix0aGlzLmRhcmtPcGFjaXR5KSkpKTthLnRyYW5zbGF0ZShiLGUpO2EuYmVnaW4oKTthLm1vdmVUbygwLDApO2EubGluZVRvKGMtZiwwKTthLmxpbmVUbyhjLGYpO2EubGluZVRvKGMsZCk7YS5saW5lVG8oMCxkKTthLmxpbmVUbygwLDApO2EuY2xvc2UoKTthLmVuZCgpO2EuZmlsbEFuZFN0cm9rZSgpO3RoaXMub3V0bGluZXx8KGEuc2V0U2hhZG93KCExKSwwIT1nJiYoYS5zZXRGaWxsQWxwaGEoTWF0aC5hYnMoZykpLGEuc2V0RmlsbENvbG9yKDA+Zz8iI0ZGRkZGRiI6IiMwMDAwMDAiKSxhLmJlZ2luKCksYS5tb3ZlVG8oYy1mLDApLGEubGluZVRvKGMtZixmKSxhLmxpbmVUbyhjLGYpLGEuY2xvc2UoKSwKYS5maWxsKCkpLGEuYmVnaW4oKSxhLm1vdmVUbyhjLWYsMCksYS5saW5lVG8oYy1mLGYpLGEubGluZVRvKGMsZiksYS5lbmQoKSxhLnN0cm9rZSgpKX07bXhDZWxsUmVuZGVyZXIucmVnaXN0ZXJTaGFwZSgibm90ZSIsayk7bXhVdGlscy5leHRlbmQobSxteEFjdG9yKTttLnByb3RvdHlwZS5yZWRyYXdQYXRoPWZ1bmN0aW9uKGEsYixlLGMsZCl7YS5tb3ZlVG8oMCwwKTthLnF1YWRUbyhjLzIsLjUqZCxjLDApO2EucXVhZFRvKC41KmMsZC8yLGMsZCk7YS5xdWFkVG8oYy8yLC41KmQsMCxkKTthLnF1YWRUbyguNSpjLGQvMiwwLDApO2EuZW5kKCl9O214Q2VsbFJlbmRlcmVyLnJlZ2lzdGVyU2hhcGUoInN3aXRjaCIsbSk7bXhVdGlscy5leHRlbmQocSxteEN5bGluZGVyKTtxLnByb3RvdHlwZS50YWJXaWR0aD02MDtxLnByb3RvdHlwZS50YWJIZWlnaHQ9MjA7cS5wcm90b3R5cGUudGFiUG9zaXRpb249InJpZ2h0IjtxLnByb3RvdHlwZS5yZWRyYXdQYXRoPWZ1bmN0aW9uKGEsYixlLGMsCmQsZil7Yj1NYXRoLm1heCgwLE1hdGgubWluKGMscGFyc2VGbG9hdChteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsInRhYldpZHRoIix0aGlzLnRhYldpZHRoKSkpKTtlPU1hdGgubWF4KDAsTWF0aC5taW4oZCxwYXJzZUZsb2F0KG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSwidGFiSGVpZ2h0Iix0aGlzLnRhYkhlaWdodCkpKSk7dmFyIGc9bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLCJ0YWJQb3NpdGlvbiIsdGhpcy50YWJQb3NpdGlvbik7Zj8ibGVmdCI9PWc/KGEubW92ZVRvKDAsZSksYS5saW5lVG8oYixlKSk6KGEubW92ZVRvKGMtYixlKSxhLmxpbmVUbyhjLGUpKTooImxlZnQiPT1nPyhhLm1vdmVUbygwLDApLGEubGluZVRvKGIsMCksYS5saW5lVG8oYixlKSxhLmxpbmVUbyhjLGUpKTooYS5tb3ZlVG8oMCxlKSxhLmxpbmVUbyhjLWIsZSksYS5saW5lVG8oYy1iLDApLGEubGluZVRvKGMsMCkpLGEubGluZVRvKGMsZCksYS5saW5lVG8oMCxkKSxhLmxpbmVUbygwLAplKSxhLmNsb3NlKCkpO2EuZW5kKCl9O214Q2VsbFJlbmRlcmVyLnJlZ2lzdGVyU2hhcGUoImZvbGRlciIscSk7bXhVdGlscy5leHRlbmQoYixteEFjdG9yKTtiLnByb3RvdHlwZS5zaXplPTMwO2IucHJvdG90eXBlLmlzUm91bmRhYmxlPWZ1bmN0aW9uKCl7cmV0dXJuITB9O2IucHJvdG90eXBlLnJlZHJhd1BhdGg9ZnVuY3Rpb24oYSxiLGUsYyxkKXtiPU1hdGgubWF4KDAsTWF0aC5taW4oYyxNYXRoLm1pbihkLHBhcnNlRmxvYXQobXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLCJzaXplIix0aGlzLnNpemUpKSkpKTtlPW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9BUkNTSVpFLG14Q29uc3RhbnRzLkxJTkVfQVJDU0laRSkvMjt0aGlzLmFkZFBvaW50cyhhLFtuZXcgbXhQb2ludChiLDApLG5ldyBteFBvaW50KGMsMCksbmV3IG14UG9pbnQoYyxkKSxuZXcgbXhQb2ludCgwLGQpLG5ldyBteFBvaW50KDAsYildLHRoaXMuaXNSb3VuZGVkLGUsITApOwphLmVuZCgpfTtteENlbGxSZW5kZXJlci5yZWdpc3RlclNoYXBlKCJjYXJkIixiKTtteFV0aWxzLmV4dGVuZChlLG14QWN0b3IpO2UucHJvdG90eXBlLnNpemU9LjQ7ZS5wcm90b3R5cGUucmVkcmF3UGF0aD1mdW5jdGlvbihhLGIsZSxjLGQpe2I9ZCpNYXRoLm1heCgwLE1hdGgubWluKDEscGFyc2VGbG9hdChteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsInNpemUiLHRoaXMuc2l6ZSkpKSk7YS5tb3ZlVG8oMCxiLzIpO2EucXVhZFRvKGMvNCwxLjQqYixjLzIsYi8yKTthLnF1YWRUbygzKmMvNCxiKigxLTEuNCksYyxiLzIpO2EubGluZVRvKGMsZC1iLzIpO2EucXVhZFRvKDMqYy80LGQtMS40KmIsYy8yLGQtYi8yKTthLnF1YWRUbyhjLzQsZC1iKigxLTEuNCksMCxkLWIvMik7YS5saW5lVG8oMCxiLzIpO2EuY2xvc2UoKTthLmVuZCgpfTtlLnByb3RvdHlwZS5nZXRMYWJlbEJvdW5kcz1mdW5jdGlvbihhKXtpZihteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsImJvdW5kZWRMYmwiLAohMSkpe3ZhciBiPW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSwic2l6ZSIsdGhpcy5zaXplKSxlPWEud2lkdGgsYz1hLmhlaWdodDtpZihudWxsPT10aGlzLmRpcmVjdGlvbnx8dGhpcy5kaXJlY3Rpb249PW14Q29uc3RhbnRzLkRJUkVDVElPTl9FQVNUfHx0aGlzLmRpcmVjdGlvbj09bXhDb25zdGFudHMuRElSRUNUSU9OX1dFU1QpcmV0dXJuIGIqPWMsbmV3IG14UmVjdGFuZ2xlKGEueCxhLnkrYixlLGMtMipiKTtiKj1lO3JldHVybiBuZXcgbXhSZWN0YW5nbGUoYS54K2IsYS55LGUtMipiLGMpfXJldHVybiBhfTtteENlbGxSZW5kZXJlci5yZWdpc3RlclNoYXBlKCJ0YXBlIixlKTtteFV0aWxzLmV4dGVuZChnLG14QWN0b3IpO2cucHJvdG90eXBlLnNpemU9LjM7Zy5wcm90b3R5cGUuZ2V0TGFiZWxNYXJnaW5zPWZ1bmN0aW9uKGEpe3JldHVybiBteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsImJvdW5kZWRMYmwiLCExKT9uZXcgbXhSZWN0YW5nbGUoMCwwLDAscGFyc2VGbG9hdChteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsCiJzaXplIix0aGlzLnNpemUpKSphLmhlaWdodCk6bnVsbH07Zy5wcm90b3R5cGUucmVkcmF3UGF0aD1mdW5jdGlvbihhLGIsZSxjLGQpe2I9ZCpNYXRoLm1heCgwLE1hdGgubWluKDEscGFyc2VGbG9hdChteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsInNpemUiLHRoaXMuc2l6ZSkpKSk7YS5tb3ZlVG8oMCwwKTthLmxpbmVUbyhjLDApO2EubGluZVRvKGMsZC1iLzIpO2EucXVhZFRvKDMqYy80LGQtMS40KmIsYy8yLGQtYi8yKTthLnF1YWRUbyhjLzQsZC1iKigxLTEuNCksMCxkLWIvMik7YS5saW5lVG8oMCxiLzIpO2EuY2xvc2UoKTthLmVuZCgpfTtteENlbGxSZW5kZXJlci5yZWdpc3RlclNoYXBlKCJkb2N1bWVudCIsZyk7dmFyIHphPW14Q3lsaW5kZXIucHJvdG90eXBlLmdldEN5bGluZGVyU2l6ZTtteEN5bGluZGVyLnByb3RvdHlwZS5nZXRDeWxpbmRlclNpemU9ZnVuY3Rpb24oYSxiLGUsYyl7dmFyIGQ9bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLCJzaXplIik7cmV0dXJuIG51bGwhPQpkP2MqTWF0aC5tYXgoMCxNYXRoLm1pbigxLGQpKTp6YS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O214Q3lsaW5kZXIucHJvdG90eXBlLmdldExhYmVsTWFyZ2lucz1mdW5jdGlvbihhKXtpZihteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsImJvdW5kZWRMYmwiLCExKSl7dmFyIGI9MipteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsInNpemUiLC4xNSk7cmV0dXJuIG5ldyBteFJlY3RhbmdsZSgwLE1hdGgubWluKHRoaXMubWF4SGVpZ2h0KnRoaXMuc2NhbGUsYS5oZWlnaHQqYiksMCwwKX1yZXR1cm4gbnVsbH07bXhVdGlscy5leHRlbmQobixteEFjdG9yKTtuLnByb3RvdHlwZS5zaXplPS4yO24ucHJvdG90eXBlLmlzUm91bmRhYmxlPWZ1bmN0aW9uKCl7cmV0dXJuITB9O24ucHJvdG90eXBlLnJlZHJhd1BhdGg9ZnVuY3Rpb24oYSxiLGUsYyxkKXtiPWMqTWF0aC5tYXgoMCxNYXRoLm1pbigxLHBhcnNlRmxvYXQobXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLCJzaXplIix0aGlzLnNpemUpKSkpOwplPW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9BUkNTSVpFLG14Q29uc3RhbnRzLkxJTkVfQVJDU0laRSkvMjt0aGlzLmFkZFBvaW50cyhhLFtuZXcgbXhQb2ludCgwLGQpLG5ldyBteFBvaW50KGIsMCksbmV3IG14UG9pbnQoYywwKSxuZXcgbXhQb2ludChjLWIsZCldLHRoaXMuaXNSb3VuZGVkLGUsITApO2EuZW5kKCl9O214Q2VsbFJlbmRlcmVyLnJlZ2lzdGVyU2hhcGUoInBhcmFsbGVsb2dyYW0iLG4pO214VXRpbHMuZXh0ZW5kKGwsbXhBY3Rvcik7bC5wcm90b3R5cGUuc2l6ZT0uMjtsLnByb3RvdHlwZS5pc1JvdW5kYWJsZT1mdW5jdGlvbigpe3JldHVybiEwfTtsLnByb3RvdHlwZS5yZWRyYXdQYXRoPWZ1bmN0aW9uKGEsYixlLGMsZCl7Yj1jKk1hdGgubWF4KDAsTWF0aC5taW4oLjUscGFyc2VGbG9hdChteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsInNpemUiLHRoaXMuc2l6ZSkpKSk7ZT1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsCm14Q29uc3RhbnRzLlNUWUxFX0FSQ1NJWkUsbXhDb25zdGFudHMuTElORV9BUkNTSVpFKS8yO3RoaXMuYWRkUG9pbnRzKGEsW25ldyBteFBvaW50KDAsZCksbmV3IG14UG9pbnQoYiwwKSxuZXcgbXhQb2ludChjLWIsMCksbmV3IG14UG9pbnQoYyxkKV0sdGhpcy5pc1JvdW5kZWQsZSwhMCl9O214Q2VsbFJlbmRlcmVyLnJlZ2lzdGVyU2hhcGUoInRyYXBlem9pZCIsbCk7bXhVdGlscy5leHRlbmQocCxteEFjdG9yKTtwLnByb3RvdHlwZS5zaXplPS41O3AucHJvdG90eXBlLnJlZHJhd1BhdGg9ZnVuY3Rpb24oYSxiLGUsYyxkKXthLnNldEZpbGxDb2xvcihudWxsKTtiPWMqTWF0aC5tYXgoMCxNYXRoLm1pbigxLHBhcnNlRmxvYXQobXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLCJzaXplIix0aGlzLnNpemUpKSkpO2U9bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0FSQ1NJWkUsbXhDb25zdGFudHMuTElORV9BUkNTSVpFKS8yO3RoaXMuYWRkUG9pbnRzKGEsCltuZXcgbXhQb2ludChjLDApLG5ldyBteFBvaW50KGIsMCksbmV3IG14UG9pbnQoYixkLzIpLG5ldyBteFBvaW50KDAsZC8yKSxuZXcgbXhQb2ludChiLGQvMiksbmV3IG14UG9pbnQoYixkKSxuZXcgbXhQb2ludChjLGQpXSx0aGlzLmlzUm91bmRlZCxlLCExKTthLmVuZCgpfTtteENlbGxSZW5kZXJlci5yZWdpc3RlclNoYXBlKCJjdXJseUJyYWNrZXQiLHApO214VXRpbHMuZXh0ZW5kKHYsbXhBY3Rvcik7di5wcm90b3R5cGUucmVkcmF3UGF0aD1mdW5jdGlvbihhLGIsZSxjLGQpe2Euc2V0U3Ryb2tlV2lkdGgoMSk7YS5zZXRGaWxsQ29sb3IodGhpcy5zdHJva2UpO2I9Yy81O2EucmVjdCgwLDAsYixkKTthLmZpbGxBbmRTdHJva2UoKTthLnJlY3QoMipiLDAsYixkKTthLmZpbGxBbmRTdHJva2UoKTthLnJlY3QoNCpiLDAsYixkKTthLmZpbGxBbmRTdHJva2UoKX07bXhDZWxsUmVuZGVyZXIucmVnaXN0ZXJTaGFwZSgicGFyYWxsZWxNYXJrZXIiLHYpO3QucHJvdG90eXBlLm1vdmVUbz0KZnVuY3Rpb24oYSxiKXt0aGlzLm9yaWdpbmFsTW92ZVRvLmFwcGx5KHRoaXMuY2FudmFzLGFyZ3VtZW50cyk7dGhpcy5sYXN0WD1hO3RoaXMubGFzdFk9Yjt0aGlzLmZpcnN0WD1hO3RoaXMuZmlyc3RZPWJ9O3QucHJvdG90eXBlLmNsb3NlPWZ1bmN0aW9uKCl7bnVsbCE9dGhpcy5maXJzdFgmJm51bGwhPXRoaXMuZmlyc3RZJiYodGhpcy5saW5lVG8odGhpcy5maXJzdFgsdGhpcy5maXJzdFkpLHRoaXMub3JpZ2luYWxDbG9zZS5hcHBseSh0aGlzLmNhbnZhcyxhcmd1bWVudHMpKTt0aGlzLm9yaWdpbmFsQ2xvc2UuYXBwbHkodGhpcy5jYW52YXMsYXJndW1lbnRzKX07dC5wcm90b3R5cGUucXVhZFRvPWZ1bmN0aW9uKGEsYixlLGMpe3RoaXMub3JpZ2luYWxRdWFkVG8uYXBwbHkodGhpcy5jYW52YXMsYXJndW1lbnRzKTt0aGlzLmxhc3RYPWU7dGhpcy5sYXN0WT1jfTt0LnByb3RvdHlwZS5jdXJ2ZVRvPWZ1bmN0aW9uKGEsYixlLGMsZCxmKXt0aGlzLm9yaWdpbmFsQ3VydmVUby5hcHBseSh0aGlzLmNhbnZhcywKYXJndW1lbnRzKTt0aGlzLmxhc3RYPWQ7dGhpcy5sYXN0WT1mfTt0LnByb3RvdHlwZS5hcmNUbz1mdW5jdGlvbihhLGIsZSxjLGQsZixnKXt0aGlzLm9yaWdpbmFsQXJjVG8uYXBwbHkodGhpcy5jYW52YXMsYXJndW1lbnRzKTt0aGlzLmxhc3RYPWY7dGhpcy5sYXN0WT1nfTt0LnByb3RvdHlwZS5saW5lVG89ZnVuY3Rpb24oYSxiKXtpZihudWxsIT10aGlzLmxhc3RYJiZudWxsIT10aGlzLmxhc3RZKXt2YXIgZT1mdW5jdGlvbihhKXtyZXR1cm4ibnVtYmVyIj09PXR5cGVvZiBhP2E/MD5hPy0xOjE6YT09PWE/MDpOYU46TmFOfSxjPU1hdGguYWJzKGEtdGhpcy5sYXN0WCksZD1NYXRoLmFicyhiLXRoaXMubGFzdFkpLGY9TWF0aC5zcXJ0KGMqYytkKmQpO2lmKDI+Zil7dGhpcy5vcmlnaW5hbExpbmVUby5hcHBseSh0aGlzLmNhbnZhcyxhcmd1bWVudHMpO3RoaXMubGFzdFg9YTt0aGlzLmxhc3RZPWI7cmV0dXJufXZhciBnPU1hdGgucm91bmQoZi8xMCksa2E9dGhpcy5kZWZhdWx0VmFyaWF0aW9uOwo1PmcmJihnPTUsa2EvPTMpO2Zvcih2YXIgbD1lKGEtdGhpcy5sYXN0WCkqYy9nLGU9ZShiLXRoaXMubGFzdFkpKmQvZyxjPWMvZixkPWQvZixmPTA7ZjxnO2YrKyl7dmFyIG49KE1hdGgucmFuZG9tKCktLjUpKmthO3RoaXMub3JpZ2luYWxMaW5lVG8uY2FsbCh0aGlzLmNhbnZhcyxsKmYrdGhpcy5sYXN0WC1uKmQsZSpmK3RoaXMubGFzdFktbipjKX10aGlzLm9yaWdpbmFsTGluZVRvLmNhbGwodGhpcy5jYW52YXMsYSxiKX1lbHNlIHRoaXMub3JpZ2luYWxMaW5lVG8uYXBwbHkodGhpcy5jYW52YXMsYXJndW1lbnRzKTt0aGlzLmxhc3RYPWE7dGhpcy5sYXN0WT1ifTt0LnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5jYW52YXMubGluZVRvPXRoaXMub3JpZ2luYWxMaW5lVG87dGhpcy5jYW52YXMubW92ZVRvPXRoaXMub3JpZ2luYWxNb3ZlVG87dGhpcy5jYW52YXMuY2xvc2U9dGhpcy5vcmlnaW5hbENsb3NlO3RoaXMuY2FudmFzLnF1YWRUbz10aGlzLm9yaWdpbmFsUXVhZFRvOwp0aGlzLmNhbnZhcy5jdXJ2ZVRvPXRoaXMub3JpZ2luYWxDdXJ2ZVRvO3RoaXMuY2FudmFzLmFyY1RvPXRoaXMub3JpZ2luYWxBcmNUb307dmFyIElhPW14U2hhcGUucHJvdG90eXBlLnBhaW50O214U2hhcGUucHJvdG90eXBlLmRlZmF1bHRKaWdnbGU9MS41O214U2hhcGUucHJvdG90eXBlLnBhaW50PWZ1bmN0aW9uKGEpe251bGwhPXRoaXMuc3R5bGUmJiIwIiE9bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLCJjb21pYyIsIjAiKSYmbnVsbD09YS5oYW5kSGlnZ2xlJiYoYS5oYW5kSmlnZ2xlPW5ldyB0KGEsbXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLCJqaWdnbGUiLHRoaXMuZGVmYXVsdEppZ2dsZSkpKTtJYS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7bnVsbCE9YS5oYW5kSmlnZ2xlJiYoYS5oYW5kSmlnZ2xlLmRlc3Ryb3koKSxkZWxldGUgYS5oYW5kSmlnZ2xlKX07bXhSaG9tYnVzLnByb3RvdHlwZS5kZWZhdWx0SmlnZ2xlPTI7dmFyIEphPW14UmVjdGFuZ2xlU2hhcGUucHJvdG90eXBlLmlzSHRtbEFsbG93ZWQ7Cm14UmVjdGFuZ2xlU2hhcGUucHJvdG90eXBlLmlzSHRtbEFsbG93ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4obnVsbD09dGhpcy5zdHlsZXx8IjAiPT1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsImNvbWljIiwiMCIpKSYmSmEuYXBwbHkodGhpcyxhcmd1bWVudHMpfTt2YXIgUGE9bXhSZWN0YW5nbGVTaGFwZS5wcm90b3R5cGUucGFpbnRCYWNrZ3JvdW5kO214UmVjdGFuZ2xlU2hhcGUucHJvdG90eXBlLnBhaW50QmFja2dyb3VuZD1mdW5jdGlvbihhLGIsZSxjLGQpe2lmKG51bGw9PWEuaGFuZEppZ2dsZSlQYS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7ZWxzZXt2YXIgZj0hMDtudWxsIT10aGlzLnN0eWxlJiYoZj0iMSI9PW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9QT0lOVEVSX0VWRU5UUywiMSIpKTtpZihmfHxudWxsIT10aGlzLmZpbGwmJnRoaXMuZmlsbCE9bXhDb25zdGFudHMuTk9ORXx8bnVsbCE9dGhpcy5zdHJva2UmJnRoaXMuc3Ryb2tlIT0KbXhDb25zdGFudHMuTk9ORSlmfHxudWxsIT10aGlzLmZpbGwmJnRoaXMuZmlsbCE9bXhDb25zdGFudHMuTk9ORXx8KGEucG9pbnRlckV2ZW50cz0hMSksYS5iZWdpbigpLHRoaXMuaXNSb3VuZGVkPygiMSI9PW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9BQlNPTFVURV9BUkNTSVpFLDApP2Y9TWF0aC5taW4oYy8yLE1hdGgubWluKGQvMixteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfQVJDU0laRSxteENvbnN0YW50cy5MSU5FX0FSQ1NJWkUpLzIpKTooZj1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfQVJDU0laRSwxMDAqbXhDb25zdGFudHMuUkVDVEFOR0xFX1JPVU5ESU5HX0ZBQ1RPUikvMTAwLGY9TWF0aC5taW4oYypmLGQqZikpLGEubW92ZVRvKGIrZixlKSxhLmxpbmVUbyhiK2MtZixlKSxhLnF1YWRUbyhiK2MsZSxiK2MsZStmKSxhLmxpbmVUbyhiK2MsZStkLWYpLGEucXVhZFRvKGIrCmMsZStkLGIrYy1mLGUrZCksYS5saW5lVG8oYitmLGUrZCksYS5xdWFkVG8oYixlK2QsYixlK2QtZiksYS5saW5lVG8oYixlK2YpLGEucXVhZFRvKGIsZSxiK2YsZSkpOihhLm1vdmVUbyhiLGUpLGEubGluZVRvKGIrYyxlKSxhLmxpbmVUbyhiK2MsZStkKSxhLmxpbmVUbyhiLGUrZCksYS5saW5lVG8oYixlKSksYS5jbG9zZSgpLGEuZW5kKCksYS5maWxsQW5kU3Ryb2tlKCl9fTt2YXIgUWE9bXhSZWN0YW5nbGVTaGFwZS5wcm90b3R5cGUucGFpbnRGb3JlZ3JvdW5kO214UmVjdGFuZ2xlU2hhcGUucHJvdG90eXBlLnBhaW50Rm9yZWdyb3VuZD1mdW5jdGlvbihhLGIsZSxjLGQpe251bGw9PWEuaGFuZEppZ2dsZSYmUWEuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtteFV0aWxzLmV4dGVuZCh5LG14UmVjdGFuZ2xlU2hhcGUpO3kucHJvdG90eXBlLnNpemU9LjE7eS5wcm90b3R5cGUuaXNIdG1sQWxsb3dlZD1mdW5jdGlvbigpe3JldHVybiExfTt5LnByb3RvdHlwZS5nZXRMYWJlbEJvdW5kcz0KZnVuY3Rpb24oYSl7aWYobXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0YXRlLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0hPUklaT05UQUwsITApPT0obnVsbD09dGhpcy5kaXJlY3Rpb258fHRoaXMuZGlyZWN0aW9uPT1teENvbnN0YW50cy5ESVJFQ1RJT05fRUFTVHx8dGhpcy5kaXJlY3Rpb249PW14Q29uc3RhbnRzLkRJUkVDVElPTl9XRVNUKSl7dmFyIGI9YS53aWR0aCxlPWEuaGVpZ2h0O2E9bmV3IG14UmVjdGFuZ2xlKGEueCxhLnksYixlKTt2YXIgYz1iKk1hdGgubWF4KDAsTWF0aC5taW4oMSxwYXJzZUZsb2F0KG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSwic2l6ZSIsdGhpcy5zaXplKSkpKTtpZih0aGlzLmlzUm91bmRlZCl2YXIgZD1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfQVJDU0laRSwxMDAqbXhDb25zdGFudHMuUkVDVEFOR0xFX1JPVU5ESU5HX0ZBQ1RPUikvMTAwLGM9TWF0aC5tYXgoYyxNYXRoLm1pbihiKmQsZSpkKSk7YS54Kz0KTWF0aC5yb3VuZChjKTthLndpZHRoLT1NYXRoLnJvdW5kKDIqYyl9cmV0dXJuIGF9O3kucHJvdG90eXBlLnBhaW50Rm9yZWdyb3VuZD1mdW5jdGlvbihhLGIsZSxjLGQpe3ZhciBmPWMqTWF0aC5tYXgoMCxNYXRoLm1pbigxLHBhcnNlRmxvYXQobXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLCJzaXplIix0aGlzLnNpemUpKSkpO2lmKHRoaXMuaXNSb3VuZGVkKXZhciBnPW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9BUkNTSVpFLDEwMCpteENvbnN0YW50cy5SRUNUQU5HTEVfUk9VTkRJTkdfRkFDVE9SKS8xMDAsZj1NYXRoLm1heChmLE1hdGgubWluKGMqZyxkKmcpKTtmPU1hdGgucm91bmQoZik7YS5iZWdpbigpO2EubW92ZVRvKGIrZixlKTthLmxpbmVUbyhiK2YsZStkKTthLm1vdmVUbyhiK2MtZixlKTthLmxpbmVUbyhiK2MtZixlK2QpO2EuZW5kKCk7YS5zdHJva2UoKTtteFJlY3RhbmdsZVNoYXBlLnByb3RvdHlwZS5wYWludEZvcmVncm91bmQuYXBwbHkodGhpcywKYXJndW1lbnRzKX07bXhDZWxsUmVuZGVyZXIucmVnaXN0ZXJTaGFwZSgicHJvY2VzcyIseSk7bXhVdGlscy5leHRlbmQoeCxteFJlY3RhbmdsZVNoYXBlKTt4LnByb3RvdHlwZS5wYWludEJhY2tncm91bmQ9ZnVuY3Rpb24oYSxiLGUsYyxkKXthLnNldEZpbGxDb2xvcihteENvbnN0YW50cy5OT05FKTthLnJlY3QoYixlLGMsZCk7YS5maWxsKCl9O3gucHJvdG90eXBlLnBhaW50Rm9yZWdyb3VuZD1mdW5jdGlvbihhLGIsZSxjLGQpe307bXhDZWxsUmVuZGVyZXIucmVnaXN0ZXJTaGFwZSgidHJhbnNwYXJlbnQiLHgpO214VXRpbHMuZXh0ZW5kKEMsbXhIZXhhZ29uKTtDLnByb3RvdHlwZS5zaXplPTMwO0MucHJvdG90eXBlLnBvc2l0aW9uPS41O0MucHJvdG90eXBlLnBvc2l0aW9uMj0uNTtDLnByb3RvdHlwZS5iYXNlPTIwO0MucHJvdG90eXBlLmdldExhYmVsTWFyZ2lucz1mdW5jdGlvbigpe3JldHVybiBuZXcgbXhSZWN0YW5nbGUoMCwwLDAscGFyc2VGbG9hdChteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsCiJzaXplIix0aGlzLnNpemUpKSp0aGlzLnNjYWxlKX07Qy5wcm90b3R5cGUuaXNSb3VuZGFibGU9ZnVuY3Rpb24oKXtyZXR1cm4hMH07Qy5wcm90b3R5cGUucmVkcmF3UGF0aD1mdW5jdGlvbihhLGIsZSxjLGQpe2I9bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0FSQ1NJWkUsbXhDb25zdGFudHMuTElORV9BUkNTSVpFKS8yO2U9TWF0aC5tYXgoMCxNYXRoLm1pbihkLHBhcnNlRmxvYXQobXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLCJzaXplIix0aGlzLnNpemUpKSkpO3ZhciBmPWMqTWF0aC5tYXgoMCxNYXRoLm1pbigxLHBhcnNlRmxvYXQobXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLCJwb3NpdGlvbiIsdGhpcy5wb3NpdGlvbikpKSksZz1jKk1hdGgubWF4KDAsTWF0aC5taW4oMSxwYXJzZUZsb2F0KG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSwicG9zaXRpb24yIix0aGlzLnBvc2l0aW9uMikpKSksbD1NYXRoLm1heCgwLE1hdGgubWluKGMsCnBhcnNlRmxvYXQobXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLCJiYXNlIix0aGlzLmJhc2UpKSkpO3RoaXMuYWRkUG9pbnRzKGEsW25ldyBteFBvaW50KDAsMCksbmV3IG14UG9pbnQoYywwKSxuZXcgbXhQb2ludChjLGQtZSksbmV3IG14UG9pbnQoTWF0aC5taW4oYyxmK2wpLGQtZSksbmV3IG14UG9pbnQoZyxkKSxuZXcgbXhQb2ludChNYXRoLm1heCgwLGYpLGQtZSksbmV3IG14UG9pbnQoMCxkLWUpXSx0aGlzLmlzUm91bmRlZCxiLCEwLFs0XSl9O214Q2VsbFJlbmRlcmVyLnJlZ2lzdGVyU2hhcGUoImNhbGxvdXQiLEMpO214VXRpbHMuZXh0ZW5kKEIsbXhBY3Rvcik7Qi5wcm90b3R5cGUuc2l6ZT0uMjtCLnByb3RvdHlwZS5maXhlZFNpemU9MjA7Qi5wcm90b3R5cGUuaXNSb3VuZGFibGU9ZnVuY3Rpb24oKXtyZXR1cm4hMH07Qi5wcm90b3R5cGUucmVkcmF3UGF0aD1mdW5jdGlvbihhLGIsZSxjLGQpe2I9IjAiIT1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsImZpeGVkU2l6ZSIsCiIwIik/TWF0aC5tYXgoMCxNYXRoLm1pbihjLHBhcnNlRmxvYXQobXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLCJzaXplIix0aGlzLmZpeGVkU2l6ZSkpKSk6YypNYXRoLm1heCgwLE1hdGgubWluKDEscGFyc2VGbG9hdChteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsInNpemUiLHRoaXMuc2l6ZSkpKSk7ZT1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfQVJDU0laRSxteENvbnN0YW50cy5MSU5FX0FSQ1NJWkUpLzI7dGhpcy5hZGRQb2ludHMoYSxbbmV3IG14UG9pbnQoMCwwKSxuZXcgbXhQb2ludChjLWIsMCksbmV3IG14UG9pbnQoYyxkLzIpLG5ldyBteFBvaW50KGMtYixkKSxuZXcgbXhQb2ludCgwLGQpLG5ldyBteFBvaW50KGIsZC8yKV0sdGhpcy5pc1JvdW5kZWQsZSwhMCk7YS5lbmQoKX07bXhDZWxsUmVuZGVyZXIucmVnaXN0ZXJTaGFwZSgic3RlcCIsQik7bXhVdGlscy5leHRlbmQoRCxteEhleGFnb24pO0QucHJvdG90eXBlLnNpemU9Ci4yNTtELnByb3RvdHlwZS5pc1JvdW5kYWJsZT1mdW5jdGlvbigpe3JldHVybiEwfTtELnByb3RvdHlwZS5yZWRyYXdQYXRoPWZ1bmN0aW9uKGEsYixlLGMsZCl7Yj1jKk1hdGgubWF4KDAsTWF0aC5taW4oMSxwYXJzZUZsb2F0KG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSwic2l6ZSIsdGhpcy5zaXplKSkpKTtlPW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9BUkNTSVpFLG14Q29uc3RhbnRzLkxJTkVfQVJDU0laRSkvMjt0aGlzLmFkZFBvaW50cyhhLFtuZXcgbXhQb2ludChiLDApLG5ldyBteFBvaW50KGMtYiwwKSxuZXcgbXhQb2ludChjLC41KmQpLG5ldyBteFBvaW50KGMtYixkKSxuZXcgbXhQb2ludChiLGQpLG5ldyBteFBvaW50KDAsLjUqZCldLHRoaXMuaXNSb3VuZGVkLGUsITApfTtteENlbGxSZW5kZXJlci5yZWdpc3RlclNoYXBlKCJoZXhhZ29uIixEKTtteFV0aWxzLmV4dGVuZCh6LG14UmVjdGFuZ2xlU2hhcGUpO3oucHJvdG90eXBlLmlzSHRtbEFsbG93ZWQ9CmZ1bmN0aW9uKCl7cmV0dXJuITF9O3oucHJvdG90eXBlLnBhaW50Rm9yZWdyb3VuZD1mdW5jdGlvbihhLGIsZSxjLGQpe3ZhciBmPU1hdGgubWluKGMvNSxkLzUpKzE7YS5iZWdpbigpO2EubW92ZVRvKGIrYy8yLGUrZik7YS5saW5lVG8oYitjLzIsZStkLWYpO2EubW92ZVRvKGIrZixlK2QvMik7YS5saW5lVG8oYitjLWYsZStkLzIpO2EuZW5kKCk7YS5zdHJva2UoKTtteFJlY3RhbmdsZVNoYXBlLnByb3RvdHlwZS5wYWludEZvcmVncm91bmQuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtteENlbGxSZW5kZXJlci5yZWdpc3RlclNoYXBlKCJwbHVzIix6KTt2YXIgTmE9bXhSaG9tYnVzLnByb3RvdHlwZS5wYWludFZlcnRleFNoYXBlO214UmhvbWJ1cy5wcm90b3R5cGUuZ2V0TGFiZWxCb3VuZHM9ZnVuY3Rpb24oYSl7aWYoMT09dGhpcy5zdHlsZVsiZG91YmxlIl0pe3ZhciBiPSgyKk1hdGgubWF4KDIsdGhpcy5zdHJva2V3aWR0aCsxKStwYXJzZUZsb2F0KHRoaXMuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfTUFSR0lOXXx8CjApKSp0aGlzLnNjYWxlO3JldHVybiBuZXcgbXhSZWN0YW5nbGUoYS54K2IsYS55K2IsYS53aWR0aC0yKmIsYS5oZWlnaHQtMipiKX1yZXR1cm4gYX07bXhSaG9tYnVzLnByb3RvdHlwZS5wYWludFZlcnRleFNoYXBlPWZ1bmN0aW9uKGEsYixlLGMsZCl7TmEuYXBwbHkodGhpcyxhcmd1bWVudHMpO2lmKCF0aGlzLm91dGxpbmUmJjE9PXRoaXMuc3R5bGVbImRvdWJsZSJdKXt2YXIgZj0yKk1hdGgubWF4KDIsdGhpcy5zdHJva2V3aWR0aCsxKStwYXJzZUZsb2F0KHRoaXMuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfTUFSR0lOXXx8MCk7Yis9ZjtlKz1mO2MtPTIqZjtkLT0yKmY7MDxjJiYwPGQmJihhLnNldFNoYWRvdyghMSksTmEuYXBwbHkodGhpcyxbYSxiLGUsYyxkXSkpfX07bXhVdGlscy5leHRlbmQoRSxteFJlY3RhbmdsZVNoYXBlKTtFLnByb3RvdHlwZS5pc0h0bWxBbGxvd2VkPWZ1bmN0aW9uKCl7cmV0dXJuITF9O0UucHJvdG90eXBlLmdldExhYmVsQm91bmRzPWZ1bmN0aW9uKGEpe2lmKDE9PQp0aGlzLnN0eWxlWyJkb3VibGUiXSl7dmFyIGI9KE1hdGgubWF4KDIsdGhpcy5zdHJva2V3aWR0aCsxKStwYXJzZUZsb2F0KHRoaXMuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfTUFSR0lOXXx8MCkpKnRoaXMuc2NhbGU7cmV0dXJuIG5ldyBteFJlY3RhbmdsZShhLngrYixhLnkrYixhLndpZHRoLTIqYixhLmhlaWdodC0yKmIpfXJldHVybiBhfTtFLnByb3RvdHlwZS5wYWludEZvcmVncm91bmQ9ZnVuY3Rpb24oYSxiLGUsYyxkKXtpZihudWxsIT10aGlzLnN0eWxlKXtpZighdGhpcy5vdXRsaW5lJiYxPT10aGlzLnN0eWxlWyJkb3VibGUiXSl7dmFyIGY9TWF0aC5tYXgoMix0aGlzLnN0cm9rZXdpZHRoKzEpK3BhcnNlRmxvYXQodGhpcy5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9NQVJHSU5dfHwwKTtiKz1mO2UrPWY7Yy09MipmO2QtPTIqZjswPGMmJjA8ZCYmbXhSZWN0YW5nbGVTaGFwZS5wcm90b3R5cGUucGFpbnRCYWNrZ3JvdW5kLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1hLnNldERhc2hlZCghMSk7CnZhciBmPTAsZztkb3tnPW14Q2VsbFJlbmRlcmVyLmRlZmF1bHRTaGFwZXNbdGhpcy5zdHlsZVsic3ltYm9sIitmXV07aWYobnVsbCE9Zyl7dmFyIGw9dGhpcy5zdHlsZVsic3ltYm9sIitmKyJBbGlnbiJdLG49dGhpcy5zdHlsZVsic3ltYm9sIitmKyJWZXJ0aWNhbEFsaWduIl0sa2E9dGhpcy5zdHlsZVsic3ltYm9sIitmKyJXaWR0aCJdLHU9dGhpcy5zdHlsZVsic3ltYm9sIitmKyJIZWlnaHQiXSxwPXRoaXMuc3R5bGVbInN5bWJvbCIrZisiU3BhY2luZyJdfHwwLHQ9dGhpcy5zdHlsZVsic3ltYm9sIitmKyJWU3BhY2luZyJdfHxwLEE9dGhpcy5zdHlsZVsic3ltYm9sIitmKyJBcmNTcGFjaW5nIl07bnVsbCE9QSYmKEEqPXRoaXMuZ2V0QXJjU2l6ZShjK3RoaXMuc3Ryb2tld2lkdGgsZCt0aGlzLnN0cm9rZXdpZHRoKSxwKz1BLHQrPUEpO3ZhciBBPWIsaz1lLEE9bD09bXhDb25zdGFudHMuQUxJR05fQ0VOVEVSP0ErKGMta2EpLzI6bD09bXhDb25zdGFudHMuQUxJR05fUklHSFQ/QSsKKGMta2EtcCk6QStwLGs9bj09bXhDb25zdGFudHMuQUxJR05fTUlERExFP2srKGQtdSkvMjpuPT1teENvbnN0YW50cy5BTElHTl9CT1RUT00/aysoZC11LXQpOmsrdDthLnNhdmUoKTtsPW5ldyBnO2wuc3R5bGU9dGhpcy5zdHlsZTtnLnByb3RvdHlwZS5wYWludFZlcnRleFNoYXBlLmNhbGwobCxhLEEsayxrYSx1KTthLnJlc3RvcmUoKX1mKyt9d2hpbGUobnVsbCE9Zyl9bXhSZWN0YW5nbGVTaGFwZS5wcm90b3R5cGUucGFpbnRGb3JlZ3JvdW5kLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07bXhDZWxsUmVuZGVyZXIucmVnaXN0ZXJTaGFwZSgiZXh0IixFKTtteFV0aWxzLmV4dGVuZChHLG14Q3lsaW5kZXIpO0cucHJvdG90eXBlLnJlZHJhd1BhdGg9ZnVuY3Rpb24oYSxiLGUsYyxkLGYpe2Y/KGEubW92ZVRvKDAsMCksYS5saW5lVG8oYy8yLGQvMiksYS5saW5lVG8oYywwKSxhLmVuZCgpKTooYS5tb3ZlVG8oMCwwKSxhLmxpbmVUbyhjLDApLGEubGluZVRvKGMsZCksYS5saW5lVG8oMCxkKSwKYS5jbG9zZSgpKX07bXhDZWxsUmVuZGVyZXIucmVnaXN0ZXJTaGFwZSgibWVzc2FnZSIsRyk7bXhVdGlscy5leHRlbmQoRixteFNoYXBlKTtGLnByb3RvdHlwZS5wYWludEJhY2tncm91bmQ9ZnVuY3Rpb24oYSxiLGUsYyxkKXthLnRyYW5zbGF0ZShiLGUpO2EuZWxsaXBzZShjLzQsMCxjLzIsZC80KTthLmZpbGxBbmRTdHJva2UoKTthLmJlZ2luKCk7YS5tb3ZlVG8oYy8yLGQvNCk7YS5saW5lVG8oYy8yLDIqZC8zKTthLm1vdmVUbyhjLzIsZC8zKTthLmxpbmVUbygwLGQvMyk7YS5tb3ZlVG8oYy8yLGQvMyk7YS5saW5lVG8oYyxkLzMpO2EubW92ZVRvKGMvMiwyKmQvMyk7YS5saW5lVG8oMCxkKTthLm1vdmVUbyhjLzIsMipkLzMpO2EubGluZVRvKGMsZCk7YS5lbmQoKTthLnN0cm9rZSgpfTtteENlbGxSZW5kZXJlci5yZWdpc3RlclNoYXBlKCJ1bWxBY3RvciIsRik7bXhVdGlscy5leHRlbmQoSCxteFNoYXBlKTtILnByb3RvdHlwZS5nZXRMYWJlbE1hcmdpbnM9ZnVuY3Rpb24oYSl7cmV0dXJuIG5ldyBteFJlY3RhbmdsZShhLndpZHRoLwo2LDAsMCwwKX07SC5wcm90b3R5cGUucGFpbnRCYWNrZ3JvdW5kPWZ1bmN0aW9uKGEsYixlLGMsZCl7YS50cmFuc2xhdGUoYixlKTthLmJlZ2luKCk7YS5tb3ZlVG8oMCxkLzQpO2EubGluZVRvKDAsMypkLzQpO2EuZW5kKCk7YS5zdHJva2UoKTthLmJlZ2luKCk7YS5tb3ZlVG8oMCxkLzIpO2EubGluZVRvKGMvNixkLzIpO2EuZW5kKCk7YS5zdHJva2UoKTthLmVsbGlwc2UoYy82LDAsNSpjLzYsZCk7YS5maWxsQW5kU3Ryb2tlKCl9O214Q2VsbFJlbmRlcmVyLnJlZ2lzdGVyU2hhcGUoInVtbEJvdW5kYXJ5IixIKTtteFV0aWxzLmV4dGVuZChKLG14RWxsaXBzZSk7Si5wcm90b3R5cGUucGFpbnRWZXJ0ZXhTaGFwZT1mdW5jdGlvbihhLGIsZSxjLGQpe214RWxsaXBzZS5wcm90b3R5cGUucGFpbnRWZXJ0ZXhTaGFwZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7YS5iZWdpbigpO2EubW92ZVRvKGIrYy84LGUrZCk7YS5saW5lVG8oYis3KmMvOCxlK2QpO2EuZW5kKCk7YS5zdHJva2UoKX07bXhDZWxsUmVuZGVyZXIucmVnaXN0ZXJTaGFwZSgidW1sRW50aXR5IiwKSik7bXhVdGlscy5leHRlbmQodSxteFNoYXBlKTt1LnByb3RvdHlwZS5wYWludFZlcnRleFNoYXBlPWZ1bmN0aW9uKGEsYixlLGMsZCl7YS50cmFuc2xhdGUoYixlKTthLmJlZ2luKCk7YS5tb3ZlVG8oYywwKTthLmxpbmVUbygwLGQpO2EubW92ZVRvKDAsMCk7YS5saW5lVG8oYyxkKTthLmVuZCgpO2Euc3Ryb2tlKCl9O214Q2VsbFJlbmRlcmVyLnJlZ2lzdGVyU2hhcGUoInVtbERlc3Ryb3kiLHUpO214VXRpbHMuZXh0ZW5kKEssbXhTaGFwZSk7Sy5wcm90b3R5cGUuZ2V0TGFiZWxCb3VuZHM9ZnVuY3Rpb24oYSl7cmV0dXJuIG5ldyBteFJlY3RhbmdsZShhLngsYS55K2EuaGVpZ2h0LzgsYS53aWR0aCw3KmEuaGVpZ2h0LzgpfTtLLnByb3RvdHlwZS5wYWludEJhY2tncm91bmQ9ZnVuY3Rpb24oYSxiLGUsYyxkKXthLnRyYW5zbGF0ZShiLGUpO2EuYmVnaW4oKTthLm1vdmVUbygzKmMvOCxkLzgqMS4xKTthLmxpbmVUbyg1KmMvOCwwKTthLmVuZCgpO2Euc3Ryb2tlKCk7YS5lbGxpcHNlKDAsCmQvOCxjLDcqZC84KTthLmZpbGxBbmRTdHJva2UoKX07Sy5wcm90b3R5cGUucGFpbnRGb3JlZ3JvdW5kPWZ1bmN0aW9uKGEsYixlLGMsZCl7YS5iZWdpbigpO2EubW92ZVRvKDMqYy84LGQvOCoxLjEpO2EubGluZVRvKDUqYy84LGQvNCk7YS5lbmQoKTthLnN0cm9rZSgpfTtteENlbGxSZW5kZXJlci5yZWdpc3RlclNoYXBlKCJ1bWxDb250cm9sIixLKTtteFV0aWxzLmV4dGVuZChBLG14UmVjdGFuZ2xlU2hhcGUpO0EucHJvdG90eXBlLnNpemU9NDA7QS5wcm90b3R5cGUuaXNIdG1sQWxsb3dlZD1mdW5jdGlvbigpe3JldHVybiExfTtBLnByb3RvdHlwZS5nZXRMYWJlbEJvdW5kcz1mdW5jdGlvbihhKXt2YXIgYj1NYXRoLm1heCgwLE1hdGgubWluKGEuaGVpZ2h0LHBhcnNlRmxvYXQobXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLCJzaXplIix0aGlzLnNpemUpKSp0aGlzLnNjYWxlKSk7cmV0dXJuIG5ldyBteFJlY3RhbmdsZShhLngsYS55LGEud2lkdGgsYil9O0EucHJvdG90eXBlLnBhaW50QmFja2dyb3VuZD0KZnVuY3Rpb24oYSxiLGUsYyxkKXt2YXIgZj1NYXRoLm1heCgwLE1hdGgubWluKGQscGFyc2VGbG9hdChteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsInNpemUiLHRoaXMuc2l6ZSkpKSksZz1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsInBhcnRpY2lwYW50Iik7bnVsbD09Z3x8bnVsbD09dGhpcy5zdGF0ZT9teFJlY3RhbmdsZVNoYXBlLnByb3RvdHlwZS5wYWludEJhY2tncm91bmQuY2FsbCh0aGlzLGEsYixlLGMsZik6KGc9dGhpcy5zdGF0ZS52aWV3LmdyYXBoLmNlbGxSZW5kZXJlci5nZXRTaGFwZShnKSxudWxsIT1nJiZnIT1BJiYoZz1uZXcgZyxnLmFwcGx5KHRoaXMuc3RhdGUpLGEuc2F2ZSgpLGcucGFpbnRWZXJ0ZXhTaGFwZShhLGIsZSxjLGYpLGEucmVzdG9yZSgpKSk7ZjxkJiYoYS5zZXREYXNoZWQoITApLGEuYmVnaW4oKSxhLm1vdmVUbyhiK2MvMixlK2YpLGEubGluZVRvKGIrYy8yLGUrZCksYS5lbmQoKSxhLnN0cm9rZSgpKX07QS5wcm90b3R5cGUucGFpbnRGb3JlZ3JvdW5kPQpmdW5jdGlvbihhLGIsZSxjLGQpe3ZhciBmPU1hdGgubWF4KDAsTWF0aC5taW4oZCxwYXJzZUZsb2F0KG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSwic2l6ZSIsdGhpcy5zaXplKSkpKTtteFJlY3RhbmdsZVNoYXBlLnByb3RvdHlwZS5wYWludEZvcmVncm91bmQuY2FsbCh0aGlzLGEsYixlLGMsTWF0aC5taW4oZCxmKSl9O214Q2VsbFJlbmRlcmVyLnJlZ2lzdGVyU2hhcGUoInVtbExpZmVsaW5lIixBKTtteFV0aWxzLmV4dGVuZChNLG14U2hhcGUpO00ucHJvdG90eXBlLndpZHRoPTYwO00ucHJvdG90eXBlLmhlaWdodD0zMDtNLnByb3RvdHlwZS5jb3JuZXI9MTA7TS5wcm90b3R5cGUuZ2V0TGFiZWxNYXJnaW5zPWZ1bmN0aW9uKGEpe3JldHVybiBuZXcgbXhSZWN0YW5nbGUoMCwwLGEud2lkdGgtcGFyc2VGbG9hdChteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsIndpZHRoIix0aGlzLndpZHRoKSp0aGlzLnNjYWxlKSxhLmhlaWdodC1wYXJzZUZsb2F0KG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSwKImhlaWdodCIsdGhpcy5oZWlnaHQpKnRoaXMuc2NhbGUpKX07TS5wcm90b3R5cGUucGFpbnRCYWNrZ3JvdW5kPWZ1bmN0aW9uKGEsYixlLGMsZCl7dmFyIGY9dGhpcy5jb3JuZXIsZz1NYXRoLm1pbihjLE1hdGgubWF4KGYscGFyc2VGbG9hdChteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsIndpZHRoIix0aGlzLndpZHRoKSkpKSxsPU1hdGgubWluKGQsTWF0aC5tYXgoMS41KmYscGFyc2VGbG9hdChteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsImhlaWdodCIsdGhpcy5oZWlnaHQpKSkpLG49bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX1NXSU1MQU5FX0ZJTExDT0xPUixteENvbnN0YW50cy5OT05FKTtuIT1teENvbnN0YW50cy5OT05FJiYoYS5zZXRGaWxsQ29sb3IobiksYS5yZWN0KGIsZSxjLGQpLGEuZmlsbCgpKTtudWxsIT10aGlzLmZpbGwmJnRoaXMuZmlsbCE9bXhDb25zdGFudHMuTk9ORSYmdGhpcy5ncmFkaWVudCYmdGhpcy5ncmFkaWVudCE9Cm14Q29uc3RhbnRzLk5PTkU/KHRoaXMuZ2V0R3JhZGllbnRCb3VuZHMoYSxiLGUsYyxkKSxhLnNldEdyYWRpZW50KHRoaXMuZmlsbCx0aGlzLmdyYWRpZW50LGIsZSxjLGQsdGhpcy5ncmFkaWVudERpcmVjdGlvbikpOmEuc2V0RmlsbENvbG9yKHRoaXMuZmlsbCk7YS5iZWdpbigpO2EubW92ZVRvKGIsZSk7YS5saW5lVG8oYitnLGUpO2EubGluZVRvKGIrZyxlK01hdGgubWF4KDAsbC0xLjUqZikpO2EubGluZVRvKGIrTWF0aC5tYXgoMCxnLWYpLGUrbCk7YS5saW5lVG8oYixlK2wpO2EuY2xvc2UoKTthLmZpbGxBbmRTdHJva2UoKTthLmJlZ2luKCk7YS5tb3ZlVG8oYitnLGUpO2EubGluZVRvKGIrYyxlKTthLmxpbmVUbyhiK2MsZStkKTthLmxpbmVUbyhiLGUrZCk7YS5saW5lVG8oYixlK2wpO2Euc3Ryb2tlKCl9O214Q2VsbFJlbmRlcmVyLnJlZ2lzdGVyU2hhcGUoInVtbEZyYW1lIixNKTtteFBlcmltZXRlci5MaWZlbGluZVBlcmltZXRlcj1mdW5jdGlvbihhLGIsZSxjKXtjPUEucHJvdG90eXBlLnNpemU7Cm51bGwhPWImJihjPW14VXRpbHMuZ2V0VmFsdWUoYi5zdHlsZSwic2l6ZSIsYykqYi52aWV3LnNjYWxlKTtiPXBhcnNlRmxvYXQoYi5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9TVFJPS0VXSURUSF18fDEpKmIudmlldy5zY2FsZS8yLTE7ZS54PGEuZ2V0Q2VudGVyWCgpJiYoYj0tMSooYisxKSk7cmV0dXJuIG5ldyBteFBvaW50KGEuZ2V0Q2VudGVyWCgpK2IsTWF0aC5taW4oYS55K2EuaGVpZ2h0LE1hdGgubWF4KGEueStjLGUueSkpKX07bXhTdHlsZVJlZ2lzdHJ5LnB1dFZhbHVlKCJsaWZlbGluZVBlcmltZXRlciIsbXhQZXJpbWV0ZXIuTGlmZWxpbmVQZXJpbWV0ZXIpO214UGVyaW1ldGVyLk9ydGhvZ29uYWxQZXJpbWV0ZXI9ZnVuY3Rpb24oYSxiLGUsYyl7Yz0hMDtyZXR1cm4gbXhQZXJpbWV0ZXIuUmVjdGFuZ2xlUGVyaW1ldGVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07bXhTdHlsZVJlZ2lzdHJ5LnB1dFZhbHVlKCJvcnRob2dvbmFsUGVyaW1ldGVyIixteFBlcmltZXRlci5PcnRob2dvbmFsUGVyaW1ldGVyKTsKbXhQZXJpbWV0ZXIuQmFja2JvbmVQZXJpbWV0ZXI9ZnVuY3Rpb24oYSxiLGUsYyl7Yz1wYXJzZUZsb2F0KGIuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfU1RST0tFV0lEVEhdfHwxKSpiLnZpZXcuc2NhbGUvMi0xO251bGwhPWIuc3R5bGUuYmFja2JvbmVTaXplJiYoYys9cGFyc2VGbG9hdChiLnN0eWxlLmJhY2tib25lU2l6ZSkqYi52aWV3LnNjYWxlLzItMSk7aWYoInNvdXRoIj09Yi5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9ESVJFQ1RJT05dfHwibm9ydGgiPT1iLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX0RJUkVDVElPTl0pcmV0dXJuIGUueDxhLmdldENlbnRlclgoKSYmKGM9LTEqKGMrMSkpLG5ldyBteFBvaW50KGEuZ2V0Q2VudGVyWCgpK2MsTWF0aC5taW4oYS55K2EuaGVpZ2h0LE1hdGgubWF4KGEueSxlLnkpKSk7ZS55PGEuZ2V0Q2VudGVyWSgpJiYoYz0tMSooYysxKSk7cmV0dXJuIG5ldyBteFBvaW50KE1hdGgubWluKGEueCthLndpZHRoLE1hdGgubWF4KGEueCxlLngpKSwKYS5nZXRDZW50ZXJZKCkrYyl9O214U3R5bGVSZWdpc3RyeS5wdXRWYWx1ZSgiYmFja2JvbmVQZXJpbWV0ZXIiLG14UGVyaW1ldGVyLkJhY2tib25lUGVyaW1ldGVyKTtteFBlcmltZXRlci5DYWxsb3V0UGVyaW1ldGVyPWZ1bmN0aW9uKGEsYixlLGMpe3JldHVybiBteFBlcmltZXRlci5SZWN0YW5nbGVQZXJpbWV0ZXIobXhVdGlscy5nZXREaXJlY3RlZEJvdW5kcyhhLG5ldyBteFJlY3RhbmdsZSgwLDAsMCxNYXRoLm1heCgwLE1hdGgubWluKGEuaGVpZ2h0LHBhcnNlRmxvYXQobXhVdGlscy5nZXRWYWx1ZShiLnN0eWxlLCJzaXplIixDLnByb3RvdHlwZS5zaXplKSkqYi52aWV3LnNjYWxlKSkpLGIuc3R5bGUpLGIsZSxjKX07bXhTdHlsZVJlZ2lzdHJ5LnB1dFZhbHVlKCJjYWxsb3V0UGVyaW1ldGVyIixteFBlcmltZXRlci5DYWxsb3V0UGVyaW1ldGVyKTtteFBlcmltZXRlci5QYXJhbGxlbG9ncmFtUGVyaW1ldGVyPWZ1bmN0aW9uKGEsYixlLGMpe3ZhciBkPW4ucHJvdG90eXBlLnNpemU7Cm51bGwhPWImJihkPW14VXRpbHMuZ2V0VmFsdWUoYi5zdHlsZSwic2l6ZSIsZCkpO3ZhciBmPWEueCxnPWEueSxsPWEud2lkdGgsdT1hLmhlaWdodDtiPW51bGwhPWI/bXhVdGlscy5nZXRWYWx1ZShiLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0RJUkVDVElPTixteENvbnN0YW50cy5ESVJFQ1RJT05fRUFTVCk6bXhDb25zdGFudHMuRElSRUNUSU9OX0VBU1Q7Yj09bXhDb25zdGFudHMuRElSRUNUSU9OX05PUlRIfHxiPT1teENvbnN0YW50cy5ESVJFQ1RJT05fU09VVEg/KGQ9dSpNYXRoLm1heCgwLE1hdGgubWluKDEsZCkpLGc9W25ldyBteFBvaW50KGYsZyksbmV3IG14UG9pbnQoZitsLGcrZCksbmV3IG14UG9pbnQoZitsLGcrdSksbmV3IG14UG9pbnQoZixnK3UtZCksbmV3IG14UG9pbnQoZixnKV0pOihkPWwqTWF0aC5tYXgoMCxNYXRoLm1pbigxLGQpKSxnPVtuZXcgbXhQb2ludChmK2QsZyksbmV3IG14UG9pbnQoZitsLGcpLG5ldyBteFBvaW50KGYrbC1kLGcrdSksbmV3IG14UG9pbnQoZiwKZyt1KSxuZXcgbXhQb2ludChmK2QsZyldKTt1PWEuZ2V0Q2VudGVyWCgpO2E9YS5nZXRDZW50ZXJZKCk7YT1uZXcgbXhQb2ludCh1LGEpO2MmJihlLng8Znx8ZS54PmYrbD9hLnk9ZS55OmEueD1lLngpO3JldHVybiBteFV0aWxzLmdldFBlcmltZXRlclBvaW50KGcsYSxlKX07bXhTdHlsZVJlZ2lzdHJ5LnB1dFZhbHVlKCJwYXJhbGxlbG9ncmFtUGVyaW1ldGVyIixteFBlcmltZXRlci5QYXJhbGxlbG9ncmFtUGVyaW1ldGVyKTtteFBlcmltZXRlci5UcmFwZXpvaWRQZXJpbWV0ZXI9ZnVuY3Rpb24oYSxiLGUsYyl7dmFyIGQ9bC5wcm90b3R5cGUuc2l6ZTtudWxsIT1iJiYoZD1teFV0aWxzLmdldFZhbHVlKGIuc3R5bGUsInNpemUiLGQpKTt2YXIgZj1hLngsZz1hLnksbj1hLndpZHRoLHU9YS5oZWlnaHQ7Yj1udWxsIT1iP214VXRpbHMuZ2V0VmFsdWUoYi5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9ESVJFQ1RJT04sbXhDb25zdGFudHMuRElSRUNUSU9OX0VBU1QpOm14Q29uc3RhbnRzLkRJUkVDVElPTl9FQVNUOwpiPT1teENvbnN0YW50cy5ESVJFQ1RJT05fRUFTVD8oZD1uKk1hdGgubWF4KDAsTWF0aC5taW4oMSxkKSksZz1bbmV3IG14UG9pbnQoZitkLGcpLG5ldyBteFBvaW50KGYrbi1kLGcpLG5ldyBteFBvaW50KGYrbixnK3UpLG5ldyBteFBvaW50KGYsZyt1KSxuZXcgbXhQb2ludChmK2QsZyldKTpiPT1teENvbnN0YW50cy5ESVJFQ1RJT05fV0VTVD8oZD1uKk1hdGgubWF4KDAsTWF0aC5taW4oMSxkKSksZz1bbmV3IG14UG9pbnQoZixnKSxuZXcgbXhQb2ludChmK24sZyksbmV3IG14UG9pbnQoZituLWQsZyt1KSxuZXcgbXhQb2ludChmK2QsZyt1KSxuZXcgbXhQb2ludChmLGcpXSk6Yj09bXhDb25zdGFudHMuRElSRUNUSU9OX05PUlRIPyhkPXUqTWF0aC5tYXgoMCxNYXRoLm1pbigxLGQpKSxnPVtuZXcgbXhQb2ludChmLGcrZCksbmV3IG14UG9pbnQoZituLGcpLG5ldyBteFBvaW50KGYrbixnK3UpLG5ldyBteFBvaW50KGYsZyt1LWQpLG5ldyBteFBvaW50KGYsZytkKV0pOihkPXUqTWF0aC5tYXgoMCwKTWF0aC5taW4oMSxkKSksZz1bbmV3IG14UG9pbnQoZixnKSxuZXcgbXhQb2ludChmK24sZytkKSxuZXcgbXhQb2ludChmK24sZyt1LWQpLG5ldyBteFBvaW50KGYsZyt1KSxuZXcgbXhQb2ludChmLGcpXSk7dT1hLmdldENlbnRlclgoKTthPWEuZ2V0Q2VudGVyWSgpO2E9bmV3IG14UG9pbnQodSxhKTtjJiYoZS54PGZ8fGUueD5mK24/YS55PWUueTphLng9ZS54KTtyZXR1cm4gbXhVdGlscy5nZXRQZXJpbWV0ZXJQb2ludChnLGEsZSl9O214U3R5bGVSZWdpc3RyeS5wdXRWYWx1ZSgidHJhcGV6b2lkUGVyaW1ldGVyIixteFBlcmltZXRlci5UcmFwZXpvaWRQZXJpbWV0ZXIpO214UGVyaW1ldGVyLlN0ZXBQZXJpbWV0ZXI9ZnVuY3Rpb24oYSxiLGUsYyl7dmFyIGQ9IjAiIT1teFV0aWxzLmdldFZhbHVlKGIuc3R5bGUsImZpeGVkU2l6ZSIsIjAiKSxmPWQ/Qi5wcm90b3R5cGUuZml4ZWRTaXplOkIucHJvdG90eXBlLnNpemU7bnVsbCE9YiYmKGY9bXhVdGlscy5nZXRWYWx1ZShiLnN0eWxlLAoic2l6ZSIsZikpO3ZhciBnPWEueCxsPWEueSxuPWEud2lkdGgsdT1hLmhlaWdodCxwPWEuZ2V0Q2VudGVyWCgpO2E9YS5nZXRDZW50ZXJZKCk7Yj1udWxsIT1iP214VXRpbHMuZ2V0VmFsdWUoYi5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9ESVJFQ1RJT04sbXhDb25zdGFudHMuRElSRUNUSU9OX0VBU1QpOm14Q29uc3RhbnRzLkRJUkVDVElPTl9FQVNUO2I9PW14Q29uc3RhbnRzLkRJUkVDVElPTl9FQVNUPyhkPWQ/TWF0aC5tYXgoMCxNYXRoLm1pbihuLGYpKTpuKk1hdGgubWF4KDAsTWF0aC5taW4oMSxmKSksbD1bbmV3IG14UG9pbnQoZyxsKSxuZXcgbXhQb2ludChnK24tZCxsKSxuZXcgbXhQb2ludChnK24sYSksbmV3IG14UG9pbnQoZytuLWQsbCt1KSxuZXcgbXhQb2ludChnLGwrdSksbmV3IG14UG9pbnQoZytkLGEpLG5ldyBteFBvaW50KGcsbCldKTpiPT1teENvbnN0YW50cy5ESVJFQ1RJT05fV0VTVD8oZD1kP01hdGgubWF4KDAsTWF0aC5taW4obixmKSk6bipNYXRoLm1heCgwLApNYXRoLm1pbigxLGYpKSxsPVtuZXcgbXhQb2ludChnK2QsbCksbmV3IG14UG9pbnQoZytuLGwpLG5ldyBteFBvaW50KGcrbi1kLGEpLG5ldyBteFBvaW50KGcrbixsK3UpLG5ldyBteFBvaW50KGcrZCxsK3UpLG5ldyBteFBvaW50KGcsYSksbmV3IG14UG9pbnQoZytkLGwpXSk6Yj09bXhDb25zdGFudHMuRElSRUNUSU9OX05PUlRIPyhkPWQ/TWF0aC5tYXgoMCxNYXRoLm1pbih1LGYpKTp1Kk1hdGgubWF4KDAsTWF0aC5taW4oMSxmKSksbD1bbmV3IG14UG9pbnQoZyxsK2QpLG5ldyBteFBvaW50KHAsbCksbmV3IG14UG9pbnQoZytuLGwrZCksbmV3IG14UG9pbnQoZytuLGwrdSksbmV3IG14UG9pbnQocCxsK3UtZCksbmV3IG14UG9pbnQoZyxsK3UpLG5ldyBteFBvaW50KGcsbCtkKV0pOihkPWQ/TWF0aC5tYXgoMCxNYXRoLm1pbih1LGYpKTp1Kk1hdGgubWF4KDAsTWF0aC5taW4oMSxmKSksbD1bbmV3IG14UG9pbnQoZyxsKSxuZXcgbXhQb2ludChwLGwrZCksbmV3IG14UG9pbnQoZysKbixsKSxuZXcgbXhQb2ludChnK24sbCt1LWQpLG5ldyBteFBvaW50KHAsbCt1KSxuZXcgbXhQb2ludChnLGwrdS1kKSxuZXcgbXhQb2ludChnLGwpXSk7cD1uZXcgbXhQb2ludChwLGEpO2MmJihlLng8Z3x8ZS54Pmcrbj9wLnk9ZS55OnAueD1lLngpO3JldHVybiBteFV0aWxzLmdldFBlcmltZXRlclBvaW50KGwscCxlKX07bXhTdHlsZVJlZ2lzdHJ5LnB1dFZhbHVlKCJzdGVwUGVyaW1ldGVyIixteFBlcmltZXRlci5TdGVwUGVyaW1ldGVyKTtteFBlcmltZXRlci5IZXhhZ29uUGVyaW1ldGVyMj1mdW5jdGlvbihhLGIsZSxjKXt2YXIgZD1ELnByb3RvdHlwZS5zaXplO251bGwhPWImJihkPW14VXRpbHMuZ2V0VmFsdWUoYi5zdHlsZSwic2l6ZSIsZCkpO3ZhciBmPWEueCxnPWEueSxsPWEud2lkdGgsbj1hLmhlaWdodCx1PWEuZ2V0Q2VudGVyWCgpO2E9YS5nZXRDZW50ZXJZKCk7Yj1udWxsIT1iP214VXRpbHMuZ2V0VmFsdWUoYi5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9ESVJFQ1RJT04sCm14Q29uc3RhbnRzLkRJUkVDVElPTl9FQVNUKTpteENvbnN0YW50cy5ESVJFQ1RJT05fRUFTVDtiPT1teENvbnN0YW50cy5ESVJFQ1RJT05fTk9SVEh8fGI9PW14Q29uc3RhbnRzLkRJUkVDVElPTl9TT1VUSD8oZD1uKk1hdGgubWF4KDAsTWF0aC5taW4oMSxkKSksZz1bbmV3IG14UG9pbnQodSxnKSxuZXcgbXhQb2ludChmK2wsZytkKSxuZXcgbXhQb2ludChmK2wsZytuLWQpLG5ldyBteFBvaW50KHUsZytuKSxuZXcgbXhQb2ludChmLGcrbi1kKSxuZXcgbXhQb2ludChmLGcrZCksbmV3IG14UG9pbnQodSxnKV0pOihkPWwqTWF0aC5tYXgoMCxNYXRoLm1pbigxLGQpKSxnPVtuZXcgbXhQb2ludChmK2QsZyksbmV3IG14UG9pbnQoZitsLWQsZyksbmV3IG14UG9pbnQoZitsLGEpLG5ldyBteFBvaW50KGYrbC1kLGcrbiksbmV3IG14UG9pbnQoZitkLGcrbiksbmV3IG14UG9pbnQoZixhKSxuZXcgbXhQb2ludChmK2QsZyldKTt1PW5ldyBteFBvaW50KHUsYSk7YyYmKGUueDxmfHxlLng+ZisKbD91Lnk9ZS55OnUueD1lLngpO3JldHVybiBteFV0aWxzLmdldFBlcmltZXRlclBvaW50KGcsdSxlKX07bXhTdHlsZVJlZ2lzdHJ5LnB1dFZhbHVlKCJoZXhhZ29uUGVyaW1ldGVyMiIsbXhQZXJpbWV0ZXIuSGV4YWdvblBlcmltZXRlcjIpO214VXRpbHMuZXh0ZW5kKFEsbXhTaGFwZSk7US5wcm90b3R5cGUuc2l6ZT0xMDtRLnByb3RvdHlwZS5wYWludEJhY2tncm91bmQ9ZnVuY3Rpb24oYSxiLGUsYyxkKXt2YXIgZj1wYXJzZUZsb2F0KG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSwic2l6ZSIsdGhpcy5zaXplKSk7YS50cmFuc2xhdGUoYixlKTthLmVsbGlwc2UoKGMtZikvMiwwLGYsZik7YS5maWxsQW5kU3Ryb2tlKCk7YS5iZWdpbigpO2EubW92ZVRvKGMvMixmKTthLmxpbmVUbyhjLzIsZCk7YS5lbmQoKTthLnN0cm9rZSgpfTtteENlbGxSZW5kZXJlci5yZWdpc3RlclNoYXBlKCJsb2xsaXBvcCIsUSk7bXhVdGlscy5leHRlbmQoSSxteFNoYXBlKTtJLnByb3RvdHlwZS5zaXplPQoxMDtJLnByb3RvdHlwZS5pbnNldD0yO0kucHJvdG90eXBlLnBhaW50QmFja2dyb3VuZD1mdW5jdGlvbihhLGIsZSxjLGQpe3ZhciBmPXBhcnNlRmxvYXQobXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLCJzaXplIix0aGlzLnNpemUpKSxnPXBhcnNlRmxvYXQobXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLCJpbnNldCIsdGhpcy5pbnNldCkpK3RoaXMuc3Ryb2tld2lkdGg7YS50cmFuc2xhdGUoYixlKTthLmJlZ2luKCk7YS5tb3ZlVG8oYy8yLGYrZyk7YS5saW5lVG8oYy8yLGQpO2EuZW5kKCk7YS5zdHJva2UoKTthLmJlZ2luKCk7YS5tb3ZlVG8oKGMtZikvMi1nLGYvMik7YS5xdWFkVG8oKGMtZikvMi1nLGYrZyxjLzIsZitnKTthLnF1YWRUbygoYytmKS8yK2csZitnLChjK2YpLzIrZyxmLzIpO2EuZW5kKCk7YS5zdHJva2UoKX07bXhDZWxsUmVuZGVyZXIucmVnaXN0ZXJTaGFwZSgicmVxdWlyZXMiLEkpO214VXRpbHMuZXh0ZW5kKFIsbXhTaGFwZSk7Ui5wcm90b3R5cGUucGFpbnRCYWNrZ3JvdW5kPQpmdW5jdGlvbihhLGIsZSxjLGQpe2EudHJhbnNsYXRlKGIsZSk7YS5iZWdpbigpO2EubW92ZVRvKDAsMCk7YS5xdWFkVG8oYywwLGMsZC8yKTthLnF1YWRUbyhjLGQsMCxkKTthLmVuZCgpO2Euc3Ryb2tlKCl9O214Q2VsbFJlbmRlcmVyLnJlZ2lzdGVyU2hhcGUoInJlcXVpcmVkSW50ZXJmYWNlIixSKTtteFV0aWxzLmV4dGVuZChaLG14U2hhcGUpO1oucHJvdG90eXBlLmluc2V0PTI7Wi5wcm90b3R5cGUucGFpbnRCYWNrZ3JvdW5kPWZ1bmN0aW9uKGEsYixlLGMsZCl7dmFyIGY9cGFyc2VGbG9hdChteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsImluc2V0Iix0aGlzLmluc2V0KSkrdGhpcy5zdHJva2V3aWR0aDthLnRyYW5zbGF0ZShiLGUpO2EuZWxsaXBzZSgwLGYsYy0yKmYsZC0yKmYpO2EuZmlsbEFuZFN0cm9rZSgpO2EuYmVnaW4oKTthLm1vdmVUbyhjLzIsMCk7YS5xdWFkVG8oYywwLGMsZC8yKTthLnF1YWRUbyhjLGQsYy8yLGQpO2EuZW5kKCk7YS5zdHJva2UoKX07bXhDZWxsUmVuZGVyZXIucmVnaXN0ZXJTaGFwZSgicHJvdmlkZWRSZXF1aXJlZEludGVyZmFjZSIsClopO214VXRpbHMuZXh0ZW5kKFcsbXhDeWxpbmRlcik7Vy5wcm90b3R5cGUuamV0dHlXaWR0aD0yMDtXLnByb3RvdHlwZS5qZXR0eUhlaWdodD0xMDtXLnByb3RvdHlwZS5yZWRyYXdQYXRoPWZ1bmN0aW9uKGEsYixlLGMsZCxmKXt2YXIgZz1wYXJzZUZsb2F0KG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSwiamV0dHlXaWR0aCIsdGhpcy5qZXR0eVdpZHRoKSk7Yj1wYXJzZUZsb2F0KG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSwiamV0dHlIZWlnaHQiLHRoaXMuamV0dHlIZWlnaHQpKTtlPWcvMjt2YXIgZz1lK2cvMixsPU1hdGgubWluKGIsZC1iKSxuPU1hdGgubWluKGwrMipiLGQtYik7Zj8oYS5tb3ZlVG8oZSxsKSxhLmxpbmVUbyhnLGwpLGEubGluZVRvKGcsbCtiKSxhLmxpbmVUbyhlLGwrYiksYS5tb3ZlVG8oZSxuKSxhLmxpbmVUbyhnLG4pLGEubGluZVRvKGcsbitiKSxhLmxpbmVUbyhlLG4rYikpOihhLm1vdmVUbyhlLDApLGEubGluZVRvKGMsMCksYS5saW5lVG8oYywKZCksYS5saW5lVG8oZSxkKSxhLmxpbmVUbyhlLG4rYiksYS5saW5lVG8oMCxuK2IpLGEubGluZVRvKDAsbiksYS5saW5lVG8oZSxuKSxhLmxpbmVUbyhlLGwrYiksYS5saW5lVG8oMCxsK2IpLGEubGluZVRvKDAsbCksYS5saW5lVG8oZSxsKSxhLmNsb3NlKCkpO2EuZW5kKCl9O214Q2VsbFJlbmRlcmVyLnJlZ2lzdGVyU2hhcGUoIm1vZHVsZSIsVyk7bXhVdGlscy5leHRlbmQoaWEsbXhDeWxpbmRlcik7aWEucHJvdG90eXBlLmpldHR5V2lkdGg9MzI7aWEucHJvdG90eXBlLmpldHR5SGVpZ2h0PTEyO2lhLnByb3RvdHlwZS5yZWRyYXdQYXRoPWZ1bmN0aW9uKGEsYixlLGMsZCxmKXt2YXIgZz1wYXJzZUZsb2F0KG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSwiamV0dHlXaWR0aCIsdGhpcy5qZXR0eVdpZHRoKSk7Yj1wYXJzZUZsb2F0KG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSwiamV0dHlIZWlnaHQiLHRoaXMuamV0dHlIZWlnaHQpKTtlPWcvMjt2YXIgZz1lK2cvMixsPS4zKgpkLWIvMixuPS43KmQtYi8yO2Y/KGEubW92ZVRvKGUsbCksYS5saW5lVG8oZyxsKSxhLmxpbmVUbyhnLGwrYiksYS5saW5lVG8oZSxsK2IpLGEubW92ZVRvKGUsbiksYS5saW5lVG8oZyxuKSxhLmxpbmVUbyhnLG4rYiksYS5saW5lVG8oZSxuK2IpKTooYS5tb3ZlVG8oZSwwKSxhLmxpbmVUbyhjLDApLGEubGluZVRvKGMsZCksYS5saW5lVG8oZSxkKSxhLmxpbmVUbyhlLG4rYiksYS5saW5lVG8oMCxuK2IpLGEubGluZVRvKDAsbiksYS5saW5lVG8oZSxuKSxhLmxpbmVUbyhlLGwrYiksYS5saW5lVG8oMCxsK2IpLGEubGluZVRvKDAsbCksYS5saW5lVG8oZSxsKSxhLmNsb3NlKCkpO2EuZW5kKCl9O214Q2VsbFJlbmRlcmVyLnJlZ2lzdGVyU2hhcGUoImNvbXBvbmVudCIsaWEpO214VXRpbHMuZXh0ZW5kKGJhLG14UmVjdGFuZ2xlU2hhcGUpO2JhLnByb3RvdHlwZS5wYWludEZvcmVncm91bmQ9ZnVuY3Rpb24oYSxiLGUsYyxkKXt2YXIgZj1jLzIsZz1kLzIsbD1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsCm14Q29uc3RhbnRzLlNUWUxFX0FSQ1NJWkUsbXhDb25zdGFudHMuTElORV9BUkNTSVpFKS8yO2EuYmVnaW4oKTt0aGlzLmFkZFBvaW50cyhhLFtuZXcgbXhQb2ludChiK2YsZSksbmV3IG14UG9pbnQoYitjLGUrZyksbmV3IG14UG9pbnQoYitmLGUrZCksbmV3IG14UG9pbnQoYixlK2cpXSx0aGlzLmlzUm91bmRlZCxsLCEwKTthLnN0cm9rZSgpO214UmVjdGFuZ2xlU2hhcGUucHJvdG90eXBlLnBhaW50Rm9yZWdyb3VuZC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O214Q2VsbFJlbmRlcmVyLnJlZ2lzdGVyU2hhcGUoImFzc29jaWF0aXZlRW50aXR5IixiYSk7bXhVdGlscy5leHRlbmQoVSxteERvdWJsZUVsbGlwc2UpO1UucHJvdG90eXBlLm91dGVyU3Ryb2tlPSEwO1UucHJvdG90eXBlLnBhaW50VmVydGV4U2hhcGU9ZnVuY3Rpb24oYSxiLGUsYyxkKXt2YXIgZj1NYXRoLm1pbig0LE1hdGgubWluKGMvNSxkLzUpKTswPGMmJjA8ZCYmKGEuZWxsaXBzZShiK2YsZStmLGMtMipmLGQtMipmKSwKYS5maWxsQW5kU3Ryb2tlKCkpO2Euc2V0U2hhZG93KCExKTt0aGlzLm91dGVyU3Ryb2tlJiYoYS5lbGxpcHNlKGIsZSxjLGQpLGEuc3Ryb2tlKCkpfTtteENlbGxSZW5kZXJlci5yZWdpc3RlclNoYXBlKCJlbmRTdGF0ZSIsVSk7bXhVdGlscy5leHRlbmQoY2EsVSk7Y2EucHJvdG90eXBlLm91dGVyU3Ryb2tlPSExO214Q2VsbFJlbmRlcmVyLnJlZ2lzdGVyU2hhcGUoInN0YXJ0U3RhdGUiLGNhKTtteFV0aWxzLmV4dGVuZChkYSxteEFycm93Q29ubmVjdG9yKTtkYS5wcm90b3R5cGUuZGVmYXVsdFdpZHRoPTQ7ZGEucHJvdG90eXBlLmlzT3BlbkVuZGVkPWZ1bmN0aW9uKCl7cmV0dXJuITB9O2RhLnByb3RvdHlwZS5nZXRFZGdlV2lkdGg9ZnVuY3Rpb24oKXtyZXR1cm4gbXhVdGlscy5nZXROdW1iZXIodGhpcy5zdHlsZSwid2lkdGgiLHRoaXMuZGVmYXVsdFdpZHRoKStNYXRoLm1heCgwLHRoaXMuc3Ryb2tld2lkdGgtMSl9O2RhLnByb3RvdHlwZS5pc0Fycm93Um91bmRlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmlzUm91bmRlZH07Cm14Q2VsbFJlbmRlcmVyLnJlZ2lzdGVyU2hhcGUoImxpbmsiLGRhKTtteFV0aWxzLmV4dGVuZChhYSxteEFycm93Q29ubmVjdG9yKTthYS5wcm90b3R5cGUuZGVmYXVsdFdpZHRoPTEwO2FhLnByb3RvdHlwZS5kZWZhdWx0QXJyb3dXaWR0aD0yMDthYS5wcm90b3R5cGUuZ2V0U3RhcnRBcnJvd1dpZHRoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0RWRnZVdpZHRoKCkrbXhVdGlscy5nZXROdW1iZXIodGhpcy5zdHlsZSwic3RhcnRXaWR0aCIsdGhpcy5kZWZhdWx0QXJyb3dXaWR0aCl9O2FhLnByb3RvdHlwZS5nZXRFbmRBcnJvd1dpZHRoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0RWRnZVdpZHRoKCkrbXhVdGlscy5nZXROdW1iZXIodGhpcy5zdHlsZSwiZW5kV2lkdGgiLHRoaXMuZGVmYXVsdEFycm93V2lkdGgpfTthYS5wcm90b3R5cGUuZ2V0RWRnZVdpZHRoPWZ1bmN0aW9uKCl7cmV0dXJuIG14VXRpbHMuZ2V0TnVtYmVyKHRoaXMuc3R5bGUsIndpZHRoIix0aGlzLmRlZmF1bHRXaWR0aCkrCk1hdGgubWF4KDAsdGhpcy5zdHJva2V3aWR0aC0xKX07bXhDZWxsUmVuZGVyZXIucmVnaXN0ZXJTaGFwZSgiZmxleEFycm93IixhYSk7bXhVdGlscy5leHRlbmQoVCxteEFjdG9yKTtULnByb3RvdHlwZS5zaXplPTMwO1QucHJvdG90eXBlLmlzUm91bmRhYmxlPWZ1bmN0aW9uKCl7cmV0dXJuITB9O1QucHJvdG90eXBlLnJlZHJhd1BhdGg9ZnVuY3Rpb24oYSxiLGUsYyxkKXtiPU1hdGgubWluKGQscGFyc2VGbG9hdChteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsInNpemUiLHRoaXMuc2l6ZSkpKTtlPW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9BUkNTSVpFLG14Q29uc3RhbnRzLkxJTkVfQVJDU0laRSkvMjt0aGlzLmFkZFBvaW50cyhhLFtuZXcgbXhQb2ludCgwLGQpLG5ldyBteFBvaW50KDAsYiksbmV3IG14UG9pbnQoYywwKSxuZXcgbXhQb2ludChjLGQpXSx0aGlzLmlzUm91bmRlZCxlLCEwKTthLmVuZCgpfTtteENlbGxSZW5kZXJlci5yZWdpc3RlclNoYXBlKCJtYW51YWxJbnB1dCIsClQpO214VXRpbHMuZXh0ZW5kKFksbXhSZWN0YW5nbGVTaGFwZSk7WS5wcm90b3R5cGUuZHg9MjA7WS5wcm90b3R5cGUuZHk9MjA7WS5wcm90b3R5cGUuaXNIdG1sQWxsb3dlZD1mdW5jdGlvbigpe3JldHVybiExfTtZLnByb3RvdHlwZS5wYWludEZvcmVncm91bmQ9ZnVuY3Rpb24oYSxiLGUsYyxkKXtteFJlY3RhbmdsZVNoYXBlLnByb3RvdHlwZS5wYWludEZvcmVncm91bmQuYXBwbHkodGhpcyxhcmd1bWVudHMpO3ZhciBmPTA7aWYodGhpcy5pc1JvdW5kZWQpdmFyIGc9bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0FSQ1NJWkUsMTAwKm14Q29uc3RhbnRzLlJFQ1RBTkdMRV9ST1VORElOR19GQUNUT1IpLzEwMCxmPU1hdGgubWF4KGYsTWF0aC5taW4oYypnLGQqZykpO2c9TWF0aC5tYXgoZixNYXRoLm1pbihjLHBhcnNlRmxvYXQobXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLCJkeCIsdGhpcy5keCkpKSk7Zj1NYXRoLm1heChmLE1hdGgubWluKGQsCnBhcnNlRmxvYXQobXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLCJkeSIsdGhpcy5keSkpKSk7YS5iZWdpbigpO2EubW92ZVRvKGIsZStmKTthLmxpbmVUbyhiK2MsZStmKTthLmVuZCgpO2Euc3Ryb2tlKCk7YS5iZWdpbigpO2EubW92ZVRvKGIrZyxlKTthLmxpbmVUbyhiK2csZStkKTthLmVuZCgpO2Euc3Ryb2tlKCl9O214Q2VsbFJlbmRlcmVyLnJlZ2lzdGVyU2hhcGUoImludGVybmFsU3RvcmFnZSIsWSk7bXhVdGlscy5leHRlbmQoUCxteEFjdG9yKTtQLnByb3RvdHlwZS5keD0yMDtQLnByb3RvdHlwZS5keT0yMDtQLnByb3RvdHlwZS5yZWRyYXdQYXRoPWZ1bmN0aW9uKGEsYixlLGMsZCl7Yj1NYXRoLm1heCgwLE1hdGgubWluKGMscGFyc2VGbG9hdChteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsImR4Iix0aGlzLmR4KSkpKTtlPU1hdGgubWF4KDAsTWF0aC5taW4oZCxwYXJzZUZsb2F0KG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSwiZHkiLHRoaXMuZHkpKSkpO3BhcnNlRmxvYXQobXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLAoic2l6ZSIsdGhpcy5zaXplKSk7dmFyIGY9bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0FSQ1NJWkUsbXhDb25zdGFudHMuTElORV9BUkNTSVpFKS8yO3RoaXMuYWRkUG9pbnRzKGEsW25ldyBteFBvaW50KDAsMCksbmV3IG14UG9pbnQoYywwKSxuZXcgbXhQb2ludChjLGUpLG5ldyBteFBvaW50KGIsZSksbmV3IG14UG9pbnQoYixkKSxuZXcgbXhQb2ludCgwLGQpXSx0aGlzLmlzUm91bmRlZCxmLCEwKTthLmVuZCgpfTtteENlbGxSZW5kZXJlci5yZWdpc3RlclNoYXBlKCJjb3JuZXIiLFApO214VXRpbHMuZXh0ZW5kKEwsbXhBY3Rvcik7TC5wcm90b3R5cGUucmVkcmF3UGF0aD1mdW5jdGlvbihhLGIsZSxjLGQpe2EubW92ZVRvKDAsMCk7YS5saW5lVG8oMCxkKTthLmVuZCgpO2EubW92ZVRvKGMsMCk7YS5saW5lVG8oYyxkKTthLmVuZCgpO2EubW92ZVRvKDAsZC8yKTthLmxpbmVUbyhjLGQvMik7YS5lbmQoKX07bXhDZWxsUmVuZGVyZXIucmVnaXN0ZXJTaGFwZSgiY3Jvc3NiYXIiLApMKTtteFV0aWxzLmV4dGVuZChlYSxteEFjdG9yKTtlYS5wcm90b3R5cGUuZHg9MjA7ZWEucHJvdG90eXBlLmR5PTIwO2VhLnByb3RvdHlwZS5yZWRyYXdQYXRoPWZ1bmN0aW9uKGEsYixlLGMsZCl7Yj1NYXRoLm1heCgwLE1hdGgubWluKGMscGFyc2VGbG9hdChteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsImR4Iix0aGlzLmR4KSkpKTtlPU1hdGgubWF4KDAsTWF0aC5taW4oZCxwYXJzZUZsb2F0KG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSwiZHkiLHRoaXMuZHkpKSkpO3BhcnNlRmxvYXQobXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLCJzaXplIix0aGlzLnNpemUpKTt2YXIgZj1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfQVJDU0laRSxteENvbnN0YW50cy5MSU5FX0FSQ1NJWkUpLzI7dGhpcy5hZGRQb2ludHMoYSxbbmV3IG14UG9pbnQoMCwwKSxuZXcgbXhQb2ludChjLDApLG5ldyBteFBvaW50KGMsZSksbmV3IG14UG9pbnQoKGMrCmIpLzIsZSksbmV3IG14UG9pbnQoKGMrYikvMixkKSxuZXcgbXhQb2ludCgoYy1iKS8yLGQpLG5ldyBteFBvaW50KChjLWIpLzIsZSksbmV3IG14UG9pbnQoMCxlKV0sdGhpcy5pc1JvdW5kZWQsZiwhMCk7YS5lbmQoKX07bXhDZWxsUmVuZGVyZXIucmVnaXN0ZXJTaGFwZSgidGVlIixlYSk7bXhVdGlscy5leHRlbmQoTyxteEFjdG9yKTtPLnByb3RvdHlwZS5hcnJvd1dpZHRoPS4zO08ucHJvdG90eXBlLmFycm93U2l6ZT0uMjtPLnByb3RvdHlwZS5yZWRyYXdQYXRoPWZ1bmN0aW9uKGEsYixlLGMsZCl7dmFyIGY9ZCpNYXRoLm1heCgwLE1hdGgubWluKDEscGFyc2VGbG9hdChteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsImFycm93V2lkdGgiLHRoaXMuYXJyb3dXaWR0aCkpKSk7Yj1jKk1hdGgubWF4KDAsTWF0aC5taW4oMSxwYXJzZUZsb2F0KG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSwiYXJyb3dTaXplIix0aGlzLmFycm93U2l6ZSkpKSk7ZT0oZC1mKS8yO3ZhciBmPWUrZiwKZz1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfQVJDU0laRSxteENvbnN0YW50cy5MSU5FX0FSQ1NJWkUpLzI7dGhpcy5hZGRQb2ludHMoYSxbbmV3IG14UG9pbnQoMCxlKSxuZXcgbXhQb2ludChjLWIsZSksbmV3IG14UG9pbnQoYy1iLDApLG5ldyBteFBvaW50KGMsZC8yKSxuZXcgbXhQb2ludChjLWIsZCksbmV3IG14UG9pbnQoYy1iLGYpLG5ldyBteFBvaW50KDAsZildLHRoaXMuaXNSb3VuZGVkLGcsITApO2EuZW5kKCl9O214Q2VsbFJlbmRlcmVyLnJlZ2lzdGVyU2hhcGUoInNpbmdsZUFycm93IixPKTtteFV0aWxzLmV4dGVuZChYLG14QWN0b3IpO1gucHJvdG90eXBlLnJlZHJhd1BhdGg9ZnVuY3Rpb24oYSxiLGUsYyxkKXt2YXIgZj1kKk1hdGgubWF4KDAsTWF0aC5taW4oMSxwYXJzZUZsb2F0KG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSwiYXJyb3dXaWR0aCIsTy5wcm90b3R5cGUuYXJyb3dXaWR0aCkpKSk7Yj1jKk1hdGgubWF4KDAsCk1hdGgubWluKDEscGFyc2VGbG9hdChteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsImFycm93U2l6ZSIsTy5wcm90b3R5cGUuYXJyb3dTaXplKSkpKTtlPShkLWYpLzI7dmFyIGY9ZStmLGc9bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0FSQ1NJWkUsbXhDb25zdGFudHMuTElORV9BUkNTSVpFKS8yO3RoaXMuYWRkUG9pbnRzKGEsW25ldyBteFBvaW50KDAsZC8yKSxuZXcgbXhQb2ludChiLDApLG5ldyBteFBvaW50KGIsZSksbmV3IG14UG9pbnQoYy1iLGUpLG5ldyBteFBvaW50KGMtYiwwKSxuZXcgbXhQb2ludChjLGQvMiksbmV3IG14UG9pbnQoYy1iLGQpLG5ldyBteFBvaW50KGMtYixmKSxuZXcgbXhQb2ludChiLGYpLG5ldyBteFBvaW50KGIsZCldLHRoaXMuaXNSb3VuZGVkLGcsITApO2EuZW5kKCl9O214Q2VsbFJlbmRlcmVyLnJlZ2lzdGVyU2hhcGUoImRvdWJsZUFycm93IixYKTtteFV0aWxzLmV4dGVuZChnYSxteEFjdG9yKTtnYS5wcm90b3R5cGUuc2l6ZT0KLjE7Z2EucHJvdG90eXBlLnJlZHJhd1BhdGg9ZnVuY3Rpb24oYSxiLGUsYyxkKXtiPWMqTWF0aC5tYXgoMCxNYXRoLm1pbigxLHBhcnNlRmxvYXQobXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLCJzaXplIix0aGlzLnNpemUpKSkpO2EubW92ZVRvKGIsMCk7YS5saW5lVG8oYywwKTthLnF1YWRUbyhjLTIqYixkLzIsYyxkKTthLmxpbmVUbyhiLGQpO2EucXVhZFRvKGItMipiLGQvMixiLDApO2EuY2xvc2UoKTthLmVuZCgpfTtteENlbGxSZW5kZXJlci5yZWdpc3RlclNoYXBlKCJkYXRhU3RvcmFnZSIsZ2EpO214VXRpbHMuZXh0ZW5kKHhhLG14QWN0b3IpO3hhLnByb3RvdHlwZS5yZWRyYXdQYXRoPWZ1bmN0aW9uKGEsYixlLGMsZCl7YS5tb3ZlVG8oMCwwKTthLnF1YWRUbyhjLDAsYyxkLzIpO2EucXVhZFRvKGMsZCwwLGQpO2EuY2xvc2UoKTthLmVuZCgpfTtteENlbGxSZW5kZXJlci5yZWdpc3RlclNoYXBlKCJvciIseGEpO214VXRpbHMuZXh0ZW5kKE4sbXhBY3Rvcik7Ti5wcm90b3R5cGUucmVkcmF3UGF0aD0KZnVuY3Rpb24oYSxiLGUsYyxkKXthLm1vdmVUbygwLDApO2EucXVhZFRvKGMsMCxjLGQvMik7YS5xdWFkVG8oYyxkLDAsZCk7YS5xdWFkVG8oYy8yLGQvMiwwLDApO2EuY2xvc2UoKTthLmVuZCgpfTtteENlbGxSZW5kZXJlci5yZWdpc3RlclNoYXBlKCJ4b3IiLE4pO214VXRpbHMuZXh0ZW5kKGhhLG14QWN0b3IpO2hhLnByb3RvdHlwZS5zaXplPTIwO2hhLnByb3RvdHlwZS5pc1JvdW5kYWJsZT1mdW5jdGlvbigpe3JldHVybiEwfTtoYS5wcm90b3R5cGUucmVkcmF3UGF0aD1mdW5jdGlvbihhLGIsZSxjLGQpe2I9TWF0aC5taW4oYy8yLE1hdGgubWluKGQscGFyc2VGbG9hdChteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsInNpemUiLHRoaXMuc2l6ZSkpKSk7ZT1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfQVJDU0laRSxteENvbnN0YW50cy5MSU5FX0FSQ1NJWkUpLzI7dGhpcy5hZGRQb2ludHMoYSxbbmV3IG14UG9pbnQoYiwwKSxuZXcgbXhQb2ludChjLQpiLDApLG5ldyBteFBvaW50KGMsLjgqYiksbmV3IG14UG9pbnQoYyxkKSxuZXcgbXhQb2ludCgwLGQpLG5ldyBteFBvaW50KDAsLjgqYildLHRoaXMuaXNSb3VuZGVkLGUsITApO2EuZW5kKCl9O214Q2VsbFJlbmRlcmVyLnJlZ2lzdGVyU2hhcGUoImxvb3BMaW1pdCIsaGEpO214VXRpbHMuZXh0ZW5kKFMsbXhBY3Rvcik7Uy5wcm90b3R5cGUuc2l6ZT0uMzc1O1MucHJvdG90eXBlLmlzUm91bmRhYmxlPWZ1bmN0aW9uKCl7cmV0dXJuITB9O1MucHJvdG90eXBlLnJlZHJhd1BhdGg9ZnVuY3Rpb24oYSxiLGUsYyxkKXtiPWQqTWF0aC5tYXgoMCxNYXRoLm1pbigxLHBhcnNlRmxvYXQobXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLCJzaXplIix0aGlzLnNpemUpKSkpO2U9bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0FSQ1NJWkUsbXhDb25zdGFudHMuTElORV9BUkNTSVpFKS8yO3RoaXMuYWRkUG9pbnRzKGEsW25ldyBteFBvaW50KDAsMCksbmV3IG14UG9pbnQoYywKMCksbmV3IG14UG9pbnQoYyxkLWIpLG5ldyBteFBvaW50KGMvMixkKSxuZXcgbXhQb2ludCgwLGQtYildLHRoaXMuaXNSb3VuZGVkLGUsITApO2EuZW5kKCl9O214Q2VsbFJlbmRlcmVyLnJlZ2lzdGVyU2hhcGUoIm9mZlBhZ2VDb25uZWN0b3IiLFMpO214VXRpbHMuZXh0ZW5kKGZhLG14RWxsaXBzZSk7ZmEucHJvdG90eXBlLnBhaW50VmVydGV4U2hhcGU9ZnVuY3Rpb24oYSxiLGUsYyxkKXtteEVsbGlwc2UucHJvdG90eXBlLnBhaW50VmVydGV4U2hhcGUuYXBwbHkodGhpcyxhcmd1bWVudHMpO2EuYmVnaW4oKTthLm1vdmVUbyhiK2MvMixlK2QpO2EubGluZVRvKGIrYyxlK2QpO2EuZW5kKCk7YS5zdHJva2UoKX07bXhDZWxsUmVuZGVyZXIucmVnaXN0ZXJTaGFwZSgidGFwZURhdGEiLGZhKTtteFV0aWxzLmV4dGVuZChwYSxteEVsbGlwc2UpO3BhLnByb3RvdHlwZS5wYWludFZlcnRleFNoYXBlPWZ1bmN0aW9uKGEsYixlLGMsZCl7bXhFbGxpcHNlLnByb3RvdHlwZS5wYWludFZlcnRleFNoYXBlLmFwcGx5KHRoaXMsCmFyZ3VtZW50cyk7YS5zZXRTaGFkb3coITEpO2EuYmVnaW4oKTthLm1vdmVUbyhiLGUrZC8yKTthLmxpbmVUbyhiK2MsZStkLzIpO2EuZW5kKCk7YS5zdHJva2UoKTthLmJlZ2luKCk7YS5tb3ZlVG8oYitjLzIsZSk7YS5saW5lVG8oYitjLzIsZStkKTthLmVuZCgpO2Euc3Ryb2tlKCl9O214Q2VsbFJlbmRlcmVyLnJlZ2lzdGVyU2hhcGUoIm9yRWxsaXBzZSIscGEpO214VXRpbHMuZXh0ZW5kKHJhLG14RWxsaXBzZSk7cmEucHJvdG90eXBlLnBhaW50VmVydGV4U2hhcGU9ZnVuY3Rpb24oYSxiLGUsYyxkKXtteEVsbGlwc2UucHJvdG90eXBlLnBhaW50VmVydGV4U2hhcGUuYXBwbHkodGhpcyxhcmd1bWVudHMpO2Euc2V0U2hhZG93KCExKTthLmJlZ2luKCk7YS5tb3ZlVG8oYisuMTQ1KmMsZSsuMTQ1KmQpO2EubGluZVRvKGIrLjg1NSpjLGUrLjg1NSpkKTthLmVuZCgpO2Euc3Ryb2tlKCk7YS5iZWdpbigpO2EubW92ZVRvKGIrLjg1NSpjLGUrLjE0NSpkKTthLmxpbmVUbyhiKy4xNDUqYywKZSsuODU1KmQpO2EuZW5kKCk7YS5zdHJva2UoKX07bXhDZWxsUmVuZGVyZXIucmVnaXN0ZXJTaGFwZSgic3VtRWxsaXBzZSIscmEpO214VXRpbHMuZXh0ZW5kKGxhLG14UmhvbWJ1cyk7bGEucHJvdG90eXBlLnBhaW50VmVydGV4U2hhcGU9ZnVuY3Rpb24oYSxiLGUsYyxkKXtteFJob21idXMucHJvdG90eXBlLnBhaW50VmVydGV4U2hhcGUuYXBwbHkodGhpcyxhcmd1bWVudHMpO2Euc2V0U2hhZG93KCExKTthLmJlZ2luKCk7YS5tb3ZlVG8oYixlK2QvMik7YS5saW5lVG8oYitjLGUrZC8yKTthLmVuZCgpO2Euc3Ryb2tlKCl9O214Q2VsbFJlbmRlcmVyLnJlZ2lzdGVyU2hhcGUoInNvcnRTaGFwZSIsbGEpO214VXRpbHMuZXh0ZW5kKHFhLG14RWxsaXBzZSk7cWEucHJvdG90eXBlLnBhaW50VmVydGV4U2hhcGU9ZnVuY3Rpb24oYSxiLGUsYyxkKXthLmJlZ2luKCk7YS5tb3ZlVG8oYixlKTthLmxpbmVUbyhiK2MsZSk7YS5saW5lVG8oYitjLzIsZStkLzIpO2EuY2xvc2UoKTthLmZpbGxBbmRTdHJva2UoKTsKYS5iZWdpbigpO2EubW92ZVRvKGIsZStkKTthLmxpbmVUbyhiK2MsZStkKTthLmxpbmVUbyhiK2MvMixlK2QvMik7YS5jbG9zZSgpO2EuZmlsbEFuZFN0cm9rZSgpfTtteENlbGxSZW5kZXJlci5yZWdpc3RlclNoYXBlKCJjb2xsYXRlIixxYSk7bXhVdGlscy5leHRlbmQobmEsbXhFbGxpcHNlKTtuYS5wcm90b3R5cGUucGFpbnRWZXJ0ZXhTaGFwZT1mdW5jdGlvbihhLGIsZSxjLGQpe3ZhciBmPWUrZC01O2EuYmVnaW4oKTthLm1vdmVUbyhiLGUpO2EubGluZVRvKGIsZStkKTthLm1vdmVUbyhiLGYpO2EubGluZVRvKGIrMTAsZi01KTthLm1vdmVUbyhiLGYpO2EubGluZVRvKGIrMTAsZis1KTthLm1vdmVUbyhiLGYpO2EubGluZVRvKGIrYyxmKTthLm1vdmVUbyhiK2MsZSk7YS5saW5lVG8oYitjLGUrZCk7YS5tb3ZlVG8oYitjLGYpO2EubGluZVRvKGIrYy0xMCxmLTUpO2EubW92ZVRvKGIrYyxmKTthLmxpbmVUbyhiK2MtMTAsZis1KTthLmVuZCgpO2Euc3Ryb2tlKCl9O214Q2VsbFJlbmRlcmVyLnJlZ2lzdGVyU2hhcGUoImRpbWVuc2lvbiIsCm5hKTtteFV0aWxzLmV4dGVuZChBYSxteEVsbGlwc2UpO0FhLnByb3RvdHlwZS5wYWludFZlcnRleFNoYXBlPWZ1bmN0aW9uKGEsYixlLGMsZCl7dGhpcy5vdXRsaW5lfHxhLnNldFN0cm9rZUNvbG9yKG51bGwpO214UmVjdGFuZ2xlU2hhcGUucHJvdG90eXBlLnBhaW50QmFja2dyb3VuZC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7bnVsbCE9dGhpcy5zdHlsZSYmKGEuc2V0U3Ryb2tlQ29sb3IodGhpcy5zdHJva2UpLGEucmVjdChiLGUsYyxkKSxhLmZpbGwoKSxhLmJlZ2luKCksYS5tb3ZlVG8oYixlKSwiMSI9PW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSwidG9wIiwiMSIpP2EubGluZVRvKGIrYyxlKTphLm1vdmVUbyhiK2MsZSksIjEiPT1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsInJpZ2h0IiwiMSIpP2EubGluZVRvKGIrYyxlK2QpOmEubW92ZVRvKGIrYyxlK2QpLCIxIj09bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLCJib3R0b20iLCIxIik/YS5saW5lVG8oYixlKwpkKTphLm1vdmVUbyhiLGUrZCksIjEiPT1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsImxlZnQiLCIxIikmJmEubGluZVRvKGIsZSksYS5lbmQoKSxhLnN0cm9rZSgpKX07bXhDZWxsUmVuZGVyZXIucmVnaXN0ZXJTaGFwZSgicGFydGlhbFJlY3RhbmdsZSIsQWEpO214VXRpbHMuZXh0ZW5kKHlhLG14RWxsaXBzZSk7eWEucHJvdG90eXBlLnBhaW50VmVydGV4U2hhcGU9ZnVuY3Rpb24oYSxiLGUsYyxkKXtteEVsbGlwc2UucHJvdG90eXBlLnBhaW50VmVydGV4U2hhcGUuYXBwbHkodGhpcyxhcmd1bWVudHMpO2Euc2V0U2hhZG93KCExKTthLmJlZ2luKCk7InZlcnRpY2FsIj09bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLCJsaW5lIik/KGEubW92ZVRvKGIrYy8yLGUpLGEubGluZVRvKGIrYy8yLGUrZCkpOihhLm1vdmVUbyhiLGUrZC8yKSxhLmxpbmVUbyhiK2MsZStkLzIpKTthLmVuZCgpO2Euc3Ryb2tlKCl9O214Q2VsbFJlbmRlcmVyLnJlZ2lzdGVyU2hhcGUoImxpbmVFbGxpcHNlIiwKeWEpO214VXRpbHMuZXh0ZW5kKG9hLG14QWN0b3IpO29hLnByb3RvdHlwZS5yZWRyYXdQYXRoPWZ1bmN0aW9uKGEsYixlLGMsZCl7Yj1NYXRoLm1pbihjLGQvMik7YS5tb3ZlVG8oMCwwKTthLmxpbmVUbyhjLWIsMCk7YS5xdWFkVG8oYywwLGMsZC8yKTthLnF1YWRUbyhjLGQsYy1iLGQpO2EubGluZVRvKDAsZCk7YS5jbG9zZSgpO2EuZW5kKCl9O214Q2VsbFJlbmRlcmVyLnJlZ2lzdGVyU2hhcGUoImRlbGF5IixvYSk7bXhVdGlscy5leHRlbmQoc2EsbXhBY3Rvcik7c2EucHJvdG90eXBlLnNpemU9LjI7c2EucHJvdG90eXBlLnJlZHJhd1BhdGg9ZnVuY3Rpb24oYSxiLGUsYyxkKXtiPU1hdGgubWluKGQsYyk7dmFyIGY9TWF0aC5tYXgoMCxNYXRoLm1pbihiLGIqcGFyc2VGbG9hdChteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsInNpemUiLHRoaXMuc2l6ZSkpKSk7Yj0oZC1mKS8yO2U9YitmO3ZhciBnPShjLWYpLzIsZj1nK2Y7YS5tb3ZlVG8oMCxiKTthLmxpbmVUbyhnLGIpO2EubGluZVRvKGcsCjApO2EubGluZVRvKGYsMCk7YS5saW5lVG8oZixiKTthLmxpbmVUbyhjLGIpO2EubGluZVRvKGMsZSk7YS5saW5lVG8oZixlKTthLmxpbmVUbyhmLGQpO2EubGluZVRvKGcsZCk7YS5saW5lVG8oZyxlKTthLmxpbmVUbygwLGUpO2EuY2xvc2UoKTthLmVuZCgpfTtteENlbGxSZW5kZXJlci5yZWdpc3RlclNoYXBlKCJjcm9zcyIsc2EpO214VXRpbHMuZXh0ZW5kKHVhLG14QWN0b3IpO3VhLnByb3RvdHlwZS5zaXplPS4yNTt1YS5wcm90b3R5cGUucmVkcmF3UGF0aD1mdW5jdGlvbihhLGIsZSxjLGQpe2I9TWF0aC5taW4oYyxkLzIpO2U9TWF0aC5taW4oYy1iLE1hdGgubWF4KDAscGFyc2VGbG9hdChteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsInNpemUiLHRoaXMuc2l6ZSkpKSpjKTthLm1vdmVUbygwLGQvMik7YS5saW5lVG8oZSwwKTthLmxpbmVUbyhjLWIsMCk7YS5xdWFkVG8oYywwLGMsZC8yKTthLnF1YWRUbyhjLGQsYy1iLGQpO2EubGluZVRvKGUsZCk7YS5jbG9zZSgpO2EuZW5kKCl9OwpteENlbGxSZW5kZXJlci5yZWdpc3RlclNoYXBlKCJkaXNwbGF5Iix1YSk7bXhVdGlscy5leHRlbmQoamEsbXhDb25uZWN0b3IpO2phLnByb3RvdHlwZS5vcmlnUGFpbnRFZGdlU2hhcGU9amEucHJvdG90eXBlLnBhaW50RWRnZVNoYXBlO2phLnByb3RvdHlwZS5wYWludEVkZ2VTaGFwZT1mdW5jdGlvbihhLGIsZSl7Zm9yKHZhciBjPVtdLGQ9MDtkPGIubGVuZ3RoO2QrKyljLnB1c2gobXhVdGlscy5jbG9uZShiW2RdKSk7dmFyIGQ9YS5zdGF0ZS5kYXNoZWQsZj1hLnN0YXRlLmZpeERhc2g7amEucHJvdG90eXBlLm9yaWdQYWludEVkZ2VTaGFwZS5hcHBseSh0aGlzLFthLGMsZV0pOzM8PWEuc3RhdGUuc3Ryb2tlV2lkdGgmJihjPW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSwiZmlsbENvbG9yIixudWxsKSxudWxsIT1jJiYoYS5zZXRTdHJva2VDb2xvcihjKSxhLnNldFN0cm9rZVdpZHRoKGEuc3RhdGUuc3Ryb2tlV2lkdGgtMiksYS5zZXREYXNoZWQoZCxmKSxqYS5wcm90b3R5cGUub3JpZ1BhaW50RWRnZVNoYXBlLmFwcGx5KHRoaXMsClthLGIsZV0pKSl9O214Q2VsbFJlbmRlcmVyLnJlZ2lzdGVyU2hhcGUoImZpbGxlZEVkZ2UiLGphKTsidW5kZWZpbmVkIiE9PXR5cGVvZiBTdHlsZUZvcm1hdFBhbmVsJiZmdW5jdGlvbigpe3ZhciBhPVN0eWxlRm9ybWF0UGFuZWwucHJvdG90eXBlLmdldEN1c3RvbUNvbG9ycztTdHlsZUZvcm1hdFBhbmVsLnByb3RvdHlwZS5nZXRDdXN0b21Db2xvcnM9ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmZvcm1hdC5nZXRTZWxlY3Rpb25TdGF0ZSgpLGU9YS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7InVtbEZyYW1lIj09Yi5zdHlsZS5zaGFwZSYmZS5wdXNoKHt0aXRsZTpteFJlc291cmNlcy5nZXQoImxhbmVDb2xvciIpLGtleToic3dpbWxhbmVGaWxsQ29sb3IiLGRlZmF1bHRWYWx1ZToiI2ZmZmZmZiJ9KTtyZXR1cm4gZX19KCk7bXhNYXJrZXIuYWRkTWFya2VyKCJkYXNoIixmdW5jdGlvbihhLGIsZSxjLGQsZixnLGwsbix1KXt2YXIgcD1kKihnK24rMSksdD1mKihnK24rMSk7cmV0dXJuIGZ1bmN0aW9uKCl7YS5iZWdpbigpOwphLm1vdmVUbyhjLngtcC8yLXQvMixjLnktdC8yK3AvMik7YS5saW5lVG8oYy54K3QvMi0zKnAvMixjLnktMyp0LzItcC8yKTthLnN0cm9rZSgpfX0pO214TWFya2VyLmFkZE1hcmtlcigiYm94IixmdW5jdGlvbihhLGIsZSxjLGQsZixnLGwsbix1KXt2YXIgcD1kKihnK24rMSksdD1mKihnK24rMSksQT1jLngrcC8yLGs9Yy55K3QvMjtjLngtPXA7Yy55LT10O3JldHVybiBmdW5jdGlvbigpe2EuYmVnaW4oKTthLm1vdmVUbyhBLXAvMi10LzIsay10LzIrcC8yKTthLmxpbmVUbyhBLXAvMit0LzIsay10LzItcC8yKTthLmxpbmVUbyhBK3QvMi0zKnAvMixrLTMqdC8yLXAvMik7YS5saW5lVG8oQS10LzItMypwLzIsay0zKnQvMitwLzIpO2EuY2xvc2UoKTt1P2EuZmlsbEFuZFN0cm9rZSgpOmEuc3Ryb2tlKCl9fSk7bXhNYXJrZXIuYWRkTWFya2VyKCJjcm9zcyIsZnVuY3Rpb24oYSxiLGUsYyxkLGYsZyxsLG4sdSl7dmFyIHA9ZCooZytuKzEpLHQ9ZiooZytuKzEpO3JldHVybiBmdW5jdGlvbigpe2EuYmVnaW4oKTsKYS5tb3ZlVG8oYy54LXAvMi10LzIsYy55LXQvMitwLzIpO2EubGluZVRvKGMueCt0LzItMypwLzIsYy55LTMqdC8yLXAvMik7YS5tb3ZlVG8oYy54LXAvMit0LzIsYy55LXQvMi1wLzIpO2EubGluZVRvKGMueC10LzItMypwLzIsYy55LTMqdC8yK3AvMik7YS5zdHJva2UoKX19KTtteE1hcmtlci5hZGRNYXJrZXIoImNpcmNsZSIsRGEpO214TWFya2VyLmFkZE1hcmtlcigiY2lyY2xlUGx1cyIsZnVuY3Rpb24oYSxiLGUsYyxkLGYsZyxsLG4sdSl7dmFyIHA9Yy5jbG9uZSgpLHQ9RGEuYXBwbHkodGhpcyxhcmd1bWVudHMpLEE9ZCooZysyKm4pLGs9ZiooZysyKm4pO3JldHVybiBmdW5jdGlvbigpe3QuYXBwbHkodGhpcyxhcmd1bWVudHMpO2EuYmVnaW4oKTthLm1vdmVUbyhwLngtZCpuLHAueS1mKm4pO2EubGluZVRvKHAueC0yKkErZCpuLHAueS0yKmsrZipuKTthLm1vdmVUbyhwLngtQS1rK2YqbixwLnktaytBLWQqbik7YS5saW5lVG8ocC54K2stQS1mKm4scC55LWstQStkKm4pO2Euc3Ryb2tlKCl9fSk7Cm14TWFya2VyLmFkZE1hcmtlcigiaGFsZkNpcmNsZSIsZnVuY3Rpb24oYSxiLGUsYyxkLGYsZyxsLG4sdSl7dmFyIHA9ZCooZytuKzEpLHQ9ZiooZytuKzEpLEE9Yy5jbG9uZSgpO2MueC09cDtjLnktPXQ7cmV0dXJuIGZ1bmN0aW9uKCl7YS5iZWdpbigpO2EubW92ZVRvKEEueC10LEEueStwKTthLnF1YWRUbyhjLngtdCxjLnkrcCxjLngsYy55KTthLnF1YWRUbyhjLngrdCxjLnktcCxBLngrdCxBLnktcCk7YS5zdHJva2UoKX19KTtteE1hcmtlci5hZGRNYXJrZXIoImFzeW5jIixmdW5jdGlvbihhLGIsZSxjLGQsZixnLGwsbix1KXtiPWQqbioxLjExODtlPWYqbioxLjExODtkKj1nK247Zio9ZytuO3ZhciBwPWMuY2xvbmUoKTtwLngtPWI7cC55LT1lO2MueCs9MSotZC1iO2MueSs9MSotZi1lO3JldHVybiBmdW5jdGlvbigpe2EuYmVnaW4oKTthLm1vdmVUbyhwLngscC55KTtsP2EubGluZVRvKHAueC1kLWYvMixwLnktZitkLzIpOmEubGluZVRvKHAueCtmLzItZCxwLnktZi1kLzIpOwphLmxpbmVUbyhwLngtZCxwLnktZik7YS5jbG9zZSgpO3U/YS5maWxsQW5kU3Ryb2tlKCk6YS5zdHJva2UoKX19KTtteE1hcmtlci5hZGRNYXJrZXIoIm9wZW5Bc3luYyIsZnVuY3Rpb24oYSl7YT1udWxsIT1hP2E6MjtyZXR1cm4gZnVuY3Rpb24oYixlLGMsZCxmLGcsbCxuLHUscCl7Zio9bCt1O2cqPWwrdTt2YXIgdD1kLmNsb25lKCk7cmV0dXJuIGZ1bmN0aW9uKCl7Yi5iZWdpbigpO2IubW92ZVRvKHQueCx0LnkpO24/Yi5saW5lVG8odC54LWYtZy9hLHQueS1nK2YvYSk6Yi5saW5lVG8odC54K2cvYS1mLHQueS1nLWYvYSk7Yi5zdHJva2UoKX19fSgyKSk7aWYoInVuZGVmaW5lZCIhPT10eXBlb2YgbXhWZXJ0ZXhIYW5kbGVyKXt2YXIgT2E9ZnVuY3Rpb24oYSxiLGUpe3JldHVybiBDYShhLFsid2lkdGgiXSxiLGZ1bmN0aW9uKGIsYyxkLGYsZyl7Zz1hLnNoYXBlLmdldEVkZ2VXaWR0aCgpKmEudmlldy5zY2FsZStlO3JldHVybiBuZXcgbXhQb2ludChmLngrYypiLzQrZCpnLzIsZi55KwpkKmIvNC1jKmcvMil9LGZ1bmN0aW9uKGIsYyxkLGYsZyxsKXtiPU1hdGguc3FydChteFV0aWxzLnB0U2VnRGlzdFNxKGYueCxmLnksZy54LGcueSxsLngsbC55KSk7YS5zdHlsZS53aWR0aD1NYXRoLnJvdW5kKDIqYikvYS52aWV3LnNjYWxlLWV9KX0sQ2E9ZnVuY3Rpb24oYSxiLGUsYyxkKXtyZXR1cm4gVihhLGIsZnVuY3Rpb24oYil7dmFyIGQ9YS5hYnNvbHV0ZVBvaW50cyxmPWQubGVuZ3RoLTE7Yj1hLnZpZXcudHJhbnNsYXRlO3ZhciBnPWEudmlldy5zY2FsZSxsPWU/ZFswXTpkW2ZdLGQ9ZT9kWzFdOmRbZi0xXSxmPWQueC1sLngsbj1kLnktbC55LHU9TWF0aC5zcXJ0KGYqZituKm4pLGw9Yy5jYWxsKHRoaXMsdSxmL3Usbi91LGwsZCk7cmV0dXJuIG5ldyBteFBvaW50KGwueC9nLWIueCxsLnkvZy1iLnkpfSxmdW5jdGlvbihiLGMsZil7dmFyIGc9YS5hYnNvbHV0ZVBvaW50cyxsPWcubGVuZ3RoLTE7Yj1hLnZpZXcudHJhbnNsYXRlO3ZhciBuPWEudmlldy5zY2FsZSx1PWU/Z1swXToKZ1tsXSxnPWU/Z1sxXTpnW2wtMV0sbD1nLngtdS54LHA9Zy55LXUueSx0PU1hdGguc3FydChsKmwrcCpwKTtjLng9KGMueCtiLngpKm47Yy55PShjLnkrYi55KSpuO2QuY2FsbCh0aGlzLHQsbC90LHAvdCx1LGcsYyxmKX0pfSx3YT1mdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYil7cmV0dXJuW1YoYixbImFycm93V2lkdGgiLCJhcnJvd1NpemUiXSxmdW5jdGlvbihiKXt2YXIgZT1NYXRoLm1heCgwLE1hdGgubWluKDEsbXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0YXRlLnN0eWxlLCJhcnJvd1dpZHRoIixPLnByb3RvdHlwZS5hcnJvd1dpZHRoKSkpLGM9TWF0aC5tYXgoMCxNYXRoLm1pbihhLG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdGF0ZS5zdHlsZSwiYXJyb3dTaXplIixPLnByb3RvdHlwZS5hcnJvd1NpemUpKSk7cmV0dXJuIG5ldyBteFBvaW50KGIueCsoMS1jKSpiLndpZHRoLGIueSsoMS1lKSpiLmhlaWdodC8yKX0sZnVuY3Rpb24oYixlKXt0aGlzLnN0YXRlLnN0eWxlLmFycm93V2lkdGg9Ck1hdGgubWF4KDAsTWF0aC5taW4oMSxNYXRoLmFicyhiLnkrYi5oZWlnaHQvMi1lLnkpL2IuaGVpZ2h0KjIpKTt0aGlzLnN0YXRlLnN0eWxlLmFycm93U2l6ZT1NYXRoLm1heCgwLE1hdGgubWluKGEsKGIueCtiLndpZHRoLWUueCkvYi53aWR0aCkpfSldfX0sS2E9ZnVuY3Rpb24oYSxiLGUpe3JldHVybiBmdW5jdGlvbihjKXt2YXIgZD1bVihjLFsic2l6ZSJdLGZ1bmN0aW9uKGUpe3ZhciBjPU1hdGgubWF4KDAsTWF0aC5taW4oZS53aWR0aCxNYXRoLm1pbihlLmhlaWdodCxwYXJzZUZsb2F0KG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdGF0ZS5zdHlsZSwic2l6ZSIsYikpKSkpKmE7cmV0dXJuIG5ldyBteFBvaW50KGUueCtjLGUueStjKX0sZnVuY3Rpb24oYixlKXt0aGlzLnN0YXRlLnN0eWxlLnNpemU9TWF0aC5yb3VuZChNYXRoLm1heCgwLE1hdGgubWluKE1hdGgubWluKGIud2lkdGgsZS54LWIueCksTWF0aC5taW4oYi5oZWlnaHQsZS55LWIueSkpKS9hKX0sITEpXTtlJiZteFV0aWxzLmdldFZhbHVlKGMuc3R5bGUsCm14Q29uc3RhbnRzLlNUWUxFX1JPVU5ERUQsITEpJiZkLnB1c2godGEoYykpO3JldHVybiBkfX0sRWE9ZnVuY3Rpb24oYSxiLGUsYyxkKXtlPW51bGwhPWU/ZToxO3JldHVybiBmdW5jdGlvbihmKXt2YXIgZz1bVihmLFsic2l6ZSJdLGZ1bmN0aW9uKGIpe3ZhciBlPW51bGwhPWQ/IjAiIT1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3RhdGUuc3R5bGUsImZpeGVkU2l6ZSIsIjAiKTpudWxsLGM9cGFyc2VGbG9hdChteFV0aWxzLmdldFZhbHVlKHRoaXMuc3RhdGUuc3R5bGUsInNpemUiLGU/ZDphKSk7cmV0dXJuIG5ldyBteFBvaW50KGIueCtNYXRoLm1heCgwLE1hdGgubWluKGIud2lkdGgsYyooZT8xOmIud2lkdGgpKSksYi5nZXRDZW50ZXJZKCkpfSxmdW5jdGlvbihhLGIsYyl7YT1udWxsIT1kJiYiMCIhPW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdGF0ZS5zdHlsZSwiZml4ZWRTaXplIiwiMCIpP2IueC1hLng6TWF0aC5tYXgoMCxNYXRoLm1pbihlLChiLngtYS54KS9hLndpZHRoKSk7dGhpcy5zdGF0ZS5zdHlsZS5zaXplPQphfSwhMSxjKV07YiYmbXhVdGlscy5nZXRWYWx1ZShmLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX1JPVU5ERUQsITEpJiZnLnB1c2godGEoZikpO3JldHVybiBnfX0sTGE9ZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3ZhciBlPVtWKGIsWyJzaXplIl0sZnVuY3Rpb24oYil7dmFyIGU9TWF0aC5tYXgoMCxNYXRoLm1pbihhLHBhcnNlRmxvYXQobXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0YXRlLnN0eWxlLCJzaXplIixsLnByb3RvdHlwZS5zaXplKSkpKTtyZXR1cm4gbmV3IG14UG9pbnQoYi54K2UqYi53aWR0aCouNzUsYi55K2IuaGVpZ2h0LzQpfSxmdW5jdGlvbihiLGUpe3RoaXMuc3RhdGUuc3R5bGUuc2l6ZT1NYXRoLm1heCgwLE1hdGgubWluKGEsKGUueC1iLngpLyguNzUqYi53aWR0aCkpKX0sITEsITApXTtteFV0aWxzLmdldFZhbHVlKGIuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfUk9VTkRFRCwhMSkmJmUucHVzaCh0YShiKSk7cmV0dXJuIGV9fSxCYT1mdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihhKXt2YXIgYj0KW107bXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX1JPVU5ERUQsITEpJiZiLnB1c2godGEoYSkpO3JldHVybiBifX0sdGE9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gVihhLFtteENvbnN0YW50cy5TVFlMRV9BUkNTSVpFXSxmdW5jdGlvbihlKXt2YXIgYz1udWxsIT1iP2I6ZS5oZWlnaHQvODtpZigiMSI9PW14VXRpbHMuZ2V0VmFsdWUoYS5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9BQlNPTFVURV9BUkNTSVpFLDApKXt2YXIgZD1teFV0aWxzLmdldFZhbHVlKGEuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfQVJDU0laRSxteENvbnN0YW50cy5MSU5FX0FSQ1NJWkUpLzI7cmV0dXJuIG5ldyBteFBvaW50KGUueCtlLndpZHRoLU1hdGgubWluKGUud2lkdGgvMixkKSxlLnkrYyl9ZD1NYXRoLm1heCgwLHBhcnNlRmxvYXQobXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0FSQ1NJWkUsMTAwKm14Q29uc3RhbnRzLlJFQ1RBTkdMRV9ST1VORElOR19GQUNUT1IpKSkvCjEwMDtyZXR1cm4gbmV3IG14UG9pbnQoZS54K2Uud2lkdGgtTWF0aC5taW4oTWF0aC5tYXgoZS53aWR0aC8yLGUuaGVpZ2h0LzIpLE1hdGgubWluKGUud2lkdGgsZS5oZWlnaHQpKmQpLGUueStjKX0sZnVuY3Rpb24oYixlLGMpeyIxIj09bXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0FCU09MVVRFX0FSQ1NJWkUsMCk/dGhpcy5zdGF0ZS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9BUkNTSVpFXT1NYXRoLnJvdW5kKE1hdGgubWF4KDAsTWF0aC5taW4oYi53aWR0aCwyKihiLngrYi53aWR0aC1lLngpKSkpOnRoaXMuc3RhdGUuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfQVJDU0laRV09TWF0aC5yb3VuZChNYXRoLm1pbig1MCxNYXRoLm1heCgwLDEwMCooYi53aWR0aC1lLngrYi54KS9NYXRoLm1pbihiLndpZHRoLGIuaGVpZ2h0KSkpKX0pfSxWPWZ1bmN0aW9uKGEsYixlLGMsZCxmLGcpe3ZhciBsPW5ldyBteEhhbmRsZShhLG51bGwsbXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5zZWNvbmRhcnlIYW5kbGVJbWFnZSk7CmwuZXhlY3V0ZT1mdW5jdGlvbihhKXtmb3IodmFyIGU9MDtlPGIubGVuZ3RoO2UrKyl0aGlzLmNvcHlTdHlsZShiW2VdKTtnJiZnKGEpfTtsLmdldFBvc2l0aW9uPWU7bC5zZXRQb3NpdGlvbj1jO2wuaWdub3JlR3JpZD1udWxsIT1kP2Q6ITA7aWYoZil7dmFyIG49bC5wb3NpdGlvbkNoYW5nZWQ7bC5wb3NpdGlvbkNoYW5nZWQ9ZnVuY3Rpb24oKXtuLmFwcGx5KHRoaXMsYXJndW1lbnRzKTthLnZpZXcuaW52YWxpZGF0ZSh0aGlzLnN0YXRlLmNlbGwpO2Eudmlldy52YWxpZGF0ZSgpfX1yZXR1cm4gbH0sRmE9e2xpbms6ZnVuY3Rpb24oYSl7cmV0dXJuW09hKGEsITAsMTApLE9hKGEsITEsMTApXX0sZmxleEFycm93OmZ1bmN0aW9uKGEpe3ZhciBiPWEudmlldy5ncmFwaC5ncmlkU2l6ZS9hLnZpZXcuc2NhbGUsZT1bXTtteFV0aWxzLmdldFZhbHVlKGEuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfU1RBUlRBUlJPVyxteENvbnN0YW50cy5OT05FKSE9bXhDb25zdGFudHMuTk9ORSYmKGUucHVzaChDYShhLApbIndpZHRoIixteENvbnN0YW50cy5TVFlMRV9TVEFSVFNJWkUsbXhDb25zdGFudHMuU1RZTEVfRU5EU0laRV0sITAsZnVuY3Rpb24oYixlLGMsZCxmKXtiPShhLnNoYXBlLmdldEVkZ2VXaWR0aCgpLWEuc2hhcGUuc3Ryb2tld2lkdGgpKmEudmlldy5zY2FsZTtmPTMqbXhVdGlscy5nZXROdW1iZXIoYS5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9TVEFSVFNJWkUsbXhDb25zdGFudHMuQVJST1dfU0laRS81KSphLnZpZXcuc2NhbGU7cmV0dXJuIG5ldyBteFBvaW50KGQueCtlKihmK2Euc2hhcGUuc3Ryb2tld2lkdGgqYS52aWV3LnNjYWxlKStjKmIvMixkLnkrYyooZithLnNoYXBlLnN0cm9rZXdpZHRoKmEudmlldy5zY2FsZSktZSpiLzIpfSxmdW5jdGlvbihlLGMsZCxmLGcsbCxuKXtlPU1hdGguc3FydChteFV0aWxzLnB0U2VnRGlzdFNxKGYueCxmLnksZy54LGcueSxsLngsbC55KSk7Yz1teFV0aWxzLnB0TGluZURpc3QoZi54LGYueSxmLngrZCxmLnktYyxsLngsbC55KTthLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX1NUQVJUU0laRV09Ck1hdGgucm91bmQoMTAwKihjLWEuc2hhcGUuc3Ryb2tld2lkdGgpLzMpLzEwMC9hLnZpZXcuc2NhbGU7YS5zdHlsZS53aWR0aD1NYXRoLnJvdW5kKDIqZSkvYS52aWV3LnNjYWxlO214RXZlbnQuaXNDb250cm9sRG93bihuLmdldEV2ZW50KCkpJiYoYS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9FTkRTSVpFXT1hLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX1NUQVJUU0laRV0pO214RXZlbnQuaXNBbHREb3duKG4uZ2V0RXZlbnQoKSl8fE1hdGguYWJzKHBhcnNlRmxvYXQoYS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9TVEFSVFNJWkVdKS1wYXJzZUZsb2F0KGEuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfRU5EU0laRV0pKTxiLzYmJihhLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX1NUQVJUU0laRV09YS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9FTkRTSVpFXSl9KSksZS5wdXNoKENhKGEsWyJzdGFydFdpZHRoIiwiZW5kV2lkdGgiLG14Q29uc3RhbnRzLlNUWUxFX1NUQVJUU0laRSxteENvbnN0YW50cy5TVFlMRV9FTkRTSVpFXSwKITAsZnVuY3Rpb24oYixlLGMsZCxmKXtiPShhLnNoYXBlLmdldFN0YXJ0QXJyb3dXaWR0aCgpLWEuc2hhcGUuc3Ryb2tld2lkdGgpKmEudmlldy5zY2FsZTtmPTMqbXhVdGlscy5nZXROdW1iZXIoYS5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9TVEFSVFNJWkUsbXhDb25zdGFudHMuQVJST1dfU0laRS81KSphLnZpZXcuc2NhbGU7cmV0dXJuIG5ldyBteFBvaW50KGQueCtlKihmK2Euc2hhcGUuc3Ryb2tld2lkdGgqYS52aWV3LnNjYWxlKStjKmIvMixkLnkrYyooZithLnNoYXBlLnN0cm9rZXdpZHRoKmEudmlldy5zY2FsZSktZSpiLzIpfSxmdW5jdGlvbihlLGMsZCxmLGcsbCxuKXtlPU1hdGguc3FydChteFV0aWxzLnB0U2VnRGlzdFNxKGYueCxmLnksZy54LGcueSxsLngsbC55KSk7Yz1teFV0aWxzLnB0TGluZURpc3QoZi54LGYueSxmLngrZCxmLnktYyxsLngsbC55KTthLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX1NUQVJUU0laRV09TWF0aC5yb3VuZCgxMDAqKGMtYS5zaGFwZS5zdHJva2V3aWR0aCkvCjMpLzEwMC9hLnZpZXcuc2NhbGU7YS5zdHlsZS5zdGFydFdpZHRoPU1hdGgubWF4KDAsTWF0aC5yb3VuZCgyKmUpLWEuc2hhcGUuZ2V0RWRnZVdpZHRoKCkpL2Eudmlldy5zY2FsZTtteEV2ZW50LmlzQ29udHJvbERvd24obi5nZXRFdmVudCgpKSYmKGEuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfRU5EU0laRV09YS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9TVEFSVFNJWkVdLGEuc3R5bGUuZW5kV2lkdGg9YS5zdHlsZS5zdGFydFdpZHRoKTtteEV2ZW50LmlzQWx0RG93bihuLmdldEV2ZW50KCkpfHwoTWF0aC5hYnMocGFyc2VGbG9hdChhLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX1NUQVJUU0laRV0pLXBhcnNlRmxvYXQoYS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9FTkRTSVpFXSkpPGIvNiYmKGEuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfU1RBUlRTSVpFXT1hLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX0VORFNJWkVdKSxNYXRoLmFicyhwYXJzZUZsb2F0KGEuc3R5bGUuc3RhcnRXaWR0aCktCnBhcnNlRmxvYXQoYS5zdHlsZS5lbmRXaWR0aCkpPGImJihhLnN0eWxlLnN0YXJ0V2lkdGg9YS5zdHlsZS5lbmRXaWR0aCkpfSkpKTtteFV0aWxzLmdldFZhbHVlKGEuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfRU5EQVJST1csbXhDb25zdGFudHMuTk9ORSkhPW14Q29uc3RhbnRzLk5PTkUmJihlLnB1c2goQ2EoYSxbIndpZHRoIixteENvbnN0YW50cy5TVFlMRV9TVEFSVFNJWkUsbXhDb25zdGFudHMuU1RZTEVfRU5EU0laRV0sITEsZnVuY3Rpb24oYixlLGMsZCxmKXtiPShhLnNoYXBlLmdldEVkZ2VXaWR0aCgpLWEuc2hhcGUuc3Ryb2tld2lkdGgpKmEudmlldy5zY2FsZTtmPTMqbXhVdGlscy5nZXROdW1iZXIoYS5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9FTkRTSVpFLG14Q29uc3RhbnRzLkFSUk9XX1NJWkUvNSkqYS52aWV3LnNjYWxlO3JldHVybiBuZXcgbXhQb2ludChkLngrZSooZithLnNoYXBlLnN0cm9rZXdpZHRoKmEudmlldy5zY2FsZSktYypiLzIsZC55K2MqKGYrYS5zaGFwZS5zdHJva2V3aWR0aCoKYS52aWV3LnNjYWxlKStlKmIvMil9LGZ1bmN0aW9uKGUsYyxkLGYsZyxsLG4pe2U9TWF0aC5zcXJ0KG14VXRpbHMucHRTZWdEaXN0U3EoZi54LGYueSxnLngsZy55LGwueCxsLnkpKTtjPW14VXRpbHMucHRMaW5lRGlzdChmLngsZi55LGYueCtkLGYueS1jLGwueCxsLnkpO2Euc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfRU5EU0laRV09TWF0aC5yb3VuZCgxMDAqKGMtYS5zaGFwZS5zdHJva2V3aWR0aCkvMykvMTAwL2Eudmlldy5zY2FsZTthLnN0eWxlLndpZHRoPU1hdGgucm91bmQoMiplKS9hLnZpZXcuc2NhbGU7bXhFdmVudC5pc0NvbnRyb2xEb3duKG4uZ2V0RXZlbnQoKSkmJihhLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX1NUQVJUU0laRV09YS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9FTkRTSVpFXSk7bXhFdmVudC5pc0FsdERvd24obi5nZXRFdmVudCgpKXx8TWF0aC5hYnMocGFyc2VGbG9hdChhLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX0VORFNJWkVdKS1wYXJzZUZsb2F0KGEuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfU1RBUlRTSVpFXSkpPApiLzYmJihhLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX0VORFNJWkVdPWEuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfU1RBUlRTSVpFXSl9KSksZS5wdXNoKENhKGEsWyJzdGFydFdpZHRoIiwiZW5kV2lkdGgiLG14Q29uc3RhbnRzLlNUWUxFX1NUQVJUU0laRSxteENvbnN0YW50cy5TVFlMRV9FTkRTSVpFXSwhMSxmdW5jdGlvbihiLGUsYyxkLGYpe2I9KGEuc2hhcGUuZ2V0RW5kQXJyb3dXaWR0aCgpLWEuc2hhcGUuc3Ryb2tld2lkdGgpKmEudmlldy5zY2FsZTtmPTMqbXhVdGlscy5nZXROdW1iZXIoYS5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9FTkRTSVpFLG14Q29uc3RhbnRzLkFSUk9XX1NJWkUvNSkqYS52aWV3LnNjYWxlO3JldHVybiBuZXcgbXhQb2ludChkLngrZSooZithLnNoYXBlLnN0cm9rZXdpZHRoKmEudmlldy5zY2FsZSktYypiLzIsZC55K2MqKGYrYS5zaGFwZS5zdHJva2V3aWR0aCphLnZpZXcuc2NhbGUpK2UqYi8yKX0sZnVuY3Rpb24oZSxjLGQsZixnLGwsbil7ZT0KTWF0aC5zcXJ0KG14VXRpbHMucHRTZWdEaXN0U3EoZi54LGYueSxnLngsZy55LGwueCxsLnkpKTtjPW14VXRpbHMucHRMaW5lRGlzdChmLngsZi55LGYueCtkLGYueS1jLGwueCxsLnkpO2Euc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfRU5EU0laRV09TWF0aC5yb3VuZCgxMDAqKGMtYS5zaGFwZS5zdHJva2V3aWR0aCkvMykvMTAwL2Eudmlldy5zY2FsZTthLnN0eWxlLmVuZFdpZHRoPU1hdGgubWF4KDAsTWF0aC5yb3VuZCgyKmUpLWEuc2hhcGUuZ2V0RWRnZVdpZHRoKCkpL2Eudmlldy5zY2FsZTtteEV2ZW50LmlzQ29udHJvbERvd24obi5nZXRFdmVudCgpKSYmKGEuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfU1RBUlRTSVpFXT1hLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX0VORFNJWkVdLGEuc3R5bGUuc3RhcnRXaWR0aD1hLnN0eWxlLmVuZFdpZHRoKTtteEV2ZW50LmlzQWx0RG93bihuLmdldEV2ZW50KCkpfHwoTWF0aC5hYnMocGFyc2VGbG9hdChhLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX0VORFNJWkVdKS0KcGFyc2VGbG9hdChhLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX1NUQVJUU0laRV0pKTxiLzYmJihhLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX0VORFNJWkVdPWEuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfU1RBUlRTSVpFXSksTWF0aC5hYnMocGFyc2VGbG9hdChhLnN0eWxlLmVuZFdpZHRoKS1wYXJzZUZsb2F0KGEuc3R5bGUuc3RhcnRXaWR0aCkpPGImJihhLnN0eWxlLmVuZFdpZHRoPWEuc3R5bGUuc3RhcnRXaWR0aCkpfSkpKTtyZXR1cm4gZX0sc3dpbWxhbmU6ZnVuY3Rpb24oYSl7dmFyIGI9W107aWYobXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX1JPVU5ERUQpKXt2YXIgZT1wYXJzZUZsb2F0KG14VXRpbHMuZ2V0VmFsdWUoYS5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9TVEFSVFNJWkUsbXhDb25zdGFudHMuREVGQVVMVF9TVEFSVFNJWkUpKTtiLnB1c2godGEoYSxlLzIpKX1iLnB1c2goVihhLFtteENvbnN0YW50cy5TVFlMRV9TVEFSVFNJWkVdLApmdW5jdGlvbihiKXt2YXIgZT1wYXJzZUZsb2F0KG14VXRpbHMuZ2V0VmFsdWUoYS5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9TVEFSVFNJWkUsbXhDb25zdGFudHMuREVGQVVMVF9TVEFSVFNJWkUpKTtyZXR1cm4gMT09bXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0hPUklaT05UQUwsMSk/bmV3IG14UG9pbnQoYi5nZXRDZW50ZXJYKCksYi55K01hdGgubWF4KDAsTWF0aC5taW4oYi5oZWlnaHQsZSkpKTpuZXcgbXhQb2ludChiLngrTWF0aC5tYXgoMCxNYXRoLm1pbihiLndpZHRoLGUpKSxiLmdldENlbnRlclkoKSl9LGZ1bmN0aW9uKGIsZSl7YS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9TVEFSVFNJWkVdPTE9PW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdGF0ZS5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9IT1JJWk9OVEFMLDEpP01hdGgucm91bmQoTWF0aC5tYXgoMCxNYXRoLm1pbihiLmhlaWdodCxlLnktYi55KSkpOk1hdGgucm91bmQoTWF0aC5tYXgoMCwKTWF0aC5taW4oYi53aWR0aCxlLngtYi54KSkpfSwhMSxudWxsLGZ1bmN0aW9uKGIpe2lmKG14RXZlbnQuaXNTaGlmdERvd24oYi5nZXRFdmVudCgpKSYmKGI9YS52aWV3LmdyYXBoLGIuaXNUYWJsZVJvdyhhLmNlbGwpfHxiLmlzVGFibGVDZWxsKGEuY2VsbCkpKXtmb3IodmFyIGU9Yi5nZXRTd2ltbGFuZURpcmVjdGlvbihhLnN0eWxlKSxjPWIubW9kZWwuZ2V0UGFyZW50KGEuY2VsbCksYz1iLm1vZGVsLmdldENoaWxkQ2VsbHMoYywhMCksZD1bXSxmPTA7ZjxjLmxlbmd0aDtmKyspY1tmXSE9YS5jZWxsJiZiLmlzU3dpbWxhbmUoY1tmXSkmJmIuZ2V0U3dpbWxhbmVEaXJlY3Rpb24oYi5nZXRDdXJyZW50Q2VsbFN0eWxlKGNbZl0pKT09ZSYmZC5wdXNoKGNbZl0pO2Iuc2V0Q2VsbFN0eWxlcyhteENvbnN0YW50cy5TVFlMRV9TVEFSVFNJWkUsYS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9TVEFSVFNJWkVdLGQpfX0pKTtyZXR1cm4gYn0sbGFiZWw6QmEoKSxleHQ6QmEoKSxyZWN0YW5nbGU6QmEoKSwKdHJpYW5nbGU6QmEoKSxyaG9tYnVzOkJhKCksdW1sTGlmZWxpbmU6ZnVuY3Rpb24oYSl7cmV0dXJuW1YoYSxbInNpemUiXSxmdW5jdGlvbihhKXt2YXIgYj1NYXRoLm1heCgwLE1hdGgubWluKGEuaGVpZ2h0LHBhcnNlRmxvYXQobXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0YXRlLnN0eWxlLCJzaXplIixBLnByb3RvdHlwZS5zaXplKSkpKTtyZXR1cm4gbmV3IG14UG9pbnQoYS5nZXRDZW50ZXJYKCksYS55K2IpfSxmdW5jdGlvbihhLGIpe3RoaXMuc3RhdGUuc3R5bGUuc2l6ZT1NYXRoLnJvdW5kKE1hdGgubWF4KDAsTWF0aC5taW4oYS5oZWlnaHQsYi55LWEueSkpKX0sITEpXX0sdW1sRnJhbWU6ZnVuY3Rpb24oYSl7cmV0dXJuW1YoYSxbIndpZHRoIiwiaGVpZ2h0Il0sZnVuY3Rpb24oYSl7dmFyIGI9TWF0aC5tYXgoTS5wcm90b3R5cGUuY29ybmVyLE1hdGgubWluKGEud2lkdGgsbXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0YXRlLnN0eWxlLCJ3aWR0aCIsTS5wcm90b3R5cGUud2lkdGgpKSksCmU9TWF0aC5tYXgoMS41Kk0ucHJvdG90eXBlLmNvcm5lcixNYXRoLm1pbihhLmhlaWdodCxteFV0aWxzLmdldFZhbHVlKHRoaXMuc3RhdGUuc3R5bGUsImhlaWdodCIsTS5wcm90b3R5cGUuaGVpZ2h0KSkpO3JldHVybiBuZXcgbXhQb2ludChhLngrYixhLnkrZSl9LGZ1bmN0aW9uKGEsYil7dGhpcy5zdGF0ZS5zdHlsZS53aWR0aD1NYXRoLnJvdW5kKE1hdGgubWF4KE0ucHJvdG90eXBlLmNvcm5lcixNYXRoLm1pbihhLndpZHRoLGIueC1hLngpKSk7dGhpcy5zdGF0ZS5zdHlsZS5oZWlnaHQ9TWF0aC5yb3VuZChNYXRoLm1heCgxLjUqTS5wcm90b3R5cGUuY29ybmVyLE1hdGgubWluKGEuaGVpZ2h0LGIueS1hLnkpKSl9LCExKV19LHByb2Nlc3M6ZnVuY3Rpb24oYSl7dmFyIGI9W1YoYSxbInNpemUiXSxmdW5jdGlvbihhKXt2YXIgYj1NYXRoLm1heCgwLE1hdGgubWluKC41LHBhcnNlRmxvYXQobXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0YXRlLnN0eWxlLCJzaXplIix5LnByb3RvdHlwZS5zaXplKSkpKTsKcmV0dXJuIG5ldyBteFBvaW50KGEueCthLndpZHRoKmIsYS55K2EuaGVpZ2h0LzQpfSxmdW5jdGlvbihhLGIpe3RoaXMuc3RhdGUuc3R5bGUuc2l6ZT1NYXRoLm1heCgwLE1hdGgubWluKC41LChiLngtYS54KS9hLndpZHRoKSl9LCExKV07bXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX1JPVU5ERUQsITEpJiZiLnB1c2godGEoYSkpO3JldHVybiBifSxjcm9zczpmdW5jdGlvbihhKXtyZXR1cm5bVihhLFsic2l6ZSJdLGZ1bmN0aW9uKGEpe3ZhciBiPU1hdGgubWluKGEud2lkdGgsYS5oZWlnaHQpLGI9TWF0aC5tYXgoMCxNYXRoLm1pbigxLG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdGF0ZS5zdHlsZSwic2l6ZSIsc2EucHJvdG90eXBlLnNpemUpKSkqYi8yO3JldHVybiBuZXcgbXhQb2ludChhLmdldENlbnRlclgoKS1iLGEuZ2V0Q2VudGVyWSgpLWIpfSxmdW5jdGlvbihhLGIpe3ZhciBlPU1hdGgubWluKGEud2lkdGgsYS5oZWlnaHQpO3RoaXMuc3RhdGUuc3R5bGUuc2l6ZT0KTWF0aC5tYXgoMCxNYXRoLm1pbigxLE1hdGgubWluKE1hdGgubWF4KDAsYS5nZXRDZW50ZXJZKCktYi55KS9lKjIsTWF0aC5tYXgoMCxhLmdldENlbnRlclgoKS1iLngpL2UqMikpKX0pXX0sbm90ZTpmdW5jdGlvbihhKXtyZXR1cm5bVihhLFsic2l6ZSJdLGZ1bmN0aW9uKGEpe3ZhciBiPU1hdGgubWF4KDAsTWF0aC5taW4oYS53aWR0aCxNYXRoLm1pbihhLmhlaWdodCxwYXJzZUZsb2F0KG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdGF0ZS5zdHlsZSwic2l6ZSIsay5wcm90b3R5cGUuc2l6ZSkpKSkpO3JldHVybiBuZXcgbXhQb2ludChhLngrYS53aWR0aC1iLGEueStiKX0sZnVuY3Rpb24oYSxiKXt0aGlzLnN0YXRlLnN0eWxlLnNpemU9TWF0aC5yb3VuZChNYXRoLm1heCgwLE1hdGgubWluKE1hdGgubWluKGEud2lkdGgsYS54K2Eud2lkdGgtYi54KSxNYXRoLm1pbihhLmhlaWdodCxiLnktYS55KSkpKX0pXX0sbWFudWFsSW5wdXQ6ZnVuY3Rpb24oYSl7dmFyIGI9W1YoYSxbInNpemUiXSwKZnVuY3Rpb24oYSl7dmFyIGI9TWF0aC5tYXgoMCxNYXRoLm1pbihhLmhlaWdodCxteFV0aWxzLmdldFZhbHVlKHRoaXMuc3RhdGUuc3R5bGUsInNpemUiLFQucHJvdG90eXBlLnNpemUpKSk7cmV0dXJuIG5ldyBteFBvaW50KGEueCthLndpZHRoLzQsYS55KzMqYi80KX0sZnVuY3Rpb24oYSxiKXt0aGlzLnN0YXRlLnN0eWxlLnNpemU9TWF0aC5yb3VuZChNYXRoLm1heCgwLE1hdGgubWluKGEuaGVpZ2h0LDQqKGIueS1hLnkpLzMpKSl9LCExKV07bXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX1JPVU5ERUQsITEpJiZiLnB1c2godGEoYSkpO3JldHVybiBifSxkYXRhU3RvcmFnZTpmdW5jdGlvbihhKXtyZXR1cm5bVihhLFsic2l6ZSJdLGZ1bmN0aW9uKGEpe3ZhciBiPU1hdGgubWF4KDAsTWF0aC5taW4oMSxwYXJzZUZsb2F0KG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdGF0ZS5zdHlsZSwic2l6ZSIsZ2EucHJvdG90eXBlLnNpemUpKSkpO3JldHVybiBuZXcgbXhQb2ludChhLngrCigxLWIpKmEud2lkdGgsYS5nZXRDZW50ZXJZKCkpfSxmdW5jdGlvbihhLGIpe3RoaXMuc3RhdGUuc3R5bGUuc2l6ZT1NYXRoLm1heCgwLE1hdGgubWluKDEsKGEueCthLndpZHRoLWIueCkvYS53aWR0aCkpfSwhMSldfSxjYWxsb3V0OmZ1bmN0aW9uKGEpe3ZhciBiPVtWKGEsWyJzaXplIiwicG9zaXRpb24iXSxmdW5jdGlvbihhKXt2YXIgYj1NYXRoLm1heCgwLE1hdGgubWluKGEuaGVpZ2h0LG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdGF0ZS5zdHlsZSwic2l6ZSIsQy5wcm90b3R5cGUuc2l6ZSkpKSxlPU1hdGgubWF4KDAsTWF0aC5taW4oMSxteFV0aWxzLmdldFZhbHVlKHRoaXMuc3RhdGUuc3R5bGUsInBvc2l0aW9uIixDLnByb3RvdHlwZS5wb3NpdGlvbikpKTtteFV0aWxzLmdldFZhbHVlKHRoaXMuc3RhdGUuc3R5bGUsImJhc2UiLEMucHJvdG90eXBlLmJhc2UpO3JldHVybiBuZXcgbXhQb2ludChhLngrZSphLndpZHRoLGEueSthLmhlaWdodC1iKX0sZnVuY3Rpb24oYSxiKXtteFV0aWxzLmdldFZhbHVlKHRoaXMuc3RhdGUuc3R5bGUsCiJiYXNlIixDLnByb3RvdHlwZS5iYXNlKTt0aGlzLnN0YXRlLnN0eWxlLnNpemU9TWF0aC5yb3VuZChNYXRoLm1heCgwLE1hdGgubWluKGEuaGVpZ2h0LGEueSthLmhlaWdodC1iLnkpKSk7dGhpcy5zdGF0ZS5zdHlsZS5wb3NpdGlvbj1NYXRoLnJvdW5kKDEwMCpNYXRoLm1heCgwLE1hdGgubWluKDEsKGIueC1hLngpL2Eud2lkdGgpKSkvMTAwfSwhMSksVihhLFsicG9zaXRpb24yIl0sZnVuY3Rpb24oYSl7dmFyIGI9TWF0aC5tYXgoMCxNYXRoLm1pbigxLG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdGF0ZS5zdHlsZSwicG9zaXRpb24yIixDLnByb3RvdHlwZS5wb3NpdGlvbjIpKSk7cmV0dXJuIG5ldyBteFBvaW50KGEueCtiKmEud2lkdGgsYS55K2EuaGVpZ2h0KX0sZnVuY3Rpb24oYSxiKXt0aGlzLnN0YXRlLnN0eWxlLnBvc2l0aW9uMj1NYXRoLnJvdW5kKDEwMCpNYXRoLm1heCgwLE1hdGgubWluKDEsKGIueC1hLngpL2Eud2lkdGgpKSkvMTAwfSwhMSksVihhLFsiYmFzZSJdLGZ1bmN0aW9uKGEpe3ZhciBiPQpNYXRoLm1heCgwLE1hdGgubWluKGEuaGVpZ2h0LG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdGF0ZS5zdHlsZSwic2l6ZSIsQy5wcm90b3R5cGUuc2l6ZSkpKSxlPU1hdGgubWF4KDAsTWF0aC5taW4oMSxteFV0aWxzLmdldFZhbHVlKHRoaXMuc3RhdGUuc3R5bGUsInBvc2l0aW9uIixDLnByb3RvdHlwZS5wb3NpdGlvbikpKSxjPU1hdGgubWF4KDAsTWF0aC5taW4oYS53aWR0aCxteFV0aWxzLmdldFZhbHVlKHRoaXMuc3RhdGUuc3R5bGUsImJhc2UiLEMucHJvdG90eXBlLmJhc2UpKSk7cmV0dXJuIG5ldyBteFBvaW50KGEueCtNYXRoLm1pbihhLndpZHRoLGUqYS53aWR0aCtjKSxhLnkrYS5oZWlnaHQtYil9LGZ1bmN0aW9uKGEsYil7dmFyIGU9TWF0aC5tYXgoMCxNYXRoLm1pbigxLG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdGF0ZS5zdHlsZSwicG9zaXRpb24iLEMucHJvdG90eXBlLnBvc2l0aW9uKSkpO3RoaXMuc3RhdGUuc3R5bGUuYmFzZT1NYXRoLnJvdW5kKE1hdGgubWF4KDAsTWF0aC5taW4oYS53aWR0aCwKYi54LWEueC1lKmEud2lkdGgpKSl9LCExKV07bXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX1JPVU5ERUQsITEpJiZiLnB1c2godGEoYSkpO3JldHVybiBifSxpbnRlcm5hbFN0b3JhZ2U6ZnVuY3Rpb24oYSl7dmFyIGI9W1YoYSxbImR4IiwiZHkiXSxmdW5jdGlvbihhKXt2YXIgYj1NYXRoLm1heCgwLE1hdGgubWluKGEud2lkdGgsbXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0YXRlLnN0eWxlLCJkeCIsWS5wcm90b3R5cGUuZHgpKSksZT1NYXRoLm1heCgwLE1hdGgubWluKGEuaGVpZ2h0LG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdGF0ZS5zdHlsZSwiZHkiLFkucHJvdG90eXBlLmR5KSkpO3JldHVybiBuZXcgbXhQb2ludChhLngrYixhLnkrZSl9LGZ1bmN0aW9uKGEsYil7dGhpcy5zdGF0ZS5zdHlsZS5keD1NYXRoLnJvdW5kKE1hdGgubWF4KDAsTWF0aC5taW4oYS53aWR0aCxiLngtYS54KSkpO3RoaXMuc3RhdGUuc3R5bGUuZHk9TWF0aC5yb3VuZChNYXRoLm1heCgwLApNYXRoLm1pbihhLmhlaWdodCxiLnktYS55KSkpfSwhMSldO214VXRpbHMuZ2V0VmFsdWUoYS5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9ST1VOREVELCExKSYmYi5wdXNoKHRhKGEpKTtyZXR1cm4gYn0sbW9kdWxlOmZ1bmN0aW9uKGEpe3JldHVybltWKGEsWyJqZXR0eVdpZHRoIiwiamV0dHlIZWlnaHQiXSxmdW5jdGlvbihhKXt2YXIgYj1NYXRoLm1heCgwLE1hdGgubWluKGEud2lkdGgsbXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0YXRlLnN0eWxlLCJqZXR0eVdpZHRoIixXLnByb3RvdHlwZS5qZXR0eVdpZHRoKSkpLGU9TWF0aC5tYXgoMCxNYXRoLm1pbihhLmhlaWdodCxteFV0aWxzLmdldFZhbHVlKHRoaXMuc3RhdGUuc3R5bGUsImpldHR5SGVpZ2h0IixXLnByb3RvdHlwZS5qZXR0eUhlaWdodCkpKTtyZXR1cm4gbmV3IG14UG9pbnQoYS54K2IvMixhLnkrMiplKX0sZnVuY3Rpb24oYSxiKXt0aGlzLnN0YXRlLnN0eWxlLmpldHR5V2lkdGg9TWF0aC5yb3VuZCgyKk1hdGgubWF4KDAsCk1hdGgubWluKGEud2lkdGgsYi54LWEueCkpKTt0aGlzLnN0YXRlLnN0eWxlLmpldHR5SGVpZ2h0PU1hdGgucm91bmQoTWF0aC5tYXgoMCxNYXRoLm1pbihhLmhlaWdodCxiLnktYS55KSkvMil9KV19LGNvcm5lcjpmdW5jdGlvbihhKXtyZXR1cm5bVihhLFsiZHgiLCJkeSJdLGZ1bmN0aW9uKGEpe3ZhciBiPU1hdGgubWF4KDAsTWF0aC5taW4oYS53aWR0aCxteFV0aWxzLmdldFZhbHVlKHRoaXMuc3RhdGUuc3R5bGUsImR4IixQLnByb3RvdHlwZS5keCkpKSxlPU1hdGgubWF4KDAsTWF0aC5taW4oYS5oZWlnaHQsbXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0YXRlLnN0eWxlLCJkeSIsUC5wcm90b3R5cGUuZHkpKSk7cmV0dXJuIG5ldyBteFBvaW50KGEueCtiLGEueStlKX0sZnVuY3Rpb24oYSxiKXt0aGlzLnN0YXRlLnN0eWxlLmR4PU1hdGgucm91bmQoTWF0aC5tYXgoMCxNYXRoLm1pbihhLndpZHRoLGIueC1hLngpKSk7dGhpcy5zdGF0ZS5zdHlsZS5keT1NYXRoLnJvdW5kKE1hdGgubWF4KDAsCk1hdGgubWluKGEuaGVpZ2h0LGIueS1hLnkpKSl9LCExKV19LHRlZTpmdW5jdGlvbihhKXtyZXR1cm5bVihhLFsiZHgiLCJkeSJdLGZ1bmN0aW9uKGEpe3ZhciBiPU1hdGgubWF4KDAsTWF0aC5taW4oYS53aWR0aCxteFV0aWxzLmdldFZhbHVlKHRoaXMuc3RhdGUuc3R5bGUsImR4IixlYS5wcm90b3R5cGUuZHgpKSksZT1NYXRoLm1heCgwLE1hdGgubWluKGEuaGVpZ2h0LG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdGF0ZS5zdHlsZSwiZHkiLGVhLnByb3RvdHlwZS5keSkpKTtyZXR1cm4gbmV3IG14UG9pbnQoYS54KyhhLndpZHRoK2IpLzIsYS55K2UpfSxmdW5jdGlvbihhLGIpe3RoaXMuc3RhdGUuc3R5bGUuZHg9TWF0aC5yb3VuZChNYXRoLm1heCgwLDIqTWF0aC5taW4oYS53aWR0aC8yLGIueC1hLngtYS53aWR0aC8yKSkpO3RoaXMuc3RhdGUuc3R5bGUuZHk9TWF0aC5yb3VuZChNYXRoLm1heCgwLE1hdGgubWluKGEuaGVpZ2h0LGIueS1hLnkpKSl9LCExKV19LHNpbmdsZUFycm93OndhKDEpLApkb3VibGVBcnJvdzp3YSguNSksZm9sZGVyOmZ1bmN0aW9uKGEpe3JldHVybltWKGEsWyJ0YWJXaWR0aCIsInRhYkhlaWdodCJdLGZ1bmN0aW9uKGEpe3ZhciBiPU1hdGgubWF4KDAsTWF0aC5taW4oYS53aWR0aCxteFV0aWxzLmdldFZhbHVlKHRoaXMuc3RhdGUuc3R5bGUsInRhYldpZHRoIixxLnByb3RvdHlwZS50YWJXaWR0aCkpKSxlPU1hdGgubWF4KDAsTWF0aC5taW4oYS5oZWlnaHQsbXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0YXRlLnN0eWxlLCJ0YWJIZWlnaHQiLHEucHJvdG90eXBlLnRhYkhlaWdodCkpKTtteFV0aWxzLmdldFZhbHVlKHRoaXMuc3RhdGUuc3R5bGUsInRhYlBvc2l0aW9uIixxLnByb3RvdHlwZS50YWJQb3NpdGlvbik9PW14Q29uc3RhbnRzLkFMSUdOX1JJR0hUJiYoYj1hLndpZHRoLWIpO3JldHVybiBuZXcgbXhQb2ludChhLngrYixhLnkrZSl9LGZ1bmN0aW9uKGEsYil7dmFyIGU9TWF0aC5tYXgoMCxNYXRoLm1pbihhLndpZHRoLGIueC1hLngpKTtteFV0aWxzLmdldFZhbHVlKHRoaXMuc3RhdGUuc3R5bGUsCiJ0YWJQb3NpdGlvbiIscS5wcm90b3R5cGUudGFiUG9zaXRpb24pPT1teENvbnN0YW50cy5BTElHTl9SSUdIVCYmKGU9YS53aWR0aC1lKTt0aGlzLnN0YXRlLnN0eWxlLnRhYldpZHRoPU1hdGgucm91bmQoZSk7dGhpcy5zdGF0ZS5zdHlsZS50YWJIZWlnaHQ9TWF0aC5yb3VuZChNYXRoLm1heCgwLE1hdGgubWluKGEuaGVpZ2h0LGIueS1hLnkpKSl9LCExKV19LGRvY3VtZW50OmZ1bmN0aW9uKGEpe3JldHVybltWKGEsWyJzaXplIl0sZnVuY3Rpb24oYSl7dmFyIGI9TWF0aC5tYXgoMCxNYXRoLm1pbigxLHBhcnNlRmxvYXQobXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0YXRlLnN0eWxlLCJzaXplIixnLnByb3RvdHlwZS5zaXplKSkpKTtyZXR1cm4gbmV3IG14UG9pbnQoYS54KzMqYS53aWR0aC80LGEueSsoMS1iKSphLmhlaWdodCl9LGZ1bmN0aW9uKGEsYil7dGhpcy5zdGF0ZS5zdHlsZS5zaXplPU1hdGgubWF4KDAsTWF0aC5taW4oMSwoYS55K2EuaGVpZ2h0LWIueSkvYS5oZWlnaHQpKX0sCiExKV19LHRhcGU6ZnVuY3Rpb24oYSl7cmV0dXJuW1YoYSxbInNpemUiXSxmdW5jdGlvbihhKXt2YXIgYj1NYXRoLm1heCgwLE1hdGgubWluKDEscGFyc2VGbG9hdChteFV0aWxzLmdldFZhbHVlKHRoaXMuc3RhdGUuc3R5bGUsInNpemUiLGUucHJvdG90eXBlLnNpemUpKSkpO3JldHVybiBuZXcgbXhQb2ludChhLmdldENlbnRlclgoKSxhLnkrYiphLmhlaWdodC8yKX0sZnVuY3Rpb24oYSxiKXt0aGlzLnN0YXRlLnN0eWxlLnNpemU9TWF0aC5tYXgoMCxNYXRoLm1pbigxLChiLnktYS55KS9hLmhlaWdodCoyKSl9LCExKV19LG9mZlBhZ2VDb25uZWN0b3I6ZnVuY3Rpb24oYSl7cmV0dXJuW1YoYSxbInNpemUiXSxmdW5jdGlvbihhKXt2YXIgYj1NYXRoLm1heCgwLE1hdGgubWluKDEscGFyc2VGbG9hdChteFV0aWxzLmdldFZhbHVlKHRoaXMuc3RhdGUuc3R5bGUsInNpemUiLFMucHJvdG90eXBlLnNpemUpKSkpO3JldHVybiBuZXcgbXhQb2ludChhLmdldENlbnRlclgoKSxhLnkrKDEtYikqCmEuaGVpZ2h0KX0sZnVuY3Rpb24oYSxiKXt0aGlzLnN0YXRlLnN0eWxlLnNpemU9TWF0aC5tYXgoMCxNYXRoLm1pbigxLChhLnkrYS5oZWlnaHQtYi55KS9hLmhlaWdodCkpfSwhMSldfSxzdGVwOkVhKEIucHJvdG90eXBlLnNpemUsITAsbnVsbCwhMCxCLnByb3RvdHlwZS5maXhlZFNpemUpLGhleGFnb246RWEoRC5wcm90b3R5cGUuc2l6ZSwhMCwuNSwhMCksY3VybHlCcmFja2V0OkVhKHAucHJvdG90eXBlLnNpemUsITEpLGRpc3BsYXk6RWEodWEucHJvdG90eXBlLnNpemUsITEpLGN1YmU6S2EoMSxhLnByb3RvdHlwZS5zaXplLCExKSxjYXJkOkthKC41LGIucHJvdG90eXBlLnNpemUsITApLGxvb3BMaW1pdDpLYSguNSxoYS5wcm90b3R5cGUuc2l6ZSwhMCksdHJhcGV6b2lkOkxhKC41KSxwYXJhbGxlbG9ncmFtOkxhKDEpfTtHcmFwaC5jcmVhdGVIYW5kbGU9VjtHcmFwaC5oYW5kbGVGYWN0b3J5PUZhO3ZhciBSYT1teFZlcnRleEhhbmRsZXIucHJvdG90eXBlLmNyZWF0ZUN1c3RvbUhhbmRsZXM7Cm14VmVydGV4SGFuZGxlci5wcm90b3R5cGUuY3JlYXRlQ3VzdG9tSGFuZGxlcz1mdW5jdGlvbigpe3ZhciBhPVJhLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtpZih0aGlzLmdyYXBoLmlzQ2VsbFJvdGF0YWJsZSh0aGlzLnN0YXRlLmNlbGwpKXt2YXIgYj10aGlzLnN0YXRlLnN0eWxlLnNoYXBlO251bGw9PW14Q2VsbFJlbmRlcmVyLmRlZmF1bHRTaGFwZXNbYl0mJm51bGw9PW14U3RlbmNpbFJlZ2lzdHJ5LmdldFN0ZW5jaWwoYikmJihiPW14Q29uc3RhbnRzLlNIQVBFX1JFQ1RBTkdMRSk7Yj1GYVtiXTtudWxsPT1iJiZudWxsIT10aGlzLnN0YXRlLnNoYXBlJiZ0aGlzLnN0YXRlLnNoYXBlLmlzUm91bmRhYmxlKCkmJihiPUZhW214Q29uc3RhbnRzLlNIQVBFX1JFQ1RBTkdMRV0pO251bGwhPWImJihiPWIodGhpcy5zdGF0ZSksbnVsbCE9YiYmKGE9bnVsbD09YT9iOmEuY29uY2F0KGIpKSl9cmV0dXJuIGF9O214RWRnZUhhbmRsZXIucHJvdG90eXBlLmNyZWF0ZUN1c3RvbUhhbmRsZXM9ZnVuY3Rpb24oKXt2YXIgYT0KdGhpcy5zdGF0ZS5zdHlsZS5zaGFwZTtudWxsPT1teENlbGxSZW5kZXJlci5kZWZhdWx0U2hhcGVzW2FdJiZudWxsPT1teFN0ZW5jaWxSZWdpc3RyeS5nZXRTdGVuY2lsKGEpJiYoYT1teENvbnN0YW50cy5TSEFQRV9DT05ORUNUT1IpO2E9RmFbYV07cmV0dXJuIG51bGwhPWE/YSh0aGlzLnN0YXRlKTpudWxsfX1lbHNlIEdyYXBoLmNyZWF0ZUhhbmRsZT1mdW5jdGlvbigpe30sR3JhcGguaGFuZGxlRmFjdG9yeT17fTt2YXIgR2E9bmV3IG14UG9pbnQoMSwwKSxIYT1uZXcgbXhQb2ludCgxLDApLHdhPW14VXRpbHMudG9SYWRpYW5zKC0zMCksR2E9bXhVdGlscy5nZXRSb3RhdGVkUG9pbnQoR2EsTWF0aC5jb3Mod2EpLE1hdGguc2luKHdhKSksd2E9bXhVdGlscy50b1JhZGlhbnMoLTE1MCksSGE9bXhVdGlscy5nZXRSb3RhdGVkUG9pbnQoSGEsTWF0aC5jb3Mod2EpLE1hdGguc2luKHdhKSk7bXhFZGdlU3R5bGUuSXNvbWV0cmljQ29ubmVjdG9yPWZ1bmN0aW9uKGEsYixlLGMsZCl7dmFyIGY9CmEudmlldztjPW51bGwhPWMmJjA8Yy5sZW5ndGg/Y1swXTpudWxsO3ZhciBnPWEuYWJzb2x1dGVQb2ludHMsbD1nWzBdLGc9Z1tnLmxlbmd0aC0xXTtudWxsIT1jJiYoYz1mLnRyYW5zZm9ybUNvbnRyb2xQb2ludChhLGMpKTtudWxsPT1sJiZudWxsIT1iJiYobD1uZXcgbXhQb2ludChiLmdldENlbnRlclgoKSxiLmdldENlbnRlclkoKSkpO251bGw9PWcmJm51bGwhPWUmJihnPW5ldyBteFBvaW50KGUuZ2V0Q2VudGVyWCgpLGUuZ2V0Q2VudGVyWSgpKSk7dmFyIG49R2EueCx1PUdhLnkscD1IYS54LHQ9SGEueSxBPSJob3Jpem9udGFsIj09bXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLCJlbGJvdyIsImhvcml6b250YWwiKTtpZihudWxsIT1nJiZudWxsIT1sKXthPWZ1bmN0aW9uKGEsYixlKXthLT1rLng7dmFyIGM9Yi1rLnk7Yj0odCphLXAqYykvKG4qdC11KnApO2E9KHUqYS1uKmMpLyh1KnAtbip0KTtBPyhlJiYoaz1uZXcgbXhQb2ludChrLngrbipiLGsueSt1KmIpLGQucHVzaChrKSksCms9bmV3IG14UG9pbnQoay54K3AqYSxrLnkrdCphKSk6KGUmJihrPW5ldyBteFBvaW50KGsueCtwKmEsay55K3QqYSksZC5wdXNoKGspKSxrPW5ldyBteFBvaW50KGsueCtuKmIsay55K3UqYikpO2QucHVzaChrKX07dmFyIGs9bDtudWxsPT1jJiYoYz1uZXcgbXhQb2ludChsLngrKGcueC1sLngpLzIsbC55KyhnLnktbC55KS8yKSk7YShjLngsYy55LCEwKTthKGcueCxnLnksITEpfX07bXhTdHlsZVJlZ2lzdHJ5LnB1dFZhbHVlKCJpc29tZXRyaWNFZGdlU3R5bGUiLG14RWRnZVN0eWxlLklzb21ldHJpY0Nvbm5lY3Rvcik7dmFyIFNhPUdyYXBoLnByb3RvdHlwZS5jcmVhdGVFZGdlSGFuZGxlcjtHcmFwaC5wcm90b3R5cGUuY3JlYXRlRWRnZUhhbmRsZXI9ZnVuY3Rpb24oYSxiKXtpZihiPT1teEVkZ2VTdHlsZS5Jc29tZXRyaWNDb25uZWN0b3Ipe3ZhciBlPW5ldyBteEVsYm93RWRnZUhhbmRsZXIoYSk7ZS5zbmFwVG9UZXJtaW5hbHM9ITE7cmV0dXJuIGV9cmV0dXJuIFNhLmFwcGx5KHRoaXMsCmFyZ3VtZW50cyl9O2MucHJvdG90eXBlLmNvbnN0cmFpbnRzPVtdO2YucHJvdG90eXBlLmdldENvbnN0cmFpbnRzPWZ1bmN0aW9uKGEsYixlKXthPVtdO3ZhciBjPU1hdGgudGFuKG14VXRpbHMudG9SYWRpYW5zKDMwKSksZD0oLjUtYykvMixjPU1hdGgubWluKGIsZS8oLjUrYykpO2I9KGItYykvMjtlPShlLWMpLzI7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMCksITEsbnVsbCxiLGUrLjI1KmMpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSxudWxsLGIrLjUqYyxlK2MqZCkpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLDApLCExLG51bGwsYitjLGUrLjI1KmMpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSxudWxsLGIrYyxlKy43NSpjKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsCjApLCExLG51bGwsYisuNSpjLGUrKDEtZCkqYykpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLDApLCExLG51bGwsYixlKy43NSpjKSk7cmV0dXJuIGF9O0MucHJvdG90eXBlLmdldENvbnN0cmFpbnRzPWZ1bmN0aW9uKGEsYixlKXthPVtdO214VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9BUkNTSVpFLG14Q29uc3RhbnRzLkxJTkVfQVJDU0laRSk7dmFyIGM9TWF0aC5tYXgoMCxNYXRoLm1pbihlLHBhcnNlRmxvYXQobXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLCJzaXplIix0aGlzLnNpemUpKSkpO3BhcnNlRmxvYXQobXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLCJwb3NpdGlvbiIsdGhpcy5wb3NpdGlvbikpO3ZhciBkPWIqTWF0aC5tYXgoMCxNYXRoLm1pbigxLHBhcnNlRmxvYXQobXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLCJwb3NpdGlvbjIiLHRoaXMucG9zaXRpb24yKSkpKTtwYXJzZUZsb2F0KG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSwKImJhc2UiLHRoaXMuYmFzZSkpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLDApLCExKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KC4yNSwwKSwhMSkpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCguNSwwKSwhMSkpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCguNzUsMCksITEpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMSwwKSwhMSkpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLDApLCExLG51bGwsYiwuNSooZS1jKSkpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLDApLCExLG51bGwsYixlLWMpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSxudWxsLApkLGUpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSxudWxsLDAsZS1jKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMCksITEsbnVsbCwwLC41KihlLWMpKSk7Yj49MipjJiZhLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoLjUsMCksITEpKTtyZXR1cm4gYX07bXhSZWN0YW5nbGVTaGFwZS5wcm90b3R5cGUuY29uc3RyYWludHM9W25ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMCksITApLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KC4yNSwwKSwhMCksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoLjUsMCksITApLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KC43NSwwKSwhMCksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMSwwKSwKITApLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsLjI1KSwhMCksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwuNSksITApLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsLjc1KSwhMCksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMSwuMjUpLCEwKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgxLC41KSwhMCksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMSwuNzUpLCEwKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLDEpLCEwKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCguMjUsMSksITApLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KC41LDEpLCEwKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCguNzUsMSksITApLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDEsCjEpLCEwKV07bXhFbGxpcHNlLnByb3RvdHlwZS5jb25zdHJhaW50cz1bbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMCksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMSwwKSwhMCksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwxKSwhMCksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMSwxKSwhMCksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoLjUsMCksITApLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KC41LDEpLCEwKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLC41KSwhMCksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMSwuNSkpXTtteExhYmVsLnByb3RvdHlwZS5jb25zdHJhaW50cz1teFJlY3RhbmdsZVNoYXBlLnByb3RvdHlwZS5jb25zdHJhaW50cztteEltYWdlU2hhcGUucHJvdG90eXBlLmNvbnN0cmFpbnRzPQpteFJlY3RhbmdsZVNoYXBlLnByb3RvdHlwZS5jb25zdHJhaW50cztteFN3aW1sYW5lLnByb3RvdHlwZS5jb25zdHJhaW50cz1teFJlY3RhbmdsZVNoYXBlLnByb3RvdHlwZS5jb25zdHJhaW50czt6LnByb3RvdHlwZS5jb25zdHJhaW50cz1teFJlY3RhbmdsZVNoYXBlLnByb3RvdHlwZS5jb25zdHJhaW50cztrLnByb3RvdHlwZS5nZXRDb25zdHJhaW50cz1mdW5jdGlvbihhLGIsZSl7YT1bXTt2YXIgYz1NYXRoLm1heCgwLE1hdGgubWluKGIsTWF0aC5taW4oZSxwYXJzZUZsb2F0KG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSwic2l6ZSIsdGhpcy5zaXplKSkpKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMCksITEpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSxudWxsLC41KihiLWMpLDApKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwKITEsbnVsbCxiLWMsMCkpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLDApLCExLG51bGwsYi0uNSpjLC41KmMpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSxudWxsLGIsYykpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLDApLCExLG51bGwsYiwuNSooZStjKSkpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgxLDEpLCExKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KC41LDEpLCExKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMSksITEpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwuNSksITEpKTtiPj0yKmMmJmEucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCguNSwKMCksITEpKTtyZXR1cm4gYX07Yi5wcm90b3R5cGUuZ2V0Q29uc3RyYWludHM9ZnVuY3Rpb24oYSxiLGUpe2E9W107dmFyIGM9TWF0aC5tYXgoMCxNYXRoLm1pbihiLE1hdGgubWluKGUscGFyc2VGbG9hdChteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsInNpemUiLHRoaXMuc2l6ZSkpKSkpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgxLDApLCExKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMCksITEsbnVsbCwuNSooYitjKSwwKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMCksITEsbnVsbCxjLDApKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSxudWxsLC41KmMsLjUqYykpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLDApLCExLG51bGwsMCxjKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsCjApLCExLG51bGwsMCwuNSooZStjKSkpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLDEpLCExKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KC41LDEpLCExKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDEsMSksITEpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMSwuNSksITEpKTtiPj0yKmMmJmEucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCguNSwwKSwhMSkpO3JldHVybiBhfTthLnByb3RvdHlwZS5nZXRDb25zdHJhaW50cz1mdW5jdGlvbihhLGIsZSl7YT1bXTt2YXIgYz1NYXRoLm1heCgwLE1hdGgubWluKGIsTWF0aC5taW4oZSxwYXJzZUZsb2F0KG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSwic2l6ZSIsdGhpcy5zaXplKSkpKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsCjApLCExKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMCksITEsbnVsbCwuNSooYi1jKSwwKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMCksITEsbnVsbCxiLWMsMCkpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLDApLCExLG51bGwsYi0uNSpjLC41KmMpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSxudWxsLGIsYykpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLDApLCExLG51bGwsYiwuNSooZStjKSkpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgxLDEpLCExKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMCksITEsbnVsbCwuNSooYitjKSxlKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsCjApLCExLG51bGwsYyxlKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMCksITEsbnVsbCwuNSpjLGUtLjUqYykpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLDApLCExLG51bGwsMCxlLWMpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSxudWxsLDAsLjUqKGUtYykpKTtyZXR1cm4gYX07cS5wcm90b3R5cGUuZ2V0Q29uc3RyYWludHM9ZnVuY3Rpb24oYSxiLGUpe2E9W107dmFyIGM9TWF0aC5tYXgoMCxNYXRoLm1pbihiLHBhcnNlRmxvYXQobXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLCJ0YWJXaWR0aCIsdGhpcy50YWJXaWR0aCkpKSksZD1NYXRoLm1heCgwLE1hdGgubWluKGUscGFyc2VGbG9hdChteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsInRhYkhlaWdodCIsdGhpcy50YWJIZWlnaHQpKSkpOyJsZWZ0Ij09bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLAoidGFiUG9zaXRpb24iLHRoaXMudGFiUG9zaXRpb24pPyhhLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSkpLGEucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLDApLCExLG51bGwsLjUqYywwKSksYS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMCksITEsbnVsbCxjLDApKSxhLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSxudWxsLGMsZCkpLGEucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLDApLCExLG51bGwsLjUqKGIrYyksZCkpKTooYS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDEsMCksITEpKSxhLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSxudWxsLGItLjUqYywwKSksYS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsCjApLCExLG51bGwsYi1jLDApKSxhLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSxudWxsLGItYyxkKSksYS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMCksITEsbnVsbCwuNSooYi1jKSxkKSkpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLDApLCExLG51bGwsYixkKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMCksITEsbnVsbCxiLC4yNSooZS1kKStkKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMCksITEsbnVsbCxiLC41KihlLWQpK2QpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSxudWxsLGIsLjc1KihlLWQpK2QpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSwKbnVsbCxiLGUpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSxudWxsLDAsZCkpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLDApLCExLG51bGwsMCwuMjUqKGUtZCkrZCkpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLDApLCExLG51bGwsMCwuNSooZS1kKStkKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMCksITEsbnVsbCwwLC43NSooZS1kKStkKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMCksITEsbnVsbCwwLGUpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoLjI1LDEpLCExKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KC41LDEpLCExKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KC43NSwKMSksITEpKTtyZXR1cm4gYX07WS5wcm90b3R5cGUuY29uc3RyYWludHM9bXhSZWN0YW5nbGVTaGFwZS5wcm90b3R5cGUuY29uc3RyYWludHM7Z2EucHJvdG90eXBlLmNvbnN0cmFpbnRzPW14UmVjdGFuZ2xlU2hhcGUucHJvdG90eXBlLmNvbnN0cmFpbnRzO2ZhLnByb3RvdHlwZS5jb25zdHJhaW50cz1teEVsbGlwc2UucHJvdG90eXBlLmNvbnN0cmFpbnRzO3BhLnByb3RvdHlwZS5jb25zdHJhaW50cz1teEVsbGlwc2UucHJvdG90eXBlLmNvbnN0cmFpbnRzO3JhLnByb3RvdHlwZS5jb25zdHJhaW50cz1teEVsbGlwc2UucHJvdG90eXBlLmNvbnN0cmFpbnRzO3lhLnByb3RvdHlwZS5jb25zdHJhaW50cz1teEVsbGlwc2UucHJvdG90eXBlLmNvbnN0cmFpbnRzO1QucHJvdG90eXBlLmNvbnN0cmFpbnRzPW14UmVjdGFuZ2xlU2hhcGUucHJvdG90eXBlLmNvbnN0cmFpbnRzO29hLnByb3RvdHlwZS5jb25zdHJhaW50cz1teFJlY3RhbmdsZVNoYXBlLnByb3RvdHlwZS5jb25zdHJhaW50czt1YS5wcm90b3R5cGUuZ2V0Q29uc3RyYWludHM9CmZ1bmN0aW9uKGEsYixlKXthPVtdO3ZhciBjPU1hdGgubWluKGIsZS8yKSxkPU1hdGgubWluKGItYyxNYXRoLm1heCgwLHBhcnNlRmxvYXQobXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLCJzaXplIix0aGlzLnNpemUpKSkqYik7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsLjUpLCExLG51bGwpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSxudWxsLGQsMCkpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLDApLCExLG51bGwsLjUqKGQrYi1jKSwwKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMCksITEsbnVsbCxiLWMsMCkpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgxLC41KSwhMSxudWxsKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsCjApLCExLG51bGwsYi1jLGUpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSxudWxsLC41KihkK2ItYyksZSkpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLDApLCExLG51bGwsZCxlKSk7cmV0dXJuIGF9O1cucHJvdG90eXBlLmdldENvbnN0cmFpbnRzPWZ1bmN0aW9uKGEsYixlKXtiPXBhcnNlRmxvYXQobXhVdGlscy5nZXRWYWx1ZShhLCJqZXR0eVdpZHRoIixXLnByb3RvdHlwZS5qZXR0eVdpZHRoKSkvMjthPXBhcnNlRmxvYXQobXhVdGlscy5nZXRWYWx1ZShhLCJqZXR0eUhlaWdodCIsVy5wcm90b3R5cGUuamV0dHlIZWlnaHQpKTt2YXIgYz1bbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSxudWxsLGIpLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KC4yNSwwKSwhMCksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoLjUsCjApLCEwKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCguNzUsMCksITApLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDEsMCksITApLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDEsLjI1KSwhMCksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMSwuNSksITApLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDEsLjc1KSwhMCksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwxKSwhMSxudWxsLGIpLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KC4yNSwxKSwhMCksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoLjUsMSksITApLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KC43NSwxKSwhMCksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMSwxKSwKITApLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMCksITEsbnVsbCwwLE1hdGgubWluKGUtLjUqYSwxLjUqYSkpLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMCksITEsbnVsbCwwLE1hdGgubWluKGUtLjUqYSwzLjUqYSkpXTtlPjUqYSYmYy5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsLjc1KSwhMSxudWxsLGIpKTtlPjgqYSYmYy5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsLjUpLCExLG51bGwsYikpO2U+MTUqYSYmYy5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsLjI1KSwhMSxudWxsLGIpKTtyZXR1cm4gY307aGEucHJvdG90eXBlLmNvbnN0cmFpbnRzPW14UmVjdGFuZ2xlU2hhcGUucHJvdG90eXBlLmNvbnN0cmFpbnRzO1MucHJvdG90eXBlLmNvbnN0cmFpbnRzPW14UmVjdGFuZ2xlU2hhcGUucHJvdG90eXBlLmNvbnN0cmFpbnRzOwpteEN5bGluZGVyLnByb3RvdHlwZS5jb25zdHJhaW50cz1bbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoLjE1LC4wNSksITEpLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KC41LDApLCEwKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCguODUsLjA1KSwhMSksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwuMyksITApLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsLjUpLCEwKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLC43KSwhMCksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMSwuMyksITApLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDEsLjUpLCEwKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgxLC43KSwhMCksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoLjE1LAouOTUpLCExKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCguNSwxKSwhMCksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoLjg1LC45NSksITEpXTtGLnByb3RvdHlwZS5jb25zdHJhaW50cz1bbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoLjI1LC4xKSwhMSksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoLjUsMCksITEpLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KC43NSwuMSksITEpLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMS8zKSwhMSksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwxKSwhMSksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMSwxLzMpLCExKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgxLDEpLCExKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCguNSwKLjUpLCExKV07aWEucHJvdG90eXBlLmNvbnN0cmFpbnRzPVtuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCguMjUsMCksITApLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KC41LDApLCEwKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCguNzUsMCksITApLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsLjMpLCEwKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLC43KSwhMCksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMSwuMjUpLCEwKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgxLC41KSwhMCksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMSwuNzUpLCEwKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCguMjUsMSksITApLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KC41LAoxKSwhMCksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoLjc1LDEpLCEwKV07bXhBY3Rvci5wcm90b3R5cGUuY29uc3RyYWludHM9W25ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KC41LDApLCEwKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCguMjUsLjIpLCExKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCguMSwuNSksITEpLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsLjc1KSwhMCksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoLjc1LC4yNSksITEpLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KC45LC41KSwhMSksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMSwuNzUpLCEwKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCguMjUsMSksITApLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KC41LAoxKSwhMCksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoLjc1LDEpLCEwKV07bS5wcm90b3R5cGUuY29uc3RyYWludHM9W25ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMCksITEpLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KC41LC4yNSksITEpLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDEsMCksITEpLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KC4yNSwuNSksITEpLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KC43NSwuNSksITEpLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMSksITEpLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KC41LC43NSksITEpLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDEsMSksITEpXTtlLnByb3RvdHlwZS5jb25zdHJhaW50cz0KW25ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsLjM1KSwhMSksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwuNSksITEpLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsLjY1KSwhMSksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMSwuMzUpLCExKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgxLC41KSwhMSksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMSwuNjUpLCExKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCguMjUsMSksITEpLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KC43NSwwKSwhMSldO0IucHJvdG90eXBlLmNvbnN0cmFpbnRzPVtuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCguMjUsMCksITApLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KC41LAowKSwhMCksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoLjc1LDApLCEwKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCguMjUsMSksITApLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KC41LDEpLCEwKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCguNzUsMSksITApLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsLjI1KSwhMCksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwuNSksITApLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsLjc1KSwhMCksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMSwuMjUpLCEwKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgxLC41KSwhMCksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMSwuNzUpLCEwKV07Cm14TGluZS5wcm90b3R5cGUuY29uc3RyYWludHM9W25ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsLjUpLCExKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCguMjUsLjUpLCExKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCguNzUsLjUpLCExKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgxLC41KSwhMSldO1EucHJvdG90eXBlLmNvbnN0cmFpbnRzPVtuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCguNSwwKSwhMSksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoLjUsMSksITEpXTtteERvdWJsZUVsbGlwc2UucHJvdG90eXBlLmNvbnN0cmFpbnRzPW14RWxsaXBzZS5wcm90b3R5cGUuY29uc3RyYWludHM7bXhSaG9tYnVzLnByb3RvdHlwZS5jb25zdHJhaW50cz1teEVsbGlwc2UucHJvdG90eXBlLmNvbnN0cmFpbnRzO214VHJpYW5nbGUucHJvdG90eXBlLmNvbnN0cmFpbnRzPQpbbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwuMjUpLCEwKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLC41KSwhMCksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwuNzUpLCEwKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCguNSwwKSwhMCksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoLjUsMSksITApLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDEsLjUpLCEwKV07bXhIZXhhZ29uLnByb3RvdHlwZS5jb25zdHJhaW50cz1bbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoLjM3NSwwKSwhMCksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoLjUsMCksITApLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KC42MjUsMCksITApLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsCi4yNSksITApLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsLjUpLCEwKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLC43NSksITApLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDEsLjI1KSwhMCksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMSwuNSksITApLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDEsLjc1KSwhMCksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoLjM3NSwxKSwhMCksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoLjUsMSksITApLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KC42MjUsMSksITApXTtteENsb3VkLnByb3RvdHlwZS5jb25zdHJhaW50cz1bbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoLjI1LC4yNSksITEpLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KC40LAouMSksITEpLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KC4xNiwuNTUpLCExKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCguMDcsLjQpLCExKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCguMzEsLjgpLCExKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCguMTMsLjc3KSwhMSksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoLjgsLjgpLCExKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCguNTUsLjk1KSwhMSksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoLjg3NSwuNSksITEpLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KC45NiwuNyksITEpLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KC42MjUsLjIpLCExKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCguODgsCi4yNSksITEpXTtuLnByb3RvdHlwZS5jb25zdHJhaW50cz1teFJlY3RhbmdsZVNoYXBlLnByb3RvdHlwZS5jb25zdHJhaW50cztsLnByb3RvdHlwZS5jb25zdHJhaW50cz1teFJlY3RhbmdsZVNoYXBlLnByb3RvdHlwZS5jb25zdHJhaW50cztnLnByb3RvdHlwZS5jb25zdHJhaW50cz1bbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoLjI1LDApLCEwKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCguNSwwKSwhMCksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoLjc1LDApLCEwKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLC4yNSksITApLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsLjUpLCEwKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLC43NSksITApLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDEsLjI1KSwKITApLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDEsLjUpLCEwKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgxLC43NSksITApXTtteEFycm93LnByb3RvdHlwZS5jb25zdHJhaW50cz1udWxsO2VhLnByb3RvdHlwZS5nZXRDb25zdHJhaW50cz1mdW5jdGlvbihhLGIsZSl7YT1bXTt2YXIgYz1NYXRoLm1heCgwLE1hdGgubWluKGIscGFyc2VGbG9hdChteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsImR4Iix0aGlzLmR4KSkpKSxkPU1hdGgubWF4KDAsTWF0aC5taW4oZSxwYXJzZUZsb2F0KG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSwiZHkiLHRoaXMuZHkpKSkpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLDApLCExKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KC41LDApLCExKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDEsCjApLCExKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMCksITEsbnVsbCxiLC41KmQpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSxudWxsLGIsZCkpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLDApLCExLG51bGwsLjc1KmIrLjI1KmMsZCkpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLDApLCExLG51bGwsLjUqKGIrYyksZCkpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLDApLCExLG51bGwsLjUqKGIrYyksLjUqKGUrZCkpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSxudWxsLC41KihiK2MpLGUpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoLjUsMSksITEpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwKMCksITEsbnVsbCwuNSooYi1jKSxlKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMCksITEsbnVsbCwuNSooYi1jKSwuNSooZStkKSkpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLDApLCExLG51bGwsLjUqKGItYyksZCkpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLDApLCExLG51bGwsLjI1KmItLjI1KmMsZCkpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLDApLCExLG51bGwsMCxkKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMCksITEsbnVsbCwwLC41KmQpKTtyZXR1cm4gYX07UC5wcm90b3R5cGUuZ2V0Q29uc3RyYWludHM9ZnVuY3Rpb24oYSxiLGUpe2E9W107dmFyIGM9TWF0aC5tYXgoMCxNYXRoLm1pbihiLHBhcnNlRmxvYXQobXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLAoiZHgiLHRoaXMuZHgpKSkpLGQ9TWF0aC5tYXgoMCxNYXRoLm1pbihlLHBhcnNlRmxvYXQobXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLCJkeSIsdGhpcy5keSkpKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMCksITEpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoLjUsMCksITEpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMSwwKSwhMSkpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLDApLCExLG51bGwsYiwuNSpkKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMCksITEsbnVsbCxiLGQpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSxudWxsLC41KihiK2MpLGQpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwKMCksITEsbnVsbCxjLGQpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSxudWxsLGMsLjUqKGUrZCkpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSxudWxsLGMsZSkpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLDApLCExLG51bGwsLjUqYyxlKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsLjUpLCExKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMSksITEpKTtyZXR1cm4gYX07TC5wcm90b3R5cGUuY29uc3RyYWludHM9W25ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMCksITEpLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsLjUpLCExKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLAoxKSwhMSksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoLjI1LC41KSwhMSksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoLjUsLjUpLCExKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCguNzUsLjUpLCExKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgxLDApLCExKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgxLC41KSwhMSksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMSwxKSwhMSldO08ucHJvdG90eXBlLmdldENvbnN0cmFpbnRzPWZ1bmN0aW9uKGEsYixlKXthPVtdO3ZhciBjPWUqTWF0aC5tYXgoMCxNYXRoLm1pbigxLHBhcnNlRmxvYXQobXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLCJhcnJvd1dpZHRoIix0aGlzLmFycm93V2lkdGgpKSkpLGQ9YipNYXRoLm1heCgwLE1hdGgubWluKDEscGFyc2VGbG9hdChteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsCiJhcnJvd1NpemUiLHRoaXMuYXJyb3dTaXplKSkpKSxjPShlLWMpLzI7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsLjUpLCExKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMCksITEsbnVsbCwwLGMpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSxudWxsLC41KihiLWQpLGMpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSxudWxsLGItZCwwKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDEsLjUpLCExKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMCksITEsbnVsbCxiLWQsZSkpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLDApLCExLG51bGwsLjUqKGItZCksZS1jKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsCjApLCExLG51bGwsMCxlLWMpKTtyZXR1cm4gYX07WC5wcm90b3R5cGUuZ2V0Q29uc3RyYWludHM9ZnVuY3Rpb24oYSxiLGUpe2E9W107dmFyIGM9ZSpNYXRoLm1heCgwLE1hdGgubWluKDEscGFyc2VGbG9hdChteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsImFycm93V2lkdGgiLE8ucHJvdG90eXBlLmFycm93V2lkdGgpKSkpLGQ9YipNYXRoLm1heCgwLE1hdGgubWluKDEscGFyc2VGbG9hdChteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsImFycm93U2l6ZSIsTy5wcm90b3R5cGUuYXJyb3dTaXplKSkpKSxjPShlLWMpLzI7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsLjUpLCExKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMCksITEsbnVsbCxkLDApKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSxudWxsLC41KmIsYykpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLAowKSwhMSxudWxsLGItZCwwKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDEsLjUpLCExKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMCksITEsbnVsbCxiLWQsZSkpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLDApLCExLG51bGwsLjUqYixlLWMpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSxudWxsLGQsZSkpO3JldHVybiBhfTtzYS5wcm90b3R5cGUuZ2V0Q29uc3RyYWludHM9ZnVuY3Rpb24oYSxiLGUpe2E9W107dmFyIGM9TWF0aC5taW4oZSxiKSxkPU1hdGgubWF4KDAsTWF0aC5taW4oYyxjKnBhcnNlRmxvYXQobXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLCJzaXplIix0aGlzLnNpemUpKSkpLGM9KGUtZCkvMixmPWMrZCxnPShiLWQpLzIsZD1nK2Q7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsCjApLCExLG51bGwsZywuNSpjKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMCksITEsbnVsbCxnLDApKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoLjUsMCksITEpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSxudWxsLGQsMCkpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLDApLCExLG51bGwsZCwuNSpjKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMCksITEsbnVsbCxkLGMpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSxudWxsLGcsZS0uNSpjKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMCksITEsbnVsbCxnLGUpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoLjUsCjEpLCExKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMCksITEsbnVsbCxkLGUpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSxudWxsLGQsZS0uNSpjKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMCksITEsbnVsbCxkLGYpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSxudWxsLC41KihiK2QpLGMpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSxudWxsLGIsYykpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgxLC41KSwhMSkpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLDApLCExLG51bGwsYixmKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsCjApLCExLG51bGwsLjUqKGIrZCksZikpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLDApLCExLG51bGwsZyxmKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMCksITEsbnVsbCwuNSpnLGMpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSxudWxsLDAsYykpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLC41KSwhMSkpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLDApLCExLG51bGwsMCxmKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMCksITEsbnVsbCwuNSpnLGYpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSxudWxsLGcsYykpO3JldHVybiBhfTtBLnByb3RvdHlwZS5jb25zdHJhaW50cz0KbnVsbDt4YS5wcm90b3R5cGUuY29uc3RyYWludHM9W25ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsLjI1KSwhMSksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwuNSksITEpLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsLjc1KSwhMSksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMSwuNSksITEpLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KC43LC4xKSwhMSksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoLjcsLjkpLCExKV07Ti5wcm90b3R5cGUuY29uc3RyYWludHM9W25ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KC4xNzUsLjI1KSwhMSksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoLjI1LC41KSwhMSksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoLjE3NSwKLjc1KSwhMSksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMSwuNSksITEpLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KC43LC4xKSwhMSksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoLjcsLjkpLCExKV07Ui5wcm90b3R5cGUuY29uc3RyYWludHM9W25ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsLjUpLCExKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgxLC41KSwhMSldO1oucHJvdG90eXBlLmNvbnN0cmFpbnRzPVtuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLC41KSwhMSksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMSwuNSksITEpXX0pKCk7ZnVuY3Rpb24gQWN0aW9ucyhhKXt0aGlzLmVkaXRvclVpPWE7dGhpcy5hY3Rpb25zPXt9O3RoaXMuaW5pdCgpfQpBY3Rpb25zLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhKXtkLmVzY2FwZSgpO2E9ZC5kZWxldGVDZWxscyhkLmdldERlbGV0YWJsZUNlbGxzKGQuZ2V0U2VsZWN0aW9uQ2VsbHMoKSksYSk7bnVsbCE9YSYmZC5zZXRTZWxlY3Rpb25DZWxscyhhKX12YXIgYz10aGlzLmVkaXRvclVpLGY9Yy5lZGl0b3IsZD1mLmdyYXBoLGs9ZnVuY3Rpb24oKXtyZXR1cm4gQWN0aW9uLnByb3RvdHlwZS5pc0VuYWJsZWQuYXBwbHkodGhpcyxhcmd1bWVudHMpJiZkLmlzRW5hYmxlZCgpfTt0aGlzLmFkZEFjdGlvbigibmV3Li4uIixmdW5jdGlvbigpe2Qub3BlbkxpbmsoYy5nZXRVcmwoKSl9KTt0aGlzLmFkZEFjdGlvbigib3Blbi4uLiIsZnVuY3Rpb24oKXt3aW5kb3cub3Blbk5ldz0hMDt3aW5kb3cub3BlbktleT0ib3BlbiI7Yy5vcGVuRmlsZSgpfSk7dGhpcy5hZGRBY3Rpb24oImltcG9ydC4uLiIsZnVuY3Rpb24oKXt3aW5kb3cub3Blbk5ldz0hMTt3aW5kb3cub3BlbktleT0KImltcG9ydCI7d2luZG93Lm9wZW5GaWxlPW5ldyBPcGVuRmlsZShteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe2MuaGlkZURpYWxvZygpfSkpO3dpbmRvdy5vcGVuRmlsZS5zZXRDb25zdW1lcihteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhLGUpe3RyeXt2YXIgYj1teFV0aWxzLnBhcnNlWG1sKGEpO2YuZ3JhcGguc2V0U2VsZWN0aW9uQ2VsbHMoZi5ncmFwaC5pbXBvcnRHcmFwaE1vZGVsKGIuZG9jdW1lbnRFbGVtZW50KSl9Y2F0Y2gobil7bXhVdGlscy5hbGVydChteFJlc291cmNlcy5nZXQoImludmFsaWRPck1pc3NpbmdGaWxlIikrIjogIituLm1lc3NhZ2UpfX0pKTtjLnNob3dEaWFsb2coKG5ldyBPcGVuRGlhbG9nKHRoaXMpKS5jb250YWluZXIsMzIwLDIyMCwhMCwhMCxmdW5jdGlvbigpe3dpbmRvdy5vcGVuRmlsZT1udWxsfSl9KS5pc0VuYWJsZWQ9azt0aGlzLmFkZEFjdGlvbigic2F2ZSIsZnVuY3Rpb24oKXtjLnNhdmVGaWxlKCExKX0sbnVsbCxudWxsLEVkaXRvci5jdHJsS2V5KwoiK1MiKS5pc0VuYWJsZWQ9azt0aGlzLmFkZEFjdGlvbigic2F2ZUFzLi4uIixmdW5jdGlvbigpe2Muc2F2ZUZpbGUoITApfSxudWxsLG51bGwsRWRpdG9yLmN0cmxLZXkrIitTaGlmdCtTIikuaXNFbmFibGVkPWs7dGhpcy5hZGRBY3Rpb24oImV4cG9ydC4uLiIsZnVuY3Rpb24oKXtjLnNob3dEaWFsb2coKG5ldyBFeHBvcnREaWFsb2coYykpLmNvbnRhaW5lciwzMDAsMjk2LCEwLCEwKX0pO3RoaXMuYWRkQWN0aW9uKCJlZGl0RGlhZ3JhbS4uLiIsZnVuY3Rpb24oKXt2YXIgYT1uZXcgRWRpdERpYWdyYW1EaWFsb2coYyk7Yy5zaG93RGlhbG9nKGEuY29udGFpbmVyLDYyMCw0MjAsITAsITEpO2EuaW5pdCgpfSk7dGhpcy5hZGRBY3Rpb24oInBhZ2VTZXR1cC4uLiIsZnVuY3Rpb24oKXtjLnNob3dEaWFsb2coKG5ldyBQYWdlU2V0dXBEaWFsb2coYykpLmNvbnRhaW5lciwzMjAsMjIwLCEwLCEwKX0pLmlzRW5hYmxlZD1rO3RoaXMuYWRkQWN0aW9uKCJwcmludC4uLiIsZnVuY3Rpb24oKXtjLnNob3dEaWFsb2coKG5ldyBQcmludERpYWxvZyhjKSkuY29udGFpbmVyLAozMDAsMTgwLCEwLCEwKX0sbnVsbCwic3ByaXRlLXByaW50IixFZGl0b3IuY3RybEtleSsiK1AiKTt0aGlzLmFkZEFjdGlvbigicHJldmlldyIsZnVuY3Rpb24oKXtteFV0aWxzLnNob3coZCxudWxsLDEwLDEwKX0pO3RoaXMuYWRkQWN0aW9uKCJ1bmRvIixmdW5jdGlvbigpe2MudW5kbygpfSxudWxsLCJzcHJpdGUtdW5kbyIsRWRpdG9yLmN0cmxLZXkrIitaIik7dGhpcy5hZGRBY3Rpb24oInJlZG8iLGZ1bmN0aW9uKCl7Yy5yZWRvKCl9LG51bGwsInNwcml0ZS1yZWRvIixteENsaWVudC5JU19XSU4/RWRpdG9yLmN0cmxLZXkrIitZIjpFZGl0b3IuY3RybEtleSsiK1NoaWZ0K1oiKTt0aGlzLmFkZEFjdGlvbigiY3V0IixmdW5jdGlvbigpe214Q2xpcGJvYXJkLmN1dChkKX0sbnVsbCwic3ByaXRlLWN1dCIsRWRpdG9yLmN0cmxLZXkrIitYIik7dGhpcy5hZGRBY3Rpb24oImNvcHkiLGZ1bmN0aW9uKCl7dHJ5e214Q2xpcGJvYXJkLmNvcHkoZCl9Y2F0Y2goYil7Yy5oYW5kbGVFcnJvcihiKX19LApudWxsLCJzcHJpdGUtY29weSIsRWRpdG9yLmN0cmxLZXkrIitDIik7dGhpcy5hZGRBY3Rpb24oInBhc3RlIixmdW5jdGlvbigpe2QuaXNFbmFibGVkKCkmJiFkLmlzQ2VsbExvY2tlZChkLmdldERlZmF1bHRQYXJlbnQoKSkmJm14Q2xpcGJvYXJkLnBhc3RlKGQpfSwhMSwic3ByaXRlLXBhc3RlIixFZGl0b3IuY3RybEtleSsiK1YiKTt0aGlzLmFkZEFjdGlvbigicGFzdGVIZXJlIixmdW5jdGlvbihhKXtpZihkLmlzRW5hYmxlZCgpJiYhZC5pc0NlbGxMb2NrZWQoZC5nZXREZWZhdWx0UGFyZW50KCkpKXtkLmdldE1vZGVsKCkuYmVnaW5VcGRhdGUoKTt0cnl7dmFyIGI9bXhDbGlwYm9hcmQucGFzdGUoZCk7aWYobnVsbCE9Yil7YT0hMDtmb3IodmFyIGM9MDtjPGIubGVuZ3RoJiZhO2MrKylhPWEmJmQubW9kZWwuaXNFZGdlKGJbY10pO3ZhciBmPWQudmlldy50cmFuc2xhdGUsbD1kLnZpZXcuc2NhbGUscD1mLngsaz1mLnksZj1udWxsO2lmKDE9PWIubGVuZ3RoJiZhKXt2YXIgdD1kLmdldENlbGxHZW9tZXRyeShiWzBdKTsKbnVsbCE9dCYmKGY9dC5nZXRUZXJtaW5hbFBvaW50KCEwKSl9Zj1udWxsIT1mP2Y6ZC5nZXRCb3VuZGluZ0JveEZyb21HZW9tZXRyeShiLGEpO2lmKG51bGwhPWYpe3ZhciBtPU1hdGgucm91bmQoZC5zbmFwKGQucG9wdXBNZW51SGFuZGxlci50cmlnZ2VyWC9sLXApKSx4PU1hdGgucm91bmQoZC5zbmFwKGQucG9wdXBNZW51SGFuZGxlci50cmlnZ2VyWS9sLWspKTtkLmNlbGxzTW92ZWQoYixtLWYueCx4LWYueSl9fX1maW5hbGx5e2QuZ2V0TW9kZWwoKS5lbmRVcGRhdGUoKX19fSk7dGhpcy5hZGRBY3Rpb24oImNvcHlTaXplIixmdW5jdGlvbihhKXthPWQuZ2V0U2VsZWN0aW9uQ2VsbCgpO2QuaXNFbmFibGVkKCkmJm51bGwhPWEmJmQuZ2V0TW9kZWwoKS5pc1ZlcnRleChhKSYmKGE9ZC5nZXRDZWxsR2VvbWV0cnkoYSksbnVsbCE9YSYmKGMuY29waWVkU2l6ZT1uZXcgbXhSZWN0YW5nbGUoYS54LGEueSxhLndpZHRoLGEuaGVpZ2h0KSkpfSxudWxsLG51bGwsIkFsdCtTaGlmdCtYIik7CnRoaXMuYWRkQWN0aW9uKCJwYXN0ZVNpemUiLGZ1bmN0aW9uKGEpe2lmKGQuaXNFbmFibGVkKCkmJiFkLmlzU2VsZWN0aW9uRW1wdHkoKSYmbnVsbCE9Yy5jb3BpZWRTaXplKXtkLmdldE1vZGVsKCkuYmVnaW5VcGRhdGUoKTt0cnl7dmFyIGI9ZC5nZXRTZWxlY3Rpb25DZWxscygpO2ZvcihhPTA7YTxiLmxlbmd0aDthKyspaWYoZC5nZXRNb2RlbCgpLmlzVmVydGV4KGJbYV0pKXt2YXIgZj1kLmdldENlbGxHZW9tZXRyeShiW2FdKTtudWxsIT1mJiYoZj1mLmNsb25lKCksZi53aWR0aD1jLmNvcGllZFNpemUud2lkdGgsZi5oZWlnaHQ9Yy5jb3BpZWRTaXplLmhlaWdodCxkLmdldE1vZGVsKCkuc2V0R2VvbWV0cnkoYlthXSxmKSl9fWZpbmFsbHl7ZC5nZXRNb2RlbCgpLmVuZFVwZGF0ZSgpfX19LG51bGwsbnVsbCwiQWx0K1NoaWZ0K1YiKTt0aGlzLmFkZEFjdGlvbigiZGVsZXRlIixmdW5jdGlvbihiKXthKG51bGwhPWImJm14RXZlbnQuaXNTaGlmdERvd24oYikpfSxudWxsLG51bGwsIkRlbGV0ZSIpOwp0aGlzLmFkZEFjdGlvbigiZGVsZXRlQWxsIixmdW5jdGlvbigpe2EoITApfSxudWxsLG51bGwsRWRpdG9yLmN0cmxLZXkrIitEZWxldGUiKTt0aGlzLmFkZEFjdGlvbigiZHVwbGljYXRlIixmdW5jdGlvbigpe3RyeXtkLnNldFNlbGVjdGlvbkNlbGxzKGQuZHVwbGljYXRlQ2VsbHMoKSl9Y2F0Y2goYil7Yy5oYW5kbGVFcnJvcihiKX19LG51bGwsbnVsbCxFZGl0b3IuY3RybEtleSsiK0QiKTt0aGlzLnB1dCgidHVybiIsbmV3IEFjdGlvbihteFJlc291cmNlcy5nZXQoInR1cm4iKSsiIC8gIitteFJlc291cmNlcy5nZXQoInJldmVyc2UiKSxmdW5jdGlvbihhKXtkLnR1cm5TaGFwZXMoZC5nZXRTZWxlY3Rpb25DZWxscygpLG51bGwhPWE/bXhFdmVudC5pc1NoaWZ0RG93bihhKTohMSl9LG51bGwsbnVsbCxFZGl0b3IuY3RybEtleSsiK1IiKSk7dGhpcy5hZGRBY3Rpb24oInNlbGVjdFZlcnRpY2VzIixmdW5jdGlvbigpe2Quc2VsZWN0VmVydGljZXMobnVsbCwhMCl9LG51bGwsbnVsbCwKRWRpdG9yLmN0cmxLZXkrIitTaGlmdCtJIik7dGhpcy5hZGRBY3Rpb24oInNlbGVjdEVkZ2VzIixmdW5jdGlvbigpe2Quc2VsZWN0RWRnZXMoKX0sbnVsbCxudWxsLEVkaXRvci5jdHJsS2V5KyIrU2hpZnQrRSIpO3RoaXMuYWRkQWN0aW9uKCJzZWxlY3RBbGwiLGZ1bmN0aW9uKCl7ZC5zZWxlY3RBbGwobnVsbCwhMCl9LG51bGwsbnVsbCxFZGl0b3IuY3RybEtleSsiK0EiKTt0aGlzLmFkZEFjdGlvbigic2VsZWN0Tm9uZSIsZnVuY3Rpb24oKXtkLmNsZWFyU2VsZWN0aW9uKCl9LG51bGwsbnVsbCxFZGl0b3IuY3RybEtleSsiK1NoaWZ0K0EiKTt0aGlzLmFkZEFjdGlvbigibG9ja1VubG9jayIsZnVuY3Rpb24oKXtpZighZC5pc1NlbGVjdGlvbkVtcHR5KCkpe2QuZ2V0TW9kZWwoKS5iZWdpblVwZGF0ZSgpO3RyeXt2YXIgYT1kLmlzQ2VsbE1vdmFibGUoZC5nZXRTZWxlY3Rpb25DZWxsKCkpPzE6MDtkLnRvZ2dsZUNlbGxTdHlsZXMobXhDb25zdGFudHMuU1RZTEVfTU9WQUJMRSxhKTtkLnRvZ2dsZUNlbGxTdHlsZXMobXhDb25zdGFudHMuU1RZTEVfUkVTSVpBQkxFLAphKTtkLnRvZ2dsZUNlbGxTdHlsZXMobXhDb25zdGFudHMuU1RZTEVfUk9UQVRBQkxFLGEpO2QudG9nZ2xlQ2VsbFN0eWxlcyhteENvbnN0YW50cy5TVFlMRV9ERUxFVEFCTEUsYSk7ZC50b2dnbGVDZWxsU3R5bGVzKG14Q29uc3RhbnRzLlNUWUxFX0VESVRBQkxFLGEpO2QudG9nZ2xlQ2VsbFN0eWxlcygiY29ubmVjdGFibGUiLGEpfWZpbmFsbHl7ZC5nZXRNb2RlbCgpLmVuZFVwZGF0ZSgpfX19LG51bGwsbnVsbCxFZGl0b3IuY3RybEtleSsiK0wiKTt0aGlzLmFkZEFjdGlvbigiaG9tZSIsZnVuY3Rpb24oKXtkLmhvbWUoKX0sbnVsbCxudWxsLCJTaGlmdCtIb21lIik7dGhpcy5hZGRBY3Rpb24oImV4aXRHcm91cCIsZnVuY3Rpb24oKXtkLmV4aXRHcm91cCgpfSxudWxsLG51bGwsRWRpdG9yLmN0cmxLZXkrIitTaGlmdCtIb21lIik7dGhpcy5hZGRBY3Rpb24oImVudGVyR3JvdXAiLGZ1bmN0aW9uKCl7ZC5lbnRlckdyb3VwKCl9LG51bGwsbnVsbCxFZGl0b3IuY3RybEtleSsiK1NoaWZ0K0VuZCIpOwp0aGlzLmFkZEFjdGlvbigiY29sbGFwc2UiLGZ1bmN0aW9uKCl7ZC5mb2xkQ2VsbHMoITApfSxudWxsLG51bGwsRWRpdG9yLmN0cmxLZXkrIitIb21lIik7dGhpcy5hZGRBY3Rpb24oImV4cGFuZCIsZnVuY3Rpb24oKXtkLmZvbGRDZWxscyghMSl9LG51bGwsbnVsbCxFZGl0b3IuY3RybEtleSsiK0VuZCIpO3RoaXMuYWRkQWN0aW9uKCJ0b0Zyb250IixmdW5jdGlvbigpe2Qub3JkZXJDZWxscyghMSl9LG51bGwsbnVsbCxFZGl0b3IuY3RybEtleSsiK1NoaWZ0K0YiKTt0aGlzLmFkZEFjdGlvbigidG9CYWNrIixmdW5jdGlvbigpe2Qub3JkZXJDZWxscyghMCl9LG51bGwsbnVsbCxFZGl0b3IuY3RybEtleSsiK1NoaWZ0K0IiKTt0aGlzLmFkZEFjdGlvbigiZ3JvdXAiLGZ1bmN0aW9uKCl7MT09ZC5nZXRTZWxlY3Rpb25Db3VudCgpP2Quc2V0Q2VsbFN0eWxlcygiY29udGFpbmVyIiwiMSIpOmQuc2V0U2VsZWN0aW9uQ2VsbChkLmdyb3VwQ2VsbHMobnVsbCwwKSl9LG51bGwsbnVsbCxFZGl0b3IuY3RybEtleSsKIitHIik7dGhpcy5hZGRBY3Rpb24oInVuZ3JvdXAiLGZ1bmN0aW9uKCl7MT09ZC5nZXRTZWxlY3Rpb25Db3VudCgpJiYwPT1kLmdldE1vZGVsKCkuZ2V0Q2hpbGRDb3VudChkLmdldFNlbGVjdGlvbkNlbGwoKSk/ZC5zZXRDZWxsU3R5bGVzKCJjb250YWluZXIiLCIwIik6ZC5zZXRTZWxlY3Rpb25DZWxscyhkLnVuZ3JvdXBDZWxscygpKX0sbnVsbCxudWxsLEVkaXRvci5jdHJsS2V5KyIrU2hpZnQrVSIpO3RoaXMuYWRkQWN0aW9uKCJyZW1vdmVGcm9tR3JvdXAiLGZ1bmN0aW9uKCl7ZC5yZW1vdmVDZWxsc0Zyb21QYXJlbnQoKX0pO3RoaXMuYWRkQWN0aW9uKCJlZGl0IixmdW5jdGlvbigpe2QuaXNFbmFibGVkKCkmJmQuc3RhcnRFZGl0aW5nQXRDZWxsKCl9LG51bGwsbnVsbCwiRjIvRW50ZXIiKTt0aGlzLmFkZEFjdGlvbigiZWRpdERhdGEuLi4iLGZ1bmN0aW9uKCl7dmFyIGE9ZC5nZXRTZWxlY3Rpb25DZWxsKCl8fGQuZ2V0TW9kZWwoKS5nZXRSb290KCk7Yy5zaG93RGF0YURpYWxvZyhhKX0sCm51bGwsbnVsbCxFZGl0b3IuY3RybEtleSsiK00iKTt0aGlzLmFkZEFjdGlvbigiZWRpdFRvb2x0aXAuLi4iLGZ1bmN0aW9uKCl7dmFyIGE9Yy5lZGl0b3IuZ3JhcGg7aWYoYS5pc0VuYWJsZWQoKSYmIWEuaXNTZWxlY3Rpb25FbXB0eSgpKXt2YXIgZT1hLmdldFNlbGVjdGlvbkNlbGwoKSxkPSIiO2lmKG14VXRpbHMuaXNOb2RlKGUudmFsdWUpKXt2YXIgZj1lLnZhbHVlLmdldEF0dHJpYnV0ZSgidG9vbHRpcCIpO251bGwhPWYmJihkPWYpfWQ9bmV3IFRleHRhcmVhRGlhbG9nKGMsbXhSZXNvdXJjZXMuZ2V0KCJlZGl0VG9vbHRpcCIpKyI6IixkLGZ1bmN0aW9uKGIpe2Euc2V0VG9vbHRpcEZvckNlbGwoZSxiKX0pO2Muc2hvd0RpYWxvZyhkLmNvbnRhaW5lciwzMjAsMjAwLCEwLCEwKTtkLmluaXQoKX19LG51bGwsbnVsbCwiQWx0K1NoaWZ0K1QiKTt0aGlzLmFkZEFjdGlvbigib3BlbkxpbmsiLGZ1bmN0aW9uKCl7dmFyIGE9ZC5nZXRMaW5rRm9yQ2VsbChkLmdldFNlbGVjdGlvbkNlbGwoKSk7Cm51bGwhPWEmJmQub3BlbkxpbmsoYSl9KTt0aGlzLmFkZEFjdGlvbigiZWRpdExpbmsuLi4iLGZ1bmN0aW9uKCl7dmFyIGE9Yy5lZGl0b3IuZ3JhcGg7aWYoYS5pc0VuYWJsZWQoKSYmIWEuaXNTZWxlY3Rpb25FbXB0eSgpKXt2YXIgZT1hLmdldFNlbGVjdGlvbkNlbGwoKSxkPWEuZ2V0TGlua0ZvckNlbGwoZSl8fCIiO2Muc2hvd0xpbmtEaWFsb2coZCxteFJlc291cmNlcy5nZXQoImFwcGx5IiksZnVuY3Rpb24oYil7Yj1teFV0aWxzLnRyaW0oYik7YS5zZXRMaW5rRm9yQ2VsbChlLDA8Yi5sZW5ndGg/YjpudWxsKX0pfX0sbnVsbCxudWxsLCJBbHQrU2hpZnQrTCIpO3RoaXMucHV0KCJpbnNlcnRJbWFnZSIsbmV3IEFjdGlvbihteFJlc291cmNlcy5nZXQoImltYWdlIikrIi4uLiIsZnVuY3Rpb24oKXtkLmlzRW5hYmxlZCgpJiYhZC5pc0NlbGxMb2NrZWQoZC5nZXREZWZhdWx0UGFyZW50KCkpJiYoZC5jbGVhclNlbGVjdGlvbigpLGMuYWN0aW9ucy5nZXQoImltYWdlIikuZnVuY3QoKSl9KSkuaXNFbmFibGVkPQprO3RoaXMucHV0KCJpbnNlcnRMaW5rIixuZXcgQWN0aW9uKG14UmVzb3VyY2VzLmdldCgibGluayIpKyIuLi4iLGZ1bmN0aW9uKCl7ZC5pc0VuYWJsZWQoKSYmIWQuaXNDZWxsTG9ja2VkKGQuZ2V0RGVmYXVsdFBhcmVudCgpKSYmYy5zaG93TGlua0RpYWxvZygiIixteFJlc291cmNlcy5nZXQoImluc2VydCIpLGZ1bmN0aW9uKGEsZSl7YT1teFV0aWxzLnRyaW0oYSk7aWYoMDxhLmxlbmd0aCl7dmFyIGI9bnVsbCxjPWQuZ2V0TGlua1RpdGxlKGEpO251bGwhPWUmJjA8ZS5sZW5ndGgmJihiPWVbMF0uaWNvblVybCxjPWVbMF0ubmFtZXx8ZVswXS50eXBlLGM9Yy5jaGFyQXQoMCkudG9VcHBlckNhc2UoKStjLnN1YnN0cmluZygxKSwzMDxjLmxlbmd0aCYmKGM9Yy5zdWJzdHJpbmcoMCwzMCkrIi4uLiIpKTt2YXIgZj1kLmdldEZyZWVJbnNlcnRQb2ludCgpLGI9bmV3IG14Q2VsbChjLG5ldyBteEdlb21ldHJ5KGYueCxmLnksMTAwLDQwKSwiZm9udENvbG9yPSMwMDAwRUU7Zm9udFN0eWxlPTQ7cm91bmRlZD0xO292ZXJmbG93PWhpZGRlbjsiKwoobnVsbCE9Yj8ic2hhcGU9bGFiZWw7aW1hZ2VXaWR0aD0xNjtpbWFnZUhlaWdodD0xNjtzcGFjaW5nTGVmdD0yNjthbGlnbj1sZWZ0O2ltYWdlPSIrYjoic3BhY2luZz0xMDsiKSk7Yi52ZXJ0ZXg9ITA7ZC5zZXRMaW5rRm9yQ2VsbChiLGEpO2QuY2VsbFNpemVVcGRhdGVkKGIsITApO2QuZ2V0TW9kZWwoKS5iZWdpblVwZGF0ZSgpO3RyeXtiPWQuYWRkQ2VsbChiKSxkLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdCgiY2VsbHNJbnNlcnRlZCIsImNlbGxzIixbYl0pKX1maW5hbGx5e2QuZ2V0TW9kZWwoKS5lbmRVcGRhdGUoKX1kLnNldFNlbGVjdGlvbkNlbGwoYik7ZC5zY3JvbGxDZWxsVG9WaXNpYmxlKGQuZ2V0U2VsZWN0aW9uQ2VsbCgpKX19KX0pKS5pc0VuYWJsZWQ9azt0aGlzLmFkZEFjdGlvbigibGluay4uLiIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt2YXIgYT1jLmVkaXRvci5ncmFwaDtpZihhLmlzRW5hYmxlZCgpKWlmKGEuY2VsbEVkaXRvci5pc0NvbnRlbnRFZGl0aW5nKCkpe3ZhciBlPQphLmdldFNlbGVjdGVkRWxlbWVudCgpLGQ9YS5nZXRQYXJlbnRCeU5hbWUoZSwiQSIsYS5jZWxsRWRpdG9yLnRleHRhcmVhKSxmPSIiO2lmKG51bGw9PWQmJm51bGwhPWUmJm51bGwhPWUuZ2V0RWxlbWVudHNCeVRhZ05hbWUpZm9yKHZhciBsPWUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImEiKSxwPTA7cDxsLmxlbmd0aCYmbnVsbD09ZDtwKyspbFtwXS50ZXh0Q29udGVudD09ZS50ZXh0Q29udGVudCYmKGQ9bFtwXSk7bnVsbCE9ZCYmIkEiPT1kLm5vZGVOYW1lJiYoZj1kLmdldEF0dHJpYnV0ZSgiaHJlZiIpfHwiIixhLnNlbGVjdE5vZGUoZCkpO3ZhciBrPWEuY2VsbEVkaXRvci5zYXZlU2VsZWN0aW9uKCk7Yy5zaG93TGlua0RpYWxvZyhmLG14UmVzb3VyY2VzLmdldCgiYXBwbHkiKSxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihiKXthLmNlbGxFZGl0b3IucmVzdG9yZVNlbGVjdGlvbihrKTtudWxsIT1iJiZhLmluc2VydExpbmsoYil9KSl9ZWxzZSBhLmlzU2VsZWN0aW9uRW1wdHkoKT8KdGhpcy5nZXQoImluc2VydExpbmsiKS5mdW5jdCgpOnRoaXMuZ2V0KCJlZGl0TGluayIpLmZ1bmN0KCl9KSkuaXNFbmFibGVkPWs7dGhpcy5hZGRBY3Rpb24oImF1dG9zaXplIixmdW5jdGlvbigpe3ZhciBhPWQuZ2V0U2VsZWN0aW9uQ2VsbHMoKTtpZihudWxsIT1hKXtkLmdldE1vZGVsKCkuYmVnaW5VcGRhdGUoKTt0cnl7Zm9yKHZhciBlPTA7ZTxhLmxlbmd0aDtlKyspe3ZhciBjPWFbZV07aWYoZC5nZXRNb2RlbCgpLmdldENoaWxkQ291bnQoYykpZC51cGRhdGVHcm91cEJvdW5kcyhbY10sMjApO2Vsc2V7dmFyIGY9ZC52aWV3LmdldFN0YXRlKGMpLGw9ZC5nZXRDZWxsR2VvbWV0cnkoYyk7ZC5nZXRNb2RlbCgpLmlzVmVydGV4KGMpJiZudWxsIT1mJiZudWxsIT1mLnRleHQmJm51bGwhPWwmJmQuaXNXcmFwcGluZyhjKT8obD1sLmNsb25lKCksbC5oZWlnaHQ9Zi50ZXh0LmJvdW5kaW5nQm94LmhlaWdodC9kLnZpZXcuc2NhbGUsZC5nZXRNb2RlbCgpLnNldEdlb21ldHJ5KGMsbCkpOgpkLnVwZGF0ZUNlbGxTaXplKGMpfX19ZmluYWxseXtkLmdldE1vZGVsKCkuZW5kVXBkYXRlKCl9fX0sbnVsbCxudWxsLEVkaXRvci5jdHJsS2V5KyIrU2hpZnQrWSIpO3RoaXMuYWRkQWN0aW9uKCJmb3JtYXR0ZWRUZXh0IixmdW5jdGlvbigpe3ZhciBhPWQuZ2V0VmlldygpLmdldFN0YXRlKGQuZ2V0U2VsZWN0aW9uQ2VsbCgpKTtpZihudWxsIT1hKXtkLnN0b3BFZGl0aW5nKCk7YT0iMSI9PWEuc3R5bGUuaHRtbD9udWxsOiIxIjtkLmdldE1vZGVsKCkuYmVnaW5VcGRhdGUoKTt0cnl7Zm9yKHZhciBlPWQuZ2V0U2VsZWN0aW9uQ2VsbHMoKSxmPTA7ZjxlLmxlbmd0aDtmKyspaWYoc3RhdGU9ZC5nZXRWaWV3KCkuZ2V0U3RhdGUoZVtmXSksbnVsbCE9c3RhdGUpe3ZhciBuPW14VXRpbHMuZ2V0VmFsdWUoc3RhdGUuc3R5bGUsImh0bWwiLCIwIik7aWYoIjEiPT1uJiZudWxsPT1hKXt2YXIgbD1kLmNvbnZlcnRWYWx1ZVRvU3RyaW5nKHN0YXRlLmNlbGwpOyIwIiE9bXhVdGlscy5nZXRWYWx1ZShzdGF0ZS5zdHlsZSwKIm5sMkJyIiwiMSIpJiYobD1sLnJlcGxhY2UoL1xuL2csIiIpLnJlcGxhY2UoLzxiclxzKi4/Pi9nLCJcbiIpKTt2YXIgcD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtwLmlubmVySFRNTD1sO2w9bXhVdGlscy5leHRyYWN0VGV4dFdpdGhXaGl0ZXNwYWNlKHAuY2hpbGROb2Rlcyk7ZC5jZWxsTGFiZWxDaGFuZ2VkKHN0YXRlLmNlbGwsbCk7ZC5zZXRDZWxsU3R5bGVzKCJodG1sIixhLFtlW2ZdXSl9ZWxzZSIwIj09biYmIjEiPT1hJiYobD1teFV0aWxzLmh0bWxFbnRpdGllcyhkLmNvbnZlcnRWYWx1ZVRvU3RyaW5nKHN0YXRlLmNlbGwpLCExKSwiMCIhPW14VXRpbHMuZ2V0VmFsdWUoc3RhdGUuc3R5bGUsIm5sMkJyIiwiMSIpJiYobD1sLnJlcGxhY2UoL1xuL2csIjxici8+IikpLGQuY2VsbExhYmVsQ2hhbmdlZChzdGF0ZS5jZWxsLGQuc2FuaXRpemVIdG1sKGwpKSxkLnNldENlbGxTdHlsZXMoImh0bWwiLGEsW2VbZl1dKSl9Yy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QoInN0eWxlQ2hhbmdlZCIsCiJrZXlzIixbImh0bWwiXSwidmFsdWVzIixbbnVsbCE9YT9hOiIwIl0sImNlbGxzIixlKSl9ZmluYWxseXtkLmdldE1vZGVsKCkuZW5kVXBkYXRlKCl9fX0pO3RoaXMuYWRkQWN0aW9uKCJ3b3JkV3JhcCIsZnVuY3Rpb24oKXt2YXIgYT1kLmdldFZpZXcoKS5nZXRTdGF0ZShkLmdldFNlbGVjdGlvbkNlbGwoKSksZT0id3JhcCI7ZC5zdG9wRWRpdGluZygpO251bGwhPWEmJiJ3cmFwIj09YS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9XSElURV9TUEFDRV0mJihlPW51bGwpO2Quc2V0Q2VsbFN0eWxlcyhteENvbnN0YW50cy5TVFlMRV9XSElURV9TUEFDRSxlKX0pO3RoaXMuYWRkQWN0aW9uKCJyb3RhdGlvbiIsZnVuY3Rpb24oKXt2YXIgYT0iMCIsZT1kLmdldFZpZXcoKS5nZXRTdGF0ZShkLmdldFNlbGVjdGlvbkNlbGwoKSk7bnVsbCE9ZSYmKGE9ZS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9ST1RBVElPTl18fGEpO2E9bmV3IEZpbGVuYW1lRGlhbG9nKGMsYSxteFJlc291cmNlcy5nZXQoImFwcGx5IiksCmZ1bmN0aW9uKGEpe251bGwhPWEmJjA8YS5sZW5ndGgmJmQuc2V0Q2VsbFN0eWxlcyhteENvbnN0YW50cy5TVFlMRV9ST1RBVElPTixhKX0sbXhSZXNvdXJjZXMuZ2V0KCJlbnRlclZhbHVlIikrIiAoIitteFJlc291cmNlcy5nZXQoInJvdGF0aW9uIikrIiAwLTM2MCkiKTtjLnNob3dEaWFsb2coYS5jb250YWluZXIsMzc1LDgwLCEwLCEwKTthLmluaXQoKX0pO3RoaXMuYWRkQWN0aW9uKCJyZXNldFZpZXciLGZ1bmN0aW9uKCl7ZC56b29tVG8oMSk7Yy5yZXNldFNjcm9sbGJhcnMoKX0sbnVsbCxudWxsLCJIb21lIik7dGhpcy5hZGRBY3Rpb24oInpvb21JbiIsZnVuY3Rpb24oYSl7ZC5pc0Zhc3Rab29tRW5hYmxlZCgpP2QubGF6eVpvb20oITAsITAsYy5idXR0b25ab29tRGVsYXkpOmQuem9vbUluKCl9LG51bGwsbnVsbCxFZGl0b3IuY3RybEtleSsiICsgKE51bXBhZCkgLyBBbHQrTW91c2V3aGVlbCIpO3RoaXMuYWRkQWN0aW9uKCJ6b29tT3V0IixmdW5jdGlvbihhKXtkLmlzRmFzdFpvb21FbmFibGVkKCk/CmQubGF6eVpvb20oITEsITAsYy5idXR0b25ab29tRGVsYXkpOmQuem9vbU91dCgpfSxudWxsLG51bGwsRWRpdG9yLmN0cmxLZXkrIiAtIChOdW1wYWQpIC8gQWx0K01vdXNld2hlZWwiKTt0aGlzLmFkZEFjdGlvbigiZml0V2luZG93IixmdW5jdGlvbigpe3ZhciBhPWQuaXNTZWxlY3Rpb25FbXB0eSgpP2QuZ2V0R3JhcGhCb3VuZHMoKTpkLmdldEJvdW5kaW5nQm94KGQuZ2V0U2VsZWN0aW9uQ2VsbHMoKSksZT1kLnZpZXcudHJhbnNsYXRlLGM9ZC52aWV3LnNjYWxlO2Eud2lkdGgvPWM7YS5oZWlnaHQvPWM7YS54PWEueC9jLWUueDthLnk9YS55L2MtZS55O3ZhciBjPWQuY29udGFpbmVyLmNsaWVudFdpZHRoLTEwLGY9ZC5jb250YWluZXIuY2xpZW50SGVpZ2h0LTEwLGw9TWF0aC5mbG9vcigyMCpNYXRoLm1pbihjL2Eud2lkdGgsZi9hLmhlaWdodCkpLzIwO2Quem9vbVRvKGwpO214VXRpbHMuaGFzU2Nyb2xsYmFycyhkLmNvbnRhaW5lcikmJihkLmNvbnRhaW5lci5zY3JvbGxUb3A9KGEueSsKZS55KSpsLU1hdGgubWF4KChmLWEuaGVpZ2h0KmwpLzIrNSwwKSxkLmNvbnRhaW5lci5zY3JvbGxMZWZ0PShhLngrZS54KSpsLU1hdGgubWF4KChjLWEud2lkdGgqbCkvMis1LDApKX0sbnVsbCxudWxsLEVkaXRvci5jdHJsS2V5KyIrU2hpZnQrSCIpO3RoaXMuYWRkQWN0aW9uKCJmaXRQYWdlIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe2QucGFnZVZpc2libGV8fHRoaXMuZ2V0KCJwYWdlVmlldyIpLmZ1bmN0KCk7dmFyIGE9ZC5wYWdlRm9ybWF0LGU9ZC5wYWdlU2NhbGU7ZC56b29tVG8oTWF0aC5mbG9vcigyMCpNYXRoLm1pbigoZC5jb250YWluZXIuY2xpZW50V2lkdGgtMTApL2Eud2lkdGgvZSwoZC5jb250YWluZXIuY2xpZW50SGVpZ2h0LTEwKS9hLmhlaWdodC9lKSkvMjApO214VXRpbHMuaGFzU2Nyb2xsYmFycyhkLmNvbnRhaW5lcikmJihhPWQuZ2V0UGFnZVBhZGRpbmcoKSxkLmNvbnRhaW5lci5zY3JvbGxUb3A9YS55KmQudmlldy5zY2FsZS0xLGQuY29udGFpbmVyLnNjcm9sbExlZnQ9Ck1hdGgubWluKGEueCpkLnZpZXcuc2NhbGUsKGQuY29udGFpbmVyLnNjcm9sbFdpZHRoLWQuY29udGFpbmVyLmNsaWVudFdpZHRoKS8yKS0xKX0pLG51bGwsbnVsbCxFZGl0b3IuY3RybEtleSsiK0oiKTt0aGlzLmFkZEFjdGlvbigiZml0VHdvUGFnZXMiLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7ZC5wYWdlVmlzaWJsZXx8dGhpcy5nZXQoInBhZ2VWaWV3IikuZnVuY3QoKTt2YXIgYT1kLnBhZ2VGb3JtYXQsZT1kLnBhZ2VTY2FsZTtkLnpvb21UbyhNYXRoLmZsb29yKDIwKk1hdGgubWluKChkLmNvbnRhaW5lci5jbGllbnRXaWR0aC0xMCkvKDIqYS53aWR0aCkvZSwoZC5jb250YWluZXIuY2xpZW50SGVpZ2h0LTEwKS9hLmhlaWdodC9lKSkvMjApO214VXRpbHMuaGFzU2Nyb2xsYmFycyhkLmNvbnRhaW5lcikmJihhPWQuZ2V0UGFnZVBhZGRpbmcoKSxkLmNvbnRhaW5lci5zY3JvbGxUb3A9TWF0aC5taW4oYS55LChkLmNvbnRhaW5lci5zY3JvbGxIZWlnaHQtZC5jb250YWluZXIuY2xpZW50SGVpZ2h0KS8KMiksZC5jb250YWluZXIuc2Nyb2xsTGVmdD1NYXRoLm1pbihhLngsKGQuY29udGFpbmVyLnNjcm9sbFdpZHRoLWQuY29udGFpbmVyLmNsaWVudFdpZHRoKS8yKSl9KSxudWxsLG51bGwsRWRpdG9yLmN0cmxLZXkrIitTaGlmdCtKIik7dGhpcy5hZGRBY3Rpb24oImZpdFBhZ2VXaWR0aCIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXtkLnBhZ2VWaXNpYmxlfHx0aGlzLmdldCgicGFnZVZpZXciKS5mdW5jdCgpO2Quem9vbVRvKE1hdGguZmxvb3IoMjAqKGQuY29udGFpbmVyLmNsaWVudFdpZHRoLTEwKS9kLnBhZ2VGb3JtYXQud2lkdGgvZC5wYWdlU2NhbGUpLzIwKTtpZihteFV0aWxzLmhhc1Njcm9sbGJhcnMoZC5jb250YWluZXIpKXt2YXIgYT1kLmdldFBhZ2VQYWRkaW5nKCk7ZC5jb250YWluZXIuc2Nyb2xsTGVmdD1NYXRoLm1pbihhLngqZC52aWV3LnNjYWxlLChkLmNvbnRhaW5lci5zY3JvbGxXaWR0aC1kLmNvbnRhaW5lci5jbGllbnRXaWR0aCkvMil9fSkpO3RoaXMucHV0KCJjdXN0b21ab29tIiwKbmV3IEFjdGlvbihteFJlc291cmNlcy5nZXQoImN1c3RvbSIpKyIuLi4iLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dmFyIGE9bmV3IEZpbGVuYW1lRGlhbG9nKHRoaXMuZWRpdG9yVWkscGFyc2VJbnQoMTAwKmQuZ2V0VmlldygpLmdldFNjYWxlKCkpLG14UmVzb3VyY2VzLmdldCgiYXBwbHkiKSxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXthPXBhcnNlSW50KGEpOyFpc05hTihhKSYmMDxhJiZkLnpvb21UbyhhLzEwMCl9KSxteFJlc291cmNlcy5nZXQoInpvb20iKSsiICglKSIpO3RoaXMuZWRpdG9yVWkuc2hvd0RpYWxvZyhhLmNvbnRhaW5lciwzMDAsODAsITAsITApO2EuaW5pdCgpfSksbnVsbCxudWxsLEVkaXRvci5jdHJsS2V5KyIrMCIpKTt0aGlzLmFkZEFjdGlvbigicGFnZVNjYWxlLi4uIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3ZhciBhPW5ldyBGaWxlbmFtZURpYWxvZyh0aGlzLmVkaXRvclVpLHBhcnNlSW50KDEwMCpkLnBhZ2VTY2FsZSksCm14UmVzb3VyY2VzLmdldCgiYXBwbHkiKSxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXthPXBhcnNlSW50KGEpOyFpc05hTihhKSYmMDxhJiYoYT1uZXcgQ2hhbmdlUGFnZVNldHVwKGMsbnVsbCxudWxsLG51bGwsYS8xMDApLGEuaWdub3JlQ29sb3I9ITAsYS5pZ25vcmVJbWFnZT0hMCxkLm1vZGVsLmV4ZWN1dGUoYSkpfSksbXhSZXNvdXJjZXMuZ2V0KCJwYWdlU2NhbGUiKSsiICglKSIpO3RoaXMuZWRpdG9yVWkuc2hvd0RpYWxvZyhhLmNvbnRhaW5lciwzMDAsODAsITAsITApO2EuaW5pdCgpfSkpO3ZhciBtPW51bGwsbT10aGlzLmFkZEFjdGlvbigiZ3JpZCIsZnVuY3Rpb24oKXtkLnNldEdyaWRFbmFibGVkKCFkLmlzR3JpZEVuYWJsZWQoKSk7Yy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QoImdyaWRFbmFibGVkQ2hhbmdlZCIpKX0sbnVsbCxudWxsLEVkaXRvci5jdHJsS2V5KyIrU2hpZnQrRyIpO20uc2V0VG9nZ2xlQWN0aW9uKCEwKTttLnNldFNlbGVjdGVkQ2FsbGJhY2soZnVuY3Rpb24oKXtyZXR1cm4gZC5pc0dyaWRFbmFibGVkKCl9KTsKbS5zZXRFbmFibGVkKCExKTttPXRoaXMuYWRkQWN0aW9uKCJndWlkZXMiLGZ1bmN0aW9uKCl7ZC5ncmFwaEhhbmRsZXIuZ3VpZGVzRW5hYmxlZD0hZC5ncmFwaEhhbmRsZXIuZ3VpZGVzRW5hYmxlZDtjLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdCgiZ3VpZGVzRW5hYmxlZENoYW5nZWQiKSl9KTttLnNldFRvZ2dsZUFjdGlvbighMCk7bS5zZXRTZWxlY3RlZENhbGxiYWNrKGZ1bmN0aW9uKCl7cmV0dXJuIGQuZ3JhcGhIYW5kbGVyLmd1aWRlc0VuYWJsZWR9KTttLnNldEVuYWJsZWQoITEpO209dGhpcy5hZGRBY3Rpb24oInRvb2x0aXBzIixmdW5jdGlvbigpe2QudG9vbHRpcEhhbmRsZXIuc2V0RW5hYmxlZCghZC50b29sdGlwSGFuZGxlci5pc0VuYWJsZWQoKSl9KTttLnNldFRvZ2dsZUFjdGlvbighMCk7bS5zZXRTZWxlY3RlZENhbGxiYWNrKGZ1bmN0aW9uKCl7cmV0dXJuIGQudG9vbHRpcEhhbmRsZXIuaXNFbmFibGVkKCl9KTttPXRoaXMuYWRkQWN0aW9uKCJjb2xsYXBzZUV4cGFuZCIsCmZ1bmN0aW9uKCl7dmFyIGE9bmV3IENoYW5nZVBhZ2VTZXR1cChjKTthLmlnbm9yZUNvbG9yPSEwO2EuaWdub3JlSW1hZ2U9ITA7YS5mb2xkaW5nRW5hYmxlZD0hZC5mb2xkaW5nRW5hYmxlZDtkLm1vZGVsLmV4ZWN1dGUoYSl9KTttLnNldFRvZ2dsZUFjdGlvbighMCk7bS5zZXRTZWxlY3RlZENhbGxiYWNrKGZ1bmN0aW9uKCl7cmV0dXJuIGQuZm9sZGluZ0VuYWJsZWR9KTttLmlzRW5hYmxlZD1rO209dGhpcy5hZGRBY3Rpb24oInNjcm9sbGJhcnMiLGZ1bmN0aW9uKCl7Yy5zZXRTY3JvbGxiYXJzKCFjLmhhc1Njcm9sbGJhcnMoKSl9KTttLnNldFRvZ2dsZUFjdGlvbighMCk7bS5zZXRTZWxlY3RlZENhbGxiYWNrKGZ1bmN0aW9uKCl7cmV0dXJuIGQuc2Nyb2xsYmFyc30pO209dGhpcy5hZGRBY3Rpb24oInBhZ2VWaWV3IixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe2Muc2V0UGFnZVZpc2libGUoIWQucGFnZVZpc2libGUpfSkpO20uc2V0VG9nZ2xlQWN0aW9uKCEwKTttLnNldFNlbGVjdGVkQ2FsbGJhY2soZnVuY3Rpb24oKXtyZXR1cm4gZC5wYWdlVmlzaWJsZX0pOwptPXRoaXMuYWRkQWN0aW9uKCJjb25uZWN0aW9uQXJyb3dzIixmdW5jdGlvbigpe2QuY29ubmVjdGlvbkFycm93c0VuYWJsZWQ9IWQuY29ubmVjdGlvbkFycm93c0VuYWJsZWQ7Yy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QoImNvbm5lY3Rpb25BcnJvd3NDaGFuZ2VkIikpfSxudWxsLG51bGwsIkFsdCtTaGlmdCtBIik7bS5zZXRUb2dnbGVBY3Rpb24oITApO20uc2V0U2VsZWN0ZWRDYWxsYmFjayhmdW5jdGlvbigpe3JldHVybiBkLmNvbm5lY3Rpb25BcnJvd3NFbmFibGVkfSk7bT10aGlzLmFkZEFjdGlvbigiY29ubmVjdGlvblBvaW50cyIsZnVuY3Rpb24oKXtkLnNldENvbm5lY3RhYmxlKCFkLmNvbm5lY3Rpb25IYW5kbGVyLmlzRW5hYmxlZCgpKTtjLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdCgiY29ubmVjdGlvblBvaW50c0NoYW5nZWQiKSl9LG51bGwsbnVsbCwiQWx0K1NoaWZ0K1AiKTttLnNldFRvZ2dsZUFjdGlvbighMCk7bS5zZXRTZWxlY3RlZENhbGxiYWNrKGZ1bmN0aW9uKCl7cmV0dXJuIGQuY29ubmVjdGlvbkhhbmRsZXIuaXNFbmFibGVkKCl9KTsKbT10aGlzLmFkZEFjdGlvbigiY29weUNvbm5lY3QiLGZ1bmN0aW9uKCl7ZC5jb25uZWN0aW9uSGFuZGxlci5zZXRDcmVhdGVUYXJnZXQoIWQuY29ubmVjdGlvbkhhbmRsZXIuaXNDcmVhdGVUYXJnZXQoKSk7Yy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QoImNvcHlDb25uZWN0Q2hhbmdlZCIpKX0pO20uc2V0VG9nZ2xlQWN0aW9uKCEwKTttLnNldFNlbGVjdGVkQ2FsbGJhY2soZnVuY3Rpb24oKXtyZXR1cm4gZC5jb25uZWN0aW9uSGFuZGxlci5pc0NyZWF0ZVRhcmdldCgpfSk7bS5pc0VuYWJsZWQ9azttPXRoaXMuYWRkQWN0aW9uKCJhdXRvc2F2ZSIsZnVuY3Rpb24oKXtjLmVkaXRvci5zZXRBdXRvc2F2ZSghYy5lZGl0b3IuYXV0b3NhdmUpfSk7bS5zZXRUb2dnbGVBY3Rpb24oITApO20uc2V0U2VsZWN0ZWRDYWxsYmFjayhmdW5jdGlvbigpe3JldHVybiBjLmVkaXRvci5hdXRvc2F2ZX0pO20uaXNFbmFibGVkPWs7bS52aXNpYmxlPSExO3RoaXMuYWRkQWN0aW9uKCJoZWxwIixmdW5jdGlvbigpe3ZhciBhPQoiIjtteFJlc291cmNlcy5pc0xhbmd1YWdlU3VwcG9ydGVkKG14Q2xpZW50Lmxhbmd1YWdlKSYmKGE9Il8iK214Q2xpZW50Lmxhbmd1YWdlKTtkLm9wZW5MaW5rKFJFU09VUkNFU19QQVRIKyIvaGVscCIrYSsiLmh0bWwiKX0pO3ZhciBxPSExO3RoaXMucHV0KCJhYm91dCIsbmV3IEFjdGlvbihteFJlc291cmNlcy5nZXQoImFib3V0IikrIiBHcmFwaCBFZGl0b3IuLi4iLGZ1bmN0aW9uKCl7cXx8KGMuc2hvd0RpYWxvZygobmV3IEFib3V0RGlhbG9nKGMpKS5jb250YWluZXIsMzIwLDI4MCwhMCwhMCxmdW5jdGlvbigpe3E9ITF9KSxxPSEwKX0pKTttPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEsZSxjLGYpe3JldHVybiB0aGlzLmFkZEFjdGlvbihhLGZ1bmN0aW9uKCl7aWYobnVsbCE9YyYmZC5jZWxsRWRpdG9yLmlzQ29udGVudEVkaXRpbmcoKSljKCk7ZWxzZXtkLnN0b3BFZGl0aW5nKCExKTtkLmdldE1vZGVsKCkuYmVnaW5VcGRhdGUoKTt0cnl7dmFyIGE9ZC5nZXRTZWxlY3Rpb25DZWxscygpOwpkLnRvZ2dsZUNlbGxTdHlsZUZsYWdzKG14Q29uc3RhbnRzLlNUWUxFX0ZPTlRTVFlMRSxlLGEpOyhlJm14Q29uc3RhbnRzLkZPTlRfQk9MRCk9PW14Q29uc3RhbnRzLkZPTlRfQk9MRD9kLnVwZGF0ZUxhYmVsRWxlbWVudHMoZC5nZXRTZWxlY3Rpb25DZWxscygpLGZ1bmN0aW9uKGEpe2Euc3R5bGUuZm9udFdlaWdodD1udWxsOyJCIj09YS5ub2RlTmFtZSYmZC5yZXBsYWNlRWxlbWVudChhKX0pOihlJm14Q29uc3RhbnRzLkZPTlRfSVRBTElDKT09bXhDb25zdGFudHMuRk9OVF9JVEFMSUM/ZC51cGRhdGVMYWJlbEVsZW1lbnRzKGQuZ2V0U2VsZWN0aW9uQ2VsbHMoKSxmdW5jdGlvbihhKXthLnN0eWxlLmZvbnRTdHlsZT1udWxsOyJJIj09YS5ub2RlTmFtZSYmZC5yZXBsYWNlRWxlbWVudChhKX0pOihlJm14Q29uc3RhbnRzLkZPTlRfVU5ERVJMSU5FKT09bXhDb25zdGFudHMuRk9OVF9VTkRFUkxJTkUmJmQudXBkYXRlTGFiZWxFbGVtZW50cyhkLmdldFNlbGVjdGlvbkNlbGxzKCksZnVuY3Rpb24oYSl7YS5zdHlsZS50ZXh0RGVjb3JhdGlvbj0KbnVsbDsiVSI9PWEubm9kZU5hbWUmJmQucmVwbGFjZUVsZW1lbnQoYSl9KTtmb3IodmFyIGI9MDtiPGEubGVuZ3RoO2IrKykwPT1kLm1vZGVsLmdldENoaWxkQ291bnQoYVtiXSkmJmQuYXV0b1NpemVDZWxsKGFbYl0sITEpfWZpbmFsbHl7ZC5nZXRNb2RlbCgpLmVuZFVwZGF0ZSgpfX19LG51bGwsbnVsbCxmKX0pO20oImJvbGQiLG14Q29uc3RhbnRzLkZPTlRfQk9MRCxmdW5jdGlvbigpe2RvY3VtZW50LmV4ZWNDb21tYW5kKCJib2xkIiwhMSxudWxsKX0sRWRpdG9yLmN0cmxLZXkrIitCIik7bSgiaXRhbGljIixteENvbnN0YW50cy5GT05UX0lUQUxJQyxmdW5jdGlvbigpe2RvY3VtZW50LmV4ZWNDb21tYW5kKCJpdGFsaWMiLCExLG51bGwpfSxFZGl0b3IuY3RybEtleSsiK0kiKTttKCJ1bmRlcmxpbmUiLG14Q29uc3RhbnRzLkZPTlRfVU5ERVJMSU5FLGZ1bmN0aW9uKCl7ZG9jdW1lbnQuZXhlY0NvbW1hbmQoInVuZGVybGluZSIsITEsbnVsbCl9LEVkaXRvci5jdHJsS2V5KyIrVSIpOwp0aGlzLmFkZEFjdGlvbigiZm9udENvbG9yLi4uIixmdW5jdGlvbigpe2MubWVudXMucGlja0NvbG9yKG14Q29uc3RhbnRzLlNUWUxFX0ZPTlRDT0xPUiwiZm9yZWNvbG9yIiwiMDAwMDAwIil9KTt0aGlzLmFkZEFjdGlvbigic3Ryb2tlQ29sb3IuLi4iLGZ1bmN0aW9uKCl7Yy5tZW51cy5waWNrQ29sb3IobXhDb25zdGFudHMuU1RZTEVfU1RST0tFQ09MT1IpfSk7dGhpcy5hZGRBY3Rpb24oImZpbGxDb2xvci4uLiIsZnVuY3Rpb24oKXtjLm1lbnVzLnBpY2tDb2xvcihteENvbnN0YW50cy5TVFlMRV9GSUxMQ09MT1IpfSk7dGhpcy5hZGRBY3Rpb24oImdyYWRpZW50Q29sb3IuLi4iLGZ1bmN0aW9uKCl7Yy5tZW51cy5waWNrQ29sb3IobXhDb25zdGFudHMuU1RZTEVfR1JBRElFTlRDT0xPUil9KTt0aGlzLmFkZEFjdGlvbigiYmFja2dyb3VuZENvbG9yLi4uIixmdW5jdGlvbigpe2MubWVudXMucGlja0NvbG9yKG14Q29uc3RhbnRzLlNUWUxFX0xBQkVMX0JBQ0tHUk9VTkRDT0xPUiwiYmFja2NvbG9yIil9KTsKdGhpcy5hZGRBY3Rpb24oImJvcmRlckNvbG9yLi4uIixmdW5jdGlvbigpe2MubWVudXMucGlja0NvbG9yKG14Q29uc3RhbnRzLlNUWUxFX0xBQkVMX0JPUkRFUkNPTE9SKX0pO3RoaXMuYWRkQWN0aW9uKCJ2ZXJ0aWNhbCIsZnVuY3Rpb24oKXtjLm1lbnVzLnRvZ2dsZVN0eWxlKG14Q29uc3RhbnRzLlNUWUxFX0hPUklaT05UQUwsITApfSk7dGhpcy5hZGRBY3Rpb24oInNoYWRvdyIsZnVuY3Rpb24oKXtjLm1lbnVzLnRvZ2dsZVN0eWxlKG14Q29uc3RhbnRzLlNUWUxFX1NIQURPVyl9KTt0aGlzLmFkZEFjdGlvbigic29saWQiLGZ1bmN0aW9uKCl7ZC5nZXRNb2RlbCgpLmJlZ2luVXBkYXRlKCk7dHJ5e2Quc2V0Q2VsbFN0eWxlcyhteENvbnN0YW50cy5TVFlMRV9EQVNIRUQsbnVsbCksZC5zZXRDZWxsU3R5bGVzKG14Q29uc3RhbnRzLlNUWUxFX0RBU0hfUEFUVEVSTixudWxsKSxjLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdCgic3R5bGVDaGFuZ2VkIiwia2V5cyIsW214Q29uc3RhbnRzLlNUWUxFX0RBU0hFRCwKbXhDb25zdGFudHMuU1RZTEVfREFTSF9QQVRURVJOXSwidmFsdWVzIixbbnVsbCxudWxsXSwiY2VsbHMiLGQuZ2V0U2VsZWN0aW9uQ2VsbHMoKSkpfWZpbmFsbHl7ZC5nZXRNb2RlbCgpLmVuZFVwZGF0ZSgpfX0pO3RoaXMuYWRkQWN0aW9uKCJkYXNoZWQiLGZ1bmN0aW9uKCl7ZC5nZXRNb2RlbCgpLmJlZ2luVXBkYXRlKCk7dHJ5e2Quc2V0Q2VsbFN0eWxlcyhteENvbnN0YW50cy5TVFlMRV9EQVNIRUQsIjEiKSxkLnNldENlbGxTdHlsZXMobXhDb25zdGFudHMuU1RZTEVfREFTSF9QQVRURVJOLG51bGwpLGMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KCJzdHlsZUNoYW5nZWQiLCJrZXlzIixbbXhDb25zdGFudHMuU1RZTEVfREFTSEVELG14Q29uc3RhbnRzLlNUWUxFX0RBU0hfUEFUVEVSTl0sInZhbHVlcyIsWyIxIixudWxsXSwiY2VsbHMiLGQuZ2V0U2VsZWN0aW9uQ2VsbHMoKSkpfWZpbmFsbHl7ZC5nZXRNb2RlbCgpLmVuZFVwZGF0ZSgpfX0pO3RoaXMuYWRkQWN0aW9uKCJkb3R0ZWQiLApmdW5jdGlvbigpe2QuZ2V0TW9kZWwoKS5iZWdpblVwZGF0ZSgpO3RyeXtkLnNldENlbGxTdHlsZXMobXhDb25zdGFudHMuU1RZTEVfREFTSEVELCIxIiksZC5zZXRDZWxsU3R5bGVzKG14Q29uc3RhbnRzLlNUWUxFX0RBU0hfUEFUVEVSTiwiMSA0IiksYy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QoInN0eWxlQ2hhbmdlZCIsImtleXMiLFtteENvbnN0YW50cy5TVFlMRV9EQVNIRUQsbXhDb25zdGFudHMuU1RZTEVfREFTSF9QQVRURVJOXSwidmFsdWVzIixbIjEiLCIxIDQiXSwiY2VsbHMiLGQuZ2V0U2VsZWN0aW9uQ2VsbHMoKSkpfWZpbmFsbHl7ZC5nZXRNb2RlbCgpLmVuZFVwZGF0ZSgpfX0pO3RoaXMuYWRkQWN0aW9uKCJzaGFycCIsZnVuY3Rpb24oKXtkLmdldE1vZGVsKCkuYmVnaW5VcGRhdGUoKTt0cnl7ZC5zZXRDZWxsU3R5bGVzKG14Q29uc3RhbnRzLlNUWUxFX1JPVU5ERUQsIjAiKSxkLnNldENlbGxTdHlsZXMobXhDb25zdGFudHMuU1RZTEVfQ1VSVkVELCIwIiksYy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QoInN0eWxlQ2hhbmdlZCIsCiJrZXlzIixbbXhDb25zdGFudHMuU1RZTEVfUk9VTkRFRCxteENvbnN0YW50cy5TVFlMRV9DVVJWRURdLCJ2YWx1ZXMiLFsiMCIsIjAiXSwiY2VsbHMiLGQuZ2V0U2VsZWN0aW9uQ2VsbHMoKSkpfWZpbmFsbHl7ZC5nZXRNb2RlbCgpLmVuZFVwZGF0ZSgpfX0pO3RoaXMuYWRkQWN0aW9uKCJyb3VuZGVkIixmdW5jdGlvbigpe2QuZ2V0TW9kZWwoKS5iZWdpblVwZGF0ZSgpO3RyeXtkLnNldENlbGxTdHlsZXMobXhDb25zdGFudHMuU1RZTEVfUk9VTkRFRCwiMSIpLGQuc2V0Q2VsbFN0eWxlcyhteENvbnN0YW50cy5TVFlMRV9DVVJWRUQsIjAiKSxjLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdCgic3R5bGVDaGFuZ2VkIiwia2V5cyIsW214Q29uc3RhbnRzLlNUWUxFX1JPVU5ERUQsbXhDb25zdGFudHMuU1RZTEVfQ1VSVkVEXSwidmFsdWVzIixbIjEiLCIwIl0sImNlbGxzIixkLmdldFNlbGVjdGlvbkNlbGxzKCkpKX1maW5hbGx5e2QuZ2V0TW9kZWwoKS5lbmRVcGRhdGUoKX19KTt0aGlzLmFkZEFjdGlvbigidG9nZ2xlUm91bmRlZCIsCmZ1bmN0aW9uKCl7aWYoIWQuaXNTZWxlY3Rpb25FbXB0eSgpJiZkLmlzRW5hYmxlZCgpKXtkLmdldE1vZGVsKCkuYmVnaW5VcGRhdGUoKTt0cnl7dmFyIGE9ZC5nZXRTZWxlY3Rpb25DZWxscygpLGU9ZC5nZXRDdXJyZW50Q2VsbFN0eWxlKGFbMF0pLGY9IjEiPT1teFV0aWxzLmdldFZhbHVlKGUsbXhDb25zdGFudHMuU1RZTEVfUk9VTkRFRCwiMCIpPyIwIjoiMSI7ZC5zZXRDZWxsU3R5bGVzKG14Q29uc3RhbnRzLlNUWUxFX1JPVU5ERUQsZik7ZC5zZXRDZWxsU3R5bGVzKG14Q29uc3RhbnRzLlNUWUxFX0NVUlZFRCxudWxsKTtjLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdCgic3R5bGVDaGFuZ2VkIiwia2V5cyIsW214Q29uc3RhbnRzLlNUWUxFX1JPVU5ERUQsbXhDb25zdGFudHMuU1RZTEVfQ1VSVkVEXSwidmFsdWVzIixbZiwiMCJdLCJjZWxscyIsZC5nZXRTZWxlY3Rpb25DZWxscygpKSl9ZmluYWxseXtkLmdldE1vZGVsKCkuZW5kVXBkYXRlKCl9fX0pO3RoaXMuYWRkQWN0aW9uKCJjdXJ2ZWQiLApmdW5jdGlvbigpe2QuZ2V0TW9kZWwoKS5iZWdpblVwZGF0ZSgpO3RyeXtkLnNldENlbGxTdHlsZXMobXhDb25zdGFudHMuU1RZTEVfUk9VTkRFRCwiMCIpLGQuc2V0Q2VsbFN0eWxlcyhteENvbnN0YW50cy5TVFlMRV9DVVJWRUQsIjEiKSxjLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdCgic3R5bGVDaGFuZ2VkIiwia2V5cyIsW214Q29uc3RhbnRzLlNUWUxFX1JPVU5ERUQsbXhDb25zdGFudHMuU1RZTEVfQ1VSVkVEXSwidmFsdWVzIixbIjAiLCIxIl0sImNlbGxzIixkLmdldFNlbGVjdGlvbkNlbGxzKCkpKX1maW5hbGx5e2QuZ2V0TW9kZWwoKS5lbmRVcGRhdGUoKX19KTt0aGlzLmFkZEFjdGlvbigiY29sbGFwc2libGUiLGZ1bmN0aW9uKCl7dmFyIGE9ZC52aWV3LmdldFN0YXRlKGQuZ2V0U2VsZWN0aW9uQ2VsbCgpKSxlPSIxIjtudWxsIT1hJiZudWxsIT1kLmdldEZvbGRpbmdJbWFnZShhKSYmKGU9IjAiKTtkLnNldENlbGxTdHlsZXMoImNvbGxhcHNpYmxlIixlKTtjLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdCgic3R5bGVDaGFuZ2VkIiwKImtleXMiLFsiY29sbGFwc2libGUiXSwidmFsdWVzIixbZV0sImNlbGxzIixkLmdldFNlbGVjdGlvbkNlbGxzKCkpKX0pO3RoaXMuYWRkQWN0aW9uKCJlZGl0U3R5bGUuLi4iLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dmFyIGE9ZC5nZXRTZWxlY3Rpb25DZWxscygpO2lmKG51bGwhPWEmJjA8YS5sZW5ndGgpe3ZhciBlPWQuZ2V0TW9kZWwoKSxlPW5ldyBUZXh0YXJlYURpYWxvZyh0aGlzLmVkaXRvclVpLG14UmVzb3VyY2VzLmdldCgiZWRpdFN0eWxlIikrIjoiLGUuZ2V0U3R5bGUoYVswXSl8fCIiLGZ1bmN0aW9uKGIpe251bGwhPWImJmQuc2V0Q2VsbFN0eWxlKG14VXRpbHMudHJpbShiKSxhKX0sbnVsbCxudWxsLDQwMCwyMjApO3RoaXMuZWRpdG9yVWkuc2hvd0RpYWxvZyhlLmNvbnRhaW5lciw0MjAsMzAwLCEwLCEwKTtlLmluaXQoKX19KSxudWxsLG51bGwsRWRpdG9yLmN0cmxLZXkrIitFIik7dGhpcy5hZGRBY3Rpb24oInNldEFzRGVmYXVsdFN0eWxlIixmdW5jdGlvbigpe2QuaXNFbmFibGVkKCkmJgohZC5pc1NlbGVjdGlvbkVtcHR5KCkmJmMuc2V0RGVmYXVsdFN0eWxlKGQuZ2V0U2VsZWN0aW9uQ2VsbCgpKX0sbnVsbCxudWxsLEVkaXRvci5jdHJsS2V5KyIrU2hpZnQrRCIpO3RoaXMuYWRkQWN0aW9uKCJjbGVhckRlZmF1bHRTdHlsZSIsZnVuY3Rpb24oKXtkLmlzRW5hYmxlZCgpJiZjLmNsZWFyRGVmYXVsdFN0eWxlKCl9LG51bGwsbnVsbCxFZGl0b3IuY3RybEtleSsiK1NoaWZ0K1IiKTt0aGlzLmFkZEFjdGlvbigiYWRkV2F5cG9pbnQiLGZ1bmN0aW9uKCl7dmFyIGE9ZC5nZXRTZWxlY3Rpb25DZWxsKCk7aWYobnVsbCE9YSYmZC5nZXRNb2RlbCgpLmlzRWRnZShhKSl7dmFyIGU9Zi5ncmFwaC5zZWxlY3Rpb25DZWxsc0hhbmRsZXIuZ2V0SGFuZGxlcihhKTtpZihlIGluc3RhbmNlb2YgbXhFZGdlSGFuZGxlcil7Zm9yKHZhciBjPWQudmlldy50cmFuc2xhdGUsbj1kLnZpZXcuc2NhbGUsbD1jLngsYz1jLnksYT1kLmdldE1vZGVsKCkuZ2V0UGFyZW50KGEpLHA9ZC5nZXRDZWxsR2VvbWV0cnkoYSk7ZC5nZXRNb2RlbCgpLmlzVmVydGV4KGEpJiYKbnVsbCE9cDspbCs9cC54LGMrPXAueSxhPWQuZ2V0TW9kZWwoKS5nZXRQYXJlbnQoYSkscD1kLmdldENlbGxHZW9tZXRyeShhKTtsPU1hdGgucm91bmQoZC5zbmFwKGQucG9wdXBNZW51SGFuZGxlci50cmlnZ2VyWC9uLWwpKTtuPU1hdGgucm91bmQoZC5zbmFwKGQucG9wdXBNZW51SGFuZGxlci50cmlnZ2VyWS9uLWMpKTtlLmFkZFBvaW50QXQoZS5zdGF0ZSxsLG4pfX19KTt0aGlzLmFkZEFjdGlvbigicmVtb3ZlV2F5cG9pbnQiLGZ1bmN0aW9uKCl7dmFyIGE9Yy5hY3Rpb25zLmdldCgicmVtb3ZlV2F5cG9pbnQiKTtudWxsIT1hLmhhbmRsZXImJmEuaGFuZGxlci5yZW1vdmVQb2ludChhLmhhbmRsZXIuc3RhdGUsYS5pbmRleCl9KTt0aGlzLmFkZEFjdGlvbigiY2xlYXJXYXlwb2ludHMiLGZ1bmN0aW9uKCl7dmFyIGE9ZC5nZXRTZWxlY3Rpb25DZWxscygpO2lmKG51bGwhPWEpe2E9ZC5hZGRBbGxFZGdlcyhhKTtkLmdldE1vZGVsKCkuYmVnaW5VcGRhdGUoKTt0cnl7Zm9yKHZhciBlPQowO2U8YS5sZW5ndGg7ZSsrKXt2YXIgYz1hW2VdO2lmKGQuZ2V0TW9kZWwoKS5pc0VkZ2UoYykpe3ZhciBmPWQuZ2V0Q2VsbEdlb21ldHJ5KGMpO251bGwhPWYmJihmPWYuY2xvbmUoKSxmLnBvaW50cz1udWxsLGQuZ2V0TW9kZWwoKS5zZXRHZW9tZXRyeShjLGYpKX19fWZpbmFsbHl7ZC5nZXRNb2RlbCgpLmVuZFVwZGF0ZSgpfX19LG51bGwsbnVsbCwiQWx0K1NoaWZ0K0MiKTttPXRoaXMuYWRkQWN0aW9uKCJzdWJzY3JpcHQiLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7ZC5jZWxsRWRpdG9yLmlzQ29udGVudEVkaXRpbmcoKSYmZG9jdW1lbnQuZXhlY0NvbW1hbmQoInN1YnNjcmlwdCIsITEsbnVsbCl9KSxudWxsLG51bGwsRWRpdG9yLmN0cmxLZXkrIissIik7bT10aGlzLmFkZEFjdGlvbigic3VwZXJzY3JpcHQiLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7ZC5jZWxsRWRpdG9yLmlzQ29udGVudEVkaXRpbmcoKSYmZG9jdW1lbnQuZXhlY0NvbW1hbmQoInN1cGVyc2NyaXB0IiwKITEsbnVsbCl9KSxudWxsLG51bGwsRWRpdG9yLmN0cmxLZXkrIisuIik7bT10aGlzLmFkZEFjdGlvbigiaW5kZW50IixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe2QuY2VsbEVkaXRvci5pc0NvbnRlbnRFZGl0aW5nKCkmJmRvY3VtZW50LmV4ZWNDb21tYW5kKCJpbmRlbnQiLCExLG51bGwpfSksbnVsbCxudWxsLCJTaGlmdCtUYWIiKTt0aGlzLmFkZEFjdGlvbigiaW1hZ2UuLi4iLGZ1bmN0aW9uKCl7aWYoZC5pc0VuYWJsZWQoKSYmIWQuaXNDZWxsTG9ja2VkKGQuZ2V0RGVmYXVsdFBhcmVudCgpKSl7dmFyIGE9bXhSZXNvdXJjZXMuZ2V0KCJpbWFnZSIpKyIgKCIrbXhSZXNvdXJjZXMuZ2V0KCJ1cmwiKSsiKToiLGU9ZC5nZXRWaWV3KCkuZ2V0U3RhdGUoZC5nZXRTZWxlY3Rpb25DZWxsKCkpLGY9IiI7bnVsbCE9ZSYmKGY9ZS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9JTUFHRV18fGYpO3ZhciBuPWQuY2VsbEVkaXRvci5zYXZlU2VsZWN0aW9uKCk7Yy5zaG93SW1hZ2VEaWFsb2coYSwKZixmdW5jdGlvbihhLGIsZSl7aWYoZC5jZWxsRWRpdG9yLmlzQ29udGVudEVkaXRpbmcoKSlkLmNlbGxFZGl0b3IucmVzdG9yZVNlbGVjdGlvbihuKSxkLmluc2VydEltYWdlKGEsYixlKTtlbHNle3ZhciBjPWQuZ2V0U2VsZWN0aW9uQ2VsbHMoKTtpZihudWxsIT1hJiYoMDxhLmxlbmd0aHx8MDxjLmxlbmd0aCkpe3ZhciBmPW51bGw7ZC5nZXRNb2RlbCgpLmJlZ2luVXBkYXRlKCk7dHJ5e2lmKDA9PWMubGVuZ3RoKXt2YXIgZz1kLmdldEZyZWVJbnNlcnRQb2ludCgpLGY9Yz1bZC5pbnNlcnRWZXJ0ZXgoZC5nZXREZWZhdWx0UGFyZW50KCksbnVsbCwiIixnLngsZy55LGIsZSwic2hhcGU9aW1hZ2U7aW1hZ2VBc3BlY3Q9MDthc3BlY3Q9Zml4ZWQ7dmVydGljYWxMYWJlbFBvc2l0aW9uPWJvdHRvbTt2ZXJ0aWNhbEFsaWduPXRvcDsiKV07ZC5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QoImNlbGxzSW5zZXJ0ZWQiLCJjZWxscyIsZikpfWQuc2V0Q2VsbFN0eWxlcyhteENvbnN0YW50cy5TVFlMRV9JTUFHRSwKMDxhLmxlbmd0aD9hOm51bGwsYyk7dmFyIGw9ZC5nZXRDdXJyZW50Q2VsbFN0eWxlKGNbMF0pOyJpbWFnZSIhPWxbbXhDb25zdGFudHMuU1RZTEVfU0hBUEVdJiYibGFiZWwiIT1sW214Q29uc3RhbnRzLlNUWUxFX1NIQVBFXT9kLnNldENlbGxTdHlsZXMobXhDb25zdGFudHMuU1RZTEVfU0hBUEUsImltYWdlIixjKTowPT1hLmxlbmd0aCYmZC5zZXRDZWxsU3R5bGVzKG14Q29uc3RhbnRzLlNUWUxFX1NIQVBFLG51bGwsYyk7aWYoMT09ZC5nZXRTZWxlY3Rpb25Db3VudCgpJiZudWxsIT1iJiZudWxsIT1lKXt2YXIgcD1jWzBdLGs9ZC5nZXRNb2RlbCgpLmdldEdlb21ldHJ5KHApO251bGwhPWsmJihrPWsuY2xvbmUoKSxrLndpZHRoPWIsay5oZWlnaHQ9ZSxkLmdldE1vZGVsKCkuc2V0R2VvbWV0cnkocCxrKSl9fWZpbmFsbHl7ZC5nZXRNb2RlbCgpLmVuZFVwZGF0ZSgpfW51bGwhPWYmJihkLnNldFNlbGVjdGlvbkNlbGxzKGYpLGQuc2Nyb2xsQ2VsbFRvVmlzaWJsZShmWzBdKSl9fX0sCmQuY2VsbEVkaXRvci5pc0NvbnRlbnRFZGl0aW5nKCksIWQuY2VsbEVkaXRvci5pc0NvbnRlbnRFZGl0aW5nKCkpfX0pLmlzRW5hYmxlZD1rO209dGhpcy5hZGRBY3Rpb24oImxheWVycyIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXtudWxsPT10aGlzLmxheWVyc1dpbmRvdz8odGhpcy5sYXllcnNXaW5kb3c9bmV3IExheWVyc1dpbmRvdyhjLGRvY3VtZW50LmJvZHkub2Zmc2V0V2lkdGgtMjgwLDEyMCwyMjAsMTk2KSx0aGlzLmxheWVyc1dpbmRvdy53aW5kb3cuYWRkTGlzdGVuZXIoInNob3ciLGZ1bmN0aW9uKCl7Yy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QoImxheWVycyIpKX0pLHRoaXMubGF5ZXJzV2luZG93LndpbmRvdy5hZGRMaXN0ZW5lcigiaGlkZSIsZnVuY3Rpb24oKXtjLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdCgibGF5ZXJzIikpfSksdGhpcy5sYXllcnNXaW5kb3cud2luZG93LnNldFZpc2libGUoITApLGMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KCJsYXllcnMiKSksCnRoaXMubGF5ZXJzV2luZG93LmluaXQoKSk6dGhpcy5sYXllcnNXaW5kb3cud2luZG93LnNldFZpc2libGUoIXRoaXMubGF5ZXJzV2luZG93LndpbmRvdy5pc1Zpc2libGUoKSl9KSxudWxsLG51bGwsRWRpdG9yLmN0cmxLZXkrIitTaGlmdCtMIik7bS5zZXRUb2dnbGVBY3Rpb24oITApO20uc2V0U2VsZWN0ZWRDYWxsYmFjayhteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3JldHVybiBudWxsIT10aGlzLmxheWVyc1dpbmRvdyYmdGhpcy5sYXllcnNXaW5kb3cud2luZG93LmlzVmlzaWJsZSgpfSkpO209dGhpcy5hZGRBY3Rpb24oImZvcm1hdFBhbmVsIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe2MudG9nZ2xlRm9ybWF0UGFuZWwoKX0pLG51bGwsbnVsbCxFZGl0b3IuY3RybEtleSsiK1NoaWZ0K1AiKTttLnNldFRvZ2dsZUFjdGlvbighMCk7bS5zZXRTZWxlY3RlZENhbGxiYWNrKG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7cmV0dXJuIDA8Yy5mb3JtYXRXaWR0aH0pKTsKbT10aGlzLmFkZEFjdGlvbigib3V0bGluZSIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXtudWxsPT10aGlzLm91dGxpbmVXaW5kb3c/KHRoaXMub3V0bGluZVdpbmRvdz1uZXcgT3V0bGluZVdpbmRvdyhjLGRvY3VtZW50LmJvZHkub2Zmc2V0V2lkdGgtMjYwLDEwMCwxODAsMTgwKSx0aGlzLm91dGxpbmVXaW5kb3cud2luZG93LmFkZExpc3RlbmVyKCJzaG93IixmdW5jdGlvbigpe2MuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KCJvdXRsaW5lIikpfSksdGhpcy5vdXRsaW5lV2luZG93LndpbmRvdy5hZGRMaXN0ZW5lcigiaGlkZSIsZnVuY3Rpb24oKXtjLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdCgib3V0bGluZSIpKX0pLHRoaXMub3V0bGluZVdpbmRvdy53aW5kb3cuc2V0VmlzaWJsZSghMCksYy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QoIm91dGxpbmUiKSkpOnRoaXMub3V0bGluZVdpbmRvdy53aW5kb3cuc2V0VmlzaWJsZSghdGhpcy5vdXRsaW5lV2luZG93LndpbmRvdy5pc1Zpc2libGUoKSl9KSwKbnVsbCxudWxsLEVkaXRvci5jdHJsS2V5KyIrU2hpZnQrTyIpO20uc2V0VG9nZ2xlQWN0aW9uKCEwKTttLnNldFNlbGVjdGVkQ2FsbGJhY2sobXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9dGhpcy5vdXRsaW5lV2luZG93JiZ0aGlzLm91dGxpbmVXaW5kb3cud2luZG93LmlzVmlzaWJsZSgpfSkpfTtBY3Rpb25zLnByb3RvdHlwZS5hZGRBY3Rpb249ZnVuY3Rpb24oYSxjLGYsZCxrKXt2YXIgbTsiLi4uIj09YS5zdWJzdHJpbmcoYS5sZW5ndGgtMyk/KGE9YS5zdWJzdHJpbmcoMCxhLmxlbmd0aC0zKSxtPW14UmVzb3VyY2VzLmdldChhKSsiLi4uIik6bT1teFJlc291cmNlcy5nZXQoYSk7cmV0dXJuIHRoaXMucHV0KGEsbmV3IEFjdGlvbihtLGMsZixkLGspKX07QWN0aW9ucy5wcm90b3R5cGUucHV0PWZ1bmN0aW9uKGEsYyl7cmV0dXJuIHRoaXMuYWN0aW9uc1thXT1jfTtBY3Rpb25zLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYWN0aW9uc1thXX07CmZ1bmN0aW9uIEFjdGlvbihhLGMsZixkLGspe214RXZlbnRTb3VyY2UuY2FsbCh0aGlzKTt0aGlzLmxhYmVsPWE7dGhpcy5mdW5jdD10aGlzLmNyZWF0ZUZ1bmN0aW9uKGMpO3RoaXMuZW5hYmxlZD1udWxsIT1mP2Y6ITA7dGhpcy5pY29uQ2xzPWQ7dGhpcy5zaG9ydGN1dD1rO3RoaXMudmlzaWJsZT0hMH1teFV0aWxzLmV4dGVuZChBY3Rpb24sbXhFdmVudFNvdXJjZSk7QWN0aW9uLnByb3RvdHlwZS5jcmVhdGVGdW5jdGlvbj1mdW5jdGlvbihhKXtyZXR1cm4gYX07QWN0aW9uLnByb3RvdHlwZS5zZXRFbmFibGVkPWZ1bmN0aW9uKGEpe3RoaXMuZW5hYmxlZCE9YSYmKHRoaXMuZW5hYmxlZD1hLHRoaXMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KCJzdGF0ZUNoYW5nZWQiKSkpfTtBY3Rpb24ucHJvdG90eXBlLmlzRW5hYmxlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVuYWJsZWR9OwpBY3Rpb24ucHJvdG90eXBlLnNldFRvZ2dsZUFjdGlvbj1mdW5jdGlvbihhKXt0aGlzLnRvZ2dsZUFjdGlvbj1hfTtBY3Rpb24ucHJvdG90eXBlLnNldFNlbGVjdGVkQ2FsbGJhY2s9ZnVuY3Rpb24oYSl7dGhpcy5zZWxlY3RlZENhbGxiYWNrPWF9O0FjdGlvbi5wcm90b3R5cGUuaXNTZWxlY3RlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNlbGVjdGVkQ2FsbGJhY2soKX07RHJhd2lvRmlsZT1mdW5jdGlvbihhLGMpe214RXZlbnRTb3VyY2UuY2FsbCh0aGlzKTt0aGlzLnVpPWE7dGhpcy5zaGFkb3dEYXRhPXRoaXMuZGF0YT1jfHwiIjt0aGlzLnNoYWRvd1BhZ2VzPW51bGw7dGhpcy5jcmVhdGVkPShuZXcgRGF0ZSkuZ2V0VGltZSgpO3RoaXMuc3RhdHM9e29wZW5lZDowLG1lcmdlZDowLGZpbGVNZXJnZWQ6MCxmaWxlUmVsb2FkZWQ6MCxjb25mbGljdHM6MCx0aW1lb3V0czowLHNhdmVkOjAsY2xvc2VkOjAsZGVzdHJveWVkOjAsam9pbmVkOjAsY2hlY2tzdW1FcnJvcnM6MCxieXRlc1NlbnQ6MCxieXRlc1JlY2VpdmVkOjAsbXNnU2VudDowLG1zZ1JlY2VpdmVkOjAsY2FjaGVIaXRzOjAsY2FjaGVNaXNzOjAsY2FjaGVGYWlsOjB9fTtEcmF3aW9GaWxlLlNZTkM9dXJsUGFyYW1zLnN5bmN8fCJhdXRvIjtEcmF3aW9GaWxlLkxBU1RfV1JJVEVfV0lOUz0hMDtteFV0aWxzLmV4dGVuZChEcmF3aW9GaWxlLG14RXZlbnRTb3VyY2UpOwpEcmF3aW9GaWxlLnByb3RvdHlwZS5hbGxDaGFuZ2VzU2F2ZWRLZXk9ImFsbENoYW5nZXNTYXZlZCI7RHJhd2lvRmlsZS5wcm90b3R5cGUuYXV0b3NhdmVEZWxheT0xNTAwO0RyYXdpb0ZpbGUucHJvdG90eXBlLm1heEF1dG9zYXZlRGVsYXk9M0U0O0RyYXdpb0ZpbGUucHJvdG90eXBlLmF1dG9zYXZlVGhyZWFkPW51bGw7RHJhd2lvRmlsZS5wcm90b3R5cGUubGFzdEF1dG9zYXZlPW51bGw7RHJhd2lvRmlsZS5wcm90b3R5cGUubGFzdFNhdmVkPW51bGw7RHJhd2lvRmlsZS5wcm90b3R5cGUubGFzdENoYW5nZWQ9bnVsbDtEcmF3aW9GaWxlLnByb3RvdHlwZS5vcGVuZWQ9bnVsbDtEcmF3aW9GaWxlLnByb3RvdHlwZS5tb2RpZmllZD0hMTtEcmF3aW9GaWxlLnByb3RvdHlwZS5kYXRhPW51bGw7RHJhd2lvRmlsZS5wcm90b3R5cGUuc2hhZG93RGF0YT1udWxsO0RyYXdpb0ZpbGUucHJvdG90eXBlLnNoYWRvd1BhZ2VzPW51bGw7CkRyYXdpb0ZpbGUucHJvdG90eXBlLmNoYW5nZUxpc3RlbmVyRW5hYmxlZD0hMDtEcmF3aW9GaWxlLnByb3RvdHlwZS5sYXN0QXV0b3NhdmVSZXZpc2lvbj1udWxsO0RyYXdpb0ZpbGUucHJvdG90eXBlLm1heEF1dG9zYXZlUmV2aXNpb25EZWxheT0zRTU7RHJhd2lvRmlsZS5wcm90b3R5cGUuaW5Db25mbGljdFN0YXRlPSExO0RyYXdpb0ZpbGUucHJvdG90eXBlLmludmFsaWRDaGVja3N1bT0hMTtEcmF3aW9GaWxlLnByb3RvdHlwZS5lcnJvclJlcG9ydHNFbmFibGVkPSExO0RyYXdpb0ZpbGUucHJvdG90eXBlLnJlcG9ydEVuYWJsZWQ9ITA7RHJhd2lvRmlsZS5wcm90b3R5cGUuYWdlU3RhcnQ9bnVsbDtEcmF3aW9GaWxlLnByb3RvdHlwZS5nZXRTaXplPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPXRoaXMuZGF0YT90aGlzLmRhdGEubGVuZ3RoOjB9OwpEcmF3aW9GaWxlLnByb3RvdHlwZS5zeW5jaHJvbml6ZUZpbGU9ZnVuY3Rpb24oYSxjKXt0aGlzLnNhdmluZ0ZpbGU/bnVsbCE9YyYmYyh7bWVzc2FnZTpteFJlc291cmNlcy5nZXQoImJ1c3kiKX0pOm51bGwhPXRoaXMuc3luYz90aGlzLnN5bmMuZmlsZUNoYW5nZWQoYSxjKTp0aGlzLnVwZGF0ZUZpbGUoYSxjKX07CkRyYXdpb0ZpbGUucHJvdG90eXBlLnVwZGF0ZUZpbGU9ZnVuY3Rpb24oYSxjLGYsZCl7bnVsbCE9ZiYmZigpfHwodGhpcy51aS5nZXRDdXJyZW50RmlsZSgpIT10aGlzfHx0aGlzLmludmFsaWRDaGVja3N1bT9udWxsIT1jJiZjKCk6dGhpcy5nZXRMYXRlc3RWZXJzaW9uKG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGspe3RyeXtudWxsIT1mJiZmKCl8fCh0aGlzLnVpLmdldEN1cnJlbnRGaWxlKCkhPXRoaXN8fHRoaXMuaW52YWxpZENoZWNrc3VtP251bGwhPWMmJmMoKTpudWxsIT1rP3RoaXMubWVyZ2VGaWxlKGssYSxjLGQpOnRoaXMucmVsb2FkRmlsZShhLGMpKX1jYXRjaChtKXtudWxsIT1jJiZjKG0pfX0pLGMpKX07CkRyYXdpb0ZpbGUucHJvdG90eXBlLm1lcmdlRmlsZT1mdW5jdGlvbihhLGMsZixkKXt2YXIgaz0hMDt0cnl7dGhpcy5zdGF0cy5maWxlTWVyZ2VkKys7dmFyIG09bnVsbCE9dGhpcy5zaGFkb3dQYWdlcz90aGlzLnNoYWRvd1BhZ2VzOnRoaXMudWkuZ2V0UGFnZXNGb3JOb2RlKG14VXRpbHMucGFyc2VYbWwodGhpcy5zaGFkb3dEYXRhKS5kb2N1bWVudEVsZW1lbnQpLHE9dGhpcy51aS5nZXRQYWdlc0Zvck5vZGUobXhVdGlscy5wYXJzZVhtbChhLmRhdGEpLmRvY3VtZW50RWxlbWVudCk7aWYobnVsbCE9cSYmMDxxLmxlbmd0aCl7dGhpcy5zaGFkb3dQYWdlcz1xO3RoaXMuYmFja3VwUGF0Y2g9dGhpcy5pc01vZGlmaWVkKCk/dGhpcy51aS5kaWZmUGFnZXMobSx0aGlzLnVpLnBhZ2VzKTpudWxsO3ZhciBiPVt0aGlzLnVpLmRpZmZQYWdlcyhudWxsIT1kP2Q6bSx0aGlzLnNoYWRvd1BhZ2VzKV07aWYoIXRoaXMuaWdub3JlUGF0Y2hlcyhiKSl7dmFyIGU9dGhpcy51aS5wYXRjaFBhZ2VzKG0sCmJbMF0pO2Q9e307dmFyIGc9dGhpcy51aS5nZXRIYXNoVmFsdWVGb3JQYWdlcyhlLGQpLG09e30sbj10aGlzLnVpLmdldEhhc2hWYWx1ZUZvclBhZ2VzKHRoaXMuc2hhZG93UGFnZXMsbSk7IjEiPT11cmxQYXJhbXMudGVzdCYmRWRpdG9yVWkuZGVidWcoIkZpbGUubWVyZ2VGaWxlIixbdGhpc10sImJhY2t1cCIsdGhpcy5iYWNrdXBQYXRjaCwicGF0Y2hlcyIsYiwiY2hlY2tzdW0iLG49PWcsZyk7aWYobnVsbCE9ZyYmZyE9bil7dmFyIGw9dGhpcy5jb21wcmVzc1JlcG9ydERhdGEodGhpcy5nZXRBbm9ueW1pemVkWG1sRm9yUGFnZXMocSkpLHA9dGhpcy5jb21wcmVzc1JlcG9ydERhdGEodGhpcy5nZXRBbm9ueW1pemVkWG1sRm9yUGFnZXMoZSkpLHY9dGhpcy51aS5oYXNoVmFsdWUoYS5nZXRDdXJyZW50RXRhZygpKSx0PXRoaXMudWkuaGFzaFZhbHVlKHRoaXMuZ2V0Q3VycmVudEV0YWcoKSk7dGhpcy5jaGVja3N1bUVycm9yKGYsYiwiU2hhZG93IERldGFpbHM6ICIrSlNPTi5zdHJpbmdpZnkoZCkrCiJcbkNoZWNrc3VtOiAiK2crIlxuQ3VycmVudDogIituKyJcbkN1cnJlbnQgRGV0YWlsczogIitKU09OLnN0cmluZ2lmeShtKSsiXG5Gcm9tOiAiK3YrIlxuVG86ICIrdCsiXG5cbkZpbGUgRGF0YTpcbiIrbCsiXG5QYXRjaGVkIFNoYWRvdzpcbiIrcCxudWxsLCJtZXJnZUZpbGUiKTtyZXR1cm59dGhpcy5wYXRjaChiLERyYXdpb0ZpbGUuTEFTVF9XUklURV9XSU5TP3RoaXMuYmFja3VwUGF0Y2g6bnVsbCl9fWVsc2UgdGhyb3cgaz0hMSxFcnJvcihteFJlc291cmNlcy5nZXQoIm5vdEFEaWFncmFtRmlsZSIpKTt0aGlzLmluQ29uZmxpY3RTdGF0ZT10aGlzLmludmFsaWRDaGVja3N1bT0hMTt0aGlzLnNldERlc2NyaXB0b3IoYS5nZXREZXNjcmlwdG9yKCkpO3RoaXMuZGVzY3JpcHRvckNoYW5nZWQoKTt0aGlzLmJhY2t1cFBhdGNoPW51bGw7bnVsbCE9YyYmYygpfWNhdGNoKEMpe3RoaXMuaW52YWxpZENoZWNrc3VtPXRoaXMuaW5Db25mbGljdFN0YXRlPSEwO3RoaXMuZGVzY3JpcHRvckNoYW5nZWQoKTsKbnVsbCE9ZiYmZihDKTt0cnl7aWYoaylpZih0aGlzLmVycm9yUmVwb3J0c0VuYWJsZWQpdGhpcy5zZW5kRXJyb3JSZXBvcnQoIkVycm9yIGluIG1lcmdlRmlsZSIsbnVsbCxDKTtlbHNle3ZhciB5PXRoaXMuZ2V0Q3VycmVudFVzZXIoKSx4PW51bGwhPXk/eS5pZDoidW5rbm93biI7RWRpdG9yVWkubG9nRXJyb3IoIkVycm9yIGluIG1lcmdlRmlsZSIsbnVsbCx0aGlzLmdldE1vZGUoKSsiLiIrdGhpcy5nZXRJZCgpLHgsQyl9fWNhdGNoKEIpe319fTsKRHJhd2lvRmlsZS5wcm90b3R5cGUuZ2V0QW5vbnltaXplZFhtbEZvclBhZ2VzPWZ1bmN0aW9uKGEpe3ZhciBjPW5ldyBteENvZGVjKG14VXRpbHMuY3JlYXRlWG1sRG9jdW1lbnQoKSksZj1jLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIm14ZmlsZSIpO2lmKG51bGwhPWEpZm9yKHZhciBkPTA7ZDxhLmxlbmd0aDtkKyspe3ZhciBrPWMuZW5jb2RlKG5ldyBteEdyYXBoTW9kZWwoYVtkXS5yb290KSk7IjEiIT11cmxQYXJhbXMuZGV2JiYoaz10aGlzLnVpLmFub255bWl6ZU5vZGUoaywhMCkpO2suc2V0QXR0cmlidXRlKCJpZCIsYVtkXS5nZXRJZCgpKTthW2RdLnZpZXdTdGF0ZSYmdGhpcy51aS5lZGl0b3IuZ3JhcGguc2F2ZVZpZXdTdGF0ZShhW2RdLnZpZXdTdGF0ZSxrLCEwKTtmLmFwcGVuZENoaWxkKGspfXJldHVybiBteFV0aWxzLmdldFByZXR0eVhtbChmKX07CkRyYXdpb0ZpbGUucHJvdG90eXBlLmNvbXByZXNzUmVwb3J0RGF0YT1mdW5jdGlvbihhLGMsZil7Yz1udWxsIT1jP2M6MUU0O251bGwhPWYmJm51bGwhPWEmJmEubGVuZ3RoPmY/YT1hLnN1YnN0cmluZygwLGYpKyJbLi4uXSI6bnVsbCE9YSYmYS5sZW5ndGg+YyYmKGE9R3JhcGguY29tcHJlc3MoYSkrIlxuIik7cmV0dXJuIGF9OwpEcmF3aW9GaWxlLnByb3RvdHlwZS5jaGVja3N1bUVycm9yPWZ1bmN0aW9uKGEsYyxmLGQsayl7dGhpcy5zdGF0cy5jaGVja3N1bUVycm9ycysrO3RoaXMuaW52YWxpZENoZWNrc3VtPXRoaXMuaW5Db25mbGljdFN0YXRlPSEwO3RoaXMuZGVzY3JpcHRvckNoYW5nZWQoKTtudWxsIT10aGlzLnN5bmMmJnRoaXMuc3luYy51cGRhdGVPbmxpbmVTdGF0ZSgpO251bGwhPWEmJmEoKTt0cnl7aWYodGhpcy5lcnJvclJlcG9ydHNFbmFibGVkKXtpZihudWxsIT1jKWZvcihhPTA7YTxjLmxlbmd0aDthKyspdGhpcy51aS5hbm9ueW1pemVQYXRjaChjW2FdKTt2YXIgbT1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNvbXByZXNzUmVwb3J0RGF0YShKU09OLnN0cmluZ2lmeShjLG51bGwsMikpO2E9bnVsbCE9YT90aGlzLmNvbXByZXNzUmVwb3J0RGF0YSh0aGlzLmdldEFub255bWl6ZWRYbWxGb3JQYWdlcyh0aGlzLnVpLmdldFBhZ2VzRm9yTm9kZShteFV0aWxzLnBhcnNlWG1sKGEuZGF0YSkuZG9jdW1lbnRFbGVtZW50KSksCjI1RTMpOiJuL2EiO3RoaXMuc2VuZEVycm9yUmVwb3J0KCJDaGVja3N1bSBFcnJvciBpbiAiK2srIiAiK3RoaXMuZ2V0SGFzaCgpLChudWxsIT1mP2Y6IiIpKyJcblxuUGF0Y2hlczpcbiIrYisobnVsbCE9YT8iXG5cblJlbW90ZTpcbiIrYToiIiksbnVsbCw3RTQpfSk7bnVsbD09ZD9tKG51bGwpOnRoaXMuZ2V0TGF0ZXN0VmVyc2lvbihteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXtudWxsIT1hJiZhLmdldEN1cnJlbnRFdGFnKCk9PWQ/bShhKTptKG51bGwpfSksZnVuY3Rpb24oKXt9KX1lbHNle3ZhciBxPXRoaXMuZ2V0Q3VycmVudFVzZXIoKSxiPW51bGwhPXE/cS5pZDoidW5rbm93biI7RWRpdG9yVWkubG9nRXJyb3IoIkNoZWNrc3VtIEVycm9yIGluICIraysiICIrdGhpcy5nZXRJZCgpLG51bGwsdGhpcy5nZXRNb2RlKCkrIi4iK3RoaXMuZ2V0SWQoKSwidXNlcl8iK2IrKG51bGwhPXRoaXMuc3luYz8iLWNsaWVudF8iK3RoaXMuc3luYy5jbGllbnRJZDoiLW5vc3luYyIpKTsKdHJ5e0VkaXRvclVpLmxvZ0V2ZW50KHtjYXRlZ29yeToiQ0hFQ0tTVU0tRVJST1ItU1lOQy1GSUxFLSIrdGhpcy5nZXRIYXNoKCksYWN0aW9uOmssbGFiZWw6InVzZXJfIitiKyhudWxsIT10aGlzLnN5bmM/Ii1jbGllbnRfIit0aGlzLnN5bmMuY2xpZW50SWQ6Ii1ub3N5bmMiKX0pfWNhdGNoKGUpe319fWNhdGNoKGUpe319OwpEcmF3aW9GaWxlLnByb3RvdHlwZS5zZW5kRXJyb3JSZXBvcnQ9ZnVuY3Rpb24oYSxjLGYsZCl7dHJ5e3ZhciBrPXRoaXMuY29tcHJlc3NSZXBvcnREYXRhKHRoaXMuZ2V0QW5vbnltaXplZFhtbEZvclBhZ2VzKHRoaXMuc2hhZG93UGFnZXMpLDI1RTMpLG09dGhpcy5jb21wcmVzc1JlcG9ydERhdGEodGhpcy5nZXRBbm9ueW1pemVkWG1sRm9yUGFnZXModGhpcy51aS5wYWdlcyksMjVFMykscT10aGlzLmdldEN1cnJlbnRVc2VyKCksYj1udWxsIT1xP3RoaXMudWkuaGFzaFZhbHVlKHEuaWQpOiJ1bmtub3duIixlPW51bGwhPXRoaXMuc3luYz8iLWNsaWVudF8iK3RoaXMuc3luYy5jbGllbnRJZDoiLW5vc3luYyIsZz10aGlzLmdldFRpdGxlKCksbj1nLmxhc3RJbmRleE9mKCIuIikscT0ieG1sIjswPG4mJihxPWcuc3Vic3RyaW5nKG4pKTt2YXIgbD1udWxsIT1mP2Yuc3RhY2s6RXJyb3IoKS5zdGFjaztFZGl0b3JVaS5zZW5kUmVwb3J0KGErIiAiKyhuZXcgRGF0ZSkudG9JU09TdHJpbmcoKSsKIjpcblxuQXBwVmVyc2lvbj0iK25hdmlnYXRvci5hcHBWZXJzaW9uKyJcbkZpbGU9Iit0aGlzLnVpLmhhc2hWYWx1ZSh0aGlzLmdldElkKCkpKyIgKCIrdGhpcy5nZXRNb2RlKCkrIikiKyh0aGlzLmlzTW9kaWZpZWQoKT8iIG1vZGlmaWVkIjoiIikrIlxuU2l6ZS9UeXBlPSIrdGhpcy5nZXRTaXplKCkrIiAoIitxKyIpXG5Vc2VyPSIrYitlKyJcblByZWZpeD0iK3RoaXMudWkuZWRpdG9yLmdyYXBoLm1vZGVsLnByZWZpeCsiXG5TeW5jPSIrRHJhd2lvRmlsZS5TWU5DKyhudWxsIT10aGlzLnN5bmM/KHRoaXMuc3luYy5lbmFibGVkPyIgZW5hYmxlZCI6IiIpKyh0aGlzLnN5bmMuaXNDb25uZWN0ZWQoKT8iIGNvbm5lY3RlZCI6IiIpOiIiKSsiXG5QbHVnaW5zPSIrKG51bGwhPW14U2V0dGluZ3Muc2V0dGluZ3M/bXhTZXR0aW5ncy5nZXRQbHVnaW5zKCk6Im51bGwiKSsiXG5cblN0YXRzOlxuIitKU09OLnN0cmluZ2lmeSh0aGlzLnN0YXRzLG51bGwsMikrKG51bGwhPWM/IlxuXG4iK2M6CiIiKSsobnVsbCE9Zj8iXG5cbkVycm9yOiAiK2YubWVzc2FnZToiIikrIlxuXG5TdGFjazpcbiIrbCsiXG5cblNoYWRvdzpcbiIraysiXG5cbkRhdGE6XG4iK20sZCl9Y2F0Y2gocCl7fX07CkRyYXdpb0ZpbGUucHJvdG90eXBlLnJlbG9hZEZpbGU9ZnVuY3Rpb24oYSxjKXt0cnl7dGhpcy51aS5zcGlubmVyLnN0b3AoKTt2YXIgZj1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMuc3RhdHMuZmlsZVJlbG9hZGVkKys7dGhpcy5yZXBvcnRFbmFibGVkPSExO3ZhciBjPXRoaXMudWkuZWRpdG9yLmdyYXBoLmdldFZpZXdTdGF0ZSgpLGY9dGhpcy51aS5lZGl0b3IuZ3JhcGguZ2V0U2VsZWN0aW9uQ2VsbHMoKSxtPXRoaXMudWkuY3VycmVudFBhZ2U7dGhpcy51aS5sb2FkRmlsZSh0aGlzLmdldEhhc2goKSwhMCxudWxsLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7aWYobnVsbD09dGhpcy51aS5maWxlTG9hZGVkRXJyb3Ipe3RoaXMudWkucmVzdG9yZVZpZXdTdGF0ZShtLGMsZik7bnVsbCE9dGhpcy5iYWNrdXBQYXRjaCYmdGhpcy5wYXRjaChbdGhpcy5iYWNrdXBQYXRjaF0pO3ZhciBkPXRoaXMudWkuZ2V0Q3VycmVudEZpbGUoKTtudWxsIT1kJiYoZC5zdGF0cz0KdGhpcy5zdGF0cyk7bnVsbCE9YSYmYSgpfX0pLCEwKX0pO3RoaXMuaXNNb2RpZmllZCgpJiZudWxsPT10aGlzLmJhY2t1cFBhdGNoP3RoaXMudWkuY29uZmlybShteFJlc291cmNlcy5nZXQoImFsbENoYW5nZXNMb3N0IiksbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt0aGlzLmhhbmRsZUZpbGVTdWNjZXNzKCJtYW51YWwiPT1EcmF3aW9GaWxlLlNZTkMpfSksZixteFJlc291cmNlcy5nZXQoImNhbmNlbCIpLG14UmVzb3VyY2VzLmdldCgiZGlzY2FyZENoYW5nZXMiKSk6ZigpfWNhdGNoKGQpe251bGwhPWMmJmMoZCl9fTtEcmF3aW9GaWxlLnByb3RvdHlwZS5jb3B5RmlsZT1mdW5jdGlvbihhLGMpe3RoaXMudWkuZWRpdG9yLmVkaXRBc05ldyh0aGlzLnVpLmdldEZpbGVEYXRhKCEwKSx0aGlzLnVpLmdldENvcHlGaWxlbmFtZSh0aGlzKSl9OwpEcmF3aW9GaWxlLnByb3RvdHlwZS5pZ25vcmVQYXRjaGVzPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYz0hMCxmPTA7ZjxhLmxlbmd0aCYmYztmKyspYz1jJiYwPT1PYmplY3Qua2V5cyhhW2ZdKS5sZW5ndGg7cmV0dXJuIGN9OwpEcmF3aW9GaWxlLnByb3RvdHlwZS5wYXRjaD1mdW5jdGlvbihhLGMpe3ZhciBmPXRoaXMudWkuZWRpdG9yLnVuZG9NYW5hZ2VyLGQ9Zi5oaXN0b3J5LnNsaWNlKCksaz1mLmluZGV4T2ZOZXh0QWRkLG09dGhpcy51aS5lZGl0b3IuZ3JhcGg7bS5jb250YWluZXIuc3R5bGUudmlzaWJpbGl0eT0iaGlkZGVuIjt2YXIgcT10aGlzLmNoYW5nZUxpc3RlbmVyRW5hYmxlZDt0aGlzLmNoYW5nZUxpc3RlbmVyRW5hYmxlZD0hMTt2YXIgYj1tLmZvbGRpbmdFbmFibGVkLGU9bS5tYXRoRW5hYmxlZCxnPW0uY2VsbFJlbmRlcmVyLnJlZHJhdzttLmNlbGxSZW5kZXJlci5yZWRyYXc9ZnVuY3Rpb24oYSl7YS52aWV3LmdyYXBoLmlzRWRpdGluZyhhLmNlbGwpJiYoYS52aWV3LmdyYXBoLnNjcm9sbENlbGxUb1Zpc2libGUoYS5jZWxsKSxhLnZpZXcuZ3JhcGguY2VsbEVkaXRvci5yZXNpemUoKSk7Zy5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O20ubW9kZWwuYmVnaW5VcGRhdGUoKTt0cnl7Zm9yKHZhciBuPQowO248YS5sZW5ndGg7bisrKXRoaXMudWkucGFnZXM9dGhpcy51aS5wYXRjaFBhZ2VzKHRoaXMudWkucGFnZXMsYVtuXSwhMCxjLHRoaXMuaXNNb2RpZmllZCgpKTswPT10aGlzLnVpLnBhZ2VzLmxlbmd0aCYmdGhpcy51aS5wYWdlcy5wdXNoKHRoaXMudWkuY3JlYXRlUGFnZSgpKTswPm14VXRpbHMuaW5kZXhPZih0aGlzLnVpLnBhZ2VzLHRoaXMudWkuY3VycmVudFBhZ2UpJiZ0aGlzLnVpLnNlbGVjdFBhZ2UodGhpcy51aS5wYWdlc1swXSwhMCl9ZmluYWxseXttLmNvbnRhaW5lci5zdHlsZS52aXNpYmlsaXR5PSIiO20ubW9kZWwuZW5kVXBkYXRlKCk7bS5jZWxsUmVuZGVyZXIucmVkcmF3PWc7dGhpcy5jaGFuZ2VMaXN0ZW5lckVuYWJsZWQ9cTtmLmhpc3Rvcnk9ZDtmLmluZGV4T2ZOZXh0QWRkPWs7Zi5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5DTEVBUikpO2lmKG51bGw9PXRoaXMudWkuY3VycmVudFBhZ2V8fHRoaXMudWkuY3VycmVudFBhZ2UubmVlZHNVcGRhdGUpZSE9Cm0ubWF0aEVuYWJsZWQ/KHRoaXMudWkuZWRpdG9yLnVwZGF0ZUdyYXBoQ29tcG9uZW50cygpLG0ucmVmcmVzaCgpKTooYiE9bS5mb2xkaW5nRW5hYmxlZD9tLnZpZXcucmV2YWxpZGF0ZSgpOm0udmlldy52YWxpZGF0ZSgpLG0uc2l6ZURpZENoYW5nZSgpKTt0aGlzLnVpLnVwZGF0ZVRhYkNvbnRhaW5lcigpfX07CkRyYXdpb0ZpbGUucHJvdG90eXBlLnNhdmU9ZnVuY3Rpb24oYSxjLGYsZCxrLG0pe3RyeXtpZih0aGlzLmlzRWRpdGFibGUoKSlpZighayYmdGhpcy5pbnZhbGlkQ2hlY2tzdW0paWYobnVsbCE9ZilmKHttZXNzYWdlOm14UmVzb3VyY2VzLmdldCgiY2hlY2tzdW0iKX0pO2Vsc2UgdGhyb3cgRXJyb3IobXhSZXNvdXJjZXMuZ2V0KCJjaGVja3N1bSIpKTtlbHNlIHRoaXMudXBkYXRlRmlsZURhdGEoKSx0aGlzLmNsZWFyQXV0b3NhdmUoKSxudWxsIT1jJiZjKCk7ZWxzZSBpZihudWxsIT1mKWYoe21lc3NhZ2U6bXhSZXNvdXJjZXMuZ2V0KCJyZWFkT25seSIpfSk7ZWxzZSB0aHJvdyBFcnJvcihteFJlc291cmNlcy5nZXQoInJlYWRPbmx5IikpO31jYXRjaChxKXtpZihudWxsIT1mKWYocSk7ZWxzZSB0aHJvdyBxO319OwpEcmF3aW9GaWxlLnByb3RvdHlwZS51cGRhdGVGaWxlRGF0YT1mdW5jdGlvbihhKXt0aGlzLnNldERhdGEodGhpcy51aS5nZXRGaWxlRGF0YShudWxsLG51bGwsbnVsbCxudWxsLG51bGwsbnVsbCxudWxsLG51bGwsdGhpcyxudWxsIT1hPyFhOiF0aGlzLmlzQ29tcHJlc3NlZCgpKSl9O0RyYXdpb0ZpbGUucHJvdG90eXBlLmlzQ29tcHJlc3NlZFN0b3JhZ2U9ZnVuY3Rpb24oKXtyZXR1cm4hMH07RHJhd2lvRmlsZS5wcm90b3R5cGUuaXNDb21wcmVzc2VkPWZ1bmN0aW9uKCl7dmFyIGE9bnVsbCE9dGhpcy51aS5maWxlTm9kZT90aGlzLnVpLmZpbGVOb2RlLmdldEF0dHJpYnV0ZSgiY29tcHJlc3NlZCIpOm51bGw7cmV0dXJuIG51bGwhPWE/ImZhbHNlIiE9YTp0aGlzLmlzQ29tcHJlc3NlZFN0b3JhZ2UoKSYmRWRpdG9yLmNvbXByZXNzWG1sfTsKRHJhd2lvRmlsZS5wcm90b3R5cGUuZGVjb21wcmVzcz1mdW5jdGlvbigpe3RoaXMudXBkYXRlRmlsZURhdGEoITEpO251bGwhPXRoaXMudWkuZmlsZU5vZGUmJnRoaXMudWkuZmlsZU5vZGUuc2V0QXR0cmlidXRlKCJjb21wcmVzc2VkIiwiZmFsc2UiKTt0aGlzLmZpbGVDaGFuZ2VkKCl9O0RyYXdpb0ZpbGUucHJvdG90eXBlLmNvbXByZXNzPWZ1bmN0aW9uKCl7dGhpcy51cGRhdGVGaWxlRGF0YSghMCk7bnVsbCE9dGhpcy51aS5maWxlTm9kZSYmdGhpcy51aS5maWxlTm9kZS5zZXRBdHRyaWJ1dGUoImNvbXByZXNzZWQiLCJ0cnVlIik7dGhpcy5maWxlQ2hhbmdlZCgpfTtEcmF3aW9GaWxlLnByb3RvdHlwZS5zYXZlQXM9ZnVuY3Rpb24oYSxjLGYpe307RHJhd2lvRmlsZS5wcm90b3R5cGUuc2F2ZUZpbGU9ZnVuY3Rpb24oYSxjLGYsZCl7fTtEcmF3aW9GaWxlLnByb3RvdHlwZS5nZXRQdWJsaWNVcmw9ZnVuY3Rpb24oYSl7YShudWxsKX07CkRyYXdpb0ZpbGUucHJvdG90eXBlLmlzUmVzdHJpY3RlZD1mdW5jdGlvbigpe3JldHVybiExfTtEcmF3aW9GaWxlLnByb3RvdHlwZS5pc01vZGlmaWVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubW9kaWZpZWR9O0RyYXdpb0ZpbGUucHJvdG90eXBlLnNldE1vZGlmaWVkPWZ1bmN0aW9uKGEpe3RoaXMubW9kaWZpZWQ9YX07RHJhd2lvRmlsZS5wcm90b3R5cGUuaXNBdXRvc2F2ZU9wdGlvbmFsPWZ1bmN0aW9uKCl7cmV0dXJuITF9O0RyYXdpb0ZpbGUucHJvdG90eXBlLmlzQXV0b3NhdmU9ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5pbkNvbmZsaWN0U3RhdGUmJnRoaXMudWkuZWRpdG9yLmF1dG9zYXZlfTtEcmF3aW9GaWxlLnByb3RvdHlwZS5pc1JlbmFtYWJsZT1mdW5jdGlvbigpe3JldHVybiExfTtEcmF3aW9GaWxlLnByb3RvdHlwZS5yZW5hbWU9ZnVuY3Rpb24oYSxjLGYpe307RHJhd2lvRmlsZS5wcm90b3R5cGUuaXNNb3ZhYmxlPWZ1bmN0aW9uKCl7cmV0dXJuITF9OwpEcmF3aW9GaWxlLnByb3RvdHlwZS5pc1RyYXNoZWQ9ZnVuY3Rpb24oKXtyZXR1cm4hMX07RHJhd2lvRmlsZS5wcm90b3R5cGUubW92ZT1mdW5jdGlvbihhLGMsZil7fTtEcmF3aW9GaWxlLnByb3RvdHlwZS5nZXRIYXNoPWZ1bmN0aW9uKCl7cmV0dXJuIiJ9O0RyYXdpb0ZpbGUucHJvdG90eXBlLmdldElkPWZ1bmN0aW9uKCl7cmV0dXJuIiJ9O0RyYXdpb0ZpbGUucHJvdG90eXBlLmlzRWRpdGFibGU9ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy51aS5lZGl0b3IuaXNDaHJvbWVsZXNzVmlldygpfHx0aGlzLnVpLmVkaXRvci5lZGl0YWJsZX07RHJhd2lvRmlsZS5wcm90b3R5cGUuZ2V0VWk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51aX07RHJhd2lvRmlsZS5wcm90b3R5cGUuZ2V0VGl0bGU9ZnVuY3Rpb24oKXtyZXR1cm4iIn07RHJhd2lvRmlsZS5wcm90b3R5cGUuc2V0RGF0YT1mdW5jdGlvbihhKXt0aGlzLmRhdGE9YX07RHJhd2lvRmlsZS5wcm90b3R5cGUuZ2V0RGF0YT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmRhdGF9OwpEcmF3aW9GaWxlLnByb3RvdHlwZS5vcGVuPWZ1bmN0aW9uKCl7dGhpcy5zdGF0cy5vcGVuZWQrKzt2YXIgYT10aGlzLmdldERhdGEoKTtpZihudWxsIT1hKXt2YXIgYz1mdW5jdGlvbihhKXtmb3IodmFyIGM9MDtudWxsIT1hJiZjPGEubGVuZ3RoO2MrKyl7dmFyIGY9YVtjXTtudWxsIT1mLmlkJiYwPT1mLmlkLmluZGV4T2YoImV4dEZvbnRfIikmJmYucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChmKX19O2MoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiaGVhZCA+IHN0eWxlW2lkXSIpKTtjKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoImhlYWQgPiBsaW5rW2lkXSIpKTt0aGlzLnVpLnNldEZpbGVEYXRhKGEpO3RoaXMuaXNNb2RpZmllZCgpfHwodGhpcy5zaGFkb3dEYXRhPW14VXRpbHMuZ2V0WG1sKHRoaXMudWkuZ2V0WG1sRmlsZURhdGEoKSksdGhpcy5zaGFkb3dQYWdlcz1udWxsKX10aGlzLmluc3RhbGxMaXN0ZW5lcnMoKTt0aGlzLmlzU3luY1N1cHBvcnRlZCgpJiZ0aGlzLnN0YXJ0U3luYygpfTsKRHJhd2lvRmlsZS5wcm90b3R5cGUuaXNTeW5jU3VwcG9ydGVkPWZ1bmN0aW9uKCl7cmV0dXJuITF9O0RyYXdpb0ZpbGUucHJvdG90eXBlLmlzUmV2aXNpb25IaXN0b3J5U3VwcG9ydGVkPWZ1bmN0aW9uKCl7cmV0dXJuITF9O0RyYXdpb0ZpbGUucHJvdG90eXBlLmdldFJldmlzaW9ucz1mdW5jdGlvbihhLGMpe2EobnVsbCl9O0RyYXdpb0ZpbGUucHJvdG90eXBlLmxvYWREZXNjcmlwdG9yPWZ1bmN0aW9uKGEsYyl7YShudWxsKX07RHJhd2lvRmlsZS5wcm90b3R5cGUubG9hZFBhdGNoRGVzY3JpcHRvcj1mdW5jdGlvbihhLGMpe3RoaXMubG9hZERlc2NyaXB0b3IobXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYyl7YShjKX0pLGMpfTtEcmF3aW9GaWxlLnByb3RvdHlwZS5wYXRjaERlc2NyaXB0b3I9ZnVuY3Rpb24oYSxjKXt0aGlzLnNldERlc2NyaXB0b3JFdGFnKGEsdGhpcy5nZXREZXNjcmlwdG9yRXRhZyhjKSl9OwpEcmF3aW9GaWxlLnByb3RvdHlwZS5zdGFydFN5bmM9ZnVuY3Rpb24oKXsiYXV0byIhPURyYXdpb0ZpbGUuU1lOQ3x8IjEiPT11cmxQYXJhbXMuc3RlYWx0aHx8IjEiIT11cmxQYXJhbXMucnQmJnRoaXMudWkuZWRpdG9yLmNocm9tZWxlc3MmJiF0aGlzLnVpLmVkaXRvci5lZGl0YWJsZXx8KG51bGw9PXRoaXMuc3luYyYmKHRoaXMuc3luYz1uZXcgRHJhd2lvRmlsZVN5bmModGhpcykpLHRoaXMuc3luYy5zdGFydCgpKX07RHJhd2lvRmlsZS5wcm90b3R5cGUuaXNDb25mbGljdD1mdW5jdGlvbigpe3JldHVybiExfTtEcmF3aW9GaWxlLnByb3RvdHlwZS5nZXRDaGFubmVsSWQ9ZnVuY3Rpb24oKXtyZXR1cm4gR3JhcGguY29tcHJlc3ModGhpcy5nZXRIYXNoKCkpLnJlcGxhY2UoL1tcLyArXS9nLCJfIil9O0RyYXdpb0ZpbGUucHJvdG90eXBlLmdldENoYW5uZWxLZXk9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGx9O0RyYXdpb0ZpbGUucHJvdG90eXBlLmdldEN1cnJlbnRVc2VyPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9OwpEcmF3aW9GaWxlLnByb3RvdHlwZS5nZXRMYXRlc3RWZXJzaW9uPWZ1bmN0aW9uKGEsYyl7YShudWxsKX07RHJhd2lvRmlsZS5wcm90b3R5cGUuZ2V0TGFzdE1vZGlmaWVkRGF0ZT1mdW5jdGlvbigpe3JldHVybiBuZXcgRGF0ZX07RHJhd2lvRmlsZS5wcm90b3R5cGUuc2V0Q3VycmVudFJldmlzaW9uSWQ9ZnVuY3Rpb24oYSl7dGhpcy5zZXREZXNjcmlwdG9yUmV2aXNpb25JZCh0aGlzLmdldERlc2NyaXB0b3IoKSxhKX07RHJhd2lvRmlsZS5wcm90b3R5cGUuZ2V0Q3VycmVudFJldmlzaW9uSWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXREZXNjcmlwdG9yUmV2aXNpb25JZCh0aGlzLmdldERlc2NyaXB0b3IoKSl9O0RyYXdpb0ZpbGUucHJvdG90eXBlLnNldEN1cnJlbnRFdGFnPWZ1bmN0aW9uKGEpe3RoaXMuc2V0RGVzY3JpcHRvckV0YWcodGhpcy5nZXREZXNjcmlwdG9yKCksYSl9O0RyYXdpb0ZpbGUucHJvdG90eXBlLmdldEN1cnJlbnRFdGFnPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0RGVzY3JpcHRvckV0YWcodGhpcy5nZXREZXNjcmlwdG9yKCkpfTsKRHJhd2lvRmlsZS5wcm90b3R5cGUuZ2V0RGVzY3JpcHRvcj1mdW5jdGlvbigpe3JldHVybiBudWxsfTtEcmF3aW9GaWxlLnByb3RvdHlwZS5zZXREZXNjcmlwdG9yPWZ1bmN0aW9uKCl7fTtEcmF3aW9GaWxlLnByb3RvdHlwZS5zZXREZXNjcmlwdG9yUmV2aXNpb25JZD1mdW5jdGlvbihhLGMpe3RoaXMuc2V0RGVzY3JpcHRvckV0YWcoYSxjKX07RHJhd2lvRmlsZS5wcm90b3R5cGUuZ2V0RGVzY3JpcHRvclJldmlzaW9uSWQ9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZ2V0RGVzY3JpcHRvckV0YWcoYSl9O0RyYXdpb0ZpbGUucHJvdG90eXBlLnNldERlc2NyaXB0b3JFdGFnPWZ1bmN0aW9uKGEsYyl7fTtEcmF3aW9GaWxlLnByb3RvdHlwZS5nZXREZXNjcmlwdG9yRXRhZz1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbH07RHJhd2lvRmlsZS5wcm90b3R5cGUuZ2V0RGVzY3JpcHRvclNlY3JldD1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbH07CkRyYXdpb0ZpbGUucHJvdG90eXBlLmluc3RhbGxMaXN0ZW5lcnM9ZnVuY3Rpb24oKXtudWxsPT10aGlzLmNoYW5nZUxpc3RlbmVyJiYodGhpcy5jaGFuZ2VMaXN0ZW5lcj1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhLGMpe3ZhciBmPW51bGwhPWM/Yy5nZXRQcm9wZXJ0eSgiZWRpdCIpOm51bGw7IXRoaXMuY2hhbmdlTGlzdGVuZXJFbmFibGVkfHwhdGhpcy5pc0VkaXRhYmxlKCl8fG51bGwhPWYmJmYuaWdub3JlRWRpdHx8dGhpcy5maWxlQ2hhbmdlZCgpfSksdGhpcy51aS5lZGl0b3IuZ3JhcGgubW9kZWwuYWRkTGlzdGVuZXIobXhFdmVudC5DSEFOR0UsdGhpcy5jaGFuZ2VMaXN0ZW5lciksdGhpcy51aS5lZGl0b3IuZ3JhcGguYWRkTGlzdGVuZXIoImdyaWRTaXplQ2hhbmdlZCIsdGhpcy5jaGFuZ2VMaXN0ZW5lciksdGhpcy51aS5lZGl0b3IuZ3JhcGguYWRkTGlzdGVuZXIoInNoYWRvd1Zpc2libGVDaGFuZ2VkIix0aGlzLmNoYW5nZUxpc3RlbmVyKSx0aGlzLnVpLmFkZExpc3RlbmVyKCJwYWdlRm9ybWF0Q2hhbmdlZCIsCnRoaXMuY2hhbmdlTGlzdGVuZXIpLHRoaXMudWkuYWRkTGlzdGVuZXIoInBhZ2VTY2FsZUNoYW5nZWQiLHRoaXMuY2hhbmdlTGlzdGVuZXIpLHRoaXMudWkuYWRkTGlzdGVuZXIoImJhY2tncm91bmRDb2xvckNoYW5nZWQiLHRoaXMuY2hhbmdlTGlzdGVuZXIpLHRoaXMudWkuYWRkTGlzdGVuZXIoImJhY2tncm91bmRJbWFnZUNoYW5nZWQiLHRoaXMuY2hhbmdlTGlzdGVuZXIpLHRoaXMudWkuYWRkTGlzdGVuZXIoImZvbGRpbmdFbmFibGVkQ2hhbmdlZCIsdGhpcy5jaGFuZ2VMaXN0ZW5lciksdGhpcy51aS5hZGRMaXN0ZW5lcigibWF0aEVuYWJsZWRDaGFuZ2VkIix0aGlzLmNoYW5nZUxpc3RlbmVyKSx0aGlzLnVpLmFkZExpc3RlbmVyKCJncmlkRW5hYmxlZENoYW5nZWQiLHRoaXMuY2hhbmdlTGlzdGVuZXIpLHRoaXMudWkuYWRkTGlzdGVuZXIoImd1aWRlc0VuYWJsZWRDaGFuZ2VkIix0aGlzLmNoYW5nZUxpc3RlbmVyKSx0aGlzLnVpLmFkZExpc3RlbmVyKCJwYWdlVmlld0NoYW5nZWQiLAp0aGlzLmNoYW5nZUxpc3RlbmVyKSx0aGlzLnVpLmFkZExpc3RlbmVyKCJjb25uZWN0aW9uUG9pbnRzQ2hhbmdlZCIsdGhpcy5jaGFuZ2VMaXN0ZW5lciksdGhpcy51aS5hZGRMaXN0ZW5lcigiY29ubmVjdGlvbkFycm93c0NoYW5nZWQiLHRoaXMuY2hhbmdlTGlzdGVuZXIpKX07CkRyYXdpb0ZpbGUucHJvdG90eXBlLmFkZEFsbFNhdmVkU3RhdHVzPWZ1bmN0aW9uKGEpe251bGwhPXRoaXMudWkuc3RhdHVzQ29udGFpbmVyJiZ0aGlzLnVpLmdldEN1cnJlbnRGaWxlKCk9PXRoaXMmJihhPW51bGwhPWE/YTpteFV0aWxzLmh0bWxFbnRpdGllcyhteFJlc291cmNlcy5nZXQodGhpcy5hbGxDaGFuZ2VzU2F2ZWRLZXkpKSx0aGlzLnVpLmVkaXRvci5zZXRTdGF0dXMoJzxkaXYgdGl0bGU9IicrYSsnIj4nK2ErIjwvZGl2PiIpLGE9dGhpcy51aS5zdGF0dXNDb250YWluZXIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImRpdiIpLDA8YS5sZW5ndGgmJnRoaXMuaXNSZXZpc2lvbkhpc3RvcnlTdXBwb3J0ZWQoKSYmKGFbMF0uc3R5bGUuY3Vyc29yPSJwb2ludGVyIixhWzBdLnN0eWxlLnRleHREZWNvcmF0aW9uPSJ1bmRlcmxpbmUiLG14RXZlbnQuYWRkTGlzdGVuZXIoYVswXSwiY2xpY2siLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dGhpcy51aS5hY3Rpb25zLmdldCgicmV2aXNpb25IaXN0b3J5IikuZnVuY3QoKX0pKSkpfTsKRHJhd2lvRmlsZS5wcm90b3R5cGUuc2F2ZURyYWZ0PWZ1bmN0aW9uKCl7dHJ5e251bGw9PXRoaXMuZHJhZnRJZCYmKHRoaXMuZHJhZnRJZD1FZGl0b3IuZ3VpZCgpKTt2YXIgYT17dHlwZToiZHJhZnQiLGNyZWF0ZWQ6dGhpcy5jcmVhdGVkLG1vZGlmaWVkOihuZXcgRGF0ZSkuZ2V0VGltZSgpLGRhdGE6dGhpcy51aS5nZXRGaWxlRGF0YSgpLHRpdGxlOnRoaXMuZ2V0VGl0bGUoKSxhbGl2ZUNoZWNrOnRoaXMudWkuZHJhZnRBbGl2ZUNoZWNrfTt0aGlzLnVpLnNldERhdGFiYXNlSXRlbSgiLmRyYWZ0XyIrdGhpcy5kcmFmdElkLEpTT04uc3RyaW5naWZ5KGEpKTtFZGl0b3JVaS5kZWJ1ZygiZHJhZnQgc2F2ZWQiLHRoaXMuZHJhZnRJZCxhKX1jYXRjaChjKXtjb25zb2xlLmVycm9yKGMpLHRoaXMucmVtb3ZlRHJhZnQoKX19OwpEcmF3aW9GaWxlLnByb3RvdHlwZS5yZW1vdmVEcmFmdD1mdW5jdGlvbigpe3RyeXtudWxsIT10aGlzLmRyYWZ0SWQmJih0aGlzLnVpLnJlbW92ZURhdGFiYXNlSXRlbSgiLmRyYWZ0XyIrdGhpcy5kcmFmdElkKSxFZGl0b3JVaS5kZWJ1ZygiZHJhZnQgZGVsZXRlZCIsIi5kcmFmdF8iK3RoaXMuZHJhZnRJZCkpfWNhdGNoKGEpe319OwpEcmF3aW9GaWxlLnByb3RvdHlwZS5hZGRVbnNhdmVkU3RhdHVzPWZ1bmN0aW9uKGEpe2lmKCF0aGlzLmluQ29uZmxpY3RTdGF0ZSYmbnVsbCE9dGhpcy51aS5zdGF0dXNDb250YWluZXImJnRoaXMudWkuZ2V0Q3VycmVudEZpbGUoKT09dGhpcylpZihhIGluc3RhbmNlb2YgRXJyb3ImJm51bGwhPWEubWVzc2FnZSYmIiIhPWEubWVzc2FnZSl7dmFyIGM9bXhVdGlscy5odG1sRW50aXRpZXMobXhSZXNvdXJjZXMuZ2V0KCJ1bnNhdmVkQ2hhbmdlcyIpKTt0aGlzLnVpLmVkaXRvci5zZXRTdGF0dXMoJzxkaXYgdGl0bGU9IicrYysnIiBjbGFzcz0iZ2VTdGF0dXNBbGVydCIgc3R5bGU9Im92ZXJmbG93OmhpZGRlbjsiPicrYysiICgiK214VXRpbHMuaHRtbEVudGl0aWVzKGEubWVzc2FnZSkrIik8L2Rpdj4iKX1lbHNle2M9dGhpcy5nZXRFcnJvck1lc3NhZ2UoYSk7aWYobnVsbD09YyYmbnVsbCE9dGhpcy5sYXN0U2F2ZWQpe3ZhciBmPXRoaXMudWkudGltZVNpbmNlKG5ldyBEYXRlKHRoaXMubGFzdFNhdmVkKSk7Cm51bGwhPWYmJihjPW14UmVzb3VyY2VzLmdldCgibGFzdFNhdmVkIixbZl0pKX1udWxsIT1jJiY2MDxjLmxlbmd0aCYmKGM9Yy5zdWJzdHJpbmcoMCw2MCkrIi4uLiIpO2M9bXhVdGlscy5odG1sRW50aXRpZXMobXhSZXNvdXJjZXMuZ2V0KCJ1bnNhdmVkQ2hhbmdlc0NsaWNrSGVyZVRvU2F2ZSIpKSsobnVsbCE9YyYmIiIhPWM/IiAoIitteFV0aWxzLmh0bWxFbnRpdGllcyhjKSsiKSI6IiIpO3RoaXMudWkuZWRpdG9yLnNldFN0YXR1cygnPGRpdiB0aXRsZT0iJytjKyciIGNsYXNzPSJnZVN0YXR1c0FsZXJ0IiBzdHlsZT0iY3Vyc29yOnBvaW50ZXI7b3ZlcmZsb3c6aGlkZGVuOyI+JytjKyI8L2Rpdj4iKTtjPXRoaXMudWkuc3RhdHVzQ29udGFpbmVyLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJkaXYiKTtudWxsIT1jJiYwPGMubGVuZ3RoP214RXZlbnQuYWRkTGlzdGVuZXIoY1swXSwiY2xpY2siLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dGhpcy51aS5hY3Rpb25zLmdldChudWxsIT0KdGhpcy51aS5tb2RlJiZ0aGlzLmlzRWRpdGFibGUoKT8ic2F2ZSI6InNhdmVBcyIpLmZ1bmN0KCl9KSk6KGM9bXhVdGlscy5odG1sRW50aXRpZXMobXhSZXNvdXJjZXMuZ2V0KCJ1bnNhdmVkQ2hhbmdlcyIpKSx0aGlzLnVpLmVkaXRvci5zZXRTdGF0dXMoJzxkaXYgdGl0bGU9IicrYysnIiBjbGFzcz0iZ2VTdGF0dXNBbGVydCIgc3R5bGU9Im92ZXJmbG93OmhpZGRlbjsiPicrYysiICgiK214VXRpbHMuaHRtbEVudGl0aWVzKGEubWVzc2FnZSkrIik8L2Rpdj4iKSk7RWRpdG9yVWkuZW5hYmxlRHJhZnRzJiZudWxsPT10aGlzLmdldE1vZGUoKSYmdGhpcy5zYXZlRHJhZnQoKX19OwpEcmF3aW9GaWxlLnByb3RvdHlwZS5hZGRDb25mbGljdFN0YXR1cz1mdW5jdGlvbihhLGMpe3RoaXMuaW52YWxpZENoZWNrc3VtJiZudWxsPT1jJiYoYz1teFJlc291cmNlcy5nZXQoImNoZWNrc3VtIikpO3RoaXMuc2V0Q29uZmxpY3RTdGF0dXMobXhVdGlscy5odG1sRW50aXRpZXMobXhSZXNvdXJjZXMuZ2V0KCJmaWxlQ2hhbmdlZFN5bmMiKSkrKG51bGwhPWMmJiIiIT1jPyIgKCIrbXhVdGlscy5odG1sRW50aXRpZXMoYykrIikiOiIiKSk7dGhpcy51aS5zcGlubmVyLnN0b3AoKTt0aGlzLmNsZWFyQXV0b3NhdmUoKTt2YXIgZj1udWxsIT10aGlzLnVpLnN0YXR1c0NvbnRhaW5lcj90aGlzLnVpLnN0YXR1c0NvbnRhaW5lci5nZXRFbGVtZW50c0J5VGFnTmFtZSgiZGl2Iik6bnVsbDtudWxsIT1mJiYwPGYubGVuZ3RoP214RXZlbnQuYWRkTGlzdGVuZXIoZlswXSwiY2xpY2siLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGMpeyJJTUciIT1teEV2ZW50LmdldFNvdXJjZShjKS5ub2RlTmFtZSYmCmEoKX0pKTp0aGlzLnVpLmFsZXJ0KG14VXRpbHMuaHRtbEVudGl0aWVzKG14UmVzb3VyY2VzLmdldCgiZmlsZUNoYW5nZWRTeW5jIikpLGEpfTtEcmF3aW9GaWxlLnByb3RvdHlwZS5zZXRDb25mbGljdFN0YXR1cz1mdW5jdGlvbihhKXt0aGlzLnVpLmVkaXRvci5zZXRTdGF0dXMoJzxkaXYgdGl0bGU9IicrYSsnIiBjbGFzcz0iZ2VTdGF0dXNBbGVydCBnZUJsaW5rIiBzdHlsZT0iY3Vyc29yOnBvaW50ZXI7b3ZlcmZsb3c6aGlkZGVuOyI+JythKycgPGEgaHJlZj0iaHR0cHM6Ly9kZXNrLmRyYXcuaW8vc3VwcG9ydC9zb2x1dGlvbnMvYXJ0aWNsZXMvMTYwMDAwODc5NDciIHRhcmdldD0iX2JsYW5rIj48aW1nIGJvcmRlcj0iMCIgc3R5bGU9Im1hcmdpbi1sZWZ0OjJweDtjdXJzb3I6aGVscDtvcGFjaXR5OjAuNTt3aWR0aDoxNnB4O2hlaWdodDoxNnB4OyIgdmFsaWduPSJib3R0b20iIHNyYz0iJytFZGl0b3IuaGVscEltYWdlKyciIHN0eWxlPSIiLz48L2E+PC9kaXY+Jyl9OwpEcmF3aW9GaWxlLnByb3RvdHlwZS5zaG93UmVmcmVzaERpYWxvZz1mdW5jdGlvbihhLGMsZil7bnVsbD09ZiYmKGY9bXhSZXNvdXJjZXMuZ2V0KCJjaGVja3N1bSIpKTt0aGlzLnVpLmVkaXRvci5pc0Nocm9tZWxlc3NWaWV3KCkmJiF0aGlzLnVpLmVkaXRvci5lZGl0YWJsZT90aGlzLnVpLmFsZXJ0KG14UmVzb3VyY2VzLmdldCgiZmlsZUNoYW5nZWRTeW5jIiksbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt0aGlzLnJlbG9hZEZpbGUoYSxjKX0pKToodGhpcy5hZGRDb25mbGljdFN0YXR1cyhteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMuc2hvd1JlZnJlc2hEaWFsb2coYSxjKX0pLGYpLHRoaXMudWkuc2hvd0Vycm9yKG14UmVzb3VyY2VzLmdldCgiZXJyb3IiKSsiICgiK2YrIikiLG14UmVzb3VyY2VzLmdldCgiZmlsZUNoYW5nZWRTeW5jRGlhbG9nIiksbXhSZXNvdXJjZXMuZ2V0KCJtYWtlQ29weSIpLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dGhpcy5jb3B5RmlsZShhLApjKX0pLG51bGwsbXhSZXNvdXJjZXMuZ2V0KCJzeW5jaHJvbml6ZSIpLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dGhpcy5yZWxvYWRGaWxlKGEsYyl9KSxteFJlc291cmNlcy5nZXQoImNhbmNlbCIpLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dGhpcy51aS5oaWRlRGlhbG9nKCl9KSwzNjAsMTUwKSl9OwpEcmF3aW9GaWxlLnByb3RvdHlwZS5zaG93Q29weURpYWxvZz1mdW5jdGlvbihhLGMsZil7dGhpcy5pbnZhbGlkQ2hlY2tzdW09dGhpcy5pbkNvbmZsaWN0U3RhdGU9ITE7dGhpcy5hZGRVbnNhdmVkU3RhdHVzKCk7dGhpcy51aS5zaG93RXJyb3IobXhSZXNvdXJjZXMuZ2V0KCJleHRlcm5hbENoYW5nZXMiKSxteFJlc291cmNlcy5nZXQoImZpbGVDaGFuZ2VkT3ZlcndyaXRlRGlhbG9nIiksbXhSZXNvdXJjZXMuZ2V0KCJtYWtlQ29weSIpLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dGhpcy5jb3B5RmlsZShhLGMpfSksbnVsbCxteFJlc291cmNlcy5nZXQoIm92ZXJ3cml0ZSIpLGYsbXhSZXNvdXJjZXMuZ2V0KCJjYW5jZWwiKSxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMudWkuaGlkZURpYWxvZygpfSksMzYwLDE1MCl9OwpEcmF3aW9GaWxlLnByb3RvdHlwZS5zaG93Q29uZmxpY3REaWFsb2c9ZnVuY3Rpb24oYSxjKXt0aGlzLnVpLnNob3dFcnJvcihteFJlc291cmNlcy5nZXQoImV4dGVybmFsQ2hhbmdlcyIpLG14UmVzb3VyY2VzLmdldCgiZmlsZUNoYW5nZWRTeW5jRGlhbG9nIiksbXhSZXNvdXJjZXMuZ2V0KCJvdmVyd3JpdGUiKSxhLG51bGwsbXhSZXNvdXJjZXMuZ2V0KCJzeW5jaHJvbml6ZSIpLGMsbXhSZXNvdXJjZXMuZ2V0KCJjYW5jZWwiKSxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMudWkuaGlkZURpYWxvZygpO3RoaXMuaGFuZGxlRmlsZUVycm9yKG51bGwsITEpfSksMzQwLDE1MCl9OwpEcmF3aW9GaWxlLnByb3RvdHlwZS5yZWRpcmVjdFRvTmV3QXBwPWZ1bmN0aW9uKGEsYyl7dGhpcy51aS5zcGlubmVyLnN0b3AoKTtpZighdGhpcy5yZWRpcmVjdERpYWxvZ1Nob3dpbmcpe3RoaXMucmVkaXJlY3REaWFsb2dTaG93aW5nPSEwO3ZhciBmPXdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbCsiLy8iK3dpbmRvdy5sb2NhdGlvbi5ob3N0KyIvIit0aGlzLnVpLmdldFNlYXJjaCgiY3JlYXRlIHRpdGxlIG1vZGUgdXJsIGRyaXZlIHNwbGFzaCBzdGF0ZSIuc3BsaXQoIiAiKSkrIiMiK3RoaXMuZ2V0SGFzaCgpLGQ9bXhSZXNvdXJjZXMuZ2V0KCJyZWRpcmVjdFRvTmV3QXBwIik7bnVsbCE9YyYmKGQrPSIgKCIrYysiKSIpO3ZhciBrPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dmFyIGM9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt0aGlzLnJlZGlyZWN0RGlhbG9nU2hvd2luZz0hMTt3aW5kb3cubG9jYXRpb24uaHJlZj09Zj93aW5kb3cubG9jYXRpb24ucmVsb2FkKCk6CndpbmRvdy5sb2NhdGlvbi5ocmVmPWZ9KTtudWxsPT1hJiZ0aGlzLmlzTW9kaWZpZWQoKT90aGlzLnVpLmNvbmZpcm0obXhSZXNvdXJjZXMuZ2V0KCJhbGxDaGFuZ2VzTG9zdCIpLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dGhpcy5yZWRpcmVjdERpYWxvZ1Nob3dpbmc9ITF9KSxjLG14UmVzb3VyY2VzLmdldCgiY2FuY2VsIiksbXhSZXNvdXJjZXMuZ2V0KCJkaXNjYXJkQ2hhbmdlcyIpKTpjKCl9KTtudWxsIT1hP3RoaXMuaXNNb2RpZmllZCgpP3RoaXMudWkuY29uZmlybShkLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dGhpcy5yZWRpcmVjdERpYWxvZ1Nob3dpbmc9ITE7YSgpfSksayxteFJlc291cmNlcy5nZXQoImNhbmNlbCIpLG14UmVzb3VyY2VzLmdldCgiZGlzY2FyZENoYW5nZXMiKSk6dGhpcy51aS5jb25maXJtKGQsayxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMucmVkaXJlY3REaWFsb2dTaG93aW5nPSExO2EoKX0pKTp0aGlzLnVpLmFsZXJ0KG14UmVzb3VyY2VzLmdldCgicmVkaXJlY3RUb05ld0FwcCIpLAprKX19O0RyYXdpb0ZpbGUucHJvdG90eXBlLmhhbmRsZUZpbGVTdWNjZXNzPWZ1bmN0aW9uKGEpe3RoaXMudWkuc3Bpbm5lci5zdG9wKCk7dGhpcy51aS5nZXRDdXJyZW50RmlsZSgpPT10aGlzJiYodGhpcy5pc01vZGlmaWVkKCk/dGhpcy5maWxlQ2hhbmdlZCgpOmE/KHRoaXMuaXNUcmFzaGVkKCk/dGhpcy5hZGRBbGxTYXZlZFN0YXR1cyhteFV0aWxzLmh0bWxFbnRpdGllcyhteFJlc291cmNlcy5nZXQodGhpcy5hbGxDaGFuZ2VzU2F2ZWRLZXkpKSsiICgiK214VXRpbHMuaHRtbEVudGl0aWVzKG14UmVzb3VyY2VzLmdldCgiZmlsZU1vdmVkVG9UcmFzaCIpKSsiKSIpOnRoaXMuYWRkQWxsU2F2ZWRTdGF0dXMoKSxudWxsIT10aGlzLnN5bmMmJih0aGlzLnN5bmMucmVzZXRVcGRhdGVTdGF0dXNUaHJlYWQoKSx0aGlzLnN5bmMucmVtb3RlRmlsZUNoYW5nZWQmJih0aGlzLnN5bmMucmVtb3RlRmlsZUNoYW5nZWQ9ITEsdGhpcy5zeW5jLmZpbGVDaGFuZ2VkTm90aWZ5KCkpKSk6dGhpcy51aS5lZGl0b3Iuc2V0U3RhdHVzKCIiKSl9OwpEcmF3aW9GaWxlLnByb3RvdHlwZS5oYW5kbGVGaWxlRXJyb3I9ZnVuY3Rpb24oYSxjKXt0aGlzLnVpLnNwaW5uZXIuc3RvcCgpO2lmKHRoaXMudWkuZ2V0Q3VycmVudEZpbGUoKT09dGhpcylpZih0aGlzLmluQ29uZmxpY3RTdGF0ZSl0aGlzLmhhbmRsZUNvbmZsaWN0RXJyb3IoYSxjKTtlbHNlIGlmKHRoaXMuaXNNb2RpZmllZCgpJiZ0aGlzLmFkZFVuc2F2ZWRTdGF0dXMoYSksYyl0aGlzLnVpLmhhbmRsZUVycm9yKGEsbnVsbCE9YT9teFJlc291cmNlcy5nZXQoImVycm9yU2F2aW5nRmlsZSIpOm51bGwpO2Vsc2UgaWYoIXRoaXMuaXNNb2RpZmllZCgpKXt2YXIgZj1udWxsIT1hP251bGwhPWEuZXJyb3I/YS5lcnJvci5tZXNzYWdlOmEubWVzc2FnZTpudWxsO251bGwhPWYmJjYwPGYubGVuZ3RoJiYoZj1mLnN1YnN0cmluZygwLDYwKSsiLi4uIik7dGhpcy51aS5lZGl0b3Iuc2V0U3RhdHVzKCc8ZGl2IGNsYXNzPSJnZVN0YXR1c0FsZXJ0IiBzdHlsZT0iY3Vyc29yOnBvaW50ZXI7b3ZlcmZsb3c6aGlkZGVuOyI+JysKbXhVdGlscy5odG1sRW50aXRpZXMobXhSZXNvdXJjZXMuZ2V0KCJlcnJvciIpKSsobnVsbCE9Zj8iICgiK214VXRpbHMuaHRtbEVudGl0aWVzKGYpKyIpIjoiIikrIjwvZGl2PiIpfX07CkRyYXdpb0ZpbGUucHJvdG90eXBlLmhhbmRsZUNvbmZsaWN0RXJyb3I9ZnVuY3Rpb24oYSxjKXt2YXIgZj1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMuaGFuZGxlRmlsZVN1Y2Nlc3MoITApfSksZD1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXt0aGlzLmhhbmRsZUZpbGVFcnJvcihhLCEwKX0pLGs9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt0aGlzLnVpLnNwaW5uZXIuc3Bpbihkb2N1bWVudC5ib2R5LG14UmVzb3VyY2VzLmdldCgic2F2aW5nIikpJiYodGhpcy51aS5lZGl0b3Iuc2V0U3RhdHVzKCIiKSx0aGlzLnNhdmUoITAsZixkLG51bGwsITAsdGhpcy5jb25zdHJ1Y3RvciE9R2l0SHViRmlsZSYmdGhpcy5jb25zdHJ1Y3RvciE9R2l0TGFiRmlsZXx8bnVsbD09YT9udWxsOmEuY29tbWl0TWVzc2FnZSkpfSksbT1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMudWkuc3Bpbm5lci5zcGluKGRvY3VtZW50LmJvZHksbXhSZXNvdXJjZXMuZ2V0KCJ1cGRhdGluZ0RvY3VtZW50IikpJiYKdGhpcy5zeW5jaHJvbml6ZUZpbGUobXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt0aGlzLnVpLnNwaW5uZXIuc3RvcCgpO3RoaXMudWkuc3Bpbm5lci5zcGluKGRvY3VtZW50LmJvZHksbXhSZXNvdXJjZXMuZ2V0KCJzYXZpbmciKSkmJnRoaXMuc2F2ZSghMCxmLGQsbnVsbCxudWxsLHRoaXMuY29uc3RydWN0b3IhPUdpdEh1YkZpbGUmJnRoaXMuY29uc3RydWN0b3IhPUdpdExhYkZpbGV8fG51bGw9PWE/bnVsbDphLmNvbW1pdE1lc3NhZ2UpfSksZCl9KTsibm9uZSI9PURyYXdpb0ZpbGUuU1lOQz90aGlzLnNob3dDb3B5RGlhbG9nKGYsZCxrKTp0aGlzLmludmFsaWRDaGVja3N1bT90aGlzLnNob3dSZWZyZXNoRGlhbG9nKGYsZCx0aGlzLmdldEVycm9yTWVzc2FnZShhKSk6Yz90aGlzLnNob3dDb25mbGljdERpYWxvZyhrLG0pOnRoaXMuYWRkQ29uZmxpY3RTdGF0dXMobXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt0aGlzLnVpLmVkaXRvci5zZXRTdGF0dXMobXhVdGlscy5odG1sRW50aXRpZXMobXhSZXNvdXJjZXMuZ2V0KCJ1cGRhdGluZ0RvY3VtZW50IikpKTsKdGhpcy5zeW5jaHJvbml6ZUZpbGUoZixkKX0pLHRoaXMuZ2V0RXJyb3JNZXNzYWdlKGEpKX07RHJhd2lvRmlsZS5wcm90b3R5cGUuZ2V0RXJyb3JNZXNzYWdlPWZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hP251bGwhPWEuZXJyb3I/YS5lcnJvci5tZXNzYWdlOmEubWVzc2FnZTpudWxsfTtEcmF3aW9GaWxlLnByb3RvdHlwZS5pc092ZXJkdWU9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9dGhpcy5hZ2VTdGFydCYmRGF0ZS5ub3coKS10aGlzLmFnZVN0YXJ0LmdldFRpbWUoKT49dGhpcy51aS53YXJuSW50ZXJ2YWx9OwpEcmF3aW9GaWxlLnByb3RvdHlwZS5maWxlQ2hhbmdlZD1mdW5jdGlvbigpe3RoaXMubGFzdENoYW5nZWQ9bmV3IERhdGU7dGhpcy5zZXRNb2RpZmllZCghMCk7dGhpcy5pc0F1dG9zYXZlKCk/KHRoaXMuYWRkQWxsU2F2ZWRTdGF0dXMobXhVdGlscy5odG1sRW50aXRpZXMobXhSZXNvdXJjZXMuZ2V0KCJzYXZpbmciKSkrIi4uLiIpLHRoaXMudWkuc2NoZWR1bGVTYW5pdHlDaGVjaygpLG51bGw9PXRoaXMuYWdlU3RhcnQmJih0aGlzLmFnZVN0YXJ0PW5ldyBEYXRlKSx0aGlzLmF1dG9zYXZlKHRoaXMuYXV0b3NhdmVEZWxheSx0aGlzLm1heEF1dG9zYXZlRGVsYXksbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7dGhpcy51aS5zdG9wU2FuaXR5Q2hlY2soKTtudWxsPT10aGlzLmF1dG9zYXZlVGhyZWFkPyh0aGlzLmhhbmRsZUZpbGVTdWNjZXNzKCEwKSx0aGlzLmFnZVN0YXJ0PW51bGwpOnRoaXMuaXNNb2RpZmllZCgpJiYodGhpcy51aS5zY2hlZHVsZVNhbml0eUNoZWNrKCksdGhpcy5hZ2VTdGFydD0KdGhpcy5sYXN0Q2hhbmdlZCl9KSxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXt0aGlzLmhhbmRsZUZpbGVFcnJvcihhKX0pKSk6KHRoaXMuYWdlU3RhcnQ9bnVsbCx0aGlzLmlzQXV0b3NhdmVPcHRpb25hbCgpJiZ0aGlzLnVpLmVkaXRvci5hdXRvc2F2ZXx8dGhpcy5pbkNvbmZsaWN0U3RhdGV8fHRoaXMuYWRkVW5zYXZlZFN0YXR1cygpKX07RHJhd2lvRmlsZS5wcm90b3R5cGUuY3JlYXRlU2VjcmV0PWZ1bmN0aW9uKGEsYyl7dmFyIGY9RWRpdG9yLmd1aWQoMzIpO251bGwhPXRoaXMuc3luYz90aGlzLnN5bmMuY3JlYXRlVG9rZW4oZixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihjKXthKGYsYyl9KSxjKTphKGYpfTsKRHJhd2lvRmlsZS5wcm90b3R5cGUuZmlsZVNhdmVkPWZ1bmN0aW9uKGEsYyxmLGQsayl7dGhpcy5sYXN0U2F2ZWQ9bmV3IERhdGU7dGhpcy5hZ2VTdGFydD1udWxsO3RyeXt0aGlzLnN0YXRzLnNhdmVkKyssdGhpcy5pbnZhbGlkQ2hlY2tzdW09dGhpcy5pbkNvbmZsaWN0U3RhdGU9ITEsbnVsbD09dGhpcy5zeW5jPyh0aGlzLnNoYWRvd0RhdGE9YSx0aGlzLnNoYWRvd1BhZ2VzPW51bGwsbnVsbCE9ZiYmZigpKTp0aGlzLnN5bmMuZmlsZVNhdmVkKHRoaXMudWkuZ2V0UGFnZXNGb3JOb2RlKG14VXRpbHMucGFyc2VYbWwoYSkuZG9jdW1lbnRFbGVtZW50KSxjLGYsZCxrKX1jYXRjaChiKXt0aGlzLmludmFsaWRDaGVja3N1bT10aGlzLmluQ29uZmxpY3RTdGF0ZT0hMDt0aGlzLmRlc2NyaXB0b3JDaGFuZ2VkKCk7bnVsbCE9ZCYmZChiKTt0cnl7aWYodGhpcy5lcnJvclJlcG9ydHNFbmFibGVkKXRoaXMuc2VuZEVycm9yUmVwb3J0KCJFcnJvciBpbiBmaWxlU2F2ZWQiLG51bGwsYik7ZWxzZXt2YXIgbT0KdGhpcy5nZXRDdXJyZW50VXNlcigpLHE9bnVsbCE9bT9tLmlkOiJ1bmtub3duIjtFZGl0b3JVaS5sb2dFcnJvcigiRXJyb3IgaW4gZmlsZVNhdmVkIixudWxsLHRoaXMuZ2V0TW9kZSgpKyIuIit0aGlzLmdldElkKCkscSxiKX19Y2F0Y2goZSl7fX19OwpEcmF3aW9GaWxlLnByb3RvdHlwZS5hdXRvc2F2ZT1mdW5jdGlvbihhLGMsZixkKXtudWxsPT10aGlzLmxhc3RBdXRvc2F2ZSYmKHRoaXMubGFzdEF1dG9zYXZlPURhdGUubm93KCkpO2E9RGF0ZS5ub3coKS10aGlzLmxhc3RBdXRvc2F2ZTxjP2E6MDt0aGlzLmNsZWFyQXV0b3NhdmUoKTt2YXIgaz13aW5kb3cuc2V0VGltZW91dChteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMubGFzdEF1dG9zYXZlPW51bGw7dGhpcy5hdXRvc2F2ZVRocmVhZD09ayYmKHRoaXMuYXV0b3NhdmVUaHJlYWQ9bnVsbCk7aWYodGhpcy5pc01vZGlmaWVkKCkmJnRoaXMuaXNBdXRvc2F2ZU5vdygpKXt2YXIgYT10aGlzLmlzQXV0b3NhdmVSZXZpc2lvbigpO2EmJih0aGlzLmxhc3RBdXRvc2F2ZVJldmlzaW9uPShuZXcgRGF0ZSkuZ2V0VGltZSgpKTt0aGlzLnNhdmUoYSxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXt0aGlzLmF1dG9zYXZlQ29tcGxldGVkKCk7bnVsbCE9ZiYmZihhKX0pLG14VXRpbHMuYmluZCh0aGlzLApmdW5jdGlvbihhKXtudWxsIT1kJiZkKGEpfSkpfWVsc2UgdGhpcy5pc01vZGlmaWVkKCl8fHRoaXMudWkuZWRpdG9yLnNldFN0YXR1cygiIiksbnVsbCE9ZiYmZihudWxsKX0pLGEpO3RoaXMuYXV0b3NhdmVUaHJlYWQ9a307RHJhd2lvRmlsZS5wcm90b3R5cGUuaXNBdXRvc2F2ZU5vdz1mdW5jdGlvbigpe3JldHVybiEwfTtEcmF3aW9GaWxlLnByb3RvdHlwZS5hdXRvc2F2ZUNvbXBsZXRlZD1mdW5jdGlvbigpe307RHJhd2lvRmlsZS5wcm90b3R5cGUuY2xlYXJBdXRvc2F2ZT1mdW5jdGlvbigpe251bGwhPXRoaXMuYXV0b3NhdmVUaHJlYWQmJih3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMuYXV0b3NhdmVUaHJlYWQpLHRoaXMuYXV0b3NhdmVUaHJlYWQ9bnVsbCl9OwpEcmF3aW9GaWxlLnByb3RvdHlwZS5pc0F1dG9zYXZlUmV2aXNpb249ZnVuY3Rpb24oKXt2YXIgYT0obmV3IERhdGUpLmdldFRpbWUoKTtyZXR1cm4gbnVsbD09dGhpcy5sYXN0QXV0b3NhdmVSZXZpc2lvbnx8YS10aGlzLmxhc3RBdXRvc2F2ZVJldmlzaW9uPnRoaXMubWF4QXV0b3NhdmVSZXZpc2lvbkRlbGF5fTtEcmF3aW9GaWxlLnByb3RvdHlwZS5kZXNjcmlwdG9yQ2hhbmdlZD1mdW5jdGlvbigpe3RoaXMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KCJkZXNjcmlwdG9yQ2hhbmdlZCIpKX07RHJhd2lvRmlsZS5wcm90b3R5cGUuY29udGVudENoYW5nZWQ9ZnVuY3Rpb24oKXt0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdCgiY29udGVudENoYW5nZWQiKSl9OwpEcmF3aW9GaWxlLnByb3RvdHlwZS5jbG9zZT1mdW5jdGlvbihhKXt0aGlzLnVwZGF0ZUZpbGVEYXRhKCk7dGhpcy5zdGF0cy5jbG9zZWQrKzt0aGlzLmlzQXV0b3NhdmUoKSYmdGhpcy5pc01vZGlmaWVkKCkmJnRoaXMuc2F2ZSh0aGlzLmlzQXV0b3NhdmVSZXZpc2lvbigpLG51bGwsbnVsbCxhKTt0aGlzLmRlc3Ryb3koKX07RHJhd2lvRmlsZS5wcm90b3R5cGUuaGFzU2FtZUV4dGVuc2lvbj1mdW5jdGlvbihhLGMpe2lmKG51bGwhPWEmJm51bGwhPWMpe3ZhciBmPWEubGFzdEluZGV4T2YoIi4iKSxkPTA8Zj9hLnN1YnN0cmluZyhmKToiIixmPWMubGFzdEluZGV4T2YoIi4iKTtyZXR1cm4gZD09PSgwPGY/Yy5zdWJzdHJpbmcoZik6IiIpfXJldHVybiBhPT1jfTsKRHJhd2lvRmlsZS5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXJzPWZ1bmN0aW9uKCl7bnVsbCE9dGhpcy5jaGFuZ2VMaXN0ZW5lciYmKHRoaXMudWkuZWRpdG9yLmdyYXBoLm1vZGVsLnJlbW92ZUxpc3RlbmVyKHRoaXMuY2hhbmdlTGlzdGVuZXIpLHRoaXMudWkuZWRpdG9yLmdyYXBoLnJlbW92ZUxpc3RlbmVyKHRoaXMuY2hhbmdlTGlzdGVuZXIpLHRoaXMudWkucmVtb3ZlTGlzdGVuZXIodGhpcy5jaGFuZ2VMaXN0ZW5lciksdGhpcy5jaGFuZ2VMaXN0ZW5lcj1udWxsKX07RHJhd2lvRmlsZS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuc3RhdHMuZGVzdHJveWVkKys7dGhpcy5jbGVhckF1dG9zYXZlKCk7dGhpcy5yZW1vdmVMaXN0ZW5lcnMoKTtudWxsIT10aGlzLnN5bmMmJih0aGlzLnN5bmMuZGVzdHJveSgpLHRoaXMuc3luYz1udWxsKX07RHJhd2lvRmlsZS5wcm90b3R5cGUuY29tbWVudHNTdXBwb3J0ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4hMX07CkRyYXdpb0ZpbGUucHJvdG90eXBlLmNvbW1lbnRzUmVmcmVzaE5lZWRlZD1mdW5jdGlvbigpe3JldHVybiEwfTtEcmF3aW9GaWxlLnByb3RvdHlwZS5jb21tZW50c1NhdmVOZWVkZWQ9ZnVuY3Rpb24oKXtyZXR1cm4hMX07RHJhd2lvRmlsZS5wcm90b3R5cGUuZ2V0Q29tbWVudHM9ZnVuY3Rpb24oYSxjKXthKFtdKX07RHJhd2lvRmlsZS5wcm90b3R5cGUuYWRkQ29tbWVudD1mdW5jdGlvbihhLGMsZil7YyhEYXRlLm5vdygpKX07RHJhd2lvRmlsZS5wcm90b3R5cGUuY2FuUmVwbHlUb1JlcGxpZXM9ZnVuY3Rpb24oKXtyZXR1cm4hMH07RHJhd2lvRmlsZS5wcm90b3R5cGUuY2FuQ29tbWVudD1mdW5jdGlvbigpe3JldHVybiEwfTtEcmF3aW9GaWxlLnByb3RvdHlwZS5uZXdDb21tZW50PWZ1bmN0aW9uKGEsYyl7cmV0dXJuIG5ldyBEcmF3aW9Db21tZW50KHRoaXMsbnVsbCxhLERhdGUubm93KCksRGF0ZS5ub3coKSwhMSxjKX07TG9jYWxGaWxlPWZ1bmN0aW9uKGEsYyxmLGQpe0RyYXdpb0ZpbGUuY2FsbCh0aGlzLGEsYyk7dGhpcy50aXRsZT1mO3RoaXMubW9kZT1kP251bGw6QXBwLk1PREVfREVWSUNFfTtteFV0aWxzLmV4dGVuZChMb2NhbEZpbGUsRHJhd2lvRmlsZSk7TG9jYWxGaWxlLnByb3RvdHlwZS5pc0F1dG9zYXZlPWZ1bmN0aW9uKCl7cmV0dXJuITF9O0xvY2FsRmlsZS5wcm90b3R5cGUuZ2V0TW9kZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLm1vZGV9O0xvY2FsRmlsZS5wcm90b3R5cGUuZ2V0VGl0bGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50aXRsZX07TG9jYWxGaWxlLnByb3RvdHlwZS5pc1JlbmFtYWJsZT1mdW5jdGlvbigpe3JldHVybiEwfTtMb2NhbEZpbGUucHJvdG90eXBlLnNhdmU9ZnVuY3Rpb24oYSxjLGYpe3RoaXMuc2F2ZUFzKHRoaXMudGl0bGUsYyxmKX07TG9jYWxGaWxlLnByb3RvdHlwZS5zYXZlQXM9ZnVuY3Rpb24oYSxjLGYpe3RoaXMuc2F2ZUZpbGUoYSwhMSxjLGYpfTsKTG9jYWxGaWxlLnByb3RvdHlwZS5zYXZlRmlsZT1mdW5jdGlvbihhLGMsZixkKXt0aGlzLnRpdGxlPWE7dGhpcy51cGRhdGVGaWxlRGF0YSgpO2M9dGhpcy5nZXREYXRhKCk7dmFyIGs9dGhpcy51aS51c2VDYW52YXNGb3JFeHBvcnQmJi8oXC5wbmcpJC9pLnRlc3QodGhpcy5nZXRUaXRsZSgpKSxtPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGMpe2lmKHRoaXMudWkuaXNPZmZsaW5lQXBwKCl8fHRoaXMudWkuaXNMb2NhbEZpbGVTYXZlKCkpdGhpcy51aS5kb1NhdmVMb2NhbEZpbGUoYyxhLGs/ImltYWdlL3BuZyI6InRleHQveG1sIixrKTtlbHNlIGlmKGMubGVuZ3RoPE1BWF9SRVFVRVNUX1NJWkUpe3ZhciBiPWEubGFzdEluZGV4T2YoIi4iKSxiPTA8Yj9hLnN1YnN0cmluZyhiKzEpOiJ4bWwiOyhuZXcgbXhYbWxSZXF1ZXN0KFNBVkVfVVJMLCJmb3JtYXQ9IitiKyImeG1sPSIrZW5jb2RlVVJJQ29tcG9uZW50KGMpKyImZmlsZW5hbWU9IitlbmNvZGVVUklDb21wb25lbnQoYSkrCihrPyImYmluYXJ5PTEiOiIiKSkpLnNpbXVsYXRlKGRvY3VtZW50LCJfYmxhbmsiKX1lbHNlIHRoaXMudWkuaGFuZGxlRXJyb3Ioe21lc3NhZ2U6bXhSZXNvdXJjZXMuZ2V0KCJkcmF3aW5nVG9vTGFyZ2UiKX0sbXhSZXNvdXJjZXMuZ2V0KCJlcnJvciIpLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7bXhVdGlscy5wb3B1cChjKX0pKTt0aGlzLnNldE1vZGlmaWVkKCExKTt0aGlzLmNvbnRlbnRDaGFuZ2VkKCk7bnVsbCE9ZiYmZigpfSk7az8oYz10aGlzLnVpLmdldFBuZ0ZpbGVQcm9wZXJ0aWVzKHRoaXMudWkuZmlsZU5vZGUpLHRoaXMudWkuZ2V0RW1iZWRkZWRQbmcobXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7bShhKX0pLGQsdGhpcy51aS5nZXRDdXJyZW50RmlsZSgpIT10aGlzP3RoaXMuZ2V0RGF0YSgpOm51bGwsYy5zY2FsZSxjLmJvcmRlcikpOm0oYyl9OwpMb2NhbEZpbGUucHJvdG90eXBlLnJlbmFtZT1mdW5jdGlvbihhLGMsZil7dGhpcy50aXRsZT1hO3RoaXMuZGVzY3JpcHRvckNoYW5nZWQoKTtudWxsIT1jJiZjKCl9O0xvY2FsRmlsZS5wcm90b3R5cGUub3Blbj1mdW5jdGlvbigpe3RoaXMudWkuc2V0RmlsZURhdGEodGhpcy5nZXREYXRhKCkpO3RoaXMuaW5zdGFsbExpc3RlbmVycygpfTsoZnVuY3Rpb24oKXtFZGl0b3IucHJvdG90eXBlLmFwcE5hbWU9ImRpYWdyYW1zLm5ldCI7RWRpdG9yLnByb3RvdHlwZS5kaWFncmFtRmlsZVR5cGVzPVt7ZGVzY3JpcHRpb246ImRpYWdyYW1YbWxEZXNjIixleHRlbnNpb246ImRyYXdpbyJ9LHtkZXNjcmlwdGlvbjoiZGlhZ3JhbVBuZ0Rlc2MiLGV4dGVuc2lvbjoicG5nIn0se2Rlc2NyaXB0aW9uOiJkaWFncmFtU3ZnRGVzYyIsZXh0ZW5zaW9uOiJzdmcifSx7ZGVzY3JpcHRpb246ImRpYWdyYW1IdG1sRGVzYyIsZXh0ZW5zaW9uOiJodG1sIn0se2Rlc2NyaXB0aW9uOiJkaWFncmFtWG1sRGVzYyIsZXh0ZW5zaW9uOiJ4bWwifV07RWRpdG9yLnByb3RvdHlwZS5saWJyYXJ5RmlsZVR5cGVzPVt7ZGVzY3JpcHRpb246IkxpYnJhcnkgKC5kcmF3aW9saWIsIC54bWwpIixleHRlbnNpb25zOlsiZHJhd2lvbGliIiwieG1sIl19XTtFZGl0b3IucHJvdG90eXBlLmZpbGVFeHRlbnNpb25zPVt7ZXh0OiJodG1sIix0aXRsZToiZmlsZXR5cGVIdG1sIn0sCntleHQ6InBuZyIsdGl0bGU6ImZpbGV0eXBlUG5nIn0se2V4dDoic3ZnIix0aXRsZToiZmlsZXR5cGVTdmcifV07RWRpdG9yLmNsb3NlSW1hZ2U9bXhDbGllbnQuSVNfU1ZHPyJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUJrQUFBQVpDQU1BQUFEek4zVlJBQUFBcFZCTVZFVUFBQUQvLy8vazVPVC8vLzhBQUFCMWRYWE16TXo5L2YzOS9mMzcrL3Y1K2ZuKy92Ny8vLzlpWW1KYVdscUZoWVducDZlam82T0hoNGYvLy8vLy8vLy8vLy8vLy8vNysvdjUrZm54OGZILy8vOEFBQUQvLy84Ykd4djcrL3Y1K2Zrb0tDZ2hJU0ZEUTBNWUdCamg0ZUhZMk5qYjI5dFFVRkJ2YjI5SFIwYy9QejgyTmpZckt5dS92NzhTRWhMdTd1N3M3T3pWMWRWVlZWVTdPenNWRlJYQXY3OFFFQkJ6cWVoTUFBQUFHM1JTVGxNQUEvN3Avdno1eFpsclRpUEwvdjc4Ky92NytPWGQyVFlRRHM4TDcwWmJBQUFCS1VsRVFWUW96M1ZTMTNMQ01CQlVYSENoZDhpdWtEc2xRQ2hKL3YvVGNoYUc0Y1hTK09TYjFjN3RyVTdWNjBPcGRSejJadE5aTDR6WE5sY044QkV0U0c2K054SVhrZVJQb0J1UTFjanZaMzEvVkpGQjEwSVNsaTZkaVlmSDhpWU8zV1VOQ2NObEIwZ1RyWE90a3hUbzBPMWFLS2lCQk1oaHYyTU5CUUtvaUE1d3hsWm8wSkR6RDNBWUtiV2FjeWozZnMwMXd4ZXkwcHlFUCtSOHBXS1dYb3F0SVowRERnNXBia2k5a3JFS09hNkxWRFFzZG9YRXNpNDZacWg2OUtGejdCMXU3SGIyeURWOGZpclhES0JsWjRVRmlzd0tHUmhYVFM5My9FQ0s3eXhuSjMrUzN5L1RocE8rY2ZTRDAxN25xYTE4YWFzYWJVMC90N2QrdGswLzFvTUVKMU5hRDY3aXdkRjY4T2FiRlNMbitlSGIwK3ZqeSt1azhicjlmZHJmdEgwTzJtZW5mZDcrQVFmWU0vbE5qb0RIQUFBQUFFbEZUa1N1UW1DQyI6CklNQUdFX1BBVEgrIi9kZWxldGUucG5nIjtFZGl0b3IucGx1c0ltYWdlPW14Q2xpZW50LklTX1NWRz8iZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFBb0FBQUFLQ0FZQUFBQ05Ncys5QUFBQUdYUkZXSFJUYjJaMGQyRnlaUUJCWkc5aVpTQkpiV0ZuWlZKbFlXUjVjY2xsUEFBQUF5SnBWRmgwV0UxTU9tTnZiUzVoWkc5aVpTNTRiWEFBQUFBQUFEdy9lSEJoWTJ0bGRDQmlaV2RwYmowaTc3dS9JaUJwWkQwaVZ6Vk5NRTF3UTJWb2FVaDZjbVZUZWs1VVkzcHJZemxrSWo4K0lEeDRPbmh0Y0cxbGRHRWdlRzFzYm5NNmVEMGlZV1J2WW1VNmJuTTZiV1YwWVM4aUlIZzZlRzF3ZEdzOUlrRmtiMkpsSUZoTlVDQkRiM0psSURVdU1DMWpNRFl3SURZeExqRXpORGMzTnl3Z01qQXhNQzh3TWk4eE1pMHhOem96TWpvd01DQWdJQ0FnSUNBZ0lqNGdQSEprWmpwU1JFWWdlRzFzYm5NNmNtUm1QU0pvZEhSd09pOHZkM2QzTG5jekxtOXlaeTh4T1RrNUx6QXlMekl5TFhKa1ppMXplVzUwWVhndGJuTWpJajRnUEhKa1pqcEVaWE5qY21sd2RHbHZiaUJ5WkdZNllXSnZkWFE5SWlJZ2VHMXNibk02ZUcxd1BTSm9kSFJ3T2k4dmJuTXVZV1J2WW1VdVkyOXRMM2hoY0M4eExqQXZJaUI0Yld4dWN6cDRiWEJOVFQwaWFIUjBjRG92TDI1ekxtRmtiMkpsTG1OdmJTOTRZWEF2TVM0d0wyMXRMeUlnZUcxc2JuTTZjM1JTWldZOUltaDBkSEE2THk5dWN5NWhaRzlpWlM1amIyMHZlR0Z3THpFdU1DOXpWSGx3WlM5U1pYTnZkWEpqWlZKbFppTWlJSGh0Y0RwRGNtVmhkRzl5Vkc5dmJEMGlRV1J2WW1VZ1VHaHZkRzl6YUc5d0lFTlROU0JOWVdOcGJuUnZjMmdpSUhodGNFMU5Pa2x1YzNSaGJtTmxTVVE5SW5odGNDNXBhV1E2TURkQ01UZEVOalZDT0VNNE1URkZORGxDUmpWQk5EZENPRFU1TmpOQk5VTWlJSGh0Y0UxTk9rUnZZM1Z0Wlc1MFNVUTlJbmh0Y0M1a2FXUTZNRGRDTVRkRU5qWkNPRU00TVRGRk5EbENSalZCTkRkQ09EVTVOak5CTlVNaVBpQThlRzF3VFUwNlJHVnlhWFpsWkVaeWIyMGdjM1JTWldZNmFXNXpkR0Z1WTJWSlJEMGllRzF3TG1scFpEb3dOMEl4TjBRMk0wSTRRemd4TVVVME9VSkdOVUUwTjBJNE5UazJNMEUxUXlJZ2MzUlNaV1k2Wkc5amRXMWxiblJKUkQwaWVHMXdMbVJwWkRvd04wSXhOMFEyTkVJNFF6Z3hNVVUwT1VKR05VRTBOMEk0TlRrMk0wRTFReUl2UGlBOEwzSmtaanBFWlhOamNtbHdkR2x2Ymo0Z1BDOXlaR1k2VWtSR1BpQThMM2c2ZUcxd2JXVjBZVDRnUEQ5NGNHRmphMlYwSUdWdVpEMGljaUkvUHRqcmptZ0FBQUF0U1VSQlZIamFZdnovL3o4RE1pZ3ZMd2NMZEhaMk1pS0xNekVRQ2FpdmtMR3NyT3cvZFUwY0FyNEdDREFBUlFzUWJURnJ2MTBBQUFBQVNVVk9SSzVDWUlJPSI6CklNQUdFX1BBVEgrIi9wbHVzLnBuZyI7RWRpdG9yLnNwaW5JbWFnZT1teENsaWVudC5JU19TVkc/ImRhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCxSMGxHT0RsaERBQU1BUFV4QUVWcmlWcDdsbUNBbW1HQm0yT0NuR21IbjNPUHBuZVNxWUticjRPY3NJU2NzSTJrdG82a3Q0Nmx0NUtudVptdHZwcXV2cHV2djU2eXdhQ3p3cUsxeEt1N3lheTl5cSsvekxIQXpiZkYwYmpHMGJ6SjFMeksxTUROMThqVDI4blQzTTNYM3RIYTRkVGM0OVhkNU5qZjVkbmc1dDNrNmQvbDZ1RG02dXJ1OGU3eDgvRHo5ZlQyOS9iNCtQajUrZmo1K3ZyNit2Ly8vd0FBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFDSDVCQWtLQURFQUlmOExUa1ZVVTBOQlVFVXlMakFEQVFBQUFDd0FBQUFBREFBTUFBQUdSOENZY0Vnc09nWUFJYXg0Q0NRdVFsZHJDQkVzaUs4VlMyaG9GR09ybEpEQStjWlF3a0xucXlvSkZaS3ZpU1MwSUNyRTBlYzBqREF3SWlVZUd5QkZHaE1QRkJraFpvMUJBQ0g1QkFrS0FDNEFMQUFBQUFBTUFBd0FoVkIwa0ZSM2sxVjRrMkNBbW1XRW5XNkxvM0tPcFhlU3FIMlhySU9jc0lTZHNJbWh0SXFodEpDbXVKR251WnV3djUyd3dKK3l3Wit5d3FtNnlMSEJ6YkxDenJYRXo3ZkYwTG5IMHJySTByN0wxYi9NMXNYUjJjZlQyOHJWM2N6VzNzL1o0TmZlNU52aTZPRG02dUxuNitMbjdPTG83T1hxN2Vmczcrenc4dS95OVBEeTlQWDMrUHI3Ky8vLy93QUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFaRFFKZHdTQ3hHREFJQW9WRmtGQndZU3lJd0dFNE9rQ0p4SWRHNldrSkV4OHNTS2o3ZWxmQkIwYTVTUWcxRVEwU1ZWTVBLaERNNmlVSWtSUjRaRnhzZ0psNkpRUUFoK1FRSkNnQXhBQ3dBQUFBQURBQU1BSVZHYTRsY2ZaZGpncHhrZzUxbmhwNXVpNk4za3FoNWxLcUZuYkdIbjdLSW9MT1FwN2lScDdtU3FMbVRxYnFhcnI2YnI3K2Zzc0dpdGNPaXRjU3V2c3V1djh1d3dNeXp3ODYxeE5DNXg5SzZ4OUsvek5iRHp0akUwTm5HMGRySjFOelEyZURTMitMVDIrTFYzZVBaNE9iYTRlYmI0dWZjNCtqbTYrN3Q4UEx0OFBQdDhmUHg4L1h4OVBYMDl2ZjE5L2ozK1BuLy8vOEFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBR1E4Q1ljRWdzVWhRRmdnRlNqQ1FtbkUxamNCaHFHQlhpSXVBUVNpN0ZHRUlnZkl6Q0ZvQ1hGQ1ppUE8waEtCTWl3bDdFVDZlVVlxbFdMa1VuSVNJbUtDMXhiVUVBSWZrRUNRb0FNZ0FzQUFBQUFBd0FEQUNGVG5LUFQzS1BWSGFUWW9LY2I0eWpjWTZsZVpTcGY1bXRnWnV2aDUreWlxRzBpNksxanFXM2thZTVuckhCbnJMQm43TENvTFBDb2JURHFicklxcnZJczhMT3RNUFB0Y1BQdGNUUHVNYlJ1Y2ZTdmNyVXZzdlZ3TXpXeGRIYXlkVGN5dFhkek5iZXpkZmYwZHJoMk9EbDIrTG4zZVRwNE9icTR1anM1T250NXV2dTZPM3c2dTd3NnU3eDcvTDA5dmo1K3ZyNyt2djcvLy8vQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUJrZEFtWEJJTEhJY2ljT0NVcXhFTEtLUHhLQVlnaVlkNG9NQUVXbzhSVm1qSU1TY3dobUJjSk1LWHdMQ0VDbU1HQWhQSTFRUndCaWFTaXhDTURGaExTb3JMaTh3WVl4Q1FRQWgrUVFKQ2dBeEFDd0FBQUFBREFBTUFJVlplcFZnZ0pwaGdadG5ocDV2aktOMmthaDNrcW1CbXErS29iU0xvcldOcExhUnA3bVdxN3licjcrZ3M4S2l0Y1NrdHNXbnVNYW51Y2V4d00yeXdjNjN4dEc2eU5POXl0Uyt5dFcvek5iRHo5akgwdHZMMWQzTjE5N1MyK0xVM09QVTNlUFYzZVRYMytYYTRlZmI0dWZkNU9ubDZ1N3I3dkhzNy9MdDhQTHc4L1h5OVBieTlmYjA5ZmYyK1BuMytQbjYrdnIvLy84QUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFHU01DWWNFZ3NlaXdTUitSUzdHQTRKRkdGOFJpV05pRWlKVEVSZ2tqRkdBUWgvS1RDR29Kd3BBcG5Ca0lUS3J3b0NGV25GbEVoYUF4WExDOUNCd0FHUlM0d1FnRUxZWTFDUVFBaCtRUUpDZ0F6QUN3QUFBQUFEQUFNQUlWTWNJNVNkWkZoZ1p0dGk2SndqYVI0azZtQW1hNkNtNitLb2JTTG9yV0xvN1dObzdhUHByZWRzTUNlc2NHaXRNT2l0Y1NtdU1hcXU4aXh3YzJ6d3M2M3hkQzR4dEc1eDlLOXl0WEF6ZGZDenRqRjBObkYwZHJLMWQzTTF0N1AyTi9QMmVEVDIrTFgzK1hlNU9uaDUrdmk1K3ZqNk96azZlM243Ty9vN08vcTd2SHM3L0x0OFBQdThmUHg4L1gzK1BuNit2djcrL3Y4L1B6Ly8vOEFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUdSY0NaY0Vnc21rSWJUT1pUTElsR3FaTm5jaG0yU0NnaUo2SVJxbGpGbVFVaVhJVm5vSVRRZGU0Y2hDOVkrTEVReG1URlJrRlNORkFxREFNSVJRb0NBQUVFRG1lTFFRQWgrUVFKQ2dBd0FDd0FBQUFBREFBTUFJVlhlWlJlZnBsZmY1bGhnWnRwaDU5eWpxVjJrYWVBbXE2Rm5iR0ZuckdMb3JXTnBMYVFwN21ScUxtWXJiMmVzc0dnczhLbHQ4YXB1c2l0dmNxdXY4dTJ4TkM3eU5POHlkUzh5dFRBemRmQnpkZk0xdDdOMTk3UTJlRFUzT1BYMytYWjRPYlo0ZWJjNCtqZjVlcmc1ZXJnNXV2cDdmRHU4ZlB2OHZUejlmYjA5dmYxOS9qMytQbjQrZm41K3ZyNisvdi8vLzhBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFHUlVDWWNFZ3Nwa3dqRUtoVVZKMVFzQk5wMHhtMlZpeGlTT01Sdmx4RkdBY1RKb29rNWVFSEloUWN3cFdJa0FGUUVDa055OUFRV0Z3eUVBa1BSUTRGQXdRSUUybGxRUUFoK1FRSkNnQXZBQ3dBQUFBQURBQU1BSVZOY1k1U2RaRmlncHRwaDZCdmpLTjBrS2Q4bHF1QW1xK0VuYkdHbjdLSG43T05wTGFPcGJlYXJyK2NzTUNkc2NDZXNjR2h0TU9udU1hdXZzdXp3czYwdzg2MnhkQzl5dFcveTlhL3pOYkN6dGpHMGRySDB0dksxTjNNMXQ3TjE5L1UzZVBiNHVmZjV1cmo2T3prNmUzbDZ1N202dTdvN1BEcTd2RHQ4UFB2OHZUdzh2VHc4L1gxOXZmNit2di8vLzhBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBR1E4Q1hjRWdzdmx5dFZVcGxKTEpJcFNFRFVFU0ZURUxCd1NnQ0NRRVY0MmtqREZpTW80dVFzREIyTWtMSG9FSFVURDdEUkFIQzhWQWlaMFFTQ2dZSUR4aE5pVUVBT3c9PSI6CklNQUdFX1BBVEgrIi9zcGluLmdpZiI7RWRpdG9yLmdsb2JlSW1hZ2U9ImRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5QjRiV3h1Y3owaWFIUjBjRG92TDNkM2R5NTNNeTV2Y21jdk1qQXdNQzl6ZG1jaUlIZHBaSFJvUFNJeU5DSWdhR1ZwWjJoMFBTSXlOQ0lnZG1sbGQwSnZlRDBpTUNBd0lESTBJREkwSWo0OGNHRjBhQ0JrUFNKTk1URXVPVGtnTWtNMkxqUTNJRElnTWlBMkxqUTRJRElnTVRKek5DNDBOeUF4TUNBNUxqazVJREV3UXpFM0xqVXlJREl5SURJeUlERTNMalV5SURJeUlERXlVekUzTGpVeUlESWdNVEV1T1RrZ01ucHROaTQ1TXlBMmFDMHlMamsxWXkwdU16SXRNUzR5TlMwdU56Z3RNaTQwTlMweExqTTRMVE11TlRZZ01TNDROQzQyTXlBekxqTTNJREV1T1RFZ05DNHpNeUF6TGpVMmVrMHhNaUEwTGpBMFl5NDRNeUF4TGpJZ01TNDBPQ0F5TGpVeklERXVPVEVnTXk0NU5tZ3RNeTQ0TW1NdU5ETXRNUzQwTXlBeExqQTRMVEl1TnpZZ01TNDVNUzB6TGprMmVrMDBMakkySURFMFF6UXVNU0F4TXk0ek5pQTBJREV5TGpZNUlEUWdNVEp6TGpFdE1TNHpOaTR5TmkweWFETXVNemhqTFM0d09DNDJOaTB1TVRRZ01TNHpNaTB1TVRRZ01pQXdJQzQyT0M0d05pQXhMak0wTGpFMElESklOQzR5Tm5wdExqZ3lJREpvTWk0NU5XTXVNeklnTVM0eU5TNDNPQ0F5TGpRMUlERXVNemdnTXk0MU5pMHhMamcwTFM0Mk15MHpMak0zTFRFdU9TMDBMak16TFRNdU5UWjZiVEl1T1RVdE9FZzFMakE0WXk0NU5pMHhMalkySURJdU5Ea3RNaTQ1TXlBMExqTXpMVE11TlRaRE9DNDRNU0ExTGpVMUlEZ3VNelVnTmk0M05TQTRMakF6SURoNlRURXlJREU1TGprMll5MHVPRE10TVM0eUxURXVORGd0TWk0MU15MHhMamt4TFRNdU9UWm9NeTQ0TW1NdExqUXpJREV1TkRNdE1TNHdPQ0F5TGpjMkxURXVPVEVnTXk0NU5ucE5NVFF1TXpRZ01UUklPUzQyTm1NdExqQTVMUzQyTmkwdU1UWXRNUzR6TWkwdU1UWXRNaUF3TFM0Mk9DNHdOeTB4TGpNMUxqRTJMVEpvTkM0Mk9HTXVNRGt1TmpVdU1UWWdNUzR6TWk0eE5pQXlJREFnTGpZNExTNHdOeUF4TGpNMExTNHhOaUF5ZW0wdU1qVWdOUzQxTm1NdU5pMHhMakV4SURFdU1EWXRNaTR6TVNBeExqTTRMVE11TlRab01pNDVOV010TGprMklERXVOalV0TWk0ME9TQXlMamt6TFRRdU16TWdNeTQxTm5wTk1UWXVNellnTVRSakxqQTRMUzQyTmk0eE5DMHhMak15TGpFMExUSWdNQzB1TmpndExqQTJMVEV1TXpRdExqRTBMVEpvTXk0ek9HTXVNVFl1TmpRdU1qWWdNUzR6TVM0eU5pQXljeTB1TVNBeExqTTJMUzR5TmlBeWFDMHpMak00ZWlJdlBqd3ZjM1puUGc9PSI7CkVkaXRvci5jb21tZW50SW1hZ2U9ImRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5QjRiV3h1Y3owaWFIUjBjRG92TDNkM2R5NTNNeTV2Y21jdk1qQXdNQzl6ZG1jaUlIZHBaSFJvUFNJeU5DSWdhR1ZwWjJoMFBTSXlOQ0lnZG1sbGQwSnZlRDBpTUNBd0lESTBJREkwSWo0OGNHRjBhQ0JrUFNKTk1qRXVPVGtnTkdNd0xURXVNUzB1T0RrdE1pMHhMams1TFRKSU5HTXRNUzR4SURBdE1pQXVPUzB5SURKMk1USmpNQ0F4TGpFdU9TQXlJRElnTW1neE5HdzBJRFF0TGpBeExURTRlazB4T0NBeE5FZzJkaTB5YURFeWRqSjZiVEF0TTBnMlZqbG9NVEoyTW5wdE1DMHpTRFpXTm1neE1uWXllaUl2UGp4d1lYUm9JR1E5SWswd0lEQm9NalIyTWpSSU1Ib2lJR1pwYkd3OUltNXZibVVpTHo0OEwzTjJaejQ9IjtFZGl0b3IuY29tbWVudEltYWdlSW52ZXJ0ZWQ9ImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQ0FBQUFBZ0NBWUFBQUJ6ZW5yMEFBQUJMRWxFUVZSWVIrMld2eTRGUVJqRmY0ZElOQXE5WHF0U2FWUnFYQXJQSU5Fb2RVcWxoeEM1L3BVNm5ZZFFTSFFlUVRSSE50bVZ1WHVYckl4djFrMXNONXZNT2I4NWM3NWt4TUNmQnZabkNzRDJFckFHekFmQXZVdDZUSFVuQUd3ZkFXZkFRb0I1STNraDZhQlpmQUxZWGdHZWc4MGIzMVZKVDlVaUJSZ0I0OENUcDlMYmt1N2FBUHZBWlNHQUhVbTNzd0VnS1d0VWJic2oxZjRKREE0QWJHYjI0aUVyZ1V6enI3YnZTcnJwVmNLZ0s1Z2hnS0FPOUUvZ3Z3TkJKUnhKdXU0MUJVRWQrQkZBUkEzK0pzQVdjQjl4M0E3TnpnU3F0K0FMc0Z3QVlocWdNclc5VWI4SjE0RzVRSkJ1Z0FoRDJ5ZkFhVXQ3VDlMVnhCaEdtRGVhdG8vclpKdGZaUUhxNjAwaHlnUFVFSWZBT1RBTVFBTHhXclFEN1g3WlhwVDBWcXlFM3hVODY4bjlHNVB6QVNQdnBpSGF2QkFVQUFBQUFFbEZUa1N1UW1DQyI7CkVkaXRvci51c2VySW1hZ2U9ImRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5QjRiV3h1Y3owaWFIUjBjRG92TDNkM2R5NTNNeTV2Y21jdk1qQXdNQzl6ZG1jaUlIZHBaSFJvUFNJeU5DSWdhR1ZwWjJoMFBTSXlOQ0lnZG1sbGQwSnZlRDBpTUNBd0lESTBJREkwSWo0OGNHRjBhQ0JrUFNKTk1USWdNVEpqTWk0eU1TQXdJRFF0TVM0M09TQTBMVFJ6TFRFdU56a3ROQzAwTFRRdE5DQXhMamM1TFRRZ05DQXhMamM1SURRZ05DQTBlbTB3SURKakxUSXVOamNnTUMwNElERXVNelF0T0NBMGRqSm9NVFoyTFRKak1DMHlMalkyTFRVdU16TXROQzA0TFRSNklpOCtQQzl6ZG1jKyI7RWRpdG9yLnNoYXJlSW1hZ2U9ImRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5QjRiV3h1Y3owaWFIUjBjRG92TDNkM2R5NTNNeTV2Y21jdk1qQXdNQzl6ZG1jaUlIZHBaSFJvUFNJeU5DSWdhR1ZwWjJoMFBTSXlOQ0lnZG1sbGQwSnZlRDBpTUNBd0lESTBJREkwSWo0OGNHRjBhQ0JrUFNKTk1UZ2dNVFl1TURoakxTNDNOaUF3TFRFdU5EUXVNeTB4TGprMkxqYzNURGd1T1RFZ01USXVOMk11TURVdExqSXpMakE1TFM0ME5pNHdPUzB1TjNNdExqQTBMUzQwTnkwdU1Ea3RMamRzTnk0d05TMDBMakV4WXk0MU5DNDFJREV1TWpVdU9ERWdNaTR3TkM0NE1TQXhMalkySURBZ015MHhMak0wSURNdE0zTXRNUzR6TkMwekxUTXRNeTB6SURFdU16UXRNeUF6WXpBZ0xqSTBMakEwTGpRM0xqQTVMamRNT0M0d05DQTVMamd4UXpjdU5TQTVMak14SURZdU56a2dPU0EySURsakxURXVOallnTUMweklERXVNelF0TXlBemN6RXVNelFnTXlBeklETmpMamM1SURBZ01TNDFMUzR6TVNBeUxqQTBMUzQ0TVd3M0xqRXlJRFF1TVRaakxTNHdOUzR5TVMwdU1EZ3VORE10TGpBNExqWTFJREFnTVM0Mk1TQXhMak14SURJdU9USWdNaTQ1TWlBeUxqa3lJREV1TmpFZ01DQXlMamt5TFRFdU16RWdNaTQ1TWkweUxqa3ljeTB4TGpNeExUSXVPVEl0TWk0NU1pMHlMamt5ZWlJdlBqd3ZjM1puUGc9PSI7CkVkaXRvci5zeW5jSW1hZ2U9ImRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5QjRiV3h1Y3owaWFIUjBjRG92TDNkM2R5NTNNeTV2Y21jdk1qQXdNQzl6ZG1jaUlIZHBaSFJvUFNJeU5DSWdhR1ZwWjJoMFBTSXlOQ0lnZG1sbGQwSnZlRDBpTUNBd0lESTBJREkwSWo0OGNHRjBhQ0JrUFNKTk1USWdORll4VERnZ05XdzBJRFJXTm1NekxqTXhJREFnTmlBeUxqWTVJRFlnTmlBd0lERXVNREV0TGpJMUlERXVPVGN0TGpjZ01pNDRiREV1TkRZZ01TNDBOa014T1M0MU5DQXhOUzR3TXlBeU1DQXhNeTQxTnlBeU1DQXhNbU13TFRRdU5ESXRNeTQxT0MwNExUZ3RPSHB0TUNBeE5HTXRNeTR6TVNBd0xUWXRNaTQyT1MwMkxUWWdNQzB4TGpBeExqSTFMVEV1T1RjdU55MHlMamhNTlM0eU5DQTNMamMwUXpRdU5EWWdPQzQ1TnlBMElERXdMalF6SURRZ01USmpNQ0EwTGpReUlETXVOVGdnT0NBNElEaDJNMncwTFRRdE5DMDBkak42SWk4K1BDOXpkbWMrIjtFZGl0b3Iuc3luY0Rpc2FibGVkSW1hZ2U9CiJkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBITjJaeUI0Yld4dWN6MGlhSFIwY0RvdkwzZDNkeTUzTXk1dmNtY3ZNakF3TUM5emRtY2lJSGRwWkhSb1BTSXlOQ0lnYUdWcFoyaDBQU0l5TkNJZ2RtbGxkMEp2ZUQwaU1DQXdJREkwSURJMElqNDhjR0YwYUNCa1BTSk5NVEFnTmk0ek5WWTBMakkyWXkwdU9DNHlNUzB4TGpVMUxqVTBMVEl1TWpNdU9UWnNNUzQwTmlBeExqUTJZeTR5TlMwdU1USXVOUzB1TWpRdU56Y3RMak16ZW0wdE55NHhOQzB1T1RSc01pNHpOaUF5TGpNMlF6UXVORFVnT0M0NU9TQTBJREV3TGpRMElEUWdNVEpqTUNBeUxqSXhMamt4SURRdU1pQXlMak0ySURVdU5qUk1OQ0F5TUdnMmRpMDJiQzB5TGpJMElESXVNalJETmk0Mk9DQXhOUzR4TlNBMklERXpMalkySURZZ01USmpNQzB4SUM0eU5TMHhMamswTGpZNExUSXVOemRzT0M0d09DQTRMakE0WXkwdU1qVXVNVE10TGpVdU1qVXRMamMzTGpNMGRqSXVNRGxqTGpndExqSXhJREV1TlRVdExqVTBJREl1TWpNdExqazJiREl1TXpZZ01pNHpOaUF4TGpJM0xURXVNamRNTkM0eE5DQTBMakUwSURJdU9EWWdOUzQwTVhwTk1qQWdOR2d0Tm5ZMmJESXVNalF0TWk0eU5FTXhOeTR6TWlBNExqZzFJREU0SURFd0xqTTBJREU0SURFeVl6QWdNUzB1TWpVZ01TNDVOQzB1TmpnZ01pNDNOMnd4TGpRMklERXVORFpETVRrdU5UVWdNVFV1TURFZ01qQWdNVE11TlRZZ01qQWdNVEpqTUMweUxqSXhMUzQ1TVMwMExqSXRNaTR6TmkwMUxqWTBUREl3SURSNklpOCtQQzl6ZG1jKyI7CkVkaXRvci5zeW5jUHJvYmxlbUltYWdlPSJkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBITjJaeUI0Yld4dWN6MGlhSFIwY0RvdkwzZDNkeTUzTXk1dmNtY3ZNakF3TUM5emRtY2lJSGRwWkhSb1BTSXlOQ0lnYUdWcFoyaDBQU0l5TkNJZ2RtbGxkMEp2ZUQwaU1DQXdJREkwSURJMElqNDhjR0YwYUNCa1BTSk5NeUF4TW1Nd0lESXVNakV1T1RFZ05DNHlJREl1TXpZZ05TNDJORXd6SURJd2FEWjJMVFpzTFRJdU1qUWdNaTR5TkVNMUxqWTRJREUxTGpFMUlEVWdNVE11TmpZZ05TQXhNbU13TFRJdU5qRWdNUzQyTnkwMExqZ3pJRFF0TlM0Mk5WWTBMakkyUXpVdU5UVWdOUzR4TlNBeklEZ3VNamNnTXlBeE1ucHRPQ0ExYURKMkxUSm9MVEoyTW5wTk1qRWdOR2d0Tm5ZMmJESXVNalF0TWk0eU5FTXhPQzR6TWlBNExqZzFJREU1SURFd0xqTTBJREU1SURFeVl6QWdNaTQyTVMweExqWTNJRFF1T0RNdE5DQTFMalkxZGpJdU1EbGpNeTQwTlMwdU9Ea2dOaTAwTGpBeElEWXROeTQzTkNBd0xUSXVNakV0TGpreExUUXVNaTB5TGpNMkxUVXVOalJNTWpFZ05IcHRMVEV3SURsb01sWTNhQzB5ZGpaNklpOCtQQzl6ZG1jKyI7CkVkaXRvci50d2VldEltYWdlPUlNQUdFX1BBVEgrIi90d2VldC5wbmciO0VkaXRvci5mYWNlYm9va0ltYWdlPUlNQUdFX1BBVEgrIi9mYWNlYm9vay5wbmciO0VkaXRvci5ibGFua0ltYWdlPSJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUFFQUFBQUJDQVlBQUFBZkZjU0pBQUFBQ2tsRVFWUjRuR01BQVFBQUJRQUJEUW90dEFBQUFBQkpSVTVFcmtKZ2dnPT0iO0VkaXRvci5oaVJlc0ltYWdlPW14Q2xpZW50LklTX1NWRz8iZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFGQUFBQUErQ0FNQUFBQ0xNV3kxQUFBQWgxQk1WRVVBQUFCTVRFeEVSRVJCUVVGQlFVRkZSVVZBUUVCQ1FrSkFRRUE2T2pwRFEwTktTa3BCUVVGQlFVRkVSRVJFUkVSQlFVRkNRa0pDUWtKQ1FrSkpTVWxCUVVGQ1FrSkRRME5EUTBOQ1FrSkRRME5CUVVGQlFVRkNRa0pCUVVGQ1FrSkNRa0pEUTBOQ1FrSkhSMGRCUVVGQ1FrSkNRa0pBUUVCQ1FrSkRRME5BUUVCRVJFUkNRa0lrMWhTMkFBQUFLblJTVGxNQUFqajk2Qkw3UGdRRlJ3ZnUzVFlhekt1VmpSWGwxVjFEUENuMXVMR2puV05WSWd5OWhVNDBlR3FQa00zOEFBQUNHMGxFUVZSWXcrMlg2M0tiTUJDRnp3WmJsZ0dEY2VONzRtdWF0cExlLy9tNk1IVjNnSEdGQXYyUmpNOTRNQWJ4emRuVnNRYkJES3dIOEFIOE1EQXlhZnpqcVlleU9HMDRYRTdSUzhuSVJEWGc2QmxUK3JBMG5tdEFQaCtOUVJEeElBU0lNRzQ0ckFNckd1bkJnSHd5M3VVbGR4Z2dJU3RHS3AyZitEUWMyTzRoNGVRc1gzTzJJRkIvb0Vic2pPS2JTdG5qQUVBK3pKMHlsWlRiZ3ZvRG44eE55bjZEYmo1S2Q0R3NOcEFCYTZkdVFQZlNkRWo4OFRnTUFoS3VDV2pBa2dtRlhQTG5zRDBwV2QzT0ZHZHJNdWdRSUkvZU9NUEVpR096cVBNSWVXcmNTb01DZzcxVzFwWEJQdkNQK2dTL09kWHFRM3VXMjMrOTNYR1dMbC9PYUJiODA1Yk5jQlBvRUljVkpzbkh6Y3hwWkg4NnU1S1o5Z0RieTVkUUNjbktxZGJrZTRJdEk0VHpkN0lXOWhaUXQ0RU82R0c5YjlzWXV1SzlXd244VElyMnhLYkYyKzNOaHIrcXhDaEovQUk2cElmQ3U0ejRab3dwNFpVTmloejc5dmV3emN0bkhEd1R2UU8vaENkRkJ6clVHRE9QbjJZL0Y4WUtUNG9PQVRMdmxoT3puem1CU2RGQkpXdGM1OHk3citVVkZPQ1Fjenkzd3BONnBlZ0RxSHRzQ1BUR3ZIOUp1VE8wRHlnOGljbGRZUGsrUkI2ZzhBb2ZqNG0yRUtCdnRUbVVQRDl4RGQxcFBjU1JlVjJVNWlEL2lrMnlybmd0dnZxQmZQek92S2lEVEtUc0Nkb0haSjdwTExmZmdUd2xKNXZKZHRKVjIvamlBWWFMdkxHaE1BRURPNVFjRGcyTS9qT3cvOFpuK0szWndKdkhUN1pmZmdDL052QTN6Y3liVGVJZkU0RUFBQUFBU1VWT1JLNUNZSUk9IjoKSU1BR0VfUEFUSCsiL2ltZy1oaS1yZXMucG5nIjtFZGl0b3IubG9SZXNJbWFnZT1teENsaWVudC5JU19TVkc/ImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBRkFBQUFBK0NBTUFBQUNMTVd5MUFBQUFTMUJNVkVWQVFFQUFBQUExTlRWQlFVRkRRME5EUTBORlJVVkVSRVJCUVVGQlFVRkJRVUZBUUVCQlFVRkJRVUZDUWtKQ1FrSkNRa0pCUVVGQ1FrSkRRME5EUTBOQ1FrSkNRa0pDUWtKR1JrYjUvWHFUQUFBQUdYUlNUbFArQUFXT0RsQVNDc2VzWCtMYzJMeVdlM3B3YTF0Q1Bqb2hqU0pmb0FBQUFJMUpSRUZVV01QdDFNa0toVEFNUnVHMGFudm5lWHIvSjcxblV5cEtjZHFJL044eWhMTUtNWkUxQ2FobkNsRFF6TVBCNDRFRDNFZ2VDdWJnRFduV1FNSHB3VHRLd1RlK1VIRDRzSjk0d2JVRUhIRkdoSUxsWURlU25zUWVhYmVDZ3NQQmdCME1PWlo5b0dBNUdKRmlKU2ZVVUxBZmpMakFScmhDd1g3d2gyWUNEd1Zid1prVUJLcUZGSlJOK3dPY3dTZ1Iyc1JFY2dBQUFBQkpSVTVFcmtKZ2dnPT0iOgpJTUFHRV9QQVRIKyIvaW1nLWxvLXJlcy5wbmciO0VkaXRvci5jYW1lcmFMYXJnZUltYWdlPSJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUNBQUFBQWdDQVlBQUFCemVucjBBQUFBQVhOU1IwSUFyczRjNlFBQUFBbHdTRmx6QUFBTEV3QUFDeE1CQUpxY0dBQUFBVmxwVkZoMFdFMU1PbU52YlM1aFpHOWlaUzU0YlhBQUFBQUFBRHg0T25odGNHMWxkR0VnZUcxc2JuTTZlRDBpWVdSdlltVTZibk02YldWMFlTOGlJSGc2ZUcxd2RHczlJbGhOVUNCRGIzSmxJRFV1TkM0d0lqNEtJQ0FnUEhKa1pqcFNSRVlnZUcxc2JuTTZjbVJtUFNKb2RIUndPaTh2ZDNkM0xuY3pMbTl5Wnk4eE9UazVMekF5THpJeUxYSmtaaTF6ZVc1MFlYZ3Ribk1qSWo0S0lDQWdJQ0FnUEhKa1pqcEVaWE5qY21sd2RHbHZiaUJ5WkdZNllXSnZkWFE5SWlJS0lDQWdJQ0FnSUNBZ0lDQWdlRzFzYm5NNmRHbG1aajBpYUhSMGNEb3ZMMjV6TG1Ga2IySmxMbU52YlM5MGFXWm1MekV1TUM4aVBnb2dJQ0FnSUNBZ0lDQThkR2xtWmpwUGNtbGxiblJoZEdsdmJqNHhQQzkwYVdabU9rOXlhV1Z1ZEdGMGFXOXVQZ29nSUNBZ0lDQThMM0prWmpwRVpYTmpjbWx3ZEdsdmJqNEtJQ0FnUEM5eVpHWTZVa1JHUGdvOEwzZzZlRzF3YldWMFlUNEtUTUluV1FBQUEvQkpSRUZVV0FuRmwwdUlqV0VZeDg4NWJ1UFN1R3dtU1l3dHdzWTFpa0tTTllOY2xtUW5hZGdyWlNQbHNuQkxTbGFHQmROWUtZMFZkaTRMNHpZeklxeEd4bVhHLy9kKzcvLzArdVk3bldNaVQvMi81M21mKzN2N3ZuTktwZjlNNVVickR3OFBqNG0rd3ptZVQxRkJVUzZYZitZTm94NnJlTU9OdWtpak1YVVRNM05tSTc1UHlYY0pQd1JXZzVrUzd4eXNETE5tZkVVeHB4MnJjZU5FNTBJbFlqeVJrbGNMZjBwclkreDRCVHFmbXgzWlVIUWFPOUlTR25nWXEzOFYvMUVIK0VDUGErUWFLMXUxa1ZCUWlyRE1DaGlTM0NUZUlrd1d2Z2h0d2hLQnBaOGcxQ08yQjk5RnluVlUvS293U1JnUTNtbHJCc1ZaMWF3bVFsUzBTR2JmWGdsZkJQYmRSR01tNU84UlhnMlA4MzVwREN2eldqZ2hUSEVUY0xwWkxId1M4a1RDdEJFSzFTTjgzRWdhbThZeHlWWnFjK0RvNXFrd1MrZ1Q5Z3JOd2tVQkc2Y2JzRy9nczNCVHVDLzBDaEN4cTRRdHdnekJNZHdVWkJQeU40RnRmaTRzWVBaSGt0Yk9TUmxJdXV0UlA1allqMHVlWnA4OHh5WWNTL3pab2lMeVFUMUlBL2NUajdlU2x3bnJoSStKbmtRYkN3bzJTeC8yTTdWSnQxN3dkaFZ0Z3h2cnBvRm5BdVNBYkpROTdiaVpBbEt4QmZEOXdnT2hWK0JnSVIvQVp0SjRrd0Q1UEdTajdPbW1la2pXRXkwb0FRSEFTMytLcEJwelhxWUszVUl0b3BIcFNSTW5vMk4rY203Z0RZbmZSQ2NyM1FCcXJpTUhMSkRrZXloRmZpRzVhVmJLKzhyaHRQOU02UWNJRUpIWDVGcDlOTUF5UWxZaXUrT09KTmxPRENJWHlrYS9QMjNibmNUZGlDN095ZEMxK3YxQnNiKzVyODRESzhTM1JkbWY1Y1JVRlczYlh0V1VTdDFSZGs2RzRTeUpWMm8xWUlkK3ZOVXhyK3g1eUNKaWFwRnRjeFF6TGpyeGJvR2NNeHZGSndFT0tuTHdqSWJreC9zZFNtZVNhVVkrK1N3VEF4Vis0REpUN1JWd2tiazQ2Z05Dc2lmSUl0dXkwZTlQRjMzQ2I0aG9taE41WVJ5ekw1cTVWMlZOa3Y5OGtxZ29HVG8zWUY5Q25NTTVZNXJJdEZmdkJTaTlKdWxWWE9nSStWd0ludGt0K1NhWjZ3ZVFmY292SmY3enBUZmw4NlAvd0FGN0Z6MThOZUt3bXZBV0NhWDBaL3VNSFFyNDJaeHZSL1J4Y3c1eE0rOUovQ0pxOHcyZ2R1RGhtRGdzby9RckJINDdkRVhRMUlxY3p5SHBJT2ZJUnRuVHRWN1N3TzFvS1hLa1UzZmJUb0ZHU0RIdE1XY2FIMVdCdVZZbkRiUkZpOTlpcVNNeVNkenhYY2tyYXpVaDIzS0JWWUdJY2ZOQmtUeGNhMGU0QVRKMEt1a0dZVkJnci9NbmxoUE90UXEva3NVZkNiemgrRUZDanRuQ1VvSGZqaEEvT3NpVHYySGNFdkpNRUxwMFZha1pEbGlUbXJpVGRQaXZ4VTRWbUVodFByR1YrS0poTzdaS3QwZG9GWmgxZmdaU0JXSVcyQUdFSHdnM0JVV09uS3RIK3N1cWR3MDd0WU1mZ2xDcldQRDVtdzlxVll1bmlhWGtUME90V2FTdW81TEpUWTFSQmYrcm9GOVg1K3kvNXFVK0RBQUFBQUJKUlU1RXJrSmdnZz09IjsKRWRpdG9yLnN2Z0Jyb2tlbkltYWdlPUdyYXBoLmNyZWF0ZVN2Z0ltYWdlKDEwLDEwLCc8cmVjdCB4PSIwIiB5PSIwIiB3aWR0aD0iMTAiIGhlaWdodD0iMTAiIHN0cm9rZT0iIzAwMCIgZmlsbD0idHJhbnNwYXJlbnQiLz48cGF0aCBkPSJtIDAgMCBMIDEwIDEwIEwgMCAxMCBMIDEwIDAiIHN0cm9rZT0iIzAwMCIgZmlsbD0idHJhbnNwYXJlbnQiLz4nKTtFZGl0b3IuZGVmYXVsdEN1c3RvbUxpYnJhcmllcz1bXTtFZGl0b3IuZW5hYmxlQ3VzdG9tTGlicmFyaWVzPSEwO0VkaXRvci5lbmFibGVDdXN0b21Qcm9wZXJ0aWVzPSEwO0VkaXRvci5jb21wcmVzc1htbD0hMDtFZGl0b3IuZ2xvYmFsVmFycz1udWxsO0VkaXRvci5zaGFkb3dPcHRpb25FbmFibGVkPSFteENsaWVudC5JU19TRjtFZGl0b3IuY29uZmlnPW51bGw7RWRpdG9yLmNvbmZpZ1ZlcnNpb249bnVsbDtFZGl0b3IuY29tbW9uRWRnZVByb3BlcnRpZXM9W3t0eXBlOiJzZXBhcmF0b3IifSx7bmFtZToiYXJjU2l6ZSIsZGlzcE5hbWU6IkFyYyBTaXplIiwKdHlwZToiZmxvYXQiLG1pbjowLGRlZlZhbDpteENvbnN0YW50cy5MSU5FX0FSQ1NJWkV9LHtuYW1lOiJzb3VyY2VQb3J0Q29uc3RyYWludCIsZGlzcE5hbWU6IlNvdXJjZSBDb25zdHJhaW50Iix0eXBlOiJlbnVtIixkZWZWYWw6Im5vbmUiLGVudW1MaXN0Olt7dmFsOiJub25lIixkaXNwTmFtZToiTm9uZSJ9LHt2YWw6Im5vcnRoIixkaXNwTmFtZToiTm9ydGgifSx7dmFsOiJlYXN0IixkaXNwTmFtZToiRWFzdCJ9LHt2YWw6InNvdXRoIixkaXNwTmFtZToiU291dGgifSx7dmFsOiJ3ZXN0IixkaXNwTmFtZToiV2VzdCJ9XX0se25hbWU6InRhcmdldFBvcnRDb25zdHJhaW50IixkaXNwTmFtZToiVGFyZ2V0IENvbnN0cmFpbnQiLHR5cGU6ImVudW0iLGRlZlZhbDoibm9uZSIsZW51bUxpc3Q6W3t2YWw6Im5vbmUiLGRpc3BOYW1lOiJOb25lIn0se3ZhbDoibm9ydGgiLGRpc3BOYW1lOiJOb3J0aCJ9LHt2YWw6ImVhc3QiLGRpc3BOYW1lOiJFYXN0In0se3ZhbDoic291dGgiLGRpc3BOYW1lOiJTb3V0aCJ9LAp7dmFsOiJ3ZXN0IixkaXNwTmFtZToiV2VzdCJ9XX0se25hbWU6ImpldHR5U2l6ZSIsZGlzcE5hbWU6IkpldHR5IFNpemUiLHR5cGU6ImludCIsbWluOjAsZGVmVmFsOiJhdXRvIixhbGxvd0F1dG86ITAsaXNWaXNpYmxlOmZ1bmN0aW9uKGEpe3JldHVybiJvcnRob2dvbmFsRWRnZVN0eWxlIj09bXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0VER0UsbnVsbCl9fSx7bmFtZToiZmlsbE9wYWNpdHkiLGRpc3BOYW1lOiJGaWxsIE9wYWNpdHkiLHR5cGU6ImludCIsbWluOjAsbWF4OjEwMCxkZWZWYWw6MTAwfSx7bmFtZToic3Ryb2tlT3BhY2l0eSIsZGlzcE5hbWU6IlN0cm9rZSBPcGFjaXR5Iix0eXBlOiJpbnQiLG1pbjowLG1heDoxMDAsZGVmVmFsOjEwMH0se25hbWU6InN0YXJ0RmlsbCIsZGlzcE5hbWU6IlN0YXJ0IEZpbGwiLHR5cGU6ImJvb2wiLGRlZlZhbDohMH0se25hbWU6ImVuZEZpbGwiLGRpc3BOYW1lOiJFbmQgRmlsbCIsdHlwZToiYm9vbCIsZGVmVmFsOiEwfSwKe25hbWU6InBlcmltZXRlclNwYWNpbmciLGRpc3BOYW1lOiJUZXJtaW5hbCBTcGFjaW5nIix0eXBlOiJmbG9hdCIsZGVmVmFsOjB9LHtuYW1lOiJhbmNob3JQb2ludERpcmVjdGlvbiIsZGlzcE5hbWU6IkFuY2hvciBEaXJlY3Rpb24iLHR5cGU6ImJvb2wiLGRlZlZhbDohMH0se25hbWU6InNuYXBUb1BvaW50IixkaXNwTmFtZToiU25hcCB0byBQb2ludCIsdHlwZToiYm9vbCIsZGVmVmFsOiExfSx7bmFtZToiZml4RGFzaCIsZGlzcE5hbWU6IkZpeGVkIERhc2giLHR5cGU6ImJvb2wiLGRlZlZhbDohMX0se25hbWU6ImppZ2dsZSIsZGlzcE5hbWU6IkppZ2dsZSIsdHlwZToiZmxvYXQiLG1pbjowLGRlZlZhbDoxLjUsaXNWaXNpYmxlOmZ1bmN0aW9uKGEpe3JldHVybiIxIj09bXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLCJjb21pYyIsIjAiKX19LHtuYW1lOiJlZGl0YWJsZSIsZGlzcE5hbWU6IkVkaXRhYmxlIix0eXBlOiJib29sIixkZWZWYWw6ITB9LHtuYW1lOiJiYWNrZ3JvdW5kT3V0bGluZSIsCmRpc3BOYW1lOiJCYWNrZ3JvdW5kIE91dGxpbmUiLHR5cGU6ImJvb2wiLGRlZlZhbDohMX0se25hbWU6ImJlbmRhYmxlIixkaXNwTmFtZToiQmVuZGFibGUiLHR5cGU6ImJvb2wiLGRlZlZhbDohMH0se25hbWU6Im1vdmFibGUiLGRpc3BOYW1lOiJNb3ZhYmxlIix0eXBlOiJib29sIixkZWZWYWw6ITB9LHtuYW1lOiJjbG9uZWFibGUiLGRpc3BOYW1lOiJDbG9uZWFibGUiLHR5cGU6ImJvb2wiLGRlZlZhbDohMH0se25hbWU6ImRlbGV0YWJsZSIsZGlzcE5hbWU6IkRlbGV0YWJsZSIsdHlwZToiYm9vbCIsZGVmVmFsOiEwfSx7bmFtZToib3J0aG9nb25hbExvb3AiLGRpc3BOYW1lOiJMb29wIFJvdXRpbmciLHR5cGU6ImJvb2wiLGRlZlZhbDohMX0se25hbWU6Im5vSnVtcCIsZGlzcE5hbWU6Ik5vIEp1bXBzIix0eXBlOiJib29sIixkZWZWYWw6ITF9XTtFZGl0b3IuY29tbW9uVmVydGV4UHJvcGVydGllcz1be3R5cGU6InNlcGFyYXRvciJ9LHtuYW1lOiJmaWxsT3BhY2l0eSIsZGlzcE5hbWU6IkZpbGwgT3BhY2l0eSIsCnR5cGU6ImludCIsbWluOjAsbWF4OjEwMCxkZWZWYWw6MTAwfSx7bmFtZToic3Ryb2tlT3BhY2l0eSIsZGlzcE5hbWU6IlN0cm9rZSBPcGFjaXR5Iix0eXBlOiJpbnQiLG1pbjowLG1heDoxMDAsZGVmVmFsOjEwMH0se25hbWU6Im92ZXJmbG93IixkaXNwTmFtZToiVGV4dCBPdmVyZmxvdyIsZGVmVmFsOiJ2aXNpYmxlIix0eXBlOiJlbnVtIixlbnVtTGlzdDpbe3ZhbDoidmlzaWJsZSIsZGlzcE5hbWU6IlZpc2libGUifSx7dmFsOiJoaWRkZW4iLGRpc3BOYW1lOiJIaWRkZW4ifSx7dmFsOiJmaWxsIixkaXNwTmFtZToiRmlsbCJ9LHt2YWw6IndpZHRoIixkaXNwTmFtZToiV2lkdGgifV19LHtuYW1lOiJub0xhYmVsIixkaXNwTmFtZToiSGlkZSBMYWJlbCIsdHlwZToiYm9vbCIsZGVmVmFsOiExfSx7bmFtZToibGFiZWxQYWRkaW5nIixkaXNwTmFtZToiTGFiZWwgUGFkZGluZyIsdHlwZToiZmxvYXQiLGRlZlZhbDowfSx7bmFtZToiZGlyZWN0aW9uIixkaXNwTmFtZToiRGlyZWN0aW9uIiwKdHlwZToiZW51bSIsZGVmVmFsOiJlYXN0IixlbnVtTGlzdDpbe3ZhbDoibm9ydGgiLGRpc3BOYW1lOiJOb3J0aCJ9LHt2YWw6ImVhc3QiLGRpc3BOYW1lOiJFYXN0In0se3ZhbDoic291dGgiLGRpc3BOYW1lOiJTb3V0aCJ9LHt2YWw6Indlc3QiLGRpc3BOYW1lOiJXZXN0In1dfSx7bmFtZToicG9ydENvbnN0cmFpbnQiLGRpc3BOYW1lOiJDb25zdHJhaW50Iix0eXBlOiJlbnVtIixkZWZWYWw6Im5vbmUiLGVudW1MaXN0Olt7dmFsOiJub25lIixkaXNwTmFtZToiTm9uZSJ9LHt2YWw6Im5vcnRoIixkaXNwTmFtZToiTm9ydGgifSx7dmFsOiJlYXN0IixkaXNwTmFtZToiRWFzdCJ9LHt2YWw6InNvdXRoIixkaXNwTmFtZToiU291dGgifSx7dmFsOiJ3ZXN0IixkaXNwTmFtZToiV2VzdCJ9XX0se25hbWU6InBvcnRDb25zdHJhaW50Um90YXRpb24iLGRpc3BOYW1lOiJSb3RhdGUgQ29uc3RyYWludCIsdHlwZToiYm9vbCIsZGVmVmFsOiExfSx7bmFtZToiY29ubmVjdGFibGUiLGRpc3BOYW1lOiJDb25uZWN0YWJsZSIsCnR5cGU6ImJvb2wiLGRlZlZhbDohMH0se25hbWU6ImFsbG93QXJyb3dzIixkaXNwTmFtZToiQWxsb3cgQXJyb3dzIix0eXBlOiJib29sIixkZWZWYWw6ITB9LHtuYW1lOiJzbmFwVG9Qb2ludCIsZGlzcE5hbWU6IlNuYXAgdG8gUG9pbnQiLHR5cGU6ImJvb2wiLGRlZlZhbDohMX0se25hbWU6InBlcmltZXRlciIsZGlzcE5hbWU6IlBlcmltZXRlciIsZGVmVmFsOiJub25lIix0eXBlOiJlbnVtIixlbnVtTGlzdDpbe3ZhbDoibm9uZSIsZGlzcE5hbWU6Ik5vbmUifSx7dmFsOiJyZWN0YW5nbGVQZXJpbWV0ZXIiLGRpc3BOYW1lOiJSZWN0YW5nbGUifSx7dmFsOiJlbGxpcHNlUGVyaW1ldGVyIixkaXNwTmFtZToiRWxsaXBzZSJ9LHt2YWw6InJob21idXNQZXJpbWV0ZXIiLGRpc3BOYW1lOiJSaG9tYnVzIn0se3ZhbDoidHJpYW5nbGVQZXJpbWV0ZXIiLGRpc3BOYW1lOiJUcmlhbmdsZSJ9LHt2YWw6ImhleGFnb25QZXJpbWV0ZXIyIixkaXNwTmFtZToiSGV4YWdvbiJ9LHt2YWw6ImxpZmVsaW5lUGVyaW1ldGVyIiwKZGlzcE5hbWU6IkxpZmVsaW5lIn0se3ZhbDoib3J0aG9nb25hbFBlcmltZXRlciIsZGlzcE5hbWU6Ik9ydGhvZ29uYWwifSx7dmFsOiJiYWNrYm9uZVBlcmltZXRlciIsZGlzcE5hbWU6IkJhY2tib25lIn0se3ZhbDoiY2FsbG91dFBlcmltZXRlciIsZGlzcE5hbWU6IkNhbGxvdXQifSx7dmFsOiJwYXJhbGxlbG9ncmFtUGVyaW1ldGVyIixkaXNwTmFtZToiUGFyYWxsZWxvZ3JhbSJ9LHt2YWw6InRyYXBlem9pZFBlcmltZXRlciIsZGlzcE5hbWU6IlRyYXBlem9pZCJ9LHt2YWw6InN0ZXBQZXJpbWV0ZXIiLGRpc3BOYW1lOiJTdGVwIn1dfSx7bmFtZToiZml4RGFzaCIsZGlzcE5hbWU6IkZpeGVkIERhc2giLHR5cGU6ImJvb2wiLGRlZlZhbDohMX0se25hbWU6ImppZ2dsZSIsZGlzcE5hbWU6IkppZ2dsZSIsdHlwZToiZmxvYXQiLG1pbjowLGRlZlZhbDoxLjUsaXNWaXNpYmxlOmZ1bmN0aW9uKGEsYil7cmV0dXJuIjEiPT1teFV0aWxzLmdldFZhbHVlKGEuc3R5bGUsImNvbWljIiwiMCIpfX0sCntuYW1lOiJhdXRvc2l6ZSIsZGlzcE5hbWU6IkF1dG9zaXplIix0eXBlOiJib29sIixkZWZWYWw6ITF9LHtuYW1lOiJjb250YWluZXIiLGRpc3BOYW1lOiJDb250YWluZXIiLHR5cGU6ImJvb2wiLGRlZlZhbDohMSxpc1Zpc2libGU6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gMT09YS52ZXJ0aWNlcy5sZW5ndGgmJjA9PWEuZWRnZXMubGVuZ3RofX0se25hbWU6ImRyb3BUYXJnZXQiLGRpc3BOYW1lOiJEcm9wIFRhcmdldCIsdHlwZToiYm9vbCIsZ2V0RGVmYXVsdFZhbHVlOmZ1bmN0aW9uKGEsYil7dmFyIGU9MT09YS52ZXJ0aWNlcy5sZW5ndGgmJjA9PWEuZWRnZXMubGVuZ3RoP2EudmVydGljZXNbMF06bnVsbCxjPWIuZWRpdG9yVWkuZWRpdG9yLmdyYXBoO3JldHVybiBudWxsIT1lJiYoYy5pc1N3aW1sYW5lKGUpfHwwPGMubW9kZWwuZ2V0Q2hpbGRDb3VudChlKSl9LGlzVmlzaWJsZTpmdW5jdGlvbihhLGIpe3JldHVybiAxPT1hLnZlcnRpY2VzLmxlbmd0aCYmMD09YS5lZGdlcy5sZW5ndGh9fSwKe25hbWU6ImNvbGxhcHNpYmxlIixkaXNwTmFtZToiQ29sbGFwc2libGUiLHR5cGU6ImJvb2wiLGdldERlZmF1bHRWYWx1ZTpmdW5jdGlvbihhLGIpe3ZhciBlPTE9PWEudmVydGljZXMubGVuZ3RoJiYwPT1hLmVkZ2VzLmxlbmd0aD9hLnZlcnRpY2VzWzBdOm51bGwsYz1iLmVkaXRvclVpLmVkaXRvci5ncmFwaDtyZXR1cm4gbnVsbCE9ZSYmKGMuaXNDb250YWluZXIoZSkmJiIwIiE9YS5zdHlsZS5jb2xsYXBzaWJsZXx8IWMuaXNDb250YWluZXIoZSkmJiIxIj09YS5zdHlsZS5jb2xsYXBzaWJsZSl9LGlzVmlzaWJsZTpmdW5jdGlvbihhLGIpe3JldHVybiAxPT1hLnZlcnRpY2VzLmxlbmd0aCYmMD09YS5lZGdlcy5sZW5ndGh9fSx7bmFtZToicmVjdXJzaXZlUmVzaXplIixkaXNwTmFtZToiUmVzaXplIENoaWxkcmVuIix0eXBlOiJib29sIixkZWZWYWw6ITAsaXNWaXNpYmxlOmZ1bmN0aW9uKGEsYil7cmV0dXJuIDE9PWEudmVydGljZXMubGVuZ3RoJiYwPT1hLmVkZ2VzLmxlbmd0aCYmCiFiLmVkaXRvclVpLmVkaXRvci5ncmFwaC5pc1N3aW1sYW5lKGEudmVydGljZXNbMF0pJiZudWxsPT1teFV0aWxzLmdldFZhbHVlKGEuc3R5bGUsImNoaWxkTGF5b3V0IixudWxsKX19LHtuYW1lOiJleHBhbmQiLGRpc3BOYW1lOiJFeHBhbmQiLHR5cGU6ImJvb2wiLGRlZlZhbDohMH0se25hbWU6InBhcnQiLGRpc3BOYW1lOiJQYXJ0Iix0eXBlOiJib29sIixkZWZWYWw6ITEsaXNWaXNpYmxlOmZ1bmN0aW9uKGEsYil7dmFyIGU9Yi5lZGl0b3JVaS5lZGl0b3IuZ3JhcGgubW9kZWw7cmV0dXJuIDA8YS52ZXJ0aWNlcy5sZW5ndGg/ZS5pc1ZlcnRleChlLmdldFBhcmVudChhLnZlcnRpY2VzWzBdKSk6ITF9fSx7bmFtZToiZWRpdGFibGUiLGRpc3BOYW1lOiJFZGl0YWJsZSIsdHlwZToiYm9vbCIsZGVmVmFsOiEwfSx7bmFtZToiYmFja2dyb3VuZE91dGxpbmUiLGRpc3BOYW1lOiJCYWNrZ3JvdW5kIE91dGxpbmUiLHR5cGU6ImJvb2wiLGRlZlZhbDohMX0se25hbWU6Im1vdmFibGUiLGRpc3BOYW1lOiJNb3ZhYmxlIiwKdHlwZToiYm9vbCIsZGVmVmFsOiEwfSx7bmFtZToibW92YWJsZUxhYmVsIixkaXNwTmFtZToiTW92YWJsZSBMYWJlbCIsdHlwZToiYm9vbCIsZGVmVmFsOiExLGlzVmlzaWJsZTpmdW5jdGlvbihhLGIpe3ZhciBlPTA8YS52ZXJ0aWNlcy5sZW5ndGg/Yi5lZGl0b3JVaS5lZGl0b3IuZ3JhcGguZ2V0Q2VsbEdlb21ldHJ5KGEudmVydGljZXNbMF0pOm51bGw7cmV0dXJuIG51bGwhPWUmJiFlLnJlbGF0aXZlfX0se25hbWU6InJlc2l6YWJsZSIsZGlzcE5hbWU6IlJlc2l6YWJsZSIsdHlwZToiYm9vbCIsZGVmVmFsOiEwfSx7bmFtZToicmVzaXplV2lkdGgiLGRpc3BOYW1lOiJSZXNpemUgV2lkdGgiLHR5cGU6ImJvb2wiLGRlZlZhbDohMX0se25hbWU6InJlc2l6ZUhlaWdodCIsZGlzcE5hbWU6IlJlc2l6ZSBIZWlnaHQiLHR5cGU6ImJvb2wiLGRlZlZhbDohMX0se25hbWU6InJvdGF0YWJsZSIsZGlzcE5hbWU6IlJvdGF0YWJsZSIsdHlwZToiYm9vbCIsZGVmVmFsOiEwfSx7bmFtZToiY2xvbmVhYmxlIiwKZGlzcE5hbWU6IkNsb25lYWJsZSIsdHlwZToiYm9vbCIsZGVmVmFsOiEwfSx7bmFtZToiZGVsZXRhYmxlIixkaXNwTmFtZToiRGVsZXRhYmxlIix0eXBlOiJib29sIixkZWZWYWw6ITB9LHtuYW1lOiJ0cmVlRm9sZGluZyIsZGlzcE5hbWU6IlRyZWUgRm9sZGluZyIsdHlwZToiYm9vbCIsZGVmVmFsOiExfSx7bmFtZToidHJlZU1vdmluZyIsZGlzcE5hbWU6IlRyZWUgTW92aW5nIix0eXBlOiJib29sIixkZWZWYWw6ITF9LHtuYW1lOiJwb2ludGVyRXZlbnRzIixkaXNwTmFtZToiUG9pbnRlciBFdmVudHMiLHR5cGU6ImJvb2wiLGRlZlZhbDohMCxpc1Zpc2libGU6ZnVuY3Rpb24oYSxiKXt2YXIgZT1teFV0aWxzLmdldFZhbHVlKGEuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfRklMTENPTE9SLG51bGwpO3JldHVybiBiLmVkaXRvclVpLmVkaXRvci5ncmFwaC5pc1N3aW1sYW5lKGEudmVydGljZXNbMF0pfHxudWxsPT1lfHxlPT1teENvbnN0YW50cy5OT05FfX0se25hbWU6Im1vdmVDZWxscyIsCmRpc3BOYW1lOiJNb3ZlIENlbGxzIG9uIEZvbGQiLHR5cGU6ImJvb2wiLGRlZlZhbDohMSxpc1Zpc2libGU6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gMDxhLnZlcnRpY2VzLmxlbmd0aCYmYi5lZGl0b3JVaS5lZGl0b3IuZ3JhcGguaXNDb250YWluZXIoYS52ZXJ0aWNlc1swXSl9fV07RWRpdG9yLmRlZmF1bHRDc3ZWYWx1ZT0nIyNcbiMjIEV4YW1wbGUgQ1NWIGltcG9ydC4gVXNlICMjIGZvciBjb21tZW50cyBhbmQgIyBmb3IgY29uZmlndXJhdGlvbi4gUGFzdGUgQ1NWIGJlbG93LlxuIyMgVGhlIGZvbGxvd2luZyBuYW1lcyBhcmUgcmVzZXJ2ZWQgYW5kIHNob3VsZCBub3QgYmUgdXNlZCAob3IgaWdub3JlZCk6XG4jIyBpZCwgdG9vbHRpcCwgcGxhY2Vob2xkZXIocyksIGxpbmsgYW5kIGxhYmVsIChzZWUgYmVsb3cpXG4jI1xuI1xuIyMgTm9kZSBsYWJlbCB3aXRoIHBsYWNlaG9sZGVycyBhbmQgSFRNTC5cbiMjIERlZmF1bHQgaXMgXCclbmFtZV9vZl9maXJzdF9jb2x1bW4lXCcuXG4jXG4jIGxhYmVsOiAlbmFtZSU8YnI+PGkgc3R5bGU9ImNvbG9yOmdyYXk7Ij4lcG9zaXRpb24lPC9pPjxicj48YSBocmVmPSJtYWlsdG86JWVtYWlsJSI+RW1haWw8L2E+XG4jXG4jIyBOb2RlIHN0eWxlIChwbGFjZWhvbGRlcnMgYXJlIHJlcGxhY2VkIG9uY2UpLlxuIyMgRGVmYXVsdCBpcyB0aGUgY3VycmVudCBzdHlsZSBmb3Igbm9kZXMuXG4jXG4jIHN0eWxlOiBsYWJlbDtpbWFnZT0laW1hZ2UlO3doaXRlU3BhY2U9d3JhcDtodG1sPTE7cm91bmRlZD0xO2ZpbGxDb2xvcj0lZmlsbCU7c3Ryb2tlQ29sb3I9JXN0cm9rZSU7XG4jXG4jIyBQYXJlbnQgc3R5bGUgZm9yIG5vZGVzIHdpdGggY2hpbGQgbm9kZXMgKHBsYWNlaG9sZGVycyBhcmUgcmVwbGFjZWQgb25jZSkuXG4jXG4jIHBhcmVudHN0eWxlOiBzd2ltbGFuZTt3aGl0ZVNwYWNlPXdyYXA7aHRtbD0xO2NoaWxkTGF5b3V0PXN0YWNrTGF5b3V0O2hvcml6b250YWw9MTtob3Jpem9udGFsU3RhY2s9MDtyZXNpemVQYXJlbnQ9MTtyZXNpemVMYXN0PTA7Y29sbGFwc2libGU9MTtcbiNcbiMjIE9wdGlvbmFsIGNvbHVtbiBuYW1lIHRoYXQgY29udGFpbnMgYSByZWZlcmVuY2UgdG8gYSBuYW1lZCBzdHlsZSBpbiBzdHlsZXMuXG4jIyBEZWZhdWx0IGlzIHRoZSBjdXJyZW50IHN0eWxlIGZvciBub2Rlcy5cbiNcbiMgc3R5bGVuYW1lOiAtXG4jXG4jIyBKU09OIGZvciBuYW1lZCBzdHlsZXMgb2YgdGhlIGZvcm0geyJuYW1lIjogInN0eWxlIiwgIm5hbWUiOiAic3R5bGUifSB3aGVyZSBzdHlsZSBpcyBhIGNlbGwgc3R5bGUgd2l0aFxuIyMgcGxhY2Vob2xkZXJzIHRoYXQgYXJlIHJlcGxhY2VkIG9uY2UuXG4jXG4jIHN0eWxlczogLVxuI1xuIyMgT3B0aW9uYWwgY29sdW1uIG5hbWUgdGhhdCBjb250YWlucyBhIHJlZmVyZW5jZSB0byBhIG5hbWVkIGxhYmVsIGluIGxhYmVscy5cbiMjIERlZmF1bHQgaXMgdGhlIGN1cnJlbnQgbGFiZWwuXG4jXG4jIGxhYmVsbmFtZTogLVxuI1xuIyMgSlNPTiBmb3IgbmFtZWQgbGFiZWxzIG9mIHRoZSBmb3JtIHsibmFtZSI6ICJsYWJlbCIsICJuYW1lIjogImxhYmVsIn0gd2hlcmUgbGFiZWwgaXMgYSBjZWxsIGxhYmVsIHdpdGhcbiMjIHBsYWNlaG9sZGVycy5cbiNcbiMgbGFiZWxzOiAtXG4jXG4jIyBVc2VzIHRoZSBnaXZlbiBjb2x1bW4gbmFtZSBhcyB0aGUgaWRlbnRpdHkgZm9yIGNlbGxzICh1cGRhdGVzIGV4aXN0aW5nIGNlbGxzKS5cbiMjIERlZmF1bHQgaXMgbm8gaWRlbnRpdHkgKGVtcHR5IHZhbHVlIG9yIC0pLlxuI1xuIyBpZGVudGl0eTogLVxuI1xuIyMgVXNlcyB0aGUgZ2l2ZW4gY29sdW1uIG5hbWUgYXMgdGhlIHBhcmVudCByZWZlcmVuY2UgZm9yIGNlbGxzLiBEZWZhdWx0IGlzIG5vIHBhcmVudCAoZW1wdHkgb3IgLSkuXG4jIyBUaGUgaWRlbnRpdHkgYWJvdmUgaXMgdXNlZCBmb3IgcmVzb2x2aW5nIHRoZSByZWZlcmVuY2Ugc28gaXQgbXVzdCBiZSBzcGVjaWZpZWQuXG4jXG4jIHBhcmVudDogLVxuI1xuIyMgQWRkcyBhIHByZWZpeCB0byB0aGUgaWRlbnRpdHkgb2YgY2VsbHMgdG8gbWFrZSBzdXJlIHRoZXkgZG8gbm90IGNvbGxpZGUgd2l0aCBleGlzdGluZyBjZWxscyAod2hvc2VcbiMjIElEcyBhcmUgbnVtYmVycyBmcm9tIDAuLm4sIHNvbWV0aW1lcyB3aXRoIGEgR1VJRCBwcmVmaXggaW4gdGhlIGNvbnRleHQgb2YgcmVhbHRpbWUgY29sbGFib3JhdGlvbikuXG4jIyBEZWZhdWx0IGlzIGNzdmltcG9ydC0uXG4jXG4jIG5hbWVzcGFjZTogY3N2aW1wb3J0LVxuI1xuIyMgQ29ubmVjdGlvbnMgYmV0d2VlbiByb3dzICgiZnJvbSI6IHNvdXJjZSBjb2x1bSwgInRvIjogdGFyZ2V0IGNvbHVtbikuXG4jIyBMYWJlbCwgc3R5bGUgYW5kIGludmVydCBhcmUgb3B0aW9uYWwuIERlZmF1bHRzIGFyZSBcJ1wnLCBjdXJyZW50IHN0eWxlIGFuZCBmYWxzZS5cbiMjIElmIHBsYWNlaG9sZGVycyBhcmUgdXNlZCBpbiB0aGUgc3R5bGUsIHRoZXkgYXJlIHJlcGxhY2VkIHdpdGggZGF0YSBmcm9tIHRoZSBzb3VyY2UuXG4jIyBBbiBvcHRpb25hbCBwbGFjZWhvbGRlcnMgY2FuIGJlIHNldCB0byB0YXJnZXQgdG8gdXNlIGRhdGEgZnJvbSB0aGUgdGFyZ2V0IGluc3RlYWQuXG4jIyBJbiBhZGRpdGlvbiB0byBsYWJlbCwgYW4gb3B0aW9uYWwgZnJvbWxhYmVsIGFuZCB0b2xhYmVsIGNhbiBiZSB1c2VkIHRvIG5hbWUgdGhlIGNvbHVtblxuIyMgdGhhdCBjb250YWlucyB0aGUgdGV4dCBmb3IgdGhlIGxhYmVsIGluIHRoZSBlZGdlcyBzb3VyY2Ugb3IgdGFyZ2V0IChpbnZlcnQgaWdub3JlZCkuXG4jIyBUaGUgbGFiZWwgaXMgY29uY2F0ZW5hdGVkIGluIHRoZSBmb3JtIGZyb21sYWJlbCArIGxhYmVsICsgdG9sYWJlbCBpZiBhbGwgYXJlIGRlZmluZWQuXG4jIyBBZGRpdGlvbmFsIGxhYmVscyBjYW4gYmUgYWRkZWQgYnkgdXNpbmcgYW4gb3B0aW9uYWwgbGFiZWxzIGFycmF5IHdpdGggZW50cmllcyBvZiB0aGVcbiMjIGZvcm0geyJsYWJlbCI6IHN0cmluZywgIngiOiBudW1iZXIsICJ5IjogbnVtYmVyLCAiZHgiOiBudW1iZXIsICJkeSI6IG51bWJlcn0gd2hlcmVcbiMjIHggaXMgZnJvbSAtMSB0byAxIGFsb25nIHRoZSBlZGdlLCB5IGlzIG9ydGhvZ29uYWwsIGFuZCBkeC9keSBhcmUgb2Zmc2V0cyBpbiBwaXhlbHMuXG4jIyBUaGUgdGFyZ2V0IGNvbHVtbiBtYXkgY29udGFpbiBhIGNvbW1hLXNlcGFyYXRlZCBsaXN0IG9mIHZhbHVlcy5cbiMjIE11bHRpcGxlIGNvbm5lY3QgZW50cmllcyBhcmUgYWxsb3dlZC5cbiNcbiMgY29ubmVjdDogeyJmcm9tIjogIm1hbmFnZXIiLCAidG8iOiAibmFtZSIsICJpbnZlcnQiOiB0cnVlLCAibGFiZWwiOiAibWFuYWdlcyIsIFxcXG4jICAgICAgICAgICJzdHlsZSI6ICJjdXJ2ZWQ9MTtlbmRBcnJvdz1ibG9ja1RoaW47ZW5kRmlsbD0xO2ZvbnRTaXplPTExOyJ9XG4jIGNvbm5lY3Q6IHsiZnJvbSI6ICJyZWZzIiwgInRvIjogImlkIiwgInN0eWxlIjogImN1cnZlZD0xO2ZvbnRTaXplPTExOyJ9XG4jXG4jIyBOb2RlIHgtY29vcmRpbmF0ZS4gUG9zc2libGUgdmFsdWUgaXMgYSBjb2x1bW4gbmFtZS4gRGVmYXVsdCBpcyBlbXB0eS4gTGF5b3V0cyB3aWxsXG4jIyBvdmVycmlkZSB0aGlzIHZhbHVlLlxuI1xuIyBsZWZ0OiBcbiNcbiMjIE5vZGUgeS1jb29yZGluYXRlLiBQb3NzaWJsZSB2YWx1ZSBpcyBhIGNvbHVtbiBuYW1lLiBEZWZhdWx0IGlzIGVtcHR5LiBMYXlvdXRzIHdpbGxcbiMjIG92ZXJyaWRlIHRoaXMgdmFsdWUuXG4jXG4jIHRvcDogXG4jXG4jIyBOb2RlIHdpZHRoLiBQb3NzaWJsZSB2YWx1ZSBpcyBhIG51bWJlciAoaW4gcHgpLCBhdXRvIG9yIGFuIEAgc2lnbiBmb2xsb3dlZCBieSBhIGNvbHVtblxuIyMgbmFtZSB0aGF0IGNvbnRhaW5zIHRoZSB2YWx1ZSBmb3IgdGhlIHdpZHRoLiBEZWZhdWx0IGlzIGF1dG8uXG4jXG4jIHdpZHRoOiBhdXRvXG4jXG4jIyBOb2RlIGhlaWdodC4gUG9zc2libGUgdmFsdWUgaXMgYSBudW1iZXIgKGluIHB4KSwgYXV0byBvciBhbiBAIHNpZ24gZm9sbG93ZWQgYnkgYSBjb2x1bW5cbiMjIG5hbWUgdGhhdCBjb250YWlucyB0aGUgdmFsdWUgZm9yIHRoZSBoZWlnaHQuIERlZmF1bHQgaXMgYXV0by5cbiNcbiMgaGVpZ2h0OiBhdXRvXG4jXG4jIyBQYWRkaW5nIGZvciBhdXRvc2l6ZS4gRGVmYXVsdCBpcyAwLlxuI1xuIyBwYWRkaW5nOiAtMTJcbiNcbiMjIENvbW1hLXNlcGFyYXRlZCBsaXN0IG9mIGlnbm9yZWQgY29sdW1ucyBmb3IgbWV0YWRhdGEuIChUaGVzZSBjYW4gYmVcbiMjIHVzZWQgZm9yIGNvbm5lY3Rpb25zIGFuZCBzdHlsZXMgYnV0IHdpbGwgbm90IGJlIGFkZGVkIGFzIG1ldGFkYXRhLilcbiNcbiMgaWdub3JlOiBpZCxpbWFnZSxmaWxsLHN0cm9rZSxyZWZzLG1hbmFnZXJcbiNcbiMjIENvbHVtbiB0byBiZSByZW5hbWVkIHRvIGxpbmsgYXR0cmlidXRlICh1c2VkIGFzIGxpbmspLlxuI1xuIyBsaW5rOiB1cmxcbiNcbiMjIFNwYWNpbmcgYmV0d2VlbiBub2Rlcy4gRGVmYXVsdCBpcyA0MC5cbiNcbiMgbm9kZXNwYWNpbmc6IDQwXG4jXG4jIyBTcGFjaW5nIGJldHdlZW4gbGV2ZWxzIG9mIGhpZXJhcmNoaWNhbCBsYXlvdXRzLiBEZWZhdWx0IGlzIDEwMC5cbiNcbiMgbGV2ZWxzcGFjaW5nOiAxMDBcbiNcbiMjIFNwYWNpbmcgYmV0d2VlbiBwYXJhbGxlbCBlZGdlcy4gRGVmYXVsdCBpcyA0MC4gVXNlIDAgdG8gZGlzYWJsZS5cbiNcbiMgZWRnZXNwYWNpbmc6IDQwXG4jXG4jIyBOYW1lIG9yIEpTT04gb2YgbGF5b3V0LiBQb3NzaWJsZSB2YWx1ZXMgYXJlIGF1dG8sIG5vbmUsIHZlcnRpY2FsdHJlZSwgaG9yaXpvbnRhbHRyZWUsXG4jIyB2ZXJ0aWNhbGZsb3csIGhvcml6b250YWxmbG93LCBvcmdhbmljLCBjaXJjbGUgb3IgYSBKU09OIHN0cmluZyBhcyB1c2VkIGluIExheW91dCwgQXBwbHkuXG4jIyBEZWZhdWx0IGlzIGF1dG8uXG4jXG4jIGxheW91dDogYXV0b1xuI1xuIyMgLS0tLSBDU1YgYmVsb3cgdGhpcyBsaW5lLiBGaXJzdCBsaW5lIGFyZSBjb2x1bW4gbmFtZXMuIC0tLS1cbm5hbWUscG9zaXRpb24saWQsbG9jYXRpb24sbWFuYWdlcixlbWFpbCxmaWxsLHN0cm9rZSxyZWZzLHVybCxpbWFnZVxuRXZhbiBNaWxsZXIsQ0ZPLGVtaSxPZmZpY2UgMSwsbWVAZXhhbXBsZS5jb20sI2RhZThmYywjNmM4ZWJmLCxodHRwczovL3d3dy5kcmF3LmlvLGh0dHBzOi8vY2RuMy5pY29uZmluZGVyLmNvbS9kYXRhL2ljb25zL3VzZXItYXZhdGFycy0xLzUxMi91c2Vycy05LTItMTI4LnBuZ1xuRWR3YXJkIE1vcnJpc29uLEJyYW5kIE1hbmFnZXIsZW1vLE9mZmljZSAyLEV2YW4gTWlsbGVyLG1lQGV4YW1wbGUuY29tLCNkNWU4ZDQsIzgyYjM2NiwsaHR0cHM6Ly93d3cuZHJhdy5pbyxodHRwczovL2NkbjMuaWNvbmZpbmRlci5jb20vZGF0YS9pY29ucy91c2VyLWF2YXRhcnMtMS81MTIvdXNlcnMtMTAtMy0xMjgucG5nXG5Sb24gRG9ub3ZhbixTeXN0ZW0gQWRtaW4scmRvLE9mZmljZSAzLEV2YW4gTWlsbGVyLG1lQGV4YW1wbGUuY29tLCNkNWU4ZDQsIzgyYjM2NiwiZW1vLHR2YSIsaHR0cHM6Ly93d3cuZHJhdy5pbyxodHRwczovL2NkbjMuaWNvbmZpbmRlci5jb20vZGF0YS9pY29ucy91c2VyLWF2YXRhcnMtMS81MTIvdXNlcnMtMi0xMjgucG5nXG5UZXNzYSBWYWxldCxIUiBEaXJlY3Rvcix0dmEsT2ZmaWNlIDQsRXZhbiBNaWxsZXIsbWVAZXhhbXBsZS5jb20sI2Q1ZThkNCwjODJiMzY2LCxodHRwczovL3d3dy5kcmF3LmlvLGh0dHBzOi8vY2RuMy5pY29uZmluZGVyLmNvbS9kYXRhL2ljb25zL3VzZXItYXZhdGFycy0xLzUxMi91c2Vycy0zLTEyOC5wbmdcbic7CkVkaXRvci5mYXN0Q29tcHJlc3M9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGw9PWF8fDA9PWEubGVuZ3RofHwidW5kZWZpbmVkIj09PXR5cGVvZiBwYWtvP2E6cGFrby5kZWZsYXRlUmF3KGEse3RvOiJzdHJpbmcifSl9O0VkaXRvci5mYXN0RGVjb21wcmVzcz1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbD09YXx8MD09YS5sZW5ndGh8fCJ1bmRlZmluZWQiPT09dHlwZW9mIHBha28/YTpwYWtvLmluZmxhdGVSYXcoYSx7dG86InN0cmluZyJ9KX07RWRpdG9yLmV4dHJhY3RHcmFwaE1vZGVsPWZ1bmN0aW9uKGEsYixlKXtpZihudWxsIT1hJiYidW5kZWZpbmVkIiE9PXR5cGVvZiBwYWtvKXt2YXIgYz1hLm93bmVyRG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImRpdiIpLGQ9W107aWYobnVsbCE9YyYmMDxjLmxlbmd0aClmb3IodmFyIGY9MDtmPGMubGVuZ3RoO2YrKylpZigibXhncmFwaCI9PWNbZl0uZ2V0QXR0cmlidXRlKCJjbGFzcyIpKXtkLnB1c2goY1tmXSk7YnJlYWt9MDxkLmxlbmd0aCYmCihjPWRbMF0uZ2V0QXR0cmlidXRlKCJkYXRhLW14Z3JhcGgiKSxudWxsIT1jPyhkPUpTT04ucGFyc2UoYyksbnVsbCE9ZCYmbnVsbCE9ZC54bWwmJihhPW14VXRpbHMucGFyc2VYbWwoZC54bWwpLGE9YS5kb2N1bWVudEVsZW1lbnQpKTooZD1kWzBdLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJkaXYiKSwwPGQubGVuZ3RoJiYoYz1teFV0aWxzLmdldFRleHRDb250ZW50KGRbMF0pLGM9R3JhcGguZGVjb21wcmVzcyhjLG51bGwsZSksMDxjLmxlbmd0aCYmKGE9bXhVdGlscy5wYXJzZVhtbChjKSxhPWEuZG9jdW1lbnRFbGVtZW50KSkpKX1pZihudWxsIT1hJiYic3ZnIj09YS5ub2RlTmFtZSlpZihjPWEuZ2V0QXR0cmlidXRlKCJjb250ZW50IiksbnVsbCE9YyYmIjwiIT1jLmNoYXJBdCgwKSYmIiUiIT1jLmNoYXJBdCgwKSYmKGM9dW5lc2NhcGUod2luZG93LmF0b2I/YXRvYihjKTpCYXNlNjQuZGVjb2RlKGNvbnQsYykpKSxudWxsIT1jJiYiJSI9PWMuY2hhckF0KDApJiYoYz1kZWNvZGVVUklDb21wb25lbnQoYykpLApudWxsIT1jJiYwPGMubGVuZ3RoKWE9bXhVdGlscy5wYXJzZVhtbChjKS5kb2N1bWVudEVsZW1lbnQ7ZWxzZSB0aHJvd3ttZXNzYWdlOm14UmVzb3VyY2VzLmdldCgibm90QURpYWdyYW1GaWxlIil9O251bGw9PWF8fGJ8fChkPW51bGwsImRpYWdyYW0iPT1hLm5vZGVOYW1lP2Q9YToibXhmaWxlIj09YS5ub2RlTmFtZSYmKGM9YS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiZGlhZ3JhbSIpLDA8Yy5sZW5ndGgmJihkPWNbTWF0aC5tYXgoMCxNYXRoLm1pbihjLmxlbmd0aC0xLHVybFBhcmFtcy5wYWdlfHwwKSldKSksbnVsbCE9ZCYmKGE9RWRpdG9yLnBhcnNlRGlhZ3JhbU5vZGUoZCxlKSkpO251bGw9PWF8fCJteEdyYXBoTW9kZWwiPT1hLm5vZGVOYW1lfHxiJiYibXhmaWxlIj09YS5ub2RlTmFtZXx8KGE9bnVsbCk7cmV0dXJuIGF9O0VkaXRvci5wYXJzZURpYWdyYW1Ob2RlPWZ1bmN0aW9uKGEsYil7dmFyIGU9bXhVdGlscy50cmltKG14VXRpbHMuZ2V0VGV4dENvbnRlbnQoYSkpLGM9bnVsbDsKMDxlLmxlbmd0aD8oZT1HcmFwaC5kZWNvbXByZXNzKGUsbnVsbCxiKSxudWxsIT1lJiYwPGUubGVuZ3RoJiYoYz1teFV0aWxzLnBhcnNlWG1sKGUpLmRvY3VtZW50RWxlbWVudCkpOihlPW14VXRpbHMuZ2V0Q2hpbGROb2RlcyhhKSwwPGUubGVuZ3RoJiYoYz1teFV0aWxzLmNyZWF0ZVhtbERvY3VtZW50KCksYy5hcHBlbmRDaGlsZChjLmltcG9ydE5vZGUoZVswXSwhMCkpLGM9Yy5kb2N1bWVudEVsZW1lbnQpKTtyZXR1cm4gY307RWRpdG9yLmdldERpYWdyYW1Ob2RlWG1sPWZ1bmN0aW9uKGEpe3ZhciBiPW14VXRpbHMuZ2V0VGV4dENvbnRlbnQoYSksZT1udWxsOzA8Yi5sZW5ndGg/ZT1HcmFwaC5kZWNvbXByZXNzKGIpOm51bGwhPWEuZmlyc3RDaGlsZCYmKGU9bXhVdGlscy5nZXRYbWwoYS5maXJzdENoaWxkKSk7cmV0dXJuIGV9O0VkaXRvci5leHRyYWN0R3JhcGhNb2RlbEZyb21QZGY9ZnVuY3Rpb24oYSl7YT1hLnN1YnN0cmluZyhhLmluZGV4T2YoIiwiKSsxKTthPXdpbmRvdy5hdG9iJiYKIW14Q2xpZW50LklTX1NGP2F0b2IoYSk6QmFzZTY0LmRlY29kZShhLCEwKTtmb3IodmFyIGI9bnVsbCxlPSIiLGM9MCxkPTAsZj1bXSxnPW51bGw7ZDxhLmxlbmd0aDspe3ZhciBsPWEuY2hhckNvZGVBdChkKSxkPWQrMTsxMCE9bCYmKGUrPVN0cmluZy5mcm9tQ2hhckNvZGUobCkpO2w9PSIvU3ViamVjdCAoJTNDbXhmaWxlIi5jaGFyQ29kZUF0KGMpP2MrKzpjPTA7aWYoMTk9PWMpe3ZhciBuPWEuaW5kZXhPZigiJTNDJTJGbXhmaWxlJTNFKSIsZCkrMTUsZD1kLTk7aWYobj5kKXtiPWEuc3Vic3RyaW5nKGQsbik7YnJlYWt9fTEwPT1sJiYoImVuZG9iaiI9PWU/Zz1udWxsOiJvYmoiPT1lLnN1YnN0cmluZyhlLmxlbmd0aC0zLGUubGVuZ3RoKXx8InhyZWYiPT1lfHwidHJhaWxlciI9PWU/KGc9W10sZltlLnNwbGl0KCIgIilbMF1dPWcpOm51bGwhPWcmJmcucHVzaChlKSxlPSIiKX1udWxsPT1iJiYoYj1FZGl0b3IuZXh0cmFjdEdyYXBoTW9kZWxGcm9tWHJlZihmKSk7bnVsbCE9YiYmCihiPWRlY29kZVVSSUNvbXBvbmVudChiLnJlcGxhY2UoL1xcXCgvZywiKCIpLnJlcGxhY2UoL1xcXCkvZywiKSIpKSk7cmV0dXJuIGJ9O0VkaXRvci5leHRyYWN0R3JhcGhNb2RlbEZyb21YcmVmPWZ1bmN0aW9uKGEpe3ZhciBiPWEudHJhaWxlcixlPW51bGw7bnVsbCE9YiYmKGI9Ly4qIFwvSW5mbyAoXGQrKSAoXGQrKSBSL2cuZXhlYyhiLmpvaW4oIlxuIikpLG51bGwhPWImJjA8Yi5sZW5ndGgmJihiPWFbYlsxXV0sbnVsbCE9YiYmKGI9Ly4qIFwvU3ViamVjdCAoXGQrKSAoXGQrKSBSL2cuZXhlYyhiLmpvaW4oIlxuIikpLG51bGwhPWImJjA8Yi5sZW5ndGgmJihhPWFbYlsxXV0sbnVsbCE9YSYmKGE9YS5qb2luKCJcbiIpLGU9YS5zdWJzdHJpbmcoMSxhLmxlbmd0aC0xKSkpKSkpO3JldHVybiBlfTtFZGl0b3IuZXh0cmFjdEdyYXBoTW9kZWxGcm9tUG5nPWZ1bmN0aW9uKGEpe3ZhciBiPW51bGw7dHJ5e3ZhciBlPWEuc3Vic3RyaW5nKGEuaW5kZXhPZigiLCIpKzEpLGM9d2luZG93LmF0b2ImJgohbXhDbGllbnQuSVNfU0Y/YXRvYihlKTpCYXNlNjQuZGVjb2RlKGUsITApO0VkaXRvclVpLnBhcnNlUG5nKGMsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSxlLGQpe2E9Yy5zdWJzdHJpbmcoYSs4LGErOCtkKTsielRYdCI9PWU/KGQ9YS5pbmRleE9mKFN0cmluZy5mcm9tQ2hhckNvZGUoMCkpLCJteEdyYXBoTW9kZWwiPT1hLnN1YnN0cmluZygwLGQpJiYoYT1wYWtvLmluZmxhdGVSYXcoYS5zdWJzdHJpbmcoZCsyKSx7dG86InN0cmluZyJ9KS5yZXBsYWNlKC9cKy9nLCIgIiksbnVsbCE9YSYmMDxhLmxlbmd0aCYmKGI9YSkpKToidEVYdCI9PWUmJihhPWEuc3BsaXQoU3RyaW5nLmZyb21DaGFyQ29kZSgwKSksMTxhLmxlbmd0aCYmKCJteEdyYXBoTW9kZWwiPT1hWzBdfHwibXhmaWxlIj09YVswXSkmJihiPWFbMV0pKTtpZihudWxsIT1ifHwiSURBVCI9PWUpcmV0dXJuITB9KSl9Y2F0Y2goUSl7fW51bGwhPWImJiIlIj09Yi5jaGFyQXQoMCkmJihiPWRlY29kZVVSSUNvbXBvbmVudChiKSk7Cm51bGwhPWImJiIlIj09Yi5jaGFyQXQoMCkmJihiPWRlY29kZVVSSUNvbXBvbmVudChiKSk7cmV0dXJuIGJ9O0VkaXRvci5leHRyYWN0UGFyc2VyRXJyb3I9ZnVuY3Rpb24oYSxiKXt2YXIgZT1udWxsLGM9bnVsbCE9YT9hLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJwYXJzZXJlcnJvciIpOm51bGw7bnVsbCE9YyYmMDxjLmxlbmd0aCYmKGU9Ynx8bXhSZXNvdXJjZXMuZ2V0KCJpbnZhbGlkQ2hhcnMiKSxjPWNbMF0uZ2V0RWxlbWVudHNCeVRhZ05hbWUoImRpdiIpLDA8Yy5sZW5ndGgmJihlPW14VXRpbHMuZ2V0VGV4dENvbnRlbnQoY1swXSkpKTtyZXR1cm4gbnVsbCE9ZT9teFV0aWxzLnRyaW0oZSk6ZX07RWRpdG9yLmNvbmZpZ3VyZT1mdW5jdGlvbihhLGIpe2lmKG51bGwhPWEpe0VkaXRvci5jb25maWc9YTtFZGl0b3IuY29uZmlnVmVyc2lvbj1hLnZlcnNpb247TWVudXMucHJvdG90eXBlLmRlZmF1bHRGb250cz1hLmRlZmF1bHRGb250c3x8TWVudXMucHJvdG90eXBlLmRlZmF1bHRGb250czsKQ29sb3JEaWFsb2cucHJvdG90eXBlLnByZXNldENvbG9ycz1hLnByZXNldENvbG9yc3x8Q29sb3JEaWFsb2cucHJvdG90eXBlLnByZXNldENvbG9ycztDb2xvckRpYWxvZy5wcm90b3R5cGUuZGVmYXVsdENvbG9ycz1hLmRlZmF1bHRDb2xvcnN8fENvbG9yRGlhbG9nLnByb3RvdHlwZS5kZWZhdWx0Q29sb3JzO1N0eWxlRm9ybWF0UGFuZWwucHJvdG90eXBlLmRlZmF1bHRDb2xvclNjaGVtZXM9YS5kZWZhdWx0Q29sb3JTY2hlbWVzfHxTdHlsZUZvcm1hdFBhbmVsLnByb3RvdHlwZS5kZWZhdWx0Q29sb3JTY2hlbWVzO0dyYXBoLnByb3RvdHlwZS5kZWZhdWx0RWRnZUxlbmd0aD1hLmRlZmF1bHRFZGdlTGVuZ3RofHxHcmFwaC5wcm90b3R5cGUuZGVmYXVsdEVkZ2VMZW5ndGg7RHJhd2lvRmlsZS5wcm90b3R5cGUuYXV0b3NhdmVEZWxheT1hLmF1dG9zYXZlRGVsYXl8fERyYXdpb0ZpbGUucHJvdG90eXBlLmF1dG9zYXZlRGVsYXk7bnVsbCE9YS50ZW1wbGF0ZUZpbGUmJihFZGl0b3JVaS50ZW1wbGF0ZUZpbGU9CmEudGVtcGxhdGVGaWxlKTtudWxsIT1hLmdsb2JhbFZhcnMmJihFZGl0b3IuZ2xvYmFsVmFycz1hLmdsb2JhbFZhcnMpO251bGwhPWEuY29tcHJlc3NYbWwmJihFZGl0b3IuY29tcHJlc3NYbWw9YS5jb21wcmVzc1htbCk7YS5jdXN0b21Gb250cyYmKE1lbnVzLnByb3RvdHlwZS5kZWZhdWx0Rm9udHM9YS5jdXN0b21Gb250cy5jb25jYXQoTWVudXMucHJvdG90eXBlLmRlZmF1bHRGb250cykpO2EuY3VzdG9tUHJlc2V0Q29sb3JzJiYoQ29sb3JEaWFsb2cucHJvdG90eXBlLnByZXNldENvbG9ycz1hLmN1c3RvbVByZXNldENvbG9ycy5jb25jYXQoQ29sb3JEaWFsb2cucHJvdG90eXBlLnByZXNldENvbG9ycykpO251bGwhPWEuY3VzdG9tQ29sb3JTY2hlbWVzJiYoU3R5bGVGb3JtYXRQYW5lbC5wcm90b3R5cGUuZGVmYXVsdENvbG9yU2NoZW1lcz1hLmN1c3RvbUNvbG9yU2NoZW1lcy5jb25jYXQoU3R5bGVGb3JtYXRQYW5lbC5wcm90b3R5cGUuZGVmYXVsdENvbG9yU2NoZW1lcykpO2lmKG51bGwhPQphLmNzcyl7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3R5bGUiKTtlLnNldEF0dHJpYnV0ZSgidHlwZSIsInRleHQvY3NzIik7ZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShhLmNzcykpO3ZhciBjPWRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJzY3JpcHQiKVswXTtjLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGUsYyl9bnVsbCE9YS5saWJyYXJpZXMmJihTaWRlYmFyLnByb3RvdHlwZS5jdXN0b21FbnRyaWVzPWEubGlicmFyaWVzKTtudWxsIT1hLmVuYWJsZWRMaWJyYXJpZXMmJihTaWRlYmFyLnByb3RvdHlwZS5lbmFibGVkTGlicmFyaWVzPWEuZW5hYmxlZExpYnJhcmllcyk7bnVsbCE9YS5kZWZhdWx0TGlicmFyaWVzJiYoU2lkZWJhci5wcm90b3R5cGUuZGVmYXVsdEVudHJpZXM9YS5kZWZhdWx0TGlicmFyaWVzKTtudWxsIT1hLmRlZmF1bHRDdXN0b21MaWJyYXJpZXMmJihFZGl0b3IuZGVmYXVsdEN1c3RvbUxpYnJhcmllcz1hLmRlZmF1bHRDdXN0b21MaWJyYXJpZXMpOwpudWxsIT1hLmVuYWJsZUN1c3RvbUxpYnJhcmllcyYmKEVkaXRvci5lbmFibGVDdXN0b21MaWJyYXJpZXM9YS5lbmFibGVDdXN0b21MaWJyYXJpZXMpO251bGwhPWEuZGVmYXVsdFZlcnRleFN0eWxlJiYoR3JhcGgucHJvdG90eXBlLmRlZmF1bHRWZXJ0ZXhTdHlsZT1hLmRlZmF1bHRWZXJ0ZXhTdHlsZSk7bnVsbCE9YS5kZWZhdWx0RWRnZVN0eWxlJiYoR3JhcGgucHJvdG90eXBlLmRlZmF1bHRFZGdlU3R5bGU9YS5kZWZhdWx0RWRnZVN0eWxlKTthLmVtcHR5RGlhZ3JhbVhtbCYmKEVkaXRvclVpLnByb3RvdHlwZS5lbXB0eURpYWdyYW1YbWw9YS5lbXB0eURpYWdyYW1YbWwpO2EudGh1bWJXaWR0aCYmKFNpZGViYXIucHJvdG90eXBlLnRodW1iV2lkdGg9YS50aHVtYldpZHRoKTthLnRodW1iSGVpZ2h0JiYoU2lkZWJhci5wcm90b3R5cGUudGh1bWJIZWlnaHQ9YS50aHVtYkhlaWdodCk7YS5lbXB0eUxpYnJhcnlYbWwmJihFZGl0b3JVaS5wcm90b3R5cGUuZW1wdHlMaWJyYXJ5WG1sPWEuZW1wdHlMaWJyYXJ5WG1sKTsKYS5zaWRlYmFyV2lkdGgmJihFZGl0b3JVaS5wcm90b3R5cGUuaHNwbGl0UG9zaXRpb249YS5zaWRlYmFyV2lkdGgpO2EuZm9udENzcyYmRWRpdG9yLmNvbmZpZ3VyZUZvbnRDc3MoYS5mb250Q3NzKTtudWxsIT1hLmF1dG9zYXZlRGVsYXkmJihlPXBhcnNlSW50KGEuYXV0b3NhdmVEZWxheSksIWlzTmFOKGUpJiYwPGU/RHJhd2lvRmlsZS5wcm90b3R5cGUuYXV0b3NhdmVEZWxheT1lOkVkaXRvclVpLmRlYnVnKCJJbnZhbGlkIGF1dG9zYXZlRGVsYXk6ICIrYS5hdXRvc2F2ZURlbGF5KSk7aWYobnVsbCE9YS5wbHVnaW5zJiYhYilmb3IoQXBwLmluaXRQbHVnaW5DYWxsYmFjaygpLGU9MDtlPGEucGx1Z2lucy5sZW5ndGg7ZSsrKW14c2NyaXB0KGEucGx1Z2luc1tlXSl9fTtFZGl0b3IuY29uZmlndXJlRm9udENzcz1mdW5jdGlvbihhKXtpZihudWxsIT1hKXtFZGl0b3IucHJvdG90eXBlLmZvbnRDc3M9YTt2YXIgYj1kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgic2NyaXB0IilbMF07CmlmKG51bGwhPWImJm51bGwhPWIucGFyZW50Tm9kZSl7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3R5bGUiKTtlLnNldEF0dHJpYnV0ZSgidHlwZSIsInRleHQvY3NzIik7ZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShhKSk7Yi5wYXJlbnROb2RlLmluc2VydEJlZm9yZShlLGIpO2E9YS5zcGxpdCgidXJsKCIpO2ZvcihlPTE7ZTxhLmxlbmd0aDtlKyspe3ZhciBjPWFbZV0uaW5kZXhPZigiKSIpLGM9YVtlXS5zdWJzdHJpbmcoMCxjKS5yZXBsYWNlKFJlZ0V4cCgiXltcXHNcIiddKyIsImciKSwiIikucmVwbGFjZShSZWdFeHAoIltcXHNcIiddKyQiLCJnIiksIiIpLGQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgibGluayIpO2Quc2V0QXR0cmlidXRlKCJyZWwiLCJwcmVsb2FkIik7ZC5zZXRBdHRyaWJ1dGUoImhyZWYiLGMpO2Quc2V0QXR0cmlidXRlKCJhcyIsImZvbnQiKTtkLnNldEF0dHJpYnV0ZSgiY3Jvc3NvcmlnaW4iLCIiKTtiLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGQsCmIpfX19fTtFZGl0b3IuR09PR0xFX0ZPTlRTPSJodHRwczovL2ZvbnRzLmdvb2dsZWFwaXMuY29tL2Nzcz9mYW1pbHk9IjtFZGl0b3IuR1VJRF9BTFBIQUJFVD0iMDEyMzQ1Njc4OWFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6QUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVotXyI7RWRpdG9yLkdVSURfTEVOR1RIPTIwO0VkaXRvci5ndWlkPWZ1bmN0aW9uKGEpe2E9bnVsbCE9YT9hOkVkaXRvci5HVUlEX0xFTkdUSDtmb3IodmFyIGI9W10sZT0wO2U8YTtlKyspYi5wdXNoKEVkaXRvci5HVUlEX0FMUEhBQkVULmNoYXJBdChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqRWRpdG9yLkdVSURfQUxQSEFCRVQubGVuZ3RoKSkpO3JldHVybiBiLmpvaW4oIiIpfTtFZGl0b3IucHJvdG90eXBlLnRpbWVvdXQ9MjVFMztFZGl0b3IucHJvdG90eXBlLnVzZUZvcmVpZ25PYmplY3RGb3JNYXRoPSFteENsaWVudC5JU19TRjtFZGl0b3IucHJvdG90eXBlLmVkaXRCdXR0b25MaW5rPW51bGwhPXVybFBhcmFtcy5lZGl0PwpkZWNvZGVVUklDb21wb25lbnQodXJsUGFyYW1zLmVkaXQpOm51bGw7RWRpdG9yLnByb3RvdHlwZS5jcm9zc09yaWdpbkltYWdlcz0hbXhDbGllbnQuSVNfSUU7dmFyIGE9RWRpdG9yLnByb3RvdHlwZS5zZXRHcmFwaFhtbDtFZGl0b3IucHJvdG90eXBlLnNldEdyYXBoWG1sPWZ1bmN0aW9uKGIpe2I9bnVsbCE9YiYmIm14bGlicmFyeSIhPWIubm9kZU5hbWU/dGhpcy5leHRyYWN0R3JhcGhNb2RlbChiKTpudWxsO2lmKG51bGwhPWIpe3ZhciBlPWIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInBhcnNlcmVycm9yIik7aWYobnVsbCE9ZSYmMDxlLmxlbmd0aCl7dmFyIGU9ZVswXSxjPWUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImRpdiIpO251bGwhPWMmJjA8Yy5sZW5ndGgmJihlPWNbMF0pO3Rocm93e21lc3NhZ2U6bXhVdGlscy5nZXRUZXh0Q29udGVudChlKX07fWlmKCJteEdyYXBoTW9kZWwiPT1iLm5vZGVOYW1lKXtlPWIuZ2V0QXR0cmlidXRlKCJzdHlsZSIpfHwiZGVmYXVsdC1zdHlsZTIiOwppZigiMSI9PXVybFBhcmFtcy5lbWJlZHx8bnVsbCE9ZSYmIiIhPWUpZSE9dGhpcy5ncmFwaC5jdXJyZW50U3R5bGUmJihjPW51bGwhPXRoaXMuZ3JhcGgudGhlbWVzP3RoaXMuZ3JhcGgudGhlbWVzW2VdOm14VXRpbHMubG9hZChTVFlMRV9QQVRIKyIvIitlKyIueG1sIikuZ2V0RG9jdW1lbnRFbGVtZW50KCksbnVsbCE9YyYmKGQ9bmV3IG14Q29kZWMoYy5vd25lckRvY3VtZW50KSxkLmRlY29kZShjLHRoaXMuZ3JhcGguZ2V0U3R5bGVzaGVldCgpKSkpO2Vsc2UgaWYoYz1udWxsIT10aGlzLmdyYXBoLnRoZW1lcz90aGlzLmdyYXBoLnRoZW1lc1siZGVmYXVsdC1vbGQiXTpteFV0aWxzLmxvYWQoU1RZTEVfUEFUSCsiL2RlZmF1bHQtb2xkLnhtbCIpLmdldERvY3VtZW50RWxlbWVudCgpLG51bGwhPWMpe3ZhciBkPW5ldyBteENvZGVjKGMub3duZXJEb2N1bWVudCk7ZC5kZWNvZGUoYyx0aGlzLmdyYXBoLmdldFN0eWxlc2hlZXQoKSl9dGhpcy5ncmFwaC5jdXJyZW50U3R5bGU9ZTt0aGlzLmdyYXBoLm1hdGhFbmFibGVkPQoiMSI9PXVybFBhcmFtcy5tYXRofHwiMSI9PWIuZ2V0QXR0cmlidXRlKCJtYXRoIik7ZT1iLmdldEF0dHJpYnV0ZSgiYmFja2dyb3VuZEltYWdlIik7bnVsbCE9ZT8oZT1KU09OLnBhcnNlKGUpLHRoaXMuZ3JhcGguc2V0QmFja2dyb3VuZEltYWdlKG5ldyBteEltYWdlKGUuc3JjLGUud2lkdGgsZS5oZWlnaHQpKSk6dGhpcy5ncmFwaC5zZXRCYWNrZ3JvdW5kSW1hZ2UobnVsbCk7bXhDbGllbnQuTk9fRk89dGhpcy5ncmFwaC5tYXRoRW5hYmxlZCYmIXRoaXMudXNlRm9yZWlnbk9iamVjdEZvck1hdGg/ITA6dGhpcy5vcmlnaW5hbE5vRm9yZWlnbk9iamVjdDt0aGlzLmdyYXBoLnVzZUNzc1RyYW5zZm9ybXM9IW14Q2xpZW50Lk5PX0ZPJiZ0aGlzLmlzQ2hyb21lbGVzc1ZpZXcoKSYmdGhpcy5ncmFwaC5pc0Nzc1RyYW5zZm9ybXNTdXBwb3J0ZWQoKTt0aGlzLmdyYXBoLnVwZGF0ZUNzc1RyYW5zZm9ybSgpO3RoaXMuZ3JhcGguc2V0U2hhZG93VmlzaWJsZSgiMSI9PWIuZ2V0QXR0cmlidXRlKCJzaGFkb3ciKSwKITEpO2lmKGU9Yi5nZXRBdHRyaWJ1dGUoImV4dEZvbnRzIikpdHJ5e2ZvcihlPWUuc3BsaXQoInwiKS5tYXAoZnVuY3Rpb24oYSl7YT1hLnNwbGl0KCJeIik7cmV0dXJue25hbWU6YVswXSx1cmw6YVsxXX19KSxjPTA7YzxlLmxlbmd0aDtjKyspdGhpcy5ncmFwaC5hZGRFeHRGb250KGVbY10ubmFtZSxlW2NdLnVybCl9Y2F0Y2goUSl7Y29uc29sZS5sb2coIkV4dEZvbnRzIGZvcm1hdCBlcnJvcjogIitRLm1lc3NhZ2UpfX1hLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1lbHNlIHRocm93e21lc3NhZ2U6bXhSZXNvdXJjZXMuZ2V0KCJub3RBRGlhZ3JhbUZpbGUiKXx8IkludmFsaWQgZGF0YSIsdG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tZXNzYWdlfX07fTt2YXIgYz1FZGl0b3IucHJvdG90eXBlLmdldEdyYXBoWG1sO0VkaXRvci5wcm90b3R5cGUuZ2V0R3JhcGhYbWw9ZnVuY3Rpb24oYSl7YT1udWxsIT1hP2E6ITA7dmFyIGI9Yy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7bnVsbCE9CnRoaXMuZ3JhcGguY3VycmVudFN0eWxlJiYiZGVmYXVsdC1zdHlsZTIiIT10aGlzLmdyYXBoLmN1cnJlbnRTdHlsZSYmYi5zZXRBdHRyaWJ1dGUoInN0eWxlIix0aGlzLmdyYXBoLmN1cnJlbnRTdHlsZSk7bnVsbCE9dGhpcy5ncmFwaC5iYWNrZ3JvdW5kSW1hZ2UmJmIuc2V0QXR0cmlidXRlKCJiYWNrZ3JvdW5kSW1hZ2UiLEpTT04uc3RyaW5naWZ5KHRoaXMuZ3JhcGguYmFja2dyb3VuZEltYWdlKSk7Yi5zZXRBdHRyaWJ1dGUoIm1hdGgiLHRoaXMuZ3JhcGgubWF0aEVuYWJsZWQ/IjEiOiIwIik7Yi5zZXRBdHRyaWJ1dGUoInNoYWRvdyIsdGhpcy5ncmFwaC5zaGFkb3dWaXNpYmxlPyIxIjoiMCIpO2lmKG51bGwhPXRoaXMuZ3JhcGguZXh0Rm9udHMmJjA8dGhpcy5ncmFwaC5leHRGb250cy5sZW5ndGgpe3ZhciBlPXRoaXMuZ3JhcGguZXh0Rm9udHMubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLm5hbWUrIl4iK2EudXJsfSk7Yi5zZXRBdHRyaWJ1dGUoImV4dEZvbnRzIixlLmpvaW4oInwiKSl9cmV0dXJuIGJ9OwpFZGl0b3IucHJvdG90eXBlLmlzRGF0YVN2Zz1mdW5jdGlvbihhKXt0cnl7dmFyIGI9bXhVdGlscy5wYXJzZVhtbChhKS5kb2N1bWVudEVsZW1lbnQuZ2V0QXR0cmlidXRlKCJjb250ZW50Iik7aWYobnVsbCE9YiYmKG51bGwhPWImJiI8IiE9Yi5jaGFyQXQoMCkmJiIlIiE9Yi5jaGFyQXQoMCkmJihiPXVuZXNjYXBlKHdpbmRvdy5hdG9iP2F0b2IoYik6QmFzZTY0LmRlY29kZShjb250LGIpKSksbnVsbCE9YiYmIiUiPT1iLmNoYXJBdCgwKSYmKGI9ZGVjb2RlVVJJQ29tcG9uZW50KGIpKSxudWxsIT1iJiYwPGIubGVuZ3RoKSl7dmFyIGU9bXhVdGlscy5wYXJzZVhtbChiKS5kb2N1bWVudEVsZW1lbnQ7cmV0dXJuIm14ZmlsZSI9PWUubm9kZU5hbWV8fCJteEdyYXBoTW9kZWwiPT1lLm5vZGVOYW1lfX1jYXRjaChNKXt9cmV0dXJuITF9O0VkaXRvci5wcm90b3R5cGUuZXh0cmFjdEdyYXBoTW9kZWw9ZnVuY3Rpb24oYSxiLGUpe3JldHVybiBFZGl0b3IuZXh0cmFjdEdyYXBoTW9kZWwuYXBwbHkodGhpcywKYXJndW1lbnRzKX07dmFyIGY9RWRpdG9yLnByb3RvdHlwZS5yZXNldEdyYXBoO0VkaXRvci5wcm90b3R5cGUucmVzZXRHcmFwaD1mdW5jdGlvbigpe3RoaXMuZ3JhcGgubWF0aEVuYWJsZWQ9IjEiPT11cmxQYXJhbXMubWF0aDt0aGlzLmdyYXBoLnZpZXcueDA9bnVsbDt0aGlzLmdyYXBoLnZpZXcueTA9bnVsbDtteENsaWVudC5OT19GTz10aGlzLmdyYXBoLm1hdGhFbmFibGVkJiYhdGhpcy51c2VGb3JlaWduT2JqZWN0Rm9yTWF0aD8hMDp0aGlzLm9yaWdpbmFsTm9Gb3JlaWduT2JqZWN0O3RoaXMuZ3JhcGgudXNlQ3NzVHJhbnNmb3Jtcz0hbXhDbGllbnQuTk9fRk8mJnRoaXMuaXNDaHJvbWVsZXNzVmlldygpJiZ0aGlzLmdyYXBoLmlzQ3NzVHJhbnNmb3Jtc1N1cHBvcnRlZCgpO3RoaXMuZ3JhcGgudXBkYXRlQ3NzVHJhbnNmb3JtKCk7Zi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O3ZhciBkPUVkaXRvci5wcm90b3R5cGUudXBkYXRlR3JhcGhDb21wb25lbnRzO0VkaXRvci5wcm90b3R5cGUudXBkYXRlR3JhcGhDb21wb25lbnRzPQpmdW5jdGlvbigpe2QuYXBwbHkodGhpcyxhcmd1bWVudHMpO214Q2xpZW50Lk5PX0ZPPXRoaXMuZ3JhcGgubWF0aEVuYWJsZWQmJiF0aGlzLnVzZUZvcmVpZ25PYmplY3RGb3JNYXRoJiZudWxsIT1FZGl0b3IuTWF0aEpheFJlbmRlcj8hMDp0aGlzLm9yaWdpbmFsTm9Gb3JlaWduT2JqZWN0O3RoaXMuZ3JhcGgudXNlQ3NzVHJhbnNmb3Jtcz0hbXhDbGllbnQuTk9fRk8mJnRoaXMuaXNDaHJvbWVsZXNzVmlldygpJiZ0aGlzLmdyYXBoLmlzQ3NzVHJhbnNmb3Jtc1N1cHBvcnRlZCgpO3RoaXMuZ3JhcGgudXBkYXRlQ3NzVHJhbnNmb3JtKCl9O0VkaXRvci5pbml0TWF0aD1mdW5jdGlvbihhLGIpe2E9bnVsbCE9YT9hOkRSQVdfTUFUSF9VUkwrIi9NYXRoSmF4LmpzIjtFZGl0b3IubWF0aEpheFF1ZXVlPVtdO0VkaXRvci5kb01hdGhKYXhSZW5kZXI9ZnVuY3Rpb24oYSl7d2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXsiaGlkZGVuIiE9YS5zdHlsZS52aXNpYmlsaXR5JiZNYXRoSmF4Lkh1Yi5RdWV1ZShbIlR5cGVzZXQiLApNYXRoSmF4Lkh1YixhXSl9LDApfTt3aW5kb3cuTWF0aEpheD17c2tpcFN0YXJ0dXBUeXBlc2V0OiEwLHNob3dNYXRoTWVudTohMSxtZXNzYWdlU3R5bGU6Im5vbmUiLEF1dGhvckluaXQ6ZnVuY3Rpb24oKXtNYXRoSmF4Lkh1Yi5Db25maWcoYnx8e2pheDpbImlucHV0L1RlWCIsImlucHV0L01hdGhNTCIsImlucHV0L0FzY2lpTWF0aCIsIm91dHB1dC9TVkciXSxleHRlbnNpb25zOlsidGV4MmpheC5qcyIsIm1tbDJqYXguanMiLCJhc2NpaW1hdGgyamF4LmpzIl0sVGVYOntleHRlbnNpb25zOlsiQU1TbWF0aC5qcyIsIkFNU3N5bWJvbHMuanMiLCJub0Vycm9ycy5qcyIsIm5vVW5kZWZpbmVkLmpzIl19LFNWRzp7Zm9udDpudWxsIT11cmxQYXJhbXNbIm1hdGgtZm9udCJdP2RlY29kZVVSSUNvbXBvbmVudCh1cmxQYXJhbXNbIm1hdGgtZm9udCJdKToiVGVYIix1c2VGb250Q2FjaGU6ITF9LHRleDJqYXg6e2lnbm9yZUNsYXNzOiJteENlbGxFZGl0b3IifSxhc2NpaW1hdGgyamF4OntpZ25vcmVDbGFzczoibXhDZWxsRWRpdG9yIn19KTsKTWF0aEpheC5IdWIuUmVnaXN0ZXIuU3RhcnR1cEhvb2soIkJlZ2luIixmdW5jdGlvbigpe2Zvcih2YXIgYT0wO2E8RWRpdG9yLm1hdGhKYXhRdWV1ZS5sZW5ndGg7YSsrKUVkaXRvci5kb01hdGhKYXhSZW5kZXIoRWRpdG9yLm1hdGhKYXhRdWV1ZVthXSl9KX19O0VkaXRvci5NYXRoSmF4UmVuZGVyPWZ1bmN0aW9uKGEpeyJ1bmRlZmluZWQiIT09dHlwZW9mIE1hdGhKYXgmJiJ1bmRlZmluZWQiIT09dHlwZW9mIE1hdGhKYXguSHViP0VkaXRvci5kb01hdGhKYXhSZW5kZXIoYSk6RWRpdG9yLm1hdGhKYXhRdWV1ZS5wdXNoKGEpfTtFZGl0b3IuTWF0aEpheENsZWFyPWZ1bmN0aW9uKCl7RWRpdG9yLm1hdGhKYXhRdWV1ZT1bXX07dmFyIGU9RWRpdG9yLnByb3RvdHlwZS5pbml0O0VkaXRvci5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbigpe2UuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuZ3JhcGguYWRkTGlzdGVuZXIobXhFdmVudC5TSVpFLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEsCmIpe251bGwhPXRoaXMuZ3JhcGguY29udGFpbmVyJiZ0aGlzLmdyYXBoLm1hdGhFbmFibGVkJiYhdGhpcy5ncmFwaC5ibG9ja01hdGhSZW5kZXImJkVkaXRvci5NYXRoSmF4UmVuZGVyKHRoaXMuZ3JhcGguY29udGFpbmVyKX0pKX07dmFyIGM9ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInNjcmlwdCIpO2lmKG51bGwhPWMmJjA8Yy5sZW5ndGgpe3ZhciBkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNjcmlwdCIpO2QudHlwZT0idGV4dC9qYXZhc2NyaXB0IjtkLnNyYz1hO2NbMF0ucGFyZW50Tm9kZS5hcHBlbmRDaGlsZChkKX19O0VkaXRvci5wcm90b3R5cGUuY3N2VG9BcnJheT1mdW5jdGlvbihhKXtpZighL15ccyooPzonW14nXFxdKig/OlxcW1xTXHNdW14nXFxdKikqJ3wiW14iXFxdKig/OlxcW1xTXHNdW14iXFxdKikqInxbXiwnIlxzXFxdKig/OlxzK1teLCciXHNcXF0rKSopXHMqKD86LFxzKig/OidbXidcXF0qKD86XFxbXFNcc11bXidcXF0qKSonfCJbXiJcXF0qKD86XFxbXFNcc11bXiJcXF0qKSoifFteLCciXHNcXF0qKD86XHMrW14sJyJcc1xcXSspKilccyopKiQvLnRlc3QoYSkpcmV0dXJuIG51bGw7CnZhciBiPVtdO2EucmVwbGFjZSgvKD8hXHMqJClccyooPzonKFteJ1xcXSooPzpcXFtcU1xzXVteJ1xcXSopKiknfCIoW14iXFxdKig/OlxcW1xTXHNdW14iXFxdKikqKSJ8KFteLCciXHNcXF0qKD86XHMrW14sJyJcc1xcXSspKikpXHMqKD86LHwkKS9nLGZ1bmN0aW9uKGEsZSxjLGQpe3ZvaWQgMCE9PWU/Yi5wdXNoKGUucmVwbGFjZSgvXFwnL2csIiciKSk6dm9pZCAwIT09Yz9iLnB1c2goYy5yZXBsYWNlKC9cXCIvZywnIicpKTp2b2lkIDAhPT1kJiZiLnB1c2goZCk7cmV0dXJuIiJ9KTsvLFxzKiQvLnRlc3QoYSkmJmIucHVzaCgiIik7cmV0dXJuIGJ9O0VkaXRvci5wcm90b3R5cGUuaXNDb3JzRW5hYmxlZEZvclVybD1mdW5jdGlvbihhKXtpZihteENsaWVudC5JU19DSFJPTUVBUFB8fEVkaXRvclVpLmlzRWxlY3Ryb25BcHApcmV0dXJuITA7bnVsbCE9dXJsUGFyYW1zLmNvcnMmJm51bGw9PXRoaXMuY29yc1JlZ0V4cCYmKHRoaXMuY29yc1JlZ0V4cD1uZXcgUmVnRXhwKGRlY29kZVVSSUNvbXBvbmVudCh1cmxQYXJhbXMuY29ycykpKTsKcmV0dXJuIG51bGwhPXRoaXMuY29yc1JlZ0V4cCYmdGhpcy5jb3JzUmVnRXhwLnRlc3QoYSl8fCJodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vIj09PWEuc3Vic3RyaW5nKDAsMzQpfTtFZGl0b3IucHJvdG90eXBlLmNyZWF0ZUltYWdlVXJsQ29udmVydGVyPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IG14VXJsQ29udmVydGVyO2EudXBkYXRlQmFzZVVybCgpO3ZhciBiPWEuY29udmVydCxlPXRoaXM7YS5jb252ZXJ0PWZ1bmN0aW9uKGMpe2lmKG51bGwhPWMpe3ZhciBkPSJodHRwOi8vIj09Yy5zdWJzdHJpbmcoMCw3KXx8Imh0dHBzOi8vIj09Yy5zdWJzdHJpbmcoMCw4KTtkJiYhbmF2aWdhdG9yLm9uTGluZT9jPUVkaXRvci5zdmdCcm9rZW5JbWFnZS5zcmM6IWR8fGMuc3Vic3RyaW5nKDAsYS5iYXNlVXJsLmxlbmd0aCk9PWEuYmFzZVVybHx8ZS5jcm9zc09yaWdpbkltYWdlcyYmZS5pc0NvcnNFbmFibGVkRm9yVXJsKGMpPyJjaHJvbWUtZXh0ZW5zaW9uOi8vIj09Yy5zdWJzdHJpbmcoMCwKMTkpfHxteENsaWVudC5JU19DSFJPTUVBUFB8fChjPWIuYXBwbHkodGhpcyxhcmd1bWVudHMpKTpjPVBST1hZX1VSTCsiP3VybD0iK2VuY29kZVVSSUNvbXBvbmVudChjKX1yZXR1cm4gY307cmV0dXJuIGF9O0VkaXRvci5jcmVhdGVTdmdEYXRhVXJpPWZ1bmN0aW9uKGEpe3JldHVybiJkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LCIrYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoYSkpKX07RWRpdG9yLnByb3RvdHlwZS5jb252ZXJ0SW1hZ2VUb0RhdGFVcmk9ZnVuY3Rpb24oYSxiKXt0cnl7dmFyIGU9ITAsYz13aW5kb3cuc2V0VGltZW91dChteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe2U9ITE7YihFZGl0b3Iuc3ZnQnJva2VuSW1hZ2Uuc3JjKX0pLHRoaXMudGltZW91dCk7aWYoLyhcLnN2ZykkL2kudGVzdChhKSlteFV0aWxzLmdldChhLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3dpbmRvdy5jbGVhclRpbWVvdXQoYyk7ZSYmYihFZGl0b3IuY3JlYXRlU3ZnRGF0YVVyaShhLmdldFRleHQoKSkpfSksCmZ1bmN0aW9uKCl7d2luZG93LmNsZWFyVGltZW91dChjKTtlJiZiKEVkaXRvci5zdmdCcm9rZW5JbWFnZS5zcmMpfSk7ZWxzZXt2YXIgZD1uZXcgSW1hZ2U7dGhpcy5jcm9zc09yaWdpbkltYWdlcyYmKGQuY3Jvc3NPcmlnaW49ImFub255bW91cyIpO2Qub25sb2FkPWZ1bmN0aW9uKCl7d2luZG93LmNsZWFyVGltZW91dChjKTtpZihlKXRyeXt2YXIgYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKSxmPWEuZ2V0Q29udGV4dCgiMmQiKTthLmhlaWdodD1kLmhlaWdodDthLndpZHRoPWQud2lkdGg7Zi5kcmF3SW1hZ2UoZCwwLDApO2IoYS50b0RhdGFVUkwoKSl9Y2F0Y2goWil7YihFZGl0b3Iuc3ZnQnJva2VuSW1hZ2Uuc3JjKX19O2Qub25lcnJvcj1mdW5jdGlvbigpe3dpbmRvdy5jbGVhclRpbWVvdXQoYyk7ZSYmYihFZGl0b3Iuc3ZnQnJva2VuSW1hZ2Uuc3JjKX07ZC5zcmM9YX19Y2F0Y2goSSl7YihFZGl0b3Iuc3ZnQnJva2VuSW1hZ2Uuc3JjKX19O0VkaXRvci5wcm90b3R5cGUuY29udmVydEltYWdlcz0KZnVuY3Rpb24oYSxiLGUsYyl7bnVsbD09YyYmKGM9dGhpcy5jcmVhdGVJbWFnZVVybENvbnZlcnRlcigpKTt2YXIgZD0wLGY9ZXx8e307ZT1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihlLGcpe2Zvcih2YXIgbD1hLmdldEVsZW1lbnRzQnlUYWdOYW1lKGUpLG49MDtuPGwubGVuZ3RoO24rKylteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihlKXt0cnl7aWYobnVsbCE9ZSl7dmFyIGw9Yy5jb252ZXJ0KGUuZ2V0QXR0cmlidXRlKGcpKTtpZihudWxsIT1sJiYiZGF0YToiIT1sLnN1YnN0cmluZygwLDUpKXt2YXIgbj1mW2xdO251bGw9PW4/KGQrKyx0aGlzLmNvbnZlcnRJbWFnZVRvRGF0YVVyaShsLGZ1bmN0aW9uKGMpe251bGwhPWMmJihmW2xdPWMsZS5zZXRBdHRyaWJ1dGUoZyxjKSk7ZC0tOzA9PWQmJmIoYSl9KSk6ZS5zZXRBdHRyaWJ1dGUoZyxuKX1lbHNlIG51bGwhPWwmJmUuc2V0QXR0cmlidXRlKGcsbCl9fWNhdGNoKGRhKXt9fSkobFtuXSl9KTtlKCJpbWFnZSIsInhsaW5rOmhyZWYiKTsKZSgiaW1nIiwic3JjIik7MD09ZCYmYihhKX07RWRpdG9yLmJhc2U2NEVuY29kZT1mdW5jdGlvbihhKXtmb3IodmFyIGI9IiIsZT0wLGM9YS5sZW5ndGgsZCxmLGc7ZTxjOyl7ZD1hLmNoYXJDb2RlQXQoZSsrKSYyNTU7aWYoZT09Yyl7Yis9IkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky8iLmNoYXJBdChkPj4yKTtiKz0iQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyIuY2hhckF0KChkJjMpPDw0KTtiKz0iPT0iO2JyZWFrfWY9YS5jaGFyQ29kZUF0KGUrKyk7aWYoZT09Yyl7Yis9IkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky8iLmNoYXJBdChkPj4yKTtiKz0iQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyIuY2hhckF0KChkJgozKTw8NHwoZiYyNDApPj40KTtiKz0iQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyIuY2hhckF0KChmJjE1KTw8Mik7Yis9Ij0iO2JyZWFrfWc9YS5jaGFyQ29kZUF0KGUrKyk7Yis9IkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky8iLmNoYXJBdChkPj4yKTtiKz0iQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyIuY2hhckF0KChkJjMpPDw0fChmJjI0MCk+PjQpO2IrPSJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvIi5jaGFyQXQoKGYmMTUpPDwyfChnJjE5Mik+PjYpO2IrPSJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvIi5jaGFyQXQoZyY2Myl9cmV0dXJuIGJ9OwpFZGl0b3IucHJvdG90eXBlLmxvYWRVcmw9ZnVuY3Rpb24oYSxiLGUsYyxkLGYsZyxsKXt0cnl7dmFyIG49IWcmJihjfHwvKFwucG5nKSgkfFw/KS9pLnRlc3QoYSl8fC8oXC5qcGU/ZykoJHxcPykvaS50ZXN0KGEpfHwvKFwuZ2lmKSgkfFw/KS9pLnRlc3QoYSl8fC8oXC5wZGYpKCR8XD8pL2kudGVzdChhKSk7ZD1udWxsIT1kP2Q6ITA7dmFyIHA9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXtteFV0aWxzLmdldChhLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe2lmKDIwMDw9YS5nZXRTdGF0dXMoKSYmMjk5Pj1hLmdldFN0YXR1cygpKXtpZihudWxsIT1iKXt2YXIgYz1hLmdldFRleHQoKTtpZihuKXtpZigoOT09ZG9jdW1lbnQuZG9jdW1lbnRNb2RlfHwxMD09ZG9jdW1lbnQuZG9jdW1lbnRNb2RlKSYmInVuZGVmaW5lZCIhPT10eXBlb2Ygd2luZG93Lm14VXRpbHNCaW5hcnlUb0FycmF5KXthPW14VXRpbHNCaW5hcnlUb0FycmF5KGEucmVxdWVzdC5yZXNwb25zZUJvZHkpLnRvQXJyYXkoKTsKZm9yKHZhciBjPUFycmF5KGEubGVuZ3RoKSxkPTA7ZDxhLmxlbmd0aDtkKyspY1tkXT1TdHJpbmcuZnJvbUNoYXJDb2RlKGFbZF0pO2M9Yy5qb2luKCIiKX1mPW51bGwhPWY/ZjoiZGF0YTppbWFnZS9wbmc7YmFzZTY0LCI7Yz1mK0VkaXRvci5iYXNlNjRFbmNvZGUoYyl9YihjKX19ZWxzZSBudWxsIT1lJiYoMD09YS5nZXRTdGF0dXMoKT9lKHttZXNzYWdlOm14UmVzb3VyY2VzLmdldCgiYWNjZXNzRGVuaWVkIil9LGEpOmUoe21lc3NhZ2U6bXhSZXNvdXJjZXMuZ2V0KCJlcnJvciIpKyIgIithLmdldFN0YXR1cygpfSxhKSl9KSxmdW5jdGlvbihhKXtudWxsIT1lJiZlKHttZXNzYWdlOm14UmVzb3VyY2VzLmdldCgiZXJyb3IiKSsiICIrYS5nZXRTdGF0dXMoKX0pfSxuLHRoaXMudGltZW91dCxmdW5jdGlvbigpe2QmJm51bGwhPWUmJmUoe2NvZGU6QXBwLkVSUk9SX1RJTUVPVVQscmV0cnk6cH0pfSxsKX0pO3AoKX1jYXRjaChiYSl7bnVsbCE9ZSYmZShiYSl9fTtFZGl0b3IucHJvdG90eXBlLmVtYmVkQ3NzRm9udHM9CmZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gZShhKXtyZXR1cm4gYS5yZXBsYWNlKFJlZ0V4cCgiXltcXHNcIiddKyIsImciKSwiIikucmVwbGFjZShSZWdFeHAoIltcXHNcIiddKyQiLCJnIiksIiIpfXZhciBjPWEuc3BsaXQoInVybCgiKSxkPTA7bnVsbD09dGhpcy5jYWNoZWRGb250cyYmKHRoaXMuY2FjaGVkRm9udHM9e30pO3ZhciBmPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7aWYoMD09ZCl7Zm9yKHZhciBhPVtjWzBdXSxmPTE7ZjxjLmxlbmd0aDtmKyspe3ZhciBnPWNbZl0uaW5kZXhPZigiKSIpO2EucHVzaCgndXJsKCInKTthLnB1c2godGhpcy5jYWNoZWRGb250c1tlKGNbZl0uc3Vic3RyaW5nKDAsZykpXSk7YS5wdXNoKCciJytjW2ZdLnN1YnN0cmluZyhnKSl9YihhLmpvaW4oIiIpKX19KTtpZigwPGMubGVuZ3RoKXtmb3IodmFyIGc9MTtnPGMubGVuZ3RoO2crKyl7dmFyIGw9Y1tnXS5pbmRleE9mKCIpIiksbj1udWxsLHA9Y1tnXS5pbmRleE9mKCJmb3JtYXQoIixsKTsKMDxwJiYobj1lKGNbZ10uc3Vic3RyaW5nKHArNyxjW2ddLmluZGV4T2YoIikiLHApKSkpO214VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe2lmKG51bGw9PXRoaXMuY2FjaGVkRm9udHNbYV0pe3RoaXMuY2FjaGVkRm9udHNbYV09YTtkKys7dmFyIGI9ImFwcGxpY2F0aW9uL3gtZm9udC10dGYiO2lmKCJzdmciPT1ufHwvKFwuc3ZnKSgkfFw/KS9pLnRlc3QoYSkpYj0iaW1hZ2Uvc3ZnK3htbCI7ZWxzZSBpZigib3RmIj09bnx8ImVtYmVkZGVkLW9wZW50eXBlIj09bnx8LyhcLm90ZikoJHxcPykvaS50ZXN0KGEpKWI9ImFwcGxpY2F0aW9uL3gtZm9udC1vcGVudHlwZSI7ZWxzZSBpZigid29mZiI9PW58fC8oXC53b2ZmKSgkfFw/KS9pLnRlc3QoYSkpYj0iYXBwbGljYXRpb24vZm9udC13b2ZmIjtlbHNlIGlmKCJ3b2ZmMiI9PW58fC8oXC53b2ZmMikoJHxcPykvaS50ZXN0KGEpKWI9ImFwcGxpY2F0aW9uL2ZvbnQtd29mZjIiO2Vsc2UgaWYoImVvdCI9PW58fC8oXC5lb3QpKCR8XD8pL2kudGVzdChhKSliPQoiYXBwbGljYXRpb24vdm5kLm1zLWZvbnRvYmplY3QiO2Vsc2UgaWYoInNmbnQiPT1ufHwvKFwuc2ZudCkoJHxcPykvaS50ZXN0KGEpKWI9ImFwcGxpY2F0aW9uL2ZvbnQtc2ZudCI7dmFyIGU9YTsvXmh0dHBzPzpcL1wvLy50ZXN0KGUpJiYhdGhpcy5pc0NvcnNFbmFibGVkRm9yVXJsKGUpJiYoZT1QUk9YWV9VUkwrIj91cmw9IitlbmNvZGVVUklDb21wb25lbnQoYSkpO3RoaXMubG9hZFVybChlLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGIpe3RoaXMuY2FjaGVkRm9udHNbYV09YjtkLS07ZigpfSksbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7ZC0tO2YoKX0pLCEwLG51bGwsImRhdGE6IitiKyI7Y2hhcnNldD11dGYtODtiYXNlNjQsIil9fSkoZShjW2ddLnN1YnN0cmluZygwLGwpKSxuKX1mKCl9ZWxzZSBiKGEpfTtFZGl0b3IucHJvdG90eXBlLmxvYWRGb250cz1mdW5jdGlvbihhKXtudWxsIT10aGlzLmZvbnRDc3MmJm51bGw9PXRoaXMucmVzb2x2ZWRGb250Q3NzP3RoaXMuZW1iZWRDc3NGb250cyh0aGlzLmZvbnRDc3MsCm14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGIpe3RoaXMucmVzb2x2ZWRGb250Q3NzPWI7YSgpfSkpOmEoKX07RWRpdG9yLnByb3RvdHlwZS5lbWJlZEV4dEZvbnRzPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZ3JhcGguZXh0Rm9udHM7aWYobnVsbCE9YiYmMDxiLmxlbmd0aCl7dmFyIGU9IiIsYz0wO251bGw9PXRoaXMuY2FjaGVkR29vZ2xlRm9udHMmJih0aGlzLmNhY2hlZEdvb2dsZUZvbnRzPXt9KTtmb3IodmFyIGQ9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXswPT1jJiZ0aGlzLmVtYmVkQ3NzRm9udHMoZSxhKX0pLGY9MDtmPGIubGVuZ3RoO2YrKylteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhLGIpezA9PWIuaW5kZXhPZihFZGl0b3IuR09PR0xFX0ZPTlRTKT9udWxsPT10aGlzLmNhY2hlZEdvb2dsZUZvbnRzW2JdPyhjKyssdGhpcy5sb2FkVXJsKGIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7dGhpcy5jYWNoZWRHb29nbGVGb250c1tiXT1hO2UrPWE7Yy0tOwpkKCl9KSxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXtjLS07ZSs9IkBpbXBvcnQgdXJsKCIrYisiKTsiO2QoKX0pKSk6ZSs9dGhpcy5jYWNoZWRHb29nbGVGb250c1tiXTplKz0nQGZvbnQtZmFjZSB7Zm9udC1mYW1pbHk6ICInK2ErJyI7c3JjOiB1cmwoIicrYisnIik7fSd9KShiW2ZdLm5hbWUsYltmXS51cmwpO2QoKX1lbHNlIGEoKX07RWRpdG9yLnByb3RvdHlwZS5hZGRNYXRoQ3NzPWZ1bmN0aW9uKGEpe2E9YS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiZGVmcyIpO2lmKG51bGwhPWEmJjA8YS5sZW5ndGgpZm9yKHZhciBiPWRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJzdHlsZSIpLGU9MDtlPGIubGVuZ3RoO2UrKykwPG14VXRpbHMuZ2V0VGV4dENvbnRlbnQoYltlXSkuaW5kZXhPZigiTWF0aEpheCIpJiZhWzBdLmFwcGVuZENoaWxkKGJbZV0uY2xvbmVOb2RlKCEwKSl9O0VkaXRvci5wcm90b3R5cGUuYWRkRm9udENzcz1mdW5jdGlvbihhLGIpe2I9bnVsbCE9Yj8KYjp0aGlzLmZvbnRDc3M7aWYobnVsbCE9Yil7dmFyIGU9YS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiZGVmcyIpLGM9YS5vd25lckRvY3VtZW50OzA9PWUubGVuZ3RoPyhlPW51bGwhPWMuY3JlYXRlRWxlbWVudE5TP2MuY3JlYXRlRWxlbWVudE5TKG14Q29uc3RhbnRzLk5TX1NWRywiZGVmcyIpOmMuY3JlYXRlRWxlbWVudCgiZGVmcyIpLG51bGwhPWEuZmlyc3RDaGlsZD9hLmluc2VydEJlZm9yZShlLGEuZmlyc3RDaGlsZCk6YS5hcHBlbmRDaGlsZChlKSk6ZT1lWzBdO2M9bnVsbCE9Yy5jcmVhdGVFbGVtZW50TlM/Yy5jcmVhdGVFbGVtZW50TlMobXhDb25zdGFudHMuTlNfU1ZHLCJzdHlsZSIpOmMuY3JlYXRlRWxlbWVudCgic3R5bGUiKTtjLnNldEF0dHJpYnV0ZSgidHlwZSIsInRleHQvY3NzIik7bXhVdGlscy5zZXRUZXh0Q29udGVudChjLGIpO2UuYXBwZW5kQ2hpbGQoYyl9fTtFZGl0b3IucHJvdG90eXBlLmlzRXhwb3J0VG9DYW52YXM9ZnVuY3Rpb24oKXtyZXR1cm4gbXhDbGllbnQuSVNfQ0hST01FQVBQfHwKdGhpcy51c2VDYW52YXNGb3JFeHBvcnR9O0VkaXRvci5wcm90b3R5cGUuZXhwb3J0VG9DYW52YXM9ZnVuY3Rpb24oYSxiLGUsYyxkLGYsZyxsLG4scCx0LGssbSx5LHYseCl7dHJ5e2Y9bnVsbCE9Zj9mOiEwO2c9bnVsbCE9Zz9nOiEwO2s9bnVsbCE9az9rOnRoaXMuZ3JhcGg7bT1udWxsIT1tP206MDt2YXIgdT1uP251bGw6ay5iYWNrZ3JvdW5kO3U9PW14Q29uc3RhbnRzLk5PTkUmJih1PW51bGwpO251bGw9PXUmJih1PWMpO251bGw9PXUmJjA9PW4mJih1PXg/dGhpcy5ncmFwaC5kZWZhdWx0UGFnZUJhY2tncm91bmRDb2xvcjoiI2ZmZmZmZiIpO3RoaXMuY29udmVydEltYWdlcyhrLmdldFN2ZyhudWxsLG51bGwsbnVsbCx5LG51bGwsZyxudWxsLG51bGwsbnVsbCxwLG51bGwseCksbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oZSl7dHJ5e3ZhciBjPW5ldyBJbWFnZTtjLm9ubG9hZD1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RyeXt2YXIgZz1mdW5jdGlvbigpe214Q2xpZW50LklTX1NGPwp3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpe3kuZHJhd0ltYWdlKGMsbS9sLG0vbCk7YShuKX0sMCk6KHkuZHJhd0ltYWdlKGMsbS9sLG0vbCksYShuKSl9LG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIikscD1wYXJzZUludChlLmdldEF0dHJpYnV0ZSgid2lkdGgiKSksdD1wYXJzZUludChlLmdldEF0dHJpYnV0ZSgiaGVpZ2h0IikpO2w9bnVsbCE9bD9sOjE7bnVsbCE9YiYmKGw9Zj9NYXRoLm1pbigxLE1hdGgubWluKDMqYi8oNCp0KSxiL3ApKTpiL3ApO3A9TWF0aC5jZWlsKGwqcCkrMiptO3Q9TWF0aC5jZWlsKGwqdCkrMiptO24uc2V0QXR0cmlidXRlKCJ3aWR0aCIscCk7bi5zZXRBdHRyaWJ1dGUoImhlaWdodCIsdCk7dmFyIHk9bi5nZXRDb250ZXh0KCIyZCIpO251bGwhPXUmJih5LmJlZ2luUGF0aCgpLHkucmVjdCgwLDAscCx0KSx5LmZpbGxTdHlsZT11LHkuZmlsbCgpKTt5LnNjYWxlKGwsbCk7aWYodil7dmFyIHg9ay52aWV3LEE9eC5zY2FsZTt4LnNjYWxlPQoxO3ZhciB6PWJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KHguY3JlYXRlU3ZnR3JpZCh4LmdyaWRDb2xvcikpKSk7eC5zY2FsZT1BO3ZhciB6PSJkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LCIreixxPWsuZ3JpZFNpemUqeC5ncmlkU3RlcHMqbCxDPWsuZ2V0R3JhcGhCb3VuZHMoKSxLPXgudHJhbnNsYXRlLngqQSxJPXgudHJhbnNsYXRlLnkqQSxCPUsrKEMueC1LKS9BLEQ9SSsoQy55LUkpL0EsRT1uZXcgSW1hZ2U7RS5vbmxvYWQ9ZnVuY3Rpb24oKXt0cnl7Zm9yKHZhciBhPS1NYXRoLnJvdW5kKHEtbXhVdGlscy5tb2QoKEstQikqbCxxKSksYj0tTWF0aC5yb3VuZChxLW14VXRpbHMubW9kKChJLUQpKmwscSkpO2E8cDthKz1xKWZvcih2YXIgZT1iO2U8dDtlKz1xKXkuZHJhd0ltYWdlKEUsYS9sLGUvbCk7ZygpfWNhdGNoKGphKXtudWxsIT1kJiZkKGphKX19O0Uub25lcnJvcj1mdW5jdGlvbihhKXtudWxsIT1kJiZkKGEpfTtFLnNyYz16fWVsc2UgZygpfWNhdGNoKG9hKXtudWxsIT0KZCYmZChvYSl9fSk7Yy5vbmVycm9yPWZ1bmN0aW9uKGEpe251bGwhPWQmJmQoYSl9O3AmJnRoaXMuZ3JhcGguYWRkU3ZnU2hhZG93KGUpO3RoaXMuZ3JhcGgubWF0aEVuYWJsZWQmJnRoaXMuYWRkTWF0aENzcyhlKTt2YXIgZz1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RyeXtudWxsIT10aGlzLnJlc29sdmVkRm9udENzcyYmdGhpcy5hZGRGb250Q3NzKGUsdGhpcy5yZXNvbHZlZEZvbnRDc3MpLGMuc3JjPUVkaXRvci5jcmVhdGVTdmdEYXRhVXJpKG14VXRpbHMuZ2V0WG1sKGUpKX1jYXRjaChPKXtudWxsIT1kJiZkKE8pfX0pO3RoaXMuZW1iZWRFeHRGb250cyhteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXt0cnl7bnVsbCE9YSYmdGhpcy5hZGRGb250Q3NzKGUsYSksdGhpcy5sb2FkRm9udHMoZyl9Y2F0Y2goWCl7bnVsbCE9ZCYmZChYKX19KSl9Y2F0Y2goTyl7bnVsbCE9ZCYmZChPKX19KSxlLHQpfWNhdGNoKFApe251bGwhPWQmJmQoUCl9fTtFZGl0b3IuY3JjVGFibGU9CltdO2Zvcih2YXIgaz0wOzI1Nj5rO2srKylmb3IodmFyIG09ayxxPTA7OD5xO3ErKyltPTE9PShtJjEpPzM5ODgyOTIzODRebT4+PjE6bT4+PjEsRWRpdG9yLmNyY1RhYmxlW2tdPW07RWRpdG9yLnVwZGF0ZUNSQz1mdW5jdGlvbihhLGIsZSxjKXtmb3IodmFyIGQ9MDtkPGM7ZCsrKWE9RWRpdG9yLmNyY1RhYmxlWyhhXmIuY2hhckNvZGVBdChlK2QpKSYyNTVdXmE+Pj44O3JldHVybiBhfTtFZGl0b3IuY3JjMzI9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPS0xLGU9MDtlPGEubGVuZ3RoO2UrKyliPWI+Pj44XkVkaXRvci5jcmNUYWJsZVsoYl5hLmNoYXJDb2RlQXQoZSkpJjI1NV07cmV0dXJuKGJeLTEpPj4+MH07RWRpdG9yLndyaXRlR3JhcGhNb2RlbFRvUG5nPWZ1bmN0aW9uKGEsYixlLGMsZCl7ZnVuY3Rpb24gZihhLGIpe3ZhciBlPW47bis9YjtyZXR1cm4gYS5zdWJzdHJpbmcoZSxuKX1mdW5jdGlvbiBnKGEpe2E9ZihhLDQpO3JldHVybiBhLmNoYXJDb2RlQXQoMykrKGEuY2hhckNvZGVBdCgyKTw8CjgpKyhhLmNoYXJDb2RlQXQoMSk8PDE2KSsoYS5jaGFyQ29kZUF0KDApPDwyNCl9ZnVuY3Rpb24gbChhKXtyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShhPj4yNCYyNTUsYT4+MTYmMjU1LGE+PjgmMjU1LGEmMjU1KX1hPWEuc3Vic3RyaW5nKGEuaW5kZXhPZigiLCIpKzEpO2E9d2luZG93LmF0b2I/YXRvYihhKTpCYXNlNjQuZGVjb2RlKGEsITApO3ZhciBuPTA7aWYoZihhLDgpIT1TdHJpbmcuZnJvbUNoYXJDb2RlKDEzNykrIlBORyIrU3RyaW5nLmZyb21DaGFyQ29kZSgxMywxMCwyNiwxMCkpbnVsbCE9ZCYmZCgpO2Vsc2UgaWYoZihhLDQpLCJJSERSIiE9ZihhLDQpKW51bGwhPWQmJmQoKTtlbHNle2YoYSwxNyk7ZD1hLnN1YnN0cmluZygwLG4pO2Rve3ZhciBwPWcoYSk7aWYoIklEQVQiPT1mKGEsNCkpe2Q9YS5zdWJzdHJpbmcoMCxuLTgpOyJwSFlzIj09YiYmImRwaSI9PWU/KGU9TWF0aC5yb3VuZChjLy4wMjU0KSxlPWwoZSkrbChlKStTdHJpbmcuZnJvbUNoYXJDb2RlKDEpKToKZT1lK1N0cmluZy5mcm9tQ2hhckNvZGUoMCkrKCJ6VFh0Ij09Yj9TdHJpbmcuZnJvbUNoYXJDb2RlKDApOiIiKStjO2M9NDI5NDk2NzI5NTtjPUVkaXRvci51cGRhdGVDUkMoYyxiLDAsNCk7Yz1FZGl0b3IudXBkYXRlQ1JDKGMsZSwwLGUubGVuZ3RoKTtkKz1sKGUubGVuZ3RoKStiK2UrbChjXjQyOTQ5NjcyOTUpO2QrPWEuc3Vic3RyaW5nKG4tOCxhLmxlbmd0aCk7YnJlYWt9ZCs9YS5zdWJzdHJpbmcobi04LG4tNCtwKTtmKGEscCk7ZihhLDQpfXdoaWxlKHApO3JldHVybiJkYXRhOmltYWdlL3BuZztiYXNlNjQsIisod2luZG93LmJ0b2E/YnRvYShkKTpCYXNlNjQuZW5jb2RlKGQsITApKX19O2lmKHdpbmRvdy5Db2xvckRpYWxvZyl7RmlsZW5hbWVEaWFsb2cuZmlsZW5hbWVIZWxwTGluaz0iaHR0cHM6Ly9kZXNrLmRyYXcuaW8vc3VwcG9ydC9zb2x1dGlvbnMvYXJ0aWNsZXMvMTYwMDAwOTE0MjYiO3ZhciBiPUNvbG9yRGlhbG9nLmFkZFJlY2VudENvbG9yO0NvbG9yRGlhbG9nLmFkZFJlY2VudENvbG9yPQpmdW5jdGlvbihhLGUpe2IuYXBwbHkodGhpcyxhcmd1bWVudHMpO214U2V0dGluZ3Muc2V0UmVjZW50Q29sb3JzKENvbG9yRGlhbG9nLnJlY2VudENvbG9ycyk7bXhTZXR0aW5ncy5zYXZlKCl9O3ZhciBlPUNvbG9yRGlhbG9nLnJlc2V0UmVjZW50Q29sb3JzO0NvbG9yRGlhbG9nLnJlc2V0UmVjZW50Q29sb3JzPWZ1bmN0aW9uKCl7ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7bXhTZXR0aW5ncy5zZXRSZWNlbnRDb2xvcnMoQ29sb3JEaWFsb2cucmVjZW50Q29sb3JzKTtteFNldHRpbmdzLnNhdmUoKX19d2luZG93LkVkaXREYXRhRGlhbG9nJiYoRWRpdERhdGFEaWFsb2cuZ2V0RGlzcGxheUlkRm9yQ2VsbD1mdW5jdGlvbihhLGIpe3ZhciBlPW51bGw7bnVsbCE9YS5lZGl0b3IuZ3JhcGguZ2V0TW9kZWwoKS5nZXRQYXJlbnQoYik/ZT1iLmdldElkKCk6bnVsbCE9YS5jdXJyZW50UGFnZSYmKGU9YS5jdXJyZW50UGFnZS5nZXRJZCgpKTtyZXR1cm4gZX0pO2lmKG51bGwhPXdpbmRvdy5TdHlsZUZvcm1hdFBhbmVsKXt2YXIgZz0KRm9ybWF0LnByb3RvdHlwZS5pbml0O0Zvcm1hdC5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbigpe2cuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuZWRpdG9yVWkuZWRpdG9yLmFkZExpc3RlbmVyKCJmaWxlTG9hZGVkIix0aGlzLnVwZGF0ZSl9O3ZhciBuPUZvcm1hdC5wcm90b3R5cGUucmVmcmVzaDtGb3JtYXQucHJvdG90eXBlLnJlZnJlc2g9ZnVuY3Rpb24oKXtudWxsIT10aGlzLmVkaXRvclVpLmdldEN1cnJlbnRGaWxlKCl8fCIxIj09dXJsUGFyYW1zLmVtYmVkfHx0aGlzLmVkaXRvclVpLmVkaXRvci5jaHJvbWVsZXNzP24uYXBwbHkodGhpcyxhcmd1bWVudHMpOnRoaXMuY2xlYXIoKX07RGlhZ3JhbUZvcm1hdFBhbmVsLnByb3RvdHlwZS5pc1NoYWRvd09wdGlvblZpc2libGU9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmVkaXRvclVpLmdldEN1cnJlbnRGaWxlKCk7cmV0dXJuIjEiPT11cmxQYXJhbXMuZW1iZWR8fG51bGwhPWEmJmEuaXNFZGl0YWJsZSgpfTtEaWFncmFtRm9ybWF0UGFuZWwucHJvdG90eXBlLmlzTWF0aE9wdGlvblZpc2libGU9CmZ1bmN0aW9uKGEpe3JldHVybiExfTt2YXIgbD1EaWFncmFtRm9ybWF0UGFuZWwucHJvdG90eXBlLmFkZFZpZXc7RGlhZ3JhbUZvcm1hdFBhbmVsLnByb3RvdHlwZS5hZGRWaWV3PWZ1bmN0aW9uKGEpe2E9bC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5lZGl0b3JVaS5nZXRDdXJyZW50RmlsZSgpO2lmKG14Q2xpZW50LklTX1NWRyYmdGhpcy5pc1NoYWRvd09wdGlvblZpc2libGUoKSl7dmFyIGI9dGhpcy5lZGl0b3JVaSxlPWIuZWRpdG9yLmdyYXBoLGM9dGhpcy5jcmVhdGVPcHRpb24obXhSZXNvdXJjZXMuZ2V0KCJzaGFkb3ciKSxmdW5jdGlvbigpe3JldHVybiBlLnNoYWRvd1Zpc2libGV9LGZ1bmN0aW9uKGEpe3ZhciBjPW5ldyBDaGFuZ2VQYWdlU2V0dXAoYik7Yy5pZ25vcmVDb2xvcj0hMDtjLmlnbm9yZUltYWdlPSEwO2Muc2hhZG93VmlzaWJsZT1hO2UubW9kZWwuZXhlY3V0ZShjKX0se2luc3RhbGw6ZnVuY3Rpb24oYSl7dGhpcy5saXN0ZW5lcj1mdW5jdGlvbigpe2EoZS5zaGFkb3dWaXNpYmxlKX07CmIuYWRkTGlzdGVuZXIoInNoYWRvd1Zpc2libGVDaGFuZ2VkIix0aGlzLmxpc3RlbmVyKX0sZGVzdHJveTpmdW5jdGlvbigpe2IucmVtb3ZlTGlzdGVuZXIodGhpcy5saXN0ZW5lcil9fSk7RWRpdG9yLnNoYWRvd09wdGlvbkVuYWJsZWR8fChjLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJpbnB1dCIpWzBdLnNldEF0dHJpYnV0ZSgiZGlzYWJsZWQiLCJkaXNhYmxlZCIpLG14VXRpbHMuc2V0T3BhY2l0eShjLDYwKSk7YS5hcHBlbmRDaGlsZChjKX1yZXR1cm4gYX07dmFyIHA9RGlhZ3JhbUZvcm1hdFBhbmVsLnByb3RvdHlwZS5hZGRPcHRpb25zO0RpYWdyYW1Gb3JtYXRQYW5lbC5wcm90b3R5cGUuYWRkT3B0aW9ucz1mdW5jdGlvbihhKXthPXAuYXBwbHkodGhpcyxhcmd1bWVudHMpO3ZhciBiPXRoaXMuZWRpdG9yVWksZT1iLmVkaXRvci5ncmFwaDtpZihlLmlzRW5hYmxlZCgpKXt2YXIgYz1iLmdldEN1cnJlbnRGaWxlKCk7aWYobnVsbCE9YyYmYy5pc0F1dG9zYXZlT3B0aW9uYWwoKSl7dmFyIGQ9CnRoaXMuY3JlYXRlT3B0aW9uKG14UmVzb3VyY2VzLmdldCgiYXV0b3NhdmUiKSxmdW5jdGlvbigpe3JldHVybiBiLmVkaXRvci5hdXRvc2F2ZX0sZnVuY3Rpb24oYSl7Yi5lZGl0b3Iuc2V0QXV0b3NhdmUoYSk7Yi5lZGl0b3IuYXV0b3NhdmUmJmMuaXNNb2RpZmllZCgpJiZjLmZpbGVDaGFuZ2VkKCl9LHtpbnN0YWxsOmZ1bmN0aW9uKGEpe3RoaXMubGlzdGVuZXI9ZnVuY3Rpb24oKXthKGIuZWRpdG9yLmF1dG9zYXZlKX07Yi5lZGl0b3IuYWRkTGlzdGVuZXIoImF1dG9zYXZlQ2hhbmdlZCIsdGhpcy5saXN0ZW5lcil9LGRlc3Ryb3k6ZnVuY3Rpb24oKXtiLmVkaXRvci5yZW1vdmVMaXN0ZW5lcih0aGlzLmxpc3RlbmVyKX19KTthLmFwcGVuZENoaWxkKGQpfX1pZih0aGlzLmlzTWF0aE9wdGlvblZpc2libGUoKSYmZS5pc0VuYWJsZWQoKSYmInVuZGVmaW5lZCIhPT10eXBlb2YgTWF0aEpheCl7ZD10aGlzLmNyZWF0ZU9wdGlvbihteFJlc291cmNlcy5nZXQoIm1hdGhlbWF0aWNhbFR5cGVzZXR0aW5nIiksCmZ1bmN0aW9uKCl7cmV0dXJuIGUubWF0aEVuYWJsZWR9LGZ1bmN0aW9uKGEpe2IuYWN0aW9ucy5nZXQoIm1hdGhlbWF0aWNhbFR5cGVzZXR0aW5nIikuZnVuY3QoKX0se2luc3RhbGw6ZnVuY3Rpb24oYSl7dGhpcy5saXN0ZW5lcj1mdW5jdGlvbigpe2EoZS5tYXRoRW5hYmxlZCl9O2IuYWRkTGlzdGVuZXIoIm1hdGhFbmFibGVkQ2hhbmdlZCIsdGhpcy5saXN0ZW5lcil9LGRlc3Ryb3k6ZnVuY3Rpb24oKXtiLnJlbW92ZUxpc3RlbmVyKHRoaXMubGlzdGVuZXIpfX0pO2Quc3R5bGUucGFkZGluZ1RvcD0iNXB4IjthLmFwcGVuZENoaWxkKGQpO3ZhciBmPWIubWVudXMuY3JlYXRlSGVscExpbmsoImh0dHBzOi8vZGVzay5kcmF3LmlvL3N1cHBvcnQvc29sdXRpb25zL2FydGljbGVzLzE2MDAwMDMyODc1Iik7Zi5zdHlsZS5wb3NpdGlvbj0icmVsYXRpdmUiO2Yuc3R5bGUubWFyZ2luTGVmdD0iNnB4IjtmLnN0eWxlLnRvcD0iMnB4IjtkLmFwcGVuZENoaWxkKGYpfXJldHVybiBhfTtteENlbGxSZW5kZXJlci5wcm90b3R5cGUuZGVmYXVsdFZlcnRleFNoYXBlLnByb3RvdHlwZS5jdXN0b21Qcm9wZXJ0aWVzPQpbe25hbWU6ImFyY1NpemUiLGRpc3BOYW1lOiJBcmMgU2l6ZSIsdHlwZToiZmxvYXQiLG1pbjowLGRlZlZhbDpteENvbnN0YW50cy5MSU5FX0FSQ1NJWkV9LHtuYW1lOiJhYnNvbHV0ZUFyY1NpemUiLGRpc3BOYW1lOiJBYnMuIEFyYyBTaXplIix0eXBlOiJib29sIixkZWZWYWw6ITF9XTtteENlbGxSZW5kZXJlci5kZWZhdWx0U2hhcGVzLmxpbmsucHJvdG90eXBlLmN1c3RvbVByb3BlcnRpZXM9W3tuYW1lOiJ3aWR0aCIsZGlzcE5hbWU6IldpZHRoIix0eXBlOiJmbG9hdCIsbWluOjAsZGVmVmFsOjR9XTtteENlbGxSZW5kZXJlci5kZWZhdWx0U2hhcGVzLmZsZXhBcnJvdy5wcm90b3R5cGUuY3VzdG9tUHJvcGVydGllcz1be25hbWU6IndpZHRoIixkaXNwTmFtZToiV2lkdGgiLHR5cGU6ImZsb2F0IixtaW46MCxkZWZWYWw6MTB9LHtuYW1lOiJzdGFydFdpZHRoIixkaXNwTmFtZToiU3RhcnQgV2lkdGgiLHR5cGU6ImZsb2F0IixtaW46MCxkZWZWYWw6MjB9LHtuYW1lOiJlbmRXaWR0aCIsCmRpc3BOYW1lOiJFbmQgV2lkdGgiLHR5cGU6ImZsb2F0IixtaW46MCxkZWZWYWw6MjB9XTtteENlbGxSZW5kZXJlci5kZWZhdWx0U2hhcGVzLnByb2Nlc3MucHJvdG90eXBlLmN1c3RvbVByb3BlcnRpZXM9W3tuYW1lOiJzaXplIixkaXNwTmFtZToiSW5kZW50Iix0eXBlOiJmbG9hdCIsbWluOjAsbWF4Oi41LGRlZlZhbDouMX1dO214Q2VsbFJlbmRlcmVyLmRlZmF1bHRTaGFwZXMucmhvbWJ1cy5wcm90b3R5cGUuY3VzdG9tUHJvcGVydGllcz1be25hbWU6ImFyY1NpemUiLGRpc3BOYW1lOiJBcmMgU2l6ZSIsdHlwZToiZmxvYXQiLG1pbjowLG1heDo1MCxkZWZWYWw6bXhDb25zdGFudHMuTElORV9BUkNTSVpFfSx7bmFtZToiZG91YmxlIixkaXNwTmFtZToiRG91YmxlIix0eXBlOiJib29sIixkZWZWYWw6ITF9XTtteENlbGxSZW5kZXJlci5kZWZhdWx0U2hhcGVzLnBhcnRpYWxSZWN0YW5nbGUucHJvdG90eXBlLmN1c3RvbVByb3BlcnRpZXM9W3tuYW1lOiJ0b3AiLGRpc3BOYW1lOiJUb3AgTGluZSIsCnR5cGU6ImJvb2wiLGRlZlZhbDohMH0se25hbWU6ImJvdHRvbSIsZGlzcE5hbWU6IkJvdHRvbSBMaW5lIix0eXBlOiJib29sIixkZWZWYWw6ITB9LHtuYW1lOiJsZWZ0IixkaXNwTmFtZToiTGVmdCBMaW5lIix0eXBlOiJib29sIixkZWZWYWw6ITB9LHtuYW1lOiJyaWdodCIsZGlzcE5hbWU6IlJpZ2h0IExpbmUiLHR5cGU6ImJvb2wiLGRlZlZhbDohMH1dO214Q2VsbFJlbmRlcmVyLmRlZmF1bHRTaGFwZXMucGFyYWxsZWxvZ3JhbS5wcm90b3R5cGUuY3VzdG9tUHJvcGVydGllcz1be25hbWU6ImFyY1NpemUiLGRpc3BOYW1lOiJBcmMgU2l6ZSIsdHlwZToiZmxvYXQiLG1pbjowLGRlZlZhbDpteENvbnN0YW50cy5MSU5FX0FSQ1NJWkV9LHtuYW1lOiJzaXplIixkaXNwTmFtZToiU2xvcGUgQW5nbGUiLHR5cGU6ImZsb2F0IixtaW46MCxtYXg6MSxkZWZWYWw6LjJ9XTtteENlbGxSZW5kZXJlci5kZWZhdWx0U2hhcGVzLmhleGFnb24ucHJvdG90eXBlLmN1c3RvbVByb3BlcnRpZXM9W3tuYW1lOiJhcmNTaXplIiwKZGlzcE5hbWU6IkFyYyBTaXplIix0eXBlOiJmbG9hdCIsbWluOjAsZGVmVmFsOm14Q29uc3RhbnRzLkxJTkVfQVJDU0laRX0se25hbWU6InNpemUiLGRpc3BOYW1lOiJTbG9wZSBBbmdsZSIsdHlwZToiZmxvYXQiLG1pbjowLG1heDoxLGRlZlZhbDouMjV9XTtteENlbGxSZW5kZXJlci5kZWZhdWx0U2hhcGVzLnRyaWFuZ2xlLnByb3RvdHlwZS5jdXN0b21Qcm9wZXJ0aWVzPVt7bmFtZToiYXJjU2l6ZSIsZGlzcE5hbWU6IkFyYyBTaXplIix0eXBlOiJmbG9hdCIsbWluOjAsZGVmVmFsOm14Q29uc3RhbnRzLkxJTkVfQVJDU0laRX1dO214Q2VsbFJlbmRlcmVyLmRlZmF1bHRTaGFwZXMuZG9jdW1lbnQucHJvdG90eXBlLmN1c3RvbVByb3BlcnRpZXM9W3tuYW1lOiJzaXplIixkaXNwTmFtZToiU2l6ZSIsdHlwZToiZmxvYXQiLGRlZlZhbDouMyxtaW46MCxtYXg6MX1dO214Q2VsbFJlbmRlcmVyLmRlZmF1bHRTaGFwZXMuaW50ZXJuYWxTdG9yYWdlLnByb3RvdHlwZS5jdXN0b21Qcm9wZXJ0aWVzPQpbe25hbWU6ImFyY1NpemUiLGRpc3BOYW1lOiJBcmMgU2l6ZSIsdHlwZToiZmxvYXQiLG1pbjowLGRlZlZhbDpteENvbnN0YW50cy5MSU5FX0FSQ1NJWkV9LHtuYW1lOiJkeCIsZGlzcE5hbWU6IkxlZnQgTGluZSIsdHlwZToiZmxvYXQiLG1pbjowLGRlZlZhbDoyMH0se25hbWU6ImR5IixkaXNwTmFtZToiVG9wIExpbmUiLHR5cGU6ImZsb2F0IixtaW46MCxkZWZWYWw6MjB9XTtteENlbGxSZW5kZXJlci5kZWZhdWx0U2hhcGVzLmN1YmUucHJvdG90eXBlLmN1c3RvbVByb3BlcnRpZXM9W3tuYW1lOiJzaXplIixkaXNwTmFtZToiU2l6ZSIsdHlwZToiZmxvYXQiLG1pbjowLGRlZlZhbDoyMH0se25hbWU6ImRhcmtPcGFjaXR5IixkaXNwTmFtZToiRGFyayBPcGFjaXR5Iix0eXBlOiJmbG9hdCIsbWluOi0xLG1heDoxLGRlZlZhbDowfSx7bmFtZToiZGFya09wYWNpdHkyIixkaXNwTmFtZToiRGFyayBPcGFjaXR5IDIiLHR5cGU6ImZsb2F0IixtaW46LTEsbWF4OjEsZGVmVmFsOjB9XTtteENlbGxSZW5kZXJlci5kZWZhdWx0U2hhcGVzLnN0ZXAucHJvdG90eXBlLmN1c3RvbVByb3BlcnRpZXM9Clt7bmFtZToic2l6ZSIsZGlzcE5hbWU6Ik5vdGNoIFNpemUiLHR5cGU6ImZsb2F0IixtaW46MCxkZWZWYWw6MjB9LHtuYW1lOiJmaXhlZFNpemUiLGRpc3BOYW1lOiJGaXhlZCBTaXplIix0eXBlOiJib29sIixkZWZWYWw6ITB9XTtteENlbGxSZW5kZXJlci5kZWZhdWx0U2hhcGVzLnRyYXBlem9pZC5wcm90b3R5cGUuY3VzdG9tUHJvcGVydGllcz1be25hbWU6ImFyY1NpemUiLGRpc3BOYW1lOiJBcmMgU2l6ZSIsdHlwZToiZmxvYXQiLG1pbjowLGRlZlZhbDpteENvbnN0YW50cy5MSU5FX0FSQ1NJWkV9LHtuYW1lOiJzaXplIixkaXNwTmFtZToiU2xvcGUgQW5nbGUiLHR5cGU6ImZsb2F0IixtaW46MCxtYXg6MSxkZWZWYWw6LjJ9XTtteENlbGxSZW5kZXJlci5kZWZhdWx0U2hhcGVzLnRhcGUucHJvdG90eXBlLmN1c3RvbVByb3BlcnRpZXM9W3tuYW1lOiJzaXplIixkaXNwTmFtZToiU2l6ZSIsdHlwZToiZmxvYXQiLG1pbjowLG1heDoxLGRlZlZhbDouNH1dO214Q2VsbFJlbmRlcmVyLmRlZmF1bHRTaGFwZXMubm90ZS5wcm90b3R5cGUuY3VzdG9tUHJvcGVydGllcz0KW3tuYW1lOiJzaXplIixkaXNwTmFtZToiRm9sZCBTaXplIix0eXBlOiJmbG9hdCIsbWluOjAsZGVmVmFsOjMwfSx7bmFtZToiZGFya09wYWNpdHkiLGRpc3BOYW1lOiJEYXJrIE9wYWNpdHkiLHR5cGU6ImZsb2F0IixtaW46LTEsbWF4OjEsZGVmVmFsOjB9XTtteENlbGxSZW5kZXJlci5kZWZhdWx0U2hhcGVzLmNhcmQucHJvdG90eXBlLmN1c3RvbVByb3BlcnRpZXM9W3tuYW1lOiJhcmNTaXplIixkaXNwTmFtZToiQXJjIFNpemUiLHR5cGU6ImZsb2F0IixtaW46MCxkZWZWYWw6bXhDb25zdGFudHMuTElORV9BUkNTSVpFfSx7bmFtZToic2l6ZSIsZGlzcE5hbWU6IkN1dG9mZiBTaXplIix0eXBlOiJmbG9hdCIsbWluOjAsZGVmVmFsOjMwfV07bXhDZWxsUmVuZGVyZXIuZGVmYXVsdFNoYXBlcy5jYWxsb3V0LnByb3RvdHlwZS5jdXN0b21Qcm9wZXJ0aWVzPVt7bmFtZToiYXJjU2l6ZSIsZGlzcE5hbWU6IkFyYyBTaXplIix0eXBlOiJmbG9hdCIsbWluOjAsZGVmVmFsOm14Q29uc3RhbnRzLkxJTkVfQVJDU0laRX0sCntuYW1lOiJiYXNlIixkaXNwTmFtZToiQ2FsbG91dCBXaWR0aCIsdHlwZToiZmxvYXQiLG1pbjowLGRlZlZhbDoyMH0se25hbWU6InNpemUiLGRpc3BOYW1lOiJDYWxsb3V0IExlbmd0aCIsdHlwZToiZmxvYXQiLG1pbjowLGRlZlZhbDozMH0se25hbWU6InBvc2l0aW9uIixkaXNwTmFtZToiQ2FsbG91dCBQb3NpdGlvbiIsdHlwZToiZmxvYXQiLG1pbjowLG1heDoxLGRlZlZhbDouNX0se25hbWU6InBvc2l0aW9uMiIsZGlzcE5hbWU6IkNhbGxvdXQgVGlwIFBvc2l0aW9uIix0eXBlOiJmbG9hdCIsbWluOjAsbWF4OjEsZGVmVmFsOi41fV07bXhDZWxsUmVuZGVyZXIuZGVmYXVsdFNoYXBlcy5mb2xkZXIucHJvdG90eXBlLmN1c3RvbVByb3BlcnRpZXM9W3tuYW1lOiJ0YWJXaWR0aCIsZGlzcE5hbWU6IlRhYiBXaWR0aCIsdHlwZToiZmxvYXQifSx7bmFtZToidGFiSGVpZ2h0IixkaXNwTmFtZToiVGFiIEhlaWdodCIsdHlwZToiZmxvYXQifSx7bmFtZToidGFiUG9zaXRpb24iLGRpc3BOYW1lOiJUYXAgUG9zaXRpb24iLAp0eXBlOiJlbnVtIixlbnVtTGlzdDpbe3ZhbDoibGVmdCIsZGlzcE5hbWU6IkxlZnQifSx7dmFsOiJyaWdodCIsZGlzcE5hbWU6IlJpZ2h0In1dfV07bXhDZWxsUmVuZGVyZXIuZGVmYXVsdFNoYXBlcy5zd2ltbGFuZS5wcm90b3R5cGUuY3VzdG9tUHJvcGVydGllcz1be25hbWU6ImFyY1NpemUiLGRpc3BOYW1lOiJBcmMgU2l6ZSIsdHlwZToiZmxvYXQiLG1pbjowLGRlZlZhbDoxNX0se25hbWU6InN0YXJ0U2l6ZSIsZGlzcE5hbWU6IkhlYWRlciBTaXplIix0eXBlOiJmbG9hdCJ9LHtuYW1lOiJob3Jpem9udGFsIixkaXNwTmFtZToiSG9yaXpvbnRhbCIsdHlwZToiYm9vbCIsZGVmVmFsOiEwfSx7bmFtZToic2VwYXJhdG9yQ29sb3IiLGRpc3BOYW1lOiJTZXBhcmF0b3IgQ29sb3IiLHR5cGU6ImNvbG9yIixkZWZWYWw6bnVsbH1dO214Q2VsbFJlbmRlcmVyLmRlZmF1bHRTaGFwZXMuZG91YmxlRWxsaXBzZS5wcm90b3R5cGUuY3VzdG9tUHJvcGVydGllcz1be25hbWU6Im1hcmdpbiIsZGlzcE5hbWU6IkluZGVudCIsCnR5cGU6ImZsb2F0IixtaW46MCxkZWZWYWw6NH1dO214Q2VsbFJlbmRlcmVyLmRlZmF1bHRTaGFwZXMuZXh0LnByb3RvdHlwZS5jdXN0b21Qcm9wZXJ0aWVzPVt7bmFtZToiYXJjU2l6ZSIsZGlzcE5hbWU6IkFyYyBTaXplIix0eXBlOiJmbG9hdCIsbWluOjAsZGVmVmFsOjE1fSx7bmFtZToiZG91YmxlIixkaXNwTmFtZToiRG91YmxlIix0eXBlOiJib29sIixkZWZWYWw6ITF9LHtuYW1lOiJtYXJnaW4iLGRpc3BOYW1lOiJJbmRlbnQiLHR5cGU6ImZsb2F0IixtaW46MCxkZWZWYWw6MH1dO214Q2VsbFJlbmRlcmVyLmRlZmF1bHRTaGFwZXMuY3VybHlCcmFja2V0LnByb3RvdHlwZS5jdXN0b21Qcm9wZXJ0aWVzPVt7bmFtZToicm91bmRlZCIsZGlzcE5hbWU6IlJvdW5kZWQiLHR5cGU6ImJvb2wiLGRlZlZhbDohMH0se25hbWU6InNpemUiLGRpc3BOYW1lOiJTaXplIix0eXBlOiJmbG9hdCIsbWluOjAsbWF4OjEsZGVmVmFsOi41fV07bXhDZWxsUmVuZGVyZXIuZGVmYXVsdFNoYXBlcy5pbWFnZS5wcm90b3R5cGUuY3VzdG9tUHJvcGVydGllcz0KW3tuYW1lOiJpbWFnZUFzcGVjdCIsZGlzcE5hbWU6IkZpeGVkIEltYWdlIEFzcGVjdCIsdHlwZToiYm9vbCIsZGVmVmFsOiEwfV07bXhDZWxsUmVuZGVyZXIuZGVmYXVsdFNoYXBlcy5sYWJlbC5wcm90b3R5cGUuY3VzdG9tUHJvcGVydGllcz1be25hbWU6ImltYWdlQXNwZWN0IixkaXNwTmFtZToiRml4ZWQgSW1hZ2UgQXNwZWN0Iix0eXBlOiJib29sIixkZWZWYWw6ITB9LHtuYW1lOiJpbWFnZUFsaWduIixkaXNwTmFtZToiSW1hZ2UgQWxpZ24iLHR5cGU6ImVudW0iLGVudW1MaXN0Olt7dmFsOiJsZWZ0IixkaXNwTmFtZToiTGVmdCJ9LHt2YWw6ImNlbnRlciIsZGlzcE5hbWU6IkNlbnRlciJ9LHt2YWw6InJpZ2h0IixkaXNwTmFtZToiUmlnaHQifV0sZGVmVmFsOiJsZWZ0In0se25hbWU6ImltYWdlVmVydGljYWxBbGlnbiIsZGlzcE5hbWU6IkltYWdlIFZlcnRpY2FsIEFsaWduIix0eXBlOiJlbnVtIixlbnVtTGlzdDpbe3ZhbDoidG9wIixkaXNwTmFtZToiVG9wIn0se3ZhbDoibWlkZGxlIiwKZGlzcE5hbWU6Ik1pZGRsZSJ9LHt2YWw6ImJvdHRvbSIsZGlzcE5hbWU6IkJvdHRvbSJ9XSxkZWZWYWw6Im1pZGRsZSJ9LHtuYW1lOiJpbWFnZVdpZHRoIixkaXNwTmFtZToiSW1hZ2UgV2lkdGgiLHR5cGU6ImZsb2F0IixtaW46MCxkZWZWYWw6MjR9LHtuYW1lOiJpbWFnZUhlaWdodCIsZGlzcE5hbWU6IkltYWdlIEhlaWdodCIsdHlwZToiZmxvYXQiLG1pbjowLGRlZlZhbDoyNH0se25hbWU6ImFyY1NpemUiLGRpc3BOYW1lOiJBcmMgU2l6ZSIsdHlwZToiZmxvYXQiLG1pbjowLGRlZlZhbDoxMn0se25hbWU6ImFic29sdXRlQXJjU2l6ZSIsZGlzcE5hbWU6IkFicy4gQXJjIFNpemUiLHR5cGU6ImJvb2wiLGRlZlZhbDohMX1dO214Q2VsbFJlbmRlcmVyLmRlZmF1bHRTaGFwZXMuZGF0YVN0b3JhZ2UucHJvdG90eXBlLmN1c3RvbVByb3BlcnRpZXM9W3tuYW1lOiJzaXplIixkaXNwTmFtZToiU2l6ZSIsdHlwZToiZmxvYXQiLG1pbjowLG1heDoxLGRlZlZhbDouMX1dO214Q2VsbFJlbmRlcmVyLmRlZmF1bHRTaGFwZXMubWFudWFsSW5wdXQucHJvdG90eXBlLmN1c3RvbVByb3BlcnRpZXM9Clt7bmFtZToic2l6ZSIsZGlzcE5hbWU6IlNpemUiLHR5cGU6ImZsb2F0IixtaW46MCxkZWZWYWw6MzB9LHtuYW1lOiJhcmNTaXplIixkaXNwTmFtZToiQXJjIFNpemUiLHR5cGU6ImZsb2F0IixtaW46MCxkZWZWYWw6MjB9XTtteENlbGxSZW5kZXJlci5kZWZhdWx0U2hhcGVzLmxvb3BMaW1pdC5wcm90b3R5cGUuY3VzdG9tUHJvcGVydGllcz1be25hbWU6InNpemUiLGRpc3BOYW1lOiJTaXplIix0eXBlOiJmbG9hdCIsbWluOjAsZGVmVmFsOjIwfSx7bmFtZToiYXJjU2l6ZSIsZGlzcE5hbWU6IkFyYyBTaXplIix0eXBlOiJmbG9hdCIsbWluOjAsZGVmVmFsOjIwfV07bXhDZWxsUmVuZGVyZXIuZGVmYXVsdFNoYXBlcy5vZmZQYWdlQ29ubmVjdG9yLnByb3RvdHlwZS5jdXN0b21Qcm9wZXJ0aWVzPVt7bmFtZToic2l6ZSIsZGlzcE5hbWU6IlNpemUiLHR5cGU6ImZsb2F0IixtaW46MCxkZWZWYWw6Mzh9LHtuYW1lOiJhcmNTaXplIixkaXNwTmFtZToiQXJjIFNpemUiLHR5cGU6ImZsb2F0IiwKbWluOjAsZGVmVmFsOjIwfV07bXhDZWxsUmVuZGVyZXIuZGVmYXVsdFNoYXBlcy5kaXNwbGF5LnByb3RvdHlwZS5jdXN0b21Qcm9wZXJ0aWVzPVt7bmFtZToic2l6ZSIsZGlzcE5hbWU6IlNpemUiLHR5cGU6ImZsb2F0IixtaW46MCxtYXg6MSxkZWZWYWw6LjI1fV07bXhDZWxsUmVuZGVyZXIuZGVmYXVsdFNoYXBlcy5zaW5nbGVBcnJvdy5wcm90b3R5cGUuY3VzdG9tUHJvcGVydGllcz1be25hbWU6ImFycm93V2lkdGgiLGRpc3BOYW1lOiJBcnJvdyBXaWR0aCIsdHlwZToiZmxvYXQiLG1pbjowLG1heDoxLGRlZlZhbDouM30se25hbWU6ImFycm93U2l6ZSIsZGlzcE5hbWU6IkFycm93aGVhZCBMZW5ndGgiLHR5cGU6ImZsb2F0IixtaW46MCxtYXg6MSxkZWZWYWw6LjJ9XTtteENlbGxSZW5kZXJlci5kZWZhdWx0U2hhcGVzLmRvdWJsZUFycm93LnByb3RvdHlwZS5jdXN0b21Qcm9wZXJ0aWVzPVt7bmFtZToiYXJyb3dXaWR0aCIsZGlzcE5hbWU6IkFycm93IFdpZHRoIix0eXBlOiJmbG9hdCIsCm1pbjowLG1heDoxLGRlZlZhbDouM30se25hbWU6ImFycm93U2l6ZSIsZGlzcE5hbWU6IkFycm93aGVhZCBMZW5ndGgiLHR5cGU6ImZsb2F0IixtaW46MCxtYXg6MSxkZWZWYWw6LjJ9XTtteENlbGxSZW5kZXJlci5kZWZhdWx0U2hhcGVzLmNyb3NzLnByb3RvdHlwZS5jdXN0b21Qcm9wZXJ0aWVzPVt7bmFtZToic2l6ZSIsZGlzcE5hbWU6IlNpemUiLHR5cGU6ImZsb2F0IixtaW46MCxtYXg6MSxkZWZWYWw6LjJ9XTtteENlbGxSZW5kZXJlci5kZWZhdWx0U2hhcGVzLmNvcm5lci5wcm90b3R5cGUuY3VzdG9tUHJvcGVydGllcz1be25hbWU6ImR4IixkaXNwTmFtZToiV2lkdGgxIix0eXBlOiJmbG9hdCIsbWluOjAsZGVmVmFsOjIwfSx7bmFtZToiZHkiLGRpc3BOYW1lOiJXaWR0aDIiLHR5cGU6ImZsb2F0IixtaW46MCxkZWZWYWw6MjB9XTtteENlbGxSZW5kZXJlci5kZWZhdWx0U2hhcGVzLnRlZS5wcm90b3R5cGUuY3VzdG9tUHJvcGVydGllcz1be25hbWU6ImR4IixkaXNwTmFtZToiV2lkdGgxIiwKdHlwZToiZmxvYXQiLG1pbjowLGRlZlZhbDoyMH0se25hbWU6ImR5IixkaXNwTmFtZToiV2lkdGgyIix0eXBlOiJmbG9hdCIsbWluOjAsZGVmVmFsOjIwfV07bXhDZWxsUmVuZGVyZXIuZGVmYXVsdFNoYXBlcy51bWxMaWZlbGluZS5wcm90b3R5cGUuY3VzdG9tUHJvcGVydGllcz1be25hbWU6InBhcnRpY2lwYW50IixkaXNwTmFtZToiUGFydGljaXBhbnQiLHR5cGU6ImVudW0iLGRlZlZhbDoibm9uZSIsZW51bUxpc3Q6W3t2YWw6Im5vbmUiLGRpc3BOYW1lOiJEZWZhdWx0In0se3ZhbDoidW1sQWN0b3IiLGRpc3BOYW1lOiJBY3RvciJ9LHt2YWw6InVtbEJvdW5kYXJ5IixkaXNwTmFtZToiQm91bmRhcnkifSx7dmFsOiJ1bWxFbnRpdHkiLGRpc3BOYW1lOiJFbnRpdHkifSx7dmFsOiJ1bWxDb250cm9sIixkaXNwTmFtZToiQ29udHJvbCJ9XX0se25hbWU6InNpemUiLGRpc3BOYW1lOiJIZWlnaHQiLHR5cGU6ImZsb2F0IixkZWZWYWw6NDAsbWluOjB9XTtteENlbGxSZW5kZXJlci5kZWZhdWx0U2hhcGVzLnVtbEZyYW1lLnByb3RvdHlwZS5jdXN0b21Qcm9wZXJ0aWVzPQpbe25hbWU6IndpZHRoIixkaXNwTmFtZToiVGl0bGUgV2lkdGgiLHR5cGU6ImZsb2F0IixkZWZWYWw6NjAsbWluOjB9LHtuYW1lOiJoZWlnaHQiLGRpc3BOYW1lOiJUaXRsZSBIZWlnaHQiLHR5cGU6ImZsb2F0IixkZWZWYWw6MzAsbWluOjB9XTtTdHlsZUZvcm1hdFBhbmVsLnByb3RvdHlwZS5kZWZhdWx0Q29sb3JTY2hlbWVzPVtbe2ZpbGw6IiIsc3Ryb2tlOiIifSx7ZmlsbDoiI2Y1ZjVmNSIsc3Ryb2tlOiIjNjY2NjY2Iixmb250OiIjMzMzMzMzIn0se2ZpbGw6IiNkYWU4ZmMiLHN0cm9rZToiIzZjOGViZiJ9LHtmaWxsOiIjZDVlOGQ0IixzdHJva2U6IiM4MmIzNjYifSx7ZmlsbDoiI2ZmZTZjYyIsc3Ryb2tlOiIjZDc5YjAwIn0se2ZpbGw6IiNmZmYyY2MiLHN0cm9rZToiI2Q2YjY1NiJ9LHtmaWxsOiIjZjhjZWNjIixzdHJva2U6IiNiODU0NTAifSx7ZmlsbDoiI2UxZDVlNyIsc3Ryb2tlOiIjOTY3M2E2In1dLFt7ZmlsbDoiIixzdHJva2U6IiJ9LHtmaWxsOiIjNjBhOTE3IixzdHJva2U6IiMyRDc2MDAiLApmb250OiIjZmZmZmZmIn0se2ZpbGw6IiMwMDhhMDAiLHN0cm9rZToiIzAwNTcwMCIsZm9udDoiI2ZmZmZmZiJ9LHtmaWxsOiIjMWJhMWUyIixzdHJva2U6IiMwMDZFQUYiLGZvbnQ6IiNmZmZmZmYifSx7ZmlsbDoiIzAwNTBlZiIsc3Ryb2tlOiIjMDAxREJDIixmb250OiIjZmZmZmZmIn0se2ZpbGw6IiM2YTAwZmYiLHN0cm9rZToiIzM3MDBDQyIsZm9udDoiI2ZmZmZmZiJ9LHtmaWxsOiIjZDgwMDczIixzdHJva2U6IiNBNTAwNDAiLGZvbnQ6IiNmZmZmZmYifSx7ZmlsbDoiI2EyMDAyNSIsc3Ryb2tlOiIjNkYwMDAwIixmb250OiIjZmZmZmZmIn1dLFt7ZmlsbDoiI2U1MTQwMCIsc3Ryb2tlOiIjQjIwMDAwIixmb250OiIjZmZmZmZmIn0se2ZpbGw6IiNmYTY4MDAiLHN0cm9rZToiI0M3MzUwMCIsZm9udDoiI2ZmZmZmZiJ9LHtmaWxsOiIjZjBhMzBhIixzdHJva2U6IiNCRDcwMDAiLGZvbnQ6IiNmZmZmZmYifSx7ZmlsbDoiI2UzYzgwMCIsc3Ryb2tlOiIjQjA5NTAwIixmb250OiIjZmZmZmZmIn0sCntmaWxsOiIjNmQ4NzY0IixzdHJva2U6IiMzQTU0MzEiLGZvbnQ6IiNmZmZmZmYifSx7ZmlsbDoiIzY0NzY4NyIsc3Ryb2tlOiIjMzE0MzU0Iixmb250OiIjZmZmZmZmIn0se2ZpbGw6IiM3NjYwOGEiLHN0cm9rZToiIzQzMkQ1NyIsZm9udDoiI2ZmZmZmZiJ9LHtmaWxsOiIjYTA1MjJkIixzdHJva2U6IiM2RDFGMDAiLGZvbnQ6IiNmZmZmZmYifV0sW3tmaWxsOiIiLHN0cm9rZToiIn0se2ZpbGw6bXhDb25zdGFudHMuTk9ORSxzdHJva2U6IiJ9LHtmaWxsOiIjZmFkN2FjIixzdHJva2U6IiNiNDY1MDQifSx7ZmlsbDoiI2ZhZDlkNSIsc3Ryb2tlOiIjYWU0MTMyIn0se2ZpbGw6IiNiMGUzZTYiLHN0cm9rZToiIzBlODA4OCJ9LHtmaWxsOiIjYjFkZGYwIixzdHJva2U6IiMxMDczOWUifSx7ZmlsbDoiI2QwY2VlMiIsc3Ryb2tlOiIjNTY1MTdlIn0se2ZpbGw6IiNiYWM4ZDMiLHN0cm9rZToiIzIzNDQ1ZCJ9XSxbe2ZpbGw6IiIsc3Ryb2tlOiIifSx7ZmlsbDoiI2Y1ZjVmNSIsc3Ryb2tlOiIjNjY2NjY2IiwKZ3JhZGllbnQ6IiNiM2IzYjMifSx7ZmlsbDoiI2RhZThmYyIsc3Ryb2tlOiIjNmM4ZWJmIixncmFkaWVudDoiIzdlYTZlMCJ9LHtmaWxsOiIjZDVlOGQ0IixzdHJva2U6IiM4MmIzNjYiLGdyYWRpZW50OiIjOTdkMDc3In0se2ZpbGw6IiNmZmNkMjgiLHN0cm9rZToiI2Q3OWIwMCIsZ3JhZGllbnQ6IiNmZmE1MDAifSx7ZmlsbDoiI2ZmZjJjYyIsc3Ryb2tlOiIjZDZiNjU2IixncmFkaWVudDoiI2ZmZDk2NiJ9LHtmaWxsOiIjZjhjZWNjIixzdHJva2U6IiNiODU0NTAiLGdyYWRpZW50OiIjZWE2YjY2In0se2ZpbGw6IiNlNmQwZGUiLHN0cm9rZToiIzk5NjE4NSIsZ3JhZGllbnQ6IiNkNTczOWQifV0sW3tmaWxsOiIiLHN0cm9rZToiIn0se2ZpbGw6IiNlZWVlZWUiLHN0cm9rZToiIzM2MzkzZCJ9LHtmaWxsOiIjZjlmN2VkIixzdHJva2U6IiMzNjM5M2QifSx7ZmlsbDoiI2ZmY2M5OSIsc3Ryb2tlOiIjMzYzOTNkIn0se2ZpbGw6IiNjY2U1ZmYiLHN0cm9rZToiIzM2MzkzZCJ9LHtmaWxsOiIjZmZmZjg4IiwKc3Ryb2tlOiIjMzYzOTNkIn0se2ZpbGw6IiNjZGViOGIiLHN0cm9rZToiIzM2MzkzZCJ9LHtmaWxsOiIjZmZjY2NjIixzdHJva2U6IiMzNjM5M2QifV1dO1N0eWxlRm9ybWF0UGFuZWwucHJvdG90eXBlLmN1c3RvbUNvbG9yU2NoZW1lcz1udWxsO1N0eWxlRm9ybWF0UGFuZWwucHJvdG90eXBlLmZpbmRDb21tb25Qcm9wZXJ0aWVzPWZ1bmN0aW9uKGEsYixlKXtpZihudWxsIT1iKXt2YXIgYz1mdW5jdGlvbihhKXtpZihudWxsIT1hKWlmKGUpZm9yKHZhciBjPTA7YzxhLmxlbmd0aDtjKyspYlthW2NdLm5hbWVdPWFbY107ZWxzZSBmb3IodmFyIGQgaW4gYil7Zm9yKHZhciBmPSExLGM9MDtjPGEubGVuZ3RoO2MrKylpZihhW2NdLm5hbWU9PWQmJmFbY10udHlwZT09YltkXS50eXBlKXtmPSEwO2JyZWFrfWZ8fGRlbGV0ZSBiW2RdfX0sZD10aGlzLmVkaXRvclVpLmVkaXRvci5ncmFwaC52aWV3LmdldFN0YXRlKGEpO251bGwhPWQmJm51bGwhPWQuc2hhcGUmJihkLnNoYXBlLmNvbW1vbkN1c3RvbVByb3BBZGRlZHx8CihkLnNoYXBlLmNvbW1vbkN1c3RvbVByb3BBZGRlZD0hMCxkLnNoYXBlLmN1c3RvbVByb3BlcnRpZXM9ZC5zaGFwZS5jdXN0b21Qcm9wZXJ0aWVzfHxbXSxkLmNlbGwudmVydGV4P0FycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KGQuc2hhcGUuY3VzdG9tUHJvcGVydGllcyxFZGl0b3IuY29tbW9uVmVydGV4UHJvcGVydGllcyk6QXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkoZC5zaGFwZS5jdXN0b21Qcm9wZXJ0aWVzLEVkaXRvci5jb21tb25FZGdlUHJvcGVydGllcykpLGMoZC5zaGFwZS5jdXN0b21Qcm9wZXJ0aWVzKSk7YT1hLmdldEF0dHJpYnV0ZSgiY3VzdG9tUHJvcGVydGllcyIpO2lmKG51bGwhPWEpdHJ5e2MoSlNPTi5wYXJzZShhKSl9Y2F0Y2goSSl7fX19O3ZhciB2PVN0eWxlRm9ybWF0UGFuZWwucHJvdG90eXBlLmluaXQ7U3R5bGVGb3JtYXRQYW5lbC5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbigpe3ZhciBhPXRoaXMuZm9ybWF0LmNyZWF0ZVNlbGVjdGlvblN0YXRlKCk7ImltYWdlIj09CmEuc3R5bGUuc2hhcGV8fGEuY29udGFpbnNMYWJlbHx8dGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5hZGRTdHlsZXModGhpcy5jcmVhdGVQYW5lbCgpKSk7di5hcHBseSh0aGlzLGFyZ3VtZW50cyk7aWYoRWRpdG9yLmVuYWJsZUN1c3RvbVByb3BlcnRpZXMpe2Zvcih2YXIgYj17fSxlPWEudmVydGljZXMsYz1hLmVkZ2VzLGQ9MDtkPGUubGVuZ3RoO2QrKyl0aGlzLmZpbmRDb21tb25Qcm9wZXJ0aWVzKGVbZF0sYiwwPT1kKTtmb3IoZD0wO2Q8Yy5sZW5ndGg7ZCsrKXRoaXMuZmluZENvbW1vblByb3BlcnRpZXMoY1tkXSxiLDA9PWUubGVuZ3RoJiYwPT1kKTtudWxsIT1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyYmMDxPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhiKS5sZW5ndGgmJnRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuYWRkUHJvcGVydGllcyh0aGlzLmNyZWF0ZVBhbmVsKCksYixhKSl9fTt2YXIgdD1TdHlsZUZvcm1hdFBhbmVsLnByb3RvdHlwZS5hZGRTdHlsZU9wczsKU3R5bGVGb3JtYXRQYW5lbC5wcm90b3R5cGUuYWRkU3R5bGVPcHM9ZnVuY3Rpb24oYSl7dmFyIGI9bXhVdGlscy5idXR0b24obXhSZXNvdXJjZXMuZ2V0KCJjb3B5U3R5bGUiKSxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXt0aGlzLmVkaXRvclVpLmFjdGlvbnMuZ2V0KCJjb3B5U3R5bGUiKS5mdW5jdCgpfSkpO2Iuc2V0QXR0cmlidXRlKCJ0aXRsZSIsbXhSZXNvdXJjZXMuZ2V0KCJjb3B5U3R5bGUiKSsiICgiK3RoaXMuZWRpdG9yVWkuYWN0aW9ucy5nZXQoImNvcHlTdHlsZSIpLnNob3J0Y3V0KyIpIik7Yi5zdHlsZS5tYXJnaW5Cb3R0b209IjJweCI7Yi5zdHlsZS53aWR0aD0iMTAwcHgiO2Iuc3R5bGUubWFyZ2luUmlnaHQ9IjJweCI7YS5hcHBlbmRDaGlsZChiKTtiPW14VXRpbHMuYnV0dG9uKG14UmVzb3VyY2VzLmdldCgicGFzdGVTdHlsZSIpLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3RoaXMuZWRpdG9yVWkuYWN0aW9ucy5nZXQoInBhc3RlU3R5bGUiKS5mdW5jdCgpfSkpOwpiLnNldEF0dHJpYnV0ZSgidGl0bGUiLG14UmVzb3VyY2VzLmdldCgicGFzdGVTdHlsZSIpKyIgKCIrdGhpcy5lZGl0b3JVaS5hY3Rpb25zLmdldCgicGFzdGVTdHlsZSIpLnNob3J0Y3V0KyIpIik7Yi5zdHlsZS5tYXJnaW5Cb3R0b209IjJweCI7Yi5zdHlsZS53aWR0aD0iMTAwcHgiO2EuYXBwZW5kQ2hpbGQoYik7bXhVdGlscy5icihhKTtyZXR1cm4gdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O0VkaXRvclVpLnByb3RvdHlwZS5wcm9wZXJ0aWVzQ29sbGFwc2VkPSEwO1N0eWxlRm9ybWF0UGFuZWwucHJvdG90eXBlLmFkZFByb3BlcnRpZXM9ZnVuY3Rpb24oYSxiLGUpe2Z1bmN0aW9uIGMoYSxiLGUsYyl7ay5nZXRNb2RlbCgpLmJlZ2luVXBkYXRlKCk7dHJ5e3ZhciBkPVtdLGY9W107aWYobnVsbCE9ZS5pbmRleCl7Zm9yKHZhciBnPVtdLGw9ZS5wYXJlbnRSb3cubmV4dFNpYmxpbmc7bCYmbC5nZXRBdHRyaWJ1dGUoImRhdGEtcE5hbWUiKT09YTspZy5wdXNoKGwuZ2V0QXR0cmlidXRlKCJkYXRhLXBWYWx1ZSIpKSwKbD1sLm5leHRTaWJsaW5nO2UuaW5kZXg8Zy5sZW5ndGg/bnVsbCE9Yz9nLnNwbGljZShjLDEpOmdbZS5pbmRleF09YjpnLnB1c2goYik7bnVsbCE9ZS5zaXplJiZnLmxlbmd0aD5lLnNpemUmJihnPWcuc2xpY2UoMCxlLnNpemUpKTtiPWcuam9pbigiLCIpO251bGwhPWUuY291bnRQcm9wZXJ0eSYmKGsuc2V0Q2VsbFN0eWxlcyhlLmNvdW50UHJvcGVydHksZy5sZW5ndGgsay5nZXRTZWxlY3Rpb25DZWxscygpKSxkLnB1c2goZS5jb3VudFByb3BlcnR5KSxmLnB1c2goZy5sZW5ndGgpKX1rLnNldENlbGxTdHlsZXMoYSxiLGsuZ2V0U2VsZWN0aW9uQ2VsbHMoKSk7ZC5wdXNoKGEpO2YucHVzaChiKTtpZihudWxsIT1lLmRlcGVuZGVudFByb3BzKWZvcihhPTA7YTxlLmRlcGVuZGVudFByb3BzLmxlbmd0aDthKyspe3ZhciBuPWUuZGVwZW5kZW50UHJvcHNEZWZWYWxbYV0scD1lLmRlcGVuZGVudFByb3BzVmFsc1thXTtpZihwLmxlbmd0aD5iKXA9cC5zbGljZSgwLGIpO2Vsc2UgZm9yKHZhciBtPQpwLmxlbmd0aDttPGI7bSsrKXAucHVzaChuKTtwPXAuam9pbigiLCIpO2suc2V0Q2VsbFN0eWxlcyhlLmRlcGVuZGVudFByb3BzW2FdLHAsay5nZXRTZWxlY3Rpb25DZWxscygpKTtkLnB1c2goZS5kZXBlbmRlbnRQcm9wc1thXSk7Zi5wdXNoKHApfWlmKCJmdW5jdGlvbiI9PXR5cGVvZiBlLm9uQ2hhbmdlKWUub25DaGFuZ2UoayxiKTt0LmVkaXRvclVpLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdCgic3R5bGVDaGFuZ2VkIiwia2V5cyIsZCwidmFsdWVzIixmLCJjZWxscyIsay5nZXRTZWxlY3Rpb25DZWxscygpKSl9ZmluYWxseXtrLmdldE1vZGVsKCkuZW5kVXBkYXRlKCl9fWZ1bmN0aW9uIGQoYixlLGMpe3ZhciBkPW14VXRpbHMuZ2V0T2Zmc2V0KGEsITApLGY9bXhVdGlscy5nZXRPZmZzZXQoYiwhMCk7ZS5zdHlsZS5wb3NpdGlvbj0iYWJzb2x1dGUiO2Uuc3R5bGUubGVmdD1mLngtZC54KyJweCI7ZS5zdHlsZS50b3A9Zi55LWQueSsicHgiO2Uuc3R5bGUud2lkdGg9Yi5vZmZzZXRXaWR0aCsKInB4IjtlLnN0eWxlLmhlaWdodD1iLm9mZnNldEhlaWdodC0oYz80OjApKyJweCI7ZS5zdHlsZS56SW5kZXg9NX1mdW5jdGlvbiBmKGEsYixlKXt2YXIgZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtkLnN0eWxlLndpZHRoPSIzMnB4IjtkLnN0eWxlLmhlaWdodD0iNHB4IjtkLnN0eWxlLm1hcmdpbj0iMnB4IjtkLnN0eWxlLmJvcmRlcj0iMXB4IHNvbGlkIGJsYWNrIjtkLnN0eWxlLmJhY2tncm91bmQ9YiYmIm5vbmUiIT1iP2I6InVybCgnIitEaWFsb2cucHJvdG90eXBlLm5vQ29sb3JJbWFnZSsiJykiO2J0bj1teFV0aWxzLmJ1dHRvbigiIixteFV0aWxzLmJpbmQodCxmdW5jdGlvbihmKXt0aGlzLmVkaXRvclVpLnBpY2tDb2xvcihiLGZ1bmN0aW9uKGIpe2Quc3R5bGUuYmFja2dyb3VuZD0ibm9uZSI9PWI/InVybCgnIitEaWFsb2cucHJvdG90eXBlLm5vQ29sb3JJbWFnZSsiJykiOmI7YyhhLGIsZSl9KTtteEV2ZW50LmNvbnN1bWUoZil9KSk7YnRuLnN0eWxlLmhlaWdodD0KIjEycHgiO2J0bi5zdHlsZS53aWR0aD0iNDBweCI7YnRuLmNsYXNzTmFtZT0iZ2VDb2xvckJ0biI7YnRuLmFwcGVuZENoaWxkKGQpO3JldHVybiBidG59ZnVuY3Rpb24gZyhhLGIsZSxkLGYsZyxsKXtudWxsIT1iJiYoYj1iLnNwbGl0KCIsIiksbS5wdXNoKHtuYW1lOmEsdmFsdWVzOmIsdHlwZTplLGRlZlZhbDpkLGNvdW50UHJvcGVydHk6ZixwYXJlbnRSb3c6Zyxpc0RlbGV0YWJsZTohMCxmbGlwQmtnOmx9KSk7YnRuPW14VXRpbHMuYnV0dG9uKCIrIixteFV0aWxzLmJpbmQodCxmdW5jdGlvbihiKXtmb3IodmFyIG49Zyx0PTA7bnVsbCE9bi5uZXh0U2libGluZzspaWYobi5uZXh0U2libGluZy5nZXRBdHRyaWJ1dGUoImRhdGEtcE5hbWUiKT09YSluPW4ubmV4dFNpYmxpbmcsdCsrO2Vsc2UgYnJlYWs7dmFyIGs9e3R5cGU6ZSxwYXJlbnRSb3c6ZyxpbmRleDp0LGlzRGVsZXRhYmxlOiEwLGRlZlZhbDpkLGNvdW50UHJvcGVydHk6Zn0sdD1wKGEsIiIsaywwPT10JTIsbCk7YyhhLGQsCmspO24ucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodCxuLm5leHRTaWJsaW5nKTtteEV2ZW50LmNvbnN1bWUoYil9KSk7YnRuLnN0eWxlLmhlaWdodD0iMTZweCI7YnRuLnN0eWxlLndpZHRoPSIyNXB4IjtidG4uY2xhc3NOYW1lPSJnZUNvbG9yQnRuIjtyZXR1cm4gYnRufWZ1bmN0aW9uIGwoYSxiLGUsYyxkLGYsZyl7aWYoMDxkKXt2YXIgbD1BcnJheShkKTtiPW51bGwhPWI/Yi5zcGxpdCgiLCIpOltdO2Zvcih2YXIgbj0wO248ZDtuKyspbFtuXT1udWxsIT1iW25dP2Jbbl06bnVsbCE9Yz9jOiIiO20ucHVzaCh7bmFtZTphLHZhbHVlczpsLHR5cGU6ZSxkZWZWYWw6YyxwYXJlbnRSb3c6ZixmbGlwQmtnOmcsc2l6ZTpkfSl9cmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpfWZ1bmN0aW9uIG4oYSxiLGUpe3ZhciBkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7ZC50eXBlPSJjaGVja2JveCI7ZC5jaGVja2VkPSIxIj09YjtteEV2ZW50LmFkZExpc3RlbmVyKGQsCiJjaGFuZ2UiLGZ1bmN0aW9uKCl7YyhhLGQuY2hlY2tlZD8iMSI6IjAiLGUpfSk7cmV0dXJuIGR9ZnVuY3Rpb24gcChiLGUscCxrLG0pe3ZhciB5PXAuZGlzcE5hbWUsdj1wLnR5cGUsdT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ciIpO3UuY2xhc3NOYW1lPSJnZVByb3BSb3ciKyhtPyJEYXJrIjoiIikrKGs/IkFsdCI6IiIpKyIgZ2VQcm9wTm9uSGVhZGVyUm93Ijt1LnNldEF0dHJpYnV0ZSgiZGF0YS1wTmFtZSIsYik7dS5zZXRBdHRyaWJ1dGUoImRhdGEtcFZhbHVlIixlKTtrPSExO251bGwhPXAuaW5kZXgmJih1LnNldEF0dHJpYnV0ZSgiZGF0YS1pbmRleCIscC5pbmRleCkseT0obnVsbCE9eT95OiIiKSsiWyIrcC5pbmRleCsiXSIsaz0hMCk7dmFyIHg9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGQiKTt4LmNsYXNzTmFtZT0iZ2VQcm9wUm93Q2VsbCI7eC5pbm5lckhUTUw9bXhVdGlscy5odG1sRW50aXRpZXMobXhSZXNvdXJjZXMuZ2V0KHksbnVsbCx5KSk7ayYmKHguc3R5bGUudGV4dEFsaWduPQoicmlnaHQiKTt1LmFwcGVuZENoaWxkKHgpO3g9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGQiKTt4LmNsYXNzTmFtZT0iZ2VQcm9wUm93Q2VsbCI7aWYoImNvbG9yIj09dil4LmFwcGVuZENoaWxkKGYoYixlLHApKTtlbHNlIGlmKCJib29sIj09dnx8ImJvb2xlYW4iPT12KXguYXBwZW5kQ2hpbGQobihiLGUscCkpO2Vsc2UgaWYoImVudW0iPT12KXt2YXIgQT1wLmVudW1MaXN0O2ZvcihtPTA7bTxBLmxlbmd0aDttKyspaWYoeT1BW21dLHkudmFsPT1lKXt4LmlubmVySFRNTD1teFV0aWxzLmh0bWxFbnRpdGllcyhteFJlc291cmNlcy5nZXQoeS5kaXNwTmFtZSxudWxsLHkuZGlzcE5hbWUpKTticmVha31teEV2ZW50LmFkZExpc3RlbmVyKHgsImNsaWNrIixteFV0aWxzLmJpbmQodCxmdW5jdGlvbigpe3ZhciBmPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNlbGVjdCIpO2QoeCxmKTtmb3IodmFyIGc9MDtnPEEubGVuZ3RoO2crKyl7dmFyIGw9QVtnXSxuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIm9wdGlvbiIpOwpuLnZhbHVlPW14VXRpbHMuaHRtbEVudGl0aWVzKGwudmFsKTtuLmlubmVySFRNTD1teFV0aWxzLmh0bWxFbnRpdGllcyhteFJlc291cmNlcy5nZXQobC5kaXNwTmFtZSxudWxsLGwuZGlzcE5hbWUpKTtmLmFwcGVuZENoaWxkKG4pfWYudmFsdWU9ZTthLmFwcGVuZENoaWxkKGYpO214RXZlbnQuYWRkTGlzdGVuZXIoZiwiY2hhbmdlIixmdW5jdGlvbigpe3ZhciBhPW14VXRpbHMuaHRtbEVudGl0aWVzKGYudmFsdWUpO2MoYixhLHApfSk7Zi5mb2N1cygpO214RXZlbnQuYWRkTGlzdGVuZXIoZiwiYmx1ciIsZnVuY3Rpb24oKXthLnJlbW92ZUNoaWxkKGYpfSl9KSl9ZWxzZSJkeW5hbWljQXJyIj09dj94LmFwcGVuZENoaWxkKGcoYixlLHAuc3ViVHlwZSxwLnN1YkRlZlZhbCxwLmNvdW50UHJvcGVydHksdSxtKSk6InN0YXRpY0FyciI9PXY/eC5hcHBlbmRDaGlsZChsKGIsZSxwLnN1YlR5cGUscC5zdWJEZWZWYWwscC5zaXplLHUsbSkpOih4LmlubmVySFRNTD1lLG14RXZlbnQuYWRkTGlzdGVuZXIoeCwKImNsaWNrIixteFV0aWxzLmJpbmQodCxmdW5jdGlvbigpe2Z1bmN0aW9uIGYoKXt2YXIgYT1nLnZhbHVlLGE9MD09YS5sZW5ndGgmJiJzdHJpbmciIT12PzA6YTtwLmFsbG93QXV0byYmKG51bGwhPWEudHJpbSYmImF1dG8iPT1hLnRyaW0oKS50b0xvd2VyQ2FzZSgpPyhhPSJhdXRvIix2PSJzdHJpbmciKTooYT1wYXJzZUZsb2F0KGEpLGE9aXNOYU4oYSk/MDphKSk7bnVsbCE9cC5taW4mJmE8cC5taW4/YT1wLm1pbjpudWxsIT1wLm1heCYmYT5wLm1heCYmKGE9cC5tYXgpO2E9bXhVdGlscy5odG1sRW50aXRpZXMoKCJpbnQiPT12P3BhcnNlSW50KGEpOmEpKyIiKTtjKGIsYSxwKX12YXIgZz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbnB1dCIpO2QoeCxnLCEwKTtnLnZhbHVlPWU7Zy5jbGFzc05hbWU9ImdlUHJvcEVkaXRvciI7ImludCIhPXYmJiJmbG9hdCIhPXZ8fHAuYWxsb3dBdXRvfHwoZy50eXBlPSJudW1iZXIiLGcuc3RlcD0iaW50Ij09dj8iMSI6ImFueSIsbnVsbCE9cC5taW4mJgooZy5taW49cGFyc2VGbG9hdChwLm1pbikpLG51bGwhPXAubWF4JiYoZy5tYXg9cGFyc2VGbG9hdChwLm1heCkpKTthLmFwcGVuZENoaWxkKGcpO214RXZlbnQuYWRkTGlzdGVuZXIoZywia2V5cHJlc3MiLGZ1bmN0aW9uKGEpezEzPT1hLmtleUNvZGUmJmYoKX0pO2cuZm9jdXMoKTtteEV2ZW50LmFkZExpc3RlbmVyKGcsImJsdXIiLGZ1bmN0aW9uKCl7ZigpfSl9KSkpO3AuaXNEZWxldGFibGUmJihtPW14VXRpbHMuYnV0dG9uKCItIixteFV0aWxzLmJpbmQodCxmdW5jdGlvbihhKXtjKGIsIiIscCxwLmluZGV4KTtteEV2ZW50LmNvbnN1bWUoYSl9KSksbS5zdHlsZS5oZWlnaHQ9IjE2cHgiLG0uc3R5bGUud2lkdGg9IjI1cHgiLG0uc3R5bGVbImZsb2F0Il09InJpZ2h0IixtLmNsYXNzTmFtZT0iZ2VDb2xvckJ0biIseC5hcHBlbmRDaGlsZChtKSk7dS5hcHBlbmRDaGlsZCh4KTtyZXR1cm4gdX12YXIgdD10aGlzLGs9dGhpcy5lZGl0b3JVaS5lZGl0b3IuZ3JhcGgsbT1bXTthLnN0eWxlLnBvc2l0aW9uPQoicmVsYXRpdmUiO2Euc3R5bGUucGFkZGluZz0iMCI7dmFyIHk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGFibGUiKTt5LnN0eWxlLndoaXRlU3BhY2U9Im5vd3JhcCI7eS5zdHlsZS53aWR0aD0iMTAwJSI7dmFyIHY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidHIiKTt2LmNsYXNzTmFtZT0iZ2VQcm9wSGVhZGVyIjt2YXIgdT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0aCIpO3UuY2xhc3NOYW1lPSJnZVByb3BIZWFkZXJDZWxsIjt2YXIgeD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbWciKTt4LnNyYz1TaWRlYmFyLnByb3RvdHlwZS5leHBhbmRlZEltYWdlO3UuYXBwZW5kQ2hpbGQoeCk7bXhVdGlscy53cml0ZSh1LG14UmVzb3VyY2VzLmdldCgicHJvcGVydHkiKSk7di5zdHlsZS5jdXJzb3I9InBvaW50ZXIiO3ZhciBBPWZ1bmN0aW9uKCl7dmFyIGI9eS5xdWVyeVNlbGVjdG9yQWxsKCIuZ2VQcm9wTm9uSGVhZGVyUm93IiksZTtpZih0LmVkaXRvclVpLnByb3BlcnRpZXNDb2xsYXBzZWQpe3guc3JjPQpTaWRlYmFyLnByb3RvdHlwZS5jb2xsYXBzZWRJbWFnZTtlPSJub25lIjtmb3IodmFyIGM9YS5jaGlsZE5vZGVzLmxlbmd0aC0xOzA8PWM7Yy0tKXRyeXt2YXIgZD1hLmNoaWxkTm9kZXNbY10sZj1kLm5vZGVOYW1lLnRvVXBwZXJDYXNlKCk7IklOUFVUIiE9ZiYmIlNFTEVDVCIhPWZ8fGEucmVtb3ZlQ2hpbGQoZCl9Y2F0Y2gocWEpe319ZWxzZSB4LnNyYz1TaWRlYmFyLnByb3RvdHlwZS5leHBhbmRlZEltYWdlLGU9IiI7Zm9yKGM9MDtjPGIubGVuZ3RoO2MrKyliW2NdLnN0eWxlLmRpc3BsYXk9ZX07bXhFdmVudC5hZGRMaXN0ZW5lcih2LCJjbGljayIsZnVuY3Rpb24oKXt0LmVkaXRvclVpLnByb3BlcnRpZXNDb2xsYXBzZWQ9IXQuZWRpdG9yVWkucHJvcGVydGllc0NvbGxhcHNlZDtBKCl9KTt2LmFwcGVuZENoaWxkKHUpO3U9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGgiKTt1LmNsYXNzTmFtZT0iZ2VQcm9wSGVhZGVyQ2VsbCI7dS5pbm5lckhUTUw9bXhSZXNvdXJjZXMuZ2V0KCJ2YWx1ZSIpOwp2LmFwcGVuZENoaWxkKHUpO3kuYXBwZW5kQ2hpbGQodik7dmFyIHo9ITEscT0hMSxDO2ZvcihDIGluIGIpaWYodj1iW0NdLCJmdW5jdGlvbiIhPXR5cGVvZiB2LmlzVmlzaWJsZXx8di5pc1Zpc2libGUoZSx0aGlzKSl7dmFyIEI9bnVsbCE9ZS5zdHlsZVtDXT9teFV0aWxzLmh0bWxFbnRpdGllcyhlLnN0eWxlW0NdKyIiKTpudWxsIT12LmdldERlZmF1bHRWYWx1ZT92LmdldERlZmF1bHRWYWx1ZShlLHRoaXMpOnYuZGVmVmFsO2lmKCJzZXBhcmF0b3IiPT12LnR5cGUpcT0hcTtlbHNle2lmKCJzdGF0aWNBcnIiPT12LnR5cGUpdi5zaXplPXBhcnNlSW50KGUuc3R5bGVbdi5zaXplUHJvcGVydHldfHxiW3Yuc2l6ZVByb3BlcnR5XS5kZWZWYWwpfHwwO2Vsc2UgaWYobnVsbCE9di5kZXBlbmRlbnRQcm9wcyl7Zm9yKHZhciBEPXYuZGVwZW5kZW50UHJvcHMsRT1bXSxLPVtdLHU9MDt1PEQubGVuZ3RoO3UrKyl7dmFyIEc9ZS5zdHlsZVtEW3VdXTtLLnB1c2goYltEW3VdXS5zdWJEZWZWYWwpOwpFLnB1c2gobnVsbCE9Rz9HLnNwbGl0KCIsIik6W10pfXYuZGVwZW5kZW50UHJvcHNEZWZWYWw9Szt2LmRlcGVuZGVudFByb3BzVmFscz1FfXkuYXBwZW5kQ2hpbGQocChDLEIsdix6LHEpKTt6PSF6fX1mb3IodT0wO3U8bS5sZW5ndGg7dSsrKWZvcih2PW1bdV0sYj12LnBhcmVudFJvdyxlPTA7ZTx2LnZhbHVlcy5sZW5ndGg7ZSsrKUM9cCh2Lm5hbWUsdi52YWx1ZXNbZV0se3R5cGU6di50eXBlLHBhcmVudFJvdzp2LnBhcmVudFJvdyxpc0RlbGV0YWJsZTp2LmlzRGVsZXRhYmxlLGluZGV4OmUsZGVmVmFsOnYuZGVmVmFsLGNvdW50UHJvcGVydHk6di5jb3VudFByb3BlcnR5LHNpemU6di5zaXplfSwwPT1lJTIsdi5mbGlwQmtnKSxiLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKEMsYi5uZXh0U2libGluZyksYj1DO2EuYXBwZW5kQ2hpbGQoeSk7QSgpO3JldHVybiBhfTtTdHlsZUZvcm1hdFBhbmVsLnByb3RvdHlwZS5hZGRTdHlsZXM9ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhKXtteEV2ZW50LmFkZExpc3RlbmVyKGEsCiJtb3VzZWVudGVyIixmdW5jdGlvbigpe2Euc3R5bGUub3BhY2l0eT0iMSJ9KTtteEV2ZW50LmFkZExpc3RlbmVyKGEsIm1vdXNlbGVhdmUiLGZ1bmN0aW9uKCl7YS5zdHlsZS5vcGFjaXR5PSIwLjUifSl9dmFyIGU9dGhpcy5lZGl0b3JVaS5lZGl0b3IuZ3JhcGgsYz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtjLnN0eWxlLndoaXRlU3BhY2U9Im5vd3JhcCI7Yy5zdHlsZS5wYWRkaW5nTGVmdD0iMjRweCI7Yy5zdHlsZS5wYWRkaW5nUmlnaHQ9IjIwcHgiO2Euc3R5bGUucGFkZGluZ0xlZnQ9IjE2cHgiO2Euc3R5bGUucGFkZGluZ0JvdHRvbT0iNnB4IjthLnN0eWxlLnBvc2l0aW9uPSJyZWxhdGl2ZSI7YS5hcHBlbmRDaGlsZChjKTt2YXIgZD0icGxhaW4tZ3JheSBwbGFpbi1ibHVlIHBsYWluLWdyZWVuIHBsYWluLXR1cnF1b2lzZSBwbGFpbi1vcmFuZ2UgcGxhaW4teWVsbG93IHBsYWluLXJlZCBwbGFpbi1waW5rIHBsYWluLXB1cnBsZSBncmF5IGJsdWUgZ3JlZW4gdHVycXVvaXNlIG9yYW5nZSB5ZWxsb3cgcmVkIHBpbmsgcHVycGxlIi5zcGxpdCgiICIpLApmPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2Yuc3R5bGUud2hpdGVTcGFjZT0ibm93cmFwIjtmLnN0eWxlLnBvc2l0aW9uPSJyZWxhdGl2ZSI7Zi5zdHlsZS50ZXh0QWxpZ249ImNlbnRlciI7Zm9yKHZhciBnPVtdLGw9MDtsPHRoaXMuZGVmYXVsdENvbG9yU2NoZW1lcy5sZW5ndGg7bCsrKXt2YXIgbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtuLnN0eWxlLmRpc3BsYXk9ImlubGluZS1ibG9jayI7bi5zdHlsZS53aWR0aD0iNnB4IjtuLnN0eWxlLmhlaWdodD0iNnB4IjtuLnN0eWxlLm1hcmdpbkxlZnQ9IjRweCI7bi5zdHlsZS5tYXJnaW5SaWdodD0iM3B4IjtuLnN0eWxlLmJvcmRlclJhZGl1cz0iM3B4IjtuLnN0eWxlLmN1cnNvcj0icG9pbnRlciI7bi5zdHlsZS5iYWNrZ3JvdW5kPSJ0cmFuc3BhcmVudCI7bi5zdHlsZS5ib3JkZXI9IjFweCBzb2xpZCAjYjViNmI3IjtteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXtteEV2ZW50LmFkZExpc3RlbmVyKG4sCiJjbGljayIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXtwKGEpfSkpfSkobCk7bXhFdmVudC5hZGQ7Zy5wdXNoKG4pO2YuYXBwZW5kQ2hpbGQobil9dmFyIHA9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7bnVsbCE9dGhpcy5lZGl0b3JVaS5jdXJyZW50U2NoZW1lJiYoZ1t0aGlzLmVkaXRvclVpLmN1cnJlbnRTY2hlbWVdLnN0eWxlLmJhY2tncm91bmQ9InRyYW5zcGFyZW50Iik7dGhpcy5lZGl0b3JVaS5jdXJyZW50U2NoZW1lPWE7dCh0aGlzLmRlZmF1bHRDb2xvclNjaGVtZXNbdGhpcy5lZGl0b3JVaS5jdXJyZW50U2NoZW1lXSk7Z1t0aGlzLmVkaXRvclVpLmN1cnJlbnRTY2hlbWVdLnN0eWxlLmJhY2tncm91bmQ9IiM4NGQ3ZmYifSksdD1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXt2YXIgYj1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXt2YXIgYj1teFV0aWxzLmJ1dHRvbigiIixmdW5jdGlvbihiKXtlLmdldE1vZGVsKCkuYmVnaW5VcGRhdGUoKTsKdHJ5e3ZhciBjPWUuZ2V0U2VsZWN0aW9uQ2VsbHMoKTtmb3IoYj0wO2I8Yy5sZW5ndGg7YisrKXtmb3IodmFyIGY9ZS5nZXRNb2RlbCgpLmdldFN0eWxlKGNbYl0pLGc9MDtnPGQubGVuZ3RoO2crKylmPW14VXRpbHMucmVtb3ZlU3R5bGVuYW1lKGYsZFtnXSk7dmFyIGw9ZS5nZXRNb2RlbCgpLmlzVmVydGV4KGNbYl0pP2UuZGVmYXVsdFZlcnRleFN0eWxlOmUuZGVmYXVsdEVkZ2VTdHlsZTtudWxsIT1hPyhmPW14VXRpbHMuc2V0U3R5bGUoZixteENvbnN0YW50cy5TVFlMRV9HUkFESUVOVENPTE9SLGEuZ3JhZGllbnR8fG14VXRpbHMuZ2V0VmFsdWUobCxteENvbnN0YW50cy5TVFlMRV9HUkFESUVOVENPTE9SLG51bGwpKSxmPSIiPT1hLmZpbGw/bXhVdGlscy5zZXRTdHlsZShmLG14Q29uc3RhbnRzLlNUWUxFX0ZJTExDT0xPUixudWxsKTpteFV0aWxzLnNldFN0eWxlKGYsbXhDb25zdGFudHMuU1RZTEVfRklMTENPTE9SLGEuZmlsbHx8bXhVdGlscy5nZXRWYWx1ZShsLG14Q29uc3RhbnRzLlNUWUxFX0ZJTExDT0xPUiwKbnVsbCkpLGY9IiI9PWEuc3Ryb2tlP214VXRpbHMuc2V0U3R5bGUoZixteENvbnN0YW50cy5TVFlMRV9TVFJPS0VDT0xPUixudWxsKTpteFV0aWxzLnNldFN0eWxlKGYsbXhDb25zdGFudHMuU1RZTEVfU1RST0tFQ09MT1IsYS5zdHJva2V8fG14VXRpbHMuZ2V0VmFsdWUobCxteENvbnN0YW50cy5TVFlMRV9TVFJPS0VDT0xPUixudWxsKSksZS5nZXRNb2RlbCgpLmlzVmVydGV4KGNbYl0pJiYoZj1teFV0aWxzLnNldFN0eWxlKGYsbXhDb25zdGFudHMuU1RZTEVfRk9OVENPTE9SLGEuZm9udHx8bXhVdGlscy5nZXRWYWx1ZShsLG14Q29uc3RhbnRzLlNUWUxFX0ZPTlRDT0xPUixudWxsKSkpKTooZj1teFV0aWxzLnNldFN0eWxlKGYsbXhDb25zdGFudHMuU1RZTEVfRklMTENPTE9SLG14VXRpbHMuZ2V0VmFsdWUobCxteENvbnN0YW50cy5TVFlMRV9GSUxMQ09MT1IsIiNmZmZmZmYiKSksZj1teFV0aWxzLnNldFN0eWxlKGYsbXhDb25zdGFudHMuU1RZTEVfU1RST0tFQ09MT1IsbXhVdGlscy5nZXRWYWx1ZShsLApteENvbnN0YW50cy5TVFlMRV9TVFJPS0VDT0xPUiwiIzAwMDAwMCIpKSxmPW14VXRpbHMuc2V0U3R5bGUoZixteENvbnN0YW50cy5TVFlMRV9HUkFESUVOVENPTE9SLG14VXRpbHMuZ2V0VmFsdWUobCxteENvbnN0YW50cy5TVFlMRV9HUkFESUVOVENPTE9SLG51bGwpKSxlLmdldE1vZGVsKCkuaXNWZXJ0ZXgoY1tiXSkmJihmPW14VXRpbHMuc2V0U3R5bGUoZixteENvbnN0YW50cy5TVFlMRV9GT05UQ09MT1IsbXhVdGlscy5nZXRWYWx1ZShsLG14Q29uc3RhbnRzLlNUWUxFX0ZPTlRDT0xPUixudWxsKSkpKTtlLmdldE1vZGVsKCkuc2V0U3R5bGUoY1tiXSxmKX19ZmluYWxseXtlLmdldE1vZGVsKCkuZW5kVXBkYXRlKCl9fSk7Yi5jbGFzc05hbWU9ImdlU3R5bGVCdXR0b24iO2Iuc3R5bGUud2lkdGg9IjM2cHgiO2Iuc3R5bGUuaGVpZ2h0PTEwPj10aGlzLmRlZmF1bHRDb2xvclNjaGVtZXMubGVuZ3RoPyIyNHB4IjoiMzBweCI7Yi5zdHlsZS5tYXJnaW49IjBweCA2cHggNnB4IDBweCI7CmlmKG51bGwhPWEpbnVsbCE9YS5ncmFkaWVudD9teENsaWVudC5JU19JRSYmKG14Q2xpZW50LklTX1FVSVJLU3x8MTA+ZG9jdW1lbnQuZG9jdW1lbnRNb2RlKT9iLnN0eWxlLmZpbHRlcj0icHJvZ2lkOkRYSW1hZ2VUcmFuc2Zvcm0uTWljcm9zb2Z0LkdyYWRpZW50KFN0YXJ0Q29sb3JTdHI9JyIrYS5maWxsKyInLCBFbmRDb2xvclN0cj0nIithLmdyYWRpZW50KyInLCBHcmFkaWVudFR5cGU9MCkiOmIuc3R5bGUuYmFja2dyb3VuZEltYWdlPSJsaW5lYXItZ3JhZGllbnQoIithLmZpbGwrIiAwcHgsIithLmdyYWRpZW50KyIgMTAwJSkiOmEuZmlsbD09bXhDb25zdGFudHMuTk9ORT9iLnN0eWxlLmJhY2tncm91bmQ9InVybCgnIitEaWFsb2cucHJvdG90eXBlLm5vQ29sb3JJbWFnZSsiJykiOmIuc3R5bGUuYmFja2dyb3VuZENvbG9yPSIiPT1hLmZpbGw/bXhVdGlscy5nZXRWYWx1ZShlLmRlZmF1bHRWZXJ0ZXhTdHlsZSxteENvbnN0YW50cy5TVFlMRV9GSUxMQ09MT1IsImRhcmsiPT11aVRoZW1lPwoiIzJhMmEyYSI6IiNmZmZmZmYiKTphLmZpbGx8fG14VXRpbHMuZ2V0VmFsdWUoZS5kZWZhdWx0VmVydGV4U3R5bGUsbXhDb25zdGFudHMuU1RZTEVfRklMTENPTE9SLCJkYXJrIj09dWlUaGVtZT8iIzJhMmEyYSI6IiNmZmZmZmYiKSxiLnN0eWxlLmJvcmRlcj1hLnN0cm9rZT09bXhDb25zdGFudHMuTk9ORT8iMXB4IHNvbGlkIHRyYW5zcGFyZW50IjoiIj09YS5zdHJva2U/IjFweCBzb2xpZCAiK214VXRpbHMuZ2V0VmFsdWUoZS5kZWZhdWx0VmVydGV4U3R5bGUsbXhDb25zdGFudHMuU1RZTEVfU1RST0tFQ09MT1IsImRhcmsiIT11aVRoZW1lPyIjMmEyYTJhIjoiI2ZmZmZmZiIpOiIxcHggc29saWQgIisoYS5zdHJva2V8fG14VXRpbHMuZ2V0VmFsdWUoZS5kZWZhdWx0VmVydGV4U3R5bGUsbXhDb25zdGFudHMuU1RZTEVfU1RST0tFQ09MT1IsImRhcmsiIT11aVRoZW1lPyIjMmEyYTJhIjoiI2ZmZmZmZiIpKTtlbHNle3ZhciBmPW14VXRpbHMuZ2V0VmFsdWUoZS5kZWZhdWx0VmVydGV4U3R5bGUsCm14Q29uc3RhbnRzLlNUWUxFX0ZJTExDT0xPUiwiI2ZmZmZmZiIpLGc9bXhVdGlscy5nZXRWYWx1ZShlLmRlZmF1bHRWZXJ0ZXhTdHlsZSxteENvbnN0YW50cy5TVFlMRV9TVFJPS0VDT0xPUiwiIzAwMDAwMCIpO2Iuc3R5bGUuYmFja2dyb3VuZENvbG9yPWY7Yi5zdHlsZS5ib3JkZXI9IjFweCBzb2xpZCAiK2d9Yy5hcHBlbmRDaGlsZChiKX0pO2MuaW5uZXJIVE1MPSIiO2Zvcih2YXIgZj0wO2Y8YS5sZW5ndGg7ZisrKTA8ZiYmMD09bXhVdGlscy5tb2QoZiw0KSYmbXhVdGlscy5icihjKSxiKGFbZl0pfSk7bnVsbD09dGhpcy5lZGl0b3JVaS5jdXJyZW50U2NoZW1lP3AoImRhcmsiPT11aVRoZW1lPzE6MCk6cCh0aGlzLmVkaXRvclVpLmN1cnJlbnRTY2hlbWUpO3ZhciBsPTEwPj10aGlzLmRlZmF1bHRDb2xvclNjaGVtZXMubGVuZ3RoPzI4Ojgsaz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtrLnN0eWxlLmNzc1RleHQ9InBvc2l0aW9uOmFic29sdXRlO2xlZnQ6MTBweDt0b3A6OHB4O2JvdHRvbToiKwpsKyJweDt3aWR0aDoyMHB4O21hcmdpbjo0cHg7b3BhY2l0eTowLjU7YmFja2dyb3VuZC1yZXBlYXQ6bm8tcmVwZWF0O2JhY2tncm91bmQtcG9zaXRpb246Y2VudGVyIGNlbnRlcjtiYWNrZ3JvdW5kLWltYWdlOnVybChkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUF3QUFBQVFCQU1BQUFEUVQ0TTBBQUFBSVZCTVZFVUFBQUIyZG5aNGVIaDNkM2QxZFhWeGNYRjJkbloyZG5aMmRuWnhjWEYyZG5ZbWIzdzFBQUFBQ25SU1RsTUFmQ1RraGh2YjdjUVNQSDJKUGdBQUFEUkpSRUZVQ05kandBQ01BbUJLYWlHWXMyb0ptTFBLQVozRGFiVThBTVJUWHBVS29waXNscUZ5VnpDQXVVWmdpa2tCWmpvQWNNWUxucDUzUC9VQUFBQUFTVVZPUks1Q1lJST0pOyI7bXhFdmVudC5hZGRMaXN0ZW5lcihrLCJjbGljayIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXtwKG14VXRpbHMubW9kKHRoaXMuZWRpdG9yVWkuY3VycmVudFNjaGVtZS0xLHRoaXMuZGVmYXVsdENvbG9yU2NoZW1lcy5sZW5ndGgpKX0pKTsKdmFyIG09ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7bS5zdHlsZS5jc3NUZXh0PSJwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjIwMnB4O3RvcDo4cHg7Ym90dG9tOiIrbCsicHg7d2lkdGg6MjBweDttYXJnaW46NHB4O29wYWNpdHk6MC41O2JhY2tncm91bmQtcmVwZWF0Om5vLXJlcGVhdDtiYWNrZ3JvdW5kLXBvc2l0aW9uOmNlbnRlciBjZW50ZXI7YmFja2dyb3VuZC1pbWFnZTp1cmwoZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFBd0FBQUFRQkFNQUFBRFFUNE0wQUFBQUlWQk1WRVVBQUFCMmRuWjJkbloyZG5aMmRuWjJkbloyZG5aMmRuWjJkbloyZG5aMmRuWUJ1d0NjQUFBQUNuUlNUbE1BZkNUa2hodmI3Y1FTUEgySlBnQUFBRFpKUkVGVUNOZGpRQU9NQW1CS2FpR1k4bG9GNXJLc3dzWmxyVm84QVVpRnJUSUNjYklXSzhBNURGMWdEb015bU1QQXBJQXdId0NTMFF4L1U3cUNCUUFBQUFCSlJVNUVya0pnZ2c9PSk7IjsxPHRoaXMuZGVmYXVsdENvbG9yU2NoZW1lcy5sZW5ndGgmJgooYS5hcHBlbmRDaGlsZChrKSxhLmFwcGVuZENoaWxkKG0pKTtteEV2ZW50LmFkZExpc3RlbmVyKG0sImNsaWNrIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3AobXhVdGlscy5tb2QodGhpcy5lZGl0b3JVaS5jdXJyZW50U2NoZW1lKzEsdGhpcy5kZWZhdWx0Q29sb3JTY2hlbWVzLmxlbmd0aCkpfSkpO2Ioayk7YihtKTt0KHRoaXMuZGVmYXVsdENvbG9yU2NoZW1lc1t0aGlzLmVkaXRvclVpLmN1cnJlbnRTY2hlbWVdKTsxMD49dGhpcy5kZWZhdWx0Q29sb3JTY2hlbWVzLmxlbmd0aCYmYS5hcHBlbmRDaGlsZChmKTtyZXR1cm4gYX07U3R5bGVGb3JtYXRQYW5lbC5wcm90b3R5cGUuYWRkRWRpdE9wcz1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmZvcm1hdC5nZXRTZWxlY3Rpb25TdGF0ZSgpLGU9bnVsbDsxPT10aGlzLmVkaXRvclVpLmVkaXRvci5ncmFwaC5nZXRTZWxlY3Rpb25Db3VudCgpJiYoZT1teFV0aWxzLmJ1dHRvbihteFJlc291cmNlcy5nZXQoImVkaXRTdHlsZSIpLG14VXRpbHMuYmluZCh0aGlzLApmdW5jdGlvbihhKXt0aGlzLmVkaXRvclVpLmFjdGlvbnMuZ2V0KCJlZGl0U3R5bGUiKS5mdW5jdCgpfSkpLGUuc2V0QXR0cmlidXRlKCJ0aXRsZSIsbXhSZXNvdXJjZXMuZ2V0KCJlZGl0U3R5bGUiKSsiICgiK3RoaXMuZWRpdG9yVWkuYWN0aW9ucy5nZXQoImVkaXRTdHlsZSIpLnNob3J0Y3V0KyIpIiksZS5zdHlsZS53aWR0aD0iMjAycHgiLGUuc3R5bGUubWFyZ2luQm90dG9tPSIycHgiLGEuYXBwZW5kQ2hpbGQoZSkpO3ZhciBjPXRoaXMuZWRpdG9yVWkuZWRpdG9yLmdyYXBoLGQ9Yy52aWV3LmdldFN0YXRlKGMuZ2V0U2VsZWN0aW9uQ2VsbCgpKTsxPT1jLmdldFNlbGVjdGlvbkNvdW50KCkmJm51bGwhPWQmJm51bGwhPWQuc2hhcGUmJm51bGwhPWQuc2hhcGUuc3RlbmNpbD8oYj1teFV0aWxzLmJ1dHRvbihteFJlc291cmNlcy5nZXQoImVkaXRTaGFwZSIpLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3RoaXMuZWRpdG9yVWkuYWN0aW9ucy5nZXQoImVkaXRTaGFwZSIpLmZ1bmN0KCl9KSksCmIuc2V0QXR0cmlidXRlKCJ0aXRsZSIsbXhSZXNvdXJjZXMuZ2V0KCJlZGl0U2hhcGUiKSksYi5zdHlsZS5tYXJnaW5Cb3R0b209IjJweCIsbnVsbD09ZT9iLnN0eWxlLndpZHRoPSIyMDJweCI6KGUuc3R5bGUud2lkdGg9IjEwMHB4IixiLnN0eWxlLndpZHRoPSIxMDBweCIsYi5zdHlsZS5tYXJnaW5MZWZ0PSIycHgiKSxhLmFwcGVuZENoaWxkKGIpKTpiLmltYWdlJiYoYj1teFV0aWxzLmJ1dHRvbihteFJlc291cmNlcy5nZXQoImVkaXRJbWFnZSIpLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3RoaXMuZWRpdG9yVWkuYWN0aW9ucy5nZXQoImltYWdlIikuZnVuY3QoKX0pKSxiLnNldEF0dHJpYnV0ZSgidGl0bGUiLG14UmVzb3VyY2VzLmdldCgiZWRpdEltYWdlIikpLGIuc3R5bGUubWFyZ2luQm90dG9tPSIycHgiLG51bGw9PWU/Yi5zdHlsZS53aWR0aD0iMjAycHgiOihlLnN0eWxlLndpZHRoPSIxMDBweCIsYi5zdHlsZS53aWR0aD0iMTAwcHgiLGIuc3R5bGUubWFyZ2luTGVmdD0KIjJweCIpLGEuYXBwZW5kQ2hpbGQoYikpO3JldHVybiBhfX1HcmFwaC5wcm90b3R5cGUuZGVmYXVsdFRoZW1lTmFtZT0iZGVmYXVsdC1zdHlsZTIiO0dyYXBoLnByb3RvdHlwZS5sYXN0UGFzdGVYbWw9bnVsbDtHcmFwaC5wcm90b3R5cGUucGFzdGVDb3VudGVyPTA7R3JhcGgucHJvdG90eXBlLmRlZmF1bHRTY3JvbGxiYXJzPSIwIiE9dXJsUGFyYW1zLnNiO0dyYXBoLnByb3RvdHlwZS5kZWZhdWx0UGFnZVZpc2libGU9IjAiIT11cmxQYXJhbXMucHY7R3JhcGgucHJvdG90eXBlLnNoYWRvd0lkPSJkcm9wU2hhZG93IjtHcmFwaC5wcm90b3R5cGUuc3ZnU2hhZG93Q29sb3I9IiMzRDQ1NzQiO0dyYXBoLnByb3RvdHlwZS5zdmdTaGFkb3dPcGFjaXR5PSIwLjQiO0dyYXBoLnByb3RvdHlwZS5zdmdTaGFkb3dCbHVyPSIxLjciO0dyYXBoLnByb3RvdHlwZS5zdmdTaGFkb3dTaXplPSIzIjtHcmFwaC5wcm90b3R5cGUuZWRnZU1vZGU9Im1vdmUiIT11cmxQYXJhbXMuZWRnZTt2YXIgeT1HcmFwaC5wcm90b3R5cGUuaW5pdDsKR3JhcGgucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEpe2I9YTt0cnl7aWYobXhDbGllbnQuSVNfUVVJUktTfHw3PT1kb2N1bWVudC5kb2N1bWVudE1vZGV8fDg9PWRvY3VtZW50LmRvY3VtZW50TW9kZSliPWRvY3VtZW50LmNyZWF0ZUV2ZW50T2JqZWN0KGEpLGIudHlwZT1hLnR5cGUsYi5jYW5CdWJibGU9YS5jYW5CdWJibGUsYi5jYW5jZWxhYmxlPWEuY2FuY2VsYWJsZSxiLnZpZXc9YS52aWV3LGIuZGV0YWlsPWEuZGV0YWlsLGIuc2NyZWVuWD1hLnNjcmVlblgsYi5zY3JlZW5ZPWEuc2NyZWVuWSxiLmNsaWVudFg9YS5jbGllbnRYLGIuY2xpZW50WT1hLmNsaWVudFksYi5jdHJsS2V5PWEuY3RybEtleSxiLmFsdEtleT1hLmFsdEtleSxiLnNoaWZ0S2V5PWEuc2hpZnRLZXksYi5tZXRhS2V5PWEubWV0YUtleSxiLmJ1dHRvbj1hLmJ1dHRvbixiLnJlbGF0ZWRUYXJnZXQ9YS5yZWxhdGVkVGFyZ2V0fWNhdGNoKEkpe319eS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7CndpbmRvdy5teEZyZWVoYW5kJiYodGhpcy5mcmVlaGFuZD1uZXcgbXhGcmVlaGFuZCh0aGlzKSk7dmFyIGI9bnVsbDtteEV2ZW50LmFkZExpc3RlbmVyKHRoaXMuY29udGFpbmVyLCJtb3VzZWVudGVyIixhKTtteEV2ZW50LmFkZExpc3RlbmVyKHRoaXMuY29udGFpbmVyLCJtb3VzZW1vdmUiLGEpO214RXZlbnQuYWRkTGlzdGVuZXIodGhpcy5jb250YWluZXIsIm1vdXNlbGVhdmUiLGZ1bmN0aW9uKGEpe2I9bnVsbH0pO3RoaXMuaXNNb3VzZUluc2VydFBvaW50PWZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPWJ9O3ZhciBlPXRoaXMuZ2V0SW5zZXJ0UG9pbnQ7dGhpcy5nZXRJbnNlcnRQb2ludD1mdW5jdGlvbigpe3JldHVybiBudWxsIT1iP3RoaXMuZ2V0UG9pbnRGb3JFdmVudChiKTplLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07dmFyIGM9dGhpcy5sYXlvdXRNYW5hZ2VyLmdldExheW91dDt0aGlzLmxheW91dE1hbmFnZXIuZ2V0TGF5b3V0PWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZ3JhcGguZ2V0Q2VsbFN0eWxlKGEpOwppZihudWxsIT1iKXtpZigicmFjayI9PWIuY2hpbGRMYXlvdXQpe3ZhciBlPW5ldyBteFN0YWNrTGF5b3V0KHRoaXMuZ3JhcGgsITEpO2UuZ3JpZFNpemU9bnVsbCE9Yi5yYWNrVW5pdFNpemU/cGFyc2VGbG9hdChiLnJhY2tVbml0U2l6ZSk6InVuZGVmaW5lZCIhPT10eXBlb2YgbXhSYWNrQ29udGFpbmVyP214UmFja0NvbnRhaW5lci51bml0U2l6ZToyMDtlLmZpbGw9ITA7ZS5tYXJnaW5MZWZ0PWIubWFyZ2luTGVmdHx8MDtlLm1hcmdpblJpZ2h0PWIubWFyZ2luUmlnaHR8fDA7ZS5tYXJnaW5Ub3A9Yi5tYXJnaW5Ub3B8fDA7ZS5tYXJnaW5Cb3R0b209Yi5tYXJnaW5Cb3R0b218fDA7ZS5hbGxvd0dhcHM9Yi5hbGxvd0dhcHN8fDA7ZS5yZXNpemVQYXJlbnQ9ITE7cmV0dXJuIGV9aWYoInVuZGVmaW5lZCIhPT10eXBlb2YgbXhUYWJsZUxheW91dCYmInRhYmxlTGF5b3V0Ij09Yi5jaGlsZExheW91dClyZXR1cm4gZT1uZXcgbXhUYWJsZUxheW91dCh0aGlzLmdyYXBoKSxlLnJvd3M9Yi50YWJsZVJvd3N8fAoyLGUuY29sdW1ucz1iLnRhYmxlQ29sdW1uc3x8MixlLmNvbFBlcmNlbnRhZ2VzPWIuY29sUGVyY2VudGFnZXMsZS5yb3dQZXJjZW50YWdlcz1iLnJvd1BlcmNlbnRhZ2VzLGUuZXF1YWxDb2x1bW5zPSIxIj09bXhVdGlscy5nZXRWYWx1ZShiLCJlcXVhbENvbHVtbnMiLGUuY29sUGVyY2VudGFnZXM/IjAiOiIxIiksZS5lcXVhbFJvd3M9IjEiPT1teFV0aWxzLmdldFZhbHVlKGIsImVxdWFsUm93cyIsZS5yb3dQZXJjZW50YWdlcz8iMCI6IjEiKSxlLnJlc2l6ZVBhcmVudD0iMSI9PW14VXRpbHMuZ2V0VmFsdWUoYiwicmVzaXplUGFyZW50IiwiMSIpLGUuYm9yZGVyPWIudGFibGVCb3JkZXJ8fGUuYm9yZGVyLGUubWFyZ2luTGVmdD1iLm1hcmdpbkxlZnR8fDAsZS5tYXJnaW5SaWdodD1iLm1hcmdpblJpZ2h0fHwwLGUubWFyZ2luVG9wPWIubWFyZ2luVG9wfHwwLGUubWFyZ2luQm90dG9tPWIubWFyZ2luQm90dG9tfHwwLGUuYXV0b0FkZENvbD0iMSI9PW14VXRpbHMuZ2V0VmFsdWUoYiwKImF1dG9BZGRDb2wiLCIwIiksZS5hdXRvQWRkUm93PSIxIj09bXhVdGlscy5nZXRWYWx1ZShiLCJhdXRvQWRkUm93IixlLmF1dG9BZGRDb2w/IjAiOiIxIiksZS5jb2xXaWR0aHM9Yi5jb2xXaWR0aHN8fCIxMDAiLGUucm93SGVpZ2h0cz1iLnJvd0hlaWdodHN8fCI1MCIsZX1yZXR1cm4gYy5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O3RoaXMudXBkYXRlR2xvYmFsVXJsVmFyaWFibGVzKCl9O3ZhciB4PUdyYXBoLnByb3RvdHlwZS5pc0Zhc3Rab29tRW5hYmxlZDtHcmFwaC5wcm90b3R5cGUuaXNGYXN0Wm9vbUVuYWJsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4geC5hcHBseSh0aGlzLGFyZ3VtZW50cykmJighdGhpcy5zaGFkb3dWaXNpYmxlfHwhbXhDbGllbnQuSVNfU0YpfTtHcmFwaC5wcm90b3R5cGUudXBkYXRlR2xvYmFsVXJsVmFyaWFibGVzPWZ1bmN0aW9uKCl7dGhpcy5nbG9iYWxWYXJzPUVkaXRvci5nbG9iYWxWYXJzO2lmKG51bGwhPXVybFBhcmFtcy52YXJzKXRyeXt0aGlzLmdsb2JhbFZhcnM9Cm51bGwhPXRoaXMuZ2xvYmFsVmFycz9teFV0aWxzLmNsb25lKHRoaXMuZ2xvYmFsVmFycyk6e307dmFyIGE9SlNPTi5wYXJzZShkZWNvZGVVUklDb21wb25lbnQodXJsUGFyYW1zLnZhcnMpKTtpZihudWxsIT1hKWZvcih2YXIgYiBpbiBhKXRoaXMuZ2xvYmFsVmFyc1tiXT1hW2JdfWNhdGNoKEEpe251bGwhPXdpbmRvdy5jb25zb2xlJiZjb25zb2xlLmxvZygiRXJyb3IgaW4gdmFycyBVUkwgcGFyYW1ldGVyOiAiK0EpfX07R3JhcGgucHJvdG90eXBlLmdldEV4cG9ydFZhcmlhYmxlcz1mdW5jdGlvbigpe3JldHVybiBudWxsIT10aGlzLmdsb2JhbFZhcnM/bXhVdGlscy5jbG9uZSh0aGlzLmdsb2JhbFZhcnMpOnt9fTt2YXIgQz1HcmFwaC5wcm90b3R5cGUuZ2V0R2xvYmFsVmFyaWFibGU7R3JhcGgucHJvdG90eXBlLmdldEdsb2JhbFZhcmlhYmxlPWZ1bmN0aW9uKGEpe3ZhciBiPUMuYXBwbHkodGhpcyxhcmd1bWVudHMpO251bGw9PWImJm51bGwhPXRoaXMuZ2xvYmFsVmFycyYmKGI9dGhpcy5nbG9iYWxWYXJzW2FdKTsKcmV0dXJuIGJ9O0dyYXBoLnByb3RvdHlwZS5nZXREZWZhdWx0U3R5bGVzaGVldD1mdW5jdGlvbigpe2lmKG51bGw9PXRoaXMuZGVmYXVsdFN0eWxlc2hlZXQpe3ZhciBhPXRoaXMudGhlbWVzWyJkZWZhdWx0LXN0eWxlMiJdO3RoaXMuZGVmYXVsdFN0eWxlc2hlZXQ9KG5ldyBteENvZGVjKGEub3duZXJEb2N1bWVudCkpLmRlY29kZShhKX1yZXR1cm4gdGhpcy5kZWZhdWx0U3R5bGVzaGVldH07R3JhcGgucHJvdG90eXBlLmlzVmlld2VyPWZ1bmN0aW9uKCl7cmV0dXJuIHVybFBhcmFtcy52aWV3ZXJ9O3ZhciBCPUdyYXBoLnByb3RvdHlwZS5nZXRTdmc7R3JhcGgucHJvdG90eXBlLmdldFN2Zz1mdW5jdGlvbihhLGIsZSxjLGQsZixnLGwsbixwLHQsayl7dmFyIG09bnVsbDtrfHxudWxsPT10aGlzLnRoZW1lc3x8ImRhcmtUaGVtZSIhPXRoaXMuZGVmYXVsdFRoZW1lTmFtZXx8KG09dGhpcy5zdHlsZXNoZWV0LHRoaXMuc3R5bGVzaGVldD10aGlzLmdldERlZmF1bHRTdHlsZXNoZWV0KCksCnRoaXMucmVmcmVzaCgpKTt2YXIgdj1CLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtpZih0JiZudWxsIT10aGlzLmV4dEZvbnRzJiYwPHRoaXMuZXh0Rm9udHMubGVuZ3RoKXt2YXIgeT12Lm93bmVyRG9jdW1lbnQsdT1udWxsIT15LmNyZWF0ZUVsZW1lbnROUz95LmNyZWF0ZUVsZW1lbnROUyhteENvbnN0YW50cy5OU19TVkcsInN0eWxlIik6eS5jcmVhdGVFbGVtZW50KCJzdHlsZSIpO251bGwhPXkuc2V0QXR0cmlidXRlTlM/dS5zZXRBdHRyaWJ1dGVOUygidHlwZSIsInRleHQvY3NzIik6dS5zZXRBdHRyaWJ1dGUoInR5cGUiLCJ0ZXh0L2NzcyIpO2Zvcih2YXIgeD0iIixBPSIiLHo9MDt6PHRoaXMuZXh0Rm9udHMubGVuZ3RoO3orKyl7dmFyIHE9dGhpcy5leHRGb250c1t6XS5uYW1lLEM9dGhpcy5leHRGb250c1t6XS51cmw7MD09Qy5pbmRleE9mKEVkaXRvci5HT09HTEVfRk9OVFMpP3grPSJAaW1wb3J0IHVybCgiK0MrIik7XG4iOkErPSdAZm9udC1mYWNlIHtcbmZvbnQtZmFtaWx5OiAiJysKcSsnIjtcbnNyYzogdXJsKCInK0MrJyIpO1xufVxuJ311LmFwcGVuZENoaWxkKHkuY3JlYXRlVGV4dE5vZGUoeCtBKSk7di5nZXRFbGVtZW50c0J5VGFnTmFtZSgiZGVmcyIpWzBdLmFwcGVuZENoaWxkKHUpfW51bGwhPW0mJih0aGlzLnN0eWxlc2hlZXQ9bSx0aGlzLnJlZnJlc2goKSk7cmV0dXJuIHZ9O3ZhciBEPUdyYXBoLnByb3RvdHlwZS5jcmVhdGVTdmdJbWFnZUV4cG9ydDtHcmFwaC5wcm90b3R5cGUuY3JlYXRlU3ZnSW1hZ2VFeHBvcnQ9ZnVuY3Rpb24oKXt2YXIgYT1ELmFwcGx5KHRoaXMsYXJndW1lbnRzKTtpZih0aGlzLm1hdGhFbmFibGVkKXt0aGlzLmNvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTt2YXIgYj1hLmRyYXdUZXh0O2EuZHJhd1RleHQ9ZnVuY3Rpb24oYSxlKXtpZihudWxsIT1hLnRleHQmJm51bGwhPWEudGV4dC52YWx1ZSYmYS50ZXh0LmNoZWNrQm91bmRzKCkmJihteFV0aWxzLmlzTm9kZShhLnRleHQudmFsdWUpfHxhLnRleHQuZGlhbGVjdD09Cm14Q29uc3RhbnRzLkRJQUxFQ1RfU1RSSUNUSFRNTCkpe3ZhciBjPWEudGV4dC5nZXRDb250ZW50Tm9kZSgpO2lmKG51bGwhPWMpe2M9Yy5jbG9uZU5vZGUoITApO2lmKGMuZ2V0RWxlbWVudHNCeVRhZ05hbWVOUylmb3IodmFyIGQ9Yy5nZXRFbGVtZW50c0J5VGFnTmFtZU5TKCJodHRwOi8vd3d3LnczLm9yZy8xOTk4L01hdGgvTWF0aE1MIiwibWF0aCIpOzA8ZC5sZW5ndGg7KWRbMF0ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChkWzBdKTtudWxsIT1jLmlubmVySFRNTCYmKGQ9YS50ZXh0LnZhbHVlLGEudGV4dC52YWx1ZT1jLmlubmVySFRNTCxiLmFwcGx5KHRoaXMsYXJndW1lbnRzKSxhLnRleHQudmFsdWU9ZCl9fWVsc2UgYi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fXJldHVybiBhfTt2YXIgej1teEdyYXBoVmlldy5wcm90b3R5cGUudmFsaWRhdGVCYWNrZ3JvdW5kUGFnZTtteEdyYXBoVmlldy5wcm90b3R5cGUudmFsaWRhdGVCYWNrZ3JvdW5kUGFnZT1mdW5jdGlvbigpe3ouYXBwbHkodGhpcywKYXJndW1lbnRzKTtpZihteENsaWVudC5JU19HQyYmbnVsbCE9dGhpcy5nZXREcmF3UGFuZSgpKXt2YXIgYT10aGlzLmdldERyYXdQYW5lKCkucGFyZW50Tm9kZTshdGhpcy5ncmFwaC5tYXRoRW5hYmxlZHx8bXhDbGllbnQuTk9fRk98fG51bGwhPXRoaXMud2ViS2l0Rm9yY2VSZXBhaW50Tm9kZSYmbnVsbCE9dGhpcy53ZWJLaXRGb3JjZVJlcGFpbnROb2RlLnBhcmVudE5vZGV8fCJzdmciIT10aGlzLmdyYXBoLmNvbnRhaW5lci5maXJzdENoaWxkLm5vZGVOYW1lP251bGw9PXRoaXMud2ViS2l0Rm9yY2VSZXBhaW50Tm9kZXx8dGhpcy5ncmFwaC5tYXRoRW5hYmxlZCYmKCJzdmciPT10aGlzLmdyYXBoLmNvbnRhaW5lci5maXJzdENoaWxkLm5vZGVOYW1lfHx0aGlzLmdyYXBoLmNvbnRhaW5lci5maXJzdENoaWxkPT10aGlzLndlYktpdEZvcmNlUmVwYWludE5vZGUpfHwobnVsbCE9dGhpcy53ZWJLaXRGb3JjZVJlcGFpbnROb2RlLnBhcmVudE5vZGUmJnRoaXMud2ViS2l0Rm9yY2VSZXBhaW50Tm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMud2ViS2l0Rm9yY2VSZXBhaW50Tm9kZSksCnRoaXMud2ViS2l0Rm9yY2VSZXBhaW50Tm9kZT1udWxsKToodGhpcy53ZWJLaXRGb3JjZVJlcGFpbnROb2RlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLHRoaXMud2ViS2l0Rm9yY2VSZXBhaW50Tm9kZS5zdHlsZS5jc3NUZXh0PSJwb3NpdGlvbjphYnNvbHV0ZTsiLGEub3duZXJTVkdFbGVtZW50LnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHRoaXMud2ViS2l0Rm9yY2VSZXBhaW50Tm9kZSxhLm93bmVyU1ZHRWxlbWVudCkpfX07dmFyIEU9R3JhcGgucHJvdG90eXBlLmxvYWRTdHlsZXNoZWV0O0dyYXBoLnByb3RvdHlwZS5sb2FkU3R5bGVzaGVldD1mdW5jdGlvbigpe0UuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuY3VycmVudFN0eWxlPSJkZWZhdWx0LXN0eWxlMiJ9O0dyYXBoLnByb3RvdHlwZS5oYW5kbGVDdXN0b21MaW5rPWZ1bmN0aW9uKGEpe2lmKCJkYXRhOmFjdGlvbi9qc29uLCI9PWEuc3Vic3RyaW5nKDAsMTcpJiYoYT1KU09OLnBhcnNlKGEuc3Vic3RyaW5nKDE3KSksCm51bGwhPWEuYWN0aW9ucykpe2Zvcih2YXIgYj0wO2I8YS5hY3Rpb25zLmxlbmd0aDtiKyspe3ZhciBlPWEuYWN0aW9uc1tiXTtpZihudWxsIT1lLm9wZW4paWYodGhpcy5pc0N1c3RvbUxpbmsoZS5vcGVuKSl7aWYoIXRoaXMuY3VzdG9tTGlua0NsaWNrZWQoZS5vcGVuKSlyZXR1cm59ZWxzZSB0aGlzLm9wZW5MaW5rKGUub3Blbil9dGhpcy5tb2RlbC5iZWdpblVwZGF0ZSgpO3RyeXtmb3IoYj0wO2I8YS5hY3Rpb25zLmxlbmd0aDtiKyspZT1hLmFjdGlvbnNbYl0sbnVsbCE9ZS50b2dnbGUmJnRoaXMudG9nZ2xlQ2VsbHModGhpcy5nZXRDZWxsc0ZvckFjdGlvbihlLnRvZ2dsZSwhMCkpLG51bGwhPWUuc2hvdyYmdGhpcy5zZXRDZWxsc1Zpc2libGUodGhpcy5nZXRDZWxsc0ZvckFjdGlvbihlLnNob3csITApLCEwKSxudWxsIT1lLmhpZGUmJnRoaXMuc2V0Q2VsbHNWaXNpYmxlKHRoaXMuZ2V0Q2VsbHNGb3JBY3Rpb24oZS5oaWRlLCEwKSwhMSl9ZmluYWxseXt0aGlzLm1vZGVsLmVuZFVwZGF0ZSgpfWZvcihiPQowO2I8YS5hY3Rpb25zLmxlbmd0aDtiKyspe3ZhciBlPWEuYWN0aW9uc1tiXSxjPVtdO251bGwhPWUuc2VsZWN0JiZ0aGlzLmlzRW5hYmxlZCgpJiYoYz10aGlzLmdldENlbGxzRm9yQWN0aW9uKGUuc2VsZWN0KSx0aGlzLnNldFNlbGVjdGlvbkNlbGxzKGMpKTtudWxsIT1lLmhpZ2hsaWdodCYmKGM9dGhpcy5nZXRDZWxsc0ZvckFjdGlvbihlLmhpZ2hsaWdodCksdGhpcy5oaWdobGlnaHRDZWxscyhjLGUuaGlnaGxpZ2h0LmNvbG9yLGUuaGlnaGxpZ2h0LmR1cmF0aW9uLGUuaGlnaGxpZ2h0Lm9wYWNpdHkpKTtudWxsIT1lLnNjcm9sbCYmKGM9dGhpcy5nZXRDZWxsc0ZvckFjdGlvbihlLnNjcm9sbCkpOzA8Yy5sZW5ndGgmJnRoaXMuc2Nyb2xsQ2VsbFRvVmlzaWJsZShjWzBdKX19fTtHcmFwaC5wcm90b3R5cGUudXBkYXRlQ3VzdG9tTGlua3NGb3JDZWxsPWZ1bmN0aW9uKGEsYil7dmFyIGU9dGhpcy5nZXRMaW5rRm9yQ2VsbChiKTtudWxsIT1lJiYiZGF0YTphY3Rpb24vanNvbiwiPT0KZS5zdWJzdHJpbmcoMCwxNykmJnRoaXMuc2V0TGlua0ZvckNlbGwoYix0aGlzLnVwZGF0ZUN1c3RvbUxpbmsoYSxlKSk7aWYodGhpcy5pc0h0bWxMYWJlbChiKSl7dmFyIGM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7Yy5pbm5lckhUTUw9dGhpcy5nZXRMYWJlbChiKTtmb3IodmFyIGQ9Yy5nZXRFbGVtZW50c0J5VGFnTmFtZSgiYSIpLGY9ITEsZz0wO2c8ZC5sZW5ndGg7ZysrKWU9ZFtnXS5nZXRBdHRyaWJ1dGUoImhyZWYiKSxudWxsIT1lJiYiZGF0YTphY3Rpb24vanNvbiwiPT1lLnN1YnN0cmluZygwLDE3KSYmKGRbZ10uc2V0QXR0cmlidXRlKCJocmVmIix0aGlzLnVwZGF0ZUN1c3RvbUxpbmsoYSxlKSksZj0hMCk7ZiYmdGhpcy5sYWJlbENoYW5nZWQoYixjLmlubmVySFRNTCl9fTtHcmFwaC5wcm90b3R5cGUudXBkYXRlQ3VzdG9tTGluaz1mdW5jdGlvbihhLGIpe2lmKCJkYXRhOmFjdGlvbi9qc29uLCI9PWIuc3Vic3RyaW5nKDAsMTcpKXRyeXt2YXIgZT1KU09OLnBhcnNlKGIuc3Vic3RyaW5nKDE3KSk7Cm51bGwhPWUuYWN0aW9ucyYmKHRoaXMudXBkYXRlQ3VzdG9tTGlua0FjdGlvbnMoYSxlLmFjdGlvbnMpLGI9ImRhdGE6YWN0aW9uL2pzb24sIitKU09OLnN0cmluZ2lmeShlKSl9Y2F0Y2goTSl7fXJldHVybiBifTtHcmFwaC5wcm90b3R5cGUudXBkYXRlQ3VzdG9tTGlua0FjdGlvbnM9ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGU9MDtlPGIubGVuZ3RoO2UrKyl7dmFyIGM9YltlXTt0aGlzLnVwZGF0ZUN1c3RvbUxpbmtBY3Rpb24oYSxjLnRvZ2dsZSk7dGhpcy51cGRhdGVDdXN0b21MaW5rQWN0aW9uKGEsYy5zaG93KTt0aGlzLnVwZGF0ZUN1c3RvbUxpbmtBY3Rpb24oYSxjLmhpZGUpO3RoaXMudXBkYXRlQ3VzdG9tTGlua0FjdGlvbihhLGMuc2VsZWN0KTt0aGlzLnVwZGF0ZUN1c3RvbUxpbmtBY3Rpb24oYSxjLmhpZ2hsaWdodCk7dGhpcy51cGRhdGVDdXN0b21MaW5rQWN0aW9uKGEsYy5zY3JvbGwpfX07R3JhcGgucHJvdG90eXBlLnVwZGF0ZUN1c3RvbUxpbmtBY3Rpb249ZnVuY3Rpb24oYSwKYil7aWYobnVsbCE9YiYmbnVsbCE9Yi5jZWxscyl7Zm9yKHZhciBlPVtdLGM9MDtjPGIuY2VsbHMubGVuZ3RoO2MrKylpZigiKiI9PWIuY2VsbHNbY10pZS5wdXNoKGIuY2VsbHNbY10pO2Vsc2V7dmFyIGQ9YVtiLmNlbGxzW2NdXTtudWxsIT1kPyIiIT1kJiZlLnB1c2goZCk6ZS5wdXNoKGIuY2VsbHNbY10pfWIuY2VsbHM9ZX19O0dyYXBoLnByb3RvdHlwZS5nZXRDZWxsc0ZvckFjdGlvbj1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmdldENlbGxzQnlJZChhLmNlbGxzKS5jb25jYXQodGhpcy5nZXRDZWxsc0ZvclRhZ3MoYS50YWdzLG51bGwsbnVsbCxiKSl9O0dyYXBoLnByb3RvdHlwZS5nZXRDZWxsc0J5SWQ9ZnVuY3Rpb24oYSl7dmFyIGI9W107aWYobnVsbCE9YSlmb3IodmFyIGU9MDtlPGEubGVuZ3RoO2UrKylpZigiKiI9PWFbZV0pdmFyIGM9dGhpcy5nZXREZWZhdWx0UGFyZW50KCksYj1iLmNvbmNhdCh0aGlzLm1vZGVsLmZpbHRlckRlc2NlbmRhbnRzKGZ1bmN0aW9uKGEpe3JldHVybiBhIT0KY30sYykpO2Vsc2V7dmFyIGQ9dGhpcy5tb2RlbC5nZXRDZWxsKGFbZV0pO251bGwhPWQmJmIucHVzaChkKX1yZXR1cm4gYn07R3JhcGgucHJvdG90eXBlLmdldENlbGxzRm9yVGFncz1mdW5jdGlvbihhLGIsZSxjKXt2YXIgZD1bXTtpZihudWxsIT1hKXtiPW51bGwhPWI/Yjp0aGlzLm1vZGVsLmdldERlc2NlbmRhbnRzKHRoaXMubW9kZWwuZ2V0Um9vdCgpKTtlPW51bGwhPWU/ZToidGFncyI7Zm9yKHZhciBmPTAsZz17fSxsPTA7bDxhLmxlbmd0aDtsKyspMDxhW2xdLmxlbmd0aCYmKGdbYVtsXS50b0xvd2VyQ2FzZSgpXT0hMCxmKyspO2ZvcihsPTA7bDxiLmxlbmd0aDtsKyspaWYoYyYmdGhpcy5tb2RlbC5nZXRQYXJlbnQoYltsXSk9PXRoaXMubW9kZWwucm9vdHx8dGhpcy5tb2RlbC5pc1ZlcnRleChiW2xdKXx8dGhpcy5tb2RlbC5pc0VkZ2UoYltsXSkpe3ZhciBuPW51bGwhPWJbbF0udmFsdWUmJiJvYmplY3QiPT10eXBlb2YgYltsXS52YWx1ZT9teFV0aWxzLnRyaW0oYltsXS52YWx1ZS5nZXRBdHRyaWJ1dGUoZSl8fAoiIik6IiIscD0hMTtpZigwPG4ubGVuZ3RoKXtpZihuPW4udG9Mb3dlckNhc2UoKS5zcGxpdCgiICIpLG4ubGVuZ3RoPj1hLmxlbmd0aCl7Zm9yKHZhciB0PXA9MDt0PG4ubGVuZ3RoJiZwPGY7dCsrKW51bGwhPWdbblt0XV0mJnArKztwPXA9PWZ9fWVsc2UgcD0wPT1hLmxlbmd0aDtwJiZkLnB1c2goYltsXSl9fXJldHVybiBkfTtHcmFwaC5wcm90b3R5cGUudG9nZ2xlQ2VsbHM9ZnVuY3Rpb24oYSl7dGhpcy5tb2RlbC5iZWdpblVwZGF0ZSgpO3RyeXtmb3IodmFyIGI9MDtiPGEubGVuZ3RoO2IrKyl0aGlzLm1vZGVsLnNldFZpc2libGUoYVtiXSwhdGhpcy5tb2RlbC5pc1Zpc2libGUoYVtiXSkpfWZpbmFsbHl7dGhpcy5tb2RlbC5lbmRVcGRhdGUoKX19O0dyYXBoLnByb3RvdHlwZS5zZXRDZWxsc1Zpc2libGU9ZnVuY3Rpb24oYSxiKXt0aGlzLm1vZGVsLmJlZ2luVXBkYXRlKCk7dHJ5e2Zvcih2YXIgZT0wO2U8YS5sZW5ndGg7ZSsrKXRoaXMubW9kZWwuc2V0VmlzaWJsZShhW2VdLGIpfWZpbmFsbHl7dGhpcy5tb2RlbC5lbmRVcGRhdGUoKX19OwpHcmFwaC5wcm90b3R5cGUuaGlnaGxpZ2h0Q2VsbHM9ZnVuY3Rpb24oYSxiLGUsYyl7Zm9yKHZhciBkPTA7ZDxhLmxlbmd0aDtkKyspdGhpcy5oaWdobGlnaHRDZWxsKGFbZF0sYixlLGMpfTtHcmFwaC5wcm90b3R5cGUuaGlnaGxpZ2h0Q2VsbD1mdW5jdGlvbihhLGIsZSxjKXtiPW51bGwhPWI/YjpteENvbnN0YW50cy5ERUZBVUxUX1ZBTElEX0NPTE9SO2U9bnVsbCE9ZT9lOjFFMzthPXRoaXMudmlldy5nZXRTdGF0ZShhKTtpZihudWxsIT1hKXt2YXIgZD1NYXRoLm1heCg1LG14VXRpbHMuZ2V0VmFsdWUoYS5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9TVFJPS0VXSURUSCwxKSs0KSxmPW5ldyBteENlbGxIaWdobGlnaHQodGhpcyxiLGQsITEpO251bGwhPWMmJihmLm9wYWNpdHk9Yyk7Zi5oaWdobGlnaHQoYSk7d2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXtudWxsIT1mLnNoYXBlJiYobXhVdGlscy5zZXRQcmVmaXhlZFN0eWxlKGYuc2hhcGUubm9kZS5zdHlsZSwidHJhbnNpdGlvbiIsCiJhbGwgMTIwMG1zIGVhc2UtaW4tb3V0IiksZi5zaGFwZS5ub2RlLnN0eWxlLm9wYWNpdHk9MCk7d2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXtmLmRlc3Ryb3koKX0sMTIwMCl9LGUpfX07R3JhcGgucHJvdG90eXBlLmFkZFN2Z1NoYWRvdz1mdW5jdGlvbihhLGIsZSl7ZT1udWxsIT1lP2U6ITE7dmFyIGM9YS5vd25lckRvY3VtZW50LGQ9bnVsbCE9Yy5jcmVhdGVFbGVtZW50TlM/Yy5jcmVhdGVFbGVtZW50TlMobXhDb25zdGFudHMuTlNfU1ZHLCJmaWx0ZXIiKTpjLmNyZWF0ZUVsZW1lbnQoImZpbHRlciIpO2Quc2V0QXR0cmlidXRlKCJpZCIsdGhpcy5zaGFkb3dJZCk7dmFyIGY9bnVsbCE9Yy5jcmVhdGVFbGVtZW50TlM/Yy5jcmVhdGVFbGVtZW50TlMobXhDb25zdGFudHMuTlNfU1ZHLCJmZUdhdXNzaWFuQmx1ciIpOmMuY3JlYXRlRWxlbWVudCgiZmVHYXVzc2lhbkJsdXIiKTtmLnNldEF0dHJpYnV0ZSgiaW4iLCJTb3VyY2VBbHBoYSIpO2Yuc2V0QXR0cmlidXRlKCJzdGREZXZpYXRpb24iLAp0aGlzLnN2Z1NoYWRvd0JsdXIpO2Yuc2V0QXR0cmlidXRlKCJyZXN1bHQiLCJibHVyIik7ZC5hcHBlbmRDaGlsZChmKTtmPW51bGwhPWMuY3JlYXRlRWxlbWVudE5TP2MuY3JlYXRlRWxlbWVudE5TKG14Q29uc3RhbnRzLk5TX1NWRywiZmVPZmZzZXQiKTpjLmNyZWF0ZUVsZW1lbnQoImZlT2Zmc2V0Iik7Zi5zZXRBdHRyaWJ1dGUoImluIiwiYmx1ciIpO2Yuc2V0QXR0cmlidXRlKCJkeCIsdGhpcy5zdmdTaGFkb3dTaXplKTtmLnNldEF0dHJpYnV0ZSgiZHkiLHRoaXMuc3ZnU2hhZG93U2l6ZSk7Zi5zZXRBdHRyaWJ1dGUoInJlc3VsdCIsIm9mZnNldEJsdXIiKTtkLmFwcGVuZENoaWxkKGYpO2Y9bnVsbCE9Yy5jcmVhdGVFbGVtZW50TlM/Yy5jcmVhdGVFbGVtZW50TlMobXhDb25zdGFudHMuTlNfU1ZHLCJmZUZsb29kIik6Yy5jcmVhdGVFbGVtZW50KCJmZUZsb29kIik7Zi5zZXRBdHRyaWJ1dGUoImZsb29kLWNvbG9yIix0aGlzLnN2Z1NoYWRvd0NvbG9yKTtmLnNldEF0dHJpYnV0ZSgiZmxvb2Qtb3BhY2l0eSIsCnRoaXMuc3ZnU2hhZG93T3BhY2l0eSk7Zi5zZXRBdHRyaWJ1dGUoInJlc3VsdCIsIm9mZnNldENvbG9yIik7ZC5hcHBlbmRDaGlsZChmKTtmPW51bGwhPWMuY3JlYXRlRWxlbWVudE5TP2MuY3JlYXRlRWxlbWVudE5TKG14Q29uc3RhbnRzLk5TX1NWRywiZmVDb21wb3NpdGUiKTpjLmNyZWF0ZUVsZW1lbnQoImZlQ29tcG9zaXRlIik7Zi5zZXRBdHRyaWJ1dGUoImluIiwib2Zmc2V0Q29sb3IiKTtmLnNldEF0dHJpYnV0ZSgiaW4yIiwib2Zmc2V0Qmx1ciIpO2Yuc2V0QXR0cmlidXRlKCJvcGVyYXRvciIsImluIik7Zi5zZXRBdHRyaWJ1dGUoInJlc3VsdCIsIm9mZnNldEJsdXIiKTtkLmFwcGVuZENoaWxkKGYpO2Y9bnVsbCE9Yy5jcmVhdGVFbGVtZW50TlM/Yy5jcmVhdGVFbGVtZW50TlMobXhDb25zdGFudHMuTlNfU1ZHLCJmZUJsZW5kIik6Yy5jcmVhdGVFbGVtZW50KCJmZUJsZW5kIik7Zi5zZXRBdHRyaWJ1dGUoImluIiwiU291cmNlR3JhcGhpYyIpO2Yuc2V0QXR0cmlidXRlKCJpbjIiLAoib2Zmc2V0Qmx1ciIpO2QuYXBwZW5kQ2hpbGQoZik7Zj1hLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJkZWZzIik7MD09Zi5sZW5ndGg/KGM9bnVsbCE9Yy5jcmVhdGVFbGVtZW50TlM/Yy5jcmVhdGVFbGVtZW50TlMobXhDb25zdGFudHMuTlNfU1ZHLCJkZWZzIik6Yy5jcmVhdGVFbGVtZW50KCJkZWZzIiksbnVsbCE9YS5maXJzdENoaWxkP2EuaW5zZXJ0QmVmb3JlKGMsYS5maXJzdENoaWxkKTphLmFwcGVuZENoaWxkKGMpKTpjPWZbMF07Yy5hcHBlbmRDaGlsZChkKTtlfHwoYj1udWxsIT1iP2I6YS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiZyIpWzBdLG51bGwhPWImJihiLnNldEF0dHJpYnV0ZSgiZmlsdGVyIiwidXJsKCMiK3RoaXMuc2hhZG93SWQrIikiKSxpc05hTihwYXJzZUludChhLmdldEF0dHJpYnV0ZSgid2lkdGgiKSkpfHwoYS5zZXRBdHRyaWJ1dGUoIndpZHRoIixwYXJzZUludChhLmdldEF0dHJpYnV0ZSgid2lkdGgiKSkrNiksYS5zZXRBdHRyaWJ1dGUoImhlaWdodCIscGFyc2VJbnQoYS5nZXRBdHRyaWJ1dGUoImhlaWdodCIpKSsKNiksYj1hLmdldEF0dHJpYnV0ZSgidmlld0JveCIpLG51bGwhPWImJjA8Yi5sZW5ndGgmJihiPWIuc3BsaXQoIiAiKSwzPGIubGVuZ3RoJiYodz1wYXJzZUZsb2F0KGJbMl0pKzYsaD1wYXJzZUZsb2F0KGJbM10pKzYsYS5zZXRBdHRyaWJ1dGUoInZpZXdCb3giLGJbMF0rIiAiK2JbMV0rIiAiK3crIiAiK2gpKSkpKSk7cmV0dXJuIGR9O0dyYXBoLnByb3RvdHlwZS5zZXRTaGFkb3dWaXNpYmxlPWZ1bmN0aW9uKGEsYil7bXhDbGllbnQuSVNfU1ZHJiYhbXhDbGllbnQuSVNfU0YmJihiPW51bGwhPWI/YjohMCwodGhpcy5zaGFkb3dWaXNpYmxlPWEpP3RoaXMudmlldy5nZXREcmF3UGFuZSgpLnNldEF0dHJpYnV0ZSgiZmlsdGVyIiwidXJsKCMiK3RoaXMuc2hhZG93SWQrIikiKTp0aGlzLnZpZXcuZ2V0RHJhd1BhbmUoKS5yZW1vdmVBdHRyaWJ1dGUoImZpbHRlciIpLGImJnRoaXMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KCJzaGFkb3dWaXNpYmxlQ2hhbmdlZCIpKSl9O0dyYXBoLnByb3RvdHlwZS5zZWxlY3RVbmxvY2tlZExheWVyPQpmdW5jdGlvbigpe2lmKG51bGw9PXRoaXMuZGVmYXVsdFBhcmVudCl7dmFyIGE9dGhpcy5tb2RlbC5nZXRDaGlsZENvdW50KHRoaXMubW9kZWwucm9vdCksYixlPTA7ZG8gYj10aGlzLm1vZGVsLmdldENoaWxkQXQodGhpcy5tb2RlbC5yb290LGUpO3doaWxlKGUrKzxhJiYiMSI9PW14VXRpbHMuZ2V0VmFsdWUodGhpcy5nZXRDZWxsU3R5bGUoYiksImxvY2tlZCIsIjAiKSk7bnVsbCE9YiYmdGhpcy5zZXREZWZhdWx0UGFyZW50KGIpfX07bXhTdGVuY2lsUmVnaXN0cnkubGlicmFyaWVzLm1vY2t1cD1bU0hBUEVTX1BBVEgrIi9tb2NrdXAvbXhNb2NrdXBCdXR0b25zLmpzIl07bXhTdGVuY2lsUmVnaXN0cnkubGlicmFyaWVzLmFycm93czI9W1NIQVBFU19QQVRIKyIvbXhBcnJvd3MuanMiXTtteFN0ZW5jaWxSZWdpc3RyeS5saWJyYXJpZXMuYXRsYXNzaWFuPVtTVEVOQ0lMX1BBVEgrIi9hdGxhc3NpYW4ueG1sIixTSEFQRVNfUEFUSCsiL214QXRsYXNzaWFuLmpzIl07bXhTdGVuY2lsUmVnaXN0cnkubGlicmFyaWVzLmJwbW49CltTSEFQRVNfUEFUSCsiL2JwbW4vbXhCcG1uU2hhcGUyLmpzIixTVEVOQ0lMX1BBVEgrIi9icG1uLnhtbCJdO214U3RlbmNpbFJlZ2lzdHJ5LmxpYnJhcmllcy5jND1bU0hBUEVTX1BBVEgrIi9teEM0LmpzIl07bXhTdGVuY2lsUmVnaXN0cnkubGlicmFyaWVzLmNpc2NvMTk9W1NIQVBFU19QQVRIKyIvbXhDaXNjbzE5LmpzIixTVEVOQ0lMX1BBVEgrIi9jaXNjbzE5LnhtbCJdO214U3RlbmNpbFJlZ2lzdHJ5LmxpYnJhcmllcy5kZmQ9W1NIQVBFU19QQVRIKyIvbXhERkQuanMiXTtteFN0ZW5jaWxSZWdpc3RyeS5saWJyYXJpZXMuZXI9W1NIQVBFU19QQVRIKyIvZXIvbXhFUi5qcyJdO214U3RlbmNpbFJlZ2lzdHJ5LmxpYnJhcmllcy5rdWJlcm5ldGVzPVtTSEFQRVNfUEFUSCsiL214S3ViZXJuZXRlcy5qcyIsU1RFTkNJTF9QQVRIKyIva3ViZXJuZXRlcy54bWwiXTtteFN0ZW5jaWxSZWdpc3RyeS5saWJyYXJpZXMuZmxvd2NoYXJ0PVtTSEFQRVNfUEFUSCsiL214Rmxvd2NoYXJ0LmpzIiwKU1RFTkNJTF9QQVRIKyIvZmxvd2NoYXJ0LnhtbCJdO214U3RlbmNpbFJlZ2lzdHJ5LmxpYnJhcmllcy5pb3M9W1NIQVBFU19QQVRIKyIvbW9ja3VwL214TW9ja3VwaU9TLmpzIl07bXhTdGVuY2lsUmVnaXN0cnkubGlicmFyaWVzLnJhY2tHZW5lcmFsPVtTSEFQRVNfUEFUSCsiL3JhY2svbXhSYWNrLmpzIixTVEVOQ0lMX1BBVEgrIi9yYWNrL2dlbmVyYWwueG1sIl07bXhTdGVuY2lsUmVnaXN0cnkubGlicmFyaWVzLnJhY2tGNT1bU1RFTkNJTF9QQVRIKyIvcmFjay9mNS54bWwiXTtteFN0ZW5jaWxSZWdpc3RyeS5saWJyYXJpZXMubGVhbl9tYXBwaW5nPVtTSEFQRVNfUEFUSCsiL214TGVhbk1hcC5qcyIsU1RFTkNJTF9QQVRIKyIvbGVhbl9tYXBwaW5nLnhtbCJdO214U3RlbmNpbFJlZ2lzdHJ5LmxpYnJhcmllcy5iYXNpYz1bU0hBUEVTX1BBVEgrIi9teEJhc2ljLmpzIixTVEVOQ0lMX1BBVEgrIi9iYXNpYy54bWwiXTtteFN0ZW5jaWxSZWdpc3RyeS5saWJyYXJpZXMuaW9zN2ljb25zPQpbU1RFTkNJTF9QQVRIKyIvaW9zNy9pY29ucy54bWwiXTtteFN0ZW5jaWxSZWdpc3RyeS5saWJyYXJpZXMuaW9zN3VpPVtTSEFQRVNfUEFUSCsiL2lvczcvbXhJT1M3VWkuanMiLFNURU5DSUxfUEFUSCsiL2lvczcvbWlzYy54bWwiXTtteFN0ZW5jaWxSZWdpc3RyeS5saWJyYXJpZXMuYW5kcm9pZD1bU0hBUEVTX1BBVEgrIi9teEFuZHJvaWQuanMiLFNURU5DSUxfUEFUSCsiL2FuZHJvaWQvYW5kcm9pZC54bWwiXTtteFN0ZW5jaWxSZWdpc3RyeS5saWJyYXJpZXNbImVsZWN0cmljYWwvbWlzY2VsbGFuZW91cyJdPVtTSEFQRVNfUEFUSCsiL214RWxlY3RyaWNhbC5qcyIsU1RFTkNJTF9QQVRIKyIvZWxlY3RyaWNhbC9taXNjZWxsYW5lb3VzLnhtbCJdO214U3RlbmNpbFJlZ2lzdHJ5LmxpYnJhcmllc1siZWxlY3RyaWNhbC90cmFuc21pc3Npb24iXT1bU0hBUEVTX1BBVEgrIi9teEVsZWN0cmljYWwuanMiLFNURU5DSUxfUEFUSCsiL2VsZWN0cmljYWwvdHJhbnNtaXNzaW9uLnhtbCJdO214U3RlbmNpbFJlZ2lzdHJ5LmxpYnJhcmllc1siZWxlY3RyaWNhbC9sb2dpY19nYXRlcyJdPQpbU0hBUEVTX1BBVEgrIi9teEVsZWN0cmljYWwuanMiLFNURU5DSUxfUEFUSCsiL2VsZWN0cmljYWwvbG9naWNfZ2F0ZXMueG1sIl07bXhTdGVuY2lsUmVnaXN0cnkubGlicmFyaWVzWyJlbGVjdHJpY2FsL2Fic3RyYWN0Il09W1NIQVBFU19QQVRIKyIvbXhFbGVjdHJpY2FsLmpzIixTVEVOQ0lMX1BBVEgrIi9lbGVjdHJpY2FsL2Fic3RyYWN0LnhtbCJdO214U3RlbmNpbFJlZ2lzdHJ5LmxpYnJhcmllcy5pbmZvZ3JhcGhpYz1bU0hBUEVTX1BBVEgrIi9teEluZm9ncmFwaGljLmpzIl07bXhTdGVuY2lsUmVnaXN0cnkubGlicmFyaWVzWyJtb2NrdXAvYnV0dG9ucyJdPVtTSEFQRVNfUEFUSCsiL21vY2t1cC9teE1vY2t1cEJ1dHRvbnMuanMiXTtteFN0ZW5jaWxSZWdpc3RyeS5saWJyYXJpZXNbIm1vY2t1cC9jb250YWluZXJzIl09W1NIQVBFU19QQVRIKyIvbW9ja3VwL214TW9ja3VwQ29udGFpbmVycy5qcyJdO214U3RlbmNpbFJlZ2lzdHJ5LmxpYnJhcmllc1sibW9ja3VwL2Zvcm1zIl09CltTSEFQRVNfUEFUSCsiL21vY2t1cC9teE1vY2t1cEZvcm1zLmpzIl07bXhTdGVuY2lsUmVnaXN0cnkubGlicmFyaWVzWyJtb2NrdXAvZ3JhcGhpY3MiXT1bU0hBUEVTX1BBVEgrIi9tb2NrdXAvbXhNb2NrdXBHcmFwaGljcy5qcyIsU1RFTkNJTF9QQVRIKyIvbW9ja3VwL21pc2MueG1sIl07bXhTdGVuY2lsUmVnaXN0cnkubGlicmFyaWVzWyJtb2NrdXAvbWFya3VwIl09W1NIQVBFU19QQVRIKyIvbW9ja3VwL214TW9ja3VwTWFya3VwLmpzIl07bXhTdGVuY2lsUmVnaXN0cnkubGlicmFyaWVzWyJtb2NrdXAvbWlzYyJdPVtTSEFQRVNfUEFUSCsiL21vY2t1cC9teE1vY2t1cE1pc2MuanMiLFNURU5DSUxfUEFUSCsiL21vY2t1cC9taXNjLnhtbCJdO214U3RlbmNpbFJlZ2lzdHJ5LmxpYnJhcmllc1sibW9ja3VwL25hdmlnYXRpb24iXT1bU0hBUEVTX1BBVEgrIi9tb2NrdXAvbXhNb2NrdXBOYXZpZ2F0aW9uLmpzIixTVEVOQ0lMX1BBVEgrIi9tb2NrdXAvbWlzYy54bWwiXTtteFN0ZW5jaWxSZWdpc3RyeS5saWJyYXJpZXNbIm1vY2t1cC90ZXh0Il09CltTSEFQRVNfUEFUSCsiL21vY2t1cC9teE1vY2t1cFRleHQuanMiXTtteFN0ZW5jaWxSZWdpc3RyeS5saWJyYXJpZXMuZmxvb3JwbGFuPVtTSEFQRVNfUEFUSCsiL214Rmxvb3JwbGFuLmpzIixTVEVOQ0lMX1BBVEgrIi9mbG9vcnBsYW4ueG1sIl07bXhTdGVuY2lsUmVnaXN0cnkubGlicmFyaWVzLmJvb3RzdHJhcD1bU0hBUEVTX1BBVEgrIi9teEJvb3RzdHJhcC5qcyIsU0hBUEVTX1BBVEgrIi9teEJhc2ljLmpzIixTVEVOQ0lMX1BBVEgrIi9ib290c3RyYXAueG1sIl07bXhTdGVuY2lsUmVnaXN0cnkubGlicmFyaWVzLmdtZGw9W1NIQVBFU19QQVRIKyIvbXhHbWRsLmpzIixTVEVOQ0lMX1BBVEgrIi9nbWRsLnhtbCJdO214U3RlbmNpbFJlZ2lzdHJ5LmxpYnJhcmllcy5nY3AyPVtTSEFQRVNfUEFUSCsiL214R0NQMi5qcyIsU1RFTkNJTF9QQVRIKyIvZ2NwMi54bWwiXTtteFN0ZW5jaWxSZWdpc3RyeS5saWJyYXJpZXMuaWJtPVtTSEFQRVNfUEFUSCsiL214SUJNLmpzIixTVEVOQ0lMX1BBVEgrCiIvaWJtLnhtbCJdO214U3RlbmNpbFJlZ2lzdHJ5LmxpYnJhcmllcy5jYWJpbmV0cz1bU0hBUEVTX1BBVEgrIi9teENhYmluZXRzLmpzIixTVEVOQ0lMX1BBVEgrIi9jYWJpbmV0cy54bWwiXTtteFN0ZW5jaWxSZWdpc3RyeS5saWJyYXJpZXMuYXJjaGltYXRlPVtTSEFQRVNfUEFUSCsiL214QXJjaGlNYXRlLmpzIl07bXhTdGVuY2lsUmVnaXN0cnkubGlicmFyaWVzLmFyY2hpbWF0ZTM9W1NIQVBFU19QQVRIKyIvbXhBcmNoaU1hdGUzLmpzIl07bXhTdGVuY2lsUmVnaXN0cnkubGlicmFyaWVzLnN5c21sPVtTSEFQRVNfUEFUSCsiL214U3lzTUwuanMiXTtteFN0ZW5jaWxSZWdpc3RyeS5saWJyYXJpZXMuZWlwPVtTSEFQRVNfUEFUSCsiL214RWlwLmpzIixTVEVOQ0lMX1BBVEgrIi9laXAueG1sIl07bXhTdGVuY2lsUmVnaXN0cnkubGlicmFyaWVzLm5ldHdvcmtzPVtTSEFQRVNfUEFUSCsiL214TmV0d29ya3MuanMiLFNURU5DSUxfUEFUSCsiL25ldHdvcmtzLnhtbCJdO214U3RlbmNpbFJlZ2lzdHJ5LmxpYnJhcmllcy5hd3MzZD0KW1NIQVBFU19QQVRIKyIvbXhBV1MzRC5qcyIsU1RFTkNJTF9QQVRIKyIvYXdzM2QueG1sIl07bXhTdGVuY2lsUmVnaXN0cnkubGlicmFyaWVzLmF3czQ9W1NIQVBFU19QQVRIKyIvbXhBV1M0LmpzIixTVEVOQ0lMX1BBVEgrIi9hd3M0LnhtbCJdO214U3RlbmNpbFJlZ2lzdHJ5LmxpYnJhcmllcy5hd3M0Yj1bU0hBUEVTX1BBVEgrIi9teEFXUzQuanMiLFNURU5DSUxfUEFUSCsiL2F3czQueG1sIl07bXhTdGVuY2lsUmVnaXN0cnkubGlicmFyaWVzLnZlZWFtPVtTVEVOQ0lMX1BBVEgrIi92ZWVhbS8yZC54bWwiLFNURU5DSUxfUEFUSCsiL3ZlZWFtLzNkLnhtbCIsU1RFTkNJTF9QQVRIKyIvdmVlYW0vdmVlYW0ueG1sIl07bXhTdGVuY2lsUmVnaXN0cnkubGlicmFyaWVzLnZlZWFtMj1bU1RFTkNJTF9QQVRIKyIvdmVlYW0vMmQueG1sIixTVEVOQ0lMX1BBVEgrIi92ZWVhbS8zZC54bWwiLFNURU5DSUxfUEFUSCsiL3ZlZWFtL3ZlZWFtMi54bWwiXTtteFN0ZW5jaWxSZWdpc3RyeS5saWJyYXJpZXMucGlkMmluc3Q9CltTSEFQRVNfUEFUSCsiL3BpZDIvbXhQaWRJbnN0cnVtZW50cy5qcyJdO214U3RlbmNpbFJlZ2lzdHJ5LmxpYnJhcmllcy5waWQybWlzYz1bU0hBUEVTX1BBVEgrIi9waWQyL214UGlkTWlzYy5qcyIsU1RFTkNJTF9QQVRIKyIvcGlkL21pc2MueG1sIl07bXhTdGVuY2lsUmVnaXN0cnkubGlicmFyaWVzLnBpZDJ2YWx2ZXM9W1NIQVBFU19QQVRIKyIvcGlkMi9teFBpZFZhbHZlcy5qcyJdO214U3RlbmNpbFJlZ2lzdHJ5LmxpYnJhcmllcy5waWRGbG93U2Vuc29ycz1bU1RFTkNJTF9QQVRIKyIvcGlkL2Zsb3dfc2Vuc29ycy54bWwiXTtteE1hcmtlci5nZXRQYWNrYWdlRm9yVHlwZT1mdW5jdGlvbihhKXt2YXIgYj1udWxsO251bGwhPWEmJjA8YS5sZW5ndGgmJigiRVIiPT1hLnN1YnN0cmluZygwLDIpP2I9Im14Z3JhcGguZXIiOiJzeXNNTCI9PWEuc3Vic3RyaW5nKDAsNSkmJihiPSJteGdyYXBoLnN5c21sIikpO3JldHVybiBifTt2YXIgRz1teE1hcmtlci5jcmVhdGVNYXJrZXI7bXhNYXJrZXIuY3JlYXRlTWFya2VyPQpmdW5jdGlvbihhLGIsZSxjLGQsZixnLGwsbixwKXtpZihudWxsIT1lJiZudWxsPT1teE1hcmtlci5tYXJrZXJzW2VdKXt2YXIgdD10aGlzLmdldFBhY2thZ2VGb3JUeXBlKGUpO251bGwhPXQmJm14U3RlbmNpbFJlZ2lzdHJ5LmdldFN0ZW5jaWwodCl9cmV0dXJuIEcuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtQcmludERpYWxvZy5wcm90b3R5cGUuY3JlYXRlPWZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gZSgpe3kudmFsdWU9TWF0aC5tYXgoMSxNYXRoLm1pbihsLE1hdGgubWF4KHBhcnNlSW50KHkudmFsdWUpLHBhcnNlSW50KG0udmFsdWUpKSkpO20udmFsdWU9TWF0aC5tYXgoMSxNYXRoLm1pbihsLE1hdGgubWluKHBhcnNlSW50KHkudmFsdWUpLHBhcnNlSW50KG0udmFsdWUpKSkpfWZ1bmN0aW9uIGMoYil7ZnVuY3Rpb24gZShiLGUsZil7dmFyIGc9Yi51c2VDc3NUcmFuc2Zvcm1zLGw9Yi5jdXJyZW50VHJhbnNsYXRlLG49Yi5jdXJyZW50U2NhbGUscD1iLnZpZXcudHJhbnNsYXRlLHQ9CmIudmlldy5zY2FsZTtiLnVzZUNzc1RyYW5zZm9ybXMmJihiLnVzZUNzc1RyYW5zZm9ybXM9ITEsYi5jdXJyZW50VHJhbnNsYXRlPW5ldyBteFBvaW50KDAsMCksYi5jdXJyZW50U2NhbGU9MSxiLnZpZXcudHJhbnNsYXRlPW5ldyBteFBvaW50KDAsMCksYi52aWV3LnNjYWxlPTEpO3ZhciBrPWIuZ2V0R3JhcGhCb3VuZHMoKSxtPTAsdj0wLHk9cmEuZ2V0KCkseD0xL2IucGFnZVNjYWxlLHE9ei5jaGVja2VkO2lmKHEpdmFyIHg9cGFyc2VJbnQoSy52YWx1ZSksQz1wYXJzZUludChwYS52YWx1ZSkseD1NYXRoLm1pbih5LmhlaWdodCpDLyhrLmhlaWdodC9iLnZpZXcuc2NhbGUpLHkud2lkdGgqeC8oay53aWR0aC9iLnZpZXcuc2NhbGUpKTtlbHNlIHg9cGFyc2VJbnQodS52YWx1ZSkvKDEwMCpiLnBhZ2VTY2FsZSksaXNOYU4oeCkmJihjPTEvYi5wYWdlU2NhbGUsdS52YWx1ZT0iMTAwICUiKTt5PW14UmVjdGFuZ2xlLmZyb21SZWN0YW5nbGUoeSk7eS53aWR0aD1NYXRoLmNlaWwoeS53aWR0aCoKYyk7eS5oZWlnaHQ9TWF0aC5jZWlsKHkuaGVpZ2h0KmMpO3gqPWM7IXEmJmIucGFnZVZpc2libGU/KGs9Yi5nZXRQYWdlTGF5b3V0KCksbS09ay54Knkud2lkdGgsdi09ay55KnkuaGVpZ2h0KTpxPSEwO2lmKG51bGw9PWUpe2U9UHJpbnREaWFsb2cuY3JlYXRlUHJpbnRQcmV2aWV3KGIseCx5LDAsbSx2LHEpO2UucGFnZVNlbGVjdG9yPSExO2UubWF0aEVuYWJsZWQ9ITE7bT1hLmdldEN1cnJlbnRGaWxlKCk7bnVsbCE9bSYmKGUudGl0bGU9bS5nZXRUaXRsZSgpKTt2YXIgQT1lLndyaXRlSGVhZDtlLndyaXRlSGVhZD1mdW5jdGlvbihlKXtBLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtudWxsIT1hLmVkaXRvci5mb250Q3NzJiYoZS53cml0ZWxuKCc8c3R5bGUgdHlwZT0idGV4dC9jc3MiPicpLGUud3JpdGVsbihhLmVkaXRvci5mb250Q3NzKSxlLndyaXRlbG4oIjwvc3R5bGU+IikpO2lmKG51bGwhPWIuZXh0Rm9udHMpZm9yKHZhciBjPTA7YzxiLmV4dEZvbnRzLmxlbmd0aDtjKyspe3ZhciBkPQpiLmV4dEZvbnRzW2NdLm5hbWUsZj1iLmV4dEZvbnRzW2NdLnVybDswPT1mLmluZGV4T2YoRWRpdG9yLkdPT0dMRV9GT05UUyk/ZS53cml0ZWxuKCc8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9IicrZisnIiBjaGFyc2V0PSJVVEYtOCIgdHlwZT0idGV4dC9jc3MiPicpOihlLndyaXRlbG4oJzxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+JyksZS53cml0ZWxuKCdAZm9udC1mYWNlIHtcblx0Zm9udC1mYW1pbHk6ICInK2QrJyI7XG5cdHNyYzogdXJsKCInK2YrJyIpO1xufScpLGUud3JpdGVsbigiPC9zdHlsZT4iKSl9fTtpZigidW5kZWZpbmVkIiE9PXR5cGVvZiBNYXRoSmF4KXt2YXIgRD1lLnJlbmRlclBhZ2U7ZS5yZW5kZXJQYWdlPWZ1bmN0aW9uKGIsZSxjLGQsZixnKXt2YXIgbD1teENsaWVudC5OT19GTztteENsaWVudC5OT19GTz10aGlzLmdyYXBoLm1hdGhFbmFibGVkJiYhYS5lZGl0b3IudXNlRm9yZWlnbk9iamVjdEZvck1hdGg/ITA6YS5lZGl0b3Iub3JpZ2luYWxOb0ZvcmVpZ25PYmplY3Q7CnZhciBuPUQuYXBwbHkodGhpcyxhcmd1bWVudHMpO214Q2xpZW50Lk5PX0ZPPWw7dGhpcy5ncmFwaC5tYXRoRW5hYmxlZD90aGlzLm1hdGhFbmFibGVkPXRoaXMubWF0aEVuYWJsZWR8fCEwOm4uY2xhc3NOYW1lPSJnZURpc2FibGVNYXRoSmF4IjtyZXR1cm4gbn19bT1udWxsO251bGwhPWQudGhlbWVzJiYiZGFya1RoZW1lIj09ZC5kZWZhdWx0VGhlbWVOYW1lJiYobT1kLnN0eWxlc2hlZXQsZC5zdHlsZXNoZWV0PWQuZ2V0RGVmYXVsdFN0eWxlc2hlZXQoKSxkLnJlZnJlc2goKSk7ZS5vcGVuKG51bGwsbnVsbCxmLCEwKTtudWxsIT1tJiYoZC5zdHlsZXNoZWV0PW0sZC5yZWZyZXNoKCkpfWVsc2V7eT1iLmJhY2tncm91bmQ7aWYobnVsbD09eXx8IiI9PXl8fHk9PW14Q29uc3RhbnRzLk5PTkUpeT0iI2ZmZmZmZiI7ZS5iYWNrZ3JvdW5kQ29sb3I9eTtlLmF1dG9PcmlnaW49cTtlLmFwcGVuZEdyYXBoKGIseCxtLHYsZiwhMCk7aWYobnVsbCE9Yi5leHRGb250cyYmbnVsbCE9ZS53bmQpZm9yKGY9CjA7ZjxiLmV4dEZvbnRzLmxlbmd0aDtmKyspbT1iLmV4dEZvbnRzW2ZdLm5hbWUsdj1iLmV4dEZvbnRzW2ZdLnVybCwwPT12LmluZGV4T2YoRWRpdG9yLkdPT0dMRV9GT05UUyk/ZS53bmQuZG9jdW1lbnQud3JpdGVsbignPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSInK3YrJyIgY2hhcnNldD0iVVRGLTgiIHR5cGU9InRleHQvY3NzIj4nKTooZS53bmQuZG9jdW1lbnQud3JpdGVsbignPHN0eWxlIHR5cGU9InRleHQvY3NzIj4nKSxlLnduZC5kb2N1bWVudC53cml0ZWxuKCdAZm9udC1mYWNlIHtcblx0Zm9udC1mYW1pbHk6ICInK20rJyI7XG5cdHNyYzogdXJsKCInK3YrJyIpO1xufScpLGUud25kLmRvY3VtZW50LndyaXRlbG4oIjwvc3R5bGU+IikpfWcmJihiLnVzZUNzc1RyYW5zZm9ybXM9ZyxiLmN1cnJlbnRUcmFuc2xhdGU9bCxiLmN1cnJlbnRTY2FsZT1uLGIudmlldy50cmFuc2xhdGU9cCxiLnZpZXcuc2NhbGU9dCk7cmV0dXJuIGV9dmFyIGM9cGFyc2VJbnQobGEudmFsdWUpLwoxMDA7aXNOYU4oYykmJihjPTEsbGEudmFsdWU9IjEwMCAlIik7dmFyIGM9Ljc1KmMsZj1udWxsO251bGwhPWQudGhlbWVzJiYiZGFya1RoZW1lIj09ZC5kZWZhdWx0VGhlbWVOYW1lJiYoZj1kLnN0eWxlc2hlZXQsZC5zdHlsZXNoZWV0PWQuZ2V0RGVmYXVsdFN0eWxlc2hlZXQoKSxkLnJlZnJlc2goKSk7dmFyIGc9bS52YWx1ZSxsPXkudmFsdWUscD0hdC5jaGVja2VkLGs9bnVsbDtwJiYocD1nPT1uJiZsPT1uKTtpZighcCYmbnVsbCE9YS5wYWdlcyYmYS5wYWdlcy5sZW5ndGgpe3ZhciB2PTAscD1hLnBhZ2VzLmxlbmd0aC0xO3QuY2hlY2tlZHx8KHY9cGFyc2VJbnQoZyktMSxwPXBhcnNlSW50KGwpLTEpO2Zvcih2YXIgeD12O3g8PXA7eCsrKXt2YXIgcT1hLnBhZ2VzW3hdLGc9cT09YS5jdXJyZW50UGFnZT9kOm51bGw7aWYobnVsbD09Zyl7dmFyIGc9YS5jcmVhdGVUZW1wb3JhcnlHcmFwaChkLnN0eWxlc2hlZXQpLGw9ITAsdj0hMSxDPW51bGwsQT1udWxsO251bGw9PXEudmlld1N0YXRlJiYKbnVsbD09cS5yb290JiZhLnVwZGF0ZVBhZ2VSb290KHEpO251bGwhPXEudmlld1N0YXRlJiYobD1xLnZpZXdTdGF0ZS5wYWdlVmlzaWJsZSx2PXEudmlld1N0YXRlLm1hdGhFbmFibGVkLEM9cS52aWV3U3RhdGUuYmFja2dyb3VuZCxBPXEudmlld1N0YXRlLmJhY2tncm91bmRJbWFnZSxnLmV4dEZvbnRzPXEudmlld1N0YXRlLmV4dEZvbnRzKTtnLmJhY2tncm91bmQ9QztnLmJhY2tncm91bmRJbWFnZT1udWxsIT1BP25ldyBteEltYWdlKEEuc3JjLEEud2lkdGgsQS5oZWlnaHQpOm51bGw7Zy5wYWdlVmlzaWJsZT1sO2cubWF0aEVuYWJsZWQ9djt2YXIgRD1nLmdldEdsb2JhbFZhcmlhYmxlO2cuZ2V0R2xvYmFsVmFyaWFibGU9ZnVuY3Rpb24oYil7cmV0dXJuInBhZ2UiPT1iP3EuZ2V0TmFtZSgpOiJwYWdlbnVtYmVyIj09Yj94KzE6InBhZ2Vjb3VudCI9PWI/bnVsbCE9YS5wYWdlcz9hLnBhZ2VzLmxlbmd0aDoxOkQuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGcuY29udGFpbmVyKTsKYS51cGRhdGVQYWdlUm9vdChxKTtnLm1vZGVsLnNldFJvb3QocS5yb290KX1rPWUoZyxrLHghPXApO2chPWQmJmcuY29udGFpbmVyLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZy5jb250YWluZXIpfX1lbHNlIGs9ZShkKTtudWxsPT1rP2EuaGFuZGxlRXJyb3Ioe21lc3NhZ2U6bXhSZXNvdXJjZXMuZ2V0KCJlcnJvclVwZGF0aW5nUHJldmlldyIpfSk6KGsubWF0aEVuYWJsZWQmJihwPWsud25kLmRvY3VtZW50LHAud3JpdGVsbignPHNjcmlwdCB0eXBlPSJ0ZXh0L3gtbWF0aGpheC1jb25maWciPicpLHAud3JpdGVsbigiTWF0aEpheC5IdWIuQ29uZmlnKHsiKSxwLndyaXRlbG4oInNob3dNYXRoTWVudTogZmFsc2UsIikscC53cml0ZWxuKCdtZXNzYWdlU3R5bGU6ICJub25lIiwnKSxwLndyaXRlbG4oJ2pheDogWyJpbnB1dC9UZVgiLCAiaW5wdXQvTWF0aE1MIiwgImlucHV0L0FzY2lpTWF0aCIsICJvdXRwdXQvU1ZHIl0sJykscC53cml0ZWxuKCdleHRlbnNpb25zOiBbInRleDJqYXguanMiLCAibW1sMmpheC5qcyIsICJhc2NpaW1hdGgyamF4LmpzIl0sJyksCnAud3JpdGVsbigiVGVYOiB7IikscC53cml0ZWxuKCdleHRlbnNpb25zOiBbIkFNU21hdGguanMiLCAiQU1Tc3ltYm9scy5qcyIsICJub0Vycm9ycy5qcyIsICJub1VuZGVmaW5lZC5qcyJdJykscC53cml0ZWxuKCJ9LCIpLHAud3JpdGVsbigiU1ZHOiB7IikscC53cml0ZWxuKCdmb250OiAiJysobnVsbCE9dXJsUGFyYW1zWyJtYXRoLWZvbnQiXT9kZWNvZGVVUklDb21wb25lbnQodXJsUGFyYW1zWyJtYXRoLWZvbnQiXSk6IlRlWCIpKyciJykscC53cml0ZWxuKCJ9LCIpLHAud3JpdGVsbigidGV4MmpheDogeyIpLHAud3JpdGVsbignaWdub3JlQ2xhc3M6ICJnZURpc2FibGVNYXRoSmF4IicpLHAud3JpdGVsbigifSwiKSxwLndyaXRlbG4oImFzY2lpbWF0aDJqYXg6IHsiKSxwLndyaXRlbG4oJ2lnbm9yZUNsYXNzOiAiZ2VEaXNhYmxlTWF0aEpheCInKSxwLndyaXRlbG4oIn0iKSxwLndyaXRlbG4oIn0pOyIpLGImJihwLndyaXRlbG4oIk1hdGhKYXguSHViLlF1ZXVlKGZ1bmN0aW9uICgpIHsiKSwKcC53cml0ZWxuKCJ3aW5kb3cucHJpbnQoKTsiKSxwLndyaXRlbG4oIn0pOyIpKSxwLndyaXRlbG4oIlx4M2Mvc2NyaXB0PiIpLHAud3JpdGVsbignPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiIHNyYz0iJytEUkFXX01BVEhfVVJMKycvTWF0aEpheC5qcyI+XHgzYy9zY3JpcHQ+JykpLGsuY2xvc2VEb2N1bWVudCgpLCFrLm1hdGhFbmFibGVkJiZiJiZQcmludERpYWxvZy5wcmludFByZXZpZXcoaykpO251bGwhPWYmJihkLnN0eWxlc2hlZXQ9ZixkLnJlZnJlc2goKSl9dmFyIGQ9YS5lZGl0b3IuZ3JhcGgsZj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSxnPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImgzIik7Zy5zdHlsZS53aWR0aD0iMTAwJSI7Zy5zdHlsZS50ZXh0QWxpZ249ImNlbnRlciI7Zy5zdHlsZS5tYXJnaW5Ub3A9IjBweCI7bXhVdGlscy53cml0ZShnLGJ8fG14UmVzb3VyY2VzLmdldCgicHJpbnQiKSk7Zi5hcHBlbmRDaGlsZChnKTt2YXIgbD0xLG49MSxwPQpkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtwLnN0eWxlLmNzc1RleHQ9ImJvcmRlci1ib3R0b206MXB4IHNvbGlkIGxpZ2h0R3JheTtwYWRkaW5nLWJvdHRvbToxMnB4O21hcmdpbi1ib3R0b206MTJweDsiO3ZhciB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7dC5zdHlsZS5jc3NUZXh0PSJtYXJnaW4tcmlnaHQ6OHB4O21hcmdpbi1ib3R0b206OHB4OyI7dC5zZXRBdHRyaWJ1dGUoInZhbHVlIiwiYWxsIik7dC5zZXRBdHRyaWJ1dGUoInR5cGUiLCJyYWRpbyIpO3Quc2V0QXR0cmlidXRlKCJuYW1lIiwicGFnZXMtcHJpbnRkaWFsb2ciKTtwLmFwcGVuZENoaWxkKHQpO2c9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3BhbiIpO214VXRpbHMud3JpdGUoZyxteFJlc291cmNlcy5nZXQoInByaW50QWxsUGFnZXMiKSk7cC5hcHBlbmRDaGlsZChnKTtteFV0aWxzLmJyKHApO3ZhciBrPXQuY2xvbmVOb2RlKCEwKTt0LnNldEF0dHJpYnV0ZSgiY2hlY2tlZCIsImNoZWNrZWQiKTsKay5zZXRBdHRyaWJ1dGUoInZhbHVlIiwicmFuZ2UiKTtwLmFwcGVuZENoaWxkKGspO2c9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3BhbiIpO214VXRpbHMud3JpdGUoZyxteFJlc291cmNlcy5nZXQoInBhZ2VzIikrIjoiKTtwLmFwcGVuZENoaWxkKGcpO3ZhciBtPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7bS5zdHlsZS5jc3NUZXh0PSJtYXJnaW46MCA4cHggMCA4cHg7IjttLnNldEF0dHJpYnV0ZSgidmFsdWUiLCIxIik7bS5zZXRBdHRyaWJ1dGUoInR5cGUiLCJudW1iZXIiKTttLnNldEF0dHJpYnV0ZSgibWluIiwiMSIpO20uc3R5bGUud2lkdGg9IjUwcHgiO3AuYXBwZW5kQ2hpbGQobSk7Zz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzcGFuIik7bXhVdGlscy53cml0ZShnLG14UmVzb3VyY2VzLmdldCgidG8iKSk7cC5hcHBlbmRDaGlsZChnKTt2YXIgeT1tLmNsb25lTm9kZSghMCk7cC5hcHBlbmRDaGlsZCh5KTtteEV2ZW50LmFkZExpc3RlbmVyKG0sImZvY3VzIiwKZnVuY3Rpb24oKXtrLmNoZWNrZWQ9ITB9KTtteEV2ZW50LmFkZExpc3RlbmVyKHksImZvY3VzIixmdW5jdGlvbigpe2suY2hlY2tlZD0hMH0pO214RXZlbnQuYWRkTGlzdGVuZXIobSwiY2hhbmdlIixlKTtteEV2ZW50LmFkZExpc3RlbmVyKHksImNoYW5nZSIsZSk7aWYobnVsbCE9YS5wYWdlcyYmKGw9YS5wYWdlcy5sZW5ndGgsbnVsbCE9YS5jdXJyZW50UGFnZSkpZm9yKGc9MDtnPGEucGFnZXMubGVuZ3RoO2crKylpZihhLmN1cnJlbnRQYWdlPT1hLnBhZ2VzW2ddKXtuPWcrMTttLnZhbHVlPW47eS52YWx1ZT1uO2JyZWFrfW0uc2V0QXR0cmlidXRlKCJtYXgiLGwpO3kuc2V0QXR0cmlidXRlKCJtYXgiLGwpOzE8bCYmZi5hcHBlbmRDaGlsZChwKTt2YXIgdj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTt2LnN0eWxlLm1hcmdpbkJvdHRvbT0iMTBweCI7dmFyIHg9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTt4LnN0eWxlLm1hcmdpblJpZ2h0PSI4cHgiO3guc2V0QXR0cmlidXRlKCJ2YWx1ZSIsCiJhZGp1c3QiKTt4LnNldEF0dHJpYnV0ZSgidHlwZSIsInJhZGlvIik7eC5zZXRBdHRyaWJ1dGUoIm5hbWUiLCJwcmludFpvb20iKTt2LmFwcGVuZENoaWxkKHgpO2c9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3BhbiIpO214VXRpbHMud3JpdGUoZyxteFJlc291cmNlcy5nZXQoImFkanVzdFRvIikpO3YuYXBwZW5kQ2hpbGQoZyk7dmFyIHU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTt1LnN0eWxlLmNzc1RleHQ9Im1hcmdpbjowIDhweCAwIDhweDsiO3Uuc2V0QXR0cmlidXRlKCJ2YWx1ZSIsIjEwMCAlIik7dS5zdHlsZS53aWR0aD0iNTBweCI7di5hcHBlbmRDaGlsZCh1KTtteEV2ZW50LmFkZExpc3RlbmVyKHUsImZvY3VzIixmdW5jdGlvbigpe3guY2hlY2tlZD0hMH0pO2YuYXBwZW5kQ2hpbGQodik7dmFyIHA9cC5jbG9uZU5vZGUoITEpLHo9eC5jbG9uZU5vZGUoITApO3ouc2V0QXR0cmlidXRlKCJ2YWx1ZSIsImZpdCIpO3guc2V0QXR0cmlidXRlKCJjaGVja2VkIiwKImNoZWNrZWQiKTtnPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2cuc3R5bGUuY3NzVGV4dD0iZGlzcGxheTppbmxpbmUtYmxvY2s7aGVpZ2h0OjEwMCU7dmVydGljYWwtYWxpZ246dG9wO3BhZGRpbmctdG9wOjJweDsiO2cuYXBwZW5kQ2hpbGQoeik7cC5hcHBlbmRDaGlsZChnKTt2PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRhYmxlIik7di5zdHlsZS5kaXNwbGF5PSJpbmxpbmUtYmxvY2siO3ZhciBxPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRib2R5IiksQz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ciIpLEI9Qy5jbG9uZU5vZGUoITApLEQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGQiKSxFPUQuY2xvbmVOb2RlKCEwKSxHPUQuY2xvbmVOb2RlKCEwKSxGPUQuY2xvbmVOb2RlKCEwKSxIPUQuY2xvbmVOb2RlKCEwKSxKPUQuY2xvbmVOb2RlKCEwKTtELnN0eWxlLnRleHRBbGlnbj0icmlnaHQiO0Yuc3R5bGUudGV4dEFsaWduPSJyaWdodCI7bXhVdGlscy53cml0ZShELApteFJlc291cmNlcy5nZXQoImZpdFRvIikpO3ZhciBLPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7Sy5zdHlsZS5jc3NUZXh0PSJtYXJnaW46MCA4cHggMCA4cHg7IjtLLnNldEF0dHJpYnV0ZSgidmFsdWUiLCIxIik7Sy5zZXRBdHRyaWJ1dGUoIm1pbiIsIjEiKTtLLnNldEF0dHJpYnV0ZSgidHlwZSIsIm51bWJlciIpO0suc3R5bGUud2lkdGg9IjQwcHgiO0UuYXBwZW5kQ2hpbGQoSyk7Zz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzcGFuIik7bXhVdGlscy53cml0ZShnLG14UmVzb3VyY2VzLmdldCgiZml0VG9TaGVldHNBY3Jvc3MiKSk7Ry5hcHBlbmRDaGlsZChnKTtteFV0aWxzLndyaXRlKEYsbXhSZXNvdXJjZXMuZ2V0KCJmaXRUb0J5IikpO3ZhciBwYT1LLmNsb25lTm9kZSghMCk7SC5hcHBlbmRDaGlsZChwYSk7bXhFdmVudC5hZGRMaXN0ZW5lcihLLCJmb2N1cyIsZnVuY3Rpb24oKXt6LmNoZWNrZWQ9ITB9KTtteEV2ZW50LmFkZExpc3RlbmVyKHBhLCJmb2N1cyIsCmZ1bmN0aW9uKCl7ei5jaGVja2VkPSEwfSk7Zz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzcGFuIik7bXhVdGlscy53cml0ZShnLG14UmVzb3VyY2VzLmdldCgiZml0VG9TaGVldHNEb3duIikpO0ouYXBwZW5kQ2hpbGQoZyk7Qy5hcHBlbmRDaGlsZChEKTtDLmFwcGVuZENoaWxkKEUpO0MuYXBwZW5kQ2hpbGQoRyk7Qi5hcHBlbmRDaGlsZChGKTtCLmFwcGVuZENoaWxkKEgpO0IuYXBwZW5kQ2hpbGQoSik7cS5hcHBlbmRDaGlsZChDKTtxLmFwcGVuZENoaWxkKEIpO3YuYXBwZW5kQ2hpbGQocSk7cC5hcHBlbmRDaGlsZCh2KTtmLmFwcGVuZENoaWxkKHApO3A9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7Zz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtnLnN0eWxlLmZvbnRXZWlnaHQ9ImJvbGQiO2cuc3R5bGUubWFyZ2luQm90dG9tPSIxMnB4IjtteFV0aWxzLndyaXRlKGcsbXhSZXNvdXJjZXMuZ2V0KCJwYXBlclNpemUiKSk7cC5hcHBlbmRDaGlsZChnKTtnPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwpnLnN0eWxlLm1hcmdpbkJvdHRvbT0iMTJweCI7dmFyIHJhPVBhZ2VTZXR1cERpYWxvZy5hZGRQYWdlRm9ybWF0UGFuZWwoZywicHJpbnRkaWFsb2ciLGEuZWRpdG9yLmdyYXBoLnBhZ2VGb3JtYXR8fG14Q29uc3RhbnRzLlBBR0VfRk9STUFUX0E0X1BPUlRSQUlUKTtwLmFwcGVuZENoaWxkKGcpO2c9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3BhbiIpO214VXRpbHMud3JpdGUoZyxteFJlc291cmNlcy5nZXQoInBhZ2VTY2FsZSIpKTtwLmFwcGVuZENoaWxkKGcpO3ZhciBsYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbnB1dCIpO2xhLnN0eWxlLmNzc1RleHQ9Im1hcmdpbjowIDhweCAwIDhweDsiO2xhLnNldEF0dHJpYnV0ZSgidmFsdWUiLCIxMDAgJSIpO2xhLnN0eWxlLndpZHRoPSI2MHB4IjtwLmFwcGVuZENoaWxkKGxhKTtmLmFwcGVuZENoaWxkKHApO2c9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7Zy5zdHlsZS5jc3NUZXh0PSJ0ZXh0LWFsaWduOnJpZ2h0O21hcmdpbjo0OHB4IDAgMCAwOyI7CnA9bXhVdGlscy5idXR0b24obXhSZXNvdXJjZXMuZ2V0KCJjYW5jZWwiKSxmdW5jdGlvbigpe2EuaGlkZURpYWxvZygpfSk7cC5jbGFzc05hbWU9ImdlQnRuIjthLmVkaXRvci5jYW5jZWxGaXJzdCYmZy5hcHBlbmRDaGlsZChwKTthLmlzT2ZmbGluZSgpfHwodj1teFV0aWxzLmJ1dHRvbihteFJlc291cmNlcy5nZXQoImhlbHAiKSxmdW5jdGlvbigpe2Qub3BlbkxpbmsoImh0dHBzOi8vZGVzay5kcmF3LmlvL3N1cHBvcnQvc29sdXRpb25zL2FydGljbGVzLzE2MDAwMDQ4OTQ3Iil9KSx2LmNsYXNzTmFtZT0iZ2VCdG4iLGcuYXBwZW5kQ2hpbGQodikpO1ByaW50RGlhbG9nLnByZXZpZXdFbmFibGVkJiYodj1teFV0aWxzLmJ1dHRvbihteFJlc291cmNlcy5nZXQoInByZXZpZXciKSxmdW5jdGlvbigpe2EuaGlkZURpYWxvZygpO2MoITEpfSksdi5jbGFzc05hbWU9ImdlQnRuIixnLmFwcGVuZENoaWxkKHYpKTt2PW14VXRpbHMuYnV0dG9uKG14UmVzb3VyY2VzLmdldChQcmludERpYWxvZy5wcmV2aWV3RW5hYmxlZD8KInByaW50Ijoib2siKSxmdW5jdGlvbigpe2EuaGlkZURpYWxvZygpO2MoITApfSk7di5jbGFzc05hbWU9ImdlQnRuIGdlUHJpbWFyeUJ0biI7Zy5hcHBlbmRDaGlsZCh2KTthLmVkaXRvci5jYW5jZWxGaXJzdHx8Zy5hcHBlbmRDaGlsZChwKTtmLmFwcGVuZENoaWxkKGcpO3RoaXMuY29udGFpbmVyPWZ9O3ZhciBGPUNoYW5nZVBhZ2VTZXR1cC5wcm90b3R5cGUuZXhlY3V0ZTtDaGFuZ2VQYWdlU2V0dXAucHJvdG90eXBlLmV4ZWN1dGU9ZnVuY3Rpb24oKXtudWxsPT10aGlzLnBhZ2UmJih0aGlzLnBhZ2U9dGhpcy51aS5jdXJyZW50UGFnZSk7dGhpcy5wYWdlIT10aGlzLnVpLmN1cnJlbnRQYWdlP251bGwhPXRoaXMucGFnZS52aWV3U3RhdGUmJih0aGlzLmlnbm9yZUNvbG9yfHwodGhpcy5wYWdlLnZpZXdTdGF0ZS5iYWNrZ3JvdW5kPXRoaXMuY29sb3IpLHRoaXMuaWdub3JlSW1hZ2V8fCh0aGlzLnBhZ2Uudmlld1N0YXRlLmJhY2tncm91bmRJbWFnZT10aGlzLmltYWdlKSxudWxsIT10aGlzLmZvcm1hdCYmCih0aGlzLnBhZ2Uudmlld1N0YXRlLnBhZ2VGb3JtYXQ9dGhpcy5mb3JtYXQpLG51bGwhPXRoaXMubWF0aEVuYWJsZWQmJih0aGlzLnBhZ2Uudmlld1N0YXRlLm1hdGhFbmFibGVkPXRoaXMubWF0aEVuYWJsZWQpLG51bGwhPXRoaXMuc2hhZG93VmlzaWJsZSYmKHRoaXMucGFnZS52aWV3U3RhdGUuc2hhZG93VmlzaWJsZT10aGlzLnNoYWRvd1Zpc2libGUpKTooRi5hcHBseSh0aGlzLGFyZ3VtZW50cyksbnVsbCE9dGhpcy5tYXRoRW5hYmxlZCYmdGhpcy5tYXRoRW5hYmxlZCE9dGhpcy51aS5pc01hdGhFbmFibGVkKCkmJih0aGlzLnVpLnNldE1hdGhFbmFibGVkKHRoaXMubWF0aEVuYWJsZWQpLHRoaXMubWF0aEVuYWJsZWQ9IXRoaXMubWF0aEVuYWJsZWQpLG51bGwhPXRoaXMuc2hhZG93VmlzaWJsZSYmdGhpcy5zaGFkb3dWaXNpYmxlIT10aGlzLnVpLmVkaXRvci5ncmFwaC5zaGFkb3dWaXNpYmxlJiYodGhpcy51aS5lZGl0b3IuZ3JhcGguc2V0U2hhZG93VmlzaWJsZSh0aGlzLnNoYWRvd1Zpc2libGUpLAp0aGlzLnNoYWRvd1Zpc2libGU9IXRoaXMuc2hhZG93VmlzaWJsZSkpfTtFZGl0b3IucHJvdG90eXBlLnVzZUNhbnZhc0ZvckV4cG9ydD0hMTt0cnl7dmFyIEg9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIiksSj1uZXcgSW1hZ2U7Si5vbmxvYWQ9ZnVuY3Rpb24oKXt0cnl7SC5nZXRDb250ZXh0KCIyZCIpLmRyYXdJbWFnZShKLDAsMCk7dmFyIGE9SC50b0RhdGFVUkwoImltYWdlL3BuZyIpO0VkaXRvci5wcm90b3R5cGUudXNlQ2FudmFzRm9yRXhwb3J0PW51bGwhPWEmJjY8YS5sZW5ndGh9Y2F0Y2goSyl7fX07Si5zcmM9ImRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsIitidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudCgnPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMXB4IiBoZWlnaHQ9IjFweCIgdmVyc2lvbj0iMS4xIj48Zm9yZWlnbk9iamVjdCBwb2ludGVyLWV2ZW50cz0iYWxsIiB3aWR0aD0iMSIgaGVpZ2h0PSIxIj48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PC9zdmc+JykpKX1jYXRjaCh1KXt9fSkoKTsKKGZ1bmN0aW9uKCl7dmFyIGE9bmV3IG14T2JqZWN0Q29kZWMobmV3IENoYW5nZVBhZ2VTZXR1cCxbInVpIiwicHJldmlvdXNDb2xvciIsInByZXZpb3VzSW1hZ2UiLCJwcmV2aW91c0Zvcm1hdCJdKTthLmJlZm9yZURlY29kZT1mdW5jdGlvbihhLGYsZCl7ZC51aT1hLnVpO3JldHVybiBmfTthLmFmdGVyRGVjb2RlPWZ1bmN0aW9uKGEsZixkKXtkLnByZXZpb3VzQ29sb3I9ZC5jb2xvcjtkLnByZXZpb3VzSW1hZ2U9ZC5pbWFnZTtkLnByZXZpb3VzRm9ybWF0PWQuZm9ybWF0O251bGwhPWQuZm9sZGluZ0VuYWJsZWQmJihkLmZvbGRpbmdFbmFibGVkPSFkLmZvbGRpbmdFbmFibGVkKTtudWxsIT1kLm1hdGhFbmFibGVkJiYoZC5tYXRoRW5hYmxlZD0hZC5tYXRoRW5hYmxlZCk7bnVsbCE9ZC5zaGFkb3dWaXNpYmxlJiYoZC5zaGFkb3dWaXNpYmxlPSFkLnNoYWRvd1Zpc2libGUpO3JldHVybiBkfTtteENvZGVjUmVnaXN0cnkucmVnaXN0ZXIoYSl9KSgpOyhmdW5jdGlvbigpe0VkaXRvclVpLlZFUlNJT049IkBEUkFXSU8tVkVSU0lPTkAiO0VkaXRvclVpLmNvbXBhY3RVaT0iYXRsYXMiIT11aVRoZW1lO214R3JhcGhWaWV3LnByb3RvdHlwZS5kZWZhdWx0RGFya0dyaWRDb2xvcj0iIzZlNmU2ZSI7ImRhcmsiPT11aVRoZW1lJiYobXhHcmFwaFZpZXcucHJvdG90eXBlLmdyaWRDb2xvcj1teEdyYXBoVmlldy5wcm90b3R5cGUuZGVmYXVsdERhcmtHcmlkQ29sb3IpO0VkaXRvclVpLmVuYWJsZUxvZ2dpbmc9IjEiIT11cmxQYXJhbXMuc3RlYWx0aCYmKC8uKlwuZHJhd1wuaW8kLy50ZXN0KHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSl8fC8uKlwuZGlhZ3JhbXNcLm5ldCQvLnRlc3Qod2luZG93LmxvY2F0aW9uLmhvc3RuYW1lKSkmJiJzdXBwb3J0LmRyYXcuaW8iIT13aW5kb3cubG9jYXRpb24uaG9zdG5hbWU7RWRpdG9yVWkuZHJhd0hvc3Q9d2luZG93LkRSQVdJT19CQVNFX1VSTDtFZGl0b3JVaS5sYXN0RXJyb3JNZXNzYWdlPW51bGw7RWRpdG9yVWkuaWdub3JlZEFub255bWl6ZWRDaGFycz0KIlxuXHRgfiFAIyQlXiYqKClfK3t9fDpcIjw+Py09W107Jy4vLFxuXHQiO0VkaXRvclVpLnRlbXBsYXRlRmlsZT1URU1QTEFURV9QQVRIKyIvaW5kZXgueG1sIjtFZGl0b3JVaS5jYWNoZVVybD0iMSI9PXVybFBhcmFtcy5kZXY/Ii9jYWNoZSI6d2luZG93LlJFQUxUSU1FX1VSTDtudWxsPT1FZGl0b3JVaS5jYWNoZVVybCYmInVuZGVmaW5lZCIhPT10eXBlb2YgRHJhd2lvRmlsZSYmKERyYXdpb0ZpbGUuU1lOQz0ibm9uZSIpO0VkaXRvci5jYWNoZVRpbWVvdXQ9MUU0O0VkaXRvclVpLmVuYWJsZVBsYW50VW1sPUVkaXRvclVpLmVuYWJsZUxvZ2dpbmc7RWRpdG9yVWkuaXNFbGVjdHJvbkFwcD1udWxsIT13aW5kb3cmJm51bGwhPXdpbmRvdy5wcm9jZXNzJiZudWxsIT13aW5kb3cucHJvY2Vzcy52ZXJzaW9ucyYmbnVsbCE9d2luZG93LnByb2Nlc3MudmVyc2lvbnMuZWxlY3Ryb247RWRpdG9yVWkuZW5hYmxlRHJhZnRzPSFteENsaWVudC5JU19DSFJPTUVBUFAmJmlzTG9jYWxTdG9yYWdlJiYKIUVkaXRvclVpLmlzRWxlY3Ryb25BcHAmJiIwIiE9dXJsUGFyYW1zLmRyYWZ0cztFZGl0b3JVaS5zY3JhdGNocGFkSGVscExpbms9Imh0dHBzOi8vZGVzay5kcmF3LmlvL3N1cHBvcnQvc29sdXRpb25zL2FydGljbGVzLzE2MDAwMDQyMzY3IjtFZGl0b3JVaS5kZWZhdWx0TWVybWFpZENvbmZpZz17dGhlbWU6Im5ldXRyYWwiLGFycm93TWFya2VyQWJzb2x1dGU6ITEsZmxvd2NoYXJ0OntodG1sTGFiZWxzOiExfSxzZXF1ZW5jZTp7ZGlhZ3JhbU1hcmdpblg6NTAsZGlhZ3JhbU1hcmdpblk6MTAsYWN0b3JNYXJnaW46NTAsd2lkdGg6MTUwLGhlaWdodDo2NSxib3hNYXJnaW46MTAsYm94VGV4dE1hcmdpbjo1LG5vdGVNYXJnaW46MTAsbWVzc2FnZU1hcmdpbjozNSxtaXJyb3JBY3RvcnM6ITAsYm90dG9tTWFyZ2luQWRqOjEsdXNlTWF4V2lkdGg6ITAscmlnaHRBbmdsZXM6ITEsc2hvd1NlcXVlbmNlTnVtYmVyczohMX0sZ2FudHQ6e3RpdGxlVG9wTWFyZ2luOjI1LGJhckhlaWdodDoyMCxiYXJHYXA6NCwKdG9wUGFkZGluZzo1MCxsZWZ0UGFkZGluZzo3NSxncmlkTGluZVN0YXJ0UGFkZGluZzozNSxmb250U2l6ZToxMSxmb250RmFtaWx5OiciT3Blbi1TYW5zIiwgInNhbnMtc2VyaWYiJyxudW1iZXJTZWN0aW9uU3R5bGVzOjQsYXhpc0Zvcm1hdDoiJVktJW0tJWQifX07RWRpdG9yVWkubG9nRXJyb3I9ZnVuY3Rpb24oYSxlLGMsZCxmLHAsayl7cD1udWxsIT1wP3A6MDw9YS5pbmRleE9mKCJOZXR3b3JrRXJyb3IiKXx8MDw9YS5pbmRleE9mKCJTZWN1cml0eUVycm9yIil8fDA8PWEuaW5kZXhPZigiTlNfRVJST1JfRkFJTFVSRSIpfHwwPD1hLmluZGV4T2YoIm91dCBvZiBtZW1vcnkiKT8iQ09ORklHIjoiU0VWRVJFIjtpZihFZGl0b3JVaS5lbmFibGVMb2dnaW5nJiYiMSIhPXVybFBhcmFtcy5kZXYpdHJ5e2lmKGEhPUVkaXRvclVpLmxhc3RFcnJvck1lc3NhZ2UmJihudWxsPT1hfHxudWxsPT1lfHwtMT09YS5pbmRleE9mKCJTY3JpcHQgZXJyb3IiKSYmLTE9PWEuaW5kZXhPZigiZXh0ZW5zaW9uIikpJiYKbnVsbCE9YSYmMD5hLmluZGV4T2YoIkRvY3VtZW50Q2xvc2VkRXJyb3IiKSl7RWRpdG9yVWkubGFzdEVycm9yTWVzc2FnZT1hO3ZhciBiPW51bGwhPXdpbmRvdy5EUkFXSU9fTE9HX1VSTD93aW5kb3cuRFJBV0lPX0xPR19VUkw6IiI7Zj1udWxsIT1mP2Y6RXJyb3IoYSk7KG5ldyBJbWFnZSkuc3JjPWIrIi9sb2c/c2V2ZXJpdHk9IitwKyImdj0iK2VuY29kZVVSSUNvbXBvbmVudChFZGl0b3JVaS5WRVJTSU9OKSsiJm1zZz1jbGllbnRFcnJvcjoiK2VuY29kZVVSSUNvbXBvbmVudChhKSsiOnVybDoiK2VuY29kZVVSSUNvbXBvbmVudCh3aW5kb3cubG9jYXRpb24uaHJlZikrIjpsbnVtOiIrZW5jb2RlVVJJQ29tcG9uZW50KGMpKyhudWxsIT1kPyI6Y29sbm86IitlbmNvZGVVUklDb21wb25lbnQoZCk6IiIpKyhudWxsIT1mJiZudWxsIT1mLnN0YWNrPyImc3RhY2s9IitlbmNvZGVVUklDb21wb25lbnQoZi5zdGFjayk6IiIpfX1jYXRjaCh5KXt9dHJ5e2t8fG51bGw9PXdpbmRvdy5jb25zb2xlfHwKY29uc29sZS5lcnJvcihwLGEsZSxjLGQsZil9Y2F0Y2goeSl7fX07RWRpdG9yVWkubG9nRXZlbnQ9ZnVuY3Rpb24oYSl7aWYoIjEiPT11cmxQYXJhbXMuZGV2KUVkaXRvclVpLmRlYnVnKCJsb2dFdmVudCIsYSk7ZWxzZSBpZihFZGl0b3JVaS5lbmFibGVMb2dnaW5nKXRyeXt2YXIgYj1udWxsIT13aW5kb3cuRFJBV0lPX0xPR19VUkw/d2luZG93LkRSQVdJT19MT0dfVVJMOiIiOyhuZXcgSW1hZ2UpLnNyYz1iKyIvaW1hZ2VzLzF4MS5wbmc/dj0iK2VuY29kZVVSSUNvbXBvbmVudChFZGl0b3JVaS5WRVJTSU9OKSsobnVsbCE9YT8iJmRhdGE9IitlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoYSkpOiIiKX1jYXRjaChnKXt9fTtFZGl0b3JVaS5zZW5kUmVwb3J0PWZ1bmN0aW9uKGEsZSl7aWYoIjEiPT11cmxQYXJhbXMuZGV2KUVkaXRvclVpLmRlYnVnKCJzZW5kUmVwb3J0IixhKTtlbHNlIGlmKEVkaXRvclVpLmVuYWJsZUxvZ2dpbmcpdHJ5e2U9bnVsbCE9ZT9lOjVFNCxhLmxlbmd0aD4KZSYmKGE9YS5zdWJzdHJpbmcoMCxlKSsiXG4uLi5bU0hPUlRFTkVEXSIpLG14VXRpbHMucG9zdCgiL2VtYWlsIiwidmVyc2lvbj0iK2VuY29kZVVSSUNvbXBvbmVudChFZGl0b3JVaS5WRVJTSU9OKSsiJnVybD0iK2VuY29kZVVSSUNvbXBvbmVudCh3aW5kb3cubG9jYXRpb24uaHJlZikrIiZkYXRhPSIrZW5jb2RlVVJJQ29tcG9uZW50KGEpKX1jYXRjaChnKXt9fTtFZGl0b3JVaS5kZWJ1Zz1mdW5jdGlvbigpe3RyeXtpZihudWxsIT13aW5kb3cuY29uc29sZSYmIjEiPT11cmxQYXJhbXMudGVzdCl7Zm9yKHZhciBhPVsobmV3IERhdGUpLnRvSVNPU3RyaW5nKCldLGU9MDtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKW51bGwhPWFyZ3VtZW50c1tlXSYmYS5wdXNoKGFyZ3VtZW50c1tlXSk7Y29uc29sZS5sb2cuYXBwbHkoY29uc29sZSxhKX19Y2F0Y2goZyl7fX07RWRpdG9yVWkucGFyc2VQbmc9ZnVuY3Rpb24oYSxlLGMpe2Z1bmN0aW9uIGIoYSxiKXt2YXIgZT1mO2YrPWI7cmV0dXJuIGEuc3Vic3RyaW5nKGUsCmYpfWZ1bmN0aW9uIGQoYSl7YT1iKGEsNCk7cmV0dXJuIGEuY2hhckNvZGVBdCgzKSsoYS5jaGFyQ29kZUF0KDIpPDw4KSsoYS5jaGFyQ29kZUF0KDEpPDwxNikrKGEuY2hhckNvZGVBdCgwKTw8MjQpfXZhciBmPTA7aWYoYihhLDgpIT1TdHJpbmcuZnJvbUNoYXJDb2RlKDEzNykrIlBORyIrU3RyaW5nLmZyb21DaGFyQ29kZSgxMywxMCwyNiwxMCkpbnVsbCE9YyYmYygpO2Vsc2UgaWYoYihhLDQpLCJJSERSIiE9YihhLDQpKW51bGwhPWMmJmMoKTtlbHNle2IoYSwxNyk7ZG97Yz1kKGEpO3ZhciBnPWIoYSw0KTtpZihudWxsIT1lJiZlKGYtOCxnLGMpKWJyZWFrO3ZhbHVlPWIoYSxjKTtiKGEsNCk7aWYoIklFTkQiPT1nKWJyZWFrfXdoaWxlKGMpfX07RWRpdG9yVWkucmVtb3ZlQ2hpbGROb2Rlcz1mdW5jdGlvbihhKXtmb3IoO251bGwhPWEuZmlyc3RDaGlsZDspYS5yZW1vdmVDaGlsZChhLmZpcnN0Q2hpbGQpfTtFZGl0b3JVaS5wcm90b3R5cGUuZW1wdHlEaWFncmFtWG1sPSc8bXhHcmFwaE1vZGVsPjxyb290PjxteENlbGwgaWQ9IjAiLz48bXhDZWxsIGlkPSIxIiBwYXJlbnQ9IjAiLz48L3Jvb3Q+PC9teEdyYXBoTW9kZWw+JzsKRWRpdG9yVWkucHJvdG90eXBlLmVtcHR5TGlicmFyeVhtbD0iPG14bGlicmFyeT5bXTwvbXhsaWJyYXJ5PiI7RWRpdG9yVWkucHJvdG90eXBlLm1vZGU9bnVsbDtFZGl0b3JVaS5wcm90b3R5cGUudGltZW91dD1FZGl0b3IucHJvdG90eXBlLnRpbWVvdXQ7RWRpdG9yVWkucHJvdG90eXBlLnNpZGViYXJGb290ZXJIZWlnaHQ9Mzg7RWRpdG9yVWkucHJvdG90eXBlLmRlZmF1bHRDdXN0b21TaGFwZVN0eWxlPSJzaGFwZT1zdGVuY2lsKHRaUnRUc1FnRUVCUHcxK0RKUjdBb042RGJXZnRwQWdFME9ydGQvallSR3E3MlIrWU5FMllnVGVQbG9FSkdXYmxnQTE4WnVLRkRjTWo1L1NtOGJvWnErQmdqQ1g0cFR5cWs2WmxLUk9pdHd1c09NWEtRRE9EeDVpeTRwWHhaNXFUSGlGSGF3eEIwSnJRWkg3bENhYlEwRnIrWFdDMS9FOHpjc1QvZ0FpK1N1Ym8yLzNNaDZkL29KYjVuVTFiNXRXN3Iya25hdXRhYTNUK1UzMm83Zjd2WndwSmthTkRMT1JKamN1N3Q1OW0yalh4cVg5dW4rdHQwMjJhY3NmbW9LYVFaK3ZoaHN3WnRTNk5lL1RoUUd0MElWME4zWXl2NlAzQ2VUOS90SE8wWEZJNWNBRT0pO3doaXRlU3BhY2U9d3JhcDtodG1sPTE7IjsKRWRpdG9yVWkucHJvdG90eXBlLm1heEJhY2tncm91bmRTaXplPTE2MDA7RWRpdG9yVWkucHJvdG90eXBlLm1heEltYWdlU2l6ZT01MjA7RWRpdG9yVWkucHJvdG90eXBlLm1heFRleHRXaWR0aD01MjA7RWRpdG9yVWkucHJvdG90eXBlLnJlc2FtcGxlVGhyZXNob2xkPTFFNTtFZGl0b3JVaS5wcm90b3R5cGUubWF4SW1hZ2VCeXRlcz0xRTY7RWRpdG9yVWkucHJvdG90eXBlLm1heEJhY2tncm91bmRCeXRlcz0yNUU1O0VkaXRvclVpLnByb3RvdHlwZS5tYXhUZXh0Qnl0ZXM9NUU1O0VkaXRvclVpLnByb3RvdHlwZS5jdXJyZW50RmlsZT1udWxsO0VkaXRvclVpLnByb3RvdHlwZS5wcmludFBkZkV4cG9ydD0hMTtFZGl0b3JVaS5wcm90b3R5cGUucGRmUGFnZUV4cG9ydD0hMDtFZGl0b3JVaS5wcm90b3R5cGUuZm9ybWF0RW5hYmxlZD0iMCIhPXVybFBhcmFtcy5mb3JtYXQ7RWRpdG9yVWkucHJvdG90eXBlLmluc2VydFRlbXBsYXRlRW5hYmxlZD0hMDtFZGl0b3JVaS5wcm90b3R5cGUuY2xvc2FibGVTY3JhdGNocGFkPQohMDsoZnVuY3Rpb24oKXtFZGl0b3JVaS5wcm90b3R5cGUudXNlQ2FudmFzRm9yRXhwb3J0PSExO0VkaXRvclVpLnByb3RvdHlwZS5qcGdTdXBwb3J0ZWQ9ITE7dHJ5e3ZhciBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImNhbnZhcyIpO0VkaXRvclVpLnByb3RvdHlwZS5jYW52YXNTdXBwb3J0ZWQ9ISghYS5nZXRDb250ZXh0fHwhYS5nZXRDb250ZXh0KCIyZCIpKX1jYXRjaChsKXt9dHJ5e3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImNhbnZhcyIpLGM9bmV3IEltYWdlO2Mub25sb2FkPWZ1bmN0aW9uKCl7dHJ5e2UuZ2V0Q29udGV4dCgiMmQiKS5kcmF3SW1hZ2UoYywwLDApO3ZhciBhPWUudG9EYXRhVVJMKCJpbWFnZS9wbmciKTtFZGl0b3JVaS5wcm90b3R5cGUudXNlQ2FudmFzRm9yRXhwb3J0PW51bGwhPWEmJjY8YS5sZW5ndGh9Y2F0Y2gocCl7fX07Yy5zcmM9ImRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsIitidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudCgnPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMXB4IiBoZWlnaHQ9IjFweCIgdmVyc2lvbj0iMS4xIj48Zm9yZWlnbk9iamVjdCBwb2ludGVyLWV2ZW50cz0iYWxsIiB3aWR0aD0iMSIgaGVpZ2h0PSIxIj48ZGl2IHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PC9zdmc+JykpKX1jYXRjaChsKXt9dHJ5e2U9CmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImNhbnZhcyIpO2Uud2lkdGg9ZS5oZWlnaHQ9MTt2YXIgZD1lLnRvRGF0YVVSTCgiaW1hZ2UvanBlZyIpO0VkaXRvclVpLnByb3RvdHlwZS5qcGdTdXBwb3J0ZWQ9bnVsbCE9PWQubWF0Y2goImltYWdlL2pwZWciKX1jYXRjaChsKXt9fSkoKTtFZGl0b3JVaS5wcm90b3R5cGUub3Blbkxpbms9ZnVuY3Rpb24oYSxlLGMpe3JldHVybiB0aGlzLmVkaXRvci5ncmFwaC5vcGVuTGluayhhLGUsYyl9O0VkaXRvclVpLnByb3RvdHlwZS5zaG93U3BsYXNoPWZ1bmN0aW9uKGEpe307RWRpdG9yVWkucHJvdG90eXBlLmdldExvY2FsRGF0YT1mdW5jdGlvbihhLGUpe2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oYSkpfTtFZGl0b3JVaS5wcm90b3R5cGUuc2V0TG9jYWxEYXRhPWZ1bmN0aW9uKGEsZSxjKXtsb2NhbFN0b3JhZ2Uuc2V0SXRlbShhLGUpO251bGwhPWMmJmMoKX07RWRpdG9yVWkucHJvdG90eXBlLnJlbW92ZUxvY2FsRGF0YT1mdW5jdGlvbihhLGUpe2xvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGEpOwplKCl9O0VkaXRvclVpLnByb3RvdHlwZS5zZXRNYXRoRW5hYmxlZD1mdW5jdGlvbihhKXt0aGlzLmVkaXRvci5ncmFwaC5tYXRoRW5hYmxlZD1hO3RoaXMuZWRpdG9yLnVwZGF0ZUdyYXBoQ29tcG9uZW50cygpO3RoaXMuZWRpdG9yLmdyYXBoLnJlZnJlc2goKTt0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdCgibWF0aEVuYWJsZWRDaGFuZ2VkIikpfTtFZGl0b3JVaS5wcm90b3R5cGUuaXNNYXRoRW5hYmxlZD1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5lZGl0b3IuZ3JhcGgubWF0aEVuYWJsZWR9O0VkaXRvclVpLnByb3RvdHlwZS5pc09mZmxpbmVBcHA9ZnVuY3Rpb24oKXtyZXR1cm4iMSI9PXVybFBhcmFtcy5vZmZsaW5lfTtFZGl0b3JVaS5wcm90b3R5cGUuaXNPZmZsaW5lPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmlzT2ZmbGluZUFwcCgpfHwhbmF2aWdhdG9yLm9uTGluZXx8IWEmJiIxIj09dXJsUGFyYW1zLnN0ZWFsdGh9O0VkaXRvclVpLnByb3RvdHlwZS5jcmVhdGVTcGlubmVyPQpmdW5jdGlvbihhLGUsYyl7Yz1udWxsIT1jP2M6MjQ7dmFyIGI9bmV3IFNwaW5uZXIoe2xpbmVzOjEyLGxlbmd0aDpjLHdpZHRoOk1hdGgucm91bmQoYy8zKSxyYWRpdXM6TWF0aC5yb3VuZChjLzIpLHJvdGF0ZTowLGNvbG9yOiJkYXJrIj09dWlUaGVtZT8iI2MwYzBjMCI6IiMwMDAiLHNwZWVkOjEuNSx0cmFpbDo2MCxzaGFkb3c6ITEsaHdhY2NlbDohMSx6SW5kZXg6MkU5fSksZD1iLnNwaW47Yi5zcGluPWZ1bmN0aW9uKGMsZil7dmFyIGc9ITE7dGhpcy5hY3RpdmV8fChkLmNhbGwodGhpcyxjKSx0aGlzLmFjdGl2ZT0hMCxudWxsIT1mJiYoZz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSxnLnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSIsZy5zdHlsZS53aGl0ZVNwYWNlPSJub3dyYXAiLGcuc3R5bGUuYmFja2dyb3VuZD0iIzRCNDI0MyIsZy5zdHlsZS5jb2xvcj0id2hpdGUiLGcuc3R5bGUuZm9udEZhbWlseT0iSGVsdmV0aWNhLCBBcmlhbCIsZy5zdHlsZS5mb250U2l6ZT0KIjlwdCIsZy5zdHlsZS5wYWRkaW5nPSI2cHgiLGcuc3R5bGUucGFkZGluZ0xlZnQ9IjEwcHgiLGcuc3R5bGUucGFkZGluZ1JpZ2h0PSIxMHB4IixnLnN0eWxlLnpJbmRleD0yRTksZy5zdHlsZS5sZWZ0PU1hdGgubWF4KDAsYSkrInB4IixnLnN0eWxlLnRvcD1NYXRoLm1heCgwLGUrNzApKyJweCIsbXhVdGlscy5zZXRQcmVmaXhlZFN0eWxlKGcuc3R5bGUsImJvcmRlclJhZGl1cyIsIjZweCIpLG14VXRpbHMuc2V0UHJlZml4ZWRTdHlsZShnLnN0eWxlLCJ0cmFuc2Zvcm0iLCJ0cmFuc2xhdGUoLTUwJSwtNTAlKSIpLCJkYXJrIiE9dWlUaGVtZSYmbXhVdGlscy5zZXRQcmVmaXhlZFN0eWxlKGcuc3R5bGUsImJveFNoYWRvdyIsIjJweCAycHggM3B4IDBweCAjZGRkIiksIi4uLiIhPWYuc3Vic3RyaW5nKGYubGVuZ3RoLTMsZi5sZW5ndGgpJiYiISIhPWYuY2hhckF0KGYubGVuZ3RoLTEpJiYoZis9Ii4uLiIpLGcuaW5uZXJIVE1MPWYsYy5hcHBlbmRDaGlsZChnKSxiLnN0YXR1cz1nLG14Q2xpZW50LklTX1ZNTCYmCihudWxsPT1kb2N1bWVudC5kb2N1bWVudE1vZGV8fDg+PWRvY3VtZW50LmRvY3VtZW50TW9kZSkmJihnLnN0eWxlLmxlZnQ9TWF0aC5yb3VuZChNYXRoLm1heCgwLGEtZy5vZmZzZXRXaWR0aC8yKSkrInB4IixnLnN0eWxlLnRvcD1NYXRoLnJvdW5kKE1hdGgubWF4KDAsZSs3MC1nLm9mZnNldEhlaWdodC8yKSkrInB4IikpLHRoaXMucGF1c2U9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt2YXIgYT1mdW5jdGlvbigpe307dGhpcy5hY3RpdmUmJihhPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dGhpcy5zcGluKGMsZil9KSk7dGhpcy5zdG9wKCk7cmV0dXJuIGF9KSxnPSEwKTtyZXR1cm4gZ307dmFyIGY9Yi5zdG9wO2Iuc3RvcD1mdW5jdGlvbigpe2YuY2FsbCh0aGlzKTt0aGlzLmFjdGl2ZT0hMTtudWxsIT1iLnN0YXR1cyYmbnVsbCE9Yi5zdGF0dXMucGFyZW50Tm9kZSYmYi5zdGF0dXMucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChiLnN0YXR1cyk7Yi5zdGF0dXM9bnVsbH07CmIucGF1c2U9ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt9fTtyZXR1cm4gYn07RWRpdG9yVWkucHJvdG90eXBlLmlzQ29tcGF0aWJsZVN0cmluZz1mdW5jdGlvbihhKXt0cnl7dmFyIGI9bXhVdGlscy5wYXJzZVhtbChhKSxjPXRoaXMuZWRpdG9yLmV4dHJhY3RHcmFwaE1vZGVsKGIuZG9jdW1lbnRFbGVtZW50LCEwKTtyZXR1cm4gbnVsbCE9YyYmMD09Yy5nZXRFbGVtZW50c0J5VGFnTmFtZSgicGFyc2VyZXJyb3IiKS5sZW5ndGh9Y2F0Y2gobil7fXJldHVybiExfTtFZGl0b3JVaS5wcm90b3R5cGUuaXNWaXNpb0RhdGE9ZnVuY3Rpb24oYSl7cmV0dXJuIDg8YS5sZW5ndGgmJigyMDg9PWEuY2hhckNvZGVBdCgwKSYmMjA3PT1hLmNoYXJDb2RlQXQoMSkmJjE3PT1hLmNoYXJDb2RlQXQoMikmJjIyND09YS5jaGFyQ29kZUF0KDMpJiYxNjE9PWEuY2hhckNvZGVBdCg0KSYmMTc3PT1hLmNoYXJDb2RlQXQoNSkmJjI2PT1hLmNoYXJDb2RlQXQoNikmJjIyNT09YS5jaGFyQ29kZUF0KDcpfHwKODA9PWEuY2hhckNvZGVBdCgwKSYmNzU9PWEuY2hhckNvZGVBdCgxKSYmMz09YS5jaGFyQ29kZUF0KDIpJiY0PT1hLmNoYXJDb2RlQXQoMyl8fDgwPT1hLmNoYXJDb2RlQXQoMCkmJjc1PT1hLmNoYXJDb2RlQXQoMSkmJjM9PWEuY2hhckNvZGVBdCgyKSYmNj09YS5jaGFyQ29kZUF0KDMpKX07RWRpdG9yVWkucHJvdG90eXBlLmlzUmVtb3RlVmlzaW9EYXRhPWZ1bmN0aW9uKGEpe3JldHVybiA4PGEubGVuZ3RoJiYoMjA4PT1hLmNoYXJDb2RlQXQoMCkmJjIwNz09YS5jaGFyQ29kZUF0KDEpJiYxNz09YS5jaGFyQ29kZUF0KDIpJiYyMjQ9PWEuY2hhckNvZGVBdCgzKSYmMTYxPT1hLmNoYXJDb2RlQXQoNCkmJjE3Nz09YS5jaGFyQ29kZUF0KDUpJiYyNj09YS5jaGFyQ29kZUF0KDYpJiYyMjU9PWEuY2hhckNvZGVBdCg3KXx8NjA9PWEuY2hhckNvZGVBdCgwKSYmNjM9PWEuY2hhckNvZGVBdCgxKSYmMTIwPT1hLmNoYXJDb2RlQXQoMikmJjEwOT09YS5jaGFyQ29kZUF0KDMpJiYxMDg9PWEuY2hhckNvZGVBdCgzKSl9OwpFZGl0b3JVaS5wcm90b3R5cGUuaXNQbmdEYXRhPWZ1bmN0aW9uKGEpe3JldHVybiA4PGEubGVuZ3RoJiYxMzc9PWEuY2hhckNvZGVBdCgwKSYmODA9PWEuY2hhckNvZGVBdCgxKSYmNzg9PWEuY2hhckNvZGVBdCgyKSYmNzE9PWEuY2hhckNvZGVBdCgzKSYmMTM9PWEuY2hhckNvZGVBdCg0KSYmMTA9PWEuY2hhckNvZGVBdCg1KSYmMjY9PWEuY2hhckNvZGVBdCg2KSYmMTA9PWEuY2hhckNvZGVBdCg3KX07dmFyIGE9RWRpdG9yVWkucHJvdG90eXBlLmV4dHJhY3RHcmFwaE1vZGVsRnJvbUh0bWw7RWRpdG9yVWkucHJvdG90eXBlLmV4dHJhY3RHcmFwaE1vZGVsRnJvbUh0bWw9ZnVuY3Rpb24oYil7dmFyIGU9YS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7aWYobnVsbD09ZSl0cnl7dmFyIGM9Yi5pbmRleE9mKCImbHQ7bXhmaWxlICIpO2lmKDA8PWMpe3ZhciBkPWIubGFzdEluZGV4T2YoIiZsdDsvbXhmaWxlJmd0OyIpO2Q+YyYmKGU9Yi5zdWJzdHJpbmcoYyxkKzE1KS5yZXBsYWNlKC8mZ3Q7L2csCiI+IikucmVwbGFjZSgvJmx0Oy9nLCI8IikucmVwbGFjZSgvXFwmcXVvdDsvZywnIicpLnJlcGxhY2UoL1xuL2csIiIpKX1lbHNlIHZhciBmPW14VXRpbHMucGFyc2VYbWwoYikscD10aGlzLmVkaXRvci5leHRyYWN0R3JhcGhNb2RlbChmLmRvY3VtZW50RWxlbWVudCxudWxsIT10aGlzLnBhZ2VzfHwiaGlkZGVuIj09dGhpcy5kaWFncmFtQ29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHkpLGU9bnVsbCE9cD9teFV0aWxzLmdldFhtbChwKToiIn1jYXRjaCh2KXt9cmV0dXJuIGV9O0VkaXRvclVpLnByb3RvdHlwZS52YWxpZGF0ZUZpbGVEYXRhPWZ1bmN0aW9uKGEpe2lmKG51bGwhPWEmJjA8YS5sZW5ndGgpe3ZhciBiPWEuaW5kZXhPZignPG1ldGEgY2hhcnNldD0idXRmLTgiPicpOzA8PWImJihhPWEuc2xpY2UoMCxiKSsnPG1ldGEgY2hhcnNldD0idXRmLTgiLz4nK2Euc2xpY2UoYisyMy0xLGEubGVuZ3RoKSk7YT1HcmFwaC56YXBHcmVtbGlucyhhKX1yZXR1cm4gYX07RWRpdG9yVWkucHJvdG90eXBlLnJlcGxhY2VGaWxlRGF0YT0KZnVuY3Rpb24oYSl7YT10aGlzLnZhbGlkYXRlRmlsZURhdGEoYSk7YT1udWxsIT1hJiYwPGEubGVuZ3RoP214VXRpbHMucGFyc2VYbWwoYSkuZG9jdW1lbnRFbGVtZW50Om51bGw7dmFyIGI9bnVsbCE9YT90aGlzLmVkaXRvci5leHRyYWN0R3JhcGhNb2RlbChhLCEwKTpudWxsO251bGwhPWImJihhPWIpO2lmKG51bGwhPWEpe2I9dGhpcy5lZGl0b3IuZ3JhcGg7Yi5tb2RlbC5iZWdpblVwZGF0ZSgpO3RyeXt2YXIgYz1udWxsIT10aGlzLnBhZ2VzP3RoaXMucGFnZXMuc2xpY2UoKTpudWxsLGQ9YS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiZGlhZ3JhbSIpO2lmKCIwIiE9dXJsUGFyYW1zLnBhZ2VzfHwxPGQubGVuZ3RofHwxPT1kLmxlbmd0aCYmZFswXS5oYXNBdHRyaWJ1dGUoIm5hbWUiKSl7dGhpcy5maWxlTm9kZT1hO3RoaXMucGFnZXM9bnVsbCE9dGhpcy5wYWdlcz90aGlzLnBhZ2VzOltdO2Zvcih2YXIgZj1kLmxlbmd0aC0xOzA8PWY7Zi0tKXt2YXIgcD10aGlzLnVwZGF0ZVBhZ2VSb290KG5ldyBEaWFncmFtUGFnZShkW2ZdKSk7Cm51bGw9PXAuZ2V0TmFtZSgpJiZwLnNldE5hbWUobXhSZXNvdXJjZXMuZ2V0KCJwYWdlV2l0aE51bWJlciIsW2YrMV0pKTtiLm1vZGVsLmV4ZWN1dGUobmV3IENoYW5nZVBhZ2UodGhpcyxwLDA9PWY/cDpudWxsLDApKX19ZWxzZSIwIiE9dXJsUGFyYW1zLnBhZ2VzJiZudWxsPT10aGlzLmZpbGVOb2RlJiYodGhpcy5maWxlTm9kZT1hLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudCgibXhmaWxlIiksdGhpcy5jdXJyZW50UGFnZT1uZXcgRGlhZ3JhbVBhZ2UoYS5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpYWdyYW0iKSksdGhpcy5jdXJyZW50UGFnZS5zZXROYW1lKG14UmVzb3VyY2VzLmdldCgicGFnZVdpdGhOdW1iZXIiLFsxXSkpLGIubW9kZWwuZXhlY3V0ZShuZXcgQ2hhbmdlUGFnZSh0aGlzLHRoaXMuY3VycmVudFBhZ2UsdGhpcy5jdXJyZW50UGFnZSwwKSkpLHRoaXMuZWRpdG9yLnNldEdyYXBoWG1sKGEpLG51bGwhPXRoaXMuY3VycmVudFBhZ2UmJih0aGlzLmN1cnJlbnRQYWdlLnJvb3Q9CnRoaXMuZWRpdG9yLmdyYXBoLm1vZGVsLnJvb3QpO2lmKG51bGwhPWMpZm9yKGY9MDtmPGMubGVuZ3RoO2YrKyliLm1vZGVsLmV4ZWN1dGUobmV3IENoYW5nZVBhZ2UodGhpcyxjW2ZdLG51bGwpKX1maW5hbGx5e2IubW9kZWwuZW5kVXBkYXRlKCl9fX07RWRpdG9yVWkucHJvdG90eXBlLmNyZWF0ZUZpbGVEYXRhPWZ1bmN0aW9uKGEsZSxjLGQsZixwLGssdCxtLHgscSl7ZT1udWxsIT1lP2U6dGhpcy5lZGl0b3IuZ3JhcGg7Zj1udWxsIT1mP2Y6ITE7bT1udWxsIT1tP206ITA7dmFyIGIsZz1udWxsO251bGw9PWN8fGMuZ2V0TW9kZSgpPT1BcHAuTU9ERV9ERVZJQ0V8fGMuZ2V0TW9kZSgpPT1BcHAuTU9ERV9CUk9XU0VSP2I9Il9ibGFuayI6Zz1iPWQ7aWYobnVsbD09YSlyZXR1cm4iIjt2YXIgbD1hO2lmKCJteGZpbGUiIT1sLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpe2lmKHEpe3ZhciBuPWEub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaWFncmFtIik7bi5zZXRBdHRyaWJ1dGUoImlkIiwKRWRpdG9yLmd1aWQoKSk7bi5hcHBlbmRDaGlsZChhKX1lbHNle249R3JhcGguemFwR3JlbWxpbnMobXhVdGlscy5nZXRYbWwoYSkpO2w9R3JhcGguY29tcHJlc3Mobik7aWYoR3JhcGguZGVjb21wcmVzcyhsKSE9bilyZXR1cm4gbjtuPWEub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaWFncmFtIik7bi5zZXRBdHRyaWJ1dGUoImlkIixFZGl0b3IuZ3VpZCgpKTtteFV0aWxzLnNldFRleHRDb250ZW50KG4sbCl9bD1hLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudCgibXhmaWxlIik7bC5hcHBlbmRDaGlsZChuKX14PyhsPWwuY2xvbmVOb2RlKCEwKSxsLnJlbW92ZUF0dHJpYnV0ZSgibW9kaWZpZWQiKSxsLnJlbW92ZUF0dHJpYnV0ZSgiaG9zdCIpLGwucmVtb3ZlQXR0cmlidXRlKCJhZ2VudCIpLGwucmVtb3ZlQXR0cmlidXRlKCJldGFnIiksbC5yZW1vdmVBdHRyaWJ1dGUoInVzZXJBZ2VudCIpLGwucmVtb3ZlQXR0cmlidXRlKCJ2ZXJzaW9uIiksbC5yZW1vdmVBdHRyaWJ1dGUoImVkaXRvciIpLApsLnJlbW92ZUF0dHJpYnV0ZSgidHlwZSIpKToobC5yZW1vdmVBdHRyaWJ1dGUoInVzZXJBZ2VudCIpLGwucmVtb3ZlQXR0cmlidXRlKCJ2ZXJzaW9uIiksbC5yZW1vdmVBdHRyaWJ1dGUoImVkaXRvciIpLGwucmVtb3ZlQXR0cmlidXRlKCJwYWdlcyIpLGwucmVtb3ZlQXR0cmlidXRlKCJ0eXBlIiksbXhDbGllbnQuSVNfQ0hST01FQVBQP2wuc2V0QXR0cmlidXRlKCJob3N0IiwiQ2hyb21lIik6RWRpdG9yVWkuaXNFbGVjdHJvbkFwcD9sLnNldEF0dHJpYnV0ZSgiaG9zdCIsIkVsZWN0cm9uIik6bC5zZXRBdHRyaWJ1dGUoImhvc3QiLHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSksbC5zZXRBdHRyaWJ1dGUoIm1vZGlmaWVkIiwobmV3IERhdGUpLnRvSVNPU3RyaW5nKCkpLGwuc2V0QXR0cmlidXRlKCJhZ2VudCIsbmF2aWdhdG9yLmFwcFZlcnNpb24pLGwuc2V0QXR0cmlidXRlKCJ2ZXJzaW9uIixFZGl0b3JVaS5WRVJTSU9OKSxsLnNldEF0dHJpYnV0ZSgiZXRhZyIsRWRpdG9yLmd1aWQoKSksCmE9bnVsbCE9Yz9jLmdldE1vZGUoKTp0aGlzLm1vZGUsbnVsbCE9YSYmbC5zZXRBdHRyaWJ1dGUoInR5cGUiLGEpLDE8bC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiZGlhZ3JhbSIpLmxlbmd0aCYmbnVsbCE9dGhpcy5wYWdlcyYmbC5zZXRBdHRyaWJ1dGUoInBhZ2VzIix0aGlzLnBhZ2VzLmxlbmd0aCkpO3E9cT9teFV0aWxzLmdldFByZXR0eVhtbChsKTpteFV0aWxzLmdldFhtbChsKTtpZighcCYmIWYmJihrfHxudWxsIT1jJiYvKFwuaHRtbCkkL2kudGVzdChjLmdldFRpdGxlKCkpKSlxPXRoaXMuZ2V0SHRtbDIobXhVdGlscy5nZXRYbWwobCksZSxudWxsIT1jP2MuZ2V0VGl0bGUoKTpudWxsLGIsZyk7ZWxzZSBpZihwfHwhZiYmbnVsbCE9YyYmLyhcLnN2ZykkL2kudGVzdChjLmdldFRpdGxlKCkpKW51bGw9PWN8fGMuZ2V0TW9kZSgpIT1BcHAuTU9ERV9ERVZJQ0UmJmMuZ2V0TW9kZSgpIT1BcHAuTU9ERV9CUk9XU0VSfHwoZD1udWxsKSxxPXRoaXMuZ2V0RW1iZWRkZWRTdmcocSxlLApkLG51bGwsdCxtLGcpO3JldHVybiBxfTtFZGl0b3JVaS5wcm90b3R5cGUuZ2V0WG1sRmlsZURhdGE9ZnVuY3Rpb24oYSxlLGMpe2E9bnVsbCE9YT9hOiEwO2U9bnVsbCE9ZT9lOiExO2M9bnVsbCE9Yz9jOiFFZGl0b3IuY29tcHJlc3NYbWw7dmFyIGI9dGhpcy5lZGl0b3IuZ2V0R3JhcGhYbWwoYSk7aWYoYSYmbnVsbCE9dGhpcy5maWxlTm9kZSYmbnVsbCE9dGhpcy5jdXJyZW50UGFnZSlpZihhPWZ1bmN0aW9uKGEpe3ZhciBlPWEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIm14R3JhcGhNb2RlbCIpLGU9MDxlLmxlbmd0aD9lWzBdOm51bGw7bnVsbD09ZSYmYz8oZT1teFV0aWxzLnRyaW0obXhVdGlscy5nZXRUZXh0Q29udGVudChhKSksYT1hLmNsb25lTm9kZSghMSksMDxlLmxlbmd0aCYmKGU9R3JhcGguZGVjb21wcmVzcyhlKSxudWxsIT1lJiYwPGUubGVuZ3RoJiZhLmFwcGVuZENoaWxkKG14VXRpbHMucGFyc2VYbWwoZSkuZG9jdW1lbnRFbGVtZW50KSkpOm51bGw9PWV8fGM/YT1hLmNsb25lTm9kZSghMCk6CihhPWEuY2xvbmVOb2RlKCExKSxteFV0aWxzLnNldFRleHRDb250ZW50KGEsR3JhcGguY29tcHJlc3NOb2RlKGUpKSk7Yi5hcHBlbmRDaGlsZChhKX0sRWRpdG9yVWkucmVtb3ZlQ2hpbGROb2Rlcyh0aGlzLmN1cnJlbnRQYWdlLm5vZGUpLG14VXRpbHMuc2V0VGV4dENvbnRlbnQodGhpcy5jdXJyZW50UGFnZS5ub2RlLEdyYXBoLmNvbXByZXNzTm9kZShiKSksYj10aGlzLmZpbGVOb2RlLmNsb25lTm9kZSghMSksZSlhKHRoaXMuY3VycmVudFBhZ2Uubm9kZSk7ZWxzZSBmb3IoZT0wO2U8dGhpcy5wYWdlcy5sZW5ndGg7ZSsrKXtpZih0aGlzLmN1cnJlbnRQYWdlIT10aGlzLnBhZ2VzW2VdJiZ0aGlzLnBhZ2VzW2VdLm5lZWRzVXBkYXRlKXt2YXIgZD0obmV3IG14Q29kZWMobXhVdGlscy5jcmVhdGVYbWxEb2N1bWVudCgpKSkuZW5jb2RlKG5ldyBteEdyYXBoTW9kZWwodGhpcy5wYWdlc1tlXS5yb290KSk7dGhpcy5lZGl0b3IuZ3JhcGguc2F2ZVZpZXdTdGF0ZSh0aGlzLnBhZ2VzW2VdLnZpZXdTdGF0ZSwKZCk7RWRpdG9yVWkucmVtb3ZlQ2hpbGROb2Rlcyh0aGlzLnBhZ2VzW2VdLm5vZGUpO214VXRpbHMuc2V0VGV4dENvbnRlbnQodGhpcy5wYWdlc1tlXS5ub2RlLEdyYXBoLmNvbXByZXNzTm9kZShkKSk7ZGVsZXRlIHRoaXMucGFnZXNbZV0ubmVlZHNVcGRhdGV9YSh0aGlzLnBhZ2VzW2VdLm5vZGUpfXJldHVybiBifTtFZGl0b3JVaS5wcm90b3R5cGUuYW5vbnltaXplU3RyaW5nPWZ1bmN0aW9uKGEsZSl7Zm9yKHZhciBiPVtdLGM9MDtjPGEubGVuZ3RoO2MrKyl7dmFyIGQ9YS5jaGFyQXQoYyk7MDw9RWRpdG9yVWkuaWdub3JlZEFub255bWl6ZWRDaGFycy5pbmRleE9mKGQpP2IucHVzaChkKTppc05hTihwYXJzZUludChkKSk/ZC50b0xvd2VyQ2FzZSgpIT1kP2IucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKDY1K01hdGgucm91bmQoMjUqTWF0aC5yYW5kb20oKSkpKTpkLnRvVXBwZXJDYXNlKCkhPWQ/Yi5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUoOTcrTWF0aC5yb3VuZCgyNSpNYXRoLnJhbmRvbSgpKSkpOgovXHMvLnRlc3QoZCk/Yi5wdXNoKCIgIik6Yi5wdXNoKCI/Iik6Yi5wdXNoKGU/IjAiOk1hdGgucm91bmQoOSpNYXRoLnJhbmRvbSgpKSl9cmV0dXJuIGIuam9pbigiIil9O0VkaXRvclVpLnByb3RvdHlwZS5hbm9ueW1pemVQYXRjaD1mdW5jdGlvbihhKXtpZihudWxsIT1hW0VkaXRvclVpLkRJRkZfSU5TRVJUXSlmb3IodmFyIGI9MDtiPGFbRWRpdG9yVWkuRElGRl9JTlNFUlRdLmxlbmd0aDtiKyspdHJ5e3ZhciBjPW14VXRpbHMucGFyc2VYbWwoYVtFZGl0b3JVaS5ESUZGX0lOU0VSVF1bYl0uZGF0YSkuZG9jdW1lbnRFbGVtZW50LmNsb25lTm9kZSghMSk7bnVsbCE9Yy5nZXRBdHRyaWJ1dGUoIm5hbWUiKSYmYy5zZXRBdHRyaWJ1dGUoIm5hbWUiLHRoaXMuYW5vbnltaXplU3RyaW5nKGMuZ2V0QXR0cmlidXRlKCJuYW1lIikpKTthW0VkaXRvclVpLkRJRkZfSU5TRVJUXVtiXS5kYXRhPW14VXRpbHMuZ2V0WG1sKGMpfWNhdGNoKHApe2FbRWRpdG9yVWkuRElGRl9JTlNFUlRdW2JdLmRhdGE9CnAubWVzc2FnZX1pZihudWxsIT1hW0VkaXRvclVpLkRJRkZfVVBEQVRFXSl7Zm9yKHZhciBkIGluIGFbRWRpdG9yVWkuRElGRl9VUERBVEVdKXt2YXIgZj1hW0VkaXRvclVpLkRJRkZfVVBEQVRFXVtkXTtudWxsIT1mLm5hbWUmJihmLm5hbWU9dGhpcy5hbm9ueW1pemVTdHJpbmcoZi5uYW1lKSk7bnVsbCE9Zi5jZWxscyYmKGI9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7dmFyIGI9Zi5jZWxsc1thXTtpZihudWxsIT1iKXtmb3IodmFyIGUgaW4gYiludWxsIT1iW2VdLnZhbHVlJiYoYltlXS52YWx1ZT0iWyIrYltlXS52YWx1ZS5sZW5ndGgrIl0iKSxudWxsIT1iW2VdLnhtbFZhbHVlJiYoYltlXS54bWxWYWx1ZT0iWyIrYltlXS54bWxWYWx1ZS5sZW5ndGgrIl0iKSxudWxsIT1iW2VdLnN0eWxlJiYoYltlXS5zdHlsZT0iWyIrYltlXS5zdHlsZS5sZW5ndGgrIl0iKSwwPT1PYmplY3Qua2V5cyhiW2VdKS5sZW5ndGgmJmRlbGV0ZSBiW2VdOzA9PU9iamVjdC5rZXlzKGIpLmxlbmd0aCYmCmRlbGV0ZSBmLmNlbGxzW2FdfX0pLGIoRWRpdG9yVWkuRElGRl9JTlNFUlQpLGIoRWRpdG9yVWkuRElGRl9VUERBVEUpLDA9PU9iamVjdC5rZXlzKGYuY2VsbHMpLmxlbmd0aCYmZGVsZXRlIGYuY2VsbHMpOzA9PU9iamVjdC5rZXlzKGYpLmxlbmd0aCYmZGVsZXRlIGFbRWRpdG9yVWkuRElGRl9VUERBVEVdW2RdfTA9PU9iamVjdC5rZXlzKGFbRWRpdG9yVWkuRElGRl9VUERBVEVdKS5sZW5ndGgmJmRlbGV0ZSBhW0VkaXRvclVpLkRJRkZfVVBEQVRFXX1yZXR1cm4gYX07RWRpdG9yVWkucHJvdG90eXBlLmFub255bWl6ZUF0dHJpYnV0ZXM9ZnVuY3Rpb24oYSxlKXtpZihudWxsIT1hLmF0dHJpYnV0ZXMpZm9yKHZhciBiPTA7YjxhLmF0dHJpYnV0ZXMubGVuZ3RoO2IrKykiYXMiIT1hLmF0dHJpYnV0ZXNbYl0ubmFtZSYmYS5zZXRBdHRyaWJ1dGUoYS5hdHRyaWJ1dGVzW2JdLm5hbWUsdGhpcy5hbm9ueW1pemVTdHJpbmcoYS5hdHRyaWJ1dGVzW2JdLnZhbHVlLGUpKTtpZihudWxsIT1hLmNoaWxkTm9kZXMpZm9yKGI9CjA7YjxhLmNoaWxkTm9kZXMubGVuZ3RoO2IrKyl0aGlzLmFub255bWl6ZUF0dHJpYnV0ZXMoYS5jaGlsZE5vZGVzW2JdLGUpfTtFZGl0b3JVaS5wcm90b3R5cGUuYW5vbnltaXplTm9kZT1mdW5jdGlvbihhLGUpe2Zvcih2YXIgYj1hLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJteENlbGwiKSxjPTA7YzxiLmxlbmd0aDtjKyspbnVsbCE9YltjXS5nZXRBdHRyaWJ1dGUoInZhbHVlIikmJmJbY10uc2V0QXR0cmlidXRlKCJ2YWx1ZSIsIlsiK2JbY10uZ2V0QXR0cmlidXRlKCJ2YWx1ZSIpLmxlbmd0aCsiXSIpLG51bGwhPWJbY10uZ2V0QXR0cmlidXRlKCJ4bWxWYWx1ZSIpJiZiW2NdLnNldEF0dHJpYnV0ZSgieG1sVmFsdWUiLCJbIitiW2NdLmdldEF0dHJpYnV0ZSgieG1sVmFsdWUiKS5sZW5ndGgrIl0iKSxudWxsIT1iW2NdLmdldEF0dHJpYnV0ZSgic3R5bGUiKSYmYltjXS5zZXRBdHRyaWJ1dGUoInN0eWxlIiwiWyIrYltjXS5nZXRBdHRyaWJ1dGUoInN0eWxlIikubGVuZ3RoKyJdIiksbnVsbCE9CmJbY10ucGFyZW50Tm9kZSYmInJvb3QiIT1iW2NdLnBhcmVudE5vZGUubm9kZU5hbWUmJm51bGwhPWJbY10ucGFyZW50Tm9kZS5wYXJlbnROb2RlJiYoYltjXS5zZXRBdHRyaWJ1dGUoImlkIixiW2NdLnBhcmVudE5vZGUuZ2V0QXR0cmlidXRlKCJpZCIpKSxiW2NdLnBhcmVudE5vZGUucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQoYltjXSxiW2NdLnBhcmVudE5vZGUpKTtyZXR1cm4gYX07RWRpdG9yVWkucHJvdG90eXBlLnN5bmNocm9uaXplQ3VycmVudEZpbGU9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5nZXRDdXJyZW50RmlsZSgpO251bGwhPWImJihiLnNhdmluZ0ZpbGU/dGhpcy5oYW5kbGVFcnJvcih7bWVzc2FnZTpteFJlc291cmNlcy5nZXQoImJ1c3kiKX0pOiFhJiZiLmludmFsaWRDaGVja3N1bT9iLmhhbmRsZUZpbGVFcnJvcihudWxsLCEwKTp0aGlzLnNwaW5uZXIuc3Bpbihkb2N1bWVudC5ib2R5LG14UmVzb3VyY2VzLmdldCgidXBkYXRpbmdEb2N1bWVudCIpKSYmKGIuY2xlYXJBdXRvc2F2ZSgpLAp0aGlzLmVkaXRvci5zZXRTdGF0dXMoIiIpLGE/Yi5yZWxvYWRGaWxlKG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7Yi5oYW5kbGVGaWxlU3VjY2VzcygibWFudWFsIj09RHJhd2lvRmlsZS5TWU5DKX0pLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe2IuaGFuZGxlRmlsZUVycm9yKGEsITApfSkpOmIuc3luY2hyb25pemVGaWxlKG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7Yi5oYW5kbGVGaWxlU3VjY2VzcygibWFudWFsIj09RHJhd2lvRmlsZS5TWU5DKX0pLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe2IuaGFuZGxlRmlsZUVycm9yKGEsITApfSkpKSl9O0VkaXRvclVpLnByb3RvdHlwZS5nZXRGaWxlRGF0YT1mdW5jdGlvbihhLGUsYyxkLGYscCxrLHQsbSx4KXtmPW51bGwhPWY/ZjohMDtwPW51bGwhPXA/cDohMTt2YXIgYj10aGlzLmVkaXRvci5ncmFwaDtpZihlfHwhYSYmbnVsbCE9bSYmLyhcLnN2ZykkL2kudGVzdChtLmdldFRpdGxlKCkpKWlmKHg9CiExLG51bGwhPXRoaXMucGFnZXMmJnRoaXMuY3VycmVudFBhZ2UhPXRoaXMucGFnZXNbMF0pe3ZhciBnPWIuZ2V0R2xvYmFsVmFyaWFibGUsYj10aGlzLmNyZWF0ZVRlbXBvcmFyeUdyYXBoKGIuZ2V0U3R5bGVzaGVldCgpKSxsPXRoaXMucGFnZXNbMF07Yi5nZXRHbG9iYWxWYXJpYWJsZT1mdW5jdGlvbihhKXtyZXR1cm4icGFnZSI9PWE/bC5nZXROYW1lKCk6InBhZ2VudW1iZXIiPT1hPzE6Zy5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O2RvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYi5jb250YWluZXIpO2IubW9kZWwuc2V0Um9vdChsLnJvb3QpfWs9bnVsbCE9az9rOnRoaXMuZ2V0WG1sRmlsZURhdGEoZixwLHgpO209bnVsbCE9bT9tOnRoaXMuZ2V0Q3VycmVudEZpbGUoKTthPXRoaXMuY3JlYXRlRmlsZURhdGEoayxiLG0sd2luZG93LmxvY2F0aW9uLmhyZWYsYSxlLGMsZCxmLHQseCk7YiE9dGhpcy5lZGl0b3IuZ3JhcGgmJmIuY29udGFpbmVyLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYi5jb250YWluZXIpOwpyZXR1cm4gYX07RWRpdG9yVWkucHJvdG90eXBlLmdldEh0bWw9ZnVuY3Rpb24oYSxlLGMsZCxmLHApe3A9bnVsbCE9cD9wOiEwO3ZhciBiPW51bGwsZz1FZGl0b3JVaS5kcmF3SG9zdCsiL2pzL2VtYmVkLXN0YXRpYy5taW4uanMiO2lmKG51bGwhPWUpe3ZhciBiPXA/ZS5nZXRHcmFwaEJvdW5kcygpOmUuZ2V0Qm91bmRpbmdCb3goZS5nZXRTZWxlY3Rpb25DZWxscygpKSxsPWUudmlldy5zY2FsZTtwPU1hdGguZmxvb3IoYi54L2wtZS52aWV3LnRyYW5zbGF0ZS54KTtsPU1hdGguZmxvb3IoYi55L2wtZS52aWV3LnRyYW5zbGF0ZS55KTtiPWUuYmFja2dyb3VuZDtudWxsPT1mJiYoZT10aGlzLmdldEJhc2VuYW1lcygpLmpvaW4oIjsiKSwwPGUubGVuZ3RoJiYoZz1FZGl0b3JVaS5kcmF3SG9zdCsiL2VtYmVkLmpzP3M9IitlKSk7YS5zZXRBdHRyaWJ1dGUoIngwIixwKTthLnNldEF0dHJpYnV0ZSgieTAiLGwpfW51bGwhPWEmJihhLnNldEF0dHJpYnV0ZSgicGFuIiwiMSIpLGEuc2V0QXR0cmlidXRlKCJ6b29tIiwKIjEiKSxhLnNldEF0dHJpYnV0ZSgicmVzaXplIiwiMCIpLGEuc2V0QXR0cmlidXRlKCJmaXQiLCIwIiksYS5zZXRBdHRyaWJ1dGUoImJvcmRlciIsIjIwIiksYS5zZXRBdHRyaWJ1dGUoImxpbmtzIiwiMSIpLG51bGwhPWQmJmEuc2V0QXR0cmlidXRlKCJlZGl0IixkKSk7bnVsbCE9ZiYmKGY9Zi5yZXBsYWNlKC8mL2csIiZhbXA7IikpO2E9bnVsbCE9YT9HcmFwaC56YXBHcmVtbGlucyhteFV0aWxzLmdldFhtbChhKSk6IiI7ZD1HcmFwaC5jb21wcmVzcyhhKTtHcmFwaC5kZWNvbXByZXNzKGQpIT1hJiYoZD1lbmNvZGVVUklDb21wb25lbnQoYSkpO3JldHVybihudWxsPT1mPydceDNjIS0tW2lmIElFXT48bWV0YSBodHRwLWVxdWl2PSJYLVVBLUNvbXBhdGlibGUiIGNvbnRlbnQ9IklFPTUsSUU9OSIgPjwhW2VuZGlmXS0tXHgzZVxuJzoiIikrIjwhRE9DVFlQRSBodG1sPlxuPGh0bWwiKyhudWxsIT1mPycgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiPic6Ij4iKSsiXG48aGVhZD5cbiIrCihudWxsPT1mP251bGwhPWM/Ijx0aXRsZT4iK214VXRpbHMuaHRtbEVudGl0aWVzKGMpKyI8L3RpdGxlPlxuIjoiIjoiPHRpdGxlPmRpYWdyYW1zLm5ldDwvdGl0bGU+XG4iKSsobnVsbCE9Zj8nPG1ldGEgaHR0cC1lcXVpdj0icmVmcmVzaCIgY29udGVudD0iMDtVUkw9XCcnK2YrIidcIi8+XG4iOiIiKSsiPC9oZWFkPlxuPGJvZHkiKyhudWxsPT1mJiZudWxsIT1iJiZiIT1teENvbnN0YW50cy5OT05FPycgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6JytiKyc7Ij4nOiI+IikrJ1xuPGRpdiBjbGFzcz0ibXhncmFwaCIgc3R5bGU9InBvc2l0aW9uOnJlbGF0aXZlO292ZXJmbG93OmF1dG87d2lkdGg6MTAwJTsiPlxuPGRpdiBzdHlsZT0id2lkdGg6MXB4O2hlaWdodDoxcHg7b3ZlcmZsb3c6aGlkZGVuOyI+JytkKyI8L2Rpdj5cbjwvZGl2PlxuIisobnVsbD09Zj8nPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiIHNyYz0iJytnKyciPlx4M2Mvc2NyaXB0Pic6JzxhIHN0eWxlPSJwb3NpdGlvbjphYnNvbHV0ZTt0b3A6NTAlO2xlZnQ6NTAlO21hcmdpbi10b3A6LTEyOHB4O21hcmdpbi1sZWZ0Oi02NHB4OyIgaHJlZj0iJysKZisnIiB0YXJnZXQ9Il9ibGFuayI+PGltZyBib3JkZXI9IjAiIHNyYz0iJytFZGl0b3JVaS5kcmF3SG9zdCsnL2ltYWdlcy9kcmF3bG9nbzEyOC5wbmciLz48L2E+JykrIlxuPC9ib2R5PlxuPC9odG1sPlxuIn07RWRpdG9yVWkucHJvdG90eXBlLmdldEh0bWwyPWZ1bmN0aW9uKGEsZSxjLGQsZil7ZT13aW5kb3cuRFJBV0lPX1ZJRVdFUl9VUkx8fEVkaXRvclVpLmRyYXdIb3N0KyIvanMvdmlld2VyLm1pbi5qcyI7bnVsbCE9ZiYmKGY9Zi5yZXBsYWNlKC8mL2csIiZhbXA7IikpO2E9e2hpZ2hsaWdodDoiIzAwMDBmZiIsbmF2OnRoaXMuZWRpdG9yLmdyYXBoLmZvbGRpbmdFbmFibGVkLHJlc2l6ZTohMCx4bWw6R3JhcGguemFwR3JlbWxpbnMoYSksdG9vbGJhcjoicGFnZXMgem9vbSBsYXllcnMgbGlnaHRib3gifTtudWxsIT10aGlzLnBhZ2VzJiZudWxsIT10aGlzLmN1cnJlbnRQYWdlJiYoYS5wYWdlPW14VXRpbHMuaW5kZXhPZih0aGlzLnBhZ2VzLHRoaXMuY3VycmVudFBhZ2UpKTtyZXR1cm4obnVsbD09CmY/J1x4M2MhLS1baWYgSUVdPjxtZXRhIGh0dHAtZXF1aXY9IlgtVUEtQ29tcGF0aWJsZSIgY29udGVudD0iSUU9NSxJRT05IiA+PCFbZW5kaWZdLS1ceDNlXG4nOiIiKSsiPCFET0NUWVBFIGh0bWw+XG48aHRtbCIrKG51bGwhPWY/JyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCI+JzoiPiIpKyJcbjxoZWFkPlxuIisobnVsbD09Zj9udWxsIT1jPyI8dGl0bGU+IitteFV0aWxzLmh0bWxFbnRpdGllcyhjKSsiPC90aXRsZT5cbiI6IiI6Ijx0aXRsZT5kaWFncmFtcy5uZXQ8L3RpdGxlPlxuIikrKG51bGwhPWY/JzxtZXRhIGh0dHAtZXF1aXY9InJlZnJlc2giIGNvbnRlbnQ9IjA7VVJMPVwnJytmKyInXCIvPlxuIjoiIikrJzxtZXRhIGNoYXJzZXQ9InV0Zi04Ii8+XG48L2hlYWQ+XG48Ym9keT5cbjxkaXYgY2xhc3M9Im14Z3JhcGgiIHN0eWxlPSJtYXgtd2lkdGg6MTAwJTtib3JkZXI6MXB4IHNvbGlkIHRyYW5zcGFyZW50OyIgZGF0YS1teGdyYXBoPSInK214VXRpbHMuaHRtbEVudGl0aWVzKEpTT04uc3RyaW5naWZ5KGEpKSsKJyI+PC9kaXY+XG4nKyhudWxsPT1mPyc8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCIgc3JjPSInK2UrJyI+XHgzYy9zY3JpcHQ+JzonPGEgc3R5bGU9InBvc2l0aW9uOmFic29sdXRlO3RvcDo1MCU7bGVmdDo1MCU7bWFyZ2luLXRvcDotMTI4cHg7bWFyZ2luLWxlZnQ6LTY0cHg7IiBocmVmPSInK2YrJyIgdGFyZ2V0PSJfYmxhbmsiPjxpbWcgYm9yZGVyPSIwIiBzcmM9IicrRWRpdG9yVWkuZHJhd0hvc3QrJy9pbWFnZXMvZHJhd2xvZ28xMjgucG5nIi8+PC9hPicpKyJcbjwvYm9keT5cbjwvaHRtbD5cbiJ9O0VkaXRvclVpLnByb3RvdHlwZS5zZXRGaWxlRGF0YT1mdW5jdGlvbihhKXthPXRoaXMudmFsaWRhdGVGaWxlRGF0YShhKTt0aGlzLnBhZ2VzPXRoaXMuZmlsZU5vZGU9dGhpcy5jdXJyZW50UGFnZT1udWxsO2E9bnVsbCE9YSYmMDxhLmxlbmd0aD9teFV0aWxzLnBhcnNlWG1sKGEpLmRvY3VtZW50RWxlbWVudDpudWxsO3ZhciBiPUVkaXRvci5leHRyYWN0UGFyc2VyRXJyb3IoYSwKbXhSZXNvdXJjZXMuZ2V0KCJpbnZhbGlkT3JNaXNzaW5nRmlsZSIpKTtpZihiKXRocm93IEVycm9yKG14UmVzb3VyY2VzLmdldCgibm90QURpYWdyYW1GaWxlIikrIiAoIitiKyIpIik7Yj1udWxsIT1hP3RoaXMuZWRpdG9yLmV4dHJhY3RHcmFwaE1vZGVsKGEsITApOm51bGw7bnVsbCE9YiYmKGE9Yik7aWYobnVsbCE9YSYmIm14ZmlsZSI9PWEubm9kZU5hbWUmJihiPWEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImRpYWdyYW0iKSwiMCIhPXVybFBhcmFtcy5wYWdlc3x8MTxiLmxlbmd0aHx8MT09Yi5sZW5ndGgmJmJbMF0uaGFzQXR0cmlidXRlKCJuYW1lIikpKXt2YXIgYz1udWxsO3RoaXMuZmlsZU5vZGU9YTt0aGlzLnBhZ2VzPVtdO2Zvcih2YXIgZD0wO2Q8Yi5sZW5ndGg7ZCsrKW51bGw9PWJbZF0uZ2V0QXR0cmlidXRlKCJpZCIpJiZiW2RdLnNldEF0dHJpYnV0ZSgiaWQiLGQpLGE9bmV3IERpYWdyYW1QYWdlKGJbZF0pLG51bGw9PWEuZ2V0TmFtZSgpJiZhLnNldE5hbWUobXhSZXNvdXJjZXMuZ2V0KCJwYWdlV2l0aE51bWJlciIsCltkKzFdKSksdGhpcy5wYWdlcy5wdXNoKGEpLG51bGwhPXVybFBhcmFtc1sicGFnZS1pZCJdJiZhLmdldElkKCk9PXVybFBhcmFtc1sicGFnZS1pZCJdJiYoYz1hKTt0aGlzLmN1cnJlbnRQYWdlPW51bGwhPWM/Yzp0aGlzLnBhZ2VzW01hdGgubWF4KDAsTWF0aC5taW4odGhpcy5wYWdlcy5sZW5ndGgtMSx1cmxQYXJhbXMucGFnZXx8MCkpXTthPXRoaXMuY3VycmVudFBhZ2Uubm9kZX0iMCIhPXVybFBhcmFtcy5wYWdlcyYmbnVsbD09dGhpcy5maWxlTm9kZSYmbnVsbCE9YSYmKHRoaXMuZmlsZU5vZGU9YS5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIm14ZmlsZSIpLHRoaXMuY3VycmVudFBhZ2U9bmV3IERpYWdyYW1QYWdlKGEub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaWFncmFtIikpLHRoaXMuY3VycmVudFBhZ2Uuc2V0TmFtZShteFJlc291cmNlcy5nZXQoInBhZ2VXaXRoTnVtYmVyIixbMV0pKSx0aGlzLnBhZ2VzPVt0aGlzLmN1cnJlbnRQYWdlXSk7dGhpcy5lZGl0b3Iuc2V0R3JhcGhYbWwoYSk7Cm51bGwhPXRoaXMuY3VycmVudFBhZ2UmJih0aGlzLmN1cnJlbnRQYWdlLnJvb3Q9dGhpcy5lZGl0b3IuZ3JhcGgubW9kZWwucm9vdCk7aWYobnVsbCE9dXJsUGFyYW1zWyJsYXllci1pZHMiXSl0cnl7dmFyIGY9dXJsUGFyYW1zWyJsYXllci1pZHMiXS5zcGxpdCgiICIpO2E9e307Zm9yKGQ9MDtkPGYubGVuZ3RoO2QrKylhW2ZbZF1dPSEwO2Zvcih2YXIgcD10aGlzLmVkaXRvci5ncmFwaC5nZXRNb2RlbCgpLGs9cC5nZXRDaGlsZHJlbihwLnJvb3QpLGQ9MDtkPGsubGVuZ3RoO2QrKyl7dmFyIHQ9a1tkXTtwLnNldFZpc2libGUodCxhW3QuaWRdfHwhMSl9fWNhdGNoKHkpe319O0VkaXRvclVpLnByb3RvdHlwZS5nZXRCYXNlRmlsZW5hbWU9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5nZXRDdXJyZW50RmlsZSgpLGI9bnVsbCE9YiYmbnVsbCE9Yi5nZXRUaXRsZSgpP2IuZ2V0VGl0bGUoKTp0aGlzLmRlZmF1bHRGaWxlbmFtZTtpZigvKFwueG1sKSQvaS50ZXN0KGIpfHwvKFwuaHRtbCkkL2kudGVzdChiKXx8Ci8oXC5zdmcpJC9pLnRlc3QoYil8fC8oXC5wbmcpJC9pLnRlc3QoYil8fC8oXC5kcmF3aW8pJC9pLnRlc3QoYikpYj1iLnN1YnN0cmluZygwLGIubGFzdEluZGV4T2YoIi4iKSk7IWEmJm51bGwhPXRoaXMucGFnZXMmJjE8dGhpcy5wYWdlcy5sZW5ndGgmJm51bGwhPXRoaXMuY3VycmVudFBhZ2UmJm51bGwhPXRoaXMuY3VycmVudFBhZ2Uubm9kZS5nZXRBdHRyaWJ1dGUoIm5hbWUiKSYmMDx0aGlzLmN1cnJlbnRQYWdlLmdldE5hbWUoKS5sZW5ndGgmJihiPWIrIi0iK3RoaXMuY3VycmVudFBhZ2UuZ2V0TmFtZSgpKTtyZXR1cm4gYn07RWRpdG9yVWkucHJvdG90eXBlLmRvd25sb2FkRmlsZT1mdW5jdGlvbihhLGUsYyxkLGYscCxrLHQsbSx4LHEpe3RyeXtkPW51bGwhPWQ/ZDp0aGlzLmVkaXRvci5ncmFwaC5pc1NlbGVjdGlvbkVtcHR5KCk7dmFyIGI9dGhpcy5nZXRCYXNlRmlsZW5hbWUoIWYpLGc9YisiLiIrYTtpZigieG1sIj09YSl7dmFyIGw9Jzw/eG1sIHZlcnNpb249IjEuMCIgZW5jb2Rpbmc9IlVURi04Ij8+XG4nKwp0aGlzLmdldEZpbGVEYXRhKCEwLG51bGwsbnVsbCxudWxsLGQsZixudWxsLG51bGwsbnVsbCxlKTt0aGlzLnNhdmVEYXRhKGcsYSxsLCJ0ZXh0L3htbCIpfWVsc2UgaWYoImh0bWwiPT1hKWw9dGhpcy5nZXRIdG1sMih0aGlzLmdldEZpbGVEYXRhKCEwKSx0aGlzLmVkaXRvci5ncmFwaCxiKSx0aGlzLnNhdmVEYXRhKGcsYSxsLCJ0ZXh0L2h0bWwiKTtlbHNlIGlmKCJzdmciIT1hJiYieG1sc3ZnIiE9YXx8IXRoaXMuc3Bpbm5lci5zcGluKGRvY3VtZW50LmJvZHksbXhSZXNvdXJjZXMuZ2V0KCJleHBvcnQiKSkpInhtbHBuZyI9PWE/Zz1iKyIucG5nIjoianBlZyI9PWEmJihnPWIrIi5qcGciKSx0aGlzLnNhdmVSZXF1ZXN0KGcsYSxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihiLGUpe3RyeXt2YXIgYz10aGlzLmVkaXRvci5ncmFwaC5wYWdlVmlzaWJsZTtudWxsIT1wJiYodGhpcy5lZGl0b3IuZ3JhcGgucGFnZVZpc2libGU9cCk7dmFyIGc9dGhpcy5jcmVhdGVEb3dubG9hZFJlcXVlc3QoYiwKYSxkLGUsayxmLHQsbSx4LHEpO3RoaXMuZWRpdG9yLmdyYXBoLnBhZ2VWaXNpYmxlPWM7cmV0dXJuIGd9Y2F0Y2goTSl7dGhpcy5oYW5kbGVFcnJvcihNKX19KSk7ZWxzZXt2YXIgbj1udWxsLHk9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7YS5sZW5ndGg8PU1BWF9SRVFVRVNUX1NJWkU/dGhpcy5zYXZlRGF0YShnLCJzdmciLGEsImltYWdlL3N2Zyt4bWwiKTp0aGlzLmhhbmRsZUVycm9yKHttZXNzYWdlOm14UmVzb3VyY2VzLmdldCgiZHJhd2luZ1Rvb0xhcmdlIil9LG14UmVzb3VyY2VzLmdldCgiZXJyb3IiKSxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe214VXRpbHMucG9wdXAobil9KSl9KTtpZigic3ZnIj09YSl7dmFyIHY9dGhpcy5lZGl0b3IuZ3JhcGguYmFja2dyb3VuZDtpZihrfHx2PT1teENvbnN0YW50cy5OT05FKXY9bnVsbDt2YXIgQz10aGlzLmVkaXRvci5ncmFwaC5nZXRTdmcodixudWxsLG51bGwsbnVsbCxudWxsLGQpO2MmJnRoaXMuZWRpdG9yLmdyYXBoLmFkZFN2Z1NoYWRvdyhDKTsKdGhpcy5lZGl0b3IuY29udmVydEltYWdlcyhDLG14VXRpbHMuYmluZCh0aGlzLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3RoaXMuc3Bpbm5lci5zdG9wKCk7eSgnPD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz5cbjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+XG4nK214VXRpbHMuZ2V0WG1sKGEpKX0pKSl9ZWxzZSBnPWIrIi5zdmciLG49dGhpcy5nZXRGaWxlRGF0YSghMSwhMCxudWxsLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3RoaXMuc3Bpbm5lci5zdG9wKCk7eShhKX0pLGQpfX1jYXRjaChKKXt0aGlzLmhhbmRsZUVycm9yKEopfX07RWRpdG9yVWkucHJvdG90eXBlLmNyZWF0ZURvd25sb2FkUmVxdWVzdD1mdW5jdGlvbihhLGUsYyxkLGYscCxrLHQsbSx4KXt2YXIgYj10aGlzLmVkaXRvci5ncmFwaCxnPWIuZ2V0R3JhcGhCb3VuZHMoKTsKYz10aGlzLmdldEZpbGVEYXRhKCEwLG51bGwsbnVsbCxudWxsLGMsMD09cD8hMToieG1scG5nIiE9ZSk7dmFyIGw9IiIsbj0iIjtpZihnLndpZHRoKmcuaGVpZ2h0Pk1BWF9BUkVBfHxjLmxlbmd0aD5NQVhfUkVRVUVTVF9TSVpFKXRocm93e21lc3NhZ2U6bXhSZXNvdXJjZXMuZ2V0KCJkcmF3aW5nVG9vTGFyZ2UiKX07eD14PyIxIjoiMCI7InBkZiI9PWUmJjA9PXAmJihuPSImYWxsUGFnZXM9MSIpO2lmKCJ4bWxwbmciPT1lJiYoeD0iMSIsZT0icG5nIixudWxsIT10aGlzLnBhZ2VzJiZudWxsIT10aGlzLmN1cnJlbnRQYWdlKSlmb3IocD0wO3A8dGhpcy5wYWdlcy5sZW5ndGg7cCsrKWlmKHRoaXMucGFnZXNbcF09PXRoaXMuY3VycmVudFBhZ2Upe2w9IiZmcm9tPSIrcDticmVha31wPWIuYmFja2dyb3VuZDsicG5nIj09ZSYmZj9wPW14Q29uc3RhbnRzLk5PTkU6Znx8bnVsbCE9cCYmcCE9bXhDb25zdGFudHMuTk9ORXx8KHA9IiNmZmZmZmYiKTtmPXtnbG9iYWxWYXJzOmIuZ2V0RXhwb3J0VmFyaWFibGVzKCl9OwptJiYoZi5ncmlkPXtzaXplOmIuZ3JpZFNpemUsc3RlcHM6Yi52aWV3LmdyaWRTdGVwcyxjb2xvcjpiLnZpZXcuZ3JpZENvbG9yfSk7cmV0dXJuIG5ldyBteFhtbFJlcXVlc3QoRVhQT1JUX1VSTCwiZm9ybWF0PSIrZStsK24rIiZiZz0iKyhudWxsIT1wP3A6bXhDb25zdGFudHMuTk9ORSkrIiZiYXNlNjQ9IitkKyImZW1iZWRYbWw9Iit4KyImeG1sPSIrZW5jb2RlVVJJQ29tcG9uZW50KGMpKyhudWxsIT1hPyImZmlsZW5hbWU9IitlbmNvZGVVUklDb21wb25lbnQoYSk6IiIpKyImZXh0cmFzPSIrZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KGYpKSsobnVsbCE9az8iJnNjYWxlPSIrazoiIikrKG51bGwhPXQ/IiZib3JkZXI9Iit0OiIiKSl9O0VkaXRvclVpLnByb3RvdHlwZS5zZXRNb2RlPWZ1bmN0aW9uKGEsZSl7dGhpcy5tb2RlPWF9O0VkaXRvclVpLnByb3RvdHlwZS5sb2FkRGVzY3JpcHRvcj1mdW5jdGlvbihhLGUsYyl7dmFyIGI9d2luZG93LmxvY2F0aW9uLmhhc2gsCmQ9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYyl7dmFyIGQ9bnVsbCE9YS5kYXRhP2EuZGF0YToiIjtudWxsIT1jJiYwPGMubGVuZ3RoJiYoMDxkLmxlbmd0aCYmKGQrPSJcbiIpLGQrPWMpO2M9bmV3IExvY2FsRmlsZSh0aGlzLCJjc3YiIT1hLmZvcm1hdCYmMDxkLmxlbmd0aD9kOnRoaXMuZW1wdHlEaWFncmFtWG1sLG51bGwhPXVybFBhcmFtcy50aXRsZT9kZWNvZGVVUklDb21wb25lbnQodXJsUGFyYW1zLnRpdGxlKTp0aGlzLmRlZmF1bHRGaWxlbmFtZSwhMCk7Yy5nZXRIYXNoPWZ1bmN0aW9uKCl7cmV0dXJuIGJ9O3RoaXMuZmlsZUxvYWRlZChjKTsiY3N2Ij09YS5mb3JtYXQmJnRoaXMuaW1wb3J0Q3N2KGQsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7dGhpcy5lZGl0b3IudW5kb01hbmFnZXIuY2xlYXIoKTt0aGlzLmVkaXRvci5zZXRNb2RpZmllZCghMSk7dGhpcy5lZGl0b3Iuc2V0U3RhdHVzKCIiKX0pKTtpZihudWxsIT1hLnVwZGF0ZSl7dmFyIGY9bnVsbCE9YS5pbnRlcnZhbD8KcGFyc2VJbnQoYS5pbnRlcnZhbCk6NkU0LGc9bnVsbCxsPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5jdXJyZW50UGFnZTtteFV0aWxzLnBvc3QoYS51cGRhdGUsInhtbD0iK2VuY29kZVVSSUNvbXBvbmVudChteFV0aWxzLmdldFhtbCh0aGlzLmVkaXRvci5nZXRHcmFwaFhtbCgpKSksbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7Yj09PXRoaXMuY3VycmVudFBhZ2UmJigyMDA8PWEuZ2V0U3RhdHVzKCkmJjMwMD49YS5nZXRTdGF0dXMoKT8odGhpcy51cGRhdGVEaWFncmFtKGEuZ2V0VGV4dCgpKSxuKCkpOnRoaXMuaGFuZGxlRXJyb3Ioe21lc3NhZ2U6bXhSZXNvdXJjZXMuZ2V0KCJlcnJvciIpKyIgIithLmdldFN0YXR1cygpfSkpfSksbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7dGhpcy5oYW5kbGVFcnJvcihhKX0pKX0pLG49bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt3aW5kb3cuY2xlYXJUaW1lb3V0KGcpO2c9d2luZG93LnNldFRpbWVvdXQobCwKZil9KTt0aGlzLmVkaXRvci5hZGRMaXN0ZW5lcigicGFnZVNlbGVjdGVkIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe24oKTtsKCl9KSk7bigpO2woKX1udWxsIT1lJiZlKCl9KTtpZihudWxsIT1hLnVybCYmMDxhLnVybC5sZW5ndGgpe3ZhciBmPWEudXJsOy9eaHR0cHM/OlwvXC8vLnRlc3QoZikmJiF0aGlzLmVkaXRvci5pc0NvcnNFbmFibGVkRm9yVXJsKGYpJiYoZj1QUk9YWV9VUkwrIj91cmw9IitlbmNvZGVVUklDb21wb25lbnQoZikpO3RoaXMuZWRpdG9yLmxvYWRVcmwoZixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXtkKGEpfSksbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7bnVsbCE9YyYmYyhhKX0pKX1lbHNlIGQoIiIpfTtFZGl0b3JVaS5wcm90b3R5cGUudXBkYXRlRGlhZ3JhbT1mdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEpe3ZhciBiPW5ldyBteENlbGxPdmVybGF5KGEuaW1hZ2V8fGYud2FybmluZ0ltYWdlLGEudG9vbHRpcCxhLmFsaWduLGEudmFsaWduLAphLm9mZnNldCk7Yi5hZGRMaXN0ZW5lcihteEV2ZW50LkNMSUNLLGZ1bmN0aW9uKGIsZSl7ZC5hbGVydChhLnRvb2x0aXApfSk7cmV0dXJuIGJ9dmFyIGM9bnVsbCxkPXRoaXM7aWYobnVsbCE9YSYmMDxhLmxlbmd0aCYmKGM9bXhVdGlscy5wYXJzZVhtbChhKSxhPW51bGwhPWM/Yy5kb2N1bWVudEVsZW1lbnQ6bnVsbCxudWxsIT1hJiYidXBkYXRlcyI9PWEubm9kZU5hbWUpKXt2YXIgZj10aGlzLmVkaXRvci5ncmFwaCxwPWYuZ2V0TW9kZWwoKTtwLmJlZ2luVXBkYXRlKCk7dmFyIGs9bnVsbDt0cnl7Zm9yKGE9YS5maXJzdENoaWxkO251bGwhPWE7KXtpZigidXBkYXRlIj09YS5ub2RlTmFtZSl7dmFyIHQ9cC5nZXRDZWxsKGEuZ2V0QXR0cmlidXRlKCJpZCIpKTtpZihudWxsIT10KXt0cnl7dmFyIG09YS5nZXRBdHRyaWJ1dGUoInZhbHVlIik7aWYobnVsbCE9bSl7dmFyIHg9bXhVdGlscy5wYXJzZVhtbChtKS5kb2N1bWVudEVsZW1lbnQ7aWYobnVsbCE9eClpZigiMSI9PXguZ2V0QXR0cmlidXRlKCJyZXBsYWNlLXZhbHVlIikpcC5zZXRWYWx1ZSh0LAp4KTtlbHNlIGZvcih2YXIgcT14LmF0dHJpYnV0ZXMsQj0wO0I8cS5sZW5ndGg7QisrKWYuc2V0QXR0cmlidXRlRm9yQ2VsbCh0LHFbQl0ubm9kZU5hbWUsMDxxW0JdLm5vZGVWYWx1ZS5sZW5ndGg/cVtCXS5ub2RlVmFsdWU6bnVsbCl9fWNhdGNoKHUpe251bGwhPXdpbmRvdy5jb25zb2xlJiZjb25zb2xlLmxvZygiRXJyb3IgaW4gdmFsdWUgZm9yICIrdC5pZCsiOiAiK3UpfXRyeXt2YXIgRD1hLmdldEF0dHJpYnV0ZSgic3R5bGUiKTtudWxsIT1EJiZmLm1vZGVsLnNldFN0eWxlKHQsRCl9Y2F0Y2godSl7bnVsbCE9d2luZG93LmNvbnNvbGUmJmNvbnNvbGUubG9nKCJFcnJvciBpbiBzdHlsZSBmb3IgIit0LmlkKyI6ICIrdSl9dHJ5e3ZhciB6PWEuZ2V0QXR0cmlidXRlKCJpY29uIik7aWYobnVsbCE9eil7dmFyIEU9MDx6Lmxlbmd0aD9KU09OLnBhcnNlKHopOm51bGw7bnVsbCE9RSYmRS5hcHBlbmR8fGYucmVtb3ZlQ2VsbE92ZXJsYXlzKHQpO251bGwhPUUmJmYuYWRkQ2VsbE92ZXJsYXkodCwKYihFKSl9fWNhdGNoKHUpe251bGwhPXdpbmRvdy5jb25zb2xlJiZjb25zb2xlLmxvZygiRXJyb3IgaW4gaWNvbiBmb3IgIit0LmlkKyI6ICIrdSl9dHJ5e3ZhciBHPWEuZ2V0QXR0cmlidXRlKCJnZW9tZXRyeSIpO2lmKG51bGwhPUcpe3ZhciBHPUpTT04ucGFyc2UoRyksRj1mLmdldENlbGxHZW9tZXRyeSh0KTtpZihudWxsIT1GKXtGPUYuY2xvbmUoKTtmb3Ioa2V5IGluIEcpe3ZhciBIPXBhcnNlRmxvYXQoR1trZXldKTsiZHgiPT1rZXk/Ri54Kz1IOiJkeSI9PWtleT9GLnkrPUg6ImR3Ij09a2V5P0Yud2lkdGgrPUg6ImRoIj09a2V5P0YuaGVpZ2h0Kz1IOkZba2V5XT1wYXJzZUZsb2F0KEdba2V5XSl9Zi5tb2RlbC5zZXRHZW9tZXRyeSh0LEYpfX19Y2F0Y2godSl7bnVsbCE9d2luZG93LmNvbnNvbGUmJmNvbnNvbGUubG9nKCJFcnJvciBpbiBpY29uIGZvciAiK3QuaWQrIjogIit1KX19fWVsc2UgaWYoIm1vZGVsIj09YS5ub2RlTmFtZSl7Zm9yKHZhciBKPWEuZmlyc3RDaGlsZDtudWxsIT0KSiYmSi5ub2RlVHlwZSE9bXhDb25zdGFudHMuTk9ERVRZUEVfRUxFTUVOVDspSj1KLm5leHRTaWJsaW5nO251bGwhPUomJihuZXcgbXhDb2RlYyhhLmZpcnN0Q2hpbGQpKS5kZWNvZGUoSixwKX1lbHNlIGlmKCJ2aWV3Ij09YS5ub2RlTmFtZSl7aWYoYS5oYXNBdHRyaWJ1dGUoInNjYWxlIikmJihmLnZpZXcuc2NhbGU9cGFyc2VGbG9hdChhLmdldEF0dHJpYnV0ZSgic2NhbGUiKSkpLGEuaGFzQXR0cmlidXRlKCJkeCIpfHxhLmhhc0F0dHJpYnV0ZSgiZHkiKSlmLnZpZXcudHJhbnNsYXRlPW5ldyBteFBvaW50KHBhcnNlRmxvYXQoYS5nZXRBdHRyaWJ1dGUoImR4Iil8fDApLHBhcnNlRmxvYXQoYS5nZXRBdHRyaWJ1dGUoImR5Iil8fDApKX1lbHNlImZpdCI9PWEubm9kZU5hbWUmJihrPWEuaGFzQXR0cmlidXRlKCJtYXgtc2NhbGUiKT9wYXJzZUZsb2F0KGEuZ2V0QXR0cmlidXRlKCJtYXgtc2NhbGUiKSk6MSk7YT1hLm5leHRTaWJsaW5nfX1maW5hbGx5e3AuZW5kVXBkYXRlKCl9bnVsbCE9CmsmJnRoaXMuY2hyb21lbGVzc1Jlc2l6ZSYmdGhpcy5jaHJvbWVsZXNzUmVzaXplKCEwLGspfXJldHVybiBjfTtFZGl0b3JVaS5wcm90b3R5cGUuZ2V0Q29weUZpbGVuYW1lPWZ1bmN0aW9uKGEsZSl7dmFyIGI9bnVsbCE9YSYmbnVsbCE9YS5nZXRUaXRsZSgpP2EuZ2V0VGl0bGUoKTp0aGlzLmRlZmF1bHRGaWxlbmFtZSxjPSIiLGQ9Yi5sYXN0SW5kZXhPZigiLiIpOzA8PWQmJihjPWIuc3Vic3RyaW5nKGQpLGI9Yi5zdWJzdHJpbmcoMCxkKSk7aWYoZSl2YXIgZj1uZXcgRGF0ZSxkPWYuZ2V0RnVsbFllYXIoKSxrPWYuZ2V0TW9udGgoKSsxLHQ9Zi5nZXREYXRlKCksbT1mLmdldEhvdXJzKCkseD1mLmdldE1pbnV0ZXMoKSxmPWYuZ2V0U2Vjb25kcygpLGI9YisoIiAiKyhkKyItIitrKyItIit0KyItIittKyItIit4KyItIitmKSk7cmV0dXJuIGI9bXhSZXNvdXJjZXMuZ2V0KCJjb3B5T2YiLFtiXSkrY307RWRpdG9yVWkucHJvdG90eXBlLmZpbGVMb2FkZWQ9ZnVuY3Rpb24oYSxlKXt2YXIgYj0KdGhpcy5nZXRDdXJyZW50RmlsZSgpO3RoaXMuZmlsZUxvYWRlZEVycm9yPW51bGw7dGhpcy5zZXRDdXJyZW50RmlsZShudWxsKTt2YXIgYz0hMTt0aGlzLmhpZGVEaWFsb2coKTtudWxsIT1iJiYoRWRpdG9yVWkuZGVidWcoIkZpbGUuY2xvc2VkIixbYl0pLGIucmVtb3ZlTGlzdGVuZXIodGhpcy5kZXNjcmlwdG9yQ2hhbmdlZExpc3RlbmVyKSxiLmNsb3NlKCkpO3RoaXMuZWRpdG9yLmdyYXBoLm1vZGVsLmNsZWFyKCk7dGhpcy5lZGl0b3IudW5kb01hbmFnZXIuY2xlYXIoKTt2YXIgZD1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMuc2V0R3JhcGhFbmFibGVkKCExKTt0aGlzLnNldEN1cnJlbnRGaWxlKG51bGwpO251bGwhPWImJnRoaXMudXBkYXRlRG9jdW1lbnRUaXRsZSgpO3RoaXMuZWRpdG9yLmdyYXBoLm1vZGVsLmNsZWFyKCk7dGhpcy5lZGl0b3IudW5kb01hbmFnZXIuY2xlYXIoKTt0aGlzLnNldEJhY2tncm91bmRJbWFnZShudWxsKTshZSYmbnVsbCE9d2luZG93LmxvY2F0aW9uLmhhc2gmJgowPHdpbmRvdy5sb2NhdGlvbi5oYXNoLmxlbmd0aCYmKHdpbmRvdy5sb2NhdGlvbi5oYXNoPSIiKTtudWxsIT10aGlzLmZuYW1lJiYodGhpcy5mbmFtZVdyYXBwZXIuc3R5bGUuZGlzcGxheT0ibm9uZSIsdGhpcy5mbmFtZS5pbm5lckhUTUw9IiIsdGhpcy5mbmFtZS5zZXRBdHRyaWJ1dGUoInRpdGxlIixteFJlc291cmNlcy5nZXQoInJlbmFtZSIpKSk7dGhpcy5lZGl0b3Iuc2V0U3RhdHVzKCIiKTt0aGlzLnVwZGF0ZVVpKCk7ZXx8dGhpcy5zaG93U3BsYXNoKCl9KTtpZihudWxsIT1hKXRyeXtteENsaWVudC5JU19TRiYmIm1pbiI9PXVpVGhlbWUmJih0aGlzLmRpYWdyYW1Db250YWluZXIuc3R5bGUudmlzaWJpbGl0eT0iIik7dGhpcy5vcGVuaW5nRmlsZT0hMDt0aGlzLnNldEN1cnJlbnRGaWxlKGEpO2EuYWRkTGlzdGVuZXIoImRlc2NyaXB0b3JDaGFuZ2VkIix0aGlzLmRlc2NyaXB0b3JDaGFuZ2VkTGlzdGVuZXIpO2EuYWRkTGlzdGVuZXIoImNvbnRlbnRDaGFuZ2VkIix0aGlzLmRlc2NyaXB0b3JDaGFuZ2VkTGlzdGVuZXIpOwphLm9wZW4oKTtkZWxldGUgdGhpcy5vcGVuaW5nRmlsZTt0aGlzLnNldEdyYXBoRW5hYmxlZCghMCk7dGhpcy5zZXRNb2RlKGEuZ2V0TW9kZSgpKTt0aGlzLmVkaXRvci5ncmFwaC5tb2RlbC5wcmVmaXg9RWRpdG9yLmd1aWQoKSsiLSI7dGhpcy5lZGl0b3IudW5kb01hbmFnZXIuY2xlYXIoKTt0aGlzLmRlc2NyaXB0b3JDaGFuZ2VkKCk7dGhpcy51cGRhdGVVaSgpO2EuaXNFZGl0YWJsZSgpP2EuaXNNb2RpZmllZCgpPyhhLmFkZFVuc2F2ZWRTdGF0dXMoKSxudWxsIT1hLmJhY2t1cFBhdGNoJiZhLnBhdGNoKFthLmJhY2t1cFBhdGNoXSkpOnRoaXMuZWRpdG9yLnNldFN0YXR1cygiIik6dGhpcy5lZGl0b3Iuc2V0U3RhdHVzKCc8c3BhbiBjbGFzcz0iZ2VTdGF0dXNBbGVydCIgc3R5bGU9Im1hcmdpbi1sZWZ0OjhweDsiPicrbXhVdGlscy5odG1sRW50aXRpZXMobXhSZXNvdXJjZXMuZ2V0KCJyZWFkT25seSIpKSsiPC9zcGFuPiIpOyF0aGlzLmVkaXRvci5pc0Nocm9tZWxlc3NWaWV3KCl8fAp0aGlzLmVkaXRvci5lZGl0YWJsZT8odGhpcy5lZGl0b3IuZ3JhcGguc2VsZWN0VW5sb2NrZWRMYXllcigpLHRoaXMuc2hvd0xheWVyc0RpYWxvZygpLHRoaXMucmVzdG9yZUxpYnJhcmllcygpLHdpbmRvdy5zZWxmIT09d2luZG93LnRvcCYmd2luZG93LmZvY3VzKCkpOnRoaXMuZWRpdG9yLmdyYXBoLmlzTGlnaHRib3hWaWV3KCkmJnRoaXMubGlnaHRib3hGaXQoKTt0aGlzLmNocm9tZWxlc3NSZXNpemUmJnRoaXMuY2hyb21lbGVzc1Jlc2l6ZSgpO3RoaXMuZWRpdG9yLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdCgiZmlsZUxvYWRlZCIpKTtjPSEwO3RoaXMuaXNPZmZsaW5lKCl8fG51bGw9PWEuZ2V0TW9kZSgpfHxFZGl0b3JVaS5sb2dFdmVudCh7Y2F0ZWdvcnk6YS5nZXRNb2RlKCkudG9VcHBlckNhc2UoKSsiLU9QRU4tRklMRS0iK2EuZ2V0SGFzaCgpLGFjdGlvbjoic2l6ZV8iK2EuZ2V0U2l6ZSgpLGxhYmVsOiJhdXRvc2F2ZV8iKyh0aGlzLmVkaXRvci5hdXRvc2F2ZT8ib24iOgoib2ZmIil9KTtFZGl0b3JVaS5kZWJ1ZygiRmlsZS5vcGVuZWQiLFthXSk7aWYodGhpcy5lZGl0b3IuZWRpdGFibGUmJnRoaXMubW9kZT09YS5nZXRNb2RlKCkmJmEuZ2V0TW9kZSgpIT1BcHAuTU9ERV9ERVZJQ0UmJm51bGwhPWEuZ2V0TW9kZSgpKXRyeXt0aGlzLmFkZFJlY2VudCh7aWQ6YS5nZXRIYXNoKCksdGl0bGU6YS5nZXRUaXRsZSgpLG1vZGU6YS5nZXRNb2RlKCl9KX1jYXRjaCh2KXt9dHJ5e214U2V0dGluZ3Muc2V0T3BlbkNvdW50ZXIobXhTZXR0aW5ncy5nZXRPcGVuQ291bnRlcigpKzEpLG14U2V0dGluZ3Muc2F2ZSgpfWNhdGNoKHYpe319Y2F0Y2godil7dGhpcy5maWxlTG9hZGVkRXJyb3I9djtpZihFZGl0b3JVaS5lbmFibGVMb2dnaW5nJiYhdGhpcy5pc09mZmxpbmUoKSl0cnl7RWRpdG9yVWkubG9nRXZlbnQoe2NhdGVnb3J5OiJFUlJPUi1MT0FELUZJTEUtIisobnVsbCE9YT9hLmdldEhhc2goKToibm9uZSIpLGFjdGlvbjoibWVzc2FnZV8iK3YubWVzc2FnZSxsYWJlbDoic3RhY2tfIisKdi5zdGFja30pfWNhdGNoKHQpe312YXIgZj1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe251bGwhPXVybFBhcmFtcy51cmwmJnRoaXMuc3Bpbm5lci5zcGluKGRvY3VtZW50LmJvZHksbXhSZXNvdXJjZXMuZ2V0KCJyZWNvbm5lY3RpbmciKSk/d2luZG93LmxvY2F0aW9uLnNlYXJjaD10aGlzLmdldFNlYXJjaChbInVybCJdKTpudWxsIT1iP3RoaXMuZmlsZUxvYWRlZChiKTpkKCl9KTtlP2YoKTp0aGlzLmhhbmRsZUVycm9yKHYsbXhSZXNvdXJjZXMuZ2V0KCJlcnJvckxvYWRpbmdGaWxlIiksZiwhMCxudWxsLG51bGwsITApfWVsc2UgZCgpO3JldHVybiBjfTtFZGl0b3JVaS5wcm90b3R5cGUuZ2V0SGFzaFZhbHVlRm9yUGFnZXM9ZnVuY3Rpb24oYSxlKXt2YXIgYj0wLGM9bmV3IG14R3JhcGhNb2RlbCxkPW5ldyBteENvZGVjO251bGwhPWUmJihlLmJ5dGVDb3VudD0wLGUuYXR0ckNvdW50PTAsZS5lbHRDb3VudD0wLGUubm9kZUNvdW50PTApO2Zvcih2YXIgZj0wO2Y8YS5sZW5ndGg7ZisrKXt0aGlzLnVwZGF0ZVBhZ2VSb290KGFbZl0pOwp2YXIgaz1hW2ZdLm5vZGUuY2xvbmVOb2RlKCExKTtrLnJlbW92ZUF0dHJpYnV0ZSgibmFtZSIpO2Mucm9vdD1hW2ZdLnJvb3Q7dmFyIHQ9ZC5lbmNvZGUoYyk7dGhpcy5lZGl0b3IuZ3JhcGguc2F2ZVZpZXdTdGF0ZShhW2ZdLnZpZXdTdGF0ZSx0LCEwKTt0LnJlbW92ZUF0dHJpYnV0ZSgicGFnZVdpZHRoIik7dC5yZW1vdmVBdHRyaWJ1dGUoInBhZ2VIZWlnaHQiKTtrLmFwcGVuZENoaWxkKHQpO251bGwhPWUmJihlLmVsdENvdW50Kz1rLmdldEVsZW1lbnRzQnlUYWdOYW1lKCIqIikubGVuZ3RoLGUubm9kZUNvdW50Kz1rLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJteENlbGwiKS5sZW5ndGgpO2I9KGI8PDUpLWIrdGhpcy5oYXNoVmFsdWUoayxmdW5jdGlvbihhLGIsZSxjKXtyZXR1cm4hY3x8Im14R2VvbWV0cnkiIT1hLm5vZGVOYW1lJiYibXhQb2ludCIhPWEubm9kZU5hbWV8fCJ4IiE9YiYmInkiIT1iJiYid2lkdGgiIT1iJiYiaGVpZ2h0IiE9Yj9jJiYibXhDZWxsIj09YS5ub2RlTmFtZSYmCiJwcmV2aW91cyI9PWI/bnVsbDplOk1hdGgucm91bmQoZSl9LGUpPDwwfXJldHVybiBifTtFZGl0b3JVaS5wcm90b3R5cGUuaGFzaFZhbHVlPWZ1bmN0aW9uKGEsZSxjKXt2YXIgYj0wO2lmKG51bGwhPWEmJiJvYmplY3QiPT09dHlwZW9mIGEmJiJudW1iZXIiPT09dHlwZW9mIGEubm9kZVR5cGUmJiJzdHJpbmciPT09dHlwZW9mIGEubm9kZU5hbWUmJiJmdW5jdGlvbiI9PT10eXBlb2YgYS5nZXRBdHRyaWJ1dGUpe251bGwhPWEubm9kZU5hbWUmJihiXj10aGlzLmhhc2hWYWx1ZShhLm5vZGVOYW1lLGUsYykpO2lmKG51bGwhPWEuYXR0cmlidXRlcyl7bnVsbCE9YyYmKGMuYXR0ckNvdW50Kz1hLmF0dHJpYnV0ZXMubGVuZ3RoKTtmb3IodmFyIGQ9MDtkPGEuYXR0cmlidXRlcy5sZW5ndGg7ZCsrKXt2YXIgZj1hLmF0dHJpYnV0ZXNbZF0ubmFtZSxnPW51bGwhPWU/ZShhLGYsYS5hdHRyaWJ1dGVzW2RdLnZhbHVlLCEwKTphLmF0dHJpYnV0ZXNbZF0udmFsdWU7bnVsbCE9ZyYmKGJePXRoaXMuaGFzaFZhbHVlKGYsCmUsYykrdGhpcy5oYXNoVmFsdWUoZyxlLGMpKX19aWYobnVsbCE9YS5jaGlsZE5vZGVzKWZvcihkPTA7ZDxhLmNoaWxkTm9kZXMubGVuZ3RoO2QrKyliPShiPDw1KS1iK3RoaXMuaGFzaFZhbHVlKGEuY2hpbGROb2Rlc1tkXSxlLGMpPDwwfWVsc2UgaWYobnVsbCE9YSYmImZ1bmN0aW9uIiE9PXR5cGVvZiBhKXthPVN0cmluZyhhKTtlPTA7bnVsbCE9YyYmKGMuYnl0ZUNvdW50Kz1hLmxlbmd0aCk7Zm9yKGQ9MDtkPGEubGVuZ3RoO2QrKyllPShlPDw1KS1lK2EuY2hhckNvZGVBdChkKTw8MDtiXj1lfXJldHVybiBifTtFZGl0b3JVaS5wcm90b3R5cGUuZGVzY3JpcHRvckNoYW5nZWQ9ZnVuY3Rpb24oKXt9O0VkaXRvclVpLnByb3RvdHlwZS5yZXN0b3JlTGlicmFyaWVzPWZ1bmN0aW9uKCl7fTtFZGl0b3JVaS5wcm90b3R5cGUuc2F2ZUxpYnJhcnk9ZnVuY3Rpb24oYSxjLGQsZixsLHAsayl7fTtFZGl0b3JVaS5wcm90b3R5cGUuaXNTY3JhdGNocGFkRW5hYmxlZD1mdW5jdGlvbigpe3JldHVybiBpc0xvY2FsU3RvcmFnZXx8Cm14Q2xpZW50LklTX0NIUk9NRUFQUH07RWRpdG9yVWkucHJvdG90eXBlLnRvZ2dsZVNjcmF0Y2hwYWQ9ZnVuY3Rpb24oKXt0aGlzLmlzU2NyYXRjaHBhZEVuYWJsZWQoKSYmKG51bGw9PXRoaXMuc2NyYXRjaHBhZD9TdG9yYWdlRmlsZS5nZXRGaWxlQ29udGVudCh0aGlzLCIuc2NyYXRjaHBhZCIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7bnVsbD09YSYmKGE9dGhpcy5lbXB0eUxpYnJhcnlYbWwpO3RoaXMubG9hZExpYnJhcnkobmV3IFN0b3JhZ2VMaWJyYXJ5KHRoaXMsYSwiLnNjcmF0Y2hwYWQiKSl9KSk6dGhpcy5jbG9zZUxpYnJhcnkodGhpcy5zY3JhdGNocGFkKSl9O0VkaXRvclVpLnByb3RvdHlwZS5jcmVhdGVMaWJyYXJ5RGF0YUZyb21JbWFnZXM9ZnVuY3Rpb24oYSl7dmFyIGI9bXhVdGlscy5jcmVhdGVYbWxEb2N1bWVudCgpLGM9Yi5jcmVhdGVFbGVtZW50KCJteGxpYnJhcnkiKTtteFV0aWxzLnNldFRleHRDb250ZW50KGMsSlNPTi5zdHJpbmdpZnkoYSkpO2IuYXBwZW5kQ2hpbGQoYyk7CnJldHVybiBteFV0aWxzLmdldFhtbChiKX07RWRpdG9yVWkucHJvdG90eXBlLmNsb3NlTGlicmFyeT1mdW5jdGlvbihhKXtudWxsIT1hJiYodGhpcy5yZW1vdmVMaWJyYXJ5U2lkZWJhcihhLmdldEhhc2goKSksYS5jb25zdHJ1Y3RvciE9TG9jYWxMaWJyYXJ5JiZteFNldHRpbmdzLnJlbW92ZUN1c3RvbUxpYnJhcnkoYS5nZXRIYXNoKCkpLCIuc2NyYXRjaHBhZCI9PWEudGl0bGUmJih0aGlzLnNjcmF0Y2hwYWQ9bnVsbCkpfTtFZGl0b3JVaS5wcm90b3R5cGUucmVtb3ZlTGlicmFyeVNpZGViYXI9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5zaWRlYmFyLnBhbGV0dGVzW2FdO2lmKG51bGwhPWIpe2Zvcih2YXIgYz0wO2M8Yi5sZW5ndGg7YysrKWJbY10ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChiW2NdKTtkZWxldGUgdGhpcy5zaWRlYmFyLnBhbGV0dGVzW2FdfX07RWRpdG9yVWkucHJvdG90eXBlLnJlcG9zaXRpb25MaWJyYXJ5PWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuc2lkZWJhci5jb250YWluZXI7CmlmKG51bGw9PWEpe3ZhciBjPXRoaXMuc2lkZWJhci5wYWxldHRlc1siTC5zY3JhdGNocGFkIl07bnVsbD09YyYmKGM9dGhpcy5zaWRlYmFyLnBhbGV0dGVzLnNlYXJjaCk7bnVsbCE9YyYmKGE9Y1tjLmxlbmd0aC0xXS5uZXh0U2libGluZyl9YT1udWxsIT1hP2E6Yi5maXJzdENoaWxkLm5leHRTaWJsaW5nLm5leHRTaWJsaW5nO3ZhciBjPWIubGFzdENoaWxkLGQ9Yy5wcmV2aW91c1NpYmxpbmc7Yi5pbnNlcnRCZWZvcmUoYyxhKTtiLmluc2VydEJlZm9yZShkLGMpfTtFZGl0b3JVaS5wcm90b3R5cGUubG9hZExpYnJhcnk9ZnVuY3Rpb24oYSxjKXt2YXIgYj1teFV0aWxzLnBhcnNlWG1sKGEuZ2V0RGF0YSgpKTtpZigibXhsaWJyYXJ5Ij09Yi5kb2N1bWVudEVsZW1lbnQubm9kZU5hbWUpe3ZhciBlPUpTT04ucGFyc2UobXhVdGlscy5nZXRUZXh0Q29udGVudChiLmRvY3VtZW50RWxlbWVudCkpO3RoaXMubGlicmFyeUxvYWRlZChhLGUsYi5kb2N1bWVudEVsZW1lbnQuZ2V0QXR0cmlidXRlKCJ0aXRsZSIpLApjKX1lbHNlIHRocm93e21lc3NhZ2U6bXhSZXNvdXJjZXMuZ2V0KCJub3RBTGlicmFyeUZpbGUiKX07fTtFZGl0b3JVaS5wcm90b3R5cGUuZ2V0TGlicmFyeVN0b3JhZ2VIaW50PWZ1bmN0aW9uKGEpe3JldHVybiIifTtFZGl0b3JVaS5wcm90b3R5cGUubGlicmFyeUxvYWRlZD1mdW5jdGlvbihhLGMsZCxmKXtpZihudWxsIT10aGlzLnNpZGViYXIpe2EuY29uc3RydWN0b3IhPUxvY2FsTGlicmFyeSYmbXhTZXR0aW5ncy5hZGRDdXN0b21MaWJyYXJ5KGEuZ2V0SGFzaCgpKTsiLnNjcmF0Y2hwYWQiPT1hLnRpdGxlJiYodGhpcy5zY3JhdGNocGFkPWEpO3ZhciBiPXRoaXMuc2lkZWJhci5wYWxldHRlc1thLmdldEhhc2goKV0sYj1udWxsIT1iP2JbYi5sZW5ndGgtMV0ubmV4dFNpYmxpbmc6bnVsbDt0aGlzLnJlbW92ZUxpYnJhcnlTaWRlYmFyKGEuZ2V0SGFzaCgpKTt2YXIgZT1udWxsLGc9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYixjKXswPT1iLmxlbmd0aCYmYS5pc0VkaXRhYmxlKCk/CihudWxsPT1lJiYoZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSxlLmNsYXNzTmFtZT0iZ2VEcm9wVGFyZ2V0IixteFV0aWxzLndyaXRlKGUsbXhSZXNvdXJjZXMuZ2V0KCJkcmFnRWxlbWVudHNIZXJlIikpKSxjLmFwcGVuZENoaWxkKGUpKTp0aGlzLmFkZExpYnJhcnlFbnRyaWVzKGIsYyl9KTtudWxsIT10aGlzLnNpZGViYXImJm51bGwhPWMmJnRoaXMuc2lkZWJhci5hZGRFbnRyaWVzKGMpO2Q9bnVsbCE9ZCYmMDxkLmxlbmd0aD9kOmEuZ2V0VGl0bGUoKTt2YXIgbj10aGlzLnNpZGViYXIuYWRkUGFsZXR0ZShhLmdldEhhc2goKSxkLG51bGwhPWY/ZjohMCxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXtnKGMsYSl9KSk7dGhpcy5yZXBvc2l0aW9uTGlicmFyeShiKTt2YXIgaz1uLnBhcmVudE5vZGUucHJldmlvdXNTaWJsaW5nO2Y9ay5nZXRBdHRyaWJ1dGUoInRpdGxlIik7bnVsbCE9ZiYmMDxmLmxlbmd0aCYmIi5zY3JhdGNocGFkIiE9YS50aXRsZSYmay5zZXRBdHRyaWJ1dGUoInRpdGxlIiwKdGhpcy5nZXRMaWJyYXJ5U3RvcmFnZUhpbnQoYSkrIlxuIitmKTt2YXIgbT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTttLnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSI7bS5zdHlsZS5yaWdodD0iMHB4IjttLnN0eWxlLnRvcD0iMHB4IjttLnN0eWxlLnBhZGRpbmc9IjhweCI7bXhDbGllbnQuSVNfUVVJUktTfHw4PT1kb2N1bWVudC5kb2N1bWVudE1vZGV8fChtLnN0eWxlLmJhY2tncm91bmRDb2xvcj0iaW5oZXJpdCIpO2suc3R5bGUucG9zaXRpb249InJlbGF0aXZlIjt2YXIgcT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbWciKTtxLnNldEF0dHJpYnV0ZSgic3JjIixEaWFsb2cucHJvdG90eXBlLmNsb3NlSW1hZ2UpO3Euc2V0QXR0cmlidXRlKCJ0aXRsZSIsbXhSZXNvdXJjZXMuZ2V0KCJjbG9zZSIpKTtxLnNldEF0dHJpYnV0ZSgidmFsaWduIiwiYWJzbWlkZGxlIik7cS5zZXRBdHRyaWJ1dGUoImJvcmRlciIsIjAiKTtxLnN0eWxlLmN1cnNvcj0icG9pbnRlciI7cS5zdHlsZS5tYXJnaW49CiIwIDNweCI7dmFyIEI9bnVsbDtpZigiLnNjcmF0Y2hwYWQiIT1hLnRpdGxlfHx0aGlzLmNsb3NhYmxlU2NyYXRjaHBhZCltLmFwcGVuZENoaWxkKHEpLG14RXZlbnQuYWRkTGlzdGVuZXIocSwiY2xpY2siLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGIpe2lmKCFteEV2ZW50LmlzQ29uc3VtZWQoYikpe3ZhciBjPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dGhpcy5jbG9zZUxpYnJhcnkoYSl9KTtudWxsIT1CP3RoaXMuY29uZmlybShteFJlc291cmNlcy5nZXQoImFsbENoYW5nZXNMb3N0IiksbnVsbCxjLG14UmVzb3VyY2VzLmdldCgiY2FuY2VsIiksbXhSZXNvdXJjZXMuZ2V0KCJkaXNjYXJkQ2hhbmdlcyIpKTpjKCk7bXhFdmVudC5jb25zdW1lKGIpfX0pKTtpZihhLmlzRWRpdGFibGUoKSl7dmFyIEQ9dGhpcy5lZGl0b3IuZ3JhcGgsej1udWxsLEU9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYil7dGhpcy5zaG93TGlicmFyeURpYWxvZyhhLmdldFRpdGxlKCksbiwKYyxhLGEuZ2V0TW9kZSgpKTtteEV2ZW50LmNvbnN1bWUoYil9KSxHPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGIpe2Euc2V0TW9kaWZpZWQoITApO2EuaXNBdXRvc2F2ZSgpPyhudWxsIT16JiZudWxsIT16LnBhcmVudE5vZGUmJnoucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh6KSx6PXEuY2xvbmVOb2RlKCExKSx6LnNldEF0dHJpYnV0ZSgic3JjIixFZGl0b3Iuc3BpbkltYWdlKSx6LnNldEF0dHJpYnV0ZSgidGl0bGUiLG14UmVzb3VyY2VzLmdldCgic2F2aW5nIikpLHouc3R5bGUuY3Vyc29yPSJkZWZhdWx0Iix6LnN0eWxlLm1hcmdpblJpZ2h0PSIycHgiLHouc3R5bGUubWFyZ2luVG9wPSItMnB4IixtLmluc2VydEJlZm9yZSh6LG0uZmlyc3RDaGlsZCksay5zdHlsZS5wYWRkaW5nUmlnaHQ9MTgqbS5jaGlsZE5vZGVzLmxlbmd0aCsicHgiLHRoaXMuc2F2ZUxpYnJhcnkoYS5nZXRUaXRsZSgpLGMsYSxhLmdldE1vZGUoKSwhMCwhMCxmdW5jdGlvbigpe251bGwhPXomJm51bGwhPQp6LnBhcmVudE5vZGUmJih6LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoeiksay5zdHlsZS5wYWRkaW5nUmlnaHQ9MTgqbS5jaGlsZE5vZGVzLmxlbmd0aCsicHgiKX0pKTpudWxsPT1CJiYoQj1xLmNsb25lTm9kZSghMSksQi5zZXRBdHRyaWJ1dGUoInNyYyIsSU1BR0VfUEFUSCsiL2Rvd25sb2FkLnBuZyIpLEIuc2V0QXR0cmlidXRlKCJ0aXRsZSIsbXhSZXNvdXJjZXMuZ2V0KCJzYXZlIikpLG0uaW5zZXJ0QmVmb3JlKEIsbS5maXJzdENoaWxkKSxteEV2ZW50LmFkZExpc3RlbmVyKEIsImNsaWNrIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihiKXt0aGlzLnNhdmVMaWJyYXJ5KGEuZ2V0VGl0bGUoKSxjLGEsYS5nZXRNb2RlKCksYS5jb25zdHJ1Y3Rvcj09TG9jYWxMaWJyYXJ5LCEwLGZ1bmN0aW9uKCl7bnVsbD09Qnx8YS5pc01vZGlmaWVkKCl8fChrLnN0eWxlLnBhZGRpbmdSaWdodD0xOCptLmNoaWxkTm9kZXMubGVuZ3RoKyJweCIsQi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKEIpLApCPW51bGwpfSk7bXhFdmVudC5jb25zdW1lKGIpfSkpLGsuc3R5bGUucGFkZGluZ1JpZ2h0PTE4Km0uY2hpbGROb2Rlcy5sZW5ndGgrInB4Iil9KSxGPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEsYixkLGYpe2E9RC5jbG9uZUNlbGxzKG14VXRpbHMuc29ydENlbGxzKEQubW9kZWwuZ2V0VG9wbW9zdENlbGxzKGEpKSk7Zm9yKHZhciBnPTA7ZzxhLmxlbmd0aDtnKyspe3ZhciBsPUQuZ2V0Q2VsbEdlb21ldHJ5KGFbZ10pO251bGwhPWwmJmwudHJhbnNsYXRlKC1iLngsLWIueSl9bi5hcHBlbmRDaGlsZCh0aGlzLnNpZGViYXIuY3JlYXRlVmVydGV4VGVtcGxhdGVGcm9tQ2VsbHMoYSxiLndpZHRoLGIuaGVpZ2h0LGZ8fCIiLCEwLCExLCExKSk7YT17eG1sOkdyYXBoLmNvbXByZXNzKG14VXRpbHMuZ2V0WG1sKHRoaXMuZWRpdG9yLmdyYXBoLmVuY29kZUNlbGxzKGEpKSksdzpiLndpZHRoLGg6Yi5oZWlnaHR9O251bGwhPWYmJihhLnRpdGxlPWYpO2MucHVzaChhKTtHKGQpO251bGwhPQplJiZudWxsIT1lLnBhcmVudE5vZGUmJjA8Yy5sZW5ndGgmJihlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZSksZT1udWxsKX0pLEg9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7aWYoRC5pc1NlbGVjdGlvbkVtcHR5KCkpRC5nZXRSdWJiZXJiYW5kKCkuaXNBY3RpdmUoKT8oRC5nZXRSdWJiZXJiYW5kKCkuZXhlY3V0ZShhKSxELmdldFJ1YmJlcmJhbmQoKS5yZXNldCgpKTp0aGlzLnNob3dFcnJvcihteFJlc291cmNlcy5nZXQoImVycm9yIiksbXhSZXNvdXJjZXMuZ2V0KCJub3RoaW5nSXNTZWxlY3RlZCIpLG14UmVzb3VyY2VzLmdldCgib2siKSk7ZWxzZXt2YXIgYj1ELmdldFNlbGVjdGlvbkNlbGxzKCksYz1ELnZpZXcuZ2V0Qm91bmRzKGIpLGU9RC52aWV3LnNjYWxlO2MueC89ZTtjLnkvPWU7Yy53aWR0aC89ZTtjLmhlaWdodC89ZTtjLngtPUQudmlldy50cmFuc2xhdGUueDtjLnktPUQudmlldy50cmFuc2xhdGUueTtGKGIsYyl9bXhFdmVudC5jb25zdW1lKGEpfSk7bXhFdmVudC5hZGRHZXN0dXJlTGlzdGVuZXJzKG4sCmZ1bmN0aW9uKCl7fSxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXtELmlzTW91c2VEb3duJiZudWxsIT1ELnBhbm5pbmdNYW5hZ2VyJiZudWxsIT1ELmdyYXBoSGFuZGxlci5maXJzdCYmKEQuZ3JhcGhIYW5kbGVyLnN1c3BlbmQoKSxudWxsIT1ELmdyYXBoSGFuZGxlci5oaW50JiYoRC5ncmFwaEhhbmRsZXIuaGludC5zdHlsZS52aXNpYmlsaXR5PSJoaWRkZW4iKSxuLnN0eWxlLmJhY2tncm91bmRDb2xvcj0iI2YxZjNmNCIsbi5zdHlsZS5jdXJzb3I9ImNvcHkiLEQucGFubmluZ01hbmFnZXIuc3RvcCgpLEQuYXV0b1Njcm9sbD0hMSxteEV2ZW50LmNvbnN1bWUoYSkpfSksbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7RC5pc01vdXNlRG93biYmbnVsbCE9RC5wYW5uaW5nTWFuYWdlciYmbnVsbCE9RC5ncmFwaEhhbmRsZXImJihuLnN0eWxlLmJhY2tncm91bmRDb2xvcj0iIixuLnN0eWxlLmN1cnNvcj0iZGVmYXVsdCIsdGhpcy5zaWRlYmFyLnNob3dUb29sdGlwcz0hMCwKRC5wYW5uaW5nTWFuYWdlci5zdG9wKCksRC5ncmFwaEhhbmRsZXIucmVzZXQoKSxELmlzTW91c2VEb3duPSExLEQuYXV0b1Njcm9sbD0hMCxIKGEpLG14RXZlbnQuY29uc3VtZShhKSl9KSk7bXhFdmVudC5hZGRMaXN0ZW5lcihuLCJtb3VzZWxlYXZlIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXtELmlzTW91c2VEb3duJiZudWxsIT1ELmdyYXBoSGFuZGxlci5maXJzdCYmKEQuZ3JhcGhIYW5kbGVyLnJlc3VtZSgpLG51bGwhPUQuZ3JhcGhIYW5kbGVyLmhpbnQmJihELmdyYXBoSGFuZGxlci5oaW50LnN0eWxlLnZpc2liaWxpdHk9InZpc2libGUiKSxuLnN0eWxlLmJhY2tncm91bmRDb2xvcj0iIixuLnN0eWxlLmN1cnNvcj0iIixELmF1dG9TY3JvbGw9ITApfSkpO0dyYXBoLmZpbGVTdXBwb3J0JiYobXhFdmVudC5hZGRMaXN0ZW5lcihuLCJkcmFnb3ZlciIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7bi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9IiNmMWYzZjQiO2EuZGF0YVRyYW5zZmVyLmRyb3BFZmZlY3Q9CiJjb3B5IjtuLnN0eWxlLmN1cnNvcj0iY29weSI7dGhpcy5zaWRlYmFyLmhpZGVUb29sdGlwKCk7YS5zdG9wUHJvcGFnYXRpb24oKTthLnByZXZlbnREZWZhdWx0KCl9KSksbXhFdmVudC5hZGRMaXN0ZW5lcihuLCJkcm9wIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXtuLnN0eWxlLmN1cnNvcj0iIjtuLnN0eWxlLmJhY2tncm91bmRDb2xvcj0iIjswPGEuZGF0YVRyYW5zZmVyLmZpbGVzLmxlbmd0aCYmdGhpcy5pbXBvcnRGaWxlcyhhLmRhdGFUcmFuc2Zlci5maWxlcywwLDAsdGhpcy5tYXhJbWFnZVNpemUsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYixkLGYsbCxwLGssdCxtLHkpe2lmKG51bGwhPWImJiJpbWFnZS8iPT1kLnN1YnN0cmluZygwLDYpKWI9InNoYXBlPWltYWdlO3ZlcnRpY2FsTGFiZWxQb3NpdGlvbj1ib3R0b207dmVydGljYWxBbGlnbj10b3A7aW1hZ2VBc3BlY3Q9MDthc3BlY3Q9Zml4ZWQ7aW1hZ2U9Iit0aGlzLmNvbnZlcnREYXRhVXJpKGIpLGI9W25ldyBteENlbGwoIiIsCm5ldyBteEdlb21ldHJ5KDAsMCxwLGspLGIpXSxiWzBdLnZlcnRleD0hMCxGKGIsbmV3IG14UmVjdGFuZ2xlKDAsMCxwLGspLGEsbXhFdmVudC5pc0FsdERvd24oYSk/bnVsbDp0LnN1YnN0cmluZygwLHQubGFzdEluZGV4T2YoIi4iKSkucmVwbGFjZSgvXy9nLCIgIikpLG51bGwhPWUmJm51bGwhPWUucGFyZW50Tm9kZSYmMDxjLmxlbmd0aCYmKGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlKSxlPW51bGwpO2Vsc2V7dmFyIHY9ITEseD1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihiLGQpe2lmKG51bGwhPWImJiJhcHBsaWNhdGlvbi9wZGYiPT1kKXt2YXIgZj1FZGl0b3IuZXh0cmFjdEdyYXBoTW9kZWxGcm9tUGRmKGIpO251bGwhPWYmJjA8Zi5sZW5ndGgmJihiPWYpfWlmKG51bGwhPWIpaWYoZj1teFV0aWxzLnBhcnNlWG1sKGIpLCJteGxpYnJhcnkiPT1mLmRvY3VtZW50RWxlbWVudC5ub2RlTmFtZSl0cnl7dmFyIGw9SlNPTi5wYXJzZShteFV0aWxzLmdldFRleHRDb250ZW50KGYuZG9jdW1lbnRFbGVtZW50KSk7CmcobCxuKTtjPWMuY29uY2F0KGwpO0coYSk7dGhpcy5zcGlubmVyLnN0b3AoKTt2PSEwfWNhdGNoKEwpe31lbHNlIGlmKCJteGZpbGUiPT1mLmRvY3VtZW50RWxlbWVudC5ub2RlTmFtZSl0cnl7Zm9yKHZhciBwPWYuZG9jdW1lbnRFbGVtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJkaWFncmFtIiksbD0wO2w8cC5sZW5ndGg7bCsrKXt2YXIgaz10aGlzLnN0cmluZ1RvQ2VsbHMoRWRpdG9yLmdldERpYWdyYW1Ob2RlWG1sKHBbbF0pKSx0PXRoaXMuZWRpdG9yLmdyYXBoLmdldEJvdW5kaW5nQm94RnJvbUdlb21ldHJ5KGspO0YoayxuZXcgbXhSZWN0YW5nbGUoMCwwLHQud2lkdGgsdC5oZWlnaHQpLGEpfXY9ITB9Y2F0Y2goTCl7bnVsbCE9d2luZG93LmNvbnNvbGUmJmNvbnNvbGUubG9nKCJlcnJvciBpbiBkcm9wIGhhbmRsZXI6IixMKX12fHwodGhpcy5zcGlubmVyLnN0b3AoKSx0aGlzLmhhbmRsZUVycm9yKHttZXNzYWdlOm14UmVzb3VyY2VzLmdldCgiZXJyb3JMb2FkaW5nRmlsZSIpfSkpOwpudWxsIT1lJiZudWxsIT1lLnBhcmVudE5vZGUmJjA8Yy5sZW5ndGgmJihlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZSksZT1udWxsKX0pO251bGwhPXkmJm51bGwhPXQmJigvKFwudihkeHxzZHg/KSkoJHxcPykvaS50ZXN0KHQpfHwvKFwudnMoeHxzeD8pKSgkfFw/KS9pLnRlc3QodCkpP3RoaXMuaW1wb3J0VmlzaW8oeSxmdW5jdGlvbihhKXt4KGEsInRleHQveG1sIil9LG51bGwsdCk6IXRoaXMuaXNPZmZsaW5lKCkmJihuZXcgWE1MSHR0cFJlcXVlc3QpLnVwbG9hZCYmdGhpcy5pc1JlbW90ZUZpbGVGb3JtYXQoYix0KSYmbnVsbCE9eT90aGlzLnBhcnNlRmlsZSh5LG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpezQ9PWEucmVhZHlTdGF0ZSYmKHRoaXMuc3Bpbm5lci5zdG9wKCksMjAwPD1hLnN0YXR1cyYmMjk5Pj1hLnN0YXR1cz94KGEucmVzcG9uc2VUZXh0LCJ0ZXh0L3htbCIpOnRoaXMuaGFuZGxlRXJyb3Ioe21lc3NhZ2U6bXhSZXNvdXJjZXMuZ2V0KDQxMz09YS5zdGF0dXM/CiJkcmF3aW5nVG9vTGFyZ2UiOiJpbnZhbGlkT3JNaXNzaW5nRmlsZSIpfSxteFJlc291cmNlcy5nZXQoImVycm9yTG9hZGluZ0ZpbGUiKSkpfSkpOngoYixkKX19KSk7YS5zdG9wUHJvcGFnYXRpb24oKTthLnByZXZlbnREZWZhdWx0KCl9KSksbXhFdmVudC5hZGRMaXN0ZW5lcihuLCJkcmFnbGVhdmUiLGZ1bmN0aW9uKGEpe24uc3R5bGUuY3Vyc29yPSIiO24uc3R5bGUuYmFja2dyb3VuZENvbG9yPSIiO2Euc3RvcFByb3BhZ2F0aW9uKCk7YS5wcmV2ZW50RGVmYXVsdCgpfSkpO3E9cS5jbG9uZU5vZGUoITEpO3Euc2V0QXR0cmlidXRlKCJzcmMiLEVkaXRvci5lZGl0SW1hZ2UpO3Euc2V0QXR0cmlidXRlKCJ0aXRsZSIsbXhSZXNvdXJjZXMuZ2V0KCJlZGl0IikpO20uaW5zZXJ0QmVmb3JlKHEsbS5maXJzdENoaWxkKTtteEV2ZW50LmFkZExpc3RlbmVyKHEsImNsaWNrIixFKTtteEV2ZW50LmFkZExpc3RlbmVyKG4sImRibGNsaWNrIixmdW5jdGlvbihhKXtteEV2ZW50LmdldFNvdXJjZShhKT09Cm4mJkUoYSl9KTtmPXEuY2xvbmVOb2RlKCExKTtmLnNldEF0dHJpYnV0ZSgic3JjIixFZGl0b3IucGx1c0ltYWdlKTtmLnNldEF0dHJpYnV0ZSgidGl0bGUiLG14UmVzb3VyY2VzLmdldCgiYWRkIikpO20uaW5zZXJ0QmVmb3JlKGYsbS5maXJzdENoaWxkKTtteEV2ZW50LmFkZExpc3RlbmVyKGYsImNsaWNrIixIKTt0aGlzLmlzT2ZmbGluZSgpfHwiLnNjcmF0Y2hwYWQiIT1hLnRpdGxlfHxudWxsPT1FZGl0b3JVaS5zY3JhdGNocGFkSGVscExpbmt8fChmPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNwYW4iKSxmLnNldEF0dHJpYnV0ZSgidGl0bGUiLG14UmVzb3VyY2VzLmdldCgiaGVscCIpKSxmLnN0eWxlLmNzc1RleHQ9ImNvbG9yOiNhM2EzYTM7dGV4dC1kZWNvcmF0aW9uOm5vbmU7bWFyZ2luLXJpZ2h0OjJweDsiLG14VXRpbHMud3JpdGUoZiwiPyIpLG14RXZlbnQuYWRkR2VzdHVyZUxpc3RlbmVycyhmLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3RoaXMub3BlbkxpbmsoRWRpdG9yVWkuc2NyYXRjaHBhZEhlbHBMaW5rKTsKbXhFdmVudC5jb25zdW1lKGEpfSkpLG0uaW5zZXJ0QmVmb3JlKGYsbS5maXJzdENoaWxkKSl9ay5hcHBlbmRDaGlsZChtKTtrLnN0eWxlLnBhZGRpbmdSaWdodD0xOCptLmNoaWxkTm9kZXMubGVuZ3RoKyJweCJ9fTtFZGl0b3JVaS5wcm90b3R5cGUuYWRkTGlicmFyeUVudHJpZXM9ZnVuY3Rpb24oYSxjKXtmb3IodmFyIGI9MDtiPGEubGVuZ3RoO2IrKyl7dmFyIGU9YVtiXSxkPWUuZGF0YTtpZihudWxsIT1kKXt2YXIgZD10aGlzLmNvbnZlcnREYXRhVXJpKGQpLGY9InNoYXBlPWltYWdlO3ZlcnRpY2FsTGFiZWxQb3NpdGlvbj1ib3R0b207dmVydGljYWxBbGlnbj10b3A7aW1hZ2VBc3BlY3Q9MDsiOyJmaXhlZCI9PWUuYXNwZWN0JiYoZis9ImFzcGVjdD1maXhlZDsiKTtjLmFwcGVuZENoaWxkKHRoaXMuc2lkZWJhci5jcmVhdGVWZXJ0ZXhUZW1wbGF0ZShmKyJpbWFnZT0iK2QsZS53LGUuaCwiIixlLnRpdGxlfHwiIiwhMSwhMSwhMCkpfWVsc2UgbnVsbCE9ZS54bWwmJihkPXRoaXMuc3RyaW5nVG9DZWxscyhHcmFwaC5kZWNvbXByZXNzKGUueG1sKSksCjA8ZC5sZW5ndGgmJmMuYXBwZW5kQ2hpbGQodGhpcy5zaWRlYmFyLmNyZWF0ZVZlcnRleFRlbXBsYXRlRnJvbUNlbGxzKGQsZS53LGUuaCxlLnRpdGxlfHwiIiwhMCwhMSwhMCkpKX19O0VkaXRvclVpLnByb3RvdHlwZS5nZXRSZXNvdXJjZT1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YT9hW214TGFuZ3VhZ2VdfHxhLm1haW46bnVsbH07RWRpdG9yVWkucHJvdG90eXBlLmZvb3RlckhlaWdodD0wOyIxIj09dXJsUGFyYW1zLnNhdmVzaWRlYmFyJiYoU2lkZWJhci5wcm90b3R5cGUudGh1bWJXaWR0aD02NCxTaWRlYmFyLnByb3RvdHlwZS50aHVtYkhlaWdodD02NCk7RWRpdG9yVWkuaW5pdFRoZW1lPWZ1bmN0aW9uKCl7ImF0bGFzIj09dWlUaGVtZT8obXhDbGllbnQubGluaygic3R5bGVzaGVldCIsU1RZTEVfUEFUSCsiL2F0bGFzLmNzcyIpLCJ1bmRlZmluZWQiIT09dHlwZW9mIFRvb2xiYXImJihUb29sYmFyLnByb3RvdHlwZS51bnNlbGVjdGVkQmFja2dyb3VuZD1teENsaWVudC5JU19RVUlSS1M/CiJub25lIjoibGluZWFyLWdyYWRpZW50KHJnYigyNTUsIDI1NSwgMjU1KSAwcHgsIHJnYigyNDIsIDI0MiwgMjQyKSAxMDAlKSIsVG9vbGJhci5wcm90b3R5cGUuc2VsZWN0ZWRCYWNrZ3JvdW5kPSJyZ2IoMjQyLCAyNDIsIDI0MikiKSxFZGl0b3IucHJvdG90eXBlLmluaXRpYWxUb3BTcGFjaW5nPTMsRWRpdG9yVWkucHJvdG90eXBlLm1lbnViYXJIZWlnaHQ9NDEsRWRpdG9yVWkucHJvdG90eXBlLnRvb2xiYXJIZWlnaHQ9MzgpOiJkYXJrIj09dWlUaGVtZSYmKG14Q2xpZW50LmxpbmsoInN0eWxlc2hlZXQiLFNUWUxFX1BBVEgrIi9kYXJrLmNzcyIpLERpYWxvZy5iYWNrZHJvcENvbG9yPSIjMmEyYTJhIixHcmFwaC5wcm90b3R5cGUuZGVmYXVsdFRoZW1lTmFtZT0iZGFya1RoZW1lIixHcmFwaC5wcm90b3R5cGUuZGVmYXVsdFBhZ2VCYWNrZ3JvdW5kQ29sb3I9IiMyYTJhMmEiLEdyYXBoLnByb3RvdHlwZS5kZWZhdWx0UGFnZUJvcmRlckNvbG9yPSIjNTA1NzU5IixGb3JtYXQucHJvdG90eXBlLmluYWN0aXZlVGFiQmFja2dyb3VuZENvbG9yPQoiYmxhY2siLEJhc2VGb3JtYXRQYW5lbC5wcm90b3R5cGUuYnV0dG9uQmFja2dyb3VuZENvbG9yPSIjMmEyYTJhIixTaWRlYmFyLnByb3RvdHlwZS5kcmFnUHJldmlld0JvcmRlcj0iMXB4IGRhc2hlZCAjY2NjY2NjIixteEdyYXBoSGFuZGxlci5wcm90b3R5cGUucHJldmlld0NvbG9yPSIjY2NjY2NjIixTdHlsZUZvcm1hdFBhbmVsLnByb3RvdHlwZS5kZWZhdWx0U3Ryb2tlQ29sb3I9IiNjY2NjY2MiLG14Q29uc3RhbnRzLkRST1BfVEFSR0VUX0NPTE9SPSIjMDBmZjAwIixteENsaWVudC5JU19TVkcmJihFZGl0b3IuaGVscEltYWdlPSJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUJBQUFBQVFDQU1BQUFBb0xROVRBQUFBUDFCTVZFVUFBQUQvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vOUR1L3BxQUFBQUZYUlNUbE1BVDMwcUNKUkJib3lEWnlDZ1J6VVVkRjQ2TUpsZ1hFVGdBQUFBZWtsRVFWUVkwMjJPMnc0RElRaEVRVVVSZGEvOS8yOHRVTzIrN0NRUzVzZ1E0RjFSYXBYNzhZVXdScVFqVFU4SUxxUWZLZXJUS1R2QUNKNG5MWDNrcnQrOGFTODJvSThhUUM0S2F2Umd0dkVXL21EdnNJQ2dBMDNQU0dScjc5TXFYMVlQTkl4emp5cXR3OFpublJvNHQ1YTV1bmR0SllSeXdhdStkczRDeXphM0U2WUFBQUFBU1VWT1JLNUNZSUk9IiwKRWRpdG9yLmNoZWNrbWFya0ltYWdlPSJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUJVQUFBQVZDQU1BQUFDZXlWV2tBQUFBUlZCTVZFVUFBQUNabVprSUNBZ0VCQVNOalkyRGc0TVlHQmlUazVONWVYbDFkWFZtWm1aUVVGQkNRa0kzTnpjZUhoNE1EQXlrcEtTSmlZbCtmbjVzYkd4YVdsby9QejhTRWhLOTZ1UGxBQUFBQVhSU1RsTUFRT2JZWmdBQUFFNUpSRUZVR05QRnpUY1NnREFRUTFISkdVZnkvWTlLN1YxcWVPVWZ6UWlmQ1FaYWkxWEhhejExTEZ5c2JEYnpnRFNTV01aaUVUejMrYjh5TlVjL01Nc2t0eHVDOFhRQlNuY2RMd3orOGdDQ2dnR1h6QmNvekFBQUFBQkpSVTVFcmtKZ2dnPT0iKSl9O0VkaXRvclVpLmluaXRUaGVtZSgpO0VkaXRvclVpLnByb3RvdHlwZS5zaG93SW1hZ2VEaWFsb2c9ZnVuY3Rpb24oYSxjLGQsZixsKXthPW5ldyBJbWFnZURpYWxvZyh0aGlzLGEsYyxkLGYsbCk7dGhpcy5zaG93RGlhbG9nKGEuY29udGFpbmVyLEdyYXBoLmZpbGVTdXBwb3J0Pwo0ODA6MzYwLEdyYXBoLmZpbGVTdXBwb3J0PzIwMDo5MCwhMCwhMCk7YS5pbml0KCl9O0VkaXRvclVpLnByb3RvdHlwZS5zaG93QmFja2dyb3VuZEltYWdlRGlhbG9nPWZ1bmN0aW9uKGEpe2E9bnVsbCE9YT9hOm14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe2E9bmV3IENoYW5nZVBhZ2VTZXR1cCh0aGlzLG51bGwsYSk7YS5pZ25vcmVDb2xvcj0hMDt0aGlzLmVkaXRvci5ncmFwaC5tb2RlbC5leGVjdXRlKGEpfSk7dmFyIGI9bmV3IEJhY2tncm91bmRJbWFnZURpYWxvZyh0aGlzLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGIpe2EoYil9KSk7dGhpcy5zaG93RGlhbG9nKGIuY29udGFpbmVyLDM2MCwyMDAsITAsITApO2IuaW5pdCgpfTtFZGl0b3JVaS5wcm90b3R5cGUuc2hvd0xpYnJhcnlEaWFsb2c9ZnVuY3Rpb24oYSxjLGQsZixsKXthPW5ldyBMaWJyYXJ5RGlhbG9nKHRoaXMsYSxjLGQsZixsKTt0aGlzLnNob3dEaWFsb2coYS5jb250YWluZXIsNjQwLDQ0MCwhMCwhMSwKbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7YSYmbnVsbD09dGhpcy5nZXRDdXJyZW50RmlsZSgpJiYiMSIhPXVybFBhcmFtcy5lbWJlZCYmdGhpcy5zaG93U3BsYXNoKCl9KSk7YS5pbml0KCl9O3ZhciBjPUVkaXRvclVpLnByb3RvdHlwZS5jcmVhdGVGb3JtYXQ7RWRpdG9yVWkucHJvdG90eXBlLmNyZWF0ZUZvcm1hdD1mdW5jdGlvbihhKXt2YXIgYj1jLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLmVkaXRvci5ncmFwaC5hZGRMaXN0ZW5lcigidmlld1N0YXRlQ2hhbmdlZCIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7dGhpcy5lZGl0b3IuZ3JhcGguaXNTZWxlY3Rpb25FbXB0eSgpJiZiLnJlZnJlc2goKX0pKTtyZXR1cm4gYn07RWRpdG9yVWkucHJvdG90eXBlLmNyZWF0ZVNpZGViYXJGb290ZXJDb250YWluZXI9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmNyZWF0ZURpdigiZ2VTaWRlYmFyQ29udGFpbmVyIGdlU2lkZWJhckZvb3RlciIpO2Euc3R5bGUucG9zaXRpb249CiJhYnNvbHV0ZSI7YS5zdHlsZS5vdmVyZmxvdz0iaGlkZGVuIjt2YXIgYz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIik7Yy5jbGFzc05hbWU9ImdlVGl0bGUiO2Muc3R5bGUuY29sb3I9IiNERjZDMEMiO2Muc3R5bGUuZm9udFdlaWdodD0iYm9sZCI7Yy5zdHlsZS5oZWlnaHQ9IjEwMCUiO2Muc3R5bGUucGFkZGluZ1RvcD0iOXB4IjtjLmlubmVySFRNTD0nPHNwYW4gc3R5bGU9ImZvbnQtc2l6ZToxOHB4O21hcmdpbi1yaWdodDo1cHg7Ij4rPC9zcGFuPic7bXhVdGlscy53cml0ZShjLG14UmVzb3VyY2VzLmdldCgibW9yZVNoYXBlcyIpKyIuLi4iKTtteEV2ZW50LmFkZExpc3RlbmVyKGMsbXhDbGllbnQuSVNfUE9JTlRFUj8icG9pbnRlcmRvd24iOiJtb3VzZWRvd24iLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe2EucHJldmVudERlZmF1bHQoKX0pKTtteEV2ZW50LmFkZExpc3RlbmVyKGMsImNsaWNrIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXt0aGlzLmFjdGlvbnMuZ2V0KCJzaGFwZXMiKS5mdW5jdCgpOwpteEV2ZW50LmNvbnN1bWUoYSl9KSk7YS5hcHBlbmRDaGlsZChjKTtyZXR1cm4gYX07RWRpdG9yVWkucHJvdG90eXBlLmhhbmRsZUVycm9yPWZ1bmN0aW9uKGEsYyxkLGYsbCxwLGspe3ZhciBiPW51bGwhPXRoaXMuc3Bpbm5lciYmbnVsbCE9dGhpcy5zcGlubmVyLnBhdXNlP3RoaXMuc3Bpbm5lci5wYXVzZSgpOmZ1bmN0aW9uKCl7fSxlPW51bGwhPWEmJm51bGwhPWEuZXJyb3I/YS5lcnJvcjphO2lmKG51bGwhPWEmJm51bGwhPWEuc3RhY2smJm51bGwhPWEubWVzc2FnZSl0cnl7az9udWxsIT13aW5kb3cuY29uc29sZSYmY29uc29sZS5lcnJvcigiRWRpdG9yVWkuaGFuZGxlRXJyb3I6IixhKTpFZGl0b3JVaS5sb2dFcnJvcigiQ2F1Z2h0OiAiKyhudWxsIT1hLm1lc3NhZ2U/YS5tZXNzYWdlOiJudWxsIiksbnVsbCxudWxsLG51bGwsYSwiSU5GTyIpfWNhdGNoKHope31pZihudWxsIT1lfHxudWxsIT1jKXtrPW14VXRpbHMuaHRtbEVudGl0aWVzKG14UmVzb3VyY2VzLmdldCgidW5rbm93bkVycm9yIikpOwp2YXIgZz1teFJlc291cmNlcy5nZXQoIm9rIiksbj1udWxsO2M9bnVsbCE9Yz9jOm14UmVzb3VyY2VzLmdldCgiZXJyb3IiKTtpZihudWxsIT1lKXtudWxsIT1lLnJldHJ5JiYoZz1teFJlc291cmNlcy5nZXQoImNhbmNlbCIpLG49ZnVuY3Rpb24oKXtiKCk7ZS5yZXRyeSgpfSk7aWYoNDA0PT1lLmNvZGV8fDQwND09ZS5zdGF0dXN8fDQwMz09ZS5jb2RlKXtrPTQwMz09ZS5jb2RlP251bGwhPWUubWVzc2FnZT9teFV0aWxzLmh0bWxFbnRpdGllcyhlLm1lc3NhZ2UpOm14VXRpbHMuaHRtbEVudGl0aWVzKG14UmVzb3VyY2VzLmdldCgiYWNjZXNzRGVuaWVkIikpOm51bGwhPWw/bDpteFV0aWxzLmh0bWxFbnRpdGllcyhteFJlc291cmNlcy5nZXQoImZpbGVOb3RGb3VuZE9yRGVuaWVkIikrKG51bGwhPXRoaXMuZHJpdmUmJm51bGwhPXRoaXMuZHJpdmUudXNlcj8iICgiK3RoaXMuZHJpdmUudXNlci5kaXNwbGF5TmFtZSsiLCAiK3RoaXMuZHJpdmUudXNlci5lbWFpbCsiKSI6IiIpKTt2YXIgbT0KbnVsbCE9cD9wOndpbmRvdy5sb2NhdGlvbi5oYXNoO2lmKG51bGwhPW0mJigiI0ciPT1tLnN1YnN0cmluZygwLDIpfHwiI1VodHRwcyUzQSUyRiUyRmRyaXZlLmdvb2dsZS5jb20lMkZ1YyUzRmlkJTNEIj09bS5zdWJzdHJpbmcoMCw0NSkpJiYobnVsbCE9YSYmbnVsbCE9YS5lcnJvciYmKG51bGwhPWEuZXJyb3IuZXJyb3JzJiYwPGEuZXJyb3IuZXJyb3JzLmxlbmd0aCYmImZpbGVBY2Nlc3MiPT1hLmVycm9yLmVycm9yc1swXS5yZWFzb258fG51bGwhPWEuZXJyb3IuZGF0YSYmMDxhLmVycm9yLmRhdGEubGVuZ3RoJiYiZmlsZUFjY2VzcyI9PWEuZXJyb3IuZGF0YVswXS5yZWFzb24pfHw0MDQ9PWUuY29kZXx8NDA0PT1lLnN0YXR1cykpe209IiNVIj09bS5zdWJzdHJpbmcoMCwyKT9tLnN1YnN0cmluZyg0NSxtLmxhc3RJbmRleE9mKCIlMjZleCIpKTptLnN1YnN0cmluZygyKTt0aGlzLnNob3dFcnJvcihjLGssbXhSZXNvdXJjZXMuZ2V0KCJvcGVuSW5OZXdXaW5kb3ciKSxteFV0aWxzLmJpbmQodGhpcywKZnVuY3Rpb24oKXt0aGlzLmVkaXRvci5ncmFwaC5vcGVuTGluaygiaHR0cHM6Ly9kcml2ZS5nb29nbGUuY29tL29wZW4/aWQ9IittKTt0aGlzLmhhbmRsZUVycm9yKGEsYyxkLGYsbCl9KSxuLG14UmVzb3VyY2VzLmdldCgiY2hhbmdlVXNlciIpLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYSgpe2QuaW5uZXJIVE1MPSIiO2Zvcih2YXIgYT0wO2E8Yi5sZW5ndGg7YSsrKXt2YXIgYz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJvcHRpb24iKTtteFV0aWxzLndyaXRlKGMsYlthXS5kaXNwbGF5TmFtZSk7Yy52YWx1ZT1hO2QuYXBwZW5kQ2hpbGQoYyk7Yz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJvcHRpb24iKTtjLmlubmVySFRNTD0iJm5ic3A7Jm5ic3A7Jm5ic3A7IjtteFV0aWxzLndyaXRlKGMsIjwiK2JbYV0uZW1haWwrIj4iKTtjLnNldEF0dHJpYnV0ZSgiZGlzYWJsZWQiLCJkaXNhYmxlZCIpO2QuYXBwZW5kQ2hpbGQoYyl9Yz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJvcHRpb24iKTsKbXhVdGlscy53cml0ZShjLG14UmVzb3VyY2VzLmdldCgiYWRkQWNjb3VudCIpKTtjLnZhbHVlPWIubGVuZ3RoO2QuYXBwZW5kQ2hpbGQoYyl9dmFyIGI9dGhpcy5kcml2ZS5nZXRVc2Vyc0xpc3QoKSxjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3BhbiIpO2Uuc3R5bGUubWFyZ2luVG9wPSI2cHgiO214VXRpbHMud3JpdGUoZSxteFJlc291cmNlcy5nZXQoImNoYW5nZVVzZXIiKSsiOiAiKTtjLmFwcGVuZENoaWxkKGUpO3ZhciBkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNlbGVjdCIpO2Quc3R5bGUud2lkdGg9IjIwMHB4IjthKCk7bXhFdmVudC5hZGRMaXN0ZW5lcihkLCJjaGFuZ2UiLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dmFyIGM9ZC52YWx1ZSxlPWIubGVuZ3RoIT1jO2UmJnRoaXMuZHJpdmUuc2V0VXNlcihiW2NdKTt0aGlzLmRyaXZlLmF1dGhvcml6ZShlLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7ZXx8CihiPXRoaXMuZHJpdmUuZ2V0VXNlcnNMaXN0KCksYSgpKX0pLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3RoaXMuaGFuZGxlRXJyb3IoYSl9KSwhMCl9KSk7Yy5hcHBlbmRDaGlsZChkKTtjPW5ldyBDdXN0b21EaWFsb2codGhpcyxjLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dGhpcy5sb2FkRmlsZSh3aW5kb3cubG9jYXRpb24uaGFzaC5zdWJzdHIoMSksITApfSkpO3RoaXMuc2hvd0RpYWxvZyhjLmNvbnRhaW5lciwzMDAsNzUsITAsITApfSksbXhSZXNvdXJjZXMuZ2V0KCJjYW5jZWwiKSxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMuaGlkZURpYWxvZygpO251bGwhPWQmJmQoKX0pLDQ4MCwxNTApO3JldHVybn19bnVsbCE9ZS5tZXNzYWdlP2s9bXhVdGlscy5odG1sRW50aXRpZXMoZS5tZXNzYWdlKTpudWxsIT1lLnJlc3BvbnNlJiZudWxsIT1lLnJlc3BvbnNlLmVycm9yP2s9bXhVdGlscy5odG1sRW50aXRpZXMoZS5yZXNwb25zZS5lcnJvcik6InVuZGVmaW5lZCIhPT0KdHlwZW9mIHdpbmRvdy5BcHAmJihlLmNvZGU9PUFwcC5FUlJPUl9USU1FT1VUP2s9bXhVdGlscy5odG1sRW50aXRpZXMobXhSZXNvdXJjZXMuZ2V0KCJ0aW1lb3V0IikpOmUuY29kZT09QXBwLkVSUk9SX0JVU1kmJihrPW14VXRpbHMuaHRtbEVudGl0aWVzKG14UmVzb3VyY2VzLmdldCgiYnVzeSIpKSkpfXZhciB2PXA9bnVsbDtudWxsIT1lJiZudWxsIT1lLmhlbHBMaW5rJiYocD1teFJlc291cmNlcy5nZXQoImhlbHAiKSx2PW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWRpdG9yLmdyYXBoLm9wZW5MaW5rKGUuaGVscExpbmspfSkpO3RoaXMuc2hvd0Vycm9yKGMsayxnLGQsbixudWxsLG51bGwscCx2LG51bGwsbnVsbCxudWxsLGY/ZDpudWxsKX1lbHNlIG51bGwhPWQmJmQoKX07RWRpdG9yVWkucHJvdG90eXBlLmFsZXJ0PWZ1bmN0aW9uKGEsYyl7dmFyIGI9bmV3IEVycm9yRGlhbG9nKHRoaXMsbnVsbCxhLG14UmVzb3VyY2VzLmdldCgib2siKSxjKTt0aGlzLnNob3dEaWFsb2coYi5jb250YWluZXIsCjM0MCwxMDAsITAsITEpO2IuaW5pdCgpfTtFZGl0b3JVaS5wcm90b3R5cGUuY29uZmlybT1mdW5jdGlvbihhLGMsZCxmLGwscCl7dmFyIGI9bnVsbCE9dGhpcy5zcGlubmVyJiZudWxsIT10aGlzLnNwaW5uZXIucGF1c2U/dGhpcy5zcGlubmVyLnBhdXNlKCk6ZnVuY3Rpb24oKXt9LGU9TWF0aC5taW4oMjAwLDI4Kk1hdGguY2VpbChhLmxlbmd0aC81MCkpO2E9bmV3IENvbmZpcm1EaWFsb2codGhpcyxhLGZ1bmN0aW9uKCl7YigpO251bGwhPWMmJmMoKX0sZnVuY3Rpb24oKXtiKCk7bnVsbCE9ZCYmZCgpfSxmLGwsbnVsbCxudWxsLG51bGwsbnVsbCxlKTt0aGlzLnNob3dEaWFsb2coYS5jb250YWluZXIsMzQwLDQ2K2UsITAscCk7YS5pbml0KCl9O0VkaXRvclVpLnByb3RvdHlwZS5zaG93QmFubmVyPWZ1bmN0aW9uKGEsYyxkKXt2YXIgYj0hMTtpZighKHRoaXMuYmFubmVyU2hvd2luZ3x8dGhpc1siaGlkZUJhbm5lciIrYV18fGlzTG9jYWxTdG9yYWdlJiZudWxsIT1teFNldHRpbmdzLnNldHRpbmdzJiYKbnVsbCE9bXhTZXR0aW5ncy5zZXR0aW5nc1siY2xvc2UiK2FdKSl7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7ZS5zdHlsZS5jc3NUZXh0PSJwb3NpdGlvbjphYnNvbHV0ZTtib3R0b206MTBweDtsZWZ0OjUwJTttYXgtd2lkdGg6OTAlO3BhZGRpbmc6MThweCAzNHB4IDEycHggMjBweDtmb250LXNpemU6MTZweDtmb250LXdlaWdodDpib2xkO3doaXRlLXNwYWNlOm5vd3JhcDtjdXJzb3I6cG9pbnRlcjt6LWluZGV4OiIrbXhQb3B1cE1lbnUucHJvdG90eXBlLnpJbmRleCsiOyI7bXhVdGlscy5zZXRQcmVmaXhlZFN0eWxlKGUuc3R5bGUsImJveC1zaGFkb3ciLCIxcHggMXB4IDJweCAwcHggI2RkZCIpO214VXRpbHMuc2V0UHJlZml4ZWRTdHlsZShlLnN0eWxlLCJ0cmFuc2Zvcm0iLCJ0cmFuc2xhdGUoLTUwJSwxMjAlKSIpO214VXRpbHMuc2V0UHJlZml4ZWRTdHlsZShlLnN0eWxlLCJ0cmFuc2l0aW9uIiwiYWxsIDFzIGVhc2UiKTtlLmNsYXNzTmFtZT0iZ2VCdG4gZ2VQcmltYXJ5QnRuIjsKYj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbWciKTtiLnNldEF0dHJpYnV0ZSgic3JjIixJTUFHRV9QQVRIKyIvbG9nby5wbmciKTtiLnNldEF0dHJpYnV0ZSgiYm9yZGVyIiwiMCIpO2Iuc2V0QXR0cmlidXRlKCJhbGlnbiIsImFic21pZGRsZSIpO2Iuc3R5bGUuY3NzVGV4dD0ibWFyZ2luLXRvcDotNHB4O21hcmdpbi1sZWZ0OjhweDttYXJnaW4tcmlnaHQ6MTJweDt3aWR0aDoyNnB4O2hlaWdodDoyNnB4OyI7ZS5hcHBlbmRDaGlsZChiKTtiPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImltZyIpO2Iuc2V0QXR0cmlidXRlKCJzcmMiLERpYWxvZy5wcm90b3R5cGUuY2xvc2VJbWFnZSk7Yi5zZXRBdHRyaWJ1dGUoInRpdGxlIixteFJlc291cmNlcy5nZXQoImNsb3NlIikpO2Iuc2V0QXR0cmlidXRlKCJib3JkZXIiLCIwIik7Yi5zdHlsZS5jc3NUZXh0PSJwb3NpdGlvbjphYnNvbHV0ZTtyaWdodDoxMHB4O3RvcDoxMnB4O2ZpbHRlcjppbnZlcnQoMSk7cGFkZGluZzo2cHg7bWFyZ2luOi02cHg7Y3Vyc29yOmRlZmF1bHQ7IjsKZS5hcHBlbmRDaGlsZChiKTtteFV0aWxzLndyaXRlKGUsYyk7ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChlKTt0aGlzLmJhbm5lclNob3dpbmc9ITA7dmFyIGY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7Zi5zdHlsZS5jc3NUZXh0PSJmb250LXNpemU6MTFweDt0ZXh0LWFsaWduOmNlbnRlcjtmb250LXdlaWdodDpub3JtYWw7Ijt2YXIgZz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbnB1dCIpO2cuc2V0QXR0cmlidXRlKCJ0eXBlIiwiY2hlY2tib3giKTtnLnNldEF0dHJpYnV0ZSgiaWQiLCJnZURvTm90U2hvd0FnYWluQ2hlY2tib3giKTtnLnN0eWxlLm1hcmdpblJpZ2h0PSI2cHgiO2YuYXBwZW5kQ2hpbGQoZyk7Yz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJsYWJlbCIpO2Muc2V0QXR0cmlidXRlKCJmb3IiLCJnZURvTm90U2hvd0FnYWluQ2hlY2tib3giKTtteFV0aWxzLndyaXRlKGMsbXhSZXNvdXJjZXMuZ2V0KCJkb05vdFNob3dBZ2FpbiIpKTtmLmFwcGVuZENoaWxkKGMpOwplLnN0eWxlLnBhZGRpbmdCb3R0b209IjMwcHgiO2UuYXBwZW5kQ2hpbGQoZik7dmFyIGs9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYil7bnVsbCE9ZS5wYXJlbnROb2RlJiYoZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGUpLHRoaXMuYmFubmVyU2hvd2luZz0hMSxnLmNoZWNrZWQmJih0aGlzWyJoaWRlQmFubmVyIithXT0hMCxpc0xvY2FsU3RvcmFnZSYmbnVsbCE9bXhTZXR0aW5ncy5zZXR0aW5ncyYmKG14U2V0dGluZ3Muc2V0dGluZ3NbImNsb3NlIithXT1EYXRlLm5vdygpLG14U2V0dGluZ3Muc2F2ZSgpKSkpfSk7bXhFdmVudC5hZGRMaXN0ZW5lcihiLCJjbGljayIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7bXhFdmVudC5jb25zdW1lKGEpO2soKX0pKTtteEV2ZW50LmFkZExpc3RlbmVyKGUsImNsaWNrIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXt2YXIgYj1teEV2ZW50LmdldFNvdXJjZShhKTtiIT1nJiZiIT1jJiYobXhFdmVudC5jb25zdW1lKGEpLApkKCksaygpKX0pKTt3aW5kb3cuc2V0VGltZW91dChteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe214VXRpbHMuc2V0UHJlZml4ZWRTdHlsZShlLnN0eWxlLCJ0cmFuc2Zvcm0iLCJ0cmFuc2xhdGUoLTUwJSwwJSkiKX0pLDUwMCk7d2luZG93LnNldFRpbWVvdXQobXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXtteFV0aWxzLnNldFByZWZpeGVkU3R5bGUoZS5zdHlsZSwidHJhbnNmb3JtIiwidHJhbnNsYXRlKC01MCUsMTIwJSkiKTt3aW5kb3cuc2V0VGltZW91dChteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe2soITApfSksMUUzKX0pLDNFNCk7Yj0hMH1yZXR1cm4gYn07RWRpdG9yVWkucHJvdG90eXBlLnNldEN1cnJlbnRGaWxlPWZ1bmN0aW9uKGEpe251bGwhPWEmJihhLm9wZW5lZD1uZXcgRGF0ZSk7dGhpcy5jdXJyZW50RmlsZT1hfTtFZGl0b3JVaS5wcm90b3R5cGUuZ2V0Q3VycmVudEZpbGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jdXJyZW50RmlsZX07RWRpdG9yVWkucHJvdG90eXBlLmlzRXhwb3J0VG9DYW52YXM9CmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWRpdG9yLmlzRXhwb3J0VG9DYW52YXMoKX07RWRpdG9yVWkucHJvdG90eXBlLmNyZWF0ZUltYWdlRGF0YVVyaT1mdW5jdGlvbihhLGMsZCxmKXt2YXIgYj1hLnRvRGF0YVVSTCgiaW1hZ2UvIitkKTtpZig2Pj1iLmxlbmd0aHx8Yj09YS5jbG9uZU5vZGUoITEpLnRvRGF0YVVSTCgiaW1hZ2UvIitkKSl0aHJvd3ttZXNzYWdlOiJJbnZhbGlkIGltYWdlIn07bnVsbCE9YyYmKGI9RWRpdG9yLndyaXRlR3JhcGhNb2RlbFRvUG5nKGIsInRFWHQiLCJteGZpbGUiLGVuY29kZVVSSUNvbXBvbmVudChjKSkpOzA8ZiYmKGI9RWRpdG9yLndyaXRlR3JhcGhNb2RlbFRvUG5nKGIsInBIWXMiLCJkcGkiLGYpKTtyZXR1cm4gYn07RWRpdG9yVWkucHJvdG90eXBlLnNhdmVDYW52YXM9ZnVuY3Rpb24oYSxjLGQsZixsKXt2YXIgYj0ianBlZyI9PWQ/ImpwZyI6ZDtmPXRoaXMuZ2V0QmFzZUZpbGVuYW1lKGYpKyIuIitiO2E9dGhpcy5jcmVhdGVJbWFnZURhdGFVcmkoYSwKYyxkLGwpO3RoaXMuc2F2ZURhdGEoZixiLGEuc3Vic3RyaW5nKGEubGFzdEluZGV4T2YoIiwiKSsxKSwiaW1hZ2UvIitkLCEwKX07RWRpdG9yVWkucHJvdG90eXBlLmlzTG9jYWxGaWxlU2F2ZT1mdW5jdGlvbigpe3JldHVybiJyZW1vdGUiIT11cmxQYXJhbXMuc2F2ZSYmKG14Q2xpZW50LklTX0lFfHwidW5kZWZpbmVkIiE9PXR5cGVvZiB3aW5kb3cuQmxvYiYmInVuZGVmaW5lZCIhPT10eXBlb2Ygd2luZG93LlVSTCkmJjkhPWRvY3VtZW50LmRvY3VtZW50TW9kZSYmOCE9ZG9jdW1lbnQuZG9jdW1lbnRNb2RlJiY3IT1kb2N1bWVudC5kb2N1bWVudE1vZGUmJiFteENsaWVudC5JU19RVUlSS1N8fHRoaXMuaXNPZmZsaW5lQXBwKCl8fG14Q2xpZW50LklTX0lPU307RWRpdG9yVWkucHJvdG90eXBlLnNob3dUZXh0RGlhbG9nPWZ1bmN0aW9uKGEsYyl7dmFyIGI9bmV3IFRleHRhcmVhRGlhbG9nKHRoaXMsYSxjLG51bGwsbnVsbCxteFJlc291cmNlcy5nZXQoImNsb3NlIikpO2IudGV4dGFyZWEuc3R5bGUud2lkdGg9CiI2MDBweCI7Yi50ZXh0YXJlYS5zdHlsZS5oZWlnaHQ9IjM4MHB4Ijt0aGlzLnNob3dEaWFsb2coYi5jb250YWluZXIsNjIwLDQ2MCwhMCwhMCxudWxsLG51bGwsbnVsbCxudWxsLCEwKTtiLmluaXQoKTtkb2N1bWVudC5leGVjQ29tbWFuZCgic2VsZWN0YWxsIiwhMSxudWxsKX07RWRpdG9yVWkucHJvdG90eXBlLmRvU2F2ZUxvY2FsRmlsZT1mdW5jdGlvbihhLGMsZCxmLGwpeyJ0ZXh0L3htbCIhPWR8fC8oXC5kcmF3aW8pJC9pLnRlc3QoYyl8fC8oXC54bWwpJC9pLnRlc3QoYyl8fChjKz0iLmRyYXdpbyIpO2lmKHdpbmRvdy5CbG9iJiZuYXZpZ2F0b3IubXNTYXZlT3JPcGVuQmxvYilhPWY/dGhpcy5iYXNlNjRUb0Jsb2IoYSxkKTpuZXcgQmxvYihbYV0se3R5cGU6ZH0pLG5hdmlnYXRvci5tc1NhdmVPck9wZW5CbG9iKGEsYyk7ZWxzZSBpZihteENsaWVudC5JU19JRSlkPXdpbmRvdy5vcGVuKCJhYm91dDpibGFuayIsIl9ibGFuayIpLG51bGw9PWQ/bXhVdGlscy5wb3B1cChhLCEwKToKKGQuZG9jdW1lbnQud3JpdGUoYSksZC5kb2N1bWVudC5jbG9zZSgpLGQuZG9jdW1lbnQuZXhlY0NvbW1hbmQoIlNhdmVBcyIsITAsYyksZC5jbG9zZSgpKTtlbHNlIGlmKG14Q2xpZW50LklTX0lPUyYmdGhpcy5pc09mZmxpbmUoKSluYXZpZ2F0b3Iuc3RhbmRhbG9uZXx8bnVsbD09ZHx8ImltYWdlLyIhPWQuc3Vic3RyaW5nKDAsNik/dGhpcy5zaG93VGV4dERpYWxvZyhjKyI6IixhKTp0aGlzLm9wZW5Jbk5ld1dpbmRvdyhhLGQsZik7ZWxzZXt2YXIgYj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIiksZT0obnVsbD09bmF2aWdhdG9yLnVzZXJBZ2VudHx8MD5uYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIlBhbGVNb29uLyIpKSYmIW14Q2xpZW50LklTX0lPUyYmInVuZGVmaW5lZCIhPT10eXBlb2YgYi5kb3dubG9hZDtpZihteENsaWVudC5JU19HQyYmbnVsbCE9bmF2aWdhdG9yLnVzZXJBZ2VudCl2YXIgZz1uYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9DaHJvbShlfGl1bSlcLyhbMC05XSspXC4vKSwKZT02NT09KGc/cGFyc2VJbnQoZ1syXSwxMCk6ITEpPyExOmU7aWYoZXx8dGhpcy5pc09mZmxpbmUoKSl7Yi5ocmVmPVVSTC5jcmVhdGVPYmplY3RVUkwoZj90aGlzLmJhc2U2NFRvQmxvYihhLGQpOm5ldyBCbG9iKFthXSx7dHlwZTpkfSkpO2U/Yi5kb3dubG9hZD1jOmIuc2V0QXR0cmlidXRlKCJ0YXJnZXQiLCJfYmxhbmsiKTtkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGIpO3RyeXt3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpe1VSTC5yZXZva2VPYmplY3RVUkwoYi5ocmVmKX0sMCksYi5jbGljaygpLGIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChiKX1jYXRjaCh5KXt9fWVsc2UgdGhpcy5jcmVhdGVFY2hvUmVxdWVzdChhLGMsZCxmLGwpLnNpbXVsYXRlKGRvY3VtZW50LCJfYmxhbmsiKX19O0VkaXRvclVpLnByb3RvdHlwZS5jcmVhdGVFY2hvUmVxdWVzdD1mdW5jdGlvbihhLGMsZCxmLGwscCl7YT0ieG1sPSIrZW5jb2RlVVJJQ29tcG9uZW50KGEpO3JldHVybiBuZXcgbXhYbWxSZXF1ZXN0KFNBVkVfVVJMLAphKyhudWxsIT1kPyImbWltZT0iK2Q6IiIpKyhudWxsIT1sPyImZm9ybWF0PSIrbDoiIikrKG51bGwhPXA/IiZiYXNlNjQ9IitwOiIiKSsobnVsbCE9Yz8iJmZpbGVuYW1lPSIrZW5jb2RlVVJJQ29tcG9uZW50KGMpOiIiKSsoZj8iJmJpbmFyeT0xIjoiIikpfTtFZGl0b3JVaS5wcm90b3R5cGUuYmFzZTY0VG9CbG9iPWZ1bmN0aW9uKGEsYyl7Yz1jfHwiIjtmb3IodmFyIGI9YXRvYihhKSxlPWIubGVuZ3RoLGQ9TWF0aC5jZWlsKGUvMTAyNCksZj1BcnJheShkKSxrPTA7azxkOysrayl7Zm9yKHZhciBtPTEwMjQqayx5PU1hdGgubWluKG0rMTAyNCxlKSx4PUFycmF5KHktbSkscT0wO208eTsrK3EsKyttKXhbcV09YlttXS5jaGFyQ29kZUF0KDApO2Zba109bmV3IFVpbnQ4QXJyYXkoeCl9cmV0dXJuIG5ldyBCbG9iKGYse3R5cGU6Y30pfTtFZGl0b3JVaS5wcm90b3R5cGUuc2F2ZUxvY2FsRmlsZT1mdW5jdGlvbihhLGMsZCxmLGwscCxrKXtwPW51bGwhPXA/cDohMTtrPW51bGwhPWs/azoKInZzZHgiIT1sJiYoIW14Q2xpZW50LklTX0lPU3x8IW5hdmlnYXRvci5zdGFuZGFsb25lKTtsPXRoaXMuZ2V0U2VydmljZUNvdW50KHApO2lzTG9jYWxTdG9yYWdlJiZsKys7dmFyIGI9ND49bD8yOjY8bD80OjM7Yz1uZXcgQ3JlYXRlRGlhbG9nKHRoaXMsYyxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihiLGMpe3RyeXtpZigiX2JsYW5rIj09YylpZihudWxsIT1kJiYiaW1hZ2UvIj09ZC5zdWJzdHJpbmcoMCw2KSl0aGlzLm9wZW5Jbk5ld1dpbmRvdyhhLGQsZik7ZWxzZXt2YXIgZT13aW5kb3cub3BlbigiYWJvdXQ6YmxhbmsiKTtudWxsPT1lP214VXRpbHMucG9wdXAoYSwhMCk6KGUuZG9jdW1lbnQud3JpdGUoIjxwcmU+IitteFV0aWxzLmh0bWxFbnRpdGllcyhhLCExKSsiPC9wcmU+IiksZS5kb2N1bWVudC5jbG9zZSgpKX1lbHNlIGM9PUFwcC5NT0RFX0RFVklDRXx8ImRvd25sb2FkIj09Yz90aGlzLmRvU2F2ZUxvY2FsRmlsZShhLGIsZCxmKTpudWxsIT1iJiYwPGIubGVuZ3RoJiYKdGhpcy5waWNrRm9sZGVyKGMsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oZSl7dHJ5e3RoaXMuZXhwb3J0RmlsZShhLGIsZCxmLGMsZSl9Y2F0Y2goRCl7dGhpcy5oYW5kbGVFcnJvcihEKX19KSl9Y2F0Y2goQil7dGhpcy5oYW5kbGVFcnJvcihCKX19KSxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMuaGlkZURpYWxvZygpfSksbXhSZXNvdXJjZXMuZ2V0KCJzYXZlQXMiKSxteFJlc291cmNlcy5nZXQoImRvd25sb2FkIiksITEscCxrLG51bGwsMTxsLGIsYSxkLGYpO3A9dGhpcy5pc1NlcnZpY2VzKGwpP2w+Yj8zOTA6MjcwOjE2MDt0aGlzLnNob3dEaWFsb2coYy5jb250YWluZXIsNDAwLHAsITAsITApO2MuaW5pdCgpfTtFZGl0b3JVaS5wcm90b3R5cGUub3BlbkluTmV3V2luZG93PWZ1bmN0aW9uKGEsYyxkKXt2YXIgYj13aW5kb3cub3BlbigiYWJvdXQ6YmxhbmsiKTtudWxsPT1ifHxudWxsPT1iLmRvY3VtZW50P214VXRpbHMucG9wdXAoYSwhMCk6KCJpbWFnZS9zdmcreG1sIiE9CmN8fG14Q2xpZW50LklTX1NWRz8iaW1hZ2Uvc3ZnK3htbCI9PWM/Yi5kb2N1bWVudC53cml0ZSgiPGh0bWw+IithKyI8L2h0bWw+Iik6KGE9ZD9hOmJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KGEpKSksYi5kb2N1bWVudC53cml0ZSgnPGh0bWw+PGltZyBzdHlsZT0ibWF4LXdpZHRoOjEwMCU7IiBzcmM9ImRhdGE6JytjKyI7YmFzZTY0LCIrYSsnIi8+PC9odG1sPicpKTpiLmRvY3VtZW50LndyaXRlKCI8aHRtbD48cHJlPiIrbXhVdGlscy5odG1sRW50aXRpZXMoYSwhMSkrIjwvcHJlPjwvaHRtbD4iKSxiLmRvY3VtZW50LmNsb3NlKCkpfTt2YXIgZj1FZGl0b3JVaS5wcm90b3R5cGUuYWRkQ2hyb21lbGVzc1Rvb2xiYXJJdGVtcztFZGl0b3JVaS5wcm90b3R5cGUuYWRkQ2hyb21lbGVzc1Rvb2xiYXJJdGVtcz1mdW5jdGlvbihhKXtpZih0aGlzLmlzRXhwb3J0VG9DYW52YXMoKSl7dGhpcy5leHBvcnREaWFsb2c9bnVsbDt2YXIgYj1hKG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3ZhciBjPQpteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe214RXZlbnQucmVtb3ZlTGlzdGVuZXIodGhpcy5lZGl0b3IuZ3JhcGguY29udGFpbmVyLCJjbGljayIsYyk7bnVsbCE9dGhpcy5leHBvcnREaWFsb2cmJih0aGlzLmV4cG9ydERpYWxvZy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuZXhwb3J0RGlhbG9nKSx0aGlzLmV4cG9ydERpYWxvZz1udWxsKX0pO2lmKG51bGwhPXRoaXMuZXhwb3J0RGlhbG9nKWMuYXBwbHkodGhpcyk7ZWxzZXt0aGlzLmV4cG9ydERpYWxvZz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTt2YXIgZT1iLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO214VXRpbHMuc2V0UHJlZml4ZWRTdHlsZSh0aGlzLmV4cG9ydERpYWxvZy5zdHlsZSwiYm9yZGVyUmFkaXVzIiwiNXB4Iik7dGhpcy5leHBvcnREaWFsb2cuc3R5bGUucG9zaXRpb249ImZpeGVkIjt0aGlzLmV4cG9ydERpYWxvZy5zdHlsZS50ZXh0QWxpZ249ImNlbnRlciI7dGhpcy5leHBvcnREaWFsb2cuc3R5bGUuZm9udEZhbWlseT0KIkhlbHZldGljYSxBcmlhbCI7dGhpcy5leHBvcnREaWFsb2cuc3R5bGUuYmFja2dyb3VuZENvbG9yPSIjMDAwMDAwIjt0aGlzLmV4cG9ydERpYWxvZy5zdHlsZS53aWR0aD0iNTBweCI7dGhpcy5leHBvcnREaWFsb2cuc3R5bGUuaGVpZ2h0PSI1MHB4Ijt0aGlzLmV4cG9ydERpYWxvZy5zdHlsZS5wYWRkaW5nPSI0cHggMnB4IDRweCAycHgiO3RoaXMuZXhwb3J0RGlhbG9nLnN0eWxlLmNvbG9yPSIjZmZmZmZmIjtteFV0aWxzLnNldE9wYWNpdHkodGhpcy5leHBvcnREaWFsb2csNzApO3RoaXMuZXhwb3J0RGlhbG9nLnN0eWxlLmxlZnQ9ZS5sZWZ0KyJweCI7dGhpcy5leHBvcnREaWFsb2cuc3R5bGUuYm90dG9tPXBhcnNlSW50KHRoaXMuY2hyb21lbGVzc1Rvb2xiYXIuc3R5bGUuYm90dG9tKSt0aGlzLmNocm9tZWxlc3NUb29sYmFyLm9mZnNldEhlaWdodCs0KyJweCI7ZT1teFV0aWxzLmdldEN1cnJlbnRTdHlsZSh0aGlzLmVkaXRvci5ncmFwaC5jb250YWluZXIpO3RoaXMuZXhwb3J0RGlhbG9nLnN0eWxlLnpJbmRleD0KZS56SW5kZXg7dmFyIGQ9bmV3IFNwaW5uZXIoe2xpbmVzOjgsbGVuZ3RoOjYsd2lkdGg6NSxyYWRpdXM6Nixyb3RhdGU6MCxjb2xvcjoiI2ZmZiIsc3BlZWQ6MS41LHRyYWlsOjYwLHNoYWRvdzohMSxod2FjY2VsOiExLHRvcDoiMjhweCIsekluZGV4OjJFOX0pO2Quc3Bpbih0aGlzLmV4cG9ydERpYWxvZyk7dGhpcy5lZGl0b3IuZXhwb3J0VG9DYW52YXMobXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7ZC5zdG9wKCk7dGhpcy5leHBvcnREaWFsb2cuc3R5bGUud2lkdGg9ImF1dG8iO3RoaXMuZXhwb3J0RGlhbG9nLnN0eWxlLmhlaWdodD0iYXV0byI7dGhpcy5leHBvcnREaWFsb2cuc3R5bGUucGFkZGluZz0iMTBweCI7dmFyIGI9dGhpcy5jcmVhdGVJbWFnZURhdGFVcmkoYSxudWxsLCJwbmciKTthPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImltZyIpO2Euc3R5bGUubWF4V2lkdGg9IjE0MHB4IjthLnN0eWxlLm1heEhlaWdodD0iMTQwcHgiO2Euc3R5bGUuY3Vyc29yPSJwb2ludGVyIjsKYS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9IndoaXRlIjthLnNldEF0dHJpYnV0ZSgidGl0bGUiLG14UmVzb3VyY2VzLmdldCgib3BlbkluTmV3V2luZG93IikpO2Euc2V0QXR0cmlidXRlKCJib3JkZXIiLCIwIik7YS5zZXRBdHRyaWJ1dGUoInNyYyIsYik7dGhpcy5leHBvcnREaWFsb2cuYXBwZW5kQ2hpbGQoYSk7bXhFdmVudC5hZGRMaXN0ZW5lcihhLCJjbGljayIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt0aGlzLm9wZW5Jbk5ld1dpbmRvdyhiLnN1YnN0cmluZyhiLmluZGV4T2YoIiwiKSsxKSwiaW1hZ2UvcG5nIiwhMCk7Yy5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KSl9KSxudWxsLHRoaXMudGh1bWJJbWFnZUNhY2hlLG51bGwsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7dGhpcy5zcGlubmVyLnN0b3AoKTt0aGlzLmhhbmRsZUVycm9yKGEpfSkpO214RXZlbnQuYWRkTGlzdGVuZXIodGhpcy5lZGl0b3IuZ3JhcGguY29udGFpbmVyLCJjbGljayIsYyk7ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLmV4cG9ydERpYWxvZyl9bXhFdmVudC5jb25zdW1lKGEpfSksCkVkaXRvci5jYW1lcmFMYXJnZUltYWdlLG14UmVzb3VyY2VzLmdldCgiZXhwb3J0IikpfWYuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtFZGl0b3JVaS5wcm90b3R5cGUuc2F2ZURhdGE9ZnVuY3Rpb24oYSxjLGQsZixsKXt0aGlzLmlzTG9jYWxGaWxlU2F2ZSgpP3RoaXMuc2F2ZUxvY2FsRmlsZShkLGEsZixsLGMpOnRoaXMuc2F2ZVJlcXVlc3QoYSxjLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuY3JlYXRlRWNob1JlcXVlc3QoZCxhLGYsbCxjLGIpfSksZCxsLGYpfTtFZGl0b3JVaS5wcm90b3R5cGUuc2F2ZVJlcXVlc3Q9ZnVuY3Rpb24oYSxjLGQsZixsLHAsayl7az1udWxsIT1rP2s6IW14Q2xpZW50LklTX0lPU3x8IW5hdmlnYXRvci5zdGFuZGFsb25lO3ZhciBiPXRoaXMuZ2V0U2VydmljZUNvdW50KCExKTtpc0xvY2FsU3RvcmFnZSYmYisrO3ZhciBlPTQ+PWI/Mjo2PGI/NDozO2E9bmV3IENyZWF0ZURpYWxvZyh0aGlzLGEsbXhVdGlscy5iaW5kKHRoaXMsCmZ1bmN0aW9uKGEsYil7aWYoIl9ibGFuayI9PWJ8fG51bGwhPWEmJjA8YS5sZW5ndGgpe3ZhciBlPWQoIl9ibGFuayI9PWI/bnVsbDphLGI9PUFwcC5NT0RFX0RFVklDRXx8ImRvd25sb2FkIj09Ynx8bnVsbD09Ynx8Il9ibGFuayI9PWI/IjAiOiIxIik7bnVsbCE9ZSYmKGI9PUFwcC5NT0RFX0RFVklDRXx8ImRvd25sb2FkIj09Ynx8Il9ibGFuayI9PWI/ZS5zaW11bGF0ZShkb2N1bWVudCwiX2JsYW5rIik6dGhpcy5waWNrRm9sZGVyKGIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oZCl7cD1udWxsIT1wP3A6InBkZiI9PWM/ImFwcGxpY2F0aW9uL3BkZiI6ImltYWdlLyIrYztpZihudWxsIT1mKXRyeXt0aGlzLmV4cG9ydEZpbGUoZixhLHAsITAsYixkKX1jYXRjaCh6KXt0aGlzLmhhbmRsZUVycm9yKHopfWVsc2UgdGhpcy5zcGlubmVyLnNwaW4oZG9jdW1lbnQuYm9keSxteFJlc291cmNlcy5nZXQoInNhdmluZyIpKSYmZS5zZW5kKG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dGhpcy5zcGlubmVyLnN0b3AoKTsKaWYoMjAwPD1lLmdldFN0YXR1cygpJiYyOTk+PWUuZ2V0U3RhdHVzKCkpdHJ5e3RoaXMuZXhwb3J0RmlsZShlLmdldFRleHQoKSxhLHAsITAsYixkKX1jYXRjaCh6KXt0aGlzLmhhbmRsZUVycm9yKHopfWVsc2UgdGhpcy5oYW5kbGVFcnJvcih7bWVzc2FnZTpteFJlc291cmNlcy5nZXQoImVycm9yU2F2aW5nRmlsZSIpfSl9KSxmdW5jdGlvbihhKXt0aGlzLnNwaW5uZXIuc3RvcCgpO3RoaXMuaGFuZGxlRXJyb3IoYSl9KX0pKSl9fSksbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt0aGlzLmhpZGVEaWFsb2coKX0pLG14UmVzb3VyY2VzLmdldCgic2F2ZUFzIiksbXhSZXNvdXJjZXMuZ2V0KCJkb3dubG9hZCIpLCExLCExLGssbnVsbCwxPGIsZSxmLHAsbCk7Yj10aGlzLmlzU2VydmljZXMoYik/NDxiPzM5MDoyNzA6MTYwO3RoaXMuc2hvd0RpYWxvZyhhLmNvbnRhaW5lciwzODAsYiwhMCwhMCk7YS5pbml0KCl9O0VkaXRvclVpLnByb3RvdHlwZS5pc1NlcnZpY2VzPWZ1bmN0aW9uKGEpe3JldHVybiAxIT0KYX07RWRpdG9yVWkucHJvdG90eXBlLmdldEVkaXRCbGFua1htbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldEZpbGVEYXRhKCEwKX07RWRpdG9yVWkucHJvdG90eXBlLmV4cG9ydEZpbGU9ZnVuY3Rpb24oYSxjLGQsZixsLHApe307RWRpdG9yVWkucHJvdG90eXBlLnBpY2tGb2xkZXI9ZnVuY3Rpb24oYSxjLGQpe2MobnVsbCl9O0VkaXRvclVpLnByb3RvdHlwZS5leHBvcnRTdmc9ZnVuY3Rpb24oYSxjLGQsZixsLHAsayxtLHkseCxxKXtpZih0aGlzLnNwaW5uZXIuc3Bpbihkb2N1bWVudC5ib2R5LG14UmVzb3VyY2VzLmdldCgiZXhwb3J0IikpKXRyeXt2YXIgYj10aGlzLmVkaXRvci5ncmFwaC5pc1NlbGVjdGlvbkVtcHR5KCk7ZD1udWxsIT1kP2Q6Yjt2YXIgZT1jP251bGw6dGhpcy5lZGl0b3IuZ3JhcGguYmFja2dyb3VuZDtlPT1teENvbnN0YW50cy5OT05FJiYoZT1udWxsKTtudWxsPT1lJiYwPT1jJiYoZT1xP3RoaXMuZWRpdG9yLmdyYXBoLmRlZmF1bHRQYWdlQmFja2dyb3VuZENvbG9yOgoiI2ZmZmZmZiIpO3ZhciBnPXRoaXMuZWRpdG9yLmdyYXBoLmdldFN2ZyhlLGEsayxtLG51bGwsZCxudWxsLG51bGwsImJsYW5rIj09eD8iX2JsYW5rIjoic2VsZiI9PXg/Il90b3AiOm51bGwsbnVsbCwhMCxxKTtmJiZ0aGlzLmVkaXRvci5ncmFwaC5hZGRTdmdTaGFkb3coZyk7dmFyIG49dGhpcy5nZXRCYXNlRmlsZW5hbWUoKSsiLnN2ZyIsdD1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXt0aGlzLnNwaW5uZXIuc3RvcCgpO2wmJmEuc2V0QXR0cmlidXRlKCJjb250ZW50Iix0aGlzLmdldEZpbGVEYXRhKCEwLG51bGwsbnVsbCxudWxsLGQseSxudWxsLG51bGwsbnVsbCwhMSkpO3ZhciBiPSc8P3htbCB2ZXJzaW9uPSIxLjAiIGVuY29kaW5nPSJVVEYtOCI/PlxuPCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj5cbicrbXhVdGlscy5nZXRYbWwoYSk7dGhpcy5pc0xvY2FsRmlsZVNhdmUoKXx8CmIubGVuZ3RoPD1NQVhfUkVRVUVTVF9TSVpFP3RoaXMuc2F2ZURhdGEobiwic3ZnIixiLCJpbWFnZS9zdmcreG1sIik6dGhpcy5oYW5kbGVFcnJvcih7bWVzc2FnZTpteFJlc291cmNlcy5nZXQoImRyYXdpbmdUb29MYXJnZSIpfSxteFJlc291cmNlcy5nZXQoImVycm9yIiksbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXtteFV0aWxzLnBvcHVwKGIpfSkpfSk7dGhpcy5lZGl0b3IuYWRkRm9udENzcyhnKTt0aGlzLmVkaXRvci5ncmFwaC5tYXRoRW5hYmxlZCYmdGhpcy5lZGl0b3IuYWRkTWF0aENzcyhnKTtwPyhudWxsPT10aGlzLnRodW1iSW1hZ2VDYWNoZSYmKHRoaXMudGh1bWJJbWFnZUNhY2hlPXt9KSx0aGlzLmVkaXRvci5jb252ZXJ0SW1hZ2VzKGcsdCx0aGlzLnRodW1iSW1hZ2VDYWNoZSkpOnQoZyl9Y2F0Y2goRil7dGhpcy5oYW5kbGVFcnJvcihGKX19O0VkaXRvclVpLnByb3RvdHlwZS5hZGRSYWRpb2JveD1mdW5jdGlvbihhLGMsZCxmLGwscCxrKXtyZXR1cm4gdGhpcy5hZGRDaGVja2JveChhLApkLGYsbCxwLGssITAsYyl9O0VkaXRvclVpLnByb3RvdHlwZS5hZGRDaGVja2JveD1mdW5jdGlvbihhLGMsZCxmLGwscCxrLG0pe3A9bnVsbCE9cD9wOiEwO3ZhciBiPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7Yi5zdHlsZS5tYXJnaW5SaWdodD0iOHB4IjtiLnN0eWxlLm1hcmdpblRvcD0iMTZweCI7Yi5zZXRBdHRyaWJ1dGUoInR5cGUiLGs/InJhZGlvIjoiY2hlY2tib3giKTtrPSJnZUNoZWNrYm94LSIrRWRpdG9yLmd1aWQoKTtiLmlkPWs7bnVsbCE9bSYmYi5zZXRBdHRyaWJ1dGUoIm5hbWUiLG0pO2QmJihiLnNldEF0dHJpYnV0ZSgiY2hlY2tlZCIsImNoZWNrZWQiKSxiLmRlZmF1bHRDaGVja2VkPSEwKTtmJiZiLnNldEF0dHJpYnV0ZSgiZGlzYWJsZWQiLCJkaXNhYmxlZCIpO3AmJihhLmFwcGVuZENoaWxkKGIpLGQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgibGFiZWwiKSxteFV0aWxzLndyaXRlKGQsYyksZC5zZXRBdHRyaWJ1dGUoImZvciIsayksYS5hcHBlbmRDaGlsZChkKSwKbHx8bXhVdGlscy5icihhKSk7cmV0dXJuIGJ9O0VkaXRvclVpLnByb3RvdHlwZS5hZGRFZGl0QnV0dG9uPWZ1bmN0aW9uKGEsYyl7dmFyIGI9dGhpcy5hZGRDaGVja2JveChhLG14UmVzb3VyY2VzLmdldCgiZWRpdCIpKyI6IiwhMCxudWxsLCEwKTtiLnN0eWxlLm1hcmdpbkxlZnQ9IjI0cHgiO3ZhciBlPXRoaXMuZ2V0Q3VycmVudEZpbGUoKSxkPSIiO251bGwhPWUmJmUuZ2V0TW9kZSgpIT1BcHAuTU9ERV9ERVZJQ0UmJmUuZ2V0TW9kZSgpIT1BcHAuTU9ERV9CUk9XU0VSJiYoZD13aW5kb3cubG9jYXRpb24uaHJlZik7dmFyIGY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic2VsZWN0Iik7Zi5zdHlsZS53aWR0aD0iMTIwcHgiO2Yuc3R5bGUubWFyZ2luTGVmdD0iOHB4IjtmLnN0eWxlLm1hcmdpblJpZ2h0PSIxMHB4IjtmLmNsYXNzTmFtZT0iZ2VCdG4iO2U9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgib3B0aW9uIik7ZS5zZXRBdHRyaWJ1dGUoInZhbHVlIiwiYmxhbmsiKTtteFV0aWxzLndyaXRlKGUsCm14UmVzb3VyY2VzLmdldCgibWFrZUNvcHkiKSk7Zi5hcHBlbmRDaGlsZChlKTtlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIm9wdGlvbiIpO2Uuc2V0QXR0cmlidXRlKCJ2YWx1ZSIsImN1c3RvbSIpO214VXRpbHMud3JpdGUoZSxteFJlc291cmNlcy5nZXQoImN1c3RvbSIpKyIuLi4iKTtmLmFwcGVuZENoaWxkKGUpO2EuYXBwZW5kQ2hpbGQoZik7bXhFdmVudC5hZGRMaXN0ZW5lcihmLCJjaGFuZ2UiLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7aWYoImN1c3RvbSI9PWYudmFsdWUpe3ZhciBhPW5ldyBGaWxlbmFtZURpYWxvZyh0aGlzLGQsbXhSZXNvdXJjZXMuZ2V0KCJvayIpLGZ1bmN0aW9uKGEpe251bGwhPWE/ZD1hOmYudmFsdWU9ImJsYW5rIn0sbXhSZXNvdXJjZXMuZ2V0KCJ1cmwiKSxudWxsLG51bGwsbnVsbCxudWxsLGZ1bmN0aW9uKCl7Zi52YWx1ZT0iYmxhbmsifSk7dGhpcy5zaG93RGlhbG9nKGEuY29udGFpbmVyLDMwMCw4MCwhMCwhMSk7YS5pbml0KCl9fSkpOwpteEV2ZW50LmFkZExpc3RlbmVyKGIsImNoYW5nZSIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXtiLmNoZWNrZWQmJihudWxsPT1jfHxjLmNoZWNrZWQpP2YucmVtb3ZlQXR0cmlidXRlKCJkaXNhYmxlZCIpOmYuc2V0QXR0cmlidXRlKCJkaXNhYmxlZCIsImRpc2FibGVkIil9KSk7bXhVdGlscy5icihhKTtyZXR1cm57Z2V0TGluazpmdW5jdGlvbigpe3JldHVybiBiLmNoZWNrZWQ/ImJsYW5rIj09PWYudmFsdWU/Il9ibGFuayI6ZDpudWxsfSxnZXRFZGl0SW5wdXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYn0sZ2V0RWRpdFNlbGVjdDpmdW5jdGlvbigpe3JldHVybiBmfX19O0VkaXRvclVpLnByb3RvdHlwZS5hZGRMaW5rU2VjdGlvbj1mdW5jdGlvbihhLGMpe2Z1bmN0aW9uIGIoKXtrLmlubmVySFRNTD0nPGRpdiBzdHlsZT0id2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTtib3gtc2l6aW5nOmJvcmRlci1ib3g7JysobnVsbCE9ZiYmZiE9bXhDb25zdGFudHMuTk9ORT8iYm9yZGVyOjFweCBzb2xpZCBibGFjaztiYWNrZ3JvdW5kLWNvbG9yOiIrCmY6ImJhY2tncm91bmQtcG9zaXRpb246Y2VudGVyIGNlbnRlcjtiYWNrZ3JvdW5kLXJlcGVhdDpuby1yZXBlYXQ7YmFja2dyb3VuZC1pbWFnZTp1cmwoJyIrRGlhbG9nLnByb3RvdHlwZS5jbG9zZUltYWdlKyInKSIpKyc7Ij48L2Rpdj4nfW14VXRpbHMud3JpdGUoYSxteFJlc291cmNlcy5nZXQoImxpbmtzIikrIjoiKTt2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzZWxlY3QiKTtlLnN0eWxlLndpZHRoPSIxMDBweCI7ZS5zdHlsZS5tYXJnaW5MZWZ0PSI4cHgiO2Uuc3R5bGUubWFyZ2luUmlnaHQ9IjEwcHgiO2UuY2xhc3NOYW1lPSJnZUJ0biI7dmFyIGQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgib3B0aW9uIik7ZC5zZXRBdHRyaWJ1dGUoInZhbHVlIiwiYXV0byIpO214VXRpbHMud3JpdGUoZCxteFJlc291cmNlcy5nZXQoImF1dG9tYXRpYyIpKTtlLmFwcGVuZENoaWxkKGQpO2Q9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgib3B0aW9uIik7ZC5zZXRBdHRyaWJ1dGUoInZhbHVlIiwKImJsYW5rIik7bXhVdGlscy53cml0ZShkLG14UmVzb3VyY2VzLmdldCgib3BlbkluTmV3V2luZG93IikpO2UuYXBwZW5kQ2hpbGQoZCk7ZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJvcHRpb24iKTtkLnNldEF0dHJpYnV0ZSgidmFsdWUiLCJzZWxmIik7bXhVdGlscy53cml0ZShkLG14UmVzb3VyY2VzLmdldCgib3BlbkluVGhpc1dpbmRvdyIpKTtlLmFwcGVuZENoaWxkKGQpO2MmJihkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIm9wdGlvbiIpLGQuc2V0QXR0cmlidXRlKCJ2YWx1ZSIsImZyYW1lIiksbXhVdGlscy53cml0ZShkLG14UmVzb3VyY2VzLmdldCgib3BlbkluVGhpc1dpbmRvdyIpKyIgKCIrbXhSZXNvdXJjZXMuZ2V0KCJpZnJhbWUiKSsiKSIpLGUuYXBwZW5kQ2hpbGQoZCkpO2EuYXBwZW5kQ2hpbGQoZSk7bXhVdGlscy53cml0ZShhLG14UmVzb3VyY2VzLmdldCgiYm9yZGVyQ29sb3IiKSsiOiIpO3ZhciBmPSIjMDAwMGZmIixrPW51bGwsaz1teFV0aWxzLmJ1dHRvbigiIiwKbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7dGhpcy5waWNrQ29sb3IoZnx8Im5vbmUiLGZ1bmN0aW9uKGEpe2Y9YTtiKCl9KTtteEV2ZW50LmNvbnN1bWUoYSl9KSk7YigpO2suc3R5bGUucGFkZGluZz1teENsaWVudC5JU19GRj8iNHB4IDJweCA0cHggMnB4IjoiNHB4IjtrLnN0eWxlLm1hcmdpbkxlZnQ9IjRweCI7ay5zdHlsZS5oZWlnaHQ9IjIycHgiO2suc3R5bGUud2lkdGg9IjIycHgiO2suc3R5bGUucG9zaXRpb249InJlbGF0aXZlIjtrLnN0eWxlLnRvcD1teENsaWVudC5JU19JRXx8bXhDbGllbnQuSVNfSUUxMXx8bXhDbGllbnQuSVNfRURHRT8iNnB4IjoiMXB4IjtrLmNsYXNzTmFtZT0iZ2VDb2xvckJ0biI7YS5hcHBlbmRDaGlsZChrKTtteFV0aWxzLmJyKGEpO3JldHVybntnZXRDb2xvcjpmdW5jdGlvbigpe3JldHVybiBmfSxnZXRUYXJnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZS52YWx1ZX0sZm9jdXM6ZnVuY3Rpb24oKXtlLmZvY3VzKCl9fX07RWRpdG9yVWkucHJvdG90eXBlLmNyZWF0ZUxpbms9CmZ1bmN0aW9uKGEsYyxkLGYsbCxwLGssbSl7dmFyIGI9dGhpcy5nZXRDdXJyZW50RmlsZSgpLGU9W107ZiYmKGUucHVzaCgibGlnaHRib3g9MSIpLCJhdXRvIiE9YSYmZS5wdXNoKCJ0YXJnZXQ9IithKSxudWxsIT1jJiZjIT1teENvbnN0YW50cy5OT05FJiZlLnB1c2goImhpZ2hsaWdodD0iKygiIyI9PWMuY2hhckF0KDApP2Muc3Vic3RyaW5nKDEpOmMpKSxudWxsIT1sJiYwPGwubGVuZ3RoJiZlLnB1c2goImVkaXQ9IitlbmNvZGVVUklDb21wb25lbnQobCkpLHAmJmUucHVzaCgibGF5ZXJzPTEiKSx0aGlzLmVkaXRvci5ncmFwaC5mb2xkaW5nRW5hYmxlZCYmZS5wdXNoKCJuYXY9MSIpKTtkJiZudWxsIT10aGlzLmN1cnJlbnRQYWdlJiZudWxsIT10aGlzLnBhZ2VzJiZ0aGlzLmN1cnJlbnRQYWdlIT10aGlzLnBhZ2VzWzBdJiZlLnB1c2goInBhZ2UtaWQ9Iit0aGlzLmN1cnJlbnRQYWdlLmdldElkKCkpO2E9ITA7bnVsbCE9az9kPSIjVSIrZW5jb2RlVVJJQ29tcG9uZW50KGspOihiPQp0aGlzLmdldEN1cnJlbnRGaWxlKCksbXx8bnVsbD09Ynx8Yi5jb25zdHJ1Y3RvciE9d2luZG93LkRyaXZlRmlsZT9kPSIjUiIrZW5jb2RlVVJJQ29tcG9uZW50KGQ/dGhpcy5nZXRGaWxlRGF0YSghMCxudWxsLG51bGwsbnVsbCxudWxsLG51bGwsbnVsbCwhMCxudWxsLCExKTpHcmFwaC5jb21wcmVzcyhteFV0aWxzLmdldFhtbCh0aGlzLmVkaXRvci5nZXRHcmFwaFhtbCgpKSkpOihkPSIjIitiLmdldEhhc2goKSxhPSExKSk7YSYmbnVsbCE9YiYmbnVsbCE9Yi5nZXRUaXRsZSgpJiZiLmdldFRpdGxlKCkhPXRoaXMuZGVmYXVsdEZpbGVuYW1lJiZlLnB1c2goInRpdGxlPSIrZW5jb2RlVVJJQ29tcG9uZW50KGIuZ2V0VGl0bGUoKSkpO3JldHVybihteENsaWVudC5JU19DSFJPTUVBUFB8fEVkaXRvclVpLmlzRWxlY3Ryb25BcHB8fCEvLipcLmRyYXdcLmlvJC8udGVzdCh3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUpP0VkaXRvclVpLmRyYXdIb3N0OiJodHRwczovLyIrd2luZG93LmxvY2F0aW9uLmhvc3QpKwoiLyIrKDA8ZS5sZW5ndGg/Ij8iK2Uuam9pbigiJiIpOiIiKStkfTtFZGl0b3JVaS5wcm90b3R5cGUuY3JlYXRlSHRtbD1mdW5jdGlvbihhLGMsZCxmLGwscCxrLG0seSx4LHEpe3RoaXMuZ2V0QmFzZW5hbWVzKCk7dmFyIGI9e307IiIhPWwmJmwhPW14Q29uc3RhbnRzLk5PTkUmJihiLmhpZ2hsaWdodD1sKTsiYXV0byIhPT1mJiYoYi50YXJnZXQ9Zik7eXx8KGIubGlnaHRib3g9ITEpO2IubmF2PXRoaXMuZWRpdG9yLmdyYXBoLmZvbGRpbmdFbmFibGVkO2Q9cGFyc2VJbnQoZCk7aXNOYU4oZCl8fDEwMD09ZHx8KGIuem9vbT1kLzEwMCk7ZD1bXTtrJiYoZC5wdXNoKCJwYWdlcyIpLGIucmVzaXplPSEwLG51bGwhPXRoaXMucGFnZXMmJm51bGwhPXRoaXMuY3VycmVudFBhZ2UmJihiLnBhZ2U9bXhVdGlscy5pbmRleE9mKHRoaXMucGFnZXMsdGhpcy5jdXJyZW50UGFnZSkpKTtjJiYoZC5wdXNoKCJ6b29tIiksYi5yZXNpemU9ITApO20mJmQucHVzaCgibGF5ZXJzIik7MDxkLmxlbmd0aCYmCih5JiZkLnB1c2goImxpZ2h0Ym94IiksYi50b29sYmFyPWQuam9pbigiICIpKTtudWxsIT14JiYwPHgubGVuZ3RoJiYoYi5lZGl0PXgpO251bGwhPWE/Yi51cmw9YTpiLnhtbD10aGlzLmdldEZpbGVEYXRhKCEwLG51bGwsbnVsbCxudWxsLG51bGwsIWspO2M9JzxkaXYgY2xhc3M9Im14Z3JhcGgiIHN0eWxlPSInKyhwPyJtYXgtd2lkdGg6MTAwJTsiOiIiKSsoIiIhPWQ/ImJvcmRlcjoxcHggc29saWQgdHJhbnNwYXJlbnQ7IjoiIikrJyIgZGF0YS1teGdyYXBoPSInK214VXRpbHMuaHRtbEVudGl0aWVzKEpTT04uc3RyaW5naWZ5KGIpKSsnIj48L2Rpdj4nO2E9bnVsbCE9YT8iJmZldGNoPSIrZW5jb2RlVVJJQ29tcG9uZW50KGEpOiIiO3EoYywnPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiIHNyYz0iJysoMDxhLmxlbmd0aD8oIjEiPT11cmxQYXJhbXMuZGV2PyJodHRwczovL3Rlc3QuZHJhdy5pby9lbWJlZDIuanM/ZGV2PTEiOkVkaXRvclVpLmRyYXdIb3N0KyIvZW1iZWQyLmpzPyIpKwphOiIxIj09dXJsUGFyYW1zLmRldj8iaHR0cHM6Ly90ZXN0LmRyYXcuaW8vanMvdmlld2VyLm1pbi5qcyI6d2luZG93LlZJRVdFUl9VUkw/d2luZG93LlZJRVdFUl9VUkw6RWRpdG9yVWkuZHJhd0hvc3QrIi9qcy92aWV3ZXIubWluLmpzIikrJyI+XHgzYy9zY3JpcHQ+Jyl9O0VkaXRvclVpLnByb3RvdHlwZS5zaG93SHRtbERpYWxvZz1mdW5jdGlvbihhLGMsZCxmKXt2YXIgYj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtiLnN0eWxlLndoaXRlU3BhY2U9Im5vd3JhcCI7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaDMiKTtteFV0aWxzLndyaXRlKGUsbXhSZXNvdXJjZXMuZ2V0KCJodG1sIikpO2Uuc3R5bGUuY3NzVGV4dD0id2lkdGg6MTAwJTt0ZXh0LWFsaWduOmNlbnRlcjttYXJnaW4tdG9wOjBweDttYXJnaW4tYm90dG9tOjEycHgiO2IuYXBwZW5kQ2hpbGQoZSk7dmFyIGc9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7Zy5zdHlsZS5jc3NUZXh0PSJib3JkZXItYm90dG9tOjFweCBzb2xpZCBsaWdodEdyYXk7cGFkZGluZy1ib3R0b206OHB4O21hcmdpbi1ib3R0b206MTJweDsiOwp2YXIgbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbnB1dCIpO24uc3R5bGUuY3NzVGV4dD0ibWFyZ2luLXJpZ2h0OjhweDttYXJnaW4tdG9wOjhweDttYXJnaW4tYm90dG9tOjhweDsiO24uc2V0QXR0cmlidXRlKCJ2YWx1ZSIsInVybCIpO24uc2V0QXR0cmlidXRlKCJ0eXBlIiwicmFkaW8iKTtuLnNldEF0dHJpYnV0ZSgibmFtZSIsInR5cGUtZW1iZWRodG1sZGlhbG9nIik7ZT1uLmNsb25lTm9kZSghMCk7ZS5zZXRBdHRyaWJ1dGUoInZhbHVlIiwiY29weSIpO2cuYXBwZW5kQ2hpbGQoZSk7dmFyIGs9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3BhbiIpO214VXRpbHMud3JpdGUoayxteFJlc291cmNlcy5nZXQoImluY2x1ZGVDb3B5T2ZNeURpYWdyYW0iKSk7Zy5hcHBlbmRDaGlsZChrKTtteFV0aWxzLmJyKGcpO2cuYXBwZW5kQ2hpbGQobik7az1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzcGFuIik7bXhVdGlscy53cml0ZShrLG14UmVzb3VyY2VzLmdldCgicHVibGljRGlhZ3JhbVVybCIpKTsKZy5hcHBlbmRDaGlsZChrKTt2YXIgbT10aGlzLmdldEN1cnJlbnRGaWxlKCk7bnVsbD09ZCYmbnVsbCE9bSYmbS5jb25zdHJ1Y3Rvcj09d2luZG93LkRyaXZlRmlsZSYmKGs9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpLGsuc3R5bGUucGFkZGluZ0xlZnQ9IjEycHgiLGsuc3R5bGUuY29sb3I9ImdyYXkiLGsuc3R5bGUuY3Vyc29yPSJwb2ludGVyIixteFV0aWxzLndyaXRlKGssbXhSZXNvdXJjZXMuZ2V0KCJzaGFyZSIpKSxnLmFwcGVuZENoaWxkKGspLG14RXZlbnQuYWRkTGlzdGVuZXIoaywiY2xpY2siLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dGhpcy5oaWRlRGlhbG9nKCk7dGhpcy5kcml2ZS5zaG93UGVybWlzc2lvbnMobS5nZXRJZCgpKX0pKSk7ZS5zZXRBdHRyaWJ1dGUoImNoZWNrZWQiLCJjaGVja2VkIik7bnVsbD09ZCYmbi5zZXRBdHRyaWJ1dGUoImRpc2FibGVkIiwiZGlzYWJsZWQiKTtiLmFwcGVuZENoaWxkKGcpO3ZhciBxPXRoaXMuYWRkTGlua1NlY3Rpb24oYiksCkI9dGhpcy5hZGRDaGVja2JveChiLG14UmVzb3VyY2VzLmdldCgiem9vbSIpLCEwLG51bGwsITApO214VXRpbHMud3JpdGUoYiwiOiIpO3ZhciBEPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7RC5zZXRBdHRyaWJ1dGUoInR5cGUiLCJ0ZXh0Iik7RC5zdHlsZS5tYXJnaW5SaWdodD0iMTZweCI7RC5zdHlsZS53aWR0aD0iNjBweCI7RC5zdHlsZS5tYXJnaW5MZWZ0PSI0cHgiO0Quc3R5bGUubWFyZ2luUmlnaHQ9IjEycHgiO0QudmFsdWU9IjEwMCUiO2IuYXBwZW5kQ2hpbGQoRCk7dmFyIHo9dGhpcy5hZGRDaGVja2JveChiLG14UmVzb3VyY2VzLmdldCgiZml0IiksITApLGc9bnVsbCE9dGhpcy5wYWdlcyYmMTx0aGlzLnBhZ2VzLmxlbmd0aCxFPUU9dGhpcy5hZGRDaGVja2JveChiLG14UmVzb3VyY2VzLmdldCgiYWxsUGFnZXMiKSxnLCFnKSxHPXRoaXMuYWRkQ2hlY2tib3goYixteFJlc291cmNlcy5nZXQoImxheWVycyIpLCEwKSxGPXRoaXMuYWRkQ2hlY2tib3goYixteFJlc291cmNlcy5nZXQoImxpZ2h0Ym94IiksCiEwKSxIPXRoaXMuYWRkRWRpdEJ1dHRvbihiLEYpLEo9SC5nZXRFZGl0SW5wdXQoKTtKLnN0eWxlLm1hcmdpbkJvdHRvbT0iMTZweCI7bXhFdmVudC5hZGRMaXN0ZW5lcihGLCJjaGFuZ2UiLGZ1bmN0aW9uKCl7Ri5jaGVja2VkP0oucmVtb3ZlQXR0cmlidXRlKCJkaXNhYmxlZCIpOkouc2V0QXR0cmlidXRlKCJkaXNhYmxlZCIsImRpc2FibGVkIik7Si5jaGVja2VkJiZGLmNoZWNrZWQ/SC5nZXRFZGl0U2VsZWN0KCkucmVtb3ZlQXR0cmlidXRlKCJkaXNhYmxlZCIpOkguZ2V0RWRpdFNlbGVjdCgpLnNldEF0dHJpYnV0ZSgiZGlzYWJsZWQiLCJkaXNhYmxlZCIpfSk7YT1uZXcgQ3VzdG9tRGlhbG9nKHRoaXMsYixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe2Yobi5jaGVja2VkP2Q6bnVsbCxCLmNoZWNrZWQsRC52YWx1ZSxxLmdldFRhcmdldCgpLHEuZ2V0Q29sb3IoKSx6LmNoZWNrZWQsRS5jaGVja2VkLEcuY2hlY2tlZCxGLmNoZWNrZWQsSC5nZXRMaW5rKCkpfSksbnVsbCxhLApjKTt0aGlzLnNob3dEaWFsb2coYS5jb250YWluZXIsMzQwLDM4NCwhMCwhMCk7ZS5mb2N1cygpfTtFZGl0b3JVaS5wcm90b3R5cGUuc2hvd1B1Ymxpc2hMaW5rRGlhbG9nPWZ1bmN0aW9uKGEsYyxkLGYsbCxwKXt2YXIgYj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtiLnN0eWxlLndoaXRlU3BhY2U9Im5vd3JhcCI7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaDMiKTtteFV0aWxzLndyaXRlKGUsYXx8bXhSZXNvdXJjZXMuZ2V0KCJsaW5rIikpO2Uuc3R5bGUuY3NzVGV4dD0id2lkdGg6MTAwJTt0ZXh0LWFsaWduOmNlbnRlcjttYXJnaW4tdG9wOjBweDttYXJnaW4tYm90dG9tOjEycHgiO2IuYXBwZW5kQ2hpbGQoZSk7dmFyIGc9dGhpcy5nZXRDdXJyZW50RmlsZSgpLGU9Imh0dHBzOi8vZGVzay5kcmF3LmlvL3N1cHBvcnQvc29sdXRpb25zL2FydGljbGVzLzE2MDAwMDUxOTQxIjthPTA7aWYobnVsbCE9ZyYmZy5jb25zdHJ1Y3Rvcj09d2luZG93LkRyaXZlRmlsZSYmCiFjKXthPTgwO3ZhciBlPSJodHRwczovL2Rlc2suZHJhdy5pby9zdXBwb3J0L3NvbHV0aW9ucy9hcnRpY2xlcy8xNjAwMDAzOTM4NCIsbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtuLnN0eWxlLmNzc1RleHQ9ImJvcmRlci1ib3R0b206MXB4IHNvbGlkIGxpZ2h0R3JheTtwYWRkaW5nLWJvdHRvbToxNHB4O3BhZGRpbmctdG9wOjZweDttYXJnaW4tYm90dG9tOjE0cHg7dGV4dC1hbGlnbjpjZW50ZXI7Ijt2YXIgaz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtrLnN0eWxlLndoaXRlU3BhY2U9Im5vcm1hbCI7bXhVdGlscy53cml0ZShrLG14UmVzb3VyY2VzLmdldCgibGlua0FjY291bnRSZXF1aXJlZCIpKTtuLmFwcGVuZENoaWxkKGspO2s9bXhVdGlscy5idXR0b24obXhSZXNvdXJjZXMuZ2V0KCJzaGFyZSIpLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dGhpcy5kcml2ZS5zaG93UGVybWlzc2lvbnMoZy5nZXRJZCgpKX0pKTtrLnN0eWxlLm1hcmdpblRvcD0KIjEycHgiO2suY2xhc3NOYW1lPSJnZUJ0biI7bi5hcHBlbmRDaGlsZChrKTtiLmFwcGVuZENoaWxkKG4pO2s9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpO2suc3R5bGUucGFkZGluZ0xlZnQ9IjEycHgiO2suc3R5bGUuY29sb3I9ImdyYXkiO2suc3R5bGUuZm9udFNpemU9IjExcHgiO2suc3R5bGUuY3Vyc29yPSJwb2ludGVyIjtteFV0aWxzLndyaXRlKGssbXhSZXNvdXJjZXMuZ2V0KCJjaGVjayIpKTtuLmFwcGVuZENoaWxkKGspO214RXZlbnQuYWRkTGlzdGVuZXIoaywiY2xpY2siLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dGhpcy5zcGlubmVyLnNwaW4oZG9jdW1lbnQuYm9keSxteFJlc291cmNlcy5nZXQoImxvYWRpbmciKSkmJnRoaXMuZ2V0UHVibGljVXJsKHRoaXMuZ2V0Q3VycmVudEZpbGUoKSxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXt0aGlzLnNwaW5uZXIuc3RvcCgpO2E9bmV3IEVycm9yRGlhbG9nKHRoaXMsbnVsbCxteFJlc291cmNlcy5nZXQobnVsbCE9CmE/ImRpYWdyYW1Jc1B1YmxpYyI6ImRpYWdyYW1Jc05vdFB1YmxpYyIpLG14UmVzb3VyY2VzLmdldCgib2siKSk7dGhpcy5zaG93RGlhbG9nKGEuY29udGFpbmVyLDMwMCw4MCwhMCwhMSk7YS5pbml0KCl9KSl9KSl9dmFyIG09bnVsbCxxPW51bGw7aWYobnVsbCE9ZHx8bnVsbCE9ZilhKz0zMCxteFV0aWxzLndyaXRlKGIsbXhSZXNvdXJjZXMuZ2V0KCJ3aWR0aCIpKyI6IiksbT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbnB1dCIpLG0uc2V0QXR0cmlidXRlKCJ0eXBlIiwidGV4dCIpLG0uc3R5bGUubWFyZ2luUmlnaHQ9IjE2cHgiLG0uc3R5bGUud2lkdGg9IjUwcHgiLG0uc3R5bGUubWFyZ2luTGVmdD0iNnB4IixtLnN0eWxlLm1hcmdpblJpZ2h0PSIxNnB4IixtLnN0eWxlLm1hcmdpbkJvdHRvbT0iMTBweCIsbS52YWx1ZT0iMTAwJSIsYi5hcHBlbmRDaGlsZChtKSxteFV0aWxzLndyaXRlKGIsbXhSZXNvdXJjZXMuZ2V0KCJoZWlnaHQiKSsiOiIpLHE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKSwKcS5zZXRBdHRyaWJ1dGUoInR5cGUiLCJ0ZXh0IikscS5zdHlsZS53aWR0aD0iNTBweCIscS5zdHlsZS5tYXJnaW5MZWZ0PSI2cHgiLHEuc3R5bGUubWFyZ2luQm90dG9tPSIxMHB4IixxLnZhbHVlPWYrInB4IixiLmFwcGVuZENoaWxkKHEpLG14VXRpbHMuYnIoYik7dmFyIHo9dGhpcy5hZGRMaW5rU2VjdGlvbihiLHApO2Q9bnVsbCE9dGhpcy5wYWdlcyYmMTx0aGlzLnBhZ2VzLmxlbmd0aDt2YXIgRT1udWxsO2lmKG51bGw9PWd8fGcuY29uc3RydWN0b3IhPXdpbmRvdy5Ecml2ZUZpbGV8fGMpRT10aGlzLmFkZENoZWNrYm94KGIsbXhSZXNvdXJjZXMuZ2V0KCJhbGxQYWdlcyIpLGQsIWQpO3ZhciBHPXRoaXMuYWRkQ2hlY2tib3goYixteFJlc291cmNlcy5nZXQoImxpZ2h0Ym94IiksITApLEY9dGhpcy5hZGRFZGl0QnV0dG9uKGIsRyksSD1GLmdldEVkaXRJbnB1dCgpLEo9dGhpcy5hZGRDaGVja2JveChiLG14UmVzb3VyY2VzLmdldCgibGF5ZXJzIiksITApO0ouc3R5bGUubWFyZ2luTGVmdD0KSC5zdHlsZS5tYXJnaW5MZWZ0O0ouc3R5bGUubWFyZ2luQm90dG9tPSIxNnB4IjtKLnN0eWxlLm1hcmdpblRvcD0iOHB4IjtteEV2ZW50LmFkZExpc3RlbmVyKEcsImNoYW5nZSIsZnVuY3Rpb24oKXtHLmNoZWNrZWQ/KEoucmVtb3ZlQXR0cmlidXRlKCJkaXNhYmxlZCIpLEgucmVtb3ZlQXR0cmlidXRlKCJkaXNhYmxlZCIpKTooSi5zZXRBdHRyaWJ1dGUoImRpc2FibGVkIiwiZGlzYWJsZWQiKSxILnNldEF0dHJpYnV0ZSgiZGlzYWJsZWQiLCJkaXNhYmxlZCIpKTtILmNoZWNrZWQmJkcuY2hlY2tlZD9GLmdldEVkaXRTZWxlY3QoKS5yZW1vdmVBdHRyaWJ1dGUoImRpc2FibGVkIik6Ri5nZXRFZGl0U2VsZWN0KCkuc2V0QXR0cmlidXRlKCJkaXNhYmxlZCIsImRpc2FibGVkIil9KTtjPW5ldyBDdXN0b21EaWFsb2codGhpcyxiLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7bCh6LmdldFRhcmdldCgpLHouZ2V0Q29sb3IoKSxudWxsPT1FPyEwOkUuY2hlY2tlZCxHLmNoZWNrZWQsCkYuZ2V0TGluaygpLEouY2hlY2tlZCxudWxsIT1tP20udmFsdWU6bnVsbCxudWxsIT1xP3EudmFsdWU6bnVsbCl9KSxudWxsLG14UmVzb3VyY2VzLmdldCgiY3JlYXRlIiksZSk7dGhpcy5zaG93RGlhbG9nKGMuY29udGFpbmVyLDM0MCwyNTQrYSwhMCwhMCk7bnVsbCE9bT8obS5mb2N1cygpLG14Q2xpZW50LklTX0dDfHxteENsaWVudC5JU19GRnx8NTw9ZG9jdW1lbnQuZG9jdW1lbnRNb2RlfHxteENsaWVudC5JU19RVUlSS1M/bS5zZWxlY3QoKTpkb2N1bWVudC5leGVjQ29tbWFuZCgic2VsZWN0QWxsIiwhMSxudWxsKSk6ei5mb2N1cygpfTtFZGl0b3JVaS5wcm90b3R5cGUuc2hvd1JlbW90ZUV4cG9ydERpYWxvZz1mdW5jdGlvbihhLGMsZCxmLGwpe3ZhciBiPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2Iuc3R5bGUud2hpdGVTcGFjZT0ibm93cmFwIjt2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJoMyIpO214VXRpbHMud3JpdGUoZSxteFJlc291cmNlcy5nZXQoImltYWdlIikpOwplLnN0eWxlLmNzc1RleHQ9IndpZHRoOjEwMCU7dGV4dC1hbGlnbjpjZW50ZXI7bWFyZ2luLXRvcDowcHg7bWFyZ2luLWJvdHRvbToiKyhsPyIxMCI6IjQiKSsicHgiO2IuYXBwZW5kQ2hpbGQoZSk7aWYobCl7bXhVdGlscy53cml0ZShiLG14UmVzb3VyY2VzLmdldCgiem9vbSIpKyI6Iik7dmFyIGc9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTtnLnNldEF0dHJpYnV0ZSgidHlwZSIsInRleHQiKTtnLnN0eWxlLm1hcmdpblJpZ2h0PSIxNnB4IjtnLnN0eWxlLndpZHRoPSI2MHB4IjtnLnN0eWxlLm1hcmdpbkxlZnQ9IjRweCI7Zy5zdHlsZS5tYXJnaW5SaWdodD0iMTJweCI7Zy52YWx1ZT10aGlzLmxhc3RFeHBvcnRab29tfHwiMTAwJSI7Yi5hcHBlbmRDaGlsZChnKTtteFV0aWxzLndyaXRlKGIsbXhSZXNvdXJjZXMuZ2V0KCJib3JkZXJXaWR0aCIpKyI6Iik7dmFyIG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTtuLnNldEF0dHJpYnV0ZSgidHlwZSIsInRleHQiKTsKbi5zdHlsZS5tYXJnaW5SaWdodD0iMTZweCI7bi5zdHlsZS53aWR0aD0iNjBweCI7bi5zdHlsZS5tYXJnaW5MZWZ0PSI0cHgiO24udmFsdWU9dGhpcy5sYXN0RXhwb3J0Qm9yZGVyfHwiMCI7Yi5hcHBlbmRDaGlsZChuKTtteFV0aWxzLmJyKGIpfXZhciBrPXRoaXMuYWRkQ2hlY2tib3goYixteFJlc291cmNlcy5nZXQoInNlbGVjdGlvbk9ubHkiKSwhMSx0aGlzLmVkaXRvci5ncmFwaC5pc1NlbGVjdGlvbkVtcHR5KCkpLG09Zj9udWxsOnRoaXMuYWRkQ2hlY2tib3goYixteFJlc291cmNlcy5nZXQoImluY2x1ZGVDb3B5T2ZNeURpYWdyYW0iKSwhMCksZT10aGlzLmVkaXRvci5ncmFwaCxxPWY/bnVsbDp0aGlzLmFkZENoZWNrYm94KGIsbXhSZXNvdXJjZXMuZ2V0KCJ0cmFuc3BhcmVudEJhY2tncm91bmQiKSxlLmJhY2tncm91bmQ9PW14Q29uc3RhbnRzLk5PTkV8fG51bGw9PWUuYmFja2dyb3VuZCk7bnVsbCE9cSYmKHEuc3R5bGUubWFyZ2luQm90dG9tPSIxNnB4Iik7YT1uZXcgQ3VzdG9tRGlhbG9nKHRoaXMsCmIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt2YXIgYT1wYXJzZUludChnLnZhbHVlKS8xMDB8fDEsYj1wYXJzZUludChuLnZhbHVlKXx8MDtkKCFrLmNoZWNrZWQsbnVsbCE9bT9tLmNoZWNrZWQ6ITEsbnVsbCE9cT9xLmNoZWNrZWQ6ITEsYSxiKX0pLG51bGwsYSxjKTt0aGlzLnNob3dEaWFsb2coYS5jb250YWluZXIsMzAwLChsPzI1OjApKyhmPzEyNToyMTApLCEwLCEwKX07RWRpdG9yVWkucHJvdG90eXBlLnNob3dFeHBvcnREaWFsb2c9ZnVuY3Rpb24oYSxjLGQsZixsLHAsayxtKXtrPW51bGwhPWs/azohMDt2YXIgYj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtiLnN0eWxlLndoaXRlU3BhY2U9Im5vd3JhcCI7dmFyIGU9dGhpcy5lZGl0b3IuZ3JhcGgsZz0ianBlZyI9PW0/MTk2OjMwMCxuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImgzIik7bXhVdGlscy53cml0ZShuLGEpO24uc3R5bGUuY3NzVGV4dD0id2lkdGg6MTAwJTt0ZXh0LWFsaWduOmNlbnRlcjttYXJnaW4tdG9wOjBweDttYXJnaW4tYm90dG9tOjEwcHgiOwpiLmFwcGVuZENoaWxkKG4pO214VXRpbHMud3JpdGUoYixteFJlc291cmNlcy5nZXQoInpvb20iKSsiOiIpO3ZhciB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7dC5zZXRBdHRyaWJ1dGUoInR5cGUiLCJ0ZXh0Iik7dC5zdHlsZS5tYXJnaW5SaWdodD0iMTZweCI7dC5zdHlsZS53aWR0aD0iNjBweCI7dC5zdHlsZS5tYXJnaW5MZWZ0PSI0cHgiO3Quc3R5bGUubWFyZ2luUmlnaHQ9IjEycHgiO3QudmFsdWU9dGhpcy5sYXN0RXhwb3J0Wm9vbXx8IjEwMCUiO2IuYXBwZW5kQ2hpbGQodCk7bXhVdGlscy53cml0ZShiLG14UmVzb3VyY2VzLmdldCgiYm9yZGVyV2lkdGgiKSsiOiIpO3ZhciBxPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7cS5zZXRBdHRyaWJ1dGUoInR5cGUiLCJ0ZXh0Iik7cS5zdHlsZS5tYXJnaW5SaWdodD0iMTZweCI7cS5zdHlsZS53aWR0aD0iNjBweCI7cS5zdHlsZS5tYXJnaW5MZWZ0PSI0cHgiO3EudmFsdWU9dGhpcy5sYXN0RXhwb3J0Qm9yZGVyfHwKIjAiO2IuYXBwZW5kQ2hpbGQocSk7bXhVdGlscy5icihiKTt2YXIgdj10aGlzLmFkZENoZWNrYm94KGIsbXhSZXNvdXJjZXMuZ2V0KCJ0cmFuc3BhcmVudEJhY2tncm91bmQiKSwhMSxudWxsLG51bGwsImpwZWciIT1tKSxHPW51bGw7ImRhcmsiPT11aVRoZW1lJiYoRz10aGlzLmFkZENoZWNrYm94KGIsbXhSZXNvdXJjZXMuZ2V0KCJkYXJrIiksITApLGcrPTI2KTt2YXIgRj10aGlzLmFkZENoZWNrYm94KGIsbXhSZXNvdXJjZXMuZ2V0KCJzZWxlY3Rpb25Pbmx5IiksITEsZS5pc1NlbGVjdGlvbkVtcHR5KCkpLEg9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTtILnN0eWxlLm1hcmdpblRvcD0iMTZweCI7SC5zdHlsZS5tYXJnaW5SaWdodD0iOHB4IjtILnN0eWxlLm1hcmdpbkxlZnQ9IjI0cHgiO0guc2V0QXR0cmlidXRlKCJkaXNhYmxlZCIsImRpc2FibGVkIik7SC5zZXRBdHRyaWJ1dGUoInR5cGUiLCJjaGVja2JveCIpO3AmJihiLmFwcGVuZENoaWxkKEgpLG14VXRpbHMud3JpdGUoYiwKbXhSZXNvdXJjZXMuZ2V0KCJjcm9wIikpLG14VXRpbHMuYnIoYiksZys9MjYsbXhFdmVudC5hZGRMaXN0ZW5lcihGLCJjaGFuZ2UiLGZ1bmN0aW9uKCl7Ri5jaGVja2VkP0gucmVtb3ZlQXR0cmlidXRlKCJkaXNhYmxlZCIpOkguc2V0QXR0cmlidXRlKCJkaXNhYmxlZCIsImRpc2FibGVkIil9KSk7ZS5pc1NlbGVjdGlvbkVtcHR5KCl8fChILnNldEF0dHJpYnV0ZSgiY2hlY2tlZCIsImNoZWNrZWQiKSxILmRlZmF1bHRDaGVja2VkPSEwKTt2YXIgSj10aGlzLmFkZENoZWNrYm94KGIsbXhSZXNvdXJjZXMuZ2V0KCJzaGFkb3ciKSxlLnNoYWRvd1Zpc2libGUpLHU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTt1LnN0eWxlLm1hcmdpblRvcD0iMTZweCI7dS5zdHlsZS5tYXJnaW5SaWdodD0iOHB4Ijt1LnNldEF0dHJpYnV0ZSgidHlwZSIsImNoZWNrYm94Iik7IXRoaXMuaXNPZmZsaW5lKCkmJnRoaXMuY2FudmFzU3VwcG9ydGVkfHx1LnNldEF0dHJpYnV0ZSgiZGlzYWJsZWQiLAoiZGlzYWJsZWQiKTtjJiYoYi5hcHBlbmRDaGlsZCh1KSxteFV0aWxzLndyaXRlKGIsbXhSZXNvdXJjZXMuZ2V0KCJlbWJlZEltYWdlcyIpKSxteFV0aWxzLmJyKGIpLGcrPTI2KTt2YXIgSz1udWxsO2lmKCJwbmciPT1tfHwianBlZyI9PW0pSz10aGlzLmFkZENoZWNrYm94KGIsbXhSZXNvdXJjZXMuZ2V0KCJncmlkIiksITEsdGhpcy5pc09mZmxpbmUoKXx8IXRoaXMuY2FudmFzU3VwcG9ydGVkLCExLCEwKSxnKz0yNjt2YXIgQT10aGlzLmFkZENoZWNrYm94KGIsbXhSZXNvdXJjZXMuZ2V0KCJpbmNsdWRlQ29weU9mTXlEaWFncmFtIiksayxudWxsLG51bGwsImpwZWciIT1tKSxNPW51bGwhPXRoaXMucGFnZXMmJjE8dGhpcy5wYWdlcy5sZW5ndGgsUT10aGlzLmFkZENoZWNrYm94KGIsTT9teFJlc291cmNlcy5nZXQoImFsbFBhZ2VzIik6IiIsTSwhTSxudWxsLCJqcGVnIiE9bSk7US5zdHlsZS5tYXJnaW5MZWZ0PSIyNHB4IjtRLnN0eWxlLm1hcmdpbkJvdHRvbT0iMTZweCI7TT9nKz0KMjY6US5zdHlsZS5kaXNwbGF5PSJub25lIjtteEV2ZW50LmFkZExpc3RlbmVyKEEsImNoYW5nZSIsZnVuY3Rpb24oKXtBLmNoZWNrZWQmJk0/US5yZW1vdmVBdHRyaWJ1dGUoImRpc2FibGVkIik6US5zZXRBdHRyaWJ1dGUoImRpc2FibGVkIiwiZGlzYWJsZWQiKX0pO2smJk18fFEuc2V0QXR0cmlidXRlKCJkaXNhYmxlZCIsImRpc2FibGVkIik7dmFyIEk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic2VsZWN0Iik7SS5zdHlsZS5tYXhXaWR0aD0iMjYwcHgiO0kuc3R5bGUubWFyZ2luTGVmdD0iOHB4IjtJLnN0eWxlLm1hcmdpblJpZ2h0PSIxMHB4IjtJLmNsYXNzTmFtZT0iZ2VCdG4iO2E9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgib3B0aW9uIik7YS5zZXRBdHRyaWJ1dGUoInZhbHVlIiwiYXV0byIpO214VXRpbHMud3JpdGUoYSxteFJlc291cmNlcy5nZXQoImF1dG9tYXRpYyIpKTtJLmFwcGVuZENoaWxkKGEpO2E9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgib3B0aW9uIik7YS5zZXRBdHRyaWJ1dGUoInZhbHVlIiwKImJsYW5rIik7bXhVdGlscy53cml0ZShhLG14UmVzb3VyY2VzLmdldCgib3BlbkluTmV3V2luZG93IikpO0kuYXBwZW5kQ2hpbGQoYSk7YT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJvcHRpb24iKTthLnNldEF0dHJpYnV0ZSgidmFsdWUiLCJzZWxmIik7bXhVdGlscy53cml0ZShhLG14UmVzb3VyY2VzLmdldCgib3BlbkluVGhpc1dpbmRvdyIpKTtJLmFwcGVuZENoaWxkKGEpOyJzdmciPT1tJiYobXhVdGlscy53cml0ZShiLG14UmVzb3VyY2VzLmdldCgibGlua3MiKSsiOiIpLGIuYXBwZW5kQ2hpbGQoSSksbXhVdGlscy5icihiKSxteFV0aWxzLmJyKGIpLGcrPTI2KTtkPW5ldyBDdXN0b21EaWFsb2codGhpcyxiLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dGhpcy5sYXN0RXhwb3J0Qm9yZGVyPXEudmFsdWU7dGhpcy5sYXN0RXhwb3J0Wm9vbT10LnZhbHVlO2wodC52YWx1ZSx2LmNoZWNrZWQsIUYuY2hlY2tlZCxKLmNoZWNrZWQsQS5jaGVja2VkLHUuY2hlY2tlZCxxLnZhbHVlLApILmNoZWNrZWQsIVEuY2hlY2tlZCxJLnZhbHVlLG51bGwhPUs/Sy5jaGVja2VkOm51bGwsbnVsbCE9Rz9HLmNoZWNrZWQ6bnVsbCl9KSxudWxsLGQsZik7dGhpcy5zaG93RGlhbG9nKGQuY29udGFpbmVyLDM0MCxnLCEwLCEwLG51bGwsbnVsbCxudWxsLG51bGwsITApO3QuZm9jdXMoKTtteENsaWVudC5JU19HQ3x8bXhDbGllbnQuSVNfRkZ8fDU8PWRvY3VtZW50LmRvY3VtZW50TW9kZXx8bXhDbGllbnQuSVNfUVVJUktTP3Quc2VsZWN0KCk6ZG9jdW1lbnQuZXhlY0NvbW1hbmQoInNlbGVjdEFsbCIsITEsbnVsbCl9O0VkaXRvclVpLnByb3RvdHlwZS5zaG93RW1iZWRJbWFnZURpYWxvZz1mdW5jdGlvbihhLGMsZCxmLGwpe3ZhciBiPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2Iuc3R5bGUud2hpdGVTcGFjZT0ibm93cmFwIjt2YXIgZT10aGlzLmVkaXRvci5ncmFwaDtpZihudWxsIT1jKXt2YXIgZz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJoMyIpO214VXRpbHMud3JpdGUoZywKYyk7Zy5zdHlsZS5jc3NUZXh0PSJ3aWR0aDoxMDAlO3RleHQtYWxpZ246Y2VudGVyO21hcmdpbi10b3A6MHB4O21hcmdpbi1ib3R0b206NHB4IjtiLmFwcGVuZENoaWxkKGcpfXZhciBuPXRoaXMuYWRkQ2hlY2tib3goYixteFJlc291cmNlcy5nZXQoImZpdCIpLCEwKSxrPXRoaXMuYWRkQ2hlY2tib3goYixteFJlc291cmNlcy5nZXQoInNoYWRvdyIpLGUuc2hhZG93VmlzaWJsZSYmZiwhZiksbT10aGlzLmFkZENoZWNrYm94KGIsZCkscT10aGlzLmFkZENoZWNrYm94KGIsbXhSZXNvdXJjZXMuZ2V0KCJsaWdodGJveCIpLCEwKSxEPXRoaXMuYWRkRWRpdEJ1dHRvbihiLHEpLHo9RC5nZXRFZGl0SW5wdXQoKSxFPTE8ZS5tb2RlbC5nZXRDaGlsZENvdW50KGUubW9kZWwuZ2V0Um9vdCgpKSxHPXRoaXMuYWRkQ2hlY2tib3goYixteFJlc291cmNlcy5nZXQoImxheWVycyIpLEUsIUUpO0cuc3R5bGUubWFyZ2luTGVmdD16LnN0eWxlLm1hcmdpbkxlZnQ7Ry5zdHlsZS5tYXJnaW5Cb3R0b209CiIxMnB4IjtHLnN0eWxlLm1hcmdpblRvcD0iOHB4IjtteEV2ZW50LmFkZExpc3RlbmVyKHEsImNoYW5nZSIsZnVuY3Rpb24oKXtxLmNoZWNrZWQ/KEUmJkcucmVtb3ZlQXR0cmlidXRlKCJkaXNhYmxlZCIpLHoucmVtb3ZlQXR0cmlidXRlKCJkaXNhYmxlZCIpKTooRy5zZXRBdHRyaWJ1dGUoImRpc2FibGVkIiwiZGlzYWJsZWQiKSx6LnNldEF0dHJpYnV0ZSgiZGlzYWJsZWQiLCJkaXNhYmxlZCIpKTt6LmNoZWNrZWQmJnEuY2hlY2tlZD9ELmdldEVkaXRTZWxlY3QoKS5yZW1vdmVBdHRyaWJ1dGUoImRpc2FibGVkIik6RC5nZXRFZGl0U2VsZWN0KCkuc2V0QXR0cmlidXRlKCJkaXNhYmxlZCIsImRpc2FibGVkIil9KTtjPW5ldyBDdXN0b21EaWFsb2codGhpcyxiLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7YShuLmNoZWNrZWQsay5jaGVja2VkLG0uY2hlY2tlZCxxLmNoZWNrZWQsRC5nZXRMaW5rKCksRy5jaGVja2VkKX0pLG51bGwsbXhSZXNvdXJjZXMuZ2V0KCJlbWJlZCIpLApsKTt0aGlzLnNob3dEaWFsb2coYy5jb250YWluZXIsMjgwLDI4MCwhMCwhMCl9O0VkaXRvclVpLnByb3RvdHlwZS5jcmVhdGVFbWJlZEltYWdlPWZ1bmN0aW9uKGEsYyxkLGYsbCxwLGssbSl7ZnVuY3Rpb24gYihiKXt2YXIgYz0iICIsZz0iIjtmJiYoYz0iIG9uY2xpY2s9XCIoZnVuY3Rpb24oaW1nKXtpZihpbWcud25kIT1udWxsJiYhaW1nLnduZC5jbG9zZWQpe2ltZy53bmQuZm9jdXMoKTt9ZWxzZXt2YXIgcj1mdW5jdGlvbihldnQpe2lmKGV2dC5kYXRhPT0ncmVhZHknJiZldnQuc291cmNlPT1pbWcud25kKXtpbWcud25kLnBvc3RNZXNzYWdlKGRlY29kZVVSSUNvbXBvbmVudChpbWcuZ2V0QXR0cmlidXRlKCdzcmMnKSksJyonKTt3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbWVzc2FnZScscik7fX07d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLHIpO2ltZy53bmQ9d2luZG93Lm9wZW4oJyIrRWRpdG9yVWkuZHJhd0hvc3QrIi8/Y2xpZW50PTEmbGlnaHRib3g9MSIrCihsPyImZWRpdD1fYmxhbmsiOiIiKSsocD8iJmxheWVycz0xIjoiIikrIicpO319KSh0aGlzKTtcIiIsZys9ImN1cnNvcjpwb2ludGVyOyIpO2EmJihnKz0ibWF4LXdpZHRoOjEwMCU7Iik7dmFyIG49IiI7ZCYmKG49JyB3aWR0aD0iJytNYXRoLnJvdW5kKGUud2lkdGgpKyciIGhlaWdodD0iJytNYXRoLnJvdW5kKGUuaGVpZ2h0KSsnIicpO2soJzxpbWcgc3JjPSInK2IrJyInK24rKCIiIT1nPycgc3R5bGU9IicrZysnIic6IiIpK2MrIi8+Iil9dmFyIGU9dGhpcy5lZGl0b3IuZ3JhcGguZ2V0R3JhcGhCb3VuZHMoKTtpZih0aGlzLmlzRXhwb3J0VG9DYW52YXMoKSl0aGlzLmVkaXRvci5leHBvcnRUb0NhbnZhcyhteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXt2YXIgYz1mP3RoaXMuZ2V0RmlsZURhdGEoITApOm51bGw7YT10aGlzLmNyZWF0ZUltYWdlRGF0YVVyaShhLGMsInBuZyIpO2IoYSl9KSxudWxsLG51bGwsbnVsbCxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXttKHttZXNzYWdlOm14UmVzb3VyY2VzLmdldCgidW5rbm93bkVycm9yIil9KX0pLApudWxsLCEwLGQ/MjoxLG51bGwsYyk7ZWxzZSBpZihjPXRoaXMuZ2V0RmlsZURhdGEoITApLGUud2lkdGgqZS5oZWlnaHQ8PU1BWF9BUkVBJiZjLmxlbmd0aDw9TUFYX1JFUVVFU1RfU0laRSl7dmFyIGc9IiI7ZCYmKGc9IiZ3PSIrTWF0aC5yb3VuZCgyKmUud2lkdGgpKyImaD0iK01hdGgucm91bmQoMiplLmhlaWdodCkpO3ZhciBuPW5ldyBteFhtbFJlcXVlc3QoRVhQT1JUX1VSTCwiZm9ybWF0PXBuZyZiYXNlNjQ9MSZlbWJlZFhtbD0iKyhmPyIxIjoiMCIpK2crIiZ4bWw9IitlbmNvZGVVUklDb21wb25lbnQoYykpO24uc2VuZChteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpezIwMDw9bi5nZXRTdGF0dXMoKSYmMjk5Pj1uLmdldFN0YXR1cygpP2IoImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCwiK24uZ2V0VGV4dCgpKTptKHttZXNzYWdlOm14UmVzb3VyY2VzLmdldCgidW5rbm93bkVycm9yIil9KX0pKX1lbHNlIG0oe21lc3NhZ2U6bXhSZXNvdXJjZXMuZ2V0KCJkcmF3aW5nVG9vTGFyZ2UiKX0pfTsKRWRpdG9yVWkucHJvdG90eXBlLmNyZWF0ZUVtYmVkU3ZnPWZ1bmN0aW9uKGEsYyxkLGYsbCxwLGspe3ZhciBiPXRoaXMuZWRpdG9yLmdyYXBoLmdldFN2ZyhudWxsLG51bGwsbnVsbCxudWxsLG51bGwsbnVsbCxudWxsLG51bGwsbnVsbCxudWxsLCFkKSxlPWIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImEiKTtpZihudWxsIT1lKWZvcih2YXIgZz0wO2c8ZS5sZW5ndGg7ZysrKXt2YXIgbj1lW2ddLmdldEF0dHJpYnV0ZSgiaHJlZiIpO251bGwhPW4mJiIjIj09bi5jaGFyQXQoMCkmJiJfYmxhbmsiPT1lW2ddLmdldEF0dHJpYnV0ZSgidGFyZ2V0IikmJmVbZ10ucmVtb3ZlQXR0cmlidXRlKCJ0YXJnZXQiKX1mJiZiLnNldEF0dHJpYnV0ZSgiY29udGVudCIsdGhpcy5nZXRGaWxlRGF0YSghMCkpO2MmJnRoaXMuZWRpdG9yLmdyYXBoLmFkZFN2Z1NoYWRvdyhiKTtpZihkKXt2YXIgbT0iICIscT0iIjtmJiYobT0ib25jbGljaz1cIihmdW5jdGlvbihpbWcpe2lmKGltZy53bmQhPW51bGwmJiFpbWcud25kLmNsb3NlZCl7aW1nLnduZC5mb2N1cygpO31lbHNle3ZhciByPWZ1bmN0aW9uKGV2dCl7aWYoZXZ0LmRhdGE9PSdyZWFkeScmJmV2dC5zb3VyY2U9PWltZy53bmQpe2ltZy53bmQucG9zdE1lc3NhZ2UoZGVjb2RlVVJJQ29tcG9uZW50KGltZy5nZXRBdHRyaWJ1dGUoJ3NyYycpKSwnKicpO3dpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtZXNzYWdlJyxyKTt9fTt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScscik7aW1nLnduZD13aW5kb3cub3BlbignIisKRWRpdG9yVWkuZHJhd0hvc3QrIi8/Y2xpZW50PTEmbGlnaHRib3g9MSIrKGw/IiZlZGl0PV9ibGFuayI6IiIpKyhwPyImbGF5ZXJzPTEiOiIiKSsiJyk7fX0pKHRoaXMpO1wiIixxKz0iY3Vyc29yOnBvaW50ZXI7Iik7YSYmKHErPSJtYXgtd2lkdGg6MTAwJTsiKTt0aGlzLmVkaXRvci5jb252ZXJ0SW1hZ2VzKGIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7aygnPGltZyBzcmM9IicrRWRpdG9yLmNyZWF0ZVN2Z0RhdGFVcmkobXhVdGlscy5nZXRYbWwoYSkpKyciJysoIiIhPXE/JyBzdHlsZT0iJytxKyciJzoiIikrbSsiLz4iKX0pKX1lbHNlIHE9IiIsZiYmKGIuc2V0QXR0cmlidXRlKCJvbmNsaWNrIiwiKGZ1bmN0aW9uKHN2Zyl7dmFyIHNyYz13aW5kb3cuZXZlbnQudGFyZ2V0fHx3aW5kb3cuZXZlbnQuc3JjRWxlbWVudDt3aGlsZSAoc3JjIT1udWxsJiZzcmMubm9kZU5hbWUudG9Mb3dlckNhc2UoKSE9J2EnKXtzcmM9c3JjLnBhcmVudE5vZGU7fWlmKHNyYz09bnVsbCl7aWYoc3ZnLnduZCE9bnVsbCYmIXN2Zy53bmQuY2xvc2VkKXtzdmcud25kLmZvY3VzKCk7fWVsc2V7dmFyIHI9ZnVuY3Rpb24oZXZ0KXtpZihldnQuZGF0YT09J3JlYWR5JyYmZXZ0LnNvdXJjZT09c3ZnLnduZCl7c3ZnLnduZC5wb3N0TWVzc2FnZShkZWNvZGVVUklDb21wb25lbnQoc3ZnLmdldEF0dHJpYnV0ZSgnY29udGVudCcpKSwnKicpO3dpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtZXNzYWdlJyxyKTt9fTt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScscik7c3ZnLnduZD13aW5kb3cub3BlbignIisKRWRpdG9yVWkuZHJhd0hvc3QrIi8/Y2xpZW50PTEmbGlnaHRib3g9MSIrKGw/IiZlZGl0PV9ibGFuayI6IiIpKyhwPyImbGF5ZXJzPTEiOiIiKSsiJyk7fX19KSh0aGlzKTsiKSxxKz0iY3Vyc29yOnBvaW50ZXI7IiksYSYmKGE9cGFyc2VJbnQoYi5nZXRBdHRyaWJ1dGUoIndpZHRoIikpLGM9cGFyc2VJbnQoYi5nZXRBdHRyaWJ1dGUoImhlaWdodCIpKSxiLnNldEF0dHJpYnV0ZSgidmlld0JveCIsIi0wLjUgLTAuNSAiK2ErIiAiK2MpLHErPSJtYXgtd2lkdGg6MTAwJTttYXgtaGVpZ2h0OiIrYysicHg7IixiLnJlbW92ZUF0dHJpYnV0ZSgiaGVpZ2h0IikpLCIiIT1xJiZiLnNldEF0dHJpYnV0ZSgic3R5bGUiLHEpLHRoaXMuZWRpdG9yLmFkZEZvbnRDc3MoYiksdGhpcy5lZGl0b3IuZ3JhcGgubWF0aEVuYWJsZWQmJnRoaXMuZWRpdG9yLmFkZE1hdGhDc3MoYiksayhteFV0aWxzLmdldFhtbChiKSl9O0VkaXRvclVpLnByb3RvdHlwZS50aW1lU2luY2U9ZnVuY3Rpb24oYSl7YT1NYXRoLmZsb29yKChuZXcgRGF0ZS0KYSkvMUUzKTt2YXIgYj1NYXRoLmZsb29yKGEvMzE1MzZFMyk7aWYoMTxiKXJldHVybiBiKyIgIitteFJlc291cmNlcy5nZXQoInllYXJzIik7Yj1NYXRoLmZsb29yKGEvMjU5MkUzKTtpZigxPGIpcmV0dXJuIGIrIiAiK214UmVzb3VyY2VzLmdldCgibW9udGhzIik7Yj1NYXRoLmZsb29yKGEvODY0MDApO2lmKDE8YilyZXR1cm4gYisiICIrbXhSZXNvdXJjZXMuZ2V0KCJkYXlzIik7Yj1NYXRoLmZsb29yKGEvMzYwMCk7aWYoMTxiKXJldHVybiBiKyIgIitteFJlc291cmNlcy5nZXQoImhvdXJzIik7Yj1NYXRoLmZsb29yKGEvNjApO3JldHVybiAxPGI/YisiICIrbXhSZXNvdXJjZXMuZ2V0KCJtaW51dGVzIik6MT09Yj9iKyIgIitteFJlc291cmNlcy5nZXQoIm1pbnV0ZSIpOm51bGx9O0VkaXRvclVpLnByb3RvdHlwZS5kZWNvZGVOb2RlSW50b0dyYXBoPWZ1bmN0aW9uKGEsYyl7aWYobnVsbCE9YSl7dmFyIGI9bnVsbDtpZigiZGlhZ3JhbSI9PWEubm9kZU5hbWUpYj1hO2Vsc2UgaWYoIm14ZmlsZSI9PQphLm5vZGVOYW1lKXt2YXIgZT1hLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJkaWFncmFtIik7aWYoMDxlLmxlbmd0aCl7dmFyIGI9ZVswXSxkPWMuZ2V0R2xvYmFsVmFyaWFibGU7Yy5nZXRHbG9iYWxWYXJpYWJsZT1mdW5jdGlvbihhKXtyZXR1cm4icGFnZSI9PWE/Yi5nZXRBdHRyaWJ1dGUoIm5hbWUiKXx8bXhSZXNvdXJjZXMuZ2V0KCJwYWdlV2l0aE51bWJlciIsWzFdKToicGFnZW51bWJlciI9PWE/MTpkLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19fW51bGwhPWImJihhPUVkaXRvci5wYXJzZURpYWdyYW1Ob2RlKGIpKX1lPXRoaXMuZWRpdG9yLmdyYXBoO3RyeXt0aGlzLmVkaXRvci5ncmFwaD1jLHRoaXMuZWRpdG9yLnNldEdyYXBoWG1sKGEpfWNhdGNoKHApe31maW5hbGx5e3RoaXMuZWRpdG9yLmdyYXBoPWV9cmV0dXJuIGF9O0VkaXRvclVpLnByb3RvdHlwZS5nZXRQbmdGaWxlUHJvcGVydGllcz1mdW5jdGlvbihhKXt2YXIgYj0xLGM9MDtpZihudWxsIT1hKXtpZihhLmhhc0F0dHJpYnV0ZSgic2NhbGUiKSl7dmFyIGQ9CnBhcnNlRmxvYXQoYS5nZXRBdHRyaWJ1dGUoInNjYWxlIikpOyFpc05hTihkKSYmMDxkJiYoYj1kKX1hLmhhc0F0dHJpYnV0ZSgiYm9yZGVyIikmJihkPXBhcnNlSW50KGEuZ2V0QXR0cmlidXRlKCJib3JkZXIiKSksIWlzTmFOKGQpJiYwPGQmJihjPWQpKX1yZXR1cm57c2NhbGU6Yixib3JkZXI6Y319O0VkaXRvclVpLnByb3RvdHlwZS5nZXRFbWJlZGRlZFBuZz1mdW5jdGlvbihhLGMsZCxmLGwpe3RyeXt2YXIgYj10aGlzLmVkaXRvci5ncmFwaCxlPW51bGwhPWIudGhlbWVzJiYiZGFya1RoZW1lIj09Yi5kZWZhdWx0VGhlbWVOYW1lLGc9bnVsbDtpZihudWxsIT1kJiYwPGQubGVuZ3RoKWI9dGhpcy5jcmVhdGVUZW1wb3JhcnlHcmFwaCh0aGlzLmVkaXRvci5ncmFwaC5nZXRTdHlsZXNoZWV0KCkpLGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYi5jb250YWluZXIpLHRoaXMuZGVjb2RlTm9kZUludG9HcmFwaCh0aGlzLmVkaXRvci5leHRyYWN0R3JhcGhNb2RlbChteFV0aWxzLnBhcnNlWG1sKGQpLmRvY3VtZW50RWxlbWVudCwKITApLGIpLGc9ZDtlbHNlIGlmKGV8fG51bGwhPXRoaXMucGFnZXMmJnRoaXMuY3VycmVudFBhZ2UhPXRoaXMucGFnZXNbMF0pe3ZhciBiPXRoaXMuY3JlYXRlVGVtcG9yYXJ5R3JhcGgoYi5nZXRTdHlsZXNoZWV0KCkpLG49Yi5nZXRHbG9iYWxWYXJpYWJsZSxrPXRoaXMucGFnZXNbMF07Yi5nZXRHbG9iYWxWYXJpYWJsZT1mdW5jdGlvbihhKXtyZXR1cm4icGFnZSI9PWE/ay5nZXROYW1lKCk6InBhZ2VudW1iZXIiPT1hPzE6bi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O2RvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYi5jb250YWluZXIpO2IubW9kZWwuc2V0Um9vdChrLnJvb3QpfXRoaXMuZWRpdG9yLmV4cG9ydFRvQ2FudmFzKG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGUpe3RyeXtudWxsPT1nJiYoZz10aGlzLmdldEZpbGVEYXRhKCEwLG51bGwsbnVsbCxudWxsLG51bGwsbnVsbCxudWxsLG51bGwsbnVsbCwhMSkpO3ZhciBkPWUudG9EYXRhVVJMKCJpbWFnZS9wbmciKSxkPUVkaXRvci53cml0ZUdyYXBoTW9kZWxUb1BuZyhkLAoidEVYdCIsIm14ZmlsZSIsZW5jb2RlVVJJQ29tcG9uZW50KGcpKTthKGQuc3Vic3RyaW5nKGQubGFzdEluZGV4T2YoIiwiKSsxKSk7YiE9dGhpcy5lZGl0b3IuZ3JhcGgmJmIuY29udGFpbmVyLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYi5jb250YWluZXIpfWNhdGNoKEQpe251bGwhPWMmJmMoRCl9fSksbnVsbCxudWxsLG51bGwsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7bnVsbCE9YyYmYyhhKX0pLG51bGwsbnVsbCxmLG51bGwsYi5zaGFkb3dWaXNpYmxlLG51bGwsYixsKX1jYXRjaChDKXtudWxsIT1jJiZjKEMpfX07RWRpdG9yVWkucHJvdG90eXBlLmdldEVtYmVkZGVkU3ZnPWZ1bmN0aW9uKGEsYyxkLGYsbCxrLG0sdCl7dD1udWxsIT10P3Q6ITA7bT1jLmJhY2tncm91bmQ7bT09bXhDb25zdGFudHMuTk9ORSYmKG09bnVsbCk7az1jLmdldFN2ZyhtLG51bGwsbnVsbCxudWxsLG51bGwsayk7Yy5zaGFkb3dWaXNpYmxlJiZjLmFkZFN2Z1NoYWRvdyhrKTtudWxsIT1hJiYKay5zZXRBdHRyaWJ1dGUoImNvbnRlbnQiLGEpO251bGwhPWQmJmsuc2V0QXR0cmlidXRlKCJyZXNvdXJjZSIsZCk7aWYobnVsbCE9bCl0aGlzLmVtYmVkRm9udHMoayxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXt0P3RoaXMuZWRpdG9yLmNvbnZlcnRJbWFnZXMoYSxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXtsKChmPyIiOic8P3htbCB2ZXJzaW9uPSIxLjAiIGVuY29kaW5nPSJVVEYtOCI/PlxuPCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj5cbicpK214VXRpbHMuZ2V0WG1sKGEpKX0pKTpsKChmPyIiOic8P3htbCB2ZXJzaW9uPSIxLjAiIGVuY29kaW5nPSJVVEYtOCI/PlxuPCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj5cbicpKwpteFV0aWxzLmdldFhtbChhKSl9KSk7ZWxzZSByZXR1cm4oZj8iIjonPD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz5cbjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+XG4nKStteFV0aWxzLmdldFhtbChrKX07RWRpdG9yVWkucHJvdG90eXBlLmVtYmVkRm9udHM9ZnVuY3Rpb24oYSxjKXt0aGlzLmVkaXRvci5sb2FkRm9udHMobXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt0cnl7bnVsbCE9dGhpcy5lZGl0b3IucmVzb2x2ZWRGb250Q3NzJiZ0aGlzLmVkaXRvci5hZGRGb250Q3NzKGEsdGhpcy5lZGl0b3IucmVzb2x2ZWRGb250Q3NzKSx0aGlzLmVkaXRvci5lbWJlZEV4dEZvbnRzKG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGIpe3RyeXtudWxsIT1iJiZ0aGlzLmVkaXRvci5hZGRGb250Q3NzKGEsYiksYyhhKX1jYXRjaChuKXtjKGEpfX0pKX1jYXRjaChnKXtjKGEpfX0pKX07CkVkaXRvclVpLnByb3RvdHlwZS5leHBvcnRJbWFnZT1mdW5jdGlvbihhLGMsZCxmLGwsayxtLHQscSx4LEMsQil7cT1udWxsIT1xP3E6InBuZyI7aWYodGhpcy5zcGlubmVyLnNwaW4oZG9jdW1lbnQuYm9keSxteFJlc291cmNlcy5nZXQoImV4cG9ydGluZyIpKSl7dmFyIGI9dGhpcy5lZGl0b3IuZ3JhcGguaXNTZWxlY3Rpb25FbXB0eSgpO2Q9bnVsbCE9ZD9kOmI7bnVsbD09dGhpcy50aHVtYkltYWdlQ2FjaGUmJih0aGlzLnRodW1iSW1hZ2VDYWNoZT17fSk7dHJ5e3RoaXMuZWRpdG9yLmV4cG9ydFRvQ2FudmFzKG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3RoaXMuc3Bpbm5lci5zdG9wKCk7dHJ5e3RoaXMuc2F2ZUNhbnZhcyhhLGw/dGhpcy5nZXRGaWxlRGF0YSghMCxudWxsLG51bGwsbnVsbCxkLHQpOm51bGwscSxudWxsPT10aGlzLnBhZ2VzfHwwPT10aGlzLnBhZ2VzLmxlbmd0aCxDKX1jYXRjaChFKXsiSW52YWxpZCBpbWFnZSI9PUUubWVzc2FnZT90aGlzLmRvd25sb2FkRmlsZShxKToKdGhpcy5oYW5kbGVFcnJvcihFKX19KSxudWxsLHRoaXMudGh1bWJJbWFnZUNhY2hlLG51bGwsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7dGhpcy5zcGlubmVyLnN0b3AoKTt0aGlzLmhhbmRsZUVycm9yKGEpfSksbnVsbCxkLGF8fDEsYyxmLG51bGwsbnVsbCxrLG0seCxCKX1jYXRjaCh6KXt0aGlzLnNwaW5uZXIuc3RvcCgpLHRoaXMuaGFuZGxlRXJyb3Ioeil9fX07RWRpdG9yVWkucHJvdG90eXBlLmlzQ29yc0VuYWJsZWRGb3JVcmw9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZWRpdG9yLmlzQ29yc0VuYWJsZWRGb3JVcmwoYSl9O0VkaXRvclVpLnByb3RvdHlwZS5pbXBvcnRYbWw9ZnVuY3Rpb24oYSxjLGQsZixsKXtjPW51bGwhPWM/YzowO2Q9bnVsbCE9ZD9kOjA7dmFyIGI9W107dHJ5e3ZhciBlPXRoaXMuZWRpdG9yLmdyYXBoO2lmKG51bGwhPWEmJjA8YS5sZW5ndGgpe2UubW9kZWwuYmVnaW5VcGRhdGUoKTt0cnl7dmFyIGc9bXhVdGlscy5wYXJzZVhtbChhKTthPXt9Owp2YXIgbj10aGlzLmVkaXRvci5leHRyYWN0R3JhcGhNb2RlbChnLmRvY3VtZW50RWxlbWVudCxudWxsIT10aGlzLnBhZ2VzKTtpZihudWxsIT1uJiYibXhmaWxlIj09bi5ub2RlTmFtZSYmbnVsbCE9dGhpcy5wYWdlcyl7dmFyIGs9bi5nZXRFbGVtZW50c0J5VGFnTmFtZSgiZGlhZ3JhbSIpO2lmKDE9PWsubGVuZ3RoKW49RWRpdG9yLnBhcnNlRGlhZ3JhbU5vZGUoa1swXSksbnVsbCE9dGhpcy5jdXJyZW50UGFnZSYmKGFba1swXS5nZXRBdHRyaWJ1dGUoImlkIildPXRoaXMuY3VycmVudFBhZ2UuZ2V0SWQoKSk7ZWxzZSBpZigxPGsubGVuZ3RoKXt2YXIgZz1bXSxtPTA7bnVsbCE9dGhpcy5wYWdlcyYmMT09dGhpcy5wYWdlcy5sZW5ndGgmJnRoaXMuaXNEaWFncmFtRW1wdHkoKSYmKGFba1swXS5nZXRBdHRyaWJ1dGUoImlkIildPXRoaXMucGFnZXNbMF0uZ2V0SWQoKSxuPUVkaXRvci5wYXJzZURpYWdyYW1Ob2RlKGtbMF0pLGY9ITEsbT0xKTtmb3IoO208ay5sZW5ndGg7bSsrKXt2YXIgcT0Ka1ttXS5nZXRBdHRyaWJ1dGUoImlkIik7a1ttXS5yZW1vdmVBdHRyaWJ1dGUoImlkIik7dmFyIEQ9dGhpcy51cGRhdGVQYWdlUm9vdChuZXcgRGlhZ3JhbVBhZ2Uoa1ttXSkpO2FbcV09a1ttXS5nZXRBdHRyaWJ1dGUoImlkIik7dmFyIHo9dGhpcy5wYWdlcy5sZW5ndGg7bnVsbD09RC5nZXROYW1lKCkmJkQuc2V0TmFtZShteFJlc291cmNlcy5nZXQoInBhZ2VXaXRoTnVtYmVyIixbeisxXSkpO2UubW9kZWwuZXhlY3V0ZShuZXcgQ2hhbmdlUGFnZSh0aGlzLEQsRCx6LCEwKSk7Zy5wdXNoKEQpfXRoaXMudXBkYXRlUGFnZUxpbmtzKGEsZyl9fWlmKG51bGwhPW4mJiJteEdyYXBoTW9kZWwiPT09bi5ub2RlTmFtZSYmKGI9ZS5pbXBvcnRHcmFwaE1vZGVsKG4sYyxkLGYpLG51bGwhPWIpKWZvcihtPTA7bTxiLmxlbmd0aDttKyspdGhpcy51cGRhdGVQYWdlTGlua3NGb3JDZWxsKGEsYlttXSl9ZmluYWxseXtlLm1vZGVsLmVuZFVwZGF0ZSgpfX19Y2F0Y2goRSl7aWYobCl0aHJvdyBFO3RoaXMuaGFuZGxlRXJyb3IoRSl9cmV0dXJuIGJ9OwpFZGl0b3JVaS5wcm90b3R5cGUudXBkYXRlUGFnZUxpbmtzPWZ1bmN0aW9uKGEsYyl7Zm9yKHZhciBiPTA7YjxjLmxlbmd0aDtiKyspdGhpcy51cGRhdGVQYWdlTGlua3NGb3JDZWxsKGEsY1tiXS5yb290KX07RWRpdG9yVWkucHJvdG90eXBlLnVwZGF0ZVBhZ2VMaW5rc0ZvckNlbGw9ZnVuY3Rpb24oYSxjKXt2YXIgYj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSxlPXRoaXMuZWRpdG9yLmdyYXBoLGQ9ZS5nZXRMaW5rRm9yQ2VsbChjKTtudWxsIT1kJiZlLnNldExpbmtGb3JDZWxsKGMsdGhpcy51cGRhdGVQYWdlTGluayhhLGQpKTtpZihlLmlzSHRtbExhYmVsKGMpKXtiLmlubmVySFRNTD1lLmdldExhYmVsKGMpO2Zvcih2YXIgZj1iLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJhIiksaz0hMSxtPTA7bTxmLmxlbmd0aDttKyspZD1mW21dLmdldEF0dHJpYnV0ZSgiaHJlZiIpLG51bGwhPWQmJihmW21dLnNldEF0dHJpYnV0ZSgiaHJlZiIsdGhpcy51cGRhdGVQYWdlTGluayhhLGQpKSwKaz0hMCk7ayYmZS5sYWJlbENoYW5nZWQoYyxiLmlubmVySFRNTCl9Zm9yKG09MDttPGUubW9kZWwuZ2V0Q2hpbGRDb3VudChjKTttKyspdGhpcy51cGRhdGVQYWdlTGlua3NGb3JDZWxsKGEsZS5tb2RlbC5nZXRDaGlsZEF0KGMsbSkpfTtFZGl0b3JVaS5wcm90b3R5cGUudXBkYXRlUGFnZUxpbms9ZnVuY3Rpb24oYSxjKXtpZigiZGF0YTpwYWdlL2lkLCI9PWMuc3Vic3RyaW5nKDAsMTMpKXt2YXIgYj1hW2Muc3Vic3RyaW5nKGMuaW5kZXhPZigiLCIpKzEpXTtjPW51bGwhPWI/ImRhdGE6cGFnZS9pZCwiK2I6bnVsbH1lbHNlIGlmKCJkYXRhOmFjdGlvbi9qc29uLCI9PWMuc3Vic3RyaW5nKDAsMTcpKXRyeXt2YXIgZT1KU09OLnBhcnNlKGMuc3Vic3RyaW5nKDE3KSk7aWYobnVsbCE9ZS5hY3Rpb25zKXtmb3IodmFyIGQ9MDtkPGUuYWN0aW9ucy5sZW5ndGg7ZCsrKXt2YXIgZj1lLmFjdGlvbnNbZF07bnVsbCE9Zi5vcGVuJiYiZGF0YTpwYWdlL2lkLCI9PWYub3Blbi5zdWJzdHJpbmcoMCwKMTMpJiYoYj1hW2Yub3Blbi5zdWJzdHJpbmcoZi5vcGVuLmluZGV4T2YoIiwiKSsxKV0sbnVsbCE9Yj9mLm9wZW49ImRhdGE6cGFnZS9pZCwiK2I6ZGVsZXRlIGYub3Blbil9Yz0iZGF0YTphY3Rpb24vanNvbiwiK0pTT04uc3RyaW5naWZ5KGUpfX1jYXRjaCh2KXt9cmV0dXJuIGN9O0VkaXRvclVpLnByb3RvdHlwZS5pc1JlbW90ZVZpc2lvRm9ybWF0PWZ1bmN0aW9uKGEpe3JldHVybi8oXC52KHNkfGR4KSkoJHxcPykvaS50ZXN0KGEpfHwvKFwudnMoc3x4KSkoJHxcPykvaS50ZXN0KGEpfTtFZGl0b3JVaS5wcm90b3R5cGUuaW1wb3J0VmlzaW89ZnVuY3Rpb24oYSxjLGQsZil7Zj1udWxsIT1mP2Y6YS5uYW1lO2Q9bnVsbCE9ZD9kOm14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3RoaXMuaGFuZGxlRXJyb3IoYSl9KTt2YXIgYj1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMubG9hZGluZ0V4dGVuc2lvbnM9ITE7aWYodGhpcy5kb0ltcG9ydFZpc2lvKXt2YXIgYj10aGlzLmlzUmVtb3RlVmlzaW9Gb3JtYXQoZik7CnRyeXt2YXIgZT0iVU5LTk9XTi1WSVNJTyIsZz1mLmxhc3RJbmRleE9mKCIuIik7aWYoMDw9ZyYmZzxmLmxlbmd0aCllPWYuc3Vic3RyaW5nKGcrMSkudG9VcHBlckNhc2UoKTtlbHNle3ZhciBsPWYubGFzdEluZGV4T2YoIi8iKTswPD1sJiZsPGYubGVuZ3RoJiYoZj1mLnN1YnN0cmluZyhsKzEpKX1FZGl0b3JVaS5sb2dFdmVudCh7Y2F0ZWdvcnk6ZSsiLU1TLUlNUE9SVC1GSUxFIixhY3Rpb246ImZpbGVuYW1lXyIrZixsYWJlbDpiPyJyZW1vdGUiOiJsb2NhbCJ9KX1jYXRjaChDKXt9aWYoYilpZihudWxsPT1WU0RfQ09OVkVSVF9VUkx8fHRoaXMuaXNPZmZsaW5lKCkpZCh7bWVzc2FnZToiY29uZiI9PXRoaXMuZ2V0U2VydmljZU5hbWUoKT9teFJlc291cmNlcy5nZXQoInZzZE5vQ29uZmlnIik6bXhSZXNvdXJjZXMuZ2V0KCJzZXJ2aWNlVW5hdmFpbGFibGVPckJsb2NrZWQiKX0pO2Vsc2V7Yj1uZXcgRm9ybURhdGE7Yi5hcHBlbmQoImZpbGUxIixhLGYpO3ZhciBrPW5ldyBYTUxIdHRwUmVxdWVzdDsKay5vcGVuKCJQT1NUIixWU0RfQ09OVkVSVF9VUkwpO2sucmVzcG9uc2VUeXBlPSJibG9iIjt0aGlzLmFkZFJlbW90ZVNlcnZpY2VTZWN1cml0eUNoZWNrKGspO2sub25yZWFkeXN0YXRlY2hhbmdlPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7aWYoND09ay5yZWFkeVN0YXRlKWlmKDIwMDw9ay5zdGF0dXMmJjI5OT49ay5zdGF0dXMpdHJ5e3ZhciBhPWsucmVzcG9uc2U7aWYoInRleHQveG1sIj09YS50eXBlKXt2YXIgYj1uZXcgRmlsZVJlYWRlcjtiLm9ubG9hZD1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXt0cnl7YyhhLnRhcmdldC5yZXN1bHQpfWNhdGNoKHope2Qoe21lc3NhZ2U6bXhSZXNvdXJjZXMuZ2V0KCJlcnJvckxvYWRpbmdGaWxlIil9KX19KTtiLnJlYWRBc1RleHQoYSl9ZWxzZSB0aGlzLmRvSW1wb3J0VmlzaW8oYSxjLGQsZil9Y2F0Y2goRCl7ZChEKX1lbHNlIGQoe30pfSk7ay5zZW5kKGIpfWVsc2UgdHJ5e3RoaXMuZG9JbXBvcnRWaXNpbyhhLGMsZCxmKX1jYXRjaChDKXtkKEMpfX1lbHNlIHRoaXMuc3Bpbm5lci5zdG9wKCksCnRoaXMuaGFuZGxlRXJyb3Ioe21lc3NhZ2U6bXhSZXNvdXJjZXMuZ2V0KCJzZXJ2aWNlVW5hdmFpbGFibGVPckJsb2NrZWQiKX0pfSk7dGhpcy5kb0ltcG9ydFZpc2lvfHx0aGlzLmxvYWRpbmdFeHRlbnNpb25zfHx0aGlzLmlzT2ZmbGluZSghMCk/YigpOih0aGlzLmxvYWRpbmdFeHRlbnNpb25zPSEwLG14c2NyaXB0KCJqcy9leHRlbnNpb25zLm1pbi5qcyIsYikpfTtFZGl0b3JVaS5wcm90b3R5cGUuaW1wb3J0R3JhcGhNTD1mdW5jdGlvbihhLGMsZCl7ZD1udWxsIT1kP2Q6bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7dGhpcy5oYW5kbGVFcnJvcihhKX0pO3ZhciBiPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dGhpcy5sb2FkaW5nRXh0ZW5zaW9ucz0hMTtpZih0aGlzLmRvSW1wb3J0R3JhcGhNTCl0cnl7dGhpcy5kb0ltcG9ydEdyYXBoTUwoYSxjLGQpfWNhdGNoKGwpe2QobCl9ZWxzZSB0aGlzLnNwaW5uZXIuc3RvcCgpLHRoaXMuaGFuZGxlRXJyb3Ioe21lc3NhZ2U6bXhSZXNvdXJjZXMuZ2V0KCJzZXJ2aWNlVW5hdmFpbGFibGVPckJsb2NrZWQiKX0pfSk7CnRoaXMuZG9JbXBvcnRHcmFwaE1MfHx0aGlzLmxvYWRpbmdFeHRlbnNpb25zfHx0aGlzLmlzT2ZmbGluZSghMCk/YigpOih0aGlzLmxvYWRpbmdFeHRlbnNpb25zPSEwLG14c2NyaXB0KCJqcy9leHRlbnNpb25zLm1pbi5qcyIsYikpfTtFZGl0b3JVaS5wcm90b3R5cGUuZXhwb3J0VmlzaW89ZnVuY3Rpb24oKXt2YXIgYT1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMubG9hZGluZ0V4dGVuc2lvbnM9ITE7aWYoInVuZGVmaW5lZCIhPT10eXBlb2YgVnNkeEV4cG9ydCl0cnl7KG5ldyBWc2R4RXhwb3J0KHRoaXMpKS5leHBvcnRDdXJyZW50RGlhZ3JhbXMoKXx8dGhpcy5oYW5kbGVFcnJvcih7bWVzc2FnZTpteFJlc291cmNlcy5nZXQoInVua25vd25FcnJvciIpfSl9Y2F0Y2goZSl7dGhpcy5oYW5kbGVFcnJvcihlKX1lbHNlIHRoaXMuc3Bpbm5lci5zdG9wKCksdGhpcy5oYW5kbGVFcnJvcih7bWVzc2FnZTpteFJlc291cmNlcy5nZXQoInNlcnZpY2VVbmF2YWlsYWJsZU9yQmxvY2tlZCIpfSl9KTsKInVuZGVmaW5lZCIhPT10eXBlb2YgVnNkeEV4cG9ydHx8dGhpcy5sb2FkaW5nRXh0ZW5zaW9uc3x8dGhpcy5pc09mZmxpbmUoITApP2EoKToodGhpcy5sb2FkaW5nRXh0ZW5zaW9ucz0hMCxteHNjcmlwdCgianMvZXh0ZW5zaW9ucy5taW4uanMiLGEpKX07RWRpdG9yVWkucHJvdG90eXBlLmNvbnZlcnRMdWNpZENoYXJ0PWZ1bmN0aW9uKGEsYyxkKXt2YXIgYj1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMubG9hZGluZ0V4dGVuc2lvbnM9ITE7aWYoInVuZGVmaW5lZCIhPT10eXBlb2Ygd2luZG93Lkx1Y2lkSW1wb3J0ZXIpe3RyeXtFZGl0b3JVaS5sb2dFdmVudCh7Y2F0ZWdvcnk6IkxVQ0lEQ0hBUlQtSU1QT1JULUZJTEUiLGFjdGlvbjoic2l6ZV8iK2EubGVuZ3RofSksRWRpdG9yVWkuZGVidWcoImNvbnZlcnRMdWNpZENoYXJ0IixhKX1jYXRjaChsKXt9dHJ5e2MoTHVjaWRJbXBvcnRlci5pbXBvcnRTdGF0ZShKU09OLnBhcnNlKGEpKSl9Y2F0Y2gobCl7bnVsbCE9d2luZG93LmNvbnNvbGUmJgpjb25zb2xlLmVycm9yKGwpLGQobCl9fWVsc2UgZCh7bWVzc2FnZTpteFJlc291cmNlcy5nZXQoInNlcnZpY2VVbmF2YWlsYWJsZU9yQmxvY2tlZCIpfSl9KTsidW5kZWZpbmVkIiE9PXR5cGVvZiB3aW5kb3cuTHVjaWRJbXBvcnRlcnx8dGhpcy5sb2FkaW5nRXh0ZW5zaW9uc3x8dGhpcy5pc09mZmxpbmUoITApP3dpbmRvdy5zZXRUaW1lb3V0KGIsMCk6KHRoaXMubG9hZGluZ0V4dGVuc2lvbnM9ITAsIjEiPT11cmxQYXJhbXMuZGV2P214c2NyaXB0KCJqcy9kaWFncmFtbHkvRXh0ZW5zaW9ucy5qcyIsYik6bXhzY3JpcHQoImpzL2V4dGVuc2lvbnMubWluLmpzIixiKSl9O0VkaXRvclVpLnByb3RvdHlwZS5nZW5lcmF0ZU1lcm1haWRJbWFnZT1mdW5jdGlvbihhLGMsZCxmKXt2YXIgYj10aGlzLGU9ZnVuY3Rpb24oKXt0cnl7dGhpcy5sb2FkaW5nTWVybWFpZD0hMSxjPW51bGwhPWM/YzpFZGl0b3JVaS5kZWZhdWx0TWVybWFpZENvbmZpZyxjLnNlY3VyaXR5TGV2ZWw9InN0cmljdCIsYy5zdGFydE9uTG9hZD0KITEsbWVybWFpZC5tZXJtYWlkQVBJLmluaXRpYWxpemUoYyksbWVybWFpZC5tZXJtYWlkQVBJLnJlbmRlcigiZ2VNZXJtYWlkT3V0cHV0LSIrKG5ldyBEYXRlKS5nZXRUaW1lKCksYSxmdW5jdGlvbihhKXt0cnl7aWYobXhDbGllbnQuSVNfSUV8fG14Q2xpZW50LklTX0lFMTEpYT1hLnJlcGxhY2UoLyB4bWxuczpcUyo9Imh0dHA6XC9cL3d3dy53My5vcmdcL1hNTFwvMTk5OFwvbmFtZXNwYWNlIi9nLCIiKS5yZXBsYWNlKC8gKE5TIHhtbHxcUyopOnNwYWNlPSJwcmVzZXJ2ZSIvZywnIHhtbDpzcGFjZT0icHJlc2VydmUiJyk7dmFyIGM9bXhVdGlscy5wYXJzZVhtbChhKS5nZXRFbGVtZW50c0J5VGFnTmFtZSgic3ZnIik7aWYoMDxjLmxlbmd0aCl7dmFyIGU9cGFyc2VGbG9hdChjWzBdLmdldEF0dHJpYnV0ZSgid2lkdGgiKSksZz1wYXJzZUZsb2F0KGNbMF0uZ2V0QXR0cmlidXRlKCJoZWlnaHQiKSk7ZChiLmNvbnZlcnREYXRhVXJpKEVkaXRvci5jcmVhdGVTdmdEYXRhVXJpKGEpKSxlLApnKX1lbHNlIGYoe21lc3NhZ2U6bXhSZXNvdXJjZXMuZ2V0KCJpbnZhbGlkSW5wdXQiKX0pfWNhdGNoKEMpe2YoQyl9fSl9Y2F0Y2godil7Zih2KX19OyJ1bmRlZmluZWQiIT09dHlwZW9mIG1lcm1haWR8fHRoaXMubG9hZGluZ01lcm1haWR8fHRoaXMuaXNPZmZsaW5lKCEwKT9lKCk6KHRoaXMubG9hZGluZ01lcm1haWQ9ITAsIjEiPT11cmxQYXJhbXMuZGV2P214c2NyaXB0KCJqcy9tZXJtYWlkL21lcm1haWQubWluLmpzIixlKTpteHNjcmlwdCgianMvZXh0ZW5zaW9ucy5taW4uanMiLGUpKX07RWRpdG9yVWkucHJvdG90eXBlLmdlbmVyYXRlUGxhbnRVbWxJbWFnZT1mdW5jdGlvbihhLGMsZCxmKXtmdW5jdGlvbiBiKGEsYixjKXtjMT1hPj4yO2MyPShhJjMpPDw0fGI+PjQ7YzM9KGImMTUpPDwyfGM+PjY7YzQ9YyY2MztyPSIiO3IrPWUoYzEmNjMpO3IrPWUoYzImNjMpO3IrPWUoYzMmNjMpO3JldHVybiByKz1lKGM0JjYzKX1mdW5jdGlvbiBlKGEpe2lmKDEwPmEpcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoNDgrCmEpO2EtPTEwO2lmKDI2PmEpcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoNjUrYSk7YS09MjY7aWYoMjY+YSlyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZSg5NythKTthLT0yNjtyZXR1cm4gMD09YT8iLSI6MT09YT8iXyI6Ij8ifXZhciBnPW5ldyBYTUxIdHRwUmVxdWVzdDtnLm9wZW4oIkdFVCIsKCJ0eHQiPT1jP1BMQU5UX1VSTCsiL3R4dC8iOiJwbmciPT1jP1BMQU5UX1VSTCsiL3BuZy8iOlBMQU5UX1VSTCsiL3N2Zy8iKStmdW5jdGlvbihhKXtyPSIiO2ZvcihpPTA7aTxhLmxlbmd0aDtpKz0zKXI9aSsyPT1hLmxlbmd0aD9yK2IoYS5jaGFyQ29kZUF0KGkpLGEuY2hhckNvZGVBdChpKzEpLDApOmkrMT09YS5sZW5ndGg/citiKGEuY2hhckNvZGVBdChpKSwwLDApOnIrYihhLmNoYXJDb2RlQXQoaSksYS5jaGFyQ29kZUF0KGkrMSksYS5jaGFyQ29kZUF0KGkrMikpO3JldHVybiByfShwYWtvLmRlZmxhdGVSYXcoYSx7dG86InN0cmluZyJ9KSksITApOyJ0eHQiIT1jJiYoZy5yZXNwb25zZVR5cGU9CiJibG9iIik7Zy5vbmxvYWQ9ZnVuY3Rpb24oYSl7aWYoMjAwPD10aGlzLnN0YXR1cyYmMzAwPnRoaXMuc3RhdHVzKWlmKCJ0eHQiPT1jKWQodGhpcy5yZXNwb25zZSk7ZWxzZXt2YXIgYj1uZXcgRmlsZVJlYWRlcjtiLnJlYWRBc0RhdGFVUkwodGhpcy5yZXNwb25zZSk7Yi5vbmxvYWRlbmQ9ZnVuY3Rpb24oYSl7dmFyIGM9bmV3IEltYWdlO2Mub25sb2FkPWZ1bmN0aW9uKCl7dHJ5e3ZhciBhPWMud2lkdGgsZT1jLmhlaWdodDtpZigwPT1hJiYwPT1lKXt2YXIgZz1iLnJlc3VsdCxsPWcuaW5kZXhPZigiLCIpLGs9ZGVjb2RlVVJJQ29tcG9uZW50KGVzY2FwZShhdG9iKGcuc3Vic3RyaW5nKGwrMSkpKSksbj1teFV0aWxzLnBhcnNlWG1sKGspLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJzdmciKTswPG4ubGVuZ3RoJiYoYT1wYXJzZUZsb2F0KG5bMF0uZ2V0QXR0cmlidXRlKCJ3aWR0aCIpKSxlPXBhcnNlRmxvYXQoblswXS5nZXRBdHRyaWJ1dGUoImhlaWdodCIpKSl9ZChiLnJlc3VsdCxhLAplKX1jYXRjaChIKXtmKEgpfX07Yy5zcmM9Yi5yZXN1bHR9O2Iub25lcnJvcj1mdW5jdGlvbihhKXtmKGEpfX1lbHNlIGYoYSl9O2cub25lcnJvcj1mdW5jdGlvbihhKXtmKGEpfTtnLnNlbmQoKX07RWRpdG9yVWkucHJvdG90eXBlLmluc2VydEFzUHJlVGV4dD1mdW5jdGlvbihhLGMsZCl7dmFyIGI9dGhpcy5lZGl0b3IuZ3JhcGgsZT1udWxsO2IuZ2V0TW9kZWwoKS5iZWdpblVwZGF0ZSgpO3RyeXtlPWIuaW5zZXJ0VmVydGV4KG51bGwsbnVsbCwiPHByZT4iK2ErIjwvcHJlPiIsYyxkLDEsMSwidGV4dDtodG1sPTE7YWxpZ249bGVmdDt2ZXJ0aWNhbEFsaWduPXRvcDsiKSxiLnVwZGF0ZUNlbGxTaXplKGUsITApfWZpbmFsbHl7Yi5nZXRNb2RlbCgpLmVuZFVwZGF0ZSgpfXJldHVybiBlfTtFZGl0b3JVaS5wcm90b3R5cGUuaW5zZXJ0VGV4dEF0PWZ1bmN0aW9uKGEsYyxkLGYsbCxrLG0pe2s9bnVsbCE9az9rOiEwO209bnVsbCE9bT9tOiEwO2lmKG51bGwhPWEpaWYoR3JhcGguZmlsZVN1cHBvcnQmJgohdGhpcy5pc09mZmxpbmUoKSYmKG5ldyBYTUxIdHRwUmVxdWVzdCkudXBsb2FkJiZ0aGlzLmlzUmVtb3RlRmlsZUZvcm1hdChhKSl0aGlzLnBhcnNlRmlsZShuZXcgQmxvYihbYS5yZXBsYWNlKC9ccysvZywiICIpXSx7dHlwZToiYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtIn0pLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpezQ9PWEucmVhZHlTdGF0ZSYmMjAwPD1hLnN0YXR1cyYmMjk5Pj1hLnN0YXR1cyYmdGhpcy5lZGl0b3IuZ3JhcGguc2V0U2VsZWN0aW9uQ2VsbHModGhpcy5pbnNlcnRUZXh0QXQoYS5yZXNwb25zZVRleHQsYyxkLCEwKSl9KSk7ZWxzZSBpZigiZGF0YToiPT1hLnN1YnN0cmluZygwLDUpfHwhdGhpcy5pc09mZmxpbmUoKSYmKGx8fC9cLihnaWZ8anBnfGpwZWd8dGlmZnxwbmd8c3ZnKSQvaS50ZXN0KGEpKSl7dmFyIGI9dGhpcy5lZGl0b3IuZ3JhcGg7aWYoImRhdGE6YXBwbGljYXRpb24vcGRmO2Jhc2U2NCwiPT1hLnN1YnN0cmluZygwLDI4KSl7dmFyIGU9CkVkaXRvci5leHRyYWN0R3JhcGhNb2RlbEZyb21QZGYoYSk7aWYobnVsbCE9ZSYmMDxlLmxlbmd0aClyZXR1cm4gdGhpcy5pbXBvcnRYbWwoZSxjLGQsaywhMCl9aWYoImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCwiPT1hLnN1YnN0cmluZygwLDIyKSYmKGU9dGhpcy5leHRyYWN0R3JhcGhNb2RlbEZyb21QbmcoYSksbnVsbCE9ZSYmMDxlLmxlbmd0aCkpcmV0dXJuIHRoaXMuaW1wb3J0WG1sKGUsYyxkLGssITApO2lmKCJkYXRhOmltYWdlL3N2Zyt4bWw7Ij09YS5zdWJzdHJpbmcoMCwxOSkpdHJ5e2U9bnVsbDsiZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCwiPT1hLnN1YnN0cmluZygwLDI2KT8oZT1hLnN1YnN0cmluZyhhLmluZGV4T2YoIiwiKSsxKSxlPXdpbmRvdy5hdG9iJiYhbXhDbGllbnQuSVNfU0Y/YXRvYihlKTpCYXNlNjQuZGVjb2RlKGUsITApKTplPWRlY29kZVVSSUNvbXBvbmVudChhLnN1YnN0cmluZyhhLmluZGV4T2YoIiwiKSsxKSk7dmFyIGc9dGhpcy5pbXBvcnRYbWwoZSwKYyxkLGssITApO2lmKDA8Zy5sZW5ndGgpcmV0dXJuIGd9Y2F0Y2goQil7fXRoaXMubG9hZEltYWdlKGEsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oZSl7aWYoImRhdGE6Ij09YS5zdWJzdHJpbmcoMCw1KSl0aGlzLnJlc2l6ZUltYWdlKGUsYSxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhLGUsZil7Yi5zZXRTZWxlY3Rpb25DZWxsKGIuaW5zZXJ0VmVydGV4KG51bGwsbnVsbCwiIixiLnNuYXAoYyksYi5zbmFwKGQpLGUsZiwic2hhcGU9aW1hZ2U7dmVydGljYWxMYWJlbFBvc2l0aW9uPWJvdHRvbTtsYWJlbEJhY2tncm91bmRDb2xvcj0jZmZmZmZmO3ZlcnRpY2FsQWxpZ249dG9wO2FzcGVjdD1maXhlZDtpbWFnZUFzcGVjdD0wO2ltYWdlPSIrdGhpcy5jb252ZXJ0RGF0YVVyaShhKSsiOyIpKX0pLG0sdGhpcy5tYXhJbWFnZVNpemUpO2Vsc2V7dmFyIGY9TWF0aC5taW4oMSxNYXRoLm1pbih0aGlzLm1heEltYWdlU2l6ZS9lLndpZHRoLHRoaXMubWF4SW1hZ2VTaXplL2UuaGVpZ2h0KSksCmc9TWF0aC5yb3VuZChlLndpZHRoKmYpO2U9TWF0aC5yb3VuZChlLmhlaWdodCpmKTtiLnNldFNlbGVjdGlvbkNlbGwoYi5pbnNlcnRWZXJ0ZXgobnVsbCxudWxsLCIiLGIuc25hcChjKSxiLnNuYXAoZCksZyxlLCJzaGFwZT1pbWFnZTt2ZXJ0aWNhbExhYmVsUG9zaXRpb249Ym90dG9tO2xhYmVsQmFja2dyb3VuZENvbG9yPSNmZmZmZmY7dmVydGljYWxBbGlnbj10b3A7YXNwZWN0PWZpeGVkO2ltYWdlQXNwZWN0PTA7aW1hZ2U9IithKyI7IikpfX0pLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dmFyIGU9bnVsbDtiLmdldE1vZGVsKCkuYmVnaW5VcGRhdGUoKTt0cnl7ZT1iLmluc2VydFZlcnRleChiLmdldERlZmF1bHRQYXJlbnQoKSxudWxsLGEsYi5zbmFwKGMpLGIuc25hcChkKSwxLDEsInRleHQ7IisoZj8iaHRtbD0xOyI6IiIpKSxiLnVwZGF0ZUNlbGxTaXplKGUpLGIuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KCJ0ZXh0SW5zZXJ0ZWQiLCJjZWxscyIsW2VdKSl9ZmluYWxseXtiLmdldE1vZGVsKCkuZW5kVXBkYXRlKCl9Yi5zZXRTZWxlY3Rpb25DZWxsKGUpfSkpfWVsc2V7YT0KR3JhcGguemFwR3JlbWxpbnMobXhVdGlscy50cmltKGEpKTtpZih0aGlzLmlzQ29tcGF0aWJsZVN0cmluZyhhKSlyZXR1cm4gdGhpcy5pbXBvcnRYbWwoYSxjLGQsayk7aWYoMDxhLmxlbmd0aClpZih0aGlzLmlzTHVjaWRDaGFydERhdGEoYSkpdGhpcy5jb252ZXJ0THVjaWRDaGFydChhLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGIpe3RoaXMuZWRpdG9yLmdyYXBoLnNldFNlbGVjdGlvbkNlbGxzKHRoaXMuaW1wb3J0WG1sKGIsYyxkLGspKTshdGhpcy5pc09mZmxpbmUoKSYmKC8uKlwuZGlhZ3JhbXNcLm5ldCQvLnRlc3Qod2luZG93LmxvY2F0aW9uLmhvc3RuYW1lKXx8Ly4qXC5hcHBzcG90XC5jb20kLy50ZXN0KHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSl8fC8uKlwuZHJhd1wuaW8kLy50ZXN0KHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSkpJiZ0aGlzLnNob3dCYW5uZXIoIkx1Y2lkQ2hhcnRJbXBvcnRTdXJ2ZXkiLG14UmVzb3VyY2VzLmdldCgibm90U2F0aXNmaWVkV2l0aEltcG9ydCIpLApteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3ZhciBiPW5ldyBGZWVkYmFja0RpYWxvZyh0aGlzLCJMdWNpZGNoYXJ0IEltcG9ydCBGZWVkYmFjayIsITAsYSk7dGhpcy5zaG93RGlhbG9nKGIuY29udGFpbmVyLDYxMCwzNjAsITAsITEpO2IuaW5pdCgpfSkpfSksbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7dGhpcy5oYW5kbGVFcnJvcihhKX0pKTtlbHNle2I9dGhpcy5lZGl0b3IuZ3JhcGg7bD1udWxsO2IuZ2V0TW9kZWwoKS5iZWdpblVwZGF0ZSgpO3RyeXtsPWIuaW5zZXJ0VmVydGV4KGIuZ2V0RGVmYXVsdFBhcmVudCgpLG51bGwsIiIsYi5zbmFwKGMpLGIuc25hcChkKSwxLDEsInRleHQ7d2hpdGVTcGFjZT13cmFwOyIrKGY/Imh0bWw9MTsiOiIiKSk7Yi5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QoInRleHRJbnNlcnRlZCIsImNlbGxzIixbbF0pKTsiPCI9PWEuY2hhckF0KDApJiZhLmluZGV4T2YoIj4iKT09YS5sZW5ndGgtMSYmKGE9bXhVdGlscy5odG1sRW50aXRpZXMoYSkpOwphLmxlbmd0aD50aGlzLm1heFRleHRCeXRlcyYmKGE9YS5zdWJzdHJpbmcoMCx0aGlzLm1heFRleHRCeXRlcykrIi4uLiIpO2wudmFsdWU9YTtiLnVwZGF0ZUNlbGxTaXplKGwpO2lmKDA8dGhpcy5tYXhUZXh0V2lkdGgmJmwuZ2VvbWV0cnkud2lkdGg+dGhpcy5tYXhUZXh0V2lkdGgpe3ZhciBuPWIuZ2V0UHJlZmVycmVkU2l6ZUZvckNlbGwobCx0aGlzLm1heFRleHRXaWR0aCk7bC5nZW9tZXRyeS53aWR0aD1uLndpZHRoO2wuZ2VvbWV0cnkuaGVpZ2h0PW4uaGVpZ2h0fUdyYXBoLmlzTGluayhsLnZhbHVlKSYmYi5zZXRMaW5rRm9yQ2VsbChsLGwudmFsdWUpO2wuZ2VvbWV0cnkud2lkdGgrPWIuZ3JpZFNpemU7bC5nZW9tZXRyeS5oZWlnaHQrPWIuZ3JpZFNpemV9ZmluYWxseXtiLmdldE1vZGVsKCkuZW5kVXBkYXRlKCl9cmV0dXJuW2xdfX1yZXR1cm5bXX07RWRpdG9yVWkucHJvdG90eXBlLmZvcm1hdEZpbGVTaXplPWZ1bmN0aW9uKGEpe3ZhciBiPS0xO2RvIGEvPTEwMjQsYisrO3doaWxlKDEwMjQ8CmEpO3JldHVybiBNYXRoLm1heChhLC4xKS50b0ZpeGVkKDEpKyIga0I7IE1COyBHQjsgVEI7UEI7RUI7WkI7WUIiLnNwbGl0KCI7IilbYl19O0VkaXRvclVpLnByb3RvdHlwZS5jb252ZXJ0RGF0YVVyaT1mdW5jdGlvbihhKXtpZigiZGF0YToiPT1hLnN1YnN0cmluZygwLDUpKXt2YXIgYj1hLmluZGV4T2YoIjsiKTswPGImJihhPWEuc3Vic3RyaW5nKDAsYikrYS5zdWJzdHJpbmcoYS5pbmRleE9mKCIsIixiKzEpKSl9cmV0dXJuIGF9O0VkaXRvclVpLnByb3RvdHlwZS5pc1JlbW90ZUZpbGVGb3JtYXQ9ZnVuY3Rpb24oYSxjKXtyZXR1cm4vKFwiY29udGVudFR5cGVcIjpccypcImFwcGxpY2F0aW9uXC9nbGlmZnlcK2pzb25cIikvLnRlc3QoYSl9O0VkaXRvclVpLnByb3RvdHlwZS5pc0x1Y2lkQ2hhcnREYXRhPWZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hJiYoJ3sic3RhdGUiOiJ7XFwiUHJvcGVydGllc1xcIjonPT1hLnN1YnN0cmluZygwLDI2KXx8J3siUHJvcGVydGllcyI6Jz09YS5zdWJzdHJpbmcoMCwKMTQpKX07RWRpdG9yVWkucHJvdG90eXBlLmltcG9ydExvY2FsRmlsZT1mdW5jdGlvbihhLGMpe2lmKGEmJkdyYXBoLmZpbGVTdXBwb3J0KXtpZihudWxsPT10aGlzLmltcG9ydEZpbGVJbnB1dEVsdCl7dmFyIGI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTtiLnNldEF0dHJpYnV0ZSgidHlwZSIsImZpbGUiKTtteEV2ZW50LmFkZExpc3RlbmVyKGIsImNoYW5nZSIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXtudWxsIT1iLmZpbGVzJiYodGhpcy5pbXBvcnRGaWxlcyhiLmZpbGVzLG51bGwsbnVsbCx0aGlzLm1heEltYWdlU2l6ZSksYi50eXBlPSIiLGIudHlwZT0iZmlsZSIsYi52YWx1ZT0iIil9KSk7Yi5zdHlsZS5kaXNwbGF5PSJub25lIjtkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGIpO3RoaXMuaW1wb3J0RmlsZUlucHV0RWx0PWJ9dGhpcy5pbXBvcnRGaWxlSW5wdXRFbHQuY2xpY2soKX1lbHNle3dpbmRvdy5vcGVuTmV3PSExO3dpbmRvdy5vcGVuS2V5PSJpbXBvcnQiOwppZighYyl7dmFyIGU9RWRpdG9yLnVzZUxvY2FsU3RvcmFnZTtFZGl0b3IudXNlTG9jYWxTdG9yYWdlPSFhfXdpbmRvdy5vcGVuRmlsZT1uZXcgT3BlbkZpbGUobXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7dGhpcy5oaWRlRGlhbG9nKGEpfSkpO3dpbmRvdy5vcGVuRmlsZS5zZXRDb25zdW1lcihteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhLGIpe2lmKG51bGwhPWImJkdyYXBoLmZpbGVTdXBwb3J0JiYvKFwudihkeHxzZHg/KSkoJHxcPykvaS50ZXN0KGIpKXt2YXIgYz1uZXcgQmxvYihbYV0se3R5cGU6ImFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbSJ9KTt0aGlzLmltcG9ydFZpc2lvKGMsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7dGhpcy5pbXBvcnRYbWwoYSwwLDAsITApfSksbnVsbCxiKX1lbHNlIHRoaXMuZWRpdG9yLmdyYXBoLnNldFNlbGVjdGlvbkNlbGxzKHRoaXMuaW1wb3J0WG1sKGEsMCwwLCEwKSl9KSk7dGhpcy5zaG93RGlhbG9nKChuZXcgT3BlbkRpYWxvZyh0aGlzKSkuY29udGFpbmVyLAozNjAsMjIwLCEwLCEwLGZ1bmN0aW9uKCl7d2luZG93Lm9wZW5GaWxlPW51bGx9KTtpZighYyl7dmFyIGQ9dGhpcy5kaWFsb2csZj1kLmNsb3NlO3RoaXMuZGlhbG9nLmNsb3NlPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe0VkaXRvci51c2VMb2NhbFN0b3JhZ2U9ZTtmLmFwcGx5KGQsYXJndW1lbnRzKTthJiZudWxsPT10aGlzLmdldEN1cnJlbnRGaWxlKCkmJiIxIiE9dXJsUGFyYW1zLmVtYmVkJiZ0aGlzLnNob3dTcGxhc2goKX0pfX19O0VkaXRvclVpLnByb3RvdHlwZS5pbXBvcnRaaXBGaWxlPWZ1bmN0aW9uKGEsYyxkKXt2YXIgYj10aGlzLGU9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt0aGlzLmxvYWRpbmdFeHRlbnNpb25zPSExOyJ1bmRlZmluZWQiIT09dHlwZW9mIEpTWmlwP0pTWmlwLmxvYWRBc3luYyhhKS50aGVuKGZ1bmN0aW9uKGUpe2lmKDA9PU9iamVjdC5rZXlzKGUuZmlsZXMpLmxlbmd0aClkKCk7ZWxzZXt2YXIgZj0wLGcsbD0hMTtlLmZvckVhY2goZnVuY3Rpb24oYSwKYil7dmFyIGU9Yi5uYW1lLnRvTG93ZXJDYXNlKCk7ImRpYWdyYW0vZGlhZ3JhbS54bWwiPT1lPyhsPSEwLGIuYXN5bmMoInN0cmluZyIpLnRoZW4oZnVuY3Rpb24oYSl7MD09YS5pbmRleE9mKCI8bXhmaWxlICIpP2MoYSk6ZCgpfSkpOjA9PWUuaW5kZXhPZigidmVyc2lvbnMvIikmJihlPXBhcnNlSW50KGUuc3Vic3RyKDkpKSxlPmYmJihmPWUsZz1iKSl9KTswPGY/Zy5hc3luYygic3RyaW5nIikudGhlbihmdW5jdGlvbihlKXshYi5pc09mZmxpbmUoKSYmKG5ldyBYTUxIdHRwUmVxdWVzdCkudXBsb2FkJiZiLmlzUmVtb3RlRmlsZUZvcm1hdChlLGEubmFtZSk/Yi5wYXJzZUZpbGUobmV3IEJsb2IoW2VdLHt0eXBlOiJhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW0ifSksbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7ND09YS5yZWFkeVN0YXRlJiYoMjAwPD1hLnN0YXR1cyYmMjk5Pj1hLnN0YXR1cz9jKGEucmVzcG9uc2VUZXh0KTpkKCkpfSksYS5uYW1lKTpkKCl9KTpsfHxkKCl9fSwKZnVuY3Rpb24oYSl7ZChhKX0pOmQoKX0pOyJ1bmRlZmluZWQiIT09dHlwZW9mIEpTWmlwfHx0aGlzLmxvYWRpbmdFeHRlbnNpb25zfHx0aGlzLmlzT2ZmbGluZSghMCk/ZSgpOih0aGlzLmxvYWRpbmdFeHRlbnNpb25zPSEwLG14c2NyaXB0KCJqcy9leHRlbnNpb25zLm1pbi5qcyIsZSkpfTtFZGl0b3JVaS5wcm90b3R5cGUuaW1wb3J0RmlsZT1mdW5jdGlvbihhLGMsZCxmLGwsayxtLHQscSx4LEMpe3g9bnVsbCE9eD94OiEwO3ZhciBiPSExLGU9bnVsbCxnPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3ZhciBiPW51bGw7bnVsbCE9YSYmIjxteGxpYnJhcnkiPT1hLnN1YnN0cmluZygwLDEwKT90aGlzLmxvYWRMaWJyYXJ5KG5ldyBMb2NhbExpYnJhcnkodGhpcyxhLG0pKTpiPXRoaXMuaW1wb3J0WG1sKGEsZCxmLHgpO251bGwhPXQmJnQoYil9KTsiaW1hZ2UiPT1jLnN1YnN0cmluZygwLDUpPyhxPSExLCJpbWFnZS9wbmciPT1jLnN1YnN0cmluZygwLDkpJiYoYz1DP251bGw6CnRoaXMuZXh0cmFjdEdyYXBoTW9kZWxGcm9tUG5nKGEpLG51bGwhPWMmJjA8Yy5sZW5ndGgmJihlPXRoaXMuaW1wb3J0WG1sKGMsZCxmLHgpLHE9ITApKSxxfHwoYz10aGlzLmVkaXRvci5ncmFwaCxDPWEuaW5kZXhPZigiOyIpLDA8QyYmKGE9YS5zdWJzdHJpbmcoMCxDKSthLnN1YnN0cmluZyhhLmluZGV4T2YoIiwiLEMrMSkpKSx4JiZjLmlzR3JpZEVuYWJsZWQoKSYmKGQ9Yy5zbmFwKGQpLGY9Yy5zbmFwKGYpKSxlPVtjLmluc2VydFZlcnRleChudWxsLG51bGwsIiIsZCxmLGwsaywic2hhcGU9aW1hZ2U7dmVydGljYWxMYWJlbFBvc2l0aW9uPWJvdHRvbTtsYWJlbEJhY2tncm91bmRDb2xvcj0jZmZmZmZmO3ZlcnRpY2FsQWxpZ249dG9wO2FzcGVjdD1maXhlZDtpbWFnZUFzcGVjdD0wO2ltYWdlPSIrYSsiOyIpXSkpOi8oXC4qPGdyYXBobWwgKS8udGVzdChhKT8oYj0hMCx0aGlzLmltcG9ydEdyYXBoTUwoYSxnKSk6bnVsbCE9cSYmbnVsbCE9bSYmKC8oXC52KGR4fHNkeD8pKSgkfFw/KS9pLnRlc3QobSl8fAovKFwudnMoeHxzeD8pKSgkfFw/KS9pLnRlc3QobSkpPyhiPSEwLHRoaXMuaW1wb3J0VmlzaW8ocSxnKSk6IXRoaXMuaXNPZmZsaW5lKCkmJihuZXcgWE1MSHR0cFJlcXVlc3QpLnVwbG9hZCYmdGhpcy5pc1JlbW90ZUZpbGVGb3JtYXQoYSxtKT8oYj0hMCx0aGlzLnBhcnNlRmlsZShudWxsIT1xP3E6bmV3IEJsb2IoW2FdLHt0eXBlOiJhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW0ifSksbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7ND09YS5yZWFkeVN0YXRlJiYoMjAwPD1hLnN0YXR1cyYmMjk5Pj1hLnN0YXR1cz9nKGEucmVzcG9uc2VUZXh0KTpudWxsIT10JiZ0KG51bGwpKX0pLG0pKTowPT1hLmluZGV4T2YoIlBLIikmJm51bGwhPXE/KGI9ITAsdGhpcy5pbXBvcnRaaXBGaWxlKHEsZyxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe2U9dGhpcy5pbnNlcnRUZXh0QXQodGhpcy52YWxpZGF0ZUZpbGVEYXRhKGEpLGQsZiwhMCxudWxsLHgpO3QoZSl9KSkpOi8oXC52KHNkfGR4KSkoJHxcPykvaS50ZXN0KG0pfHwKLyhcLnZzKHN8eCkpKCR8XD8pL2kudGVzdChtKXx8KGU9dGhpcy5pbnNlcnRUZXh0QXQodGhpcy52YWxpZGF0ZUZpbGVEYXRhKGEpLGQsZiwhMCxudWxsLHgpKTtifHxudWxsPT10fHx0KGUpO3JldHVybiBlfTtFZGl0b3JVaS5wcm90b3R5cGUuaW1wb3J0RmlsZXM9ZnVuY3Rpb24oYSxjLGQsZixsLGssbSx0LHEseCxDLEIpe2Y9bnVsbCE9Zj9mOnRoaXMubWF4SW1hZ2VTaXplO3g9bnVsbCE9eD94OnRoaXMubWF4SW1hZ2VCeXRlczt2YXIgYj1udWxsIT1jJiZudWxsIT1kLGU9ITA7Yz1udWxsIT1jP2M6MDtkPW51bGwhPWQ/ZDowO3ZhciBnPSExO2lmKCFteENsaWVudC5JU19DSFJPTUVBUFAmJm51bGwhPWEpZm9yKHZhciBuPUN8fHRoaXMucmVzYW1wbGVUaHJlc2hvbGQscD0wO3A8YS5sZW5ndGg7cCsrKWlmKCJpbWFnZS8iPT1hW3BdLnR5cGUuc3Vic3RyaW5nKDAsNikmJmFbcF0uc2l6ZT5uKXtnPSEwO2JyZWFrfXZhciB5PW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dmFyIGc9CnRoaXMuZWRpdG9yLmdyYXBoLG49Zy5ncmlkU2l6ZTtsPW51bGwhPWw/bDpteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhLGMsZSxkLGYsZyxsLGssbil7dHJ5e3JldHVybiBudWxsIT1hJiYiPG14bGlicmFyeSI9PWEuc3Vic3RyaW5nKDAsMTApPyh0aGlzLnNwaW5uZXIuc3RvcCgpLHRoaXMubG9hZExpYnJhcnkobmV3IExvY2FsTGlicmFyeSh0aGlzLGEsbCkpLG51bGwpOnRoaXMuaW1wb3J0RmlsZShhLGMsZSxkLGYsZyxsLGssbixiLEIpfWNhdGNoKFQpe3JldHVybiB0aGlzLmhhbmRsZUVycm9yKFQpLG51bGx9fSk7az1udWxsIT1rP2s6bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7Zy5zZXRTZWxlY3Rpb25DZWxscyhhKX0pO2lmKHRoaXMuc3Bpbm5lci5zcGluKGRvY3VtZW50LmJvZHksbXhSZXNvdXJjZXMuZ2V0KCJsb2FkaW5nIikpKWZvcih2YXIgcD1hLmxlbmd0aCxxPXAseT1bXSx2PW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEsYil7eVthXT1iO2lmKDA9PQotLXEpe3RoaXMuc3Bpbm5lci5zdG9wKCk7aWYobnVsbCE9dCl0KHkpO2Vsc2V7dmFyIGM9W107Zy5nZXRNb2RlbCgpLmJlZ2luVXBkYXRlKCk7dHJ5e2Zvcih2YXIgZT0wO2U8eS5sZW5ndGg7ZSsrKXt2YXIgZD15W2VdKCk7bnVsbCE9ZCYmKGM9Yy5jb25jYXQoZCkpfX1maW5hbGx5e2cuZ2V0TW9kZWwoKS5lbmRVcGRhdGUoKX19ayhjKX19KSx6PTA7ejxwO3orKylteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihiKXt2YXIgaz1hW2JdO2lmKG51bGwhPWspe3ZhciBwPW5ldyBGaWxlUmVhZGVyO3Aub25sb2FkPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe2lmKG51bGw9PW18fG0oaykpaWYoImltYWdlLyI9PWsudHlwZS5zdWJzdHJpbmcoMCw2KSlpZigiaW1hZ2Uvc3ZnIj09ay50eXBlLnN1YnN0cmluZygwLDkpKXt2YXIgcD1hLnRhcmdldC5yZXN1bHQsdD1wLmluZGV4T2YoIiwiKSxxPWRlY29kZVVSSUNvbXBvbmVudChlc2NhcGUoYXRvYihwLnN1YnN0cmluZyh0KzEpKSkpLAp5PW14VXRpbHMucGFyc2VYbWwocSkscT15LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJzdmciKTtpZigwPHEubGVuZ3RoKXt2YXIgcT1xWzBdLHU9Qj9udWxsOnEuZ2V0QXR0cmlidXRlKCJjb250ZW50Iik7bnVsbCE9dSYmIjwiIT11LmNoYXJBdCgwKSYmIiUiIT11LmNoYXJBdCgwKSYmKHU9dW5lc2NhcGUod2luZG93LmF0b2I/YXRvYih1KTpCYXNlNjQuZGVjb2RlKHUsITApKSk7bnVsbCE9dSYmIiUiPT11LmNoYXJBdCgwKSYmKHU9ZGVjb2RlVVJJQ29tcG9uZW50KHUpKTtudWxsPT11fHwiPG14ZmlsZSAiIT09dS5zdWJzdHJpbmcoMCw4KSYmIjxteEdyYXBoTW9kZWwgIiE9PXUuc3Vic3RyaW5nKDAsMTQpP3YoYixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RyeXtpZihwLnN1YnN0cmluZygwLHQrMSksbnVsbCE9eSl7dmFyIGE9eS5nZXRFbGVtZW50c0J5VGFnTmFtZSgic3ZnIik7aWYoMDxhLmxlbmd0aCl7dmFyIGU9YVswXSxtPWUuZ2V0QXR0cmlidXRlKCJ3aWR0aCIpLHE9CmUuZ2V0QXR0cmlidXRlKCJoZWlnaHQiKSxtPW51bGwhPW0mJiIlIiE9bS5jaGFyQXQobS5sZW5ndGgtMSk/cGFyc2VGbG9hdChtKTpOYU4scT1udWxsIT1xJiYiJSIhPXEuY2hhckF0KHEubGVuZ3RoLTEpP3BhcnNlRmxvYXQocSk6TmFOLHg9ZS5nZXRBdHRyaWJ1dGUoInZpZXdCb3giKTtpZihudWxsPT14fHwwPT14Lmxlbmd0aCllLnNldEF0dHJpYnV0ZSgidmlld0JveCIsIjAgMCAiK20rIiAiK3EpO2Vsc2UgaWYoaXNOYU4obSl8fGlzTmFOKHEpKXt2YXIgdT14LnNwbGl0KCIgIik7Mzx1Lmxlbmd0aCYmKG09cGFyc2VGbG9hdCh1WzJdKSxxPXBhcnNlRmxvYXQodVszXSkpfXA9RWRpdG9yLmNyZWF0ZVN2Z0RhdGFVcmkobXhVdGlscy5nZXRYbWwoZSkpO3ZhciB2PU1hdGgubWluKDEsTWF0aC5taW4oZi9NYXRoLm1heCgxLG0pKSxmL01hdGgubWF4KDEscSkpLEE9bChwLGsudHlwZSxjK2IqbixkK2IqbixNYXRoLm1heCgxLE1hdGgucm91bmQobSp2KSksTWF0aC5tYXgoMSxNYXRoLnJvdW5kKHEqCnYpKSxrLm5hbWUpO2lmKGlzTmFOKG0pfHxpc05hTihxKSl7dmFyIHo9bmV3IEltYWdlO3oub25sb2FkPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7bT1NYXRoLm1heCgxLHoud2lkdGgpO3E9TWF0aC5tYXgoMSx6LmhlaWdodCk7QVswXS5nZW9tZXRyeS53aWR0aD1tO0FbMF0uZ2VvbWV0cnkuaGVpZ2h0PXE7ZS5zZXRBdHRyaWJ1dGUoInZpZXdCb3giLCIwIDAgIittKyIgIitxKTtwPUVkaXRvci5jcmVhdGVTdmdEYXRhVXJpKG14VXRpbHMuZ2V0WG1sKGUpKTt2YXIgYT1wLmluZGV4T2YoIjsiKTswPGEmJihwPXAuc3Vic3RyaW5nKDAsYSkrcC5zdWJzdHJpbmcocC5pbmRleE9mKCIsIixhKzEpKSk7Zy5zZXRDZWxsU3R5bGVzKCJpbWFnZSIscCxbQVswXV0pfSk7ei5zcmM9RWRpdG9yLmNyZWF0ZVN2Z0RhdGFVcmkobXhVdGlscy5nZXRYbWwoZSkpfXJldHVybiBBfX19Y2F0Y2goUyl7fXJldHVybiBudWxsfSkpOnYoYixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3JldHVybiBsKHUsCiJ0ZXh0L3htbCIsYytiKm4sZCtiKm4sMCwwLGsubmFtZSl9KSl9ZWxzZSB2KGIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH0pKX1lbHNle3E9ITE7aWYoImltYWdlL3BuZyI9PWsudHlwZSl7dmFyIEE9Qj9udWxsOnRoaXMuZXh0cmFjdEdyYXBoTW9kZWxGcm9tUG5nKGEudGFyZ2V0LnJlc3VsdCk7aWYobnVsbCE9QSYmMDxBLmxlbmd0aCl7dmFyIHo9bmV3IEltYWdlO3ouc3JjPWEudGFyZ2V0LnJlc3VsdDt2KGIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXtyZXR1cm4gbChBLCJ0ZXh0L3htbCIsYytiKm4sZCtiKm4sei53aWR0aCx6LmhlaWdodCxrLm5hbWUpfSkpO3E9ITB9fXF8fChteENsaWVudC5JU19DSFJPTUVBUFA/KHRoaXMuc3Bpbm5lci5zdG9wKCksdGhpcy5zaG93RXJyb3IobXhSZXNvdXJjZXMuZ2V0KCJlcnJvciIpLG14UmVzb3VyY2VzLmdldCgiZHJhZ0FuZERyb3BOb3RTdXBwb3J0ZWQiKSxteFJlc291cmNlcy5nZXQoImNhbmNlbCIpLApteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe30pLG51bGwsbXhSZXNvdXJjZXMuZ2V0KCJvayIpLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dGhpcy5hY3Rpb25zLmdldCgiaW1wb3J0IikuZnVuY3QoKX0pKSk6dGhpcy5sb2FkSW1hZ2UoYS50YXJnZXQucmVzdWx0LG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGcpe3RoaXMucmVzaXplSW1hZ2UoZyxhLnRhcmdldC5yZXN1bHQsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oZyxtLHApe3YoYixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe2lmKG51bGwhPWcmJmcubGVuZ3RoPHgpe3ZhciBxPWUmJnRoaXMuaXNSZXNhbXBsZUltYWdlKGEudGFyZ2V0LnJlc3VsdCxDKT9NYXRoLm1pbigxLE1hdGgubWluKGYvbSxmL3ApKToxO3JldHVybiBsKGcsay50eXBlLGMrYipuLGQrYipuLE1hdGgucm91bmQobSpxKSxNYXRoLnJvdW5kKHAqcSksay5uYW1lKX10aGlzLmhhbmRsZUVycm9yKHttZXNzYWdlOm14UmVzb3VyY2VzLmdldCgiaW1hZ2VUb29CaWciKX0pOwpyZXR1cm4gbnVsbH0pKX0pLGUsZixDKX0pLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dGhpcy5oYW5kbGVFcnJvcih7bWVzc2FnZTpteFJlc291cmNlcy5nZXQoImludmFsaWRPck1pc3NpbmdGaWxlIil9KX0pKSl9ZWxzZSBwPWEudGFyZ2V0LnJlc3VsdCxsKHAsay50eXBlLGMrYipuLGQrYipuLDI0MCwxNjAsay5uYW1lLGZ1bmN0aW9uKGEpe3YoYixmdW5jdGlvbigpe3JldHVybiBhfSl9LGspfSk7LyhcLnYoZHh8c2R4PykpKCR8XD8pL2kudGVzdChrLm5hbWUpfHwvKFwudnMoeHxzeD8pKSgkfFw/KS9pLnRlc3Qoay5uYW1lKT9sKG51bGwsay50eXBlLGMrYipuLGQrYipuLDI0MCwxNjAsay5uYW1lLGZ1bmN0aW9uKGEpe3YoYixmdW5jdGlvbigpe3JldHVybiBhfSl9LGspOiJpbWFnZSI9PWsudHlwZS5zdWJzdHJpbmcoMCw1KXx8ImFwcGxpY2F0aW9uL3BkZiI9PWsudHlwZT9wLnJlYWRBc0RhdGFVUkwoayk6cC5yZWFkQXNUZXh0KGspfX0pKHopfSk7aWYoZyl7Zz1bXTsKZm9yKHA9MDtwPGEubGVuZ3RoO3ArKylnLnB1c2goYVtwXSk7YT1nO3RoaXMuY29uZmlybUltYWdlUmVzaXplKGZ1bmN0aW9uKGEpe2U9YTt5KCl9LHEpfWVsc2UgeSgpfTtFZGl0b3JVaS5wcm90b3R5cGUuY29uZmlybUltYWdlUmVzaXplPWZ1bmN0aW9uKGEsYyl7Yz1udWxsIT1jP2M6ITE7dmFyIGI9bnVsbCE9dGhpcy5zcGlubmVyJiZudWxsIT10aGlzLnNwaW5uZXIucGF1c2U/dGhpcy5zcGlubmVyLnBhdXNlKCk6ZnVuY3Rpb24oKXt9LGU9aXNMb2NhbFN0b3JhZ2V8fG14Q2xpZW50LklTX0NIUk9NRUFQUD9teFNldHRpbmdzLmdldFJlc2l6ZUltYWdlcygpOm51bGwsZD1mdW5jdGlvbihlLGQpe2lmKGV8fGMpbXhTZXR0aW5ncy5zZXRSZXNpemVJbWFnZXMoZT9kOm51bGwpLG14U2V0dGluZ3Muc2F2ZSgpO2IoKTthKGQpfTtudWxsPT1lfHxjP3RoaXMuc2hvd0RpYWxvZygobmV3IENvbmZpcm1EaWFsb2codGhpcyxteFJlc291cmNlcy5nZXQoInJlc2l6ZUxhcmdlSW1hZ2VzIiksCmZ1bmN0aW9uKGEpe2QoYSwhMCl9LGZ1bmN0aW9uKGEpe2QoYSwhMSl9LG14UmVzb3VyY2VzLmdldCgicmVzaXplIiksbXhSZXNvdXJjZXMuZ2V0KCJhY3R1YWxTaXplIiksJzxpbWcgc3R5bGU9Im1hcmdpbi10b3A6OHB4OyIgc3JjPSInK0VkaXRvci5sb1Jlc0ltYWdlKyciLz4nLCc8aW1nIHN0eWxlPSJtYXJnaW4tdG9wOjhweDsiIHNyYz0iJytFZGl0b3IuaGlSZXNJbWFnZSsnIi8+Jyxpc0xvY2FsU3RvcmFnZXx8bXhDbGllbnQuSVNfQ0hST01FQVBQKSkuY29udGFpbmVyLDM0MCxpc0xvY2FsU3RvcmFnZXx8bXhDbGllbnQuSVNfQ0hST01FQVBQPzIyMDoyMDAsITAsITApOmQoITEsZSl9O0VkaXRvclVpLnByb3RvdHlwZS5wYXJzZUZpbGU9ZnVuY3Rpb24oYSxjLGQpe2Q9bnVsbCE9ZD9kOmEubmFtZTt2YXIgYj1uZXcgRm9ybURhdGE7Yi5hcHBlbmQoImZvcm1hdCIsInhtbCIpO2IuYXBwZW5kKCJ1cGZpbGUiLGEsZCk7dmFyIGU9bmV3IFhNTEh0dHBSZXF1ZXN0O2Uub3BlbigiUE9TVCIsCk9QRU5fVVJMKTtlLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpe2MoZSl9O2Uuc2VuZChiKTt0cnl7RWRpdG9yVWkubG9nRXZlbnQoe2NhdGVnb3J5OiJHTElGRlktSU1QT1JULUZJTEUiLGFjdGlvbjoic2l6ZV8iK2Euc2l6ZX0pfWNhdGNoKHApe319O0VkaXRvclVpLnByb3RvdHlwZS5pc1Jlc2FtcGxlSW1hZ2U9ZnVuY3Rpb24oYSxjKXtjPW51bGwhPWM/Yzp0aGlzLnJlc2FtcGxlVGhyZXNob2xkO3JldHVybiBhLmxlbmd0aD5jfTtFZGl0b3JVaS5wcm90b3R5cGUucmVzaXplSW1hZ2U9ZnVuY3Rpb24oYSxjLGQsZixsLGspe2w9bnVsbCE9bD9sOnRoaXMubWF4SW1hZ2VTaXplO3ZhciBiPU1hdGgubWF4KDEsYS53aWR0aCksZT1NYXRoLm1heCgxLGEuaGVpZ2h0KTtpZihmJiZ0aGlzLmlzUmVzYW1wbGVJbWFnZShjLGspKXRyeXt2YXIgZz1NYXRoLm1heChiL2wsZS9sKTtpZigxPGcpe3ZhciBtPU1hdGgucm91bmQoYi9nKSxuPU1hdGgucm91bmQoZS9nKSxwPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImNhbnZhcyIpOwpwLndpZHRoPW07cC5oZWlnaHQ9bjtwLmdldENvbnRleHQoIjJkIikuZHJhd0ltYWdlKGEsMCwwLG0sbik7dmFyIHE9cC50b0RhdGFVUkwoKTtpZihxLmxlbmd0aDxjLmxlbmd0aCl7dmFyIHo9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIik7ei53aWR0aD1tO3ouaGVpZ2h0PW47dmFyIEU9ei50b0RhdGFVUkwoKTtxIT09RSYmKGM9cSxiPW0sZT1uKX19fWNhdGNoKEcpe31kKGMsYixlKX07RWRpdG9yVWkucHJvdG90eXBlLmV4dHJhY3RHcmFwaE1vZGVsRnJvbVBuZz1mdW5jdGlvbihhKXtyZXR1cm4gRWRpdG9yLmV4dHJhY3RHcmFwaE1vZGVsRnJvbVBuZyhhKX07RWRpdG9yVWkucHJvdG90eXBlLmxvYWRJbWFnZT1mdW5jdGlvbihhLGMsZCl7dHJ5e3ZhciBiPW5ldyBJbWFnZTtiLm9ubG9hZD1mdW5jdGlvbigpe2Iud2lkdGg9MDxiLndpZHRoP2Iud2lkdGg6MTIwO2IuaGVpZ2h0PTA8Yi5oZWlnaHQ/Yi5oZWlnaHQ6MTIwO2MoYil9O251bGwhPWQmJihiLm9uZXJyb3I9ZCk7CmIuc3JjPWF9Y2F0Y2gobCl7aWYobnVsbCE9ZClkKGwpO2Vsc2UgdGhyb3cgbDt9fTt2YXIgZD1FZGl0b3JVaS5wcm90b3R5cGUuaW5pdDtFZGl0b3JVaS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbigpe214U3RlbmNpbFJlZ2lzdHJ5LmFsbG93RXZhbD1teFN0ZW5jaWxSZWdpc3RyeS5hbGxvd0V2YWwmJiF0aGlzLmlzT2ZmbGluZUFwcCgpOyJ1bmRlZmluZWQiIT09dHlwZW9mIHdpbmRvdy5teFNldHRpbmdzJiYodGhpcy5mb3JtYXRXaWR0aD1teFNldHRpbmdzLmdldEZvcm1hdFdpZHRoKCkpO3ZhciBhPXRoaXMsYz10aGlzLmVkaXRvci5ncmFwaDtjLmNlbGxFZGl0b3IuZWRpdFBsYW50VW1sRGF0YT1mdW5jdGlvbihiLGUsZCl7dmFyIGY9SlNPTi5wYXJzZShkKTtlPW5ldyBUZXh0YXJlYURpYWxvZyhhLG14UmVzb3VyY2VzLmdldCgicGxhbnRVbWwiKSsiOiIsZi5kYXRhLGZ1bmN0aW9uKGUpe251bGwhPWUmJmEuc3Bpbm5lci5zcGluKGRvY3VtZW50LmJvZHksbXhSZXNvdXJjZXMuZ2V0KCJpbnNlcnRpbmciKSkmJgphLmdlbmVyYXRlUGxhbnRVbWxJbWFnZShlLGYuZm9ybWF0LGZ1bmN0aW9uKGQsZyxsKXthLnNwaW5uZXIuc3RvcCgpO2MuZ2V0TW9kZWwoKS5iZWdpblVwZGF0ZSgpO3RyeXtpZigidHh0Ij09Zi5mb3JtYXQpYy5sYWJlbENoYW5nZWQoYiwiPHByZT4iK2QrIjwvcHJlPiIpLGMudXBkYXRlQ2VsbFNpemUoYiwhMCk7ZWxzZXtjLnNldENlbGxTdHlsZXMoImltYWdlIixhLmNvbnZlcnREYXRhVXJpKGQpLFtiXSk7dmFyIGs9Yy5tb2RlbC5nZXRHZW9tZXRyeShiKTtudWxsIT1rJiYoaz1rLmNsb25lKCksay53aWR0aD1nLGsuaGVpZ2h0PWwsYy5jZWxsc1Jlc2l6ZWQoW2JdLFtrXSwhMSkpfWMuc2V0QXR0cmlidXRlRm9yQ2VsbChiLCJwbGFudFVtbERhdGEiLEpTT04uc3RyaW5naWZ5KHtkYXRhOmUsZm9ybWF0OmYuZm9ybWF0fSkpfWZpbmFsbHl7Yy5nZXRNb2RlbCgpLmVuZFVwZGF0ZSgpfX0sZnVuY3Rpb24oYil7YS5oYW5kbGVFcnJvcihiKX0pfSxudWxsLG51bGwsNDAwLDIyMCk7YS5zaG93RGlhbG9nKGUuY29udGFpbmVyLAo0MjAsMzAwLCEwLCEwKTtlLmluaXQoKX07Yy5jZWxsRWRpdG9yLmVkaXRNZXJtYWlkRGF0YT1mdW5jdGlvbihiLGUsZCl7dmFyIGY9SlNPTi5wYXJzZShkKTtlPW5ldyBUZXh0YXJlYURpYWxvZyhhLG14UmVzb3VyY2VzLmdldCgibWVybWFpZCIpKyI6IixmLmRhdGEsZnVuY3Rpb24oZSl7bnVsbCE9ZSYmYS5zcGlubmVyLnNwaW4oZG9jdW1lbnQuYm9keSxteFJlc291cmNlcy5nZXQoImluc2VydGluZyIpKSYmYS5nZW5lcmF0ZU1lcm1haWRJbWFnZShlLGYuY29uZmlnLGZ1bmN0aW9uKGQsZyxsKXthLnNwaW5uZXIuc3RvcCgpO2MuZ2V0TW9kZWwoKS5iZWdpblVwZGF0ZSgpO3RyeXtjLnNldENlbGxTdHlsZXMoImltYWdlIixkLFtiXSk7dmFyIGs9Yy5tb2RlbC5nZXRHZW9tZXRyeShiKTtudWxsIT1rJiYoaz1rLmNsb25lKCksay53aWR0aD1NYXRoLm1heChrLndpZHRoLGcpLGsuaGVpZ2h0PU1hdGgubWF4KGsuaGVpZ2h0LGwpLGMuY2VsbHNSZXNpemVkKFtiXSxba10sITEpKTtjLnNldEF0dHJpYnV0ZUZvckNlbGwoYiwKIm1lcm1haWREYXRhIixKU09OLnN0cmluZ2lmeSh7ZGF0YTplLGNvbmZpZzpmLmNvbmZpZ30sbnVsbCwyKSl9ZmluYWxseXtjLmdldE1vZGVsKCkuZW5kVXBkYXRlKCl9fSxmdW5jdGlvbihiKXthLmhhbmRsZUVycm9yKGIpfSl9LG51bGwsbnVsbCw0MDAsMjIwKTthLnNob3dEaWFsb2coZS5jb250YWluZXIsNDIwLDMwMCwhMCwhMCk7ZS5pbml0KCl9O3ZhciBmPWMuY2VsbEVkaXRvci5zdGFydEVkaXRpbmc7Yy5jZWxsRWRpdG9yLnN0YXJ0RWRpdGluZz1mdW5jdGlvbihiLGMpe3RyeXt2YXIgZT10aGlzLmdyYXBoLmdldEF0dHJpYnV0ZUZvckNlbGwoYiwicGxhbnRVbWxEYXRhIik7bnVsbCE9ZT90aGlzLmVkaXRQbGFudFVtbERhdGEoYixjLGUpOihlPXRoaXMuZ3JhcGguZ2V0QXR0cmlidXRlRm9yQ2VsbChiLCJtZXJtYWlkRGF0YSIpLG51bGwhPWU/dGhpcy5lZGl0TWVybWFpZERhdGEoYixjLGUpOmYuYXBwbHkodGhpcyxhcmd1bWVudHMpKX1jYXRjaChHKXthLmhhbmRsZUVycm9yKEcpfX07CmMuZ2V0TGlua1RpdGxlPWZ1bmN0aW9uKGIpe3JldHVybiBhLmdldExpbmtUaXRsZShiKX07Yy5jdXN0b21MaW5rQ2xpY2tlZD1mdW5jdGlvbihiKXt2YXIgYz0hMTt0cnl7YS5oYW5kbGVDdXN0b21MaW5rKGIpLGM9ITB9Y2F0Y2goRSl7YS5oYW5kbGVFcnJvcihFKX1yZXR1cm4gY307dmFyIGs9dGhpcy5jbGVhckRlZmF1bHRTdHlsZTt0aGlzLmNsZWFyRGVmYXVsdFN0eWxlPWZ1bmN0aW9uKCl7ay5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O3RoaXMuaXNPZmZsaW5lKCl8fCJ1bmRlZmluZWQiPT09dHlwZW9mIHdpbmRvdy5FZGl0RGF0YURpYWxvZ3x8KEVkaXREYXRhRGlhbG9nLnBsYWNlaG9sZGVySGVscExpbms9Imh0dHBzOi8vZGVzay5kcmF3LmlvL3N1cHBvcnQvc29sdXRpb25zL2FydGljbGVzLzE2MDAwMDUxOTc5Iik7dmFyIGw9YS5lZGl0b3IuZ2V0RWRpdEJsYW5rVXJsO3RoaXMuZWRpdG9yLmdldEVkaXRCbGFua1VybD1mdW5jdGlvbihiKXtiPW51bGwhPWI/YjoiIjtpZihudWxsIT0KYS5wYWdlcyYmbnVsbCE9YS5jdXJyZW50UGFnZSlmb3IodmFyIGM9MDtjPGEucGFnZXMubGVuZ3RoO2MrKylpZihhLnBhZ2VzW2NdPT1hLmN1cnJlbnRQYWdlKXswPGMmJihiKz0oMDxiLmxlbmd0aD8iJiI6Ij8iKSsicGFnZT0iK2MpO2JyZWFrfSIxIj09dXJsUGFyYW1zLmRldiYmKGIrPSgwPGIubGVuZ3RoPyImIjoiPyIpKyJkZXY9MSZkcmF3ZGV2PTEiKTtyZXR1cm4gbC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O3ZhciBtPWMuYWRkQ2xpY2tIYW5kbGVyO2MuYWRkQ2xpY2tIYW5kbGVyPWZ1bmN0aW9uKGEsYixlKXt2YXIgZD1iO2I9ZnVuY3Rpb24oYSxiKXtpZihudWxsPT1iKXt2YXIgZT1teEV2ZW50LmdldFNvdXJjZShhKTsiYSI9PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmKGI9ZS5nZXRBdHRyaWJ1dGUoImhyZWYiKSl9bnVsbCE9YiYmYy5pc0N1c3RvbUxpbmsoYikmJihteEV2ZW50LmlzVG91Y2hFdmVudChhKXx8IW14RXZlbnQuaXNQb3B1cFRyaWdnZXIoYSkpJiZjLmN1c3RvbUxpbmtDbGlja2VkKGIpJiYKbXhFdmVudC5jb25zdW1lKGEpO251bGwhPWQmJmQoYSxiKX07bS5jYWxsKHRoaXMsYSxiLGUpfTtkLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtteENsaWVudC5JU19TVkcmJnRoaXMuZWRpdG9yLmdyYXBoLmFkZFN2Z1NoYWRvdyhjLnZpZXcuY2FudmFzLm93bmVyU1ZHRWxlbWVudCxudWxsLCEwKTthLmFjdGlvbnMuZ2V0KCJwcmludCIpLmZ1bmN0PWZ1bmN0aW9uKCl7YS5zaG93RGlhbG9nKChuZXcgUHJpbnREaWFsb2coYSkpLmNvbnRhaW5lciwzNjAsbnVsbCE9YS5wYWdlcyYmMTxhLnBhZ2VzLmxlbmd0aD80NTA6MzcwLCEwLCEwKX07dGhpcy5kZWZhdWx0RmlsZW5hbWU9bXhSZXNvdXJjZXMuZ2V0KCJ1bnRpdGxlZERpYWdyYW0iKTt2YXIgcT1jLmdldEV4cG9ydFZhcmlhYmxlcztjLmdldEV4cG9ydFZhcmlhYmxlcz1mdW5jdGlvbigpe3ZhciBiPXEuYXBwbHkodGhpcyxhcmd1bWVudHMpLGM9YS5nZXRDdXJyZW50RmlsZSgpO251bGwhPWMmJihiLmZpbGVuYW1lPWMuZ2V0VGl0bGUoKSk7CmIucGFnZWNvdW50PW51bGwhPWEucGFnZXM/YS5wYWdlcy5sZW5ndGg6MTtiLnBhZ2U9bnVsbCE9YS5jdXJyZW50UGFnZT9hLmN1cnJlbnRQYWdlLmdldE5hbWUoKToiIjtiLnBhZ2VudW1iZXI9bnVsbCE9YS5wYWdlcyYmbnVsbCE9YS5jdXJyZW50UGFnZT9teFV0aWxzLmluZGV4T2YoYS5wYWdlcyxhLmN1cnJlbnRQYWdlKSsxOjE7cmV0dXJuIGJ9O3ZhciB0PWMuZ2V0R2xvYmFsVmFyaWFibGU7Yy5nZXRHbG9iYWxWYXJpYWJsZT1mdW5jdGlvbihiKXt2YXIgYz1hLmdldEN1cnJlbnRGaWxlKCk7cmV0dXJuImZpbGVuYW1lIj09YiYmbnVsbCE9Yz9jLmdldFRpdGxlKCk6InBhZ2UiPT1iJiZudWxsIT1hLmN1cnJlbnRQYWdlP2EuY3VycmVudFBhZ2UuZ2V0TmFtZSgpOiJwYWdlbnVtYmVyIj09Yj9udWxsIT1hLmN1cnJlbnRQYWdlJiZudWxsIT1hLnBhZ2VzP214VXRpbHMuaW5kZXhPZihhLnBhZ2VzLGEuY3VycmVudFBhZ2UpKzE6MToicGFnZWNvdW50Ij09Yj9udWxsIT1hLnBhZ2VzPwphLnBhZ2VzLmxlbmd0aDoxOnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfTt2YXIgeT1jLmxhYmVsTGlua0NsaWNrZWQ7Yy5sYWJlbExpbmtDbGlja2VkPWZ1bmN0aW9uKGEsYixlKXt2YXIgZD1iLmdldEF0dHJpYnV0ZSgiaHJlZiIpO2lmKG51bGw9PWR8fCFjLmlzQ3VzdG9tTGluayhkKXx8IW14RXZlbnQuaXNUb3VjaEV2ZW50KGUpJiZteEV2ZW50LmlzUG9wdXBUcmlnZ2VyKGUpKXkuYXBwbHkodGhpcyxhcmd1bWVudHMpO2Vsc2V7aWYoIWMuaXNFbmFibGVkKCl8fG51bGwhPWEmJmMuaXNDZWxsTG9ja2VkKGEuY2VsbCkpYy5jdXN0b21MaW5rQ2xpY2tlZChkKSxjLmdldFJ1YmJlcmJhbmQoKS5yZXNldCgpO214RXZlbnQuY29uc3VtZShlKX19O3RoaXMuZWRpdG9yLmdldE9yQ3JlYXRlRmlsZW5hbWU9ZnVuY3Rpb24oKXt2YXIgYj1hLmRlZmF1bHRGaWxlbmFtZSxjPWEuZ2V0Q3VycmVudEZpbGUoKTtudWxsIT1jJiYoYj1udWxsIT1jLmdldFRpdGxlKCk/Yy5nZXRUaXRsZSgpOmIpO3JldHVybiBifTsKdmFyIHg9dGhpcy5hY3Rpb25zLmdldCgicHJpbnQiKTt4LnNldEVuYWJsZWQoIW14Q2xpZW50LklTX0lPU3x8IW5hdmlnYXRvci5zdGFuZGFsb25lKTt4LnZpc2libGU9eC5pc0VuYWJsZWQoKTtpZighdGhpcy5lZGl0b3IuY2hyb21lbGVzc3x8dGhpcy5lZGl0b3IuZWRpdGFibGUpdGhpcy5rZXlIYW5kbGVyLmJpbmRBY3Rpb24oNzAsITAsImZpbmQiKSx0aGlzLmtleUhhbmRsZXIuYmluZEFjdGlvbig2NywhMCwiY29weVN0eWxlIiwhMCksdGhpcy5rZXlIYW5kbGVyLmJpbmRBY3Rpb24oODYsITAsInBhc3RlU3R5bGUiLCEwKSx0aGlzLmtleUhhbmRsZXIuYmluZEFjdGlvbig3NywhMCwiZWRpdEdlb21ldHJ5IiwhMCksdGhpcy5rZXlIYW5kbGVyLmJpbmRBY3Rpb24oODgsITAsImluc2VydFRleHQiLCEwKSx0aGlzLmtleUhhbmRsZXIuYmluZEFjdGlvbig3NSwhMCwiaW5zZXJ0UmVjdGFuZ2xlIiksdGhpcy5rZXlIYW5kbGVyLmJpbmRBY3Rpb24oNzUsITAsImluc2VydEVsbGlwc2UiLAohMCksbXhDbGllbnQuSVNfQ0hST01FQVBQfHxFZGl0b3JVaS5pc0VsZWN0cm9uQXBwfHwodGhpcy5hbHRTaGlmdEFjdGlvbnNbODNdPSJzeW5jaHJvbml6ZSIpLHRoaXMuaW5zdGFsbEltYWdlUGFzdGVIYW5kbGVyKCksdGhpcy5pbnN0YWxsTmF0aXZlQ2xpcGJvYXJkSGFuZGxlcigpO3RoaXMuc3Bpbm5lcj10aGlzLmNyZWF0ZVNwaW5uZXIoZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aC8yLTIsTWF0aC5tYXgoZG9jdW1lbnQuYm9keS5jbGllbnRIZWlnaHR8fDAsZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodHx8MCkvMiwyNCk7R3JhcGguZmlsZVN1cHBvcnQmJnRoaXMuZWRpdG9yLmdyYXBoLmFkZExpc3RlbmVyKG14RXZlbnQuRURJVElOR19TVEFSVEVELG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZWRpdG9yLmdyYXBoLGM9Yi5jZWxsRWRpdG9yLnRleHQyLGU9bnVsbDtudWxsIT1jJiYobXhFdmVudC5hZGRMaXN0ZW5lcihjLCJkcmFnbGVhdmUiLApmdW5jdGlvbihhKXtudWxsIT1lJiYoZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGUpLGU9bnVsbCk7YS5zdG9wUHJvcGFnYXRpb24oKTthLnByZXZlbnREZWZhdWx0KCl9KSxteEV2ZW50LmFkZExpc3RlbmVyKGMsImRyYWdvdmVyIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXtudWxsPT1lJiYoIW14Q2xpZW50LklTX0lFfHwxMDxkb2N1bWVudC5kb2N1bWVudE1vZGUpJiYoZT10aGlzLmhpZ2hsaWdodEVsZW1lbnQoYykpO2Euc3RvcFByb3BhZ2F0aW9uKCk7YS5wcmV2ZW50RGVmYXVsdCgpfSkpLG14RXZlbnQuYWRkTGlzdGVuZXIoYywiZHJvcCIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7bnVsbCE9ZSYmKGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlKSxlPW51bGwpO2lmKDA8YS5kYXRhVHJhbnNmZXIuZmlsZXMubGVuZ3RoKXRoaXMuaW1wb3J0RmlsZXMoYS5kYXRhVHJhbnNmZXIuZmlsZXMsMCwwLHRoaXMubWF4SW1hZ2VTaXplLGZ1bmN0aW9uKGEsYyxlLGQsCmYsZyl7Yi5pbnNlcnRJbWFnZShhLGYsZyl9LGZ1bmN0aW9uKCl7fSxmdW5jdGlvbihhKXtyZXR1cm4iaW1hZ2UvIj09YS50eXBlLnN1YnN0cmluZygwLDYpfSxmdW5jdGlvbihhKXtmb3IodmFyIGI9MDtiPGEubGVuZ3RoO2IrKylhW2JdKCl9LG14RXZlbnQuaXNDb250cm9sRG93bihhKSk7ZWxzZSBpZigwPD1teFV0aWxzLmluZGV4T2YoYS5kYXRhVHJhbnNmZXIudHlwZXMsInRleHQvdXJpLWxpc3QiKSl7dmFyIGM9YS5kYXRhVHJhbnNmZXIuZ2V0RGF0YSgidGV4dC91cmktbGlzdCIpOy9cLihnaWZ8anBnfGpwZWd8dGlmZnxwbmd8c3ZnKSQvaS50ZXN0KGMpP3RoaXMubG9hZEltYWdlKGRlY29kZVVSSUNvbXBvbmVudChjKSxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXt2YXIgZT1NYXRoLm1heCgxLGEud2lkdGgpO2E9TWF0aC5tYXgoMSxhLmhlaWdodCk7dmFyIGQ9dGhpcy5tYXhJbWFnZVNpemUsZD1NYXRoLm1pbigxLE1hdGgubWluKGQvTWF0aC5tYXgoMSxlKSksZC9NYXRoLm1heCgxLAphKSk7Yi5pbnNlcnRJbWFnZShkZWNvZGVVUklDb21wb25lbnQoYyksZSpkLGEqZCl9KSk6ZG9jdW1lbnQuZXhlY0NvbW1hbmQoImluc2VydEhUTUwiLCExLGEuZGF0YVRyYW5zZmVyLmdldERhdGEoInRleHQvcGxhaW4iKSl9ZWxzZSAwPD1teFV0aWxzLmluZGV4T2YoYS5kYXRhVHJhbnNmZXIudHlwZXMsInRleHQvaHRtbCIpP2RvY3VtZW50LmV4ZWNDb21tYW5kKCJpbnNlcnRIVE1MIiwhMSxhLmRhdGFUcmFuc2Zlci5nZXREYXRhKCJ0ZXh0L2h0bWwiKSk6MDw9bXhVdGlscy5pbmRleE9mKGEuZGF0YVRyYW5zZmVyLnR5cGVzLCJ0ZXh0L3BsYWluIikmJmRvY3VtZW50LmV4ZWNDb21tYW5kKCJpbnNlcnRIVE1MIiwhMSxhLmRhdGFUcmFuc2Zlci5nZXREYXRhKCJ0ZXh0L3BsYWluIikpO2Euc3RvcFByb3BhZ2F0aW9uKCk7YS5wcmV2ZW50RGVmYXVsdCgpfSkpKX0pKTsidW5kZWZpbmVkIiE9PXR5cGVvZiB3aW5kb3cubXhTZXR0aW5ncyYmKHg9dGhpcy5lZGl0b3IuZ3JhcGgudmlldywKeC5zZXRVbml0KG14U2V0dGluZ3MuZ2V0VW5pdCgpKSx4LmFkZExpc3RlbmVyKCJ1bml0Q2hhbmdlZCIsZnVuY3Rpb24oYSxiKXtteFNldHRpbmdzLnNldFVuaXQoYi5nZXRQcm9wZXJ0eSgidW5pdCIpKTtteFNldHRpbmdzLnNhdmUoKX0pLHRoaXMucnVsZXI9IXRoaXMuY2FudmFzU3VwcG9ydGVkfHw5PT1kb2N1bWVudC5kb2N1bWVudE1vZGV8fCIxIiE9dXJsUGFyYW1zLnJ1bGVyJiYhbXhTZXR0aW5ncy5pc1J1bGVyT24oKXx8dGhpcy5lZGl0b3IuaXNDaHJvbWVsZXNzVmlldygpJiYhdGhpcy5lZGl0b3IuZWRpdGFibGU/bnVsbDpuZXcgbXhEdWFsUnVsZXIodGhpcyx4LnVuaXQpLHRoaXMucmVmcmVzaCgpKTtpZigiMSI9PXVybFBhcmFtcy5zdHlsZWRldil7eD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZ2VGb290ZXIiKTtudWxsIT14JiYodGhpcy5zdHlsZUlucHV0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0IiksdGhpcy5zdHlsZUlucHV0LnNldEF0dHJpYnV0ZSgidHlwZSIsCiJ0ZXh0IiksdGhpcy5zdHlsZUlucHV0LnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSIsdGhpcy5zdHlsZUlucHV0LnN0eWxlLnRvcD0iMTRweCIsdGhpcy5zdHlsZUlucHV0LnN0eWxlLmxlZnQ9IjJweCIsdGhpcy5zdHlsZUlucHV0LnN0eWxlLndpZHRoPSI5OCUiLHRoaXMuc3R5bGVJbnB1dC5zdHlsZS52aXNpYmlsaXR5PSJoaWRkZW4iLHRoaXMuc3R5bGVJbnB1dC5zdHlsZS5vcGFjaXR5PSIwLjkiLG14RXZlbnQuYWRkTGlzdGVuZXIodGhpcy5zdHlsZUlucHV0LCJjaGFuZ2UiLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dGhpcy5lZGl0b3IuZ3JhcGguZ2V0TW9kZWwoKS5zZXRTdHlsZSh0aGlzLmVkaXRvci5ncmFwaC5nZXRTZWxlY3Rpb25DZWxsKCksdGhpcy5zdHlsZUlucHV0LnZhbHVlKX0pKSx4LmFwcGVuZENoaWxkKHRoaXMuc3R5bGVJbnB1dCksdGhpcy5lZGl0b3IuZ3JhcGguZ2V0U2VsZWN0aW9uTW9kZWwoKS5hZGRMaXN0ZW5lcihteEV2ZW50LkNIQU5HRSxteFV0aWxzLmJpbmQodGhpcywKZnVuY3Rpb24oYSxiKXtpZigwPHRoaXMuZWRpdG9yLmdyYXBoLmdldFNlbGVjdGlvbkNvdW50KCkpe3ZhciBjPXRoaXMuZWRpdG9yLmdyYXBoLmdldFNlbGVjdGlvbkNlbGwoKSxjPXRoaXMuZWRpdG9yLmdyYXBoLmdldE1vZGVsKCkuZ2V0U3R5bGUoYyk7dGhpcy5zdHlsZUlucHV0LnZhbHVlPWN8fCIiO3RoaXMuc3R5bGVJbnB1dC5zdHlsZS52aXNpYmlsaXR5PSJ2aXNpYmxlIn1lbHNlIHRoaXMuc3R5bGVJbnB1dC5zdHlsZS52aXNpYmlsaXR5PSJoaWRkZW4ifSkpKTt2YXIgQz10aGlzLmlzU2VsZWN0aW9uQWxsb3dlZDt0aGlzLmlzU2VsZWN0aW9uQWxsb3dlZD1mdW5jdGlvbihhKXtyZXR1cm4gbXhFdmVudC5nZXRTb3VyY2UoYSk9PXRoaXMuc3R5bGVJbnB1dD8hMDpDLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19eD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZ2VJbmZvIik7bnVsbCE9eCYmeC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHgpO2lmKEdyYXBoLmZpbGVTdXBwb3J0JiYoIXRoaXMuZWRpdG9yLmNocm9tZWxlc3N8fAp0aGlzLmVkaXRvci5lZGl0YWJsZSkpe3ZhciBCPW51bGw7bXhFdmVudC5hZGRMaXN0ZW5lcihjLmNvbnRhaW5lciwiZHJhZ2xlYXZlIixmdW5jdGlvbihhKXtjLmlzRW5hYmxlZCgpJiYobnVsbCE9QiYmKEIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChCKSxCPW51bGwpLGEuc3RvcFByb3BhZ2F0aW9uKCksYS5wcmV2ZW50RGVmYXVsdCgpKX0pO214RXZlbnQuYWRkTGlzdGVuZXIoYy5jb250YWluZXIsImRyYWdvdmVyIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXtudWxsPT1CJiYoIW14Q2xpZW50LklTX0lFfHwxMDxkb2N1bWVudC5kb2N1bWVudE1vZGUpJiYoQj10aGlzLmhpZ2hsaWdodEVsZW1lbnQoYy5jb250YWluZXIpKTtudWxsIT10aGlzLnNpZGViYXImJnRoaXMuc2lkZWJhci5oaWRlVG9vbHRpcCgpO2Euc3RvcFByb3BhZ2F0aW9uKCk7YS5wcmV2ZW50RGVmYXVsdCgpfSkpO214RXZlbnQuYWRkTGlzdGVuZXIoYy5jb250YWluZXIsImRyb3AiLG14VXRpbHMuYmluZCh0aGlzLApmdW5jdGlvbihhKXtudWxsIT1CJiYoQi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKEIpLEI9bnVsbCk7aWYoYy5pc0VuYWJsZWQoKSl7dmFyIGI9bXhVdGlscy5jb252ZXJ0UG9pbnQoYy5jb250YWluZXIsbXhFdmVudC5nZXRDbGllbnRYKGEpLG14RXZlbnQuZ2V0Q2xpZW50WShhKSksZT1jLnZpZXcudHJhbnNsYXRlLGQ9Yy52aWV3LnNjYWxlLGY9Yi54L2QtZS54LGc9Yi55L2QtZS55O2lmKDA8YS5kYXRhVHJhbnNmZXIuZmlsZXMubGVuZ3RoKW14RXZlbnQuaXNBbHREb3duKGEpJiYoZz1mPW51bGwpLHRoaXMuaW1wb3J0RmlsZXMoYS5kYXRhVHJhbnNmZXIuZmlsZXMsZixnLHRoaXMubWF4SW1hZ2VTaXplLG51bGwsbnVsbCxudWxsLG51bGwsbXhFdmVudC5pc0NvbnRyb2xEb3duKGEpLG51bGwsbnVsbCxteEV2ZW50LmlzU2hpZnREb3duKGEpKTtlbHNle214RXZlbnQuaXNBbHREb3duKGEpJiYoZz1mPTApO3ZhciBsPTA8PW14VXRpbHMuaW5kZXhPZihhLmRhdGFUcmFuc2Zlci50eXBlcywKInRleHQvdXJpLWxpc3QiKT9hLmRhdGFUcmFuc2Zlci5nZXREYXRhKCJ0ZXh0L3VyaS1saXN0Iik6bnVsbCxiPXRoaXMuZXh0cmFjdEdyYXBoTW9kZWxGcm9tRXZlbnQoYSxudWxsIT10aGlzLnBhZ2VzKTtpZihudWxsIT1iKWMuc2V0U2VsZWN0aW9uQ2VsbHModGhpcy5pbXBvcnRYbWwoYixmLGcsITApKTtlbHNlIGlmKDA8PW14VXRpbHMuaW5kZXhPZihhLmRhdGFUcmFuc2Zlci50eXBlcywidGV4dC9odG1sIikpe3ZhciBrPWEuZGF0YVRyYW5zZmVyLmdldERhdGEoInRleHQvaHRtbCIpLGI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7Yi5pbm5lckhUTUw9azt2YXIgbT1udWxsLGU9Yi5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaW1nIik7bnVsbCE9ZSYmMT09ZS5sZW5ndGg/KGs9ZVswXS5nZXRBdHRyaWJ1dGUoInNyYyIpLC9cLihnaWZ8anBnfGpwZWd8dGlmZnxwbmd8c3ZnKSQvaS50ZXN0KGspfHwobT0hMCkpOihlPWIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImEiKSxudWxsIT0KZSYmMT09ZS5sZW5ndGg/az1lWzBdLmdldEF0dHJpYnV0ZSgiaHJlZiIpOihiPWIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInByZSIpLG51bGwhPWImJjE9PWIubGVuZ3RoJiYoaz1teFV0aWxzLmdldFRleHRDb250ZW50KGJbMF0pKSkpO3ZhciBuPSEwLHA9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXtjLnNldFNlbGVjdGlvbkNlbGxzKHRoaXMuaW5zZXJ0VGV4dEF0KGssZixnLCEwLG0sbnVsbCxuKSl9KTttJiZrLmxlbmd0aD50aGlzLnJlc2FtcGxlVGhyZXNob2xkP3RoaXMuY29uZmlybUltYWdlUmVzaXplKGZ1bmN0aW9uKGEpe249YTtwKCl9LG14RXZlbnQuaXNDb250cm9sRG93bihhKSk6cCgpfWVsc2UgbnVsbCE9bCYmL1wuKGdpZnxqcGd8anBlZ3x0aWZmfHBuZ3xzdmcpJC9pLnRlc3QobCk/dGhpcy5sb2FkSW1hZ2UoZGVjb2RlVVJJQ29tcG9uZW50KGwpLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3ZhciBiPU1hdGgubWF4KDEsYS53aWR0aCk7YT1NYXRoLm1heCgxLAphLmhlaWdodCk7dmFyIGU9dGhpcy5tYXhJbWFnZVNpemUsZT1NYXRoLm1pbigxLE1hdGgubWluKGUvTWF0aC5tYXgoMSxiKSksZS9NYXRoLm1heCgxLGEpKTtjLnNldFNlbGVjdGlvbkNlbGwoYy5pbnNlcnRWZXJ0ZXgobnVsbCxudWxsLCIiLGYsZyxiKmUsYSplLCJzaGFwZT1pbWFnZTt2ZXJ0aWNhbExhYmVsUG9zaXRpb249Ym90dG9tO2xhYmVsQmFja2dyb3VuZENvbG9yPSNmZmZmZmY7dmVydGljYWxBbGlnbj10b3A7YXNwZWN0PWZpeGVkO2ltYWdlQXNwZWN0PTA7aW1hZ2U9IitsKyI7IikpfSksbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7Yy5zZXRTZWxlY3Rpb25DZWxscyh0aGlzLmluc2VydFRleHRBdChsLGYsZywhMCkpfSkpOjA8PW14VXRpbHMuaW5kZXhPZihhLmRhdGFUcmFuc2Zlci50eXBlcywidGV4dC9wbGFpbiIpJiZjLnNldFNlbGVjdGlvbkNlbGxzKHRoaXMuaW5zZXJ0VGV4dEF0KGEuZGF0YVRyYW5zZmVyLmdldERhdGEoInRleHQvcGxhaW4iKSxmLGcsITApKX19YS5zdG9wUHJvcGFnYXRpb24oKTsKYS5wcmV2ZW50RGVmYXVsdCgpfSksITEpfXRoaXMuaW5pdFBhZ2VzKCk7IjEiPT11cmxQYXJhbXMuZW1iZWQmJnRoaXMuaW5pdGlhbGl6ZUVtYmVkTW9kZSgpO3RoaXMuaW5zdGFsbFNldHRpbmdzKCl9O0VkaXRvclVpLnByb3RvdHlwZS5pbnN0YWxsSW1hZ2VQYXN0ZUhhbmRsZXI9ZnVuY3Rpb24oKXtpZighbXhDbGllbnQuSVNfSUUpe3ZhciBhPXRoaXMuZWRpdG9yLmdyYXBoO2EuY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoInBhc3RlIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihiKXtpZighbXhFdmVudC5pc0NvbnN1bWVkKGIpKXRyeXtmb3IodmFyIGM9Yi5jbGlwYm9hcmREYXRhfHxiLm9yaWdpbmFsRXZlbnQuY2xpcGJvYXJkRGF0YSxlPSExLGQ9MDtkPGMudHlwZXMubGVuZ3RoO2QrKylpZigidGV4dC8iPT09Yy50eXBlc1tkXS5zdWJzdHJpbmcoMCw1KSl7ZT0hMDticmVha31pZighZSl7dmFyIGY9Yy5pdGVtcztmb3IoaW5kZXggaW4gZil7dmFyIGs9ZltpbmRleF07CmlmKCJmaWxlIj09PWsua2luZCl7aWYoYS5pc0VkaXRpbmcoKSl0aGlzLmltcG9ydEZpbGVzKFtrLmdldEFzRmlsZSgpXSwwLDAsdGhpcy5tYXhJbWFnZVNpemUsZnVuY3Rpb24oYixjLGUsZCxmLGcpe2EuaW5zZXJ0SW1hZ2UoYixmLGcpfSxmdW5jdGlvbigpe30sZnVuY3Rpb24oYSl7cmV0dXJuImltYWdlLyI9PWEudHlwZS5zdWJzdHJpbmcoMCw2KX0sZnVuY3Rpb24oYSl7Zm9yKHZhciBiPTA7YjxhLmxlbmd0aDtiKyspYVtiXSgpfSk7ZWxzZXt2YXIgbT10aGlzLmVkaXRvci5ncmFwaC5nZXRJbnNlcnRQb2ludCgpO3RoaXMuaW1wb3J0RmlsZXMoW2suZ2V0QXNGaWxlKCldLG0ueCxtLnksdGhpcy5tYXhJbWFnZVNpemUpO214RXZlbnQuY29uc3VtZShiKX1icmVha319fX1jYXRjaCh5KXt9fSksITEpfX07RWRpdG9yVWkucHJvdG90eXBlLmluc3RhbGxOYXRpdmVDbGlwYm9hcmRIYW5kbGVyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYSgpe3dpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZC5pbm5lckhUTUw9CiImbmJzcDsiO2QuZm9jdXMoKTtkb2N1bWVudC5leGVjQ29tbWFuZCgic2VsZWN0QWxsIiwhMSxudWxsKX0sMCl9dmFyIGM9dGhpcy5lZGl0b3IuZ3JhcGgsZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtkLnNldEF0dHJpYnV0ZSgiYXV0b2NvbXBsZXRlIiwib2ZmIik7ZC5zZXRBdHRyaWJ1dGUoImF1dG9jb3JyZWN0Iiwib2ZmIik7ZC5zZXRBdHRyaWJ1dGUoImF1dG9jYXBpdGFsaXplIiwib2ZmIik7ZC5zZXRBdHRyaWJ1dGUoInNwZWxsY2hlY2siLCJmYWxzZSIpO2Quc3R5bGUudGV4dFJlbmRlcmluZz0ib3B0aW1pemVTcGVlZCI7ZC5zdHlsZS5mb250RmFtaWx5PSJtb25vc3BhY2UiO2Quc3R5bGUud29yZEJyZWFrPSJicmVhay1hbGwiO2Quc3R5bGUuYmFja2dyb3VuZD0idHJhbnNwYXJlbnQiO2Quc3R5bGUuY29sb3I9InRyYW5zcGFyZW50IjtkLnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSI7ZC5zdHlsZS53aGl0ZVNwYWNlPSJub3dyYXAiO2Quc3R5bGUub3ZlcmZsb3c9CiJoaWRkZW4iO2Quc3R5bGUuZGlzcGxheT0iYmxvY2siO2Quc3R5bGUuZm9udFNpemU9IjEiO2Quc3R5bGUuekluZGV4PSItMSI7ZC5zdHlsZS5yZXNpemU9Im5vbmUiO2Quc3R5bGUub3V0bGluZT0ibm9uZSI7ZC5zdHlsZS53aWR0aD0iMXB4IjtkLnN0eWxlLmhlaWdodD0iMXB4IjtteFV0aWxzLnNldE9wYWNpdHkoZCwwKTtkLmNvbnRlbnRFZGl0YWJsZT0hMDtkLmlubmVySFRNTD0iJm5ic3A7Ijt2YXIgZj0hMTt0aGlzLmtleUhhbmRsZXIuYmluZENvbnRyb2xLZXkoODgsbnVsbCk7dGhpcy5rZXlIYW5kbGVyLmJpbmRDb250cm9sS2V5KDY3LG51bGwpO3RoaXMua2V5SGFuZGxlci5iaW5kQ29udHJvbEtleSg4NixudWxsKTtteEV2ZW50LmFkZExpc3RlbmVyKGRvY3VtZW50LCJrZXlkb3duIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXt2YXIgYj1teEV2ZW50LmdldFNvdXJjZShhKTtudWxsPT1jLmNvbnRhaW5lcnx8IWMuaXNFbmFibGVkKCl8fGMuaXNNb3VzZURvd258fApjLmlzRWRpdGluZygpfHxudWxsIT10aGlzLmRpYWxvZ3x8IklOUFVUIj09Yi5ub2RlTmFtZXx8IlRFWFRBUkVBIj09Yi5ub2RlTmFtZXx8ISgyMjQ9PWEua2V5Q29kZXx8IW14Q2xpZW50LklTX01BQyYmMTc9PWEua2V5Q29kZXx8bXhDbGllbnQuSVNfTUFDJiY5MT09YS5rZXlDb2RlKXx8Znx8KGQuc3R5bGUubGVmdD1jLmNvbnRhaW5lci5zY3JvbGxMZWZ0KzEwKyJweCIsZC5zdHlsZS50b3A9Yy5jb250YWluZXIuc2Nyb2xsVG9wKzEwKyJweCIsYy5jb250YWluZXIuYXBwZW5kQ2hpbGQoZCksZj0hMCxteENsaWVudC5JU19RVUlSS1M/d2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXtkLmZvY3VzKCk7ZG9jdW1lbnQuZXhlY0NvbW1hbmQoInNlbGVjdEFsbCIsITEsbnVsbCl9LDApOihkLmZvY3VzKCksZG9jdW1lbnQuZXhlY0NvbW1hbmQoInNlbGVjdEFsbCIsITEsbnVsbCkpKX0pKTtteEV2ZW50LmFkZExpc3RlbmVyKGRvY3VtZW50LCJrZXl1cCIsbXhVdGlscy5iaW5kKHRoaXMsCmZ1bmN0aW9uKGEpe3ZhciBiPWEua2V5Q29kZTt3aW5kb3cuc2V0VGltZW91dChteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpeyFmfHwyMjQhPWImJjE3IT1iJiY5MSE9Ynx8KGY9ITEsYy5pc0VkaXRpbmcoKXx8bnVsbCE9dGhpcy5kaWFsb2d8fG51bGw9PWMuY29udGFpbmVyfHxjLmNvbnRhaW5lci5mb2N1cygpLGQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChkKSxudWxsPT10aGlzLmRpYWxvZyYmbXhVdGlscy5jbGVhclNlbGVjdGlvbigpKX0pLDApfSkpO214RXZlbnQuYWRkTGlzdGVuZXIoZCwiY29weSIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYil7aWYoYy5pc0VuYWJsZWQoKSl0cnl7bXhDbGlwYm9hcmQuY29weShjKSx0aGlzLmNvcHlDZWxscyhkKSxhKCl9Y2F0Y2godil7dGhpcy5oYW5kbGVFcnJvcih2KX19KSk7bXhFdmVudC5hZGRMaXN0ZW5lcihkLCJjdXQiLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGIpe2lmKGMuaXNFbmFibGVkKCkpdHJ5e214Q2xpcGJvYXJkLmNvcHkoYyksCnRoaXMuY29weUNlbGxzKGQsITApLGEoKX1jYXRjaCh2KXt0aGlzLmhhbmRsZUVycm9yKHYpfX0pKTtteEV2ZW50LmFkZExpc3RlbmVyKGQsInBhc3RlIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXtjLmlzRW5hYmxlZCgpJiYhYy5pc0NlbGxMb2NrZWQoYy5nZXREZWZhdWx0UGFyZW50KCkpJiYoKG5ldyBEYXRlKS5nZXRUaW1lKCksZC5pbm5lckhUTUw9IiZuYnNwOyIsZC5mb2N1cygpLG51bGwhPWEuY2xpcGJvYXJkRGF0YSYmdGhpcy5wYXN0ZUNlbGxzKGEsZCwhMCwhMCksbXhFdmVudC5pc0NvbnN1bWVkKGEpfHx3aW5kb3cuc2V0VGltZW91dChteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMucGFzdGVDZWxscyhhLGQsITEsITApfSksMCkpfSksITApO3ZhciBsPXRoaXMuaXNTZWxlY3Rpb25BbGxvd2VkO3RoaXMuaXNTZWxlY3Rpb25BbGxvd2VkPWZ1bmN0aW9uKGEpe3JldHVybiBteEV2ZW50LmdldFNvdXJjZShhKT09ZD8hMDpsLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19OwpFZGl0b3JVaS5wcm90b3R5cGUuZ2V0TGlua1RpdGxlPWZ1bmN0aW9uKGEpe3ZhciBiPUdyYXBoLnByb3RvdHlwZS5nZXRMaW5rVGl0bGUuYXBwbHkodGhpcyxhcmd1bWVudHMpO2lmKCJkYXRhOnBhZ2UvaWQsIj09YS5zdWJzdHJpbmcoMCwxMykpe3ZhciBjPWEuaW5kZXhPZigiLCIpOzA8YyYmKGI9dGhpcy5nZXRQYWdlQnlJZChhLnN1YnN0cmluZyhjKzEpKSxiPW51bGwhPWI/Yi5nZXROYW1lKCk6bXhSZXNvdXJjZXMuZ2V0KCJwYWdlTm90Rm91bmQiKSl9ZWxzZSJkYXRhOiI9PWEuc3Vic3RyaW5nKDAsNSkmJihiPW14UmVzb3VyY2VzLmdldCgiYWN0aW9uIikpO3JldHVybiBifTtFZGl0b3JVaS5wcm90b3R5cGUuaGFuZGxlQ3VzdG9tTGluaz1mdW5jdGlvbihhKXtpZigiZGF0YTpwYWdlL2lkLCI9PWEuc3Vic3RyaW5nKDAsMTMpKXt2YXIgYj1hLmluZGV4T2YoIiwiKTtpZihhPXRoaXMuZ2V0UGFnZUJ5SWQoYS5zdWJzdHJpbmcoYisxKSkpdGhpcy5zZWxlY3RQYWdlKGEpO2Vsc2UgdGhyb3cgRXJyb3IobXhSZXNvdXJjZXMuZ2V0KCJwYWdlTm90Rm91bmQiKXx8CiJQYWdlIG5vdCBmb3VuZCIpO31lbHNlIHRoaXMuZWRpdG9yLmdyYXBoLmhhbmRsZUN1c3RvbUxpbmsoYSl9O0VkaXRvclVpLnByb3RvdHlwZS5pc1NldHRpbmdzRW5hYmxlZD1mdW5jdGlvbigpe3JldHVybiJ1bmRlZmluZWQiIT09dHlwZW9mIHdpbmRvdy5teFNldHRpbmdzJiYoaXNMb2NhbFN0b3JhZ2V8fG14Q2xpZW50LklTX0NIUk9NRUFQUCl9O0VkaXRvclVpLnByb3RvdHlwZS5pbnN0YWxsU2V0dGluZ3M9ZnVuY3Rpb24oKXtpZih0aGlzLmlzU2V0dGluZ3NFbmFibGVkKCkpe0NvbG9yRGlhbG9nLnJlY2VudENvbG9ycz1teFNldHRpbmdzLmdldFJlY2VudENvbG9ycygpO2lmKGlzTG9jYWxTdG9yYWdlKXRyeXt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigic3RvcmFnZSIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7YS5rZXk9PW14U2V0dGluZ3Mua2V5JiYobXhTZXR0aW5ncy5sb2FkKCksQ29sb3JEaWFsb2cucmVjZW50Q29sb3JzPW14U2V0dGluZ3MuZ2V0UmVjZW50Q29sb3JzKCksCnRoaXMubWVudXMuY3VzdG9tRm9udHM9bXhTZXR0aW5ncy5nZXRDdXN0b21Gb250cygpKX0pLCExKX1jYXRjaChiKXt9dGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QoInN0eWxlQ2hhbmdlZCIsImtleXMiLFtdLCJ2YWx1ZXMiLFtdLCJjZWxscyIsW10pKTt0aGlzLm1lbnVzLmN1c3RvbUZvbnRzPW14U2V0dGluZ3MuZ2V0Q3VzdG9tRm9udHMoKTt0aGlzLmFkZExpc3RlbmVyKCJjdXN0b21Gb250c0NoYW5nZWQiLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEsYyl7dmFyIGI9Yy5nZXRQcm9wZXJ0eSgiY3VzdG9tRm9udHMiKTt0aGlzLm1lbnVzLmN1c3RvbUZvbnRzPWI7bXhTZXR0aW5ncy5zZXRDdXN0b21Gb250cyhiKTtteFNldHRpbmdzLnNhdmUoKX0pKTt0aGlzLmVkaXRvci5ncmFwaC5jb25uZWN0aW9uSGFuZGxlci5zZXRDcmVhdGVUYXJnZXQobXhTZXR0aW5ncy5pc0NyZWF0ZVRhcmdldCgpKTt0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdCgiY29weUNvbm5lY3RDaGFuZ2VkIikpOwp0aGlzLmFkZExpc3RlbmVyKCJjb3B5Q29ubmVjdENoYW5nZWQiLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEsYyl7bXhTZXR0aW5ncy5zZXRDcmVhdGVUYXJnZXQodGhpcy5lZGl0b3IuZ3JhcGguY29ubmVjdGlvbkhhbmRsZXIuaXNDcmVhdGVUYXJnZXQoKSk7bXhTZXR0aW5ncy5zYXZlKCl9KSk7dGhpcy5lZGl0b3IuZ3JhcGgucGFnZUZvcm1hdD1teFNldHRpbmdzLmdldFBhZ2VGb3JtYXQoKTt0aGlzLmFkZExpc3RlbmVyKCJwYWdlRm9ybWF0Q2hhbmdlZCIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSxjKXtteFNldHRpbmdzLnNldFBhZ2VGb3JtYXQodGhpcy5lZGl0b3IuZ3JhcGgucGFnZUZvcm1hdCk7bXhTZXR0aW5ncy5zYXZlKCl9KSk7dGhpcy5lZGl0b3IuZ3JhcGgudmlldy5ncmlkQ29sb3I9bXhTZXR0aW5ncy5nZXRHcmlkQ29sb3IoImRhcmsiPT11aVRoZW1lKTt0aGlzLmFkZExpc3RlbmVyKCJncmlkQ29sb3JDaGFuZ2VkIixteFV0aWxzLmJpbmQodGhpcywKZnVuY3Rpb24oYSxjKXtteFNldHRpbmdzLnNldEdyaWRDb2xvcih0aGlzLmVkaXRvci5ncmFwaC52aWV3LmdyaWRDb2xvciwiZGFyayI9PXVpVGhlbWUpO214U2V0dGluZ3Muc2F2ZSgpfSkpO2lmKG14Q2xpZW50LklTX0NIUk9NRUFQUHx8RWRpdG9yVWkuaXNFbGVjdHJvbkFwcCl0aGlzLmVkaXRvci5hZGRMaXN0ZW5lcigiYXV0b3NhdmVDaGFuZ2VkIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhLGMpe214U2V0dGluZ3Muc2V0QXV0b3NhdmUodGhpcy5lZGl0b3IuYXV0b3NhdmUpO214U2V0dGluZ3Muc2F2ZSgpfSkpLHRoaXMuZWRpdG9yLmF1dG9zYXZlPW14U2V0dGluZ3MuZ2V0QXV0b3NhdmUoKTtudWxsIT10aGlzLnNpZGViYXImJnRoaXMuc2lkZWJhci5zaG93UGFsZXR0ZSgic2VhcmNoIixteFNldHRpbmdzLnNldHRpbmdzLnNlYXJjaCk7dGhpcy5lZGl0b3IuY2hyb21lbGVzcyYmIXRoaXMuZWRpdG9yLmVkaXRhYmxlfHxudWxsPT10aGlzLnNpZGViYXJ8fCEobXhTZXR0aW5ncy5zZXR0aW5ncy5pc05ld3x8Cjg+PXBhcnNlSW50KG14U2V0dGluZ3Muc2V0dGluZ3MudmVyc2lvbnx8MCkpfHwodGhpcy50b2dnbGVTY3JhdGNocGFkKCksbXhTZXR0aW5ncy5zYXZlKCkpO3RoaXMuYWRkTGlzdGVuZXIoImZvcm1hdFdpZHRoQ2hhbmdlZCIsZnVuY3Rpb24oKXtteFNldHRpbmdzLnNldEZvcm1hdFdpZHRoKHRoaXMuZm9ybWF0V2lkdGgpO214U2V0dGluZ3Muc2F2ZSgpfSl9fTtFZGl0b3JVaS5wcm90b3R5cGUuY29weUNlbGxzPWZ1bmN0aW9uKGEsYyl7dmFyIGI9dGhpcy5lZGl0b3IuZ3JhcGg7aWYoYi5pc1NlbGVjdGlvbkVtcHR5KCkpYS5pbm5lckhUTUw9IiI7ZWxzZXt2YXIgZD1teFV0aWxzLnNvcnRDZWxscyhiLm1vZGVsLmdldFRvcG1vc3RDZWxscyhiLmdldFNlbGVjdGlvbkNlbGxzKCkpKSxlPW14VXRpbHMuZ2V0WG1sKGIuZW5jb2RlQ2VsbHMoZCkpO214VXRpbHMuc2V0VGV4dENvbnRlbnQoYSxlbmNvZGVVUklDb21wb25lbnQoZSkpO2M/KGIucmVtb3ZlQ2VsbHMoZCwhMSksYi5sYXN0UGFzdGVYbWw9Cm51bGwpOihiLmxhc3RQYXN0ZVhtbD1lLGIucGFzdGVDb3VudGVyPTApO2EuZm9jdXMoKTtkb2N1bWVudC5leGVjQ29tbWFuZCgic2VsZWN0QWxsIiwhMSxudWxsKX19O0VkaXRvclVpLnByb3RvdHlwZS5wYXN0ZUNlbGxzPWZ1bmN0aW9uKGEsYyxkLGYpe2lmKCFteEV2ZW50LmlzQ29uc3VtZWQoYSkpe3ZhciBiPWMsZT0hMTtpZihkJiZudWxsIT1hLmNsaXBib2FyZERhdGEmJmEuY2xpcGJvYXJkRGF0YS5nZXREYXRhKXt2YXIgZz1hLmNsaXBib2FyZERhdGEuZ2V0RGF0YSgidGV4dC9odG1sIik7aWYobnVsbCE9ZyYmMDxnLmxlbmd0aCl7Yj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtiLmlubmVySFRNTD1nO2U9ITA7Zz1iLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJzdHlsZSIpO2lmKG51bGwhPWcpZm9yKDswPGcubGVuZ3RoOylnWzBdLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZ1swXSk7bnVsbCE9Yi5maXJzdENoaWxkJiZiLmZpcnN0Q2hpbGQubm9kZVR5cGU9PW14Q29uc3RhbnRzLk5PREVUWVBFX0VMRU1FTlQmJgpudWxsIT1iLmZpcnN0Q2hpbGQubmV4dFNpYmxpbmcmJmIuZmlyc3RDaGlsZC5uZXh0U2libGluZy5ub2RlVHlwZT09bXhDb25zdGFudHMuTk9ERVRZUEVfRUxFTUVOVCYmIk1FVEEiPT1iLmZpcnN0Q2hpbGQubm9kZU5hbWUmJiJBIj09Yi5maXJzdENoaWxkLm5leHRTaWJsaW5nLm5vZGVOYW1lJiZudWxsPT1iLmZpcnN0Q2hpbGQubmV4dFNpYmxpbmcubmV4dFNpYmxpbmcmJihnPW51bGw9PWIuZmlyc3RDaGlsZC5uZXh0U2libGluZy5pbm5lclRleHQ/bXhVdGlscy5nZXRUZXh0Q29udGVudChiLmZpcnN0Q2hpbGQubmV4dFNpYmxpbmcpOmIuZmlyc3RDaGlsZC5uZXh0U2libGluZy5pbm5lclRleHQsZz09Yi5maXJzdENoaWxkLm5leHRTaWJsaW5nLmdldEF0dHJpYnV0ZSgiaHJlZiIpJiYobXhVdGlscy5zZXRUZXh0Q29udGVudChiLGcpLGU9ITEpKTtHcmFwaC5yZW1vdmVQYXN0ZUZvcm1hdHRpbmcoYil9ZWxzZSBnPWEuY2xpcGJvYXJkRGF0YS5nZXREYXRhKCJ0ZXh0L3BsYWluIiksCm51bGwhPWcmJjA8Zy5sZW5ndGgmJihiPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLG14VXRpbHMuc2V0VGV4dENvbnRlbnQoYixnKSl9Zz1iLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJzcGFuIik7aWYobnVsbCE9ZyYmMDxnLmxlbmd0aCYmImFwcGxpY2F0aW9uL3ZuZC5sdWNpZC5jaGFydC5vYmplY3RzIj09PWdbMF0uZ2V0QXR0cmlidXRlKCJkYXRhLWx1Y2lkLXR5cGUiKSlkPWdbMF0uZ2V0QXR0cmlidXRlKCJkYXRhLWx1Y2lkLWNvbnRlbnQiKSxudWxsIT1kJiYwPGQubGVuZ3RoJiYodGhpcy5jb252ZXJ0THVjaWRDaGFydChkLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZWRpdG9yLmdyYXBoO2IubGFzdFBhc3RlWG1sPT1hP2IucGFzdGVDb3VudGVyKys6KGIubGFzdFBhc3RlWG1sPWEsYi5wYXN0ZUNvdW50ZXI9MCk7dmFyIGM9Yi5wYXN0ZUNvdW50ZXIqYi5ncmlkU2l6ZTtiLnNldFNlbGVjdGlvbkNlbGxzKHRoaXMuaW1wb3J0WG1sKGEsYywKYykpO2Iuc2Nyb2xsQ2VsbFRvVmlzaWJsZShiLmdldFNlbGVjdGlvbkNlbGwoKSl9KSxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXt0aGlzLmhhbmRsZUVycm9yKGEpfSkpLG14RXZlbnQuY29uc3VtZShhKSk7ZWxzZXt2YXIgZT1lP2IuaW5uZXJIVE1MOm14VXRpbHMudHJpbShudWxsPT1iLmlubmVyVGV4dD9teFV0aWxzLmdldFRleHRDb250ZW50KGIpOmIuaW5uZXJUZXh0KSxrPSExO3RyeXt2YXIgbT1lLmxhc3RJbmRleE9mKCIlM0UiKTswPD1tJiZtPGUubGVuZ3RoLTMmJihlPWUuc3Vic3RyaW5nKDAsbSszKSl9Y2F0Y2goeil7fXRyeXt2YXIgZz1iLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJzcGFuIiksbj1udWxsIT1nJiYwPGcubGVuZ3RoP214VXRpbHMudHJpbShkZWNvZGVVUklDb21wb25lbnQoZ1swXS50ZXh0Q29udGVudCkpOmRlY29kZVVSSUNvbXBvbmVudChlKTt0aGlzLmlzQ29tcGF0aWJsZVN0cmluZyhuKSYmKGs9ITAsZT1uKX1jYXRjaCh6KXt9dHJ5e3ZhciBxPQp0aGlzLmVkaXRvci5ncmFwaDtpZihudWxsIT1lJiYwPGUubGVuZ3RoKXtxLmxhc3RQYXN0ZVhtbD09ZT9xLnBhc3RlQ291bnRlcisrOihxLmxhc3RQYXN0ZVhtbD1lLHEucGFzdGVDb3VudGVyPTApO3ZhciBCPXEucGFzdGVDb3VudGVyKnEuZ3JpZFNpemU7aWYoa3x8dGhpcy5pc0NvbXBhdGlibGVTdHJpbmcoZSkpcS5zZXRTZWxlY3Rpb25DZWxscyh0aGlzLmltcG9ydFhtbChlLEIsQikpO2Vsc2UgaWYoZiYmMT09cS5nZXRTZWxlY3Rpb25Db3VudCgpKXEubGFiZWxDaGFuZ2VkKHEuZ2V0U2VsZWN0aW9uQ2VsbCgpLGUpLEdyYXBoLmlzTGluayhlKSYmcS5zZXRMaW5rRm9yQ2VsbChxLmdldFNlbGVjdGlvbkNlbGwoKSxlKTtlbHNle3ZhciBEPXEuZ2V0SW5zZXJ0UG9pbnQoKTtxLmlzTW91c2VJbnNlcnRQb2ludCgpJiYoQj0wLHEubGFzdFBhc3RlWG1sPT1lJiYwPHEucGFzdGVDb3VudGVyJiZxLnBhc3RlQ291bnRlci0tKTtxLnNldFNlbGVjdGlvbkNlbGxzKHRoaXMuaW5zZXJ0VGV4dEF0KGUsCkQueCtCLEQueStCLCEwKSl9cS5pc1NlbGVjdGlvbkVtcHR5KCl8fChxLnNjcm9sbENlbGxUb1Zpc2libGUocS5nZXRTZWxlY3Rpb25DZWxsKCkpLG51bGwhPXRoaXMuaG92ZXJJY29ucyYmdGhpcy5ob3Zlckljb25zLnVwZGF0ZShxLnZpZXcuZ2V0U3RhdGUocS5nZXRTZWxlY3Rpb25DZWxsKCkpKSk7dHJ5e214RXZlbnQuY29uc3VtZShhKX1jYXRjaCh6KXt9fWVsc2UgZHx8KHEubGFzdFBhc3RlWG1sPW51bGwscS5wYXN0ZUNvdW50ZXI9MCl9Y2F0Y2goeil7dGhpcy5oYW5kbGVFcnJvcih6KX19fWMuaW5uZXJIVE1MPSImbmJzcDsifTtFZGl0b3JVaS5wcm90b3R5cGUuYWRkRmlsZURyb3BIYW5kbGVyPWZ1bmN0aW9uKGEpe2lmKEdyYXBoLmZpbGVTdXBwb3J0KWZvcih2YXIgYj1udWxsLGM9MDtjPGEubGVuZ3RoO2MrKylteEV2ZW50LmFkZExpc3RlbmVyKGFbY10sImRyYWdsZWF2ZSIsZnVuY3Rpb24oYSl7bnVsbCE9YiYmKGIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChiKSxiPW51bGwpOwphLnN0b3BQcm9wYWdhdGlvbigpO2EucHJldmVudERlZmF1bHQoKX0pLG14RXZlbnQuYWRkTGlzdGVuZXIoYVtjXSwiZHJhZ292ZXIiLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpeyh0aGlzLmVkaXRvci5ncmFwaC5pc0VuYWJsZWQoKXx8IjEiIT11cmxQYXJhbXMuZW1iZWQpJiZudWxsPT1iJiYoIW14Q2xpZW50LklTX0lFfHwxMDxkb2N1bWVudC5kb2N1bWVudE1vZGUmJjEyPmRvY3VtZW50LmRvY3VtZW50TW9kZSkmJihiPXRoaXMuaGlnaGxpZ2h0RWxlbWVudCgpKTthLnN0b3BQcm9wYWdhdGlvbigpO2EucHJldmVudERlZmF1bHQoKX0pKSxteEV2ZW50LmFkZExpc3RlbmVyKGFbY10sImRyb3AiLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe251bGwhPWImJihiLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYiksYj1udWxsKTtpZih0aGlzLmVkaXRvci5ncmFwaC5pc0VuYWJsZWQoKXx8IjEiIT11cmxQYXJhbXMuZW1iZWQpaWYoMDxhLmRhdGFUcmFuc2Zlci5maWxlcy5sZW5ndGgpdGhpcy5oaWRlRGlhbG9nKCksCiIxIj09dXJsUGFyYW1zLmVtYmVkP3RoaXMuaW1wb3J0RmlsZXMoYS5kYXRhVHJhbnNmZXIuZmlsZXMsMCwwLHRoaXMubWF4SW1hZ2VTaXplLG51bGwsbnVsbCxudWxsLG51bGwsIW14RXZlbnQuaXNDb250cm9sRG93bihhKSYmIW14RXZlbnQuaXNTaGlmdERvd24oYSkpOnRoaXMub3BlbkZpbGVzKGEuZGF0YVRyYW5zZmVyLmZpbGVzLCEwKTtlbHNle3ZhciBjPXRoaXMuZXh0cmFjdEdyYXBoTW9kZWxGcm9tRXZlbnQoYSk7aWYobnVsbD09Yyl7dmFyIGQ9bnVsbCE9YS5kYXRhVHJhbnNmZXI/YS5kYXRhVHJhbnNmZXI6YS5jbGlwYm9hcmREYXRhO251bGwhPWQmJigxMD09ZG9jdW1lbnQuZG9jdW1lbnRNb2RlfHwxMT09ZG9jdW1lbnQuZG9jdW1lbnRNb2RlP2M9ZC5nZXREYXRhKCJUZXh0Iik6KGM9bnVsbCxjPTA8PW14VXRpbHMuaW5kZXhPZihkLnR5cGVzLCJ0ZXh0L3VyaS1saXN0Iik/YS5kYXRhVHJhbnNmZXIuZ2V0RGF0YSgidGV4dC91cmktbGlzdCIpOjA8PW14VXRpbHMuaW5kZXhPZihkLnR5cGVzLAoidGV4dC9odG1sIik/ZC5nZXREYXRhKCJ0ZXh0L2h0bWwiKTpudWxsLG51bGwhPWMmJjA8Yy5sZW5ndGg/KGQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IiksZC5pbm5lckhUTUw9YyxkPWQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImltZyIpLDA8ZC5sZW5ndGgmJihjPWRbMF0uZ2V0QXR0cmlidXRlKCJzcmMiKSkpOjA8PW14VXRpbHMuaW5kZXhPZihkLnR5cGVzLCJ0ZXh0L3BsYWluIikmJihjPWQuZ2V0RGF0YSgidGV4dC9wbGFpbiIpKSksbnVsbCE9YyYmKCJkYXRhOmltYWdlL3BuZztiYXNlNjQsIj09Yy5zdWJzdHJpbmcoMCwyMik/KGM9dGhpcy5leHRyYWN0R3JhcGhNb2RlbEZyb21QbmcoYyksbnVsbCE9YyYmMDxjLmxlbmd0aCYmdGhpcy5vcGVuTG9jYWxGaWxlKGMsbnVsbCwhMCkpOiF0aGlzLmlzT2ZmbGluZSgpJiZ0aGlzLmlzUmVtb3RlRmlsZUZvcm1hdChjKT8obmV3IG14WG1sUmVxdWVzdChPUEVOX1VSTCwiZm9ybWF0PXhtbCZkYXRhPSIrZW5jb2RlVVJJQ29tcG9uZW50KGMpKSkuc2VuZChteFV0aWxzLmJpbmQodGhpcywKZnVuY3Rpb24oYSl7MjAwPD1hLmdldFN0YXR1cygpJiYyOTk+PWEuZ2V0U3RhdHVzKCkmJnRoaXMub3BlbkxvY2FsRmlsZShhLmdldFRleHQoKSxudWxsLCEwKX0pKTovXmh0dHBzPzpcL1wvLy50ZXN0KGMpJiYobnVsbD09dGhpcy5nZXRDdXJyZW50RmlsZSgpP3dpbmRvdy5sb2NhdGlvbi5oYXNoPSIjVSIrZW5jb2RlVVJJQ29tcG9uZW50KGMpOndpbmRvdy5vcGVuV2luZG93KChteENsaWVudC5JU19DSFJPTUVBUFA/RWRpdG9yVWkuZHJhd0hvc3QrIi8iOiJodHRwczovLyIrbG9jYXRpb24uaG9zdCsiLyIpK3dpbmRvdy5sb2NhdGlvbi5zZWFyY2grIiNVIitlbmNvZGVVUklDb21wb25lbnQoYykpKSkpfWVsc2UgdGhpcy5vcGVuTG9jYWxGaWxlKGMsbnVsbCwhMCl9YS5zdG9wUHJvcGFnYXRpb24oKTthLnByZXZlbnREZWZhdWx0KCl9KSl9O0VkaXRvclVpLnByb3RvdHlwZS5oaWdobGlnaHRFbGVtZW50PWZ1bmN0aW9uKGEpe3ZhciBiPTAsYz0wLGQsZjtpZihudWxsPT1hKXtmPWRvY3VtZW50LmJvZHk7CnZhciBrPWRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtkPShmLmNsaWVudFdpZHRofHxrLmNsaWVudFdpZHRoKS0zO2Y9TWF0aC5tYXgoZi5jbGllbnRIZWlnaHR8fDAsay5jbGllbnRIZWlnaHQpLTN9ZWxzZSBiPWEub2Zmc2V0VG9wLGM9YS5vZmZzZXRMZWZ0LGQ9YS5jbGllbnRXaWR0aCxmPWEuY2xpZW50SGVpZ2h0O2s9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7ay5zdHlsZS56SW5kZXg9bXhQb3B1cE1lbnUucHJvdG90eXBlLnpJbmRleCsyO2suc3R5bGUuYm9yZGVyPSIzcHggZG90dGVkIHJnYigyNTQsIDEzNywgMTIpIjtrLnN0eWxlLnBvaW50ZXJFdmVudHM9Im5vbmUiO2suc3R5bGUucG9zaXRpb249ImFic29sdXRlIjtrLnN0eWxlLnRvcD1iKyJweCI7ay5zdHlsZS5sZWZ0PWMrInB4IjtrLnN0eWxlLndpZHRoPU1hdGgubWF4KDAsZC0zKSsicHgiO2suc3R5bGUuaGVpZ2h0PU1hdGgubWF4KDAsZi0zKSsicHgiO251bGwhPWEmJmEucGFyZW50Tm9kZT09dGhpcy5lZGl0b3IuZ3JhcGguY29udGFpbmVyPwp0aGlzLmVkaXRvci5ncmFwaC5jb250YWluZXIuYXBwZW5kQ2hpbGQoayk6ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChrKTtyZXR1cm4ga307RWRpdG9yVWkucHJvdG90eXBlLnN0cmluZ1RvQ2VsbHM9ZnVuY3Rpb24oYSl7YT1teFV0aWxzLnBhcnNlWG1sKGEpO3ZhciBiPXRoaXMuZWRpdG9yLmV4dHJhY3RHcmFwaE1vZGVsKGEuZG9jdW1lbnRFbGVtZW50KTthPVtdO2lmKG51bGwhPWIpe3ZhciBjPW5ldyBteENvZGVjKGIub3duZXJEb2N1bWVudCksZD1uZXcgbXhHcmFwaE1vZGVsO2MuZGVjb2RlKGIsZCk7Yj1kLmdldENoaWxkQXQoZC5nZXRSb290KCksMCk7Zm9yKGM9MDtjPGQuZ2V0Q2hpbGRDb3VudChiKTtjKyspYS5wdXNoKGQuZ2V0Q2hpbGRBdChiLGMpKX1yZXR1cm4gYX07RWRpdG9yVWkucHJvdG90eXBlLm9wZW5GaWxlcz1mdW5jdGlvbihhLGMpe2lmKHRoaXMuc3Bpbm5lci5zcGluKGRvY3VtZW50LmJvZHksbXhSZXNvdXJjZXMuZ2V0KCJsb2FkaW5nIikpKWZvcih2YXIgYj0KMDtiPGEubGVuZ3RoO2IrKylteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXt2YXIgYj1uZXcgRmlsZVJlYWRlcjtiLm9ubG9hZD1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihiKXt0cnl7dmFyIGQ9Yi50YXJnZXQucmVzdWx0LGU9YS5uYW1lO2lmKG51bGwhPWUmJjA8ZS5sZW5ndGgpeyF0aGlzLnVzZUNhbnZhc0ZvckV4cG9ydCYmLyhcLnBuZykkL2kudGVzdChlKT9lPWUuc3Vic3RyaW5nKDAsZS5sZW5ndGgtNCkrIi5kcmF3aW8iOi8oXC5wZGYpJC9pLnRlc3QoZSkmJihlPWUuc3Vic3RyaW5nKDAsZS5sZW5ndGgtNCkrIi5kcmF3aW8iKTt2YXIgZj1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXtlPTA8PWUubGFzdEluZGV4T2YoIi4iKT9lLnN1YnN0cmluZygwLGUubGFzdEluZGV4T2YoIi4iKSkrIi5kcmF3aW8iOmUrIi5kcmF3aW8iO2lmKCI8bXhsaWJyYXJ5Ij09YS5zdWJzdHJpbmcoMCwxMCkpe251bGw9PXRoaXMuZ2V0Q3VycmVudEZpbGUoKSYmIjEiIT11cmxQYXJhbXMuZW1iZWQmJgp0aGlzLm9wZW5Mb2NhbEZpbGUodGhpcy5lbXB0eURpYWdyYW1YbWwsdGhpcy5kZWZhdWx0RmlsZW5hbWUsYyk7dHJ5e3RoaXMubG9hZExpYnJhcnkobmV3IExvY2FsTGlicmFyeSh0aGlzLGEsZSkpfWNhdGNoKEIpe3RoaXMuaGFuZGxlRXJyb3IoQixteFJlc291cmNlcy5nZXQoImVycm9yTG9hZGluZ0ZpbGUiKSl9fWVsc2UgdGhpcy5vcGVuTG9jYWxGaWxlKGEsZSxjKX0pO2lmKC8oXC52KGR4fHNkeD8pKSgkfFw/KS9pLnRlc3QoZSl8fC8oXC52cyh4fHN4PykpKCR8XD8pL2kudGVzdChlKSl0aGlzLmltcG9ydFZpc2lvKGEsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7dGhpcy5zcGlubmVyLnN0b3AoKTtmKGEpfSkpO2Vsc2UgaWYoLyhcLio8Z3JhcGhtbCApLy50ZXN0KGQpKXRoaXMuaW1wb3J0R3JhcGhNTChkLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3RoaXMuc3Bpbm5lci5zdG9wKCk7ZihhKX0pKTtlbHNlIGlmKEdyYXBoLmZpbGVTdXBwb3J0JiYhdGhpcy5pc09mZmxpbmUoKSYmCihuZXcgWE1MSHR0cFJlcXVlc3QpLnVwbG9hZCYmdGhpcy5pc1JlbW90ZUZpbGVGb3JtYXQoZCxlKSl0aGlzLnBhcnNlRmlsZShhLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpezQ9PWEucmVhZHlTdGF0ZSYmKHRoaXMuc3Bpbm5lci5zdG9wKCksMjAwPD1hLnN0YXR1cyYmMjk5Pj1hLnN0YXR1cz9mKGEucmVzcG9uc2VUZXh0KTp0aGlzLmhhbmRsZUVycm9yKHttZXNzYWdlOm14UmVzb3VyY2VzLmdldCg0MTM9PWEuc3RhdHVzPyJkcmF3aW5nVG9vTGFyZ2UiOiJpbnZhbGlkT3JNaXNzaW5nRmlsZSIpfSxteFJlc291cmNlcy5nZXQoImVycm9yTG9hZGluZ0ZpbGUiKSkpfSkpO2Vsc2UgaWYodGhpcy5pc0x1Y2lkQ2hhcnREYXRhKGQpKS8oXC5qc29uKSQvaS50ZXN0KGUpJiYoZT1lLnN1YnN0cmluZygwLGUubGVuZ3RoLTUpKyIuZHJhd2lvIiksdGhpcy5jb252ZXJ0THVjaWRDaGFydChkLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3RoaXMuc3Bpbm5lci5zdG9wKCk7dGhpcy5vcGVuTG9jYWxGaWxlKGEsCmUsYyl9KSxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXt0aGlzLnNwaW5uZXIuc3RvcCgpO3RoaXMuaGFuZGxlRXJyb3IoYSl9KSk7ZWxzZSBpZigiPG14bGlicmFyeSI9PWIudGFyZ2V0LnJlc3VsdC5zdWJzdHJpbmcoMCwxMCkpe3RoaXMuc3Bpbm5lci5zdG9wKCk7bnVsbD09dGhpcy5nZXRDdXJyZW50RmlsZSgpJiYiMSIhPXVybFBhcmFtcy5lbWJlZCYmdGhpcy5vcGVuTG9jYWxGaWxlKHRoaXMuZW1wdHlEaWFncmFtWG1sLHRoaXMuZGVmYXVsdEZpbGVuYW1lLGMpO3RyeXt0aGlzLmxvYWRMaWJyYXJ5KG5ldyBMb2NhbExpYnJhcnkodGhpcyxiLnRhcmdldC5yZXN1bHQsYS5uYW1lKSl9Y2F0Y2goQyl7dGhpcy5oYW5kbGVFcnJvcihDLG14UmVzb3VyY2VzLmdldCgiZXJyb3JMb2FkaW5nRmlsZSIpKX19ZWxzZSBpZigwPT1kLmluZGV4T2YoIlBLIikpdGhpcy5pbXBvcnRaaXBGaWxlKGEsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7dGhpcy5zcGlubmVyLnN0b3AoKTsKZihhKX0pLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dGhpcy5zcGlubmVyLnN0b3AoKTt0aGlzLm9wZW5Mb2NhbEZpbGUoZCxlLGMpfSkpO2Vsc2V7aWYoImltYWdlL3BuZyI9PWEudHlwZS5zdWJzdHJpbmcoMCw5KSlkPXRoaXMuZXh0cmFjdEdyYXBoTW9kZWxGcm9tUG5nKGQpO2Vsc2UgaWYoImFwcGxpY2F0aW9uL3BkZiI9PWEudHlwZSl7dmFyIGc9RWRpdG9yLmV4dHJhY3RHcmFwaE1vZGVsRnJvbVBkZihkKTtudWxsIT1nJiYoZD1nKX10aGlzLnNwaW5uZXIuc3RvcCgpO3RoaXMub3BlbkxvY2FsRmlsZShkLGUsYyl9fX1jYXRjaChDKXt0aGlzLmhhbmRsZUVycm9yKEMpfX0pO2Iub25lcnJvcj1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXt0aGlzLnNwaW5uZXIuc3RvcCgpO3RoaXMuaGFuZGxlRXJyb3IoYSk7d2luZG93Lm9wZW5GaWxlPW51bGx9KTsiaW1hZ2UiIT09YS50eXBlLnN1YnN0cmluZygwLDUpJiYiYXBwbGljYXRpb24vcGRmIiE9PWEudHlwZXx8ImltYWdlL3N2ZyI9PT0KYS50eXBlLnN1YnN0cmluZygwLDkpP2IucmVhZEFzVGV4dChhKTpiLnJlYWRBc0RhdGFVUkwoYSl9KShhW2JdKX07RWRpdG9yVWkucHJvdG90eXBlLm9wZW5Mb2NhbEZpbGU9ZnVuY3Rpb24oYSxjLGQpe3ZhciBiPXRoaXMuZ2V0Q3VycmVudEZpbGUoKSxlPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7d2luZG93Lm9wZW5GaWxlPW51bGw7aWYobnVsbD09YyYmbnVsbCE9dGhpcy5nZXRDdXJyZW50RmlsZSgpJiZ0aGlzLmlzRGlhZ3JhbUVtcHR5KCkpe3ZhciBiPW14VXRpbHMucGFyc2VYbWwoYSk7bnVsbCE9YiYmKHRoaXMuZWRpdG9yLnNldEdyYXBoWG1sKGIuZG9jdW1lbnRFbGVtZW50KSx0aGlzLmVkaXRvci5ncmFwaC5zZWxlY3RBbGwoKSl9ZWxzZSB0aGlzLmZpbGVMb2FkZWQobmV3IExvY2FsRmlsZSh0aGlzLGEsY3x8dGhpcy5kZWZhdWx0RmlsZW5hbWUsZCkpfSk7aWYobnVsbCE9YSYmMDxhLmxlbmd0aCludWxsPT1ifHwhYi5pc01vZGlmaWVkKCkmJihteENsaWVudC5JU19DSFJPTUVBUFB8fApFZGl0b3JVaS5pc0VsZWN0cm9uQXBwKT9lKCk6KG14Q2xpZW50LklTX0NIUk9NRUFQUHx8RWRpdG9yVWkuaXNFbGVjdHJvbkFwcCkmJm51bGwhPWImJmIuaXNNb2RpZmllZCgpP3RoaXMuY29uZmlybShteFJlc291cmNlcy5nZXQoImFsbENoYW5nZXNMb3N0IiksbnVsbCxlLG14UmVzb3VyY2VzLmdldCgiY2FuY2VsIiksbXhSZXNvdXJjZXMuZ2V0KCJkaXNjYXJkQ2hhbmdlcyIpKTood2luZG93Lm9wZW5GaWxlPW5ldyBPcGVuRmlsZShmdW5jdGlvbigpe3dpbmRvdy5vcGVuRmlsZT1udWxsfSksd2luZG93Lm9wZW5GaWxlLnNldERhdGEoYSxjKSx3aW5kb3cub3BlbldpbmRvdyh0aGlzLmdldFVybCgpLG51bGwsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXtudWxsIT1iJiZiLmlzTW9kaWZpZWQoKT90aGlzLmNvbmZpcm0obXhSZXNvdXJjZXMuZ2V0KCJhbGxDaGFuZ2VzTG9zdCIpLG51bGwsZSxteFJlc291cmNlcy5nZXQoImNhbmNlbCIpLG14UmVzb3VyY2VzLmdldCgiZGlzY2FyZENoYW5nZXMiKSk6CmUoKX0pKSk7ZWxzZSB0aHJvdyBFcnJvcihteFJlc291cmNlcy5nZXQoIm5vdEFEaWFncmFtRmlsZSIpKTt9O0VkaXRvclVpLnByb3RvdHlwZS5nZXRCYXNlbmFtZXM9ZnVuY3Rpb24oKXt2YXIgYT17fTtpZihudWxsIT10aGlzLnBhZ2VzKWZvcih2YXIgYz0wO2M8dGhpcy5wYWdlcy5sZW5ndGg7YysrKXRoaXMudXBkYXRlUGFnZVJvb3QodGhpcy5wYWdlc1tjXSksdGhpcy5hZGRCYXNlbmFtZXNGb3JDZWxsKHRoaXMucGFnZXNbY10ucm9vdCxhKTtlbHNlIHRoaXMuYWRkQmFzZW5hbWVzRm9yQ2VsbCh0aGlzLmVkaXRvci5ncmFwaC5tb2RlbC5nZXRSb290KCksYSk7dmFyIGM9W10sZDtmb3IoZCBpbiBhKWMucHVzaChkKTtyZXR1cm4gY307RWRpdG9yVWkucHJvdG90eXBlLmFkZEJhc2VuYW1lc0ZvckNlbGw9ZnVuY3Rpb24oYSxjKXtmdW5jdGlvbiBiKGEpe2lmKG51bGwhPWEpe3ZhciBiPWEubGFzdEluZGV4T2YoIi4iKTswPGImJihhPWEuc3Vic3RyaW5nKGIrMSxhLmxlbmd0aCkpOwpudWxsPT1jW2FdJiYoY1thXT0hMCl9fXZhciBkPXRoaXMuZWRpdG9yLmdyYXBoLGU9ZC5nZXRDZWxsU3R5bGUoYSk7YihteFN0ZW5jaWxSZWdpc3RyeS5nZXRCYXNlbmFtZUZvclN0ZW5jaWwoZVtteENvbnN0YW50cy5TVFlMRV9TSEFQRV0pKTtkLm1vZGVsLmlzRWRnZShhKSYmKGIobXhNYXJrZXIuZ2V0UGFja2FnZUZvclR5cGUoZVtteENvbnN0YW50cy5TVFlMRV9TVEFSVEFSUk9XXSkpLGIobXhNYXJrZXIuZ2V0UGFja2FnZUZvclR5cGUoZVtteENvbnN0YW50cy5TVFlMRV9FTkRBUlJPV10pKSk7Zm9yKHZhciBlPWQubW9kZWwuZ2V0Q2hpbGRDb3VudChhKSxmPTA7ZjxlO2YrKyl0aGlzLmFkZEJhc2VuYW1lc0ZvckNlbGwoZC5tb2RlbC5nZXRDaGlsZEF0KGEsZiksYyl9O0VkaXRvclVpLnByb3RvdHlwZS5zZXRHcmFwaEVuYWJsZWQ9ZnVuY3Rpb24oYSl7dGhpcy5kaWFncmFtQ29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHk9YT8iIjoiaGlkZGVuIjt0aGlzLmZvcm1hdENvbnRhaW5lci5zdHlsZS52aXNpYmlsaXR5PQphPyIiOiJoaWRkZW4iO3RoaXMuc2lkZWJhckZvb3RlckNvbnRhaW5lci5zdHlsZS5kaXNwbGF5PWE/IiI6Im5vbmUiO3RoaXMuc2lkZWJhckNvbnRhaW5lci5zdHlsZS5kaXNwbGF5PWE/IiI6Im5vbmUiO3RoaXMuaHNwbGl0LnN0eWxlLmRpc3BsYXk9YT8iIjoibm9uZSI7dGhpcy5lZGl0b3IuZ3JhcGguc2V0RW5hYmxlZChhKTtudWxsIT10aGlzLnJ1bGVyJiYodGhpcy5ydWxlci5oUnVsZXIuY29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHk9YT8iIjoiaGlkZGVuIix0aGlzLnJ1bGVyLnZSdWxlci5jb250YWluZXIuc3R5bGUudmlzaWJpbGl0eT1hPyIiOiJoaWRkZW4iKTtudWxsIT10aGlzLnRhYkNvbnRhaW5lciYmKHRoaXMudGFiQ29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHk9YT8iIjoiaGlkZGVuIik7YXx8KG51bGwhPXRoaXMuYWN0aW9ucy5vdXRsaW5lV2luZG93JiZ0aGlzLmFjdGlvbnMub3V0bGluZVdpbmRvdy53aW5kb3cuc2V0VmlzaWJsZSghMSksbnVsbCE9dGhpcy5hY3Rpb25zLmxheWVyc1dpbmRvdyYmCnRoaXMuYWN0aW9ucy5sYXllcnNXaW5kb3cud2luZG93LnNldFZpc2libGUoITEpLG51bGwhPXRoaXMubWVudXMudGFnc1dpbmRvdyYmdGhpcy5tZW51cy50YWdzV2luZG93LndpbmRvdy5zZXRWaXNpYmxlKCExKSxudWxsIT10aGlzLm1lbnVzLmZpbmRXaW5kb3cmJnRoaXMubWVudXMuZmluZFdpbmRvdy53aW5kb3cuc2V0VmlzaWJsZSghMSkpfTtFZGl0b3JVaS5wcm90b3R5cGUuaW5pdGlhbGl6ZUVtYmVkTW9kZT1mdW5jdGlvbigpe3RoaXMuc2V0R3JhcGhFbmFibGVkKCExKTsod2luZG93Lm9wZW5lcnx8d2luZG93LnBhcmVudCkhPXdpbmRvdyYmKCIxIiE9dXJsUGFyYW1zLnNwaW58fHRoaXMuc3Bpbm5lci5zcGluKGRvY3VtZW50LmJvZHksbXhSZXNvdXJjZXMuZ2V0KCJsb2FkaW5nIikpKSYmdGhpcy5pbnN0YWxsTWVzc2FnZUhhbmRsZXIobXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSxjLGQpe3RoaXMuc3Bpbm5lci5zdG9wKCk7dGhpcy5hZGRFbWJlZEJ1dHRvbnMoKTt0aGlzLnNldEdyYXBoRW5hYmxlZCghMCk7CmlmKG51bGw9PWF8fDA9PWEubGVuZ3RoKWE9dGhpcy5lbXB0eURpYWdyYW1YbWw7dGhpcy5zZXRDdXJyZW50RmlsZShuZXcgTG9jYWxGaWxlKHRoaXMsYSx0aGlzLmRlZmF1bHRGaWxlbmFtZSwhMCkpO3RoaXMuc2V0RmlsZURhdGEoYSk7dGhpcy5lZGl0b3IuaXNDaHJvbWVsZXNzVmlldygpP3RoaXMuZWRpdG9yLmdyYXBoLmlzTGlnaHRib3hWaWV3KCkmJnRoaXMubGlnaHRib3hGaXQoKTp0aGlzLnNob3dMYXllcnNEaWFsb2coKTt0aGlzLmNocm9tZWxlc3NSZXNpemUmJnRoaXMuY2hyb21lbGVzc1Jlc2l6ZSgpO3RoaXMuZWRpdG9yLnVuZG9NYW5hZ2VyLmNsZWFyKCk7dGhpcy5lZGl0b3IubW9kaWZpZWQ9bnVsbCE9ZD9kOiExO3RoaXMudXBkYXRlVWkoKTt3aW5kb3cuc2VsZiE9PXdpbmRvdy50b3AmJndpbmRvdy5mb2N1cygpO251bGwhPXRoaXMuZm9ybWF0JiZ0aGlzLmZvcm1hdC5yZWZyZXNoKCl9KSl9O0VkaXRvclVpLnByb3RvdHlwZS5zaG93TGF5ZXJzRGlhbG9nPWZ1bmN0aW9uKCl7MTwKdGhpcy5lZGl0b3IuZ3JhcGguZ2V0TW9kZWwoKS5nZXRDaGlsZENvdW50KHRoaXMuZWRpdG9yLmdyYXBoLmdldE1vZGVsKCkuZ2V0Um9vdCgpKSYmKG51bGw9PXRoaXMuYWN0aW9ucy5sYXllcnNXaW5kb3c/dGhpcy5hY3Rpb25zLmdldCgibGF5ZXJzIikuZnVuY3QoKTp0aGlzLmFjdGlvbnMubGF5ZXJzV2luZG93LndpbmRvdy5zZXRWaXNpYmxlKCEwKSl9O0VkaXRvclVpLnByb3RvdHlwZS5nZXRQdWJsaWNVcmw9ZnVuY3Rpb24oYSxjKXtudWxsIT1hP2EuZ2V0UHVibGljVXJsKGMpOmMobnVsbCl9O0VkaXRvclVpLnByb3RvdHlwZS5jcmVhdGVMb2FkTWVzc2FnZT1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmVkaXRvci5ncmFwaDtyZXR1cm57ZXZlbnQ6YSxwYWdlVmlzaWJsZTpiLnBhZ2VWaXNpYmxlLHRyYW5zbGF0ZTpiLnZpZXcudHJhbnNsYXRlLGJvdW5kczpiLmdldEdyYXBoQm91bmRzKCksY3VycmVudFBhZ2U6dGhpcy5nZXRTZWxlY3RlZFBhZ2VJbmRleCgpLHNjYWxlOmIudmlldy5zY2FsZSwKcGFnZTpiLnZpZXcuZ2V0QmFja2dyb3VuZFBhZ2VCb3VuZHMoKX19O0VkaXRvclVpLnByb3RvdHlwZS5pbnN0YWxsTWVzc2FnZUhhbmRsZXI9ZnVuY3Rpb24oYSl7dmFyIGI9bnVsbCxjPSExLGQ9ITEsZj1udWxsLGs9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSxiKXt0aGlzLmVkaXRvci5tb2RpZmllZCYmIjAiIT11cmxQYXJhbXMubW9kaWZpZWQ/bnVsbCE9dXJsUGFyYW1zLm1vZGlmaWVkJiZ0aGlzLmVkaXRvci5zZXRTdGF0dXMobXhVdGlscy5odG1sRW50aXRpZXMobXhSZXNvdXJjZXMuZ2V0KHVybFBhcmFtcy5tb2RpZmllZCkpKTp0aGlzLmVkaXRvci5zZXRTdGF0dXMoIiIpfSk7dGhpcy5lZGl0b3IuZ3JhcGgubW9kZWwuYWRkTGlzdGVuZXIobXhFdmVudC5DSEFOR0Usayk7bXhFdmVudC5hZGRMaXN0ZW5lcih3aW5kb3csIm1lc3NhZ2UiLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGUpe2lmKGUuc291cmNlPT0od2luZG93Lm9wZW5lcnx8d2luZG93LnBhcmVudCkpe3ZhciBnPQplLmRhdGEsbD1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXtpZihudWxsIT1hJiYiZnVuY3Rpb24iPT09dHlwZW9mIGEuY2hhckF0JiYiPCIhPWEuY2hhckF0KDApKXRyeXsiZGF0YTppbWFnZS9wbmc7YmFzZTY0LCI9PWEuc3Vic3RyaW5nKDAsMjIpP2E9dGhpcy5leHRyYWN0R3JhcGhNb2RlbEZyb21QbmcoYSk6ImRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsIj09YS5zdWJzdHJpbmcoMCwyNik/YT1hdG9iKGEuc3Vic3RyaW5nKDI2KSk6ImRhdGE6aW1hZ2Uvc3ZnK3htbDt1dGY4LCI9PWEuc3Vic3RyaW5nKDAsMjQpJiYoYT1hLnN1YnN0cmluZygyNCkpLG51bGwhPWEmJigiJSI9PWEuY2hhckF0KDApP2E9ZGVjb2RlVVJJQ29tcG9uZW50KGEpOiI8IiE9YS5jaGFyQXQoMCkmJihhPUdyYXBoLmRlY29tcHJlc3MoYSkpKX1jYXRjaChZKXt9cmV0dXJuIGF9KTtpZigianNvbiI9PXVybFBhcmFtcy5wcm90byl7dHJ5e2c9SlNPTi5wYXJzZShnKX1jYXRjaChUKXtnPW51bGx9dHJ5e2lmKG51bGw9PQpnKXJldHVybjtpZigiZGlhbG9nIj09Zy5hY3Rpb24pe3RoaXMuc2hvd0Vycm9yKG51bGwhPWcudGl0bGVLZXk/bXhSZXNvdXJjZXMuZ2V0KGcudGl0bGVLZXkpOmcudGl0bGUsbnVsbCE9Zy5tZXNzYWdlS2V5P214UmVzb3VyY2VzLmdldChnLm1lc3NhZ2VLZXkpOmcubWVzc2FnZSxudWxsIT1nLmJ1dHRvbktleT9teFJlc291cmNlcy5nZXQoZy5idXR0b25LZXkpOmcuYnV0dG9uKTtudWxsIT1nLm1vZGlmaWVkJiYodGhpcy5lZGl0b3IubW9kaWZpZWQ9Zy5tb2RpZmllZCk7cmV0dXJufWlmKCJwcm9tcHQiPT1nLmFjdGlvbil7dGhpcy5zcGlubmVyLnN0b3AoKTt2YXIgaz1uZXcgRmlsZW5hbWVEaWFsb2codGhpcyxnLmRlZmF1bHRWYWx1ZXx8IiIsbnVsbCE9Zy5va0tleT9teFJlc291cmNlcy5nZXQoZy5va0tleSk6bnVsbCxmdW5jdGlvbihhKXtudWxsIT1hJiZtLnBvc3RNZXNzYWdlKEpTT04uc3RyaW5naWZ5KHtldmVudDoicHJvbXB0Iix2YWx1ZTphLG1lc3NhZ2U6Z30pLCIqIil9LApudWxsIT1nLnRpdGxlS2V5P214UmVzb3VyY2VzLmdldChnLnRpdGxlS2V5KTpnLnRpdGxlKTt0aGlzLnNob3dEaWFsb2coay5jb250YWluZXIsMzAwLDgwLCEwLCExKTtrLmluaXQoKTtyZXR1cm59aWYoImRyYWZ0Ij09Zy5hY3Rpb24pe3ZhciBuPWwoZy54bWwpO3RoaXMuc3Bpbm5lci5zdG9wKCk7az1uZXcgRHJhZnREaWFsb2codGhpcyxteFJlc291cmNlcy5nZXQoImRyYWZ0Rm91bmQiLFtnLm5hbWV8fHRoaXMuZGVmYXVsdEZpbGVuYW1lXSksbixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMuaGlkZURpYWxvZygpO20ucG9zdE1lc3NhZ2UoSlNPTi5zdHJpbmdpZnkoe2V2ZW50OiJkcmFmdCIscmVzdWx0OiJlZGl0IixtZXNzYWdlOmd9KSwiKiIpfSksbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt0aGlzLmhpZGVEaWFsb2coKTttLnBvc3RNZXNzYWdlKEpTT04uc3RyaW5naWZ5KHtldmVudDoiZHJhZnQiLHJlc3VsdDoiZGlzY2FyZCIsbWVzc2FnZTpnfSksIioiKX0pLApnLmVkaXRLZXk/bXhSZXNvdXJjZXMuZ2V0KGcuZWRpdEtleSk6bnVsbCxnLmRpc2NhcmRLZXk/bXhSZXNvdXJjZXMuZ2V0KGcuZGlzY2FyZEtleSk6bnVsbCxnLmlnbm9yZT9teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMuaGlkZURpYWxvZygpO20ucG9zdE1lc3NhZ2UoSlNPTi5zdHJpbmdpZnkoe2V2ZW50OiJkcmFmdCIscmVzdWx0OiJpZ25vcmUiLG1lc3NhZ2U6Z30pLCIqIil9KTpudWxsKTt0aGlzLnNob3dEaWFsb2coay5jb250YWluZXIsNjQwLDQ4MCwhMCwhMSxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXthJiZ0aGlzLmFjdGlvbnMuZ2V0KCJleGl0IikuZnVuY3QoKX0pKTt0cnl7ay5pbml0KCl9Y2F0Y2goVCl7bS5wb3N0TWVzc2FnZShKU09OLnN0cmluZ2lmeSh7ZXZlbnQ6ImRyYWZ0IixlcnJvcjpULnRvU3RyaW5nKCksbWVzc2FnZTpnfSksIioiKX1yZXR1cm59aWYoInRlbXBsYXRlIj09Zy5hY3Rpb24pe3RoaXMuc3Bpbm5lci5zdG9wKCk7dmFyIHA9CjE9PWcuZW5hYmxlUmVjZW50LHE9MT09Zy5lbmFibGVTZWFyY2gsdD0xPT1nLmVuYWJsZUN1c3RvbVRlbXAsaz1uZXcgTmV3RGlhbG9nKHRoaXMsITEsbnVsbCE9Zy5jYWxsYmFjayxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihiLGMpe2I9Ynx8dGhpcy5lbXB0eURpYWdyYW1YbWw7bnVsbCE9Zy5jYWxsYmFjaz9tLnBvc3RNZXNzYWdlKEpTT04uc3RyaW5naWZ5KHtldmVudDoidGVtcGxhdGUiLHhtbDpiLGJsYW5rOmI9PXRoaXMuZW1wdHlEaWFncmFtWG1sLG5hbWU6YyxtZXNzYWdlOmd9KSwiKiIpOihhKGIsZSxiIT10aGlzLmVtcHR5RGlhZ3JhbVhtbCksdGhpcy5lZGl0b3IubW9kaWZpZWR8fHRoaXMuZWRpdG9yLnNldFN0YXR1cygiIikpfSksbnVsbCxudWxsLG51bGwsbnVsbCxudWxsLG51bGwsbnVsbCxwP214VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3RoaXMucmVtb3RlSW52b2tlKCJnZXRSZWNlbnREaWFncmFtcyIsbnVsbCxudWxsLGEsZnVuY3Rpb24oKXthKG51bGwsCiJOZXR3b3JrIEVycm9yISIpfSl9KTpudWxsLHE/bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSxiKXt0aGlzLnJlbW90ZUludm9rZSgic2VhcmNoRGlhZ3JhbXMiLFthXSxudWxsLGIsZnVuY3Rpb24oKXtiKG51bGwsIk5ldHdvcmsgRXJyb3IhIil9KX0pOm51bGwsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSxiLGMpe20ucG9zdE1lc3NhZ2UoSlNPTi5zdHJpbmdpZnkoe2V2ZW50OiJ0ZW1wbGF0ZSIsZG9jVXJsOmEsaW5mbzpiLG5hbWU6Y30pLCIqIil9KSxudWxsLG51bGwsdD9teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXt0aGlzLnJlbW90ZUludm9rZSgiZ2V0Q3VzdG9tVGVtcGxhdGVzIixudWxsLG51bGwsYSxmdW5jdGlvbigpe2Eoe30sMCl9KX0pOm51bGwpO3RoaXMuc2hvd0RpYWxvZyhrLmNvbnRhaW5lciw2MjAsNDQwLCEwLCExLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe2EmJnRoaXMuYWN0aW9ucy5nZXQoImV4aXQiKS5mdW5jdCgpfSkpO2suaW5pdCgpOwpyZXR1cm59aWYoInRleHRDb250ZW50Ij09Zy5hY3Rpb24pe3ZhciB5PXRoaXMuZ2V0RGlhZ3JhbVRleHRDb250ZW50KCk7bS5wb3N0TWVzc2FnZShKU09OLnN0cmluZ2lmeSh7ZXZlbnQ6InRleHRDb250ZW50IixkYXRhOnksbWVzc2FnZTpnfSksIioiKTtyZXR1cm59aWYoInN0YXR1cyI9PWcuYWN0aW9uKXtudWxsIT1nLm1lc3NhZ2VLZXk/dGhpcy5lZGl0b3Iuc2V0U3RhdHVzKG14VXRpbHMuaHRtbEVudGl0aWVzKG14UmVzb3VyY2VzLmdldChnLm1lc3NhZ2VLZXkpKSk6bnVsbCE9Zy5tZXNzYWdlJiZ0aGlzLmVkaXRvci5zZXRTdGF0dXMobXhVdGlscy5odG1sRW50aXRpZXMoZy5tZXNzYWdlKSk7bnVsbCE9Zy5tb2RpZmllZCYmKHRoaXMuZWRpdG9yLm1vZGlmaWVkPWcubW9kaWZpZWQpO3JldHVybn1pZigic3Bpbm5lciI9PWcuYWN0aW9uKXt2YXIgdj1udWxsIT1nLm1lc3NhZ2VLZXk/bXhSZXNvdXJjZXMuZ2V0KGcubWVzc2FnZUtleSk6Zy5tZXNzYWdlO251bGw9PWcuc2hvd3x8Cmcuc2hvdz90aGlzLnNwaW5uZXIuc3Bpbihkb2N1bWVudC5ib2R5LHYpOnRoaXMuc3Bpbm5lci5zdG9wKCk7cmV0dXJufWlmKCJleHBvcnQiPT1nLmFjdGlvbil7aWYoInBuZyI9PWcuZm9ybWF0fHwieG1scG5nIj09Zy5mb3JtYXQpe2lmKG51bGw9PWcuc3BpbiYmbnVsbD09Zy5zcGluS2V5fHx0aGlzLnNwaW5uZXIuc3Bpbihkb2N1bWVudC5ib2R5LG51bGwhPWcuc3BpbktleT9teFJlc291cmNlcy5nZXQoZy5zcGluS2V5KTpnLnNwaW4pKXt2YXIgSj1udWxsIT1nLnhtbD9nLnhtbDp0aGlzLmdldEZpbGVEYXRhKCEwKTt0aGlzLmVkaXRvci5ncmFwaC5zZXRFbmFibGVkKCExKTt2YXIgdT10aGlzLmVkaXRvci5ncmFwaCxLPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3RoaXMuZWRpdG9yLmdyYXBoLnNldEVuYWJsZWQoITApO3RoaXMuc3Bpbm5lci5zdG9wKCk7dmFyIGI9dGhpcy5jcmVhdGVMb2FkTWVzc2FnZSgiZXhwb3J0Iik7Yi5mb3JtYXQ9Zy5mb3JtYXQ7Yi5tZXNzYWdlPQpnO2IuZGF0YT1hO2IueG1sPUo7bS5wb3N0TWVzc2FnZShKU09OLnN0cmluZ2lmeShiKSwiKiIpfSksQT1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXtudWxsPT1hJiYoYT1FZGl0b3IuYmxhbmtJbWFnZSk7InhtbHBuZyI9PWcuZm9ybWF0JiYoYT1FZGl0b3Iud3JpdGVHcmFwaE1vZGVsVG9QbmcoYSwidEVYdCIsIm14ZmlsZSIsZW5jb2RlVVJJQ29tcG9uZW50KEopKSk7dSE9dGhpcy5lZGl0b3IuZ3JhcGgmJnUuY29udGFpbmVyLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodS5jb250YWluZXIpO0soYSl9KSxNPWcucGFnZUlkfHwobnVsbCE9dGhpcy5wYWdlcz90aGlzLnBhZ2VzWzBdLmdldElkKCk6bnVsbCk7aWYodGhpcy5pc0V4cG9ydFRvQ2FudmFzKCkpe2lmKG51bGwhPXRoaXMucGFnZXMmJnRoaXMuY3VycmVudFBhZ2UuZ2V0SWQoKSE9TSl7Zm9yKHZhciBRPXUuZ2V0R2xvYmFsVmFyaWFibGUsdT10aGlzLmNyZWF0ZVRlbXBvcmFyeUdyYXBoKHUuZ2V0U3R5bGVzaGVldCgpKSwKSSxSPTA7Ujx0aGlzLnBhZ2VzLmxlbmd0aDtSKyspaWYodGhpcy5wYWdlc1tSXS5nZXRJZCgpPT1NKXtJPXRoaXMudXBkYXRlUGFnZVJvb3QodGhpcy5wYWdlc1tSXSk7YnJlYWt9dS5nZXRHbG9iYWxWYXJpYWJsZT1mdW5jdGlvbihhKXtyZXR1cm4icGFnZSI9PWE/SS5nZXROYW1lKCk6InBhZ2VudW1iZXIiPT1hPzE6US5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O2RvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodS5jb250YWluZXIpO3UubW9kZWwuc2V0Um9vdChJLnJvb3QpfWlmKG51bGwhPWcubGF5ZXJJZHMpe2Zvcih2YXIgWj11Lm1vZGVsLFc9Wi5nZXRDaGlsZENlbGxzKFouZ2V0Um9vdCgpKSxrPXt9LFI9MDtSPGcubGF5ZXJJZHMubGVuZ3RoO1IrKylrW2cubGF5ZXJJZHNbUl1dPSEwO2ZvcihSPTA7UjxXLmxlbmd0aDtSKyspWi5zZXRWaXNpYmxlKFdbUl0sa1tXW1JdLmlkXXx8ITEpfXRoaXMuZWRpdG9yLmV4cG9ydFRvQ2FudmFzKG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe0EoYS50b0RhdGFVUkwoImltYWdlL3BuZyIpKX0pLApudWxsLG51bGwsbnVsbCxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe0EobnVsbCl9KSxudWxsLG51bGwsZy5zY2FsZSxudWxsLG51bGwsbnVsbCx1KX1lbHNlKG5ldyBteFhtbFJlcXVlc3QoRVhQT1JUX1VSTCwiZm9ybWF0PXBuZyZlbWJlZFhtbD0iKygieG1scG5nIj09Zy5mb3JtYXQ/IjEiOiIwIikrKG51bGwhPU0/IiZwYWdlSWQ9IitNOiIiKSsobnVsbCE9Zy5sYXllcklkcz8iJmV4dHJhcz0iK2VuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeSh7bGF5ZXJJZHM6Zy5sYXllcklkc30pKToiIikrKG51bGwhPWcuc2NhbGU/IiZzY2FsZT0iK2cuc2NhbGU6IiIpKyImYmFzZTY0PTEmeG1sPSIrZW5jb2RlVVJJQ29tcG9uZW50KEopKSkuc2VuZChteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXsyMDA8PWEuZ2V0U3RhdHVzKCkmJjI5OT49YS5nZXRTdGF0dXMoKT9LKCJkYXRhOmltYWdlL3BuZztiYXNlNjQsIithLmdldFRleHQoKSk6QShudWxsKX0pLG14VXRpbHMuYmluZCh0aGlzLApmdW5jdGlvbigpe0EobnVsbCl9KSl9fWVsc2V7bnVsbCE9Zy54bWwmJjA8Zy54bWwubGVuZ3RoJiZ0aGlzLnNldEZpbGVEYXRhKGcueG1sKTt2PXRoaXMuY3JlYXRlTG9hZE1lc3NhZ2UoImV4cG9ydCIpO3YubWVzc2FnZT1nO2lmKCJodG1sMiI9PWcuZm9ybWF0fHwiaHRtbCI9PWcuZm9ybWF0JiYoIjAiIT11cmxQYXJhbXMucGFnZXN8fG51bGwhPXRoaXMucGFnZXMmJjE8dGhpcy5wYWdlcy5sZW5ndGgpKXt2YXIgaWE9dGhpcy5nZXRYbWxGaWxlRGF0YSgpO3YueG1sPW14VXRpbHMuZ2V0WG1sKGlhKTt2LmRhdGE9dGhpcy5nZXRGaWxlRGF0YShudWxsLG51bGwsITAsbnVsbCxudWxsLG51bGwsaWEpO3YuZm9ybWF0PWcuZm9ybWF0fWVsc2UgaWYoImh0bWwiPT1nLmZvcm1hdClKPXRoaXMuZWRpdG9yLmdldEdyYXBoWG1sKCksdi5kYXRhPXRoaXMuZ2V0SHRtbChKLHRoaXMuZWRpdG9yLmdyYXBoKSx2LnhtbD1teFV0aWxzLmdldFhtbChKKSx2LmZvcm1hdD1nLmZvcm1hdDtlbHNle214U3ZnQ2FudmFzMkQucHJvdG90eXBlLmZvQWx0VGV4dD0KbnVsbDt2YXIgYmE9dGhpcy5lZGl0b3IuZ3JhcGguYmFja2dyb3VuZDtiYT09bXhDb25zdGFudHMuTk9ORSYmKGJhPW51bGwpO3YueG1sPXRoaXMuZ2V0RmlsZURhdGEoITAsbnVsbCxudWxsLG51bGwsbnVsbCxudWxsLG51bGwsbnVsbCxudWxsLCExKTt2LmZvcm1hdD0ic3ZnIjt2YXIgVT1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXt0aGlzLmVkaXRvci5ncmFwaC5zZXRFbmFibGVkKCEwKTt0aGlzLnNwaW5uZXIuc3RvcCgpO3YuZGF0YT1FZGl0b3IuY3JlYXRlU3ZnRGF0YVVyaShhKTttLnBvc3RNZXNzYWdlKEpTT04uc3RyaW5naWZ5KHYpLCIqIil9KTtpZigieG1sc3ZnIj09Zy5mb3JtYXQpKG51bGw9PWcuc3BpbiYmbnVsbD09Zy5zcGluS2V5fHx0aGlzLnNwaW5uZXIuc3Bpbihkb2N1bWVudC5ib2R5LG51bGwhPWcuc3BpbktleT9teFJlc291cmNlcy5nZXQoZy5zcGluS2V5KTpnLnNwaW4pKSYmdGhpcy5nZXRFbWJlZGRlZFN2Zyh2LnhtbCx0aGlzLmVkaXRvci5ncmFwaCwKbnVsbCwhMCxVLG51bGwsbnVsbCxnLmVtYmVkSW1hZ2VzKTtlbHNlIGlmKG51bGw9PWcuc3BpbiYmbnVsbD09Zy5zcGluS2V5fHx0aGlzLnNwaW5uZXIuc3Bpbihkb2N1bWVudC5ib2R5LG51bGwhPWcuc3BpbktleT9teFJlc291cmNlcy5nZXQoZy5zcGluS2V5KTpnLnNwaW4pKXt0aGlzLmVkaXRvci5ncmFwaC5zZXRFbmFibGVkKCExKTt2YXIgY2E9dGhpcy5lZGl0b3IuZ3JhcGguZ2V0U3ZnKGJhKTt0aGlzLmVtYmVkRm9udHMoY2EsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7Zy5lbWJlZEltYWdlc3x8bnVsbD09Zy5lbWJlZEltYWdlcz90aGlzLmVkaXRvci5jb252ZXJ0SW1hZ2VzKGEsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7VShteFV0aWxzLmdldFhtbChhKSl9KSk6VShteFV0aWxzLmdldFhtbChhKSl9KSl9cmV0dXJufW0ucG9zdE1lc3NhZ2UoSlNPTi5zdHJpbmdpZnkodiksIioiKX1yZXR1cm59aWYoImxvYWQiPT1nLmFjdGlvbilkPTE9PWcuYXV0b3NhdmUsCnRoaXMuaGlkZURpYWxvZygpLG51bGwhPWcubW9kaWZpZWQmJm51bGw9PXVybFBhcmFtcy5tb2RpZmllZCYmKHVybFBhcmFtcy5tb2RpZmllZD1nLm1vZGlmaWVkKSxudWxsIT1nLnNhdmVBbmRFeGl0JiZudWxsPT11cmxQYXJhbXMuc2F2ZUFuZEV4aXQmJih1cmxQYXJhbXMuc2F2ZUFuZEV4aXQ9Zy5zYXZlQW5kRXhpdCksbnVsbCE9Zy5ub1NhdmVCdG4mJm51bGw9PXVybFBhcmFtcy5ub1NhdmVCdG4mJih1cmxQYXJhbXMubm9TYXZlQnRuPWcubm9TYXZlQnRuKSxudWxsIT1nLm5vRXhpdEJ0biYmbnVsbD09dXJsUGFyYW1zLm5vRXhpdEJ0biYmKHVybFBhcmFtcy5ub0V4aXRCdG49Zy5ub0V4aXRCdG4pLG51bGwhPWcudGl0bGUmJm51bGwhPXRoaXMuYnV0dG9uQ29udGFpbmVyJiYobj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzcGFuIiksbXhVdGlscy53cml0ZShuLGcudGl0bGUpLCJhdGxhcyI9PXVpVGhlbWU/KHRoaXMuYnV0dG9uQ29udGFpbmVyLnN0eWxlLnBhZGRpbmdSaWdodD0KIjEycHgiLHRoaXMuYnV0dG9uQ29udGFpbmVyLnN0eWxlLnBhZGRpbmdUb3A9IjZweCIsdGhpcy5idXR0b25Db250YWluZXIuc3R5bGUucmlnaHQ9IjI1cHgiKToibWluIiE9dWlUaGVtZSYmKHRoaXMuYnV0dG9uQ29udGFpbmVyLnN0eWxlLnBhZGRpbmdSaWdodD0iMzhweCIsdGhpcy5idXR0b25Db250YWluZXIuc3R5bGUucGFkZGluZ1RvcD0iNnB4IiksbnVsbCE9dGhpcy5lbWJlZEZpbGVuYW1lU3BhbiYmdGhpcy5lbWJlZEZpbGVuYW1lU3Bhbi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuZW1iZWRGaWxlbmFtZVNwYW4pLHRoaXMuYnV0dG9uQ29udGFpbmVyLmFwcGVuZENoaWxkKG4pLHRoaXMuZW1iZWRGaWxlbmFtZVNwYW49biksZz1udWxsIT1nLnhtbHBuZz90aGlzLmV4dHJhY3RHcmFwaE1vZGVsRnJvbVBuZyhnLnhtbHBuZyk6Zy54bWw7ZWxzZXtpZigibWVyZ2UiPT1nLmFjdGlvbil7dmFyIGRhPXRoaXMuZ2V0Q3VycmVudEZpbGUoKTtudWxsIT1kYSYmKG49bChnLnhtbCksCm51bGwhPW4mJiIiIT1uJiZkYS5tZXJnZUZpbGUobmV3IExvY2FsRmlsZSh0aGlzLG4pLGZ1bmN0aW9uKCl7bS5wb3N0TWVzc2FnZShKU09OLnN0cmluZ2lmeSh7ZXZlbnQ6Im1lcmdlIixtZXNzYWdlOmd9KSwiKiIpfSxmdW5jdGlvbihhKXttLnBvc3RNZXNzYWdlKEpTT04uc3RyaW5naWZ5KHtldmVudDoibWVyZ2UiLG1lc3NhZ2U6ZyxlcnJvcjphfSksIioiKX0pKX1lbHNlInJlbW90ZUludm9rZVJlYWR5Ij09Zy5hY3Rpb24/dGhpcy5oYW5kbGVSZW1vdGVJbnZva2VSZWFkeShtKToicmVtb3RlSW52b2tlIj09Zy5hY3Rpb24/dGhpcy5oYW5kbGVSZW1vdGVJbnZva2UoZyxlLm9yaWdpbik6InJlbW90ZUludm9rZVJlc3BvbnNlIj09Zy5hY3Rpb24/dGhpcy5oYW5kbGVSZW1vdGVJbnZva2VSZXNwb25zZShnKTptLnBvc3RNZXNzYWdlKEpTT04uc3RyaW5naWZ5KHtlcnJvcjoidW5rbm93bk1lc3NhZ2UiLGRhdGE6SlNPTi5zdHJpbmdpZnkoZyl9KSwiKiIpO3JldHVybn19Y2F0Y2goVCl7dGhpcy5oYW5kbGVFcnJvcihUKX19dmFyIGFhPQpteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihlLGcpe2M9ITA7dHJ5e2EoZSxnKX1jYXRjaChlYSl7dGhpcy5oYW5kbGVFcnJvcihlYSl9Yz0hMTtudWxsIT11cmxQYXJhbXMubW9kaWZpZWQmJnRoaXMuZWRpdG9yLnNldFN0YXR1cygiIik7dmFyIGw9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXtyZXR1cm4iMCIhPXVybFBhcmFtcy5wYWdlc3x8bnVsbCE9dGhpcy5wYWdlcyYmMTx0aGlzLnBhZ2VzLmxlbmd0aD90aGlzLmdldEZpbGVEYXRhKCEwKTpteFV0aWxzLmdldFhtbCh0aGlzLmVkaXRvci5nZXRHcmFwaFhtbCgpKX0pO2Y9bCgpO2QmJm51bGw9PWImJihiPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEsYil7dmFyIGQ9bCgpO2lmKGQhPWYmJiFjKXt2YXIgZT10aGlzLmNyZWF0ZUxvYWRNZXNzYWdlKCJhdXRvc2F2ZSIpO2UueG1sPWQ7ZD1KU09OLnN0cmluZ2lmeShlKTsod2luZG93Lm9wZW5lcnx8d2luZG93LnBhcmVudCkucG9zdE1lc3NhZ2UoZCwiKiIpfWY9ZH0pLAp0aGlzLmVkaXRvci5ncmFwaC5tb2RlbC5hZGRMaXN0ZW5lcihteEV2ZW50LkNIQU5HRSxiKSx0aGlzLmVkaXRvci5ncmFwaC5hZGRMaXN0ZW5lcigiZ3JpZFNpemVDaGFuZ2VkIixiKSx0aGlzLmVkaXRvci5ncmFwaC5hZGRMaXN0ZW5lcigic2hhZG93VmlzaWJsZUNoYW5nZWQiLGIpLHRoaXMuYWRkTGlzdGVuZXIoInBhZ2VGb3JtYXRDaGFuZ2VkIixiKSx0aGlzLmFkZExpc3RlbmVyKCJwYWdlU2NhbGVDaGFuZ2VkIixiKSx0aGlzLmFkZExpc3RlbmVyKCJiYWNrZ3JvdW5kQ29sb3JDaGFuZ2VkIixiKSx0aGlzLmFkZExpc3RlbmVyKCJiYWNrZ3JvdW5kSW1hZ2VDaGFuZ2VkIixiKSx0aGlzLmFkZExpc3RlbmVyKCJmb2xkaW5nRW5hYmxlZENoYW5nZWQiLGIpLHRoaXMuYWRkTGlzdGVuZXIoIm1hdGhFbmFibGVkQ2hhbmdlZCIsYiksdGhpcy5hZGRMaXN0ZW5lcigiZ3JpZEVuYWJsZWRDaGFuZ2VkIixiKSx0aGlzLmFkZExpc3RlbmVyKCJndWlkZXNFbmFibGVkQ2hhbmdlZCIsYiksdGhpcy5hZGRMaXN0ZW5lcigicGFnZVZpZXdDaGFuZ2VkIiwKYikpO2lmKCIxIj09dXJsUGFyYW1zLnJldHVybmJvdW5kc3x8Impzb24iPT11cmxQYXJhbXMucHJvdG8pe3ZhciBrPXRoaXMuY3JlYXRlTG9hZE1lc3NhZ2UoImxvYWQiKTtrLnhtbD1lO20ucG9zdE1lc3NhZ2UoSlNPTi5zdHJpbmdpZnkoayksIioiKX19KTtudWxsIT1nJiYiZnVuY3Rpb24iPT09dHlwZW9mIGcuc3Vic3RyaW5nJiYiZGF0YTphcHBsaWNhdGlvbi92bmQudmlzaW87YmFzZTY0LCI9PWcuc3Vic3RyaW5nKDAsMzQpPyhsPSIwTThSNEtHeEd1RSI9PWcuc3Vic3RyaW5nKDM0LDQ1KT8icmF3LnZzZCI6InJhdy52c2R4Iix0aGlzLmltcG9ydFZpc2lvKHRoaXMuYmFzZTY0VG9CbG9iKGcuc3Vic3RyaW5nKGcuaW5kZXhPZigiLCIpKzEpKSxmdW5jdGlvbihhKXthYShhLGUpfSxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXt0aGlzLmhhbmRsZUVycm9yKGEpfSksbCkpOm51bGwhPWcmJiJmdW5jdGlvbiI9PT10eXBlb2YgZy5zdWJzdHJpbmcmJiF0aGlzLmlzT2ZmbGluZSgpJiYKKG5ldyBYTUxIdHRwUmVxdWVzdCkudXBsb2FkJiZ0aGlzLmlzUmVtb3RlRmlsZUZvcm1hdChnLCIiKT90aGlzLnBhcnNlRmlsZShuZXcgQmxvYihbZ10se3R5cGU6ImFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbSJ9KSxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXs0PT1hLnJlYWR5U3RhdGUmJjIwMDw9YS5zdGF0dXMmJjI5OT49YS5zdGF0dXMmJiI8bXhHcmFwaE1vZGVsIj09YS5yZXNwb25zZVRleHQuc3Vic3RyaW5nKDAsMTMpJiZhYShhLnJlc3BvbnNlVGV4dCxlKX0pLCIiKTpudWxsIT1nJiYiZnVuY3Rpb24iPT09dHlwZW9mIGcuc3Vic3RyaW5nJiZ0aGlzLmlzTHVjaWRDaGFydERhdGEoZyk/dGhpcy5jb252ZXJ0THVjaWRDaGFydChnLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe2FhKGEpfSksbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7dGhpcy5oYW5kbGVFcnJvcihhKX0pKTooZz1sKGcpLGFhKGcsZSkpfX0pKTt2YXIgbT13aW5kb3cub3BlbmVyfHx3aW5kb3cucGFyZW50LAprPSJqc29uIj09dXJsUGFyYW1zLnByb3RvP0pTT04uc3RyaW5naWZ5KHtldmVudDoiaW5pdCJ9KTp1cmxQYXJhbXMucmVhZHl8fCJyZWFkeSI7bS5wb3N0TWVzc2FnZShrLCIqIik7aWYoImpzb24iPT11cmxQYXJhbXMucHJvdG8pe3ZhciBxPXRoaXMuZWRpdG9yLmdyYXBoLm9wZW5MaW5rO3RoaXMuZWRpdG9yLmdyYXBoLm9wZW5MaW5rPWZ1bmN0aW9uKGEsYixjKXtxLmFwcGx5KHRoaXMsYXJndW1lbnRzKTttLnBvc3RNZXNzYWdlKEpTT04uc3RyaW5naWZ5KHtldmVudDoib3BlbkxpbmsiLGhyZWY6YSx0YXJnZXQ6YixhbGxvd09wZW5lcjpjfSksIioiKX19fTtFZGl0b3JVaS5wcm90b3R5cGUuYWRkRW1iZWRCdXR0b25zPWZ1bmN0aW9uKCl7aWYobnVsbCE9dGhpcy5tZW51YmFyKXt2YXIgYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTthLnN0eWxlLmRpc3BsYXk9ImlubGluZS1ibG9jayI7YS5zdHlsZS5wb3NpdGlvbj0iYWJzb2x1dGUiO2Euc3R5bGUucGFkZGluZ1RvcD0KImF0bGFzIj09dWlUaGVtZT8iMnB4IjoiMHB4IjthLnN0eWxlLnBhZGRpbmdMZWZ0PSI4cHgiO2Euc3R5bGUucGFkZGluZ0JvdHRvbT0iMnB4Ijt2YXIgYz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJidXR0b24iKTtjLmNsYXNzTmFtZT0iZ2VCaWdCdXR0b24iO3ZhciBkPWM7IjEiPT11cmxQYXJhbXMubm9TYXZlQnRuPyIwIiE9dXJsUGFyYW1zLnNhdmVBbmRFeGl0JiYobXhVdGlscy53cml0ZShjLG14UmVzb3VyY2VzLmdldCgic2F2ZUFuZEV4aXQiKSksYy5zZXRBdHRyaWJ1dGUoInRpdGxlIixteFJlc291cmNlcy5nZXQoInNhdmVBbmRFeGl0IikpLG14RXZlbnQuYWRkTGlzdGVuZXIoYywiY2xpY2siLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dGhpcy5hY3Rpb25zLmdldCgic2F2ZUFuZEV4aXQiKS5mdW5jdCgpfSkpLGEuYXBwZW5kQ2hpbGQoYykpOihteFV0aWxzLndyaXRlKGMsbXhSZXNvdXJjZXMuZ2V0KCJzYXZlIikpLGMuc2V0QXR0cmlidXRlKCJ0aXRsZSIsbXhSZXNvdXJjZXMuZ2V0KCJzYXZlIikrCiIgKCIrRWRpdG9yLmN0cmxLZXkrIitTKSIpLG14RXZlbnQuYWRkTGlzdGVuZXIoYywiY2xpY2siLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dGhpcy5hY3Rpb25zLmdldCgic2F2ZSIpLmZ1bmN0KCl9KSksYS5hcHBlbmRDaGlsZChjKSwiMSI9PXVybFBhcmFtcy5zYXZlQW5kRXhpdCYmKGM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpLG14VXRpbHMud3JpdGUoYyxteFJlc291cmNlcy5nZXQoInNhdmVBbmRFeGl0IikpLGMuc2V0QXR0cmlidXRlKCJ0aXRsZSIsbXhSZXNvdXJjZXMuZ2V0KCJzYXZlQW5kRXhpdCIpKSxjLmNsYXNzTmFtZT0iZ2VCaWdCdXR0b24gZ2VCaWdTdGFuZGFyZEJ1dHRvbiIsYy5zdHlsZS5tYXJnaW5MZWZ0PSI2cHgiLG14RXZlbnQuYWRkTGlzdGVuZXIoYywiY2xpY2siLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dGhpcy5hY3Rpb25zLmdldCgic2F2ZUFuZEV4aXQiKS5mdW5jdCgpfSkpLGEuYXBwZW5kQ2hpbGQoYyksZD1jKSk7IjEiIT0KdXJsUGFyYW1zLm5vRXhpdEJ0biYmKGM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpLG14VXRpbHMud3JpdGUoYyxteFJlc291cmNlcy5nZXQoImV4aXQiKSksYy5zZXRBdHRyaWJ1dGUoInRpdGxlIixteFJlc291cmNlcy5nZXQoImV4aXQiKSksYy5jbGFzc05hbWU9ImdlQmlnQnV0dG9uIGdlQmlnU3RhbmRhcmRCdXR0b24iLGMuc3R5bGUubWFyZ2luTGVmdD0iNnB4IixteEV2ZW50LmFkZExpc3RlbmVyKGMsImNsaWNrIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMuYWN0aW9ucy5nZXQoImV4aXQiKS5mdW5jdCgpfSkpLGEuYXBwZW5kQ2hpbGQoYyksZD1jKTtkLnN0eWxlLm1hcmdpblJpZ2h0PSIyMHB4Ijt0aGlzLnRvb2xiYXIuY29udGFpbmVyLmFwcGVuZENoaWxkKGEpO3RoaXMudG9vbGJhci5zdGF0aWNFbGVtZW50cy5wdXNoKGEpO2Euc3R5bGUucmlnaHQ9ImF0bGFzIiE9dWlUaGVtZT8iNTJweCI6IjQycHgifX07RWRpdG9yVWkucHJvdG90eXBlLnNob3dJbXBvcnRDc3ZEaWFsb2c9CmZ1bmN0aW9uKCl7bnVsbD09dGhpcy5pbXBvcnRDc3ZEaWFsb2cmJih0aGlzLmltcG9ydENzdkRpYWxvZz1uZXcgVGV4dGFyZWFEaWFsb2codGhpcyxteFJlc291cmNlcy5nZXQoImNzdiIpKyI6IixFZGl0b3IuZGVmYXVsdENzdlZhbHVlLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3RoaXMuaW1wb3J0Q3N2KGEpfSksbnVsbCxudWxsLDYyMCw0MzAsbnVsbCwhMCwhMCxteFJlc291cmNlcy5nZXQoImltcG9ydCIpLHRoaXMuaXNPZmZsaW5lKCk/bnVsbDoiaHR0cHM6Ly9kcmF3aW8tYXBwLmNvbS9pbXBvcnQtZnJvbS1jc3YtdG8tZHJhd2lvLyIpKTt0aGlzLnNob3dEaWFsb2codGhpcy5pbXBvcnRDc3ZEaWFsb2cuY29udGFpbmVyLDY0MCw1MjAsITAsITAsbnVsbCxudWxsLG51bGwsbnVsbCwhMCk7dGhpcy5pbXBvcnRDc3ZEaWFsb2cuaW5pdCgpfTtFZGl0b3JVaS5wcm90b3R5cGUuZXhlY3V0ZUxheW91dExpc3Q9ZnVuY3Rpb24oYSxjKXtmb3IodmFyIGI9dGhpcy5lZGl0b3IuZ3JhcGgsCmQ9Yi5nZXRTZWxlY3Rpb25DZWxscygpLGU9MDtlPGEubGVuZ3RoO2UrKyl7dmFyIGY9bmV3IHdpbmRvd1thW2VdLmxheW91dF0oYik7aWYobnVsbCE9YVtlXS5jb25maWcpZm9yKHZhciBrIGluIGFbZV0uY29uZmlnKWZba109YVtlXS5jb25maWdba107dGhpcy5leGVjdXRlTGF5b3V0KGZ1bmN0aW9uKCl7Zi5leGVjdXRlKGIuZ2V0RGVmYXVsdFBhcmVudCgpLDA9PWQubGVuZ3RoP251bGw6ZCl9LGU9PWEubGVuZ3RoLTEsYyl9fTtFZGl0b3JVaS5wcm90b3R5cGUuaW1wb3J0Q3N2PWZ1bmN0aW9uKGEsYyl7dHJ5e3ZhciBiPWEuc3BsaXQoIlxuIiksZD1bXSxlPVtdLGY9e307aWYoMDxiLmxlbmd0aCl7dmFyIGs9e30sbT1udWxsLHE9bnVsbCx4PW51bGwsQz1udWxsLEI9bnVsbCxEPW51bGwsej1udWxsLEU9bnVsbCxHPSIiLEY9ImF1dG8iLEg9ImF1dG8iLEo9bnVsbCx1PW51bGwsSz00MCxBPTQwLE09MTAwLFE9MCxJPXRoaXMuZWRpdG9yLmdyYXBoO0kuZ2V0R3JhcGhCb3VuZHMoKTsKZm9yKHZhciBSPWZ1bmN0aW9uKCl7bnVsbCE9Yz9jKG5hKTooSS5zZXRTZWxlY3Rpb25DZWxscyhuYSksSS5zY3JvbGxDZWxsVG9WaXNpYmxlKEkuZ2V0U2VsZWN0aW9uQ2VsbCgpKSl9LFo9SS5nZXRGcmVlSW5zZXJ0UG9pbnQoKSxXPVoueCxpYT1aLnksWj1pYSxiYT1udWxsLFU9ImF1dG8iLEU9bnVsbCxjYT1bXSxkYT1udWxsLGFhPW51bGwsVD0wO1Q8Yi5sZW5ndGgmJiIjIj09YltUXS5jaGFyQXQoMCk7KXthPWJbVF07Zm9yKFQrKztUPGIubGVuZ3RoJiYiXFwiPT1hLmNoYXJBdChhLmxlbmd0aC0xKSYmIiMiPT1iW1RdLmNoYXJBdCgwKTspYT1hLnN1YnN0cmluZygwLGEubGVuZ3RoLTEpK214VXRpbHMudHJpbShiW1RdLnN1YnN0cmluZygxKSksVCsrO2lmKCIjIiE9YS5jaGFyQXQoMSkpe3ZhciBZPWEuaW5kZXhPZigiOiIpO2lmKDA8WSl7dmFyIFA9bXhVdGlscy50cmltKGEuc3Vic3RyaW5nKDEsWSkpLEw9bXhVdGlscy50cmltKGEuc3Vic3RyaW5nKFkrMSkpOyJsYWJlbCI9PQpQP2JhPUkuc2FuaXRpemVIdG1sKEwpOiJsYWJlbG5hbWUiPT1QJiYwPEwubGVuZ3RoJiYiLSIhPUw/Qz1MOiJsYWJlbHMiPT1QJiYwPEwubGVuZ3RoJiYiLSIhPUw/Qj1KU09OLnBhcnNlKEwpOiJzdHlsZSI9PVA/bT1MOiJwYXJlbnRzdHlsZSI9PVA/RD1MOiJzdHlsZW5hbWUiPT1QJiYwPEwubGVuZ3RoJiYiLSIhPUw/eD1MOiJzdHlsZXMiPT1QJiYwPEwubGVuZ3RoJiYiLSIhPUw/cT1KU09OLnBhcnNlKEwpOiJpZGVudGl0eSI9PVAmJjA8TC5sZW5ndGgmJiItIiE9TD96PUw6InBhcmVudCI9PVAmJjA8TC5sZW5ndGgmJiItIiE9TD9FPUw6Im5hbWVzcGFjZSI9PVAmJjA8TC5sZW5ndGgmJiItIiE9TD9HPUw6IndpZHRoIj09UD9GPUw6ImhlaWdodCI9PVA/SD1MOiJsZWZ0Ij09UCYmMDxMLmxlbmd0aD9KPUw6InRvcCI9PVAmJjA8TC5sZW5ndGg/dT1MOiJpZ25vcmUiPT1QP2FhPUwuc3BsaXQoIiwiKToiY29ubmVjdCI9PVA/Y2EucHVzaChKU09OLnBhcnNlKEwpKToibGluayI9PVA/CmRhPUw6InBhZGRpbmciPT1QP1E9cGFyc2VGbG9hdChMKToiZWRnZXNwYWNpbmciPT1QP0s9cGFyc2VGbG9hdChMKToibm9kZXNwYWNpbmciPT1QP0E9cGFyc2VGbG9hdChMKToibGV2ZWxzcGFjaW5nIj09UD9NPXBhcnNlRmxvYXQoTCk6ImxheW91dCI9PVAmJihVPUwpfX19aWYobnVsbD09YltUXSl0aHJvdyBFcnJvcihteFJlc291cmNlcy5nZXQoImludmFsaWRPck1pc3NpbmdGaWxlIikpO2Zvcih2YXIgZWE9dGhpcy5lZGl0b3IuY3N2VG9BcnJheShiW1RdKSxQPVk9bnVsbCxMPVtdLE89MDtPPGVhLmxlbmd0aDtPKyspej09ZWFbT10mJihZPU8pLEU9PWVhW09dJiYoUD1PKSxMLnB1c2gobXhVdGlscy50cmltKGVhW09dKS5yZXBsYWNlKC9bXmEtejAtOV0rL2lnLCJfIikucmVwbGFjZSgvXlxkKy8sIiIpLnJlcGxhY2UoL18rJC8sIiIpKTtudWxsPT1iYSYmKGJhPSIlIitMWzBdKyIlIik7aWYobnVsbCE9Y2EpZm9yKHZhciBYPTA7WDxjYS5sZW5ndGg7WCsrKW51bGw9PWtbY2FbWF0udG9dJiYKKGtbY2FbWF0udG9dPXt9KTt6PVtdO2ZvcihPPVQrMTtPPGIubGVuZ3RoO08rKyl7dmFyIGdhPXRoaXMuZWRpdG9yLmNzdlRvQXJyYXkoYltPXSk7aWYobnVsbD09Z2Epe3ZhciB4YT00MDxiW09dLmxlbmd0aD9iW09dLnN1YnN0cmluZygwLDQwKSsiLi4uIjpiW09dO3Rocm93IEVycm9yKHhhKyIgKCIrTysiKTpcbiIrbXhSZXNvdXJjZXMuZ2V0KCJjb250YWluc1ZhbGlkYXRpb25FcnJvcnMiKSk7fTA8Z2EubGVuZ3RoJiZ6LnB1c2goZ2EpfUkubW9kZWwuYmVnaW5VcGRhdGUoKTt0cnl7Zm9yKE89MDtPPHoubGVuZ3RoO08rKyl7dmFyIGdhPXpbT10sTj1udWxsLGhhPW51bGwhPVk/RytnYVtZXTpudWxsO251bGwhPWhhJiYoTj1JLm1vZGVsLmdldENlbGwoaGEpKTt2YXIgYj1udWxsIT1OLFM9bmV3IG14Q2VsbChiYSxuZXcgbXhHZW9tZXRyeShXLFosMCwwKSxtfHwid2hpdGVTcGFjZT13cmFwO2h0bWw9MTsiKTtTLnZlcnRleD0hMDtTLmlkPWhhO2Zvcih2YXIgZmE9MDtmYTxnYS5sZW5ndGg7ZmErKylJLnNldEF0dHJpYnV0ZUZvckNlbGwoUywKTFtmYV0sZ2FbZmFdKTtpZihudWxsIT1DJiZudWxsIT1CKXt2YXIgcGE9QltTLmdldEF0dHJpYnV0ZShDKV07bnVsbCE9cGEmJkkubGFiZWxDaGFuZ2VkKFMscGEpfWlmKG51bGwhPXgmJm51bGwhPXEpe3ZhciByYT1xW1MuZ2V0QXR0cmlidXRlKHgpXTtudWxsIT1yYSYmKFMuc3R5bGU9cmEpfUkuc2V0QXR0cmlidXRlRm9yQ2VsbChTLCJwbGFjZWhvbGRlcnMiLCIxIik7Uy5zdHlsZT1JLnJlcGxhY2VQbGFjZWhvbGRlcnMoUyxTLnN0eWxlKTtiJiYoSS5tb2RlbC5zZXRHZW9tZXRyeShOLFMuZ2VvbWV0cnkpLEkubW9kZWwuc2V0U3R5bGUoTixTLnN0eWxlKSwwPm14VXRpbHMuaW5kZXhPZihlLE4pJiZlLnB1c2goTikpO049UztpZighYilmb3IoWD0wO1g8Y2EubGVuZ3RoO1grKylrW2NhW1hdLnRvXVtOLmdldEF0dHJpYnV0ZShjYVtYXS50byldPU47bnVsbCE9ZGEmJiJsaW5rIiE9ZGEmJihJLnNldExpbmtGb3JDZWxsKE4sTi5nZXRBdHRyaWJ1dGUoZGEpKSxJLnNldEF0dHJpYnV0ZUZvckNlbGwoTiwKZGEsbnVsbCkpO0kuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KCJjZWxsc0luc2VydGVkIiwiY2VsbHMiLFtOXSkpO3ZhciBsYT10aGlzLmVkaXRvci5ncmFwaC5nZXRQcmVmZXJyZWRTaXplRm9yQ2VsbChOKTtOLnZlcnRleCYmKG51bGwhPUomJm51bGwhPU4uZ2V0QXR0cmlidXRlKEopJiYoTi5nZW9tZXRyeS54PVcrcGFyc2VGbG9hdChOLmdldEF0dHJpYnV0ZShKKSkpLG51bGwhPXUmJm51bGwhPU4uZ2V0QXR0cmlidXRlKHUpJiYoTi5nZW9tZXRyeS55PWlhK3BhcnNlRmxvYXQoTi5nZXRBdHRyaWJ1dGUodSkpKSwiQCI9PUYuY2hhckF0KDApJiZudWxsIT1OLmdldEF0dHJpYnV0ZShGLnN1YnN0cmluZygxKSk/Ti5nZW9tZXRyeS53aWR0aD1wYXJzZUZsb2F0KE4uZ2V0QXR0cmlidXRlKEYuc3Vic3RyaW5nKDEpKSk6Ti5nZW9tZXRyeS53aWR0aD0iYXV0byI9PUY/bGEud2lkdGgrUTpwYXJzZUZsb2F0KEYpLCJAIj09SC5jaGFyQXQoMCkmJm51bGwhPU4uZ2V0QXR0cmlidXRlKEguc3Vic3RyaW5nKDEpKT8KTi5nZW9tZXRyeS5oZWlnaHQ9cGFyc2VGbG9hdChOLmdldEF0dHJpYnV0ZShILnN1YnN0cmluZygxKSkpOk4uZ2VvbWV0cnkuaGVpZ2h0PSJhdXRvIj09SD9sYS5oZWlnaHQrUTpwYXJzZUZsb2F0KEgpLForPU4uZ2VvbWV0cnkuaGVpZ2h0K0EpO2I/KG51bGw9PWZbaGFdJiYoZltoYV09W10pLGZbaGFdLnB1c2goTikpOihFPW51bGwhPVA/SS5tb2RlbC5nZXRDZWxsKEcrZ2FbUF0pOm51bGwsZC5wdXNoKE4pLG51bGwhPUU/KEUuc3R5bGU9SS5yZXBsYWNlUGxhY2Vob2xkZXJzKEUsRCksSS5hZGRDZWxsKE4sRSkpOmUucHVzaChJLmFkZENlbGwoTikpKX1mb3IodmFyIHFhPWUuc2xpY2UoKSxuYT1lLnNsaWNlKCksWD0wO1g8Y2EubGVuZ3RoO1grKylmb3IodmFyIEFhPWNhW1hdLE89MDtPPGQubGVuZ3RoO08rKyl7dmFyIE49ZFtPXSx5YT1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhLGIsYyl7dmFyIGQ9Yi5nZXRBdHRyaWJ1dGUoYy5mcm9tKTtpZihudWxsIT1kJiYoSS5zZXRBdHRyaWJ1dGVGb3JDZWxsKGIsCmMuZnJvbSxudWxsKSwiIiE9ZCkpZm9yKHZhciBkPWQuc3BsaXQoIiwiKSxlPTA7ZTxkLmxlbmd0aDtlKyspe3ZhciBmPWtbYy50b11bZFtlXV07aWYobnVsbCE9Zil7dmFyIGc9Yy5sYWJlbDtudWxsIT1jLmZyb21sYWJlbCYmKGc9KGIuZ2V0QXR0cmlidXRlKGMuZnJvbWxhYmVsKXx8IiIpKyhnfHwiIikpO251bGwhPWMudG9sYWJlbCYmKGc9KGd8fCIiKSsoZi5nZXRBdHRyaWJ1dGUoYy50b2xhYmVsKXx8IiIpKTt2YXIgbD0idGFyZ2V0Ij09Yy5wbGFjZWhvbGRlcnM9PSFjLmludmVydD9mOmEsbD1udWxsIT1jLnN0eWxlP0kucmVwbGFjZVBsYWNlaG9sZGVycyhsLGMuc3R5bGUpOkkuY3JlYXRlQ3VycmVudEVkZ2VTdHlsZSgpLGc9SS5pbnNlcnRFZGdlKG51bGwsbnVsbCxnfHwiIixjLmludmVydD9mOmEsYy5pbnZlcnQ/YTpmLGwpO2lmKG51bGwhPWMubGFiZWxzKWZvcihsPTA7bDxjLmxhYmVscy5sZW5ndGg7bCsrKXt2YXIgbT1jLmxhYmVsc1tsXSxuPW5ldyBteENlbGwobS5sYWJlbHx8CmwsbmV3IG14R2VvbWV0cnkobnVsbCE9bS54P20ueDowLG51bGwhPW0ueT9tLnk6MCwwLDApLCJyZXNpemFibGU9MDtodG1sPTE7Iik7bi52ZXJ0ZXg9ITA7bi5jb25uZWN0YWJsZT0hMTtuLmdlb21ldHJ5LnJlbGF0aXZlPSEwO2lmKG51bGwhPW0uZHh8fG51bGwhPW0uZHkpbi5nZW9tZXRyeS5vZmZzZXQ9bmV3IG14UG9pbnQobnVsbCE9bS5keD9tLmR4OjAsbnVsbCE9bS5keT9tLmR5OjApO2cuaW5zZXJ0KG4pfW5hLnB1c2goZyk7bXhVdGlscy5yZW1vdmUoYy5pbnZlcnQ/YTpmLHFhKX19fSk7eWEoTixOLEFhKTtpZihudWxsIT1mW04uaWRdKWZvcihmYT0wO2ZhPGZbTi5pZF0ubGVuZ3RoO2ZhKyspeWEoTixmW04uaWRdW2ZhXSxBYSl9aWYobnVsbCE9YWEpZm9yKE89MDtPPGQubGVuZ3RoO08rKylmb3IoTj1kW09dLGZhPTA7ZmE8YWEubGVuZ3RoO2ZhKyspSS5zZXRBdHRyaWJ1dGVGb3JDZWxsKE4sbXhVdGlscy50cmltKGFhW2ZhXSksbnVsbCk7aWYoMDxlLmxlbmd0aCl7dmFyIG9hPQpuZXcgbXhQYXJhbGxlbEVkZ2VMYXlvdXQoSSk7b2Euc3BhY2luZz1LO3ZhciBzYT1mdW5jdGlvbigpezA8b2Euc3BhY2luZyYmb2EuZXhlY3V0ZShJLmdldERlZmF1bHRQYXJlbnQoKSk7Zm9yKHZhciBhPTA7YTxlLmxlbmd0aDthKyspe3ZhciBiPUkuZ2V0Q2VsbEdlb21ldHJ5KGVbYV0pO2IueD1NYXRoLnJvdW5kKEkuc25hcChiLngpKTtiLnk9TWF0aC5yb3VuZChJLnNuYXAoYi55KSk7ImF1dG8iPT1GJiYoYi53aWR0aD1NYXRoLnJvdW5kKEkuc25hcChiLndpZHRoKSkpOyJhdXRvIj09SCYmKGIuaGVpZ2h0PU1hdGgucm91bmQoSS5zbmFwKGIuaGVpZ2h0KSkpfX07aWYoIlsiPT1VLmNoYXJBdCgwKSl7dmFyIHVhPVI7SS52aWV3LnZhbGlkYXRlKCk7dGhpcy5leGVjdXRlTGF5b3V0TGlzdChKU09OLnBhcnNlKFUpLGZ1bmN0aW9uKCl7c2EoKTt1YSgpfSk7Uj1udWxsfWVsc2UgaWYoImNpcmNsZSI9PVUpe3ZhciBqYT1uZXcgbXhDaXJjbGVMYXlvdXQoSSk7amEucmVzZXRFZGdlcz0KITE7dmFyIERhPWphLmlzVmVydGV4SWdub3JlZDtqYS5pc1ZlcnRleElnbm9yZWQ9ZnVuY3Rpb24oYSl7cmV0dXJuIERhLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8MD5teFV0aWxzLmluZGV4T2YoZSxhKX07dGhpcy5leGVjdXRlTGF5b3V0KGZ1bmN0aW9uKCl7amEuZXhlY3V0ZShJLmdldERlZmF1bHRQYXJlbnQoKSk7c2EoKX0sITAsUik7Uj1udWxsfWVsc2UgaWYoImhvcml6b250YWx0cmVlIj09VXx8InZlcnRpY2FsdHJlZSI9PVV8fCJhdXRvIj09VSYmbmEubGVuZ3RoPT0yKmUubGVuZ3RoLTEmJjE9PXFhLmxlbmd0aCl7SS52aWV3LnZhbGlkYXRlKCk7dmFyIHZhPW5ldyBteENvbXBhY3RUcmVlTGF5b3V0KEksImhvcml6b250YWx0cmVlIj09VSk7dmEubGV2ZWxEaXN0YW5jZT1BO3ZhLmVkZ2VSb3V0aW5nPSExO3ZhLnJlc2V0RWRnZXM9ITE7dGhpcy5leGVjdXRlTGF5b3V0KGZ1bmN0aW9uKCl7dmEuZXhlY3V0ZShJLmdldERlZmF1bHRQYXJlbnQoKSwwPHFhLmxlbmd0aD9xYVswXToKbnVsbCl9LCEwLFIpO1I9bnVsbH1lbHNlIGlmKCJob3Jpem9udGFsZmxvdyI9PVV8fCJ2ZXJ0aWNhbGZsb3ciPT1VfHwiYXV0byI9PVUmJjE9PXFhLmxlbmd0aCl7SS52aWV3LnZhbGlkYXRlKCk7dmFyIG1hPW5ldyBteEhpZXJhcmNoaWNhbExheW91dChJLCJob3Jpem9udGFsZmxvdyI9PVU/bXhDb25zdGFudHMuRElSRUNUSU9OX1dFU1Q6bXhDb25zdGFudHMuRElSRUNUSU9OX05PUlRIKTttYS5pbnRyYUNlbGxTcGFjaW5nPUE7bWEucGFyYWxsZWxFZGdlU3BhY2luZz1LO21hLmludGVyUmFua0NlbGxTcGFjaW5nPU07bWEuZGlzYWJsZUVkZ2VTdHlsZT0hMTt0aGlzLmV4ZWN1dGVMYXlvdXQoZnVuY3Rpb24oKXttYS5leGVjdXRlKEkuZ2V0RGVmYXVsdFBhcmVudCgpLG5hKTtJLm1vdmVDZWxscyhuYSxXLGlhKX0sITAsUik7Uj1udWxsfWVsc2UgaWYoIm9yZ2FuaWMiPT1VfHwiYXV0byI9PVUmJm5hLmxlbmd0aD5lLmxlbmd0aCl7SS52aWV3LnZhbGlkYXRlKCk7dmFyIHphPW5ldyBteEZhc3RPcmdhbmljTGF5b3V0KEkpOwp6YS5mb3JjZUNvbnN0YW50PTMqQTt6YS5yZXNldEVkZ2VzPSExO3ZhciBJYT16YS5pc1ZlcnRleElnbm9yZWQ7emEuaXNWZXJ0ZXhJZ25vcmVkPWZ1bmN0aW9uKGEpe3JldHVybiBJYS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fDA+bXhVdGlscy5pbmRleE9mKGUsYSl9O29hPW5ldyBteFBhcmFsbGVsRWRnZUxheW91dChJKTtvYS5zcGFjaW5nPUs7dGhpcy5leGVjdXRlTGF5b3V0KGZ1bmN0aW9uKCl7emEuZXhlY3V0ZShJLmdldERlZmF1bHRQYXJlbnQoKSk7c2EoKX0sITAsUik7Uj1udWxsfX10aGlzLmhpZGVEaWFsb2coKX1maW5hbGx5e0kubW9kZWwuZW5kVXBkYXRlKCl9bnVsbCE9UiYmUigpfX1jYXRjaChKYSl7dGhpcy5oYW5kbGVFcnJvcihKYSl9fTtFZGl0b3JVaS5wcm90b3R5cGUuZ2V0U2VhcmNoPWZ1bmN0aW9uKGEpe3ZhciBiPSIiO2lmKCIxIiE9dXJsUGFyYW1zLm9mZmxpbmUmJiIxIiE9dXJsUGFyYW1zLmRlbW8mJm51bGwhPWEmJjA8d2luZG93LmxvY2F0aW9uLnNlYXJjaC5sZW5ndGgpe3ZhciBjPQoiPyIsZDtmb3IoZCBpbiB1cmxQYXJhbXMpMD5teFV0aWxzLmluZGV4T2YoYSxkKSYmbnVsbCE9dXJsUGFyYW1zW2RdJiYoYis9YytkKyI9Iit1cmxQYXJhbXNbZF0sYz0iJiIpfWVsc2UgYj13aW5kb3cubG9jYXRpb24uc2VhcmNoO3JldHVybiBifTtFZGl0b3JVaS5wcm90b3R5cGUuZ2V0VXJsPWZ1bmN0aW9uKGEpe2E9bnVsbCE9YT9hOndpbmRvdy5sb2NhdGlvbi5wYXRobmFtZTt2YXIgYj0wPGEuaW5kZXhPZigiPyIpPzE6MDtpZigiMSI9PXVybFBhcmFtcy5vZmZsaW5lKWErPXdpbmRvdy5sb2NhdGlvbi5zZWFyY2g7ZWxzZXt2YXIgYz0idG1wIGxpYnMgY2xpYnMgc3RhdGUgZmlsZUlkIGNvZGUgc2hhcmUgbm90aXRsZSBkYXRhIHVybCBlbWJlZCBjbGllbnQgY3JlYXRlIHRpdGxlIHNwbGFzaCIuc3BsaXQoIiAiKSxkO2ZvcihkIGluIHVybFBhcmFtcykwPm14VXRpbHMuaW5kZXhPZihjLGQpJiYoYT0wPT1iP2ErIj8iOmErIiYiLG51bGwhPXVybFBhcmFtc1tkXSYmKGErPWQrIj0iKwp1cmxQYXJhbXNbZF0sYisrKSl9cmV0dXJuIGF9O0VkaXRvclVpLnByb3RvdHlwZS5zaG93TGlua0RpYWxvZz1mdW5jdGlvbihhLGMsZCl7YT1uZXcgTGlua0RpYWxvZyh0aGlzLGEsYyxkLCEwKTt0aGlzLnNob3dEaWFsb2coYS5jb250YWluZXIsNTYwLDEzMCwhMCwhMCk7YS5pbml0KCl9O3ZhciBrPUVkaXRvclVpLnByb3RvdHlwZS5jcmVhdGVPdXRsaW5lO0VkaXRvclVpLnByb3RvdHlwZS5jcmVhdGVPdXRsaW5lPWZ1bmN0aW9uKGEpe3ZhciBiPWsuYXBwbHkodGhpcyxhcmd1bWVudHMpLGM9dGhpcy5lZGl0b3IuZ3JhcGgsZD1iLmdldFNvdXJjZUdyYXBoQm91bmRzO2IuZ2V0U291cmNlR3JhcGhCb3VuZHM9ZnVuY3Rpb24oKXtpZihteFV0aWxzLmhhc1Njcm9sbGJhcnMoYy5jb250YWluZXIpJiZjLnBhZ2VWaXNpYmxlJiZudWxsIT10aGlzLnNvdXJjZS5taW5pbXVtR3JhcGhTaXplKXt2YXIgYT10aGlzLnNvdXJjZS5nZXRQYWdlUGFkZGluZygpLGI9dGhpcy5zb3VyY2Uudmlldy5zY2FsZTsKcmV0dXJuIG5ldyBteFJlY3RhbmdsZSgwLDAsTWF0aC5jZWlsKHRoaXMuc291cmNlLm1pbmltdW1HcmFwaFNpemUud2lkdGgtMiphLngvYiksTWF0aC5jZWlsKHRoaXMuc291cmNlLm1pbmltdW1HcmFwaFNpemUuaGVpZ2h0LTIqYS55L2IpKX1yZXR1cm4gZC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O3ZhciBmPWIuZ2V0U291cmNlQ29udGFpbmVyU2l6ZTtiLmdldFNvdXJjZUNvbnRhaW5lclNpemU9ZnVuY3Rpb24oKXtpZihteFV0aWxzLmhhc1Njcm9sbGJhcnMoYy5jb250YWluZXIpJiZudWxsIT10aGlzLnNvdXJjZS5taW5pbXVtR3JhcGhTaXplKXt2YXIgYT10aGlzLnNvdXJjZS5nZXRQYWdlUGFkZGluZygpLGI9dGhpcy5zb3VyY2Uudmlldy5zY2FsZTtyZXR1cm4gbmV3IG14UmVjdGFuZ2xlKDAsMCxNYXRoLmNlaWwodGhpcy5zb3VyY2UubWluaW11bUdyYXBoU2l6ZS53aWR0aCpiLTIqYS54KSxNYXRoLmNlaWwodGhpcy5zb3VyY2UubWluaW11bUdyYXBoU2l6ZS5oZWlnaHQqYi0yKgphLnkpKX1yZXR1cm4gZi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O2IuZ2V0T3V0bGluZU9mZnNldD1mdW5jdGlvbihhKXtpZihteFV0aWxzLmhhc1Njcm9sbGJhcnMoYy5jb250YWluZXIpJiZudWxsIT10aGlzLnNvdXJjZS5taW5pbXVtR3JhcGhTaXplKXt2YXIgZD10aGlzLnNvdXJjZS5nZXRQYWdlUGFkZGluZygpO3JldHVybiBuZXcgbXhQb2ludChNYXRoLnJvdW5kKE1hdGgubWF4KDAsKGIub3V0bGluZS5jb250YWluZXIuY2xpZW50V2lkdGgvYS0odGhpcy5zb3VyY2UubWluaW11bUdyYXBoU2l6ZS53aWR0aC0yKmQueCkpLzIpLWQueCksTWF0aC5yb3VuZChNYXRoLm1heCgwLChiLm91dGxpbmUuY29udGFpbmVyLmNsaWVudEhlaWdodC9hLSh0aGlzLnNvdXJjZS5taW5pbXVtR3JhcGhTaXplLmhlaWdodC0yKmQueSkpLzIpLWQueS01L2EpKX1yZXR1cm4gbmV3IG14UG9pbnQoOC9hLDgvYSl9O3ZhciBtPWIuaW5pdDtiLmluaXQ9ZnVuY3Rpb24oKXttLmFwcGx5KHRoaXMsYXJndW1lbnRzKTsKYi5vdXRsaW5lLnZpZXcuZ2V0QmFja2dyb3VuZFBhZ2VCb3VuZHM9ZnVuY3Rpb24oKXt2YXIgYT1jLmdldFBhZ2VMYXlvdXQoKSxiPWMuZ2V0UGFnZVNpemUoKTtyZXR1cm4gbmV3IG14UmVjdGFuZ2xlKHRoaXMuc2NhbGUqKHRoaXMudHJhbnNsYXRlLngrYS54KmIud2lkdGgpLHRoaXMuc2NhbGUqKHRoaXMudHJhbnNsYXRlLnkrYS55KmIuaGVpZ2h0KSx0aGlzLnNjYWxlKmEud2lkdGgqYi53aWR0aCx0aGlzLnNjYWxlKmEuaGVpZ2h0KmIuaGVpZ2h0KX07Yi5vdXRsaW5lLnZpZXcudmFsaWRhdGVCYWNrZ3JvdW5kUGFnZSgpfTt0aGlzLmVkaXRvci5hZGRMaXN0ZW5lcigicGFnZVNlbGVjdGVkIixmdW5jdGlvbihhLGMpe3ZhciBkPWMuZ2V0UHJvcGVydHkoImNoYW5nZSIpLGU9Yi5zb3VyY2UsZj1iLm91dGxpbmU7Zi5wYWdlU2NhbGU9ZS5wYWdlU2NhbGU7Zi5wYWdlRm9ybWF0PWUucGFnZUZvcm1hdDtmLmJhY2tncm91bmQ9ZS5iYWNrZ3JvdW5kO2YucGFnZVZpc2libGU9ZS5wYWdlVmlzaWJsZTsKZi5iYWNrZ3JvdW5kPWUuYmFja2dyb3VuZDt2YXIgZz1teFV0aWxzLmdldEN1cnJlbnRTdHlsZShlLmNvbnRhaW5lcik7Zi5jb250YWluZXIuc3R5bGUuYmFja2dyb3VuZENvbG9yPWcuYmFja2dyb3VuZENvbG9yO251bGwhPWUudmlldy5iYWNrZ3JvdW5kUGFnZVNoYXBlJiZudWxsIT1mLnZpZXcuYmFja2dyb3VuZFBhZ2VTaGFwZSYmKGYudmlldy5iYWNrZ3JvdW5kUGFnZVNoYXBlLmZpbGw9ZS52aWV3LmJhY2tncm91bmRQYWdlU2hhcGUuZmlsbCk7Yi5vdXRsaW5lLnZpZXcuY2xlYXIoZC5wcmV2aW91c1BhZ2Uucm9vdCwhMCk7Yi5vdXRsaW5lLnZpZXcudmFsaWRhdGUoKX0pO3JldHVybiBifTtFZGl0b3JVaS5wcm90b3R5cGUuZ2V0U2VydmljZUNvdW50PWZ1bmN0aW9uKGEsYyl7dmFyIGI9MTtudWxsPT10aGlzLmRyaXZlJiYiZnVuY3Rpb24iIT09dHlwZW9mIHdpbmRvdy5Ecml2ZUNsaWVudHx8YisrO2N8fG51bGw9PXRoaXMuZHJvcGJveCYmImZ1bmN0aW9uIiE9PXR5cGVvZiB3aW5kb3cuRHJvcGJveENsaWVudHx8CmIrKztudWxsPT10aGlzLm9uZURyaXZlJiYiZnVuY3Rpb24iIT09dHlwZW9mIHdpbmRvdy5PbmVEcml2ZUNsaWVudHx8YisrO2N8fG51bGw9PXRoaXMuZ2l0SHVifHxiKys7Y3x8bnVsbD09dGhpcy5naXRMYWJ8fGIrKztjJiZhJiZpc0xvY2FsU3RvcmFnZSYmIjEiPT11cmxQYXJhbXMuYnJvd3NlciYmYisrO3JldHVybiBifTtFZGl0b3JVaS5wcm90b3R5cGUudXBkYXRlVWk9ZnVuY3Rpb24oKXt0aGlzLnVwZGF0ZUJ1dHRvbkNvbnRhaW5lcigpO3RoaXMudXBkYXRlQWN0aW9uU3RhdGVzKCk7dmFyIGE9dGhpcy5nZXRDdXJyZW50RmlsZSgpLGM9bnVsbCE9YXx8IjEiPT11cmxQYXJhbXMuZW1iZWQmJnRoaXMuZWRpdG9yLmdyYXBoLmlzRW5hYmxlZCgpO3RoaXMubWVudXMuZ2V0KCJ2aWV3UGFuZWxzIikuc2V0RW5hYmxlZChjKTt0aGlzLm1lbnVzLmdldCgidmlld1pvb20iKS5zZXRFbmFibGVkKGMpO3ZhciBkPSgiMSIhPXVybFBhcmFtcy5lbWJlZHx8IXRoaXMuZWRpdG9yLmdyYXBoLmlzRW5hYmxlZCgpKSYmCihudWxsPT1hfHxhLmlzUmVzdHJpY3RlZCgpKTt0aGlzLmFjdGlvbnMuZ2V0KCJtYWtlQ29weSIpLnNldEVuYWJsZWQoIWQpO3RoaXMuYWN0aW9ucy5nZXQoInByaW50Iikuc2V0RW5hYmxlZCghZCk7dGhpcy5tZW51cy5nZXQoImV4cG9ydEFzIikuc2V0RW5hYmxlZCghZCk7dGhpcy5tZW51cy5nZXQoImVtYmVkIikuc2V0RW5hYmxlZCghZCk7ZD0iMSIhPXVybFBhcmFtcy5lbWJlZHx8dGhpcy5lZGl0b3IuZ3JhcGguaXNFbmFibGVkKCk7dGhpcy5tZW51cy5nZXQoImV4dHJhcyIpLnNldEVuYWJsZWQoZCk7RWRpdG9yLmVuYWJsZUN1c3RvbUxpYnJhcmllcyYmKHRoaXMubWVudXMuZ2V0KCJvcGVuTGlicmFyeUZyb20iKS5zZXRFbmFibGVkKGQpLHRoaXMubWVudXMuZ2V0KCJuZXdMaWJyYXJ5Iikuc2V0RW5hYmxlZChkKSk7YT0iMSI9PXVybFBhcmFtcy5lbWJlZCYmdGhpcy5lZGl0b3IuZ3JhcGguaXNFbmFibGVkKCl8fG51bGwhPWEmJmEuaXNFZGl0YWJsZSgpO3RoaXMuYWN0aW9ucy5nZXQoImltYWdlIikuc2V0RW5hYmxlZChjKTsKdGhpcy5hY3Rpb25zLmdldCgiem9vbUluIikuc2V0RW5hYmxlZChjKTt0aGlzLmFjdGlvbnMuZ2V0KCJ6b29tT3V0Iikuc2V0RW5hYmxlZChjKTt0aGlzLmFjdGlvbnMuZ2V0KCJyZXNldFZpZXciKS5zZXRFbmFibGVkKGMpO3RoaXMuYWN0aW9ucy5nZXQoInVuZG8iKS5zZXRFbmFibGVkKHRoaXMuY2FuVW5kbygpJiZhKTt0aGlzLmFjdGlvbnMuZ2V0KCJyZWRvIikuc2V0RW5hYmxlZCh0aGlzLmNhblJlZG8oKSYmYSk7dGhpcy5tZW51cy5nZXQoImVkaXQiKS5zZXRFbmFibGVkKGMpO3RoaXMubWVudXMuZ2V0KCJ2aWV3Iikuc2V0RW5hYmxlZChjKTt0aGlzLm1lbnVzLmdldCgiaW1wb3J0RnJvbSIpLnNldEVuYWJsZWQoYSk7dGhpcy5tZW51cy5nZXQoImFycmFuZ2UiKS5zZXRFbmFibGVkKGEpO251bGwhPXRoaXMudG9vbGJhciYmKG51bGwhPXRoaXMudG9vbGJhci5lZGdlU2hhcGVNZW51JiZ0aGlzLnRvb2xiYXIuZWRnZVNoYXBlTWVudS5zZXRFbmFibGVkKGEpLG51bGwhPXRoaXMudG9vbGJhci5lZGdlU3R5bGVNZW51JiYKdGhpcy50b29sYmFyLmVkZ2VTdHlsZU1lbnUuc2V0RW5hYmxlZChhKSk7dGhpcy51cGRhdGVVc2VyRWxlbWVudCgpfTtFZGl0b3JVaS5wcm90b3R5cGUudXBkYXRlQnV0dG9uQ29udGFpbmVyPWZ1bmN0aW9uKCl7fTtFZGl0b3JVaS5wcm90b3R5cGUudXBkYXRlVXNlckVsZW1lbnQ9ZnVuY3Rpb24oKXt9O0VkaXRvclVpLnByb3RvdHlwZS5zY2hlZHVsZVNhbml0eUNoZWNrPWZ1bmN0aW9uKCl7fTtFZGl0b3JVaS5wcm90b3R5cGUuc3RvcFNhbml0eUNoZWNrPWZ1bmN0aW9uKCl7fTtFZGl0b3JVaS5wcm90b3R5cGUuaXNEaWFncmFtQWN0aXZlPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXRDdXJyZW50RmlsZSgpO3JldHVybiBudWxsIT1hJiZhLmlzRWRpdGFibGUoKXx8IjEiPT11cmxQYXJhbXMuZW1iZWQmJnRoaXMuZWRpdG9yLmdyYXBoLmlzRW5hYmxlZCgpfTt2YXIgbT1FZGl0b3JVaS5wcm90b3R5cGUudXBkYXRlQWN0aW9uU3RhdGVzO0VkaXRvclVpLnByb3RvdHlwZS51cGRhdGVBY3Rpb25TdGF0ZXM9CmZ1bmN0aW9uKCl7bS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dmFyIGE9dGhpcy5lZGl0b3IuZ3JhcGgsYz10aGlzLmlzRGlhZ3JhbUFjdGl2ZSgpLGQ9dGhpcy5nZXRDdXJyZW50RmlsZSgpO3RoaXMuYWN0aW9ucy5nZXQoInBhZ2VTZXR1cCIpLnNldEVuYWJsZWQoYyk7dGhpcy5hY3Rpb25zLmdldCgiYXV0b3NhdmUiKS5zZXRFbmFibGVkKG51bGwhPWQmJmQuaXNFZGl0YWJsZSgpJiZkLmlzQXV0b3NhdmVPcHRpb25hbCgpKTt0aGlzLmFjdGlvbnMuZ2V0KCJndWlkZXMiKS5zZXRFbmFibGVkKGMpO3RoaXMuYWN0aW9ucy5nZXQoImVkaXREYXRhIikuc2V0RW5hYmxlZChjKTt0aGlzLmFjdGlvbnMuZ2V0KCJzaGFkb3dWaXNpYmxlIikuc2V0RW5hYmxlZChjKTt0aGlzLmFjdGlvbnMuZ2V0KCJjb25uZWN0aW9uQXJyb3dzIikuc2V0RW5hYmxlZChjKTt0aGlzLmFjdGlvbnMuZ2V0KCJjb25uZWN0aW9uUG9pbnRzIikuc2V0RW5hYmxlZChjKTt0aGlzLmFjdGlvbnMuZ2V0KCJjb3B5U3R5bGUiKS5zZXRFbmFibGVkKGMmJgohYS5pc1NlbGVjdGlvbkVtcHR5KCkpO3RoaXMuYWN0aW9ucy5nZXQoInBhc3RlU3R5bGUiKS5zZXRFbmFibGVkKGMmJiFhLmlzU2VsZWN0aW9uRW1wdHkoKSk7dGhpcy5hY3Rpb25zLmdldCgiZWRpdEdlb21ldHJ5Iikuc2V0RW5hYmxlZChhLmdldE1vZGVsKCkuaXNWZXJ0ZXgoYS5nZXRTZWxlY3Rpb25DZWxsKCkpKTt0aGlzLmFjdGlvbnMuZ2V0KCJjcmVhdGVTaGFwZSIpLnNldEVuYWJsZWQoYyk7dGhpcy5hY3Rpb25zLmdldCgiY3JlYXRlUmV2aXNpb24iKS5zZXRFbmFibGVkKGMpO3RoaXMuYWN0aW9ucy5nZXQoIm1vdmVUb0ZvbGRlciIpLnNldEVuYWJsZWQobnVsbCE9ZCk7dGhpcy5hY3Rpb25zLmdldCgibWFrZUNvcHkiKS5zZXRFbmFibGVkKG51bGwhPWQmJiFkLmlzUmVzdHJpY3RlZCgpKTt0aGlzLmFjdGlvbnMuZ2V0KCJlZGl0RGlhZ3JhbSIpLnNldEVuYWJsZWQoYyYmKG51bGw9PWR8fCFkLmlzUmVzdHJpY3RlZCgpKSk7dGhpcy5hY3Rpb25zLmdldCgicHVibGlzaExpbmsiKS5zZXRFbmFibGVkKG51bGwhPQpkJiYhZC5pc1Jlc3RyaWN0ZWQoKSk7dGhpcy5hY3Rpb25zLmdldCgidGFncyIpLnNldEVuYWJsZWQoImhpZGRlbiIhPXRoaXMuZGlhZ3JhbUNvbnRhaW5lci5zdHlsZS52aXNpYmlsaXR5KTt0aGlzLmFjdGlvbnMuZ2V0KCJmaW5kIikuc2V0RW5hYmxlZCgiaGlkZGVuIiE9dGhpcy5kaWFncmFtQ29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHkpO3RoaXMuYWN0aW9ucy5nZXQoImxheWVycyIpLnNldEVuYWJsZWQoImhpZGRlbiIhPXRoaXMuZGlhZ3JhbUNvbnRhaW5lci5zdHlsZS52aXNpYmlsaXR5KTt0aGlzLmFjdGlvbnMuZ2V0KCJvdXRsaW5lIikuc2V0RW5hYmxlZCgiaGlkZGVuIiE9dGhpcy5kaWFncmFtQ29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHkpO3RoaXMuYWN0aW9ucy5nZXQoInJlbmFtZSIpLnNldEVuYWJsZWQobnVsbCE9ZCYmZC5pc1JlbmFtYWJsZSgpfHwiMSI9PXVybFBhcmFtcy5lbWJlZCk7dGhpcy5hY3Rpb25zLmdldCgiY2xvc2UiKS5zZXRFbmFibGVkKG51bGwhPWQpOwp0aGlzLm1lbnVzLmdldCgicHVibGlzaCIpLnNldEVuYWJsZWQobnVsbCE9ZCYmIWQuaXNSZXN0cmljdGVkKCkpO2E9YS52aWV3LmdldFN0YXRlKGEuZ2V0U2VsZWN0aW9uQ2VsbCgpKTt0aGlzLmFjdGlvbnMuZ2V0KCJlZGl0U2hhcGUiKS5zZXRFbmFibGVkKGMmJm51bGwhPWEmJm51bGwhPWEuc2hhcGUmJm51bGwhPWEuc2hhcGUuc3RlbmNpbCl9O3ZhciBxPUVkaXRvclVpLnByb3RvdHlwZS5kZXN0cm95O0VkaXRvclVpLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7bnVsbCE9dGhpcy5leHBvcnREaWFsb2cmJih0aGlzLmV4cG9ydERpYWxvZy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuZXhwb3J0RGlhbG9nKSx0aGlzLmV4cG9ydERpYWxvZz1udWxsKTtxLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07bnVsbCE9d2luZG93LkV4cG9ydERpYWxvZyYmKEV4cG9ydERpYWxvZy5zaG93WG1sT3B0aW9uPSExLEV4cG9ydERpYWxvZy5zaG93R2lmT3B0aW9uPSExLEV4cG9ydERpYWxvZy5leHBvcnRGaWxlPQpmdW5jdGlvbihhLGMsZCxmLGssbSxxKXt2YXIgYj1hLmVkaXRvci5ncmFwaDtpZigieG1sIj09ZClhLmhpZGVEaWFsb2coKSxhLnNhdmVEYXRhKGMsInhtbCIsbXhVdGlscy5nZXRYbWwoYS5lZGl0b3IuZ2V0R3JhcGhYbWwoKSksInRleHQveG1sIik7ZWxzZSBpZigic3ZnIj09ZClhLmhpZGVEaWFsb2coKSxhLnNhdmVEYXRhKGMsInN2ZyIsbXhVdGlscy5nZXRYbWwoYi5nZXRTdmcoZixrLG0pKSwiaW1hZ2Uvc3ZnK3htbCIpO2Vsc2V7dmFyIGU9YS5nZXRGaWxlRGF0YSghMCxudWxsLG51bGwsbnVsbCxudWxsLCEwKSxnPWIuZ2V0R3JhcGhCb3VuZHMoKSxsPU1hdGguZmxvb3IoZy53aWR0aCprL2Iudmlldy5zY2FsZSksbj1NYXRoLmZsb29yKGcuaGVpZ2h0KmsvYi52aWV3LnNjYWxlKTtpZihlLmxlbmd0aDw9TUFYX1JFUVVFU1RfU0laRSYmbCpuPE1BWF9BUkVBKWlmKGEuaGlkZURpYWxvZygpLCJwbmciIT1kJiYianBnIiE9ZCYmImpwZWciIT1kfHwhYS5pc0V4cG9ydFRvQ2FudmFzKCkpe3ZhciBwPQp7Z2xvYmFsVmFyczpiLmdldEV4cG9ydFZhcmlhYmxlcygpfTthLnNhdmVSZXF1ZXN0KGMsZCxmdW5jdGlvbihhLGIpe3JldHVybiBuZXcgbXhYbWxSZXF1ZXN0KEVYUE9SVF9VUkwsImZvcm1hdD0iK2QrIiZiYXNlNjQ9IisoYnx8IjAiKSsobnVsbCE9YT8iJmZpbGVuYW1lPSIrZW5jb2RlVVJJQ29tcG9uZW50KGEpOiIiKSsiJmV4dHJhcz0iK2VuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShwKSkrKDA8cT8iJmRwaT0iK3E6IiIpKyImYmc9IisobnVsbCE9Zj9mOiJub25lIikrIiZ3PSIrbCsiJmg9IituKyImYm9yZGVyPSIrbSsiJnhtbD0iK2VuY29kZVVSSUNvbXBvbmVudChlKSl9KX1lbHNlInBuZyI9PWQ/YS5leHBvcnRJbWFnZShrLG51bGw9PWZ8fCJub25lIj09ZiwhMCwhMSwhMSxtLCEwLCExLG51bGwsbnVsbCxxKTphLmV4cG9ydEltYWdlKGssITEsITAsITEsITEsbSwhMCwhMSwianBlZyIpO2Vsc2UgbXhVdGlscy5hbGVydChteFJlc291cmNlcy5nZXQoImRyYXdpbmdUb29MYXJnZSIpKX19KTsKRWRpdG9yVWkucHJvdG90eXBlLmdldERpYWdyYW1UZXh0Q29udGVudD1mdW5jdGlvbigpe3RoaXMuZWRpdG9yLmdyYXBoLnNldEVuYWJsZWQoITEpO3ZhciBhPXRoaXMuZWRpdG9yLmdyYXBoLGM9IiI7aWYobnVsbCE9dGhpcy5wYWdlcylmb3IodmFyIGQ9MDtkPHRoaXMucGFnZXMubGVuZ3RoO2QrKyl7dmFyIGY9YTt0aGlzLmN1cnJlbnRQYWdlIT10aGlzLnBhZ2VzW2RdJiYoZj10aGlzLmNyZWF0ZVRlbXBvcmFyeUdyYXBoKGEuZ2V0U3R5bGVzaGVldCgpKSx0aGlzLnVwZGF0ZVBhZ2VSb290KHRoaXMucGFnZXNbZF0pLGYubW9kZWwuc2V0Um9vdCh0aGlzLnBhZ2VzW2RdLnJvb3QpKTtjKz10aGlzLnBhZ2VzW2RdLmdldE5hbWUoKSsiICIrZi5nZXRJbmRleGFibGVUZXh0KCkrIiAifWVsc2UgYz1hLmdldEluZGV4YWJsZVRleHQoKTt0aGlzLmVkaXRvci5ncmFwaC5zZXRFbmFibGVkKCEwKTtyZXR1cm4gY307RWRpdG9yVWkucHJvdG90eXBlLnNob3dSZW1vdGVseVN0b3JlZExpYnJhcnk9CmZ1bmN0aW9uKGEpe3ZhciBiPXt9LGM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7Yy5zdHlsZS53aGl0ZVNwYWNlPSJub3dyYXAiO3ZhciBkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImgzIik7bXhVdGlscy53cml0ZShkLG14VXRpbHMuaHRtbEVudGl0aWVzKGEpKTtkLnN0eWxlLmNzc1RleHQ9IndpZHRoOjEwMCU7dGV4dC1hbGlnbjpjZW50ZXI7bWFyZ2luLXRvcDowcHg7bWFyZ2luLWJvdHRvbToxMnB4IjtjLmFwcGVuZENoaWxkKGQpO3ZhciBmPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2Yuc3R5bGUuY3NzVGV4dD0iYm9yZGVyOjFweCBzb2xpZCBsaWdodEdyYXk7b3ZlcmZsb3c6IGF1dG87aGVpZ2h0OjMwMHB4IjtmLmlubmVySFRNTD0nPGRpdiBzdHlsZT0idGV4dC1hbGlnbjpjZW50ZXI7cGFkZGluZzo4cHg7Ij48aW1nIHNyYz0iL2ltYWdlcy9zcGluLmdpZiI+PC9kaXY+Jzt2YXIgaz17fTt0cnl7dmFyIG09bXhTZXR0aW5ncy5nZXRDdXN0b21MaWJyYXJpZXMoKTsKZm9yKGE9MDthPG0ubGVuZ3RoO2ErKyl7dmFyIHE9bVthXTtpZigiUiI9PXEuc3Vic3RyaW5nKDAsMSkpe3ZhciB5PUpTT04ucGFyc2UoZGVjb2RlVVJJQ29tcG9uZW50KHEuc3Vic3RyaW5nKDEpKSk7a1t5WzBdXT17aWQ6eVswXSx0aXRsZTp5WzFdLGRvd25sb2FkVXJsOnlbMl19fX19Y2F0Y2goeCl7fXRoaXMucmVtb3RlSW52b2tlKCJnZXRDdXN0b21MaWJyYXJpZXMiLG51bGwsbnVsbCxmdW5jdGlvbihhKXtmLmlubmVySFRNTD0iIjtpZigwPT1hLmxlbmd0aClmLmlubmVySFRNTD0nPGRpdiBzdHlsZT0idGV4dC1hbGlnbjpjZW50ZXI7cGFkZGluZy10b3A6MjBweDtjb2xvcjpncmF5OyI+JytteFV0aWxzLmh0bWxFbnRpdGllcyhteFJlc291cmNlcy5nZXQoIm5vTGlicmFyaWVzIikpKyI8L2Rpdj4iO2Vsc2UgZm9yKHZhciBjPTA7YzxhLmxlbmd0aDtjKyspe3ZhciBkPWFbY107a1tkLmlkXSYmKGJbZC5pZF09ZCk7dmFyIGU9dGhpcy5hZGRDaGVja2JveChmLGQudGl0bGUsa1tkLmlkXSk7CihmdW5jdGlvbihhLGMpe214RXZlbnQuYWRkTGlzdGVuZXIoYywiY2hhbmdlIixmdW5jdGlvbigpe3RoaXMuY2hlY2tlZD9iW2EuaWRdPWE6ZGVsZXRlIGJbYS5pZF19KX0pKGQsZSl9fSxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXtmLmlubmVySFRNTD0iIjt2YXIgYj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtiLnN0eWxlLnBhZGRpbmc9IjhweCI7Yi5zdHlsZS50ZXh0QWxpZ249ImNlbnRlciI7bXhVdGlscy53cml0ZShiLG14UmVzb3VyY2VzLmdldCgiZXJyb3IiKSsiOiAiKTtteFV0aWxzLndyaXRlKGIsbnVsbCE9YSYmbnVsbCE9YS5tZXNzYWdlP2EubWVzc2FnZTpteFJlc291cmNlcy5nZXQoInVua25vd25FcnJvciIpKTtmLmFwcGVuZENoaWxkKGIpfSkpO2MuYXBwZW5kQ2hpbGQoZik7Yz1uZXcgQ3VzdG9tRGlhbG9nKHRoaXMsYyxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMuc3Bpbm5lci5zcGluKGRvY3VtZW50LmJvZHksbXhSZXNvdXJjZXMuZ2V0KCJsb2FkaW5nIikpOwp2YXIgYT0wLGM7Zm9yKGMgaW4gYiludWxsPT1rW2NdJiYoYSsrLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGIpe3RoaXMucmVtb3RlSW52b2tlKCJnZXRGaWxlQ29udGVudCIsW2IuZG93bmxvYWRVcmxdLG51bGwsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYyl7YS0tOzA9PWEmJnRoaXMuc3Bpbm5lci5zdG9wKCk7dHJ5e3RoaXMubG9hZExpYnJhcnkobmV3IFJlbW90ZUxpYnJhcnkodGhpcyxjLGIpKX1jYXRjaCh6KXt0aGlzLmhhbmRsZUVycm9yKHosbXhSZXNvdXJjZXMuZ2V0KCJlcnJvckxvYWRpbmdGaWxlIikpfX0pLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7YS0tOzA9PWEmJnRoaXMuc3Bpbm5lci5zdG9wKCk7dGhpcy5oYW5kbGVFcnJvcihudWxsLG14UmVzb3VyY2VzLmdldCgiZXJyb3JMb2FkaW5nRmlsZSIpKX0pKX0pKGJbY10pKTtmb3IoYyBpbiBrKWJbY118fHRoaXMuY2xvc2VMaWJyYXJ5KG5ldyBSZW1vdGVMaWJyYXJ5KHRoaXMsbnVsbCxrW2NdKSk7CjA9PWEmJnRoaXMuc3Bpbm5lci5zdG9wKCl9KSxudWxsLG51bGwsImh0dHBzOi8vZGVzay5kcmF3LmlvL3N1cHBvcnQvc29sdXRpb25zL2FydGljbGVzLzE2MDAwMDkyNzYzIik7dGhpcy5zaG93RGlhbG9nKGMuY29udGFpbmVyLDM0MCwzNzUsITAsITAsbnVsbCxudWxsLG51bGwsbnVsbCwhMCl9O0VkaXRvclVpLnByb3RvdHlwZS5yZW1vdGVJbnZva2FibGVGbnM9e2dldERpYWdyYW1UZXh0Q29udGVudDp7aXNBc3luYzohMX0sZ2V0TG9jYWxTdG9yYWdlRmlsZTp7aXNBc3luYzohMSxhbGxvd2VkRG9tYWluczpbImFwcC5kaWFncmFtcy5uZXQiXX0sZ2V0TG9jYWxTdG9yYWdlRmlsZU5hbWVzOntpc0FzeW5jOiExLGFsbG93ZWREb21haW5zOlsiYXBwLmRpYWdyYW1zLm5ldCJdfSxzZXRNaWdyYXRlZEZsYWc6e2lzQXN5bmM6ITEsYWxsb3dlZERvbWFpbnM6WyJhcHAuZGlhZ3JhbXMubmV0Il19fTtFZGl0b3JVaS5wcm90b3R5cGUucmVtb3RlSW52b2tlQ2FsbGJhY2tzPVtdO0VkaXRvclVpLnByb3RvdHlwZS5yZW1vdGVJbnZva2VRdWV1ZT0KW107RWRpdG9yVWkucHJvdG90eXBlLmhhbmRsZVJlbW90ZUludm9rZVJlYWR5PWZ1bmN0aW9uKGEpe3RoaXMucmVtb3RlV2luPWE7Zm9yKHZhciBiPTA7Yjx0aGlzLnJlbW90ZUludm9rZVF1ZXVlLmxlbmd0aDtiKyspYS5wb3N0TWVzc2FnZSh0aGlzLnJlbW90ZUludm9rZVF1ZXVlW2JdLCIqIik7dGhpcy5yZW1vdGVJbnZva2VRdWV1ZT1bXX07RWRpdG9yVWkucHJvdG90eXBlLmhhbmRsZVJlbW90ZUludm9rZVJlc3BvbnNlPWZ1bmN0aW9uKGEpe3ZhciBiPWEubXNnTWFya2VycyxjPXRoaXMucmVtb3RlSW52b2tlQ2FsbGJhY2tzW2IuY2FsbGJhY2tJZF07aWYobnVsbD09Yyl0aHJvdyBFcnJvcigiTm8gY2FsbGJhY2sgZm9yICIrKG51bGwhPWI/Yi5jYWxsYmFja0lkOiJudWxsIikpO2EuZXJyb3I/Yy5lcnJvciYmYy5lcnJvcihhLmVycm9yLmVyclJlc3ApOmMuY2FsbGJhY2smJmMuY2FsbGJhY2suYXBwbHkodGhpcyxhLnJlc3ApO3RoaXMucmVtb3RlSW52b2tlQ2FsbGJhY2tzW2IuY2FsbGJhY2tJZF09Cm51bGx9O0VkaXRvclVpLnByb3RvdHlwZS5yZW1vdGVJbnZva2U9ZnVuY3Rpb24oYSxjLGQsZixrKXt2YXIgYj0hMCxlPXdpbmRvdy5zZXRUaW1lb3V0KG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7Yj0hMTtrKHtjb2RlOkFwcC5FUlJPUl9USU1FT1VULG1lc3NhZ2U6bXhSZXNvdXJjZXMuZ2V0KCJ0aW1lb3V0Iil9KX0pLHRoaXMudGltZW91dCksZz1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3dpbmRvdy5jbGVhclRpbWVvdXQoZSk7YiYmZi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KTtkPWR8fHt9O2QuY2FsbGJhY2tJZD10aGlzLnJlbW90ZUludm9rZUNhbGxiYWNrcy5sZW5ndGg7dGhpcy5yZW1vdGVJbnZva2VDYWxsYmFja3MucHVzaCh7Y2FsbGJhY2s6ZyxlcnJvcjprfSk7YT1KU09OLnN0cmluZ2lmeSh7ZXZlbnQ6InJlbW90ZUludm9rZSIsZnVudGlvbk5hbWU6YSxmdW5jdGlvbkFyZ3M6Yyxtc2dNYXJrZXJzOmR9KTtudWxsIT10aGlzLnJlbW90ZVdpbj90aGlzLnJlbW90ZVdpbi5wb3N0TWVzc2FnZShhLAoiKiIpOnRoaXMucmVtb3RlSW52b2tlUXVldWUucHVzaChhKX07RWRpdG9yVWkucHJvdG90eXBlLmhhbmRsZVJlbW90ZUludm9rZT1mdW5jdGlvbihhLGMpe3ZhciBiPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGIsYyl7dmFyIGQ9e2V2ZW50OiJyZW1vdGVJbnZva2VSZXNwb25zZSIsbXNnTWFya2VyczphLm1zZ01hcmtlcnN9O251bGwhPWM/ZC5lcnJvcj17ZXJyUmVzcDpjfTpudWxsIT1iJiYoZC5yZXNwPWIpO3RoaXMucmVtb3RlV2luLnBvc3RNZXNzYWdlKEpTT04uc3RyaW5naWZ5KGQpLCIqIil9KTt0cnl7dmFyIGQ9YS5mdW50aW9uTmFtZSxlPXRoaXMucmVtb3RlSW52b2thYmxlRm5zW2RdO2lmKG51bGwhPWUmJiJmdW5jdGlvbiI9PT10eXBlb2YgdGhpc1tkXSl7aWYoZS5hbGxvd2VkRG9tYWlucyl7Zm9yKHZhciBmPSExLGs9MDtrPGUuYWxsb3dlZERvbWFpbnMubGVuZ3RoO2srKylpZihjPT0iaHR0cHM6Ly8iK2UuYWxsb3dlZERvbWFpbnNba10pe2Y9ITA7YnJlYWt9aWYoIWYpe2IobnVsbCwKIkludmFsaWQgQ2FsbDogIitkKyIgaXMgbm90IGFsbG93ZWQuIik7cmV0dXJufX12YXIgbT1hLmZ1bmN0aW9uQXJncztBcnJheS5pc0FycmF5KG0pfHwobT1bXSk7aWYoZS5pc0FzeW5jKW0ucHVzaChmdW5jdGlvbigpe2IoQXJyYXkucHJvdG90eXBlLnNsaWNlLmFwcGx5KGFyZ3VtZW50cykpfSksbS5wdXNoKGZ1bmN0aW9uKGEpe2IobnVsbCxhfHwiVW5rb3duIEVycm9yIil9KSx0aGlzW2RdLmFwcGx5KHRoaXMsbSk7ZWxzZXt2YXIgcT10aGlzW2RdLmFwcGx5KHRoaXMsbSk7YihbcV0pfX1lbHNlIGIobnVsbCwiSW52YWxpZCBDYWxsOiAiK2QrIiBpcyBub3QgZm91bmQuIil9Y2F0Y2goeCl7YihudWxsLCJJbnZhbGlkIENhbGw6IEFuIGVycm9yIG9jY3VyZWQsICIreC5tZXNzYWdlKX19O0VkaXRvclVpLnByb3RvdHlwZS5vcGVuRGF0YWJhc2U9ZnVuY3Rpb24oYSxjKXtpZihudWxsPT10aGlzLmRhdGFiYXNlKXt2YXIgYj13aW5kb3cuaW5kZXhlZERCfHx3aW5kb3cubW96SW5kZXhlZERCfHwKd2luZG93LndlYmtpdEluZGV4ZWREQjtpZihudWxsIT1iKXRyeXt2YXIgZD1iLm9wZW4oImRhdGFiYXNlIiwyKTtkLm9udXBncmFkZW5lZWRlZD1mdW5jdGlvbihhKXt0cnl7dmFyIGI9ZC5yZXN1bHQ7MT5hLm9sZFZlcnNpb24mJmIuY3JlYXRlT2JqZWN0U3RvcmUoIm9iamVjdHMiLHtrZXlQYXRoOiJrZXkifSk7Mj5hLm9sZFZlcnNpb24mJihiLmNyZWF0ZU9iamVjdFN0b3JlKCJmaWxlcyIse2tleVBhdGg6InRpdGxlIn0pLGIuY3JlYXRlT2JqZWN0U3RvcmUoImZpbGVzSW5mbyIse2tleVBhdGg6InRpdGxlIn0pLEVkaXRvclVpLm1pZ3JhdGVTdG9yYWdlRmlsZXM9aXNMb2NhbFN0b3JhZ2UpfWNhdGNoKHYpe251bGwhPWMmJmModil9fTtkLm9uc3VjY2Vzcz1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihiKXt2YXIgYz1kLnJlc3VsdDt0aGlzLmRhdGFiYXNlPWM7RWRpdG9yVWkubWlncmF0ZVN0b3JhZ2VGaWxlcyYmKFN0b3JhZ2VGaWxlLm1pZ3JhdGUoYyksRWRpdG9yVWkubWlncmF0ZVN0b3JhZ2VGaWxlcz0KITEpOyJhcHAuZGlhZ3JhbXMubmV0IiE9bG9jYXRpb24uaG9zdHx8dGhpcy5kcmF3aW9NaWdyYXRpb25TdGFydGVkfHwodGhpcy5kcmF3aW9NaWdyYXRpb25TdGFydGVkPSEwLHRoaXMuZ2V0RGF0YWJhc2VJdGVtKCIuZHJhd2lvTWlncmF0ZWQzIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXtpZighYXx8IjEiPT11cmxQYXJhbXMuZm9yY2VNaWdyYXRpb24pe3ZhciBiPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlmcmFtZSIpO2Iuc3R5bGUuZGlzcGxheT0ibm9uZSI7Yi5zZXRBdHRyaWJ1dGUoInNyYyIsImh0dHBzOi8vd3d3LmRyYXcuaW8/ZW1iZWQ9MSZwcm90bz1qc29uJmZvcmNlTWlncmF0aW9uPSIrdXJsUGFyYW1zLmZvcmNlTWlncmF0aW9uKTtkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGIpO3ZhciBjPSEwLGQ9ITEsZSxmPTAsZz1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe2Q9ITA7dGhpcy5zZXREYXRhYmFzZUl0ZW0oIi5kcmF3aW9NaWdyYXRlZDMiLCEwKTsKYi5jb250ZW50V2luZG93LnBvc3RNZXNzYWdlKEpTT04uc3RyaW5naWZ5KHthY3Rpb246InJlbW90ZUludm9rZSIsZnVudGlvbk5hbWU6InNldE1pZ3JhdGVkRmxhZyJ9KSwiKiIpfSksaz1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe2YrKztsKCl9KSxsPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dHJ5e2lmKGY+PWUubGVuZ3RoKWcoKTtlbHNle3ZhciBhPWVbZl07U3RvcmFnZUZpbGUuZ2V0RmlsZUNvbnRlbnQodGhpcyxhLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGMpe251bGw9PWN8fCIuc2NyYXRjaHBhZCI9PWEmJmM9PXRoaXMuZW1wdHlMaWJyYXJ5WG1sP2IuY29udGVudFdpbmRvdy5wb3N0TWVzc2FnZShKU09OLnN0cmluZ2lmeSh7YWN0aW9uOiJyZW1vdGVJbnZva2UiLGZ1bnRpb25OYW1lOiJnZXRMb2NhbFN0b3JhZ2VGaWxlIixmdW5jdGlvbkFyZ3M6W2FdfSksIioiKTprKCl9KSxrKX19Y2F0Y2goSCl7Y29uc29sZS5sb2coSCl9fSksbT1teFV0aWxzLmJpbmQodGhpcywKZnVuY3Rpb24oYSl7dHJ5e3RoaXMuc2V0RGF0YWJhc2VJdGVtKG51bGwsW3t0aXRsZTphLnRpdGxlLHNpemU6YS5kYXRhLmxlbmd0aCxsYXN0TW9kaWZpZWQ6RGF0ZS5ub3coKSx0eXBlOmEuaXNMaWI/IkwiOiJGIn0se3RpdGxlOmEudGl0bGUsZGF0YTphLmRhdGF9XSxrLGssWyJmaWxlc0luZm8iLCJmaWxlcyJdKX1jYXRjaChIKXtjb25zb2xlLmxvZyhIKX19KTthPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3RyeXtpZihhLnNvdXJjZT09Yi5jb250ZW50V2luZG93KXt2YXIgZj17fTt0cnl7Zj1KU09OLnBhcnNlKGEuZGF0YSl9Y2F0Y2goSil7fSJpbml0Ij09Zi5ldmVudD8oYi5jb250ZW50V2luZG93LnBvc3RNZXNzYWdlKEpTT04uc3RyaW5naWZ5KHthY3Rpb246InJlbW90ZUludm9rZVJlYWR5In0pLCIqIiksYi5jb250ZW50V2luZG93LnBvc3RNZXNzYWdlKEpTT04uc3RyaW5naWZ5KHthY3Rpb246InJlbW90ZUludm9rZSIsZnVudGlvbk5hbWU6ImdldExvY2FsU3RvcmFnZUZpbGVOYW1lcyJ9KSwKIioiKSk6InJlbW90ZUludm9rZVJlc3BvbnNlIiE9Zi5ldmVudHx8ZHx8KGM/bnVsbCE9Zi5yZXNwJiYwPGYucmVzcC5sZW5ndGgmJm51bGwhPWYucmVzcFswXT8oZT1mLnJlc3BbMF0sYz0hMSxsKCkpOmcoKTpudWxsIT1mLnJlc3AmJjA8Zi5yZXNwLmxlbmd0aCYmbnVsbCE9Zi5yZXNwWzBdP20oZi5yZXNwWzBdKTprKCkpfX1jYXRjaChKKXtjb25zb2xlLmxvZyhKKX19KTt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsYSl9fSkpKTthKGMpO2Mub252ZXJzaW9uY2hhbmdlPWZ1bmN0aW9uKCl7Yy5jbG9zZSgpfX0pO2Qub25lcnJvcj1jO2Qub25ibG9ja2VkPWZ1bmN0aW9uKCl7fX1jYXRjaChsKXtudWxsIT1jJiZjKGwpfWVsc2UgbnVsbCE9YyYmYygpfWVsc2UgYSh0aGlzLmRhdGFiYXNlKX07RWRpdG9yVWkucHJvdG90eXBlLnNldERhdGFiYXNlSXRlbT1mdW5jdGlvbihhLGMsZCxmLGspe3RoaXMub3BlbkRhdGFiYXNlKG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGIpe3RyeXtrPQprfHwib2JqZWN0cyI7QXJyYXkuaXNBcnJheShrKXx8KGs9W2tdLGE9W2FdLGM9W2NdKTt2YXIgZT1iLnRyYW5zYWN0aW9uKGssInJlYWR3cml0ZSIpO2Uub25jb21wbGV0ZT1kO2Uub25lcnJvcj1mO2ZvcihiPTA7YjxrLmxlbmd0aDtiKyspZS5vYmplY3RTdG9yZShrW2JdKS5wdXQobnVsbCE9YSYmbnVsbCE9YVtiXT97a2V5OmFbYl0sZGF0YTpjW2JdfTpjW2JdKX1jYXRjaCh0KXtudWxsIT1mJiZmKHQpfX0pLGYpfTtFZGl0b3JVaS5wcm90b3R5cGUucmVtb3ZlRGF0YWJhc2VJdGVtPWZ1bmN0aW9uKGEsYyxkLGYpe3RoaXMub3BlbkRhdGFiYXNlKG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGIpe2Y9Znx8Im9iamVjdHMiO0FycmF5LmlzQXJyYXkoZil8fChmPVtmXSxhPVthXSk7Yj1iLnRyYW5zYWN0aW9uKGYsInJlYWR3cml0ZSIpO2Iub25jb21wbGV0ZT1jO2Iub25lcnJvcj1kO2Zvcih2YXIgZT0wO2U8Zi5sZW5ndGg7ZSsrKWIub2JqZWN0U3RvcmUoZltlXSlbImRlbGV0ZSJdKGFbZV0pfSksCmQpfTtFZGl0b3JVaS5wcm90b3R5cGUuZ2V0RGF0YWJhc2VJdGVtPWZ1bmN0aW9uKGEsYyxkLGYpe3RoaXMub3BlbkRhdGFiYXNlKG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGIpe3RyeXtmPWZ8fCJvYmplY3RzIjt2YXIgZT1iLnRyYW5zYWN0aW9uKFtmXSwicmVhZG9ubHkiKS5vYmplY3RTdG9yZShmKS5nZXQoYSk7ZS5vbnN1Y2Nlc3M9ZnVuY3Rpb24oKXtjKGUucmVzdWx0KX07ZS5vbmVycm9yPWR9Y2F0Y2godil7bnVsbCE9ZCYmZCh2KX19KSxkKX07RWRpdG9yVWkucHJvdG90eXBlLmdldERhdGFiYXNlSXRlbXM9ZnVuY3Rpb24oYSxjLGQpe3RoaXMub3BlbkRhdGFiYXNlKG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGIpe3RyeXtkPWR8fCJvYmplY3RzIjt2YXIgZT1iLnRyYW5zYWN0aW9uKFtkXSwicmVhZG9ubHkiKS5vYmplY3RTdG9yZShkKS5vcGVuQ3Vyc29yKElEQktleVJhbmdlLmxvd2VyQm91bmQoMCkpLGY9W107ZS5vbnN1Y2Nlc3M9ZnVuY3Rpb24oYil7bnVsbD09CmIudGFyZ2V0LnJlc3VsdD9hKGYpOihmLnB1c2goYi50YXJnZXQucmVzdWx0LnZhbHVlKSxiLnRhcmdldC5yZXN1bHRbImNvbnRpbnVlIl0oKSl9O2Uub25lcnJvcj1jfWNhdGNoKHYpe251bGwhPWMmJmModil9fSksYyl9O0VkaXRvclVpLnByb3RvdHlwZS5nZXREYXRhYmFzZUl0ZW1LZXlzPWZ1bmN0aW9uKGEsYyxkKXt0aGlzLm9wZW5EYXRhYmFzZShteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihiKXt0cnl7ZD1kfHwib2JqZWN0cyI7dmFyIGU9Yi50cmFuc2FjdGlvbihbZF0sInJlYWRvbmx5Iikub2JqZWN0U3RvcmUoZCkuZ2V0QWxsS2V5cygpO2Uub25zdWNjZXNzPWZ1bmN0aW9uKCl7YShlLnJlc3VsdCl9O2Uub25lcnJvcj1jfWNhdGNoKHApe251bGwhPWMmJmMocCl9fSksYyl9O0VkaXRvclVpLnByb3RvdHlwZS5jb21tZW50c1N1cHBvcnRlZD1mdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0Q3VycmVudEZpbGUoKTtyZXR1cm4gbnVsbCE9YT9hLmNvbW1lbnRzU3VwcG9ydGVkKCk6CiExfTtFZGl0b3JVaS5wcm90b3R5cGUuY29tbWVudHNSZWZyZXNoTmVlZGVkPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXRDdXJyZW50RmlsZSgpO3JldHVybiBudWxsIT1hP2EuY29tbWVudHNSZWZyZXNoTmVlZGVkKCk6ITB9O0VkaXRvclVpLnByb3RvdHlwZS5jb21tZW50c1NhdmVOZWVkZWQ9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldEN1cnJlbnRGaWxlKCk7cmV0dXJuIG51bGwhPWE/YS5jb21tZW50c1NhdmVOZWVkZWQoKTohMX07RWRpdG9yVWkucHJvdG90eXBlLmdldENvbW1lbnRzPWZ1bmN0aW9uKGEsYyl7dmFyIGI9dGhpcy5nZXRDdXJyZW50RmlsZSgpO251bGwhPWI/Yi5nZXRDb21tZW50cyhhLGMpOmEoW10pfTtFZGl0b3JVaS5wcm90b3R5cGUuYWRkQ29tbWVudD1mdW5jdGlvbihhLGMsZCl7dmFyIGI9dGhpcy5nZXRDdXJyZW50RmlsZSgpO251bGwhPWI/Yi5hZGRDb21tZW50KGEsYyxkKTpjKERhdGUubm93KCkpfTtFZGl0b3JVaS5wcm90b3R5cGUuY2FuUmVwbHlUb1JlcGxpZXM9CmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXRDdXJyZW50RmlsZSgpO3JldHVybiBudWxsIT1hP2EuY2FuUmVwbHlUb1JlcGxpZXMoKTohMH07RWRpdG9yVWkucHJvdG90eXBlLmNhbkNvbW1lbnQ9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldEN1cnJlbnRGaWxlKCk7cmV0dXJuIG51bGwhPWE/YS5jYW5Db21tZW50KCk6ITB9O0VkaXRvclVpLnByb3RvdHlwZS5uZXdDb21tZW50PWZ1bmN0aW9uKGEsYyl7dmFyIGI9dGhpcy5nZXRDdXJyZW50RmlsZSgpO3JldHVybiBudWxsIT1iP2IubmV3Q29tbWVudChhLGMpOm5ldyBEcmF3aW9Db21tZW50KHRoaXMsbnVsbCxhLERhdGUubm93KCksRGF0ZS5ub3coKSwhMSxjKX07RWRpdG9yVWkucHJvdG90eXBlLmlzUmV2aXNpb25IaXN0b3J5U3VwcG9ydGVkPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXRDdXJyZW50RmlsZSgpO3JldHVybiBudWxsIT1hJiZhLmlzUmV2aXNpb25IaXN0b3J5U3VwcG9ydGVkKCl9O0VkaXRvclVpLnByb3RvdHlwZS5nZXRSZXZpc2lvbnM9CmZ1bmN0aW9uKGEsYyl7dmFyIGI9dGhpcy5nZXRDdXJyZW50RmlsZSgpO251bGwhPWImJmIuZ2V0UmV2aXNpb25zP2IuZ2V0UmV2aXNpb25zKGEsYyk6Yyh7bWVzc2FnZTpteFJlc291cmNlcy5nZXQoInVua25vd25FcnJvciIpfSl9O0VkaXRvclVpLnByb3RvdHlwZS5pc1JldmlzaW9uSGlzdG9yeUVuYWJsZWQ9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldEN1cnJlbnRGaWxlKCk7cmV0dXJuIG51bGwhPWEmJihhLmNvbnN0cnVjdG9yPT1Ecml2ZUZpbGUmJmEuaXNFZGl0YWJsZSgpfHxhLmNvbnN0cnVjdG9yPT1Ecm9wYm94RmlsZSl9O0VkaXRvclVpLnByb3RvdHlwZS5nZXRTZXJ2aWNlTmFtZT1mdW5jdGlvbigpe3JldHVybiJkcmF3LmlvIn07RWRpdG9yVWkucHJvdG90eXBlLmFkZFJlbW90ZVNlcnZpY2VTZWN1cml0eUNoZWNrPWZ1bmN0aW9uKGEpe2Euc2V0UmVxdWVzdEhlYWRlcigiQ29udGVudC1MYW5ndWFnZSIsImRhLCBtaSwgZW4sIGRlLURFIil9O0VkaXRvclVpLnByb3RvdHlwZS5sb2FkVXJsPQpmdW5jdGlvbihhLGMsZCxmLGssbSxxLHQpe0VkaXRvclVpLmxvZ0V2ZW50KCJTSE9VTEQgTk9UIEJFIENBTExFRDogbG9hZFVybCIpO3JldHVybiB0aGlzLmVkaXRvci5sb2FkVXJsKGEsYyxkLGYsayxtLHEsdCl9O0VkaXRvclVpLnByb3RvdHlwZS5sb2FkRm9udHM9ZnVuY3Rpb24oYSl7RWRpdG9yVWkubG9nRXZlbnQoIlNIT1VMRCBOT1QgQkUgQ0FMTEVEOiBsb2FkRm9udHMiKTtyZXR1cm4gdGhpcy5lZGl0b3IubG9hZEZvbnRzKGEpfTtFZGl0b3JVaS5wcm90b3R5cGUuY3JlYXRlU3ZnRGF0YVVyaT1mdW5jdGlvbihhKXtFZGl0b3JVaS5sb2dFdmVudCgiU0hPVUxEIE5PVCBCRSBDQUxMRUQ6IGNyZWF0ZVN2Z0RhdGFVcmkiKTtyZXR1cm4gRWRpdG9yLmNyZWF0ZVN2Z0RhdGFVcmkoYSl9O0VkaXRvclVpLnByb3RvdHlwZS5lbWJlZENzc0ZvbnRzPWZ1bmN0aW9uKGEsYyl7RWRpdG9yVWkubG9nRXZlbnQoIlNIT1VMRCBOT1QgQkUgQ0FMTEVEOiBlbWJlZENzc0ZvbnRzIik7cmV0dXJuIHRoaXMuZWRpdG9yLmVtYmVkQ3NzRm9udHMoYSwKYyl9O0VkaXRvclVpLnByb3RvdHlwZS5lbWJlZEV4dEZvbnRzPWZ1bmN0aW9uKGEpe0VkaXRvclVpLmxvZ0V2ZW50KCJTSE9VTEQgTk9UIEJFIENBTExFRDogZW1iZWRFeHRGb250cyIpO3JldHVybiB0aGlzLmVkaXRvci5lbWJlZEV4dEZvbnRzKGEpfTtFZGl0b3JVaS5wcm90b3R5cGUuZXhwb3J0VG9DYW52YXM9ZnVuY3Rpb24oYSxjLGQsZixrLG0scSx0LHkseCxDLEIsRCx6LEUsRyl7RWRpdG9yVWkubG9nRXZlbnQoIlNIT1VMRCBOT1QgQkUgQ0FMTEVEOiBleHBvcnRUb0NhbnZhcyIpO3JldHVybiB0aGlzLmVkaXRvci5leHBvcnRUb0NhbnZhcyhhLGMsZCxmLGssbSxxLHQseSx4LEMsQixELHosRSxHKX07RWRpdG9yVWkucHJvdG90eXBlLmNyZWF0ZUltYWdlVXJsQ29udmVydGVyPWZ1bmN0aW9uKCl7RWRpdG9yVWkubG9nRXZlbnQoIlNIT1VMRCBOT1QgQkUgQ0FMTEVEOiBjcmVhdGVJbWFnZVVybENvbnZlcnRlciIpO3JldHVybiB0aGlzLmVkaXRvci5jcmVhdGVJbWFnZVVybENvbnZlcnRlcigpfTsKRWRpdG9yVWkucHJvdG90eXBlLmNvbnZlcnRJbWFnZXM9ZnVuY3Rpb24oYSxjLGQsZil7RWRpdG9yVWkubG9nRXZlbnQoIlNIT1VMRCBOT1QgQkUgQ0FMTEVEOiBjb252ZXJ0SW1hZ2VzIik7cmV0dXJuIHRoaXMuZWRpdG9yLmNvbnZlcnRJbWFnZXMoYSxjLGQsZil9O0VkaXRvclVpLnByb3RvdHlwZS5jb252ZXJ0SW1hZ2VUb0RhdGFVcmk9ZnVuY3Rpb24oYSxjKXtFZGl0b3JVaS5sb2dFdmVudCgiU0hPVUxEIE5PVCBCRSBDQUxMRUQ6IGNvbnZlcnRJbWFnZVRvRGF0YVVyaSIpO3JldHVybiB0aGlzLmVkaXRvci5jb252ZXJ0SW1hZ2VUb0RhdGFVcmkoYSxjKX07RWRpdG9yVWkucHJvdG90eXBlLmJhc2U2NEVuY29kZT1mdW5jdGlvbihhKXtFZGl0b3JVaS5sb2dFdmVudCgiU0hPVUxEIE5PVCBCRSBDQUxMRUQ6IGJhc2U2NEVuY29kZSIpO3JldHVybiBFZGl0b3IuYmFzZTY0RW5jb2RlKGEpfTtFZGl0b3JVaS5wcm90b3R5cGUudXBkYXRlQ1JDPWZ1bmN0aW9uKGEsYyxkLGYpe0VkaXRvclVpLmxvZ0V2ZW50KCJTSE9VTEQgTk9UIEJFIENBTExFRDogdXBkYXRlQ1JDIik7CnJldHVybiBFZGl0b3IudXBkYXRlQ1JDKGEsYyxkLGYpfTtFZGl0b3JVaS5wcm90b3R5cGUuY3JjMzI9ZnVuY3Rpb24oYSl7RWRpdG9yVWkubG9nRXZlbnQoIlNIT1VMRCBOT1QgQkUgQ0FMTEVEOiBjcmMzMiIpO3JldHVybiBFZGl0b3IuY3JjMzIoYSl9O0VkaXRvclVpLnByb3RvdHlwZS53cml0ZUdyYXBoTW9kZWxUb1BuZz1mdW5jdGlvbihhLGMsZCxmLGspe0VkaXRvclVpLmxvZ0V2ZW50KCJTSE9VTEQgTk9UIEJFIENBTExFRDogd3JpdGVHcmFwaE1vZGVsVG9QbmciKTtyZXR1cm4gRWRpdG9yLndyaXRlR3JhcGhNb2RlbFRvUG5nKGEsYyxkLGYsayl9O0VkaXRvclVpLnByb3RvdHlwZS5nZXRMb2NhbFN0b3JhZ2VGaWxlTmFtZXM9ZnVuY3Rpb24oKXtpZigiMSI9PWxvY2FsU3RvcmFnZS5nZXRJdGVtKCIubG9jYWxTdG9yYWdlTWlncmF0ZWQiKSYmIjEiIT11cmxQYXJhbXMuZm9yY2VNaWdyYXRpb24pcmV0dXJuIG51bGw7Zm9yKHZhciBhPVtdLGM9MDtjPGxvY2FsU3RvcmFnZS5sZW5ndGg7YysrKXt2YXIgZD0KbG9jYWxTdG9yYWdlLmtleShjKSxmPWxvY2FsU3RvcmFnZS5nZXRJdGVtKGQpO2lmKDA8ZC5sZW5ndGgmJigiLnNjcmF0Y2hwYWQiPT1kfHwiLiIhPWQuY2hhckF0KDApKSYmMDxmLmxlbmd0aCl7dmFyIGs9IjxteGZpbGUgIj09PWYuc3Vic3RyaW5nKDAsOCl8fCI8P3htbCI9PT1mLnN1YnN0cmluZygwLDUpfHwiXHgzYyEtLVtpZiBJRV0+Ij09PWYuc3Vic3RyaW5nKDAsMTIpLGY9IjxteGxpYnJhcnk+Ij09PWYuc3Vic3RyaW5nKDAsMTEpOyhrfHxmKSYmYS5wdXNoKGQpfX1yZXR1cm4gYX07RWRpdG9yVWkucHJvdG90eXBlLmdldExvY2FsU3RvcmFnZUZpbGU9ZnVuY3Rpb24oYSl7aWYoIjEiPT1sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiLmxvY2FsU3RvcmFnZU1pZ3JhdGVkIikmJiIxIiE9dXJsUGFyYW1zLmZvcmNlTWlncmF0aW9uKXJldHVybiBudWxsO3ZhciBiPWxvY2FsU3RvcmFnZS5nZXRJdGVtKGEpO3JldHVybnt0aXRsZTphLGRhdGE6Yixpc0xpYjoiPG14bGlicmFyeT4iPT09CmIuc3Vic3RyaW5nKDAsMTEpfX07RWRpdG9yVWkucHJvdG90eXBlLnNldE1pZ3JhdGVkRmxhZz1mdW5jdGlvbigpe2xvY2FsU3RvcmFnZS5zZXRJdGVtKCIubG9jYWxTdG9yYWdlTWlncmF0ZWQiLCIxIil9fSkoKTsKdmFyIENvbW1lbnRzV2luZG93PWZ1bmN0aW9uKGEsYyxmLGQsayxtKXtmdW5jdGlvbiBxKCl7Zm9yKHZhciBhPUIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImRpdiIpLGI9MCxjPTA7YzxhLmxlbmd0aDtjKyspIm5vbmUiIT1hW2NdLnN0eWxlLmRpc3BsYXkmJmFbY10ucGFyZW50Tm9kZT09QiYmYisrO0Quc3R5bGUuZGlzcGxheT0wPT1iPyJibG9jayI6Im5vbmUifWZ1bmN0aW9uIGIoYSxiLGMsZCl7ZnVuY3Rpb24gZSgpe2IucmVtb3ZlQ2hpbGQoayk7Yi5yZW1vdmVDaGlsZChsKTtnLnN0eWxlLmRpc3BsYXk9ImJsb2NrIjtmLnN0eWxlLmRpc3BsYXk9ImJsb2NrIn15PXtkaXY6Yixjb21tZW50OmEsc2F2ZUNhbGxiYWNrOmMsZGVsZXRlT25DYW5jZWw6ZH07dmFyIGY9Yi5xdWVyeVNlbGVjdG9yKCIuZ2VDb21tZW50VHh0IiksZz1iLnF1ZXJ5U2VsZWN0b3IoIi5nZUNvbW1lbnRBY3Rpb25zTGlzdCIpLGs9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGV4dGFyZWEiKTtrLmNsYXNzTmFtZT0KImdlQ29tbWVudEVkaXRUeHRBcmVhIjtrLnN0eWxlLm1pbkhlaWdodD1mLm9mZnNldEhlaWdodCsicHgiO2sudmFsdWU9YS5jb250ZW50O2IuaW5zZXJ0QmVmb3JlKGssZik7dmFyIGw9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7bC5jbGFzc05hbWU9ImdlQ29tbWVudEVkaXRCdG5zIjt2YXIgbT1teFV0aWxzLmJ1dHRvbihteFJlc291cmNlcy5nZXQoImNhbmNlbCIpLGZ1bmN0aW9uKCl7ZD8oYi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGIpLHEoKSk6ZSgpO3k9bnVsbH0pO20uY2xhc3NOYW1lPSJnZUNvbW1lbnRFZGl0QnRuIjtsLmFwcGVuZENoaWxkKG0pO3ZhciBuPW14VXRpbHMuYnV0dG9uKG14UmVzb3VyY2VzLmdldCgic2F2ZSIpLGZ1bmN0aW9uKCl7Zi5pbm5lckhUTUw9IiI7YS5jb250ZW50PWsudmFsdWU7bXhVdGlscy53cml0ZShmLGEuY29udGVudCk7ZSgpO2MoYSk7eT1udWxsfSk7bXhFdmVudC5hZGRMaXN0ZW5lcihrLCJrZXlkb3duIixteFV0aWxzLmJpbmQodGhpcywKZnVuY3Rpb24oYSl7bXhFdmVudC5pc0NvbnN1bWVkKGEpfHwoKG14RXZlbnQuaXNDb250cm9sRG93bihhKXx8bXhDbGllbnQuSVNfTUFDJiZteEV2ZW50LmlzTWV0YURvd24oYSkpJiYxMz09YS5rZXlDb2RlPyhuLmNsaWNrKCksbXhFdmVudC5jb25zdW1lKGEpKToyNz09YS5rZXlDb2RlJiYobS5jbGljaygpLG14RXZlbnQuY29uc3VtZShhKSkpfSkpO24uZm9jdXMoKTtuLmNsYXNzTmFtZT0iZ2VDb21tZW50RWRpdEJ0biBnZVByaW1hcnlCdG4iO2wuYXBwZW5kQ2hpbGQobik7Yi5pbnNlcnRCZWZvcmUobCxmKTtnLnN0eWxlLmRpc3BsYXk9Im5vbmUiO2Yuc3R5bGUuZGlzcGxheT0ibm9uZSI7ay5mb2N1cygpfWZ1bmN0aW9uIGUoYixjKXtjLmlubmVySFRNTD0iIjt2YXIgZD1uZXcgRGF0ZShiLm1vZGlmaWVkRGF0ZSksZT1hLnRpbWVTaW5jZShkKTtudWxsPT1lJiYoZT1teFJlc291cmNlcy5nZXQoImxlc3NUaGFuQU1pbnV0ZSIpKTtteFV0aWxzLndyaXRlKGMsbXhSZXNvdXJjZXMuZ2V0KCJ0aW1lQWdvIiwKW2VdLCJ7MX0gYWdvIikpO2Muc2V0QXR0cmlidXRlKCJ0aXRsZSIsZC50b0xvY2FsZURhdGVTdHJpbmcoKSsiICIrZC50b0xvY2FsZVRpbWVTdHJpbmcoKSl9ZnVuY3Rpb24gZyhhKXt2YXIgYj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbWciKTtiLmNsYXNzTmFtZT0iZ2VDb21tZW50QnVzeUltZyI7Yi5zcmM9SU1BR0VfUEFUSCsiL3NwaW4uZ2lmIjthLmFwcGVuZENoaWxkKGIpO2EuYnVzeUltZz1ifWZ1bmN0aW9uIG4oYSl7YS5zdHlsZS5ib3JkZXI9IjFweCBzb2xpZCByZWQiO2EucmVtb3ZlQ2hpbGQoYS5idXN5SW1nKX1mdW5jdGlvbiBsKGEpe2Euc3R5bGUuYm9yZGVyPSIiO2EucmVtb3ZlQ2hpbGQoYS5idXN5SW1nKX1mdW5jdGlvbiBwKGMsZCxmLGssbSl7ZnVuY3Rpb24gQShhLGIsZCl7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgibGkiKTtlLmNsYXNzTmFtZT0iZ2VDb21tZW50QWN0aW9uIjt2YXIgZj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIik7Zi5jbGFzc05hbWU9CiJnZUNvbW1lbnRBY3Rpb25MbmsiO214VXRpbHMud3JpdGUoZixhKTtlLmFwcGVuZENoaWxkKGYpO214RXZlbnQuYWRkTGlzdGVuZXIoZiwiY2xpY2siLGZ1bmN0aW9uKGEpe2IoYSxjKTthLnByZXZlbnREZWZhdWx0KCk7bXhFdmVudC5jb25zdW1lKGEpfSk7Ri5hcHBlbmRDaGlsZChlKTtkJiYoZS5zdHlsZS5kaXNwbGF5PSJub25lIil9ZnVuY3Rpb24gdSgpe2Z1bmN0aW9uIGEoYyl7Yi5wdXNoKGQpO2lmKG51bGwhPWMucmVwbGllcylmb3IodmFyIGU9MDtlPGMucmVwbGllcy5sZW5ndGg7ZSsrKWQ9ZC5uZXh0U2libGluZyxhKGMucmVwbGllc1tlXSl9dmFyIGI9W10sZD14O2EoYyk7cmV0dXJue3BkaXY6ZCxyZXBsaWVzOmJ9fWZ1bmN0aW9uIHooZCxlLGYsbSxxKXtmdW5jdGlvbiB0KCl7Zyh2KTtjLmFkZFJlcGx5KHosZnVuY3Rpb24oYSl7ei5pZD1hO2MucmVwbGllcy5wdXNoKHopO2wodik7ZiYmZigpfSxmdW5jdGlvbihiKXt5KCk7bih2KTthLmhhbmRsZUVycm9yKGIsbnVsbCwKbnVsbCxudWxsLG14VXRpbHMuaHRtbEVudGl0aWVzKG14UmVzb3VyY2VzLmdldCgib2JqZWN0Tm90Rm91bmQiKSkpfSxtLHEpfWZ1bmN0aW9uIHkoKXtiKHosdixmdW5jdGlvbihhKXt0KCl9LCEwKX12YXIgQT11KCkucGRpdix6PWEubmV3Q29tbWVudChkLGEuZ2V0Q3VycmVudFVzZXIoKSk7ei5wQ29tbWVudElkPWMuaWQ7bnVsbD09Yy5yZXBsaWVzJiYoYy5yZXBsaWVzPVtdKTt2YXIgdj1wKHosYy5yZXBsaWVzLEEsaysxKTtlP3koKTp0KCl9aWYobXx8IWMuaXNSZXNvbHZlZCl7RC5zdHlsZS5kaXNwbGF5PSJub25lIjt2YXIgeD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTt4LmNsYXNzTmFtZT0iZ2VDb21tZW50Q29udGFpbmVyIjt4LnNldEF0dHJpYnV0ZSgiZGF0YS1jb21tZW50SWQiLGMuaWQpO3guc3R5bGUubWFyZ2luTGVmdD0yMCprKzUrInB4IjtjLmlzUmVzb2x2ZWQmJiJkYXJrIiE9dWlUaGVtZSYmKHguc3R5bGUuYmFja2dyb3VuZENvbG9yPSJnaG9zdFdoaXRlIik7CnZhciBFPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO0UuY2xhc3NOYW1lPSJnZUNvbW1lbnRIZWFkZXIiO3ZhciBDPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImltZyIpO0MuY2xhc3NOYW1lPSJnZUNvbW1lbnRVc2VySW1nIjtDLnNyYz1jLnVzZXIucGljdHVyZVVybHx8RWRpdG9yLnVzZXJJbWFnZTtFLmFwcGVuZENoaWxkKEMpO0M9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7Qy5jbGFzc05hbWU9ImdlQ29tbWVudEhlYWRlclR4dCI7RS5hcHBlbmRDaGlsZChDKTt2YXIgTT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtNLmNsYXNzTmFtZT0iZ2VDb21tZW50VXNlcm5hbWUiO214VXRpbHMud3JpdGUoTSxjLnVzZXIuZGlzcGxheU5hbWV8fCIiKTtDLmFwcGVuZENoaWxkKE0pO009ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7TS5jbGFzc05hbWU9ImdlQ29tbWVudERhdGUiO00uc2V0QXR0cmlidXRlKCJkYXRhLWNvbW1lbnRJZCIsYy5pZCk7ZShjLApNKTtDLmFwcGVuZENoaWxkKE0pO3guYXBwZW5kQ2hpbGQoRSk7RT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtFLmNsYXNzTmFtZT0iZ2VDb21tZW50VHh0IjtteFV0aWxzLndyaXRlKEUsYy5jb250ZW50fHwiIik7eC5hcHBlbmRDaGlsZChFKTtFPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO0UuY2xhc3NOYW1lPSJnZUNvbW1lbnRBY3Rpb25zIjt2YXIgRj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ1bCIpO0YuY2xhc3NOYW1lPSJnZUNvbW1lbnRBY3Rpb25zTGlzdCI7RS5hcHBlbmRDaGlsZChGKTt2fHwwIT1rJiYhdHx8QShteFJlc291cmNlcy5nZXQoInJlcGx5IiksZnVuY3Rpb24oKXt6KCIiLCEwKX0sYy5pc1Jlc29sdmVkKTtDPWEuZ2V0Q3VycmVudFVzZXIoKTtudWxsPT1DfHxDLmlkIT1jLnVzZXIuaWR8fHZ8fChBKG14UmVzb3VyY2VzLmdldCgiZWRpdCIpLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZCgpe2IoYyx4LGZ1bmN0aW9uKCl7Zyh4KTtjLmVkaXRDb21tZW50KGMuY29udGVudCwKZnVuY3Rpb24oKXtsKHgpfSxmdW5jdGlvbihiKXtuKHgpO2QoKTthLmhhbmRsZUVycm9yKGIsbnVsbCxudWxsLG51bGwsbXhVdGlscy5odG1sRW50aXRpZXMobXhSZXNvdXJjZXMuZ2V0KCJvYmplY3ROb3RGb3VuZCIpKSl9KX0pfWQoKX0sYy5pc1Jlc29sdmVkKSxBKG14UmVzb3VyY2VzLmdldCgiZGVsZXRlIiksZnVuY3Rpb24oKXthLmNvbmZpcm0obXhSZXNvdXJjZXMuZ2V0KCJhcmVZb3VTdXJlIiksZnVuY3Rpb24oKXtnKHgpO2MuZGVsZXRlQ29tbWVudChmdW5jdGlvbigpe2Zvcih2YXIgYT11KGMpLnJlcGxpZXMsYj0wO2I8YS5sZW5ndGg7YisrKUIucmVtb3ZlQ2hpbGQoYVtiXSk7Zm9yKGI9MDtiPGQubGVuZ3RoO2IrKylpZihkW2JdPT1jKXtkLnNwbGljZShiLDEpO2JyZWFrfUQuc3R5bGUuZGlzcGxheT0wPT1CLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJkaXYiKS5sZW5ndGg/ImJsb2NrIjoibm9uZSJ9LGZ1bmN0aW9uKGIpe24oeCk7YS5oYW5kbGVFcnJvcihiLG51bGwsbnVsbCwKbnVsbCxteFV0aWxzLmh0bWxFbnRpdGllcyhteFJlc291cmNlcy5nZXQoIm9iamVjdE5vdEZvdW5kIikpKX0pfSl9LGMuaXNSZXNvbHZlZCkpO3Z8fDAhPWt8fEEoYy5pc1Jlc29sdmVkP214UmVzb3VyY2VzLmdldCgicmVvcGVuIik6bXhSZXNvdXJjZXMuZ2V0KCJyZXNvbHZlIiksZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYigpe3ZhciBiPWEudGFyZ2V0O2IuaW5uZXJIVE1MPSIiO2MuaXNSZXNvbHZlZD0hYy5pc1Jlc29sdmVkO214VXRpbHMud3JpdGUoYixjLmlzUmVzb2x2ZWQ/bXhSZXNvdXJjZXMuZ2V0KCJyZW9wZW4iKTpteFJlc291cmNlcy5nZXQoInJlc29sdmUiKSk7Zm9yKHZhciBkPWMuaXNSZXNvbHZlZD8ibm9uZSI6IiIsZT11KGMpLnJlcGxpZXMsZj0iZGFyayI9PXVpVGhlbWU/InRyYW5zcGFyZW50IjpjLmlzUmVzb2x2ZWQ/Imdob3N0V2hpdGUiOiJ3aGl0ZSIsZz0wO2c8ZS5sZW5ndGg7ZysrKXtlW2ddLnN0eWxlLmJhY2tncm91bmRDb2xvcj1mO2Zvcih2YXIgaz1lW2ddLnF1ZXJ5U2VsZWN0b3JBbGwoIi5nZUNvbW1lbnRBY3Rpb24iKSwKbD0wO2w8ay5sZW5ndGg7bCsrKWtbbF0hPWIucGFyZW50Tm9kZSYmKGtbbF0uc3R5bGUuZGlzcGxheT1kKTtHfHwoZVtnXS5zdHlsZS5kaXNwbGF5PSJub25lIil9cSgpfWMuaXNSZXNvbHZlZD96KG14UmVzb3VyY2VzLmdldCgicmVPcGVuZWQiKSsiOiAiLCEwLGIsITEsITApOnoobXhSZXNvdXJjZXMuZ2V0KCJtYXJrZWRBc1Jlc29sdmVkIiksITEsYiwhMCl9KTt4LmFwcGVuZENoaWxkKEUpO251bGwhPWY/Qi5pbnNlcnRCZWZvcmUoeCxmLm5leHRTaWJsaW5nKTpCLmFwcGVuZENoaWxkKHgpO2ZvcihmPTA7bnVsbCE9Yy5yZXBsaWVzJiZmPGMucmVwbGllcy5sZW5ndGg7ZisrKUU9Yy5yZXBsaWVzW2ZdLEUuaXNSZXNvbHZlZD1jLmlzUmVzb2x2ZWQscChFLGMucmVwbGllcyxudWxsLGsrMSxtKTtudWxsIT15JiYoeS5jb21tZW50LmlkPT1jLmlkPyhtPWMuY29udGVudCxjLmNvbnRlbnQ9eS5jb21tZW50LmNvbnRlbnQsYihjLHgseS5zYXZlQ2FsbGJhY2sseS5kZWxldGVPbkNhbmNlbCksCmMuY29udGVudD1tKTpudWxsPT15LmNvbW1lbnQuaWQmJnkuY29tbWVudC5wQ29tbWVudElkPT1jLmlkJiYoQi5hcHBlbmRDaGlsZCh5LmRpdiksYih5LmNvbW1lbnQseS5kaXYseS5zYXZlQ2FsbGJhY2sseS5kZWxldGVPbkNhbmNlbCkpKTtyZXR1cm4geH19dmFyIHY9IWEuY2FuQ29tbWVudCgpLHQ9YS5jYW5SZXBseVRvUmVwbGllcygpLHk9bnVsbCx4PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO3guY2xhc3NOYW1lPSJnZUNvbW1lbnRzV2luIjt4LnN0eWxlLmJhY2tncm91bmQ9IndoaXRlIj09RGlhbG9nLmJhY2tkcm9wQ29sb3I/IndoaXRlU21va2UiOkRpYWxvZy5iYWNrZHJvcENvbG9yO3ZhciBDPUVkaXRvclVpLmNvbXBhY3RVaT8iMjZweCI6IjMwcHgiLEI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7Qi5jbGFzc05hbWU9ImdlQ29tbWVudHNMaXN0IjtCLnN0eWxlLmJhY2tncm91bmRDb2xvcj0id2hpdGUiPT1EaWFsb2cuYmFja2Ryb3BDb2xvcj8id2hpdGVTbW9rZSI6CkRpYWxvZy5iYWNrZHJvcENvbG9yO0Iuc3R5bGUuYm90dG9tPXBhcnNlSW50KEMpKzcrInB4Ijt4LmFwcGVuZENoaWxkKEIpO3ZhciBEPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNwYW4iKTtELnN0eWxlLmNzc1RleHQ9ImRpc3BsYXk6bm9uZTtwYWRkaW5nLXRvcDoxMHB4O3RleHQtYWxpZ246Y2VudGVyOyI7bXhVdGlscy53cml0ZShELG14UmVzb3VyY2VzLmdldCgibm9Db21tZW50c0ZvdW5kIikpO3ZhciB6PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO3ouY2xhc3NOYW1lPSJnZVRvb2xiYXJDb250YWluZXIgZ2VDb21tZW50c1Rvb2xiYXIiO3ouc3R5bGUuaGVpZ2h0PUM7ei5zdHlsZS5wYWRkaW5nPUVkaXRvclVpLmNvbXBhY3RVaT8iNHB4IDBweCAzcHggMHB4IjoiMXB4Ijt6LnN0eWxlLmJhY2tncm91bmRDb2xvcj0id2hpdGUiPT1EaWFsb2cuYmFja2Ryb3BDb2xvcj8id2hpdGVTbW9rZSI6RGlhbG9nLmJhY2tkcm9wQ29sb3I7bXhDbGllbnQuSVNfUVVJUktTJiYoei5zdHlsZS5maWx0ZXI9CiJub25lIik7Qz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIik7Qy5jbGFzc05hbWU9ImdlQnV0dG9uIjtteENsaWVudC5JU19RVUlSS1MmJihDLnN0eWxlLmZpbHRlcj0ibm9uZSIpO2lmKCF2KXt2YXIgRT1DLmNsb25lTm9kZSgpO0UuaW5uZXJIVE1MPSc8ZGl2IGNsYXNzPSJnZVNwcml0ZSBnZVNwcml0ZS1wbHVzIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7Ij48L2Rpdj4nO0Uuc2V0QXR0cmlidXRlKCJ0aXRsZSIsbXhSZXNvdXJjZXMuZ2V0KCJjcmVhdGUiKSsiLi4uIik7bXhFdmVudC5hZGRMaXN0ZW5lcihFLCJjbGljayIsZnVuY3Rpb24oYyl7ZnVuY3Rpb24gZCgpe2IoZSxmLGZ1bmN0aW9uKGIpe2coZik7YS5hZGRDb21tZW50KGIsZnVuY3Rpb24oYSl7Yi5pZD1hO0YucHVzaChiKTtsKGYpfSxmdW5jdGlvbihiKXtuKGYpO2QoKTthLmhhbmRsZUVycm9yKGIsbnVsbCxudWxsLG51bGwsbXhVdGlscy5odG1sRW50aXRpZXMobXhSZXNvdXJjZXMuZ2V0KCJvYmplY3ROb3RGb3VuZCIpKSl9KX0sCiEwKX12YXIgZT1hLm5ld0NvbW1lbnQoIiIsYS5nZXRDdXJyZW50VXNlcigpKSxmPXAoZSxGLG51bGwsMCk7ZCgpO2MucHJldmVudERlZmF1bHQoKTtteEV2ZW50LmNvbnN1bWUoYyl9KTt6LmFwcGVuZENoaWxkKEUpfUU9Qy5jbG9uZU5vZGUoKTtFLmlubmVySFRNTD0nPGltZyBzcmM9IicrSU1BR0VfUEFUSCsnL2NoZWNrLnBuZyIgc3R5bGU9IndpZHRoOiAxNnB4OyBwYWRkaW5nOiAycHg7Ij4nO0Uuc2V0QXR0cmlidXRlKCJ0aXRsZSIsbXhSZXNvdXJjZXMuZ2V0KCJzaG93UmVzb2x2ZWQiKSk7dmFyIEc9ITE7ImRhcmsiPT11aVRoZW1lJiYoRS5zdHlsZS5maWx0ZXI9ImludmVydCgxMDAlKSIpO214RXZlbnQuYWRkTGlzdGVuZXIoRSwiY2xpY2siLGZ1bmN0aW9uKGEpe3RoaXMuY2xhc3NOYW1lPShHPSFHKT8iZ2VCdXR0b24gZ2VDaGVja2VkQnRuIjoiZ2VCdXR0b24iO0goKTthLnByZXZlbnREZWZhdWx0KCk7bXhFdmVudC5jb25zdW1lKGEpfSk7ei5hcHBlbmRDaGlsZChFKTthLmNvbW1lbnRzUmVmcmVzaE5lZWRlZCgpJiYKKEU9Qy5jbG9uZU5vZGUoKSxFLmlubmVySFRNTD0nPGltZyBzcmM9IicrSU1BR0VfUEFUSCsnL3VwZGF0ZTE2LnBuZyIgc3R5bGU9IndpZHRoOiAxNnB4OyBwYWRkaW5nOiAycHg7Ij4nLEUuc2V0QXR0cmlidXRlKCJ0aXRsZSIsbXhSZXNvdXJjZXMuZ2V0KCJyZWZyZXNoIikpLCJkYXJrIj09dWlUaGVtZSYmKEUuc3R5bGUuZmlsdGVyPSJpbnZlcnQoMTAwJSkiKSxteEV2ZW50LmFkZExpc3RlbmVyKEUsImNsaWNrIixmdW5jdGlvbihhKXtIKCk7YS5wcmV2ZW50RGVmYXVsdCgpO214RXZlbnQuY29uc3VtZShhKX0pLHouYXBwZW5kQ2hpbGQoRSkpO2EuY29tbWVudHNTYXZlTmVlZGVkKCkmJihDPUMuY2xvbmVOb2RlKCksQy5pbm5lckhUTUw9JzxpbWcgc3JjPSInK0lNQUdFX1BBVEgrJy9zYXZlLnBuZyIgc3R5bGU9IndpZHRoOiAyMHB4OyBwYWRkaW5nOiAycHg7Ij4nLEMuc2V0QXR0cmlidXRlKCJ0aXRsZSIsbXhSZXNvdXJjZXMuZ2V0KCJzYXZlIikpLCJkYXJrIj09dWlUaGVtZSYmCihDLnN0eWxlLmZpbHRlcj0iaW52ZXJ0KDEwMCUpIiksbXhFdmVudC5hZGRMaXN0ZW5lcihDLCJjbGljayIsZnVuY3Rpb24oYSl7bSgpO2EucHJldmVudERlZmF1bHQoKTtteEV2ZW50LmNvbnN1bWUoYSl9KSx6LmFwcGVuZENoaWxkKEMpKTt4LmFwcGVuZENoaWxkKHopO3ZhciBGPVtdLEg9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt0aGlzLmhhc0Vycm9yPSExO2lmKG51bGwhPXkpdHJ5e3kuZGl2PXkuZGl2LmNsb25lTm9kZSghMCk7dmFyIGM9eS5kaXYucXVlcnlTZWxlY3RvcigiLmdlQ29tbWVudEVkaXRUeHRBcmVhIiksZD15LmRpdi5xdWVyeVNlbGVjdG9yKCIuZ2VDb21tZW50RWRpdEJ0bnMiKTt5LmNvbW1lbnQuY29udGVudD1jLnZhbHVlO2MucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChjKTtkLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZCl9Y2F0Y2goQSl7YS5oYW5kbGVFcnJvcihBKX1CLmlubmVySFRNTD0nPGRpdiBzdHlsZT0icGFkZGluZy10b3A6MTBweDt0ZXh0LWFsaWduOmNlbnRlcjsiPjxpbWcgc3JjPSInKwpJTUFHRV9QQVRIKycvc3Bpbi5naWYiIHZhbGlnbj0ibWlkZGxlIj4gJytteFV0aWxzLmh0bWxFbnRpdGllcyhteFJlc291cmNlcy5nZXQoImxvYWRpbmciKSkrIi4uLjwvZGl2PiI7dD1hLmNhblJlcGx5VG9SZXBsaWVzKCk7YS5jb21tZW50c1N1cHBvcnRlZCgpP2EuZ2V0Q29tbWVudHMoZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYyhhKXtpZihudWxsIT1hKXthLnNvcnQoZnVuY3Rpb24oYSxiKXtyZXR1cm4gbmV3IERhdGUoYS5tb2RpZmllZERhdGUpLW5ldyBEYXRlKGIubW9kaWZpZWREYXRlKX0pO2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7YisrKWMoYVtiXS5yZXBsaWVzKX19YS5zb3J0KGZ1bmN0aW9uKGEsYil7cmV0dXJuIG5ldyBEYXRlKGEubW9kaWZpZWREYXRlKS1uZXcgRGF0ZShiLm1vZGlmaWVkRGF0ZSl9KTtCLmlubmVySFRNTD0iIjtCLmFwcGVuZENoaWxkKEQpO0Quc3R5bGUuZGlzcGxheT0iYmxvY2siO0Y9YTtmb3IoYT0wO2E8Ri5sZW5ndGg7YSsrKWMoRlthXS5yZXBsaWVzKSwKcChGW2FdLEYsbnVsbCwwLEcpO251bGwhPXkmJm51bGw9PXkuY29tbWVudC5pZCYmbnVsbD09eS5jb21tZW50LnBDb21tZW50SWQmJihCLmFwcGVuZENoaWxkKHkuZGl2KSxiKHkuY29tbWVudCx5LmRpdix5LnNhdmVDYWxsYmFjayx5LmRlbGV0ZU9uQ2FuY2VsKSl9LG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe0IuaW5uZXJIVE1MPW14VXRpbHMuaHRtbEVudGl0aWVzKG14UmVzb3VyY2VzLmdldCgiZXJyb3IiKSsoYSYmYS5tZXNzYWdlPyI6ICIrYS5tZXNzYWdlOiIiKSk7dGhpcy5oYXNFcnJvcj0hMH0pKTpCLmlubmVySFRNTD1teFV0aWxzLmh0bWxFbnRpdGllcyhteFJlc291cmNlcy5nZXQoImVycm9yIikpfSk7SCgpO3RoaXMucmVmcmVzaENvbW1lbnRzPUg7ej1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYil7dmFyIGQ9Y1tiLmlkXTtpZihudWxsIT1kKWZvcihlKGIsZCksZD0wO251bGwhPWIucmVwbGllcyYmZDxiLnJlcGxpZXMubGVuZ3RoO2QrKylhKGIucmVwbGllc1tkXSl9CmlmKHRoaXMud2luZG93LmlzVmlzaWJsZSgpKXtmb3IodmFyIGI9Qi5xdWVyeVNlbGVjdG9yQWxsKCIuZ2VDb21tZW50RGF0ZSIpLGM9e30sZD0wO2Q8Yi5sZW5ndGg7ZCsrKXt2YXIgZj1iW2RdO2NbZi5nZXRBdHRyaWJ1dGUoImRhdGEtY29tbWVudElkIildPWZ9Zm9yKGQ9MDtkPEYubGVuZ3RoO2QrKylhKEZbZF0pfX0pO3NldEludGVydmFsKHosNkU0KTt0aGlzLnJlZnJlc2hDb21tZW50c1RpbWU9ejt0aGlzLndpbmRvdz1uZXcgbXhXaW5kb3cobXhSZXNvdXJjZXMuZ2V0KCJjb21tZW50cyIpLHgsYyxmLGQsaywhMCwhMCk7dGhpcy53aW5kb3cubWluaW11bVNpemU9bmV3IG14UmVjdGFuZ2xlKDAsMCwzMDAsMjAwKTt0aGlzLndpbmRvdy5kZXN0cm95T25DbG9zZT0hMTt0aGlzLndpbmRvdy5zZXRNYXhpbWl6YWJsZSghMSk7dGhpcy53aW5kb3cuc2V0UmVzaXphYmxlKCEwKTt0aGlzLndpbmRvdy5zZXRDbG9zYWJsZSghMCk7dGhpcy53aW5kb3cuc2V0VmlzaWJsZSghMCk7dGhpcy53aW5kb3cuYWRkTGlzdGVuZXIobXhFdmVudC5TSE9XLApteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMud2luZG93LmZpdCgpfSkpO3RoaXMud2luZG93LnNldExvY2F0aW9uPWZ1bmN0aW9uKGEsYil7dmFyIGM9d2luZG93LmlubmVySGVpZ2h0fHxkb2N1bWVudC5ib2R5LmNsaWVudEhlaWdodHx8ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodDthPU1hdGgubWF4KDAsTWF0aC5taW4oYSwod2luZG93LmlubmVyV2lkdGh8fGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGh8fGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCktdGhpcy50YWJsZS5jbGllbnRXaWR0aCkpO2I9TWF0aC5tYXgoMCxNYXRoLm1pbihiLGMtdGhpcy50YWJsZS5jbGllbnRIZWlnaHQtNDgpKTt0aGlzLmdldFgoKT09YSYmdGhpcy5nZXRZKCk9PWJ8fG14V2luZG93LnByb3RvdHlwZS5zZXRMb2NhdGlvbi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O3ZhciBKPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dmFyIGE9dGhpcy53aW5kb3cuZ2V0WCgpLApiPXRoaXMud2luZG93LmdldFkoKTt0aGlzLndpbmRvdy5zZXRMb2NhdGlvbihhLGIpfSk7bXhFdmVudC5hZGRMaXN0ZW5lcih3aW5kb3csInJlc2l6ZSIsSik7dGhpcy5kZXN0cm95PWZ1bmN0aW9uKCl7bXhFdmVudC5yZW1vdmVMaXN0ZW5lcih3aW5kb3csInJlc2l6ZSIsSik7dGhpcy53aW5kb3cuZGVzdHJveSgpfX0sQ29uZmlybURpYWxvZz1mdW5jdGlvbihhLGMsZixkLGssbSxxLGIsZSxnLG4pe3ZhciBsPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2wuc3R5bGUudGV4dEFsaWduPSJjZW50ZXIiO249bnVsbCE9bj9uOjQ0O3ZhciBwPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO3Auc3R5bGUucGFkZGluZz0iNnB4IjtwLnN0eWxlLm92ZXJmbG93PSJhdXRvIjtwLnN0eWxlLm1heEhlaWdodD1uKyJweCI7cC5zdHlsZS5saW5lSGVpZ2h0PSIxLjJlbSI7bXhDbGllbnQuSVNfUVVJUktTJiYocC5zdHlsZS5oZWlnaHQ9IjYwcHgiKTtteFV0aWxzLndyaXRlKHAsYyk7CmwuYXBwZW5kQ2hpbGQocCk7bnVsbCE9ZyYmKHA9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IikscC5zdHlsZS5wYWRkaW5nPSI2cHggMCA2cHggMCIsYz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbWciKSxjLnNldEF0dHJpYnV0ZSgic3JjIixnKSxwLmFwcGVuZENoaWxkKGMpLGwuYXBwZW5kQ2hpbGQocCkpO2c9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7Zy5zdHlsZS50ZXh0QWxpZ249ImNlbnRlciI7Zy5zdHlsZS53aGl0ZVNwYWNlPSJub3dyYXAiO3ZhciB2PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7di5zZXRBdHRyaWJ1dGUoInR5cGUiLCJjaGVja2JveCIpO209bXhVdGlscy5idXR0b24obXx8bXhSZXNvdXJjZXMuZ2V0KCJjYW5jZWwiKSxmdW5jdGlvbigpe2EuaGlkZURpYWxvZygpO251bGwhPWQmJmQodi5jaGVja2VkKX0pO20uY2xhc3NOYW1lPSJnZUJ0biI7bnVsbCE9YiYmKG0uaW5uZXJIVE1MPWIrIjxicj4iK20uaW5uZXJIVE1MLG0uc3R5bGUucGFkZGluZ0JvdHRvbT0KIjhweCIsbS5zdHlsZS5wYWRkaW5nVG9wPSI4cHgiLG0uc3R5bGUuaGVpZ2h0PSJhdXRvIixtLnN0eWxlLndpZHRoPSI0MCUiKTthLmVkaXRvci5jYW5jZWxGaXJzdCYmZy5hcHBlbmRDaGlsZChtKTt2YXIgdD1teFV0aWxzLmJ1dHRvbihrfHxteFJlc291cmNlcy5nZXQoIm9rIiksZnVuY3Rpb24oKXthLmhpZGVEaWFsb2coKTtudWxsIT1mJiZmKHYuY2hlY2tlZCl9KTtnLmFwcGVuZENoaWxkKHQpO251bGwhPXE/KHQuaW5uZXJIVE1MPXErIjxicj4iK3QuaW5uZXJIVE1MKyI8YnI+Iix0LnN0eWxlLnBhZGRpbmdCb3R0b209IjhweCIsdC5zdHlsZS5wYWRkaW5nVG9wPSI4cHgiLHQuc3R5bGUuaGVpZ2h0PSJhdXRvIix0LmNsYXNzTmFtZT0iZ2VCdG4iLHQuc3R5bGUud2lkdGg9IjQwJSIpOnQuY2xhc3NOYW1lPSJnZUJ0biBnZVByaW1hcnlCdG4iO2EuZWRpdG9yLmNhbmNlbEZpcnN0fHxnLmFwcGVuZENoaWxkKG0pO2wuYXBwZW5kQ2hpbGQoZyk7ZT8oZy5zdHlsZS5tYXJnaW5Ub3A9CiIxMHB4IixwPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInAiKSxwLnN0eWxlLm1hcmdpblRvcD0iMjBweCIscC5hcHBlbmRDaGlsZCh2KSxrPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNwYW4iKSxteFV0aWxzLndyaXRlKGssIiAiK214UmVzb3VyY2VzLmdldCgicmVtZW1iZXJUaGlzU2V0dGluZyIpKSxwLmFwcGVuZENoaWxkKGspLGwuYXBwZW5kQ2hpbGQocCksbXhFdmVudC5hZGRMaXN0ZW5lcihrLCJjbGljayIsZnVuY3Rpb24oYSl7di5jaGVja2VkPSF2LmNoZWNrZWQ7bXhFdmVudC5jb25zdW1lKGEpfSkpOmcuc3R5bGUubWFyZ2luVG9wPSIxMnB4Ijt0aGlzLmluaXQ9ZnVuY3Rpb24oKXt0LmZvY3VzKCl9O3RoaXMuY29udGFpbmVyPWx9O2Z1bmN0aW9uIERpYWdyYW1QYWdlKGEsYyl7dGhpcy5ub2RlPWE7bnVsbCE9Yz90aGlzLm5vZGUuc2V0QXR0cmlidXRlKCJpZCIsYyk6bnVsbD09dGhpcy5nZXRJZCgpJiZ0aGlzLm5vZGUuc2V0QXR0cmlidXRlKCJpZCIsRWRpdG9yLmd1aWQoKSl9RGlhZ3JhbVBhZ2UucHJvdG90eXBlLm5vZGU9bnVsbDtEaWFncmFtUGFnZS5wcm90b3R5cGUucm9vdD1udWxsO0RpYWdyYW1QYWdlLnByb3RvdHlwZS52aWV3U3RhdGU9bnVsbDtEaWFncmFtUGFnZS5wcm90b3R5cGUuZ2V0SWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ub2RlLmdldEF0dHJpYnV0ZSgiaWQiKX07RGlhZ3JhbVBhZ2UucHJvdG90eXBlLmdldE5hbWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ub2RlLmdldEF0dHJpYnV0ZSgibmFtZSIpfTsKRGlhZ3JhbVBhZ2UucHJvdG90eXBlLnNldE5hbWU9ZnVuY3Rpb24oYSl7bnVsbD09YT90aGlzLm5vZGUucmVtb3ZlQXR0cmlidXRlKCJuYW1lIik6dGhpcy5ub2RlLnNldEF0dHJpYnV0ZSgibmFtZSIsYSl9O2Z1bmN0aW9uIFJlbmFtZVBhZ2UoYSxjLGYpe3RoaXMudWk9YTt0aGlzLnBhZ2U9Yzt0aGlzLnByZXZpb3VzPXRoaXMubmFtZT1mfVJlbmFtZVBhZ2UucHJvdG90eXBlLmV4ZWN1dGU9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnBhZ2UuZ2V0TmFtZSgpO3RoaXMucGFnZS5zZXROYW1lKHRoaXMucHJldmlvdXMpO3RoaXMubmFtZT10aGlzLnByZXZpb3VzO3RoaXMucHJldmlvdXM9YTt0aGlzLnVpLmVkaXRvci5ncmFwaC51cGRhdGVQbGFjZWhvbGRlcnMoKTt0aGlzLnVpLmVkaXRvci5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QoInBhZ2VSZW5hbWVkIikpfTsKZnVuY3Rpb24gTW92ZVBhZ2UoYSxjLGYpe3RoaXMudWk9YTt0aGlzLm9sZEluZGV4PWM7dGhpcy5uZXdJbmRleD1mfU1vdmVQYWdlLnByb3RvdHlwZS5leGVjdXRlPWZ1bmN0aW9uKCl7dGhpcy51aS5wYWdlcy5zcGxpY2UodGhpcy5uZXdJbmRleCwwLHRoaXMudWkucGFnZXMuc3BsaWNlKHRoaXMub2xkSW5kZXgsMSlbMF0pO3ZhciBhPXRoaXMub2xkSW5kZXg7dGhpcy5vbGRJbmRleD10aGlzLm5ld0luZGV4O3RoaXMubmV3SW5kZXg9YTt0aGlzLnVpLmVkaXRvci5ncmFwaC51cGRhdGVQbGFjZWhvbGRlcnMoKTt0aGlzLnVpLmVkaXRvci5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QoInBhZ2VNb3ZlZCIpKX07CmZ1bmN0aW9uIFNlbGVjdFBhZ2UoYSxjLGYpe3RoaXMudWk9YTt0aGlzLnByZXZpb3VzUGFnZT10aGlzLnBhZ2U9Yzt0aGlzLm5ldmVyU2hvd249ITA7bnVsbCE9YyYmKHRoaXMubmV2ZXJTaG93bj1udWxsPT1jLnZpZXdTdGF0ZSx0aGlzLnVpLnVwZGF0ZVBhZ2VSb290KGMpLG51bGwhPWYmJihjLnZpZXdTdGF0ZT1mLHRoaXMubmV2ZXJTaG93bj0hMSkpfQpTZWxlY3RQYWdlLnByb3RvdHlwZS5leGVjdXRlPWZ1bmN0aW9uKCl7dmFyIGE9bXhVdGlscy5pbmRleE9mKHRoaXMudWkucGFnZXMsdGhpcy5wcmV2aW91c1BhZ2UpO2lmKG51bGwhPXRoaXMucGFnZSYmMDw9YSl7dmFyIGE9dGhpcy51aS5jdXJyZW50UGFnZSxjPXRoaXMudWkuZWRpdG9yLGY9Yy5ncmFwaCxkPUdyYXBoLmNvbXByZXNzTm9kZShjLmdldEdyYXBoWG1sKCEwKSk7bXhVdGlscy5zZXRUZXh0Q29udGVudChhLm5vZGUsZCk7YS52aWV3U3RhdGU9Zi5nZXRWaWV3U3RhdGUoKTthLnJvb3Q9Zi5tb2RlbC5yb290O251bGwhPWEubW9kZWwmJmEubW9kZWwucm9vdENoYW5nZWQoYS5yb290KTtmLnZpZXcuY2xlYXIoYS5yb290LCEwKTtmLmNsZWFyU2VsZWN0aW9uKCk7dGhpcy51aS5jdXJyZW50UGFnZT10aGlzLnByZXZpb3VzUGFnZTt0aGlzLnByZXZpb3VzUGFnZT1hO2E9dGhpcy51aS5jdXJyZW50UGFnZTtmLm1vZGVsLnByZWZpeD1FZGl0b3IuZ3VpZCgpKyItIjtmLm1vZGVsLnJvb3RDaGFuZ2VkKGEucm9vdCk7CmYuc2V0Vmlld1N0YXRlKGEudmlld1N0YXRlKTtmLmdyaWRFbmFibGVkPWYuZ3JpZEVuYWJsZWQmJighdGhpcy51aS5lZGl0b3IuaXNDaHJvbWVsZXNzVmlldygpfHwiMSI9PXVybFBhcmFtcy5ncmlkKTtjLnVwZGF0ZUdyYXBoQ29tcG9uZW50cygpO2Yudmlldy52YWxpZGF0ZSgpO2YuYmxvY2tNYXRoUmVuZGVyPSEwO2Yuc2l6ZURpZENoYW5nZSgpO2YuYmxvY2tNYXRoUmVuZGVyPSExO3RoaXMubmV2ZXJTaG93biYmKHRoaXMubmV2ZXJTaG93bj0hMSxmLnNlbGVjdFVubG9ja2VkTGF5ZXIoKSk7Yy5ncmFwaC5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5ST09UKSk7Yy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QoInBhZ2VTZWxlY3RlZCIsImNoYW5nZSIsdGhpcykpfX07CmZ1bmN0aW9uIENoYW5nZVBhZ2UoYSxjLGYsZCxrKXtTZWxlY3RQYWdlLmNhbGwodGhpcyxhLGYpO3RoaXMucmVsYXRlZFBhZ2U9Yzt0aGlzLmluZGV4PWQ7dGhpcy5wcmV2aW91c0luZGV4PW51bGw7dGhpcy5ub1NlbGVjdD1rfW14VXRpbHMuZXh0ZW5kKENoYW5nZVBhZ2UsU2VsZWN0UGFnZSk7CkNoYW5nZVBhZ2UucHJvdG90eXBlLmV4ZWN1dGU9ZnVuY3Rpb24oKXt0aGlzLnVpLmVkaXRvci5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QoImJlZm9yZVBhZ2VDaGFuZ2UiLCJjaGFuZ2UiLHRoaXMpKTt0aGlzLnByZXZpb3VzSW5kZXg9dGhpcy5pbmRleDtpZihudWxsPT10aGlzLmluZGV4KXt2YXIgYT1teFV0aWxzLmluZGV4T2YodGhpcy51aS5wYWdlcyx0aGlzLnJlbGF0ZWRQYWdlKTt0aGlzLnVpLnBhZ2VzLnNwbGljZShhLDEpO3RoaXMuaW5kZXg9YX1lbHNlIHRoaXMudWkucGFnZXMuc3BsaWNlKHRoaXMuaW5kZXgsMCx0aGlzLnJlbGF0ZWRQYWdlKSx0aGlzLmluZGV4PW51bGw7dGhpcy5ub1NlbGVjdHx8U2VsZWN0UGFnZS5wcm90b3R5cGUuZXhlY3V0ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O0VkaXRvclVpLnByb3RvdHlwZS50YWJDb250YWluZXJIZWlnaHQ9Mzg7CkVkaXRvclVpLnByb3RvdHlwZS5nZXRTZWxlY3RlZFBhZ2VJbmRleD1mdW5jdGlvbigpe3ZhciBhPW51bGw7aWYobnVsbCE9dGhpcy5wYWdlcyYmbnVsbCE9dGhpcy5jdXJyZW50UGFnZSlmb3IodmFyIGM9MDtjPHRoaXMucGFnZXMubGVuZ3RoO2MrKylpZih0aGlzLnBhZ2VzW2NdPT10aGlzLmN1cnJlbnRQYWdlKXthPWM7YnJlYWt9cmV0dXJuIGF9O0VkaXRvclVpLnByb3RvdHlwZS5nZXRQYWdlQnlJZD1mdW5jdGlvbihhKXtpZihudWxsIT10aGlzLnBhZ2VzKWZvcih2YXIgYz0wO2M8dGhpcy5wYWdlcy5sZW5ndGg7YysrKWlmKHRoaXMucGFnZXNbY10uZ2V0SWQoKT09YSlyZXR1cm4gdGhpcy5wYWdlc1tjXTtyZXR1cm4gbnVsbH07CkVkaXRvclVpLnByb3RvdHlwZS5pbml0UGFnZXM9ZnVuY3Rpb24oKXtpZighdGhpcy5lZGl0b3IuZ3JhcGguc3RhbmRhbG9uZSl7dGhpcy5hY3Rpb25zLmFkZEFjdGlvbigicHJldmlvdXNQYWdlIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMuc2VsZWN0TmV4dFBhZ2UoITEpfSkpO3RoaXMuYWN0aW9ucy5hZGRBY3Rpb24oIm5leHRQYWdlIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMuc2VsZWN0TmV4dFBhZ2UoITApfSkpO3RoaXMua2V5SGFuZGxlci5iaW5kQWN0aW9uKDMzLCEwLCJwcmV2aW91c1BhZ2UiLCEwKTt0aGlzLmtleUhhbmRsZXIuYmluZEFjdGlvbigzNCwhMCwibmV4dFBhZ2UiLCEwKTt2YXIgYT10aGlzLmVkaXRvci5ncmFwaCxjPWEudmlldy52YWxpZGF0ZUJhY2tncm91bmQ7YS52aWV3LnZhbGlkYXRlQmFja2dyb3VuZD1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe2lmKG51bGwhPXRoaXMudGFiQ29udGFpbmVyKXt2YXIgZD10aGlzLnRhYkNvbnRhaW5lci5zdHlsZS5oZWlnaHQ7CnRoaXMudGFiQ29udGFpbmVyLnN0eWxlLmhlaWdodD1udWxsPT10aGlzLmZpbGVOb2RlfHxudWxsPT10aGlzLnBhZ2VzfHwxPT10aGlzLnBhZ2VzLmxlbmd0aCYmIjAiPT11cmxQYXJhbXMucGFnZXM/IjBweCI6dGhpcy50YWJDb250YWluZXJIZWlnaHQrInB4IjtkIT10aGlzLnRhYkNvbnRhaW5lci5zdHlsZS5oZWlnaHQmJnRoaXMucmVmcmVzaCghMSl9Yy5hcHBseShhLnZpZXcsYXJndW1lbnRzKX0pO3ZhciBmPW51bGwsZD1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMudXBkYXRlVGFiQ29udGFpbmVyKCk7dmFyIGM9dGhpcy5jdXJyZW50UGFnZTtudWxsIT1jJiZjIT1mJiYobnVsbD09Yy52aWV3U3RhdGV8fG51bGw9PWMudmlld1N0YXRlLnNjcm9sbExlZnQ/KHRoaXMucmVzZXRTY3JvbGxiYXJzKCksYS5pc0xpZ2h0Ym94VmlldygpJiZ0aGlzLmxpZ2h0Ym94Rml0KCksbnVsbCE9dGhpcy5jaHJvbWVsZXNzUmVzaXplJiYoYS5jb250YWluZXIuc2Nyb2xsTGVmdD0wLAphLmNvbnRhaW5lci5zY3JvbGxUb3A9MCx0aGlzLmNocm9tZWxlc3NSZXNpemUoKSkpOihhLmNvbnRhaW5lci5zY3JvbGxMZWZ0PWEudmlldy50cmFuc2xhdGUueCphLnZpZXcuc2NhbGUrYy52aWV3U3RhdGUuc2Nyb2xsTGVmdCxhLmNvbnRhaW5lci5zY3JvbGxUb3A9YS52aWV3LnRyYW5zbGF0ZS55KmEudmlldy5zY2FsZStjLnZpZXdTdGF0ZS5zY3JvbGxUb3ApLGY9Yyk7bnVsbCE9dGhpcy5hY3Rpb25zLmxheWVyc1dpbmRvdyYmdGhpcy5hY3Rpb25zLmxheWVyc1dpbmRvdy5yZWZyZXNoTGF5ZXJzKCk7InVuZGVmaW5lZCIhPT10eXBlb2YgTWF0aEpheCYmInVuZGVmaW5lZCIhPT10eXBlb2YgTWF0aEpheC5IdWI/MSE9TWF0aEpheC5IdWIucXVldWUucGVuZGluZ3x8bnVsbD09dGhpcy5lZGl0b3J8fHRoaXMuZWRpdG9yLmdyYXBoLm1hdGhFbmFibGVkfHxNYXRoSmF4Lkh1Yi5RdWV1ZShteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe251bGwhPXRoaXMuZWRpdG9yJiZ0aGlzLmVkaXRvci5ncmFwaC5yZWZyZXNoKCl9KSk6CiJ1bmRlZmluZWQiPT09dHlwZW9mIEVkaXRvci5NYXRoSmF4Q2xlYXJ8fG51bGwhPXRoaXMuZWRpdG9yJiZ0aGlzLmVkaXRvci5ncmFwaC5tYXRoRW5hYmxlZHx8RWRpdG9yLk1hdGhKYXhDbGVhcigpfSk7dGhpcy5lZGl0b3IuZ3JhcGgubW9kZWwuYWRkTGlzdGVuZXIobXhFdmVudC5DSEFOR0UsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSxjKXtmb3IodmFyIGY9Yy5nZXRQcm9wZXJ0eSgiZWRpdCIpLmNoYW5nZXMsYj0wO2I8Zi5sZW5ndGg7YisrKWlmKGZbYl1pbnN0YW5jZW9mIFNlbGVjdFBhZ2V8fGZbYl1pbnN0YW5jZW9mIFJlbmFtZVBhZ2V8fGZbYl1pbnN0YW5jZW9mIE1vdmVQYWdlfHxmW2JdaW5zdGFuY2VvZiBteFJvb3RDaGFuZ2Upe2QoKTticmVha319KSk7bnVsbCE9dGhpcy50b29sYmFyJiZ0aGlzLmVkaXRvci5hZGRMaXN0ZW5lcigicGFnZVNlbGVjdGVkIix0aGlzLnRvb2xiYXIudXBkYXRlWm9vbSl9fTsKRWRpdG9yVWkucHJvdG90eXBlLnJlc3RvcmVWaWV3U3RhdGU9ZnVuY3Rpb24oYSxjLGYpe2E9bnVsbCE9YT90aGlzLmdldFBhZ2VCeUlkKGEuZ2V0SWQoKSk6bnVsbDt2YXIgZD10aGlzLmVkaXRvci5ncmFwaDtudWxsIT1hJiZudWxsIT10aGlzLmN1cnJlbnRQYWdlJiZudWxsIT10aGlzLnBhZ2VzJiYoYSE9dGhpcy5jdXJyZW50UGFnZT90aGlzLnNlbGVjdFBhZ2UoYSwhMCxjKTooZC5zZXRWaWV3U3RhdGUoYyksdGhpcy5lZGl0b3IudXBkYXRlR3JhcGhDb21wb25lbnRzKCksZC52aWV3LnJldmFsaWRhdGUoKSxkLnNpemVEaWRDaGFuZ2UoKSksZC5jb250YWluZXIuc2Nyb2xsTGVmdD1kLnZpZXcudHJhbnNsYXRlLngqZC52aWV3LnNjYWxlK2Muc2Nyb2xsTGVmdCxkLmNvbnRhaW5lci5zY3JvbGxUb3A9ZC52aWV3LnRyYW5zbGF0ZS55KmQudmlldy5zY2FsZStjLnNjcm9sbFRvcCxkLnJlc3RvcmVTZWxlY3Rpb24oZikpfTsKR3JhcGgucHJvdG90eXBlLmNyZWF0ZVZpZXdTdGF0ZT1mdW5jdGlvbihhKXt2YXIgYz1hLmdldEF0dHJpYnV0ZSgicGFnZSIpLGY9cGFyc2VGbG9hdChhLmdldEF0dHJpYnV0ZSgicGFnZVNjYWxlIikpLGQ9cGFyc2VGbG9hdChhLmdldEF0dHJpYnV0ZSgicGFnZVdpZHRoIikpLGs9cGFyc2VGbG9hdChhLmdldEF0dHJpYnV0ZSgicGFnZUhlaWdodCIpKSxtPWEuZ2V0QXR0cmlidXRlKCJiYWNrZ3JvdW5kIikscT1hLmdldEF0dHJpYnV0ZSgiYmFja2dyb3VuZEltYWdlIikscT1udWxsIT1xJiYwPHEubGVuZ3RoP0pTT04ucGFyc2UocSk6bnVsbCxiPWEuZ2V0QXR0cmlidXRlKCJleHRGb250cyIpO2lmKGIpdHJ5e2I9Yi5zcGxpdCgifCIpLm1hcChmdW5jdGlvbihhKXthPWEuc3BsaXQoIl4iKTtyZXR1cm57bmFtZTphWzBdLHVybDphWzFdfX0pfWNhdGNoKGUpe2NvbnNvbGUubG9nKCJFeHRGb250cyBmb3JtYXQgZXJyb3I6ICIrZS5tZXNzYWdlKX1yZXR1cm57Z3JpZEVuYWJsZWQ6IjAiIT0KYS5nZXRBdHRyaWJ1dGUoImdyaWQiKSxncmlkU2l6ZTpwYXJzZUZsb2F0KGEuZ2V0QXR0cmlidXRlKCJncmlkU2l6ZSIpKXx8bXhHcmFwaC5wcm90b3R5cGUuZ3JpZFNpemUsZ3VpZGVzRW5hYmxlZDoiMCIhPWEuZ2V0QXR0cmlidXRlKCJndWlkZXMiKSxmb2xkaW5nRW5hYmxlZDoiMCIhPWEuZ2V0QXR0cmlidXRlKCJmb2xkIiksc2hhZG93VmlzaWJsZToiMSI9PWEuZ2V0QXR0cmlidXRlKCJzaGFkb3ciKSxwYWdlVmlzaWJsZTp0aGlzLmlzTGlnaHRib3hWaWV3KCk/ITE6bnVsbCE9Yz8iMCIhPWM6dGhpcy5kZWZhdWx0UGFnZVZpc2libGUsYmFja2dyb3VuZDpudWxsIT1tJiYwPG0ubGVuZ3RoP206bnVsbCxiYWNrZ3JvdW5kSW1hZ2U6bnVsbCE9cT9uZXcgbXhJbWFnZShxLnNyYyxxLndpZHRoLHEuaGVpZ2h0KTpudWxsLHBhZ2VTY2FsZTppc05hTihmKT9teEdyYXBoLnByb3RvdHlwZS5wYWdlU2NhbGU6ZixwYWdlRm9ybWF0OmlzTmFOKGQpfHxpc05hTihrKT8idW5kZWZpbmVkIj09PQp0eXBlb2YgbXhTZXR0aW5ncz9teEdyYXBoLnByb3RvdHlwZS5wYWdlRm9ybWF0Om14U2V0dGluZ3MuZ2V0UGFnZUZvcm1hdCgpOm5ldyBteFJlY3RhbmdsZSgwLDAsZCxrKSx0b29sdGlwczoiMCIhPWEuZ2V0QXR0cmlidXRlKCJ0b29sdGlwcyIpLGNvbm5lY3Q6IjAiIT1hLmdldEF0dHJpYnV0ZSgiY29ubmVjdCIpLGFycm93czoiMCIhPWEuZ2V0QXR0cmlidXRlKCJhcnJvd3MiKSxtYXRoRW5hYmxlZDoiMSI9PWEuZ2V0QXR0cmlidXRlKCJtYXRoIiksc2VsZWN0aW9uQ2VsbHM6bnVsbCxkZWZhdWx0UGFyZW50Om51bGwsc2Nyb2xsYmFyczp0aGlzLmRlZmF1bHRTY3JvbGxiYXJzLHNjYWxlOjEsZXh0Rm9udHM6Ynx8W119fTsKR3JhcGgucHJvdG90eXBlLnNhdmVWaWV3U3RhdGU9ZnVuY3Rpb24oYSxjLGYpe2Z8fChjLnNldEF0dHJpYnV0ZSgiZ3JpZCIsbnVsbD09YXx8YS5ncmlkRW5hYmxlZD8iMSI6IjAiKSxjLnNldEF0dHJpYnV0ZSgiZ3JpZFNpemUiLG51bGwhPWE/YS5ncmlkU2l6ZTpteEdyYXBoLnByb3RvdHlwZS5ncmlkU2l6ZSksYy5zZXRBdHRyaWJ1dGUoImd1aWRlcyIsbnVsbD09YXx8YS5ndWlkZXNFbmFibGVkPyIxIjoiMCIpLGMuc2V0QXR0cmlidXRlKCJ0b29sdGlwcyIsbnVsbD09YXx8YS50b29sdGlwcz8iMSI6IjAiKSxjLnNldEF0dHJpYnV0ZSgiY29ubmVjdCIsbnVsbD09YXx8YS5jb25uZWN0PyIxIjoiMCIpLGMuc2V0QXR0cmlidXRlKCJhcnJvd3MiLG51bGw9PWF8fGEuYXJyb3dzPyIxIjoiMCIpLGMuc2V0QXR0cmlidXRlKCJwYWdlIixudWxsPT1hJiZ0aGlzLmRlZmF1bHRQYWdlVmlzaWJsZXx8bnVsbCE9YSYmYS5wYWdlVmlzaWJsZT8iMSI6IjAiKSxjLnNldEF0dHJpYnV0ZSgiZm9sZCIsCm51bGw9PWF8fGEuZm9sZGluZ0VuYWJsZWQ/IjEiOiIwIikpO2Muc2V0QXR0cmlidXRlKCJwYWdlU2NhbGUiLG51bGwhPWEmJm51bGwhPWEucGFnZVNjYWxlP2EucGFnZVNjYWxlOm14R3JhcGgucHJvdG90eXBlLnBhZ2VTY2FsZSk7Zj1udWxsIT1hP2EucGFnZUZvcm1hdDoidW5kZWZpbmVkIj09PXR5cGVvZiBteFNldHRpbmdzP214R3JhcGgucHJvdG90eXBlLnBhZ2VGb3JtYXQ6bXhTZXR0aW5ncy5nZXRQYWdlRm9ybWF0KCk7bnVsbCE9ZiYmKGMuc2V0QXR0cmlidXRlKCJwYWdlV2lkdGgiLGYud2lkdGgpLGMuc2V0QXR0cmlidXRlKCJwYWdlSGVpZ2h0IixmLmhlaWdodCkpO251bGwhPWEmJm51bGwhPWEuYmFja2dyb3VuZCYmYy5zZXRBdHRyaWJ1dGUoImJhY2tncm91bmQiLGEuYmFja2dyb3VuZCk7bnVsbCE9YSYmbnVsbCE9YS5iYWNrZ3JvdW5kSW1hZ2UmJmMuc2V0QXR0cmlidXRlKCJiYWNrZ3JvdW5kSW1hZ2UiLEpTT04uc3RyaW5naWZ5KGEuYmFja2dyb3VuZEltYWdlKSk7Yy5zZXRBdHRyaWJ1dGUoIm1hdGgiLApudWxsIT1hJiZhLm1hdGhFbmFibGVkPyIxIjoiMCIpO2Muc2V0QXR0cmlidXRlKCJzaGFkb3ciLG51bGwhPWEmJmEuc2hhZG93VmlzaWJsZT8iMSI6IjAiKTtudWxsIT1hJiZudWxsIT1hLmV4dEZvbnRzJiYwPGEuZXh0Rm9udHMubGVuZ3RoJiZjLnNldEF0dHJpYnV0ZSgiZXh0Rm9udHMiLGEuZXh0Rm9udHMubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLm5hbWUrIl4iK2EudXJsfSkuam9pbigifCIpKX07CkdyYXBoLnByb3RvdHlwZS5nZXRWaWV3U3RhdGU9ZnVuY3Rpb24oKXtyZXR1cm57ZGVmYXVsdFBhcmVudDp0aGlzLmRlZmF1bHRQYXJlbnQsY3VycmVudFJvb3Q6dGhpcy52aWV3LmN1cnJlbnRSb290LGdyaWRFbmFibGVkOnRoaXMuZ3JpZEVuYWJsZWQsZ3JpZFNpemU6dGhpcy5ncmlkU2l6ZSxndWlkZXNFbmFibGVkOnRoaXMuZ3JhcGhIYW5kbGVyLmd1aWRlc0VuYWJsZWQsZm9sZGluZ0VuYWJsZWQ6dGhpcy5mb2xkaW5nRW5hYmxlZCxzaGFkb3dWaXNpYmxlOnRoaXMuc2hhZG93VmlzaWJsZSxzY3JvbGxiYXJzOnRoaXMuc2Nyb2xsYmFycyxwYWdlVmlzaWJsZTp0aGlzLnBhZ2VWaXNpYmxlLGJhY2tncm91bmQ6dGhpcy5iYWNrZ3JvdW5kLGJhY2tncm91bmRJbWFnZTp0aGlzLmJhY2tncm91bmRJbWFnZSxwYWdlU2NhbGU6dGhpcy5wYWdlU2NhbGUscGFnZUZvcm1hdDp0aGlzLnBhZ2VGb3JtYXQsdG9vbHRpcHM6dGhpcy50b29sdGlwSGFuZGxlci5pc0VuYWJsZWQoKSxjb25uZWN0OnRoaXMuY29ubmVjdGlvbkhhbmRsZXIuaXNFbmFibGVkKCksCmFycm93czp0aGlzLmNvbm5lY3Rpb25BcnJvd3NFbmFibGVkLHNjYWxlOnRoaXMudmlldy5zY2FsZSxzY3JvbGxMZWZ0OnRoaXMuY29udGFpbmVyLnNjcm9sbExlZnQtdGhpcy52aWV3LnRyYW5zbGF0ZS54KnRoaXMudmlldy5zY2FsZSxzY3JvbGxUb3A6dGhpcy5jb250YWluZXIuc2Nyb2xsVG9wLXRoaXMudmlldy50cmFuc2xhdGUueSp0aGlzLnZpZXcuc2NhbGUsdHJhbnNsYXRlOnRoaXMudmlldy50cmFuc2xhdGUuY2xvbmUoKSxsYXN0UGFzdGVYbWw6dGhpcy5sYXN0UGFzdGVYbWwscGFzdGVDb3VudGVyOnRoaXMucGFzdGVDb3VudGVyLG1hdGhFbmFibGVkOnRoaXMubWF0aEVuYWJsZWQsZXh0Rm9udHM6dGhpcy5leHRGb250c319OwpHcmFwaC5wcm90b3R5cGUuc2V0Vmlld1N0YXRlPWZ1bmN0aW9uKGEsYyl7aWYobnVsbCE9YSl7dGhpcy5sYXN0UGFzdGVYbWw9YS5sYXN0UGFzdGVYbWw7dGhpcy5wYXN0ZUNvdW50ZXI9YS5wYXN0ZUNvdW50ZXJ8fDA7dGhpcy5tYXRoRW5hYmxlZD1hLm1hdGhFbmFibGVkO3RoaXMuZ3JpZEVuYWJsZWQ9YS5ncmlkRW5hYmxlZDt0aGlzLmdyaWRTaXplPWEuZ3JpZFNpemU7dGhpcy5ncmFwaEhhbmRsZXIuZ3VpZGVzRW5hYmxlZD1hLmd1aWRlc0VuYWJsZWQ7dGhpcy5mb2xkaW5nRW5hYmxlZD1hLmZvbGRpbmdFbmFibGVkO3RoaXMuc2V0U2hhZG93VmlzaWJsZShhLnNoYWRvd1Zpc2libGUsITEpO3RoaXMuc2Nyb2xsYmFycz1hLnNjcm9sbGJhcnM7dGhpcy5wYWdlVmlzaWJsZT0hdGhpcy5pc1ZpZXdlcigpJiZhLnBhZ2VWaXNpYmxlO3RoaXMuYmFja2dyb3VuZD1hLmJhY2tncm91bmQ7dGhpcy5iYWNrZ3JvdW5kSW1hZ2U9YS5iYWNrZ3JvdW5kSW1hZ2U7dGhpcy5wYWdlU2NhbGU9YS5wYWdlU2NhbGU7CnRoaXMucGFnZUZvcm1hdD1hLnBhZ2VGb3JtYXQ7dGhpcy52aWV3LmN1cnJlbnRSb290PWEuY3VycmVudFJvb3Q7dGhpcy5kZWZhdWx0UGFyZW50PWEuZGVmYXVsdFBhcmVudDt0aGlzLmNvbm5lY3Rpb25BcnJvd3NFbmFibGVkPWEuYXJyb3dzO3RoaXMuc2V0VG9vbHRpcHMoYS50b29sdGlwcyk7dGhpcy5zZXRDb25uZWN0YWJsZShhLmNvbm5lY3QpO3ZhciBmPXRoaXMuZXh0Rm9udHM7dGhpcy5leHRGb250cz1hLmV4dEZvbnRzfHxbXTtpZihjJiZudWxsIT1mKWZvcih2YXIgZD0wO2Q8Zi5sZW5ndGg7ZCsrKXt2YXIgaz1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZXh0Rm9udF8iK2ZbZF0ubmFtZSk7bnVsbCE9ayYmay5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGspfWZvcihkPTA7ZDx0aGlzLmV4dEZvbnRzLmxlbmd0aDtkKyspdGhpcy5hZGRFeHRGb250KHRoaXMuZXh0Rm9udHNbZF0ubmFtZSx0aGlzLmV4dEZvbnRzW2RdLnVybCwhMCk7dGhpcy52aWV3LnNjYWxlPW51bGwhPWEuc2NhbGU/CmEuc2NhbGU6MTtudWxsPT10aGlzLnZpZXcuY3VycmVudFJvb3R8fHRoaXMubW9kZWwuY29udGFpbnModGhpcy52aWV3LmN1cnJlbnRSb290KXx8KHRoaXMudmlldy5jdXJyZW50Um9vdD1udWxsKTtudWxsPT10aGlzLmRlZmF1bHRQYXJlbnR8fHRoaXMubW9kZWwuY29udGFpbnModGhpcy5kZWZhdWx0UGFyZW50KXx8KHRoaXMuc2V0RGVmYXVsdFBhcmVudChudWxsKSx0aGlzLnNlbGVjdFVubG9ja2VkTGF5ZXIoKSk7bnVsbCE9YS50cmFuc2xhdGUmJih0aGlzLnZpZXcudHJhbnNsYXRlPWEudHJhbnNsYXRlKX1lbHNlIHRoaXMudmlldy5jdXJyZW50Um9vdD1udWxsLHRoaXMudmlldy5zY2FsZT0xLHRoaXMuZ3JpZEVuYWJsZWQ9ITAsdGhpcy5ncmlkU2l6ZT1teEdyYXBoLnByb3RvdHlwZS5ncmlkU2l6ZSx0aGlzLnBhZ2VTY2FsZT1teEdyYXBoLnByb3RvdHlwZS5wYWdlU2NhbGUsdGhpcy5wYWdlRm9ybWF0PSJ1bmRlZmluZWQiPT09dHlwZW9mIG14U2V0dGluZ3M/bXhHcmFwaC5wcm90b3R5cGUucGFnZUZvcm1hdDoKbXhTZXR0aW5ncy5nZXRQYWdlRm9ybWF0KCksdGhpcy5wYWdlVmlzaWJsZT10aGlzLmRlZmF1bHRQYWdlVmlzaWJsZSx0aGlzLmJhY2tncm91bmRJbWFnZT10aGlzLmJhY2tncm91bmQ9bnVsbCx0aGlzLnNjcm9sbGJhcnM9dGhpcy5kZWZhdWx0U2Nyb2xsYmFycyx0aGlzLmZvbGRpbmdFbmFibGVkPXRoaXMuZ3JhcGhIYW5kbGVyLmd1aWRlc0VuYWJsZWQ9ITAsdGhpcy5zZXRTaGFkb3dWaXNpYmxlKCExLCExKSx0aGlzLmRlZmF1bHRQYXJlbnQ9bnVsbCx0aGlzLnNldFRvb2x0aXBzKCEwKSx0aGlzLnNldENvbm5lY3RhYmxlKCEwKSx0aGlzLmxhc3RQYXN0ZVhtbD1udWxsLHRoaXMucGFzdGVDb3VudGVyPTAsdGhpcy5tYXRoRW5hYmxlZD0hMSx0aGlzLmNvbm5lY3Rpb25BcnJvd3NFbmFibGVkPSEwLHRoaXMuZXh0Rm9udHM9W107dGhpcy5wcmVmZXJQYWdlU2l6ZT10aGlzLnBhZ2VCcmVha3NWaXNpYmxlPXRoaXMucGFnZVZpc2libGU7dGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QoInZpZXdTdGF0ZUNoYW5nZWQiLAoic3RhdGUiLGEpKX07CkdyYXBoLnByb3RvdHlwZS5hZGRFeHRGb250PWZ1bmN0aW9uKGEsYyxmKXtpZihhJiZjKXt2YXIgZD0iZXh0Rm9udF8iK2E7aWYobnVsbD09ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZCkpaWYoMD09Yy5pbmRleE9mKEVkaXRvci5HT09HTEVfRk9OVFMpKW14Q2xpZW50LmxpbmsoInN0eWxlc2hlZXQiLGMsbnVsbCxkKTtlbHNle2RvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJoZWFkIik7dmFyIGs9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3R5bGUiKTtrLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCdAZm9udC1mYWNlIHtcblx0Zm9udC1mYW1pbHk6ICInK2ErJyI7XG5cdHNyYzogdXJsKCInK2MrJyIpO1xufScpKTtrLnNldEF0dHJpYnV0ZSgiaWQiLGQpO2RvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJoZWFkIilbMF0uYXBwZW5kQ2hpbGQoayl9aWYoIWYpe251bGw9PXRoaXMuZXh0Rm9udHMmJih0aGlzLmV4dEZvbnRzPVtdKTtmPXRoaXMuZXh0Rm9udHM7CmQ9ITA7Zm9yKGs9MDtrPGYubGVuZ3RoO2srKylpZihmW2tdLm5hbWU9PWEpe2Q9ITE7YnJlYWt9ZCYmdGhpcy5leHRGb250cy5wdXNoKHtuYW1lOmEsdXJsOmN9KX19fTsKRWRpdG9yVWkucHJvdG90eXBlLnVwZGF0ZVBhZ2VSb290PWZ1bmN0aW9uKGEsYyl7aWYobnVsbD09YS5yb290KXt2YXIgZj10aGlzLmVkaXRvci5leHRyYWN0R3JhcGhNb2RlbChhLm5vZGUsbnVsbCxjKSxkPUVkaXRvci5leHRyYWN0UGFyc2VyRXJyb3IoZik7aWYoZCl0aHJvdyBFcnJvcihkKTtudWxsIT1mPyhhLmdyYXBoTW9kZWxOb2RlPWYsYS52aWV3U3RhdGU9dGhpcy5lZGl0b3IuZ3JhcGguY3JlYXRlVmlld1N0YXRlKGYpLGQ9bmV3IG14Q29kZWMoZi5vd25lckRvY3VtZW50KSxhLnJvb3Q9ZC5kZWNvZGUoZikucm9vdCk6YS5yb290PXRoaXMuZWRpdG9yLmdyYXBoLm1vZGVsLmNyZWF0ZVJvb3QoKX1lbHNlIGlmKG51bGw9PWEudmlld1N0YXRlKXtpZihudWxsPT1hLmdyYXBoTW9kZWxOb2RlKXtmPXRoaXMuZWRpdG9yLmV4dHJhY3RHcmFwaE1vZGVsKGEubm9kZSk7aWYoZD1FZGl0b3IuZXh0cmFjdFBhcnNlckVycm9yKGYpKXRocm93IEVycm9yKGQpO251bGwhPWYmJihhLmdyYXBoTW9kZWxOb2RlPQpmKX1udWxsIT1hLmdyYXBoTW9kZWxOb2RlJiYoYS52aWV3U3RhdGU9dGhpcy5lZGl0b3IuZ3JhcGguY3JlYXRlVmlld1N0YXRlKGEuZ3JhcGhNb2RlbE5vZGUpKX1yZXR1cm4gYX07CkVkaXRvclVpLnByb3RvdHlwZS5zZWxlY3RQYWdlPWZ1bmN0aW9uKGEsYyxmKXt0cnl7aWYoYSE9dGhpcy5jdXJyZW50UGFnZSl7dGhpcy5lZGl0b3IuZ3JhcGguaXNFZGl0aW5nKCkmJnRoaXMuZWRpdG9yLmdyYXBoLnN0b3BFZGl0aW5nKCExKTtjPW51bGwhPWM/YzohMTt0aGlzLmVkaXRvci5ncmFwaC5pc01vdXNlRG93bj0hMTt0aGlzLmVkaXRvci5ncmFwaC5yZXNldCgpO3ZhciBkPXRoaXMuZWRpdG9yLmdyYXBoLm1vZGVsLmNyZWF0ZVVuZG9hYmxlRWRpdCgpO2QuaWdub3JlRWRpdD0hMDt2YXIgaz1uZXcgU2VsZWN0UGFnZSh0aGlzLGEsZik7ay5leGVjdXRlKCk7ZC5hZGQoayk7ZC5ub3RpZnkoKTt0aGlzLmVkaXRvci5ncmFwaC50b29sdGlwSGFuZGxlci5oaWRlKCk7Y3x8dGhpcy5lZGl0b3IuZ3JhcGgubW9kZWwuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KG14RXZlbnQuVU5ETywiZWRpdCIsZCkpfX1jYXRjaChtKXt0aGlzLmhhbmRsZUVycm9yKG0pfX07CkVkaXRvclVpLnByb3RvdHlwZS5zZWxlY3ROZXh0UGFnZT1mdW5jdGlvbihhKXt2YXIgYz10aGlzLmN1cnJlbnRQYWdlO251bGwhPWMmJm51bGwhPXRoaXMucGFnZXMmJihjPW14VXRpbHMuaW5kZXhPZih0aGlzLnBhZ2VzLGMpLGE/dGhpcy5zZWxlY3RQYWdlKHRoaXMucGFnZXNbbXhVdGlscy5tb2QoYysxLHRoaXMucGFnZXMubGVuZ3RoKV0pOmF8fHRoaXMuc2VsZWN0UGFnZSh0aGlzLnBhZ2VzW214VXRpbHMubW9kKGMtMSx0aGlzLnBhZ2VzLmxlbmd0aCldKSl9OwpFZGl0b3JVaS5wcm90b3R5cGUuaW5zZXJ0UGFnZT1mdW5jdGlvbihhLGMpe2lmKHRoaXMuZWRpdG9yLmdyYXBoLmlzRW5hYmxlZCgpKXt0aGlzLmVkaXRvci5ncmFwaC5pc0VkaXRpbmcoKSYmdGhpcy5lZGl0b3IuZ3JhcGguc3RvcEVkaXRpbmcoITEpO2E9bnVsbCE9YT9hOnRoaXMuY3JlYXRlUGFnZShudWxsLHRoaXMuY3JlYXRlUGFnZUlkKCkpO2M9bnVsbCE9Yz9jOnRoaXMucGFnZXMubGVuZ3RoO3ZhciBmPW5ldyBDaGFuZ2VQYWdlKHRoaXMsYSxhLGMpO3RoaXMuZWRpdG9yLmdyYXBoLm1vZGVsLmV4ZWN1dGUoZil9cmV0dXJuIGF9O0VkaXRvclVpLnByb3RvdHlwZS5jcmVhdGVQYWdlSWQ9ZnVuY3Rpb24oKXt2YXIgYTtkbyBhPUVkaXRvci5ndWlkKCk7d2hpbGUobnVsbCE9dGhpcy5nZXRQYWdlQnlJZChhKSk7cmV0dXJuIGF9OwpFZGl0b3JVaS5wcm90b3R5cGUuY3JlYXRlUGFnZT1mdW5jdGlvbihhLGMpe3ZhciBmPW5ldyBEaWFncmFtUGFnZSh0aGlzLmZpbGVOb2RlLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGlhZ3JhbSIpLGMpO2Yuc2V0TmFtZShudWxsIT1hP2E6dGhpcy5jcmVhdGVQYWdlTmFtZSgpKTtyZXR1cm4gZn07RWRpdG9yVWkucHJvdG90eXBlLmNyZWF0ZVBhZ2VOYW1lPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPXt9LGM9MDtjPHRoaXMucGFnZXMubGVuZ3RoO2MrKyl7dmFyIGY9dGhpcy5wYWdlc1tjXS5nZXROYW1lKCk7bnVsbCE9ZiYmMDxmLmxlbmd0aCYmKGFbZl09Zil9Yz10aGlzLnBhZ2VzLmxlbmd0aDtkbyBmPW14UmVzb3VyY2VzLmdldCgicGFnZVdpdGhOdW1iZXIiLFsrK2NdKTt3aGlsZShudWxsIT1hW2ZdKTtyZXR1cm4gZn07CkVkaXRvclVpLnByb3RvdHlwZS5yZW1vdmVQYWdlPWZ1bmN0aW9uKGEpe3RyeXt2YXIgYz10aGlzLmVkaXRvci5ncmFwaCxmPW14VXRpbHMuaW5kZXhPZih0aGlzLnBhZ2VzLGEpO2lmKGMuaXNFbmFibGVkKCkmJjA8PWYpe3RoaXMuZWRpdG9yLmdyYXBoLmlzRWRpdGluZygpJiZ0aGlzLmVkaXRvci5ncmFwaC5zdG9wRWRpdGluZyghMSk7Yy5tb2RlbC5iZWdpblVwZGF0ZSgpO3RyeXt2YXIgZD10aGlzLmN1cnJlbnRQYWdlO2Q9PWEmJjE8dGhpcy5wYWdlcy5sZW5ndGg/KGY9PXRoaXMucGFnZXMubGVuZ3RoLTE/Zi0tOmYrKyxkPXRoaXMucGFnZXNbZl0pOjE+PXRoaXMucGFnZXMubGVuZ3RoJiYoZD10aGlzLmluc2VydFBhZ2UoKSxjLm1vZGVsLmV4ZWN1dGUobmV3IFJlbmFtZVBhZ2UodGhpcyxkLG14UmVzb3VyY2VzLmdldCgicGFnZVdpdGhOdW1iZXIiLFsxXSkpKSk7Yy5tb2RlbC5leGVjdXRlKG5ldyBDaGFuZ2VQYWdlKHRoaXMsYSxkKSl9ZmluYWxseXtjLm1vZGVsLmVuZFVwZGF0ZSgpfX19Y2F0Y2goayl7dGhpcy5oYW5kbGVFcnJvcihrKX1yZXR1cm4gYX07CkVkaXRvclVpLnByb3RvdHlwZS5kdXBsaWNhdGVQYWdlPWZ1bmN0aW9uKGEsYyl7dmFyIGY9bnVsbDt0cnl7dmFyIGQ9dGhpcy5lZGl0b3IuZ3JhcGg7aWYoZC5pc0VuYWJsZWQoKSl7ZC5pc0VkaXRpbmcoKSYmZC5zdG9wRWRpdGluZygpO3ZhciBrPWEubm9kZS5jbG9uZU5vZGUoITEpO2sucmVtb3ZlQXR0cmlidXRlKCJpZCIpO2Y9bmV3IERpYWdyYW1QYWdlKGspO2Yucm9vdD1kLmNsb25lQ2VsbChkLm1vZGVsLnJvb3QpO2Yudmlld1N0YXRlPWQuZ2V0Vmlld1N0YXRlKCk7Zi52aWV3U3RhdGUuc2NhbGU9MTtmLnZpZXdTdGF0ZS5zY3JvbGxMZWZ0PW51bGw7Zi52aWV3U3RhdGUuc2Nyb2xsVG9wPW51bGw7Zi52aWV3U3RhdGUuY3VycmVudFJvb3Q9bnVsbDtmLnZpZXdTdGF0ZS5kZWZhdWx0UGFyZW50PW51bGw7Zi5zZXROYW1lKGMpO2Y9dGhpcy5pbnNlcnRQYWdlKGYsbXhVdGlscy5pbmRleE9mKHRoaXMucGFnZXMsYSkrMSl9fWNhdGNoKG0pe3RoaXMuaGFuZGxlRXJyb3IobSl9cmV0dXJuIGZ9OwpFZGl0b3JVaS5wcm90b3R5cGUucmVuYW1lUGFnZT1mdW5jdGlvbihhKXtpZih0aGlzLmVkaXRvci5ncmFwaC5pc0VuYWJsZWQoKSl7dmFyIGM9bmV3IEZpbGVuYW1lRGlhbG9nKHRoaXMsYS5nZXROYW1lKCksbXhSZXNvdXJjZXMuZ2V0KCJyZW5hbWUiKSxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihjKXtudWxsIT1jJiYwPGMubGVuZ3RoJiZ0aGlzLmVkaXRvci5ncmFwaC5tb2RlbC5leGVjdXRlKG5ldyBSZW5hbWVQYWdlKHRoaXMsYSxjKSl9KSxteFJlc291cmNlcy5nZXQoInJlbmFtZSIpKTt0aGlzLnNob3dEaWFsb2coYy5jb250YWluZXIsMzAwLDgwLCEwLCEwKTtjLmluaXQoKX1yZXR1cm4gYX07RWRpdG9yVWkucHJvdG90eXBlLm1vdmVQYWdlPWZ1bmN0aW9uKGEsYyl7dGhpcy5lZGl0b3IuZ3JhcGgubW9kZWwuZXhlY3V0ZShuZXcgTW92ZVBhZ2UodGhpcyxhLGMpKX07CkVkaXRvclVpLnByb3RvdHlwZS5jcmVhdGVUYWJDb250YWluZXI9ZnVuY3Rpb24oKXt2YXIgYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTthLmNsYXNzTmFtZT0iZ2VUYWJDb250YWluZXIiO2Euc3R5bGUucG9zaXRpb249ImFic29sdXRlIjthLnN0eWxlLndoaXRlU3BhY2U9Im5vd3JhcCI7YS5zdHlsZS5vdmVyZmxvdz0iaGlkZGVuIjthLnN0eWxlLmhlaWdodD0iMHB4IjtyZXR1cm4gYX07CkVkaXRvclVpLnByb3RvdHlwZS51cGRhdGVUYWJDb250YWluZXI9ZnVuY3Rpb24oKXtpZihudWxsIT10aGlzLnRhYkNvbnRhaW5lciYmbnVsbCE9dGhpcy5wYWdlcyl7dmFyIGE9dGhpcy5lZGl0b3IuZ3JhcGgsYz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtjLnN0eWxlLnBvc2l0aW9uPSJyZWxhdGl2ZSI7Yy5zdHlsZS5kaXNwbGF5PW14Q2xpZW50LklTX1FVSVJLUz8iaW5saW5lIjoiaW5saW5lLWJsb2NrIjtjLnN0eWxlLnZlcnRpY2FsQWxpZ249InRvcCI7Yy5zdHlsZS5oZWlnaHQ9dGhpcy50YWJDb250YWluZXIuc3R5bGUuaGVpZ2h0O2Muc3R5bGUud2hpdGVTcGFjZT0ibm93cmFwIjtjLnN0eWxlLm92ZXJmbG93PSJoaWRkZW4iO2Muc3R5bGUuZm9udFNpemU9IjEzcHgiO2Muc3R5bGUubWFyZ2luTGVmdD0iMzBweCI7Zm9yKHZhciBmPXRoaXMuZWRpdG9yLmlzQ2hyb21lbGVzc1ZpZXcoKT8yOTo1OSxkPU1hdGgubWluKDE0MCxNYXRoLm1heCgyMCwodGhpcy50YWJDb250YWluZXIuY2xpZW50V2lkdGgtCmYpL3RoaXMucGFnZXMubGVuZ3RoKSsxKSxrPW51bGwsbT0wO208dGhpcy5wYWdlcy5sZW5ndGg7bSsrKW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGIsZCl7dGhpcy5wYWdlc1tiXT09dGhpcy5jdXJyZW50UGFnZT8oZC5jbGFzc05hbWU9ImdlQWN0aXZlUGFnZSIsZC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9ImRhcmsiPT11aVRoZW1lPyIjMmEyYTJhIjoiI2ZmZiIpOmQuY2xhc3NOYW1lPSJnZUluYWN0aXZlUGFnZSI7ZC5zZXRBdHRyaWJ1dGUoImRyYWdnYWJsZSIsInRydWUiKTtteEV2ZW50LmFkZExpc3RlbmVyKGQsImRyYWdzdGFydCIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYyl7YS5pc0VuYWJsZWQoKT8obXhDbGllbnQuSVNfRkYmJmMuZGF0YVRyYW5zZmVyLnNldERhdGEoIlRleHQiLCI8ZGlhZ3JhbS8+Iiksaz1iKTpteEV2ZW50LmNvbnN1bWUoYyl9KSk7bXhFdmVudC5hZGRMaXN0ZW5lcihkLCJkcmFnZW5kIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXtrPQpudWxsO2Euc3RvcFByb3BhZ2F0aW9uKCk7YS5wcmV2ZW50RGVmYXVsdCgpfSkpO214RXZlbnQuYWRkTGlzdGVuZXIoZCwiZHJhZ292ZXIiLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe251bGwhPWsmJihhLmRhdGFUcmFuc2Zlci5kcm9wRWZmZWN0PSJtb3ZlIik7YS5zdG9wUHJvcGFnYXRpb24oKTthLnByZXZlbnREZWZhdWx0KCl9KSk7bXhFdmVudC5hZGRMaXN0ZW5lcihkLCJkcm9wIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXtudWxsIT1rJiZiIT1rJiZ0aGlzLm1vdmVQYWdlKGssYik7YS5zdG9wUHJvcGFnYXRpb24oKTthLnByZXZlbnREZWZhdWx0KCl9KSk7Yy5hcHBlbmRDaGlsZChkKX0pKG0sdGhpcy5jcmVhdGVUYWJGb3JQYWdlKHRoaXMucGFnZXNbbV0sZCx0aGlzLnBhZ2VzW21dIT10aGlzLmN1cnJlbnRQYWdlLG0rMSkpO3RoaXMudGFiQ29udGFpbmVyLmlubmVySFRNTD0iIjt0aGlzLnRhYkNvbnRhaW5lci5hcHBlbmRDaGlsZChjKTtkPXRoaXMuY3JlYXRlUGFnZU1lbnVUYWIoKTsKdGhpcy50YWJDb250YWluZXIuYXBwZW5kQ2hpbGQoZCk7ZD1udWxsO3RoaXMuaXNQYWdlSW5zZXJ0VGFiVmlzaWJsZSgpJiYoZD10aGlzLmNyZWF0ZVBhZ2VJbnNlcnRUYWIoKSx0aGlzLnRhYkNvbnRhaW5lci5hcHBlbmRDaGlsZChkKSk7aWYoYy5jbGllbnRXaWR0aD50aGlzLnRhYkNvbnRhaW5lci5jbGllbnRXaWR0aC1mKXtudWxsIT1kJiYoZC5zdHlsZS5wb3NpdGlvbj0iYWJzb2x1dGUiLGQuc3R5bGUucmlnaHQ9IjBweCIsYy5zdHlsZS5tYXJnaW5SaWdodD0iMzBweCIpO3ZhciBxPXRoaXMuY3JlYXRlQ29udHJvbFRhYig0LCImbmJzcDsmIzEwMDk0OyZuYnNwOyIpO3Euc3R5bGUucG9zaXRpb249ImFic29sdXRlIjtxLnN0eWxlLnJpZ2h0PXRoaXMuZWRpdG9yLmNocm9tZWxlc3M/IjI5cHgiOiI1NXB4IjtxLnN0eWxlLmZvbnRTaXplPSIxM3B0Ijt0aGlzLnRhYkNvbnRhaW5lci5hcHBlbmRDaGlsZChxKTt2YXIgYj10aGlzLmNyZWF0ZUNvbnRyb2xUYWIoNCwiJm5ic3A7JiMxMDA5NTsiKTsKYi5zdHlsZS5wb3NpdGlvbj0iYWJzb2x1dGUiO2Iuc3R5bGUucmlnaHQ9dGhpcy5lZGl0b3IuY2hyb21lbGVzcz8iMHB4IjoiMjlweCI7Yi5zdHlsZS5mb250U2l6ZT0iMTNwdCI7dGhpcy50YWJDb250YWluZXIuYXBwZW5kQ2hpbGQoYik7dmFyIGU9TWF0aC5tYXgoMCx0aGlzLnRhYkNvbnRhaW5lci5jbGllbnRXaWR0aC0odGhpcy5lZGl0b3IuY2hyb21lbGVzcz84NjoxMTYpKTtjLnN0eWxlLndpZHRoPWUrInB4IjtteEV2ZW50LmFkZExpc3RlbmVyKHEsImNsaWNrIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXtjLnNjcm9sbExlZnQtPU1hdGgubWF4KDIwLGUtMjApO214VXRpbHMuc2V0T3BhY2l0eShxLDA8Yy5zY3JvbGxMZWZ0PzEwMDo1MCk7bXhVdGlscy5zZXRPcGFjaXR5KGIsYy5zY3JvbGxMZWZ0PGMuc2Nyb2xsV2lkdGgtYy5jbGllbnRXaWR0aD8xMDA6NTApO214RXZlbnQuY29uc3VtZShhKX0pKTtteFV0aWxzLnNldE9wYWNpdHkocSwwPGMuc2Nyb2xsTGVmdD8xMDA6CjUwKTtteFV0aWxzLnNldE9wYWNpdHkoYixjLnNjcm9sbExlZnQ8Yy5zY3JvbGxXaWR0aC1jLmNsaWVudFdpZHRoPzEwMDo1MCk7bXhFdmVudC5hZGRMaXN0ZW5lcihiLCJjbGljayIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7Yy5zY3JvbGxMZWZ0Kz1NYXRoLm1heCgyMCxlLTIwKTtteFV0aWxzLnNldE9wYWNpdHkocSwwPGMuc2Nyb2xsTGVmdD8xMDA6NTApO214VXRpbHMuc2V0T3BhY2l0eShiLGMuc2Nyb2xsTGVmdDxjLnNjcm9sbFdpZHRoLWMuY2xpZW50V2lkdGg/MTAwOjUwKTtteEV2ZW50LmNvbnN1bWUoYSl9KSl9fX07RWRpdG9yVWkucHJvdG90eXBlLmlzUGFnZUluc2VydFRhYlZpc2libGU9ZnVuY3Rpb24oKXtyZXR1cm4gMT09dXJsUGFyYW1zLmVtYmVkfHxudWxsIT10aGlzLmdldEN1cnJlbnRGaWxlKCkmJnRoaXMuZ2V0Q3VycmVudEZpbGUoKS5pc0VkaXRhYmxlKCl9OwpFZGl0b3JVaS5wcm90b3R5cGUuY3JlYXRlVGFiPWZ1bmN0aW9uKGEpe3ZhciBjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2Muc3R5bGUuZGlzcGxheT1teENsaWVudC5JU19RVUlSS1M/ImlubGluZSI6ImlubGluZS1ibG9jayI7Yy5zdHlsZS53aGl0ZVNwYWNlPSJub3dyYXAiO2Muc3R5bGUuYm94U2l6aW5nPSJib3JkZXItYm94IjtjLnN0eWxlLnBvc2l0aW9uPSJyZWxhdGl2ZSI7Yy5zdHlsZS5vdmVyZmxvdz0iaGlkZGVuIjtjLnN0eWxlLnRleHRBbGlnbj0iY2VudGVyIjtjLnN0eWxlLm1hcmdpbkxlZnQ9Ii0xcHgiO2Muc3R5bGUuaGVpZ2h0PXRoaXMudGFiQ29udGFpbmVyLmNsaWVudEhlaWdodCsicHgiO2Muc3R5bGUucGFkZGluZz0iMTJweCA0cHggOHB4IDRweCI7Yy5zdHlsZS5ib3JkZXI9ImRhcmsiPT11aVRoZW1lPyIxcHggc29saWQgIzUwNTc1OSI6IjFweCBzb2xpZCAjZThlYWVkIjtjLnN0eWxlLmJvcmRlclRvcFN0eWxlPSJub25lIjtjLnN0eWxlLmJvcmRlckJvdHRvbVN0eWxlPQoibm9uZSI7Yy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9dGhpcy50YWJDb250YWluZXIuc3R5bGUuYmFja2dyb3VuZENvbG9yO2Muc3R5bGUuY3Vyc29yPSJtb3ZlIjtjLnN0eWxlLmNvbG9yPSJncmF5IjthJiYobXhFdmVudC5hZGRMaXN0ZW5lcihjLCJtb3VzZWVudGVyIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXt0aGlzLmVkaXRvci5ncmFwaC5pc01vdXNlRG93bnx8KGMuc3R5bGUuYmFja2dyb3VuZENvbG9yPSJkYXJrIj09dWlUaGVtZT8iYmxhY2siOiIjZThlYWVkIixteEV2ZW50LmNvbnN1bWUoYSkpfSkpLG14RXZlbnQuYWRkTGlzdGVuZXIoYywibW91c2VsZWF2ZSIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7Yy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9dGhpcy50YWJDb250YWluZXIuc3R5bGUuYmFja2dyb3VuZENvbG9yO214RXZlbnQuY29uc3VtZShhKX0pKSk7cmV0dXJuIGN9OwpFZGl0b3JVaS5wcm90b3R5cGUuY3JlYXRlQ29udHJvbFRhYj1mdW5jdGlvbihhLGMpe3ZhciBmPXRoaXMuY3JlYXRlVGFiKCEwKTtmLnN0eWxlLmxpbmVIZWlnaHQ9dGhpcy50YWJDb250YWluZXJIZWlnaHQrInB4IjtmLnN0eWxlLnBhZGRpbmdUb3A9YSsicHgiO2Yuc3R5bGUuY3Vyc29yPSJwb2ludGVyIjtmLnN0eWxlLndpZHRoPSIzMHB4IjtmLmlubmVySFRNTD1jO251bGwhPWYuZmlyc3RDaGlsZCYmbnVsbCE9Zi5maXJzdENoaWxkLnN0eWxlJiZteFV0aWxzLnNldE9wYWNpdHkoZi5maXJzdENoaWxkLDQwKTtyZXR1cm4gZn07CkVkaXRvclVpLnByb3RvdHlwZS5jcmVhdGVQYWdlTWVudVRhYj1mdW5jdGlvbigpe3ZhciBhPXRoaXMuY3JlYXRlQ29udHJvbFRhYigzLCc8ZGl2IGNsYXNzPSJnZVNwcml0ZSBnZVNwcml0ZS1kb3RzIiBzdHlsZT0iZGlzcGxheTppbmxpbmUtYmxvY2s7bWFyZ2luLXRvcDo1cHg7d2lkdGg6MjFweDtoZWlnaHQ6MjFweDsiPjwvZGl2PicpO2Euc2V0QXR0cmlidXRlKCJ0aXRsZSIsbXhSZXNvdXJjZXMuZ2V0KCJwYWdlcyIpKTthLnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSI7YS5zdHlsZS5tYXJnaW5MZWZ0PSIwcHgiO2Euc3R5bGUudG9wPSIwcHgiO2Euc3R5bGUubGVmdD0iMXB4IjtteEV2ZW50LmFkZExpc3RlbmVyKGEsImNsaWNrIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXt0aGlzLmVkaXRvci5ncmFwaC5wb3B1cE1lbnVIYW5kbGVyLmhpZGVNZW51KCk7dmFyIGM9bmV3IG14UG9wdXBNZW51KG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEsYyl7Zm9yKHZhciBiPQowO2I8dGhpcy5wYWdlcy5sZW5ndGg7YisrKW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGIpe3ZhciBkPWEuYWRkSXRlbSh0aGlzLnBhZ2VzW2JdLmdldE5hbWUoKSxudWxsLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dGhpcy5zZWxlY3RQYWdlKHRoaXMucGFnZXNbYl0pfSksYyk7dGhpcy5wYWdlc1tiXT09dGhpcy5jdXJyZW50UGFnZSYmYS5hZGRDaGVja21hcmsoZCxFZGl0b3IuY2hlY2ttYXJrSW1hZ2UpfSkoYik7aWYodGhpcy5lZGl0b3IuZ3JhcGguaXNFbmFibGVkKCkpe2EuYWRkU2VwYXJhdG9yKGMpO2EuYWRkSXRlbShteFJlc291cmNlcy5nZXQoImluc2VydFBhZ2UiKSxudWxsLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dGhpcy5pbnNlcnRQYWdlKCl9KSxjKTt2YXIgZD10aGlzLmN1cnJlbnRQYWdlO251bGwhPWQmJihhLmFkZFNlcGFyYXRvcihjKSxhLmFkZEl0ZW0obXhSZXNvdXJjZXMuZ2V0KCJkZWxldGUiKSxudWxsLG14VXRpbHMuYmluZCh0aGlzLApmdW5jdGlvbigpe3RoaXMucmVtb3ZlUGFnZShkKX0pLGMpLGEuYWRkSXRlbShteFJlc291cmNlcy5nZXQoInJlbmFtZSIpLG51bGwsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt0aGlzLnJlbmFtZVBhZ2UoZCxkLmdldE5hbWUoKSl9KSxjKSxhLmFkZFNlcGFyYXRvcihjKSxhLmFkZEl0ZW0obXhSZXNvdXJjZXMuZ2V0KCJkdXBsaWNhdGUiKSxudWxsLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dGhpcy5kdXBsaWNhdGVQYWdlKGQsbXhSZXNvdXJjZXMuZ2V0KCJjb3B5T2YiLFtkLmdldE5hbWUoKV0pKX0pLGMpKX19KSk7Yy5kaXYuY2xhc3NOYW1lKz0iIGdlTWVudWJhck1lbnUiO2Muc21hcnRTZXBhcmF0b3JzPSEwO2Muc2hvd0Rpc2FibGVkPSEwO2MuYXV0b0V4cGFuZD0hMDtjLmhpZGVNZW51PW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7bXhQb3B1cE1lbnUucHJvdG90eXBlLmhpZGVNZW51LmFwcGx5KGMsYXJndW1lbnRzKTtjLmRlc3Ryb3koKX0pO3ZhciBkPQpteEV2ZW50LmdldENsaWVudFgoYSksaz1teEV2ZW50LmdldENsaWVudFkoYSk7Yy5wb3B1cChkLGssbnVsbCxhKTt0aGlzLnNldEN1cnJlbnRNZW51KGMpO214RXZlbnQuY29uc3VtZShhKX0pKTtyZXR1cm4gYX07RWRpdG9yVWkucHJvdG90eXBlLmNyZWF0ZVBhZ2VJbnNlcnRUYWI9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmNyZWF0ZUNvbnRyb2xUYWIoNCwnPGRpdiBjbGFzcz0iZ2VTcHJpdGUgZ2VTcHJpdGUtcGx1cyIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3dpZHRoOjIxcHg7aGVpZ2h0OjIxcHg7Ij48L2Rpdj4nKTthLnNldEF0dHJpYnV0ZSgidGl0bGUiLG14UmVzb3VyY2VzLmdldCgiaW5zZXJ0UGFnZSIpKTtteEV2ZW50LmFkZExpc3RlbmVyKGEsImNsaWNrIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXt0aGlzLmluc2VydFBhZ2UoKTtteEV2ZW50LmNvbnN1bWUoYSl9KSk7cmV0dXJuIGF9OwpFZGl0b3JVaS5wcm90b3R5cGUuY3JlYXRlVGFiRm9yUGFnZT1mdW5jdGlvbihhLGMsZixkKXtmPXRoaXMuY3JlYXRlVGFiKGYpO3ZhciBrPWEuZ2V0TmFtZSgpfHxteFJlc291cmNlcy5nZXQoInVudGl0bGVkIiksbT1hLmdldElkKCk7Zi5zZXRBdHRyaWJ1dGUoInRpdGxlIixrKyhudWxsIT1tPyIgKCIrbSsiKSI6IiIpKyIgWyIrZCsiXSIpO214VXRpbHMud3JpdGUoZixrKTtmLnN0eWxlLm1heFdpZHRoPWMrInB4IjtmLnN0eWxlLndpZHRoPWMrInB4Ijt0aGlzLmFkZFRhYkxpc3RlbmVycyhhLGYpOzQyPGMmJihmLnN0eWxlLnRleHRPdmVyZmxvdz0iZWxsaXBzaXMiKTtyZXR1cm4gZn07CkVkaXRvclVpLnByb3RvdHlwZS5hZGRUYWJMaXN0ZW5lcnM9ZnVuY3Rpb24oYSxjKXtteEV2ZW50LmRpc2FibGVDb250ZXh0TWVudShjKTt2YXIgZj10aGlzLmVkaXRvci5ncmFwaDtteEV2ZW50LmFkZExpc3RlbmVyKGMsImRibGNsaWNrIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihjKXt0aGlzLnJlbmFtZVBhZ2UoYSk7bXhFdmVudC5jb25zdW1lKGMpfSkpO3ZhciBkPSExLGs9ITE7bXhFdmVudC5hZGRHZXN0dXJlTGlzdGVuZXJzKGMsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYyl7ZD1udWxsIT10aGlzLmN1cnJlbnRNZW51O2s9YT09dGhpcy5jdXJyZW50UGFnZTtmLmlzTW91c2VEb3dufHxrfHx0aGlzLnNlbGVjdFBhZ2UoYSl9KSxudWxsLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKG0pe2lmKGYuaXNFbmFibGVkKCkmJiFmLmlzTW91c2VEb3duJiYobXhFdmVudC5pc1RvdWNoRXZlbnQobSkmJmt8fG14RXZlbnQuaXNQb3B1cFRyaWdnZXIobSkpKXtmLnBvcHVwTWVudUhhbmRsZXIuaGlkZU1lbnUoKTsKdGhpcy5oaWRlQ3VycmVudE1lbnUoKTtpZighbXhFdmVudC5pc1RvdWNoRXZlbnQobSl8fCFkKXt2YXIgcT1uZXcgbXhQb3B1cE1lbnUodGhpcy5jcmVhdGVQYWdlTWVudShhKSk7cS5kaXYuY2xhc3NOYW1lKz0iIGdlTWVudWJhck1lbnUiO3Euc21hcnRTZXBhcmF0b3JzPSEwO3Euc2hvd0Rpc2FibGVkPSEwO3EuYXV0b0V4cGFuZD0hMDtxLmhpZGVNZW51PW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7bXhQb3B1cE1lbnUucHJvdG90eXBlLmhpZGVNZW51LmFwcGx5KHEsYXJndW1lbnRzKTt0aGlzLnJlc2V0Q3VycmVudE1lbnUoKTtxLmRlc3Ryb3koKX0pO3ZhciBiPW14RXZlbnQuZ2V0Q2xpZW50WChtKSxlPW14RXZlbnQuZ2V0Q2xpZW50WShtKTtxLnBvcHVwKGIsZSxudWxsLG0pO3RoaXMuc2V0Q3VycmVudE1lbnUocSxjKX1teEV2ZW50LmNvbnN1bWUobSl9fSkpfTsKRWRpdG9yVWkucHJvdG90eXBlLmdldExpbmtGb3JQYWdlPWZ1bmN0aW9uKGEpe2lmKCFteENsaWVudC5JU19DSFJPTUVBUFAmJiFFZGl0b3JVaS5pc0VsZWN0cm9uQXBwKXt2YXIgYz10aGlzLmdldEN1cnJlbnRGaWxlKCk7aWYobnVsbCE9YyYmYy5jb25zdHJ1Y3RvciE9TG9jYWxGaWxlJiYiZHJhdy5pbyI9PXRoaXMuZ2V0U2VydmljZU5hbWUoKSl7dmFyIGY9dGhpcy5nZXRTZWFyY2goImNyZWF0ZSB0aXRsZSBtb2RlIHVybCBkcml2ZSBzcGxhc2ggc3RhdGUgY2xpYnMgdWkiLnNwbGl0KCIgIikpLGY9ZisoKDA9PWYubGVuZ3RoPyI/IjoiJiIpKyJwYWdlLWlkPSIrYS5nZXRJZCgpKTtyZXR1cm4gd2luZG93LmxvY2F0aW9uLnByb3RvY29sKyIvLyIrd2luZG93LmxvY2F0aW9uLmhvc3QrIi8iK2YrIiMiK2MuZ2V0SGFzaCgpfX1yZXR1cm4gbnVsbH07CkVkaXRvclVpLnByb3RvdHlwZS5jcmVhdGVQYWdlTWVudT1mdW5jdGlvbihhLGMpe3JldHVybiBteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihmLGQpe2YuYWRkSXRlbShteFJlc291cmNlcy5nZXQoImluc2VydCIpLG51bGwsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt0aGlzLmluc2VydFBhZ2UobnVsbCxteFV0aWxzLmluZGV4T2YodGhpcy5wYWdlcyxhKSsxKX0pLGQpO2YuYWRkSXRlbShteFJlc291cmNlcy5nZXQoImRlbGV0ZSIpLG51bGwsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt0aGlzLnJlbW92ZVBhZ2UoYSl9KSxkKTtmLmFkZEl0ZW0obXhSZXNvdXJjZXMuZ2V0KCJyZW5hbWUiKSxudWxsLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dGhpcy5yZW5hbWVQYWdlKGEsYyl9KSxkKTt2YXIgaz10aGlzLmdldExpbmtGb3JQYWdlKGEpO251bGwhPWsmJihmLmFkZFNlcGFyYXRvcihkKSxmLmFkZEl0ZW0obXhSZXNvdXJjZXMuZ2V0KCJsaW5rIiksbnVsbCwKbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt2YXIgYT1uZXcgRW1iZWREaWFsb2codGhpcyxrKTt0aGlzLnNob3dEaWFsb2coYS5jb250YWluZXIsNDQwLDI0MCwhMCwhMCk7YS5pbml0KCl9KSxkKSk7Zi5hZGRTZXBhcmF0b3IoZCk7Zi5hZGRJdGVtKG14UmVzb3VyY2VzLmdldCgiZHVwbGljYXRlIiksbnVsbCxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMuZHVwbGljYXRlUGFnZShhLG14UmVzb3VyY2VzLmdldCgiY29weU9mIixbYS5nZXROYW1lKCldKSl9KSxkKTtteENsaWVudC5JU19DSFJPTUVBUFB8fEVkaXRvclVpLmlzRWxlY3Ryb25BcHB8fCJkcmF3LmlvIiE9dGhpcy5nZXRTZXJ2aWNlTmFtZSgpfHwoZi5hZGRTZXBhcmF0b3IoZCksZi5hZGRJdGVtKG14UmVzb3VyY2VzLmdldCgib3BlbkluTmV3V2luZG93IiksbnVsbCxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMuZWRpdG9yLmVkaXRBc05ldyh0aGlzLmdldEZpbGVEYXRhKCEwLG51bGwsCm51bGwsbnVsbCwhMCwhMCkpfSksZCkpfSl9OyhmdW5jdGlvbigpe3ZhciBhPUVkaXRvclVpLnByb3RvdHlwZS5yZWZyZXNoO0VkaXRvclVpLnByb3RvdHlwZS5yZWZyZXNoPWZ1bmN0aW9uKGMpe2EuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMudXBkYXRlVGFiQ29udGFpbmVyKCl9fSkoKTsoZnVuY3Rpb24oKXtteENvZGVjUmVnaXN0cnkuZ2V0Q29kZWMoQ2hhbmdlUGFnZVNldHVwKS5leGNsdWRlLnB1c2goInBhZ2UiKX0pKCk7KGZ1bmN0aW9uKCl7dmFyIGE9bmV3IG14T2JqZWN0Q29kZWMobmV3IE1vdmVQYWdlLFsidWkiXSk7YS5iZWZvcmVEZWNvZGU9ZnVuY3Rpb24oYSxmLGQpe2QudWk9YS51aTtyZXR1cm4gZn07YS5hZnRlckRlY29kZT1mdW5jdGlvbihhLGYsZCl7YT1kLm9sZEluZGV4O2Qub2xkSW5kZXg9ZC5uZXdJbmRleDtkLm5ld0luZGV4PWE7cmV0dXJuIGR9O214Q29kZWNSZWdpc3RyeS5yZWdpc3RlcihhKX0pKCk7CihmdW5jdGlvbigpe3ZhciBhPW5ldyBteE9iamVjdENvZGVjKG5ldyBSZW5hbWVQYWdlLFsidWkiLCJwYWdlIl0pO2EuYmVmb3JlRGVjb2RlPWZ1bmN0aW9uKGEsZixkKXtkLnVpPWEudWk7cmV0dXJuIGZ9O2EuYWZ0ZXJEZWNvZGU9ZnVuY3Rpb24oYSxmLGQpe2E9ZC5wcmV2aW91cztkLnByZXZpb3VzPWQubmFtZTtkLm5hbWU9YTtyZXR1cm4gZH07bXhDb2RlY1JlZ2lzdHJ5LnJlZ2lzdGVyKGEpfSkoKTsKKGZ1bmN0aW9uKCl7dmFyIGE9bmV3IG14T2JqZWN0Q29kZWMobmV3IENoYW5nZVBhZ2UsInVpIHJlbGF0ZWRQYWdlIGluZGV4IG5ldmVyU2hvd24gcGFnZSBwcmV2aW91c1BhZ2UiLnNwbGl0KCIgIikpLGM9ImRlZmF1bHRQYXJlbnQgY3VycmVudFJvb3Qgc2Nyb2xsTGVmdCBzY3JvbGxUb3Agc2NhbGUgdHJhbnNsYXRlIGxhc3RQYXN0ZVhtbCBwYXN0ZUNvdW50ZXIiLnNwbGl0KCIgIik7YS5hZnRlckVuY29kZT1mdW5jdGlvbihhLGQsayl7ay5zZXRBdHRyaWJ1dGUoInJlbGF0ZWRQYWdlIixkLnJlbGF0ZWRQYWdlLmdldElkKCkpO251bGw9PWQuaW5kZXgmJihrLnNldEF0dHJpYnV0ZSgibmFtZSIsZC5yZWxhdGVkUGFnZS5nZXROYW1lKCkpLG51bGwhPWQucmVsYXRlZFBhZ2Uudmlld1N0YXRlJiZrLnNldEF0dHJpYnV0ZSgidmlld1N0YXRlIixKU09OLnN0cmluZ2lmeShkLnJlbGF0ZWRQYWdlLnZpZXdTdGF0ZSxmdW5jdGlvbihhLGQpe3JldHVybiAwPm14VXRpbHMuaW5kZXhPZihjLAphKT9kOnZvaWQgMH0pKSxudWxsIT1kLnJlbGF0ZWRQYWdlLnJvb3QmJmEuZW5jb2RlQ2VsbChkLnJlbGF0ZWRQYWdlLnJvb3QsaykpO3JldHVybiBrfTthLmJlZm9yZURlY29kZT1mdW5jdGlvbihhLGMsayl7ay51aT1hLnVpO2sucmVsYXRlZFBhZ2U9ay51aS5nZXRQYWdlQnlJZChjLmdldEF0dHJpYnV0ZSgicmVsYXRlZFBhZ2UiKSk7aWYobnVsbD09ay5yZWxhdGVkUGFnZSl7dmFyIGQ9Yy5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpYWdyYW0iKTtkLnNldEF0dHJpYnV0ZSgiaWQiLGMuZ2V0QXR0cmlidXRlKCJyZWxhdGVkUGFnZSIpKTtkLnNldEF0dHJpYnV0ZSgibmFtZSIsYy5nZXRBdHRyaWJ1dGUoIm5hbWUiKSk7ay5yZWxhdGVkUGFnZT1uZXcgRGlhZ3JhbVBhZ2UoZCk7ZD1jLmdldEF0dHJpYnV0ZSgidmlld1N0YXRlIik7bnVsbCE9ZCYmKGsucmVsYXRlZFBhZ2Uudmlld1N0YXRlPUpTT04ucGFyc2UoZCksYy5yZW1vdmVBdHRyaWJ1dGUoInZpZXdTdGF0ZSIpKTsKYz1jLmNsb25lTm9kZSghMCk7ZD1jLmZpcnN0Q2hpbGQ7aWYobnVsbCE9ZClmb3Ioay5yZWxhdGVkUGFnZS5yb290PWEuZGVjb2RlQ2VsbChkLCExKSxrPWQubmV4dFNpYmxpbmcsZC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGQpLGQ9aztudWxsIT1kOyl7az1kLm5leHRTaWJsaW5nO2lmKGQubm9kZVR5cGU9PW14Q29uc3RhbnRzLk5PREVUWVBFX0VMRU1FTlQpe3ZhciBmPWQuZ2V0QXR0cmlidXRlKCJpZCIpO251bGw9PWEubG9va3VwKGYpJiZhLmRlY29kZUNlbGwoZCl9ZC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGQpO2Q9a319cmV0dXJuIGN9O2EuYWZ0ZXJEZWNvZGU9ZnVuY3Rpb24oYSxjLGspe2suaW5kZXg9ay5wcmV2aW91c0luZGV4O3JldHVybiBrfTtteENvZGVjUmVnaXN0cnkucmVnaXN0ZXIoYSl9KSgpOyhmdW5jdGlvbigpe0VkaXRvclVpLnByb3RvdHlwZS5hbHRTaGlmdEFjdGlvbnNbNjhdPSJzZWxlY3REZXNjZW5kYW50cyI7dmFyIGE9R3JhcGgucHJvdG90eXBlLmZvbGRDZWxscztHcmFwaC5wcm90b3R5cGUuZm9sZENlbGxzPWZ1bmN0aW9uKGMsZixtLHEsYil7Zj1udWxsIT1mP2Y6ITE7bnVsbD09bSYmKG09dGhpcy5nZXRGb2xkYWJsZUNlbGxzKHRoaXMuZ2V0U2VsZWN0aW9uQ2VsbHMoKSxjKSk7dGhpcy5zdG9wRWRpdGluZygpO3RoaXMubW9kZWwuYmVnaW5VcGRhdGUoKTt0cnl7Zm9yKHZhciBkPW0uc2xpY2UoKSxnPVtdLGs9MDtrPG0ubGVuZ3RoO2srKyl7dmFyIGw9dGhpcy5nZXRDdXJyZW50Q2VsbFN0eWxlKG1ba10pOyIxIj09bXhVdGlscy5nZXRWYWx1ZShsLCJ0cmVlRm9sZGluZyIsIjAiKSYmKHRoaXMudHJhdmVyc2UobVtrXSwhMCxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhLGIpe251bGwhPWImJmcucHVzaChiKTthIT1tW2tdJiZnLnB1c2goYSk7cmV0dXJuIGE9PQptW2tdfHwhdGhpcy5tb2RlbC5pc0NvbGxhcHNlZChhKX0pKSx0aGlzLm1vZGVsLnNldENvbGxhcHNlZChtW2tdLGMpKX1mb3Ioaz0wO2s8Zy5sZW5ndGg7aysrKXRoaXMubW9kZWwuc2V0VmlzaWJsZShnW2tdLCFjKTttPWQ7bT1hLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1maW5hbGx5e3RoaXMubW9kZWwuZW5kVXBkYXRlKCl9cmV0dXJuIG19O3ZhciBjPUVkaXRvclVpLnByb3RvdHlwZS5pbml0O0VkaXRvclVpLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKCl7Yy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5lZGl0b3IuaXNDaHJvbWVsZXNzVmlldygpJiYhdGhpcy5lZGl0b3IuZWRpdGFibGV8fHRoaXMuYWRkVHJlZXMoKX07RWRpdG9yVWkucHJvdG90eXBlLmFkZFRyZWVzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhKXtyZXR1cm4geS5pc1ZlcnRleChhKSYmZihhKX1mdW5jdGlvbiBjKGEpe3ZhciBiPSExO251bGwhPWEmJihiPSIxIj09dC5nZXRDdXJyZW50Q2VsbFN0eWxlKGEpLnRyZWVNb3ZpbmcpOwpyZXR1cm4gYn1mdW5jdGlvbiBmKGEpe3ZhciBiPSExO251bGwhPWEmJihhPXkuZ2V0UGFyZW50KGEpLGI9dC52aWV3LmdldFN0YXRlKGEpLGI9InRyZWUiPT0obnVsbCE9Yj9iLnN0eWxlOnQuZ2V0Q2VsbFN0eWxlKGEpKS5jb250YWluZXJUeXBlKTtyZXR1cm4gYn1mdW5jdGlvbiBxKGEpe3ZhciBiPSExO251bGwhPWEmJihhPXkuZ2V0UGFyZW50KGEpLGI9dC52aWV3LmdldFN0YXRlKGEpLHQudmlldy5nZXRTdGF0ZShhKSxiPW51bGwhPShudWxsIT1iP2Iuc3R5bGU6dC5nZXRDZWxsU3R5bGUoYSkpLmNoaWxkTGF5b3V0KTtyZXR1cm4gYn1mdW5jdGlvbiBiKGEpe2E9dC52aWV3LmdldFN0YXRlKGEpO2lmKG51bGwhPWEpe3ZhciBiPXQuZ2V0SW5jb21pbmdFZGdlcyhhLmNlbGwpO2lmKDA8Yi5sZW5ndGgmJihiPXQudmlldy5nZXRTdGF0ZShiWzBdKSxudWxsIT1iJiYoYj1iLmFic29sdXRlUG9pbnRzLG51bGwhPWImJjA8Yi5sZW5ndGgmJihiPWJbYi5sZW5ndGgtMV0sbnVsbCE9YikpKSl7aWYoYi55PT0KYS55JiZNYXRoLmFicyhiLngtYS5nZXRDZW50ZXJYKCkpPGEud2lkdGgvMilyZXR1cm4gbXhDb25zdGFudHMuRElSRUNUSU9OX1NPVVRIO2lmKGIueT09YS55K2EuaGVpZ2h0JiZNYXRoLmFicyhiLngtYS5nZXRDZW50ZXJYKCkpPGEud2lkdGgvMilyZXR1cm4gbXhDb25zdGFudHMuRElSRUNUSU9OX05PUlRIO2lmKGIueD5hLmdldENlbnRlclgoKSlyZXR1cm4gbXhDb25zdGFudHMuRElSRUNUSU9OX1dFU1R9fXJldHVybiBteENvbnN0YW50cy5ESVJFQ1RJT05fRUFTVH1mdW5jdGlvbiBlKGEsYyl7Yz1udWxsIT1jP2M6ITA7dC5tb2RlbC5iZWdpblVwZGF0ZSgpO3RyeXt2YXIgZD10Lm1vZGVsLmdldFBhcmVudChhKSxlPXQuZ2V0SW5jb21pbmdFZGdlcyhhKSxmPXQuY2xvbmVDZWxscyhbZVswXSxhXSk7dC5tb2RlbC5zZXRUZXJtaW5hbChmWzBdLHQubW9kZWwuZ2V0VGVybWluYWwoZVswXSwhMCksITApO3ZhciBnPWIoYSksaz1kLmdlb21ldHJ5O2c9PW14Q29uc3RhbnRzLkRJUkVDVElPTl9TT1VUSHx8Cmc9PW14Q29uc3RhbnRzLkRJUkVDVElPTl9OT1JUSD9mWzFdLmdlb21ldHJ5LngrPWM/YS5nZW9tZXRyeS53aWR0aCsxMDotZlsxXS5nZW9tZXRyeS53aWR0aC0xMDpmWzFdLmdlb21ldHJ5LnkrPWM/YS5nZW9tZXRyeS5oZWlnaHQrMTA6LWZbMV0uZ2VvbWV0cnkuaGVpZ2h0LTEwO3Qudmlldy5jdXJyZW50Um9vdCE9ZCYmKGZbMV0uZ2VvbWV0cnkueC09ay54LGZbMV0uZ2VvbWV0cnkueS09ay55KTt2YXIgbD10LnZpZXcuZ2V0U3RhdGUoYSksbT10LnZpZXcuc2NhbGU7aWYobnVsbCE9bCl7dmFyIG49bXhSZWN0YW5nbGUuZnJvbVJlY3RhbmdsZShsKTtnPT1teENvbnN0YW50cy5ESVJFQ1RJT05fU09VVEh8fGc9PW14Q29uc3RhbnRzLkRJUkVDVElPTl9OT1JUSD9uLngrPShjP2EuZ2VvbWV0cnkud2lkdGgrMTA6LWZbMV0uZ2VvbWV0cnkud2lkdGgtMTApKm06bi55Kz0oYz9hLmdlb21ldHJ5LmhlaWdodCsxMDotZlsxXS5nZW9tZXRyeS5oZWlnaHQtMTApKm07dmFyIHA9dC5nZXRPdXRnb2luZ0VkZ2VzKHQubW9kZWwuZ2V0VGVybWluYWwoZVswXSwKITApKTtpZihudWxsIT1wKXtmb3IodmFyIHE9Zz09bXhDb25zdGFudHMuRElSRUNUSU9OX1NPVVRIfHxnPT1teENvbnN0YW50cy5ESVJFQ1RJT05fTk9SVEgseT1rPWU9MDt5PHAubGVuZ3RoO3krKyl7dmFyIHU9dC5tb2RlbC5nZXRUZXJtaW5hbChwW3ldLCExKTtpZihnPT1iKHUpKXt2YXIgej10LnZpZXcuZ2V0U3RhdGUodSk7dSE9YSYmbnVsbCE9eiYmKHEmJmMhPXouZ2V0Q2VudGVyWCgpPGwuZ2V0Q2VudGVyWCgpfHwhcSYmYyE9ei5nZXRDZW50ZXJZKCk8bC5nZXRDZW50ZXJZKCkpJiZteFV0aWxzLmludGVyc2VjdHMobix6KSYmKGU9MTArTWF0aC5tYXgoZSwoTWF0aC5taW4obi54K24ud2lkdGgsei54K3oud2lkdGgpLU1hdGgubWF4KG4ueCx6LngpKS9tKSxrPTEwK01hdGgubWF4KGssKE1hdGgubWluKG4ueStuLmhlaWdodCx6Lnkrei5oZWlnaHQpLU1hdGgubWF4KG4ueSx6LnkpKS9tKSl9fXE/az0wOmU9MDtmb3IoeT0wO3k8cC5sZW5ndGg7eSsrKWlmKHU9dC5tb2RlbC5nZXRUZXJtaW5hbChwW3ldLAohMSksZz09Yih1KSYmKHo9dC52aWV3LmdldFN0YXRlKHUpLHUhPWEmJm51bGwhPXomJihxJiZjIT16LmdldENlbnRlclgoKTxsLmdldENlbnRlclgoKXx8IXEmJmMhPXouZ2V0Q2VudGVyWSgpPGwuZ2V0Q2VudGVyWSgpKSkpe3ZhciBBPVtdO3QudHJhdmVyc2Uoei5jZWxsLCEwLGZ1bmN0aW9uKGEsYil7bnVsbCE9YiYmQS5wdXNoKGIpO0EucHVzaChhKTtyZXR1cm4hMH0pO3QubW92ZUNlbGxzKEEsKGM/MTotMSkqZSwoYz8xOi0xKSprKX19fXJldHVybiB0LmFkZENlbGxzKGYsZCl9ZmluYWxseXt0Lm1vZGVsLmVuZFVwZGF0ZSgpfX1mdW5jdGlvbiBnKGEpe3QubW9kZWwuYmVnaW5VcGRhdGUoKTt0cnl7dmFyIGM9YihhKSxkPXQuZ2V0SW5jb21pbmdFZGdlcyhhKSxlPXQuY2xvbmVDZWxscyhbZFswXSxhXSk7dC5tb2RlbC5zZXRUZXJtaW5hbChkWzBdLGVbMV0sITEpO3QubW9kZWwuc2V0VGVybWluYWwoZVswXSxlWzFdLCEwKTt0Lm1vZGVsLnNldFRlcm1pbmFsKGVbMF0sYSwhMSk7CnZhciBmPXQubW9kZWwuZ2V0UGFyZW50KGEpLGc9Zi5nZW9tZXRyeSxrPVtdO3Qudmlldy5jdXJyZW50Um9vdCE9ZiYmKGVbMV0uZ2VvbWV0cnkueC09Zy54LGVbMV0uZ2VvbWV0cnkueS09Zy55KTt0LnRyYXZlcnNlKGEsITAsZnVuY3Rpb24oYSxiKXtudWxsIT1iJiZrLnB1c2goYik7ay5wdXNoKGEpO3JldHVybiEwfSk7dmFyIGw9YS5nZW9tZXRyeS53aWR0aCs0MCxtPWEuZ2VvbWV0cnkuaGVpZ2h0KzQwO2M9PW14Q29uc3RhbnRzLkRJUkVDVElPTl9TT1VUSD9sPTA6Yz09bXhDb25zdGFudHMuRElSRUNUSU9OX05PUlRIPyhsPTAsbT0tbSk6Yz09bXhDb25zdGFudHMuRElSRUNUSU9OX1dFU1Q/KGw9LWwsbT0wKTpjPT1teENvbnN0YW50cy5ESVJFQ1RJT05fRUFTVCYmKG09MCk7dC5tb3ZlQ2VsbHMoayxsLG0pO3JldHVybiB0LmFkZENlbGxzKGUsZil9ZmluYWxseXt0Lm1vZGVsLmVuZFVwZGF0ZSgpfX1mdW5jdGlvbiBuKGEsYyl7dC5tb2RlbC5iZWdpblVwZGF0ZSgpO3RyeXt2YXIgZD0KdC5tb2RlbC5nZXRQYXJlbnQoYSksZT10LmdldEluY29taW5nRWRnZXMoYSksZj1iKGEpOzA9PWUubGVuZ3RoJiYoZT1bdC5jcmVhdGVFZGdlKGQsbnVsbCwiIixudWxsLG51bGwsdC5jcmVhdGVDdXJyZW50RWRnZVN0eWxlKCkpXSxmPWMpO3ZhciBnPXQuY2xvbmVDZWxscyhbZVswXSxhXSk7dC5tb2RlbC5zZXRUZXJtaW5hbChnWzBdLGEsITApO2lmKG51bGw9PXQubW9kZWwuZ2V0VGVybWluYWwoZ1swXSwhMSkpe3QubW9kZWwuc2V0VGVybWluYWwoZ1swXSxnWzFdLCExKTt2YXIgaz10LmdldENlbGxTdHlsZShnWzFdKS5uZXdFZGdlU3R5bGU7aWYobnVsbCE9ayl0cnl7dmFyIGw9SlNPTi5wYXJzZShrKSxtO2ZvcihtIGluIGwpdC5zZXRDZWxsU3R5bGVzKG0sbFttXSxbZ1swXV0pLCJlZGdlU3R5bGUiPT1tJiYiZWxib3dFZGdlU3R5bGUiPT1sW21dJiZ0LnNldENlbGxTdHlsZXMoImVsYm93IixmPT1teENvbnN0YW50cy5ESVJFQ1RJT05fU09VVEh8fGY9PW14Q29uc3RhbnRzLkRJUkVDVElPTl9OT1RIPwoidmVydGljYWwiOiJob3Jpem9udGFsIixbZ1swXV0pfWNhdGNoKFkpe319dmFyIGU9dC5nZXRPdXRnb2luZ0VkZ2VzKGEpLG49ZC5nZW9tZXRyeSxrPVtdO3Qudmlldy5jdXJyZW50Um9vdD09ZCYmKG49bmV3IG14UmVjdGFuZ2xlKTtmb3IobD0wO2w8ZS5sZW5ndGg7bCsrKXt2YXIgcD10Lm1vZGVsLmdldFRlcm1pbmFsKGVbbF0sITEpO251bGwhPXAmJmsucHVzaChwKX12YXIgcT10LnZpZXcuZ2V0Qm91bmRzKGspLHk9dC52aWV3LnRyYW5zbGF0ZSx6PXQudmlldy5zY2FsZTtmPT1teENvbnN0YW50cy5ESVJFQ1RJT05fU09VVEg/KGdbMV0uZ2VvbWV0cnkueD1udWxsPT1xP2EuZ2VvbWV0cnkueCsoYS5nZW9tZXRyeS53aWR0aC1nWzFdLmdlb21ldHJ5LndpZHRoKS8yOihxLngrcS53aWR0aCkvei15Lngtbi54KzEwLGdbMV0uZ2VvbWV0cnkueSs9Z1sxXS5nZW9tZXRyeS5oZWlnaHQtbi55KzQwKTpmPT1teENvbnN0YW50cy5ESVJFQ1RJT05fTk9SVEg/KGdbMV0uZ2VvbWV0cnkueD0KbnVsbD09cT9hLmdlb21ldHJ5LngrKGEuZ2VvbWV0cnkud2lkdGgtZ1sxXS5nZW9tZXRyeS53aWR0aCkvMjoocS54K3Eud2lkdGgpL3oteS54Ky1uLngrMTAsZ1sxXS5nZW9tZXRyeS55LT1nWzFdLmdlb21ldHJ5LmhlaWdodCtuLnkrNDApOihnWzFdLmdlb21ldHJ5Lng9Zj09bXhDb25zdGFudHMuRElSRUNUSU9OX1dFU1Q/Z1sxXS5nZW9tZXRyeS54LShnWzFdLmdlb21ldHJ5LndpZHRoK24ueCs0MCk6Z1sxXS5nZW9tZXRyeS54KyhnWzFdLmdlb21ldHJ5LndpZHRoLW4ueCs0MCksZ1sxXS5nZW9tZXRyeS55PW51bGw9PXE/YS5nZW9tZXRyeS55KyhhLmdlb21ldHJ5LmhlaWdodC1nWzFdLmdlb21ldHJ5LmhlaWdodCkvMjoocS55K3EuaGVpZ2h0KS96LXkueSstbi55KzEwKTtyZXR1cm4gdC5hZGRDZWxscyhnLGQpfWZpbmFsbHl7dC5tb2RlbC5lbmRVcGRhdGUoKX19ZnVuY3Rpb24gbChhLGIsYyl7YT10LmdldE91dGdvaW5nRWRnZXMoYSk7Yz10LnZpZXcuZ2V0U3RhdGUoYyk7dmFyIGQ9CltdO2lmKG51bGwhPWMmJm51bGwhPWEpe2Zvcih2YXIgZT0wO2U8YS5sZW5ndGg7ZSsrKXt2YXIgZj10LnZpZXcuZ2V0U3RhdGUodC5tb2RlbC5nZXRUZXJtaW5hbChhW2VdLCExKSk7bnVsbCE9ZiYmKCFiJiZNYXRoLm1pbihmLngrZi53aWR0aCxjLngrYy53aWR0aCk+PU1hdGgubWF4KGYueCxjLngpfHxiJiZNYXRoLm1pbihmLnkrZi5oZWlnaHQsYy55K2MuaGVpZ2h0KT49TWF0aC5tYXgoZi55LGMueSkpJiZkLnB1c2goZil9ZC5zb3J0KGZ1bmN0aW9uKGEsYyl7cmV0dXJuIGI/YS54K2Eud2lkdGgtYy54LWMud2lkdGg6YS55K2EuaGVpZ2h0LWMueS1jLmhlaWdodH0pfXJldHVybiBkfWZ1bmN0aW9uIHAoYSxjKXt2YXIgZD1iKGEpLGU9Yz09bXhDb25zdGFudHMuRElSRUNUSU9OX0VBU1R8fGM9PW14Q29uc3RhbnRzLkRJUkVDVElPTl9XRVNUOyhkPT1teENvbnN0YW50cy5ESVJFQ1RJT05fRUFTVHx8ZD09bXhDb25zdGFudHMuRElSRUNUSU9OX1dFU1QpPT1lJiZkIT1jP3YuYWN0aW9ucy5nZXQoInNlbGVjdFBhcmVudCIpLmZ1bmN0KCk6CmQ9PWM/KGU9dC5nZXRPdXRnb2luZ0VkZ2VzKGEpLG51bGwhPWUmJjA8ZS5sZW5ndGgmJnQuc2V0U2VsZWN0aW9uQ2VsbCh0Lm1vZGVsLmdldFRlcm1pbmFsKGVbMF0sITEpKSk6KGQ9dC5nZXRJbmNvbWluZ0VkZ2VzKGEpLG51bGwhPWQmJjA8ZC5sZW5ndGgmJihlPWwodC5tb2RlbC5nZXRUZXJtaW5hbChkWzBdLCEwKSxlLGEpLGQ9dC52aWV3LmdldFN0YXRlKGEpLG51bGwhPWQmJihkPW14VXRpbHMuaW5kZXhPZihlLGQpLDA8PWQmJihkKz1jPT1teENvbnN0YW50cy5ESVJFQ1RJT05fTk9SVEh8fGM9PW14Q29uc3RhbnRzLkRJUkVDVElPTl9XRVNUPy0xOjEsMDw9ZCYmZDw9ZS5sZW5ndGgtMSYmdC5zZXRTZWxlY3Rpb25DZWxsKGVbZF0uY2VsbCkpKSkpfXZhciB2PXRoaXMsdD12LmVkaXRvci5ncmFwaCx5PXQuZ2V0TW9kZWwoKSx4PXYubWVudXMuY3JlYXRlUG9wdXBNZW51O3YubWVudXMuY3JlYXRlUG9wdXBNZW51PWZ1bmN0aW9uKGIsYyxkKXt4LmFwcGx5KHRoaXMsYXJndW1lbnRzKTsKaWYoMT09dC5nZXRTZWxlY3Rpb25Db3VudCgpKXtjPXQuZ2V0U2VsZWN0aW9uQ2VsbCgpO3ZhciBlPXQuZ2V0T3V0Z29pbmdFZGdlcyhjKTtiLmFkZFNlcGFyYXRvcigpOzA8ZS5sZW5ndGgmJihhKHQuZ2V0U2VsZWN0aW9uQ2VsbCgpKSYmdGhpcy5hZGRNZW51SXRlbXMoYixbInNlbGVjdENoaWxkcmVuIl0sbnVsbCxkKSx0aGlzLmFkZE1lbnVJdGVtcyhiLFsic2VsZWN0RGVzY2VuZGFudHMiXSxudWxsLGQpKTthKHQuZ2V0U2VsZWN0aW9uQ2VsbCgpKSYmKGIuYWRkU2VwYXJhdG9yKCksMDx0LmdldEluY29taW5nRWRnZXMoYykubGVuZ3RoJiZ0aGlzLmFkZE1lbnVJdGVtcyhiLFsic2VsZWN0U2libGluZ3MiLCJzZWxlY3RQYXJlbnQiXSxudWxsLGQpKX19O3YuYWN0aW9ucy5hZGRBY3Rpb24oInNlbGVjdENoaWxkcmVuIixmdW5jdGlvbigpe2lmKHQuaXNFbmFibGVkKCkmJjE9PXQuZ2V0U2VsZWN0aW9uQ291bnQoKSl7dmFyIGE9dC5nZXRTZWxlY3Rpb25DZWxsKCksYT10LmdldE91dGdvaW5nRWRnZXMoYSk7CmlmKG51bGwhPWEpe2Zvcih2YXIgYj1bXSxjPTA7YzxhLmxlbmd0aDtjKyspYi5wdXNoKHQubW9kZWwuZ2V0VGVybWluYWwoYVtjXSwhMSkpO3Quc2V0U2VsZWN0aW9uQ2VsbHMoYil9fX0sbnVsbCxudWxsLCJBbHQrU2hpZnQrWCIpO3YuYWN0aW9ucy5hZGRBY3Rpb24oInNlbGVjdFNpYmxpbmdzIixmdW5jdGlvbigpe2lmKHQuaXNFbmFibGVkKCkmJjE9PXQuZ2V0U2VsZWN0aW9uQ291bnQoKSl7dmFyIGE9dC5nZXRTZWxlY3Rpb25DZWxsKCksYT10LmdldEluY29taW5nRWRnZXMoYSk7aWYobnVsbCE9YSYmMDxhLmxlbmd0aCYmKGE9dC5nZXRPdXRnb2luZ0VkZ2VzKHQubW9kZWwuZ2V0VGVybWluYWwoYVswXSwhMCkpLG51bGwhPWEpKXtmb3IodmFyIGI9W10sYz0wO2M8YS5sZW5ndGg7YysrKWIucHVzaCh0Lm1vZGVsLmdldFRlcm1pbmFsKGFbY10sITEpKTt0LnNldFNlbGVjdGlvbkNlbGxzKGIpfX19LG51bGwsbnVsbCwiQWx0K1NoaWZ0K1MiKTt2LmFjdGlvbnMuYWRkQWN0aW9uKCJzZWxlY3RQYXJlbnQiLApmdW5jdGlvbigpe2lmKHQuaXNFbmFibGVkKCkmJjE9PXQuZ2V0U2VsZWN0aW9uQ291bnQoKSl7dmFyIGE9dC5nZXRTZWxlY3Rpb25DZWxsKCksYT10LmdldEluY29taW5nRWRnZXMoYSk7bnVsbCE9YSYmMDxhLmxlbmd0aCYmdC5zZXRTZWxlY3Rpb25DZWxsKHQubW9kZWwuZ2V0VGVybWluYWwoYVswXSwhMCkpfX0sbnVsbCxudWxsLCJBbHQrU2hpZnQrUCIpO3YuYWN0aW9ucy5hZGRBY3Rpb24oInNlbGVjdERlc2NlbmRhbnRzIixmdW5jdGlvbigpe2lmKHQuaXNFbmFibGVkKCkmJjE9PXQuZ2V0U2VsZWN0aW9uQ291bnQoKSl7dmFyIGE9dC5nZXRTZWxlY3Rpb25DZWxsKCksYj1bXTt0LnRyYXZlcnNlKGEsITAsZnVuY3Rpb24oYSxjKXtudWxsIT1jJiZiLnB1c2goYyk7Yi5wdXNoKGEpO3JldHVybiEwfSk7dC5zZXRTZWxlY3Rpb25DZWxscyhiKX19LG51bGwsbnVsbCwiQWx0K1NoaWZ0K0QiKTt2YXIgQz10LnJlbW92ZUNlbGxzO3QucmVtb3ZlQ2VsbHM9ZnVuY3Rpb24oYixjKXtjPW51bGwhPQpjP2M6ITA7bnVsbD09YiYmKGI9dGhpcy5nZXREZWxldGFibGVDZWxscyh0aGlzLmdldFNlbGVjdGlvbkNlbGxzKCkpKTtjJiYoYj10aGlzLmdldERlbGV0YWJsZUNlbGxzKHRoaXMuYWRkQWxsRWRnZXMoYikpKTtmb3IodmFyIGQ9W10sZT0wO2U8Yi5sZW5ndGg7ZSsrKXt2YXIgZz1iW2VdO3kuaXNFZGdlKGcpJiZmKGcpJiYoZC5wdXNoKGcpLGc9eS5nZXRUZXJtaW5hbChnLCExKSk7aWYoYShnKSl7dmFyIGs9W107dC50cmF2ZXJzZShnLCEwLGZ1bmN0aW9uKGEsYil7bnVsbCE9YiYmay5wdXNoKGIpO2sucHVzaChhKTtyZXR1cm4hMH0pOzA8ay5sZW5ndGgmJihkPWQuY29uY2F0KGspLGc9dC5nZXRJbmNvbWluZ0VkZ2VzKGJbZV0pLGI9Yi5jb25jYXQoZykpfWVsc2UgbnVsbCE9ZyYmZC5wdXNoKGJbZV0pfWI9ZDtyZXR1cm4gQy5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O3YuaG92ZXJJY29ucy5nZXRTdGF0ZUF0PWZ1bmN0aW9uKGIsYyxkKXtyZXR1cm4gYShiLmNlbGwpP251bGw6dGhpcy5ncmFwaC52aWV3LmdldFN0YXRlKHRoaXMuZ3JhcGguZ2V0Q2VsbEF0KGMsCmQpKX07dmFyIEI9dC5kdXBsaWNhdGVDZWxsczt0LmR1cGxpY2F0ZUNlbGxzPWZ1bmN0aW9uKGIsYyl7Yj1udWxsIT1iP2I6dGhpcy5nZXRTZWxlY3Rpb25DZWxscygpO2Zvcih2YXIgZD1iLnNsaWNlKDApLGU9MDtlPGQubGVuZ3RoO2UrKyl7dmFyIGY9dC52aWV3LmdldFN0YXRlKGRbZV0pO2lmKG51bGwhPWYmJmEoZi5jZWxsKSlmb3IodmFyIGc9dC5nZXRJbmNvbWluZ0VkZ2VzKGYuY2VsbCksZj0wO2Y8Zy5sZW5ndGg7ZisrKW14VXRpbHMucmVtb3ZlKGdbZl0sYil9dGhpcy5tb2RlbC5iZWdpblVwZGF0ZSgpO3RyeXt2YXIgaz1CLmNhbGwodGhpcyxiLGMpO2lmKGsubGVuZ3RoPT1iLmxlbmd0aClmb3IoZT0wO2U8Yi5sZW5ndGg7ZSsrKWlmKGEoYltlXSkpe3ZhciBsPXQuZ2V0SW5jb21pbmdFZGdlcyhrW2VdKSxnPXQuZ2V0SW5jb21pbmdFZGdlcyhiW2VdKTtpZigwPT1sLmxlbmd0aCYmMDxnLmxlbmd0aCl7dmFyIG09dGhpcy5jbG9uZUNlbGwoZ1swXSk7dGhpcy5hZGRFZGdlKG0sCnQuZ2V0RGVmYXVsdFBhcmVudCgpLHRoaXMubW9kZWwuZ2V0VGVybWluYWwoZ1swXSwhMCksa1tlXSl9fX1maW5hbGx5e3RoaXMubW9kZWwuZW5kVXBkYXRlKCl9cmV0dXJuIGt9O3ZhciBEPXQubW92ZUNlbGxzO3QubW92ZUNlbGxzPWZ1bmN0aW9uKGIsYyxkLGUsZixnLGspe3ZhciBsPW51bGw7dGhpcy5tb2RlbC5iZWdpblVwZGF0ZSgpO3RyeXt2YXIgbT1mLG49dGhpcy5nZXRDdXJyZW50Q2VsbFN0eWxlKGYpO2lmKG51bGwhPWImJmEoZikmJiIxIj09bXhVdGlscy5nZXRWYWx1ZShuLCJ0cmVlRm9sZGluZyIsIjAiKSl7Zm9yKHZhciBwPTA7cDxiLmxlbmd0aDtwKyspaWYoYShiW3BdKXx8dC5tb2RlbC5pc0VkZ2UoYltwXSkmJm51bGw9PXQubW9kZWwuZ2V0VGVybWluYWwoYltwXSwhMCkpe2Y9dC5tb2RlbC5nZXRQYXJlbnQoYltwXSk7YnJlYWt9aWYobnVsbCE9bSYmZiE9bSYmbnVsbCE9dGhpcy52aWV3LmdldFN0YXRlKGJbMF0pKXt2YXIgcT10LmdldEluY29taW5nRWRnZXMoYlswXSk7CmlmKDA8cS5sZW5ndGgpe3ZhciB5PXQudmlldy5nZXRTdGF0ZSh0Lm1vZGVsLmdldFRlcm1pbmFsKHFbMF0sITApKTtpZihudWxsIT15KXt2YXIgej10LnZpZXcuZ2V0U3RhdGUobSk7bnVsbCE9eiYmKGM9KHouZ2V0Q2VudGVyWCgpLXkuZ2V0Q2VudGVyWCgpKS90LnZpZXcuc2NhbGUsZD0oei5nZXRDZW50ZXJZKCkteS5nZXRDZW50ZXJZKCkpL3Qudmlldy5zY2FsZSl9fX19bD1ELmFwcGx5KHRoaXMsYXJndW1lbnRzKTtpZihudWxsIT1sJiZudWxsIT1iJiZsLmxlbmd0aD09Yi5sZW5ndGgpZm9yKHA9MDtwPGwubGVuZ3RoO3ArKylpZih0aGlzLm1vZGVsLmlzRWRnZShsW3BdKSlhKG0pJiYwPm14VXRpbHMuaW5kZXhPZihsLHRoaXMubW9kZWwuZ2V0VGVybWluYWwobFtwXSwhMCkpJiZ0aGlzLm1vZGVsLnNldFRlcm1pbmFsKGxbcF0sbSwhMCk7ZWxzZSBpZihhKGJbcF0pJiYocT10LmdldEluY29taW5nRWRnZXMoYltwXSksMDxxLmxlbmd0aCkpaWYoIWUpYShtKSYmMD5teFV0aWxzLmluZGV4T2YoYiwKdGhpcy5tb2RlbC5nZXRUZXJtaW5hbChxWzBdLCEwKSkmJnRoaXMubW9kZWwuc2V0VGVybWluYWwocVswXSxtLCEwKTtlbHNlIGlmKDA9PXQuZ2V0SW5jb21pbmdFZGdlcyhsW3BdKS5sZW5ndGgpe249bTtpZihudWxsPT1ufHxuPT10Lm1vZGVsLmdldFBhcmVudChiW3BdKSluPXQubW9kZWwuZ2V0VGVybWluYWwocVswXSwhMCk7ZT10aGlzLmNsb25lQ2VsbChxWzBdKTt0aGlzLmFkZEVkZ2UoZSx0LmdldERlZmF1bHRQYXJlbnQoKSxuLGxbcF0pfX1maW5hbGx5e3RoaXMubW9kZWwuZW5kVXBkYXRlKCl9cmV0dXJuIGx9O2lmKG51bGwhPXYuc2lkZWJhcil7dmFyIHo9di5zaWRlYmFyLmRyb3BBbmRDb25uZWN0O3Yuc2lkZWJhci5kcm9wQW5kQ29ubmVjdD1mdW5jdGlvbihiLGMsZCxlKXt2YXIgZj10Lm1vZGVsLGc9bnVsbDtmLmJlZ2luVXBkYXRlKCk7dHJ5e2lmKGc9ei5hcHBseSh0aGlzLGFyZ3VtZW50cyksYShiKSlmb3IodmFyIGs9MDtrPGcubGVuZ3RoO2srKylpZihmLmlzRWRnZShnW2tdKSYmCm51bGw9PWYuZ2V0VGVybWluYWwoZ1trXSwhMCkpe2Yuc2V0VGVybWluYWwoZ1trXSxiLCEwKTt2YXIgbD10LmdldENlbGxHZW9tZXRyeShnW2tdKTtsLnBvaW50cz1udWxsO251bGwhPWwuZ2V0VGVybWluYWxQb2ludCghMCkmJmwuc2V0VGVybWluYWxQb2ludChudWxsLCEwKX19ZmluYWxseXtmLmVuZFVwZGF0ZSgpfXJldHVybiBnfX12YXIgRT17ODg6di5hY3Rpb25zLmdldCgic2VsZWN0Q2hpbGRyZW4iKSw4NDp2LmFjdGlvbnMuZ2V0KCJzZWxlY3RTdWJ0cmVlIiksODA6di5hY3Rpb25zLmdldCgic2VsZWN0UGFyZW50IiksODM6di5hY3Rpb25zLmdldCgic2VsZWN0U2libGluZ3MiKX0sRz12Lm9uS2V5RG93bjt2Lm9uS2V5RG93bj1mdW5jdGlvbihiKXt0cnl7aWYodC5pc0VuYWJsZWQoKSYmIXQuaXNFZGl0aW5nKCkmJmEodC5nZXRTZWxlY3Rpb25DZWxsKCkpJiYxPT10LmdldFNlbGVjdGlvbkNvdW50KCkpe3ZhciBjPW51bGw7MDx0LmdldEluY29taW5nRWRnZXModC5nZXRTZWxlY3Rpb25DZWxsKCkpLmxlbmd0aCYmCig5PT1iLndoaWNoP2M9bXhFdmVudC5pc1NoaWZ0RG93bihiKT9nKHQuZ2V0U2VsZWN0aW9uQ2VsbCgpKTpuKHQuZ2V0U2VsZWN0aW9uQ2VsbCgpKToxMz09Yi53aGljaCYmKGM9ZSh0LmdldFNlbGVjdGlvbkNlbGwoKSwhbXhFdmVudC5pc1NoaWZ0RG93bihiKSkpKTtpZihudWxsIT1jJiYwPGMubGVuZ3RoKTE9PWMubGVuZ3RoJiZ0Lm1vZGVsLmlzRWRnZShjWzBdKT90LnNldFNlbGVjdGlvbkNlbGwodC5tb2RlbC5nZXRUZXJtaW5hbChjWzBdLCExKSk6dC5zZXRTZWxlY3Rpb25DZWxsKGNbYy5sZW5ndGgtMV0pLG51bGwhPXYuaG92ZXJJY29ucyYmdi5ob3Zlckljb25zLnVwZGF0ZSh0LnZpZXcuZ2V0U3RhdGUodC5nZXRTZWxlY3Rpb25DZWxsKCkpKSx0LnN0YXJ0RWRpdGluZ0F0Q2VsbCh0LmdldFNlbGVjdGlvbkNlbGwoKSksbXhFdmVudC5jb25zdW1lKGIpO2Vsc2UgaWYobXhFdmVudC5pc0FsdERvd24oYikmJm14RXZlbnQuaXNTaGlmdERvd24oYikpe3ZhciBkPUVbYi5rZXlDb2RlXTsKbnVsbCE9ZCYmKGQuZnVuY3QoYiksbXhFdmVudC5jb25zdW1lKGIpKX1lbHNlIDM3PT1iLmtleUNvZGU/KHAodC5nZXRTZWxlY3Rpb25DZWxsKCksbXhDb25zdGFudHMuRElSRUNUSU9OX1dFU1QpLG14RXZlbnQuY29uc3VtZShiKSk6Mzg9PWIua2V5Q29kZT8ocCh0LmdldFNlbGVjdGlvbkNlbGwoKSxteENvbnN0YW50cy5ESVJFQ1RJT05fTk9SVEgpLG14RXZlbnQuY29uc3VtZShiKSk6Mzk9PWIua2V5Q29kZT8ocCh0LmdldFNlbGVjdGlvbkNlbGwoKSxteENvbnN0YW50cy5ESVJFQ1RJT05fRUFTVCksbXhFdmVudC5jb25zdW1lKGIpKTo0MD09Yi5rZXlDb2RlJiYocCh0LmdldFNlbGVjdGlvbkNlbGwoKSxteENvbnN0YW50cy5ESVJFQ1RJT05fU09VVEgpLG14RXZlbnQuY29uc3VtZShiKSl9fWNhdGNoKEkpe3YuaGFuZGxlRXJyb3IoSSl9bXhFdmVudC5pc0NvbnN1bWVkKGIpfHxHLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07dmFyIEY9dC5jb25uZWN0VmVydGV4O3QuY29ubmVjdFZlcnRleD0KZnVuY3Rpb24oYyxkLGYsayxsLG0pe3ZhciBwPXQuZ2V0SW5jb21pbmdFZGdlcyhjKTtyZXR1cm4gYShjKT8oZj1iKGMpLGs9Zj09bXhDb25zdGFudHMuRElSRUNUSU9OX0VBU1R8fGY9PW14Q29uc3RhbnRzLkRJUkVDVElPTl9XRVNULGw9ZD09bXhDb25zdGFudHMuRElSRUNUSU9OX0VBU1R8fGQ9PW14Q29uc3RhbnRzLkRJUkVDVElPTl9XRVNULGY9PWR8fDA9PXAubGVuZ3RoP24oYyxkKTprPT1sP2coYyk6ZShjLGQhPW14Q29uc3RhbnRzLkRJUkVDVElPTl9OT1JUSCYmZCE9bXhDb25zdGFudHMuRElSRUNUSU9OX1dFU1QpKTpGLmNhbGwodGhpcyxjLGQsZixrLGwsbSl9O3QuZ2V0U3VidHJlZT1mdW5jdGlvbihiKXt2YXIgZD1bYl07IWMoYikmJiFhKGIpfHxxKGIpfHx0LnRyYXZlcnNlKGIsITAsZnVuY3Rpb24oYSxiKXtudWxsIT1iJiYwPm14VXRpbHMuaW5kZXhPZihkLGIpJiZkLnB1c2goYik7MD5teFV0aWxzLmluZGV4T2YoZCxhKSYmZC5wdXNoKGEpO3JldHVybiEwfSk7cmV0dXJuIGR9Owp2YXIgSD1teFZlcnRleEhhbmRsZXIucHJvdG90eXBlLmluaXQ7bXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKCl7SC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7KGModGhpcy5zdGF0ZS5jZWxsKXx8YSh0aGlzLnN0YXRlLmNlbGwpKSYmIXEodGhpcy5zdGF0ZS5jZWxsKSYmMDx0aGlzLmdyYXBoLmdldE91dGdvaW5nRWRnZXModGhpcy5zdGF0ZS5jZWxsKS5sZW5ndGgmJih0aGlzLm1vdmVIYW5kbGU9bXhVdGlscy5jcmVhdGVJbWFnZShFZGl0b3IubW92ZUltYWdlKSx0aGlzLm1vdmVIYW5kbGUuc2V0QXR0cmlidXRlKCJ0aXRsZSIsIk1vdmUgU3VidHJlZSIpLHRoaXMubW92ZUhhbmRsZS5zdHlsZS5wb3NpdGlvbj0iYWJzb2x1dGUiLHRoaXMubW92ZUhhbmRsZS5zdHlsZS5jdXJzb3I9InBvaW50ZXIiLHRoaXMubW92ZUhhbmRsZS5zdHlsZS53aWR0aD0iMjRweCIsdGhpcy5tb3ZlSGFuZGxlLnN0eWxlLmhlaWdodD0iMjRweCIsdGhpcy5ncmFwaC5jb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5tb3ZlSGFuZGxlKSwKbXhFdmVudC5hZGRHZXN0dXJlTGlzdGVuZXJzKHRoaXMubW92ZUhhbmRsZSxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXt0aGlzLmdyYXBoLmdyYXBoSGFuZGxlci5zdGFydCh0aGlzLnN0YXRlLmNlbGwsbXhFdmVudC5nZXRDbGllbnRYKGEpLG14RXZlbnQuZ2V0Q2xpZW50WShhKSx0aGlzLmdyYXBoLmdldFN1YnRyZWUodGhpcy5zdGF0ZS5jZWxsKSk7dGhpcy5ncmFwaC5ncmFwaEhhbmRsZXIuY2VsbFdhc0NsaWNrZWQ9ITA7dGhpcy5ncmFwaC5pc01vdXNlVHJpZ2dlcj1teEV2ZW50LmlzTW91c2VFdmVudChhKTt0aGlzLmdyYXBoLmlzTW91c2VEb3duPSEwO3YuaG92ZXJJY29ucy5yZXNldCgpO214RXZlbnQuY29uc3VtZShhKX0pKSl9O3ZhciBKPW14VmVydGV4SGFuZGxlci5wcm90b3R5cGUucmVkcmF3SGFuZGxlcztteFZlcnRleEhhbmRsZXIucHJvdG90eXBlLnJlZHJhd0hhbmRsZXM9ZnVuY3Rpb24oKXtKLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtudWxsIT10aGlzLm1vdmVIYW5kbGUmJgoodGhpcy5tb3ZlSGFuZGxlLnN0eWxlLmxlZnQ9dGhpcy5zdGF0ZS54K3RoaXMuc3RhdGUud2lkdGgrKDQwPnRoaXMuc3RhdGUud2lkdGg/MTA6MCkrMisicHgiLHRoaXMubW92ZUhhbmRsZS5zdHlsZS50b3A9dGhpcy5zdGF0ZS55K3RoaXMuc3RhdGUuaGVpZ2h0Kyg0MD50aGlzLnN0YXRlLmhlaWdodD8xMDowKSsyKyJweCIpfTt2YXIgdT1teFZlcnRleEhhbmRsZXIucHJvdG90eXBlLnNldEhhbmRsZXNWaXNpYmxlO214VmVydGV4SGFuZGxlci5wcm90b3R5cGUuc2V0SGFuZGxlc1Zpc2libGU9ZnVuY3Rpb24oYSl7dS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7bnVsbCE9dGhpcy5tb3ZlSGFuZGxlJiYodGhpcy5tb3ZlSGFuZGxlLnN0eWxlLmRpc3BsYXk9YT8iIjoibm9uZSIpfTt2YXIgSz1teFZlcnRleEhhbmRsZXIucHJvdG90eXBlLmRlc3Ryb3k7bXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKGEsYil7Sy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7bnVsbCE9CnRoaXMubW92ZUhhbmRsZSYmKHRoaXMubW92ZUhhbmRsZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMubW92ZUhhbmRsZSksdGhpcy5tb3ZlSGFuZGxlPW51bGwpfX07aWYoInVuZGVmaW5lZCIhPT10eXBlb2YgU2lkZWJhcil7dmFyIGY9U2lkZWJhci5wcm90b3R5cGUuY3JlYXRlQWR2YW5jZWRTaGFwZXM7U2lkZWJhci5wcm90b3R5cGUuY3JlYXRlQWR2YW5jZWRTaGFwZXM9ZnVuY3Rpb24oKXt2YXIgYT1mLmFwcGx5KHRoaXMsYXJndW1lbnRzKSxjPXRoaXMuZ3JhcGg7cmV0dXJuIGEuY29uY2F0KFt0aGlzLmFkZEVudHJ5KCJ0cmVlIGNvbnRhaW5lciIsZnVuY3Rpb24oKXt2YXIgYT1uZXcgbXhDZWxsKCJUcmVlIENvbnRhaW5lciIsbmV3IG14R2VvbWV0cnkoMCwwLDQwMCwzMjApLCJzd2ltbGFuZTtodG1sPTE7c3RhcnRTaXplPTIwO2hvcml6b250YWw9MTtjb250YWluZXJUeXBlPXRyZWU7Iik7YS52ZXJ0ZXg9ITA7dmFyIGM9bmV3IG14Q2VsbCgiUGFyZW50IixuZXcgbXhHZW9tZXRyeSgxNDAsCjYwLDEyMCw0MCksJ3doaXRlU3BhY2U9d3JhcDtodG1sPTE7dHJlZUZvbGRpbmc9MTt0cmVlTW92aW5nPTE7bmV3RWRnZVN0eWxlPXsiZWRnZVN0eWxlIjoiZWxib3dFZGdlU3R5bGUiLCJzdGFydEFycm93Ijoibm9uZSIsImVuZEFycm93Ijoibm9uZSJ9OycpO2MudmVydGV4PSEwO3ZhciBiPW5ldyBteENlbGwoIkNoaWxkIixuZXcgbXhHZW9tZXRyeSgxNDAsMTQwLDEyMCw0MCksJ3doaXRlU3BhY2U9d3JhcDtodG1sPTE7dHJlZUZvbGRpbmc9MTt0cmVlTW92aW5nPTE7bmV3RWRnZVN0eWxlPXsiZWRnZVN0eWxlIjoiZWxib3dFZGdlU3R5bGUiLCJzdGFydEFycm93Ijoibm9uZSIsImVuZEFycm93Ijoibm9uZSJ9OycpO2IudmVydGV4PSEwO3ZhciBkPW5ldyBteENlbGwoIiIsbmV3IG14R2VvbWV0cnkoMCwwLDAsMCksImVkZ2VTdHlsZT1lbGJvd0VkZ2VTdHlsZTtlbGJvdz12ZXJ0aWNhbDtzdGFydEFycm93PW5vbmU7ZW5kQXJyb3c9bm9uZTtyb3VuZGVkPTA7Iik7ZC5nZW9tZXRyeS5yZWxhdGl2ZT0KITA7ZC5lZGdlPSEwO2MuaW5zZXJ0RWRnZShkLCEwKTtiLmluc2VydEVkZ2UoZCwhMSk7YS5pbnNlcnQoZCk7YS5pbnNlcnQoYyk7YS5pbnNlcnQoYik7cmV0dXJuIHNiLmNyZWF0ZVZlcnRleFRlbXBsYXRlRnJvbUNlbGxzKFthXSxhLmdlb21ldHJ5LndpZHRoLGEuZ2VvbWV0cnkuaGVpZ2h0LGEudmFsdWUpfSksdGhpcy5hZGRFbnRyeSgidHJlZSBtaW5kbWFwIG1pbmRtYXBzIGNlbnRyYWwgaWRlYSBicmFuY2ggdG9waWMiLGZ1bmN0aW9uKCl7dmFyIGE9bmV3IG14Q2VsbCgiTWluZG1hcCIsbmV3IG14R2VvbWV0cnkoMCwwLDQyMCwxMjYpLCJzd2ltbGFuZTtodG1sPTE7c3RhcnRTaXplPTIwO2hvcml6b250YWw9MTtjb250YWluZXJUeXBlPXRyZWU7Iik7YS52ZXJ0ZXg9ITA7dmFyIGM9bmV3IG14Q2VsbCgiQ2VudHJhbCBJZGVhIixuZXcgbXhHZW9tZXRyeSgxNjAsNjAsMTAwLDQwKSwnZWxsaXBzZTt3aGl0ZVNwYWNlPXdyYXA7aHRtbD0xO2FsaWduPWNlbnRlcjt0cmVlRm9sZGluZz0xO3RyZWVNb3Zpbmc9MTtuZXdFZGdlU3R5bGU9eyJlZGdlU3R5bGUiOiJlbnRpdHlSZWxhdGlvbkVkZ2VTdHlsZSIsInN0YXJ0QXJyb3ciOiJub25lIiwiZW5kQXJyb3ciOiJub25lIiwic2VnbWVudCI6MTAsImN1cnZlZCI6MX07Jyk7CmMudmVydGV4PSEwO3ZhciBiPW5ldyBteENlbGwoIlRvcGljIixuZXcgbXhHZW9tZXRyeSgzMjAsNDAsODAsMjApLCd3aGl0ZVNwYWNlPXdyYXA7aHRtbD0xO3JvdW5kZWQ9MTthcmNTaXplPTUwO2FsaWduPWNlbnRlcjt2ZXJ0aWNhbEFsaWduPW1pZGRsZTtzdHJva2VXaWR0aD0xO2F1dG9zaXplPTE7c3BhY2luZz00O3RyZWVGb2xkaW5nPTE7dHJlZU1vdmluZz0xO25ld0VkZ2VTdHlsZT17ImVkZ2VTdHlsZSI6ImVudGl0eVJlbGF0aW9uRWRnZVN0eWxlIiwic3RhcnRBcnJvdyI6Im5vbmUiLCJlbmRBcnJvdyI6Im5vbmUiLCJzZWdtZW50IjoxMCwiY3VydmVkIjoxfTsnKTtiLnZlcnRleD0hMDt2YXIgZD1uZXcgbXhDZWxsKCIiLG5ldyBteEdlb21ldHJ5KDAsMCwwLDApLCJlZGdlU3R5bGU9ZW50aXR5UmVsYXRpb25FZGdlU3R5bGU7c3RhcnRBcnJvdz1ub25lO2VuZEFycm93PW5vbmU7c2VnbWVudD0xMDtjdXJ2ZWQ9MTsiKTtkLmdlb21ldHJ5LnJlbGF0aXZlPSEwO2QuZWRnZT0hMDsKYy5pbnNlcnRFZGdlKGQsITApO2IuaW5zZXJ0RWRnZShkLCExKTt2YXIgZj1uZXcgbXhDZWxsKCJCcmFuY2giLG5ldyBteEdlb21ldHJ5KDMyMCw4MCw3MiwyNiksJ3doaXRlU3BhY2U9d3JhcDtodG1sPTE7c2hhcGU9cGFydGlhbFJlY3RhbmdsZTt0b3A9MDtsZWZ0PTA7Ym90dG9tPTE7cmlnaHQ9MDtwb2ludHM9W1swLDFdLFsxLDFdXTtmaWxsQ29sb3I9bm9uZTthbGlnbj1jZW50ZXI7dmVydGljYWxBbGlnbj1ib3R0b207cm91dGluZ0NlbnRlclk9MC41O3NuYXBUb1BvaW50PTE7YXV0b3NpemU9MTt0cmVlRm9sZGluZz0xO3RyZWVNb3Zpbmc9MTtuZXdFZGdlU3R5bGU9eyJlZGdlU3R5bGUiOiJlbnRpdHlSZWxhdGlvbkVkZ2VTdHlsZSIsInN0YXJ0QXJyb3ciOiJub25lIiwiZW5kQXJyb3ciOiJub25lIiwic2VnbWVudCI6MTAsImN1cnZlZCI6MX07Jyk7Zi52ZXJ0ZXg9ITA7dmFyIGs9bmV3IG14Q2VsbCgiIixuZXcgbXhHZW9tZXRyeSgwLDAsMCwwKSwiZWRnZVN0eWxlPWVudGl0eVJlbGF0aW9uRWRnZVN0eWxlO3N0YXJ0QXJyb3c9bm9uZTtlbmRBcnJvdz1ub25lO3NlZ21lbnQ9MTA7Y3VydmVkPTE7Iik7CmsuZ2VvbWV0cnkucmVsYXRpdmU9ITA7ay5lZGdlPSEwO2MuaW5zZXJ0RWRnZShrLCEwKTtmLmluc2VydEVkZ2UoaywhMSk7dmFyIGw9bmV3IG14Q2VsbCgiVG9waWMiLG5ldyBteEdlb21ldHJ5KDIwLDQwLDgwLDIwKSwnd2hpdGVTcGFjZT13cmFwO2h0bWw9MTtyb3VuZGVkPTE7YXJjU2l6ZT01MDthbGlnbj1jZW50ZXI7dmVydGljYWxBbGlnbj1taWRkbGU7c3Ryb2tlV2lkdGg9MTthdXRvc2l6ZT0xO3NwYWNpbmc9NDt0cmVlRm9sZGluZz0xO3RyZWVNb3Zpbmc9MTtuZXdFZGdlU3R5bGU9eyJlZGdlU3R5bGUiOiJlbnRpdHlSZWxhdGlvbkVkZ2VTdHlsZSIsInN0YXJ0QXJyb3ciOiJub25lIiwiZW5kQXJyb3ciOiJub25lIiwic2VnbWVudCI6MTAsImN1cnZlZCI6MX07Jyk7bC52ZXJ0ZXg9ITA7dmFyIHA9bmV3IG14Q2VsbCgiIixuZXcgbXhHZW9tZXRyeSgwLDAsMCwwKSwiZWRnZVN0eWxlPWVudGl0eVJlbGF0aW9uRWRnZVN0eWxlO3N0YXJ0QXJyb3c9bm9uZTtlbmRBcnJvdz1ub25lO3NlZ21lbnQ9MTA7Y3VydmVkPTE7Iik7CnAuZ2VvbWV0cnkucmVsYXRpdmU9ITA7cC5lZGdlPSEwO2MuaW5zZXJ0RWRnZShwLCEwKTtsLmluc2VydEVkZ2UocCwhMSk7dmFyIHY9bmV3IG14Q2VsbCgiQnJhbmNoIixuZXcgbXhHZW9tZXRyeSgyMCw4MCw3MiwyNiksJ3doaXRlU3BhY2U9d3JhcDtodG1sPTE7c2hhcGU9cGFydGlhbFJlY3RhbmdsZTt0b3A9MDtsZWZ0PTA7Ym90dG9tPTE7cmlnaHQ9MDtwb2ludHM9W1swLDFdLFsxLDFdXTtmaWxsQ29sb3I9bm9uZTthbGlnbj1jZW50ZXI7dmVydGljYWxBbGlnbj1ib3R0b207cm91dGluZ0NlbnRlclk9MC41O3NuYXBUb1BvaW50PTE7YXV0b3NpemU9MTt0cmVlRm9sZGluZz0xO3RyZWVNb3Zpbmc9MTtuZXdFZGdlU3R5bGU9eyJlZGdlU3R5bGUiOiJlbnRpdHlSZWxhdGlvbkVkZ2VTdHlsZSIsInN0YXJ0QXJyb3ciOiJub25lIiwiZW5kQXJyb3ciOiJub25lIiwic2VnbWVudCI6MTAsImN1cnZlZCI6MX07Jyk7di52ZXJ0ZXg9ITA7dmFyIHQ9bmV3IG14Q2VsbCgiIixuZXcgbXhHZW9tZXRyeSgwLAowLDAsMCksImVkZ2VTdHlsZT1lbnRpdHlSZWxhdGlvbkVkZ2VTdHlsZTtzdGFydEFycm93PW5vbmU7ZW5kQXJyb3c9bm9uZTtzZWdtZW50PTEwO2N1cnZlZD0xOyIpO3QuZ2VvbWV0cnkucmVsYXRpdmU9ITA7dC5lZGdlPSEwO2MuaW5zZXJ0RWRnZSh0LCEwKTt2Lmluc2VydEVkZ2UodCwhMSk7YS5pbnNlcnQoZCk7YS5pbnNlcnQoayk7YS5pbnNlcnQocCk7YS5pbnNlcnQodCk7YS5pbnNlcnQoYyk7YS5pbnNlcnQoYik7YS5pbnNlcnQoZik7YS5pbnNlcnQobCk7YS5pbnNlcnQodik7cmV0dXJuIHNiLmNyZWF0ZVZlcnRleFRlbXBsYXRlRnJvbUNlbGxzKFthXSxhLmdlb21ldHJ5LndpZHRoLGEuZ2VvbWV0cnkuaGVpZ2h0LGEudmFsdWUpfSksdGhpcy5hZGRFbnRyeSgidHJlZSBtaW5kbWFwIG1pbmRtYXBzIGNlbnRyYWwgaWRlYSIsZnVuY3Rpb24oKXt2YXIgYT1uZXcgbXhDZWxsKCJDZW50cmFsIElkZWEiLG5ldyBteEdlb21ldHJ5KDAsMCwxMDAsNDApLCdlbGxpcHNlO3doaXRlU3BhY2U9d3JhcDtodG1sPTE7YWxpZ249Y2VudGVyO25ld0VkZ2VTdHlsZT17ImVkZ2VTdHlsZSI6ImVudGl0eVJlbGF0aW9uRWRnZVN0eWxlIiwic3RhcnRBcnJvdyI6Im5vbmUiLCJlbmRBcnJvdyI6Im5vbmUiLCJzZWdtZW50IjoxMCwiY3VydmVkIjoxfTt0cmVlRm9sZGluZz0xO3RyZWVNb3Zpbmc9MTsnKTsKYS52ZXJ0ZXg9ITA7cmV0dXJuIHNiLmNyZWF0ZVZlcnRleFRlbXBsYXRlRnJvbUNlbGxzKFthXSxhLmdlb21ldHJ5LndpZHRoLGEuZ2VvbWV0cnkuaGVpZ2h0LGEudmFsdWUpfSksdGhpcy5hZGRFbnRyeSgidHJlZSBtaW5kbWFwIG1pbmRtYXBzIGJyYW5jaCIsZnVuY3Rpb24oKXt2YXIgYT1uZXcgbXhDZWxsKCJCcmFuY2giLG5ldyBteEdlb21ldHJ5KDAsMCw4MCwyMCksJ3doaXRlU3BhY2U9d3JhcDtodG1sPTE7c2hhcGU9cGFydGlhbFJlY3RhbmdsZTt0b3A9MDtsZWZ0PTA7Ym90dG9tPTE7cmlnaHQ9MDtwb2ludHM9W1swLDFdLFsxLDFdXTtmaWxsQ29sb3I9bm9uZTthbGlnbj1jZW50ZXI7dmVydGljYWxBbGlnbj1ib3R0b207cm91dGluZ0NlbnRlclk9MC41O3NuYXBUb1BvaW50PTE7cmVjdXJzaXZlUmVzaXplPTA7YXV0b3NpemU9MTt0cmVlRm9sZGluZz0xO3RyZWVNb3Zpbmc9MTtuZXdFZGdlU3R5bGU9eyJlZGdlU3R5bGUiOiJlbnRpdHlSZWxhdGlvbkVkZ2VTdHlsZSIsInN0YXJ0QXJyb3ciOiJub25lIiwiZW5kQXJyb3ciOiJub25lIiwic2VnbWVudCI6MTAsImN1cnZlZCI6MX07Jyk7CmEudmVydGV4PSEwO3ZhciBjPW5ldyBteENlbGwoIiIsbmV3IG14R2VvbWV0cnkoMCwwLDAsMCksImVkZ2VTdHlsZT1lbnRpdHlSZWxhdGlvbkVkZ2VTdHlsZTtzdGFydEFycm93PW5vbmU7ZW5kQXJyb3c9bm9uZTtzZWdtZW50PTEwO2N1cnZlZD0xOyIpO2MuZ2VvbWV0cnkuc2V0VGVybWluYWxQb2ludChuZXcgbXhQb2ludCgtNDAsNDApLCEwKTtjLmdlb21ldHJ5LnJlbGF0aXZlPSEwO2MuZWRnZT0hMDthLmluc2VydEVkZ2UoYywhMSk7cmV0dXJuIHNiLmNyZWF0ZVZlcnRleFRlbXBsYXRlRnJvbUNlbGxzKFthLGNdLGEuZ2VvbWV0cnkud2lkdGgsYS5nZW9tZXRyeS5oZWlnaHQsYS52YWx1ZSl9KSx0aGlzLmFkZEVudHJ5KCJ0cmVlIG1pbmRtYXAgbWluZG1hcHMgc3ViIHRvcGljIixmdW5jdGlvbigpe3ZhciBhPW5ldyBteENlbGwoIlN1YiBUb3BpYyIsbmV3IG14R2VvbWV0cnkoMCwwLDcyLDI2KSwnd2hpdGVTcGFjZT13cmFwO2h0bWw9MTtyb3VuZGVkPTE7YXJjU2l6ZT01MDthbGlnbj1jZW50ZXI7dmVydGljYWxBbGlnbj1taWRkbGU7c3Ryb2tlV2lkdGg9MTthdXRvc2l6ZT0xO3NwYWNpbmc9NDt0cmVlRm9sZGluZz0xO3RyZWVNb3Zpbmc9MTtuZXdFZGdlU3R5bGU9eyJlZGdlU3R5bGUiOiJlbnRpdHlSZWxhdGlvbkVkZ2VTdHlsZSIsInN0YXJ0QXJyb3ciOiJub25lIiwiZW5kQXJyb3ciOiJub25lIiwic2VnbWVudCI6MTAsImN1cnZlZCI6MX07Jyk7CmEudmVydGV4PSEwO3ZhciBjPW5ldyBteENlbGwoIiIsbmV3IG14R2VvbWV0cnkoMCwwLDAsMCksImVkZ2VTdHlsZT1lbnRpdHlSZWxhdGlvbkVkZ2VTdHlsZTtzdGFydEFycm93PW5vbmU7ZW5kQXJyb3c9bm9uZTtzZWdtZW50PTEwO2N1cnZlZD0xOyIpO2MuZ2VvbWV0cnkuc2V0VGVybWluYWxQb2ludChuZXcgbXhQb2ludCgtNDAsNDApLCEwKTtjLmdlb21ldHJ5LnJlbGF0aXZlPSEwO2MuZWRnZT0hMDthLmluc2VydEVkZ2UoYywhMSk7cmV0dXJuIHNiLmNyZWF0ZVZlcnRleFRlbXBsYXRlRnJvbUNlbGxzKFthLGNdLGEuZ2VvbWV0cnkud2lkdGgsYS5nZW9tZXRyeS5oZWlnaHQsYS52YWx1ZSl9KSx0aGlzLmFkZEVudHJ5KCJ0cmVlIG9yZ2NoYXJ0IG9yZ2FuaXphdGlvbiBkaXZpc2lvbiIsZnVuY3Rpb24oKXt2YXIgYT1uZXcgbXhDZWxsKCJPcmdjaGFydCIsbmV3IG14R2VvbWV0cnkoMCwwLDI4MCwyMjApLCdzd2ltbGFuZTtodG1sPTE7c3RhcnRTaXplPTIwO2hvcml6b250YWw9MTtjb250YWluZXJUeXBlPXRyZWU7bmV3RWRnZVN0eWxlPXsiZWRnZVN0eWxlIjoiZWxib3dFZGdlU3R5bGUiLCJzdGFydEFycm93Ijoibm9uZSIsImVuZEFycm93Ijoibm9uZSJ9OycpOwphLnZlcnRleD0hMDt2YXIgZD1uZXcgbXhDZWxsKCJPcmdhbml6YXRpb24iLG5ldyBteEdlb21ldHJ5KDgwLDQwLDEyMCw2MCksJ3doaXRlU3BhY2U9d3JhcDtodG1sPTE7YWxpZ249Y2VudGVyO3RyZWVGb2xkaW5nPTE7dHJlZU1vdmluZz0xO25ld0VkZ2VTdHlsZT17ImVkZ2VTdHlsZSI6ImVsYm93RWRnZVN0eWxlIiwic3RhcnRBcnJvdyI6Im5vbmUiLCJlbmRBcnJvdyI6Im5vbmUifTsnKTtjLnNldEF0dHJpYnV0ZUZvckNlbGwoZCwidHJlZVJvb3QiLCIxIik7ZC52ZXJ0ZXg9ITA7dmFyIGI9bmV3IG14Q2VsbCgiRGl2aXNpb24iLG5ldyBteEdlb21ldHJ5KDIwLDE0MCwxMDAsNjApLCd3aGl0ZVNwYWNlPXdyYXA7aHRtbD0xO2FsaWduPWNlbnRlcjt2ZXJ0aWNhbEFsaWduPW1pZGRsZTt0cmVlRm9sZGluZz0xO3RyZWVNb3Zpbmc9MTtuZXdFZGdlU3R5bGU9eyJlZGdlU3R5bGUiOiJlbGJvd0VkZ2VTdHlsZSIsInN0YXJ0QXJyb3ciOiJub25lIiwiZW5kQXJyb3ciOiJub25lIn07Jyk7CmIudmVydGV4PSEwO3ZhciBlPW5ldyBteENlbGwoIiIsbmV3IG14R2VvbWV0cnkoMCwwLDAsMCksImVkZ2VTdHlsZT1lbGJvd0VkZ2VTdHlsZTtlbGJvdz12ZXJ0aWNhbDtzdGFydEFycm93PW5vbmU7ZW5kQXJyb3c9bm9uZTtyb3VuZGVkPTA7Iik7ZS5nZW9tZXRyeS5yZWxhdGl2ZT0hMDtlLmVkZ2U9ITA7ZC5pbnNlcnRFZGdlKGUsITApO2IuaW5zZXJ0RWRnZShlLCExKTt2YXIgZj1uZXcgbXhDZWxsKCJEaXZpc2lvbiIsbmV3IG14R2VvbWV0cnkoMTYwLDE0MCwxMDAsNjApLCd3aGl0ZVNwYWNlPXdyYXA7aHRtbD0xO2FsaWduPWNlbnRlcjt2ZXJ0aWNhbEFsaWduPW1pZGRsZTt0cmVlRm9sZGluZz0xO3RyZWVNb3Zpbmc9MTtuZXdFZGdlU3R5bGU9eyJlZGdlU3R5bGUiOiJlbGJvd0VkZ2VTdHlsZSIsInN0YXJ0QXJyb3ciOiJub25lIiwiZW5kQXJyb3ciOiJub25lIn07Jyk7Zi52ZXJ0ZXg9ITA7dmFyIGs9bmV3IG14Q2VsbCgiIixuZXcgbXhHZW9tZXRyeSgwLDAsMCwwKSwiZWRnZVN0eWxlPWVsYm93RWRnZVN0eWxlO2VsYm93PXZlcnRpY2FsO3N0YXJ0QXJyb3c9bm9uZTtlbmRBcnJvdz1ub25lO3JvdW5kZWQ9MDsiKTsKay5nZW9tZXRyeS5yZWxhdGl2ZT0hMDtrLmVkZ2U9ITA7ZC5pbnNlcnRFZGdlKGssITApO2YuaW5zZXJ0RWRnZShrLCExKTthLmluc2VydChlKTthLmluc2VydChrKTthLmluc2VydChkKTthLmluc2VydChiKTthLmluc2VydChmKTtyZXR1cm4gc2IuY3JlYXRlVmVydGV4VGVtcGxhdGVGcm9tQ2VsbHMoW2FdLGEuZ2VvbWV0cnkud2lkdGgsYS5nZW9tZXRyeS5oZWlnaHQsYS52YWx1ZSl9KSx0aGlzLmFkZEVudHJ5KCJ0cmVlIHJvb3QiLGZ1bmN0aW9uKCl7dmFyIGE9bmV3IG14Q2VsbCgiT3JnYW5pemF0aW9uIixuZXcgbXhHZW9tZXRyeSgwLDAsMTIwLDYwKSwnd2hpdGVTcGFjZT13cmFwO2h0bWw9MTthbGlnbj1jZW50ZXI7dHJlZUZvbGRpbmc9MTt0cmVlTW92aW5nPTE7bmV3RWRnZVN0eWxlPXsiZWRnZVN0eWxlIjoiZWxib3dFZGdlU3R5bGUiLCJzdGFydEFycm93Ijoibm9uZSIsImVuZEFycm93Ijoibm9uZSJ9OycpO2Muc2V0QXR0cmlidXRlRm9yQ2VsbChhLCJ0cmVlUm9vdCIsCiIxIik7YS52ZXJ0ZXg9ITA7cmV0dXJuIHNiLmNyZWF0ZVZlcnRleFRlbXBsYXRlRnJvbUNlbGxzKFthXSxhLmdlb21ldHJ5LndpZHRoLGEuZ2VvbWV0cnkuaGVpZ2h0LGEudmFsdWUpfSksdGhpcy5hZGRFbnRyeSgidHJlZSBkaXZpc2lvbiIsZnVuY3Rpb24oKXt2YXIgYT1uZXcgbXhDZWxsKCJEaXZpc2lvbiIsbmV3IG14R2VvbWV0cnkoMjAsNDAsMTAwLDYwKSwnd2hpdGVTcGFjZT13cmFwO2h0bWw9MTthbGlnbj1jZW50ZXI7dmVydGljYWxBbGlnbj1taWRkbGU7dHJlZUZvbGRpbmc9MTt0cmVlTW92aW5nPTE7bmV3RWRnZVN0eWxlPXsiZWRnZVN0eWxlIjoiZWxib3dFZGdlU3R5bGUiLCJzdGFydEFycm93Ijoibm9uZSIsImVuZEFycm93Ijoibm9uZSJ9OycpO2EudmVydGV4PSEwO3ZhciBjPW5ldyBteENlbGwoIiIsbmV3IG14R2VvbWV0cnkoMCwwLDAsMCksImVkZ2VTdHlsZT1lbGJvd0VkZ2VTdHlsZTtlbGJvdz12ZXJ0aWNhbDtzdGFydEFycm93PW5vbmU7ZW5kQXJyb3c9bm9uZTtyb3VuZGVkPTA7Iik7CmMuZ2VvbWV0cnkuc2V0VGVybWluYWxQb2ludChuZXcgbXhQb2ludCgwLDApLCEwKTtjLmdlb21ldHJ5LnJlbGF0aXZlPSEwO2MuZWRnZT0hMDthLmluc2VydEVkZ2UoYywhMSk7cmV0dXJuIHNiLmNyZWF0ZVZlcnRleFRlbXBsYXRlRnJvbUNlbGxzKFthLGNdLGEuZ2VvbWV0cnkud2lkdGgsYS5nZW9tZXRyeS5oZWlnaHQsYS52YWx1ZSl9KSx0aGlzLmFkZEVudHJ5KCJ0cmVlIHN1YiBzZWN0aW9ucyIsZnVuY3Rpb24oKXt2YXIgYT1uZXcgbXhDZWxsKCJTdWIgU2VjdGlvbiIsbmV3IG14R2VvbWV0cnkoMCwwLDEwMCw2MCksIndoaXRlU3BhY2U9d3JhcDtodG1sPTE7YWxpZ249Y2VudGVyO3ZlcnRpY2FsQWxpZ249bWlkZGxlO3RyZWVGb2xkaW5nPTE7dHJlZU1vdmluZz0xOyIpO2EudmVydGV4PSEwO3ZhciBjPW5ldyBteENlbGwoIiIsbmV3IG14R2VvbWV0cnkoMCwwLDAsMCksImVkZ2VTdHlsZT1vcnRob2dvbmFsRWRnZVN0eWxlO3N0YXJ0QXJyb3c9bm9uZTtlbmRBcnJvdz1ub25lO3JvdW5kZWQ9MDt0YXJnZXRQb3J0Q29uc3RyYWludD1lYXN0d2VzdDtzb3VyY2VQb3J0Q29uc3RyYWludD1ub3J0aHNvdXRoOyIpOwpjLmdlb21ldHJ5LnNldFRlcm1pbmFsUG9pbnQobmV3IG14UG9pbnQoMTEwLC00MCksITApO2MuZ2VvbWV0cnkucmVsYXRpdmU9ITA7Yy5lZGdlPSEwO2EuaW5zZXJ0RWRnZShjLCExKTt2YXIgYj1uZXcgbXhDZWxsKCJTdWIgU2VjdGlvbiIsbmV3IG14R2VvbWV0cnkoMTIwLDAsMTAwLDYwKSwid2hpdGVTcGFjZT13cmFwO2h0bWw9MTthbGlnbj1jZW50ZXI7dmVydGljYWxBbGlnbj1taWRkbGU7dHJlZUZvbGRpbmc9MTt0cmVlTW92aW5nPTE7Iik7Yi52ZXJ0ZXg9ITA7dmFyIGQ9bmV3IG14Q2VsbCgiIixuZXcgbXhHZW9tZXRyeSgwLDAsMCwwKSwiZWRnZVN0eWxlPW9ydGhvZ29uYWxFZGdlU3R5bGU7c3RhcnRBcnJvdz1ub25lO2VuZEFycm93PW5vbmU7cm91bmRlZD0wO3RhcmdldFBvcnRDb25zdHJhaW50PWVhc3R3ZXN0O3NvdXJjZVBvcnRDb25zdHJhaW50PW5vcnRoc291dGg7Iik7ZC5nZW9tZXRyeS5zZXRUZXJtaW5hbFBvaW50KG5ldyBteFBvaW50KDExMCwtNDApLCEwKTtkLmdlb21ldHJ5LnJlbGF0aXZlPQohMDtkLmVkZ2U9ITA7Yi5pbnNlcnRFZGdlKGQsITEpO3JldHVybiBzYi5jcmVhdGVWZXJ0ZXhUZW1wbGF0ZUZyb21DZWxscyhbYyxkLGEsYl0sMjIwLDYwLCJTdWIgU2VjdGlvbnMiKX0pXSl9fX0pKCk7RWRpdG9yVWkuaW5pdE1pbmltYWxUaGVtZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSxiKXt2YXIgYz1hLmVkaXRvci5ncmFwaDtjLnBvcHVwTWVudUhhbmRsZXIuaGlkZU1lbnUoKTtudWxsPT1hLmZvcm1hdFdpbmRvdz8oYS5mb3JtYXRXaW5kb3c9bmV3IGsoYSxteFJlc291cmNlcy5nZXQoImZvcm1hdCIpLE1hdGgubWF4KDIwLGEuZGlhZ3JhbUNvbnRhaW5lci5jbGllbnRXaWR0aC0yNDAtMTIpLDU2LDI0MCxNYXRoLm1pbig1NjYsYy5jb250YWluZXIuY2xpZW50SGVpZ2h0LTEwKSxmdW5jdGlvbihiKXtiPWEuY3JlYXRlRm9ybWF0KGIpO2IuaW5pdCgpO3JldHVybiBifSksYS5mb3JtYXRXaW5kb3cud2luZG93Lm1pbmltdW1TaXplPW5ldyBteFJlY3RhbmdsZSgwLDAsMjQwLDgwKSxhLmZvcm1hdFdpbmRvdy53aW5kb3cuc2V0VmlzaWJsZSghMCkpOmEuZm9ybWF0V2luZG93LndpbmRvdy5zZXRWaXNpYmxlKG51bGwhPWI/YjohYS5mb3JtYXRXaW5kb3cud2luZG93LmlzVmlzaWJsZSgpKTsKYS5mb3JtYXRXaW5kb3cud2luZG93LmlzVmlzaWJsZSgpJiZhLmZvcm1hdFdpbmRvdy53aW5kb3cuZml0KCl9ZnVuY3Rpb24gYyhhLGIpe3ZhciBjPWEuZWRpdG9yLmdyYXBoO2MucG9wdXBNZW51SGFuZGxlci5oaWRlTWVudSgpO25ldyBteFJlY3RhbmdsZTtpZihudWxsPT1hLnNpZGViYXJXaW5kb3cpe3ZhciBkPU1hdGgubWluKGMuY29udGFpbmVyLmNsaWVudFdpZHRoLTEwLDIxOCk7YS5zaWRlYmFyV2luZG93PW5ldyBrKGEsbXhSZXNvdXJjZXMuZ2V0KCJzaGFwZXMiKSwxMCw1NixkLTYsTWF0aC5taW4oNjUwLGMuY29udGFpbmVyLmNsaWVudEhlaWdodC0zMCksZnVuY3Rpb24oYil7ZnVuY3Rpb24gYyhjLGQpe3ZhciBmPWEubWVudXMuZ2V0KGMpLGc9ZS5hZGRNZW51KGQsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXtmLmZ1bmN0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pKTtnLnN0eWxlLmNzc1RleHQ9InBvc2l0aW9uOmFic29sdXRlO2JvcmRlci10b3A6MXB4IHNvbGlkIGxpZ2h0Z3JheTt3aWR0aDo1MCU7aGVpZ2h0OjI0cHg7Ym90dG9tOjBweDt0ZXh0LWFsaWduOmNlbnRlcjtjdXJzb3I6cG9pbnRlcjtwYWRkaW5nOjZweCAwIDAgMDtjdXNvcjpwb2ludGVyOyI7CmcuY2xhc3NOYW1lPSJnZVRpdGxlIjtiLmFwcGVuZENoaWxkKGcpO3JldHVybiBnfXZhciBkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2Quc3R5bGUuY3NzVGV4dD0icG9zaXRpb246YWJzb2x1dGU7bGVmdDowO3JpZ2h0OjA7Ym9yZGVyLXRvcDoxcHggc29saWQgbGlnaHRncmF5O2hlaWdodDoyNHB4O2JvdHRvbTozMXB4O3RleHQtYWxpZ246Y2VudGVyO2N1cnNvcjpwb2ludGVyO3BhZGRpbmc6NnB4IDAgMCAwOyI7ZC5jbGFzc05hbWU9ImdlVGl0bGUiO2QuaW5uZXJIVE1MPSc8c3BhbiBzdHlsZT0iZm9udC1zaXplOjE4cHg7bWFyZ2luLXJpZ2h0OjVweDsiPis8L3NwYW4+JztteFV0aWxzLndyaXRlKGQsbXhSZXNvdXJjZXMuZ2V0KCJtb3JlU2hhcGVzIikpO2IuYXBwZW5kQ2hpbGQoZCk7bXhFdmVudC5hZGRMaXN0ZW5lcihkLCJjbGljayIsZnVuY3Rpb24oKXthLmFjdGlvbnMuZ2V0KCJzaGFwZXMiKS5mdW5jdCgpfSk7dmFyIGU9bmV3IE1lbnViYXIoYSxiKTtpZighRWRpdG9yLmVuYWJsZUN1c3RvbUxpYnJhcmllc3x8CiIxIj09dXJsUGFyYW1zLmVtYmVkJiYiMSIhPXVybFBhcmFtcy5saWJyYXJpZXMpZC5zdHlsZS5ib3R0b209IjAiO2Vsc2UgaWYobnVsbCE9YS5hY3Rpb25zLmdldCgibmV3TGlicmFyeSIpKXtkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2Quc3R5bGUuY3NzVGV4dD0icG9zaXRpb246YWJzb2x1dGU7bGVmdDowcHg7d2lkdGg6NTAlO2JvcmRlci10b3A6MXB4IHNvbGlkIGxpZ2h0Z3JheTtoZWlnaHQ6MzBweDtib3R0b206MHB4O3RleHQtYWxpZ246Y2VudGVyO2N1cnNvcjpwb2ludGVyO3BhZGRpbmc6MHB4OyI7ZC5jbGFzc05hbWU9ImdlVGl0bGUiO3ZhciBmPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNwYW4iKTtmLnN0eWxlLmNzc1RleHQ9InBvc2l0aW9uOnJlbGF0aXZlO3RvcDo2cHg7IjtteFV0aWxzLndyaXRlKGYsbXhSZXNvdXJjZXMuZ2V0KCJuZXdMaWJyYXJ5IikpO2QuYXBwZW5kQ2hpbGQoZik7Yi5hcHBlbmRDaGlsZChkKTtteEV2ZW50LmFkZExpc3RlbmVyKGQsCiJjbGljayIsYS5hY3Rpb25zLmdldCgibmV3TGlicmFyeSIpLmZ1bmN0KTtkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2Quc3R5bGUuY3NzVGV4dD0icG9zaXRpb246YWJzb2x1dGU7bGVmdDo1MCU7d2lkdGg6NTAlO2JvcmRlci10b3A6MXB4IHNvbGlkIGxpZ2h0Z3JheTtoZWlnaHQ6MzBweDtib3R0b206MHB4O3RleHQtYWxpZ246Y2VudGVyO2N1cnNvcjpwb2ludGVyO3BhZGRpbmc6MHB4O2JvcmRlci1sZWZ0OiAxcHggc29saWQgbGlnaHRncmF5OyI7ZC5jbGFzc05hbWU9ImdlVGl0bGUiO2Y9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3BhbiIpO2Yuc3R5bGUuY3NzVGV4dD0icG9zaXRpb246cmVsYXRpdmU7dG9wOjZweDsiO214VXRpbHMud3JpdGUoZixteFJlc291cmNlcy5nZXQoIm9wZW5MaWJyYXJ5IikpO2QuYXBwZW5kQ2hpbGQoZik7Yi5hcHBlbmRDaGlsZChkKTtteEV2ZW50LmFkZExpc3RlbmVyKGQsImNsaWNrIixhLmFjdGlvbnMuZ2V0KCJvcGVuTGlicmFyeSIpLmZ1bmN0KX1lbHNlIGQ9CmMoIm5ld0xpYnJhcnkiLG14UmVzb3VyY2VzLmdldCgibmV3TGlicmFyeSIpKSxkLnN0eWxlLmJveFNpemluZz0iYm9yZGVyLWJveCIsZC5zdHlsZS5wYWRkaW5nUmlnaHQ9IjZweCIsZC5zdHlsZS5wYWRkaW5nTGVmdD0iNnB4IixkLnN0eWxlLmhlaWdodD0iMzJweCIsZC5zdHlsZS5sZWZ0PSIwIixkPWMoIm9wZW5MaWJyYXJ5RnJvbSIsbXhSZXNvdXJjZXMuZ2V0KCJvcGVuTGlicmFyeUZyb20iKSksZC5zdHlsZS5ib3JkZXJMZWZ0PSIxcHggc29saWQgbGlnaHRncmF5IixkLnN0eWxlLmJveFNpemluZz0iYm9yZGVyLWJveCIsZC5zdHlsZS5wYWRkaW5nUmlnaHQ9IjZweCIsZC5zdHlsZS5wYWRkaW5nTGVmdD0iNnB4IixkLnN0eWxlLmhlaWdodD0iMzJweCIsZC5zdHlsZS5sZWZ0PSI1MCUiO2IuYXBwZW5kQ2hpbGQoYS5zaWRlYmFyLmNvbnRhaW5lcik7Yi5zdHlsZS5vdmVyZmxvdz0iaGlkZGVuIjtyZXR1cm4gYn0pO2Euc2lkZWJhcldpbmRvdy53aW5kb3cubWluaW11bVNpemU9bmV3IG14UmVjdGFuZ2xlKDAsCjAsOTAsOTApO2Euc2lkZWJhcldpbmRvdy53aW5kb3cuc2V0VmlzaWJsZSghMCk7YS5nZXRMb2NhbERhdGEoInNpZGViYXIiLGZ1bmN0aW9uKGIpe2Euc2lkZWJhci5zaG93RW50cmllcyhiLG51bGwsITApfSk7YS5yZXN0b3JlTGlicmFyaWVzKCl9ZWxzZSBhLnNpZGViYXJXaW5kb3cud2luZG93LnNldFZpc2libGUobnVsbCE9Yj9iOiFhLnNpZGViYXJXaW5kb3cud2luZG93LmlzVmlzaWJsZSgpKTthLnNpZGViYXJXaW5kb3cud2luZG93LmlzVmlzaWJsZSgpJiZhLnNpZGViYXJXaW5kb3cud2luZG93LmZpdCgpfWlmKCIxIj09dXJsUGFyYW1zLmxpZ2h0Ym94fHwiMCI9PXVybFBhcmFtcy5jaHJvbWV8fCJ1bmRlZmluZWQiPT09dHlwZW9mIHdpbmRvdy5Gb3JtYXR8fCJ1bmRlZmluZWQiPT09dHlwZW9mIHdpbmRvdy5NZW51cyl3aW5kb3cudWlUaGVtZT1udWxsO2Vsc2V7dmFyIGY9d2luZG93LmlubmVyV2lkdGh8fGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aHx8ZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aDsKdHJ5e3ZhciBkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInN0eWxlIik7ZC50eXBlPSJ0ZXh0L2NzcyI7ZC5pbm5lckhUTUw9IiogeyAtd2Via2l0LWZvbnQtc21vb3RoaW5nOiBhbnRpYWxpYXNlZDsgfWh0bWwgYm9keSAubXhXaW5kb3cgYnV0dG9uLmdlQnRuIHsgZm9udC1zaXplOjEycHggIWltcG9ydGFudDsgbWFyZ2luLWxlZnQ6IDA7IH1odG1sIGJvZHkgdGFibGUubXhXaW5kb3cgdGQubXhXaW5kb3dQYW5lIGRpdi5teFdpbmRvd1BhbmUgKjpub3Qoc3ZnICopIHsgZm9udC1zaXplOjlwdDsgfXRhYmxlLm14V2luZG93ICogOm5vdChzdmcgKikgeyBmb250LXNpemU6MTNweDsgfWh0bWwgYm9keSBkaXYuZGlhZ3JhbUNvbnRhaW5lciBidXR0b24sIGh0bWwgYm9keSBidXR0b24uZ2VCdG4geyBmb250LXNpemU6MTRweDsgZm9udC13ZWlnaHQ6NzAwO2JvcmRlci1yYWRpdXM6IDVweDsgfWh0bWwgYm9keSBidXR0b24uZ2VCdG46YWN0aXZlIHsgb3BhY2l0eTogMC42OyB9aHRtbCBib2R5IGEuZ2VNZW51SXRlbSB7IG9wYWNpdHk6IDAuNzU7IGN1cnNvcjogcG9pbnRlcjsgdXNlci1zZWxlY3Q6bm9uZTsgfWh0bWwgYm9keSBhLmdlTWVudUl0ZW1bZGlzYWJsZWRdIHsgb3BhY2l0eTogMC4yOyB9aHRtbCBib2R5IGEuZ2VNZW51SXRlbVtkaXNhYmxlZF06YWN0aXZlIHsgb3BhY2l0eTogMC4yOyB9aHRtbCBib2R5IGRpdi5nZUFjdGl2ZVBhZ2UgeyBvcGFjaXR5OiAwLjc7IH1odG1sIGJvZHkgYS5nZU1lbnVJdGVtOmFjdGl2ZSB7IG9wYWNpdHk6IDAuMjsgfWh0bWwgYm9keSAuZ2VUb29sYmFyQnV0dG9uIHsgb3BhY2l0eTogMC4zOyB9aHRtbCBib2R5IC5nZVRvb2xiYXJCdXR0b246YWN0aXZlIHsgb3BhY2l0eTogMC4xNTsgfWh0bWwgYm9keSAuZ2VTdGF0dXM6YWN0aXZlIHsgb3BhY2l0eTogMC41OyB9aHRtbCB0YWJsZS5teFBvcHVwTWVudSB0ci5teFBvcHVwTWVudUl0ZW1Ib3ZlcjphY3RpdmUgeyBvcGFjaXR5OjAuNzsgfWh0bWwgYm9keSAuZ2VEaWFsb2cgaW5wdXQsIGh0bWwgYm9keSAuZ2VUb29sYmFyQ29udGFpbmVyIGlucHV0LCBodG1sIGJvZHkgLm14V2luZG93IGlucHV0IHtwYWRkaW5nOjJweDtkaXNwbGF5OmlubGluZS1ibG9jazsgfWRpdi5nZURpYWxvZyB7IGJvcmRlci1yYWRpdXM6IDVweDsgfWh0bWwgYm9keSBkaXYuZ2VEaWFsb2cgYnV0dG9uLmdlQmlnQnV0dG9uIHsgY29sb3I6ICNmZmYgIWltcG9ydGFudDsgYm9yZGVyOiBub25lICFpbXBvcnRhbnQ7IH0ubXhXaW5kb3cgYnV0dG9uLCAuZ2VEaWFsb2cgc2VsZWN0LCAubXhXaW5kb3cgc2VsZWN0IHsgZGlzcGxheTppbmxpbmUtYmxvY2s7IH1odG1sIGJvZHkgLm14V2luZG93IC5nZUNvbG9yQnRuLCBodG1sIGJvZHkgLmdlRGlhbG9nIC5nZUNvbG9yQnRuIHsgYmFja2dyb3VuZDogbm9uZTsgfWh0bWwgYm9keSBkaXYuZGlhZ3JhbUNvbnRhaW5lciBidXR0b24sIGh0bWwgYm9keSAubXhXaW5kb3cgYnV0dG9uLCBodG1sIGJvZHkgLmdlRGlhbG9nIGJ1dHRvbiB7IG1pbi13aWR0aDogMHB4OyBib3JkZXItcmFkaXVzOiA1cHg7IGNvbG9yOiAjMzUzNTM1ICFpbXBvcnRhbnQ7IGJvcmRlci1zdHlsZTogc29saWQ7IGJvcmRlci13aWR0aDogMXB4OyBib3JkZXItY29sb3I6IHJnYigyMTYsIDIxNiwgMjE2KTsgfWh0bWwgYm9keSBkaXYuZGlhZ3JhbUNvbnRhaW5lciBidXR0b246aG92ZXIsIGh0bWwgYm9keSAubXhXaW5kb3cgYnV0dG9uOmhvdmVyLCBodG1sIGJvZHkgLmdlRGlhbG9nIGJ1dHRvbjpob3ZlciB7IGJvcmRlci1jb2xvcjogcmdiKDE3NywgMTc3LCAxNzcpOyB9aHRtbCBib2R5IGRpdi5kaWFncmFtQ29udGFpbmVyIGJ1dHRvbjphY3RpdmUsIGh0bWwgYm9keSAubXhXaW5kb3cgYnV0dG9uOmFjdGl2ZSwgaHRtbCBib2R5IC5nZURpYWxvZyBidXR0b246YWN0aXZlIHsgb3BhY2l0eTogMC42OyB9ZGl2LmRpYWdyYW1Db250YWluZXIgYnV0dG9uLmdlQnRuLCAubXhXaW5kb3cgYnV0dG9uLmdlQnRuLCAuZ2VEaWFsb2cgYnV0dG9uLmdlQnRuIHsgbWluLXdpZHRoOjcycHg7IGZvbnQtd2VpZ2h0OiA2MDA7IGJhY2tncm91bmQ6IG5vbmU7IH1kaXYuZGlhZ3JhbUNvbnRhaW5lciBidXR0b24uZ2VQcmltYXJ5QnRuLCAubXhXaW5kb3cgYnV0dG9uLmdlUHJpbWFyeUJ0biwgLmdlRGlhbG9nIGJ1dHRvbi5nZVByaW1hcnlCdG4sIGh0bWwgYm9keSAuZ2VQcmltYXJ5QnRuIHsgYmFja2dyb3VuZDogIzI5YjZmMjsgY29sb3I6ICNmZmYgIWltcG9ydGFudDsgYm9yZGVyOiBub25lOyBib3gtc2hhZG93OiBub25lOyB9aHRtbCBib2R5IC5nZVByaW1hcnlCdG46aG92ZXIgeyBiYWNrZ3JvdW5kOiAjMjliNmYyOyBib3JkZXI6IG5vbmU7IGJveC1zaGFkb3c6IGluaGVyaXQ7IH1odG1sIGJvZHkgYnV0dG9uLmdlUHJpbWFyeUJ0bjpob3ZlciB7IGJhY2tncm91bmQ6ICMyOWI2ZjI7IGJvcmRlcjogbm9uZTsgfS5nZUJ0biBidXR0b24geyBtaW4td2lkdGg6NzJweCAhaW1wb3J0YW50OyB9ZGl2LmdlVG9vbGJhckNvbnRhaW5lciBhLmdlQnV0dG9uIHsgbWFyZ2luOjBweDsgcGFkZGluZzogMCAycHggNHB4IDJweDsgfSAuZ2VEaWFsb2csIC5teFdpbmRvdyB0ZC5teFdpbmRvd1BhbmUgKiwgZGl2LmdlU3ByaXRlLCB0ZC5teFdpbmRvd1RpdGxlLCAuZ2VEaWFncmFtQ29udGFpbmVyIHsgYm94LXNpemluZzpjb250ZW50LWJveDsgfS5teFdpbmRvdyBkaXYgYnV0dG9uLmdlU3R5bGVCdXR0b24geyBib3gtc2l6aW5nOiBib3JkZXItYm94OyB9dGFibGUubXhXaW5kb3cgdGQubXhXaW5kb3dQYW5lIGJ1dHRvbi5nZUNvbG9yQnRuIHsgcGFkZGluZzowcHg7IGJveC1zaXppbmc6IGJvcmRlci1ib3g7IH10ZC5teFdpbmRvd1BhbmUgLmdlU2lkZWJhckNvbnRhaW5lciBidXR0b24geyBwYWRkaW5nOjJweDsgYm94LXNpemluZzogYm9yZGVyLWJveDsgfWh0bWwgYm9keSAuZ2VNZW51SXRlbSB7IGZvbnQtc2l6ZToxNHB4OyB0ZXh0LWRlY29yYXRpb246IG5vbmU7IGZvbnQtd2VpZ2h0OiBub3JtYWw7IHBhZGRpbmc6IDZweCAxMHB4IDZweCAxMHB4OyBib3JkZXI6IG5vbmU7IGJvcmRlci1yYWRpdXM6IDVweDsgY29sb3I6ICMzNTM1MzU7IGJveC1zaGFkb3c6IGluc2V0IDAgMCAwIDFweCByZ2JhKDAsMCwwLC4xMSksIGluc2V0IDAgLTFweCAwIDAgcmdiYSgwLDAsMCwuMDgpLCAwIDFweCAycHggMCByZ2JhKDAsMCwwLC4wNCk7IH0uZ2VUb29sYmFyQ29udGFpbmVyIHsgYmFja2dyb3VuZDojZmZmICFpbXBvcnRhbnQ7IH1kaXYuZ2VTaWRlYmFyQ29udGFpbmVyIHsgYmFja2dyb3VuZC1jb2xvcjogI2ZmZmZmZjsgfWRpdi5nZVNpZGViYXJDb250YWluZXIgLmdlVGl0bGUgeyBiYWNrZ3JvdW5kLWNvbG9yOiNmZGZkZmQ7IH1kaXYubXhXaW5kb3cgdGQubXhXaW5kb3dQYW5lIGJ1dHRvbiB7IGJhY2tncm91bmQtaW1hZ2U6IG5vbmU7IGZsb2F0OiBub25lOyB9dGQubXhXaW5kb3dUaXRsZSB7IGhlaWdodDogMjJweCAhaW1wb3J0YW50OyBiYWNrZ3JvdW5kOiBub25lICFpbXBvcnRhbnQ7IGZvbnQtc2l6ZTogMTNweCAhaW1wb3J0YW50OyB0ZXh0LWFsaWduOmNlbnRlciAhaW1wb3J0YW50OyBib3JkZXItYm90dG9tOjFweCBzb2xpZCBsaWdodGdyYXk7IH1kaXYubXhXaW5kb3csIGRpdi5teFdpbmRvd1RpdGxlIHsgYmFja2dyb3VuZC1pbWFnZTogbm9uZSAhaW1wb3J0YW50OyBiYWNrZ3JvdW5kLWNvbG9yOiNmZmYgIWltcG9ydGFudDsgfWRpdi5teFdpbmRvdyB7IGJvcmRlci1yYWRpdXM6NXB4OyBib3gtc2hhZG93OiAwcHggMHB4IDJweCAjQzBDMEMwICFpbXBvcnRhbnQ7fWRpdi5teFdpbmRvdyAqIHsgZm9udC1mYW1pbHk6IGluaGVyaXQgIWltcG9ydGFudDsgfWh0bWwgZGl2LmdlVmVydGljYWxIYW5kbGUgeyBwb3NpdGlvbjphYnNvbHV0ZTtib3R0b206MHB4O2xlZnQ6NTAlO2N1cnNvcjpyb3ctcmVzaXplO3dpZHRoOjExcHg7aGVpZ2h0OjExcHg7YmFja2dyb3VuZDp3aGl0ZTttYXJnaW4tYm90dG9tOi02cHg7IG1hcmdpbi1sZWZ0Oi02cHg7IGJvcmRlcjogbm9uZTsgYm9yZGVyLXJhZGl1czogNnB4OyBib3gtc2hhZG93OiBpbnNldCAwIDAgMCAxcHggcmdiYSgwLDAsMCwuMTEpLCBpbnNldCAwIC0xcHggMCAwIHJnYmEoMCwwLDAsLjA4KSwgMCAxcHggMnB4IDAgcmdiYSgwLDAsMCwuMDQpOyB9aHRtbCBkaXYuZ2VJbmFjdGl2ZVBhZ2UgeyBiYWNrZ3JvdW5kOiByZ2IoMjQ5LCAyNDksIDI0OSkgIWltcG9ydGFudDsgY29sb3I6ICNBMEEwQTAgIWltcG9ydGFudDsgfSBodG1sIGRpdi5nZUFjdGl2ZVBhZ2UgeyBiYWNrZ3JvdW5kOiB3aGl0ZSAhaW1wb3J0YW50O2NvbG9yOiAjMzUzNTM1ICFpbXBvcnRhbnQ7IH0gaHRtbCBkaXYubXhSdWJiZXJiYW5kIHsgYm9yZGVyOjFweCBzb2xpZDsgYm9yZGVyLWNvbG9yOiAjMjliNmYyICFpbXBvcnRhbnQ7IGJhY2tncm91bmQ6cmdiYSg0MSwxODIsMjQyLDAuNCkgIWltcG9ydGFudDsgfSBodG1sIGJvZHkgZGl2Lm14UG9wdXBNZW51IHsgYm9yZGVyLXJhZGl1czo1cHg7IGJvcmRlcjoxcHggc29saWQgI2MwYzBjMDsgcGFkZGluZzo1cHggMCA1cHggMDsgYm94LXNoYWRvdzogMHB4IDRweCAxN3B4IC00cHggcmdiYSg5Niw5Niw5NiwxKTsgfSBodG1sIHRhYmxlLm14UG9wdXBNZW51IHRkLm14UG9wdXBNZW51SXRlbSB7IGNvbG9yOiAjMzUzNTM1OyBmb250LXNpemU6IDE0cHg7IHBhZGRpbmctdG9wOiA0cHg7IHBhZGRpbmctYm90dG9tOiA0cHg7IH1odG1sIHRhYmxlLm14UG9wdXBNZW51IHRyLm14UG9wdXBNZW51SXRlbUhvdmVyIHsgYmFja2dyb3VuZC1jb2xvcjogIzI5YjZmMjsgfWh0bWwgdHIubXhQb3B1cE1lbnVJdGVtSG92ZXIgdGQubXhQb3B1cE1lbnVJdGVtLCBodG1sIHRyLm14UG9wdXBNZW51SXRlbUhvdmVyIHRkLm14UG9wdXBNZW51SXRlbSBzcGFuIHsgY29sb3I6ICNmZmYgIWltcG9ydGFudDsgfWh0bWwgdHIubXhQb3B1cE1lbnVJdGVtLCBodG1sIHRkLm14UG9wdXBNZW51SXRlbSB7IHRyYW5zaXRpb24tcHJvcGVydHk6IG5vbmUgIWltcG9ydGFudDsgfWh0bWwgdGFibGUubXhQb3B1cE1lbnUgaHIgeyBoZWlnaHQ6IDJweDsgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLDAsMCwuMDcpOyBtYXJnaW46IDVweCAwOyB9IisKKG14Q2xpZW50LklTX0lPUz8iaHRtbCBpbnB1dFt0eXBlPWNoZWNrYm94XSwgaHRtbCBpbnB1dFt0eXBlPXJhZGlvXSB7IGhlaWdodDoxMnB4OyB9IjoiIik7ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImhlYWQiKVswXS5hcHBlbmRDaGlsZChkKX1jYXRjaCh5KXt9dmFyIGs9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyl7dmFyIGs9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7ay5jbGFzc05hbWU9ImdlU2lkZWJhckNvbnRhaW5lciI7ay5zdHlsZS5wb3NpdGlvbj0iYWJzb2x1dGUiO2suc3R5bGUud2lkdGg9IjEwMCUiO2suc3R5bGUuaGVpZ2h0PSIxMDAlIjtrLnN0eWxlLmJvcmRlcj0iMXB4IHNvbGlkIHdoaXRlU21va2UiO2suc3R5bGUub3ZlcmZsb3dYPSJoaWRkZW4iO2suc3R5bGUub3ZlcmZsb3dZPSJhdXRvIjtnKGspO3RoaXMud2luZG93PW5ldyBteFdpbmRvdyhiLGssYyxkLGUsZiwhMCwhMCk7dGhpcy53aW5kb3cuZGVzdHJveU9uQ2xvc2U9ITE7dGhpcy53aW5kb3cuc2V0TWF4aW1pemFibGUoITEpOwp0aGlzLndpbmRvdy5zZXRSZXNpemFibGUoITApO3RoaXMud2luZG93LnNldENsb3NhYmxlKCEwKTt0aGlzLndpbmRvdy5zZXRWaXNpYmxlKCEwKTt0aGlzLndpbmRvdy5zZXRMb2NhdGlvbj1mdW5jdGlvbihhLGIpe3ZhciBjPXdpbmRvdy5pbm5lckhlaWdodHx8ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodHx8ZG9jdW1lbnQuYm9keS5jbGllbnRIZWlnaHQ7YT1NYXRoLm1heCgwLE1hdGgubWluKGEsKHdpbmRvdy5pbm5lcldpZHRofHxkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGh8fGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGgpLXRoaXMudGFibGUuY2xpZW50V2lkdGgpKTtiPU1hdGgubWF4KDAsTWF0aC5taW4oYixjLXRoaXMudGFibGUuY2xpZW50SGVpZ2h0LTQ4KSk7dGhpcy5nZXRYKCk9PWEmJnRoaXMuZ2V0WSgpPT1ifHxteFdpbmRvdy5wcm90b3R5cGUuc2V0TG9jYXRpb24uYXBwbHkodGhpcyxhcmd1bWVudHMpfTtteENsaWVudC5JU19TRiYmCih0aGlzLndpbmRvdy5kaXYub25zZWxlY3RzdGFydD1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihiKXtudWxsPT1iJiYoYj13aW5kb3cuZXZlbnQpO3JldHVybiBudWxsIT1iJiZhLmlzU2VsZWN0aW9uQWxsb3dlZChiKX0pKX07RWRpdG9yLmNoZWNrbWFya0ltYWdlPUdyYXBoLmNyZWF0ZVN2Z0ltYWdlKDIyLDE4LCc8cGF0aCB0cmFuc2Zvcm09InRyYW5zbGF0ZSg0IDApIiBkPSJNNy4xODEsMTUuMDA3YTEsMSwwLDAsMS0uNzkzLTAuMzkxTDMuMjIyLDEwLjVBMSwxLDAsMSwxLDQuODA4LDkuMjc0TDcuMTMyLDEyLjNsNi4wNDQtOC44NkExLDEsMCwxLDEsMTQuODMsNC41NjlsLTYuODIzLDEwYTEsMSwwLDAsMS0uOC40MzdINy4xODFaIiBmaWxsPSIjMjliNmYyIi8+Jykuc3JjO214V2luZG93LnByb3RvdHlwZS5jbG9zZUltYWdlPUdyYXBoLmNyZWF0ZVN2Z0ltYWdlKDE4LDEwLCc8cGF0aCBkPSJNIDUgMSBMIDEzIDkgTSAxMyAxIEwgNSA5IiBzdHJva2U9IiNDMEMwQzAiIHN0cm9rZS13aWR0aD0iMiIvPicpLnNyYzsKbXhXaW5kb3cucHJvdG90eXBlLm1pbmltaXplSW1hZ2U9R3JhcGguY3JlYXRlU3ZnSW1hZ2UoMTQsMTAsJzxwYXRoIGQ9Ik0gMyA3IEwgNyAzIEwgMTEgNyIgc3Ryb2tlPSIjQzBDMEMwIiBzdHJva2Utd2lkdGg9IjIiIGZpbGw9IiNmZmZmZmYiLz4nKS5zcmM7bXhXaW5kb3cucHJvdG90eXBlLm5vcm1hbGl6ZUltYWdlPUdyYXBoLmNyZWF0ZVN2Z0ltYWdlKDE0LDEwLCc8cGF0aCBkPSJNIDMgMyBMIDcgNyBMIDExIDMiIHN0cm9rZT0iI0MwQzBDMCIgc3Ryb2tlLXdpZHRoPSIyIiBmaWxsPSIjZmZmZmZmIi8+Jykuc3JjO214Q29uc3RyYWludEhhbmRsZXIucHJvdG90eXBlLnBvaW50SW1hZ2U9R3JhcGguY3JlYXRlU3ZnSW1hZ2UoNSw1LCc8cGF0aCBkPSJtIDAgMCBMIDUgNSBNIDAgNSBMIDUgMCIgc3Ryb2tlPSIjMjliNmYyIi8+Jyk7bXhPdXRsaW5lLnByb3RvdHlwZS5zaXplckltYWdlPW51bGw7bXhDb25zdGFudHMuVkVSVEVYX1NFTEVDVElPTl9DT0xPUj0iI0MwQzBDMCI7bXhDb25zdGFudHMuRURHRV9TRUxFQ1RJT05fQ09MT1I9CiIjQzBDMEMwIjtteENvbnN0YW50cy5DT05ORUNUX0hBTkRMRV9GSUxMQ09MT1I9IiNjZWU3ZmYiO214Q29uc3RhbnRzLkRFRkFVTFRfVkFMSURfQ09MT1I9IiMyOWI2ZjIiO214Q29uc3RhbnRzLkdVSURFX0NPTE9SPSIjQzBDMEMwIjtteENvbnN0YW50cy5ISUdITElHSFRfU1RST0tFV0lEVEg9NTtteENvbnN0YW50cy5ISUdITElHSFRfT1BBQ0lUWT0zNTtteENvbnN0YW50cy5PVVRMSU5FX0NPTE9SPSIjMjliNmYyIjtteENvbnN0YW50cy5PVVRMSU5FX0hBTkRMRV9GSUxMQ09MT1I9IiMyOWI2ZjIiO214Q29uc3RhbnRzLk9VVExJTkVfSEFORExFX1NUUk9LRUNPTE9SPSIjZmZmIjtHcmFwaC5wcm90b3R5cGUuc3ZnU2hhZG93Q29sb3I9IiMzRDQ1NzQiO0dyYXBoLnByb3RvdHlwZS5zdmdTaGFkb3dPcGFjaXR5PSIwLjQiO0dyYXBoLnByb3RvdHlwZS5zdmdTaGFkb3dTaXplPSIwLjYiO0dyYXBoLnByb3RvdHlwZS5zdmdTaGFkb3dCbHVyPSIxLjIiO0Zvcm1hdC5wcm90b3R5cGUuaW5hY3RpdmVUYWJCYWNrZ3JvdW5kQ29sb3I9CiIjZjBmMGYwIjtteEdyYXBoSGFuZGxlci5wcm90b3R5cGUucHJldmlld0NvbG9yPSIjQzBDMEMwIjtteFJ1YmJlcmJhbmQucHJvdG90eXBlLmRlZmF1bHRPcGFjaXR5PTUwO0hvdmVySWNvbnMucHJvdG90eXBlLmluYWN0aXZlT3BhY2l0eT0yNTtGb3JtYXQucHJvdG90eXBlLnNob3dDbG9zZUJ1dHRvbj0hMTtFZGl0b3JVaS5wcm90b3R5cGUuY2xvc2FibGVTY3JhdGNocGFkPSExO0VkaXRvclVpLnByb3RvdHlwZS50b29sYmFySGVpZ2h0PTQ2O0VkaXRvclVpLnByb3RvdHlwZS5mb290ZXJIZWlnaHQ9MDtHcmFwaC5wcm90b3R5cGUuZWRpdEFmdGVySW5zZXJ0PSFteENsaWVudC5JU19JT1MmJiFteENsaWVudC5JU19BTkRST0lEO0VkaXRvci5wcm90b3R5cGUuaXNDaHJvbWVsZXNzVmlldz1mdW5jdGlvbigpe3JldHVybiExfTtHcmFwaC5wcm90b3R5cGUuaXNMaWdodGJveFZpZXc9ZnVuY3Rpb24oKXtyZXR1cm4hMX07dmFyIG09RWRpdG9yVWkucHJvdG90eXBlLnVwZGF0ZVRhYkNvbnRhaW5lcjsKRWRpdG9yVWkucHJvdG90eXBlLnVwZGF0ZVRhYkNvbnRhaW5lcj1mdW5jdGlvbigpe251bGwhPXRoaXMudGFiQ29udGFpbmVyJiYodGhpcy50YWJDb250YWluZXIuc3R5bGUucmlnaHQ9IjcwcHgiLHRoaXMuZGlhZ3JhbUNvbnRhaW5lci5zdHlsZS5ib3R0b209dGhpcy50YWJDb250YWluZXJIZWlnaHQrInB4Iik7bS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O3ZhciBxPUVkaXRvclVpLnByb3RvdHlwZS51cGRhdGVBY3Rpb25TdGF0ZXM7RWRpdG9yVWkucHJvdG90eXBlLnVwZGF0ZUFjdGlvblN0YXRlcz1mdW5jdGlvbigpe3EuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMubWVudXMuZ2V0KCJzYXZlIikuc2V0RW5hYmxlZChudWxsIT10aGlzLmdldEN1cnJlbnRGaWxlKCl8fCIxIj09dXJsUGFyYW1zLmVtYmVkKX07dmFyIGI9TWVudXMucHJvdG90eXBlLmFkZFNob3J0Y3V0O01lbnVzLnByb3RvdHlwZS5hZGRTaG9ydGN1dD1mdW5jdGlvbihhLGMpe251bGwhPWMuc2hvcnRjdXQmJjkwMD4KZiYmIW14Q2xpZW50LklTX0lPUz9hLmZpcnN0Q2hpbGQubmV4dFNpYmxpbmcuc2V0QXR0cmlidXRlKCJ0aXRsZSIsYy5zaG9ydGN1dCk6Yi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O3ZhciBlPUFwcC5wcm90b3R5cGUudXBkYXRlVXNlckVsZW1lbnQ7QXBwLnByb3RvdHlwZS51cGRhdGVVc2VyRWxlbWVudD1mdW5jdGlvbigpe2UuYXBwbHkodGhpcyxhcmd1bWVudHMpO2lmKG51bGwhPXRoaXMudXNlckVsZW1lbnQpe3ZhciBhPXRoaXMudXNlckVsZW1lbnQ7YS5zdHlsZS5jc3NUZXh0PSJwb3NpdGlvbjpyZWxhdGl2ZTttYXJnaW4tcmlnaHQ6NHB4O2N1cnNvcjpwb2ludGVyO2Rpc3BsYXk6IithLnN0eWxlLmRpc3BsYXk7YS5jbGFzc05hbWU9ImdlVG9vbGJhckJ1dHRvbiI7YS5pbm5lckhUTUw9IiI7YS5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2U9InVybCgiK0VkaXRvci51c2VySW1hZ2UrIikiO2Euc3R5bGUuYmFja2dyb3VuZFBvc2l0aW9uPSJjZW50ZXIgY2VudGVyIjthLnN0eWxlLmJhY2tncm91bmRSZXBlYXQ9CiJuby1yZXBlYXQiO2Euc3R5bGUuYmFja2dyb3VuZFNpemU9IjI0cHggMjRweCI7YS5zdHlsZS5oZWlnaHQ9IjI0cHgiO2Euc3R5bGUud2lkdGg9IjI0cHgiO2Euc3R5bGUuY3NzRmxvYXQ9InJpZ2h0IjthLnNldEF0dHJpYnV0ZSgidGl0bGUiLG14UmVzb3VyY2VzLmdldCgiY2hhbmdlVXNlciIpKTsibm9uZSIhPWEuc3R5bGUuZGlzcGxheSYmKGEuc3R5bGUuZGlzcGxheT0iaW5saW5lLWJsb2NrIil9fTt2YXIgZz1BcHAucHJvdG90eXBlLnVwZGF0ZUJ1dHRvbkNvbnRhaW5lcjtBcHAucHJvdG90eXBlLnVwZGF0ZUJ1dHRvbkNvbnRhaW5lcj1mdW5jdGlvbigpe2cuYXBwbHkodGhpcyxhcmd1bWVudHMpO2lmKG51bGwhPXRoaXMuc2hhcmVCdXR0b24pe3ZhciBhPXRoaXMuc2hhcmVCdXR0b247YS5zdHlsZS5jc3NUZXh0PSJkaXNwbGF5OmlubGluZS1ibG9jaztwb3NpdGlvbjpyZWxhdGl2ZTtib3gtc2l6aW5nOmJvcmRlci1ib3g7bWFyZ2luLXJpZ2h0OjRweDtjdXJzb3I6cG9pbnRlcjsiOwphLmNsYXNzTmFtZT0iZ2VUb29sYmFyQnV0dG9uIjthLmlubmVySFRNTD0iIjthLnN0eWxlLmJhY2tncm91bmRJbWFnZT0idXJsKCIrRWRpdG9yLnNoYXJlSW1hZ2UrIikiO2Euc3R5bGUuYmFja2dyb3VuZFBvc2l0aW9uPSJjZW50ZXIgY2VudGVyIjthLnN0eWxlLmJhY2tncm91bmRSZXBlYXQ9Im5vLXJlcGVhdCI7YS5zdHlsZS5iYWNrZ3JvdW5kU2l6ZT0iMjRweCAyNHB4IjthLnN0eWxlLmhlaWdodD0iMjRweCI7YS5zdHlsZS53aWR0aD0iMjRweCJ9fTtFZGl0b3JVaS5wcm90b3R5cGUuYWRkRW1iZWRCdXR0b25zPWZ1bmN0aW9uKCl7aWYobnVsbCE9dGhpcy5idXR0b25Db250YWluZXIpe3ZhciBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2Euc3R5bGUuZGlzcGxheT0iaW5saW5lLWJsb2NrIjthLnN0eWxlLnBvc2l0aW9uPSJyZWxhdGl2ZSI7YS5zdHlsZS5tYXJnaW5Ub3A9IjhweCI7YS5zdHlsZS5tYXJnaW5SaWdodD0iNHB4Ijt2YXIgYj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIik7CmIuY2xhc3NOYW1lPSJnZU1lbnVJdGVtIGdlUHJpbWFyeUJ0biI7Yi5zdHlsZS5tYXJnaW5MZWZ0PSI4cHgiO2Iuc3R5bGUucGFkZGluZz0iNnB4IjsiMSI9PXVybFBhcmFtcy5ub1NhdmVCdG4/KG14VXRpbHMud3JpdGUoYixteFJlc291cmNlcy5nZXQoInNhdmVBbmRFeGl0IikpLGIuc2V0QXR0cmlidXRlKCJ0aXRsZSIsbXhSZXNvdXJjZXMuZ2V0KCJzYXZlQW5kRXhpdCIpKSxteEV2ZW50LmFkZExpc3RlbmVyKGIsImNsaWNrIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMuYWN0aW9ucy5nZXQoInNhdmVBbmRFeGl0IikuZnVuY3QoKX0pKSxhLmFwcGVuZENoaWxkKGIpKToobXhVdGlscy53cml0ZShiLG14UmVzb3VyY2VzLmdldCgic2F2ZSIpKSxiLnNldEF0dHJpYnV0ZSgidGl0bGUiLG14UmVzb3VyY2VzLmdldCgic2F2ZSIpKyIgKCIrRWRpdG9yLmN0cmxLZXkrIitTKSIpLG14RXZlbnQuYWRkTGlzdGVuZXIoYiwiY2xpY2siLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dGhpcy5hY3Rpb25zLmdldCgic2F2ZSIpLmZ1bmN0KCl9KSksCmEuYXBwZW5kQ2hpbGQoYiksIjEiPT11cmxQYXJhbXMuc2F2ZUFuZEV4aXQmJihiPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKSxteFV0aWxzLndyaXRlKGIsbXhSZXNvdXJjZXMuZ2V0KCJzYXZlQW5kRXhpdCIpKSxiLnNldEF0dHJpYnV0ZSgidGl0bGUiLG14UmVzb3VyY2VzLmdldCgic2F2ZUFuZEV4aXQiKSksYi5jbGFzc05hbWU9ImdlTWVudUl0ZW0iLGIuc3R5bGUubWFyZ2luTGVmdD0iNnB4IixiLnN0eWxlLnBhZGRpbmc9IjZweCIsbXhFdmVudC5hZGRMaXN0ZW5lcihiLCJjbGljayIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt0aGlzLmFjdGlvbnMuZ2V0KCJzYXZlQW5kRXhpdCIpLmZ1bmN0KCl9KSksYS5hcHBlbmRDaGlsZChiKSkpO2I9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpO214VXRpbHMud3JpdGUoYixteFJlc291cmNlcy5nZXQoImV4aXQiKSk7Yi5zZXRBdHRyaWJ1dGUoInRpdGxlIixteFJlc291cmNlcy5nZXQoImV4aXQiKSk7Yi5jbGFzc05hbWU9CiJnZU1lbnVJdGVtIjtiLnN0eWxlLm1hcmdpbkxlZnQ9IjZweCI7Yi5zdHlsZS5wYWRkaW5nPSI2cHgiO214RXZlbnQuYWRkTGlzdGVuZXIoYiwiY2xpY2siLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dGhpcy5hY3Rpb25zLmdldCgiZXhpdCIpLmZ1bmN0KCl9KSk7YS5hcHBlbmRDaGlsZChiKTt0aGlzLmJ1dHRvbkNvbnRhaW5lci5hcHBlbmRDaGlsZChhKTt0aGlzLmJ1dHRvbkNvbnRhaW5lci5zdHlsZS50b3A9IjZweCJ9fTtTaWRlYmFyLnByb3RvdHlwZS5nZXRUb29sdGlwT2Zmc2V0PWZ1bmN0aW9uKCl7dmFyIGE9bXhVdGlscy5nZXRPZmZzZXQodGhpcy5lZGl0b3JVaS5zaWRlYmFyV2luZG93LndpbmRvdy5kaXYpO2EueSs9NDA7cmV0dXJuIGF9O3ZhciBuPU1lbnVzLnByb3RvdHlwZS5jcmVhdGVQb3B1cE1lbnU7TWVudXMucHJvdG90eXBlLmNyZWF0ZVBvcHVwTWVudT1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcy5lZGl0b3JVaS5lZGl0b3IuZ3JhcGg7YS5zbWFydFNlcGFyYXRvcnM9CiEwO24uYXBwbHkodGhpcyxhcmd1bWVudHMpO214VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEsYil7dmFyIGM9bmV3IEZpbGVuYW1lRGlhbG9nKHRoaXMuZWRpdG9yVWksYSxteFJlc291cmNlcy5nZXQoImFwcGx5IiksZnVuY3Rpb24oYSl7YihwYXJzZUZsb2F0KGEpKX0sbXhSZXNvdXJjZXMuZ2V0KCJzcGFjaW5nIikpO3RoaXMuZWRpdG9yVWkuc2hvd0RpYWxvZyhjLmNvbnRhaW5lciwzMDAsODAsITAsITApO2MuaW5pdCgpfSk7MT09ZC5nZXRTZWxlY3Rpb25Db3VudCgpPyh0aGlzLmFkZE1lbnVJdGVtcyhhLFsiZWRpdFRvb2x0aXAiLCItIiwiZWRpdFN0eWxlIiwiZWRpdEdlb21ldHJ5IiwiLSJdLG51bGwsYyksZC5pc0NlbGxGb2xkYWJsZShkLmdldFNlbGVjdGlvbkNlbGwoKSkmJnRoaXMuYWRkTWVudUl0ZW1zKGEsZC5pc0NlbGxDb2xsYXBzZWQoYik/WyJleHBhbmQiXTpbImNvbGxhcHNlIl0sbnVsbCxjKSx0aGlzLmFkZE1lbnVJdGVtcyhhLFsiY29sbGFwc2libGUiLCItIiwKImxvY2tVbmxvY2siLCJlbnRlckdyb3VwIl0sbnVsbCxjKSxhLmFkZFNlcGFyYXRvcigpLHRoaXMuYWRkU3VibWVudSgibGF5b3V0IixhKSk6ZC5pc1NlbGVjdGlvbkVtcHR5KCkmJmQuaXNFbmFibGVkKCk/KGEuYWRkU2VwYXJhdG9yKCksdGhpcy5hZGRNZW51SXRlbXMoYSxbImVkaXREYXRhIl0sbnVsbCxjKSxhLmFkZFNlcGFyYXRvcigpLHRoaXMuYWRkU3VibWVudSgibGF5b3V0IixhKSx0aGlzLmFkZFN1Ym1lbnUoInZpZXciLGEsbnVsbCxteFJlc291cmNlcy5nZXQoIm9wdGlvbnMiKSksYS5hZGRTZXBhcmF0b3IoKSx0aGlzLmFkZFN1Ym1lbnUoImluc2VydCIsYSksdGhpcy5hZGRNZW51SXRlbXMoYSxbIi0iLCJleGl0R3JvdXAiXSxudWxsLGMpKTpkLmlzRW5hYmxlZCgpJiZ0aGlzLmFkZE1lbnVJdGVtcyhhLFsiLSIsImxvY2tVbmxvY2siXSxudWxsLGMpfTtFZGl0b3JVaS5wcm90b3R5cGUudG9nZ2xlRm9ybWF0UGFuZWw9ZnVuY3Rpb24oYil7bnVsbCE9dGhpcy5mb3JtYXRXaW5kb3c/CnRoaXMuZm9ybWF0V2luZG93LndpbmRvdy5zZXRWaXNpYmxlKG51bGwhPWI/YjohdGhpcy5mb3JtYXRXaW5kb3cud2luZG93LmlzVmlzaWJsZSgpKTphKHRoaXMpfTtEaWFncmFtRm9ybWF0UGFuZWwucHJvdG90eXBlLmlzTWF0aE9wdGlvblZpc2libGU9ZnVuY3Rpb24oKXtyZXR1cm4hMH07dmFyIGw9RWRpdG9yVWkucHJvdG90eXBlLmRlc3Ryb3k7RWRpdG9yVWkucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXtudWxsIT10aGlzLnNpZGViYXJXaW5kb3cmJih0aGlzLnNpZGViYXJXaW5kb3cud2luZG93LnNldFZpc2libGUoITEpLHRoaXMuc2lkZWJhcldpbmRvdy53aW5kb3cuZGVzdHJveSgpLHRoaXMuc2lkZWJhcldpbmRvdz1udWxsKTtudWxsIT10aGlzLmZvcm1hdFdpbmRvdyYmKHRoaXMuZm9ybWF0V2luZG93LndpbmRvdy5zZXRWaXNpYmxlKCExKSx0aGlzLmZvcm1hdFdpbmRvdy53aW5kb3cuZGVzdHJveSgpLHRoaXMuZm9ybWF0V2luZG93PW51bGwpO251bGwhPXRoaXMuYWN0aW9ucy5vdXRsaW5lV2luZG93JiYKKHRoaXMuYWN0aW9ucy5vdXRsaW5lV2luZG93LndpbmRvdy5zZXRWaXNpYmxlKCExKSx0aGlzLmFjdGlvbnMub3V0bGluZVdpbmRvdy53aW5kb3cuZGVzdHJveSgpLHRoaXMuYWN0aW9ucy5vdXRsaW5lV2luZG93PW51bGwpO251bGwhPXRoaXMuYWN0aW9ucy5sYXllcnNXaW5kb3cmJih0aGlzLmFjdGlvbnMubGF5ZXJzV2luZG93LndpbmRvdy5zZXRWaXNpYmxlKCExKSx0aGlzLmFjdGlvbnMubGF5ZXJzV2luZG93LndpbmRvdy5kZXN0cm95KCksdGhpcy5hY3Rpb25zLmxheWVyc1dpbmRvdz1udWxsKTtudWxsIT10aGlzLm1lbnVzLnRhZ3NXaW5kb3cmJih0aGlzLm1lbnVzLnRhZ3NXaW5kb3cud2luZG93LnNldFZpc2libGUoITEpLHRoaXMubWVudXMudGFnc1dpbmRvdy53aW5kb3cuZGVzdHJveSgpLHRoaXMubWVudXMudGFnc1dpbmRvdz1udWxsKTtudWxsIT10aGlzLm1lbnVzLmZpbmRXaW5kb3cmJih0aGlzLm1lbnVzLmZpbmRXaW5kb3cud2luZG93LnNldFZpc2libGUoITEpLHRoaXMubWVudXMuZmluZFdpbmRvdy53aW5kb3cuZGVzdHJveSgpLAp0aGlzLm1lbnVzLmZpbmRXaW5kb3c9bnVsbCk7bC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O3ZhciBwPUVkaXRvclVpLnByb3RvdHlwZS5zZXRHcmFwaEVuYWJsZWQ7RWRpdG9yVWkucHJvdG90eXBlLnNldEdyYXBoRW5hYmxlZD1mdW5jdGlvbihhKXtwLmFwcGx5KHRoaXMsYXJndW1lbnRzKTthPzFFMzw9KHdpbmRvdy5pbm5lcldpZHRofHxkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGh8fGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGgpJiYobnVsbCE9dGhpcy5zaWRlYmFyV2luZG93JiZ0aGlzLnNpZGViYXJXaW5kb3cud2luZG93LnNldFZpc2libGUoITApLG51bGwhPXRoaXMuZm9ybWF0V2luZG93JiZ0aGlzLmZvcm1hdFdpbmRvdy53aW5kb3cuc2V0VmlzaWJsZSghMCkpOihudWxsIT10aGlzLnNpZGViYXJXaW5kb3cmJnRoaXMuc2lkZWJhcldpbmRvdy53aW5kb3cuc2V0VmlzaWJsZSghMSksbnVsbCE9dGhpcy5mb3JtYXRXaW5kb3cmJnRoaXMuZm9ybWF0V2luZG93LndpbmRvdy5zZXRWaXNpYmxlKCExKSl9OwpFZGl0b3JVaS5wcm90b3R5cGUuY2hyb21lbGVzc1dpbmRvd1Jlc2l6ZT1mdW5jdGlvbigpe307dmFyIHY9TWVudXMucHJvdG90eXBlLmluaXQ7TWVudXMucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oKXt2LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt2YXIgYj10aGlzLmVkaXRvclVpLGQ9Yi5lZGl0b3IuZ3JhcGg7Yi5hY3Rpb25zLmdldCgiZWRpdERpYWdyYW0iKS5sYWJlbD1teFJlc291cmNlcy5nZXQoImZvcm1hdFhtbCIpKyIuLi4iO2IuYWN0aW9ucy5nZXQoImNyZWF0ZVNoYXBlIikubGFiZWw9bXhSZXNvdXJjZXMuZ2V0KCJzaGFwZSIpKyIuLi4iO2IuYWN0aW9ucy5nZXQoIm91dGxpbmUiKS5sYWJlbD1teFJlc291cmNlcy5nZXQoIm91dGxpbmUiKSsiLi4uIjtiLmFjdGlvbnMuZ2V0KCJsYXllcnMiKS5sYWJlbD1teFJlc291cmNlcy5nZXQoImxheWVycyIpKyIuLi4iO2IuYWN0aW9ucy5wdXQoImltcG9ydENzdiIsbmV3IEFjdGlvbihteFJlc291cmNlcy5nZXQoImNzdiIpKyIuLi4iLApmdW5jdGlvbigpe2QucG9wdXBNZW51SGFuZGxlci5oaWRlTWVudSgpO2Iuc2hvd0ltcG9ydENzdkRpYWxvZygpfSkpO2IuYWN0aW9ucy5wdXQoImltcG9ydFRleHQiLG5ldyBBY3Rpb24obXhSZXNvdXJjZXMuZ2V0KCJ0ZXh0IikrIi4uLiIsZnVuY3Rpb24oKXt2YXIgYT1uZXcgUGFyc2VEaWFsb2coYiwiSW5zZXJ0IGZyb20gVGV4dCIpO2Iuc2hvd0RpYWxvZyhhLmNvbnRhaW5lciw2MjAsNDIwLCEwLCExKTthLmluaXQoKX0pKTtiLmFjdGlvbnMucHV0KCJmb3JtYXRTcWwiLG5ldyBBY3Rpb24obXhSZXNvdXJjZXMuZ2V0KCJmb3JtYXRTcWwiKSsiLi4uIixmdW5jdGlvbigpe3ZhciBhPW5ldyBQYXJzZURpYWxvZyhiLCJJbnNlcnQgZnJvbSBUZXh0IiwiZm9ybWF0U3FsIik7Yi5zaG93RGlhbG9nKGEuY29udGFpbmVyLDYyMCw0MjAsITAsITEpO2EuaW5pdCgpfSkpO2IuYWN0aW9ucy5wdXQoInRvZ2dsZVNoYXBlcyIsbmV3IEFjdGlvbihteFJlc291cmNlcy5nZXQoInNoYXBlcyIpKyIuLi4iLApmdW5jdGlvbigpe2MoYil9KSk7Yi5hY3Rpb25zLnB1dCgidG9nZ2xlRm9ybWF0IixuZXcgQWN0aW9uKG14UmVzb3VyY2VzLmdldCgiZm9ybWF0IikrIi4uLiIsZnVuY3Rpb24oKXthKGIpfSkpO0VkaXRvclVpLmVuYWJsZVBsYW50VW1sJiYhYi5pc09mZmxpbmUoKSYmYi5hY3Rpb25zLnB1dCgicGxhbnRVbWwiLG5ldyBBY3Rpb24obXhSZXNvdXJjZXMuZ2V0KCJwbGFudFVtbCIpKyIuLi4iLGZ1bmN0aW9uKCl7dmFyIGE9bmV3IFBhcnNlRGlhbG9nKGIsbXhSZXNvdXJjZXMuZ2V0KCJwbGFudFVtbCIpKyIuLi4iLCJwbGFudFVtbCIpO2Iuc2hvd0RpYWxvZyhhLmNvbnRhaW5lciw2MjAsNDIwLCEwLCExKTthLmluaXQoKX0pKTtiLmFjdGlvbnMucHV0KCJtZXJtYWlkIixuZXcgQWN0aW9uKG14UmVzb3VyY2VzLmdldCgibWVybWFpZCIpKyIuLi4iLGZ1bmN0aW9uKCl7dmFyIGE9bmV3IFBhcnNlRGlhbG9nKGIsbXhSZXNvdXJjZXMuZ2V0KCJtZXJtYWlkIikrIi4uLiIsIm1lcm1haWQiKTsKYi5zaG93RGlhbG9nKGEuY29udGFpbmVyLDYyMCw0MjAsITAsITEpO2EuaW5pdCgpfSkpO3RoaXMucHV0KCJkaWFncmFtIixuZXcgTWVudShteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhLGMpe3ZhciBkPWIuZ2V0Q3VycmVudEZpbGUoKTtiLm1lbnVzLmFkZFN1Ym1lbnUoImV4dHJhcyIsYSxjLG14UmVzb3VyY2VzLmdldCgicHJlZmVyZW5jZXMiKSk7YS5hZGRTZXBhcmF0b3IoYyk7bXhDbGllbnQuSVNfQ0hST01FQVBQfHxFZGl0b3JVaS5pc0VsZWN0cm9uQXBwPyhiLm1lbnVzLmFkZE1lbnVJdGVtcyhhLFsibmV3Iiwib3BlbiIsIi0iXSxjKSxFZGl0b3JVaS5pc0VsZWN0cm9uQXBwJiZiLm1lbnVzLmFkZE1lbnVJdGVtcyhhLFsic3luY2hyb25pemUiLCItIl0sYyksYi5tZW51cy5hZGRNZW51SXRlbXMoYSxbInNhdmUiLCJzYXZlQXMiLCItIl0sYykpOiIxIj09dXJsUGFyYW1zLmVtYmVkPyhiLm1lbnVzLmFkZE1lbnVJdGVtcyhhLFsiLSIsInNhdmUiXSxjKSwiMSI9PXVybFBhcmFtcy5zYXZlQW5kRXhpdCYmCmIubWVudXMuYWRkTWVudUl0ZW1zKGEsWyJzYXZlQW5kRXhpdCJdLGMpLGEuYWRkU2VwYXJhdG9yKGMpKTooYi5tZW51cy5hZGRNZW51SXRlbXMoYSxbIm5ldyJdLGMpLGIubWVudXMuYWRkU3VibWVudSgib3BlbkZyb20iLGEsYyksaXNMb2NhbFN0b3JhZ2UmJnRoaXMuYWRkU3VibWVudSgib3BlblJlY2VudCIsYSxjKSxhLmFkZFNlcGFyYXRvcihjKSxudWxsIT1kJiZkLmNvbnN0cnVjdG9yPT1Ecml2ZUZpbGUmJmIubWVudXMuYWRkTWVudUl0ZW1zKGEsWyJzaGFyZSJdLGMpLG14Q2xpZW50LklTX0NIUk9NRUFQUHx8RWRpdG9yVWkuaXNFbGVjdHJvbkFwcHx8bnVsbD09ZHx8ZC5jb25zdHJ1Y3Rvcj09TG9jYWxGaWxlfHxiLm1lbnVzLmFkZE1lbnVJdGVtcyhhLFsic3luY2hyb25pemUiXSxjKSxhLmFkZFNlcGFyYXRvcihjKSxiLm1lbnVzLmFkZFN1Ym1lbnUoInNhdmUiLGEsYykpO2IubWVudXMuYWRkU3VibWVudSgiZXhwb3J0QXMiLGEsYyk7bXhDbGllbnQuSVNfQ0hST01FQVBQfHwKRWRpdG9yVWkuaXNFbGVjdHJvbkFwcD9iLm1lbnVzLmFkZE1lbnVJdGVtcyhhLFsiaW1wb3J0Il0sYyk6Yi5tZW51cy5hZGRTdWJtZW51KCJpbXBvcnRGcm9tIixhLGMpO2IubWVudXMuYWRkTWVudUl0ZW1zKGEsWyItIiwib3V0bGluZSIsImxheWVycyJdLGMpO2IuY29tbWVudHNTdXBwb3J0ZWQoKSYmYi5tZW51cy5hZGRNZW51SXRlbXMoYSxbImNvbW1lbnRzIl0sYyk7Yi5tZW51cy5hZGRNZW51SXRlbXMoYSxbIi0iLCJmaW5kIiwidGFncyJdLGMpO251bGwhPWQmJm51bGwhPWIuZmlsZU5vZGUmJihkPW51bGwhPWQuZ2V0VGl0bGUoKT9kLmdldFRpdGxlKCk6Yi5kZWZhdWx0RmlsZW5hbWUsLyhcLmh0bWwpJC9pLnRlc3QoZCl8fC8oXC5zdmcpJC9pLnRlc3QoZCl8fHRoaXMuYWRkTWVudUl0ZW1zKGEsWyItIiwicHJvcGVydGllcyJdKSk7bXhDbGllbnQuSVNfSU9TJiZuYXZpZ2F0b3Iuc3RhbmRhbG9uZXx8Yi5tZW51cy5hZGRNZW51SXRlbXMoYSxbIi0iLCJwcmludCIsIi0iXSxjKTsKYi5tZW51cy5hZGRTdWJtZW51KCJoZWxwIixhLGMpOyIxIj09dXJsUGFyYW1zLmVtYmVkP2IubWVudXMuYWRkTWVudUl0ZW1zKGEsWyItIiwiZXhpdCJdLGMpOmIubWVudXMuYWRkTWVudUl0ZW1zKGEsWyItIiwiY2xvc2UiXSl9KSkpO3RoaXMucHV0KCJzYXZlIixuZXcgTWVudShteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhLGMpe3ZhciBkPWIuZ2V0Q3VycmVudEZpbGUoKTtudWxsIT1kJiZkLmNvbnN0cnVjdG9yPT1Ecml2ZUZpbGU/Yi5tZW51cy5hZGRNZW51SXRlbXMoYSxbInNhdmUiLCJtYWtlQ29weSIsIi0iLCJyZW5hbWUiLCJtb3ZlVG9Gb2xkZXIiXSxjKTooYi5tZW51cy5hZGRNZW51SXRlbXMoYSxbInNhdmUiLCJzYXZlQXMiLCItIiwicmVuYW1lIl0sYyksYi5pc09mZmxpbmVBcHAoKT9uYXZpZ2F0b3Iub25MaW5lJiYiMSIhPXVybFBhcmFtcy5zdGVhbHRoJiZ0aGlzLmFkZE1lbnVJdGVtcyhhLFsidXBsb2FkIl0sYyk6Yi5tZW51cy5hZGRNZW51SXRlbXMoYSxbIm1ha2VDb3B5Il0sCmMpKTtiLm1lbnVzLmFkZE1lbnVJdGVtcyhhLFsiLSIsImF1dG9zYXZlIl0sYyk7bnVsbCE9ZCYmZC5pc1JldmlzaW9uSGlzdG9yeVN1cHBvcnRlZCgpJiZiLm1lbnVzLmFkZE1lbnVJdGVtcyhhLFsiLSIsInJldmlzaW9uSGlzdG9yeSJdLGMpfSkpKTt2YXIgZT10aGlzLmdldCgiZXhwb3J0QXMiKTt0aGlzLnB1dCgiZXhwb3J0QXMiLG5ldyBNZW51KG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEsYyl7ZS5mdW5jdChhLGMpO214Q2xpZW50LklTX0NIUk9NRUFQUHx8RWRpdG9yVWkuaXNFbGVjdHJvbkFwcHx8Yi5tZW51cy5hZGRNZW51SXRlbXMoYSxbInB1Ymxpc2hMaW5rIl0sYyk7YS5hZGRTZXBhcmF0b3IoYyk7Yi5tZW51cy5hZGRTdWJtZW51KCJlbWJlZCIsYSxjKX0pKSk7dmFyIGY9dGhpcy5nZXQoImxhbmd1YWdlIik7dGhpcy5wdXQoInRhYmxlIixuZXcgTWVudShteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhLGMpe2IubWVudXMuYWRkSW5zZXJ0VGFibGVDZWxsSXRlbShhLApjKX0pKSk7dGhpcy5wdXQoImV4dHJhcyIsbmV3IE1lbnUobXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSxjKXsiMSIhPXVybFBhcmFtcy5lbWJlZCYmYi5tZW51cy5hZGRTdWJtZW51KCJ0aGVtZSIsYSxjKTtudWxsIT1mJiZiLm1lbnVzLmFkZFN1Ym1lbnUoImxhbmd1YWdlIixhLGMpO2IubWVudXMuYWRkU3VibWVudSgidW5pdHMiLGEsYyk7YS5hZGRTZXBhcmF0b3IoYyk7Yi5tZW51cy5hZGRNZW51SXRlbXMoYSxbInNjcm9sbGJhcnMiLCJ0b29sdGlwcyIsInJ1bGVyIl0sYyk7IjEiIT11cmxQYXJhbXMuZW1iZWQmJihpc0xvY2FsU3RvcmFnZXx8bXhDbGllbnQuSVNfQ0hST01FQVBQKSYmYi5tZW51cy5hZGRNZW51SXRlbXMoYSxbIi0iLCJzZWFyY2giLCJzY3JhdGNocGFkIiwiLSIsInNob3dTdGFydFNjcmVlbiJdLGMpOyFiLmlzT2ZmbGluZUFwcCgpJiZpc0xvY2FsU3RvcmFnZSYmYi5tZW51cy5hZGRNZW51SXRlbShhLCJwbHVnaW5zIixjKTthLmFkZFNlcGFyYXRvcihjKTsKYi5tZW51cy5hZGRNZW51SXRlbShhLCJkcmF3Q29uZmlnIixjKTthLmFkZFNlcGFyYXRvcihjKX0pKSk7dGhpcy5wdXQoImluc2VydEFkdmFuY2VkIixuZXcgTWVudShteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhLGMpe2IubWVudXMuYWRkTWVudUl0ZW1zKGEsImltcG9ydFRleHQgcGxhbnRVbWwgbWVybWFpZCAtIGZvcm1hdFNxbCBpbXBvcnRDc3YgLSBjcmVhdGVTaGFwZSBlZGl0RGlhZ3JhbSIuc3BsaXQoIiAiKSxjKX0pKSk7bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldCgiaW5zZXJ0IiksYz1hLmZ1bmN0O2EuZnVuY3Q9ZnVuY3Rpb24oYSxkKXtjLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtiLm1lbnVzLmFkZFN1Ym1lbnUoInRhYmxlIixhLGQpO2EuYWRkU2VwYXJhdG9yKGQpO2IubWVudXMuYWRkTWVudUl0ZW1zKGEsWyItIiwidG9nZ2xlU2hhcGVzIl0sZCl9fSkoKTt2YXIgZz0iaG9yaXpvbnRhbEZsb3cgdmVydGljYWxGbG93IC0gaG9yaXpvbnRhbFRyZWUgdmVydGljYWxUcmVlIHJhZGlhbFRyZWUgLSBvcmdhbmljIGNpcmNsZSIuc3BsaXQoIiAiKSwKaz1mdW5jdGlvbihhLGMsZCxlKXthLmFkZEl0ZW0oZCxudWxsLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dmFyIGE9bmV3IENyZWF0ZUdyYXBoRGlhbG9nKGIsZCxlKTtiLnNob3dEaWFsb2coYS5jb250YWluZXIsNjIwLDQyMCwhMCwhMSk7YS5pbml0KCl9KSxjKX07dGhpcy5wdXQoImluc2VydExheW91dCIsbmV3IE1lbnUobXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9MDtjPGcubGVuZ3RoO2MrKykiLSI9PWdbY10/YS5hZGRTZXBhcmF0b3IoYik6ayhhLGIsbXhSZXNvdXJjZXMuZ2V0KGdbY10pKyIuLi4iLGdbY10pfSkpKTt0aGlzLnB1dCgidmlldyIsbmV3IE1lbnUobXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSxjKXtiLm1lbnVzLmFkZE1lbnVJdGVtcyhhLCJncmlkIGd1aWRlcyBydWxlciAtIGNvbm5lY3Rpb25BcnJvd3MgY29ubmVjdGlvblBvaW50cyAtIi5zcGxpdCgiICIpLGMpO2lmKCJ1bmRlZmluZWQiIT09dHlwZW9mIE1hdGhKYXgpe3ZhciBkPQpiLm1lbnVzLmFkZE1lbnVJdGVtKGEsIm1hdGhlbWF0aWNhbFR5cGVzZXR0aW5nIixjKTtiLm1lbnVzLmFkZExpbmtUb0l0ZW0oZCwiaHR0cHM6Ly9kZXNrLmRyYXcuaW8vc3VwcG9ydC9zb2x1dGlvbnMvYXJ0aWNsZXMvMTYwMDAwMzI4NzUiKX1iLm1lbnVzLmFkZE1lbnVJdGVtcyhhLFsiY29weUNvbm5lY3QiLCJjb2xsYXBzZUV4cGFuZCIsIi0iLCJwYWdlU2NhbGUiXSxjKX0pKSl9O3ZhciB0PUVkaXRvclVpLnByb3RvdHlwZS5pbml0O0VkaXRvclVpLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYihhLGIsYyl7dmFyIGQ9bC5tZW51cy5nZXQoYSksZT1xLmFkZE1lbnUobXhSZXNvdXJjZXMuZ2V0KGEpLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7ZC5mdW5jdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KSxwKTtlLmNsYXNzTmFtZT0iZ2VNZW51SXRlbSI7ZS5zdHlsZS5kaXNwbGF5PSJpbmxpbmUtYmxvY2siO2Uuc3R5bGUuYm94U2l6aW5nPSJib3JkZXItYm94IjsKZS5zdHlsZS50b3A9IjZweCI7ZS5zdHlsZS5tYXJnaW5SaWdodD0iNnB4IjtlLnN0eWxlLmhlaWdodD0iMzBweCI7ZS5zdHlsZS5wYWRkaW5nVG9wPSI2cHgiO2Uuc3R5bGUucGFkZGluZ0JvdHRvbT0iNnB4IjtlLnN0eWxlLmN1cnNvcj0icG9pbnRlciI7ZS5zZXRBdHRyaWJ1dGUoInRpdGxlIixteFJlc291cmNlcy5nZXQoYSkpO2wubWVudXMubWVudUNyZWF0ZWQoZCxlLCJnZU1lbnVJdGVtIik7bnVsbCE9Yz8oZS5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2U9InVybCgiK2MrIikiLGUuc3R5bGUuYmFja2dyb3VuZFBvc2l0aW9uPSJjZW50ZXIgY2VudGVyIixlLnN0eWxlLmJhY2tncm91bmRSZXBlYXQ9Im5vLXJlcGVhdCIsZS5zdHlsZS5iYWNrZ3JvdW5kU2l6ZT0iMjRweCAyNHB4IixlLnN0eWxlLndpZHRoPSIzNHB4IixlLmlubmVySFRNTD0iIik6Ynx8KGUuc3R5bGUuYmFja2dyb3VuZEltYWdlPSJ1cmwoIitteFdpbmRvdy5wcm90b3R5cGUubm9ybWFsaXplSW1hZ2UrIikiLGUuc3R5bGUuYmFja2dyb3VuZFBvc2l0aW9uPQoicmlnaHQgNnB4IGNlbnRlciIsZS5zdHlsZS5iYWNrZ3JvdW5kUmVwZWF0PSJuby1yZXBlYXQiLGUuc3R5bGUucGFkZGluZ1JpZ2h0PSIyMnB4Iik7cmV0dXJuIGV9ZnVuY3Rpb24gZChhLGIsYyxkLGUsZil7dmFyIGc9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpO2cuY2xhc3NOYW1lPSJnZU1lbnVJdGVtIjtnLnN0eWxlLmRpc3BsYXk9ImlubGluZS1ibG9jayI7Zy5zdHlsZS5ib3hTaXppbmc9ImJvcmRlci1ib3giO2cuc3R5bGUuaGVpZ2h0PSIzMHB4IjtnLnN0eWxlLnBhZGRpbmc9IjZweCI7Zy5zdHlsZS5wb3NpdGlvbj0icmVsYXRpdmUiO2cuc3R5bGUudmVydGljYWxBbGlnbj0idG9wIjtnLnN0eWxlLnRvcD0iMHB4IjtudWxsIT1sLnN0YXR1c0NvbnRhaW5lcj9uLmluc2VydEJlZm9yZShnLGwuc3RhdHVzQ29udGFpbmVyKTpuLmFwcGVuZENoaWxkKGcpO251bGwhPWY/KGcuc3R5bGUuYmFja2dyb3VuZEltYWdlPSJ1cmwoIitmKyIpIixnLnN0eWxlLmJhY2tncm91bmRQb3NpdGlvbj0KImNlbnRlciBjZW50ZXIiLGcuc3R5bGUuYmFja2dyb3VuZFJlcGVhdD0ibm8tcmVwZWF0IixnLnN0eWxlLmJhY2tncm91bmRTaXplPSIyNHB4IDI0cHgiLGcuc3R5bGUud2lkdGg9IjM0cHgiKTpteFV0aWxzLndyaXRlKGcsYSk7bXhFdmVudC5hZGRMaXN0ZW5lcihnLG14Q2xpZW50LklTX1BPSU5URVI/InBvaW50ZXJkb3duIjoibW91c2Vkb3duIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXthLnByZXZlbnREZWZhdWx0KCl9KSk7bXhFdmVudC5hZGRMaXN0ZW5lcihnLCJjbGljayIsZnVuY3Rpb24oYSl7ImRpc2FibGVkIiE9Zy5nZXRBdHRyaWJ1dGUoImRpc2FibGVkIikmJmIoYSk7bXhFdmVudC5jb25zdW1lKGEpfSk7bnVsbD09YyYmKGcuc3R5bGUubWFyZ2luUmlnaHQ9IjRweCIpO251bGwhPWQmJmcuc2V0QXR0cmlidXRlKCJ0aXRsZSIsZCk7bnVsbCE9ZSYmKGE9ZnVuY3Rpb24oKXtlLmlzRW5hYmxlZCgpPyhnLnJlbW92ZUF0dHJpYnV0ZSgiZGlzYWJsZWQiKSxnLnN0eWxlLmN1cnNvcj0KInBvaW50ZXIiKTooZy5zZXRBdHRyaWJ1dGUoImRpc2FibGVkIiwiZGlzYWJsZWQiKSxnLnN0eWxlLmN1cnNvcj0iZGVmYXVsdCIpfSxlLmFkZExpc3RlbmVyKCJzdGF0ZUNoYW5nZWQiLGEpLGEoKSk7cmV0dXJuIGd9ZnVuY3Rpb24gZShhLGIpe3ZhciBjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2MuY2xhc3NOYW1lPSJnZU1lbnVJdGVtIjtjLnN0eWxlLmRpc3BsYXk9ImlubGluZS1ibG9jayI7Yy5zdHlsZS52ZXJ0aWNhbEFsaWduPSJ0b3AiO2Muc3R5bGUubWFyZ2luUmlnaHQ9IjZweCI7Yy5zdHlsZS5wYWRkaW5nPSIwIDRweCAwIDRweCI7Yy5zdHlsZS5oZWlnaHQ9IjMwcHgiO2Muc3R5bGUucG9zaXRpb249InJlbGF0aXZlIjtjLnN0eWxlLnRvcD0iMHB4Ijtmb3IodmFyIGQ9MDtkPGEubGVuZ3RoO2QrKyludWxsIT1hW2RdJiYoYVtkXS5zdHlsZS5tYXJnaW49IjBweCIsYVtkXS5zdHlsZS5ib3hTaGFkb3c9Im5vbmUiLGMuYXBwZW5kQ2hpbGQoYVtkXSkpO251bGwhPQpiJiZteFV0aWxzLnNldE9wYWNpdHkoYyxiKTtudWxsIT1sLnN0YXR1c0NvbnRhaW5lcj9uLmluc2VydEJlZm9yZShjLGwuc3RhdHVzQ29udGFpbmVyKTpuLmFwcGVuZENoaWxkKGMpO3JldHVybiBjfWZ1bmN0aW9uIGcoKXtmb3IodmFyIGE9bi5maXJzdENoaWxkO251bGwhPWE7KXt2YXIgYz1hLm5leHRTaWJsaW5nOyJnZU1lbnVJdGVtIiE9YS5jbGFzc05hbWUmJiJnZUl0ZW0iIT1hLmNsYXNzTmFtZXx8YS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGEpO2E9Y31wPW4uZmlyc3RDaGlsZDtmPXdpbmRvdy5pbm5lcldpZHRofHxkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGh8fGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGg7KGE9MUUzPmYpfHxiKCJkaWFncmFtIik7ZShbYT9iKCJkaWFncmFtIixudWxsLElNQUdFX1BBVEgrIi9kcmF3bG9nby5zdmciKTpudWxsLGQobXhSZXNvdXJjZXMuZ2V0KCJzaGFwZXMiKSxsLmFjdGlvbnMuZ2V0KCJ0b2dnbGVTaGFwZXMiKS5mdW5jdCwKbnVsbCxteFJlc291cmNlcy5nZXQoInNoYXBlcyIpLGwuYWN0aW9ucy5nZXQoImltYWdlIiksYT8iZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQSE4yWnlCNGJXeHVjejBpYUhSMGNEb3ZMM2QzZHk1M015NXZjbWN2TWpBd01DOXpkbWNpSUhkcFpIUm9QU0l5TkNJZ2FHVnBaMmgwUFNJeU5DSWdkbWxsZDBKdmVEMGlNQ0F3SURJMElESTBJajQ4Y0dGMGFDQmtQU0pOTVRNZ01UTjJPR2c0ZGkwNGFDMDRlazB6SURJeGFEaDJMVGhJTTNZNGVrMHpJRE4yT0dnNFZqTklNM3B0TVRNdU5qWXRNUzR6TVV3eE1TQTNMak0wSURFMkxqWTJJREV6YkRVdU5qWXROUzQyTmkwMUxqWTJMVFV1TmpWNklpOCtQQzl6ZG1jKyI6bnVsbCksZChteFJlc291cmNlcy5nZXQoImZvcm1hdCIpLGwuYWN0aW9ucy5nZXQoInRvZ2dsZUZvcm1hdCIpLmZ1bmN0LG51bGwsbXhSZXNvdXJjZXMuZ2V0KCJmb3JtYXQiKSsiICgiK2wuYWN0aW9ucy5nZXQoImZvcm1hdFBhbmVsIikuc2hvcnRjdXQrIikiLGwuYWN0aW9ucy5nZXQoImltYWdlIiksCmE/ImRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5QjRiV3h1Y3owaWFIUjBjRG92TDNkM2R5NTNNeTV2Y21jdk1qQXdNQzl6ZG1jaUlIZHBaSFJvUFNJeU5DSWdhR1ZwWjJoMFBTSXlOQ0lnZG1sbGQwSnZlRDBpTUNBd0lESTBJREkwSWo0OGNHRjBhQ0JrUFNKTk1USWdNMk10TkM0NU55QXdMVGtnTkM0d015MDVJRGx6TkM0d015QTVJRGtnT1dNdU9ETWdNQ0F4TGpVdExqWTNJREV1TlMweExqVWdNQzB1TXprdExqRTFMUzQzTkMwdU16a3RNUzR3TVMwdU1qTXRMakkyTFM0ek9DMHVOakV0TGpNNExTNDVPU0F3TFM0NE15NDJOeTB4TGpVZ01TNDFMVEV1TlVneE5tTXlMamMySURBZ05TMHlMakkwSURVdE5TQXdMVFF1TkRJdE5DNHdNeTA0TFRrdE9IcHRMVFV1TlNBNVl5MHVPRE1nTUMweExqVXRMalkzTFRFdU5TMHhMalZUTlM0Mk55QTVJRFl1TlNBNUlEZ2dPUzQyTnlBNElERXdMalVnTnk0ek15QXhNaUEyTGpVZ01USjZiVE10TkVNNExqWTNJRGdnT0NBM0xqTXpJRGdnTmk0MVV6Z3VOamNnTlNBNUxqVWdOWE14TGpVdU5qY2dNUzQxSURFdU5WTXhNQzR6TXlBNElEa3VOU0E0ZW0wMUlEQmpMUzQ0TXlBd0xURXVOUzB1TmpjdE1TNDFMVEV1TlZNeE15NDJOeUExSURFMExqVWdOWE14TGpVdU5qY2dNUzQxSURFdU5WTXhOUzR6TXlBNElERTBMalVnT0hwdE15QTBZeTB1T0RNZ01DMHhMalV0TGpZM0xURXVOUzB4TGpWVE1UWXVOamNnT1NBeE55NDFJRGx6TVM0MUxqWTNJREV1TlNBeExqVXRMalkzSURFdU5TMHhMalVnTVM0MWVpSXZQand2YzNablBnPT0iOgpudWxsKV0sYT82MDpudWxsKTtjPWIoImluc2VydCIsITAsYT8iZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQSE4yWnlCNGJXeHVjejBpYUhSMGNEb3ZMM2QzZHk1M015NXZjbWN2TWpBd01DOXpkbWNpSUhkcFpIUm9QU0l5TkNJZ2FHVnBaMmgwUFNJeU5DSWdkbWxsZDBKdmVEMGlNQ0F3SURJMElESTBJajQ4Y0dGMGFDQmtQU0pOTVRrZ01UTm9MVFoyTm1ndE1uWXROa2cxZGkweWFEWldOV2d5ZGpab05uWXllaUl2UGp3dmMzWm5QZz09IjpudWxsKTtlKFtjLGQobXhSZXNvdXJjZXMuZ2V0KCJkZWxldGUiKSxsLmFjdGlvbnMuZ2V0KCJkZWxldGUiKS5mdW5jdCxudWxsLG14UmVzb3VyY2VzLmdldCgiZGVsZXRlIiksbC5hY3Rpb25zLmdldCgiZGVsZXRlIiksYT8iZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQSE4yWnlCNGJXeHVjejBpYUhSMGNEb3ZMM2QzZHk1M015NXZjbWN2TWpBd01DOXpkbWNpSUhkcFpIUm9QU0l5TkNJZ2FHVnBaMmgwUFNJeU5DSWdkbWxsZDBKdmVEMGlNQ0F3SURJMElESTBJajQ4Y0dGMGFDQmtQU0pOTmlBeE9XTXdJREV1TVM0NUlESWdNaUF5YURoak1TNHhJREFnTWkwdU9TQXlMVEpXTjBnMmRqRXllazB4T1NBMGFDMHpMalZzTFRFdE1XZ3ROV3d0TVNBeFNEVjJNbWd4TkZZMGVpSXZQand2YzNablBnPT0iOgpudWxsKV0sYT82MDpudWxsKTtpZig0MTE8PWYmJihjPWwuYWN0aW9ucy5nZXQoInVuZG8iKSxhPWwuYWN0aW9ucy5nZXQoInJlZG8iKSxjPWQoIiIsYy5mdW5jdCxudWxsLG14UmVzb3VyY2VzLmdldCgidW5kbyIpKyIgKCIrYy5zaG9ydGN1dCsiKSIsYywiZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQSE4yWnlCNGJXeHVjejBpYUhSMGNEb3ZMM2QzZHk1M015NXZjbWN2TWpBd01DOXpkbWNpSUhkcFpIUm9QU0l5TkNJZ2FHVnBaMmgwUFNJeU5DSWdkbWxsZDBKdmVEMGlNQ0F3SURJMElESTBJajQ4Y0dGMGFDQmtQU0pOTVRJdU5TQTRZeTB5TGpZMUlEQXROUzR3TlM0NU9TMDJMamtnTWk0MlRESWdOM1k1YURsc0xUTXVOakl0TXk0Mk1tTXhMak01TFRFdU1UWWdNeTR4TmkweExqZzRJRFV1TVRJdE1TNDRPQ0F6TGpVMElEQWdOaTQxTlNBeUxqTXhJRGN1TmlBMUxqVnNNaTR6TnkwdU56aERNakV1TURnZ01URXVNRE1nTVRjdU1UVWdPQ0F4TWk0MUlEaDZJaTgrUEM5emRtYysiKSxhPWQoIiIsCmEuZnVuY3QsbnVsbCxteFJlc291cmNlcy5nZXQoInJlZG8iKSsiICgiK2Euc2hvcnRjdXQrIikiLGEsImRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5QjRiV3h1Y3owaWFIUjBjRG92TDNkM2R5NTNNeTV2Y21jdk1qQXdNQzl6ZG1jaUlIZHBaSFJvUFNJeU5DSWdhR1ZwWjJoMFBTSXlOQ0lnZG1sbGQwSnZlRDBpTUNBd0lESTBJREkwSWo0OGNHRjBhQ0JrUFNKTk1UZ3VOQ0F4TUM0MlF6RTJMalUxSURndU9Ua2dNVFF1TVRVZ09DQXhNUzQxSURoakxUUXVOalVnTUMwNExqVTRJRE11TURNdE9TNDVOaUEzTGpJeVRETXVPU0F4Tm1NeExqQTFMVE11TVRrZ05DNHdOUzAxTGpVZ055NDJMVFV1TlNBeExqazFJREFnTXk0M015NDNNaUExTGpFeUlERXVPRGhNTVRNZ01UWm9PVlkzYkMwekxqWWdNeTQyZWlJdlBqd3ZjM1puUGc9PSIpLGUoW2MsYV0sNjApLDQ4MDw9Zikpe3ZhciBhPWwuYWN0aW9ucy5nZXQoInpvb21JbiIpLGM9bC5hY3Rpb25zLmdldCgiem9vbU91dCIpLGc9bC5hY3Rpb25zLmdldCgicmVzZXRWaWV3Iik7CmUoW2QoIiIsZnVuY3Rpb24oKXttLnBvcHVwTWVudUhhbmRsZXIuaGlkZU1lbnUoKTt2YXIgYT1tLnZpZXcuc2NhbGUsYj1tLnZpZXcudHJhbnNsYXRlLngsYz1tLnZpZXcudHJhbnNsYXRlLnk7bC5hY3Rpb25zLmdldCgicmVzZXRWaWV3IikuZnVuY3QoKTsxRS01Pk1hdGguYWJzKGEtbS52aWV3LnNjYWxlKSYmYj09bS52aWV3LnRyYW5zbGF0ZS54JiZjPT1tLnZpZXcudHJhbnNsYXRlLnkmJmwuYWN0aW9ucy5nZXQobS5wYWdlVmlzaWJsZT8iZml0UGFnZSI6ImZpdFdpbmRvdyIpLmZ1bmN0KCl9LCEwLG14UmVzb3VyY2VzLmdldCgiZml0IikrIiAoIitFZGl0b3IuY3RybEtleSsiK0gpIixnLCJkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBITjJaeUI0Yld4dWN6MGlhSFIwY0RvdkwzZDNkeTUzTXk1dmNtY3ZNakF3TUM5emRtY2lJSGRwWkhSb1BTSXlOQ0lnYUdWcFoyaDBQU0l5TkNJZ2RtbGxkMEp2ZUQwaU1DQXdJREkwSURJMElqNDhjR0YwYUNCa1BTSk5NeUExZGpSb01sWTFhRFJXTTBnMVl5MHhMakVnTUMweUlDNDVMVElnTW5wdE1pQXhNRWd6ZGpSak1DQXhMakV1T1NBeUlESWdNbWcwZGkweVNEVjJMVFI2YlRFMElEUm9MVFIyTW1nMFl6RXVNU0F3SURJdExqa2dNaTB5ZGkwMGFDMHlkalI2YlRBdE1UWm9MVFIyTW1nMGRqUm9NbFkxWXpBdE1TNHhMUzQ1TFRJdE1pMHllaUl2UGp3dmMzWm5QZz09IiksCjY0MDw9Zj9kKCIiLGEuZnVuY3QsITAsbXhSZXNvdXJjZXMuZ2V0KCJ6b29tSW4iKSsiICgiK0VkaXRvci5jdHJsS2V5KyIgKykiLGEsImRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5QjRiV3h1Y3owaWFIUjBjRG92TDNkM2R5NTNNeTV2Y21jdk1qQXdNQzl6ZG1jaUlIZHBaSFJvUFNJeU5DSWdhR1ZwWjJoMFBTSXlOQ0lnZG1sbGQwSnZlRDBpTUNBd0lESTBJREkwSWo0OGNHRjBhQ0JrUFNKTk1UVXVOU0F4TkdndExqYzViQzB1TWpndExqSTNRekUxTGpReElERXlMalU1SURFMklERXhMakV4SURFMklEa3VOU0F4TmlBMUxqa3hJREV6TGpBNUlETWdPUzQxSUROVE15QTFMamt4SURNZ09TNDFJRFV1T1RFZ01UWWdPUzQxSURFMll6RXVOakVnTUNBekxqQTVMUzQxT1NBMExqSXpMVEV1TlRkc0xqSTNMakk0ZGk0M09XdzFJRFF1T1RsTU1qQXVORGtnTVRsc0xUUXVPVGt0TlhwdExUWWdNRU0zTGpBeElERTBJRFVnTVRFdU9Ua2dOU0E1TGpWVE55NHdNU0ExSURrdU5TQTFJREUwSURjdU1ERWdNVFFnT1M0MUlERXhMams1SURFMElEa3VOU0F4TkhwdE1pNDFMVFJvTFRKMk1rZzVkaTB5U0RkV09XZ3lWamRvTVhZeWFESjJNWG9pTHo0OEwzTjJaejQ9Iik6Cm51bGwsNjQwPD1mP2QoIiIsYy5mdW5jdCwhMCxteFJlc291cmNlcy5nZXQoInpvb21PdXQiKSsiICgiK0VkaXRvci5jdHJsS2V5KyIgLSkiLGMsImRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5QjRiV3h1Y3owaWFIUjBjRG92TDNkM2R5NTNNeTV2Y21jdk1qQXdNQzl6ZG1jaUlIZHBaSFJvUFNJeU5DSWdhR1ZwWjJoMFBTSXlOQ0lnZG1sbGQwSnZlRDBpTUNBd0lESTBJREkwSWo0OGNHRjBhQ0JrUFNKTk1UVXVOU0F4TkdndExqYzViQzB1TWpndExqSTNRekUxTGpReElERXlMalU1SURFMklERXhMakV4SURFMklEa3VOU0F4TmlBMUxqa3hJREV6TGpBNUlETWdPUzQxSUROVE15QTFMamt4SURNZ09TNDFJRFV1T1RFZ01UWWdPUzQxSURFMll6RXVOakVnTUNBekxqQTVMUzQxT1NBMExqSXpMVEV1TlRkc0xqSTNMakk0ZGk0M09XdzFJRFF1T1RsTU1qQXVORGtnTVRsc0xUUXVPVGt0TlhwdExUWWdNRU0zTGpBeElERTBJRFVnTVRFdU9Ua2dOU0E1TGpWVE55NHdNU0ExSURrdU5TQTFJREUwSURjdU1ERWdNVFFnT1M0MUlERXhMams1SURFMElEa3VOU0F4TkhwTk55QTVhRFYyTVVnM2VpSXZQand2YzNablBnPT0iKToKbnVsbF0sNjApfWE9bC5tZW51cy5nZXQoImxhbmd1YWdlIik7bnVsbCE9YSYmIW14Q2xpZW50LklTX0NIUk9NRUFQUCYmIUVkaXRvclVpLmlzRWxlY3Ryb25BcHAmJjYwMDw9Zj8obnVsbD09USYmKGM9cS5hZGRNZW51KCIiLGEuZnVuY3QpLGMuc2V0QXR0cmlidXRlKCJ0aXRsZSIsbXhSZXNvdXJjZXMuZ2V0KCJsYW5ndWFnZSIpKSxjLmNsYXNzTmFtZT0iZ2VUb29sYmFyQnV0dG9uIixjLnN0eWxlLmJhY2tncm91bmRJbWFnZT0idXJsKCIrRWRpdG9yLmdsb2JlSW1hZ2UrIikiLGMuc3R5bGUuYmFja2dyb3VuZFBvc2l0aW9uPSJjZW50ZXIgY2VudGVyIixjLnN0eWxlLmJhY2tncm91bmRSZXBlYXQ9Im5vLXJlcGVhdCIsYy5zdHlsZS5iYWNrZ3JvdW5kU2l6ZT0iMjRweCAyNHB4IixjLnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSIsYy5zdHlsZS5oZWlnaHQ9IjI0cHgiLGMuc3R5bGUud2lkdGg9IjI0cHgiLGMuc3R5bGUuekluZGV4PSIxIixjLnN0eWxlLnJpZ2h0PSI4cHgiLGMuc3R5bGUuY3Vyc29yPQoicG9pbnRlciIsYy5zdHlsZS50b3A9IjEiPT11cmxQYXJhbXMuZW1iZWQ/IjEycHgiOiIxMXB4IixuLmFwcGVuZENoaWxkKGMpLFE9YyksbC5idXR0b25Db250YWluZXIuc3R5bGUucGFkZGluZ1JpZ2h0PSIzNHB4Iik6KGwuYnV0dG9uQ29udGFpbmVyLnN0eWxlLnBhZGRpbmdSaWdodD0iNHB4IixudWxsIT1RJiYoUS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKFEpLFE9bnVsbCkpfXQuYXBwbHkodGhpcyxhcmd1bWVudHMpO3ZhciBrPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2suc3R5bGUuY3NzVGV4dD0icG9zaXRpb246YWJzb2x1dGU7bGVmdDowcHg7cmlnaHQ6MHB4O3RvcDowcHg7b3ZlcmZsb3cteTphdXRvO292ZXJmbG93LXg6aGlkZGVuOyI7ay5zdHlsZS5ib3R0b209IjEiIT11cmxQYXJhbXMuZW1iZWR8fCIxIj09dXJsUGFyYW1zLmxpYnJhcmllcz8iNjNweCI6IjMycHgiO3RoaXMuc2lkZWJhcj10aGlzLmNyZWF0ZVNpZGViYXIoayk7KDFFMzw9Znx8bnVsbCE9dXJsUGFyYW1zLmNsaWJzfHwKbnVsbCE9dXJsUGFyYW1zLmxpYnMpJiZjKHRoaXMsITApOzFFMzw9ZiYmYSh0aGlzLCEwKTt2YXIgbD10aGlzLG09bC5lZGl0b3IuZ3JhcGg7bC50b29sYmFyPXRoaXMuY3JlYXRlVG9vbGJhcihsLmNyZWF0ZURpdigiZ2VUb29sYmFyIikpO2wuZGVmYXVsdExpYnJhcnlOYW1lPW14UmVzb3VyY2VzLmdldCgidW50aXRsZWRMaWJyYXJ5Iik7dmFyIG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7bi5zdHlsZS5jc3NUZXh0PSJwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjBweDtyaWdodDowcHg7dG9wOjBweDtoZWlnaHQ6MzBweDtwYWRkaW5nOjhweDtib3JkZXItYm90dG9tOjFweCBzb2xpZCBsaWdodGdyYXk7YmFja2dyb3VuZC1jb2xvcjojZmZmZmZmO3RleHQtYWxpZ246bGVmdDt3aGl0ZS1zcGFjZTpub3dyYXA7Ijt2YXIgcD1udWxsLHE9bmV3IE1lbnViYXIobCxuKTtsLnN0YXR1c0NvbnRhaW5lcj1sLmNyZWF0ZVN0YXR1c0NvbnRhaW5lcigpO2wuc3RhdHVzQ29udGFpbmVyLnN0eWxlLnBvc2l0aW9uPQoicmVsYXRpdmUiO2wuc3RhdHVzQ29udGFpbmVyLnN0eWxlLm1heFdpZHRoPSIiO2wuc3RhdHVzQ29udGFpbmVyLnN0eWxlLm1hcmdpblRvcD0iN3B4IjtsLnN0YXR1c0NvbnRhaW5lci5zdHlsZS5tYXJnaW5MZWZ0PSI2cHgiO2wuc3RhdHVzQ29udGFpbmVyLnN0eWxlLmNvbG9yPSJncmF5IjtsLnN0YXR1c0NvbnRhaW5lci5zdHlsZS5jdXJzb3I9ImRlZmF1bHQiO2wuZWRpdG9yLmFkZExpc3RlbmVyKCJzdGF0dXNDaGFuZ2VkIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe2wuc2V0U3RhdHVzVGV4dChsLmVkaXRvci5nZXRTdGF0dXMoKSl9KSk7dmFyIHY9bC5kZXNjcmlwdG9yQ2hhbmdlZDtsLmRlc2NyaXB0b3JDaGFuZ2VkPWZ1bmN0aW9uKCl7di5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dmFyIGE9bC5nZXRDdXJyZW50RmlsZSgpO2lmKG51bGwhPWEmJm51bGwhPWEuZ2V0VGl0bGUoKSl7dmFyIGI9YS5nZXRNb2RlKCk7Imdvb2dsZSI9PWI/Yj0iZ29vZ2xlRHJpdmUiOiJnaXRodWIiPT0KYj9iPSJnaXRIdWIiOiJnaXRsYWIiPT1iP2I9ImdpdExhYiI6Im9uZWRyaXZlIj09YiYmKGI9Im9uZURyaXZlIik7Yj1teFJlc291cmNlcy5nZXQoYik7bi5zZXRBdHRyaWJ1dGUoInRpdGxlIixhLmdldFRpdGxlKCkrKG51bGwhPWI/IiAoIitiKyIpIjoiIikpfWVsc2Ugbi5yZW1vdmVBdHRyaWJ1dGUoInRpdGxlIil9O2wuc2V0U3RhdHVzVGV4dChsLmVkaXRvci5nZXRTdGF0dXMoKSk7bi5hcHBlbmRDaGlsZChsLnN0YXR1c0NvbnRhaW5lcik7bC5idXR0b25Db250YWluZXI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7bC5idXR0b25Db250YWluZXIuc3R5bGUuY3NzVGV4dD0icG9zaXRpb246YWJzb2x1dGU7cmlnaHQ6MHB4O3BhZGRpbmctcmlnaHQ6MzRweDt0b3A6MTBweDt3aGl0ZS1zcGFjZTpub3dyYXA7cGFkZGluZy10b3A6MnB4O2JhY2tncm91bmQtY29sb3I6aW5oZXJpdDsiO24uYXBwZW5kQ2hpbGQobC5idXR0b25Db250YWluZXIpO2wubWVudWJhckNvbnRhaW5lcj0KbC5idXR0b25Db250YWluZXI7bC50YWJDb250YWluZXI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7bC50YWJDb250YWluZXIuc3R5bGUuY3NzVGV4dD0icG9zaXRpb246YWJzb2x1dGU7bGVmdDowcHg7cmlnaHQ6MHB4O2JvdHRvbTowcHg7aGVpZ2h0OjMwcHg7d2hpdGUtc3BhY2U6bm93cmFwO2JvcmRlci1ib3R0b206MXB4IHNvbGlkIGxpZ2h0Z3JheTtiYWNrZ3JvdW5kLWNvbG9yOiNmZmZmZmY7Ym9yZGVyLXRvcDoxcHggc29saWQgbGlnaHRncmF5O21hcmdpbi1ib3R0b206LTJweDt2aXNpYmlsaXR5OmhpZGRlbjsiO3ZhciBrPWwuZGlhZ3JhbUNvbnRhaW5lci5wYXJlbnROb2RlLHU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7dS5zdHlsZS5jc3NUZXh0PSJwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MHB4O2xlZnQ6MHB4O3JpZ2h0OjBweDtib3R0b206MHB4O292ZXJmbG93OmhpZGRlbjsiO2wuZGlhZ3JhbUNvbnRhaW5lci5zdHlsZS50b3A9IjQ3cHgiO3ZhciBLPQpsLm1lbnVzLmdldCgidmlld1pvb20iKTtpZihudWxsIT1LKXt0aGlzLnRhYkNvbnRhaW5lci5zdHlsZS5yaWdodD0iNzBweCI7dmFyIEE9cS5hZGRNZW51KCIxMDAlIixLLmZ1bmN0KTtBLnNldEF0dHJpYnV0ZSgidGl0bGUiLG14UmVzb3VyY2VzLmdldCgiem9vbSIpKyIgKEFsdCtNb3VzZXdoZWVsKSIpO0Euc3R5bGUud2hpdGVTcGFjZT0ibm93cmFwIjtBLnN0eWxlLmJhY2tncm91bmRJbWFnZT0idXJsKCIrbXhXaW5kb3cucHJvdG90eXBlLm1pbmltaXplSW1hZ2UrIikiO0Euc3R5bGUuYmFja2dyb3VuZFBvc2l0aW9uPSJyaWdodCA2cHggY2VudGVyIjtBLnN0eWxlLmJhY2tncm91bmRSZXBlYXQ9Im5vLXJlcGVhdCI7QS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9IiNmZmZmZmYiO0Euc3R5bGUucGFkZGluZ1JpZ2h0PSIxMHB4IjtBLnN0eWxlLmRpc3BsYXk9ImJsb2NrIjtBLnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSI7QS5zdHlsZS50ZXh0RGVjb3JhdGlvbj0ibm9uZSI7QS5zdHlsZS50ZXh0RGVjb3JhdGlvbj0KIm5vbmUiO0Euc3R5bGUucmlnaHQ9IjBweCI7QS5zdHlsZS5ib3R0b209IjBweCI7QS5zdHlsZS5vdmVyZmxvdz0iaGlkZGVuIjtBLnN0eWxlLnZpc2liaWxpdHk9ImhpZGRlbiI7QS5zdHlsZS50ZXh0QWxpZ249ImNlbnRlciI7QS5zdHlsZS5jb2xvcj0iIzAwMCI7QS5zdHlsZS5mb250U2l6ZT0iMTJweCI7QS5zdHlsZS5jb2xvcj0iIzcwNzA3MCI7QS5zdHlsZS53aWR0aD0iNTlweCI7QS5zdHlsZS5jdXJzb3I9InBvaW50ZXIiO0Euc3R5bGUuYm9yZGVyVG9wPSIxcHggc29saWQgbGlnaHRncmF5IjtBLnN0eWxlLmJvcmRlckxlZnQ9IjFweCBzb2xpZCBsaWdodGdyYXkiO0Euc3R5bGUuaGVpZ2h0PXBhcnNlSW50KGwudGFiQ29udGFpbmVySGVpZ2h0KS0xKyJweCI7QS5zdHlsZS5saW5lSGVpZ2h0PXBhcnNlSW50KGwudGFiQ29udGFpbmVySGVpZ2h0KSsxKyJweCI7dS5hcHBlbmRDaGlsZChBKTtLPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7QS5pbm5lckhUTUw9TWF0aC5yb3VuZCgxMDAqCmwuZWRpdG9yLmdyYXBoLnZpZXcuc2NhbGUpKyIlIn0pO2wuZWRpdG9yLmdyYXBoLnZpZXcuYWRkTGlzdGVuZXIobXhFdmVudC5FVkVOVF9TQ0FMRSxLKTtsLmVkaXRvci5hZGRMaXN0ZW5lcigicmVzZXRHcmFwaFZpZXciLEspO2wuZWRpdG9yLmFkZExpc3RlbmVyKCJwYWdlU2VsZWN0ZWQiLEspO3ZhciBNPWwuc2V0R3JhcGhFbmFibGVkO2wuc2V0R3JhcGhFbmFibGVkPWZ1bmN0aW9uKCl7TS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7bnVsbCE9dGhpcy50YWJDb250YWluZXImJihBLnN0eWxlLnZpc2liaWxpdHk9dGhpcy50YWJDb250YWluZXIuc3R5bGUudmlzaWJpbGl0eSx0aGlzLmRpYWdyYW1Db250YWluZXIuc3R5bGUuYm90dG9tPSJoaWRkZW4iIT10aGlzLnRhYkNvbnRhaW5lci5zdHlsZS52aXNpYmlsaXR5P3RoaXMudGFiQ29udGFpbmVySGVpZ2h0KyJweCI6IjBweCIpfX11LmFwcGVuZENoaWxkKGwudGFiQ29udGFpbmVyKTt1LmFwcGVuZENoaWxkKG4pO3UuYXBwZW5kQ2hpbGQobC5kaWFncmFtQ29udGFpbmVyKTsKay5hcHBlbmRDaGlsZCh1KTtsLnVwZGF0ZVRhYkNvbnRhaW5lcigpO3ZhciBRPW51bGw7ZygpO214RXZlbnQuYWRkTGlzdGVuZXIod2luZG93LCJyZXNpemUiLGZ1bmN0aW9uKCl7ZygpO251bGwhPWwuc2lkZWJhcldpbmRvdyYmbC5zaWRlYmFyV2luZG93LndpbmRvdy5maXQoKTtudWxsIT1sLmZvcm1hdFdpbmRvdyYmbC5mb3JtYXRXaW5kb3cud2luZG93LmZpdCgpO251bGwhPWwuYWN0aW9ucy5vdXRsaW5lV2luZG93JiZsLmFjdGlvbnMub3V0bGluZVdpbmRvdy53aW5kb3cuZml0KCk7bnVsbCE9bC5hY3Rpb25zLmxheWVyc1dpbmRvdyYmbC5hY3Rpb25zLmxheWVyc1dpbmRvdy53aW5kb3cuZml0KCk7bnVsbCE9bC5tZW51cy50YWdzV2luZG93JiZsLm1lbnVzLnRhZ3NXaW5kb3cud2luZG93LmZpdCgpO251bGwhPWwubWVudXMuZmluZFdpbmRvdyYmbC5tZW51cy5maW5kV2luZG93LndpbmRvdy5maXQoKX0pfX19OwooZnVuY3Rpb24oKXt2YXIgYT0hMTsibWluIiE9dWlUaGVtZXx8YXx8bXhDbGllbnQuSVNfQ0hST01FQVBQfHwoRWRpdG9yVWkuaW5pdE1pbmltYWxUaGVtZSgpLGE9ITApO3ZhciBjPUVkaXRvclVpLmluaXRUaGVtZTtFZGl0b3JVaS5pbml0VGhlbWU9ZnVuY3Rpb24oKXtjLmFwcGx5KHRoaXMsYXJndW1lbnRzKTsibWluIiE9dWlUaGVtZXx8YXx8KHRoaXMuaW5pdE1pbmltYWxUaGVtZSgpLGE9ITApfX0pKCk7RHJhd2lvQ29tbWVudD1mdW5jdGlvbihhLGMsZixkLGssbSxxKXt0aGlzLmZpbGU9YTt0aGlzLmlkPWM7dGhpcy5jb250ZW50PWY7dGhpcy5tb2RpZmllZERhdGU9ZDt0aGlzLmNyZWF0ZWREYXRlPWs7dGhpcy5pc1Jlc29sdmVkPW07dGhpcy51c2VyPXE7dGhpcy5yZXBsaWVzPVtdfTtEcmF3aW9Db21tZW50LnByb3RvdHlwZS5hZGRSZXBseURpcmVjdD1mdW5jdGlvbihhKXtudWxsIT1hJiZ0aGlzLnJlcGxpZXMucHVzaChhKX07RHJhd2lvQ29tbWVudC5wcm90b3R5cGUuYWRkUmVwbHk9ZnVuY3Rpb24oYSxjLGYsZCxrKXtjKCl9O0RyYXdpb0NvbW1lbnQucHJvdG90eXBlLmVkaXRDb21tZW50PWZ1bmN0aW9uKGEsYyxmKXtjKCl9O0RyYXdpb0NvbW1lbnQucHJvdG90eXBlLmRlbGV0ZUNvbW1lbnQ9ZnVuY3Rpb24oYSxjKXthKCl9O0RyYXdpb1VzZXI9ZnVuY3Rpb24oYSxjLGYsZCxrKXt0aGlzLmlkPWE7dGhpcy5lbWFpbD1jO3RoaXMuZGlzcGxheU5hbWU9Zjt0aGlzLnBpY3R1cmVVcmw9ZDt0aGlzLmxvY2FsZT1rfTtteFJlc291cmNlcy5wYXJzZSgnIyAqRE8gTk9UIERJUkVDVExZIEVESVQgVEhJUyBGSUxFLCBJVCBJUyBBVVRPTUFUSUNBTExZIEdFTkVSQVRFRCBBTkQgSVQgSVMgQkFTRUQgT046KlxuIyBodHRwczovL2RvY3MuZ29vZ2xlLmNvbS9zcHJlYWRzaGVldC9jY2M/a2V5PTBBbVFFTzM2bGlMNEZkREpMV1ZOTWFWVjJVbVJLU25wWFUwOU1Za2RHYkVFXG5hYm91dD1BYm91dCBcbmFib3V0RHJhd2lvPUFib3V0IGRyYXcuaW9cbmFjY2Vzc0RlbmllZD1BY2Nlc3MgRGVuaWVkXG5hY3Rpb249QWN0aW9uXG5hY3R1YWxTaXplPUFjdHVhbCBTaXplXG5hZGQ9QWRkXG5hZGRBY2NvdW50PUFkZCBhY2NvdW50XG5hZGRlZEZpbGU9QWRkZWQgezF9XG5hZGRJbWFnZXM9QWRkIEltYWdlc1xuYWRkSW1hZ2VVcmw9QWRkIEltYWdlIFVSTFxuYWRkTGF5ZXI9QWRkIExheWVyXG5hZGRQcm9wZXJ0eT1BZGQgUHJvcGVydHlcbmFkZHJlc3M9QWRkcmVzc1xuYWRkVG9FeGlzdGluZ0RyYXdpbmc9QWRkIHRvIEV4aXN0aW5nIERyYXdpbmdcbmFkZFdheXBvaW50PUFkZCBXYXlwb2ludFxuYWRqdXN0VG89QWRqdXN0IHRvXG5hZHZhbmNlZD1BZHZhbmNlZFxuYWxpZ249QWxpZ25cbmFsaWdubWVudD1BbGlnbm1lbnRcbmFsbENoYW5nZXNMb3N0PUFsbCBjaGFuZ2VzIHdpbGwgYmUgbG9zdCFcbmFsbFBhZ2VzPUFsbCBQYWdlc1xuYWxsUHJvamVjdHM9QWxsIFByb2plY3RzXG5hbGxTcGFjZXM9QWxsIFNwYWNlc1xuYWxsVGFncz1BbGwgVGFnc1xuYW5jaG9yPUFuY2hvclxuYW5kcm9pZD1BbmRyb2lkXG5hbmdsZT1BbmdsZVxuYXJjPUFyY1xuYXJlWW91U3VyZT1BcmUgeW91IHN1cmU/XG5lbnN1cmVEYXRhU2F2ZWQ9UGxlYXNlIGVuc3VyZSB5b3VyIGRhdGEgaXMgc2F2ZWQgYmVmb3JlIGNsb3NpbmcuXG5hbGxDaGFuZ2VzU2F2ZWQ9QWxsIGNoYW5nZXMgc2F2ZWRcbmFsbENoYW5nZXNTYXZlZEluRHJpdmU9QWxsIGNoYW5nZXMgc2F2ZWQgaW4gRHJpdmVcbmFsbG93UG9wdXBzPUFsbG93IHBvcC11cHMgdG8gYXZvaWQgdGhpcyBkaWFsb2cuXG5hbGxvd1JlbGF0aXZlVXJsPUFsbG93IHJlbGF0aXZlIFVSTFxuYWxyZWFkeUNvbm5lY3RlZD1Ob2RlcyBhbHJlYWR5IGNvbm5lY3RlZFxuYXBwbHk9QXBwbHlcbmFyY2hpTWF0ZTIxPUFyY2hpTWF0ZSAyLjFcbmFycmFuZ2U9QXJyYW5nZVxuYXJyb3c9QXJyb3dcbmFycm93cz1BcnJvd3NcbmFzTmV3PUFzIE5ld1xuYXRsYXM9QXRsYXNcbmF1dGhvcj1BdXRob3JcbmF1dGhvcml6YXRpb25SZXF1aXJlZD1BdXRob3JpemF0aW9uIHJlcXVpcmVkXG5hdXRob3JpemVUaGlzQXBwSW49QXV0aG9yaXplIHRoaXMgYXBwIGluIHsxfTpcbmF1dGhvcml6ZT1BdXRob3JpemVcbmF1dGhvcml6aW5nPUF1dGhvcml6aW5nXG5hdXRvbWF0aWM9QXV0b21hdGljXG5hdXRvc2F2ZT1BdXRvc2F2ZVxuYXV0b3NpemU9QXV0b3NpemVcbmF0dGFjaG1lbnRzPUF0dGFjaG1lbnRzXG5hd3M9QVdTXG5hd3MzZD1BV1MgM0RcbmF6dXJlPUF6dXJlXG5iYWNrPUJhY2tcbmJhY2tncm91bmQ9QmFja2dyb3VuZFxuYmFja2dyb3VuZENvbG9yPUJhY2tncm91bmQgQ29sb3JcbmJhY2tncm91bmRJbWFnZT1CYWNrZ3JvdW5kIEltYWdlXG5iYXNpYz1CYXNpY1xuYmxhbmtEcmF3aW5nPUJsYW5rIERyYXdpbmdcbmJsYW5rRGlhZ3JhbT1CbGFuayBEaWFncmFtXG5ibG9jaz1CbG9ja1xuYmxvY2txdW90ZT1CbG9ja3F1b3RlXG5ibG9nPUJsb2dcbmJvbGQ9Qm9sZFxuYm9vdHN0cmFwPUJvb3RzdHJhcFxuYm9yZGVyPUJvcmRlclxuYm9yZGVyQ29sb3I9Qm9yZGVyIENvbG9yXG5ib3JkZXJXaWR0aD1Cb3JkZXIgV2lkdGhcbmJvdHRvbT1Cb3R0b21cbmJvdHRvbUFsaWduPUJvdHRvbSBBbGlnblxuYm90dG9tTGVmdD1Cb3R0b20gTGVmdFxuYm90dG9tUmlnaHQ9Qm90dG9tIFJpZ2h0XG5icG1uPUJQTU5cbmJyb3dzZXI9QnJvd3NlclxuYnVsbGV0ZWRMaXN0PUJ1bGxldGVkIExpc3RcbmJ1c2luZXNzPUJ1c2luZXNzXG5idXN5PU9wZXJhdGlvbiBpbiBwcm9ncmVzc1xuY2FiaW5ldHM9Q2FiaW5ldHNcbmNhbmNlbD1DYW5jZWxcbmNlbnRlcj1DZW50ZXJcbmNhbm5vdExvYWQ9TG9hZCBhdHRlbXB0cyBmYWlsZWQuIFBsZWFzZSB0cnkgYWdhaW4gbGF0ZXIuXG5jYW5ub3RMb2dpbj1Mb2cgaW4gYXR0ZW1wdHMgZmFpbGVkLiBQbGVhc2UgdHJ5IGFnYWluIGxhdGVyLlxuY2Fubm90T3BlbkZpbGU9Q2Fubm90IG9wZW4gZmlsZVxuY2hhbmdlPUNoYW5nZVxuY2hhbmdlT3JpZW50YXRpb249Q2hhbmdlIE9yaWVudGF0aW9uXG5jaGFuZ2VVc2VyPUNoYW5nZSB1c2VyXG5jaGFuZ2VTdG9yYWdlPUNoYW5nZSBzdG9yYWdlXG5jaGFuZ2VzTm90U2F2ZWQ9Q2hhbmdlcyBoYXZlIG5vdCBiZWVuIHNhdmVkXG5jbGFzc0RpYWdyYW09Q2xhc3MgRGlhZ3JhbVxudXNlckpvaW5lZD17MX0gaGFzIGpvaW5lZFxudXNlckxlZnQ9ezF9IGhhcyBsZWZ0XG5jaGF0V2luZG93VGl0bGU9Q2hhdFxuY2hvb3NlQW5PcHRpb249Q2hvb3NlIGFuIG9wdGlvblxuY2hyb21lQXBwPUNocm9tZSBBcHBcbmNvbGxhYm9yYXRpdmVFZGl0aW5nTm90aWNlPUltcG9ydGFudCBOb3RpY2UgZm9yIENvbGxhYm9yYXRpdmUgRWRpdGluZ1xuY29tcHJlc3NlZD1Db21wcmVzc2VkXG5jb21taXRNZXNzYWdlPUNvbW1pdCBNZXNzYWdlXG5jb25maWdMaW5rV2Fybj1UaGlzIGxpbmsgY29uZmlndXJlcyBkcmF3LmlvLiBPbmx5IGNsaWNrIE9LIGlmIHlvdSB0cnVzdCB3aG9ldmVyIGdhdmUgeW91IGl0IVxuY29uZmlnTGlua0NvbmZpcm09Q2xpY2sgT0sgdG8gY29uZmlndXJlIGFuZCByZXN0YXJ0IGRyYXcuaW8uXG5jc3Y9Q1NWXG5kYXJrPURhcmtcbmRpYWdyYW1YbWxEZXNjPVhNTCBGaWxlXG5kaWFncmFtSHRtbERlc2M9SFRNTCBGaWxlXG5kaWFncmFtUG5nRGVzYz1FZGl0YWJsZSBCaXRtYXAgSW1hZ2VcbmRpYWdyYW1TdmdEZXNjPUVkaXRhYmxlIFZlY3RvciBJbWFnZVxuZGlkWW91TWVhblRvRXhwb3J0VG9QZGY9RGlkIHlvdSBtZWFuIHRvIGV4cG9ydCB0byBQREY/XG5kcmFmdEZvdW5kPUEgZHJhZnQgZm9yIFwnezF9XCcgaGFzIGJlZW4gZm91bmQuIExvYWQgaXQgaW50byB0aGUgZWRpdG9yIG9yIGRpc2NhcmQgaXQgdG8gY29udGludWUuXG5zZWxlY3REcmFmdD1TZWxlY3QgYSBkcmFmdCB0byBjb250aW51ZSBlZGl0aW5nOlxuZHJhZ0FuZERyb3BOb3RTdXBwb3J0ZWQ9RHJhZyBhbmQgZHJvcCBub3Qgc3VwcG9ydGVkIGZvciBpbWFnZXMuIFdvdWxkIHlvdSBsaWtlIHRvIGltcG9ydCBpbnN0ZWFkP1xuZHJvcGJveENoYXJzTm90QWxsb3dlZD1UaGUgZm9sbG93aW5nIGNoYXJhY3RlcnMgYXJlIG5vdCBhbGxvd2VkOiAgLyA6ID8gKiAiIHxcbmNoZWNrPUNoZWNrXG5jaGVja3N1bT1DaGVja3N1bVxuY2lyY2xlPUNpcmNsZVxuY2lzY289Q2lzY29cbmNsYXNzaWM9Q2xhc3NpY1xuY2xlYXJEZWZhdWx0U3R5bGU9Q2xlYXIgRGVmYXVsdCBTdHlsZVxuY2xlYXJXYXlwb2ludHM9Q2xlYXIgV2F5cG9pbnRzXG5jbGlwYXJ0PUNsaXBhcnRcbmNsb3NlPUNsb3NlXG5jbG9zaW5nRmlsZT1DbG9zaW5nIGZpbGVcbmNvbGxhYm9yYXRvcj1Db2xsYWJvcmF0b3JcbmNvbGxhYm9yYXRvcnM9Q29sbGFib3JhdG9yc1xuY29sbGFwc2U9Q29sbGFwc2VcbmNvbGxhcHNlRXhwYW5kPUNvbGxhcHNlL0V4cGFuZFxuY29sbGFwc2UtZXhwYW5kPUNsaWNrIHRvIGNvbGxhcHNlL2V4cGFuZFxuU2hpZnQtY2xpY2sgdG8gbW92ZSBuZWlnaGJvcnMgXG5BbHQtY2xpY2sgdG8gcHJvdGVjdCBncm91cCBzaXplXG5jb2xsYXBzaWJsZT1Db2xsYXBzaWJsZVxuY29taWM9Q29taWNcbmNvbW1lbnQ9Q29tbWVudFxuY29tbWVudHNOb3Rlcz1Db21tZW50cy9Ob3Rlc1xuY29tcHJlc3M9Q29tcHJlc3NcbmNvbmZpZ3VyYXRpb249Q29uZmlndXJhdGlvblxuY29ubmVjdD1Db25uZWN0XG5jb25uZWN0aW5nPUNvbm5lY3RpbmdcbmNvbm5lY3RXaXRoRHJpdmU9Q29ubmVjdCB3aXRoIEdvb2dsZSBEcml2ZVxuY29ubmVjdGlvbj1Db25uZWN0aW9uXG5jb25uZWN0aW9uQXJyb3dzPUNvbm5lY3Rpb24gQXJyb3dzXG5jb25uZWN0aW9uUG9pbnRzPUNvbm5lY3Rpb24gUG9pbnRzXG5jb25zdHJhaW5Qcm9wb3J0aW9ucz1Db25zdHJhaW4gUHJvcG9ydGlvbnNcbmNvbnRhaW5zVmFsaWRhdGlvbkVycm9ycz1Db250YWlucyB2YWxpZGF0aW9uIGVycm9yc1xuY29waWVkVG9DbGlwYm9hcmQ9Q29waWVkIHRvIGNsaXBib2FyZFxuY29weT1Db3B5XG5jb3B5Q29ubmVjdD1Db3B5IG9uIGNvbm5lY3RcbmNvcHlDcmVhdGVkPUEgY29weSBvZiB0aGUgZmlsZSB3YXMgY3JlYXRlZC5cbmNvcHlPZj1Db3B5IG9mIHsxfVxuY29weU9mRHJhd2luZz1Db3B5IG9mIERyYXdpbmdcbmNvcHlTaXplPUNvcHkgU2l6ZVxuY29weVN0eWxlPUNvcHkgU3R5bGVcbmNyZWF0ZT1DcmVhdGVcbmNyZWF0ZU5ld0RpYWdyYW09Q3JlYXRlIE5ldyBEaWFncmFtXG5jcmVhdGVSZXZpc2lvbj1DcmVhdGUgUmV2aXNpb25cbmNyZWF0ZVNoYXBlPUNyZWF0ZSBTaGFwZVxuY3JvcD1Dcm9wXG5jdXJ2ZWQ9Q3VydmVkXG5jdXN0b209Q3VzdG9tXG5jdXJyZW50PUN1cnJlbnRcbmN1cnJlbnRQYWdlPUN1cnJlbnQgcGFnZVxuY3V0PUN1dFxuZGFzaGVkPURhc2hlZFxuZGVjaWRlTGF0ZXI9RGVjaWRlIGxhdGVyXG5kZWZhdWx0PURlZmF1bHRcbmRlbGV0ZT1EZWxldGVcbmRlbGV0ZUNvbHVtbj1EZWxldGUgQ29sdW1uXG5kZWxldGVMaWJyYXJ5NDAxPUluc3VmZmljaWVudCBwZXJtaXNzaW9ucyB0byBkZWxldGUgdGhpcyBsaWJyYXJ5XG5kZWxldGVMaWJyYXJ5NDA0PVNlbGVjdGVkIGxpYnJhcnkgY291bGQgbm90IGJlIGZvdW5kXG5kZWxldGVMaWJyYXJ5NTAwPUVycm9yIGRlbGV0aW5nIGxpYnJhcnlcbmRlbGV0ZUxpYnJhcnlDb25maXJtPVlvdSBhcmUgYWJvdXQgdG8gcGVybWFuZW50bHkgZGVsZXRlIHRoaXMgbGlicmFyeS4gQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRvIHRoaXM/XG5kZWxldGVSb3c9RGVsZXRlIFJvd1xuZGVzY3JpcHRpb249RGVzY3JpcHRpb25cbmRldmljZT1EZXZpY2VcbmRpYWdyYW09RGlhZ3JhbVxuZGlhZ3JhbUNvbnRlbnQ9RGlhZ3JhbSBDb250ZW50XG5kaWFncmFtTG9ja2VkPURpYWdyYW0gaGFzIGJlZW4gbG9ja2VkIHRvIHByZXZlbnQgZnVydGhlciBkYXRhIGxvc3MuXG5kaWFncmFtTG9ja2VkQnlTaW5jZT1UaGUgZGlhZ3JhbSBpcyBsb2NrZWQgYnkgezF9IHNpbmNlIHsyfSBhZ29cbmRpYWdyYW1OYW1lPURpYWdyYW0gTmFtZVxuZGlhZ3JhbUlzUHVibGljPURpYWdyYW0gaXMgcHVibGljXG5kaWFncmFtSXNOb3RQdWJsaWM9RGlhZ3JhbSBpcyBub3QgcHVibGljXG5kaWFtb25kPURpYW1vbmRcbmRpYW1vbmRUaGluPURpYW1vbmQgKHRoaW4pXG5kaWRZb3VLbm93PURpZCB5b3Uga25vdy4uLlxuZGlyZWN0aW9uPURpcmVjdGlvblxuZGlzY2FyZD1EaXNjYXJkXG5kaXNjYXJkQ2hhbmdlc0FuZFJlY29ubmVjdD1EaXNjYXJkIENoYW5nZXMgYW5kIFJlY29ubmVjdFxuZ29vZ2xlRHJpdmVNaXNzaW5nQ2xpY2tIZXJlPUdvb2dsZSBEcml2ZSBtaXNzaW5nPyBDbGljayBoZXJlIVxuZGlzY2FyZENoYW5nZXM9RGlzY2FyZCBDaGFuZ2VzXG5kaXNjb25uZWN0ZWQ9RGlzY29ubmVjdGVkXG5kaXN0cmlidXRlPURpc3RyaWJ1dGVcbmRvbmU9RG9uZVxuZG9Ob3RTaG93QWdhaW49RG8gbm90IHNob3cgYWdhaW5cbmRvdHRlZD1Eb3R0ZWRcbmRvdWJsZUNsaWNrT3JpZW50YXRpb249RG91YmxlY2xpY2sgdG8gY2hhbmdlIG9yaWVudGF0aW9uXG5kb3VibGVDbGlja1Rvb2x0aXA9RG91YmxlY2xpY2sgdG8gaW5zZXJ0IHRleHRcbmRvdWJsZUNsaWNrQ2hhbmdlUHJvcGVydHk9RG91YmxlY2xpY2sgdG8gY2hhbmdlIHByb3BlcnR5IG5hbWVcbmRvd25sb2FkPURvd25sb2FkXG5kb3dubG9hZERlc2t0b3A9R2V0IERlc2t0b3BcbmRvd25sb2FkQXM9RG93bmxvYWQgYXNcbmNsaWNrSGVyZVRvU2F2ZT1DbGljayBoZXJlIHRvIHNhdmUuXG5kcGk9RFBJXG5kcmFmdERpc2NhcmRlZD1EcmFmdCBkaXNjYXJkZWRcbmRyYWZ0U2F2ZWQ9RHJhZnQgc2F2ZWRcbmRyYWdFbGVtZW50c0hlcmU9RHJhZyBlbGVtZW50cyBoZXJlXG5kcmFnSW1hZ2VzSGVyZT1EcmFnIGltYWdlcyBvciBVUkxzIGhlcmVcbmRyYWdVcmxzSGVyZT1EcmFnIFVSTHMgaGVyZVxuZHJhdy5pbz1kcmF3LmlvXG5kcmF3aW5nPURyYXdpbmd7MX1cbmRyYXdpbmdFbXB0eT1EcmF3aW5nIGlzIGVtcHR5XG5kcmF3aW5nVG9vTGFyZ2U9RHJhd2luZyBpcyB0b28gbGFyZ2VcbmRyYXdpb0Zvcldvcms9RHJhdy5pbyBmb3IgR1N1aXRlXG5kcm9wYm94PURyb3Bib3hcbmR1cGxpY2F0ZT1EdXBsaWNhdGVcbmR1cGxpY2F0ZUl0PUR1cGxpY2F0ZSB7MX1cbmRpdmlkZXI9RGl2aWRlclxuZHg9RHhcbmR5PUR5XG5lYXN0PUVhc3RcbmVkaXQ9RWRpdFxuZWRpdERhdGE9RWRpdCBEYXRhXG5lZGl0RGlhZ3JhbT1FZGl0IERpYWdyYW1cbmVkaXRHZW9tZXRyeT1FZGl0IEdlb21ldHJ5XG5lZGl0SW1hZ2U9RWRpdCBJbWFnZVxuZWRpdEltYWdlVXJsPUVkaXQgSW1hZ2UgVVJMXG5lZGl0TGluaz1FZGl0IExpbmtcbmVkaXRTaGFwZT1FZGl0IFNoYXBlXG5lZGl0U3R5bGU9RWRpdCBTdHlsZVxuZWRpdFRleHQ9RWRpdCBUZXh0XG5lZGl0VG9vbHRpcD1FZGl0IFRvb2x0aXBcbmdsYXNzPUdsYXNzXG5nb29nbGVJbWFnZXM9R29vZ2xlIEltYWdlc1xuaW1hZ2VTZWFyY2g9SW1hZ2UgU2VhcmNoXG5laXA9RUlQXG5lbWJlZD1FbWJlZFxuZW1iZWRJbWFnZXM9RW1iZWQgSW1hZ2VzXG5tYWluRW1iZWROb3RpY2U9UGFzdGUgdGhpcyBpbnRvIHRoZSBwYWdlXG5lbGVjdHJpY2FsPUVsZWN0cmljYWxcbmVsbGlwc2U9RWxsaXBzZVxuZW1iZWROb3RpY2U9UGFzdGUgdGhpcyBvbmNlIGF0IHRoZSBlbmQgb2YgdGhlIHBhZ2VcbmVudGVyR3JvdXA9RW50ZXIgR3JvdXBcbmVudGVyTmFtZT1FbnRlciBOYW1lXG5lbnRlclByb3BlcnR5TmFtZT1FbnRlciBQcm9wZXJ0eSBOYW1lXG5lbnRlclZhbHVlPUVudGVyIFZhbHVlXG5lbnRpdHlSZWxhdGlvbj1FbnRpdHkgUmVsYXRpb25cbmVudGl0eVJlbGF0aW9uc2hpcERpYWdyYW09RW50aXR5IFJlbGF0aW9uc2hpcCBEaWFncmFtXG5lcnJvcj1FcnJvclxuZXJyb3JEZWxldGluZ0ZpbGU9RXJyb3IgZGVsZXRpbmcgZmlsZVxuZXJyb3JMb2FkaW5nRmlsZT1FcnJvciBsb2FkaW5nIGZpbGVcbmVycm9yUmVuYW1pbmdGaWxlPUVycm9yIHJlbmFtaW5nIGZpbGVcbmVycm9yUmVuYW1pbmdGaWxlTm90Rm91bmQ9RXJyb3IgcmVuYW1pbmcgZmlsZS4gRmlsZSB3YXMgbm90IGZvdW5kLlxuZXJyb3JSZW5hbWluZ0ZpbGVGb3JiaWRkZW49RXJyb3IgcmVuYW1pbmcgZmlsZS4gSW5zdWZmaWNpZW50IGFjY2VzcyByaWdodHMuXG5lcnJvclNhdmluZ0RyYWZ0PUVycm9yIHNhdmluZyBkcmFmdFxuZXJyb3JTYXZpbmdGaWxlPUVycm9yIHNhdmluZyBmaWxlXG5lcnJvclNhdmluZ0ZpbGVVbmtub3duPUVycm9yIGF1dGhvcml6aW5nIHdpdGggR29vZ2xlXCdzIHNlcnZlcnMuIFBsZWFzZSByZWZyZXNoIHRoZSBwYWdlIHRvIHJlLWF0dGVtcHQuXG5lcnJvclNhdmluZ0ZpbGVGb3JiaWRkZW49RXJyb3Igc2F2aW5nIGZpbGUuIEluc3VmZmljaWVudCBhY2Nlc3MgcmlnaHRzLlxuZXJyb3JTYXZpbmdGaWxlTmFtZUNvbmZsaWN0PUNvdWxkIG5vdCBzYXZlIGRpYWdyYW0uIEN1cnJlbnQgcGFnZSBhbHJlYWR5IGNvbnRhaW5zIGZpbGUgbmFtZWQgXCd7MX1cJy5cbmVycm9yU2F2aW5nRmlsZU5vdEZvdW5kPUVycm9yIHNhdmluZyBmaWxlLiBGaWxlIHdhcyBub3QgZm91bmQuXG5lcnJvclNhdmluZ0ZpbGVSZWFkT25seU1vZGU9Q291bGQgbm90IHNhdmUgZGlhZ3JhbSB3aGlsZSByZWFkLW9ubHkgbW9kZSBpcyBhY3RpdmUuXG5lcnJvclNhdmluZ0ZpbGVTZXNzaW9uVGltZW91dD1Zb3VyIHNlc3Npb24gaGFzIGVuZGVkLiBQbGVhc2UgPGEgdGFyZ2V0PVwnX2JsYW5rXCcgaHJlZj1cJ3sxfVwnPnsyfTwvYT4gYW5kIHJldHVybiB0byB0aGlzIHRhYiB0byB0cnkgdG8gc2F2ZSBhZ2Fpbi5cbmVycm9yU2VuZGluZ0ZlZWRiYWNrPUVycm9yIHNlbmRpbmcgZmVlZGJhY2suXG5lcnJvclVwZGF0aW5nUHJldmlldz1FcnJvciB1cGRhdGluZyBwcmV2aWV3LlxuZXhpdD1FeGl0XG5leGl0R3JvdXA9RXhpdCBHcm91cFxuZXhwYW5kPUV4cGFuZFxuZXhwb3J0PUV4cG9ydFxuZXhwb3J0aW5nPUV4cG9ydGluZ1xuZXhwb3J0QXM9RXhwb3J0IGFzXG5leHBvcnRPcHRpb25zRGlzYWJsZWQ9RXhwb3J0IG9wdGlvbnMgZGlzYWJsZWRcbmV4cG9ydE9wdGlvbnNEaXNhYmxlZERldGFpbHM9VGhlIG93bmVyIGhhcyBkaXNhYmxlZCBvcHRpb25zIHRvIGRvd25sb2FkLCBwcmludCBvciBjb3B5IGZvciBjb21tZW50ZXJzIGFuZCB2aWV3ZXJzIG9uIHRoaXMgZmlsZS5cbmV4dGVybmFsQ2hhbmdlcz1FeHRlcm5hbCBDaGFuZ2VzXG5leHRyYXM9RXh0cmFzXG5mYWNlYm9vaz1GYWNlYm9va1xuZmFpbGVkVG9TYXZlVHJ5UmVjb25uZWN0PUZhaWxlZCB0byBzYXZlLCB0cnlpbmcgdG8gcmVjb25uZWN0XG5mZWF0dXJlUmVxdWVzdD1GZWF0dXJlIFJlcXVlc3RcbmZlZWRiYWNrPUZlZWRiYWNrXG5mZWVkYmFja1NlbnQ9RmVlZGJhY2sgc3VjY2Vzc2Z1bGx5IHNlbnQuXG5mbG9vcnBsYW5zPUZsb29ycGxhbnNcbmZpbGU9RmlsZVxuZmlsZUNoYW5nZWRPdmVyd3JpdGVEaWFsb2c9VGhlIGZpbGUgaGFzIGJlZW4gbW9kaWZpZWQuIERvIHlvdSB3YW50IHRvIHNhdmUgdGhlIGZpbGUgYW5kIG92ZXJ3cml0ZSB0aG9zZSBjaGFuZ2VzP1xuZmlsZUNoYW5nZWRTeW5jRGlhbG9nPVRoZSBmaWxlIGhhcyBiZWVuIG1vZGlmaWVkLiBEbyB5b3Ugd2FudCB0byBzeW5jaHJvbml6ZSB0aG9zZSBjaGFuZ2VzP1xuZmlsZUNoYW5nZWRTeW5jPVRoZSBmaWxlIGhhcyBiZWVuIG1vZGlmaWVkLiBDbGljayBoZXJlIHRvIHN5bmNocm9uaXplLlxub3ZlcndyaXRlPU92ZXJ3cml0ZVxuc3luY2hyb25pemU9U3luY2hyb25pemVcbmZpbGVuYW1lPUZpbGVuYW1lXG5maWxlRXhpc3RzPUZpbGUgYWxyZWFkeSBleGlzdHNcbmZpbGVNb3ZlZFRvVHJhc2g9RmlsZSB3YXMgbW92ZWQgdG8gdHJhc2hcbmZpbGVOZWFybHlGdWxsU2VlRmFxPUZpbGUgbmVhcmx5IGZ1bGwsIHBsZWFzZSBzZWUgRkFRXG5maWxlTm90Rm91bmQ9RmlsZSBub3QgZm91bmRcbnJlcG9zaXRvcnlOb3RGb3VuZD1SZXBvc2l0b3J5IG5vdCBmb3VuZFxuZmlsZU5vdEZvdW5kT3JEZW5pZWQ9VGhlIGZpbGUgd2FzIG5vdCBmb3VuZC4gSXQgZG9lcyBub3QgZXhpc3Qgb3IgeW91IGRvIG5vdCBoYXZlIGFjY2Vzcy5cbmZpbGVOb3RMb2FkZWQ9RmlsZSBub3QgbG9hZGVkXG5maWxlTm90U2F2ZWQ9RmlsZSBub3Qgc2F2ZWRcbmZpbGVPcGVuTG9jYXRpb249SG93IHdvdWxkIHlvdSBsaWtlIHRvIG9wZW4gdGhlc2UgZmlsZShzKT9cbmZpbGV0eXBlSHRtbD0uaHRtbCBjYXVzZXMgZmlsZSB0byBzYXZlIGFzIEhUTUwgd2l0aCByZWRpcmVjdCB0byBjbG91ZCBVUkxcbmZpbGV0eXBlUG5nPS5wbmcgY2F1c2VzIGZpbGUgdG8gc2F2ZSBhcyBQTkcgd2l0aCBlbWJlZGRlZCBkYXRhXG5maWxldHlwZVN2Zz0uc3ZnIGNhdXNlcyBmaWxlIHRvIHNhdmUgYXMgU1ZHIHdpdGggZW1iZWRkZWQgZGF0YVxuZmlsZVdpbGxCZVNhdmVkSW5BcHBGb2xkZXI9ezF9IHdpbGwgYmUgc2F2ZWQgaW4gdGhlIGFwcCBmb2xkZXIuXG5maWxsPUZpbGxcbmZpbGxDb2xvcj1GaWxsIENvbG9yXG5maWx0ZXJDYXJkcz1GaWx0ZXIgQ2FyZHNcbmZpbmQ9RmluZFxuZml0PUZpdFxuZml0Q29udGFpbmVyPVJlc2l6ZSBDb250YWluZXJcbmZpdEludG9Db250YWluZXI9Rml0IGludG8gQ29udGFpbmVyXG5maXRQYWdlPUZpdCBQYWdlXG5maXRQYWdlV2lkdGg9Rml0IFBhZ2UgV2lkdGhcbmZpdFRvPUZpdCB0b1xuZml0VG9TaGVldHNBY3Jvc3M9c2hlZXQocykgYWNyb3NzXG5maXRUb0J5PWJ5XG5maXRUb1NoZWV0c0Rvd249c2hlZXQocykgZG93blxuZml0VHdvUGFnZXM9VHdvIFBhZ2VzXG5maXRXaW5kb3c9Rml0IFdpbmRvd1xuZmxpcD1GbGlwXG5mbGlwSD1GbGlwIEhvcml6b250YWxcbmZsaXBWPUZsaXAgVmVydGljYWxcbmZsb3djaGFydD1GbG93Y2hhcnRcbmZvbGRlcj1Gb2xkZXJcbmZvbnQ9Rm9udFxuZm9udENvbG9yPUZvbnQgQ29sb3JcbmZvbnRGYW1pbHk9Rm9udCBGYW1pbHlcbmZvbnRTaXplPUZvbnQgU2l6ZVxuZm9yYmlkZGVuPVlvdSBhcmUgbm90IGF1dGhvcml6ZWQgdG8gYWNjZXNzIHRoaXMgZmlsZVxuZm9ybWF0PUZvcm1hdFxuZm9ybWF0UGFuZWw9Rm9ybWF0IFBhbmVsXG5mb3JtYXR0ZWQ9Rm9ybWF0dGVkXG5mb3JtYXR0ZWRUZXh0PUZvcm1hdHRlZCBUZXh0XG5mb3JtYXRQbmc9UE5HXG5mb3JtYXRHaWY9R0lGXG5mb3JtYXRKcGc9SlBFR1xuZm9ybWF0UGRmPVBERlxuZm9ybWF0U3FsPVNRTFxuZm9ybWF0U3ZnPVNWR1xuZm9ybWF0SHRtbEVtYmVkZGVkPUhUTUxcbmZvcm1hdFN2Z0VtYmVkZGVkPVNWRyAod2l0aCBYTUwpXG5mb3JtYXRWc2R4PVZTRFhcbmZvcm1hdFZzc3g9VlNTWFxuZm9ybWF0WG1sUGxhaW49WE1MIChQbGFpbilcbmZvcm1hdFhtbD1YTUxcbmZvcnVtPURpc2N1c3Npb24vSGVscCBGb3J1bXNcbmZyZWVoYW5kPUZyZWVoYW5kXG5mcm9tVGVtcGxhdGU9RnJvbSBUZW1wbGF0ZVxuZnJvbVRlbXBsYXRlVXJsPUZyb20gVGVtcGxhdGUgVVJMXG5mcm9tVGV4dD1Gcm9tIFRleHRcbmZyb21Vcmw9RnJvbSBVUkxcbmZyb21UaGlzUGFnZT1Gcm9tIHRoaXMgcGFnZVxuZnVsbHNjcmVlbj1GdWxsc2NyZWVuXG5nYXA9R2FwXG5nY3A9R0NQXG5nZW5lcmFsPUdlbmVyYWxcbmdpdGh1Yj1HaXRIdWJcbmdpdGxhYj1HaXRMYWJcbmdsaWZmeT1HbGlmZnlcbmdsb2JhbD1HbG9iYWxcbmdvb2dsZURvY3M9R29vZ2xlIERvY3Ncbmdvb2dsZURyaXZlPUdvb2dsZSBEcml2ZVxuZ29vZ2xlR2FkZ2V0PUdvb2dsZSBHYWRnZXRcbmdvb2dsZVBsdXM9R29vZ2xlK1xuZ29vZ2xlU2hhcmluZ05vdEF2YWlsYWJsZT1TaGFyaW5nIGlzIG9ubHkgYXZhaWxhYmxlIHZpYSBHb29nbGUgRHJpdmUuIFBsZWFzZSBjbGljayBPcGVuIGJlbG93IGFuZCBzaGFyZSBmcm9tIHRoZSBtb3JlIGFjdGlvbnMgbWVudTpcbmdvb2dsZVNsaWRlcz1Hb29nbGUgU2xpZGVzXG5nb29nbGVTaXRlcz1Hb29nbGUgU2l0ZXNcbmdvb2dsZVNoZWV0cz1Hb29nbGUgU2hlZXRzXG5ncmFkaWVudD1HcmFkaWVudFxuZ3JhZGllbnRDb2xvcj1Db2xvclxuZ3JpZD1HcmlkXG5ncmlkQ29sb3I9R3JpZCBDb2xvclxuZ3JpZFNpemU9R3JpZCBTaXplXG5ncm91cD1Hcm91cFxuZ3VpZGVzPUd1aWRlc1xuaGF0ZUFwcD1JIGhhdGUgZHJhdy5pb1xuaGVhZGluZz1IZWFkaW5nXG5oZWlnaHQ9SGVpZ2h0XG5oZWxwPUhlbHBcbmhlbHBUcmFuc2xhdGU9SGVscCB1cyB0cmFuc2xhdGUgdGhpcyBhcHBsaWNhdGlvblxuaGlkZT1IaWRlXG5oaWRlSXQ9SGlkZSB7MX1cbmhpZGRlbj1IaWRkZW5cbmhvbWU9SG9tZVxuaG9yaXpvbnRhbD1Ib3Jpem9udGFsXG5ob3Jpem9udGFsRmxvdz1Ib3Jpem9udGFsIEZsb3dcbmhvcml6b250YWxUcmVlPUhvcml6b250YWwgVHJlZVxuaG93VHJhbnNsYXRlPUhvdyBnb29kIGlzIHRoZSB0cmFuc2xhdGlvbiBpbiB5b3VyIGxhbmd1YWdlP1xuaHRtbD1IVE1MXG5odG1sVGV4dD1IVE1MIFRleHRcbmlkPUlEXG5pZnJhbWU9SUZyYW1lXG5pZ25vcmU9SWdub3JlXG5pbWFnZT1JbWFnZVxuaW1hZ2VVcmw9SW1hZ2UgVVJMXG5pbWFnZXM9SW1hZ2VzXG5pbWFnZVByZXZpZXdFcnJvcj1UaGlzIGltYWdlIGNvdWxkblwndCBiZSBsb2FkZWQgZm9yIHByZXZpZXcuIFBsZWFzZSBjaGVjayB0aGUgVVJMLlxuaW1hZ2VUb29CaWc9SW1hZ2UgdG9vIGJpZ1xuaW1ndXI9SW1ndXJcbmltcG9ydD1JbXBvcnRcbmltcG9ydEZyb209SW1wb3J0IGZyb21cbmluY2x1ZGVDb3B5T2ZNeURpYWdyYW09SW5jbHVkZSBhIGNvcHkgb2YgbXkgZGlhZ3JhbVxuaW5jcmVhc2VJbmRlbnQ9SW5jcmVhc2UgSW5kZW50XG5kZWNyZWFzZUluZGVudD1EZWNyZWFzZSBJbmRlbnRcbmluc2VydD1JbnNlcnRcbmluc2VydENvbHVtbkJlZm9yZT1JbnNlcnQgQ29sdW1uIExlZnRcbmluc2VydENvbHVtbkFmdGVyPUluc2VydCBDb2x1bW4gUmlnaHRcbmluc2VydEVsbGlwc2U9SW5zZXJ0IEVsbGlwc2Vcbmluc2VydEltYWdlPUluc2VydCBJbWFnZVxuaW5zZXJ0SG9yaXpvbnRhbFJ1bGU9SW5zZXJ0IEhvcml6b250YWwgUnVsZVxuaW5zZXJ0TGluaz1JbnNlcnQgTGlua1xuaW5zZXJ0UGFnZT1JbnNlcnQgUGFnZVxuaW5zZXJ0UmVjdGFuZ2xlPUluc2VydCBSZWN0YW5nbGVcbmluc2VydFJob21idXM9SW5zZXJ0IFJob21idXNcbmluc2VydFJvd0JlZm9yZT1JbnNlcnQgUm93IEFib3ZlXG5pbnNlcnRSb3dBZnRlcj1JbnNlcnQgUm93IEFmdGVyXG5pbnNlcnRUZXh0PUluc2VydCBUZXh0XG5pbnNlcnRpbmc9SW5zZXJ0aW5nXG5pbnN0YWxsQXBwPUluc3RhbGwgQXBwXG5pbnZhbGlkRmlsZW5hbWU9RGlhZ3JhbSBuYW1lcyBtdXN0IG5vdCBjb250YWluIHRoZSBmb2xsb3dpbmcgY2hhcmFjdGVyczogIC8gfCA6IDsgeyB9IDwgPiAmICsgPyA9ICJcbmludmFsaWRMaWNlbnNlU2VlVGhpc1BhZ2U9WW91ciBsaWNlbnNlIGlzIGludmFsaWQsIHBsZWFzZSBzZWUgdGhpcyA8YSB0YXJnZXQ9Il9ibGFuayIgaHJlZj0iaHR0cHM6Ly9zdXBwb3J0LmRyYXcuaW8vZGlzcGxheS9ERkNTL0xpY2Vuc2luZyt5b3VyK2RyYXcuaW8rcGx1Z2luIj5wYWdlPC9hPi5cbmludmFsaWRJbnB1dD1JbnZhbGlkIGlucHV0XG5pbnZhbGlkTmFtZT1JbnZhbGlkIG5hbWVcbmludmFsaWRPck1pc3NpbmdGaWxlPUludmFsaWQgb3IgbWlzc2luZyBmaWxlXG5pbnZhbGlkUHVibGljVXJsPUludmFsaWQgcHVibGljIFVSTFxuaXNvbWV0cmljPUlzb21ldHJpY1xuaW9zPWlPU1xuaXRhbGljPUl0YWxpY1xua2VubmVkeT1LZW5uZWR5XG5rZXlib2FyZFNob3J0Y3V0cz1LZXlib2FyZCBTaG9ydGN1dHNcbmxheWVycz1MYXllcnNcbmxhbmRzY2FwZT1MYW5kc2NhcGVcbmxhbmd1YWdlPUxhbmd1YWdlXG5sZWFuTWFwcGluZz1MZWFuIE1hcHBpbmdcbmxhc3RDaGFuZ2U9TGFzdCBjaGFuZ2UgezF9IGFnb1xubGVzc1RoYW5BTWludXRlPWxlc3MgdGhhbiBhIG1pbnV0ZVxubGljZW5zaW5nRXJyb3I9TGljZW5zaW5nIEVycm9yXG5saWNlbnNlSGFzRXhwaXJlZD1UaGUgbGljZW5zZSBmb3IgezF9IGhhcyBleHBpcmVkIG9uIHsyfS4gQ2xpY2sgaGVyZS5cbmxpY2Vuc2VXaWxsRXhwaXJlPVRoZSBsaWNlbnNlIGZvciB7MX0gd2lsbCBleHBpcmUgb24gezJ9LiBDbGljayBoZXJlLlxubGluZUp1bXBzPUxpbmUganVtcHNcbmxpbmtBY2NvdW50UmVxdWlyZWQ9SWYgdGhlIGRpYWdyYW0gaXMgbm90IHB1YmxpYyBhIEdvb2dsZSBhY2NvdW50IGlzIHJlcXVpcmVkIHRvIHZpZXcgdGhlIGxpbmsuXG5saW5rVGV4dD1MaW5rIFRleHRcbmxpc3Q9TGlzdFxubWludXRlPW1pbnV0ZVxubWludXRlcz1taW51dGVzXG5ob3Vycz1ob3Vyc1xuZGF5cz1kYXlzXG5tb250aHM9bW9udGhzXG55ZWFycz15ZWFyc1xucmVzdGFydEZvckNoYW5nZVJlcXVpcmVkPUNoYW5nZXMgd2lsbCB0YWtlIGVmZmVjdCBhZnRlciBhIHJlc3RhcnQgb2YgdGhlIGFwcGxpY2F0aW9uLlxubGFuZUNvbG9yPUxhbmVjb2xvclxubGFzdE1vZGlmaWVkPUxhc3QgbW9kaWZpZWRcbmxheW91dD1MYXlvdXRcbmxlZnQ9TGVmdFxubGVmdEFsaWduPUxlZnQgQWxpZ25cbmxlZnRUb1JpZ2h0PUxlZnQgdG8gcmlnaHRcbmxpYnJhcnlUb29sdGlwPURyYWcgYW5kIGRyb3Agc2hhcGVzIGhlcmUgb3IgY2xpY2sgKyB0byBpbnNlcnQuIERvdWJsZSBjbGljayB0byBlZGl0LlxubGlnaHRib3g9TGlnaHRib3hcbmxpbmU9TGluZVxubGluZWVuZD1MaW5lIGVuZFxubGluZWhlaWdodD1MaW5lIEhlaWdodFxubGluZXN0YXJ0PUxpbmUgc3RhcnRcbmxpbmV3aWR0aD1MaW5ld2lkdGhcbmxpbms9TGlua1xubGlua3M9TGlua3NcbmxvYWRpbmc9TG9hZGluZ1xubG9ja1VubG9jaz1Mb2NrL1VubG9ja1xubG9nZ2VkT3V0PUxvZ2dlZCBPdXRcbmxvZ0luPWxvZyBpblxubG92ZUl0PUkgbG92ZSB7MX1cbmx1Y2lkY2hhcnQ9THVjaWRjaGFydFxubWFwcz1NYXBzXG5tYXRoZW1hdGljYWxUeXBlc2V0dGluZz1NYXRoZW1hdGljYWwgVHlwZXNldHRpbmdcbm1ha2VDb3B5PU1ha2UgYSBDb3B5XG5tYW51YWw9TWFudWFsXG5tZXJtYWlkPU1lcm1haWRcbm1pY3Jvc29mdE9mZmljZT1NaWNyb3NvZnQgT2ZmaWNlXG5taWNyb3NvZnRFeGNlbD1NaWNyb3NvZnQgRXhjZWxcbm1pY3Jvc29mdFBvd2VyUG9pbnQ9TWljcm9zb2Z0IFBvd2VyUG9pbnRcbm1pY3Jvc29mdFdvcmQ9TWljcm9zb2Z0IFdvcmRcbm1pZGRsZT1NaWRkbGVcbm1pbmltYWw9TWluaW1hbFxubWlzYz1NaXNjXG5tb2NrdXBzPU1vY2t1cHNcbm1vZGlmaWNhdGlvbkRhdGU9TW9kaWZpY2F0aW9uIGRhdGVcbm1vZGlmaWVkQnk9TW9kaWZpZWQgYnlcbm1vcmU9TW9yZVxubW9yZVJlc3VsdHM9TW9yZSBSZXN1bHRzXG5tb3JlU2hhcGVzPU1vcmUgU2hhcGVzXG5tb3ZlPU1vdmVcbm1vdmVUb0ZvbGRlcj1Nb3ZlIHRvIEZvbGRlclxubW92aW5nPU1vdmluZ1xubW92ZVNlbGVjdGlvblRvPU1vdmUgc2VsZWN0aW9uIHRvIHsxfVxubmFtZT1OYW1lXG5uYXZpZ2F0aW9uPU5hdmlnYXRpb25cbm5ldHdvcms9TmV0d29ya1xubmV0d29ya2luZz1OZXR3b3JraW5nXG5uZXc9TmV3XG5uZXdMaWJyYXJ5PU5ldyBMaWJyYXJ5XG5uZXh0UGFnZT1OZXh0IFBhZ2Vcbm5vPU5vXG5ub1BpY2tGb2xkZXI9Tm8sIHBpY2sgZm9sZGVyXG5ub0F0dGFjaG1lbnRzPU5vIGF0dGFjaG1lbnRzIGZvdW5kXG5ub0NvbG9yPU5vIENvbG9yXG5ub0ZpbGVzPU5vIEZpbGVzXG5ub0ZpbGVTZWxlY3RlZD1ObyBmaWxlIHNlbGVjdGVkXG5ub0xpYnJhcmllcz1ObyBsaWJyYXJpZXMgZm91bmRcbm5vTW9yZVJlc3VsdHM9Tm8gbW9yZSByZXN1bHRzXG5ub25lPU5vbmVcbm5vT3RoZXJWaWV3ZXJzPU5vIG90aGVyIHZpZXdlcnNcbm5vUGx1Z2lucz1ObyBwbHVnaW5zXG5ub1ByZXZpZXc9Tm8gcHJldmlld1xubm9SZXNwb25zZT1ObyByZXNwb25zZSBmcm9tIHNlcnZlclxubm9SZXN1bHRzRm9yPU5vIHJlc3VsdHMgZm9yIFwnezF9XCdcbm5vUmV2aXNpb25zPU5vIHJldmlzaW9uc1xubm9TZWFyY2hSZXN1bHRzPU5vIHNlYXJjaCByZXN1bHRzIGZvdW5kXG5ub1BhZ2VDb250ZW50T3JOb3RTYXZlZD1ObyBhbmNob3JzIGZvdW5kIG9uIHRoaXMgcGFnZSBvciBpdCBoYXNuXCd0IGJlZW4gc2F2ZWQgeWV0XG5ub3JtYWw9Tm9ybWFsXG5ub3J0aD1Ob3J0aFxubm90QURpYWdyYW1GaWxlPU5vdCBhIGRpYWdyYW0gZmlsZVxubm90QUxpYnJhcnlGaWxlPU5vdCBhIGxpYnJhcnkgZmlsZVxubm90QXZhaWxhYmxlPU5vdCBhdmFpbGFibGVcbm5vdEFVdGY4RmlsZT1Ob3QgYSBVVEYtOCBmaWxlXG5ub3RDb25uZWN0ZWQ9Tm90IGNvbm5lY3RlZFxubm90ZT1Ob3RlXG5ub3RTYXRpc2ZpZWRXaXRoSW1wb3J0PU5vdCBzYXRpc2ZpZWQgd2l0aCB0aGUgaW1wb3J0P1xubm90VXNpbmdTZXJ2aWNlPU5vdCB1c2luZyB7MX0/XG5udW1iZXJlZExpc3Q9TnVtYmVyZWQgbGlzdFxub2ZmbGluZT1PZmZsaW5lXG5vaz1PS1xub25lRHJpdmU9T25lRHJpdmVcbm9ubGluZT1PbmxpbmVcbm9wYWNpdHk9T3BhY2l0eVxub3Blbj1PcGVuXG5vcGVuQXJyb3c9T3BlbiBBcnJvd1xub3BlbkV4aXN0aW5nRGlhZ3JhbT1PcGVuIEV4aXN0aW5nIERpYWdyYW1cbm9wZW5GaWxlPU9wZW4gRmlsZVxub3BlbkZyb209T3BlbiBmcm9tXG5vcGVuTGlicmFyeT1PcGVuIExpYnJhcnlcbm9wZW5MaWJyYXJ5RnJvbT1PcGVuIExpYnJhcnkgZnJvbVxub3Blbkxpbms9T3BlbiBMaW5rXG5vcGVuSW5OZXdXaW5kb3c9T3BlbiBpbiBOZXcgV2luZG93XG5vcGVuSW5UaGlzV2luZG93PU9wZW4gaW4gVGhpcyBXaW5kb3dcbm9wZW5JdD1PcGVuIHsxfVxub3BlblJlY2VudD1PcGVuIFJlY2VudFxub3BlblN1cHBvcnRlZD1TdXBwb3J0ZWQgZm9ybWF0cyBhcmUgZmlsZXMgc2F2ZWQgZnJvbSB0aGlzIHNvZnR3YXJlICgueG1sKSwgLnZzZHggYW5kIC5nbGlmZnlcbm9wdGlvbnM9T3B0aW9uc1xub3JnYW5pYz1PcmdhbmljXG5vcmdDaGFydD1PcmcgQ2hhcnRcbm9ydGhvZ29uYWw9T3J0aG9nb25hbFxub3RoZXJWaWV3ZXI9b3RoZXIgdmlld2VyXG5vdGhlclZpZXdlcnM9b3RoZXIgdmlld2Vyc1xub3V0bGluZT1PdXRsaW5lXG5vdmFsPU92YWxcbnBhZ2U9UGFnZVxucGFnZUNvbnRlbnQ9UGFnZSBDb250ZW50XG5wYWdlTm90Rm91bmQ9UGFnZSBub3QgZm91bmRcbnBhZ2VXaXRoTnVtYmVyPVBhZ2UtezF9XG5wYWdlcz1QYWdlc1xucGFnZVZpZXc9UGFnZSBWaWV3XG5wYWdlU2V0dXA9UGFnZSBTZXR1cFxucGFnZVNjYWxlPVBhZ2UgU2NhbGVcbnBhbj1QYW5cbnBhblRvb2x0aXA9U3BhY2UrRHJhZyB0byBwYW5cbnBhcGVyU2l6ZT1QYXBlciBTaXplXG5wYXR0ZXJuPVBhdHRlcm5cbnBhc3RlPVBhc3RlXG5wYXN0ZUhlcmU9UGFzdGUgaGVyZVxucGFzdGVTaXplPVBhc3RlIFNpemVcbnBhc3RlU3R5bGU9UGFzdGUgU3R5bGVcbnBlcmltZXRlcj1QZXJpbWV0ZXJcbnBlcm1pc3Npb25BbnlvbmU9QW55b25lIGNhbiBlZGl0XG5wZXJtaXNzaW9uQXV0aG9yPU93bmVyIGFuZCBhZG1pbnMgY2FuIGVkaXRcbnBpY2tGb2xkZXI9UGljayBhIGZvbGRlclxucGlja0xpYnJhcnlEaWFsb2dUaXRsZT1TZWxlY3QgTGlicmFyeVxucHVibGljRGlhZ3JhbVVybD1QdWJsaWMgVVJMIG9mIHRoZSBkaWFncmFtXG5wbGFjZWhvbGRlcnM9UGxhY2Vob2xkZXJzXG5wbGFudFVtbD1QbGFudFVNTFxucGx1Z2lucz1QbHVnaW5zXG5wbHVnaW5Vcmw9UGx1Z2luIFVSTFxucGx1Z2luV2FybmluZz1UaGUgcGFnZSBoYXMgcmVxdWVzdGVkIHRvIGxvYWQgdGhlIGZvbGxvd2luZyBwbHVnaW4ocyk6XG4gXG4gezF9XG4gXG4gV291bGQgeW91IGxpa2UgdG8gbG9hZCB0aGVzZSBwbHVnaW4ocykgbm93P1xuIFxuIE5PVEUgOiBPbmx5IGFsbG93IHBsdWdpbnMgdG8gcnVuIGlmIHlvdSBmdWxseSB1bmRlcnN0YW5kIHRoZSBzZWN1cml0eSBpbXBsaWNhdGlvbnMgb2YgZG9pbmcgc28uXG5cbnBsdXNUb29sdGlwPUNsaWNrIHRvIGNvbm5lY3QgYW5kIGNsb25lIChjdHJsK2NsaWNrIHRvIGNsb25lLCBzaGlmdCtjbGljayB0byBjb25uZWN0KS4gRHJhZyB0byBjb25uZWN0IChjdHJsK2RyYWcgdG8gY2xvbmUpLlxucG9ydHJhaXQ9UG9ydHJhaXRcbnBvc2l0aW9uPVBvc2l0aW9uXG5wb3N0ZXJQcmludD1Qb3N0ZXIgUHJpbnRcbnByZWZlcmVuY2VzPVByZWZlcmVuY2VzXG5wcmV2aWV3PVByZXZpZXdcbnByZXZpb3VzUGFnZT1QcmV2aW91cyBQYWdlXG5wcmludD1QcmludFxucHJpbnRBbGxQYWdlcz1QcmludCBBbGwgUGFnZXNcbnByb2NFbmc9UHJvYy4gRW5nLlxucHJvamVjdD1Qcm9qZWN0XG5wcmlvcml0eT1Qcmlvcml0eVxucHJvcGVydGllcz1Qcm9wZXJ0aWVzXG5wdWJsaXNoPVB1Ymxpc2hcbnF1aWNrU3RhcnQ9UXVpY2sgU3RhcnQgVmlkZW9cbnJhY2s9UmFja1xucmFkaWFsVHJlZT1SYWRpYWwgVHJlZVxucmVhZE9ubHk9UmVhZC1vbmx5XG5yZWNvbm5lY3Rpbmc9UmVjb25uZWN0aW5nXG5yZWNlbnRseVVwZGF0ZWQ9UmVjZW50bHkgVXBkYXRlZFxucmVjZW50bHlWaWV3ZWQ9UmVjZW50bHkgVmlld2VkXG5yZWN0YW5nbGU9UmVjdGFuZ2xlXG5yZWRpcmVjdFRvTmV3QXBwPVRoaXMgZmlsZSB3YXMgY3JlYXRlZCBvciBtb2RpZmllZCBpbiBhIG5ld2VyIHZlcnNpb24gb2YgdGhpcyBhcHAuIFlvdSB3aWxsIGJlIHJlZGlyZWN0ZWQgbm93LlxucmVhbHRpbWVUaW1lb3V0PUl0IGxvb2tzIGxpa2UgeW91XCd2ZSBtYWRlIGEgZmV3IGNoYW5nZXMgd2hpbGUgb2ZmbGluZS4gV2VcJ3JlIHNvcnJ5LCB0aGVzZSBjaGFuZ2VzIGNhbm5vdCBiZSBzYXZlZC5cbnJlZG89UmVkb1xucmVmcmVzaD1SZWZyZXNoXG5yZWd1bGFyRXhwcmVzc2lvbj1SZWd1bGFyIEV4cHJlc3Npb25cbnJlbGF0aXZlPVJlbGF0aXZlXG5yZWxhdGl2ZVVybE5vdEFsbG93ZWQ9UmVsYXRpdmUgVVJMIG5vdCBhbGxvd2VkXG5yZW1lbWJlck1lPVJlbWVtYmVyIG1lXG5yZW1lbWJlclRoaXNTZXR0aW5nPVJlbWVtYmVyIHRoaXMgc2V0dGluZ1xucmVtb3ZlRm9ybWF0PUNsZWFyIEZvcm1hdHRpbmdcbnJlbW92ZUZyb21Hcm91cD1SZW1vdmUgZnJvbSBHcm91cFxucmVtb3ZlSXQ9UmVtb3ZlIHsxfVxucmVtb3ZlV2F5cG9pbnQ9UmVtb3ZlIFdheXBvaW50XG5yZW5hbWU9UmVuYW1lXG5yZW5hbWVkPVJlbmFtZWRcbnJlbmFtZUl0PVJlbmFtZSB7MX1cbnJlbmFtaW5nPVJlbmFtaW5nXG5yZXBsYWNlPVJlcGxhY2VcbnJlcGxhY2VJdD17MX0gYWxyZWFkeSBleGlzdHMuIERvIHlvdSB3YW50IHRvIHJlcGxhY2UgaXQ/XG5yZXBsYWNlRXhpc3RpbmdEcmF3aW5nPVJlcGxhY2UgZXhpc3RpbmcgZHJhd2luZ1xucmVxdWlyZWQ9cmVxdWlyZWRcbnJlc2V0PVJlc2V0XG5yZXNldFZpZXc9UmVzZXQgVmlld1xucmVzaXplPVJlc2l6ZVxucmVzaXplTGFyZ2VJbWFnZXM9RG8geW91IHdhbnQgdG8gcmVzaXplIGxhcmdlIGltYWdlcyB0byBtYWtlIHRoZSBhcHBsaWNhdGlvbiBydW4gZmFzdGVyP1xucmV0aW5hPVJldGluYVxucmVzcG9uc2l2ZT1SZXNwb25zaXZlXG5yZXN0b3JlPVJlc3RvcmVcbnJlc3RvcmluZz1SZXN0b3JpbmdcbnJldHJ5aW5nSW49UmV0cnlpbmcgaW4gezF9IHNlY29uZChzKVxucmV0cnlpbmdMb2FkPUxvYWQgZmFpbGVkLiBSZXRyeWluZy4uLlxucmV0cnlpbmdMb2dpbj1Mb2dpbiB0aW1lIG91dC4gUmV0cnlpbmcuLi5cbnJldmVyc2U9UmV2ZXJzZVxucmV2aXNpb249UmV2aXNpb25cbnJldmlzaW9uSGlzdG9yeT1SZXZpc2lvbiBIaXN0b3J5XG5yaG9tYnVzPVJob21idXNcbnJpZ2h0PVJpZ2h0XG5yaWdodEFsaWduPVJpZ2h0IEFsaWduXG5yaWdodFRvTGVmdD1SaWdodCB0byBsZWZ0XG5yb3RhdGU9Um90YXRlXG5yb3RhdGVUb29sdGlwPUNsaWNrIGFuZCBkcmFnIHRvIHJvdGF0ZSwgY2xpY2sgdG8gdHVybiBzaGFwZSBvbmx5IGJ5IDkwIGRlZ3JlZXNcbnJvdGF0aW9uPVJvdGF0aW9uXG5yb3VuZGVkPVJvdW5kZWRcbnNhdmU9U2F2ZVxuc2F2ZUFuZEV4aXQ9U2F2ZSAmIEV4aXRcbnNhdmVBcz1TYXZlIGFzXG5zYXZlQXNYbWxGaWxlPVNhdmUgYXMgWE1MIGZpbGU/XG5zYXZlZD1TYXZlZFxuc2F2ZURpYWdyYW1GaXJzdD1QbGVhc2Ugc2F2ZSB0aGUgZGlhZ3JhbSBmaXJzdFxuc2F2ZURpYWdyYW1zVG89U2F2ZSBkaWFncmFtcyB0b1xuc2F2ZUxpYnJhcnk0MDM9SW5zdWZmaWNpZW50IHBlcm1pc3Npb25zIHRvIGVkaXQgdGhpcyBsaWJyYXJ5XG5zYXZlTGlicmFyeTUwMD1UaGVyZSB3YXMgYW4gZXJyb3Igd2hpbGUgc2F2aW5nIHRoZSBsaWJyYXJ5XG5zYXZlTGlicmFyeVJlYWRPbmx5PUNvdWxkIG5vdCBzYXZlIGxpYnJhcnkgd2hpbGUgcmVhZC1vbmx5IG1vZGUgaXMgYWN0aXZlXG5zYXZpbmc9U2F2aW5nXG5zY3JhdGNocGFkPVNjcmF0Y2hwYWRcbnNjcm9sbGJhcnM9U2Nyb2xsYmFyc1xuc2VhcmNoPVNlYXJjaFxuc2VhcmNoU2hhcGVzPVNlYXJjaCBTaGFwZXNcbnNlbGVjdEFsbD1TZWxlY3QgQWxsXG5zZWxlY3Rpb25Pbmx5PVNlbGVjdGlvbiBPbmx5XG5zZWxlY3RDYXJkPVNlbGVjdCBDYXJkXG5zZWxlY3RFZGdlcz1TZWxlY3QgRWRnZXNcbnNlbGVjdEZpbGU9U2VsZWN0IEZpbGVcbnNlbGVjdEZvbGRlcj1TZWxlY3QgRm9sZGVyXG5zZWxlY3RGb250PVNlbGVjdCBGb250XG5zZWxlY3ROb25lPVNlbGVjdCBOb25lXG5zZWxlY3RUZW1wbGF0ZT1TZWxlY3QgVGVtcGxhdGVcbnNlbGVjdFZlcnRpY2VzPVNlbGVjdCBWZXJ0aWNlc1xuc2VuZE1lc3NhZ2U9U2VuZFxuc2VuZFlvdXJGZWVkYmFjaz1TZW5kIHlvdXIgZmVlZGJhY2tcbnNlcnZpY2VVbmF2YWlsYWJsZU9yQmxvY2tlZD1TZXJ2aWNlIHVuYXZhaWxhYmxlIG9yIGJsb2NrZWRcbnNlc3Npb25FeHBpcmVkPVlvdXIgc2Vzc2lvbiBoYXMgZXhwaXJlZC4gUGxlYXNlIHJlZnJlc2ggdGhlIGJyb3dzZXIgd2luZG93Llxuc2Vzc2lvblRpbWVvdXRPblNhdmU9WW91ciBzZXNzaW9uIGhhcyB0aW1lZCBvdXQgYW5kIHlvdSBoYXZlIGJlZW4gZGlzY29ubmVjdGVkIGZyb20gdGhlIEdvb2dsZSBEcml2ZS4gUHJlc3MgT0sgdG8gbG9naW4gYW5kIHNhdmUuIFxuc2V0QXNEZWZhdWx0U3R5bGU9U2V0IGFzIERlZmF1bHQgU3R5bGVcbnNoYWRvdz1TaGFkb3dcbnNoYXBlPVNoYXBlXG5zaGFwZXM9U2hhcGVzXG5zaGFyZT1TaGFyZVxuc2hhcmVMaW5rPUxpbmsgZm9yIHNoYXJlZCBlZGl0aW5nXG5zaGFycD1TaGFycFxuc2hvdz1TaG93XG5zaG93U3RhcnRTY3JlZW49U2hvdyBTdGFydCBTY3JlZW5cbnNpZGViYXJUb29sdGlwPUNsaWNrIHRvIGV4cGFuZC4gRHJhZyBhbmQgZHJvcCBzaGFwZXMgaW50byB0aGUgZGlhZ3JhbS4gU2hpZnQrY2xpY2sgdG8gY2hhbmdlIHNlbGVjdGlvbi4gQWx0K2NsaWNrIHRvIGluc2VydCBhbmQgY29ubmVjdC5cbnNpZ25zPVNpZ25zXG5zaWduT3V0PVNpZ24gb3V0XG5zaW1wbGU9U2ltcGxlXG5zaW1wbGVBcnJvdz1TaW1wbGUgQXJyb3dcbnNpbXBsZVZpZXdlcj1TaW1wbGUgVmlld2VyXG5zaXplPVNpemVcbnNvbGlkPVNvbGlkXG5zb3VyY2VTcGFjaW5nPVNvdXJjZSBTcGFjaW5nXG5zb3V0aD1Tb3V0aFxuc29mdHdhcmU9U29mdHdhcmVcbnNwYWNlPVNwYWNlXG5zcGFjaW5nPVNwYWNpbmdcbnNwZWNpYWxMaW5rPVNwZWNpYWwgTGlua1xuc3RhbmRhcmQ9U3RhbmRhcmRcbnN0YXJ0RHJhd2luZz1TdGFydCBkcmF3aW5nXG5zdG9wRHJhd2luZz1TdG9wIGRyYXdpbmdcbnN0YXJ0aW5nPVN0YXJ0aW5nXG5zdHJhaWdodD1TdHJhaWdodFxuc3RyaWtldGhyb3VnaD1TdHJpa2V0aHJvdWdoXG5zdHJva2VDb2xvcj1MaW5lIENvbG9yXG5zdHlsZT1TdHlsZVxuc3Vic2NyaXB0PVN1YnNjcmlwdFxuc3VtbWFyeT1TdW1tYXJ5XG5zdXBlcnNjcmlwdD1TdXBlcnNjcmlwdFxuc3VwcG9ydD1TdXBwb3J0XG5zd2ltbGFuZURpYWdyYW09U3dpbWxhbmUgRGlhZ3JhbVxuc3lzbWw9U3lzTUxcbnRhZ3M9VGFnc1xudGFibGU9VGFibGVcbnRhYmxlcz1UYWJsZXNcbnRha2VPdmVyPVRha2UgT3ZlclxudGFyZ2V0U3BhY2luZz1UYXJnZXQgU3BhY2luZ1xudGVtcGxhdGU9VGVtcGxhdGVcbnRlbXBsYXRlcz1UZW1wbGF0ZXNcbnRleHQ9VGV4dFxudGV4dEFsaWdubWVudD1UZXh0IEFsaWdubWVudFxudGV4dE9wYWNpdHk9VGV4dCBPcGFjaXR5XG50aGVtZT1UaGVtZVxudGltZW91dD1UaW1lb3V0XG50aXRsZT1UaXRsZVxudG89dG9cbnRvQmFjaz1UbyBCYWNrXG50b0Zyb250PVRvIEZyb250XG50b29sYmFyPVRvb2xiYXJcbnRvb2x0aXBzPVRvb2x0aXBzXG50b3A9VG9wXG50b3BBbGlnbj1Ub3AgQWxpZ25cbnRvcExlZnQ9VG9wIExlZnRcbnRvcFJpZ2h0PVRvcCBSaWdodFxudHJhbnNwYXJlbnQ9VHJhbnNwYXJlbnRcbnRyYW5zcGFyZW50QmFja2dyb3VuZD1UcmFuc3BhcmVudCBCYWNrZ3JvdW5kXG50cmVsbG89VHJlbGxvXG50cnlBZ2Fpbj1UcnkgYWdhaW5cbnRyeU9wZW5pbmdWaWFUaGlzUGFnZT1Ucnkgb3BlbmluZyB2aWEgdGhpcyBwYWdlXG50dXJuPVJvdGF0ZSBzaGFwZSBvbmx5IGJ5IDkwwrBcbnR5cGU9VHlwZVxudHdpdHRlcj1Ud2l0dGVyXG51bWw9VU1MXG51bmRlcmxpbmU9VW5kZXJsaW5lXG51bmRvPVVuZG9cbnVuZ3JvdXA9VW5ncm91cFxudW5zYXZlZENoYW5nZXM9VW5zYXZlZCBjaGFuZ2VzXG51bnNhdmVkQ2hhbmdlc0NsaWNrSGVyZVRvU2F2ZT1VbnNhdmVkIGNoYW5nZXMuIENsaWNrIGhlcmUgdG8gc2F2ZS5cbnVudGl0bGVkPVVudGl0bGVkXG51bnRpdGxlZERpYWdyYW09VW50aXRsZWQgRGlhZ3JhbVxudW50aXRsZWRMYXllcj1VbnRpdGxlZCBMYXllclxudW50aXRsZWRMaWJyYXJ5PVVudGl0bGVkIExpYnJhcnlcbnVua25vd25FcnJvcj1Vbmtub3duIGVycm9yXG51cGRhdGVGaWxlPVVwZGF0ZSB7MX1cbnVwZGF0aW5nRG9jdW1lbnQ9VXBkYXRpbmcgRG9jdW1lbnQuIFBsZWFzZSB3YWl0Li4uXG51cGRhdGluZ1ByZXZpZXc9VXBkYXRpbmcgUHJldmlldy4gUGxlYXNlIHdhaXQuLi5cbnVwZGF0aW5nU2VsZWN0aW9uPVVwZGF0aW5nIFNlbGVjdGlvbi4gUGxlYXNlIHdhaXQuLi5cbnVwbG9hZD1VcGxvYWRcbnVybD1VUkxcbnVzZU9mZmxpbmU9VXNlIE9mZmxpbmVcbnVzZVJvb3RGb2xkZXI9VXNlIHJvb3QgZm9sZGVyP1xudXNlck1hbnVhbD1Vc2VyIE1hbnVhbFxudmVydGljYWw9VmVydGljYWxcbnZlcnRpY2FsRmxvdz1WZXJ0aWNhbCBGbG93XG52ZXJ0aWNhbFRyZWU9VmVydGljYWwgVHJlZVxudmlldz1WaWV3XG52aWV3ZXJTZXR0aW5ncz1WaWV3ZXIgU2V0dGluZ3NcbnZpZXdVcmw9TGluayB0byB2aWV3OiB7MX1cbnZvaWNlQXNzaXN0YW50PVZvaWNlIEFzc2lzdGFudCAoYmV0YSlcbndhcm5pbmc9V2FybmluZ1xud2F5cG9pbnRzPVdheXBvaW50c1xud2VzdD1XZXN0XG53aWR0aD1XaWR0aFxud2lraT1XaWtpXG53b3JkV3JhcD1Xb3JkIFdyYXBcbndyaXRpbmdEaXJlY3Rpb249V3JpdGluZyBEaXJlY3Rpb25cbnllcz1ZZXNcbnlvdXJFbWFpbEFkZHJlc3M9WW91ciBlbWFpbCBhZGRyZXNzXG56b29tPVpvb21cbnpvb21Jbj1ab29tIEluXG56b29tT3V0PVpvb20gT3V0XG5iYXNpYz1CYXNpY1xuYnVzaW5lc3Nwcm9jZXNzPUJ1c2luZXNzIFByb2Nlc3Nlc1xuY2hhcnRzPUNoYXJ0c1xuZW5naW5lZXJpbmc9RW5naW5lZXJpbmdcbmZsb3djaGFydHM9Rmxvd2NoYXJ0c1xuZ21kbD1NYXRlcmlhbCBEZXNpZ25cbm1pbmRtYXBzPU1pbmRtYXBzXG5tb2NrdXBzPU1vY2t1cHNcbm5ldHdvcmtkaWFncmFtcz1OZXR3b3JrIERpYWdyYW1zXG5ub3RoaW5nSXNTZWxlY3RlZD1Ob3RoaW5nIGlzIHNlbGVjdGVkXG5vdGhlcj1PdGhlclxuc29mdHdhcmVkZXNpZ249U29mdHdhcmUgRGVzaWduXG52ZW5uZGlhZ3JhbXM9VmVubiBEaWFncmFtc1xud2ViRW1haWxPck90aGVyPVdlYiwgZW1haWwgb3IgYW55IG90aGVyIGludGVybmV0IGFkZHJlc3NcbndlYkxpbms9V2ViIExpbmtcbndpcmVmcmFtZXM9V2lyZWZyYW1lc1xucHJvcGVydHk9UHJvcGVydHlcbnZhbHVlPVZhbHVlXG5zaG93TW9yZT1TaG93IE1vcmVcbnNob3dMZXNzPVNob3cgTGVzc1xubXlEaWFncmFtcz1NeSBEaWFncmFtc1xuYWxsRGlhZ3JhbXM9QWxsIERpYWdyYW1zXG5yZWNlbnRseVVzZWQ9UmVjZW50bHkgdXNlZFxubGlzdFZpZXc9TGlzdCB2aWV3XG5ncmlkVmlldz1HcmlkIHZpZXdcbnJlc3VsdHNGb3I9UmVzdWx0cyBmb3IgXCd7MX1cJ1xub25lRHJpdmVDaGFyc05vdEFsbG93ZWQ9VGhlIGZvbGxvd2luZyBjaGFyYWN0ZXJzIGFyZSBub3QgYWxsb3dlZDogfiAiICMgJSAgKiA6IDwgPiA/IC8gIHsgfCB9XG5vbmVEcml2ZUludmFsaWREZXZpY2VOYW1lPVRoZSBzcGVjaWZpZWQgZGV2aWNlIG5hbWUgaXMgaW52YWxpZFxub2ZmaWNlTm90TG9nZ2VkT0Q9WW91IGFyZSBub3QgbG9nZ2VkIGluIHRvIE9uZURyaXZlLiBQbGVhc2Ugb3BlbiBkcmF3LmlvIHRhc2sgcGFuZSBhbmQgbG9naW4gZmlyc3QuXG5vZmZpY2VTZWxlY3RTaW5nbGVEaWFnPVBsZWFzZSBzZWxlY3QgYSBzaW5nbGUgZHJhdy5pbyBkaWFncmFtIG9ubHkgd2l0aG91dCBvdGhlciBjb250ZW50cy5cbm9mZmljZVNlbGVjdERpYWc9UGxlYXNlIHNlbGVjdCBhIGRyYXcuaW8gZGlhZ3JhbS5cbm9mZmljZUNhbm5vdEZpbmREaWFncmFtPUNhbm5vdCBmaW5kIGEgZHJhdy5pbyBkaWFncmFtIGluIHRoZSBzZWxlY3Rpb25cbm5vRGlhZ3JhbXM9Tm8gZGlhZ3JhbXMgZm91bmRcbmF1dGhGYWlsZWQ9QXV0aGVudGljYXRpb24gZmFpbGVkXG5vZmZpY2VGYWlsZWRBdXRoTXNnPVVuYWJsZSB0byBzdWNjZXNzZnVsbHkgYXV0aGVudGljYXRlIHVzZXIgb3IgYXV0aG9yaXplIGFwcGxpY2F0aW9uLlxuY29udmVydGluZ0RpYWdyYW1GYWlsZWQ9Q29udmVydGluZyBkaWFncmFtIGZhaWxlZFxub2ZmaWNlQ29weUltZ0Vyck1zZz1EdWUgdG8gc29tZSBsaW1pdGF0aW9ucyBpbiB0aGUgaG9zdCBhcHBsaWNhdGlvbiwgdGhlIGltYWdlIGNvdWxkIG5vdCBiZSBpbnNlcnRlZC4gUGxlYXNlIG1hbnVhbGx5IGNvcHkgdGhlIGltYWdlIHRoZW4gcGFzdGUgaXQgdG8gdGhlIGRvY3VtZW50LlxuaW5zZXJ0aW5nSW1hZ2VGYWlsZWQ9SW5zZXJ0aW5nIGltYWdlIGZhaWxlZFxub2ZmaWNlQ29weUltZ0luc3Q9SW5zdHJ1Y3Rpb25zOiBSaWdodC1jbGljayB0aGUgaW1hZ2UgYmVsb3cuIFNlbGVjdCAiQ29weSBpbWFnZSIgZnJvbSB0aGUgY29udGV4dCBtZW51LiBUaGVuLCBpbiB0aGUgZG9jdW1lbnQsIHJpZ2h0LWNsaWNrIGFuZCBzZWxlY3QgIlBhc3RlIiBmcm9tIHRoZSBjb250ZXh0IG1lbnUuXG5mb2xkZXJFbXB0eT1Gb2xkZXIgaXMgZW1wdHlcbnJlY2VudD1SZWNlbnRcbnNoYXJlZFdpdGhNZT1TaGFyZWQgV2l0aCBNZVxuc2hhcmVwb2ludFNpdGVzPVNoYXJlcG9pbnQgU2l0ZXNcbmVycm9yRmV0Y2hpbmdGb2xkZXI9RXJyb3IgZmV0Y2hpbmcgZm9sZGVyIGl0ZW1zXG5lcnJvckF1dGhPRD1FcnJvciBhdXRoZW50aWNhdGluZyB0byBPbmVEcml2ZVxub2ZmaWNlTWFpbkhlYWRlcj1BZGRzIGRyYXcuaW8gZGlhZ3JhbXMgdG8geW91ciBkb2N1bWVudC5cbm9mZmljZVN0ZXBzSGVhZGVyPVRoaXMgYWRkLWluIHBlcmZvcm1zIHRoZSBmb2xsb3dpbmcgc3RlcHM6XG5vZmZpY2VTdGVwMT1Db25uZWN0cyB0byBNaWNyb3NvZnQgT25lRHJpdmUsIEdvb2dsZSBEcml2ZSBvciB5b3VyIGRldmljZS5cbm9mZmljZVN0ZXAyPVNlbGVjdCBhIGRyYXcuaW8gZGlhZ3JhbS5cbm9mZmljZVN0ZXAzPUluc2VydCB0aGUgZGlhZ3JhbSBpbnRvIHRoZSBkb2N1bWVudC5cbm9mZmljZUF1dGhQb3B1cEluZm89UGxlYXNlIGNvbXBsZXRlIHRoZSBhdXRoZW50aWNhdGlvbiBpbiB0aGUgcG9wLXVwIHdpbmRvdy5cbm9mZmljZVNlbERpYWc9U2VsZWN0IGRyYXcuaW8gRGlhZ3JhbTpcbmZpbGVzPUZpbGVzXG5zaGFyZWQ9U2hhcmVkXG5zaGFyZXBvaW50PVNoYXJlcG9pbnRcbm9mZmljZU1hbnVhbFVwZGF0ZUluc3Q9SW5zdHJ1Y3Rpb25zOiBDb3B5IGRyYXcuaW8gZGlhZ3JhbSBmcm9tIHRoZSBkb2N1bWVudC4gVGhlbiwgaW4gdGhlIGJveCBiZWxvdywgcmlnaHQtY2xpY2sgYW5kIHNlbGVjdCAiUGFzdGUiIGZyb20gdGhlIGNvbnRleHQgbWVudS5cbm9mZmljZUNsaWNrVG9FZGl0PUNsaWNrIGljb24gdG8gc3RhcnQgZWRpdGluZzpcbnBhc3RlRGlhZ3JhbT1QYXN0ZSBkcmF3LmlvIGRpYWdyYW0gaGVyZVxuY29ubmVjdE9EPUNvbm5lY3QgdG8gT25lRHJpdmVcbnNlbGVjdENoaWxkcmVuPVNlbGVjdCBDaGlsZHJlblxuc2VsZWN0U2libGluZ3M9U2VsZWN0IFNpYmxpbmdzXG5zZWxlY3RQYXJlbnQ9U2VsZWN0IFBhcmVudFxuc2VsZWN0RGVzY2VuZGFudHM9U2VsZWN0IERlc2NlbmRhbnRzXG5sYXN0U2F2ZWQ9TGFzdCBzYXZlZCB7MX0gYWdvXG5yZXNvbHZlPVJlc29sdmVcbnJlb3Blbj1SZS1vcGVuXG5zaG93UmVzb2x2ZWQ9U2hvdyBSZXNvbHZlZFxucmVwbHk9UmVwbHlcbm9iamVjdE5vdEZvdW5kPU9iamVjdCBub3QgZm91bmRcbnJlT3BlbmVkPVJlLW9wZW5lZFxubWFya2VkQXNSZXNvbHZlZD1NYXJrZWQgYXMgcmVzb2x2ZWRcbm5vQ29tbWVudHNGb3VuZD1ObyBjb21tZW50cyBmb3VuZFxuY29tbWVudHM9Q29tbWVudHNcbnRpbWVBZ289ezF9IGFnb1xuY29uZmx1ZW5jZUNsb3VkPUNvbmZsdWVuY2UgQ2xvdWRcbmxpYnJhcmllcz1MaWJyYXJpZXNcbmNvbmZBbmNob3I9Q29uZmx1ZW5jZSBQYWdlIEFuY2hvclxuY29uZlRpbWVvdXQ9VGhlIGNvbm5lY3Rpb24gaGFzIHRpbWVkIG91dFxuY29uZlNydlRha2VUb29Mb25nPVRoZSBzZXJ2ZXIgYXQgezF9IGlzIHRha2luZyB0b28gbG9uZyB0byByZXNwb25kLlxuY29uZkNhbm5vdEluc2VydE5ldz1DYW5ub3QgaW5zZXJ0IGRyYXcuaW8gZGlhZ3JhbSB0byBhIG5ldyBDb25mbHVlbmNlIHBhZ2VcbmNvbmZTYXZlVHJ5PVBsZWFzZSBzYXZlIHRoZSBwYWdlIGFuZCB0cnkgYWdhaW4uXG5jb25mQ2Fubm90R2V0SUQ9VW5hYmxlIHRvIGRldGVybWluZSBwYWdlIElEXG5jb25mQ29udGFjdEFkbWluPVBsZWFzZSBjb250YWN0IHlvdXIgQ29uZmx1ZW5jZSBhZG1pbmlzdHJhdG9yLlxucmVhZEVycj1SZWFkIEVycm9yXG5lZGl0aW5nRXJyPUVkaXRpbmcgRXJyb3JcbmNvbmZFeHRFZGl0Tm90UG9zc2libGU9VGhpcyBkaWFncmFtIGNhbm5vdCBiZSBlZGl0ZWQgZXh0ZXJuYWxseS4gUGxlYXNlIHRyeSBlZGl0aW5nIGl0IHdoaWxlIGVkaXRpbmcgdGhlIHBhZ2VcbmNvbmZFZGl0ZWRFeHQ9RGlhZ3JhbS9QYWdlIGVkaXRlZCBleHRlcm5hbGx5XG5kaWFnTm90Rm91bmQ9RGlhZ3JhbSBOb3QgRm91bmRcbmNvbmZFZGl0ZWRFeHRSZWZyZXNoPURpYWdyYW0vUGFnZSBpcyBlZGl0ZWQgZXh0ZXJuYWxseS4gUGxlYXNlIHJlZnJlc2ggdGhlIHBhZ2UuXG5jb25mQ2Fubm90RWRpdERyYWZ0RGVsT3JFeHQ9Q2Fubm90IGVkaXQgZGlhZ3JhbXMgaW4gYSBkcmFmdCBwYWdlLCBkaWFncmFtIGlzIGRlbGV0ZWQgZnJvbSB0aGUgcGFnZSwgb3IgZGlhZ3JhbSBpcyBlZGl0ZWQgZXh0ZXJuYWxseS4gUGxlYXNlIGNoZWNrIHRoZSBwYWdlLlxucmV0QmFjaz1SZXR1cm4gYmFja1xuY29uZkRpYWdOb3RQdWJsaXNoZWQ9VGhlIGRpYWdyYW0gZG9lcyBub3QgYmVsb25nIHRvIGEgcHVibGlzaGVkIHBhZ2VcbmNyZWF0ZWRCeURyYXc9Q3JlYXRlZCBieSBkcmF3LmlvXG5maWxlbmFtZVNob3J0PUZpbGVuYW1lIHRvbyBzaG9ydFxuaW52YWxpZENoYXJzPUludmFsaWQgY2hhcmFjdGVyc1xuYWxyZWFkeUV4c3Q9ezF9IGFscmVhZHkgZXhpc3RzXG5kcmFmdFJlYWRFcnI9RHJhZnQgUmVhZCBFcnJvclxuZGlhZ0NhbnRMb2FkPURpYWdyYW0gY2Fubm90IGJlIGxvYWRlZFxuZHJhZnRXcml0ZUVycj1EcmFmdCBXcml0ZSBFcnJvclxuZHJhZnRDYW50Q3JlYXRlPURyYWZ0IGNvdWxkIG5vdCBiZSBjcmVhdGVkXG5jb25mRHVwbE5hbWU9RHVwbGljYXRlIGRpYWdyYW0gbmFtZSBkZXRlY3RlZC4gUGxlYXNlIHBpY2sgYW5vdGhlciBuYW1lLlxuY29uZlNlc3Npb25FeHBpcmVkPUxvb2tzIGxpa2UgeW91ciBzZXNzaW9uIGV4cGlyZWQuIExvZyBpbiBhZ2FpbiB0byBrZWVwIHdvcmtpbmcuXG5sb2dpbj1Mb2dpblxuZHJhd1ByZXY9ZHJhdy5pbyBwcmV2aWV3XG5kcmF3RGlhZz1kcmF3LmlvIGRpYWdyYW1cbmludmFsaWRDYWxsRm5Ob3RGb3VuZD1JbnZhbGlkIENhbGw6IHsxfSBub3QgZm91bmRcbmludmFsaWRDYWxsRXJyT2NjdXJlZD1JbnZhbGlkIENhbGw6IEFuIGVycm9yIG9jY3VycmVkLCB7MX1cbmFub255bW91cz1Bbm9ueW1vdXNcbmNvbmZHb3RvUGFnZT1HbyB0byBjb250YWluaW5nIHBhZ2VcbnNob3dDb21tZW50cz1TaG93IENvbW1lbnRzXG5jb25mRXJyb3I9RXJyb3I6IHsxfVxuZ2xpZmZ5SW1wb3J0PUdsaWZmeSBJbXBvcnRcbmdsaWZmeUltcG9ydEluc3QxPUNsaWNrIHRoZSAiU3RhcnQgSW1wb3J0IiBidXR0b24gdG8gaW1wb3J0IGFsbCBHbGlmZnkgZGlhZ3JhbXMgdG8gZHJhdy5pby5cbmdsaWZmeUltcG9ydEluc3QyPVBsZWFzZSBub3RlIHRoYXQgdGhlIGltcG9ydCBwcm9jZWR1cmUgd2lsbCB0YWtlIHNvbWUgdGltZSBhbmQgdGhlIGJyb3dzZXIgd2luZG93IG11c3QgcmVtYWluIG9wZW4gdW50aWwgdGhlIGltcG9ydCBpcyBjb21wbGV0ZWQuXG5zdGFydEltcG9ydD1TdGFydCBJbXBvcnRcbmRyYXdDb25maWc9ZHJhdy5pbyBDb25maWd1cmF0aW9uXG5jdXN0b21MaWI9Q3VzdG9tIExpYnJhcmllc1xuY3VzdG9tVGVtcD1DdXN0b20gVGVtcGxhdGVzXG5wYWdlSWRzRXhwPVBhZ2UgSURzIEV4cG9ydFxuZHJhd1JlaW5kZXg9ZHJhdy5pbyByZS1pbmRleGluZyAoYmV0YSlcbndvcmtpbmc9V29ya2luZ1xuZHJhd0NvbmZpZ05vdEZvdW5kSW5zdD1kcmF3LmlvIENvbmZpZ3VyYXRpb24gU3BhY2UgKERSQVdJT0NPTkZJRykgZG9lcyBub3QgZXhpc3QuIFRoaXMgc3BhY2UgaXMgbmVlZGVkIHRvIHN0b3JlIGRyYXcuaW8gY29uZmlndXJhdGlvbiBmaWxlcyBhbmQgY3VzdG9tIGxpYnJhcmllcy90ZW1wbGF0ZXMuXG5jcmVhdGVDb25mU3A9Q3JlYXRlIENvbmZpZyBTcGFjZVxudW5leHBFcnJSZWZyZXNoPVVuZXhwZWN0ZWQgZXJyb3IsIHBsZWFzZSByZWZyZXNoIHRoZSBwYWdlIGFuZCB0cnkgYWdhaW4uXG5jb25maWdKU09OSW5zdD1Xcml0ZSBkcmF3LmlvIEpTT04gY29uZmlndXJhdGlvbiBpbiB0aGUgZWRpdG9yIGJlbG93IHRoZW4gY2xpY2sgc2F2ZS4gSWYgeW91IG5lZWQgaGVscCwgcGxlYXNlIHJlZmVyIHRvXG50aGlzUGFnZT10aGlzIHBhZ2VcbmN1ckN1c3RMaWI9Q3VycmVudCBDdXN0b20gTGlicmFyaWVzXG5saWJOYW1lPUxpYnJhcnkgTmFtZVxuYWN0aW9uPUFjdGlvblxuZHJhd0NvbmZJRD1kcmF3LmlvIENvbmZpZyBJRFxuYWRkTGliSW5zdD1DbGljayB0aGUgIkFkZCBMaWJyYXJ5IiBidXR0b24gdG8gdXBsb2FkIGEgbmV3IGxpYnJhcnkuXG5hZGRMaWI9QWRkIExpYnJhcnlcbmN1c3RvbVRlbXBJbnN0MT1DdXN0b20gdGVtcGxhdGVzIGFyZSBkcmF3LmlvIGRpYWdyYW1zIHNhdmVkIGluIGNoaWxkcmVuIHBhZ2VzIG9mXG5jdXN0b21UZW1wSW5zdDI9Rm9yIG1vcmUgZGV0YWlscywgcGxlYXNlIHJlZmVyIHRvXG50ZW1wc1BhZ2U9VGVtcGxhdGVzIHBhZ2VcbnBhZ2VJZHNFeHBJbnN0MT1TZWxlY3QgZXhwb3J0IHRhcmdldCwgdGhlbiBjbGljayB0aGUgIlN0YXJ0IEV4cG9ydCIgYnV0dG9uIHRvIGV4cG9ydCBhbGwgcGFnZXMgSURzLlxucGFnZUlkc0V4cEluc3QyPVBsZWFzZSBub3RlIHRoYXQgdGhlIGV4cG9ydCBwcm9jZWR1cmUgd2lsbCB0YWtlIHNvbWUgdGltZSBhbmQgdGhlIGJyb3dzZXIgd2luZG93IG11c3QgcmVtYWluIG9wZW4gdW50aWwgdGhlIGV4cG9ydCBpcyBjb21wbGV0ZWQuXG5zdGFydEV4cD1TdGFydCBFeHBvcnRcbnJlZnJlc2hEcmF3SW5kZXg9UmVmcmVzaCBkcmF3LmlvIERpYWdyYW1zIEluZGV4XG5yZWluZGV4SW5zdDE9Q2xpY2sgdGhlICJTdGFydCBJbmRleGluZyIgYnV0dG9uIHRvIHJlZnJlc2ggZHJhdy5pbyBkaWFncmFtcyBpbmRleC5cbnJlaW5kZXhJbnN0Mj1QbGVhc2Ugbm90ZSB0aGF0IHRoZSBpbmRleGluZyBwcm9jZWR1cmUgd2lsbCB0YWtlIHNvbWUgdGltZSBhbmQgdGhlIGJyb3dzZXIgd2luZG93IG11c3QgcmVtYWluIG9wZW4gdW50aWwgdGhlIGluZGV4aW5nIGlzIGNvbXBsZXRlZC5cbnN0YXJ0SW5kZXhpbmc9U3RhcnQgSW5kZXhpbmdcbmNvbmZBUGFnZUZvdW5kRmV0Y2g9UGFnZSAiezF9IiBmb3VuZC4gRmV0Y2hpbmdcbmNvbmZBQWxsRGlhZ0RvbmU9QWxsIHsxfSBkaWFncmFtcyBwcm9jZXNzZWQuIFByb2Nlc3MgZmluaXNoZWQuXG5jb25mQVN0YXJ0ZWRQcm9jZXNzaW5nPVN0YXJ0ZWQgcHJvY2Vzc2luZyBwYWdlICJ7MX0iXG5jb25mQUFsbERpYWdJblBhZ2VEb25lPUFsbCB7MX0gZGlhZ3JhbXMgaW4gcGFnZSAiezJ9IiBwcm9jZXNzZWQgc3VjY2Vzc2Z1bGx5LlxuY29uZkFQYXJ0aWFsRGlhZ0RvbmU9ezF9IG91dCBvZiB7Mn0gezN9IGRpYWdyYW1zIGluIHBhZ2UgIns0fSIgcHJvY2Vzc2VkIHN1Y2Nlc3NmdWxseS5cbmNvbmZBVXBkYXRlUGFnZUZhaWxlZD1VcGRhdGluZyBwYWdlICJ7MX0iIGZhaWxlZC5cbmNvbmZBTm9EaWFnRm91bmRJblBhZ2U9Tm8gezF9IGRpYWdyYW1zIGZvdW5kIGluIHBhZ2UgInsyfSIuXG5jb25mQUZldGNoUGFnZUZhaWxlZD1GZXRjaGluZyB0aGUgcGFnZSBmYWlsZWQuXG5jb25mQU5vRGlhZ0ZvdW5kPU5vIHsxfSBkaWFncmFtcyBmb3VuZC4gUHJvY2VzcyBmaW5pc2hlZC5cbmNvbmZBU2VhcmNoRmFpbGVkPVNlYXJjaGluZyBmb3IgezF9IGRpYWdyYW1zIGZhaWxlZC4gUGxlYXNlIHRyeSBhZ2FpbiBsYXRlci5cbmNvbmZBR2xpZmZ5RGlhZ0ZvdW5kPXsyfSBkaWFncmFtICJ7MX0iIGZvdW5kLiBJbXBvcnRpbmdcbmNvbmZBR2xpZmZ5RGlhZ0ltcG9ydGVkPXsyfSBkaWFncmFtICJ7MX0iIGltcG9ydGVkIHN1Y2Nlc3NmdWxseS5cbmNvbmZBU2F2aW5nSW1wR2xpZmZ5RmFpbGVkPVNhdmluZyBpbXBvcnRlZCB7Mn0gZGlhZ3JhbSAiezF9IiBmYWlsZWQuXG5jb25mQUltcG9ydGVkRnJvbUJ5RHJhdz1JbXBvcnRlZCBmcm9tICJ7MX0iIGJ5IGRyYXcuaW9cbmNvbmZBSW1wb3J0R2xpZmZ5RmFpbGVkPUltcG9ydGluZyB7Mn0gZGlhZ3JhbSAiezF9IiBmYWlsZWQuXG5jb25mQUZldGNoR2xpZmZ5RmFpbGVkPUZldGNoaW5nIHsyfSBkaWFncmFtICJ7MX0iIGZhaWxlZC5cbmNvbmZBQ2hlY2tCcm9rZW5EaWFnTG5rPUNoZWNraW5nIGZvciBicm9rZW4gZGlhZ3JhbXMgbGlua3MuXG5jb25mQURlbERpYWdMaW5rT2Y9RGVsZXRpbmcgZGlhZ3JhbSBsaW5rIG9mICJ7MX0iXG5jb25mQUR1cExuaz0oZHVwbGljYXRlIGxpbmspXG5jb25mQURlbERpYWdMbmtGYWlsZWQ9RGVsZXRpbmcgZGlhZ3JhbSBsaW5rIG9mICJ7MX0iIGZhaWxlZC5cbmNvbmZBVW5leHBFcnJQcm9jZXNzUGFnZT1VbmV4cGVjdGVkIGVycm9yIGR1cmluZyBwcm9jZXNzaW5nIHRoZSBwYWdlIHdpdGggaWQ6IHsxfVxuY29uZkFEaWFnRm91bmRJbmRleD1EaWFncmFtICJ7MX0iIGZvdW5kLiBJbmRleGluZ1xuY29uZkFEaWFnSW5kZXhTdWNjPURpYWdyYW0gInsxfSIgaW5kZXhlZCBzdWNjZXNzZnVsbHkuXG5jb25mQUluZGV4RGlhZ0ZhaWxlZD1JbmRleGluZyBkaWFncmFtICJ7MX0iIGZhaWxlZC5cbmNvbmZBU2tpcERpYWdPdGhlclBhZ2U9U2tpcHBlZCAiezF9IiBhcyBpdCBiZWxvbmdzIHRvIGFub3RoZXIgcGFnZSFcbmNvbmZBRGlhZ1VwdG9EYXRlPURpYWdyYW0gInsxfSIgaXMgdXAgdG8gZGF0ZS5cbmNvbmZBQ2hlY2tQYWdlc1dEcmF3PUNoZWNraW5nIHBhZ2VzIGhhdmluZyBkcmF3LmlvIGRpYWdyYW1zLlxuY29uZkFFcnJPY2N1cmVkPUFuIGVycm9yIG9jY3VycmVkIVxuc2F2ZWRTdWNjPVNhdmVkIHN1Y2Nlc3NmdWxseVxuY29uZkFTYXZlRmFpbGVkRXJyPVNhdmluZyBGYWlsZWQgKFVuZXhwZWN0ZWQgRXJyb3IpXG5jaGFyYWN0ZXI9Q2hhcmFjdGVyXG5jb25mQUNvbmZQYWdlRGVzYz1UaGlzIHBhZ2UgY29udGFpbnMgZHJhdy5pbyBjb25maWd1cmF0aW9uIGZpbGUgKGNvbmZpZ3VyYXRpb24uanNvbikgYXMgYXR0YWNobWVudFxuY29uZkFMaWJQYWdlRGVzYz1UaGlzIHBhZ2UgY29udGFpbnMgZHJhdy5pbyBjdXN0b20gbGlicmFyaWVzIGFzIGF0dGFjaG1lbnRzXG5jb25mQVRlbXBQYWdlRGVzYz1UaGlzIHBhZ2UgY29udGFpbnMgZHJhdy5pbyBjdXN0b20gdGVtcGxhdGVzIGFzIGF0dGFjaG1lbnRzXG53b3JraW5nPVdvcmtpbmdcbmNvbmZBQ29uZlNwYWNlRGVzYz1UaGlzIHNwYWNlIGlzIHVzZWQgdG8gc3RvcmUgZHJhdy5pbyBjb25maWd1cmF0aW9uIGZpbGVzIGFuZCBjdXN0b20gbGlicmFyaWVzL3RlbXBsYXRlc1xuY29uZkFOb0N1c3RMaWI9Tm8gQ3VzdG9tIExpYnJhcmllc1xuZGVsRmFpbGVkPURlbGV0ZSBmYWlsZWQhXG5zaG93SUQ9U2hvdyBJRFxuY29uZkFJbmNvcnJlY3RMaWJGaWxlVHlwZT1JbmNvcnJlY3QgZmlsZSB0eXBlLiBMaWJyYXJpZXMgc2hvdWxkIGJlIFhNTCBmaWxlcy5cbnVwbG9hZGluZz1VcGxvYWRpbmdcbmNvbmZBTGliRXhpc3Q9VGhpcyBsaWJyYXJ5IGFscmVhZHkgZXhpc3RzXG5jb25mQVVwbG9hZFN1Y2M9VXBsb2FkZWQgc3VjY2Vzc2Z1bGx5XG5jb25mQVVwbG9hZEZhaWxFcnI9VXBsb2FkIEZhaWxlZCAoVW5leHBlY3RlZCBFcnJvcilcbmhpUmVzUHJldmlldz1IaWdoIFJlcyBQcmV2aWV3XG5vZmZpY2VOb3RMb2dnZWRHRD1Zb3UgYXJlIG5vdCBsb2dnZWQgaW4gdG8gR29vZ2xlIERyaXZlLiBQbGVhc2Ugb3BlbiBkcmF3LmlvIHRhc2sgcGFuZSBhbmQgbG9naW4gZmlyc3QuXG5vZmZpY2VQb3B1cEluZm89UGxlYXNlIGNvbXBsZXRlIHRoZSBwcm9jZXNzIGluIHRoZSBwb3AtdXAgd2luZG93LlxucGlja09ERmlsZT1QaWNrIE9uZURyaXZlIEZpbGVcbnBpY2tHRHJpdmVGaWxlPVBpY2sgR29vZ2xlIERyaXZlIEZpbGVcbnBpY2tEZXZpY2VGaWxlPVBpY2sgRGV2aWNlIEZpbGVcbnZzZE5vQ29uZmlnPSJ2c2R1cmwiIGlzIG5vdCBjb25maWd1cmVkXG5ydWxlcj1SdWxlclxudW5pdHM9VW5pdHNcbnBvaW50cz1Qb2ludHNcbmluY2hlcz1JbmNoZXNcbm1pbGxpbWV0ZXJzPU1pbGxpbWV0ZXJzXG5jb25mRWRpdERyYWZ0RGVsT3JFeHQ9VGhpcyBkaWFncmFtIGlzIGluIGEgZHJhZnQgcGFnZSwgaXMgZGVsZXRlZCBmcm9tIHRoZSBwYWdlLCBvciBpcyBlZGl0ZWQgZXh0ZXJuYWxseS4gSXQgd2lsbCBiZSBzYXZlZCBhcyBhIG5ldyBhdHRhY2htZW50IHZlcnNpb24gYW5kIG1heSBub3QgYmUgcmVmbGVjdGVkIGluIHRoZSBwYWdlLlxuY29uZkRpYWdFZGl0ZWRFeHQ9RGlhZ3JhbSBpcyBlZGl0ZWQgaW4gYW5vdGhlciBzZXNzaW9uLiBJdCB3aWxsIGJlIHNhdmVkIGFzIGEgbmV3IGF0dGFjaG1lbnQgdmVyc2lvbiBidXQgdGhlIHBhZ2Ugd2lsbCBzaG93IG90aGVyIHNlc3Npb25cJ3MgbW9kaWZpY2F0aW9ucy5cbm1hY3JvTm90Rm91bmQ9TWFjcm8gTm90IEZvdW5kXG5jb25mQUludmFsaWRQYWdlSWRzRm9ybWF0PUluY29ycmVjdCBQYWdlIElEcyBmaWxlIGZvcm1hdFxuY29uZkFDb2xsZWN0aW5nQ3VyUGFnZXM9Q29sbGVjdGluZyBjdXJyZW50IHBhZ2VzXG5jb25mQUJ1aWxkaW5nUGFnZXNNYXA9QnVpbGRpbmcgcGFnZXMgbWFwcGluZ1xuY29uZkFQcm9jZXNzRHJhd0RpYWc9U3RhcnRlZCBwcm9jZXNzaW5nIGltcG9ydGVkIGRyYXcuaW8gZGlhZ3JhbXNcbmNvbmZBUHJvY2Vzc0RyYXdEaWFnRG9uZT1GaW5pc2hlZCBwcm9jZXNzaW5nIGltcG9ydGVkIGRyYXcuaW8gZGlhZ3JhbXNcbmNvbmZBUHJvY2Vzc0ltcFBhZ2VzPVN0YXJ0ZWQgcHJvY2Vzc2luZyBpbXBvcnRlZCBwYWdlc1xuY29uZkFFcnJQcmNzRGlhZ0luUGFnZT1FcnJvciBwcm9jZXNzaW5nIGRyYXcuaW8gZGlhZ3JhbXMgaW4gcGFnZSAiezF9IlxuY29uZkFQcmNzRGlhZ0luUGFnZT1Qcm9jZXNzaW5nIGRyYXcuaW8gZGlhZ3JhbXMgaW4gcGFnZSAiezF9IlxuY29uZkFJbXBEaWFncmFtPUltcG9ydGluZyBkaWFncmFtICJ7MX0iXG5jb25mQUltcERpYWdyYW1GYWlsZWQ9SW1wb3J0aW5nIGRpYWdyYW0gInsxfSIgZmFpbGVkLiBDYW5ub3QgZmluZCBpdHMgbmV3IHBhZ2UgSUQuIE1heWJlIGl0IHBvaW50cyB0byBhIHBhZ2UgdGhhdCBpcyBub3QgaW1wb3J0ZWQuIFxuY29uZkFJbXBEaWFncmFtRXJyb3I9RXJyb3IgaW1wb3J0aW5nIGRpYWdyYW0gInsxfSIuIENhbm5vdCBmZXRjaCBvciBzYXZlIHRoZSBkaWFncmFtLiBDYW5ub3QgZml4IHRoaXMgZGlhZ3JhbSBsaW5rcy5cbmNvbmZBVXBkYXRlRGdybUNDRmFpbGVkPVVwZGF0aW5nIGxpbmsgdG8gZGlhZ3JhbSAiezF9IiBmYWlsZWQuXG5jb25mSW1wRGlhZ3JhbVN1Y2Nlc3M9VXBkYXRpbmcgZGlhZ3JhbSAiezF9IiBkb25lIHN1Y2Nlc3NmdWxseS5cbmNvbmZBTm9MbmtzSW5EcmdtPU5vIGxpbmtzIHRvIHVwZGF0ZSBpbjogezF9XG5jb25mQVVwZGF0ZUxua1RvUGc9VXBkYXRlZCBsaW5rIHRvIHBhZ2U6ICJ7MX0iIGluIGRpYWdyYW06ICJ7Mn0iXG5jb25mQVVwZGF0ZUxCTG5rVG9QZz1VcGRhdGVkIGxpZ2h0Ym94IGxpbmsgdG8gcGFnZTogInsxfSIgaW4gZGlhZ3JhbTogInsyfSJcbmNvbmZBVXBkYXRlTG5rQmFzZT1VcGRhdGVkIGJhc2UgVVJMIGZyb206ICJ7MX0iIHRvOiAiezJ9IiBpbiBkaWFncmFtOiAiezN9IlxuY29uZkFQYWdlSWRzSW1wRG9uZT1QYWdlIElEcyBJbXBvcnQgZmluaXNoZWQuXG5jb25mQVByY3NNYWNyb3NJblBhZ2U9UHJvY2Vzc2luZyBkcmF3LmlvIG1hY3JvcyBpbiBwYWdlICJ7MX0iXG5jb25mQUVyckZldGNoUGFnZT1FcnJvciBmZXRjaGluZyBwYWdlICJ7MX0iXG5jb25mQUZpeGluZ01hY3JvPUZpeGluZyBtYWNybyBvZiBkaWFncmFtICJ7MX0iXG5jb25mQUVyclJlYWRpbmdFeHBGaWxlPUVycm9yIHJlYWRpbmcgZXhwb3J0IGZpbGVcbmNvbmZBUHJjc0RpYWdJblBhZ2VEb25lPVByb2Nlc3NpbmcgZHJhdy5pbyBkaWFncmFtcyBpbiBwYWdlICJ7MX0iIGZpbmlzaGVkXG5jb25mQUZpeGluZ01hY3JvU2tpcHBlZD1GaXhpbmcgbWFjcm8gb2YgZGlhZ3JhbSAiezF9IiBmYWlsZWQuIENhbm5vdCBmaW5kIGl0cyBuZXcgcGFnZSBJRC4gTWF5YmUgaXQgcG9pbnRzIHRvIGEgcGFnZSB0aGF0IGlzIG5vdCBpbXBvcnRlZC4gXG5wYWdlSWRzRXhwVHJnPUV4cG9ydCB0YXJnZXRcbmNvbmZBTHVjaWREaWFnSW1nSW1wb3J0ZWQ9ezJ9IGRpYWdyYW0gInsxfSIgaW1hZ2UgZXh0cmFjdGVkIHN1Y2Nlc3NmdWxseS5cbmNvbmZBU2F2aW5nTHVjaWREaWFnSW1nRmFpbGVkPUV4dHJhY3RpbmcgezJ9IGRpYWdyYW0gInsxfSIgaW1hZ2UgZmFpbGVkLlxuY29uZkdldEluZm9GYWlsZWQ9RmV0Y2hpbmcgZmlsZSBpbmZvIGZyb20gezF9IGZhaWxlZC5cbmNvbmZDaGVja0NhY2hlRmFpbGVkPUNhbm5vdCBnZXQgY2FjaGVkIGZpbGUgaW5mby5cbmNvbmZSZWFkRmlsZUVycj1DYW5ub3QgcmVhZCAiezF9IiBmaWxlIGZyb20gezJ9LlxuY29uZlNhdmVDYWNoZUZhaWxlZD1VbmV4cGVjdGVkIGVycm9yLiBDYW5ub3Qgc2F2ZSBjYWNoZWQgZmlsZVxub3JnQ2hhcnRUeXBlPU9yZyBDaGFydCBUeXBlXG5saW5lYXI9TGluZWFyXG5oYW5nZXIyPUhhbmdlciAyXG5oYW5nZXI0PUhhbmdlciA0XG5maXNoYm9uZTE9RmlzaGJvbmUgMVxuZmlzaGJvbmUyPUZpc2hib25lIDJcbjFDb2x1bW5MZWZ0PVNpbmdsZSBDb2x1bW4gTGVmdFxuMUNvbHVtblJpZ2h0PVNpbmdsZSBDb2x1bW4gUmlnaHRcbnNtYXJ0PVNtYXJ0XG5wYXJlbnRDaGlsZFNwYWNpbmc9UGFyZW50IENoaWxkIFNwYWNpbmdcbnNpYmxpbmdTcGFjaW5nPVNpYmxpbmcgU3BhY2luZ1xuY29uZk5vUGVybUVycj1Tb3JyeSwgeW91IGRvblwndCBoYXZlIGVub3VnaCBwZXJtaXNzaW9ucyB0byB2aWV3IHRoaXMgZW1iZWRkZWQgZGlhZ3JhbSBmcm9tIHBhZ2UgezF9XG5jb3B5QXNJbWFnZT1Db3B5IGFzIEltYWdlXG5sdWNpZEltcG9ydD1MdWNpZGNoYXJ0IEltcG9ydFxubHVjaWRJbXBvcnRJbnN0MT1DbGljayB0aGUgIlN0YXJ0IEltcG9ydCIgYnV0dG9uIHRvIGltcG9ydCBhbGwgTHVjaWRjaGFydCBkaWFncmFtcy5cbmluc3RhbGxGaXJzdD1QbGVhc2UgaW5zdGFsbCB7MX0gZmlyc3QuXG5kcmF3aW9DaHJvbWVFeHQ9ZHJhdy5pbyBDaHJvbWUgRXh0ZW5zaW9uXG5sb2dpbkZpcnN0VGhlbj1QbGVhc2UgbG9naW4gdG8gezF9IGZpcnN0LCB0aGVuIHsyfVxuZXJyRmV0Y2hEb2NMaXN0PUVycm9yOiBDb3VsZG5cJ3QgZmV0Y2ggZG9jdW1lbnRzIGxpc3QuXG4nKTtHcmFwaC5wcm90b3R5cGUuZGVmYXVsdFRoZW1lc1siZGVmYXVsdC1zdHlsZTIiXT1teFV0aWxzLnBhcnNlWG1sKCc8bXhTdHlsZXNoZWV0PjxhZGQgYXM9ImRlZmF1bHRWZXJ0ZXgiPjxhZGQgYXM9InNoYXBlIiB2YWx1ZT0ibGFiZWwiLz48YWRkIGFzPSJwZXJpbWV0ZXIiIHZhbHVlPSJyZWN0YW5nbGVQZXJpbWV0ZXIiLz48YWRkIGFzPSJmb250U2l6ZSIgdmFsdWU9IjEyIi8+PGFkZCBhcz0iZm9udEZhbWlseSIgdmFsdWU9IkhlbHZldGljYSIvPjxhZGQgYXM9ImFsaWduIiB2YWx1ZT0iY2VudGVyIi8+PGFkZCBhcz0idmVydGljYWxBbGlnbiIgdmFsdWU9Im1pZGRsZSIvPjxhZGQgYXM9ImZpbGxDb2xvciIgdmFsdWU9IiNmZmZmZmYiLz48YWRkIGFzPSJzdHJva2VDb2xvciIgdmFsdWU9IiMwMDAwMDAiLz48YWRkIGFzPSJmb250Q29sb3IiIHZhbHVlPSIjMDAwMDAwIi8+PC9hZGQ+PGFkZCBhcz0iZGVmYXVsdEVkZ2UiPjxhZGQgYXM9InNoYXBlIiB2YWx1ZT0iY29ubmVjdG9yIi8+PGFkZCBhcz0ibGFiZWxCYWNrZ3JvdW5kQ29sb3IiIHZhbHVlPSIjZmZmZmZmIi8+PGFkZCBhcz0iZW5kQXJyb3ciIHZhbHVlPSJjbGFzc2ljIi8+PGFkZCBhcz0iZm9udFNpemUiIHZhbHVlPSIxMSIvPjxhZGQgYXM9ImZvbnRGYW1pbHkiIHZhbHVlPSJIZWx2ZXRpY2EiLz48YWRkIGFzPSJhbGlnbiIgdmFsdWU9ImNlbnRlciIvPjxhZGQgYXM9InZlcnRpY2FsQWxpZ24iIHZhbHVlPSJtaWRkbGUiLz48YWRkIGFzPSJyb3VuZGVkIiB2YWx1ZT0iMSIvPjxhZGQgYXM9InN0cm9rZUNvbG9yIiB2YWx1ZT0iIzAwMDAwMCIvPjxhZGQgYXM9ImZvbnRDb2xvciIgdmFsdWU9IiMwMDAwMDAiLz48L2FkZD48YWRkIGFzPSJ0ZXh0Ij48YWRkIGFzPSJmaWxsQ29sb3IiIHZhbHVlPSJub25lIi8+PGFkZCBhcz0iZ3JhZGllbnRDb2xvciIgdmFsdWU9Im5vbmUiLz48YWRkIGFzPSJzdHJva2VDb2xvciIgdmFsdWU9Im5vbmUiLz48YWRkIGFzPSJhbGlnbiIgdmFsdWU9ImxlZnQiLz48YWRkIGFzPSJ2ZXJ0aWNhbEFsaWduIiB2YWx1ZT0idG9wIi8+PC9hZGQ+PGFkZCBhcz0iZWRnZUxhYmVsIiBleHRlbmQ9InRleHQiPjxhZGQgYXM9ImxhYmVsQmFja2dyb3VuZENvbG9yIiB2YWx1ZT0iI2ZmZmZmZiIvPjxhZGQgYXM9ImZvbnRTaXplIiB2YWx1ZT0iMTEiLz48L2FkZD48YWRkIGFzPSJsYWJlbCI+PGFkZCBhcz0iZm9udFN0eWxlIiB2YWx1ZT0iMSIvPjxhZGQgYXM9ImFsaWduIiB2YWx1ZT0ibGVmdCIvPjxhZGQgYXM9InZlcnRpY2FsQWxpZ24iIHZhbHVlPSJtaWRkbGUiLz48YWRkIGFzPSJzcGFjaW5nIiB2YWx1ZT0iMiIvPjxhZGQgYXM9InNwYWNpbmdMZWZ0IiB2YWx1ZT0iNTIiLz48YWRkIGFzPSJpbWFnZVdpZHRoIiB2YWx1ZT0iNDIiLz48YWRkIGFzPSJpbWFnZUhlaWdodCIgdmFsdWU9IjQyIi8+PGFkZCBhcz0icm91bmRlZCIgdmFsdWU9IjEiLz48L2FkZD48YWRkIGFzPSJpY29uIiBleHRlbmQ9ImxhYmVsIj48YWRkIGFzPSJhbGlnbiIgdmFsdWU9ImNlbnRlciIvPjxhZGQgYXM9ImltYWdlQWxpZ24iIHZhbHVlPSJjZW50ZXIiLz48YWRkIGFzPSJ2ZXJ0aWNhbExhYmVsUG9zaXRpb24iIHZhbHVlPSJib3R0b20iLz48YWRkIGFzPSJ2ZXJ0aWNhbEFsaWduIiB2YWx1ZT0idG9wIi8+PGFkZCBhcz0ic3BhY2luZ1RvcCIgdmFsdWU9IjQiLz48YWRkIGFzPSJsYWJlbEJhY2tncm91bmRDb2xvciIgdmFsdWU9IiNmZmZmZmYiLz48YWRkIGFzPSJzcGFjaW5nIiB2YWx1ZT0iMCIvPjxhZGQgYXM9InNwYWNpbmdMZWZ0IiB2YWx1ZT0iMCIvPjxhZGQgYXM9InNwYWNpbmdUb3AiIHZhbHVlPSI2Ii8+PGFkZCBhcz0iZm9udFN0eWxlIiB2YWx1ZT0iMCIvPjxhZGQgYXM9ImltYWdlV2lkdGgiIHZhbHVlPSI0OCIvPjxhZGQgYXM9ImltYWdlSGVpZ2h0IiB2YWx1ZT0iNDgiLz48L2FkZD48YWRkIGFzPSJzd2ltbGFuZSI+PGFkZCBhcz0ic2hhcGUiIHZhbHVlPSJzd2ltbGFuZSIvPjxhZGQgYXM9ImZvbnRTaXplIiB2YWx1ZT0iMTIiLz48YWRkIGFzPSJmb250U3R5bGUiIHZhbHVlPSIxIi8+PGFkZCBhcz0ic3RhcnRTaXplIiB2YWx1ZT0iMjMiLz48L2FkZD48YWRkIGFzPSJncm91cCI+PGFkZCBhcz0idmVydGljYWxBbGlnbiIgdmFsdWU9InRvcCIvPjxhZGQgYXM9ImZpbGxDb2xvciIgdmFsdWU9Im5vbmUiLz48YWRkIGFzPSJzdHJva2VDb2xvciIgdmFsdWU9Im5vbmUiLz48YWRkIGFzPSJncmFkaWVudENvbG9yIiB2YWx1ZT0ibm9uZSIvPjxhZGQgYXM9InBvaW50ZXJFdmVudHMiIHZhbHVlPSIwIi8+PC9hZGQ+PGFkZCBhcz0iZWxsaXBzZSI+PGFkZCBhcz0ic2hhcGUiIHZhbHVlPSJlbGxpcHNlIi8+PGFkZCBhcz0icGVyaW1ldGVyIiB2YWx1ZT0iZWxsaXBzZVBlcmltZXRlciIvPjwvYWRkPjxhZGQgYXM9InJob21idXMiPjxhZGQgYXM9InNoYXBlIiB2YWx1ZT0icmhvbWJ1cyIvPjxhZGQgYXM9InBlcmltZXRlciIgdmFsdWU9InJob21idXNQZXJpbWV0ZXIiLz48L2FkZD48YWRkIGFzPSJ0cmlhbmdsZSI+PGFkZCBhcz0ic2hhcGUiIHZhbHVlPSJ0cmlhbmdsZSIvPjxhZGQgYXM9InBlcmltZXRlciIgdmFsdWU9InRyaWFuZ2xlUGVyaW1ldGVyIi8+PC9hZGQ+PGFkZCBhcz0ibGluZSI+PGFkZCBhcz0ic2hhcGUiIHZhbHVlPSJsaW5lIi8+PGFkZCBhcz0ic3Ryb2tlV2lkdGgiIHZhbHVlPSI0Ii8+PGFkZCBhcz0ibGFiZWxCYWNrZ3JvdW5kQ29sb3IiIHZhbHVlPSIjZmZmZmZmIi8+PGFkZCBhcz0idmVydGljYWxBbGlnbiIgdmFsdWU9InRvcCIvPjxhZGQgYXM9InNwYWNpbmdUb3AiIHZhbHVlPSI4Ii8+PC9hZGQ+PGFkZCBhcz0iaW1hZ2UiPjxhZGQgYXM9InNoYXBlIiB2YWx1ZT0iaW1hZ2UiLz48YWRkIGFzPSJsYWJlbEJhY2tncm91bmRDb2xvciIgdmFsdWU9IndoaXRlIi8+PGFkZCBhcz0idmVydGljYWxBbGlnbiIgdmFsdWU9InRvcCIvPjxhZGQgYXM9InZlcnRpY2FsTGFiZWxQb3NpdGlvbiIgdmFsdWU9ImJvdHRvbSIvPjwvYWRkPjxhZGQgYXM9InJvdW5kSW1hZ2UiIGV4dGVuZD0iaW1hZ2UiPjxhZGQgYXM9InBlcmltZXRlciIgdmFsdWU9ImVsbGlwc2VQZXJpbWV0ZXIiLz48L2FkZD48YWRkIGFzPSJyaG9tYnVzSW1hZ2UiIGV4dGVuZD0iaW1hZ2UiPjxhZGQgYXM9InBlcmltZXRlciIgdmFsdWU9InJob21idXNQZXJpbWV0ZXIiLz48L2FkZD48YWRkIGFzPSJhcnJvdyI+PGFkZCBhcz0ic2hhcGUiIHZhbHVlPSJhcnJvdyIvPjxhZGQgYXM9ImVkZ2VTdHlsZSIgdmFsdWU9Im5vbmUiLz48YWRkIGFzPSJmaWxsQ29sb3IiIHZhbHVlPSIjZmZmZmZmIi8+PC9hZGQ+PGFkZCBhcz0iZmFuY3kiPjxhZGQgYXM9InNoYWRvdyIgdmFsdWU9IjEiLz48YWRkIGFzPSJnbGFzcyIgdmFsdWU9IjEiLz48L2FkZD48YWRkIGFzPSJncmF5IiBleHRlbmQ9ImZhbmN5Ij48YWRkIGFzPSJncmFkaWVudENvbG9yIiB2YWx1ZT0iI0IzQjNCMyIvPjxhZGQgYXM9ImZpbGxDb2xvciIgdmFsdWU9IiNGNUY1RjUiLz48YWRkIGFzPSJzdHJva2VDb2xvciIgdmFsdWU9IiM2NjY2NjYiLz48L2FkZD48YWRkIGFzPSJibHVlIiBleHRlbmQ9ImZhbmN5Ij48YWRkIGFzPSJncmFkaWVudENvbG9yIiB2YWx1ZT0iIzdFQTZFMCIvPjxhZGQgYXM9ImZpbGxDb2xvciIgdmFsdWU9IiNEQUU4RkMiLz48YWRkIGFzPSJzdHJva2VDb2xvciIgdmFsdWU9IiM2QzhFQkYiLz48L2FkZD48YWRkIGFzPSJncmVlbiIgZXh0ZW5kPSJmYW5jeSI+PGFkZCBhcz0iZ3JhZGllbnRDb2xvciIgdmFsdWU9IiM5N0QwNzciLz48YWRkIGFzPSJmaWxsQ29sb3IiIHZhbHVlPSIjRDVFOEQ0Ii8+PGFkZCBhcz0ic3Ryb2tlQ29sb3IiIHZhbHVlPSIjODJCMzY2Ii8+PC9hZGQ+PGFkZCBhcz0idHVycXVvaXNlIiBleHRlbmQ9ImZhbmN5Ij48YWRkIGFzPSJncmFkaWVudENvbG9yIiB2YWx1ZT0iIzY3QUI5RiIvPjxhZGQgYXM9ImZpbGxDb2xvciIgdmFsdWU9IiNENUU4RDQiLz48YWRkIGFzPSJzdHJva2VDb2xvciIgdmFsdWU9IiM2QTkxNTMiLz48L2FkZD48YWRkIGFzPSJ5ZWxsb3ciIGV4dGVuZD0iZmFuY3kiPjxhZGQgYXM9ImdyYWRpZW50Q29sb3IiIHZhbHVlPSIjRkZEOTY2Ii8+PGFkZCBhcz0iZmlsbENvbG9yIiB2YWx1ZT0iI0ZGRjJDQyIvPjxhZGQgYXM9InN0cm9rZUNvbG9yIiB2YWx1ZT0iI0Q2QjY1NiIvPjwvYWRkPjxhZGQgYXM9Im9yYW5nZSIgZXh0ZW5kPSJmYW5jeSI+PGFkZCBhcz0iZ3JhZGllbnRDb2xvciIgdmFsdWU9IiNGRkE1MDAiLz48YWRkIGFzPSJmaWxsQ29sb3IiIHZhbHVlPSIjRkZDRDI4Ii8+PGFkZCBhcz0ic3Ryb2tlQ29sb3IiIHZhbHVlPSIjRDc5QjAwIi8+PC9hZGQ+PGFkZCBhcz0icmVkIiBleHRlbmQ9ImZhbmN5Ij48YWRkIGFzPSJncmFkaWVudENvbG9yIiB2YWx1ZT0iI0VBNkI2NiIvPjxhZGQgYXM9ImZpbGxDb2xvciIgdmFsdWU9IiNGOENFQ0MiLz48YWRkIGFzPSJzdHJva2VDb2xvciIgdmFsdWU9IiNCODU0NTAiLz48L2FkZD48YWRkIGFzPSJwaW5rIiBleHRlbmQ9ImZhbmN5Ij48YWRkIGFzPSJncmFkaWVudENvbG9yIiB2YWx1ZT0iI0I1NzM5RCIvPjxhZGQgYXM9ImZpbGxDb2xvciIgdmFsdWU9IiNFNkQwREUiLz48YWRkIGFzPSJzdHJva2VDb2xvciIgdmFsdWU9IiM5OTYxODUiLz48L2FkZD48YWRkIGFzPSJwdXJwbGUiIGV4dGVuZD0iZmFuY3kiPjxhZGQgYXM9ImdyYWRpZW50Q29sb3IiIHZhbHVlPSIjOEM2QzlDIi8+PGFkZCBhcz0iZmlsbENvbG9yIiB2YWx1ZT0iI0UxRDVFNyIvPjxhZGQgYXM9InN0cm9rZUNvbG9yIiB2YWx1ZT0iIzk2NzNBNiIvPjwvYWRkPjxhZGQgYXM9InBsYWluLWdyYXkiPjxhZGQgYXM9ImdyYWRpZW50Q29sb3IiIHZhbHVlPSIjQjNCM0IzIi8+PGFkZCBhcz0iZmlsbENvbG9yIiB2YWx1ZT0iI0Y1RjVGNSIvPjxhZGQgYXM9InN0cm9rZUNvbG9yIiB2YWx1ZT0iIzY2NjY2NiIvPjwvYWRkPjxhZGQgYXM9InBsYWluLWJsdWUiPjxhZGQgYXM9ImdyYWRpZW50Q29sb3IiIHZhbHVlPSIjN0VBNkUwIi8+PGFkZCBhcz0iZmlsbENvbG9yIiB2YWx1ZT0iI0RBRThGQyIvPjxhZGQgYXM9InN0cm9rZUNvbG9yIiB2YWx1ZT0iIzZDOEVCRiIvPjwvYWRkPjxhZGQgYXM9InBsYWluLWdyZWVuIj48YWRkIGFzPSJncmFkaWVudENvbG9yIiB2YWx1ZT0iIzk3RDA3NyIvPjxhZGQgYXM9ImZpbGxDb2xvciIgdmFsdWU9IiNENUU4RDQiLz48YWRkIGFzPSJzdHJva2VDb2xvciIgdmFsdWU9IiM4MkIzNjYiLz48L2FkZD48YWRkIGFzPSJwbGFpbi10dXJxdW9pc2UiPjxhZGQgYXM9ImdyYWRpZW50Q29sb3IiIHZhbHVlPSIjNjdBQjlGIi8+PGFkZCBhcz0iZmlsbENvbG9yIiB2YWx1ZT0iI0Q1RThENCIvPjxhZGQgYXM9InN0cm9rZUNvbG9yIiB2YWx1ZT0iIzZBOTE1MyIvPjwvYWRkPjxhZGQgYXM9InBsYWluLXllbGxvdyI+PGFkZCBhcz0iZ3JhZGllbnRDb2xvciIgdmFsdWU9IiNGRkQ5NjYiLz48YWRkIGFzPSJmaWxsQ29sb3IiIHZhbHVlPSIjRkZGMkNDIi8+PGFkZCBhcz0ic3Ryb2tlQ29sb3IiIHZhbHVlPSIjRDZCNjU2Ii8+PC9hZGQ+PGFkZCBhcz0icGxhaW4tb3JhbmdlIj48YWRkIGFzPSJncmFkaWVudENvbG9yIiB2YWx1ZT0iI0ZGQTUwMCIvPjxhZGQgYXM9ImZpbGxDb2xvciIgdmFsdWU9IiNGRkNEMjgiLz48YWRkIGFzPSJzdHJva2VDb2xvciIgdmFsdWU9IiNENzlCMDAiLz48L2FkZD48YWRkIGFzPSJwbGFpbi1yZWQiPjxhZGQgYXM9ImdyYWRpZW50Q29sb3IiIHZhbHVlPSIjRUE2QjY2Ii8+PGFkZCBhcz0iZmlsbENvbG9yIiB2YWx1ZT0iI0Y4Q0VDQyIvPjxhZGQgYXM9InN0cm9rZUNvbG9yIiB2YWx1ZT0iI0I4NTQ1MCIvPjwvYWRkPjxhZGQgYXM9InBsYWluLXBpbmsiPjxhZGQgYXM9ImdyYWRpZW50Q29sb3IiIHZhbHVlPSIjQjU3MzlEIi8+PGFkZCBhcz0iZmlsbENvbG9yIiB2YWx1ZT0iI0U2RDBERSIvPjxhZGQgYXM9InN0cm9rZUNvbG9yIiB2YWx1ZT0iIzk5NjE4NSIvPjwvYWRkPjxhZGQgYXM9InBsYWluLXB1cnBsZSI+PGFkZCBhcz0iZ3JhZGllbnRDb2xvciIgdmFsdWU9IiM4QzZDOUMiLz48YWRkIGFzPSJmaWxsQ29sb3IiIHZhbHVlPSIjRTFENUU3Ii8+PGFkZCBhcz0ic3Ryb2tlQ29sb3IiIHZhbHVlPSIjOTY3M0E2Ii8+PC9hZGQ+PC9teFN0eWxlc2hlZXQ+JykuZG9jdW1lbnRFbGVtZW50OwpHcmFwaC5wcm90b3R5cGUuZGVmYXVsdFRoZW1lcy5kYXJrVGhlbWU9bXhVdGlscy5wYXJzZVhtbCgnPG14U3R5bGVzaGVldD48YWRkIGFzPSJkZWZhdWx0VmVydGV4Ij48YWRkIGFzPSJzaGFwZSIgdmFsdWU9ImxhYmVsIi8+PGFkZCBhcz0icGVyaW1ldGVyIiB2YWx1ZT0icmVjdGFuZ2xlUGVyaW1ldGVyIi8+PGFkZCBhcz0iZm9udFNpemUiIHZhbHVlPSIxMiIvPjxhZGQgYXM9ImZvbnRGYW1pbHkiIHZhbHVlPSJIZWx2ZXRpY2EiLz48YWRkIGFzPSJhbGlnbiIgdmFsdWU9ImNlbnRlciIvPjxhZGQgYXM9InZlcnRpY2FsQWxpZ24iIHZhbHVlPSJtaWRkbGUiLz48YWRkIGFzPSJmaWxsQ29sb3IiIHZhbHVlPSIjMmEyYTJhIi8+PGFkZCBhcz0ic3Ryb2tlQ29sb3IiIHZhbHVlPSIjZjBmMGYwIi8+PGFkZCBhcz0iZm9udENvbG9yIiB2YWx1ZT0iI2YwZjBmMCIvPjwvYWRkPjxhZGQgYXM9ImRlZmF1bHRFZGdlIj48YWRkIGFzPSJzaGFwZSIgdmFsdWU9ImNvbm5lY3RvciIvPjxhZGQgYXM9ImxhYmVsQmFja2dyb3VuZENvbG9yIiB2YWx1ZT0iIzJhMmEyYSIvPjxhZGQgYXM9ImVuZEFycm93IiB2YWx1ZT0iY2xhc3NpYyIvPjxhZGQgYXM9ImZvbnRTaXplIiB2YWx1ZT0iMTEiLz48YWRkIGFzPSJmb250RmFtaWx5IiB2YWx1ZT0iSGVsdmV0aWNhIi8+PGFkZCBhcz0iYWxpZ24iIHZhbHVlPSJjZW50ZXIiLz48YWRkIGFzPSJ2ZXJ0aWNhbEFsaWduIiB2YWx1ZT0ibWlkZGxlIi8+PGFkZCBhcz0icm91bmRlZCIgdmFsdWU9IjEiLz48YWRkIGFzPSJzdHJva2VDb2xvciIgdmFsdWU9IiNmMGYwZjAiLz48YWRkIGFzPSJmb250Q29sb3IiIHZhbHVlPSIjZjBmMGYwIi8+PC9hZGQ+PGFkZCBhcz0idGV4dCI+PGFkZCBhcz0iZmlsbENvbG9yIiB2YWx1ZT0ibm9uZSIvPjxhZGQgYXM9ImdyYWRpZW50Q29sb3IiIHZhbHVlPSJub25lIi8+PGFkZCBhcz0ic3Ryb2tlQ29sb3IiIHZhbHVlPSJub25lIi8+PGFkZCBhcz0iYWxpZ24iIHZhbHVlPSJsZWZ0Ii8+PGFkZCBhcz0idmVydGljYWxBbGlnbiIgdmFsdWU9InRvcCIvPjwvYWRkPjxhZGQgYXM9ImVkZ2VMYWJlbCIgZXh0ZW5kPSJ0ZXh0Ij48YWRkIGFzPSJsYWJlbEJhY2tncm91bmRDb2xvciIgdmFsdWU9IiMyYTJhMmEiLz48YWRkIGFzPSJmb250U2l6ZSIgdmFsdWU9IjExIi8+PC9hZGQ+PGFkZCBhcz0ibGFiZWwiPjxhZGQgYXM9ImZvbnRTdHlsZSIgdmFsdWU9IjEiLz48YWRkIGFzPSJhbGlnbiIgdmFsdWU9ImxlZnQiLz48YWRkIGFzPSJ2ZXJ0aWNhbEFsaWduIiB2YWx1ZT0ibWlkZGxlIi8+PGFkZCBhcz0ic3BhY2luZyIgdmFsdWU9IjIiLz48YWRkIGFzPSJzcGFjaW5nTGVmdCIgdmFsdWU9IjUyIi8+PGFkZCBhcz0iaW1hZ2VXaWR0aCIgdmFsdWU9IjQyIi8+PGFkZCBhcz0iaW1hZ2VIZWlnaHQiIHZhbHVlPSI0MiIvPjxhZGQgYXM9InJvdW5kZWQiIHZhbHVlPSIxIi8+PC9hZGQ+PGFkZCBhcz0iaWNvbiIgZXh0ZW5kPSJsYWJlbCI+PGFkZCBhcz0iYWxpZ24iIHZhbHVlPSJjZW50ZXIiLz48YWRkIGFzPSJpbWFnZUFsaWduIiB2YWx1ZT0iY2VudGVyIi8+PGFkZCBhcz0idmVydGljYWxMYWJlbFBvc2l0aW9uIiB2YWx1ZT0iYm90dG9tIi8+PGFkZCBhcz0idmVydGljYWxBbGlnbiIgdmFsdWU9InRvcCIvPjxhZGQgYXM9InNwYWNpbmdUb3AiIHZhbHVlPSI0Ii8+PGFkZCBhcz0ibGFiZWxCYWNrZ3JvdW5kQ29sb3IiIHZhbHVlPSIjMmEyYTJhIi8+PGFkZCBhcz0ic3BhY2luZyIgdmFsdWU9IjAiLz48YWRkIGFzPSJzcGFjaW5nTGVmdCIgdmFsdWU9IjAiLz48YWRkIGFzPSJzcGFjaW5nVG9wIiB2YWx1ZT0iNiIvPjxhZGQgYXM9ImZvbnRTdHlsZSIgdmFsdWU9IjAiLz48YWRkIGFzPSJpbWFnZVdpZHRoIiB2YWx1ZT0iNDgiLz48YWRkIGFzPSJpbWFnZUhlaWdodCIgdmFsdWU9IjQ4Ii8+PC9hZGQ+PGFkZCBhcz0ic3dpbWxhbmUiPjxhZGQgYXM9InNoYXBlIiB2YWx1ZT0ic3dpbWxhbmUiLz48YWRkIGFzPSJmb250U2l6ZSIgdmFsdWU9IjEyIi8+PGFkZCBhcz0iZm9udFN0eWxlIiB2YWx1ZT0iMSIvPjxhZGQgYXM9InN0YXJ0U2l6ZSIgdmFsdWU9IjIzIi8+PC9hZGQ+PGFkZCBhcz0iZ3JvdXAiPjxhZGQgYXM9InZlcnRpY2FsQWxpZ24iIHZhbHVlPSJ0b3AiLz48YWRkIGFzPSJmaWxsQ29sb3IiIHZhbHVlPSJub25lIi8+PGFkZCBhcz0ic3Ryb2tlQ29sb3IiIHZhbHVlPSJub25lIi8+PGFkZCBhcz0iZ3JhZGllbnRDb2xvciIgdmFsdWU9Im5vbmUiLz48YWRkIGFzPSJwb2ludGVyRXZlbnRzIiB2YWx1ZT0iMCIvPjwvYWRkPjxhZGQgYXM9ImVsbGlwc2UiPjxhZGQgYXM9InNoYXBlIiB2YWx1ZT0iZWxsaXBzZSIvPjxhZGQgYXM9InBlcmltZXRlciIgdmFsdWU9ImVsbGlwc2VQZXJpbWV0ZXIiLz48L2FkZD48YWRkIGFzPSJyaG9tYnVzIj48YWRkIGFzPSJzaGFwZSIgdmFsdWU9InJob21idXMiLz48YWRkIGFzPSJwZXJpbWV0ZXIiIHZhbHVlPSJyaG9tYnVzUGVyaW1ldGVyIi8+PC9hZGQ+PGFkZCBhcz0idHJpYW5nbGUiPjxhZGQgYXM9InNoYXBlIiB2YWx1ZT0idHJpYW5nbGUiLz48YWRkIGFzPSJwZXJpbWV0ZXIiIHZhbHVlPSJ0cmlhbmdsZVBlcmltZXRlciIvPjwvYWRkPjxhZGQgYXM9ImxpbmUiPjxhZGQgYXM9InNoYXBlIiB2YWx1ZT0ibGluZSIvPjxhZGQgYXM9InN0cm9rZVdpZHRoIiB2YWx1ZT0iNCIvPjxhZGQgYXM9ImxhYmVsQmFja2dyb3VuZENvbG9yIiB2YWx1ZT0iIzJhMmEyYSIvPjxhZGQgYXM9InZlcnRpY2FsQWxpZ24iIHZhbHVlPSJ0b3AiLz48YWRkIGFzPSJzcGFjaW5nVG9wIiB2YWx1ZT0iOCIvPjwvYWRkPjxhZGQgYXM9ImltYWdlIj48YWRkIGFzPSJzaGFwZSIgdmFsdWU9ImltYWdlIi8+PGFkZCBhcz0ibGFiZWxCYWNrZ3JvdW5kQ29sb3IiIHZhbHVlPSIjMmEyYTJhIi8+PGFkZCBhcz0idmVydGljYWxBbGlnbiIgdmFsdWU9InRvcCIvPjxhZGQgYXM9InZlcnRpY2FsTGFiZWxQb3NpdGlvbiIgdmFsdWU9ImJvdHRvbSIvPjwvYWRkPjxhZGQgYXM9InJvdW5kSW1hZ2UiIGV4dGVuZD0iaW1hZ2UiPjxhZGQgYXM9InBlcmltZXRlciIgdmFsdWU9ImVsbGlwc2VQZXJpbWV0ZXIiLz48L2FkZD48YWRkIGFzPSJyaG9tYnVzSW1hZ2UiIGV4dGVuZD0iaW1hZ2UiPjxhZGQgYXM9InBlcmltZXRlciIgdmFsdWU9InJob21idXNQZXJpbWV0ZXIiLz48L2FkZD48YWRkIGFzPSJhcnJvdyI+PGFkZCBhcz0ic2hhcGUiIHZhbHVlPSJhcnJvdyIvPjxhZGQgYXM9ImVkZ2VTdHlsZSIgdmFsdWU9Im5vbmUiLz48YWRkIGFzPSJmaWxsQ29sb3IiIHZhbHVlPSIjMmEyYTJhIi8+PC9hZGQ+PC9teFN0eWxlc2hlZXQ+JykuZG9jdW1lbnRFbGVtZW50O0dyYXBoVmlld2VyPWZ1bmN0aW9uKGEsYyxmKXt0aGlzLmluaXQoYSxjLGYpfTtteFV0aWxzLmV4dGVuZChHcmFwaFZpZXdlcixteEV2ZW50U291cmNlKTtHcmFwaFZpZXdlci5wcm90b3R5cGUuZWRpdEJsYW5rVXJsPSJodHRwczovL2FwcC5kaWFncmFtcy5uZXQvIjtHcmFwaFZpZXdlci5wcm90b3R5cGUuaW1hZ2VCYXNlVXJsPSJodHRwczovL2FwcC5kaWFncmFtcy5uZXQvIjtHcmFwaFZpZXdlci5wcm90b3R5cGUudG9vbGJhckhlaWdodD0iQmFja0NvbXBhdCI9PWRvY3VtZW50LmNvbXBhdE1vZGU/Mjg6MzA7R3JhcGhWaWV3ZXIucHJvdG90eXBlLmxpZ2h0Ym94Q2hyb21lPSEwO0dyYXBoVmlld2VyLnByb3RvdHlwZS5saWdodGJveFpJbmRleD05OTk7R3JhcGhWaWV3ZXIucHJvdG90eXBlLnRvb2xiYXJaSW5kZXg9OTk5O0dyYXBoVmlld2VyLnByb3RvdHlwZS5hdXRvRml0PSEwO0dyYXBoVmlld2VyLnByb3RvdHlwZS5jZW50ZXI9ITE7CkdyYXBoVmlld2VyLnByb3RvdHlwZS5hbGxvd1pvb21Jbj0hMTtHcmFwaFZpZXdlci5wcm90b3R5cGUuc2hvd1RpdGxlQXNUb29sdGlwPSExO0dyYXBoVmlld2VyLnByb3RvdHlwZS5jaGVja1Zpc2libGVTdGF0ZT0hMDtHcmFwaFZpZXdlci5wcm90b3R5cGUubWluSGVpZ2h0PTI4O0dyYXBoVmlld2VyLnByb3RvdHlwZS5taW5XaWR0aD0xMDA7CkdyYXBoVmlld2VyLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKGEsYyxmKXt0aGlzLmdyYXBoQ29uZmlnPW51bGwhPWY/Zjp7fTt0aGlzLmF1dG9GaXQ9bnVsbCE9dGhpcy5ncmFwaENvbmZpZ1siYXV0by1maXQiXT90aGlzLmdyYXBoQ29uZmlnWyJhdXRvLWZpdCJdOnRoaXMuYXV0b0ZpdDt0aGlzLmFsbG93Wm9vbUluPW51bGwhPXRoaXMuZ3JhcGhDb25maWdbImFsbG93LXpvb20taW4iXT90aGlzLmdyYXBoQ29uZmlnWyJhbGxvdy16b29tLWluIl06dGhpcy5hbGxvd1pvb21Jbjt0aGlzLmNlbnRlcj1udWxsIT10aGlzLmdyYXBoQ29uZmlnLmNlbnRlcj90aGlzLmdyYXBoQ29uZmlnLmNlbnRlcjp0aGlzLmNlbnRlcjt0aGlzLmNoZWNrVmlzaWJsZVN0YXRlPW51bGwhPXRoaXMuZ3JhcGhDb25maWdbImNoZWNrLXZpc2libGUtc3RhdGUiXT90aGlzLmdyYXBoQ29uZmlnWyJjaGVjay12aXNpYmxlLXN0YXRlIl06dGhpcy5jaGVja1Zpc2libGVTdGF0ZTt0aGlzLnRvb2xiYXJJdGVtcz1udWxsIT0KdGhpcy5ncmFwaENvbmZpZy50b29sYmFyP3RoaXMuZ3JhcGhDb25maWcudG9vbGJhci5zcGxpdCgiICIpOltdO3RoaXMuem9vbUVuYWJsZWQ9MDw9bXhVdGlscy5pbmRleE9mKHRoaXMudG9vbGJhckl0ZW1zLCJ6b29tIik7dGhpcy5sYXllcnNFbmFibGVkPTA8PW14VXRpbHMuaW5kZXhPZih0aGlzLnRvb2xiYXJJdGVtcywibGF5ZXJzIik7dGhpcy5saWdodGJveEVuYWJsZWQ9MDw9bXhVdGlscy5pbmRleE9mKHRoaXMudG9vbGJhckl0ZW1zLCJsaWdodGJveCIpO3RoaXMubGlnaHRib3hDbGlja0VuYWJsZWQ9MCE9dGhpcy5ncmFwaENvbmZpZy5saWdodGJveDt0aGlzLmluaXRpYWxXaWR0aD1udWxsIT1hP2Euc3R5bGUud2lkdGg6bnVsbDt0aGlzLndpZHRoSXNFbXB0eT1udWxsIT10aGlzLmluaXRpYWxXaWR0aD8iIj09dGhpcy5pbml0aWFsV2lkdGg6ITA7dGhpcy5jdXJyZW50UGFnZT1wYXJzZUludCh0aGlzLmdyYXBoQ29uZmlnLnBhZ2UpfHwwO3RoaXMucGFnZUlkPXRoaXMuZ3JhcGhDb25maWcucGFnZUlkOwp0aGlzLmVkaXRvcj1udWxsOyJpbmxpbmUiPT10aGlzLmdyYXBoQ29uZmlnWyJ0b29sYmFyLXBvc2l0aW9uIl0mJih0aGlzLm1pbkhlaWdodCs9dGhpcy50b29sYmFySGVpZ2h0KTtpZihudWxsIT1jJiYodGhpcy54bWxEb2N1bWVudD1jLm93bmVyRG9jdW1lbnQsdGhpcy54bWxOb2RlPWMsdGhpcy54bWw9bXhVdGlscy5nZXRYbWwoYyksbnVsbCE9YSkpe3ZhciBkPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dGhpcy5ncmFwaD1uZXcgR3JhcGgoYSk7dGhpcy5ncmFwaC5kZWZhdWx0UGFnZUJhY2tncm91bmRDb2xvcj0idHJhbnNwYXJlbnQiO3RoaXMuZ3JhcGgudHJhbnNwYXJlbnRCYWNrZ3JvdW5kPSExO3RoaXMuZ3JhcGhDb25maWcubW92ZSYmKHRoaXMuZ3JhcGguaXNNb3ZlQ2VsbHNFdmVudD1mdW5jdGlvbihhKXtyZXR1cm4hMH0pO3RoaXMubGlnaHRib3hDbGlja0VuYWJsZWQmJihhLnN0eWxlLmN1cnNvcj0icG9pbnRlciIpO3RoaXMuZWRpdG9yPW5ldyBFZGl0b3IoITAsCm51bGwsbnVsbCx0aGlzLmdyYXBoKTt0aGlzLmVkaXRvci5lZGl0QmxhbmtVcmw9dGhpcy5lZGl0QmxhbmtVcmw7dGhpcy5ncmFwaC5saWdodGJveD0hMDt0aGlzLmdyYXBoLmNlbnRlclpvb209ITE7dGhpcy5ncmFwaC5hdXRvRXh0ZW5kPSExO3RoaXMuZ3JhcGguYXV0b1Njcm9sbD0hMTt0aGlzLmdyYXBoLnNldEVuYWJsZWQoITEpOzE9PXRoaXMuZ3JhcGhDb25maWdbInRvb2xiYXItbm9oaWRlIl0mJih0aGlzLmVkaXRvci5kZWZhdWx0R3JhcGhPdmVyZmxvdz0idmlzaWJsZSIpO3RoaXMueG1sTm9kZT10aGlzLmVkaXRvci5leHRyYWN0R3JhcGhNb2RlbCh0aGlzLnhtbE5vZGUsITApO3RoaXMueG1sTm9kZSE9YyYmKHRoaXMueG1sPW14VXRpbHMuZ2V0WG1sKHRoaXMueG1sTm9kZSksdGhpcy54bWxEb2N1bWVudD10aGlzLnhtbE5vZGUub3duZXJEb2N1bWVudCk7dmFyIGQ9dGhpczt0aGlzLmdyYXBoLmdldEltYWdlRnJvbUJ1bmRsZXM9ZnVuY3Rpb24oYSl7cmV0dXJuIGQuZ2V0SW1hZ2VVcmwoYSl9OwpteENsaWVudC5JU19TVkcmJnRoaXMuZ3JhcGguYWRkU3ZnU2hhZG93KHRoaXMuZ3JhcGgudmlldy5jYW52YXMub3duZXJTVkdFbGVtZW50LG51bGwsITApO2lmKCJteGZpbGUiPT10aGlzLnhtbE5vZGUubm9kZU5hbWUpe3ZhciBiPXRoaXMueG1sTm9kZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiZGlhZ3JhbSIpO2lmKDA8Yi5sZW5ndGgpe2lmKG51bGwhPXRoaXMucGFnZUlkKWZvcih2YXIgZT0wO2U8Yi5sZW5ndGg7ZSsrKWlmKHRoaXMucGFnZUlkPT1iW2VdLmdldEF0dHJpYnV0ZSgiaWQiKSl7dGhpcy5jdXJyZW50UGFnZT1lO2JyZWFrfXZhciBmPXRoaXMuZ3JhcGguZ2V0R2xvYmFsVmFyaWFibGUsZD10aGlzO3RoaXMuZ3JhcGguZ2V0R2xvYmFsVmFyaWFibGU9ZnVuY3Rpb24oYSl7dmFyIGM9YltkLmN1cnJlbnRQYWdlXTtyZXR1cm4icGFnZSI9PWE/Yy5nZXRBdHRyaWJ1dGUoIm5hbWUiKXx8IlBhZ2UtIisoZC5jdXJyZW50UGFnZSsxKToicGFnZW51bWJlciI9PWE/ZC5jdXJyZW50UGFnZSsKMToicGFnZWNvdW50Ij09YT9iLmxlbmd0aDpmLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19fXRoaXMuZGlhZ3JhbXM9W107dmFyIGs9bnVsbDt0aGlzLnNlbGVjdFBhZ2U9ZnVuY3Rpb24oYSl7dGhpcy5oYW5kbGluZ1Jlc2l6ZXx8KHRoaXMuY3VycmVudFBhZ2U9bXhVdGlscy5tb2QoYSx0aGlzLmRpYWdyYW1zLmxlbmd0aCksdGhpcy51cGRhdGVHcmFwaFhtbChFZGl0b3IucGFyc2VEaWFncmFtTm9kZSh0aGlzLmRpYWdyYW1zW3RoaXMuY3VycmVudFBhZ2VdKSkpfTt0aGlzLnNlbGVjdFBhZ2VCeUlkPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0hMSxjPTA7Yzx0aGlzLmRpYWdyYW1zLmxlbmd0aDtjKyspaWYodGhpcy5kaWFncmFtc1tjXS5nZXRBdHRyaWJ1dGUoImlkIik9PWEpe3RoaXMuc2VsZWN0UGFnZShjKTtiPSEwO2JyZWFrfXJldHVybiBifTtlPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7aWYobnVsbD09dGhpcy54bWxOb2RlfHwibXhmaWxlIiE9dGhpcy54bWxOb2RlLm5vZGVOYW1lKXRoaXMuZGlhZ3JhbXM9CltdO3RoaXMueG1sTm9kZSE9ayYmKHRoaXMuZGlhZ3JhbXM9dGhpcy54bWxOb2RlLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJkaWFncmFtIiksaz10aGlzLnhtbE5vZGUpfSk7dGhpcy5hZGRMaXN0ZW5lcigieG1sTm9kZUNoYW5nZWQiLGUpO2UoKTt1cmxQYXJhbXMucGFnZT1kLmN1cnJlbnRQYWdlO3RoaXMuZ3JhcGguZ2V0TW9kZWwoKS5iZWdpblVwZGF0ZSgpO3RyeXt1cmxQYXJhbXMubmF2PTAhPXRoaXMuZ3JhcGhDb25maWcubmF2PyIxIjoiMCIsdGhpcy5lZGl0b3Iuc2V0R3JhcGhYbWwodGhpcy54bWxOb2RlKSx0aGlzLmdyYXBoLmJvcmRlcj1udWxsIT10aGlzLmdyYXBoQ29uZmlnLmJvcmRlcj90aGlzLmdyYXBoQ29uZmlnLmJvcmRlcjo4LHRoaXMuZ3JhcGgudmlldy5zY2FsZT10aGlzLmdyYXBoQ29uZmlnLnpvb218fDF9ZmluYWxseXt0aGlzLmdyYXBoLmdldE1vZGVsKCkuZW5kVXBkYXRlKCl9dGhpcy5ncmFwaC5wYW5uaW5nSGFuZGxlci51c2VMZWZ0QnV0dG9uRm9yUGFubmluZz0KITA7dGhpcy5ncmFwaC5wYW5uaW5nSGFuZGxlci5pc0ZvcmNlUGFubmluZ0V2ZW50PWZ1bmN0aW9uKGEpe3JldHVybiFteEV2ZW50LmlzUG9wdXBUcmlnZ2VyKGEuZ2V0RXZlbnQoKSkmJiJhdXRvIj09dGhpcy5ncmFwaC5jb250YWluZXIuc3R5bGUub3ZlcmZsb3d9O3RoaXMuZ3JhcGgucGFubmluZ0hhbmRsZXIudXNlUG9wdXBUcmlnZ2VyPSExO3RoaXMuZ3JhcGgucGFubmluZ0hhbmRsZXIucGluY2hFbmFibGVkPSExO3RoaXMuZ3JhcGgucGFubmluZ0hhbmRsZXIuaWdub3JlQ2VsbD0hMDt0aGlzLmdyYXBoLnNldFBhbm5pbmcoITEpO251bGwhPXRoaXMuZ3JhcGhDb25maWcudG9vbGJhcj90aGlzLmFkZFRvb2xiYXIoKTpudWxsIT10aGlzLmdyYXBoQ29uZmlnLnRpdGxlJiZ0aGlzLnNob3dUaXRsZUFzVG9vbHRpcCYmYS5zZXRBdHRyaWJ1dGUoInRpdGxlIix0aGlzLmdyYXBoQ29uZmlnLnRpdGxlKTt0aGlzLmFkZFNpemVIYW5kbGVyKCk7dGhpcy5zaG93TGF5ZXJzKHRoaXMuZ3JhcGgpOwp0aGlzLmFkZENsaWNrSGFuZGxlcih0aGlzLmdyYXBoKTt0aGlzLmdyYXBoLnNldFRvb2x0aXBzKDAhPXRoaXMuZ3JhcGhDb25maWcudG9vbHRpcHMpO3RoaXMuZ3JhcGguaW5pdGlhbFZpZXdTdGF0ZT17dHJhbnNsYXRlOnRoaXMuZ3JhcGgudmlldy50cmFuc2xhdGUuY2xvbmUoKSxzY2FsZTp0aGlzLmdyYXBoLnZpZXcuc2NhbGV9O2Q9dGhpczt0aGlzLmdyYXBoLmN1c3RvbUxpbmtDbGlja2VkPWZ1bmN0aW9uKGEpe2lmKCJkYXRhOnBhZ2UvaWQsIj09YS5zdWJzdHJpbmcoMCwxMykpe3ZhciBiPWEuaW5kZXhPZigiLCIpO2Quc2VsZWN0UGFnZUJ5SWQoYS5zdWJzdHJpbmcoYisxKSl8fGFsZXJ0KG14UmVzb3VyY2VzLmdldCgicGFnZU5vdEZvdW5kIil8fCJQYWdlIG5vdCBmb3VuZCIpfWVsc2UgdGhpcy5oYW5kbGVDdXN0b21MaW5rKGEpO3JldHVybiEwfTt0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdCgicmVuZGVyIikpfSk7Zj13aW5kb3cuTXV0YXRpb25PYnNlcnZlcnx8CndpbmRvdy5XZWJLaXRNdXRhdGlvbk9ic2VydmVyfHx3aW5kb3cuTW96TXV0YXRpb25PYnNlcnZlcjtpZih0aGlzLmNoZWNrVmlzaWJsZVN0YXRlJiYwPT1hLm9mZnNldFdpZHRoJiYidW5kZWZpbmVkIiE9PXR5cGVvZiBmKXt2YXIgaz10aGlzLmdldE9ic2VydmFibGVQYXJlbnQoYSksbT1uZXcgZihteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihjKXswPGEub2Zmc2V0V2lkdGgmJihtLmRpc2Nvbm5lY3QoKSxkKCkpfSkpO20ub2JzZXJ2ZShrLHthdHRyaWJ1dGVzOiEwfSl9ZWxzZSBkKCl9fTtHcmFwaFZpZXdlci5wcm90b3R5cGUuZ2V0T2JzZXJ2YWJsZVBhcmVudD1mdW5jdGlvbihhKXtmb3IoYT1hLnBhcmVudE5vZGU7YSE9ZG9jdW1lbnQuYm9keSYmbnVsbCE9YS5wYXJlbnROb2RlJiYibm9uZSIhPT1teFV0aWxzLmdldEN1cnJlbnRTdHlsZShhKS5kaXNwbGF5OylhPWEucGFyZW50Tm9kZTtyZXR1cm4gYX07CkdyYXBoVmlld2VyLnByb3RvdHlwZS5nZXRJbWFnZVVybD1mdW5jdGlvbihhKXtudWxsIT1hJiYiaHR0cDovLyIhPWEuc3Vic3RyaW5nKDAsNykmJiJodHRwczovLyIhPWEuc3Vic3RyaW5nKDAsOCkmJiJkYXRhOmltYWdlIiE9YS5zdWJzdHJpbmcoMCwxMCkmJigiLyI9PWEuY2hhckF0KDApJiYoYT1hLnN1YnN0cmluZygxLGEubGVuZ3RoKSksYT10aGlzLmltYWdlQmFzZVVybCthKTtyZXR1cm4gYX07R3JhcGhWaWV3ZXIucHJvdG90eXBlLnNldFhtbE5vZGU9ZnVuY3Rpb24oYSl7YT10aGlzLmVkaXRvci5leHRyYWN0R3JhcGhNb2RlbChhLCEwKTt0aGlzLnhtbERvY3VtZW50PWEub3duZXJEb2N1bWVudDt0aGlzLnhtbD1teFV0aWxzLmdldFhtbChhKTt0aGlzLnhtbE5vZGU9YTt0aGlzLnVwZGF0ZUdyYXBoWG1sKGEpO3RoaXMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KCJ4bWxOb2RlQ2hhbmdlZCIpKX07CkdyYXBoVmlld2VyLnByb3RvdHlwZS5zZXRGaWxlTm9kZT1mdW5jdGlvbihhKXtudWxsPT10aGlzLnhtbE5vZGUmJih0aGlzLnhtbERvY3VtZW50PWEub3duZXJEb2N1bWVudCx0aGlzLnhtbD1teFV0aWxzLmdldFhtbChhKSx0aGlzLnhtbE5vZGU9YSk7dGhpcy5zZXRHcmFwaFhtbChhKX07R3JhcGhWaWV3ZXIucHJvdG90eXBlLnVwZGF0ZUdyYXBoWG1sPWZ1bmN0aW9uKGEpe3RoaXMuc2V0R3JhcGhYbWwoYSk7dGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QoImdyYXBoQ2hhbmdlZCIpKX07CkdyYXBoVmlld2VyLnByb3RvdHlwZS5zZXRHcmFwaFhtbD1mdW5jdGlvbihhKXtudWxsIT10aGlzLmdyYXBoJiYodGhpcy5ncmFwaC52aWV3LnRyYW5zbGF0ZT1uZXcgbXhQb2ludCx0aGlzLmdyYXBoLnZpZXcuc2NhbGU9MSx0aGlzLmdyYXBoLmdldE1vZGVsKCkuY2xlYXIoKSx0aGlzLmVkaXRvci5zZXRHcmFwaFhtbChhKSx0aGlzLndpZHRoSXNFbXB0eT8odGhpcy5ncmFwaC5jb250YWluZXIuc3R5bGUud2lkdGg9IiIsdGhpcy5ncmFwaC5jb250YWluZXIuc3R5bGUuaGVpZ2h0PSIiKTp0aGlzLmdyYXBoLmNvbnRhaW5lci5zdHlsZS53aWR0aD10aGlzLmluaXRpYWxXaWR0aCx0aGlzLnBvc2l0aW9uR3JhcGgoKSx0aGlzLmdyYXBoLmluaXRpYWxWaWV3U3RhdGU9e3RyYW5zbGF0ZTp0aGlzLmdyYXBoLnZpZXcudHJhbnNsYXRlLmNsb25lKCksc2NhbGU6dGhpcy5ncmFwaC52aWV3LnNjYWxlfSl9OwpHcmFwaFZpZXdlci5wcm90b3R5cGUuYWRkU2l6ZUhhbmRsZXI9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdyYXBoLmNvbnRhaW5lcixjPXRoaXMuZ3JhcGguZ2V0R3JhcGhCb3VuZHMoKSxmPSExO2Euc3R5bGUub3ZlcmZsb3c9MSE9dGhpcy5ncmFwaENvbmZpZ1sidG9vbGJhci1ub2hpZGUiXT8iaGlkZGVuIjoidmlzaWJsZSI7dmFyIGQ9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXtpZighZil7Zj0hMDt2YXIgYj10aGlzLmdyYXBoLmdldEdyYXBoQm91bmRzKCk7YS5zdHlsZS5vdmVyZmxvdz0xIT10aGlzLmdyYXBoQ29uZmlnWyJ0b29sYmFyLW5vaGlkZSJdP2Iud2lkdGgrMip0aGlzLmdyYXBoLmJvcmRlcj5hLm9mZnNldFdpZHRoLTI/ImF1dG8iOiJoaWRkZW4iOiJ2aXNpYmxlIjtpZihudWxsIT10aGlzLnRvb2xiYXImJjEhPXRoaXMuZ3JhcGhDb25maWdbInRvb2xiYXItbm9oaWRlIl0pe3ZhciBiPWEuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksYz1teFV0aWxzLmdldFNjcm9sbE9yaWdpbihkb2N1bWVudC5ib2R5KSwKYz0icmVsYXRpdmUiPT09ZG9jdW1lbnQuYm9keS5zdHlsZS5wb3NpdGlvbj9kb2N1bWVudC5ib2R5LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOntsZWZ0Oi1jLngsdG9wOi1jLnl9LGI9e2xlZnQ6Yi5sZWZ0LWMubGVmdCx0b3A6Yi50b3AtYy50b3AsYm90dG9tOmIuYm90dG9tLWMudG9wLHJpZ2h0OmIucmlnaHQtYy5sZWZ0fTt0aGlzLnRvb2xiYXIuc3R5bGUubGVmdD1iLmxlZnQrInB4IjsiYm90dG9tIj09dGhpcy5ncmFwaENvbmZpZ1sidG9vbGJhci1wb3NpdGlvbiJdP3RoaXMudG9vbGJhci5zdHlsZS50b3A9Yi5ib3R0b20tMSsicHgiOiJpbmxpbmUiIT10aGlzLmdyYXBoQ29uZmlnWyJ0b29sYmFyLXBvc2l0aW9uIl0/KHRoaXMudG9vbGJhci5zdHlsZS53aWR0aD1NYXRoLm1heCh0aGlzLm1pblRvb2xiYXJXaWR0aCxhLm9mZnNldFdpZHRoKSsicHgiLHRoaXMudG9vbGJhci5zdHlsZS50b3A9Yi50b3ArMSsicHgiKTp0aGlzLnRvb2xiYXIuc3R5bGUudG9wPWIudG9wKyJweCJ9ZWxzZSBudWxsIT0KdGhpcy50b29sYmFyJiYodGhpcy50b29sYmFyLnN0eWxlLndpZHRoPU1hdGgubWF4KHRoaXMubWluVG9vbGJhcldpZHRoLGEub2Zmc2V0V2lkdGgpKyJweCIpO2Y9ITF9fSksaz1udWxsO3RoaXMuaGFuZGxpbmdSZXNpemU9ITE7dGhpcy5maXRHcmFwaD1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihiKXt2YXIgYz1hLm9mZnNldFdpZHRoO2M9PWt8fHRoaXMuaGFuZGxpbmdSZXNpemV8fCh0aGlzLmhhbmRsaW5nUmVzaXplPSEwLCJhdXRvIj09YS5zdHlsZS5vdmVyZmxvdyYmKGEuc3R5bGUub3ZlcmZsb3c9ImhpZGRlbiIpLHRoaXMuZ3JhcGgubWF4Rml0U2NhbGU9bnVsbCE9Yj9iOnRoaXMuZ3JhcGhDb25maWcuem9vbXx8KHRoaXMuYWxsb3dab29tSW4/bnVsbDoxKSx0aGlzLmdyYXBoLmZpdChudWxsLG51bGwsbnVsbCxudWxsLG51bGwsITApLCh0aGlzLmNlbnRlcnx8MD09dGhpcy5ncmFwaENvbmZpZy5yZXNpemUmJiIiIT1hLnN0eWxlLmhlaWdodCkmJnRoaXMuZ3JhcGguY2VudGVyKCksCnRoaXMuZ3JhcGgubWF4Rml0U2NhbGU9bnVsbCwwPT10aGlzLmdyYXBoQ29uZmlnLnJlc2l6ZSYmIiIhPWEuc3R5bGUuaGVpZ2h0fHx0aGlzLnVwZGF0ZUNvbnRhaW5lckhlaWdodChhLE1hdGgubWF4KHRoaXMubWluSGVpZ2h0LHRoaXMuZ3JhcGguZ2V0R3JhcGhCb3VuZHMoKS5oZWlnaHQrMip0aGlzLmdyYXBoLmJvcmRlcisxKSksdGhpcy5ncmFwaC5pbml0aWFsVmlld1N0YXRlPXt0cmFuc2xhdGU6dGhpcy5ncmFwaC52aWV3LnRyYW5zbGF0ZS5jbG9uZSgpLHNjYWxlOnRoaXMuZ3JhcGgudmlldy5zY2FsZX0saz1jLHdpbmRvdy5zZXRUaW1lb3V0KG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dGhpcy5oYW5kbGluZ1Jlc2l6ZT0hMX0pLDApKX0pO0dyYXBoVmlld2VyLnVzZVJlc2l6ZVNlbnNvciYmKG14Q2xpZW50LklTX1FVSVJLU3x8OT49ZG9jdW1lbnQuZG9jdW1lbnRNb2RlPyhteEV2ZW50LmFkZExpc3RlbmVyKHdpbmRvdywicmVzaXplIixkKSx0aGlzLmdyYXBoLmFkZExpc3RlbmVyKCJzaXplIiwKZCkpOm5ldyBSZXNpemVTZW5zb3IodGhpcy5ncmFwaC5jb250YWluZXIsZCkpO2lmKHRoaXMuZ3JhcGhDb25maWcucmVzaXplfHwodGhpcy56b29tRW5hYmxlZHx8IXRoaXMuYXV0b0ZpdCkmJjAhPXRoaXMuZ3JhcGhDb25maWcucmVzaXplKXRoaXMuZ3JhcGgubWluaW11bUNvbnRhaW5lclNpemU9bmV3IG14UmVjdGFuZ2xlKDAsMCx0aGlzLm1pbldpZHRoLHRoaXMubWluSGVpZ2h0KSx0aGlzLmdyYXBoLnJlc2l6ZUNvbnRhaW5lcj0hMDtlbHNlIGlmKCF0aGlzLndpZHRoSXNFbXB0eXx8IiIhPWEuc3R5bGUuaGVpZ2h0JiZ0aGlzLmF1dG9GaXR8fHRoaXMudXBkYXRlQ29udGFpbmVyV2lkdGgoYSxjLndpZHRoKzIqdGhpcy5ncmFwaC5ib3JkZXIpLDA9PXRoaXMuZ3JhcGhDb25maWcucmVzaXplJiYiIiE9YS5zdHlsZS5oZWlnaHR8fHRoaXMudXBkYXRlQ29udGFpbmVySGVpZ2h0KGEsTWF0aC5tYXgodGhpcy5taW5IZWlnaHQsYy5oZWlnaHQrMip0aGlzLmdyYXBoLmJvcmRlcisxKSksCiF0aGlzLnpvb21FbmFibGVkJiZ0aGlzLmF1dG9GaXQpe3ZhciBtPWs9bnVsbCxkPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7d2luZG93LmNsZWFyVGltZW91dChtKTt0aGlzLmhhbmRsaW5nUmVzaXplfHwobT13aW5kb3cuc2V0VGltZW91dChteFV0aWxzLmJpbmQodGhpcyx0aGlzLmZpdEdyYXBoKSwxMDApKX0pO0dyYXBoVmlld2VyLnVzZVJlc2l6ZVNlbnNvciYmKG14Q2xpZW50LklTX1FVSVJLU3x8OT49ZG9jdW1lbnQuZG9jdW1lbnRNb2RlP214RXZlbnQuYWRkTGlzdGVuZXIod2luZG93LCJyZXNpemUiLGQpOm5ldyBSZXNpemVTZW5zb3IodGhpcy5ncmFwaC5jb250YWluZXIsZCkpfWVsc2UgbXhDbGllbnQuSVNfUVVJUktTfHw5Pj1kb2N1bWVudC5kb2N1bWVudE1vZGV8fHRoaXMuZ3JhcGguYWRkTGlzdGVuZXIoInNpemUiLGQpO3ZhciBxPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dmFyIGI9YS5zdHlsZS5taW5XaWR0aDt0aGlzLndpZHRoSXNFbXB0eSYmKGEuc3R5bGUubWluV2lkdGg9CiIxMDAlIik7dmFyIGQ9bnVsbCE9dGhpcy5ncmFwaENvbmZpZ1sibWF4LWhlaWdodCJdP3RoaXMuZ3JhcGhDb25maWdbIm1heC1oZWlnaHQiXToiIiE9YS5zdHlsZS5oZWlnaHQmJnRoaXMuYXV0b0ZpdD9hLm9mZnNldEhlaWdodDp2b2lkIDA7aWYoMDxhLm9mZnNldFdpZHRoJiYodGhpcy5hbGxvd1pvb21Jbnx8Yy53aWR0aCsyKnRoaXMuZ3JhcGguYm9yZGVyPmEub2Zmc2V0V2lkdGh8fGMuaGVpZ2h0KzIqdGhpcy5ncmFwaC5ib3JkZXI+ZCkpe3ZhciBmPW51bGw7bnVsbCE9ZCYmYy5oZWlnaHQrMip0aGlzLmdyYXBoLmJvcmRlcj5kLTImJihmPShkLTIqdGhpcy5ncmFwaC5ib3JkZXItMikvYy5oZWlnaHQpO3RoaXMuZml0R3JhcGgoZil9ZWxzZSB0aGlzLndpZHRoSXNFbXB0eXx8MCE9dGhpcy5ncmFwaENvbmZpZy5yZXNpemV8fCIiPT1hLnN0eWxlLmhlaWdodD8odGhpcy5ncmFwaC52aWV3LnNldFRyYW5zbGF0ZShNYXRoLmZsb29yKHRoaXMuZ3JhcGguYm9yZGVyLWMueC90aGlzLmdyYXBoLnZpZXcuc2NhbGUpLApNYXRoLmZsb29yKHRoaXMuZ3JhcGguYm9yZGVyLWMueS90aGlzLmdyYXBoLnZpZXcuc2NhbGUpKSxrPWEub2Zmc2V0V2lkdGgpOnRoaXMuZ3JhcGguY2VudGVyKCghdGhpcy53aWR0aElzRW1wdHl8fGMud2lkdGg8dGhpcy5taW5XaWR0aCkmJjEhPXRoaXMuZ3JhcGhDb25maWcucmVzaXplKTthLnN0eWxlLm1pbldpZHRoPWJ9KTtteENsaWVudC5JU19RVUlSS1N8fDg9PWRvY3VtZW50LmRvY3VtZW50TW9kZT93aW5kb3cuc2V0VGltZW91dChxLDApOnEoKTt0aGlzLnBvc2l0aW9uR3JhcGg9ZnVuY3Rpb24oKXtjPXRoaXMuZ3JhcGguZ2V0R3JhcGhCb3VuZHMoKTtrPW51bGw7cSgpfX07R3JhcGhWaWV3ZXIucHJvdG90eXBlLnVwZGF0ZUNvbnRhaW5lcldpZHRoPWZ1bmN0aW9uKGEsYyl7YS5zdHlsZS53aWR0aD1jKyJweCJ9OwpHcmFwaFZpZXdlci5wcm90b3R5cGUudXBkYXRlQ29udGFpbmVySGVpZ2h0PWZ1bmN0aW9uKGEsYyl7aWYodGhpcy56b29tRW5hYmxlZHx8IXRoaXMuYXV0b0ZpdHx8IkJhY2tDb21wYXQiPT1kb2N1bWVudC5jb21wYXRNb2RlfHxteENsaWVudC5JU19RVUlSS1N8fDg9PWRvY3VtZW50LmRvY3VtZW50TW9kZSlhLnN0eWxlLmhlaWdodD1jKyJweCJ9OwpHcmFwaFZpZXdlci5wcm90b3R5cGUuc2hvd0xheWVycz1mdW5jdGlvbihhLGMpe3ZhciBmPXRoaXMuZ3JhcGhDb25maWcubGF5ZXJzLGY9bnVsbCE9Zj9mLnNwbGl0KCIgIik6W10sZD10aGlzLmdyYXBoQ29uZmlnLmxheWVySWRzLGs9bnVsbCE9ZCYmMDxkLmxlbmd0aDtpZigwPGYubGVuZ3RofHxrfHxudWxsIT1jKXt2YXIgbT1udWxsIT1jP2MuZ2V0TW9kZWwoKTpudWxsLHE9YS5nZXRNb2RlbCgpO3EuYmVnaW5VcGRhdGUoKTt0cnl7Zm9yKHZhciBiPXEuZ2V0Q2hpbGRDb3VudChxLnJvb3QpLGU9MDtlPGI7ZSsrKXEuc2V0VmlzaWJsZShxLmdldENoaWxkQXQocS5yb290LGUpLG51bGwhPWM/bS5pc1Zpc2libGUobS5nZXRDaGlsZEF0KG0ucm9vdCxlKSk6ITEpO2lmKG51bGw9PW0paWYoaylmb3IoZT0wO2U8ZC5sZW5ndGg7ZSsrKXEuc2V0VmlzaWJsZShxLmdldENlbGwoZFtlXSksITApO2Vsc2UgZm9yKGU9MDtlPGYubGVuZ3RoO2UrKylxLnNldFZpc2libGUocS5nZXRDaGlsZEF0KHEucm9vdCwKcGFyc2VJbnQoZltlXSkpLCEwKX1maW5hbGx5e3EuZW5kVXBkYXRlKCl9fX07CkdyYXBoVmlld2VyLnByb3RvdHlwZS5hZGRUb29sYmFyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhLGIsYyxkKXt2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtlLnN0eWxlLmJvcmRlclJpZ2h0PSIxcHggc29saWQgI2QwZDBkMCI7ZS5zdHlsZS5wYWRkaW5nPSIzcHggNnB4IDNweCA2cHgiO214RXZlbnQuYWRkTGlzdGVuZXIoZSwiY2xpY2siLGEpO251bGwhPWMmJmUuc2V0QXR0cmlidXRlKCJ0aXRsZSIsYyk7ZS5zdHlsZS5kaXNwbGF5PW14Q2xpZW50LklTX1FVSVJLUz8iaW5saW5lIjoiaW5saW5lLWJsb2NrIjthPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImltZyIpO2Euc2V0QXR0cmlidXRlKCJib3JkZXIiLCIwIik7YS5zZXRBdHRyaWJ1dGUoInNyYyIsYik7bnVsbD09ZHx8ZD8obXhFdmVudC5hZGRMaXN0ZW5lcihlLCJtb3VzZWVudGVyIixmdW5jdGlvbigpe2Uuc3R5bGUuYmFja2dyb3VuZENvbG9yPSIjZGRkIn0pLG14RXZlbnQuYWRkTGlzdGVuZXIoZSwibW91c2VsZWF2ZSIsCmZ1bmN0aW9uKCl7ZS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9IiNlZWUifSksbXhVdGlscy5zZXRPcGFjaXR5KGEsNjApLGUuc3R5bGUuY3Vyc29yPSJwb2ludGVyIik6bXhVdGlscy5zZXRPcGFjaXR5KGUsMzApO2UuYXBwZW5kQ2hpbGQoYSk7Zi5hcHBlbmRDaGlsZChlKTtuKys7cmV0dXJuIGV9dmFyIGM9dGhpcy5ncmFwaC5jb250YWluZXI7ImJvdHRvbSI9PXRoaXMuZ3JhcGhDb25maWdbInRvb2xiYXItcG9zaXRpb24iXT9jLnN0eWxlLm1hcmdpbkJvdHRvbT10aGlzLnRvb2xiYXJIZWlnaHQrInB4IjoiaW5saW5lIiE9dGhpcy5ncmFwaENvbmZpZ1sidG9vbGJhci1wb3NpdGlvbiJdJiYoYy5zdHlsZS5tYXJnaW5Ub3A9dGhpcy50b29sYmFySGVpZ2h0KyJweCIpO3ZhciBmPWMub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtmLnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSI7Zi5zdHlsZS5vdmVyZmxvdz0iaGlkZGVuIjtmLnN0eWxlLmJveFNpemluZz0iYm9yZGVyLWJveCI7CmYuc3R5bGUud2hpdGVTcGFjZT0ibm93cmFwIjtmLnN0eWxlLnRleHRBbGlnbj0ibGVmdCI7Zi5zdHlsZS56SW5kZXg9dGhpcy50b29sYmFyWkluZGV4O2Yuc3R5bGUuYmFja2dyb3VuZENvbG9yPSIjZWVlIjtmLnN0eWxlLmhlaWdodD10aGlzLnRvb2xiYXJIZWlnaHQrInB4Ijt0aGlzLnRvb2xiYXI9ZjtpZigiaW5saW5lIj09dGhpcy5ncmFwaENvbmZpZ1sidG9vbGJhci1wb3NpdGlvbiJdKXtteFV0aWxzLnNldFByZWZpeGVkU3R5bGUoZi5zdHlsZSwidHJhbnNpdGlvbiIsIm9wYWNpdHkgMTAwbXMgZWFzZS1pbi1vdXQiKTtteFV0aWxzLnNldE9wYWNpdHkoZiwzMCk7dmFyIGQ9bnVsbCxrPW51bGwsbT1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXtudWxsIT1kJiYod2luZG93LmNsZWFyVGltZW91dChkKSxmYWRlVGhlYWQ9bnVsbCk7bnVsbCE9ayYmKHdpbmRvdy5jbGVhclRpbWVvdXQoayksZmFkZVRoZWFkMj1udWxsKTtkPXdpbmRvdy5zZXRUaW1lb3V0KG14VXRpbHMuYmluZCh0aGlzLApmdW5jdGlvbigpe214VXRpbHMuc2V0T3BhY2l0eShmLDApO2Q9bnVsbDtrPXdpbmRvdy5zZXRUaW1lb3V0KG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7Zi5zdHlsZS5kaXNwbGF5PSJub25lIjtrPW51bGx9KSwxMDApfSksYXx8MjAwKX0pLHE9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7bnVsbCE9ZCYmKHdpbmRvdy5jbGVhclRpbWVvdXQoZCksZmFkZVRoZWFkPW51bGwpO251bGwhPWsmJih3aW5kb3cuY2xlYXJUaW1lb3V0KGspLGZhZGVUaGVhZDI9bnVsbCk7Zi5zdHlsZS5kaXNwbGF5PSIiO214VXRpbHMuc2V0T3BhY2l0eShmLGF8fDMwKX0pO214RXZlbnQuYWRkTGlzdGVuZXIodGhpcy5ncmFwaC5jb250YWluZXIsbXhDbGllbnQuSVNfUE9JTlRFUj8icG9pbnRlcm1vdmUiOiJtb3VzZW1vdmUiLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe214RXZlbnQuaXNUb3VjaEV2ZW50KGEpfHwocSgzMCksbSgpKX0pKTtteEV2ZW50LmFkZExpc3RlbmVyKGYsbXhDbGllbnQuSVNfUE9JTlRFUj8KInBvaW50ZXJtb3ZlIjoibW91c2Vtb3ZlIixmdW5jdGlvbihhKXtteEV2ZW50LmNvbnN1bWUoYSl9KTtteEV2ZW50LmFkZExpc3RlbmVyKGYsIm1vdXNlZW50ZXIiLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3EoMTAwKX0pKTtteEV2ZW50LmFkZExpc3RlbmVyKGYsIm1vdXNlbW92ZSIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7cSgxMDApO214RXZlbnQuY29uc3VtZShhKX0pKTtteEV2ZW50LmFkZExpc3RlbmVyKGYsIm1vdXNlbGVhdmUiLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe214RXZlbnQuaXNUb3VjaEV2ZW50KGEpfHxxKDMwKX0pKTt2YXIgYj10aGlzLmdyYXBoLGU9Yi5nZXRUb2xlcmFuY2UoKTtiLmFkZE1vdXNlTGlzdGVuZXIoe3N0YXJ0WDowLHN0YXJ0WTowLHNjcm9sbExlZnQ6MCxzY3JvbGxUb3A6MCxtb3VzZURvd246ZnVuY3Rpb24oYSxjKXt0aGlzLnN0YXJ0WD1jLmdldEdyYXBoWCgpO3RoaXMuc3RhcnRZPWMuZ2V0R3JhcGhZKCk7CnRoaXMuc2Nyb2xsTGVmdD1iLmNvbnRhaW5lci5zY3JvbGxMZWZ0O3RoaXMuc2Nyb2xsVG9wPWIuY29udGFpbmVyLnNjcm9sbFRvcH0sbW91c2VNb3ZlOmZ1bmN0aW9uKGEsYil7fSxtb3VzZVVwOmZ1bmN0aW9uKGEsYyl7bXhFdmVudC5pc1RvdWNoRXZlbnQoYy5nZXRFdmVudCgpKSYmTWF0aC5hYnModGhpcy5zY3JvbGxMZWZ0LWIuY29udGFpbmVyLnNjcm9sbExlZnQpPGUmJk1hdGguYWJzKHRoaXMuc2Nyb2xsVG9wLWIuY29udGFpbmVyLnNjcm9sbFRvcCk8ZSYmTWF0aC5hYnModGhpcy5zdGFydFgtYy5nZXRHcmFwaFgoKSk8ZSYmTWF0aC5hYnModGhpcy5zdGFydFktYy5nZXRHcmFwaFkoKSk8ZSYmKDA8cGFyc2VGbG9hdChmLnN0eWxlLm9wYWNpdHl8fDApP20oKTpxKDMwKSl9fSl9Zm9yKHZhciBnPXRoaXMudG9vbGJhckl0ZW1zLG49MCxsPW51bGwscD1udWxsLHY9MDt2PGcubGVuZ3RoO3YrKyl7dmFyIHQ9Z1t2XTtpZigicGFnZXMiPT10KXtwPWMub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKcC5zdHlsZS5jc3NUZXh0PSJkaXNwbGF5OmlubGluZS1ibG9jaztwb3NpdGlvbjpyZWxhdGl2ZTtwYWRkaW5nOjNweCA0cHggMCA0cHg7dmVydGljYWwtYWxpZ246dG9wO2ZvbnQtZmFtaWx5OkhlbHZldGljYSxBcmlhbDtmb250LXNpemU6MTJweDt0b3A6NHB4O2N1cnNvcjpkZWZhdWx0OyI7bXhVdGlscy5zZXRPcGFjaXR5KHAsNzApO3ZhciB5PWEobXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt0aGlzLnNlbGVjdFBhZ2UodGhpcy5jdXJyZW50UGFnZS0xKX0pLEVkaXRvci5wcmV2aW91c0ltYWdlLG14UmVzb3VyY2VzLmdldCgicHJldmlvdXNQYWdlIil8fCJQcmV2aW91cyBQYWdlIik7eS5zdHlsZS5ib3JkZXJSaWdodFN0eWxlPSJub25lIjt5LnN0eWxlLnBhZGRpbmdMZWZ0PSIwcHgiO3kuc3R5bGUucGFkZGluZ1JpZ2h0PSIwcHgiO2YuYXBwZW5kQ2hpbGQocCk7dmFyIHg9YShteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMuc2VsZWN0UGFnZSh0aGlzLmN1cnJlbnRQYWdlKwoxKX0pLEVkaXRvci5uZXh0SW1hZ2UsbXhSZXNvdXJjZXMuZ2V0KCJuZXh0UGFnZSIpfHwiTmV4dCBQYWdlIik7eC5zdHlsZS5wYWRkaW5nTGVmdD0iMHB4Ijt4LnN0eWxlLnBhZGRpbmdSaWdodD0iMHB4Ijt0PW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7cC5pbm5lckhUTUw9IiI7bXhVdGlscy53cml0ZShwLHRoaXMuY3VycmVudFBhZ2UrMSsiIC8gIit0aGlzLmRpYWdyYW1zLmxlbmd0aCk7cC5zdHlsZS5kaXNwbGF5PTE8dGhpcy5kaWFncmFtcy5sZW5ndGg/ImlubGluZS1ibG9jayI6Im5vbmUiO3kuc3R5bGUuZGlzcGxheT1wLnN0eWxlLmRpc3BsYXk7eC5zdHlsZS5kaXNwbGF5PXAuc3R5bGUuZGlzcGxheX0pO3RoaXMuYWRkTGlzdGVuZXIoImdyYXBoQ2hhbmdlZCIsdCk7dCgpfWVsc2UgaWYoInpvb20iPT10KXRoaXMuem9vbUVuYWJsZWQmJihhKG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dGhpcy5ncmFwaC56b29tT3V0KCl9KSxFZGl0b3Iuem9vbU91dEltYWdlLApteFJlc291cmNlcy5nZXQoInpvb21PdXQiKXx8Ilpvb20gT3V0IiksYShteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMuZ3JhcGguem9vbUluKCl9KSxFZGl0b3Iuem9vbUluSW1hZ2UsbXhSZXNvdXJjZXMuZ2V0KCJ6b29tSW4iKXx8Ilpvb20gSW4iKSxhKG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dGhpcy5ncmFwaC52aWV3LnNjYWxlQW5kVHJhbnNsYXRlKHRoaXMuZ3JhcGguaW5pdGlhbFZpZXdTdGF0ZS5zY2FsZSx0aGlzLmdyYXBoLmluaXRpYWxWaWV3U3RhdGUudHJhbnNsYXRlLngsdGhpcy5ncmFwaC5pbml0aWFsVmlld1N0YXRlLnRyYW5zbGF0ZS55KX0pLEVkaXRvci56b29tRml0SW1hZ2UsbXhSZXNvdXJjZXMuZ2V0KCJmaXQiKXx8IkZpdCIpKTtlbHNlIGlmKCJsYXllcnMiPT10KXtpZih0aGlzLmxheWVyc0VuYWJsZWQpe3ZhciBDPXRoaXMuZ3JhcGguZ2V0TW9kZWwoKSxCPWEobXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7aWYobnVsbCE9bClsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobCksCmw9bnVsbDtlbHNle2w9dGhpcy5ncmFwaC5jcmVhdGVMYXllcnNEaWFsb2coKTtteEV2ZW50LmFkZExpc3RlbmVyKGwsIm1vdXNlbGVhdmUiLGZ1bmN0aW9uKCl7bC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGwpO2w9bnVsbH0pO2E9Qi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtsLnN0eWxlLndpZHRoPSIxNDBweCI7bC5zdHlsZS5wYWRkaW5nPSIycHggMHB4IDJweCAwcHgiO2wuc3R5bGUuYm9yZGVyPSIxcHggc29saWQgI2QwZDBkMCI7bC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9IiNlZWUiO2wuc3R5bGUuZm9udEZhbWlseT0iSGVsdmV0aWNhIE5ldWUsSGVsdmV0aWNhLEFyaWFsIFVuaWNvZGUgTVMsQXJpYWwiO2wuc3R5bGUuZm9udFNpemU9IjExcHgiO2wuc3R5bGUuekluZGV4PXRoaXMudG9vbGJhclpJbmRleCsxO214VXRpbHMuc2V0T3BhY2l0eShsLDgwKTt2YXIgYj1teFV0aWxzLmdldERvY3VtZW50U2Nyb2xsT3JpZ2luKGRvY3VtZW50KTtsLnN0eWxlLmxlZnQ9Yi54K2EubGVmdCsKInB4IjtsLnN0eWxlLnRvcD1iLnkrYS5ib3R0b20rInB4Ijtkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGwpfX0pLEVkaXRvci5sYXllcnNJbWFnZSxteFJlc291cmNlcy5nZXQoImxheWVycyIpfHwiTGF5ZXJzIik7Qy5hZGRMaXN0ZW5lcihteEV2ZW50LkNIQU5HRSxmdW5jdGlvbigpe0Iuc3R5bGUuZGlzcGxheT0xPEMuZ2V0Q2hpbGRDb3VudChDLnJvb3QpPyJpbmxpbmUtYmxvY2siOiJub25lIn0pO0Iuc3R5bGUuZGlzcGxheT0xPEMuZ2V0Q2hpbGRDb3VudChDLnJvb3QpPyJpbmxpbmUtYmxvY2siOiJub25lIn19ZWxzZSJsaWdodGJveCI9PXQ/dGhpcy5saWdodGJveEVuYWJsZWQmJmEobXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt0aGlzLnNob3dMaWdodGJveCgpfSksRWRpdG9yLm1heGltaXplSW1hZ2UsbXhSZXNvdXJjZXMuZ2V0KCJzaG93Iil8fCJTaG93Iik6bnVsbCE9dGhpcy5ncmFwaENvbmZpZ1sidG9vbGJhci1idXR0b25zIl0mJih0PXRoaXMuZ3JhcGhDb25maWdbInRvb2xiYXItYnV0dG9ucyJdW3RdLApudWxsIT10JiZhKG51bGw9PXQuZW5hYmxlZHx8dC5lbmFibGVkP3QuaGFuZGxlcjpmdW5jdGlvbigpe30sdC5pbWFnZSx0LnRpdGxlLHQuZW5hYmxlZCkpfW51bGwhPXRoaXMuZ3JhcGgubWluaW11bUNvbnRhaW5lclNpemUmJih0aGlzLmdyYXBoLm1pbmltdW1Db250YWluZXJTaXplLndpZHRoPTM0Km4pO251bGwhPXRoaXMuZ3JhcGhDb25maWcudGl0bGUmJihnPWMub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSxnLnN0eWxlLmNzc1RleHQ9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3Bvc2l0aW9uOnJlbGF0aXZlO3BhZGRpbmc6M3B4IDZweCAwIDZweDt2ZXJ0aWNhbC1hbGlnbjp0b3A7Zm9udC1mYW1pbHk6SGVsdmV0aWNhLEFyaWFsO2ZvbnQtc2l6ZToxMnB4O3RvcDo0cHg7Y3Vyc29yOmRlZmF1bHQ7IixnLnNldEF0dHJpYnV0ZSgidGl0bGUiLHRoaXMuZ3JhcGhDb25maWcudGl0bGUpLG14VXRpbHMud3JpdGUoZyx0aGlzLmdyYXBoQ29uZmlnLnRpdGxlKSxteFV0aWxzLnNldE9wYWNpdHkoZywKNzApLGYuYXBwZW5kQ2hpbGQoZyksdGhpcy5maWxlbmFtZT1nKTt0aGlzLm1pblRvb2xiYXJXaWR0aD0zNCpuO3ZhciBEPWMuc3R5bGUuYm9yZGVyLGc9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXtmLnN0eWxlLndpZHRoPSJpbmxpbmUiPT10aGlzLmdyYXBoQ29uZmlnWyJ0b29sYmFyLXBvc2l0aW9uIl0/ImF1dG8iOk1hdGgubWF4KHRoaXMubWluVG9vbGJhcldpZHRoLGMub2Zmc2V0V2lkdGgpKyJweCI7Zi5zdHlsZS5ib3JkZXI9IjFweCBzb2xpZCAjZDBkMGQwIjtpZigxIT10aGlzLmdyYXBoQ29uZmlnWyJ0b29sYmFyLW5vaGlkZSJdKXt2YXIgYT1jLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLGI9bXhVdGlscy5nZXRTY3JvbGxPcmlnaW4oZG9jdW1lbnQuYm9keSksYj0icmVsYXRpdmUiPT09ZG9jdW1lbnQuYm9keS5zdHlsZS5wb3NpdGlvbj9kb2N1bWVudC5ib2R5LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOntsZWZ0Oi1iLngsdG9wOi1iLnl9LGE9e2xlZnQ6YS5sZWZ0LQpiLmxlZnQsdG9wOmEudG9wLWIudG9wLGJvdHRvbTphLmJvdHRvbS1iLnRvcCxyaWdodDphLnJpZ2h0LWIubGVmdH07Zi5zdHlsZS5sZWZ0PWEubGVmdCsicHgiOyJib3R0b20iPT10aGlzLmdyYXBoQ29uZmlnWyJ0b29sYmFyLXBvc2l0aW9uIl0/Zi5zdHlsZS50b3A9YS5ib3R0b20tMSsicHgiOiJpbmxpbmUiIT10aGlzLmdyYXBoQ29uZmlnWyJ0b29sYmFyLXBvc2l0aW9uIl0/KGYuc3R5bGUubWFyZ2luVG9wPS10aGlzLnRvb2xiYXJIZWlnaHQrInB4IixmLnN0eWxlLnRvcD1hLnRvcCsxKyJweCIpOmYuc3R5bGUudG9wPWEudG9wKyJweCI7IjFweCBzb2xpZCB0cmFuc3BhcmVudCI9PUQmJihjLnN0eWxlLmJvcmRlcj0iMXB4IHNvbGlkICNkMGQwZDAiKTtkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGYpO3ZhciBkPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7bnVsbCE9Zi5wYXJlbnROb2RlJiZmLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZik7bnVsbCE9bCYmKGwucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChsKSwKbD1udWxsKTtjLnN0eWxlLmJvcmRlcj1EfSk7bXhFdmVudC5hZGRMaXN0ZW5lcihkb2N1bWVudCwibW91c2Vtb3ZlIixmdW5jdGlvbihhKXtmb3IoYT1teEV2ZW50LmdldFNvdXJjZShhKTtudWxsIT1hOyl7aWYoYT09Y3x8YT09Znx8YT09bClyZXR1cm47YT1hLnBhcmVudE5vZGV9ZCgpfSk7bXhFdmVudC5hZGRMaXN0ZW5lcihkb2N1bWVudCwibW91c2VsZWF2ZSIsZnVuY3Rpb24oYSl7ZCgpfSl9ZWxzZSBmLnN0eWxlLnRvcD0tdGhpcy50b29sYmFySGVpZ2h0KyJweCIsYy5hcHBlbmRDaGlsZChmKX0pOzEhPXRoaXMuZ3JhcGhDb25maWdbInRvb2xiYXItbm9oaWRlIl0/bXhFdmVudC5hZGRMaXN0ZW5lcihjLCJtb3VzZWVudGVyIixnKTpnKCl9OwpHcmFwaFZpZXdlci5wcm90b3R5cGUuYWRkQ2xpY2tIYW5kbGVyPWZ1bmN0aW9uKGEsYyl7YS5saW5rUG9saWN5PXRoaXMuZ3JhcGhDb25maWcudGFyZ2V0fHxhLmxpbmtQb2xpY3k7YS5hZGRDbGlja0hhbmRsZXIodGhpcy5ncmFwaENvbmZpZy5oaWdobGlnaHQsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oZixkKXtpZihudWxsPT1kKXt2YXIgaz1teEV2ZW50LmdldFNvdXJjZShmKTsiYSI9PWsubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmKGQ9ay5nZXRBdHRyaWJ1dGUoImhyZWYiKSl9bnVsbCE9Yz9udWxsPT1kfHxhLmlzQ3VzdG9tTGluayhkKT9teEV2ZW50LmNvbnN1bWUoZik6YS5pc0V4dGVybmFsUHJvdG9jb2woZCl8fGEuaXNCbGFua0xpbmsoZCl8fHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yy5kZXN0cm95KCl9LDApOm51bGwhPWQmJm51bGw9PWMmJmEuaXNDdXN0b21MaW5rKGQpJiYobXhFdmVudC5pc1RvdWNoRXZlbnQoZil8fCFteEV2ZW50LmlzUG9wdXBUcmlnZ2VyKGYpKSYmCmEuY3VzdG9tTGlua0NsaWNrZWQoZCkmJm14RXZlbnQuY29uc3VtZShmKX0pLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe251bGwhPWN8fCF0aGlzLmxpZ2h0Ym94Q2xpY2tFbmFibGVkfHxteEV2ZW50LmlzVG91Y2hFdmVudChhKSYmMCE9dGhpcy50b29sYmFySXRlbXMubGVuZ3RofHx0aGlzLnNob3dMaWdodGJveCgpfSkpfTsKR3JhcGhWaWV3ZXIucHJvdG90eXBlLnNob3dMaWdodGJveD1mdW5jdGlvbihhLGMsZil7aWYoIm9wZW4iPT10aGlzLmdyYXBoQ29uZmlnLmxpZ2h0Ym94fHx3aW5kb3cuc2VsZiE9PXdpbmRvdy50b3ApaWYobnVsbD09dGhpcy5saWdodGJveFdpbmRvd3x8dGhpcy5saWdodGJveFdpbmRvdy5jbG9zZWQpe2E9bnVsbCE9YT9hOm51bGwhPXRoaXMuZ3JhcGhDb25maWcuZWRpdGFibGU/dGhpcy5ncmFwaENvbmZpZy5lZGl0YWJsZTohMDtmPXtjbGllbnQ6MSxsaWdodGJveDoxLHRhcmdldDpudWxsIT1mP2Y6ImJsYW5rIn07YSYmKGYuZWRpdD10aGlzLmdyYXBoQ29uZmlnLmVkaXR8fCJfYmxhbmsiKTtpZihudWxsIT1jP2M6MSlmLmNsb3NlPTE7dGhpcy5sYXllcnNFbmFibGVkJiYoZi5sYXllcnM9MSk7bnVsbCE9dGhpcy5ncmFwaENvbmZpZyYmMCE9dGhpcy5ncmFwaENvbmZpZy5uYXYmJihmLm5hdj0xKTtudWxsIT10aGlzLmdyYXBoQ29uZmlnJiZudWxsIT10aGlzLmdyYXBoQ29uZmlnLmhpZ2hsaWdodCYmCihmLmhpZ2hsaWdodD10aGlzLmdyYXBoQ29uZmlnLmhpZ2hsaWdodC5zdWJzdHJpbmcoMSkpO251bGwhPXRoaXMuY3VycmVudFBhZ2UmJjA8dGhpcy5jdXJyZW50UGFnZSYmKGYucGFnZT10aGlzLmN1cnJlbnRQYWdlKTsidW5kZWZpbmVkIiE9PXR5cGVvZiB3aW5kb3cucG9zdE1lc3NhZ2UmJihudWxsPT1kb2N1bWVudC5kb2N1bWVudE1vZGV8fDEwPD1kb2N1bWVudC5kb2N1bWVudE1vZGUpP251bGw9PXRoaXMubGlnaHRib3hXaW5kb3cmJm14RXZlbnQuYWRkTGlzdGVuZXIod2luZG93LCJtZXNzYWdlIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXsicmVhZHkiPT1hLmRhdGEmJmEuc291cmNlPT10aGlzLmxpZ2h0Ym94V2luZG93JiZ0aGlzLmxpZ2h0Ym94V2luZG93LnBvc3RNZXNzYWdlKHRoaXMueG1sLCIqIil9KSk6Zi5kYXRhPWVuY29kZVVSSUNvbXBvbmVudCh0aGlzLnhtbCk7YT0iYXBwLmRpYWdyYW1zLm5ldCI7IjEiPT11cmxQYXJhbXMuZGV2JiYoZi5kZXY9IjEiLApmLmRyYXdkZXY9IjEiLGE9InRlc3QuZHJhdy5pbyIpO3RoaXMubGlnaHRib3hXaW5kb3c9d2luZG93Lm9wZW4oImh0dHBzOi8vIithKyIvI1AiK2VuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShmKSkpfWVsc2UgdGhpcy5saWdodGJveFdpbmRvdy5mb2N1cygpO2Vsc2UgdGhpcy5zaG93TG9jYWxMaWdodGJveCgpfTsKR3JhcGhWaWV3ZXIucHJvdG90eXBlLnNob3dMb2NhbExpZ2h0Ym94PWZ1bmN0aW9uKCl7dmFyIGE9bXhVdGlscy5nZXREb2N1bWVudFNjcm9sbE9yaWdpbihkb2N1bWVudCksYz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtteENsaWVudC5JU19RVUlSS1M/KGMuc3R5bGUucG9zaXRpb249ImFic29sdXRlIixjLnN0eWxlLmxlZnQ9YS54KyJweCIsYy5zdHlsZS50b3A9YS55KyJweCIsYy5zdHlsZS53aWR0aD1kb2N1bWVudC5ib2R5Lm9mZnNldFdpZHRoKyJweCIsYy5zdHlsZS5oZWlnaHQ9ZG9jdW1lbnQuYm9keS5vZmZzZXRIZWlnaHQrInB4Iik6Yy5zdHlsZS5jc3NUZXh0PSJwb3NpdGlvbjpmaXhlZDt0b3A6MDtsZWZ0OjA7Ym90dG9tOjA7cmlnaHQ6MDsiO2Muc3R5bGUuekluZGV4PXRoaXMubGlnaHRib3haSW5kZXg7Yy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9IiMwMDAwMDAiO214VXRpbHMuc2V0T3BhY2l0eShjLDcwKTtkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGMpOwp2YXIgZj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbWciKTtmLnNldEF0dHJpYnV0ZSgiYm9yZGVyIiwiMCIpO2Yuc2V0QXR0cmlidXRlKCJzcmMiLEVkaXRvci5jbG9zZUltYWdlKTtteENsaWVudC5JU19RVUlSS1M/KGYuc3R5bGUucG9zaXRpb249ImFic29sdXRlIixmLnN0eWxlLnJpZ2h0PSIzMnB4IixmLnN0eWxlLnRvcD1hLnkrMzIrInB4Iik6Zi5zdHlsZS5jc3NUZXh0PSJwb3NpdGlvbjpmaXhlZDt0b3A6MzJweDtyaWdodDozMnB4OyI7Zi5zdHlsZS5jdXJzb3I9InBvaW50ZXIiO214RXZlbnQuYWRkTGlzdGVuZXIoZiwiY2xpY2siLGZ1bmN0aW9uKCl7ay5kZXN0cm95KCl9KTt1cmxQYXJhbXMucGFnZXM9IjEiO3VybFBhcmFtcy5wYWdlPXRoaXMuY3VycmVudFBhZ2U7dXJsUGFyYW1zWyJwYWdlLWlkIl09dGhpcy5ncmFwaENvbmZpZy5wYWdlSWQ7dXJsUGFyYW1zWyJsYXllci1pZHMiXT1udWxsIT10aGlzLmdyYXBoQ29uZmlnLmxheWVySWRzJiYwPHRoaXMuZ3JhcGhDb25maWcubGF5ZXJJZHMubGVuZ3RoPwp0aGlzLmdyYXBoQ29uZmlnLmxheWVySWRzLmpvaW4oIiAiKTpudWxsO3VybFBhcmFtcy5uYXY9MCE9dGhpcy5ncmFwaENvbmZpZy5uYXY/IjEiOiIwIjt1cmxQYXJhbXMubGF5ZXJzPXRoaXMubGF5ZXJzRW5hYmxlZD8iMSI6IjAiO2lmKG51bGw9PWRvY3VtZW50LmRvY3VtZW50TW9kZXx8MTA8PWRvY3VtZW50LmRvY3VtZW50TW9kZSlFZGl0b3IucHJvdG90eXBlLmVkaXRCdXR0b25MaW5rPXRoaXMuZ3JhcGhDb25maWcuZWRpdCxFZGl0b3IucHJvdG90eXBlLmVkaXRCdXR0b25GdW5jPXRoaXMuZ3JhcGhDb25maWcuZWRpdEZ1bmM7RWRpdG9yVWkucHJvdG90eXBlLnVwZGF0ZUFjdGlvblN0YXRlcz1mdW5jdGlvbigpe307RWRpdG9yVWkucHJvdG90eXBlLmFkZEJlZm9yZVVubG9hZExpc3RlbmVyPWZ1bmN0aW9uKCl7fTtFZGl0b3JVaS5wcm90b3R5cGUuYWRkQ2hyb21lbGVzc0NsaWNrSGFuZGxlcj1mdW5jdGlvbigpe307dmFyIGQ9R3JhcGgucHJvdG90eXBlLnNoYWRvd0lkO0dyYXBoLnByb3RvdHlwZS5zaGFkb3dJZD0KImxpZ2h0Ym94RHJvcFNoYWRvdyI7dmFyIGs9bmV3IEVkaXRvclVpKG5ldyBFZGl0b3IoITApLGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLCEwKTtrLmVkaXRvci5lZGl0QmxhbmtVcmw9dGhpcy5lZGl0QmxhbmtVcmw7ay5lZGl0b3IuZ3JhcGguc2hhZG93SWQ9ImxpZ2h0Ym94RHJvcFNoYWRvdyI7R3JhcGgucHJvdG90eXBlLnNoYWRvd0lkPWQ7ay5yZWZyZXNoPWZ1bmN0aW9uKCl7fTt2YXIgbT1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXsyNz09YS5rZXlDb2RlJiZrLmRlc3Ryb3koKX0pLHE9ay5kZXN0cm95O2suZGVzdHJveT1mdW5jdGlvbigpe214RXZlbnQucmVtb3ZlTGlzdGVuZXIoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LCJrZXlkb3duIixtKTtkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGMpO2RvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoZik7ZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdz0iYXV0byI7R3JhcGhWaWV3ZXIucmVzaXplU2Vuc29yRW5hYmxlZD0KITA7cS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O3ZhciBiPWsuZWRpdG9yLmdyYXBoLGU9Yi5jb250YWluZXI7ZS5zdHlsZS5vdmVyZmxvdz0iaGlkZGVuIjt0aGlzLmxpZ2h0Ym94Q2hyb21lPyhlLnN0eWxlLmJvcmRlcj0iMXB4IHNvbGlkICNjMGMwYzAiLGUuc3R5bGUubWFyZ2luPSI0MHB4IixteEV2ZW50LmFkZExpc3RlbmVyKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCwia2V5ZG93biIsbSkpOihjLnN0eWxlLmRpc3BsYXk9Im5vbmUiLGYuc3R5bGUuZGlzcGxheT0ibm9uZSIpO3ZhciBnPXRoaXM7Yi5nZXRJbWFnZUZyb21CdW5kbGVzPWZ1bmN0aW9uKGEpe3JldHVybiBnLmdldEltYWdlVXJsKGEpfTt2YXIgbj1rLmNyZWF0ZVRlbXBvcmFyeUdyYXBoO2suY3JlYXRlVGVtcG9yYXJ5R3JhcGg9ZnVuY3Rpb24oKXt2YXIgYT1uLmFwcGx5KHRoaXMsYXJndW1lbnRzKTthLmdldEltYWdlRnJvbUJ1bmRsZXM9ZnVuY3Rpb24oYSl7cmV0dXJuIGcuZ2V0SW1hZ2VVcmwoYSl9O3JldHVybiBhfTsKdGhpcy5ncmFwaENvbmZpZy5tb3ZlJiYoYi5pc01vdmVDZWxsc0V2ZW50PWZ1bmN0aW9uKGEpe3JldHVybiEwfSk7bXhDbGllbnQuSVNfUVVJUktTfHwobXhVdGlscy5zZXRQcmVmaXhlZFN0eWxlKGUuc3R5bGUsImJvcmRlci1yYWRpdXMiLCI0cHgiKSxlLnN0eWxlLnBvc2l0aW9uPSJmaXhlZCIpO0dyYXBoVmlld2VyLnJlc2l6ZVNlbnNvckVuYWJsZWQ9ITE7ZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdz0iaGlkZGVuIjtteENsaWVudC5JU19TRnx8bXhDbGllbnQuSVNfRURHRXx8KG14VXRpbHMuc2V0UHJlZml4ZWRTdHlsZShlLnN0eWxlLCJ0cmFuc2Zvcm0iLCJyb3RhdGVZKDkwZGVnKSIpLG14VXRpbHMuc2V0UHJlZml4ZWRTdHlsZShlLnN0eWxlLCJ0cmFuc2l0aW9uIiwiYWxsIC4yNXMgZWFzZS1pbi1vdXQiKSk7dGhpcy5hZGRDbGlja0hhbmRsZXIoYixrKTt3aW5kb3cuc2V0VGltZW91dChteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe2Uuc3R5bGUub3V0bGluZT0ibm9uZSI7CmUuc3R5bGUuekluZGV4PXRoaXMubGlnaHRib3haSW5kZXg7Zi5zdHlsZS56SW5kZXg9dGhpcy5saWdodGJveFpJbmRleDtkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGUpO2RvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZik7ay5zZXRGaWxlRGF0YSh0aGlzLnhtbCk7bXhVdGlscy5zZXRQcmVmaXhlZFN0eWxlKGUuc3R5bGUsInRyYW5zZm9ybSIsInJvdGF0ZVkoMGRlZykiKTtrLmNocm9tZWxlc3NUb29sYmFyLnN0eWxlLmJvdHRvbT0iNjBweCI7ay5jaHJvbWVsZXNzVG9vbGJhci5zdHlsZS56SW5kZXg9dGhpcy5saWdodGJveFpJbmRleDtkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGsuY2hyb21lbGVzc1Rvb2xiYXIpO2suZ2V0RWRpdEJsYW5rWG1sPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMueG1sfSk7bXhDbGllbnQuSVNfUVVJUktTJiYoZS5zdHlsZS5wb3NpdGlvbj0iYWJzb2x1dGUiLGUuc3R5bGUuZGlzcGxheT0iYmxvY2siLGUuc3R5bGUubGVmdD0KYS54KyJweCIsZS5zdHlsZS50b3A9YS55KyJweCIsZS5zdHlsZS53aWR0aD1kb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoLTgwKyJweCIsZS5zdHlsZS5oZWlnaHQ9ZG9jdW1lbnQuYm9keS5jbGllbnRIZWlnaHQtODArInB4IixlLnN0eWxlLmJhY2tncm91bmRDb2xvcj0id2hpdGUiLGsuY2hyb21lbGVzc1Rvb2xiYXIuc3R5bGUuZGlzcGxheT0iYmxvY2siLGsuY2hyb21lbGVzc1Rvb2xiYXIuc3R5bGUucG9zaXRpb249ImFic29sdXRlIixrLmNocm9tZWxlc3NUb29sYmFyLnN0eWxlLmJvdHRvbT0iIixrLmNocm9tZWxlc3NUb29sYmFyLnN0eWxlLnRvcD1hLnkrZG9jdW1lbnQuYm9keS5jbGllbnRIZWlnaHQtMTAwKyJweCIpO2subGlnaHRib3hGaXQoKTtrLmNocm9tZWxlc3NSZXNpemUoKTt0aGlzLnNob3dMYXllcnMoYix0aGlzLmdyYXBoKTtteEV2ZW50LmFkZExpc3RlbmVyKGMsImNsaWNrIixmdW5jdGlvbigpe2suZGVzdHJveSgpfSl9KSwwKTtyZXR1cm4ga307CkdyYXBoVmlld2VyLnByb3RvdHlwZS51cGRhdGVUaXRsZT1mdW5jdGlvbihhKXthPWF8fCIiO3RoaXMuc2hvd1RpdGxlQXNUb29sdGlwJiZudWxsIT10aGlzLmdyYXBoJiZudWxsIT10aGlzLmdyYXBoLmNvbnRhaW5lciYmdGhpcy5ncmFwaC5jb250YWluZXIuc2V0QXR0cmlidXRlKCJ0aXRsZSIsYSk7bnVsbCE9dGhpcy5maWxlbmFtZSYmKHRoaXMuZmlsZW5hbWUuaW5uZXJIVE1MPSIiLG14VXRpbHMud3JpdGUodGhpcy5maWxlbmFtZSxhKSx0aGlzLmZpbGVuYW1lLnNldEF0dHJpYnV0ZSgidGl0bGUiLGEpKX07CkdyYXBoVmlld2VyLnByb2Nlc3NFbGVtZW50cz1mdW5jdGlvbihhKXtteFV0aWxzLmZvckVhY2goR3JhcGhWaWV3ZXIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShhfHwibXhncmFwaCIpLGZ1bmN0aW9uKGEpe3RyeXthLmlubmVySFRNTD0iIixHcmFwaFZpZXdlci5jcmVhdGVWaWV3ZXJGb3JFbGVtZW50KGEpfWNhdGNoKGYpe3Rocm93IGEuaW5uZXJIVE1MPWYubWVzc2FnZSxmO319KX07CkdyYXBoVmlld2VyLmdldEVsZW1lbnRzQnlDbGFzc05hbWU9ZnVuY3Rpb24oYSl7aWYoZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSl7dmFyIGM9ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShhKTthPVtdO2Zvcih2YXIgZj0wO2Y8Yy5sZW5ndGg7ZisrKWEucHVzaChjW2ZdKTtyZXR1cm4gYX1mb3IodmFyIGQ9ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIioiKSxjPVtdLGY9MDtmPGQubGVuZ3RoO2YrKyl7dmFyIGs9ZFtmXS5jbGFzc05hbWU7bnVsbCE9ayYmMDxrLmxlbmd0aCYmKGs9ay5zcGxpdCgiICIpLDA8PW14VXRpbHMuaW5kZXhPZihrLGEpJiZjLnB1c2goZFtmXSkpfXJldHVybiBjfTsKR3JhcGhWaWV3ZXIuY3JlYXRlVmlld2VyRm9yRWxlbWVudD1mdW5jdGlvbihhLGMpe3ZhciBmPWEuZ2V0QXR0cmlidXRlKCJkYXRhLW14Z3JhcGgiKTtpZihudWxsIT1mKXt2YXIgZD1KU09OLnBhcnNlKGYpLGs9ZnVuY3Rpb24oZil7Zj1teFV0aWxzLnBhcnNlWG1sKGYpO2Y9bmV3IEdyYXBoVmlld2VyKGEsZi5kb2N1bWVudEVsZW1lbnQsZCk7bnVsbCE9YyYmYyhmKX07bnVsbCE9ZC51cmw/R3JhcGhWaWV3ZXIuZ2V0VXJsKGQudXJsLGZ1bmN0aW9uKGEpe2soYSl9KTprKGQueG1sKX19OwpHcmFwaFZpZXdlci5pbml0Q3NzPWZ1bmN0aW9uKCl7dHJ5e3ZhciBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInN0eWxlIik7YS50eXBlPSJ0ZXh0L2NzcyI7YS5pbm5lckhUTUw9ImRpdi5teFRvb2x0aXAge1xuLXdlYmtpdC1ib3gtc2hhZG93OiAzcHggM3B4IDEycHggI0MwQzBDMDtcbi1tb3otYm94LXNoYWRvdzogM3B4IDNweCAxMnB4ICNDMEMwQzA7XG5ib3gtc2hhZG93OiAzcHggM3B4IDEycHggI0MwQzBDMDtcbmJhY2tncm91bmQ6ICNGRkZGQ0M7XG5ib3JkZXItc3R5bGU6IHNvbGlkO1xuYm9yZGVyLXdpZHRoOiAxcHg7XG5ib3JkZXItY29sb3I6IGJsYWNrO1xuZm9udC1mYW1pbHk6IEFyaWFsO1xuZm9udC1zaXplOiA4cHQ7XG5wb3NpdGlvbjogYWJzb2x1dGU7XG5jdXJzb3I6IGRlZmF1bHQ7XG5wYWRkaW5nOiA0cHg7XG5jb2xvcjogYmxhY2s7fVxudGQubXhQb3B1cE1lbnVJY29uIGRpdiB7XG53aWR0aDoxNnB4O1xuaGVpZ2h0OjE2cHg7fVxuaHRtbCBkaXYubXhQb3B1cE1lbnUge1xuLXdlYmtpdC1ib3gtc2hhZG93OjJweCAycHggM3B4ICNkNWQ1ZDU7XG4tbW96LWJveC1zaGFkb3c6MnB4IDJweCAzcHggI2Q1ZDVkNTtcbmJveC1zaGFkb3c6MnB4IDJweCAzcHggI2Q1ZDVkNTtcbl9maWx0ZXI6cHJvZ2lkOkRYSW1hZ2VUcmFuc2Zvcm0uTWljcm9zb2Z0LkRyb3BTaGFkb3coT2ZmWD0yLCBPZmZZPTIsIENvbG9yPScjZDBkMGQwJyxQb3NpdGl2ZT0ndHJ1ZScpO1xuYmFja2dyb3VuZDp3aGl0ZTtcbnBvc2l0aW9uOmFic29sdXRlO1xuYm9yZGVyOjNweCBzb2xpZCAjZTdlN2U3O1xucGFkZGluZzozcHg7fVxuaHRtbCB0YWJsZS5teFBvcHVwTWVudSB7XG5ib3JkZXItY29sbGFwc2U6Y29sbGFwc2U7XG5tYXJnaW46MHB4O31cbmh0bWwgdGQubXhQb3B1cE1lbnVJdGVtIHtcbnBhZGRpbmc6N3B4IDMwcHggN3B4IDMwcHg7XG5mb250LWZhbWlseTpIZWx2ZXRpY2EgTmV1ZSxIZWx2ZXRpY2EsQXJpYWwgVW5pY29kZSBNUyxBcmlhbDtcbmZvbnQtc2l6ZToxMHB0O31cbmh0bWwgdGQubXhQb3B1cE1lbnVJY29uIHtcbmJhY2tncm91bmQtY29sb3I6d2hpdGU7XG5wYWRkaW5nOjBweDt9XG50ZC5teFBvcHVwTWVudUljb24gLmdlSWNvbiB7XG5wYWRkaW5nOjJweDtcbnBhZGRpbmctYm90dG9tOjRweDtcbm1hcmdpbjoycHg7XG5ib3JkZXI6MXB4IHNvbGlkIHRyYW5zcGFyZW50O1xub3BhY2l0eTowLjU7XG5fd2lkdGg6MjZweDtcbl9oZWlnaHQ6MjZweDt9XG50ZC5teFBvcHVwTWVudUljb24gLmdlSWNvbjpob3ZlciB7XG5ib3JkZXI6MXB4IHNvbGlkIGdyYXk7XG5ib3JkZXItcmFkaXVzOjJweDtcbm9wYWNpdHk6MTt9XG5odG1sIHRyLm14UG9wdXBNZW51SXRlbUhvdmVyIHtcbmJhY2tncm91bmQtY29sb3I6ICNlZWVlZWU7XG5jb2xvcjogYmxhY2s7fVxudGFibGUubXhQb3B1cE1lbnUgaHIge1xuY29sb3I6I2NjY2NjYztcbmJhY2tncm91bmQtY29sb3I6I2NjY2NjYztcbmJvcmRlcjpub25lO1xuaGVpZ2h0OjFweDt9XG50YWJsZS5teFBvcHVwTWVudSB0ciB7XHRmb250LXNpemU6NHB0O31cbi5nZURpYWxvZyB7IGZvbnQtZmFtaWx5OkhlbHZldGljYSBOZXVlLEhlbHZldGljYSxBcmlhbCBVbmljb2RlIE1TLEFyaWFsO1xuZm9udC1zaXplOjEwcHQ7XG5ib3JkZXI6bm9uZTtcbm1hcmdpbjowcHg7fVxuLmdlRGlhbG9nIHtcdHBvc2l0aW9uOmFic29sdXRlO1x0YmFja2dyb3VuZDp3aGl0ZTtcdG92ZXJmbG93OmhpZGRlbjtcdHBhZGRpbmc6MzBweDtcdGJvcmRlcjoxcHggc29saWQgI2FjYWNhYztcdC13ZWJraXQtYm94LXNoYWRvdzowcHggMHB4IDJweCAycHggI2Q1ZDVkNTtcdC1tb3otYm94LXNoYWRvdzowcHggMHB4IDJweCAycHggI2Q1ZDVkNTtcdGJveC1zaGFkb3c6MHB4IDBweCAycHggMnB4ICNkNWQ1ZDU7XHRfZmlsdGVyOnByb2dpZDpEWEltYWdlVHJhbnNmb3JtLk1pY3Jvc29mdC5Ecm9wU2hhZG93KE9mZlg9MiwgT2ZmWT0yLCBDb2xvcj0nI2Q1ZDVkNScsIFBvc2l0aXZlPSd0cnVlJyk7XHR6LWluZGV4OiAyO30uZ2VEaWFsb2dDbG9zZSB7XHRwb3NpdGlvbjphYnNvbHV0ZTtcdHdpZHRoOjlweDtcdGhlaWdodDo5cHg7XHRvcGFjaXR5OjAuNTtcdGN1cnNvcjpwb2ludGVyO1x0X2ZpbHRlcjphbHBoYShvcGFjaXR5PTUwKTt9LmdlRGlhbG9nQ2xvc2U6aG92ZXIge1x0b3BhY2l0eToxO30uZ2VEaWFsb2dUaXRsZSB7XHRib3gtc2l6aW5nOmJvcmRlci1ib3g7XHR3aGl0ZS1zcGFjZTpub3dyYXA7XHRiYWNrZ3JvdW5kOnJnYigyMjksIDIyOSwgMjI5KTtcdGJvcmRlci1ib3R0b206MXB4IHNvbGlkIHJnYigxOTIsIDE5MiwgMTkyKTtcdGZvbnQtc2l6ZToxNXB4O1x0Zm9udC13ZWlnaHQ6Ym9sZDtcdHRleHQtYWxpZ246Y2VudGVyO1x0Y29sb3I6cmdiKDM1LCA4NiwgMTQ5KTt9LmdlRGlhbG9nRm9vdGVyIHtcdGJhY2tncm91bmQ6d2hpdGVTbW9rZTtcdHdoaXRlLXNwYWNlOm5vd3JhcDtcdHRleHQtYWxpZ246cmlnaHQ7XHRib3gtc2l6aW5nOmJvcmRlci1ib3g7XHRib3JkZXItdG9wOjFweCBzb2xpZCAjZTVlNWU1O1x0Y29sb3I6ZGFya0dyYXk7fVxuLmdlQnRuIHtcdGJhY2tncm91bmQtY29sb3I6ICNmNWY1ZjU7XHRib3JkZXItcmFkaXVzOiAycHg7XHRib3JkZXI6IDFweCBzb2xpZCAjZDhkOGQ4O1x0Y29sb3I6ICMzMzM7XHRjdXJzb3I6IGRlZmF1bHQ7XHRmb250LXNpemU6IDExcHg7XHRmb250LXdlaWdodDogYm9sZDtcdGhlaWdodDogMjlweDtcdGxpbmUtaGVpZ2h0OiAyN3B4O1x0bWFyZ2luOiAwIDAgMCA4cHg7XHRtaW4td2lkdGg6IDcycHg7XHRvdXRsaW5lOiAwO1x0cGFkZGluZzogMCA4cHg7XHRjdXJzb3I6IHBvaW50ZXI7fS5nZUJ0bjpob3ZlciwgLmdlQnRuOmZvY3VzIHtcdC13ZWJraXQtYm94LXNoYWRvdzogMHB4IDFweCAxcHggcmdiYSgwLDAsMCwwLjEpO1x0LW1vei1ib3gtc2hhZG93OiAwcHggMXB4IDFweCByZ2JhKDAsMCwwLDAuMSk7XHRib3gtc2hhZG93OiAwcHggMXB4IDFweCByZ2JhKDAsMCwwLDAuMSk7XHRib3JkZXI6IDFweCBzb2xpZCAjYzZjNmM2O1x0YmFja2dyb3VuZC1jb2xvcjogI2Y4ZjhmODtcdGJhY2tncm91bmQtaW1hZ2U6IGxpbmVhci1ncmFkaWVudCgjZjhmOGY4IDBweCwjZjFmMWYxIDEwMCUpO1x0Y29sb3I6ICMxMTE7fS5nZUJ0bjpkaXNhYmxlZCB7XHRvcGFjaXR5OiAuNTt9LmdlUHJpbWFyeUJ0biB7XHRiYWNrZ3JvdW5kLWNvbG9yOiAjNGQ5MGZlO1x0YmFja2dyb3VuZC1pbWFnZTogbGluZWFyLWdyYWRpZW50KCM0ZDkwZmUgMHB4LCM0Nzg3ZWQgMTAwJSk7XHRib3JkZXI6IDFweCBzb2xpZCAjMzA3OWVkO1x0Y29sb3I6ICNmZmY7fS5nZVByaW1hcnlCdG46aG92ZXIsIC5nZVByaW1hcnlCdG46Zm9jdXMge1x0YmFja2dyb3VuZC1jb2xvcjogIzM1N2FlODtcdGJhY2tncm91bmQtaW1hZ2U6IGxpbmVhci1ncmFkaWVudCgjNGQ5MGZlIDBweCwjMzU3YWU4IDEwMCUpO1x0Ym9yZGVyOiAxcHggc29saWQgIzJmNWJiNztcdGNvbG9yOiAjZmZmO30uZ2VQcmltYXJ5QnRuOmRpc2FibGVkIHtcdG9wYWNpdHk6IC41O30iO2RvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJoZWFkIilbMF0uYXBwZW5kQ2hpbGQoYSl9Y2F0Y2goYyl7fX07CkdyYXBoVmlld2VyLmNhY2hlZFVybHM9e307R3JhcGhWaWV3ZXIuZ2V0VXJsPWZ1bmN0aW9uKGEsYyxmKXtpZihudWxsIT1HcmFwaFZpZXdlci5jYWNoZWRVcmxzW2FdKWMoR3JhcGhWaWV3ZXIuY2FjaGVkVXJsc1thXSk7ZWxzZXt2YXIgZD1udWxsIT1uYXZpZ2F0b3IudXNlckFnZW50JiYwPG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiTVNJRSA5Iik/bmV3IFhEb21haW5SZXF1ZXN0Om5ldyBYTUxIdHRwUmVxdWVzdDtkLm9wZW4oIkdFVCIsYSk7ZC5vbmxvYWQ9ZnVuY3Rpb24oKXtjKG51bGwhPWQuZ2V0VGV4dD9kLmdldFRleHQoKTpkLnJlc3BvbnNlVGV4dCl9O2Qub25lcnJvcj1mO2Quc2VuZCgpfX07R3JhcGhWaWV3ZXIucmVzaXplU2Vuc29yRW5hYmxlZD0hMDtHcmFwaFZpZXdlci51c2VSZXNpemVTZW5zb3I9ITA7CihmdW5jdGlvbigpe3ZhciBhPXdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHdpbmRvdy5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHdpbmRvdy53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fGZ1bmN0aW9uKGEpe3JldHVybiB3aW5kb3cuc2V0VGltZW91dChhLDIwKX0sYz1mdW5jdGlvbihmLGQpe2Z1bmN0aW9uIGsoKXt0aGlzLnE9W107dGhpcy5hZGQ9ZnVuY3Rpb24oYSl7dGhpcy5xLnB1c2goYSl9O3ZhciBhLGI7dGhpcy5jYWxsPWZ1bmN0aW9uKCl7YT0wO2ZvcihiPXRoaXMucS5sZW5ndGg7YTxiO2ErKyl0aGlzLnFbYV0uY2FsbCgpfX1mdW5jdGlvbiBtKGEsYil7cmV0dXJuIGEuY3VycmVudFN0eWxlP2EuY3VycmVudFN0eWxlW2JdOndpbmRvdy5nZXRDb21wdXRlZFN0eWxlP3dpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGEsbnVsbCkuZ2V0UHJvcGVydHlWYWx1ZShiKTphLnN0eWxlW2JdfWZ1bmN0aW9uIHEoYixjKXtpZighYi5yZXNpemVkQXR0YWNoZWQpYi5yZXNpemVkQXR0YWNoZWQ9Cm5ldyBrLGIucmVzaXplZEF0dGFjaGVkLmFkZChjKTtlbHNlIGlmKGIucmVzaXplZEF0dGFjaGVkKXtiLnJlc2l6ZWRBdHRhY2hlZC5hZGQoYyk7cmV0dXJufWIucmVzaXplU2Vuc29yPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2IucmVzaXplU2Vuc29yLmNsYXNzTmFtZT0icmVzaXplLXNlbnNvciI7Yi5yZXNpemVTZW5zb3Iuc3R5bGUuY3NzVGV4dD0icG9zaXRpb246IGFic29sdXRlOyBsZWZ0OiAwOyB0b3A6IDA7IHJpZ2h0OiAwOyBib3R0b206IDA7IG92ZXJmbG93OiBoaWRkZW47IHotaW5kZXg6IC0xOyB2aXNpYmlsaXR5OiBoaWRkZW47IjtiLnJlc2l6ZVNlbnNvci5pbm5lckhUTUw9JzxkaXYgY2xhc3M9InJlc2l6ZS1zZW5zb3ItZXhwYW5kIiBzdHlsZT0icG9zaXRpb246IGFic29sdXRlOyBsZWZ0OiAwOyB0b3A6IDA7IHJpZ2h0OiAwOyBib3R0b206IDA7IG92ZXJmbG93OiBoaWRkZW47IHotaW5kZXg6IC0xOyB2aXNpYmlsaXR5OiBoaWRkZW47Ij48ZGl2IHN0eWxlPSJwb3NpdGlvbjogYWJzb2x1dGU7IGxlZnQ6IDA7IHRvcDogMDsgdHJhbnNpdGlvbjogMHM7Ij48L2Rpdj48L2Rpdj48ZGl2IGNsYXNzPSJyZXNpemUtc2Vuc29yLXNocmluayIgc3R5bGU9InBvc2l0aW9uOiBhYnNvbHV0ZTsgbGVmdDogMDsgdG9wOiAwOyByaWdodDogMDsgYm90dG9tOiAwOyBvdmVyZmxvdzogaGlkZGVuOyB6LWluZGV4OiAtMTsgdmlzaWJpbGl0eTogaGlkZGVuOyI+PGRpdiBzdHlsZT0icG9zaXRpb246IGFic29sdXRlOyBsZWZ0OiAwOyB0b3A6IDA7IHRyYW5zaXRpb246IDBzOyB3aWR0aDogMjAwJTsgaGVpZ2h0OiAyMDAlIj48L2Rpdj48L2Rpdj4nOwpiLmFwcGVuZENoaWxkKGIucmVzaXplU2Vuc29yKTsic3RhdGljIj09bShiLCJwb3NpdGlvbiIpJiYoYi5zdHlsZS5wb3NpdGlvbj0icmVsYXRpdmUiKTt2YXIgZD1iLnJlc2l6ZVNlbnNvci5jaGlsZE5vZGVzWzBdLGU9ZC5jaGlsZE5vZGVzWzBdLGY9Yi5yZXNpemVTZW5zb3IuY2hpbGROb2Rlc1sxXSxnPWZ1bmN0aW9uKCl7ZS5zdHlsZS53aWR0aD0iMTAwMDAwcHgiO2Uuc3R5bGUuaGVpZ2h0PSIxMDAwMDBweCI7ZC5zY3JvbGxMZWZ0PTFFNTtkLnNjcm9sbFRvcD0xRTU7Zi5zY3JvbGxMZWZ0PTFFNTtmLnNjcm9sbFRvcD0xRTV9O2coKTt2YXIgbD0hMSxuPWZ1bmN0aW9uKCl7Yi5yZXNpemVkQXR0YWNoZWQmJihsJiYoYi5yZXNpemVkQXR0YWNoZWQuY2FsbCgpLGw9ITEpLGEobikpfTthKG4pO3ZhciBwLHEsRSxHLEY9ZnVuY3Rpb24oKXtpZigoRT1iLm9mZnNldFdpZHRoKSE9cHx8KEc9Yi5vZmZzZXRIZWlnaHQpIT1xKWw9ITAscD1FLHE9RztnKCl9LEg9ZnVuY3Rpb24oYSxiLGMpe2EuYXR0YWNoRXZlbnQ/CmEuYXR0YWNoRXZlbnQoIm9uIitiLGMpOmEuYWRkRXZlbnRMaXN0ZW5lcihiLGMpfTtIKGQsInNjcm9sbCIsRik7SChmLCJzY3JvbGwiLEYpfXZhciBiPWZ1bmN0aW9uKCl7R3JhcGhWaWV3ZXIucmVzaXplU2Vuc29yRW5hYmxlZCYmZCgpfSxlPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChmKSxnPSJbb2JqZWN0IEFycmF5XSI9PT1lfHwiW29iamVjdCBOb2RlTGlzdF0iPT09ZXx8IltvYmplY3QgSFRNTENvbGxlY3Rpb25dIj09PWV8fCJ1bmRlZmluZWQiIT09dHlwZW9mIGpRdWVyeSYmZiBpbnN0YW5jZW9mIGpRdWVyeXx8InVuZGVmaW5lZCIhPT10eXBlb2YgRWxlbWVudHMmJmYgaW5zdGFuY2VvZiBFbGVtZW50cztpZihnKWZvcih2YXIgZT0wLG49Zi5sZW5ndGg7ZTxuO2UrKylxKGZbZV0sYik7ZWxzZSBxKGYsYik7dGhpcy5kZXRhY2g9ZnVuY3Rpb24oKXtpZihnKWZvcih2YXIgYT0wLGI9Zi5sZW5ndGg7YTxiO2ErKyljLmRldGFjaChmW2FdKTtlbHNlIGMuZGV0YWNoKGYpfX07CmMuZGV0YWNoPWZ1bmN0aW9uKGEpe2EucmVzaXplU2Vuc29yJiYoYS5yZW1vdmVDaGlsZChhLnJlc2l6ZVNlbnNvciksZGVsZXRlIGEucmVzaXplU2Vuc29yLGRlbGV0ZSBhLnJlc2l6ZWRBdHRhY2hlZCl9O3dpbmRvdy5SZXNpemVTZW5zb3I9Y30pKCk7CihmdW5jdGlvbigpe0VkaXRvci5pbml0TWF0aCgpO0dyYXBoVmlld2VyLmluaXRDc3MoKTtpZihudWxsIT13aW5kb3cub25EcmF3aW9WaWV3ZXJMb2FkKXdpbmRvdy5vbkRyYXdpb1ZpZXdlckxvYWQoKTtlbHNlIEdyYXBoVmlld2VyLnByb2Nlc3NFbGVtZW50cygpfSkoKTsK")),mxTooltipHandler.prototype.show=function(l,Z,b){this.destroyed||null!==l&&0!==l.length&&(null==this.div&&this.init(),mxUtils.isNode(l)?(this.div.innerHTML="",this.div.appendChild(l)):this.div.innerHTML=l.replace(/\n/g,"<br>"),this.$div.place_tt(Z+20,b),this.div.style.visibility="",mxUtils.fit(this.div))},mxTooltipHandler.prototype.init=function(){null!==this.div&&void 0!==this.div||(this.$div=$('<div class="graph-tooltip">'),this.div=this.$div[0],mxEvent.addGestureListeners(this.div,mxUtils.bind(this,(function(l){this.hideTooltip()}))))},mxTooltipHandler.prototype.hideTooltip=function(){null!=this.div&&(this.div.style.visibility="hidden",this.div.innerHTML="")},mxTooltipHandler.prototype.delay=200,Graph.prototype.getTooltipForCell=function(l){var Z=!1,b=document.createElement("div");if(mxUtils.isNode(l.value)){var G=l.value.getAttribute("tooltip");if(null!=G){Z=!0,null!==G&&this.isReplacePlaceholders(l)&&(G=this.replacePlaceholders(l,G));var d=document.createElement("div");d.className="tooltip-text",d.innerHTML=this.sanitizeHtml(G),b.appendChild(d)}var m=this.builtInProperties,W=l.value.attributes,c=[];m.push("link");for(var h=0;h<W.length;h++)mxUtils.indexOf(m,W[h].nodeName)<0&&W[h].nodeValue.length>0&&c.push({name:W[h].nodeName,value:W[h].nodeValue});if(c.sort((function(l,Z){return l.name<Z.name?-1:l.name>Z.name?1:0})),c.length>0){Z=!0;for(var X=document.createElement("div"),V="",u=0;u<c.length;u++)"link"===c[u].name&&this.isCustomLink(c[u].value)||(V+=("link"!==c[u].name?"<b>"+c[u].name+":</b> ":"")+mxUtils.htmlEntities(c[u].value)+"\n");X.innerHTML=V,b.appendChild(X)}}return null!=l.GF_tooltipHandler&&null!==l.GF_tooltipHandler.getDiv(b)&&(Z=!0),Z?b:""},mxEvent.addMouseWheelListener=function(l,Z){if(null!=l){var b=function(Z){var b;null==Z&&(Z=window.event),b=mxClient.IS_FF?-Z.detail/2:Z.wheelDelta/120,0!==b&&l(Z,0<b)};mxClient.IS_NS&&null==document.documentMode?mxEvent.addListener(mxClient.IS_GC&&null!=Z?Z:window,mxClient.IS_SF||mxClient.IS_GC?"mousewheel":"DOMMouseScroll",b):mxEvent.addListener(document,"mousewheel",b)}},l.postInitGlobalVars(),mxTooltipHandler.prototype.delay=Y.a.CONSTANTS.CONF_TOOLTIPS_DELAY),l.initialized=!0),b.after();case 4:case"end":return Z.stop()}}),Z,this)})))}},{key:"preInitGlobalVars",value:function(){var l=window;l.BASE_PATH=Y.a.plugin.getMxBasePath(),l.RESOURCES_PATH=Y.a.plugin.getMxResourcePath(),l.RESOURCE_BASE=Y.a.plugin.getMxResourcePath(),l.STENCIL_PATH=Y.a.plugin.getStencilsPath(),l.SHAPES_PATH=Y.a.plugin.getShapesPath(),l.IMAGE_PATH=Y.a.plugin.getMxImagePath(),l.STYLE_PATH=Y.a.plugin.getMxStylePath(),l.CSS_PATH=Y.a.plugin.getMxCssPath(),l.mxLanguages=["en"],l.DRAWIO_BASE_URL=Y.a.plugin.getDrawioPath(),l.DRAW_MATH_URL=Y.a.plugin.getDrawioPath(),l.DRAWIO_VIEWER_URL=Y.a.plugin.getDrawioPath()+"viewer.min.js",l.DRAW_MATH_URL=Y.a.plugin.getDrawioPath()+"math/",l.DRAWIO_CONFIG=null;var Z=new Object;l.urlParams=Z,Z.sync="none",Z.lightbox="1",Z.nav="1",Z.local="1",Z.embed="1",Z.ui="min",l.mxImageBasePath=Y.a.plugin.getMxImagePath(),l.mxBasePath=Y.a.plugin.getMxBasePath(),l.mxLoadStylesheets=!0,l.mxLanguage="en",l.mxLoadResources=!0}},{key:"postInitGlobalVars",value:function(){var l=window;l.mxClient.mxBasePath=Y.a.plugin.getMxBasePath(),l.mxClient.mxImageBasePath=Y.a.plugin.getMxImagePath(),l.mxClient.mxLoadResources=!0,l.mxClient.mxLanguage="en",l.mxClient.mxLoadStylesheets=!0,l.VSD_CONVERT_URL=null,l.EMF_CONVERT_URL=null,l.ICONSEARCH_PATH=null}},{key:"loadXml",value:function(l){try{var Z=mxUtils.load(l);if(Z.getStatus()>=200&&Z.getStatus()<=299)return Z.getText();Y.a.log.error("Cannot load "+l,Z.getStatus())}catch(Z){Y.a.log.error("Cannot load "+l,Z)}return null}},{key:"compress",value:function(l){return Graph.compress(l,!0)}},{key:"decompress",value:function(l){return Graph.decompress(l,!0)}}],(b=[{key:"anonymize",value:function(){return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark((function l(){return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:H.anonymize(this.graph);case 1:case"end":return l.stop()}}),l,this)})))}},{key:"initGraph",value:function(){var l=Y.a.trace.before(this.constructor.name+".initGraph()");return this.graph=new Graph(this.container),this.graph.setPanning(!0),this.clickBackup=this.graph.click,this.dbclickBackup=this.graph.dblClick,mxEvent.addMouseWheelListener(mxUtils.bind(this,this.eventMouseWheel),this.container),(mxClient.IS_IE||mxClient.IS_EDGE)&&mxEvent.addListener(this.container,"wheel",mxUtils.bind(this,this.eventMouseWheel)),mxEvent.addListener(document,"keydown",mxUtils.bind(this,this.eventKey)),this.container.addEventListener("contextmenu",(function(l){return l.preventDefault()})),this.graph.dblClick=this.eventDbClick.bind(this),l.after(),this}},{key:"drawGraph",value:function(){var l=Y.a.trace.before(this.constructor.name+".drawGraph()");this.graph.getModel().beginUpdate(),this.graph.getModel().clear();try{if("xml"===this.type){var Z=mxUtils.parseXml(this.xmlGraph),b=new mxCodec(Z);this.graph.model.clear(),this.graph.view.scale=1,b.decode(Z.documentElement,this.graph.getModel()),this.loadExtFont(),this.graph.updateCssTransform(),this.graph.selectUnlockedLayer()}if("csv"===this.type)try{H.importCsv(this.graph,this.csvGraph),this.refresh()}catch(l){Y.a.log.error("Bad CSV format",l),Y.a.message.setMessage("Bad CSV format")}}catch(l){Y.a.log.error("Error in draw",l)}finally{this.cells.id=this.getCurrentCells("id"),this.cells.value=this.getCurrentCells("value"),this.graph.getModel().endUpdate()}return l.after(),this}},{key:"loadExtFont",value:function(){return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark((function l(){var Z,b,G;return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:if(Z=this.graph.getModel(),b=Z.extFonts)try{for(b=b.split("|").map((function(l){var Z=l.split("^");return{name:Z[0],url:Z[1]}})),G=0;G<b.length;G++)this.graph.addExtFont(b[G].name,b[G].url)}catch(l){Y.a.log.error("ExtFonts format error:",l.message)}case 3:case"end":return l.stop()}}),l,this)})))}},{key:"applyGraph",value:function(){var l=Y.a.trace.before(this.constructor.name+".applyGraph()");return this.scale?this.unzoomGraph():this.zoomGraph(this.zoomPercent),this.tooltipGraph(this.tooltip),this.lockGraph(this.lock),this.scale&&this.center?this.fitGraph():(this.scaleGraph(this.scale),this.centerGraph(this.center)),this.gridGraph(this.grid),this.bgGraph(this.bgColor),this.graph.foldingEnabled=!0,this.graph.cellRenderer.forceControlClickHandler=!0,this.refresh(),l.after(),this}},{key:"refresh",value:function(){var l=Y.a.trace.before(this.constructor.name+".refresh()");return this.graph.refresh(),l.after(),this}},{key:"destroyGraph",value:function(){return this.graph.destroy(),this.graph=void 0,this}},{key:"lockGraph",value:function(l){return l?this.graph.setEnabled(!1):this.graph.setEnabled(!0),this.lock=l,this}},{key:"tooltipGraph",value:function(l){return l?this.graph.setTooltips(!0):this.graph.setTooltips(!1),this.tooltip=l,this}},{key:"allowDrawio",value:function(l){return l?(mxUrlConverter.prototype.baseUrl="http://draw.io/",mxUrlConverter.prototype.baseDomain=""):(mxUrlConverter.prototype.baseUrl=null,mxUrlConverter.prototype.baseDomain=null),this}},{key:"enableAnim",value:function(l){return this.animation=l,this}},{key:"centerGraph",value:function(l){var Z=Y.a.trace.before(this.constructor.name+".centerGraph()");return this.graph.centerZoom=!1,l?this.graph.center(!0,!0):this.graph.center(!1,!1),this.center=l,Z.after(),this}},{key:"scaleGraph",value:function(l){var Z=Y.a.trace.before(this.constructor.name+".scaleGraph()");return l&&(this.unzoomGraph(),this.graph.fit(),this.graph.view.rendering=!0),this.scale=l,Z.after(),this}},{key:"fitGraph",value:function(){var l=Y.a.trace.before(this.constructor.name+".fitGraph()"),Z=this.graph.getGraphBounds(),b=this.graph.container.clientWidth-2,G=this.graph.container.clientHeight-2,d=Z.width/this.graph.view.scale,m=Z.height/this.graph.view.scale,W=Math.min(3,Math.min(b/d,G/m));return this.graph.view.scaleAndTranslate(W,(2+b-d*W)/(2*W)-Z.x/this.graph.view.scale,(2+G-m*W)/(2*W)-Z.y/this.graph.view.scale),l.after(),this}},{key:"gridGraph",value:function(l){return this.container.style.backgroundImage=l?"url('data:image/gif;base64,R0lGODlhCgAKAJEAAAAAAP///8zMzP///yH5BAEAAAMALAAAAAAKAAoAAAIJ1I6py+0Po2wFADs=')":"",this.grid=l,this}},{key:"zoomGraph",value:function(l){var Z=Y.a.trace.before(this.constructor.name+".zoomGraph()");if(!this.scale&&l&&l.length>0&&"100%"!==l&&"0%"!==l){var b=Number(l.replace("%",""))/100;this.graph.zoomTo(b,!0),this.zoomPercent=l}else this.unzoomGraph();return this.zoom=!0,Z.after(),this}},{key:"unzoomGraph",value:function(){return this.zoom=!1,this.graph.zoomActual(),this}},{key:"bgGraph",value:function(l){var Z=$(this.container);return l?(this.bgColor=l,Z.css("background-color",l)):Z.css("background-color",""),this}},{key:"getMxGraph",value:function(){return this.graph}},{key:"getxmlGraph",value:function(){return this.xmlGraph}},{key:"setContent",value:function(l){var Z=Y.a.trace.before(this.constructor.name+".setContent()");return"xml"===this.type&&(Y.a.utils.isencoded(l)?this.xmlGraph=Y.a.utils.decode(l,!0,!0,!0):this.xmlGraph=l),"csv"===this.type&&(this.csvGraph=l),this.drawGraph(),Z.after(),this}},{key:"getCurrentCells",value:function(l){var Z=this,b=Y.a.trace.before(this.constructor.name+".getCurrentCells()"),G=[],d=this.graph.getModel().cells;return"id"===l?a.a.each(d,(function(l){G.push(Z.getId(l))})):"value"===l&&a.a.each(d,(function(l){G.push(Z.getLabelCell(l))})),b.after(),G}},{key:"findMxCells",value:function(l,Z){var b=this,G=Y.a.trace.before(this.constructor.name+".findMxCells()"),d=this.getMxCells(),m=[];return"id"===l?a.a.each(d,(function(l){Y.a.utils.matchString(l.id,Z)&&m.push(l)})):"value"===l&&a.a.each(d,(function(l){Y.a.utils.matchString(b.getLabelCell(l),Z)&&m.push(l)})),G.after(),m}},{key:"selectMxCells",value:function(l,Z){return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark((function b(){var G;return regeneratorRuntime.wrap((function(b){for(;;)switch(b.prev=b.next){case 0:(G=this.findMxCells(l,Z))&&this.highlightCells(G);case 2:case"end":return b.stop()}}),b,this)})))}},{key:"unselectMxCells",value:function(l,Z){return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark((function b(){var G;return regeneratorRuntime.wrap((function(b){for(;;)switch(b.prev=b.next){case 0:(G=this.findMxCells(l,Z))&&this.unhighlightCells(G);case 2:case"end":return b.stop()}}),b,this)})))}},{key:"createOverlay",value:function(l,Z){var b=new mxCellOverlay(l,Z);return b.addListener(mxEvent.CLICK,(function(l,b){mxUtils.alert("".concat(Z,"\nLast update: ").concat(new Date))})),b}},{key:"addOverlay",value:function(l,Z){return this.graph.addCellOverlay(Z,this.createOverlay(this.graph.warningImage,"State: ".concat(l))),this}},{key:"removeOverlay",value:function(l){return this.graph.removeCellOverlays(l),this}},{key:"addLink",value:function(l,Z){return this.graph.setLinkForCell(l,Z),this}},{key:"getLink",value:function(l){return this.graph.getLinkForCell(l)}},{key:"removeLink",value:function(l){return this.graph.setLinkForCell(l,null),this}},{key:"getOrignalCells",value:function(l){return"id"===l||"value"===l?this.cells[l]:[]}},{key:"renameId",value:function(l,Z){var b=this.findMxCells("id",l);return void 0!==b&&b.length>0?b.forEach((function(l){l.id=Z})):Y.a.log.warn("Cell ".concat(l," not found")),this}},{key:"getXmlModel",value:function(){var l=(new mxCodec).encode(this.graph.getModel());return mxUtils.getXml(l)}},{key:"getMxCells",value:function(){return this.graph.getModel().cells}},{key:"getValuePropOfMxCell",value:function(l,Z){return"id"===l?this.getId(Z):"value"===l?this.getLabelCell(Z):null}},{key:"getStyleCell",value:function(l,Z){var b=this.graph.view.getState(l);return b?b.style[Z]:null}},{key:"isAnimated",value:function(){return this.animation}},{key:"setColorAnimCell",value:function(l,Z,b){var G=Y.a.trace.before(this.constructor.name+".setColorAnimCell()"),d="".concat(Z,"_").concat(l.id);if(Y.a.clearUniqTimeOut(d),this.isAnimated()&&b)try{var m=this.getStyleCell(l,Z);if(m){var W=b,c=i.a.scale([m,W]).mode("lrgb").colors(Y.a.CONSTANTS.CONF_COLORS_STEPS+1),h=1,X=this,V=c.length;!function b(){h<V?(X.setStyleCell(l,Z,c[h]),h+=1,Y.a.setUniqTimeOut(b,Y.a.CONSTANTS.CONF_COLORS_MS,d)):Y.a.clearUniqTimeOut(d)}()}else{var u=i()(b).hex();this.setStyleCell(l,Z,u)}}catch(G){Y.a.log.error("Error on graduate color",G),this.setStyleCell(l,Z,b)}else{if(null!==b)try{b=i()(b).hex()}catch(l){Y.a.log.error("Invalid Color",b)}this.setStyleCell(l,Z,b)}return G.after(),this}},{key:"setStyleCell",value:function(l,Z,b){return this.graph.setCellStyles(Z,b,[l]),this}},{key:"setStyleAnimCell",value:function(l,Z,b,G){return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark((function d(){var m,W,c,h,X,V,u,R,a;return regeneratorRuntime.wrap((function(d){for(;;)switch(d.prev=d.next){case 0:if(m=Y.a.trace.before(this.constructor.name+".setStyleAnimCell()"),this.isAnimated()&&null!==b)try{W=Number(b),c=Number(void 0!==G?G:this.getStyleCell(l,Z)),W!==c&&(h=function b(){R<u?(a.setStyleCell(l,Z,V[R].toString()),R+=1,Y.a.setUniqTimeOut(b,Y.a.CONSTANTS.CONF_ANIMS_MS,X)):Y.a.clearUniqTimeOut(X)},X="".concat(Z,"_").concat(l.id),Y.a.clearUniqTimeOut(X),V=Y.a.getIntervalCounter(c,W,Y.a.CONSTANTS.CONF_ANIMS_STEP),u=V.length,R=0,a=this,h())}catch(G){this.graph.setCellStyles(Z,b,[l])}else this.graph.setCellStyles(Z,b,[l]);m.after();case 3:case"end":return d.stop()}}),d,this)})))}},{key:"setStyles",value:function(l,Z){return this.graph.getModel().setStyle(l,Z),this}},{key:"setClassCell",value:function(l,Z){var b=this.graph.view.getState(l);if(b&&null!==b.shape){var G=b.shape.node.getElementsByTagName("path");if(G.length>1){var d=G[1].getAttribute("class"),m=[];null!=d&&(m=d.split(" ")),m.includes(Z)||(m.push(Z),d=m.join(" "),G[1].setAttribute("class",d),"1"!==mxUtils.getValue(b.style,mxConstants.STYLE_DASHED,"0")&&G[1].setAttribute("stroke-dasharray","8"))}}return this}},{key:"unsetClassCell",value:function(l,Z){var b=this.graph.view.getState(l);if(b&&null!==b.shape){var G=b.shape.node.getElementsByTagName("path");if(G.length>1){var d=G[1].getAttribute("class"),m=[];null!=d&&(m=d.split(" ")),m.includes(Z)&&((m=m.filter((function(l){return l!==Z}))).length>1?(d=m.join(" "),G[1].setAttribute("class",d)):G[1].removeAttribute("class"),"1"!==mxUtils.getValue(b.style,mxConstants.STYLE_DASHED,"0")&&G[1].removeAttribute("stroke-dasharray"))}}return this}},{key:"getLabelCell",value:function(l){return mxUtils.isNode(l.value)?l.value.getAttribute("label"):l.getValue(l)}},{key:"setLabelCell",value:function(l,Z){return this.graph.cellLabelChanged(l,Z,!1),this}},{key:"getId",value:function(l){return l.getId()}},{key:"setMap",value:function(l){Y.a.log.info("XGraph.setMapping()"),this.onMapping=l,!0===this.onMapping.active&&(this.container.style.cursor="crosshair",this.graph.click=this.eventClick.bind(this))}},{key:"unsetMap",value:function(){Y.a.log.info("XGraph.unsetMapping()"),this.onMapping.active=!1,this.container.style.cursor="auto",this.graph.click=this.clickBackup,this.onMapping.$scope&&this.onMapping.$scope.$applyAsync()}},{key:"eventClick",value:function(l){if(this.onMapping.active){var Z=l.getState();if(Z){var b=null!==this.onMapping.prop?this.onMapping.prop:"id",G=this.getValuePropOfMxCell(b,Z.cell);if(this.onMapping.object&&(this.onMapping.object.data.pattern=G),this.onMapping.value){var d=document.getElementById(this.onMapping.value);d&&setTimeout((function(){d.focus()}),100)}this.unsetMap()}}}},{key:"eventDebug",value:function(l){console.log("DEBUG mxMouseEvent",l)}},{key:"eventDbClick",value:function(l,Z){void 0!==Z&&this.lazyZoomCell(Z)}},{key:"eventMouseWheel",value:function(l,Z){if(this.graph.isZoomWheelEvent(l)){null==Z&&(Z=l.deltaY<0);var b=this.container.getBoundingClientRect(),G=l.clientX-b.left,d=l.clientY-b.top;this.cumulativeZoomFactor=Z?1.2*this.cumulativeZoomFactor:.8*this.cumulativeZoomFactor,this.lazyZoomPointer(this.cumulativeZoomFactor,G,d),mxEvent.consume(l)}}},{key:"eventKey",value:function(l){mxEvent.isConsumed(l)||27!==l.keyCode||(this.cumulativeZoomFactor=1,this.graph&&(this.graph.zoomActual(),this.applyGraph()))}},{key:"lazyZoomCenter",value:function(l){return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark((function Z(){return regeneratorRuntime.wrap((function(Z){for(;;)switch(Z.prev=Z.next){case 0:this.graph.zoomTo(l,!0);case 1:case"end":return Z.stop()}}),Z,this)})))}},{key:"lazyZoomPointer",value:function(l,Z,b){return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark((function G(){var d,m,W,c,h,X;return regeneratorRuntime.wrap((function(G){for(;;)switch(G.prev=G.next){case 0:d=Y.a.trace.before(this.constructor.name+".lazyZoomPointer()"),m=2*Z,W=2*b,l=Math.max(.01,Math.min(this.graph.view.scale*l,160))/this.graph.view.scale,l=this.cumulativeZoomFactor/this.graph.view.scale,c=Math.round(this.graph.view.scale*l*100)/100,(l=c/this.graph.view.scale)>1?(m*=-(h=(l-1)/(2*c)),W*=-h):(X=(1/l-1)/(2*this.graph.view.scale),m*=X,W*=X),this.graph.view.scaleAndTranslate(c,this.graph.view.translate.x+m,this.graph.view.translate.y+W),d.after();case 10:case"end":return G.stop()}}),G,this)})))}},{key:"highlightCells",value:function(){var l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getMxCells();return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark((function Z(){var b;return regeneratorRuntime.wrap((function(Z){for(;;)switch(Z.prev=Z.next){case 0:for(b=0;b<l.length;b++)this.highlightCell(l[b]);case 1:case"end":return Z.stop()}}),Z,this)})))}},{key:"unhighlightCells",value:function(){var l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getMxCells();return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark((function Z(){var b=this;return regeneratorRuntime.wrap((function(Z){for(;;)switch(Z.prev=Z.next){case 0:a.a.each(l,(function(l){b.unhighlightCell(l)}));case 1:case"end":return Z.stop()}}),Z)})))}},{key:"highlightCell",value:function(l){return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark((function Z(){var b,G,d;return regeneratorRuntime.wrap((function(Z){for(;;)switch(Z.prev=Z.next){case 0:l.highlight||null!=(b=this.graph.view.getState(l))&&(G=Math.max(5,mxUtils.getValue(b.style,mxConstants.STYLE_STROKEWIDTH,1)+4),(d=new mxCellHighlight(this.graph,"#99ff33",G,!1)).opacity=100,d.highlight(b),l.highlight=d);case 1:case"end":return Z.stop()}}),Z,this)})))}},{key:"unhighlightCell",value:function(l){return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark((function Z(){var b;return regeneratorRuntime.wrap((function(Z){for(;;)switch(Z.prev=Z.next){case 0:l&&l.highlight&&(null!=(b=l.highlight).shape&&(mxUtils.setPrefixedStyle(b.shape.node.style,"transition","all 500ms ease-in-out"),b.shape.node.style.opacity=0),window.setTimeout((function(){b.destroy()}),500),l.highlight=null);case 1:case"end":return Z.stop()}}),Z)})))}},{key:"blinkCell",value:function(l,Z){return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark((function b(){var G,d,m,W;return regeneratorRuntime.wrap((function(b){for(;;)switch(b.prev=b.next){case 0:l.blink||(l.blink=!0,G=this,d="blink_".concat(l.id),Y.a.clearUniqTimeOut(d),m=function(){var b=G.graph.view.getState(l);if(null!=b){var m=Math.max(5,mxUtils.getValue(b.style,mxConstants.STYLE_STROKEWIDTH,1)+4),c=new mxCellHighlight(G.graph,"#f5f242",m,!1);c.opacity=100,c.highlight(b),l.blink_on=c,l.blink_ms=Z,Y.a.setUniqTimeOut(W,Z,d)}},W=function(){if(l&&l.blink){var b=l.blink_on;null!=b.shape&&(mxUtils.setPrefixedStyle(b.shape.node.style,"transition","all ".concat(Z,"ms ease-in-out")),b.shape.node.style.opacity=0),b.destroy(),l.blink_on=null,Y.a.setUniqTimeOut(m,Z,d)}},m());case 1:case"end":return b.stop()}}),b,this)})))}},{key:"unblinkCell",value:function(l){return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark((function Z(){var b,G;return regeneratorRuntime.wrap((function(Z){for(;;)switch(Z.prev=Z.next){case 0:b="blink_".concat(l.id),l.blink&&(l.blink_on&&null!=(G=l.blink_on).shape&&(G.shape.node.style.opacity=0,G.destroy(),l.blink_on=null,l.blink_ms=0),l.blink=null),Y.a.clearUniqTimeOut(b);case 3:case"end":return Z.stop()}}),Z)})))}},{key:"isBlinkCell",value:function(l){return!!l.blink}},{key:"geBlinkMxCell",value:function(l){return l.blink?l.blink_ms:0}},{key:"isCollapsedCell",value:function(l){return this.graph.isCellCollapsed(l)}},{key:"collapseCell",value:function(l){this.isCollapsedCell(l)||this.graph.foldCells(!0,!1,[l],null,null)}},{key:"expandCell",value:function(l){this.isCollapsedCell(l)&&this.graph.foldCells(!1,!1,[l],null,null)}},{key:"toggleFoldCell",value:function(l){var Z=!this.isCollapsedCell(l);this.graph.foldCells(Z,!1,[l],null,null)}},{key:"hideCell",value:function(l){return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark((function Z(){return regeneratorRuntime.wrap((function(Z){for(;;)switch(Z.prev=Z.next){case 0:this.isVisibleCell(l)&&this.graph.model.setVisible(l,!1);case 1:case"end":return Z.stop()}}),Z,this)})))}},{key:"showCell",value:function(l){return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark((function Z(){return regeneratorRuntime.wrap((function(Z){for(;;)switch(Z.prev=Z.next){case 0:this.isVisibleCell(l)||this.graph.model.setVisible(l,!0);case 1:case"end":return Z.stop()}}),Z,this)})))}},{key:"isVisibleCell",value:function(l){return this.graph.model.isVisible(l)}},{key:"resizeCell",value:function(l,Z,b){return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark((function G(){var d,m,W,c,h,X,V,u,R,a,n,i,p,s,y,t,L,o;return regeneratorRuntime.wrap((function(G){for(;;)switch(G.prev=G.next){case 0:d=Y.a.trace.before(this.constructor.name+".resizeCell()"),null!==(m=this.graph.model.getGeometry(l))&&(W="resize_".concat(l.id),Y.a.clearUniqTimeOut(W),c=void 0!==b?b.x:m.x,h=void 0!==b?b.width:m.x,X=void 0!==b?b.y:m.y,V=void 0!==b?b.height:m.y,c-=((u=h*(Z/100))-h)/2,X-=((R=V*(Z/100))-V)/2,this.isAnimated()?(a=function Z(){if(t<y){var b=new mxRectangle(n[t],i[t],p[t],s[t]);L.graph.resizeCell(l,b,!0),t+=1,Y.a.setUniqTimeOut(Z,Y.a.CONSTANTS.CONF_ANIMS_MS,W)}else Y.a.clearUniqTimeOut(W)},n=Y.a.getIntervalCounter(m.x,c,Y.a.CONSTANTS.CONF_ANIMS_STEP),i=Y.a.getIntervalCounter(m.y,X,Y.a.CONSTANTS.CONF_ANIMS_STEP),p=Y.a.getIntervalCounter(m.width,u,Y.a.CONSTANTS.CONF_ANIMS_STEP),s=Y.a.getIntervalCounter(m.height,R,Y.a.CONSTANTS.CONF_ANIMS_STEP),y=n.length,t=0,L=this,a()):(o=new mxRectangle(c,X,u,R),this.graph.resizeCell(l,o,!0))),d.after();case 4:case"end":return G.stop()}}),G,this)})))}},{key:"changeSizeCell",value:function(l,Z,b,G){return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark((function d(){var m,W,c,h,X,V,u,R,a,n,i,p,s,y,t,L,o,F;return regeneratorRuntime.wrap((function(d){for(;;)switch(d.prev=d.next){case 0:m=Y.a.trace.before(this.constructor.name+".resizeCell()"),null!==(W=this.graph.model.getGeometry(l))&&(c="resize_".concat(l.id),Y.a.clearUniqTimeOut(c),h=void 0!==G?G.x:W.x,X=void 0!==G?G.width:W.x,V=void 0!==G?G.y:W.y,u=void 0!==G?G.height:W.y,h=void 0!==Z&&Z<0?h+Z+X:h,V=void 0!==b&&b<0?V+b+u:V,R=void 0!==b?Math.abs(b):void 0!==G?G.height:W.height,a=void 0!==Z?Math.abs(Z):void 0!==G?G.width:W.width,this.isAnimated()?(n=function Z(){if(L<t){var b=new mxRectangle(i[L],p[L],s[L],y[L]);o.graph.resizeCell(l,b,!0),L+=1,Y.a.setUniqTimeOut(Z,Y.a.CONSTANTS.CONF_ANIMS_MS,c)}else Y.a.clearUniqTimeOut(c)},i=Y.a.getIntervalCounter(W.x,h,Y.a.CONSTANTS.CONF_ANIMS_STEP),p=Y.a.getIntervalCounter(W.y,V,Y.a.CONSTANTS.CONF_ANIMS_STEP),s=Y.a.getIntervalCounter(W.width,a,Y.a.CONSTANTS.CONF_ANIMS_STEP),y=Y.a.getIntervalCounter(W.height,R,Y.a.CONSTANTS.CONF_ANIMS_STEP),t=i.length,L=0,o=this,n()):(F=new mxRectangle(h,V,a,R),this.graph.resizeCell(l,F,!0))),m.after();case 4:case"end":return d.stop()}}),d,this)})))}},{key:"getSizeCell",value:function(l){return this.graph.model.getGeometry(l)}},{key:"resetSizeCell",value:function(l,Z){return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark((function b(){var G;return regeneratorRuntime.wrap((function(b){for(;;)switch(b.prev=b.next){case 0:G=new mxRectangle(Z.x,Z.y,Z.width,Z.height),this.graph.resizeCell(l,G,!0);case 2:case"end":return b.stop()}}),b,this)})))}},{key:"lazyZoomCell",value:function(l){return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark((function Z(){var b,G,d;return regeneratorRuntime.wrap((function(Z){for(;;)switch(Z.prev=Z.next){case 0:b=Y.a.trace.before(this.constructor.name+".lazyZoomCell()"),null!=l&&l.isVertex()&&null!==(G=this.graph.view.getState(l))&&(d=void 0!==G.width&&G.width>0&&void 0!==G.height&&G.height>0?G.shape.bounds:G.text.boundingBox,this.graph.zoomToRect(d),this.cumulativeZoomFactor=this.graph.view.scale),b.after();case 3:case"end":return Z.stop()}}),Z,this)})))}}])&&M(Z.prototype,b),G&&M(Z,G),l}();function Q(l,Z){for(var b=0;b<Z.length;b++){var G=Z[b];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(l,G.key,G)}}w.initialized=!1,j.$inject=["$q","$sce","uiSegmentSrv"];var B=function(){function l(Z){!function(l,Z){if(!(l instanceof Z))throw new TypeError("Cannot call a class as a function")}(this,l),this.sourceTypes=Y.a.CONSTANTS.SOURCE_TYPES,this.themes=Y.a.CONSTANTS.DIOTHEME_TYPES,this.errorSourceFlag=!1,this.errorSourceMsg="",this.errorDownloadFlag=!1,this.errorDownloadMsg="",this.editMode=!1,this.newName="",this.currentFlowchartName="Main",Z.editor=this,Z.$GF=Y.a.me(),this.$scope=Z,this.ctrl=Z.ctrl,this.panel=this.ctrl.panel,this.flowchartHandler=this.ctrl.flowchartHandler,this.currentFlowchart=this.flowchartHandler.getFlowchart()}var Z,b,G;return l.$inject=["$scope"],Z=l,(b=[{key:"render",value:function(){this.flowchartHandler.render()}},{key:"onSourceChange",value:function(){var l=this.flowchartHandler.getCurrentFlowchartName();this.flowchartHandler.onSourceChange(l),this.render()}},{key:"onOptionChange",value:function(){var l=this.flowchartHandler.getCurrentFlowchartName();this.flowchartHandler.onOptionsChange(l),this.render()}},{key:"checkSource_onSourceChange",value:function(l){var Z=w.isValidXml(l);return this.errorSourceFlag=!Z,Z?(Y.a.message.clearMessage(),this.onSourceChange(),this.$scope.$applyAsync()):Y.a.message.setMessage("Invalid Xml definition","error"),Z}},{key:"addFlowchart",value:function(){this.editMode=!0,this.currentFlowchart=this.flowchartHandler.addFlowchart(this.flowchartHandler.getFlowchartTmpName()),this.flowchartHandler.setCurrentFlowchart(this.currentFlowchart.getName()),Y.a.message.setMessage(this.currentFlowchart.getName()),this.newName=this.currentFlowchart.getName()}},{key:"removeFlowchart",value:function(){var l=this.flowchartHandler.getCurrentFlowchart();void 0!==l&&"Main"!==l.getName()&&(this.currentFlowchart=this.flowchartHandler.setCurrentFlowchart(),this.currentFlowchartName=this.flowchartHandler.getCurrentFlowchartName(),Y.a.message.setMessage(this.currentFlowchartName),this.flowchartHandler.removeFlowchart(l.getName()))}},{key:"selectFlowchart",value:function(){this.flowchartHandler.setCurrentFlowchart(this.currentFlowchartName),this.currentFlowchart=this.flowchartHandler.getCurrentFlowchart(),this.currentFlowchart&&(this.currentFlowchartName=this.flowchartHandler.getCurrentFlowchartName(),Y.a.message.setMessage(this.currentFlowchartName))}},{key:"cancelFlowchart",value:function(){this.editMode=!1;var l=this.currentFlowchart;this.currentFlowchart=this.flowchartHandler.setCurrentFlowchart("Main"),l&&(this.flowchartHandler.removeFlowchart(l.getName()),this.currentFlowchart&&(this.currentFlowchartName=this.currentFlowchart.getName())),Y.a.message.setMessage(this.currentFlowchartName)}},{key:"isValideFlowchart",value:function(){var l=this.flowchartHandler.getFlowchartNames();return!(void 0===this.newName||0===this.newName.length||l.includes(this.newName)&&this.currentFlowchart&&this.newName!==this.currentFlowchart.getName()&&(Y.a.message.setMessage('Flowchart with name "'.concat(this.newName,'" already exist'),"error"),1))}},{key:"validateFlowchart",value:function(){this.editMode=!1,this.currentFlowchart&&this.currentFlowchart.setName(this.newName),this.currentFlowchartName=this.newName,this.currentFlowchart=this.flowchartHandler.setCurrentFlowchart(this.newName)}},{key:"checkUrl_onSourceChange",value:function(l){var Z=this;this.errorDownloadFlag=!1;try{l=this.ctrl.templateSrv.replaceWithText(l),fetch(l,{method:"GET",mode:"cors",cache:"default"}).then((function(l){l.status>=200&&l.status<=299?l.text().then((function(l){var b=Z.flowchartHandler.getCurrentFlowchart();if(b&&"xml"===b.data.type){var G=w.isValidXml(l);Z.errorSourceFlag=!G,Z.errorSourceFlag?(Y.a.message.setMessage("Response is an invalid Xml definition","error"),Y.a.log.error("Response is an invalid Xml definition")):(Y.a.message.clearMessage(),Z.onSourceChange())}else Z.onSourceChange();Z.$scope.$applyAsync()})):(Z.errorSourceFlag=!0,Y.a.message.setMessage("Error ".concat(l.status," : ").concat(l.statusText),"error"),Z.$scope.$applyAsync())})).catch((function(l){Z.errorSourceFlag=!0,Y.a.message.setMessage("Error : ".concat(l),"error"),Z.$scope.$applyAsync()}))}catch(l){this.errorDownloadFlag=!0,Y.a.message.setMessage("Error when call url","error")}return!0}},{key:"edit",value:function(l){this.flowchartHandler.openDrawEditor(l)}},{key:"getFlowcharts",value:function(){return this.flowchartHandler.getFlowcharts()}},{key:"getNames",value:function(){return this.flowchartHandler.getFlowchartNames()}},{key:"getCurrentFlowchart",value:function(){var l=this.flowchartHandler.getCurrentFlowchart();return l?[l]:[this.flowchartHandler.flowcharts[0]]}}])&&Q(Z.prototype,b),G&&Q(Z,G),l}();function j(l,Z,b){return{restrict:"E",scope:!0,templateUrl:"".concat(Y.a.plugin.getPartialPath(),"/flowchart/index.html"),controller:B}}function g(l,Z){for(var b=0;b<Z.length;b++){var G=Z[b];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(l,G.key,G)}}r.$inject=["$q","uiSegmentSrv"];var P=function(){function l(Z){!function(l,Z){if(!(l instanceof Z))throw new TypeError("Cannot call a class as a function")}(this,l),this.enable=!1,this.traceEnable=Y.a.trace.isEnabled(),Z.editor=this,Z.$GF=Y.a.me(),this.state={data:this.getStates(),columns:[{id:"cellId",desc:"Shape ID",sort:"asc",select:!1},{id:"label",desc:"Label",sort:"asc",select:!1},{id:"cellId",desc:"Shape ID",sort:"asc",select:!1},{id:"font",desc:"Font color",sort:"asc",select:!1},{id:"fill",desc:"Fill color",sort:"asc",select:!1},{id:"stroke",desc:"Stroke color",sort:"asc",select:!1},{id:"tags",desc:"Tags Mapping",sort:"asc",select:!1}]},this.ctrl=Z.ctrl,this.panel=this.ctrl.panel,this.flowchartHandler=this.ctrl.flowchartHandler,this.stateHandler=this.flowchartHandler.getFlowchart().getStateHandler()}var Z,b,G;return l.$inject=["$scope"],Z=l,(b=[{key:"render",value:function(){this.panel.render()}},{key:"onChangeId",value:function(l){if(void 0!==l.newcellId&&l.cellId!==l.newcellId){l.edited=!0;var Z=this.flowchartHandler.getFlowchart().getStateHandler();void 0!==Z&&(Z.edited=!0),void 0===l.previousId&&(l.previousId=l.cellId),l.cellId=l.newcellId,l.edited=!0}l.edit=!1}},{key:"onEdit",value:function(l){l.edit=!0,l.newcellId=l.cellId;var Z=document.getElementById(l.cellId);setTimeout((function(){Z&&Z.focus()}),100)}},{key:"reset",value:function(){this.flowchartHandler.draw(),this.flowchartHandler.refresh()}},{key:"apply",value:function(){var l=this.flowchartHandler.getFlowchart(),Z=l.getStateHandler();void 0!==Z&&(Z.getStates().forEach((function(Z){Z.edited&&Z.previousId&&(l.renameId(Z.previousId,Z.cellId),Z.edited=!1)})),Z.edited=!1),l.applyModel()}},{key:"selectCell",value:function(l){l.highlightCell()}},{key:"unselectCell",value:function(l){l.unhighlightCell()}},{key:"getStates",value:function(){if(this.stateHandler){var l=this.stateHandler.getStatesForInspect();return a.a.orderBy(l,["cellId","globalLevel"],["asc"])}return[]}},{key:"getStateValue",value:function(l,Z){switch(Z){case"cellId":return l.cellId;case"level":return l.getTextLevel();case"label":return l.getCellProp("value");default:return null}}},{key:"tracePerf",value:function(){this.traceEnable?Y.a.trace.enable():Y.a.trace.disable()}},{key:"anonymize",value:function(){var l=this.flowchartHandler.getFlowchart().getXGraph();l&&l.anonymize()}}])&&g(Z.prototype,b),G&&g(Z,G),l}();function r(l,Z){return{restrict:"E",scope:!0,templateUrl:"".concat(Y.a.plugin.getPartialPath(),"inspect/index.html"),controller:P}}function D(l,Z){for(var b=0;b<Z.length;b++){var G=Z[b];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(l,G.key,G)}}var O=function(){function l(Z){!function(l,Z){if(!(l instanceof Z))throw new TypeError("Cannot call a class as a function")}(this,l),this.activeRuleIndex=0,Y.a.log.info("RulesHandler.constructor()"),this.rules=[],this.data=Z}var Z,b,G;return Z=l,G=[{key:"getDefaultData",value:function(){return{rulesData:[]}}}],(b=[{key:"import",value:function(l){var Z=this;Y.a.log.info("RuleHandler.import()"),this.rules=[];var b,G=1;return null!=l&&((b=Array.isArray(l)?l:l.rulesData).length>0&&void 0!==b[0].order&&(b=a.a.sortBy(a.a.sortBy(b,(function(l){return l.order})))),b.forEach((function(l){Z.addRule("").import(l).setOrder(G),G+=1}))),this}},{key:"getRules",value:function(){return this.rules}},{key:"getRule",value:function(l){return this.rules[l]}},{key:"addRule",value:function(l){var Z=I.getDefaultData(),b=new I(l,Z);return this.rules.push(b),this.data.rulesData.push(Z),b.setOrder(this.countRules()),b}},{key:"countRules",value:function(){return void 0!==this.rules&&Array.isArray(this.rules)?this.rules.length:0}},{key:"setOrder",value:function(){for(var l=this.rules.length,Z=0;Z<l;Z++)this.rules[Z].setOrder(Z+1);return this}},{key:"removeRule",value:function(l){var Z=l.getOrder()-1;this.rules.splice(Z,1),this.data.rulesData.splice(Z,1),this.setOrder()}},{key:"cloneRule",value:function(l){var Z=l.getOrder()-1,b=l.getData(),G=I.getDefaultData();this.reduce();var d=new I(G.pattern,G);d.import(b),G.alias="Copy of ".concat(G.alias),this.rules.splice(Z,0,d),this.data.rulesData.splice(Z,0,G),d.data.reduce=!1,this.activeRuleIndex=Z,this.setOrder();var m=document.getElementById(d.getId());return m&&setTimeout((function(){m.focus()}),100),d}},{key:"reduce",value:function(){return this.getRules().forEach((function(l){l.data.reduce=!0})),this}},{key:"moveRuleToUp",value:function(l){var Z=l.getOrder()-1,b=this.rules,G=b.length-1;if(0!==Z&&0!==G){var d=b[Z];d.setOrder(Z);var m=b[Z-1];m.setOrder(Z+1),b[Z-1]=d,b[Z]=m}}},{key:"moveRuleToDown",value:function(l){var Z=l.getOrder()-1,b=this.rules,G=b.length-1;if(Z!==G&&0!==G){var d=b[Z];d.setOrder(Z+2);var m=b[Z+1];m.setOrder(Z+1),b[Z+1]=d,b[Z]=m}}}])&&D(Z.prototype,b),G&&D(Z,G),l}(),f=b(6),A=b.n(f);function _(l){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(l)}function q(l,Z){return!Z||"object"!==_(Z)&&"function"!=typeof Z?function(l){if(void 0===l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}(l):Z}function ll(l){return(ll=Object.setPrototypeOf?Object.getPrototypeOf:function(l){return l.__proto__||Object.getPrototypeOf(l)})(l)}function Zl(l,Z){if("function"!=typeof Z&&null!==Z)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(Z&&Z.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),Z&&bl(l,Z)}function bl(l,Z){return(bl=Object.setPrototypeOf||function(l,Z){return l.__proto__=Z,l})(l,Z)}function Gl(l,Z){if(!(l instanceof Z))throw new TypeError("Cannot call a class as a function")}function dl(l,Z){for(var b=0;b<Z.length;b++){var G=Z[b];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(l,G.key,G)}}function ml(l,Z,b){return Z&&dl(l.prototype,Z),b&&dl(l,b),l}var Wl=function(){function l(Z){Gl(this,l),this.timeFormat="YYYY-MM-DD HH:mm:ss",this.checked=!1,this.div=null,this.mxcell=Z,this.checked=!1,this.metrics=new Set}return ml(l,[{key:"isChecked",value:function(){return this.checked}},{key:"addMetric",value:function(){this.checked=!0;var l=new cl;return this.metrics.add(l),l}},{key:"updateDate",value:function(){var l=new Date;this.lastChange=l.getFullYear()+"-"+(l.getMonth()+1).toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1})+"-"+l.getDate().toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1})+" "+l.getHours().toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1})+":"+l.getMinutes().toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1})+":"+l.getSeconds().toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1})}},{key:"destroy",value:function(){this.metrics.clear(),this.mxcell.GF_tooltipHandler&&delete this.mxcell.GF_tooltipHandler}},{key:"getDiv",value:function(l){if(null!==this.div&&void 0!==this.div)return l&&this.div&&l.appendChild(this.div),this.div;if(!this.checked)return null;var Z=document.createElement("div");return void 0!==l&&l.appendChild(Z),this.metrics.size>0&&(this.getDateDiv(Z),this.metrics.forEach((function(l){l.getDiv(Z)}))),this.div=Z,Z}},{key:"getDateDiv",value:function(l){var Z=document.createElement("div");return Z.id=this.mxcell.mxObjectId+"_DATE",void 0!==l&&l.appendChild(Z),Z.className="graph-tooltip-time tooltip-date",Z.innerHTML="".concat(this.lastChange),Z}}]),l}(),cl=function(){function l(){Gl(this,l),this.direction="v",this.color="#8c8980",this.graphs=new Set,this.label="",this.value=""}return ml(l,[{key:"setLabel",value:function(l){return this.label=l,this}},{key:"setValue",value:function(l){return this.value=l,this}},{key:"setColor",value:function(l){return null!==l&&(this.color=l),this}},{key:"setDirection",value:function(l){return this.direction=l,this}},{key:"getDiv",value:function(l){var Z=document.createElement("div");return Z.className="tooltip-metric","h"===this.direction&&(Z.style.display="inline-block"),void 0!==l&&l.appendChild(Z),this.div=Z,this.getTextDiv(Z),this.getGraphsDiv(Z),Z}},{key:"getTextDiv",value:function(l){var Z=document.createElement("div");Z.className="tooltip-text";var b="";return void 0!==l&&l.appendChild(Z),void 0!==this.label&&(b+="".concat(this.label," : "),b+='<span style="color:'.concat(this.color,'"><b>').concat(this.value,"</b></span>")),Z.innerHTML=b,Z}},{key:"getGraphsDiv",value:function(l){var Z=document.createElement("div");return void 0!==l&&l.appendChild(Z),this.graphs.size>0&&this.graphs.forEach((function(l){l.getDiv(Z)})),Z}},{key:"addGraph",value:function(l){var Z;switch(l){case"line":Z=new Xl;break;case"bar":Z=new Vl;break;default:Y.a.log.error("Graph type unknow",l),Z=new Vl}return this.graphs.add(Z),Z}}]),l}(),hl=function(){function l(){Gl(this,l),this.color="#8c8980",this.type="line",this.data={series:[{data:[{x:0,y:0}]}]},this.size="100%",this.low=null,this.high=null,this.scaleType="linear"}return ml(l,[{key:"getDiv",value:function(l){return this.div}},{key:"setName",value:function(l){return this.name=l,this}},{key:"setColumn",value:function(l){return this.column=l,this}},{key:"setType",value:function(l){return this.type=l,this}},{key:"setSize",value:function(l){return this.size=l,this}},{key:"setMetric",value:function(l){return this.metric=l,this}},{key:"setScaling",value:function(l,Z){return this.low=l,this.high=Z,this}},{key:"setScale",value:function(l){this.scaleType=l}},{key:"setColor",value:function(l){return null!==l&&(this.color=l),this}},{key:"setParentDiv",value:function(l){return this.parentDiv=l,this}},{key:"getChart",value:function(){return this.chart}}]),l}(),Xl=function(l){function Z(){var l;return Gl(this,Z),(l=q(this,ll(Z).call(this))).type="line",l.chartistOptions={showPoint:!1,showLine:!0,showArea:!0,fullWidth:!0,axisX:{showGrid:!1,showLabel:!1,offset:0},axisY:{showGrid:!1,showLabel:!1,offset:0},chartPadding:{top:0,left:0,right:0,bottom:0}},l}return Zl(Z,l),ml(Z,[{key:"getDiv",value:function(l){if(this.metric){var Z="log"===this.scaleType;this.data.series[0].data=this.metric.getData(this.column,Z)}var b=document.createElement("div"),G=this.color;return this.div=b,void 0!==l&&l.appendChild(b),b.className="ct-chart ct-golden-section",null!==this.size&&(b.style.width=this.size),null!==this.low&&(this.chartistOptions.low=this.low),null!==this.high&&(this.chartistOptions.high=this.high),this.chart=new A.a.Line(b,this.data,this.chartistOptions),this.chart.on("draw",(function(l){"line"!==l.type&&"area"!==l.type||("line"===l.type&&l.element.attr({style:"stroke: ".concat(G)}),"area"===l.type&&l.element.attr({style:"fill: ".concat(G)}),l.element.animate({d:{begin:1e3*l.index,dur:1e3,from:l.path.clone().scale(1,0).translate(0,l.chartRect.height()).stringify(),to:l.path.clone().stringify(),easing:A.a.Svg.Easing.easeOutQuint}}))})),b}}]),Z}(hl),Vl=function(l){function Z(){var l;return Gl(this,Z),(l=q(this,ll(Z).call(this))).type="bar",l.chartistOptions={axisX:{showGrid:!1,showLabel:!1,offset:0},axisY:{showGrid:!1,showLabel:!1,offset:0},chartPadding:{top:0,left:0,right:0,bottom:0}},l}return Zl(Z,l),ml(Z,[{key:"getDiv",value:function(l){if(this.metric){var Z="log"===this.scaleType;this.data.series[0].data=this.metric.getData(this.column,Z)}var b=document.createElement("div"),G=this.color;this.div=b,void 0!==l&&l.appendChild(b),b.className="ct-chart ct-golden-section",null!==this.size&&(b.style.width=this.size),null!==this.low&&(this.chartistOptions.low=this.low),null!==this.high&&(this.chartistOptions.high=this.high),this.chart=new A.a.Bar(b,this.data,this.chartistOptions);var d=0,m=this.data.series[0].data.length,W=Math.round(50/(m/10)),c=Math.round(250/(m/10));return this.chart.on("draw",(function(l){"bar"===l.type&&(l.element.attr({style:"stroke: ".concat(G)}),d++,l.element.animate({opacity:{begin:d*W,dur:c,from:0,to:1,easing:"ease"}}))})),b}}]),Z}(hl);function ul(l,Z,b){return(ul="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(l,Z,b){var G=function(l,Z){for(;!Object.prototype.hasOwnProperty.call(l,Z)&&null!==(l=Yl(l)););return l}(l,Z);if(G){var d=Object.getOwnPropertyDescriptor(G,Z);return d.get?d.get.call(b):d.value}})(l,Z,b||l)}function Rl(l){return(Rl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(l)}function al(l,Z){return!Z||"object"!==Rl(Z)&&"function"!=typeof Z?function(l){if(void 0===l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}(l):Z}function Yl(l){return(Yl=Object.setPrototypeOf?Object.getPrototypeOf:function(l){return l.__proto__||Object.getPrototypeOf(l)})(l)}function nl(l,Z){if("function"!=typeof Z&&null!==Z)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(Z&&Z.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),Z&&il(l,Z)}function il(l,Z){return(il=Object.setPrototypeOf||function(l,Z){return l.__proto__=Z,l})(l,Z)}function pl(l,Z){if(!(l instanceof Z))throw new TypeError("Cannot call a class as a function")}function sl(l,Z){for(var b=0;b<Z.length;b++){var G=Z[b];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(l,G.key,G)}}function yl(l,Z,b){return Z&&sl(l.prototype,Z),b&&sl(l,b),l}var tl=function(){function l(Z,b){pl(this,l),this.changed=!1,this.matched=!1,this.globalLevel=-1,this.tooltipHandler=null;var G=Y.a.trace.before(this.constructor.name+".constructor()");this.mxcell=Z,this.cellId=Z.id,this.xgraph=b,this.shapeState=new Jl(b,Z),this.tooltipState=new Il(b,Z),this.iconState=new Sl(b,Z),this.eventState=new ol(b,Z),this.textState=new Fl(b,Z),this.linkState=new xl(b,Z),this.variables=Y.a.createLocalVars(),this.status=new Map,this.tooltipHandler=null,this.mxcell.GF_tooltipHandler=null,this.originalText=this.xgraph.getLabelCell(Z),G.after()}return yl(l,[{key:"async_applyState",value:function(){return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark((function l(){return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:this.applyState();case 1:case"end":return l.stop()}}),l,this)})))}},{key:"setState",value:function(l,Z){var b=this,G=Y.a.trace.before(this.constructor.name+".setState()");if(!l.isHidden()&&l.matchMetric(Z)){var d=Date.now(),m=l.getShapeMaps(),W=l.getTextMaps(),c=l.getLinkMaps(),h=l.getEventMaps(),X=l.getValueForMetric(Z),V=l.getFormattedValue(X),u=l.getThresholdLevel(X),R=l.data.gradient&&"number"===l.data.type?l.getColorForValue(X):l.getColorForLevel(u);this.variables.set(Y.a.CONSTANTS.VAR_STR_RULENAME,l.data.alias),this.variables.set(Y.a.CONSTANTS.VAR_NUM_VALUE,X),this.variables.set(Y.a.CONSTANTS.VAR_STR_FORMATED,V),this.variables.set(Y.a.CONSTANTS.VAR_NUM_LEVEL,u),this.variables.set(Y.a.CONSTANTS.VAR_STR_COLOR,R);var a=this.getCellProp(l.data.shapeProp);m.forEach((function(G){var d=G.data.style;if(!G.isHidden()&&G.match(a,l.data.shapeRegEx)){var m=R;b.matched=!0,b.globalLevel=u>b.globalLevel?u:b.globalLevel,G.toColorize(u)&&b.shapeState.set(d,m,u)&&b.status.set(d,m),l.toTooltipize(u)&&(d="tooltip",m=!0,b.tooltipState.set("tooltip",!0,u)&&b.status.set(d,m),b.tooltipState.setTooltip(l,Z,R,V)),l.toIconize(u)&&(d="icon",m=!0,b.iconState.set("icon",!0,u)&&b.status.set(d,m))}})),a=this.getCellProp(l.data.textProp),W.forEach((function(Z){var G="label";if(!Z.isHidden()&&Z.match(a,l.data.textRegEx)&&Z.toLabelize(u)&&Z.toLabelize(u)){b.matched=!0,b.globalLevel=u>b.globalLevel?u:b.globalLevel;var d=b.variables.replaceText(V),m=Z.getReplaceText(b.textState.getMatchValue(G),d);b.textState.set(G,m,u)&&b.status.set(G,m)}})),a=this.getCellProp(l.data.eventProp),h.forEach((function(Z){var G=Z.data.style;if(!Z.isHidden()&&Z.match(a,l.data.eventRegEx)&&Z.toEventable(u)&&Z.toEventable(u)){b.matched=!0,b.globalLevel=u>b.globalLevel?u:b.globalLevel;var d=b.variables.eval(Z.data.value);b.eventState.set(G,d,u)&&b.status.set(G,d)}})),a=this.getCellProp(l.data.linkProp),c.forEach((function(Z){var G="link";if(!Z.isHidden()&&Z.match(a,l.data.linkRegEx)&&Z.toLinkable(u)){b.matched=!0,b.globalLevel=u>b.globalLevel?u:b.globalLevel;var d=b.variables.replaceText(Z.getLink());b.linkState.set(G,d,u)&&b.status.set(G,d)}})),u>=l.highestLevel&&this.matched&&(l.highestLevel=u,l.highestValue=X,l.highestFormattedValue=V,l.highestColor=R);var n=Date.now();l.execTimes+=n-d}return G.after(),this}},{key:"unsetState",value:function(){var l=Y.a.trace.before(this.constructor.name+".unsetState()");return this.eventState.unset(),this.textState.unset(),this.linkState.unset(),this.tooltipState.unset(),this.iconState.unset(),this.matched=!1,l.after(),this}},{key:"getCellProp",value:function(l){return"id"===l?this.cellId:"value"===l?this.originalText:null}},{key:"getLevel",value:function(){return this.globalLevel}},{key:"getTextLevel",value:function(){return-1===this.globalLevel?"":this.globalLevel.toString()}},{key:"getStatus",value:function(l){var Z=this.status.get(l);return null!=Z||(null===(Z=this.xgraph.getStyleCell(this.mxcell,l))&&(Z=""),this.status.set(l,Z)),Z}},{key:"haveStatus",value:function(l){return this.status.has(l)}},{key:"isShape",value:function(){return this.mxcell.isVertex()}},{key:"isConnector",value:function(){return this.mxcell.isEdge()}},{key:"applyState",value:function(){var l=Y.a.trace.before(this.constructor.name+".applyState()");return(this.matched||this.changed)&&(this.changed=!0,this.shapeState.apply(),this.tooltipState.apply(),this.iconState.apply(),this.textState.apply(),this.eventState.apply(),this.linkState.apply()),l.after(),this}},{key:"reset",value:function(){var l=Y.a.trace.before(this.constructor.name+".reset()");return this.shapeState.reset(),this.tooltipState.reset(),this.iconState.reset(),this.textState.reset(),this.eventState.reset(),this.linkState.reset(),this.variables.clear(),this.status.clear(),this.globalLevel=-1,this.changed=!1,l.after(),this}},{key:"prepare",value:function(){var l=Y.a.trace.before(this.constructor.name+".prepare()");return this.changed&&(this.shapeState.prepare(),this.tooltipState.prepare(),this.iconState.prepare(),this.textState.prepare(),this.eventState.prepare(),this.linkState.prepare(),this.variables.clear(),this.status.clear(),this.globalLevel=-1,this.matched=!1),l.after(),this}},{key:"highlightCell",value:function(){return this.xgraph.highlightCell(this.mxcell),this}},{key:"unhighlightCell",value:function(){return this.xgraph.unhighlightCell(this.mxcell),this}}]),l}(),Ll=function(){function l(Z,b){pl(this,l),this.keys=[],this.matchedKey=new Map,this.changedKey=new Map,this.originalValue=new Map,this.matchValue=new Map,this.matchLevel=new Map,this.xgraph=Z,this.mxcell=b,this.init_core()}return yl(l,[{key:"init_core",value:function(){}},{key:"addValue",value:function(Z,b){this.hasKey(Z)||this.keys.push(Z),this.originalValue.set(Z,b),this.matchValue.set(Z,b),this.matchLevel.set(Z,l.DEFAULTLEVEL),this.matchedKey.set(Z,!1),this.changedKey.set(Z,!1)}},{key:"hasKey",value:function(l){return this.keys.includes(l)}},{key:"getOriginalValue",value:function(l){return this.hasKey(l)||this.originalValue.set(l,this.default_core(l)),this.originalValue.get(l)}},{key:"getMatchValue",value:function(l){return this.hasKey(l)||this.matchValue.set(l,this.getOriginalValue(l)),this.matchValue.get(l)}},{key:"set",value:function(l,Z,b){var G=this.matchLevel.get(l);if(void 0===G){var d=this.default_core(l);return this.addValue(l,d),this.set(l,Z,b)}return G<=b&&(this.matchLevel.set(l,b),this.matchedKey.set(l,!0),this.matchValue.set(l,Z),!0)}},{key:"apply",value:function(l){var Z=this;if(void 0!==l)if(this.isMatched(l)){var b=this.getMatchValue(l);try{this.apply_core(l,b)}catch(Z){Y.a.log.error("Error on reset for key "+l,Z)}this.changedKey.set(l,!0),this.matchedKey.set(l,!1)}else this.isChanged(l)&&this.reset(l);else this.keys.forEach((function(l){Z.apply(l)}));return this}},{key:"default_core",value:function(l){return null}},{key:"apply_core",value:function(l,Z){}},{key:"isMatched",value:function(l){var Z=this;if(void 0!==l)return!0===this.matchedKey.get(l);var b=!1;return this.keys.forEach((function(l){b=Z.isMatched(l)||b})),b}},{key:"isChanged",value:function(l){var Z=this;if(void 0!==l)return!0===this.changedKey.get(l);var b=!1;return this.keys.forEach((function(l){b=!!Z.isChanged(l)||b})),b}},{key:"getLevel",value:function(Z){var b=this;if(void 0!==Z){var G=this.matchLevel.get(Z);return void 0!==G?G:l.DEFAULTLEVEL}var d=l.DEFAULTLEVEL;return this.keys.forEach((function(l){return d=Math.max(b.getLevel(l))})),d}},{key:"unset",value:function(l){var Z=this;return void 0!==l?(this.matchValue.set(l,this.originalValue.get(l)),this.matchedKey.set(l,!1),this.matchLevel.set(l,-1)):this.keys.forEach((function(l){Z.unset(l)})),this}},{key:"reset",value:function(l){var Z=this;if(void 0!==l){this.unset(l);var b=this.getOriginalValue(l);try{this.reset_core(l,b)}catch(Z){Y.a.log.error("Error on reset for key "+l,Z)}this.changedKey.set(l,!1),this.matchedKey.set(l,!1)}else this.keys.forEach((function(l){Z.reset(l)}));return this}},{key:"reset_core",value:function(l,Z){}},{key:"prepare",value:function(){return this.isChanged()&&this.unset(),this}}]),l}();Ll.DEFAULTLEVEL=-1;var ol=function(l){function Z(l,b){var G;return pl(this,Z),(G=al(this,Yl(Z).call(this,l,b))).keys=[],G.geo=void 0,G.init_core(),G}return nl(Z,l),yl(Z,[{key:"init_core",value:function(){this.geo=this.xgraph.getSizeCell(this.mxcell)}},{key:"default_core",value:function(l){return this._get(l)}},{key:"apply_core",value:function(l,Z){return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark((function b(){return regeneratorRuntime.wrap((function(b){for(;;)switch(b.prev=b.next){case 0:void 0===Z&&(Z=null),this._set(l,Z);case 2:case"end":return b.stop()}}),b,this)})))}},{key:"reset_core",value:function(l,Z){return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark((function b(){return regeneratorRuntime.wrap((function(b){for(;;)switch(b.prev=b.next){case 0:void 0===Z&&(Z=null),this._set(l,Z);case 2:case"end":return b.stop()}}),b,this)})))}},{key:"_set",value:function(l,Z){void 0===Z&&(Z=null);var b=void 0,G=this.isChanged(l)&&!this.isMatched(l),d="",m=l;switch(l.startsWith("class_")&&(m="class",d=l.substring(6)),m){case"class":G?this.xgraph.unsetClassCell(this.mxcell,d):this.xgraph.setClassCell(this.mxcell,d);break;case"text":Z=String(Z),this.xgraph.setLabelCell(this.mxcell,Z);break;case"visibility":"0"===(Z=String(Z))?this.xgraph.hideCell(this.mxcell):"1"===Z&&this.xgraph.showCell(this.mxcell);break;case"fold":"0"===(Z=String(Z))?this.xgraph.collapseCell(this.mxcell):"1"===Z&&this.xgraph.expandCell(this.mxcell);break;case"height":if(void 0!==this.geo){var W=Number(Z);if(this.isMatched("height")){var c=this.isMatched("width")?Number(this.getMatchValue("width")):void 0;this.xgraph.changeSizeCell(this.mxcell,c,W,this.geo),this.unset("width")}else this.isMatched("width")||(this.xgraph.resetSizeCell(this.mxcell,this.geo),this.unset("width"))}break;case"width":if(void 0!==this.geo){var h=Number(Z);if(this.isMatched("width")){var X=this.isMatched("height")?Number(this.getMatchValue("height")):void 0;this.xgraph.changeSizeCell(this.mxcell,h,X,this.geo),this.unset("width")}else this.isMatched("height")||(this.xgraph.resetSizeCell(this.mxcell,this.geo),this.unset("height"))}break;case"size":if(void 0!==this.geo){var V=Number(Z);this.xgraph.resizeCell(this.mxcell,V,this.geo)}break;case"barPos":case"fontSize":case"opacity":case"textOpacity":case"rotation":b=void 0===(b=this._get(l))?k.getDefaultValue(l):b,this.xgraph.setStyleAnimCell(this.mxcell,l,Z,b);break;case"blink":Z?this.xgraph.blinkCell(this.mxcell,Z):this.xgraph.unblinkCell(this.mxcell);break;default:this.xgraph.setStyleCell(this.mxcell,l,Z)}}},{key:"_get",value:function(l){switch(l){case"text":return this.xgraph.getLabelCell(this.mxcell);case"visibility":return!1===this.xgraph.isVisibleCell(this.mxcell)?"0":"1";case"height":return void 0!==this.geo?this.geo.height:void 0;case"width":return void 0!==this.geo?this.geo.width:void 0;case"size":return 100;case"fold":return!0===this.xgraph.isCollapsedCell(this.mxcell)?"0":"1";case"blink":return this.xgraph.geBlinkMxCell(this.mxcell);default:return this.xgraph.getStyleCell(this.mxcell,l)}}}]),Z}(Ll),Fl=function(l){function Z(l,b){var G;return pl(this,Z),(G=al(this,Yl(Z).call(this,l,b))).keys=[],G.init_core(),G}return nl(Z,l),yl(Z,[{key:"init_core",value:function(){}},{key:"default_core",value:function(l){return this.xgraph.getLabelCell(this.mxcell)}},{key:"apply_core",value:function(l,Z){return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark((function l(){return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:this.xgraph.setLabelCell(this.mxcell,Z);case 1:case"end":return l.stop()}}),l,this)})))}},{key:"reset_core",value:function(l,Z){return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark((function l(){return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:this.xgraph.setLabelCell(this.mxcell,Z);case 1:case"end":return l.stop()}}),l,this)})))}}]),Z}(Ll),xl=function(l){function Z(l,b){var G;return pl(this,Z),(G=al(this,Yl(Z).call(this,l,b))).keys=[],G.init_core(),G}return nl(Z,l),yl(Z,[{key:"init_core",value:function(){}},{key:"default_core",value:function(l){return this.xgraph.getLink(this.mxcell)}},{key:"apply_core",value:function(l,Z){return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark((function l(){return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:this.xgraph.addLink(this.mxcell,Z);case 1:case"end":return l.stop()}}),l,this)})))}},{key:"reset_core",value:function(l,Z){return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark((function l(){return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:null==Z||0===Z.length?this.xgraph.removeLink(this.mxcell):this.xgraph.addLink(this.mxcell,Z);case 1:case"end":return l.stop()}}),l,this)})))}}]),Z}(Ll),Jl=function(l){function Z(l,b){var G;return pl(this,Z),(G=al(this,Yl(Z).call(this,l,b))).keys=[],G.init_core(),G}return nl(Z,l),yl(Z,[{key:"init_core",value:function(){this.mxcell.GF_tooltipHandler=null}},{key:"default_core",value:function(l){return this.xgraph.getStyleCell(this.mxcell,l)}},{key:"apply_core",value:function(l,Z){return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark((function b(){return regeneratorRuntime.wrap((function(b){for(;;)switch(b.prev=b.next){case 0:void 0===Z&&(Z=null),this.xgraph.setColorAnimCell(this.mxcell,l,Z);case 2:case"end":return b.stop()}}),b,this)})))}},{key:"reset_core",value:function(l,Z){return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark((function b(){return regeneratorRuntime.wrap((function(b){for(;;)switch(b.prev=b.next){case 0:void 0===Z&&(Z=null),this.xgraph.setColorAnimCell(this.mxcell,l,Z);case 2:case"end":return b.stop()}}),b,this)})))}}]),Z}(Ll),Il=function(l){function Z(l,b){var G;return pl(this,Z),(G=al(this,Yl(Z).call(this,l,b))).keys=["tooltip"],G.init_core(),G}return nl(Z,l),yl(Z,[{key:"init_core",value:function(){this.addValue("tooltip",!1),this.tooltipHandler=void 0,this.mxcell.GF_tooltipHandler=null}},{key:"setTooltip",value:function(l,Z,b,G){return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark((function d(){var m,W,c;return regeneratorRuntime.wrap((function(d){for(;;)switch(d.prev=d.next){case 0:m=null,W=l.data.tooltipLabel,null!==this.tooltipHandler&&void 0!==this.tooltipHandler||(this.tooltipHandler=new Wl(this.mxcell)),null!==W&&0!==W.length||("serie"===l.data.metricType&&(W=Z.getName()),"table"===l.data.metricType&&(W=l.data.column)),l.data.tooltipColors&&(m=b),c=this.tooltipHandler.addMetric().setLabel(W).setValue(G).setColor(m).setDirection(l.data.tpDirection),l.data.tpGraph&&c.addGraph(l.data.tpGraphType).setColor(m).setColumn(l.data.column).setMetric(Z).setSize(l.data.tpGraphSize).setScaling(l.data.tpGraphLow,l.data.tpGraphHigh).setScale(l.data.tpGraphScale),this.tooltipHandler.updateDate();case 8:case"end":return d.stop()}}),d,this)})))}},{key:"apply",value:function(l){var b=this;return void 0!==l&&"tooltip"===l?this.isMatched(l)&&!0===this.getMatchValue(l)&&(null!=this.tooltipHandler&&this.tooltipHandler.isChecked()&&(this.mxcell.GF_tooltipHandler=this.tooltipHandler),ul(Yl(Z.prototype),"apply",this).call(this,l)):this.keys.forEach((function(l){b.apply(l)})),this}},{key:"prepare",value:function(){return ul(Yl(Z.prototype),"prepare",this).call(this),this.reset(),this}},{key:"reset",value:function(l){var b=this;return void 0!==l&&"tooltip"===l?(this.mxcell.GF_tooltipHandler=null,this.tooltipHandler&&this.tooltipHandler.destroy(),this.tooltipHandler=void 0,ul(Yl(Z.prototype),"reset",this).call(this,l)):this.keys.forEach((function(l){b.reset(l)})),this}}]),Z}(Ll),Sl=function(l){function Z(l,b){var G;return pl(this,Z),(G=al(this,Yl(Z).call(this,l,b))).keys=[],G.init(),G}return nl(Z,l),yl(Z,[{key:"init",value:function(){}},{key:"default_core",value:function(l){return!1}},{key:"apply_core",value:function(l){var Z=this;return void 0!==l&&"icon"===l?this.isMatched(l)&&!0===this.getMatchValue(l)?this.isChanged(l)||this.xgraph.addOverlay("WARNING/ERROR",this.mxcell):this.isChanged(l)&&this.reset_core(l):this.keys.forEach((function(l){Z.apply_core(l)})),this}},{key:"reset_core",value:function(l){var Z=this;return void 0!==l&&"icon"===l?this.xgraph.removeOverlay(this.mxcell):this.keys.forEach((function(l){Z.reset_core(l)})),this}}]),Z}(Ll);function Nl(l,Z){for(var b=0;b<Z.length;b++){var G=Z[b];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(l,G.key,G)}}var Kl=function(){function l(Z){!function(l,Z){if(!(l instanceof Z))throw new TypeError("Cannot call a class as a function")}(this,l),this.edited=!1,this.states=new Map,this.xgraph=Z,this.initStates(this.xgraph)}var Z,b,G;return Z=l,(b=[{key:"initStates",value:function(l){var Z=this,b=Y.a.trace.before(this.constructor.name+".initStates()");this.xgraph=l,this.states.clear();var G=l.getMxCells();return a.a.each(G,(function(l){Z.addState(l)})),b.after(),this}},{key:"getStatesForRule",value:function(l){var Z,b=Y.a.trace.before(this.constructor.name+".getStatesForRule()"),G=new Map,d=this.xgraph;return this.states.forEach((function(b){var m=b.mxcell,W=m.id,c=!1;null!==(Z=d.getValuePropOfMxCell(l.data.shapeProp,m))&&l.matchShape(Z)&&(G.set(W,b),c=!0),c||(Z=d.getValuePropOfMxCell(l.data.textProp,m),l.matchText(Z)&&(G.set(W,b),c=!0)),c||(Z=d.getValuePropOfMxCell(l.data.linkProp,m),l.matchLink(Z)&&(G.set(W,b),c=!0)),c||(Z=d.getValuePropOfMxCell(l.data.eventProp,m),l.matchEvent(Z)&&(G.set(W,b),c=!0))})),b.after(),G}},{key:"updateStates",value:function(l){var Z=this;Y.a.log.info("StateHandler.updateStates()"),l.forEach((function(l){l.states=Z.getStatesForRule(l)}))}},{key:"getStates",value:function(){return this.states}},{key:"getStatesForInspect",value:function(){var l=[];return this.states.forEach((function(Z){l.push(Z)})),l}},{key:"getState",value:function(l){return this.states.get(l)}},{key:"addState",value:function(l){var Z=Y.a.trace.before(this.constructor.name+".addState()"),b=new tl(l,this.xgraph);return this.states.set(l.id,b),Y.a.DEBUG&&Y.a.setVar("STATE_".concat(b.cellId),b),Z.after(),b}},{key:"countStates",value:function(){return this.states.size}},{key:"prepare",value:function(){var l=Y.a.trace.before(this.constructor.name+".prepare()");return this.states.forEach((function(l){l.prepare()})),l.after(),this}},{key:"setStates",value:function(l,Z){var b=this,G=Y.a.trace.before(this.constructor.name+".setStates()");return this.prepare(),l.forEach((function(l){l.highestLevel=-1,l.highestFormattedValue="",l.highestColor="",l.highestValue="",l.execTimes=0,void 0!==l.states&&0!==l.states.size||(l.states=b.getStatesForRule(l)),l.states.forEach((function(b){Z.forEach((function(Z){b.setState(l,Z)}))}))})),G.after(),this}},{key:"applyStates",value:function(){var l=Y.a.trace.before(this.constructor.name+".applyStates()");return this.states.forEach((function(l){l.async_applyState()})),l.after(),this}},{key:"async_applyStates",value:function(){return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark((function l(){return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:this.applyStates();case 1:case"end":return l.stop()}}),l,this)})))}}])&&Nl(Z.prototype,b),G&&Nl(Z,G),l}();function el(l,Z){for(var b=0;b<Z.length;b++){var G=Z[b];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(l,G.key,G)}}var kl=function(){function l(Z,b,G,d){!function(l,Z){if(!(l instanceof Z))throw new TypeError("Cannot call a class as a function")}(this,l),this.xgraph=void 0,this.visible=!1,this.data=d,this.data.name=Z,this.container=b,this.templateSrv=G.templateSrv,this.id=Y.a.utils.uniqueID()}var Z,b,G;return Z=l,G=[{key:"getDefaultData",value:function(){return{name:"name",xml:Tl.getDefaultDioGraph(),csv:Tl.getDefaultCsvGraph(),download:!1,type:"xml",url:"http://<YourUrl>/<Your XML/drawio file/api>",zoom:"100%",center:!0,scale:!0,lock:!0,allowDrawio:!0,enableAnim:!0,tooltip:!0,grid:!1,bgColor:null,editorUrl:"https://www.draw.io",editorTheme:"dark"}}}],(b=[{key:"import",value:function(l){return Y.a.log.info("flowchart[".concat(this.data.name,"].import()")),(l.download||!1===this.data.download)&&(this.data.download=l.download),l.source&&(this.data.type=l.source.type,this.data.xml=l.source.xml.value,this.data.url=l.source.url.value),l.options&&(this.data.zoom=l.options.zoom,this.data.center=l.options.center,this.data.scale=l.options.scale,this.data.lock=l.options.lock,this.data.allowDrawio=!1,this.data.tooltip=l.options.tooltip,this.data.grid=l.options.grid,this.data.bgColor=l.options.bgColor),l.type&&(this.data.type=l.type),l.xml&&(this.data.xml=l.xml),l.csv&&(this.data.csv=l.csv),l.url&&(this.data.url=l.url),l.zoom&&(this.data.zoom=l.zoom),(l.center||!1===l.center)&&(this.data.center=l.center),(l.scale||!1===l.scale)&&(this.data.scale=l.scale),(l.lock||!1===l.lock)&&(this.data.lock=l.lock),(l.allowDrawio||!1===l.allowDrawio)&&(this.data.allowDrawio=l.allowDrawio),(l.enableAnim||!1===l.enableAnim)&&(this.data.enableAnim=l.enableAnim),l.tooltip&&(this.data.tooltip=l.tooltip),(l.grid||!1===l.grid)&&(this.data.grid=l.grid),l.bgColor&&(this.data.bgColor=l.bgColor),l.editorUrl&&(this.data.editorUrl=l.editorUrl),l.editorTheme&&(this.data.editorTheme=l.editorTheme),this.init(),this}},{key:"getData",value:function(){return this.data}},{key:"updateStates",value:function(l){var Z=this,b=Y.a.trace.before(this.constructor.name+".updateStates()");return l.forEach((function(l){void 0!==Z.stateHandler?(l.states=Z.stateHandler.getStatesForRule(l),l.states?l.states.forEach((function(l){l.unsetState()})):Y.a.log.warn("States not defined for this rule")):Y.a.log.error("updateStates => this.stateHandler undefined")})),b.after(),this}},{key:"init",value:function(){try{var l=this.getContent();void 0===this.xgraph&&(this.xgraph=new w(this.container,this.data.type,l)),null!=l?(this.data.allowDrawio?this.xgraph.allowDrawio(!0):this.xgraph.allowDrawio(!1),this.data.enableAnim?this.xgraph.enableAnim(!0):this.xgraph.enableAnim(!1),this.setOptions(),this.xgraph.drawGraph(),this.data.tooltip&&this.xgraph.tooltipGraph(!0),this.data.scale?this.xgraph.scaleGraph(!0):this.xgraph.zoomGraph(this.data.zoom),this.data.center&&this.xgraph.centerGraph(!0),this.data.lock&&this.xgraph.lockGraph(!0),this.stateHandler=new Kl(this.xgraph),Y.a.message.clearMessage()):(Y.a.message.setMessage("Source content empty Graph not defined","error"),Y.a.log.error("Source content empty Graph not defined"))}catch(l){Y.a.message.setMessage("Unable to initialize graph","error"),Y.a.log.error("Unable to initialize graph",l)}return this}},{key:"getStateHandler",value:function(){return this.stateHandler}},{key:"getXGraph",value:function(){return this.xgraph}},{key:"setStates",value:function(l,Z){return void 0===l&&Y.a.log.warn("Rules shoudn't be null"),void 0===Z&&Y.a.log.warn("Metrics shoudn't be null"),this.stateHandler&&this.stateHandler.setStates(l,Z),this}},{key:"setOptions",value:function(){var l=Y.a.trace.before(this.constructor.name+".setOptions()");return this.setScale(this.data.scale),this.setCenter(this.data.center),this.setGrid(this.data.grid),this.setTooltip(this.data.tooltip),this.setLock(this.data.lock),this.setZoom(this.data.zoom),this.setBgColor(this.data.bgColor),l.after(),this}},{key:"applyStates",value:function(){return this.stateHandler&&this.stateHandler.applyStates(),this}},{key:"applyOptions",value:function(){var l=Y.a.trace.before(this.constructor.name+".applyOptions()");this.xgraph&&this.xgraph.applyGraph(),l.after()}},{key:"refresh",value:function(){this.xgraph&&this.xgraph.refresh()}},{key:"redraw",value:function(l){void 0!==l&&this.setContent(l),void 0!==this.xgraph&&this.xgraph.setContent(this.getContent())}},{key:"reload",value:function(){void 0!==this.xgraph&&null!==this.xgraph?(this.xgraph.destroyGraph(),this.xgraph=void 0,this.init()):this.init()}},{key:"destroy",value:function(){this.toBack(),void 0!==this.xgraph&&null!==this.xgraph&&(this.xgraph.destroyGraph(),this.xgraph=void 0),this.container.remove()}},{key:"setName",value:function(l){this.data.name=l}},{key:"getName",value:function(){return this.data.name}},{key:"setLock",value:function(l){return this.data.lock=l,this.xgraph&&(this.xgraph.lock=l),this}},{key:"applyLock",value:function(l){return void 0!==l&&(this.data.lock=l),this.xgraph&&this.xgraph.lockGraph(this.data.lock),this}},{key:"setTooltip",value:function(l){return this.data.tooltip=l,this.xgraph&&(this.xgraph.tooltip=l),this}},{key:"applyTooltip",value:function(l){return void 0!==l&&(this.data.tooltip=l),this.xgraph&&this.xgraph.tooltipGraph(this.data.tooltip),this}},{key:"setScale",value:function(l){return this.data.scale=l,this.xgraph&&(this.xgraph.scale=l),this}},{key:"setBgColor",value:function(l){return this.data.bgColor=l,this.xgraph&&(this.xgraph.bgColor=l),this}},{key:"ApplyBgColor",value:function(l){return this.data.bgColor=l,l&&this.xgraph&&this.xgraph.bgGraph(l),this}},{key:"applyScale",value:function(l){return void 0!==l&&(this.data.scale=l),this.xgraph&&this.xgraph.scaleGraph(this.data.scale),this}},{key:"setCenter",value:function(l){return this.data.center=l,this.xgraph&&(this.xgraph.center=l),this}},{key:"getNamesByProp",value:function(l){return this.xgraph?this.xgraph.getOrignalCells(l):[]}},{key:"getXml",value:function(){var l=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return l?this.templateSrv.replaceWithText(this.data.xml):this.data.xml}},{key:"getCsv",value:function(){var l=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return l?this.templateSrv.replaceWithText(this.data.csv):this.data.csv}},{key:"getSource",value:function(){var l=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return"xml"===this.data.type?this.getXml(l):"csv"===this.data.type?this.getCsv(l):""}},{key:"getUrlEditor",value:function(){return this.data.editorUrl}},{key:"getThemeEditor",value:function(){return this.data.editorTheme}},{key:"getContent",value:function(){var l=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],Z=Y.a.trace.before(this.constructor.name+".getContent()"),b="";if(this.data.download){var G=this.templateSrv.replaceWithText(this.data.url);Y.a.message.setMessage("Loading content definition for ".concat(this.data.name),"info"),b=this.loadContent(G),Y.a.message.clearMessage(),null!==b&&l&&(b=this.templateSrv.replaceWithText(b))}else b=this.getSource(l);return Z.after(),null===b?"":b}},{key:"setContent",value:function(l){return"xml"===this.data.type&&(this.data.xml=l),"csv"===this.data.type&&(this.data.csv=l),this}},{key:"loadContent",value:function(l){return Y.a.utils.$loadFile(l)}},{key:"renameId",value:function(l,Z){return this.xgraph&&this.xgraph.renameId(l,Z),this}},{key:"applyModel",value:function(){return this.xgraph&&(this.data.xml=this.xgraph.getXmlModel()),this.redraw(),this}},{key:"center",value:function(l){return void 0!==l&&(this.data.center=l),this.xgraph&&this.xgraph.centerGraph(this.data.center),this}},{key:"setZoom",value:function(l){return this.data.zoom=l,this.xgraph&&(this.xgraph.zoomPercent=l),this}},{key:"zoom",value:function(l){return void 0!==l&&(this.data.zoom=l),this.xgraph&&this.xgraph.zoomGraph(this.data.zoom),this}},{key:"setGrid",value:function(l){return this.data.grid=l,this.xgraph&&(this.xgraph.grid=l),this}},{key:"grid",value:function(l){return void 0!==l&&(this.data.grid=l),this.xgraph&&this.xgraph.gridGraph(this.data.grid),this}},{key:"setXml",value:function(l){return this.data.xml=l,this}},{key:"setCsv",value:function(l){return this.data.csv=l,this}},{key:"minify",value:function(){this.data.xml=Y.a.utils.minify(this.data.xml)}},{key:"prettify",value:function(){this.data.xml=Y.a.utils.prettify(this.data.xml)}},{key:"decode",value:function(){Y.a.utils.isencoded(this.data.xml)&&(this.data.xml=Y.a.utils.decode(this.data.xml,!0,!0,!0))}},{key:"encode",value:function(){Y.a.utils.isencoded(this.data.xml)||(this.data.xml=Y.a.utils.encode(this.data.xml,!0,!0,!0))}},{key:"getContainer",value:function(){return this.container}},{key:"setMap",value:function(l){var Z=this.getContainer();this.xgraph&&this.xgraph.setMap(l),Z.scrollIntoView(),Z.focus()}},{key:"unsetMap",value:function(){this.xgraph&&this.xgraph.unsetMap()}},{key:"toFront",value:function(){var l=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return Y.a.log.debug("toFront",this.data.name),this.visible=!0,this.container.className="GF_show",l&&this.applyOptions(),this}},{key:"toBack",value:function(){return Y.a.log.debug("toBack",this.data.name),this.visible=!1,this.container.className="GF_hide",this}},{key:"isVisible",value:function(){return this.visible}}])&&el(Z.prototype,b),G&&el(Z,G),l}();function Ul(l,Z){for(var b=0;b<Z.length;b++){var G=Z[b];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(l,G.key,G)}}var Tl=function(){function l(Z,b,G,d){var m=this;!function(l,Z){if(!(l instanceof Z))throw new TypeError("Cannot call a class as a function")}(this,l),this.flowcharts=[],this.currentFlowchartName="Main",this.firstLoad=!0,this.flags={sources:new Set,options:new Set,rules:new Set,datas:new Set,graphHover:new Set,applyOptions:new Set,hiddenChange:new Set},this.newMode=!1,this.sequenceNumber=0,this.onMapping={active:!1,object:null,value:null,prop:"id",$scope:null},this.mousedownTimeout=0,this.mousedown=0,this.onEdit=!1,this.postedId=void 0,this.editorWindow=null,l.getDefaultDioGraph(),this.$scope=Z,this.$elem=b.find(".flowchart-panel__chart"),this.parentDiv=this.$elem[0],this.ctrl=G,this.data=d,this.currentFlowchartName=this.data.main,G.events.on("render",(function(){m.render()})),document.body.onmousedown=function(){m.mousedown=0,window.clearInterval(m.mousedownTimeout),m.mousedownTimeout=window.setInterval((function(){m.mousedown+=1}),200)},document.body.onmouseup=function(){m.mousedown=0,window.clearInterval(m.mousedownTimeout)}}var Z,b,G;return Z=l,G=[{key:"getDefaultData",value:function(){return{editorUrl:"https://www.draw.io",editorTheme:"kennedy",main:"Main",flowcharts:[]}}},{key:"getDefaultDioGraph",value:function(){var Z=l.defaultXml;if(!Z){var b="".concat(Y.a.plugin.getRootPath()).concat(Y.a.CONSTANTS.CONF_FILE_DEFAULTDIO);Z=Y.a.utils.$loadFile(b)}return Z}},{key:"getDefaultCsvGraph",value:function(){var Z=l.defaultCsv;if(!Z){var b="".concat(Y.a.plugin.getRootPath()).concat(Y.a.CONSTANTS.CONF_FILE_DEFAULTCSV);Z=Y.a.utils.$loadFile(b)}return Z}}],(b=[{key:"import",value:function(l){var Z,b=this;return this.flowcharts=[],null!=l&&(1===(Z=Array.isArray(l)?l:l.flowcharts).length&&(this.data.main=Z[0].name,this.currentFlowchartName=this.data.main,this.data.editorTheme=Z[0].editorTheme,this.data.editorUrl=Z[0].editorUrl),this.data.editorTheme=l.editorTheme?l.editorTheme:this.data.editorTheme,this.data.editorUrl=l.editorUrl?l.editorUrl:this.data.editorUrl,Z.forEach((function(l){b.addFlowchart(l.name).toBack().import(l)})),this.currentFlowchart=this.getFlowchart("Main")),this}},{key:"getFlowchart",value:function(l){if(l)for(var Z=this.flowcharts.length,b=0;b<Z;b++){var G=this.flowcharts[b];if(G.getName()===l)return G}var d=this.getCurrentFlowchart();return void 0!==d?d:this.flowcharts[0]}},{key:"getFlowchartById",value:function(l){for(var Z=this.getFlowcharts(),b=0;b<Z.length;b++){var G=Z[b];if(G.id===l)return G}}},{key:"getFlowcharts",value:function(){return this.flowcharts}},{key:"countFlowcharts",value:function(){return void 0!==this.flowcharts&&Array.isArray(this.flowcharts)?this.flowcharts.length:0}},{key:"getFlowchartTmpName",value:function(){return 0===this.sequenceNumber&&(this.sequenceNumber=this.countFlowcharts()),"Flowchart-".concat(this.sequenceNumber++)}},{key:"setCurrentFlowchart",value:function(l){return Y.a.log.debug("setCurrentFlowchart",l),void 0===l?(this.currentFlowchart=this.getFlowchart("Main"),this.currentFlowchartName=this.currentFlowchart.getName(),this.currentFlowchart.toFront(),this.currentFlowchart):void 0===this.currentFlowchart?(this.currentFlowchart=this.getFlowchart(l),this.currentFlowchartName=this.currentFlowchart.getName(),this.currentFlowchart):(this.currentFlowchart.getName()!==l&&this.currentFlowchart.toBack(),this.currentFlowchart=this.getFlowchart(l),this.currentFlowchartName=l,this.currentFlowchart.toFront(),this.currentFlowchart)}},{key:"getCurrentFlowchart",value:function(){return this.currentFlowchart}},{key:"getCurrentFlowchartName",value:function(){var l=this.getCurrentFlowchart();return void 0!==l?l.getName():"Main"}},{key:"createContainer",value:function(){var l=document.createElement("div");return l.style.margin="auto",l.style.position="absolute",l.style.width="100%",l.style.height="100%",l.style.touchAction="none",l.style.border="none",l.style.cursor="default",l.style.right="0px",l.style.left="0px",l.style.bottom="0px",l.style.top="0px",this.parentDiv.appendChild(l),l}},{key:"addFlowchart",value:function(l){var Z=Y.a.trace.before(this.constructor.name+".addFlowchart()"),b=kl.getDefaultData(),G=this.createContainer(),d=new kl(l,G,this.ctrl,b);return this.flowcharts.push(d),this.data.flowcharts.push(b),Z.after(),d}},{key:"removeFlowchart",value:function(l){var Z=Y.a.trace.before(this.constructor.name+".removeFlowchart()"),b=this.getFlowchart(l),G=this.flowcharts.indexOf(b);this.flowcharts.splice(G,1),this.data.flowcharts.splice(G,1),b.destroy(),Z.after()}},{key:"render",value:function(l){return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark((function l(){var Z,b,G,d;return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:Z=Y.a.trace.before(this.constructor.name+".render()"),this.mousedown||(this.flagChange(Y.a.CONSTANTS.FLOWCHART_APL_OPTIONS),(b=this).isFlagedChange(Y.a.CONSTANTS.FLOWCHART_CHG_SOURCES)&&this.getFlagNames(Y.a.CONSTANTS.FLOWCHART_CHG_SOURCES).forEach((function(l){b.load(l).setOptions(l)})),b.isFlagedChange(Y.a.CONSTANTS.FLOWCHART_CHG_OPTIONS)&&this.getFlagNames(Y.a.CONSTANTS.FLOWCHART_CHG_OPTIONS).forEach((function(l){b.setOptions(l)})),(b.isFlagedChange(Y.a.CONSTANTS.FLOWCHART_CHG_RULES)||b.isFlagedChange(Y.a.CONSTANTS.FLOWCHART_CHG_DATAS)||b.isFlagedChange(Y.a.CONSTANTS.FLOWCHART_CHG_GRAPHHOVER))&&(G=b.ctrl.rulesHandler.getRules(),d=b.ctrl.metricHandler.getMetrics(),b.async_refreshStates(G,d),this.aknowledgeFlagChange(Y.a.CONSTANTS.FLOWCHART_APL_OPTIONS),this.aknowledgeFlagChange(Y.a.CONSTANTS.FLOWCHART_CHG_DATAS),this.aknowledgeFlagChange(Y.a.CONSTANTS.FLOWCHART_CHG_GRAPHHOVER)),void 0===b.currentFlowchart||b.currentFlowchart.isVisible()||(this.setCurrentFlowchart(b.currentFlowchart.getName()),this.aknowledgeFlagChange(Y.a.CONSTANTS.FLOWCHART_APL_OPTIONS)),(b.isFlagedChange(Y.a.CONSTANTS.FLOWCHART_APL_OPTIONS)||b.firstLoad)&&(this.getFlagNames(Y.a.CONSTANTS.FLOWCHART_APL_OPTIONS).forEach((function(l){b.applyOptions(l)})),b.firstLoad=!1)),this.ctrl.renderingCompleted(),Z.after();case 4:case"end":return l.stop()}}),l,this)})))}},{key:"onSourceChange",value:function(l){return this.flagChange(Y.a.CONSTANTS.FLOWCHART_CHG_SOURCES,l),this}},{key:"onOptionsChange",value:function(l){return this.flagChange(Y.a.CONSTANTS.FLOWCHART_CHG_OPTIONS,l),this}},{key:"onDatasChange",value:function(l){return this.flagChange(Y.a.CONSTANTS.FLOWCHART_CHG_DATAS,l),this}},{key:"onRulesChange",value:function(l){return this.flagChange(Y.a.CONSTANTS.FLOWCHART_CHG_RULES,l),this}},{key:"onGraphHoverChange",value:function(){return this.flagChange(Y.a.CONSTANTS.FLOWCHART_CHG_GRAPHHOVER,name),this}},{key:"applyOptions",value:function(l){var Z=this;Y.a.log.debug("".concat(this.constructor.name,".applyOptions()"),l);var b=Y.a.trace.before(this.constructor.name+".applyOptions()");if(void 0===l)this.flowcharts.forEach((function(l){var b=l.getName();Z.applyOptions(b)}));else{var G=this.getFlowchart(l);G.applyOptions(),this.aknowledgeFlagChange(Y.a.CONSTANTS.FLOWCHART_CHG_OPTIONS,l),G.isVisible()||this.flagChange(Y.a.CONSTANTS.FLOWCHART_CHG_HIDDENCHANGE,l)}return b.after(),this}},{key:"flagChange",value:function(l,Z){var b=this;return Y.a.log.debug("flagChange",l,Z),void 0!==Z?this.flags[l].add(Z):this.flowcharts.forEach((function(Z){var G=Z.getName();b.flags[l].add(G)})),this}},{key:"isFlagedChange",value:function(l,Z){return void 0===Z?this.flags[l].size>0:this.flags[l].has(Z)}},{key:"aknowledgeFlagChange",value:function(l,Z){Y.a.log.debug("aknowledgeFlagChange",l,Z),void 0===Z?this.flags[l].clear():this.flags[l].delete(Z)}},{key:"getFlagNames",value:function(l){var Z=[];return this.flags[l].forEach((function(l){return Z.push(l)})),Z}},{key:"async_refreshStates",value:function(l,Z){var b=Y.a.trace.before(this.constructor.name+".async_refreshStates()");this.refreshStates(l,Z),b.after()}},{key:"refreshStates",value:function(l,Z){var b=Y.a.trace.before(this.constructor.name+".refreshStates()");return this.isFlagedChange(Y.a.CONSTANTS.FLOWCHART_CHG_RULES)&&(this.updateStates(l),this.aknowledgeFlagChange(Y.a.CONSTANTS.FLOWCHART_CHG_RULES)),this.setStates(l,Z),this.applyStates(),b.after(),this}},{key:"refresh",value:function(){return this.flowcharts.forEach((function(l){l.refresh()})),this}},{key:"setStates",value:function(l,Z){var b=Y.a.trace.before(this.constructor.name+".setStates()");return this.flowcharts.forEach((function(b){b.setStates(l,Z)})),b.after(),this}},{key:"updateStates",value:function(l){var Z=Y.a.trace.before(this.constructor.name+".updateStates()");return this.flowcharts.forEach((function(Z){Z.updateStates(l)})),Z.after(),this}},{key:"applyStates",value:function(){var l=this,Z=Y.a.trace.before(this.constructor.name+".applyStates()");return new Promise((function(){l.flowcharts.forEach((function(l){l.applyStates()}))})).then((function(){l.refresh()})),Z.after(),this}},{key:"setOptions",value:function(l){var Z=this,b=Y.a.trace.before(this.constructor.name+".setOptions()");if(void 0===l)this.flowcharts.forEach((function(l){var b=l.getName();Z.setOptions(b)}));else{var G=this.getFlowchart(l);G.setOptions(),this.aknowledgeFlagChange(Y.a.CONSTANTS.FLOWCHART_CHG_OPTIONS,l),this.flagChange(Y.a.CONSTANTS.FLOWCHART_CHG_DATAS,l),this.flagChange(Y.a.CONSTANTS.FLOWCHART_APL_OPTIONS,l),G.isVisible()||this.flagChange(Y.a.CONSTANTS.FLOWCHART_CHG_HIDDENCHANGE,l)}return b.after(),this}},{key:"setCurrentOptions",value:function(){var l=this.getCurrentFlowchartName();return this.setOptions(l),this}},{key:"draw",value:function(l){var Z=this,b=Y.a.trace.before(this.constructor.name+".draw()");return void 0===l?this.flowcharts.forEach((function(l){var b=l.getName();Z.draw(b)})):this.getFlowchart(l).redraw(),b.after(),this}},{key:"drawCurrent",value:function(){var l=this.getCurrentFlowchartName();return this.draw(l),this}},{key:"load",value:function(l){var Z=this,b=Y.a.trace.before(this.constructor.name+".draw()");if(void 0===l)this.flowcharts.forEach((function(b){Z.load(l)}));else{var G=this.getFlowchart(l);G.isVisible()||this.flagChange(Y.a.CONSTANTS.FLOWCHART_CHG_HIDDENCHANGE,l),G.reload(),this.aknowledgeFlagChange(Y.a.CONSTANTS.FLOWCHART_CHG_SOURCES,l)}return b.after(),this}},{key:"loadCurrent",value:function(){var l=this.getCurrentFlowchartName();return this.load(l),this}},{key:"setMap",value:function(l){var Z=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"id",b=this.getFlowchart(this.currentFlowchartName);return this.onMapping.active=!0,this.onMapping.object=l,this.onMapping.value=l.getId(),this.onMapping.$scope=this.$scope,this.onMapping.prop=Z,b.setMap(this.onMapping),this}},{key:"unsetMap",value:function(){var l=this.getFlowchart(this.currentFlowchartName);return this.onMapping.active=!1,this.onMapping.object=void 0,this.onMapping.value="",l.unsetMap(),this}},{key:"isMapping",value:function(l){return void 0===l||null==l?this.onMapping.active:!0===this.onMapping.active&&l===this.onMapping.object}},{key:"listenMessage",value:function(l){if(void 0!==l.data&&l.data.length>0&&"fc-"===l.data.substring(0,3)){var Z=l.data.substring(3),b=this.getFlowchartById(Z);this.currentFlowchart=b,void 0!==b&&(Y.a.message.setMessage("Sending current data to draw.io editor","info"),l.source.postMessage(b.data.xml,l.origin),this.postedId=b.id)}else{if(this.onEdit&&void 0!==l.data&&l.data.length>0&&"fc-"!==l.data.substring(0,3)&&void 0!==this.currentFlowchart&&void 0!==this.postedId){var G=this.getFlowchartById(this.postedId);void 0!==G&&(Y.a.message.setMessage("Received data from draw.io editor, refresh in progress","info"),G.redraw(l.data),this.onSourceChange(G.getName()),this.$scope.$apply(),this.render())}(this.onEdit&&void 0!==l.data||0===l.data.length)&&(this.editorWindow&&this.editorWindow.close(),this.onEdit=!1,this.postedId=void 0,window.removeEventListener("message",this.listenMessage.bind(this),!1),Y.a.message.setMessage("Draw.io editor closed","info"))}}},{key:"openDrawEditor",value:function(l){var Z=this.getFlowchart(l),b=Z.getUrlEditor(),G=this.getFlowchart(l).getThemeEditor(),d="".concat(b,"?embed=1&spin=1&libraries=1&ui=").concat(G,"&ready=fc-").concat(Z.id,"&src=grafana");this.editorWindow=window.open(d,"MxGraph Editor","width=1280, height=720"),this.onEdit=!0,Y.a.message.setMessage("Opening current flowchart on draw.io editor","info"),window.addEventListener("message",this.listenMessage.bind(this),!1)}},{key:"getFlowchartNames",value:function(){return this.flowcharts.map((function(l){return l.data.name}))}}])&&Ul(Z.prototype,b),G&&Ul(Z,G),l}();function Cl(l){return(Cl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(l)}function zl(l,Z){return!Z||"object"!==Cl(Z)&&"function"!=typeof Z?function(l){if(void 0===l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}(l):Z}function vl(l){return(vl=Object.setPrototypeOf?Object.getPrototypeOf:function(l){return l.__proto__||Object.getPrototypeOf(l)})(l)}function El(l,Z){if("function"!=typeof Z&&null!==Z)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(Z&&Z.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),Z&&Hl(l,Z)}function Hl(l,Z){return(Hl=Object.setPrototypeOf||function(l,Z){return l.__proto__=Z,l})(l,Z)}function Ml(l,Z){if(!(l instanceof Z))throw new TypeError("Cannot call a class as a function")}function wl(l,Z){for(var b=0;b<Z.length;b++){var G=Z[b];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(l,G.key,G)}}function Ql(l,Z,b){return Z&&wl(l.prototype,Z),b&&wl(l,b),l}var Bl=function(){function l(Z){Ml(this,l),this.type="unknow",this.metrics={},this.name="",this.nullPointMode="connected"}return Ql(l,[{key:"getName",value:function(){return void 0!==this.name&&null!==this.name||Y.a.log.error("Metric => getName : Name is null"),this.name}},{key:"getValue",value:function(l,Z){return null}},{key:"findValue",value:function(l,Z){return null}},{key:"getData",value:function(l){return[]}},{key:"getColumnsName",value:function(){return[]}}]),l}(),jl=function(l){function Z(l){var b;return Ml(this,Z),(b=zl(this,vl(Z).call(this,l))).type="serie",b.metrics=b.seriesHandler(l),b.addCustomStats(),b.name=b.metrics.alias,b}return El(Z,l),Ql(Z,[{key:"seriesHandler",value:function(l){var Z=Y.a.trace.before(this.constructor.name+".seriesHandler()"),b=u.getTimeSeries(l);return b.flotpairs=b.getFlotPairs(this.nullPointMode),Z.after(),b}},{key:"addCustomStats",value:function(){var l=Y.a.trace.before(this.constructor.name+".addCustomStats()");try{var Z=this.metrics.flotpairs.length;this.metrics.stats.last_time=this.metrics.flotpairs[Z-1][0],this.metrics.stats.current=this.metrics.flotpairs[Z-1][1],this.metrics.stats.current_notnull=null;for(var b=Z-1;(null===this.metrics.flotpairs[b][1]||void 0===this.metrics.flotpairs[b][1])&&b>=0;)b-=1;for(b>=0&&(this.metrics.stats.current_notnull=this.metrics.flotpairs[b][1]),this.metrics.stats.first=this.metrics.flotpairs[0][1],this.metrics.stats.first_notnull=null,b=0;(null===this.metrics.flotpairs[b][1]||void 0===this.metrics.flotpairs[b][1])&&b<Z;)b+=1;b<Z&&(this.metrics.stats.first_notnull=this.metrics.flotpairs[b][1])}catch(l){Y.a.log.error("Unable to add custom stats",l)}l.after()}},{key:"getValue",value:function(l){try{var Z=null;if(Y.a.hasGraphHover()){var b=Y.a.getGraphHover();Z=void 0!==b?this.findValue(b):null}else Z=this.metrics.stats[l];return Z}catch(l){return Y.a.log.error("datapoint for serie is null",l),null}}},{key:"findValue",value:function(l){var Z=Y.a.trace.before(this.constructor.name+".findValue()"),b=0,G=this.metrics.flotpairs.length-1,d=!(G>0);l=Math.round(l);for(var m=null;!d;){var W=b+Math.round((G-b)/2);this.metrics.flotpairs[W][0]===l&&(m=this.metrics.flotpairs[W][1],d=!0),!d&&b<W&&W<G?(l>this.metrics.flotpairs[W][0]&&(b=W),l<this.metrics.flotpairs[W][0]&&(G=W)):(m=this.metrics.flotpairs[W][0]>l&&W>=1?this.metrics.flotpairs[W-1][1]:this.metrics.flotpairs[W][1],d=!0)}return Z.after(),m}},{key:"getData",value:function(){var l=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.metrics.flotpairs.map((function(Z){return l?{x:Z[0],y:Math.log10(Z[1])}:{x:Z[0],y:Z[1]}}))}},{key:"getColumnsName",value:function(){return["time","value"]}}]),Z}(Bl),gl=function(l){function Z(l){var b;return Ml(this,Z),(b=zl(this,vl(Z).call(this,l))).tableColumnOptions={},b.tableColumn="",b.allIsNull=!0,b.allIsZero=!0,b.type="table",b.name=l.refId,b.metrics=b.tableHandler(l),b}return El(Z,l),Ql(Z,[{key:"tableHandler",value:function(l){var Z=Y.a.trace.before(this.constructor.name+".tableHandler()"),b={datapoints:[],columnNames:{},stats:{}};return l.columns.forEach((function(l,Z){b.columnNames[Z]=l.text,"time"===l.text.toString().toLowerCase()&&(b.timeIndex=Z,b.timeColumn=l.text)})),this.tableColumnOptions=b.columnNames,a.a.find(l.columns,["text",this.tableColumn])||this.setTableColumnToSensibleDefault(l),l.rows.forEach((function(l){var Z={};l.forEach((function(l,G){var d=b.columnNames[G];Z[d]=l})),b.datapoints.push(Z)})),this.metrics.flotpairs=this.getFlotPairs(this.nullPointMode,b),Z.after(),b}},{key:"setTableColumnToSensibleDefault",value:function(l){1===l.columns.length?this.tableColumn=l.columns[0].text:this.tableColumn=a.a.find(l.columns,(function(l){return"time"!==l.type})).text}},{key:"getFlotPairs",value:function(l,Z){var b=Y.a.trace.before(this.constructor.name+".getFlotPairs()"),G=[],d="connected"===l,m="null as zero"===l;for(var W in Z.allIsNull=!0,Z.allIsZero=!0,Z.columnNames){var c=Z.columnNames[W];Z.stats[c]={},Z.stats[c].name=c,Z.stats[c].total=0,Z.stats[c].max=-Number.MAX_VALUE,Z.stats[c].min=Number.MAX_VALUE,Z.stats[c].logmin=Number.MAX_VALUE,Z.stats[c].avg=null,Z.stats[c].current=null,Z.stats[c].current_notnull=null,Z.stats[c].first=null,Z.stats[c].first_notnull=null,Z.stats[c].delta=0,Z.stats[c].diff=null,Z.stats[c].range=null,Z.stats[c].timeStep=Number.MAX_VALUE;var h=void 0,X=void 0,V=0,u=void 0,R=0,n=!0;try{for(var i=0;i<Z.datapoints.length;i++){if(Z.timeColumn&&(h=Z.datapoints[i][Z.timeColumn]),X=Z.datapoints[i][c],void 0!==u){var p=h-u;p<Z.stats[c].timeStep&&(Z.stats[c].timeStep=p)}if(u=h,null===X){if(d)continue;m&&(X=0)}null!==X&&(a.a.isNumber(X)&&(Z.stats[c].total+=X,this.allIsNull=!1,V++),X>Z.stats[c].max&&(Z.stats[c].max=X),X<Z.stats[c].min&&(Z.stats[c].min=X),null===Z.stats[c].first?Z.stats[c].first=X:R>X?(n=!1,i===Z.datapoints.length-1&&(Z.stats[c].delta+=X)):(Z.stats[c].delta+=n?X-R:X,n=!0),R=X,X<Z.stats[c].logmin&&X>0&&(Z.stats[c].logmin=X),0!==X&&(this.allIsZero=!1)),G.push([h,X])}}catch(l){Y.a.log.error("Unable to aggregate data",l)}h&&(Z.stats[c].last_time=h),Z.stats[c].max===-Number.MAX_VALUE&&(Z.stats[c].max=null),Z.stats[c].min===Number.MAX_VALUE&&(Z.stats[c].min=null),G.length&&!this.allIsNull&&(Z.stats[c].avg=Z.stats[c].total/V,Z.stats[c].current=G[G.length-1][1],null===Z.stats[c].current&&G.length>1&&(Z.stats[c].current=G[G.length-2][1])),null!==Z.stats[c].max&&null!==Z.stats[c].min&&(Z.stats[c].range=Z.stats[c].max-Z.stats[c].min),null!==Z.stats[c].current&&null!==Z.stats[c].first&&(Z.stats[c].diff=Z.stats[c].current-Z.stats[c].first),Z.stats[c].count=G.length}return b.after(),G}},{key:"getValue",value:function(l,Z){try{var b=null;if(Y.a.hasGraphHover()){var G=Y.a.getGraphHover();b=void 0!==G?this.findValue(G,Z):null}else b=this.metrics.stats[Z][l];return b}catch(l){return Y.a.log.error("datapoint for table is null",l),null}}},{key:"findValue",value:function(l,Z){var b=Y.a.trace.before(this.constructor.name+".findValue()"),G=0,d=this.metrics.datapoints.length-1,m=!(d>0&&this.metrics.datapoints[G][this.metrics.timeColumn]<l);l=Math.round(l);for(var W=null;!m;){var c=G+Math.round((d-G)/2);this.metrics.datapoints[c][this.metrics.timeColumn]===l&&(W=this.metrics.datapoints[c][Z],m=!0),!m&&G<c&&c<d?(l>this.metrics.datapoints[c][this.metrics.timeColumn]&&(G=c),l<this.metrics.datapoints[c][this.metrics.timeColumn]&&(d=c)):(W=this.metrics.datapoints[c][this.metrics.timeColumn]>l&&c>=1?this.metrics.datapoints[c-1][Z]:this.metrics.datapoints[c][Z],m=!0)}return b.after(),W}},{key:"getColumnIndex",value:function(l){for(var Z in this.tableColumnOptions)if(l===this.tableColumnOptions[Z])return Number(Z);return null}},{key:"getColumnsName",value:function(){var l=[];for(var Z in this.tableColumnOptions)l.push(this.tableColumnOptions[Z]);return l}},{key:"getData",value:function(l){var Z=this;return this.metrics.timeColumn?this.metrics.datapoints.map((function(b){return{x:b[Z.metrics.timeColumn],y:b[l]}})):this.metrics.datapoints.map((function(Z){return Z[l]}))}}]),Z}(Bl);function Pl(l,Z){for(var b=0;b<Z.length;b++){var G=Z[b];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(l,G.key,G)}}var rl=function(){function l(){!function(l,Z){if(!(l instanceof Z))throw new TypeError("Cannot call a class as a function")}(this,l),this.tables=[],this.series=[],this.metrics=[]}var Z,b,G;return Z=l,(b=[{key:"initData",value:function(l){var Z=this,b=Y.a.trace.before(this.constructor.name+".initData()");this.tables=[],this.series=[],this.metrics=[],l.forEach((function(l){Z.addMetric(l)})),b.after()}},{key:"addMetric",value:function(l){var Z=Y.a.trace.before(this.constructor.name+".addMetric()");"table"===l.type?this.addTable(l):this.addSerie(l),Z.after()}},{key:"addTable",value:function(l){var Z=Y.a.trace.before(this.constructor.name+".addTable()"),b=new gl(l);return this.tables.push(b),this.metrics.push(b),Z.after(),b}},{key:"addSerie",value:function(l){var Z=Y.a.trace.before(this.constructor.name+".addSerie()"),b=new jl(l);return this.series.push(b),this.metrics.push(b),Z.after(),b}},{key:"getNames",value:function(l){return"serie"===l?this.series.map((function(l){return l.getName()})):"table"===l?this.tables.map((function(l){return l.getName()})):this.metrics.map((function(l){return l.getName()}))}},{key:"getMetrics",value:function(l){return"serie"===l?this.series:"table"===l?this.tables:this.metrics}},{key:"isTypeOf",value:function(l){return"serie"===l?this.series.length>0:"table"===l&&this.tables.length>0}},{key:"findMetrics",value:function(l,Z){var b=[];return Z?("table"===Z&&(b=this.tables.filter((function(Z){return Z.getName()===l}))),"serie"===Z&&(b=this.series.filter((function(Z){return Z.getName()===l})))):b=this.metrics.filter((function(Z){return Z.getName()===l})),b}},{key:"getColumnsName",value:function(l,Z){var b=this.findMetrics(l,Z),G=[];return b.forEach((function(l){G=G.concat(l.getColumnsName())})),G}}])&&Pl(Z.prototype,b),G&&Pl(Z,G),l}();function Dl(l){return(Dl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(l)}function Ol(l,Z){for(var b=0;b<Z.length;b++){var G=Z[b];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(l,G.key,G)}}function fl(l){return(fl=Object.setPrototypeOf?Object.getPrototypeOf:function(l){return l.__proto__||Object.getPrototypeOf(l)})(l)}function Al(l){if(void 0===l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}function _l(l,Z){return(_l=Object.setPrototypeOf||function(l,Z){return l.__proto__=Z,l})(l,Z)}var ql=function(l){function Z(l,b,G,d){var m,W,c;return function(l,Z){if(!(l instanceof Z))throw new TypeError("Cannot call a class as a function")}(this,Z),W=this,(m=!(c=fl(Z).call(this,l,b))||"object"!==Dl(c)&&"function"!=typeof c?Al(W):c).GHApplied=!1,Y.a.init(l,d,m.dashboard),m.$rootScope=G,m.$scope=l,m.version=Y.a.plugin.getVersion(),m.templateSrv=d,m.changedSource=!0,m.changedData=!0,m.changedOptions=!0,m.rulesHandler=void 0,m.flowchartHandler=void 0,m.metricHandler=void 0,m.panelDefaults={newFlag:!0,format:"short",valueName:"current",rulesData:O.getDefaultData(),flowchartsData:Tl.getDefaultData()},a.a.defaults(m.panel,m.panelDefaults),m.panel.graphId="flowchart_".concat(m.panel.id),m.containerDivId="container_".concat(m.panel.graphId),m.events.on(u.PanelEvents.render,m.onRender.bind(Al(m))),m.events.on(u.PanelEvents.refresh,m.onRefresh.bind(Al(m))),m.events.on(u.PanelEvents.dataReceived,m.onDataReceived.bind(Al(m))),m.events.on(u.PanelEvents.dataError,m.onDataError.bind(Al(m))),m.events.on(u.PanelEvents.dataSnapshotLoad,m.onDataReceived.bind(Al(m))),m.events.on(u.PanelEvents.editModeInitialized,m.onInitEditMode.bind(Al(m))),u.appEvents.on("graph-hover",m.onGraphHover.bind(Al(m)),m.$scope),u.appEvents.on("graph-hover-clear",m.clearCrosshair.bind(Al(m)),m.$scope),m.dashboard.events.on("template-variable-value-updated",m.onVarChanged.bind(Al(m)),l),m}var b,G,d;return Z.$inject=["$scope","$injector","$rootScope","templateSrv"],function(l,Z){if("function"!=typeof Z&&null!==Z)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(Z&&Z.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),Z&&_l(l,Z)}(Z,l),b=Z,(G=[{key:"onInitEditMode",value:function(){this.addEditorTab("Flowchart",j,2),this.addEditorTab("Mapping",E,3),this.addEditorTab("Inspect",r,4)}},{key:"onGraphHover",value:function(l){var Z=this,b=this.flowchartHandler;if(this.dashboard.sharedTooltipModeEnabled()&&void 0!==b){var G=l.pos.x,d="graph-hover";Y.a.clearUniqTimeOut(d),Y.a.setUniqTimeOut((function(){Y.a.setGraphHover(G),b.onGraphHoverChange(),Z.render(),Z.GHApplied=!0,Y.a.clearUniqTimeOut(d)}),Y.a.CONSTANTS.CONF_GRAPHHOVER_DELAY,d)}else Z.GHApplied&&Y.a.unsetGraphHover()}},{key:"clearCrosshair",value:function(l){void 0!==this.flowchartHandler&&this.GHApplied&&(this.GHApplied=!1,Y.a.clearUniqTimeOut("graph-hover"),Y.a.unsetGraphHover(),this.flowchartHandler.onGraphHoverChange(),this.render())}},{key:"onRefresh",value:function(){this.onRender()}},{key:"onVarChanged",value:function(){void 0!==this.flowchartHandler&&(this.flowchartHandler.onSourceChange(),this.flowchartHandler.render())}},{key:"onRender",value:function(){}},{key:"onDataReceived",value:function(l){var Z=Y.a.trace.before(this.constructor.name+".onDataReceived()");this.metricHandler&&(this.metricHandler.initData(l),this.flowchartHandler&&this.flowchartHandler.onDatasChange()),this.render(),Z.after(),Y.a.trace.resume()}},{key:"onDataError",value:function(){this.render()}},{key:"link",value:function(l,Z,b,G){var d=Y.a.trace.before(this.constructor.name+".link()");w.initMxGraph();var m=Z.find("#flowcharting-section")[0];Y.a.setMessageDiv(m),this.metricHandler=new rl;var W=O.getDefaultData();this.rulesHandler=new O(W),void 0===this.panel.version&&void 0!==this.panel.styles?(this.rulesHandler.import(this.panel.styles),delete this.panel.styles):this.rulesHandler.import(this.panel.rulesData),this.panel.newFlag&&0===this.rulesHandler.countRules()&&this.rulesHandler.addRule(".*"),this.panel.rulesData=W;var c=Tl.getDefaultData();this.flowchartHandler=new Tl(l,Z,G,c),void 0===this.panel.version&&void 0!==this.panel.flowchart?(this.flowchartHandler.import([this.panel.flowchart]),delete this.panel.flowchart):this.flowchartHandler.import(this.panel.flowchartsData),this.panel.newFlag&&0===this.flowchartHandler.countFlowcharts()&&this.flowchartHandler.addFlowchart("Main"),this.panel.flowchartsData=c,this.panel.newFlag=!1,this.panel.version=this.version,d.after()}},{key:"$onDestroy",value:function(){Y.a.destroy()}}])&&Ol(b.prototype,G),d&&Ol(b,d),Z}(G.MetricsPanelCtrl);ql.templateUrl="./partials/module.html",b.d(Z,"PanelCtrl",(function(){return ql})),u.loadCss()}])}));
//# sourceMappingURL=module.js.map