const customize = () => {
  mxTooltipHandler.prototype.show = function(tip, x, y) {
    // TYPE STRING
    if (this.destroyed) {
      return;
    }
    if (tip === null) {
      return;
    }
    if (tip.length === 0) {
      return;
    }
    // Initializes the DOM nodes if required
    if (this.div == null) {
      this.init();
    }
    if (!mxUtils.isNode(tip)) {
      this.div.innerHTML = tip.replace(/\n/g, '<br>');
    } else {
      this.div.innerHTML = '';
      this.div.appendChild(tip);
    }
    this.$div.place_tt(x + 20, y);
    this.div.style.visibility = '';
    mxUtils.fit(this.div);
  };

  mxTooltipHandler.prototype.init = function() {
    if (this.div === null || this.div === undefined) {
      this.$div = $('<div class="graph-tooltip">');
      this.div = this.$div[0];
      mxEvent.addGestureListeners(
        this.div,
        mxUtils.bind(this, function(evt) {
          this.hideTooltip();
        })
      );
    }
  };

  mxTooltipHandler.prototype.hideTooltip = function() {
    if (this.div != null) {
      this.div.style.visibility = 'hidden';
      this.div.innerHTML = '';
    }
  };

  mxTooltipHandler.prototype.delay = 200;

  Graph.prototype.getTooltipForCell = function(cell) {
    let hasTips = false;
    let div = document.createElement('div');
    if (mxUtils.isNode(cell.value)) {
      let tmp = cell.value.getAttribute('tooltip');
      // Tooltip
      if (tmp != null) {
        hasTips = true;
        if (tmp !== null && this.isReplacePlaceholders(cell)) {
          tmp = this.replacePlaceholders(cell, tmp);
        }
        let ttDiv = document.createElement('div');
        ttDiv.className = 'tooltip-text';
        ttDiv.innerHTML = this.sanitizeHtml(tmp);
        div.appendChild(ttDiv);
      }

      let ignored = this.builtInProperties;
      let attrs = cell.value.attributes;
      let temp = [];

      // Hides links in edit mode
      // if (this.isEnabled()) {
      ignored.push('link');
      // }

      // Attributes
      for (var i = 0; i < attrs.length; i++) {
        if (mxUtils.indexOf(ignored, attrs[i].nodeName) < 0 && attrs[i].nodeValue.length > 0) {
          temp.push({ name: attrs[i].nodeName, value: attrs[i].nodeValue });
        }
      }

      // Sorts by name
      temp.sort(function(a, b) {
        if (a.name < b.name) {
          return -1;
        } else if (a.name > b.name) {
          return 1;
        } else {
          return 0;
        }
      });
      if (temp.length > 0) {
        hasTips = true;
        var attrDiv = document.createElement('div');
        var attrString = '';
        for (let i = 0; i < temp.length; i++) {
          if (temp[i].name !== 'link' || !this.isCustomLink(temp[i].value)) {
            attrString +=
              (temp[i].name !== 'link' ? '<b>' + temp[i].name + ':</b> ' : '') +
              mxUtils.htmlEntities(temp[i].value) +
              '\n';
          }
        }
        attrDiv.innerHTML = attrString;
        div.appendChild(attrDiv);
      }
    }

    // GF Tooltips
    if (cell.GF_tooltipHandler != null) {
      let tooltipHandler = cell.GF_tooltipHandler;
      let gfDiv = tooltipHandler.getDiv(div);
      if (gfDiv !== null) {
        hasTips = true;
      }
    }
    if (hasTips) {
      return div;
    }
    return '';
  };

  mxEvent.addMouseWheelListener = function(func, container) {
    if (null != func) {
      var c = function(container) {
        null == container && (container = window.event);
        var c;
        c = mxClient.IS_FF ? -container.detail / 2 : container.wheelDelta / 120;
        0 !== c && func(container, 0 < c);
      };
      mxClient.IS_NS && null == document.documentMode
        ? mxEvent.addListener(
            mxClient.IS_GC && null != container ? container : window,
            mxClient.IS_SF || mxClient.IS_GC ? 'mousewheel' : 'DOMMouseScroll',
            c
          )
        : mxEvent.addListener(document, 'mousewheel', c);
    }
  };
};
// BAD
cons viewerStatics = 'd2luZG93LlNURU5DSUxfUEFUSD13aW5kb3cuU1RFTkNJTF9QQVRIfHwiaHR0cHM6Ly93d3cuZHJhdy5pby9zdGVuY2lscyI7d2luZG93LlNIQVBFU19QQVRIPXdpbmRvdy5TSEFQRVNfUEFUSHx8Imh0dHBzOi8vd3d3LmRyYXcuaW8vc2hhcGVzIjt3aW5kb3cubXhCYXNlUGF0aD13aW5kb3cubXhCYXNlUGF0aHx8Imh0dHBzOi8vd3d3LmRyYXcuaW8vbXhncmFwaC8iO3dpbmRvdy5teExvYWRTdHlsZXNoZWV0cz13aW5kb3cubXhMb2FkU3R5bGVzaGVldHN8fCExOwovL2ZnbmFzcy5naXRodWIuY29tL3NwaW4uanMjdjIuMC4wCiFmdW5jdGlvbihhLGIpeyJvYmplY3QiPT10eXBlb2YgZXhwb3J0cz9tb2R1bGUuZXhwb3J0cz1iKCk6ImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoYik6YS5TcGlubmVyPWIoKX0odGhpcyxmdW5jdGlvbigpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBhKGEsYil7dmFyIGMsZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KGF8fCJkaXYiKTtmb3IoYyBpbiBiKWRbY109YltjXTtyZXR1cm4gZH1mdW5jdGlvbiBiKGEpe2Zvcih2YXIgYj0xLGM9YXJndW1lbnRzLmxlbmd0aDtjPmI7YisrKWEuYXBwZW5kQ2hpbGQoYXJndW1lbnRzW2JdKTtyZXR1cm4gYX1mdW5jdGlvbiBjKGEsYixjLGQpe3ZhciBlPVsib3BhY2l0eSIsYix+figxMDAqYSksYyxkXS5qb2luKCItIiksZj0uMDErYy9kKjEwMCxnPU1hdGgubWF4KDEtKDEtYSkvYiooMTAwLWYpLGEpLGg9ai5zdWJzdHJpbmcoMCxqLmluZGV4T2YoIkFuaW1hdGlvbiIpKS50b0xvd2VyQ2FzZSgpLGk9aCYmIi0iK2grIi0ifHwiIjtyZXR1cm4gbFtlXXx8KG0uaW5zZXJ0UnVsZSgiQCIraSsia2V5ZnJhbWVzICIrZSsiezAle29wYWNpdHk6IitnKyJ9IitmKyIle29wYWNpdHk6IithKyJ9IisoZisuMDEpKyIle29wYWNpdHk6MX0iKyhmK2IpJTEwMCsiJXtvcGFjaXR5OiIrYSsifTEwMCV7b3BhY2l0eToiK2crIn19IixtLmNzc1J1bGVzLmxlbmd0aCksbFtlXT0xKSxlfWZ1bmN0aW9uIGQoYSxiKXt2YXIgYyxkLGU9YS5zdHlsZTtmb3IoYj1iLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK2Iuc2xpY2UoMSksZD0wO2Q8ay5sZW5ndGg7ZCsrKWlmKGM9a1tkXStiLHZvaWQgMCE9PWVbY10pcmV0dXJuIGM7cmV0dXJuIHZvaWQgMCE9PWVbYl0/Yjp2b2lkIDB9ZnVuY3Rpb24gZShhLGIpe2Zvcih2YXIgYyBpbiBiKWEuc3R5bGVbZChhLGMpfHxjXT1iW2NdO3JldHVybiBhfWZ1bmN0aW9uIGYoYSl7Zm9yKHZhciBiPTE7Yjxhcmd1bWVudHMubGVuZ3RoO2IrKyl7dmFyIGM9YXJndW1lbnRzW2JdO2Zvcih2YXIgZCBpbiBjKXZvaWQgMD09PWFbZF0mJihhW2RdPWNbZF0pfXJldHVybiBhfWZ1bmN0aW9uIGcoYSxiKXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIGE/YTphW2IlYS5sZW5ndGhdfWZ1bmN0aW9uIGgoYSl7dGhpcy5vcHRzPWYoYXx8e30saC5kZWZhdWx0cyxuKX1mdW5jdGlvbiBpKCl7ZnVuY3Rpb24gYyhiLGMpe3JldHVybiBhKCI8IitiKycgeG1sbnM9InVybjpzY2hlbWFzLW1pY3Jvc29mdC5jb206dm1sIiBjbGFzcz0ic3Bpbi12bWwiPicsYyl9bS5hZGRSdWxlKCIuc3Bpbi12bWwiLCJiZWhhdmlvcjp1cmwoI2RlZmF1bHQjVk1MKSIpLGgucHJvdG90eXBlLmxpbmVzPWZ1bmN0aW9uKGEsZCl7ZnVuY3Rpb24gZigpe3JldHVybiBlKGMoImdyb3VwIix7Y29vcmRzaXplOmsrIiAiK2ssY29vcmRvcmlnaW46LWorIiAiKy1qfSkse3dpZHRoOmssaGVpZ2h0Omt9KX1mdW5jdGlvbiBoKGEsaCxpKXtiKG0sYihlKGYoKSx7cm90YXRpb246MzYwL2QubGluZXMqYSsiZGVnIixsZWZ0On5+aH0pLGIoZShjKCJyb3VuZHJlY3QiLHthcmNzaXplOmQuY29ybmVyc30pLHt3aWR0aDpqLGhlaWdodDpkLndpZHRoLGxlZnQ6ZC5yYWRpdXMsdG9wOi1kLndpZHRoPj4xLGZpbHRlcjppfSksYygiZmlsbCIse2NvbG9yOmcoZC5jb2xvcixhKSxvcGFjaXR5OmQub3BhY2l0eX0pLGMoInN0cm9rZSIse29wYWNpdHk6MH0pKSkpfXZhciBpLGo9ZC5sZW5ndGgrZC53aWR0aCxrPTIqaixsPTIqLShkLndpZHRoK2QubGVuZ3RoKSsicHgiLG09ZShmKCkse3Bvc2l0aW9uOiJhYnNvbHV0ZSIsdG9wOmwsbGVmdDpsfSk7aWYoZC5zaGFkb3cpZm9yKGk9MTtpPD1kLmxpbmVzO2krKyloKGksLTIsInByb2dpZDpEWEltYWdlVHJhbnNmb3JtLk1pY3Jvc29mdC5CbHVyKHBpeGVscmFkaXVzPTIsbWFrZXNoYWRvdz0xLHNoYWRvd29wYWNpdHk9LjMpIik7Zm9yKGk9MTtpPD1kLmxpbmVzO2krKyloKGkpO3JldHVybiBiKGEsbSl9LGgucHJvdG90eXBlLm9wYWNpdHk9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9YS5maXJzdENoaWxkO2Q9ZC5zaGFkb3cmJmQubGluZXN8fDAsZSYmYitkPGUuY2hpbGROb2Rlcy5sZW5ndGgmJihlPWUuY2hpbGROb2Rlc1tiK2RdLGU9ZSYmZS5maXJzdENoaWxkLGU9ZSYmZS5maXJzdENoaWxkLGUmJihlLm9wYWNpdHk9YykpfX12YXIgaixrPVsid2Via2l0IiwiTW96IiwibXMiLCJPIl0sbD17fSxtPWZ1bmN0aW9uKCl7dmFyIGM9YSgic3R5bGUiLHt0eXBlOiJ0ZXh0L2NzcyJ9KTtyZXR1cm4gYihkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaGVhZCIpWzBdLGMpLGMuc2hlZXR8fGMuc3R5bGVTaGVldH0oKSxuPXtsaW5lczoxMixsZW5ndGg6Nyx3aWR0aDo1LHJhZGl1czoxMCxyb3RhdGU6MCxjb3JuZXJzOjEsY29sb3I6IiMwMDAiLGRpcmVjdGlvbjoxLHNwZWVkOjEsdHJhaWw6MTAwLG9wYWNpdHk6LjI1LGZwczoyMCx6SW5kZXg6MmU5LGNsYXNzTmFtZToic3Bpbm5lciIsdG9wOiI1MCUiLGxlZnQ6IjUwJSIscG9zaXRpb246ImFic29sdXRlIn07aC5kZWZhdWx0cz17fSxmKGgucHJvdG90eXBlLHtzcGluOmZ1bmN0aW9uKGIpe3RoaXMuc3RvcCgpO3t2YXIgYz10aGlzLGQ9Yy5vcHRzLGY9Yy5lbD1lKGEoMCx7Y2xhc3NOYW1lOmQuY2xhc3NOYW1lfSkse3Bvc2l0aW9uOmQucG9zaXRpb24sd2lkdGg6MCx6SW5kZXg6ZC56SW5kZXh9KTtkLnJhZGl1cytkLmxlbmd0aCtkLndpZHRofWlmKGImJihiLmluc2VydEJlZm9yZShmLGIuZmlyc3RDaGlsZHx8bnVsbCksZShmLHtsZWZ0OmQubGVmdCx0b3A6ZC50b3B9KSksZi5zZXRBdHRyaWJ1dGUoInJvbGUiLCJwcm9ncmVzc2JhciIpLGMubGluZXMoZixjLm9wdHMpLCFqKXt2YXIgZyxoPTAsaT0oZC5saW5lcy0xKSooMS1kLmRpcmVjdGlvbikvMixrPWQuZnBzLGw9ay9kLnNwZWVkLG09KDEtZC5vcGFjaXR5KS8obCpkLnRyYWlsLzEwMCksbj1sL2QubGluZXM7IWZ1bmN0aW9uIG8oKXtoKys7Zm9yKHZhciBhPTA7YTxkLmxpbmVzO2ErKylnPU1hdGgubWF4KDEtKGgrKGQubGluZXMtYSkqbiklbCptLGQub3BhY2l0eSksYy5vcGFjaXR5KGYsYSpkLmRpcmVjdGlvbitpLGcsZCk7Yy50aW1lb3V0PWMuZWwmJnNldFRpbWVvdXQobyx+figxZTMvaykpfSgpfXJldHVybiBjfSxzdG9wOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5lbDtyZXR1cm4gYSYmKGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXQpLGEucGFyZW50Tm9kZSYmYS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGEpLHRoaXMuZWw9dm9pZCAwKSx0aGlzfSxsaW5lczpmdW5jdGlvbihkLGYpe2Z1bmN0aW9uIGgoYixjKXtyZXR1cm4gZShhKCkse3Bvc2l0aW9uOiJhYnNvbHV0ZSIsd2lkdGg6Zi5sZW5ndGgrZi53aWR0aCsicHgiLGhlaWdodDpmLndpZHRoKyJweCIsYmFja2dyb3VuZDpiLGJveFNoYWRvdzpjLHRyYW5zZm9ybU9yaWdpbjoibGVmdCIsdHJhbnNmb3JtOiJyb3RhdGUoIit+figzNjAvZi5saW5lcyprK2Yucm90YXRlKSsiZGVnKSB0cmFuc2xhdGUoIitmLnJhZGl1cysicHgsMCkiLGJvcmRlclJhZGl1czooZi5jb3JuZXJzKmYud2lkdGg+PjEpKyJweCJ9KX1mb3IodmFyIGksaz0wLGw9KGYubGluZXMtMSkqKDEtZi5kaXJlY3Rpb24pLzI7azxmLmxpbmVzO2srKylpPWUoYSgpLHtwb3NpdGlvbjoiYWJzb2x1dGUiLHRvcDoxK34oZi53aWR0aC8yKSsicHgiLHRyYW5zZm9ybTpmLmh3YWNjZWw/InRyYW5zbGF0ZTNkKDAsMCwwKSI6IiIsb3BhY2l0eTpmLm9wYWNpdHksYW5pbWF0aW9uOmomJmMoZi5vcGFjaXR5LGYudHJhaWwsbCtrKmYuZGlyZWN0aW9uLGYubGluZXMpKyIgIisxL2Yuc3BlZWQrInMgbGluZWFyIGluZmluaXRlIn0pLGYuc2hhZG93JiZiKGksZShoKCIjMDAwIiwiMCAwIDRweCAjMDAwIikse3RvcDoiMnB4In0pKSxiKGQsYihpLGgoZyhmLmNvbG9yLGspLCIwIDAgMXB4IHJnYmEoMCwwLDAsLjEpIikpKTtyZXR1cm4gZH0sb3BhY2l0eTpmdW5jdGlvbihhLGIsYyl7YjxhLmNoaWxkTm9kZXMubGVuZ3RoJiYoYS5jaGlsZE5vZGVzW2JdLnN0eWxlLm9wYWNpdHk9Yyl9fSk7dmFyIG89ZShhKCJncm91cCIpLHtiZWhhdmlvcjoidXJsKCNkZWZhdWx0I1ZNTCkifSk7cmV0dXJuIWQobywidHJhbnNmb3JtIikmJm8uYWRqP2koKTpqPWQobywiYW5pbWF0aW9uIiksaH0pOwovLyBOT1RFOiBNb2RpZmllZCB0byBzdXBwb3J0IGRhdGEgVVJJcyBmb3IgaW1hZ2VzLCBpZS4gZGF0YTppbWFnZS8qCi8vIE1vZGlmaWVkIHRvIGFsbG93ICJ3b3JkLWJyZWFrOiBicmVhay13b3JkIiBpbiBzdHlsZXMuIEl0IGlzIGRvbmUgYnkgYWRkaW5nICJicmVhay13b3JkIiB3aGljaCBpcyBhdCBpbmRleCA1NSBvZiBKIGFycmF5IEpbNTVdIHRvICJjc3NMaXRHcm91cCIgb2YgIndvcmQtYnJlYWsiCihmdW5jdGlvbigpe3ZhciBjPXZvaWQgMCxuPSEwLHM9bnVsbCxDPSExLEo9WyJhbGljZWJsdWUsYW50aXF1ZXdoaXRlLGFxdWEsYXF1YW1hcmluZSxhenVyZSxiZWlnZSxiaXNxdWUsYmxhY2ssYmxhbmNoZWRhbG1vbmQsYmx1ZSxibHVldmlvbGV0LGJyb3duLGJ1cmx5d29vZCxjYWRldGJsdWUsY2hhcnRyZXVzZSxjaG9jb2xhdGUsY29yYWwsY29ybmZsb3dlcmJsdWUsY29ybnNpbGssY3JpbXNvbixjeWFuLGRhcmtibHVlLGRhcmtjeWFuLGRhcmtnb2xkZW5yb2QsZGFya2dyYXksZGFya2dyZWVuLGRhcmtraGFraSxkYXJrbWFnZW50YSxkYXJrb2xpdmVncmVlbixkYXJrb3JhbmdlLGRhcmtvcmNoaWQsZGFya3JlZCxkYXJrc2FsbW9uLGRhcmtzZWFncmVlbixkYXJrc2xhdGVibHVlLGRhcmtzbGF0ZWdyYXksZGFya3R1cnF1b2lzZSxkYXJrdmlvbGV0LGRlZXBwaW5rLGRlZXBza3libHVlLGRpbWdyYXksZG9kZ2VyYmx1ZSxmaXJlYnJpY2ssZmxvcmFsd2hpdGUsZm9yZXN0Z3JlZW4sZnVjaHNpYSxnYWluc2Jvcm8sZ2hvc3R3aGl0ZSxnb2xkLGdvbGRlbnJvZCxncmF5LGdyZWVuLGdyZWVueWVsbG93LGhvbmV5ZGV3LGhvdHBpbmssaW5kaWFucmVkLGluZGlnbyxpdm9yeSxraGFraSxsYXZlbmRlcixsYXZlbmRlcmJsdXNoLGxhd25ncmVlbixsZW1vbmNoaWZmb24sbGlnaHRibHVlLGxpZ2h0Y29yYWwsbGlnaHRjeWFuLGxpZ2h0Z29sZGVucm9keWVsbG93LGxpZ2h0Z3JlZW4sbGlnaHRncmV5LGxpZ2h0cGluayxsaWdodHNhbG1vbixsaWdodHNlYWdyZWVuLGxpZ2h0c2t5Ymx1ZSxsaWdodHNsYXRlZ3JheSxsaWdodHN0ZWVsYmx1ZSxsaWdodHllbGxvdyxsaW1lLGxpbWVncmVlbixsaW5lbixtYWdlbnRhLG1hcm9vbixtZWRpdW1hcXVhbWFyaW5lLG1lZGl1bWJsdWUsbWVkaXVtb3JjaGlkLG1lZGl1bXB1cnBsZSxtZWRpdW1zZWFncmVlbixtZWRpdW1zbGF0ZWJsdWUsbWVkaXVtc3ByaW5nZ3JlZW4sbWVkaXVtdHVycXVvaXNlLG1lZGl1bXZpb2xldHJlZCxtaWRuaWdodGJsdWUsbWludGNyZWFtLG1pc3R5cm9zZSxtb2NjYXNpbixuYXZham93aGl0ZSxuYXZ5LG9sZGxhY2Usb2xpdmUsb2xpdmVkcmFiLG9yYW5nZSxvcmFuZ2VyZWQsb3JjaGlkLHBhbGVnb2xkZW5yb2QscGFsZWdyZWVuLHBhbGV0dXJxdW9pc2UscGFsZXZpb2xldHJlZCxwYXBheWF3aGlwLHBlYWNocHVmZixwZXJ1LHBpbmsscGx1bSxwb3dkZXJibHVlLHB1cnBsZSxyZWQscm9zeWJyb3duLHJveWFsYmx1ZSxzYWRkbGVicm93bixzYWxtb24sc2FuZHlicm93bixzZWFncmVlbixzZWFzaGVsbCxzaWVubmEsc2lsdmVyLHNreWJsdWUsc2xhdGVibHVlLHNsYXRlZ3JheSxzbm93LHNwcmluZ2dyZWVuLHN0ZWVsYmx1ZSx0YW4sdGVhbCx0aGlzdGxlLHRvbWF0byx0cmFuc3BhcmVudCx0dXJxdW9pc2UsdmlvbGV0LHdoZWF0LHdoaXRlLHdoaXRlc21va2UseWVsbG93LHllbGxvd2dyZWVuIi5zcGxpdCgiLCIpLAoiYWxsLXNjcm9sbCxjb2wtcmVzaXplLGNyb3NzaGFpcixkZWZhdWx0LGUtcmVzaXplLGhhbmQsaGVscCxtb3ZlLG4tcmVzaXplLG5lLXJlc2l6ZSxuby1kcm9wLG5vdC1hbGxvd2VkLG53LXJlc2l6ZSxwb2ludGVyLHByb2dyZXNzLHJvdy1yZXNpemUscy1yZXNpemUsc2UtcmVzaXplLHN3LXJlc2l6ZSx0ZXh0LHZlcnRpY2FsLXRleHQsdy1yZXNpemUsd2FpdCIuc3BsaXQoIiwiKSwiYXJtZW5pYW4sZGVjaW1hbCxkZWNpbWFsLWxlYWRpbmctemVybyxkaXNjLGdlb3JnaWFuLGxvd2VyLWFscGhhLGxvd2VyLWdyZWVrLGxvd2VyLWxhdGluLGxvd2VyLXJvbWFuLHNxdWFyZSx1cHBlci1hbHBoYSx1cHBlci1sYXRpbix1cHBlci1yb21hbiIuc3BsaXQoIiwiKSwiMTAwLDIwMCwzMDAsNDAwLDUwMCw2MDAsNzAwLDgwMCw5MDAsYm9sZCxib2xkZXIsbGlnaHRlciIuc3BsaXQoIiwiKSwiYmxvY2stbGV2ZWwsaW5saW5lLWxldmVsLHRhYmxlLWNhcHRpb24sdGFibGUtY2VsbCx0YWJsZS1jb2x1bW4sdGFibGUtY29sdW1uLWdyb3VwLHRhYmxlLWZvb3Rlci1ncm91cCx0YWJsZS1oZWFkZXItZ3JvdXAsdGFibGUtcm93LHRhYmxlLXJvdy1ncm91cCIuc3BsaXQoIiwiKSwKImNvbmRlbnNlZCxleHBhbmRlZCxleHRyYS1jb25kZW5zZWQsZXh0cmEtZXhwYW5kZWQsbmFycm93ZXIsc2VtaS1jb25kZW5zZWQsc2VtaS1leHBhbmRlZCx1bHRyYS1jb25kZW5zZWQsdWx0cmEtZXhwYW5kZWQsd2lkZXIiLnNwbGl0KCIsIiksImluaGVyaXQsaW5saW5lLGlubGluZS1ibG9jayxpbmxpbmUtYm94LGlubGluZS1mbGV4LGlubGluZS1ncmlkLGlubGluZS1saXN0LWl0ZW0saW5saW5lLXN0YWNrLGlubGluZS10YWJsZSxydW4taW4iLnNwbGl0KCIsIiksImJlaGluZCxjZW50ZXItbGVmdCxjZW50ZXItcmlnaHQsZmFyLWxlZnQsZmFyLXJpZ2h0LGxlZnQtc2lkZSxsZWZ0d2FyZHMscmlnaHQtc2lkZSxyaWdodHdhcmRzIi5zcGxpdCgiLCIpLCJsYXJnZSxsYXJnZXIsc21hbGwsc21hbGxlcix4LWxhcmdlLHgtc21hbGwseHgtbGFyZ2UseHgtc21hbGwiLnNwbGl0KCIsIiksImRhc2hlZCxkb3R0ZWQsZG91YmxlLGdyb292ZSxvdXRzZXQscmlkZ2Usc29saWQiLnNwbGl0KCIsIiksCiJlYXNlLGVhc2UtaW4sZWFzZS1pbi1vdXQsZWFzZS1vdXQsbGluZWFyLHN0ZXAtZW5kLHN0ZXAtc3RhcnQiLnNwbGl0KCIsIiksImF0LGNsb3Nlc3QtY29ybmVyLGNsb3Nlc3Qtc2lkZSxlbGxpcHNlLGZhcnRoZXN0LWNvcm5lcixmYXJ0aGVzdC1zaWRlIi5zcGxpdCgiLCIpLCJiYXNlbGluZSxtaWRkbGUsc3ViLHN1cGVyLHRleHQtYm90dG9tLHRleHQtdG9wIi5zcGxpdCgiLCIpLCJjYXB0aW9uLGljb24sbWVudSxtZXNzYWdlLWJveCxzbWFsbC1jYXB0aW9uLHN0YXR1cy1iYXIiLnNwbGl0KCIsIiksImZhc3QsZmFzdGVyLHNsb3csc2xvd2VyLHgtZmFzdCx4LXNsb3ciLnNwbGl0KCIsIiksWyJhYm92ZSIsImJlbG93IiwiaGlnaGVyIiwibGV2ZWwiLCJsb3dlciJdLFsiY3Vyc2l2ZSIsImZhbnRhc3kiLCJtb25vc3BhY2UiLCJzYW5zLXNlcmlmIiwic2VyaWYiXSxbImxvdWQiLCJzaWxlbnQiLCJzb2Z0IiwieC1sb3VkIiwieC1zb2Z0Il0sWyJuby1yZXBlYXQiLCJyZXBlYXQteCIsInJlcGVhdC15IiwKInJvdW5kIiwic3BhY2UiXSxbImJsaW5rIiwibGluZS10aHJvdWdoIiwib3ZlcmxpbmUiLCJ1bmRlcmxpbmUiXSxbImJsb2NrIiwiZmxleCIsImdyaWQiLCJ0YWJsZSJdLFsiaGlnaCIsImxvdyIsIngtaGlnaCIsIngtbG93Il0sWyJub3dyYXAiLCJwcmUiLCJwcmUtbGluZSIsInByZS13cmFwIl0sWyJhYnNvbHV0ZSIsInJlbGF0aXZlIiwic3RhdGljIl0sWyJhbHRlcm5hdGUiLCJhbHRlcm5hdGUtcmV2ZXJzZSIsInJldmVyc2UiXSxbImJvcmRlci1ib3giLCJjb250ZW50LWJveCIsInBhZGRpbmctYm94Il0sWyJjYXBpdGFsaXplIiwibG93ZXJjYXNlIiwidXBwZXJjYXNlIl0sWyJjaGlsZCIsImZlbWFsZSIsIm1hbGUiXSxbIj0iLCJvcGFjaXR5Il0sWyJiYWNrd2FyZHMiLCJmb3J3YXJkcyJdLFsiYmlkaS1vdmVycmlkZSIsImVtYmVkIl0sWyJib3R0b20iLCJ0b3AiXSxbImJyZWFrLWFsbCIsImtlZXAtYWxsIl0sWyJjbGlwIiwiZWxsaXBzaXMiXSxbImNvbnRhaW4iLCJjb3ZlciJdLApbImNvbnRpbnVvdXMiLCJkaWdpdHMiXSxbImVuZCIsInN0YXJ0Il0sWyJmbGF0IiwicHJlc2VydmUtM2QiXSxbImhpZGUiLCJzaG93Il0sWyJob3Jpem9udGFsIiwidmVydGljYWwiXSxbImluc2lkZSIsIm91dHNpZGUiXSxbIml0YWxpYyIsIm9ibGlxdWUiXSxbImxlZnQiLCJyaWdodCJdLFsibHRyIiwicnRsIl0sWyJuby1jb250ZW50Iiwibm8tZGlzcGxheSJdLFsicGF1c2VkIiwicnVubmluZyJdLFsic3VwcHJlc3MiLCJ1bnJlc3RyaWN0ZWQiXSxbInRoaWNrIiwidGhpbiJdLFsiLCJdLFsiLyJdLFsiYWxsIl0sWyJhbHdheXMiXSxbImF1dG8iXSxbImF2b2lkIl0sWyJib3RoIl0sWyJicmVhay13b3JkIl0sWyJjZW50ZXIiXSxbImNpcmNsZSJdLFsiY29kZSJdLFsiY29sbGFwc2UiXSxbImNvbnRlbnRzIl0sWyJmaXhlZCJdLFsiaGlkZGVuIl0sWyJpbmZpbml0ZSJdLFsiaW5zZXQiXSxbImludmVydCJdLFsianVzdGlmeSJdLFsibGlzdC1pdGVtIl0sWyJsb2NhbCJdLFsibWVkaXVtIl0sClsibWl4Il0sWyJub25lIl0sWyJub3JtYWwiXSxbIm9uY2UiXSxbInJlcGVhdCJdLFsic2Nyb2xsIl0sWyJzZXBhcmF0ZSJdLFsic21hbGwtY2FwcyJdLFsic3BlbGwtb3V0Il0sWyJ0byJdLFsidmlzaWJsZSJdXSxMPXthbmltYXRpb246e2Nzc1Byb3BCaXRzOjUxNyxjc3NMaXRHcm91cDpbSlsxMF0sSlsyNF0sSlsyOV0sSls0NV0sSls0OF0sSls1NF0sSls2M10sSls3MV0sSls3Ml1dLGNzc0ZuczpbImN1YmljLWJlemllcigpIiwic3RlcHMoKSJdfSwiYW5pbWF0aW9uLWRlbGF5Ijp7Y3NzUHJvcEJpdHM6NSxjc3NMaXRHcm91cDpbSls0OF1dLGNzc0ZuczpbXX0sImFuaW1hdGlvbi1kaXJlY3Rpb24iOntjc3NQcm9wQml0czowLGNzc0xpdEdyb3VwOltKWzI0XSxKWzQ4XSxKWzcyXV0sY3NzRm5zOltdfSwiYW5pbWF0aW9uLWR1cmF0aW9uIjoiYW5pbWF0aW9uLWRlbGF5IiwiYW5pbWF0aW9uLWZpbGwtbW9kZSI6e2Nzc1Byb3BCaXRzOjAsY3NzTGl0R3JvdXA6W0pbMjldLEpbNDhdLApKWzU0XSxKWzcxXV0sY3NzRm5zOltdfSwiYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudCI6e2Nzc1Byb3BCaXRzOjUsY3NzTGl0R3JvdXA6W0pbNDhdLEpbNjNdXSxjc3NGbnM6W119LCJhbmltYXRpb24tbmFtZSI6e2Nzc1Byb3BCaXRzOjUxMixjc3NMaXRHcm91cDpbSls0OF0sSls3MV1dLGNzc0ZuczpbXX0sImFuaW1hdGlvbi1wbGF5LXN0YXRlIjp7Y3NzUHJvcEJpdHM6MCxjc3NMaXRHcm91cDpbSls0NV0sSls0OF1dLGNzc0ZuczpbXX0sImFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb24iOntjc3NQcm9wQml0czowLGNzc0xpdEdyb3VwOltKWzEwXSxKWzQ4XV0sY3NzRm5zOlsiY3ViaWMtYmV6aWVyKCkiLCJzdGVwcygpIl19LGFwcGVhcmFuY2U6e2Nzc1Byb3BCaXRzOjAsY3NzTGl0R3JvdXA6W0pbNzFdXSxjc3NGbnM6W119LGF6aW11dGg6e2Nzc1Byb3BCaXRzOjUsY3NzTGl0R3JvdXA6W0pbN10sSls0Ml0sSls1Nl1dLGNzc0ZuczpbXX0sImJhY2tmYWNlLXZpc2liaWxpdHkiOntjc3NQcm9wQml0czowLApjc3NMaXRHcm91cDpbSls1OV0sSls2Ml0sSls4MF1dLGNzc0ZuczpbXX0sYmFja2dyb3VuZDp7Y3NzUHJvcEJpdHM6MjMsY3NzTGl0R3JvdXA6W0pbMF0sSlsxOF0sSlsyNV0sSlszMV0sSlszNF0sSls0Ml0sSls0OF0sSls0OV0sSls1Ml0sSls1Nl0sSls2MV0sSls2OF0sSls3MV0sSls3NF0sSls3NV1dLGNzc0ZuczoiaW1hZ2UoKSxsaW5lYXItZ3JhZGllbnQoKSxyYWRpYWwtZ3JhZGllbnQoKSxyZXBlYXRpbmctbGluZWFyLWdyYWRpZW50KCkscmVwZWF0aW5nLXJhZGlhbC1ncmFkaWVudCgpLHJnYigpLHJnYmEoKSIuc3BsaXQoIiwiKX0sImJhY2tncm91bmQtYXR0YWNobWVudCI6e2Nzc1Byb3BCaXRzOjAsY3NzTGl0R3JvdXA6W0pbNDhdLEpbNjFdLEpbNjhdLEpbNzVdXSxjc3NGbnM6W119LCJiYWNrZ3JvdW5kLWNvbG9yIjp7Y3NzUHJvcEJpdHM6Mixjc3NMaXRHcm91cDpbSlswXV0sY3NzRm5zOlsicmdiKCkiLCJyZ2JhKCkiXX0sImJhY2tncm91bmQtaW1hZ2UiOntjc3NQcm9wQml0czoxNiwKY3NzTGl0R3JvdXA6W0pbNDhdLEpbNzFdXSxjc3NGbnM6WyJpbWFnZSgpIiwibGluZWFyLWdyYWRpZW50KCkiLCJyYWRpYWwtZ3JhZGllbnQoKSIsInJlcGVhdGluZy1saW5lYXItZ3JhZGllbnQoKSIsInJlcGVhdGluZy1yYWRpYWwtZ3JhZGllbnQoKSJdfSwiYmFja2dyb3VuZC1wb3NpdGlvbiI6e2Nzc1Byb3BCaXRzOjUsY3NzTGl0R3JvdXA6W0pbMzFdLEpbNDJdLEpbNDhdLEpbNTZdXSxjc3NGbnM6W119LCJiYWNrZ3JvdW5kLXJlcGVhdCI6e2Nzc1Byb3BCaXRzOjAsY3NzTGl0R3JvdXA6W0pbMThdLEpbNDhdLEpbNzRdXSxjc3NGbnM6W119LCJiYWNrZ3JvdW5kLXNpemUiOntjc3NQcm9wQml0czo1LGNzc0xpdEdyb3VwOltKWzM0XSxKWzQ4XSxKWzUyXV0sY3NzRm5zOltdfSxib3JkZXI6e2Nzc1Byb3BCaXRzOjcsY3NzTGl0R3JvdXA6W0pbMF0sSls5XSxKWzQ3XSxKWzYyXSxKWzY0XSxKWzY5XSxKWzcxXV0sY3NzRm5zOlsicmdiKCkiLCJyZ2JhKCkiXX0sImJvcmRlci1ib3R0b20iOiJib3JkZXIiLAoiYm9yZGVyLWJvdHRvbS1jb2xvciI6ImJhY2tncm91bmQtY29sb3IiLCJib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzIjp7Y3NzUHJvcEJpdHM6NSxjc3NGbnM6W119LCJib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1cyI6ImJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXMiLCJib3JkZXItYm90dG9tLXN0eWxlIjp7Y3NzUHJvcEJpdHM6MCxjc3NMaXRHcm91cDpbSls5XSxKWzYyXSxKWzY0XSxKWzcxXV0sY3NzRm5zOltdfSwiYm9yZGVyLWJvdHRvbS13aWR0aCI6e2Nzc1Byb3BCaXRzOjUsY3NzTGl0R3JvdXA6W0pbNDddLEpbNjldXSxjc3NGbnM6W119LCJib3JkZXItY29sbGFwc2UiOntjc3NQcm9wQml0czowLGNzc0xpdEdyb3VwOltKWzU5XSxKWzc2XV0sY3NzRm5zOltdfSwiYm9yZGVyLWNvbG9yIjoiYmFja2dyb3VuZC1jb2xvciIsImJvcmRlci1sZWZ0IjoiYm9yZGVyIiwiYm9yZGVyLWxlZnQtY29sb3IiOiJiYWNrZ3JvdW5kLWNvbG9yIiwiYm9yZGVyLWxlZnQtc3R5bGUiOiJib3JkZXItYm90dG9tLXN0eWxlIiwKImJvcmRlci1sZWZ0LXdpZHRoIjoiYm9yZGVyLWJvdHRvbS13aWR0aCIsImJvcmRlci1yYWRpdXMiOntjc3NQcm9wQml0czo1LGNzc0xpdEdyb3VwOltKWzQ5XV0sY3NzRm5zOltdfSwiYm9yZGVyLXJpZ2h0IjoiYm9yZGVyIiwiYm9yZGVyLXJpZ2h0LWNvbG9yIjoiYmFja2dyb3VuZC1jb2xvciIsImJvcmRlci1yaWdodC1zdHlsZSI6ImJvcmRlci1ib3R0b20tc3R5bGUiLCJib3JkZXItcmlnaHQtd2lkdGgiOiJib3JkZXItYm90dG9tLXdpZHRoIiwiYm9yZGVyLXNwYWNpbmciOiJib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzIiwiYm9yZGVyLXN0eWxlIjoiYm9yZGVyLWJvdHRvbS1zdHlsZSIsImJvcmRlci10b3AiOiJib3JkZXIiLCJib3JkZXItdG9wLWNvbG9yIjoiYmFja2dyb3VuZC1jb2xvciIsImJvcmRlci10b3AtbGVmdC1yYWRpdXMiOiJib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzIiwiYm9yZGVyLXRvcC1yaWdodC1yYWRpdXMiOiJib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzIiwKImJvcmRlci10b3Atc3R5bGUiOiJib3JkZXItYm90dG9tLXN0eWxlIiwiYm9yZGVyLXRvcC13aWR0aCI6ImJvcmRlci1ib3R0b20td2lkdGgiLCJib3JkZXItd2lkdGgiOiJib3JkZXItYm90dG9tLXdpZHRoIixib3R0b206e2Nzc1Byb3BCaXRzOjUsY3NzTGl0R3JvdXA6W0pbNTJdXSxjc3NGbnM6W119LGJveDp7Y3NzUHJvcEJpdHM6MCxjc3NMaXRHcm91cDpbSls2MF0sSls3MV0sSls3Ml1dLGNzc0ZuczpbXX0sImJveC1zaGFkb3ciOntjc3NQcm9wQml0czo3LGNzc0xpdEdyb3VwOltKWzBdLEpbNDhdLEpbNjRdLEpbNzFdXSxjc3NGbnM6WyJyZ2IoKSIsInJnYmEoKSJdfSwiYm94LXNpemluZyI6e2Nzc1Byb3BCaXRzOjAsY3NzTGl0R3JvdXA6W0pbMjVdXSxjc3NGbnM6W119LCJjYXB0aW9uLXNpZGUiOntjc3NQcm9wQml0czowLGNzc0xpdEdyb3VwOltKWzMxXV0sY3NzRm5zOltdfSxjbGVhcjp7Y3NzUHJvcEJpdHM6MCxjc3NMaXRHcm91cDpbSls0Ml0sSls1NF0sSls3MV1dLGNzc0ZuczpbXX0sCmNsaXA6e2Nzc1Byb3BCaXRzOjAsY3NzTGl0R3JvdXA6W0pbNTJdXSxjc3NGbnM6WyJyZWN0KCkiXX0sY29sb3I6ImJhY2tncm91bmQtY29sb3IiLGNvbnRlbnQ6e2Nzc1Byb3BCaXRzOjgsY3NzTGl0R3JvdXA6W0pbNzFdLEpbNzJdXSxjc3NGbnM6W119LGN1ZTp7Y3NzUHJvcEJpdHM6MTYsY3NzTGl0R3JvdXA6W0pbNzFdXSxjc3NGbnM6W119LCJjdWUtYWZ0ZXIiOiJjdWUiLCJjdWUtYmVmb3JlIjoiY3VlIixjdXJzb3I6e2Nzc1Byb3BCaXRzOjE2LGNzc0xpdEdyb3VwOltKWzFdLEpbNDhdLEpbNTJdXSxjc3NGbnM6W119LGRpcmVjdGlvbjp7Y3NzUHJvcEJpdHM6MCxjc3NMaXRHcm91cDpbSls0M11dLGNzc0ZuczpbXX0sZGlzcGxheTp7Y3NzUHJvcEJpdHM6MCxjc3NMaXRHcm91cDpbSls0XSxKWzZdLEpbMjBdLEpbNTJdLEpbNjddLEpbNzFdXSxjc3NGbnM6W119LCJkaXNwbGF5LWV4dHJhcyI6e2Nzc1Byb3BCaXRzOjAsY3NzTGl0R3JvdXA6W0pbNjddLEpbNzFdXSxjc3NGbnM6W119LAoiZGlzcGxheS1pbnNpZGUiOntjc3NQcm9wQml0czowLGNzc0xpdEdyb3VwOltKWzIwXSxKWzUyXV0sY3NzRm5zOltdfSwiZGlzcGxheS1vdXRzaWRlIjp7Y3NzUHJvcEJpdHM6MCxjc3NMaXRHcm91cDpbSls0XSxKWzcxXV0sY3NzRm5zOltdfSxlbGV2YXRpb246e2Nzc1Byb3BCaXRzOjUsY3NzTGl0R3JvdXA6W0pbMTVdXSxjc3NGbnM6W119LCJlbXB0eS1jZWxscyI6e2Nzc1Byb3BCaXRzOjAsY3NzTGl0R3JvdXA6W0pbMzhdXSxjc3NGbnM6W119LGZpbHRlcjp7Y3NzUHJvcEJpdHM6MCxjc3NGbnM6WyJhbHBoYSgpIl19LCJmbG9hdCI6e2Nzc1Byb3BCaXRzOjAsY3NzTGl0R3JvdXA6W0pbNDJdLEpbNzFdXSxjc3NGbnM6W119LGZvbnQ6e2Nzc1Byb3BCaXRzOjczLGNzc0xpdEdyb3VwOltKWzNdLEpbOF0sSlsxM10sSlsxNl0sSls0MV0sSls0OF0sSls0OV0sSls2OV0sSls3Ml0sSls3N11dLGNzc0ZuczpbXX0sImZvbnQtZmFtaWx5Ijp7Y3NzUHJvcEJpdHM6NzIsY3NzTGl0R3JvdXA6W0pbMTZdLApKWzQ4XV0sY3NzRm5zOltdfSwiZm9udC1zaXplIjp7Y3NzUHJvcEJpdHM6MSxjc3NMaXRHcm91cDpbSls4XSxKWzY5XV0sY3NzRm5zOltdfSwiZm9udC1zdHJldGNoIjp7Y3NzUHJvcEJpdHM6MCxjc3NMaXRHcm91cDpbSls1XSxKWzcyXV0sY3NzRm5zOltdfSwiZm9udC1zdHlsZSI6e2Nzc1Byb3BCaXRzOjAsY3NzTGl0R3JvdXA6W0pbNDFdLEpbNzJdXSxjc3NGbnM6W119LCJmb250LXZhcmlhbnQiOntjc3NQcm9wQml0czowLGNzc0xpdEdyb3VwOltKWzcyXSxKWzc3XV0sY3NzRm5zOltdfSwiZm9udC13ZWlnaHQiOntjc3NQcm9wQml0czowLGNzc0xpdEdyb3VwOltKWzNdLEpbNzJdXSxjc3NGbnM6W119LGhlaWdodDoiYm90dG9tIixsZWZ0OiJib3R0b20iLCJsZXR0ZXItc3BhY2luZyI6e2Nzc1Byb3BCaXRzOjUsY3NzTGl0R3JvdXA6W0pbNzJdXSxjc3NGbnM6W119LCJsaW5lLWhlaWdodCI6e2Nzc1Byb3BCaXRzOjEsY3NzTGl0R3JvdXA6W0pbNzJdXSxjc3NGbnM6W119LCJsaXN0LXN0eWxlIjp7Y3NzUHJvcEJpdHM6MTYsCmNzc0xpdEdyb3VwOltKWzJdLEpbNDBdLEpbNTddLEpbNzFdXSxjc3NGbnM6WyJpbWFnZSgpIiwibGluZWFyLWdyYWRpZW50KCkiLCJyYWRpYWwtZ3JhZGllbnQoKSIsInJlcGVhdGluZy1saW5lYXItZ3JhZGllbnQoKSIsInJlcGVhdGluZy1yYWRpYWwtZ3JhZGllbnQoKSJdfSwibGlzdC1zdHlsZS1pbWFnZSI6e2Nzc1Byb3BCaXRzOjE2LGNzc0xpdEdyb3VwOltKWzcxXV0sY3NzRm5zOlsiaW1hZ2UoKSIsImxpbmVhci1ncmFkaWVudCgpIiwicmFkaWFsLWdyYWRpZW50KCkiLCJyZXBlYXRpbmctbGluZWFyLWdyYWRpZW50KCkiLCJyZXBlYXRpbmctcmFkaWFsLWdyYWRpZW50KCkiXX0sImxpc3Qtc3R5bGUtcG9zaXRpb24iOntjc3NQcm9wQml0czowLGNzc0xpdEdyb3VwOltKWzQwXV0sY3NzRm5zOltdfSwibGlzdC1zdHlsZS10eXBlIjp7Y3NzUHJvcEJpdHM6MCxjc3NMaXRHcm91cDpbSlsyXSxKWzU3XSxKWzcxXV0sY3NzRm5zOltdfSxtYXJnaW46ImJvdHRvbSIsIm1hcmdpbi1ib3R0b20iOiJib3R0b20iLAoibWFyZ2luLWxlZnQiOiJib3R0b20iLCJtYXJnaW4tcmlnaHQiOiJib3R0b20iLCJtYXJnaW4tdG9wIjoiYm90dG9tIiwibWF4LWhlaWdodCI6e2Nzc1Byb3BCaXRzOjEsY3NzTGl0R3JvdXA6W0pbNTJdLEpbNzFdXSxjc3NGbnM6W119LCJtYXgtd2lkdGgiOiJtYXgtaGVpZ2h0IiwibWluLWhlaWdodCI6e2Nzc1Byb3BCaXRzOjEsY3NzTGl0R3JvdXA6W0pbNTJdXSxjc3NGbnM6W119LCJtaW4td2lkdGgiOiJtaW4taGVpZ2h0IixvcGFjaXR5Ontjc3NQcm9wQml0czoxLGNzc0ZuczpbXX0sb3V0bGluZTp7Y3NzUHJvcEJpdHM6Nyxjc3NMaXRHcm91cDpbSlswXSxKWzldLEpbNDddLEpbNjJdLEpbNjRdLEpbNjVdLEpbNjldLEpbNzFdXSxjc3NGbnM6WyJyZ2IoKSIsInJnYmEoKSJdfSwib3V0bGluZS1jb2xvciI6e2Nzc1Byb3BCaXRzOjIsY3NzTGl0R3JvdXA6W0pbMF0sSls2NV1dLGNzc0ZuczpbInJnYigpIiwicmdiYSgpIl19LCJvdXRsaW5lLXN0eWxlIjoiYm9yZGVyLWJvdHRvbS1zdHlsZSIsCiJvdXRsaW5lLXdpZHRoIjoiYm9yZGVyLWJvdHRvbS13aWR0aCIsb3ZlcmZsb3c6e2Nzc1Byb3BCaXRzOjAsY3NzTGl0R3JvdXA6W0pbNTJdLEpbNjJdLEpbNzVdLEpbODBdXSxjc3NGbnM6W119LCJvdmVyZmxvdy13cmFwIjp7Y3NzUHJvcEJpdHM6MCxjc3NMaXRHcm91cDpbSls1NV0sSls3Ml1dLGNzc0ZuczpbXX0sIm92ZXJmbG93LXgiOntjc3NQcm9wQml0czowLGNzc0xpdEdyb3VwOltKWzQ0XSxKWzUyXSxKWzYyXSxKWzc1XSxKWzgwXV0sY3NzRm5zOltdfSwib3ZlcmZsb3cteSI6Im92ZXJmbG93LXgiLHBhZGRpbmc6Im9wYWNpdHkiLCJwYWRkaW5nLWJvdHRvbSI6Im9wYWNpdHkiLCJwYWRkaW5nLWxlZnQiOiJvcGFjaXR5IiwicGFkZGluZy1yaWdodCI6Im9wYWNpdHkiLCJwYWRkaW5nLXRvcCI6Im9wYWNpdHkiLCJwYWdlLWJyZWFrLWFmdGVyIjp7Y3NzUHJvcEJpdHM6MCxjc3NMaXRHcm91cDpbSls0Ml0sSls1MV0sSls1Ml0sSls1M11dLGNzc0ZuczpbXX0sInBhZ2UtYnJlYWstYmVmb3JlIjoicGFnZS1icmVhay1hZnRlciIsCiJwYWdlLWJyZWFrLWluc2lkZSI6e2Nzc1Byb3BCaXRzOjAsY3NzTGl0R3JvdXA6W0pbNTJdLEpbNTNdXSxjc3NGbnM6W119LHBhdXNlOiJib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzIiwicGF1c2UtYWZ0ZXIiOiJib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzIiwicGF1c2UtYmVmb3JlIjoiYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1cyIscGVyc3BlY3RpdmU6e2Nzc1Byb3BCaXRzOjUsY3NzTGl0R3JvdXA6W0pbNzFdXSxjc3NGbnM6W119LCJwZXJzcGVjdGl2ZS1vcmlnaW4iOntjc3NQcm9wQml0czo1LGNzc0xpdEdyb3VwOltKWzMxXSxKWzQyXSxKWzU2XV0sY3NzRm5zOltdfSxwaXRjaDp7Y3NzUHJvcEJpdHM6NSxjc3NMaXRHcm91cDpbSlsyMV0sSls2OV1dLGNzc0ZuczpbXX0sInBpdGNoLXJhbmdlIjoiYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1cyIsInBsYXktZHVyaW5nIjp7Y3NzUHJvcEJpdHM6MTYsY3NzTGl0R3JvdXA6W0pbNTJdLEpbNzBdLEpbNzFdLEpbNzRdXSxjc3NGbnM6W119LApwb3NpdGlvbjp7Y3NzUHJvcEJpdHM6MCxjc3NMaXRHcm91cDpbSlsyM11dLGNzc0ZuczpbXX0scXVvdGVzOntjc3NQcm9wQml0czo4LGNzc0xpdEdyb3VwOltKWzcxXV0sY3NzRm5zOltdfSxyZXNpemU6e2Nzc1Byb3BCaXRzOjAsY3NzTGl0R3JvdXA6W0pbMzldLEpbNTRdLEpbNzFdXSxjc3NGbnM6W119LHJpY2huZXNzOiJib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzIixyaWdodDoiYm90dG9tIixzcGVhazp7Y3NzUHJvcEJpdHM6MCxjc3NMaXRHcm91cDpbSls3MV0sSls3Ml0sSls3OF1dLGNzc0ZuczpbXX0sInNwZWFrLWhlYWRlciI6e2Nzc1Byb3BCaXRzOjAsY3NzTGl0R3JvdXA6W0pbNTFdLEpbNzNdXSxjc3NGbnM6W119LCJzcGVhay1udW1lcmFsIjp7Y3NzUHJvcEJpdHM6MCxjc3NMaXRHcm91cDpbSlszNV1dLGNzc0ZuczpbXX0sInNwZWFrLXB1bmN0dWF0aW9uIjp7Y3NzUHJvcEJpdHM6MCxjc3NMaXRHcm91cDpbSls1OF0sSls3MV1dLGNzc0ZuczpbXX0sInNwZWVjaC1yYXRlIjp7Y3NzUHJvcEJpdHM6NSwKY3NzTGl0R3JvdXA6W0pbMTRdLEpbNjldXSxjc3NGbnM6W119LHN0cmVzczoiYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1cyIsInRhYmxlLWxheW91dCI6e2Nzc1Byb3BCaXRzOjAsY3NzTGl0R3JvdXA6W0pbNTJdLEpbNjFdXSxjc3NGbnM6W119LCJ0ZXh0LWFsaWduIjp7Y3NzUHJvcEJpdHM6MCxjc3NMaXRHcm91cDpbSls0Ml0sSls1Nl0sSls2Nl1dLGNzc0ZuczpbXX0sInRleHQtZGVjb3JhdGlvbiI6e2Nzc1Byb3BCaXRzOjAsY3NzTGl0R3JvdXA6W0pbMTldLEpbNzFdXSxjc3NGbnM6W119LCJ0ZXh0LWluZGVudCI6ImJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXMiLCJ0ZXh0LW92ZXJmbG93Ijp7Y3NzUHJvcEJpdHM6OCxjc3NMaXRHcm91cDpbSlszM11dLGNzc0ZuczpbXX0sInRleHQtc2hhZG93IjoiYm94LXNoYWRvdyIsInRleHQtdHJhbnNmb3JtIjp7Y3NzUHJvcEJpdHM6MCxjc3NMaXRHcm91cDpbSlsyNl0sSls3MV1dLGNzc0ZuczpbXX0sInRleHQtd3JhcCI6e2Nzc1Byb3BCaXRzOjAsCmNzc0xpdEdyb3VwOltKWzQ2XSxKWzcxXSxKWzcyXV0sY3NzRm5zOltdfSx0b3A6ImJvdHRvbSIsdHJhbnNmb3JtOntjc3NQcm9wQml0czowLGNzc0xpdEdyb3VwOltKWzcxXV0sY3NzRm5zOiJtYXRyaXgoKSxwZXJzcGVjdGl2ZSgpLHJvdGF0ZSgpLHJvdGF0ZTNkKCkscm90YXRleCgpLHJvdGF0ZXkoKSxyb3RhdGV6KCksc2NhbGUoKSxzY2FsZTNkKCksc2NhbGV4KCksc2NhbGV5KCksc2NhbGV6KCksc2tldygpLHNrZXd4KCksc2tld3koKSx0cmFuc2xhdGUoKSx0cmFuc2xhdGUzZCgpLHRyYW5zbGF0ZXgoKSx0cmFuc2xhdGV5KCksdHJhbnNsYXRleigpIi5zcGxpdCgiLCIpfSwidHJhbnNmb3JtLW9yaWdpbiI6InBlcnNwZWN0aXZlLW9yaWdpbiIsInRyYW5zZm9ybS1zdHlsZSI6e2Nzc1Byb3BCaXRzOjAsY3NzTGl0R3JvdXA6W0pbMzddXSxjc3NGbnM6W119LHRyYW5zaXRpb246e2Nzc1Byb3BCaXRzOjEwMjksY3NzTGl0R3JvdXA6W0pbMTBdLEpbNDhdLEpbNTBdLEpbNzFdXSxjc3NGbnM6WyJjdWJpYy1iZXppZXIoKSIsCiJzdGVwcygpIl19LCJ0cmFuc2l0aW9uLWRlbGF5IjoiYW5pbWF0aW9uLWRlbGF5IiwidHJhbnNpdGlvbi1kdXJhdGlvbiI6ImFuaW1hdGlvbi1kZWxheSIsInRyYW5zaXRpb24tcHJvcGVydHkiOntjc3NQcm9wQml0czoxMDI0LGNzc0xpdEdyb3VwOltKWzQ4XSxKWzUwXV0sY3NzRm5zOltdfSwidHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb24iOiJhbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uIiwidW5pY29kZS1iaWRpIjp7Y3NzUHJvcEJpdHM6MCxjc3NMaXRHcm91cDpbSlszMF0sSls3Ml1dLGNzc0ZuczpbXX0sInZlcnRpY2FsLWFsaWduIjp7Y3NzUHJvcEJpdHM6NSxjc3NMaXRHcm91cDpbSlsxMl0sSlszMV1dLGNzc0ZuczpbXX0sdmlzaWJpbGl0eToiYmFja2ZhY2UtdmlzaWJpbGl0eSIsInZvaWNlLWZhbWlseSI6e2Nzc1Byb3BCaXRzOjgsY3NzTGl0R3JvdXA6W0pbMjddLEpbNDhdXSxjc3NGbnM6W119LHZvbHVtZTp7Y3NzUHJvcEJpdHM6MSxjc3NMaXRHcm91cDpbSlsxN10sSls2OV1dLApjc3NGbnM6W119LCJ3aGl0ZS1zcGFjZSI6e2Nzc1Byb3BCaXRzOjAsY3NzTGl0R3JvdXA6W0pbMjJdLEpbNzJdXSxjc3NGbnM6W119LHdpZHRoOiJtaW4taGVpZ2h0Iiwid29yZC1icmVhayI6e2Nzc1Byb3BCaXRzOjAsY3NzTGl0R3JvdXA6W0pbMzJdLEpbNzJdLEpbNTVdXSxjc3NGbnM6W119LCJ3b3JkLXNwYWNpbmciOiJsZXR0ZXItc3BhY2luZyIsIndvcmQtd3JhcCI6Im92ZXJmbG93LXdyYXAiLCJ6LWluZGV4IjoiYm90dG9tIix6b29tOiJsaW5lLWhlaWdodCIsImN1YmljLWJlemllcigpIjoiYW5pbWF0aW9uLWRlbGF5Iiwic3RlcHMoKSI6e2Nzc1Byb3BCaXRzOjUsY3NzTGl0R3JvdXA6W0pbMzZdLEpbNDhdXSxjc3NGbnM6W119LCJpbWFnZSgpIjp7Y3NzUHJvcEJpdHM6MTgsY3NzTGl0R3JvdXA6W0pbMF0sSls0OF1dLGNzc0ZuczpbInJnYigpIiwicmdiYSgpIl19LCJsaW5lYXItZ3JhZGllbnQoKSI6e2Nzc1Byb3BCaXRzOjcsY3NzTGl0R3JvdXA6W0pbMF0sSlszMV0sSls0Ml0sSls0OF0sCkpbNzldXSxjc3NGbnM6WyJyZ2IoKSIsInJnYmEoKSJdfSwicmFkaWFsLWdyYWRpZW50KCkiOntjc3NQcm9wQml0czo3LGNzc0xpdEdyb3VwOltKWzBdLEpbMTFdLEpbMzFdLEpbNDJdLEpbNDhdLEpbNTZdLEpbNTddXSxjc3NGbnM6WyJyZ2IoKSIsInJnYmEoKSJdfSwicmVwZWF0aW5nLWxpbmVhci1ncmFkaWVudCgpIjoibGluZWFyLWdyYWRpZW50KCkiLCJyZXBlYXRpbmctcmFkaWFsLWdyYWRpZW50KCkiOiJyYWRpYWwtZ3JhZGllbnQoKSIsInJnYigpIjp7Y3NzUHJvcEJpdHM6MSxjc3NMaXRHcm91cDpbSls0OF1dLGNzc0ZuczpbXX0sInJnYmEoKSI6InJnYigpIiwicmVjdCgpIjp7Y3NzUHJvcEJpdHM6NSxjc3NMaXRHcm91cDpbSls0OF0sSls1Ml1dLGNzc0ZuczpbXX0sImFscGhhKCkiOntjc3NQcm9wQml0czoxLGNzc0xpdEdyb3VwOltKWzI4XV0sY3NzRm5zOltdfSwibWF0cml4KCkiOiJhbmltYXRpb24tZGVsYXkiLCJwZXJzcGVjdGl2ZSgpIjoiYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1cyIsCiJyb3RhdGUoKSI6ImJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXMiLCJyb3RhdGUzZCgpIjoiYW5pbWF0aW9uLWRlbGF5Iiwicm90YXRleCgpIjoiYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1cyIsInJvdGF0ZXkoKSI6ImJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXMiLCJyb3RhdGV6KCkiOiJib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzIiwic2NhbGUoKSI6ImFuaW1hdGlvbi1kZWxheSIsInNjYWxlM2QoKSI6ImFuaW1hdGlvbi1kZWxheSIsInNjYWxleCgpIjoiYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1cyIsInNjYWxleSgpIjoiYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1cyIsInNjYWxleigpIjoiYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1cyIsInNrZXcoKSI6ImFuaW1hdGlvbi1kZWxheSIsInNrZXd4KCkiOiJib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzIiwic2tld3koKSI6ImJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXMiLCJ0cmFuc2xhdGUoKSI6ImFuaW1hdGlvbi1kZWxheSIsInRyYW5zbGF0ZTNkKCkiOiJhbmltYXRpb24tZGVsYXkiLAoidHJhbnNsYXRleCgpIjoiYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1cyIsInRyYW5zbGF0ZXkoKSI6ImJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXMiLCJ0cmFuc2xhdGV6KCkiOiJib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzIn0sTztmb3IoTyBpbiBMKSJzdHJpbmciPT09dHlwZW9mIExbT10mJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKEwsTykmJihMW09dPUxbTFtPXV0pOyJ1bmRlZmluZWQiIT09dHlwZW9mIHdpbmRvdyYmKHdpbmRvdy5jc3NTY2hlbWE9TCk7dmFyIFUsWDsKKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZyhhKXt2YXIgZj1wYXJzZUludChhLnN1YnN0cmluZygxKSwxNik7cmV0dXJuIDY1NTM1PGY/KGYtPTY1NTM2LFN0cmluZy5mcm9tQ2hhckNvZGUoNTUyOTYrKGY+PjEwKSw1NjMyMCsoZiYxMDIzKSkpOmY9PWY/U3RyaW5nLmZyb21DaGFyQ29kZShmKToiICI+YVsxXT8iIjphWzFdfWZ1bmN0aW9uIHcoYSxmKXtyZXR1cm4nIicrYS5yZXBsYWNlKC9bXHUwMDAwLVx1MDAxZlxcXCI8Pl0vZyxmKSsnIid9ZnVuY3Rpb24gTShhKXtyZXR1cm4gRVthXXx8KEVbYV09IlxcIithLmNoYXJDb2RlQXQoMCkudG9TdHJpbmcoMTYpKyIgIil9ZnVuY3Rpb24geChhKXtyZXR1cm4gZVthXXx8KGVbYV09KCJcdTAwMTAiPmE/IiUwIjoiJSIpK2EuY2hhckNvZGVBdCgwKS50b1N0cmluZygxNikpfXZhciBFPXsiXFwiOiJcXFxcIn0sZT17IlxcIjoiJTVjIn0sdj1SZWdFeHAoIlxcdUZFRkZ8VVsrXVswLTlBLUY/XXsxLDZ9KD86LVswLTlBLUZdezEsNn0pP3x1cmxbKF1bXFx0XFxuXFxmIF0qKD86XCIoPzonfFteJ1wiXFxuXFxmXFxcXF18XFxcXFtcXHNcXFNdKSpcInwnKD86XCJ8W14nXCJcXG5cXGZcXFxcXXxcXFxcW1xcc1xcU10pKid8KD86W1xcdFxceDIxXFx4MjMtXFx4MjZcXHgyOC1cXHg1YlxceDVkLVxceDdlXXxbXFx1MDA4MC1cXHVkN2ZmXFx1ZTAwMC1cXHVmZmZkXXxbXFx1ZDgwMC1cXHVkYmZmXVtcXHVkYzAwLVxcdWRmZmZdfFxcXFwoPzpbMC05YS1mQS1GXXsxLDZ9W1xcdFxcblxcZiBdP3xbXFx1MDAyMC1cXHUwMDdlXFx1MDA4MC1cXHVkN2ZmXFx1ZTAwMFxcdWZmZmRdfFtcXHVkODAwLVxcdWRiZmZdW1xcdWRjMDAtXFx1ZGZmZl0pKSopW1xcdFxcblxcZiBdKlspXXwoPyF1cmxbKF0pLT8oPzpbYS16QS1aX118W1xcdTAwODAtXFx1ZDdmZlxcdWUwMDAtXFx1ZmZmZF18W1xcdWQ4MDAtXFx1ZGJmZl1bXFx1ZGMwMC1cXHVkZmZmXXxcXFxcKD86WzAtOWEtZkEtRl17MSw2fVtcXHRcXG5cXGYgXT98W1xcdTAwMjAtXFx1MDA3ZVxcdTAwODAtXFx1ZDdmZlxcdWUwMDBcXHVmZmZkXXxbXFx1ZDgwMC1cXHVkYmZmXVtcXHVkYzAwLVxcdWRmZmZdKSkoPzpbYS16QS1aMC05Xy1dfFtcXHUwMDgwLVxcdWQ3ZmZcXHVlMDAwLVxcdWZmZmRdfFtcXHVkODAwLVxcdWRiZmZdW1xcdWRjMDAtXFx1ZGZmZl18XFxcXCg/OlswLTlhLWZBLUZdezEsNn1bXFx0XFxuXFxmIF0/fFtcXHUwMDIwLVxcdTAwN2VcXHUwMDgwLVxcdWQ3ZmZcXHVlMDAwXFx1ZmZmZF18W1xcdWQ4MDAtXFx1ZGJmZl1bXFx1ZGMwMC1cXHVkZmZmXSkpKlsoXXwoPzpAPy0/KD86W2EtekEtWl9dfFtcXHUwMDgwLVxcdWQ3ZmZcXHVlMDAwLVxcdWZmZmRdfFtcXHVkODAwLVxcdWRiZmZdW1xcdWRjMDAtXFx1ZGZmZl18XFxcXCg/OlswLTlhLWZBLUZdezEsNn1bXFx0XFxuXFxmIF0/fFtcXHUwMDIwLVxcdTAwN2VcXHUwMDgwLVxcdWQ3ZmZcXHVlMDAwXFx1ZmZmZF18W1xcdWQ4MDAtXFx1ZGJmZl1bXFx1ZGMwMC1cXHVkZmZmXSkpfCMpKD86W2EtekEtWjAtOV8tXXxbXFx1MDA4MC1cXHVkN2ZmXFx1ZTAwMC1cXHVmZmZkXXxbXFx1ZDgwMC1cXHVkYmZmXVtcXHVkYzAwLVxcdWRmZmZdfFxcXFwoPzpbMC05YS1mQS1GXXsxLDZ9W1xcdFxcblxcZiBdP3xbXFx1MDAyMC1cXHUwMDdlXFx1MDA4MC1cXHVkN2ZmXFx1ZTAwMFxcdWZmZmRdfFtcXHVkODAwLVxcdWRiZmZdW1xcdWRjMDAtXFx1ZGZmZl0pKSp8XCIoPzonfFteJ1wiXFxuXFxmXFxcXF18XFxcXFtcXHNcXFNdKSpcInwnKD86XCJ8W14nXCJcXG5cXGZcXFxcXXxcXFxcW1xcc1xcU10pKid8Wy0rXT8oPzpbMC05XSsoPzpbLl1bMC05XSspP3xbLl1bMC05XSspKD86JXwtPyg/OlthLXpBLVpfXXxbXFx1MDA4MC1cXHVkN2ZmXFx1ZTAwMC1cXHVmZmZkXXxbXFx1ZDgwMC1cXHVkYmZmXVtcXHVkYzAwLVxcdWRmZmZdfFxcXFwoPzpbMC05YS1mQS1GXXsxLDZ9W1xcdFxcblxcZiBdP3xbXFx1MDAyMC1cXHUwMDdlXFx1MDA4MC1cXHVkN2ZmXFx1ZTAwMFxcdWZmZmRdfFtcXHVkODAwLVxcdWRiZmZdW1xcdWRjMDAtXFx1ZGZmZl0pKSg/OlthLXpBLVowLTlfLV18W1xcdTAwODAtXFx1ZDdmZlxcdWUwMDAtXFx1ZmZmZF18W1xcdWQ4MDAtXFx1ZGJmZl1bXFx1ZGMwMC1cXHVkZmZmXXxcXFxcKD86WzAtOWEtZkEtRl17MSw2fVtcXHRcXG5cXGYgXT98W1xcdTAwMjAtXFx1MDA3ZVxcdTAwODAtXFx1ZDdmZlxcdWUwMDBcXHVmZmZkXXxbXFx1ZDgwMC1cXHVkYmZmXVtcXHVkYzAwLVxcdWRmZmZdKSkqKT98PFwhLS18LS1cPnxbXFx0XFxuXFxmIF0rfC8oPzpbKl1bXipdKlsqXSsoPzpbXi9dW14qXSpbKl0rKSovfC9bXlxcblxcZl0qKXxbfnxeJCpdPXxbXlwiJ1xcXFwvXXwvKD8hWy8qXSkiLCJnaSIpLApiPVJlZ0V4cCgiXFxcXCg/Oig/OlswLTlhLWZBLUZdezEsNn1bXFx0XFxuXFxmIF0/fFtcXHUwMDIwLVxcdTAwN2VcXHUwMDgwLVxcdWQ3ZmZcXHVlMDAwXFx1ZmZmZF18W1xcdWQ4MDAtXFx1ZGJmZl1bXFx1ZGMwMC1cXHVkZmZmXSl8W1xcblxcZl0pIiwiZyIpLGE9UmVnRXhwKCJedXJsXFwoW1xcdFxcblxcZiBdKltcIiddP3xbXCInXT9bXFx0XFxuXFxmIF0qXFwpJCIsImdpIik7WD1mdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKGIsZyl9O1U9ZnVuY3Rpb24oYil7Zm9yKHZhciBiPSgiIitiKS5yZXBsYWNlKC9cclxuPy9nLCJcbiIpLm1hdGNoKHYpfHxbXSxmPTAsaD0iICIsZD0wLHk9Yi5sZW5ndGg7ZDx5OysrZCl7dmFyIGw9WChiW2RdKSxWPWwubGVuZ3RoLGc9bC5jaGFyQ29kZUF0KDApLGw9MzQ9PWd8fDM5PT1nP3cobC5zdWJzdHJpbmcoMSxWLTEpLE0pOjQ3PT1nJiYxPFZ8fCJcXCI9PWx8fCItLVw+Ij09bHx8IjxcIS0tIj09bHx8Ilx1ZmVmZiI9PWx8fDMyPj1nPyIgIjoKL3VybFwoL2kudGVzdChsKT8idXJsKCIrdyhsLnJlcGxhY2UoYSwiIikseCkrIikiOmw7aWYoaCE9bHx8IiAiIT1sKWJbZisrXT1oPWx9Yi5sZW5ndGg9ZjtyZXR1cm4gYn19KSgpOyJ1bmRlZmluZWQiIT09dHlwZW9mIHdpbmRvdyYmKHdpbmRvdy5sZXhDc3M9VSx3aW5kb3cuZGVjb2RlQ3NzPVgpO3ZhciBZPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZyhkKXtkPSgiIitkKS5tYXRjaChrKTtyZXR1cm4hZD9zOm5ldyBlKHYoZFsxXSksdihkWzJdKSx2KGRbM10pLHYoZFs0XSksdihkWzVdKSx2KGRbNl0pLHYoZFs3XSkpfWZ1bmN0aW9uIHcoZCxhKXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIGQ/ZW5jb2RlVVJJKGQpLnJlcGxhY2UoYSxNKTpzfWZ1bmN0aW9uIE0oZCl7ZD1kLmNoYXJDb2RlQXQoMCk7cmV0dXJuIiUiKyIwMTIzNDU2Nzg5QUJDREVGIi5jaGFyQXQoZD4+NCYxNSkrIjAxMjM0NTY3ODlBQkNERUYiLmNoYXJBdChkJjE1KX1mdW5jdGlvbiB4KGQpe2lmKGQ9PT1zKXJldHVybiBzO2Zvcih2YXIgZD1kLnJlcGxhY2UoLyhefFwvKVwuKD86XC98JCkvZywiJDEiKS5yZXBsYWNlKC9cL3syLH0vZywiLyIpLGE9YixoOyhoPWQucmVwbGFjZShhLCIkMSIpKSE9ZDtkPWgpO3JldHVybiBkfWZ1bmN0aW9uIEUoZCxoKXt2YXIgYj1kLlQoKSxmPWguSygpO2Y/Yi5nYShoLmopOmY9aC5YKCk7CmY/Yi5kYShoLm4pOmY9aC5ZKCk7Zj9iLmVhKGguayk6Zj1oLiQoKTt2YXIgZz1oLmcsaz14KGcpO2lmKGYpYi5jYShoLlYoKSksaz1rJiZrLnJlcGxhY2UoYSwiIik7ZWxzZSBpZihmPSEhZyl7aWYoNDchPT1rLmNoYXJDb2RlQXQoMCkpdmFyIGs9eChiLmd8fCIiKS5yZXBsYWNlKGEsIiIpLGU9ay5sYXN0SW5kZXhPZigiLyIpKzEsaz14KChlP2suc3Vic3RyaW5nKDAsZSk6IiIpK3goZykpLnJlcGxhY2UoYSwiIil9ZWxzZSBrPWsmJmsucmVwbGFjZShhLCIiKSxrIT09ZyYmYi5HKGspO2Y/Yi5HKGspOmY9aC5hYSgpO2Y/Yi5PKGgubCk6Zj1oLlooKTtmJiZiLmZhKGgubyk7cmV0dXJuIGJ9ZnVuY3Rpb24gZShkLGEsaCxmLGIsZyxrKXt0aGlzLmo9ZDt0aGlzLm49YTt0aGlzLms9aDt0aGlzLmg9Zjt0aGlzLmc9Yjt0aGlzLmw9Zzt0aGlzLm89a31mdW5jdGlvbiB2KGQpe3JldHVybiJzdHJpbmciPT10eXBlb2YgZCYmMDxkLmxlbmd0aD9kOnN9dmFyIGI9UmVnRXhwKC8oXC98XikoPzpbXi4vXVteL10qfFwuezIsfSg/OlteLi9dW14vXSopfFwuezMsfVteL10qKVwvXC5cLig/OlwvfCQpLyksCmE9L14oPzpcLlwuXC8pKig/OlwuXC4kKT8vO2UucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7dmFyIGQ9W107cyE9PXRoaXMuaiYmZC5wdXNoKHRoaXMuaiwiOiIpO3MhPT10aGlzLmsmJihkLnB1c2goIi8vIikscyE9PXRoaXMubiYmZC5wdXNoKHRoaXMubiwiQCIpLGQucHVzaCh0aGlzLmspLHMhPT10aGlzLmgmJmQucHVzaCgiOiIsdGhpcy5oLnRvU3RyaW5nKCkpKTtzIT09dGhpcy5nJiZkLnB1c2godGhpcy5nKTtzIT09dGhpcy5sJiZkLnB1c2goIj8iLHRoaXMubCk7cyE9PXRoaXMubyYmZC5wdXNoKCIjIix0aGlzLm8pO3JldHVybiBkLmpvaW4oIiIpfTtlLnByb3RvdHlwZS5UPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBlKHRoaXMuaix0aGlzLm4sdGhpcy5rLHRoaXMuaCx0aGlzLmcsdGhpcy5sLHRoaXMubyl9O2UucHJvdG90eXBlLlc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5qJiZkZWNvZGVVUklDb21wb25lbnQodGhpcy5qKS50b0xvd2VyQ2FzZSgpfTtlLnByb3RvdHlwZS5nYT0KZnVuY3Rpb24oZCl7dGhpcy5qPWQ/ZDpzfTtlLnByb3RvdHlwZS5LPWZ1bmN0aW9uKCl7cmV0dXJuIHMhPT10aGlzLmp9O2UucHJvdG90eXBlLmRhPWZ1bmN0aW9uKGQpe3RoaXMubj1kP2Q6c307ZS5wcm90b3R5cGUuWD1mdW5jdGlvbigpe3JldHVybiBzIT09dGhpcy5ufTtlLnByb3RvdHlwZS5lYT1mdW5jdGlvbihkKXt0aGlzLms9ZD9kOnM7dGhpcy5HKHRoaXMuZyl9O2UucHJvdG90eXBlLlk9ZnVuY3Rpb24oKXtyZXR1cm4gcyE9PXRoaXMua307ZS5wcm90b3R5cGUuVj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmgmJmRlY29kZVVSSUNvbXBvbmVudCh0aGlzLmgpfTtlLnByb3RvdHlwZS5jYT1mdW5jdGlvbihkKXtpZihkKXtkPU51bWJlcihkKTtpZihkIT09KGQmNjU1MzUpKXRocm93IEVycm9yKCJCYWQgcG9ydCBudW1iZXIgIitkKTt0aGlzLmg9IiIrZH1lbHNlIHRoaXMuaD1zfTtlLnByb3RvdHlwZS4kPWZ1bmN0aW9uKCl7cmV0dXJuIHMhPT10aGlzLmh9O2UucHJvdG90eXBlLlU9CmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZyYmZGVjb2RlVVJJQ29tcG9uZW50KHRoaXMuZyl9O2UucHJvdG90eXBlLkc9ZnVuY3Rpb24oZCl7ZD8oZD0iIitkLHRoaXMuZz0hdGhpcy5rfHwvXlwvLy50ZXN0KGQpP2Q6Ii8iK2QpOnRoaXMuZz1zfTtlLnByb3RvdHlwZS5PPWZ1bmN0aW9uKGQpe3RoaXMubD1kP2Q6c307ZS5wcm90b3R5cGUuYWE9ZnVuY3Rpb24oKXtyZXR1cm4gcyE9PXRoaXMubH07ZS5wcm90b3R5cGUuYmE9ZnVuY3Rpb24oZCl7aWYoIm9iamVjdCI9PT10eXBlb2YgZCYmIShkIGluc3RhbmNlb2YgQXJyYXkpJiYoZCBpbnN0YW5jZW9mIE9iamVjdHx8IltvYmplY3QgQXJyYXldIiE9PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChkKSkpe3ZhciBhPVtdLGg9LTEsZjtmb3IoZiBpbiBkKXt2YXIgYj1kW2ZdOyJzdHJpbmciPT09dHlwZW9mIGImJihhWysraF09ZixhWysraF09Yil9ZD1hfWZvcih2YXIgYT1bXSxoPSIiLGc9MDtnPGQubGVuZ3RoOylmPWRbZysrXSwKYj1kW2crK10sYS5wdXNoKGgsZW5jb2RlVVJJQ29tcG9uZW50KGYudG9TdHJpbmcoKSkpLGg9IiYiLGImJmEucHVzaCgiPSIsZW5jb2RlVVJJQ29tcG9uZW50KGIudG9TdHJpbmcoKSkpO3RoaXMubD1hLmpvaW4oIiIpfTtlLnByb3RvdHlwZS5mYT1mdW5jdGlvbihkKXt0aGlzLm89ZD9kOnN9O2UucHJvdG90eXBlLlo9ZnVuY3Rpb24oKXtyZXR1cm4gcyE9PXRoaXMub307dmFyIGs9L14oPzooW146Lz8jXSspOik/KD86XC9cLyg/OihbXi8/I10qKUApPyhbXi8/IzpAXSopKD86OihbMC05XSspKT8pPyhbXj8jXSspPyg/Olw/KFteI10qKSk/KD86IyguKikpPyQvLGY9L1sjXC9cP0BdL2csaD0vW1wjXD9dL2c7ZS5wYXJzZT1nO2UuY3JlYXRlPWZ1bmN0aW9uKGQsYSxiLGcsayxRLE4pe2Q9bmV3IGUodyhkLGYpLHcoYSxmKSwic3RyaW5nIj09dHlwZW9mIGI/ZW5jb2RlVVJJQ29tcG9uZW50KGIpOnMsMDxnP2cudG9TdHJpbmcoKTpzLHcoayxoKSxzLCJzdHJpbmciPT10eXBlb2YgTj9lbmNvZGVVUklDb21wb25lbnQoTik6CnMpO1EmJigic3RyaW5nIj09PXR5cGVvZiBRP2QuTyhRLnJlcGxhY2UoL1tePyY9MC05QS1aYS16X1wtfi4lXS9nLE0pKTpkLmJhKFEpKTtyZXR1cm4gZH07ZS5OPUU7ZS5tYT14O2UuaGE9e3VhOmZ1bmN0aW9uKGQpe3JldHVybi9cLmh0bWwkLy50ZXN0KGcoZCkuVSgpKT8idGV4dC9odG1sIjoiYXBwbGljYXRpb24vamF2YXNjcmlwdCJ9LE46ZnVuY3Rpb24oZCxhKXtyZXR1cm4gZD9FKGcoZCksZyhhKSkudG9TdHJpbmcoKToiIithfX07cmV0dXJuIGV9KCk7InVuZGVmaW5lZCIhPT10eXBlb2Ygd2luZG93JiYod2luZG93LlVSST1ZKTt2YXIgYWE9YyxiYT1jLGRhPWMsWj1jOwooZnVuY3Rpb24oKXtmdW5jdGlvbiBnKGEpe3JldHVybiJzdHJpbmciPT09dHlwZW9mIGE/J3VybCgiJythLnJlcGxhY2UoZSx3KSsnIiknOid1cmwoImFib3V0OmJsYW5rIiknfWZ1bmN0aW9uIHcoYSl7cmV0dXJuIHZbYV19ZnVuY3Rpb24gTShhLGQpe3JldHVybiBhP1kuaGEuTihhLGQpOmR9ZnVuY3Rpb24geChoLGQsZil7aWYoIWYpcmV0dXJuIHM7dmFyIGc9KCIiK2gpLm1hdGNoKGIpO3JldHVybiBnJiYoIWdbMV18fGEudGVzdChnWzFdKSk/ZihoLGQpOnN9ZnVuY3Rpb24gRShhKXtyZXR1cm4gYS5yZXBsYWNlKC9eLSg/OmFwcGxlfGNzc3xlcHVifGtodG1sfG1venxtc28/fG98cmltfHdhcHx3ZWJraXR8eHYpLSg/PVthLXpdKS8sIiIpfXZhciBlPS9bXG5cZlxyXCJcJygpKjw+XS9nLHY9eyJcbiI6IiUwYSIsIlx1MDAwYyI6IiUwYyIsIlxyIjoiJTBkIiwnIic6IiUyMiIsIiciOiIlMjciLCIoIjoiJTI4IiwiKSI6IiUyOSIsIioiOiIlMmEiLCI8IjoiJTNjIiwiPiI6IiUzZSJ9LApiPS9eKD86KFteOi8/IyBdKyk6KT8vLGE9L14oPzpodHRwcz98bWFpbHRvfGRhdGEpJC9pO2FhPWZ1bmN0aW9uKCl7dmFyIGE9e307cmV0dXJuIGZ1bmN0aW9uIHkoZixiLGssZSxOKXt2YXIgZj1FKGYpLHU9TFtmXTtpZighdXx8Im9iamVjdCIhPT10eXBlb2YgdSliLmxlbmd0aD0wO2Vsc2V7Zm9yKHZhciBpPXUuY3NzUHJvcEJpdHMscT1pJjgwLEI9aSYxNTM2LEY9TmFOLHI9MCxvPTA7cjxiLmxlbmd0aDsrK3Ipe3ZhciBqPWJbcl0udG9Mb3dlckNhc2UoKSxJPWouY2hhckNvZGVBdCgwKSxSLHYsUCxTLEQsdztpZigzMj09PUkpaj0iIjtlbHNlIGlmKDM0PT09SSlqPTE2PT09cT9rP2coeChNKGUsWChiW3JdLnN1YnN0cmluZygxLGoubGVuZ3RoLTEpKSksZixrKSk6IiI6aSY4JiYhKHEmcS0xKT9qOiIiO2Vsc2UgaWYoImluaGVyaXQiIT09ail7aWYoRD11LmNzc0xpdEdyb3VwKXt2YXIgRztpZighKEc9dS5jc3NMaXRNYXApKXtHPXt9O2Zvcih2YXIgSz1ELmxlbmd0aDswPD0tLUs7KWZvcih2YXIgQT0KRFtLXSxUPUEubGVuZ3RoOzA8PS0tVDspR1tBW1RdXT1hO0c9dS5jc3NMaXRNYXA9R31EPUd9ZWxzZSBEPWE7aWYoISh3PUQsd1tFKGopXT09PWEpKWlmKDM1PT09SSYmL14jKD86WzAtOWEtZl17M30pezEsMn0kLy50ZXN0KGopKWo9aSYyP2o6IiI7ZWxzZSBpZig0ODw9SSYmNTc+PUkpaj1pJjE/ajoiIjtlbHNlIGlmKFI9ai5jaGFyQ29kZUF0KDEpLHY9ai5jaGFyQ29kZUF0KDIpLFA9NDg8PVImJjU3Pj1SLFM9NDg8PXYmJjU3Pj12LDQzPT09SSYmKFB8fDQ2PT09UiYmUykpaj1pJjE/KFA/IiI6IjAiKStqLnN1YnN0cmluZygxKToiIjtlbHNlIGlmKDQ1PT09SSYmKFB8fDQ2PT09UiYmUykpaj1pJjQ/KFA/Ii0iOiItMCIpK2ouc3Vic3RyaW5nKDEpOmkmMT8iMCI6IiI7ZWxzZSBpZig0Nj09PUkmJlApaj1pJjE/IjAiK2o6IiI7ZWxzZSBpZigndXJsKCInPT09ai5zdWJzdHJpbmcoMCw1KSlqPWsmJmkmMTY/Zyh4KE0oZSxiW3JdLnN1YnN0cmluZyg1LGoubGVuZ3RoLTIpKSxmLGspKToKIiI7ZWxzZSBpZigiKCI9PT1qLmNoYXJBdChqLmxlbmd0aC0xKSlhOntEPWI7Rz1yO2o9MTtLPUcrMTtmb3IoST1ELmxlbmd0aDtLPEkmJmo7KUE9RFtLKytdLGorPSIpIj09PUE/LTE6L15bXiInXSpcKCQvLnRlc3QoQSk7aWYoIWope2o9RFtHXS50b0xvd2VyQ2FzZSgpO0k9RShqKTtEPUQuc3BsaWNlKEcsSy1HLCIiKTtHPXUuY3NzRm5zO0s9MDtmb3IoQT1HLmxlbmd0aDtLPEE7KytLKWlmKEdbS10uc3Vic3RyaW5nKDAsSS5sZW5ndGgpPT1JKXtEWzBdPURbRC5sZW5ndGgtMV09IiI7eShHW0tdLEQsayxlKTtqPWorRC5qb2luKCIgIikrIikiO2JyZWFrIGF9fWo9IiJ9ZWxzZSBqPUImJi9eLT9bYS16X11bXHdcLV0qJC8udGVzdChqKSYmIS9fXyQvLnRlc3Qoaik/TiYmNTEyPT09Qj9iW3JdK046MTAyND09PUImJkxbal0mJiJudW1iZXIiPT09dHlwZW9mIExbal0ub2E/ajoiIjovXlx3KyQvLnRlc3QoaikmJjY0PT09cSYmaSY4P0YrMT09PW8/KGJbRl09YltGXS5zdWJzdHJpbmcoMCwKYltGXS5sZW5ndGgtMSkrIiAiK2orJyInLCIiKTooRj1vLCciJytqKyciJyk6IiJ9aiYmKGJbbysrXT1qKX0xPT09byYmJ3VybCgiYWJvdXQ6YmxhbmsiKSc9PT1iWzBdJiYobz0wKTtiLmxlbmd0aD1vfX19KCk7dmFyIGs9UmVnRXhwKCJeKGFjdGl2ZXxhZnRlcnxiZWZvcmV8Ymxhbmt8Y2hlY2tlZHxkZWZhdWx0fGRpc2FibGVkfGRyb3B8ZW1wdHl8ZW5hYmxlZHxmaXJzdHxmaXJzdC1jaGlsZHxmaXJzdC1sZXR0ZXJ8Zmlyc3QtbGluZXxmaXJzdC1vZi10eXBlfGZ1bGxzY3JlZW58Zm9jdXN8aG92ZXJ8aW4tcmFuZ2V8aW5kZXRlcm1pbmF0ZXxpbnZhbGlkfGxhc3QtY2hpbGR8bGFzdC1vZi10eXBlfGxlZnR8bGlua3xvbmx5LWNoaWxkfG9ubHktb2YtdHlwZXxvcHRpb25hbHxvdXQtb2YtcmFuZ2V8cGxhY2Vob2xkZXItc2hvd258cmVhZC1vbmx5fHJlYWQtd3JpdGV8cmVxdWlyZWR8cmlnaHR8cm9vdHxzY29wZXx1c2VyLWVycm9yfHZhbGlkfHZpc2l0ZWQpJCIpLGY9e307ZlsiPiJdPQpmWyIrIl09ZlsifiJdPWY7YmE9ZnVuY3Rpb24oYSxkLGIpe2Z1bmN0aW9uIGcoaSxyKXtmdW5jdGlvbiBvKGIsZixnKXt2YXIgeSxlLGksbCxvLG09bjt5PSIiO2lmKGI8ZilpZihvPWFbYl0sIioiPT09bykrK2IseT1vO2Vsc2UgaWYoL15bYS16QS1aXS8udGVzdChvKSYmKGU9eChvLnRvTG93ZXJDYXNlKCksW10pKSkidGFnTmFtZSJpbiBlJiYobz1lLnRhZ05hbWUpLCsrYix5PW87Zm9yKGw9aT1lPSIiO20mJmI8ZjsrK2IpaWYobz1hW2JdLCIjIj09PW8uY2hhckF0KDApKS9eI198X18kfFteXHcjOlwtXS8udGVzdChvKT9tPUM6ZSs9byt2O2Vsc2UgaWYoIi4iPT09bykrK2I8ZiYmL15bMC05QS1aYS16Ol9cLV0rJC8udGVzdChvPWFbYl0pJiYhL15ffF9fJC8udGVzdChvKT9lKz0iLiIrbzptPUM7ZWxzZSBpZihiKzE8ZiYmIlsiPT09YVtiXSl7KytiO3ZhciBIPWFbYisrXS50b0xvd2VyQ2FzZSgpO289JC5tW3krIjo6IitIXTtvIT09K28mJihvPSQubVsiKjo6IitIXSk7dmFyIFc7CmQuaWE/KFc9ZC5pYSh5LEgpLCJzdHJpbmciIT09dHlwZW9mIFcmJihtPUMsVz1IKSxtJiZvIT09K28mJihvPSQuZC5OT05FKSk6KFc9SCxvIT09K28mJihtPUMpKTt2YXIgcD1IPSIiLGNhPUM7L15bfl4kKnxdPz0kLy50ZXN0KGFbYl0pJiYoSD1hW2IrK10scD1hW2IrK10sL15bMC05QS1aYS16Ol9cLV0rJC8udGVzdChwKT9wPSciJytwKyciJzoiXSI9PT1wJiYocD0nIiInLC0tYiksL14iKFteXCJcXF18XFwuKSoiJC8udGVzdChwKXx8KG09QyksKGNhPSJpIj09PWFbYl0pJiYrK2IpOyJdIiE9PWFbYl0mJigrK2IsbT1DKTtzd2l0Y2gobyl7Y2FzZSAkLmQuQ0xBU1NFUzpjYXNlICQuZC5MT0NBTF9OQU1FOmNhc2UgJC5kLk5PTkU6YnJlYWs7Y2FzZSAkLmQuR0xPQkFMX05BTUU6Y2FzZSAkLmQuSUQ6Y2FzZSAkLmQuSURSRUY6KCI9Ij09PUh8fCJ+PSI9PT1IfHwiJD0iPT09SCkmJiciIichPXAmJiFjYT9wPSciJytwLnN1YnN0cmluZygxLHAubGVuZ3RoLTEpK3YrJyInOiJ8PSI9PT0KSHx8IiI9PT1IfHwobT1DKTticmVhaztjYXNlICQuZC5VUkk6Y2FzZSAkLmQuVVJJX0ZSQUdNRU5UOiIiIT09SCYmKG09Qyk7YnJlYWs7ZGVmYXVsdDptPUN9bSYmKGkrPSJbIitXLnJlcGxhY2UoL1teXHctXS9nLCJcXCQmIikrSCtwKyhjYT8iIGldIjoiXSIpKX1lbHNlIGlmKGI8ZiYmIjoiPT09YVtiXSlpZihvPWFbKytiXSxrLnRlc3QobykpbCs9IjoiK287ZWxzZSBicmVhaztlbHNlIGJyZWFrO2IhPT1mJiYobT1DKTttJiYoYj0oeStlKS5yZXBsYWNlKC9bXiAuKiNcdy1dL2csIlxcJCYiKStpK2wrZykmJmoucHVzaChiKTtyZXR1cm4gbX0iICI9PT1hW2ldJiYrK2k7ci0xIT09aSYmIiAiPT09YVtyXSYmLS1yO2Zvcih2YXIgaj1bXSxsPWkscT1uLHU9aTtxJiZ1PHI7Kyt1KXt2YXIgQj1hW3VdO2lmKGZbQl09PT1mfHwiICI9PT1CKW8obCx1LEIpP2w9dSsxOnE9Q31vKGwsciwiIil8fChxPUMpO3JldHVybiBxPyhqLmxlbmd0aCYmKGw9ai5qb2luKCIiKSxlIT09cyYmKGw9Ii4iKwplKyIgIitsKSxOLnB1c2gobCkpLG4pOiFifHxiKGEuc2xpY2UoaSxyKSl9dmFyIGU9ZC5uYSx2PWQuTCx4PWQuQWEsTj1bXSx1PTAsaSxxPTAsQjtmb3IoaT0wO2k8YS5sZW5ndGg7KytpKWlmKEI9YVtpXSwiKCI9PUJ8fCJbIj09Qj8oKytxLG4pOiIpIj09Qnx8Il0iPT1CPyhxJiYtLXEsbik6ISgiICI9PWFbaV0mJihxfHxmW2FbaS0xXV09PT1mfHxmW2FbaSsxXV09PT1mKSkpYVt1KytdPWFbaV07YS5sZW5ndGg9dTt1PWEubGVuZ3RoO2ZvcihpPXE9MDtpPHU7KytpKWlmKCIsIj09PWFbaV0pe2lmKCFnKHEsaSkpcmV0dXJuIHM7cT1pKzF9cmV0dXJuIWcocSx1KT9zOk59OyhmdW5jdGlvbigpe3ZhciBhPS9eXHcvLGQ9UmVnRXhwKCJeKD86KD86KD86KD86b25seXxub3QpICk/KD86YWxsfGF1cmFsfGJyYWlsbGV8ZW1ib3NzZWR8aGFuZGhlbGR8cHJpbnR8cHJvamVjdGlvbnxzY3JlZW58c3BlZWNofHR0eXx0dil8XFwoICg/Oig/Om1pbi18bWF4LSk/KD86KD86ZGV2aWNlLSk/KD86YXNwZWN0LXJhdGlvfGhlaWdodHx3aWR0aCl8Y29sb3IoPzotaW5kZXgpP3xtb25vY2hyb21lfG9yaWVudGF0aW9ufHJlc29sdXRpb24pfGdyaWR8aG92ZXJ8bHVtaW5vc2l0eXxwb2ludGVyfHNjYW58c2NyaXB0KSAoPzo6IC0/KD86W2Etel1cXHcrKD86LVxcdyspKnxcXGQrKD86IC8gXFxkK3woPzpcXC5cXGQrKT8oPzpwW2N4dF18W2NlbV1tfGlufGRwaXxkcHB4fGRwY218JSk/KSkgKT9cXCkpKD86IGFuZCA/XFwoICg/Oig/Om1pbi18bWF4LSk/KD86KD86ZGV2aWNlLSk/KD86YXNwZWN0LXJhdGlvfGhlaWdodHx3aWR0aCl8Y29sb3IoPzotaW5kZXgpP3xtb25vY2hyb21lfG9yaWVudGF0aW9ufHJlc29sdXRpb24pfGdyaWR8aG92ZXJ8bHVtaW5vc2l0eXxwb2ludGVyfHNjYW58c2NyaXB0KSAoPzo6IC0/KD86W2Etel1cXHcrKD86LVxcdyspKnxcXGQrKD86IC8gXFxkK3woPzpcXC5cXGQrKT8oPzpwW2N4dF18W2NlbV1tfGlufGRwaXxkcHB4fGRwY218JSk/KSkgKT9cXCkpKikoPzogLCAoPzooPzooPzooPzpvbmx5fG5vdCkgKT8oPzphbGx8YXVyYWx8YnJhaWxsZXxlbWJvc3NlZHxoYW5kaGVsZHxwcmludHxwcm9qZWN0aW9ufHNjcmVlbnxzcGVlY2h8dHR5fHR2KXxcXCggKD86KD86bWluLXxtYXgtKT8oPzooPzpkZXZpY2UtKT8oPzphc3BlY3QtcmF0aW98aGVpZ2h0fHdpZHRoKXxjb2xvcig/Oi1pbmRleCk/fG1vbm9jaHJvbWV8b3JpZW50YXRpb258cmVzb2x1dGlvbil8Z3JpZHxob3ZlcnxsdW1pbm9zaXR5fHBvaW50ZXJ8c2NhbnxzY3JpcHQpICg/OjogLT8oPzpbYS16XVxcdysoPzotXFx3KykqfFxcZCsoPzogLyBcXGQrfCg/OlxcLlxcZCspPyg/OnBbY3h0XXxbY2VtXW18aW58ZHBpfGRwcHh8ZHBjbXwlKT8pKSApP1xcKSkoPzogYW5kID9cXCggKD86KD86bWluLXxtYXgtKT8oPzooPzpkZXZpY2UtKT8oPzphc3BlY3QtcmF0aW98aGVpZ2h0fHdpZHRoKXxjb2xvcig/Oi1pbmRleCk/fG1vbm9jaHJvbWV8b3JpZW50YXRpb258cmVzb2x1dGlvbil8Z3JpZHxob3ZlcnxsdW1pbm9zaXR5fHBvaW50ZXJ8c2NhbnxzY3JpcHQpICg/OjogLT8oPzpbYS16XVxcdysoPzotXFx3KykqfFxcZCsoPzogLyBcXGQrfCg/OlxcLlxcZCspPyg/OnBbY3h0XXxbY2VtXW18aW58ZHBpfGRwcHh8ZHBjbXwlKT8pKSApP1xcKSkqKSkqJCIsCiJpIik7Wj1mdW5jdGlvbihiKXtmb3IodmFyIGI9Yi5zbGljZSgpLGY9Yi5sZW5ndGgsZz0wLGs9MDtrPGY7KytrKXt2YXIgZT1iW2tdOyIgIiE9ZSYmKGJbZysrXT1lKX1iLmxlbmd0aD1nO2I9Yi5qb2luKCIgIik7cmV0dXJuIGI9IWIubGVuZ3RoPyIiOiFkLnRlc3QoYik/Im5vdCBhbGwiOmEudGVzdChiKT9iOiJub3QgYWxsICwgIitifX0pKCk7KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShiKXt2YXIgZD0vXlxzKlsnXShbXiddKilbJ11ccyokLyxmPS9eXHMqdXJsXHMqWyhdWyJdKFteIl0qKVsiXVspXVxzKiQvLGc9L15ccyp1cmxccypbKF1bJ10oW14nXSopWyddWyldXHMqJC8saD0vXlxzKnVybFxzKlsoXShbXildKilbKV1ccyokLyxrO3JldHVybihrPS9eXHMqWyJdKFteIl0qKVsiXVxzKiQvLmV4ZWMoYikpfHwoaz1kLmV4ZWMoYikpfHwoaz1mLmV4ZWMoYikpfHwoaz1nLmV4ZWMoYikpfHwoaz1oLmV4ZWMoYikpP2tbMV06c31mdW5jdGlvbiBiKGYsZyxrLGUsdix3LHUpe2Z1bmN0aW9uIGkoKXtyPQpGLmxlbmd0aCYmRltGLmxlbmd0aC0xXT09PXN9dmFyIHE9YyxCPXV8fFswXSxGPVtdLHI9QztmYShnLHtzdGFydFN0eWxlc2hlZXQ6ZnVuY3Rpb24oKXtxPVtdfSxlbmRTdHlsZXNoZWV0OmZ1bmN0aW9uKCl7fSxzdGFydEF0cnVsZTpmdW5jdGlvbihnLGope2lmKHIpZz1zO2Vsc2UgaWYoIkBtZWRpYSI9PT1nKXEucHVzaCgiQG1lZGlhIiwiICIsWihqKSk7ZWxzZSBpZigiQGtleWZyYW1lcyI9PT1nfHwiQC13ZWJraXQta2V5ZnJhbWVzIj09PWcpe3ZhciBpPWpbMF07MT09PWoubGVuZ3RoJiYhL19fJHxbXlx3XC1dLy50ZXN0KGkpPyhxLnB1c2goZywiICIsaStrLkwpLGc9IkBrZXlmcmFtZXMiKTpnPXN9ZWxzZSBpZigiQGltcG9ydCI9PT1nJiYwPGoubGVuZ3RoKWlmKGc9cywiZnVuY3Rpb24iPT09dHlwZW9mIHcpe3ZhciBsPVooai5zbGljZSgxKSk7aWYoIm5vdCBhbGwiIT09bCl7KytCWzBdO3ZhciB1PVtdO3EucHVzaCh1KTt2YXIgRT14KE0oZixhKGpbMF0pKSxmdW5jdGlvbihhKXt2YXIgZj0KYihFLGEucWEsayxlLHYsdyxCKTstLUJbMF07YT1sP3t0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiJAbWVkaWEgIitsKyIgeyIrZi5yZXN1bHQrIn0ifX06Zi5yZXN1bHQ7dVswXT1hO3coYSwhIUJbMF0pfSx2KX19ZWxzZSB3aW5kb3cuY29uc29sZSYmd2luZG93LmNvbnNvbGUubG9nKCJAaW1wb3J0ICIrai5qb2luKCIgIikrIiBlbGlkZWQiKTtyPSFnO0YucHVzaChnKX0sZW5kQXRydWxlOmZ1bmN0aW9uKCl7Ri5wb3AoKTtyfHxxLnB1c2goIjsiKTtpKCl9LHN0YXJ0QmxvY2s6ZnVuY3Rpb24oKXtyfHxxLnB1c2goInsiKX0sZW5kQmxvY2s6ZnVuY3Rpb24oKXtyfHwocS5wdXNoKCJ9Iikscj1uKX0sc3RhcnRSdWxlc2V0OmZ1bmN0aW9uKGEpe2lmKCFyKXt2YXIgYj1jOyJAa2V5ZnJhbWVzIj09PUZbRi5sZW5ndGgtMV0/KGI9YS5qb2luKCIgIikubWF0Y2goL14gKig/OmZyb218dG98XGQrKD86XC5cZCspPyUpICooPzosICooPzpmcm9tfHRvfFxkKyg/OlwuXGQrKT8lKSAqKSokL2kpLApyPSFiLGImJihiPWJbMF0ucmVwbGFjZSgvICsvZywiIikpKTooYT1iYShhLGspLCFhfHwhYS5sZW5ndGg/cj1uOmI9YS5qb2luKCIsICIpKTtyfHxxLnB1c2goYiwieyIpfUYucHVzaChzKX0sZW5kUnVsZXNldDpmdW5jdGlvbigpe0YucG9wKCk7cnx8cS5wdXNoKCJ9Iik7aSgpfSxkZWNsYXJhdGlvbjpmdW5jdGlvbihhLGIpe2lmKCFyKXt2YXIgZD1DLGc9Yi5sZW5ndGg7Mjw9ZyYmIiEiPT09YltnLTJdJiYiaW1wb3J0YW50Ij09PWJbZy0xXS50b0xvd2VyQ2FzZSgpJiYoZD1uLGIubGVuZ3RoLT0yKTthYShhLGIsZSxmLGsuTCk7Yi5sZW5ndGgmJnEucHVzaChhLCI6IixiLmpvaW4oIiAiKSxkPyIgIWltcG9ydGFudDsiOiI7Iil9fX0pO3JldHVybntyZXN1bHQ6e3RvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHEuam9pbigiIil9fSx2YTohIUJbMF19fWRhPWZ1bmN0aW9uKGEsZixnLGspe3JldHVybiBiKGEsZixnLGssYyxjKS5yZXN1bHQudG9TdHJpbmcoKX19KSgpfSkoKTsKInVuZGVmaW5lZCIhPT10eXBlb2Ygd2luZG93JiYod2luZG93LnNhbml0aXplQ3NzUHJvcGVydHk9YWEsd2luZG93LnNhbml0aXplQ3NzU2VsZWN0b3JMaXN0PWJhLHdpbmRvdy5zYW5pdGl6ZVN0eWxlc2hlZXQ9ZGEsd2luZG93LnNhbml0aXplTWVkaWFRdWVyeT1aKTt2YXIgZmEsZ2E7CihmdW5jdGlvbigpe2Z1bmN0aW9uIGcoYixhLGcsZixoKXtmb3IodmFyIGQ9YSsrO2E8ZyYmInsiIT09YlthXSYmIjsiIT09YlthXTspKythO2lmKGE8ZyYmKGh8fCI7Ij09PWJbYV0pKXt2YXIgaD1kKzEsZT1hO2g8ZyYmIiAiPT09YltoXSYmKytoO2U+aCYmIiAiPT09YltlLTFdJiYtLWU7Zi5zdGFydEF0cnVsZSYmZi5zdGFydEF0cnVsZShiW2RdLnRvTG93ZXJDYXNlKCksYi5zbGljZShoLGUpKTthPSJ7Ij09PWJbYV0/dyhiLGEsZyxmKTphKzE7Zi5lbmRBdHJ1bGUmJmYuZW5kQXRydWxlKCl9cmV0dXJuIGF9ZnVuY3Rpb24gdyhiLGEsayxmKXsrK2E7Zm9yKGYuc3RhcnRCbG9jayYmZi5zdGFydEJsb2NrKCk7YTxrOyl7dmFyIGg9YlthXS5jaGFyQXQoMCk7aWYoIn0iPT1oKXsrK2E7YnJlYWt9YT0iICI9PT1ofHwiOyI9PT1oP2ErMToiQCI9PT1oP2coYixhLGssZixDKToieyI9PT1oP3coYixhLGssZik6TShiLGEsayxmKX1mLmVuZEJsb2NrJiZmLmVuZEJsb2NrKCk7cmV0dXJuIGF9CmZ1bmN0aW9uIE0oYixhLGcsZil7dmFyIGg9YSxkPXgoYixhLGcsbik7aWYoMD5kKXJldHVybiBkPX5kLGQ9PT1oP2QrMTpkO3ZhciB5PWJbZF07aWYoInsiIT09eSlyZXR1cm4gZD09PWg/ZCsxOmQ7YT1kKzE7ZD5oJiYiICI9PT1iW2QtMV0mJi0tZDtmb3IoZi5zdGFydFJ1bGVzZXQmJmYuc3RhcnRSdWxlc2V0KGIuc2xpY2UoaCxkKSk7YTxnOyl7eT1iW2FdO2lmKCJ9Ij09PXkpeysrYTticmVha31hPSIgIj09PXk/YSsxOmUoYixhLGcsZil9Zi5lbmRSdWxlc2V0JiZmLmVuZFJ1bGVzZXQoKTtyZXR1cm4gYX1mdW5jdGlvbiB4KGIsYSxnLGYpe2Zvcih2YXIgaCxkPVtdLGU9LTE7YTxnOysrYSlpZihoPWJbYV0uY2hhckF0KDApLCJbIj09PWh8fCIoIj09PWgpZFsrK2VdPWg7ZWxzZSBpZigiXSI9PT1oJiYiWyI9PT1kW2VdfHwiKSI9PT1oJiYiKCI9PT1kW2VdKS0tZTtlbHNlIGlmKCJ7Ij09PWh8fCJ9Ij09PWh8fCI7Ij09PWh8fCJAIj09PWh8fCI6Ij09PWgmJiFmKWJyZWFrOzA8PQplJiYoYT1+KGErMSkpO3JldHVybiBhfWZ1bmN0aW9uIEUoYixhLGcpe2Zvcig7YTxnJiYiOyIhPT1iW2FdJiYifSIhPT1iW2FdOykrK2E7cmV0dXJuIGE8ZyYmIjsiPT09YlthXT9hKzE6YX1mdW5jdGlvbiBlKGIsYSxnLGYpe3ZhciBoPWJbYSsrXTtpZighdi50ZXN0KGgpKXJldHVybiBFKGIsYSxnKTthPGcmJiIgIj09PWJbYV0mJisrYTtpZihhPT1nfHwiOiIhPT1iW2FdKXJldHVybiBFKGIsYSxnKTsrK2E7YTxnJiYiICI9PT1iW2FdJiYrK2E7dmFyIGQ9eChiLGEsZyxDKTtpZigwPmQpZD1+ZDtlbHNle2Zvcih2YXIgZT1bXSxsPTAsdz1hO3c8ZDsrK3cpYT1iW3ddLCIgIiE9PWEmJihlW2wrK109YSk7aWYoZDxnKXtkb3thPWJbZF07aWYoIjsiPT09YXx8In0iPT09YSlicmVhaztsPTB9d2hpbGUoKytkPGcpOyI7Ij09PWEmJisrZH1sJiZmLmRlY2xhcmF0aW9uJiZmLmRlY2xhcmF0aW9uKGgudG9Mb3dlckNhc2UoKSxlKX1yZXR1cm4gZH1mYT1mdW5jdGlvbihiLGEpe3ZhciBlPVUoYik7CmEuc3RhcnRTdHlsZXNoZWV0JiZhLnN0YXJ0U3R5bGVzaGVldCgpO2Zvcih2YXIgZj0wLGg9ZS5sZW5ndGg7ZjxoOylmPSIgIj09PWVbZl0/ZisxOmY8aD8iQCI9PT1lW2ZdLmNoYXJBdCgwKT9nKGUsZixoLGEsbik6TShlLGYsaCxhKTpmO2EuZW5kU3R5bGVzaGVldCYmYS5lbmRTdHlsZXNoZWV0KCl9O3ZhciB2PS9eLT9bYS16XS9pO2dhPWZ1bmN0aW9uKGIsYSl7Zm9yKHZhciBnPVUoYiksZj0wLGg9Zy5sZW5ndGg7ZjxoOylmPSIgIiE9PWdbZl0/ZShnLGYsaCxhKTpmKzF9fSkoKTsidW5kZWZpbmVkIiE9PXR5cGVvZiB3aW5kb3cmJih3aW5kb3cucGFyc2VDc3NTdHlsZXNoZWV0PWZhLHdpbmRvdy5wYXJzZUNzc0RlY2xhcmF0aW9ucz1nYSk7dmFyICQ9e2Q6e05PTkU6MCxVUkk6MSxVUklfRlJBR01FTlQ6MTEsU0NSSVBUOjIsU1RZTEU6MyxIVE1MOjEyLElEOjQsSURSRUY6NSxJRFJFRlM6NixHTE9CQUxfTkFNRTo3LExPQ0FMX05BTUU6OCxDTEFTU0VTOjksRlJBTUVfVEFSR0VUOjEwLE1FRElBX1FVRVJZOjEzfX07JC5hdHlwZT0kLmQ7CiQubT17Iio6OmNsYXNzIjo5LCIqOjpkaXIiOjAsIio6OmRyYWdnYWJsZSI6MCwiKjo6aGlkZGVuIjowLCIqOjppZCI6NCwiKjo6aW5lcnQiOjAsIio6Oml0ZW1wcm9wIjowLCIqOjppdGVtcmVmIjo2LCIqOjppdGVtc2NvcGUiOjAsIio6OmxhbmciOjAsIio6Om9uYmx1ciI6MiwiKjo6b25jaGFuZ2UiOjIsIio6Om9uY2xpY2siOjIsIio6Om9uZGJsY2xpY2siOjIsIio6Om9uZXJyb3IiOjIsIio6Om9uZm9jdXMiOjIsIio6Om9ua2V5ZG93biI6MiwiKjo6b25rZXlwcmVzcyI6MiwiKjo6b25rZXl1cCI6MiwiKjo6b25sb2FkIjoyLCIqOjpvbm1vdXNlZG93biI6MiwiKjo6b25tb3VzZW1vdmUiOjIsIio6Om9ubW91c2VvdXQiOjIsIio6Om9ubW91c2VvdmVyIjoyLCIqOjpvbm1vdXNldXAiOjIsIio6Om9ucmVzZXQiOjIsIio6Om9uc2Nyb2xsIjoyLCIqOjpvbnNlbGVjdCI6MiwiKjo6b25zdWJtaXQiOjIsIio6Om9udG91Y2hjYW5jZWwiOjIsIio6Om9udG91Y2hlbmQiOjIsIio6Om9udG91Y2hlbnRlciI6MiwKIio6Om9udG91Y2hsZWF2ZSI6MiwiKjo6b250b3VjaG1vdmUiOjIsIio6Om9udG91Y2hzdGFydCI6MiwiKjo6b251bmxvYWQiOjIsIio6OnNwZWxsY2hlY2siOjAsIio6OnN0eWxlIjozLCIqOjp0YWJpbmRleCI6MCwiKjo6dGl0bGUiOjAsIio6OnRyYW5zbGF0ZSI6MCwiYTo6YWNjZXNza2V5IjowLCJhOjpjb29yZHMiOjAsImE6OmhyZWYiOjEsImE6OmhyZWZsYW5nIjowLCJhOjpuYW1lIjo3LCJhOjpvbmJsdXIiOjIsImE6Om9uZm9jdXMiOjIsImE6OnNoYXBlIjowLCJhOjp0YXJnZXQiOjEwLCJhOjp0eXBlIjowLCJhcmVhOjphY2Nlc3NrZXkiOjAsImFyZWE6OmFsdCI6MCwiYXJlYTo6Y29vcmRzIjowLCJhcmVhOjpocmVmIjoxLCJhcmVhOjpub2hyZWYiOjAsImFyZWE6Om9uYmx1ciI6MiwiYXJlYTo6b25mb2N1cyI6MiwiYXJlYTo6c2hhcGUiOjAsImFyZWE6OnRhcmdldCI6MTAsImF1ZGlvOjpjb250cm9scyI6MCwiYXVkaW86Omxvb3AiOjAsImF1ZGlvOjptZWRpYWdyb3VwIjo1LAoiYXVkaW86Om11dGVkIjowLCJhdWRpbzo6cHJlbG9hZCI6MCwiYXVkaW86OnNyYyI6MSwiYmRvOjpkaXIiOjAsImJsb2NrcXVvdGU6OmNpdGUiOjEsImJyOjpjbGVhciI6MCwiYnV0dG9uOjphY2Nlc3NrZXkiOjAsImJ1dHRvbjo6ZGlzYWJsZWQiOjAsImJ1dHRvbjo6bmFtZSI6OCwiYnV0dG9uOjpvbmJsdXIiOjIsImJ1dHRvbjo6b25mb2N1cyI6MiwiYnV0dG9uOjp0eXBlIjowLCJidXR0b246OnZhbHVlIjowLCJjYW52YXM6OmhlaWdodCI6MCwiY2FudmFzOjp3aWR0aCI6MCwiY2FwdGlvbjo6YWxpZ24iOjAsImNvbDo6YWxpZ24iOjAsImNvbDo6Y2hhciI6MCwiY29sOjpjaGFyb2ZmIjowLCJjb2w6OnNwYW4iOjAsImNvbDo6dmFsaWduIjowLCJjb2w6OndpZHRoIjowLCJjb2xncm91cDo6YWxpZ24iOjAsImNvbGdyb3VwOjpjaGFyIjowLCJjb2xncm91cDo6Y2hhcm9mZiI6MCwiY29sZ3JvdXA6OnNwYW4iOjAsImNvbGdyb3VwOjp2YWxpZ24iOjAsImNvbGdyb3VwOjp3aWR0aCI6MCwKImNvbW1hbmQ6OmNoZWNrZWQiOjAsImNvbW1hbmQ6OmNvbW1hbmQiOjUsImNvbW1hbmQ6OmRpc2FibGVkIjowLCJjb21tYW5kOjppY29uIjoxLCJjb21tYW5kOjpsYWJlbCI6MCwiY29tbWFuZDo6cmFkaW9ncm91cCI6MCwiY29tbWFuZDo6dHlwZSI6MCwiZGF0YTo6dmFsdWUiOjAsImRlbDo6Y2l0ZSI6MSwiZGVsOjpkYXRldGltZSI6MCwiZGV0YWlsczo6b3BlbiI6MCwiZGlyOjpjb21wYWN0IjowLCJkaXY6OmFsaWduIjowLCJkbDo6Y29tcGFjdCI6MCwiZmllbGRzZXQ6OmRpc2FibGVkIjowLCJmb250Ojpjb2xvciI6MCwiZm9udDo6ZmFjZSI6MCwiZm9udDo6c2l6ZSI6MCwiZm9ybTo6YWNjZXB0IjowLCJmb3JtOjphY3Rpb24iOjEsImZvcm06OmF1dG9jb21wbGV0ZSI6MCwiZm9ybTo6ZW5jdHlwZSI6MCwiZm9ybTo6bWV0aG9kIjowLCJmb3JtOjpuYW1lIjo3LCJmb3JtOjpub3ZhbGlkYXRlIjowLCJmb3JtOjpvbnJlc2V0IjoyLCJmb3JtOjpvbnN1Ym1pdCI6MiwiZm9ybTo6dGFyZ2V0IjoxMCwKImgxOjphbGlnbiI6MCwiaDI6OmFsaWduIjowLCJoMzo6YWxpZ24iOjAsImg0OjphbGlnbiI6MCwiaDU6OmFsaWduIjowLCJoNjo6YWxpZ24iOjAsImhyOjphbGlnbiI6MCwiaHI6Om5vc2hhZGUiOjAsImhyOjpzaXplIjowLCJocjo6d2lkdGgiOjAsImlmcmFtZTo6YWxpZ24iOjAsImlmcmFtZTo6ZnJhbWVib3JkZXIiOjAsImlmcmFtZTo6aGVpZ2h0IjowLCJpZnJhbWU6Om1hcmdpbmhlaWdodCI6MCwiaWZyYW1lOjptYXJnaW53aWR0aCI6MCwiaWZyYW1lOjp3aWR0aCI6MCwiaW1nOjphbGlnbiI6MCwiaW1nOjphbHQiOjAsImltZzo6Ym9yZGVyIjowLCJpbWc6OmhlaWdodCI6MCwiaW1nOjpoc3BhY2UiOjAsImltZzo6aXNtYXAiOjAsImltZzo6bmFtZSI6NywiaW1nOjpzcmMiOjEsImltZzo6dXNlbWFwIjoxMSwiaW1nOjp2c3BhY2UiOjAsImltZzo6d2lkdGgiOjAsImlucHV0OjphY2NlcHQiOjAsImlucHV0OjphY2Nlc3NrZXkiOjAsImlucHV0OjphbGlnbiI6MCwiaW5wdXQ6OmFsdCI6MCwKImlucHV0OjphdXRvY29tcGxldGUiOjAsImlucHV0OjpjaGVja2VkIjowLCJpbnB1dDo6ZGlzYWJsZWQiOjAsImlucHV0OjppbnB1dG1vZGUiOjAsImlucHV0Ojppc21hcCI6MCwiaW5wdXQ6Omxpc3QiOjUsImlucHV0OjptYXgiOjAsImlucHV0OjptYXhsZW5ndGgiOjAsImlucHV0OjptaW4iOjAsImlucHV0OjptdWx0aXBsZSI6MCwiaW5wdXQ6Om5hbWUiOjgsImlucHV0OjpvbmJsdXIiOjIsImlucHV0OjpvbmNoYW5nZSI6MiwiaW5wdXQ6Om9uZm9jdXMiOjIsImlucHV0OjpvbnNlbGVjdCI6MiwiaW5wdXQ6OnBhdHRlcm4iOjAsImlucHV0OjpwbGFjZWhvbGRlciI6MCwiaW5wdXQ6OnJlYWRvbmx5IjowLCJpbnB1dDo6cmVxdWlyZWQiOjAsImlucHV0OjpzaXplIjowLCJpbnB1dDo6c3JjIjoxLCJpbnB1dDo6c3RlcCI6MCwiaW5wdXQ6OnR5cGUiOjAsImlucHV0Ojp1c2VtYXAiOjExLCJpbnB1dDo6dmFsdWUiOjAsImluczo6Y2l0ZSI6MSwiaW5zOjpkYXRldGltZSI6MCwibGFiZWw6OmFjY2Vzc2tleSI6MCwKImxhYmVsOjpmb3IiOjUsImxhYmVsOjpvbmJsdXIiOjIsImxhYmVsOjpvbmZvY3VzIjoyLCJsZWdlbmQ6OmFjY2Vzc2tleSI6MCwibGVnZW5kOjphbGlnbiI6MCwibGk6OnR5cGUiOjAsImxpOjp2YWx1ZSI6MCwibWFwOjpuYW1lIjo3LCJtZW51Ojpjb21wYWN0IjowLCJtZW51OjpsYWJlbCI6MCwibWVudTo6dHlwZSI6MCwibWV0ZXI6OmhpZ2giOjAsIm1ldGVyOjpsb3ciOjAsIm1ldGVyOjptYXgiOjAsIm1ldGVyOjptaW4iOjAsIm1ldGVyOjp2YWx1ZSI6MCwib2w6OmNvbXBhY3QiOjAsIm9sOjpyZXZlcnNlZCI6MCwib2w6OnN0YXJ0IjowLCJvbDo6dHlwZSI6MCwib3B0Z3JvdXA6OmRpc2FibGVkIjowLCJvcHRncm91cDo6bGFiZWwiOjAsIm9wdGlvbjo6ZGlzYWJsZWQiOjAsIm9wdGlvbjo6bGFiZWwiOjAsIm9wdGlvbjo6c2VsZWN0ZWQiOjAsIm9wdGlvbjo6dmFsdWUiOjAsIm91dHB1dDo6Zm9yIjo2LCJvdXRwdXQ6Om5hbWUiOjgsInA6OmFsaWduIjowLCJwcmU6OndpZHRoIjowLAoicHJvZ3Jlc3M6Om1heCI6MCwicHJvZ3Jlc3M6Om1pbiI6MCwicHJvZ3Jlc3M6OnZhbHVlIjowLCJxOjpjaXRlIjoxLCJzZWxlY3Q6OmF1dG9jb21wbGV0ZSI6MCwic2VsZWN0OjpkaXNhYmxlZCI6MCwic2VsZWN0OjptdWx0aXBsZSI6MCwic2VsZWN0OjpuYW1lIjo4LCJzZWxlY3Q6Om9uYmx1ciI6Miwic2VsZWN0OjpvbmNoYW5nZSI6Miwic2VsZWN0OjpvbmZvY3VzIjoyLCJzZWxlY3Q6OnJlcXVpcmVkIjowLCJzZWxlY3Q6OnNpemUiOjAsInNvdXJjZTo6dHlwZSI6MCwidGFibGU6OmFsaWduIjowLCJ0YWJsZTo6Ymdjb2xvciI6MCwidGFibGU6OmJvcmRlciI6MCwidGFibGU6OmNlbGxwYWRkaW5nIjowLCJ0YWJsZTo6Y2VsbHNwYWNpbmciOjAsInRhYmxlOjpmcmFtZSI6MCwidGFibGU6OnJ1bGVzIjowLCJ0YWJsZTo6c3VtbWFyeSI6MCwidGFibGU6OndpZHRoIjowLCJ0Ym9keTo6YWxpZ24iOjAsInRib2R5OjpjaGFyIjowLCJ0Ym9keTo6Y2hhcm9mZiI6MCwidGJvZHk6OnZhbGlnbiI6MCwKInRkOjphYmJyIjowLCJ0ZDo6YWxpZ24iOjAsInRkOjpheGlzIjowLCJ0ZDo6Ymdjb2xvciI6MCwidGQ6OmNoYXIiOjAsInRkOjpjaGFyb2ZmIjowLCJ0ZDo6Y29sc3BhbiI6MCwidGQ6OmhlYWRlcnMiOjYsInRkOjpoZWlnaHQiOjAsInRkOjpub3dyYXAiOjAsInRkOjpyb3dzcGFuIjowLCJ0ZDo6c2NvcGUiOjAsInRkOjp2YWxpZ24iOjAsInRkOjp3aWR0aCI6MCwidGV4dGFyZWE6OmFjY2Vzc2tleSI6MCwidGV4dGFyZWE6OmF1dG9jb21wbGV0ZSI6MCwidGV4dGFyZWE6OmNvbHMiOjAsInRleHRhcmVhOjpkaXNhYmxlZCI6MCwidGV4dGFyZWE6OmlucHV0bW9kZSI6MCwidGV4dGFyZWE6Om5hbWUiOjgsInRleHRhcmVhOjpvbmJsdXIiOjIsInRleHRhcmVhOjpvbmNoYW5nZSI6MiwidGV4dGFyZWE6Om9uZm9jdXMiOjIsInRleHRhcmVhOjpvbnNlbGVjdCI6MiwidGV4dGFyZWE6OnBsYWNlaG9sZGVyIjowLCJ0ZXh0YXJlYTo6cmVhZG9ubHkiOjAsInRleHRhcmVhOjpyZXF1aXJlZCI6MCwKInRleHRhcmVhOjpyb3dzIjowLCJ0ZXh0YXJlYTo6d3JhcCI6MCwidGZvb3Q6OmFsaWduIjowLCJ0Zm9vdDo6Y2hhciI6MCwidGZvb3Q6OmNoYXJvZmYiOjAsInRmb290Ojp2YWxpZ24iOjAsInRoOjphYmJyIjowLCJ0aDo6YWxpZ24iOjAsInRoOjpheGlzIjowLCJ0aDo6Ymdjb2xvciI6MCwidGg6OmNoYXIiOjAsInRoOjpjaGFyb2ZmIjowLCJ0aDo6Y29sc3BhbiI6MCwidGg6OmhlYWRlcnMiOjYsInRoOjpoZWlnaHQiOjAsInRoOjpub3dyYXAiOjAsInRoOjpyb3dzcGFuIjowLCJ0aDo6c2NvcGUiOjAsInRoOjp2YWxpZ24iOjAsInRoOjp3aWR0aCI6MCwidGhlYWQ6OmFsaWduIjowLCJ0aGVhZDo6Y2hhciI6MCwidGhlYWQ6OmNoYXJvZmYiOjAsInRoZWFkOjp2YWxpZ24iOjAsInRyOjphbGlnbiI6MCwidHI6OmJnY29sb3IiOjAsInRyOjpjaGFyIjowLCJ0cjo6Y2hhcm9mZiI6MCwidHI6OnZhbGlnbiI6MCwidHJhY2s6OmRlZmF1bHQiOjAsInRyYWNrOjpraW5kIjowLCJ0cmFjazo6bGFiZWwiOjAsCiJ0cmFjazo6c3JjbGFuZyI6MCwidWw6OmNvbXBhY3QiOjAsInVsOjp0eXBlIjowLCJ2aWRlbzo6Y29udHJvbHMiOjAsInZpZGVvOjpoZWlnaHQiOjAsInZpZGVvOjpsb29wIjowLCJ2aWRlbzo6bWVkaWFncm91cCI6NSwidmlkZW86Om11dGVkIjowLCJ2aWRlbzo6cG9zdGVyIjoxLCJ2aWRlbzo6cHJlbG9hZCI6MCwidmlkZW86OnNyYyI6MSwidmlkZW86OndpZHRoIjowfTskLkFUVFJJQlM9JC5tOyQuYz17T1BUSU9OQUxfRU5EVEFHOjEsRU1QVFk6MixDREFUQTo0LFJDREFUQTo4LFVOU0FGRToxNixGT0xEQUJMRTozMixTQ1JJUFQ6NjQsU1RZTEU6MTI4LFZJUlRVQUxJWkVEOjI1Nn07JC5lZmxhZ3M9JC5jOwokLmY9e2E6MCxhYmJyOjAsYWNyb255bTowLGFkZHJlc3M6MCxhcHBsZXQ6MjcyLGFyZWE6MixhcnRpY2xlOjAsYXNpZGU6MCxhdWRpbzowLGI6MCxiYXNlOjI3NCxiYXNlZm9udDoyNzQsYmRpOjAsYmRvOjAsYmlnOjAsYmxvY2txdW90ZTowLGJvZHk6MzA1LGJyOjIsYnV0dG9uOjAsY2FudmFzOjAsY2FwdGlvbjowLGNlbnRlcjowLGNpdGU6MCxjb2RlOjAsY29sOjIsY29sZ3JvdXA6MSxjb21tYW5kOjIsZGF0YTowLGRhdGFsaXN0OjAsZGQ6MSxkZWw6MCxkZXRhaWxzOjAsZGZuOjAsZGlhbG9nOjI3MixkaXI6MCxkaXY6MCxkbDowLGR0OjEsZW06MCxmaWVsZHNldDowLGZpZ2NhcHRpb246MCxmaWd1cmU6MCxmb250OjAsZm9vdGVyOjAsZm9ybTowLGZyYW1lOjI3NCxmcmFtZXNldDoyNzIsaDE6MCxoMjowLGgzOjAsaDQ6MCxoNTowLGg2OjAsaGVhZDozMDUsaGVhZGVyOjAsaGdyb3VwOjAsaHI6MixodG1sOjMwNSxpOjAsaWZyYW1lOjQsaW1nOjIsaW5wdXQ6MixpbnM6MCxpc2luZGV4OjI3NCwKa2JkOjAsa2V5Z2VuOjI3NCxsYWJlbDowLGxlZ2VuZDowLGxpOjEsbGluazoyNzQsbWFwOjAsbWFyazowLG1lbnU6MCxtZXRhOjI3NCxtZXRlcjowLG5hdjowLG5vYnI6MCxub2VtYmVkOjI3Nixub2ZyYW1lczoyNzYsbm9zY3JpcHQ6Mjc2LG9iamVjdDoyNzIsb2w6MCxvcHRncm91cDowLG9wdGlvbjoxLG91dHB1dDowLHA6MSxwYXJhbToyNzQscHJlOjAscHJvZ3Jlc3M6MCxxOjAsczowLHNhbXA6MCxzY3JpcHQ6ODQsc2VjdGlvbjowLHNlbGVjdDowLHNtYWxsOjAsc291cmNlOjIsc3BhbjowLHN0cmlrZTowLHN0cm9uZzowLHN0eWxlOjE0OCxzdWI6MCxzdW1tYXJ5OjAsc3VwOjAsdGFibGU6MCx0Ym9keToxLHRkOjEsdGV4dGFyZWE6OCx0Zm9vdDoxLHRoOjEsdGhlYWQ6MSx0aW1lOjAsdGl0bGU6MjgwLHRyOjEsdHJhY2s6Mix0dDowLHU6MCx1bDowLCJ2YXIiOjAsdmlkZW86MCx3YnI6Mn07JC5FTEVNRU5UUz0kLmY7CiQuUT17YToiSFRNTEFuY2hvckVsZW1lbnQiLGFiYnI6IkhUTUxFbGVtZW50IixhY3JvbnltOiJIVE1MRWxlbWVudCIsYWRkcmVzczoiSFRNTEVsZW1lbnQiLGFwcGxldDoiSFRNTEFwcGxldEVsZW1lbnQiLGFyZWE6IkhUTUxBcmVhRWxlbWVudCIsYXJ0aWNsZToiSFRNTEVsZW1lbnQiLGFzaWRlOiJIVE1MRWxlbWVudCIsYXVkaW86IkhUTUxBdWRpb0VsZW1lbnQiLGI6IkhUTUxFbGVtZW50IixiYXNlOiJIVE1MQmFzZUVsZW1lbnQiLGJhc2Vmb250OiJIVE1MQmFzZUZvbnRFbGVtZW50IixiZGk6IkhUTUxFbGVtZW50IixiZG86IkhUTUxFbGVtZW50IixiaWc6IkhUTUxFbGVtZW50IixibG9ja3F1b3RlOiJIVE1MUXVvdGVFbGVtZW50Iixib2R5OiJIVE1MQm9keUVsZW1lbnQiLGJyOiJIVE1MQlJFbGVtZW50IixidXR0b246IkhUTUxCdXR0b25FbGVtZW50IixjYW52YXM6IkhUTUxDYW52YXNFbGVtZW50IixjYXB0aW9uOiJIVE1MVGFibGVDYXB0aW9uRWxlbWVudCIsY2VudGVyOiJIVE1MRWxlbWVudCIsCmNpdGU6IkhUTUxFbGVtZW50Iixjb2RlOiJIVE1MRWxlbWVudCIsY29sOiJIVE1MVGFibGVDb2xFbGVtZW50Iixjb2xncm91cDoiSFRNTFRhYmxlQ29sRWxlbWVudCIsY29tbWFuZDoiSFRNTENvbW1hbmRFbGVtZW50IixkYXRhOiJIVE1MRWxlbWVudCIsZGF0YWxpc3Q6IkhUTUxEYXRhTGlzdEVsZW1lbnQiLGRkOiJIVE1MRWxlbWVudCIsZGVsOiJIVE1MTW9kRWxlbWVudCIsZGV0YWlsczoiSFRNTERldGFpbHNFbGVtZW50IixkZm46IkhUTUxFbGVtZW50IixkaWFsb2c6IkhUTUxEaWFsb2dFbGVtZW50IixkaXI6IkhUTUxEaXJlY3RvcnlFbGVtZW50IixkaXY6IkhUTUxEaXZFbGVtZW50IixkbDoiSFRNTERMaXN0RWxlbWVudCIsZHQ6IkhUTUxFbGVtZW50IixlbToiSFRNTEVsZW1lbnQiLGZpZWxkc2V0OiJIVE1MRmllbGRTZXRFbGVtZW50IixmaWdjYXB0aW9uOiJIVE1MRWxlbWVudCIsZmlndXJlOiJIVE1MRWxlbWVudCIsZm9udDoiSFRNTEZvbnRFbGVtZW50Iixmb290ZXI6IkhUTUxFbGVtZW50IiwKZm9ybToiSFRNTEZvcm1FbGVtZW50IixmcmFtZToiSFRNTEZyYW1lRWxlbWVudCIsZnJhbWVzZXQ6IkhUTUxGcmFtZVNldEVsZW1lbnQiLGgxOiJIVE1MSGVhZGluZ0VsZW1lbnQiLGgyOiJIVE1MSGVhZGluZ0VsZW1lbnQiLGgzOiJIVE1MSGVhZGluZ0VsZW1lbnQiLGg0OiJIVE1MSGVhZGluZ0VsZW1lbnQiLGg1OiJIVE1MSGVhZGluZ0VsZW1lbnQiLGg2OiJIVE1MSGVhZGluZ0VsZW1lbnQiLGhlYWQ6IkhUTUxIZWFkRWxlbWVudCIsaGVhZGVyOiJIVE1MRWxlbWVudCIsaGdyb3VwOiJIVE1MRWxlbWVudCIsaHI6IkhUTUxIUkVsZW1lbnQiLGh0bWw6IkhUTUxIdG1sRWxlbWVudCIsaToiSFRNTEVsZW1lbnQiLGlmcmFtZToiSFRNTElGcmFtZUVsZW1lbnQiLGltZzoiSFRNTEltYWdlRWxlbWVudCIsaW5wdXQ6IkhUTUxJbnB1dEVsZW1lbnQiLGluczoiSFRNTE1vZEVsZW1lbnQiLGlzaW5kZXg6IkhUTUxVbmtub3duRWxlbWVudCIsa2JkOiJIVE1MRWxlbWVudCIsa2V5Z2VuOiJIVE1MS2V5Z2VuRWxlbWVudCIsCmxhYmVsOiJIVE1MTGFiZWxFbGVtZW50IixsZWdlbmQ6IkhUTUxMZWdlbmRFbGVtZW50IixsaToiSFRNTExJRWxlbWVudCIsbGluazoiSFRNTExpbmtFbGVtZW50IixtYXA6IkhUTUxNYXBFbGVtZW50IixtYXJrOiJIVE1MRWxlbWVudCIsbWVudToiSFRNTE1lbnVFbGVtZW50IixtZXRhOiJIVE1MTWV0YUVsZW1lbnQiLG1ldGVyOiJIVE1MTWV0ZXJFbGVtZW50IixuYXY6IkhUTUxFbGVtZW50Iixub2JyOiJIVE1MRWxlbWVudCIsbm9lbWJlZDoiSFRNTEVsZW1lbnQiLG5vZnJhbWVzOiJIVE1MRWxlbWVudCIsbm9zY3JpcHQ6IkhUTUxFbGVtZW50IixvYmplY3Q6IkhUTUxPYmplY3RFbGVtZW50IixvbDoiSFRNTE9MaXN0RWxlbWVudCIsb3B0Z3JvdXA6IkhUTUxPcHRHcm91cEVsZW1lbnQiLG9wdGlvbjoiSFRNTE9wdGlvbkVsZW1lbnQiLG91dHB1dDoiSFRNTE91dHB1dEVsZW1lbnQiLHA6IkhUTUxQYXJhZ3JhcGhFbGVtZW50IixwYXJhbToiSFRNTFBhcmFtRWxlbWVudCIscHJlOiJIVE1MUHJlRWxlbWVudCIsCnByb2dyZXNzOiJIVE1MUHJvZ3Jlc3NFbGVtZW50IixxOiJIVE1MUXVvdGVFbGVtZW50IixzOiJIVE1MRWxlbWVudCIsc2FtcDoiSFRNTEVsZW1lbnQiLHNjcmlwdDoiSFRNTFNjcmlwdEVsZW1lbnQiLHNlY3Rpb246IkhUTUxFbGVtZW50IixzZWxlY3Q6IkhUTUxTZWxlY3RFbGVtZW50IixzbWFsbDoiSFRNTEVsZW1lbnQiLHNvdXJjZToiSFRNTFNvdXJjZUVsZW1lbnQiLHNwYW46IkhUTUxTcGFuRWxlbWVudCIsc3RyaWtlOiJIVE1MRWxlbWVudCIsc3Ryb25nOiJIVE1MRWxlbWVudCIsc3R5bGU6IkhUTUxTdHlsZUVsZW1lbnQiLHN1YjoiSFRNTEVsZW1lbnQiLHN1bW1hcnk6IkhUTUxFbGVtZW50IixzdXA6IkhUTUxFbGVtZW50Iix0YWJsZToiSFRNTFRhYmxlRWxlbWVudCIsdGJvZHk6IkhUTUxUYWJsZVNlY3Rpb25FbGVtZW50Iix0ZDoiSFRNTFRhYmxlRGF0YUNlbGxFbGVtZW50Iix0ZXh0YXJlYToiSFRNTFRleHRBcmVhRWxlbWVudCIsdGZvb3Q6IkhUTUxUYWJsZVNlY3Rpb25FbGVtZW50IiwKdGg6IkhUTUxUYWJsZUhlYWRlckNlbGxFbGVtZW50Iix0aGVhZDoiSFRNTFRhYmxlU2VjdGlvbkVsZW1lbnQiLHRpbWU6IkhUTUxUaW1lRWxlbWVudCIsdGl0bGU6IkhUTUxUaXRsZUVsZW1lbnQiLHRyOiJIVE1MVGFibGVSb3dFbGVtZW50Iix0cmFjazoiSFRNTFRyYWNrRWxlbWVudCIsdHQ6IkhUTUxFbGVtZW50Iix1OiJIVE1MRWxlbWVudCIsdWw6IkhUTUxVTGlzdEVsZW1lbnQiLCJ2YXIiOiJIVE1MRWxlbWVudCIsdmlkZW86IkhUTUxWaWRlb0VsZW1lbnQiLHdicjoiSFRNTEVsZW1lbnQifTskLkVMRU1FTlRfRE9NX0lOVEVSRkFDRVM9JC5ROyQuUD17Tk9UX0xPQURFRDowLFNBTUVfRE9DVU1FTlQ6MSxORVdfRE9DVU1FTlQ6Mn07JC51ZWZmZWN0cz0kLlA7CiQuSj17ImE6OmhyZWYiOjIsImFyZWE6OmhyZWYiOjIsImF1ZGlvOjpzcmMiOjEsImJsb2NrcXVvdGU6OmNpdGUiOjAsImNvbW1hbmQ6Omljb24iOjEsImRlbDo6Y2l0ZSI6MCwiZm9ybTo6YWN0aW9uIjoyLCJpbWc6OnNyYyI6MSwiaW5wdXQ6OnNyYyI6MSwiaW5zOjpjaXRlIjowLCJxOjpjaXRlIjowLCJ2aWRlbzo6cG9zdGVyIjoxLCJ2aWRlbzo6c3JjIjoxfTskLlVSSUVGRkVDVFM9JC5KOyQuTT17VU5TQU5EQk9YRUQ6MixTQU5EQk9YRUQ6MSxEQVRBOjB9OyQubHR5cGVzPSQuTTskLkk9eyJhOjpocmVmIjoyLCJhcmVhOjpocmVmIjoyLCJhdWRpbzo6c3JjIjoyLCJibG9ja3F1b3RlOjpjaXRlIjoyLCJjb21tYW5kOjppY29uIjoxLCJkZWw6OmNpdGUiOjIsImZvcm06OmFjdGlvbiI6MiwiaW1nOjpzcmMiOjEsImlucHV0OjpzcmMiOjEsImluczo6Y2l0ZSI6MiwicTo6Y2l0ZSI6MiwidmlkZW86OnBvc3RlciI6MSwidmlkZW86OnNyYyI6Mn07JC5MT0FERVJUWVBFUz0kLkk7CiJ1bmRlZmluZWQiIT09dHlwZW9mIHdpbmRvdyYmKHdpbmRvdy5odG1sND0kKTt2YXIgaGE9ZnVuY3Rpb24oZyl7ZnVuY3Rpb24gdyhhKXtpZihpLmhhc093blByb3BlcnR5KGEpKXJldHVybiBpW2FdO3ZhciBiPWEubWF0Y2gocSk7cmV0dXJuIGI/U3RyaW5nLmZyb21DaGFyQ29kZShwYXJzZUludChiWzFdLDEwKSk6KGI9YS5tYXRjaChCKSk/U3RyaW5nLmZyb21DaGFyQ29kZShwYXJzZUludChiWzFdLDE2KSk6ciYmRi50ZXN0KGEpPyhyLmlubmVySFRNTD0iJiIrYSsiOyIsYj1yLnRleHRDb250ZW50LGlbYV09Yik6IiYiK2ErIjsifWZ1bmN0aW9uIE0oYSxiKXtyZXR1cm4gdyhiKX1mdW5jdGlvbiB4KGEpe3JldHVybiBhLnJlcGxhY2UoaixNKX1mdW5jdGlvbiBFKGEpe3JldHVybigiIithKS5yZXBsYWNlKFIsIiZhbXA7IikucmVwbGFjZShQLCImbHQ7IikucmVwbGFjZShTLCImZ3Q7IikucmVwbGFjZShELCImIzM0OyIpfWZ1bmN0aW9uIGUoYSl7cmV0dXJuIGEucmVwbGFjZShpYSwiJmFtcDskMSIpLnJlcGxhY2UoUCwiJmx0OyIpLnJlcGxhY2UoUywiJmd0OyIpfQpmdW5jdGlvbiB2KGIpe3ZhciBkPXt6OmIuenx8Yi5jZGF0YSxBOmIuQXx8Yi5jb21tZW50LEI6Yi5CfHxiLmVuZERvYyx0OmIudHx8Yi5lbmRUYWcsZTpiLmV8fGIucGNkYXRhLEY6Yi5GfHxiLnJjZGF0YSxIOmIuSHx8Yi5zdGFydERvYyx3OmIud3x8Yi5zdGFydFRhZ307cmV0dXJuIGZ1bmN0aW9uKGIsZyl7dmFyIGY7dmFyIEg9Lyg8XC98PFwhLS18PFshP118WyY8Pl0pL2c7Zj1iKyIiO2lmKEcpZj1mLnNwbGl0KEgpO2Vsc2V7Zm9yKHZhciBlPVtdLGg9MCxqOyhqPUguZXhlYyhmKSkhPT1zOyllLnB1c2goZi5zdWJzdHJpbmcoaCxqLmluZGV4KSksZS5wdXNoKGpbMF0pLGg9ai5pbmRleCtqWzBdLmxlbmd0aDtlLnB1c2goZi5zdWJzdHJpbmcoaCkpO2Y9ZX1hKGQsZiwwLHtyOkMsQzpDfSxnKX19ZnVuY3Rpb24gYihiLGQsZyxmLHQpe3JldHVybiBmdW5jdGlvbigpe2EoYixkLGcsZix0KX19ZnVuY3Rpb24gYShhLGQscCxlLHQpe3RyeXthLkgmJjA9PXAmJmEuSCh0KTtmb3IodmFyIGgsCnosaixpPWQubGVuZ3RoO3A8aTspe3ZhciBvPWRbcCsrXSxsPWRbcF07c3dpdGNoKG8pe2Nhc2UgIiYiOkkudGVzdChsKT8oYS5lJiZhLmUoIiYiK2wsdCxBLGIoYSxkLHAsZSx0KSkscCsrKTphLmUmJmEuZSgiJmFtcDsiLHQsQSxiKGEsZCxwLGUsdCkpO2JyZWFrO2Nhc2UgIjwvIjppZihoPS9eKFstXHc6XSspW15cJ1wiXSovLmV4ZWMobCkpaWYoaFswXS5sZW5ndGg9PT1sLmxlbmd0aCYmIj4iPT09ZFtwKzFdKXArPTIsaj1oWzFdLnRvTG93ZXJDYXNlKCksYS50JiZhLnQoaix0LEEsYihhLGQscCxlLHQpKTtlbHNle3ZhciBtPWQscT1wLHI9YSx1PXQsdj1BLHk9ZSx3PWYobSxxKTt3PyhyLnQmJnIudCh3Lm5hbWUsdSx2LGIocixtLHEseSx1KSkscD13Lm5leHQpOnA9bS5sZW5ndGh9ZWxzZSBhLmUmJmEuZSgiJmx0Oy8iLHQsQSxiKGEsZCxwLGUsdCkpO2JyZWFrO2Nhc2UgIjwiOmlmKGg9L14oWy1cdzpdKylccypcLz8vLmV4ZWMobCkpaWYoaFswXS5sZW5ndGg9PT1sLmxlbmd0aCYmCiI+Ij09PWRbcCsxXSl7cCs9MjtqPWhbMV0udG9Mb3dlckNhc2UoKTthLncmJmEudyhqLFtdLHQsQSxiKGEsZCxwLGUsdCkpO3ZhciBCPWcuZltqXTtCJksmJihwPWsoZCx7bmFtZTpqLG5leHQ6cCxjOkJ9LGEsdCxBLGUpKX1lbHNle3ZhciBtPWQscT1hLHI9dCx1PUEsdj1lLHg9ZihtLHApO3g/KHEudyYmcS53KHgubmFtZSx4LlIscix1LGIocSxtLHgubmV4dCx2LHIpKSxwPXguYyZLP2sobSx4LHEscix1LHYpOngubmV4dCk6cD1tLmxlbmd0aH1lbHNlIGEuZSYmYS5lKCImbHQ7Iix0LEEsYihhLGQscCxlLHQpKTticmVhaztjYXNlICI8XCEtLSI6aWYoIWUuQyl7Zm9yKHo9cCsxO3o8aSYmISgiPiI9PT1kW3pdJiYvLS0kLy50ZXN0KGRbei0xXSkpO3orKyk7aWYoejxpKXtpZihhLkEpe3ZhciBEPWQuc2xpY2UocCx6KS5qb2luKCIiKTthLkEoRC5zdWJzdHIoMCxELmxlbmd0aC0yKSx0LEEsYihhLGQseisxLGUsdCkpfXA9eisxfWVsc2UgZS5DPW59ZS5DJiZhLmUmJmEuZSgiJmx0OyEtLSIsCnQsQSxiKGEsZCxwLGUsdCkpO2JyZWFrO2Nhc2UgIjwhIjppZigvXlx3Ly50ZXN0KGwpKXtpZighZS5yKXtmb3Ioej1wKzE7ejxpJiYiPiIhPT1kW3pdO3orKyk7ejxpP3A9eisxOmUucj1ufWUuciYmYS5lJiZhLmUoIiZsdDshIix0LEEsYihhLGQscCxlLHQpKX1lbHNlIGEuZSYmYS5lKCImbHQ7ISIsdCxBLGIoYSxkLHAsZSx0KSk7YnJlYWs7Y2FzZSAiPD8iOmlmKCFlLnIpe2Zvcih6PXArMTt6PGkmJiI+IiE9PWRbel07eisrKTt6PGk/cD16KzE6ZS5yPW59ZS5yJiZhLmUmJmEuZSgiJmx0Oz8iLHQsQSxiKGEsZCxwLGUsdCkpO2JyZWFrO2Nhc2UgIj4iOmEuZSYmYS5lKCImZ3Q7Iix0LEEsYihhLGQscCxlLHQpKTticmVhaztjYXNlICIiOmJyZWFrO2RlZmF1bHQ6YS5lJiZhLmUobyx0LEEsYihhLGQscCxlLHQpKX19YS5CJiZhLkIodCl9Y2F0Y2goRSl7aWYoRSE9PUEpdGhyb3cgRTt9fWZ1bmN0aW9uIGsoYSxkLGYsaCx0LGope3ZhciB6PWEubGVuZ3RoO1QuaGFzT3duUHJvcGVydHkoZC5uYW1lKXx8CihUW2QubmFtZV09UmVnRXhwKCJeIitkLm5hbWUrIig/OltcXHNcXC9dfCQpIiwiaSIpKTtmb3IodmFyIGk9VFtkLm5hbWVdLGs9ZC5uZXh0LGw9ZC5uZXh0KzE7bDx6JiYhKCI8LyI9PT1hW2wtMV0mJmkudGVzdChhW2xdKSk7bCsrKTtsPHomJihsLT0xKTt6PWEuc2xpY2UoayxsKS5qb2luKCIiKTtpZihkLmMmZy5jLkNEQVRBKWYueiYmZi56KHosaCx0LGIoZixhLGwsaixoKSk7ZWxzZSBpZihkLmMmZy5jLlJDREFUQSlmLkYmJmYuRihlKHopLGgsdCxiKGYsYSxsLGosaCkpO2Vsc2UgdGhyb3cgRXJyb3IoImJ1ZyIpO3JldHVybiBsfWZ1bmN0aW9uIGYoYSxiKXt2YXIgZD0vXihbLVx3Ol0rKS8uZXhlYyhhW2JdKSxmPXt9O2YubmFtZT1kWzFdLnRvTG93ZXJDYXNlKCk7Zi5jPWcuZltmLm5hbWVdO2Zvcih2YXIgZT1hW2JdLnN1YnN0cihkWzBdLmxlbmd0aCksaD1iKzEsaj1hLmxlbmd0aDtoPGomJiI+IiE9PWFbaF07aCsrKWUrPWFbaF07aWYoIShqPD1oKSl7Zm9yKHZhciBsPVtdOyIiIT09CmU7KWlmKGQ9amEuZXhlYyhlKSlpZihkWzRdJiYhZFs1XXx8ZFs2XSYmIWRbN10pe2Zvcih2YXIgZD1kWzRdfHxkWzZdLGk9QyxlPVtlLGFbaCsrXV07aDxqO2grKyl7aWYoaSl7aWYoIj4iPT09YVtoXSlicmVha31lbHNlIDA8PWFbaF0uaW5kZXhPZihkKSYmKGk9bik7ZS5wdXNoKGFbaF0pfWlmKGo8PWgpYnJlYWs7ZT1lLmpvaW4oIiIpfWVsc2V7dmFyIGk9ZFsxXS50b0xvd2VyQ2FzZSgpLGs7aWYoZFsyXSl7az1kWzNdO3ZhciBtPWsuY2hhckNvZGVBdCgwKTtpZigzND09PW18fDM5PT09bSlrPWsuc3Vic3RyKDEsay5sZW5ndGgtMik7az14KGsucmVwbGFjZShvLCIiKSl9ZWxzZSBrPSIiO2wucHVzaChpLGspO2U9ZS5zdWJzdHIoZFswXS5sZW5ndGgpfWVsc2UgZT1lLnJlcGxhY2UoL15bXHNcU11bXmEtelxzXSovLCIiKTtmLlI9bDtmLm5leHQ9aCsxO3JldHVybiBmfX1mdW5jdGlvbiBoKGEpe2Z1bmN0aW9uIGIoYSxkKXtmfHxkLnB1c2goYSl9dmFyIGQsZjtyZXR1cm4gdih7c3RhcnREb2M6ZnVuY3Rpb24oKXtkPQpbXTtmPUN9LHN0YXJ0VGFnOmZ1bmN0aW9uKGIsZSxoKXtpZighZiYmZy5mLmhhc093blByb3BlcnR5KGIpKXt2YXIgaj1nLmZbYl07aWYoIShqJmcuYy5GT0xEQUJMRSkpe3ZhciBrPWEoYixlKTtpZihrKXtpZigib2JqZWN0IiE9PXR5cGVvZiBrKXRocm93IEVycm9yKCJ0YWdQb2xpY3kgZGlkIG5vdCByZXR1cm4gb2JqZWN0IChvbGQgQVBJPykiKTtpZigiYXR0cmlicyJpbiBrKWU9ay5hdHRyaWJzO2Vsc2UgdGhyb3cgRXJyb3IoInRhZ1BvbGljeSBnYXZlIG5vIGF0dHJpYnMiKTt2YXIgaTsidGFnTmFtZSJpbiBrPyhpPWsudGFnTmFtZSxrPWcuZltpXSk6KGk9YixrPWopO2lmKGomZy5jLk9QVElPTkFMX0VORFRBRyl7dmFyIGw9ZFtkLmxlbmd0aC0xXTtsJiZsLkQ9PT1iJiYobC52IT09aXx8YiE9PWkpJiZoLnB1c2goIjwvIixsLnYsIj4iKX1qJmcuYy5FTVBUWXx8ZC5wdXNoKHtEOmIsdjppfSk7aC5wdXNoKCI8IixpKTtiPTA7Zm9yKGw9ZS5sZW5ndGg7YjxsO2IrPTIpe3ZhciBtPQplW2JdLG89ZVtiKzFdO28hPT1zJiZvIT09YyYmaC5wdXNoKCIgIixtLCc9IicsRShvKSwnIicpfWgucHVzaCgiPiIpO2omZy5jLkVNUFRZJiYhKGsmZy5jLkVNUFRZKSYmaC5wdXNoKCI8LyIsaSwiPiIpfWVsc2UgZj0hKGomZy5jLkVNUFRZKX19fSxlbmRUYWc6ZnVuY3Rpb24oYSxiKXtpZihmKWY9QztlbHNlIGlmKGcuZi5oYXNPd25Qcm9wZXJ0eShhKSl7dmFyIGU9Zy5mW2FdO2lmKCEoZSYoZy5jLkVNUFRZfGcuYy5GT0xEQUJMRSkpKXtpZihlJmcuYy5PUFRJT05BTF9FTkRUQUcpZm9yKGU9ZC5sZW5ndGg7MDw9LS1lOyl7dmFyIGg9ZFtlXS5EO2lmKGg9PT1hKWJyZWFrO2lmKCEoZy5mW2hdJmcuYy5PUFRJT05BTF9FTkRUQUcpKXJldHVybn1lbHNlIGZvcihlPWQubGVuZ3RoOzA8PS0tZSYmZFtlXS5EIT09YTspO2lmKCEoMD5lKSl7Zm9yKGg9ZC5sZW5ndGg7LS1oPmU7KXt2YXIgaj1kW2hdLnY7Zy5mW2pdJmcuYy5PUFRJT05BTF9FTkRUQUd8fGIucHVzaCgiPC8iLGosIj4iKX1lPApkLmxlbmd0aCYmKGE9ZFtlXS52KTtkLmxlbmd0aD1lO2IucHVzaCgiPC8iLGEsIj4iKX19fX0scGNkYXRhOmIscmNkYXRhOmIsY2RhdGE6YixlbmREb2M6ZnVuY3Rpb24oYSl7Zm9yKDtkLmxlbmd0aDtkLmxlbmd0aC0tKWEucHVzaCgiPC8iLGRbZC5sZW5ndGgtMV0udiwiPiIpfX0pfWZ1bmN0aW9uIGQoYSxiLGQsZixlKXtpZighZSlyZXR1cm4gczt0cnl7dmFyIGc9WS5wYXJzZSgiIithKTtpZihnJiYoIWcuSygpfHxrYS50ZXN0KGcuVygpKSkpe3ZhciBoPWUoZyxiLGQsZik7cmV0dXJuIGg/aC50b1N0cmluZygpOnN9fWNhdGNoKGope31yZXR1cm4gc31mdW5jdGlvbiB5KGEsYixkLGYsZSl7ZHx8YShiKyIgcmVtb3ZlZCIse1M6InJlbW92ZWQiLHRhZ05hbWU6Yn0pO2lmKGYhPT1lKXt2YXIgZz0iY2hhbmdlZCI7ZiYmIWU/Zz0icmVtb3ZlZCI6IWYmJmUmJihnPSJhZGRlZCIpO2EoYisiLiIrZCsiICIrZyx7UzpnLHRhZ05hbWU6YixsYTpkLG9sZFZhbHVlOmYsbmV3VmFsdWU6ZX0pfX0KZnVuY3Rpb24gbChhLGIsZCl7Yj1iKyI6OiIrZDtpZihhLmhhc093blByb3BlcnR5KGIpKXJldHVybiBhW2JdO2I9Iio6OiIrZDtpZihhLmhhc093blByb3BlcnR5KGIpKXJldHVybiBhW2JdfWZ1bmN0aW9uIFYoYSxiLGYsZSxoKXtmb3IodmFyIGo9MDtqPGIubGVuZ3RoO2orPTIpe3ZhciBrPWJbal0saT1iW2orMV0sbT1pLG89cyxxO2lmKChxPWErIjo6IitrLGcubS5oYXNPd25Qcm9wZXJ0eShxKSl8fChxPSIqOjoiK2ssZy5tLmhhc093blByb3BlcnR5KHEpKSlvPWcubVtxXTtpZihvIT09cylzd2l0Y2gobyl7Y2FzZSBnLmQuTk9ORTpicmVhaztjYXNlIGcuZC5TQ1JJUFQ6aT1zO2gmJnkoaCxhLGssbSxpKTticmVhaztjYXNlIGcuZC5TVFlMRTppZigidW5kZWZpbmVkIj09PXR5cGVvZiBOKXtpPXM7aCYmeShoLGEsayxtLGkpO2JyZWFrfXZhciByPVtdO04oaSx7ZGVjbGFyYXRpb246ZnVuY3Rpb24oYSxiKXt2YXIgZT1hLnRvTG93ZXJDYXNlKCk7dShlLGIsZj9mdW5jdGlvbihhKXtyZXR1cm4gZChhLApnLlAuamEsZy5NLmthLHtUWVBFOiJDU1MiLENTU19QUk9QOmV9LGYpfTpzKTtiLmxlbmd0aCYmci5wdXNoKGUrIjogIitiLmpvaW4oIiAiKSl9fSk7aT0wPHIubGVuZ3RoP3Iuam9pbigiIDsgIik6cztoJiZ5KGgsYSxrLG0saSk7YnJlYWs7Y2FzZSBnLmQuSUQ6Y2FzZSBnLmQuSURSRUY6Y2FzZSBnLmQuSURSRUZTOmNhc2UgZy5kLkdMT0JBTF9OQU1FOmNhc2UgZy5kLkxPQ0FMX05BTUU6Y2FzZSBnLmQuQ0xBU1NFUzppPWU/ZShpKTppO2gmJnkoaCxhLGssbSxpKTticmVhaztjYXNlIGcuZC5VUkk6aT1kKGksbChnLkosYSxrKSxsKGcuSSxhLGspLHtUWVBFOiJNQVJLVVAiLFhNTF9BVFRSOmssWE1MX1RBRzphfSxmKTtoJiZ5KGgsYSxrLG0saSk7YnJlYWs7Y2FzZSBnLmQuVVJJX0ZSQUdNRU5UOmkmJiIjIj09PWkuY2hhckF0KDApPyhpPWkuc3Vic3RyaW5nKDEpLGk9ZT9lKGkpOmksaSE9PXMmJmkhPT1jJiYoaT0iIyIraSkpOmk9cztoJiZ5KGgsYSxrLG0saSk7YnJlYWs7ZGVmYXVsdDppPQpzLGgmJnkoaCxhLGssbSxpKX1lbHNlIGk9cyxoJiZ5KGgsYSxrLG0saSk7YltqKzFdPWl9cmV0dXJuIGJ9ZnVuY3Rpb24gZWEoYSxiLGQpe3JldHVybiBmdW5jdGlvbihlLGYpe2lmKGcuZltlXSZnLmMuVU5TQUZFKWQmJnkoZCxlLGMsYyxjKTtlbHNlIHJldHVybnthdHRyaWJzOlYoZSxmLGEsYixkKX19fWZ1bmN0aW9uIFEoYSxiKXt2YXIgZD1bXTtoKGIpKGEsZCk7cmV0dXJuIGQuam9pbigiIil9dmFyIE4sdTsidW5kZWZpbmVkIiE9PXR5cGVvZiB3aW5kb3cmJihOPXdpbmRvdy5wYXJzZUNzc0RlY2xhcmF0aW9ucyx1PXdpbmRvdy5zYW5pdGl6ZUNzc1Byb3BlcnR5KTt2YXIgaT17bHQ6IjwiLExUOiI8IixndDoiPiIsR1Q6Ij4iLGFtcDoiJiIsQU1QOiImIixxdW90OiciJyxhcG9zOiInIixuYnNwOiJcdTAwYTAifSxxPS9eIyhcZCspJC8sQj0vXiN4KFswLTlBLUZhLWZdKykkLyxGPS9eW0EtWmEtel1bQS16YS16MC05XSskLyxyPSJ1bmRlZmluZWQiIT09dHlwZW9mIHdpbmRvdyYmCndpbmRvdy5kb2N1bWVudD93aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGV4dGFyZWEiKTpzLG89L1wwL2csaj0vJigjWzAtOV0rfCNbeFhdWzAtOUEtRmEtZl0rfFx3Kyk7L2csST0vXigjWzAtOV0rfCNbeFhdWzAtOUEtRmEtZl0rfFx3Kyk7LyxSPS8mL2csaWE9LyYoW15hLXojXXwjKD86W14wLTl4XXx4KD86W14wLTlhLWZdfCQpfCQpfCQpL2dpLFA9L1s8XS9nLFM9Lz4vZyxEPS9cIi9nLGphPS9eXHMqKFstLjpcd10rKSg/OlxzKig9KVxzKigoIilbXiJdKigifCQpfCgnKVteJ10qKCd8JCl8KD89W2Etel1bLVx3XSpccyo9KXxbXiInXHNdKikpPy9pLEc9Mz09PSJhLGIiLnNwbGl0KC8oLCkvKS5sZW5ndGgsSz1nLmMuQ0RBVEF8Zy5jLlJDREFUQSxBPXt9LFQ9e30sa2E9L14oPzpodHRwcz98bWFpbHRvfGRhdGEpJC9pLG09e307bS5wYT1tLmVzY2FwZUF0dHJpYj1FO20ucmE9bS5tYWtlSHRtbFNhbml0aXplcj1oO20uc2E9bS5tYWtlU2F4UGFyc2VyPXY7bS50YT1tLm1ha2VUYWdQb2xpY3k9CmVhO20ud2E9bS5ub3JtYWxpemVSQ0RhdGE9ZTttLnhhPW0uc2FuaXRpemU9ZnVuY3Rpb24oYSxiLGQsZSl7cmV0dXJuIFEoYSxlYShiLGQsZSkpfTttLnlhPW0uc2FuaXRpemVBdHRyaWJzPVY7bS56YT1tLnNhbml0aXplV2l0aFBvbGljeT1RO20uQmE9bS51bmVzY2FwZUVudGl0aWVzPXg7cmV0dXJuIG19KCQpLGxhPWhhLnNhbml0aXplOyJ1bmRlZmluZWQiIT09dHlwZW9mIHdpbmRvdyYmKHdpbmRvdy5odG1sPWhhLHdpbmRvdy5odG1sX3Nhbml0aXplPWxhKTt9KSgpOwohZnVuY3Rpb24odCl7aWYoIm9iamVjdCI9PXR5cGVvZiBleHBvcnRzJiYidW5kZWZpbmVkIiE9dHlwZW9mIG1vZHVsZSltb2R1bGUuZXhwb3J0cz10KCk7ZWxzZSBpZigiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kKWRlZmluZShbXSx0KTtlbHNleygidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6InVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZj9zZWxmOnRoaXMpLnBha289dCgpfX0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24gcihzLG8sbCl7ZnVuY3Rpb24gaChlLHQpe2lmKCFvW2VdKXtpZighc1tlXSl7dmFyIGE9ImZ1bmN0aW9uIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIXQmJmEpcmV0dXJuIGEoZSwhMCk7aWYoZClyZXR1cm4gZChlLCEwKTt2YXIgaT1uZXcgRXJyb3IoIkNhbm5vdCBmaW5kIG1vZHVsZSAnIitlKyInIik7dGhyb3cgaS5jb2RlPSJNT0RVTEVfTk9UX0ZPVU5EIixpfXZhciBuPW9bZV09e2V4cG9ydHM6e319O3NbZV1bMF0uY2FsbChuLmV4cG9ydHMsZnVuY3Rpb24odCl7cmV0dXJuIGgoc1tlXVsxXVt0XXx8dCl9LG4sbi5leHBvcnRzLHIscyxvLGwpfXJldHVybiBvW2VdLmV4cG9ydHN9Zm9yKHZhciBkPSJmdW5jdGlvbiI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLHQ9MDt0PGwubGVuZ3RoO3QrKyloKGxbdF0pO3JldHVybiBofSh7MTpbZnVuY3Rpb24odCxlLGEpeyJ1c2Ugc3RyaWN0Ijt2YXIgcz10KCIuL3psaWIvZGVmbGF0ZSIpLG89dCgiLi91dGlscy9jb21tb24iKSxsPXQoIi4vdXRpbHMvc3RyaW5ncyIpLG49dCgiLi96bGliL21lc3NhZ2VzIikscj10KCIuL3psaWIvenN0cmVhbSIpLGg9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyxkPTAsZj0tMSxfPTAsdT04O2Z1bmN0aW9uIGModCl7aWYoISh0aGlzIGluc3RhbmNlb2YgYykpcmV0dXJuIG5ldyBjKHQpO3RoaXMub3B0aW9ucz1vLmFzc2lnbih7bGV2ZWw6ZixtZXRob2Q6dSxjaHVua1NpemU6MTYzODQsd2luZG93Qml0czoxNSxtZW1MZXZlbDo4LHN0cmF0ZWd5Ol8sdG86IiJ9LHR8fHt9KTt2YXIgZT10aGlzLm9wdGlvbnM7ZS5yYXcmJjA8ZS53aW5kb3dCaXRzP2Uud2luZG93Qml0cz0tZS53aW5kb3dCaXRzOmUuZ3ppcCYmMDxlLndpbmRvd0JpdHMmJmUud2luZG93Qml0czwxNiYmKGUud2luZG93Qml0cys9MTYpLHRoaXMuZXJyPTAsdGhpcy5tc2c9IiIsdGhpcy5lbmRlZD0hMSx0aGlzLmNodW5rcz1bXSx0aGlzLnN0cm09bmV3IHIsdGhpcy5zdHJtLmF2YWlsX291dD0wO3ZhciBhPXMuZGVmbGF0ZUluaXQyKHRoaXMuc3RybSxlLmxldmVsLGUubWV0aG9kLGUud2luZG93Qml0cyxlLm1lbUxldmVsLGUuc3RyYXRlZ3kpO2lmKGEhPT1kKXRocm93IG5ldyBFcnJvcihuW2FdKTtpZihlLmhlYWRlciYmcy5kZWZsYXRlU2V0SGVhZGVyKHRoaXMuc3RybSxlLmhlYWRlciksZS5kaWN0aW9uYXJ5KXt2YXIgaTtpZihpPSJzdHJpbmciPT10eXBlb2YgZS5kaWN0aW9uYXJ5P2wuc3RyaW5nMmJ1ZihlLmRpY3Rpb25hcnkpOiJbb2JqZWN0IEFycmF5QnVmZmVyXSI9PT1oLmNhbGwoZS5kaWN0aW9uYXJ5KT9uZXcgVWludDhBcnJheShlLmRpY3Rpb25hcnkpOmUuZGljdGlvbmFyeSwoYT1zLmRlZmxhdGVTZXREaWN0aW9uYXJ5KHRoaXMuc3RybSxpKSkhPT1kKXRocm93IG5ldyBFcnJvcihuW2FdKTt0aGlzLl9kaWN0X3NldD0hMH19ZnVuY3Rpb24gaSh0LGUpe3ZhciBhPW5ldyBjKGUpO2lmKGEucHVzaCh0LCEwKSxhLmVycil0aHJvdyBhLm1zZ3x8blthLmVycl07cmV0dXJuIGEucmVzdWx0fWMucHJvdG90eXBlLnB1c2g9ZnVuY3Rpb24odCxlKXt2YXIgYSxpLG49dGhpcy5zdHJtLHI9dGhpcy5vcHRpb25zLmNodW5rU2l6ZTtpZih0aGlzLmVuZGVkKXJldHVybiExO2k9ZT09PX5+ZT9lOiEwPT09ZT80OjAsInN0cmluZyI9PXR5cGVvZiB0P24uaW5wdXQ9bC5zdHJpbmcyYnVmKHQpOiJbb2JqZWN0IEFycmF5QnVmZmVyXSI9PT1oLmNhbGwodCk/bi5pbnB1dD1uZXcgVWludDhBcnJheSh0KTpuLmlucHV0PXQsbi5uZXh0X2luPTAsbi5hdmFpbF9pbj1uLmlucHV0Lmxlbmd0aDtkb3tpZigwPT09bi5hdmFpbF9vdXQmJihuLm91dHB1dD1uZXcgby5CdWY4KHIpLG4ubmV4dF9vdXQ9MCxuLmF2YWlsX291dD1yKSwxIT09KGE9cy5kZWZsYXRlKG4saSkpJiZhIT09ZClyZXR1cm4gdGhpcy5vbkVuZChhKSwhKHRoaXMuZW5kZWQ9ITApOzAhPT1uLmF2YWlsX291dCYmKDAhPT1uLmF2YWlsX2lufHw0IT09aSYmMiE9PWkpfHwoInN0cmluZyI9PT10aGlzLm9wdGlvbnMudG8/dGhpcy5vbkRhdGEobC5idWYyYmluc3RyaW5nKG8uc2hyaW5rQnVmKG4ub3V0cHV0LG4ubmV4dF9vdXQpKSk6dGhpcy5vbkRhdGEoby5zaHJpbmtCdWYobi5vdXRwdXQsbi5uZXh0X291dCkpKX13aGlsZSgoMDxuLmF2YWlsX2lufHwwPT09bi5hdmFpbF9vdXQpJiYxIT09YSk7cmV0dXJuIDQ9PT1pPyhhPXMuZGVmbGF0ZUVuZCh0aGlzLnN0cm0pLHRoaXMub25FbmQoYSksdGhpcy5lbmRlZD0hMCxhPT09ZCk6MiE9PWl8fCh0aGlzLm9uRW5kKGQpLCEobi5hdmFpbF9vdXQ9MCkpfSxjLnByb3RvdHlwZS5vbkRhdGE9ZnVuY3Rpb24odCl7dGhpcy5jaHVua3MucHVzaCh0KX0sYy5wcm90b3R5cGUub25FbmQ9ZnVuY3Rpb24odCl7dD09PWQmJigic3RyaW5nIj09PXRoaXMub3B0aW9ucy50bz90aGlzLnJlc3VsdD10aGlzLmNodW5rcy5qb2luKCIiKTp0aGlzLnJlc3VsdD1vLmZsYXR0ZW5DaHVua3ModGhpcy5jaHVua3MpKSx0aGlzLmNodW5rcz1bXSx0aGlzLmVycj10LHRoaXMubXNnPXRoaXMuc3RybS5tc2d9LGEuRGVmbGF0ZT1jLGEuZGVmbGF0ZT1pLGEuZGVmbGF0ZVJhdz1mdW5jdGlvbih0LGUpe3JldHVybihlPWV8fHt9KS5yYXc9ITAsaSh0LGUpfSxhLmd6aXA9ZnVuY3Rpb24odCxlKXtyZXR1cm4oZT1lfHx7fSkuZ3ppcD0hMCxpKHQsZSl9fSx7Ii4vdXRpbHMvY29tbW9uIjozLCIuL3V0aWxzL3N0cmluZ3MiOjQsIi4vemxpYi9kZWZsYXRlIjo4LCIuL3psaWIvbWVzc2FnZXMiOjEzLCIuL3psaWIvenN0cmVhbSI6MTV9XSwyOltmdW5jdGlvbih0LGUsYSl7InVzZSBzdHJpY3QiO3ZhciBmPXQoIi4vemxpYi9pbmZsYXRlIiksXz10KCIuL3V0aWxzL2NvbW1vbiIpLHU9dCgiLi91dGlscy9zdHJpbmdzIiksYz10KCIuL3psaWIvY29uc3RhbnRzIiksaT10KCIuL3psaWIvbWVzc2FnZXMiKSxuPXQoIi4vemxpYi96c3RyZWFtIikscj10KCIuL3psaWIvZ3poZWFkZXIiKSxiPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7ZnVuY3Rpb24gcyh0KXtpZighKHRoaXMgaW5zdGFuY2VvZiBzKSlyZXR1cm4gbmV3IHModCk7dGhpcy5vcHRpb25zPV8uYXNzaWduKHtjaHVua1NpemU6MTYzODQsd2luZG93Qml0czowLHRvOiIifSx0fHx7fSk7dmFyIGU9dGhpcy5vcHRpb25zO2UucmF3JiYwPD1lLndpbmRvd0JpdHMmJmUud2luZG93Qml0czwxNiYmKGUud2luZG93Qml0cz0tZS53aW5kb3dCaXRzLDA9PT1lLndpbmRvd0JpdHMmJihlLndpbmRvd0JpdHM9LTE1KSksISgwPD1lLndpbmRvd0JpdHMmJmUud2luZG93Qml0czwxNil8fHQmJnQud2luZG93Qml0c3x8KGUud2luZG93Qml0cys9MzIpLDE1PGUud2luZG93Qml0cyYmZS53aW5kb3dCaXRzPDQ4JiYwPT0oMTUmZS53aW5kb3dCaXRzKSYmKGUud2luZG93Qml0c3w9MTUpLHRoaXMuZXJyPTAsdGhpcy5tc2c9IiIsdGhpcy5lbmRlZD0hMSx0aGlzLmNodW5rcz1bXSx0aGlzLnN0cm09bmV3IG4sdGhpcy5zdHJtLmF2YWlsX291dD0wO3ZhciBhPWYuaW5mbGF0ZUluaXQyKHRoaXMuc3RybSxlLndpbmRvd0JpdHMpO2lmKGEhPT1jLlpfT0spdGhyb3cgbmV3IEVycm9yKGlbYV0pO2lmKHRoaXMuaGVhZGVyPW5ldyByLGYuaW5mbGF0ZUdldEhlYWRlcih0aGlzLnN0cm0sdGhpcy5oZWFkZXIpLGUuZGljdGlvbmFyeSYmKCJzdHJpbmciPT10eXBlb2YgZS5kaWN0aW9uYXJ5P2UuZGljdGlvbmFyeT11LnN0cmluZzJidWYoZS5kaWN0aW9uYXJ5KToiW29iamVjdCBBcnJheUJ1ZmZlcl0iPT09Yi5jYWxsKGUuZGljdGlvbmFyeSkmJihlLmRpY3Rpb25hcnk9bmV3IFVpbnQ4QXJyYXkoZS5kaWN0aW9uYXJ5KSksZS5yYXcmJihhPWYuaW5mbGF0ZVNldERpY3Rpb25hcnkodGhpcy5zdHJtLGUuZGljdGlvbmFyeSkpIT09Yy5aX09LKSl0aHJvdyBuZXcgRXJyb3IoaVthXSl9ZnVuY3Rpb24gbyh0LGUpe3ZhciBhPW5ldyBzKGUpO2lmKGEucHVzaCh0LCEwKSxhLmVycil0aHJvdyBhLm1zZ3x8aVthLmVycl07cmV0dXJuIGEucmVzdWx0fXMucHJvdG90eXBlLnB1c2g9ZnVuY3Rpb24odCxlKXt2YXIgYSxpLG4scixzLG89dGhpcy5zdHJtLGw9dGhpcy5vcHRpb25zLmNodW5rU2l6ZSxoPXRoaXMub3B0aW9ucy5kaWN0aW9uYXJ5LGQ9ITE7aWYodGhpcy5lbmRlZClyZXR1cm4hMTtpPWU9PT1+fmU/ZTohMD09PWU/Yy5aX0ZJTklTSDpjLlpfTk9fRkxVU0gsInN0cmluZyI9PXR5cGVvZiB0P28uaW5wdXQ9dS5iaW5zdHJpbmcyYnVmKHQpOiJbb2JqZWN0IEFycmF5QnVmZmVyXSI9PT1iLmNhbGwodCk/by5pbnB1dD1uZXcgVWludDhBcnJheSh0KTpvLmlucHV0PXQsby5uZXh0X2luPTAsby5hdmFpbF9pbj1vLmlucHV0Lmxlbmd0aDtkb3tpZigwPT09by5hdmFpbF9vdXQmJihvLm91dHB1dD1uZXcgXy5CdWY4KGwpLG8ubmV4dF9vdXQ9MCxvLmF2YWlsX291dD1sKSwoYT1mLmluZmxhdGUobyxjLlpfTk9fRkxVU0gpKT09PWMuWl9ORUVEX0RJQ1QmJmgmJihhPWYuaW5mbGF0ZVNldERpY3Rpb25hcnkodGhpcy5zdHJtLGgpKSxhPT09Yy5aX0JVRl9FUlJPUiYmITA9PT1kJiYoYT1jLlpfT0ssZD0hMSksYSE9PWMuWl9TVFJFQU1fRU5EJiZhIT09Yy5aX09LKXJldHVybiB0aGlzLm9uRW5kKGEpLCEodGhpcy5lbmRlZD0hMCk7by5uZXh0X291dCYmKDAhPT1vLmF2YWlsX291dCYmYSE9PWMuWl9TVFJFQU1fRU5EJiYoMCE9PW8uYXZhaWxfaW58fGkhPT1jLlpfRklOSVNIJiZpIT09Yy5aX1NZTkNfRkxVU0gpfHwoInN0cmluZyI9PT10aGlzLm9wdGlvbnMudG8/KG49dS51dGY4Ym9yZGVyKG8ub3V0cHV0LG8ubmV4dF9vdXQpLHI9by5uZXh0X291dC1uLHM9dS5idWYyc3RyaW5nKG8ub3V0cHV0LG4pLG8ubmV4dF9vdXQ9cixvLmF2YWlsX291dD1sLXIsciYmXy5hcnJheVNldChvLm91dHB1dCxvLm91dHB1dCxuLHIsMCksdGhpcy5vbkRhdGEocykpOnRoaXMub25EYXRhKF8uc2hyaW5rQnVmKG8ub3V0cHV0LG8ubmV4dF9vdXQpKSkpLDA9PT1vLmF2YWlsX2luJiYwPT09by5hdmFpbF9vdXQmJihkPSEwKX13aGlsZSgoMDxvLmF2YWlsX2lufHwwPT09by5hdmFpbF9vdXQpJiZhIT09Yy5aX1NUUkVBTV9FTkQpO3JldHVybiBhPT09Yy5aX1NUUkVBTV9FTkQmJihpPWMuWl9GSU5JU0gpLGk9PT1jLlpfRklOSVNIPyhhPWYuaW5mbGF0ZUVuZCh0aGlzLnN0cm0pLHRoaXMub25FbmQoYSksdGhpcy5lbmRlZD0hMCxhPT09Yy5aX09LKTppIT09Yy5aX1NZTkNfRkxVU0h8fCh0aGlzLm9uRW5kKGMuWl9PSyksIShvLmF2YWlsX291dD0wKSl9LHMucHJvdG90eXBlLm9uRGF0YT1mdW5jdGlvbih0KXt0aGlzLmNodW5rcy5wdXNoKHQpfSxzLnByb3RvdHlwZS5vbkVuZD1mdW5jdGlvbih0KXt0PT09Yy5aX09LJiYoInN0cmluZyI9PT10aGlzLm9wdGlvbnMudG8/dGhpcy5yZXN1bHQ9dGhpcy5jaHVua3Muam9pbigiIik6dGhpcy5yZXN1bHQ9Xy5mbGF0dGVuQ2h1bmtzKHRoaXMuY2h1bmtzKSksdGhpcy5jaHVua3M9W10sdGhpcy5lcnI9dCx0aGlzLm1zZz10aGlzLnN0cm0ubXNnfSxhLkluZmxhdGU9cyxhLmluZmxhdGU9byxhLmluZmxhdGVSYXc9ZnVuY3Rpb24odCxlKXtyZXR1cm4oZT1lfHx7fSkucmF3PSEwLG8odCxlKX0sYS51bmd6aXA9b30seyIuL3V0aWxzL2NvbW1vbiI6MywiLi91dGlscy9zdHJpbmdzIjo0LCIuL3psaWIvY29uc3RhbnRzIjo2LCIuL3psaWIvZ3poZWFkZXIiOjksIi4vemxpYi9pbmZsYXRlIjoxMSwiLi96bGliL21lc3NhZ2VzIjoxMywiLi96bGliL3pzdHJlYW0iOjE1fV0sMzpbZnVuY3Rpb24odCxlLGEpeyJ1c2Ugc3RyaWN0Ijt2YXIgaT0idW5kZWZpbmVkIiE9dHlwZW9mIFVpbnQ4QXJyYXkmJiJ1bmRlZmluZWQiIT10eXBlb2YgVWludDE2QXJyYXkmJiJ1bmRlZmluZWQiIT10eXBlb2YgSW50MzJBcnJheTthLmFzc2lnbj1mdW5jdGlvbih0KXtmb3IodmFyIGUsYSxpPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKTtpLmxlbmd0aDspe3ZhciBuPWkuc2hpZnQoKTtpZihuKXtpZigib2JqZWN0IiE9dHlwZW9mIG4pdGhyb3cgbmV3IFR5cGVFcnJvcihuKyJtdXN0IGJlIG5vbi1vYmplY3QiKTtmb3IodmFyIHIgaW4gbillPW4sYT1yLE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLGEpJiYodFtyXT1uW3JdKX19cmV0dXJuIHR9LGEuc2hyaW5rQnVmPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQubGVuZ3RoPT09ZT90OnQuc3ViYXJyYXk/dC5zdWJhcnJheSgwLGUpOih0Lmxlbmd0aD1lLHQpfTt2YXIgbj17YXJyYXlTZXQ6ZnVuY3Rpb24odCxlLGEsaSxuKXtpZihlLnN1YmFycmF5JiZ0LnN1YmFycmF5KXQuc2V0KGUuc3ViYXJyYXkoYSxhK2kpLG4pO2Vsc2UgZm9yKHZhciByPTA7cjxpO3IrKyl0W24rcl09ZVthK3JdfSxmbGF0dGVuQ2h1bmtzOmZ1bmN0aW9uKHQpe3ZhciBlLGEsaSxuLHIscztmb3IoZT1pPTAsYT10Lmxlbmd0aDtlPGE7ZSsrKWkrPXRbZV0ubGVuZ3RoO2ZvcihzPW5ldyBVaW50OEFycmF5KGkpLGU9bj0wLGE9dC5sZW5ndGg7ZTxhO2UrKylyPXRbZV0scy5zZXQocixuKSxuKz1yLmxlbmd0aDtyZXR1cm4gc319LHI9e2FycmF5U2V0OmZ1bmN0aW9uKHQsZSxhLGksbil7Zm9yKHZhciByPTA7cjxpO3IrKyl0W24rcl09ZVthK3JdfSxmbGF0dGVuQ2h1bmtzOmZ1bmN0aW9uKHQpe3JldHVybltdLmNvbmNhdC5hcHBseShbXSx0KX19O2Euc2V0VHlwZWQ9ZnVuY3Rpb24odCl7dD8oYS5CdWY4PVVpbnQ4QXJyYXksYS5CdWYxNj1VaW50MTZBcnJheSxhLkJ1ZjMyPUludDMyQXJyYXksYS5hc3NpZ24oYSxuKSk6KGEuQnVmOD1BcnJheSxhLkJ1ZjE2PUFycmF5LGEuQnVmMzI9QXJyYXksYS5hc3NpZ24oYSxyKSl9LGEuc2V0VHlwZWQoaSl9LHt9XSw0OltmdW5jdGlvbih0LGUsYSl7InVzZSBzdHJpY3QiO3ZhciBsPXQoIi4vY29tbW9uIiksbj0hMCxyPSEwO3RyeXtTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsWzBdKX1jYXRjaCh0KXtuPSExfXRyeXtTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsbmV3IFVpbnQ4QXJyYXkoMSkpfWNhdGNoKHQpe3I9ITF9Zm9yKHZhciBoPW5ldyBsLkJ1ZjgoMjU2KSxpPTA7aTwyNTY7aSsrKWhbaV09MjUyPD1pPzY6MjQ4PD1pPzU6MjQwPD1pPzQ6MjI0PD1pPzM6MTkyPD1pPzI6MTtmdW5jdGlvbiBkKHQsZSl7aWYoZTw2NTUzNCYmKHQuc3ViYXJyYXkmJnJ8fCF0LnN1YmFycmF5JiZuKSlyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLGwuc2hyaW5rQnVmKHQsZSkpO2Zvcih2YXIgYT0iIixpPTA7aTxlO2krKylhKz1TdHJpbmcuZnJvbUNoYXJDb2RlKHRbaV0pO3JldHVybiBhfWhbMjU0XT1oWzI1NF09MSxhLnN0cmluZzJidWY9ZnVuY3Rpb24odCl7dmFyIGUsYSxpLG4scixzPXQubGVuZ3RoLG89MDtmb3Iobj0wO248cztuKyspNTUyOTY9PSg2NDUxMiYoYT10LmNoYXJDb2RlQXQobikpKSYmbisxPHMmJjU2MzIwPT0oNjQ1MTImKGk9dC5jaGFyQ29kZUF0KG4rMSkpKSYmKGE9NjU1MzYrKGEtNTUyOTY8PDEwKSsoaS01NjMyMCksbisrKSxvKz1hPDEyOD8xOmE8MjA0OD8yOmE8NjU1MzY/Mzo0O2ZvcihlPW5ldyBsLkJ1Zjgobyksbj1yPTA7cjxvO24rKyk1NTI5Nj09KDY0NTEyJihhPXQuY2hhckNvZGVBdChuKSkpJiZuKzE8cyYmNTYzMjA9PSg2NDUxMiYoaT10LmNoYXJDb2RlQXQobisxKSkpJiYoYT02NTUzNisoYS01NTI5Njw8MTApKyhpLTU2MzIwKSxuKyspLGE8MTI4P2VbcisrXT1hOihhPDIwNDg/ZVtyKytdPTE5MnxhPj4+NjooYTw2NTUzNj9lW3IrK109MjI0fGE+Pj4xMjooZVtyKytdPTI0MHxhPj4+MTgsZVtyKytdPTEyOHxhPj4+MTImNjMpLGVbcisrXT0xMjh8YT4+PjYmNjMpLGVbcisrXT0xMjh8NjMmYSk7cmV0dXJuIGV9LGEuYnVmMmJpbnN0cmluZz1mdW5jdGlvbih0KXtyZXR1cm4gZCh0LHQubGVuZ3RoKX0sYS5iaW5zdHJpbmcyYnVmPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1uZXcgbC5CdWY4KHQubGVuZ3RoKSxhPTAsaT1lLmxlbmd0aDthPGk7YSsrKWVbYV09dC5jaGFyQ29kZUF0KGEpO3JldHVybiBlfSxhLmJ1ZjJzdHJpbmc9ZnVuY3Rpb24odCxlKXt2YXIgYSxpLG4scixzPWV8fHQubGVuZ3RoLG89bmV3IEFycmF5KDIqcyk7Zm9yKGE9aT0wO2E8czspaWYoKG49dFthKytdKTwxMjgpb1tpKytdPW47ZWxzZSBpZig0PChyPWhbbl0pKW9baSsrXT02NTUzMyxhKz1yLTE7ZWxzZXtmb3IobiY9Mj09PXI/MzE6Mz09PXI/MTU6NzsxPHImJmE8czspbj1uPDw2fDYzJnRbYSsrXSxyLS07MTxyP29baSsrXT02NTUzMzpuPDY1NTM2P29baSsrXT1uOihuLT02NTUzNixvW2krK109NTUyOTZ8bj4+MTAmMTAyMyxvW2krK109NTYzMjB8MTAyMyZuKX1yZXR1cm4gZChvLGkpfSxhLnV0Zjhib3JkZXI9ZnVuY3Rpb24odCxlKXt2YXIgYTtmb3IoKGU9ZXx8dC5sZW5ndGgpPnQubGVuZ3RoJiYoZT10Lmxlbmd0aCksYT1lLTE7MDw9YSYmMTI4PT0oMTkyJnRbYV0pOylhLS07cmV0dXJuIGE8MD9lOjA9PT1hP2U6YStoW3RbYV1dPmU/YTplfX0seyIuL2NvbW1vbiI6M31dLDU6W2Z1bmN0aW9uKHQsZSxhKXsidXNlIHN0cmljdCI7ZS5leHBvcnRzPWZ1bmN0aW9uKHQsZSxhLGkpe2Zvcih2YXIgbj02NTUzNSZ0fDAscj10Pj4+MTYmNjU1MzV8MCxzPTA7MCE9PWE7KXtmb3IoYS09cz0yZTM8YT8yZTM6YTtyPXIrKG49bitlW2krK118MCl8MCwtLXM7KTtuJT02NTUyMSxyJT02NTUyMX1yZXR1cm4gbnxyPDwxNnwwfX0se31dLDY6W2Z1bmN0aW9uKHQsZSxhKXsidXNlIHN0cmljdCI7ZS5leHBvcnRzPXtaX05PX0ZMVVNIOjAsWl9QQVJUSUFMX0ZMVVNIOjEsWl9TWU5DX0ZMVVNIOjIsWl9GVUxMX0ZMVVNIOjMsWl9GSU5JU0g6NCxaX0JMT0NLOjUsWl9UUkVFUzo2LFpfT0s6MCxaX1NUUkVBTV9FTkQ6MSxaX05FRURfRElDVDoyLFpfRVJSTk86LTEsWl9TVFJFQU1fRVJST1I6LTIsWl9EQVRBX0VSUk9SOi0zLFpfQlVGX0VSUk9SOi01LFpfTk9fQ09NUFJFU1NJT046MCxaX0JFU1RfU1BFRUQ6MSxaX0JFU1RfQ09NUFJFU1NJT046OSxaX0RFRkFVTFRfQ09NUFJFU1NJT046LTEsWl9GSUxURVJFRDoxLFpfSFVGRk1BTl9PTkxZOjIsWl9STEU6MyxaX0ZJWEVEOjQsWl9ERUZBVUxUX1NUUkFURUdZOjAsWl9CSU5BUlk6MCxaX1RFWFQ6MSxaX1VOS05PV046MixaX0RFRkxBVEVEOjh9fSx7fV0sNzpbZnVuY3Rpb24odCxlLGEpeyJ1c2Ugc3RyaWN0Ijt2YXIgbz1mdW5jdGlvbigpe2Zvcih2YXIgdCxlPVtdLGE9MDthPDI1NjthKyspe3Q9YTtmb3IodmFyIGk9MDtpPDg7aSsrKXQ9MSZ0PzM5ODgyOTIzODRedD4+PjE6dD4+PjE7ZVthXT10fXJldHVybiBlfSgpO2UuZXhwb3J0cz1mdW5jdGlvbih0LGUsYSxpKXt2YXIgbj1vLHI9aSthO3RePS0xO2Zvcih2YXIgcz1pO3M8cjtzKyspdD10Pj4+OF5uWzI1NSYodF5lW3NdKV07cmV0dXJuLTFedH19LHt9XSw4OltmdW5jdGlvbih0LGUsYSl7InVzZSBzdHJpY3QiO3ZhciBsLF89dCgiLi4vdXRpbHMvY29tbW9uIiksaD10KCIuL3RyZWVzIiksdT10KCIuL2FkbGVyMzIiKSxjPXQoIi4vY3JjMzIiKSxpPXQoIi4vbWVzc2FnZXMiKSxkPTAsZj00LGI9MCxnPS0yLG09LTEsdz00LG49MixwPTgsdj05LHI9Mjg2LHM9MzAsbz0xOSxrPTIqcisxLHk9MTUseD0zLHo9MjU4LEI9eit4KzEsUz00MixFPTExMyxBPTEsWj0yLFI9MyxDPTQ7ZnVuY3Rpb24gTih0LGUpe3JldHVybiB0Lm1zZz1pW2VdLGV9ZnVuY3Rpb24gTyh0KXtyZXR1cm4odDw8MSktKDQ8dD85OjApfWZ1bmN0aW9uIEQodCl7Zm9yKHZhciBlPXQubGVuZ3RoOzA8PS0tZTspdFtlXT0wfWZ1bmN0aW9uIEkodCl7dmFyIGU9dC5zdGF0ZSxhPWUucGVuZGluZzthPnQuYXZhaWxfb3V0JiYoYT10LmF2YWlsX291dCksMCE9PWEmJihfLmFycmF5U2V0KHQub3V0cHV0LGUucGVuZGluZ19idWYsZS5wZW5kaW5nX291dCxhLHQubmV4dF9vdXQpLHQubmV4dF9vdXQrPWEsZS5wZW5kaW5nX291dCs9YSx0LnRvdGFsX291dCs9YSx0LmF2YWlsX291dC09YSxlLnBlbmRpbmctPWEsMD09PWUucGVuZGluZyYmKGUucGVuZGluZ19vdXQ9MCkpfWZ1bmN0aW9uIFUodCxlKXtoLl90cl9mbHVzaF9ibG9jayh0LDA8PXQuYmxvY2tfc3RhcnQ/dC5ibG9ja19zdGFydDotMSx0LnN0cnN0YXJ0LXQuYmxvY2tfc3RhcnQsZSksdC5ibG9ja19zdGFydD10LnN0cnN0YXJ0LEkodC5zdHJtKX1mdW5jdGlvbiBUKHQsZSl7dC5wZW5kaW5nX2J1Zlt0LnBlbmRpbmcrK109ZX1mdW5jdGlvbiBGKHQsZSl7dC5wZW5kaW5nX2J1Zlt0LnBlbmRpbmcrK109ZT4+PjgmMjU1LHQucGVuZGluZ19idWZbdC5wZW5kaW5nKytdPTI1NSZlfWZ1bmN0aW9uIEwodCxlKXt2YXIgYSxpLG49dC5tYXhfY2hhaW5fbGVuZ3RoLHI9dC5zdHJzdGFydCxzPXQucHJldl9sZW5ndGgsbz10Lm5pY2VfbWF0Y2gsbD10LnN0cnN0YXJ0PnQud19zaXplLUI/dC5zdHJzdGFydC0odC53X3NpemUtQik6MCxoPXQud2luZG93LGQ9dC53X21hc2ssZj10LnByZXYsXz10LnN0cnN0YXJ0K3osdT1oW3Ircy0xXSxjPWhbcitzXTt0LnByZXZfbGVuZ3RoPj10Lmdvb2RfbWF0Y2gmJihuPj49Miksbz50Lmxvb2thaGVhZCYmKG89dC5sb29rYWhlYWQpO2Rve2lmKGhbKGE9ZSkrc109PT1jJiZoW2Ercy0xXT09PXUmJmhbYV09PT1oW3JdJiZoWysrYV09PT1oW3IrMV0pe3IrPTIsYSsrO2Rve313aGlsZShoWysrcl09PT1oWysrYV0mJmhbKytyXT09PWhbKythXSYmaFsrK3JdPT09aFsrK2FdJiZoWysrcl09PT1oWysrYV0mJmhbKytyXT09PWhbKythXSYmaFsrK3JdPT09aFsrK2FdJiZoWysrcl09PT1oWysrYV0mJmhbKytyXT09PWhbKythXSYmcjxfKTtpZihpPXotKF8tcikscj1fLXosczxpKXtpZih0Lm1hdGNoX3N0YXJ0PWUsbzw9KHM9aSkpYnJlYWs7dT1oW3Ircy0xXSxjPWhbcitzXX19fXdoaWxlKChlPWZbZSZkXSk+bCYmMCE9LS1uKTtyZXR1cm4gczw9dC5sb29rYWhlYWQ/czp0Lmxvb2thaGVhZH1mdW5jdGlvbiBIKHQpe3ZhciBlLGEsaSxuLHIscyxvLGwsaCxkLGY9dC53X3NpemU7ZG97aWYobj10LndpbmRvd19zaXplLXQubG9va2FoZWFkLXQuc3Ryc3RhcnQsdC5zdHJzdGFydD49ZisoZi1CKSl7Zm9yKF8uYXJyYXlTZXQodC53aW5kb3csdC53aW5kb3csZixmLDApLHQubWF0Y2hfc3RhcnQtPWYsdC5zdHJzdGFydC09Zix0LmJsb2NrX3N0YXJ0LT1mLGU9YT10Lmhhc2hfc2l6ZTtpPXQuaGVhZFstLWVdLHQuaGVhZFtlXT1mPD1pP2ktZjowLC0tYTspO2ZvcihlPWE9ZjtpPXQucHJldlstLWVdLHQucHJldltlXT1mPD1pP2ktZjowLC0tYTspO24rPWZ9aWYoMD09PXQuc3RybS5hdmFpbF9pbilicmVhaztpZihzPXQuc3RybSxvPXQud2luZG93LGw9dC5zdHJzdGFydCt0Lmxvb2thaGVhZCxoPW4sZD12b2lkIDAsZD1zLmF2YWlsX2luLGg8ZCYmKGQ9aCksYT0wPT09ZD8wOihzLmF2YWlsX2luLT1kLF8uYXJyYXlTZXQobyxzLmlucHV0LHMubmV4dF9pbixkLGwpLDE9PT1zLnN0YXRlLndyYXA/cy5hZGxlcj11KHMuYWRsZXIsbyxkLGwpOjI9PT1zLnN0YXRlLndyYXAmJihzLmFkbGVyPWMocy5hZGxlcixvLGQsbCkpLHMubmV4dF9pbis9ZCxzLnRvdGFsX2luKz1kLGQpLHQubG9va2FoZWFkKz1hLHQubG9va2FoZWFkK3QuaW5zZXJ0Pj14KWZvcihyPXQuc3Ryc3RhcnQtdC5pbnNlcnQsdC5pbnNfaD10LndpbmRvd1tyXSx0Lmluc19oPSh0Lmluc19oPDx0Lmhhc2hfc2hpZnRedC53aW5kb3dbcisxXSkmdC5oYXNoX21hc2s7dC5pbnNlcnQmJih0Lmluc19oPSh0Lmluc19oPDx0Lmhhc2hfc2hpZnRedC53aW5kb3dbcit4LTFdKSZ0Lmhhc2hfbWFzayx0LnByZXZbciZ0LndfbWFza109dC5oZWFkW3QuaW5zX2hdLHQuaGVhZFt0Lmluc19oXT1yLHIrKyx0Lmluc2VydC0tLCEodC5sb29rYWhlYWQrdC5pbnNlcnQ8eCkpOyk7fXdoaWxlKHQubG9va2FoZWFkPEImJjAhPT10LnN0cm0uYXZhaWxfaW4pfWZ1bmN0aW9uIGoodCxlKXtmb3IodmFyIGEsaTs7KXtpZih0Lmxvb2thaGVhZDxCKXtpZihIKHQpLHQubG9va2FoZWFkPEImJmU9PT1kKXJldHVybiBBO2lmKDA9PT10Lmxvb2thaGVhZClicmVha31pZihhPTAsdC5sb29rYWhlYWQ+PXgmJih0Lmluc19oPSh0Lmluc19oPDx0Lmhhc2hfc2hpZnRedC53aW5kb3dbdC5zdHJzdGFydCt4LTFdKSZ0Lmhhc2hfbWFzayxhPXQucHJldlt0LnN0cnN0YXJ0JnQud19tYXNrXT10LmhlYWRbdC5pbnNfaF0sdC5oZWFkW3QuaW5zX2hdPXQuc3Ryc3RhcnQpLDAhPT1hJiZ0LnN0cnN0YXJ0LWE8PXQud19zaXplLUImJih0Lm1hdGNoX2xlbmd0aD1MKHQsYSkpLHQubWF0Y2hfbGVuZ3RoPj14KWlmKGk9aC5fdHJfdGFsbHkodCx0LnN0cnN0YXJ0LXQubWF0Y2hfc3RhcnQsdC5tYXRjaF9sZW5ndGgteCksdC5sb29rYWhlYWQtPXQubWF0Y2hfbGVuZ3RoLHQubWF0Y2hfbGVuZ3RoPD10Lm1heF9sYXp5X21hdGNoJiZ0Lmxvb2thaGVhZD49eCl7Zm9yKHQubWF0Y2hfbGVuZ3RoLS07dC5zdHJzdGFydCsrLHQuaW5zX2g9KHQuaW5zX2g8PHQuaGFzaF9zaGlmdF50LndpbmRvd1t0LnN0cnN0YXJ0K3gtMV0pJnQuaGFzaF9tYXNrLGE9dC5wcmV2W3Quc3Ryc3RhcnQmdC53X21hc2tdPXQuaGVhZFt0Lmluc19oXSx0LmhlYWRbdC5pbnNfaF09dC5zdHJzdGFydCwwIT0tLXQubWF0Y2hfbGVuZ3RoOyk7dC5zdHJzdGFydCsrfWVsc2UgdC5zdHJzdGFydCs9dC5tYXRjaF9sZW5ndGgsdC5tYXRjaF9sZW5ndGg9MCx0Lmluc19oPXQud2luZG93W3Quc3Ryc3RhcnRdLHQuaW5zX2g9KHQuaW5zX2g8PHQuaGFzaF9zaGlmdF50LndpbmRvd1t0LnN0cnN0YXJ0KzFdKSZ0Lmhhc2hfbWFzaztlbHNlIGk9aC5fdHJfdGFsbHkodCwwLHQud2luZG93W3Quc3Ryc3RhcnRdKSx0Lmxvb2thaGVhZC0tLHQuc3Ryc3RhcnQrKztpZihpJiYoVSh0LCExKSwwPT09dC5zdHJtLmF2YWlsX291dCkpcmV0dXJuIEF9cmV0dXJuIHQuaW5zZXJ0PXQuc3Ryc3RhcnQ8eC0xP3Quc3Ryc3RhcnQ6eC0xLGU9PT1mPyhVKHQsITApLDA9PT10LnN0cm0uYXZhaWxfb3V0P1I6Qyk6dC5sYXN0X2xpdCYmKFUodCwhMSksMD09PXQuc3RybS5hdmFpbF9vdXQpP0E6Wn1mdW5jdGlvbiBLKHQsZSl7Zm9yKHZhciBhLGksbjs7KXtpZih0Lmxvb2thaGVhZDxCKXtpZihIKHQpLHQubG9va2FoZWFkPEImJmU9PT1kKXJldHVybiBBO2lmKDA9PT10Lmxvb2thaGVhZClicmVha31pZihhPTAsdC5sb29rYWhlYWQ+PXgmJih0Lmluc19oPSh0Lmluc19oPDx0Lmhhc2hfc2hpZnRedC53aW5kb3dbdC5zdHJzdGFydCt4LTFdKSZ0Lmhhc2hfbWFzayxhPXQucHJldlt0LnN0cnN0YXJ0JnQud19tYXNrXT10LmhlYWRbdC5pbnNfaF0sdC5oZWFkW3QuaW5zX2hdPXQuc3Ryc3RhcnQpLHQucHJldl9sZW5ndGg9dC5tYXRjaF9sZW5ndGgsdC5wcmV2X21hdGNoPXQubWF0Y2hfc3RhcnQsdC5tYXRjaF9sZW5ndGg9eC0xLDAhPT1hJiZ0LnByZXZfbGVuZ3RoPHQubWF4X2xhenlfbWF0Y2gmJnQuc3Ryc3RhcnQtYTw9dC53X3NpemUtQiYmKHQubWF0Y2hfbGVuZ3RoPUwodCxhKSx0Lm1hdGNoX2xlbmd0aDw9NSYmKDE9PT10LnN0cmF0ZWd5fHx0Lm1hdGNoX2xlbmd0aD09PXgmJjQwOTY8dC5zdHJzdGFydC10Lm1hdGNoX3N0YXJ0KSYmKHQubWF0Y2hfbGVuZ3RoPXgtMSkpLHQucHJldl9sZW5ndGg+PXgmJnQubWF0Y2hfbGVuZ3RoPD10LnByZXZfbGVuZ3RoKXtmb3Iobj10LnN0cnN0YXJ0K3QubG9va2FoZWFkLXgsaT1oLl90cl90YWxseSh0LHQuc3Ryc3RhcnQtMS10LnByZXZfbWF0Y2gsdC5wcmV2X2xlbmd0aC14KSx0Lmxvb2thaGVhZC09dC5wcmV2X2xlbmd0aC0xLHQucHJldl9sZW5ndGgtPTI7Kyt0LnN0cnN0YXJ0PD1uJiYodC5pbnNfaD0odC5pbnNfaDw8dC5oYXNoX3NoaWZ0XnQud2luZG93W3Quc3Ryc3RhcnQreC0xXSkmdC5oYXNoX21hc2ssYT10LnByZXZbdC5zdHJzdGFydCZ0LndfbWFza109dC5oZWFkW3QuaW5zX2hdLHQuaGVhZFt0Lmluc19oXT10LnN0cnN0YXJ0KSwwIT0tLXQucHJldl9sZW5ndGg7KTtpZih0Lm1hdGNoX2F2YWlsYWJsZT0wLHQubWF0Y2hfbGVuZ3RoPXgtMSx0LnN0cnN0YXJ0KyssaSYmKFUodCwhMSksMD09PXQuc3RybS5hdmFpbF9vdXQpKXJldHVybiBBfWVsc2UgaWYodC5tYXRjaF9hdmFpbGFibGUpe2lmKChpPWguX3RyX3RhbGx5KHQsMCx0LndpbmRvd1t0LnN0cnN0YXJ0LTFdKSkmJlUodCwhMSksdC5zdHJzdGFydCsrLHQubG9va2FoZWFkLS0sMD09PXQuc3RybS5hdmFpbF9vdXQpcmV0dXJuIEF9ZWxzZSB0Lm1hdGNoX2F2YWlsYWJsZT0xLHQuc3Ryc3RhcnQrKyx0Lmxvb2thaGVhZC0tfXJldHVybiB0Lm1hdGNoX2F2YWlsYWJsZSYmKGk9aC5fdHJfdGFsbHkodCwwLHQud2luZG93W3Quc3Ryc3RhcnQtMV0pLHQubWF0Y2hfYXZhaWxhYmxlPTApLHQuaW5zZXJ0PXQuc3Ryc3RhcnQ8eC0xP3Quc3Ryc3RhcnQ6eC0xLGU9PT1mPyhVKHQsITApLDA9PT10LnN0cm0uYXZhaWxfb3V0P1I6Qyk6dC5sYXN0X2xpdCYmKFUodCwhMSksMD09PXQuc3RybS5hdmFpbF9vdXQpP0E6Wn1mdW5jdGlvbiBNKHQsZSxhLGksbil7dGhpcy5nb29kX2xlbmd0aD10LHRoaXMubWF4X2xhenk9ZSx0aGlzLm5pY2VfbGVuZ3RoPWEsdGhpcy5tYXhfY2hhaW49aSx0aGlzLmZ1bmM9bn1mdW5jdGlvbiBQKCl7dGhpcy5zdHJtPW51bGwsdGhpcy5zdGF0dXM9MCx0aGlzLnBlbmRpbmdfYnVmPW51bGwsdGhpcy5wZW5kaW5nX2J1Zl9zaXplPTAsdGhpcy5wZW5kaW5nX291dD0wLHRoaXMucGVuZGluZz0wLHRoaXMud3JhcD0wLHRoaXMuZ3poZWFkPW51bGwsdGhpcy5nemluZGV4PTAsdGhpcy5tZXRob2Q9cCx0aGlzLmxhc3RfZmx1c2g9LTEsdGhpcy53X3NpemU9MCx0aGlzLndfYml0cz0wLHRoaXMud19tYXNrPTAsdGhpcy53aW5kb3c9bnVsbCx0aGlzLndpbmRvd19zaXplPTAsdGhpcy5wcmV2PW51bGwsdGhpcy5oZWFkPW51bGwsdGhpcy5pbnNfaD0wLHRoaXMuaGFzaF9zaXplPTAsdGhpcy5oYXNoX2JpdHM9MCx0aGlzLmhhc2hfbWFzaz0wLHRoaXMuaGFzaF9zaGlmdD0wLHRoaXMuYmxvY2tfc3RhcnQ9MCx0aGlzLm1hdGNoX2xlbmd0aD0wLHRoaXMucHJldl9tYXRjaD0wLHRoaXMubWF0Y2hfYXZhaWxhYmxlPTAsdGhpcy5zdHJzdGFydD0wLHRoaXMubWF0Y2hfc3RhcnQ9MCx0aGlzLmxvb2thaGVhZD0wLHRoaXMucHJldl9sZW5ndGg9MCx0aGlzLm1heF9jaGFpbl9sZW5ndGg9MCx0aGlzLm1heF9sYXp5X21hdGNoPTAsdGhpcy5sZXZlbD0wLHRoaXMuc3RyYXRlZ3k9MCx0aGlzLmdvb2RfbWF0Y2g9MCx0aGlzLm5pY2VfbWF0Y2g9MCx0aGlzLmR5bl9sdHJlZT1uZXcgXy5CdWYxNigyKmspLHRoaXMuZHluX2R0cmVlPW5ldyBfLkJ1ZjE2KDIqKDIqcysxKSksdGhpcy5ibF90cmVlPW5ldyBfLkJ1ZjE2KDIqKDIqbysxKSksRCh0aGlzLmR5bl9sdHJlZSksRCh0aGlzLmR5bl9kdHJlZSksRCh0aGlzLmJsX3RyZWUpLHRoaXMubF9kZXNjPW51bGwsdGhpcy5kX2Rlc2M9bnVsbCx0aGlzLmJsX2Rlc2M9bnVsbCx0aGlzLmJsX2NvdW50PW5ldyBfLkJ1ZjE2KHkrMSksdGhpcy5oZWFwPW5ldyBfLkJ1ZjE2KDIqcisxKSxEKHRoaXMuaGVhcCksdGhpcy5oZWFwX2xlbj0wLHRoaXMuaGVhcF9tYXg9MCx0aGlzLmRlcHRoPW5ldyBfLkJ1ZjE2KDIqcisxKSxEKHRoaXMuZGVwdGgpLHRoaXMubF9idWY9MCx0aGlzLmxpdF9idWZzaXplPTAsdGhpcy5sYXN0X2xpdD0wLHRoaXMuZF9idWY9MCx0aGlzLm9wdF9sZW49MCx0aGlzLnN0YXRpY19sZW49MCx0aGlzLm1hdGNoZXM9MCx0aGlzLmluc2VydD0wLHRoaXMuYmlfYnVmPTAsdGhpcy5iaV92YWxpZD0wfWZ1bmN0aW9uIFkodCl7dmFyIGU7cmV0dXJuIHQmJnQuc3RhdGU/KHQudG90YWxfaW49dC50b3RhbF9vdXQ9MCx0LmRhdGFfdHlwZT1uLChlPXQuc3RhdGUpLnBlbmRpbmc9MCxlLnBlbmRpbmdfb3V0PTAsZS53cmFwPDAmJihlLndyYXA9LWUud3JhcCksZS5zdGF0dXM9ZS53cmFwP1M6RSx0LmFkbGVyPTI9PT1lLndyYXA/MDoxLGUubGFzdF9mbHVzaD1kLGguX3RyX2luaXQoZSksYik6Tih0LGcpfWZ1bmN0aW9uIHEodCl7dmFyIGUsYT1ZKHQpO3JldHVybiBhPT09YiYmKChlPXQuc3RhdGUpLndpbmRvd19zaXplPTIqZS53X3NpemUsRChlLmhlYWQpLGUubWF4X2xhenlfbWF0Y2g9bFtlLmxldmVsXS5tYXhfbGF6eSxlLmdvb2RfbWF0Y2g9bFtlLmxldmVsXS5nb29kX2xlbmd0aCxlLm5pY2VfbWF0Y2g9bFtlLmxldmVsXS5uaWNlX2xlbmd0aCxlLm1heF9jaGFpbl9sZW5ndGg9bFtlLmxldmVsXS5tYXhfY2hhaW4sZS5zdHJzdGFydD0wLGUuYmxvY2tfc3RhcnQ9MCxlLmxvb2thaGVhZD0wLGUuaW5zZXJ0PTAsZS5tYXRjaF9sZW5ndGg9ZS5wcmV2X2xlbmd0aD14LTEsZS5tYXRjaF9hdmFpbGFibGU9MCxlLmluc19oPTApLGF9ZnVuY3Rpb24gRyh0LGUsYSxpLG4scil7aWYoIXQpcmV0dXJuIGc7dmFyIHM9MTtpZihlPT09bSYmKGU9NiksaTwwPyhzPTAsaT0taSk6MTU8aSYmKHM9MixpLT0xNiksbjwxfHx2PG58fGEhPT1wfHxpPDh8fDE1PGl8fGU8MHx8OTxlfHxyPDB8fHc8cilyZXR1cm4gTih0LGcpOzg9PT1pJiYoaT05KTt2YXIgbz1uZXcgUDtyZXR1cm4odC5zdGF0ZT1vKS5zdHJtPXQsby53cmFwPXMsby5nemhlYWQ9bnVsbCxvLndfYml0cz1pLG8ud19zaXplPTE8PG8ud19iaXRzLG8ud19tYXNrPW8ud19zaXplLTEsby5oYXNoX2JpdHM9bis3LG8uaGFzaF9zaXplPTE8PG8uaGFzaF9iaXRzLG8uaGFzaF9tYXNrPW8uaGFzaF9zaXplLTEsby5oYXNoX3NoaWZ0PX5+KChvLmhhc2hfYml0cyt4LTEpL3gpLG8ud2luZG93PW5ldyBfLkJ1ZjgoMipvLndfc2l6ZSksby5oZWFkPW5ldyBfLkJ1ZjE2KG8uaGFzaF9zaXplKSxvLnByZXY9bmV3IF8uQnVmMTYoby53X3NpemUpLG8ubGl0X2J1ZnNpemU9MTw8bis2LG8ucGVuZGluZ19idWZfc2l6ZT00Km8ubGl0X2J1ZnNpemUsby5wZW5kaW5nX2J1Zj1uZXcgXy5CdWY4KG8ucGVuZGluZ19idWZfc2l6ZSksby5kX2J1Zj0xKm8ubGl0X2J1ZnNpemUsby5sX2J1Zj0zKm8ubGl0X2J1ZnNpemUsby5sZXZlbD1lLG8uc3RyYXRlZ3k9cixvLm1ldGhvZD1hLHEodCl9bD1bbmV3IE0oMCwwLDAsMCxmdW5jdGlvbih0LGUpe3ZhciBhPTY1NTM1O2ZvcihhPnQucGVuZGluZ19idWZfc2l6ZS01JiYoYT10LnBlbmRpbmdfYnVmX3NpemUtNSk7Oyl7aWYodC5sb29rYWhlYWQ8PTEpe2lmKEgodCksMD09PXQubG9va2FoZWFkJiZlPT09ZClyZXR1cm4gQTtpZigwPT09dC5sb29rYWhlYWQpYnJlYWt9dC5zdHJzdGFydCs9dC5sb29rYWhlYWQsdC5sb29rYWhlYWQ9MDt2YXIgaT10LmJsb2NrX3N0YXJ0K2E7aWYoKDA9PT10LnN0cnN0YXJ0fHx0LnN0cnN0YXJ0Pj1pKSYmKHQubG9va2FoZWFkPXQuc3Ryc3RhcnQtaSx0LnN0cnN0YXJ0PWksVSh0LCExKSwwPT09dC5zdHJtLmF2YWlsX291dCkpcmV0dXJuIEE7aWYodC5zdHJzdGFydC10LmJsb2NrX3N0YXJ0Pj10Lndfc2l6ZS1CJiYoVSh0LCExKSwwPT09dC5zdHJtLmF2YWlsX291dCkpcmV0dXJuIEF9cmV0dXJuIHQuaW5zZXJ0PTAsZT09PWY/KFUodCwhMCksMD09PXQuc3RybS5hdmFpbF9vdXQ/UjpDKToodC5zdHJzdGFydD50LmJsb2NrX3N0YXJ0JiYoVSh0LCExKSx0LnN0cm0uYXZhaWxfb3V0KSxBKX0pLG5ldyBNKDQsNCw4LDQsaiksbmV3IE0oNCw1LDE2LDgsaiksbmV3IE0oNCw2LDMyLDMyLGopLG5ldyBNKDQsNCwxNiwxNixLKSxuZXcgTSg4LDE2LDMyLDMyLEspLG5ldyBNKDgsMTYsMTI4LDEyOCxLKSxuZXcgTSg4LDMyLDEyOCwyNTYsSyksbmV3IE0oMzIsMTI4LDI1OCwxMDI0LEspLG5ldyBNKDMyLDI1OCwyNTgsNDA5NixLKV0sYS5kZWZsYXRlSW5pdD1mdW5jdGlvbih0LGUpe3JldHVybiBHKHQsZSxwLDE1LDgsMCl9LGEuZGVmbGF0ZUluaXQyPUcsYS5kZWZsYXRlUmVzZXQ9cSxhLmRlZmxhdGVSZXNldEtlZXA9WSxhLmRlZmxhdGVTZXRIZWFkZXI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdCYmdC5zdGF0ZT8yIT09dC5zdGF0ZS53cmFwP2c6KHQuc3RhdGUuZ3poZWFkPWUsYik6Z30sYS5kZWZsYXRlPWZ1bmN0aW9uKHQsZSl7dmFyIGEsaSxuLHI7aWYoIXR8fCF0LnN0YXRlfHw1PGV8fGU8MClyZXR1cm4gdD9OKHQsZyk6ZztpZihpPXQuc3RhdGUsIXQub3V0cHV0fHwhdC5pbnB1dCYmMCE9PXQuYXZhaWxfaW58fDY2Nj09PWkuc3RhdHVzJiZlIT09ZilyZXR1cm4gTih0LDA9PT10LmF2YWlsX291dD8tNTpnKTtpZihpLnN0cm09dCxhPWkubGFzdF9mbHVzaCxpLmxhc3RfZmx1c2g9ZSxpLnN0YXR1cz09PVMpaWYoMj09PWkud3JhcCl0LmFkbGVyPTAsVChpLDMxKSxUKGksMTM5KSxUKGksOCksaS5nemhlYWQ/KFQoaSwoaS5nemhlYWQudGV4dD8xOjApKyhpLmd6aGVhZC5oY3JjPzI6MCkrKGkuZ3poZWFkLmV4dHJhPzQ6MCkrKGkuZ3poZWFkLm5hbWU/ODowKSsoaS5nemhlYWQuY29tbWVudD8xNjowKSksVChpLDI1NSZpLmd6aGVhZC50aW1lKSxUKGksaS5nemhlYWQudGltZT4+OCYyNTUpLFQoaSxpLmd6aGVhZC50aW1lPj4xNiYyNTUpLFQoaSxpLmd6aGVhZC50aW1lPj4yNCYyNTUpLFQoaSw5PT09aS5sZXZlbD8yOjI8PWkuc3RyYXRlZ3l8fGkubGV2ZWw8Mj80OjApLFQoaSwyNTUmaS5nemhlYWQub3MpLGkuZ3poZWFkLmV4dHJhJiZpLmd6aGVhZC5leHRyYS5sZW5ndGgmJihUKGksMjU1JmkuZ3poZWFkLmV4dHJhLmxlbmd0aCksVChpLGkuZ3poZWFkLmV4dHJhLmxlbmd0aD4+OCYyNTUpKSxpLmd6aGVhZC5oY3JjJiYodC5hZGxlcj1jKHQuYWRsZXIsaS5wZW5kaW5nX2J1ZixpLnBlbmRpbmcsMCkpLGkuZ3ppbmRleD0wLGkuc3RhdHVzPTY5KTooVChpLDApLFQoaSwwKSxUKGksMCksVChpLDApLFQoaSwwKSxUKGksOT09PWkubGV2ZWw/MjoyPD1pLnN0cmF0ZWd5fHxpLmxldmVsPDI/NDowKSxUKGksMyksaS5zdGF0dXM9RSk7ZWxzZXt2YXIgcz1wKyhpLndfYml0cy04PDw0KTw8ODtzfD0oMjw9aS5zdHJhdGVneXx8aS5sZXZlbDwyPzA6aS5sZXZlbDw2PzE6Nj09PWkubGV2ZWw/MjozKTw8NiwwIT09aS5zdHJzdGFydCYmKHN8PTMyKSxzKz0zMS1zJTMxLGkuc3RhdHVzPUUsRihpLHMpLDAhPT1pLnN0cnN0YXJ0JiYoRihpLHQuYWRsZXI+Pj4xNiksRihpLDY1NTM1JnQuYWRsZXIpKSx0LmFkbGVyPTF9aWYoNjk9PT1pLnN0YXR1cylpZihpLmd6aGVhZC5leHRyYSl7Zm9yKG49aS5wZW5kaW5nO2kuZ3ppbmRleDwoNjU1MzUmaS5nemhlYWQuZXh0cmEubGVuZ3RoKSYmKGkucGVuZGluZyE9PWkucGVuZGluZ19idWZfc2l6ZXx8KGkuZ3poZWFkLmhjcmMmJmkucGVuZGluZz5uJiYodC5hZGxlcj1jKHQuYWRsZXIsaS5wZW5kaW5nX2J1ZixpLnBlbmRpbmctbixuKSksSSh0KSxuPWkucGVuZGluZyxpLnBlbmRpbmchPT1pLnBlbmRpbmdfYnVmX3NpemUpKTspVChpLDI1NSZpLmd6aGVhZC5leHRyYVtpLmd6aW5kZXhdKSxpLmd6aW5kZXgrKztpLmd6aGVhZC5oY3JjJiZpLnBlbmRpbmc+biYmKHQuYWRsZXI9Yyh0LmFkbGVyLGkucGVuZGluZ19idWYsaS5wZW5kaW5nLW4sbikpLGkuZ3ppbmRleD09PWkuZ3poZWFkLmV4dHJhLmxlbmd0aCYmKGkuZ3ppbmRleD0wLGkuc3RhdHVzPTczKX1lbHNlIGkuc3RhdHVzPTczO2lmKDczPT09aS5zdGF0dXMpaWYoaS5nemhlYWQubmFtZSl7bj1pLnBlbmRpbmc7ZG97aWYoaS5wZW5kaW5nPT09aS5wZW5kaW5nX2J1Zl9zaXplJiYoaS5nemhlYWQuaGNyYyYmaS5wZW5kaW5nPm4mJih0LmFkbGVyPWModC5hZGxlcixpLnBlbmRpbmdfYnVmLGkucGVuZGluZy1uLG4pKSxJKHQpLG49aS5wZW5kaW5nLGkucGVuZGluZz09PWkucGVuZGluZ19idWZfc2l6ZSkpe3I9MTticmVha31UKGkscj1pLmd6aW5kZXg8aS5nemhlYWQubmFtZS5sZW5ndGg/MjU1JmkuZ3poZWFkLm5hbWUuY2hhckNvZGVBdChpLmd6aW5kZXgrKyk6MCl9d2hpbGUoMCE9PXIpO2kuZ3poZWFkLmhjcmMmJmkucGVuZGluZz5uJiYodC5hZGxlcj1jKHQuYWRsZXIsaS5wZW5kaW5nX2J1ZixpLnBlbmRpbmctbixuKSksMD09PXImJihpLmd6aW5kZXg9MCxpLnN0YXR1cz05MSl9ZWxzZSBpLnN0YXR1cz05MTtpZig5MT09PWkuc3RhdHVzKWlmKGkuZ3poZWFkLmNvbW1lbnQpe249aS5wZW5kaW5nO2Rve2lmKGkucGVuZGluZz09PWkucGVuZGluZ19idWZfc2l6ZSYmKGkuZ3poZWFkLmhjcmMmJmkucGVuZGluZz5uJiYodC5hZGxlcj1jKHQuYWRsZXIsaS5wZW5kaW5nX2J1ZixpLnBlbmRpbmctbixuKSksSSh0KSxuPWkucGVuZGluZyxpLnBlbmRpbmc9PT1pLnBlbmRpbmdfYnVmX3NpemUpKXtyPTE7YnJlYWt9VChpLHI9aS5nemluZGV4PGkuZ3poZWFkLmNvbW1lbnQubGVuZ3RoPzI1NSZpLmd6aGVhZC5jb21tZW50LmNoYXJDb2RlQXQoaS5nemluZGV4KyspOjApfXdoaWxlKDAhPT1yKTtpLmd6aGVhZC5oY3JjJiZpLnBlbmRpbmc+biYmKHQuYWRsZXI9Yyh0LmFkbGVyLGkucGVuZGluZ19idWYsaS5wZW5kaW5nLW4sbikpLDA9PT1yJiYoaS5zdGF0dXM9MTAzKX1lbHNlIGkuc3RhdHVzPTEwMztpZigxMDM9PT1pLnN0YXR1cyYmKGkuZ3poZWFkLmhjcmM/KGkucGVuZGluZysyPmkucGVuZGluZ19idWZfc2l6ZSYmSSh0KSxpLnBlbmRpbmcrMjw9aS5wZW5kaW5nX2J1Zl9zaXplJiYoVChpLDI1NSZ0LmFkbGVyKSxUKGksdC5hZGxlcj4+OCYyNTUpLHQuYWRsZXI9MCxpLnN0YXR1cz1FKSk6aS5zdGF0dXM9RSksMCE9PWkucGVuZGluZyl7aWYoSSh0KSwwPT09dC5hdmFpbF9vdXQpcmV0dXJuIGkubGFzdF9mbHVzaD0tMSxifWVsc2UgaWYoMD09PXQuYXZhaWxfaW4mJk8oZSk8PU8oYSkmJmUhPT1mKXJldHVybiBOKHQsLTUpO2lmKDY2Nj09PWkuc3RhdHVzJiYwIT09dC5hdmFpbF9pbilyZXR1cm4gTih0LC01KTtpZigwIT09dC5hdmFpbF9pbnx8MCE9PWkubG9va2FoZWFkfHxlIT09ZCYmNjY2IT09aS5zdGF0dXMpe3ZhciBvPTI9PT1pLnN0cmF0ZWd5P2Z1bmN0aW9uKHQsZSl7Zm9yKHZhciBhOzspe2lmKDA9PT10Lmxvb2thaGVhZCYmKEgodCksMD09PXQubG9va2FoZWFkKSl7aWYoZT09PWQpcmV0dXJuIEE7YnJlYWt9aWYodC5tYXRjaF9sZW5ndGg9MCxhPWguX3RyX3RhbGx5KHQsMCx0LndpbmRvd1t0LnN0cnN0YXJ0XSksdC5sb29rYWhlYWQtLSx0LnN0cnN0YXJ0KyssYSYmKFUodCwhMSksMD09PXQuc3RybS5hdmFpbF9vdXQpKXJldHVybiBBfXJldHVybiB0Lmluc2VydD0wLGU9PT1mPyhVKHQsITApLDA9PT10LnN0cm0uYXZhaWxfb3V0P1I6Qyk6dC5sYXN0X2xpdCYmKFUodCwhMSksMD09PXQuc3RybS5hdmFpbF9vdXQpP0E6Wn0oaSxlKTozPT09aS5zdHJhdGVneT9mdW5jdGlvbih0LGUpe2Zvcih2YXIgYSxpLG4scixzPXQud2luZG93Ozspe2lmKHQubG9va2FoZWFkPD16KXtpZihIKHQpLHQubG9va2FoZWFkPD16JiZlPT09ZClyZXR1cm4gQTtpZigwPT09dC5sb29rYWhlYWQpYnJlYWt9aWYodC5tYXRjaF9sZW5ndGg9MCx0Lmxvb2thaGVhZD49eCYmMDx0LnN0cnN0YXJ0JiYoaT1zW249dC5zdHJzdGFydC0xXSk9PT1zWysrbl0mJmk9PT1zWysrbl0mJmk9PT1zWysrbl0pe3I9dC5zdHJzdGFydCt6O2Rve313aGlsZShpPT09c1srK25dJiZpPT09c1srK25dJiZpPT09c1srK25dJiZpPT09c1srK25dJiZpPT09c1srK25dJiZpPT09c1srK25dJiZpPT09c1srK25dJiZpPT09c1srK25dJiZuPHIpO3QubWF0Y2hfbGVuZ3RoPXotKHItbiksdC5tYXRjaF9sZW5ndGg+dC5sb29rYWhlYWQmJih0Lm1hdGNoX2xlbmd0aD10Lmxvb2thaGVhZCl9aWYodC5tYXRjaF9sZW5ndGg+PXg/KGE9aC5fdHJfdGFsbHkodCwxLHQubWF0Y2hfbGVuZ3RoLXgpLHQubG9va2FoZWFkLT10Lm1hdGNoX2xlbmd0aCx0LnN0cnN0YXJ0Kz10Lm1hdGNoX2xlbmd0aCx0Lm1hdGNoX2xlbmd0aD0wKTooYT1oLl90cl90YWxseSh0LDAsdC53aW5kb3dbdC5zdHJzdGFydF0pLHQubG9va2FoZWFkLS0sdC5zdHJzdGFydCsrKSxhJiYoVSh0LCExKSwwPT09dC5zdHJtLmF2YWlsX291dCkpcmV0dXJuIEF9cmV0dXJuIHQuaW5zZXJ0PTAsZT09PWY/KFUodCwhMCksMD09PXQuc3RybS5hdmFpbF9vdXQ/UjpDKTp0Lmxhc3RfbGl0JiYoVSh0LCExKSwwPT09dC5zdHJtLmF2YWlsX291dCk/QTpafShpLGUpOmxbaS5sZXZlbF0uZnVuYyhpLGUpO2lmKG8hPT1SJiZvIT09Q3x8KGkuc3RhdHVzPTY2Niksbz09PUF8fG89PT1SKXJldHVybiAwPT09dC5hdmFpbF9vdXQmJihpLmxhc3RfZmx1c2g9LTEpLGI7aWYobz09PVomJigxPT09ZT9oLl90cl9hbGlnbihpKTo1IT09ZSYmKGguX3RyX3N0b3JlZF9ibG9jayhpLDAsMCwhMSksMz09PWUmJihEKGkuaGVhZCksMD09PWkubG9va2FoZWFkJiYoaS5zdHJzdGFydD0wLGkuYmxvY2tfc3RhcnQ9MCxpLmluc2VydD0wKSkpLEkodCksMD09PXQuYXZhaWxfb3V0KSlyZXR1cm4gaS5sYXN0X2ZsdXNoPS0xLGJ9cmV0dXJuIGUhPT1mP2I6aS53cmFwPD0wPzE6KDI9PT1pLndyYXA/KFQoaSwyNTUmdC5hZGxlciksVChpLHQuYWRsZXI+PjgmMjU1KSxUKGksdC5hZGxlcj4+MTYmMjU1KSxUKGksdC5hZGxlcj4+MjQmMjU1KSxUKGksMjU1JnQudG90YWxfaW4pLFQoaSx0LnRvdGFsX2luPj44JjI1NSksVChpLHQudG90YWxfaW4+PjE2JjI1NSksVChpLHQudG90YWxfaW4+PjI0JjI1NSkpOihGKGksdC5hZGxlcj4+PjE2KSxGKGksNjU1MzUmdC5hZGxlcikpLEkodCksMDxpLndyYXAmJihpLndyYXA9LWkud3JhcCksMCE9PWkucGVuZGluZz9iOjEpfSxhLmRlZmxhdGVFbmQ9ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuIHQmJnQuc3RhdGU/KGU9dC5zdGF0ZS5zdGF0dXMpIT09UyYmNjkhPT1lJiY3MyE9PWUmJjkxIT09ZSYmMTAzIT09ZSYmZSE9PUUmJjY2NiE9PWU/Tih0LGcpOih0LnN0YXRlPW51bGwsZT09PUU/Tih0LC0zKTpiKTpnfSxhLmRlZmxhdGVTZXREaWN0aW9uYXJ5PWZ1bmN0aW9uKHQsZSl7dmFyIGEsaSxuLHIscyxvLGwsaCxkPWUubGVuZ3RoO2lmKCF0fHwhdC5zdGF0ZSlyZXR1cm4gZztpZigyPT09KHI9KGE9dC5zdGF0ZSkud3JhcCl8fDE9PT1yJiZhLnN0YXR1cyE9PVN8fGEubG9va2FoZWFkKXJldHVybiBnO2ZvcigxPT09ciYmKHQuYWRsZXI9dSh0LmFkbGVyLGUsZCwwKSksYS53cmFwPTAsZD49YS53X3NpemUmJigwPT09ciYmKEQoYS5oZWFkKSxhLnN0cnN0YXJ0PTAsYS5ibG9ja19zdGFydD0wLGEuaW5zZXJ0PTApLGg9bmV3IF8uQnVmOChhLndfc2l6ZSksXy5hcnJheVNldChoLGUsZC1hLndfc2l6ZSxhLndfc2l6ZSwwKSxlPWgsZD1hLndfc2l6ZSkscz10LmF2YWlsX2luLG89dC5uZXh0X2luLGw9dC5pbnB1dCx0LmF2YWlsX2luPWQsdC5uZXh0X2luPTAsdC5pbnB1dD1lLEgoYSk7YS5sb29rYWhlYWQ+PXg7KXtmb3IoaT1hLnN0cnN0YXJ0LG49YS5sb29rYWhlYWQtKHgtMSk7YS5pbnNfaD0oYS5pbnNfaDw8YS5oYXNoX3NoaWZ0XmEud2luZG93W2kreC0xXSkmYS5oYXNoX21hc2ssYS5wcmV2W2kmYS53X21hc2tdPWEuaGVhZFthLmluc19oXSxhLmhlYWRbYS5pbnNfaF09aSxpKyssLS1uOyk7YS5zdHJzdGFydD1pLGEubG9va2FoZWFkPXgtMSxIKGEpfXJldHVybiBhLnN0cnN0YXJ0Kz1hLmxvb2thaGVhZCxhLmJsb2NrX3N0YXJ0PWEuc3Ryc3RhcnQsYS5pbnNlcnQ9YS5sb29rYWhlYWQsYS5sb29rYWhlYWQ9MCxhLm1hdGNoX2xlbmd0aD1hLnByZXZfbGVuZ3RoPXgtMSxhLm1hdGNoX2F2YWlsYWJsZT0wLHQubmV4dF9pbj1vLHQuaW5wdXQ9bCx0LmF2YWlsX2luPXMsYS53cmFwPXIsYn0sYS5kZWZsYXRlSW5mbz0icGFrbyBkZWZsYXRlIChmcm9tIE5vZGVjYSBwcm9qZWN0KSJ9LHsiLi4vdXRpbHMvY29tbW9uIjozLCIuL2FkbGVyMzIiOjUsIi4vY3JjMzIiOjcsIi4vbWVzc2FnZXMiOjEzLCIuL3RyZWVzIjoxNH1dLDk6W2Z1bmN0aW9uKHQsZSxhKXsidXNlIHN0cmljdCI7ZS5leHBvcnRzPWZ1bmN0aW9uKCl7dGhpcy50ZXh0PTAsdGhpcy50aW1lPTAsdGhpcy54ZmxhZ3M9MCx0aGlzLm9zPTAsdGhpcy5leHRyYT1udWxsLHRoaXMuZXh0cmFfbGVuPTAsdGhpcy5uYW1lPSIiLHRoaXMuY29tbWVudD0iIix0aGlzLmhjcmM9MCx0aGlzLmRvbmU9ITF9fSx7fV0sMTA6W2Z1bmN0aW9uKHQsZSxhKXsidXNlIHN0cmljdCI7ZS5leHBvcnRzPWZ1bmN0aW9uKHQsZSl7dmFyIGEsaSxuLHIscyxvLGwsaCxkLGYsXyx1LGMsYixnLG0sdyxwLHYsayx5LHgseixCLFM7YT10LnN0YXRlLGk9dC5uZXh0X2luLEI9dC5pbnB1dCxuPWkrKHQuYXZhaWxfaW4tNSkscj10Lm5leHRfb3V0LFM9dC5vdXRwdXQscz1yLShlLXQuYXZhaWxfb3V0KSxvPXIrKHQuYXZhaWxfb3V0LTI1NyksbD1hLmRtYXgsaD1hLndzaXplLGQ9YS53aGF2ZSxmPWEud25leHQsXz1hLndpbmRvdyx1PWEuaG9sZCxjPWEuYml0cyxiPWEubGVuY29kZSxnPWEuZGlzdGNvZGUsbT0oMTw8YS5sZW5iaXRzKS0xLHc9KDE8PGEuZGlzdGJpdHMpLTE7dDpkb3tjPDE1JiYodSs9QltpKytdPDxjLGMrPTgsdSs9QltpKytdPDxjLGMrPTgpLHA9Ylt1Jm1dO2U6Zm9yKDs7KXtpZih1Pj4+PXY9cD4+PjI0LGMtPXYsMD09PSh2PXA+Pj4xNiYyNTUpKVNbcisrXT02NTUzNSZwO2Vsc2V7aWYoISgxNiZ2KSl7aWYoMD09KDY0JnYpKXtwPWJbKDY1NTM1JnApKyh1JigxPDx2KS0xKV07Y29udGludWUgZX1pZigzMiZ2KXthLm1vZGU9MTI7YnJlYWsgdH10Lm1zZz0iaW52YWxpZCBsaXRlcmFsL2xlbmd0aCBjb2RlIixhLm1vZGU9MzA7YnJlYWsgdH1rPTY1NTM1JnAsKHYmPTE1KSYmKGM8diYmKHUrPUJbaSsrXTw8YyxjKz04KSxrKz11JigxPDx2KS0xLHU+Pj49dixjLT12KSxjPDE1JiYodSs9QltpKytdPDxjLGMrPTgsdSs9QltpKytdPDxjLGMrPTgpLHA9Z1t1JnddO2E6Zm9yKDs7KXtpZih1Pj4+PXY9cD4+PjI0LGMtPXYsISgxNiYodj1wPj4+MTYmMjU1KSkpe2lmKDA9PSg2NCZ2KSl7cD1nWyg2NTUzNSZwKSsodSYoMTw8diktMSldO2NvbnRpbnVlIGF9dC5tc2c9ImludmFsaWQgZGlzdGFuY2UgY29kZSIsYS5tb2RlPTMwO2JyZWFrIHR9aWYoeT02NTUzNSZwLGM8KHYmPTE1KSYmKHUrPUJbaSsrXTw8YywoYys9OCk8diYmKHUrPUJbaSsrXTw8YyxjKz04KSksbDwoeSs9dSYoMTw8diktMSkpe3QubXNnPSJpbnZhbGlkIGRpc3RhbmNlIHRvbyBmYXIgYmFjayIsYS5tb2RlPTMwO2JyZWFrIHR9aWYodT4+Pj12LGMtPXYsKHY9ci1zKTx5KXtpZihkPCh2PXktdikmJmEuc2FuZSl7dC5tc2c9ImludmFsaWQgZGlzdGFuY2UgdG9vIGZhciBiYWNrIixhLm1vZGU9MzA7YnJlYWsgdH1pZih6PV8sKHg9MCk9PT1mKXtpZih4Kz1oLXYsdjxrKXtmb3Ioay09djtTW3IrK109X1t4KytdLC0tdjspO3g9ci15LHo9U319ZWxzZSBpZihmPHYpe2lmKHgrPWgrZi12LCh2LT1mKTxrKXtmb3Ioay09djtTW3IrK109X1t4KytdLC0tdjspO2lmKHg9MCxmPGspe2ZvcihrLT12PWY7U1tyKytdPV9beCsrXSwtLXY7KTt4PXIteSx6PVN9fX1lbHNlIGlmKHgrPWYtdix2PGspe2ZvcihrLT12O1NbcisrXT1fW3grK10sLS12Oyk7eD1yLXksej1TfWZvcig7MjxrOylTW3IrK109elt4KytdLFNbcisrXT16W3grK10sU1tyKytdPXpbeCsrXSxrLT0zO2smJihTW3IrK109elt4KytdLDE8ayYmKFNbcisrXT16W3grK10pKX1lbHNle2Zvcih4PXIteTtTW3IrK109U1t4KytdLFNbcisrXT1TW3grK10sU1tyKytdPVNbeCsrXSwyPChrLT0zKTspO2smJihTW3IrK109U1t4KytdLDE8ayYmKFNbcisrXT1TW3grK10pKX1icmVha319YnJlYWt9fXdoaWxlKGk8biYmcjxvKTtpLT1rPWM+PjMsdSY9KDE8PChjLT1rPDwzKSktMSx0Lm5leHRfaW49aSx0Lm5leHRfb3V0PXIsdC5hdmFpbF9pbj1pPG4/bi1pKzU6NS0oaS1uKSx0LmF2YWlsX291dD1yPG8/by1yKzI1NzoyNTctKHItbyksYS5ob2xkPXUsYS5iaXRzPWN9fSx7fV0sMTE6W2Z1bmN0aW9uKHQsZSxhKXsidXNlIHN0cmljdCI7dmFyIFo9dCgiLi4vdXRpbHMvY29tbW9uIiksUj10KCIuL2FkbGVyMzIiKSxDPXQoIi4vY3JjMzIiKSxOPXQoIi4vaW5mZmFzdCIpLE89dCgiLi9pbmZ0cmVlcyIpLEQ9MSxJPTIsVT0wLFQ9LTIsRj0xLGk9ODUyLG49NTkyO2Z1bmN0aW9uIEwodCl7cmV0dXJuKHQ+Pj4yNCYyNTUpKyh0Pj4+OCY2NTI4MCkrKCg2NTI4MCZ0KTw8OCkrKCgyNTUmdCk8PDI0KX1mdW5jdGlvbiByKCl7dGhpcy5tb2RlPTAsdGhpcy5sYXN0PSExLHRoaXMud3JhcD0wLHRoaXMuaGF2ZWRpY3Q9ITEsdGhpcy5mbGFncz0wLHRoaXMuZG1heD0wLHRoaXMuY2hlY2s9MCx0aGlzLnRvdGFsPTAsdGhpcy5oZWFkPW51bGwsdGhpcy53Yml0cz0wLHRoaXMud3NpemU9MCx0aGlzLndoYXZlPTAsdGhpcy53bmV4dD0wLHRoaXMud2luZG93PW51bGwsdGhpcy5ob2xkPTAsdGhpcy5iaXRzPTAsdGhpcy5sZW5ndGg9MCx0aGlzLm9mZnNldD0wLHRoaXMuZXh0cmE9MCx0aGlzLmxlbmNvZGU9bnVsbCx0aGlzLmRpc3Rjb2RlPW51bGwsdGhpcy5sZW5iaXRzPTAsdGhpcy5kaXN0Yml0cz0wLHRoaXMubmNvZGU9MCx0aGlzLm5sZW49MCx0aGlzLm5kaXN0PTAsdGhpcy5oYXZlPTAsdGhpcy5uZXh0PW51bGwsdGhpcy5sZW5zPW5ldyBaLkJ1ZjE2KDMyMCksdGhpcy53b3JrPW5ldyBaLkJ1ZjE2KDI4OCksdGhpcy5sZW5keW49bnVsbCx0aGlzLmRpc3RkeW49bnVsbCx0aGlzLnNhbmU9MCx0aGlzLmJhY2s9MCx0aGlzLndhcz0wfWZ1bmN0aW9uIHModCl7dmFyIGU7cmV0dXJuIHQmJnQuc3RhdGU/KGU9dC5zdGF0ZSx0LnRvdGFsX2luPXQudG90YWxfb3V0PWUudG90YWw9MCx0Lm1zZz0iIixlLndyYXAmJih0LmFkbGVyPTEmZS53cmFwKSxlLm1vZGU9RixlLmxhc3Q9MCxlLmhhdmVkaWN0PTAsZS5kbWF4PTMyNzY4LGUuaGVhZD1udWxsLGUuaG9sZD0wLGUuYml0cz0wLGUubGVuY29kZT1lLmxlbmR5bj1uZXcgWi5CdWYzMihpKSxlLmRpc3Rjb2RlPWUuZGlzdGR5bj1uZXcgWi5CdWYzMihuKSxlLnNhbmU9MSxlLmJhY2s9LTEsVSk6VH1mdW5jdGlvbiBvKHQpe3ZhciBlO3JldHVybiB0JiZ0LnN0YXRlPygoZT10LnN0YXRlKS53c2l6ZT0wLGUud2hhdmU9MCxlLnduZXh0PTAscyh0KSk6VH1mdW5jdGlvbiBsKHQsZSl7dmFyIGEsaTtyZXR1cm4gdCYmdC5zdGF0ZT8oaT10LnN0YXRlLGU8MD8oYT0wLGU9LWUpOihhPTErKGU+PjQpLGU8NDgmJihlJj0xNSkpLGUmJihlPDh8fDE1PGUpP1Q6KG51bGwhPT1pLndpbmRvdyYmaS53Yml0cyE9PWUmJihpLndpbmRvdz1udWxsKSxpLndyYXA9YSxpLndiaXRzPWUsbyh0KSkpOlR9ZnVuY3Rpb24gaCh0LGUpe3ZhciBhLGk7cmV0dXJuIHQ/KGk9bmV3IHIsKHQuc3RhdGU9aSkud2luZG93PW51bGwsKGE9bCh0LGUpKSE9PVUmJih0LnN0YXRlPW51bGwpLGEpOlR9dmFyIGQsZixfPSEwO2Z1bmN0aW9uIEgodCl7aWYoXyl7dmFyIGU7Zm9yKGQ9bmV3IFouQnVmMzIoNTEyKSxmPW5ldyBaLkJ1ZjMyKDMyKSxlPTA7ZTwxNDQ7KXQubGVuc1tlKytdPTg7Zm9yKDtlPDI1NjspdC5sZW5zW2UrK109OTtmb3IoO2U8MjgwOyl0LmxlbnNbZSsrXT03O2Zvcig7ZTwyODg7KXQubGVuc1tlKytdPTg7Zm9yKE8oRCx0LmxlbnMsMCwyODgsZCwwLHQud29yayx7Yml0czo5fSksZT0wO2U8MzI7KXQubGVuc1tlKytdPTU7TyhJLHQubGVucywwLDMyLGYsMCx0Lndvcmsse2JpdHM6NX0pLF89ITF9dC5sZW5jb2RlPWQsdC5sZW5iaXRzPTksdC5kaXN0Y29kZT1mLHQuZGlzdGJpdHM9NX1mdW5jdGlvbiBqKHQsZSxhLGkpe3ZhciBuLHI9dC5zdGF0ZTtyZXR1cm4gbnVsbD09PXIud2luZG93JiYoci53c2l6ZT0xPDxyLndiaXRzLHIud25leHQ9MCxyLndoYXZlPTAsci53aW5kb3c9bmV3IFouQnVmOChyLndzaXplKSksaT49ci53c2l6ZT8oWi5hcnJheVNldChyLndpbmRvdyxlLGEtci53c2l6ZSxyLndzaXplLDApLHIud25leHQ9MCxyLndoYXZlPXIud3NpemUpOihpPChuPXIud3NpemUtci53bmV4dCkmJihuPWkpLFouYXJyYXlTZXQoci53aW5kb3csZSxhLWksbixyLnduZXh0KSwoaS09bik/KFouYXJyYXlTZXQoci53aW5kb3csZSxhLWksaSwwKSxyLnduZXh0PWksci53aGF2ZT1yLndzaXplKTooci53bmV4dCs9bixyLnduZXh0PT09ci53c2l6ZSYmKHIud25leHQ9MCksci53aGF2ZTxyLndzaXplJiYoci53aGF2ZSs9bikpKSwwfWEuaW5mbGF0ZVJlc2V0PW8sYS5pbmZsYXRlUmVzZXQyPWwsYS5pbmZsYXRlUmVzZXRLZWVwPXMsYS5pbmZsYXRlSW5pdD1mdW5jdGlvbih0KXtyZXR1cm4gaCh0LDE1KX0sYS5pbmZsYXRlSW5pdDI9aCxhLmluZmxhdGU9ZnVuY3Rpb24odCxlKXt2YXIgYSxpLG4scixzLG8sbCxoLGQsZixfLHUsYyxiLGcsbSx3LHAsdixrLHkseCx6LEIsUz0wLEU9bmV3IFouQnVmOCg0KSxBPVsxNiwxNywxOCwwLDgsNyw5LDYsMTAsNSwxMSw0LDEyLDMsMTMsMiwxNCwxLDE1XTtpZighdHx8IXQuc3RhdGV8fCF0Lm91dHB1dHx8IXQuaW5wdXQmJjAhPT10LmF2YWlsX2luKXJldHVybiBUOzEyPT09KGE9dC5zdGF0ZSkubW9kZSYmKGEubW9kZT0xMykscz10Lm5leHRfb3V0LG49dC5vdXRwdXQsbD10LmF2YWlsX291dCxyPXQubmV4dF9pbixpPXQuaW5wdXQsbz10LmF2YWlsX2luLGg9YS5ob2xkLGQ9YS5iaXRzLGY9byxfPWwseD1VO3Q6Zm9yKDs7KXN3aXRjaChhLm1vZGUpe2Nhc2UgRjppZigwPT09YS53cmFwKXthLm1vZGU9MTM7YnJlYWt9Zm9yKDtkPDE2Oyl7aWYoMD09PW8pYnJlYWsgdDtvLS0saCs9aVtyKytdPDxkLGQrPTh9aWYoMiZhLndyYXAmJjM1NjE1PT09aCl7RVthLmNoZWNrPTBdPTI1NSZoLEVbMV09aD4+PjgmMjU1LGEuY2hlY2s9QyhhLmNoZWNrLEUsMiwwKSxkPWg9MCxhLm1vZGU9MjticmVha31pZihhLmZsYWdzPTAsYS5oZWFkJiYoYS5oZWFkLmRvbmU9ITEpLCEoMSZhLndyYXApfHwoKCgyNTUmaCk8PDgpKyhoPj44KSklMzEpe3QubXNnPSJpbmNvcnJlY3QgaGVhZGVyIGNoZWNrIixhLm1vZGU9MzA7YnJlYWt9aWYoOCE9KDE1JmgpKXt0Lm1zZz0idW5rbm93biBjb21wcmVzc2lvbiBtZXRob2QiLGEubW9kZT0zMDticmVha31pZihkLT00LHk9OCsoMTUmKGg+Pj49NCkpLDA9PT1hLndiaXRzKWEud2JpdHM9eTtlbHNlIGlmKHk+YS53Yml0cyl7dC5tc2c9ImludmFsaWQgd2luZG93IHNpemUiLGEubW9kZT0zMDticmVha31hLmRtYXg9MTw8eSx0LmFkbGVyPWEuY2hlY2s9MSxhLm1vZGU9NTEyJmg/MTA6MTIsZD1oPTA7YnJlYWs7Y2FzZSAyOmZvcig7ZDwxNjspe2lmKDA9PT1vKWJyZWFrIHQ7by0tLGgrPWlbcisrXTw8ZCxkKz04fWlmKGEuZmxhZ3M9aCw4IT0oMjU1JmEuZmxhZ3MpKXt0Lm1zZz0idW5rbm93biBjb21wcmVzc2lvbiBtZXRob2QiLGEubW9kZT0zMDticmVha31pZig1NzM0NCZhLmZsYWdzKXt0Lm1zZz0idW5rbm93biBoZWFkZXIgZmxhZ3Mgc2V0IixhLm1vZGU9MzA7YnJlYWt9YS5oZWFkJiYoYS5oZWFkLnRleHQ9aD4+OCYxKSw1MTImYS5mbGFncyYmKEVbMF09MjU1JmgsRVsxXT1oPj4+OCYyNTUsYS5jaGVjaz1DKGEuY2hlY2ssRSwyLDApKSxkPWg9MCxhLm1vZGU9MztjYXNlIDM6Zm9yKDtkPDMyOyl7aWYoMD09PW8pYnJlYWsgdDtvLS0saCs9aVtyKytdPDxkLGQrPTh9YS5oZWFkJiYoYS5oZWFkLnRpbWU9aCksNTEyJmEuZmxhZ3MmJihFWzBdPTI1NSZoLEVbMV09aD4+PjgmMjU1LEVbMl09aD4+PjE2JjI1NSxFWzNdPWg+Pj4yNCYyNTUsYS5jaGVjaz1DKGEuY2hlY2ssRSw0LDApKSxkPWg9MCxhLm1vZGU9NDtjYXNlIDQ6Zm9yKDtkPDE2Oyl7aWYoMD09PW8pYnJlYWsgdDtvLS0saCs9aVtyKytdPDxkLGQrPTh9YS5oZWFkJiYoYS5oZWFkLnhmbGFncz0yNTUmaCxhLmhlYWQub3M9aD4+OCksNTEyJmEuZmxhZ3MmJihFWzBdPTI1NSZoLEVbMV09aD4+PjgmMjU1LGEuY2hlY2s9QyhhLmNoZWNrLEUsMiwwKSksZD1oPTAsYS5tb2RlPTU7Y2FzZSA1OmlmKDEwMjQmYS5mbGFncyl7Zm9yKDtkPDE2Oyl7aWYoMD09PW8pYnJlYWsgdDtvLS0saCs9aVtyKytdPDxkLGQrPTh9YS5sZW5ndGg9aCxhLmhlYWQmJihhLmhlYWQuZXh0cmFfbGVuPWgpLDUxMiZhLmZsYWdzJiYoRVswXT0yNTUmaCxFWzFdPWg+Pj44JjI1NSxhLmNoZWNrPUMoYS5jaGVjayxFLDIsMCkpLGQ9aD0wfWVsc2UgYS5oZWFkJiYoYS5oZWFkLmV4dHJhPW51bGwpO2EubW9kZT02O2Nhc2UgNjppZigxMDI0JmEuZmxhZ3MmJihvPCh1PWEubGVuZ3RoKSYmKHU9byksdSYmKGEuaGVhZCYmKHk9YS5oZWFkLmV4dHJhX2xlbi1hLmxlbmd0aCxhLmhlYWQuZXh0cmF8fChhLmhlYWQuZXh0cmE9bmV3IEFycmF5KGEuaGVhZC5leHRyYV9sZW4pKSxaLmFycmF5U2V0KGEuaGVhZC5leHRyYSxpLHIsdSx5KSksNTEyJmEuZmxhZ3MmJihhLmNoZWNrPUMoYS5jaGVjayxpLHUscikpLG8tPXUscis9dSxhLmxlbmd0aC09dSksYS5sZW5ndGgpKWJyZWFrIHQ7YS5sZW5ndGg9MCxhLm1vZGU9NztjYXNlIDc6aWYoMjA0OCZhLmZsYWdzKXtpZigwPT09bylicmVhayB0O2Zvcih1PTA7eT1pW3IrdSsrXSxhLmhlYWQmJnkmJmEubGVuZ3RoPDY1NTM2JiYoYS5oZWFkLm5hbWUrPVN0cmluZy5mcm9tQ2hhckNvZGUoeSkpLHkmJnU8bzspO2lmKDUxMiZhLmZsYWdzJiYoYS5jaGVjaz1DKGEuY2hlY2ssaSx1LHIpKSxvLT11LHIrPXUseSlicmVhayB0fWVsc2UgYS5oZWFkJiYoYS5oZWFkLm5hbWU9bnVsbCk7YS5sZW5ndGg9MCxhLm1vZGU9ODtjYXNlIDg6aWYoNDA5NiZhLmZsYWdzKXtpZigwPT09bylicmVhayB0O2Zvcih1PTA7eT1pW3IrdSsrXSxhLmhlYWQmJnkmJmEubGVuZ3RoPDY1NTM2JiYoYS5oZWFkLmNvbW1lbnQrPVN0cmluZy5mcm9tQ2hhckNvZGUoeSkpLHkmJnU8bzspO2lmKDUxMiZhLmZsYWdzJiYoYS5jaGVjaz1DKGEuY2hlY2ssaSx1LHIpKSxvLT11LHIrPXUseSlicmVhayB0fWVsc2UgYS5oZWFkJiYoYS5oZWFkLmNvbW1lbnQ9bnVsbCk7YS5tb2RlPTk7Y2FzZSA5OmlmKDUxMiZhLmZsYWdzKXtmb3IoO2Q8MTY7KXtpZigwPT09bylicmVhayB0O28tLSxoKz1pW3IrK108PGQsZCs9OH1pZihoIT09KDY1NTM1JmEuY2hlY2spKXt0Lm1zZz0iaGVhZGVyIGNyYyBtaXNtYXRjaCIsYS5tb2RlPTMwO2JyZWFrfWQ9aD0wfWEuaGVhZCYmKGEuaGVhZC5oY3JjPWEuZmxhZ3M+PjkmMSxhLmhlYWQuZG9uZT0hMCksdC5hZGxlcj1hLmNoZWNrPTAsYS5tb2RlPTEyO2JyZWFrO2Nhc2UgMTA6Zm9yKDtkPDMyOyl7aWYoMD09PW8pYnJlYWsgdDtvLS0saCs9aVtyKytdPDxkLGQrPTh9dC5hZGxlcj1hLmNoZWNrPUwoaCksZD1oPTAsYS5tb2RlPTExO2Nhc2UgMTE6aWYoMD09PWEuaGF2ZWRpY3QpcmV0dXJuIHQubmV4dF9vdXQ9cyx0LmF2YWlsX291dD1sLHQubmV4dF9pbj1yLHQuYXZhaWxfaW49byxhLmhvbGQ9aCxhLmJpdHM9ZCwyO3QuYWRsZXI9YS5jaGVjaz0xLGEubW9kZT0xMjtjYXNlIDEyOmlmKDU9PT1lfHw2PT09ZSlicmVhayB0O2Nhc2UgMTM6aWYoYS5sYXN0KXtoPj4+PTcmZCxkLT03JmQsYS5tb2RlPTI3O2JyZWFrfWZvcig7ZDwzOyl7aWYoMD09PW8pYnJlYWsgdDtvLS0saCs9aVtyKytdPDxkLGQrPTh9c3dpdGNoKGEubGFzdD0xJmgsZC09MSwzJihoPj4+PTEpKXtjYXNlIDA6YS5tb2RlPTE0O2JyZWFrO2Nhc2UgMTppZihIKGEpLGEubW9kZT0yMCw2IT09ZSlicmVhaztoPj4+PTIsZC09MjticmVhayB0O2Nhc2UgMjphLm1vZGU9MTc7YnJlYWs7Y2FzZSAzOnQubXNnPSJpbnZhbGlkIGJsb2NrIHR5cGUiLGEubW9kZT0zMH1oPj4+PTIsZC09MjticmVhaztjYXNlIDE0OmZvcihoPj4+PTcmZCxkLT03JmQ7ZDwzMjspe2lmKDA9PT1vKWJyZWFrIHQ7by0tLGgrPWlbcisrXTw8ZCxkKz04fWlmKCg2NTUzNSZoKSE9KGg+Pj4xNl42NTUzNSkpe3QubXNnPSJpbnZhbGlkIHN0b3JlZCBibG9jayBsZW5ndGhzIixhLm1vZGU9MzA7YnJlYWt9aWYoYS5sZW5ndGg9NjU1MzUmaCxkPWg9MCxhLm1vZGU9MTUsNj09PWUpYnJlYWsgdDtjYXNlIDE1OmEubW9kZT0xNjtjYXNlIDE2OmlmKHU9YS5sZW5ndGgpe2lmKG88dSYmKHU9byksbDx1JiYodT1sKSwwPT09dSlicmVhayB0O1ouYXJyYXlTZXQobixpLHIsdSxzKSxvLT11LHIrPXUsbC09dSxzKz11LGEubGVuZ3RoLT11O2JyZWFrfWEubW9kZT0xMjticmVhaztjYXNlIDE3OmZvcig7ZDwxNDspe2lmKDA9PT1vKWJyZWFrIHQ7by0tLGgrPWlbcisrXTw8ZCxkKz04fWlmKGEubmxlbj0yNTcrKDMxJmgpLGg+Pj49NSxkLT01LGEubmRpc3Q9MSsoMzEmaCksaD4+Pj01LGQtPTUsYS5uY29kZT00KygxNSZoKSxoPj4+PTQsZC09NCwyODY8YS5ubGVufHwzMDxhLm5kaXN0KXt0Lm1zZz0idG9vIG1hbnkgbGVuZ3RoIG9yIGRpc3RhbmNlIHN5bWJvbHMiLGEubW9kZT0zMDticmVha31hLmhhdmU9MCxhLm1vZGU9MTg7Y2FzZSAxODpmb3IoO2EuaGF2ZTxhLm5jb2RlOyl7Zm9yKDtkPDM7KXtpZigwPT09bylicmVhayB0O28tLSxoKz1pW3IrK108PGQsZCs9OH1hLmxlbnNbQVthLmhhdmUrK11dPTcmaCxoPj4+PTMsZC09M31mb3IoO2EuaGF2ZTwxOTspYS5sZW5zW0FbYS5oYXZlKytdXT0wO2lmKGEubGVuY29kZT1hLmxlbmR5bixhLmxlbmJpdHM9Nyx6PXtiaXRzOmEubGVuYml0c30seD1PKDAsYS5sZW5zLDAsMTksYS5sZW5jb2RlLDAsYS53b3JrLHopLGEubGVuYml0cz16LmJpdHMseCl7dC5tc2c9ImludmFsaWQgY29kZSBsZW5ndGhzIHNldCIsYS5tb2RlPTMwO2JyZWFrfWEuaGF2ZT0wLGEubW9kZT0xOTtjYXNlIDE5OmZvcig7YS5oYXZlPGEubmxlbithLm5kaXN0Oyl7Zm9yKDttPShTPWEubGVuY29kZVtoJigxPDxhLmxlbmJpdHMpLTFdKT4+PjE2JjI1NSx3PTY1NTM1JlMsISgoZz1TPj4+MjQpPD1kKTspe2lmKDA9PT1vKWJyZWFrIHQ7by0tLGgrPWlbcisrXTw8ZCxkKz04fWlmKHc8MTYpaD4+Pj1nLGQtPWcsYS5sZW5zW2EuaGF2ZSsrXT13O2Vsc2V7aWYoMTY9PT13KXtmb3IoQj1nKzI7ZDxCOyl7aWYoMD09PW8pYnJlYWsgdDtvLS0saCs9aVtyKytdPDxkLGQrPTh9aWYoaD4+Pj1nLGQtPWcsMD09PWEuaGF2ZSl7dC5tc2c9ImludmFsaWQgYml0IGxlbmd0aCByZXBlYXQiLGEubW9kZT0zMDticmVha315PWEubGVuc1thLmhhdmUtMV0sdT0zKygzJmgpLGg+Pj49MixkLT0yfWVsc2UgaWYoMTc9PT13KXtmb3IoQj1nKzM7ZDxCOyl7aWYoMD09PW8pYnJlYWsgdDtvLS0saCs9aVtyKytdPDxkLGQrPTh9ZC09Zyx5PTAsdT0zKyg3JihoPj4+PWcpKSxoPj4+PTMsZC09M31lbHNle2ZvcihCPWcrNztkPEI7KXtpZigwPT09bylicmVhayB0O28tLSxoKz1pW3IrK108PGQsZCs9OH1kLT1nLHk9MCx1PTExKygxMjcmKGg+Pj49ZykpLGg+Pj49NyxkLT03fWlmKGEuaGF2ZSt1PmEubmxlbithLm5kaXN0KXt0Lm1zZz0iaW52YWxpZCBiaXQgbGVuZ3RoIHJlcGVhdCIsYS5tb2RlPTMwO2JyZWFrfWZvcig7dS0tOylhLmxlbnNbYS5oYXZlKytdPXl9fWlmKDMwPT09YS5tb2RlKWJyZWFrO2lmKDA9PT1hLmxlbnNbMjU2XSl7dC5tc2c9ImludmFsaWQgY29kZSAtLSBtaXNzaW5nIGVuZC1vZi1ibG9jayIsYS5tb2RlPTMwO2JyZWFrfWlmKGEubGVuYml0cz05LHo9e2JpdHM6YS5sZW5iaXRzfSx4PU8oRCxhLmxlbnMsMCxhLm5sZW4sYS5sZW5jb2RlLDAsYS53b3JrLHopLGEubGVuYml0cz16LmJpdHMseCl7dC5tc2c9ImludmFsaWQgbGl0ZXJhbC9sZW5ndGhzIHNldCIsYS5tb2RlPTMwO2JyZWFrfWlmKGEuZGlzdGJpdHM9NixhLmRpc3Rjb2RlPWEuZGlzdGR5bix6PXtiaXRzOmEuZGlzdGJpdHN9LHg9TyhJLGEubGVucyxhLm5sZW4sYS5uZGlzdCxhLmRpc3Rjb2RlLDAsYS53b3JrLHopLGEuZGlzdGJpdHM9ei5iaXRzLHgpe3QubXNnPSJpbnZhbGlkIGRpc3RhbmNlcyBzZXQiLGEubW9kZT0zMDticmVha31pZihhLm1vZGU9MjAsNj09PWUpYnJlYWsgdDtjYXNlIDIwOmEubW9kZT0yMTtjYXNlIDIxOmlmKDY8PW8mJjI1ODw9bCl7dC5uZXh0X291dD1zLHQuYXZhaWxfb3V0PWwsdC5uZXh0X2luPXIsdC5hdmFpbF9pbj1vLGEuaG9sZD1oLGEuYml0cz1kLE4odCxfKSxzPXQubmV4dF9vdXQsbj10Lm91dHB1dCxsPXQuYXZhaWxfb3V0LHI9dC5uZXh0X2luLGk9dC5pbnB1dCxvPXQuYXZhaWxfaW4saD1hLmhvbGQsZD1hLmJpdHMsMTI9PT1hLm1vZGUmJihhLmJhY2s9LTEpO2JyZWFrfWZvcihhLmJhY2s9MDttPShTPWEubGVuY29kZVtoJigxPDxhLmxlbmJpdHMpLTFdKT4+PjE2JjI1NSx3PTY1NTM1JlMsISgoZz1TPj4+MjQpPD1kKTspe2lmKDA9PT1vKWJyZWFrIHQ7by0tLGgrPWlbcisrXTw8ZCxkKz04fWlmKG0mJjA9PSgyNDAmbSkpe2ZvcihwPWcsdj1tLGs9dzttPShTPWEubGVuY29kZVtrKygoaCYoMTw8cCt2KS0xKT4+cCldKT4+PjE2JjI1NSx3PTY1NTM1JlMsIShwKyhnPVM+Pj4yNCk8PWQpOyl7aWYoMD09PW8pYnJlYWsgdDtvLS0saCs9aVtyKytdPDxkLGQrPTh9aD4+Pj1wLGQtPXAsYS5iYWNrKz1wfWlmKGg+Pj49ZyxkLT1nLGEuYmFjays9ZyxhLmxlbmd0aD13LDA9PT1tKXthLm1vZGU9MjY7YnJlYWt9aWYoMzImbSl7YS5iYWNrPS0xLGEubW9kZT0xMjticmVha31pZig2NCZtKXt0Lm1zZz0iaW52YWxpZCBsaXRlcmFsL2xlbmd0aCBjb2RlIixhLm1vZGU9MzA7YnJlYWt9YS5leHRyYT0xNSZtLGEubW9kZT0yMjtjYXNlIDIyOmlmKGEuZXh0cmEpe2ZvcihCPWEuZXh0cmE7ZDxCOyl7aWYoMD09PW8pYnJlYWsgdDtvLS0saCs9aVtyKytdPDxkLGQrPTh9YS5sZW5ndGgrPWgmKDE8PGEuZXh0cmEpLTEsaD4+Pj1hLmV4dHJhLGQtPWEuZXh0cmEsYS5iYWNrKz1hLmV4dHJhfWEud2FzPWEubGVuZ3RoLGEubW9kZT0yMztjYXNlIDIzOmZvcig7bT0oUz1hLmRpc3Rjb2RlW2gmKDE8PGEuZGlzdGJpdHMpLTFdKT4+PjE2JjI1NSx3PTY1NTM1JlMsISgoZz1TPj4+MjQpPD1kKTspe2lmKDA9PT1vKWJyZWFrIHQ7by0tLGgrPWlbcisrXTw8ZCxkKz04fWlmKDA9PSgyNDAmbSkpe2ZvcihwPWcsdj1tLGs9dzttPShTPWEuZGlzdGNvZGVbaysoKGgmKDE8PHArdiktMSk+PnApXSk+Pj4xNiYyNTUsdz02NTUzNSZTLCEocCsoZz1TPj4+MjQpPD1kKTspe2lmKDA9PT1vKWJyZWFrIHQ7by0tLGgrPWlbcisrXTw8ZCxkKz04fWg+Pj49cCxkLT1wLGEuYmFjays9cH1pZihoPj4+PWcsZC09ZyxhLmJhY2srPWcsNjQmbSl7dC5tc2c9ImludmFsaWQgZGlzdGFuY2UgY29kZSIsYS5tb2RlPTMwO2JyZWFrfWEub2Zmc2V0PXcsYS5leHRyYT0xNSZtLGEubW9kZT0yNDtjYXNlIDI0OmlmKGEuZXh0cmEpe2ZvcihCPWEuZXh0cmE7ZDxCOyl7aWYoMD09PW8pYnJlYWsgdDtvLS0saCs9aVtyKytdPDxkLGQrPTh9YS5vZmZzZXQrPWgmKDE8PGEuZXh0cmEpLTEsaD4+Pj1hLmV4dHJhLGQtPWEuZXh0cmEsYS5iYWNrKz1hLmV4dHJhfWlmKGEub2Zmc2V0PmEuZG1heCl7dC5tc2c9ImludmFsaWQgZGlzdGFuY2UgdG9vIGZhciBiYWNrIixhLm1vZGU9MzA7YnJlYWt9YS5tb2RlPTI1O2Nhc2UgMjU6aWYoMD09PWwpYnJlYWsgdDtpZih1PV8tbCxhLm9mZnNldD51KXtpZigodT1hLm9mZnNldC11KT5hLndoYXZlJiZhLnNhbmUpe3QubXNnPSJpbnZhbGlkIGRpc3RhbmNlIHRvbyBmYXIgYmFjayIsYS5tb2RlPTMwO2JyZWFrfXU+YS53bmV4dD8odS09YS53bmV4dCxjPWEud3NpemUtdSk6Yz1hLnduZXh0LXUsdT5hLmxlbmd0aCYmKHU9YS5sZW5ndGgpLGI9YS53aW5kb3d9ZWxzZSBiPW4sYz1zLWEub2Zmc2V0LHU9YS5sZW5ndGg7Zm9yKGw8dSYmKHU9bCksbC09dSxhLmxlbmd0aC09dTtuW3MrK109YltjKytdLC0tdTspOzA9PT1hLmxlbmd0aCYmKGEubW9kZT0yMSk7YnJlYWs7Y2FzZSAyNjppZigwPT09bClicmVhayB0O25bcysrXT1hLmxlbmd0aCxsLS0sYS5tb2RlPTIxO2JyZWFrO2Nhc2UgMjc6aWYoYS53cmFwKXtmb3IoO2Q8MzI7KXtpZigwPT09bylicmVhayB0O28tLSxofD1pW3IrK108PGQsZCs9OH1pZihfLT1sLHQudG90YWxfb3V0Kz1fLGEudG90YWwrPV8sXyYmKHQuYWRsZXI9YS5jaGVjaz1hLmZsYWdzP0MoYS5jaGVjayxuLF8scy1fKTpSKGEuY2hlY2ssbixfLHMtXykpLF89bCwoYS5mbGFncz9oOkwoaCkpIT09YS5jaGVjayl7dC5tc2c9ImluY29ycmVjdCBkYXRhIGNoZWNrIixhLm1vZGU9MzA7YnJlYWt9ZD1oPTB9YS5tb2RlPTI4O2Nhc2UgMjg6aWYoYS53cmFwJiZhLmZsYWdzKXtmb3IoO2Q8MzI7KXtpZigwPT09bylicmVhayB0O28tLSxoKz1pW3IrK108PGQsZCs9OH1pZihoIT09KDQyOTQ5NjcyOTUmYS50b3RhbCkpe3QubXNnPSJpbmNvcnJlY3QgbGVuZ3RoIGNoZWNrIixhLm1vZGU9MzA7YnJlYWt9ZD1oPTB9YS5tb2RlPTI5O2Nhc2UgMjk6eD0xO2JyZWFrIHQ7Y2FzZSAzMDp4PS0zO2JyZWFrIHQ7Y2FzZSAzMTpyZXR1cm4tNDtjYXNlIDMyOmRlZmF1bHQ6cmV0dXJuIFR9cmV0dXJuIHQubmV4dF9vdXQ9cyx0LmF2YWlsX291dD1sLHQubmV4dF9pbj1yLHQuYXZhaWxfaW49byxhLmhvbGQ9aCxhLmJpdHM9ZCwoYS53c2l6ZXx8XyE9PXQuYXZhaWxfb3V0JiZhLm1vZGU8MzAmJihhLm1vZGU8Mjd8fDQhPT1lKSkmJmoodCx0Lm91dHB1dCx0Lm5leHRfb3V0LF8tdC5hdmFpbF9vdXQpPyhhLm1vZGU9MzEsLTQpOihmLT10LmF2YWlsX2luLF8tPXQuYXZhaWxfb3V0LHQudG90YWxfaW4rPWYsdC50b3RhbF9vdXQrPV8sYS50b3RhbCs9XyxhLndyYXAmJl8mJih0LmFkbGVyPWEuY2hlY2s9YS5mbGFncz9DKGEuY2hlY2ssbixfLHQubmV4dF9vdXQtXyk6UihhLmNoZWNrLG4sXyx0Lm5leHRfb3V0LV8pKSx0LmRhdGFfdHlwZT1hLmJpdHMrKGEubGFzdD82NDowKSsoMTI9PT1hLm1vZGU/MTI4OjApKygyMD09PWEubW9kZXx8MTU9PT1hLm1vZGU/MjU2OjApLCgwPT09ZiYmMD09PV98fDQ9PT1lKSYmeD09PVUmJih4PS01KSx4KX0sYS5pbmZsYXRlRW5kPWZ1bmN0aW9uKHQpe2lmKCF0fHwhdC5zdGF0ZSlyZXR1cm4gVDt2YXIgZT10LnN0YXRlO3JldHVybiBlLndpbmRvdyYmKGUud2luZG93PW51bGwpLHQuc3RhdGU9bnVsbCxVfSxhLmluZmxhdGVHZXRIZWFkZXI9ZnVuY3Rpb24odCxlKXt2YXIgYTtyZXR1cm4gdCYmdC5zdGF0ZT8wPT0oMiYoYT10LnN0YXRlKS53cmFwKT9UOigoYS5oZWFkPWUpLmRvbmU9ITEsVSk6VH0sYS5pbmZsYXRlU2V0RGljdGlvbmFyeT1mdW5jdGlvbih0LGUpe3ZhciBhLGk9ZS5sZW5ndGg7cmV0dXJuIHQmJnQuc3RhdGU/MCE9PShhPXQuc3RhdGUpLndyYXAmJjExIT09YS5tb2RlP1Q6MTE9PT1hLm1vZGUmJlIoMSxlLGksMCkhPT1hLmNoZWNrPy0zOmoodCxlLGksaSk/KGEubW9kZT0zMSwtNCk6KGEuaGF2ZWRpY3Q9MSxVKTpUfSxhLmluZmxhdGVJbmZvPSJwYWtvIGluZmxhdGUgKGZyb20gTm9kZWNhIHByb2plY3QpIn0seyIuLi91dGlscy9jb21tb24iOjMsIi4vYWRsZXIzMiI6NSwiLi9jcmMzMiI6NywiLi9pbmZmYXN0IjoxMCwiLi9pbmZ0cmVlcyI6MTJ9XSwxMjpbZnVuY3Rpb24odCxlLGEpeyJ1c2Ugc3RyaWN0Ijt2YXIgRD10KCIuLi91dGlscy9jb21tb24iKSxJPVszLDQsNSw2LDcsOCw5LDEwLDExLDEzLDE1LDE3LDE5LDIzLDI3LDMxLDM1LDQzLDUxLDU5LDY3LDgzLDk5LDExNSwxMzEsMTYzLDE5NSwyMjcsMjU4LDAsMF0sVT1bMTYsMTYsMTYsMTYsMTYsMTYsMTYsMTYsMTcsMTcsMTcsMTcsMTgsMTgsMTgsMTgsMTksMTksMTksMTksMjAsMjAsMjAsMjAsMjEsMjEsMjEsMjEsMTYsNzIsNzhdLFQ9WzEsMiwzLDQsNSw3LDksMTMsMTcsMjUsMzMsNDksNjUsOTcsMTI5LDE5MywyNTcsMzg1LDUxMyw3NjksMTAyNSwxNTM3LDIwNDksMzA3Myw0MDk3LDYxNDUsODE5MywxMjI4OSwxNjM4NSwyNDU3NywwLDBdLEY9WzE2LDE2LDE2LDE2LDE3LDE3LDE4LDE4LDE5LDE5LDIwLDIwLDIxLDIxLDIyLDIyLDIzLDIzLDI0LDI0LDI1LDI1LDI2LDI2LDI3LDI3LDI4LDI4LDI5LDI5LDY0LDY0XTtlLmV4cG9ydHM9ZnVuY3Rpb24odCxlLGEsaSxuLHIscyxvKXt2YXIgbCxoLGQsZixfLHUsYyxiLGcsbT1vLmJpdHMsdz0wLHA9MCx2PTAsaz0wLHk9MCx4PTAsej0wLEI9MCxTPTAsRT0wLEE9bnVsbCxaPTAsUj1uZXcgRC5CdWYxNigxNiksQz1uZXcgRC5CdWYxNigxNiksTj1udWxsLE89MDtmb3Iodz0wO3c8PTE1O3crKylSW3ddPTA7Zm9yKHA9MDtwPGk7cCsrKVJbZVthK3BdXSsrO2Zvcih5PW0saz0xNTsxPD1rJiYwPT09UltrXTtrLS0pO2lmKGs8eSYmKHk9ayksMD09PWspcmV0dXJuIG5bcisrXT0yMDk3MTUyMCxuW3IrK109MjA5NzE1MjAsby5iaXRzPTEsMDtmb3Iodj0xO3Y8ayYmMD09PVJbdl07disrKTtmb3IoeTx2JiYoeT12KSx3PUI9MTt3PD0xNTt3KyspaWYoQjw8PTEsKEItPVJbd10pPDApcmV0dXJuLTE7aWYoMDxCJiYoMD09PXR8fDEhPT1rKSlyZXR1cm4tMTtmb3IoQ1sxXT0wLHc9MTt3PDE1O3crKylDW3crMV09Q1t3XStSW3ddO2ZvcihwPTA7cDxpO3ArKykwIT09ZVthK3BdJiYoc1tDW2VbYStwXV0rK109cCk7aWYoMD09PXQ/KEE9Tj1zLHU9MTkpOjE9PT10PyhBPUksWi09MjU3LE49VSxPLT0yNTcsdT0yNTYpOihBPVQsTj1GLHU9LTEpLHc9dixfPXIsej1wPUU9MCxkPS0xLGY9KFM9MTw8KHg9eSkpLTEsMT09PXQmJjg1MjxTfHwyPT09dCYmNTkyPFMpcmV0dXJuIDE7Zm9yKDs7KXtmb3IoYz13LXosc1twXTx1PyhiPTAsZz1zW3BdKTpzW3BdPnU/KGI9TltPK3NbcF1dLGc9QVtaK3NbcF1dKTooYj05NixnPTApLGw9MTw8dy16LHY9aD0xPDx4O25bXysoRT4+eikrKGgtPWwpXT1jPDwyNHxiPDwxNnxnfDAsMCE9PWg7KTtmb3IobD0xPDx3LTE7RSZsOylsPj49MTtpZigwIT09bD8oRSY9bC0xLEUrPWwpOkU9MCxwKyssMD09LS1SW3ddKXtpZih3PT09aylicmVhazt3PWVbYStzW3BdXX1pZih5PHcmJihFJmYpIT09ZCl7Zm9yKDA9PT16JiYoej15KSxfKz12LEI9MTw8KHg9dy16KTt4K3o8ayYmISgoQi09Ult4K3pdKTw9MCk7KXgrKyxCPDw9MTtpZihTKz0xPDx4LDE9PT10JiY4NTI8U3x8Mj09PXQmJjU5MjxTKXJldHVybiAxO25bZD1FJmZdPXk8PDI0fHg8PDE2fF8tcnwwfX1yZXR1cm4gMCE9PUUmJihuW18rRV09dy16PDwyNHw2NDw8MTZ8MCksby5iaXRzPXksMH19LHsiLi4vdXRpbHMvY29tbW9uIjozfV0sMTM6W2Z1bmN0aW9uKHQsZSxhKXsidXNlIHN0cmljdCI7ZS5leHBvcnRzPXsyOiJuZWVkIGRpY3Rpb25hcnkiLDE6InN0cmVhbSBlbmQiLDA6IiIsIi0xIjoiZmlsZSBlcnJvciIsIi0yIjoic3RyZWFtIGVycm9yIiwiLTMiOiJkYXRhIGVycm9yIiwiLTQiOiJpbnN1ZmZpY2llbnQgbWVtb3J5IiwiLTUiOiJidWZmZXIgZXJyb3IiLCItNiI6ImluY29tcGF0aWJsZSB2ZXJzaW9uIn19LHt9XSwxNDpbZnVuY3Rpb24odCxlLGEpeyJ1c2Ugc3RyaWN0Ijt2YXIgbD10KCIuLi91dGlscy9jb21tb24iKSxvPTAsaD0xO2Z1bmN0aW9uIGkodCl7Zm9yKHZhciBlPXQubGVuZ3RoOzA8PS0tZTspdFtlXT0wfXZhciBkPTAscz0yOSxmPTI1NixfPWYrMStzLHU9MzAsYz0xOSxnPTIqXysxLG09MTUsbj0xNixiPTcsdz0yNTYscD0xNix2PTE3LGs9MTgseT1bMCwwLDAsMCwwLDAsMCwwLDEsMSwxLDEsMiwyLDIsMiwzLDMsMywzLDQsNCw0LDQsNSw1LDUsNSwwXSx4PVswLDAsMCwwLDEsMSwyLDIsMywzLDQsNCw1LDUsNiw2LDcsNyw4LDgsOSw5LDEwLDEwLDExLDExLDEyLDEyLDEzLDEzXSx6PVswLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDIsMyw3XSxCPVsxNiwxNywxOCwwLDgsNyw5LDYsMTAsNSwxMSw0LDEyLDMsMTMsMiwxNCwxLDE1XSxTPW5ldyBBcnJheSgyKihfKzIpKTtpKFMpO3ZhciBFPW5ldyBBcnJheSgyKnUpO2koRSk7dmFyIEE9bmV3IEFycmF5KDUxMik7aShBKTt2YXIgWj1uZXcgQXJyYXkoMjU2KTtpKFopO3ZhciBSPW5ldyBBcnJheShzKTtpKFIpO3ZhciBDLE4sTyxEPW5ldyBBcnJheSh1KTtmdW5jdGlvbiBJKHQsZSxhLGksbil7dGhpcy5zdGF0aWNfdHJlZT10LHRoaXMuZXh0cmFfYml0cz1lLHRoaXMuZXh0cmFfYmFzZT1hLHRoaXMuZWxlbXM9aSx0aGlzLm1heF9sZW5ndGg9bix0aGlzLmhhc19zdHJlZT10JiZ0Lmxlbmd0aH1mdW5jdGlvbiByKHQsZSl7dGhpcy5keW5fdHJlZT10LHRoaXMubWF4X2NvZGU9MCx0aGlzLnN0YXRfZGVzYz1lfWZ1bmN0aW9uIFUodCl7cmV0dXJuIHQ8MjU2P0FbdF06QVsyNTYrKHQ+Pj43KV19ZnVuY3Rpb24gVCh0LGUpe3QucGVuZGluZ19idWZbdC5wZW5kaW5nKytdPTI1NSZlLHQucGVuZGluZ19idWZbdC5wZW5kaW5nKytdPWU+Pj44JjI1NX1mdW5jdGlvbiBGKHQsZSxhKXt0LmJpX3ZhbGlkPm4tYT8odC5iaV9idWZ8PWU8PHQuYmlfdmFsaWQmNjU1MzUsVCh0LHQuYmlfYnVmKSx0LmJpX2J1Zj1lPj5uLXQuYmlfdmFsaWQsdC5iaV92YWxpZCs9YS1uKToodC5iaV9idWZ8PWU8PHQuYmlfdmFsaWQmNjU1MzUsdC5iaV92YWxpZCs9YSl9ZnVuY3Rpb24gTCh0LGUsYSl7Rih0LGFbMiplXSxhWzIqZSsxXSl9ZnVuY3Rpb24gSCh0LGUpe2Zvcih2YXIgYT0wO2F8PTEmdCx0Pj4+PTEsYTw8PTEsMDwtLWU7KTtyZXR1cm4gYT4+PjF9ZnVuY3Rpb24gaih0LGUsYSl7dmFyIGksbixyPW5ldyBBcnJheShtKzEpLHM9MDtmb3IoaT0xO2k8PW07aSsrKXJbaV09cz1zK2FbaS0xXTw8MTtmb3Iobj0wO248PWU7bisrKXt2YXIgbz10WzIqbisxXTswIT09byYmKHRbMipuXT1IKHJbb10rKyxvKSl9fWZ1bmN0aW9uIEsodCl7dmFyIGU7Zm9yKGU9MDtlPF87ZSsrKXQuZHluX2x0cmVlWzIqZV09MDtmb3IoZT0wO2U8dTtlKyspdC5keW5fZHRyZWVbMiplXT0wO2ZvcihlPTA7ZTxjO2UrKyl0LmJsX3RyZWVbMiplXT0wO3QuZHluX2x0cmVlWzIqd109MSx0Lm9wdF9sZW49dC5zdGF0aWNfbGVuPTAsdC5sYXN0X2xpdD10Lm1hdGNoZXM9MH1mdW5jdGlvbiBNKHQpezg8dC5iaV92YWxpZD9UKHQsdC5iaV9idWYpOjA8dC5iaV92YWxpZCYmKHQucGVuZGluZ19idWZbdC5wZW5kaW5nKytdPXQuYmlfYnVmKSx0LmJpX2J1Zj0wLHQuYmlfdmFsaWQ9MH1mdW5jdGlvbiBQKHQsZSxhLGkpe3ZhciBuPTIqZSxyPTIqYTtyZXR1cm4gdFtuXTx0W3JdfHx0W25dPT09dFtyXSYmaVtlXTw9aVthXX1mdW5jdGlvbiBZKHQsZSxhKXtmb3IodmFyIGk9dC5oZWFwW2FdLG49YTw8MTtuPD10LmhlYXBfbGVuJiYobjx0LmhlYXBfbGVuJiZQKGUsdC5oZWFwW24rMV0sdC5oZWFwW25dLHQuZGVwdGgpJiZuKyssIVAoZSxpLHQuaGVhcFtuXSx0LmRlcHRoKSk7KXQuaGVhcFthXT10LmhlYXBbbl0sYT1uLG48PD0xO3QuaGVhcFthXT1pfWZ1bmN0aW9uIHEodCxlLGEpe3ZhciBpLG4scixzLG89MDtpZigwIT09dC5sYXN0X2xpdClmb3IoO2k9dC5wZW5kaW5nX2J1Zlt0LmRfYnVmKzIqb108PDh8dC5wZW5kaW5nX2J1Zlt0LmRfYnVmKzIqbysxXSxuPXQucGVuZGluZ19idWZbdC5sX2J1ZitvXSxvKyssMD09PWk/TCh0LG4sZSk6KEwodCwocj1aW25dKStmKzEsZSksMCE9PShzPXlbcl0pJiZGKHQsbi09UltyXSxzKSxMKHQscj1VKC0taSksYSksMCE9PShzPXhbcl0pJiZGKHQsaS09RFtyXSxzKSksbzx0Lmxhc3RfbGl0Oyk7TCh0LHcsZSl9ZnVuY3Rpb24gRyh0LGUpe3ZhciBhLGksbixyPWUuZHluX3RyZWUscz1lLnN0YXRfZGVzYy5zdGF0aWNfdHJlZSxvPWUuc3RhdF9kZXNjLmhhc19zdHJlZSxsPWUuc3RhdF9kZXNjLmVsZW1zLGg9LTE7Zm9yKHQuaGVhcF9sZW49MCx0LmhlYXBfbWF4PWcsYT0wO2E8bDthKyspMCE9PXJbMiphXT8odC5oZWFwWysrdC5oZWFwX2xlbl09aD1hLHQuZGVwdGhbYV09MCk6clsyKmErMV09MDtmb3IoO3QuaGVhcF9sZW48MjspclsyKihuPXQuaGVhcFsrK3QuaGVhcF9sZW5dPWg8Mj8rK2g6MCldPTEsdC5kZXB0aFtuXT0wLHQub3B0X2xlbi0tLG8mJih0LnN0YXRpY19sZW4tPXNbMipuKzFdKTtmb3IoZS5tYXhfY29kZT1oLGE9dC5oZWFwX2xlbj4+MTsxPD1hO2EtLSlZKHQscixhKTtmb3Iobj1sO2E9dC5oZWFwWzFdLHQuaGVhcFsxXT10LmhlYXBbdC5oZWFwX2xlbi0tXSxZKHQsciwxKSxpPXQuaGVhcFsxXSx0LmhlYXBbLS10LmhlYXBfbWF4XT1hLHQuaGVhcFstLXQuaGVhcF9tYXhdPWksclsyKm5dPXJbMiphXStyWzIqaV0sdC5kZXB0aFtuXT0odC5kZXB0aFthXT49dC5kZXB0aFtpXT90LmRlcHRoW2FdOnQuZGVwdGhbaV0pKzEsclsyKmErMV09clsyKmkrMV09bix0LmhlYXBbMV09bisrLFkodCxyLDEpLDI8PXQuaGVhcF9sZW47KTt0LmhlYXBbLS10LmhlYXBfbWF4XT10LmhlYXBbMV0sZnVuY3Rpb24odCxlKXt2YXIgYSxpLG4scixzLG8sbD1lLmR5bl90cmVlLGg9ZS5tYXhfY29kZSxkPWUuc3RhdF9kZXNjLnN0YXRpY190cmVlLGY9ZS5zdGF0X2Rlc2MuaGFzX3N0cmVlLF89ZS5zdGF0X2Rlc2MuZXh0cmFfYml0cyx1PWUuc3RhdF9kZXNjLmV4dHJhX2Jhc2UsYz1lLnN0YXRfZGVzYy5tYXhfbGVuZ3RoLGI9MDtmb3Iocj0wO3I8PW07cisrKXQuYmxfY291bnRbcl09MDtmb3IobFsyKnQuaGVhcFt0LmhlYXBfbWF4XSsxXT0wLGE9dC5oZWFwX21heCsxO2E8ZzthKyspYzwocj1sWzIqbFsyKihpPXQuaGVhcFthXSkrMV0rMV0rMSkmJihyPWMsYisrKSxsWzIqaSsxXT1yLGg8aXx8KHQuYmxfY291bnRbcl0rKyxzPTAsdTw9aSYmKHM9X1tpLXVdKSxvPWxbMippXSx0Lm9wdF9sZW4rPW8qKHIrcyksZiYmKHQuc3RhdGljX2xlbis9byooZFsyKmkrMV0rcykpKTtpZigwIT09Yil7ZG97Zm9yKHI9Yy0xOzA9PT10LmJsX2NvdW50W3JdOylyLS07dC5ibF9jb3VudFtyXS0tLHQuYmxfY291bnRbcisxXSs9Mix0LmJsX2NvdW50W2NdLS0sYi09Mn13aGlsZSgwPGIpO2ZvcihyPWM7MCE9PXI7ci0tKWZvcihpPXQuYmxfY291bnRbcl07MCE9PWk7KWg8KG49dC5oZWFwWy0tYV0pfHwobFsyKm4rMV0hPT1yJiYodC5vcHRfbGVuKz0oci1sWzIqbisxXSkqbFsyKm5dLGxbMipuKzFdPXIpLGktLSl9fSh0LGUpLGoocixoLHQuYmxfY291bnQpfWZ1bmN0aW9uIFgodCxlLGEpe3ZhciBpLG4scj0tMSxzPWVbMV0sbz0wLGw9NyxoPTQ7Zm9yKDA9PT1zJiYobD0xMzgsaD0zKSxlWzIqKGErMSkrMV09NjU1MzUsaT0wO2k8PWE7aSsrKW49cyxzPWVbMiooaSsxKSsxXSwrK288bCYmbj09PXN8fChvPGg/dC5ibF90cmVlWzIqbl0rPW86MCE9PW4/KG4hPT1yJiZ0LmJsX3RyZWVbMipuXSsrLHQuYmxfdHJlZVsyKnBdKyspOm88PTEwP3QuYmxfdHJlZVsyKnZdKys6dC5ibF90cmVlWzIqa10rKyxyPW4sKG89MCk9PT1zPyhsPTEzOCxoPTMpOm49PT1zPyhsPTYsaD0zKToobD03LGg9NCkpfWZ1bmN0aW9uIFcodCxlLGEpe3ZhciBpLG4scj0tMSxzPWVbMV0sbz0wLGw9NyxoPTQ7Zm9yKDA9PT1zJiYobD0xMzgsaD0zKSxpPTA7aTw9YTtpKyspaWYobj1zLHM9ZVsyKihpKzEpKzFdLCEoKytvPGwmJm49PT1zKSl7aWYobzxoKWZvcig7TCh0LG4sdC5ibF90cmVlKSwwIT0tLW87KTtlbHNlIDAhPT1uPyhuIT09ciYmKEwodCxuLHQuYmxfdHJlZSksby0tKSxMKHQscCx0LmJsX3RyZWUpLEYodCxvLTMsMikpOm88PTEwPyhMKHQsdix0LmJsX3RyZWUpLEYodCxvLTMsMykpOihMKHQsayx0LmJsX3RyZWUpLEYodCxvLTExLDcpKTtyPW4sKG89MCk9PT1zPyhsPTEzOCxoPTMpOm49PT1zPyhsPTYsaD0zKToobD03LGg9NCl9fWkoRCk7dmFyIEo9ITE7ZnVuY3Rpb24gUSh0LGUsYSxpKXt2YXIgbixyLHMsbztGKHQsKGQ8PDEpKyhpPzE6MCksMykscj1lLHM9YSxvPSEwLE0obj10KSxvJiYoVChuLHMpLFQobix+cykpLGwuYXJyYXlTZXQobi5wZW5kaW5nX2J1ZixuLndpbmRvdyxyLHMsbi5wZW5kaW5nKSxuLnBlbmRpbmcrPXN9YS5fdHJfaW5pdD1mdW5jdGlvbih0KXtKfHwoZnVuY3Rpb24oKXt2YXIgdCxlLGEsaSxuLHI9bmV3IEFycmF5KG0rMSk7Zm9yKGk9YT0wO2k8cy0xO2krKylmb3IoUltpXT1hLHQ9MDt0PDE8PHlbaV07dCsrKVpbYSsrXT1pO2ZvcihaW2EtMV09aSxpPW49MDtpPDE2O2krKylmb3IoRFtpXT1uLHQ9MDt0PDE8PHhbaV07dCsrKUFbbisrXT1pO2ZvcihuPj49NztpPHU7aSsrKWZvcihEW2ldPW48PDcsdD0wO3Q8MTw8eFtpXS03O3QrKylBWzI1NituKytdPWk7Zm9yKGU9MDtlPD1tO2UrKylyW2VdPTA7Zm9yKHQ9MDt0PD0xNDM7KVNbMip0KzFdPTgsdCsrLHJbOF0rKztmb3IoO3Q8PTI1NTspU1syKnQrMV09OSx0Kysscls5XSsrO2Zvcig7dDw9Mjc5OylTWzIqdCsxXT03LHQrKyxyWzddKys7Zm9yKDt0PD0yODc7KVNbMip0KzFdPTgsdCsrLHJbOF0rKztmb3IoaihTLF8rMSxyKSx0PTA7dDx1O3QrKylFWzIqdCsxXT01LEVbMip0XT1IKHQsNSk7Qz1uZXcgSShTLHksZisxLF8sbSksTj1uZXcgSShFLHgsMCx1LG0pLE89bmV3IEkobmV3IEFycmF5KDApLHosMCxjLGIpfSgpLEo9ITApLHQubF9kZXNjPW5ldyByKHQuZHluX2x0cmVlLEMpLHQuZF9kZXNjPW5ldyByKHQuZHluX2R0cmVlLE4pLHQuYmxfZGVzYz1uZXcgcih0LmJsX3RyZWUsTyksdC5iaV9idWY9MCx0LmJpX3ZhbGlkPTAsSyh0KX0sYS5fdHJfc3RvcmVkX2Jsb2NrPVEsYS5fdHJfZmx1c2hfYmxvY2s9ZnVuY3Rpb24odCxlLGEsaSl7dmFyIG4scixzPTA7MDx0LmxldmVsPygyPT09dC5zdHJtLmRhdGFfdHlwZSYmKHQuc3RybS5kYXRhX3R5cGU9ZnVuY3Rpb24odCl7dmFyIGUsYT00MDkzNjI0NDQ3O2ZvcihlPTA7ZTw9MzE7ZSsrLGE+Pj49MSlpZigxJmEmJjAhPT10LmR5bl9sdHJlZVsyKmVdKXJldHVybiBvO2lmKDAhPT10LmR5bl9sdHJlZVsxOF18fDAhPT10LmR5bl9sdHJlZVsyMF18fDAhPT10LmR5bl9sdHJlZVsyNl0pcmV0dXJuIGg7Zm9yKGU9MzI7ZTxmO2UrKylpZigwIT09dC5keW5fbHRyZWVbMiplXSlyZXR1cm4gaDtyZXR1cm4gb30odCkpLEcodCx0LmxfZGVzYyksRyh0LHQuZF9kZXNjKSxzPWZ1bmN0aW9uKHQpe3ZhciBlO2ZvcihYKHQsdC5keW5fbHRyZWUsdC5sX2Rlc2MubWF4X2NvZGUpLFgodCx0LmR5bl9kdHJlZSx0LmRfZGVzYy5tYXhfY29kZSksRyh0LHQuYmxfZGVzYyksZT1jLTE7Mzw9ZSYmMD09PXQuYmxfdHJlZVsyKkJbZV0rMV07ZS0tKTtyZXR1cm4gdC5vcHRfbGVuKz0zKihlKzEpKzUrNSs0LGV9KHQpLG49dC5vcHRfbGVuKzMrNz4+PjMsKHI9dC5zdGF0aWNfbGVuKzMrNz4+PjMpPD1uJiYobj1yKSk6bj1yPWErNSxhKzQ8PW4mJi0xIT09ZT9RKHQsZSxhLGkpOjQ9PT10LnN0cmF0ZWd5fHxyPT09bj8oRih0LDIrKGk/MTowKSwzKSxxKHQsUyxFKSk6KEYodCw0KyhpPzE6MCksMyksZnVuY3Rpb24odCxlLGEsaSl7dmFyIG47Zm9yKEYodCxlLTI1Nyw1KSxGKHQsYS0xLDUpLEYodCxpLTQsNCksbj0wO248aTtuKyspRih0LHQuYmxfdHJlZVsyKkJbbl0rMV0sMyk7Vyh0LHQuZHluX2x0cmVlLGUtMSksVyh0LHQuZHluX2R0cmVlLGEtMSl9KHQsdC5sX2Rlc2MubWF4X2NvZGUrMSx0LmRfZGVzYy5tYXhfY29kZSsxLHMrMSkscSh0LHQuZHluX2x0cmVlLHQuZHluX2R0cmVlKSksSyh0KSxpJiZNKHQpfSxhLl90cl90YWxseT1mdW5jdGlvbih0LGUsYSl7cmV0dXJuIHQucGVuZGluZ19idWZbdC5kX2J1ZisyKnQubGFzdF9saXRdPWU+Pj44JjI1NSx0LnBlbmRpbmdfYnVmW3QuZF9idWYrMip0Lmxhc3RfbGl0KzFdPTI1NSZlLHQucGVuZGluZ19idWZbdC5sX2J1Zit0Lmxhc3RfbGl0XT0yNTUmYSx0Lmxhc3RfbGl0KyssMD09PWU/dC5keW5fbHRyZWVbMiphXSsrOih0Lm1hdGNoZXMrKyxlLS0sdC5keW5fbHRyZWVbMiooWlthXStmKzEpXSsrLHQuZHluX2R0cmVlWzIqVShlKV0rKyksdC5sYXN0X2xpdD09PXQubGl0X2J1ZnNpemUtMX0sYS5fdHJfYWxpZ249ZnVuY3Rpb24odCl7dmFyIGU7Rih0LDIsMyksTCh0LHcsUyksMTY9PT0oZT10KS5iaV92YWxpZD8oVChlLGUuYmlfYnVmKSxlLmJpX2J1Zj0wLGUuYmlfdmFsaWQ9MCk6ODw9ZS5iaV92YWxpZCYmKGUucGVuZGluZ19idWZbZS5wZW5kaW5nKytdPTI1NSZlLmJpX2J1ZixlLmJpX2J1Zj4+PTgsZS5iaV92YWxpZC09OCl9fSx7Ii4uL3V0aWxzL2NvbW1vbiI6M31dLDE1OltmdW5jdGlvbih0LGUsYSl7InVzZSBzdHJpY3QiO2UuZXhwb3J0cz1mdW5jdGlvbigpe3RoaXMuaW5wdXQ9bnVsbCx0aGlzLm5leHRfaW49MCx0aGlzLmF2YWlsX2luPTAsdGhpcy50b3RhbF9pbj0wLHRoaXMub3V0cHV0PW51bGwsdGhpcy5uZXh0X291dD0wLHRoaXMuYXZhaWxfb3V0PTAsdGhpcy50b3RhbF9vdXQ9MCx0aGlzLm1zZz0iIix0aGlzLnN0YXRlPW51bGwsdGhpcy5kYXRhX3R5cGU9Mix0aGlzLmFkbGVyPTB9fSx7fV0sIi8iOltmdW5jdGlvbih0LGUsYSl7InVzZSBzdHJpY3QiO3ZhciBpPXt9OygwLHQoIi4vbGliL3V0aWxzL2NvbW1vbiIpLmFzc2lnbikoaSx0KCIuL2xpYi9kZWZsYXRlIiksdCgiLi9saWIvaW5mbGF0ZSIpLHQoIi4vbGliL3psaWIvY29uc3RhbnRzIikpLGUuZXhwb3J0cz1pfSx7Ii4vbGliL2RlZmxhdGUiOjEsIi4vbGliL2luZmxhdGUiOjIsIi4vbGliL3V0aWxzL2NvbW1vbiI6MywiLi9saWIvemxpYi9jb25zdGFudHMiOjZ9XX0se30sW10pKCIvIil9KTsKdmFyIEJhc2U2ND17X2tleVN0cjoiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLz0iLGVuY29kZTpmdW5jdGlvbihhLGIpe3ZhciBjPSIiLGQsZSxmLGcsayxsLG09MDtmb3IobnVsbCE9YiYmYnx8KGE9QmFzZTY0Ll91dGY4X2VuY29kZShhKSk7bTxhLmxlbmd0aDspZD1hLmNoYXJDb2RlQXQobSsrKSxlPWEuY2hhckNvZGVBdChtKyspLGY9YS5jaGFyQ29kZUF0KG0rKyksZz1kPj4yLGQ9KGQmMyk8PDR8ZT4+NCxrPShlJjE1KTw8MnxmPj42LGw9ZiY2Myxpc05hTihlKT9rPWw9NjQ6aXNOYU4oZikmJihsPTY0KSxjPWMrdGhpcy5fa2V5U3RyLmNoYXJBdChnKSt0aGlzLl9rZXlTdHIuY2hhckF0KGQpK3RoaXMuX2tleVN0ci5jaGFyQXQoaykrdGhpcy5fa2V5U3RyLmNoYXJBdChsKTtyZXR1cm4gY30sZGVjb2RlOmZ1bmN0aW9uKGEsYil7Yj1udWxsIT1iP2I6ITE7dmFyIGM9IiIsZCxlLGYsZyxrLGw9MDtmb3IoYT1hLnJlcGxhY2UoL1teQS1aYS16MC05XCtcL1w9XS9nLAoiIik7bDxhLmxlbmd0aDspZD10aGlzLl9rZXlTdHIuaW5kZXhPZihhLmNoYXJBdChsKyspKSxlPXRoaXMuX2tleVN0ci5pbmRleE9mKGEuY2hhckF0KGwrKykpLGc9dGhpcy5fa2V5U3RyLmluZGV4T2YoYS5jaGFyQXQobCsrKSksaz10aGlzLl9rZXlTdHIuaW5kZXhPZihhLmNoYXJBdChsKyspKSxkPWQ8PDJ8ZT4+NCxlPShlJjE1KTw8NHxnPj4yLGY9KGcmMyk8PDZ8ayxjKz1TdHJpbmcuZnJvbUNoYXJDb2RlKGQpLDY0IT1nJiYoYys9U3RyaW5nLmZyb21DaGFyQ29kZShlKSksNjQhPWsmJihjKz1TdHJpbmcuZnJvbUNoYXJDb2RlKGYpKTtifHwoYz1CYXNlNjQuX3V0ZjhfZGVjb2RlKGMpKTtyZXR1cm4gY30sX3V0ZjhfZW5jb2RlOmZ1bmN0aW9uKGEpe2E9YS5yZXBsYWNlKC9cclxuL2csIlxuIik7Zm9yKHZhciBiPSIiLGM9MDtjPGEubGVuZ3RoO2MrKyl7dmFyIGQ9YS5jaGFyQ29kZUF0KGMpOzEyOD5kP2IrPVN0cmluZy5mcm9tQ2hhckNvZGUoZCk6KDEyNzxkJiYyMDQ4PmQ/Yis9ClN0cmluZy5mcm9tQ2hhckNvZGUoZD4+NnwxOTIpOihiKz1TdHJpbmcuZnJvbUNoYXJDb2RlKGQ+PjEyfDIyNCksYis9U3RyaW5nLmZyb21DaGFyQ29kZShkPj42JjYzfDEyOCkpLGIrPVN0cmluZy5mcm9tQ2hhckNvZGUoZCY2M3wxMjgpKX1yZXR1cm4gYn0sX3V0ZjhfZGVjb2RlOmZ1bmN0aW9uKGEpe3ZhciBiPSIiLGM9MCxkO2ZvcihjMT1jMj0wO2M8YS5sZW5ndGg7KWQ9YS5jaGFyQ29kZUF0KGMpLDEyOD5kPyhiKz1TdHJpbmcuZnJvbUNoYXJDb2RlKGQpLGMrKyk6MTkxPGQmJjIyND5kPyhjMj1hLmNoYXJDb2RlQXQoYysxKSxiKz1TdHJpbmcuZnJvbUNoYXJDb2RlKChkJjMxKTw8NnxjMiY2MyksYys9Mik6KGMyPWEuY2hhckNvZGVBdChjKzEpLGMzPWEuY2hhckNvZGVBdChjKzIpLGIrPVN0cmluZy5mcm9tQ2hhckNvZGUoKGQmMTUpPDwxMnwoYzImNjMpPDw2fGMzJjYzKSxjKz0zKTtyZXR1cm4gYn19O3dpbmRvdy51cmxQYXJhbXM9d2luZG93LnVybFBhcmFtc3x8e307d2luZG93LmlzTG9jYWxTdG9yYWdlPXdpbmRvdy5pc0xvY2FsU3RvcmFnZXx8ITE7d2luZG93Lm14TG9hZFNldHRpbmdzPXdpbmRvdy5teExvYWRTZXR0aW5nc3x8IjEiIT11cmxQYXJhbXMuY29uZmlndXJlO3dpbmRvdy5pc1N2Z0Jyb3dzZXI9d2luZG93LmlzU3ZnQnJvd3Nlcnx8bnVsbD09bmF2aWdhdG9yLnVzZXJBZ2VudHx8MD5uYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIk1TSUUiKXx8OTw9ZG9jdW1lbnQuZG9jdW1lbnRNb2RlO3dpbmRvdy5EUkFXSU9fQkFTRV9VUkw9d2luZG93LkRSQVdJT19CQVNFX1VSTHx8KC8uKlwuZHJhd1wuaW8kLy50ZXN0KHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSk/d2luZG93LmxvY2F0aW9uLnByb3RvY29sKyIvLyIrd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lOiJodHRwczovL2FwcC5kaWFncmFtcy5uZXQiKTsKd2luZG93LkVYUE9SVF9VUkw9d2luZG93LkVYUE9SVF9VUkx8fCJodHRwczovL2V4cC5kcmF3LmlvL0ltYWdlRXhwb3J0NC9leHBvcnQiO3dpbmRvdy5QTEFOVF9VUkw9d2luZG93LlBMQU5UX1VSTHx8Imh0dHBzOi8vcGxhbnQtYXdzLmRpYWdyYW1zLm5ldCI7d2luZG93LkRSQVdfTUFUSF9VUkw9d2luZG93LkRSQVdfTUFUSF9VUkx8fHdpbmRvdy5EUkFXSU9fQkFTRV9VUkwrIi9tYXRoIjt3aW5kb3cuVlNEX0NPTlZFUlRfVVJMPXdpbmRvdy5WU0RfQ09OVkVSVF9VUkx8fCJodHRwczovL2NvbnZlcnQuZHJhdy5pby9Wc2RDb252ZXJ0ZXIvYXBpL2NvbnZlcnRlciI7d2luZG93LkVNRl9DT05WRVJUX1VSTD13aW5kb3cuRU1GX0NPTlZFUlRfVVJMfHwiaHR0cHM6Ly9jb252ZXJ0LmRyYXcuaW8vZW1mMnBuZy9jb252ZXJ0RU1GIjt3aW5kb3cuUkVBTFRJTUVfVVJMPXdpbmRvdy5SRUFMVElNRV9VUkx8fCJjYWNoZSI7CndpbmRvdy5EUkFXSU9fR0lUTEFCX1VSTD13aW5kb3cuRFJBV0lPX0dJVExBQl9VUkx8fCJodHRwczovL2dpdGxhYi5jb20iO3dpbmRvdy5EUkFXSU9fR0lUTEFCX0lEPXdpbmRvdy5EUkFXSU9fR0lUTEFCX0lEfHwiNWNkYzAxOGEzMmFjZGRmNmViYTM3NTkyZDkzNzQ5NDUyNDFlNjQ0YjgzNjhhZjg0NzQyMmQ3NGM4NzA5YmM0NCI7d2luZG93LlNBVkVfVVJMPXdpbmRvdy5TQVZFX1VSTHx8InNhdmUiO3dpbmRvdy5PUEVOX1VSTD13aW5kb3cuT1BFTl9VUkx8fCJpbXBvcnQiO3dpbmRvdy5QUk9YWV9VUkw9d2luZG93LlBST1hZX1VSTHx8InByb3h5Ijt3aW5kb3cuRFJBV0lPX1ZJRVdFUl9VUkw9d2luZG93LkRSQVdJT19WSUVXRVJfVVJMfHxudWxsO3dpbmRvdy5TSEFQRVNfUEFUSD13aW5kb3cuU0hBUEVTX1BBVEh8fCJzaGFwZXMiO3dpbmRvdy5HUkFQSF9JTUFHRV9QQVRIPXdpbmRvdy5HUkFQSF9JTUFHRV9QQVRIfHwiaW1nIjsKd2luZG93LklDT05TRUFSQ0hfUEFUSD13aW5kb3cuSUNPTlNFQVJDSF9QQVRIfHwoKG51bGwhPW5hdmlnYXRvci51c2VyQWdlbnQmJjA8PW5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiTVNJRSIpfHx1cmxQYXJhbXMuZGV2KSYmImZpbGU6IiE9d2luZG93LmxvY2F0aW9uLnByb3RvY29sPyJpY29uU2VhcmNoIjp3aW5kb3cuRFJBV0lPX0JBU0VfVVJMKyIvaWNvblNlYXJjaCIpO3dpbmRvdy5URU1QTEFURV9QQVRIPXdpbmRvdy5URU1QTEFURV9QQVRIfHwidGVtcGxhdGVzIjt3aW5kb3cuTkVXX0RJQUdSQU1fQ0FUU19QQVRIPXdpbmRvdy5ORVdfRElBR1JBTV9DQVRTX1BBVEh8fCJuZXdEaWFncmFtQ2F0cyI7d2luZG93LlBMVUdJTlNfQkFTRV9QQVRIPXdpbmRvdy5QTFVHSU5TX0JBU0VfUEFUSHx8IiI7d2luZG93LlJFU09VUkNFU19QQVRIPXdpbmRvdy5SRVNPVVJDRVNfUEFUSHx8InJlc291cmNlcyI7CndpbmRvdy5SRVNPVVJDRV9CQVNFPXdpbmRvdy5SRVNPVVJDRV9CQVNFfHxSRVNPVVJDRVNfUEFUSCsiL2RpYSI7d2luZG93LkRSQVdJT19DT05GSUc9d2luZG93LkRSQVdJT19DT05GSUd8fG51bGw7d2luZG93Lm14TG9hZFJlc291cmNlcz13aW5kb3cubXhMb2FkUmVzb3VyY2VzfHwhMTt3aW5kb3cubXhMYW5ndWFnZT13aW5kb3cubXhMYW5ndWFnZXx8ZnVuY3Rpb24oKXt2YXIgYT11cmxQYXJhbXMubGFuZztpZihudWxsPT1hJiYidW5kZWZpbmVkIiE9dHlwZW9mIEpTT04mJmlzTG9jYWxTdG9yYWdlKXRyeXt2YXIgYj1sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiLmRyYXdpby1jb25maWciKTtudWxsIT1iJiYoYT1KU09OLnBhcnNlKGIpLmxhbmd1YWdlfHxudWxsKX1jYXRjaChjKXtpc0xvY2FsU3RvcmFnZT0hMX1yZXR1cm4gYX0oKTsKd2luZG93Lm14TGFuZ3VhZ2VNYXA9d2luZG93Lm14TGFuZ3VhZ2VNYXB8fHtpMThuOiIiLGlkOiJCYWhhc2EgSW5kb25lc2lhIixtczoiQmFoYXNhIE1lbGF5dSIsYnM6IkJvc2Fuc2tpIixiZzoiQnVsZ2FyaWFuIixjYToiQ2F0YWzDoCIsY3M6IsSMZcWhdGluYSIsZGE6IkRhbnNrIixkZToiRGV1dHNjaCIsZXQ6IkVlc3RpIixlbjoiRW5nbGlzaCIsZXM6IkVzcGHDsW9sIixldToiRXVza2FkaSIsZmlsOiJGaWxpcGlubyIsZnI6IkZyYW7Dp2FpcyIsZ2w6IkdhbGVnbyIsaXQ6Ikl0YWxpYW5vIixodToiTWFneWFyIixubDoiTmVkZXJsYW5kcyIsbm86Ik5vcnNrIixwbDoiUG9sc2tpIiwicHQtYnIiOiJQb3J0dWd1w6pzIChCcmFzaWwpIixwdDoiUG9ydHVndcOqcyAoUG9ydHVnYWwpIixybzoiUm9tw6JuxIMiLGZpOiJTdW9taSIsc3Y6IlN2ZW5za2EiLHZpOiJUaeG6v25nIFZp4buHdCIsdHI6IlTDvHJrw6dlIixlbDoizpXOu867zrfOvc65zrrOrCIscnU6ItCg0YPRgdGB0LrQuNC5Iixzcjoi0KHRgNC/0YHQutC4Iix1azoi0KPQutGA0LDRl9C90YHRjNC60LAiLApoZToi16LXkdeo15nXqiIsYXI6Itin2YTYudix2KjZitipIix0aDoi4LmE4LiX4LiiIixrbzoi7ZWc6rWt7Ja0IixqYToi5pel5pys6KqeIix6aDoi566A5L2T5Lit5paHIiwiemgtdHciOiLnuYHpq5TkuK3mlocifTsidW5kZWZpbmVkIj09PXR5cGVvZiB3aW5kb3cubXhCYXNlUGF0aCYmKHdpbmRvdy5teEJhc2VQYXRoPSJteGdyYXBoIik7aWYobnVsbD09d2luZG93Lm14TGFuZ3VhZ2VzKXt3aW5kb3cubXhMYW5ndWFnZXM9W107Zm9yKHZhciBsYW5nIGluIG14TGFuZ3VhZ2VNYXApImVuIiE9bGFuZyYmd2luZG93Lm14TGFuZ3VhZ2VzLnB1c2gobGFuZyl9CndpbmRvdy51aVRoZW1lPXdpbmRvdy51aVRoZW1lfHxmdW5jdGlvbigpe3ZhciBhPXVybFBhcmFtcy51aTtpZihudWxsPT1hJiYidW5kZWZpbmVkIiE9PXR5cGVvZiBKU09OJiZpc0xvY2FsU3RvcmFnZSl0cnl7dmFyIGI9bG9jYWxTdG9yYWdlLmdldEl0ZW0oIi5kcmF3aW8tY29uZmlnIik7bnVsbCE9YiYmKGE9SlNPTi5wYXJzZShiKS51aXx8bnVsbCl9Y2F0Y2goYyl7aXNMb2NhbFN0b3JhZ2U9ITF9dHJ5e251bGw9PWEmJjQxND49KHdpbmRvdy5pbm5lcldpZHRofHxkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGh8fGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGgpJiYoYT0ibWluIil9Y2F0Y2goYyl7fXJldHVybiBhfSgpO2Z1bmN0aW9uIHNldEN1cnJlbnRYbWwoYSxiKXtudWxsIT13aW5kb3cucGFyZW50JiZudWxsIT13aW5kb3cucGFyZW50Lm9wZW5GaWxlJiZ3aW5kb3cucGFyZW50Lm9wZW5GaWxlLnNldERhdGEoYSxiKX0KKGZ1bmN0aW9uKCl7aWYoInVuZGVmaW5lZCIhPT10eXBlb2YgSlNPTiYmaXNMb2NhbFN0b3JhZ2UpdHJ5e3ZhciBhPWxvY2FsU3RvcmFnZS5nZXRJdGVtKCIuZHJhd2lvLWNvbmZpZyIpLGI9ITA7bnVsbCE9YSYmKGI9SlNPTi5wYXJzZShhKS5zaG93U3RhcnRTY3JlZW4pOzA9PWImJih1cmxQYXJhbXMuc3BsYXNoPSIwIil9Y2F0Y2goZCl7fWE9dXJsUGFyYW1zWyJleHBvcnQiXTtudWxsIT1hJiYoYT1kZWNvZGVVUklDb21wb25lbnQoYSksImh0dHA6Ly8iIT1hLnN1YnN0cmluZygwLDcpJiYiaHR0cHM6Ly8iIT1hLnN1YnN0cmluZygwLDgpJiYoYT0iaHR0cDovLyIrYSksRVhQT1JUX1VSTD1hKTthPXVybFBhcmFtcy5naXRsYWI7bnVsbCE9YSYmKGE9ZGVjb2RlVVJJQ29tcG9uZW50KGEpLCJodHRwOi8vIiE9YS5zdWJzdHJpbmcoMCw3KSYmImh0dHBzOi8vIiE9YS5zdWJzdHJpbmcoMCw4KSYmKGE9Imh0dHA6Ly8iK2EpLERSQVdJT19HSVRMQUJfVVJMPWEpO2E9dXJsUGFyYW1zWyJnaXRsYWItaWQiXTsKbnVsbCE9YSYmKERSQVdJT19HSVRMQUJfSUQ9YSk7d2luZG93LkRSQVdJT19MT0dfVVJMPXdpbmRvdy5EUkFXSU9fTE9HX1VSTHx8IiI7YT13aW5kb3cubG9jYXRpb24uaG9zdDtpZigidGVzdC5kcmF3LmlvIiE9YSl7dmFyIGM9ImRpYWdyYW1zLm5ldCIsYj1hLmxlbmd0aC1jLmxlbmd0aCxjPWEubGFzdEluZGV4T2YoYyxiKTstMSE9PWMmJmM9PT1iP3dpbmRvdy5EUkFXSU9fTE9HX1VSTD0iaHR0cHM6Ly9sb2cuZGlhZ3JhbXMubmV0IjooYz0iZHJhdy5pbyIsYj1hLmxlbmd0aC1jLmxlbmd0aCxjPWEubGFzdEluZGV4T2YoYyxiKSwtMSE9PWMmJmM9PT1iJiYod2luZG93LkRSQVdJT19MT0dfVVJMPSJodHRwczovL2xvZy5kcmF3LmlvIikpfX0pKCk7CmlmKCIxIj09dXJsUGFyYW1zLm9mZmxpbmV8fCIxIj09dXJsUGFyYW1zLmRlbW98fCIxIj09dXJsUGFyYW1zLnN0ZWFsdGh8fCIxIj09dXJsUGFyYW1zLmxvY2FsKXVybFBhcmFtcy5waWNrZXI9IjAiLHVybFBhcmFtcy5nYXBpPSIwIix1cmxQYXJhbXMuZGI9IjAiLHVybFBhcmFtcy5vZD0iMCIsdXJsUGFyYW1zLmdoPSIwIix1cmxQYXJhbXMuZ2w9IjAiLHVybFBhcmFtcy50cj0iMCI7ImVtYmVkLmRpYWdyYW1zLm5ldCI9PXdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSYmKHVybFBhcmFtcy5lbWJlZD0iMSIpO2lmKCIxIj09dXJsUGFyYW1zLm9mZmxpbmV8fCIxIj09dXJsUGFyYW1zLmxvY2FsKXVybFBhcmFtcy5tYXRoPSIwIjsiMSI9PXVybFBhcmFtcy5saWdodGJveCYmKHVybFBhcmFtcy5jaHJvbWU9IjAiKTsKKG51bGw9PXdpbmRvdy5sb2NhdGlvbi5oYXNofHwxPj13aW5kb3cubG9jYXRpb24uaGFzaC5sZW5ndGgpJiZudWxsIT11cmxQYXJhbXMub3BlbiYmKHdpbmRvdy5sb2NhdGlvbi5oYXNoPXVybFBhcmFtcy5vcGVuKTt3aW5kb3cudXJsUGFyYW1zPXdpbmRvdy51cmxQYXJhbXN8fHt9O3dpbmRvdy5NQVhfUkVRVUVTVF9TSVpFPXdpbmRvdy5NQVhfUkVRVUVTVF9TSVpFfHwxMDQ4NTc2MDt3aW5kb3cuTUFYX0FSRUE9d2luZG93Lk1BWF9BUkVBfHwyMjVFNjt3aW5kb3cuRVhQT1JUX1VSTD13aW5kb3cuRVhQT1JUX1VSTHx8Ii9leHBvcnQiO3dpbmRvdy5TQVZFX1VSTD13aW5kb3cuU0FWRV9VUkx8fCIvc2F2ZSI7d2luZG93Lk9QRU5fVVJMPXdpbmRvdy5PUEVOX1VSTHx8Ii9vcGVuIjt3aW5kb3cuUkVTT1VSQ0VTX1BBVEg9d2luZG93LlJFU09VUkNFU19QQVRIfHwicmVzb3VyY2VzIjt3aW5kb3cuUkVTT1VSQ0VfQkFTRT13aW5kb3cuUkVTT1VSQ0VfQkFTRXx8d2luZG93LlJFU09VUkNFU19QQVRIKyIvZ3JhcGhlZGl0b3IiO3dpbmRvdy5TVEVOQ0lMX1BBVEg9d2luZG93LlNURU5DSUxfUEFUSHx8InN0ZW5jaWxzIjt3aW5kb3cuSU1BR0VfUEFUSD13aW5kb3cuSU1BR0VfUEFUSHx8ImltYWdlcyI7CndpbmRvdy5TVFlMRV9QQVRIPXdpbmRvdy5TVFlMRV9QQVRIfHwic3R5bGVzIjt3aW5kb3cuQ1NTX1BBVEg9d2luZG93LkNTU19QQVRIfHwic3R5bGVzIjt3aW5kb3cuT1BFTl9GT1JNPXdpbmRvdy5PUEVOX0ZPUk18fCJvcGVuLmh0bWwiO3dpbmRvdy5teEJhc2VQYXRoPXdpbmRvdy5teEJhc2VQYXRofHwiLi4vLi4vLi4vc3JjIjt3aW5kb3cubXhMYW5ndWFnZT13aW5kb3cubXhMYW5ndWFnZXx8dXJsUGFyYW1zLmxhbmc7d2luZG93Lm14TGFuZ3VhZ2VzPXdpbmRvdy5teExhbmd1YWdlc3x8WyJkZSIsInNlIl07dmFyIG14Q2xpZW50PXtWRVJTSU9OOiI0LjIuMCIsSVNfSUU6bnVsbCE9bmF2aWdhdG9yLnVzZXJBZ2VudCYmMDw9bmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJNU0lFIiksSVNfSUU2Om51bGwhPW5hdmlnYXRvci51c2VyQWdlbnQmJjA8PW5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiTVNJRSA2IiksSVNfSUUxMTpudWxsIT1uYXZpZ2F0b3IudXNlckFnZW50JiYhIW5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL1RyaWRlbnRcLzdcLi8pLElTX0VER0U6bnVsbCE9bmF2aWdhdG9yLnVzZXJBZ2VudCYmISFuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9FZGdlXC8vKSxJU19RVUlSS1M6bnVsbCE9bmF2aWdhdG9yLnVzZXJBZ2VudCYmMDw9bmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJNU0lFIikmJihudWxsPT1kb2N1bWVudC5kb2N1bWVudE1vZGV8fDU9PWRvY3VtZW50LmRvY3VtZW50TW9kZSksSVNfRU06InNwZWxsY2hlY2siaW4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGV4dGFyZWEiKSYmCjg9PWRvY3VtZW50LmRvY3VtZW50TW9kZSxWTUxfUFJFRklYOiJ2IixPRkZJQ0VfUFJFRklYOiJvIixJU19OUzpudWxsIT1uYXZpZ2F0b3IudXNlckFnZW50JiYwPD1uYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIk1vemlsbGEvIikmJjA+bmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJNU0lFIikmJjA+bmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJFZGdlLyIpLElTX09QOm51bGwhPW5hdmlnYXRvci51c2VyQWdlbnQmJigwPD1uYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIk9wZXJhLyIpfHwwPD1uYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIk9QUi8iKSksSVNfT1Q6bnVsbCE9bmF2aWdhdG9yLnVzZXJBZ2VudCYmMDw9bmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJQcmVzdG8vIikmJjA+bmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJQcmVzdG8vMi40LiIpJiYwPm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiUHJlc3RvLzIuMy4iKSYmMD5uYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIlByZXN0by8yLjIuIikmJgowPm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiUHJlc3RvLzIuMS4iKSYmMD5uYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIlByZXN0by8yLjAuIikmJjA+bmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJQcmVzdG8vMS4iKSxJU19TRjovQXBwbGUgQ29tcHV0ZXIsIEluYy8udGVzdChuYXZpZ2F0b3IudmVuZG9yKSxJU19BTkRST0lEOjA8PW5hdmlnYXRvci5hcHBWZXJzaW9uLmluZGV4T2YoIkFuZHJvaWQiKSxJU19JT1M6L2lQKGhvbmV8b2R8YWQpLy50ZXN0KG5hdmlnYXRvci5wbGF0Zm9ybSksSVNfR0M6L0dvb2dsZSBJbmMvLnRlc3QobmF2aWdhdG9yLnZlbmRvciksSVNfQ0hST01FQVBQOm51bGwhPXdpbmRvdy5jaHJvbWUmJm51bGwhPWNocm9tZS5hcHAmJm51bGwhPWNocm9tZS5hcHAucnVudGltZSxJU19GRjoidW5kZWZpbmVkIiE9PXR5cGVvZiBJbnN0YWxsVHJpZ2dlcixJU19NVDowPD1uYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIkZpcmVmb3gvIikmJjA+Cm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiRmlyZWZveC8xLiIpJiYwPm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiRmlyZWZveC8yLiIpfHwwPD1uYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIkljZXdlYXNlbC8iKSYmMD5uYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIkljZXdlYXNlbC8xLiIpJiYwPm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiSWNld2Vhc2VsLzIuIil8fDA8PW5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiU2VhTW9ua2V5LyIpJiYwPm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiU2VhTW9ua2V5LzEuIil8fDA8PW5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiSWNlYXBlLyIpJiYwPm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiSWNlYXBlLzEuIiksSVNfVk1MOiJNSUNST1NPRlQgSU5URVJORVQgRVhQTE9SRVIiPT1uYXZpZ2F0b3IuYXBwTmFtZS50b1VwcGVyQ2FzZSgpLElTX1NWRzoiTUlDUk9TT0ZUIElOVEVSTkVUIEVYUExPUkVSIiE9Cm5hdmlnYXRvci5hcHBOYW1lLnRvVXBwZXJDYXNlKCksTk9fRk86IWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROU3x8IltvYmplY3QgU1ZHRm9yZWlnbk9iamVjdEVsZW1lbnRdIiE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsImZvcmVpZ25PYmplY3QiKXx8MDw9bmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJPcGVyYS8iKSxJU19XSU46MDxuYXZpZ2F0b3IuYXBwVmVyc2lvbi5pbmRleE9mKCJXaW4iKSxJU19NQUM6MDxuYXZpZ2F0b3IuYXBwVmVyc2lvbi5pbmRleE9mKCJNYWMiKSxJU19DSFJPTUVPUzovXGJDck9TXGIvLnRlc3QobmF2aWdhdG9yLmFwcFZlcnNpb24pLElTX1RPVUNIOiJvbnRvdWNoc3RhcnQiaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LElTX1BPSU5URVI6bnVsbCE9d2luZG93LlBvaW50ZXJFdmVudCYmISgwPG5hdmlnYXRvci5hcHBWZXJzaW9uLmluZGV4T2YoIk1hYyIpKSxJU19MT0NBTDowPmRvY3VtZW50LmxvY2F0aW9uLmhyZWYuaW5kZXhPZigiaHR0cDovLyIpJiYKMD5kb2N1bWVudC5sb2NhdGlvbi5ocmVmLmluZGV4T2YoImh0dHBzOi8vIiksZGVmYXVsdEJ1bmRsZXM6W10saXNCcm93c2VyU3VwcG9ydGVkOmZ1bmN0aW9uKCl7cmV0dXJuIG14Q2xpZW50LklTX1ZNTHx8bXhDbGllbnQuSVNfU1ZHfSxsaW5rOmZ1bmN0aW9uKGEsYixjLGQpe2M9Y3x8ZG9jdW1lbnQ7aWYobXhDbGllbnQuSVNfSUU2KWMud3JpdGUoJzxsaW5rIHJlbD0iJythKyciIGhyZWY9IicrYisnIiBjaGFyc2V0PSJVVEYtOCIgdHlwZT0idGV4dC9jc3MiLz4nKTtlbHNle3ZhciBlPWMuY3JlYXRlRWxlbWVudCgibGluayIpO2Uuc2V0QXR0cmlidXRlKCJyZWwiLGEpO2Uuc2V0QXR0cmlidXRlKCJocmVmIixiKTtlLnNldEF0dHJpYnV0ZSgiY2hhcnNldCIsIlVURi04Iik7ZS5zZXRBdHRyaWJ1dGUoInR5cGUiLCJ0ZXh0L2NzcyIpO2QmJmUuc2V0QXR0cmlidXRlKCJpZCIsZCk7Yy5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaGVhZCIpWzBdLmFwcGVuZENoaWxkKGUpfX0sbG9hZFJlc291cmNlczpmdW5jdGlvbihhLApiKXtmdW5jdGlvbiBjKCl7MD09LS1kJiZhKCl9Zm9yKHZhciBkPW14Q2xpZW50LmRlZmF1bHRCdW5kbGVzLmxlbmd0aCxlPTA7ZTxteENsaWVudC5kZWZhdWx0QnVuZGxlcy5sZW5ndGg7ZSsrKW14UmVzb3VyY2VzLmFkZChteENsaWVudC5kZWZhdWx0QnVuZGxlc1tlXSxiLGMpfSxpbmNsdWRlOmZ1bmN0aW9uKGEpe2RvY3VtZW50LndyaXRlKCc8c2NyaXB0IHNyYz0iJythKyciPlx4M2Mvc2NyaXB0PicpfX07InVuZGVmaW5lZCI9PXR5cGVvZiBteExvYWRSZXNvdXJjZXMmJihteExvYWRSZXNvdXJjZXM9ITApOyJ1bmRlZmluZWQiPT10eXBlb2YgbXhGb3JjZUluY2x1ZGVzJiYobXhGb3JjZUluY2x1ZGVzPSExKTsidW5kZWZpbmVkIj09dHlwZW9mIG14UmVzb3VyY2VFeHRlbnNpb24mJihteFJlc291cmNlRXh0ZW5zaW9uPSIudHh0Iik7InVuZGVmaW5lZCI9PXR5cGVvZiBteExvYWRTdHlsZXNoZWV0cyYmKG14TG9hZFN0eWxlc2hlZXRzPSEwKTsKInVuZGVmaW5lZCIhPXR5cGVvZiBteEJhc2VQYXRoJiYwPG14QmFzZVBhdGgubGVuZ3RoPygiLyI9PW14QmFzZVBhdGguc3Vic3RyaW5nKG14QmFzZVBhdGgubGVuZ3RoLTEpJiYobXhCYXNlUGF0aD1teEJhc2VQYXRoLnN1YnN0cmluZygwLG14QmFzZVBhdGgubGVuZ3RoLTEpKSxteENsaWVudC5iYXNlUGF0aD1teEJhc2VQYXRoKTpteENsaWVudC5iYXNlUGF0aD0iLiI7InVuZGVmaW5lZCIhPXR5cGVvZiBteEltYWdlQmFzZVBhdGgmJjA8bXhJbWFnZUJhc2VQYXRoLmxlbmd0aD8oIi8iPT1teEltYWdlQmFzZVBhdGguc3Vic3RyaW5nKG14SW1hZ2VCYXNlUGF0aC5sZW5ndGgtMSkmJihteEltYWdlQmFzZVBhdGg9bXhJbWFnZUJhc2VQYXRoLnN1YnN0cmluZygwLG14SW1hZ2VCYXNlUGF0aC5sZW5ndGgtMSkpLG14Q2xpZW50LmltYWdlQmFzZVBhdGg9bXhJbWFnZUJhc2VQYXRoKTpteENsaWVudC5pbWFnZUJhc2VQYXRoPW14Q2xpZW50LmJhc2VQYXRoKyIvaW1hZ2VzIjsKbXhDbGllbnQubGFuZ3VhZ2U9InVuZGVmaW5lZCIhPXR5cGVvZiBteExhbmd1YWdlJiZudWxsIT1teExhbmd1YWdlP214TGFuZ3VhZ2U6bXhDbGllbnQuSVNfSUU/bmF2aWdhdG9yLnVzZXJMYW5ndWFnZTpuYXZpZ2F0b3IubGFuZ3VhZ2U7bXhDbGllbnQuZGVmYXVsdExhbmd1YWdlPSJ1bmRlZmluZWQiIT10eXBlb2YgbXhEZWZhdWx0TGFuZ3VhZ2UmJm51bGwhPW14RGVmYXVsdExhbmd1YWdlP214RGVmYXVsdExhbmd1YWdlOiJlbiI7bXhMb2FkU3R5bGVzaGVldHMmJm14Q2xpZW50LmxpbmsoInN0eWxlc2hlZXQiLG14Q2xpZW50LmJhc2VQYXRoKyIvY3NzL2NvbW1vbi5jc3MiKTsidW5kZWZpbmVkIiE9dHlwZW9mIG14TGFuZ3VhZ2VzJiZudWxsIT1teExhbmd1YWdlcyYmKG14Q2xpZW50Lmxhbmd1YWdlcz1teExhbmd1YWdlcyk7Cm14Q2xpZW50LklTX1ZNTCYmKG14Q2xpZW50LklTX1NWRz9teENsaWVudC5JU19WTUw9ITE6KG51bGwhPWRvY3VtZW50Lm5hbWVzcGFjZXMmJig4PT1kb2N1bWVudC5kb2N1bWVudE1vZGU/KGRvY3VtZW50Lm5hbWVzcGFjZXMuYWRkKG14Q2xpZW50LlZNTF9QUkVGSVgsInVybjpzY2hlbWFzLW1pY3Jvc29mdC1jb206dm1sIiwiI2RlZmF1bHQjVk1MIiksZG9jdW1lbnQubmFtZXNwYWNlcy5hZGQobXhDbGllbnQuT0ZGSUNFX1BSRUZJWCwidXJuOnNjaGVtYXMtbWljcm9zb2Z0LWNvbTpvZmZpY2U6b2ZmaWNlIiwiI2RlZmF1bHQjVk1MIikpOihkb2N1bWVudC5uYW1lc3BhY2VzLmFkZChteENsaWVudC5WTUxfUFJFRklYLCJ1cm46c2NoZW1hcy1taWNyb3NvZnQtY29tOnZtbCIpLGRvY3VtZW50Lm5hbWVzcGFjZXMuYWRkKG14Q2xpZW50Lk9GRklDRV9QUkVGSVgsInVybjpzY2hlbWFzLW1pY3Jvc29mdC1jb206b2ZmaWNlOm9mZmljZSIpKSksbXhDbGllbnQuSVNfUVVJUktTJiYzMDw9ZG9jdW1lbnQuc3R5bGVTaGVldHMubGVuZ3RoPwpmdW5jdGlvbigpe3ZhciBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInN0eWxlIik7YS50eXBlPSJ0ZXh0L2NzcyI7YS5zdHlsZVNoZWV0LmNzc1RleHQ9bXhDbGllbnQuVk1MX1BSRUZJWCsiXFw6KntiZWhhdmlvcjp1cmwoI2RlZmF1bHQjVk1MKX0iK214Q2xpZW50Lk9GRklDRV9QUkVGSVgrIlxcOip7YmVoYXZpb3I6dXJsKCNkZWZhdWx0I1ZNTCl9Ijtkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaGVhZCIpWzBdLmFwcGVuZENoaWxkKGEpfSgpOmRvY3VtZW50LmNyZWF0ZVN0eWxlU2hlZXQoKS5jc3NUZXh0PW14Q2xpZW50LlZNTF9QUkVGSVgrIlxcOip7YmVoYXZpb3I6dXJsKCNkZWZhdWx0I1ZNTCl9IitteENsaWVudC5PRkZJQ0VfUFJFRklYKyJcXDoqe2JlaGF2aW9yOnVybCgjZGVmYXVsdCNWTUwpfSIsbXhMb2FkU3R5bGVzaGVldHMmJm14Q2xpZW50LmxpbmsoInN0eWxlc2hlZXQiLG14Q2xpZW50LmJhc2VQYXRoKyIvY3NzL2V4cGxvcmVyLmNzcyIpKSk7CnZhciBteExvZz17Y29uc29sZU5hbWU6IkNvbnNvbGUiLFRSQUNFOiExLERFQlVHOiEwLFdBUk46ITAsYnVmZmVyOiIiLGluaXQ6ZnVuY3Rpb24oKXtpZihudWxsPT1teExvZy53aW5kb3cmJm51bGwhPWRvY3VtZW50LmJvZHkpe3ZhciBhPW14TG9nLmNvbnNvbGVOYW1lKyIgLSBteEdyYXBoICIrbXhDbGllbnQuVkVSU0lPTixiPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRhYmxlIik7Yi5zZXRBdHRyaWJ1dGUoIndpZHRoIiwiMTAwJSIpO2Iuc2V0QXR0cmlidXRlKCJoZWlnaHQiLCIxMDAlIik7dmFyIGM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGJvZHkiKSxkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRyIiksZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ZCIpO2Uuc3R5bGUudmVydGljYWxBbGlnbj0idG9wIjtteExvZy50ZXh0YXJlYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ZXh0YXJlYSIpO214TG9nLnRleHRhcmVhLnNldEF0dHJpYnV0ZSgid3JhcCIsIm9mZiIpOwpteExvZy50ZXh0YXJlYS5zZXRBdHRyaWJ1dGUoInJlYWRPbmx5IiwidHJ1ZSIpO214TG9nLnRleHRhcmVhLnN0eWxlLmhlaWdodD0iMTAwJSI7bXhMb2cudGV4dGFyZWEuc3R5bGUucmVzaXplPSJub25lIjtteExvZy50ZXh0YXJlYS52YWx1ZT1teExvZy5idWZmZXI7bXhMb2cudGV4dGFyZWEuc3R5bGUud2lkdGg9bXhDbGllbnQuSVNfTlMmJiJCYWNrQ29tcGF0IiE9ZG9jdW1lbnQuY29tcGF0TW9kZT8iOTklIjoiMTAwJSI7ZS5hcHBlbmRDaGlsZChteExvZy50ZXh0YXJlYSk7ZC5hcHBlbmRDaGlsZChlKTtjLmFwcGVuZENoaWxkKGQpO2Q9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidHIiKTtteExvZy50ZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ZCIpO214TG9nLnRkLnN0eWxlLnZlcnRpY2FsQWxpZ249InRvcCI7bXhMb2cudGQuc2V0QXR0cmlidXRlKCJoZWlnaHQiLCIzMHB4Iik7ZC5hcHBlbmRDaGlsZChteExvZy50ZCk7Yy5hcHBlbmRDaGlsZChkKTtiLmFwcGVuZENoaWxkKGMpOwpteExvZy5hZGRCdXR0b24oIkluZm8iLGZ1bmN0aW9uKGEpe214TG9nLmluZm8oKX0pO214TG9nLmFkZEJ1dHRvbigiRE9NIixmdW5jdGlvbihhKXthPW14VXRpbHMuZ2V0SW5uZXJIdG1sKGRvY3VtZW50LmJvZHkpO214TG9nLmRlYnVnKGEpfSk7bXhMb2cuYWRkQnV0dG9uKCJUcmFjZSIsZnVuY3Rpb24oYSl7bXhMb2cuVFJBQ0U9IW14TG9nLlRSQUNFO214TG9nLlRSQUNFP214TG9nLmRlYnVnKCJUcmFjaW5nIGVuYWJsZWQiKTpteExvZy5kZWJ1ZygiVHJhY2luZyBkaXNhYmxlZCIpfSk7bXhMb2cuYWRkQnV0dG9uKCJDb3B5IixmdW5jdGlvbihhKXt0cnl7bXhVdGlscy5jb3B5KG14TG9nLnRleHRhcmVhLnZhbHVlKX1jYXRjaChrKXtteFV0aWxzLmFsZXJ0KGspfX0pO214TG9nLmFkZEJ1dHRvbigiU2hvdyIsZnVuY3Rpb24oYSl7dHJ5e214VXRpbHMucG9wdXAobXhMb2cudGV4dGFyZWEudmFsdWUpfWNhdGNoKGspe214VXRpbHMuYWxlcnQoayl9fSk7bXhMb2cuYWRkQnV0dG9uKCJDbGVhciIsCmZ1bmN0aW9uKGEpe214TG9nLnRleHRhcmVhLnZhbHVlPSIifSk7ZD1jPTA7Im51bWJlciI9PT10eXBlb2Ygd2luZG93LmlubmVyV2lkdGg/KGM9d2luZG93LmlubmVySGVpZ2h0LGQ9d2luZG93LmlubmVyV2lkdGgpOihjPWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHR8fGRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0LGQ9ZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aCk7bXhMb2cud2luZG93PW5ldyBteFdpbmRvdyhhLGIsTWF0aC5tYXgoMCxkLTMyMCksTWF0aC5tYXgoMCxjLTIxMCksMzAwLDE2MCk7bXhMb2cud2luZG93LnNldE1heGltaXphYmxlKCEwKTtteExvZy53aW5kb3cuc2V0U2Nyb2xsYWJsZSghMSk7bXhMb2cud2luZG93LnNldFJlc2l6YWJsZSghMCk7bXhMb2cud2luZG93LnNldENsb3NhYmxlKCEwKTtteExvZy53aW5kb3cuZGVzdHJveU9uQ2xvc2U9ITE7aWYoKG14Q2xpZW50LklTX05TfHxteENsaWVudC5JU19JRSkmJiFteENsaWVudC5JU19HQyYmCiFteENsaWVudC5JU19TRiYmIkJhY2tDb21wYXQiIT1kb2N1bWVudC5jb21wYXRNb2RlfHwxMT09ZG9jdW1lbnQuZG9jdW1lbnRNb2RlKXt2YXIgZj1teExvZy53aW5kb3cuZ2V0RWxlbWVudCgpLGE9ZnVuY3Rpb24oYSxiKXtteExvZy50ZXh0YXJlYS5zdHlsZS5oZWlnaHQ9TWF0aC5tYXgoMCxmLm9mZnNldEhlaWdodC03MCkrInB4In07bXhMb2cud2luZG93LmFkZExpc3RlbmVyKG14RXZlbnQuUkVTSVpFX0VORCxhKTtteExvZy53aW5kb3cuYWRkTGlzdGVuZXIobXhFdmVudC5NQVhJTUlaRSxhKTtteExvZy53aW5kb3cuYWRkTGlzdGVuZXIobXhFdmVudC5OT1JNQUxJWkUsYSk7bXhMb2cudGV4dGFyZWEuc3R5bGUuaGVpZ2h0PSI5MnB4In19fSxpbmZvOmZ1bmN0aW9uKCl7bXhMb2cud3JpdGVsbihteFV0aWxzLnRvU3RyaW5nKG5hdmlnYXRvcikpfSxhZGRCdXR0b246ZnVuY3Rpb24oYSxiKXt2YXIgYz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJidXR0b24iKTtteFV0aWxzLndyaXRlKGMsCmEpO214RXZlbnQuYWRkTGlzdGVuZXIoYywiY2xpY2siLGIpO214TG9nLnRkLmFwcGVuZENoaWxkKGMpfSxpc1Zpc2libGU6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9bXhMb2cud2luZG93P214TG9nLndpbmRvdy5pc1Zpc2libGUoKTohMX0sc2hvdzpmdW5jdGlvbigpe214TG9nLnNldFZpc2libGUoITApfSxzZXRWaXNpYmxlOmZ1bmN0aW9uKGEpe251bGw9PW14TG9nLndpbmRvdyYmbXhMb2cuaW5pdCgpO251bGwhPW14TG9nLndpbmRvdyYmbXhMb2cud2luZG93LnNldFZpc2libGUoYSl9LGVudGVyOmZ1bmN0aW9uKGEpe2lmKG14TG9nLlRSQUNFKXJldHVybiBteExvZy53cml0ZWxuKCJFbnRlcmluZyAiK2EpLChuZXcgRGF0ZSkuZ2V0VGltZSgpfSxsZWF2ZTpmdW5jdGlvbihhLGIpe2lmKG14TG9nLlRSQUNFKXt2YXIgYz0wIT1iPyIgKCIrKChuZXcgRGF0ZSkuZ2V0VGltZSgpLWIpKyIgbXMpIjoiIjtteExvZy53cml0ZWxuKCJMZWF2aW5nICIrYStjKX19LGRlYnVnOmZ1bmN0aW9uKCl7bXhMb2cuREVCVUcmJgpteExvZy53cml0ZWxuLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sd2FybjpmdW5jdGlvbigpe214TG9nLldBUk4mJm14TG9nLndyaXRlbG4uYXBwbHkodGhpcyxhcmd1bWVudHMpfSx3cml0ZTpmdW5jdGlvbigpe2Zvcih2YXIgYT0iIixiPTA7Yjxhcmd1bWVudHMubGVuZ3RoO2IrKylhKz1hcmd1bWVudHNbYl0sYjxhcmd1bWVudHMubGVuZ3RoLTEmJihhKz0iICIpO251bGwhPW14TG9nLnRleHRhcmVhPyhteExvZy50ZXh0YXJlYS52YWx1ZSs9YSxudWxsIT1uYXZpZ2F0b3IudXNlckFnZW50JiYwPD1uYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIlByZXN0by8yLjUiKSYmKG14TG9nLnRleHRhcmVhLnN0eWxlLnZpc2liaWxpdHk9ImhpZGRlbiIsbXhMb2cudGV4dGFyZWEuc3R5bGUudmlzaWJpbGl0eT0idmlzaWJsZSIpLG14TG9nLnRleHRhcmVhLnNjcm9sbFRvcD1teExvZy50ZXh0YXJlYS5zY3JvbGxIZWlnaHQpOm14TG9nLmJ1ZmZlcis9YX0sd3JpdGVsbjpmdW5jdGlvbigpe2Zvcih2YXIgYT0KIiIsYj0wO2I8YXJndW1lbnRzLmxlbmd0aDtiKyspYSs9YXJndW1lbnRzW2JdLGI8YXJndW1lbnRzLmxlbmd0aC0xJiYoYSs9IiAiKTtteExvZy53cml0ZShhKyJcbiIpfX0sbXhPYmplY3RJZGVudGl0eT17RklFTERfTkFNRToibXhPYmplY3RJZCIsY291bnRlcjowLGdldDpmdW5jdGlvbihhKXtpZihudWxsIT1hKXtpZihudWxsPT1hW214T2JqZWN0SWRlbnRpdHkuRklFTERfTkFNRV0paWYoIm9iamVjdCI9PT10eXBlb2YgYSl7dmFyIGI9bXhVdGlscy5nZXRGdW5jdGlvbk5hbWUoYS5jb25zdHJ1Y3Rvcik7YVtteE9iamVjdElkZW50aXR5LkZJRUxEX05BTUVdPWIrIiMiK214T2JqZWN0SWRlbnRpdHkuY291bnRlcisrfWVsc2UiZnVuY3Rpb24iPT09dHlwZW9mIGEmJihhW214T2JqZWN0SWRlbnRpdHkuRklFTERfTkFNRV09IkZ1bmN0aW9uIyIrbXhPYmplY3RJZGVudGl0eS5jb3VudGVyKyspO3JldHVybiBhW214T2JqZWN0SWRlbnRpdHkuRklFTERfTkFNRV19cmV0dXJuIG51bGx9LApjbGVhcjpmdW5jdGlvbihhKXsib2JqZWN0IiE9PXR5cGVvZiBhJiYiZnVuY3Rpb24iIT09dHlwZW9mIGF8fGRlbGV0ZSBhW214T2JqZWN0SWRlbnRpdHkuRklFTERfTkFNRV19fTtmdW5jdGlvbiBteERpY3Rpb25hcnkoKXt0aGlzLmNsZWFyKCl9bXhEaWN0aW9uYXJ5LnByb3RvdHlwZS5tYXA9bnVsbDtteERpY3Rpb25hcnkucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dGhpcy5tYXA9e319O214RGljdGlvbmFyeS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGEpe2E9bXhPYmplY3RJZGVudGl0eS5nZXQoYSk7cmV0dXJuIHRoaXMubWFwW2FdfTtteERpY3Rpb25hcnkucHJvdG90eXBlLnB1dD1mdW5jdGlvbihhLGIpe3ZhciBjPW14T2JqZWN0SWRlbnRpdHkuZ2V0KGEpLGQ9dGhpcy5tYXBbY107dGhpcy5tYXBbY109YjtyZXR1cm4gZH07Cm14RGljdGlvbmFyeS5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKGEpe2E9bXhPYmplY3RJZGVudGl0eS5nZXQoYSk7dmFyIGI9dGhpcy5tYXBbYV07ZGVsZXRlIHRoaXMubWFwW2FdO3JldHVybiBifTtteERpY3Rpb25hcnkucHJvdG90eXBlLmdldEtleXM9ZnVuY3Rpb24oKXt2YXIgYT1bXSxiO2ZvcihiIGluIHRoaXMubWFwKWEucHVzaChiKTtyZXR1cm4gYX07bXhEaWN0aW9uYXJ5LnByb3RvdHlwZS5nZXRWYWx1ZXM9ZnVuY3Rpb24oKXt2YXIgYT1bXSxiO2ZvcihiIGluIHRoaXMubWFwKWEucHVzaCh0aGlzLm1hcFtiXSk7cmV0dXJuIGF9O214RGljdGlvbmFyeS5wcm90b3R5cGUudmlzaXQ9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiIGluIHRoaXMubWFwKWEoYix0aGlzLm1hcFtiXSl9Owp2YXIgbXhSZXNvdXJjZXM9e3Jlc291cmNlczp7fSxleHRlbnNpb246bXhSZXNvdXJjZUV4dGVuc2lvbixyZXNvdXJjZXNFbmNvZGVkOiExLGxvYWREZWZhdWx0QnVuZGxlOiEwLGxvYWRTcGVjaWFsQnVuZGxlOiEwLGlzTGFuZ3VhZ2VTdXBwb3J0ZWQ6ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPW14Q2xpZW50Lmxhbmd1YWdlcz8wPD1teFV0aWxzLmluZGV4T2YobXhDbGllbnQubGFuZ3VhZ2VzLGEpOiEwfSxnZXREZWZhdWx0QnVuZGxlOmZ1bmN0aW9uKGEsYil7cmV0dXJuIG14UmVzb3VyY2VzLmxvYWREZWZhdWx0QnVuZGxlfHwhbXhSZXNvdXJjZXMuaXNMYW5ndWFnZVN1cHBvcnRlZChiKT9hK214UmVzb3VyY2VzLmV4dGVuc2lvbjpudWxsfSxnZXRTcGVjaWFsQnVuZGxlOmZ1bmN0aW9uKGEsYil7aWYobnVsbD09bXhDbGllbnQubGFuZ3VhZ2VzfHwhdGhpcy5pc0xhbmd1YWdlU3VwcG9ydGVkKGIpKXt2YXIgYz1iLmluZGV4T2YoIi0iKTswPGMmJihiPWIuc3Vic3RyaW5nKDAsYykpfXJldHVybiBteFJlc291cmNlcy5sb2FkU3BlY2lhbEJ1bmRsZSYmCm14UmVzb3VyY2VzLmlzTGFuZ3VhZ2VTdXBwb3J0ZWQoYikmJmIhPW14Q2xpZW50LmRlZmF1bHRMYW5ndWFnZT9hKyJfIitiK214UmVzb3VyY2VzLmV4dGVuc2lvbjpudWxsfSxhZGQ6ZnVuY3Rpb24oYSxiLGMpe2I9bnVsbCE9Yj9iOm51bGwhPW14Q2xpZW50Lmxhbmd1YWdlP214Q2xpZW50Lmxhbmd1YWdlLnRvTG93ZXJDYXNlKCk6bXhDb25zdGFudHMuTk9ORTtpZihiIT1teENvbnN0YW50cy5OT05FKXt2YXIgZD1teFJlc291cmNlcy5nZXREZWZhdWx0QnVuZGxlKGEsYiksZT1teFJlc291cmNlcy5nZXRTcGVjaWFsQnVuZGxlKGEsYiksZj1mdW5jdGlvbigpe2lmKG51bGwhPWUpaWYoYylteFV0aWxzLmdldChlLGZ1bmN0aW9uKGEpe214UmVzb3VyY2VzLnBhcnNlKGEuZ2V0VGV4dCgpKTtjKCl9LGZ1bmN0aW9uKCl7YygpfSk7ZWxzZSB0cnl7dmFyIGE9bXhVdGlscy5sb2FkKGUpO2EuaXNSZWFkeSgpJiZteFJlc291cmNlcy5wYXJzZShhLmdldFRleHQoKSl9Y2F0Y2gobCl7fWVsc2UgbnVsbCE9CmMmJmMoKX07aWYobnVsbCE9ZClpZihjKW14VXRpbHMuZ2V0KGQsZnVuY3Rpb24oYSl7bXhSZXNvdXJjZXMucGFyc2UoYS5nZXRUZXh0KCkpO2YoKX0sZnVuY3Rpb24oKXtmKCl9KTtlbHNlIHRyeXt2YXIgZz1teFV0aWxzLmxvYWQoZCk7Zy5pc1JlYWR5KCkmJm14UmVzb3VyY2VzLnBhcnNlKGcuZ2V0VGV4dCgpKTtmKCl9Y2F0Y2goayl7fWVsc2UgZigpfX0scGFyc2U6ZnVuY3Rpb24oYSl7aWYobnVsbCE9YSl7YT1hLnNwbGl0KCJcbiIpO2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7YisrKWlmKCIjIiE9YVtiXS5jaGFyQXQoMCkpe3ZhciBjPWFbYl0uaW5kZXhPZigiPSIpO2lmKDA8Yyl7dmFyIGQ9YVtiXS5zdWJzdHJpbmcoMCxjKSxlPWFbYl0ubGVuZ3RoOzEzPT1hW2JdLmNoYXJDb2RlQXQoZS0xKSYmZS0tO2M9YVtiXS5zdWJzdHJpbmcoYysxLGUpO3RoaXMucmVzb3VyY2VzRW5jb2RlZD8oYz1jLnJlcGxhY2UoL1xcKD89dVthLWZBLUZcZF17NH0pL2csIiUiKSxteFJlc291cmNlcy5yZXNvdXJjZXNbZF09CnVuZXNjYXBlKGMpKTpteFJlc291cmNlcy5yZXNvdXJjZXNbZF09Y319fX0sZ2V0OmZ1bmN0aW9uKGEsYixjKXthPW14UmVzb3VyY2VzLnJlc291cmNlc1thXTtudWxsPT1hJiYoYT1jKTtudWxsIT1hJiZudWxsIT1iJiYoYT1teFJlc291cmNlcy5yZXBsYWNlUGxhY2Vob2xkZXJzKGEsYikpO3JldHVybiBhfSxyZXBsYWNlUGxhY2Vob2xkZXJzOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPVtdLGQ9bnVsbCxlPTA7ZTxhLmxlbmd0aDtlKyspe3ZhciBmPWEuY2hhckF0KGUpOyJ7Ij09Zj9kPSIiOm51bGwhPWQmJiJ9Ij09Zj8oZD1wYXJzZUludChkKS0xLDA8PWQmJmQ8Yi5sZW5ndGgmJmMucHVzaChiW2RdKSxkPW51bGwpOm51bGwhPWQ/ZCs9ZjpjLnB1c2goZil9cmV0dXJuIGMuam9pbigiIil9LGxvYWRSZXNvdXJjZXM6ZnVuY3Rpb24oYSl7bXhSZXNvdXJjZXMuYWRkKG14Q2xpZW50LmJhc2VQYXRoKyIvcmVzb3VyY2VzL2VkaXRvciIsbnVsbCxmdW5jdGlvbigpe214UmVzb3VyY2VzLmFkZChteENsaWVudC5iYXNlUGF0aCsKIi9yZXNvdXJjZXMvZ3JhcGgiLG51bGwsYSl9KX19O2Z1bmN0aW9uIG14UG9pbnQoYSxiKXt0aGlzLng9bnVsbCE9YT9hOjA7dGhpcy55PW51bGwhPWI/YjowfW14UG9pbnQucHJvdG90eXBlLng9bnVsbDtteFBvaW50LnByb3RvdHlwZS55PW51bGw7bXhQb2ludC5wcm90b3R5cGUuZXF1YWxzPWZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hJiZhLng9PXRoaXMueCYmYS55PT10aGlzLnl9O214UG9pbnQucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIG14VXRpbHMuY2xvbmUodGhpcyl9O2Z1bmN0aW9uIG14UmVjdGFuZ2xlKGEsYixjLGQpe214UG9pbnQuY2FsbCh0aGlzLGEsYik7dGhpcy53aWR0aD1udWxsIT1jP2M6MDt0aGlzLmhlaWdodD1udWxsIT1kP2Q6MH1teFJlY3RhbmdsZS5wcm90b3R5cGU9bmV3IG14UG9pbnQ7bXhSZWN0YW5nbGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPW14UmVjdGFuZ2xlO214UmVjdGFuZ2xlLnByb3RvdHlwZS53aWR0aD1udWxsOwpteFJlY3RhbmdsZS5wcm90b3R5cGUuaGVpZ2h0PW51bGw7bXhSZWN0YW5nbGUucHJvdG90eXBlLnNldFJlY3Q9ZnVuY3Rpb24oYSxiLGMsZCl7dGhpcy54PWE7dGhpcy55PWI7dGhpcy53aWR0aD1jO3RoaXMuaGVpZ2h0PWR9O214UmVjdGFuZ2xlLnByb3RvdHlwZS5nZXRDZW50ZXJYPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMueCt0aGlzLndpZHRoLzJ9O214UmVjdGFuZ2xlLnByb3RvdHlwZS5nZXRDZW50ZXJZPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMueSt0aGlzLmhlaWdodC8yfTsKbXhSZWN0YW5nbGUucHJvdG90eXBlLmFkZD1mdW5jdGlvbihhKXtpZihudWxsIT1hKXt2YXIgYj1NYXRoLm1pbih0aGlzLngsYS54KSxjPU1hdGgubWluKHRoaXMueSxhLnkpLGQ9TWF0aC5tYXgodGhpcy54K3RoaXMud2lkdGgsYS54K2Eud2lkdGgpO2E9TWF0aC5tYXgodGhpcy55K3RoaXMuaGVpZ2h0LGEueSthLmhlaWdodCk7dGhpcy54PWI7dGhpcy55PWM7dGhpcy53aWR0aD1kLWI7dGhpcy5oZWlnaHQ9YS1jfX07bXhSZWN0YW5nbGUucHJvdG90eXBlLmludGVyc2VjdD1mdW5jdGlvbihhKXtpZihudWxsIT1hKXt2YXIgYj10aGlzLngrdGhpcy53aWR0aCxjPWEueCthLndpZHRoLGQ9dGhpcy55K3RoaXMuaGVpZ2h0LGU9YS55K2EuaGVpZ2h0O3RoaXMueD1NYXRoLm1heCh0aGlzLngsYS54KTt0aGlzLnk9TWF0aC5tYXgodGhpcy55LGEueSk7dGhpcy53aWR0aD1NYXRoLm1pbihiLGMpLXRoaXMueDt0aGlzLmhlaWdodD1NYXRoLm1pbihkLGUpLXRoaXMueX19OwpteFJlY3RhbmdsZS5wcm90b3R5cGUuZ3Jvdz1mdW5jdGlvbihhKXt0aGlzLngtPWE7dGhpcy55LT1hO3RoaXMud2lkdGgrPTIqYTt0aGlzLmhlaWdodCs9MiphO3JldHVybiB0aGlzfTtteFJlY3RhbmdsZS5wcm90b3R5cGUuZ2V0UG9pbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG14UG9pbnQodGhpcy54LHRoaXMueSl9O214UmVjdGFuZ2xlLnByb3RvdHlwZS5yb3RhdGU5MD1mdW5jdGlvbigpe3ZhciBhPSh0aGlzLndpZHRoLXRoaXMuaGVpZ2h0KS8yO3RoaXMueCs9YTt0aGlzLnktPWE7YT10aGlzLndpZHRoO3RoaXMud2lkdGg9dGhpcy5oZWlnaHQ7dGhpcy5oZWlnaHQ9YX07bXhSZWN0YW5nbGUucHJvdG90eXBlLmVxdWFscz1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YSYmYS54PT10aGlzLngmJmEueT09dGhpcy55JiZhLndpZHRoPT10aGlzLndpZHRoJiZhLmhlaWdodD09dGhpcy5oZWlnaHR9OwpteFJlY3RhbmdsZS5mcm9tUmVjdGFuZ2xlPWZ1bmN0aW9uKGEpe3JldHVybiBuZXcgbXhSZWN0YW5nbGUoYS54LGEueSxhLndpZHRoLGEuaGVpZ2h0KX07CnZhciBteEVmZmVjdHM9e2FuaW1hdGVDaGFuZ2VzOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD0wLGU9ZnVuY3Rpb24oKXtmb3IodmFyIGc9ITEsaz0wO2s8Yi5sZW5ndGg7aysrKXt2YXIgbD1iW2tdO2lmKGwgaW5zdGFuY2VvZiBteEdlb21ldHJ5Q2hhbmdlfHxsIGluc3RhbmNlb2YgbXhUZXJtaW5hbENoYW5nZXx8bCBpbnN0YW5jZW9mIG14VmFsdWVDaGFuZ2V8fGwgaW5zdGFuY2VvZiBteENoaWxkQ2hhbmdlfHxsIGluc3RhbmNlb2YgbXhTdHlsZUNoYW5nZSl7dmFyIG09YS5nZXRWaWV3KCkuZ2V0U3RhdGUobC5jZWxsfHxsLmNoaWxkLCExKTtpZihudWxsIT1tKWlmKGc9ITAsbC5jb25zdHJ1Y3RvciE9bXhHZW9tZXRyeUNoYW5nZXx8YS5tb2RlbC5pc0VkZ2UobC5jZWxsKSlteFV0aWxzLnNldE9wYWNpdHkobS5zaGFwZS5ub2RlLDEwMCpkLzEwKTtlbHNle3ZhciBuPWEuZ2V0VmlldygpLnNjYWxlLHA9KGwuZ2VvbWV0cnkueC1sLnByZXZpb3VzLngpKm4scT0obC5nZW9tZXRyeS55LQpsLnByZXZpb3VzLnkpKm4scj0obC5nZW9tZXRyeS53aWR0aC1sLnByZXZpb3VzLndpZHRoKSpuLG49KGwuZ2VvbWV0cnkuaGVpZ2h0LWwucHJldmlvdXMuaGVpZ2h0KSpuOzA9PWQ/KG0ueC09cCxtLnktPXEsbS53aWR0aC09cixtLmhlaWdodC09bik6KG0ueCs9cC8xMCxtLnkrPXEvMTAsbS53aWR0aCs9ci8xMCxtLmhlaWdodCs9bi8xMCk7YS5jZWxsUmVuZGVyZXIucmVkcmF3KG0pO214RWZmZWN0cy5jYXNjYWRlT3BhY2l0eShhLGwuY2VsbCwxMDAqZC8xMCl9fX0xMD5kJiZnPyhkKyssd2luZG93LnNldFRpbWVvdXQoZSxmKSk6bnVsbCE9YyYmYygpfSxmPTMwO2UoKX0sY2FzY2FkZU9wYWNpdHk6ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD1hLm1vZGVsLmdldENoaWxkQ291bnQoYiksZT0wO2U8ZDtlKyspe3ZhciBmPWEubW9kZWwuZ2V0Q2hpbGRBdChiLGUpLGc9YS5nZXRWaWV3KCkuZ2V0U3RhdGUoZik7bnVsbCE9ZyYmKG14VXRpbHMuc2V0T3BhY2l0eShnLnNoYXBlLm5vZGUsCmMpLG14RWZmZWN0cy5jYXNjYWRlT3BhY2l0eShhLGYsYykpfWI9YS5tb2RlbC5nZXRFZGdlcyhiKTtpZihudWxsIT1iKWZvcihlPTA7ZTxiLmxlbmd0aDtlKyspZD1hLmdldFZpZXcoKS5nZXRTdGF0ZShiW2VdKSxudWxsIT1kJiZteFV0aWxzLnNldE9wYWNpdHkoZC5zaGFwZS5ub2RlLGMpfSxmYWRlT3V0OmZ1bmN0aW9uKGEsYixjLGQsZSxmKXtkPWR8fDQwO2U9ZXx8MzA7dmFyIGc9Ynx8MTAwO214VXRpbHMuc2V0T3BhY2l0eShhLGcpO2lmKGZ8fG51bGw9PWYpe3ZhciBrPWZ1bmN0aW9uKCl7Zz1NYXRoLm1heChnLWQsMCk7bXhVdGlscy5zZXRPcGFjaXR5KGEsZyk7MDxnP3dpbmRvdy5zZXRUaW1lb3V0KGssZSk6KGEuc3R5bGUudmlzaWJpbGl0eT0iaGlkZGVuIixjJiZhLnBhcmVudE5vZGUmJmEucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChhKSl9O3dpbmRvdy5zZXRUaW1lb3V0KGssZSl9ZWxzZSBhLnN0eWxlLnZpc2liaWxpdHk9ImhpZGRlbiIsYyYmYS5wYXJlbnROb2RlJiZhLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYSl9fSwKbXhVdGlscz17ZXJyb3JSZXNvdXJjZToibm9uZSIhPW14Q2xpZW50Lmxhbmd1YWdlPyJlcnJvciI6IiIsY2xvc2VSZXNvdXJjZToibm9uZSIhPW14Q2xpZW50Lmxhbmd1YWdlPyJjbG9zZSI6IiIsZXJyb3JJbWFnZTpteENsaWVudC5pbWFnZUJhc2VQYXRoKyIvZXJyb3IuZ2lmIixyZW1vdmVDdXJzb3JzOmZ1bmN0aW9uKGEpe251bGwhPWEuc3R5bGUmJihhLnN0eWxlLmN1cnNvcj0iIik7YT1hLmNoaWxkTm9kZXM7aWYobnVsbCE9YSlmb3IodmFyIGI9YS5sZW5ndGgsYz0wO2M8YjtjKz0xKW14VXRpbHMucmVtb3ZlQ3Vyc29ycyhhW2NdKX0sZ2V0Q3VycmVudFN0eWxlOmZ1bmN0aW9uKCl7cmV0dXJuIG14Q2xpZW50LklTX0lFJiYobnVsbD09ZG9jdW1lbnQuZG9jdW1lbnRNb2RlfHw5PmRvY3VtZW50LmRvY3VtZW50TW9kZSk/ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPWE/YS5jdXJyZW50U3R5bGU6bnVsbH06ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPWE/d2luZG93LmdldENvbXB1dGVkU3R5bGUoYSwKIiIpOm51bGx9fSgpLHBhcnNlQ3NzTnVtYmVyOmZ1bmN0aW9uKGEpeyJ0aGluIj09YT9hPSIyIjoibWVkaXVtIj09YT9hPSI0IjoidGhpY2siPT1hJiYoYT0iNiIpO2E9cGFyc2VGbG9hdChhKTtpc05hTihhKSYmKGE9MCk7cmV0dXJuIGF9LHNldFByZWZpeGVkU3R5bGU6ZnVuY3Rpb24oKXt2YXIgYT1udWxsO214Q2xpZW50LklTX09UP2E9Ik8iOm14Q2xpZW50LklTX1NGfHxteENsaWVudC5JU19HQz9hPSJXZWJraXQiOm14Q2xpZW50LklTX01UP2E9Ik1veiI6bXhDbGllbnQuSVNfSUUmJjk8PWRvY3VtZW50LmRvY3VtZW50TW9kZSYmMTA+ZG9jdW1lbnQuZG9jdW1lbnRNb2RlJiYoYT0ibXMiKTtyZXR1cm4gZnVuY3Rpb24oYixjLGQpe2JbY109ZDtudWxsIT1hJiYwPGMubGVuZ3RoJiYoYz1hK2Muc3Vic3RyaW5nKDAsMSkudG9VcHBlckNhc2UoKStjLnN1YnN0cmluZygxKSxiW2NdPWQpfX0oKSxoYXNTY3JvbGxiYXJzOmZ1bmN0aW9uKGEpe2E9bXhVdGlscy5nZXRDdXJyZW50U3R5bGUoYSk7CnJldHVybiBudWxsIT1hJiYoInNjcm9sbCI9PWEub3ZlcmZsb3d8fCJhdXRvIj09YS5vdmVyZmxvdyl9LGJpbmQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gYi5hcHBseShhLGFyZ3VtZW50cyl9fSxldmFsOmZ1bmN0aW9uKGEpe3ZhciBiPW51bGw7aWYoMDw9YS5pbmRleE9mKCJmdW5jdGlvbiIpKXRyeXtldmFsKCJ2YXIgX214SmF2YVNjcmlwdEV4cHJlc3Npb249IithKSxiPV9teEphdmFTY3JpcHRFeHByZXNzaW9uLF9teEphdmFTY3JpcHRFeHByZXNzaW9uPW51bGx9Y2F0Y2goYyl7bXhMb2cud2FybihjLm1lc3NhZ2UrIiB3aGlsZSBldmFsdWF0aW5nICIrYSl9ZWxzZSB0cnl7Yj1ldmFsKGEpfWNhdGNoKGMpe214TG9nLndhcm4oYy5tZXNzYWdlKyIgd2hpbGUgZXZhbHVhdGluZyAiK2EpfXJldHVybiBifSxmaW5kTm9kZTpmdW5jdGlvbihhLGIsYyl7aWYoYS5ub2RlVHlwZT09bXhDb25zdGFudHMuTk9ERVRZUEVfRUxFTUVOVCl7dmFyIGQ9YS5nZXRBdHRyaWJ1dGUoYik7CmlmKG51bGwhPWQmJmQ9PWMpcmV0dXJuIGF9Zm9yKGE9YS5maXJzdENoaWxkO251bGwhPWE7KXtkPW14VXRpbHMuZmluZE5vZGUoYSxiLGMpO2lmKG51bGwhPWQpcmV0dXJuIGQ7YT1hLm5leHRTaWJsaW5nfXJldHVybiBudWxsfSxnZXRGdW5jdGlvbk5hbWU6ZnVuY3Rpb24oYSl7dmFyIGI9bnVsbDtudWxsIT1hJiYobnVsbCE9YS5uYW1lP2I9YS5uYW1lOihiPW14VXRpbHMudHJpbShhLnRvU3RyaW5nKCkpLC9eZnVuY3Rpb25ccy8udGVzdChiKSYmKGI9bXhVdGlscy5sdHJpbShiLnN1YnN0cmluZyg5KSksYT1iLmluZGV4T2YoIigiKSwwPGEmJihiPWIuc3Vic3RyaW5nKDAsYSkpKSkpO3JldHVybiBifSxpbmRleE9mOmZ1bmN0aW9uKGEsYil7aWYobnVsbCE9YSYmbnVsbCE9Yilmb3IodmFyIGM9MDtjPGEubGVuZ3RoO2MrKylpZihhW2NdPT1iKXJldHVybiBjO3JldHVybi0xfSxmb3JFYWNoOmZ1bmN0aW9uKGEsYil7aWYobnVsbCE9YSYmbnVsbCE9Yilmb3IodmFyIGM9MDtjPGEubGVuZ3RoO2MrKyliKGFbY10pOwpyZXR1cm4gYX0scmVtb3ZlOmZ1bmN0aW9uKGEsYil7dmFyIGM9bnVsbDtpZigib2JqZWN0Ij09dHlwZW9mIGIpZm9yKHZhciBkPW14VXRpbHMuaW5kZXhPZihiLGEpOzA8PWQ7KWIuc3BsaWNlKGQsMSksYz1hLGQ9bXhVdGlscy5pbmRleE9mKGIsYSk7Zm9yKHZhciBlIGluIGIpYltlXT09YSYmKGRlbGV0ZSBiW2VdLGM9YSk7cmV0dXJuIGN9LGlzTm9kZTpmdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gbnVsbD09YXx8aXNOYU4oYS5ub2RlVHlwZSl8fG51bGwhPWImJmEubm9kZU5hbWUudG9Mb3dlckNhc2UoKSE9Yi50b0xvd2VyQ2FzZSgpPyExOm51bGw9PWN8fGEuZ2V0QXR0cmlidXRlKGMpPT1kfSxpc0FuY2VzdG9yTm9kZTpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz1iO251bGwhPWM7KXtpZihjPT1hKXJldHVybiEwO2M9Yy5wYXJlbnROb2RlfXJldHVybiExfSxnZXRDaGlsZE5vZGVzOmZ1bmN0aW9uKGEsYil7Yj1ifHxteENvbnN0YW50cy5OT0RFVFlQRV9FTEVNRU5UO2Zvcih2YXIgYz0KW10sZD1hLmZpcnN0Q2hpbGQ7bnVsbCE9ZDspZC5ub2RlVHlwZT09YiYmYy5wdXNoKGQpLGQ9ZC5uZXh0U2libGluZztyZXR1cm4gY30saW1wb3J0Tm9kZTpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIG14Q2xpZW50LklTX0lFJiYobnVsbD09ZG9jdW1lbnQuZG9jdW1lbnRNb2RlfHwxMD5kb2N1bWVudC5kb2N1bWVudE1vZGUpP214VXRpbHMuaW1wb3J0Tm9kZUltcGxlbWVudGF0aW9uKGEsYixjKTphLmltcG9ydE5vZGUoYixjKX0saW1wb3J0Tm9kZUltcGxlbWVudGF0aW9uOmZ1bmN0aW9uKGEsYixjKXtzd2l0Y2goYi5ub2RlVHlwZSl7Y2FzZSAxOnZhciBkPWEuY3JlYXRlRWxlbWVudChiLm5vZGVOYW1lKTtpZihiLmF0dHJpYnV0ZXMmJjA8Yi5hdHRyaWJ1dGVzLmxlbmd0aClmb3IodmFyIGU9MDtlPGIuYXR0cmlidXRlcy5sZW5ndGg7ZSsrKWQuc2V0QXR0cmlidXRlKGIuYXR0cmlidXRlc1tlXS5ub2RlTmFtZSxiLmdldEF0dHJpYnV0ZShiLmF0dHJpYnV0ZXNbZV0ubm9kZU5hbWUpKTsKaWYoYyYmYi5jaGlsZE5vZGVzJiYwPGIuY2hpbGROb2Rlcy5sZW5ndGgpZm9yKGU9MDtlPGIuY2hpbGROb2Rlcy5sZW5ndGg7ZSsrKWQuYXBwZW5kQ2hpbGQobXhVdGlscy5pbXBvcnROb2RlSW1wbGVtZW50YXRpb24oYSxiLmNoaWxkTm9kZXNbZV0sYykpO3JldHVybiBkO2Nhc2UgMzpjYXNlIDQ6Y2FzZSA4OnJldHVybiBhLmNyZWF0ZVRleHROb2RlKG51bGwhPWIubm9kZVZhbHVlP2Iubm9kZVZhbHVlOmIudmFsdWUpfX0sY3JlYXRlWG1sRG9jdW1lbnQ6ZnVuY3Rpb24oKXt2YXIgYT1udWxsO2RvY3VtZW50LmltcGxlbWVudGF0aW9uJiZkb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5jcmVhdGVEb2N1bWVudD9hPWRvY3VtZW50LmltcGxlbWVudGF0aW9uLmNyZWF0ZURvY3VtZW50KCIiLCIiLG51bGwpOiJBY3RpdmVYT2JqZWN0ImluIHdpbmRvdyYmKGE9bXhVdGlscy5jcmVhdGVNc1htbERvY3VtZW50KCkpO3JldHVybiBhfSxjcmVhdGVNc1htbERvY3VtZW50OmZ1bmN0aW9uKCl7dmFyIGE9Cm5ldyBBY3RpdmVYT2JqZWN0KCJNaWNyb3NvZnQuWE1MRE9NIik7YS5hc3luYz0hMTthLnZhbGlkYXRlT25QYXJzZT0hMTthLnJlc29sdmVFeHRlcm5hbHM9ITE7cmV0dXJuIGF9LHBhcnNlWG1sOmZ1bmN0aW9uKCl7cmV0dXJuIHdpbmRvdy5ET01QYXJzZXI/ZnVuY3Rpb24oYSl7cmV0dXJuKG5ldyBET01QYXJzZXIpLnBhcnNlRnJvbVN0cmluZyhhLCJ0ZXh0L3htbCIpfTpmdW5jdGlvbihhKXt2YXIgYj1teFV0aWxzLmNyZWF0ZU1zWG1sRG9jdW1lbnQoKTtiLmxvYWRYTUwoYSk7cmV0dXJuIGJ9fSgpLGNsZWFyU2VsZWN0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIGRvY3VtZW50LnNlbGVjdGlvbj9mdW5jdGlvbigpe2RvY3VtZW50LnNlbGVjdGlvbi5lbXB0eSgpfTp3aW5kb3cuZ2V0U2VsZWN0aW9uP2Z1bmN0aW9uKCl7d2luZG93LmdldFNlbGVjdGlvbigpLmVtcHR5P3dpbmRvdy5nZXRTZWxlY3Rpb24oKS5lbXB0eSgpOndpbmRvdy5nZXRTZWxlY3Rpb24oKS5yZW1vdmVBbGxSYW5nZXMmJgp3aW5kb3cuZ2V0U2VsZWN0aW9uKCkucmVtb3ZlQWxsUmFuZ2VzKCl9OmZ1bmN0aW9uKCl7fX0oKSxyZW1vdmVXaGl0ZXNwYWNlOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPWI/YS5wcmV2aW91c1NpYmxpbmc6YS5uZXh0U2libGluZztudWxsIT1jJiZjLm5vZGVUeXBlPT1teENvbnN0YW50cy5OT0RFVFlQRV9URVhUOyl7dmFyIGQ9Yj9jLnByZXZpb3VzU2libGluZzpjLm5leHRTaWJsaW5nLGU9bXhVdGlscy5nZXRUZXh0Q29udGVudChjKTswPT1teFV0aWxzLnRyaW0oZSkubGVuZ3RoJiZjLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYyk7Yz1kfX0saHRtbEVudGl0aWVzOmZ1bmN0aW9uKGEsYil7YT1TdHJpbmcoYXx8IiIpO2E9YS5yZXBsYWNlKC8mL2csIiZhbXA7Iik7YT1hLnJlcGxhY2UoLyIvZywiJnF1b3Q7Iik7YT1hLnJlcGxhY2UoL1wnL2csIiYjMzk7Iik7YT1hLnJlcGxhY2UoLzwvZywiJmx0OyIpO2E9YS5yZXBsYWNlKC8+L2csIiZndDsiKTtpZihudWxsPT1ifHxiKWE9YS5yZXBsYWNlKC9cbi9nLAoiJiN4YTsiKTtyZXR1cm4gYX0saXNWbWw6ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPWEmJiJ1cm46c2NoZW1hcy1taWNyb3NvZnQtY29tOnZtbCI9PWEudGFnVXJufSxnZXRYbWw6ZnVuY3Rpb24oYSxiKXt2YXIgYz0iIjtteENsaWVudC5JU19JRXx8bXhDbGllbnQuSVNfSUUxMT9jPW14VXRpbHMuZ2V0UHJldHR5WG1sKGEsIiIsIiIsIiIpOm51bGwhPXdpbmRvdy5YTUxTZXJpYWxpemVyP2M9KG5ldyBYTUxTZXJpYWxpemVyKS5zZXJpYWxpemVUb1N0cmluZyhhKTpudWxsIT1hLnhtbCYmKGM9YS54bWwucmVwbGFjZSgvXHJcblx0W1x0XSovZywiIikucmVwbGFjZSgvPlxyXG4vZywiPiIpLnJlcGxhY2UoL1xyXG4vZywiXG4iKSk7cmV0dXJuIGMucmVwbGFjZSgvXG4vZyxifHwiJiN4YTsiKX0sZ2V0UHJldHR5WG1sOmZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9W107aWYobnVsbCE9YSlpZihiPW51bGwhPWI/YjoiICAiLGM9bnVsbCE9Yz9jOiIiLGQ9bnVsbCE9ZD9kOiJcbiIsbnVsbCE9CmEubmFtZXNwYWNlVVJJJiZhLm5hbWVzcGFjZVVSSSE9ZSYmKGU9YS5uYW1lc3BhY2VVUkksbnVsbD09YS5nZXRBdHRyaWJ1dGUoInhtbG5zIikmJmEuc2V0QXR0cmlidXRlKCJ4bWxucyIsYS5uYW1lc3BhY2VVUkkpKSxhLm5vZGVUeXBlPT1teENvbnN0YW50cy5OT0RFVFlQRV9ET0NVTUVOVClmLnB1c2gobXhVdGlscy5nZXRQcmV0dHlYbWwoYS5kb2N1bWVudEVsZW1lbnQsYixjLGQsZSkpO2Vsc2UgaWYoYS5ub2RlVHlwZT09bXhDb25zdGFudHMuTk9ERVRZUEVfRE9DVU1FTlRfRlJBR01FTlQpe3ZhciBnPWEuZmlyc3RDaGlsZDtpZihudWxsIT1nKWZvcig7bnVsbCE9ZzspZi5wdXNoKG14VXRpbHMuZ2V0UHJldHR5WG1sKGcsYixjLGQsZSkpLGc9Zy5uZXh0U2libGluZ31lbHNlIGlmKGEubm9kZVR5cGU9PW14Q29uc3RhbnRzLk5PREVUWVBFX0NPTU1FTlQpYT1teFV0aWxzLmdldFRleHRDb250ZW50KGEpLDA8YS5sZW5ndGgmJmYucHVzaChjKyJceDNjIS0tIithKyItLVx4M2UiKwpkKTtlbHNlIGlmKGEubm9kZVR5cGU9PW14Q29uc3RhbnRzLk5PREVUWVBFX1RFWFQpYT1teFV0aWxzLmdldFRleHRDb250ZW50KGEpLDA8YS5sZW5ndGgmJmYucHVzaChjK214VXRpbHMuaHRtbEVudGl0aWVzKG14VXRpbHMudHJpbShhKSwhMSkrZCk7ZWxzZSBpZihhLm5vZGVUeXBlPT1teENvbnN0YW50cy5OT0RFVFlQRV9DREFUQSlhPW14VXRpbHMuZ2V0VGV4dENvbnRlbnQoYSksMDxhLmxlbmd0aCYmZi5wdXNoKGMrIjwhW0NEQVRBWyIrYSsiXV0iK2QpO2Vsc2V7Zi5wdXNoKGMrIjwiK2Eubm9kZU5hbWUpO2c9YS5hdHRyaWJ1dGVzO2lmKG51bGwhPWcpZm9yKHZhciBrPTA7azxnLmxlbmd0aDtrKyspe3ZhciBsPW14VXRpbHMuaHRtbEVudGl0aWVzKGdba10udmFsdWUpO2YucHVzaCgiICIrZ1trXS5ub2RlTmFtZSsnPSInK2wrJyInKX1nPWEuZmlyc3RDaGlsZDtpZihudWxsIT1nKXtmb3IoZi5wdXNoKCI+IitkKTtudWxsIT1nOylmLnB1c2gobXhVdGlscy5nZXRQcmV0dHlYbWwoZywKYixjK2IsZCxlKSksZz1nLm5leHRTaWJsaW5nO2YucHVzaChjKyI8LyIrYS5ub2RlTmFtZSsiPiIrZCl9ZWxzZSBmLnB1c2goIiAvPiIrZCl9cmV0dXJuIGYuam9pbigiIil9LGV4dHJhY3RUZXh0V2l0aFdoaXRlc3BhY2U6ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhKXtpZigxIT1hLmxlbmd0aHx8IkJSIiE9YVswXS5ub2RlTmFtZSYmIlxuIiE9YVswXS5pbm5lckhUTUwpZm9yKHZhciBlPTA7ZTxhLmxlbmd0aDtlKyspe3ZhciBnPWFbZV07IkJSIj09Zy5ub2RlTmFtZXx8IlxuIj09Zy5pbm5lckhUTUx8fCgxPT1hLmxlbmd0aHx8MD09ZSkmJiJESVYiPT1nLm5vZGVOYW1lJiYiPGJyPiI9PWcuaW5uZXJIVE1MLnRvTG93ZXJDYXNlKCk/ZC5wdXNoKCJcbiIpOigzPT09Zy5ub2RlVHlwZXx8ND09PWcubm9kZVR5cGU/MDxnLm5vZGVWYWx1ZS5sZW5ndGgmJmQucHVzaChnLm5vZGVWYWx1ZSk6OCE9PWcubm9kZVR5cGUmJjA8Zy5jaGlsZE5vZGVzLmxlbmd0aCYmYihnLmNoaWxkTm9kZXMpLAplPGEubGVuZ3RoLTEmJjA8PW14VXRpbHMuaW5kZXhPZihjLGFbZSsxXS5ub2RlTmFtZSkmJmQucHVzaCgiXG4iKSl9fXZhciBjPSJCTE9DS1FVT1RFIERJViBIMSBIMiBIMyBINCBINSBINiBPTCBQIFBSRSBUQUJMRSBVTCIuc3BsaXQoIiAiKSxkPVtdO2IoYSk7cmV0dXJuIGQuam9pbigiIil9LHJlcGxhY2VUcmFpbGluZ05ld2xpbmVzOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPSIiOzA8YS5sZW5ndGgmJiJcbiI9PWEuY2hhckF0KGEubGVuZ3RoLTEpOylhPWEuc3Vic3RyaW5nKDAsYS5sZW5ndGgtMSksYys9YjtyZXR1cm4gYStjfSxnZXRUZXh0Q29udGVudDpmdW5jdGlvbihhKXtyZXR1cm4gbXhDbGllbnQuSVNfSUUmJnZvaWQgMCE9PWEuaW5uZXJUZXh0P2EuaW5uZXJUZXh0Om51bGwhPWE/YVt2b2lkIDA9PT1hLnRleHRDb250ZW50PyJ0ZXh0IjoidGV4dENvbnRlbnQiXToiIn0sc2V0VGV4dENvbnRlbnQ6ZnVuY3Rpb24oYSxiKXt2b2lkIDAhPT1hLmlubmVyVGV4dD9hLmlubmVyVGV4dD0KYjphW3ZvaWQgMD09PWEudGV4dENvbnRlbnQ/InRleHQiOiJ0ZXh0Q29udGVudCJdPWJ9LGdldElubmVySHRtbDpmdW5jdGlvbigpe3JldHVybiBteENsaWVudC5JU19JRT9mdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YT9hLmlubmVySFRNTDoiIn06ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPWE/KG5ldyBYTUxTZXJpYWxpemVyKS5zZXJpYWxpemVUb1N0cmluZyhhKToiIn19KCksZ2V0T3V0ZXJIdG1sOmZ1bmN0aW9uKCl7cmV0dXJuIG14Q2xpZW50LklTX0lFP2Z1bmN0aW9uKGEpe2lmKG51bGwhPWEpe2lmKG51bGwhPWEub3V0ZXJIVE1MKXJldHVybiBhLm91dGVySFRNTDt2YXIgYj1bXTtiLnB1c2goIjwiK2Eubm9kZU5hbWUpO3ZhciBjPWEuYXR0cmlidXRlcztpZihudWxsIT1jKWZvcih2YXIgZD0wO2Q8Yy5sZW5ndGg7ZCsrKXt2YXIgZT1jW2RdLnZhbHVlO251bGwhPWUmJjA8ZS5sZW5ndGgmJihiLnB1c2goIiAiKSxiLnB1c2goY1tkXS5ub2RlTmFtZSksYi5wdXNoKCc9IicpLApiLnB1c2goZSksYi5wdXNoKCciJykpfTA9PWEuaW5uZXJIVE1MLmxlbmd0aD9iLnB1c2goIi8+Iik6KGIucHVzaCgiPiIpLGIucHVzaChhLmlubmVySFRNTCksYi5wdXNoKCI8LyIrYS5ub2RlTmFtZSsiPiIpKTtyZXR1cm4gYi5qb2luKCIiKX1yZXR1cm4iIn06ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPWE/KG5ldyBYTUxTZXJpYWxpemVyKS5zZXJpYWxpemVUb1N0cmluZyhhKToiIn19KCksd3JpdGU6ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLm93bmVyRG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoYik7bnVsbCE9YSYmYS5hcHBlbmRDaGlsZChjKTtyZXR1cm4gY30sd3JpdGVsbjpmdW5jdGlvbihhLGIpe3ZhciBjPWEub3duZXJEb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShiKTtudWxsIT1hJiYoYS5hcHBlbmRDaGlsZChjKSxhLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImJyIikpKTtyZXR1cm4gY30sYnI6ZnVuY3Rpb24oYSxiKXtiPWJ8fDE7Zm9yKHZhciBjPW51bGwsCmQ9MDtkPGI7ZCsrKW51bGwhPWEmJihjPWEub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KCJiciIpLGEuYXBwZW5kQ2hpbGQoYykpO3JldHVybiBjfSxidXR0b246ZnVuY3Rpb24oYSxiLGMpe2M9bnVsbCE9Yz9jOmRvY3VtZW50O2M9Yy5jcmVhdGVFbGVtZW50KCJidXR0b24iKTtteFV0aWxzLndyaXRlKGMsYSk7bXhFdmVudC5hZGRMaXN0ZW5lcihjLCJjbGljayIsZnVuY3Rpb24oYSl7YihhKX0pO3JldHVybiBjfSxwYXJhOmZ1bmN0aW9uKGEsYil7dmFyIGM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgicCIpO214VXRpbHMud3JpdGUoYyxiKTtudWxsIT1hJiZhLmFwcGVuZENoaWxkKGMpO3JldHVybiBjfSxhZGRUcmFuc3BhcmVudEJhY2tncm91bmRGaWx0ZXI6ZnVuY3Rpb24oYSl7YS5zdHlsZS5maWx0ZXIrPSJwcm9naWQ6RFhJbWFnZVRyYW5zZm9ybS5NaWNyb3NvZnQuQWxwaGFJbWFnZUxvYWRlcihzcmM9JyIrbXhDbGllbnQuaW1hZ2VCYXNlUGF0aCsiL3RyYW5zcGFyZW50LmdpZicsIHNpemluZ01ldGhvZD0nc2NhbGUnKSJ9LApsaW5rQWN0aW9uOmZ1bmN0aW9uKGEsYixjLGQsZSl7cmV0dXJuIG14VXRpbHMubGluayhhLGIsZnVuY3Rpb24oKXtjLmV4ZWN1dGUoZCl9LGUpfSxsaW5rSW52b2tlOmZ1bmN0aW9uKGEsYixjLGQsZSxmKXtyZXR1cm4gbXhVdGlscy5saW5rKGEsYixmdW5jdGlvbigpe2NbZF0oZSl9LGYpfSxsaW5rOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNwYW4iKTtlLnN0eWxlLmNvbG9yPSJibHVlIjtlLnN0eWxlLnRleHREZWNvcmF0aW9uPSJ1bmRlcmxpbmUiO2Uuc3R5bGUuY3Vyc29yPSJwb2ludGVyIjtudWxsIT1kJiYoZS5zdHlsZS5wYWRkaW5nTGVmdD1kKyJweCIpO214RXZlbnQuYWRkTGlzdGVuZXIoZSwiY2xpY2siLGMpO214VXRpbHMud3JpdGUoZSxiKTtudWxsIT1hJiZhLmFwcGVuZENoaWxkKGUpO3JldHVybiBlfSxnZXREb2N1bWVudFNpemU6ZnVuY3Rpb24oKXt2YXIgYT1kb2N1bWVudC5ib2R5LGI9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50Owp0cnl7cmV0dXJuIG5ldyBteFJlY3RhbmdsZSgwLDAsYS5jbGllbnRXaWR0aHx8Yi5jbGllbnRXaWR0aCxNYXRoLm1heChhLmNsaWVudEhlaWdodHx8MCxiLmNsaWVudEhlaWdodCkpfWNhdGNoKGMpe3JldHVybiBuZXcgbXhSZWN0YW5nbGV9fSxmaXQ6ZnVuY3Rpb24oYSl7dmFyIGI9bXhVdGlscy5nZXREb2N1bWVudFNpemUoKSxjPXBhcnNlSW50KGEub2Zmc2V0TGVmdCksZD1wYXJzZUludChhLm9mZnNldFdpZHRoKSxlPW14VXRpbHMuZ2V0RG9jdW1lbnRTY3JvbGxPcmlnaW4oYS5vd25lckRvY3VtZW50KSxmPWUueCxlPWUueSxnPWYrYi53aWR0aDtjK2Q+ZyYmKGEuc3R5bGUubGVmdD1NYXRoLm1heChmLGctZCkrInB4Iik7Yz1wYXJzZUludChhLm9mZnNldFRvcCk7ZD1wYXJzZUludChhLm9mZnNldEhlaWdodCk7Yj1lK2IuaGVpZ2h0O2MrZD5iJiYoYS5zdHlsZS50b3A9TWF0aC5tYXgoZSxiLWQpKyJweCIpfSxsb2FkOmZ1bmN0aW9uKGEpe2E9bmV3IG14WG1sUmVxdWVzdChhLG51bGwsCiJHRVQiLCExKTthLnNlbmQoKTtyZXR1cm4gYX0sZ2V0OmZ1bmN0aW9uKGEsYixjLGQsZSxmLGcpe2E9bmV3IG14WG1sUmVxdWVzdChhLG51bGwsIkdFVCIpO3ZhciBrPWEuc2V0UmVxdWVzdEhlYWRlcnM7ZyYmKGEuc2V0UmVxdWVzdEhlYWRlcnM9ZnVuY3Rpb24oYSxiKXtrLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtmb3IodmFyIGMgaW4gZylhLnNldFJlcXVlc3RIZWFkZXIoYyxnW2NdKX0pO251bGwhPWQmJmEuc2V0QmluYXJ5KGQpO2Euc2VuZChiLGMsZSxmKTtyZXR1cm4gYX0sZ2V0QWxsOmZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGQ9YS5sZW5ndGgsZT1bXSxmPTAsZz1mdW5jdGlvbigpezA9PWYmJm51bGwhPWMmJmMoKTtmKyt9LGs9MDtrPGEubGVuZ3RoO2srKykoZnVuY3Rpb24oYSxjKXtteFV0aWxzLmdldChhLGZ1bmN0aW9uKGEpe3ZhciBmPWEuZ2V0U3RhdHVzKCk7MjAwPmZ8fDI5OTxmP2coKTooZVtjXT1hLGQtLSwwPT1kJiZiKGUpKX0sZyl9KShhW2tdLGspOzA9PWQmJgpiKGUpfSxwb3N0OmZ1bmN0aW9uKGEsYixjLGQpe3JldHVybihuZXcgbXhYbWxSZXF1ZXN0KGEsYikpLnNlbmQoYyxkKX0sc3VibWl0OmZ1bmN0aW9uKGEsYixjLGQpe3JldHVybihuZXcgbXhYbWxSZXF1ZXN0KGEsYikpLnNpbXVsYXRlKGMsZCl9LGxvYWRJbnRvOmZ1bmN0aW9uKGEsYixjKXtteENsaWVudC5JU19JRT9iLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpezQ9PWIucmVhZHlTdGF0ZSYmYygpfTpiLmFkZEV2ZW50TGlzdGVuZXIoImxvYWQiLGMsITEpO2IubG9hZChhKX0sZ2V0VmFsdWU6ZnVuY3Rpb24oYSxiLGMpe2E9bnVsbCE9YT9hW2JdOm51bGw7bnVsbD09YSYmKGE9Yyk7cmV0dXJuIGF9LGdldE51bWJlcjpmdW5jdGlvbihhLGIsYyl7YT1udWxsIT1hP2FbYl06bnVsbDtudWxsPT1hJiYoYT1jfHwwKTtyZXR1cm4gTnVtYmVyKGEpfSxnZXRDb2xvcjpmdW5jdGlvbihhLGIsYyl7YT1udWxsIT1hP2FbYl06bnVsbDtudWxsPT1hP2E9YzphPT1teENvbnN0YW50cy5OT05FJiYKKGE9bnVsbCk7cmV0dXJuIGF9LGNsb25lOmZ1bmN0aW9uKGEsYixjKXtjPW51bGwhPWM/YzohMTt2YXIgZD1udWxsO2lmKG51bGwhPWEmJiJmdW5jdGlvbiI9PXR5cGVvZiBhLmNvbnN0cnVjdG9yKXt2YXIgZD1uZXcgYS5jb25zdHJ1Y3RvcixlO2ZvcihlIGluIGEpZSE9bXhPYmplY3RJZGVudGl0eS5GSUVMRF9OQU1FJiYobnVsbD09Ynx8MD5teFV0aWxzLmluZGV4T2YoYixlKSkmJihkW2VdPWN8fCJvYmplY3QiIT10eXBlb2YgYVtlXT9hW2VdOm14VXRpbHMuY2xvbmUoYVtlXSkpfXJldHVybiBkfSxlcXVhbFBvaW50czpmdW5jdGlvbihhLGIpe2lmKG51bGw9PWEmJm51bGwhPWJ8fG51bGwhPWEmJm51bGw9PWJ8fG51bGwhPWEmJm51bGwhPWImJmEubGVuZ3RoIT1iLmxlbmd0aClyZXR1cm4hMTtpZihudWxsIT1hJiZudWxsIT1iKWZvcih2YXIgYz0wO2M8YS5sZW5ndGg7YysrKWlmKG51bGwhPWFbY10mJm51bGw9PWJbY118fG51bGw9PWFbY10mJm51bGwhPWJbY118fG51bGwhPWFbY10mJgpudWxsIT1iW2NdJiYoYVtjXS54IT1iW2NdLnh8fGFbY10ueSE9YltjXS55KSlyZXR1cm4hMTtyZXR1cm4hMH0sZXF1YWxFbnRyaWVzOmZ1bmN0aW9uKGEsYil7dmFyIGM9MDtpZihudWxsPT1hJiZudWxsIT1ifHxudWxsIT1hJiZudWxsPT1ifHxudWxsIT1hJiZudWxsIT1iJiZhLmxlbmd0aCE9Yi5sZW5ndGgpcmV0dXJuITE7aWYobnVsbCE9YSYmbnVsbCE9Yil7Zm9yKHZhciBkIGluIGIpYysrO2ZvcihkIGluIGEpaWYoYy0tLCEobXhVdGlscy5pc05hTihhW2RdKSYmbXhVdGlscy5pc05hTihiW2RdKXx8YVtkXT09YltkXSkpcmV0dXJuITF9cmV0dXJuIDA9PWN9LHJlbW92ZUR1cGxpY2F0ZXM6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPW5ldyBteERpY3Rpb25hcnksYz1bXSxkPTA7ZDxhLmxlbmd0aDtkKyspYi5nZXQoYVtkXSl8fChjLnB1c2goYVtkXSksYi5wdXQoYVtkXSwhMCkpO3JldHVybiBjfSxpc05hTjpmdW5jdGlvbihhKXtyZXR1cm4ibnVtYmVyIj09dHlwZW9mIGEmJmlzTmFOKGEpfSwKZXh0ZW5kOmZ1bmN0aW9uKGEsYil7dmFyIGM9ZnVuY3Rpb24oKXt9O2MucHJvdG90eXBlPWIucHJvdG90eXBlO2EucHJvdG90eXBlPW5ldyBjO2EucHJvdG90eXBlLmNvbnN0cnVjdG9yPWF9LHRvU3RyaW5nOmZ1bmN0aW9uKGEpe3ZhciBiPSIiLGM7Zm9yKGMgaW4gYSl0cnl7aWYobnVsbD09YVtjXSliKz1jKyIgPSBbbnVsbF1cbiI7ZWxzZSBpZigiZnVuY3Rpb24iPT10eXBlb2YgYVtjXSliKz1jKyIgPT4gW0Z1bmN0aW9uXVxuIjtlbHNlIGlmKCJvYmplY3QiPT10eXBlb2YgYVtjXSl2YXIgZD1teFV0aWxzLmdldEZ1bmN0aW9uTmFtZShhW2NdLmNvbnN0cnVjdG9yKSxiPWIrKGMrIiA9PiBbIitkKyJdXG4iKTtlbHNlIGIrPWMrIiA9ICIrYVtjXSsiXG4ifWNhdGNoKGUpe2IrPWMrIj0iK2UubWVzc2FnZX1yZXR1cm4gYn0sdG9SYWRpYW5zOmZ1bmN0aW9uKGEpe3JldHVybiBNYXRoLlBJKmEvMTgwfSx0b0RlZ3JlZTpmdW5jdGlvbihhKXtyZXR1cm4gMTgwKmEvTWF0aC5QSX0sYXJjVG9DdXJ2ZXM6ZnVuY3Rpb24oYSwKYixjLGQsZSxmLGcsayxsKXtrLT1hO2wtPWI7aWYoMD09PWN8fDA9PT1kKXJldHVybiBxO2M9TWF0aC5hYnMoYyk7ZD1NYXRoLmFicyhkKTt2YXIgbT0tay8yLG49LWwvMixwPU1hdGguY29zKGUqTWF0aC5QSS8xODApLHE9TWF0aC5zaW4oZSpNYXRoLlBJLzE4MCk7ZT1wKm0rcSpuO3ZhciBtPS0xKnEqbStwKm4sbj1lKmUscj1tKm0sdD1jKmMsdT1kKmQseD1uL3Qrci91OzE8eD8oYyo9TWF0aC5zcXJ0KHgpLGQqPU1hdGguc3FydCh4KSxmPTApOih4PTEsZj09PWcmJih4PS0xKSxmPXgqTWF0aC5zcXJ0KCh0KnUtdCpyLXUqbikvKHQqcit1Km4pKSk7bj1mKmMqbS9kO3I9LTEqZipkKmUvYztrPXAqbi1xKnIray8yO2w9cSpuK3AqcitsLzI7dD1NYXRoLmF0YW4yKChtLXIpL2QsKGUtbikvYyktTWF0aC5hdGFuMigwLDEpO2Y9MDw9dD90OjIqTWF0aC5QSSt0O3Q9TWF0aC5hdGFuMigoLW0tcikvZCwoLWUtbikvYyktTWF0aC5hdGFuMigobS1yKS9kLChlLW4pL2MpO2U9MDw9dD90OjIqCk1hdGguUEkrdDswPT1nJiYwPGU/ZS09MipNYXRoLlBJOjAhPWcmJjA+ZSYmKGUrPTIqTWF0aC5QSSk7Zz0yKmUvTWF0aC5QSTtnPU1hdGguY2VpbCgwPmc/LTEqZzpnKTtlLz1nO209OC8zKk1hdGguc2luKGUvNCkqTWF0aC5zaW4oZS80KS9NYXRoLnNpbihlLzIpO249cCpjO3AqPWQ7Yyo9cTtkKj1xO2Zvcih2YXIgeT1NYXRoLmNvcyhmKSxCPU1hdGguc2luKGYpLHI9LW0qKG4qQitkKnkpLHQ9LW0qKGMqQi1wKnkpLHE9W10sQT0wO0E8ZzsrK0Epe2YrPWU7dmFyIHk9TWF0aC5jb3MoZiksQj1NYXRoLnNpbihmKSx1PW4qeS1kKkIrayx4PWMqeStwKkIrbCx6PS1tKihuKkIrZCp5KSx5PS1tKihjKkItcCp5KSxCPTYqQTtxW0JdPU51bWJlcihyK2EpO3FbQisxXT1OdW1iZXIodCtiKTtxW0IrMl09TnVtYmVyKHUteithKTtxW0IrM109TnVtYmVyKHgteStiKTtxW0IrNF09TnVtYmVyKHUrYSk7cVtCKzVdPU51bWJlcih4K2IpO3I9dSt6O3Q9eCt5fXJldHVybiBxfSxnZXRCb3VuZGluZ0JveDpmdW5jdGlvbihhLApiLGMpe3ZhciBkPW51bGw7aWYobnVsbCE9YSYmbnVsbCE9YiYmMCE9Yil7Yj1teFV0aWxzLnRvUmFkaWFucyhiKTt2YXIgZD1NYXRoLmNvcyhiKSxlPU1hdGguc2luKGIpO2M9bnVsbCE9Yz9jOm5ldyBteFBvaW50KGEueCthLndpZHRoLzIsYS55K2EuaGVpZ2h0LzIpO3ZhciBmPW5ldyBteFBvaW50KGEueCxhLnkpO2I9bmV3IG14UG9pbnQoYS54K2Eud2lkdGgsYS55KTt2YXIgZz1uZXcgbXhQb2ludChiLngsYS55K2EuaGVpZ2h0KTthPW5ldyBteFBvaW50KGEueCxnLnkpO2Y9bXhVdGlscy5nZXRSb3RhdGVkUG9pbnQoZixkLGUsYyk7Yj1teFV0aWxzLmdldFJvdGF0ZWRQb2ludChiLGQsZSxjKTtnPW14VXRpbHMuZ2V0Um90YXRlZFBvaW50KGcsZCxlLGMpO2E9bXhVdGlscy5nZXRSb3RhdGVkUG9pbnQoYSxkLGUsYyk7ZD1uZXcgbXhSZWN0YW5nbGUoZi54LGYueSwwLDApO2QuYWRkKG5ldyBteFJlY3RhbmdsZShiLngsYi55LDAsMCkpO2QuYWRkKG5ldyBteFJlY3RhbmdsZShnLngsCmcueSwwLDApKTtkLmFkZChuZXcgbXhSZWN0YW5nbGUoYS54LGEueSwwLDApKX1yZXR1cm4gZH0sZ2V0Um90YXRlZFBvaW50OmZ1bmN0aW9uKGEsYixjLGQpe2Q9bnVsbCE9ZD9kOm5ldyBteFBvaW50O3ZhciBlPWEueC1kLng7YT1hLnktZC55O3JldHVybiBuZXcgbXhQb2ludChlKmItYSpjK2QueCxhKmIrZSpjK2QueSl9LGdldFBvcnRDb25zdHJhaW50czpmdW5jdGlvbihhLGIsYyxkKXtiPW14VXRpbHMuZ2V0VmFsdWUoYS5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9QT1JUX0NPTlNUUkFJTlQsbXhVdGlscy5nZXRWYWx1ZShiLnN0eWxlLGM/bXhDb25zdGFudHMuU1RZTEVfU09VUkNFX1BPUlRfQ09OU1RSQUlOVDpteENvbnN0YW50cy5TVFlMRV9UQVJHRVRfUE9SVF9DT05TVFJBSU5ULG51bGwpKTtpZihudWxsPT1iKXJldHVybiBkO2Q9Yi50b1N0cmluZygpO2I9bXhDb25zdGFudHMuRElSRUNUSU9OX01BU0tfTk9ORTtjPTA7MT09bXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX1BPUlRfQ09OU1RSQUlOVF9ST1RBVElPTiwKMCkmJihjPW14VXRpbHMuZ2V0VmFsdWUoYS5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9ST1RBVElPTiwwKSk7YT0wOzQ1PGM/KGE9MSwxMzU8PWMmJihhPTIpKTotNDU+YyYmKGE9MywtMTM1Pj1jJiYoYT0yKSk7aWYoMDw9ZC5pbmRleE9mKG14Q29uc3RhbnRzLkRJUkVDVElPTl9OT1JUSCkpc3dpdGNoKGEpe2Nhc2UgMDpifD1teENvbnN0YW50cy5ESVJFQ1RJT05fTUFTS19OT1JUSDticmVhaztjYXNlIDE6Ynw9bXhDb25zdGFudHMuRElSRUNUSU9OX01BU0tfRUFTVDticmVhaztjYXNlIDI6Ynw9bXhDb25zdGFudHMuRElSRUNUSU9OX01BU0tfU09VVEg7YnJlYWs7Y2FzZSAzOmJ8PW14Q29uc3RhbnRzLkRJUkVDVElPTl9NQVNLX1dFU1R9aWYoMDw9ZC5pbmRleE9mKG14Q29uc3RhbnRzLkRJUkVDVElPTl9XRVNUKSlzd2l0Y2goYSl7Y2FzZSAwOmJ8PW14Q29uc3RhbnRzLkRJUkVDVElPTl9NQVNLX1dFU1Q7YnJlYWs7Y2FzZSAxOmJ8PW14Q29uc3RhbnRzLkRJUkVDVElPTl9NQVNLX05PUlRIOwpicmVhaztjYXNlIDI6Ynw9bXhDb25zdGFudHMuRElSRUNUSU9OX01BU0tfRUFTVDticmVhaztjYXNlIDM6Ynw9bXhDb25zdGFudHMuRElSRUNUSU9OX01BU0tfU09VVEh9aWYoMDw9ZC5pbmRleE9mKG14Q29uc3RhbnRzLkRJUkVDVElPTl9TT1VUSCkpc3dpdGNoKGEpe2Nhc2UgMDpifD1teENvbnN0YW50cy5ESVJFQ1RJT05fTUFTS19TT1VUSDticmVhaztjYXNlIDE6Ynw9bXhDb25zdGFudHMuRElSRUNUSU9OX01BU0tfV0VTVDticmVhaztjYXNlIDI6Ynw9bXhDb25zdGFudHMuRElSRUNUSU9OX01BU0tfTk9SVEg7YnJlYWs7Y2FzZSAzOmJ8PW14Q29uc3RhbnRzLkRJUkVDVElPTl9NQVNLX0VBU1R9aWYoMDw9ZC5pbmRleE9mKG14Q29uc3RhbnRzLkRJUkVDVElPTl9FQVNUKSlzd2l0Y2goYSl7Y2FzZSAwOmJ8PW14Q29uc3RhbnRzLkRJUkVDVElPTl9NQVNLX0VBU1Q7YnJlYWs7Y2FzZSAxOmJ8PW14Q29uc3RhbnRzLkRJUkVDVElPTl9NQVNLX1NPVVRIO2JyZWFrO2Nhc2UgMjpifD0KbXhDb25zdGFudHMuRElSRUNUSU9OX01BU0tfV0VTVDticmVhaztjYXNlIDM6Ynw9bXhDb25zdGFudHMuRElSRUNUSU9OX01BU0tfTk9SVEh9cmV0dXJuIGJ9LHJldmVyc2VQb3J0Q29uc3RyYWludHM6ZnVuY3Rpb24oYSl7dmFyIGI7Yj0oYSZteENvbnN0YW50cy5ESVJFQ1RJT05fTUFTS19XRVNUKTw8MztifD0oYSZteENvbnN0YW50cy5ESVJFQ1RJT05fTUFTS19OT1JUSCk8PDE7Ynw9KGEmbXhDb25zdGFudHMuRElSRUNUSU9OX01BU0tfU09VVEgpPj4xO3JldHVybiBifChhJm14Q29uc3RhbnRzLkRJUkVDVElPTl9NQVNLX0VBU1QpPj4zfSxmaW5kTmVhcmVzdFNlZ21lbnQ6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPS0xO2lmKDA8YS5hYnNvbHV0ZVBvaW50cy5sZW5ndGgpZm9yKHZhciBlPWEuYWJzb2x1dGVQb2ludHNbMF0sZj1udWxsLGc9MTtnPGEuYWJzb2x1dGVQb2ludHMubGVuZ3RoO2crKyl7dmFyIGs9YS5hYnNvbHV0ZVBvaW50c1tnXSxlPW14VXRpbHMucHRTZWdEaXN0U3EoZS54LAplLnksay54LGsueSxiLGMpO2lmKG51bGw9PWZ8fGU8ZilmPWUsZD1nLTE7ZT1rfXJldHVybiBkfSxnZXREaXJlY3RlZEJvdW5kczpmdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmPW14VXRpbHMuZ2V0VmFsdWUoYyxteENvbnN0YW50cy5TVFlMRV9ESVJFQ1RJT04sbXhDb25zdGFudHMuRElSRUNUSU9OX0VBU1QpO2Q9bnVsbCE9ZD9kOm14VXRpbHMuZ2V0VmFsdWUoYyxteENvbnN0YW50cy5TVFlMRV9GTElQSCwhMSk7ZT1udWxsIT1lP2U6bXhVdGlscy5nZXRWYWx1ZShjLG14Q29uc3RhbnRzLlNUWUxFX0ZMSVBWLCExKTtiLng9TWF0aC5yb3VuZChNYXRoLm1heCgwLE1hdGgubWluKGEud2lkdGgsYi54KSkpO2IueT1NYXRoLnJvdW5kKE1hdGgubWF4KDAsTWF0aC5taW4oYS5oZWlnaHQsYi55KSkpO2Iud2lkdGg9TWF0aC5yb3VuZChNYXRoLm1heCgwLE1hdGgubWluKGEud2lkdGgsYi53aWR0aCkpKTtiLmhlaWdodD1NYXRoLnJvdW5kKE1hdGgubWF4KDAsTWF0aC5taW4oYS5oZWlnaHQsCmIuaGVpZ2h0KSkpO2lmKGUmJihmPT1teENvbnN0YW50cy5ESVJFQ1RJT05fU09VVEh8fGY9PW14Q29uc3RhbnRzLkRJUkVDVElPTl9OT1JUSCl8fGQmJihmPT1teENvbnN0YW50cy5ESVJFQ1RJT05fRUFTVHx8Zj09bXhDb25zdGFudHMuRElSRUNUSU9OX1dFU1QpKWM9Yi54LGIueD1iLndpZHRoLGIud2lkdGg9YztpZihkJiYoZj09bXhDb25zdGFudHMuRElSRUNUSU9OX1NPVVRIfHxmPT1teENvbnN0YW50cy5ESVJFQ1RJT05fTk9SVEgpfHxlJiYoZj09bXhDb25zdGFudHMuRElSRUNUSU9OX0VBU1R8fGY9PW14Q29uc3RhbnRzLkRJUkVDVElPTl9XRVNUKSljPWIueSxiLnk9Yi5oZWlnaHQsYi5oZWlnaHQ9YztkPW14UmVjdGFuZ2xlLmZyb21SZWN0YW5nbGUoYik7Zj09bXhDb25zdGFudHMuRElSRUNUSU9OX1NPVVRIPyhkLnk9Yi54LGQueD1iLmhlaWdodCxkLndpZHRoPWIueSxkLmhlaWdodD1iLndpZHRoKTpmPT1teENvbnN0YW50cy5ESVJFQ1RJT05fV0VTVD8oZC55PWIuaGVpZ2h0LApkLng9Yi53aWR0aCxkLndpZHRoPWIueCxkLmhlaWdodD1iLnkpOmY9PW14Q29uc3RhbnRzLkRJUkVDVElPTl9OT1JUSCYmKGQueT1iLndpZHRoLGQueD1iLnksZC53aWR0aD1iLmhlaWdodCxkLmhlaWdodD1iLngpO3JldHVybiBuZXcgbXhSZWN0YW5nbGUoYS54K2QueCxhLnkrZC55LGEud2lkdGgtZC53aWR0aC1kLngsYS5oZWlnaHQtZC5oZWlnaHQtZC55KX0sZ2V0UGVyaW1ldGVyUG9pbnQ6ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD1udWxsLGU9MDtlPGEubGVuZ3RoLTE7ZSsrKXt2YXIgZj1teFV0aWxzLmludGVyc2VjdGlvbihhW2VdLngsYVtlXS55LGFbZSsxXS54LGFbZSsxXS55LGIueCxiLnksYy54LGMueSk7aWYobnVsbCE9Zil7dmFyIGc9Yy54LWYueCxrPWMueS1mLnksZj17cDpmLGRpc3RTcTprKmsrZypnfTtudWxsIT1mJiYobnVsbD09ZHx8ZC5kaXN0U3E+Zi5kaXN0U3EpJiYoZD1mKX19cmV0dXJuIG51bGwhPWQ/ZC5wOm51bGx9LHJlY3RhbmdsZUludGVyc2VjdHNTZWdtZW50OmZ1bmN0aW9uKGEsCmIsYyl7dmFyIGQ9YS55LGU9YS54LGY9ZCthLmhlaWdodCxnPWUrYS53aWR0aDthPWIueDt2YXIgaz1jLng7Yi54PmMueCYmKGE9Yy54LGs9Yi54KTtrPmcmJihrPWcpO2E8ZSYmKGE9ZSk7aWYoYT5rKXJldHVybiExO3ZhciBlPWIueSxnPWMueSxsPWMueC1iLng7MUUtNzxNYXRoLmFicyhsKSYmKGM9KGMueS1iLnkpL2wsYj1iLnktYypiLngsZT1jKmErYixnPWMqaytiKTtlPmcmJihiPWcsZz1lLGU9Yik7Zz5mJiYoZz1mKTtlPGQmJihlPWQpO3JldHVybiBlPmc/ITE6ITB9LGNvbnRhaW5zOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gYS54PD1iJiZhLngrYS53aWR0aD49YiYmYS55PD1jJiZhLnkrYS5oZWlnaHQ+PWN9LGludGVyc2VjdHM6ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLndpZHRoLGQ9YS5oZWlnaHQsZT1iLndpZHRoLGY9Yi5oZWlnaHQ7aWYoMD49ZXx8MD49Znx8MD49Y3x8MD49ZClyZXR1cm4hMTt2YXIgZz1hLngsaz1hLnksbD1iLngsbT1iLnksZT1lK2wsZj1mK20sYz1jKwpnLGQ9ZCtrO3JldHVybihlPGx8fGU+ZykmJihmPG18fGY+aykmJihjPGd8fGM+bCkmJihkPGt8fGQ+bSl9LGludGVyc2VjdHNIb3RzcG90OmZ1bmN0aW9uKGEsYixjLGQsZSxmKXtkPW51bGwhPWQ/ZDoxO2U9bnVsbCE9ZT9lOjA7Zj1udWxsIT1mP2Y6MDtpZigwPGQpe3ZhciBnPWEuZ2V0Q2VudGVyWCgpLGs9YS5nZXRDZW50ZXJZKCksbD1hLndpZHRoLG09YS5oZWlnaHQsbj1teFV0aWxzLmdldFZhbHVlKGEuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfU1RBUlRTSVpFKSphLnZpZXcuc2NhbGU7MDxuJiYobXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0hPUklaT05UQUwsITApPyhrPWEueStuLzIsbT1uKTooZz1hLngrbi8yLGw9bikpO2w9TWF0aC5tYXgoZSxsKmQpO209TWF0aC5tYXgoZSxtKmQpOzA8ZiYmKGw9TWF0aC5taW4obCxmKSxtPU1hdGgubWluKG0sZikpO2Q9bmV3IG14UmVjdGFuZ2xlKGctbC8yLGstbS8yLGwsbSk7Zz1teFV0aWxzLnRvUmFkaWFucyhteFV0aWxzLmdldFZhbHVlKGEuc3R5bGUsCm14Q29uc3RhbnRzLlNUWUxFX1JPVEFUSU9OKXx8MCk7MCE9ZyYmKGU9TWF0aC5jb3MoLWcpLGY9TWF0aC5zaW4oLWcpLGc9bmV3IG14UG9pbnQoYS5nZXRDZW50ZXJYKCksYS5nZXRDZW50ZXJZKCkpLGE9bXhVdGlscy5nZXRSb3RhdGVkUG9pbnQobmV3IG14UG9pbnQoYixjKSxlLGYsZyksYj1hLngsYz1hLnkpO3JldHVybiBteFV0aWxzLmNvbnRhaW5zKGQsYixjKX1yZXR1cm4hMH0sZ2V0T2Zmc2V0OmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTAsZD0wLGU9ITEsZj1hLGc9ZG9jdW1lbnQuYm9keSxrPWRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtudWxsIT1mJiZmIT1nJiZmIT1rJiYhZTspe3ZhciBsPW14VXRpbHMuZ2V0Q3VycmVudFN0eWxlKGYpO251bGwhPWwmJihlPWV8fCJmaXhlZCI9PWwucG9zaXRpb24pO2Y9Zi5wYXJlbnROb2RlfWJ8fGV8fChlPW14VXRpbHMuZ2V0RG9jdW1lbnRTY3JvbGxPcmlnaW4oYS5vd25lckRvY3VtZW50KSxjKz1lLngsZCs9ZS55KTtlPWEuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7Cm51bGwhPWUmJihjKz1lLmxlZnQsZCs9ZS50b3ApO3JldHVybiBuZXcgbXhQb2ludChjLGQpfSxnZXREb2N1bWVudFNjcm9sbE9yaWdpbjpmdW5jdGlvbihhKXtpZihteENsaWVudC5JU19RVUlSS1MpcmV0dXJuIG5ldyBteFBvaW50KGEuYm9keS5zY3JvbGxMZWZ0LGEuYm9keS5zY3JvbGxUb3ApO2E9YS5kZWZhdWx0Vmlld3x8YS5wYXJlbnRXaW5kb3c7cmV0dXJuIG5ldyBteFBvaW50KG51bGwhPWEmJnZvaWQgMCE9PXdpbmRvdy5wYWdlWE9mZnNldD93aW5kb3cucGFnZVhPZmZzZXQ6KGRvY3VtZW50LmRvY3VtZW50RWxlbWVudHx8ZG9jdW1lbnQuYm9keS5wYXJlbnROb2RlfHxkb2N1bWVudC5ib2R5KS5zY3JvbGxMZWZ0LG51bGwhPWEmJnZvaWQgMCE9PXdpbmRvdy5wYWdlWU9mZnNldD93aW5kb3cucGFnZVlPZmZzZXQ6KGRvY3VtZW50LmRvY3VtZW50RWxlbWVudHx8ZG9jdW1lbnQuYm9keS5wYXJlbnROb2RlfHxkb2N1bWVudC5ib2R5KS5zY3JvbGxUb3ApfSxnZXRTY3JvbGxPcmlnaW46ZnVuY3Rpb24oYSwKYixjKXtiPW51bGwhPWI/YjohMTtjPW51bGwhPWM/YzohMDtmb3IodmFyIGQ9bnVsbCE9YT9hLm93bmVyRG9jdW1lbnQ6ZG9jdW1lbnQsZT1kLmJvZHksZj1kLmRvY3VtZW50RWxlbWVudCxnPW5ldyBteFBvaW50LGs9ITE7bnVsbCE9YSYmYSE9ZSYmYSE9Zjspe2lzTmFOKGEuc2Nyb2xsTGVmdCl8fGlzTmFOKGEuc2Nyb2xsVG9wKXx8KGcueCs9YS5zY3JvbGxMZWZ0LGcueSs9YS5zY3JvbGxUb3ApO3ZhciBsPW14VXRpbHMuZ2V0Q3VycmVudFN0eWxlKGEpO251bGwhPWwmJihrPWt8fCJmaXhlZCI9PWwucG9zaXRpb24pO2E9Yj9hLnBhcmVudE5vZGU6bnVsbH0hayYmYyYmKGE9bXhVdGlscy5nZXREb2N1bWVudFNjcm9sbE9yaWdpbihkKSxnLngrPWEueCxnLnkrPWEueSk7cmV0dXJuIGd9LGNvbnZlcnRQb2ludDpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9bXhVdGlscy5nZXRTY3JvbGxPcmlnaW4oYSwhMSk7YT1teFV0aWxzLmdldE9mZnNldChhKTthLngtPWQueDthLnktPWQueTtyZXR1cm4gbmV3IG14UG9pbnQoYi0KYS54LGMtYS55KX0sbHRyaW06ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbnVsbCE9YT9hLnJlcGxhY2UobmV3IFJlZ0V4cCgiXlsiKyhifHwiXFxzIikrIl0rIiwiZyIpLCIiKTpudWxsfSxydHJpbTpmdW5jdGlvbihhLGIpe3JldHVybiBudWxsIT1hP2EucmVwbGFjZShuZXcgUmVnRXhwKCJbIisoYnx8IlxccyIpKyJdKyQiLCJnIiksIiIpOm51bGx9LHRyaW06ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbXhVdGlscy5sdHJpbShteFV0aWxzLnJ0cmltKGEsYiksYil9LGlzTnVtZXJpYzpmdW5jdGlvbihhKXtyZXR1cm4haXNOYU4ocGFyc2VGbG9hdChhKSkmJmlzRmluaXRlKGEpJiYoInN0cmluZyIhPXR5cGVvZiBhfHwwPmEudG9Mb3dlckNhc2UoKS5pbmRleE9mKCIweCIpKX0saXNJbnRlZ2VyOmZ1bmN0aW9uKGEpe3JldHVybiBTdHJpbmcocGFyc2VJbnQoYSkpPT09U3RyaW5nKGEpfSxtb2Q6ZnVuY3Rpb24oYSxiKXtyZXR1cm4oYSViK2IpJWJ9LGludGVyc2VjdGlvbjpmdW5jdGlvbihhLGIsCmMsZCxlLGYsZyxrKXt2YXIgbD0oay1mKSooYy1hKS0oZy1lKSooZC1iKTtnPSgoZy1lKSooYi1mKS0oay1mKSooYS1lKSkvbDtlPSgoYy1hKSooYi1mKS0oZC1iKSooYS1lKSkvbDtyZXR1cm4gMDw9ZyYmMT49ZyYmMDw9ZSYmMT49ZT9uZXcgbXhQb2ludChhK2cqKGMtYSksYitnKihkLWIpKTpudWxsfSxwdFNlZ0Rpc3RTcTpmdW5jdGlvbihhLGIsYyxkLGUsZil7Yy09YTtkLT1iO2UtPWE7Zi09YjswPj1lKmMrZipkP2M9MDooZT1jLWUsZj1kLWYsYT1lKmMrZipkLGM9MD49YT8wOmEqYS8oYypjK2QqZCkpO2U9ZSplK2YqZi1jOzA+ZSYmKGU9MCk7cmV0dXJuIGV9LHB0TGluZURpc3Q6ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe3JldHVybiBNYXRoLmFicygoZC1iKSplLShjLWEpKmYrYypiLWQqYSkvTWF0aC5zcXJ0KChkLWIpKihkLWIpKyhjLWEpKihjLWEpKX0scmVsYXRpdmVDY3c6ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe2MtPWE7ZC09YjtlLT1hO2YtPWI7YT1lKmQtZipjOzA9PWEmJgooYT1lKmMrZipkLDA8YSYmKGE9KGUtYykqYysoZi1kKSpkLDA+YSYmKGE9MCkpKTtyZXR1cm4gMD5hPy0xOjA8YT8xOjB9LGFuaW1hdGVDaGFuZ2VzOmZ1bmN0aW9uKGEsYil7bXhFZmZlY3RzLmFuaW1hdGVDaGFuZ2VzLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sY2FzY2FkZU9wYWNpdHk6ZnVuY3Rpb24oYSxiLGMpe214RWZmZWN0cy5jYXNjYWRlT3BhY2l0eS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGZhZGVPdXQ6ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe214RWZmZWN0cy5mYWRlT3V0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sc2V0T3BhY2l0eTpmdW5jdGlvbihhLGIpe214VXRpbHMuaXNWbWwoYSk/YS5zdHlsZS5maWx0ZXI9MTAwPD1iPyIiOiJhbHBoYShvcGFjaXR5PSIrYi81KyIpIjpteENsaWVudC5JU19JRSYmKCJ1bmRlZmluZWQiPT09dHlwZW9mIGRvY3VtZW50LmRvY3VtZW50TW9kZXx8OT5kb2N1bWVudC5kb2N1bWVudE1vZGUpP2Euc3R5bGUuZmlsdGVyPTEwMDw9Yj8iIjoKImFscGhhKG9wYWNpdHk9IitiKyIpIjphLnN0eWxlLm9wYWNpdHk9Yi8xMDB9LGNyZWF0ZUltYWdlOmZ1bmN0aW9uKGEpe3ZhciBiO214Q2xpZW50LklTX0lFNiYmIkNTUzFDb21wYXQiIT1kb2N1bWVudC5jb21wYXRNb2RlPyhiPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQobXhDbGllbnQuVk1MX1BSRUZJWCsiOmltYWdlIiksYi5zZXRBdHRyaWJ1dGUoInNyYyIsYSksYi5zdHlsZS5ib3JkZXJTdHlsZT0ibm9uZSIpOihiPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImltZyIpLGIuc2V0QXR0cmlidXRlKCJzcmMiLGEpLGIuc2V0QXR0cmlidXRlKCJib3JkZXIiLCIwIikpO3JldHVybiBifSxzb3J0Q2VsbHM6ZnVuY3Rpb24oYSxiKXtiPW51bGwhPWI/YjohMDt2YXIgYz1uZXcgbXhEaWN0aW9uYXJ5O2Euc29ydChmdW5jdGlvbihhLGUpe3ZhciBkPWMuZ2V0KGEpO251bGw9PWQmJihkPW14Q2VsbFBhdGguY3JlYXRlKGEpLnNwbGl0KG14Q2VsbFBhdGguUEFUSF9TRVBBUkFUT1IpLGMucHV0KGEsCmQpKTt2YXIgZz1jLmdldChlKTtudWxsPT1nJiYoZz1teENlbGxQYXRoLmNyZWF0ZShlKS5zcGxpdChteENlbGxQYXRoLlBBVEhfU0VQQVJBVE9SKSxjLnB1dChlLGcpKTtkPW14Q2VsbFBhdGguY29tcGFyZShkLGcpO3JldHVybiAwPT1kPzA6MDxkPT1iPzE6LTF9KTtyZXR1cm4gYX0sZ2V0U3R5bGVuYW1lOmZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hJiYoYT1hLnNwbGl0KCI7IilbMF0sMD5hLmluZGV4T2YoIj0iKSk/YToiIn0sZ2V0U3R5bGVuYW1lczpmdW5jdGlvbihhKXt2YXIgYj1bXTtpZihudWxsIT1hKXthPWEuc3BsaXQoIjsiKTtmb3IodmFyIGM9MDtjPGEubGVuZ3RoO2MrKykwPmFbY10uaW5kZXhPZigiPSIpJiZiLnB1c2goYVtjXSl9cmV0dXJuIGJ9LGluZGV4T2ZTdHlsZW5hbWU6ZnVuY3Rpb24oYSxiKXtpZihudWxsIT1hJiZudWxsIT1iKWZvcih2YXIgYz1hLnNwbGl0KCI7IiksZD0wLGU9MDtlPGMubGVuZ3RoO2UrKyl7aWYoY1tlXT09YilyZXR1cm4gZDtkKz1jW2VdLmxlbmd0aCsKMX1yZXR1cm4tMX0sYWRkU3R5bGVuYW1lOmZ1bmN0aW9uKGEsYil7MD5teFV0aWxzLmluZGV4T2ZTdHlsZW5hbWUoYSxiKSYmKG51bGw9PWE/YT0iIjowPGEubGVuZ3RoJiYiOyIhPWEuY2hhckF0KGEubGVuZ3RoLTEpJiYoYSs9IjsiKSxhKz1iKTtyZXR1cm4gYX0scmVtb3ZlU3R5bGVuYW1lOmZ1bmN0aW9uKGEsYil7dmFyIGM9W107aWYobnVsbCE9YSlmb3IodmFyIGQ9YS5zcGxpdCgiOyIpLGU9MDtlPGQubGVuZ3RoO2UrKylkW2VdIT1iJiZjLnB1c2goZFtlXSk7cmV0dXJuIGMuam9pbigiOyIpfSxyZW1vdmVBbGxTdHlsZW5hbWVzOmZ1bmN0aW9uKGEpe3ZhciBiPVtdO2lmKG51bGwhPWEpe2E9YS5zcGxpdCgiOyIpO2Zvcih2YXIgYz0wO2M8YS5sZW5ndGg7YysrKTA8PWFbY10uaW5kZXhPZigiPSIpJiZiLnB1c2goYVtjXSl9cmV0dXJuIGIuam9pbigiOyIpfSxzZXRDZWxsU3R5bGVzOmZ1bmN0aW9uKGEsYixjLGQpe2lmKG51bGwhPWImJjA8Yi5sZW5ndGgpe2EuYmVnaW5VcGRhdGUoKTsKdHJ5e2Zvcih2YXIgZT0wO2U8Yi5sZW5ndGg7ZSsrKWlmKG51bGwhPWJbZV0pe3ZhciBmPW14VXRpbHMuc2V0U3R5bGUoYS5nZXRTdHlsZShiW2VdKSxjLGQpO2Euc2V0U3R5bGUoYltlXSxmKX19ZmluYWxseXthLmVuZFVwZGF0ZSgpfX19LHNldFN0eWxlOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1udWxsIT1jJiYoInVuZGVmaW5lZCI9PXR5cGVvZiBjLmxlbmd0aHx8MDxjLmxlbmd0aCk7aWYobnVsbD09YXx8MD09YS5sZW5ndGgpZCYmKGE9YisiPSIrYysiOyIpO2Vsc2UgaWYoYS5zdWJzdHJpbmcoMCxiLmxlbmd0aCsxKT09YisiPSIpe3ZhciBlPWEuaW5kZXhPZigiOyIpO2E9ZD9iKyI9IitjKygwPmU/IjsiOmEuc3Vic3RyaW5nKGUpKTowPmV8fGU9PWEubGVuZ3RoLTE/IiI6YS5zdWJzdHJpbmcoZSsxKX1lbHNle3ZhciBmPWEuaW5kZXhPZigiOyIrYisiPSIpOzA+Zj9kJiYoZD0iOyI9PWEuY2hhckF0KGEubGVuZ3RoLTEpPyIiOiI7IixhPWErZCtiKyI9IitjKyI7Iik6KGU9YS5pbmRleE9mKCI7IiwKZisxKSxhPWQ/YS5zdWJzdHJpbmcoMCxmKzEpK2IrIj0iK2MrKDA+ZT8iOyI6YS5zdWJzdHJpbmcoZSkpOmEuc3Vic3RyaW5nKDAsZikrKDA+ZT8iOyI6YS5zdWJzdHJpbmcoZSkpKX1yZXR1cm4gYX0sc2V0Q2VsbFN0eWxlRmxhZ3M6ZnVuY3Rpb24oYSxiLGMsZCxlKXtpZihudWxsIT1iJiYwPGIubGVuZ3RoKXthLmJlZ2luVXBkYXRlKCk7dHJ5e2Zvcih2YXIgZj0wO2Y8Yi5sZW5ndGg7ZisrKWlmKG51bGwhPWJbZl0pe3ZhciBnPW14VXRpbHMuc2V0U3R5bGVGbGFnKGEuZ2V0U3R5bGUoYltmXSksYyxkLGUpO2Euc2V0U3R5bGUoYltmXSxnKX19ZmluYWxseXthLmVuZFVwZGF0ZSgpfX19LHNldFN0eWxlRmxhZzpmdW5jdGlvbihhLGIsYyxkKXtpZihudWxsPT1hfHwwPT1hLmxlbmd0aClhPWR8fG51bGw9PWQ/YisiPSIrYzpiKyI9MCI7ZWxzZXt2YXIgZT1hLmluZGV4T2YoYisiPSIpO2lmKDA+ZSllPSI7Ij09YS5jaGFyQXQoYS5sZW5ndGgtMSk/IiI6IjsiLGE9ZHx8bnVsbD09ZD9hKwplK2IrIj0iK2M6YStlK2IrIj0wIjtlbHNle3ZhciBmPWEuaW5kZXhPZigiOyIsZSksZztnPTA+Zj9hLnN1YnN0cmluZyhlK2IubGVuZ3RoKzEpOmEuc3Vic3RyaW5nKGUrYi5sZW5ndGgrMSxmKTtnPW51bGw9PWQ/cGFyc2VJbnQoZyleYzpkP3BhcnNlSW50KGcpfGM6cGFyc2VJbnQoZykmfmM7YT1hLnN1YnN0cmluZygwLGUpK2IrIj0iK2crKDA8PWY/YS5zdWJzdHJpbmcoZik6IiIpfX1yZXR1cm4gYX0sZ2V0QWxpZ25tZW50QXNQb2ludDpmdW5jdGlvbihhLGIpe3ZhciBjPS0uNSxkPS0uNTthPT1teENvbnN0YW50cy5BTElHTl9MRUZUP2M9MDphPT1teENvbnN0YW50cy5BTElHTl9SSUdIVCYmKGM9LTEpO2I9PW14Q29uc3RhbnRzLkFMSUdOX1RPUD9kPTA6Yj09bXhDb25zdGFudHMuQUxJR05fQk9UVE9NJiYoZD0tMSk7cmV0dXJuIG5ldyBteFBvaW50KGMsZCl9LGdldFNpemVGb3JTdHJpbmc6ZnVuY3Rpb24oYSxiLGMsZCxlKXtiPW51bGwhPWI/YjpteENvbnN0YW50cy5ERUZBVUxUX0ZPTlRTSVpFOwpjPW51bGwhPWM/YzpteENvbnN0YW50cy5ERUZBVUxUX0ZPTlRGQU1JTFk7dmFyIGY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7Zi5zdHlsZS5mb250RmFtaWx5PWM7Zi5zdHlsZS5mb250U2l6ZT1NYXRoLnJvdW5kKGIpKyJweCI7Zi5zdHlsZS5saW5lSGVpZ2h0PU1hdGgucm91bmQoYipteENvbnN0YW50cy5MSU5FX0hFSUdIVCkrInB4IjtudWxsIT1lJiYoKGUmbXhDb25zdGFudHMuRk9OVF9CT0xEKT09bXhDb25zdGFudHMuRk9OVF9CT0xEJiYoZi5zdHlsZS5mb250V2VpZ2h0PSJib2xkIiksKGUmbXhDb25zdGFudHMuRk9OVF9JVEFMSUMpPT1teENvbnN0YW50cy5GT05UX0lUQUxJQyYmKGYuc3R5bGUuZm9udFN0eWxlPSJpdGFsaWMiKSxiPVtdLChlJm14Q29uc3RhbnRzLkZPTlRfVU5ERVJMSU5FKT09bXhDb25zdGFudHMuRk9OVF9VTkRFUkxJTkUmJmIucHVzaCgidW5kZXJsaW5lIiksKGUmbXhDb25zdGFudHMuRk9OVF9TVFJJS0VUSFJPVUdIKT09bXhDb25zdGFudHMuRk9OVF9TVFJJS0VUSFJPVUdIJiYKYi5wdXNoKCJsaW5lLXRocm91Z2giKSwwPGIubGVuZ3RoJiYoZi5zdHlsZS50ZXh0RGVjb3JhdGlvbj1iLmpvaW4oIiAiKSkpO2Yuc3R5bGUucG9zaXRpb249ImFic29sdXRlIjtmLnN0eWxlLnZpc2liaWxpdHk9ImhpZGRlbiI7Zi5zdHlsZS5kaXNwbGF5PW14Q2xpZW50LklTX1FVSVJLUz8iaW5saW5lIjoiaW5saW5lLWJsb2NrIjtmLnN0eWxlLnpvb209IjEiO251bGwhPWQ/KGYuc3R5bGUud2lkdGg9ZCsicHgiLGYuc3R5bGUud2hpdGVTcGFjZT0ibm9ybWFsIik6Zi5zdHlsZS53aGl0ZVNwYWNlPSJub3dyYXAiO2YuaW5uZXJIVE1MPWE7ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChmKTthPW5ldyBteFJlY3RhbmdsZSgwLDAsZi5vZmZzZXRXaWR0aCxmLm9mZnNldEhlaWdodCk7ZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChmKTtyZXR1cm4gYX0sZ2V0Vmlld1htbDpmdW5jdGlvbihhLGIsYyxkLGUpe2Q9bnVsbCE9ZD9kOjA7ZT1udWxsIT1lP2U6MDtiPW51bGwhPWI/YjoxO251bGw9PQpjJiYoYz1bYS5nZXRNb2RlbCgpLmdldFJvb3QoKV0pO3ZhciBmPWEuZ2V0VmlldygpLGc9bnVsbCxrPWYuaXNFdmVudHNFbmFibGVkKCk7Zi5zZXRFdmVudHNFbmFibGVkKCExKTt2YXIgbD1mLmRyYXdQYW5lLG09Zi5vdmVybGF5UGFuZTthLmRpYWxlY3Q9PW14Q29uc3RhbnRzLkRJQUxFQ1RfU1ZHPyhmLmRyYXdQYW5lPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhteENvbnN0YW50cy5OU19TVkcsImciKSxmLmNhbnZhcy5hcHBlbmRDaGlsZChmLmRyYXdQYW5lKSxmLm92ZXJsYXlQYW5lPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhteENvbnN0YW50cy5OU19TVkcsImciKSk6KGYuZHJhd1BhbmU9Zi5kcmF3UGFuZS5jbG9uZU5vZGUoITEpLGYuY2FudmFzLmFwcGVuZENoaWxkKGYuZHJhd1BhbmUpLGYub3ZlcmxheVBhbmU9Zi5vdmVybGF5UGFuZS5jbG9uZU5vZGUoITEpKTtmLmNhbnZhcy5hcHBlbmRDaGlsZChmLm92ZXJsYXlQYW5lKTt2YXIgbj1mLmdldFRyYW5zbGF0ZSgpO2YudHJhbnNsYXRlPQpuZXcgbXhQb2ludChkLGUpO2I9bmV3IG14VGVtcG9yYXJ5Q2VsbFN0YXRlcyhhLmdldFZpZXcoKSxiLGMpO3RyeXtnPShuZXcgbXhDb2RlYykuZW5jb2RlKGEuZ2V0VmlldygpKX1maW5hbGx5e2IuZGVzdHJveSgpLGYudHJhbnNsYXRlPW4sZi5jYW52YXMucmVtb3ZlQ2hpbGQoZi5kcmF3UGFuZSksZi5jYW52YXMucmVtb3ZlQ2hpbGQoZi5vdmVybGF5UGFuZSksZi5kcmF3UGFuZT1sLGYub3ZlcmxheVBhbmU9bSxmLnNldEV2ZW50c0VuYWJsZWQoayl9cmV0dXJuIGd9LGdldFNjYWxlRm9yUGFnZUNvdW50OmZ1bmN0aW9uKGEsYixjLGQpe2lmKDE+YSlyZXR1cm4gMTtjPW51bGwhPWM/YzpteENvbnN0YW50cy5QQUdFX0ZPUk1BVF9BNF9QT1JUUkFJVDtkPW51bGwhPWQ/ZDowO3ZhciBlPWMud2lkdGgtMipkO2M9Yy5oZWlnaHQtMipkO2Q9Yi5nZXRHcmFwaEJvdW5kcygpLmNsb25lKCk7Yj1iLmdldFZpZXcoKS5nZXRTY2FsZSgpO2Qud2lkdGgvPWI7ZC5oZWlnaHQvPWI7Yj1kLndpZHRoOwp2YXIgZj1NYXRoLnNxcnQoYSk7ZD1NYXRoLnNxcnQoYi9kLmhlaWdodC8oZS9jKSk7Yz1mKmQ7ZD1mL2Q7aWYoMT5jJiZkPmEpe3ZhciBnPWQvYTtkPWE7Yy89Z30xPmQmJmM+YSYmKGc9Yy9hLGM9YSxkLz1nKTtnPU1hdGguY2VpbChjKSpNYXRoLmNlaWwoZCk7Zm9yKGY9MDtnPmE7KXt2YXIgZz1NYXRoLmZsb29yKGMpL2Msaz1NYXRoLmZsb29yKGQpL2Q7MT09ZyYmKGc9TWF0aC5mbG9vcihjLTEpL2MpOzE9PWsmJihrPU1hdGguZmxvb3IoZC0xKS9kKTtnPWc+az9nOms7Yyo9ZztkKj1nO2c9TWF0aC5jZWlsKGMpKk1hdGguY2VpbChkKTtmKys7aWYoMTA8ZilicmVha31yZXR1cm4gZSpjL2IqLjk5OTk5fSxzaG93OmZ1bmN0aW9uKGEsYixjLGQsZSxmKXtjPW51bGwhPWM/YzowO2Q9bnVsbCE9ZD9kOjA7bnVsbD09Yj9iPXdpbmRvdy5vcGVuKCkuZG9jdW1lbnQ6Yi5vcGVuKCk7OT09ZG9jdW1lbnQuZG9jdW1lbnRNb2RlJiZiLndyaXRlbG4oJ1x4M2MhLS1baWYgSUVdPjxtZXRhIGh0dHAtZXF1aXY9IlgtVUEtQ29tcGF0aWJsZSIgY29udGVudD0iSUU9OSI+PCFbZW5kaWZdLS1ceDNlJyk7CnZhciBnPWEuZ2V0R3JhcGhCb3VuZHMoKSxrPU1hdGguY2VpbChjLWcueCksbD1NYXRoLmNlaWwoZC1nLnkpO251bGw9PWUmJihlPU1hdGguY2VpbChnLndpZHRoK2MpK01hdGguY2VpbChNYXRoLmNlaWwoZy54KS1nLngpKTtudWxsPT1mJiYoZj1NYXRoLmNlaWwoZy5oZWlnaHQrZCkrTWF0aC5jZWlsKE1hdGguY2VpbChnLnkpLWcueSkpO2lmKG14Q2xpZW50LklTX0lFfHwxMT09ZG9jdW1lbnQuZG9jdW1lbnRNb2RlKXtkPSI8aHRtbD48aGVhZD4iO2c9ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImJhc2UiKTtmb3IoYz0wO2M8Zy5sZW5ndGg7YysrKWQrPWdbY10ub3V0ZXJIVE1MO2QrPSI8c3R5bGU+Ijtmb3IoYz0wO2M8ZG9jdW1lbnQuc3R5bGVTaGVldHMubGVuZ3RoO2MrKyl0cnl7ZCs9ZG9jdW1lbnQuc3R5bGVTaGVldHNbY10uY3NzVGV4dH1jYXRjaChtKXt9ZD1kKyc8L3N0eWxlPjwvaGVhZD48Ym9keSBzdHlsZT0ibWFyZ2luOjBweDsiPicrKCc8ZGl2IHN0eWxlPSJwb3NpdGlvbjphYnNvbHV0ZTtvdmVyZmxvdzpoaWRkZW47d2lkdGg6JysKZSsicHg7aGVpZ2h0OiIrZisncHg7Ij48ZGl2IHN0eWxlPSJwb3NpdGlvbjpyZWxhdGl2ZTtsZWZ0OicraysicHg7dG9wOiIrbCsncHg7Ij4nKSthLmNvbnRhaW5lci5pbm5lckhUTUw7Yi53cml0ZWxuKGQrIjwvZGl2PjwvZGl2PjwvYm9keT48aHRtbD4iKTtiLmNsb3NlKCl9ZWxzZXtiLndyaXRlbG4oIjxodG1sPjxoZWFkPiIpO2c9ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImJhc2UiKTtmb3IoYz0wO2M8Zy5sZW5ndGg7YysrKWIud3JpdGVsbihteFV0aWxzLmdldE91dGVySHRtbChnW2NdKSk7ZD1kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgibGluayIpO2ZvcihjPTA7YzxkLmxlbmd0aDtjKyspYi53cml0ZWxuKG14VXRpbHMuZ2V0T3V0ZXJIdG1sKGRbY10pKTtkPWRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJzdHlsZSIpO2ZvcihjPTA7YzxkLmxlbmd0aDtjKyspYi53cml0ZWxuKG14VXRpbHMuZ2V0T3V0ZXJIdG1sKGRbY10pKTtiLndyaXRlbG4oJzwvaGVhZD48Ym9keSBzdHlsZT0ibWFyZ2luOjBweDsiPjwvYm9keT48L2h0bWw+Jyk7CmIuY2xvc2UoKTtjPWIuY3JlYXRlRWxlbWVudCgiZGl2Iik7Yy5wb3NpdGlvbj0iYWJzb2x1dGUiO2Mub3ZlcmZsb3c9ImhpZGRlbiI7Yy5zdHlsZS53aWR0aD1lKyJweCI7Yy5zdHlsZS5oZWlnaHQ9ZisicHgiO2U9Yi5jcmVhdGVFbGVtZW50KCJkaXYiKTtlLnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSI7ZS5zdHlsZS5sZWZ0PWsrInB4IjtlLnN0eWxlLnRvcD1sKyJweCI7Zj1hLmNvbnRhaW5lci5maXJzdENoaWxkO2ZvcihkPW51bGw7bnVsbCE9ZjspZz1mLmNsb25lTm9kZSghMCksZj09YS52aWV3LmRyYXdQYW5lLm93bmVyU1ZHRWxlbWVudD8oYy5hcHBlbmRDaGlsZChnKSxkPWcpOmUuYXBwZW5kQ2hpbGQoZyksZj1mLm5leHRTaWJsaW5nO2IuYm9keS5hcHBlbmRDaGlsZChjKTtudWxsIT1lLmZpcnN0Q2hpbGQmJmIuYm9keS5hcHBlbmRDaGlsZChlKTtudWxsIT1kJiYoZC5zdHlsZS5taW5XaWR0aD0iIixkLnN0eWxlLm1pbkhlaWdodD0iIixkLmZpcnN0Q2hpbGQuc2V0QXR0cmlidXRlKCJ0cmFuc2Zvcm0iLAoidHJhbnNsYXRlKCIraysiLCIrbCsiKSIpKX1teFV0aWxzLnJlbW92ZUN1cnNvcnMoYi5ib2R5KTtyZXR1cm4gYn0scHJpbnRTY3JlZW46ZnVuY3Rpb24oYSl7dmFyIGI9d2luZG93Lm9wZW4oKTthLmdldEdyYXBoQm91bmRzKCk7bXhVdGlscy5zaG93KGEsYi5kb2N1bWVudCk7YT1mdW5jdGlvbigpe2IuZm9jdXMoKTtiLnByaW50KCk7Yi5jbG9zZSgpfTtteENsaWVudC5JU19HQz9iLnNldFRpbWVvdXQoYSw1MDApOmEoKX0scG9wdXA6ZnVuY3Rpb24oYSxiKXtpZihiKXt2YXIgYz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtjLnN0eWxlLm92ZXJmbG93PSJzY3JvbGwiO2Muc3R5bGUud2lkdGg9IjYzNnB4IjtjLnN0eWxlLmhlaWdodD0iNDYwcHgiO3ZhciBkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInByZSIpO2QuaW5uZXJIVE1MPW14VXRpbHMuaHRtbEVudGl0aWVzKGEsITEpLnJlcGxhY2UoL1xuL2csIjxicj4iKS5yZXBsYWNlKC8gL2csIiZuYnNwOyIpO2MuYXBwZW5kQ2hpbGQoZCk7CmM9bmV3IG14V2luZG93KCJQb3B1cCBXaW5kb3ciLGMsZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aC8yLTMyMCxNYXRoLm1heChkb2N1bWVudC5ib2R5LmNsaWVudEhlaWdodHx8MCxkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0KS8yLTI0MCw2NDAsNDgwLCExLCEwKTtjLnNldENsb3NhYmxlKCEwKTtjLnNldFZpc2libGUoITApfWVsc2UgbXhDbGllbnQuSVNfTlM/KGM9d2luZG93Lm9wZW4oKSxjLmRvY3VtZW50LndyaXRlbG4oIjxwcmU+IitteFV0aWxzLmh0bWxFbnRpdGllcyhhKSsiPC9wcmUiKSxjLmRvY3VtZW50LmNsb3NlKCkpOihjPXdpbmRvdy5vcGVuKCksZD1jLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInByZSIpLGQuaW5uZXJIVE1MPW14VXRpbHMuaHRtbEVudGl0aWVzKGEsITEpLnJlcGxhY2UoL1xuL2csIjxicj4iKS5yZXBsYWNlKC8gL2csIiZuYnNwOyIpLGMuZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChkKSl9LGFsZXJ0OmZ1bmN0aW9uKGEpe2FsZXJ0KGEpfSwKcHJvbXB0OmZ1bmN0aW9uKGEsYil7cmV0dXJuIHByb21wdChhLG51bGwhPWI/YjoiIil9LGNvbmZpcm06ZnVuY3Rpb24oYSl7cmV0dXJuIGNvbmZpcm0oYSl9LGVycm9yOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2Uuc3R5bGUucGFkZGluZz0iMjBweCI7dmFyIGY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW1nIik7Zi5zZXRBdHRyaWJ1dGUoInNyYyIsZHx8bXhVdGlscy5lcnJvckltYWdlKTtmLnNldEF0dHJpYnV0ZSgidmFsaWduIiwiYm90dG9tIik7Zi5zdHlsZS52ZXJ0aWNhbEFsaWduPSJtaWRkbGUiO2UuYXBwZW5kQ2hpbGQoZik7ZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiICIpKTtlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCIgIikpO2UuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIiAiKSk7bXhVdGlscy53cml0ZShlLGEpO2E9ZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aDsKZD1kb2N1bWVudC5ib2R5LmNsaWVudEhlaWdodHx8ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodDt2YXIgZz1uZXcgbXhXaW5kb3cobXhSZXNvdXJjZXMuZ2V0KG14VXRpbHMuZXJyb3JSZXNvdXJjZSl8fG14VXRpbHMuZXJyb3JSZXNvdXJjZSxlLChhLWIpLzIsZC80LGIsbnVsbCwhMSwhMCk7YyYmKG14VXRpbHMuYnIoZSksYj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJwIiksYz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJidXR0b24iKSxteENsaWVudC5JU19JRT9jLnN0eWxlLmNzc1RleHQ9ImZsb2F0OnJpZ2h0IjpjLnNldEF0dHJpYnV0ZSgic3R5bGUiLCJmbG9hdDpyaWdodCIpLG14RXZlbnQuYWRkTGlzdGVuZXIoYywiY2xpY2siLGZ1bmN0aW9uKGEpe2cuZGVzdHJveSgpfSksbXhVdGlscy53cml0ZShjLG14UmVzb3VyY2VzLmdldChteFV0aWxzLmNsb3NlUmVzb3VyY2UpfHxteFV0aWxzLmNsb3NlUmVzb3VyY2UpLGIuYXBwZW5kQ2hpbGQoYyksZS5hcHBlbmRDaGlsZChiKSwKbXhVdGlscy5icihlKSxnLnNldENsb3NhYmxlKCEwKSk7Zy5zZXRWaXNpYmxlKCEwKTtyZXR1cm4gZ30sbWFrZURyYWdnYWJsZTpmdW5jdGlvbihhLGIsYyxkLGUsZixnLGssbCxtKXthPW5ldyBteERyYWdTb3VyY2UoYSxjKTthLmRyYWdPZmZzZXQ9bmV3IG14UG9pbnQobnVsbCE9ZT9lOjAsbnVsbCE9Zj9mOm14Q29uc3RhbnRzLlRPT0xUSVBfVkVSVElDQUxfT0ZGU0VUKTthLmF1dG9zY3JvbGw9ZzthLnNldEd1aWRlc0VuYWJsZWQoITEpO251bGwhPWwmJihhLmhpZ2hsaWdodERyb3BUYXJnZXRzPWwpO251bGwhPW0mJihhLmdldERyb3BUYXJnZXQ9bSk7YS5nZXRHcmFwaEZvckV2ZW50PWZ1bmN0aW9uKGEpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBiP2IoYSk6Yn07bnVsbCE9ZCYmKGEuY3JlYXRlRHJhZ0VsZW1lbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gZC5jbG9uZU5vZGUoITApfSxrJiYoYS5jcmVhdGVQcmV2aWV3RWxlbWVudD1mdW5jdGlvbihhKXt2YXIgYj1kLmNsb25lTm9kZSghMCksCmM9cGFyc2VJbnQoYi5zdHlsZS53aWR0aCksZT1wYXJzZUludChiLnN0eWxlLmhlaWdodCk7Yi5zdHlsZS53aWR0aD1NYXRoLnJvdW5kKGMqYS52aWV3LnNjYWxlKSsicHgiO2Iuc3R5bGUuaGVpZ2h0PU1hdGgucm91bmQoZSphLnZpZXcuc2NhbGUpKyJweCI7cmV0dXJuIGJ9KSk7cmV0dXJuIGF9fSxteENvbnN0YW50cz17REVGQVVMVF9IT1RTUE9UOi4zLE1JTl9IT1RTUE9UX1NJWkU6OCxNQVhfSE9UU1BPVF9TSVpFOjAsUkVOREVSSU5HX0hJTlRfRVhBQ1Q6ImV4YWN0IixSRU5ERVJJTkdfSElOVF9GQVNURVI6ImZhc3RlciIsUkVOREVSSU5HX0hJTlRfRkFTVEVTVDoiZmFzdGVzdCIsRElBTEVDVF9TVkc6InN2ZyIsRElBTEVDVF9WTUw6InZtbCIsRElBTEVDVF9NSVhFREhUTUw6Im1peGVkSHRtbCIsRElBTEVDVF9QUkVGRVJIVE1MOiJwcmVmZXJIdG1sIixESUFMRUNUX1NUUklDVEhUTUw6InN0cmljdEh0bWwiLE5TX1NWRzoiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLE5TX1hIVE1MOiJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiwKTlNfWExJTks6Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiLFNIQURPV0NPTE9SOiJncmF5IixWTUxfU0hBRE9XQ09MT1I6ImdyYXkiLFNIQURPV19PRkZTRVRfWDoyLFNIQURPV19PRkZTRVRfWTozLFNIQURPV19PUEFDSVRZOjEsTk9ERVRZUEVfRUxFTUVOVDoxLE5PREVUWVBFX0FUVFJJQlVURToyLE5PREVUWVBFX1RFWFQ6MyxOT0RFVFlQRV9DREFUQTo0LE5PREVUWVBFX0VOVElUWV9SRUZFUkVOQ0U6NSxOT0RFVFlQRV9FTlRJVFk6NixOT0RFVFlQRV9QUk9DRVNTSU5HX0lOU1RSVUNUSU9OOjcsTk9ERVRZUEVfQ09NTUVOVDo4LE5PREVUWVBFX0RPQ1VNRU5UOjksTk9ERVRZUEVfRE9DVU1FTlRUWVBFOjEwLE5PREVUWVBFX0RPQ1VNRU5UX0ZSQUdNRU5UOjExLE5PREVUWVBFX05PVEFUSU9OOjEyLFRPT0xUSVBfVkVSVElDQUxfT0ZGU0VUOjE2LERFRkFVTFRfVkFMSURfQ09MT1I6IiMwMEZGMDAiLERFRkFVTFRfSU5WQUxJRF9DT0xPUjoiI0ZGMDAwMCIsT1VUTElORV9ISUdITElHSFRfQ09MT1I6IiMwMEZGMDAiLApPVVRMSU5FX0hJR0hMSUdIVF9TVFJPS0VXSURUSDo1LEhJR0hMSUdIVF9TVFJPS0VXSURUSDozLEhJR0hMSUdIVF9TSVpFOjIsSElHSExJR0hUX09QQUNJVFk6MTAwLENVUlNPUl9NT1ZBQkxFX1ZFUlRFWDoibW92ZSIsQ1VSU09SX01PVkFCTEVfRURHRToibW92ZSIsQ1VSU09SX0xBQkVMX0hBTkRMRToiZGVmYXVsdCIsQ1VSU09SX1RFUk1JTkFMX0hBTkRMRToicG9pbnRlciIsQ1VSU09SX0JFTkRfSEFORExFOiJjcm9zc2hhaXIiLENVUlNPUl9WSVJUVUFMX0JFTkRfSEFORExFOiJjcm9zc2hhaXIiLENVUlNPUl9DT05ORUNUOiJwb2ludGVyIixISUdITElHSFRfQ09MT1I6IiMwMEZGMDAiLENPTk5FQ1RfVEFSR0VUX0NPTE9SOiIjMDAwMEZGIixJTlZBTElEX0NPTk5FQ1RfVEFSR0VUX0NPTE9SOiIjRkYwMDAwIixEUk9QX1RBUkdFVF9DT0xPUjoiIzAwMDBGRiIsVkFMSURfQ09MT1I6IiMwMEZGMDAiLElOVkFMSURfQ09MT1I6IiNGRjAwMDAiLEVER0VfU0VMRUNUSU9OX0NPTE9SOiIjMDBGRjAwIiwKVkVSVEVYX1NFTEVDVElPTl9DT0xPUjoiIzAwRkYwMCIsVkVSVEVYX1NFTEVDVElPTl9TVFJPS0VXSURUSDoxLEVER0VfU0VMRUNUSU9OX1NUUk9LRVdJRFRIOjEsVkVSVEVYX1NFTEVDVElPTl9EQVNIRUQ6ITAsRURHRV9TRUxFQ1RJT05fREFTSEVEOiEwLEdVSURFX0NPTE9SOiIjRkYwMDAwIixHVUlERV9TVFJPS0VXSURUSDoxLE9VVExJTkVfQ09MT1I6IiMwMDk5RkYiLE9VVExJTkVfU1RST0tFV0lEVEg6bXhDbGllbnQuSVNfSUU/MjozLEhBTkRMRV9TSVpFOjYsTEFCRUxfSEFORExFX1NJWkU6NCxIQU5ETEVfRklMTENPTE9SOiIjMDBGRjAwIixIQU5ETEVfU1RST0tFQ09MT1I6ImJsYWNrIixMQUJFTF9IQU5ETEVfRklMTENPTE9SOiJ5ZWxsb3ciLENPTk5FQ1RfSEFORExFX0ZJTExDT0xPUjoiIzAwMDBGRiIsTE9DS0VEX0hBTkRMRV9GSUxMQ09MT1I6IiNGRjAwMDAiLE9VVExJTkVfSEFORExFX0ZJTExDT0xPUjoiIzAwRkZGRiIsT1VUTElORV9IQU5ETEVfU1RST0tFQ09MT1I6IiMwMDMzRkYiLApERUZBVUxUX0ZPTlRGQU1JTFk6IkFyaWFsLEhlbHZldGljYSIsREVGQVVMVF9GT05UU0laRToxMSxERUZBVUxUX1RFWFRfRElSRUNUSU9OOiIiLExJTkVfSEVJR0hUOjEuMixXT1JEX1dSQVA6Im5vcm1hbCIsQUJTT0xVVEVfTElORV9IRUlHSFQ6ITEsREVGQVVMVF9GT05UU1RZTEU6MCxERUZBVUxUX1NUQVJUU0laRTo0MCxERUZBVUxUX01BUktFUlNJWkU6NixERUZBVUxUX0lNQUdFU0laRToyNCxFTlRJVFlfU0VHTUVOVDozMCxSRUNUQU5HTEVfUk9VTkRJTkdfRkFDVE9SOi4xNSxMSU5FX0FSQ1NJWkU6MjAsQVJST1dfU1BBQ0lORzowLEFSUk9XX1dJRFRIOjMwLEFSUk9XX1NJWkU6MzAsUEFHRV9GT1JNQVRfQTRfUE9SVFJBSVQ6bmV3IG14UmVjdGFuZ2xlKDAsMCw4MjcsMTE2OSksUEFHRV9GT1JNQVRfQTRfTEFORFNDQVBFOm5ldyBteFJlY3RhbmdsZSgwLDAsMTE2OSw4MjcpLFBBR0VfRk9STUFUX0xFVFRFUl9QT1JUUkFJVDpuZXcgbXhSZWN0YW5nbGUoMCwwLDg1MCwxMTAwKSwKUEFHRV9GT1JNQVRfTEVUVEVSX0xBTkRTQ0FQRTpuZXcgbXhSZWN0YW5nbGUoMCwwLDExMDAsODUwKSxOT05FOiJub25lIixTVFlMRV9QRVJJTUVURVI6InBlcmltZXRlciIsU1RZTEVfU09VUkNFX1BPUlQ6InNvdXJjZVBvcnQiLFNUWUxFX1RBUkdFVF9QT1JUOiJ0YXJnZXRQb3J0IixTVFlMRV9QT1JUX0NPTlNUUkFJTlQ6InBvcnRDb25zdHJhaW50IixTVFlMRV9QT1JUX0NPTlNUUkFJTlRfUk9UQVRJT046InBvcnRDb25zdHJhaW50Um90YXRpb24iLFNUWUxFX1NPVVJDRV9QT1JUX0NPTlNUUkFJTlQ6InNvdXJjZVBvcnRDb25zdHJhaW50IixTVFlMRV9UQVJHRVRfUE9SVF9DT05TVFJBSU5UOiJ0YXJnZXRQb3J0Q29uc3RyYWludCIsU1RZTEVfT1BBQ0lUWToib3BhY2l0eSIsU1RZTEVfRklMTF9PUEFDSVRZOiJmaWxsT3BhY2l0eSIsU1RZTEVfU1RST0tFX09QQUNJVFk6InN0cm9rZU9wYWNpdHkiLFNUWUxFX1RFWFRfT1BBQ0lUWToidGV4dE9wYWNpdHkiLFNUWUxFX1RFWFRfRElSRUNUSU9OOiJ0ZXh0RGlyZWN0aW9uIiwKU1RZTEVfT1ZFUkZMT1c6Im92ZXJmbG93IixTVFlMRV9PUlRIT0dPTkFMOiJvcnRob2dvbmFsIixTVFlMRV9FWElUX1g6ImV4aXRYIixTVFlMRV9FWElUX1k6ImV4aXRZIixTVFlMRV9FWElUX0RYOiJleGl0RHgiLFNUWUxFX0VYSVRfRFk6ImV4aXREeSIsU1RZTEVfRVhJVF9QRVJJTUVURVI6ImV4aXRQZXJpbWV0ZXIiLFNUWUxFX0VOVFJZX1g6ImVudHJ5WCIsU1RZTEVfRU5UUllfWToiZW50cnlZIixTVFlMRV9FTlRSWV9EWDoiZW50cnlEeCIsU1RZTEVfRU5UUllfRFk6ImVudHJ5RHkiLFNUWUxFX0VOVFJZX1BFUklNRVRFUjoiZW50cnlQZXJpbWV0ZXIiLFNUWUxFX1dISVRFX1NQQUNFOiJ3aGl0ZVNwYWNlIixTVFlMRV9ST1RBVElPTjoicm90YXRpb24iLFNUWUxFX0ZJTExDT0xPUjoiZmlsbENvbG9yIixTVFlMRV9QT0lOVEVSX0VWRU5UUzoicG9pbnRlckV2ZW50cyIsU1RZTEVfU1dJTUxBTkVfRklMTENPTE9SOiJzd2ltbGFuZUZpbGxDb2xvciIsU1RZTEVfTUFSR0lOOiJtYXJnaW4iLApTVFlMRV9HUkFESUVOVENPTE9SOiJncmFkaWVudENvbG9yIixTVFlMRV9HUkFESUVOVF9ESVJFQ1RJT046ImdyYWRpZW50RGlyZWN0aW9uIixTVFlMRV9TVFJPS0VDT0xPUjoic3Ryb2tlQ29sb3IiLFNUWUxFX1NFUEFSQVRPUkNPTE9SOiJzZXBhcmF0b3JDb2xvciIsU1RZTEVfU1RST0tFV0lEVEg6InN0cm9rZVdpZHRoIixTVFlMRV9BTElHTjoiYWxpZ24iLFNUWUxFX1ZFUlRJQ0FMX0FMSUdOOiJ2ZXJ0aWNhbEFsaWduIixTVFlMRV9MQUJFTF9XSURUSDoibGFiZWxXaWR0aCIsU1RZTEVfTEFCRUxfUE9TSVRJT046ImxhYmVsUG9zaXRpb24iLFNUWUxFX1ZFUlRJQ0FMX0xBQkVMX1BPU0lUSU9OOiJ2ZXJ0aWNhbExhYmVsUG9zaXRpb24iLFNUWUxFX0lNQUdFX0FTUEVDVDoiaW1hZ2VBc3BlY3QiLFNUWUxFX0lNQUdFX0FMSUdOOiJpbWFnZUFsaWduIixTVFlMRV9JTUFHRV9WRVJUSUNBTF9BTElHTjoiaW1hZ2VWZXJ0aWNhbEFsaWduIixTVFlMRV9HTEFTUzoiZ2xhc3MiLFNUWUxFX0lNQUdFOiJpbWFnZSIsClNUWUxFX0lNQUdFX1dJRFRIOiJpbWFnZVdpZHRoIixTVFlMRV9JTUFHRV9IRUlHSFQ6ImltYWdlSGVpZ2h0IixTVFlMRV9JTUFHRV9CQUNLR1JPVU5EOiJpbWFnZUJhY2tncm91bmQiLFNUWUxFX0lNQUdFX0JPUkRFUjoiaW1hZ2VCb3JkZXIiLFNUWUxFX0ZMSVBIOiJmbGlwSCIsU1RZTEVfRkxJUFY6ImZsaXBWIixTVFlMRV9OT0xBQkVMOiJub0xhYmVsIixTVFlMRV9OT0VER0VTVFlMRToibm9FZGdlU3R5bGUiLFNUWUxFX0xBQkVMX0JBQ0tHUk9VTkRDT0xPUjoibGFiZWxCYWNrZ3JvdW5kQ29sb3IiLFNUWUxFX0xBQkVMX0JPUkRFUkNPTE9SOiJsYWJlbEJvcmRlckNvbG9yIixTVFlMRV9MQUJFTF9QQURESU5HOiJsYWJlbFBhZGRpbmciLFNUWUxFX0lORElDQVRPUl9TSEFQRToiaW5kaWNhdG9yU2hhcGUiLFNUWUxFX0lORElDQVRPUl9JTUFHRToiaW5kaWNhdG9ySW1hZ2UiLFNUWUxFX0lORElDQVRPUl9DT0xPUjoiaW5kaWNhdG9yQ29sb3IiLFNUWUxFX0lORElDQVRPUl9TVFJPS0VDT0xPUjoiaW5kaWNhdG9yU3Ryb2tlQ29sb3IiLApTVFlMRV9JTkRJQ0FUT1JfR1JBRElFTlRDT0xPUjoiaW5kaWNhdG9yR3JhZGllbnRDb2xvciIsU1RZTEVfSU5ESUNBVE9SX1NQQUNJTkc6ImluZGljYXRvclNwYWNpbmciLFNUWUxFX0lORElDQVRPUl9XSURUSDoiaW5kaWNhdG9yV2lkdGgiLFNUWUxFX0lORElDQVRPUl9IRUlHSFQ6ImluZGljYXRvckhlaWdodCIsU1RZTEVfSU5ESUNBVE9SX0RJUkVDVElPTjoiaW5kaWNhdG9yRGlyZWN0aW9uIixTVFlMRV9TSEFET1c6InNoYWRvdyIsU1RZTEVfU0VHTUVOVDoic2VnbWVudCIsU1RZTEVfRU5EQVJST1c6ImVuZEFycm93IixTVFlMRV9TVEFSVEFSUk9XOiJzdGFydEFycm93IixTVFlMRV9FTkRTSVpFOiJlbmRTaXplIixTVFlMRV9TVEFSVFNJWkU6InN0YXJ0U2l6ZSIsU1RZTEVfU1dJTUxBTkVfTElORToic3dpbWxhbmVMaW5lIixTVFlMRV9FTkRGSUxMOiJlbmRGaWxsIixTVFlMRV9TVEFSVEZJTEw6InN0YXJ0RmlsbCIsU1RZTEVfREFTSEVEOiJkYXNoZWQiLFNUWUxFX0RBU0hfUEFUVEVSTjoiZGFzaFBhdHRlcm4iLApTVFlMRV9GSVhfREFTSDoiZml4RGFzaCIsU1RZTEVfUk9VTkRFRDoicm91bmRlZCIsU1RZTEVfQ1VSVkVEOiJjdXJ2ZWQiLFNUWUxFX0FSQ1NJWkU6ImFyY1NpemUiLFNUWUxFX0FCU09MVVRFX0FSQ1NJWkU6ImFic29sdXRlQXJjU2l6ZSIsU1RZTEVfU09VUkNFX1BFUklNRVRFUl9TUEFDSU5HOiJzb3VyY2VQZXJpbWV0ZXJTcGFjaW5nIixTVFlMRV9UQVJHRVRfUEVSSU1FVEVSX1NQQUNJTkc6InRhcmdldFBlcmltZXRlclNwYWNpbmciLFNUWUxFX1BFUklNRVRFUl9TUEFDSU5HOiJwZXJpbWV0ZXJTcGFjaW5nIixTVFlMRV9TUEFDSU5HOiJzcGFjaW5nIixTVFlMRV9TUEFDSU5HX1RPUDoic3BhY2luZ1RvcCIsU1RZTEVfU1BBQ0lOR19MRUZUOiJzcGFjaW5nTGVmdCIsU1RZTEVfU1BBQ0lOR19CT1RUT006InNwYWNpbmdCb3R0b20iLFNUWUxFX1NQQUNJTkdfUklHSFQ6InNwYWNpbmdSaWdodCIsU1RZTEVfSE9SSVpPTlRBTDoiaG9yaXpvbnRhbCIsU1RZTEVfRElSRUNUSU9OOiJkaXJlY3Rpb24iLApTVFlMRV9BTkNIT1JfUE9JTlRfRElSRUNUSU9OOiJhbmNob3JQb2ludERpcmVjdGlvbiIsU1RZTEVfRUxCT1c6ImVsYm93IixTVFlMRV9GT05UQ09MT1I6ImZvbnRDb2xvciIsU1RZTEVfRk9OVEZBTUlMWToiZm9udEZhbWlseSIsU1RZTEVfRk9OVFNJWkU6ImZvbnRTaXplIixTVFlMRV9GT05UU1RZTEU6ImZvbnRTdHlsZSIsU1RZTEVfQVNQRUNUOiJhc3BlY3QiLFNUWUxFX0FVVE9TSVpFOiJhdXRvc2l6ZSIsU1RZTEVfRk9MREFCTEU6ImZvbGRhYmxlIixTVFlMRV9FRElUQUJMRToiZWRpdGFibGUiLFNUWUxFX0JBQ0tHUk9VTkRfT1VUTElORToiYmFja2dyb3VuZE91dGxpbmUiLFNUWUxFX0JFTkRBQkxFOiJiZW5kYWJsZSIsU1RZTEVfTU9WQUJMRToibW92YWJsZSIsU1RZTEVfUkVTSVpBQkxFOiJyZXNpemFibGUiLFNUWUxFX1JFU0laRV9XSURUSDoicmVzaXplV2lkdGgiLFNUWUxFX1JFU0laRV9IRUlHSFQ6InJlc2l6ZUhlaWdodCIsU1RZTEVfUk9UQVRBQkxFOiJyb3RhdGFibGUiLApTVFlMRV9DTE9ORUFCTEU6ImNsb25lYWJsZSIsU1RZTEVfREVMRVRBQkxFOiJkZWxldGFibGUiLFNUWUxFX1NIQVBFOiJzaGFwZSIsU1RZTEVfRURHRToiZWRnZVN0eWxlIixTVFlMRV9KRVRUWV9TSVpFOiJqZXR0eVNpemUiLFNUWUxFX1NPVVJDRV9KRVRUWV9TSVpFOiJzb3VyY2VKZXR0eVNpemUiLFNUWUxFX1RBUkdFVF9KRVRUWV9TSVpFOiJ0YXJnZXRKZXR0eVNpemUiLFNUWUxFX0xPT1A6Imxvb3BTdHlsZSIsU1RZTEVfT1JUSE9HT05BTF9MT09QOiJvcnRob2dvbmFsTG9vcCIsU1RZTEVfUk9VVElOR19DRU5URVJfWDoicm91dGluZ0NlbnRlclgiLFNUWUxFX1JPVVRJTkdfQ0VOVEVSX1k6InJvdXRpbmdDZW50ZXJZIixGT05UX0JPTEQ6MSxGT05UX0lUQUxJQzoyLEZPTlRfVU5ERVJMSU5FOjQsRk9OVF9TVFJJS0VUSFJPVUdIOjgsU0hBUEVfUkVDVEFOR0xFOiJyZWN0YW5nbGUiLFNIQVBFX0VMTElQU0U6ImVsbGlwc2UiLFNIQVBFX0RPVUJMRV9FTExJUFNFOiJkb3VibGVFbGxpcHNlIiwKU0hBUEVfUkhPTUJVUzoicmhvbWJ1cyIsU0hBUEVfTElORToibGluZSIsU0hBUEVfSU1BR0U6ImltYWdlIixTSEFQRV9BUlJPVzoiYXJyb3ciLFNIQVBFX0FSUk9XX0NPTk5FQ1RPUjoiYXJyb3dDb25uZWN0b3IiLFNIQVBFX0xBQkVMOiJsYWJlbCIsU0hBUEVfQ1lMSU5ERVI6ImN5bGluZGVyIixTSEFQRV9TV0lNTEFORToic3dpbWxhbmUiLFNIQVBFX0NPTk5FQ1RPUjoiY29ubmVjdG9yIixTSEFQRV9BQ1RPUjoiYWN0b3IiLFNIQVBFX0NMT1VEOiJjbG91ZCIsU0hBUEVfVFJJQU5HTEU6InRyaWFuZ2xlIixTSEFQRV9IRVhBR09OOiJoZXhhZ29uIixBUlJPV19DTEFTU0lDOiJjbGFzc2ljIixBUlJPV19DTEFTU0lDX1RISU46ImNsYXNzaWNUaGluIixBUlJPV19CTE9DSzoiYmxvY2siLEFSUk9XX0JMT0NLX1RISU46ImJsb2NrVGhpbiIsQVJST1dfT1BFTjoib3BlbiIsQVJST1dfT1BFTl9USElOOiJvcGVuVGhpbiIsQVJST1dfT1ZBTDoib3ZhbCIsQVJST1dfRElBTU9ORDoiZGlhbW9uZCIsCkFSUk9XX0RJQU1PTkRfVEhJTjoiZGlhbW9uZFRoaW4iLEFMSUdOX0xFRlQ6ImxlZnQiLEFMSUdOX0NFTlRFUjoiY2VudGVyIixBTElHTl9SSUdIVDoicmlnaHQiLEFMSUdOX1RPUDoidG9wIixBTElHTl9NSURETEU6Im1pZGRsZSIsQUxJR05fQk9UVE9NOiJib3R0b20iLERJUkVDVElPTl9OT1JUSDoibm9ydGgiLERJUkVDVElPTl9TT1VUSDoic291dGgiLERJUkVDVElPTl9FQVNUOiJlYXN0IixESVJFQ1RJT05fV0VTVDoid2VzdCIsVEVYVF9ESVJFQ1RJT05fREVGQVVMVDoiIixURVhUX0RJUkVDVElPTl9BVVRPOiJhdXRvIixURVhUX0RJUkVDVElPTl9MVFI6Imx0ciIsVEVYVF9ESVJFQ1RJT05fUlRMOiJydGwiLERJUkVDVElPTl9NQVNLX05PTkU6MCxESVJFQ1RJT05fTUFTS19XRVNUOjEsRElSRUNUSU9OX01BU0tfTk9SVEg6MixESVJFQ1RJT05fTUFTS19TT1VUSDo0LERJUkVDVElPTl9NQVNLX0VBU1Q6OCxESVJFQ1RJT05fTUFTS19BTEw6MTUsRUxCT1dfVkVSVElDQUw6InZlcnRpY2FsIiwKRUxCT1dfSE9SSVpPTlRBTDoiaG9yaXpvbnRhbCIsRURHRVNUWUxFX0VMQk9XOiJlbGJvd0VkZ2VTdHlsZSIsRURHRVNUWUxFX0VOVElUWV9SRUxBVElPTjoiZW50aXR5UmVsYXRpb25FZGdlU3R5bGUiLEVER0VTVFlMRV9MT09QOiJsb29wRWRnZVN0eWxlIixFREdFU1RZTEVfU0lERVRPU0lERToic2lkZVRvU2lkZUVkZ2VTdHlsZSIsRURHRVNUWUxFX1RPUFRPQk9UVE9NOiJ0b3BUb0JvdHRvbUVkZ2VTdHlsZSIsRURHRVNUWUxFX09SVEhPR09OQUw6Im9ydGhvZ29uYWxFZGdlU3R5bGUiLEVER0VTVFlMRV9TRUdNRU5UOiJzZWdtZW50RWRnZVN0eWxlIixQRVJJTUVURVJfRUxMSVBTRToiZWxsaXBzZVBlcmltZXRlciIsUEVSSU1FVEVSX1JFQ1RBTkdMRToicmVjdGFuZ2xlUGVyaW1ldGVyIixQRVJJTUVURVJfUkhPTUJVUzoicmhvbWJ1c1BlcmltZXRlciIsUEVSSU1FVEVSX0hFWEFHT046ImhleGFnb25QZXJpbWV0ZXIiLFBFUklNRVRFUl9UUklBTkdMRToidHJpYW5nbGVQZXJpbWV0ZXIifTsKZnVuY3Rpb24gbXhFdmVudE9iamVjdChhKXt0aGlzLm5hbWU9YTt0aGlzLnByb3BlcnRpZXM9W107Zm9yKHZhciBiPTE7Yjxhcmd1bWVudHMubGVuZ3RoO2IrPTIpbnVsbCE9YXJndW1lbnRzW2IrMV0mJih0aGlzLnByb3BlcnRpZXNbYXJndW1lbnRzW2JdXT1hcmd1bWVudHNbYisxXSl9bXhFdmVudE9iamVjdC5wcm90b3R5cGUubmFtZT1udWxsO214RXZlbnRPYmplY3QucHJvdG90eXBlLnByb3BlcnRpZXM9bnVsbDtteEV2ZW50T2JqZWN0LnByb3RvdHlwZS5jb25zdW1lZD0hMTtteEV2ZW50T2JqZWN0LnByb3RvdHlwZS5nZXROYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubmFtZX07bXhFdmVudE9iamVjdC5wcm90b3R5cGUuZ2V0UHJvcGVydGllcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnByb3BlcnRpZXN9O214RXZlbnRPYmplY3QucHJvdG90eXBlLmdldFByb3BlcnR5PWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnByb3BlcnRpZXNbYV19OwpteEV2ZW50T2JqZWN0LnByb3RvdHlwZS5pc0NvbnN1bWVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3VtZWR9O214RXZlbnRPYmplY3QucHJvdG90eXBlLmNvbnN1bWU9ZnVuY3Rpb24oKXt0aGlzLmNvbnN1bWVkPSEwfTtmdW5jdGlvbiBteE1vdXNlRXZlbnQoYSxiKXt0aGlzLmV2dD1hO3RoaXMuc291cmNlU3RhdGU9dGhpcy5zdGF0ZT1ifW14TW91c2VFdmVudC5wcm90b3R5cGUuY29uc3VtZWQ9ITE7bXhNb3VzZUV2ZW50LnByb3RvdHlwZS5ldnQ9bnVsbDtteE1vdXNlRXZlbnQucHJvdG90eXBlLmdyYXBoWD1udWxsO214TW91c2VFdmVudC5wcm90b3R5cGUuZ3JhcGhZPW51bGw7bXhNb3VzZUV2ZW50LnByb3RvdHlwZS5zdGF0ZT1udWxsO214TW91c2VFdmVudC5wcm90b3R5cGUuc291cmNlU3RhdGU9bnVsbDtteE1vdXNlRXZlbnQucHJvdG90eXBlLmdldEV2ZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXZ0fTsKbXhNb3VzZUV2ZW50LnByb3RvdHlwZS5nZXRTb3VyY2U9ZnVuY3Rpb24oKXtyZXR1cm4gbXhFdmVudC5nZXRTb3VyY2UodGhpcy5ldnQpfTtteE1vdXNlRXZlbnQucHJvdG90eXBlLmlzU291cmNlPWZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hP214VXRpbHMuaXNBbmNlc3Rvck5vZGUoYS5ub2RlLHRoaXMuZ2V0U291cmNlKCkpOiExfTtteE1vdXNlRXZlbnQucHJvdG90eXBlLmdldFg9ZnVuY3Rpb24oKXtyZXR1cm4gbXhFdmVudC5nZXRDbGllbnRYKHRoaXMuZ2V0RXZlbnQoKSl9O214TW91c2VFdmVudC5wcm90b3R5cGUuZ2V0WT1mdW5jdGlvbigpe3JldHVybiBteEV2ZW50LmdldENsaWVudFkodGhpcy5nZXRFdmVudCgpKX07bXhNb3VzZUV2ZW50LnByb3RvdHlwZS5nZXRHcmFwaFg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ncmFwaFh9O214TW91c2VFdmVudC5wcm90b3R5cGUuZ2V0R3JhcGhZPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ3JhcGhZfTsKbXhNb3VzZUV2ZW50LnByb3RvdHlwZS5nZXRTdGF0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YXRlfTtteE1vdXNlRXZlbnQucHJvdG90eXBlLmdldENlbGw9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldFN0YXRlKCk7cmV0dXJuIG51bGwhPWE/YS5jZWxsOm51bGx9O214TW91c2VFdmVudC5wcm90b3R5cGUuaXNQb3B1cFRyaWdnZXI9ZnVuY3Rpb24oKXtyZXR1cm4gbXhFdmVudC5pc1BvcHVwVHJpZ2dlcih0aGlzLmdldEV2ZW50KCkpfTtteE1vdXNlRXZlbnQucHJvdG90eXBlLmlzQ29uc3VtZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25zdW1lZH07Cm14TW91c2VFdmVudC5wcm90b3R5cGUuY29uc3VtZT1mdW5jdGlvbihhKXsobnVsbCE9YT9hOm51bGwhPXRoaXMuZXZ0LnRvdWNoZXN8fG14RXZlbnQuaXNNb3VzZUV2ZW50KHRoaXMuZXZ0KSkmJnRoaXMuZXZ0LnByZXZlbnREZWZhdWx0JiZ0aGlzLmV2dC5wcmV2ZW50RGVmYXVsdCgpO214Q2xpZW50LklTX0lFJiYodGhpcy5ldnQucmV0dXJuVmFsdWU9ITApO3RoaXMuY29uc3VtZWQ9ITB9O2Z1bmN0aW9uIG14RXZlbnRTb3VyY2UoYSl7dGhpcy5zZXRFdmVudFNvdXJjZShhKX1teEV2ZW50U291cmNlLnByb3RvdHlwZS5ldmVudExpc3RlbmVycz1udWxsO214RXZlbnRTb3VyY2UucHJvdG90eXBlLmV2ZW50c0VuYWJsZWQ9ITA7bXhFdmVudFNvdXJjZS5wcm90b3R5cGUuZXZlbnRTb3VyY2U9bnVsbDtteEV2ZW50U291cmNlLnByb3RvdHlwZS5pc0V2ZW50c0VuYWJsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ldmVudHNFbmFibGVkfTsKbXhFdmVudFNvdXJjZS5wcm90b3R5cGUuc2V0RXZlbnRzRW5hYmxlZD1mdW5jdGlvbihhKXt0aGlzLmV2ZW50c0VuYWJsZWQ9YX07bXhFdmVudFNvdXJjZS5wcm90b3R5cGUuZ2V0RXZlbnRTb3VyY2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ldmVudFNvdXJjZX07bXhFdmVudFNvdXJjZS5wcm90b3R5cGUuc2V0RXZlbnRTb3VyY2U9ZnVuY3Rpb24oYSl7dGhpcy5ldmVudFNvdXJjZT1hfTtteEV2ZW50U291cmNlLnByb3RvdHlwZS5hZGRMaXN0ZW5lcj1mdW5jdGlvbihhLGIpe251bGw9PXRoaXMuZXZlbnRMaXN0ZW5lcnMmJih0aGlzLmV2ZW50TGlzdGVuZXJzPVtdKTt0aGlzLmV2ZW50TGlzdGVuZXJzLnB1c2goYSk7dGhpcy5ldmVudExpc3RlbmVycy5wdXNoKGIpfTsKbXhFdmVudFNvdXJjZS5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXI9ZnVuY3Rpb24oYSl7aWYobnVsbCE9dGhpcy5ldmVudExpc3RlbmVycylmb3IodmFyIGI9MDtiPHRoaXMuZXZlbnRMaXN0ZW5lcnMubGVuZ3RoOyl0aGlzLmV2ZW50TGlzdGVuZXJzW2IrMV09PWE/dGhpcy5ldmVudExpc3RlbmVycy5zcGxpY2UoYiwyKTpiKz0yfTsKbXhFdmVudFNvdXJjZS5wcm90b3R5cGUuZmlyZUV2ZW50PWZ1bmN0aW9uKGEsYil7aWYobnVsbCE9dGhpcy5ldmVudExpc3RlbmVycyYmdGhpcy5pc0V2ZW50c0VuYWJsZWQoKSl7bnVsbD09YSYmKGE9bmV3IG14RXZlbnRPYmplY3QpO251bGw9PWImJihiPXRoaXMuZ2V0RXZlbnRTb3VyY2UoKSk7bnVsbD09YiYmKGI9dGhpcyk7Zm9yKHZhciBjPVtiLGFdLGQ9MDtkPHRoaXMuZXZlbnRMaXN0ZW5lcnMubGVuZ3RoO2QrPTIpe3ZhciBlPXRoaXMuZXZlbnRMaXN0ZW5lcnNbZF07bnVsbCE9ZSYmZSE9YS5nZXROYW1lKCl8fHRoaXMuZXZlbnRMaXN0ZW5lcnNbZCsxXS5hcHBseSh0aGlzLGMpfX19Owp2YXIgbXhFdmVudD17YWRkTGlzdGVuZXI6ZnVuY3Rpb24oKXtyZXR1cm4gd2luZG93LmFkZEV2ZW50TGlzdGVuZXI/ZnVuY3Rpb24oYSxiLGMpe2EuYWRkRXZlbnRMaXN0ZW5lcihiLGMsITEpO251bGw9PWEubXhMaXN0ZW5lckxpc3QmJihhLm14TGlzdGVuZXJMaXN0PVtdKTthLm14TGlzdGVuZXJMaXN0LnB1c2goe25hbWU6YixmOmN9KX06ZnVuY3Rpb24oYSxiLGMpe2EuYXR0YWNoRXZlbnQoIm9uIitiLGMpO251bGw9PWEubXhMaXN0ZW5lckxpc3QmJihhLm14TGlzdGVuZXJMaXN0PVtdKTthLm14TGlzdGVuZXJMaXN0LnB1c2goe25hbWU6YixmOmN9KX19KCkscmVtb3ZlTGlzdGVuZXI6ZnVuY3Rpb24oKXt2YXIgYT1mdW5jdGlvbihhLGMsZCl7aWYobnVsbCE9YS5teExpc3RlbmVyTGlzdCl7Yz1hLm14TGlzdGVuZXJMaXN0Lmxlbmd0aDtmb3IodmFyIGI9MDtiPGM7YisrKWlmKGEubXhMaXN0ZW5lckxpc3RbYl0uZj09ZCl7YS5teExpc3RlbmVyTGlzdC5zcGxpY2UoYiwxKTticmVha30wPT0KYS5teExpc3RlbmVyTGlzdC5sZW5ndGgmJihhLm14TGlzdGVuZXJMaXN0PW51bGwpfX07cmV0dXJuIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyP2Z1bmN0aW9uKGIsYyxkKXtiLnJlbW92ZUV2ZW50TGlzdGVuZXIoYyxkLCExKTthKGIsYyxkKX06ZnVuY3Rpb24oYixjLGQpe2IuZGV0YWNoRXZlbnQoIm9uIitjLGQpO2EoYixjLGQpfX0oKSxyZW1vdmVBbGxMaXN0ZW5lcnM6ZnVuY3Rpb24oYSl7dmFyIGI9YS5teExpc3RlbmVyTGlzdDtpZihudWxsIT1iKWZvcig7MDxiLmxlbmd0aDspe3ZhciBjPWJbMF07bXhFdmVudC5yZW1vdmVMaXN0ZW5lcihhLGMubmFtZSxjLmYpfX0sYWRkR2VzdHVyZUxpc3RlbmVyczpmdW5jdGlvbihhLGIsYyxkKXtudWxsIT1iJiZteEV2ZW50LmFkZExpc3RlbmVyKGEsbXhDbGllbnQuSVNfUE9JTlRFUj8icG9pbnRlcmRvd24iOiJtb3VzZWRvd24iLGIpO251bGwhPWMmJm14RXZlbnQuYWRkTGlzdGVuZXIoYSxteENsaWVudC5JU19QT0lOVEVSPyJwb2ludGVybW92ZSI6CiJtb3VzZW1vdmUiLGMpO251bGwhPWQmJm14RXZlbnQuYWRkTGlzdGVuZXIoYSxteENsaWVudC5JU19QT0lOVEVSPyJwb2ludGVydXAiOiJtb3VzZXVwIixkKTshbXhDbGllbnQuSVNfUE9JTlRFUiYmbXhDbGllbnQuSVNfVE9VQ0gmJihudWxsIT1iJiZteEV2ZW50LmFkZExpc3RlbmVyKGEsInRvdWNoc3RhcnQiLGIpLG51bGwhPWMmJm14RXZlbnQuYWRkTGlzdGVuZXIoYSwidG91Y2htb3ZlIixjKSxudWxsIT1kJiZteEV2ZW50LmFkZExpc3RlbmVyKGEsInRvdWNoZW5kIixkKSl9LHJlbW92ZUdlc3R1cmVMaXN0ZW5lcnM6ZnVuY3Rpb24oYSxiLGMsZCl7bnVsbCE9YiYmbXhFdmVudC5yZW1vdmVMaXN0ZW5lcihhLG14Q2xpZW50LklTX1BPSU5URVI/InBvaW50ZXJkb3duIjoibW91c2Vkb3duIixiKTtudWxsIT1jJiZteEV2ZW50LnJlbW92ZUxpc3RlbmVyKGEsbXhDbGllbnQuSVNfUE9JTlRFUj8icG9pbnRlcm1vdmUiOiJtb3VzZW1vdmUiLGMpO251bGwhPWQmJm14RXZlbnQucmVtb3ZlTGlzdGVuZXIoYSwKbXhDbGllbnQuSVNfUE9JTlRFUj8icG9pbnRlcnVwIjoibW91c2V1cCIsZCk7IW14Q2xpZW50LklTX1BPSU5URVImJm14Q2xpZW50LklTX1RPVUNIJiYobnVsbCE9YiYmbXhFdmVudC5yZW1vdmVMaXN0ZW5lcihhLCJ0b3VjaHN0YXJ0IixiKSxudWxsIT1jJiZteEV2ZW50LnJlbW92ZUxpc3RlbmVyKGEsInRvdWNobW92ZSIsYyksbnVsbCE9ZCYmbXhFdmVudC5yZW1vdmVMaXN0ZW5lcihhLCJ0b3VjaGVuZCIsZCkpfSxyZWRpcmVjdE1vdXNlRXZlbnRzOmZ1bmN0aW9uKGEsYixjLGQsZSxmLGcpe3ZhciBrPWZ1bmN0aW9uKGEpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBjP2MoYSk6Y307bXhFdmVudC5hZGRHZXN0dXJlTGlzdGVuZXJzKGEsZnVuY3Rpb24oYSl7bnVsbCE9ZD9kKGEpOm14RXZlbnQuaXNDb25zdW1lZChhKXx8Yi5maXJlTW91c2VFdmVudChteEV2ZW50Lk1PVVNFX0RPV04sbmV3IG14TW91c2VFdmVudChhLGsoYSkpKX0sZnVuY3Rpb24oYSl7bnVsbCE9ZT9lKGEpOm14RXZlbnQuaXNDb25zdW1lZChhKXx8CmIuZmlyZU1vdXNlRXZlbnQobXhFdmVudC5NT1VTRV9NT1ZFLG5ldyBteE1vdXNlRXZlbnQoYSxrKGEpKSl9LGZ1bmN0aW9uKGEpe251bGwhPWY/ZihhKTpteEV2ZW50LmlzQ29uc3VtZWQoYSl8fGIuZmlyZU1vdXNlRXZlbnQobXhFdmVudC5NT1VTRV9VUCxuZXcgbXhNb3VzZUV2ZW50KGEsayhhKSkpfSk7bXhFdmVudC5hZGRMaXN0ZW5lcihhLCJkYmxjbGljayIsZnVuY3Rpb24oYSl7aWYobnVsbCE9ZylnKGEpO2Vsc2UgaWYoIW14RXZlbnQuaXNDb25zdW1lZChhKSl7dmFyIGM9ayhhKTtiLmRibENsaWNrKGEsbnVsbCE9Yz9jLmNlbGw6bnVsbCl9fSl9LHJlbGVhc2U6ZnVuY3Rpb24oYSl7dHJ5e2lmKG51bGwhPWEpe214RXZlbnQucmVtb3ZlQWxsTGlzdGVuZXJzKGEpO3ZhciBiPWEuY2hpbGROb2RlcztpZihudWxsIT1iKXt2YXIgYz1iLmxlbmd0aDtmb3IoYT0wO2E8YzthKz0xKW14RXZlbnQucmVsZWFzZShiW2FdKX19fWNhdGNoKGQpe319LGFkZE1vdXNlV2hlZWxMaXN0ZW5lcjpmdW5jdGlvbihhLApiKXtpZihudWxsIT1hKXtiPW51bGwhPWI/Yjp3aW5kb3c7aWYobXhDbGllbnQuSVNfU0YmJiFteENsaWVudC5JU19UT1VDSCl7dmFyIGM9MTtteEV2ZW50LmFkZExpc3RlbmVyKGIsImdlc3R1cmVzdGFydCIsZnVuY3Rpb24oYSl7bXhFdmVudC5jb25zdW1lKGEpO2M9MX0pO214RXZlbnQuYWRkTGlzdGVuZXIoYiwiZ2VzdHVyZWNoYW5nZSIsZnVuY3Rpb24oYil7bXhFdmVudC5jb25zdW1lKGIpO3ZhciBkPWMtYi5zY2FsZTsuMjxNYXRoLmFicyhkKSYmKGEoYiwwPmQsITApLGM9Yi5zY2FsZSl9KTtteEV2ZW50LmFkZExpc3RlbmVyKGIsImdlc3R1cmVlbmQiLGZ1bmN0aW9uKGEpe214RXZlbnQuY29uc3VtZShhKX0pfW14RXZlbnQuYWRkTGlzdGVuZXIoYiwid2hlZWwiLGZ1bmN0aW9uKGIpe251bGw9PWImJihiPXdpbmRvdy5ldmVudCk7Yi5jdHJsS2V5JiZiLnByZXZlbnREZWZhdWx0KCk7KC41PE1hdGguYWJzKGIuZGVsdGFYKXx8LjU8TWF0aC5hYnMoYi5kZWx0YVkpKSYmYShiLDA9PQpiLmRlbHRhWT8wPC1iLmRlbHRhWDowPC1iLmRlbHRhWSl9KX19LGRpc2FibGVDb250ZXh0TWVudTpmdW5jdGlvbihhKXtteEV2ZW50LmFkZExpc3RlbmVyKGEsImNvbnRleHRtZW51IixmdW5jdGlvbihhKXthLnByZXZlbnREZWZhdWx0JiZhLnByZXZlbnREZWZhdWx0KCk7cmV0dXJuITF9KX0sZ2V0U291cmNlOmZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hLnNyY0VsZW1lbnQ/YS5zcmNFbGVtZW50OmEudGFyZ2V0fSxpc0NvbnN1bWVkOmZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hLmlzQ29uc3VtZWQmJmEuaXNDb25zdW1lZH0saXNUb3VjaEV2ZW50OmZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hLnBvaW50ZXJUeXBlPyJ0b3VjaCI9PWEucG9pbnRlclR5cGV8fGEucG9pbnRlclR5cGU9PT1hLk1TUE9JTlRFUl9UWVBFX1RPVUNIOm51bGwhPWEubW96SW5wdXRTb3VyY2U/NT09YS5tb3pJbnB1dFNvdXJjZTowPT1hLnR5cGUuaW5kZXhPZigidG91Y2giKX0saXNQZW5FdmVudDpmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9CmEucG9pbnRlclR5cGU/InBlbiI9PWEucG9pbnRlclR5cGV8fGEucG9pbnRlclR5cGU9PT1hLk1TUE9JTlRFUl9UWVBFX1BFTjpudWxsIT1hLm1veklucHV0U291cmNlPzI9PWEubW96SW5wdXRTb3VyY2U6MD09YS50eXBlLmluZGV4T2YoInBlbiIpfSxpc011bHRpVG91Y2hFdmVudDpmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YS50eXBlJiYwPT1hLnR5cGUuaW5kZXhPZigidG91Y2giKSYmbnVsbCE9YS50b3VjaGVzJiYxPGEudG91Y2hlcy5sZW5ndGh9LGlzTW91c2VFdmVudDpmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YS5wb2ludGVyVHlwZT8ibW91c2UiPT1hLnBvaW50ZXJUeXBlfHxhLnBvaW50ZXJUeXBlPT09YS5NU1BPSU5URVJfVFlQRV9NT1VTRTpudWxsIT1hLm1veklucHV0U291cmNlPzE9PWEubW96SW5wdXRTb3VyY2U6MD09YS50eXBlLmluZGV4T2YoIm1vdXNlIil9LGlzTGVmdE1vdXNlQnV0dG9uOmZ1bmN0aW9uKGEpe3JldHVybiJidXR0b25zImluIGEmJigibW91c2Vkb3duIj09CmEudHlwZXx8Im1vdXNlbW92ZSI9PWEudHlwZSk/MT09YS5idXR0b25zOiJ3aGljaCJpbiBhPzE9PT1hLndoaWNoOjE9PT1hLmJ1dHRvbn0saXNNaWRkbGVNb3VzZUJ1dHRvbjpmdW5jdGlvbihhKXtyZXR1cm4id2hpY2giaW4gYT8yPT09YS53aGljaDo0PT09YS5idXR0b259LGlzUmlnaHRNb3VzZUJ1dHRvbjpmdW5jdGlvbihhKXtyZXR1cm4id2hpY2giaW4gYT8zPT09YS53aGljaDoyPT09YS5idXR0b259LGlzUG9wdXBUcmlnZ2VyOmZ1bmN0aW9uKGEpe3JldHVybiBteEV2ZW50LmlzUmlnaHRNb3VzZUJ1dHRvbihhKXx8bXhDbGllbnQuSVNfTUFDJiZteEV2ZW50LmlzQ29udHJvbERvd24oYSkmJiFteEV2ZW50LmlzU2hpZnREb3duKGEpJiYhbXhFdmVudC5pc01ldGFEb3duKGEpJiYhbXhFdmVudC5pc0FsdERvd24oYSl9LGlzU2hpZnREb3duOmZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hP2Euc2hpZnRLZXk6ITF9LGlzQWx0RG93bjpmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YT8KYS5hbHRLZXk6ITF9LGlzQ29udHJvbERvd246ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPWE/YS5jdHJsS2V5OiExfSxpc01ldGFEb3duOmZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hP2EubWV0YUtleTohMX0sZ2V0TWFpbkV2ZW50OmZ1bmN0aW9uKGEpeyJ0b3VjaHN0YXJ0IiE9YS50eXBlJiYidG91Y2htb3ZlIiE9YS50eXBlfHxudWxsPT1hLnRvdWNoZXN8fG51bGw9PWEudG91Y2hlc1swXT8idG91Y2hlbmQiPT1hLnR5cGUmJm51bGwhPWEuY2hhbmdlZFRvdWNoZXMmJm51bGwhPWEuY2hhbmdlZFRvdWNoZXNbMF0mJihhPWEuY2hhbmdlZFRvdWNoZXNbMF0pOmE9YS50b3VjaGVzWzBdO3JldHVybiBhfSxnZXRDbGllbnRYOmZ1bmN0aW9uKGEpe3JldHVybiBteEV2ZW50LmdldE1haW5FdmVudChhKS5jbGllbnRYfSxnZXRDbGllbnRZOmZ1bmN0aW9uKGEpe3JldHVybiBteEV2ZW50LmdldE1haW5FdmVudChhKS5jbGllbnRZfSxjb25zdW1lOmZ1bmN0aW9uKGEsYixjKXtjPW51bGwhPQpjP2M6ITA7aWYobnVsbCE9Yj9iOjEpYS5wcmV2ZW50RGVmYXVsdD8oYyYmYS5zdG9wUHJvcGFnYXRpb24oKSxhLnByZXZlbnREZWZhdWx0KCkpOmMmJihhLmNhbmNlbEJ1YmJsZT0hMCk7YS5pc0NvbnN1bWVkPSEwO2EucHJldmVudERlZmF1bHR8fChhLnJldHVyblZhbHVlPSExKX0sTEFCRUxfSEFORExFOi0xLFJPVEFUSU9OX0hBTkRMRTotMixDVVNUT01fSEFORExFOi0xMDAsVklSVFVBTF9IQU5ETEU6LTFFNSxNT1VTRV9ET1dOOiJtb3VzZURvd24iLE1PVVNFX01PVkU6Im1vdXNlTW92ZSIsTU9VU0VfVVA6Im1vdXNlVXAiLEFDVElWQVRFOiJhY3RpdmF0ZSIsUkVTSVpFX1NUQVJUOiJyZXNpemVTdGFydCIsUkVTSVpFOiJyZXNpemUiLFJFU0laRV9FTkQ6InJlc2l6ZUVuZCIsTU9WRV9TVEFSVDoibW92ZVN0YXJ0IixNT1ZFOiJtb3ZlIixNT1ZFX0VORDoibW92ZUVuZCIsUEFOX1NUQVJUOiJwYW5TdGFydCIsUEFOOiJwYW4iLFBBTl9FTkQ6InBhbkVuZCIsTUlOSU1JWkU6Im1pbmltaXplIiwKTk9STUFMSVpFOiJub3JtYWxpemUiLE1BWElNSVpFOiJtYXhpbWl6ZSIsSElERToiaGlkZSIsU0hPVzoic2hvdyIsQ0xPU0U6ImNsb3NlIixERVNUUk9ZOiJkZXN0cm95IixSRUZSRVNIOiJyZWZyZXNoIixTSVpFOiJzaXplIixTRUxFQ1Q6InNlbGVjdCIsRklSRUQ6ImZpcmVkIixGSVJFX01PVVNFX0VWRU5UOiJmaXJlTW91c2VFdmVudCIsR0VTVFVSRToiZ2VzdHVyZSIsVEFQX0FORF9IT0xEOiJ0YXBBbmRIb2xkIixHRVQ6ImdldCIsUkVDRUlWRToicmVjZWl2ZSIsQ09OTkVDVDoiY29ubmVjdCIsRElTQ09OTkVDVDoiZGlzY29ubmVjdCIsU1VTUEVORDoic3VzcGVuZCIsUkVTVU1FOiJyZXN1bWUiLE1BUks6Im1hcmsiLFJPT1Q6InJvb3QiLFBPU1Q6InBvc3QiLE9QRU46Im9wZW4iLFNBVkU6InNhdmUiLEJFRk9SRV9BRERfVkVSVEVYOiJiZWZvcmVBZGRWZXJ0ZXgiLEFERF9WRVJURVg6ImFkZFZlcnRleCIsQUZURVJfQUREX1ZFUlRFWDoiYWZ0ZXJBZGRWZXJ0ZXgiLERPTkU6ImRvbmUiLApFWEVDVVRFOiJleGVjdXRlIixFWEVDVVRFRDoiZXhlY3V0ZWQiLEJFR0lOX1VQREFURToiYmVnaW5VcGRhdGUiLFNUQVJUX0VESVQ6InN0YXJ0RWRpdCIsRU5EX1VQREFURToiZW5kVXBkYXRlIixFTkRfRURJVDoiZW5kRWRpdCIsQkVGT1JFX1VORE86ImJlZm9yZVVuZG8iLFVORE86InVuZG8iLFJFRE86InJlZG8iLENIQU5HRToiY2hhbmdlIixOT1RJRlk6Im5vdGlmeSIsTEFZT1VUX0NFTExTOiJsYXlvdXRDZWxscyIsQ0xJQ0s6ImNsaWNrIixTQ0FMRToic2NhbGUiLFRSQU5TTEFURToidHJhbnNsYXRlIixTQ0FMRV9BTkRfVFJBTlNMQVRFOiJzY2FsZUFuZFRyYW5zbGF0ZSIsVVA6InVwIixET1dOOiJkb3duIixBREQ6ImFkZCIsUkVNT1ZFOiJyZW1vdmUiLENMRUFSOiJjbGVhciIsQUREX0NFTExTOiJhZGRDZWxscyIsQ0VMTFNfQURERUQ6ImNlbGxzQWRkZWQiLE1PVkVfQ0VMTFM6Im1vdmVDZWxscyIsQ0VMTFNfTU9WRUQ6ImNlbGxzTW92ZWQiLFJFU0laRV9DRUxMUzoicmVzaXplQ2VsbHMiLApDRUxMU19SRVNJWkVEOiJjZWxsc1Jlc2l6ZWQiLFRPR0dMRV9DRUxMUzoidG9nZ2xlQ2VsbHMiLENFTExTX1RPR0dMRUQ6ImNlbGxzVG9nZ2xlZCIsT1JERVJfQ0VMTFM6Im9yZGVyQ2VsbHMiLENFTExTX09SREVSRUQ6ImNlbGxzT3JkZXJlZCIsUkVNT1ZFX0NFTExTOiJyZW1vdmVDZWxscyIsQ0VMTFNfUkVNT1ZFRDoiY2VsbHNSZW1vdmVkIixHUk9VUF9DRUxMUzoiZ3JvdXBDZWxscyIsVU5HUk9VUF9DRUxMUzoidW5ncm91cENlbGxzIixSRU1PVkVfQ0VMTFNfRlJPTV9QQVJFTlQ6InJlbW92ZUNlbGxzRnJvbVBhcmVudCIsRk9MRF9DRUxMUzoiZm9sZENlbGxzIixDRUxMU19GT0xERUQ6ImNlbGxzRm9sZGVkIixBTElHTl9DRUxMUzoiYWxpZ25DZWxscyIsTEFCRUxfQ0hBTkdFRDoibGFiZWxDaGFuZ2VkIixDT05ORUNUX0NFTEw6ImNvbm5lY3RDZWxsIixDRUxMX0NPTk5FQ1RFRDoiY2VsbENvbm5lY3RlZCIsU1BMSVRfRURHRToic3BsaXRFZGdlIixGTElQX0VER0U6ImZsaXBFZGdlIiwKU1RBUlRfRURJVElORzoic3RhcnRFZGl0aW5nIixFRElUSU5HX1NUQVJURUQ6ImVkaXRpbmdTdGFydGVkIixFRElUSU5HX1NUT1BQRUQ6ImVkaXRpbmdTdG9wcGVkIixBRERfT1ZFUkxBWToiYWRkT3ZlcmxheSIsUkVNT1ZFX09WRVJMQVk6InJlbW92ZU92ZXJsYXkiLFVQREFURV9DRUxMX1NJWkU6InVwZGF0ZUNlbGxTaXplIixFU0NBUEU6ImVzY2FwZSIsRE9VQkxFX0NMSUNLOiJkb3VibGVDbGljayIsU1RBUlQ6InN0YXJ0IixSRVNFVDoicmVzZXQifTtmdW5jdGlvbiBteFhtbFJlcXVlc3QoYSxiLGMsZCxlLGYpe3RoaXMudXJsPWE7dGhpcy5wYXJhbXM9Yjt0aGlzLm1ldGhvZD1jfHwiUE9TVCI7dGhpcy5hc3luYz1udWxsIT1kP2Q6ITA7dGhpcy51c2VybmFtZT1lO3RoaXMucGFzc3dvcmQ9Zn1teFhtbFJlcXVlc3QucHJvdG90eXBlLnVybD1udWxsO214WG1sUmVxdWVzdC5wcm90b3R5cGUucGFyYW1zPW51bGw7bXhYbWxSZXF1ZXN0LnByb3RvdHlwZS5tZXRob2Q9bnVsbDsKbXhYbWxSZXF1ZXN0LnByb3RvdHlwZS5hc3luYz1udWxsO214WG1sUmVxdWVzdC5wcm90b3R5cGUuYmluYXJ5PSExO214WG1sUmVxdWVzdC5wcm90b3R5cGUud2l0aENyZWRlbnRpYWxzPSExO214WG1sUmVxdWVzdC5wcm90b3R5cGUudXNlcm5hbWU9bnVsbDtteFhtbFJlcXVlc3QucHJvdG90eXBlLnBhc3N3b3JkPW51bGw7bXhYbWxSZXF1ZXN0LnByb3RvdHlwZS5yZXF1ZXN0PW51bGw7bXhYbWxSZXF1ZXN0LnByb3RvdHlwZS5kZWNvZGVTaW11bGF0ZVZhbHVlcz0hMTtteFhtbFJlcXVlc3QucHJvdG90eXBlLmlzQmluYXJ5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYmluYXJ5fTtteFhtbFJlcXVlc3QucHJvdG90eXBlLnNldEJpbmFyeT1mdW5jdGlvbihhKXt0aGlzLmJpbmFyeT1hfTtteFhtbFJlcXVlc3QucHJvdG90eXBlLmdldFRleHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yZXF1ZXN0LnJlc3BvbnNlVGV4dH07Cm14WG1sUmVxdWVzdC5wcm90b3R5cGUuaXNSZWFkeT1mdW5jdGlvbigpe3JldHVybiA0PT10aGlzLnJlcXVlc3QucmVhZHlTdGF0ZX07bXhYbWxSZXF1ZXN0LnByb3RvdHlwZS5nZXREb2N1bWVudEVsZW1lbnQ9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldFhtbCgpO3JldHVybiBudWxsIT1hP2EuZG9jdW1lbnRFbGVtZW50Om51bGx9O214WG1sUmVxdWVzdC5wcm90b3R5cGUuZ2V0WG1sPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5yZXF1ZXN0LnJlc3BvbnNlWE1MO2lmKDk8PWRvY3VtZW50LmRvY3VtZW50TW9kZXx8bnVsbD09YXx8bnVsbD09YS5kb2N1bWVudEVsZW1lbnQpYT1teFV0aWxzLnBhcnNlWG1sKHRoaXMucmVxdWVzdC5yZXNwb25zZVRleHQpO3JldHVybiBhfTtteFhtbFJlcXVlc3QucHJvdG90eXBlLmdldFRleHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yZXF1ZXN0LnJlc3BvbnNlVGV4dH07Cm14WG1sUmVxdWVzdC5wcm90b3R5cGUuZ2V0U3RhdHVzPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPXRoaXMucmVxdWVzdD90aGlzLnJlcXVlc3Quc3RhdHVzOm51bGx9O214WG1sUmVxdWVzdC5wcm90b3R5cGUuY3JlYXRlPWZ1bmN0aW9uKCl7aWYod2luZG93LlhNTEh0dHBSZXF1ZXN0KXJldHVybiBmdW5jdGlvbigpe3ZhciBhPW5ldyBYTUxIdHRwUmVxdWVzdDt0aGlzLmlzQmluYXJ5KCkmJmEub3ZlcnJpZGVNaW1lVHlwZSYmYS5vdmVycmlkZU1pbWVUeXBlKCJ0ZXh0L3BsYWluOyBjaGFyc2V0PXgtdXNlci1kZWZpbmVkIik7cmV0dXJuIGF9O2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgQWN0aXZlWE9iamVjdClyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEFjdGl2ZVhPYmplY3QoIk1pY3Jvc29mdC5YTUxIVFRQIil9fSgpOwpteFhtbFJlcXVlc3QucHJvdG90eXBlLnNlbmQ9ZnVuY3Rpb24oYSxiLGMsZCl7dGhpcy5yZXF1ZXN0PXRoaXMuY3JlYXRlKCk7bnVsbCE9dGhpcy5yZXF1ZXN0JiYobnVsbCE9YSYmKHRoaXMucmVxdWVzdC5vbnJlYWR5c3RhdGVjaGFuZ2U9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt0aGlzLmlzUmVhZHkoKSYmKGEodGhpcyksdGhpcy5yZXF1ZXN0Lm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsKX0pKSx0aGlzLnJlcXVlc3Qub3Blbih0aGlzLm1ldGhvZCx0aGlzLnVybCx0aGlzLmFzeW5jLHRoaXMudXNlcm5hbWUsdGhpcy5wYXNzd29yZCksdGhpcy5zZXRSZXF1ZXN0SGVhZGVycyh0aGlzLnJlcXVlc3QsdGhpcy5wYXJhbXMpLHdpbmRvdy5YTUxIdHRwUmVxdWVzdCYmdGhpcy53aXRoQ3JlZGVudGlhbHMmJih0aGlzLnJlcXVlc3Qud2l0aENyZWRlbnRpYWxzPSJ0cnVlIiksIW14Q2xpZW50LklTX1FVSVJLUyYmKG51bGw9PWRvY3VtZW50LmRvY3VtZW50TW9kZXx8OTxkb2N1bWVudC5kb2N1bWVudE1vZGUpJiYKd2luZG93LlhNTEh0dHBSZXF1ZXN0JiZudWxsIT1jJiZudWxsIT1kJiYodGhpcy5yZXF1ZXN0LnRpbWVvdXQ9Yyx0aGlzLnJlcXVlc3Qub250aW1lb3V0PWQpLHRoaXMucmVxdWVzdC5zZW5kKHRoaXMucGFyYW1zKSl9O214WG1sUmVxdWVzdC5wcm90b3R5cGUuc2V0UmVxdWVzdEhlYWRlcnM9ZnVuY3Rpb24oYSxiKXtudWxsIT1iJiZhLnNldFJlcXVlc3RIZWFkZXIoIkNvbnRlbnQtVHlwZSIsImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIpfTsKbXhYbWxSZXF1ZXN0LnByb3RvdHlwZS5zaW11bGF0ZT1mdW5jdGlvbihhLGIpe2E9YXx8ZG9jdW1lbnQ7dmFyIGM9bnVsbDthPT1kb2N1bWVudCYmKGM9d2luZG93Lm9uYmVmb3JldW5sb2FkLHdpbmRvdy5vbmJlZm9yZXVubG9hZD1udWxsKTt2YXIgZD1hLmNyZWF0ZUVsZW1lbnQoImZvcm0iKTtkLnNldEF0dHJpYnV0ZSgibWV0aG9kIix0aGlzLm1ldGhvZCk7ZC5zZXRBdHRyaWJ1dGUoImFjdGlvbiIsdGhpcy51cmwpO251bGwhPWImJmQuc2V0QXR0cmlidXRlKCJ0YXJnZXQiLGIpO2Quc3R5bGUuZGlzcGxheT0ibm9uZSI7ZC5zdHlsZS52aXNpYmlsaXR5PSJoaWRkZW4iO2Zvcih2YXIgZT0wPHRoaXMucGFyYW1zLmluZGV4T2YoIiYiKT90aGlzLnBhcmFtcy5zcGxpdCgiJiIpOnRoaXMucGFyYW1zLnNwbGl0KCksZj0wO2Y8ZS5sZW5ndGg7ZisrKXt2YXIgZz1lW2ZdLmluZGV4T2YoIj0iKTtpZigwPGcpe3ZhciBrPWVbZl0uc3Vic3RyaW5nKDAsZyksZz1lW2ZdLnN1YnN0cmluZyhnKwoxKTt0aGlzLmRlY29kZVNpbXVsYXRlVmFsdWVzJiYoZz1kZWNvZGVVUklDb21wb25lbnQoZykpO3ZhciBsPWEuY3JlYXRlRWxlbWVudCgidGV4dGFyZWEiKTtsLnNldEF0dHJpYnV0ZSgid3JhcCIsIm9mZiIpO2wuc2V0QXR0cmlidXRlKCJuYW1lIixrKTtteFV0aWxzLndyaXRlKGwsZyk7ZC5hcHBlbmRDaGlsZChsKX19YS5ib2R5LmFwcGVuZENoaWxkKGQpO2Quc3VibWl0KCk7bnVsbCE9ZC5wYXJlbnROb2RlJiZkLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZCk7bnVsbCE9YyYmKHdpbmRvdy5vbmJlZm9yZXVubG9hZD1jKX07CnZhciBteENsaXBib2FyZD17U1RFUFNJWkU6MTAsaW5zZXJ0Q291bnQ6MSxjZWxsczpudWxsLHNldENlbGxzOmZ1bmN0aW9uKGEpe214Q2xpcGJvYXJkLmNlbGxzPWF9LGdldENlbGxzOmZ1bmN0aW9uKCl7cmV0dXJuIG14Q2xpcGJvYXJkLmNlbGxzfSxpc0VtcHR5OmZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PW14Q2xpcGJvYXJkLmdldENlbGxzKCl9LGN1dDpmdW5jdGlvbihhLGIpe2I9bXhDbGlwYm9hcmQuY29weShhLGIpO214Q2xpcGJvYXJkLmluc2VydENvdW50PTA7bXhDbGlwYm9hcmQucmVtb3ZlQ2VsbHMoYSxiKTtyZXR1cm4gYn0scmVtb3ZlQ2VsbHM6ZnVuY3Rpb24oYSxiKXthLnJlbW92ZUNlbGxzKGIpfSxjb3B5OmZ1bmN0aW9uKGEsYil7Yj1ifHxhLmdldFNlbGVjdGlvbkNlbGxzKCk7dmFyIGM9YS5nZXRFeHBvcnRhYmxlQ2VsbHMoYS5tb2RlbC5nZXRUb3Btb3N0Q2VsbHMoYikpO214Q2xpcGJvYXJkLmluc2VydENvdW50PTE7bXhDbGlwYm9hcmQuc2V0Q2VsbHMoYS5jbG9uZUNlbGxzKGMpKTsKcmV0dXJuIGN9LHBhc3RlOmZ1bmN0aW9uKGEpe3ZhciBiPW51bGw7aWYoIW14Q2xpcGJvYXJkLmlzRW1wdHkoKSl7dmFyIGI9YS5nZXRJbXBvcnRhYmxlQ2VsbHMobXhDbGlwYm9hcmQuZ2V0Q2VsbHMoKSksYz1teENsaXBib2FyZC5pbnNlcnRDb3VudCpteENsaXBib2FyZC5TVEVQU0laRSxkPWEuZ2V0RGVmYXVsdFBhcmVudCgpLGI9YS5pbXBvcnRDZWxscyhiLGMsYyxkKTtteENsaXBib2FyZC5pbnNlcnRDb3VudCsrO2Euc2V0U2VsZWN0aW9uQ2VsbHMoYil9cmV0dXJuIGJ9fTsKZnVuY3Rpb24gbXhXaW5kb3coYSxiLGMsZCxlLGYsZyxrLGwsbSl7bnVsbCE9YiYmKGc9bnVsbCE9Zz9nOiEwLHRoaXMuY29udGVudD1iLHRoaXMuaW5pdChjLGQsZSxmLG0pLHRoaXMuaW5zdGFsbE1heGltaXplSGFuZGxlcigpLHRoaXMuaW5zdGFsbE1pbmltaXplSGFuZGxlcigpLHRoaXMuaW5zdGFsbENsb3NlSGFuZGxlcigpLHRoaXMuc2V0TWluaW1pemFibGUoZyksdGhpcy5zZXRUaXRsZShhKSwobnVsbD09a3x8aykmJnRoaXMuaW5zdGFsbE1vdmVIYW5kbGVyKCksbnVsbCE9bCYmbnVsbCE9bC5wYXJlbnROb2RlP2wucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQodGhpcy5kaXYsbCk6ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLmRpdikpfW14V2luZG93LnByb3RvdHlwZT1uZXcgbXhFdmVudFNvdXJjZTtteFdpbmRvdy5wcm90b3R5cGUuY29uc3RydWN0b3I9bXhXaW5kb3c7bXhXaW5kb3cucHJvdG90eXBlLmNsb3NlSW1hZ2U9bXhDbGllbnQuaW1hZ2VCYXNlUGF0aCsiL2Nsb3NlLmdpZiI7Cm14V2luZG93LnByb3RvdHlwZS5taW5pbWl6ZUltYWdlPW14Q2xpZW50LmltYWdlQmFzZVBhdGgrIi9taW5pbWl6ZS5naWYiO214V2luZG93LnByb3RvdHlwZS5ub3JtYWxpemVJbWFnZT1teENsaWVudC5pbWFnZUJhc2VQYXRoKyIvbm9ybWFsaXplLmdpZiI7bXhXaW5kb3cucHJvdG90eXBlLm1heGltaXplSW1hZ2U9bXhDbGllbnQuaW1hZ2VCYXNlUGF0aCsiL21heGltaXplLmdpZiI7bXhXaW5kb3cucHJvdG90eXBlLnJlc2l6ZUltYWdlPW14Q2xpZW50LmltYWdlQmFzZVBhdGgrIi9yZXNpemUuZ2lmIjtteFdpbmRvdy5wcm90b3R5cGUudmlzaWJsZT0hMTtteFdpbmRvdy5wcm90b3R5cGUubWluaW11bVNpemU9bmV3IG14UmVjdGFuZ2xlKDAsMCw1MCw0MCk7bXhXaW5kb3cucHJvdG90eXBlLmRlc3Ryb3lPbkNsb3NlPSEwOwpteFdpbmRvdy5wcm90b3R5cGUuY29udGVudEhlaWdodENvcnJlY3Rpb249OD09ZG9jdW1lbnQuZG9jdW1lbnRNb2RlfHw3PT1kb2N1bWVudC5kb2N1bWVudE1vZGU/NjoyO214V2luZG93LnByb3RvdHlwZS50aXRsZT1udWxsO214V2luZG93LnByb3RvdHlwZS5jb250ZW50PW51bGw7Cm14V2luZG93LnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKGEsYixjLGQsZSl7ZT1udWxsIT1lP2U6Im14V2luZG93Ijt0aGlzLmRpdj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTt0aGlzLmRpdi5jbGFzc05hbWU9ZTt0aGlzLmRpdi5zdHlsZS5sZWZ0PWErInB4Ijt0aGlzLmRpdi5zdHlsZS50b3A9YisicHgiO3RoaXMudGFibGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGFibGUiKTt0aGlzLnRhYmxlLmNsYXNzTmFtZT1lO214Q2xpZW50LklTX1BPSU5URVImJih0aGlzLmRpdi5zdHlsZS50b3VjaEFjdGlvbj0ibm9uZSIpO251bGwhPWMmJihteENsaWVudC5JU19RVUlSS1N8fCh0aGlzLmRpdi5zdHlsZS53aWR0aD1jKyJweCIpLHRoaXMudGFibGUuc3R5bGUud2lkdGg9YysicHgiKTtudWxsIT1kJiYobXhDbGllbnQuSVNfUVVJUktTfHwodGhpcy5kaXYuc3R5bGUuaGVpZ2h0PWQrInB4IiksdGhpcy50YWJsZS5zdHlsZS5oZWlnaHQ9ZCsicHgiKTthPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRib2R5Iik7CmI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidHIiKTt0aGlzLnRpdGxlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRkIik7dGhpcy50aXRsZS5jbGFzc05hbWU9ZSsiVGl0bGUiO3RoaXMuYnV0dG9ucz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTt0aGlzLmJ1dHRvbnMuc3R5bGUucG9zaXRpb249ImFic29sdXRlIjt0aGlzLmJ1dHRvbnMuc3R5bGUuZGlzcGxheT0iaW5saW5lLWJsb2NrIjt0aGlzLmJ1dHRvbnMuc3R5bGUucmlnaHQ9IjRweCI7dGhpcy5idXR0b25zLnN0eWxlLnRvcD0iNXB4Ijt0aGlzLnRpdGxlLmFwcGVuZENoaWxkKHRoaXMuYnV0dG9ucyk7Yi5hcHBlbmRDaGlsZCh0aGlzLnRpdGxlKTthLmFwcGVuZENoaWxkKGIpO2I9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidHIiKTt0aGlzLnRkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRkIik7dGhpcy50ZC5jbGFzc05hbWU9ZSsiUGFuZSI7Nz09ZG9jdW1lbnQuZG9jdW1lbnRNb2RlJiYodGhpcy50ZC5zdHlsZS5oZWlnaHQ9CiIxMDAlIik7dGhpcy5jb250ZW50V3JhcHBlcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTt0aGlzLmNvbnRlbnRXcmFwcGVyLmNsYXNzTmFtZT1lKyJQYW5lIjt0aGlzLmNvbnRlbnRXcmFwcGVyLnN0eWxlLndpZHRoPSIxMDAlIjt0aGlzLmNvbnRlbnRXcmFwcGVyLmFwcGVuZENoaWxkKHRoaXMuY29udGVudCk7aWYobXhDbGllbnQuSVNfUVVJUktTfHwiRElWIiE9dGhpcy5jb250ZW50Lm5vZGVOYW1lLnRvVXBwZXJDYXNlKCkpdGhpcy5jb250ZW50V3JhcHBlci5zdHlsZS5oZWlnaHQ9IjEwMCUiO3RoaXMudGQuYXBwZW5kQ2hpbGQodGhpcy5jb250ZW50V3JhcHBlcik7Yi5hcHBlbmRDaGlsZCh0aGlzLnRkKTthLmFwcGVuZENoaWxkKGIpO3RoaXMudGFibGUuYXBwZW5kQ2hpbGQoYSk7dGhpcy5kaXYuYXBwZW5kQ2hpbGQodGhpcy50YWJsZSk7ZT1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXt0aGlzLmFjdGl2YXRlKCl9KTtteEV2ZW50LmFkZEdlc3R1cmVMaXN0ZW5lcnModGhpcy50aXRsZSwKZSk7bXhFdmVudC5hZGRHZXN0dXJlTGlzdGVuZXJzKHRoaXMudGFibGUsZSk7dGhpcy5oaWRlKCl9O214V2luZG93LnByb3RvdHlwZS5zZXRUaXRsZT1mdW5jdGlvbihhKXtmb3IodmFyIGI9dGhpcy50aXRsZS5maXJzdENoaWxkO251bGwhPWI7KXt2YXIgYz1iLm5leHRTaWJsaW5nO2Iubm9kZVR5cGU9PW14Q29uc3RhbnRzLk5PREVUWVBFX1RFWFQmJmIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChiKTtiPWN9bXhVdGlscy53cml0ZSh0aGlzLnRpdGxlLGF8fCIiKTt0aGlzLnRpdGxlLmFwcGVuZENoaWxkKHRoaXMuYnV0dG9ucyl9O214V2luZG93LnByb3RvdHlwZS5zZXRTY3JvbGxhYmxlPWZ1bmN0aW9uKGEpe2lmKG51bGw9PW5hdmlnYXRvci51c2VyQWdlbnR8fDA+bmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJQcmVzdG8vMi41IikpdGhpcy5jb250ZW50V3JhcHBlci5zdHlsZS5vdmVyZmxvdz1hPyJhdXRvIjoiaGlkZGVuIn07Cm14V2luZG93LnByb3RvdHlwZS5hY3RpdmF0ZT1mdW5jdGlvbigpe2lmKG14V2luZG93LmFjdGl2ZVdpbmRvdyE9dGhpcyl7dmFyIGE9bXhVdGlscy5nZXRDdXJyZW50U3R5bGUodGhpcy5nZXRFbGVtZW50KCkpLGE9bnVsbCE9YT9hLnpJbmRleDozO2lmKG14V2luZG93LmFjdGl2ZVdpbmRvdyl7dmFyIGI9bXhXaW5kb3cuYWN0aXZlV2luZG93LmdldEVsZW1lbnQoKTtudWxsIT1iJiZudWxsIT1iLnN0eWxlJiYoYi5zdHlsZS56SW5kZXg9YSl9Yj1teFdpbmRvdy5hY3RpdmVXaW5kb3c7dGhpcy5nZXRFbGVtZW50KCkuc3R5bGUuekluZGV4PXBhcnNlSW50KGEpKzE7bXhXaW5kb3cuYWN0aXZlV2luZG93PXRoaXM7dGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5BQ1RJVkFURSwicHJldmlvdXNXaW5kb3ciLGIpKX19O214V2luZG93LnByb3RvdHlwZS5nZXRFbGVtZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGl2fTsKbXhXaW5kb3cucHJvdG90eXBlLmZpdD1mdW5jdGlvbigpe214VXRpbHMuZml0KHRoaXMuZGl2KX07bXhXaW5kb3cucHJvdG90eXBlLmlzUmVzaXphYmxlPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPXRoaXMucmVzaXplPyJub25lIiE9dGhpcy5yZXNpemUuc3R5bGUuZGlzcGxheTohMX07Cm14V2luZG93LnByb3RvdHlwZS5zZXRSZXNpemFibGU9ZnVuY3Rpb24oYSl7aWYoYSlpZihudWxsPT10aGlzLnJlc2l6ZSl7dGhpcy5yZXNpemU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW1nIik7dGhpcy5yZXNpemUuc3R5bGUucG9zaXRpb249ImFic29sdXRlIjt0aGlzLnJlc2l6ZS5zdHlsZS5ib3R0b209IjJweCI7dGhpcy5yZXNpemUuc3R5bGUucmlnaHQ9IjJweCI7dGhpcy5yZXNpemUuc2V0QXR0cmlidXRlKCJzcmMiLHRoaXMucmVzaXplSW1hZ2UpO3RoaXMucmVzaXplLnN0eWxlLmN1cnNvcj0ibnctcmVzaXplIjt2YXIgYj1udWxsLGM9bnVsbCxkPW51bGwsZT1udWxsO2E9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7dGhpcy5hY3RpdmF0ZSgpO2I9bXhFdmVudC5nZXRDbGllbnRYKGEpO2M9bXhFdmVudC5nZXRDbGllbnRZKGEpO2Q9dGhpcy5kaXYub2Zmc2V0V2lkdGg7ZT10aGlzLmRpdi5vZmZzZXRIZWlnaHQ7bXhFdmVudC5hZGRHZXN0dXJlTGlzdGVuZXJzKGRvY3VtZW50LApudWxsLGYsZyk7dGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5SRVNJWkVfU1RBUlQsImV2ZW50IixhKSk7bXhFdmVudC5jb25zdW1lKGEpfSk7dmFyIGY9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7aWYobnVsbCE9YiYmbnVsbCE9Yyl7dmFyIGY9bXhFdmVudC5nZXRDbGllbnRYKGEpLWIsZz1teEV2ZW50LmdldENsaWVudFkoYSktYzt0aGlzLnNldFNpemUoZCtmLGUrZyk7dGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5SRVNJWkUsImV2ZW50IixhKSk7bXhFdmVudC5jb25zdW1lKGEpfX0pLGc9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7bnVsbCE9YiYmbnVsbCE9YyYmKGM9Yj1udWxsLG14RXZlbnQucmVtb3ZlR2VzdHVyZUxpc3RlbmVycyhkb2N1bWVudCxudWxsLGYsZyksdGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5SRVNJWkVfRU5ELCJldmVudCIsYSkpLG14RXZlbnQuY29uc3VtZShhKSl9KTsKbXhFdmVudC5hZGRHZXN0dXJlTGlzdGVuZXJzKHRoaXMucmVzaXplLGEsZixnKTt0aGlzLmRpdi5hcHBlbmRDaGlsZCh0aGlzLnJlc2l6ZSl9ZWxzZSB0aGlzLnJlc2l6ZS5zdHlsZS5kaXNwbGF5PSJpbmxpbmUiO2Vsc2UgbnVsbCE9dGhpcy5yZXNpemUmJih0aGlzLnJlc2l6ZS5zdHlsZS5kaXNwbGF5PSJub25lIil9OwpteFdpbmRvdy5wcm90b3R5cGUuc2V0U2l6ZT1mdW5jdGlvbihhLGIpe2E9TWF0aC5tYXgodGhpcy5taW5pbXVtU2l6ZS53aWR0aCxhKTtiPU1hdGgubWF4KHRoaXMubWluaW11bVNpemUuaGVpZ2h0LGIpO214Q2xpZW50LklTX1FVSVJLU3x8KHRoaXMuZGl2LnN0eWxlLndpZHRoPWErInB4Iix0aGlzLmRpdi5zdHlsZS5oZWlnaHQ9YisicHgiKTt0aGlzLnRhYmxlLnN0eWxlLndpZHRoPWErInB4Ijt0aGlzLnRhYmxlLnN0eWxlLmhlaWdodD1iKyJweCI7bXhDbGllbnQuSVNfUVVJUktTfHwodGhpcy5jb250ZW50V3JhcHBlci5zdHlsZS5oZWlnaHQ9dGhpcy5kaXYub2Zmc2V0SGVpZ2h0LXRoaXMudGl0bGUub2Zmc2V0SGVpZ2h0LXRoaXMuY29udGVudEhlaWdodENvcnJlY3Rpb24rInB4Iil9O214V2luZG93LnByb3RvdHlwZS5zZXRNaW5pbWl6YWJsZT1mdW5jdGlvbihhKXt0aGlzLm1pbmltaXplLnN0eWxlLmRpc3BsYXk9YT8iIjoibm9uZSJ9OwpteFdpbmRvdy5wcm90b3R5cGUuZ2V0TWluaW11bVNpemU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG14UmVjdGFuZ2xlKDAsMCwwLHRoaXMudGl0bGUub2Zmc2V0SGVpZ2h0KX07Cm14V2luZG93LnByb3RvdHlwZS5pbnN0YWxsTWluaW1pemVIYW5kbGVyPWZ1bmN0aW9uKCl7dGhpcy5taW5pbWl6ZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbWciKTt0aGlzLm1pbmltaXplLnNldEF0dHJpYnV0ZSgic3JjIix0aGlzLm1pbmltaXplSW1hZ2UpO3RoaXMubWluaW1pemUuc2V0QXR0cmlidXRlKCJ0aXRsZSIsIk1pbmltaXplIik7dGhpcy5taW5pbWl6ZS5zdHlsZS5jdXJzb3I9InBvaW50ZXIiO3RoaXMubWluaW1pemUuc3R5bGUubWFyZ2luTGVmdD0iMnB4Ijt0aGlzLm1pbmltaXplLnN0eWxlLmRpc3BsYXk9Im5vbmUiO3RoaXMuYnV0dG9ucy5hcHBlbmRDaGlsZCh0aGlzLm1pbmltaXplKTt2YXIgYT0hMSxiPW51bGwsYz1udWxsLGQ9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oZCl7dGhpcy5hY3RpdmF0ZSgpO2lmKGEpYT0hMSx0aGlzLm1pbmltaXplLnNldEF0dHJpYnV0ZSgic3JjIix0aGlzLm1pbmltaXplSW1hZ2UpLHRoaXMubWluaW1pemUuc2V0QXR0cmlidXRlKCJ0aXRsZSIsCiJNaW5pbWl6ZSIpLHRoaXMuY29udGVudFdyYXBwZXIuc3R5bGUuZGlzcGxheT0iIix0aGlzLm1heGltaXplLnN0eWxlLmRpc3BsYXk9YixteENsaWVudC5JU19RVUlSS1N8fCh0aGlzLmRpdi5zdHlsZS5oZWlnaHQ9YyksdGhpcy50YWJsZS5zdHlsZS5oZWlnaHQ9YyxudWxsIT10aGlzLnJlc2l6ZSYmKHRoaXMucmVzaXplLnN0eWxlLnZpc2liaWxpdHk9IiIpLHRoaXMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KG14RXZlbnQuTk9STUFMSVpFLCJldmVudCIsZCkpO2Vsc2V7YT0hMDt0aGlzLm1pbmltaXplLnNldEF0dHJpYnV0ZSgic3JjIix0aGlzLm5vcm1hbGl6ZUltYWdlKTt0aGlzLm1pbmltaXplLnNldEF0dHJpYnV0ZSgidGl0bGUiLCJOb3JtYWxpemUiKTt0aGlzLmNvbnRlbnRXcmFwcGVyLnN0eWxlLmRpc3BsYXk9Im5vbmUiO2I9dGhpcy5tYXhpbWl6ZS5zdHlsZS5kaXNwbGF5O3RoaXMubWF4aW1pemUuc3R5bGUuZGlzcGxheT0ibm9uZSI7Yz10aGlzLnRhYmxlLnN0eWxlLmhlaWdodDsKdmFyIGU9dGhpcy5nZXRNaW5pbXVtU2l6ZSgpOzA8ZS5oZWlnaHQmJihteENsaWVudC5JU19RVUlSS1N8fCh0aGlzLmRpdi5zdHlsZS5oZWlnaHQ9ZS5oZWlnaHQrInB4IiksdGhpcy50YWJsZS5zdHlsZS5oZWlnaHQ9ZS5oZWlnaHQrInB4Iik7MDxlLndpZHRoJiYobXhDbGllbnQuSVNfUVVJUktTfHwodGhpcy5kaXYuc3R5bGUud2lkdGg9ZS53aWR0aCsicHgiKSx0aGlzLnRhYmxlLnN0eWxlLndpZHRoPWUud2lkdGgrInB4Iik7bnVsbCE9dGhpcy5yZXNpemUmJih0aGlzLnJlc2l6ZS5zdHlsZS52aXNpYmlsaXR5PSJoaWRkZW4iKTt0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50Lk1JTklNSVpFLCJldmVudCIsZCkpfW14RXZlbnQuY29uc3VtZShkKX0pO214RXZlbnQuYWRkR2VzdHVyZUxpc3RlbmVycyh0aGlzLm1pbmltaXplLGQpfTsKbXhXaW5kb3cucHJvdG90eXBlLnNldE1heGltaXphYmxlPWZ1bmN0aW9uKGEpe3RoaXMubWF4aW1pemUuc3R5bGUuZGlzcGxheT1hPyIiOiJub25lIn07Cm14V2luZG93LnByb3RvdHlwZS5pbnN0YWxsTWF4aW1pemVIYW5kbGVyPWZ1bmN0aW9uKCl7dGhpcy5tYXhpbWl6ZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbWciKTt0aGlzLm1heGltaXplLnNldEF0dHJpYnV0ZSgic3JjIix0aGlzLm1heGltaXplSW1hZ2UpO3RoaXMubWF4aW1pemUuc2V0QXR0cmlidXRlKCJ0aXRsZSIsIk1heGltaXplIik7dGhpcy5tYXhpbWl6ZS5zdHlsZS5jdXJzb3I9ImRlZmF1bHQiO3RoaXMubWF4aW1pemUuc3R5bGUubWFyZ2luTGVmdD0iMnB4Ijt0aGlzLm1heGltaXplLnN0eWxlLmN1cnNvcj0icG9pbnRlciI7dGhpcy5tYXhpbWl6ZS5zdHlsZS5kaXNwbGF5PSJub25lIjt0aGlzLmJ1dHRvbnMuYXBwZW5kQ2hpbGQodGhpcy5tYXhpbWl6ZSk7dmFyIGE9ITEsYj1udWxsLGM9bnVsbCxkPW51bGwsZT1udWxsLGY9bnVsbCxnPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGcpe3RoaXMuYWN0aXZhdGUoKTtpZigibm9uZSIhPXRoaXMubWF4aW1pemUuc3R5bGUuZGlzcGxheSl7aWYoYSlhPQohMSx0aGlzLm1heGltaXplLnNldEF0dHJpYnV0ZSgic3JjIix0aGlzLm1heGltaXplSW1hZ2UpLHRoaXMubWF4aW1pemUuc2V0QXR0cmlidXRlKCJ0aXRsZSIsIk1heGltaXplIiksdGhpcy5jb250ZW50V3JhcHBlci5zdHlsZS5kaXNwbGF5PSIiLHRoaXMubWluaW1pemUuc3R5bGUuZGlzcGxheT1mLHRoaXMuZGl2LnN0eWxlLmxlZnQ9YisicHgiLHRoaXMuZGl2LnN0eWxlLnRvcD1jKyJweCIsbXhDbGllbnQuSVNfUVVJUktTfHwodGhpcy5kaXYuc3R5bGUuaGVpZ2h0PWQsdGhpcy5kaXYuc3R5bGUud2lkdGg9ZSxrPW14VXRpbHMuZ2V0Q3VycmVudFN0eWxlKHRoaXMuY29udGVudFdyYXBwZXIpLCJhdXRvIiE9ay5vdmVyZmxvdyYmbnVsbD09dGhpcy5yZXNpemUpfHwodGhpcy5jb250ZW50V3JhcHBlci5zdHlsZS5oZWlnaHQ9dGhpcy5kaXYub2Zmc2V0SGVpZ2h0LXRoaXMudGl0bGUub2Zmc2V0SGVpZ2h0LXRoaXMuY29udGVudEhlaWdodENvcnJlY3Rpb24rInB4IiksdGhpcy50YWJsZS5zdHlsZS5oZWlnaHQ9CmQsdGhpcy50YWJsZS5zdHlsZS53aWR0aD1lLG51bGwhPXRoaXMucmVzaXplJiYodGhpcy5yZXNpemUuc3R5bGUudmlzaWJpbGl0eT0iIiksdGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5OT1JNQUxJWkUsImV2ZW50IixnKSk7ZWxzZXthPSEwO3RoaXMubWF4aW1pemUuc2V0QXR0cmlidXRlKCJzcmMiLHRoaXMubm9ybWFsaXplSW1hZ2UpO3RoaXMubWF4aW1pemUuc2V0QXR0cmlidXRlKCJ0aXRsZSIsIk5vcm1hbGl6ZSIpO3RoaXMuY29udGVudFdyYXBwZXIuc3R5bGUuZGlzcGxheT0iIjtmPXRoaXMubWluaW1pemUuc3R5bGUuZGlzcGxheTt0aGlzLm1pbmltaXplLnN0eWxlLmRpc3BsYXk9Im5vbmUiO2I9cGFyc2VJbnQodGhpcy5kaXYuc3R5bGUubGVmdCk7Yz1wYXJzZUludCh0aGlzLmRpdi5zdHlsZS50b3ApO2Q9dGhpcy50YWJsZS5zdHlsZS5oZWlnaHQ7ZT10aGlzLnRhYmxlLnN0eWxlLndpZHRoO3RoaXMuZGl2LnN0eWxlLmxlZnQ9IjBweCI7dGhpcy5kaXYuc3R5bGUudG9wPQoiMHB4IjtrPU1hdGgubWF4KGRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0fHwwLGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHR8fDApO214Q2xpZW50LklTX1FVSVJLU3x8KHRoaXMuZGl2LnN0eWxlLndpZHRoPWRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGgtMisicHgiLHRoaXMuZGl2LnN0eWxlLmhlaWdodD1rLTIrInB4Iik7dGhpcy50YWJsZS5zdHlsZS53aWR0aD1kb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoLTIrInB4Ijt0aGlzLnRhYmxlLnN0eWxlLmhlaWdodD1rLTIrInB4IjtudWxsIT10aGlzLnJlc2l6ZSYmKHRoaXMucmVzaXplLnN0eWxlLnZpc2liaWxpdHk9ImhpZGRlbiIpO2lmKCFteENsaWVudC5JU19RVUlSS1Mpe3ZhciBrPW14VXRpbHMuZ2V0Q3VycmVudFN0eWxlKHRoaXMuY29udGVudFdyYXBwZXIpO2lmKCJhdXRvIj09ay5vdmVyZmxvd3x8bnVsbCE9dGhpcy5yZXNpemUpdGhpcy5jb250ZW50V3JhcHBlci5zdHlsZS5oZWlnaHQ9dGhpcy5kaXYub2Zmc2V0SGVpZ2h0LQp0aGlzLnRpdGxlLm9mZnNldEhlaWdodC10aGlzLmNvbnRlbnRIZWlnaHRDb3JyZWN0aW9uKyJweCJ9dGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5NQVhJTUlaRSwiZXZlbnQiLGcpKX1teEV2ZW50LmNvbnN1bWUoZyl9fSk7bXhFdmVudC5hZGRHZXN0dXJlTGlzdGVuZXJzKHRoaXMubWF4aW1pemUsZyk7bXhFdmVudC5hZGRMaXN0ZW5lcih0aGlzLnRpdGxlLCJkYmxjbGljayIsZyl9OwpteFdpbmRvdy5wcm90b3R5cGUuaW5zdGFsbE1vdmVIYW5kbGVyPWZ1bmN0aW9uKCl7dGhpcy50aXRsZS5zdHlsZS5jdXJzb3I9Im1vdmUiO214RXZlbnQuYWRkR2VzdHVyZUxpc3RlbmVycyh0aGlzLnRpdGxlLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3ZhciBiPW14RXZlbnQuZ2V0Q2xpZW50WChhKSxjPW14RXZlbnQuZ2V0Q2xpZW50WShhKSxkPXRoaXMuZ2V0WCgpLGU9dGhpcy5nZXRZKCksZj1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXt2YXIgZj1teEV2ZW50LmdldENsaWVudFgoYSktYixnPW14RXZlbnQuZ2V0Q2xpZW50WShhKS1jO3RoaXMuc2V0TG9jYXRpb24oZCtmLGUrZyk7dGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5NT1ZFLCJldmVudCIsYSkpO214RXZlbnQuY29uc3VtZShhKX0pLGc9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7bXhFdmVudC5yZW1vdmVHZXN0dXJlTGlzdGVuZXJzKGRvY3VtZW50LG51bGwsZiwKZyk7dGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5NT1ZFX0VORCwiZXZlbnQiLGEpKTtteEV2ZW50LmNvbnN1bWUoYSl9KTtteEV2ZW50LmFkZEdlc3R1cmVMaXN0ZW5lcnMoZG9jdW1lbnQsbnVsbCxmLGcpO3RoaXMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KG14RXZlbnQuTU9WRV9TVEFSVCwiZXZlbnQiLGEpKTtteEV2ZW50LmNvbnN1bWUoYSl9KSk7bXhDbGllbnQuSVNfUE9JTlRFUiYmKHRoaXMudGl0bGUuc3R5bGUudG91Y2hBY3Rpb249Im5vbmUiKX07bXhXaW5kb3cucHJvdG90eXBlLnNldExvY2F0aW9uPWZ1bmN0aW9uKGEsYil7dGhpcy5kaXYuc3R5bGUubGVmdD1hKyJweCI7dGhpcy5kaXYuc3R5bGUudG9wPWIrInB4In07bXhXaW5kb3cucHJvdG90eXBlLmdldFg9ZnVuY3Rpb24oKXtyZXR1cm4gcGFyc2VJbnQodGhpcy5kaXYuc3R5bGUubGVmdCl9O214V2luZG93LnByb3RvdHlwZS5nZXRZPWZ1bmN0aW9uKCl7cmV0dXJuIHBhcnNlSW50KHRoaXMuZGl2LnN0eWxlLnRvcCl9OwpteFdpbmRvdy5wcm90b3R5cGUuaW5zdGFsbENsb3NlSGFuZGxlcj1mdW5jdGlvbigpe3RoaXMuY2xvc2VJbWc9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW1nIik7dGhpcy5jbG9zZUltZy5zZXRBdHRyaWJ1dGUoInNyYyIsdGhpcy5jbG9zZUltYWdlKTt0aGlzLmNsb3NlSW1nLnNldEF0dHJpYnV0ZSgidGl0bGUiLCJDbG9zZSIpO3RoaXMuY2xvc2VJbWcuc3R5bGUubWFyZ2luTGVmdD0iMnB4Ijt0aGlzLmNsb3NlSW1nLnN0eWxlLmN1cnNvcj0icG9pbnRlciI7dGhpcy5jbG9zZUltZy5zdHlsZS5kaXNwbGF5PSJub25lIjt0aGlzLmJ1dHRvbnMuYXBwZW5kQ2hpbGQodGhpcy5jbG9zZUltZyk7bXhFdmVudC5hZGRHZXN0dXJlTGlzdGVuZXJzKHRoaXMuY2xvc2VJbWcsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7dGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5DTE9TRSwiZXZlbnQiLGEpKTt0aGlzLmRlc3Ryb3lPbkNsb3NlP3RoaXMuZGVzdHJveSgpOgp0aGlzLnNldFZpc2libGUoITEpO214RXZlbnQuY29uc3VtZShhKX0pKX07bXhXaW5kb3cucHJvdG90eXBlLnNldEltYWdlPWZ1bmN0aW9uKGEpe3RoaXMuaW1hZ2U9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW1nIik7dGhpcy5pbWFnZS5zZXRBdHRyaWJ1dGUoInNyYyIsYSk7dGhpcy5pbWFnZS5zZXRBdHRyaWJ1dGUoImFsaWduIiwibGVmdCIpO3RoaXMuaW1hZ2Uuc3R5bGUubWFyZ2luUmlnaHQ9IjRweCI7dGhpcy5pbWFnZS5zdHlsZS5tYXJnaW5MZWZ0PSIwcHgiO3RoaXMuaW1hZ2Uuc3R5bGUubWFyZ2luVG9wPSItMnB4Ijt0aGlzLnRpdGxlLmluc2VydEJlZm9yZSh0aGlzLmltYWdlLHRoaXMudGl0bGUuZmlyc3RDaGlsZCl9O214V2luZG93LnByb3RvdHlwZS5zZXRDbG9zYWJsZT1mdW5jdGlvbihhKXt0aGlzLmNsb3NlSW1nLnN0eWxlLmRpc3BsYXk9YT8iIjoibm9uZSJ9OwpteFdpbmRvdy5wcm90b3R5cGUuaXNWaXNpYmxlPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPXRoaXMuZGl2PyJub25lIiE9dGhpcy5kaXYuc3R5bGUuZGlzcGxheTohMX07bXhXaW5kb3cucHJvdG90eXBlLnNldFZpc2libGU9ZnVuY3Rpb24oYSl7bnVsbCE9dGhpcy5kaXYmJnRoaXMuaXNWaXNpYmxlKCkhPWEmJihhP3RoaXMuc2hvdygpOnRoaXMuaGlkZSgpKX07Cm14V2luZG93LnByb3RvdHlwZS5zaG93PWZ1bmN0aW9uKCl7dGhpcy5kaXYuc3R5bGUuZGlzcGxheT0iIjt0aGlzLmFjdGl2YXRlKCk7dmFyIGE9bXhVdGlscy5nZXRDdXJyZW50U3R5bGUodGhpcy5jb250ZW50V3JhcHBlcik7bXhDbGllbnQuSVNfUVVJUktTfHwiYXV0byIhPWEub3ZlcmZsb3cmJm51bGw9PXRoaXMucmVzaXplfHwibm9uZSI9PXRoaXMuY29udGVudFdyYXBwZXIuc3R5bGUuZGlzcGxheXx8KHRoaXMuY29udGVudFdyYXBwZXIuc3R5bGUuaGVpZ2h0PXRoaXMuZGl2Lm9mZnNldEhlaWdodC10aGlzLnRpdGxlLm9mZnNldEhlaWdodC10aGlzLmNvbnRlbnRIZWlnaHRDb3JyZWN0aW9uKyJweCIpO3RoaXMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KG14RXZlbnQuU0hPVykpfTtteFdpbmRvdy5wcm90b3R5cGUuaGlkZT1mdW5jdGlvbigpe3RoaXMuZGl2LnN0eWxlLmRpc3BsYXk9Im5vbmUiO3RoaXMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KG14RXZlbnQuSElERSkpfTsKbXhXaW5kb3cucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LkRFU1RST1kpKTtudWxsIT10aGlzLmRpdiYmKG14RXZlbnQucmVsZWFzZSh0aGlzLmRpdiksdGhpcy5kaXYucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmRpdiksdGhpcy5kaXY9bnVsbCk7dGhpcy5jb250ZW50V3JhcHBlcj10aGlzLmNvbnRlbnQ9dGhpcy50aXRsZT1udWxsfTtmdW5jdGlvbiBteEZvcm0oYSl7dGhpcy50YWJsZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0YWJsZSIpO3RoaXMudGFibGUuY2xhc3NOYW1lPWE7dGhpcy5ib2R5PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRib2R5Iik7dGhpcy50YWJsZS5hcHBlbmRDaGlsZCh0aGlzLmJvZHkpfW14Rm9ybS5wcm90b3R5cGUudGFibGU9bnVsbDtteEZvcm0ucHJvdG90eXBlLmJvZHk9ITE7bXhGb3JtLnByb3RvdHlwZS5nZXRUYWJsZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRhYmxlfTsKbXhGb3JtLnByb3RvdHlwZS5hZGRCdXR0b25zPWZ1bmN0aW9uKGEsYil7dmFyIGM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidHIiKSxkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRkIik7Yy5hcHBlbmRDaGlsZChkKTt2YXIgZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ZCIpLGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYnV0dG9uIik7bXhVdGlscy53cml0ZShlLG14UmVzb3VyY2VzLmdldCgib2siKXx8Ik9LIik7ZC5hcHBlbmRDaGlsZChlKTtteEV2ZW50LmFkZExpc3RlbmVyKGUsImNsaWNrIixmdW5jdGlvbigpe2EoKX0pO2U9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYnV0dG9uIik7bXhVdGlscy53cml0ZShlLG14UmVzb3VyY2VzLmdldCgiY2FuY2VsIil8fCJDYW5jZWwiKTtkLmFwcGVuZENoaWxkKGUpO214RXZlbnQuYWRkTGlzdGVuZXIoZSwiY2xpY2siLGZ1bmN0aW9uKCl7YigpfSk7Yy5hcHBlbmRDaGlsZChkKTt0aGlzLmJvZHkuYXBwZW5kQ2hpbGQoYyl9OwpteEZvcm0ucHJvdG90eXBlLmFkZFRleHQ9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7ZC5zZXRBdHRyaWJ1dGUoInR5cGUiLGN8fCJ0ZXh0Iik7ZC52YWx1ZT1iO3JldHVybiB0aGlzLmFkZEZpZWxkKGEsZCl9O214Rm9ybS5wcm90b3R5cGUuYWRkQ2hlY2tib3g9ZnVuY3Rpb24oYSxiKXt2YXIgYz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbnB1dCIpO2Muc2V0QXR0cmlidXRlKCJ0eXBlIiwiY2hlY2tib3giKTt0aGlzLmFkZEZpZWxkKGEsYyk7YiYmKGMuY2hlY2tlZD0hMCk7cmV0dXJuIGN9O214Rm9ybS5wcm90b3R5cGUuYWRkVGV4dGFyZWE9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRleHRhcmVhIik7bXhDbGllbnQuSVNfTlMmJmMtLTtkLnNldEF0dHJpYnV0ZSgicm93cyIsY3x8Mik7ZC52YWx1ZT1iO3JldHVybiB0aGlzLmFkZEZpZWxkKGEsZCl9OwpteEZvcm0ucHJvdG90eXBlLmFkZENvbWJvPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzZWxlY3QiKTtudWxsIT1jJiZkLnNldEF0dHJpYnV0ZSgic2l6ZSIsYyk7YiYmZC5zZXRBdHRyaWJ1dGUoIm11bHRpcGxlIiwidHJ1ZSIpO3JldHVybiB0aGlzLmFkZEZpZWxkKGEsZCl9O214Rm9ybS5wcm90b3R5cGUuYWRkT3B0aW9uPWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIm9wdGlvbiIpO214VXRpbHMud3JpdGVsbihlLGIpO2Uuc2V0QXR0cmlidXRlKCJ2YWx1ZSIsYyk7ZCYmZS5zZXRBdHRyaWJ1dGUoInNlbGVjdGVkIixkKTthLmFwcGVuZENoaWxkKGUpfTsKbXhGb3JtLnByb3RvdHlwZS5hZGRGaWVsZD1mdW5jdGlvbihhLGIpe3ZhciBjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRyIiksZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ZCIpO214VXRpbHMud3JpdGUoZCxhKTtjLmFwcGVuZENoaWxkKGQpO2Q9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGQiKTtkLmFwcGVuZENoaWxkKGIpO2MuYXBwZW5kQ2hpbGQoZCk7dGhpcy5ib2R5LmFwcGVuZENoaWxkKGMpO3JldHVybiBifTtmdW5jdGlvbiBteEltYWdlKGEsYixjKXt0aGlzLnNyYz1hO3RoaXMud2lkdGg9Yjt0aGlzLmhlaWdodD1jfW14SW1hZ2UucHJvdG90eXBlLnNyYz1udWxsO214SW1hZ2UucHJvdG90eXBlLndpZHRoPW51bGw7bXhJbWFnZS5wcm90b3R5cGUuaGVpZ2h0PW51bGw7CmZ1bmN0aW9uIG14RGl2UmVzaXplcihhLGIpe2lmKCJkaXYiPT1hLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpe251bGw9PWImJihiPXdpbmRvdyk7dGhpcy5kaXY9YTt2YXIgYz1teFV0aWxzLmdldEN1cnJlbnRTdHlsZShhKTtudWxsIT1jJiYodGhpcy5yZXNpemVXaWR0aD0iYXV0byI9PWMud2lkdGgsdGhpcy5yZXNpemVIZWlnaHQ9ImF1dG8iPT1jLmhlaWdodCk7bXhFdmVudC5hZGRMaXN0ZW5lcihiLCJyZXNpemUiLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3RoaXMuaGFuZGxpbmdSZXNpemV8fCh0aGlzLmhhbmRsaW5nUmVzaXplPSEwLHRoaXMucmVzaXplKCksdGhpcy5oYW5kbGluZ1Jlc2l6ZT0hMSl9KSk7dGhpcy5yZXNpemUoKX19bXhEaXZSZXNpemVyLnByb3RvdHlwZS5yZXNpemVXaWR0aD0hMDtteERpdlJlc2l6ZXIucHJvdG90eXBlLnJlc2l6ZUhlaWdodD0hMDtteERpdlJlc2l6ZXIucHJvdG90eXBlLmhhbmRsaW5nUmVzaXplPSExOwpteERpdlJlc2l6ZXIucHJvdG90eXBlLnJlc2l6ZT1mdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0RG9jdW1lbnRXaWR0aCgpLGI9dGhpcy5nZXREb2N1bWVudEhlaWdodCgpLGM9cGFyc2VJbnQodGhpcy5kaXYuc3R5bGUubGVmdCksZD1wYXJzZUludCh0aGlzLmRpdi5zdHlsZS5yaWdodCksZT1wYXJzZUludCh0aGlzLmRpdi5zdHlsZS50b3ApLGY9cGFyc2VJbnQodGhpcy5kaXYuc3R5bGUuYm90dG9tKTt0aGlzLnJlc2l6ZVdpZHRoJiYhaXNOYU4oYykmJiFpc05hTihkKSYmMDw9YyYmMDw9ZCYmMDxhLWQtYyYmKHRoaXMuZGl2LnN0eWxlLndpZHRoPWEtZC1jKyJweCIpO3RoaXMucmVzaXplSGVpZ2h0JiYhaXNOYU4oZSkmJiFpc05hTihmKSYmMDw9ZSYmMDw9ZiYmMDxiLWUtZiYmKHRoaXMuZGl2LnN0eWxlLmhlaWdodD1iLWUtZisicHgiKX07bXhEaXZSZXNpemVyLnByb3RvdHlwZS5nZXREb2N1bWVudFdpZHRoPWZ1bmN0aW9uKCl7cmV0dXJuIGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGh9OwpteERpdlJlc2l6ZXIucHJvdG90eXBlLmdldERvY3VtZW50SGVpZ2h0PWZ1bmN0aW9uKCl7cmV0dXJuIGRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0fTtmdW5jdGlvbiBteERyYWdTb3VyY2UoYSxiKXt0aGlzLmVsZW1lbnQ9YTt0aGlzLmRyb3BIYW5kbGVyPWI7bXhFdmVudC5hZGRHZXN0dXJlTGlzdGVuZXJzKGEsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7dGhpcy5tb3VzZURvd24oYSl9KSk7bXhFdmVudC5hZGRMaXN0ZW5lcihhLCJkcmFnc3RhcnQiLGZ1bmN0aW9uKGEpe214RXZlbnQuY29uc3VtZShhKX0pO3RoaXMuZXZlbnRDb25zdW1lcj1mdW5jdGlvbihhLGIpe3ZhciBjPWIuZ2V0UHJvcGVydHkoImV2ZW50TmFtZSIpLGQ9Yi5nZXRQcm9wZXJ0eSgiZXZlbnQiKTtjIT1teEV2ZW50Lk1PVVNFX0RPV04mJmQuY29uc3VtZSgpfX1teERyYWdTb3VyY2UucHJvdG90eXBlLmVsZW1lbnQ9bnVsbDtteERyYWdTb3VyY2UucHJvdG90eXBlLmRyb3BIYW5kbGVyPW51bGw7Cm14RHJhZ1NvdXJjZS5wcm90b3R5cGUuZHJhZ09mZnNldD1udWxsO214RHJhZ1NvdXJjZS5wcm90b3R5cGUuZHJhZ0VsZW1lbnQ9bnVsbDtteERyYWdTb3VyY2UucHJvdG90eXBlLnByZXZpZXdFbGVtZW50PW51bGw7bXhEcmFnU291cmNlLnByb3RvdHlwZS5lbmFibGVkPSEwO214RHJhZ1NvdXJjZS5wcm90b3R5cGUuY3VycmVudEdyYXBoPW51bGw7bXhEcmFnU291cmNlLnByb3RvdHlwZS5jdXJyZW50RHJvcFRhcmdldD1udWxsO214RHJhZ1NvdXJjZS5wcm90b3R5cGUuY3VycmVudFBvaW50PW51bGw7bXhEcmFnU291cmNlLnByb3RvdHlwZS5jdXJyZW50R3VpZGU9bnVsbDtteERyYWdTb3VyY2UucHJvdG90eXBlLmN1cnJlbnRIaWdobGlnaHQ9bnVsbDtteERyYWdTb3VyY2UucHJvdG90eXBlLmF1dG9zY3JvbGw9ITA7bXhEcmFnU291cmNlLnByb3RvdHlwZS5ndWlkZXNFbmFibGVkPSEwO214RHJhZ1NvdXJjZS5wcm90b3R5cGUuZ3JpZEVuYWJsZWQ9ITA7Cm14RHJhZ1NvdXJjZS5wcm90b3R5cGUuaGlnaGxpZ2h0RHJvcFRhcmdldHM9ITA7bXhEcmFnU291cmNlLnByb3RvdHlwZS5kcmFnRWxlbWVudFpJbmRleD0xMDA7bXhEcmFnU291cmNlLnByb3RvdHlwZS5kcmFnRWxlbWVudE9wYWNpdHk9NzA7bXhEcmFnU291cmNlLnByb3RvdHlwZS5jaGVja0V2ZW50U291cmNlPSEwO214RHJhZ1NvdXJjZS5wcm90b3R5cGUuaXNFbmFibGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZW5hYmxlZH07bXhEcmFnU291cmNlLnByb3RvdHlwZS5zZXRFbmFibGVkPWZ1bmN0aW9uKGEpe3RoaXMuZW5hYmxlZD1hfTtteERyYWdTb3VyY2UucHJvdG90eXBlLmlzR3VpZGVzRW5hYmxlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmd1aWRlc0VuYWJsZWR9O214RHJhZ1NvdXJjZS5wcm90b3R5cGUuc2V0R3VpZGVzRW5hYmxlZD1mdW5jdGlvbihhKXt0aGlzLmd1aWRlc0VuYWJsZWQ9YX07bXhEcmFnU291cmNlLnByb3RvdHlwZS5pc0dyaWRFbmFibGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ3JpZEVuYWJsZWR9OwpteERyYWdTb3VyY2UucHJvdG90eXBlLnNldEdyaWRFbmFibGVkPWZ1bmN0aW9uKGEpe3RoaXMuZ3JpZEVuYWJsZWQ9YX07bXhEcmFnU291cmNlLnByb3RvdHlwZS5nZXRHcmFwaEZvckV2ZW50PWZ1bmN0aW9uKGEpe3JldHVybiBudWxsfTtteERyYWdTb3VyY2UucHJvdG90eXBlLmdldERyb3BUYXJnZXQ9ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuIGEuZ2V0Q2VsbEF0KGIsYyl9O214RHJhZ1NvdXJjZS5wcm90b3R5cGUuY3JlYXRlRHJhZ0VsZW1lbnQ9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZWxlbWVudC5jbG9uZU5vZGUoITApfTtteERyYWdTb3VyY2UucHJvdG90eXBlLmNyZWF0ZVByZXZpZXdFbGVtZW50PWZ1bmN0aW9uKGEpe3JldHVybiBudWxsfTtteERyYWdTb3VyY2UucHJvdG90eXBlLmlzQWN0aXZlPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPXRoaXMubW91c2VNb3ZlSGFuZGxlcn07Cm14RHJhZ1NvdXJjZS5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXtudWxsIT10aGlzLmN1cnJlbnRHcmFwaCYmKHRoaXMuZHJhZ0V4aXQodGhpcy5jdXJyZW50R3JhcGgpLHRoaXMuY3VycmVudEdyYXBoPW51bGwpO3RoaXMucmVtb3ZlRHJhZ0VsZW1lbnQoKTt0aGlzLnJlbW92ZUxpc3RlbmVycygpO3RoaXMuc3RvcERyYWcoKX07Cm14RHJhZ1NvdXJjZS5wcm90b3R5cGUubW91c2VEb3duPWZ1bmN0aW9uKGEpe3RoaXMuZW5hYmxlZCYmIW14RXZlbnQuaXNDb25zdW1lZChhKSYmbnVsbD09dGhpcy5tb3VzZU1vdmVIYW5kbGVyJiYodGhpcy5zdGFydERyYWcoYSksdGhpcy5tb3VzZU1vdmVIYW5kbGVyPW14VXRpbHMuYmluZCh0aGlzLHRoaXMubW91c2VNb3ZlKSx0aGlzLm1vdXNlVXBIYW5kbGVyPW14VXRpbHMuYmluZCh0aGlzLHRoaXMubW91c2VVcCksbXhFdmVudC5hZGRHZXN0dXJlTGlzdGVuZXJzKGRvY3VtZW50LG51bGwsdGhpcy5tb3VzZU1vdmVIYW5kbGVyLHRoaXMubW91c2VVcEhhbmRsZXIpLG14Q2xpZW50LklTX1RPVUNIJiYhbXhFdmVudC5pc01vdXNlRXZlbnQoYSkmJih0aGlzLmV2ZW50U291cmNlPW14RXZlbnQuZ2V0U291cmNlKGEpLG14RXZlbnQuYWRkR2VzdHVyZUxpc3RlbmVycyh0aGlzLmV2ZW50U291cmNlLG51bGwsdGhpcy5tb3VzZU1vdmVIYW5kbGVyLHRoaXMubW91c2VVcEhhbmRsZXIpKSl9OwpteERyYWdTb3VyY2UucHJvdG90eXBlLnN0YXJ0RHJhZz1mdW5jdGlvbihhKXt0aGlzLmRyYWdFbGVtZW50PXRoaXMuY3JlYXRlRHJhZ0VsZW1lbnQoYSk7dGhpcy5kcmFnRWxlbWVudC5zdHlsZS5wb3NpdGlvbj0iYWJzb2x1dGUiO3RoaXMuZHJhZ0VsZW1lbnQuc3R5bGUuekluZGV4PXRoaXMuZHJhZ0VsZW1lbnRaSW5kZXg7bXhVdGlscy5zZXRPcGFjaXR5KHRoaXMuZHJhZ0VsZW1lbnQsdGhpcy5kcmFnRWxlbWVudE9wYWNpdHkpO3RoaXMuY2hlY2tFdmVudFNvdXJjZSYmbXhDbGllbnQuSVNfU1ZHJiYodGhpcy5kcmFnRWxlbWVudC5zdHlsZS5wb2ludGVyRXZlbnRzPSJub25lIil9O214RHJhZ1NvdXJjZS5wcm90b3R5cGUuc3RvcERyYWc9ZnVuY3Rpb24oKXt0aGlzLnJlbW92ZURyYWdFbGVtZW50KCl9OwpteERyYWdTb3VyY2UucHJvdG90eXBlLnJlbW92ZURyYWdFbGVtZW50PWZ1bmN0aW9uKCl7bnVsbCE9dGhpcy5kcmFnRWxlbWVudCYmKG51bGwhPXRoaXMuZHJhZ0VsZW1lbnQucGFyZW50Tm9kZSYmdGhpcy5kcmFnRWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuZHJhZ0VsZW1lbnQpLHRoaXMuZHJhZ0VsZW1lbnQ9bnVsbCl9O214RHJhZ1NvdXJjZS5wcm90b3R5cGUuZ2V0RWxlbWVudEZvckV2ZW50PWZ1bmN0aW9uKGEpe3JldHVybiBteEV2ZW50LmlzVG91Y2hFdmVudChhKXx8bXhFdmVudC5pc1BlbkV2ZW50KGEpP2RvY3VtZW50LmVsZW1lbnRGcm9tUG9pbnQobXhFdmVudC5nZXRDbGllbnRYKGEpLG14RXZlbnQuZ2V0Q2xpZW50WShhKSk6bXhFdmVudC5nZXRTb3VyY2UoYSl9OwpteERyYWdTb3VyY2UucHJvdG90eXBlLmdyYXBoQ29udGFpbnNFdmVudD1mdW5jdGlvbihhLGIpe3ZhciBjPW14RXZlbnQuZ2V0Q2xpZW50WChiKSxkPW14RXZlbnQuZ2V0Q2xpZW50WShiKSxlPW14VXRpbHMuZ2V0T2Zmc2V0KGEuY29udGFpbmVyKSxmPW14VXRpbHMuZ2V0U2Nyb2xsT3JpZ2luKCksZz10aGlzLmdldEVsZW1lbnRGb3JFdmVudChiKTtpZih0aGlzLmNoZWNrRXZlbnRTb3VyY2UpZm9yKDtudWxsIT1nJiZnIT1hLmNvbnRhaW5lcjspZz1nLnBhcmVudE5vZGU7cmV0dXJuIG51bGwhPWcmJmM+PWUueC1mLngmJmQ+PWUueS1mLnkmJmM8PWUueC1mLngrYS5jb250YWluZXIub2Zmc2V0V2lkdGgmJmQ8PWUueS1mLnkrYS5jb250YWluZXIub2Zmc2V0SGVpZ2h0fTsKbXhEcmFnU291cmNlLnByb3RvdHlwZS5tb3VzZU1vdmU9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5nZXRHcmFwaEZvckV2ZW50KGEpO251bGw9PWJ8fHRoaXMuZ3JhcGhDb250YWluc0V2ZW50KGIsYSl8fChiPW51bGwpO2IhPXRoaXMuY3VycmVudEdyYXBoJiYobnVsbCE9dGhpcy5jdXJyZW50R3JhcGgmJnRoaXMuZHJhZ0V4aXQodGhpcy5jdXJyZW50R3JhcGgsYSksdGhpcy5jdXJyZW50R3JhcGg9YixudWxsIT10aGlzLmN1cnJlbnRHcmFwaCYmdGhpcy5kcmFnRW50ZXIodGhpcy5jdXJyZW50R3JhcGgsYSkpO251bGwhPXRoaXMuY3VycmVudEdyYXBoJiZ0aGlzLmRyYWdPdmVyKHRoaXMuY3VycmVudEdyYXBoLGEpO2lmKG51bGw9PXRoaXMuZHJhZ0VsZW1lbnR8fG51bGwhPXRoaXMucHJldmlld0VsZW1lbnQmJiJ2aXNpYmxlIj09dGhpcy5wcmV2aWV3RWxlbWVudC5zdHlsZS52aXNpYmlsaXR5KW51bGwhPXRoaXMuZHJhZ0VsZW1lbnQmJih0aGlzLmRyYWdFbGVtZW50LnN0eWxlLnZpc2liaWxpdHk9CiJoaWRkZW4iKTtlbHNle3ZhciBiPW14RXZlbnQuZ2V0Q2xpZW50WChhKSxjPW14RXZlbnQuZ2V0Q2xpZW50WShhKTtudWxsPT10aGlzLmRyYWdFbGVtZW50LnBhcmVudE5vZGUmJmRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5kcmFnRWxlbWVudCk7dGhpcy5kcmFnRWxlbWVudC5zdHlsZS52aXNpYmlsaXR5PSJ2aXNpYmxlIjtudWxsIT10aGlzLmRyYWdPZmZzZXQmJihiKz10aGlzLmRyYWdPZmZzZXQueCxjKz10aGlzLmRyYWdPZmZzZXQueSk7dmFyIGQ9bXhVdGlscy5nZXREb2N1bWVudFNjcm9sbE9yaWdpbihkb2N1bWVudCk7dGhpcy5kcmFnRWxlbWVudC5zdHlsZS5sZWZ0PWIrZC54KyJweCI7dGhpcy5kcmFnRWxlbWVudC5zdHlsZS50b3A9YytkLnkrInB4In1teEV2ZW50LmNvbnN1bWUoYSl9OwpteERyYWdTb3VyY2UucHJvdG90eXBlLm1vdXNlVXA9ZnVuY3Rpb24oYSl7aWYobnVsbCE9dGhpcy5jdXJyZW50R3JhcGgpe2lmKG51bGwhPXRoaXMuY3VycmVudFBvaW50JiYobnVsbD09dGhpcy5wcmV2aWV3RWxlbWVudHx8ImhpZGRlbiIhPXRoaXMucHJldmlld0VsZW1lbnQuc3R5bGUudmlzaWJpbGl0eSkpe3ZhciBiPXRoaXMuY3VycmVudEdyYXBoLnZpZXcuc2NhbGUsYz10aGlzLmN1cnJlbnRHcmFwaC52aWV3LnRyYW5zbGF0ZTt0aGlzLmRyb3AodGhpcy5jdXJyZW50R3JhcGgsYSx0aGlzLmN1cnJlbnREcm9wVGFyZ2V0LHRoaXMuY3VycmVudFBvaW50LngvYi1jLngsdGhpcy5jdXJyZW50UG9pbnQueS9iLWMueSl9dGhpcy5kcmFnRXhpdCh0aGlzLmN1cnJlbnRHcmFwaCk7dGhpcy5jdXJyZW50R3JhcGg9bnVsbH10aGlzLnN0b3BEcmFnKCk7dGhpcy5yZW1vdmVMaXN0ZW5lcnMoKTtteEV2ZW50LmNvbnN1bWUoYSl9OwpteERyYWdTb3VyY2UucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVycz1mdW5jdGlvbigpe251bGwhPXRoaXMuZXZlbnRTb3VyY2UmJihteEV2ZW50LnJlbW92ZUdlc3R1cmVMaXN0ZW5lcnModGhpcy5ldmVudFNvdXJjZSxudWxsLHRoaXMubW91c2VNb3ZlSGFuZGxlcix0aGlzLm1vdXNlVXBIYW5kbGVyKSx0aGlzLmV2ZW50U291cmNlPW51bGwpO214RXZlbnQucmVtb3ZlR2VzdHVyZUxpc3RlbmVycyhkb2N1bWVudCxudWxsLHRoaXMubW91c2VNb3ZlSGFuZGxlcix0aGlzLm1vdXNlVXBIYW5kbGVyKTt0aGlzLm1vdXNlVXBIYW5kbGVyPXRoaXMubW91c2VNb3ZlSGFuZGxlcj1udWxsfTsKbXhEcmFnU291cmNlLnByb3RvdHlwZS5kcmFnRW50ZXI9ZnVuY3Rpb24oYSxiKXthLmlzTW91c2VEb3duPSEwO2EuaXNNb3VzZVRyaWdnZXI9bXhFdmVudC5pc01vdXNlRXZlbnQoYik7dGhpcy5wcmV2aWV3RWxlbWVudD10aGlzLmNyZWF0ZVByZXZpZXdFbGVtZW50KGEpO251bGwhPXRoaXMucHJldmlld0VsZW1lbnQmJnRoaXMuY2hlY2tFdmVudFNvdXJjZSYmbXhDbGllbnQuSVNfU1ZHJiYodGhpcy5wcmV2aWV3RWxlbWVudC5zdHlsZS5wb2ludGVyRXZlbnRzPSJub25lIik7dGhpcy5pc0d1aWRlc0VuYWJsZWQoKSYmbnVsbCE9dGhpcy5wcmV2aWV3RWxlbWVudCYmKHRoaXMuY3VycmVudEd1aWRlPW5ldyBteEd1aWRlKGEsYS5ncmFwaEhhbmRsZXIuZ2V0R3VpZGVTdGF0ZXMoKSkpO3RoaXMuaGlnaGxpZ2h0RHJvcFRhcmdldHMmJih0aGlzLmN1cnJlbnRIaWdobGlnaHQ9bmV3IG14Q2VsbEhpZ2hsaWdodChhLG14Q29uc3RhbnRzLkRST1BfVEFSR0VUX0NPTE9SKSk7YS5hZGRMaXN0ZW5lcihteEV2ZW50LkZJUkVfTU9VU0VfRVZFTlQsCnRoaXMuZXZlbnRDb25zdW1lcil9O214RHJhZ1NvdXJjZS5wcm90b3R5cGUuZHJhZ0V4aXQ9ZnVuY3Rpb24oYSxiKXt0aGlzLmN1cnJlbnRQb2ludD10aGlzLmN1cnJlbnREcm9wVGFyZ2V0PW51bGw7YS5pc01vdXNlRG93bj0hMTthLnJlbW92ZUxpc3RlbmVyKHRoaXMuZXZlbnRDb25zdW1lcik7bnVsbCE9dGhpcy5wcmV2aWV3RWxlbWVudCYmKG51bGwhPXRoaXMucHJldmlld0VsZW1lbnQucGFyZW50Tm9kZSYmdGhpcy5wcmV2aWV3RWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMucHJldmlld0VsZW1lbnQpLHRoaXMucHJldmlld0VsZW1lbnQ9bnVsbCk7bnVsbCE9dGhpcy5jdXJyZW50R3VpZGUmJih0aGlzLmN1cnJlbnRHdWlkZS5kZXN0cm95KCksdGhpcy5jdXJyZW50R3VpZGU9bnVsbCk7bnVsbCE9dGhpcy5jdXJyZW50SGlnaGxpZ2h0JiYodGhpcy5jdXJyZW50SGlnaGxpZ2h0LmRlc3Ryb3koKSx0aGlzLmN1cnJlbnRIaWdobGlnaHQ9bnVsbCl9OwpteERyYWdTb3VyY2UucHJvdG90eXBlLmRyYWdPdmVyPWZ1bmN0aW9uKGEsYil7dmFyIGM9bXhVdGlscy5nZXRPZmZzZXQoYS5jb250YWluZXIpLGQ9bXhVdGlscy5nZXRTY3JvbGxPcmlnaW4oYS5jb250YWluZXIpLGU9bXhFdmVudC5nZXRDbGllbnRYKGIpLWMueCtkLngtYS5wYW5EeCxjPW14RXZlbnQuZ2V0Q2xpZW50WShiKS1jLnkrZC55LWEucGFuRHk7YS5hdXRvU2Nyb2xsJiYobnVsbD09dGhpcy5hdXRvc2Nyb2xsfHx0aGlzLmF1dG9zY3JvbGwpJiZhLnNjcm9sbFBvaW50VG9WaXNpYmxlKGUsYyxhLmF1dG9FeHRlbmQpO251bGwhPXRoaXMuY3VycmVudEhpZ2hsaWdodCYmYS5pc0Ryb3BFbmFibGVkKCkmJih0aGlzLmN1cnJlbnREcm9wVGFyZ2V0PXRoaXMuZ2V0RHJvcFRhcmdldChhLGUsYyxiKSxkPWEuZ2V0VmlldygpLmdldFN0YXRlKHRoaXMuY3VycmVudERyb3BUYXJnZXQpLHRoaXMuY3VycmVudEhpZ2hsaWdodC5oaWdobGlnaHQoZCkpO2lmKG51bGwhPXRoaXMucHJldmlld0VsZW1lbnQpe251bGw9PQp0aGlzLnByZXZpZXdFbGVtZW50LnBhcmVudE5vZGUmJihhLmNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLnByZXZpZXdFbGVtZW50KSx0aGlzLnByZXZpZXdFbGVtZW50LnN0eWxlLnpJbmRleD0iMyIsdGhpcy5wcmV2aWV3RWxlbWVudC5zdHlsZS5wb3NpdGlvbj0iYWJzb2x1dGUiKTt2YXIgZD10aGlzLmlzR3JpZEVuYWJsZWQoKSYmYS5pc0dyaWRFbmFibGVkRXZlbnQoYiksZj0hMDtpZihudWxsIT10aGlzLmN1cnJlbnRHdWlkZSYmdGhpcy5jdXJyZW50R3VpZGUuaXNFbmFibGVkRm9yRXZlbnQoYikpdmFyIGY9cGFyc2VJbnQodGhpcy5wcmV2aWV3RWxlbWVudC5zdHlsZS53aWR0aCksZz1wYXJzZUludCh0aGlzLnByZXZpZXdFbGVtZW50LnN0eWxlLmhlaWdodCksZj1uZXcgbXhSZWN0YW5nbGUoMCwwLGYsZyksYz1uZXcgbXhQb2ludChlLGMpLGM9dGhpcy5jdXJyZW50R3VpZGUubW92ZShmLGMsZCwhMCksZj0hMSxlPWMueCxjPWMueTtlbHNlIGlmKGQpdmFyIGQ9YS52aWV3LnNjYWxlLApnPWEudmlldy50cmFuc2xhdGUsaz1hLmdyaWRTaXplLzIsZT0oYS5zbmFwKGUvZC1nLngtaykrZy54KSpkLGM9KGEuc25hcChjL2QtZy55LWspK2cueSkqZDtudWxsIT10aGlzLmN1cnJlbnRHdWlkZSYmZiYmdGhpcy5jdXJyZW50R3VpZGUuaGlkZSgpO251bGwhPXRoaXMucHJldmlld09mZnNldCYmKGUrPXRoaXMucHJldmlld09mZnNldC54LGMrPXRoaXMucHJldmlld09mZnNldC55KTt0aGlzLnByZXZpZXdFbGVtZW50LnN0eWxlLmxlZnQ9TWF0aC5yb3VuZChlKSsicHgiO3RoaXMucHJldmlld0VsZW1lbnQuc3R5bGUudG9wPU1hdGgucm91bmQoYykrInB4Ijt0aGlzLnByZXZpZXdFbGVtZW50LnN0eWxlLnZpc2liaWxpdHk9InZpc2libGUifXRoaXMuY3VycmVudFBvaW50PW5ldyBteFBvaW50KGUsYyl9OwpteERyYWdTb3VyY2UucHJvdG90eXBlLmRyb3A9ZnVuY3Rpb24oYSxiLGMsZCxlKXt0aGlzLmRyb3BIYW5kbGVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKTsiaGlkZGVuIiE9YS5jb250YWluZXIuc3R5bGUudmlzaWJpbGl0eSYmYS5jb250YWluZXIuZm9jdXMoKX07ZnVuY3Rpb24gbXhUb29sYmFyKGEpe3RoaXMuY29udGFpbmVyPWF9bXhUb29sYmFyLnByb3RvdHlwZT1uZXcgbXhFdmVudFNvdXJjZTtteFRvb2xiYXIucHJvdG90eXBlLmNvbnN0cnVjdG9yPW14VG9vbGJhcjtteFRvb2xiYXIucHJvdG90eXBlLmNvbnRhaW5lcj1udWxsO214VG9vbGJhci5wcm90b3R5cGUuZW5hYmxlZD0hMDtteFRvb2xiYXIucHJvdG90eXBlLm5vUmVzZXQ9ITE7bXhUb29sYmFyLnByb3RvdHlwZS51cGRhdGVEZWZhdWx0TW9kZT0hMDsKbXhUb29sYmFyLnByb3RvdHlwZS5hZGRJdGVtPWZ1bmN0aW9uKGEsYixjLGQsZSxmKXt2YXIgZz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KG51bGwhPWI/ImltZyI6ImJ1dHRvbiIpLGs9ZXx8KG51bGwhPWY/Im14VG9vbGJhck1vZGUiOiJteFRvb2xiYXJJdGVtIik7Zy5jbGFzc05hbWU9aztnLnNldEF0dHJpYnV0ZSgic3JjIixiKTtudWxsIT1hJiYobnVsbCE9Yj9nLnNldEF0dHJpYnV0ZSgidGl0bGUiLGEpOm14VXRpbHMud3JpdGUoZyxhKSk7dGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQoZyk7bnVsbCE9YyYmKG14RXZlbnQuYWRkTGlzdGVuZXIoZywiY2xpY2siLGMpLG14Q2xpZW50LklTX1RPVUNIJiZteEV2ZW50LmFkZExpc3RlbmVyKGcsInRvdWNoZW5kIixjKSk7YT1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXtudWxsIT1kP2cuc2V0QXR0cmlidXRlKCJzcmMiLGIpOmcuc3R5bGUuYmFja2dyb3VuZENvbG9yPSIifSk7bXhFdmVudC5hZGRHZXN0dXJlTGlzdGVuZXJzKGcsCm14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe251bGwhPWQ/Zy5zZXRBdHRyaWJ1dGUoInNyYyIsZCk6Zy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9ImdyYXkiO2lmKG51bGwhPWYpe251bGw9PXRoaXMubWVudSYmKHRoaXMubWVudT1uZXcgbXhQb3B1cE1lbnUsdGhpcy5tZW51LmluaXQoKSk7dmFyIGI9dGhpcy5jdXJyZW50SW1nO3RoaXMubWVudS5pc01lbnVTaG93aW5nKCkmJnRoaXMubWVudS5oaWRlTWVudSgpO2IhPWcmJih0aGlzLmN1cnJlbnRJbWc9Zyx0aGlzLm1lbnUuZmFjdG9yeU1ldGhvZD1mLGI9bmV3IG14UG9pbnQoZy5vZmZzZXRMZWZ0LGcub2Zmc2V0VG9wK2cub2Zmc2V0SGVpZ2h0KSx0aGlzLm1lbnUucG9wdXAoYi54LGIueSxudWxsLGEpLHRoaXMubWVudS5pc01lbnVTaG93aW5nKCkmJihnLmNsYXNzTmFtZT1rKyJTZWxlY3RlZCIsdGhpcy5tZW51LmhpZGVNZW51PWZ1bmN0aW9uKCl7bXhQb3B1cE1lbnUucHJvdG90eXBlLmhpZGVNZW51LmFwcGx5KHRoaXMpOwpnLmNsYXNzTmFtZT1rO3RoaXMuY3VycmVudEltZz1udWxsfSkpfX0pLG51bGwsYSk7bXhFdmVudC5hZGRMaXN0ZW5lcihnLCJtb3VzZW91dCIsYSk7cmV0dXJuIGd9O214VG9vbGJhci5wcm90b3R5cGUuYWRkQ29tYm89ZnVuY3Rpb24oYSl7dmFyIGI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7Yi5zdHlsZS5kaXNwbGF5PSJpbmxpbmUiO2IuY2xhc3NOYW1lPSJteFRvb2xiYXJDb21ib0NvbnRhaW5lciI7dmFyIGM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic2VsZWN0Iik7Yy5jbGFzc05hbWU9YXx8Im14VG9vbGJhckNvbWJvIjtiLmFwcGVuZENoaWxkKGMpO3RoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKGIpO3JldHVybiBjfTsKbXhUb29sYmFyLnByb3RvdHlwZS5hZGRBY3Rpb25Db21ibz1mdW5jdGlvbihhLGIpe3ZhciBjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNlbGVjdCIpO2MuY2xhc3NOYW1lPWJ8fCJteFRvb2xiYXJDb21ibyI7dGhpcy5hZGRPcHRpb24oYyxhLG51bGwpO214RXZlbnQuYWRkTGlzdGVuZXIoYywiY2hhbmdlIixmdW5jdGlvbihhKXt2YXIgYj1jLm9wdGlvbnNbYy5zZWxlY3RlZEluZGV4XTtjLnNlbGVjdGVkSW5kZXg9MDtudWxsIT1iLmZ1bmN0JiZiLmZ1bmN0KGEpfSk7dGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQoYyk7cmV0dXJuIGN9O214VG9vbGJhci5wcm90b3R5cGUuYWRkT3B0aW9uPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJvcHRpb24iKTtteFV0aWxzLndyaXRlbG4oZCxiKTsiZnVuY3Rpb24iPT10eXBlb2YgYz9kLmZ1bmN0PWM6ZC5zZXRBdHRyaWJ1dGUoInZhbHVlIixjKTthLmFwcGVuZENoaWxkKGQpO3JldHVybiBkfTsKbXhUb29sYmFyLnByb3RvdHlwZS5hZGRTd2l0Y2hNb2RlPWZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW1nIik7Zi5pbml0aWFsQ2xhc3NOYW1lPWV8fCJteFRvb2xiYXJNb2RlIjtmLmNsYXNzTmFtZT1mLmluaXRpYWxDbGFzc05hbWU7Zi5zZXRBdHRyaWJ1dGUoInNyYyIsYik7Zi5hbHRJY29uPWQ7bnVsbCE9YSYmZi5zZXRBdHRyaWJ1dGUoInRpdGxlIixhKTtteEV2ZW50LmFkZExpc3RlbmVyKGYsImNsaWNrIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXthPXRoaXMuc2VsZWN0ZWRNb2RlLmFsdEljb247bnVsbCE9YT8odGhpcy5zZWxlY3RlZE1vZGUuYWx0SWNvbj10aGlzLnNlbGVjdGVkTW9kZS5nZXRBdHRyaWJ1dGUoInNyYyIpLHRoaXMuc2VsZWN0ZWRNb2RlLnNldEF0dHJpYnV0ZSgic3JjIixhKSk6dGhpcy5zZWxlY3RlZE1vZGUuY2xhc3NOYW1lPXRoaXMuc2VsZWN0ZWRNb2RlLmluaXRpYWxDbGFzc05hbWU7dGhpcy51cGRhdGVEZWZhdWx0TW9kZSYmCih0aGlzLmRlZmF1bHRNb2RlPWYpO3RoaXMuc2VsZWN0ZWRNb2RlPWY7YT1mLmFsdEljb247bnVsbCE9YT8oZi5hbHRJY29uPWYuZ2V0QXR0cmlidXRlKCJzcmMiKSxmLnNldEF0dHJpYnV0ZSgic3JjIixhKSk6Zi5jbGFzc05hbWU9Zi5pbml0aWFsQ2xhc3NOYW1lKyJTZWxlY3RlZCI7dGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5TRUxFQ1QpKTtjKCl9KSk7dGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQoZik7bnVsbD09dGhpcy5kZWZhdWx0TW9kZSYmKHRoaXMuZGVmYXVsdE1vZGU9Zix0aGlzLnNlbGVjdE1vZGUoZiksYygpKTtyZXR1cm4gZn07Cm14VG9vbGJhci5wcm90b3R5cGUuYWRkTW9kZT1mdW5jdGlvbihhLGIsYyxkLGUsZil7Zj1udWxsIT1mP2Y6ITA7dmFyIGc9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChudWxsIT1iPyJpbWciOiJidXR0b24iKTtnLmluaXRpYWxDbGFzc05hbWU9ZXx8Im14VG9vbGJhck1vZGUiO2cuY2xhc3NOYW1lPWcuaW5pdGlhbENsYXNzTmFtZTtnLnNldEF0dHJpYnV0ZSgic3JjIixiKTtnLmFsdEljb249ZDtudWxsIT1hJiZnLnNldEF0dHJpYnV0ZSgidGl0bGUiLGEpO3RoaXMuZW5hYmxlZCYmZiYmKG14RXZlbnQuYWRkTGlzdGVuZXIoZywiY2xpY2siLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3RoaXMuc2VsZWN0TW9kZShnLGMpO3RoaXMubm9SZXNldD0hMX0pKSxteEV2ZW50LmFkZExpc3RlbmVyKGcsImRibGNsaWNrIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXt0aGlzLnNlbGVjdE1vZGUoZyxjKTt0aGlzLm5vUmVzZXQ9ITB9KSksbnVsbD09dGhpcy5kZWZhdWx0TW9kZSYmCih0aGlzLmRlZmF1bHRNb2RlPWcsdGhpcy5kZWZhdWx0RnVuY3Rpb249Yyx0aGlzLnNlbGVjdE1vZGUoZyxjKSkpO3RoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKGcpO3JldHVybiBnfTsKbXhUb29sYmFyLnByb3RvdHlwZS5zZWxlY3RNb2RlPWZ1bmN0aW9uKGEsYil7aWYodGhpcy5zZWxlY3RlZE1vZGUhPWEpe2lmKG51bGwhPXRoaXMuc2VsZWN0ZWRNb2RlKXt2YXIgYz10aGlzLnNlbGVjdGVkTW9kZS5hbHRJY29uO251bGwhPWM/KHRoaXMuc2VsZWN0ZWRNb2RlLmFsdEljb249dGhpcy5zZWxlY3RlZE1vZGUuZ2V0QXR0cmlidXRlKCJzcmMiKSx0aGlzLnNlbGVjdGVkTW9kZS5zZXRBdHRyaWJ1dGUoInNyYyIsYykpOnRoaXMuc2VsZWN0ZWRNb2RlLmNsYXNzTmFtZT10aGlzLnNlbGVjdGVkTW9kZS5pbml0aWFsQ2xhc3NOYW1lfXRoaXMuc2VsZWN0ZWRNb2RlPWE7Yz10aGlzLnNlbGVjdGVkTW9kZS5hbHRJY29uO251bGwhPWM/KHRoaXMuc2VsZWN0ZWRNb2RlLmFsdEljb249dGhpcy5zZWxlY3RlZE1vZGUuZ2V0QXR0cmlidXRlKCJzcmMiKSx0aGlzLnNlbGVjdGVkTW9kZS5zZXRBdHRyaWJ1dGUoInNyYyIsYykpOnRoaXMuc2VsZWN0ZWRNb2RlLmNsYXNzTmFtZT10aGlzLnNlbGVjdGVkTW9kZS5pbml0aWFsQ2xhc3NOYW1lKwoiU2VsZWN0ZWQiO3RoaXMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KG14RXZlbnQuU0VMRUNULCJmdW5jdGlvbiIsYikpfX07bXhUb29sYmFyLnByb3RvdHlwZS5yZXNldE1vZGU9ZnVuY3Rpb24oYSl7IWEmJnRoaXMubm9SZXNldHx8dGhpcy5zZWxlY3RlZE1vZGU9PXRoaXMuZGVmYXVsdE1vZGV8fHRoaXMuc2VsZWN0TW9kZSh0aGlzLmRlZmF1bHRNb2RlLHRoaXMuZGVmYXVsdEZ1bmN0aW9uKX07bXhUb29sYmFyLnByb3RvdHlwZS5hZGRTZXBhcmF0b3I9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYWRkSXRlbShudWxsLGEsbnVsbCl9O214VG9vbGJhci5wcm90b3R5cGUuYWRkQnJlYWs9ZnVuY3Rpb24oKXtteFV0aWxzLmJyKHRoaXMuY29udGFpbmVyKX07Cm14VG9vbGJhci5wcm90b3R5cGUuYWRkTGluZT1mdW5jdGlvbigpe3ZhciBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImhyIik7YS5zdHlsZS5tYXJnaW5SaWdodD0iNnB4IjthLnNldEF0dHJpYnV0ZSgic2l6ZSIsIjEiKTt0aGlzLmNvbnRhaW5lci5hcHBlbmRDaGlsZChhKX07bXhUb29sYmFyLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7bXhFdmVudC5yZWxlYXNlKHRoaXMuY29udGFpbmVyKTt0aGlzLnNlbGVjdGVkTW9kZT10aGlzLmRlZmF1bHRGdW5jdGlvbj10aGlzLmRlZmF1bHRNb2RlPXRoaXMuY29udGFpbmVyPW51bGw7bnVsbCE9dGhpcy5tZW51JiZ0aGlzLm1lbnUuZGVzdHJveSgpfTtmdW5jdGlvbiBteFVuZG9hYmxlRWRpdChhLGIpe3RoaXMuc291cmNlPWE7dGhpcy5jaGFuZ2VzPVtdO3RoaXMuc2lnbmlmaWNhbnQ9bnVsbCE9Yj9iOiEwfW14VW5kb2FibGVFZGl0LnByb3RvdHlwZS5zb3VyY2U9bnVsbDsKbXhVbmRvYWJsZUVkaXQucHJvdG90eXBlLmNoYW5nZXM9bnVsbDtteFVuZG9hYmxlRWRpdC5wcm90b3R5cGUuc2lnbmlmaWNhbnQ9bnVsbDtteFVuZG9hYmxlRWRpdC5wcm90b3R5cGUudW5kb25lPSExO214VW5kb2FibGVFZGl0LnByb3RvdHlwZS5yZWRvbmU9ITE7bXhVbmRvYWJsZUVkaXQucHJvdG90eXBlLmlzRW1wdHk9ZnVuY3Rpb24oKXtyZXR1cm4gMD09dGhpcy5jaGFuZ2VzLmxlbmd0aH07bXhVbmRvYWJsZUVkaXQucHJvdG90eXBlLmlzU2lnbmlmaWNhbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zaWduaWZpY2FudH07bXhVbmRvYWJsZUVkaXQucHJvdG90eXBlLmFkZD1mdW5jdGlvbihhKXt0aGlzLmNoYW5nZXMucHVzaChhKX07bXhVbmRvYWJsZUVkaXQucHJvdG90eXBlLm5vdGlmeT1mdW5jdGlvbigpe307bXhVbmRvYWJsZUVkaXQucHJvdG90eXBlLmRpZT1mdW5jdGlvbigpe307Cm14VW5kb2FibGVFZGl0LnByb3RvdHlwZS51bmRvPWZ1bmN0aW9uKCl7aWYoIXRoaXMudW5kb25lKXt0aGlzLnNvdXJjZS5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5TVEFSVF9FRElUKSk7Zm9yKHZhciBhPXRoaXMuY2hhbmdlcy5sZW5ndGgtMTswPD1hO2EtLSl7dmFyIGI9dGhpcy5jaGFuZ2VzW2FdO251bGwhPWIuZXhlY3V0ZT9iLmV4ZWN1dGUoKTpudWxsIT1iLnVuZG8mJmIudW5kbygpO3RoaXMuc291cmNlLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LkVYRUNVVEVELCJjaGFuZ2UiLGIpKX10aGlzLnVuZG9uZT0hMDt0aGlzLnJlZG9uZT0hMTt0aGlzLnNvdXJjZS5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5FTkRfRURJVCkpfXRoaXMubm90aWZ5KCl9OwpteFVuZG9hYmxlRWRpdC5wcm90b3R5cGUucmVkbz1mdW5jdGlvbigpe2lmKCF0aGlzLnJlZG9uZSl7dGhpcy5zb3VyY2UuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KG14RXZlbnQuU1RBUlRfRURJVCkpO2Zvcih2YXIgYT10aGlzLmNoYW5nZXMubGVuZ3RoLGI9MDtiPGE7YisrKXt2YXIgYz10aGlzLmNoYW5nZXNbYl07bnVsbCE9Yy5leGVjdXRlP2MuZXhlY3V0ZSgpOm51bGwhPWMucmVkbyYmYy5yZWRvKCk7dGhpcy5zb3VyY2UuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KG14RXZlbnQuRVhFQ1VURUQsImNoYW5nZSIsYykpfXRoaXMudW5kb25lPSExO3RoaXMucmVkb25lPSEwO3RoaXMuc291cmNlLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LkVORF9FRElUKSl9dGhpcy5ub3RpZnkoKX07ZnVuY3Rpb24gbXhVbmRvTWFuYWdlcihhKXt0aGlzLnNpemU9bnVsbCE9YT9hOjEwMDt0aGlzLmNsZWFyKCl9bXhVbmRvTWFuYWdlci5wcm90b3R5cGU9bmV3IG14RXZlbnRTb3VyY2U7Cm14VW5kb01hbmFnZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yPW14VW5kb01hbmFnZXI7bXhVbmRvTWFuYWdlci5wcm90b3R5cGUuc2l6ZT1udWxsO214VW5kb01hbmFnZXIucHJvdG90eXBlLmhpc3Rvcnk9bnVsbDtteFVuZG9NYW5hZ2VyLnByb3RvdHlwZS5pbmRleE9mTmV4dEFkZD0wO214VW5kb01hbmFnZXIucHJvdG90eXBlLmlzRW1wdHk9ZnVuY3Rpb24oKXtyZXR1cm4gMD09dGhpcy5oaXN0b3J5Lmxlbmd0aH07bXhVbmRvTWFuYWdlci5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXt0aGlzLmhpc3Rvcnk9W107dGhpcy5pbmRleE9mTmV4dEFkZD0wO3RoaXMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KG14RXZlbnQuQ0xFQVIpKX07bXhVbmRvTWFuYWdlci5wcm90b3R5cGUuY2FuVW5kbz1mdW5jdGlvbigpe3JldHVybiAwPHRoaXMuaW5kZXhPZk5leHRBZGR9OwpteFVuZG9NYW5hZ2VyLnByb3RvdHlwZS51bmRvPWZ1bmN0aW9uKCl7Zm9yKDswPHRoaXMuaW5kZXhPZk5leHRBZGQ7KXt2YXIgYT10aGlzLmhpc3RvcnlbLS10aGlzLmluZGV4T2ZOZXh0QWRkXTthLnVuZG8oKTtpZihhLmlzU2lnbmlmaWNhbnQoKSl7dGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5VTkRPLCJlZGl0IixhKSk7YnJlYWt9fX07bXhVbmRvTWFuYWdlci5wcm90b3R5cGUuY2FuUmVkbz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmluZGV4T2ZOZXh0QWRkPHRoaXMuaGlzdG9yeS5sZW5ndGh9OwpteFVuZG9NYW5hZ2VyLnByb3RvdHlwZS5yZWRvPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPXRoaXMuaGlzdG9yeS5sZW5ndGg7dGhpcy5pbmRleE9mTmV4dEFkZDxhOyl7dmFyIGI9dGhpcy5oaXN0b3J5W3RoaXMuaW5kZXhPZk5leHRBZGQrK107Yi5yZWRvKCk7aWYoYi5pc1NpZ25pZmljYW50KCkpe3RoaXMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KG14RXZlbnQuUkVETywiZWRpdCIsYikpO2JyZWFrfX19O214VW5kb01hbmFnZXIucHJvdG90eXBlLnVuZG9hYmxlRWRpdEhhcHBlbmVkPWZ1bmN0aW9uKGEpe3RoaXMudHJpbSgpOzA8dGhpcy5zaXplJiZ0aGlzLnNpemU9PXRoaXMuaGlzdG9yeS5sZW5ndGgmJnRoaXMuaGlzdG9yeS5zaGlmdCgpO3RoaXMuaGlzdG9yeS5wdXNoKGEpO3RoaXMuaW5kZXhPZk5leHRBZGQ9dGhpcy5oaXN0b3J5Lmxlbmd0aDt0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LkFERCwiZWRpdCIsYSkpfTsKbXhVbmRvTWFuYWdlci5wcm90b3R5cGUudHJpbT1mdW5jdGlvbigpe2lmKHRoaXMuaGlzdG9yeS5sZW5ndGg+dGhpcy5pbmRleE9mTmV4dEFkZClmb3IodmFyIGE9dGhpcy5oaXN0b3J5LnNwbGljZSh0aGlzLmluZGV4T2ZOZXh0QWRkLHRoaXMuaGlzdG9yeS5sZW5ndGgtdGhpcy5pbmRleE9mTmV4dEFkZCksYj0wO2I8YS5sZW5ndGg7YisrKWFbYl0uZGllKCl9O3ZhciBteFVybENvbnZlcnRlcj1mdW5jdGlvbigpe307bXhVcmxDb252ZXJ0ZXIucHJvdG90eXBlLmVuYWJsZWQ9ITA7bXhVcmxDb252ZXJ0ZXIucHJvdG90eXBlLmJhc2VVcmw9bnVsbDtteFVybENvbnZlcnRlci5wcm90b3R5cGUuYmFzZURvbWFpbj1udWxsOwpteFVybENvbnZlcnRlci5wcm90b3R5cGUudXBkYXRlQmFzZVVybD1mdW5jdGlvbigpe3RoaXMuYmFzZURvbWFpbj1sb2NhdGlvbi5wcm90b2NvbCsiLy8iK2xvY2F0aW9uLmhvc3Q7dGhpcy5iYXNlVXJsPXRoaXMuYmFzZURvbWFpbitsb2NhdGlvbi5wYXRobmFtZTt2YXIgYT10aGlzLmJhc2VVcmwubGFzdEluZGV4T2YoIi8iKTswPGEmJih0aGlzLmJhc2VVcmw9dGhpcy5iYXNlVXJsLnN1YnN0cmluZygwLGErMSkpfTtteFVybENvbnZlcnRlci5wcm90b3R5cGUuaXNFbmFibGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZW5hYmxlZH07bXhVcmxDb252ZXJ0ZXIucHJvdG90eXBlLnNldEVuYWJsZWQ9ZnVuY3Rpb24oYSl7dGhpcy5lbmFibGVkPWF9O214VXJsQ29udmVydGVyLnByb3RvdHlwZS5nZXRCYXNlVXJsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYmFzZVVybH07bXhVcmxDb252ZXJ0ZXIucHJvdG90eXBlLnNldEJhc2VVcmw9ZnVuY3Rpb24oYSl7dGhpcy5iYXNlVXJsPWF9OwpteFVybENvbnZlcnRlci5wcm90b3R5cGUuZ2V0QmFzZURvbWFpbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmJhc2VEb21haW59O214VXJsQ29udmVydGVyLnByb3RvdHlwZS5zZXRCYXNlRG9tYWluPWZ1bmN0aW9uKGEpe3RoaXMuYmFzZURvbWFpbj1hfTtteFVybENvbnZlcnRlci5wcm90b3R5cGUuaXNSZWxhdGl2ZVVybD1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YSYmIi8vIiE9YS5zdWJzdHJpbmcoMCwyKSYmImh0dHA6Ly8iIT1hLnN1YnN0cmluZygwLDcpJiYiaHR0cHM6Ly8iIT1hLnN1YnN0cmluZygwLDgpJiYiZGF0YTppbWFnZSIhPWEuc3Vic3RyaW5nKDAsMTApJiYiZmlsZTovLyIhPWEuc3Vic3RyaW5nKDAsNyl9OwpteFVybENvbnZlcnRlci5wcm90b3R5cGUuY29udmVydD1mdW5jdGlvbihhKXt0aGlzLmlzRW5hYmxlZCgpJiZ0aGlzLmlzUmVsYXRpdmVVcmwoYSkmJihudWxsPT10aGlzLmdldEJhc2VVcmwoKSYmdGhpcy51cGRhdGVCYXNlVXJsKCksYT0iLyI9PWEuY2hhckF0KDApP3RoaXMuZ2V0QmFzZURvbWFpbigpK2E6dGhpcy5nZXRCYXNlVXJsKCkrYSk7cmV0dXJuIGF9OwpmdW5jdGlvbiBteFBhbm5pbmdNYW5hZ2VyKGEpe3RoaXMudGhyZWFkPW51bGw7dGhpcy5hY3RpdmU9ITE7dGhpcy5keT10aGlzLmR4PXRoaXMudDB5PXRoaXMudDB4PXRoaXMudGR5PXRoaXMudGR4PTA7dGhpcy5zY3JvbGxiYXJzPSExO3RoaXMuc2Nyb2xsVG9wPXRoaXMuc2Nyb2xsTGVmdD0wO3RoaXMubW91c2VMaXN0ZW5lcj17bW91c2VEb3duOmZ1bmN0aW9uKGEsYil7fSxtb3VzZU1vdmU6ZnVuY3Rpb24oYSxiKXt9LG1vdXNlVXA6bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSxiKXt0aGlzLmFjdGl2ZSYmdGhpcy5zdG9wKCl9KX07YS5hZGRNb3VzZUxpc3RlbmVyKHRoaXMubW91c2VMaXN0ZW5lcik7dGhpcy5tb3VzZVVwTGlzdGVuZXI9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt0aGlzLmFjdGl2ZSYmdGhpcy5zdG9wKCl9KTtteEV2ZW50LmFkZExpc3RlbmVyKGRvY3VtZW50LCJtb3VzZXVwIix0aGlzLm1vdXNlVXBMaXN0ZW5lcik7dmFyIGI9bXhVdGlscy5iaW5kKHRoaXMsCmZ1bmN0aW9uKCl7dGhpcy5zY3JvbGxiYXJzPW14VXRpbHMuaGFzU2Nyb2xsYmFycyhhLmNvbnRhaW5lcik7dGhpcy5zY3JvbGxMZWZ0PWEuY29udGFpbmVyLnNjcm9sbExlZnQ7dGhpcy5zY3JvbGxUb3A9YS5jb250YWluZXIuc2Nyb2xsVG9wO3JldHVybiB3aW5kb3cuc2V0SW50ZXJ2YWwobXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt0aGlzLnRkeC09dGhpcy5keDt0aGlzLnRkeS09dGhpcy5keTt0aGlzLnNjcm9sbGJhcnM/KGEucGFuR3JhcGgoLWEuY29udGFpbmVyLnNjcm9sbExlZnQtTWF0aC5jZWlsKHRoaXMuZHgpLC1hLmNvbnRhaW5lci5zY3JvbGxUb3AtTWF0aC5jZWlsKHRoaXMuZHkpKSxhLnBhbkR4PXRoaXMuc2Nyb2xsTGVmdC1hLmNvbnRhaW5lci5zY3JvbGxMZWZ0LGEucGFuRHk9dGhpcy5zY3JvbGxUb3AtYS5jb250YWluZXIuc2Nyb2xsVG9wLGEuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KG14RXZlbnQuUEFOKSkpOmEucGFuR3JhcGgodGhpcy5nZXREeCgpLAp0aGlzLmdldER5KCkpfSksdGhpcy5kZWxheSl9KTt0aGlzLmlzQWN0aXZlPWZ1bmN0aW9uKCl7cmV0dXJuIGFjdGl2ZX07dGhpcy5nZXREeD1mdW5jdGlvbigpe3JldHVybiBNYXRoLnJvdW5kKHRoaXMudGR4KX07dGhpcy5nZXREeT1mdW5jdGlvbigpe3JldHVybiBNYXRoLnJvdW5kKHRoaXMudGR5KX07dGhpcy5zdGFydD1mdW5jdGlvbigpe3RoaXMudDB4PWEudmlldy50cmFuc2xhdGUueDt0aGlzLnQweT1hLnZpZXcudHJhbnNsYXRlLnk7dGhpcy5hY3RpdmU9ITB9O3RoaXMucGFuVG89ZnVuY3Rpb24oYyxkLGUsZil7dGhpcy5hY3RpdmV8fHRoaXMuc3RhcnQoKTt0aGlzLnNjcm9sbExlZnQ9YS5jb250YWluZXIuc2Nyb2xsTGVmdDt0aGlzLnNjcm9sbFRvcD1hLmNvbnRhaW5lci5zY3JvbGxUb3A7dmFyIGc9YS5jb250YWluZXI7dGhpcy5keD1jKyhudWxsIT1lP2U6MCktZy5zY3JvbGxMZWZ0LWcuY2xpZW50V2lkdGg7dGhpcy5keD0wPnRoaXMuZHgmJk1hdGguYWJzKHRoaXMuZHgpPAp0aGlzLmJvcmRlcj90aGlzLmJvcmRlcit0aGlzLmR4OnRoaXMuaGFuZGxlTW91c2VPdXQ/TWF0aC5tYXgodGhpcy5keCwwKTowOzA9PXRoaXMuZHgmJih0aGlzLmR4PWMtZy5zY3JvbGxMZWZ0LHRoaXMuZHg9MDx0aGlzLmR4JiZ0aGlzLmR4PHRoaXMuYm9yZGVyP3RoaXMuZHgtdGhpcy5ib3JkZXI6dGhpcy5oYW5kbGVNb3VzZU91dD9NYXRoLm1pbigwLHRoaXMuZHgpOjApO3RoaXMuZHk9ZCsobnVsbCE9Zj9mOjApLWcuc2Nyb2xsVG9wLWcuY2xpZW50SGVpZ2h0O3RoaXMuZHk9MD50aGlzLmR5JiZNYXRoLmFicyh0aGlzLmR5KTx0aGlzLmJvcmRlcj90aGlzLmJvcmRlcit0aGlzLmR5OnRoaXMuaGFuZGxlTW91c2VPdXQ/TWF0aC5tYXgodGhpcy5keSwwKTowOzA9PXRoaXMuZHkmJih0aGlzLmR5PWQtZy5zY3JvbGxUb3AsdGhpcy5keT0wPHRoaXMuZHkmJnRoaXMuZHk8dGhpcy5ib3JkZXI/dGhpcy5keS10aGlzLmJvcmRlcjp0aGlzLmhhbmRsZU1vdXNlT3V0P01hdGgubWluKDAsdGhpcy5keSk6CjApOzAhPXRoaXMuZHh8fDAhPXRoaXMuZHk/KHRoaXMuZHgqPXRoaXMuZGFtcGVyLHRoaXMuZHkqPXRoaXMuZGFtcGVyLG51bGw9PXRoaXMudGhyZWFkJiYodGhpcy50aHJlYWQ9YigpKSk6bnVsbCE9dGhpcy50aHJlYWQmJih3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLnRocmVhZCksdGhpcy50aHJlYWQ9bnVsbCl9O3RoaXMuc3RvcD1mdW5jdGlvbigpe2lmKHRoaXMuYWN0aXZlKWlmKHRoaXMuYWN0aXZlPSExLG51bGwhPXRoaXMudGhyZWFkJiYod2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy50aHJlYWQpLHRoaXMudGhyZWFkPW51bGwpLHRoaXMudGR5PXRoaXMudGR4PTAsdGhpcy5zY3JvbGxiYXJzKWEucGFuRHg9MCxhLnBhbkR5PTAsYS5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5QQU4pKTtlbHNle3ZhciBiPWEucGFuRHgsZD1hLnBhbkR5O2lmKDAhPWJ8fDAhPWQpYS5wYW5HcmFwaCgwLDApLGEudmlldy5zZXRUcmFuc2xhdGUodGhpcy50MHgrYi9hLnZpZXcuc2NhbGUsCnRoaXMudDB5K2QvYS52aWV3LnNjYWxlKX19O3RoaXMuZGVzdHJveT1mdW5jdGlvbigpe2EucmVtb3ZlTW91c2VMaXN0ZW5lcih0aGlzLm1vdXNlTGlzdGVuZXIpO214RXZlbnQucmVtb3ZlTGlzdGVuZXIoZG9jdW1lbnQsIm1vdXNldXAiLHRoaXMubW91c2VVcExpc3RlbmVyKX19bXhQYW5uaW5nTWFuYWdlci5wcm90b3R5cGUuZGFtcGVyPTEvNjtteFBhbm5pbmdNYW5hZ2VyLnByb3RvdHlwZS5kZWxheT0xMDtteFBhbm5pbmdNYW5hZ2VyLnByb3RvdHlwZS5oYW5kbGVNb3VzZU91dD0hMDtteFBhbm5pbmdNYW5hZ2VyLnByb3RvdHlwZS5ib3JkZXI9MDtmdW5jdGlvbiBteFBvcHVwTWVudShhKXt0aGlzLmZhY3RvcnlNZXRob2Q9YTtudWxsIT1hJiZ0aGlzLmluaXQoKX1teFBvcHVwTWVudS5wcm90b3R5cGU9bmV3IG14RXZlbnRTb3VyY2U7bXhQb3B1cE1lbnUucHJvdG90eXBlLmNvbnN0cnVjdG9yPW14UG9wdXBNZW51OwpteFBvcHVwTWVudS5wcm90b3R5cGUuc3VibWVudUltYWdlPW14Q2xpZW50LmltYWdlQmFzZVBhdGgrIi9zdWJtZW51LmdpZiI7bXhQb3B1cE1lbnUucHJvdG90eXBlLnpJbmRleD0xMDAwNjtteFBvcHVwTWVudS5wcm90b3R5cGUuZmFjdG9yeU1ldGhvZD1udWxsO214UG9wdXBNZW51LnByb3RvdHlwZS51c2VMZWZ0QnV0dG9uRm9yUG9wdXA9ITE7bXhQb3B1cE1lbnUucHJvdG90eXBlLmVuYWJsZWQ9ITA7bXhQb3B1cE1lbnUucHJvdG90eXBlLml0ZW1Db3VudD0wO214UG9wdXBNZW51LnByb3RvdHlwZS5hdXRvRXhwYW5kPSExO214UG9wdXBNZW51LnByb3RvdHlwZS5zbWFydFNlcGFyYXRvcnM9ITE7bXhQb3B1cE1lbnUucHJvdG90eXBlLmxhYmVscz0hMDsKbXhQb3B1cE1lbnUucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oKXt0aGlzLnRhYmxlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRhYmxlIik7dGhpcy50YWJsZS5jbGFzc05hbWU9Im14UG9wdXBNZW51Ijt0aGlzLnRib2R5PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRib2R5Iik7dGhpcy50YWJsZS5hcHBlbmRDaGlsZCh0aGlzLnRib2R5KTt0aGlzLmRpdj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTt0aGlzLmRpdi5jbGFzc05hbWU9Im14UG9wdXBNZW51Ijt0aGlzLmRpdi5zdHlsZS5kaXNwbGF5PSJpbmxpbmUiO3RoaXMuZGl2LnN0eWxlLnpJbmRleD10aGlzLnpJbmRleDt0aGlzLmRpdi5hcHBlbmRDaGlsZCh0aGlzLnRhYmxlKTtteEV2ZW50LmRpc2FibGVDb250ZXh0TWVudSh0aGlzLmRpdil9O214UG9wdXBNZW51LnByb3RvdHlwZS5pc0VuYWJsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbmFibGVkfTsKbXhQb3B1cE1lbnUucHJvdG90eXBlLnNldEVuYWJsZWQ9ZnVuY3Rpb24oYSl7dGhpcy5lbmFibGVkPWF9O214UG9wdXBNZW51LnByb3RvdHlwZS5pc1BvcHVwVHJpZ2dlcj1mdW5jdGlvbihhKXtyZXR1cm4gYS5pc1BvcHVwVHJpZ2dlcigpfHx0aGlzLnVzZUxlZnRCdXR0b25Gb3JQb3B1cCYmbXhFdmVudC5pc0xlZnRNb3VzZUJ1dHRvbihhLmdldEV2ZW50KCkpfTsKbXhQb3B1cE1lbnUucHJvdG90eXBlLmFkZEl0ZW09ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxrKXtkPWR8fHRoaXM7dGhpcy5pdGVtQ291bnQrKztkLndpbGxBZGRTZXBhcmF0b3ImJihkLmNvbnRhaW5zSXRlbXMmJnRoaXMuYWRkU2VwYXJhdG9yKGQsITApLGQud2lsbEFkZFNlcGFyYXRvcj0hMSk7ZC5jb250YWluc0l0ZW1zPSEwO3ZhciBsPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRyIik7bC5jbGFzc05hbWU9Im14UG9wdXBNZW51SXRlbSI7dmFyIG09ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGQiKTttLmNsYXNzTmFtZT0ibXhQb3B1cE1lbnVJY29uIjtudWxsIT1iPyhlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImltZyIpLGUuc3JjPWIsbS5hcHBlbmRDaGlsZChlKSk6bnVsbCE9ZSYmKGI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IiksYi5jbGFzc05hbWU9ZSxtLmFwcGVuZENoaWxkKGIpKTtsLmFwcGVuZENoaWxkKG0pO3RoaXMubGFiZWxzJiYobT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ZCIpLAptLmNsYXNzTmFtZT0ibXhQb3B1cE1lbnVJdGVtIisobnVsbD09Znx8Zj8iIjoiIG14RGlzYWJsZWQiKSxteFV0aWxzLndyaXRlKG0sYSksbS5hbGlnbj0ibGVmdCIsbC5hcHBlbmRDaGlsZChtKSxhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRkIiksYS5jbGFzc05hbWU9Im14UG9wdXBNZW51SXRlbSIrKG51bGw9PWZ8fGY/IiI6IiBteERpc2FibGVkIiksYS5zdHlsZS5wYWRkaW5nUmlnaHQ9IjZweCIsYS5zdHlsZS50ZXh0QWxpZ249InJpZ2h0IixsLmFwcGVuZENoaWxkKGEpLG51bGw9PWQuZGl2JiZ0aGlzLmNyZWF0ZVN1Ym1lbnUoZCkpO2QudGJvZHkuYXBwZW5kQ2hpbGQobCk7aWYoMCE9ZyYmMCE9Zil7dmFyIG49bnVsbDtteEV2ZW50LmFkZEdlc3R1cmVMaXN0ZW5lcnMobCxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXt0aGlzLmV2ZW50UmVjZWl2ZXI9bDtkLmFjdGl2ZVJvdyE9bCYmZC5hY3RpdmVSb3chPWQmJihudWxsIT1kLmFjdGl2ZVJvdyYmbnVsbCE9ZC5hY3RpdmVSb3cuZGl2LnBhcmVudE5vZGUmJgp0aGlzLmhpZGVTdWJtZW51KGQpLG51bGwhPWwuZGl2JiYodGhpcy5zaG93U3VibWVudShkLGwpLGQuYWN0aXZlUm93PWwpKTtudWxsPT1kb2N1bWVudC5zZWxlY3Rpb258fCFteENsaWVudC5JU19RVUlSS1MmJjghPWRvY3VtZW50LmRvY3VtZW50TW9kZXx8KG49ZG9jdW1lbnQuc2VsZWN0aW9uLmNyZWF0ZVJhbmdlKCkpO214RXZlbnQuY29uc3VtZShhKX0pLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe2QuYWN0aXZlUm93IT1sJiZkLmFjdGl2ZVJvdyE9ZCYmKG51bGwhPWQuYWN0aXZlUm93JiZudWxsIT1kLmFjdGl2ZVJvdy5kaXYucGFyZW50Tm9kZSYmdGhpcy5oaWRlU3VibWVudShkKSx0aGlzLmF1dG9FeHBhbmQmJm51bGwhPWwuZGl2JiYodGhpcy5zaG93U3VibWVudShkLGwpLGQuYWN0aXZlUm93PWwpKTtrfHwobC5jbGFzc05hbWU9Im14UG9wdXBNZW51SXRlbUhvdmVyIil9KSxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXtpZih0aGlzLmV2ZW50UmVjZWl2ZXI9PQpsKXtkLmFjdGl2ZVJvdyE9bCYmdGhpcy5oaWRlTWVudSgpO2lmKG51bGwhPW4pe3RyeXtuLnNlbGVjdCgpfWNhdGNoKHEpe31uPW51bGx9bnVsbCE9YyYmYyhhKX10aGlzLmV2ZW50UmVjZWl2ZXI9bnVsbDtteEV2ZW50LmNvbnN1bWUoYSl9KSk7a3x8bXhFdmVudC5hZGRMaXN0ZW5lcihsLCJtb3VzZW91dCIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7bC5jbGFzc05hbWU9Im14UG9wdXBNZW51SXRlbSJ9KSl9cmV0dXJuIGx9O214UG9wdXBNZW51LnByb3RvdHlwZS5hZGRDaGVja21hcms9ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLmZpcnN0Q2hpbGQubmV4dFNpYmxpbmc7Yy5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2U9InVybCgnIitiKyInKSI7Yy5zdHlsZS5iYWNrZ3JvdW5kUmVwZWF0PSJuby1yZXBlYXQiO2Muc3R5bGUuYmFja2dyb3VuZFBvc2l0aW9uPSIycHggNTAlIn07Cm14UG9wdXBNZW51LnByb3RvdHlwZS5jcmVhdGVTdWJtZW51PWZ1bmN0aW9uKGEpe2EudGFibGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGFibGUiKTthLnRhYmxlLmNsYXNzTmFtZT0ibXhQb3B1cE1lbnUiO2EudGJvZHk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGJvZHkiKTthLnRhYmxlLmFwcGVuZENoaWxkKGEudGJvZHkpO2EuZGl2PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2EuZGl2LmNsYXNzTmFtZT0ibXhQb3B1cE1lbnUiO2EuZGl2LnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSI7YS5kaXYuc3R5bGUuZGlzcGxheT0iaW5saW5lIjthLmRpdi5zdHlsZS56SW5kZXg9dGhpcy56SW5kZXg7YS5kaXYuYXBwZW5kQ2hpbGQoYS50YWJsZSk7dmFyIGI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW1nIik7Yi5zZXRBdHRyaWJ1dGUoInNyYyIsdGhpcy5zdWJtZW51SW1hZ2UpO3RkPWEuZmlyc3RDaGlsZC5uZXh0U2libGluZy5uZXh0U2libGluZzt0ZC5hcHBlbmRDaGlsZChiKX07Cm14UG9wdXBNZW51LnByb3RvdHlwZS5zaG93U3VibWVudT1mdW5jdGlvbihhLGIpe2lmKG51bGwhPWIuZGl2KXtiLmRpdi5zdHlsZS5sZWZ0PWEuZGl2Lm9mZnNldExlZnQrYi5vZmZzZXRMZWZ0K2Iub2Zmc2V0V2lkdGgtMSsicHgiO2IuZGl2LnN0eWxlLnRvcD1hLmRpdi5vZmZzZXRUb3ArYi5vZmZzZXRUb3ArInB4Ijtkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGIuZGl2KTt2YXIgYz1wYXJzZUludChiLmRpdi5vZmZzZXRMZWZ0KSxkPXBhcnNlSW50KGIuZGl2Lm9mZnNldFdpZHRoKSxlPW14VXRpbHMuZ2V0RG9jdW1lbnRTY3JvbGxPcmlnaW4oZG9jdW1lbnQpLGY9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O2MrZD5lLngrKGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGh8fGYuY2xpZW50V2lkdGgpJiYoYi5kaXYuc3R5bGUubGVmdD1NYXRoLm1heCgwLGEuZGl2Lm9mZnNldExlZnQtZCsobXhDbGllbnQuSVNfSUU/NjotNikpKyJweCIpO214VXRpbHMuZml0KGIuZGl2KX19OwpteFBvcHVwTWVudS5wcm90b3R5cGUuYWRkU2VwYXJhdG9yPWZ1bmN0aW9uKGEsYil7YT1hfHx0aGlzO2lmKHRoaXMuc21hcnRTZXBhcmF0b3JzJiYhYilhLndpbGxBZGRTZXBhcmF0b3I9ITA7ZWxzZSBpZihudWxsIT1hLnRib2R5KXthLndpbGxBZGRTZXBhcmF0b3I9ITE7dmFyIGM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidHIiKSxkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRkIik7ZC5jbGFzc05hbWU9Im14UG9wdXBNZW51SWNvbiI7ZC5zdHlsZS5wYWRkaW5nPSIwIDAgMCAwcHgiO2MuYXBwZW5kQ2hpbGQoZCk7ZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ZCIpO2Quc3R5bGUucGFkZGluZz0iMCAwIDAgMHB4IjtkLnNldEF0dHJpYnV0ZSgiY29sU3BhbiIsIjIiKTt2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJociIpO2Uuc2V0QXR0cmlidXRlKCJzaXplIiwiMSIpO2QuYXBwZW5kQ2hpbGQoZSk7Yy5hcHBlbmRDaGlsZChkKTthLnRib2R5LmFwcGVuZENoaWxkKGMpfX07Cm14UG9wdXBNZW51LnByb3RvdHlwZS5wb3B1cD1mdW5jdGlvbihhLGIsYyxkKXtpZihudWxsIT10aGlzLmRpdiYmbnVsbCE9dGhpcy50Ym9keSYmbnVsbCE9dGhpcy5mYWN0b3J5TWV0aG9kKXt0aGlzLmRpdi5zdHlsZS5sZWZ0PWErInB4Ijtmb3IodGhpcy5kaXYuc3R5bGUudG9wPWIrInB4IjtudWxsIT10aGlzLnRib2R5LmZpcnN0Q2hpbGQ7KW14RXZlbnQucmVsZWFzZSh0aGlzLnRib2R5LmZpcnN0Q2hpbGQpLHRoaXMudGJvZHkucmVtb3ZlQ2hpbGQodGhpcy50Ym9keS5maXJzdENoaWxkKTt0aGlzLml0ZW1Db3VudD0wO3RoaXMuZmFjdG9yeU1ldGhvZCh0aGlzLGMsZCk7MDx0aGlzLml0ZW1Db3VudCYmKHRoaXMuc2hvd01lbnUoKSx0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LlNIT1cpKSl9fTsKbXhQb3B1cE1lbnUucHJvdG90eXBlLmlzTWVudVNob3dpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9dGhpcy5kaXYmJnRoaXMuZGl2LnBhcmVudE5vZGU9PWRvY3VtZW50LmJvZHl9O214UG9wdXBNZW51LnByb3RvdHlwZS5zaG93TWVudT1mdW5jdGlvbigpezk8PWRvY3VtZW50LmRvY3VtZW50TW9kZSYmKHRoaXMuZGl2LnN0eWxlLmZpbHRlcj0ibm9uZSIpO2RvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5kaXYpO214VXRpbHMuZml0KHRoaXMuZGl2KX07bXhQb3B1cE1lbnUucHJvdG90eXBlLmhpZGVNZW51PWZ1bmN0aW9uKCl7bnVsbCE9dGhpcy5kaXYmJihudWxsIT10aGlzLmRpdi5wYXJlbnROb2RlJiZ0aGlzLmRpdi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuZGl2KSx0aGlzLmhpZGVTdWJtZW51KHRoaXMpLHRoaXMuY29udGFpbnNJdGVtcz0hMSx0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LkhJREUpKSl9OwpteFBvcHVwTWVudS5wcm90b3R5cGUuaGlkZVN1Ym1lbnU9ZnVuY3Rpb24oYSl7bnVsbCE9YS5hY3RpdmVSb3cmJih0aGlzLmhpZGVTdWJtZW51KGEuYWN0aXZlUm93KSxudWxsIT1hLmFjdGl2ZVJvdy5kaXYucGFyZW50Tm9kZSYmYS5hY3RpdmVSb3cuZGl2LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYS5hY3RpdmVSb3cuZGl2KSxhLmFjdGl2ZVJvdz1udWxsKX07bXhQb3B1cE1lbnUucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXtudWxsIT10aGlzLmRpdiYmKG14RXZlbnQucmVsZWFzZSh0aGlzLmRpdiksbnVsbCE9dGhpcy5kaXYucGFyZW50Tm9kZSYmdGhpcy5kaXYucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmRpdiksdGhpcy5kaXY9bnVsbCl9OwpmdW5jdGlvbiBteEF1dG9TYXZlTWFuYWdlcihhKXt0aGlzLmNoYW5nZUhhbmRsZXI9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSxjKXt0aGlzLmlzRW5hYmxlZCgpJiZ0aGlzLmdyYXBoTW9kZWxDaGFuZ2VkKGMuZ2V0UHJvcGVydHkoImVkaXQiKS5jaGFuZ2VzKX0pO3RoaXMuc2V0R3JhcGgoYSl9bXhBdXRvU2F2ZU1hbmFnZXIucHJvdG90eXBlPW5ldyBteEV2ZW50U291cmNlO214QXV0b1NhdmVNYW5hZ2VyLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1teEF1dG9TYXZlTWFuYWdlcjtteEF1dG9TYXZlTWFuYWdlci5wcm90b3R5cGUuZ3JhcGg9bnVsbDtteEF1dG9TYXZlTWFuYWdlci5wcm90b3R5cGUuYXV0b1NhdmVEZWxheT0xMDtteEF1dG9TYXZlTWFuYWdlci5wcm90b3R5cGUuYXV0b1NhdmVUaHJvdHRsZT0yO214QXV0b1NhdmVNYW5hZ2VyLnByb3RvdHlwZS5hdXRvU2F2ZVRocmVzaG9sZD01O214QXV0b1NhdmVNYW5hZ2VyLnByb3RvdHlwZS5pZ25vcmVkQ2hhbmdlcz0wOwpteEF1dG9TYXZlTWFuYWdlci5wcm90b3R5cGUubGFzdFNuYXBzaG90PTA7bXhBdXRvU2F2ZU1hbmFnZXIucHJvdG90eXBlLmVuYWJsZWQ9ITA7bXhBdXRvU2F2ZU1hbmFnZXIucHJvdG90eXBlLmNoYW5nZUhhbmRsZXI9bnVsbDtteEF1dG9TYXZlTWFuYWdlci5wcm90b3R5cGUuaXNFbmFibGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZW5hYmxlZH07bXhBdXRvU2F2ZU1hbmFnZXIucHJvdG90eXBlLnNldEVuYWJsZWQ9ZnVuY3Rpb24oYSl7dGhpcy5lbmFibGVkPWF9O214QXV0b1NhdmVNYW5hZ2VyLnByb3RvdHlwZS5zZXRHcmFwaD1mdW5jdGlvbihhKXtudWxsIT10aGlzLmdyYXBoJiZ0aGlzLmdyYXBoLmdldE1vZGVsKCkucmVtb3ZlTGlzdGVuZXIodGhpcy5jaGFuZ2VIYW5kbGVyKTt0aGlzLmdyYXBoPWE7bnVsbCE9dGhpcy5ncmFwaCYmdGhpcy5ncmFwaC5nZXRNb2RlbCgpLmFkZExpc3RlbmVyKG14RXZlbnQuQ0hBTkdFLHRoaXMuY2hhbmdlSGFuZGxlcil9OwpteEF1dG9TYXZlTWFuYWdlci5wcm90b3R5cGUuc2F2ZT1mdW5jdGlvbigpe307bXhBdXRvU2F2ZU1hbmFnZXIucHJvdG90eXBlLmdyYXBoTW9kZWxDaGFuZ2VkPWZ1bmN0aW9uKGEpe2E9KChuZXcgRGF0ZSkuZ2V0VGltZSgpLXRoaXMubGFzdFNuYXBzaG90KS8xRTM7YT50aGlzLmF1dG9TYXZlRGVsYXl8fHRoaXMuaWdub3JlZENoYW5nZXM+PXRoaXMuYXV0b1NhdmVUaHJlc2hvbGQmJmE+dGhpcy5hdXRvU2F2ZVRocm90dGxlPyh0aGlzLnNhdmUoKSx0aGlzLnJlc2V0KCkpOnRoaXMuaWdub3JlZENoYW5nZXMrK307bXhBdXRvU2F2ZU1hbmFnZXIucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5sYXN0U25hcHNob3Q9KG5ldyBEYXRlKS5nZXRUaW1lKCk7dGhpcy5pZ25vcmVkQ2hhbmdlcz0wfTtteEF1dG9TYXZlTWFuYWdlci5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuc2V0R3JhcGgobnVsbCl9OwpmdW5jdGlvbiBteEFuaW1hdGlvbihhKXt0aGlzLmRlbGF5PW51bGwhPWE/YToyMH1teEFuaW1hdGlvbi5wcm90b3R5cGU9bmV3IG14RXZlbnRTb3VyY2U7bXhBbmltYXRpb24ucHJvdG90eXBlLmNvbnN0cnVjdG9yPW14QW5pbWF0aW9uO214QW5pbWF0aW9uLnByb3RvdHlwZS5kZWxheT1udWxsO214QW5pbWF0aW9uLnByb3RvdHlwZS50aHJlYWQ9bnVsbDtteEFuaW1hdGlvbi5wcm90b3R5cGUuaXNSdW5uaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPXRoaXMudGhyZWFkfTtteEFuaW1hdGlvbi5wcm90b3R5cGUuc3RhcnRBbmltYXRpb249ZnVuY3Rpb24oKXtudWxsPT10aGlzLnRocmVhZCYmKHRoaXMudGhyZWFkPXdpbmRvdy5zZXRJbnRlcnZhbChteFV0aWxzLmJpbmQodGhpcyx0aGlzLnVwZGF0ZUFuaW1hdGlvbiksdGhpcy5kZWxheSkpfTtteEFuaW1hdGlvbi5wcm90b3R5cGUudXBkYXRlQW5pbWF0aW9uPWZ1bmN0aW9uKCl7dGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5FWEVDVVRFKSl9OwpteEFuaW1hdGlvbi5wcm90b3R5cGUuc3RvcEFuaW1hdGlvbj1mdW5jdGlvbigpe251bGwhPXRoaXMudGhyZWFkJiYod2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy50aHJlYWQpLHRoaXMudGhyZWFkPW51bGwsdGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5ET05FKSkpfTtmdW5jdGlvbiBteE1vcnBoaW5nKGEsYixjLGQpe214QW5pbWF0aW9uLmNhbGwodGhpcyxkKTt0aGlzLmdyYXBoPWE7dGhpcy5zdGVwcz1udWxsIT1iP2I6Njt0aGlzLmVhc2U9bnVsbCE9Yz9jOjEuNX1teE1vcnBoaW5nLnByb3RvdHlwZT1uZXcgbXhBbmltYXRpb247bXhNb3JwaGluZy5wcm90b3R5cGUuY29uc3RydWN0b3I9bXhNb3JwaGluZztteE1vcnBoaW5nLnByb3RvdHlwZS5ncmFwaD1udWxsO214TW9ycGhpbmcucHJvdG90eXBlLnN0ZXBzPW51bGw7bXhNb3JwaGluZy5wcm90b3R5cGUuc3RlcD0wO214TW9ycGhpbmcucHJvdG90eXBlLmVhc2U9bnVsbDsKbXhNb3JwaGluZy5wcm90b3R5cGUuY2VsbHM9bnVsbDtteE1vcnBoaW5nLnByb3RvdHlwZS51cGRhdGVBbmltYXRpb249ZnVuY3Rpb24oKXtteEFuaW1hdGlvbi5wcm90b3R5cGUudXBkYXRlQW5pbWF0aW9uLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt2YXIgYT1uZXcgbXhDZWxsU3RhdGVQcmV2aWV3KHRoaXMuZ3JhcGgpO2lmKG51bGwhPXRoaXMuY2VsbHMpZm9yKHZhciBiPTA7Yjx0aGlzLmNlbGxzLmxlbmd0aDtiKyspdGhpcy5hbmltYXRlQ2VsbCh0aGlzLmNlbGxzW2JdLGEsITEpO2Vsc2UgdGhpcy5hbmltYXRlQ2VsbCh0aGlzLmdyYXBoLmdldE1vZGVsKCkuZ2V0Um9vdCgpLGEsITApO3RoaXMuc2hvdyhhKTsoYS5pc0VtcHR5KCl8fHRoaXMuc3RlcCsrPj10aGlzLnN0ZXBzKSYmdGhpcy5zdG9wQW5pbWF0aW9uKCl9O214TW9ycGhpbmcucHJvdG90eXBlLnNob3c9ZnVuY3Rpb24oYSl7YS5zaG93KCl9OwpteE1vcnBoaW5nLnByb3RvdHlwZS5hbmltYXRlQ2VsbD1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcy5ncmFwaC5nZXRWaWV3KCkuZ2V0U3RhdGUoYSksZT1udWxsO2lmKG51bGwhPWQmJihlPXRoaXMuZ2V0RGVsdGEoZCksdGhpcy5ncmFwaC5nZXRNb2RlbCgpLmlzVmVydGV4KGEpJiYoMCE9ZS54fHwwIT1lLnkpKSl7dmFyIGY9dGhpcy5ncmFwaC52aWV3LmdldFRyYW5zbGF0ZSgpLGc9dGhpcy5ncmFwaC52aWV3LmdldFNjYWxlKCk7ZS54Kz1mLngqZztlLnkrPWYueSpnO2IubW92ZVN0YXRlKGQsLWUueC90aGlzLmVhc2UsLWUueS90aGlzLmVhc2UpfWlmKGMmJiF0aGlzLnN0b3BSZWN1cnNpb24oZCxlKSlmb3IoZD10aGlzLmdyYXBoLmdldE1vZGVsKCkuZ2V0Q2hpbGRDb3VudChhKSxlPTA7ZTxkO2UrKyl0aGlzLmFuaW1hdGVDZWxsKHRoaXMuZ3JhcGguZ2V0TW9kZWwoKS5nZXRDaGlsZEF0KGEsZSksYixjKX07Cm14TW9ycGhpbmcucHJvdG90eXBlLnN0b3BSZWN1cnNpb249ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbnVsbCE9YiYmKDAhPWIueHx8MCE9Yi55KX07bXhNb3JwaGluZy5wcm90b3R5cGUuZ2V0RGVsdGE9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5nZXRPcmlnaW5Gb3JDZWxsKGEuY2VsbCksYz10aGlzLmdyYXBoLmdldFZpZXcoKS5nZXRUcmFuc2xhdGUoKSxkPXRoaXMuZ3JhcGguZ2V0VmlldygpLmdldFNjYWxlKCk7cmV0dXJuIG5ldyBteFBvaW50KChiLngtKGEueC9kLWMueCkpKmQsKGIueS0oYS55L2QtYy55KSkqZCl9OwpteE1vcnBoaW5nLnByb3RvdHlwZS5nZXRPcmlnaW5Gb3JDZWxsPWZ1bmN0aW9uKGEpe3ZhciBiPW51bGw7aWYobnVsbCE9YSl7dmFyIGM9dGhpcy5ncmFwaC5nZXRNb2RlbCgpLmdldFBhcmVudChhKTthPXRoaXMuZ3JhcGguZ2V0Q2VsbEdlb21ldHJ5KGEpO2I9dGhpcy5nZXRPcmlnaW5Gb3JDZWxsKGMpO251bGwhPWEmJihhLnJlbGF0aXZlPyhjPXRoaXMuZ3JhcGguZ2V0Q2VsbEdlb21ldHJ5KGMpLG51bGwhPWMmJihiLngrPWEueCpjLndpZHRoLGIueSs9YS55KmMuaGVpZ2h0KSk6KGIueCs9YS54LGIueSs9YS55KSl9bnVsbD09YiYmKGI9dGhpcy5ncmFwaC52aWV3LmdldFRyYW5zbGF0ZSgpLGI9bmV3IG14UG9pbnQoLWIueCwtYi55KSk7cmV0dXJuIGJ9O2Z1bmN0aW9uIG14SW1hZ2VCdW5kbGUoYSl7dGhpcy5pbWFnZXM9W107dGhpcy5hbHQ9bnVsbCE9YT9hOiExfW14SW1hZ2VCdW5kbGUucHJvdG90eXBlLmltYWdlcz1udWxsOwpteEltYWdlQnVuZGxlLnByb3RvdHlwZS5hbHQ9bnVsbDtteEltYWdlQnVuZGxlLnByb3RvdHlwZS5wdXRJbWFnZT1mdW5jdGlvbihhLGIsYyl7dGhpcy5pbWFnZXNbYV09e3ZhbHVlOmIsZmFsbGJhY2s6Y319O214SW1hZ2VCdW5kbGUucHJvdG90eXBlLmdldEltYWdlPWZ1bmN0aW9uKGEpe3ZhciBiPW51bGw7bnVsbCE9YSYmKGE9dGhpcy5pbWFnZXNbYV0sbnVsbCE9YSYmKGI9dGhpcy5hbHQ/YS5mYWxsYmFjazphLnZhbHVlKSk7cmV0dXJuIGJ9O2Z1bmN0aW9uIG14SW1hZ2VFeHBvcnQoKXt9bXhJbWFnZUV4cG9ydC5wcm90b3R5cGUuaW5jbHVkZU92ZXJsYXlzPSExOwpteEltYWdlRXhwb3J0LnByb3RvdHlwZS5kcmF3U3RhdGU9ZnVuY3Rpb24oYSxiKXtudWxsIT1hJiYodGhpcy52aXNpdFN0YXRlc1JlY3Vyc2l2ZShhLGIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt0aGlzLmRyYXdDZWxsU3RhdGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfSkpLHRoaXMuaW5jbHVkZU92ZXJsYXlzJiZ0aGlzLnZpc2l0U3RhdGVzUmVjdXJzaXZlKGEsYixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMuZHJhd092ZXJsYXlzLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pKSl9OwpteEltYWdlRXhwb3J0LnByb3RvdHlwZS52aXNpdFN0YXRlc1JlY3Vyc2l2ZT1mdW5jdGlvbihhLGIsYyl7aWYobnVsbCE9YSl7YyhhLGIpO2Zvcih2YXIgZD1hLnZpZXcuZ3JhcGgsZT1kLm1vZGVsLmdldENoaWxkQ291bnQoYS5jZWxsKSxmPTA7ZjxlO2YrKyl7dmFyIGc9ZC52aWV3LmdldFN0YXRlKGQubW9kZWwuZ2V0Q2hpbGRBdChhLmNlbGwsZikpO3RoaXMudmlzaXRTdGF0ZXNSZWN1cnNpdmUoZyxiLGMpfX19O214SW1hZ2VFeHBvcnQucHJvdG90eXBlLmdldExpbmtGb3JDZWxsU3RhdGU9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbnVsbH07bXhJbWFnZUV4cG9ydC5wcm90b3R5cGUuZHJhd0NlbGxTdGF0ZT1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZ2V0TGlua0ZvckNlbGxTdGF0ZShhLGIpO251bGwhPWMmJmIuc2V0TGluayhjKTt0aGlzLmRyYXdTaGFwZShhLGIpO3RoaXMuZHJhd1RleHQoYSxiKTtudWxsIT1jJiZiLnNldExpbmsobnVsbCl9OwpteEltYWdlRXhwb3J0LnByb3RvdHlwZS5kcmF3U2hhcGU9ZnVuY3Rpb24oYSxiKXthLnNoYXBlIGluc3RhbmNlb2YgbXhTaGFwZSYmYS5zaGFwZS5jaGVja0JvdW5kcygpJiYoYi5zYXZlKCksYS5zaGFwZS5wYWludChiKSxiLnJlc3RvcmUoKSl9O214SW1hZ2VFeHBvcnQucHJvdG90eXBlLmRyYXdUZXh0PWZ1bmN0aW9uKGEsYil7bnVsbCE9YS50ZXh0JiZhLnRleHQuY2hlY2tCb3VuZHMoKSYmKGIuc2F2ZSgpLGEudGV4dC5wYWludChiKSxiLnJlc3RvcmUoKSl9O214SW1hZ2VFeHBvcnQucHJvdG90eXBlLmRyYXdPdmVybGF5cz1mdW5jdGlvbihhLGIpe251bGwhPWEub3ZlcmxheXMmJmEub3ZlcmxheXMudmlzaXQoZnVuY3Rpb24oYSxkKXtkIGluc3RhbmNlb2YgbXhTaGFwZSYmZC5wYWludChiKX0pfTtmdW5jdGlvbiBteEFic3RyYWN0Q2FudmFzMkQoKXt0aGlzLmNvbnZlcnRlcj10aGlzLmNyZWF0ZVVybENvbnZlcnRlcigpO3RoaXMucmVzZXQoKX0KbXhBYnN0cmFjdENhbnZhczJELnByb3RvdHlwZS5zdGF0ZT1udWxsO214QWJzdHJhY3RDYW52YXMyRC5wcm90b3R5cGUuc3RhdGVzPW51bGw7bXhBYnN0cmFjdENhbnZhczJELnByb3RvdHlwZS5wYXRoPW51bGw7bXhBYnN0cmFjdENhbnZhczJELnByb3RvdHlwZS5yb3RhdGVIdG1sPSEwO214QWJzdHJhY3RDYW52YXMyRC5wcm90b3R5cGUubGFzdFg9MDtteEFic3RyYWN0Q2FudmFzMkQucHJvdG90eXBlLmxhc3RZPTA7bXhBYnN0cmFjdENhbnZhczJELnByb3RvdHlwZS5tb3ZlT3A9Ik0iO214QWJzdHJhY3RDYW52YXMyRC5wcm90b3R5cGUubGluZU9wPSJMIjtteEFic3RyYWN0Q2FudmFzMkQucHJvdG90eXBlLnF1YWRPcD0iUSI7bXhBYnN0cmFjdENhbnZhczJELnByb3RvdHlwZS5jdXJ2ZU9wPSJDIjtteEFic3RyYWN0Q2FudmFzMkQucHJvdG90eXBlLmNsb3NlT3A9IloiO214QWJzdHJhY3RDYW52YXMyRC5wcm90b3R5cGUucG9pbnRlckV2ZW50cz0hMTsKbXhBYnN0cmFjdENhbnZhczJELnByb3RvdHlwZS5jcmVhdGVVcmxDb252ZXJ0ZXI9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG14VXJsQ29udmVydGVyfTtteEFic3RyYWN0Q2FudmFzMkQucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5zdGF0ZT10aGlzLmNyZWF0ZVN0YXRlKCk7dGhpcy5zdGF0ZXM9W119OwpteEFic3RyYWN0Q2FudmFzMkQucHJvdG90eXBlLmNyZWF0ZVN0YXRlPWZ1bmN0aW9uKCl7cmV0dXJue2R4OjAsZHk6MCxzY2FsZToxLGFscGhhOjEsZmlsbEFscGhhOjEsc3Ryb2tlQWxwaGE6MSxmaWxsQ29sb3I6bnVsbCxncmFkaWVudEZpbGxBbHBoYToxLGdyYWRpZW50Q29sb3I6bnVsbCxncmFkaWVudEFscGhhOjEsZ3JhZGllbnREaXJlY3Rpb246bnVsbCxzdHJva2VDb2xvcjpudWxsLHN0cm9rZVdpZHRoOjEsZGFzaGVkOiExLGRhc2hQYXR0ZXJuOiIzIDMiLGZpeERhc2g6ITEsbGluZUNhcDoiZmxhdCIsbGluZUpvaW46Im1pdGVyIixtaXRlckxpbWl0OjEwLGZvbnRDb2xvcjoiIzAwMDAwMCIsZm9udEJhY2tncm91bmRDb2xvcjpudWxsLGZvbnRCb3JkZXJDb2xvcjpudWxsLGZvbnRTaXplOm14Q29uc3RhbnRzLkRFRkFVTFRfRk9OVFNJWkUsZm9udEZhbWlseTpteENvbnN0YW50cy5ERUZBVUxUX0ZPTlRGQU1JTFksZm9udFN0eWxlOjAsc2hhZG93OiExLHNoYWRvd0NvbG9yOm14Q29uc3RhbnRzLlNIQURPV0NPTE9SLApzaGFkb3dBbHBoYTpteENvbnN0YW50cy5TSEFET1dfT1BBQ0lUWSxzaGFkb3dEeDpteENvbnN0YW50cy5TSEFET1dfT0ZGU0VUX1gsc2hhZG93RHk6bXhDb25zdGFudHMuU0hBRE9XX09GRlNFVF9ZLHJvdGF0aW9uOjAscm90YXRpb25DeDowLHJvdGF0aW9uQ3k6MH19O214QWJzdHJhY3RDYW52YXMyRC5wcm90b3R5cGUuZm9ybWF0PWZ1bmN0aW9uKGEpe3JldHVybiBNYXRoLnJvdW5kKHBhcnNlRmxvYXQoYSkpfTsKbXhBYnN0cmFjdENhbnZhczJELnByb3RvdHlwZS5hZGRPcD1mdW5jdGlvbigpe2lmKG51bGwhPXRoaXMucGF0aCYmKHRoaXMucGF0aC5wdXNoKGFyZ3VtZW50c1swXSksMjxhcmd1bWVudHMubGVuZ3RoKSlmb3IodmFyIGE9dGhpcy5zdGF0ZSxiPTI7Yjxhcmd1bWVudHMubGVuZ3RoO2IrPTIpdGhpcy5sYXN0WD1hcmd1bWVudHNbYi0xXSx0aGlzLmxhc3RZPWFyZ3VtZW50c1tiXSx0aGlzLnBhdGgucHVzaCh0aGlzLmZvcm1hdCgodGhpcy5sYXN0WCthLmR4KSphLnNjYWxlKSksdGhpcy5wYXRoLnB1c2godGhpcy5mb3JtYXQoKHRoaXMubGFzdFkrYS5keSkqYS5zY2FsZSkpfTtteEFic3RyYWN0Q2FudmFzMkQucHJvdG90eXBlLnJvdGF0ZVBvaW50PWZ1bmN0aW9uKGEsYixjLGQsZSl7Yyo9TWF0aC5QSS8xODA7cmV0dXJuIG14VXRpbHMuZ2V0Um90YXRlZFBvaW50KG5ldyBteFBvaW50KGEsYiksTWF0aC5jb3MoYyksTWF0aC5zaW4oYyksbmV3IG14UG9pbnQoZCxlKSl9OwpteEFic3RyYWN0Q2FudmFzMkQucHJvdG90eXBlLnNhdmU9ZnVuY3Rpb24oKXt0aGlzLnN0YXRlcy5wdXNoKHRoaXMuc3RhdGUpO3RoaXMuc3RhdGU9bXhVdGlscy5jbG9uZSh0aGlzLnN0YXRlKX07bXhBYnN0cmFjdENhbnZhczJELnByb3RvdHlwZS5yZXN0b3JlPWZ1bmN0aW9uKCl7MDx0aGlzLnN0YXRlcy5sZW5ndGgmJih0aGlzLnN0YXRlPXRoaXMuc3RhdGVzLnBvcCgpKX07bXhBYnN0cmFjdENhbnZhczJELnByb3RvdHlwZS5zZXRMaW5rPWZ1bmN0aW9uKGEpe307bXhBYnN0cmFjdENhbnZhczJELnByb3RvdHlwZS5zY2FsZT1mdW5jdGlvbihhKXt0aGlzLnN0YXRlLnNjYWxlKj1hO3RoaXMuc3RhdGUuc3Ryb2tlV2lkdGgqPWF9O214QWJzdHJhY3RDYW52YXMyRC5wcm90b3R5cGUudHJhbnNsYXRlPWZ1bmN0aW9uKGEsYil7dGhpcy5zdGF0ZS5keCs9YTt0aGlzLnN0YXRlLmR5Kz1ifTtteEFic3RyYWN0Q2FudmFzMkQucHJvdG90eXBlLnJvdGF0ZT1mdW5jdGlvbihhLGIsYyxkLGUpe307Cm14QWJzdHJhY3RDYW52YXMyRC5wcm90b3R5cGUuc2V0QWxwaGE9ZnVuY3Rpb24oYSl7dGhpcy5zdGF0ZS5hbHBoYT1hfTtteEFic3RyYWN0Q2FudmFzMkQucHJvdG90eXBlLnNldEZpbGxBbHBoYT1mdW5jdGlvbihhKXt0aGlzLnN0YXRlLmZpbGxBbHBoYT1hfTtteEFic3RyYWN0Q2FudmFzMkQucHJvdG90eXBlLnNldFN0cm9rZUFscGhhPWZ1bmN0aW9uKGEpe3RoaXMuc3RhdGUuc3Ryb2tlQWxwaGE9YX07bXhBYnN0cmFjdENhbnZhczJELnByb3RvdHlwZS5zZXRGaWxsQ29sb3I9ZnVuY3Rpb24oYSl7YT09bXhDb25zdGFudHMuTk9ORSYmKGE9bnVsbCk7dGhpcy5zdGF0ZS5maWxsQ29sb3I9YTt0aGlzLnN0YXRlLmdyYWRpZW50Q29sb3I9bnVsbH07Cm14QWJzdHJhY3RDYW52YXMyRC5wcm90b3R5cGUuc2V0R3JhZGllbnQ9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxrLGwpe2M9dGhpcy5zdGF0ZTtjLmZpbGxDb2xvcj1hO2MuZ3JhZGllbnRGaWxsQWxwaGE9bnVsbCE9az9rOjE7Yy5ncmFkaWVudENvbG9yPWI7Yy5ncmFkaWVudEFscGhhPW51bGwhPWw/bDoxO2MuZ3JhZGllbnREaXJlY3Rpb249Z307bXhBYnN0cmFjdENhbnZhczJELnByb3RvdHlwZS5zZXRTdHJva2VDb2xvcj1mdW5jdGlvbihhKXthPT1teENvbnN0YW50cy5OT05FJiYoYT1udWxsKTt0aGlzLnN0YXRlLnN0cm9rZUNvbG9yPWF9O214QWJzdHJhY3RDYW52YXMyRC5wcm90b3R5cGUuc2V0U3Ryb2tlV2lkdGg9ZnVuY3Rpb24oYSl7dGhpcy5zdGF0ZS5zdHJva2VXaWR0aD1hfTtteEFic3RyYWN0Q2FudmFzMkQucHJvdG90eXBlLnNldERhc2hlZD1mdW5jdGlvbihhLGIpe3RoaXMuc3RhdGUuZGFzaGVkPWE7dGhpcy5zdGF0ZS5maXhEYXNoPWJ9OwpteEFic3RyYWN0Q2FudmFzMkQucHJvdG90eXBlLnNldERhc2hQYXR0ZXJuPWZ1bmN0aW9uKGEpe3RoaXMuc3RhdGUuZGFzaFBhdHRlcm49YX07bXhBYnN0cmFjdENhbnZhczJELnByb3RvdHlwZS5zZXRMaW5lQ2FwPWZ1bmN0aW9uKGEpe3RoaXMuc3RhdGUubGluZUNhcD1hfTtteEFic3RyYWN0Q2FudmFzMkQucHJvdG90eXBlLnNldExpbmVKb2luPWZ1bmN0aW9uKGEpe3RoaXMuc3RhdGUubGluZUpvaW49YX07bXhBYnN0cmFjdENhbnZhczJELnByb3RvdHlwZS5zZXRNaXRlckxpbWl0PWZ1bmN0aW9uKGEpe3RoaXMuc3RhdGUubWl0ZXJMaW1pdD1hfTtteEFic3RyYWN0Q2FudmFzMkQucHJvdG90eXBlLnNldEZvbnRDb2xvcj1mdW5jdGlvbihhKXthPT1teENvbnN0YW50cy5OT05FJiYoYT1udWxsKTt0aGlzLnN0YXRlLmZvbnRDb2xvcj1hfTsKbXhBYnN0cmFjdENhbnZhczJELnByb3RvdHlwZS5zZXRGb250QmFja2dyb3VuZENvbG9yPWZ1bmN0aW9uKGEpe2E9PW14Q29uc3RhbnRzLk5PTkUmJihhPW51bGwpO3RoaXMuc3RhdGUuZm9udEJhY2tncm91bmRDb2xvcj1hfTtteEFic3RyYWN0Q2FudmFzMkQucHJvdG90eXBlLnNldEZvbnRCb3JkZXJDb2xvcj1mdW5jdGlvbihhKXthPT1teENvbnN0YW50cy5OT05FJiYoYT1udWxsKTt0aGlzLnN0YXRlLmZvbnRCb3JkZXJDb2xvcj1hfTtteEFic3RyYWN0Q2FudmFzMkQucHJvdG90eXBlLnNldEZvbnRTaXplPWZ1bmN0aW9uKGEpe3RoaXMuc3RhdGUuZm9udFNpemU9cGFyc2VGbG9hdChhKX07bXhBYnN0cmFjdENhbnZhczJELnByb3RvdHlwZS5zZXRGb250RmFtaWx5PWZ1bmN0aW9uKGEpe3RoaXMuc3RhdGUuZm9udEZhbWlseT1hfTsKbXhBYnN0cmFjdENhbnZhczJELnByb3RvdHlwZS5zZXRGb250U3R5bGU9ZnVuY3Rpb24oYSl7bnVsbD09YSYmKGE9MCk7dGhpcy5zdGF0ZS5mb250U3R5bGU9YX07bXhBYnN0cmFjdENhbnZhczJELnByb3RvdHlwZS5zZXRTaGFkb3c9ZnVuY3Rpb24oYSl7dGhpcy5zdGF0ZS5zaGFkb3c9YX07bXhBYnN0cmFjdENhbnZhczJELnByb3RvdHlwZS5zZXRTaGFkb3dDb2xvcj1mdW5jdGlvbihhKXthPT1teENvbnN0YW50cy5OT05FJiYoYT1udWxsKTt0aGlzLnN0YXRlLnNoYWRvd0NvbG9yPWF9O214QWJzdHJhY3RDYW52YXMyRC5wcm90b3R5cGUuc2V0U2hhZG93QWxwaGE9ZnVuY3Rpb24oYSl7dGhpcy5zdGF0ZS5zaGFkb3dBbHBoYT1hfTtteEFic3RyYWN0Q2FudmFzMkQucHJvdG90eXBlLnNldFNoYWRvd09mZnNldD1mdW5jdGlvbihhLGIpe3RoaXMuc3RhdGUuc2hhZG93RHg9YTt0aGlzLnN0YXRlLnNoYWRvd0R5PWJ9OwpteEFic3RyYWN0Q2FudmFzMkQucHJvdG90eXBlLmJlZ2luPWZ1bmN0aW9uKCl7dGhpcy5sYXN0WT10aGlzLmxhc3RYPTA7dGhpcy5wYXRoPVtdfTtteEFic3RyYWN0Q2FudmFzMkQucHJvdG90eXBlLm1vdmVUbz1mdW5jdGlvbihhLGIpe3RoaXMuYWRkT3AodGhpcy5tb3ZlT3AsYSxiKX07bXhBYnN0cmFjdENhbnZhczJELnByb3RvdHlwZS5saW5lVG89ZnVuY3Rpb24oYSxiKXt0aGlzLmFkZE9wKHRoaXMubGluZU9wLGEsYil9O214QWJzdHJhY3RDYW52YXMyRC5wcm90b3R5cGUucXVhZFRvPWZ1bmN0aW9uKGEsYixjLGQpe3RoaXMuYWRkT3AodGhpcy5xdWFkT3AsYSxiLGMsZCl9O214QWJzdHJhY3RDYW52YXMyRC5wcm90b3R5cGUuY3VydmVUbz1mdW5jdGlvbihhLGIsYyxkLGUsZil7dGhpcy5hZGRPcCh0aGlzLmN1cnZlT3AsYSxiLGMsZCxlLGYpfTsKbXhBYnN0cmFjdENhbnZhczJELnByb3RvdHlwZS5hcmNUbz1mdW5jdGlvbihhLGIsYyxkLGUsZixnKXthPW14VXRpbHMuYXJjVG9DdXJ2ZXModGhpcy5sYXN0WCx0aGlzLmxhc3RZLGEsYixjLGQsZSxmLGcpO2lmKG51bGwhPWEpZm9yKGI9MDtiPGEubGVuZ3RoO2IrPTYpdGhpcy5jdXJ2ZVRvKGFbYl0sYVtiKzFdLGFbYisyXSxhW2IrM10sYVtiKzRdLGFbYis1XSl9O214QWJzdHJhY3RDYW52YXMyRC5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe3RoaXMuYWRkT3AodGhpcy5jbG9zZU9wKX07bXhBYnN0cmFjdENhbnZhczJELnByb3RvdHlwZS5lbmQ9ZnVuY3Rpb24oKXt9O2Z1bmN0aW9uIG14WG1sQ2FudmFzMkQoYSl7bXhBYnN0cmFjdENhbnZhczJELmNhbGwodGhpcyk7dGhpcy5yb290PWE7dGhpcy53cml0ZURlZmF1bHRzKCl9bXhVdGlscy5leHRlbmQobXhYbWxDYW52YXMyRCxteEFic3RyYWN0Q2FudmFzMkQpOwpteFhtbENhbnZhczJELnByb3RvdHlwZS50ZXh0RW5hYmxlZD0hMDtteFhtbENhbnZhczJELnByb3RvdHlwZS5jb21wcmVzc2VkPSEwOwpteFhtbENhbnZhczJELnByb3RvdHlwZS53cml0ZURlZmF1bHRzPWZ1bmN0aW9uKCl7dmFyIGE7YT10aGlzLmNyZWF0ZUVsZW1lbnQoImZvbnRmYW1pbHkiKTthLnNldEF0dHJpYnV0ZSgiZmFtaWx5IixteENvbnN0YW50cy5ERUZBVUxUX0ZPTlRGQU1JTFkpO3RoaXMucm9vdC5hcHBlbmRDaGlsZChhKTthPXRoaXMuY3JlYXRlRWxlbWVudCgiZm9udHNpemUiKTthLnNldEF0dHJpYnV0ZSgic2l6ZSIsbXhDb25zdGFudHMuREVGQVVMVF9GT05UU0laRSk7dGhpcy5yb290LmFwcGVuZENoaWxkKGEpO2E9dGhpcy5jcmVhdGVFbGVtZW50KCJzaGFkb3djb2xvciIpO2Euc2V0QXR0cmlidXRlKCJjb2xvciIsbXhDb25zdGFudHMuU0hBRE9XQ09MT1IpO3RoaXMucm9vdC5hcHBlbmRDaGlsZChhKTthPXRoaXMuY3JlYXRlRWxlbWVudCgic2hhZG93YWxwaGEiKTthLnNldEF0dHJpYnV0ZSgiYWxwaGEiLG14Q29uc3RhbnRzLlNIQURPV19PUEFDSVRZKTt0aGlzLnJvb3QuYXBwZW5kQ2hpbGQoYSk7CmE9dGhpcy5jcmVhdGVFbGVtZW50KCJzaGFkb3dvZmZzZXQiKTthLnNldEF0dHJpYnV0ZSgiZHgiLG14Q29uc3RhbnRzLlNIQURPV19PRkZTRVRfWCk7YS5zZXRBdHRyaWJ1dGUoImR5IixteENvbnN0YW50cy5TSEFET1dfT0ZGU0VUX1kpO3RoaXMucm9vdC5hcHBlbmRDaGlsZChhKX07bXhYbWxDYW52YXMyRC5wcm90b3R5cGUuZm9ybWF0PWZ1bmN0aW9uKGEpe3JldHVybiBwYXJzZUZsb2F0KHBhcnNlRmxvYXQoYSkudG9GaXhlZCgyKSl9O214WG1sQ2FudmFzMkQucHJvdG90eXBlLmNyZWF0ZUVsZW1lbnQ9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucm9vdC5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoYSl9O214WG1sQ2FudmFzMkQucHJvdG90eXBlLnNhdmU9ZnVuY3Rpb24oKXt0aGlzLmNvbXByZXNzZWQmJm14QWJzdHJhY3RDYW52YXMyRC5wcm90b3R5cGUuc2F2ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5yb290LmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlRWxlbWVudCgic2F2ZSIpKX07Cm14WG1sQ2FudmFzMkQucHJvdG90eXBlLnJlc3RvcmU9ZnVuY3Rpb24oKXt0aGlzLmNvbXByZXNzZWQmJm14QWJzdHJhY3RDYW52YXMyRC5wcm90b3R5cGUucmVzdG9yZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5yb290LmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlRWxlbWVudCgicmVzdG9yZSIpKX07bXhYbWxDYW52YXMyRC5wcm90b3R5cGUuc2NhbGU9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50KCJzY2FsZSIpO2Iuc2V0QXR0cmlidXRlKCJzY2FsZSIsYSk7dGhpcy5yb290LmFwcGVuZENoaWxkKGIpfTtteFhtbENhbnZhczJELnByb3RvdHlwZS50cmFuc2xhdGU9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmNyZWF0ZUVsZW1lbnQoInRyYW5zbGF0ZSIpO2Muc2V0QXR0cmlidXRlKCJkeCIsdGhpcy5mb3JtYXQoYSkpO2Muc2V0QXR0cmlidXRlKCJkeSIsdGhpcy5mb3JtYXQoYikpO3RoaXMucm9vdC5hcHBlbmRDaGlsZChjKX07Cm14WG1sQ2FudmFzMkQucHJvdG90eXBlLnJvdGF0ZT1mdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmPXRoaXMuY3JlYXRlRWxlbWVudCgicm90YXRlIik7aWYoMCE9YXx8Ynx8YylmLnNldEF0dHJpYnV0ZSgidGhldGEiLHRoaXMuZm9ybWF0KGEpKSxmLnNldEF0dHJpYnV0ZSgiZmxpcEgiLGI/IjEiOiIwIiksZi5zZXRBdHRyaWJ1dGUoImZsaXBWIixjPyIxIjoiMCIpLGYuc2V0QXR0cmlidXRlKCJjeCIsdGhpcy5mb3JtYXQoZCkpLGYuc2V0QXR0cmlidXRlKCJjeSIsdGhpcy5mb3JtYXQoZSkpLHRoaXMucm9vdC5hcHBlbmRDaGlsZChmKX07Cm14WG1sQ2FudmFzMkQucHJvdG90eXBlLnNldEFscGhhPWZ1bmN0aW9uKGEpe2lmKHRoaXMuY29tcHJlc3NlZCl7aWYodGhpcy5zdGF0ZS5hbHBoYT09YSlyZXR1cm47bXhBYnN0cmFjdENhbnZhczJELnByb3RvdHlwZS5zZXRBbHBoYS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50KCJhbHBoYSIpO2Iuc2V0QXR0cmlidXRlKCJhbHBoYSIsdGhpcy5mb3JtYXQoYSkpO3RoaXMucm9vdC5hcHBlbmRDaGlsZChiKX07bXhYbWxDYW52YXMyRC5wcm90b3R5cGUuc2V0RmlsbEFscGhhPWZ1bmN0aW9uKGEpe2lmKHRoaXMuY29tcHJlc3NlZCl7aWYodGhpcy5zdGF0ZS5maWxsQWxwaGE9PWEpcmV0dXJuO214QWJzdHJhY3RDYW52YXMyRC5wcm90b3R5cGUuc2V0RmlsbEFscGhhLmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnQoImZpbGxhbHBoYSIpO2Iuc2V0QXR0cmlidXRlKCJhbHBoYSIsdGhpcy5mb3JtYXQoYSkpO3RoaXMucm9vdC5hcHBlbmRDaGlsZChiKX07Cm14WG1sQ2FudmFzMkQucHJvdG90eXBlLnNldFN0cm9rZUFscGhhPWZ1bmN0aW9uKGEpe2lmKHRoaXMuY29tcHJlc3NlZCl7aWYodGhpcy5zdGF0ZS5zdHJva2VBbHBoYT09YSlyZXR1cm47bXhBYnN0cmFjdENhbnZhczJELnByb3RvdHlwZS5zZXRTdHJva2VBbHBoYS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50KCJzdHJva2VhbHBoYSIpO2Iuc2V0QXR0cmlidXRlKCJhbHBoYSIsdGhpcy5mb3JtYXQoYSkpO3RoaXMucm9vdC5hcHBlbmRDaGlsZChiKX07Cm14WG1sQ2FudmFzMkQucHJvdG90eXBlLnNldEZpbGxDb2xvcj1mdW5jdGlvbihhKXthPT1teENvbnN0YW50cy5OT05FJiYoYT1udWxsKTtpZih0aGlzLmNvbXByZXNzZWQpe2lmKHRoaXMuc3RhdGUuZmlsbENvbG9yPT1hKXJldHVybjtteEFic3RyYWN0Q2FudmFzMkQucHJvdG90eXBlLnNldEZpbGxDb2xvci5hcHBseSh0aGlzLGFyZ3VtZW50cyl9dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50KCJmaWxsY29sb3IiKTtiLnNldEF0dHJpYnV0ZSgiY29sb3IiLG51bGwhPWE/YTpteENvbnN0YW50cy5OT05FKTt0aGlzLnJvb3QuYXBwZW5kQ2hpbGQoYil9OwpteFhtbENhbnZhczJELnByb3RvdHlwZS5zZXRHcmFkaWVudD1mdW5jdGlvbihhLGIsYyxkLGUsZixnLGssbCl7aWYobnVsbCE9YSYmbnVsbCE9Yil7bXhBYnN0cmFjdENhbnZhczJELnByb3RvdHlwZS5zZXRHcmFkaWVudC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dmFyIG09dGhpcy5jcmVhdGVFbGVtZW50KCJncmFkaWVudCIpO20uc2V0QXR0cmlidXRlKCJjMSIsYSk7bS5zZXRBdHRyaWJ1dGUoImMyIixiKTttLnNldEF0dHJpYnV0ZSgieCIsdGhpcy5mb3JtYXQoYykpO20uc2V0QXR0cmlidXRlKCJ5Iix0aGlzLmZvcm1hdChkKSk7bS5zZXRBdHRyaWJ1dGUoInciLHRoaXMuZm9ybWF0KGUpKTttLnNldEF0dHJpYnV0ZSgiaCIsdGhpcy5mb3JtYXQoZikpO251bGwhPWcmJm0uc2V0QXR0cmlidXRlKCJkaXJlY3Rpb24iLGcpO251bGwhPWsmJm0uc2V0QXR0cmlidXRlKCJhbHBoYTEiLGspO251bGwhPWwmJm0uc2V0QXR0cmlidXRlKCJhbHBoYTIiLGwpO3RoaXMucm9vdC5hcHBlbmRDaGlsZChtKX19OwpteFhtbENhbnZhczJELnByb3RvdHlwZS5zZXRTdHJva2VDb2xvcj1mdW5jdGlvbihhKXthPT1teENvbnN0YW50cy5OT05FJiYoYT1udWxsKTtpZih0aGlzLmNvbXByZXNzZWQpe2lmKHRoaXMuc3RhdGUuc3Ryb2tlQ29sb3I9PWEpcmV0dXJuO214QWJzdHJhY3RDYW52YXMyRC5wcm90b3R5cGUuc2V0U3Ryb2tlQ29sb3IuYXBwbHkodGhpcyxhcmd1bWVudHMpfXZhciBiPXRoaXMuY3JlYXRlRWxlbWVudCgic3Ryb2tlY29sb3IiKTtiLnNldEF0dHJpYnV0ZSgiY29sb3IiLG51bGwhPWE/YTpteENvbnN0YW50cy5OT05FKTt0aGlzLnJvb3QuYXBwZW5kQ2hpbGQoYil9OwpteFhtbENhbnZhczJELnByb3RvdHlwZS5zZXRTdHJva2VXaWR0aD1mdW5jdGlvbihhKXtpZih0aGlzLmNvbXByZXNzZWQpe2lmKHRoaXMuc3RhdGUuc3Ryb2tlV2lkdGg9PWEpcmV0dXJuO214QWJzdHJhY3RDYW52YXMyRC5wcm90b3R5cGUuc2V0U3Ryb2tlV2lkdGguYXBwbHkodGhpcyxhcmd1bWVudHMpfXZhciBiPXRoaXMuY3JlYXRlRWxlbWVudCgic3Ryb2tld2lkdGgiKTtiLnNldEF0dHJpYnV0ZSgid2lkdGgiLHRoaXMuZm9ybWF0KGEpKTt0aGlzLnJvb3QuYXBwZW5kQ2hpbGQoYil9OwpteFhtbENhbnZhczJELnByb3RvdHlwZS5zZXREYXNoZWQ9ZnVuY3Rpb24oYSxiKXtpZih0aGlzLmNvbXByZXNzZWQpe2lmKHRoaXMuc3RhdGUuZGFzaGVkPT1hKXJldHVybjtteEFic3RyYWN0Q2FudmFzMkQucHJvdG90eXBlLnNldERhc2hlZC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9dmFyIGM9dGhpcy5jcmVhdGVFbGVtZW50KCJkYXNoZWQiKTtjLnNldEF0dHJpYnV0ZSgiZGFzaGVkIixhPyIxIjoiMCIpO251bGwhPWImJmMuc2V0QXR0cmlidXRlKCJmaXhEYXNoIixiPyIxIjoiMCIpO3RoaXMucm9vdC5hcHBlbmRDaGlsZChjKX07Cm14WG1sQ2FudmFzMkQucHJvdG90eXBlLnNldERhc2hQYXR0ZXJuPWZ1bmN0aW9uKGEpe2lmKHRoaXMuY29tcHJlc3NlZCl7aWYodGhpcy5zdGF0ZS5kYXNoUGF0dGVybj09YSlyZXR1cm47bXhBYnN0cmFjdENhbnZhczJELnByb3RvdHlwZS5zZXREYXNoUGF0dGVybi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50KCJkYXNocGF0dGVybiIpO2Iuc2V0QXR0cmlidXRlKCJwYXR0ZXJuIixhKTt0aGlzLnJvb3QuYXBwZW5kQ2hpbGQoYil9O214WG1sQ2FudmFzMkQucHJvdG90eXBlLnNldExpbmVDYXA9ZnVuY3Rpb24oYSl7aWYodGhpcy5jb21wcmVzc2VkKXtpZih0aGlzLnN0YXRlLmxpbmVDYXA9PWEpcmV0dXJuO214QWJzdHJhY3RDYW52YXMyRC5wcm90b3R5cGUuc2V0TGluZUNhcC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50KCJsaW5lY2FwIik7Yi5zZXRBdHRyaWJ1dGUoImNhcCIsYSk7dGhpcy5yb290LmFwcGVuZENoaWxkKGIpfTsKbXhYbWxDYW52YXMyRC5wcm90b3R5cGUuc2V0TGluZUpvaW49ZnVuY3Rpb24oYSl7aWYodGhpcy5jb21wcmVzc2VkKXtpZih0aGlzLnN0YXRlLmxpbmVKb2luPT1hKXJldHVybjtteEFic3RyYWN0Q2FudmFzMkQucHJvdG90eXBlLnNldExpbmVKb2luLmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnQoImxpbmVqb2luIik7Yi5zZXRBdHRyaWJ1dGUoImpvaW4iLGEpO3RoaXMucm9vdC5hcHBlbmRDaGlsZChiKX07bXhYbWxDYW52YXMyRC5wcm90b3R5cGUuc2V0TWl0ZXJMaW1pdD1mdW5jdGlvbihhKXtpZih0aGlzLmNvbXByZXNzZWQpe2lmKHRoaXMuc3RhdGUubWl0ZXJMaW1pdD09YSlyZXR1cm47bXhBYnN0cmFjdENhbnZhczJELnByb3RvdHlwZS5zZXRNaXRlckxpbWl0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnQoIm1pdGVybGltaXQiKTtiLnNldEF0dHJpYnV0ZSgibGltaXQiLGEpO3RoaXMucm9vdC5hcHBlbmRDaGlsZChiKX07Cm14WG1sQ2FudmFzMkQucHJvdG90eXBlLnNldEZvbnRDb2xvcj1mdW5jdGlvbihhKXtpZih0aGlzLnRleHRFbmFibGVkKXthPT1teENvbnN0YW50cy5OT05FJiYoYT1udWxsKTtpZih0aGlzLmNvbXByZXNzZWQpe2lmKHRoaXMuc3RhdGUuZm9udENvbG9yPT1hKXJldHVybjtteEFic3RyYWN0Q2FudmFzMkQucHJvdG90eXBlLnNldEZvbnRDb2xvci5hcHBseSh0aGlzLGFyZ3VtZW50cyl9dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50KCJmb250Y29sb3IiKTtiLnNldEF0dHJpYnV0ZSgiY29sb3IiLG51bGwhPWE/YTpteENvbnN0YW50cy5OT05FKTt0aGlzLnJvb3QuYXBwZW5kQ2hpbGQoYil9fTsKbXhYbWxDYW52YXMyRC5wcm90b3R5cGUuc2V0Rm9udEJhY2tncm91bmRDb2xvcj1mdW5jdGlvbihhKXtpZih0aGlzLnRleHRFbmFibGVkKXthPT1teENvbnN0YW50cy5OT05FJiYoYT1udWxsKTtpZih0aGlzLmNvbXByZXNzZWQpe2lmKHRoaXMuc3RhdGUuZm9udEJhY2tncm91bmRDb2xvcj09YSlyZXR1cm47bXhBYnN0cmFjdENhbnZhczJELnByb3RvdHlwZS5zZXRGb250QmFja2dyb3VuZENvbG9yLmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnQoImZvbnRiYWNrZ3JvdW5kY29sb3IiKTtiLnNldEF0dHJpYnV0ZSgiY29sb3IiLG51bGwhPWE/YTpteENvbnN0YW50cy5OT05FKTt0aGlzLnJvb3QuYXBwZW5kQ2hpbGQoYil9fTsKbXhYbWxDYW52YXMyRC5wcm90b3R5cGUuc2V0Rm9udEJvcmRlckNvbG9yPWZ1bmN0aW9uKGEpe2lmKHRoaXMudGV4dEVuYWJsZWQpe2E9PW14Q29uc3RhbnRzLk5PTkUmJihhPW51bGwpO2lmKHRoaXMuY29tcHJlc3NlZCl7aWYodGhpcy5zdGF0ZS5mb250Qm9yZGVyQ29sb3I9PWEpcmV0dXJuO214QWJzdHJhY3RDYW52YXMyRC5wcm90b3R5cGUuc2V0Rm9udEJvcmRlckNvbG9yLmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnQoImZvbnRib3JkZXJjb2xvciIpO2Iuc2V0QXR0cmlidXRlKCJjb2xvciIsbnVsbCE9YT9hOm14Q29uc3RhbnRzLk5PTkUpO3RoaXMucm9vdC5hcHBlbmRDaGlsZChiKX19OwpteFhtbENhbnZhczJELnByb3RvdHlwZS5zZXRGb250U2l6ZT1mdW5jdGlvbihhKXtpZih0aGlzLnRleHRFbmFibGVkKXtpZih0aGlzLmNvbXByZXNzZWQpe2lmKHRoaXMuc3RhdGUuZm9udFNpemU9PWEpcmV0dXJuO214QWJzdHJhY3RDYW52YXMyRC5wcm90b3R5cGUuc2V0Rm9udFNpemUuYXBwbHkodGhpcyxhcmd1bWVudHMpfXZhciBiPXRoaXMuY3JlYXRlRWxlbWVudCgiZm9udHNpemUiKTtiLnNldEF0dHJpYnV0ZSgic2l6ZSIsYSk7dGhpcy5yb290LmFwcGVuZENoaWxkKGIpfX07Cm14WG1sQ2FudmFzMkQucHJvdG90eXBlLnNldEZvbnRGYW1pbHk9ZnVuY3Rpb24oYSl7aWYodGhpcy50ZXh0RW5hYmxlZCl7aWYodGhpcy5jb21wcmVzc2VkKXtpZih0aGlzLnN0YXRlLmZvbnRGYW1pbHk9PWEpcmV0dXJuO214QWJzdHJhY3RDYW52YXMyRC5wcm90b3R5cGUuc2V0Rm9udEZhbWlseS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50KCJmb250ZmFtaWx5Iik7Yi5zZXRBdHRyaWJ1dGUoImZhbWlseSIsYSk7dGhpcy5yb290LmFwcGVuZENoaWxkKGIpfX07Cm14WG1sQ2FudmFzMkQucHJvdG90eXBlLnNldEZvbnRTdHlsZT1mdW5jdGlvbihhKXtpZih0aGlzLnRleHRFbmFibGVkKXtudWxsPT1hJiYoYT0wKTtpZih0aGlzLmNvbXByZXNzZWQpe2lmKHRoaXMuc3RhdGUuZm9udFN0eWxlPT1hKXJldHVybjtteEFic3RyYWN0Q2FudmFzMkQucHJvdG90eXBlLnNldEZvbnRTdHlsZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9dmFyIGI9dGhpcy5jcmVhdGVFbGVtZW50KCJmb250c3R5bGUiKTtiLnNldEF0dHJpYnV0ZSgic3R5bGUiLGEpO3RoaXMucm9vdC5hcHBlbmRDaGlsZChiKX19OwpteFhtbENhbnZhczJELnByb3RvdHlwZS5zZXRTaGFkb3c9ZnVuY3Rpb24oYSl7aWYodGhpcy5jb21wcmVzc2VkKXtpZih0aGlzLnN0YXRlLnNoYWRvdz09YSlyZXR1cm47bXhBYnN0cmFjdENhbnZhczJELnByb3RvdHlwZS5zZXRTaGFkb3cuYXBwbHkodGhpcyxhcmd1bWVudHMpfXZhciBiPXRoaXMuY3JlYXRlRWxlbWVudCgic2hhZG93Iik7Yi5zZXRBdHRyaWJ1dGUoImVuYWJsZWQiLGE/IjEiOiIwIik7dGhpcy5yb290LmFwcGVuZENoaWxkKGIpfTsKbXhYbWxDYW52YXMyRC5wcm90b3R5cGUuc2V0U2hhZG93Q29sb3I9ZnVuY3Rpb24oYSl7aWYodGhpcy5jb21wcmVzc2VkKXthPT1teENvbnN0YW50cy5OT05FJiYoYT1udWxsKTtpZih0aGlzLnN0YXRlLnNoYWRvd0NvbG9yPT1hKXJldHVybjtteEFic3RyYWN0Q2FudmFzMkQucHJvdG90eXBlLnNldFNoYWRvd0NvbG9yLmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnQoInNoYWRvd2NvbG9yIik7Yi5zZXRBdHRyaWJ1dGUoImNvbG9yIixudWxsIT1hP2E6bXhDb25zdGFudHMuTk9ORSk7dGhpcy5yb290LmFwcGVuZENoaWxkKGIpfTsKbXhYbWxDYW52YXMyRC5wcm90b3R5cGUuc2V0U2hhZG93QWxwaGE9ZnVuY3Rpb24oYSl7aWYodGhpcy5jb21wcmVzc2VkKXtpZih0aGlzLnN0YXRlLnNoYWRvd0FscGhhPT1hKXJldHVybjtteEFic3RyYWN0Q2FudmFzMkQucHJvdG90eXBlLnNldFNoYWRvd0FscGhhLmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnQoInNoYWRvd2FscGhhIik7Yi5zZXRBdHRyaWJ1dGUoImFscGhhIixhKTt0aGlzLnJvb3QuYXBwZW5kQ2hpbGQoYil9OwpteFhtbENhbnZhczJELnByb3RvdHlwZS5zZXRTaGFkb3dPZmZzZXQ9ZnVuY3Rpb24oYSxiKXtpZih0aGlzLmNvbXByZXNzZWQpe2lmKHRoaXMuc3RhdGUuc2hhZG93RHg9PWEmJnRoaXMuc3RhdGUuc2hhZG93RHk9PWIpcmV0dXJuO214QWJzdHJhY3RDYW52YXMyRC5wcm90b3R5cGUuc2V0U2hhZG93T2Zmc2V0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgYz10aGlzLmNyZWF0ZUVsZW1lbnQoInNoYWRvd29mZnNldCIpO2Muc2V0QXR0cmlidXRlKCJkeCIsYSk7Yy5zZXRBdHRyaWJ1dGUoImR5IixiKTt0aGlzLnJvb3QuYXBwZW5kQ2hpbGQoYyl9OwpteFhtbENhbnZhczJELnByb3RvdHlwZS5yZWN0PWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPXRoaXMuY3JlYXRlRWxlbWVudCgicmVjdCIpO2Uuc2V0QXR0cmlidXRlKCJ4Iix0aGlzLmZvcm1hdChhKSk7ZS5zZXRBdHRyaWJ1dGUoInkiLHRoaXMuZm9ybWF0KGIpKTtlLnNldEF0dHJpYnV0ZSgidyIsdGhpcy5mb3JtYXQoYykpO2Uuc2V0QXR0cmlidXRlKCJoIix0aGlzLmZvcm1hdChkKSk7dGhpcy5yb290LmFwcGVuZENoaWxkKGUpfTsKbXhYbWxDYW52YXMyRC5wcm90b3R5cGUucm91bmRyZWN0PWZ1bmN0aW9uKGEsYixjLGQsZSxmKXt2YXIgZz10aGlzLmNyZWF0ZUVsZW1lbnQoInJvdW5kcmVjdCIpO2cuc2V0QXR0cmlidXRlKCJ4Iix0aGlzLmZvcm1hdChhKSk7Zy5zZXRBdHRyaWJ1dGUoInkiLHRoaXMuZm9ybWF0KGIpKTtnLnNldEF0dHJpYnV0ZSgidyIsdGhpcy5mb3JtYXQoYykpO2cuc2V0QXR0cmlidXRlKCJoIix0aGlzLmZvcm1hdChkKSk7Zy5zZXRBdHRyaWJ1dGUoImR4Iix0aGlzLmZvcm1hdChlKSk7Zy5zZXRBdHRyaWJ1dGUoImR5Iix0aGlzLmZvcm1hdChmKSk7dGhpcy5yb290LmFwcGVuZENoaWxkKGcpfTsKbXhYbWxDYW52YXMyRC5wcm90b3R5cGUuZWxsaXBzZT1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZT10aGlzLmNyZWF0ZUVsZW1lbnQoImVsbGlwc2UiKTtlLnNldEF0dHJpYnV0ZSgieCIsdGhpcy5mb3JtYXQoYSkpO2Uuc2V0QXR0cmlidXRlKCJ5Iix0aGlzLmZvcm1hdChiKSk7ZS5zZXRBdHRyaWJ1dGUoInciLHRoaXMuZm9ybWF0KGMpKTtlLnNldEF0dHJpYnV0ZSgiaCIsdGhpcy5mb3JtYXQoZCkpO3RoaXMucm9vdC5hcHBlbmRDaGlsZChlKX07Cm14WG1sQ2FudmFzMkQucHJvdG90eXBlLmltYWdlPWZ1bmN0aW9uKGEsYixjLGQsZSxmLGcsayl7ZT10aGlzLmNvbnZlcnRlci5jb252ZXJ0KGUpO3ZhciBsPXRoaXMuY3JlYXRlRWxlbWVudCgiaW1hZ2UiKTtsLnNldEF0dHJpYnV0ZSgieCIsdGhpcy5mb3JtYXQoYSkpO2wuc2V0QXR0cmlidXRlKCJ5Iix0aGlzLmZvcm1hdChiKSk7bC5zZXRBdHRyaWJ1dGUoInciLHRoaXMuZm9ybWF0KGMpKTtsLnNldEF0dHJpYnV0ZSgiaCIsdGhpcy5mb3JtYXQoZCkpO2wuc2V0QXR0cmlidXRlKCJzcmMiLGUpO2wuc2V0QXR0cmlidXRlKCJhc3BlY3QiLGY/IjEiOiIwIik7bC5zZXRBdHRyaWJ1dGUoImZsaXBIIixnPyIxIjoiMCIpO2wuc2V0QXR0cmlidXRlKCJmbGlwViIsaz8iMSI6IjAiKTt0aGlzLnJvb3QuYXBwZW5kQ2hpbGQobCl9OwpteFhtbENhbnZhczJELnByb3RvdHlwZS5iZWdpbj1mdW5jdGlvbigpe3RoaXMucm9vdC5hcHBlbmRDaGlsZCh0aGlzLmNyZWF0ZUVsZW1lbnQoImJlZ2luIikpO3RoaXMubGFzdFk9dGhpcy5sYXN0WD0wfTtteFhtbENhbnZhczJELnByb3RvdHlwZS5tb3ZlVG89ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmNyZWF0ZUVsZW1lbnQoIm1vdmUiKTtjLnNldEF0dHJpYnV0ZSgieCIsdGhpcy5mb3JtYXQoYSkpO2Muc2V0QXR0cmlidXRlKCJ5Iix0aGlzLmZvcm1hdChiKSk7dGhpcy5yb290LmFwcGVuZENoaWxkKGMpO3RoaXMubGFzdFg9YTt0aGlzLmxhc3RZPWJ9OwpteFhtbENhbnZhczJELnByb3RvdHlwZS5saW5lVG89ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmNyZWF0ZUVsZW1lbnQoImxpbmUiKTtjLnNldEF0dHJpYnV0ZSgieCIsdGhpcy5mb3JtYXQoYSkpO2Muc2V0QXR0cmlidXRlKCJ5Iix0aGlzLmZvcm1hdChiKSk7dGhpcy5yb290LmFwcGVuZENoaWxkKGMpO3RoaXMubGFzdFg9YTt0aGlzLmxhc3RZPWJ9O214WG1sQ2FudmFzMkQucHJvdG90eXBlLnF1YWRUbz1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZT10aGlzLmNyZWF0ZUVsZW1lbnQoInF1YWQiKTtlLnNldEF0dHJpYnV0ZSgieDEiLHRoaXMuZm9ybWF0KGEpKTtlLnNldEF0dHJpYnV0ZSgieTEiLHRoaXMuZm9ybWF0KGIpKTtlLnNldEF0dHJpYnV0ZSgieDIiLHRoaXMuZm9ybWF0KGMpKTtlLnNldEF0dHJpYnV0ZSgieTIiLHRoaXMuZm9ybWF0KGQpKTt0aGlzLnJvb3QuYXBwZW5kQ2hpbGQoZSk7dGhpcy5sYXN0WD1jO3RoaXMubGFzdFk9ZH07Cm14WG1sQ2FudmFzMkQucHJvdG90eXBlLmN1cnZlVG89ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe3ZhciBnPXRoaXMuY3JlYXRlRWxlbWVudCgiY3VydmUiKTtnLnNldEF0dHJpYnV0ZSgieDEiLHRoaXMuZm9ybWF0KGEpKTtnLnNldEF0dHJpYnV0ZSgieTEiLHRoaXMuZm9ybWF0KGIpKTtnLnNldEF0dHJpYnV0ZSgieDIiLHRoaXMuZm9ybWF0KGMpKTtnLnNldEF0dHJpYnV0ZSgieTIiLHRoaXMuZm9ybWF0KGQpKTtnLnNldEF0dHJpYnV0ZSgieDMiLHRoaXMuZm9ybWF0KGUpKTtnLnNldEF0dHJpYnV0ZSgieTMiLHRoaXMuZm9ybWF0KGYpKTt0aGlzLnJvb3QuYXBwZW5kQ2hpbGQoZyk7dGhpcy5sYXN0WD1lO3RoaXMubGFzdFk9Zn07bXhYbWxDYW52YXMyRC5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24oKXt0aGlzLnJvb3QuYXBwZW5kQ2hpbGQodGhpcy5jcmVhdGVFbGVtZW50KCJjbG9zZSIpKX07Cm14WG1sQ2FudmFzMkQucHJvdG90eXBlLnRleHQ9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxrLGwsbSxuLHAscSl7aWYodGhpcy50ZXh0RW5hYmxlZCYmbnVsbCE9ZSl7bXhVdGlscy5pc05vZGUoZSkmJihlPW14VXRpbHMuZ2V0T3V0ZXJIdG1sKGUpKTt2YXIgcj10aGlzLmNyZWF0ZUVsZW1lbnQoInRleHQiKTtyLnNldEF0dHJpYnV0ZSgieCIsdGhpcy5mb3JtYXQoYSkpO3Iuc2V0QXR0cmlidXRlKCJ5Iix0aGlzLmZvcm1hdChiKSk7ci5zZXRBdHRyaWJ1dGUoInciLHRoaXMuZm9ybWF0KGMpKTtyLnNldEF0dHJpYnV0ZSgiaCIsdGhpcy5mb3JtYXQoZCkpO3Iuc2V0QXR0cmlidXRlKCJzdHIiLGUpO251bGwhPWYmJnIuc2V0QXR0cmlidXRlKCJhbGlnbiIsZik7bnVsbCE9ZyYmci5zZXRBdHRyaWJ1dGUoInZhbGlnbiIsZyk7ci5zZXRBdHRyaWJ1dGUoIndyYXAiLGs/IjEiOiIwIik7bnVsbD09bCYmKGw9IiIpO3Iuc2V0QXR0cmlidXRlKCJmb3JtYXQiLGwpO251bGwhPW0mJnIuc2V0QXR0cmlidXRlKCJvdmVyZmxvdyIsCm0pO251bGwhPW4mJnIuc2V0QXR0cmlidXRlKCJjbGlwIixuPyIxIjoiMCIpO251bGwhPXAmJnIuc2V0QXR0cmlidXRlKCJyb3RhdGlvbiIscCk7bnVsbCE9cSYmci5zZXRBdHRyaWJ1dGUoImRpciIscSk7dGhpcy5yb290LmFwcGVuZENoaWxkKHIpfX07bXhYbWxDYW52YXMyRC5wcm90b3R5cGUuc3Ryb2tlPWZ1bmN0aW9uKCl7dGhpcy5yb290LmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlRWxlbWVudCgic3Ryb2tlIikpfTtteFhtbENhbnZhczJELnByb3RvdHlwZS5maWxsPWZ1bmN0aW9uKCl7dGhpcy5yb290LmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlRWxlbWVudCgiZmlsbCIpKX07bXhYbWxDYW52YXMyRC5wcm90b3R5cGUuZmlsbEFuZFN0cm9rZT1mdW5jdGlvbigpe3RoaXMucm9vdC5hcHBlbmRDaGlsZCh0aGlzLmNyZWF0ZUVsZW1lbnQoImZpbGxzdHJva2UiKSl9OwpmdW5jdGlvbiBteFN2Z0NhbnZhczJEKGEsYil7bXhBYnN0cmFjdENhbnZhczJELmNhbGwodGhpcyk7dGhpcy5yb290PWE7dGhpcy5ncmFkaWVudHM9W107dGhpcy5kZWZzPW51bGw7dGhpcy5zdHlsZUVuYWJsZWQ9bnVsbCE9Yj9iOiExO3ZhciBjPW51bGw7aWYoYS5vd25lckRvY3VtZW50IT1kb2N1bWVudClmb3IoYz1hO251bGwhPWMmJiJzdmciIT1jLm5vZGVOYW1lOyljPWMucGFyZW50Tm9kZTtudWxsIT1jJiYoMDxjLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJkZWZzIikubGVuZ3RoJiYodGhpcy5kZWZzPWMuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImRlZnMiKVswXSksbnVsbD09dGhpcy5kZWZzJiYodGhpcy5kZWZzPXRoaXMuY3JlYXRlRWxlbWVudCgiZGVmcyIpLG51bGwhPWMuZmlyc3RDaGlsZD9jLmluc2VydEJlZm9yZSh0aGlzLmRlZnMsYy5maXJzdENoaWxkKTpjLmFwcGVuZENoaWxkKHRoaXMuZGVmcykpLHRoaXMuc3R5bGVFbmFibGVkJiZ0aGlzLmRlZnMuYXBwZW5kQ2hpbGQodGhpcy5jcmVhdGVTdHlsZSgpKSl9Cm14VXRpbHMuZXh0ZW5kKG14U3ZnQ2FudmFzMkQsbXhBYnN0cmFjdENhbnZhczJEKTsoZnVuY3Rpb24oKXtteFN2Z0NhbnZhczJELnByb3RvdHlwZS51c2VEb21QYXJzZXI9IW14Q2xpZW50LklTX0lFJiYiZnVuY3Rpb24iPT09dHlwZW9mIERPTVBhcnNlciYmImZ1bmN0aW9uIj09PXR5cGVvZiBYTUxTZXJpYWxpemVyO2lmKG14U3ZnQ2FudmFzMkQucHJvdG90eXBlLnVzZURvbVBhcnNlcil0cnl7dmFyIGE9KG5ldyBET01QYXJzZXIpLnBhcnNlRnJvbVN0cmluZygidGVzdCB0ZXh0IiwidGV4dC9odG1sIik7bXhTdmdDYW52YXMyRC5wcm90b3R5cGUudXNlRG9tUGFyc2VyPW51bGwhPWF9Y2F0Y2goYil7bXhTdmdDYW52YXMyRC5wcm90b3R5cGUudXNlRG9tUGFyc2VyPSExfX0pKCk7bXhTdmdDYW52YXMyRC5wcm90b3R5cGUubm9kZT1udWxsO214U3ZnQ2FudmFzMkQucHJvdG90eXBlLm1hdGNoSHRtbEFsaWdubWVudD0hMDsKbXhTdmdDYW52YXMyRC5wcm90b3R5cGUudGV4dEVuYWJsZWQ9ITA7bXhTdmdDYW52YXMyRC5wcm90b3R5cGUuZm9FbmFibGVkPSEwO214U3ZnQ2FudmFzMkQucHJvdG90eXBlLmZvQWx0VGV4dD0iW09iamVjdF0iO214U3ZnQ2FudmFzMkQucHJvdG90eXBlLmZvT2Zmc2V0PTA7bXhTdmdDYW52YXMyRC5wcm90b3R5cGUudGV4dE9mZnNldD0wO214U3ZnQ2FudmFzMkQucHJvdG90eXBlLmltYWdlT2Zmc2V0PTA7bXhTdmdDYW52YXMyRC5wcm90b3R5cGUuc3Ryb2tlVG9sZXJhbmNlPTA7bXhTdmdDYW52YXMyRC5wcm90b3R5cGUubWluU3Ryb2tlV2lkdGg9MTtteFN2Z0NhbnZhczJELnByb3RvdHlwZS5yZWZDb3VudD0wO214U3ZnQ2FudmFzMkQucHJvdG90eXBlLmxpbmVIZWlnaHRDb3JyZWN0aW9uPTE7bXhTdmdDYW52YXMyRC5wcm90b3R5cGUucG9pbnRlckV2ZW50c1ZhbHVlPSJhbGwiO214U3ZnQ2FudmFzMkQucHJvdG90eXBlLmZvbnRNZXRyaWNzUGFkZGluZz0xMDsKbXhTdmdDYW52YXMyRC5wcm90b3R5cGUuY2FjaGVPZmZzZXRTaXplPSEwO214U3ZnQ2FudmFzMkQucHJvdG90eXBlLmZvcm1hdD1mdW5jdGlvbihhKXtyZXR1cm4gcGFyc2VGbG9hdChwYXJzZUZsb2F0KGEpLnRvRml4ZWQoMikpfTtteFN2Z0NhbnZhczJELnByb3RvdHlwZS5nZXRCYXNlVXJsPWZ1bmN0aW9uKCl7dmFyIGE9d2luZG93LmxvY2F0aW9uLmhyZWYsYj1hLmxhc3RJbmRleE9mKCIjIik7MDxiJiYoYT1hLnN1YnN0cmluZygwLGIpKTtyZXR1cm4gYX07bXhTdmdDYW52YXMyRC5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXtteEFic3RyYWN0Q2FudmFzMkQucHJvdG90eXBlLnJlc2V0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLmdyYWRpZW50cz1bXX07Cm14U3ZnQ2FudmFzMkQucHJvdG90eXBlLmNyZWF0ZVN0eWxlPWZ1bmN0aW9uKGEpe2E9dGhpcy5jcmVhdGVFbGVtZW50KCJzdHlsZSIpO2Euc2V0QXR0cmlidXRlKCJ0eXBlIiwidGV4dC9jc3MiKTtteFV0aWxzLndyaXRlKGEsInN2Z3tmb250LWZhbWlseToiK214Q29uc3RhbnRzLkRFRkFVTFRfRk9OVEZBTUlMWSsiO2ZvbnQtc2l6ZToiK214Q29uc3RhbnRzLkRFRkFVTFRfRk9OVFNJWkUrIjtmaWxsOm5vbmU7c3Ryb2tlLW1pdGVybGltaXQ6MTB9Iik7cmV0dXJuIGF9OwpteFN2Z0NhbnZhczJELnByb3RvdHlwZS5jcmVhdGVFbGVtZW50PWZ1bmN0aW9uKGEsYil7aWYobnVsbCE9dGhpcy5yb290Lm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKXJldHVybiB0aGlzLnJvb3Qub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoYnx8bXhDb25zdGFudHMuTlNfU1ZHLGEpO3ZhciBjPXRoaXMucm9vdC5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoYSk7bnVsbCE9YiYmYy5zZXRBdHRyaWJ1dGUoInhtbG5zIixiKTtyZXR1cm4gY307bXhTdmdDYW52YXMyRC5wcm90b3R5cGUuZ2V0QWx0ZXJuYXRlVGV4dD1mdW5jdGlvbihhLGIsYyxkLGUsZixnLGssbCxtLG4scCxxKXtyZXR1cm4gbnVsbCE9Zj90aGlzLmZvQWx0VGV4dDpudWxsfTsKbXhTdmdDYW52YXMyRC5wcm90b3R5cGUuY3JlYXRlQWx0ZXJuYXRlQ29udGVudD1mdW5jdGlvbihhLGIsYyxkLGUsZixnLGssbCxtLG4scCxxKXthPXRoaXMuZ2V0QWx0ZXJuYXRlVGV4dChhLGIsYyxkLGUsZixnLGssbCxtLG4scCxxKTtkPXRoaXMuc3RhdGU7cmV0dXJuIG51bGwhPWEmJjA8ZC5mb250U2l6ZT8oaz1rPT1teENvbnN0YW50cy5BTElHTl9UT1A/MTprPT1teENvbnN0YW50cy5BTElHTl9CT1RUT00/MDouMyxlPWc9PW14Q29uc3RhbnRzLkFMSUdOX1JJR0hUPyJlbmQiOmc9PW14Q29uc3RhbnRzLkFMSUdOX0xFRlQ/InN0YXJ0IjoibWlkZGxlIixnPXRoaXMuY3JlYXRlRWxlbWVudCgidGV4dCIpLGcuc2V0QXR0cmlidXRlKCJ4IixNYXRoLnJvdW5kKGIrZC5keCkpLGcuc2V0QXR0cmlidXRlKCJ5IixNYXRoLnJvdW5kKGMrZC5keStrKmQuZm9udFNpemUpKSxnLnNldEF0dHJpYnV0ZSgiZmlsbCIsZC5mb250Q29sb3J8fCJibGFjayIpLGcuc2V0QXR0cmlidXRlKCJmb250LWZhbWlseSIsCmQuZm9udEZhbWlseSksZy5zZXRBdHRyaWJ1dGUoImZvbnQtc2l6ZSIsTWF0aC5yb3VuZChkLmZvbnRTaXplKSsicHgiKSwic3RhcnQiIT1lJiZnLnNldEF0dHJpYnV0ZSgidGV4dC1hbmNob3IiLGUpLChkLmZvbnRTdHlsZSZteENvbnN0YW50cy5GT05UX0JPTEQpPT1teENvbnN0YW50cy5GT05UX0JPTEQmJmcuc2V0QXR0cmlidXRlKCJmb250LXdlaWdodCIsImJvbGQiKSwoZC5mb250U3R5bGUmbXhDb25zdGFudHMuRk9OVF9JVEFMSUMpPT1teENvbnN0YW50cy5GT05UX0lUQUxJQyYmZy5zZXRBdHRyaWJ1dGUoImZvbnQtc3R5bGUiLCJpdGFsaWMiKSxiPVtdLChkLmZvbnRTdHlsZSZteENvbnN0YW50cy5GT05UX1VOREVSTElORSk9PW14Q29uc3RhbnRzLkZPTlRfVU5ERVJMSU5FJiZiLnB1c2goInVuZGVybGluZSIpLChkLmZvbnRTdHlsZSZteENvbnN0YW50cy5GT05UX1NUUklLRVRIUk9VR0gpPT1teENvbnN0YW50cy5GT05UX1NUUklLRVRIUk9VR0gmJmIucHVzaCgibGluZS10aHJvdWdoIiksCjA8Yi5sZW5ndGgmJmcuc2V0QXR0cmlidXRlKCJ0ZXh0LWRlY29yYXRpb24iLGIuam9pbigiICIpKSxteFV0aWxzLndyaXRlKGcsYSksZyk6bnVsbH07bXhTdmdDYW52YXMyRC5wcm90b3R5cGUuY3JlYXRlR3JhZGllbnRJZD1mdW5jdGlvbihhLGIsYyxkLGUpeyIjIj09YS5jaGFyQXQoMCkmJihhPWEuc3Vic3RyaW5nKDEpKTsiIyI9PWIuY2hhckF0KDApJiYoYj1iLnN1YnN0cmluZygxKSk7YT1hLnRvTG93ZXJDYXNlKCkrIi0iK2M7Yj1iLnRvTG93ZXJDYXNlKCkrIi0iK2Q7Yz1udWxsO251bGw9PWV8fGU9PW14Q29uc3RhbnRzLkRJUkVDVElPTl9TT1VUSD9jPSJzIjplPT1teENvbnN0YW50cy5ESVJFQ1RJT05fRUFTVD9jPSJlIjooZD1hLGE9YixiPWQsZT09bXhDb25zdGFudHMuRElSRUNUSU9OX05PUlRIP2M9InMiOmU9PW14Q29uc3RhbnRzLkRJUkVDVElPTl9XRVNUJiYoYz0iZSIpKTtyZXR1cm4ibXgtZ3JhZGllbnQtIithKyItIitiKyItIitjfTsKbXhTdmdDYW52YXMyRC5wcm90b3R5cGUuZ2V0U3ZnR3JhZGllbnQ9ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZj10aGlzLmNyZWF0ZUdyYWRpZW50SWQoYSxiLGMsZCxlKSxnPXRoaXMuZ3JhZGllbnRzW2ZdO2lmKG51bGw9PWcpe3ZhciBrPXRoaXMucm9vdC5vd25lclNWR0VsZW1lbnQsbD0wLG09ZisiLSIrbDtpZihudWxsIT1rKWZvcihnPWsub3duZXJEb2N1bWVudC5nZXRFbGVtZW50QnlJZChtKTtudWxsIT1nJiZnLm93bmVyU1ZHRWxlbWVudCE9azspbT1mKyItIitsKyssZz1rLm93bmVyRG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQobSk7ZWxzZSBtPSJpZCIrICsrdGhpcy5yZWZDb3VudDtudWxsPT1nJiYoZz10aGlzLmNyZWF0ZVN2Z0dyYWRpZW50KGEsYixjLGQsZSksZy5zZXRBdHRyaWJ1dGUoImlkIixtKSxudWxsIT10aGlzLmRlZnM/dGhpcy5kZWZzLmFwcGVuZENoaWxkKGcpOmsuYXBwZW5kQ2hpbGQoZykpO3RoaXMuZ3JhZGllbnRzW2ZdPWd9cmV0dXJuIGcuZ2V0QXR0cmlidXRlKCJpZCIpfTsKbXhTdmdDYW52YXMyRC5wcm90b3R5cGUuY3JlYXRlU3ZnR3JhZGllbnQ9ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZj10aGlzLmNyZWF0ZUVsZW1lbnQoImxpbmVhckdyYWRpZW50Iik7Zi5zZXRBdHRyaWJ1dGUoIngxIiwiMCUiKTtmLnNldEF0dHJpYnV0ZSgieTEiLCIwJSIpO2Yuc2V0QXR0cmlidXRlKCJ4MiIsIjAlIik7Zi5zZXRBdHRyaWJ1dGUoInkyIiwiMCUiKTtudWxsPT1lfHxlPT1teENvbnN0YW50cy5ESVJFQ1RJT05fU09VVEg/Zi5zZXRBdHRyaWJ1dGUoInkyIiwiMTAwJSIpOmU9PW14Q29uc3RhbnRzLkRJUkVDVElPTl9FQVNUP2Yuc2V0QXR0cmlidXRlKCJ4MiIsIjEwMCUiKTplPT1teENvbnN0YW50cy5ESVJFQ1RJT05fTk9SVEg/Zi5zZXRBdHRyaWJ1dGUoInkxIiwiMTAwJSIpOmU9PW14Q29uc3RhbnRzLkRJUkVDVElPTl9XRVNUJiZmLnNldEF0dHJpYnV0ZSgieDEiLCIxMDAlIik7Yz0xPmM/IjtzdG9wLW9wYWNpdHk6IitjOiIiO2U9dGhpcy5jcmVhdGVFbGVtZW50KCJzdG9wIik7CmUuc2V0QXR0cmlidXRlKCJvZmZzZXQiLCIwJSIpO2Uuc2V0QXR0cmlidXRlKCJzdHlsZSIsInN0b3AtY29sb3I6IithK2MpO2YuYXBwZW5kQ2hpbGQoZSk7Yz0xPmQ/IjtzdG9wLW9wYWNpdHk6IitkOiIiO2U9dGhpcy5jcmVhdGVFbGVtZW50KCJzdG9wIik7ZS5zZXRBdHRyaWJ1dGUoIm9mZnNldCIsIjEwMCUiKTtlLnNldEF0dHJpYnV0ZSgic3R5bGUiLCJzdG9wLWNvbG9yOiIrYitjKTtmLmFwcGVuZENoaWxkKGUpO3JldHVybiBmfTsKbXhTdmdDYW52YXMyRC5wcm90b3R5cGUuYWRkTm9kZT1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMubm9kZSxkPXRoaXMuc3RhdGU7aWYobnVsbCE9Yyl7aWYoInBhdGgiPT1jLm5vZGVOYW1lKWlmKG51bGwhPXRoaXMucGF0aCYmMDx0aGlzLnBhdGgubGVuZ3RoKWMuc2V0QXR0cmlidXRlKCJkIix0aGlzLnBhdGguam9pbigiICIpKTtlbHNlIHJldHVybjthJiZudWxsIT1kLmZpbGxDb2xvcj90aGlzLnVwZGF0ZUZpbGwoKTp0aGlzLnN0eWxlRW5hYmxlZHx8KCJlbGxpcHNlIj09Yy5ub2RlTmFtZSYmbXhDbGllbnQuSVNfRkY/Yy5zZXRBdHRyaWJ1dGUoImZpbGwiLCJ0cmFuc3BhcmVudCIpOmMuc2V0QXR0cmlidXRlKCJmaWxsIiwibm9uZSIpLGE9ITEpO2ImJm51bGwhPWQuc3Ryb2tlQ29sb3I/dGhpcy51cGRhdGVTdHJva2UoKTp0aGlzLnN0eWxlRW5hYmxlZHx8Yy5zZXRBdHRyaWJ1dGUoInN0cm9rZSIsIm5vbmUiKTtudWxsIT1kLnRyYW5zZm9ybSYmMDxkLnRyYW5zZm9ybS5sZW5ndGgmJgpjLnNldEF0dHJpYnV0ZSgidHJhbnNmb3JtIixkLnRyYW5zZm9ybSk7ZC5zaGFkb3cmJnRoaXMucm9vdC5hcHBlbmRDaGlsZCh0aGlzLmNyZWF0ZVNoYWRvdyhjKSk7MDx0aGlzLnN0cm9rZVRvbGVyYW5jZSYmIWEmJnRoaXMucm9vdC5hcHBlbmRDaGlsZCh0aGlzLmNyZWF0ZVRvbGVyYW5jZShjKSk7dGhpcy5wb2ludGVyRXZlbnRzP2Muc2V0QXR0cmlidXRlKCJwb2ludGVyLWV2ZW50cyIsdGhpcy5wb2ludGVyRXZlbnRzVmFsdWUpOnRoaXMucG9pbnRlckV2ZW50c3x8bnVsbCE9dGhpcy5vcmlnaW5hbFJvb3R8fGMuc2V0QXR0cmlidXRlKCJwb2ludGVyLWV2ZW50cyIsIm5vbmUiKTsoInJlY3QiIT1jLm5vZGVOYW1lJiYicGF0aCIhPWMubm9kZU5hbWUmJiJlbGxpcHNlIiE9Yy5ub2RlTmFtZXx8Im5vbmUiIT1jLmdldEF0dHJpYnV0ZSgiZmlsbCIpJiYidHJhbnNwYXJlbnQiIT1jLmdldEF0dHJpYnV0ZSgiZmlsbCIpfHwibm9uZSIhPWMuZ2V0QXR0cmlidXRlKCJzdHJva2UiKXx8Im5vbmUiIT0KYy5nZXRBdHRyaWJ1dGUoInBvaW50ZXItZXZlbnRzIikpJiZ0aGlzLnJvb3QuYXBwZW5kQ2hpbGQoYyk7dGhpcy5ub2RlPW51bGx9fTsKbXhTdmdDYW52YXMyRC5wcm90b3R5cGUudXBkYXRlRmlsbD1mdW5jdGlvbigpe3ZhciBhPXRoaXMuc3RhdGU7KDE+YS5hbHBoYXx8MT5hLmZpbGxBbHBoYSkmJnRoaXMubm9kZS5zZXRBdHRyaWJ1dGUoImZpbGwtb3BhY2l0eSIsYS5hbHBoYSphLmZpbGxBbHBoYSk7aWYobnVsbCE9YS5maWxsQ29sb3IpaWYobnVsbCE9YS5ncmFkaWVudENvbG9yKWlmKGE9dGhpcy5nZXRTdmdHcmFkaWVudChTdHJpbmcoYS5maWxsQ29sb3IpLFN0cmluZyhhLmdyYWRpZW50Q29sb3IpLGEuZ3JhZGllbnRGaWxsQWxwaGEsYS5ncmFkaWVudEFscGhhLGEuZ3JhZGllbnREaXJlY3Rpb24pLG14Q2xpZW50LklTX0NIUk9NRUFQUHx8bXhDbGllbnQuSVNfSUV8fG14Q2xpZW50LklTX0lFMTF8fG14Q2xpZW50LklTX0VER0V8fHRoaXMucm9vdC5vd25lckRvY3VtZW50IT1kb2N1bWVudCl0aGlzLm5vZGUuc2V0QXR0cmlidXRlKCJmaWxsIiwidXJsKCMiK2ErIikiKTtlbHNle3ZhciBiPXRoaXMuZ2V0QmFzZVVybCgpLnJlcGxhY2UoLyhbXChcKV0pL2csCiJcXCQxIik7dGhpcy5ub2RlLnNldEF0dHJpYnV0ZSgiZmlsbCIsInVybCgiK2IrIiMiK2ErIikiKX1lbHNlIHRoaXMubm9kZS5zZXRBdHRyaWJ1dGUoImZpbGwiLFN0cmluZyhhLmZpbGxDb2xvcikudG9Mb3dlckNhc2UoKSl9O214U3ZnQ2FudmFzMkQucHJvdG90eXBlLmdldEN1cnJlbnRTdHJva2VXaWR0aD1mdW5jdGlvbigpe3JldHVybiBNYXRoLm1heCh0aGlzLm1pblN0cm9rZVdpZHRoLE1hdGgubWF4KC4wMSx0aGlzLmZvcm1hdCh0aGlzLnN0YXRlLnN0cm9rZVdpZHRoKnRoaXMuc3RhdGUuc2NhbGUpKSl9OwpteFN2Z0NhbnZhczJELnByb3RvdHlwZS51cGRhdGVTdHJva2U9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnN0YXRlO3RoaXMubm9kZS5zZXRBdHRyaWJ1dGUoInN0cm9rZSIsU3RyaW5nKGEuc3Ryb2tlQ29sb3IpLnRvTG93ZXJDYXNlKCkpOygxPmEuYWxwaGF8fDE+YS5zdHJva2VBbHBoYSkmJnRoaXMubm9kZS5zZXRBdHRyaWJ1dGUoInN0cm9rZS1vcGFjaXR5IixhLmFscGhhKmEuc3Ryb2tlQWxwaGEpO3ZhciBiPXRoaXMuZ2V0Q3VycmVudFN0cm9rZVdpZHRoKCk7MSE9YiYmdGhpcy5ub2RlLnNldEF0dHJpYnV0ZSgic3Ryb2tlLXdpZHRoIixiKTsicGF0aCI9PXRoaXMubm9kZS5ub2RlTmFtZSYmdGhpcy51cGRhdGVTdHJva2VBdHRyaWJ1dGVzKCk7YS5kYXNoZWQmJnRoaXMubm9kZS5zZXRBdHRyaWJ1dGUoInN0cm9rZS1kYXNoYXJyYXkiLHRoaXMuY3JlYXRlRGFzaFBhdHRlcm4oKGEuZml4RGFzaD8xOmEuc3Ryb2tlV2lkdGgpKmEuc2NhbGUpKX07Cm14U3ZnQ2FudmFzMkQucHJvdG90eXBlLnVwZGF0ZVN0cm9rZUF0dHJpYnV0ZXM9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnN0YXRlO251bGwhPWEubGluZUpvaW4mJiJtaXRlciIhPWEubGluZUpvaW4mJnRoaXMubm9kZS5zZXRBdHRyaWJ1dGUoInN0cm9rZS1saW5lam9pbiIsYS5saW5lSm9pbik7aWYobnVsbCE9YS5saW5lQ2FwKXt2YXIgYj1hLmxpbmVDYXA7ImZsYXQiPT1iJiYoYj0iYnV0dCIpOyJidXR0IiE9YiYmdGhpcy5ub2RlLnNldEF0dHJpYnV0ZSgic3Ryb2tlLWxpbmVjYXAiLGIpfW51bGw9PWEubWl0ZXJMaW1pdHx8dGhpcy5zdHlsZUVuYWJsZWQmJjEwPT1hLm1pdGVyTGltaXR8fHRoaXMubm9kZS5zZXRBdHRyaWJ1dGUoInN0cm9rZS1taXRlcmxpbWl0IixhLm1pdGVyTGltaXQpfTsKbXhTdmdDYW52YXMyRC5wcm90b3R5cGUuY3JlYXRlRGFzaFBhdHRlcm49ZnVuY3Rpb24oYSl7dmFyIGI9W107aWYoInN0cmluZyI9PT10eXBlb2YgdGhpcy5zdGF0ZS5kYXNoUGF0dGVybil7dmFyIGM9dGhpcy5zdGF0ZS5kYXNoUGF0dGVybi5zcGxpdCgiICIpO2lmKDA8Yy5sZW5ndGgpZm9yKHZhciBkPTA7ZDxjLmxlbmd0aDtkKyspYltkXT1OdW1iZXIoY1tkXSkqYX1yZXR1cm4gYi5qb2luKCIgIil9OwpteFN2Z0NhbnZhczJELnByb3RvdHlwZS5jcmVhdGVUb2xlcmFuY2U9ZnVuY3Rpb24oYSl7YT1hLmNsb25lTm9kZSghMCk7dmFyIGI9cGFyc2VGbG9hdChhLmdldEF0dHJpYnV0ZSgic3Ryb2tlLXdpZHRoIil8fDEpK3RoaXMuc3Ryb2tlVG9sZXJhbmNlO2Euc2V0QXR0cmlidXRlKCJwb2ludGVyLWV2ZW50cyIsInN0cm9rZSIpO2Euc2V0QXR0cmlidXRlKCJ2aXNpYmlsaXR5IiwiaGlkZGVuIik7YS5yZW1vdmVBdHRyaWJ1dGUoInN0cm9rZS1kYXNoYXJyYXkiKTthLnNldEF0dHJpYnV0ZSgic3Ryb2tlLXdpZHRoIixiKTthLnNldEF0dHJpYnV0ZSgiZmlsbCIsIm5vbmUiKTthLnNldEF0dHJpYnV0ZSgic3Ryb2tlIixteENsaWVudC5JU19PVD8ibm9uZSI6IndoaXRlIik7cmV0dXJuIGF9OwpteFN2Z0NhbnZhczJELnByb3RvdHlwZS5jcmVhdGVTaGFkb3c9ZnVuY3Rpb24oYSl7YT1hLmNsb25lTm9kZSghMCk7dmFyIGI9dGhpcy5zdGF0ZTsibm9uZSI9PWEuZ2V0QXR0cmlidXRlKCJmaWxsIil8fG14Q2xpZW50LklTX0ZGJiYidHJhbnNwYXJlbnQiPT1hLmdldEF0dHJpYnV0ZSgiZmlsbCIpfHxhLnNldEF0dHJpYnV0ZSgiZmlsbCIsYi5zaGFkb3dDb2xvcik7Im5vbmUiIT1hLmdldEF0dHJpYnV0ZSgic3Ryb2tlIikmJmEuc2V0QXR0cmlidXRlKCJzdHJva2UiLGIuc2hhZG93Q29sb3IpO2Euc2V0QXR0cmlidXRlKCJ0cmFuc2Zvcm0iLCJ0cmFuc2xhdGUoIit0aGlzLmZvcm1hdChiLnNoYWRvd0R4KmIuc2NhbGUpKyIsIit0aGlzLmZvcm1hdChiLnNoYWRvd0R5KmIuc2NhbGUpKyIpIisoYi50cmFuc2Zvcm18fCIiKSk7YS5zZXRBdHRyaWJ1dGUoIm9wYWNpdHkiLGIuc2hhZG93QWxwaGEpO3JldHVybiBhfTsKbXhTdmdDYW52YXMyRC5wcm90b3R5cGUuc2V0TGluaz1mdW5jdGlvbihhKXtpZihudWxsPT1hKXRoaXMucm9vdD10aGlzLm9yaWdpbmFsUm9vdDtlbHNle3RoaXMub3JpZ2luYWxSb290PXRoaXMucm9vdDt2YXIgYj10aGlzLmNyZWF0ZUVsZW1lbnQoImEiKTtudWxsPT1iLnNldEF0dHJpYnV0ZU5TfHx0aGlzLnJvb3Qub3duZXJEb2N1bWVudCE9ZG9jdW1lbnQmJm51bGw9PWRvY3VtZW50LmRvY3VtZW50TW9kZT9iLnNldEF0dHJpYnV0ZSgieGxpbms6aHJlZiIsYSk6Yi5zZXRBdHRyaWJ1dGVOUyhteENvbnN0YW50cy5OU19YTElOSywieGxpbms6aHJlZiIsYSk7dGhpcy5yb290LmFwcGVuZENoaWxkKGIpO3RoaXMucm9vdD1ifX07Cm14U3ZnQ2FudmFzMkQucHJvdG90eXBlLnJvdGF0ZT1mdW5jdGlvbihhLGIsYyxkLGUpe2lmKDAhPWF8fGJ8fGMpe3ZhciBmPXRoaXMuc3RhdGU7ZCs9Zi5keDtlKz1mLmR5O2QqPWYuc2NhbGU7ZSo9Zi5zY2FsZTtmLnRyYW5zZm9ybT1mLnRyYW5zZm9ybXx8IiI7aWYoYiYmYylhKz0xODA7ZWxzZSBpZihiIT1jKXt2YXIgZz1iP2Q6MCxrPWI/LTE6MSxsPWM/ZTowLG09Yz8tMToxO2YudHJhbnNmb3JtKz0idHJhbnNsYXRlKCIrdGhpcy5mb3JtYXQoZykrIiwiK3RoaXMuZm9ybWF0KGwpKyIpc2NhbGUoIit0aGlzLmZvcm1hdChrKSsiLCIrdGhpcy5mb3JtYXQobSkrIil0cmFuc2xhdGUoIit0aGlzLmZvcm1hdCgtZykrIiwiK3RoaXMuZm9ybWF0KC1sKSsiKSJ9aWYoYj8hYzpjKWEqPS0xOzAhPWEmJihmLnRyYW5zZm9ybSs9InJvdGF0ZSgiK3RoaXMuZm9ybWF0KGEpKyIsIit0aGlzLmZvcm1hdChkKSsiLCIrdGhpcy5mb3JtYXQoZSkrIikiKTtmLnJvdGF0aW9uKz1hO2Yucm90YXRpb25DeD0KZDtmLnJvdGF0aW9uQ3k9ZX19O214U3ZnQ2FudmFzMkQucHJvdG90eXBlLmJlZ2luPWZ1bmN0aW9uKCl7bXhBYnN0cmFjdENhbnZhczJELnByb3RvdHlwZS5iZWdpbi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5ub2RlPXRoaXMuY3JlYXRlRWxlbWVudCgicGF0aCIpfTtteFN2Z0NhbnZhczJELnByb3RvdHlwZS5yZWN0PWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPXRoaXMuc3RhdGUsZj10aGlzLmNyZWF0ZUVsZW1lbnQoInJlY3QiKTtmLnNldEF0dHJpYnV0ZSgieCIsdGhpcy5mb3JtYXQoKGErZS5keCkqZS5zY2FsZSkpO2Yuc2V0QXR0cmlidXRlKCJ5Iix0aGlzLmZvcm1hdCgoYitlLmR5KSplLnNjYWxlKSk7Zi5zZXRBdHRyaWJ1dGUoIndpZHRoIix0aGlzLmZvcm1hdChjKmUuc2NhbGUpKTtmLnNldEF0dHJpYnV0ZSgiaGVpZ2h0Iix0aGlzLmZvcm1hdChkKmUuc2NhbGUpKTt0aGlzLm5vZGU9Zn07Cm14U3ZnQ2FudmFzMkQucHJvdG90eXBlLnJvdW5kcmVjdD1mdW5jdGlvbihhLGIsYyxkLGUsZil7dGhpcy5yZWN0KGEsYixjLGQpOzA8ZSYmdGhpcy5ub2RlLnNldEF0dHJpYnV0ZSgicngiLHRoaXMuZm9ybWF0KGUqdGhpcy5zdGF0ZS5zY2FsZSkpOzA8ZiYmdGhpcy5ub2RlLnNldEF0dHJpYnV0ZSgicnkiLHRoaXMuZm9ybWF0KGYqdGhpcy5zdGF0ZS5zY2FsZSkpfTtteFN2Z0NhbnZhczJELnByb3RvdHlwZS5lbGxpcHNlPWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPXRoaXMuc3RhdGUsZj10aGlzLmNyZWF0ZUVsZW1lbnQoImVsbGlwc2UiKTtmLnNldEF0dHJpYnV0ZSgiY3giLHRoaXMuZm9ybWF0KChhK2MvMitlLmR4KSplLnNjYWxlKSk7Zi5zZXRBdHRyaWJ1dGUoImN5Iix0aGlzLmZvcm1hdCgoYitkLzIrZS5keSkqZS5zY2FsZSkpO2Yuc2V0QXR0cmlidXRlKCJyeCIsYy8yKmUuc2NhbGUpO2Yuc2V0QXR0cmlidXRlKCJyeSIsZC8yKmUuc2NhbGUpO3RoaXMubm9kZT1mfTsKbXhTdmdDYW52YXMyRC5wcm90b3R5cGUuaW1hZ2U9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxrKXtlPXRoaXMuY29udmVydGVyLmNvbnZlcnQoZSk7Zj1udWxsIT1mP2Y6ITA7Zz1udWxsIT1nP2c6ITE7az1udWxsIT1rP2s6ITE7dmFyIGw9dGhpcy5zdGF0ZTthKz1sLmR4O2IrPWwuZHk7dmFyIG09dGhpcy5jcmVhdGVFbGVtZW50KCJpbWFnZSIpO20uc2V0QXR0cmlidXRlKCJ4Iix0aGlzLmZvcm1hdChhKmwuc2NhbGUpK3RoaXMuaW1hZ2VPZmZzZXQpO20uc2V0QXR0cmlidXRlKCJ5Iix0aGlzLmZvcm1hdChiKmwuc2NhbGUpK3RoaXMuaW1hZ2VPZmZzZXQpO20uc2V0QXR0cmlidXRlKCJ3aWR0aCIsdGhpcy5mb3JtYXQoYypsLnNjYWxlKSk7bS5zZXRBdHRyaWJ1dGUoImhlaWdodCIsdGhpcy5mb3JtYXQoZCpsLnNjYWxlKSk7bnVsbD09bS5zZXRBdHRyaWJ1dGVOUz9tLnNldEF0dHJpYnV0ZSgieGxpbms6aHJlZiIsZSk6bS5zZXRBdHRyaWJ1dGVOUyhteENvbnN0YW50cy5OU19YTElOSywKInhsaW5rOmhyZWYiLGUpO2Z8fG0uc2V0QXR0cmlidXRlKCJwcmVzZXJ2ZUFzcGVjdFJhdGlvIiwibm9uZSIpOygxPmwuYWxwaGF8fDE+bC5maWxsQWxwaGEpJiZtLnNldEF0dHJpYnV0ZSgib3BhY2l0eSIsbC5hbHBoYSpsLmZpbGxBbHBoYSk7ZT10aGlzLnN0YXRlLnRyYW5zZm9ybXx8IiI7aWYoZ3x8ayl7dmFyIG49Zj0xLHA9MCxxPTA7ZyYmKGY9LTEscD0tYy0yKmEpO2smJihuPS0xLHE9LWQtMipiKTtlKz0ic2NhbGUoIitmKyIsIituKyIpdHJhbnNsYXRlKCIrcCpsLnNjYWxlKyIsIitxKmwuc2NhbGUrIikifTA8ZS5sZW5ndGgmJm0uc2V0QXR0cmlidXRlKCJ0cmFuc2Zvcm0iLGUpO3RoaXMucG9pbnRlckV2ZW50c3x8bS5zZXRBdHRyaWJ1dGUoInBvaW50ZXItZXZlbnRzIiwibm9uZSIpO3RoaXMucm9vdC5hcHBlbmRDaGlsZChtKX07Cm14U3ZnQ2FudmFzMkQucHJvdG90eXBlLmNvbnZlcnRIdG1sPWZ1bmN0aW9uKGEpe2lmKHRoaXMudXNlRG9tUGFyc2VyKXt2YXIgYj0obmV3IERPTVBhcnNlcikucGFyc2VGcm9tU3RyaW5nKGEsInRleHQvaHRtbCIpO251bGwhPWImJihhPShuZXcgWE1MU2VyaWFsaXplcikuc2VyaWFsaXplVG9TdHJpbmcoYi5ib2R5KSwiPGJvZHkiPT1hLnN1YnN0cmluZygwLDUpJiYoYT1hLnN1YnN0cmluZyhhLmluZGV4T2YoIj4iLDUpKzEpKSwiPC9ib2R5PiI9PWEuc3Vic3RyaW5nKGEubGVuZ3RoLTcsYS5sZW5ndGgpJiYoYT1hLnN1YnN0cmluZygwLGEubGVuZ3RoLTcpKSl9ZWxzZXtpZihudWxsIT1kb2N1bWVudC5pbXBsZW1lbnRhdGlvbiYmbnVsbCE9ZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uY3JlYXRlRG9jdW1lbnQpe3ZhciBiPWRvY3VtZW50LmltcGxlbWVudGF0aW9uLmNyZWF0ZURvY3VtZW50KCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiwiaHRtbCIsbnVsbCksYz1iLmNyZWF0ZUVsZW1lbnQoImJvZHkiKTsKYi5kb2N1bWVudEVsZW1lbnQuYXBwZW5kQ2hpbGQoYyk7dmFyIGQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7ZC5pbm5lckhUTUw9YTtmb3IoYT1kLmZpcnN0Q2hpbGQ7bnVsbCE9YTspZD1hLm5leHRTaWJsaW5nLGMuYXBwZW5kQ2hpbGQoYi5hZG9wdE5vZGUoYSkpLGE9ZDtyZXR1cm4gYy5pbm5lckhUTUx9Yj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ZXh0YXJlYSIpO2IuaW5uZXJIVE1MPWEucmVwbGFjZSgvJmFtcDsvZywiJmFtcDthbXA7IikucmVwbGFjZSgvJiM2MDsvZywiJmFtcDtsdDsiKS5yZXBsYWNlKC8mIzYyOy9nLCImYW1wO2d0OyIpLnJlcGxhY2UoLyZsdDsvZywiJmFtcDtsdDsiKS5yZXBsYWNlKC8mZ3Q7L2csIiZhbXA7Z3Q7IikucmVwbGFjZSgvPC9nLCImbHQ7IikucmVwbGFjZSgvPi9nLCImZ3Q7Iik7YT1iLnZhbHVlLnJlcGxhY2UoLyYvZywiJmFtcDsiKS5yZXBsYWNlKC8mYW1wO2x0Oy9nLCImbHQ7IikucmVwbGFjZSgvJmFtcDtndDsvZywiJmd0OyIpLnJlcGxhY2UoLyZhbXA7YW1wOy9nLAoiJmFtcDsiKS5yZXBsYWNlKC88YnI+L2csIjxiciAvPiIpLnJlcGxhY2UoLzxocj4vZywiPGhyIC8+IikucmVwbGFjZSgvKDxpbWdbXj5dKyk+L2dtLCIkMSAvPiIpfXJldHVybiBhfTsKbXhTdmdDYW52YXMyRC5wcm90b3R5cGUuY3JlYXRlRGl2PWZ1bmN0aW9uKGEpe214VXRpbHMuaXNOb2RlKGEpfHwoYT0iPGRpdj48ZGl2PiIrdGhpcy5jb252ZXJ0SHRtbChhKSsiPC9kaXY+PC9kaXY+Iik7aWYobXhDbGllbnQuSVNfSUV8fG14Q2xpZW50LklTX0lFMTF8fCFkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMpcmV0dXJuIG14VXRpbHMuaXNOb2RlKGEpJiYoYT0iPGRpdj48ZGl2PiIrbXhVdGlscy5nZXRYbWwoYSkrIjwvZGl2PjwvZGl2PiIpLG14VXRpbHMucGFyc2VYbWwoJzxkaXYgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiPicrYSsiPC9kaXY+IikuZG9jdW1lbnRFbGVtZW50O3ZhciBiPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygiaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIsImRpdiIpO2lmKG14VXRpbHMuaXNOb2RlKGEpKXt2YXIgYz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSxkPWMuY2xvbmVOb2RlKCExKTt0aGlzLnJvb3Qub3duZXJEb2N1bWVudCE9CmRvY3VtZW50P2MuYXBwZW5kQ2hpbGQoYS5jbG9uZU5vZGUoITApKTpjLmFwcGVuZENoaWxkKGEpO2QuYXBwZW5kQ2hpbGQoYyk7Yi5hcHBlbmRDaGlsZChkKX1lbHNlIGIuaW5uZXJIVE1MPWE7cmV0dXJuIGJ9O214U3ZnQ2FudmFzMkQucHJvdG90eXBlLnVwZGF0ZVRleHQ9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxrLGwsbSxuKXtudWxsIT1uJiZudWxsIT1uLmZpcnN0Q2hpbGQmJm51bGwhPW4uZmlyc3RDaGlsZC5maXJzdENoaWxkJiZ0aGlzLnVwZGF0ZVRleHROb2RlcyhhLGIsYyxkLGUsZixnLGssbCxtLG4uZmlyc3RDaGlsZCl9OwpteFN2Z0NhbnZhczJELnByb3RvdHlwZS5hZGRGb3JlaWduT2JqZWN0PWZ1bmN0aW9uKGEsYixjLGQsZSxmLGcsayxsLG0sbixwLHEscix0KXtxPXRoaXMuY3JlYXRlRWxlbWVudCgiZyIpO3ZhciB1PXRoaXMuY3JlYXRlRWxlbWVudCgiZm9yZWlnbk9iamVjdCIpO3Uuc2V0QXR0cmlidXRlKCJzdHlsZSIsIm92ZXJmbG93OiB2aXNpYmxlOyB0ZXh0LWFsaWduOiBsZWZ0OyIpO3Uuc2V0QXR0cmlidXRlKCJwb2ludGVyLWV2ZW50cyIsIm5vbmUiKTtyLm93bmVyRG9jdW1lbnQhPWRvY3VtZW50JiYocj1teFV0aWxzLmltcG9ydE5vZGVJbXBsZW1lbnRhdGlvbih1Lm93bmVyRG9jdW1lbnQsciwhMCkpO3UuYXBwZW5kQ2hpbGQocik7cS5hcHBlbmRDaGlsZCh1KTt0aGlzLnVwZGF0ZVRleHROb2RlcyhhLGIsYyxkLGYsZyxrLG0sbixwLHEpO3RoaXMucm9vdC5vd25lckRvY3VtZW50IT1kb2N1bWVudCYmKGE9dGhpcy5jcmVhdGVBbHRlcm5hdGVDb250ZW50KHUsYSxiLGMsZCxlLGYsZyxrLGwsCm0sbixwKSxudWxsIT1hJiYodS5zZXRBdHRyaWJ1dGUoInJlcXVpcmVkRmVhdHVyZXMiLCJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiKSxiPXRoaXMuY3JlYXRlRWxlbWVudCgic3dpdGNoIiksYi5hcHBlbmRDaGlsZCh1KSxiLmFwcGVuZENoaWxkKGEpLHEuYXBwZW5kQ2hpbGQoYikpKTt0LmFwcGVuZENoaWxkKHEpfTsKbXhTdmdDYW52YXMyRC5wcm90b3R5cGUudXBkYXRlVGV4dE5vZGVzPWZ1bmN0aW9uKGEsYixjLGQsZSxmLGcsayxsLG0sbil7dmFyIHA9dGhpcy5zdGF0ZS5zY2FsZTtteFN2Z0NhbnZhczJELmNyZWF0ZUNzcyhjKzIsZCxlLGYsZyxrLGwsbnVsbCE9dGhpcy5zdGF0ZS5mb250QmFja2dyb3VuZENvbG9yP3RoaXMuc3RhdGUuZm9udEJhY2tncm91bmRDb2xvcjpudWxsLG51bGwhPXRoaXMuc3RhdGUuZm9udEJvcmRlckNvbG9yP3RoaXMuc3RhdGUuZm9udEJvcmRlckNvbG9yOm51bGwsImRpc3BsYXk6IGZsZXg7IGFsaWduLWl0ZW1zOiB1bnNhZmUgIisoZj09bXhDb25zdGFudHMuQUxJR05fVE9QPyJmbGV4LXN0YXJ0IjpmPT1teENvbnN0YW50cy5BTElHTl9CT1RUT00/ImZsZXgtZW5kIjoiY2VudGVyIikrIjsganVzdGlmeS1jb250ZW50OiB1bnNhZmUgIisoZT09bXhDb25zdGFudHMuQUxJR05fTEVGVD8iZmxleC1zdGFydCI6ZT09bXhDb25zdGFudHMuQUxJR05fUklHSFQ/ImZsZXgtZW5kIjoKImNlbnRlciIpKyI7ICIsdGhpcy5nZXRUZXh0Q3NzKCkscCxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihjLGQsZSxmLGcpe2ErPXRoaXMuc3RhdGUuZHg7Yis9dGhpcy5zdGF0ZS5keTt2YXIgaz1uLmZpcnN0Q2hpbGQsbD1rLmZpcnN0Q2hpbGQscT1sLmZpcnN0Q2hpbGQscj0odGhpcy5yb3RhdGVIdG1sP3RoaXMuc3RhdGUucm90YXRpb246MCkrKG51bGwhPW0/bTowKSx0PSgwIT10aGlzLmZvT2Zmc2V0PyJ0cmFuc2xhdGUoIit0aGlzLmZvT2Zmc2V0KyIgIit0aGlzLmZvT2Zmc2V0KyIpIjoiIikrKDEhPXA/InNjYWxlKCIrcCsiKSI6IiIpO3EuZmlyc3RDaGlsZC5zZXRBdHRyaWJ1dGUoInN0eWxlIixnKTtxLnNldEF0dHJpYnV0ZSgic3R5bGUiLGYpO2suc2V0QXR0cmlidXRlKCJ3aWR0aCIsTWF0aC5jZWlsKDEvTWF0aC5taW4oMSxwKSoxMDApKyIlIik7ay5zZXRBdHRyaWJ1dGUoImhlaWdodCIsTWF0aC5jZWlsKDEvTWF0aC5taW4oMSxwKSoxMDApKyIlIik7ZD1NYXRoLnJvdW5kKGIrCmQpOzA+ZD9rLnNldEF0dHJpYnV0ZSgieSIsZCk6KGsucmVtb3ZlQXR0cmlidXRlKCJ5IiksZSs9InBhZGRpbmctdG9wOiAiK2QrInB4OyAiKTtsLnNldEF0dHJpYnV0ZSgic3R5bGUiLGUrIm1hcmdpbi1sZWZ0OiAiK01hdGgucm91bmQoYStjKSsicHg7Iik7dCs9MCE9cj8icm90YXRlKCIrcisiICIrYSsiICIrYisiKSI6IiI7IiIhPXQ/bi5zZXRBdHRyaWJ1dGUoInRyYW5zZm9ybSIsdCk6bi5yZW1vdmVBdHRyaWJ1dGUoInRyYW5zZm9ybSIpOzEhPXRoaXMuc3RhdGUuYWxwaGE/bi5zZXRBdHRyaWJ1dGUoIm9wYWNpdHkiLHRoaXMuc3RhdGUuYWxwaGEpOm4ucmVtb3ZlQXR0cmlidXRlKCJvcGFjaXR5Iil9KSl9OwpteFN2Z0NhbnZhczJELmNyZWF0ZUNzcz1mdW5jdGlvbihhLGIsYyxkLGUsZixnLGssbCxtLG4scCxxKXtwPSJib3gtc2l6aW5nOiBib3JkZXItYm94OyBmb250LXNpemU6IDA7IHRleHQtYWxpZ246ICIrKGM9PW14Q29uc3RhbnRzLkFMSUdOX0xFRlQ/ImxlZnQiOmM9PW14Q29uc3RhbnRzLkFMSUdOX1JJR0hUPyJyaWdodCI6ImNlbnRlciIpKyI7ICI7dmFyIHI9bXhVdGlscy5nZXRBbGlnbm1lbnRBc1BvaW50KGMsZCk7Yz0ib3ZlcmZsb3c6IGhpZGRlbjsgIjtkPSJ3aWR0aDogMXB4OyAiO3ZhciB0PSJoZWlnaHQ6IDFweDsgIix1PXIueCphLHI9ci55KmI7Zz8oZD0id2lkdGg6ICIrTWF0aC5yb3VuZChhKSsicHg7ICIscCs9Im1heC1oZWlnaHQ6ICIrTWF0aC5yb3VuZChiKSsicHg7ICIscj0wKToiZmlsbCI9PWY/KGQ9IndpZHRoOiAiK01hdGgucm91bmQoYSkrInB4OyAiLHQ9ImhlaWdodDogIitNYXRoLnJvdW5kKGIpKyJweDsgIixuKz0id2lkdGg6IDEwMCU7IGhlaWdodDogMTAwJTsgIiwKcCs9ZCt0KToid2lkdGgiPT1mPyhkPSJ3aWR0aDogIitNYXRoLnJvdW5kKGEpKyJweDsgIixuKz0id2lkdGg6IDEwMCU7ICIscCs9ZCxyPTAsMDxiJiYocCs9Im1heC1oZWlnaHQ6ICIrTWF0aC5yb3VuZChiKSsicHg7ICIpKTooYz0iIixyPTApO2I9IiI7bnVsbCE9ayYmKGIrPSJiYWNrZ3JvdW5kLWNvbG9yOiAiK2srIjsgIik7bnVsbCE9bCYmKGIrPSJib3JkZXI6IDFweCBzb2xpZCAiK2wrIjsgIik7IiI9PWN8fGc/bis9YjpwKz1iO2UmJjA8YT8obis9IndoaXRlLXNwYWNlOiBub3JtYWw7IHdvcmQtd3JhcDogIitteENvbnN0YW50cy5XT1JEX1dSQVArIjsgIixkPSJ3aWR0aDogIitNYXRoLnJvdW5kKGEpKyJweDsgIiwiIiE9YyYmImZpbGwiIT1mJiYocj0wKSk6KG4rPSJ3aGl0ZS1zcGFjZTogbm93cmFwOyAiLCIiPT1jJiYodT0wKSk7cSh1LHIsbStkK3QscCtjLG4sYyl9OwpteFN2Z0NhbnZhczJELnByb3RvdHlwZS5nZXRUZXh0Q3NzPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5zdGF0ZSxiPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGZvbnQtc2l6ZTogIithLmZvbnRTaXplKyJweDsgZm9udC1mYW1pbHk6ICIrYS5mb250RmFtaWx5KyI7IGNvbG9yOiAiK2EuZm9udENvbG9yKyI7IGxpbmUtaGVpZ2h0OiAiKyhteENvbnN0YW50cy5BQlNPTFVURV9MSU5FX0hFSUdIVD9hLmZvbnRTaXplKm14Q29uc3RhbnRzLkxJTkVfSEVJR0hUKyJweCI6bXhDb25zdGFudHMuTElORV9IRUlHSFQqdGhpcy5saW5lSGVpZ2h0Q29ycmVjdGlvbikrIjsgcG9pbnRlci1ldmVudHM6ICIrKHRoaXMucG9pbnRlckV2ZW50cz90aGlzLnBvaW50ZXJFdmVudHNWYWx1ZToibm9uZSIpKyI7ICI7KGEuZm9udFN0eWxlJm14Q29uc3RhbnRzLkZPTlRfQk9MRCk9PW14Q29uc3RhbnRzLkZPTlRfQk9MRCYmKGIrPSJmb250LXdlaWdodDogYm9sZDsgIik7KGEuZm9udFN0eWxlJm14Q29uc3RhbnRzLkZPTlRfSVRBTElDKT09Cm14Q29uc3RhbnRzLkZPTlRfSVRBTElDJiYoYis9ImZvbnQtc3R5bGU6IGl0YWxpYzsgIik7dmFyIGM9W107KGEuZm9udFN0eWxlJm14Q29uc3RhbnRzLkZPTlRfVU5ERVJMSU5FKT09bXhDb25zdGFudHMuRk9OVF9VTkRFUkxJTkUmJmMucHVzaCgidW5kZXJsaW5lIik7KGEuZm9udFN0eWxlJm14Q29uc3RhbnRzLkZPTlRfU1RSSUtFVEhST1VHSCk9PW14Q29uc3RhbnRzLkZPTlRfU1RSSUtFVEhST1VHSCYmYy5wdXNoKCJsaW5lLXRocm91Z2giKTswPGMubGVuZ3RoJiYoYis9InRleHQtZGVjb3JhdGlvbjogIitjLmpvaW4oIiAiKSsiOyAiKTtyZXR1cm4gYn07Cm14U3ZnQ2FudmFzMkQucHJvdG90eXBlLnRleHQ9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxrLGwsbSxuLHAscSl7aWYodGhpcy50ZXh0RW5hYmxlZCYmbnVsbCE9ZSlpZihwPW51bGwhPXA/cDowLHRoaXMuZm9FbmFibGVkJiYiaHRtbCI9PWwpe3ZhciByPXRoaXMuY3JlYXRlRGl2KGUpO251bGwhPXImJihudWxsIT1xJiZyLnNldEF0dHJpYnV0ZSgiZGlyIixxKSx0aGlzLmFkZEZvcmVpZ25PYmplY3QoYSxiLGMsZCxlLGYsZyxrLGwsbSxuLHAscSxyLHRoaXMucm9vdCkpfWVsc2UgdGhpcy5wbGFpblRleHQoYSt0aGlzLnN0YXRlLmR4LGIrdGhpcy5zdGF0ZS5keSxjLGQsZSxmLGcsayxtLG4scCxxKX07Cm14U3ZnQ2FudmFzMkQucHJvdG90eXBlLmNyZWF0ZUNsaXA9ZnVuY3Rpb24oYSxiLGMsZCl7YT1NYXRoLnJvdW5kKGEpO2I9TWF0aC5yb3VuZChiKTtjPU1hdGgucm91bmQoYyk7ZD1NYXRoLnJvdW5kKGQpO2Zvcih2YXIgZT0ibXgtY2xpcC0iK2ErIi0iK2IrIi0iK2MrIi0iK2QsZj0wLGc9ZSsiLSIrZjtudWxsIT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChnKTspZz1lKyItIisgKytmO2NsaXA9dGhpcy5jcmVhdGVFbGVtZW50KCJjbGlwUGF0aCIpO2NsaXAuc2V0QXR0cmlidXRlKCJpZCIsZyk7ZT10aGlzLmNyZWF0ZUVsZW1lbnQoInJlY3QiKTtlLnNldEF0dHJpYnV0ZSgieCIsYSk7ZS5zZXRBdHRyaWJ1dGUoInkiLGIpO2Uuc2V0QXR0cmlidXRlKCJ3aWR0aCIsYyk7ZS5zZXRBdHRyaWJ1dGUoImhlaWdodCIsZCk7Y2xpcC5hcHBlbmRDaGlsZChlKTtyZXR1cm4gY2xpcH07Cm14U3ZnQ2FudmFzMkQucHJvdG90eXBlLnBsYWluVGV4dD1mdW5jdGlvbihhLGIsYyxkLGUsZixnLGssbCxtLG4scCl7bj1udWxsIT1uP246MDtrPXRoaXMuc3RhdGU7dmFyIHE9ay5mb250U2l6ZSxyPXRoaXMuY3JlYXRlRWxlbWVudCgiZyIpLHQ9ay50cmFuc2Zvcm18fCIiO3RoaXMudXBkYXRlRm9udChyKTswIT1uJiYodCs9InJvdGF0ZSgiK24rIiwiK3RoaXMuZm9ybWF0KGEqay5zY2FsZSkrIiwiK3RoaXMuZm9ybWF0KGIqay5zY2FsZSkrIikiKTtudWxsIT1wJiZyLnNldEF0dHJpYnV0ZSgiZGlyZWN0aW9uIixwKTttJiYwPGMmJjA8ZCYmKHA9YSxuPWIsZj09bXhDb25zdGFudHMuQUxJR05fQ0VOVEVSP3AtPWMvMjpmPT1teENvbnN0YW50cy5BTElHTl9SSUdIVCYmKHAtPWMpLCJmaWxsIiE9bCYmKGc9PW14Q29uc3RhbnRzLkFMSUdOX01JRERMRT9uLT1kLzI6Zz09bXhDb25zdGFudHMuQUxJR05fQk9UVE9NJiYobi09ZCkpLG49dGhpcy5jcmVhdGVDbGlwKHAqay5zY2FsZS0yLApuKmsuc2NhbGUtMixjKmsuc2NhbGUrNCxkKmsuc2NhbGUrNCksbnVsbCE9dGhpcy5kZWZzP3RoaXMuZGVmcy5hcHBlbmRDaGlsZChuKTp0aGlzLnJvb3QuYXBwZW5kQ2hpbGQobiksbXhDbGllbnQuSVNfQ0hST01FQVBQfHxteENsaWVudC5JU19JRXx8bXhDbGllbnQuSVNfSUUxMXx8bXhDbGllbnQuSVNfRURHRXx8dGhpcy5yb290Lm93bmVyRG9jdW1lbnQhPWRvY3VtZW50P3Iuc2V0QXR0cmlidXRlKCJjbGlwLXBhdGgiLCJ1cmwoIyIrbi5nZXRBdHRyaWJ1dGUoImlkIikrIikiKToocD10aGlzLmdldEJhc2VVcmwoKS5yZXBsYWNlKC8oW1woXCldKS9nLCJcXCQxIiksci5zZXRBdHRyaWJ1dGUoImNsaXAtcGF0aCIsInVybCgiK3ArIiMiK24uZ2V0QXR0cmlidXRlKCJpZCIpKyIpIikpKTtuPWY9PW14Q29uc3RhbnRzLkFMSUdOX1JJR0hUPyJlbmQiOmY9PW14Q29uc3RhbnRzLkFMSUdOX0NFTlRFUj8ibWlkZGxlIjoic3RhcnQiOyJzdGFydCIhPW4mJnIuc2V0QXR0cmlidXRlKCJ0ZXh0LWFuY2hvciIsCm4pO3RoaXMuc3R5bGVFbmFibGVkJiZxPT1teENvbnN0YW50cy5ERUZBVUxUX0ZPTlRTSVpFfHxyLnNldEF0dHJpYnV0ZSgiZm9udC1zaXplIixxKmsuc2NhbGUrInB4Iik7MDx0Lmxlbmd0aCYmci5zZXRBdHRyaWJ1dGUoInRyYW5zZm9ybSIsdCk7MT5rLmFscGhhJiZyLnNldEF0dHJpYnV0ZSgib3BhY2l0eSIsay5hbHBoYSk7dD1lLnNwbGl0KCJcbiIpO3A9TWF0aC5yb3VuZChxKm14Q29uc3RhbnRzLkxJTkVfSEVJR0hUKTt2YXIgdT1xKyh0Lmxlbmd0aC0xKSpwO249YitxLTE7Zz09bXhDb25zdGFudHMuQUxJR05fTUlERExFPyJmaWxsIj09bD9uLT1kLzI6KG09KHRoaXMubWF0Y2hIdG1sQWxpZ25tZW50JiZtJiYwPGQ/TWF0aC5taW4odSxkKTp1KS8yLG4tPW0pOmc9PW14Q29uc3RhbnRzLkFMSUdOX0JPVFRPTSYmKCJmaWxsIj09bD9uLT1kOihtPXRoaXMubWF0Y2hIdG1sQWxpZ25tZW50JiZtJiYwPGQ/TWF0aC5taW4odSxkKTp1LG4tPW0rMSkpO2ZvcihtPTA7bTx0Lmxlbmd0aDttKyspMDwKdFttXS5sZW5ndGgmJjA8bXhVdGlscy50cmltKHRbbV0pLmxlbmd0aCYmKHE9dGhpcy5jcmVhdGVFbGVtZW50KCJ0ZXh0IikscS5zZXRBdHRyaWJ1dGUoIngiLHRoaXMuZm9ybWF0KGEqay5zY2FsZSkrdGhpcy50ZXh0T2Zmc2V0KSxxLnNldEF0dHJpYnV0ZSgieSIsdGhpcy5mb3JtYXQobiprLnNjYWxlKSt0aGlzLnRleHRPZmZzZXQpLG14VXRpbHMud3JpdGUocSx0W21dKSxyLmFwcGVuZENoaWxkKHEpKSxuKz1wO3RoaXMucm9vdC5hcHBlbmRDaGlsZChyKTt0aGlzLmFkZFRleHRCYWNrZ3JvdW5kKHIsZSxhLGIsYywiZmlsbCI9PWw/ZDp1LGYsZyxsKX07Cm14U3ZnQ2FudmFzMkQucHJvdG90eXBlLnVwZGF0ZUZvbnQ9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5zdGF0ZTthLnNldEF0dHJpYnV0ZSgiZmlsbCIsYi5mb250Q29sb3IpO3RoaXMuc3R5bGVFbmFibGVkJiZiLmZvbnRGYW1pbHk9PW14Q29uc3RhbnRzLkRFRkFVTFRfRk9OVEZBTUlMWXx8YS5zZXRBdHRyaWJ1dGUoImZvbnQtZmFtaWx5IixiLmZvbnRGYW1pbHkpOyhiLmZvbnRTdHlsZSZteENvbnN0YW50cy5GT05UX0JPTEQpPT1teENvbnN0YW50cy5GT05UX0JPTEQmJmEuc2V0QXR0cmlidXRlKCJmb250LXdlaWdodCIsImJvbGQiKTsoYi5mb250U3R5bGUmbXhDb25zdGFudHMuRk9OVF9JVEFMSUMpPT1teENvbnN0YW50cy5GT05UX0lUQUxJQyYmYS5zZXRBdHRyaWJ1dGUoImZvbnQtc3R5bGUiLCJpdGFsaWMiKTt2YXIgYz1bXTsoYi5mb250U3R5bGUmbXhDb25zdGFudHMuRk9OVF9VTkRFUkxJTkUpPT1teENvbnN0YW50cy5GT05UX1VOREVSTElORSYmYy5wdXNoKCJ1bmRlcmxpbmUiKTsKKGIuZm9udFN0eWxlJm14Q29uc3RhbnRzLkZPTlRfU1RSSUtFVEhST1VHSCk9PW14Q29uc3RhbnRzLkZPTlRfU1RSSUtFVEhST1VHSCYmYy5wdXNoKCJsaW5lLXRocm91Z2giKTswPGMubGVuZ3RoJiZhLnNldEF0dHJpYnV0ZSgidGV4dC1kZWNvcmF0aW9uIixjLmpvaW4oIiAiKSl9OwpteFN2Z0NhbnZhczJELnByb3RvdHlwZS5hZGRUZXh0QmFja2dyb3VuZD1mdW5jdGlvbihhLGIsYyxkLGUsZixnLGssbCl7dmFyIG09dGhpcy5zdGF0ZTtpZihudWxsIT1tLmZvbnRCYWNrZ3JvdW5kQ29sb3J8fG51bGwhPW0uZm9udEJvcmRlckNvbG9yKXt2YXIgbj1udWxsO2lmKCJmaWxsIj09bHx8IndpZHRoIj09bClnPT1teENvbnN0YW50cy5BTElHTl9DRU5URVI/Yy09ZS8yOmc9PW14Q29uc3RhbnRzLkFMSUdOX1JJR0hUJiYoYy09ZSksaz09bXhDb25zdGFudHMuQUxJR05fTUlERExFP2QtPWYvMjprPT1teENvbnN0YW50cy5BTElHTl9CT1RUT00mJihkLT1mKSxuPW5ldyBteFJlY3RhbmdsZSgoYysxKSptLnNjYWxlLGQqbS5zY2FsZSwoZS0yKSptLnNjYWxlLChmKzIpKm0uc2NhbGUpO2Vsc2UgaWYobnVsbCE9YS5nZXRCQm94JiZ0aGlzLnJvb3Qub3duZXJEb2N1bWVudD09ZG9jdW1lbnQpdHJ5e3ZhciBuPWEuZ2V0QkJveCgpLHA9bXhDbGllbnQuSVNfSUUmJm14Q2xpZW50LklTX1NWRywKbj1uZXcgbXhSZWN0YW5nbGUobi54LG4ueSsocD8wOjEpLG4ud2lkdGgsbi5oZWlnaHQrKHA/MTowKSl9Y2F0Y2gocSl7fWVsc2Ugbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSxuLnN0eWxlLmxpbmVIZWlnaHQ9bXhDb25zdGFudHMuQUJTT0xVVEVfTElORV9IRUlHSFQ/bS5mb250U2l6ZSpteENvbnN0YW50cy5MSU5FX0hFSUdIVCsicHgiOm14Q29uc3RhbnRzLkxJTkVfSEVJR0hULG4uc3R5bGUuZm9udFNpemU9bS5mb250U2l6ZSsicHgiLG4uc3R5bGUuZm9udEZhbWlseT1tLmZvbnRGYW1pbHksbi5zdHlsZS53aGl0ZVNwYWNlPSJub3dyYXAiLG4uc3R5bGUucG9zaXRpb249ImFic29sdXRlIixuLnN0eWxlLnZpc2liaWxpdHk9ImhpZGRlbiIsbi5zdHlsZS5kaXNwbGF5PW14Q2xpZW50LklTX1FVSVJLUz8iaW5saW5lIjoiaW5saW5lLWJsb2NrIixuLnN0eWxlLnpvb209IjEiLChtLmZvbnRTdHlsZSZteENvbnN0YW50cy5GT05UX0JPTEQpPT1teENvbnN0YW50cy5GT05UX0JPTEQmJgoobi5zdHlsZS5mb250V2VpZ2h0PSJib2xkIiksKG0uZm9udFN0eWxlJm14Q29uc3RhbnRzLkZPTlRfSVRBTElDKT09bXhDb25zdGFudHMuRk9OVF9JVEFMSUMmJihuLnN0eWxlLmZvbnRTdHlsZT0iaXRhbGljIiksYj1teFV0aWxzLmh0bWxFbnRpdGllcyhiLCExKSxuLmlubmVySFRNTD1iLnJlcGxhY2UoL1xuL2csIjxici8+IiksZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChuKSxlPW4ub2Zmc2V0V2lkdGgsZj1uLm9mZnNldEhlaWdodCxuLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobiksZz09bXhDb25zdGFudHMuQUxJR05fQ0VOVEVSP2MtPWUvMjpnPT1teENvbnN0YW50cy5BTElHTl9SSUdIVCYmKGMtPWUpLGs9PW14Q29uc3RhbnRzLkFMSUdOX01JRERMRT9kLT1mLzI6az09bXhDb25zdGFudHMuQUxJR05fQk9UVE9NJiYoZC09Ziksbj1uZXcgbXhSZWN0YW5nbGUoKGMrMSkqbS5zY2FsZSwoZCsyKSptLnNjYWxlLGUqbS5zY2FsZSwoZisxKSptLnNjYWxlKTtudWxsIT1uJiYoYj0KdGhpcy5jcmVhdGVFbGVtZW50KCJyZWN0IiksYi5zZXRBdHRyaWJ1dGUoImZpbGwiLG0uZm9udEJhY2tncm91bmRDb2xvcnx8Im5vbmUiKSxiLnNldEF0dHJpYnV0ZSgic3Ryb2tlIixtLmZvbnRCb3JkZXJDb2xvcnx8Im5vbmUiKSxiLnNldEF0dHJpYnV0ZSgieCIsTWF0aC5mbG9vcihuLngtMSkpLGIuc2V0QXR0cmlidXRlKCJ5IixNYXRoLmZsb29yKG4ueS0xKSksYi5zZXRBdHRyaWJ1dGUoIndpZHRoIixNYXRoLmNlaWwobi53aWR0aCsyKSksYi5zZXRBdHRyaWJ1dGUoImhlaWdodCIsTWF0aC5jZWlsKG4uaGVpZ2h0KSksbT1udWxsIT1tLmZvbnRCb3JkZXJDb2xvcj9NYXRoLm1heCgxLHRoaXMuZm9ybWF0KG0uc2NhbGUpKTowLGIuc2V0QXR0cmlidXRlKCJzdHJva2Utd2lkdGgiLG0pLHRoaXMucm9vdC5vd25lckRvY3VtZW50PT1kb2N1bWVudCYmMT09bXhVdGlscy5tb2QobSwyKSYmYi5zZXRBdHRyaWJ1dGUoInRyYW5zZm9ybSIsInRyYW5zbGF0ZSgwLjUsIDAuNSkiKSxhLmluc2VydEJlZm9yZShiLAphLmZpcnN0Q2hpbGQpKX19O214U3ZnQ2FudmFzMkQucHJvdG90eXBlLnN0cm9rZT1mdW5jdGlvbigpe3RoaXMuYWRkTm9kZSghMSwhMCl9O214U3ZnQ2FudmFzMkQucHJvdG90eXBlLmZpbGw9ZnVuY3Rpb24oKXt0aGlzLmFkZE5vZGUoITAsITEpfTtteFN2Z0NhbnZhczJELnByb3RvdHlwZS5maWxsQW5kU3Ryb2tlPWZ1bmN0aW9uKCl7dGhpcy5hZGROb2RlKCEwLCEwKX07dmFyIG14Vm1sQ2FudmFzMkQ9ZnVuY3Rpb24oYSl7bXhBYnN0cmFjdENhbnZhczJELmNhbGwodGhpcyk7dGhpcy5yb290PWF9O214VXRpbHMuZXh0ZW5kKG14Vm1sQ2FudmFzMkQsbXhBYnN0cmFjdENhbnZhczJEKTtteFZtbENhbnZhczJELnByb3RvdHlwZS5ub2RlPW51bGw7bXhWbWxDYW52YXMyRC5wcm90b3R5cGUudGV4dEVuYWJsZWQ9ITA7bXhWbWxDYW52YXMyRC5wcm90b3R5cGUubW92ZU9wPSJtIjtteFZtbENhbnZhczJELnByb3RvdHlwZS5saW5lT3A9ImwiOwpteFZtbENhbnZhczJELnByb3RvdHlwZS5jdXJ2ZU9wPSJjIjtteFZtbENhbnZhczJELnByb3RvdHlwZS5jbG9zZU9wPSJ4IjtteFZtbENhbnZhczJELnByb3RvdHlwZS5yb3RhdGVkSHRtbEJhY2tncm91bmQ9IiI7bXhWbWxDYW52YXMyRC5wcm90b3R5cGUudm1sU2NhbGU9MTtteFZtbENhbnZhczJELnByb3RvdHlwZS5jcmVhdGVFbGVtZW50PWZ1bmN0aW9uKGEpe3JldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KGEpfTtteFZtbENhbnZhczJELnByb3RvdHlwZS5jcmVhdGVWbWxFbGVtZW50PWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNyZWF0ZUVsZW1lbnQobXhDbGllbnQuVk1MX1BSRUZJWCsiOiIrYSl9OwpteFZtbENhbnZhczJELnByb3RvdHlwZS5hZGROb2RlPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5ub2RlLGQ9dGhpcy5zdGF0ZTtpZihudWxsIT1jKXtpZigic2hhcGUiPT1jLm5vZGVOYW1lKWlmKG51bGwhPXRoaXMucGF0aCYmMDx0aGlzLnBhdGgubGVuZ3RoKWMucGF0aD10aGlzLnBhdGguam9pbigiICIpKyIgZSIsYy5zdHlsZS53aWR0aD10aGlzLnJvb3Quc3R5bGUud2lkdGgsYy5zdHlsZS5oZWlnaHQ9dGhpcy5yb290LnN0eWxlLmhlaWdodCxjLmNvb3Jkc2l6ZT1wYXJzZUludChjLnN0eWxlLndpZHRoKSsiICIrcGFyc2VJbnQoYy5zdHlsZS5oZWlnaHQpO2Vsc2UgcmV0dXJuO2Muc3Ryb2tld2VpZ2h0PXRoaXMuZm9ybWF0KE1hdGgubWF4KDEsZC5zdHJva2VXaWR0aCpkLnNjYWxlL3RoaXMudm1sU2NhbGUpKSsicHgiO2Quc2hhZG93JiZ0aGlzLnJvb3QuYXBwZW5kQ2hpbGQodGhpcy5jcmVhdGVTaGFkb3coYyxhJiZudWxsIT1kLmZpbGxDb2xvcixiJiZudWxsIT1kLnN0cm9rZUNvbG9yKSk7CmImJm51bGwhPWQuc3Ryb2tlQ29sb3I/KGMuc3Ryb2tlZD0idHJ1ZSIsYy5zdHJva2Vjb2xvcj1kLnN0cm9rZUNvbG9yKTpjLnN0cm9rZWQ9ImZhbHNlIjtjLmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlU3Ryb2tlKCkpO2EmJm51bGwhPWQuZmlsbENvbG9yP2MuYXBwZW5kQ2hpbGQodGhpcy5jcmVhdGVGaWxsKCkpOiF0aGlzLnBvaW50ZXJFdmVudHN8fCJzaGFwZSI9PWMubm9kZU5hbWUmJnRoaXMucGF0aFt0aGlzLnBhdGgubGVuZ3RoLTFdIT10aGlzLmNsb3NlT3A/Yy5maWxsZWQ9ImZhbHNlIjpjLmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlVHJhbnNwYXJlbnRGaWxsKCkpO3RoaXMucm9vdC5hcHBlbmRDaGlsZChjKX19OwpteFZtbENhbnZhczJELnByb3RvdHlwZS5jcmVhdGVUcmFuc3BhcmVudEZpbGw9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmNyZWF0ZVZtbEVsZW1lbnQoImZpbGwiKTthLnNyYz1teENsaWVudC5pbWFnZUJhc2VQYXRoKyIvdHJhbnNwYXJlbnQuZ2lmIjthLnR5cGU9InRpbGUiO3JldHVybiBhfTsKbXhWbWxDYW52YXMyRC5wcm90b3R5cGUuY3JlYXRlRmlsbD1mdW5jdGlvbigpe3ZhciBhPXRoaXMuc3RhdGUsYj10aGlzLmNyZWF0ZVZtbEVsZW1lbnQoImZpbGwiKTtiLmNvbG9yPWEuZmlsbENvbG9yO2lmKG51bGwhPWEuZ3JhZGllbnRDb2xvcil7Yi50eXBlPSJncmFkaWVudCI7Yi5tZXRob2Q9Im5vbmUiO2IuY29sb3IyPWEuZ3JhZGllbnRDb2xvcjt2YXIgYz0xODAtYS5yb3RhdGlvbixjPWEuZ3JhZGllbnREaXJlY3Rpb249PW14Q29uc3RhbnRzLkRJUkVDVElPTl9XRVNUP2MtKDkwKygieCI9PXRoaXMucm9vdC5zdHlsZS5mbGlwPzE4MDowKSk6YS5ncmFkaWVudERpcmVjdGlvbj09bXhDb25zdGFudHMuRElSRUNUSU9OX0VBU1Q/YysoOTArKCJ4Ij09dGhpcy5yb290LnN0eWxlLmZsaXA/MTgwOjApKTphLmdyYWRpZW50RGlyZWN0aW9uPT1teENvbnN0YW50cy5ESVJFQ1RJT05fTk9SVEg/Yy0oMTgwKygieSI9PXRoaXMucm9vdC5zdHlsZS5mbGlwPy0xODA6MCkpOmMrKCJ5Ij09CnRoaXMucm9vdC5zdHlsZS5mbGlwPy0xODA6MCk7aWYoIngiPT10aGlzLnJvb3Quc3R5bGUuZmxpcHx8InkiPT10aGlzLnJvb3Quc3R5bGUuZmxpcCljKj0tMTtiLmFuZ2xlPW14VXRpbHMubW9kKGMsMzYwKTtiLm9wYWNpdHk9YS5hbHBoYSphLmdyYWRpZW50RmlsbEFscGhhKjEwMCsiJSI7Yi5zZXRBdHRyaWJ1dGUobXhDbGllbnQuT0ZGSUNFX1BSRUZJWCsiOm9wYWNpdHkyIixhLmFscGhhKmEuZ3JhZGllbnRBbHBoYSoxMDArIiUiKX1lbHNlIGlmKDE+YS5hbHBoYXx8MT5hLmZpbGxBbHBoYSliLm9wYWNpdHk9YS5hbHBoYSphLmZpbGxBbHBoYSoxMDArIiUiO3JldHVybiBifTsKbXhWbWxDYW52YXMyRC5wcm90b3R5cGUuY3JlYXRlU3Ryb2tlPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5zdGF0ZSxiPXRoaXMuY3JlYXRlVm1sRWxlbWVudCgic3Ryb2tlIik7Yi5lbmRjYXA9YS5saW5lQ2FwfHwiZmxhdCI7Yi5qb2luc3R5bGU9YS5saW5lSm9pbnx8Im1pdGVyIjtiLm1pdGVybGltaXQ9YS5taXRlckxpbWl0fHwiMTAiO2lmKDE+YS5hbHBoYXx8MT5hLnN0cm9rZUFscGhhKWIub3BhY2l0eT1hLmFscGhhKmEuc3Ryb2tlQWxwaGEqMTAwKyIlIjthLmRhc2hlZCYmKGIuZGFzaHN0eWxlPXRoaXMuZ2V0Vm1sRGFzaFN0eWxlKCkpO3JldHVybiBifTtteFZtbENhbnZhczJELnByb3RvdHlwZS5nZXRWbWxEYXNoU3R5bGU9ZnVuY3Rpb24oKXt2YXIgYT0iZGFzaCI7aWYoInN0cmluZyI9PT10eXBlb2YgdGhpcy5zdGF0ZS5kYXNoUGF0dGVybil7dmFyIGI9dGhpcy5zdGF0ZS5kYXNoUGF0dGVybi5zcGxpdCgiICIpOzA8Yi5sZW5ndGgmJjE9PWJbMF0mJihhPSIwIDIiKX1yZXR1cm4gYX07Cm14Vm1sQ2FudmFzMkQucHJvdG90eXBlLmNyZWF0ZVNoYWRvdz1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcy5zdGF0ZSxlPU1hdGguUEkvMTgwKi1kLnJvdGF0aW9uLGY9TWF0aC5jb3MoZSksZT1NYXRoLnNpbihlKSxnPWQuc2hhZG93RHgqZC5zY2FsZSxrPWQuc2hhZG93RHkqZC5zY2FsZTsieCI9PXRoaXMucm9vdC5zdHlsZS5mbGlwP2cqPS0xOiJ5Ij09dGhpcy5yb290LnN0eWxlLmZsaXAmJihrKj0tMSk7dmFyIGw9YS5jbG9uZU5vZGUoITApO2wuc3R5bGUubWFyZ2luTGVmdD1NYXRoLnJvdW5kKGcqZi1rKmUpKyJweCI7bC5zdHlsZS5tYXJnaW5Ub3A9TWF0aC5yb3VuZChnKmUraypmKSsicHgiOzg9PWRvY3VtZW50LmRvY3VtZW50TW9kZSYmKGwuc3Ryb2tld2VpZ2h0PWEuc3Ryb2tld2VpZ2h0LCJzaGFwZSI9PWEubm9kZU5hbWUmJihsLnBhdGg9dGhpcy5wYXRoLmpvaW4oIiAiKSsiIGUiLGwuc3R5bGUud2lkdGg9dGhpcy5yb290LnN0eWxlLndpZHRoLGwuc3R5bGUuaGVpZ2h0PQp0aGlzLnJvb3Quc3R5bGUuaGVpZ2h0LGwuY29vcmRzaXplPXBhcnNlSW50KGEuc3R5bGUud2lkdGgpKyIgIitwYXJzZUludChhLnN0eWxlLmhlaWdodCkpKTtjPyhsLnN0cm9rZWNvbG9yPWQuc2hhZG93Q29sb3IsbC5hcHBlbmRDaGlsZCh0aGlzLmNyZWF0ZVNoYWRvd1N0cm9rZSgpKSk6bC5zdHJva2VkPSJmYWxzZSI7Yj9sLmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlU2hhZG93RmlsbCgpKTpsLmZpbGxlZD0iZmFsc2UiO3JldHVybiBsfTtteFZtbENhbnZhczJELnByb3RvdHlwZS5jcmVhdGVTaGFkb3dGaWxsPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5jcmVhdGVWbWxFbGVtZW50KCJmaWxsIik7YS5jb2xvcj10aGlzLnN0YXRlLnNoYWRvd0NvbG9yO2Eub3BhY2l0eT10aGlzLnN0YXRlLmFscGhhKnRoaXMuc3RhdGUuc2hhZG93QWxwaGEqMTAwKyIlIjtyZXR1cm4gYX07Cm14Vm1sQ2FudmFzMkQucHJvdG90eXBlLmNyZWF0ZVNoYWRvd1N0cm9rZT1mdW5jdGlvbigpe3ZhciBhPXRoaXMuY3JlYXRlU3Ryb2tlKCk7YS5vcGFjaXR5PXRoaXMuc3RhdGUuYWxwaGEqdGhpcy5zdGF0ZS5zaGFkb3dBbHBoYSoxMDArIiUiO3JldHVybiBhfTtteFZtbENhbnZhczJELnByb3RvdHlwZS5yb3RhdGU9ZnVuY3Rpb24oYSxiLGMsZCxlKXtiJiZjP2ErPTE4MDpiP3RoaXMucm9vdC5zdHlsZS5mbGlwPSJ4IjpjJiYodGhpcy5yb290LnN0eWxlLmZsaXA9InkiKTtpZihiPyFjOmMpYSo9LTE7dGhpcy5yb290LnN0eWxlLnJvdGF0aW9uPWE7dGhpcy5zdGF0ZS5yb3RhdGlvbis9YTt0aGlzLnN0YXRlLnJvdGF0aW9uQ3g9ZDt0aGlzLnN0YXRlLnJvdGF0aW9uQ3k9ZX07Cm14Vm1sQ2FudmFzMkQucHJvdG90eXBlLmJlZ2luPWZ1bmN0aW9uKCl7bXhBYnN0cmFjdENhbnZhczJELnByb3RvdHlwZS5iZWdpbi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5ub2RlPXRoaXMuY3JlYXRlVm1sRWxlbWVudCgic2hhcGUiKTt0aGlzLm5vZGUuc3R5bGUucG9zaXRpb249ImFic29sdXRlIn07Cm14Vm1sQ2FudmFzMkQucHJvdG90eXBlLnF1YWRUbz1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZT10aGlzLnN0YXRlLGY9KHRoaXMubGFzdFgrZS5keCkqZS5zY2FsZSxnPSh0aGlzLmxhc3RZK2UuZHkpKmUuc2NhbGU7YT0oYStlLmR4KSplLnNjYWxlO2I9KGIrZS5keSkqZS5zY2FsZTtjPShjK2UuZHgpKmUuc2NhbGU7ZD0oZCtlLmR5KSplLnNjYWxlO3ZhciBnPWcrMi8zKihiLWcpLGs9YysyLzMqKGEtYyk7Yj1kKzIvMyooYi1kKTt0aGlzLnBhdGgucHVzaCgiYyAiK3RoaXMuZm9ybWF0KGYrMi8zKihhLWYpKSsiICIrdGhpcy5mb3JtYXQoZykrIiAiK3RoaXMuZm9ybWF0KGspKyIgIit0aGlzLmZvcm1hdChiKSsiICIrdGhpcy5mb3JtYXQoYykrIiAiK3RoaXMuZm9ybWF0KGQpKTt0aGlzLmxhc3RYPWMvZS5zY2FsZS1lLmR4O3RoaXMubGFzdFk9ZC9lLnNjYWxlLWUuZHl9OwpteFZtbENhbnZhczJELnByb3RvdHlwZS5jcmVhdGVSZWN0PWZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9dGhpcy5zdGF0ZTthPXRoaXMuY3JlYXRlVm1sRWxlbWVudChhKTthLnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSI7YS5zdHlsZS5sZWZ0PXRoaXMuZm9ybWF0KChiK2YuZHgpKmYuc2NhbGUpKyJweCI7YS5zdHlsZS50b3A9dGhpcy5mb3JtYXQoKGMrZi5keSkqZi5zY2FsZSkrInB4IjthLnN0eWxlLndpZHRoPXRoaXMuZm9ybWF0KGQqZi5zY2FsZSkrInB4IjthLnN0eWxlLmhlaWdodD10aGlzLmZvcm1hdChlKmYuc2NhbGUpKyJweCI7cmV0dXJuIGF9O214Vm1sQ2FudmFzMkQucHJvdG90eXBlLnJlY3Q9ZnVuY3Rpb24oYSxiLGMsZCl7dGhpcy5ub2RlPXRoaXMuY3JlYXRlUmVjdCgicmVjdCIsYSxiLGMsZCl9OwpteFZtbENhbnZhczJELnByb3RvdHlwZS5yb3VuZHJlY3Q9ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe3RoaXMubm9kZT10aGlzLmNyZWF0ZVJlY3QoInJvdW5kcmVjdCIsYSxiLGMsZCk7dGhpcy5ub2RlLnNldEF0dHJpYnV0ZSgiYXJjc2l6ZSIsTWF0aC5tYXgoMTAwKmUvYywxMDAqZi9kKSsiJSIpfTtteFZtbENhbnZhczJELnByb3RvdHlwZS5lbGxpcHNlPWZ1bmN0aW9uKGEsYixjLGQpe3RoaXMubm9kZT10aGlzLmNyZWF0ZVJlY3QoIm92YWwiLGEsYixjLGQpfTsKbXhWbWxDYW52YXMyRC5wcm90b3R5cGUuaW1hZ2U9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxrKXtmPyhhPXRoaXMuY3JlYXRlUmVjdCgicmVjdCIsYSxiLGMsZCksYS5zdHJva2VkPSJmYWxzZSIsYj10aGlzLmNyZWF0ZVZtbEVsZW1lbnQoImZpbGwiKSxiLmFzcGVjdD1mPyJhdG1vc3QiOiJpZ25vcmUiLGIucm90YXRlPSJ0cnVlIixiLnR5cGU9ImZyYW1lIixiLnNyYz1lLGEuYXBwZW5kQ2hpbGQoYikpOihhPXRoaXMuY3JlYXRlUmVjdCgiaW1hZ2UiLGEsYixjLGQpLGEuc3JjPWUpO2cmJms/YS5zdHlsZS5yb3RhdGlvbj0iMTgwIjpnP2Euc3R5bGUuZmxpcD0ieCI6ayYmKGEuc3R5bGUuZmxpcD0ieSIpO2lmKDE+dGhpcy5zdGF0ZS5hbHBoYXx8MT50aGlzLnN0YXRlLmZpbGxBbHBoYSlhLnN0eWxlLmZpbHRlcis9ImFscGhhKG9wYWNpdHk9Iit0aGlzLnN0YXRlLmFscGhhKnRoaXMuc3RhdGUuZmlsbEFscGhhKjEwMCsiKSI7dGhpcy5yb290LmFwcGVuZENoaWxkKGEpfTsKbXhWbWxDYW52YXMyRC5wcm90b3R5cGUuY3JlYXRlRGl2PWZ1bmN0aW9uKGEsYixjLGQpe2M9dGhpcy5jcmVhdGVFbGVtZW50KCJkaXYiKTt2YXIgZT10aGlzLnN0YXRlLGY9IiI7bnVsbCE9ZS5mb250QmFja2dyb3VuZENvbG9yJiYoZis9ImJhY2tncm91bmQtY29sb3I6IitteFV0aWxzLmh0bWxFbnRpdGllcyhlLmZvbnRCYWNrZ3JvdW5kQ29sb3IpKyI7Iik7bnVsbCE9ZS5mb250Qm9yZGVyQ29sb3ImJihmKz0iYm9yZGVyOjFweCBzb2xpZCAiK214VXRpbHMuaHRtbEVudGl0aWVzKGUuZm9udEJvcmRlckNvbG9yKSsiOyIpO214VXRpbHMuaXNOb2RlKGEpP2MuYXBwZW5kQ2hpbGQoYSk6ImZpbGwiIT1kJiYid2lkdGgiIT1kPyhkPXRoaXMuY3JlYXRlRWxlbWVudCgiZGl2IiksZC5zdHlsZS5jc3NUZXh0PWYsZC5zdHlsZS5kaXNwbGF5PW14Q2xpZW50LklTX1FVSVJLUz8iaW5saW5lIjoiaW5saW5lLWJsb2NrIixkLnN0eWxlLnpvb209IjEiLGQuc3R5bGUudGV4dERlY29yYXRpb249CiJpbmhlcml0IixkLmlubmVySFRNTD1hLGMuYXBwZW5kQ2hpbGQoZCkpOihjLnN0eWxlLmNzc1RleHQ9ZixjLmlubmVySFRNTD1hKTthPWMuc3R5bGU7YS5mb250U2l6ZT1lLmZvbnRTaXplL3RoaXMudm1sU2NhbGUrInB4IjthLmZvbnRGYW1pbHk9ZS5mb250RmFtaWx5O2EuY29sb3I9ZS5mb250Q29sb3I7YS52ZXJ0aWNhbEFsaWduPSJ0b3AiO2EudGV4dEFsaWduPWJ8fCJsZWZ0IjthLmxpbmVIZWlnaHQ9bXhDb25zdGFudHMuQUJTT0xVVEVfTElORV9IRUlHSFQ/ZS5mb250U2l6ZSpteENvbnN0YW50cy5MSU5FX0hFSUdIVC90aGlzLnZtbFNjYWxlKyJweCI6bXhDb25zdGFudHMuTElORV9IRUlHSFQ7KGUuZm9udFN0eWxlJm14Q29uc3RhbnRzLkZPTlRfQk9MRCk9PW14Q29uc3RhbnRzLkZPTlRfQk9MRCYmKGEuZm9udFdlaWdodD0iYm9sZCIpOyhlLmZvbnRTdHlsZSZteENvbnN0YW50cy5GT05UX0lUQUxJQyk9PW14Q29uc3RhbnRzLkZPTlRfSVRBTElDJiYoYS5mb250U3R5bGU9Iml0YWxpYyIpOwooZS5mb250U3R5bGUmbXhDb25zdGFudHMuRk9OVF9VTkRFUkxJTkUpPT1teENvbnN0YW50cy5GT05UX1VOREVSTElORSYmKGEudGV4dERlY29yYXRpb249InVuZGVybGluZSIpO3JldHVybiBjfTsKbXhWbWxDYW52YXMyRC5wcm90b3R5cGUudGV4dD1mdW5jdGlvbihhLGIsYyxkLGUsZixnLGssbCxtLG4scCxxKXtpZih0aGlzLnRleHRFbmFibGVkJiZudWxsIT1lKXt2YXIgcj10aGlzLnN0YXRlO2lmKCJodG1sIj09bCl7bnVsbCE9ci5yb3RhdGlvbiYmKGI9dGhpcy5yb3RhdGVQb2ludChhLGIsci5yb3RhdGlvbixyLnJvdGF0aW9uQ3gsci5yb3RhdGlvbkN5KSxhPWIueCxiPWIueSk7OCE9ZG9jdW1lbnQuZG9jdW1lbnRNb2RlfHxteENsaWVudC5JU19FTT8oYSo9ci5zY2FsZSxiKj1yLnNjYWxlKTooYSs9ci5keCxiKz1yLmR5LCJmaWxsIiE9bSYmZz09bXhDb25zdGFudHMuQUxJR05fVE9QJiYtLWIpO2w9OCE9ZG9jdW1lbnQuZG9jdW1lbnRNb2RlfHxteENsaWVudC5JU19FTT90aGlzLmNyZWF0ZUVsZW1lbnQoImRpdiIpOnRoaXMuY3JlYXRlVm1sRWxlbWVudCgiZ3JvdXAiKTtsLnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSI7bC5zdHlsZS5kaXNwbGF5PSJpbmxpbmUiO2wuc3R5bGUubGVmdD0KdGhpcy5mb3JtYXQoYSkrInB4IjtsLnN0eWxlLnRvcD10aGlzLmZvcm1hdChiKSsicHgiO2wuc3R5bGUuem9vbT1yLnNjYWxlO3ZhciB0PXRoaXMuY3JlYXRlRWxlbWVudCgiZGl2Iik7dC5zdHlsZS5wb3NpdGlvbj0icmVsYXRpdmUiO3Quc3R5bGUuZGlzcGxheT0iaW5saW5lIjt2YXIgdT1teFV0aWxzLmdldEFsaWdubWVudEFzUG9pbnQoZixnKSx4PXUueCx1PXUueTtlPXRoaXMuY3JlYXRlRGl2KGUsZixnLG0pO2Y9dGhpcy5jcmVhdGVFbGVtZW50KCJkaXYiKTtudWxsIT1xJiZlLnNldEF0dHJpYnV0ZSgiZGlyIixxKTtpZihrJiYwPGMpe2lmKG58fChlLnN0eWxlLndpZHRoPU1hdGgucm91bmQoYykrInB4IiksZS5zdHlsZS53b3JkV3JhcD1teENvbnN0YW50cy5XT1JEX1dSQVAsZS5zdHlsZS53aGl0ZVNwYWNlPSJub3JtYWwiLCJicmVhay13b3JkIj09ZS5zdHlsZS53b3JkV3JhcCl7dmFyIHk9ZTtudWxsIT15LmZpcnN0Q2hpbGQmJiJESVYiPT15LmZpcnN0Q2hpbGQubm9kZU5hbWUmJgooeS5maXJzdENoaWxkLnN0eWxlLndpZHRoPSIxMDAlIil9fWVsc2UgZS5zdHlsZS53aGl0ZVNwYWNlPSJub3dyYXAiO3A9ci5yb3RhdGlvbisocHx8MCk7dGhpcy5yb3RhdGVIdG1sJiYwIT1wPyhmLnN0eWxlLmRpc3BsYXk9ImlubGluZSIsZi5zdHlsZS56b29tPSIxIixmLmFwcGVuZENoaWxkKGUpLDghPWRvY3VtZW50LmRvY3VtZW50TW9kZXx8bXhDbGllbnQuSVNfRU18fCJESVYiPT10aGlzLnJvb3Qubm9kZU5hbWU/bC5hcHBlbmRDaGlsZChmKToodC5hcHBlbmRDaGlsZChmKSxsLmFwcGVuZENoaWxkKHQpKSk6OCE9ZG9jdW1lbnQuZG9jdW1lbnRNb2RlfHxteENsaWVudC5JU19FTT8oZS5zdHlsZS5kaXNwbGF5PSJpbmxpbmUiLGwuYXBwZW5kQ2hpbGQoZSkpOih0LmFwcGVuZENoaWxkKGUpLGwuYXBwZW5kQ2hpbGQodCkpOyJESVYiIT10aGlzLnJvb3Qubm9kZU5hbWU/KHE9dGhpcy5jcmVhdGVWbWxFbGVtZW50KCJyZWN0IikscS5zdHJva2VkPSJmYWxzZSIscS5maWxsZWQ9ImZhbHNlIiwKcS5hcHBlbmRDaGlsZChsKSx0aGlzLnJvb3QuYXBwZW5kQ2hpbGQocSkpOnRoaXMucm9vdC5hcHBlbmRDaGlsZChsKTtuPyhlLnN0eWxlLm92ZXJmbG93PSJoaWRkZW4iLGUuc3R5bGUud2lkdGg9TWF0aC5yb3VuZChjKSsicHgiLG14Q2xpZW50LklTX1FVSVJLU3x8KGUuc3R5bGUubWF4SGVpZ2h0PU1hdGgucm91bmQoZCkrInB4IikpOiJmaWxsIj09bT8oZS5zdHlsZS5vdmVyZmxvdz0iaGlkZGVuIixlLnN0eWxlLndpZHRoPU1hdGgubWF4KDAsYykrMSsicHgiLGUuc3R5bGUuaGVpZ2h0PU1hdGgubWF4KDAsZCkrMSsicHgiKToid2lkdGgiPT1tJiYoZS5zdHlsZS5vdmVyZmxvdz0iaGlkZGVuIixlLnN0eWxlLndpZHRoPU1hdGgubWF4KDAsYykrMSsicHgiLGUuc3R5bGUubWF4SGVpZ2h0PU1hdGgubWF4KDAsZCkrMSsicHgiKTtpZih0aGlzLnJvdGF0ZUh0bWwmJjAhPXApe3k9TWF0aC5QSS8xODAqcDtwPXBhcnNlRmxvYXQocGFyc2VGbG9hdChNYXRoLmNvcyh5KSkudG9GaXhlZCg4KSk7CnE9cGFyc2VGbG9hdChwYXJzZUZsb2F0KE1hdGguc2luKC15KSkudG9GaXhlZCg4KSk7eSU9MipNYXRoLlBJOzA+eSYmKHkrPTIqTWF0aC5QSSk7eSU9TWF0aC5QSTt5Pk1hdGguUEkvMiYmKHk9TWF0aC5QSS15KTtnPU1hdGguY29zKHkpO3ZhciBCPU1hdGguc2luKHkpOzghPWRvY3VtZW50LmRvY3VtZW50TW9kZXx8bXhDbGllbnQuSVNfRU18fChlLnN0eWxlLmRpc3BsYXk9ImlubGluZS1ibG9jayIsZi5zdHlsZS5kaXNwbGF5PSJpbmxpbmUtYmxvY2siLHQuc3R5bGUuZGlzcGxheT0iaW5saW5lLWJsb2NrIik7ZS5zdHlsZS52aXNpYmlsaXR5PSJoaWRkZW4iO2Uuc3R5bGUucG9zaXRpb249ImFic29sdXRlIjtkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGUpO3Q9ZTtudWxsIT10LmZpcnN0Q2hpbGQmJiJESVYiPT10LmZpcnN0Q2hpbGQubm9kZU5hbWUmJih0PXQuZmlyc3RDaGlsZCk7eT10Lm9mZnNldFdpZHRoKzM7dD10Lm9mZnNldEhlaWdodDtuPyhjPU1hdGgubWluKGMseSksdD0KTWF0aC5taW4odCxkKSk6Yz15O2smJihlLnN0eWxlLndpZHRoPWMrInB4Iik7bXhDbGllbnQuSVNfUVVJUktTJiYobnx8IndpZHRoIj09bSkmJnQ+ZCYmKHQ9ZCxlLnN0eWxlLmhlaWdodD10KyJweCIpO2Q9dDtuPShkLWQqZytjKi1CKS8yLXEqYyooeCsuNSkrcCpkKih1Ky41KTtrPShjLWMqZytkKi1CKS8yK3AqYyooeCsuNSkrcSpkKih1Ky41KTsiZ3JvdXAiPT1sLm5vZGVOYW1lJiYiRElWIj09dGhpcy5yb290Lm5vZGVOYW1lPyhtPXRoaXMuY3JlYXRlRWxlbWVudCgiZGl2IiksbS5zdHlsZS5kaXNwbGF5PSJpbmxpbmUtYmxvY2siLG0uc3R5bGUucG9zaXRpb249ImFic29sdXRlIixtLnN0eWxlLmxlZnQ9dGhpcy5mb3JtYXQoYSsoay1jLzIpKnIuc2NhbGUpKyJweCIsbS5zdHlsZS50b3A9dGhpcy5mb3JtYXQoYisobi1kLzIpKnIuc2NhbGUpKyJweCIsbC5wYXJlbnROb2RlLmFwcGVuZENoaWxkKG0pLG0uYXBwZW5kQ2hpbGQobCkpOihyPTghPWRvY3VtZW50LmRvY3VtZW50TW9kZXx8Cm14Q2xpZW50LklTX0VNP3Iuc2NhbGU6MSxsLnN0eWxlLmxlZnQ9dGhpcy5mb3JtYXQoYSsoay1jLzIpKnIpKyJweCIsbC5zdHlsZS50b3A9dGhpcy5mb3JtYXQoYisobi1kLzIpKnIpKyJweCIpO2Yuc3R5bGUuZmlsdGVyPSJwcm9naWQ6RFhJbWFnZVRyYW5zZm9ybS5NaWNyb3NvZnQuTWF0cml4KE0xMT0iK3ArIiwgTTEyPSIrcSsiLCBNMjE9IistcSsiLCBNMjI9IitwKyIsIHNpemluZ01ldGhvZD0nYXV0byBleHBhbmQnKSI7Zi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9dGhpcy5yb3RhdGVkSHRtbEJhY2tncm91bmQ7MT50aGlzLnN0YXRlLmFscGhhJiYoZi5zdHlsZS5maWx0ZXIrPSJhbHBoYShvcGFjaXR5PSIrMTAwKnRoaXMuc3RhdGUuYWxwaGErIikiKTtmLmFwcGVuZENoaWxkKGUpO2Uuc3R5bGUucG9zaXRpb249IiI7ZS5zdHlsZS52aXNpYmlsaXR5PSIifWVsc2UgOCE9ZG9jdW1lbnQuZG9jdW1lbnRNb2RlfHxteENsaWVudC5JU19FTT8oZS5zdHlsZS52ZXJ0aWNhbEFsaWduPQoidG9wIiwxPnRoaXMuc3RhdGUuYWxwaGEmJihsLnN0eWxlLmZpbHRlcj0iYWxwaGEob3BhY2l0eT0iKzEwMCp0aGlzLnN0YXRlLmFscGhhKyIpIikscj1lLnBhcmVudE5vZGUsZS5zdHlsZS52aXNpYmlsaXR5PSJoaWRkZW4iLGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZSksYz1lLm9mZnNldFdpZHRoLHQ9ZS5vZmZzZXRIZWlnaHQsbXhDbGllbnQuSVNfUVVJUktTJiZuJiZ0PmQmJih0PWQsZS5zdHlsZS5oZWlnaHQ9dCsicHgiKSxkPXQsZS5zdHlsZS52aXNpYmlsaXR5PSIiLHIuYXBwZW5kQ2hpbGQoZSksbC5zdHlsZS5sZWZ0PXRoaXMuZm9ybWF0KGErYyp4KnRoaXMuc3RhdGUuc2NhbGUpKyJweCIsbC5zdHlsZS50b3A9dGhpcy5mb3JtYXQoYitkKnUqdGhpcy5zdGF0ZS5zY2FsZSkrInB4Iik6KDE+dGhpcy5zdGF0ZS5hbHBoYSYmKGUuc3R5bGUuZmlsdGVyPSJhbHBoYShvcGFjaXR5PSIrMTAwKnRoaXMuc3RhdGUuYWxwaGErIikiKSx0LnN0eWxlLmxlZnQ9MTAwKngrIiUiLHQuc3R5bGUudG9wPQoxMDAqdSsiJSIpfWVsc2UgdGhpcy5wbGFpblRleHQoYSxiLGMsZCxteFV0aWxzLmh0bWxFbnRpdGllcyhlLCExKSxmLGcsayxsLG0sbixwLHEpfX07Cm14Vm1sQ2FudmFzMkQucHJvdG90eXBlLnBsYWluVGV4dD1mdW5jdGlvbihhLGIsYyxkLGUsZixnLGssbCxtLG4scCxxKXtrPXRoaXMuc3RhdGU7YT0oYStrLmR4KSprLnNjYWxlO2I9KGIray5keSkqay5zY2FsZTtjPXRoaXMuY3JlYXRlVm1sRWxlbWVudCgic2hhcGUiKTtjLnN0eWxlLndpZHRoPSIxcHgiO2Muc3R5bGUuaGVpZ2h0PSIxcHgiO2Muc3Ryb2tlZD0iZmFsc2UiO2Q9dGhpcy5jcmVhdGVWbWxFbGVtZW50KCJmaWxsIik7ZC5jb2xvcj1rLmZvbnRDb2xvcjtkLm9wYWNpdHk9MTAwKmsuYWxwaGErIiUiO2MuYXBwZW5kQ2hpbGQoZCk7ZD10aGlzLmNyZWF0ZVZtbEVsZW1lbnQoInBhdGgiKTtkLnRleHRwYXRob2s9InRydWUiO2Qudj0ibSAiK3RoaXMuZm9ybWF0KDApKyIgIit0aGlzLmZvcm1hdCgwKSsiIGwgIit0aGlzLmZvcm1hdCgxKSsiICIrdGhpcy5mb3JtYXQoMCk7Yy5hcHBlbmRDaGlsZChkKTtkPXRoaXMuY3JlYXRlVm1sRWxlbWVudCgidGV4dHBhdGgiKTtkLnN0eWxlLmNzc1RleHQ9CiJ2LXRleHQtYWxpZ246IitmO2Quc3R5bGUuYWxpZ249ZjtkLnN0eWxlLmZvbnRGYW1pbHk9ay5mb250RmFtaWx5O2Quc3RyaW5nPWU7ZC5vbj0idHJ1ZSI7Zj1rLmZvbnRTaXplKmsuc2NhbGUvdGhpcy52bWxTY2FsZTtkLnN0eWxlLmZvbnRTaXplPWYrInB4Ijsoay5mb250U3R5bGUmbXhDb25zdGFudHMuRk9OVF9CT0xEKT09bXhDb25zdGFudHMuRk9OVF9CT0xEJiYoZC5zdHlsZS5mb250V2VpZ2h0PSJib2xkIik7KGsuZm9udFN0eWxlJm14Q29uc3RhbnRzLkZPTlRfSVRBTElDKT09bXhDb25zdGFudHMuRk9OVF9JVEFMSUMmJihkLnN0eWxlLmZvbnRTdHlsZT0iaXRhbGljIik7KGsuZm9udFN0eWxlJm14Q29uc3RhbnRzLkZPTlRfVU5ERVJMSU5FKT09bXhDb25zdGFudHMuRk9OVF9VTkRFUkxJTkUmJihkLnN0eWxlLnRleHREZWNvcmF0aW9uPSJ1bmRlcmxpbmUiKTtlPWUuc3BsaXQoIlxuIik7az1mKyhlLmxlbmd0aC0xKSpmKm14Q29uc3RhbnRzLkxJTkVfSEVJR0hUO2Y9ZT0wOwpnPT1teENvbnN0YW50cy5BTElHTl9CT1RUT00/Zj0tay8yOmchPW14Q29uc3RhbnRzLkFMSUdOX01JRERMRSYmKGY9ay8yKTtudWxsIT1wJiYoYy5zdHlsZS5yb3RhdGlvbj1wLGc9TWF0aC5QSS8xODAqcCxlPU1hdGguc2luKGcpKmYsZio9TWF0aC5jb3MoZykpO2MuYXBwZW5kQ2hpbGQoZCk7Yy5zdHlsZS5sZWZ0PXRoaXMuZm9ybWF0KGEtZSkrInB4IjtjLnN0eWxlLnRvcD10aGlzLmZvcm1hdChiK2YpKyJweCI7dGhpcy5yb290LmFwcGVuZENoaWxkKGMpfTtteFZtbENhbnZhczJELnByb3RvdHlwZS5zdHJva2U9ZnVuY3Rpb24oKXt0aGlzLmFkZE5vZGUoITEsITApfTtteFZtbENhbnZhczJELnByb3RvdHlwZS5maWxsPWZ1bmN0aW9uKCl7dGhpcy5hZGROb2RlKCEwLCExKX07bXhWbWxDYW52YXMyRC5wcm90b3R5cGUuZmlsbEFuZFN0cm9rZT1mdW5jdGlvbigpe3RoaXMuYWRkTm9kZSghMCwhMCl9OwpmdW5jdGlvbiBteEd1aWRlKGEsYil7dGhpcy5ncmFwaD1hO3RoaXMuc2V0U3RhdGVzKGIpfW14R3VpZGUucHJvdG90eXBlLmdyYXBoPW51bGw7bXhHdWlkZS5wcm90b3R5cGUuc3RhdGVzPW51bGw7bXhHdWlkZS5wcm90b3R5cGUuaG9yaXpvbnRhbD0hMDtteEd1aWRlLnByb3RvdHlwZS52ZXJ0aWNhbD0hMDtteEd1aWRlLnByb3RvdHlwZS5ndWlkZVg9bnVsbDtteEd1aWRlLnByb3RvdHlwZS5ndWlkZVk9bnVsbDtteEd1aWRlLnByb3RvdHlwZS5yb3VuZGVkPSExO214R3VpZGUucHJvdG90eXBlLnRvbGVyYW5jZT0yO214R3VpZGUucHJvdG90eXBlLnNldFN0YXRlcz1mdW5jdGlvbihhKXt0aGlzLnN0YXRlcz1hfTtteEd1aWRlLnByb3RvdHlwZS5pc0VuYWJsZWRGb3JFdmVudD1mdW5jdGlvbihhKXtyZXR1cm4hMH07Cm14R3VpZGUucHJvdG90eXBlLmdldEd1aWRlVG9sZXJhbmNlPWZ1bmN0aW9uKGEpe3JldHVybiBhJiZ0aGlzLmdyYXBoLmdyaWRFbmFibGVkP3RoaXMuZ3JhcGguZ3JpZFNpemUvMjp0aGlzLnRvbGVyYW5jZX07bXhHdWlkZS5wcm90b3R5cGUuY3JlYXRlR3VpZGVTaGFwZT1mdW5jdGlvbihhKXthPW5ldyBteFBvbHlsaW5lKFtdLG14Q29uc3RhbnRzLkdVSURFX0NPTE9SLG14Q29uc3RhbnRzLkdVSURFX1NUUk9LRVdJRFRIKTthLmlzRGFzaGVkPSEwO3JldHVybiBhfTtteEd1aWRlLnByb3RvdHlwZS5pc1N0YXRlSWdub3JlZD1mdW5jdGlvbihhKXtyZXR1cm4hMX07Cm14R3VpZGUucHJvdG90eXBlLm1vdmU9ZnVuY3Rpb24oYSxiLGMsZCl7aWYobnVsbCE9dGhpcy5zdGF0ZXMmJih0aGlzLmhvcml6b250YWx8fHRoaXMudmVydGljYWwpJiZudWxsIT1hJiZudWxsIT1iKXtkPWZ1bmN0aW9uKGMsZCxlKXt2YXIgZj0hMTtlJiZNYXRoLmFicyhjLXopPHQ/KGIueT1jLWEuZ2V0Q2VudGVyWSgpLHQ9TWF0aC5hYnMoYy16KSxmPSEwKTplfHwoTWF0aC5hYnMoYy1CKTx0PyhiLnk9Yy1hLnksdD1NYXRoLmFicyhjLUIpLGY9ITApOk1hdGguYWJzKGMtQSk8dCYmKGIueT1jLWEueS1hLmhlaWdodCx0PU1hdGguYWJzKGMtQSksZj0hMCkpO2YmJihwPWQscT1jLG51bGw9PXRoaXMuZ3VpZGVZJiYodGhpcy5ndWlkZVk9dGhpcy5jcmVhdGVHdWlkZVNoYXBlKCExKSx0aGlzLmd1aWRlWS5kaWFsZWN0PXRoaXMuZ3JhcGguZGlhbGVjdCE9bXhDb25zdGFudHMuRElBTEVDVF9TVkc/bXhDb25zdGFudHMuRElBTEVDVF9WTUw6bXhDb25zdGFudHMuRElBTEVDVF9TVkcsdGhpcy5ndWlkZVkucG9pbnRlckV2ZW50cz0KITEsdGhpcy5ndWlkZVkuaW5pdCh0aGlzLmdyYXBoLmdldFZpZXcoKS5nZXRPdmVybGF5UGFuZSgpKSkpO249bnx8Zn07dmFyIGU9ZnVuY3Rpb24oYyxkLGUpe3ZhciBmPSExO2UmJk1hdGguYWJzKGMteSk8cj8oYi54PWMtYS5nZXRDZW50ZXJYKCkscj1NYXRoLmFicyhjLXkpLGY9ITApOmV8fChNYXRoLmFicyhjLXUpPHI/KGIueD1jLWEueCxyPU1hdGguYWJzKGMtdSksZj0hMCk6TWF0aC5hYnMoYy14KTxyJiYoYi54PWMtYS54LWEud2lkdGgscj1NYXRoLmFicyhjLXgpLGY9ITApKTtmJiYobD1kLG09YyxudWxsPT10aGlzLmd1aWRlWCYmKHRoaXMuZ3VpZGVYPXRoaXMuY3JlYXRlR3VpZGVTaGFwZSghMCksdGhpcy5ndWlkZVguZGlhbGVjdD10aGlzLmdyYXBoLmRpYWxlY3QhPW14Q29uc3RhbnRzLkRJQUxFQ1RfU1ZHP214Q29uc3RhbnRzLkRJQUxFQ1RfVk1MOm14Q29uc3RhbnRzLkRJQUxFQ1RfU1ZHLHRoaXMuZ3VpZGVYLnBvaW50ZXJFdmVudHM9ITEsdGhpcy5ndWlkZVguaW5pdCh0aGlzLmdyYXBoLmdldFZpZXcoKS5nZXRPdmVybGF5UGFuZSgpKSkpOwprPWt8fGZ9LGY9dGhpcy5ncmFwaC5nZXRWaWV3KCkuc2NhbGUsZj10aGlzLmdldEd1aWRlVG9sZXJhbmNlKGMpKmYsZz1hLmNsb25lKCk7Zy54Kz1iLng7Zy55Kz1iLnk7Zm9yKHZhciBrPSExLGw9bnVsbCxtPW51bGwsbj0hMSxwPW51bGwscT1udWxsLHI9Zix0PWYsdT1nLngseD1nLngrZy53aWR0aCx5PWcuZ2V0Q2VudGVyWCgpLEI9Zy55LEE9Zy55K2cuaGVpZ2h0LHo9Zy5nZXRDZW50ZXJZKCksZj0wO2Y8dGhpcy5zdGF0ZXMubGVuZ3RoO2YrKylnPXRoaXMuc3RhdGVzW2ZdLG51bGw9PWd8fHRoaXMuaXNTdGF0ZUlnbm9yZWQoZyl8fCh0aGlzLmhvcml6b250YWwmJihlLmNhbGwodGhpcyxnLmdldENlbnRlclgoKSxnLCEwKSxlLmNhbGwodGhpcyxnLngsZywhMSksZS5jYWxsKHRoaXMsZy54K2cud2lkdGgsZywhMSksbnVsbD09Zy5jZWxsJiZlLmNhbGwodGhpcyxnLmdldENlbnRlclgoKSxnLCExKSksdGhpcy52ZXJ0aWNhbCYmKGQuY2FsbCh0aGlzLGcuZ2V0Q2VudGVyWSgpLGcsCiEwKSxkLmNhbGwodGhpcyxnLnksZywhMSksZC5jYWxsKHRoaXMsZy55K2cuaGVpZ2h0LGcsITEpLG51bGw9PWcuY2VsbCYmZC5jYWxsKHRoaXMsZy5nZXRDZW50ZXJZKCksZywhMSkpKTt0aGlzLmdyYXBoLnNuYXBEZWx0YShiLGEsIWMsayxuKTtiPXRoaXMuZ2V0RGVsdGEoYSxsLGIueCxwLGIueSk7Yz10aGlzLmdyYXBoLmNvbnRhaW5lcjtrfHxudWxsPT10aGlzLmd1aWRlWD9udWxsIT10aGlzLmd1aWRlWCYmKGU9ZD1udWxsLG51bGwhPWwmJm51bGwhPWEmJihkPU1hdGgubWluKGEueStiLnktdGhpcy5ncmFwaC5wYW5EeSxsLnkpLGU9TWF0aC5tYXgoYS55K2EuaGVpZ2h0K2IueS10aGlzLmdyYXBoLnBhbkR5LGwueStsLmhlaWdodCkpLHRoaXMuZ3VpZGVYLnBvaW50cz1udWxsIT1kJiZudWxsIT1lP1tuZXcgbXhQb2ludChtLGQpLG5ldyBteFBvaW50KG0sZSldOltuZXcgbXhQb2ludChtLC10aGlzLmdyYXBoLnBhbkR5KSxuZXcgbXhQb2ludChtLGMuc2Nyb2xsSGVpZ2h0LTMtdGhpcy5ncmFwaC5wYW5EeSldLAp0aGlzLmd1aWRlWC5zdHJva2U9dGhpcy5nZXRHdWlkZUNvbG9yKGwsITApLHRoaXMuZ3VpZGVYLm5vZGUuc3R5bGUudmlzaWJpbGl0eT0idmlzaWJsZSIsdGhpcy5ndWlkZVgucmVkcmF3KCkpOnRoaXMuZ3VpZGVYLm5vZGUuc3R5bGUudmlzaWJpbGl0eT0iaGlkZGVuIjtufHxudWxsPT10aGlzLmd1aWRlWT9udWxsIT10aGlzLmd1aWRlWSYmKGU9ZD1udWxsLG51bGwhPXAmJm51bGwhPWEmJihkPU1hdGgubWluKGEueCtiLngtdGhpcy5ncmFwaC5wYW5EeCxwLngpLGU9TWF0aC5tYXgoYS54K2Eud2lkdGgrYi54LXRoaXMuZ3JhcGgucGFuRHgscC54K3Aud2lkdGgpKSx0aGlzLmd1aWRlWS5wb2ludHM9bnVsbCE9ZCYmbnVsbCE9ZT9bbmV3IG14UG9pbnQoZCxxKSxuZXcgbXhQb2ludChlLHEpXTpbbmV3IG14UG9pbnQoLXRoaXMuZ3JhcGgucGFuRHgscSksbmV3IG14UG9pbnQoYy5zY3JvbGxXaWR0aC0zLXRoaXMuZ3JhcGgucGFuRHgscSldLHRoaXMuZ3VpZGVZLnN0cm9rZT10aGlzLmdldEd1aWRlQ29sb3IocCwKITEpLHRoaXMuZ3VpZGVZLm5vZGUuc3R5bGUudmlzaWJpbGl0eT0idmlzaWJsZSIsdGhpcy5ndWlkZVkucmVkcmF3KCkpOnRoaXMuZ3VpZGVZLm5vZGUuc3R5bGUudmlzaWJpbGl0eT0iaGlkZGVuIn1yZXR1cm4gYn07bXhHdWlkZS5wcm90b3R5cGUuZ2V0RGVsdGE9ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZj10aGlzLmdyYXBoLnZpZXcuc2NhbGU7aWYodGhpcy5yb3VuZGVkfHxudWxsIT1iJiZudWxsPT1iLmNlbGwpYz1NYXRoLnJvdW5kKChhLngrYykvZikqZi1hLng7aWYodGhpcy5yb3VuZGVkfHxudWxsIT1kJiZudWxsPT1kLmNlbGwpZT1NYXRoLnJvdW5kKChhLnkrZSkvZikqZi1hLnk7cmV0dXJuIG5ldyBteFBvaW50KGMsZSl9O214R3VpZGUucHJvdG90eXBlLmdldEd1aWRlQ29sb3I9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbXhDb25zdGFudHMuR1VJREVfQ09MT1J9O214R3VpZGUucHJvdG90eXBlLmhpZGU9ZnVuY3Rpb24oKXt0aGlzLnNldFZpc2libGUoITEpfTsKbXhHdWlkZS5wcm90b3R5cGUuc2V0VmlzaWJsZT1mdW5jdGlvbihhKXtudWxsIT10aGlzLmd1aWRlWCYmKHRoaXMuZ3VpZGVYLm5vZGUuc3R5bGUudmlzaWJpbGl0eT1hPyJ2aXNpYmxlIjoiaGlkZGVuIik7bnVsbCE9dGhpcy5ndWlkZVkmJih0aGlzLmd1aWRlWS5ub2RlLnN0eWxlLnZpc2liaWxpdHk9YT8idmlzaWJsZSI6ImhpZGRlbiIpfTtteEd1aWRlLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7bnVsbCE9dGhpcy5ndWlkZVgmJih0aGlzLmd1aWRlWC5kZXN0cm95KCksdGhpcy5ndWlkZVg9bnVsbCk7bnVsbCE9dGhpcy5ndWlkZVkmJih0aGlzLmd1aWRlWS5kZXN0cm95KCksdGhpcy5ndWlkZVk9bnVsbCl9O2Z1bmN0aW9uIG14U2hhcGUoYSl7dGhpcy5zdGVuY2lsPWE7dGhpcy5pbml0U3R5bGVzKCl9bXhTaGFwZS5wcm90b3R5cGUuZGlhbGVjdD1udWxsO214U2hhcGUucHJvdG90eXBlLnNjYWxlPTE7bXhTaGFwZS5wcm90b3R5cGUuYW50aUFsaWFzPSEwOwpteFNoYXBlLnByb3RvdHlwZS5taW5TdmdTdHJva2VXaWR0aD0xO214U2hhcGUucHJvdG90eXBlLmJvdW5kcz1udWxsO214U2hhcGUucHJvdG90eXBlLnBvaW50cz1udWxsO214U2hhcGUucHJvdG90eXBlLm5vZGU9bnVsbDtteFNoYXBlLnByb3RvdHlwZS5zdGF0ZT1udWxsO214U2hhcGUucHJvdG90eXBlLnN0eWxlPW51bGw7bXhTaGFwZS5wcm90b3R5cGUuYm91bmRpbmdCb3g9bnVsbDtteFNoYXBlLnByb3RvdHlwZS5zdGVuY2lsPW51bGw7bXhTaGFwZS5wcm90b3R5cGUuc3ZnU3Ryb2tlVG9sZXJhbmNlPTg7bXhTaGFwZS5wcm90b3R5cGUucG9pbnRlckV2ZW50cz0hMDtteFNoYXBlLnByb3RvdHlwZS5zdmdQb2ludGVyRXZlbnRzPSJhbGwiO214U2hhcGUucHJvdG90eXBlLnNoYXBlUG9pbnRlckV2ZW50cz0hMTtteFNoYXBlLnByb3RvdHlwZS5zdGVuY2lsUG9pbnRlckV2ZW50cz0hMTtteFNoYXBlLnByb3RvdHlwZS52bWxTY2FsZT0xOwpteFNoYXBlLnByb3RvdHlwZS5vdXRsaW5lPSExO214U2hhcGUucHJvdG90eXBlLnZpc2libGU9ITA7bXhTaGFwZS5wcm90b3R5cGUudXNlU3ZnQm91bmRpbmdCb3g9ITE7bXhTaGFwZS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbihhKXtudWxsPT10aGlzLm5vZGUmJih0aGlzLm5vZGU9dGhpcy5jcmVhdGUoYSksbnVsbCE9YSYmYS5hcHBlbmRDaGlsZCh0aGlzLm5vZGUpKX07bXhTaGFwZS5wcm90b3R5cGUuaW5pdFN0eWxlcz1mdW5jdGlvbihhKXt0aGlzLnN0cm9rZXdpZHRoPTE7dGhpcy5yb3RhdGlvbj0wO3RoaXMuc3Ryb2tlT3BhY2l0eT10aGlzLmZpbGxPcGFjaXR5PXRoaXMub3BhY2l0eT0xMDA7dGhpcy5mbGlwVj10aGlzLmZsaXBIPSExfTtteFNoYXBlLnByb3RvdHlwZS5pc1BhcnNlVm1sPWZ1bmN0aW9uKCl7cmV0dXJuITB9O214U2hhcGUucHJvdG90eXBlLmlzSHRtbEFsbG93ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4hMX07Cm14U2hhcGUucHJvdG90eXBlLmdldFN2Z1NjcmVlbk9mZnNldD1mdW5jdGlvbigpe3JldHVybiAxPT1teFV0aWxzLm1vZChNYXRoLm1heCgxLE1hdGgucm91bmQoKHRoaXMuc3RlbmNpbCYmImluaGVyaXQiIT10aGlzLnN0ZW5jaWwuc3Ryb2tld2lkdGg/TnVtYmVyKHRoaXMuc3RlbmNpbC5zdHJva2V3aWR0aCk6dGhpcy5zdHJva2V3aWR0aCkqdGhpcy5zY2FsZSkpLDIpPy41OjB9O214U2hhcGUucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YSYmbnVsbCE9YS5vd25lclNWR0VsZW1lbnQ/dGhpcy5jcmVhdGVTdmcoYSk6OD09ZG9jdW1lbnQuZG9jdW1lbnRNb2RlfHwhbXhDbGllbnQuSVNfVk1MfHx0aGlzLmRpYWxlY3QhPW14Q29uc3RhbnRzLkRJQUxFQ1RfVk1MJiZ0aGlzLmlzSHRtbEFsbG93ZWQoKT90aGlzLmNyZWF0ZUh0bWwoYSk6dGhpcy5jcmVhdGVWbWwoYSl9OwpteFNoYXBlLnByb3RvdHlwZS5jcmVhdGVTdmc9ZnVuY3Rpb24oKXtyZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKG14Q29uc3RhbnRzLk5TX1NWRywiZyIpfTtteFNoYXBlLnByb3RvdHlwZS5jcmVhdGVWbWw9ZnVuY3Rpb24oKXt2YXIgYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KG14Q2xpZW50LlZNTF9QUkVGSVgrIjpncm91cCIpO2Euc3R5bGUucG9zaXRpb249ImFic29sdXRlIjtyZXR1cm4gYX07bXhTaGFwZS5wcm90b3R5cGUuY3JlYXRlSHRtbD1mdW5jdGlvbigpe3ZhciBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2Euc3R5bGUucG9zaXRpb249ImFic29sdXRlIjtyZXR1cm4gYX07bXhTaGFwZS5wcm90b3R5cGUucmVjb25maWd1cmU9ZnVuY3Rpb24oKXt0aGlzLnJlZHJhdygpfTsKbXhTaGFwZS5wcm90b3R5cGUucmVkcmF3PWZ1bmN0aW9uKCl7dGhpcy51cGRhdGVCb3VuZHNGcm9tUG9pbnRzKCk7dGhpcy52aXNpYmxlJiZ0aGlzLmNoZWNrQm91bmRzKCk/KHRoaXMubm9kZS5zdHlsZS52aXNpYmlsaXR5PSJ2aXNpYmxlIix0aGlzLmNsZWFyKCksIkRJViIhPXRoaXMubm9kZS5ub2RlTmFtZXx8IXRoaXMuaXNIdG1sQWxsb3dlZCgpJiZteENsaWVudC5JU19WTUw/dGhpcy5yZWRyYXdTaGFwZSgpOnRoaXMucmVkcmF3SHRtbFNoYXBlKCksdGhpcy51cGRhdGVCb3VuZGluZ0JveCgpKToodGhpcy5ub2RlLnN0eWxlLnZpc2liaWxpdHk9ImhpZGRlbiIsdGhpcy5ib3VuZGluZ0JveD1udWxsKX07Cm14U2hhcGUucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7aWYobnVsbCE9dGhpcy5ub2RlLm93bmVyU1ZHRWxlbWVudClmb3IoO251bGwhPXRoaXMubm9kZS5sYXN0Q2hpbGQ7KXRoaXMubm9kZS5yZW1vdmVDaGlsZCh0aGlzLm5vZGUubGFzdENoaWxkKTtlbHNlIHRoaXMubm9kZS5zdHlsZS5jc3NUZXh0PSJwb3NpdGlvbjphYnNvbHV0ZTsiKyhudWxsIT10aGlzLmN1cnNvcj8iY3Vyc29yOiIrdGhpcy5jdXJzb3IrIjsiOiIiKSx0aGlzLm5vZGUuaW5uZXJIVE1MPSIifTsKbXhTaGFwZS5wcm90b3R5cGUudXBkYXRlQm91bmRzRnJvbVBvaW50cz1mdW5jdGlvbigpe3ZhciBhPXRoaXMucG9pbnRzO2lmKG51bGwhPWEmJjA8YS5sZW5ndGgmJm51bGwhPWFbMF0pe3RoaXMuYm91bmRzPW5ldyBteFJlY3RhbmdsZShOdW1iZXIoYVswXS54KSxOdW1iZXIoYVswXS55KSwxLDEpO2Zvcih2YXIgYj0xO2I8dGhpcy5wb2ludHMubGVuZ3RoO2IrKyludWxsIT1hW2JdJiZ0aGlzLmJvdW5kcy5hZGQobmV3IG14UmVjdGFuZ2xlKE51bWJlcihhW2JdLngpLE51bWJlcihhW2JdLnkpLDEsMSkpfX07Cm14U2hhcGUucHJvdG90eXBlLmdldExhYmVsQm91bmRzPWZ1bmN0aW9uKGEpe3ZhciBiPW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9ESVJFQ1RJT04sbXhDb25zdGFudHMuRElSRUNUSU9OX0VBU1QpLGM9YTtiIT1teENvbnN0YW50cy5ESVJFQ1RJT05fU09VVEgmJmIhPW14Q29uc3RhbnRzLkRJUkVDVElPTl9OT1JUSCYmbnVsbCE9dGhpcy5zdGF0ZSYmbnVsbCE9dGhpcy5zdGF0ZS50ZXh0JiZ0aGlzLnN0YXRlLnRleHQuaXNQYWludEJvdW5kc0ludmVydGVkKCkmJihjPWMuY2xvbmUoKSxiPWMud2lkdGgsYy53aWR0aD1jLmhlaWdodCxjLmhlaWdodD1iKTtjPXRoaXMuZ2V0TGFiZWxNYXJnaW5zKGMpO2lmKG51bGwhPWMpe3ZhciBkPSIxIj09bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0ZMSVBILCExKSxlPSIxIj09bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0ZMSVBWLAohMSk7bnVsbCE9dGhpcy5zdGF0ZSYmbnVsbCE9dGhpcy5zdGF0ZS50ZXh0JiZ0aGlzLnN0YXRlLnRleHQuaXNQYWludEJvdW5kc0ludmVydGVkKCkmJihiPWMueCxjLng9Yy5oZWlnaHQsYy5oZWlnaHQ9Yy53aWR0aCxjLndpZHRoPWMueSxjLnk9YixiPWQsZD1lLGU9Yik7cmV0dXJuIG14VXRpbHMuZ2V0RGlyZWN0ZWRCb3VuZHMoYSxjLHRoaXMuc3R5bGUsZCxlKX1yZXR1cm4gYX07bXhTaGFwZS5wcm90b3R5cGUuZ2V0TGFiZWxNYXJnaW5zPWZ1bmN0aW9uKGEpe3JldHVybiBudWxsfTsKbXhTaGFwZS5wcm90b3R5cGUuY2hlY2tCb3VuZHM9ZnVuY3Rpb24oKXtyZXR1cm4haXNOYU4odGhpcy5zY2FsZSkmJmlzRmluaXRlKHRoaXMuc2NhbGUpJiYwPHRoaXMuc2NhbGUmJm51bGwhPXRoaXMuYm91bmRzJiYhaXNOYU4odGhpcy5ib3VuZHMueCkmJiFpc05hTih0aGlzLmJvdW5kcy55KSYmIWlzTmFOKHRoaXMuYm91bmRzLndpZHRoKSYmIWlzTmFOKHRoaXMuYm91bmRzLmhlaWdodCkmJjA8dGhpcy5ib3VuZHMud2lkdGgmJjA8dGhpcy5ib3VuZHMuaGVpZ2h0fTtteFNoYXBlLnByb3RvdHlwZS5jcmVhdGVWbWxHcm91cD1mdW5jdGlvbigpe3ZhciBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQobXhDbGllbnQuVk1MX1BSRUZJWCsiOmdyb3VwIik7YS5zdHlsZS5wb3NpdGlvbj0iYWJzb2x1dGUiO2Euc3R5bGUud2lkdGg9dGhpcy5ub2RlLnN0eWxlLndpZHRoO2Euc3R5bGUuaGVpZ2h0PXRoaXMubm9kZS5zdHlsZS5oZWlnaHQ7cmV0dXJuIGF9OwpteFNoYXBlLnByb3RvdHlwZS5yZWRyYXdTaGFwZT1mdW5jdGlvbigpe3ZhciBhPXRoaXMuY3JlYXRlQ2FudmFzKCk7bnVsbCE9YSYmKGEucG9pbnRlckV2ZW50cz10aGlzLnBvaW50ZXJFdmVudHMsdGhpcy5wYWludChhKSx0aGlzLm5vZGUhPWEucm9vdCYmdGhpcy5ub2RlLmluc2VydEFkamFjZW50SFRNTCgiYmVmb3JlZW5kIixhLnJvb3Qub3V0ZXJIVE1MKSwiRElWIj09dGhpcy5ub2RlLm5vZGVOYW1lJiY4PT1kb2N1bWVudC5kb2N1bWVudE1vZGUmJih0aGlzLm5vZGUuc3R5bGUuZmlsdGVyPSIiLG14VXRpbHMuYWRkVHJhbnNwYXJlbnRCYWNrZ3JvdW5kRmlsdGVyKHRoaXMubm9kZSkpLHRoaXMuZGVzdHJveUNhbnZhcyhhKSl9OwpteFNoYXBlLnByb3RvdHlwZS5jcmVhdGVDYW52YXM9ZnVuY3Rpb24oKXt2YXIgYT1udWxsO251bGwhPXRoaXMubm9kZS5vd25lclNWR0VsZW1lbnQ/YT10aGlzLmNyZWF0ZVN2Z0NhbnZhcygpOm14Q2xpZW50LklTX1ZNTCYmKHRoaXMudXBkYXRlVm1sQ29udGFpbmVyKCksYT10aGlzLmNyZWF0ZVZtbENhbnZhcygpKTtudWxsIT1hJiZ0aGlzLm91dGxpbmUmJihhLnNldFN0cm9rZVdpZHRoKHRoaXMuc3Ryb2tld2lkdGgpLGEuc2V0U3Ryb2tlQ29sb3IodGhpcy5zdHJva2UpLG51bGwhPXRoaXMuaXNEYXNoZWQmJmEuc2V0RGFzaGVkKHRoaXMuaXNEYXNoZWQpLGEuc2V0U3Ryb2tlV2lkdGg9ZnVuY3Rpb24oKXt9LGEuc2V0U3Ryb2tlQ29sb3I9ZnVuY3Rpb24oKXt9LGEuc2V0RmlsbENvbG9yPWZ1bmN0aW9uKCl7fSxhLnNldEdyYWRpZW50PWZ1bmN0aW9uKCl7fSxhLnNldERhc2hlZD1mdW5jdGlvbigpe30sYS50ZXh0PWZ1bmN0aW9uKCl7fSk7cmV0dXJuIGF9OwpteFNoYXBlLnByb3RvdHlwZS5jcmVhdGVTdmdDYW52YXM9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgbXhTdmdDYW52YXMyRCh0aGlzLm5vZGUsITEpO2Euc3Ryb2tlVG9sZXJhbmNlPXRoaXMucG9pbnRlckV2ZW50cz90aGlzLnN2Z1N0cm9rZVRvbGVyYW5jZTowO2EucG9pbnRlckV2ZW50c1ZhbHVlPXRoaXMuc3ZnUG9pbnRlckV2ZW50czt2YXIgYj10aGlzLmdldFN2Z1NjcmVlbk9mZnNldCgpOzAhPWI/dGhpcy5ub2RlLnNldEF0dHJpYnV0ZSgidHJhbnNmb3JtIiwidHJhbnNsYXRlKCIrYisiLCIrYisiKSIpOnRoaXMubm9kZS5yZW1vdmVBdHRyaWJ1dGUoInRyYW5zZm9ybSIpO2EubWluU3Ryb2tlV2lkdGg9dGhpcy5taW5TdmdTdHJva2VXaWR0aDt0aGlzLmFudGlBbGlhc3x8KGEuZm9ybWF0PWZ1bmN0aW9uKGEpe3JldHVybiBNYXRoLnJvdW5kKHBhcnNlRmxvYXQoYSkpfSk7cmV0dXJuIGF9OwpteFNoYXBlLnByb3RvdHlwZS5jcmVhdGVWbWxDYW52YXM9ZnVuY3Rpb24oKXt2YXIgYT04PT1kb2N1bWVudC5kb2N1bWVudE1vZGUmJnRoaXMuaXNQYXJzZVZtbCgpP3RoaXMuY3JlYXRlVm1sR3JvdXAoKTp0aGlzLm5vZGUsYj1uZXcgbXhWbWxDYW52YXMyRChhLCExKTsiIiE9YS50YWdVcm4mJihhLmNvb3Jkc2l6ZT1NYXRoLm1heCgxLE1hdGgucm91bmQodGhpcy5ib3VuZHMud2lkdGgpKSp0aGlzLnZtbFNjYWxlKyIsIitNYXRoLm1heCgxLE1hdGgucm91bmQodGhpcy5ib3VuZHMuaGVpZ2h0KSkqdGhpcy52bWxTY2FsZSxiLnNjYWxlKHRoaXMudm1sU2NhbGUpLGIudm1sU2NhbGU9dGhpcy52bWxTY2FsZSk7YT10aGlzLnNjYWxlO2IudHJhbnNsYXRlKC1NYXRoLnJvdW5kKHRoaXMuYm91bmRzLngvYSksLU1hdGgucm91bmQodGhpcy5ib3VuZHMueS9hKSk7cmV0dXJuIGJ9OwpteFNoYXBlLnByb3RvdHlwZS51cGRhdGVWbWxDb250YWluZXI9ZnVuY3Rpb24oKXt0aGlzLm5vZGUuc3R5bGUubGVmdD1NYXRoLnJvdW5kKHRoaXMuYm91bmRzLngpKyJweCI7dGhpcy5ub2RlLnN0eWxlLnRvcD1NYXRoLnJvdW5kKHRoaXMuYm91bmRzLnkpKyJweCI7dmFyIGE9TWF0aC5tYXgoMSxNYXRoLnJvdW5kKHRoaXMuYm91bmRzLmhlaWdodCkpO3RoaXMubm9kZS5zdHlsZS53aWR0aD1NYXRoLm1heCgxLE1hdGgucm91bmQodGhpcy5ib3VuZHMud2lkdGgpKSsicHgiO3RoaXMubm9kZS5zdHlsZS5oZWlnaHQ9YSsicHgiO3RoaXMubm9kZS5zdHlsZS5vdmVyZmxvdz0idmlzaWJsZSJ9O214U2hhcGUucHJvdG90eXBlLnJlZHJhd0h0bWxTaGFwZT1mdW5jdGlvbigpe3RoaXMudXBkYXRlSHRtbEJvdW5kcyh0aGlzLm5vZGUpO3RoaXMudXBkYXRlSHRtbEZpbHRlcnModGhpcy5ub2RlKTt0aGlzLnVwZGF0ZUh0bWxDb2xvcnModGhpcy5ub2RlKX07Cm14U2hhcGUucHJvdG90eXBlLnVwZGF0ZUh0bWxGaWx0ZXJzPWZ1bmN0aW9uKGEpe3ZhciBiPSIiOzEwMD50aGlzLm9wYWNpdHkmJihiKz0iYWxwaGEob3BhY2l0eT0iK3RoaXMub3BhY2l0eSsiKSIpO3RoaXMuaXNTaGFkb3cmJihiKz0icHJvZ2lkOkRYSW1hZ2VUcmFuc2Zvcm0uTWljcm9zb2Z0LmRyb3BTaGFkb3cgKE9mZlg9JyIrTWF0aC5yb3VuZChteENvbnN0YW50cy5TSEFET1dfT0ZGU0VUX1gqdGhpcy5zY2FsZSkrIicsIE9mZlk9JyIrTWF0aC5yb3VuZChteENvbnN0YW50cy5TSEFET1dfT0ZGU0VUX1kqdGhpcy5zY2FsZSkrIicsIENvbG9yPSciK214Q29uc3RhbnRzLlZNTF9TSEFET1dDT0xPUisiJykiKTtpZihudWxsIT10aGlzLmZpbGwmJnRoaXMuZmlsbCE9bXhDb25zdGFudHMuTk9ORSYmdGhpcy5ncmFkaWVudCYmdGhpcy5ncmFkaWVudCE9bXhDb25zdGFudHMuTk9ORSl7dmFyIGM9dGhpcy5maWxsLGQ9dGhpcy5ncmFkaWVudCxlPSIwIixmPXtlYXN0OjAsc291dGg6MSwKd2VzdDoyLG5vcnRoOjN9LGc9bnVsbCE9dGhpcy5kaXJlY3Rpb24/Zlt0aGlzLmRpcmVjdGlvbl06MDtudWxsIT10aGlzLmdyYWRpZW50RGlyZWN0aW9uJiYoZz1teFV0aWxzLm1vZChnK2ZbdGhpcy5ncmFkaWVudERpcmVjdGlvbl0tMSw0KSk7MT09Zz8oZT0iMSIsZj1jLGM9ZCxkPWYpOjI9PWc/KGY9YyxjPWQsZD1mKTozPT1nJiYoZT0iMSIpO2IrPSJwcm9naWQ6RFhJbWFnZVRyYW5zZm9ybS5NaWNyb3NvZnQuZ3JhZGllbnQoc3RhcnRDb2xvclN0cj0nIitjKyInLCBlbmRDb2xvclN0cj0nIitkKyInLCBncmFkaWVudFR5cGU9JyIrZSsiJykifWEuc3R5bGUuZmlsdGVyPWJ9OwpteFNoYXBlLnByb3RvdHlwZS51cGRhdGVIdG1sQ29sb3JzPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuc3Ryb2tlO251bGwhPWImJmIhPW14Q29uc3RhbnRzLk5PTkU/KGEuc3R5bGUuYm9yZGVyQ29sb3I9Yix0aGlzLmlzRGFzaGVkP2Euc3R5bGUuYm9yZGVyU3R5bGU9ImRhc2hlZCI6MDx0aGlzLnN0cm9rZXdpZHRoJiYoYS5zdHlsZS5ib3JkZXJTdHlsZT0ic29saWQiKSxhLnN0eWxlLmJvcmRlcldpZHRoPU1hdGgubWF4KDEsTWF0aC5jZWlsKHRoaXMuc3Ryb2tld2lkdGgqdGhpcy5zY2FsZSkpKyJweCIpOmEuc3R5bGUuYm9yZGVyV2lkdGg9IjBweCI7Yj10aGlzLm91dGxpbmU/bnVsbDp0aGlzLmZpbGw7bnVsbCE9YiYmYiE9bXhDb25zdGFudHMuTk9ORT8oYS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9YixhLnN0eWxlLmJhY2tncm91bmRJbWFnZT0ibm9uZSIpOnRoaXMucG9pbnRlckV2ZW50cz9hLnN0eWxlLmJhY2tncm91bmRDb2xvcj0idHJhbnNwYXJlbnQiOjg9PWRvY3VtZW50LmRvY3VtZW50TW9kZT8KbXhVdGlscy5hZGRUcmFuc3BhcmVudEJhY2tncm91bmRGaWx0ZXIoYSk6dGhpcy5zZXRUcmFuc3BhcmVudEJhY2tncm91bmRJbWFnZShhKX07Cm14U2hhcGUucHJvdG90eXBlLnVwZGF0ZUh0bWxCb3VuZHM9ZnVuY3Rpb24oYSl7dmFyIGI9OTw9ZG9jdW1lbnQuZG9jdW1lbnRNb2RlPzA6TWF0aC5jZWlsKHRoaXMuc3Ryb2tld2lkdGgqdGhpcy5zY2FsZSk7YS5zdHlsZS5ib3JkZXJXaWR0aD1NYXRoLm1heCgxLGIpKyJweCI7YS5zdHlsZS5vdmVyZmxvdz0iaGlkZGVuIjthLnN0eWxlLmxlZnQ9TWF0aC5yb3VuZCh0aGlzLmJvdW5kcy54LWIvMikrInB4IjthLnN0eWxlLnRvcD1NYXRoLnJvdW5kKHRoaXMuYm91bmRzLnktYi8yKSsicHgiOyJDU1MxQ29tcGF0Ij09ZG9jdW1lbnQuY29tcGF0TW9kZSYmKGI9LWIpO2Euc3R5bGUud2lkdGg9TWF0aC5yb3VuZChNYXRoLm1heCgwLHRoaXMuYm91bmRzLndpZHRoK2IpKSsicHgiO2Euc3R5bGUuaGVpZ2h0PU1hdGgucm91bmQoTWF0aC5tYXgoMCx0aGlzLmJvdW5kcy5oZWlnaHQrYikpKyJweCJ9OwpteFNoYXBlLnByb3RvdHlwZS5kZXN0cm95Q2FudmFzPWZ1bmN0aW9uKGEpe2lmKGEgaW5zdGFuY2VvZiBteFN2Z0NhbnZhczJEKXtmb3IodmFyIGIgaW4gYS5ncmFkaWVudHMpe3ZhciBjPWEuZ3JhZGllbnRzW2JdO251bGwhPWMmJihjLm14UmVmQ291bnQ9KGMubXhSZWZDb3VudHx8MCkrMSl9dGhpcy5yZWxlYXNlU3ZnR3JhZGllbnRzKHRoaXMub2xkR3JhZGllbnRzKTt0aGlzLm9sZEdyYWRpZW50cz1hLmdyYWRpZW50c319OwpteFNoYXBlLnByb3RvdHlwZS5wYWludD1mdW5jdGlvbihhKXt2YXIgYj0hMTtpZihudWxsIT1hJiZ0aGlzLm91dGxpbmUpe3ZhciBjPWEuc3Ryb2tlO2Euc3Ryb2tlPWZ1bmN0aW9uKCl7Yj0hMDtjLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07dmFyIGQ9YS5maWxsQW5kU3Ryb2tlO2EuZmlsbEFuZFN0cm9rZT1mdW5jdGlvbigpe2I9ITA7ZC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fXZhciBlPXRoaXMuc2NhbGUsZj10aGlzLmJvdW5kcy54L2UsZz10aGlzLmJvdW5kcy55L2Usaz10aGlzLmJvdW5kcy53aWR0aC9lLGw9dGhpcy5ib3VuZHMuaGVpZ2h0L2U7aWYodGhpcy5pc1BhaW50Qm91bmRzSW52ZXJ0ZWQoKSl2YXIgbT0oay1sKS8yLGY9ZittLGc9Zy1tLG09ayxrPWwsbD1tO3RoaXMudXBkYXRlVHJhbnNmb3JtKGEsZixnLGssbCk7dGhpcy5jb25maWd1cmVDYW52YXMoYSxmLGcsayxsKTttPW51bGw7aWYobnVsbD09dGhpcy5zdGVuY2lsJiZudWxsPT10aGlzLnBvaW50cyYmdGhpcy5zaGFwZVBvaW50ZXJFdmVudHN8fApudWxsIT10aGlzLnN0ZW5jaWwmJnRoaXMuc3RlbmNpbFBvaW50ZXJFdmVudHMpe3ZhciBuPXRoaXMuY3JlYXRlQm91bmRpbmdCb3goKTt0aGlzLmRpYWxlY3Q9PW14Q29uc3RhbnRzLkRJQUxFQ1RfU1ZHPyhtPXRoaXMuY3JlYXRlVHJhbnNwYXJlbnRTdmdSZWN0YW5nbGUobi54LG4ueSxuLndpZHRoLG4uaGVpZ2h0KSx0aGlzLm5vZGUuYXBwZW5kQ2hpbGQobSkpOihuPWEuY3JlYXRlUmVjdCgicmVjdCIsbi54L2Usbi55L2Usbi53aWR0aC9lLG4uaGVpZ2h0L2UpLG4uYXBwZW5kQ2hpbGQoYS5jcmVhdGVUcmFuc3BhcmVudEZpbGwoKSksbi5zdHJva2VkPSJmYWxzZSIsYS5yb290LmFwcGVuZENoaWxkKG4pKX1pZihudWxsIT10aGlzLnN0ZW5jaWwpdGhpcy5zdGVuY2lsLmRyYXdTaGFwZShhLHRoaXMsZixnLGssbCk7ZWxzZSBpZihhLnNldFN0cm9rZVdpZHRoKHRoaXMuc3Ryb2tld2lkdGgpLG51bGwhPXRoaXMucG9pbnRzKXtmb3IodmFyIG49W10scD0wO3A8dGhpcy5wb2ludHMubGVuZ3RoO3ArKyludWxsIT0KdGhpcy5wb2ludHNbcF0mJm4ucHVzaChuZXcgbXhQb2ludCh0aGlzLnBvaW50c1twXS54L2UsdGhpcy5wb2ludHNbcF0ueS9lKSk7dGhpcy5wYWludEVkZ2VTaGFwZShhLG4pfWVsc2UgdGhpcy5wYWludFZlcnRleFNoYXBlKGEsZixnLGssbCk7bnVsbCE9bSYmbnVsbCE9YS5zdGF0ZSYmbnVsbCE9YS5zdGF0ZS50cmFuc2Zvcm0mJm0uc2V0QXR0cmlidXRlKCJ0cmFuc2Zvcm0iLGEuc3RhdGUudHJhbnNmb3JtKTtudWxsIT1hJiZ0aGlzLm91dGxpbmUmJiFiJiYoYS5yZWN0KGYsZyxrLGwpLGEuc3Ryb2tlKCkpfTsKbXhTaGFwZS5wcm90b3R5cGUuY29uZmlndXJlQ2FudmFzPWZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9bnVsbDtudWxsIT10aGlzLnN0eWxlJiYoZj10aGlzLnN0eWxlLmRhc2hQYXR0ZXJuKTthLnNldEFscGhhKHRoaXMub3BhY2l0eS8xMDApO2Euc2V0RmlsbEFscGhhKHRoaXMuZmlsbE9wYWNpdHkvMTAwKTthLnNldFN0cm9rZUFscGhhKHRoaXMuc3Ryb2tlT3BhY2l0eS8xMDApO251bGwhPXRoaXMuaXNTaGFkb3cmJmEuc2V0U2hhZG93KHRoaXMuaXNTaGFkb3cpO251bGwhPXRoaXMuaXNEYXNoZWQmJmEuc2V0RGFzaGVkKHRoaXMuaXNEYXNoZWQsbnVsbCE9dGhpcy5zdHlsZT8xPT1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfRklYX0RBU0gsITEpOiExKTtudWxsIT1mJiZhLnNldERhc2hQYXR0ZXJuKGYpO251bGwhPXRoaXMuZmlsbCYmdGhpcy5maWxsIT1teENvbnN0YW50cy5OT05FJiZ0aGlzLmdyYWRpZW50JiZ0aGlzLmdyYWRpZW50IT1teENvbnN0YW50cy5OT05FPwooYj10aGlzLmdldEdyYWRpZW50Qm91bmRzKGEsYixjLGQsZSksYS5zZXRHcmFkaWVudCh0aGlzLmZpbGwsdGhpcy5ncmFkaWVudCxiLngsYi55LGIud2lkdGgsYi5oZWlnaHQsdGhpcy5ncmFkaWVudERpcmVjdGlvbikpOmEuc2V0RmlsbENvbG9yKHRoaXMuZmlsbCk7YS5zZXRTdHJva2VDb2xvcih0aGlzLnN0cm9rZSl9O214U2hhcGUucHJvdG90eXBlLmdldEdyYWRpZW50Qm91bmRzPWZ1bmN0aW9uKGEsYixjLGQsZSl7cmV0dXJuIG5ldyBteFJlY3RhbmdsZShiLGMsZCxlKX07bXhTaGFwZS5wcm90b3R5cGUudXBkYXRlVHJhbnNmb3JtPWZ1bmN0aW9uKGEsYixjLGQsZSl7YS5zY2FsZSh0aGlzLnNjYWxlKTthLnJvdGF0ZSh0aGlzLmdldFNoYXBlUm90YXRpb24oKSx0aGlzLmZsaXBILHRoaXMuZmxpcFYsYitkLzIsYytlLzIpfTsKbXhTaGFwZS5wcm90b3R5cGUucGFpbnRWZXJ0ZXhTaGFwZT1mdW5jdGlvbihhLGIsYyxkLGUpe3RoaXMucGFpbnRCYWNrZ3JvdW5kKGEsYixjLGQsZSk7dGhpcy5vdXRsaW5lJiZudWxsIT10aGlzLnN0eWxlJiYwIT1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfQkFDS0dST1VORF9PVVRMSU5FLDApfHwoYS5zZXRTaGFkb3coITEpLHRoaXMucGFpbnRGb3JlZ3JvdW5kKGEsYixjLGQsZSkpfTtteFNoYXBlLnByb3RvdHlwZS5wYWludEJhY2tncm91bmQ9ZnVuY3Rpb24oYSxiLGMsZCxlKXt9O214U2hhcGUucHJvdG90eXBlLnBhaW50Rm9yZWdyb3VuZD1mdW5jdGlvbihhLGIsYyxkLGUpe307bXhTaGFwZS5wcm90b3R5cGUucGFpbnRFZGdlU2hhcGU9ZnVuY3Rpb24oYSxiKXt9OwpteFNoYXBlLnByb3RvdHlwZS5nZXRBcmNTaXplPWZ1bmN0aW9uKGEsYil7dmFyIGM7IjEiPT1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfQUJTT0xVVEVfQVJDU0laRSwwKT9jPU1hdGgubWluKGEvMixNYXRoLm1pbihiLzIsbXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0FSQ1NJWkUsbXhDb25zdGFudHMuTElORV9BUkNTSVpFKS8yKSk6KGM9bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0FSQ1NJWkUsMTAwKm14Q29uc3RhbnRzLlJFQ1RBTkdMRV9ST1VORElOR19GQUNUT1IpLzEwMCxjPU1hdGgubWluKGEqYyxiKmMpKTtyZXR1cm4gY307Cm14U2hhcGUucHJvdG90eXBlLnBhaW50R2xhc3NFZmZlY3Q9ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe3ZhciBnPU1hdGguY2VpbCh0aGlzLnN0cm9rZXdpZHRoLzIpO2Euc2V0R3JhZGllbnQoIiNmZmZmZmYiLCIjZmZmZmZmIixiLGMsZCwuNiplLCJzb3V0aCIsLjksLjEpO2EuYmVnaW4oKTtmKz0yKmc7dGhpcy5pc1JvdW5kZWQ/KGEubW92ZVRvKGItZytmLGMtZyksYS5xdWFkVG8oYi1nLGMtZyxiLWcsYy1nK2YpLGEubGluZVRvKGItZyxjKy40KmUpLGEucXVhZFRvKGIrLjUqZCxjKy43KmUsYitkK2csYysuNCplKSxhLmxpbmVUbyhiK2QrZyxjLWcrZiksYS5xdWFkVG8oYitkK2csYy1nLGIrZCtnLWYsYy1nKSk6KGEubW92ZVRvKGItZyxjLWcpLGEubGluZVRvKGItZyxjKy40KmUpLGEucXVhZFRvKGIrLjUqZCxjKy43KmUsYitkK2csYysuNCplKSxhLmxpbmVUbyhiK2QrZyxjLWcpKTthLmNsb3NlKCk7YS5maWxsKCl9OwpteFNoYXBlLnByb3RvdHlwZS5hZGRQb2ludHM9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyl7aWYobnVsbCE9YiYmMDxiLmxlbmd0aCl7Zz1udWxsIT1nP2c6ITA7dmFyIGs9YltiLmxlbmd0aC0xXTtpZihlJiZjKXtiPWIuc2xpY2UoKTt2YXIgbD1iWzBdLGw9bmV3IG14UG9pbnQoay54KyhsLngtay54KS8yLGsueSsobC55LWsueSkvMik7Yi5zcGxpY2UoMCwwLGwpfXZhciBtPWJbMF0sbD0xO2ZvcihnP2EubW92ZVRvKG0ueCxtLnkpOmEubGluZVRvKG0ueCxtLnkpO2w8KGU/Yi5sZW5ndGg6Yi5sZW5ndGgtMSk7KXtnPWJbbXhVdGlscy5tb2QobCxiLmxlbmd0aCldO3ZhciBuPW0ueC1nLngsbT1tLnktZy55O2lmKGMmJigwIT1ufHwwIT1tKSYmKG51bGw9PWZ8fDA+bXhVdGlscy5pbmRleE9mKGYsbC0xKSkpe3ZhciBwPU1hdGguc3FydChuKm4rbSptKTthLmxpbmVUbyhnLngrbipNYXRoLm1pbihkLHAvMikvcCxnLnkrbSpNYXRoLm1pbihkLHAvMikvcCk7Zm9yKG09YltteFV0aWxzLm1vZChsKwoxLGIubGVuZ3RoKV07bDxiLmxlbmd0aC0yJiYwPT1NYXRoLnJvdW5kKG0ueC1nLngpJiYwPT1NYXRoLnJvdW5kKG0ueS1nLnkpOyltPWJbbXhVdGlscy5tb2QobCsyLGIubGVuZ3RoKV0sbCsrO249bS54LWcueDttPW0ueS1nLnk7cD1NYXRoLm1heCgxLE1hdGguc3FydChuKm4rbSptKSk7bj1nLngrbipNYXRoLm1pbihkLHAvMikvcDttPWcueSttKk1hdGgubWluKGQscC8yKS9wO2EucXVhZFRvKGcueCxnLnksbixtKTtnPW5ldyBteFBvaW50KG4sbSl9ZWxzZSBhLmxpbmVUbyhnLngsZy55KTttPWc7bCsrfWU/YS5jbG9zZSgpOmEubGluZVRvKGsueCxrLnkpfX07Cm14U2hhcGUucHJvdG90eXBlLnJlc2V0U3R5bGVzPWZ1bmN0aW9uKCl7dGhpcy5pbml0U3R5bGVzKCk7dGhpcy5zcGFjaW5nPTA7ZGVsZXRlIHRoaXMuZmlsbDtkZWxldGUgdGhpcy5ncmFkaWVudDtkZWxldGUgdGhpcy5ncmFkaWVudERpcmVjdGlvbjtkZWxldGUgdGhpcy5zdHJva2U7ZGVsZXRlIHRoaXMuc3RhcnRTaXplO2RlbGV0ZSB0aGlzLmVuZFNpemU7ZGVsZXRlIHRoaXMuc3RhcnRBcnJvdztkZWxldGUgdGhpcy5lbmRBcnJvdztkZWxldGUgdGhpcy5kaXJlY3Rpb247ZGVsZXRlIHRoaXMuaXNTaGFkb3c7ZGVsZXRlIHRoaXMuaXNEYXNoZWQ7ZGVsZXRlIHRoaXMuaXNSb3VuZGVkO2RlbGV0ZSB0aGlzLmdsYXNzfTsKbXhTaGFwZS5wcm90b3R5cGUuYXBwbHk9ZnVuY3Rpb24oYSl7dGhpcy5zdGF0ZT1hO3RoaXMuc3R5bGU9YS5zdHlsZTtpZihudWxsIT10aGlzLnN0eWxlKXt0aGlzLmZpbGw9bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0ZJTExDT0xPUix0aGlzLmZpbGwpO3RoaXMuZ3JhZGllbnQ9bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0dSQURJRU5UQ09MT1IsdGhpcy5ncmFkaWVudCk7dGhpcy5ncmFkaWVudERpcmVjdGlvbj1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfR1JBRElFTlRfRElSRUNUSU9OLHRoaXMuZ3JhZGllbnREaXJlY3Rpb24pO3RoaXMub3BhY2l0eT1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfT1BBQ0lUWSx0aGlzLm9wYWNpdHkpO3RoaXMuZmlsbE9wYWNpdHk9bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0ZJTExfT1BBQ0lUWSwKdGhpcy5maWxsT3BhY2l0eSk7dGhpcy5zdHJva2VPcGFjaXR5PW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9TVFJPS0VfT1BBQ0lUWSx0aGlzLnN0cm9rZU9wYWNpdHkpO3RoaXMuc3Ryb2tlPW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9TVFJPS0VDT0xPUix0aGlzLnN0cm9rZSk7dGhpcy5zdHJva2V3aWR0aD1teFV0aWxzLmdldE51bWJlcih0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX1NUUk9LRVdJRFRILHRoaXMuc3Ryb2tld2lkdGgpO3RoaXMuc3BhY2luZz1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfU1BBQ0lORyx0aGlzLnNwYWNpbmcpO3RoaXMuc3RhcnRTaXplPW14VXRpbHMuZ2V0TnVtYmVyKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfU1RBUlRTSVpFLHRoaXMuc3RhcnRTaXplKTt0aGlzLmVuZFNpemU9bXhVdGlscy5nZXROdW1iZXIodGhpcy5zdHlsZSwKbXhDb25zdGFudHMuU1RZTEVfRU5EU0laRSx0aGlzLmVuZFNpemUpO3RoaXMuc3RhcnRBcnJvdz1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfU1RBUlRBUlJPVyx0aGlzLnN0YXJ0QXJyb3cpO3RoaXMuZW5kQXJyb3c9bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0VOREFSUk9XLHRoaXMuZW5kQXJyb3cpO3RoaXMucm90YXRpb249bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX1JPVEFUSU9OLHRoaXMucm90YXRpb24pO3RoaXMuZGlyZWN0aW9uPW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9ESVJFQ1RJT04sdGhpcy5kaXJlY3Rpb24pO3RoaXMuZmxpcEg9MT09bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0ZMSVBILDApO3RoaXMuZmxpcFY9MT09bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0ZMSVBWLAowKTtudWxsIT10aGlzLnN0ZW5jaWwmJih0aGlzLmZsaXBIPTE9PW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSwic3RlbmNpbEZsaXBIIiwwKXx8dGhpcy5mbGlwSCx0aGlzLmZsaXBWPTE9PW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSwic3RlbmNpbEZsaXBWIiwwKXx8dGhpcy5mbGlwVik7aWYodGhpcy5kaXJlY3Rpb249PW14Q29uc3RhbnRzLkRJUkVDVElPTl9OT1JUSHx8dGhpcy5kaXJlY3Rpb249PW14Q29uc3RhbnRzLkRJUkVDVElPTl9TT1VUSClhPXRoaXMuZmxpcEgsdGhpcy5mbGlwSD10aGlzLmZsaXBWLHRoaXMuZmxpcFY9YTt0aGlzLmlzU2hhZG93PTE9PW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9TSEFET1csdGhpcy5pc1NoYWRvdyk7dGhpcy5pc0Rhc2hlZD0xPT1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfREFTSEVELHRoaXMuaXNEYXNoZWQpO3RoaXMuaXNSb3VuZGVkPTE9PW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSwKbXhDb25zdGFudHMuU1RZTEVfUk9VTkRFRCx0aGlzLmlzUm91bmRlZCk7dGhpcy5nbGFzcz0xPT1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfR0xBU1MsdGhpcy5nbGFzcyk7dGhpcy5maWxsPT1teENvbnN0YW50cy5OT05FJiYodGhpcy5maWxsPW51bGwpO3RoaXMuZ3JhZGllbnQ9PW14Q29uc3RhbnRzLk5PTkUmJih0aGlzLmdyYWRpZW50PW51bGwpO3RoaXMuc3Ryb2tlPT1teENvbnN0YW50cy5OT05FJiYodGhpcy5zdHJva2U9bnVsbCl9fTtteFNoYXBlLnByb3RvdHlwZS5zZXRDdXJzb3I9ZnVuY3Rpb24oYSl7bnVsbD09YSYmKGE9IiIpO3RoaXMuY3Vyc29yPWE7bnVsbCE9dGhpcy5ub2RlJiYodGhpcy5ub2RlLnN0eWxlLmN1cnNvcj1hKX07bXhTaGFwZS5wcm90b3R5cGUuZ2V0Q3Vyc29yPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY3Vyc29yfTtteFNoYXBlLnByb3RvdHlwZS5pc1JvdW5kYWJsZT1mdW5jdGlvbigpe3JldHVybiExfTsKbXhTaGFwZS5wcm90b3R5cGUudXBkYXRlQm91bmRpbmdCb3g9ZnVuY3Rpb24oKXtpZih0aGlzLnVzZVN2Z0JvdW5kaW5nQm94JiZudWxsIT10aGlzLm5vZGUmJm51bGwhPXRoaXMubm9kZS5vd25lclNWR0VsZW1lbnQpdHJ5e3ZhciBhPXRoaXMubm9kZS5nZXRCQm94KCk7aWYoMDxhLndpZHRoJiYwPGEuaGVpZ2h0KXt0aGlzLmJvdW5kaW5nQm94PW5ldyBteFJlY3RhbmdsZShhLngsYS55LGEud2lkdGgsYS5oZWlnaHQpO3RoaXMuYm91bmRpbmdCb3guZ3Jvdyh0aGlzLnN0cm9rZXdpZHRoKnRoaXMuc2NhbGUvMik7cmV0dXJufX1jYXRjaChjKXt9aWYobnVsbCE9dGhpcy5ib3VuZHMpe2E9dGhpcy5jcmVhdGVCb3VuZGluZ0JveCgpO2lmKG51bGwhPWEpe3RoaXMuYXVnbWVudEJvdW5kaW5nQm94KGEpO3ZhciBiPXRoaXMuZ2V0U2hhcGVSb3RhdGlvbigpOzAhPWImJihhPW14VXRpbHMuZ2V0Qm91bmRpbmdCb3goYSxiKSl9dGhpcy5ib3VuZGluZ0JveD1hfX07Cm14U2hhcGUucHJvdG90eXBlLmNyZWF0ZUJvdW5kaW5nQm94PWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5ib3VuZHMuY2xvbmUoKTsobnVsbCE9dGhpcy5zdGVuY2lsJiYodGhpcy5kaXJlY3Rpb249PW14Q29uc3RhbnRzLkRJUkVDVElPTl9OT1JUSHx8dGhpcy5kaXJlY3Rpb249PW14Q29uc3RhbnRzLkRJUkVDVElPTl9TT1VUSCl8fHRoaXMuaXNQYWludEJvdW5kc0ludmVydGVkKCkpJiZhLnJvdGF0ZTkwKCk7cmV0dXJuIGF9O214U2hhcGUucHJvdG90eXBlLmF1Z21lbnRCb3VuZGluZ0JveD1mdW5jdGlvbihhKXt0aGlzLmlzU2hhZG93JiYoYS53aWR0aCs9TWF0aC5jZWlsKG14Q29uc3RhbnRzLlNIQURPV19PRkZTRVRfWCp0aGlzLnNjYWxlKSxhLmhlaWdodCs9TWF0aC5jZWlsKG14Q29uc3RhbnRzLlNIQURPV19PRkZTRVRfWSp0aGlzLnNjYWxlKSk7YS5ncm93KHRoaXMuc3Ryb2tld2lkdGgqdGhpcy5zY2FsZS8yKX07Cm14U2hhcGUucHJvdG90eXBlLmlzUGFpbnRCb3VuZHNJbnZlcnRlZD1mdW5jdGlvbigpe3JldHVybiBudWxsPT10aGlzLnN0ZW5jaWwmJih0aGlzLmRpcmVjdGlvbj09bXhDb25zdGFudHMuRElSRUNUSU9OX05PUlRIfHx0aGlzLmRpcmVjdGlvbj09bXhDb25zdGFudHMuRElSRUNUSU9OX1NPVVRIKX07bXhTaGFwZS5wcm90b3R5cGUuZ2V0Um90YXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9dGhpcy5yb3RhdGlvbj90aGlzLnJvdGF0aW9uOjB9O214U2hhcGUucHJvdG90eXBlLmdldFRleHRSb3RhdGlvbj1mdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0Um90YXRpb24oKTsxIT1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfSE9SSVpPTlRBTCwxKSYmKGErPW14VGV4dC5wcm90b3R5cGUudmVydGljYWxUZXh0Um90YXRpb24pO3JldHVybiBhfTsKbXhTaGFwZS5wcm90b3R5cGUuZ2V0U2hhcGVSb3RhdGlvbj1mdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0Um90YXRpb24oKTtudWxsIT10aGlzLmRpcmVjdGlvbiYmKHRoaXMuZGlyZWN0aW9uPT1teENvbnN0YW50cy5ESVJFQ1RJT05fTk9SVEg/YSs9MjcwOnRoaXMuZGlyZWN0aW9uPT1teENvbnN0YW50cy5ESVJFQ1RJT05fV0VTVD9hKz0xODA6dGhpcy5kaXJlY3Rpb249PW14Q29uc3RhbnRzLkRJUkVDVElPTl9TT1VUSCYmKGErPTkwKSk7cmV0dXJuIGF9OwpteFNoYXBlLnByb3RvdHlwZS5jcmVhdGVUcmFuc3BhcmVudFN2Z1JlY3RhbmdsZT1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMobXhDb25zdGFudHMuTlNfU1ZHLCJyZWN0Iik7ZS5zZXRBdHRyaWJ1dGUoIngiLGEpO2Uuc2V0QXR0cmlidXRlKCJ5IixiKTtlLnNldEF0dHJpYnV0ZSgid2lkdGgiLGMpO2Uuc2V0QXR0cmlidXRlKCJoZWlnaHQiLGQpO2Uuc2V0QXR0cmlidXRlKCJmaWxsIiwibm9uZSIpO2Uuc2V0QXR0cmlidXRlKCJzdHJva2UiLCJub25lIik7ZS5zZXRBdHRyaWJ1dGUoInBvaW50ZXItZXZlbnRzIiwiYWxsIik7cmV0dXJuIGV9O214U2hhcGUucHJvdG90eXBlLnNldFRyYW5zcGFyZW50QmFja2dyb3VuZEltYWdlPWZ1bmN0aW9uKGEpe2Euc3R5bGUuYmFja2dyb3VuZEltYWdlPSJ1cmwoJyIrbXhDbGllbnQuaW1hZ2VCYXNlUGF0aCsiL3RyYW5zcGFyZW50LmdpZicpIn07Cm14U2hhcGUucHJvdG90eXBlLnJlbGVhc2VTdmdHcmFkaWVudHM9ZnVuY3Rpb24oYSl7aWYobnVsbCE9YSlmb3IodmFyIGIgaW4gYSl7dmFyIGM9YVtiXTtudWxsIT1jJiYoYy5teFJlZkNvdW50PShjLm14UmVmQ291bnR8fDApLTEsMD09Yy5teFJlZkNvdW50JiZudWxsIT1jLnBhcmVudE5vZGUmJmMucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChjKSl9fTtteFNoYXBlLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7bnVsbCE9dGhpcy5ub2RlJiYobXhFdmVudC5yZWxlYXNlKHRoaXMubm9kZSksbnVsbCE9dGhpcy5ub2RlLnBhcmVudE5vZGUmJnRoaXMubm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMubm9kZSksdGhpcy5ub2RlPW51bGwpO3RoaXMucmVsZWFzZVN2Z0dyYWRpZW50cyh0aGlzLm9sZEdyYWRpZW50cyk7dGhpcy5vbGRHcmFkaWVudHM9bnVsbH07CmZ1bmN0aW9uIG14U3RlbmNpbChhKXt0aGlzLmRlc2M9YTt0aGlzLnBhcnNlRGVzY3JpcHRpb24oKTt0aGlzLnBhcnNlQ29uc3RyYWludHMoKX1teFV0aWxzLmV4dGVuZChteFN0ZW5jaWwsbXhTaGFwZSk7bXhTdGVuY2lsLmRlZmF1bHRMb2NhbGl6ZWQ9ITE7bXhTdGVuY2lsLmFsbG93RXZhbD0hMTtteFN0ZW5jaWwucHJvdG90eXBlLmRlc2M9bnVsbDtteFN0ZW5jaWwucHJvdG90eXBlLmNvbnN0cmFpbnRzPW51bGw7bXhTdGVuY2lsLnByb3RvdHlwZS5hc3BlY3Q9bnVsbDtteFN0ZW5jaWwucHJvdG90eXBlLncwPW51bGw7bXhTdGVuY2lsLnByb3RvdHlwZS5oMD1udWxsO214U3RlbmNpbC5wcm90b3R5cGUuYmdOb2RlPW51bGw7bXhTdGVuY2lsLnByb3RvdHlwZS5mZ05vZGU9bnVsbDtteFN0ZW5jaWwucHJvdG90eXBlLnN0cm9rZXdpZHRoPW51bGw7Cm14U3RlbmNpbC5wcm90b3R5cGUucGFyc2VEZXNjcmlwdGlvbj1mdW5jdGlvbigpe3RoaXMuZmdOb2RlPXRoaXMuZGVzYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgiZm9yZWdyb3VuZCIpWzBdO3RoaXMuYmdOb2RlPXRoaXMuZGVzYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgiYmFja2dyb3VuZCIpWzBdO3RoaXMudzA9TnVtYmVyKHRoaXMuZGVzYy5nZXRBdHRyaWJ1dGUoInciKXx8MTAwKTt0aGlzLmgwPU51bWJlcih0aGlzLmRlc2MuZ2V0QXR0cmlidXRlKCJoIil8fDEwMCk7dmFyIGE9dGhpcy5kZXNjLmdldEF0dHJpYnV0ZSgiYXNwZWN0Iik7dGhpcy5hc3BlY3Q9bnVsbCE9YT9hOiJ2YXJpYWJsZSI7YT10aGlzLmRlc2MuZ2V0QXR0cmlidXRlKCJzdHJva2V3aWR0aCIpO3RoaXMuc3Ryb2tld2lkdGg9bnVsbCE9YT9hOiIxIn07Cm14U3RlbmNpbC5wcm90b3R5cGUucGFyc2VDb25zdHJhaW50cz1mdW5jdGlvbigpe3ZhciBhPXRoaXMuZGVzYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgiY29ubmVjdGlvbnMiKVswXTtpZihudWxsIT1hJiYoYT1teFV0aWxzLmdldENoaWxkTm9kZXMoYSksbnVsbCE9YSYmMDxhLmxlbmd0aCkpe3RoaXMuY29uc3RyYWludHM9W107Zm9yKHZhciBiPTA7YjxhLmxlbmd0aDtiKyspdGhpcy5jb25zdHJhaW50cy5wdXNoKHRoaXMucGFyc2VDb25zdHJhaW50KGFbYl0pKX19O214U3RlbmNpbC5wcm90b3R5cGUucGFyc2VDb25zdHJhaW50PWZ1bmN0aW9uKGEpe3ZhciBiPU51bWJlcihhLmdldEF0dHJpYnV0ZSgieCIpKSxjPU51bWJlcihhLmdldEF0dHJpYnV0ZSgieSIpKSxkPSIxIj09YS5nZXRBdHRyaWJ1dGUoInBlcmltZXRlciIpO2E9YS5nZXRBdHRyaWJ1dGUoIm5hbWUiKTtyZXR1cm4gbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoYixjKSxkLGEpfTsKbXhTdGVuY2lsLnByb3RvdHlwZS5ldmFsdWF0ZVRleHRBdHRyaWJ1dGU9ZnVuY3Rpb24oYSxiLGMpe2I9dGhpcy5ldmFsdWF0ZUF0dHJpYnV0ZShhLGIsYyk7YT1hLmdldEF0dHJpYnV0ZSgibG9jYWxpemVkIik7aWYobXhTdGVuY2lsLmRlZmF1bHRMb2NhbGl6ZWQmJm51bGw9PWF8fCIxIj09YSliPW14UmVzb3VyY2VzLmdldChiKTtyZXR1cm4gYn07bXhTdGVuY2lsLnByb3RvdHlwZS5ldmFsdWF0ZUF0dHJpYnV0ZT1mdW5jdGlvbihhLGIsYyl7Yj1hLmdldEF0dHJpYnV0ZShiKTtudWxsPT1iJiYoYT1teFV0aWxzLmdldFRleHRDb250ZW50KGEpLG51bGwhPWEmJm14U3RlbmNpbC5hbGxvd0V2YWwmJihhPW14VXRpbHMuZXZhbChhKSwiZnVuY3Rpb24iPT10eXBlb2YgYSYmKGI9YShjKSkpKTtyZXR1cm4gYn07Cm14U3RlbmNpbC5wcm90b3R5cGUuZHJhd1NoYXBlPWZ1bmN0aW9uKGEsYixjLGQsZSxmKXt2YXIgZz1hLnN0YXRlcy5zbGljZSgpLGs9bXhVdGlscy5nZXRWYWx1ZShiLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0RJUkVDVElPTixudWxsKSxrPXRoaXMuY29tcHV0ZUFzcGVjdChiLnN0eWxlLGMsZCxlLGYsayksbD1NYXRoLm1pbihrLndpZHRoLGsuaGVpZ2h0KSxsPSJpbmhlcml0Ij09dGhpcy5zdHJva2V3aWR0aD9OdW1iZXIobXhVdGlscy5nZXROdW1iZXIoYi5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9TVFJPS0VXSURUSCwxKSk6TnVtYmVyKHRoaXMuc3Ryb2tld2lkdGgpKmw7YS5zZXRTdHJva2VXaWR0aChsKTtudWxsIT1iLnN0eWxlJiYiMSI9PW14VXRpbHMuZ2V0VmFsdWUoYi5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9QT0lOVEVSX0VWRU5UUywiMCIpJiYoYS5zZXRTdHJva2VDb2xvcihteENvbnN0YW50cy5OT05FKSxhLnJlY3QoYyxkLGUsZiksYS5zdHJva2UoKSxhLnNldFN0cm9rZUNvbG9yKGIuc3Ryb2tlKSk7CnRoaXMuZHJhd0NoaWxkcmVuKGEsYixjLGQsZSxmLHRoaXMuYmdOb2RlLGssITEsITApO3RoaXMuZHJhd0NoaWxkcmVuKGEsYixjLGQsZSxmLHRoaXMuZmdOb2RlLGssITAsIWIub3V0bGluZXx8bnVsbD09Yi5zdHlsZXx8MD09bXhVdGlscy5nZXRWYWx1ZShiLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0JBQ0tHUk9VTkRfT1VUTElORSwwKSk7YS5zdGF0ZXMubGVuZ3RoIT1nLmxlbmd0aCYmKGEuc3RhdGVzPWcpfTtteFN0ZW5jaWwucHJvdG90eXBlLmRyYXdDaGlsZHJlbj1mdW5jdGlvbihhLGIsYyxkLGUsZixnLGssbCxtKXtpZihudWxsIT1nJiYwPGUmJjA8Zilmb3IoYz1nLmZpcnN0Q2hpbGQ7bnVsbCE9YzspYy5ub2RlVHlwZT09bXhDb25zdGFudHMuTk9ERVRZUEVfRUxFTUVOVCYmdGhpcy5kcmF3Tm9kZShhLGIsYyxrLGwsbSksYz1jLm5leHRTaWJsaW5nfTsKbXhTdGVuY2lsLnByb3RvdHlwZS5jb21wdXRlQXNwZWN0PWZ1bmN0aW9uKGEsYixjLGQsZSxmKXthPWI7Yj1kL3RoaXMudzA7dmFyIGc9ZS90aGlzLmgwO2lmKGY9Zj09bXhDb25zdGFudHMuRElSRUNUSU9OX05PUlRIfHxmPT1teENvbnN0YW50cy5ESVJFQ1RJT05fU09VVEgpe2c9ZC90aGlzLmgwO2I9ZS90aGlzLncwO3ZhciBrPShkLWUpLzI7YSs9aztjLT1rfSJmaXhlZCI9PXRoaXMuYXNwZWN0JiYoYj1nPU1hdGgubWluKGIsZyksZj8oYSs9KGUtdGhpcy53MCpiKS8yLGMrPShkLXRoaXMuaDAqZykvMik6KGErPShkLXRoaXMudzAqYikvMixjKz0oZS10aGlzLmgwKmcpLzIpKTtyZXR1cm4gbmV3IG14UmVjdGFuZ2xlKGEsYyxiLGcpfTsKbXhTdGVuY2lsLnByb3RvdHlwZS5kcmF3Tm9kZT1mdW5jdGlvbihhLGIsYyxkLGUsZil7dmFyIGc9Yy5ub2RlTmFtZSxrPWQueCxsPWQueSxtPWQud2lkdGgsbj1kLmhlaWdodCxwPU1hdGgubWluKG0sbik7aWYoInNhdmUiPT1nKWEuc2F2ZSgpO2Vsc2UgaWYoInJlc3RvcmUiPT1nKWEucmVzdG9yZSgpO2Vsc2UgaWYoZil7aWYoInBhdGgiPT1nKXthLmJlZ2luKCk7cD0hMDtpZigiMSI9PWMuZ2V0QXR0cmlidXRlKCJyb3VuZGVkIikpe2Zvcih2YXIgcD0hMSxxPU51bWJlcihjLmdldEF0dHJpYnV0ZSgiYXJjU2l6ZSIpKSxyPTAsdD1bXSx1PWMuZmlyc3RDaGlsZDtudWxsIT11Oyl7aWYodS5ub2RlVHlwZT09bXhDb25zdGFudHMuTk9ERVRZUEVfRUxFTUVOVCl7dmFyIHg9dS5ub2RlTmFtZTtpZigibW92ZSI9PXh8fCJsaW5lIj09eCkibW92ZSIhPXgmJjAhPXQubGVuZ3RofHx0LnB1c2goW10pLHRbdC5sZW5ndGgtMV0ucHVzaChuZXcgbXhQb2ludChrK051bWJlcih1LmdldEF0dHJpYnV0ZSgieCIpKSoKbSxsK051bWJlcih1LmdldEF0dHJpYnV0ZSgieSIpKSpuKSkscisrO2Vsc2V7cD0hMDticmVha319dT11Lm5leHRTaWJsaW5nfWlmKCFwJiYwPHIpZm9yKG09MDttPHQubGVuZ3RoO20rKyluPSExLGw9dFttXVswXSxrPXRbbV1bdFttXS5sZW5ndGgtMV0sbC54PT1rLngmJmwueT09ay55JiYodFttXS5wb3AoKSxuPSEwKSx0aGlzLmFkZFBvaW50cyhhLHRbbV0sITAscSxuKTtlbHNlIHA9ITB9aWYocClmb3IodT1jLmZpcnN0Q2hpbGQ7bnVsbCE9dTspdS5ub2RlVHlwZT09bXhDb25zdGFudHMuTk9ERVRZUEVfRUxFTUVOVCYmdGhpcy5kcmF3Tm9kZShhLGIsdSxkLGUsZiksdT11Lm5leHRTaWJsaW5nfWVsc2UgaWYoImNsb3NlIj09ZylhLmNsb3NlKCk7ZWxzZSBpZigibW92ZSI9PWcpYS5tb3ZlVG8oaytOdW1iZXIoYy5nZXRBdHRyaWJ1dGUoIngiKSkqbSxsK051bWJlcihjLmdldEF0dHJpYnV0ZSgieSIpKSpuKTtlbHNlIGlmKCJsaW5lIj09ZylhLmxpbmVUbyhrK051bWJlcihjLmdldEF0dHJpYnV0ZSgieCIpKSoKbSxsK051bWJlcihjLmdldEF0dHJpYnV0ZSgieSIpKSpuKTtlbHNlIGlmKCJxdWFkIj09ZylhLnF1YWRUbyhrK051bWJlcihjLmdldEF0dHJpYnV0ZSgieDEiKSkqbSxsK051bWJlcihjLmdldEF0dHJpYnV0ZSgieTEiKSkqbixrK051bWJlcihjLmdldEF0dHJpYnV0ZSgieDIiKSkqbSxsK051bWJlcihjLmdldEF0dHJpYnV0ZSgieTIiKSkqbik7ZWxzZSBpZigiY3VydmUiPT1nKWEuY3VydmVUbyhrK051bWJlcihjLmdldEF0dHJpYnV0ZSgieDEiKSkqbSxsK051bWJlcihjLmdldEF0dHJpYnV0ZSgieTEiKSkqbixrK051bWJlcihjLmdldEF0dHJpYnV0ZSgieDIiKSkqbSxsK051bWJlcihjLmdldEF0dHJpYnV0ZSgieTIiKSkqbixrK051bWJlcihjLmdldEF0dHJpYnV0ZSgieDMiKSkqbSxsK051bWJlcihjLmdldEF0dHJpYnV0ZSgieTMiKSkqbik7ZWxzZSBpZigiYXJjIj09ZylhLmFyY1RvKE51bWJlcihjLmdldEF0dHJpYnV0ZSgicngiKSkqbSxOdW1iZXIoYy5nZXRBdHRyaWJ1dGUoInJ5IikpKgpuLE51bWJlcihjLmdldEF0dHJpYnV0ZSgieC1heGlzLXJvdGF0aW9uIikpLE51bWJlcihjLmdldEF0dHJpYnV0ZSgibGFyZ2UtYXJjLWZsYWciKSksTnVtYmVyKGMuZ2V0QXR0cmlidXRlKCJzd2VlcC1mbGFnIikpLGsrTnVtYmVyKGMuZ2V0QXR0cmlidXRlKCJ4IikpKm0sbCtOdW1iZXIoYy5nZXRBdHRyaWJ1dGUoInkiKSkqbik7ZWxzZSBpZigicmVjdCI9PWcpYS5yZWN0KGsrTnVtYmVyKGMuZ2V0QXR0cmlidXRlKCJ4IikpKm0sbCtOdW1iZXIoYy5nZXRBdHRyaWJ1dGUoInkiKSkqbixOdW1iZXIoYy5nZXRBdHRyaWJ1dGUoInciKSkqbSxOdW1iZXIoYy5nZXRBdHRyaWJ1dGUoImgiKSkqbik7ZWxzZSBpZigicm91bmRyZWN0Ij09ZyliPU51bWJlcihjLmdldEF0dHJpYnV0ZSgiYXJjc2l6ZSIpKSwwPT1iJiYoYj0xMDAqbXhDb25zdGFudHMuUkVDVEFOR0xFX1JPVU5ESU5HX0ZBQ1RPUiksZD1OdW1iZXIoYy5nZXRBdHRyaWJ1dGUoInciKSkqbSxmPU51bWJlcihjLmdldEF0dHJpYnV0ZSgiaCIpKSoKbixiPU51bWJlcihiKS8xMDAsYj1NYXRoLm1pbihkKmIsZipiKSxhLnJvdW5kcmVjdChrK051bWJlcihjLmdldEF0dHJpYnV0ZSgieCIpKSptLGwrTnVtYmVyKGMuZ2V0QXR0cmlidXRlKCJ5IikpKm4sZCxmLGIsYik7ZWxzZSBpZigiZWxsaXBzZSI9PWcpYS5lbGxpcHNlKGsrTnVtYmVyKGMuZ2V0QXR0cmlidXRlKCJ4IikpKm0sbCtOdW1iZXIoYy5nZXRBdHRyaWJ1dGUoInkiKSkqbixOdW1iZXIoYy5nZXRBdHRyaWJ1dGUoInciKSkqbSxOdW1iZXIoYy5nZXRBdHRyaWJ1dGUoImgiKSkqbik7ZWxzZSBpZigiaW1hZ2UiPT1nKWIub3V0bGluZXx8KGI9dGhpcy5ldmFsdWF0ZUF0dHJpYnV0ZShjLCJzcmMiLGIpLGEuaW1hZ2UoaytOdW1iZXIoYy5nZXRBdHRyaWJ1dGUoIngiKSkqbSxsK051bWJlcihjLmdldEF0dHJpYnV0ZSgieSIpKSpuLE51bWJlcihjLmdldEF0dHJpYnV0ZSgidyIpKSptLE51bWJlcihjLmdldEF0dHJpYnV0ZSgiaCIpKSpuLGIsITEsIjEiPT1jLmdldEF0dHJpYnV0ZSgiZmxpcEgiKSwKIjEiPT1jLmdldEF0dHJpYnV0ZSgiZmxpcFYiKSkpO2Vsc2UgaWYoInRleHQiPT1nKWIub3V0bGluZXx8KGQ9dGhpcy5ldmFsdWF0ZVRleHRBdHRyaWJ1dGUoYywic3RyIixiKSxmPSIxIj09Yy5nZXRBdHRyaWJ1dGUoInZlcnRpY2FsIik/LTkwOjAsIjAiPT1jLmdldEF0dHJpYnV0ZSgiYWxpZ24tc2hhcGUiKSYmKHA9Yi5yb3RhdGlvbixxPTE9PW14VXRpbHMuZ2V0VmFsdWUoYi5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9GTElQSCwwKSxiPTE9PW14VXRpbHMuZ2V0VmFsdWUoYi5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9GTElQViwwKSxmPXEmJmI/Zi1wOnF8fGI/ZitwOmYtcCksZi09Yy5nZXRBdHRyaWJ1dGUoInJvdGF0aW9uIiksYS50ZXh0KGsrTnVtYmVyKGMuZ2V0QXR0cmlidXRlKCJ4IikpKm0sbCtOdW1iZXIoYy5nZXRBdHRyaWJ1dGUoInkiKSkqbiwwLDAsZCxjLmdldEF0dHJpYnV0ZSgiYWxpZ24iKXx8ImxlZnQiLGMuZ2V0QXR0cmlidXRlKCJ2YWxpZ24iKXx8InRvcCIsCiExLCIiLG51bGwsITEsZikpO2Vsc2UgaWYoImluY2x1ZGUtc2hhcGUiPT1nKXA9bXhTdGVuY2lsUmVnaXN0cnkuZ2V0U3RlbmNpbChjLmdldEF0dHJpYnV0ZSgibmFtZSIpKSxudWxsIT1wJiYoays9TnVtYmVyKGMuZ2V0QXR0cmlidXRlKCJ4IikpKm0sbCs9TnVtYmVyKGMuZ2V0QXR0cmlidXRlKCJ5IikpKm4sZD1OdW1iZXIoYy5nZXRBdHRyaWJ1dGUoInciKSkqbSxmPU51bWJlcihjLmdldEF0dHJpYnV0ZSgiaCIpKSpuLHAuZHJhd1NoYXBlKGEsYixrLGwsZCxmKSk7ZWxzZSBpZigiZmlsbHN0cm9rZSI9PWcpYS5maWxsQW5kU3Ryb2tlKCk7ZWxzZSBpZigiZmlsbCI9PWcpYS5maWxsKCk7ZWxzZSBpZigic3Ryb2tlIj09ZylhLnN0cm9rZSgpO2Vsc2UgaWYoInN0cm9rZXdpZHRoIj09ZyltPSIxIj09Yy5nZXRBdHRyaWJ1dGUoImZpeGVkIik/MTpwLGEuc2V0U3Ryb2tlV2lkdGgoTnVtYmVyKGMuZ2V0QXR0cmlidXRlKCJ3aWR0aCIpKSptKTtlbHNlIGlmKCJkYXNoZWQiPT1nKWEuc2V0RGFzaGVkKCIxIj09CmMuZ2V0QXR0cmlidXRlKCJkYXNoZWQiKSk7ZWxzZSBpZigiZGFzaHBhdHRlcm4iPT1nKXtpZihjPWMuZ2V0QXR0cmlidXRlKCJwYXR0ZXJuIiksbnVsbCE9Yyl7Yz1jLnNwbGl0KCIgIik7bj1bXTtmb3IobT0wO208Yy5sZW5ndGg7bSsrKTA8Y1ttXS5sZW5ndGgmJm4ucHVzaChOdW1iZXIoY1ttXSkqcCk7Yz1uLmpvaW4oIiAiKTthLnNldERhc2hQYXR0ZXJuKGMpfX1lbHNlInN0cm9rZWNvbG9yIj09Zz9hLnNldFN0cm9rZUNvbG9yKGMuZ2V0QXR0cmlidXRlKCJjb2xvciIpKToibGluZWNhcCI9PWc/YS5zZXRMaW5lQ2FwKGMuZ2V0QXR0cmlidXRlKCJjYXAiKSk6ImxpbmVqb2luIj09Zz9hLnNldExpbmVKb2luKGMuZ2V0QXR0cmlidXRlKCJqb2luIikpOiJtaXRlcmxpbWl0Ij09Zz9hLnNldE1pdGVyTGltaXQoTnVtYmVyKGMuZ2V0QXR0cmlidXRlKCJsaW1pdCIpKSk6ImZpbGxjb2xvciI9PWc/YS5zZXRGaWxsQ29sb3IoYy5nZXRBdHRyaWJ1dGUoImNvbG9yIikpOiJhbHBoYSI9PQpnP2Euc2V0QWxwaGEoYy5nZXRBdHRyaWJ1dGUoImFscGhhIikpOiJmaWxsYWxwaGEiPT1nP2Euc2V0QWxwaGEoYy5nZXRBdHRyaWJ1dGUoImFscGhhIikpOiJzdHJva2VhbHBoYSI9PWc/YS5zZXRBbHBoYShjLmdldEF0dHJpYnV0ZSgiYWxwaGEiKSk6ImZvbnRjb2xvciI9PWc/YS5zZXRGb250Q29sb3IoYy5nZXRBdHRyaWJ1dGUoImNvbG9yIikpOiJmb250c3R5bGUiPT1nP2Euc2V0Rm9udFN0eWxlKGMuZ2V0QXR0cmlidXRlKCJzdHlsZSIpKToiZm9udGZhbWlseSI9PWc/YS5zZXRGb250RmFtaWx5KGMuZ2V0QXR0cmlidXRlKCJmYW1pbHkiKSk6ImZvbnRzaXplIj09ZyYmYS5zZXRGb250U2l6ZShOdW1iZXIoYy5nZXRBdHRyaWJ1dGUoInNpemUiKSkqcCk7IWV8fCJmaWxsc3Ryb2tlIiE9ZyYmImZpbGwiIT1nJiYic3Ryb2tlIiE9Z3x8YS5zZXRTaGFkb3coITEpfX07CnZhciBteFN0ZW5jaWxSZWdpc3RyeT17c3RlbmNpbHM6e30sYWRkU3RlbmNpbDpmdW5jdGlvbihhLGIpe214U3RlbmNpbFJlZ2lzdHJ5LnN0ZW5jaWxzW2FdPWJ9LGdldFN0ZW5jaWw6ZnVuY3Rpb24oYSl7cmV0dXJuIG14U3RlbmNpbFJlZ2lzdHJ5LnN0ZW5jaWxzW2FdfX0sbXhNYXJrZXI9e21hcmtlcnM6W10sYWRkTWFya2VyOmZ1bmN0aW9uKGEsYil7bXhNYXJrZXIubWFya2Vyc1thXT1ifSxjcmVhdGVNYXJrZXI6ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxrLGwsbSl7dmFyIG49bXhNYXJrZXIubWFya2Vyc1tjXTtyZXR1cm4gbnVsbCE9bj9uKGEsYixjLGQsZSxmLGcsayxsLG0pOm51bGx9fTsKKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhKXthPW51bGwhPWE/YToyO3JldHVybiBmdW5jdGlvbihiLGMsZCxrLGwsbSxuLHAscSxyKXtjPWwqcSoxLjExODtwPW0qcSoxLjExODtsKj1uK3E7bSo9bitxO3ZhciBlPWsuY2xvbmUoKTtlLngtPWM7ZS55LT1wO249ZCE9bXhDb25zdGFudHMuQVJST1dfQ0xBU1NJQyYmZCE9bXhDb25zdGFudHMuQVJST1dfQ0xBU1NJQ19USElOPzE6Ljc1O2sueCs9LWwqbi1jO2sueSs9LW0qbi1wO3JldHVybiBmdW5jdGlvbigpe2IuYmVnaW4oKTtiLm1vdmVUbyhlLngsZS55KTtiLmxpbmVUbyhlLngtbC1tL2EsZS55LW0rbC9hKTtkIT1teENvbnN0YW50cy5BUlJPV19DTEFTU0lDJiZkIT1teENvbnN0YW50cy5BUlJPV19DTEFTU0lDX1RISU58fGIubGluZVRvKGUueC0zKmwvNCxlLnktMyptLzQpO2IubGluZVRvKGUueCttL2EtbCxlLnktbS1sL2EpO2IuY2xvc2UoKTtyP2IuZmlsbEFuZFN0cm9rZSgpOmIuc3Ryb2tlKCl9fX1mdW5jdGlvbiBiKGEpe2E9Cm51bGwhPWE/YToyO3JldHVybiBmdW5jdGlvbihiLGMsZCxrLGwsbSxuLHAscSxyKXtjPWwqcSoxLjExODtkPW0qcSoxLjExODtsKj1uK3E7bSo9bitxO3ZhciBlPWsuY2xvbmUoKTtlLngtPWM7ZS55LT1kO2sueCs9MiotYztrLnkrPTIqLWQ7cmV0dXJuIGZ1bmN0aW9uKCl7Yi5iZWdpbigpO2IubW92ZVRvKGUueC1sLW0vYSxlLnktbStsL2EpO2IubGluZVRvKGUueCxlLnkpO2IubGluZVRvKGUueCttL2EtbCxlLnktbS1sL2EpO2Iuc3Ryb2tlKCl9fX1mdW5jdGlvbiBjKGEsYixjLGcsayxsLG0sbixwLHEpe249Yz09bXhDb25zdGFudHMuQVJST1dfRElBTU9ORD8uNzA3MTouOTg2MjtiPWsqcCpuO24qPWwqcDtrKj1tK3A7bCo9bStwO3ZhciBkPWcuY2xvbmUoKTtkLngtPWI7ZC55LT1uO2cueCs9LWstYjtnLnkrPS1sLW47dmFyIGU9Yz09bXhDb25zdGFudHMuQVJST1dfRElBTU9ORD8yOjMuNDtyZXR1cm4gZnVuY3Rpb24oKXthLmJlZ2luKCk7YS5tb3ZlVG8oZC54LGQueSk7YS5saW5lVG8oZC54LQprLzItbC9lLGQueStrL2UtbC8yKTthLmxpbmVUbyhkLngtayxkLnktbCk7YS5saW5lVG8oZC54LWsvMitsL2UsZC55LWwvMi1rL2UpO2EuY2xvc2UoKTtxP2EuZmlsbEFuZFN0cm9rZSgpOmEuc3Ryb2tlKCl9fW14TWFya2VyLmFkZE1hcmtlcigiY2xhc3NpYyIsYSgyKSk7bXhNYXJrZXIuYWRkTWFya2VyKCJjbGFzc2ljVGhpbiIsYSgzKSk7bXhNYXJrZXIuYWRkTWFya2VyKCJibG9jayIsYSgyKSk7bXhNYXJrZXIuYWRkTWFya2VyKCJibG9ja1RoaW4iLGEoMykpO214TWFya2VyLmFkZE1hcmtlcigib3BlbiIsYigyKSk7bXhNYXJrZXIuYWRkTWFya2VyKCJvcGVuVGhpbiIsYigzKSk7bXhNYXJrZXIuYWRkTWFya2VyKCJvdmFsIixmdW5jdGlvbihhLGIsYyxnLGssbCxtLG4scCxxKXt2YXIgZD1tLzIsZT1nLmNsb25lKCk7Zy54LT1rKmQ7Zy55LT1sKmQ7cmV0dXJuIGZ1bmN0aW9uKCl7YS5lbGxpcHNlKGUueC1kLGUueS1kLG0sbSk7cT9hLmZpbGxBbmRTdHJva2UoKTphLnN0cm9rZSgpfX0pOwpteE1hcmtlci5hZGRNYXJrZXIoImRpYW1vbmQiLGMpO214TWFya2VyLmFkZE1hcmtlcigiZGlhbW9uZFRoaW4iLGMpfSkoKTtmdW5jdGlvbiBteEFjdG9yKGEsYixjLGQpe214U2hhcGUuY2FsbCh0aGlzKTt0aGlzLmJvdW5kcz1hO3RoaXMuZmlsbD1iO3RoaXMuc3Ryb2tlPWM7dGhpcy5zdHJva2V3aWR0aD1udWxsIT1kP2Q6MX1teFV0aWxzLmV4dGVuZChteEFjdG9yLG14U2hhcGUpO214QWN0b3IucHJvdG90eXBlLnBhaW50VmVydGV4U2hhcGU9ZnVuY3Rpb24oYSxiLGMsZCxlKXthLnRyYW5zbGF0ZShiLGMpO2EuYmVnaW4oKTt0aGlzLnJlZHJhd1BhdGgoYSxiLGMsZCxlKTthLmZpbGxBbmRTdHJva2UoKX07Cm14QWN0b3IucHJvdG90eXBlLnJlZHJhd1BhdGg9ZnVuY3Rpb24oYSxiLGMsZCxlKXtiPWQvMzthLm1vdmVUbygwLGUpO2EuY3VydmVUbygwLDMqZS81LDAsMiplLzUsZC8yLDIqZS81KTthLmN1cnZlVG8oZC8yLWIsMiplLzUsZC8yLWIsMCxkLzIsMCk7YS5jdXJ2ZVRvKGQvMitiLDAsZC8yK2IsMiplLzUsZC8yLDIqZS81KTthLmN1cnZlVG8oZCwyKmUvNSxkLDMqZS81LGQsZSk7YS5jbG9zZSgpfTtmdW5jdGlvbiBteENsb3VkKGEsYixjLGQpe214QWN0b3IuY2FsbCh0aGlzKTt0aGlzLmJvdW5kcz1hO3RoaXMuZmlsbD1iO3RoaXMuc3Ryb2tlPWM7dGhpcy5zdHJva2V3aWR0aD1udWxsIT1kP2Q6MX1teFV0aWxzLmV4dGVuZChteENsb3VkLG14QWN0b3IpOwpteENsb3VkLnByb3RvdHlwZS5yZWRyYXdQYXRoPWZ1bmN0aW9uKGEsYixjLGQsZSl7YS5tb3ZlVG8oLjI1KmQsLjI1KmUpO2EuY3VydmVUbyguMDUqZCwuMjUqZSwwLC41KmUsLjE2KmQsLjU1KmUpO2EuY3VydmVUbygwLC42NiplLC4xOCpkLC45KmUsLjMxKmQsLjgqZSk7YS5jdXJ2ZVRvKC40KmQsZSwuNypkLGUsLjgqZCwuOCplKTthLmN1cnZlVG8oZCwuOCplLGQsLjYqZSwuODc1KmQsLjUqZSk7YS5jdXJ2ZVRvKGQsLjMqZSwuOCpkLC4xKmUsLjYyNSpkLC4yKmUpO2EuY3VydmVUbyguNSpkLC4wNSplLC4zKmQsLjA1KmUsLjI1KmQsLjI1KmUpO2EuY2xvc2UoKX07ZnVuY3Rpb24gbXhSZWN0YW5nbGVTaGFwZShhLGIsYyxkKXtteFNoYXBlLmNhbGwodGhpcyk7dGhpcy5ib3VuZHM9YTt0aGlzLmZpbGw9Yjt0aGlzLnN0cm9rZT1jO3RoaXMuc3Ryb2tld2lkdGg9bnVsbCE9ZD9kOjF9bXhVdGlscy5leHRlbmQobXhSZWN0YW5nbGVTaGFwZSxteFNoYXBlKTsKbXhSZWN0YW5nbGVTaGFwZS5wcm90b3R5cGUuaXNIdG1sQWxsb3dlZD1mdW5jdGlvbigpe3ZhciBhPSEwO251bGwhPXRoaXMuc3R5bGUmJihhPSIxIj09bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX1BPSU5URVJfRVZFTlRTLCIxIikpO3JldHVybiF0aGlzLmlzUm91bmRlZCYmIXRoaXMuZ2xhc3MmJjA9PXRoaXMucm90YXRpb24mJihhfHxudWxsIT10aGlzLmZpbGwmJnRoaXMuZmlsbCE9bXhDb25zdGFudHMuTk9ORSl9OwpteFJlY3RhbmdsZVNoYXBlLnByb3RvdHlwZS5wYWludEJhY2tncm91bmQ9ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZj0hMDtudWxsIT10aGlzLnN0eWxlJiYoZj0iMSI9PW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9QT0lOVEVSX0VWRU5UUywiMSIpKTtpZihmfHxudWxsIT10aGlzLmZpbGwmJnRoaXMuZmlsbCE9bXhDb25zdGFudHMuTk9ORXx8bnVsbCE9dGhpcy5zdHJva2UmJnRoaXMuc3Ryb2tlIT1teENvbnN0YW50cy5OT05FKWZ8fG51bGwhPXRoaXMuZmlsbCYmdGhpcy5maWxsIT1teENvbnN0YW50cy5OT05FfHwoYS5wb2ludGVyRXZlbnRzPSExKSx0aGlzLmlzUm91bmRlZD8oIjEiPT1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfQUJTT0xVVEVfQVJDU0laRSwwKT9mPU1hdGgubWluKGQvMixNYXRoLm1pbihlLzIsbXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0FSQ1NJWkUsCm14Q29uc3RhbnRzLkxJTkVfQVJDU0laRSkvMikpOihmPW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9BUkNTSVpFLDEwMCpteENvbnN0YW50cy5SRUNUQU5HTEVfUk9VTkRJTkdfRkFDVE9SKS8xMDAsZj1NYXRoLm1pbihkKmYsZSpmKSksYS5yb3VuZHJlY3QoYixjLGQsZSxmLGYpKTphLnJlY3QoYixjLGQsZSksYS5maWxsQW5kU3Ryb2tlKCl9O214UmVjdGFuZ2xlU2hhcGUucHJvdG90eXBlLmlzUm91bmRhYmxlPWZ1bmN0aW9uKGEsYixjLGQsZSl7cmV0dXJuITB9O214UmVjdGFuZ2xlU2hhcGUucHJvdG90eXBlLnBhaW50Rm9yZWdyb3VuZD1mdW5jdGlvbihhLGIsYyxkLGUpe3RoaXMuZ2xhc3MmJiF0aGlzLm91dGxpbmUmJm51bGwhPXRoaXMuZmlsbCYmdGhpcy5maWxsIT1teENvbnN0YW50cy5OT05FJiZ0aGlzLnBhaW50R2xhc3NFZmZlY3QoYSxiLGMsZCxlLHRoaXMuZ2V0QXJjU2l6ZShkK3RoaXMuc3Ryb2tld2lkdGgsZSt0aGlzLnN0cm9rZXdpZHRoKSl9OwpmdW5jdGlvbiBteEVsbGlwc2UoYSxiLGMsZCl7bXhTaGFwZS5jYWxsKHRoaXMpO3RoaXMuYm91bmRzPWE7dGhpcy5maWxsPWI7dGhpcy5zdHJva2U9Yzt0aGlzLnN0cm9rZXdpZHRoPW51bGwhPWQ/ZDoxfW14VXRpbHMuZXh0ZW5kKG14RWxsaXBzZSxteFNoYXBlKTtteEVsbGlwc2UucHJvdG90eXBlLnBhaW50VmVydGV4U2hhcGU9ZnVuY3Rpb24oYSxiLGMsZCxlKXthLmVsbGlwc2UoYixjLGQsZSk7YS5maWxsQW5kU3Ryb2tlKCl9O2Z1bmN0aW9uIG14RG91YmxlRWxsaXBzZShhLGIsYyxkKXtteFNoYXBlLmNhbGwodGhpcyk7dGhpcy5ib3VuZHM9YTt0aGlzLmZpbGw9Yjt0aGlzLnN0cm9rZT1jO3RoaXMuc3Ryb2tld2lkdGg9bnVsbCE9ZD9kOjF9bXhVdGlscy5leHRlbmQobXhEb3VibGVFbGxpcHNlLG14U2hhcGUpO214RG91YmxlRWxsaXBzZS5wcm90b3R5cGUudm1sU2NhbGU9MTA7Cm14RG91YmxlRWxsaXBzZS5wcm90b3R5cGUucGFpbnRCYWNrZ3JvdW5kPWZ1bmN0aW9uKGEsYixjLGQsZSl7YS5lbGxpcHNlKGIsYyxkLGUpO2EuZmlsbEFuZFN0cm9rZSgpfTtteERvdWJsZUVsbGlwc2UucHJvdG90eXBlLnBhaW50Rm9yZWdyb3VuZD1mdW5jdGlvbihhLGIsYyxkLGUpe2lmKCF0aGlzLm91dGxpbmUpe3ZhciBmPW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9NQVJHSU4sTWF0aC5taW4oMyt0aGlzLnN0cm9rZXdpZHRoLE1hdGgubWluKGQvNSxlLzUpKSk7ZC09MipmO2UtPTIqZjswPGQmJjA8ZSYmYS5lbGxpcHNlKGIrZixjK2YsZCxlKTthLnN0cm9rZSgpfX07Cm14RG91YmxlRWxsaXBzZS5wcm90b3R5cGUuZ2V0TGFiZWxCb3VuZHM9ZnVuY3Rpb24oYSl7dmFyIGI9bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX01BUkdJTixNYXRoLm1pbigzK3RoaXMuc3Ryb2tld2lkdGgsTWF0aC5taW4oYS53aWR0aC81L3RoaXMuc2NhbGUsYS5oZWlnaHQvNS90aGlzLnNjYWxlKSkpKnRoaXMuc2NhbGU7cmV0dXJuIG5ldyBteFJlY3RhbmdsZShhLngrYixhLnkrYixhLndpZHRoLTIqYixhLmhlaWdodC0yKmIpfTtmdW5jdGlvbiBteFJob21idXMoYSxiLGMsZCl7bXhTaGFwZS5jYWxsKHRoaXMpO3RoaXMuYm91bmRzPWE7dGhpcy5maWxsPWI7dGhpcy5zdHJva2U9Yzt0aGlzLnN0cm9rZXdpZHRoPW51bGwhPWQ/ZDoxfW14VXRpbHMuZXh0ZW5kKG14UmhvbWJ1cyxteFNoYXBlKTtteFJob21idXMucHJvdG90eXBlLmlzUm91bmRhYmxlPWZ1bmN0aW9uKCl7cmV0dXJuITB9OwpteFJob21idXMucHJvdG90eXBlLnBhaW50VmVydGV4U2hhcGU9ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZj1kLzIsZz1lLzIsaz1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfQVJDU0laRSxteENvbnN0YW50cy5MSU5FX0FSQ1NJWkUpLzI7YS5iZWdpbigpO3RoaXMuYWRkUG9pbnRzKGEsW25ldyBteFBvaW50KGIrZixjKSxuZXcgbXhQb2ludChiK2QsYytnKSxuZXcgbXhQb2ludChiK2YsYytlKSxuZXcgbXhQb2ludChiLGMrZyldLHRoaXMuaXNSb3VuZGVkLGssITApO2EuZmlsbEFuZFN0cm9rZSgpfTtmdW5jdGlvbiBteFBvbHlsaW5lKGEsYixjKXtteFNoYXBlLmNhbGwodGhpcyk7dGhpcy5wb2ludHM9YTt0aGlzLnN0cm9rZT1iO3RoaXMuc3Ryb2tld2lkdGg9bnVsbCE9Yz9jOjF9bXhVdGlscy5leHRlbmQobXhQb2x5bGluZSxteFNoYXBlKTtteFBvbHlsaW5lLnByb3RvdHlwZS5nZXRSb3RhdGlvbj1mdW5jdGlvbigpe3JldHVybiAwfTsKbXhQb2x5bGluZS5wcm90b3R5cGUuZ2V0U2hhcGVSb3RhdGlvbj1mdW5jdGlvbigpe3JldHVybiAwfTtteFBvbHlsaW5lLnByb3RvdHlwZS5pc1BhaW50Qm91bmRzSW52ZXJ0ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4hMX07bXhQb2x5bGluZS5wcm90b3R5cGUucGFpbnRFZGdlU2hhcGU9ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLnBvaW50ZXJFdmVudHNWYWx1ZTthLnBvaW50ZXJFdmVudHNWYWx1ZT0ic3Ryb2tlIjtudWxsPT10aGlzLnN0eWxlfHwxIT10aGlzLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX0NVUlZFRF0/dGhpcy5wYWludExpbmUoYSxiLHRoaXMuaXNSb3VuZGVkKTp0aGlzLnBhaW50Q3VydmVkTGluZShhLGIpO2EucG9pbnRlckV2ZW50c1ZhbHVlPWN9OwpteFBvbHlsaW5lLnByb3RvdHlwZS5wYWludExpbmU9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9BUkNTSVpFLG14Q29uc3RhbnRzLkxJTkVfQVJDU0laRSkvMjthLmJlZ2luKCk7dGhpcy5hZGRQb2ludHMoYSxiLGMsZCwhMSk7YS5zdHJva2UoKX07bXhQb2x5bGluZS5wcm90b3R5cGUucGFpbnRDdXJ2ZWRMaW5lPWZ1bmN0aW9uKGEsYil7YS5iZWdpbigpO3ZhciBjPWJbMF0sZD1iLmxlbmd0aDthLm1vdmVUbyhjLngsYy55KTtmb3IoYz0xO2M8ZC0yO2MrKyl7dmFyIGU9YltjXSxmPWJbYysxXTthLnF1YWRUbyhlLngsZS55LChlLngrZi54KS8yLChlLnkrZi55KS8yKX1lPWJbZC0yXTtmPWJbZC0xXTthLnF1YWRUbyhlLngsZS55LGYueCxmLnkpO2Euc3Ryb2tlKCl9OwpmdW5jdGlvbiBteEFycm93KGEsYixjLGQsZSxmLGcpe214U2hhcGUuY2FsbCh0aGlzKTt0aGlzLnBvaW50cz1hO3RoaXMuZmlsbD1iO3RoaXMuc3Ryb2tlPWM7dGhpcy5zdHJva2V3aWR0aD1udWxsIT1kP2Q6MTt0aGlzLmFycm93V2lkdGg9bnVsbCE9ZT9lOm14Q29uc3RhbnRzLkFSUk9XX1dJRFRIO3RoaXMuc3BhY2luZz1udWxsIT1mP2Y6bXhDb25zdGFudHMuQVJST1dfU1BBQ0lORzt0aGlzLmVuZFNpemU9bnVsbCE9Zz9nOm14Q29uc3RhbnRzLkFSUk9XX1NJWkV9bXhVdGlscy5leHRlbmQobXhBcnJvdyxteFNoYXBlKTtteEFycm93LnByb3RvdHlwZS5hdWdtZW50Qm91bmRpbmdCb3g9ZnVuY3Rpb24oYSl7bXhTaGFwZS5wcm90b3R5cGUuYXVnbWVudEJvdW5kaW5nQm94LmFwcGx5KHRoaXMsYXJndW1lbnRzKTthLmdyb3coKE1hdGgubWF4KHRoaXMuYXJyb3dXaWR0aCx0aGlzLmVuZFNpemUpLzIrdGhpcy5zdHJva2V3aWR0aCkqdGhpcy5zY2FsZSl9OwpteEFycm93LnByb3RvdHlwZS5wYWludEVkZ2VTaGFwZT1mdW5jdGlvbihhLGIpe3ZhciBjPW14Q29uc3RhbnRzLkFSUk9XX1NQQUNJTkcsZD1teENvbnN0YW50cy5BUlJPV19XSURUSCxlPWJbMF0sZj1iW2IubGVuZ3RoLTFdLGc9Zi54LWUueCxrPWYueS1lLnksbD1NYXRoLnNxcnQoZypnK2sqayksbT1sLTIqYy1teENvbnN0YW50cy5BUlJPV19TSVpFLGc9Zy9sLGs9ay9sLGw9ZCprLzMsZD0tZCpnLzMsbj1lLngtbC8yK2MqZyxlPWUueS1kLzIrYyprLHA9bitsLHE9ZStkLHI9cCttKmcsbT1xK20qayx0PXIrbCx1PW0rZCx4PXQtMypsLHk9dS0zKmQ7YS5iZWdpbigpO2EubW92ZVRvKG4sZSk7YS5saW5lVG8ocCxxKTthLmxpbmVUbyhyLG0pO2EubGluZVRvKHQsdSk7YS5saW5lVG8oZi54LWMqZyxmLnktYyprKTthLmxpbmVUbyh4LHkpO2EubGluZVRvKHgrbCx5K2QpO2EuY2xvc2UoKTthLmZpbGxBbmRTdHJva2UoKX07CmZ1bmN0aW9uIG14QXJyb3dDb25uZWN0b3IoYSxiLGMsZCxlLGYsZyl7bXhTaGFwZS5jYWxsKHRoaXMpO3RoaXMucG9pbnRzPWE7dGhpcy5maWxsPWI7dGhpcy5zdHJva2U9Yzt0aGlzLnN0cm9rZXdpZHRoPW51bGwhPWQ/ZDoxO3RoaXMuYXJyb3dXaWR0aD1udWxsIT1lP2U6bXhDb25zdGFudHMuQVJST1dfV0lEVEg7dGhpcy5hcnJvd1NwYWNpbmc9bnVsbCE9Zj9mOm14Q29uc3RhbnRzLkFSUk9XX1NQQUNJTkc7dGhpcy5zdGFydFNpemU9bXhDb25zdGFudHMuQVJST1dfU0laRS81O3RoaXMuZW5kU2l6ZT1teENvbnN0YW50cy5BUlJPV19TSVpFLzV9bXhVdGlscy5leHRlbmQobXhBcnJvd0Nvbm5lY3RvcixteFNoYXBlKTtteEFycm93Q29ubmVjdG9yLnByb3RvdHlwZS51c2VTdmdCb3VuZGluZ0JveD0hMDsKbXhBcnJvd0Nvbm5lY3Rvci5wcm90b3R5cGUucmVzZXRTdHlsZXM9ZnVuY3Rpb24oKXtteFNoYXBlLnByb3RvdHlwZS5yZXNldFN0eWxlcy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5hcnJvd1NwYWNpbmc9bXhDb25zdGFudHMuQVJST1dfU1BBQ0lOR307bXhBcnJvd0Nvbm5lY3Rvci5wcm90b3R5cGUuYXBwbHk9ZnVuY3Rpb24oYSl7bXhTaGFwZS5wcm90b3R5cGUuYXBwbHkuYXBwbHkodGhpcyxhcmd1bWVudHMpO251bGwhPXRoaXMuc3R5bGUmJih0aGlzLnN0YXJ0U2l6ZT0zKm14VXRpbHMuZ2V0TnVtYmVyKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfU1RBUlRTSVpFLG14Q29uc3RhbnRzLkFSUk9XX1NJWkUvNSksdGhpcy5lbmRTaXplPTMqbXhVdGlscy5nZXROdW1iZXIodGhpcy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9FTkRTSVpFLG14Q29uc3RhbnRzLkFSUk9XX1NJWkUvNSkpfTsKbXhBcnJvd0Nvbm5lY3Rvci5wcm90b3R5cGUuYXVnbWVudEJvdW5kaW5nQm94PWZ1bmN0aW9uKGEpe214U2hhcGUucHJvdG90eXBlLmF1Z21lbnRCb3VuZGluZ0JveC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dmFyIGI9dGhpcy5nZXRFZGdlV2lkdGgoKTt0aGlzLmlzTWFya2VyU3RhcnQoKSYmKGI9TWF0aC5tYXgoYix0aGlzLmdldFN0YXJ0QXJyb3dXaWR0aCgpKSk7dGhpcy5pc01hcmtlckVuZCgpJiYoYj1NYXRoLm1heChiLHRoaXMuZ2V0RW5kQXJyb3dXaWR0aCgpKSk7YS5ncm93KChiLzIrdGhpcy5zdHJva2V3aWR0aCkqdGhpcy5zY2FsZSl9OwpteEFycm93Q29ubmVjdG9yLnByb3RvdHlwZS5wYWludEVkZ2VTaGFwZT1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuc3Ryb2tld2lkdGg7dGhpcy5vdXRsaW5lJiYoYz1NYXRoLm1heCgxLG14VXRpbHMuZ2V0TnVtYmVyKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfU1RST0tFV0lEVEgsdGhpcy5zdHJva2V3aWR0aCkpKTtmb3IodmFyIGQ9dGhpcy5nZXRTdGFydEFycm93V2lkdGgoKStjLGU9dGhpcy5nZXRFbmRBcnJvd1dpZHRoKCkrYyxmPXRoaXMub3V0bGluZT90aGlzLmdldEVkZ2VXaWR0aCgpK2M6dGhpcy5nZXRFZGdlV2lkdGgoKSxnPXRoaXMuaXNPcGVuRW5kZWQoKSxrPXRoaXMuaXNNYXJrZXJTdGFydCgpLGw9dGhpcy5pc01hcmtlckVuZCgpLG09Zz8wOnRoaXMuYXJyb3dTcGFjaW5nK2MvMixuPXRoaXMuc3RhcnRTaXplK2MsYz10aGlzLmVuZFNpemUrYyxwPXRoaXMuaXNBcnJvd1JvdW5kZWQoKSxxPWJbYi5sZW5ndGgtMV0scj0xO3I8Yi5sZW5ndGgtMSYmYltyXS54PT0KYlswXS54JiZiW3JdLnk9PWJbMF0ueTspcisrO3ZhciB0PWJbcl0ueC1iWzBdLngscj1iW3JdLnktYlswXS55LHU9TWF0aC5zcXJ0KHQqdCtyKnIpO2lmKDAhPXUpe3ZhciB4PXQvdSx5LEI9eCxBPXIvdSx6LEM9QSx1PWYqQSx2PS1mKngsRD1bXTtwP2Euc2V0TGluZUpvaW4oInJvdW5kIik6MjxiLmxlbmd0aCYmYS5zZXRNaXRlckxpbWl0KDEuNDIpO2EuYmVnaW4oKTt0PXg7cj1BO2lmKGsmJiFnKXRoaXMucGFpbnRNYXJrZXIoYSxiWzBdLngsYlswXS55LHgsQSxuLGQsZixtLCEwKTtlbHNle3k9YlswXS54K3UvMittKng7ej1iWzBdLnkrdi8yK20qQTt2YXIgRz1iWzBdLngtdS8yK20qeCxKPWJbMF0ueS12LzIrbSpBO2c/KGEubW92ZVRvKHkseiksRC5wdXNoKGZ1bmN0aW9uKCl7YS5saW5lVG8oRyxKKX0pKTooYS5tb3ZlVG8oRyxKKSxhLmxpbmVUbyh5LHopKX1mb3IodmFyIEU9ej15PTAsdT0wO3U8Yi5sZW5ndGgtMjt1KyspaWYodj1teFV0aWxzLnJlbGF0aXZlQ2N3KGJbdV0ueCwKYlt1XS55LGJbdSsxXS54LGJbdSsxXS55LGJbdSsyXS54LGJbdSsyXS55KSx5PWJbdSsyXS54LWJbdSsxXS54LHo9Ylt1KzJdLnktYlt1KzFdLnksRT1NYXRoLnNxcnQoeSp5K3oqeiksMCE9RSl7Qj15L0U7Qz16L0U7RT1NYXRoLm1heChNYXRoLnNxcnQoKHgqQitBKkMrMSkvMiksLjA0KTt5PXgrQjt6PUErQzt2YXIgSD1NYXRoLnNxcnQoeSp5K3oqeik7aWYoMCE9SCl7eS89SDt6Lz1IO3ZhciBIPU1hdGgubWF4KEUsTWF0aC5taW4odGhpcy5zdHJva2V3aWR0aC8yMDArLjA0LC4zNSkpLEU9MCE9diYmcD9NYXRoLm1heCguMSxIKTpNYXRoLm1heChFLC4wNiksST1iW3UrMV0ueCt6KmYvMi9FLEY9Ylt1KzFdLnkteSpmLzIvRTt6PWJbdSsxXS54LXoqZi8yL0U7eT1iW3UrMV0ueSt5KmYvMi9FOzAhPXYmJnA/LTE9PXY/KHY9eitDKmYsRT15LUIqZixhLmxpbmVUbyh6K0EqZix5LXgqZiksYS5xdWFkVG8oSSxGLHYsRSksZnVuY3Rpb24oYixjKXtELnB1c2goZnVuY3Rpb24oKXthLmxpbmVUbyhiLApjKX0pfSh6LHkpKTooYS5saW5lVG8oSSxGKSxmdW5jdGlvbihiLGMpe3ZhciBkPUktQSpmLGU9Rit4KmYsZz1JLUMqZixrPUYrQipmO0QucHVzaChmdW5jdGlvbigpe2EucXVhZFRvKGIsYyxkLGUpfSk7RC5wdXNoKGZ1bmN0aW9uKCl7YS5saW5lVG8oZyxrKX0pfSh6LHkpKTooYS5saW5lVG8oSSxGKSxmdW5jdGlvbihiLGMpe0QucHVzaChmdW5jdGlvbigpe2EubGluZVRvKGIsYyl9KX0oeix5KSk7eD1CO0E9Q319dT1mKkM7dj0tZipCO2lmKGwmJiFnKXRoaXMucGFpbnRNYXJrZXIoYSxxLngscS55LC14LC1BLGMsZSxmLG0sITEpO2Vsc2V7YS5saW5lVG8ocS54LW0qQit1LzIscS55LW0qQyt2LzIpO3ZhciBLPXEueC1tKkItdS8yLEw9cS55LW0qQy12LzI7Zz8oYS5tb3ZlVG8oSyxMKSxELnNwbGljZSgwLDAsZnVuY3Rpb24oKXthLm1vdmVUbyhLLEwpfSkpOmEubGluZVRvKEssTCl9Zm9yKHU9RC5sZW5ndGgtMTswPD11O3UtLSlEW3VdKCk7Zz8oYS5lbmQoKSxhLnN0cm9rZSgpKToKKGEuY2xvc2UoKSxhLmZpbGxBbmRTdHJva2UoKSk7YS5zZXRTaGFkb3coITEpO2Euc2V0TWl0ZXJMaW1pdCg0KTtwJiZhLnNldExpbmVKb2luKCJmbGF0Iik7MjxiLmxlbmd0aCYmKGEuc2V0TWl0ZXJMaW1pdCg0KSxrJiYhZyYmKGEuYmVnaW4oKSx0aGlzLnBhaW50TWFya2VyKGEsYlswXS54LGJbMF0ueSx0LHIsbixkLGYsbSwhMCksYS5zdHJva2UoKSxhLmVuZCgpKSxsJiYhZyYmKGEuYmVnaW4oKSx0aGlzLnBhaW50TWFya2VyKGEscS54LHEueSwteCwtQSxjLGUsZixtLCEwKSxhLnN0cm9rZSgpLGEuZW5kKCkpKX19OwpteEFycm93Q29ubmVjdG9yLnByb3RvdHlwZS5wYWludE1hcmtlcj1mdW5jdGlvbihhLGIsYyxkLGUsZixnLGssbCxtKXtnPWsvZzt2YXIgbj1rKmUvMjtrPS1rKmQvMjt2YXIgcD0obCtmKSpkO2Y9KGwrZikqZTttP2EubW92ZVRvKGItbitwLGMtaytmKTphLmxpbmVUbyhiLW4rcCxjLWsrZik7YS5saW5lVG8oYi1uL2crcCxjLWsvZytmKTthLmxpbmVUbyhiK2wqZCxjK2wqZSk7YS5saW5lVG8oYituL2crcCxjK2svZytmKTthLmxpbmVUbyhiK24rcCxjK2srZil9O214QXJyb3dDb25uZWN0b3IucHJvdG90eXBlLmlzQXJyb3dSb3VuZGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNSb3VuZGVkfTtteEFycm93Q29ubmVjdG9yLnByb3RvdHlwZS5nZXRTdGFydEFycm93V2lkdGg9ZnVuY3Rpb24oKXtyZXR1cm4gbXhDb25zdGFudHMuQVJST1dfV0lEVEh9O214QXJyb3dDb25uZWN0b3IucHJvdG90eXBlLmdldEVuZEFycm93V2lkdGg9ZnVuY3Rpb24oKXtyZXR1cm4gbXhDb25zdGFudHMuQVJST1dfV0lEVEh9OwpteEFycm93Q29ubmVjdG9yLnByb3RvdHlwZS5nZXRFZGdlV2lkdGg9ZnVuY3Rpb24oKXtyZXR1cm4gbXhDb25zdGFudHMuQVJST1dfV0lEVEgvM307bXhBcnJvd0Nvbm5lY3Rvci5wcm90b3R5cGUuaXNPcGVuRW5kZWQ9ZnVuY3Rpb24oKXtyZXR1cm4hMX07bXhBcnJvd0Nvbm5lY3Rvci5wcm90b3R5cGUuaXNNYXJrZXJTdGFydD1mdW5jdGlvbigpe3JldHVybiBteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfU1RBUlRBUlJPVyxteENvbnN0YW50cy5OT05FKSE9bXhDb25zdGFudHMuTk9ORX07bXhBcnJvd0Nvbm5lY3Rvci5wcm90b3R5cGUuaXNNYXJrZXJFbmQ9ZnVuY3Rpb24oKXtyZXR1cm4gbXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0VOREFSUk9XLG14Q29uc3RhbnRzLk5PTkUpIT1teENvbnN0YW50cy5OT05FfTsKZnVuY3Rpb24gbXhUZXh0KGEsYixjLGQsZSxmLGcsayxsLG0sbixwLHEscix0LHUseCx5LEIsQSx6KXtteFNoYXBlLmNhbGwodGhpcyk7dGhpcy52YWx1ZT1hO3RoaXMuYm91bmRzPWI7dGhpcy5jb2xvcj1udWxsIT1lP2U6ImJsYWNrIjt0aGlzLmFsaWduPW51bGwhPWM/YzpteENvbnN0YW50cy5BTElHTl9DRU5URVI7dGhpcy52YWxpZ249bnVsbCE9ZD9kOm14Q29uc3RhbnRzLkFMSUdOX01JRERMRTt0aGlzLmZhbWlseT1udWxsIT1mP2Y6bXhDb25zdGFudHMuREVGQVVMVF9GT05URkFNSUxZO3RoaXMuc2l6ZT1udWxsIT1nP2c6bXhDb25zdGFudHMuREVGQVVMVF9GT05UU0laRTt0aGlzLmZvbnRTdHlsZT1udWxsIT1rP2s6bXhDb25zdGFudHMuREVGQVVMVF9GT05UU1RZTEU7dGhpcy5zcGFjaW5nPXBhcnNlSW50KGx8fDIpO3RoaXMuc3BhY2luZ1RvcD10aGlzLnNwYWNpbmcrcGFyc2VJbnQobXx8MCk7dGhpcy5zcGFjaW5nUmlnaHQ9dGhpcy5zcGFjaW5nK3BhcnNlSW50KG58fDApOwp0aGlzLnNwYWNpbmdCb3R0b209dGhpcy5zcGFjaW5nK3BhcnNlSW50KHB8fDApO3RoaXMuc3BhY2luZ0xlZnQ9dGhpcy5zcGFjaW5nK3BhcnNlSW50KHF8fDApO3RoaXMuaG9yaXpvbnRhbD1udWxsIT1yP3I6ITA7dGhpcy5iYWNrZ3JvdW5kPXQ7dGhpcy5ib3JkZXI9dTt0aGlzLndyYXA9bnVsbCE9eD94OiExO3RoaXMuY2xpcHBlZD1udWxsIT15P3k6ITE7dGhpcy5vdmVyZmxvdz1udWxsIT1CP0I6InZpc2libGUiO3RoaXMubGFiZWxQYWRkaW5nPW51bGwhPUE/QTowO3RoaXMudGV4dERpcmVjdGlvbj16O3RoaXMucm90YXRpb249MDt0aGlzLnVwZGF0ZU1hcmdpbigpfW14VXRpbHMuZXh0ZW5kKG14VGV4dCxteFNoYXBlKTtteFRleHQucHJvdG90eXBlLmJhc2VTcGFjaW5nVG9wPTA7bXhUZXh0LnByb3RvdHlwZS5iYXNlU3BhY2luZ0JvdHRvbT0wO214VGV4dC5wcm90b3R5cGUuYmFzZVNwYWNpbmdMZWZ0PTA7bXhUZXh0LnByb3RvdHlwZS5iYXNlU3BhY2luZ1JpZ2h0PTA7Cm14VGV4dC5wcm90b3R5cGUucmVwbGFjZUxpbmVmZWVkcz0hMDtteFRleHQucHJvdG90eXBlLnZlcnRpY2FsVGV4dFJvdGF0aW9uPS05MDtteFRleHQucHJvdG90eXBlLmlnbm9yZUNsaXBwZWRTdHJpbmdTaXplPSEwO214VGV4dC5wcm90b3R5cGUuaWdub3JlU3RyaW5nU2l6ZT0hMTtteFRleHQucHJvdG90eXBlLnRleHRXaWR0aFBhZGRpbmc9OCE9ZG9jdW1lbnQuZG9jdW1lbnRNb2RlfHxteENsaWVudC5JU19FTT8zOjQ7bXhUZXh0LnByb3RvdHlwZS5sYXN0VmFsdWU9bnVsbDtteFRleHQucHJvdG90eXBlLmNhY2hlRW5hYmxlZD0hMDtteFRleHQucHJvdG90eXBlLmlzUGFyc2VWbWw9ZnVuY3Rpb24oKXtyZXR1cm4hMX07bXhUZXh0LnByb3RvdHlwZS5pc0h0bWxBbGxvd2VkPWZ1bmN0aW9uKCl7cmV0dXJuIDghPWRvY3VtZW50LmRvY3VtZW50TW9kZXx8bXhDbGllbnQuSVNfRU19O214VGV4dC5wcm90b3R5cGUuZ2V0U3ZnU2NyZWVuT2Zmc2V0PWZ1bmN0aW9uKCl7cmV0dXJuIDB9OwpteFRleHQucHJvdG90eXBlLmNoZWNrQm91bmRzPWZ1bmN0aW9uKCl7cmV0dXJuIWlzTmFOKHRoaXMuc2NhbGUpJiZpc0Zpbml0ZSh0aGlzLnNjYWxlKSYmMDx0aGlzLnNjYWxlJiZudWxsIT10aGlzLmJvdW5kcyYmIWlzTmFOKHRoaXMuYm91bmRzLngpJiYhaXNOYU4odGhpcy5ib3VuZHMueSkmJiFpc05hTih0aGlzLmJvdW5kcy53aWR0aCkmJiFpc05hTih0aGlzLmJvdW5kcy5oZWlnaHQpfTsKbXhUZXh0LnByb3RvdHlwZS5wYWludD1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuc2NhbGUsZD10aGlzLmJvdW5kcy54L2MsZT10aGlzLmJvdW5kcy55L2MsZj10aGlzLmJvdW5kcy53aWR0aC9jLGM9dGhpcy5ib3VuZHMuaGVpZ2h0L2M7dGhpcy51cGRhdGVUcmFuc2Zvcm0oYSxkLGUsZixjKTt0aGlzLmNvbmZpZ3VyZUNhbnZhcyhhLGQsZSxmLGMpO2lmKGIpYS51cGRhdGVUZXh0KGQsZSxmLGMsdGhpcy5hbGlnbix0aGlzLnZhbGlnbix0aGlzLndyYXAsdGhpcy5vdmVyZmxvdyx0aGlzLmNsaXBwZWQsdGhpcy5nZXRUZXh0Um90YXRpb24oKSx0aGlzLm5vZGUpO2Vsc2V7dmFyIGc9bXhVdGlscy5pc05vZGUodGhpcy52YWx1ZSl8fHRoaXMuZGlhbGVjdD09bXhDb25zdGFudHMuRElBTEVDVF9TVFJJQ1RIVE1MLGs9Z3x8YSBpbnN0YW5jZW9mIG14Vm1sQ2FudmFzMkQ/Imh0bWwiOiIiLGw9dGhpcy52YWx1ZTtnfHwiaHRtbCIhPWt8fChsPW14VXRpbHMuaHRtbEVudGl0aWVzKGwsITEpKTsKImh0bWwiIT1rfHxteFV0aWxzLmlzTm9kZSh0aGlzLnZhbHVlKXx8KGw9bXhVdGlscy5yZXBsYWNlVHJhaWxpbmdOZXdsaW5lcyhsLCI8ZGl2Pjxicj48L2Rpdj4iKSk7dmFyIGw9IW14VXRpbHMuaXNOb2RlKHRoaXMudmFsdWUpJiZ0aGlzLnJlcGxhY2VMaW5lZmVlZHMmJiJodG1sIj09az9sLnJlcGxhY2UoL1xuL2csIjxici8+Iik6bCxtPXRoaXMudGV4dERpcmVjdGlvbjttIT1teENvbnN0YW50cy5URVhUX0RJUkVDVElPTl9BVVRPfHxnfHwobT10aGlzLmdldEF1dG9EaXJlY3Rpb24oKSk7bSE9bXhDb25zdGFudHMuVEVYVF9ESVJFQ1RJT05fTFRSJiZtIT1teENvbnN0YW50cy5URVhUX0RJUkVDVElPTl9SVEwmJihtPW51bGwpO2EudGV4dChkLGUsZixjLGwsdGhpcy5hbGlnbix0aGlzLnZhbGlnbix0aGlzLndyYXAsayx0aGlzLm92ZXJmbG93LHRoaXMuY2xpcHBlZCx0aGlzLmdldFRleHRSb3RhdGlvbigpLG0pfX07Cm14VGV4dC5wcm90b3R5cGUucmVkcmF3PWZ1bmN0aW9uKCl7aWYodGhpcy52aXNpYmxlJiZ0aGlzLmNoZWNrQm91bmRzKCkmJnRoaXMuY2FjaGVFbmFibGVkJiZ0aGlzLmxhc3RWYWx1ZT09dGhpcy52YWx1ZSYmKG14VXRpbHMuaXNOb2RlKHRoaXMudmFsdWUpfHx0aGlzLmRpYWxlY3Q9PW14Q29uc3RhbnRzLkRJQUxFQ1RfU1RSSUNUSFRNTCkpaWYoIkRJViIhPXRoaXMubm9kZS5ub2RlTmFtZXx8IXRoaXMuaXNIdG1sQWxsb3dlZCgpJiZteENsaWVudC5JU19WTUwpe3ZhciBhPXRoaXMuY3JlYXRlQ2FudmFzKCk7bnVsbCE9YSYmbnVsbCE9YS51cGRhdGVUZXh0PyhhLnBvaW50ZXJFdmVudHM9dGhpcy5wb2ludGVyRXZlbnRzLHRoaXMucGFpbnQoYSwhMCksdGhpcy5kZXN0cm95Q2FudmFzKGEpLHRoaXMudXBkYXRlQm91bmRpbmdCb3goKSk6bXhTaGFwZS5wcm90b3R5cGUucmVkcmF3LmFwcGx5KHRoaXMsYXJndW1lbnRzKX1lbHNlIG14Q2xpZW50LklTX1NWRz90aGlzLnJlZHJhd0h0bWxTaGFwZVdpdGhDc3MzKCk6Cih0aGlzLnVwZGF0ZVNpemUodGhpcy5ub2RlLG51bGw9PXRoaXMuc3RhdGV8fG51bGw9PXRoaXMuc3RhdGUudmlldy50ZXh0RGl2KSxteENsaWVudC5JU19JRSYmKG51bGw9PWRvY3VtZW50LmRvY3VtZW50TW9kZXx8OD49ZG9jdW1lbnQuZG9jdW1lbnRNb2RlKT90aGlzLnVwZGF0ZUh0bWxGaWx0ZXIoKTp0aGlzLnVwZGF0ZUh0bWxUcmFuc2Zvcm0oKSksdGhpcy51cGRhdGVCb3VuZGluZ0JveCgpO2Vsc2UgbXhTaGFwZS5wcm90b3R5cGUucmVkcmF3LmFwcGx5KHRoaXMsYXJndW1lbnRzKSxteFV0aWxzLmlzTm9kZSh0aGlzLnZhbHVlKXx8dGhpcy5kaWFsZWN0PT1teENvbnN0YW50cy5ESUFMRUNUX1NUUklDVEhUTUw/dGhpcy5sYXN0VmFsdWU9dGhpcy52YWx1ZTp0aGlzLmxhc3RWYWx1ZT1udWxsfTsKbXhUZXh0LnByb3RvdHlwZS5yZXNldFN0eWxlcz1mdW5jdGlvbigpe214U2hhcGUucHJvdG90eXBlLnJlc2V0U3R5bGVzLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLmNvbG9yPSJibGFjayI7dGhpcy5hbGlnbj1teENvbnN0YW50cy5BTElHTl9DRU5URVI7dGhpcy52YWxpZ249bXhDb25zdGFudHMuQUxJR05fTUlERExFO3RoaXMuZmFtaWx5PW14Q29uc3RhbnRzLkRFRkFVTFRfRk9OVEZBTUlMWTt0aGlzLnNpemU9bXhDb25zdGFudHMuREVGQVVMVF9GT05UU0laRTt0aGlzLmZvbnRTdHlsZT1teENvbnN0YW50cy5ERUZBVUxUX0ZPTlRTVFlMRTt0aGlzLnNwYWNpbmdMZWZ0PXRoaXMuc3BhY2luZ0JvdHRvbT10aGlzLnNwYWNpbmdSaWdodD10aGlzLnNwYWNpbmdUb3A9dGhpcy5zcGFjaW5nPTI7dGhpcy5ob3Jpem9udGFsPSEwO2RlbGV0ZSB0aGlzLmJhY2tncm91bmQ7ZGVsZXRlIHRoaXMuYm9yZGVyO3RoaXMudGV4dERpcmVjdGlvbj1teENvbnN0YW50cy5ERUZBVUxUX1RFWFRfRElSRUNUSU9OOwpkZWxldGUgdGhpcy5tYXJnaW59OwpteFRleHQucHJvdG90eXBlLmFwcGx5PWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuc3BhY2luZztteFNoYXBlLnByb3RvdHlwZS5hcHBseS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7bnVsbCE9dGhpcy5zdHlsZSYmKHRoaXMuZm9udFN0eWxlPW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9GT05UU1RZTEUsdGhpcy5mb250U3R5bGUpLHRoaXMuZmFtaWx5PW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9GT05URkFNSUxZLHRoaXMuZmFtaWx5KSx0aGlzLnNpemU9bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0ZPTlRTSVpFLHRoaXMuc2l6ZSksdGhpcy5jb2xvcj1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfRk9OVENPTE9SLHRoaXMuY29sb3IpLHRoaXMuYWxpZ249bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0FMSUdOLAp0aGlzLmFsaWduKSx0aGlzLnZhbGlnbj1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfVkVSVElDQUxfQUxJR04sdGhpcy52YWxpZ24pLHRoaXMuc3BhY2luZz1wYXJzZUludChteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfU1BBQ0lORyx0aGlzLnNwYWNpbmcpKSx0aGlzLnNwYWNpbmdUb3A9cGFyc2VJbnQobXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX1NQQUNJTkdfVE9QLHRoaXMuc3BhY2luZ1RvcC1iKSkrdGhpcy5zcGFjaW5nLHRoaXMuc3BhY2luZ1JpZ2h0PXBhcnNlSW50KG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9TUEFDSU5HX1JJR0hULHRoaXMuc3BhY2luZ1JpZ2h0LWIpKSt0aGlzLnNwYWNpbmcsdGhpcy5zcGFjaW5nQm90dG9tPXBhcnNlSW50KG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9TUEFDSU5HX0JPVFRPTSwKdGhpcy5zcGFjaW5nQm90dG9tLWIpKSt0aGlzLnNwYWNpbmcsdGhpcy5zcGFjaW5nTGVmdD1wYXJzZUludChteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfU1BBQ0lOR19MRUZULHRoaXMuc3BhY2luZ0xlZnQtYikpK3RoaXMuc3BhY2luZyx0aGlzLmhvcml6b250YWw9bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0hPUklaT05UQUwsdGhpcy5ob3Jpem9udGFsKSx0aGlzLmJhY2tncm91bmQ9bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0xBQkVMX0JBQ0tHUk9VTkRDT0xPUix0aGlzLmJhY2tncm91bmQpLHRoaXMuYm9yZGVyPW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9MQUJFTF9CT1JERVJDT0xPUix0aGlzLmJvcmRlciksdGhpcy50ZXh0RGlyZWN0aW9uPW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9URVhUX0RJUkVDVElPTiwKbXhDb25zdGFudHMuREVGQVVMVF9URVhUX0RJUkVDVElPTiksdGhpcy5vcGFjaXR5PW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9URVhUX09QQUNJVFksMTAwKSx0aGlzLnVwZGF0ZU1hcmdpbigpKTt0aGlzLmZsaXBIPXRoaXMuZmxpcFY9bnVsbH07bXhUZXh0LnByb3RvdHlwZS5nZXRBdXRvRGlyZWN0aW9uPWZ1bmN0aW9uKCl7dmFyIGE9L1tBLVphLXpcdTA1ZDAtXHUwNjVmXHUwNjZhLVx1MDZlZlx1MDZmYS1cdTA3ZmZcdWZiMWQtXHVmZGZmXHVmZTcwLVx1ZmVmY10vLmV4ZWModGhpcy52YWx1ZSk7cmV0dXJuIG51bGwhPWEmJjA8YS5sZW5ndGgmJiJ6IjxhWzBdP214Q29uc3RhbnRzLlRFWFRfRElSRUNUSU9OX1JUTDpteENvbnN0YW50cy5URVhUX0RJUkVDVElPTl9MVFJ9OwpteFRleHQucHJvdG90eXBlLmdldENvbnRlbnROb2RlPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5ub2RlO251bGwhPWEmJihhPW51bGw9PWEub3duZXJTVkdFbGVtZW50P3RoaXMubm9kZS5maXJzdENoaWxkLmZpcnN0Q2hpbGQ6YS5maXJzdENoaWxkLmZpcnN0Q2hpbGQuZmlyc3RDaGlsZC5maXJzdENoaWxkLmZpcnN0Q2hpbGQpO3JldHVybiBhfTsKbXhUZXh0LnByb3RvdHlwZS51cGRhdGVCb3VuZGluZ0JveD1mdW5jdGlvbigpe3ZhciBhPXRoaXMubm9kZTt0aGlzLmJvdW5kaW5nQm94PXRoaXMuYm91bmRzLmNsb25lKCk7dmFyIGI9dGhpcy5nZXRUZXh0Um90YXRpb24oKSxjPW51bGwhPXRoaXMuc3R5bGU/bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0xBQkVMX1BPU0lUSU9OLG14Q29uc3RhbnRzLkFMSUdOX0NFTlRFUik6bnVsbCxkPW51bGwhPXRoaXMuc3R5bGU/bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX1ZFUlRJQ0FMX0xBQkVMX1BPU0lUSU9OLG14Q29uc3RhbnRzLkFMSUdOX01JRERMRSk6bnVsbDtpZighKHRoaXMuaWdub3JlU3RyaW5nU2l6ZXx8bnVsbD09YXx8ImZpbGwiPT10aGlzLm92ZXJmbG93fHx0aGlzLmNsaXBwZWQmJnRoaXMuaWdub3JlQ2xpcHBlZFN0cmluZ1NpemUmJmM9PW14Q29uc3RhbnRzLkFMSUdOX0NFTlRFUiYmZD09bXhDb25zdGFudHMuQUxJR05fTUlERExFKSl7ZD0KYz1udWxsO2lmKG51bGwhPWEub3duZXJTVkdFbGVtZW50KWlmKG51bGwhPWEuZmlyc3RDaGlsZCYmbnVsbCE9YS5maXJzdENoaWxkLmZpcnN0Q2hpbGQmJiJmb3JlaWduT2JqZWN0Ij09YS5maXJzdENoaWxkLmZpcnN0Q2hpbGQubm9kZU5hbWUpYT1hLmZpcnN0Q2hpbGQuZmlyc3RDaGlsZC5maXJzdENoaWxkLmZpcnN0Q2hpbGQsZD1hLm9mZnNldEhlaWdodCp0aGlzLnNjYWxlLGM9IndpZHRoIj09dGhpcy5vdmVyZmxvdz90aGlzLmJvdW5kaW5nQm94LndpZHRoOmEub2Zmc2V0V2lkdGgqdGhpcy5zY2FsZTtlbHNlIHRyeXt2YXIgZT1hLmdldEJCb3goKTsic3RyaW5nIj09dHlwZW9mIHRoaXMudmFsdWUmJjA9PW14VXRpbHMudHJpbSh0aGlzLnZhbHVlKT90aGlzLmJvdW5kaW5nQm94PW51bGw6dGhpcy5ib3VuZGluZ0JveD0wPT1lLndpZHRoJiYwPT1lLmhlaWdodD9udWxsOm5ldyBteFJlY3RhbmdsZShlLngsZS55LGUud2lkdGgsZS5oZWlnaHQpO3JldHVybn1jYXRjaChmKXt9ZWxzZXtjPQpudWxsIT10aGlzLnN0YXRlP3RoaXMuc3RhdGUudmlldy50ZXh0RGl2Om51bGw7aWYobnVsbD09dGhpcy5vZmZzZXRXaWR0aHx8bnVsbD09dGhpcy5vZmZzZXRIZWlnaHQpbnVsbCE9YyYmKHRoaXMudXBkYXRlRm9udChjKSx0aGlzLnVwZGF0ZVNpemUoYywhMSksdGhpcy51cGRhdGVJbm5lckh0bWwoYyksYT1jKSxlPWEsOCE9ZG9jdW1lbnQuZG9jdW1lbnRNb2RlfHxteENsaWVudC5JU19FTT9udWxsIT1lLmZpcnN0Q2hpbGQmJiJESVYiPT1lLmZpcnN0Q2hpbGQubm9kZU5hbWUmJihlPWUuZmlyc3RDaGlsZCk6KGQ9TWF0aC5yb3VuZCh0aGlzLmJvdW5kcy53aWR0aC90aGlzLnNjYWxlKSx0aGlzLndyYXAmJjA8ZD8oYS5zdHlsZS53b3JkV3JhcD1teENvbnN0YW50cy5XT1JEX1dSQVAsYS5zdHlsZS53aGl0ZVNwYWNlPSJub3JtYWwiLCJicmVhay13b3JkIiE9YS5zdHlsZS53b3JkV3JhcCYmKGE9ZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiZGl2IiksMDxhLmxlbmd0aCYmKGU9YVthLmxlbmd0aC0KMV0pLGM9ZS5vZmZzZXRXaWR0aCsyLGE9dGhpcy5ub2RlLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJkaXYiKSx0aGlzLmNsaXBwZWQmJihjPU1hdGgubWluKGQsYykpLDE8YS5sZW5ndGgmJihhW2EubGVuZ3RoLTJdLnN0eWxlLndpZHRoPWMrInB4IikpKTphLnN0eWxlLndoaXRlU3BhY2U9Im5vd3JhcCIpLHRoaXMub2Zmc2V0V2lkdGg9ZS5vZmZzZXRXaWR0aCt0aGlzLnRleHRXaWR0aFBhZGRpbmcsdGhpcy5vZmZzZXRIZWlnaHQ9ZS5vZmZzZXRIZWlnaHQ7Yz10aGlzLm9mZnNldFdpZHRoKnRoaXMuc2NhbGU7ZD10aGlzLm9mZnNldEhlaWdodCp0aGlzLnNjYWxlfW51bGwhPWMmJm51bGwhPWQmJih0aGlzLmJvdW5kaW5nQm94PW5ldyBteFJlY3RhbmdsZSh0aGlzLmJvdW5kcy54LHRoaXMuYm91bmRzLnksYyxkKSl9bnVsbCE9dGhpcy5ib3VuZGluZ0JveCYmKDAhPWI/KGI9bXhVdGlscy5nZXRCb3VuZGluZ0JveChuZXcgbXhSZWN0YW5nbGUodGhpcy5tYXJnaW4ueCp0aGlzLmJvdW5kaW5nQm94LndpZHRoLAp0aGlzLm1hcmdpbi55KnRoaXMuYm91bmRpbmdCb3guaGVpZ2h0LHRoaXMuYm91bmRpbmdCb3gud2lkdGgsdGhpcy5ib3VuZGluZ0JveC5oZWlnaHQpLGIsbmV3IG14UG9pbnQoMCwwKSksdGhpcy51bnJvdGF0ZWRCb3VuZGluZ0JveD1teFJlY3RhbmdsZS5mcm9tUmVjdGFuZ2xlKHRoaXMuYm91bmRpbmdCb3gpLHRoaXMudW5yb3RhdGVkQm91bmRpbmdCb3gueCs9dGhpcy5tYXJnaW4ueCp0aGlzLnVucm90YXRlZEJvdW5kaW5nQm94LndpZHRoLHRoaXMudW5yb3RhdGVkQm91bmRpbmdCb3gueSs9dGhpcy5tYXJnaW4ueSp0aGlzLnVucm90YXRlZEJvdW5kaW5nQm94LmhlaWdodCx0aGlzLmJvdW5kaW5nQm94LngrPWIueCx0aGlzLmJvdW5kaW5nQm94LnkrPWIueSx0aGlzLmJvdW5kaW5nQm94LndpZHRoPWIud2lkdGgsdGhpcy5ib3VuZGluZ0JveC5oZWlnaHQ9Yi5oZWlnaHQpOih0aGlzLmJvdW5kaW5nQm94LngrPXRoaXMubWFyZ2luLngqdGhpcy5ib3VuZGluZ0JveC53aWR0aCx0aGlzLmJvdW5kaW5nQm94LnkrPQp0aGlzLm1hcmdpbi55KnRoaXMuYm91bmRpbmdCb3guaGVpZ2h0LHRoaXMudW5yb3RhdGVkQm91bmRpbmdCb3g9bnVsbCkpfTtteFRleHQucHJvdG90eXBlLmdldFNoYXBlUm90YXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gMH07bXhUZXh0LnByb3RvdHlwZS5nZXRUZXh0Um90YXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9dGhpcy5zdGF0ZSYmbnVsbCE9dGhpcy5zdGF0ZS5zaGFwZT90aGlzLnN0YXRlLnNoYXBlLmdldFRleHRSb3RhdGlvbigpOjB9O214VGV4dC5wcm90b3R5cGUuaXNQYWludEJvdW5kc0ludmVydGVkPWZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMuaG9yaXpvbnRhbCYmbnVsbCE9dGhpcy5zdGF0ZSYmdGhpcy5zdGF0ZS52aWV3LmdyYXBoLm1vZGVsLmlzVmVydGV4KHRoaXMuc3RhdGUuY2VsbCl9OwpteFRleHQucHJvdG90eXBlLmNvbmZpZ3VyZUNhbnZhcz1mdW5jdGlvbihhLGIsYyxkLGUpe214U2hhcGUucHJvdG90eXBlLmNvbmZpZ3VyZUNhbnZhcy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7YS5zZXRGb250Q29sb3IodGhpcy5jb2xvcik7YS5zZXRGb250QmFja2dyb3VuZENvbG9yKHRoaXMuYmFja2dyb3VuZCk7YS5zZXRGb250Qm9yZGVyQ29sb3IodGhpcy5ib3JkZXIpO2Euc2V0Rm9udEZhbWlseSh0aGlzLmZhbWlseSk7YS5zZXRGb250U2l6ZSh0aGlzLnNpemUpO2Euc2V0Rm9udFN0eWxlKHRoaXMuZm9udFN0eWxlKX07Cm14VGV4dC5wcm90b3R5cGUudXBkYXRlVm1sQ29udGFpbmVyPWZ1bmN0aW9uKCl7dGhpcy5ub2RlLnN0eWxlLmxlZnQ9TWF0aC5yb3VuZCh0aGlzLmJvdW5kcy54KSsicHgiO3RoaXMubm9kZS5zdHlsZS50b3A9TWF0aC5yb3VuZCh0aGlzLmJvdW5kcy55KSsicHgiO3RoaXMubm9kZS5zdHlsZS53aWR0aD0iMXB4Ijt0aGlzLm5vZGUuc3R5bGUuaGVpZ2h0PSIxcHgiO3RoaXMubm9kZS5zdHlsZS5vdmVyZmxvdz0idmlzaWJsZSJ9O214VGV4dC5wcm90b3R5cGUuZ2V0SHRtbFZhbHVlPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy52YWx1ZTt0aGlzLmRpYWxlY3QhPW14Q29uc3RhbnRzLkRJQUxFQ1RfU1RSSUNUSFRNTCYmKGE9bXhVdGlscy5odG1sRW50aXRpZXMoYSwhMSkpO2E9bXhVdGlscy5yZXBsYWNlVHJhaWxpbmdOZXdsaW5lcyhhLCI8ZGl2Pjxicj48L2Rpdj4iKTtyZXR1cm4gdGhpcy5yZXBsYWNlTGluZWZlZWRzP2EucmVwbGFjZSgvXG4vZywiPGJyLz4iKTphfTsKbXhUZXh0LnByb3RvdHlwZS5nZXRUZXh0Q3NzPWZ1bmN0aW9uKCl7dmFyIGE9ImRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAiK3RoaXMuc2l6ZSsicHg7IGZvbnQtZmFtaWx5OiAiK3RoaXMuZmFtaWx5KyI7IGNvbG9yOiAiK3RoaXMuY29sb3IrIjsgbGluZS1oZWlnaHQ6ICIrKG14Q29uc3RhbnRzLkFCU09MVVRFX0xJTkVfSEVJR0hUP3RoaXMuc2l6ZSpteENvbnN0YW50cy5MSU5FX0hFSUdIVCsicHgiOm14Q29uc3RhbnRzLkxJTkVfSEVJR0hUKSsiOyBwb2ludGVyLWV2ZW50czogIisodGhpcy5wb2ludGVyRXZlbnRzPyJhbGwiOiJub25lIikrIjsgIjsodGhpcy5mb250U3R5bGUmbXhDb25zdGFudHMuRk9OVF9CT0xEKT09bXhDb25zdGFudHMuRk9OVF9CT0xEJiYoYSs9ImZvbnQtd2VpZ2h0OiBib2xkOyAiKTsodGhpcy5mb250U3R5bGUmbXhDb25zdGFudHMuRk9OVF9JVEFMSUMpPT1teENvbnN0YW50cy5GT05UX0lUQUxJQyYmKGErPSJmb250LXN0eWxlOiBpdGFsaWM7ICIpOwp2YXIgYj1bXTsodGhpcy5mb250U3R5bGUmbXhDb25zdGFudHMuRk9OVF9VTkRFUkxJTkUpPT1teENvbnN0YW50cy5GT05UX1VOREVSTElORSYmYi5wdXNoKCJ1bmRlcmxpbmUiKTsodGhpcy5mb250U3R5bGUmbXhDb25zdGFudHMuRk9OVF9TVFJJS0VUSFJPVUdIKT09bXhDb25zdGFudHMuRk9OVF9TVFJJS0VUSFJPVUdIJiZiLnB1c2goImxpbmUtdGhyb3VnaCIpOzA8Yi5sZW5ndGgmJihhKz0idGV4dC1kZWNvcmF0aW9uOiAiK2Iuam9pbigiICIpKyI7ICIpO3JldHVybiBhfTsKbXhUZXh0LnByb3RvdHlwZS5yZWRyYXdIdG1sU2hhcGU9ZnVuY3Rpb24oKXtpZihteENsaWVudC5JU19TVkcpdGhpcy5yZWRyYXdIdG1sU2hhcGVXaXRoQ3NzMygpO2Vsc2V7dmFyIGE9dGhpcy5ub2RlLnN0eWxlO2Eud2hpdGVTcGFjZT0ibm9ybWFsIjthLm92ZXJmbG93PSIiO2Eud2lkdGg9IiI7YS5oZWlnaHQ9IiI7dGhpcy51cGRhdGVWYWx1ZSgpO3RoaXMudXBkYXRlRm9udCh0aGlzLm5vZGUpO3RoaXMudXBkYXRlU2l6ZSh0aGlzLm5vZGUsbnVsbD09dGhpcy5zdGF0ZXx8bnVsbD09dGhpcy5zdGF0ZS52aWV3LnRleHREaXYpO3RoaXMub2Zmc2V0SGVpZ2h0PXRoaXMub2Zmc2V0V2lkdGg9bnVsbDtteENsaWVudC5JU19JRSYmKG51bGw9PWRvY3VtZW50LmRvY3VtZW50TW9kZXx8OD49ZG9jdW1lbnQuZG9jdW1lbnRNb2RlKT90aGlzLnVwZGF0ZUh0bWxGaWx0ZXIoKTp0aGlzLnVwZGF0ZUh0bWxUcmFuc2Zvcm0oKX19OwpteFRleHQucHJvdG90eXBlLnJlZHJhd0h0bWxTaGFwZVdpdGhDc3MzPWZ1bmN0aW9uKCl7dmFyIGE9TWF0aC5tYXgoMCxNYXRoLnJvdW5kKHRoaXMuYm91bmRzLndpZHRoL3RoaXMuc2NhbGUpKSxiPU1hdGgubWF4KDAsTWF0aC5yb3VuZCh0aGlzLmJvdW5kcy5oZWlnaHQvdGhpcy5zY2FsZSkpLGM9InBvc2l0aW9uOiBhYnNvbHV0ZTsgbGVmdDogIitNYXRoLnJvdW5kKHRoaXMuYm91bmRzLngpKyJweDsgdG9wOiAiK01hdGgucm91bmQodGhpcy5ib3VuZHMueSkrInB4OyBwb2ludGVyLWV2ZW50czogbm9uZTsgIixkPXRoaXMuZ2V0VGV4dENzcygpO214U3ZnQ2FudmFzMkQuY3JlYXRlQ3NzKGErMixiLHRoaXMuYWxpZ24sdGhpcy52YWxpZ24sdGhpcy53cmFwLHRoaXMub3ZlcmZsb3csdGhpcy5jbGlwcGVkLG51bGwhPXRoaXMuYmFja2dyb3VuZD9teFV0aWxzLmh0bWxFbnRpdGllcyh0aGlzLmJhY2tncm91bmQpOm51bGwsbnVsbCE9dGhpcy5ib3JkZXI/bXhVdGlscy5odG1sRW50aXRpZXModGhpcy5ib3JkZXIpOgpudWxsLGMsZCx0aGlzLnNjYWxlLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEsYixjLGQsbCxtKXthPXRoaXMuZ2V0VGV4dFJvdGF0aW9uKCk7YT0oMSE9dGhpcy5zY2FsZT8ic2NhbGUoIit0aGlzLnNjYWxlKyIpICI6IiIpKygwIT1hPyJyb3RhdGUoIithKyJkZWcpICI6IiIpKygwIT10aGlzLm1hcmdpbi54fHwwIT10aGlzLm1hcmdpbi55PyJ0cmFuc2xhdGUoIisxMDAqdGhpcy5tYXJnaW4ueCsiJSwiKzEwMCp0aGlzLm1hcmdpbi55KyIlKSI6IiIpOyIiIT1hJiYoYT0idHJhbnNmb3JtLW9yaWdpbjogMCAwOyB0cmFuc2Zvcm06ICIrYSsiOyAiKTsiIj09bT8oYys9ZCxkPSJkaXNwbGF5OmlubGluZS1ibG9jazsgbWluLXdpZHRoOiAxMDAlOyAiK2EpOmQrPWE7MTAwPnRoaXMub3BhY2l0eSYmKGwrPSJvcGFjaXR5OiAiK3RoaXMub3BhY2l0eS8xMDArIjsgIik7dGhpcy5ub2RlLnNldEF0dHJpYnV0ZSgic3R5bGUiLGMpO2M9bXhVdGlscy5pc05vZGUodGhpcy52YWx1ZSk/dGhpcy52YWx1ZS5vdXRlckhUTUw6CnRoaXMuZ2V0SHRtbFZhbHVlKCk7bnVsbD09dGhpcy5ub2RlLmZpcnN0Q2hpbGQmJih0aGlzLm5vZGUuaW5uZXJIVE1MPSI8ZGl2PjxkaXY+IitjKyI8L2Rpdj48L2Rpdj4iKTt0aGlzLm5vZGUuZmlyc3RDaGlsZC5maXJzdENoaWxkLnNldEF0dHJpYnV0ZSgic3R5bGUiLGwpO3RoaXMubm9kZS5maXJzdENoaWxkLnNldEF0dHJpYnV0ZSgic3R5bGUiLGQpfSkpfTsKbXhUZXh0LnByb3RvdHlwZS51cGRhdGVIdG1sVHJhbnNmb3JtPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXRUZXh0Um90YXRpb24oKSxiPXRoaXMubm9kZS5zdHlsZSxjPXRoaXMubWFyZ2luLngsZD10aGlzLm1hcmdpbi55OzAhPWE/KG14VXRpbHMuc2V0UHJlZml4ZWRTdHlsZShiLCJ0cmFuc2Zvcm1PcmlnaW4iLDEwMCotYysiJSAiKzEwMCotZCsiJSIpLG14VXRpbHMuc2V0UHJlZml4ZWRTdHlsZShiLCJ0cmFuc2Zvcm0iLCJ0cmFuc2xhdGUoIisxMDAqYysiJSwiKzEwMCpkKyIlKSBzY2FsZSgiK3RoaXMuc2NhbGUrIikgcm90YXRlKCIrYSsiZGVnKSIpKToobXhVdGlscy5zZXRQcmVmaXhlZFN0eWxlKGIsInRyYW5zZm9ybU9yaWdpbiIsIjAlIDAlIiksbXhVdGlscy5zZXRQcmVmaXhlZFN0eWxlKGIsInRyYW5zZm9ybSIsInNjYWxlKCIrdGhpcy5zY2FsZSsiKSB0cmFuc2xhdGUoIisxMDAqYysiJSwiKzEwMCpkKyIlKSIpKTtiLmxlZnQ9TWF0aC5yb3VuZCh0aGlzLmJvdW5kcy54LQpNYXRoLmNlaWwoYyooImZpbGwiIT10aGlzLm92ZXJmbG93JiYid2lkdGgiIT10aGlzLm92ZXJmbG93PzM6MSkpKSsicHgiO2IudG9wPU1hdGgucm91bmQodGhpcy5ib3VuZHMueS1kKigiZmlsbCIhPXRoaXMub3ZlcmZsb3c/MzoxKSkrInB4IjtiLm9wYWNpdHk9MTAwPnRoaXMub3BhY2l0eT90aGlzLm9wYWNpdHkvMTAwOiIifTsKbXhUZXh0LnByb3RvdHlwZS51cGRhdGVJbm5lckh0bWw9ZnVuY3Rpb24oYSl7aWYobXhVdGlscy5pc05vZGUodGhpcy52YWx1ZSkpYS5pbm5lckhUTUw9dGhpcy52YWx1ZS5vdXRlckhUTUw7ZWxzZXt2YXIgYj10aGlzLnZhbHVlO3RoaXMuZGlhbGVjdCE9bXhDb25zdGFudHMuRElBTEVDVF9TVFJJQ1RIVE1MJiYoYj1teFV0aWxzLmh0bWxFbnRpdGllcyhiLCExKSk7Yj1teFV0aWxzLnJlcGxhY2VUcmFpbGluZ05ld2xpbmVzKGIsIjxkaXY+Jm5ic3A7PC9kaXY+Iik7Yj10aGlzLnJlcGxhY2VMaW5lZmVlZHM/Yi5yZXBsYWNlKC9cbi9nLCI8YnIvPiIpOmI7YS5pbm5lckhUTUw9JzxkaXYgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO19kaXNwbGF5OmlubGluZTsiPicrYisiPC9kaXY+In19OwpteFRleHQucHJvdG90eXBlLnVwZGF0ZUh0bWxGaWx0ZXI9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm5vZGUuc3R5bGUsYj10aGlzLm1hcmdpbi54LGM9dGhpcy5tYXJnaW4ueSxkPXRoaXMuc2NhbGU7bXhVdGlscy5zZXRPcGFjaXR5KHRoaXMubm9kZSx0aGlzLm9wYWNpdHkpO3ZhciBlLGY9MCxnPW51bGwhPXRoaXMuc3RhdGU/dGhpcy5zdGF0ZS52aWV3LnRleHREaXY6bnVsbCxrPXRoaXMubm9kZTtpZihudWxsIT1nKXtnLnN0eWxlLm92ZXJmbG93PSIiO2cuc3R5bGUuaGVpZ2h0PSIiO2cuc3R5bGUud2lkdGg9IiI7dGhpcy51cGRhdGVGb250KGcpO3RoaXMudXBkYXRlU2l6ZShnLCExKTt0aGlzLnVwZGF0ZUlubmVySHRtbChnKTt2YXIgbD1NYXRoLnJvdW5kKHRoaXMuYm91bmRzLndpZHRoL3RoaXMuc2NhbGUpO3RoaXMud3JhcCYmMDxsPyhnLnN0eWxlLndoaXRlU3BhY2U9Im5vcm1hbCIsZy5zdHlsZS53b3JkV3JhcD1teENvbnN0YW50cy5XT1JEX1dSQVAsZT1sLHRoaXMuY2xpcHBlZCYmCihlPU1hdGgubWluKGUsdGhpcy5ib3VuZHMud2lkdGgpKSxnLnN0eWxlLndpZHRoPWUrInB4Iik6Zy5zdHlsZS53aGl0ZVNwYWNlPSJub3dyYXAiO2s9ZztudWxsIT1rLmZpcnN0Q2hpbGQmJiJESVYiPT1rLmZpcnN0Q2hpbGQubm9kZU5hbWUmJihrPWsuZmlyc3RDaGlsZCx0aGlzLndyYXAmJiJicmVhay13b3JkIj09Zy5zdHlsZS53b3JkV3JhcCYmKGsuc3R5bGUud2lkdGg9IjEwMCUiKSk7IXRoaXMuY2xpcHBlZCYmdGhpcy53cmFwJiYwPGwmJihlPWsub2Zmc2V0V2lkdGgrdGhpcy50ZXh0V2lkdGhQYWRkaW5nLGcuc3R5bGUud2lkdGg9ZSsicHgiKTtmPWsub2Zmc2V0SGVpZ2h0KzI7bXhDbGllbnQuSVNfUVVJUktTJiZudWxsIT10aGlzLmJvcmRlciYmdGhpcy5ib3JkZXIhPW14Q29uc3RhbnRzLk5PTkUmJihmKz0zKX1lbHNlIG51bGwhPWsuZmlyc3RDaGlsZCYmIkRJViI9PWsuZmlyc3RDaGlsZC5ub2RlTmFtZSYmKGs9ay5maXJzdENoaWxkLGY9ay5vZmZzZXRIZWlnaHQpO2U9ay5vZmZzZXRXaWR0aCsKdGhpcy50ZXh0V2lkdGhQYWRkaW5nO3RoaXMuY2xpcHBlZCYmKGY9TWF0aC5taW4oZix0aGlzLmJvdW5kcy5oZWlnaHQpKTtsPXRoaXMuYm91bmRzLndpZHRoL2Q7Zz10aGlzLmJvdW5kcy5oZWlnaHQvZDsiZmlsbCI9PXRoaXMub3ZlcmZsb3c/KGY9ZyxlPWwpOiJ3aWR0aCI9PXRoaXMub3ZlcmZsb3cmJihmPWsuc2Nyb2xsSGVpZ2h0LGU9bCk7dGhpcy5vZmZzZXRXaWR0aD1lO3RoaXMub2Zmc2V0SGVpZ2h0PWY7bXhDbGllbnQuSVNfUVVJUktTJiYodGhpcy5jbGlwcGVkfHwid2lkdGgiPT10aGlzLm92ZXJmbG93JiYwPGcpPyhnPU1hdGgubWluKGcsZiksYS5oZWlnaHQ9TWF0aC5yb3VuZChnKSsicHgiKTpnPWY7ImZpbGwiIT10aGlzLm92ZXJmbG93JiYid2lkdGgiIT10aGlzLm92ZXJmbG93JiYodGhpcy5jbGlwcGVkJiYoZT1NYXRoLm1pbihsLGUpKSxsPWUsbXhDbGllbnQuSVNfUVVJUktTJiZ0aGlzLmNsaXBwZWR8fHRoaXMud3JhcCkmJihhLndpZHRoPU1hdGgucm91bmQobCkrCiJweCIpO3ZhciBnPWcqZCxsPWwqZCxtPXRoaXMuZ2V0VGV4dFJvdGF0aW9uKCkqKE1hdGguUEkvMTgwKTtlPXBhcnNlRmxvYXQocGFyc2VGbG9hdChNYXRoLmNvcyhtKSkudG9GaXhlZCg4KSk7Zj1wYXJzZUZsb2F0KHBhcnNlRmxvYXQoTWF0aC5zaW4oLW0pKS50b0ZpeGVkKDgpKTttJT0yKk1hdGguUEk7MD5tJiYobSs9MipNYXRoLlBJKTttJT1NYXRoLlBJO20+TWF0aC5QSS8yJiYobT1NYXRoLlBJLW0pO3ZhciBrPU1hdGguY29zKG0pLG49TWF0aC5zaW4oLW0pLGI9bCotKGIrLjUpLHA9ZyotKGMrLjUpOzAhPW0mJihjPSJwcm9naWQ6RFhJbWFnZVRyYW5zZm9ybS5NaWNyb3NvZnQuTWF0cml4KE0xMT0iK2UrIiwgTTEyPSIrZisiLCBNMjE9IistZisiLCBNMjI9IitlKyIsIHNpemluZ01ldGhvZD0nYXV0byBleHBhbmQnKSIsYS5maWx0ZXI9bnVsbCE9YS5maWx0ZXImJjA8YS5maWx0ZXIubGVuZ3RoP2EuZmlsdGVyKygiICIrYyk6Yyk7Yz0wOyJmaWxsIiE9dGhpcy5vdmVyZmxvdyYmCm14Q2xpZW50LklTX1FVSVJLUyYmKGM9dGhpcy52YWxpZ249PW14Q29uc3RhbnRzLkFMSUdOX1RPUD9jLTE6dGhpcy52YWxpZ249PW14Q29uc3RhbnRzLkFMSUdOX0JPVFRPTT9jKzI6YysxKTthLnpvb209ZDthLmxlZnQ9TWF0aC5yb3VuZCh0aGlzLmJvdW5kcy54KygobC1sKmsrZypuKS8yLWUqYi1mKnApLWwvMikrInB4IjthLnRvcD1NYXRoLnJvdW5kKHRoaXMuYm91bmRzLnkrKChnLWcqaytsKm4pLzIrZipiLWUqcCktZy8yK2MpKyJweCJ9OwpteFRleHQucHJvdG90eXBlLnVwZGF0ZVZhbHVlPWZ1bmN0aW9uKCl7aWYobXhVdGlscy5pc05vZGUodGhpcy52YWx1ZSkpdGhpcy5ub2RlLmlubmVySFRNTD0iIix0aGlzLm5vZGUuYXBwZW5kQ2hpbGQodGhpcy52YWx1ZSk7ZWxzZXt2YXIgYT10aGlzLnZhbHVlO3RoaXMuZGlhbGVjdCE9bXhDb25zdGFudHMuRElBTEVDVF9TVFJJQ1RIVE1MJiYoYT1teFV0aWxzLmh0bWxFbnRpdGllcyhhLCExKSk7dmFyIGE9bXhVdGlscy5yZXBsYWNlVHJhaWxpbmdOZXdsaW5lcyhhLCI8ZGl2Pjxicj48L2Rpdj4iKSxhPXRoaXMucmVwbGFjZUxpbmVmZWVkcz9hLnJlcGxhY2UoL1xuL2csIjxici8+Iik6YSxiPW51bGwhPXRoaXMuYmFja2dyb3VuZCYmdGhpcy5iYWNrZ3JvdW5kIT1teENvbnN0YW50cy5OT05FP3RoaXMuYmFja2dyb3VuZDpudWxsLGM9bnVsbCE9dGhpcy5ib3JkZXImJnRoaXMuYm9yZGVyIT1teENvbnN0YW50cy5OT05FP3RoaXMuYm9yZGVyOm51bGw7aWYoImZpbGwiPT10aGlzLm92ZXJmbG93fHwKIndpZHRoIj09dGhpcy5vdmVyZmxvdyludWxsIT1iJiYodGhpcy5ub2RlLnN0eWxlLmJhY2tncm91bmRDb2xvcj1iKSxudWxsIT1jJiYodGhpcy5ub2RlLnN0eWxlLmJvcmRlcj0iMXB4IHNvbGlkICIrYyk7ZWxzZXt2YXIgZD0iIjtudWxsIT1iJiYoZCs9ImJhY2tncm91bmQtY29sb3I6IitteFV0aWxzLmh0bWxFbnRpdGllcyhiKSsiOyIpO251bGwhPWMmJihkKz0iYm9yZGVyOjFweCBzb2xpZCAiK214VXRpbHMuaHRtbEVudGl0aWVzKGMpKyI7Iik7YT0nPGRpdiBzdHlsZT0iem9vbToxOycrZCsiZGlzcGxheTppbmxpbmUtYmxvY2s7X2Rpc3BsYXk6aW5saW5lO3RleHQtZGVjb3JhdGlvbjppbmhlcml0O3BhZGRpbmctYm90dG9tOjFweDtwYWRkaW5nLXJpZ2h0OjFweDtsaW5lLWhlaWdodDoiKyhteENvbnN0YW50cy5BQlNPTFVURV9MSU5FX0hFSUdIVD90aGlzLnNpemUqbXhDb25zdGFudHMuTElORV9IRUlHSFQrInB4IjpteENvbnN0YW50cy5MSU5FX0hFSUdIVCkrJyI+JythKyI8L2Rpdj4ifXRoaXMubm9kZS5pbm5lckhUTUw9CmE7YT10aGlzLm5vZGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImRpdiIpOzA8YS5sZW5ndGgmJihiPXRoaXMudGV4dERpcmVjdGlvbixiPT1teENvbnN0YW50cy5URVhUX0RJUkVDVElPTl9BVVRPJiZ0aGlzLmRpYWxlY3QhPW14Q29uc3RhbnRzLkRJQUxFQ1RfU1RSSUNUSFRNTCYmKGI9dGhpcy5nZXRBdXRvRGlyZWN0aW9uKCkpLGI9PW14Q29uc3RhbnRzLlRFWFRfRElSRUNUSU9OX0xUUnx8Yj09bXhDb25zdGFudHMuVEVYVF9ESVJFQ1RJT05fUlRMP2FbYS5sZW5ndGgtMV0uc2V0QXR0cmlidXRlKCJkaXIiLGIpOmFbYS5sZW5ndGgtMV0ucmVtb3ZlQXR0cmlidXRlKCJkaXIiKSl9fTsKbXhUZXh0LnByb3RvdHlwZS51cGRhdGVGb250PWZ1bmN0aW9uKGEpe2E9YS5zdHlsZTthLmxpbmVIZWlnaHQ9bXhDb25zdGFudHMuQUJTT0xVVEVfTElORV9IRUlHSFQ/dGhpcy5zaXplKm14Q29uc3RhbnRzLkxJTkVfSEVJR0hUKyJweCI6bXhDb25zdGFudHMuTElORV9IRUlHSFQ7YS5mb250U2l6ZT10aGlzLnNpemUrInB4IjthLmZvbnRGYW1pbHk9dGhpcy5mYW1pbHk7YS52ZXJ0aWNhbEFsaWduPSJ0b3AiO2EuY29sb3I9dGhpcy5jb2xvcjthLmZvbnRXZWlnaHQ9KHRoaXMuZm9udFN0eWxlJm14Q29uc3RhbnRzLkZPTlRfQk9MRCk9PW14Q29uc3RhbnRzLkZPTlRfQk9MRD8iYm9sZCI6IiI7YS5mb250U3R5bGU9KHRoaXMuZm9udFN0eWxlJm14Q29uc3RhbnRzLkZPTlRfSVRBTElDKT09bXhDb25zdGFudHMuRk9OVF9JVEFMSUM/Iml0YWxpYyI6IiI7dmFyIGI9W107KHRoaXMuZm9udFN0eWxlJm14Q29uc3RhbnRzLkZPTlRfVU5ERVJMSU5FKT09bXhDb25zdGFudHMuRk9OVF9VTkRFUkxJTkUmJgpiLnB1c2goInVuZGVybGluZSIpOyh0aGlzLmZvbnRTdHlsZSZteENvbnN0YW50cy5GT05UX1NUUklLRVRIUk9VR0gpPT1teENvbnN0YW50cy5GT05UX1NUUklLRVRIUk9VR0gmJmIucHVzaCgibGluZS10aHJvdWdoIik7YS50ZXh0RGVjb3JhdGlvbj1iLmpvaW4oIiAiKTthLnRleHRBbGlnbj10aGlzLmFsaWduPT1teENvbnN0YW50cy5BTElHTl9DRU5URVI/ImNlbnRlciI6dGhpcy5hbGlnbj09bXhDb25zdGFudHMuQUxJR05fUklHSFQ/InJpZ2h0IjoibGVmdCJ9OwpteFRleHQucHJvdG90eXBlLnVwZGF0ZVNpemU9ZnVuY3Rpb24oYSxiKXt2YXIgYz1NYXRoLm1heCgwLE1hdGgucm91bmQodGhpcy5ib3VuZHMud2lkdGgvdGhpcy5zY2FsZSkpLGQ9TWF0aC5tYXgoMCxNYXRoLnJvdW5kKHRoaXMuYm91bmRzLmhlaWdodC90aGlzLnNjYWxlKSksZT1hLnN0eWxlO3RoaXMuY2xpcHBlZD8oZS5vdmVyZmxvdz0iaGlkZGVuIixteENsaWVudC5JU19RVUlSS1M/ZS53aWR0aD1jKyJweCI6KGUubWF4SGVpZ2h0PWQrInB4IixlLm1heFdpZHRoPWMrInB4IikpOiJmaWxsIj09dGhpcy5vdmVyZmxvdz8oZS53aWR0aD1jKzErInB4IixlLmhlaWdodD1kKzErInB4IixlLm92ZXJmbG93PSJoaWRkZW4iKToid2lkdGgiPT10aGlzLm92ZXJmbG93JiYoZS53aWR0aD1jKzErInB4IixlLm1heEhlaWdodD1kKzErInB4IixlLm92ZXJmbG93PSJoaWRkZW4iKTtpZih0aGlzLndyYXAmJjA8Yyl7aWYoZS53b3JkV3JhcD1teENvbnN0YW50cy5XT1JEX1dSQVAsZS53aGl0ZVNwYWNlPQoibm9ybWFsIixlLndpZHRoPWMrInB4IixiJiYiZmlsbCIhPXRoaXMub3ZlcmZsb3cmJiJ3aWR0aCIhPXRoaXMub3ZlcmZsb3cpe2Q9YTtudWxsIT1kLmZpcnN0Q2hpbGQmJiJESVYiPT1kLmZpcnN0Q2hpbGQubm9kZU5hbWUmJihkPWQuZmlyc3RDaGlsZCwiYnJlYWstd29yZCI9PWEuc3R5bGUud29yZFdyYXAmJihkLnN0eWxlLndpZHRoPSIxMDAlIikpO3ZhciBmPWQub2Zmc2V0V2lkdGg7aWYoMD09Zil7dmFyIGc9YS5wYXJlbnROb2RlO2Euc3R5bGUudmlzaWJpbGl0eT0iaGlkZGVuIjtkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGEpO2Y9ZC5vZmZzZXRXaWR0aDthLnN0eWxlLnZpc2liaWxpdHk9IiI7Zy5hcHBlbmRDaGlsZChhKX1mKz0zO3RoaXMuY2xpcHBlZCYmKGY9TWF0aC5taW4oZixjKSk7ZS53aWR0aD1mKyJweCJ9fWVsc2UgZS53aGl0ZVNwYWNlPSJub3dyYXAifTsKbXhUZXh0LnByb3RvdHlwZS51cGRhdGVNYXJnaW49ZnVuY3Rpb24oKXt0aGlzLm1hcmdpbj1teFV0aWxzLmdldEFsaWdubWVudEFzUG9pbnQodGhpcy5hbGlnbix0aGlzLnZhbGlnbil9OwpteFRleHQucHJvdG90eXBlLmdldFNwYWNpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG14UG9pbnQodGhpcy5hbGlnbj09bXhDb25zdGFudHMuQUxJR05fQ0VOVEVSPyh0aGlzLnNwYWNpbmdMZWZ0LXRoaXMuc3BhY2luZ1JpZ2h0KS8yOnRoaXMuYWxpZ249PW14Q29uc3RhbnRzLkFMSUdOX1JJR0hUPy10aGlzLnNwYWNpbmdSaWdodC10aGlzLmJhc2VTcGFjaW5nUmlnaHQ6dGhpcy5zcGFjaW5nTGVmdCt0aGlzLmJhc2VTcGFjaW5nTGVmdCx0aGlzLnZhbGlnbj09bXhDb25zdGFudHMuQUxJR05fTUlERExFPyh0aGlzLnNwYWNpbmdUb3AtdGhpcy5zcGFjaW5nQm90dG9tKS8yOnRoaXMudmFsaWduPT1teENvbnN0YW50cy5BTElHTl9CT1RUT00/LXRoaXMuc3BhY2luZ0JvdHRvbS10aGlzLmJhc2VTcGFjaW5nQm90dG9tOnRoaXMuc3BhY2luZ1RvcCt0aGlzLmJhc2VTcGFjaW5nVG9wKX07ZnVuY3Rpb24gbXhUcmlhbmdsZSgpe214QWN0b3IuY2FsbCh0aGlzKX0KbXhVdGlscy5leHRlbmQobXhUcmlhbmdsZSxteEFjdG9yKTtteFRyaWFuZ2xlLnByb3RvdHlwZS5pc1JvdW5kYWJsZT1mdW5jdGlvbigpe3JldHVybiEwfTtteFRyaWFuZ2xlLnByb3RvdHlwZS5yZWRyYXdQYXRoPWZ1bmN0aW9uKGEsYixjLGQsZSl7Yj1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfQVJDU0laRSxteENvbnN0YW50cy5MSU5FX0FSQ1NJWkUpLzI7dGhpcy5hZGRQb2ludHMoYSxbbmV3IG14UG9pbnQoMCwwKSxuZXcgbXhQb2ludChkLC41KmUpLG5ldyBteFBvaW50KDAsZSldLHRoaXMuaXNSb3VuZGVkLGIsITApfTtmdW5jdGlvbiBteEhleGFnb24oKXtteEFjdG9yLmNhbGwodGhpcyl9bXhVdGlscy5leHRlbmQobXhIZXhhZ29uLG14QWN0b3IpOwpteEhleGFnb24ucHJvdG90eXBlLnJlZHJhd1BhdGg9ZnVuY3Rpb24oYSxiLGMsZCxlKXtiPW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9BUkNTSVpFLG14Q29uc3RhbnRzLkxJTkVfQVJDU0laRSkvMjt0aGlzLmFkZFBvaW50cyhhLFtuZXcgbXhQb2ludCguMjUqZCwwKSxuZXcgbXhQb2ludCguNzUqZCwwKSxuZXcgbXhQb2ludChkLC41KmUpLG5ldyBteFBvaW50KC43NSpkLGUpLG5ldyBteFBvaW50KC4yNSpkLGUpLG5ldyBteFBvaW50KDAsLjUqZSldLHRoaXMuaXNSb3VuZGVkLGIsITApfTtmdW5jdGlvbiBteExpbmUoYSxiLGMsZCl7bXhTaGFwZS5jYWxsKHRoaXMpO3RoaXMuYm91bmRzPWE7dGhpcy5zdHJva2U9Yjt0aGlzLnN0cm9rZXdpZHRoPW51bGwhPWM/YzoxO3RoaXMudmVydGljYWw9bnVsbCE9ZD9kOnRoaXMudmVydGljYWx9bXhVdGlscy5leHRlbmQobXhMaW5lLG14U2hhcGUpO214TGluZS5wcm90b3R5cGUudmVydGljYWw9ITE7Cm14TGluZS5wcm90b3R5cGUucGFpbnRWZXJ0ZXhTaGFwZT1mdW5jdGlvbihhLGIsYyxkLGUpe2EuYmVnaW4oKTtpZih0aGlzLnZlcnRpY2FsKXt2YXIgZj1iK2QvMjthLm1vdmVUbyhmLGMpO2EubGluZVRvKGYsYytlKX1lbHNlIGY9YytlLzIsYS5tb3ZlVG8oYixmKSxhLmxpbmVUbyhiK2QsZik7YS5zdHJva2UoKX07ZnVuY3Rpb24gbXhJbWFnZVNoYXBlKGEsYixjLGQsZSl7bXhTaGFwZS5jYWxsKHRoaXMpO3RoaXMuYm91bmRzPWE7dGhpcy5pbWFnZT1iO3RoaXMuZmlsbD1jO3RoaXMuc3Ryb2tlPWQ7dGhpcy5zdHJva2V3aWR0aD1udWxsIT1lP2U6MTt0aGlzLnNoYWRvdz0hMX1teFV0aWxzLmV4dGVuZChteEltYWdlU2hhcGUsbXhSZWN0YW5nbGVTaGFwZSk7bXhJbWFnZVNoYXBlLnByb3RvdHlwZS5wcmVzZXJ2ZUltYWdlQXNwZWN0PSEwO214SW1hZ2VTaGFwZS5wcm90b3R5cGUuZ2V0U3ZnU2NyZWVuT2Zmc2V0PWZ1bmN0aW9uKCl7cmV0dXJuIDB9OwpteEltYWdlU2hhcGUucHJvdG90eXBlLmFwcGx5PWZ1bmN0aW9uKGEpe214U2hhcGUucHJvdG90eXBlLmFwcGx5LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLmdyYWRpZW50PXRoaXMuc3Ryb2tlPXRoaXMuZmlsbD1udWxsO251bGwhPXRoaXMuc3R5bGUmJih0aGlzLnByZXNlcnZlSW1hZ2VBc3BlY3Q9MT09bXhVdGlscy5nZXROdW1iZXIodGhpcy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9JTUFHRV9BU1BFQ1QsMSksdGhpcy5mbGlwSD10aGlzLmZsaXBIfHwxPT1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsImltYWdlRmxpcEgiLDApLHRoaXMuZmxpcFY9dGhpcy5mbGlwVnx8MT09bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLCJpbWFnZUZsaXBWIiwwKSl9O214SW1hZ2VTaGFwZS5wcm90b3R5cGUuaXNIdG1sQWxsb3dlZD1mdW5jdGlvbigpe3JldHVybiF0aGlzLnByZXNlcnZlSW1hZ2VBc3BlY3R9OwpteEltYWdlU2hhcGUucHJvdG90eXBlLmNyZWF0ZUh0bWw9ZnVuY3Rpb24oKXt2YXIgYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTthLnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSI7cmV0dXJuIGF9O214SW1hZ2VTaGFwZS5wcm90b3R5cGUuaXNSb3VuZGFibGU9ZnVuY3Rpb24oYSxiLGMsZCxlKXtyZXR1cm4hMX07Cm14SW1hZ2VTaGFwZS5wcm90b3R5cGUucGFpbnRWZXJ0ZXhTaGFwZT1mdW5jdGlvbihhLGIsYyxkLGUpe2lmKG51bGwhPXRoaXMuaW1hZ2Upe3ZhciBmPW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9JTUFHRV9CQUNLR1JPVU5ELG51bGwpLGc9bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0lNQUdFX0JPUkRFUixudWxsKTtudWxsIT1mJiYoYS5zZXRGaWxsQ29sb3IoZiksYS5zZXRTdHJva2VDb2xvcihnKSxhLnJlY3QoYixjLGQsZSksYS5maWxsQW5kU3Ryb2tlKCkpO2EuaW1hZ2UoYixjLGQsZSx0aGlzLmltYWdlLHRoaXMucHJlc2VydmVJbWFnZUFzcGVjdCwhMSwhMSk7Zz1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfSU1BR0VfQk9SREVSLG51bGwpO251bGwhPWcmJihhLnNldFNoYWRvdyghMSksYS5zZXRTdHJva2VDb2xvcihnKSxhLnJlY3QoYixjLGQsZSksYS5zdHJva2UoKSl9ZWxzZSBteFJlY3RhbmdsZVNoYXBlLnByb3RvdHlwZS5wYWludEJhY2tncm91bmQuYXBwbHkodGhpcywKYXJndW1lbnRzKX07Cm14SW1hZ2VTaGFwZS5wcm90b3R5cGUucmVkcmF3SHRtbFNoYXBlPWZ1bmN0aW9uKCl7dGhpcy5ub2RlLnN0eWxlLmxlZnQ9TWF0aC5yb3VuZCh0aGlzLmJvdW5kcy54KSsicHgiO3RoaXMubm9kZS5zdHlsZS50b3A9TWF0aC5yb3VuZCh0aGlzLmJvdW5kcy55KSsicHgiO3RoaXMubm9kZS5zdHlsZS53aWR0aD1NYXRoLm1heCgwLE1hdGgucm91bmQodGhpcy5ib3VuZHMud2lkdGgpKSsicHgiO3RoaXMubm9kZS5zdHlsZS5oZWlnaHQ9TWF0aC5tYXgoMCxNYXRoLnJvdW5kKHRoaXMuYm91bmRzLmhlaWdodCkpKyJweCI7dGhpcy5ub2RlLmlubmVySFRNTD0iIjtpZihudWxsIT10aGlzLmltYWdlKXt2YXIgYT1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfSU1BR0VfQkFDS0dST1VORCwiIiksYj1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfSU1BR0VfQk9SREVSLCIiKTt0aGlzLm5vZGUuc3R5bGUuYmFja2dyb3VuZENvbG9yPWE7CnRoaXMubm9kZS5zdHlsZS5ib3JkZXJDb2xvcj1iO2E9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChteENsaWVudC5JU19JRTZ8fChudWxsPT1kb2N1bWVudC5kb2N1bWVudE1vZGV8fDg+PWRvY3VtZW50LmRvY3VtZW50TW9kZSkmJjAhPXRoaXMucm90YXRpb24/bXhDbGllbnQuVk1MX1BSRUZJWCsiOmltYWdlIjoiaW1nIik7YS5zZXRBdHRyaWJ1dGUoImJvcmRlciIsIjAiKTthLnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSI7YS5zcmM9dGhpcy5pbWFnZTtiPTEwMD50aGlzLm9wYWNpdHk/ImFscGhhKG9wYWNpdHk9Iit0aGlzLm9wYWNpdHkrIikiOiIiO3RoaXMubm9kZS5zdHlsZS5maWx0ZXI9Yjt0aGlzLmZsaXBIJiZ0aGlzLmZsaXBWP2IrPSJwcm9naWQ6RFhJbWFnZVRyYW5zZm9ybS5NaWNyb3NvZnQuQmFzaWNJbWFnZShyb3RhdGlvbj0yKSI6dGhpcy5mbGlwSD9iKz0icHJvZ2lkOkRYSW1hZ2VUcmFuc2Zvcm0uTWljcm9zb2Z0LkJhc2ljSW1hZ2UobWlycm9yPTEpIjp0aGlzLmZsaXBWJiYKKGIrPSJwcm9naWQ6RFhJbWFnZVRyYW5zZm9ybS5NaWNyb3NvZnQuQmFzaWNJbWFnZShyb3RhdGlvbj0yLCBtaXJyb3I9MSkiKTthLnN0eWxlLmZpbHRlciE9YiYmKGEuc3R5bGUuZmlsdGVyPWIpOyJpbWFnZSI9PWEubm9kZU5hbWU/YS5zdHlsZS5yb3RhdGlvbj10aGlzLnJvdGF0aW9uOjAhPXRoaXMucm90YXRpb24/bXhVdGlscy5zZXRQcmVmaXhlZFN0eWxlKGEuc3R5bGUsInRyYW5zZm9ybSIsInJvdGF0ZSgiK3RoaXMucm90YXRpb24rImRlZykiKTpteFV0aWxzLnNldFByZWZpeGVkU3R5bGUoYS5zdHlsZSwidHJhbnNmb3JtIiwiIik7YS5zdHlsZS53aWR0aD10aGlzLm5vZGUuc3R5bGUud2lkdGg7YS5zdHlsZS5oZWlnaHQ9dGhpcy5ub2RlLnN0eWxlLmhlaWdodDt0aGlzLm5vZGUuc3R5bGUuYmFja2dyb3VuZEltYWdlPSIiO3RoaXMubm9kZS5hcHBlbmRDaGlsZChhKX1lbHNlIHRoaXMuc2V0VHJhbnNwYXJlbnRCYWNrZ3JvdW5kSW1hZ2UodGhpcy5ub2RlKX07CmZ1bmN0aW9uIG14TGFiZWwoYSxiLGMsZCl7bXhSZWN0YW5nbGVTaGFwZS5jYWxsKHRoaXMsYSxiLGMsZCl9bXhVdGlscy5leHRlbmQobXhMYWJlbCxteFJlY3RhbmdsZVNoYXBlKTtteExhYmVsLnByb3RvdHlwZS5pbWFnZVNpemU9bXhDb25zdGFudHMuREVGQVVMVF9JTUFHRVNJWkU7bXhMYWJlbC5wcm90b3R5cGUuc3BhY2luZz0yO214TGFiZWwucHJvdG90eXBlLmluZGljYXRvclNpemU9MTA7bXhMYWJlbC5wcm90b3R5cGUuaW5kaWNhdG9yU3BhY2luZz0yO214TGFiZWwucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oYSl7bXhTaGFwZS5wcm90b3R5cGUuaW5pdC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7bnVsbCE9dGhpcy5pbmRpY2F0b3JTaGFwZSYmKHRoaXMuaW5kaWNhdG9yPW5ldyB0aGlzLmluZGljYXRvclNoYXBlLHRoaXMuaW5kaWNhdG9yLmRpYWxlY3Q9dGhpcy5kaWFsZWN0LHRoaXMuaW5kaWNhdG9yLmluaXQodGhpcy5ub2RlKSl9OwpteExhYmVsLnByb3RvdHlwZS5yZWRyYXc9ZnVuY3Rpb24oKXtudWxsIT10aGlzLmluZGljYXRvciYmKHRoaXMuaW5kaWNhdG9yLmZpbGw9dGhpcy5pbmRpY2F0b3JDb2xvcix0aGlzLmluZGljYXRvci5zdHJva2U9dGhpcy5pbmRpY2F0b3JTdHJva2VDb2xvcix0aGlzLmluZGljYXRvci5ncmFkaWVudD10aGlzLmluZGljYXRvckdyYWRpZW50Q29sb3IsdGhpcy5pbmRpY2F0b3IuZGlyZWN0aW9uPXRoaXMuaW5kaWNhdG9yRGlyZWN0aW9uLHRoaXMuaW5kaWNhdG9yLnJlZHJhdygpKTtteFNoYXBlLnByb3RvdHlwZS5yZWRyYXcuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtteExhYmVsLnByb3RvdHlwZS5pc0h0bWxBbGxvd2VkPWZ1bmN0aW9uKCl7cmV0dXJuIG14UmVjdGFuZ2xlU2hhcGUucHJvdG90eXBlLmlzSHRtbEFsbG93ZWQuYXBwbHkodGhpcyxhcmd1bWVudHMpJiZudWxsPT10aGlzLmluZGljYXRvckNvbG9yJiZudWxsPT10aGlzLmluZGljYXRvclNoYXBlfTsKbXhMYWJlbC5wcm90b3R5cGUucGFpbnRGb3JlZ3JvdW5kPWZ1bmN0aW9uKGEsYixjLGQsZSl7dGhpcy5wYWludEltYWdlKGEsYixjLGQsZSk7dGhpcy5wYWludEluZGljYXRvcihhLGIsYyxkLGUpO214UmVjdGFuZ2xlU2hhcGUucHJvdG90eXBlLnBhaW50Rm9yZWdyb3VuZC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O214TGFiZWwucHJvdG90eXBlLnBhaW50SW1hZ2U9ZnVuY3Rpb24oYSxiLGMsZCxlKXtudWxsIT10aGlzLmltYWdlJiYoYj10aGlzLmdldEltYWdlQm91bmRzKGIsYyxkLGUpLGEuaW1hZ2UoYi54LGIueSxiLndpZHRoLGIuaGVpZ2h0LHRoaXMuaW1hZ2UsITEsITEsITEpKX07Cm14TGFiZWwucHJvdG90eXBlLmdldEltYWdlQm91bmRzPWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9JTUFHRV9BTElHTixteENvbnN0YW50cy5BTElHTl9MRUZUKSxmPW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9JTUFHRV9WRVJUSUNBTF9BTElHTixteENvbnN0YW50cy5BTElHTl9NSURETEUpLGc9bXhVdGlscy5nZXROdW1iZXIodGhpcy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9JTUFHRV9XSURUSCxteENvbnN0YW50cy5ERUZBVUxUX0lNQUdFU0laRSksaz1teFV0aWxzLmdldE51bWJlcih0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0lNQUdFX0hFSUdIVCxteENvbnN0YW50cy5ERUZBVUxUX0lNQUdFU0laRSksbD1teFV0aWxzLmdldE51bWJlcih0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX1NQQUNJTkcsdGhpcy5zcGFjaW5nKSs1O2E9ZT09bXhDb25zdGFudHMuQUxJR05fQ0VOVEVSPwphKyhjLWcpLzI6ZT09bXhDb25zdGFudHMuQUxJR05fUklHSFQ/YSsoYy1nLWwpOmErbDtiPWY9PW14Q29uc3RhbnRzLkFMSUdOX1RPUD9iK2w6Zj09bXhDb25zdGFudHMuQUxJR05fQk9UVE9NP2IrKGQtay1sKTpiKyhkLWspLzI7cmV0dXJuIG5ldyBteFJlY3RhbmdsZShhLGIsZyxrKX07bXhMYWJlbC5wcm90b3R5cGUucGFpbnRJbmRpY2F0b3I9ZnVuY3Rpb24oYSxiLGMsZCxlKXtudWxsIT10aGlzLmluZGljYXRvcj8odGhpcy5pbmRpY2F0b3IuYm91bmRzPXRoaXMuZ2V0SW5kaWNhdG9yQm91bmRzKGIsYyxkLGUpLHRoaXMuaW5kaWNhdG9yLnBhaW50KGEpKTpudWxsIT10aGlzLmluZGljYXRvckltYWdlJiYoYj10aGlzLmdldEluZGljYXRvckJvdW5kcyhiLGMsZCxlKSxhLmltYWdlKGIueCxiLnksYi53aWR0aCxiLmhlaWdodCx0aGlzLmluZGljYXRvckltYWdlLCExLCExLCExKSl9OwpteExhYmVsLnByb3RvdHlwZS5nZXRJbmRpY2F0b3JCb3VuZHM9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0lNQUdFX0FMSUdOLG14Q29uc3RhbnRzLkFMSUdOX0xFRlQpLGY9bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0lNQUdFX1ZFUlRJQ0FMX0FMSUdOLG14Q29uc3RhbnRzLkFMSUdOX01JRERMRSksZz1teFV0aWxzLmdldE51bWJlcih0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0lORElDQVRPUl9XSURUSCx0aGlzLmluZGljYXRvclNpemUpLGs9bXhVdGlscy5nZXROdW1iZXIodGhpcy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9JTkRJQ0FUT1JfSEVJR0hULHRoaXMuaW5kaWNhdG9yU2l6ZSksbD10aGlzLnNwYWNpbmcrNTthPWU9PW14Q29uc3RhbnRzLkFMSUdOX1JJR0hUP2ErKGMtZy1sKTplPT1teENvbnN0YW50cy5BTElHTl9DRU5URVI/YSsoYy1nKS8KMjphK2w7Yj1mPT1teENvbnN0YW50cy5BTElHTl9CT1RUT00/YisoZC1rLWwpOmY9PW14Q29uc3RhbnRzLkFMSUdOX1RPUD9iK2w6YisoZC1rKS8yO3JldHVybiBuZXcgbXhSZWN0YW5nbGUoYSxiLGcsayl9OwpteExhYmVsLnByb3RvdHlwZS5yZWRyYXdIdG1sU2hhcGU9ZnVuY3Rpb24oKXtmb3IobXhSZWN0YW5nbGVTaGFwZS5wcm90b3R5cGUucmVkcmF3SHRtbFNoYXBlLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLm5vZGUuaGFzQ2hpbGROb2RlcygpOyl0aGlzLm5vZGUucmVtb3ZlQ2hpbGQodGhpcy5ub2RlLmxhc3RDaGlsZCk7aWYobnVsbCE9dGhpcy5pbWFnZSl7dmFyIGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW1nIik7YS5zdHlsZS5wb3NpdGlvbj0icmVsYXRpdmUiO2Euc2V0QXR0cmlidXRlKCJib3JkZXIiLCIwIik7dmFyIGI9dGhpcy5nZXRJbWFnZUJvdW5kcyh0aGlzLmJvdW5kcy54LHRoaXMuYm91bmRzLnksdGhpcy5ib3VuZHMud2lkdGgsdGhpcy5ib3VuZHMuaGVpZ2h0KTtiLngtPXRoaXMuYm91bmRzLng7Yi55LT10aGlzLmJvdW5kcy55O2Euc3R5bGUubGVmdD1NYXRoLnJvdW5kKGIueCkrInB4IjthLnN0eWxlLnRvcD1NYXRoLnJvdW5kKGIueSkrInB4IjthLnN0eWxlLndpZHRoPQpNYXRoLnJvdW5kKGIud2lkdGgpKyJweCI7YS5zdHlsZS5oZWlnaHQ9TWF0aC5yb3VuZChiLmhlaWdodCkrInB4IjthLnNyYz10aGlzLmltYWdlO3RoaXMubm9kZS5hcHBlbmRDaGlsZChhKX19O2Z1bmN0aW9uIG14Q3lsaW5kZXIoYSxiLGMsZCl7bXhTaGFwZS5jYWxsKHRoaXMpO3RoaXMuYm91bmRzPWE7dGhpcy5maWxsPWI7dGhpcy5zdHJva2U9Yzt0aGlzLnN0cm9rZXdpZHRoPW51bGwhPWQ/ZDoxfW14VXRpbHMuZXh0ZW5kKG14Q3lsaW5kZXIsbXhTaGFwZSk7bXhDeWxpbmRlci5wcm90b3R5cGUubWF4SGVpZ2h0PTQwO214Q3lsaW5kZXIucHJvdG90eXBlLnN2Z1N0cm9rZVRvbGVyYW5jZT0wOwpteEN5bGluZGVyLnByb3RvdHlwZS5wYWludFZlcnRleFNoYXBlPWZ1bmN0aW9uKGEsYixjLGQsZSl7YS50cmFuc2xhdGUoYixjKTthLmJlZ2luKCk7dGhpcy5yZWRyYXdQYXRoKGEsYixjLGQsZSwhMSk7YS5maWxsQW5kU3Ryb2tlKCk7dGhpcy5vdXRsaW5lJiZudWxsIT10aGlzLnN0eWxlJiYwIT1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfQkFDS0dST1VORF9PVVRMSU5FLDApfHwoYS5zZXRTaGFkb3coITEpLGEuYmVnaW4oKSx0aGlzLnJlZHJhd1BhdGgoYSxiLGMsZCxlLCEwKSxhLnN0cm9rZSgpKX07bXhDeWxpbmRlci5wcm90b3R5cGUuZ2V0Q3lsaW5kZXJTaXplPWZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiBNYXRoLm1pbih0aGlzLm1heEhlaWdodCxNYXRoLnJvdW5kKGQvNSkpfTsKbXhDeWxpbmRlci5wcm90b3R5cGUucmVkcmF3UGF0aD1mdW5jdGlvbihhLGIsYyxkLGUsZil7Yj10aGlzLmdldEN5bGluZGVyU2l6ZShiLGMsZCxlKTtpZihmJiZudWxsIT10aGlzLmZpbGx8fCFmJiZudWxsPT10aGlzLmZpbGwpYS5tb3ZlVG8oMCxiKSxhLmN1cnZlVG8oMCwyKmIsZCwyKmIsZCxiKSxmfHwoYS5zdHJva2UoKSxhLmJlZ2luKCkpO2Z8fChhLm1vdmVUbygwLGIpLGEuY3VydmVUbygwLC1iLzMsZCwtYi8zLGQsYiksYS5saW5lVG8oZCxlLWIpLGEuY3VydmVUbyhkLGUrYi8zLDAsZStiLzMsMCxlLWIpLGEuY2xvc2UoKSl9O2Z1bmN0aW9uIG14Q29ubmVjdG9yKGEsYixjKXtteFBvbHlsaW5lLmNhbGwodGhpcyxhLGIsYyl9bXhVdGlscy5leHRlbmQobXhDb25uZWN0b3IsbXhQb2x5bGluZSk7Cm14Q29ubmVjdG9yLnByb3RvdHlwZS51cGRhdGVCb3VuZGluZ0JveD1mdW5jdGlvbigpe3RoaXMudXNlU3ZnQm91bmRpbmdCb3g9bnVsbCE9dGhpcy5zdHlsZSYmMT09dGhpcy5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9DVVJWRURdO214U2hhcGUucHJvdG90eXBlLnVwZGF0ZUJvdW5kaW5nQm94LmFwcGx5KHRoaXMsYXJndW1lbnRzKX07bXhDb25uZWN0b3IucHJvdG90eXBlLnBhaW50RWRnZVNoYXBlPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5jcmVhdGVNYXJrZXIoYSxiLCEwKSxkPXRoaXMuY3JlYXRlTWFya2VyKGEsYiwhMSk7bXhQb2x5bGluZS5wcm90b3R5cGUucGFpbnRFZGdlU2hhcGUuYXBwbHkodGhpcyxhcmd1bWVudHMpO2Euc2V0RmlsbENvbG9yKHRoaXMuc3Ryb2tlKTthLnNldFNoYWRvdyghMSk7YS5zZXREYXNoZWQoITEpO251bGwhPWMmJmMoKTtudWxsIT1kJiZkKCl9OwpteENvbm5lY3Rvci5wcm90b3R5cGUuY3JlYXRlTWFya2VyPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1udWxsLGU9Yi5sZW5ndGgsZj1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsYz9teENvbnN0YW50cy5TVFlMRV9TVEFSVEFSUk9XOm14Q29uc3RhbnRzLlNUWUxFX0VOREFSUk9XKSxnPWM/YlsxXTpiW2UtMl0saz1jP2JbMF06YltlLTFdO2lmKG51bGwhPWYmJm51bGwhPWcmJm51bGwhPWspe2ZvcihkPTE7ZDxlLTEmJjA9PU1hdGgucm91bmQoZy54LWsueCkmJjA9PU1hdGgucm91bmQoZy55LWsueSk7KWc9Yz9iWzErZF06YltlLTItZF0sZCsrO2I9ay54LWcueDtlPWsueS1nLnk7ZD1NYXRoLm1heCgxLE1hdGguc3FydChiKmIrZSplKSk7Zz1iL2Q7Yj1lL2Q7ZT1teFV0aWxzLmdldE51bWJlcih0aGlzLnN0eWxlLGM/bXhDb25zdGFudHMuU1RZTEVfU1RBUlRTSVpFOm14Q29uc3RhbnRzLlNUWUxFX0VORFNJWkUsbXhDb25zdGFudHMuREVGQVVMVF9NQVJLRVJTSVpFKTtkPW14TWFya2VyLmNyZWF0ZU1hcmtlcihhLAp0aGlzLGYsayxnLGIsZSxjLHRoaXMuc3Ryb2tld2lkdGgsMCE9dGhpcy5zdHlsZVtjP214Q29uc3RhbnRzLlNUWUxFX1NUQVJURklMTDpteENvbnN0YW50cy5TVFlMRV9FTkRGSUxMXSl9cmV0dXJuIGR9OwpteENvbm5lY3Rvci5wcm90b3R5cGUuYXVnbWVudEJvdW5kaW5nQm94PWZ1bmN0aW9uKGEpe214U2hhcGUucHJvdG90eXBlLmF1Z21lbnRCb3VuZGluZ0JveC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dmFyIGI9MDtteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfU1RBUlRBUlJPVyxteENvbnN0YW50cy5OT05FKSE9bXhDb25zdGFudHMuTk9ORSYmKGI9bXhVdGlscy5nZXROdW1iZXIodGhpcy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9TVEFSVFNJWkUsbXhDb25zdGFudHMuREVGQVVMVF9NQVJLRVJTSVpFKSsxKTtteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfRU5EQVJST1csbXhDb25zdGFudHMuTk9ORSkhPW14Q29uc3RhbnRzLk5PTkUmJihiPU1hdGgubWF4KGIsbXhVdGlscy5nZXROdW1iZXIodGhpcy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9FTkRTSVpFLG14Q29uc3RhbnRzLkRFRkFVTFRfTUFSS0VSU0laRSkpKwoxKTthLmdyb3coYip0aGlzLnNjYWxlKX07ZnVuY3Rpb24gbXhTd2ltbGFuZShhLGIsYyxkKXtteFNoYXBlLmNhbGwodGhpcyk7dGhpcy5ib3VuZHM9YTt0aGlzLmZpbGw9Yjt0aGlzLnN0cm9rZT1jO3RoaXMuc3Ryb2tld2lkdGg9bnVsbCE9ZD9kOjF9bXhVdGlscy5leHRlbmQobXhTd2ltbGFuZSxteFNoYXBlKTtteFN3aW1sYW5lLnByb3RvdHlwZS5pbWFnZVNpemU9MTY7bXhTd2ltbGFuZS5wcm90b3R5cGUuaXNSb3VuZGFibGU9ZnVuY3Rpb24oYSxiLGMsZCxlKXtyZXR1cm4hMH07bXhTd2ltbGFuZS5wcm90b3R5cGUuZ2V0VGl0bGVTaXplPWZ1bmN0aW9uKCl7cmV0dXJuIE1hdGgubWF4KDAsbXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX1NUQVJUU0laRSxteENvbnN0YW50cy5ERUZBVUxUX1NUQVJUU0laRSkpfTsKbXhTd2ltbGFuZS5wcm90b3R5cGUuZ2V0TGFiZWxCb3VuZHM9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5nZXRUaXRsZVNpemUoKTthPW5ldyBteFJlY3RhbmdsZShhLngsYS55LGEud2lkdGgsYS5oZWlnaHQpO3ZhciBjPXRoaXMuaXNIb3Jpem9udGFsKCksZD0xPT1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfRkxJUEgsMCksZT0xPT1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfRkxJUFYsMCksZj10aGlzLmRpcmVjdGlvbj09bXhDb25zdGFudHMuRElSRUNUSU9OX05PUlRIfHx0aGlzLmRpcmVjdGlvbj09bXhDb25zdGFudHMuRElSRUNUSU9OX1NPVVRILGM9Yz09IWYsZD0hYyYmZCE9KHRoaXMuZGlyZWN0aW9uPT1teENvbnN0YW50cy5ESVJFQ1RJT05fU09VVEh8fHRoaXMuZGlyZWN0aW9uPT1teENvbnN0YW50cy5ESVJFQ1RJT05fV0VTVCksZT1jJiZlIT0odGhpcy5kaXJlY3Rpb249PW14Q29uc3RhbnRzLkRJUkVDVElPTl9TT1VUSHx8CnRoaXMuZGlyZWN0aW9uPT1teENvbnN0YW50cy5ESVJFQ1RJT05fV0VTVCk7aWYoZil7Yj1NYXRoLm1pbihhLndpZHRoLGIqdGhpcy5zY2FsZSk7aWYoZHx8ZSlhLngrPWEud2lkdGgtYjthLndpZHRoPWJ9ZWxzZXtiPU1hdGgubWluKGEuaGVpZ2h0LGIqdGhpcy5zY2FsZSk7aWYoZHx8ZSlhLnkrPWEuaGVpZ2h0LWI7YS5oZWlnaHQ9Yn1yZXR1cm4gYX07bXhTd2ltbGFuZS5wcm90b3R5cGUuZ2V0R3JhZGllbnRCb3VuZHM9ZnVuY3Rpb24oYSxiLGMsZCxlKXthPXRoaXMuZ2V0VGl0bGVTaXplKCk7aWYodGhpcy5pc0hvcml6b250YWwoKSlyZXR1cm4gYT1NYXRoLm1pbihhLGUpLG5ldyBteFJlY3RhbmdsZShiLGMsZCxhKTthPU1hdGgubWluKGEsZCk7cmV0dXJuIG5ldyBteFJlY3RhbmdsZShiLGMsYSxlKX07Cm14U3dpbWxhbmUucHJvdG90eXBlLmdldFN3aW1sYW5lQXJjU2l6ZT1mdW5jdGlvbihhLGIsYyl7aWYoIjEiPT1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfQUJTT0xVVEVfQVJDU0laRSwwKSlyZXR1cm4gTWF0aC5taW4oYS8yLE1hdGgubWluKGIvMixteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfQVJDU0laRSxteENvbnN0YW50cy5MSU5FX0FSQ1NJWkUpLzIpKTthPW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9BUkNTSVpFLDEwMCpteENvbnN0YW50cy5SRUNUQU5HTEVfUk9VTkRJTkdfRkFDVE9SKS8xMDA7cmV0dXJuIGMqYSozfTtteFN3aW1sYW5lLnByb3RvdHlwZS5pc0hvcml6b250YWw9ZnVuY3Rpb24oKXtyZXR1cm4gMT09bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0hPUklaT05UQUwsMSl9OwpteFN3aW1sYW5lLnByb3RvdHlwZS5wYWludFZlcnRleFNoYXBlPWZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9dGhpcy5nZXRUaXRsZVNpemUoKSxnPW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9TV0lNTEFORV9GSUxMQ09MT1IsbXhDb25zdGFudHMuTk9ORSksaz0xPT1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfU1dJTUxBTkVfTElORSwxKSxsPTAsZj10aGlzLmlzSG9yaXpvbnRhbCgpP01hdGgubWluKGYsZSk6TWF0aC5taW4oZixkKTthLnRyYW5zbGF0ZShiLGMpO3RoaXMuaXNSb3VuZGVkPyhsPXRoaXMuZ2V0U3dpbWxhbmVBcmNTaXplKGQsZSxmKSxsPU1hdGgubWluKCh0aGlzLmlzSG9yaXpvbnRhbCgpP2U6ZCktZixNYXRoLm1pbihmLGwpKSx0aGlzLnBhaW50Um91bmRlZFN3aW1sYW5lKGEsYixjLGQsZSxmLGwsZyxrKSk6dGhpcy5wYWludFN3aW1sYW5lKGEsYixjLGQsZSxmLGcsayk7Zz1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsCm14Q29uc3RhbnRzLlNUWUxFX1NFUEFSQVRPUkNPTE9SLG14Q29uc3RhbnRzLk5PTkUpO3RoaXMucGFpbnRTZXBhcmF0b3IoYSxiLGMsZCxlLGYsZyk7bnVsbCE9dGhpcy5pbWFnZSYmKGU9dGhpcy5nZXRJbWFnZUJvdW5kcyhiLGMsZCxlKSxhLmltYWdlKGUueC1iLGUueS1jLGUud2lkdGgsZS5oZWlnaHQsdGhpcy5pbWFnZSwhMSwhMSwhMSkpO3RoaXMuZ2xhc3MmJihhLnNldFNoYWRvdyghMSksdGhpcy5wYWludEdsYXNzRWZmZWN0KGEsMCwwLGQsZixsKSl9OwpteFN3aW1sYW5lLnByb3RvdHlwZS5wYWludFN3aW1sYW5lPWZ1bmN0aW9uKGEsYixjLGQsZSxmLGcsayl7YS5iZWdpbigpO3ZhciBsPSEwO251bGwhPXRoaXMuc3R5bGUmJihsPSIxIj09bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX1BPSU5URVJfRVZFTlRTLCIxIikpO2x8fG51bGwhPXRoaXMuZmlsbCYmdGhpcy5maWxsIT1teENvbnN0YW50cy5OT05FfHwoYS5wb2ludGVyRXZlbnRzPSExKTt0aGlzLmlzSG9yaXpvbnRhbCgpPyhhLm1vdmVUbygwLGYpLGEubGluZVRvKDAsMCksYS5saW5lVG8oZCwwKSxhLmxpbmVUbyhkLGYpLGEuZmlsbEFuZFN0cm9rZSgpLGY8ZSYmKGchPW14Q29uc3RhbnRzLk5PTkUmJmx8fChhLnBvaW50ZXJFdmVudHM9ITEpLGchPW14Q29uc3RhbnRzLk5PTkUmJmEuc2V0RmlsbENvbG9yKGcpLGEuYmVnaW4oKSxhLm1vdmVUbygwLGYpLGEubGluZVRvKDAsZSksYS5saW5lVG8oZCxlKSxhLmxpbmVUbyhkLGYpLGc9PW14Q29uc3RhbnRzLk5PTkU/CmEuc3Ryb2tlKCk6YS5maWxsQW5kU3Ryb2tlKCkpKTooYS5tb3ZlVG8oZiwwKSxhLmxpbmVUbygwLDApLGEubGluZVRvKDAsZSksYS5saW5lVG8oZixlKSxhLmZpbGxBbmRTdHJva2UoKSxmPGQmJihnIT1teENvbnN0YW50cy5OT05FJiZsfHwoYS5wb2ludGVyRXZlbnRzPSExKSxnIT1teENvbnN0YW50cy5OT05FJiZhLnNldEZpbGxDb2xvcihnKSxhLmJlZ2luKCksYS5tb3ZlVG8oZiwwKSxhLmxpbmVUbyhkLDApLGEubGluZVRvKGQsZSksYS5saW5lVG8oZixlKSxnPT1teENvbnN0YW50cy5OT05FP2Euc3Ryb2tlKCk6YS5maWxsQW5kU3Ryb2tlKCkpKTtrJiZ0aGlzLnBhaW50RGl2aWRlcihhLGIsYyxkLGUsZixnPT1teENvbnN0YW50cy5OT05FKX07Cm14U3dpbWxhbmUucHJvdG90eXBlLnBhaW50Um91bmRlZFN3aW1sYW5lPWZ1bmN0aW9uKGEsYixjLGQsZSxmLGcsayxsKXthLmJlZ2luKCk7dmFyIG09ITA7bnVsbCE9dGhpcy5zdHlsZSYmKG09IjEiPT1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfUE9JTlRFUl9FVkVOVFMsIjEiKSk7bXx8bnVsbCE9dGhpcy5maWxsJiZ0aGlzLmZpbGwhPW14Q29uc3RhbnRzLk5PTkV8fChhLnBvaW50ZXJFdmVudHM9ITEpO3RoaXMuaXNIb3Jpem9udGFsKCk/KGEubW92ZVRvKGQsZiksYS5saW5lVG8oZCxnKSxhLnF1YWRUbyhkLDAsZC1NYXRoLm1pbihkLzIsZyksMCksYS5saW5lVG8oTWF0aC5taW4oZC8yLGcpLDApLGEucXVhZFRvKDAsMCwwLGcpLGEubGluZVRvKDAsZiksYS5maWxsQW5kU3Ryb2tlKCksZjxlJiYoayE9bXhDb25zdGFudHMuTk9ORSYmbXx8KGEucG9pbnRlckV2ZW50cz0hMSksayE9bXhDb25zdGFudHMuTk9ORSYmYS5zZXRGaWxsQ29sb3IoayksCmEuYmVnaW4oKSxhLm1vdmVUbygwLGYpLGEubGluZVRvKDAsZS1nKSxhLnF1YWRUbygwLGUsTWF0aC5taW4oZC8yLGcpLGUpLGEubGluZVRvKGQtTWF0aC5taW4oZC8yLGcpLGUpLGEucXVhZFRvKGQsZSxkLGUtZyksYS5saW5lVG8oZCxmKSxrPT1teENvbnN0YW50cy5OT05FP2Euc3Ryb2tlKCk6YS5maWxsQW5kU3Ryb2tlKCkpKTooYS5tb3ZlVG8oZiwwKSxhLmxpbmVUbyhnLDApLGEucXVhZFRvKDAsMCwwLE1hdGgubWluKGUvMixnKSksYS5saW5lVG8oMCxlLU1hdGgubWluKGUvMixnKSksYS5xdWFkVG8oMCxlLGcsZSksYS5saW5lVG8oZixlKSxhLmZpbGxBbmRTdHJva2UoKSxmPGQmJihrIT1teENvbnN0YW50cy5OT05FJiZtfHwoYS5wb2ludGVyRXZlbnRzPSExKSxrIT1teENvbnN0YW50cy5OT05FJiZhLnNldEZpbGxDb2xvcihrKSxhLmJlZ2luKCksYS5tb3ZlVG8oZixlKSxhLmxpbmVUbyhkLWcsZSksYS5xdWFkVG8oZCxlLGQsZS1NYXRoLm1pbihlLzIsZykpLGEubGluZVRvKGQsCk1hdGgubWluKGUvMixnKSksYS5xdWFkVG8oZCwwLGQtZywwKSxhLmxpbmVUbyhmLDApLGs9PW14Q29uc3RhbnRzLk5PTkU/YS5zdHJva2UoKTphLmZpbGxBbmRTdHJva2UoKSkpO2wmJnRoaXMucGFpbnREaXZpZGVyKGEsYixjLGQsZSxmLGs9PW14Q29uc3RhbnRzLk5PTkUpfTtteFN3aW1sYW5lLnByb3RvdHlwZS5wYWludERpdmlkZXI9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyl7Z3x8YS5zZXRTaGFkb3coITEpO2EuYmVnaW4oKTt0aGlzLmlzSG9yaXpvbnRhbCgpPyhhLm1vdmVUbygwLGYpLGEubGluZVRvKGQsZikpOihhLm1vdmVUbyhmLDApLGEubGluZVRvKGYsZSkpO2Euc3Ryb2tlKCl9OwpteFN3aW1sYW5lLnByb3RvdHlwZS5wYWludFNlcGFyYXRvcj1mdW5jdGlvbihhLGIsYyxkLGUsZixnKXtnIT1teENvbnN0YW50cy5OT05FJiYoYS5zZXRTdHJva2VDb2xvcihnKSxhLnNldERhc2hlZCghMCksYS5iZWdpbigpLHRoaXMuaXNIb3Jpem9udGFsKCk/KGEubW92ZVRvKGQsZiksYS5saW5lVG8oZCxlKSk6KGEubW92ZVRvKGYsMCksYS5saW5lVG8oZCwwKSksYS5zdHJva2UoKSxhLnNldERhc2hlZCghMSkpfTtteFN3aW1sYW5lLnByb3RvdHlwZS5nZXRJbWFnZUJvdW5kcz1mdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gdGhpcy5pc0hvcml6b250YWwoKT9uZXcgbXhSZWN0YW5nbGUoYStjLXRoaXMuaW1hZ2VTaXplLGIsdGhpcy5pbWFnZVNpemUsdGhpcy5pbWFnZVNpemUpOm5ldyBteFJlY3RhbmdsZShhLGIsdGhpcy5pbWFnZVNpemUsdGhpcy5pbWFnZVNpemUpfTtmdW5jdGlvbiBteEdyYXBoTGF5b3V0KGEpe3RoaXMuZ3JhcGg9YX0KbXhHcmFwaExheW91dC5wcm90b3R5cGUuZ3JhcGg9bnVsbDtteEdyYXBoTGF5b3V0LnByb3RvdHlwZS51c2VCb3VuZGluZ0JveD0hMDtteEdyYXBoTGF5b3V0LnByb3RvdHlwZS5wYXJlbnQ9bnVsbDtteEdyYXBoTGF5b3V0LnByb3RvdHlwZS5tb3ZlQ2VsbD1mdW5jdGlvbihhLGIsYyl7fTtteEdyYXBoTGF5b3V0LnByb3RvdHlwZS5yZXNpemVDZWxsPWZ1bmN0aW9uKGEsYil7fTtteEdyYXBoTGF5b3V0LnByb3RvdHlwZS5leGVjdXRlPWZ1bmN0aW9uKGEpe307bXhHcmFwaExheW91dC5wcm90b3R5cGUuZ2V0R3JhcGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ncmFwaH07bXhHcmFwaExheW91dC5wcm90b3R5cGUuZ2V0Q29uc3RyYWludD1mdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gdGhpcy5ncmFwaC5nZXRDdXJyZW50Q2VsbFN0eWxlKGIpW2FdfTsKbXhHcmFwaExheW91dC50cmF2ZXJzZT1mdW5jdGlvbihhLGIsYyxkLGUpe2lmKG51bGwhPWMmJm51bGwhPWEmJihiPW51bGwhPWI/YjohMCxlPWV8fG5ldyBteERpY3Rpb25hcnksIWUuZ2V0KGEpJiYoZS5wdXQoYSwhMCksZD1jKGEsZCksbnVsbD09ZHx8ZCkpJiYoZD10aGlzLmdyYXBoLm1vZGVsLmdldEVkZ2VDb3VudChhKSwwPGQpKWZvcih2YXIgZj0wO2Y8ZDtmKyspe3ZhciBnPXRoaXMuZ3JhcGgubW9kZWwuZ2V0RWRnZUF0KGEsZiksaz10aGlzLmdyYXBoLm1vZGVsLmdldFRlcm1pbmFsKGcsITApPT1hO2lmKCFifHxrKWs9dGhpcy5ncmFwaC52aWV3LmdldFZpc2libGVUZXJtaW5hbChnLCFrKSx0aGlzLnRyYXZlcnNlKGssYixjLGcsZSl9fTsKbXhHcmFwaExheW91dC5wcm90b3R5cGUuaXNBbmNlc3Rvcj1mdW5jdGlvbihhLGIsYyl7aWYoIWMpcmV0dXJuIHRoaXMuZ3JhcGgubW9kZWwuZ2V0UGFyZW50KGIpPT1hO2lmKGI9PWEpcmV0dXJuITE7Zm9yKDtudWxsIT1iJiZiIT1hOyliPXRoaXMuZ3JhcGgubW9kZWwuZ2V0UGFyZW50KGIpO3JldHVybiBiPT1hfTtteEdyYXBoTGF5b3V0LnByb3RvdHlwZS5pc1ZlcnRleE1vdmFibGU9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZ3JhcGguaXNDZWxsTW92YWJsZShhKX07bXhHcmFwaExheW91dC5wcm90b3R5cGUuaXNWZXJ0ZXhJZ25vcmVkPWZ1bmN0aW9uKGEpe3JldHVybiF0aGlzLmdyYXBoLmdldE1vZGVsKCkuaXNWZXJ0ZXgoYSl8fCF0aGlzLmdyYXBoLmlzQ2VsbFZpc2libGUoYSl9OwpteEdyYXBoTGF5b3V0LnByb3RvdHlwZS5pc0VkZ2VJZ25vcmVkPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZ3JhcGguZ2V0TW9kZWwoKTtyZXR1cm4hYi5pc0VkZ2UoYSl8fCF0aGlzLmdyYXBoLmlzQ2VsbFZpc2libGUoYSl8fG51bGw9PWIuZ2V0VGVybWluYWwoYSwhMCl8fG51bGw9PWIuZ2V0VGVybWluYWwoYSwhMSl9O214R3JhcGhMYXlvdXQucHJvdG90eXBlLnNldEVkZ2VTdHlsZUVuYWJsZWQ9ZnVuY3Rpb24oYSxiKXt0aGlzLmdyYXBoLnNldENlbGxTdHlsZXMobXhDb25zdGFudHMuU1RZTEVfTk9FREdFU1RZTEUsYj8iMCI6IjEiLFthXSl9O214R3JhcGhMYXlvdXQucHJvdG90eXBlLnNldE9ydGhvZ29uYWxFZGdlPWZ1bmN0aW9uKGEsYil7dGhpcy5ncmFwaC5zZXRDZWxsU3R5bGVzKG14Q29uc3RhbnRzLlNUWUxFX09SVEhPR09OQUwsYj8iMSI6IjAiLFthXSl9OwpteEdyYXBoTGF5b3V0LnByb3RvdHlwZS5nZXRQYXJlbnRPZmZzZXQ9ZnVuY3Rpb24oYSl7dmFyIGI9bmV3IG14UG9pbnQ7aWYobnVsbCE9YSYmYSE9dGhpcy5wYXJlbnQpe3ZhciBjPXRoaXMuZ3JhcGguZ2V0TW9kZWwoKTtpZihjLmlzQW5jZXN0b3IodGhpcy5wYXJlbnQsYSkpZm9yKHZhciBkPWMuZ2V0R2VvbWV0cnkoYSk7YSE9dGhpcy5wYXJlbnQ7KWIueCs9ZC54LGIueSs9ZC55LGE9Yy5nZXRQYXJlbnQoYSksZD1jLmdldEdlb21ldHJ5KGEpfXJldHVybiBifTsKbXhHcmFwaExheW91dC5wcm90b3R5cGUuc2V0RWRnZVBvaW50cz1mdW5jdGlvbihhLGIpe2lmKG51bGwhPWEpe3ZhciBjPXRoaXMuZ3JhcGgubW9kZWwsZD1jLmdldEdlb21ldHJ5KGEpO251bGw9PWQ/KGQ9bmV3IG14R2VvbWV0cnksZC5zZXRSZWxhdGl2ZSghMCkpOmQ9ZC5jbG9uZSgpO2lmKG51bGwhPXRoaXMucGFyZW50JiZudWxsIT1iKWZvcih2YXIgZT1jLmdldFBhcmVudChhKSxlPXRoaXMuZ2V0UGFyZW50T2Zmc2V0KGUpLGY9MDtmPGIubGVuZ3RoO2YrKyliW2ZdLngtPWUueCxiW2ZdLnktPWUueTtkLnBvaW50cz1iO2Muc2V0R2VvbWV0cnkoYSxkKX19OwpteEdyYXBoTGF5b3V0LnByb3RvdHlwZS5zZXRWZXJ0ZXhMb2NhdGlvbj1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcy5ncmFwaC5nZXRNb2RlbCgpLGU9ZC5nZXRHZW9tZXRyeShhKSxmPW51bGw7aWYobnVsbCE9ZSl7Zj1uZXcgbXhSZWN0YW5nbGUoYixjLGUud2lkdGgsZS5oZWlnaHQpO2lmKHRoaXMudXNlQm91bmRpbmdCb3gpe3ZhciBnPXRoaXMuZ3JhcGguZ2V0VmlldygpLmdldFN0YXRlKGEpO2lmKG51bGwhPWcmJm51bGwhPWcudGV4dCYmbnVsbCE9Zy50ZXh0LmJvdW5kaW5nQm94KXt2YXIgaz10aGlzLmdyYXBoLmdldFZpZXcoKS5zY2FsZSxsPWcudGV4dC5ib3VuZGluZ0JveDtnLnRleHQuYm91bmRpbmdCb3gueDxnLngmJihiKz0oZy54LWwueCkvayxmLndpZHRoPWwud2lkdGgpO2cudGV4dC5ib3VuZGluZ0JveC55PGcueSYmKGMrPShnLnktbC55KS9rLGYuaGVpZ2h0PWwuaGVpZ2h0KX19bnVsbCE9dGhpcy5wYXJlbnQmJihnPWQuZ2V0UGFyZW50KGEpLG51bGwhPWcmJmchPQp0aGlzLnBhcmVudCYmKGc9dGhpcy5nZXRQYXJlbnRPZmZzZXQoZyksYi09Zy54LGMtPWcueSkpO2lmKGUueCE9Ynx8ZS55IT1jKWU9ZS5jbG9uZSgpLGUueD1iLGUueT1jLGQuc2V0R2VvbWV0cnkoYSxlKX1yZXR1cm4gZn07Cm14R3JhcGhMYXlvdXQucHJvdG90eXBlLmdldFZlcnRleEJvdW5kcz1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmdyYXBoLmdldE1vZGVsKCkuZ2V0R2VvbWV0cnkoYSk7aWYodGhpcy51c2VCb3VuZGluZ0JveCl7dmFyIGM9dGhpcy5ncmFwaC5nZXRWaWV3KCkuZ2V0U3RhdGUoYSk7aWYobnVsbCE9YyYmbnVsbCE9Yy50ZXh0JiZudWxsIT1jLnRleHQuYm91bmRpbmdCb3gpdmFyIGQ9dGhpcy5ncmFwaC5nZXRWaWV3KCkuc2NhbGUsZT1jLnRleHQuYm91bmRpbmdCb3gsZj1NYXRoLm1heChjLngtZS54LDApL2QsZz1NYXRoLm1heChjLnktZS55LDApL2QsYj1uZXcgbXhSZWN0YW5nbGUoYi54LWYsYi55LWcsYi53aWR0aCtmK01hdGgubWF4KGUueCtlLndpZHRoLShjLngrYy53aWR0aCksMCkvZCxiLmhlaWdodCtnK01hdGgubWF4KGUueStlLmhlaWdodC0oYy55K2MuaGVpZ2h0KSwwKS9kKX1udWxsIT10aGlzLnBhcmVudCYmKGE9dGhpcy5ncmFwaC5nZXRNb2RlbCgpLmdldFBhcmVudChhKSwKYj1iLmNsb25lKCksbnVsbCE9YSYmYSE9dGhpcy5wYXJlbnQmJihhPXRoaXMuZ2V0UGFyZW50T2Zmc2V0KGEpLGIueCs9YS54LGIueSs9YS55KSk7cmV0dXJuIG5ldyBteFJlY3RhbmdsZShiLngsYi55LGIud2lkdGgsYi5oZWlnaHQpfTtteEdyYXBoTGF5b3V0LnByb3RvdHlwZS5hcnJhbmdlR3JvdXBzPWZ1bmN0aW9uKGEsYixjLGQsZSxmKXtyZXR1cm4gdGhpcy5ncmFwaC51cGRhdGVHcm91cEJvdW5kcyhhLGIsITAsYyxkLGUsZil9O2Z1bmN0aW9uIFdlaWdodGVkQ2VsbFNvcnRlcihhLGIpe3RoaXMuY2VsbD1hO3RoaXMud2VpZ2h0ZWRWYWx1ZT1ifVdlaWdodGVkQ2VsbFNvcnRlci5wcm90b3R5cGUud2VpZ2h0ZWRWYWx1ZT0wO1dlaWdodGVkQ2VsbFNvcnRlci5wcm90b3R5cGUubnVkZ2U9ITE7V2VpZ2h0ZWRDZWxsU29ydGVyLnByb3RvdHlwZS52aXNpdGVkPSExO1dlaWdodGVkQ2VsbFNvcnRlci5wcm90b3R5cGUucmFua0luZGV4PW51bGw7CldlaWdodGVkQ2VsbFNvcnRlci5wcm90b3R5cGUuY2VsbD1udWxsO1dlaWdodGVkQ2VsbFNvcnRlci5wcm90b3R5cGUuY29tcGFyZT1mdW5jdGlvbihhLGIpe3JldHVybiBudWxsIT1hJiZudWxsIT1iP2Iud2VpZ2h0ZWRWYWx1ZT5hLndlaWdodGVkVmFsdWU/LTE6Yi53ZWlnaHRlZFZhbHVlPGEud2VpZ2h0ZWRWYWx1ZT8xOmIubnVkZ2U/LTE6MTowfTtmdW5jdGlvbiBteFN0YWNrTGF5b3V0KGEsYixjLGQsZSxmKXtteEdyYXBoTGF5b3V0LmNhbGwodGhpcyxhKTt0aGlzLmhvcml6b250YWw9bnVsbCE9Yj9iOiEwO3RoaXMuc3BhY2luZz1udWxsIT1jP2M6MDt0aGlzLngwPW51bGwhPWQ/ZDowO3RoaXMueTA9bnVsbCE9ZT9lOjA7dGhpcy5ib3JkZXI9bnVsbCE9Zj9mOjB9bXhTdGFja0xheW91dC5wcm90b3R5cGU9bmV3IG14R3JhcGhMYXlvdXQ7bXhTdGFja0xheW91dC5wcm90b3R5cGUuY29uc3RydWN0b3I9bXhTdGFja0xheW91dDsKbXhTdGFja0xheW91dC5wcm90b3R5cGUuaG9yaXpvbnRhbD1udWxsO214U3RhY2tMYXlvdXQucHJvdG90eXBlLnNwYWNpbmc9bnVsbDtteFN0YWNrTGF5b3V0LnByb3RvdHlwZS54MD1udWxsO214U3RhY2tMYXlvdXQucHJvdG90eXBlLnkwPW51bGw7bXhTdGFja0xheW91dC5wcm90b3R5cGUuYm9yZGVyPTA7bXhTdGFja0xheW91dC5wcm90b3R5cGUubWFyZ2luVG9wPTA7bXhTdGFja0xheW91dC5wcm90b3R5cGUubWFyZ2luTGVmdD0wO214U3RhY2tMYXlvdXQucHJvdG90eXBlLm1hcmdpblJpZ2h0PTA7bXhTdGFja0xheW91dC5wcm90b3R5cGUubWFyZ2luQm90dG9tPTA7bXhTdGFja0xheW91dC5wcm90b3R5cGUua2VlcEZpcnN0TG9jYXRpb249ITE7bXhTdGFja0xheW91dC5wcm90b3R5cGUuZmlsbD0hMTtteFN0YWNrTGF5b3V0LnByb3RvdHlwZS5yZXNpemVQYXJlbnQ9ITE7bXhTdGFja0xheW91dC5wcm90b3R5cGUucmVzaXplUGFyZW50TWF4PSExOwpteFN0YWNrTGF5b3V0LnByb3RvdHlwZS5yZXNpemVMYXN0PSExO214U3RhY2tMYXlvdXQucHJvdG90eXBlLndyYXA9bnVsbDtteFN0YWNrTGF5b3V0LnByb3RvdHlwZS5ib3JkZXJDb2xsYXBzZT0hMDtteFN0YWNrTGF5b3V0LnByb3RvdHlwZS5hbGxvd0dhcHM9ITE7bXhTdGFja0xheW91dC5wcm90b3R5cGUuZ3JpZFNpemU9MDtteFN0YWNrTGF5b3V0LnByb3RvdHlwZS5pc0hvcml6b250YWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ob3Jpem9udGFsfTsKbXhTdGFja0xheW91dC5wcm90b3R5cGUubW92ZUNlbGw9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXMuZ3JhcGguZ2V0TW9kZWwoKSxlPWQuZ2V0UGFyZW50KGEpLGY9dGhpcy5pc0hvcml6b250YWwoKTtpZihudWxsIT1hJiZudWxsIT1lKXt2YXIgZz0wLGs9ZC5nZXRDaGlsZENvdW50KGUpO2M9Zj9iOmM7Yj10aGlzLmdyYXBoLmdldFZpZXcoKS5nZXRTdGF0ZShlKTtudWxsIT1iJiYoYy09Zj9iLng6Yi55KTtjLz10aGlzLmdyYXBoLnZpZXcuc2NhbGU7Zm9yKGI9MDtiPGs7YisrKXt2YXIgbD1kLmdldENoaWxkQXQoZSxiKTtpZihsIT1hJiYobD1kLmdldEdlb21ldHJ5KGwpLG51bGwhPWwpKXtsPWY/bC54K2wud2lkdGgvMjpsLnkrbC5oZWlnaHQvMjtpZihnPD1jJiZsPmMpYnJlYWs7Zz1sfX1mPWUuZ2V0SW5kZXgoYSk7Zj1NYXRoLm1heCgwLGItKGI+Zj8xOjApKTtkLmFkZChlLGEsZil9fTsKbXhTdGFja0xheW91dC5wcm90b3R5cGUuZ2V0UGFyZW50U2l6ZT1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmdyYXBoLmdldE1vZGVsKCksYz1iLmdldEdlb21ldHJ5KGEpO251bGwhPXRoaXMuZ3JhcGguY29udGFpbmVyJiYobnVsbD09YyYmYi5pc0xheWVyKGEpfHxhPT10aGlzLmdyYXBoLmdldFZpZXcoKS5jdXJyZW50Um9vdCkmJihjPW5ldyBteFJlY3RhbmdsZSgwLDAsdGhpcy5ncmFwaC5jb250YWluZXIub2Zmc2V0V2lkdGgtMSx0aGlzLmdyYXBoLmNvbnRhaW5lci5vZmZzZXRIZWlnaHQtMSkpO3JldHVybiBjfTsKbXhTdGFja0xheW91dC5wcm90b3R5cGUuZ2V0TGF5b3V0Q2VsbHM9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPXRoaXMuZ3JhcGguZ2V0TW9kZWwoKSxjPWIuZ2V0Q2hpbGRDb3VudChhKSxkPVtdLGU9MDtlPGM7ZSsrKXt2YXIgZj1iLmdldENoaWxkQXQoYSxlKTshdGhpcy5pc1ZlcnRleElnbm9yZWQoZikmJnRoaXMuaXNWZXJ0ZXhNb3ZhYmxlKGYpJiZkLnB1c2goZil9dGhpcy5hbGxvd0dhcHMmJmQuc29ydChteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZ3JhcGguZ2V0Q2VsbEdlb21ldHJ5KGEpLGQ9dGhpcy5ncmFwaC5nZXRDZWxsR2VvbWV0cnkoYik7cmV0dXJuIGMueT09ZC55PzA6Yy55PmQueT4wPzE6LTF9KSk7cmV0dXJuIGR9OwpteFN0YWNrTGF5b3V0LnByb3RvdHlwZS5zbmFwPWZ1bmN0aW9uKGEpe2lmKG51bGwhPXRoaXMuZ3JpZFNpemUmJjA8dGhpcy5ncmlkU2l6ZSYmKGE9TWF0aC5tYXgoYSx0aGlzLmdyaWRTaXplKSwxPGEvdGhpcy5ncmlkU2l6ZSkpe3ZhciBiPWEldGhpcy5ncmlkU2l6ZTthKz1iPnRoaXMuZ3JpZFNpemUvMj90aGlzLmdyaWRTaXplLWI6LWJ9cmV0dXJuIGF9OwpteFN0YWNrTGF5b3V0LnByb3RvdHlwZS5leGVjdXRlPWZ1bmN0aW9uKGEpe2lmKG51bGwhPWEpe3ZhciBiPXRoaXMuZ2V0UGFyZW50U2l6ZShhKSxjPXRoaXMuaXNIb3Jpem9udGFsKCksZD10aGlzLmdyYXBoLmdldE1vZGVsKCksZT1udWxsO251bGwhPWImJihlPWM/Yi5oZWlnaHQtdGhpcy5tYXJnaW5Ub3AtdGhpcy5tYXJnaW5Cb3R0b206Yi53aWR0aC10aGlzLm1hcmdpbkxlZnQtdGhpcy5tYXJnaW5SaWdodCk7dmFyIGU9ZS0yKnRoaXMuYm9yZGVyLGY9dGhpcy54MCt0aGlzLmJvcmRlcit0aGlzLm1hcmdpbkxlZnQsZz10aGlzLnkwK3RoaXMuYm9yZGVyK3RoaXMubWFyZ2luVG9wO2lmKHRoaXMuZ3JhcGguaXNTd2ltbGFuZShhKSl7dmFyIGs9dGhpcy5ncmFwaC5nZXRDZWxsU3R5bGUoYSksbD1teFV0aWxzLmdldE51bWJlcihrLG14Q29uc3RhbnRzLlNUWUxFX1NUQVJUU0laRSxteENvbnN0YW50cy5ERUZBVUxUX1NUQVJUU0laRSksaz0xPT1teFV0aWxzLmdldFZhbHVlKGssbXhDb25zdGFudHMuU1RZTEVfSE9SSVpPTlRBTCwKITApO251bGwhPWImJihsPWs/TWF0aC5taW4obCxiLmhlaWdodCk6TWF0aC5taW4obCxiLndpZHRoKSk7Yz09ayYmKGUtPWwpO2s/Zys9bDpmKz1sfWQuYmVnaW5VcGRhdGUoKTt0cnl7Zm9yKHZhciBsPTAsaz1udWxsLG09MCxuPW51bGwscD10aGlzLmdldExheW91dENlbGxzKGEpLHE9MDtxPHAubGVuZ3RoO3ErKyl7dmFyIHI9cFtxXSx0PWQuZ2V0R2VvbWV0cnkocik7aWYobnVsbCE9dCl7dD10LmNsb25lKCk7bnVsbCE9dGhpcy53cmFwJiZudWxsIT1rJiYoYyYmay54K2sud2lkdGgrdC53aWR0aCsyKnRoaXMuc3BhY2luZz50aGlzLndyYXB8fCFjJiZrLnkray5oZWlnaHQrdC5oZWlnaHQrMip0aGlzLnNwYWNpbmc+dGhpcy53cmFwKSYmKGs9bnVsbCxjP2crPWwrdGhpcy5zcGFjaW5nOmYrPWwrdGhpcy5zcGFjaW5nLGw9MCk7dmFyIGw9TWF0aC5tYXgobCxjP3QuaGVpZ2h0OnQud2lkdGgpLHU9MDtpZighdGhpcy5ib3JkZXJDb2xsYXBzZSl2YXIgeD10aGlzLmdyYXBoLmdldENlbGxTdHlsZShyKSwKdT1teFV0aWxzLmdldE51bWJlcih4LG14Q29uc3RhbnRzLlNUWUxFX1NUUk9LRVdJRFRILDEpO2lmKG51bGwhPWspe3ZhciB5PW0rdGhpcy5zcGFjaW5nK01hdGguZmxvb3IodS8yKTtjP3QueD10aGlzLnNuYXAoKHRoaXMuYWxsb3dHYXBzP01hdGgubWF4KHksdC54KTp5KS10aGlzLm1hcmdpbkxlZnQpK3RoaXMubWFyZ2luTGVmdDp0Lnk9dGhpcy5zbmFwKCh0aGlzLmFsbG93R2Fwcz9NYXRoLm1heCh5LHQueSk6eSktdGhpcy5tYXJnaW5Ub3ApK3RoaXMubWFyZ2luVG9wfWVsc2UgdGhpcy5rZWVwRmlyc3RMb2NhdGlvbnx8KGM/dC54PXRoaXMuYWxsb3dHYXBzJiZ0Lng+Zj9NYXRoLm1heCh0aGlzLnNuYXAodC54LXRoaXMubWFyZ2luTGVmdCkrdGhpcy5tYXJnaW5MZWZ0LGYpOmY6dC55PXRoaXMuYWxsb3dHYXBzJiZ0Lnk+Zz9NYXRoLm1heCh0aGlzLnNuYXAodC55LXRoaXMubWFyZ2luVG9wKSt0aGlzLm1hcmdpblRvcCxnKTpnKTtjP3QueT1nOnQueD1mO3RoaXMuZmlsbCYmbnVsbCE9CmUmJihjP3QuaGVpZ2h0PWU6dC53aWR0aD1lKTtjP3Qud2lkdGg9dGhpcy5zbmFwKHQud2lkdGgpOnQuaGVpZ2h0PXRoaXMuc25hcCh0LmhlaWdodCk7dGhpcy5zZXRDaGlsZEdlb21ldHJ5KHIsdCk7bj1yO2s9dDttPWM/ay54K2sud2lkdGgrTWF0aC5mbG9vcih1LzIpOmsueStrLmhlaWdodCtNYXRoLmZsb29yKHUvMil9fXRoaXMucmVzaXplUGFyZW50JiZudWxsIT1iJiZudWxsIT1rJiYhdGhpcy5ncmFwaC5pc0NlbGxDb2xsYXBzZWQoYSk/dGhpcy51cGRhdGVQYXJlbnRHZW9tZXRyeShhLGIsayk6dGhpcy5yZXNpemVMYXN0JiZudWxsIT1iJiZudWxsIT1rJiZudWxsIT1uJiYoYz9rLndpZHRoPWIud2lkdGgtay54LXRoaXMuc3BhY2luZy10aGlzLm1hcmdpblJpZ2h0LXRoaXMubWFyZ2luTGVmdDprLmhlaWdodD1iLmhlaWdodC1rLnktdGhpcy5zcGFjaW5nLXRoaXMubWFyZ2luQm90dG9tLHRoaXMuc2V0Q2hpbGRHZW9tZXRyeShuLGspKX1maW5hbGx5e2QuZW5kVXBkYXRlKCl9fX07Cm14U3RhY2tMYXlvdXQucHJvdG90eXBlLnNldENoaWxkR2VvbWV0cnk9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdyYXBoLmdldENlbGxHZW9tZXRyeShhKTtudWxsIT1jJiZiLng9PWMueCYmYi55PT1jLnkmJmIud2lkdGg9PWMud2lkdGgmJmIuaGVpZ2h0PT1jLmhlaWdodHx8dGhpcy5ncmFwaC5nZXRNb2RlbCgpLnNldEdlb21ldHJ5KGEsYil9OwpteFN0YWNrTGF5b3V0LnByb3RvdHlwZS51cGRhdGVQYXJlbnRHZW9tZXRyeT1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcy5pc0hvcml6b250YWwoKSxlPXRoaXMuZ3JhcGguZ2V0TW9kZWwoKSxmPWIuY2xvbmUoKTtkPyhjPWMueCtjLndpZHRoK3RoaXMubWFyZ2luUmlnaHQrdGhpcy5ib3JkZXIsZi53aWR0aD10aGlzLnJlc2l6ZVBhcmVudE1heD9NYXRoLm1heChmLndpZHRoLGMpOmMpOihjPWMueStjLmhlaWdodCt0aGlzLm1hcmdpbkJvdHRvbSt0aGlzLmJvcmRlcixmLmhlaWdodD10aGlzLnJlc2l6ZVBhcmVudE1heD9NYXRoLm1heChmLmhlaWdodCxjKTpjKTtiLng9PWYueCYmYi55PT1mLnkmJmIud2lkdGg9PWYud2lkdGgmJmIuaGVpZ2h0PT1mLmhlaWdodHx8ZS5zZXRHZW9tZXRyeShhLGYpfTsKZnVuY3Rpb24gbXhQYXJ0aXRpb25MYXlvdXQoYSxiLGMsZCl7bXhHcmFwaExheW91dC5jYWxsKHRoaXMsYSk7dGhpcy5ob3Jpem9udGFsPW51bGwhPWI/YjohMDt0aGlzLnNwYWNpbmc9Y3x8MDt0aGlzLmJvcmRlcj1kfHwwfW14UGFydGl0aW9uTGF5b3V0LnByb3RvdHlwZT1uZXcgbXhHcmFwaExheW91dDtteFBhcnRpdGlvbkxheW91dC5wcm90b3R5cGUuY29uc3RydWN0b3I9bXhQYXJ0aXRpb25MYXlvdXQ7bXhQYXJ0aXRpb25MYXlvdXQucHJvdG90eXBlLmhvcml6b250YWw9bnVsbDtteFBhcnRpdGlvbkxheW91dC5wcm90b3R5cGUuc3BhY2luZz1udWxsO214UGFydGl0aW9uTGF5b3V0LnByb3RvdHlwZS5ib3JkZXI9bnVsbDtteFBhcnRpdGlvbkxheW91dC5wcm90b3R5cGUucmVzaXplVmVydGljZXM9ITA7bXhQYXJ0aXRpb25MYXlvdXQucHJvdG90eXBlLmlzSG9yaXpvbnRhbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmhvcml6b250YWx9OwpteFBhcnRpdGlvbkxheW91dC5wcm90b3R5cGUubW92ZUNlbGw9ZnVuY3Rpb24oYSxiLGMpe2M9dGhpcy5ncmFwaC5nZXRNb2RlbCgpO3ZhciBkPWMuZ2V0UGFyZW50KGEpO2lmKG51bGwhPWEmJm51bGwhPWQpe3ZhciBlLGY9MCxnPWMuZ2V0Q2hpbGRDb3VudChkKTtmb3IoZT0wO2U8ZztlKyspe3ZhciBrPWMuZ2V0Q2hpbGRBdChkLGUpLGs9dGhpcy5nZXRWZXJ0ZXhCb3VuZHMoayk7aWYobnVsbCE9ayl7az1rLngray53aWR0aC8yO2lmKGY8YiYmaz5iKWJyZWFrO2Y9a319Yj1kLmdldEluZGV4KGEpO2I9TWF0aC5tYXgoMCxlLShlPmI/MTowKSk7Yy5hZGQoZCxhLGIpfX07Cm14UGFydGl0aW9uTGF5b3V0LnByb3RvdHlwZS5leGVjdXRlPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuaXNIb3Jpem9udGFsKCksYz10aGlzLmdyYXBoLmdldE1vZGVsKCksZD1jLmdldEdlb21ldHJ5KGEpO251bGwhPXRoaXMuZ3JhcGguY29udGFpbmVyJiYobnVsbD09ZCYmYy5pc0xheWVyKGEpfHxhPT10aGlzLmdyYXBoLmdldFZpZXcoKS5jdXJyZW50Um9vdCkmJihkPW5ldyBteFJlY3RhbmdsZSgwLDAsdGhpcy5ncmFwaC5jb250YWluZXIub2Zmc2V0V2lkdGgtMSx0aGlzLmdyYXBoLmNvbnRhaW5lci5vZmZzZXRIZWlnaHQtMSkpO2lmKG51bGwhPWQpe2Zvcih2YXIgZT1bXSxmPWMuZ2V0Q2hpbGRDb3VudChhKSxnPTA7ZzxmO2crKyl7dmFyIGs9Yy5nZXRDaGlsZEF0KGEsZyk7IXRoaXMuaXNWZXJ0ZXhJZ25vcmVkKGspJiZ0aGlzLmlzVmVydGV4TW92YWJsZShrKSYmZS5wdXNoKGspfWY9ZS5sZW5ndGg7aWYoMDxmKXt2YXIgbD10aGlzLmJvcmRlcixtPXRoaXMuYm9yZGVyLG49Yj8KZC5oZWlnaHQ6ZC53aWR0aCxuPW4tMip0aGlzLmJvcmRlcjthPXRoaXMuZ3JhcGguaXNTd2ltbGFuZShhKT90aGlzLmdyYXBoLmdldFN0YXJ0U2l6ZShhKTpuZXcgbXhSZWN0YW5nbGU7bi09Yj9hLmhlaWdodDphLndpZHRoO2wrPWEud2lkdGg7bSs9YS5oZWlnaHQ7YT10aGlzLmJvcmRlcisoZi0xKSp0aGlzLnNwYWNpbmc7ZD1iPyhkLndpZHRoLWwtYSkvZjooZC5oZWlnaHQtbS1hKS9mO2lmKDA8ZCl7Yy5iZWdpblVwZGF0ZSgpO3RyeXtmb3IoZz0wO2c8ZjtnKyspe3ZhciBrPWVbZ10scD1jLmdldEdlb21ldHJ5KGspO251bGwhPXAmJihwPXAuY2xvbmUoKSxwLng9bCxwLnk9bSxiPyh0aGlzLnJlc2l6ZVZlcnRpY2VzJiYocC53aWR0aD1kLHAuaGVpZ2h0PW4pLGwrPWQrdGhpcy5zcGFjaW5nKToodGhpcy5yZXNpemVWZXJ0aWNlcyYmKHAuaGVpZ2h0PWQscC53aWR0aD1uKSxtKz1kK3RoaXMuc3BhY2luZyksYy5zZXRHZW9tZXRyeShrLHApKX19ZmluYWxseXtjLmVuZFVwZGF0ZSgpfX19fX07CmZ1bmN0aW9uIG14Q29tcGFjdFRyZWVMYXlvdXQoYSxiLGMpe214R3JhcGhMYXlvdXQuY2FsbCh0aGlzLGEpO3RoaXMuaG9yaXpvbnRhbD1udWxsIT1iP2I6ITA7dGhpcy5pbnZlcnQ9bnVsbCE9Yz9jOiExfW14Q29tcGFjdFRyZWVMYXlvdXQucHJvdG90eXBlPW5ldyBteEdyYXBoTGF5b3V0O214Q29tcGFjdFRyZWVMYXlvdXQucHJvdG90eXBlLmNvbnN0cnVjdG9yPW14Q29tcGFjdFRyZWVMYXlvdXQ7bXhDb21wYWN0VHJlZUxheW91dC5wcm90b3R5cGUuaG9yaXpvbnRhbD1udWxsO214Q29tcGFjdFRyZWVMYXlvdXQucHJvdG90eXBlLmludmVydD1udWxsO214Q29tcGFjdFRyZWVMYXlvdXQucHJvdG90eXBlLnJlc2l6ZVBhcmVudD0hMDtteENvbXBhY3RUcmVlTGF5b3V0LnByb3RvdHlwZS5tYWludGFpblBhcmVudExvY2F0aW9uPSExO214Q29tcGFjdFRyZWVMYXlvdXQucHJvdG90eXBlLmdyb3VwUGFkZGluZz0xMDsKbXhDb21wYWN0VHJlZUxheW91dC5wcm90b3R5cGUuZ3JvdXBQYWRkaW5nVG9wPTA7bXhDb21wYWN0VHJlZUxheW91dC5wcm90b3R5cGUuZ3JvdXBQYWRkaW5nUmlnaHQ9MDtteENvbXBhY3RUcmVlTGF5b3V0LnByb3RvdHlwZS5ncm91cFBhZGRpbmdCb3R0b209MDtteENvbXBhY3RUcmVlTGF5b3V0LnByb3RvdHlwZS5ncm91cFBhZGRpbmdMZWZ0PTA7bXhDb21wYWN0VHJlZUxheW91dC5wcm90b3R5cGUucGFyZW50c0NoYW5nZWQ9bnVsbDtteENvbXBhY3RUcmVlTGF5b3V0LnByb3RvdHlwZS5tb3ZlVHJlZT0hMTtteENvbXBhY3RUcmVlTGF5b3V0LnByb3RvdHlwZS52aXNpdGVkPW51bGw7bXhDb21wYWN0VHJlZUxheW91dC5wcm90b3R5cGUubGV2ZWxEaXN0YW5jZT0xMDtteENvbXBhY3RUcmVlTGF5b3V0LnByb3RvdHlwZS5ub2RlRGlzdGFuY2U9MjA7bXhDb21wYWN0VHJlZUxheW91dC5wcm90b3R5cGUucmVzZXRFZGdlcz0hMDsKbXhDb21wYWN0VHJlZUxheW91dC5wcm90b3R5cGUucHJlZkhvekVkZ2VTZXA9NTtteENvbXBhY3RUcmVlTGF5b3V0LnByb3RvdHlwZS5wcmVmVmVydEVkZ2VPZmY9NDtteENvbXBhY3RUcmVlTGF5b3V0LnByb3RvdHlwZS5taW5FZGdlSmV0dHk9ODtteENvbXBhY3RUcmVlTGF5b3V0LnByb3RvdHlwZS5jaGFubmVsQnVmZmVyPTQ7bXhDb21wYWN0VHJlZUxheW91dC5wcm90b3R5cGUuZWRnZVJvdXRpbmc9ITA7bXhDb21wYWN0VHJlZUxheW91dC5wcm90b3R5cGUuc29ydEVkZ2VzPSExO214Q29tcGFjdFRyZWVMYXlvdXQucHJvdG90eXBlLmFsaWduUmFua3M9ITE7bXhDb21wYWN0VHJlZUxheW91dC5wcm90b3R5cGUubWF4UmFua0hlaWdodD1udWxsO214Q29tcGFjdFRyZWVMYXlvdXQucHJvdG90eXBlLnJvb3Q9bnVsbDtteENvbXBhY3RUcmVlTGF5b3V0LnByb3RvdHlwZS5ub2RlPW51bGw7Cm14Q29tcGFjdFRyZWVMYXlvdXQucHJvdG90eXBlLmlzVmVydGV4SWdub3JlZD1mdW5jdGlvbihhKXtyZXR1cm4gbXhHcmFwaExheW91dC5wcm90b3R5cGUuaXNWZXJ0ZXhJZ25vcmVkLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8MD09dGhpcy5ncmFwaC5nZXRDb25uZWN0aW9ucyhhKS5sZW5ndGh9O214Q29tcGFjdFRyZWVMYXlvdXQucHJvdG90eXBlLmlzSG9yaXpvbnRhbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmhvcml6b250YWx9OwpteENvbXBhY3RUcmVlTGF5b3V0LnByb3RvdHlwZS5leGVjdXRlPWZ1bmN0aW9uKGEsYil7dGhpcy5wYXJlbnQ9YTt2YXIgYz10aGlzLmdyYXBoLmdldE1vZGVsKCk7aWYobnVsbD09YilpZigwPHRoaXMuZ3JhcGguZ2V0RWRnZXMoYSxjLmdldFBhcmVudChhKSx0aGlzLmludmVydCwhdGhpcy5pbnZlcnQsITEpLmxlbmd0aCl0aGlzLnJvb3Q9YTtlbHNle3ZhciBkPXRoaXMuZ3JhcGguZmluZFRyZWVSb290cyhhLCEwLHRoaXMuaW52ZXJ0KTtpZigwPGQubGVuZ3RoKWZvcih2YXIgZT0wO2U8ZC5sZW5ndGg7ZSsrKWlmKCF0aGlzLmlzVmVydGV4SWdub3JlZChkW2VdKSYmMDx0aGlzLmdyYXBoLmdldEVkZ2VzKGRbZV0sbnVsbCx0aGlzLmludmVydCwhdGhpcy5pbnZlcnQsITEpLmxlbmd0aCl7dGhpcy5yb290PWRbZV07YnJlYWt9fWVsc2UgdGhpcy5yb290PWI7aWYobnVsbCE9dGhpcy5yb290KXt0aGlzLnBhcmVudHNDaGFuZ2VkPXRoaXMucmVzaXplUGFyZW50P3t9Om51bGw7dGhpcy5wYXJlbnRZPQp0aGlzLnBhcmVudFg9bnVsbDtpZihhIT10aGlzLnJvb3QmJm51bGwhPWMuaXNWZXJ0ZXgoYSkmJnRoaXMubWFpbnRhaW5QYXJlbnRMb2NhdGlvbil7dmFyIGY9dGhpcy5ncmFwaC5nZXRDZWxsR2VvbWV0cnkoYSk7bnVsbCE9ZiYmKHRoaXMucGFyZW50WD1mLngsdGhpcy5wYXJlbnRZPWYueSl9Yy5iZWdpblVwZGF0ZSgpO3RyeXtpZih0aGlzLnZpc2l0ZWQ9e30sdGhpcy5ub2RlPXRoaXMuZGZzKHRoaXMucm9vdCxhKSx0aGlzLmFsaWduUmFua3MmJih0aGlzLm1heFJhbmtIZWlnaHQ9W10sdGhpcy5maW5kUmFua0hlaWdodHModGhpcy5ub2RlLDApLHRoaXMuc2V0Q2VsbEhlaWdodHModGhpcy5ub2RlLDApKSxudWxsIT10aGlzLm5vZGUpe3RoaXMubGF5b3V0KHRoaXMubm9kZSk7dmFyIGc9dGhpcy5ncmFwaC5ncmlkU2l6ZSxkPWc7aWYoIXRoaXMubW92ZVRyZWUpe3ZhciBrPXRoaXMuZ2V0VmVydGV4Qm91bmRzKHRoaXMucm9vdCk7bnVsbCE9ayYmKGc9ay54LGQ9ay55KX1rPW51bGw7Cms9dGhpcy5pc0hvcml6b250YWwoKT90aGlzLmhvcml6b250YWxMYXlvdXQodGhpcy5ub2RlLGcsZCk6dGhpcy52ZXJ0aWNhbExheW91dCh0aGlzLm5vZGUsbnVsbCxnLGQpO2lmKG51bGwhPWspe3ZhciBsPWU9MDswPmsueCYmKGU9TWF0aC5hYnMoZy1rLngpKTswPmsueSYmKGw9TWF0aC5hYnMoZC1rLnkpKTswPT1lJiYwPT1sfHx0aGlzLm1vdmVOb2RlKHRoaXMubm9kZSxlLGwpO3RoaXMucmVzaXplUGFyZW50JiZ0aGlzLmFkanVzdFBhcmVudHMoKTt0aGlzLmVkZ2VSb3V0aW5nJiZ0aGlzLmxvY2FsRWRnZVByb2Nlc3NpbmcodGhpcy5ub2RlKX1udWxsIT10aGlzLnBhcmVudFgmJm51bGwhPXRoaXMucGFyZW50WSYmKGY9dGhpcy5ncmFwaC5nZXRDZWxsR2VvbWV0cnkoYSksbnVsbCE9ZiYmKGY9Zi5jbG9uZSgpLGYueD10aGlzLnBhcmVudFgsZi55PXRoaXMucGFyZW50WSxjLnNldEdlb21ldHJ5KGEsZikpKX19ZmluYWxseXtjLmVuZFVwZGF0ZSgpfX19OwpteENvbXBhY3RUcmVlTGF5b3V0LnByb3RvdHlwZS5tb3ZlTm9kZT1mdW5jdGlvbihhLGIsYyl7YS54Kz1iO2EueSs9Yzt0aGlzLmFwcGx5KGEpO2ZvcihhPWEuY2hpbGQ7bnVsbCE9YTspdGhpcy5tb3ZlTm9kZShhLGIsYyksYT1hLm5leHR9OwpteENvbXBhY3RUcmVlTGF5b3V0LnByb3RvdHlwZS5zb3J0T3V0Z29pbmdFZGdlcz1mdW5jdGlvbihhLGIpe3ZhciBjPW5ldyBteERpY3Rpb25hcnk7Yi5zb3J0KGZ1bmN0aW9uKGIsZSl7dmFyIGQ9Yi5nZXRUZXJtaW5hbChiLmdldFRlcm1pbmFsKCExKT09YSksZz1jLmdldChkKTtudWxsPT1nJiYoZz1teENlbGxQYXRoLmNyZWF0ZShkKS5zcGxpdChteENlbGxQYXRoLlBBVEhfU0VQQVJBVE9SKSxjLnB1dChkLGcpKTt2YXIgZD1lLmdldFRlcm1pbmFsKGUuZ2V0VGVybWluYWwoITEpPT1hKSxrPWMuZ2V0KGQpO251bGw9PWsmJihrPW14Q2VsbFBhdGguY3JlYXRlKGQpLnNwbGl0KG14Q2VsbFBhdGguUEFUSF9TRVBBUkFUT1IpLGMucHV0KGQsaykpO3JldHVybiBteENlbGxQYXRoLmNvbXBhcmUoZyxrKX0pfTsKbXhDb21wYWN0VHJlZUxheW91dC5wcm90b3R5cGUuZmluZFJhbmtIZWlnaHRzPWZ1bmN0aW9uKGEsYil7aWYobnVsbD09dGhpcy5tYXhSYW5rSGVpZ2h0W2JdfHx0aGlzLm1heFJhbmtIZWlnaHRbYl08YS5oZWlnaHQpdGhpcy5tYXhSYW5rSGVpZ2h0W2JdPWEuaGVpZ2h0O2Zvcih2YXIgYz1hLmNoaWxkO251bGwhPWM7KXRoaXMuZmluZFJhbmtIZWlnaHRzKGMsYisxKSxjPWMubmV4dH07bXhDb21wYWN0VHJlZUxheW91dC5wcm90b3R5cGUuc2V0Q2VsbEhlaWdodHM9ZnVuY3Rpb24oYSxiKXtudWxsIT10aGlzLm1heFJhbmtIZWlnaHRbYl0mJnRoaXMubWF4UmFua0hlaWdodFtiXT5hLmhlaWdodCYmKGEuaGVpZ2h0PXRoaXMubWF4UmFua0hlaWdodFtiXSk7Zm9yKHZhciBjPWEuY2hpbGQ7bnVsbCE9YzspdGhpcy5zZXRDZWxsSGVpZ2h0cyhjLGIrMSksYz1jLm5leHR9OwpteENvbXBhY3RUcmVlTGF5b3V0LnByb3RvdHlwZS5kZnM9ZnVuY3Rpb24oYSxiKXt2YXIgYz1teENlbGxQYXRoLmNyZWF0ZShhKSxkPW51bGw7aWYobnVsbCE9YSYmbnVsbD09dGhpcy52aXNpdGVkW2NdJiYhdGhpcy5pc1ZlcnRleElnbm9yZWQoYSkpe3RoaXMudmlzaXRlZFtjXT1hO3ZhciBkPXRoaXMuY3JlYXRlTm9kZShhKSxjPXRoaXMuZ3JhcGguZ2V0TW9kZWwoKSxlPW51bGwsZj10aGlzLmdyYXBoLmdldEVkZ2VzKGEsYix0aGlzLmludmVydCwhdGhpcy5pbnZlcnQsITEsITApLGc9dGhpcy5ncmFwaC5nZXRWaWV3KCk7dGhpcy5zb3J0RWRnZXMmJnRoaXMuc29ydE91dGdvaW5nRWRnZXMoYSxmKTtmb3IodmFyIGs9MDtrPGYubGVuZ3RoO2srKyl7dmFyIGw9ZltrXTtpZighdGhpcy5pc0VkZ2VJZ25vcmVkKGwpKXt0aGlzLnJlc2V0RWRnZXMmJnRoaXMuc2V0RWRnZVBvaW50cyhsLG51bGwpO3RoaXMuZWRnZVJvdXRpbmcmJih0aGlzLnNldEVkZ2VTdHlsZUVuYWJsZWQobCwhMSksCnRoaXMuc2V0RWRnZVBvaW50cyhsLG51bGwpKTt2YXIgbT1nLmdldFN0YXRlKGwpLGw9bnVsbCE9bT9tLmdldFZpc2libGVUZXJtaW5hbCh0aGlzLmludmVydCk6Zy5nZXRWaXNpYmxlVGVybWluYWwobCx0aGlzLmludmVydCksbT10aGlzLmRmcyhsLGIpO251bGwhPW0mJm51bGwhPWMuZ2V0R2VvbWV0cnkobCkmJihudWxsPT1lP2QuY2hpbGQ9bTplLm5leHQ9bSxlPW0pfX19cmV0dXJuIGR9O214Q29tcGFjdFRyZWVMYXlvdXQucHJvdG90eXBlLmxheW91dD1mdW5jdGlvbihhKXtpZihudWxsIT1hKXtmb3IodmFyIGI9YS5jaGlsZDtudWxsIT1iOyl0aGlzLmxheW91dChiKSxiPWIubmV4dDtudWxsIT1hLmNoaWxkP3RoaXMuYXR0YWNoUGFyZW50KGEsdGhpcy5qb2luKGEpKTp0aGlzLmxheW91dExlYWYoYSl9fTsKbXhDb21wYWN0VHJlZUxheW91dC5wcm90b3R5cGUuaG9yaXpvbnRhbExheW91dD1mdW5jdGlvbihhLGIsYyxkKXthLngrPWIrYS5vZmZzZXRYO2EueSs9YythLm9mZnNldFk7ZD10aGlzLmFwcGx5KGEsZCk7Yj1hLmNoaWxkO2lmKG51bGwhPWIpe2Q9dGhpcy5ob3Jpem9udGFsTGF5b3V0KGIsYS54LGEueSxkKTtjPWEueStiLm9mZnNldFk7Zm9yKHZhciBlPWIubmV4dDtudWxsIT1lOylkPXRoaXMuaG9yaXpvbnRhbExheW91dChlLGEueCtiLm9mZnNldFgsYyxkKSxjKz1lLm9mZnNldFksZT1lLm5leHR9cmV0dXJuIGR9OwpteENvbXBhY3RUcmVlTGF5b3V0LnByb3RvdHlwZS52ZXJ0aWNhbExheW91dD1mdW5jdGlvbihhLGIsYyxkLGUpe2EueCs9YythLm9mZnNldFk7YS55Kz1kK2Eub2Zmc2V0WDtlPXRoaXMuYXBwbHkoYSxlKTtiPWEuY2hpbGQ7aWYobnVsbCE9Yilmb3IoZT10aGlzLnZlcnRpY2FsTGF5b3V0KGIsYSxhLngsYS55LGUpLGM9YS54K2Iub2Zmc2V0WSxkPWIubmV4dDtudWxsIT1kOyllPXRoaXMudmVydGljYWxMYXlvdXQoZCxhLGMsYS55K2Iub2Zmc2V0WCxlKSxjKz1kLm9mZnNldFksZD1kLm5leHQ7cmV0dXJuIGV9OwpteENvbXBhY3RUcmVlTGF5b3V0LnByb3RvdHlwZS5hdHRhY2hQYXJlbnQ9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLm5vZGVEaXN0YW5jZSt0aGlzLmxldmVsRGlzdGFuY2UsZD0oYi1hLndpZHRoKS8yLXRoaXMubm9kZURpc3RhbmNlLGU9ZCthLndpZHRoKzIqdGhpcy5ub2RlRGlzdGFuY2UtYjthLmNoaWxkLm9mZnNldFg9YythLmhlaWdodDthLmNoaWxkLm9mZnNldFk9ZTthLmNvbnRvdXIudXBwZXJIZWFkPXRoaXMuY3JlYXRlTGluZShhLmhlaWdodCwwLHRoaXMuY3JlYXRlTGluZShjLGUsYS5jb250b3VyLnVwcGVySGVhZCkpO2EuY29udG91ci5sb3dlckhlYWQ9dGhpcy5jcmVhdGVMaW5lKGEuaGVpZ2h0LDAsdGhpcy5jcmVhdGVMaW5lKGMsZCxhLmNvbnRvdXIubG93ZXJIZWFkKSl9OwpteENvbXBhY3RUcmVlTGF5b3V0LnByb3RvdHlwZS5sYXlvdXRMZWFmPWZ1bmN0aW9uKGEpe3ZhciBiPTIqdGhpcy5ub2RlRGlzdGFuY2U7YS5jb250b3VyLnVwcGVyVGFpbD10aGlzLmNyZWF0ZUxpbmUoYS5oZWlnaHQrYiwwKTthLmNvbnRvdXIudXBwZXJIZWFkPWEuY29udG91ci51cHBlclRhaWw7YS5jb250b3VyLmxvd2VyVGFpbD10aGlzLmNyZWF0ZUxpbmUoMCwtYS53aWR0aC1iKTthLmNvbnRvdXIubG93ZXJIZWFkPXRoaXMuY3JlYXRlTGluZShhLmhlaWdodCtiLDAsYS5jb250b3VyLmxvd2VyVGFpbCl9OwpteENvbXBhY3RUcmVlTGF5b3V0LnByb3RvdHlwZS5qb2luPWZ1bmN0aW9uKGEpe3ZhciBiPTIqdGhpcy5ub2RlRGlzdGFuY2UsYz1hLmNoaWxkO2EuY29udG91cj1jLmNvbnRvdXI7Zm9yKHZhciBkPWMud2lkdGgrYixlPWQsYz1jLm5leHQ7bnVsbCE9Yzspe3ZhciBmPXRoaXMubWVyZ2UoYS5jb250b3VyLGMuY29udG91cik7Yy5vZmZzZXRZPWYrZDtjLm9mZnNldFg9MDtkPWMud2lkdGgrYjtlKz1mK2Q7Yz1jLm5leHR9cmV0dXJuIGV9OwpteENvbXBhY3RUcmVlTGF5b3V0LnByb3RvdHlwZS5tZXJnZT1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYz0wLGQ9MCxlPTAsZj1hLmxvd2VySGVhZCxnPWIudXBwZXJIZWFkO251bGwhPWcmJm51bGwhPWY7KXt2YXIgaz10aGlzLm9mZnNldChjLGQsZy5keCxnLmR5LGYuZHgsZi5keSksZD1kK2ssZT1lK2s7YytnLmR4PD1mLmR4PyhjKz1nLmR4LGQrPWcuZHksZz1nLm5leHQpOihjLT1mLmR4LGQtPWYuZHksZj1mLm5leHQpfW51bGwhPWc/KGM9dGhpcy5icmlkZ2UoYS51cHBlclRhaWwsMCwwLGcsYyxkKSxhLnVwcGVyVGFpbD1udWxsIT1jLm5leHQ/Yi51cHBlclRhaWw6YyxhLmxvd2VyVGFpbD1iLmxvd2VyVGFpbCk6KGM9dGhpcy5icmlkZ2UoYi5sb3dlclRhaWwsYyxkLGYsMCwwKSxudWxsPT1jLm5leHQmJihhLmxvd2VyVGFpbD1jKSk7YS5sb3dlckhlYWQ9Yi5sb3dlckhlYWQ7cmV0dXJuIGV9OwpteENvbXBhY3RUcmVlTGF5b3V0LnByb3RvdHlwZS5vZmZzZXQ9ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe2lmKGU8PWF8fDA+PWErYylyZXR1cm4gMDthPTA8ZSpkLWMqZj8wPmE/YSpkL2MtYjowPGE/YSpmL2UtYjotYjplPGErYz9mLShiKyhlLWEpKmQvYyk6ZT5hK2M/KGMrYSkqZi9lLShiK2QpOmYtKGIrZCk7cmV0dXJuIDA8YT9hOjB9O214Q29tcGFjdFRyZWVMYXlvdXQucHJvdG90eXBlLmJyaWRnZT1mdW5jdGlvbihhLGIsYyxkLGUsZil7Yj1lK2QuZHgtYjswPT1kLmR4P2U9ZC5keTooZT1iKmQuZHksZS89ZC5keCk7Yj10aGlzLmNyZWF0ZUxpbmUoYixlLGQubmV4dCk7YS5uZXh0PXRoaXMuY3JlYXRlTGluZSgwLGYrZC5keS1lLWMsYik7cmV0dXJuIGJ9OwpteENvbXBhY3RUcmVlTGF5b3V0LnByb3RvdHlwZS5jcmVhdGVOb2RlPWZ1bmN0aW9uKGEpe3ZhciBiPXt9O2IuY2VsbD1hO2IueD0wO2IueT0wO2Iud2lkdGg9MDtiLmhlaWdodD0wO2E9dGhpcy5nZXRWZXJ0ZXhCb3VuZHMoYSk7bnVsbCE9YSYmKHRoaXMuaXNIb3Jpem9udGFsKCk/KGIud2lkdGg9YS5oZWlnaHQsYi5oZWlnaHQ9YS53aWR0aCk6KGIud2lkdGg9YS53aWR0aCxiLmhlaWdodD1hLmhlaWdodCkpO2Iub2Zmc2V0WD0wO2Iub2Zmc2V0WT0wO2IuY29udG91cj17fTtyZXR1cm4gYn07Cm14Q29tcGFjdFRyZWVMYXlvdXQucHJvdG90eXBlLmFwcGx5PWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5ncmFwaC5nZXRNb2RlbCgpLGQ9YS5jZWxsLGU9Yy5nZXRHZW9tZXRyeShkKTtudWxsIT1kJiZudWxsIT1lJiYodGhpcy5pc1ZlcnRleE1vdmFibGUoZCkmJihlPXRoaXMuc2V0VmVydGV4TG9jYXRpb24oZCxhLngsYS55KSx0aGlzLnJlc2l6ZVBhcmVudCYmKGM9Yy5nZXRQYXJlbnQoZCksZD1teENlbGxQYXRoLmNyZWF0ZShjKSxudWxsPT10aGlzLnBhcmVudHNDaGFuZ2VkW2RdJiYodGhpcy5wYXJlbnRzQ2hhbmdlZFtkXT1jKSkpLGI9bnVsbD09Yj9uZXcgbXhSZWN0YW5nbGUoZS54LGUueSxlLndpZHRoLGUuaGVpZ2h0KTpuZXcgbXhSZWN0YW5nbGUoTWF0aC5taW4oYi54LGUueCksTWF0aC5taW4oYi55LGUueSksTWF0aC5tYXgoYi54K2Iud2lkdGgsZS54K2Uud2lkdGgpLE1hdGgubWF4KGIueStiLmhlaWdodCxlLnkrZS5oZWlnaHQpKSk7cmV0dXJuIGJ9OwpteENvbXBhY3RUcmVlTGF5b3V0LnByb3RvdHlwZS5jcmVhdGVMaW5lPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD17fTtkLmR4PWE7ZC5keT1iO2QubmV4dD1jO3JldHVybiBkfTtteENvbXBhY3RUcmVlTGF5b3V0LnByb3RvdHlwZS5hZGp1c3RQYXJlbnRzPWZ1bmN0aW9uKCl7dmFyIGE9W10sYjtmb3IoYiBpbiB0aGlzLnBhcmVudHNDaGFuZ2VkKWEucHVzaCh0aGlzLnBhcmVudHNDaGFuZ2VkW2JdKTt0aGlzLmFycmFuZ2VHcm91cHMobXhVdGlscy5zb3J0Q2VsbHMoYSwhMCksdGhpcy5ncm91cFBhZGRpbmcsdGhpcy5ncm91cFBhZGRpbmdUb3AsdGhpcy5ncm91cFBhZGRpbmdSaWdodCx0aGlzLmdyb3VwUGFkZGluZ0JvdHRvbSx0aGlzLmdyb3VwUGFkZGluZ0xlZnQpfTsKbXhDb21wYWN0VHJlZUxheW91dC5wcm90b3R5cGUubG9jYWxFZGdlUHJvY2Vzc2luZz1mdW5jdGlvbihhKXt0aGlzLnByb2Nlc3NOb2RlT3V0Z29pbmcoYSk7Zm9yKGE9YS5jaGlsZDtudWxsIT1hOyl0aGlzLmxvY2FsRWRnZVByb2Nlc3NpbmcoYSksYT1hLm5leHR9OwpteENvbXBhY3RUcmVlTGF5b3V0LnByb3RvdHlwZS5wcm9jZXNzTm9kZU91dGdvaW5nPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1hLmNoaWxkLGM9YS5jZWxsLGQ9MCxlPVtdO251bGwhPWI7KXtkKys7dmFyIGY9Yi54O3RoaXMuaG9yaXpvbnRhbCYmKGY9Yi55KTtlLnB1c2gobmV3IFdlaWdodGVkQ2VsbFNvcnRlcihiLGYpKTtiPWIubmV4dH1lLnNvcnQoV2VpZ2h0ZWRDZWxsU29ydGVyLnByb3RvdHlwZS5jb21wYXJlKTt2YXIgZj1hLndpZHRoLGc9KGQrMSkqdGhpcy5wcmVmSG96RWRnZVNlcDtmPmcrMip0aGlzLnByZWZIb3pFZGdlU2VwJiYoZi09Mip0aGlzLnByZWZIb3pFZGdlU2VwKTthPWYvZDtiPWEvMjtmPmcrMip0aGlzLnByZWZIb3pFZGdlU2VwJiYoYis9dGhpcy5wcmVmSG96RWRnZVNlcCk7Zm9yKHZhciBmPXRoaXMubWluRWRnZUpldHR5LXRoaXMucHJlZlZlcnRFZGdlT2ZmLGc9dGhpcy5nZXRWZXJ0ZXhCb3VuZHMoYyksaz0wO2s8ZS5sZW5ndGg7aysrKXtmb3IodmFyIGw9CmVba10uY2VsbC5jZWxsLG09dGhpcy5nZXRWZXJ0ZXhCb3VuZHMobCksbD10aGlzLmdyYXBoLmdldEVkZ2VzQmV0d2VlbihjLGwsITEpLG49W10scCxxLHI9MDtyPGwubGVuZ3RoO3IrKyl0aGlzLmhvcml6b250YWw/KHA9Zy54K2cud2lkdGgscT1nLnkrYixuLnB1c2gobmV3IG14UG9pbnQocCxxKSkscD1nLngrZy53aWR0aCtmLG4ucHVzaChuZXcgbXhQb2ludChwLHEpKSxxPW0ueSttLmhlaWdodC8yKToocD1nLngrYixxPWcueStnLmhlaWdodCxuLnB1c2gobmV3IG14UG9pbnQocCxxKSkscT1nLnkrZy5oZWlnaHQrZixuLnB1c2gobmV3IG14UG9pbnQocCxxKSkscD1tLngrbS53aWR0aC8yKSxuLnB1c2gobmV3IG14UG9pbnQocCxxKSksdGhpcy5zZXRFZGdlUG9pbnRzKGxbcl0sbik7azxkLzI/Zis9dGhpcy5wcmVmVmVydEVkZ2VPZmY6az5kLzImJihmLT10aGlzLnByZWZWZXJ0RWRnZU9mZik7Yis9YX19OwpmdW5jdGlvbiBteFJhZGlhbFRyZWVMYXlvdXQoYSl7bXhDb21wYWN0VHJlZUxheW91dC5jYWxsKHRoaXMsYSwhMSl9bXhVdGlscy5leHRlbmQobXhSYWRpYWxUcmVlTGF5b3V0LG14Q29tcGFjdFRyZWVMYXlvdXQpO214UmFkaWFsVHJlZUxheW91dC5wcm90b3R5cGUuYW5nbGVPZmZzZXQ9LjU7bXhSYWRpYWxUcmVlTGF5b3V0LnByb3RvdHlwZS5yb290eD0wO214UmFkaWFsVHJlZUxheW91dC5wcm90b3R5cGUucm9vdHk9MDtteFJhZGlhbFRyZWVMYXlvdXQucHJvdG90eXBlLmxldmVsRGlzdGFuY2U9MTIwO214UmFkaWFsVHJlZUxheW91dC5wcm90b3R5cGUubm9kZURpc3RhbmNlPTEwO214UmFkaWFsVHJlZUxheW91dC5wcm90b3R5cGUuYXV0b1JhZGl1cz0hMTtteFJhZGlhbFRyZWVMYXlvdXQucHJvdG90eXBlLnNvcnRFZGdlcz0hMTtteFJhZGlhbFRyZWVMYXlvdXQucHJvdG90eXBlLnJvd01pblg9W107bXhSYWRpYWxUcmVlTGF5b3V0LnByb3RvdHlwZS5yb3dNYXhYPVtdOwpteFJhZGlhbFRyZWVMYXlvdXQucHJvdG90eXBlLnJvd01pbkNlblg9W107bXhSYWRpYWxUcmVlTGF5b3V0LnByb3RvdHlwZS5yb3dNYXhDZW5YPVtdO214UmFkaWFsVHJlZUxheW91dC5wcm90b3R5cGUucm93UmFkaT1bXTtteFJhZGlhbFRyZWVMYXlvdXQucHJvdG90eXBlLnJvdz1bXTtteFJhZGlhbFRyZWVMYXlvdXQucHJvdG90eXBlLmlzVmVydGV4SWdub3JlZD1mdW5jdGlvbihhKXtyZXR1cm4gbXhHcmFwaExheW91dC5wcm90b3R5cGUuaXNWZXJ0ZXhJZ25vcmVkLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8MD09dGhpcy5ncmFwaC5nZXRDb25uZWN0aW9ucyhhKS5sZW5ndGh9OwpteFJhZGlhbFRyZWVMYXlvdXQucHJvdG90eXBlLmV4ZWN1dGU9ZnVuY3Rpb24oYSxiKXt0aGlzLnBhcmVudD1hO3RoaXMuZWRnZVJvdXRpbmc9dGhpcy51c2VCb3VuZGluZ0JveD0hMTtteENvbXBhY3RUcmVlTGF5b3V0LnByb3RvdHlwZS5leGVjdXRlLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt2YXIgYz1udWxsLGQ9dGhpcy5nZXRWZXJ0ZXhCb3VuZHModGhpcy5yb290KTt0aGlzLmNlbnRlclg9ZC54K2Qud2lkdGgvMjt0aGlzLmNlbnRlclk9ZC55K2QuaGVpZ2h0LzI7Zm9yKHZhciBlIGluIHRoaXMudmlzaXRlZCl7dmFyIGY9dGhpcy5nZXRWZXJ0ZXhCb3VuZHModGhpcy52aXNpdGVkW2VdKSxjPW51bGwhPWM/YzpmLmNsb25lKCk7Yy5hZGQoZil9dGhpcy5jYWxjUm93RGltcyhbdGhpcy5ub2RlXSwwKTtmb3IodmFyIGc9MCxrPTAsYz0wO2M8dGhpcy5yb3cubGVuZ3RoO2MrKyllPSh0aGlzLnJvd01heFhbY10tdGhpcy5jZW50ZXJYLXRoaXMubm9kZURpc3RhbmNlKS90aGlzLnJvd1JhZGlbY10sCmc9TWF0aC5tYXgoZywodGhpcy5jZW50ZXJYLXRoaXMucm93TWluWFtjXS10aGlzLm5vZGVEaXN0YW5jZSkvdGhpcy5yb3dSYWRpW2NdKSxrPU1hdGgubWF4KGssZSk7Zm9yKGM9MDtjPHRoaXMucm93Lmxlbmd0aDtjKyspe3ZhciBsPXRoaXMuY2VudGVyWC10aGlzLm5vZGVEaXN0YW5jZS1nKnRoaXMucm93UmFkaVtjXSxtPXRoaXMuY2VudGVyWCt0aGlzLm5vZGVEaXN0YW5jZStrKnRoaXMucm93UmFkaVtjXS1sO2ZvcihlPTA7ZTx0aGlzLnJvd1tjXS5sZW5ndGg7ZSsrKWY9dGhpcy5yb3dbY10sZD1mW2VdLGY9dGhpcy5nZXRWZXJ0ZXhCb3VuZHMoZC5jZWxsKSxkLnRoZXRhPShmLngrZi53aWR0aC8yLWwpL20qTWF0aC5QSSoyfWZvcihjPXRoaXMucm93Lmxlbmd0aC0yOzA8PWM7Yy0tKWZvcihmPXRoaXMucm93W2NdLGU9MDtlPGYubGVuZ3RoO2UrKyl7ZD1mW2VdO2c9ZC5jaGlsZDtmb3IobD1rPTA7bnVsbCE9ZzspbCs9Zy50aGV0YSxrKyssZz1nLm5leHQ7MDxrJiYoZz1sL2ssZz4KZC50aGV0YSYmZTxmLmxlbmd0aC0xP2QudGhldGE9TWF0aC5taW4oZyxmW2UrMV0udGhldGEtTWF0aC5QSS8xMCk6ZzxkLnRoZXRhJiYwPGUmJihkLnRoZXRhPU1hdGgubWF4KGcsZltlLTFdLnRoZXRhK01hdGguUEkvMTApKSl9Zm9yKGM9MDtjPHRoaXMucm93Lmxlbmd0aDtjKyspZm9yKGU9MDtlPHRoaXMucm93W2NdLmxlbmd0aDtlKyspZj10aGlzLnJvd1tjXSxkPWZbZV0sZj10aGlzLmdldFZlcnRleEJvdW5kcyhkLmNlbGwpLHRoaXMuc2V0VmVydGV4TG9jYXRpb24oZC5jZWxsLHRoaXMuY2VudGVyWC1mLndpZHRoLzIrdGhpcy5yb3dSYWRpW2NdKk1hdGguY29zKGQudGhldGEpLHRoaXMuY2VudGVyWS1mLmhlaWdodC8yK3RoaXMucm93UmFkaVtjXSpNYXRoLnNpbihkLnRoZXRhKSl9OwpteFJhZGlhbFRyZWVMYXlvdXQucHJvdG90eXBlLmNhbGNSb3dEaW1zPWZ1bmN0aW9uKGEsYil7aWYobnVsbCE9YSYmMCE9YS5sZW5ndGgpe3RoaXMucm93TWluWFtiXT10aGlzLmNlbnRlclg7dGhpcy5yb3dNYXhYW2JdPXRoaXMuY2VudGVyWDt0aGlzLnJvd01pbkNlblhbYl09dGhpcy5jZW50ZXJYO3RoaXMucm93TWF4Q2VuWFtiXT10aGlzLmNlbnRlclg7dGhpcy5yb3dbYl09W107Zm9yKHZhciBjPSExLGQ9MDtkPGEubGVuZ3RoO2QrKylmb3IodmFyIGU9bnVsbCE9YVtkXT9hW2RdLmNoaWxkOm51bGw7bnVsbCE9ZTspe3ZhciBmPXRoaXMuZ2V0VmVydGV4Qm91bmRzKGUuY2VsbCk7dGhpcy5yb3dNaW5YW2JdPU1hdGgubWluKGYueCx0aGlzLnJvd01pblhbYl0pO3RoaXMucm93TWF4WFtiXT1NYXRoLm1heChmLngrZi53aWR0aCx0aGlzLnJvd01heFhbYl0pO3RoaXMucm93TWluQ2VuWFtiXT1NYXRoLm1pbihmLngrZi53aWR0aC8yLHRoaXMucm93TWluQ2VuWFtiXSk7dGhpcy5yb3dNYXhDZW5YW2JdPQpNYXRoLm1heChmLngrZi53aWR0aC8yLHRoaXMucm93TWF4Q2VuWFtiXSk7dGhpcy5yb3dSYWRpW2JdPWYueS10aGlzLmdldFZlcnRleEJvdW5kcyh0aGlzLnJvb3QpLnk7bnVsbCE9ZS5jaGlsZCYmKGM9ITApO3RoaXMucm93W2JdLnB1c2goZSk7ZT1lLm5leHR9YyYmdGhpcy5jYWxjUm93RGltcyh0aGlzLnJvd1tiXSxiKzEpfX07ZnVuY3Rpb24gbXhGYXN0T3JnYW5pY0xheW91dChhKXtteEdyYXBoTGF5b3V0LmNhbGwodGhpcyxhKX1teEZhc3RPcmdhbmljTGF5b3V0LnByb3RvdHlwZT1uZXcgbXhHcmFwaExheW91dDtteEZhc3RPcmdhbmljTGF5b3V0LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1teEZhc3RPcmdhbmljTGF5b3V0O214RmFzdE9yZ2FuaWNMYXlvdXQucHJvdG90eXBlLnVzZUlucHV0T3JpZ2luPSEwO214RmFzdE9yZ2FuaWNMYXlvdXQucHJvdG90eXBlLnJlc2V0RWRnZXM9ITA7bXhGYXN0T3JnYW5pY0xheW91dC5wcm90b3R5cGUuZGlzYWJsZUVkZ2VTdHlsZT0hMDsKbXhGYXN0T3JnYW5pY0xheW91dC5wcm90b3R5cGUuZm9yY2VDb25zdGFudD01MDtteEZhc3RPcmdhbmljTGF5b3V0LnByb3RvdHlwZS5mb3JjZUNvbnN0YW50U3F1YXJlZD0wO214RmFzdE9yZ2FuaWNMYXlvdXQucHJvdG90eXBlLm1pbkRpc3RhbmNlTGltaXQ9MjtteEZhc3RPcmdhbmljTGF5b3V0LnByb3RvdHlwZS5tYXhEaXN0YW5jZUxpbWl0PTUwMDtteEZhc3RPcmdhbmljTGF5b3V0LnByb3RvdHlwZS5taW5EaXN0YW5jZUxpbWl0U3F1YXJlZD00O214RmFzdE9yZ2FuaWNMYXlvdXQucHJvdG90eXBlLmluaXRpYWxUZW1wPTIwMDtteEZhc3RPcmdhbmljTGF5b3V0LnByb3RvdHlwZS50ZW1wZXJhdHVyZT0wO214RmFzdE9yZ2FuaWNMYXlvdXQucHJvdG90eXBlLm1heEl0ZXJhdGlvbnM9MDtteEZhc3RPcmdhbmljTGF5b3V0LnByb3RvdHlwZS5pdGVyYXRpb249MDtteEZhc3RPcmdhbmljTGF5b3V0LnByb3RvdHlwZS5hbGxvd2VkVG9SdW49ITA7Cm14RmFzdE9yZ2FuaWNMYXlvdXQucHJvdG90eXBlLmlzVmVydGV4SWdub3JlZD1mdW5jdGlvbihhKXtyZXR1cm4gbXhHcmFwaExheW91dC5wcm90b3R5cGUuaXNWZXJ0ZXhJZ25vcmVkLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8MD09dGhpcy5ncmFwaC5nZXRDb25uZWN0aW9ucyhhKS5sZW5ndGh9OwpteEZhc3RPcmdhbmljTGF5b3V0LnByb3RvdHlwZS5leGVjdXRlPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZ3JhcGguZ2V0TW9kZWwoKTt0aGlzLnZlcnRleEFycmF5PVtdO2Zvcih2YXIgYz10aGlzLmdyYXBoLmdldENoaWxkVmVydGljZXMoYSksZD0wO2Q8Yy5sZW5ndGg7ZCsrKXRoaXMuaXNWZXJ0ZXhJZ25vcmVkKGNbZF0pfHx0aGlzLnZlcnRleEFycmF5LnB1c2goY1tkXSk7dmFyIGU9dGhpcy51c2VJbnB1dE9yaWdpbj90aGlzLmdyYXBoLmdldEJvdW5kaW5nQm94RnJvbUdlb21ldHJ5KHRoaXMudmVydGV4QXJyYXkpOm51bGwsZj10aGlzLnZlcnRleEFycmF5Lmxlbmd0aDt0aGlzLmluZGljZXM9W107dGhpcy5kaXNwWD1bXTt0aGlzLmRpc3BZPVtdO3RoaXMuY2VsbExvY2F0aW9uPVtdO3RoaXMuaXNNb3ZlYWJsZT1bXTt0aGlzLm5laWdoYm91cnM9W107dGhpcy5yYWRpdXM9W107dGhpcy5yYWRpdXNTcXVhcmVkPVtdOy4wMDE+dGhpcy5mb3JjZUNvbnN0YW50JiYodGhpcy5mb3JjZUNvbnN0YW50PQouMDAxKTt0aGlzLmZvcmNlQ29uc3RhbnRTcXVhcmVkPXRoaXMuZm9yY2VDb25zdGFudCp0aGlzLmZvcmNlQ29uc3RhbnQ7Zm9yKGQ9MDtkPHRoaXMudmVydGV4QXJyYXkubGVuZ3RoO2QrKyl7dmFyIGc9dGhpcy52ZXJ0ZXhBcnJheVtkXTt0aGlzLmNlbGxMb2NhdGlvbltkXT1bXTt2YXIgaz1teE9iamVjdElkZW50aXR5LmdldChnKTt0aGlzLmluZGljZXNba109ZDt2YXIgbD10aGlzLmdldFZlcnRleEJvdW5kcyhnKSxtPWwud2lkdGgsbj1sLmhlaWdodCxwPWwueCxxPWwueTt0aGlzLmNlbGxMb2NhdGlvbltkXVswXT1wK20vMjt0aGlzLmNlbGxMb2NhdGlvbltkXVsxXT1xK24vMjt0aGlzLnJhZGl1c1tkXT1NYXRoLm1pbihtLG4pO3RoaXMucmFkaXVzU3F1YXJlZFtkXT10aGlzLnJhZGl1c1tkXSp0aGlzLnJhZGl1c1tkXX1iLmJlZ2luVXBkYXRlKCk7dHJ5e2ZvcihkPTA7ZDxmO2QrKyl7dGhpcy5kaXNwWFtkXT0wO3RoaXMuZGlzcFlbZF09MDt0aGlzLmlzTW92ZWFibGVbZF09dGhpcy5pc1ZlcnRleE1vdmFibGUodGhpcy52ZXJ0ZXhBcnJheVtkXSk7CnZhciByPXRoaXMuZ3JhcGguZ2V0Q29ubmVjdGlvbnModGhpcy52ZXJ0ZXhBcnJheVtkXSxhKSxjPXRoaXMuZ3JhcGguZ2V0T3Bwb3NpdGVzKHIsdGhpcy52ZXJ0ZXhBcnJheVtkXSk7dGhpcy5uZWlnaGJvdXJzW2RdPVtdO2ZvcihtPTA7bTxjLmxlbmd0aDttKyspe3RoaXMucmVzZXRFZGdlcyYmdGhpcy5ncmFwaC5yZXNldEVkZ2UoclttXSk7dGhpcy5kaXNhYmxlRWRnZVN0eWxlJiZ0aGlzLnNldEVkZ2VTdHlsZUVuYWJsZWQoclttXSwhMSk7dmFyIGs9bXhPYmplY3RJZGVudGl0eS5nZXQoY1ttXSksdD10aGlzLmluZGljZXNba107dGhpcy5uZWlnaGJvdXJzW2RdW21dPW51bGwhPXQ/dDpkfX10aGlzLnRlbXBlcmF0dXJlPXRoaXMuaW5pdGlhbFRlbXA7MD09dGhpcy5tYXhJdGVyYXRpb25zJiYodGhpcy5tYXhJdGVyYXRpb25zPTIwKk1hdGguc3FydChmKSk7Zm9yKHRoaXMuaXRlcmF0aW9uPTA7dGhpcy5pdGVyYXRpb248dGhpcy5tYXhJdGVyYXRpb25zO3RoaXMuaXRlcmF0aW9uKyspe2lmKCF0aGlzLmFsbG93ZWRUb1J1bilyZXR1cm47CnRoaXMuY2FsY1JlcHVsc2lvbigpO3RoaXMuY2FsY0F0dHJhY3Rpb24oKTt0aGlzLmNhbGNQb3NpdGlvbnMoKTt0aGlzLnJlZHVjZVRlbXBlcmF0dXJlKCl9YT1jPW51bGw7Zm9yKGQ9MDtkPHRoaXMudmVydGV4QXJyYXkubGVuZ3RoO2QrKylnPXRoaXMudmVydGV4QXJyYXlbZF0sdGhpcy5pc1ZlcnRleE1vdmFibGUoZykmJihsPXRoaXMuZ2V0VmVydGV4Qm91bmRzKGcpLG51bGwhPWwmJih0aGlzLmNlbGxMb2NhdGlvbltkXVswXS09bC53aWR0aC8yLHRoaXMuY2VsbExvY2F0aW9uW2RdWzFdLT1sLmhlaWdodC8yLHA9dGhpcy5ncmFwaC5zbmFwKE1hdGgucm91bmQodGhpcy5jZWxsTG9jYXRpb25bZF1bMF0pKSxxPXRoaXMuZ3JhcGguc25hcChNYXRoLnJvdW5kKHRoaXMuY2VsbExvY2F0aW9uW2RdWzFdKSksdGhpcy5zZXRWZXJ0ZXhMb2NhdGlvbihnLHAscSksYz1udWxsPT1jP3A6TWF0aC5taW4oYyxwKSxhPW51bGw9PWE/cTpNYXRoLm1pbihhLHEpKSk7ZD0tKGN8fDApKzE7Zz0tKGF8fAowKSsxO251bGwhPWUmJihkKz1lLngsZys9ZS55KTt0aGlzLmdyYXBoLm1vdmVDZWxscyh0aGlzLnZlcnRleEFycmF5LGQsZyl9ZmluYWxseXtiLmVuZFVwZGF0ZSgpfX07bXhGYXN0T3JnYW5pY0xheW91dC5wcm90b3R5cGUuY2FsY1Bvc2l0aW9ucz1mdW5jdGlvbigpe2Zvcih2YXIgYT0wO2E8dGhpcy52ZXJ0ZXhBcnJheS5sZW5ndGg7YSsrKWlmKHRoaXMuaXNNb3ZlYWJsZVthXSl7dmFyIGI9TWF0aC5zcXJ0KHRoaXMuZGlzcFhbYV0qdGhpcy5kaXNwWFthXSt0aGlzLmRpc3BZW2FdKnRoaXMuZGlzcFlbYV0pOy4wMDE+YiYmKGI9LjAwMSk7dmFyIGM9dGhpcy5kaXNwWFthXS9iKk1hdGgubWluKGIsdGhpcy50ZW1wZXJhdHVyZSksYj10aGlzLmRpc3BZW2FdL2IqTWF0aC5taW4oYix0aGlzLnRlbXBlcmF0dXJlKTt0aGlzLmRpc3BYW2FdPTA7dGhpcy5kaXNwWVthXT0wO3RoaXMuY2VsbExvY2F0aW9uW2FdWzBdKz1jO3RoaXMuY2VsbExvY2F0aW9uW2FdWzFdKz1ifX07Cm14RmFzdE9yZ2FuaWNMYXlvdXQucHJvdG90eXBlLmNhbGNBdHRyYWN0aW9uPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPTA7YTx0aGlzLnZlcnRleEFycmF5Lmxlbmd0aDthKyspZm9yKHZhciBiPTA7Yjx0aGlzLm5laWdoYm91cnNbYV0ubGVuZ3RoO2IrKyl7dmFyIGM9dGhpcy5uZWlnaGJvdXJzW2FdW2JdO2lmKGEhPWMmJnRoaXMuaXNNb3ZlYWJsZVthXSYmdGhpcy5pc01vdmVhYmxlW2NdKXt2YXIgZD10aGlzLmNlbGxMb2NhdGlvblthXVswXS10aGlzLmNlbGxMb2NhdGlvbltjXVswXSxlPXRoaXMuY2VsbExvY2F0aW9uW2FdWzFdLXRoaXMuY2VsbExvY2F0aW9uW2NdWzFdLGY9ZCpkK2UqZS10aGlzLnJhZGl1c1NxdWFyZWRbYV0tdGhpcy5yYWRpdXNTcXVhcmVkW2NdO2Y8dGhpcy5taW5EaXN0YW5jZUxpbWl0U3F1YXJlZCYmKGY9dGhpcy5taW5EaXN0YW5jZUxpbWl0U3F1YXJlZCk7dmFyIGc9TWF0aC5zcXJ0KGYpLGY9Zi90aGlzLmZvcmNlQ29uc3RhbnQsZD1kL2cqZixlPWUvZypmOwp0aGlzLmRpc3BYW2FdLT1kO3RoaXMuZGlzcFlbYV0tPWU7dGhpcy5kaXNwWFtjXSs9ZDt0aGlzLmRpc3BZW2NdKz1lfX19OwpteEZhc3RPcmdhbmljTGF5b3V0LnByb3RvdHlwZS5jYWxjUmVwdWxzaW9uPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPXRoaXMudmVydGV4QXJyYXkubGVuZ3RoLGI9MDtiPGE7YisrKWZvcih2YXIgYz1iO2M8YTtjKyspe2lmKCF0aGlzLmFsbG93ZWRUb1J1bilyZXR1cm47aWYoYyE9YiYmdGhpcy5pc01vdmVhYmxlW2JdJiZ0aGlzLmlzTW92ZWFibGVbY10pe3ZhciBkPXRoaXMuY2VsbExvY2F0aW9uW2JdWzBdLXRoaXMuY2VsbExvY2F0aW9uW2NdWzBdLGU9dGhpcy5jZWxsTG9jYXRpb25bYl1bMV0tdGhpcy5jZWxsTG9jYXRpb25bY11bMV07MD09ZCYmKGQ9LjAxK01hdGgucmFuZG9tKCkpOzA9PWUmJihlPS4wMStNYXRoLnJhbmRvbSgpKTt2YXIgZj1NYXRoLnNxcnQoZCpkK2UqZSksZz1mLXRoaXMucmFkaXVzW2JdLXRoaXMucmFkaXVzW2NdO2c+dGhpcy5tYXhEaXN0YW5jZUxpbWl0fHwoZzx0aGlzLm1pbkRpc3RhbmNlTGltaXQmJihnPXRoaXMubWluRGlzdGFuY2VMaW1pdCksZz10aGlzLmZvcmNlQ29uc3RhbnRTcXVhcmVkLwpnLGQ9ZC9mKmcsZT1lL2YqZyx0aGlzLmRpc3BYW2JdKz1kLHRoaXMuZGlzcFlbYl0rPWUsdGhpcy5kaXNwWFtjXS09ZCx0aGlzLmRpc3BZW2NdLT1lKX19fTtteEZhc3RPcmdhbmljTGF5b3V0LnByb3RvdHlwZS5yZWR1Y2VUZW1wZXJhdHVyZT1mdW5jdGlvbigpe3RoaXMudGVtcGVyYXR1cmU9dGhpcy5pbml0aWFsVGVtcCooMS10aGlzLml0ZXJhdGlvbi90aGlzLm1heEl0ZXJhdGlvbnMpfTtmdW5jdGlvbiBteENpcmNsZUxheW91dChhLGIpe214R3JhcGhMYXlvdXQuY2FsbCh0aGlzLGEpO3RoaXMucmFkaXVzPW51bGwhPWI/YjoxMDB9bXhDaXJjbGVMYXlvdXQucHJvdG90eXBlPW5ldyBteEdyYXBoTGF5b3V0O214Q2lyY2xlTGF5b3V0LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1teENpcmNsZUxheW91dDtteENpcmNsZUxheW91dC5wcm90b3R5cGUucmFkaXVzPW51bGw7bXhDaXJjbGVMYXlvdXQucHJvdG90eXBlLm1vdmVDaXJjbGU9ITE7Cm14Q2lyY2xlTGF5b3V0LnByb3RvdHlwZS54MD0wO214Q2lyY2xlTGF5b3V0LnByb3RvdHlwZS55MD0wO214Q2lyY2xlTGF5b3V0LnByb3RvdHlwZS5yZXNldEVkZ2VzPSEwO214Q2lyY2xlTGF5b3V0LnByb3RvdHlwZS5kaXNhYmxlRWRnZVN0eWxlPSEwOwpteENpcmNsZUxheW91dC5wcm90b3R5cGUuZXhlY3V0ZT1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmdyYXBoLmdldE1vZGVsKCk7Yi5iZWdpblVwZGF0ZSgpO3RyeXtmb3IodmFyIGM9MCxkPW51bGwsZT1udWxsLGY9W10sZz1iLmdldENoaWxkQ291bnQoYSksaz0wO2s8ZztrKyspe3ZhciBsPWIuZ2V0Q2hpbGRBdChhLGspO2lmKHRoaXMuaXNWZXJ0ZXhJZ25vcmVkKGwpKXRoaXMuaXNFZGdlSWdub3JlZChsKXx8KHRoaXMucmVzZXRFZGdlcyYmdGhpcy5ncmFwaC5yZXNldEVkZ2UobCksdGhpcy5kaXNhYmxlRWRnZVN0eWxlJiZ0aGlzLnNldEVkZ2VTdHlsZUVuYWJsZWQobCwhMSkpO2Vsc2V7Zi5wdXNoKGwpO3ZhciBtPXRoaXMuZ2V0VmVydGV4Qm91bmRzKGwpLGQ9bnVsbD09ZD9tLnk6TWF0aC5taW4oZCxtLnkpLGU9bnVsbD09ZT9tLng6TWF0aC5taW4oZSxtLngpLGM9TWF0aC5tYXgoYyxNYXRoLm1heChtLndpZHRoLG0uaGVpZ2h0KSl9fXZhciBuPXRoaXMuZ2V0UmFkaXVzKGYubGVuZ3RoLApjKTt0aGlzLm1vdmVDaXJjbGUmJihlPXRoaXMueDAsZD10aGlzLnkwKTt0aGlzLmNpcmNsZShmLG4sZSxkKX1maW5hbGx5e2IuZW5kVXBkYXRlKCl9fTtteENpcmNsZUxheW91dC5wcm90b3R5cGUuZ2V0UmFkaXVzPWZ1bmN0aW9uKGEsYil7cmV0dXJuIE1hdGgubWF4KGEqYi9NYXRoLlBJLHRoaXMucmFkaXVzKX07bXhDaXJjbGVMYXlvdXQucHJvdG90eXBlLmNpcmNsZT1mdW5jdGlvbihhLGIsYyxkKXtmb3IodmFyIGU9YS5sZW5ndGgsZj0yKk1hdGguUEkvZSxnPTA7ZzxlO2crKyl0aGlzLmlzVmVydGV4TW92YWJsZShhW2ddKSYmdGhpcy5zZXRWZXJ0ZXhMb2NhdGlvbihhW2ddLE1hdGgucm91bmQoYytiK2IqTWF0aC5zaW4oZypmKSksTWF0aC5yb3VuZChkK2IrYipNYXRoLmNvcyhnKmYpKSl9O2Z1bmN0aW9uIG14UGFyYWxsZWxFZGdlTGF5b3V0KGEpe214R3JhcGhMYXlvdXQuY2FsbCh0aGlzLGEpfW14UGFyYWxsZWxFZGdlTGF5b3V0LnByb3RvdHlwZT1uZXcgbXhHcmFwaExheW91dDsKbXhQYXJhbGxlbEVkZ2VMYXlvdXQucHJvdG90eXBlLmNvbnN0cnVjdG9yPW14UGFyYWxsZWxFZGdlTGF5b3V0O214UGFyYWxsZWxFZGdlTGF5b3V0LnByb3RvdHlwZS5zcGFjaW5nPTIwO214UGFyYWxsZWxFZGdlTGF5b3V0LnByb3RvdHlwZS5leGVjdXRlPWZ1bmN0aW9uKGEpe2E9dGhpcy5maW5kUGFyYWxsZWxzKGEpO3RoaXMuZ3JhcGgubW9kZWwuYmVnaW5VcGRhdGUoKTt0cnl7Zm9yKHZhciBiIGluIGEpe3ZhciBjPWFbYl07MTxjLmxlbmd0aCYmdGhpcy5sYXlvdXQoYyl9fWZpbmFsbHl7dGhpcy5ncmFwaC5tb2RlbC5lbmRVcGRhdGUoKX19OwpteFBhcmFsbGVsRWRnZUxheW91dC5wcm90b3R5cGUuZmluZFBhcmFsbGVscz1mdW5jdGlvbihhKXtmb3IodmFyIGI9dGhpcy5ncmFwaC5nZXRNb2RlbCgpLGM9W10sZD1iLmdldENoaWxkQ291bnQoYSksZT0wO2U8ZDtlKyspe3ZhciBmPWIuZ2V0Q2hpbGRBdChhLGUpO2lmKCF0aGlzLmlzRWRnZUlnbm9yZWQoZikpe3ZhciBnPXRoaXMuZ2V0RWRnZUlkKGYpO251bGwhPWcmJihudWxsPT1jW2ddJiYoY1tnXT1bXSksY1tnXS5wdXNoKGYpKX19cmV0dXJuIGN9O214UGFyYWxsZWxFZGdlTGF5b3V0LnByb3RvdHlwZS5nZXRFZGdlSWQ9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5ncmFwaC5nZXRWaWV3KCksYz1iLmdldFZpc2libGVUZXJtaW5hbChhLCEwKTthPWIuZ2V0VmlzaWJsZVRlcm1pbmFsKGEsITEpO3JldHVybiBudWxsIT1jJiZudWxsIT1hPyhjPW14T2JqZWN0SWRlbnRpdHkuZ2V0KGMpLGE9bXhPYmplY3RJZGVudGl0eS5nZXQoYSksYz5hP2ErIi0iK2M6YysiLSIrYSk6bnVsbH07Cm14UGFyYWxsZWxFZGdlTGF5b3V0LnByb3RvdHlwZS5sYXlvdXQ9ZnVuY3Rpb24oYSl7dmFyIGI9YVswXSxjPXRoaXMuZ3JhcGguZ2V0VmlldygpLGQ9dGhpcy5ncmFwaC5nZXRNb2RlbCgpLGU9ZC5nZXRHZW9tZXRyeShjLmdldFZpc2libGVUZXJtaW5hbChiLCEwKSksZD1kLmdldEdlb21ldHJ5KGMuZ2V0VmlzaWJsZVRlcm1pbmFsKGIsITEpKTtpZihlPT1kKWZvcih2YXIgYj1lLngrZS53aWR0aCt0aGlzLnNwYWNpbmcsYz1lLnkrZS5oZWlnaHQvMixmPTA7ZjxhLmxlbmd0aDtmKyspdGhpcy5yb3V0ZShhW2ZdLGIsYyksYis9dGhpcy5zcGFjaW5nO2Vsc2UgaWYobnVsbCE9ZSYmbnVsbCE9ZCl7dmFyIGI9ZS54K2Uud2lkdGgvMixjPWUueStlLmhlaWdodC8yLGY9ZC54K2Qud2lkdGgvMi1iLGc9ZC55K2QuaGVpZ2h0LzItYyxkPU1hdGguc3FydChmKmYrZypnKTtpZigwPGQpZm9yKGU9Zyp0aGlzLnNwYWNpbmcvZCxkPWYqdGhpcy5zcGFjaW5nL2QsYj1iK2YvMitlKihhLmxlbmd0aC0KMSkvMixjPWMrZy8yLWQqKGEubGVuZ3RoLTEpLzIsZj0wO2Y8YS5sZW5ndGg7ZisrKXRoaXMucm91dGUoYVtmXSxiLGMpLGItPWUsYys9ZH19O214UGFyYWxsZWxFZGdlTGF5b3V0LnByb3RvdHlwZS5yb3V0ZT1mdW5jdGlvbihhLGIsYyl7dGhpcy5ncmFwaC5pc0NlbGxNb3ZhYmxlKGEpJiZ0aGlzLnNldEVkZ2VQb2ludHMoYSxbbmV3IG14UG9pbnQoYixjKV0pfTtmdW5jdGlvbiBteENvbXBvc2l0ZUxheW91dChhLGIsYyl7bXhHcmFwaExheW91dC5jYWxsKHRoaXMsYSk7dGhpcy5sYXlvdXRzPWI7dGhpcy5tYXN0ZXI9Y31teENvbXBvc2l0ZUxheW91dC5wcm90b3R5cGU9bmV3IG14R3JhcGhMYXlvdXQ7bXhDb21wb3NpdGVMYXlvdXQucHJvdG90eXBlLmNvbnN0cnVjdG9yPW14Q29tcG9zaXRlTGF5b3V0O214Q29tcG9zaXRlTGF5b3V0LnByb3RvdHlwZS5sYXlvdXRzPW51bGw7bXhDb21wb3NpdGVMYXlvdXQucHJvdG90eXBlLm1hc3Rlcj1udWxsOwpteENvbXBvc2l0ZUxheW91dC5wcm90b3R5cGUubW92ZUNlbGw9ZnVuY3Rpb24oYSxiLGMpe251bGwhPXRoaXMubWFzdGVyP3RoaXMubWFzdGVyLm1vdmVDZWxsLmFwcGx5KHRoaXMubWFzdGVyLGFyZ3VtZW50cyk6dGhpcy5sYXlvdXRzWzBdLm1vdmVDZWxsLmFwcGx5KHRoaXMubGF5b3V0c1swXSxhcmd1bWVudHMpfTtteENvbXBvc2l0ZUxheW91dC5wcm90b3R5cGUuZXhlY3V0ZT1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmdyYXBoLmdldE1vZGVsKCk7Yi5iZWdpblVwZGF0ZSgpO3RyeXtmb3IodmFyIGM9MDtjPHRoaXMubGF5b3V0cy5sZW5ndGg7YysrKXRoaXMubGF5b3V0c1tjXS5leGVjdXRlLmFwcGx5KHRoaXMubGF5b3V0c1tjXSxhcmd1bWVudHMpfWZpbmFsbHl7Yi5lbmRVcGRhdGUoKX19O2Z1bmN0aW9uIG14RWRnZUxhYmVsTGF5b3V0KGEsYil7bXhHcmFwaExheW91dC5jYWxsKHRoaXMsYSl9bXhFZGdlTGFiZWxMYXlvdXQucHJvdG90eXBlPW5ldyBteEdyYXBoTGF5b3V0OwpteEVkZ2VMYWJlbExheW91dC5wcm90b3R5cGUuY29uc3RydWN0b3I9bXhFZGdlTGFiZWxMYXlvdXQ7bXhFZGdlTGFiZWxMYXlvdXQucHJvdG90eXBlLmV4ZWN1dGU9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPXRoaXMuZ3JhcGgudmlldyxjPXRoaXMuZ3JhcGguZ2V0TW9kZWwoKSxkPVtdLGU9W10sZj1jLmdldENoaWxkQ291bnQoYSksZz0wO2c8ZjtnKyspe3ZhciBrPWMuZ2V0Q2hpbGRBdChhLGcpLGw9Yi5nZXRTdGF0ZShrKTtudWxsIT1sJiYodGhpcy5pc1ZlcnRleElnbm9yZWQoayk/dGhpcy5pc0VkZ2VJZ25vcmVkKGspfHxkLnB1c2gobCk6ZS5wdXNoKGwpKX10aGlzLnBsYWNlTGFiZWxzKGUsZCl9OwpteEVkZ2VMYWJlbExheW91dC5wcm90b3R5cGUucGxhY2VMYWJlbHM9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdyYXBoLmdldE1vZGVsKCk7Yy5iZWdpblVwZGF0ZSgpO3RyeXtmb3IodmFyIGQ9MDtkPGIubGVuZ3RoO2QrKyl7dmFyIGU9YltkXTtpZihudWxsIT1lJiZudWxsIT1lLnRleHQmJm51bGwhPWUudGV4dC5ib3VuZGluZ0JveClmb3IodmFyIGY9MDtmPGEubGVuZ3RoO2YrKyl7dmFyIGc9YVtmXTtudWxsIT1nJiZ0aGlzLmF2b2lkKGUsZyl9fX1maW5hbGx5e2MuZW5kVXBkYXRlKCl9fTsKbXhFZGdlTGFiZWxMYXlvdXQucHJvdG90eXBlLmF2b2lkPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5ncmFwaC5nZXRNb2RlbCgpLGQ9YS50ZXh0LmJvdW5kaW5nQm94O2lmKG14VXRpbHMuaW50ZXJzZWN0cyhkLGIpKXt2YXIgZT0tZC55LWQuaGVpZ2h0K2IueSxmPS1kLnkrYi55K2IuaGVpZ2h0LGU9TWF0aC5hYnMoZSk8TWF0aC5hYnMoZik/ZTpmLGY9LWQueC1kLndpZHRoK2IueCxkPS1kLngrYi54K2Iud2lkdGgsZD1NYXRoLmFicyhmKTxNYXRoLmFicyhkKT9mOmQ7TWF0aC5hYnMoZCk8TWF0aC5hYnMoZSk/ZT0wOmQ9MDtmPWMuZ2V0R2VvbWV0cnkoYS5jZWxsKTtudWxsIT1mJiYoZj1mLmNsb25lKCksbnVsbCE9Zi5vZmZzZXQ/KGYub2Zmc2V0LngrPWQsZi5vZmZzZXQueSs9ZSk6Zi5vZmZzZXQ9bmV3IG14UG9pbnQoZCxlKSxjLnNldEdlb21ldHJ5KGEuY2VsbCxmKSl9fTsKZnVuY3Rpb24gbXhHcmFwaEFic3RyYWN0SGllcmFyY2h5Q2VsbCgpe3RoaXMueD1bXTt0aGlzLnk9W107dGhpcy50ZW1wPVtdfW14R3JhcGhBYnN0cmFjdEhpZXJhcmNoeUNlbGwucHJvdG90eXBlLm1heFJhbms9LTE7bXhHcmFwaEFic3RyYWN0SGllcmFyY2h5Q2VsbC5wcm90b3R5cGUubWluUmFuaz0tMTtteEdyYXBoQWJzdHJhY3RIaWVyYXJjaHlDZWxsLnByb3RvdHlwZS54PW51bGw7bXhHcmFwaEFic3RyYWN0SGllcmFyY2h5Q2VsbC5wcm90b3R5cGUueT1udWxsO214R3JhcGhBYnN0cmFjdEhpZXJhcmNoeUNlbGwucHJvdG90eXBlLndpZHRoPTA7bXhHcmFwaEFic3RyYWN0SGllcmFyY2h5Q2VsbC5wcm90b3R5cGUuaGVpZ2h0PTA7bXhHcmFwaEFic3RyYWN0SGllcmFyY2h5Q2VsbC5wcm90b3R5cGUubmV4dExheWVyQ29ubmVjdGVkQ2VsbHM9bnVsbDtteEdyYXBoQWJzdHJhY3RIaWVyYXJjaHlDZWxsLnByb3RvdHlwZS5wcmV2aW91c0xheWVyQ29ubmVjdGVkQ2VsbHM9bnVsbDsKbXhHcmFwaEFic3RyYWN0SGllcmFyY2h5Q2VsbC5wcm90b3R5cGUudGVtcD1udWxsO214R3JhcGhBYnN0cmFjdEhpZXJhcmNoeUNlbGwucHJvdG90eXBlLmdldE5leHRMYXllckNvbm5lY3RlZENlbGxzPWZ1bmN0aW9uKGEpe3JldHVybiBudWxsfTtteEdyYXBoQWJzdHJhY3RIaWVyYXJjaHlDZWxsLnByb3RvdHlwZS5nZXRQcmV2aW91c0xheWVyQ29ubmVjdGVkQ2VsbHM9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGx9O214R3JhcGhBYnN0cmFjdEhpZXJhcmNoeUNlbGwucHJvdG90eXBlLmlzRWRnZT1mdW5jdGlvbigpe3JldHVybiExfTtteEdyYXBoQWJzdHJhY3RIaWVyYXJjaHlDZWxsLnByb3RvdHlwZS5pc1ZlcnRleD1mdW5jdGlvbigpe3JldHVybiExfTtteEdyYXBoQWJzdHJhY3RIaWVyYXJjaHlDZWxsLnByb3RvdHlwZS5nZXRHZW5lcmFsUHVycG9zZVZhcmlhYmxlPWZ1bmN0aW9uKGEpe3JldHVybiBudWxsfTsKbXhHcmFwaEFic3RyYWN0SGllcmFyY2h5Q2VsbC5wcm90b3R5cGUuc2V0R2VuZXJhbFB1cnBvc2VWYXJpYWJsZT1mdW5jdGlvbihhLGIpe3JldHVybiBudWxsfTtteEdyYXBoQWJzdHJhY3RIaWVyYXJjaHlDZWxsLnByb3RvdHlwZS5zZXRYPWZ1bmN0aW9uKGEsYil7dGhpcy5pc1ZlcnRleCgpP3RoaXMueFswXT1iOnRoaXMuaXNFZGdlKCkmJih0aGlzLnhbYS10aGlzLm1pblJhbmstMV09Yil9O214R3JhcGhBYnN0cmFjdEhpZXJhcmNoeUNlbGwucHJvdG90eXBlLmdldFg9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuaXNWZXJ0ZXgoKT90aGlzLnhbMF06dGhpcy5pc0VkZ2UoKT90aGlzLnhbYS10aGlzLm1pblJhbmstMV06MH07bXhHcmFwaEFic3RyYWN0SGllcmFyY2h5Q2VsbC5wcm90b3R5cGUuc2V0WT1mdW5jdGlvbihhLGIpe3RoaXMuaXNWZXJ0ZXgoKT90aGlzLnlbMF09Yjp0aGlzLmlzRWRnZSgpJiYodGhpcy55W2EtdGhpcy5taW5SYW5rLTFdPWIpfTsKZnVuY3Rpb24gbXhHcmFwaEhpZXJhcmNoeU5vZGUoYSl7bXhHcmFwaEFic3RyYWN0SGllcmFyY2h5Q2VsbC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5jZWxsPWE7dGhpcy5pZD1teE9iamVjdElkZW50aXR5LmdldChhKTt0aGlzLmNvbm5lY3RzQXNUYXJnZXQ9W107dGhpcy5jb25uZWN0c0FzU291cmNlPVtdfW14R3JhcGhIaWVyYXJjaHlOb2RlLnByb3RvdHlwZT1uZXcgbXhHcmFwaEFic3RyYWN0SGllcmFyY2h5Q2VsbDtteEdyYXBoSGllcmFyY2h5Tm9kZS5wcm90b3R5cGUuY29uc3RydWN0b3I9bXhHcmFwaEhpZXJhcmNoeU5vZGU7bXhHcmFwaEhpZXJhcmNoeU5vZGUucHJvdG90eXBlLmNlbGw9bnVsbDtteEdyYXBoSGllcmFyY2h5Tm9kZS5wcm90b3R5cGUuaWQ9bnVsbDtteEdyYXBoSGllcmFyY2h5Tm9kZS5wcm90b3R5cGUuY29ubmVjdHNBc1RhcmdldD1udWxsO214R3JhcGhIaWVyYXJjaHlOb2RlLnByb3RvdHlwZS5jb25uZWN0c0FzU291cmNlPW51bGw7Cm14R3JhcGhIaWVyYXJjaHlOb2RlLnByb3RvdHlwZS5oYXNoQ29kZT0hMTtteEdyYXBoSGllcmFyY2h5Tm9kZS5wcm90b3R5cGUuZ2V0UmFua1ZhbHVlPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLm1heFJhbmt9O214R3JhcGhIaWVyYXJjaHlOb2RlLnByb3RvdHlwZS5nZXROZXh0TGF5ZXJDb25uZWN0ZWRDZWxscz1mdW5jdGlvbihhKXtpZihudWxsPT10aGlzLm5leHRMYXllckNvbm5lY3RlZENlbGxzKXt0aGlzLm5leHRMYXllckNvbm5lY3RlZENlbGxzPVtdO3RoaXMubmV4dExheWVyQ29ubmVjdGVkQ2VsbHNbMF09W107Zm9yKHZhciBiPTA7Yjx0aGlzLmNvbm5lY3RzQXNUYXJnZXQubGVuZ3RoO2IrKyl7dmFyIGM9dGhpcy5jb25uZWN0c0FzVGFyZ2V0W2JdOy0xPT1jLm1heFJhbmt8fGMubWF4UmFuaz09YSsxP3RoaXMubmV4dExheWVyQ29ubmVjdGVkQ2VsbHNbMF0ucHVzaChjLnNvdXJjZSk6dGhpcy5uZXh0TGF5ZXJDb25uZWN0ZWRDZWxsc1swXS5wdXNoKGMpfX1yZXR1cm4gdGhpcy5uZXh0TGF5ZXJDb25uZWN0ZWRDZWxsc1swXX07Cm14R3JhcGhIaWVyYXJjaHlOb2RlLnByb3RvdHlwZS5nZXRQcmV2aW91c0xheWVyQ29ubmVjdGVkQ2VsbHM9ZnVuY3Rpb24oYSl7aWYobnVsbD09dGhpcy5wcmV2aW91c0xheWVyQ29ubmVjdGVkQ2VsbHMpe3RoaXMucHJldmlvdXNMYXllckNvbm5lY3RlZENlbGxzPVtdO3RoaXMucHJldmlvdXNMYXllckNvbm5lY3RlZENlbGxzWzBdPVtdO2Zvcih2YXIgYj0wO2I8dGhpcy5jb25uZWN0c0FzU291cmNlLmxlbmd0aDtiKyspe3ZhciBjPXRoaXMuY29ubmVjdHNBc1NvdXJjZVtiXTstMT09Yy5taW5SYW5rfHxjLm1pblJhbms9PWEtMT90aGlzLnByZXZpb3VzTGF5ZXJDb25uZWN0ZWRDZWxsc1swXS5wdXNoKGMudGFyZ2V0KTp0aGlzLnByZXZpb3VzTGF5ZXJDb25uZWN0ZWRDZWxsc1swXS5wdXNoKGMpfX1yZXR1cm4gdGhpcy5wcmV2aW91c0xheWVyQ29ubmVjdGVkQ2VsbHNbMF19O214R3JhcGhIaWVyYXJjaHlOb2RlLnByb3RvdHlwZS5pc1ZlcnRleD1mdW5jdGlvbigpe3JldHVybiEwfTsKbXhHcmFwaEhpZXJhcmNoeU5vZGUucHJvdG90eXBlLmdldEdlbmVyYWxQdXJwb3NlVmFyaWFibGU9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMudGVtcFswXX07bXhHcmFwaEhpZXJhcmNoeU5vZGUucHJvdG90eXBlLnNldEdlbmVyYWxQdXJwb3NlVmFyaWFibGU9ZnVuY3Rpb24oYSxiKXt0aGlzLnRlbXBbMF09Yn07bXhHcmFwaEhpZXJhcmNoeU5vZGUucHJvdG90eXBlLmlzQW5jZXN0b3I9ZnVuY3Rpb24oYSl7aWYobnVsbCE9YSYmbnVsbCE9dGhpcy5oYXNoQ29kZSYmbnVsbCE9YS5oYXNoQ29kZSYmdGhpcy5oYXNoQ29kZS5sZW5ndGg8YS5oYXNoQ29kZS5sZW5ndGgpe2lmKHRoaXMuaGFzaENvZGU9PWEuaGFzaENvZGUpcmV0dXJuITA7aWYobnVsbD09dGhpcy5oYXNoQ29kZXx8bnVsbD09dGhpcy5oYXNoQ29kZSlyZXR1cm4hMTtmb3IodmFyIGI9MDtiPHRoaXMuaGFzaENvZGUubGVuZ3RoO2IrKylpZih0aGlzLmhhc2hDb2RlW2JdIT1hLmhhc2hDb2RlW2JdKXJldHVybiExO3JldHVybiEwfXJldHVybiExfTsKbXhHcmFwaEhpZXJhcmNoeU5vZGUucHJvdG90eXBlLmdldENvcmVDZWxsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2VsbH07ZnVuY3Rpb24gbXhHcmFwaEhpZXJhcmNoeUVkZ2UoYSl7bXhHcmFwaEFic3RyYWN0SGllcmFyY2h5Q2VsbC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5lZGdlcz1hO3RoaXMuaWRzPVtdO2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7YisrKXRoaXMuaWRzLnB1c2gobXhPYmplY3RJZGVudGl0eS5nZXQoYVtiXSkpfW14R3JhcGhIaWVyYXJjaHlFZGdlLnByb3RvdHlwZT1uZXcgbXhHcmFwaEFic3RyYWN0SGllcmFyY2h5Q2VsbDtteEdyYXBoSGllcmFyY2h5RWRnZS5wcm90b3R5cGUuY29uc3RydWN0b3I9bXhHcmFwaEhpZXJhcmNoeUVkZ2U7bXhHcmFwaEhpZXJhcmNoeUVkZ2UucHJvdG90eXBlLmVkZ2VzPW51bGw7bXhHcmFwaEhpZXJhcmNoeUVkZ2UucHJvdG90eXBlLmlkcz1udWxsO214R3JhcGhIaWVyYXJjaHlFZGdlLnByb3RvdHlwZS5zb3VyY2U9bnVsbDsKbXhHcmFwaEhpZXJhcmNoeUVkZ2UucHJvdG90eXBlLnRhcmdldD1udWxsO214R3JhcGhIaWVyYXJjaHlFZGdlLnByb3RvdHlwZS5pc1JldmVyc2VkPSExO214R3JhcGhIaWVyYXJjaHlFZGdlLnByb3RvdHlwZS5pbnZlcnQ9ZnVuY3Rpb24oYSl7YT10aGlzLnNvdXJjZTt0aGlzLnNvdXJjZT10aGlzLnRhcmdldDt0aGlzLnRhcmdldD1hO3RoaXMuaXNSZXZlcnNlZD0hdGhpcy5pc1JldmVyc2VkfTsKbXhHcmFwaEhpZXJhcmNoeUVkZ2UucHJvdG90eXBlLmdldE5leHRMYXllckNvbm5lY3RlZENlbGxzPWZ1bmN0aW9uKGEpe2lmKG51bGw9PXRoaXMubmV4dExheWVyQ29ubmVjdGVkQ2VsbHMpe3RoaXMubmV4dExheWVyQ29ubmVjdGVkQ2VsbHM9W107Zm9yKHZhciBiPTA7Yjx0aGlzLnRlbXAubGVuZ3RoO2IrKyl0aGlzLm5leHRMYXllckNvbm5lY3RlZENlbGxzW2JdPVtdLGI9PXRoaXMudGVtcC5sZW5ndGgtMT90aGlzLm5leHRMYXllckNvbm5lY3RlZENlbGxzW2JdLnB1c2godGhpcy5zb3VyY2UpOnRoaXMubmV4dExheWVyQ29ubmVjdGVkQ2VsbHNbYl0ucHVzaCh0aGlzKX1yZXR1cm4gdGhpcy5uZXh0TGF5ZXJDb25uZWN0ZWRDZWxsc1thLXRoaXMubWluUmFuay0xXX07Cm14R3JhcGhIaWVyYXJjaHlFZGdlLnByb3RvdHlwZS5nZXRQcmV2aW91c0xheWVyQ29ubmVjdGVkQ2VsbHM9ZnVuY3Rpb24oYSl7aWYobnVsbD09dGhpcy5wcmV2aW91c0xheWVyQ29ubmVjdGVkQ2VsbHMpe3RoaXMucHJldmlvdXNMYXllckNvbm5lY3RlZENlbGxzPVtdO2Zvcih2YXIgYj0wO2I8dGhpcy50ZW1wLmxlbmd0aDtiKyspdGhpcy5wcmV2aW91c0xheWVyQ29ubmVjdGVkQ2VsbHNbYl09W10sMD09Yj90aGlzLnByZXZpb3VzTGF5ZXJDb25uZWN0ZWRDZWxsc1tiXS5wdXNoKHRoaXMudGFyZ2V0KTp0aGlzLnByZXZpb3VzTGF5ZXJDb25uZWN0ZWRDZWxsc1tiXS5wdXNoKHRoaXMpfXJldHVybiB0aGlzLnByZXZpb3VzTGF5ZXJDb25uZWN0ZWRDZWxsc1thLXRoaXMubWluUmFuay0xXX07bXhHcmFwaEhpZXJhcmNoeUVkZ2UucHJvdG90eXBlLmlzRWRnZT1mdW5jdGlvbigpe3JldHVybiEwfTsKbXhHcmFwaEhpZXJhcmNoeUVkZ2UucHJvdG90eXBlLmdldEdlbmVyYWxQdXJwb3NlVmFyaWFibGU9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMudGVtcFthLXRoaXMubWluUmFuay0xXX07bXhHcmFwaEhpZXJhcmNoeUVkZ2UucHJvdG90eXBlLnNldEdlbmVyYWxQdXJwb3NlVmFyaWFibGU9ZnVuY3Rpb24oYSxiKXt0aGlzLnRlbXBbYS10aGlzLm1pblJhbmstMV09Yn07bXhHcmFwaEhpZXJhcmNoeUVkZ2UucHJvdG90eXBlLmdldENvcmVDZWxsPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPXRoaXMuZWRnZXMmJjA8dGhpcy5lZGdlcy5sZW5ndGg/dGhpcy5lZGdlc1swXTpudWxsfTsKZnVuY3Rpb24gbXhHcmFwaEhpZXJhcmNoeU1vZGVsKGEsYixjLGQsZSl7YS5nZXRHcmFwaCgpO3RoaXMudGlnaHRlblRvU291cmNlPWU7dGhpcy5yb290cz1jO3RoaXMucGFyZW50PWQ7dGhpcy52ZXJ0ZXhNYXBwZXI9bmV3IG14RGljdGlvbmFyeTt0aGlzLmVkZ2VNYXBwZXI9bmV3IG14RGljdGlvbmFyeTt0aGlzLm1heFJhbms9MDtjPVtdO251bGw9PWImJihiPXRoaXMuZ3JhcGguZ2V0Q2hpbGRWZXJ0aWNlcyhkKSk7dGhpcy5tYXhSYW5rPXRoaXMuU09VUkNFU0NBTlNUQVJUUkFOSzt0aGlzLmNyZWF0ZUludGVybmFsQ2VsbHMoYSxiLGMpO2ZvcihkPTA7ZDxiLmxlbmd0aDtkKyspe2U9Y1tkXS5jb25uZWN0c0FzU291cmNlO2Zvcih2YXIgZj0wO2Y8ZS5sZW5ndGg7ZisrKXt2YXIgZz1lW2ZdLGs9Zy5lZGdlcztpZihudWxsIT1rJiYwPGsubGVuZ3RoKXt2YXIgaz1rWzBdLGw9YS5nZXRWaXNpYmxlVGVybWluYWwoaywhMSksbD10aGlzLnZlcnRleE1hcHBlci5nZXQobCk7Y1tkXT09CmwmJihsPWEuZ2V0VmlzaWJsZVRlcm1pbmFsKGssITApLGw9dGhpcy52ZXJ0ZXhNYXBwZXIuZ2V0KGwpKTtudWxsIT1sJiZjW2RdIT1sJiYoZy50YXJnZXQ9bCwwPT1sLmNvbm5lY3RzQXNUYXJnZXQubGVuZ3RoJiYobC5jb25uZWN0c0FzVGFyZ2V0PVtdKSwwPm14VXRpbHMuaW5kZXhPZihsLmNvbm5lY3RzQXNUYXJnZXQsZykmJmwuY29ubmVjdHNBc1RhcmdldC5wdXNoKGcpKX19Y1tkXS50ZW1wWzBdPTF9fW14R3JhcGhIaWVyYXJjaHlNb2RlbC5wcm90b3R5cGUubWF4UmFuaz1udWxsO214R3JhcGhIaWVyYXJjaHlNb2RlbC5wcm90b3R5cGUudmVydGV4TWFwcGVyPW51bGw7bXhHcmFwaEhpZXJhcmNoeU1vZGVsLnByb3RvdHlwZS5lZGdlTWFwcGVyPW51bGw7bXhHcmFwaEhpZXJhcmNoeU1vZGVsLnByb3RvdHlwZS5yYW5rcz1udWxsO214R3JhcGhIaWVyYXJjaHlNb2RlbC5wcm90b3R5cGUucm9vdHM9bnVsbDtteEdyYXBoSGllcmFyY2h5TW9kZWwucHJvdG90eXBlLnBhcmVudD1udWxsOwpteEdyYXBoSGllcmFyY2h5TW9kZWwucHJvdG90eXBlLmRmc0NvdW50PTA7bXhHcmFwaEhpZXJhcmNoeU1vZGVsLnByb3RvdHlwZS5TT1VSQ0VTQ0FOU1RBUlRSQU5LPTFFODtteEdyYXBoSGllcmFyY2h5TW9kZWwucHJvdG90eXBlLnRpZ2h0ZW5Ub1NvdXJjZT0hMTsKbXhHcmFwaEhpZXJhcmNoeU1vZGVsLnByb3RvdHlwZS5jcmVhdGVJbnRlcm5hbENlbGxzPWZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGQ9YS5nZXRHcmFwaCgpLGU9MDtlPGIubGVuZ3RoO2UrKyl7Y1tlXT1uZXcgbXhHcmFwaEhpZXJhcmNoeU5vZGUoYltlXSk7dGhpcy52ZXJ0ZXhNYXBwZXIucHV0KGJbZV0sY1tlXSk7dmFyIGY9YS5nZXRFZGdlcyhiW2VdKTtjW2VdLmNvbm5lY3RzQXNTb3VyY2U9W107Zm9yKHZhciBnPTA7ZzxmLmxlbmd0aDtnKyspe3ZhciBrPWEuZ2V0VmlzaWJsZVRlcm1pbmFsKGZbZ10sITEpO2lmKGshPWJbZV0mJmEuZ3JhcGgubW9kZWwuaXNWZXJ0ZXgoaykmJiFhLmlzVmVydGV4SWdub3JlZChrKSl7dmFyIGw9YS5nZXRFZGdlc0JldHdlZW4oYltlXSxrLCExKSxrPWEuZ2V0RWRnZXNCZXR3ZWVuKGJbZV0saywhMCk7aWYobnVsbCE9bCYmMDxsLmxlbmd0aCYmbnVsbD09dGhpcy5lZGdlTWFwcGVyLmdldChsWzBdKSYmMiprLmxlbmd0aD49bC5sZW5ndGgpe2Zvcih2YXIgaz0KbmV3IG14R3JhcGhIaWVyYXJjaHlFZGdlKGwpLG09MDttPGwubGVuZ3RoO20rKyl7dmFyIG49bFttXTt0aGlzLmVkZ2VNYXBwZXIucHV0KG4sayk7ZC5yZXNldEVkZ2Uobik7YS5kaXNhYmxlRWRnZVN0eWxlJiYoYS5zZXRFZGdlU3R5bGVFbmFibGVkKG4sITEpLGEuc2V0T3J0aG9nb25hbEVkZ2UobiwhMCkpfWsuc291cmNlPWNbZV07MD5teFV0aWxzLmluZGV4T2YoY1tlXS5jb25uZWN0c0FzU291cmNlLGspJiZjW2VdLmNvbm5lY3RzQXNTb3VyY2UucHVzaChrKX19fWNbZV0udGVtcFswXT0wfX07Cm14R3JhcGhIaWVyYXJjaHlNb2RlbC5wcm90b3R5cGUuaW5pdGlhbFJhbms9ZnVuY3Rpb24oKXt2YXIgYT1bXTtpZihudWxsIT10aGlzLnJvb3RzKWZvcih2YXIgYj0wO2I8dGhpcy5yb290cy5sZW5ndGg7YisrKXt2YXIgYz10aGlzLnZlcnRleE1hcHBlci5nZXQodGhpcy5yb290c1tiXSk7bnVsbCE9YyYmYS5wdXNoKGMpfWZvcih2YXIgZD10aGlzLnZlcnRleE1hcHBlci5nZXRWYWx1ZXMoKSxiPTA7YjxkLmxlbmd0aDtiKyspZFtiXS50ZW1wWzBdPS0xO2Zvcih2YXIgZT1hLnNsaWNlKCk7MDxhLmxlbmd0aDspe3ZhciBjPWFbMF0sZixnO2Y9Yy5jb25uZWN0c0FzVGFyZ2V0O2c9Yy5jb25uZWN0c0FzU291cmNlO2Zvcih2YXIgaz0hMCxsPXRoaXMuU09VUkNFU0NBTlNUQVJUUkFOSyxiPTA7YjxmLmxlbmd0aDtiKyspe3ZhciBtPWZbYl07aWYoNTI3MDYyMD09bS50ZW1wWzBdKW09bS5zb3VyY2UsbD1NYXRoLm1pbihsLG0udGVtcFswXS0xKTtlbHNle2s9ITE7YnJlYWt9fWlmKGspe2MudGVtcFswXT0KbDt0aGlzLm1heFJhbms9TWF0aC5taW4odGhpcy5tYXhSYW5rLGwpO2lmKG51bGwhPWcpZm9yKGI9MDtiPGcubGVuZ3RoO2IrKyltPWdbYl0sbS50ZW1wWzBdPTUyNzA2MjAsbT1tLnRhcmdldCwtMT09bS50ZW1wWzBdJiYoYS5wdXNoKG0pLG0udGVtcFswXT0tMik7YS5zaGlmdCgpfWVsc2UgaWYoYj1hLnNoaWZ0KCksYS5wdXNoKGMpLGI9PWMmJjE9PWEubGVuZ3RoKWJyZWFrfWZvcihiPTA7YjxkLmxlbmd0aDtiKyspZFtiXS50ZW1wWzBdLT10aGlzLm1heFJhbms7Zm9yKGI9MDtiPGUubGVuZ3RoO2IrKylmb3IoYz1lW2JdLGE9MCxmPWMuY29ubmVjdHNBc1NvdXJjZSxkPTA7ZDxmLmxlbmd0aDtkKyspbT1mW2RdLG09bS50YXJnZXQsYy50ZW1wWzBdPU1hdGgubWF4KGEsbS50ZW1wWzBdKzEpLGE9Yy50ZW1wWzBdO3RoaXMubWF4UmFuaz10aGlzLlNPVVJDRVNDQU5TVEFSVFJBTkstdGhpcy5tYXhSYW5rfTsKbXhHcmFwaEhpZXJhcmNoeU1vZGVsLnByb3RvdHlwZS5maXhSYW5rcz1mdW5jdGlvbigpe3ZhciBhPVtdO3RoaXMucmFua3M9W107Zm9yKHZhciBiPTA7Yjx0aGlzLm1heFJhbmsrMTtiKyspYVtiXT1bXSx0aGlzLnJhbmtzW2JdPWFbYl07dmFyIGM9bnVsbDtpZihudWxsIT10aGlzLnJvb3RzKWZvcih2YXIgZD10aGlzLnJvb3RzLGM9W10sYj0wO2I8ZC5sZW5ndGg7YisrKXt2YXIgZT10aGlzLnZlcnRleE1hcHBlci5nZXQoZFtiXSk7Y1tiXT1lfXRoaXMudmlzaXQoZnVuY3Rpb24oYixjLGQsZSxtKXswPT1tJiYwPmMubWF4UmFuayYmMD5jLm1pblJhbmsmJihhW2MudGVtcFswXV0ucHVzaChjKSxjLm1heFJhbms9Yy50ZW1wWzBdLGMubWluUmFuaz1jLnRlbXBbMF0sYy50ZW1wWzBdPWFbYy5tYXhSYW5rXS5sZW5ndGgtMSk7aWYobnVsbCE9YiYmbnVsbCE9ZCYmMTxiLm1heFJhbmstYy5tYXhSYW5rKWZvcihkLm1heFJhbms9Yi5tYXhSYW5rLGQubWluUmFuaz1jLm1heFJhbmssZC50ZW1wPQpbXSxkLng9W10sZC55PVtdLGI9ZC5taW5SYW5rKzE7YjxkLm1heFJhbms7YisrKWFbYl0ucHVzaChkKSxkLnNldEdlbmVyYWxQdXJwb3NlVmFyaWFibGUoYixhW2JdLmxlbmd0aC0xKX0sYywhMSxudWxsKX07bXhHcmFwaEhpZXJhcmNoeU1vZGVsLnByb3RvdHlwZS52aXNpdD1mdW5jdGlvbihhLGIsYyxkKXtpZihudWxsIT1iKXtmb3IodmFyIGU9MDtlPGIubGVuZ3RoO2UrKyl7dmFyIGY9YltlXTtudWxsIT1mJiYobnVsbD09ZCYmKGQ9e30pLGM/KGYuaGFzaENvZGU9W10sZi5oYXNoQ29kZVswXT10aGlzLmRmc0NvdW50LGYuaGFzaENvZGVbMV09ZSx0aGlzLmV4dGVuZGVkRGZzKG51bGwsZixudWxsLGEsZCxmLmhhc2hDb2RlLGUsMCkpOnRoaXMuZGZzKG51bGwsZixudWxsLGEsZCwwKSl9dGhpcy5kZnNDb3VudCsrfX07Cm14R3JhcGhIaWVyYXJjaHlNb2RlbC5wcm90b3R5cGUuZGZzPWZ1bmN0aW9uKGEsYixjLGQsZSxmKXtpZihudWxsIT1iKXt2YXIgZz1iLmlkO2lmKG51bGw9PWVbZ10pZm9yKGVbZ109YixkKGEsYixjLGYsMCksYT1iLmNvbm5lY3RzQXNTb3VyY2Uuc2xpY2UoKSxjPTA7YzxhLmxlbmd0aDtjKyspZz1hW2NdLHRoaXMuZGZzKGIsZy50YXJnZXQsZyxkLGUsZisxKTtlbHNlIGQoYSxiLGMsZiwxKX19OwpteEdyYXBoSGllcmFyY2h5TW9kZWwucHJvdG90eXBlLmV4dGVuZGVkRGZzPWZ1bmN0aW9uKGEsYixjLGQsZSxmLGcsayl7aWYobnVsbCE9YilpZihudWxsPT1hfHxudWxsIT1iLmhhc2hDb2RlJiZiLmhhc2hDb2RlWzBdPT1hLmhhc2hDb2RlWzBdfHwoZj1hLmhhc2hDb2RlLmxlbmd0aCsxLGIuaGFzaENvZGU9YS5oYXNoQ29kZS5zbGljZSgpLGIuaGFzaENvZGVbZi0xXT1nKSxnPWIuaWQsbnVsbD09ZVtnXSlmb3IoZVtnXT1iLGQoYSxiLGMsaywwKSxhPWIuY29ubmVjdHNBc1NvdXJjZS5zbGljZSgpLGM9MDtjPGEubGVuZ3RoO2MrKylnPWFbY10sdGhpcy5leHRlbmRlZERmcyhiLGcudGFyZ2V0LGcsZCxlLGIuaGFzaENvZGUsYyxrKzEpO2Vsc2UgZChhLGIsYyxrLDEpfTsKZnVuY3Rpb24gbXhTd2ltbGFuZU1vZGVsKGEsYixjLGQsZSl7YS5nZXRHcmFwaCgpO3RoaXMudGlnaHRlblRvU291cmNlPWU7dGhpcy5yb290cz1jO3RoaXMucGFyZW50PWQ7dGhpcy52ZXJ0ZXhNYXBwZXI9bmV3IG14RGljdGlvbmFyeTt0aGlzLmVkZ2VNYXBwZXI9bmV3IG14RGljdGlvbmFyeTt0aGlzLm1heFJhbms9MDtjPVtdO251bGw9PWImJihiPXRoaXMuZ3JhcGguZ2V0Q2hpbGRWZXJ0aWNlcyhkKSk7dGhpcy5tYXhSYW5rPXRoaXMuU09VUkNFU0NBTlNUQVJUUkFOSzt0aGlzLmNyZWF0ZUludGVybmFsQ2VsbHMoYSxiLGMpO2ZvcihkPTA7ZDxiLmxlbmd0aDtkKyspe2U9Y1tkXS5jb25uZWN0c0FzU291cmNlO2Zvcih2YXIgZj0wO2Y8ZS5sZW5ndGg7ZisrKXt2YXIgZz1lW2ZdLGs9Zy5lZGdlcztpZihudWxsIT1rJiYwPGsubGVuZ3RoKXt2YXIgaz1rWzBdLGw9YS5nZXRWaXNpYmxlVGVybWluYWwoaywhMSksbD10aGlzLnZlcnRleE1hcHBlci5nZXQobCk7Y1tkXT09bCYmKGw9CmEuZ2V0VmlzaWJsZVRlcm1pbmFsKGssITApLGw9dGhpcy52ZXJ0ZXhNYXBwZXIuZ2V0KGwpKTtudWxsIT1sJiZjW2RdIT1sJiYoZy50YXJnZXQ9bCwwPT1sLmNvbm5lY3RzQXNUYXJnZXQubGVuZ3RoJiYobC5jb25uZWN0c0FzVGFyZ2V0PVtdKSwwPm14VXRpbHMuaW5kZXhPZihsLmNvbm5lY3RzQXNUYXJnZXQsZykmJmwuY29ubmVjdHNBc1RhcmdldC5wdXNoKGcpKX19Y1tkXS50ZW1wWzBdPTF9fW14U3dpbWxhbmVNb2RlbC5wcm90b3R5cGUubWF4UmFuaz1udWxsO214U3dpbWxhbmVNb2RlbC5wcm90b3R5cGUudmVydGV4TWFwcGVyPW51bGw7bXhTd2ltbGFuZU1vZGVsLnByb3RvdHlwZS5lZGdlTWFwcGVyPW51bGw7bXhTd2ltbGFuZU1vZGVsLnByb3RvdHlwZS5yYW5rcz1udWxsO214U3dpbWxhbmVNb2RlbC5wcm90b3R5cGUucm9vdHM9bnVsbDtteFN3aW1sYW5lTW9kZWwucHJvdG90eXBlLnBhcmVudD1udWxsO214U3dpbWxhbmVNb2RlbC5wcm90b3R5cGUuZGZzQ291bnQ9MDsKbXhTd2ltbGFuZU1vZGVsLnByb3RvdHlwZS5TT1VSQ0VTQ0FOU1RBUlRSQU5LPTFFODtteFN3aW1sYW5lTW9kZWwucHJvdG90eXBlLnRpZ2h0ZW5Ub1NvdXJjZT0hMTtteFN3aW1sYW5lTW9kZWwucHJvdG90eXBlLnJhbmtzUGVyR3JvdXA9bnVsbDsKbXhTd2ltbGFuZU1vZGVsLnByb3RvdHlwZS5jcmVhdGVJbnRlcm5hbENlbGxzPWZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGQ9YS5nZXRHcmFwaCgpLGU9YS5zd2ltbGFuZXMsZj0wO2Y8Yi5sZW5ndGg7ZisrKXtjW2ZdPW5ldyBteEdyYXBoSGllcmFyY2h5Tm9kZShiW2ZdKTt0aGlzLnZlcnRleE1hcHBlci5wdXQoYltmXSxjW2ZdKTtjW2ZdLnN3aW1sYW5lSW5kZXg9LTE7Zm9yKHZhciBnPTA7ZzxlLmxlbmd0aDtnKyspaWYoZC5tb2RlbC5nZXRQYXJlbnQoYltmXSk9PWVbZ10pe2NbZl0uc3dpbWxhbmVJbmRleD1nO2JyZWFrfWc9YS5nZXRFZGdlcyhiW2ZdKTtjW2ZdLmNvbm5lY3RzQXNTb3VyY2U9W107Zm9yKHZhciBrPTA7azxnLmxlbmd0aDtrKyspe3ZhciBsPWEuZ2V0VmlzaWJsZVRlcm1pbmFsKGdba10sITEpO2lmKGwhPWJbZl0mJmEuZ3JhcGgubW9kZWwuaXNWZXJ0ZXgobCkmJiFhLmlzVmVydGV4SWdub3JlZChsKSl7dmFyIG09YS5nZXRFZGdlc0JldHdlZW4oYltmXSxsLCExKSwKbD1hLmdldEVkZ2VzQmV0d2VlbihiW2ZdLGwsITApO2lmKG51bGwhPW0mJjA8bS5sZW5ndGgmJm51bGw9PXRoaXMuZWRnZU1hcHBlci5nZXQobVswXSkmJjIqbC5sZW5ndGg+PW0ubGVuZ3RoKXtmb3IodmFyIGw9bmV3IG14R3JhcGhIaWVyYXJjaHlFZGdlKG0pLG49MDtuPG0ubGVuZ3RoO24rKyl7dmFyIHA9bVtuXTt0aGlzLmVkZ2VNYXBwZXIucHV0KHAsbCk7ZC5yZXNldEVkZ2UocCk7YS5kaXNhYmxlRWRnZVN0eWxlJiYoYS5zZXRFZGdlU3R5bGVFbmFibGVkKHAsITEpLGEuc2V0T3J0aG9nb25hbEVkZ2UocCwhMCkpfWwuc291cmNlPWNbZl07MD5teFV0aWxzLmluZGV4T2YoY1tmXS5jb25uZWN0c0FzU291cmNlLGwpJiZjW2ZdLmNvbm5lY3RzQXNTb3VyY2UucHVzaChsKX19fWNbZl0udGVtcFswXT0wfX07Cm14U3dpbWxhbmVNb2RlbC5wcm90b3R5cGUuaW5pdGlhbFJhbms9ZnVuY3Rpb24oKXt0aGlzLnJhbmtzUGVyR3JvdXA9W107dmFyIGE9W10sYj17fTtpZihudWxsIT10aGlzLnJvb3RzKWZvcih2YXIgYz0wO2M8dGhpcy5yb290cy5sZW5ndGg7YysrKXt2YXIgZD10aGlzLnZlcnRleE1hcHBlci5nZXQodGhpcy5yb290c1tjXSk7dGhpcy5tYXhDaGFpbkRmcyhudWxsLGQsbnVsbCxiLDApO251bGwhPWQmJmEucHVzaChkKX1kPVtdO2I9W107Zm9yKGM9dGhpcy5yYW5rc1Blckdyb3VwLmxlbmd0aC0xOzA8PWM7Yy0tKWRbY109Yz09dGhpcy5yYW5rc1Blckdyb3VwLmxlbmd0aC0xPzA6YltjKzFdKzEsYltjXT1kW2NdK3RoaXMucmFua3NQZXJHcm91cFtjXTt0aGlzLm1heFJhbms9YlswXTtkPXRoaXMudmVydGV4TWFwcGVyLmdldFZhbHVlcygpO2ZvcihjPTA7YzxkLmxlbmd0aDtjKyspZFtjXS50ZW1wWzBdPS0xO2ZvcihhLnNsaWNlKCk7MDxhLmxlbmd0aDspe3ZhciBkPWFbMF0sZSxmOwplPWQuY29ubmVjdHNBc1RhcmdldDtmPWQuY29ubmVjdHNBc1NvdXJjZTtmb3IodmFyIGc9ITAsaz1iWzBdLGM9MDtjPGUubGVuZ3RoO2MrKyl7dmFyIGw9ZVtjXTtpZig1MjcwNjIwPT1sLnRlbXBbMF0pbD1sLnNvdXJjZSxrPU1hdGgubWluKGssbC50ZW1wWzBdLTEpO2Vsc2V7Zz0hMTticmVha319aWYoZyl7az5iW2Quc3dpbWxhbmVJbmRleF0mJihrPWJbZC5zd2ltbGFuZUluZGV4XSk7ZC50ZW1wWzBdPWs7aWYobnVsbCE9Zilmb3IoYz0wO2M8Zi5sZW5ndGg7YysrKWw9ZltjXSxsLnRlbXBbMF09NTI3MDYyMCxsPWwudGFyZ2V0LC0xPT1sLnRlbXBbMF0mJihhLnB1c2gobCksbC50ZW1wWzBdPS0yKTthLnNoaWZ0KCl9ZWxzZSBpZihjPWEuc2hpZnQoKSxhLnB1c2goZCksYz09ZCYmMT09YS5sZW5ndGgpYnJlYWt9fTsKbXhTd2ltbGFuZU1vZGVsLnByb3RvdHlwZS5tYXhDaGFpbkRmcz1mdW5jdGlvbihhLGIsYyxkLGUpe2lmKG51bGwhPWImJihhPW14Q2VsbFBhdGguY3JlYXRlKGIuY2VsbCksbnVsbD09ZFthXSkpe2RbYV09YjthPWIuc3dpbWxhbmVJbmRleDtpZihudWxsPT10aGlzLnJhbmtzUGVyR3JvdXBbYV18fHRoaXMucmFua3NQZXJHcm91cFthXTxlKXRoaXMucmFua3NQZXJHcm91cFthXT1lO2E9Yi5jb25uZWN0c0FzU291cmNlLnNsaWNlKCk7Zm9yKGM9MDtjPGEubGVuZ3RoO2MrKyl7dmFyIGY9YVtjXSxnPWYudGFyZ2V0O2Iuc3dpbWxhbmVJbmRleDxnLnN3aW1sYW5lSW5kZXg/dGhpcy5tYXhDaGFpbkRmcyhiLGcsZixteFV0aWxzLmNsb25lKGQsbnVsbCwhMCksMCk6Yi5zd2ltbGFuZUluZGV4PT1nLnN3aW1sYW5lSW5kZXgmJnRoaXMubWF4Q2hhaW5EZnMoYixnLGYsbXhVdGlscy5jbG9uZShkLG51bGwsITApLGUrMSl9fX07Cm14U3dpbWxhbmVNb2RlbC5wcm90b3R5cGUuZml4UmFua3M9ZnVuY3Rpb24oKXt2YXIgYT1bXTt0aGlzLnJhbmtzPVtdO2Zvcih2YXIgYj0wO2I8dGhpcy5tYXhSYW5rKzE7YisrKWFbYl09W10sdGhpcy5yYW5rc1tiXT1hW2JdO3ZhciBjPW51bGw7aWYobnVsbCE9dGhpcy5yb290cylmb3IodmFyIGQ9dGhpcy5yb290cyxjPVtdLGI9MDtiPGQubGVuZ3RoO2IrKyl7dmFyIGU9dGhpcy52ZXJ0ZXhNYXBwZXIuZ2V0KGRbYl0pO2NbYl09ZX10aGlzLnZpc2l0KGZ1bmN0aW9uKGIsYyxkLGUsbSl7MD09bSYmMD5jLm1heFJhbmsmJjA+Yy5taW5SYW5rJiYoYVtjLnRlbXBbMF1dLnB1c2goYyksYy5tYXhSYW5rPWMudGVtcFswXSxjLm1pblJhbms9Yy50ZW1wWzBdLGMudGVtcFswXT1hW2MubWF4UmFua10ubGVuZ3RoLTEpO2lmKG51bGwhPWImJm51bGwhPWQmJjE8Yi5tYXhSYW5rLWMubWF4UmFuaylmb3IoZC5tYXhSYW5rPWIubWF4UmFuayxkLm1pblJhbms9Yy5tYXhSYW5rLGQudGVtcD1bXSwKZC54PVtdLGQueT1bXSxiPWQubWluUmFuaysxO2I8ZC5tYXhSYW5rO2IrKylhW2JdLnB1c2goZCksZC5zZXRHZW5lcmFsUHVycG9zZVZhcmlhYmxlKGIsYVtiXS5sZW5ndGgtMSl9LGMsITEsbnVsbCl9O214U3dpbWxhbmVNb2RlbC5wcm90b3R5cGUudmlzaXQ9ZnVuY3Rpb24oYSxiLGMsZCl7aWYobnVsbCE9Yil7Zm9yKHZhciBlPTA7ZTxiLmxlbmd0aDtlKyspe3ZhciBmPWJbZV07bnVsbCE9ZiYmKG51bGw9PWQmJihkPXt9KSxjPyhmLmhhc2hDb2RlPVtdLGYuaGFzaENvZGVbMF09dGhpcy5kZnNDb3VudCxmLmhhc2hDb2RlWzFdPWUsdGhpcy5leHRlbmRlZERmcyhudWxsLGYsbnVsbCxhLGQsZi5oYXNoQ29kZSxlLDApKTp0aGlzLmRmcyhudWxsLGYsbnVsbCxhLGQsMCkpfXRoaXMuZGZzQ291bnQrK319OwpteFN3aW1sYW5lTW9kZWwucHJvdG90eXBlLmRmcz1mdW5jdGlvbihhLGIsYyxkLGUsZil7aWYobnVsbCE9Yil7dmFyIGc9Yi5pZDtpZihudWxsPT1lW2ddKWZvcihlW2ddPWIsZChhLGIsYyxmLDApLGE9Yi5jb25uZWN0c0FzU291cmNlLnNsaWNlKCksYz0wO2M8YS5sZW5ndGg7YysrKWc9YVtjXSx0aGlzLmRmcyhiLGcudGFyZ2V0LGcsZCxlLGYrMSk7ZWxzZSBkKGEsYixjLGYsMSl9fTsKbXhTd2ltbGFuZU1vZGVsLnByb3RvdHlwZS5leHRlbmRlZERmcz1mdW5jdGlvbihhLGIsYyxkLGUsZixnLGspe2lmKG51bGwhPWIpaWYobnVsbD09YXx8bnVsbCE9Yi5oYXNoQ29kZSYmYi5oYXNoQ29kZVswXT09YS5oYXNoQ29kZVswXXx8KGY9YS5oYXNoQ29kZS5sZW5ndGgrMSxiLmhhc2hDb2RlPWEuaGFzaENvZGUuc2xpY2UoKSxiLmhhc2hDb2RlW2YtMV09ZyksZz1iLmlkLG51bGw9PWVbZ10pe2VbZ109YjtkKGEsYixjLGssMCk7YT1iLmNvbm5lY3RzQXNTb3VyY2Uuc2xpY2UoKTtjPWIuY29ubmVjdHNBc1RhcmdldC5zbGljZSgpO2ZvcihnPTA7ZzxhLmxlbmd0aDtnKyspe2Y9YVtnXTt2YXIgbD1mLnRhcmdldDtiLnN3aW1sYW5lSW5kZXg8PWwuc3dpbWxhbmVJbmRleCYmdGhpcy5leHRlbmRlZERmcyhiLGwsZixkLGUsYi5oYXNoQ29kZSxnLGsrMSl9Zm9yKGc9MDtnPGMubGVuZ3RoO2crKylmPWNbZ10sbD1mLnNvdXJjZSxiLnN3aW1sYW5lSW5kZXg8bC5zd2ltbGFuZUluZGV4JiYKdGhpcy5leHRlbmRlZERmcyhiLGwsZixkLGUsYi5oYXNoQ29kZSxnLGsrMSl9ZWxzZSBkKGEsYixjLGssMSl9O2Z1bmN0aW9uIG14SGllcmFyY2hpY2FsTGF5b3V0U3RhZ2UoKXt9bXhIaWVyYXJjaGljYWxMYXlvdXRTdGFnZS5wcm90b3R5cGUuZXhlY3V0ZT1mdW5jdGlvbihhKXt9O2Z1bmN0aW9uIG14TWVkaWFuSHlicmlkQ3Jvc3NpbmdSZWR1Y3Rpb24oYSl7dGhpcy5sYXlvdXQ9YX1teE1lZGlhbkh5YnJpZENyb3NzaW5nUmVkdWN0aW9uLnByb3RvdHlwZT1uZXcgbXhIaWVyYXJjaGljYWxMYXlvdXRTdGFnZTtteE1lZGlhbkh5YnJpZENyb3NzaW5nUmVkdWN0aW9uLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1teE1lZGlhbkh5YnJpZENyb3NzaW5nUmVkdWN0aW9uO214TWVkaWFuSHlicmlkQ3Jvc3NpbmdSZWR1Y3Rpb24ucHJvdG90eXBlLmxheW91dD1udWxsO214TWVkaWFuSHlicmlkQ3Jvc3NpbmdSZWR1Y3Rpb24ucHJvdG90eXBlLm1heEl0ZXJhdGlvbnM9MjQ7Cm14TWVkaWFuSHlicmlkQ3Jvc3NpbmdSZWR1Y3Rpb24ucHJvdG90eXBlLm5lc3RlZEJlc3RSYW5rcz1udWxsO214TWVkaWFuSHlicmlkQ3Jvc3NpbmdSZWR1Y3Rpb24ucHJvdG90eXBlLmN1cnJlbnRCZXN0Q3Jvc3NpbmdzPTA7bXhNZWRpYW5IeWJyaWRDcm9zc2luZ1JlZHVjdGlvbi5wcm90b3R5cGUuaXRlcmF0aW9uc1dpdGhvdXRJbXByb3ZlbWVudD0wO214TWVkaWFuSHlicmlkQ3Jvc3NpbmdSZWR1Y3Rpb24ucHJvdG90eXBlLm1heE5vSW1wcm92ZW1lbnRJdGVyYXRpb25zPTI7Cm14TWVkaWFuSHlicmlkQ3Jvc3NpbmdSZWR1Y3Rpb24ucHJvdG90eXBlLmV4ZWN1dGU9ZnVuY3Rpb24oYSl7YT10aGlzLmxheW91dC5nZXRNb2RlbCgpO3RoaXMubmVzdGVkQmVzdFJhbmtzPVtdO2Zvcih2YXIgYj0wO2I8YS5yYW5rcy5sZW5ndGg7YisrKXRoaXMubmVzdGVkQmVzdFJhbmtzW2JdPWEucmFua3NbYl0uc2xpY2UoKTtmb3IodmFyIGM9MCxkPXRoaXMuY2FsY3VsYXRlQ3Jvc3NpbmdzKGEpLGI9MDtiPHRoaXMubWF4SXRlcmF0aW9ucyYmYzx0aGlzLm1heE5vSW1wcm92ZW1lbnRJdGVyYXRpb25zO2IrKyl7dGhpcy53ZWlnaHRlZE1lZGlhbihiLGEpO3RoaXMudHJhbnNwb3NlKGIsYSk7dmFyIGU9dGhpcy5jYWxjdWxhdGVDcm9zc2luZ3MoYSk7aWYoZTxkKWZvcihkPWUsZT1jPTA7ZTx0aGlzLm5lc3RlZEJlc3RSYW5rcy5sZW5ndGg7ZSsrKWZvcih2YXIgZj1hLnJhbmtzW2VdLGc9MDtnPGYubGVuZ3RoO2crKyl7dmFyIGs9ZltnXTt0aGlzLm5lc3RlZEJlc3RSYW5rc1tlXVtrLmdldEdlbmVyYWxQdXJwb3NlVmFyaWFibGUoZSldPQprfWVsc2UgZm9yKGMrKyxlPTA7ZTx0aGlzLm5lc3RlZEJlc3RSYW5rcy5sZW5ndGg7ZSsrKWZvcihmPWEucmFua3NbZV0sZz0wO2c8Zi5sZW5ndGg7ZysrKWs9ZltnXSxrLnNldEdlbmVyYWxQdXJwb3NlVmFyaWFibGUoZSxnKTtpZigwPT1kKWJyZWFrfWM9W107ZD1bXTtmb3IoYj0wO2I8YS5tYXhSYW5rKzE7YisrKWRbYl09W10sY1tiXT1kW2JdO2ZvcihiPTA7Yjx0aGlzLm5lc3RlZEJlc3RSYW5rcy5sZW5ndGg7YisrKWZvcihlPTA7ZTx0aGlzLm5lc3RlZEJlc3RSYW5rc1tiXS5sZW5ndGg7ZSsrKWRbYl0ucHVzaCh0aGlzLm5lc3RlZEJlc3RSYW5rc1tiXVtlXSk7YS5yYW5rcz1jfTtteE1lZGlhbkh5YnJpZENyb3NzaW5nUmVkdWN0aW9uLnByb3RvdHlwZS5jYWxjdWxhdGVDcm9zc2luZ3M9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPWEucmFua3MubGVuZ3RoLGM9MCxkPTE7ZDxiO2QrKyljKz10aGlzLmNhbGN1bGF0ZVJhbmtDcm9zc2luZyhkLGEpO3JldHVybiBjfTsKbXhNZWRpYW5IeWJyaWRDcm9zc2luZ1JlZHVjdGlvbi5wcm90b3R5cGUuY2FsY3VsYXRlUmFua0Nyb3NzaW5nPWZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTAsZD1iLnJhbmtzW2FdLGU9Yi5yYW5rc1thLTFdLGY9W10sZz0wO2c8ZC5sZW5ndGg7ZysrKXtmb3IodmFyIGs9ZFtnXSxsPWsuZ2V0R2VuZXJhbFB1cnBvc2VWYXJpYWJsZShhKSxrPWsuZ2V0UHJldmlvdXNMYXllckNvbm5lY3RlZENlbGxzKGEpLG09W10sbj0wO248ay5sZW5ndGg7bisrKXt2YXIgcD1rW25dLmdldEdlbmVyYWxQdXJwb3NlVmFyaWFibGUoYS0xKTttLnB1c2gocCl9bS5zb3J0KGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEtYn0pO2ZbbF09bX1kPVtdO2ZvcihnPTA7ZzxmLmxlbmd0aDtnKyspZD1kLmNvbmNhdChmW2ddKTtmb3IoZj0xO2Y8ZS5sZW5ndGg7KWY8PD0xO2w9MipmLTE7LS1mO2U9W107Zm9yKGc9MDtnPGw7KytnKWVbZ109MDtmb3IoZz0wO2c8ZC5sZW5ndGg7ZysrKWZvcihsPWRbZ10rZiwrK2VbbF07MDwKbDspbCUyJiYoYys9ZVtsKzFdKSxsPWwtMT4+MSwrK2VbbF07cmV0dXJuIGN9OwpteE1lZGlhbkh5YnJpZENyb3NzaW5nUmVkdWN0aW9uLnByb3RvdHlwZS50cmFuc3Bvc2U9ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9ITAsZD0wO2MmJjEwPmQrKzspZm9yKHZhciBlPTE9PWElMiYmMT09ZCUyLGM9ITEsZj0wO2Y8Yi5yYW5rcy5sZW5ndGg7ZisrKXtmb3IodmFyIGc9Yi5yYW5rc1tmXSxrPVtdLGw9MDtsPGcubGVuZ3RoO2wrKyl7dmFyIG09Z1tsXSxuPW0uZ2V0R2VuZXJhbFB1cnBvc2VWYXJpYWJsZShmKTswPm4mJihuPWwpO2tbbl09bX1mb3IodmFyIHA9bnVsbCxxPW51bGwscix0LHU9bnVsbCx4PW51bGwseSxCPW51bGwsbD0wO2w8Zy5sZW5ndGgtMTtsKyspe2lmKDA9PWwpe3k9a1tsXTttPXkuZ2V0TmV4dExheWVyQ29ubmVjdGVkQ2VsbHMoZik7bj15LmdldFByZXZpb3VzTGF5ZXJDb25uZWN0ZWRDZWxscyhmKTtyPVtdO3Q9W107Zm9yKHZhciBBPTA7QTxtLmxlbmd0aDtBKyspcltBXT1tW0FdLmdldEdlbmVyYWxQdXJwb3NlVmFyaWFibGUoZisxKTtmb3IoQT0KMDtBPG4ubGVuZ3RoO0ErKyl0W0FdPW5bQV0uZ2V0R2VuZXJhbFB1cnBvc2VWYXJpYWJsZShmLTEpfWVsc2UgbT1wLG49cSxyPXUsdD14LHk9QjtCPWtbbCsxXTtwPUIuZ2V0TmV4dExheWVyQ29ubmVjdGVkQ2VsbHMoZik7cT1CLmdldFByZXZpb3VzTGF5ZXJDb25uZWN0ZWRDZWxscyhmKTt1PVtdO3g9W107Zm9yKEE9MDtBPHAubGVuZ3RoO0ErKyl1W0FdPXBbQV0uZ2V0R2VuZXJhbFB1cnBvc2VWYXJpYWJsZShmKzEpO2ZvcihBPTA7QTxxLmxlbmd0aDtBKyspeFtBXT1xW0FdLmdldEdlbmVyYWxQdXJwb3NlVmFyaWFibGUoZi0xKTtmb3IodmFyIHo9MCxDPTAsQT0wO0E8ci5sZW5ndGg7QSsrKWZvcih2YXIgdj0wO3Y8dS5sZW5ndGg7disrKXJbQV0+dVt2XSYmeisrLHJbQV08dVt2XSYmQysrO2ZvcihBPTA7QTx0Lmxlbmd0aDtBKyspZm9yKHY9MDt2PHgubGVuZ3RoO3YrKyl0W0FdPnhbdl0mJnorKyx0W0FdPHhbdl0mJkMrKztpZihDPHp8fEM9PXomJmUpcD15LmdldEdlbmVyYWxQdXJwb3NlVmFyaWFibGUoZiksCnkuc2V0R2VuZXJhbFB1cnBvc2VWYXJpYWJsZShmLEIuZ2V0R2VuZXJhbFB1cnBvc2VWYXJpYWJsZShmKSksQi5zZXRHZW5lcmFsUHVycG9zZVZhcmlhYmxlKGYscCkscD1tLHE9bix1PXIseD10LEI9eSxlfHwoYz0hMCl9fX07bXhNZWRpYW5IeWJyaWRDcm9zc2luZ1JlZHVjdGlvbi5wcm90b3R5cGUud2VpZ2h0ZWRNZWRpYW49ZnVuY3Rpb24oYSxiKXt2YXIgYz0wPT1hJTI7aWYoYylmb3IodmFyIGQ9Yi5tYXhSYW5rLTE7MDw9ZDtkLS0pdGhpcy5tZWRpYW5SYW5rKGQsYyk7ZWxzZSBmb3IoZD0xO2Q8Yi5tYXhSYW5rO2QrKyl0aGlzLm1lZGlhblJhbmsoZCxjKX07Cm14TWVkaWFuSHlicmlkQ3Jvc3NpbmdSZWR1Y3Rpb24ucHJvdG90eXBlLm1lZGlhblJhbms9ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9dGhpcy5uZXN0ZWRCZXN0UmFua3NbYV0ubGVuZ3RoLGQ9W10sZT1bXSxmPTA7ZjxjO2YrKyl7dmFyIGc9dGhpcy5uZXN0ZWRCZXN0UmFua3NbYV1bZl0saz1uZXcgTWVkaWFuQ2VsbFNvcnRlcjtrLmNlbGw9Zzt2YXIgbDtsPWI/Zy5nZXROZXh0TGF5ZXJDb25uZWN0ZWRDZWxscyhhKTpnLmdldFByZXZpb3VzTGF5ZXJDb25uZWN0ZWRDZWxscyhhKTt2YXIgbTttPWI/YSsxOmEtMTtudWxsIT1sJiYwIT1sLmxlbmd0aD8oay5tZWRpYW5WYWx1ZT10aGlzLm1lZGlhblZhbHVlKGwsbSksZC5wdXNoKGspKTplW2cuZ2V0R2VuZXJhbFB1cnBvc2VWYXJpYWJsZShhKV09ITB9ZC5zb3J0KE1lZGlhbkNlbGxTb3J0ZXIucHJvdG90eXBlLmNvbXBhcmUpO2ZvcihmPTA7ZjxjO2YrKyludWxsPT1lW2ZdJiYoZz1kLnNoaWZ0KCkuY2VsbCxnLnNldEdlbmVyYWxQdXJwb3NlVmFyaWFibGUoYSwKZikpfTtteE1lZGlhbkh5YnJpZENyb3NzaW5nUmVkdWN0aW9uLnByb3RvdHlwZS5tZWRpYW5WYWx1ZT1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYz1bXSxkPTAsZT0wO2U8YS5sZW5ndGg7ZSsrKXt2YXIgZj1hW2VdO2NbZCsrXT1mLmdldEdlbmVyYWxQdXJwb3NlVmFyaWFibGUoYil9Yy5zb3J0KGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEtYn0pO2lmKDE9PWQlMilyZXR1cm4gY1tNYXRoLmZsb29yKGQvMildO2lmKDI9PWQpcmV0dXJuKGNbMF0rY1sxXSkvMjtlPWQvMjtmPWNbZS0xXS1jWzBdO2Q9Y1tkLTFdLWNbZV07cmV0dXJuKGNbZS0xXSpkK2NbZV0qZikvKGYrZCl9O2Z1bmN0aW9uIE1lZGlhbkNlbGxTb3J0ZXIoKXt9TWVkaWFuQ2VsbFNvcnRlci5wcm90b3R5cGUubWVkaWFuVmFsdWU9MDtNZWRpYW5DZWxsU29ydGVyLnByb3RvdHlwZS5jZWxsPSExOwpNZWRpYW5DZWxsU29ydGVyLnByb3RvdHlwZS5jb21wYXJlPWZ1bmN0aW9uKGEsYil7cmV0dXJuIG51bGwhPWEmJm51bGwhPWI/Yi5tZWRpYW5WYWx1ZT5hLm1lZGlhblZhbHVlPy0xOmIubWVkaWFuVmFsdWU8YS5tZWRpYW5WYWx1ZT8xOjA6MH07ZnVuY3Rpb24gbXhNaW5pbXVtQ3ljbGVSZW1vdmVyKGEpe3RoaXMubGF5b3V0PWF9bXhNaW5pbXVtQ3ljbGVSZW1vdmVyLnByb3RvdHlwZT1uZXcgbXhIaWVyYXJjaGljYWxMYXlvdXRTdGFnZTtteE1pbmltdW1DeWNsZVJlbW92ZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yPW14TWluaW11bUN5Y2xlUmVtb3ZlcjtteE1pbmltdW1DeWNsZVJlbW92ZXIucHJvdG90eXBlLmxheW91dD1udWxsOwpteE1pbmltdW1DeWNsZVJlbW92ZXIucHJvdG90eXBlLmV4ZWN1dGU9ZnVuY3Rpb24oYSl7YT10aGlzLmxheW91dC5nZXRNb2RlbCgpO2Zvcih2YXIgYj17fSxjPWEudmVydGV4TWFwcGVyLmdldFZhbHVlcygpLGQ9e30sZT0wO2U8Yy5sZW5ndGg7ZSsrKWRbY1tlXS5pZF09Y1tlXTtjPW51bGw7aWYobnVsbCE9YS5yb290cylmb3IodmFyIGY9YS5yb290cyxjPVtdLGU9MDtlPGYubGVuZ3RoO2UrKyljW2VdPWEudmVydGV4TWFwcGVyLmdldChmW2VdKTthLnZpc2l0KGZ1bmN0aW9uKGEsYyxlLGYsbil7Yy5pc0FuY2VzdG9yKGEpJiYoZS5pbnZlcnQoKSxteFV0aWxzLnJlbW92ZShlLGEuY29ubmVjdHNBc1NvdXJjZSksYS5jb25uZWN0c0FzVGFyZ2V0LnB1c2goZSksbXhVdGlscy5yZW1vdmUoZSxjLmNvbm5lY3RzQXNUYXJnZXQpLGMuY29ubmVjdHNBc1NvdXJjZS5wdXNoKGUpKTtiW2MuaWRdPWM7ZGVsZXRlIGRbYy5pZF19LGMsITAsbnVsbCk7ZT1teFV0aWxzLmNsb25lKGIsbnVsbCwKITApO2EudmlzaXQoZnVuY3Rpb24oYSxjLGUsZixuKXtjLmlzQW5jZXN0b3IoYSkmJihlLmludmVydCgpLG14VXRpbHMucmVtb3ZlKGUsYS5jb25uZWN0c0FzU291cmNlKSxjLmNvbm5lY3RzQXNTb3VyY2UucHVzaChlKSxhLmNvbm5lY3RzQXNUYXJnZXQucHVzaChlKSxteFV0aWxzLnJlbW92ZShlLGMuY29ubmVjdHNBc1RhcmdldCkpO2JbYy5pZF09YztkZWxldGUgZFtjLmlkXX0sZCwhMCxlKX07ZnVuY3Rpb24gbXhDb29yZGluYXRlQXNzaWdubWVudChhLGIsYyxkLGUsZil7dGhpcy5sYXlvdXQ9YTt0aGlzLmludHJhQ2VsbFNwYWNpbmc9Yjt0aGlzLmludGVyUmFua0NlbGxTcGFjaW5nPWM7dGhpcy5vcmllbnRhdGlvbj1kO3RoaXMuaW5pdGlhbFg9ZTt0aGlzLnBhcmFsbGVsRWRnZVNwYWNpbmc9Zn1teENvb3JkaW5hdGVBc3NpZ25tZW50LnByb3RvdHlwZT1uZXcgbXhIaWVyYXJjaGljYWxMYXlvdXRTdGFnZTsKbXhDb29yZGluYXRlQXNzaWdubWVudC5wcm90b3R5cGUuY29uc3RydWN0b3I9bXhDb29yZGluYXRlQXNzaWdubWVudDtteENvb3JkaW5hdGVBc3NpZ25tZW50LnByb3RvdHlwZS5sYXlvdXQ9bnVsbDtteENvb3JkaW5hdGVBc3NpZ25tZW50LnByb3RvdHlwZS5pbnRyYUNlbGxTcGFjaW5nPTMwO214Q29vcmRpbmF0ZUFzc2lnbm1lbnQucHJvdG90eXBlLmludGVyUmFua0NlbGxTcGFjaW5nPTEwMDtteENvb3JkaW5hdGVBc3NpZ25tZW50LnByb3RvdHlwZS5wYXJhbGxlbEVkZ2VTcGFjaW5nPTEwO214Q29vcmRpbmF0ZUFzc2lnbm1lbnQucHJvdG90eXBlLm1heEl0ZXJhdGlvbnM9ODtteENvb3JkaW5hdGVBc3NpZ25tZW50LnByb3RvdHlwZS5wcmVmSG96RWRnZVNlcD01O214Q29vcmRpbmF0ZUFzc2lnbm1lbnQucHJvdG90eXBlLnByZWZWZXJ0RWRnZU9mZj0yO214Q29vcmRpbmF0ZUFzc2lnbm1lbnQucHJvdG90eXBlLm1pbkVkZ2VKZXR0eT0xMjsKbXhDb29yZGluYXRlQXNzaWdubWVudC5wcm90b3R5cGUuY2hhbm5lbEJ1ZmZlcj00O214Q29vcmRpbmF0ZUFzc2lnbm1lbnQucHJvdG90eXBlLmpldHR5UG9zaXRpb25zPW51bGw7bXhDb29yZGluYXRlQXNzaWdubWVudC5wcm90b3R5cGUub3JpZW50YXRpb249bXhDb25zdGFudHMuRElSRUNUSU9OX05PUlRIO214Q29vcmRpbmF0ZUFzc2lnbm1lbnQucHJvdG90eXBlLmluaXRpYWxYPW51bGw7bXhDb29yZGluYXRlQXNzaWdubWVudC5wcm90b3R5cGUubGltaXRYPW51bGw7bXhDb29yZGluYXRlQXNzaWdubWVudC5wcm90b3R5cGUuY3VycmVudFhEZWx0YT1udWxsO214Q29vcmRpbmF0ZUFzc2lnbm1lbnQucHJvdG90eXBlLndpZGVzdFJhbms9bnVsbDtteENvb3JkaW5hdGVBc3NpZ25tZW50LnByb3RvdHlwZS5yYW5rVG9wWT1udWxsO214Q29vcmRpbmF0ZUFzc2lnbm1lbnQucHJvdG90eXBlLnJhbmtCb3R0b21ZPW51bGw7Cm14Q29vcmRpbmF0ZUFzc2lnbm1lbnQucHJvdG90eXBlLndpZGVzdFJhbmtWYWx1ZT1udWxsO214Q29vcmRpbmF0ZUFzc2lnbm1lbnQucHJvdG90eXBlLnJhbmtXaWR0aHM9bnVsbDtteENvb3JkaW5hdGVBc3NpZ25tZW50LnByb3RvdHlwZS5yYW5rWT1udWxsO214Q29vcmRpbmF0ZUFzc2lnbm1lbnQucHJvdG90eXBlLmZpbmVUdW5pbmc9ITA7bXhDb29yZGluYXRlQXNzaWdubWVudC5wcm90b3R5cGUubmV4dExheWVyQ29ubmVjdGVkQ2FjaGU9bnVsbDtteENvb3JkaW5hdGVBc3NpZ25tZW50LnByb3RvdHlwZS5wcmV2aW91c0xheWVyQ29ubmVjdGVkQ2FjaGU9bnVsbDtteENvb3JkaW5hdGVBc3NpZ25tZW50LnByb3RvdHlwZS5ncm91cFBhZGRpbmc9MTA7Cm14Q29vcmRpbmF0ZUFzc2lnbm1lbnQucHJvdG90eXBlLnByaW50U3RhdHVzPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5sYXlvdXQuZ2V0TW9kZWwoKTtteExvZy5zaG93KCk7bXhMb2cud3JpdGVsbigiPT09PT09Q29vcmQgYXNzaWdubWVudCBkZWJ1Zz09PT09PT0iKTtmb3IodmFyIGI9MDtiPGEucmFua3MubGVuZ3RoO2IrKyl7bXhMb2cud3JpdGUoIlJhbmsgIixiLCIgOiAiKTtmb3IodmFyIGM9YS5yYW5rc1tiXSxkPTA7ZDxjLmxlbmd0aDtkKyspbXhMb2cud3JpdGUoY1tkXS5nZXRHZW5lcmFsUHVycG9zZVZhcmlhYmxlKGIpLCIgICIpO214TG9nLndyaXRlbG4oKX1teExvZy53cml0ZWxuKCI9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0iKX07Cm14Q29vcmRpbmF0ZUFzc2lnbm1lbnQucHJvdG90eXBlLmV4ZWN1dGU9ZnVuY3Rpb24oYSl7dGhpcy5qZXR0eVBvc2l0aW9ucz17fTthPXRoaXMubGF5b3V0LmdldE1vZGVsKCk7dGhpcy5jdXJyZW50WERlbHRhPTA7dGhpcy5pbml0aWFsQ29vcmRzKHRoaXMubGF5b3V0LmdldEdyYXBoKCksYSk7dGhpcy5maW5lVHVuaW5nJiZ0aGlzLm1pbk5vZGUoYSk7dmFyIGI9MUU4O2lmKHRoaXMuZmluZVR1bmluZylmb3IodmFyIGM9MDtjPHRoaXMubWF4SXRlcmF0aW9ucztjKyspezAhPWMmJih0aGlzLm1lZGlhblBvcyhjLGEpLHRoaXMubWluTm9kZShhKSk7aWYodGhpcy5jdXJyZW50WERlbHRhPGIpe2Zvcih2YXIgZD0wO2Q8YS5yYW5rcy5sZW5ndGg7ZCsrKWZvcih2YXIgZT1hLnJhbmtzW2RdLGY9MDtmPGUubGVuZ3RoO2YrKyl7dmFyIGc9ZVtmXTtnLnNldFgoZCxnLmdldEdlbmVyYWxQdXJwb3NlVmFyaWFibGUoZCkpfWI9dGhpcy5jdXJyZW50WERlbHRhfWVsc2UgZm9yKGQ9MDtkPGEucmFua3MubGVuZ3RoO2QrKylmb3IoZT0KYS5yYW5rc1tkXSxmPTA7ZjxlLmxlbmd0aDtmKyspZz1lW2ZdLGcuc2V0R2VuZXJhbFB1cnBvc2VWYXJpYWJsZShkLGcuZ2V0WChkKSk7dGhpcy5taW5QYXRoKHRoaXMubGF5b3V0LmdldEdyYXBoKCksYSk7dGhpcy5jdXJyZW50WERlbHRhPTB9dGhpcy5zZXRDZWxsTG9jYXRpb25zKHRoaXMubGF5b3V0LmdldEdyYXBoKCksYSl9OwpteENvb3JkaW5hdGVBc3NpZ25tZW50LnByb3RvdHlwZS5taW5Ob2RlPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1bXSxjPW5ldyBteERpY3Rpb25hcnksZD1bXSxlPTA7ZTw9YS5tYXhSYW5rO2UrKyl7ZFtlXT1hLnJhbmtzW2VdO2Zvcih2YXIgZj0wO2Y8ZFtlXS5sZW5ndGg7ZisrKXt2YXIgZz1kW2VdW2ZdLGs9bmV3IFdlaWdodGVkQ2VsbFNvcnRlcihnLGUpO2sucmFua0luZGV4PWY7ay52aXNpdGVkPSEwO2IucHVzaChrKTtjLnB1dChnLGspfX1hPTEwKmIubGVuZ3RoO2ZvcihmPTA7MDxiLmxlbmd0aCYmZjw9YTspe3ZhciBnPWIuc2hpZnQoKSxlPWcuY2VsbCxsPWcud2VpZ2h0ZWRWYWx1ZSxtPXBhcnNlSW50KGcucmFua0luZGV4KSxrPWUuZ2V0TmV4dExheWVyQ29ubmVjdGVkQ2VsbHMobCksbj1lLmdldFByZXZpb3VzTGF5ZXJDb25uZWN0ZWRDZWxscyhsKSxwPWsubGVuZ3RoLHE9bi5sZW5ndGgscj10aGlzLm1lZGlhblhWYWx1ZShrLGwrMSksdD10aGlzLm1lZGlhblhWYWx1ZShuLApsLTEpLHU9cCtxLHg9ZS5nZXRHZW5lcmFsUHVycG9zZVZhcmlhYmxlKGwpLHk9eDswPHUmJih5PShyKnArdCpxKS91KTtwPSExO3k8eC0xPzA9PW0/KGUuc2V0R2VuZXJhbFB1cnBvc2VWYXJpYWJsZShsLHkpLHA9ITApOihtPWRbbF1bbS0xXSx4PW0uZ2V0R2VuZXJhbFB1cnBvc2VWYXJpYWJsZShsKSx4PXgrbS53aWR0aC8yK3RoaXMuaW50cmFDZWxsU3BhY2luZytlLndpZHRoLzIseDx5PyhlLnNldEdlbmVyYWxQdXJwb3NlVmFyaWFibGUobCx5KSxwPSEwKTp4PGUuZ2V0R2VuZXJhbFB1cnBvc2VWYXJpYWJsZShsKS0xJiYoZS5zZXRHZW5lcmFsUHVycG9zZVZhcmlhYmxlKGwseCkscD0hMCkpOnk+eCsxJiYobT09ZFtsXS5sZW5ndGgtMT8oZS5zZXRHZW5lcmFsUHVycG9zZVZhcmlhYmxlKGwseSkscD0hMCk6KG09ZFtsXVttKzFdLHg9bS5nZXRHZW5lcmFsUHVycG9zZVZhcmlhYmxlKGwpLHg9eC1tLndpZHRoLzItdGhpcy5pbnRyYUNlbGxTcGFjaW5nLWUud2lkdGgvMix4Pnk/KGUuc2V0R2VuZXJhbFB1cnBvc2VWYXJpYWJsZShsLAp5KSxwPSEwKTp4PmUuZ2V0R2VuZXJhbFB1cnBvc2VWYXJpYWJsZShsKSsxJiYoZS5zZXRHZW5lcmFsUHVycG9zZVZhcmlhYmxlKGwseCkscD0hMCkpKTtpZihwKXtmb3IoZT0wO2U8ay5sZW5ndGg7ZSsrKWw9a1tlXSxsPWMuZ2V0KGwpLG51bGwhPWwmJjA9PWwudmlzaXRlZCYmKGwudmlzaXRlZD0hMCxiLnB1c2gobCkpO2ZvcihlPTA7ZTxuLmxlbmd0aDtlKyspbD1uW2VdLGw9Yy5nZXQobCksbnVsbCE9bCYmMD09bC52aXNpdGVkJiYobC52aXNpdGVkPSEwLGIucHVzaChsKSl9Zy52aXNpdGVkPSExO2YrK319O214Q29vcmRpbmF0ZUFzc2lnbm1lbnQucHJvdG90eXBlLm1lZGlhblBvcz1mdW5jdGlvbihhLGIpe2lmKDA9PWElMilmb3IodmFyIGM9Yi5tYXhSYW5rOzA8YztjLS0pdGhpcy5yYW5rTWVkaWFuUG9zaXRpb24oYy0xLGIsYyk7ZWxzZSBmb3IoYz0wO2M8Yi5tYXhSYW5rLTE7YysrKXRoaXMucmFua01lZGlhblBvc2l0aW9uKGMrMSxiLGMpfTsKbXhDb29yZGluYXRlQXNzaWdubWVudC5wcm90b3R5cGUucmFua01lZGlhblBvc2l0aW9uPWZ1bmN0aW9uKGEsYixjKXtiPWIucmFua3NbYV07Zm9yKHZhciBkPVtdLGU9e30sZj0wO2Y8Yi5sZW5ndGg7ZisrKXt2YXIgZz1iW2ZdO2RbZl09bmV3IFdlaWdodGVkQ2VsbFNvcnRlcjtkW2ZdLmNlbGw9ZztkW2ZdLnJhbmtJbmRleD1mO2VbZy5pZF09ZFtmXTt2YXIgaztrPWM8YT9nLmdldFByZXZpb3VzTGF5ZXJDb25uZWN0ZWRDZWxscyhhKTpnLmdldE5leHRMYXllckNvbm5lY3RlZENlbGxzKGEpO2RbZl0ud2VpZ2h0ZWRWYWx1ZT10aGlzLmNhbGN1bGF0ZWRXZWlnaHRlZFZhbHVlKGcsayl9ZC5zb3J0KFdlaWdodGVkQ2VsbFNvcnRlci5wcm90b3R5cGUuY29tcGFyZSk7Zm9yKGY9MDtmPGQubGVuZ3RoO2YrKyl7dmFyIGwsZz1kW2ZdLmNlbGw7bD0wO2s9YzxhP2cuZ2V0UHJldmlvdXNMYXllckNvbm5lY3RlZENlbGxzKGEpLnNsaWNlKCk6Zy5nZXROZXh0TGF5ZXJDb25uZWN0ZWRDZWxscyhhKS5zbGljZSgpOwpudWxsIT1rJiYobD1rLmxlbmd0aCxsPTA8bD90aGlzLm1lZGlhblhWYWx1ZShrLGMpOmcuZ2V0R2VuZXJhbFB1cnBvc2VWYXJpYWJsZShhKSk7dmFyIG09MDtrPS0xRTg7Zm9yKHZhciBuPWRbZl0ucmFua0luZGV4LTE7MDw9bjspe3ZhciBwPWVbYltuXS5pZF07aWYobnVsbCE9cCl7dmFyIHE9cC5jZWxsO3AudmlzaXRlZD8oaz1xLmdldEdlbmVyYWxQdXJwb3NlVmFyaWFibGUoYSkrcS53aWR0aC8yK3RoaXMuaW50cmFDZWxsU3BhY2luZyttK2cud2lkdGgvMixuPS0xKToobSs9cS53aWR0aCt0aGlzLmludHJhQ2VsbFNwYWNpbmcsbi0tKX19bT0wO3E9MUU4O2ZvcihuPWRbZl0ucmFua0luZGV4KzE7bjxkLmxlbmd0aDspaWYocD1lW2Jbbl0uaWRdLG51bGwhPXApe3ZhciByPXAuY2VsbDtwLnZpc2l0ZWQ/KHE9ci5nZXRHZW5lcmFsUHVycG9zZVZhcmlhYmxlKGEpLXIud2lkdGgvMi10aGlzLmludHJhQ2VsbFNwYWNpbmctbS1nLndpZHRoLzIsbj1kLmxlbmd0aCk6KG0rPXIud2lkdGgrCnRoaXMuaW50cmFDZWxsU3BhY2luZyxuKyspfWw+PWsmJmw8PXE/Zy5zZXRHZW5lcmFsUHVycG9zZVZhcmlhYmxlKGEsbCk6bDxrPyhnLnNldEdlbmVyYWxQdXJwb3NlVmFyaWFibGUoYSxrKSx0aGlzLmN1cnJlbnRYRGVsdGErPWstbCk6bD5xJiYoZy5zZXRHZW5lcmFsUHVycG9zZVZhcmlhYmxlKGEscSksdGhpcy5jdXJyZW50WERlbHRhKz1sLXEpO2RbZl0udmlzaXRlZD0hMH19O214Q29vcmRpbmF0ZUFzc2lnbm1lbnQucHJvdG90eXBlLmNhbGN1bGF0ZWRXZWlnaHRlZFZhbHVlPWZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTAsZD0wO2Q8Yi5sZW5ndGg7ZCsrKXt2YXIgZT1iW2RdO2EuaXNWZXJ0ZXgoKSYmZS5pc1ZlcnRleCgpP2MrKzpjPWEuaXNFZGdlKCkmJmUuaXNFZGdlKCk/Yys4OmMrMn1yZXR1cm4gY307Cm14Q29vcmRpbmF0ZUFzc2lnbm1lbnQucHJvdG90eXBlLm1lZGlhblhWYWx1ZT1mdW5jdGlvbihhLGIpe2lmKDA9PWEubGVuZ3RoKXJldHVybiAwO2Zvcih2YXIgYz1bXSxkPTA7ZDxhLmxlbmd0aDtkKyspY1tkXT1hW2RdLmdldEdlbmVyYWxQdXJwb3NlVmFyaWFibGUoYik7Yy5zb3J0KGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEtYn0pO2lmKDE9PWEubGVuZ3RoJTIpcmV0dXJuIGNbTWF0aC5mbG9vcihhLmxlbmd0aC8yKV07ZD1hLmxlbmd0aC8yO3JldHVybihjW2QtMV0rY1tkXSkvMn07Cm14Q29vcmRpbmF0ZUFzc2lnbm1lbnQucHJvdG90eXBlLmluaXRpYWxDb29yZHM9ZnVuY3Rpb24oYSxiKXt0aGlzLmNhbGN1bGF0ZVdpZGVzdFJhbmsoYSxiKTtmb3IodmFyIGM9dGhpcy53aWRlc3RSYW5rOzA8PWM7Yy0tKWM8Yi5tYXhSYW5rJiZ0aGlzLnJhbmtDb29yZGluYXRlcyhjLGEsYik7Zm9yKGM9dGhpcy53aWRlc3RSYW5rKzE7Yzw9Yi5tYXhSYW5rO2MrKykwPGMmJnRoaXMucmFua0Nvb3JkaW5hdGVzKGMsYSxiKX07Cm14Q29vcmRpbmF0ZUFzc2lnbm1lbnQucHJvdG90eXBlLnJhbmtDb29yZGluYXRlcz1mdW5jdGlvbihhLGIsYyl7Yj1jLnJhbmtzW2FdO2M9dGhpcy5pbml0aWFsWCsodGhpcy53aWRlc3RSYW5rVmFsdWUtdGhpcy5yYW5rV2lkdGhzW2FdKS8yO2Zvcih2YXIgZD0hMSxlPTA7ZTxiLmxlbmd0aDtlKyspe3ZhciBmPWJbZV07aWYoZi5pc1ZlcnRleCgpKXt2YXIgZz10aGlzLmxheW91dC5nZXRWZXJ0ZXhCb3VuZHMoZi5jZWxsKTtudWxsIT1nP3RoaXMub3JpZW50YXRpb249PW14Q29uc3RhbnRzLkRJUkVDVElPTl9OT1JUSHx8dGhpcy5vcmllbnRhdGlvbj09bXhDb25zdGFudHMuRElSRUNUSU9OX1NPVVRIPyhmLndpZHRoPWcud2lkdGgsZi5oZWlnaHQ9Zy5oZWlnaHQpOihmLndpZHRoPWcuaGVpZ2h0LGYuaGVpZ2h0PWcud2lkdGgpOmQ9ITB9ZWxzZSBmLmlzRWRnZSgpJiYoZz0xLG51bGwhPWYuZWRnZXM/Zz1mLmVkZ2VzLmxlbmd0aDpteExvZy53YXJuKCJlZGdlLmVkZ2VzIGlzIG51bGwiKSwKZi53aWR0aD0oZy0xKSp0aGlzLnBhcmFsbGVsRWRnZVNwYWNpbmcpO2MrPWYud2lkdGgvMjtmLnNldFgoYSxjKTtmLnNldEdlbmVyYWxQdXJwb3NlVmFyaWFibGUoYSxjKTtjKz1mLndpZHRoLzI7Yys9dGhpcy5pbnRyYUNlbGxTcGFjaW5nfTE9PWQmJm14TG9nLndhcm4oIkF0IGxlYXN0IG9uZSBjZWxsIGhhcyBubyBib3VuZHMiKX07Cm14Q29vcmRpbmF0ZUFzc2lnbm1lbnQucHJvdG90eXBlLmNhbGN1bGF0ZVdpZGVzdFJhbms9ZnVuY3Rpb24oYSxiKXt2YXIgYz0tdGhpcy5pbnRlclJhbmtDZWxsU3BhY2luZyxkPTA7dGhpcy5yYW5rV2lkdGhzPVtdO3RoaXMucmFua1k9W107Zm9yKHZhciBlPWIubWF4UmFuazswPD1lO2UtLSl7Zm9yKHZhciBmPTAsZz1iLnJhbmtzW2VdLGs9dGhpcy5pbml0aWFsWCxsPSExLG09MDttPGcubGVuZ3RoO20rKyl7dmFyIG49Z1ttXTtpZihuLmlzVmVydGV4KCkpe3ZhciBwPXRoaXMubGF5b3V0LmdldFZlcnRleEJvdW5kcyhuLmNlbGwpO251bGwhPXA/dGhpcy5vcmllbnRhdGlvbj09bXhDb25zdGFudHMuRElSRUNUSU9OX05PUlRIfHx0aGlzLm9yaWVudGF0aW9uPT1teENvbnN0YW50cy5ESVJFQ1RJT05fU09VVEg/KG4ud2lkdGg9cC53aWR0aCxuLmhlaWdodD1wLmhlaWdodCk6KG4ud2lkdGg9cC5oZWlnaHQsbi5oZWlnaHQ9cC53aWR0aCk6bD0hMDtmPU1hdGgubWF4KGYsbi5oZWlnaHQpfWVsc2Ugbi5pc0VkZ2UoKSYmCihwPTEsbnVsbCE9bi5lZGdlcz9wPW4uZWRnZXMubGVuZ3RoOm14TG9nLndhcm4oImVkZ2UuZWRnZXMgaXMgbnVsbCIpLG4ud2lkdGg9KHAtMSkqdGhpcy5wYXJhbGxlbEVkZ2VTcGFjaW5nKTtrKz1uLndpZHRoLzI7bi5zZXRYKGUsayk7bi5zZXRHZW5lcmFsUHVycG9zZVZhcmlhYmxlKGUsayk7ays9bi53aWR0aC8yO2srPXRoaXMuaW50cmFDZWxsU3BhY2luZztrPnRoaXMud2lkZXN0UmFua1ZhbHVlJiYodGhpcy53aWRlc3RSYW5rVmFsdWU9ayx0aGlzLndpZGVzdFJhbms9ZSk7dGhpcy5yYW5rV2lkdGhzW2VdPWt9MT09bCYmbXhMb2cud2FybigiQXQgbGVhc3Qgb25lIGNlbGwgaGFzIG5vIGJvdW5kcyIpO3RoaXMucmFua1lbZV09YztrPWYvMitkLzIrdGhpcy5pbnRlclJhbmtDZWxsU3BhY2luZztkPWY7Yz10aGlzLm9yaWVudGF0aW9uPT1teENvbnN0YW50cy5ESVJFQ1RJT05fTk9SVEh8fHRoaXMub3JpZW50YXRpb249PW14Q29uc3RhbnRzLkRJUkVDVElPTl9XRVNUP2MrazpjLQprO2ZvcihtPTA7bTxnLmxlbmd0aDttKyspZ1ttXS5zZXRZKGUsYyl9fTsKbXhDb29yZGluYXRlQXNzaWdubWVudC5wcm90b3R5cGUubWluUGF0aD1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYz1iLmVkZ2VNYXBwZXIuZ2V0VmFsdWVzKCksZD0wO2Q8Yy5sZW5ndGg7ZCsrKXt2YXIgZT1jW2RdO2lmKCEoMT5lLm1heFJhbmstZS5taW5SYW5rLTEpKXtmb3IodmFyIGY9ZS5nZXRHZW5lcmFsUHVycG9zZVZhcmlhYmxlKGUubWluUmFuaysxKSxnPSEwLGs9MCxsPWUubWluUmFuaysyO2w8ZS5tYXhSYW5rO2wrKyl7dmFyIG09ZS5nZXRHZW5lcmFsUHVycG9zZVZhcmlhYmxlKGwpO2YhPW0/KGc9ITEsZj1tKTprKyt9aWYoIWcpe2Zvcih2YXIgZz1mPTAsbT1bXSxuPVtdLHA9ZS5nZXRHZW5lcmFsUHVycG9zZVZhcmlhYmxlKGUubWluUmFuaysxKSxsPWUubWluUmFuaysxO2w8ZS5tYXhSYW5rLTE7bCsrKXt2YXIgcT1lLmdldFgobCsxKTtwPT1xPyhtW2wtZS5taW5SYW5rLTFdPXAsZisrKTp0aGlzLnJlcG9zaXRpb25WYWxpZChiLGUsbCsxLHApPyhtW2wtZS5taW5SYW5rLQoxXT1wLGYrKyk6cD1tW2wtZS5taW5SYW5rLTFdPXF9cD1lLmdldFgobCk7Zm9yKGw9ZS5tYXhSYW5rLTE7bD5lLm1pblJhbmsrMTtsLS0pcT1lLmdldFgobC0xKSxwPT1xPyhuW2wtZS5taW5SYW5rLTJdPXAsZysrKTp0aGlzLnJlcG9zaXRpb25WYWxpZChiLGUsbC0xLHApPyhuW2wtZS5taW5SYW5rLTJdPXAsZysrKToobltsLWUubWluUmFuay0yXT1lLmdldFgobC0xKSxwPXEpO2lmKGc+a3x8Zj5rKWlmKGc+PWYpZm9yKGw9ZS5tYXhSYW5rLTI7bD5lLm1pblJhbms7bC0tKWUuc2V0WChsLG5bbC1lLm1pblJhbmstMV0pO2Vsc2UgaWYoZj5nKWZvcihsPWUubWluUmFuaysyO2w8ZS5tYXhSYW5rO2wrKyllLnNldFgobCxtW2wtZS5taW5SYW5rLTJdKX19fX07Cm14Q29vcmRpbmF0ZUFzc2lnbm1lbnQucHJvdG90eXBlLnJlcG9zaXRpb25WYWxpZD1mdW5jdGlvbihhLGIsYyxkKXthPWEucmFua3NbY107Zm9yKHZhciBlPS0xLGY9MDtmPGEubGVuZ3RoO2YrKylpZihiPT1hW2ZdKXtlPWY7YnJlYWt9aWYoMD5lKXJldHVybiExO2Y9Yi5nZXRHZW5lcmFsUHVycG9zZVZhcmlhYmxlKGMpO2lmKGQ8Zil7aWYoMD09ZSlyZXR1cm4hMDthPWFbZS0xXTtjPWEuZ2V0R2VuZXJhbFB1cnBvc2VWYXJpYWJsZShjKTtjPWMrYS53aWR0aC8yK3RoaXMuaW50cmFDZWxsU3BhY2luZytiLndpZHRoLzI7aWYoIShjPD1kKSlyZXR1cm4hMX1lbHNlIGlmKGQ+Zil7aWYoZT09YS5sZW5ndGgtMSlyZXR1cm4hMDthPWFbZSsxXTtjPWEuZ2V0R2VuZXJhbFB1cnBvc2VWYXJpYWJsZShjKTtjPWMtYS53aWR0aC8yLXRoaXMuaW50cmFDZWxsU3BhY2luZy1iLndpZHRoLzI7aWYoIShjPj1kKSlyZXR1cm4hMX1yZXR1cm4hMH07Cm14Q29vcmRpbmF0ZUFzc2lnbm1lbnQucHJvdG90eXBlLnNldENlbGxMb2NhdGlvbnM9ZnVuY3Rpb24oYSxiKXt0aGlzLnJhbmtUb3BZPVtdO3RoaXMucmFua0JvdHRvbVk9W107Zm9yKHZhciBjPTA7YzxiLnJhbmtzLmxlbmd0aDtjKyspdGhpcy5yYW5rVG9wWVtjXT1OdW1iZXIuTUFYX1ZBTFVFLHRoaXMucmFua0JvdHRvbVlbY109LU51bWJlci5NQVhfVkFMVUU7Zm9yKHZhciBkPWIudmVydGV4TWFwcGVyLmdldFZhbHVlcygpLGM9MDtjPGQubGVuZ3RoO2MrKyl0aGlzLnNldFZlcnRleExvY2F0aW9uKGRbY10pO3RoaXMubGF5b3V0LmVkZ2VTdHlsZSE9bXhIaWVyYXJjaGljYWxFZGdlU3R5bGUuT1JUSE9HT05BTCYmdGhpcy5sYXlvdXQuZWRnZVN0eWxlIT1teEhpZXJhcmNoaWNhbEVkZ2VTdHlsZS5QT0xZTElORSYmdGhpcy5sYXlvdXQuZWRnZVN0eWxlIT1teEhpZXJhcmNoaWNhbEVkZ2VTdHlsZS5DVVJWRXx8dGhpcy5sb2NhbEVkZ2VQcm9jZXNzaW5nKGIpO2Q9Yi5lZGdlTWFwcGVyLmdldFZhbHVlcygpOwpmb3IoYz0wO2M8ZC5sZW5ndGg7YysrKXRoaXMuc2V0RWRnZVBvc2l0aW9uKGRbY10pfTsKbXhDb29yZGluYXRlQXNzaWdubWVudC5wcm90b3R5cGUubG9jYWxFZGdlUHJvY2Vzc2luZz1mdW5jdGlvbihhKXtmb3IodmFyIGI9MDtiPGEucmFua3MubGVuZ3RoO2IrKylmb3IodmFyIGM9YS5yYW5rc1tiXSxkPTA7ZDxjLmxlbmd0aDtkKyspe3ZhciBlPWNbZF07aWYoZS5pc1ZlcnRleCgpKWZvcih2YXIgZj1lLmdldFByZXZpb3VzTGF5ZXJDb25uZWN0ZWRDZWxscyhiKSxnPWItMSxrPTA7Mj5rO2srKyl7aWYoLTE8ZyYmZzxhLnJhbmtzLmxlbmd0aCYmbnVsbCE9ZiYmMDxmLmxlbmd0aCl7Zm9yKHZhciBsPVtdLG09MDttPGYubGVuZ3RoO20rKyl7dmFyIG49bmV3IFdlaWdodGVkQ2VsbFNvcnRlcihmW21dLGZbbV0uZ2V0WChnKSk7bC5wdXNoKG4pfWwuc29ydChXZWlnaHRlZENlbGxTb3J0ZXIucHJvdG90eXBlLmNvbXBhcmUpO2Zvcih2YXIgbj1lLnhbMF0tZS53aWR0aC8yLHA9bitlLndpZHRoLHE9Zj0wLGc9W10sbT0wO208bC5sZW5ndGg7bSsrKXt2YXIgcj1sW21dLmNlbGwsCnQ7aWYoci5pc1ZlcnRleCgpKXt0PTA9PWs/ZS5jb25uZWN0c0FzU291cmNlOmUuY29ubmVjdHNBc1RhcmdldDtmb3IodmFyIHU9MDt1PHQubGVuZ3RoO3UrKylpZih0W3VdLnNvdXJjZT09cnx8dFt1XS50YXJnZXQ9PXIpZis9dFt1XS5lZGdlcy5sZW5ndGgscSsrLGcucHVzaCh0W3VdKX1lbHNlIGYrPXIuZWRnZXMubGVuZ3RoLHErKyxnLnB1c2gocil9ZS53aWR0aD4oZisxKSp0aGlzLnByZWZIb3pFZGdlU2VwKzIqdGhpcy5wcmVmSG96RWRnZVNlcCYmKG4rPXRoaXMucHJlZkhvekVkZ2VTZXAscC09dGhpcy5wcmVmSG96RWRnZVNlcCk7bD0ocC1uKS9mO24rPWwvMjtwPXRoaXMubWluRWRnZUpldHR5LXRoaXMucHJlZlZlcnRFZGdlT2ZmO2ZvcihtPTA7bTxnLmxlbmd0aDttKyspZm9yKHE9Z1ttXS5lZGdlcy5sZW5ndGgscj10aGlzLmpldHR5UG9zaXRpb25zW2dbbV0uaWRzWzBdXSxudWxsPT1yJiYocj1bXSx0aGlzLmpldHR5UG9zaXRpb25zW2dbbV0uaWRzWzBdXT1yKSxtPGYvMj8KcCs9dGhpcy5wcmVmVmVydEVkZ2VPZmY6bT5mLzImJihwLT10aGlzLnByZWZWZXJ0RWRnZU9mZiksdD0wO3Q8cTt0Kyspcls0KnQrMiprXT1uLG4rPWwscls0KnQrMiprKzFdPXB9Zj1lLmdldE5leHRMYXllckNvbm5lY3RlZENlbGxzKGIpO2c9YisxfX19OwpteENvb3JkaW5hdGVBc3NpZ25tZW50LnByb3RvdHlwZS5zZXRFZGdlUG9zaXRpb249ZnVuY3Rpb24oYSl7dmFyIGI9MDtpZigxMDEyMDchPWEudGVtcFswXSl7dmFyIGM9YS5tYXhSYW5rLGQ9YS5taW5SYW5rO2M9PWQmJihjPWEuc291cmNlLm1heFJhbmssZD1hLnRhcmdldC5taW5SYW5rKTtmb3IodmFyIGU9MCxmPXRoaXMuamV0dHlQb3NpdGlvbnNbYS5pZHNbMF1dLGc9YS5pc1JldmVyc2VkP2EudGFyZ2V0LmNlbGw6YS5zb3VyY2UuY2VsbCxrPXRoaXMubGF5b3V0LmdyYXBoLGw9dGhpcy5vcmllbnRhdGlvbj09bXhDb25zdGFudHMuRElSRUNUSU9OX0VBU1R8fHRoaXMub3JpZW50YXRpb249PW14Q29uc3RhbnRzLkRJUkVDVElPTl9TT1VUSCxtPTA7bTxhLmVkZ2VzLmxlbmd0aDttKyspe3ZhciBuPWEuZWRnZXNbbV0scD10aGlzLmxheW91dC5nZXRWaXNpYmxlVGVybWluYWwobiwhMCkscT1bXSxyPWEuaXNSZXZlcnNlZDtwIT1nJiYocj0hcik7aWYobnVsbCE9Zil7dmFyIHQ9cj8KMjowLHU9cj9sP3RoaXMucmFua0JvdHRvbVlbZF06dGhpcy5yYW5rVG9wWVtkXTpsP3RoaXMucmFua1RvcFlbY106dGhpcy5yYW5rQm90dG9tWVtjXSx4PWZbNCplKzErdF07ciE9bCYmKHg9LXgpO3ZhciB1PXUreCx0PWZbNCplK3RdLHk9ay5tb2RlbC5nZXRUZXJtaW5hbChuLCEwKTt0aGlzLmxheW91dC5pc1BvcnQoeSkmJmsubW9kZWwuZ2V0UGFyZW50KHkpPT1wJiYodD1rLnZpZXcuZ2V0U3RhdGUoeSksdD1udWxsIT10P3QueDpwLmdlb21ldHJ5LngrYS5zb3VyY2Uud2lkdGgqeS5nZW9tZXRyeS54KTt0aGlzLm9yaWVudGF0aW9uPT1teENvbnN0YW50cy5ESVJFQ1RJT05fTk9SVEh8fHRoaXMub3JpZW50YXRpb249PW14Q29uc3RhbnRzLkRJUkVDVElPTl9TT1VUSD8ocS5wdXNoKG5ldyBteFBvaW50KHQsdSkpLHRoaXMubGF5b3V0LmVkZ2VTdHlsZT09bXhIaWVyYXJjaGljYWxFZGdlU3R5bGUuQ1VSVkUmJnEucHVzaChuZXcgbXhQb2ludCh0LHUreCkpKToocS5wdXNoKG5ldyBteFBvaW50KHUsCnQpKSx0aGlzLmxheW91dC5lZGdlU3R5bGU9PW14SGllcmFyY2hpY2FsRWRnZVN0eWxlLkNVUlZFJiZxLnB1c2gobmV3IG14UG9pbnQodSt4LHQpKSl9dD1hLngubGVuZ3RoLTE7dT14PS0xO3A9YS5tYXhSYW5rLTE7Zm9yKHImJih0PTAseD1hLngubGVuZ3RoLHU9MSxwPWEubWluUmFuaysxKTthLm1heFJhbmshPWEubWluUmFuayYmdCE9eDt0Kz11KXt2YXIgeT1hLnhbdF0rYixCPSh0aGlzLnJhbmtUb3BZW3BdK3RoaXMucmFua0JvdHRvbVlbcCsxXSkvMixBPSh0aGlzLnJhbmtUb3BZW3AtMV0rdGhpcy5yYW5rQm90dG9tWVtwXSkvMjtpZihyKXZhciB6PUIsQj1BLEE9ejt0aGlzLm9yaWVudGF0aW9uPT1teENvbnN0YW50cy5ESVJFQ1RJT05fTk9SVEh8fHRoaXMub3JpZW50YXRpb249PW14Q29uc3RhbnRzLkRJUkVDVElPTl9TT1VUSD8ocS5wdXNoKG5ldyBteFBvaW50KHksQikpLHEucHVzaChuZXcgbXhQb2ludCh5LEEpKSk6KHEucHVzaChuZXcgbXhQb2ludChCLHkpKSxxLnB1c2gobmV3IG14UG9pbnQoQSwKeSkpKTt0aGlzLmxpbWl0WD1NYXRoLm1heCh0aGlzLmxpbWl0WCx5KTtwKz11fW51bGwhPWYmJih0PXI/MjowLHU9cj9sP3RoaXMucmFua1RvcFlbY106dGhpcy5yYW5rQm90dG9tWVtjXTpsP3RoaXMucmFua0JvdHRvbVlbZF06dGhpcy5yYW5rVG9wWVtkXSx4PWZbNCplKzMtdF0sciE9bCYmKHg9LXgpLHUtPXgsdD1mWzQqZSsyLXRdLHI9ay5tb2RlbC5nZXRUZXJtaW5hbChuLCExKSxwPXRoaXMubGF5b3V0LmdldFZpc2libGVUZXJtaW5hbChuLCExKSx0aGlzLmxheW91dC5pc1BvcnQocikmJmsubW9kZWwuZ2V0UGFyZW50KHIpPT1wJiYodD1rLnZpZXcuZ2V0U3RhdGUociksdD1udWxsIT10P3QueDpwLmdlb21ldHJ5LngrYS50YXJnZXQud2lkdGgqci5nZW9tZXRyeS54KSx0aGlzLm9yaWVudGF0aW9uPT1teENvbnN0YW50cy5ESVJFQ1RJT05fTk9SVEh8fHRoaXMub3JpZW50YXRpb249PW14Q29uc3RhbnRzLkRJUkVDVElPTl9TT1VUSD8odGhpcy5sYXlvdXQuZWRnZVN0eWxlPT1teEhpZXJhcmNoaWNhbEVkZ2VTdHlsZS5DVVJWRSYmCnEucHVzaChuZXcgbXhQb2ludCh0LHUteCkpLHEucHVzaChuZXcgbXhQb2ludCh0LHUpKSk6KHRoaXMubGF5b3V0LmVkZ2VTdHlsZT09bXhIaWVyYXJjaGljYWxFZGdlU3R5bGUuQ1VSVkUmJnEucHVzaChuZXcgbXhQb2ludCh1LXgsdCkpLHEucHVzaChuZXcgbXhQb2ludCh1LHQpKSkpO2EuaXNSZXZlcnNlZCYmdGhpcy5wcm9jZXNzUmV2ZXJzZWRFZGdlKGEsbik7dGhpcy5sYXlvdXQuc2V0RWRnZVBvaW50cyhuLHEpO2I9MD09Yj90aGlzLnBhcmFsbGVsRWRnZVNwYWNpbmc6MDxiPy1iOi1iK3RoaXMucGFyYWxsZWxFZGdlU3BhY2luZztlKyt9YS50ZW1wWzBdPTEwMTIwN319OwpteENvb3JkaW5hdGVBc3NpZ25tZW50LnByb3RvdHlwZS5zZXRWZXJ0ZXhMb2NhdGlvbj1mdW5jdGlvbihhKXt2YXIgYj1hLmNlbGwsYz1hLnhbMF0tYS53aWR0aC8yLGQ9YS55WzBdLWEuaGVpZ2h0LzI7dGhpcy5yYW5rVG9wWVthLm1pblJhbmtdPU1hdGgubWluKHRoaXMucmFua1RvcFlbYS5taW5SYW5rXSxkKTt0aGlzLnJhbmtCb3R0b21ZW2EubWluUmFua109TWF0aC5tYXgodGhpcy5yYW5rQm90dG9tWVthLm1pblJhbmtdLGQrYS5oZWlnaHQpO3RoaXMub3JpZW50YXRpb249PW14Q29uc3RhbnRzLkRJUkVDVElPTl9OT1JUSHx8dGhpcy5vcmllbnRhdGlvbj09bXhDb25zdGFudHMuRElSRUNUSU9OX1NPVVRIP3RoaXMubGF5b3V0LnNldFZlcnRleExvY2F0aW9uKGIsYyxkKTp0aGlzLmxheW91dC5zZXRWZXJ0ZXhMb2NhdGlvbihiLGQsYyk7dGhpcy5saW1pdFg9TWF0aC5tYXgodGhpcy5saW1pdFgsYythLndpZHRoKX07Cm14Q29vcmRpbmF0ZUFzc2lnbm1lbnQucHJvdG90eXBlLnByb2Nlc3NSZXZlcnNlZEVkZ2U9ZnVuY3Rpb24oYSxiKXt9O2Z1bmN0aW9uIG14U3dpbWxhbmVPcmRlcmluZyhhKXt0aGlzLmxheW91dD1hfW14U3dpbWxhbmVPcmRlcmluZy5wcm90b3R5cGU9bmV3IG14SGllcmFyY2hpY2FsTGF5b3V0U3RhZ2U7bXhTd2ltbGFuZU9yZGVyaW5nLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1teFN3aW1sYW5lT3JkZXJpbmc7bXhTd2ltbGFuZU9yZGVyaW5nLnByb3RvdHlwZS5sYXlvdXQ9bnVsbDsKbXhTd2ltbGFuZU9yZGVyaW5nLnByb3RvdHlwZS5leGVjdXRlPWZ1bmN0aW9uKGEpe2E9dGhpcy5sYXlvdXQuZ2V0TW9kZWwoKTt2YXIgYj1teFV0aWxzLmNsb25lKGEudmVydGV4TWFwcGVyLG51bGwsITApLGM9bnVsbDtpZihudWxsIT1hLnJvb3RzKWZvcih2YXIgZD1hLnJvb3RzLGM9W10sZT0wO2U8ZC5sZW5ndGg7ZSsrKWNbZV09YS52ZXJ0ZXhNYXBwZXIuZ2V0KGRbZV0pO2EudmlzaXQoZnVuY3Rpb24oYSxjLGQsZSxtKXtlPW51bGwhPWEmJmEuc3dpbWxhbmVJbmRleD09Yy5zd2ltbGFuZUluZGV4JiZjLmlzQW5jZXN0b3IoYSk7bT1udWxsIT1hJiZudWxsIT1kJiZhLnN3aW1sYW5lSW5kZXg8Yy5zd2ltbGFuZUluZGV4JiZkLnNvdXJjZT09YztlPyhkLmludmVydCgpLG14VXRpbHMucmVtb3ZlKGQsYS5jb25uZWN0c0FzU291cmNlKSxjLmNvbm5lY3RzQXNTb3VyY2UucHVzaChkKSxhLmNvbm5lY3RzQXNUYXJnZXQucHVzaChkKSxteFV0aWxzLnJlbW92ZShkLGMuY29ubmVjdHNBc1RhcmdldCkpOgptJiYoZC5pbnZlcnQoKSxteFV0aWxzLnJlbW92ZShkLGEuY29ubmVjdHNBc1RhcmdldCksYy5jb25uZWN0c0FzVGFyZ2V0LnB1c2goZCksYS5jb25uZWN0c0FzU291cmNlLnB1c2goZCksbXhVdGlscy5yZW1vdmUoZCxjLmNvbm5lY3RzQXNTb3VyY2UpKTthPW14Q2VsbFBhdGguY3JlYXRlKGMuY2VsbCk7ZGVsZXRlIGJbYV19LGMsITAsbnVsbCl9O2Z1bmN0aW9uIG14SGllcmFyY2hpY2FsTGF5b3V0KGEsYixjKXtteEdyYXBoTGF5b3V0LmNhbGwodGhpcyxhKTt0aGlzLm9yaWVudGF0aW9uPW51bGwhPWI/YjpteENvbnN0YW50cy5ESVJFQ1RJT05fTk9SVEg7dGhpcy5kZXRlcm1pbmlzdGljPW51bGwhPWM/YzohMH12YXIgbXhIaWVyYXJjaGljYWxFZGdlU3R5bGU9e09SVEhPR09OQUw6MSxQT0xZTElORToyLFNUUkFJR0hUOjMsQ1VSVkU6NH07bXhIaWVyYXJjaGljYWxMYXlvdXQucHJvdG90eXBlPW5ldyBteEdyYXBoTGF5b3V0OwpteEhpZXJhcmNoaWNhbExheW91dC5wcm90b3R5cGUuY29uc3RydWN0b3I9bXhIaWVyYXJjaGljYWxMYXlvdXQ7bXhIaWVyYXJjaGljYWxMYXlvdXQucHJvdG90eXBlLnJvb3RzPW51bGw7bXhIaWVyYXJjaGljYWxMYXlvdXQucHJvdG90eXBlLnJlc2l6ZVBhcmVudD0hMTtteEhpZXJhcmNoaWNhbExheW91dC5wcm90b3R5cGUubWFpbnRhaW5QYXJlbnRMb2NhdGlvbj0hMTtteEhpZXJhcmNoaWNhbExheW91dC5wcm90b3R5cGUubW92ZVBhcmVudD0hMTtteEhpZXJhcmNoaWNhbExheW91dC5wcm90b3R5cGUucGFyZW50Qm9yZGVyPTA7bXhIaWVyYXJjaGljYWxMYXlvdXQucHJvdG90eXBlLmludHJhQ2VsbFNwYWNpbmc9MzA7bXhIaWVyYXJjaGljYWxMYXlvdXQucHJvdG90eXBlLmludGVyUmFua0NlbGxTcGFjaW5nPTEwMDtteEhpZXJhcmNoaWNhbExheW91dC5wcm90b3R5cGUuaW50ZXJIaWVyYXJjaHlTcGFjaW5nPTYwOwpteEhpZXJhcmNoaWNhbExheW91dC5wcm90b3R5cGUucGFyYWxsZWxFZGdlU3BhY2luZz0xMDtteEhpZXJhcmNoaWNhbExheW91dC5wcm90b3R5cGUub3JpZW50YXRpb249bXhDb25zdGFudHMuRElSRUNUSU9OX05PUlRIO214SGllcmFyY2hpY2FsTGF5b3V0LnByb3RvdHlwZS5maW5lVHVuaW5nPSEwO214SGllcmFyY2hpY2FsTGF5b3V0LnByb3RvdHlwZS50aWdodGVuVG9Tb3VyY2U9ITA7bXhIaWVyYXJjaGljYWxMYXlvdXQucHJvdG90eXBlLmRpc2FibGVFZGdlU3R5bGU9ITA7bXhIaWVyYXJjaGljYWxMYXlvdXQucHJvdG90eXBlLnRyYXZlcnNlQW5jZXN0b3JzPSEwO214SGllcmFyY2hpY2FsTGF5b3V0LnByb3RvdHlwZS5tb2RlbD1udWxsO214SGllcmFyY2hpY2FsTGF5b3V0LnByb3RvdHlwZS5lZGdlc0NhY2hlPW51bGw7bXhIaWVyYXJjaGljYWxMYXlvdXQucHJvdG90eXBlLmVkZ2VTb3VyY2VUZXJtQ2FjaGU9bnVsbDsKbXhIaWVyYXJjaGljYWxMYXlvdXQucHJvdG90eXBlLmVkZ2VzVGFyZ2V0VGVybUNhY2hlPW51bGw7bXhIaWVyYXJjaGljYWxMYXlvdXQucHJvdG90eXBlLmVkZ2VTdHlsZT1teEhpZXJhcmNoaWNhbEVkZ2VTdHlsZS5QT0xZTElORTtteEhpZXJhcmNoaWNhbExheW91dC5wcm90b3R5cGUuZ2V0TW9kZWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tb2RlbH07Cm14SGllcmFyY2hpY2FsTGF5b3V0LnByb3RvdHlwZS5leGVjdXRlPWZ1bmN0aW9uKGEsYil7dGhpcy5wYXJlbnQ9YTt2YXIgYz10aGlzLmdyYXBoLm1vZGVsO3RoaXMuZWRnZXNDYWNoZT1uZXcgbXhEaWN0aW9uYXJ5O3RoaXMuZWRnZVNvdXJjZVRlcm1DYWNoZT1uZXcgbXhEaWN0aW9uYXJ5O3RoaXMuZWRnZXNUYXJnZXRUZXJtQ2FjaGU9bmV3IG14RGljdGlvbmFyeTtudWxsPT1ifHxiIGluc3RhbmNlb2YgQXJyYXl8fChiPVtiXSk7aWYobnVsbCE9Ynx8bnVsbCE9YSl7dGhpcy5wYXJlbnRZPXRoaXMucGFyZW50WD1udWxsO2lmKGEhPXRoaXMucm9vdCYmbnVsbCE9Yy5pc1ZlcnRleChhKSYmdGhpcy5tYWludGFpblBhcmVudExvY2F0aW9uKXt2YXIgZD10aGlzLmdyYXBoLmdldENlbGxHZW9tZXRyeShhKTtudWxsIT1kJiYodGhpcy5wYXJlbnRYPWQueCx0aGlzLnBhcmVudFk9ZC55KX1pZihudWxsIT1iKXtmb3IodmFyIGU9W10sZj0wO2Y8Yi5sZW5ndGg7ZisrKShudWxsIT1hP2MuaXNBbmNlc3RvcihhLApiW2ZdKToxKSYmYy5pc1ZlcnRleChiW2ZdKSYmZS5wdXNoKGJbZl0pO3RoaXMucm9vdHM9ZX1jLmJlZ2luVXBkYXRlKCk7dHJ5e3RoaXMucnVuKGEpLHRoaXMucmVzaXplUGFyZW50JiYhdGhpcy5ncmFwaC5pc0NlbGxDb2xsYXBzZWQoYSkmJnRoaXMuZ3JhcGgudXBkYXRlR3JvdXBCb3VuZHMoW2FdLHRoaXMucGFyZW50Qm9yZGVyLHRoaXMubW92ZVBhcmVudCksbnVsbCE9dGhpcy5wYXJlbnRYJiZudWxsIT10aGlzLnBhcmVudFkmJihkPXRoaXMuZ3JhcGguZ2V0Q2VsbEdlb21ldHJ5KGEpLG51bGwhPWQmJihkPWQuY2xvbmUoKSxkLng9dGhpcy5wYXJlbnRYLGQueT10aGlzLnBhcmVudFksYy5zZXRHZW9tZXRyeShhLGQpKSl9ZmluYWxseXtjLmVuZFVwZGF0ZSgpfX19OwpteEhpZXJhcmNoaWNhbExheW91dC5wcm90b3R5cGUuZmluZFJvb3RzPWZ1bmN0aW9uKGEsYil7dmFyIGM9W107aWYobnVsbCE9YSYmbnVsbCE9Yil7dmFyIGQ9dGhpcy5ncmFwaC5tb2RlbCxlPW51bGwsZj0tMUU1LGc7Zm9yKGcgaW4gYil7dmFyIGs9YltnXTtpZihkLmlzVmVydGV4KGspJiZ0aGlzLmdyYXBoLmlzQ2VsbFZpc2libGUoaykpe2Zvcih2YXIgbD10aGlzLmdldEVkZ2VzKGspLG09MCxuPTAscD0wO3A8bC5sZW5ndGg7cCsrKXRoaXMuZ2V0VmlzaWJsZVRlcm1pbmFsKGxbcF0sITApPT1rP20rKzpuKys7MD09biYmMDxtJiZjLnB1c2goayk7bD1tLW47bD5mJiYoZj1sLGU9ayl9fTA9PWMubGVuZ3RoJiZudWxsIT1lJiZjLnB1c2goZSl9cmV0dXJuIGN9OwpteEhpZXJhcmNoaWNhbExheW91dC5wcm90b3R5cGUuZ2V0RWRnZXM9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5lZGdlc0NhY2hlLmdldChhKTtpZihudWxsIT1iKXJldHVybiBiO2Zvcih2YXIgYz10aGlzLmdyYXBoLm1vZGVsLGI9W10sZD10aGlzLmdyYXBoLmlzQ2VsbENvbGxhcHNlZChhKSxlPWMuZ2V0Q2hpbGRDb3VudChhKSxmPTA7ZjxlO2YrKyl7dmFyIGc9Yy5nZXRDaGlsZEF0KGEsZik7aWYodGhpcy5pc1BvcnQoZykpYj1iLmNvbmNhdChjLmdldEVkZ2VzKGcsITAsITApKTtlbHNlIGlmKGR8fCF0aGlzLmdyYXBoLmlzQ2VsbFZpc2libGUoZykpYj1iLmNvbmNhdChjLmdldEVkZ2VzKGcsITAsITApKX1iPWIuY29uY2F0KGMuZ2V0RWRnZXMoYSwhMCwhMCkpO2M9W107Zm9yKGY9MDtmPGIubGVuZ3RoO2YrKylkPXRoaXMuZ2V0VmlzaWJsZVRlcm1pbmFsKGJbZl0sITApLGU9dGhpcy5nZXRWaXNpYmxlVGVybWluYWwoYltmXSwhMSksKGQ9PWV8fGQhPWUmJihlPT1hJiYobnVsbD09CnRoaXMucGFyZW50fHx0aGlzLmlzQW5jZXN0b3IodGhpcy5wYXJlbnQsZCx0aGlzLnRyYXZlcnNlQW5jZXN0b3JzKSl8fGQ9PWEmJihudWxsPT10aGlzLnBhcmVudHx8dGhpcy5pc0FuY2VzdG9yKHRoaXMucGFyZW50LGUsdGhpcy50cmF2ZXJzZUFuY2VzdG9ycykpKSkmJmMucHVzaChiW2ZdKTt0aGlzLmVkZ2VzQ2FjaGUucHV0KGEsYyk7cmV0dXJuIGN9OwpteEhpZXJhcmNoaWNhbExheW91dC5wcm90b3R5cGUuZ2V0VmlzaWJsZVRlcm1pbmFsPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5lZGdlc1RhcmdldFRlcm1DYWNoZTtiJiYoYz10aGlzLmVkZ2VTb3VyY2VUZXJtQ2FjaGUpO3ZhciBkPWMuZ2V0KGEpO2lmKG51bGwhPWQpcmV0dXJuIGQ7dmFyIGQ9dGhpcy5ncmFwaC52aWV3LmdldFN0YXRlKGEpLGU9bnVsbCE9ZD9kLmdldFZpc2libGVUZXJtaW5hbChiKTp0aGlzLmdyYXBoLnZpZXcuZ2V0VmlzaWJsZVRlcm1pbmFsKGEsYik7bnVsbD09ZSYmKGU9bnVsbCE9ZD9kLmdldFZpc2libGVUZXJtaW5hbChiKTp0aGlzLmdyYXBoLnZpZXcuZ2V0VmlzaWJsZVRlcm1pbmFsKGEsYikpO251bGwhPWUmJih0aGlzLmlzUG9ydChlKSYmKGU9dGhpcy5ncmFwaC5tb2RlbC5nZXRQYXJlbnQoZSkpLGMucHV0KGEsZSkpO3JldHVybiBlfTsKbXhIaWVyYXJjaGljYWxMYXlvdXQucHJvdG90eXBlLnJ1bj1mdW5jdGlvbihhKXt2YXIgYj1bXSxjPVtdO2lmKG51bGw9PXRoaXMucm9vdHMmJm51bGwhPWEpe3ZhciBkPXt9O3RoaXMuZmlsdGVyRGVzY2VuZGFudHMoYSxkKTt0aGlzLnJvb3RzPVtdO3ZhciBlPSEwLGY7Zm9yKGYgaW4gZClpZihudWxsIT1kW2ZdKXtlPSExO2JyZWFrfWZvcig7IWU7KXtmb3IodmFyIGc9dGhpcy5maW5kUm9vdHMoYSxkKSxlPTA7ZTxnLmxlbmd0aDtlKyspe3ZhciBrPXt9O2IucHVzaChrKTt0aGlzLnRyYXZlcnNlKGdbZV0sITAsbnVsbCxjLGssYixkKX1mb3IoZT0wO2U8Zy5sZW5ndGg7ZSsrKXRoaXMucm9vdHMucHVzaChnW2VdKTtlPSEwO2ZvcihmIGluIGQpaWYobnVsbCE9ZFtmXSl7ZT0hMTticmVha319fWVsc2UgZm9yKGU9MDtlPHRoaXMucm9vdHMubGVuZ3RoO2UrKylrPXt9LGIucHVzaChrKSx0aGlzLnRyYXZlcnNlKHRoaXMucm9vdHNbZV0sITAsbnVsbCxjLGssYixudWxsKTtmb3IoZT1jPQowO2U8Yi5sZW5ndGg7ZSsrKXtrPWJbZV07ZD1bXTtmb3IoZiBpbiBrKWQucHVzaChrW2ZdKTt0aGlzLm1vZGVsPW5ldyBteEdyYXBoSGllcmFyY2h5TW9kZWwodGhpcyxkLHRoaXMucm9vdHMsYSx0aGlzLnRpZ2h0ZW5Ub1NvdXJjZSk7dGhpcy5jeWNsZVN0YWdlKGEpO3RoaXMubGF5ZXJpbmdTdGFnZSgpO3RoaXMuY3Jvc3NpbmdTdGFnZShhKTtjPXRoaXMucGxhY2VtZW50U3RhZ2UoYyxhKX19OwpteEhpZXJhcmNoaWNhbExheW91dC5wcm90b3R5cGUuZmlsdGVyRGVzY2VuZGFudHM9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdyYXBoLm1vZGVsO2MuaXNWZXJ0ZXgoYSkmJmEhPXRoaXMucGFyZW50JiZ0aGlzLmdyYXBoLmlzQ2VsbFZpc2libGUoYSkmJihiW214T2JqZWN0SWRlbnRpdHkuZ2V0KGEpXT1hKTtpZih0aGlzLnRyYXZlcnNlQW5jZXN0b3JzfHxhPT10aGlzLnBhcmVudCYmdGhpcy5ncmFwaC5pc0NlbGxWaXNpYmxlKGEpKWZvcih2YXIgZD1jLmdldENoaWxkQ291bnQoYSksZT0wO2U8ZDtlKyspe3ZhciBmPWMuZ2V0Q2hpbGRBdChhLGUpO3RoaXMuaXNQb3J0KGYpfHx0aGlzLmZpbHRlckRlc2NlbmRhbnRzKGYsYil9fTtteEhpZXJhcmNoaWNhbExheW91dC5wcm90b3R5cGUuaXNQb3J0PWZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hJiZudWxsIT1hLmdlb21ldHJ5P2EuZ2VvbWV0cnkucmVsYXRpdmU6ITF9OwpteEhpZXJhcmNoaWNhbExheW91dC5wcm90b3R5cGUuZ2V0RWRnZXNCZXR3ZWVuPWZ1bmN0aW9uKGEsYixjKXtjPW51bGwhPWM/YzohMTtmb3IodmFyIGQ9dGhpcy5nZXRFZGdlcyhhKSxlPVtdLGY9MDtmPGQubGVuZ3RoO2YrKyl7dmFyIGc9dGhpcy5nZXRWaXNpYmxlVGVybWluYWwoZFtmXSwhMCksaz10aGlzLmdldFZpc2libGVUZXJtaW5hbChkW2ZdLCExKTsoZz09YSYmaz09Ynx8IWMmJmc9PWImJms9PWEpJiZlLnB1c2goZFtmXSl9cmV0dXJuIGV9OwpteEhpZXJhcmNoaWNhbExheW91dC5wcm90b3R5cGUudHJhdmVyc2U9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyl7aWYobnVsbCE9YSYmbnVsbCE9ZCl7dmFyIGs9bXhPYmplY3RJZGVudGl0eS5nZXQoYSk7aWYobnVsbD09ZFtrXSYmKG51bGw9PWd8fG51bGwhPWdba10pKXtudWxsPT1lW2tdJiYoZVtrXT1hKTtudWxsPT1kW2tdJiYoZFtrXT1hKTtudWxsIT09ZyYmZGVsZXRlIGdba107dmFyIGw9dGhpcy5nZXRFZGdlcyhhKSxrPVtdO2ZvcihjPTA7YzxsLmxlbmd0aDtjKyspa1tjXT10aGlzLmdldFZpc2libGVUZXJtaW5hbChsW2NdLCEwKT09YTtmb3IoYz0wO2M8bC5sZW5ndGg7YysrKWlmKCFifHxrW2NdKXthPXRoaXMuZ2V0VmlzaWJsZVRlcm1pbmFsKGxbY10sIWtbY10pO2Zvcih2YXIgbT0xLG49MDtuPGwubGVuZ3RoO24rKylpZihuIT1jKXt2YXIgcD1rW25dO3RoaXMuZ2V0VmlzaWJsZVRlcm1pbmFsKGxbbl0sIXApPT1hJiYocD9tKys6bS0tKX0wPD1tJiYoZT10aGlzLnRyYXZlcnNlKGEsCmIsbFtjXSxkLGUsZixnKSl9fWVsc2UgaWYobnVsbD09ZVtrXSlmb3IoYz0wO2M8Zi5sZW5ndGg7YysrKWlmKGI9ZltjXSxudWxsIT1iW2tdKXtmb3IobCBpbiBiKWVbbF09YltsXTtmLnNwbGljZShjLDEpO2JyZWFrfX1yZXR1cm4gZX07bXhIaWVyYXJjaGljYWxMYXlvdXQucHJvdG90eXBlLmN5Y2xlU3RhZ2U9ZnVuY3Rpb24oYSl7KG5ldyBteE1pbmltdW1DeWNsZVJlbW92ZXIodGhpcykpLmV4ZWN1dGUoYSl9O214SGllcmFyY2hpY2FsTGF5b3V0LnByb3RvdHlwZS5sYXllcmluZ1N0YWdlPWZ1bmN0aW9uKCl7dGhpcy5tb2RlbC5pbml0aWFsUmFuaygpO3RoaXMubW9kZWwuZml4UmFua3MoKX07bXhIaWVyYXJjaGljYWxMYXlvdXQucHJvdG90eXBlLmNyb3NzaW5nU3RhZ2U9ZnVuY3Rpb24oYSl7KG5ldyBteE1lZGlhbkh5YnJpZENyb3NzaW5nUmVkdWN0aW9uKHRoaXMpKS5leGVjdXRlKGEpfTsKbXhIaWVyYXJjaGljYWxMYXlvdXQucHJvdG90eXBlLnBsYWNlbWVudFN0YWdlPWZ1bmN0aW9uKGEsYil7dmFyIGM9bmV3IG14Q29vcmRpbmF0ZUFzc2lnbm1lbnQodGhpcyx0aGlzLmludHJhQ2VsbFNwYWNpbmcsdGhpcy5pbnRlclJhbmtDZWxsU3BhY2luZyx0aGlzLm9yaWVudGF0aW9uLGEsdGhpcy5wYXJhbGxlbEVkZ2VTcGFjaW5nKTtjLmZpbmVUdW5pbmc9dGhpcy5maW5lVHVuaW5nO2MuZXhlY3V0ZShiKTtyZXR1cm4gYy5saW1pdFgrdGhpcy5pbnRlckhpZXJhcmNoeVNwYWNpbmd9O2Z1bmN0aW9uIG14U3dpbWxhbmVMYXlvdXQoYSxiLGMpe214R3JhcGhMYXlvdXQuY2FsbCh0aGlzLGEpO3RoaXMub3JpZW50YXRpb249bnVsbCE9Yj9iOm14Q29uc3RhbnRzLkRJUkVDVElPTl9OT1JUSDt0aGlzLmRldGVybWluaXN0aWM9bnVsbCE9Yz9jOiEwfW14U3dpbWxhbmVMYXlvdXQucHJvdG90eXBlPW5ldyBteEdyYXBoTGF5b3V0OwpteFN3aW1sYW5lTGF5b3V0LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1teFN3aW1sYW5lTGF5b3V0O214U3dpbWxhbmVMYXlvdXQucHJvdG90eXBlLnJvb3RzPW51bGw7bXhTd2ltbGFuZUxheW91dC5wcm90b3R5cGUuc3dpbWxhbmVzPW51bGw7bXhTd2ltbGFuZUxheW91dC5wcm90b3R5cGUuZHVtbXlWZXJ0ZXhXaWR0aD01MDtteFN3aW1sYW5lTGF5b3V0LnByb3RvdHlwZS5yZXNpemVQYXJlbnQ9ITE7bXhTd2ltbGFuZUxheW91dC5wcm90b3R5cGUubWFpbnRhaW5QYXJlbnRMb2NhdGlvbj0hMTtteFN3aW1sYW5lTGF5b3V0LnByb3RvdHlwZS5tb3ZlUGFyZW50PSExO214U3dpbWxhbmVMYXlvdXQucHJvdG90eXBlLnBhcmVudEJvcmRlcj0zMDtteFN3aW1sYW5lTGF5b3V0LnByb3RvdHlwZS5pbnRyYUNlbGxTcGFjaW5nPTMwO214U3dpbWxhbmVMYXlvdXQucHJvdG90eXBlLmludGVyUmFua0NlbGxTcGFjaW5nPTEwMDsKbXhTd2ltbGFuZUxheW91dC5wcm90b3R5cGUuaW50ZXJIaWVyYXJjaHlTcGFjaW5nPTYwO214U3dpbWxhbmVMYXlvdXQucHJvdG90eXBlLnBhcmFsbGVsRWRnZVNwYWNpbmc9MTA7bXhTd2ltbGFuZUxheW91dC5wcm90b3R5cGUub3JpZW50YXRpb249bXhDb25zdGFudHMuRElSRUNUSU9OX05PUlRIO214U3dpbWxhbmVMYXlvdXQucHJvdG90eXBlLmZpbmVUdW5pbmc9ITA7bXhTd2ltbGFuZUxheW91dC5wcm90b3R5cGUudGlnaHRlblRvU291cmNlPSEwO214U3dpbWxhbmVMYXlvdXQucHJvdG90eXBlLmRpc2FibGVFZGdlU3R5bGU9ITA7bXhTd2ltbGFuZUxheW91dC5wcm90b3R5cGUudHJhdmVyc2VBbmNlc3RvcnM9ITA7bXhTd2ltbGFuZUxheW91dC5wcm90b3R5cGUubW9kZWw9bnVsbDtteFN3aW1sYW5lTGF5b3V0LnByb3RvdHlwZS5lZGdlc0NhY2hlPW51bGw7bXhIaWVyYXJjaGljYWxMYXlvdXQucHJvdG90eXBlLmVkZ2VTb3VyY2VUZXJtQ2FjaGU9bnVsbDsKbXhIaWVyYXJjaGljYWxMYXlvdXQucHJvdG90eXBlLmVkZ2VzVGFyZ2V0VGVybUNhY2hlPW51bGw7bXhIaWVyYXJjaGljYWxMYXlvdXQucHJvdG90eXBlLmVkZ2VTdHlsZT1teEhpZXJhcmNoaWNhbEVkZ2VTdHlsZS5QT0xZTElORTtteFN3aW1sYW5lTGF5b3V0LnByb3RvdHlwZS5nZXRNb2RlbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLm1vZGVsfTsKbXhTd2ltbGFuZUxheW91dC5wcm90b3R5cGUuZXhlY3V0ZT1mdW5jdGlvbihhLGIpe3RoaXMucGFyZW50PWE7dmFyIGM9dGhpcy5ncmFwaC5tb2RlbDt0aGlzLmVkZ2VzQ2FjaGU9bmV3IG14RGljdGlvbmFyeTt0aGlzLmVkZ2VTb3VyY2VUZXJtQ2FjaGU9bmV3IG14RGljdGlvbmFyeTt0aGlzLmVkZ2VzVGFyZ2V0VGVybUNhY2hlPW5ldyBteERpY3Rpb25hcnk7aWYoIShudWxsPT1ifHwxPmIubGVuZ3RoKSl7bnVsbD09YSYmKGE9Yy5nZXRQYXJlbnQoYlswXSkpO3RoaXMucGFyZW50WT10aGlzLnBhcmVudFg9bnVsbDtpZihhIT10aGlzLnJvb3QmJm51bGwhPWMuaXNWZXJ0ZXgoYSkmJnRoaXMubWFpbnRhaW5QYXJlbnRMb2NhdGlvbil7dmFyIGQ9dGhpcy5ncmFwaC5nZXRDZWxsR2VvbWV0cnkoYSk7bnVsbCE9ZCYmKHRoaXMucGFyZW50WD1kLngsdGhpcy5wYXJlbnRZPWQueSl9dGhpcy5zd2ltbGFuZXM9Yjtmb3IodmFyIGU9W10sZj0wO2Y8Yi5sZW5ndGg7ZisrKXt2YXIgZz10aGlzLmdyYXBoLmdldENoaWxkQ2VsbHMoYltmXSk7CmlmKG51bGw9PWd8fDA9PWcubGVuZ3RoKWc9dGhpcy5ncmFwaC5pbnNlcnRWZXJ0ZXgoYltmXSxudWxsLG51bGwsMCwwLHRoaXMuZHVtbXlWZXJ0ZXhXaWR0aCwwKSxlLnB1c2goZyl9Yy5iZWdpblVwZGF0ZSgpO3RyeXt0aGlzLnJ1bihhKSx0aGlzLnJlc2l6ZVBhcmVudCYmIXRoaXMuZ3JhcGguaXNDZWxsQ29sbGFwc2VkKGEpJiZ0aGlzLmdyYXBoLnVwZGF0ZUdyb3VwQm91bmRzKFthXSx0aGlzLnBhcmVudEJvcmRlcix0aGlzLm1vdmVQYXJlbnQpLG51bGwhPXRoaXMucGFyZW50WCYmbnVsbCE9dGhpcy5wYXJlbnRZJiYoZD10aGlzLmdyYXBoLmdldENlbGxHZW9tZXRyeShhKSxudWxsIT1kJiYoZD1kLmNsb25lKCksZC54PXRoaXMucGFyZW50WCxkLnk9dGhpcy5wYXJlbnRZLGMuc2V0R2VvbWV0cnkoYSxkKSkpLHRoaXMuZ3JhcGgucmVtb3ZlQ2VsbHMoZSl9ZmluYWxseXtjLmVuZFVwZGF0ZSgpfX19OwpteFN3aW1sYW5lTGF5b3V0LnByb3RvdHlwZS51cGRhdGVHcm91cEJvdW5kcz1mdW5jdGlvbigpe3ZhciBhPVtdLGI9dGhpcy5tb2RlbCxjO2ZvcihjIGluIGIuZWRnZU1hcHBlcilmb3IodmFyIGQ9Yi5lZGdlTWFwcGVyW2NdLGU9MDtlPGQuZWRnZXMubGVuZ3RoO2UrKylhLnB1c2goZC5lZGdlc1tlXSk7YT10aGlzLmdyYXBoLmdldEJvdW5kaW5nQm94RnJvbUdlb21ldHJ5KGEsITApO2I9W107Zm9yKGU9MDtlPHRoaXMuc3dpbWxhbmVzLmxlbmd0aDtlKyspe3ZhciBmPXRoaXMuc3dpbWxhbmVzW2VdO2M9dGhpcy5ncmFwaC5nZXRDZWxsR2VvbWV0cnkoZik7aWYobnVsbCE9Yyl7dmFyIGc9dGhpcy5ncmFwaC5nZXRDaGlsZENlbGxzKGYpLGQ9dGhpcy5ncmFwaC5pc1N3aW1sYW5lKGYpP3RoaXMuZ3JhcGguZ2V0U3RhcnRTaXplKGYpOm5ldyBteFJlY3RhbmdsZSxmPXRoaXMuZ3JhcGguZ2V0Qm91bmRpbmdCb3hGcm9tR2VvbWV0cnkoZyk7YltlXT1mO2Q9Zi55K2MueS1kLmhlaWdodC0KdGhpcy5wYXJlbnRCb3JkZXI7Yz1mLnkrYy55K2YuaGVpZ2h0O251bGw9PWE/YT1uZXcgbXhSZWN0YW5nbGUoMCxkLDAsYy1kKTooYS55PU1hdGgubWluKGEueSxkKSxhLmhlaWdodD1NYXRoLm1heChhLnkrYS5oZWlnaHQsYyktYS55KX19Zm9yKGU9MDtlPHRoaXMuc3dpbWxhbmVzLmxlbmd0aDtlKyspaWYoZj10aGlzLnN3aW1sYW5lc1tlXSxjPXRoaXMuZ3JhcGguZ2V0Q2VsbEdlb21ldHJ5KGYpLG51bGwhPWMpe3ZhciBnPXRoaXMuZ3JhcGguZ2V0Q2hpbGRDZWxscyhmKSxkPXRoaXMuZ3JhcGguaXNTd2ltbGFuZShmKT90aGlzLmdyYXBoLmdldFN0YXJ0U2l6ZShmKTpuZXcgbXhSZWN0YW5nbGUsaz1jLmNsb25lKCksbD1kLndpZHRoKygwPT1lP3RoaXMucGFyZW50Qm9yZGVyOnRoaXMuaW50ZXJSYW5rQ2VsbFNwYWNpbmcvMiksbT1iW2VdLngtbCxuPWEueS10aGlzLnBhcmVudEJvcmRlcjtrLngrPW07ay55PW47ay53aWR0aD1iW2VdLndpZHRoK2wrdGhpcy5pbnRlclJhbmtDZWxsU3BhY2luZy8KMjtrLmhlaWdodD1hLmhlaWdodCtkLmhlaWdodCsyKnRoaXMucGFyZW50Qm9yZGVyO3RoaXMuZ3JhcGgubW9kZWwuc2V0R2VvbWV0cnkoZixrKTt0aGlzLmdyYXBoLm1vdmVDZWxscyhnLC1tLGMueS1uKX19OwpteFN3aW1sYW5lTGF5b3V0LnByb3RvdHlwZS5maW5kUm9vdHM9ZnVuY3Rpb24oYSxiKXt2YXIgYz1bXTtpZihudWxsIT1hJiZudWxsIT1iKXt2YXIgZD10aGlzLmdyYXBoLm1vZGVsLGU9bnVsbCxmPS0xRTUsZztmb3IoZyBpbiBiKXt2YXIgaz1iW2ddO2lmKG51bGwhPWsmJmQuaXNWZXJ0ZXgoaykmJnRoaXMuZ3JhcGguaXNDZWxsVmlzaWJsZShrKSYmZC5pc0FuY2VzdG9yKGEsaykpe2Zvcih2YXIgbD10aGlzLmdldEVkZ2VzKGspLG09MCxuPTAscD0wO3A8bC5sZW5ndGg7cCsrKXt2YXIgcT10aGlzLmdldFZpc2libGVUZXJtaW5hbChsW3BdLCEwKTtxPT1rPyhxPXRoaXMuZ2V0VmlzaWJsZVRlcm1pbmFsKGxbcF0sITEpLGQuaXNBbmNlc3RvcihhLHEpJiZtKyspOmQuaXNBbmNlc3RvcihhLHEpJiZuKyt9MD09biYmMDxtJiZjLnB1c2goayk7bD1tLW47bD5mJiYoZj1sLGU9ayl9fTA9PWMubGVuZ3RoJiZudWxsIT1lJiZjLnB1c2goZSl9cmV0dXJuIGN9OwpteFN3aW1sYW5lTGF5b3V0LnByb3RvdHlwZS5nZXRFZGdlcz1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmVkZ2VzQ2FjaGUuZ2V0KGEpO2lmKG51bGwhPWIpcmV0dXJuIGI7Zm9yKHZhciBjPXRoaXMuZ3JhcGgubW9kZWwsYj1bXSxkPXRoaXMuZ3JhcGguaXNDZWxsQ29sbGFwc2VkKGEpLGU9Yy5nZXRDaGlsZENvdW50KGEpLGY9MDtmPGU7ZisrKXt2YXIgZz1jLmdldENoaWxkQXQoYSxmKTtpZih0aGlzLmlzUG9ydChnKSliPWIuY29uY2F0KGMuZ2V0RWRnZXMoZywhMCwhMCkpO2Vsc2UgaWYoZHx8IXRoaXMuZ3JhcGguaXNDZWxsVmlzaWJsZShnKSliPWIuY29uY2F0KGMuZ2V0RWRnZXMoZywhMCwhMCkpfWI9Yi5jb25jYXQoYy5nZXRFZGdlcyhhLCEwLCEwKSk7Yz1bXTtmb3IoZj0wO2Y8Yi5sZW5ndGg7ZisrKWQ9dGhpcy5nZXRWaXNpYmxlVGVybWluYWwoYltmXSwhMCksZT10aGlzLmdldFZpc2libGVUZXJtaW5hbChiW2ZdLCExKSwoZD09ZXx8ZCE9ZSYmKGU9PWEmJihudWxsPT10aGlzLnBhcmVudHx8CnRoaXMuZ3JhcGguaXNWYWxpZEFuY2VzdG9yKGQsdGhpcy5wYXJlbnQsdGhpcy50cmF2ZXJzZUFuY2VzdG9ycykpfHxkPT1hJiYobnVsbD09dGhpcy5wYXJlbnR8fHRoaXMuZ3JhcGguaXNWYWxpZEFuY2VzdG9yKGUsdGhpcy5wYXJlbnQsdGhpcy50cmF2ZXJzZUFuY2VzdG9ycykpKSkmJmMucHVzaChiW2ZdKTt0aGlzLmVkZ2VzQ2FjaGUucHV0KGEsYyk7cmV0dXJuIGN9OwpteFN3aW1sYW5lTGF5b3V0LnByb3RvdHlwZS5nZXRWaXNpYmxlVGVybWluYWw9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmVkZ2VzVGFyZ2V0VGVybUNhY2hlO2ImJihjPXRoaXMuZWRnZVNvdXJjZVRlcm1DYWNoZSk7dmFyIGQ9Yy5nZXQoYSk7aWYobnVsbCE9ZClyZXR1cm4gZDt2YXIgZD10aGlzLmdyYXBoLnZpZXcuZ2V0U3RhdGUoYSksZT1udWxsIT1kP2QuZ2V0VmlzaWJsZVRlcm1pbmFsKGIpOnRoaXMuZ3JhcGgudmlldy5nZXRWaXNpYmxlVGVybWluYWwoYSxiKTtudWxsPT1lJiYoZT1udWxsIT1kP2QuZ2V0VmlzaWJsZVRlcm1pbmFsKGIpOnRoaXMuZ3JhcGgudmlldy5nZXRWaXNpYmxlVGVybWluYWwoYSxiKSk7bnVsbCE9ZSYmKHRoaXMuaXNQb3J0KGUpJiYoZT10aGlzLmdyYXBoLm1vZGVsLmdldFBhcmVudChlKSksYy5wdXQoYSxlKSk7cmV0dXJuIGV9OwpteFN3aW1sYW5lTGF5b3V0LnByb3RvdHlwZS5ydW49ZnVuY3Rpb24oYSl7dmFyIGI9W10sYz17fTtpZihudWxsIT10aGlzLnN3aW1sYW5lcyYmMDx0aGlzLnN3aW1sYW5lcy5sZW5ndGgmJm51bGwhPWEpe2Zvcih2YXIgZD17fSxlPTA7ZTx0aGlzLnN3aW1sYW5lcy5sZW5ndGg7ZSsrKXRoaXMuZmlsdGVyRGVzY2VuZGFudHModGhpcy5zd2ltbGFuZXNbZV0sZCk7dGhpcy5yb290cz1bXTt2YXIgZT0hMCxmO2ZvcihmIGluIGQpaWYobnVsbCE9ZFtmXSl7ZT0hMTticmVha31mb3IodmFyIGc9MDshZSYmZzx0aGlzLnN3aW1sYW5lcy5sZW5ndGg7KXt2YXIgaz10aGlzLmZpbmRSb290cyh0aGlzLnN3aW1sYW5lc1tnXSxkKTtpZigwPT1rLmxlbmd0aClnKys7ZWxzZXtmb3IoZT0wO2U8ay5sZW5ndGg7ZSsrKXt2YXIgbD17fTtiLnB1c2gobCk7dGhpcy50cmF2ZXJzZShrW2VdLCEwLG51bGwsYyxsLGIsZCxnKX1mb3IoZT0wO2U8ay5sZW5ndGg7ZSsrKXRoaXMucm9vdHMucHVzaChrW2VdKTsKZT0hMDtmb3IoZiBpbiBkKWlmKG51bGwhPWRbZl0pe2U9ITE7YnJlYWt9fX19ZWxzZSBmb3IoZT0wO2U8dGhpcy5yb290cy5sZW5ndGg7ZSsrKWw9e30sYi5wdXNoKGwpLHRoaXMudHJhdmVyc2UodGhpcy5yb290c1tlXSwhMCxudWxsLGMsbCxiLG51bGwpO2I9W107Zm9yKGYgaW4gYyliLnB1c2goY1tmXSk7dGhpcy5tb2RlbD1uZXcgbXhTd2ltbGFuZU1vZGVsKHRoaXMsYix0aGlzLnJvb3RzLGEsdGhpcy50aWdodGVuVG9Tb3VyY2UpO3RoaXMuY3ljbGVTdGFnZShhKTt0aGlzLmxheWVyaW5nU3RhZ2UoKTt0aGlzLmNyb3NzaW5nU3RhZ2UoYSk7dGhpcy5wbGFjZW1lbnRTdGFnZSgwLGEpfTsKbXhTd2ltbGFuZUxheW91dC5wcm90b3R5cGUuZmlsdGVyRGVzY2VuZGFudHM9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdyYXBoLm1vZGVsO2MuaXNWZXJ0ZXgoYSkmJmEhPXRoaXMucGFyZW50JiZjLmdldFBhcmVudChhKSE9dGhpcy5wYXJlbnQmJnRoaXMuZ3JhcGguaXNDZWxsVmlzaWJsZShhKSYmKGJbbXhPYmplY3RJZGVudGl0eS5nZXQoYSldPWEpO2lmKHRoaXMudHJhdmVyc2VBbmNlc3RvcnN8fGE9PXRoaXMucGFyZW50JiZ0aGlzLmdyYXBoLmlzQ2VsbFZpc2libGUoYSkpZm9yKHZhciBkPWMuZ2V0Q2hpbGRDb3VudChhKSxlPTA7ZTxkO2UrKyl7dmFyIGY9Yy5nZXRDaGlsZEF0KGEsZSk7dGhpcy5pc1BvcnQoZil8fHRoaXMuZmlsdGVyRGVzY2VuZGFudHMoZixiKX19O214U3dpbWxhbmVMYXlvdXQucHJvdG90eXBlLmlzUG9ydD1mdW5jdGlvbihhKXtyZXR1cm4gYS5nZW9tZXRyeS5yZWxhdGl2ZT8hMDohMX07Cm14U3dpbWxhbmVMYXlvdXQucHJvdG90eXBlLmdldEVkZ2VzQmV0d2Vlbj1mdW5jdGlvbihhLGIsYyl7Yz1udWxsIT1jP2M6ITE7Zm9yKHZhciBkPXRoaXMuZ2V0RWRnZXMoYSksZT1bXSxmPTA7ZjxkLmxlbmd0aDtmKyspe3ZhciBnPXRoaXMuZ2V0VmlzaWJsZVRlcm1pbmFsKGRbZl0sITApLGs9dGhpcy5nZXRWaXNpYmxlVGVybWluYWwoZFtmXSwhMSk7KGc9PWEmJms9PWJ8fCFjJiZnPT1iJiZrPT1hKSYmZS5wdXNoKGRbZl0pfXJldHVybiBlfTsKbXhTd2ltbGFuZUxheW91dC5wcm90b3R5cGUudHJhdmVyc2U9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxrKXtpZihudWxsIT1hJiZudWxsIT1kKXt2YXIgbD1teE9iamVjdElkZW50aXR5LmdldChhKTtpZihudWxsPT1kW2xdJiYobnVsbD09Z3x8bnVsbCE9Z1tsXSkpe251bGw9PWVbbF0mJihlW2xdPWEpO251bGw9PWRbbF0mJihkW2xdPWEpO251bGwhPT1nJiZkZWxldGUgZ1tsXTt2YXIgbT10aGlzLmdldEVkZ2VzKGEpLGw9dGhpcy5ncmFwaC5tb2RlbDtmb3IoYz0wO2M8bS5sZW5ndGg7YysrKXt2YXIgbj10aGlzLmdldFZpc2libGVUZXJtaW5hbChtW2NdLCEwKSxwPW49PWE7cCYmKG49dGhpcy5nZXRWaXNpYmxlVGVybWluYWwobVtjXSwhMSkpO3ZhciBxO2ZvcihxPTA7cTx0aGlzLnN3aW1sYW5lcy5sZW5ndGgmJiFsLmlzQW5jZXN0b3IodGhpcy5zd2ltbGFuZXNbcV0sbik7cSsrKTtxPj10aGlzLnN3aW1sYW5lcy5sZW5ndGh8fCEocT5rfHwoIWJ8fHApJiZxPT1rKXx8KGU9dGhpcy50cmF2ZXJzZShuLApiLG1bY10sZCxlLGYsZyxxKSl9fWVsc2UgaWYobnVsbD09ZVtsXSlmb3IoYz0wO2M8Zi5sZW5ndGg7YysrKWlmKGE9ZltjXSxudWxsIT1hW2xdKXtmb3IobSBpbiBhKWVbbV09YVttXTtmLnNwbGljZShjLDEpO2JyZWFrfX1yZXR1cm4gZX07bXhTd2ltbGFuZUxheW91dC5wcm90b3R5cGUuY3ljbGVTdGFnZT1mdW5jdGlvbihhKXsobmV3IG14U3dpbWxhbmVPcmRlcmluZyh0aGlzKSkuZXhlY3V0ZShhKX07bXhTd2ltbGFuZUxheW91dC5wcm90b3R5cGUubGF5ZXJpbmdTdGFnZT1mdW5jdGlvbigpe3RoaXMubW9kZWwuaW5pdGlhbFJhbmsoKTt0aGlzLm1vZGVsLmZpeFJhbmtzKCl9O214U3dpbWxhbmVMYXlvdXQucHJvdG90eXBlLmNyb3NzaW5nU3RhZ2U9ZnVuY3Rpb24oYSl7KG5ldyBteE1lZGlhbkh5YnJpZENyb3NzaW5nUmVkdWN0aW9uKHRoaXMpKS5leGVjdXRlKGEpfTsKbXhTd2ltbGFuZUxheW91dC5wcm90b3R5cGUucGxhY2VtZW50U3RhZ2U9ZnVuY3Rpb24oYSxiKXt2YXIgYz1uZXcgbXhDb29yZGluYXRlQXNzaWdubWVudCh0aGlzLHRoaXMuaW50cmFDZWxsU3BhY2luZyx0aGlzLmludGVyUmFua0NlbGxTcGFjaW5nLHRoaXMub3JpZW50YXRpb24sYSx0aGlzLnBhcmFsbGVsRWRnZVNwYWNpbmcpO2MuZmluZVR1bmluZz10aGlzLmZpbmVUdW5pbmc7Yy5leGVjdXRlKGIpO3JldHVybiBjLmxpbWl0WCt0aGlzLmludGVySGllcmFyY2h5U3BhY2luZ307ZnVuY3Rpb24gbXhHcmFwaE1vZGVsKGEpe3RoaXMuY3VycmVudEVkaXQ9dGhpcy5jcmVhdGVVbmRvYWJsZUVkaXQoKTtudWxsIT1hP3RoaXMuc2V0Um9vdChhKTp0aGlzLmNsZWFyKCl9bXhHcmFwaE1vZGVsLnByb3RvdHlwZT1uZXcgbXhFdmVudFNvdXJjZTtteEdyYXBoTW9kZWwucHJvdG90eXBlLmNvbnN0cnVjdG9yPW14R3JhcGhNb2RlbDtteEdyYXBoTW9kZWwucHJvdG90eXBlLnJvb3Q9bnVsbDsKbXhHcmFwaE1vZGVsLnByb3RvdHlwZS5jZWxscz1udWxsO214R3JhcGhNb2RlbC5wcm90b3R5cGUubWFpbnRhaW5FZGdlUGFyZW50PSEwO214R3JhcGhNb2RlbC5wcm90b3R5cGUuaWdub3JlUmVsYXRpdmVFZGdlUGFyZW50PSEwO214R3JhcGhNb2RlbC5wcm90b3R5cGUuY3JlYXRlSWRzPSEwO214R3JhcGhNb2RlbC5wcm90b3R5cGUucHJlZml4PSIiO214R3JhcGhNb2RlbC5wcm90b3R5cGUucG9zdGZpeD0iIjtteEdyYXBoTW9kZWwucHJvdG90eXBlLm5leHRJZD0wO214R3JhcGhNb2RlbC5wcm90b3R5cGUuY3VycmVudEVkaXQ9bnVsbDtteEdyYXBoTW9kZWwucHJvdG90eXBlLnVwZGF0ZUxldmVsPTA7bXhHcmFwaE1vZGVsLnByb3RvdHlwZS5lbmRpbmdVcGRhdGU9ITE7bXhHcmFwaE1vZGVsLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3RoaXMuc2V0Um9vdCh0aGlzLmNyZWF0ZVJvb3QoKSl9O214R3JhcGhNb2RlbC5wcm90b3R5cGUuaXNDcmVhdGVJZHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jcmVhdGVJZHN9OwpteEdyYXBoTW9kZWwucHJvdG90eXBlLnNldENyZWF0ZUlkcz1mdW5jdGlvbihhKXt0aGlzLmNyZWF0ZUlkcz1hfTtteEdyYXBoTW9kZWwucHJvdG90eXBlLmNyZWF0ZVJvb3Q9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgbXhDZWxsO2EuaW5zZXJ0KG5ldyBteENlbGwpO3JldHVybiBhfTtteEdyYXBoTW9kZWwucHJvdG90eXBlLmdldENlbGw9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPXRoaXMuY2VsbHM/dGhpcy5jZWxsc1thXTpudWxsfTtteEdyYXBoTW9kZWwucHJvdG90eXBlLmZpbHRlckNlbGxzPWZ1bmN0aW9uKGEsYil7dmFyIGM9bnVsbDtpZihudWxsIT1hKWZvcih2YXIgYz1bXSxkPTA7ZDxhLmxlbmd0aDtkKyspYihhW2RdKSYmYy5wdXNoKGFbZF0pO3JldHVybiBjfTtteEdyYXBoTW9kZWwucHJvdG90eXBlLmdldERlc2NlbmRhbnRzPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmZpbHRlckRlc2NlbmRhbnRzKG51bGwsYSl9OwpteEdyYXBoTW9kZWwucHJvdG90eXBlLmZpbHRlckRlc2NlbmRhbnRzPWZ1bmN0aW9uKGEsYil7dmFyIGM9W107Yj1ifHx0aGlzLmdldFJvb3QoKTsobnVsbD09YXx8YShiKSkmJmMucHVzaChiKTtmb3IodmFyIGQ9dGhpcy5nZXRDaGlsZENvdW50KGIpLGU9MDtlPGQ7ZSsrKXZhciBmPXRoaXMuZ2V0Q2hpbGRBdChiLGUpLGM9Yy5jb25jYXQodGhpcy5maWx0ZXJEZXNjZW5kYW50cyhhLGYpKTtyZXR1cm4gY307bXhHcmFwaE1vZGVsLnByb3RvdHlwZS5nZXRSb290PWZ1bmN0aW9uKGEpe3ZhciBiPWF8fHRoaXMucm9vdDtpZihudWxsIT1hKWZvcig7bnVsbCE9YTspYj1hLGE9dGhpcy5nZXRQYXJlbnQoYSk7cmV0dXJuIGJ9O214R3JhcGhNb2RlbC5wcm90b3R5cGUuc2V0Um9vdD1mdW5jdGlvbihhKXt0aGlzLmV4ZWN1dGUobmV3IG14Um9vdENoYW5nZSh0aGlzLGEpKTtyZXR1cm4gYX07Cm14R3JhcGhNb2RlbC5wcm90b3R5cGUucm9vdENoYW5nZWQ9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5yb290O3RoaXMucm9vdD1hO3RoaXMubmV4dElkPTA7dGhpcy5jZWxscz1udWxsO3RoaXMuY2VsbEFkZGVkKGEpO3JldHVybiBifTtteEdyYXBoTW9kZWwucHJvdG90eXBlLmlzUm9vdD1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YSYmdGhpcy5yb290PT1hfTtteEdyYXBoTW9kZWwucHJvdG90eXBlLmlzTGF5ZXI9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuaXNSb290KHRoaXMuZ2V0UGFyZW50KGEpKX07bXhHcmFwaE1vZGVsLnByb3RvdHlwZS5pc0FuY2VzdG9yPWZ1bmN0aW9uKGEsYil7Zm9yKDtudWxsIT1iJiZiIT1hOyliPXRoaXMuZ2V0UGFyZW50KGIpO3JldHVybiBiPT1hfTtteEdyYXBoTW9kZWwucHJvdG90eXBlLmNvbnRhaW5zPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmlzQW5jZXN0b3IodGhpcy5yb290LGEpfTsKbXhHcmFwaE1vZGVsLnByb3RvdHlwZS5nZXRQYXJlbnQ9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPWE/YS5nZXRQYXJlbnQoKTpudWxsfTtteEdyYXBoTW9kZWwucHJvdG90eXBlLmFkZD1mdW5jdGlvbihhLGIsYyl7aWYoYiE9YSYmbnVsbCE9YSYmbnVsbCE9Yil7bnVsbD09YyYmKGM9dGhpcy5nZXRDaGlsZENvdW50KGEpKTt2YXIgZD1hIT10aGlzLmdldFBhcmVudChiKTt0aGlzLmV4ZWN1dGUobmV3IG14Q2hpbGRDaGFuZ2UodGhpcyxhLGIsYykpO3RoaXMubWFpbnRhaW5FZGdlUGFyZW50JiZkJiZ0aGlzLnVwZGF0ZUVkZ2VQYXJlbnRzKGIpfXJldHVybiBifTsKbXhHcmFwaE1vZGVsLnByb3RvdHlwZS5jZWxsQWRkZWQ9ZnVuY3Rpb24oYSl7aWYobnVsbCE9YSl7bnVsbD09YS5nZXRJZCgpJiZ0aGlzLmNyZWF0ZUlkcyYmYS5zZXRJZCh0aGlzLmNyZWF0ZUlkKGEpKTtpZihudWxsIT1hLmdldElkKCkpe3ZhciBiPXRoaXMuZ2V0Q2VsbChhLmdldElkKCkpO2lmKGIhPWEpe2Zvcig7bnVsbCE9YjspYS5zZXRJZCh0aGlzLmNyZWF0ZUlkKGEpKSxiPXRoaXMuZ2V0Q2VsbChhLmdldElkKCkpO251bGw9PXRoaXMuY2VsbHMmJih0aGlzLmNlbGxzPXt9KTt0aGlzLmNlbGxzW2EuZ2V0SWQoKV09YX19bXhVdGlscy5pc051bWVyaWMoYS5nZXRJZCgpKSYmKHRoaXMubmV4dElkPU1hdGgubWF4KHRoaXMubmV4dElkLGEuZ2V0SWQoKSkpO2Zvcih2YXIgYj10aGlzLmdldENoaWxkQ291bnQoYSksYz0wO2M8YjtjKyspdGhpcy5jZWxsQWRkZWQodGhpcy5nZXRDaGlsZEF0KGEsYykpfX07Cm14R3JhcGhNb2RlbC5wcm90b3R5cGUuY3JlYXRlSWQ9ZnVuY3Rpb24oYSl7YT10aGlzLm5leHRJZDt0aGlzLm5leHRJZCsrO3JldHVybiB0aGlzLnByZWZpeCthK3RoaXMucG9zdGZpeH07bXhHcmFwaE1vZGVsLnByb3RvdHlwZS51cGRhdGVFZGdlUGFyZW50cz1mdW5jdGlvbihhLGIpe2I9Ynx8dGhpcy5nZXRSb290KGEpO2Zvcih2YXIgYz10aGlzLmdldENoaWxkQ291bnQoYSksZD0wO2Q8YztkKyspe3ZhciBlPXRoaXMuZ2V0Q2hpbGRBdChhLGQpO3RoaXMudXBkYXRlRWRnZVBhcmVudHMoZSxiKX1lPXRoaXMuZ2V0RWRnZUNvdW50KGEpO2M9W107Zm9yKGQ9MDtkPGU7ZCsrKWMucHVzaCh0aGlzLmdldEVkZ2VBdChhLGQpKTtmb3IoZD0wO2Q8Yy5sZW5ndGg7ZCsrKWU9Y1tkXSx0aGlzLmlzQW5jZXN0b3IoYixlKSYmdGhpcy51cGRhdGVFZGdlUGFyZW50KGUsYil9OwpteEdyYXBoTW9kZWwucHJvdG90eXBlLnVwZGF0ZUVkZ2VQYXJlbnQ9ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9dGhpcy5nZXRUZXJtaW5hbChhLCEwKSxkPXRoaXMuZ2V0VGVybWluYWwoYSwhMSk7bnVsbCE9YyYmIXRoaXMuaXNFZGdlKGMpJiZudWxsIT1jLmdlb21ldHJ5JiZjLmdlb21ldHJ5LnJlbGF0aXZlOyljPXRoaXMuZ2V0UGFyZW50KGMpO2Zvcig7bnVsbCE9ZCYmdGhpcy5pZ25vcmVSZWxhdGl2ZUVkZ2VQYXJlbnQmJiF0aGlzLmlzRWRnZShkKSYmbnVsbCE9ZC5nZW9tZXRyeSYmZC5nZW9tZXRyeS5yZWxhdGl2ZTspZD10aGlzLmdldFBhcmVudChkKTtpZih0aGlzLmlzQW5jZXN0b3IoYixjKSYmdGhpcy5pc0FuY2VzdG9yKGIsZCkmJihjPWM9PWQ/dGhpcy5nZXRQYXJlbnQoYyk6dGhpcy5nZXROZWFyZXN0Q29tbW9uQW5jZXN0b3IoYyxkKSxudWxsIT1jJiYodGhpcy5nZXRQYXJlbnQoYykhPXRoaXMucm9vdHx8dGhpcy5pc0FuY2VzdG9yKGMsYSkpJiZ0aGlzLmdldFBhcmVudChhKSE9CmMpKXtkPXRoaXMuZ2V0R2VvbWV0cnkoYSk7aWYobnVsbCE9ZCl7dmFyIGU9dGhpcy5nZXRPcmlnaW4odGhpcy5nZXRQYXJlbnQoYSkpLGY9dGhpcy5nZXRPcmlnaW4oYyksZz1mLngtZS54LGU9Zi55LWUueSxkPWQuY2xvbmUoKTtkLnRyYW5zbGF0ZSgtZywtZSk7dGhpcy5zZXRHZW9tZXRyeShhLGQpfXRoaXMuYWRkKGMsYSx0aGlzLmdldENoaWxkQ291bnQoYykpfX07bXhHcmFwaE1vZGVsLnByb3RvdHlwZS5nZXRPcmlnaW49ZnVuY3Rpb24oYSl7dmFyIGI7bnVsbCE9YT8oYj10aGlzLmdldE9yaWdpbih0aGlzLmdldFBhcmVudChhKSksdGhpcy5pc0VkZ2UoYSl8fChhPXRoaXMuZ2V0R2VvbWV0cnkoYSksbnVsbCE9YSYmKGIueCs9YS54LGIueSs9YS55KSkpOmI9bmV3IG14UG9pbnQ7cmV0dXJuIGJ9OwpteEdyYXBoTW9kZWwucHJvdG90eXBlLmdldE5lYXJlc3RDb21tb25BbmNlc3Rvcj1mdW5jdGlvbihhLGIpe2lmKG51bGwhPWEmJm51bGwhPWIpe3ZhciBjPW14Q2VsbFBhdGguY3JlYXRlKGIpO2lmKG51bGwhPWMmJjA8Yy5sZW5ndGgpe3ZhciBkPWEsZT1teENlbGxQYXRoLmNyZWF0ZShkKTtpZihjLmxlbmd0aDxlLmxlbmd0aCl2YXIgZD1iLGY9ZSxlPWMsYz1mO2Zvcig7bnVsbCE9ZDspe2Y9dGhpcy5nZXRQYXJlbnQoZCk7aWYoMD09Yy5pbmRleE9mKGUrbXhDZWxsUGF0aC5QQVRIX1NFUEFSQVRPUikmJm51bGwhPWYpcmV0dXJuIGQ7ZT1teENlbGxQYXRoLmdldFBhcmVudFBhdGgoZSk7ZD1mfX19cmV0dXJuIG51bGx9O214R3JhcGhNb2RlbC5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKGEpe2E9PXRoaXMucm9vdD90aGlzLnNldFJvb3QobnVsbCk6bnVsbCE9dGhpcy5nZXRQYXJlbnQoYSkmJnRoaXMuZXhlY3V0ZShuZXcgbXhDaGlsZENoYW5nZSh0aGlzLG51bGwsYSkpO3JldHVybiBhfTsKbXhHcmFwaE1vZGVsLnByb3RvdHlwZS5jZWxsUmVtb3ZlZD1mdW5jdGlvbihhKXtpZihudWxsIT1hJiZudWxsIT10aGlzLmNlbGxzKXtmb3IodmFyIGI9dGhpcy5nZXRDaGlsZENvdW50KGEpLTE7MDw9YjtiLS0pdGhpcy5jZWxsUmVtb3ZlZCh0aGlzLmdldENoaWxkQXQoYSxiKSk7bnVsbCE9dGhpcy5jZWxscyYmbnVsbCE9YS5nZXRJZCgpJiZkZWxldGUgdGhpcy5jZWxsc1thLmdldElkKCldfX07bXhHcmFwaE1vZGVsLnByb3RvdHlwZS5wYXJlbnRGb3JDZWxsQ2hhbmdlZD1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcy5nZXRQYXJlbnQoYSk7bnVsbCE9Yj9iPT1kJiZkLmdldEluZGV4KGEpPT1jfHxiLmluc2VydChhLGMpOm51bGwhPWQmJihjPWQuZ2V0SW5kZXgoYSksZC5yZW1vdmUoYykpO2I9dGhpcy5jb250YWlucyhiKTtjPXRoaXMuY29udGFpbnMoZCk7YiYmIWM/dGhpcy5jZWxsQWRkZWQoYSk6YyYmIWImJnRoaXMuY2VsbFJlbW92ZWQoYSk7cmV0dXJuIGR9OwpteEdyYXBoTW9kZWwucHJvdG90eXBlLmdldENoaWxkQ291bnQ9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPWE/YS5nZXRDaGlsZENvdW50KCk6MH07bXhHcmFwaE1vZGVsLnByb3RvdHlwZS5nZXRDaGlsZEF0PWZ1bmN0aW9uKGEsYil7cmV0dXJuIG51bGwhPWE/YS5nZXRDaGlsZEF0KGIpOm51bGx9O214R3JhcGhNb2RlbC5wcm90b3R5cGUuZ2V0Q2hpbGRyZW49ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPWE/YS5jaGlsZHJlbjpudWxsfTtteEdyYXBoTW9kZWwucHJvdG90eXBlLmdldENoaWxkVmVydGljZXM9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZ2V0Q2hpbGRDZWxscyhhLCEwLCExKX07bXhHcmFwaE1vZGVsLnByb3RvdHlwZS5nZXRDaGlsZEVkZ2VzPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmdldENoaWxkQ2VsbHMoYSwhMSwhMCl9OwpteEdyYXBoTW9kZWwucHJvdG90eXBlLmdldENoaWxkQ2VsbHM9ZnVuY3Rpb24oYSxiLGMpe2I9bnVsbCE9Yj9iOiExO2M9bnVsbCE9Yz9jOiExO2Zvcih2YXIgZD10aGlzLmdldENoaWxkQ291bnQoYSksZT1bXSxmPTA7ZjxkO2YrKyl7dmFyIGc9dGhpcy5nZXRDaGlsZEF0KGEsZik7KCFjJiYhYnx8YyYmdGhpcy5pc0VkZ2UoZyl8fGImJnRoaXMuaXNWZXJ0ZXgoZykpJiZlLnB1c2goZyl9cmV0dXJuIGV9O214R3JhcGhNb2RlbC5wcm90b3R5cGUuZ2V0VGVybWluYWw9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbnVsbCE9YT9hLmdldFRlcm1pbmFsKGIpOm51bGx9OwpteEdyYXBoTW9kZWwucHJvdG90eXBlLnNldFRlcm1pbmFsPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1iIT10aGlzLmdldFRlcm1pbmFsKGEsYyk7dGhpcy5leGVjdXRlKG5ldyBteFRlcm1pbmFsQ2hhbmdlKHRoaXMsYSxiLGMpKTt0aGlzLm1haW50YWluRWRnZVBhcmVudCYmZCYmdGhpcy51cGRhdGVFZGdlUGFyZW50KGEsdGhpcy5nZXRSb290KCkpO3JldHVybiBifTtteEdyYXBoTW9kZWwucHJvdG90eXBlLnNldFRlcm1pbmFscz1mdW5jdGlvbihhLGIsYyl7dGhpcy5iZWdpblVwZGF0ZSgpO3RyeXt0aGlzLnNldFRlcm1pbmFsKGEsYiwhMCksdGhpcy5zZXRUZXJtaW5hbChhLGMsITEpfWZpbmFsbHl7dGhpcy5lbmRVcGRhdGUoKX19OwpteEdyYXBoTW9kZWwucHJvdG90eXBlLnRlcm1pbmFsRm9yQ2VsbENoYW5nZWQ9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXMuZ2V0VGVybWluYWwoYSxjKTtudWxsIT1iP2IuaW5zZXJ0RWRnZShhLGMpOm51bGwhPWQmJmQucmVtb3ZlRWRnZShhLGMpO3JldHVybiBkfTtteEdyYXBoTW9kZWwucHJvdG90eXBlLmdldEVkZ2VDb3VudD1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YT9hLmdldEVkZ2VDb3VudCgpOjB9O214R3JhcGhNb2RlbC5wcm90b3R5cGUuZ2V0RWRnZUF0PWZ1bmN0aW9uKGEsYil7cmV0dXJuIG51bGwhPWE/YS5nZXRFZGdlQXQoYik6bnVsbH07bXhHcmFwaE1vZGVsLnByb3RvdHlwZS5nZXREaXJlY3RlZEVkZ2VDb3VudD1mdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkPTAsZT10aGlzLmdldEVkZ2VDb3VudChhKSxmPTA7ZjxlO2YrKyl7dmFyIGc9dGhpcy5nZXRFZGdlQXQoYSxmKTtnIT1jJiZ0aGlzLmdldFRlcm1pbmFsKGcsYik9PWEmJmQrK31yZXR1cm4gZH07Cm14R3JhcGhNb2RlbC5wcm90b3R5cGUuZ2V0Q29ubmVjdGlvbnM9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZ2V0RWRnZXMoYSwhMCwhMCwhMSl9O214R3JhcGhNb2RlbC5wcm90b3R5cGUuZ2V0SW5jb21pbmdFZGdlcz1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5nZXRFZGdlcyhhLCEwLCExLCExKX07bXhHcmFwaE1vZGVsLnByb3RvdHlwZS5nZXRPdXRnb2luZ0VkZ2VzPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmdldEVkZ2VzKGEsITEsITAsITEpfTsKbXhHcmFwaE1vZGVsLnByb3RvdHlwZS5nZXRFZGdlcz1mdW5jdGlvbihhLGIsYyxkKXtiPW51bGwhPWI/YjohMDtjPW51bGwhPWM/YzohMDtkPW51bGwhPWQ/ZDohMDtmb3IodmFyIGU9dGhpcy5nZXRFZGdlQ291bnQoYSksZj1bXSxnPTA7ZzxlO2crKyl7dmFyIGs9dGhpcy5nZXRFZGdlQXQoYSxnKSxsPXRoaXMuZ2V0VGVybWluYWwoaywhMCksbT10aGlzLmdldFRlcm1pbmFsKGssITEpOyhkJiZsPT1tfHxsIT1tJiYoYiYmbT09YXx8YyYmbD09YSkpJiZmLnB1c2goayl9cmV0dXJuIGZ9OwpteEdyYXBoTW9kZWwucHJvdG90eXBlLmdldEVkZ2VzQmV0d2Vlbj1mdW5jdGlvbihhLGIsYyl7Yz1udWxsIT1jP2M6ITE7dmFyIGQ9dGhpcy5nZXRFZGdlQ291bnQoYSksZT10aGlzLmdldEVkZ2VDb3VudChiKSxmPWEsZz1kO2U8ZCYmKGc9ZSxmPWIpO2Q9W107Zm9yKGU9MDtlPGc7ZSsrKXt2YXIgaz10aGlzLmdldEVkZ2VBdChmLGUpLGw9dGhpcy5nZXRUZXJtaW5hbChrLCEwKSxtPXRoaXMuZ2V0VGVybWluYWwoaywhMSksbj1tPT1hJiZsPT1iOyhsPT1hJiZtPT1ifHwhYyYmbikmJmQucHVzaChrKX1yZXR1cm4gZH07Cm14R3JhcGhNb2RlbC5wcm90b3R5cGUuZ2V0T3Bwb3NpdGVzPWZ1bmN0aW9uKGEsYixjLGQpe2M9bnVsbCE9Yz9jOiEwO2Q9bnVsbCE9ZD9kOiEwO3ZhciBlPVtdO2lmKG51bGwhPWEpZm9yKHZhciBmPTA7ZjxhLmxlbmd0aDtmKyspe3ZhciBnPXRoaXMuZ2V0VGVybWluYWwoYVtmXSwhMCksaz10aGlzLmdldFRlcm1pbmFsKGFbZl0sITEpO2c9PWImJm51bGwhPWsmJmshPWImJmQ/ZS5wdXNoKGspOms9PWImJm51bGwhPWcmJmchPWImJmMmJmUucHVzaChnKX1yZXR1cm4gZX07Cm14R3JhcGhNb2RlbC5wcm90b3R5cGUuZ2V0VG9wbW9zdENlbGxzPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1uZXcgbXhEaWN0aW9uYXJ5LGM9W10sZD0wO2Q8YS5sZW5ndGg7ZCsrKWIucHV0KGFbZF0sITApO2ZvcihkPTA7ZDxhLmxlbmd0aDtkKyspe2Zvcih2YXIgZT1hW2RdLGY9ITAsZz10aGlzLmdldFBhcmVudChlKTtudWxsIT1nOyl7aWYoYi5nZXQoZykpe2Y9ITE7YnJlYWt9Zz10aGlzLmdldFBhcmVudChnKX1mJiZjLnB1c2goZSl9cmV0dXJuIGN9O214R3JhcGhNb2RlbC5wcm90b3R5cGUuaXNWZXJ0ZXg9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPWE/YS5pc1ZlcnRleCgpOiExfTtteEdyYXBoTW9kZWwucHJvdG90eXBlLmlzRWRnZT1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YT9hLmlzRWRnZSgpOiExfTtteEdyYXBoTW9kZWwucHJvdG90eXBlLmlzQ29ubmVjdGFibGU9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPWE/YS5pc0Nvbm5lY3RhYmxlKCk6ITF9OwpteEdyYXBoTW9kZWwucHJvdG90eXBlLmdldFZhbHVlPWZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hP2EuZ2V0VmFsdWUoKTpudWxsfTtteEdyYXBoTW9kZWwucHJvdG90eXBlLnNldFZhbHVlPWZ1bmN0aW9uKGEsYil7dGhpcy5leGVjdXRlKG5ldyBteFZhbHVlQ2hhbmdlKHRoaXMsYSxiKSk7cmV0dXJuIGJ9O214R3JhcGhNb2RlbC5wcm90b3R5cGUudmFsdWVGb3JDZWxsQ2hhbmdlZD1mdW5jdGlvbihhLGIpe3JldHVybiBhLnZhbHVlQ2hhbmdlZChiKX07bXhHcmFwaE1vZGVsLnByb3RvdHlwZS5nZXRHZW9tZXRyeT1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YT9hLmdldEdlb21ldHJ5KCk6bnVsbH07bXhHcmFwaE1vZGVsLnByb3RvdHlwZS5zZXRHZW9tZXRyeT1mdW5jdGlvbihhLGIpe2IhPXRoaXMuZ2V0R2VvbWV0cnkoYSkmJnRoaXMuZXhlY3V0ZShuZXcgbXhHZW9tZXRyeUNoYW5nZSh0aGlzLGEsYikpO3JldHVybiBifTsKbXhHcmFwaE1vZGVsLnByb3RvdHlwZS5nZW9tZXRyeUZvckNlbGxDaGFuZ2VkPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5nZXRHZW9tZXRyeShhKTthLnNldEdlb21ldHJ5KGIpO3JldHVybiBjfTtteEdyYXBoTW9kZWwucHJvdG90eXBlLmdldFN0eWxlPWZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hP2EuZ2V0U3R5bGUoKTpudWxsfTtteEdyYXBoTW9kZWwucHJvdG90eXBlLnNldFN0eWxlPWZ1bmN0aW9uKGEsYil7YiE9dGhpcy5nZXRTdHlsZShhKSYmdGhpcy5leGVjdXRlKG5ldyBteFN0eWxlQ2hhbmdlKHRoaXMsYSxiKSk7cmV0dXJuIGJ9O214R3JhcGhNb2RlbC5wcm90b3R5cGUuc3R5bGVGb3JDZWxsQ2hhbmdlZD1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZ2V0U3R5bGUoYSk7YS5zZXRTdHlsZShiKTtyZXR1cm4gY307bXhHcmFwaE1vZGVsLnByb3RvdHlwZS5pc0NvbGxhcHNlZD1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YT9hLmlzQ29sbGFwc2VkKCk6ITF9OwpteEdyYXBoTW9kZWwucHJvdG90eXBlLnNldENvbGxhcHNlZD1mdW5jdGlvbihhLGIpe2IhPXRoaXMuaXNDb2xsYXBzZWQoYSkmJnRoaXMuZXhlY3V0ZShuZXcgbXhDb2xsYXBzZUNoYW5nZSh0aGlzLGEsYikpO3JldHVybiBifTtteEdyYXBoTW9kZWwucHJvdG90eXBlLmNvbGxhcHNlZFN0YXRlRm9yQ2VsbENoYW5nZWQ9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmlzQ29sbGFwc2VkKGEpO2Euc2V0Q29sbGFwc2VkKGIpO3JldHVybiBjfTtteEdyYXBoTW9kZWwucHJvdG90eXBlLmlzVmlzaWJsZT1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YT9hLmlzVmlzaWJsZSgpOiExfTtteEdyYXBoTW9kZWwucHJvdG90eXBlLnNldFZpc2libGU9ZnVuY3Rpb24oYSxiKXtiIT10aGlzLmlzVmlzaWJsZShhKSYmdGhpcy5leGVjdXRlKG5ldyBteFZpc2libGVDaGFuZ2UodGhpcyxhLGIpKTtyZXR1cm4gYn07Cm14R3JhcGhNb2RlbC5wcm90b3R5cGUudmlzaWJsZVN0YXRlRm9yQ2VsbENoYW5nZWQ9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmlzVmlzaWJsZShhKTthLnNldFZpc2libGUoYik7cmV0dXJuIGN9O214R3JhcGhNb2RlbC5wcm90b3R5cGUuZXhlY3V0ZT1mdW5jdGlvbihhKXthLmV4ZWN1dGUoKTt0aGlzLmJlZ2luVXBkYXRlKCk7dGhpcy5jdXJyZW50RWRpdC5hZGQoYSk7dGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5FWEVDVVRFLCJjaGFuZ2UiLGEpKTt0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LkVYRUNVVEVELCJjaGFuZ2UiLGEpKTt0aGlzLmVuZFVwZGF0ZSgpfTtteEdyYXBoTW9kZWwucHJvdG90eXBlLmJlZ2luVXBkYXRlPWZ1bmN0aW9uKCl7dGhpcy51cGRhdGVMZXZlbCsrO3RoaXMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KG14RXZlbnQuQkVHSU5fVVBEQVRFKSk7MT09dGhpcy51cGRhdGVMZXZlbCYmdGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5TVEFSVF9FRElUKSl9OwpteEdyYXBoTW9kZWwucHJvdG90eXBlLmVuZFVwZGF0ZT1mdW5jdGlvbigpe3RoaXMudXBkYXRlTGV2ZWwtLTswPT10aGlzLnVwZGF0ZUxldmVsJiZ0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LkVORF9FRElUKSk7aWYoIXRoaXMuZW5kaW5nVXBkYXRlKXt0aGlzLmVuZGluZ1VwZGF0ZT0wPT10aGlzLnVwZGF0ZUxldmVsO3RoaXMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KG14RXZlbnQuRU5EX1VQREFURSwiZWRpdCIsdGhpcy5jdXJyZW50RWRpdCkpO3RyeXtpZih0aGlzLmVuZGluZ1VwZGF0ZSYmIXRoaXMuY3VycmVudEVkaXQuaXNFbXB0eSgpKXt0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LkJFRk9SRV9VTkRPLCJlZGl0Iix0aGlzLmN1cnJlbnRFZGl0KSk7dmFyIGE9dGhpcy5jdXJyZW50RWRpdDt0aGlzLmN1cnJlbnRFZGl0PXRoaXMuY3JlYXRlVW5kb2FibGVFZGl0KCk7YS5ub3RpZnkoKTt0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LlVORE8sCiJlZGl0IixhKSl9fWZpbmFsbHl7dGhpcy5lbmRpbmdVcGRhdGU9ITF9fX07bXhHcmFwaE1vZGVsLnByb3RvdHlwZS5jcmVhdGVVbmRvYWJsZUVkaXQ9ZnVuY3Rpb24oYSl7dmFyIGI9bmV3IG14VW5kb2FibGVFZGl0KHRoaXMsbnVsbCE9YT9hOiEwKTtiLm5vdGlmeT1mdW5jdGlvbigpe2Iuc291cmNlLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LkNIQU5HRSwiZWRpdCIsYiwiY2hhbmdlcyIsYi5jaGFuZ2VzKSk7Yi5zb3VyY2UuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KG14RXZlbnQuTk9USUZZLCJlZGl0IixiLCJjaGFuZ2VzIixiLmNoYW5nZXMpKX07cmV0dXJuIGJ9OwpteEdyYXBoTW9kZWwucHJvdG90eXBlLm1lcmdlQ2hpbGRyZW49ZnVuY3Rpb24oYSxiLGMpe2M9bnVsbCE9Yz9jOiEwO3RoaXMuYmVnaW5VcGRhdGUoKTt0cnl7dmFyIGQ9e307dGhpcy5tZXJnZUNoaWxkcmVuSW1wbChhLGIsYyxkKTtmb3IodmFyIGUgaW4gZCl7dmFyIGY9ZFtlXSxnPXRoaXMuZ2V0VGVybWluYWwoZiwhMCk7bnVsbCE9ZyYmKGc9ZFtteENlbGxQYXRoLmNyZWF0ZShnKV0sdGhpcy5zZXRUZXJtaW5hbChmLGcsITApKTtnPXRoaXMuZ2V0VGVybWluYWwoZiwhMSk7bnVsbCE9ZyYmKGc9ZFtteENlbGxQYXRoLmNyZWF0ZShnKV0sdGhpcy5zZXRUZXJtaW5hbChmLGcsITEpKX19ZmluYWxseXt0aGlzLmVuZFVwZGF0ZSgpfX07Cm14R3JhcGhNb2RlbC5wcm90b3R5cGUubWVyZ2VDaGlsZHJlbkltcGw9ZnVuY3Rpb24oYSxiLGMsZCl7dGhpcy5iZWdpblVwZGF0ZSgpO3RyeXtmb3IodmFyIGU9YS5nZXRDaGlsZENvdW50KCksZj0wO2Y8ZTtmKyspe3ZhciBnPWEuZ2V0Q2hpbGRBdChmKTtpZigiZnVuY3Rpb24iPT10eXBlb2YgZy5nZXRJZCl7dmFyIGs9Zy5nZXRJZCgpLGw9bnVsbD09a3x8dGhpcy5pc0VkZ2UoZykmJmM/bnVsbDp0aGlzLmdldENlbGwoayk7aWYobnVsbD09bCl7dmFyIG09Zy5jbG9uZSgpO20uc2V0SWQoayk7bS5zZXRUZXJtaW5hbChnLmdldFRlcm1pbmFsKCEwKSwhMCk7bS5zZXRUZXJtaW5hbChnLmdldFRlcm1pbmFsKCExKSwhMSk7bD1iLmluc2VydChtKTt0aGlzLmNlbGxBZGRlZChsKX1kW214Q2VsbFBhdGguY3JlYXRlKGcpXT1sO3RoaXMubWVyZ2VDaGlsZHJlbkltcGwoZyxsLGMsZCl9fX1maW5hbGx5e3RoaXMuZW5kVXBkYXRlKCl9fTsKbXhHcmFwaE1vZGVsLnByb3RvdHlwZS5nZXRQYXJlbnRzPWZ1bmN0aW9uKGEpe3ZhciBiPVtdO2lmKG51bGwhPWEpZm9yKHZhciBjPW5ldyBteERpY3Rpb25hcnksZD0wO2Q8YS5sZW5ndGg7ZCsrKXt2YXIgZT10aGlzLmdldFBhcmVudChhW2RdKTtudWxsPT1lfHxjLmdldChlKXx8KGMucHV0KGUsITApLGIucHVzaChlKSl9cmV0dXJuIGJ9O214R3JhcGhNb2RlbC5wcm90b3R5cGUuY2xvbmVDZWxsPWZ1bmN0aW9uKGEsYil7cmV0dXJuIG51bGwhPWE/dGhpcy5jbG9uZUNlbGxzKFthXSxiKVswXTpudWxsfTsKbXhHcmFwaE1vZGVsLnByb3RvdHlwZS5jbG9uZUNlbGxzPWZ1bmN0aW9uKGEsYixjKXtiPW51bGwhPWI/YjohMDtjPW51bGwhPWM/Yzp7fTtmb3IodmFyIGQ9W10sZT0wO2U8YS5sZW5ndGg7ZSsrKW51bGwhPWFbZV0/ZC5wdXNoKHRoaXMuY2xvbmVDZWxsSW1wbChhW2VdLGMsYikpOmQucHVzaChudWxsKTtmb3IoZT0wO2U8ZC5sZW5ndGg7ZSsrKW51bGwhPWRbZV0mJnRoaXMucmVzdG9yZUNsb25lKGRbZV0sYVtlXSxjKTtyZXR1cm4gZH07bXhHcmFwaE1vZGVsLnByb3RvdHlwZS5jbG9uZUNlbGxJbXBsPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1teE9iamVjdElkZW50aXR5LmdldChhKSxlPWJbZF07aWYobnVsbD09ZSYmKGU9dGhpcy5jZWxsQ2xvbmVkKGEpLGJbZF09ZSxjKSlmb3IoYz10aGlzLmdldENoaWxkQ291bnQoYSksZD0wO2Q8YztkKyspe3ZhciBmPXRoaXMuY2xvbmVDZWxsSW1wbCh0aGlzLmdldENoaWxkQXQoYSxkKSxiLCEwKTtlLmluc2VydChmKX1yZXR1cm4gZX07Cm14R3JhcGhNb2RlbC5wcm90b3R5cGUuY2VsbENsb25lZD1mdW5jdGlvbihhKXtyZXR1cm4gYS5jbG9uZSgpfTtteEdyYXBoTW9kZWwucHJvdG90eXBlLnJlc3RvcmVDbG9uZT1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcy5nZXRUZXJtaW5hbChiLCEwKTtudWxsIT1kJiYoZD1jW214T2JqZWN0SWRlbnRpdHkuZ2V0KGQpXSxudWxsIT1kJiZkLmluc2VydEVkZ2UoYSwhMCkpO2Q9dGhpcy5nZXRUZXJtaW5hbChiLCExKTtudWxsIT1kJiYoZD1jW214T2JqZWN0SWRlbnRpdHkuZ2V0KGQpXSxudWxsIT1kJiZkLmluc2VydEVkZ2UoYSwhMSkpO2Zvcih2YXIgZD10aGlzLmdldENoaWxkQ291bnQoYSksZT0wO2U8ZDtlKyspdGhpcy5yZXN0b3JlQ2xvbmUodGhpcy5nZXRDaGlsZEF0KGEsZSksdGhpcy5nZXRDaGlsZEF0KGIsZSksYyl9O2Z1bmN0aW9uIG14Um9vdENoYW5nZShhLGIpe3RoaXMubW9kZWw9YTt0aGlzLnByZXZpb3VzPXRoaXMucm9vdD1ifQpteFJvb3RDaGFuZ2UucHJvdG90eXBlLmV4ZWN1dGU9ZnVuY3Rpb24oKXt0aGlzLnJvb3Q9dGhpcy5wcmV2aW91czt0aGlzLnByZXZpb3VzPXRoaXMubW9kZWwucm9vdENoYW5nZWQodGhpcy5wcmV2aW91cyl9O2Z1bmN0aW9uIG14Q2hpbGRDaGFuZ2UoYSxiLGMsZCl7dGhpcy5tb2RlbD1hO3RoaXMucHJldmlvdXM9dGhpcy5wYXJlbnQ9Yjt0aGlzLmNoaWxkPWM7dGhpcy5wcmV2aW91c0luZGV4PXRoaXMuaW5kZXg9ZH0KbXhDaGlsZENoYW5nZS5wcm90b3R5cGUuZXhlY3V0ZT1mdW5jdGlvbigpe2lmKG51bGwhPXRoaXMuY2hpbGQpe3ZhciBhPXRoaXMubW9kZWwuZ2V0UGFyZW50KHRoaXMuY2hpbGQpLGI9bnVsbCE9YT9hLmdldEluZGV4KHRoaXMuY2hpbGQpOjA7bnVsbD09dGhpcy5wcmV2aW91cyYmdGhpcy5jb25uZWN0KHRoaXMuY2hpbGQsITEpO2E9dGhpcy5tb2RlbC5wYXJlbnRGb3JDZWxsQ2hhbmdlZCh0aGlzLmNoaWxkLHRoaXMucHJldmlvdXMsdGhpcy5wcmV2aW91c0luZGV4KTtudWxsIT10aGlzLnByZXZpb3VzJiZ0aGlzLmNvbm5lY3QodGhpcy5jaGlsZCwhMCk7dGhpcy5wYXJlbnQ9dGhpcy5wcmV2aW91czt0aGlzLnByZXZpb3VzPWE7dGhpcy5pbmRleD10aGlzLnByZXZpb3VzSW5kZXg7dGhpcy5wcmV2aW91c0luZGV4PWJ9fTsKbXhDaGlsZENoYW5nZS5wcm90b3R5cGUuY29ubmVjdD1mdW5jdGlvbihhLGIpe2I9bnVsbCE9Yj9iOiEwO3ZhciBjPWEuZ2V0VGVybWluYWwoITApLGQ9YS5nZXRUZXJtaW5hbCghMSk7bnVsbCE9YyYmKGI/dGhpcy5tb2RlbC50ZXJtaW5hbEZvckNlbGxDaGFuZ2VkKGEsYywhMCk6dGhpcy5tb2RlbC50ZXJtaW5hbEZvckNlbGxDaGFuZ2VkKGEsbnVsbCwhMCkpO251bGwhPWQmJihiP3RoaXMubW9kZWwudGVybWluYWxGb3JDZWxsQ2hhbmdlZChhLGQsITEpOnRoaXMubW9kZWwudGVybWluYWxGb3JDZWxsQ2hhbmdlZChhLG51bGwsITEpKTthLnNldFRlcm1pbmFsKGMsITApO2Euc2V0VGVybWluYWwoZCwhMSk7Yz10aGlzLm1vZGVsLmdldENoaWxkQ291bnQoYSk7Zm9yKGQ9MDtkPGM7ZCsrKXRoaXMuY29ubmVjdCh0aGlzLm1vZGVsLmdldENoaWxkQXQoYSxkKSxiKX07CmZ1bmN0aW9uIG14VGVybWluYWxDaGFuZ2UoYSxiLGMsZCl7dGhpcy5tb2RlbD1hO3RoaXMuY2VsbD1iO3RoaXMucHJldmlvdXM9dGhpcy50ZXJtaW5hbD1jO3RoaXMuc291cmNlPWR9bXhUZXJtaW5hbENoYW5nZS5wcm90b3R5cGUuZXhlY3V0ZT1mdW5jdGlvbigpe251bGwhPXRoaXMuY2VsbCYmKHRoaXMudGVybWluYWw9dGhpcy5wcmV2aW91cyx0aGlzLnByZXZpb3VzPXRoaXMubW9kZWwudGVybWluYWxGb3JDZWxsQ2hhbmdlZCh0aGlzLmNlbGwsdGhpcy5wcmV2aW91cyx0aGlzLnNvdXJjZSkpfTtmdW5jdGlvbiBteFZhbHVlQ2hhbmdlKGEsYixjKXt0aGlzLm1vZGVsPWE7dGhpcy5jZWxsPWI7dGhpcy5wcmV2aW91cz10aGlzLnZhbHVlPWN9Cm14VmFsdWVDaGFuZ2UucHJvdG90eXBlLmV4ZWN1dGU9ZnVuY3Rpb24oKXtudWxsIT10aGlzLmNlbGwmJih0aGlzLnZhbHVlPXRoaXMucHJldmlvdXMsdGhpcy5wcmV2aW91cz10aGlzLm1vZGVsLnZhbHVlRm9yQ2VsbENoYW5nZWQodGhpcy5jZWxsLHRoaXMucHJldmlvdXMpKX07ZnVuY3Rpb24gbXhTdHlsZUNoYW5nZShhLGIsYyl7dGhpcy5tb2RlbD1hO3RoaXMuY2VsbD1iO3RoaXMucHJldmlvdXM9dGhpcy5zdHlsZT1jfW14U3R5bGVDaGFuZ2UucHJvdG90eXBlLmV4ZWN1dGU9ZnVuY3Rpb24oKXtudWxsIT10aGlzLmNlbGwmJih0aGlzLnN0eWxlPXRoaXMucHJldmlvdXMsdGhpcy5wcmV2aW91cz10aGlzLm1vZGVsLnN0eWxlRm9yQ2VsbENoYW5nZWQodGhpcy5jZWxsLHRoaXMucHJldmlvdXMpKX07ZnVuY3Rpb24gbXhHZW9tZXRyeUNoYW5nZShhLGIsYyl7dGhpcy5tb2RlbD1hO3RoaXMuY2VsbD1iO3RoaXMucHJldmlvdXM9dGhpcy5nZW9tZXRyeT1jfQpteEdlb21ldHJ5Q2hhbmdlLnByb3RvdHlwZS5leGVjdXRlPWZ1bmN0aW9uKCl7bnVsbCE9dGhpcy5jZWxsJiYodGhpcy5nZW9tZXRyeT10aGlzLnByZXZpb3VzLHRoaXMucHJldmlvdXM9dGhpcy5tb2RlbC5nZW9tZXRyeUZvckNlbGxDaGFuZ2VkKHRoaXMuY2VsbCx0aGlzLnByZXZpb3VzKSl9O2Z1bmN0aW9uIG14Q29sbGFwc2VDaGFuZ2UoYSxiLGMpe3RoaXMubW9kZWw9YTt0aGlzLmNlbGw9Yjt0aGlzLnByZXZpb3VzPXRoaXMuY29sbGFwc2VkPWN9bXhDb2xsYXBzZUNoYW5nZS5wcm90b3R5cGUuZXhlY3V0ZT1mdW5jdGlvbigpe251bGwhPXRoaXMuY2VsbCYmKHRoaXMuY29sbGFwc2VkPXRoaXMucHJldmlvdXMsdGhpcy5wcmV2aW91cz10aGlzLm1vZGVsLmNvbGxhcHNlZFN0YXRlRm9yQ2VsbENoYW5nZWQodGhpcy5jZWxsLHRoaXMucHJldmlvdXMpKX07CmZ1bmN0aW9uIG14VmlzaWJsZUNoYW5nZShhLGIsYyl7dGhpcy5tb2RlbD1hO3RoaXMuY2VsbD1iO3RoaXMucHJldmlvdXM9dGhpcy52aXNpYmxlPWN9bXhWaXNpYmxlQ2hhbmdlLnByb3RvdHlwZS5leGVjdXRlPWZ1bmN0aW9uKCl7bnVsbCE9dGhpcy5jZWxsJiYodGhpcy52aXNpYmxlPXRoaXMucHJldmlvdXMsdGhpcy5wcmV2aW91cz10aGlzLm1vZGVsLnZpc2libGVTdGF0ZUZvckNlbGxDaGFuZ2VkKHRoaXMuY2VsbCx0aGlzLnByZXZpb3VzKSl9O2Z1bmN0aW9uIG14Q2VsbEF0dHJpYnV0ZUNoYW5nZShhLGIsYyl7dGhpcy5jZWxsPWE7dGhpcy5hdHRyaWJ1dGU9Yjt0aGlzLnByZXZpb3VzPXRoaXMudmFsdWU9Y30KbXhDZWxsQXR0cmlidXRlQ2hhbmdlLnByb3RvdHlwZS5leGVjdXRlPWZ1bmN0aW9uKCl7aWYobnVsbCE9dGhpcy5jZWxsKXt2YXIgYT10aGlzLmNlbGwuZ2V0QXR0cmlidXRlKHRoaXMuYXR0cmlidXRlKTtudWxsPT10aGlzLnByZXZpb3VzP3RoaXMuY2VsbC52YWx1ZS5yZW1vdmVBdHRyaWJ1dGUodGhpcy5hdHRyaWJ1dGUpOnRoaXMuY2VsbC5zZXRBdHRyaWJ1dGUodGhpcy5hdHRyaWJ1dGUsdGhpcy5wcmV2aW91cyk7dGhpcy5wcmV2aW91cz1hfX07ZnVuY3Rpb24gbXhDZWxsKGEsYixjKXt0aGlzLnZhbHVlPWE7dGhpcy5zZXRHZW9tZXRyeShiKTt0aGlzLnNldFN0eWxlKGMpO2lmKG51bGwhPXRoaXMub25Jbml0KXRoaXMub25Jbml0KCl9bXhDZWxsLnByb3RvdHlwZS5pZD1udWxsO214Q2VsbC5wcm90b3R5cGUudmFsdWU9bnVsbDtteENlbGwucHJvdG90eXBlLmdlb21ldHJ5PW51bGw7bXhDZWxsLnByb3RvdHlwZS5zdHlsZT1udWxsO214Q2VsbC5wcm90b3R5cGUudmVydGV4PSExOwpteENlbGwucHJvdG90eXBlLmVkZ2U9ITE7bXhDZWxsLnByb3RvdHlwZS5jb25uZWN0YWJsZT0hMDtteENlbGwucHJvdG90eXBlLnZpc2libGU9ITA7bXhDZWxsLnByb3RvdHlwZS5jb2xsYXBzZWQ9ITE7bXhDZWxsLnByb3RvdHlwZS5wYXJlbnQ9bnVsbDtteENlbGwucHJvdG90eXBlLnNvdXJjZT1udWxsO214Q2VsbC5wcm90b3R5cGUudGFyZ2V0PW51bGw7bXhDZWxsLnByb3RvdHlwZS5jaGlsZHJlbj1udWxsO214Q2VsbC5wcm90b3R5cGUuZWRnZXM9bnVsbDtteENlbGwucHJvdG90eXBlLm14VHJhbnNpZW50PSJpZCB2YWx1ZSBwYXJlbnQgc291cmNlIHRhcmdldCBjaGlsZHJlbiBlZGdlcyIuc3BsaXQoIiAiKTtteENlbGwucHJvdG90eXBlLmdldElkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaWR9O214Q2VsbC5wcm90b3R5cGUuc2V0SWQ9ZnVuY3Rpb24oYSl7dGhpcy5pZD1hfTtteENlbGwucHJvdG90eXBlLmdldFZhbHVlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmFsdWV9OwpteENlbGwucHJvdG90eXBlLnNldFZhbHVlPWZ1bmN0aW9uKGEpe3RoaXMudmFsdWU9YX07bXhDZWxsLnByb3RvdHlwZS52YWx1ZUNoYW5nZWQ9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5nZXRWYWx1ZSgpO3RoaXMuc2V0VmFsdWUoYSk7cmV0dXJuIGJ9O214Q2VsbC5wcm90b3R5cGUuZ2V0R2VvbWV0cnk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZW9tZXRyeX07bXhDZWxsLnByb3RvdHlwZS5zZXRHZW9tZXRyeT1mdW5jdGlvbihhKXt0aGlzLmdlb21ldHJ5PWF9O214Q2VsbC5wcm90b3R5cGUuZ2V0U3R5bGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdHlsZX07bXhDZWxsLnByb3RvdHlwZS5zZXRTdHlsZT1mdW5jdGlvbihhKXt0aGlzLnN0eWxlPWF9O214Q2VsbC5wcm90b3R5cGUuaXNWZXJ0ZXg9ZnVuY3Rpb24oKXtyZXR1cm4gMCE9dGhpcy52ZXJ0ZXh9O214Q2VsbC5wcm90b3R5cGUuc2V0VmVydGV4PWZ1bmN0aW9uKGEpe3RoaXMudmVydGV4PWF9OwpteENlbGwucHJvdG90eXBlLmlzRWRnZT1mdW5jdGlvbigpe3JldHVybiAwIT10aGlzLmVkZ2V9O214Q2VsbC5wcm90b3R5cGUuc2V0RWRnZT1mdW5jdGlvbihhKXt0aGlzLmVkZ2U9YX07bXhDZWxsLnByb3RvdHlwZS5pc0Nvbm5lY3RhYmxlPWZ1bmN0aW9uKCl7cmV0dXJuIDAhPXRoaXMuY29ubmVjdGFibGV9O214Q2VsbC5wcm90b3R5cGUuc2V0Q29ubmVjdGFibGU9ZnVuY3Rpb24oYSl7dGhpcy5jb25uZWN0YWJsZT1hfTtteENlbGwucHJvdG90eXBlLmlzVmlzaWJsZT1mdW5jdGlvbigpe3JldHVybiAwIT10aGlzLnZpc2libGV9O214Q2VsbC5wcm90b3R5cGUuc2V0VmlzaWJsZT1mdW5jdGlvbihhKXt0aGlzLnZpc2libGU9YX07bXhDZWxsLnByb3RvdHlwZS5pc0NvbGxhcHNlZD1mdW5jdGlvbigpe3JldHVybiAwIT10aGlzLmNvbGxhcHNlZH07bXhDZWxsLnByb3RvdHlwZS5zZXRDb2xsYXBzZWQ9ZnVuY3Rpb24oYSl7dGhpcy5jb2xsYXBzZWQ9YX07Cm14Q2VsbC5wcm90b3R5cGUuZ2V0UGFyZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGFyZW50fTtteENlbGwucHJvdG90eXBlLnNldFBhcmVudD1mdW5jdGlvbihhKXt0aGlzLnBhcmVudD1hfTtteENlbGwucHJvdG90eXBlLmdldFRlcm1pbmFsPWZ1bmN0aW9uKGEpe3JldHVybiBhP3RoaXMuc291cmNlOnRoaXMudGFyZ2V0fTtteENlbGwucHJvdG90eXBlLnNldFRlcm1pbmFsPWZ1bmN0aW9uKGEsYil7Yj90aGlzLnNvdXJjZT1hOnRoaXMudGFyZ2V0PWE7cmV0dXJuIGF9O214Q2VsbC5wcm90b3R5cGUuZ2V0Q2hpbGRDb3VudD1mdW5jdGlvbigpe3JldHVybiBudWxsPT10aGlzLmNoaWxkcmVuPzA6dGhpcy5jaGlsZHJlbi5sZW5ndGh9O214Q2VsbC5wcm90b3R5cGUuZ2V0SW5kZXg9ZnVuY3Rpb24oYSl7cmV0dXJuIG14VXRpbHMuaW5kZXhPZih0aGlzLmNoaWxkcmVuLGEpfTsKbXhDZWxsLnByb3RvdHlwZS5nZXRDaGlsZEF0PWZ1bmN0aW9uKGEpe3JldHVybiBudWxsPT10aGlzLmNoaWxkcmVuP251bGw6dGhpcy5jaGlsZHJlblthXX07bXhDZWxsLnByb3RvdHlwZS5pbnNlcnQ9ZnVuY3Rpb24oYSxiKXtudWxsIT1hJiYobnVsbD09YiYmKGI9dGhpcy5nZXRDaGlsZENvdW50KCksYS5nZXRQYXJlbnQoKT09dGhpcyYmYi0tKSxhLnJlbW92ZUZyb21QYXJlbnQoKSxhLnNldFBhcmVudCh0aGlzKSxudWxsPT10aGlzLmNoaWxkcmVuPyh0aGlzLmNoaWxkcmVuPVtdLHRoaXMuY2hpbGRyZW4ucHVzaChhKSk6dGhpcy5jaGlsZHJlbi5zcGxpY2UoYiwwLGEpKTtyZXR1cm4gYX07bXhDZWxsLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oYSl7dmFyIGI9bnVsbDtudWxsIT10aGlzLmNoaWxkcmVuJiYwPD1hJiYoYj10aGlzLmdldENoaWxkQXQoYSksbnVsbCE9YiYmKHRoaXMuY2hpbGRyZW4uc3BsaWNlKGEsMSksYi5zZXRQYXJlbnQobnVsbCkpKTtyZXR1cm4gYn07Cm14Q2VsbC5wcm90b3R5cGUucmVtb3ZlRnJvbVBhcmVudD1mdW5jdGlvbigpe2lmKG51bGwhPXRoaXMucGFyZW50KXt2YXIgYT10aGlzLnBhcmVudC5nZXRJbmRleCh0aGlzKTt0aGlzLnBhcmVudC5yZW1vdmUoYSl9fTtteENlbGwucHJvdG90eXBlLmdldEVkZ2VDb3VudD1mdW5jdGlvbigpe3JldHVybiBudWxsPT10aGlzLmVkZ2VzPzA6dGhpcy5lZGdlcy5sZW5ndGh9O214Q2VsbC5wcm90b3R5cGUuZ2V0RWRnZUluZGV4PWZ1bmN0aW9uKGEpe3JldHVybiBteFV0aWxzLmluZGV4T2YodGhpcy5lZGdlcyxhKX07bXhDZWxsLnByb3RvdHlwZS5nZXRFZGdlQXQ9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGw9PXRoaXMuZWRnZXM/bnVsbDp0aGlzLmVkZ2VzW2FdfTsKbXhDZWxsLnByb3RvdHlwZS5pbnNlcnRFZGdlPWZ1bmN0aW9uKGEsYil7bnVsbCE9YSYmKGEucmVtb3ZlRnJvbVRlcm1pbmFsKGIpLGEuc2V0VGVybWluYWwodGhpcyxiKSxudWxsPT10aGlzLmVkZ2VzfHxhLmdldFRlcm1pbmFsKCFiKSE9dGhpc3x8MD5teFV0aWxzLmluZGV4T2YodGhpcy5lZGdlcyxhKSkmJihudWxsPT10aGlzLmVkZ2VzJiYodGhpcy5lZGdlcz1bXSksdGhpcy5lZGdlcy5wdXNoKGEpKTtyZXR1cm4gYX07bXhDZWxsLnByb3RvdHlwZS5yZW1vdmVFZGdlPWZ1bmN0aW9uKGEsYil7aWYobnVsbCE9YSl7aWYoYS5nZXRUZXJtaW5hbCghYikhPXRoaXMmJm51bGwhPXRoaXMuZWRnZXMpe3ZhciBjPXRoaXMuZ2V0RWRnZUluZGV4KGEpOzA8PWMmJnRoaXMuZWRnZXMuc3BsaWNlKGMsMSl9YS5zZXRUZXJtaW5hbChudWxsLGIpfXJldHVybiBhfTsKbXhDZWxsLnByb3RvdHlwZS5yZW1vdmVGcm9tVGVybWluYWw9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5nZXRUZXJtaW5hbChhKTtudWxsIT1iJiZiLnJlbW92ZUVkZ2UodGhpcyxhKX07bXhDZWxsLnByb3RvdHlwZS5oYXNBdHRyaWJ1dGU9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5nZXRWYWx1ZSgpO3JldHVybiBudWxsIT1iJiZiLm5vZGVUeXBlPT1teENvbnN0YW50cy5OT0RFVFlQRV9FTEVNRU5UJiZiLmhhc0F0dHJpYnV0ZT9iLmhhc0F0dHJpYnV0ZShhKTpudWxsIT1iLmdldEF0dHJpYnV0ZShhKX07bXhDZWxsLnByb3RvdHlwZS5nZXRBdHRyaWJ1dGU9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdldFZhbHVlKCksYz1udWxsIT1jJiZjLm5vZGVUeXBlPT1teENvbnN0YW50cy5OT0RFVFlQRV9FTEVNRU5UP2MuZ2V0QXR0cmlidXRlKGEpOm51bGw7cmV0dXJuIG51bGwhPWM/YzpifTsKbXhDZWxsLnByb3RvdHlwZS5zZXRBdHRyaWJ1dGU9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdldFZhbHVlKCk7bnVsbCE9YyYmYy5ub2RlVHlwZT09bXhDb25zdGFudHMuTk9ERVRZUEVfRUxFTUVOVCYmYy5zZXRBdHRyaWJ1dGUoYSxiKX07bXhDZWxsLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW14VXRpbHMuY2xvbmUodGhpcyx0aGlzLm14VHJhbnNpZW50KTthLnNldFZhbHVlKHRoaXMuY2xvbmVWYWx1ZSgpKTtyZXR1cm4gYX07bXhDZWxsLnByb3RvdHlwZS5jbG9uZVZhbHVlPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXRWYWx1ZSgpO251bGwhPWEmJigiZnVuY3Rpb24iPT10eXBlb2YgYS5jbG9uZT9hPWEuY2xvbmUoKTppc05hTihhLm5vZGVUeXBlKXx8KGE9YS5jbG9uZU5vZGUoITApKSk7cmV0dXJuIGF9O2Z1bmN0aW9uIG14R2VvbWV0cnkoYSxiLGMsZCl7bXhSZWN0YW5nbGUuY2FsbCh0aGlzLGEsYixjLGQpfW14R2VvbWV0cnkucHJvdG90eXBlPW5ldyBteFJlY3RhbmdsZTsKbXhHZW9tZXRyeS5wcm90b3R5cGUuY29uc3RydWN0b3I9bXhHZW9tZXRyeTtteEdlb21ldHJ5LnByb3RvdHlwZS5UUkFOU0xBVEVfQ09OVFJPTF9QT0lOVFM9ITA7bXhHZW9tZXRyeS5wcm90b3R5cGUuYWx0ZXJuYXRlQm91bmRzPW51bGw7bXhHZW9tZXRyeS5wcm90b3R5cGUuc291cmNlUG9pbnQ9bnVsbDtteEdlb21ldHJ5LnByb3RvdHlwZS50YXJnZXRQb2ludD1udWxsO214R2VvbWV0cnkucHJvdG90eXBlLnBvaW50cz1udWxsO214R2VvbWV0cnkucHJvdG90eXBlLm9mZnNldD1udWxsO214R2VvbWV0cnkucHJvdG90eXBlLnJlbGF0aXZlPSExOwpteEdlb21ldHJ5LnByb3RvdHlwZS5zd2FwPWZ1bmN0aW9uKCl7aWYobnVsbCE9dGhpcy5hbHRlcm5hdGVCb3VuZHMpe3ZhciBhPW5ldyBteFJlY3RhbmdsZSh0aGlzLngsdGhpcy55LHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpO3RoaXMueD10aGlzLmFsdGVybmF0ZUJvdW5kcy54O3RoaXMueT10aGlzLmFsdGVybmF0ZUJvdW5kcy55O3RoaXMud2lkdGg9dGhpcy5hbHRlcm5hdGVCb3VuZHMud2lkdGg7dGhpcy5oZWlnaHQ9dGhpcy5hbHRlcm5hdGVCb3VuZHMuaGVpZ2h0O3RoaXMuYWx0ZXJuYXRlQm91bmRzPWF9fTtteEdlb21ldHJ5LnByb3RvdHlwZS5nZXRUZXJtaW5hbFBvaW50PWZ1bmN0aW9uKGEpe3JldHVybiBhP3RoaXMuc291cmNlUG9pbnQ6dGhpcy50YXJnZXRQb2ludH07bXhHZW9tZXRyeS5wcm90b3R5cGUuc2V0VGVybWluYWxQb2ludD1mdW5jdGlvbihhLGIpe2I/dGhpcy5zb3VyY2VQb2ludD1hOnRoaXMudGFyZ2V0UG9pbnQ9YTtyZXR1cm4gYX07Cm14R2VvbWV0cnkucHJvdG90eXBlLnJvdGF0ZT1mdW5jdGlvbihhLGIpe3ZhciBjPW14VXRpbHMudG9SYWRpYW5zKGEpLGQ9TWF0aC5jb3MoYyksYz1NYXRoLnNpbihjKTtpZighdGhpcy5yZWxhdGl2ZSl7dmFyIGU9bmV3IG14UG9pbnQodGhpcy5nZXRDZW50ZXJYKCksdGhpcy5nZXRDZW50ZXJZKCkpLGU9bXhVdGlscy5nZXRSb3RhdGVkUG9pbnQoZSxkLGMsYik7dGhpcy54PU1hdGgucm91bmQoZS54LXRoaXMud2lkdGgvMik7dGhpcy55PU1hdGgucm91bmQoZS55LXRoaXMuaGVpZ2h0LzIpfW51bGwhPXRoaXMuc291cmNlUG9pbnQmJihlPW14VXRpbHMuZ2V0Um90YXRlZFBvaW50KHRoaXMuc291cmNlUG9pbnQsZCxjLGIpLHRoaXMuc291cmNlUG9pbnQueD1NYXRoLnJvdW5kKGUueCksdGhpcy5zb3VyY2VQb2ludC55PU1hdGgucm91bmQoZS55KSk7bnVsbCE9dGhpcy50YXJnZXRQb2ludCYmKGU9bXhVdGlscy5nZXRSb3RhdGVkUG9pbnQodGhpcy50YXJnZXRQb2ludCxkLGMsYiksdGhpcy50YXJnZXRQb2ludC54PQpNYXRoLnJvdW5kKGUueCksdGhpcy50YXJnZXRQb2ludC55PU1hdGgucm91bmQoZS55KSk7aWYobnVsbCE9dGhpcy5wb2ludHMpZm9yKHZhciBmPTA7Zjx0aGlzLnBvaW50cy5sZW5ndGg7ZisrKW51bGwhPXRoaXMucG9pbnRzW2ZdJiYoZT1teFV0aWxzLmdldFJvdGF0ZWRQb2ludCh0aGlzLnBvaW50c1tmXSxkLGMsYiksdGhpcy5wb2ludHNbZl0ueD1NYXRoLnJvdW5kKGUueCksdGhpcy5wb2ludHNbZl0ueT1NYXRoLnJvdW5kKGUueSkpfTsKbXhHZW9tZXRyeS5wcm90b3R5cGUudHJhbnNsYXRlPWZ1bmN0aW9uKGEsYil7YT1wYXJzZUZsb2F0KGEpO2I9cGFyc2VGbG9hdChiKTt0aGlzLnJlbGF0aXZlfHwodGhpcy54PXBhcnNlRmxvYXQodGhpcy54KSthLHRoaXMueT1wYXJzZUZsb2F0KHRoaXMueSkrYik7bnVsbCE9dGhpcy5zb3VyY2VQb2ludCYmKHRoaXMuc291cmNlUG9pbnQueD1wYXJzZUZsb2F0KHRoaXMuc291cmNlUG9pbnQueCkrYSx0aGlzLnNvdXJjZVBvaW50Lnk9cGFyc2VGbG9hdCh0aGlzLnNvdXJjZVBvaW50LnkpK2IpO251bGwhPXRoaXMudGFyZ2V0UG9pbnQmJih0aGlzLnRhcmdldFBvaW50Lng9cGFyc2VGbG9hdCh0aGlzLnRhcmdldFBvaW50LngpK2EsdGhpcy50YXJnZXRQb2ludC55PXBhcnNlRmxvYXQodGhpcy50YXJnZXRQb2ludC55KStiKTtpZih0aGlzLlRSQU5TTEFURV9DT05UUk9MX1BPSU5UUyYmbnVsbCE9dGhpcy5wb2ludHMpZm9yKHZhciBjPTA7Yzx0aGlzLnBvaW50cy5sZW5ndGg7YysrKW51bGwhPQp0aGlzLnBvaW50c1tjXSYmKHRoaXMucG9pbnRzW2NdLng9cGFyc2VGbG9hdCh0aGlzLnBvaW50c1tjXS54KSthLHRoaXMucG9pbnRzW2NdLnk9cGFyc2VGbG9hdCh0aGlzLnBvaW50c1tjXS55KStiKX07Cm14R2VvbWV0cnkucHJvdG90eXBlLnNjYWxlPWZ1bmN0aW9uKGEsYixjKXthPXBhcnNlRmxvYXQoYSk7Yj1wYXJzZUZsb2F0KGIpO251bGwhPXRoaXMuc291cmNlUG9pbnQmJih0aGlzLnNvdXJjZVBvaW50Lng9cGFyc2VGbG9hdCh0aGlzLnNvdXJjZVBvaW50LngpKmEsdGhpcy5zb3VyY2VQb2ludC55PXBhcnNlRmxvYXQodGhpcy5zb3VyY2VQb2ludC55KSpiKTtudWxsIT10aGlzLnRhcmdldFBvaW50JiYodGhpcy50YXJnZXRQb2ludC54PXBhcnNlRmxvYXQodGhpcy50YXJnZXRQb2ludC54KSphLHRoaXMudGFyZ2V0UG9pbnQueT1wYXJzZUZsb2F0KHRoaXMudGFyZ2V0UG9pbnQueSkqYik7aWYobnVsbCE9dGhpcy5wb2ludHMpZm9yKHZhciBkPTA7ZDx0aGlzLnBvaW50cy5sZW5ndGg7ZCsrKW51bGwhPXRoaXMucG9pbnRzW2RdJiYodGhpcy5wb2ludHNbZF0ueD1wYXJzZUZsb2F0KHRoaXMucG9pbnRzW2RdLngpKmEsdGhpcy5wb2ludHNbZF0ueT1wYXJzZUZsb2F0KHRoaXMucG9pbnRzW2RdLnkpKgpiKTt0aGlzLnJlbGF0aXZlfHwodGhpcy54PXBhcnNlRmxvYXQodGhpcy54KSphLHRoaXMueT1wYXJzZUZsb2F0KHRoaXMueSkqYixjJiYoYj1hPU1hdGgubWluKGEsYikpLHRoaXMud2lkdGg9cGFyc2VGbG9hdCh0aGlzLndpZHRoKSphLHRoaXMuaGVpZ2h0PXBhcnNlRmxvYXQodGhpcy5oZWlnaHQpKmIpfTsKbXhHZW9tZXRyeS5wcm90b3R5cGUuZXF1YWxzPWZ1bmN0aW9uKGEpe3JldHVybiBteFJlY3RhbmdsZS5wcm90b3R5cGUuZXF1YWxzLmFwcGx5KHRoaXMsYXJndW1lbnRzKSYmdGhpcy5yZWxhdGl2ZT09YS5yZWxhdGl2ZSYmKG51bGw9PXRoaXMuc291cmNlUG9pbnQmJm51bGw9PWEuc291cmNlUG9pbnR8fG51bGwhPXRoaXMuc291cmNlUG9pbnQmJnRoaXMuc291cmNlUG9pbnQuZXF1YWxzKGEuc291cmNlUG9pbnQpKSYmKG51bGw9PXRoaXMudGFyZ2V0UG9pbnQmJm51bGw9PWEudGFyZ2V0UG9pbnR8fG51bGwhPXRoaXMudGFyZ2V0UG9pbnQmJnRoaXMudGFyZ2V0UG9pbnQuZXF1YWxzKGEudGFyZ2V0UG9pbnQpKSYmKG51bGw9PXRoaXMucG9pbnRzJiZudWxsPT1hLnBvaW50c3x8bnVsbCE9dGhpcy5wb2ludHMmJm14VXRpbHMuZXF1YWxQb2ludHModGhpcy5wb2ludHMsYS5wb2ludHMpKSYmKG51bGw9PXRoaXMuYWx0ZXJuYXRlQm91bmRzJiZudWxsPT1hLmFsdGVybmF0ZUJvdW5kc3x8Cm51bGwhPXRoaXMuYWx0ZXJuYXRlQm91bmRzJiZ0aGlzLmFsdGVybmF0ZUJvdW5kcy5lcXVhbHMoYS5hbHRlcm5hdGVCb3VuZHMpKSYmKG51bGw9PXRoaXMub2Zmc2V0JiZudWxsPT1hLm9mZnNldHx8bnVsbCE9dGhpcy5vZmZzZXQmJnRoaXMub2Zmc2V0LmVxdWFscyhhLm9mZnNldCkpfTsKdmFyIG14Q2VsbFBhdGg9e1BBVEhfU0VQQVJBVE9SOiIuIixjcmVhdGU6ZnVuY3Rpb24oYSl7dmFyIGI9IiI7aWYobnVsbCE9YSlmb3IodmFyIGM9YS5nZXRQYXJlbnQoKTtudWxsIT1jOyliPWMuZ2V0SW5kZXgoYSkrbXhDZWxsUGF0aC5QQVRIX1NFUEFSQVRPUitiLGE9YyxjPWEuZ2V0UGFyZW50KCk7YT1iLmxlbmd0aDsxPGEmJihiPWIuc3Vic3RyaW5nKDAsYS0xKSk7cmV0dXJuIGJ9LGdldFBhcmVudFBhdGg6ZnVuY3Rpb24oYSl7aWYobnVsbCE9YSl7dmFyIGI9YS5sYXN0SW5kZXhPZihteENlbGxQYXRoLlBBVEhfU0VQQVJBVE9SKTtpZigwPD1iKXJldHVybiBhLnN1YnN0cmluZygwLGIpO2lmKDA8YS5sZW5ndGgpcmV0dXJuIiJ9cmV0dXJuIG51bGx9LHJlc29sdmU6ZnVuY3Rpb24oYSxiKXt2YXIgYz1hO2lmKG51bGwhPWIpZm9yKHZhciBkPWIuc3BsaXQobXhDZWxsUGF0aC5QQVRIX1NFUEFSQVRPUiksZT0wO2U8ZC5sZW5ndGg7ZSsrKWM9Yy5nZXRDaGlsZEF0KHBhcnNlSW50KGRbZV0pKTsKcmV0dXJuIGN9LGNvbXBhcmU6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9TWF0aC5taW4oYS5sZW5ndGgsYi5sZW5ndGgpLGQ9MCxlPTA7ZTxjO2UrKylpZihhW2VdIT1iW2VdKXswPT1hW2VdLmxlbmd0aHx8MD09YltlXS5sZW5ndGg/ZD1hW2VdPT1iW2VdPzA6YVtlXT5iW2VdPzE6LTE6KGM9cGFyc2VJbnQoYVtlXSksZT1wYXJzZUludChiW2VdKSxkPWM9PWU/MDpjPmU/MTotMSk7YnJlYWt9MD09ZCYmKGM9YS5sZW5ndGgsZT1iLmxlbmd0aCxjIT1lJiYoZD1jPmU/MTotMSkpO3JldHVybiBkfX0sbXhQZXJpbWV0ZXI9e1JlY3RhbmdsZVBlcmltZXRlcjpmdW5jdGlvbihhLGIsYyxkKXtiPWEuZ2V0Q2VudGVyWCgpO3ZhciBlPWEuZ2V0Q2VudGVyWSgpLGY9TWF0aC5hdGFuMihjLnktZSxjLngtYiksZz1uZXcgbXhQb2ludCgwLDApLGs9TWF0aC5QSSxsPU1hdGguUEkvMi1mLG09TWF0aC5hdGFuMihhLmhlaWdodCxhLndpZHRoKTtmPC1rK218fGY+ay1tPyhnLng9YS54LGcueT1lLWEud2lkdGgqCk1hdGgudGFuKGYpLzIpOmY8LW0/KGcueT1hLnksZy54PWItYS5oZWlnaHQqTWF0aC50YW4obCkvMik6ZjxtPyhnLng9YS54K2Eud2lkdGgsZy55PWUrYS53aWR0aCpNYXRoLnRhbihmKS8yKTooZy55PWEueSthLmhlaWdodCxnLng9YithLmhlaWdodCpNYXRoLnRhbihsKS8yKTtkJiYoYy54Pj1hLngmJmMueDw9YS54K2Eud2lkdGg/Zy54PWMueDpjLnk+PWEueSYmYy55PD1hLnkrYS5oZWlnaHQmJihnLnk9Yy55KSxjLng8YS54P2cueD1hLng6Yy54PmEueCthLndpZHRoJiYoZy54PWEueCthLndpZHRoKSxjLnk8YS55P2cueT1hLnk6Yy55PmEueSthLmhlaWdodCYmKGcueT1hLnkrYS5oZWlnaHQpKTtyZXR1cm4gZ30sRWxsaXBzZVBlcmltZXRlcjpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1hLngsZj1hLnksZz1hLndpZHRoLzIsaz1hLmhlaWdodC8yLGw9ZStnLG09ZitrO2I9Yy54O2M9Yy55O3ZhciBuPXBhcnNlSW50KGItbCkscD1wYXJzZUludChjLW0pO2lmKDA9PW4mJjAhPXApcmV0dXJuIG5ldyBteFBvaW50KGwsCm0raypwL01hdGguYWJzKHApKTtpZigwPT1uJiYwPT1wKXJldHVybiBuZXcgbXhQb2ludChiLGMpO2lmKGQpe2lmKGM+PWYmJmM8PWYrYS5oZWlnaHQpcmV0dXJuIGE9Yy1tLGE9TWF0aC5zcXJ0KGcqZyooMS1hKmEvKGsqaykpKXx8MCxiPD1lJiYoYT0tYSksbmV3IG14UG9pbnQobCthLGMpO2lmKGI+PWUmJmI8PWUrYS53aWR0aClyZXR1cm4gYT1iLWwsYT1NYXRoLnNxcnQoayprKigxLWEqYS8oZypnKSkpfHwwLGM8PWYmJihhPS1hKSxuZXcgbXhQb2ludChiLG0rYSl9ZT1wL247bS09ZSpsO2Y9ZypnKmUqZStrKms7YT0tMipsKmY7az1NYXRoLnNxcnQoYSphLTQqZiooZypnKmUqZSpsKmwrayprKmwqbC1nKmcqayprKSk7Zz0oLWEraykvKDIqZik7bD0oLWEtaykvKDIqZik7az1lKmcrbTttPWUqbCttO01hdGguc3FydChNYXRoLnBvdyhnLWIsMikrTWF0aC5wb3coay1jLDIpKTxNYXRoLnNxcnQoTWF0aC5wb3cobC1iLDIpK01hdGgucG93KG0tYywyKSk/KGI9ZyxjPWspOihiPWwsYz0KbSk7cmV0dXJuIG5ldyBteFBvaW50KGIsYyl9LFJob21idXNQZXJpbWV0ZXI6ZnVuY3Rpb24oYSxiLGMsZCl7Yj1hLng7dmFyIGU9YS55LGY9YS53aWR0aDthPWEuaGVpZ2h0O3ZhciBnPWIrZi8yLGs9ZSthLzIsbD1jLng7Yz1jLnk7aWYoZz09bClyZXR1cm4gaz5jP25ldyBteFBvaW50KGcsZSk6bmV3IG14UG9pbnQoZyxlK2EpO2lmKGs9PWMpcmV0dXJuIGc+bD9uZXcgbXhQb2ludChiLGspOm5ldyBteFBvaW50KGIrZixrKTt2YXIgbT1nLG49aztkJiYobD49YiYmbDw9YitmP209bDpjPj1lJiZjPD1lK2EmJihuPWMpKTtyZXR1cm4gbDxnP2M8az9teFV0aWxzLmludGVyc2VjdGlvbihsLGMsbSxuLGcsZSxiLGspOm14VXRpbHMuaW50ZXJzZWN0aW9uKGwsYyxtLG4sZyxlK2EsYixrKTpjPGs/bXhVdGlscy5pbnRlcnNlY3Rpb24obCxjLG0sbixnLGUsYitmLGspOm14VXRpbHMuaW50ZXJzZWN0aW9uKGwsYyxtLG4sZyxlK2EsYitmLGspfSxUcmlhbmdsZVBlcmltZXRlcjpmdW5jdGlvbihhLApiLGMsZCl7Yj1udWxsIT1iP2Iuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfRElSRUNUSU9OXTpudWxsO3ZhciBlPWI9PW14Q29uc3RhbnRzLkRJUkVDVElPTl9OT1JUSHx8Yj09bXhDb25zdGFudHMuRElSRUNUSU9OX1NPVVRILGY9YS54LGc9YS55LGs9YS53aWR0aCxsPWEuaGVpZ2h0O2E9ZitrLzI7dmFyIG09ZytsLzIsbj1uZXcgbXhQb2ludChmLGcpLHA9bmV3IG14UG9pbnQoZitrLG0pLHE9bmV3IG14UG9pbnQoZixnK2wpO2I9PW14Q29uc3RhbnRzLkRJUkVDVElPTl9OT1JUSD8obj1xLHA9bmV3IG14UG9pbnQoYSxnKSxxPW5ldyBteFBvaW50KGYrayxnK2wpKTpiPT1teENvbnN0YW50cy5ESVJFQ1RJT05fU09VVEg/KHA9bmV3IG14UG9pbnQoYSxnK2wpLHE9bmV3IG14UG9pbnQoZitrLGcpKTpiPT1teENvbnN0YW50cy5ESVJFQ1RJT05fV0VTVCYmKG49bmV3IG14UG9pbnQoZitrLGcpLHA9bmV3IG14UG9pbnQoZixtKSxxPW5ldyBteFBvaW50KGYrayxnK2wpKTt2YXIgcj1jLngtCmEsdD1jLnktbSxyPWU/TWF0aC5hdGFuMihyLHQpOk1hdGguYXRhbjIodCxyKSx0PWU/TWF0aC5hdGFuMihrLGwpOk1hdGguYXRhbjIobCxrKTsoYj09bXhDb25zdGFudHMuRElSRUNUSU9OX05PUlRIfHxiPT1teENvbnN0YW50cy5ESVJFQ1RJT05fV0VTVD9yPi10JiZyPHQ6cjwtTWF0aC5QSSt0fHxyPk1hdGguUEktdCk/Yz1kJiYoZSYmYy54Pj1uLngmJmMueDw9cS54fHwhZSYmYy55Pj1uLnkmJmMueTw9cS55KT9lP25ldyBteFBvaW50KGMueCxuLnkpOm5ldyBteFBvaW50KG4ueCxjLnkpOmI9PW14Q29uc3RhbnRzLkRJUkVDVElPTl9OT1JUSD9uZXcgbXhQb2ludChmK2svMitsKk1hdGgudGFuKHIpLzIsZytsKTpiPT1teENvbnN0YW50cy5ESVJFQ1RJT05fU09VVEg/bmV3IG14UG9pbnQoZitrLzItbCpNYXRoLnRhbihyKS8yLGcpOmI9PW14Q29uc3RhbnRzLkRJUkVDVElPTl9XRVNUP25ldyBteFBvaW50KGYrayxnK2wvMitrKk1hdGgudGFuKHIpLzIpOm5ldyBteFBvaW50KGYsZysKbC8yLWsqTWF0aC50YW4ocikvMik6KGQmJihkPW5ldyBteFBvaW50KGEsbSksYy55Pj1nJiZjLnk8PWcrbD8oZC54PWU/YTpiPT1teENvbnN0YW50cy5ESVJFQ1RJT05fV0VTVD9mK2s6ZixkLnk9Yy55KTpjLng+PWYmJmMueDw9ZitrJiYoZC54PWMueCxkLnk9ZT9iPT1teENvbnN0YW50cy5ESVJFQ1RJT05fTk9SVEg/ZytsOmc6bSksYT1kLngsbT1kLnkpLGM9ZSYmYy54PD1mK2svMnx8IWUmJmMueTw9ZytsLzI/bXhVdGlscy5pbnRlcnNlY3Rpb24oYy54LGMueSxhLG0sbi54LG4ueSxwLngscC55KTpteFV0aWxzLmludGVyc2VjdGlvbihjLngsYy55LGEsbSxwLngscC55LHEueCxxLnkpKTtudWxsPT1jJiYoYz1uZXcgbXhQb2ludChhLG0pKTtyZXR1cm4gY30sSGV4YWdvblBlcmltZXRlcjpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1hLngsZj1hLnksZz1hLndpZHRoLGs9YS5oZWlnaHQsbD1hLmdldENlbnRlclgoKTthPWEuZ2V0Q2VudGVyWSgpO3ZhciBtPWMueCxuPWMueSxwPS1NYXRoLmF0YW4yKG4tCmEsbS1sKSxxPU1hdGguUEkscj1NYXRoLlBJLzI7bmV3IG14UG9pbnQobCxhKTtiPW51bGwhPWI/bXhVdGlscy5nZXRWYWx1ZShiLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0RJUkVDVElPTixteENvbnN0YW50cy5ESVJFQ1RJT05fRUFTVCk6bXhDb25zdGFudHMuRElSRUNUSU9OX0VBU1Q7dmFyIHQ9Yj09bXhDb25zdGFudHMuRElSRUNUSU9OX05PUlRIfHxiPT1teENvbnN0YW50cy5ESVJFQ1RJT05fU09VVEg7Yj1uZXcgbXhQb2ludDt2YXIgdT1uZXcgbXhQb2ludDtpZihtPGUmJm48Znx8bTxlJiZuPmYra3x8bT5lK2cmJm48Znx8bT5lK2cmJm4+ZitrKWQ9ITE7aWYoZCl7aWYodCl7aWYobT09bCl7aWYobjw9ZilyZXR1cm4gbmV3IG14UG9pbnQobCxmKTtpZihuPj1mK2spcmV0dXJuIG5ldyBteFBvaW50KGwsZitrKX1lbHNlIGlmKG08ZSl7aWYobj09ZitrLzQpcmV0dXJuIG5ldyBteFBvaW50KGUsZitrLzQpO2lmKG49PWYrMyprLzQpcmV0dXJuIG5ldyBteFBvaW50KGUsZiszKgprLzQpfWVsc2UgaWYobT5lK2cpe2lmKG49PWYray80KXJldHVybiBuZXcgbXhQb2ludChlK2csZitrLzQpO2lmKG49PWYrMyprLzQpcmV0dXJuIG5ldyBteFBvaW50KGUrZyxmKzMqay80KX1lbHNlIGlmKG09PWUpe2lmKG48YSlyZXR1cm4gbmV3IG14UG9pbnQoZSxmK2svNCk7aWYobj5hKXJldHVybiBuZXcgbXhQb2ludChlLGYrMyprLzQpfWVsc2UgaWYobT09ZStnKXtpZihuPGEpcmV0dXJuIG5ldyBteFBvaW50KGUrZyxmK2svNCk7aWYobj5hKXJldHVybiBuZXcgbXhQb2ludChlK2csZiszKmsvNCl9aWYobj09ZilyZXR1cm4gbmV3IG14UG9pbnQobCxmKTtpZihuPT1mK2spcmV0dXJuIG5ldyBteFBvaW50KGwsZitrKTttPGw/bj5mK2svNCYmbjxmKzMqay80PyhiPW5ldyBteFBvaW50KGUsZiksdT1uZXcgbXhQb2ludChlLGYraykpOm48ZitrLzQ/KGI9bmV3IG14UG9pbnQoZS1NYXRoLmZsb29yKC41KmcpLGYrTWF0aC5mbG9vciguNSprKSksdT1uZXcgbXhQb2ludChlK2csZi0KTWF0aC5mbG9vciguMjUqaykpKTpuPmYrMyprLzQmJihiPW5ldyBteFBvaW50KGUtTWF0aC5mbG9vciguNSpnKSxmK01hdGguZmxvb3IoLjUqaykpLHU9bmV3IG14UG9pbnQoZStnLGYrTWF0aC5mbG9vcigxLjI1KmspKSk6bT5sJiYobj5mK2svNCYmbjxmKzMqay80PyhiPW5ldyBteFBvaW50KGUrZyxmKSx1PW5ldyBteFBvaW50KGUrZyxmK2spKTpuPGYray80PyhiPW5ldyBteFBvaW50KGUsZi1NYXRoLmZsb29yKC4yNSprKSksdT1uZXcgbXhQb2ludChlK01hdGguZmxvb3IoMS41KmcpLGYrTWF0aC5mbG9vciguNSprKSkpOm4+ZiszKmsvNCYmKGI9bmV3IG14UG9pbnQoZStNYXRoLmZsb29yKDEuNSpnKSxmK01hdGguZmxvb3IoLjUqaykpLHU9bmV3IG14UG9pbnQoZSxmK01hdGguZmxvb3IoMS4yNSprKSkpKX1lbHNle2lmKG49PWEpe2lmKG08PWUpcmV0dXJuIG5ldyBteFBvaW50KGUsZitrLzIpO2lmKG0+PWUrZylyZXR1cm4gbmV3IG14UG9pbnQoZStnLGYray8yKX1lbHNlIGlmKG48CmYpe2lmKG09PWUrZy80KXJldHVybiBuZXcgbXhQb2ludChlK2cvNCxmKTtpZihtPT1lKzMqZy80KXJldHVybiBuZXcgbXhQb2ludChlKzMqZy80LGYpfWVsc2UgaWYobj5mK2spe2lmKG09PWUrZy80KXJldHVybiBuZXcgbXhQb2ludChlK2cvNCxmK2spO2lmKG09PWUrMypnLzQpcmV0dXJuIG5ldyBteFBvaW50KGUrMypnLzQsZitrKX1lbHNlIGlmKG49PWYpe2lmKG08bClyZXR1cm4gbmV3IG14UG9pbnQoZStnLzQsZik7aWYobT5sKXJldHVybiBuZXcgbXhQb2ludChlKzMqZy80LGYpfWVsc2UgaWYobj09ZitrKXtpZihtPGwpcmV0dXJuIG5ldyBteFBvaW50KGUrZy80LGYrayk7aWYobj5hKXJldHVybiBuZXcgbXhQb2ludChlKzMqZy80LGYrayl9aWYobT09ZSlyZXR1cm4gbmV3IG14UG9pbnQoZSxhKTtpZihtPT1lK2cpcmV0dXJuIG5ldyBteFBvaW50KGUrZyxhKTtuPGE/bT5lK2cvNCYmbTxlKzMqZy80PyhiPW5ldyBteFBvaW50KGUsZiksdT1uZXcgbXhQb2ludChlK2csZikpOgptPGUrZy80PyhiPW5ldyBteFBvaW50KGUtTWF0aC5mbG9vciguMjUqZyksZitrKSx1PW5ldyBteFBvaW50KGUrTWF0aC5mbG9vciguNSpnKSxmLU1hdGguZmxvb3IoLjUqaykpKTptPmUrMypnLzQmJihiPW5ldyBteFBvaW50KGUrTWF0aC5mbG9vciguNSpnKSxmLU1hdGguZmxvb3IoLjUqaykpLHU9bmV3IG14UG9pbnQoZStNYXRoLmZsb29yKDEuMjUqZyksZitrKSk6bj5hJiYobT5lK2cvNCYmbTxlKzMqZy80PyhiPW5ldyBteFBvaW50KGUsZitrKSx1PW5ldyBteFBvaW50KGUrZyxmK2spKTptPGUrZy80PyhiPW5ldyBteFBvaW50KGUtTWF0aC5mbG9vciguMjUqZyksZiksdT1uZXcgbXhQb2ludChlK01hdGguZmxvb3IoLjUqZyksZitNYXRoLmZsb29yKDEuNSprKSkpOm0+ZSszKmcvNCYmKGI9bmV3IG14UG9pbnQoZStNYXRoLmZsb29yKC41KmcpLGYrTWF0aC5mbG9vcigxLjUqaykpLHU9bmV3IG14UG9pbnQoZStNYXRoLmZsb29yKDEuMjUqZyksZikpKX1kPWw7cD1hO20+PWUmJm08PQplK2c/KGQ9bSxwPW48YT9mK2s6Zik6bj49ZiYmbjw9ZitrJiYocD1uLGQ9bTxsP2UrZzplKTtjPW14VXRpbHMuaW50ZXJzZWN0aW9uKGQscCxjLngsYy55LGIueCxiLnksdS54LHUueSl9ZWxzZXtpZih0KXttPU1hdGguYXRhbjIoay80LGcvMik7aWYocD09bSlyZXR1cm4gbmV3IG14UG9pbnQoZStnLGYrTWF0aC5mbG9vciguMjUqaykpO2lmKHA9PXIpcmV0dXJuIG5ldyBteFBvaW50KGUrTWF0aC5mbG9vciguNSpnKSxmKTtpZihwPT1xLW0pcmV0dXJuIG5ldyBteFBvaW50KGUsZitNYXRoLmZsb29yKC4yNSprKSk7aWYocD09LW0pcmV0dXJuIG5ldyBteFBvaW50KGUrZyxmK01hdGguZmxvb3IoLjc1KmspKTtpZihwPT0tcilyZXR1cm4gbmV3IG14UG9pbnQoZStNYXRoLmZsb29yKC41KmcpLGYrayk7aWYocD09LXErbSlyZXR1cm4gbmV3IG14UG9pbnQoZSxmK01hdGguZmxvb3IoLjc1KmspKTtwPG0mJnA+LW0/KGI9bmV3IG14UG9pbnQoZStnLGYpLHU9bmV3IG14UG9pbnQoZStnLGYrCmspKTpwPm0mJnA8cj8oYj1uZXcgbXhQb2ludChlLGYtTWF0aC5mbG9vciguMjUqaykpLHU9bmV3IG14UG9pbnQoZStNYXRoLmZsb29yKDEuNSpnKSxmK01hdGguZmxvb3IoLjUqaykpKTpwPnImJnA8cS1tPyhiPW5ldyBteFBvaW50KGUtTWF0aC5mbG9vciguNSpnKSxmK01hdGguZmxvb3IoLjUqaykpLHU9bmV3IG14UG9pbnQoZStnLGYtTWF0aC5mbG9vciguMjUqaykpKTpwPnEtbSYmcDw9cXx8cDwtcSttJiZwPj0tcT8oYj1uZXcgbXhQb2ludChlLGYpLHU9bmV3IG14UG9pbnQoZSxmK2spKTpwPC1tJiZwPi1yPyhiPW5ldyBteFBvaW50KGUrTWF0aC5mbG9vcigxLjUqZyksZitNYXRoLmZsb29yKC41KmspKSx1PW5ldyBteFBvaW50KGUsZitNYXRoLmZsb29yKDEuMjUqaykpKTpwPC1yJiZwPi1xK20mJihiPW5ldyBteFBvaW50KGUtTWF0aC5mbG9vciguNSpnKSxmK01hdGguZmxvb3IoLjUqaykpLHU9bmV3IG14UG9pbnQoZStnLGYrTWF0aC5mbG9vcigxLjI1KmspKSl9ZWxzZXttPQpNYXRoLmF0YW4yKGsvMixnLzQpO2lmKHA9PW0pcmV0dXJuIG5ldyBteFBvaW50KGUrTWF0aC5mbG9vciguNzUqZyksZik7aWYocD09cS1tKXJldHVybiBuZXcgbXhQb2ludChlK01hdGguZmxvb3IoLjI1KmcpLGYpO2lmKHA9PXF8fHA9PS1xKXJldHVybiBuZXcgbXhQb2ludChlLGYrTWF0aC5mbG9vciguNSprKSk7aWYoMD09cClyZXR1cm4gbmV3IG14UG9pbnQoZStnLGYrTWF0aC5mbG9vciguNSprKSk7aWYocD09LW0pcmV0dXJuIG5ldyBteFBvaW50KGUrTWF0aC5mbG9vciguNzUqZyksZitrKTtpZihwPT0tcSttKXJldHVybiBuZXcgbXhQb2ludChlK01hdGguZmxvb3IoLjI1KmcpLGYrayk7MDxwJiZwPG0/KGI9bmV3IG14UG9pbnQoZStNYXRoLmZsb29yKC41KmcpLGYtTWF0aC5mbG9vciguNSprKSksdT1uZXcgbXhQb2ludChlK01hdGguZmxvb3IoMS4yNSpnKSxmK2spKTpwPm0mJnA8cS1tPyhiPW5ldyBteFBvaW50KGUsZiksdT1uZXcgbXhQb2ludChlK2csZikpOnA+cS1tJiYKcDxxPyhiPW5ldyBteFBvaW50KGUtTWF0aC5mbG9vciguMjUqZyksZitrKSx1PW5ldyBteFBvaW50KGUrTWF0aC5mbG9vciguNSpnKSxmLU1hdGguZmxvb3IoLjUqaykpKTowPnAmJnA+LW0/KGI9bmV3IG14UG9pbnQoZStNYXRoLmZsb29yKC41KmcpLGYrTWF0aC5mbG9vcigxLjUqaykpLHU9bmV3IG14UG9pbnQoZStNYXRoLmZsb29yKDEuMjUqZyksZikpOnA8LW0mJnA+LXErbT8oYj1uZXcgbXhQb2ludChlLGYrayksdT1uZXcgbXhQb2ludChlK2csZitrKSk6cDwtcSttJiZwPi1xJiYoYj1uZXcgbXhQb2ludChlLU1hdGguZmxvb3IoLjI1KmcpLGYpLHU9bmV3IG14UG9pbnQoZStNYXRoLmZsb29yKC41KmcpLGYrTWF0aC5mbG9vcigxLjUqaykpKX1jPW14VXRpbHMuaW50ZXJzZWN0aW9uKGwsYSxjLngsYy55LGIueCxiLnksdS54LHUueSl9cmV0dXJuIG51bGw9PWM/bmV3IG14UG9pbnQobCxhKTpjfX07CmZ1bmN0aW9uIG14UHJpbnRQcmV2aWV3KGEsYixjLGQsZSxmLGcsayxsKXt0aGlzLmdyYXBoPWE7dGhpcy5zY2FsZT1udWxsIT1iP2I6MS9hLnBhZ2VTY2FsZTt0aGlzLmJvcmRlcj1udWxsIT1kP2Q6MDt0aGlzLnBhZ2VGb3JtYXQ9bXhSZWN0YW5nbGUuZnJvbVJlY3RhbmdsZShudWxsIT1jP2M6YS5wYWdlRm9ybWF0KTt0aGlzLnRpdGxlPW51bGwhPWs/azoiUHJpbnRlci1mcmllbmRseSB2ZXJzaW9uIjt0aGlzLngwPW51bGwhPWU/ZTowO3RoaXMueTA9bnVsbCE9Zj9mOjA7dGhpcy5ib3JkZXJDb2xvcj1nO3RoaXMucGFnZVNlbGVjdG9yPW51bGwhPWw/bDohMH1teFByaW50UHJldmlldy5wcm90b3R5cGUuZ3JhcGg9bnVsbDtteFByaW50UHJldmlldy5wcm90b3R5cGUucGFnZUZvcm1hdD1udWxsO214UHJpbnRQcmV2aWV3LnByb3RvdHlwZS5zY2FsZT1udWxsO214UHJpbnRQcmV2aWV3LnByb3RvdHlwZS5ib3JkZXI9MDsKbXhQcmludFByZXZpZXcucHJvdG90eXBlLm1hcmdpblRvcD0wO214UHJpbnRQcmV2aWV3LnByb3RvdHlwZS5tYXJnaW5Cb3R0b209MDtteFByaW50UHJldmlldy5wcm90b3R5cGUueDA9MDtteFByaW50UHJldmlldy5wcm90b3R5cGUueTA9MDtteFByaW50UHJldmlldy5wcm90b3R5cGUuYXV0b09yaWdpbj0hMDtteFByaW50UHJldmlldy5wcm90b3R5cGUucHJpbnRPdmVybGF5cz0hMTtteFByaW50UHJldmlldy5wcm90b3R5cGUucHJpbnRDb250cm9scz0hMTtteFByaW50UHJldmlldy5wcm90b3R5cGUucHJpbnRCYWNrZ3JvdW5kSW1hZ2U9ITE7bXhQcmludFByZXZpZXcucHJvdG90eXBlLmJhY2tncm91bmRDb2xvcj0iI2ZmZmZmZiI7bXhQcmludFByZXZpZXcucHJvdG90eXBlLmJvcmRlckNvbG9yPW51bGw7bXhQcmludFByZXZpZXcucHJvdG90eXBlLnRpdGxlPW51bGw7bXhQcmludFByZXZpZXcucHJvdG90eXBlLnBhZ2VTZWxlY3Rvcj1udWxsOwpteFByaW50UHJldmlldy5wcm90b3R5cGUud25kPW51bGw7bXhQcmludFByZXZpZXcucHJvdG90eXBlLnRhcmdldFdpbmRvdz1udWxsO214UHJpbnRQcmV2aWV3LnByb3RvdHlwZS5wYWdlQ291bnQ9MDtteFByaW50UHJldmlldy5wcm90b3R5cGUuY2xpcHBpbmc9ITA7bXhQcmludFByZXZpZXcucHJvdG90eXBlLmdldFdpbmRvdz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnduZH07Cm14UHJpbnRQcmV2aWV3LnByb3RvdHlwZS5nZXREb2N0eXBlPWZ1bmN0aW9uKCl7dmFyIGE9IiI7NT09ZG9jdW1lbnQuZG9jdW1lbnRNb2RlP2E9JzxtZXRhIGh0dHAtZXF1aXY9IlgtVUEtQ29tcGF0aWJsZSIgY29udGVudD0iSUU9NSI+Jzo4PT1kb2N1bWVudC5kb2N1bWVudE1vZGU/YT0nPG1ldGEgaHR0cC1lcXVpdj0iWC1VQS1Db21wYXRpYmxlIiBjb250ZW50PSJJRT04Ij4nOjg8ZG9jdW1lbnQuZG9jdW1lbnRNb2RlJiYoYT0nXHgzYyEtLVtpZiBJRV0+PG1ldGEgaHR0cC1lcXVpdj0iWC1VQS1Db21wYXRpYmxlIiBjb250ZW50PSJJRT1lZGdlIj48IVtlbmRpZl0tLVx4M2UnKTtyZXR1cm4gYX07bXhQcmludFByZXZpZXcucHJvdG90eXBlLmFwcGVuZEdyYXBoPWZ1bmN0aW9uKGEsYixjLGQsZSxmKXt0aGlzLmdyYXBoPWE7dGhpcy5zY2FsZT1udWxsIT1iP2I6MS9hLnBhZ2VTY2FsZTt0aGlzLngwPWM7dGhpcy55MD1kO3RoaXMub3BlbihudWxsLG51bGwsZSxmKX07Cm14UHJpbnRQcmV2aWV3LnByb3RvdHlwZS5vcGVuPWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPXRoaXMuZ3JhcGguY2VsbFJlbmRlcmVyLmluaXRpYWxpemVPdmVybGF5LGY9bnVsbDt0cnl7dGhpcy5wcmludE92ZXJsYXlzJiYodGhpcy5ncmFwaC5jZWxsUmVuZGVyZXIuaW5pdGlhbGl6ZU92ZXJsYXk9ZnVuY3Rpb24oYSxiKXtiLmluaXQoYS52aWV3LmdldERyYXdQYW5lKCkpfSk7dGhpcy5wcmludENvbnRyb2xzJiYodGhpcy5ncmFwaC5jZWxsUmVuZGVyZXIuaW5pdENvbnRyb2w9ZnVuY3Rpb24oYSxiLGMsZCl7Yi5kaWFsZWN0PWEudmlldy5ncmFwaC5kaWFsZWN0O2IuaW5pdChhLnZpZXcuZ2V0RHJhd1BhbmUoKSl9KTt0aGlzLnduZD1udWxsIT1iP2I6dGhpcy53bmQ7dmFyIGc9ITE7bnVsbD09dGhpcy53bmQmJihnPSEwLHRoaXMud25kPXdpbmRvdy5vcGVuKCkpO3ZhciBrPXRoaXMud25kLmRvY3VtZW50O2lmKGcpe3ZhciBsPXRoaXMuZ2V0RG9jdHlwZSgpO251bGwhPWwmJjA8bC5sZW5ndGgmJgprLndyaXRlbG4obCk7bXhDbGllbnQuSVNfVk1MP2sud3JpdGVsbignPGh0bWwgeG1sbnM6dj0idXJuOnNjaGVtYXMtbWljcm9zb2Z0LWNvbTp2bWwiIHhtbG5zOm89InVybjpzY2hlbWFzLW1pY3Jvc29mdC1jb206b2ZmaWNlOm9mZmljZSI+Jyk6KCJDU1MxQ29tcGF0Ij09PWRvY3VtZW50LmNvbXBhdE1vZGUmJmsud3JpdGVsbigiPCFET0NUWVBFIGh0bWw+Iiksay53cml0ZWxuKCI8aHRtbD4iKSk7ay53cml0ZWxuKCI8aGVhZD4iKTt0aGlzLndyaXRlSGVhZChrLGEpO2sud3JpdGVsbigiPC9oZWFkPiIpO2sud3JpdGVsbignPGJvZHkgY2xhc3M9Im14UGFnZSI+Jyl9dmFyIG09dGhpcy5ncmFwaC5nZXRHcmFwaEJvdW5kcygpLmNsb25lKCksbj10aGlzLmdyYXBoLmdldFZpZXcoKS5nZXRTY2FsZSgpLHA9bi90aGlzLnNjYWxlLHE9dGhpcy5ncmFwaC5nZXRWaWV3KCkuZ2V0VHJhbnNsYXRlKCk7dGhpcy5hdXRvT3JpZ2lufHwodGhpcy54MC09cS54KnRoaXMuc2NhbGUsdGhpcy55MC09CnEueSp0aGlzLnNjYWxlLG0ud2lkdGgrPW0ueCxtLmhlaWdodCs9bS55LG0ueD0wLHRoaXMuYm9yZGVyPW0ueT0wKTt2YXIgcj10aGlzLnBhZ2VGb3JtYXQud2lkdGgtMip0aGlzLmJvcmRlcix0PXRoaXMucGFnZUZvcm1hdC5oZWlnaHQtMip0aGlzLmJvcmRlcjt0aGlzLnBhZ2VGb3JtYXQuaGVpZ2h0Kz10aGlzLm1hcmdpblRvcCt0aGlzLm1hcmdpbkJvdHRvbTttLndpZHRoLz1wO20uaGVpZ2h0Lz1wO3ZhciB1PU1hdGgubWF4KDEsTWF0aC5jZWlsKChtLndpZHRoK3RoaXMueDApL3IpKSx4PU1hdGgubWF4KDEsTWF0aC5jZWlsKChtLmhlaWdodCt0aGlzLnkwKS90KSk7dGhpcy5wYWdlQ291bnQ9dSp4O3ZhciB5PW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7aWYodGhpcy5wYWdlU2VsZWN0b3ImJigxPHh8fDE8dSkpe3ZhciBhPXRoaXMuY3JlYXRlUGFnZVNlbGVjdG9yKHgsdSk7ay5ib2R5LmFwcGVuZENoaWxkKGEpO2lmKG14Q2xpZW50LklTX0lFJiZudWxsPT1rLmRvY3VtZW50TW9kZXx8CjU9PWsuZG9jdW1lbnRNb2RlfHw4PT1rLmRvY3VtZW50TW9kZXx8Nz09ay5kb2N1bWVudE1vZGUpe2Euc3R5bGUucG9zaXRpb249ImFic29sdXRlIjt2YXIgYj1mdW5jdGlvbigpe2Euc3R5bGUudG9wPShrLmJvZHkuc2Nyb2xsVG9wfHxrLmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3ApKzEwKyJweCJ9O214RXZlbnQuYWRkTGlzdGVuZXIodGhpcy53bmQsInNjcm9sbCIsZnVuY3Rpb24oYSl7YigpfSk7bXhFdmVudC5hZGRMaXN0ZW5lcih0aGlzLnduZCwicmVzaXplIixmdW5jdGlvbihhKXtiKCl9KX19fSksQj1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhLGIpe251bGwhPXRoaXMuYm9yZGVyQ29sb3ImJihhLnN0eWxlLmJvcmRlckNvbG9yPXRoaXMuYm9yZGVyQ29sb3IsYS5zdHlsZS5ib3JkZXJTdHlsZT0ic29saWQiLGEuc3R5bGUuYm9yZGVyV2lkdGg9IjFweCIpO2Euc3R5bGUuYmFja2dyb3VuZD10aGlzLmJhY2tncm91bmRDb2xvcjtpZihjfHxiKWEuc3R5bGUucGFnZUJyZWFrQWZ0ZXI9CiJhbHdheXMiO2lmKGcmJihteENsaWVudC5JU19JRXx8MTE8PWRvY3VtZW50LmRvY3VtZW50TW9kZXx8bXhDbGllbnQuSVNfRURHRSkpay53cml0ZWxuKGEub3V0ZXJIVE1MKSxhLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYSk7ZWxzZSBpZihteENsaWVudC5JU19JRXx8MTE8PWRvY3VtZW50LmRvY3VtZW50TW9kZXx8bXhDbGllbnQuSVNfRURHRSl7dmFyIGQ9ay5jcmVhdGVFbGVtZW50KCJkaXYiKTtkLmlubmVySFRNTD1hLm91dGVySFRNTDtkPWQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImRpdiIpWzBdO2suYm9keS5hcHBlbmRDaGlsZChkKTthLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYSl9ZWxzZSBhLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYSksay5ib2R5LmFwcGVuZENoaWxkKGEpOyhjfHxiKSYmdGhpcy5hZGRQYWdlQnJlYWsoayl9KSxBPXRoaXMuZ2V0Q292ZXJQYWdlcyh0aGlzLnBhZ2VGb3JtYXQud2lkdGgsdGhpcy5wYWdlRm9ybWF0LmhlaWdodCk7aWYobnVsbCE9QSlmb3IodmFyIHo9CjA7ejxBLmxlbmd0aDt6KyspQihBW3pdLCEwKTtmb3IodmFyIEM9dGhpcy5nZXRBcHBlbmRpY2VzKHRoaXMucGFnZUZvcm1hdC53aWR0aCx0aGlzLnBhZ2VGb3JtYXQuaGVpZ2h0KSx6PTA7ejx4O3orKyl7dmFyIHY9eip0L3RoaXMuc2NhbGUtdGhpcy55MC90aGlzLnNjYWxlKyhtLnktcS55Km4pL247Zm9yKGE9MDthPHU7YSsrKXtpZihudWxsPT10aGlzLnduZClyZXR1cm4gbnVsbDt2YXIgRD1hKnIvdGhpcy5zY2FsZS10aGlzLngwL3RoaXMuc2NhbGUrKG0ueC1xLngqbikvbixHPXoqdSthKzEsSj1uZXcgbXhSZWN0YW5nbGUoRCx2LHIsdCksZj10aGlzLnJlbmRlclBhZ2UodGhpcy5wYWdlRm9ybWF0LndpZHRoLHRoaXMucGFnZUZvcm1hdC5oZWlnaHQsMCwwLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3RoaXMuYWRkR3JhcGhGcmFnbWVudCgtRCwtdix0aGlzLnNjYWxlLEcsYSxKKTt0aGlzLnByaW50QmFja2dyb3VuZEltYWdlJiZ0aGlzLmluc2VydEJhY2tncm91bmRJbWFnZShhLAotRCwtdil9KSxHKTtmLnNldEF0dHJpYnV0ZSgiaWQiLCJteFBhZ2UtIitHKTtCKGYsbnVsbCE9Q3x8ejx4LTF8fGE8dS0xKX19aWYobnVsbCE9Qylmb3Ioej0wO3o8Qy5sZW5ndGg7eisrKUIoQ1t6XSx6PEMubGVuZ3RoLTEpO2cmJiFkJiYodGhpcy5jbG9zZURvY3VtZW50KCkseSgpKTt0aGlzLnduZC5mb2N1cygpfWNhdGNoKEUpe251bGwhPWYmJm51bGwhPWYucGFyZW50Tm9kZSYmZi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGYpfWZpbmFsbHl7dGhpcy5ncmFwaC5jZWxsUmVuZGVyZXIuaW5pdGlhbGl6ZU92ZXJsYXk9ZX1yZXR1cm4gdGhpcy53bmR9O214UHJpbnRQcmV2aWV3LnByb3RvdHlwZS5hZGRQYWdlQnJlYWs9ZnVuY3Rpb24oYSl7dmFyIGI9YS5jcmVhdGVFbGVtZW50KCJociIpO2IuY2xhc3NOYW1lPSJteFBhZ2VCcmVhayI7YS5ib2R5LmFwcGVuZENoaWxkKGIpfTsKbXhQcmludFByZXZpZXcucHJvdG90eXBlLmNsb3NlRG9jdW1lbnQ9ZnVuY3Rpb24oKXt0cnl7aWYobnVsbCE9dGhpcy53bmQmJm51bGwhPXRoaXMud25kLmRvY3VtZW50KXt2YXIgYT10aGlzLnduZC5kb2N1bWVudDt0aGlzLndyaXRlUG9zdGZpeChhKTthLndyaXRlbG4oIjwvYm9keT4iKTthLndyaXRlbG4oIjwvaHRtbD4iKTthLmNsb3NlKCk7bXhFdmVudC5yZWxlYXNlKGEuYm9keSl9fWNhdGNoKGIpe319OwpteFByaW50UHJldmlldy5wcm90b3R5cGUud3JpdGVIZWFkPWZ1bmN0aW9uKGEsYil7bnVsbCE9dGhpcy50aXRsZSYmYS53cml0ZWxuKCI8dGl0bGU+Iit0aGlzLnRpdGxlKyI8L3RpdGxlPiIpO214Q2xpZW50LklTX1ZNTCYmYS53cml0ZWxuKCc8c3R5bGUgdHlwZT0idGV4dC9jc3MiPnZcXDoqe2JlaGF2aW9yOnVybCgjZGVmYXVsdCNWTUwpfW9cXDoqe2JlaGF2aW9yOnVybCgjZGVmYXVsdCNWTUwpfTwvc3R5bGU+Jyk7bXhDbGllbnQubGluaygic3R5bGVzaGVldCIsbXhDbGllbnQuYmFzZVBhdGgrIi9jc3MvY29tbW9uLmNzcyIsYSk7YS53cml0ZWxuKCc8c3R5bGUgdHlwZT0idGV4dC9jc3MiPicpO2Eud3JpdGVsbigiQG1lZGlhIHByaW50IHsiKTthLndyaXRlbG4oIiAgKiB7IC13ZWJraXQtcHJpbnQtY29sb3ItYWRqdXN0OiBleGFjdDsgfSIpO2Eud3JpdGVsbigiICB0YWJsZS5teFBhZ2VTZWxlY3RvciB7IGRpc3BsYXk6IG5vbmU7IH0iKTthLndyaXRlbG4oIiAgaHIubXhQYWdlQnJlYWsgeyBkaXNwbGF5OiBub25lOyB9Iik7CmEud3JpdGVsbigifSIpO2Eud3JpdGVsbigiQG1lZGlhIHNjcmVlbiB7Iik7YS53cml0ZWxuKCIgIHRhYmxlLm14UGFnZVNlbGVjdG9yIHsgcG9zaXRpb246IGZpeGVkOyByaWdodDogMTBweDsgdG9wOiAxMHB4O2ZvbnQtZmFtaWx5OiBBcmlhbDsgZm9udC1zaXplOjEwcHQ7IGJvcmRlcjogc29saWQgMXB4IGRhcmtncmF5O2JhY2tncm91bmQ6IHdoaXRlOyBib3JkZXItY29sbGFwc2U6Y29sbGFwc2U7IH0iKTthLndyaXRlbG4oIiAgdGFibGUubXhQYWdlU2VsZWN0b3IgdGQgeyBib3JkZXI6IHNvbGlkIDFweCBncmF5OyBwYWRkaW5nOjRweDsgfSIpO2Eud3JpdGVsbigiICBib2R5Lm14UGFnZSB7IGJhY2tncm91bmQ6IGdyYXk7IH0iKTthLndyaXRlbG4oIn0iKTtudWxsIT1iJiZhLndyaXRlbG4oYik7YS53cml0ZWxuKCI8L3N0eWxlPiIpfTtteFByaW50UHJldmlldy5wcm90b3R5cGUud3JpdGVQb3N0Zml4PWZ1bmN0aW9uKGEpe307Cm14UHJpbnRQcmV2aWV3LnByb3RvdHlwZS5jcmVhdGVQYWdlU2VsZWN0b3I9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLnduZC5kb2N1bWVudCxkPWMuY3JlYXRlRWxlbWVudCgidGFibGUiKTtkLmNsYXNzTmFtZT0ibXhQYWdlU2VsZWN0b3IiO2Quc2V0QXR0cmlidXRlKCJib3JkZXIiLCIwIik7Zm9yKHZhciBlPWMuY3JlYXRlRWxlbWVudCgidGJvZHkiKSxmPTA7ZjxhO2YrKyl7Zm9yKHZhciBnPWMuY3JlYXRlRWxlbWVudCgidHIiKSxrPTA7azxiO2srKyl7dmFyIGw9ZipiK2srMSxtPWMuY3JlYXRlRWxlbWVudCgidGQiKSxuPWMuY3JlYXRlRWxlbWVudCgiYSIpO24uc2V0QXR0cmlidXRlKCJocmVmIiwiI214UGFnZS0iK2wpOyFteENsaWVudC5JU19OU3x8bXhDbGllbnQuSVNfU0Z8fG14Q2xpZW50LklTX0dDfHxuLnNldEF0dHJpYnV0ZSgib25jbGljayIsInZhciBwYWdlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ214UGFnZS0iK2wrIicpO3BhZ2Uuc2Nyb2xsSW50b1ZpZXcodHJ1ZSk7ZXZlbnQucHJldmVudERlZmF1bHQoKTsiKTsKbXhVdGlscy53cml0ZShuLGwsYyk7bS5hcHBlbmRDaGlsZChuKTtnLmFwcGVuZENoaWxkKG0pfWUuYXBwZW5kQ2hpbGQoZyl9ZC5hcHBlbmRDaGlsZChlKTtyZXR1cm4gZH07Cm14UHJpbnRQcmV2aWV3LnByb3RvdHlwZS5yZW5kZXJQYWdlPWZ1bmN0aW9uKGEsYixjLGQsZSxmKXtmPXRoaXMud25kLmRvY3VtZW50O3ZhciBnPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLGs9bnVsbDt0cnl7aWYoMCE9Y3x8MCE9ZCl7Zy5zdHlsZS5wb3NpdGlvbj0icmVsYXRpdmUiO2cuc3R5bGUud2lkdGg9YSsicHgiO2cuc3R5bGUuaGVpZ2h0PWIrInB4IjtnLnN0eWxlLnBhZ2VCcmVha0luc2lkZT0iYXZvaWQiO3ZhciBsPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2wuc3R5bGUucG9zaXRpb249InJlbGF0aXZlIjtsLnN0eWxlLnRvcD10aGlzLmJvcmRlcisicHgiO2wuc3R5bGUubGVmdD10aGlzLmJvcmRlcisicHgiO2wuc3R5bGUud2lkdGg9YS0yKnRoaXMuYm9yZGVyKyJweCI7bC5zdHlsZS5oZWlnaHQ9Yi0yKnRoaXMuYm9yZGVyKyJweCI7bC5zdHlsZS5vdmVyZmxvdz0iaGlkZGVuIjt2YXIgbT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTttLnN0eWxlLnBvc2l0aW9uPQoicmVsYXRpdmUiO20uc3R5bGUubWFyZ2luTGVmdD1jKyJweCI7bS5zdHlsZS5tYXJnaW5Ub3A9ZCsicHgiOzg9PWYuZG9jdW1lbnRNb2RlJiYobC5zdHlsZS5wb3NpdGlvbj0iYWJzb2x1dGUiLG0uc3R5bGUucG9zaXRpb249ImFic29sdXRlIik7MTA9PWYuZG9jdW1lbnRNb2RlJiYobS5zdHlsZS53aWR0aD0iMTAwJSIsbS5zdHlsZS5oZWlnaHQ9IjEwMCUiKTtsLmFwcGVuZENoaWxkKG0pO2cuYXBwZW5kQ2hpbGQobCk7ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChnKTtrPW19ZWxzZSBnLnN0eWxlLndpZHRoPWErInB4IixnLnN0eWxlLmhlaWdodD1iKyJweCIsZy5zdHlsZS5vdmVyZmxvdz0iaGlkZGVuIixnLnN0eWxlLnBhZ2VCcmVha0luc2lkZT0iYXZvaWQiLDg9PWYuZG9jdW1lbnRNb2RlJiYoZy5zdHlsZS5wb3NpdGlvbj0icmVsYXRpdmUiKSxsPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLGwuc3R5bGUud2lkdGg9YS0yKnRoaXMuYm9yZGVyKyJweCIsbC5zdHlsZS5oZWlnaHQ9CmItMip0aGlzLmJvcmRlcisicHgiLGwuc3R5bGUub3ZlcmZsb3c9ImhpZGRlbiIsIW14Q2xpZW50LklTX0lFfHxudWxsIT1mLmRvY3VtZW50TW9kZSYmNSE9Zi5kb2N1bWVudE1vZGUmJjghPWYuZG9jdW1lbnRNb2RlJiY3IT1mLmRvY3VtZW50TW9kZT8obC5zdHlsZS50b3A9dGhpcy5ib3JkZXIrInB4IixsLnN0eWxlLmxlZnQ9dGhpcy5ib3JkZXIrInB4Iik6KGwuc3R5bGUubWFyZ2luVG9wPXRoaXMuYm9yZGVyKyJweCIsbC5zdHlsZS5tYXJnaW5MZWZ0PXRoaXMuYm9yZGVyKyJweCIpLHRoaXMuZ3JhcGguZGlhbGVjdD09bXhDb25zdGFudHMuRElBTEVDVF9WTUwmJihsLnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSIpLGcuYXBwZW5kQ2hpbGQobCksZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChnKSxrPWx9Y2F0Y2gobil7dGhyb3cgZy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGcpLG47fWUoayk7cmV0dXJuIGd9OwpteFByaW50UHJldmlldy5wcm90b3R5cGUuZ2V0Um9vdD1mdW5jdGlvbigpe3ZhciBhPXRoaXMuZ3JhcGgudmlldy5jdXJyZW50Um9vdDtudWxsPT1hJiYoYT10aGlzLmdyYXBoLmdldE1vZGVsKCkuZ2V0Um9vdCgpKTtyZXR1cm4gYX07Cm14UHJpbnRQcmV2aWV3LnByb3RvdHlwZS5hZGRHcmFwaEZyYWdtZW50PWZ1bmN0aW9uKGEsYixjLGQsZSxmKXt2YXIgZz10aGlzLmdyYXBoLmdldFZpZXcoKTtkPXRoaXMuZ3JhcGguY29udGFpbmVyO3RoaXMuZ3JhcGguY29udGFpbmVyPWU7dmFyIGs9Zy5nZXRDYW52YXMoKSxsPWcuZ2V0QmFja2dyb3VuZFBhbmUoKSxtPWcuZ2V0RHJhd1BhbmUoKSxuPWcuZ2V0T3ZlcmxheVBhbmUoKSxwPWM7aWYodGhpcy5ncmFwaC5kaWFsZWN0PT1teENvbnN0YW50cy5ESUFMRUNUX1NWRyl7aWYoZy5jcmVhdGVTdmcoKSwhbXhDbGllbnQuTk9fRk8pe3ZhciBxPWcuZ2V0RHJhd1BhbmUoKS5wYXJlbnROb2RlO3EuZ2V0QXR0cmlidXRlKCJ0cmFuc2Zvcm0iKTtxLnNldEF0dHJpYnV0ZSgidHJhbnNmb3JtT3JpZ2luIiwiMCAwIik7cS5zZXRBdHRyaWJ1dGUoInRyYW5zZm9ybSIsInNjYWxlKCIrYysiLCIrYysiKXRyYW5zbGF0ZSgiK2ErIiwiK2IrIikiKTtjPTE7Yj1hPTB9fWVsc2UgdGhpcy5ncmFwaC5kaWFsZWN0PT0KbXhDb25zdGFudHMuRElBTEVDVF9WTUw/Zy5jcmVhdGVWbWwoKTpnLmNyZWF0ZUh0bWwoKTtxPWcuaXNFdmVudHNFbmFibGVkKCk7Zy5zZXRFdmVudHNFbmFibGVkKCExKTt2YXIgcj10aGlzLmdyYXBoLmlzRW5hYmxlZCgpO3RoaXMuZ3JhcGguc2V0RW5hYmxlZCghMSk7dmFyIHQ9Zy5nZXRUcmFuc2xhdGUoKTtnLnRyYW5zbGF0ZT1uZXcgbXhQb2ludChhLGIpO3ZhciB1PXRoaXMuZ3JhcGguY2VsbFJlbmRlcmVyLnJlZHJhdyx4PWcuc3RhdGVzO2E9Zy5zY2FsZTtpZih0aGlzLmNsaXBwaW5nKXt2YXIgeT1uZXcgbXhSZWN0YW5nbGUoKGYueCt0LngpKmEsKGYueSt0LnkpKmEsZi53aWR0aCphL3AsZi5oZWlnaHQqYS9wKTt0aGlzLmdyYXBoLmNlbGxSZW5kZXJlci5yZWRyYXc9ZnVuY3Rpb24oYSxiLGMpe2lmKG51bGwhPWEpe3ZhciBkPXguZ2V0KGEuY2VsbCk7aWYobnVsbCE9ZCYmKGQ9Zy5nZXRCb3VuZGluZ0JveChkLCExKSxudWxsIT1kJiYwPGQud2lkdGgmJjA8ZC5oZWlnaHQmJgohbXhVdGlscy5pbnRlcnNlY3RzKHksZCkpKXJldHVybn11LmFwcGx5KHRoaXMsYXJndW1lbnRzKX19YT1udWxsO3RyeXt2YXIgQj1bdGhpcy5nZXRSb290KCldO2E9bmV3IG14VGVtcG9yYXJ5Q2VsbFN0YXRlcyhnLGMsQixudWxsLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmdldExpbmtGb3JDZWxsU3RhdGUoYSl9KSl9ZmluYWxseXtpZihteENsaWVudC5JU19JRSlnLm92ZXJsYXlQYW5lLmlubmVySFRNTD0iIixnLmNhbnZhcy5zdHlsZS5vdmVyZmxvdz0iaGlkZGVuIixnLmNhbnZhcy5zdHlsZS5wb3NpdGlvbj0icmVsYXRpdmUiLGcuY2FudmFzLnN0eWxlLnRvcD10aGlzLm1hcmdpblRvcCsicHgiLGcuY2FudmFzLnN0eWxlLndpZHRoPWYud2lkdGgrInB4IixnLmNhbnZhcy5zdHlsZS5oZWlnaHQ9Zi5oZWlnaHQrInB4IjtlbHNlIGZvcihjPWUuZmlyc3RDaGlsZDtudWxsIT1jOylCPWMubmV4dFNpYmxpbmcsYj1jLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksCiJzdmciPT1iPyhjLnN0eWxlLm92ZXJmbG93PSJoaWRkZW4iLGMuc3R5bGUucG9zaXRpb249InJlbGF0aXZlIixjLnN0eWxlLnRvcD10aGlzLm1hcmdpblRvcCsicHgiLGMuc2V0QXR0cmlidXRlKCJ3aWR0aCIsZi53aWR0aCksYy5zZXRBdHRyaWJ1dGUoImhlaWdodCIsZi5oZWlnaHQpLGMuc3R5bGUud2lkdGg9IiIsYy5zdHlsZS5oZWlnaHQ9IiIpOiJkZWZhdWx0IiE9Yy5zdHlsZS5jdXJzb3ImJiJkaXYiIT1iJiZjLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYyksYz1CO3RoaXMucHJpbnRCYWNrZ3JvdW5kSW1hZ2UmJihlPWUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInN2ZyIpLDA8ZS5sZW5ndGgmJihlWzBdLnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSIpKTtnLm92ZXJsYXlQYW5lLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZy5vdmVybGF5UGFuZSk7dGhpcy5ncmFwaC5zZXRFbmFibGVkKHIpO3RoaXMuZ3JhcGguY29udGFpbmVyPWQ7dGhpcy5ncmFwaC5jZWxsUmVuZGVyZXIucmVkcmF3PQp1O2cuY2FudmFzPWs7Zy5iYWNrZ3JvdW5kUGFuZT1sO2cuZHJhd1BhbmU9bTtnLm92ZXJsYXlQYW5lPW47Zy50cmFuc2xhdGU9dDthLmRlc3Ryb3koKTtnLnNldEV2ZW50c0VuYWJsZWQocSl9fTtteFByaW50UHJldmlldy5wcm90b3R5cGUuZ2V0TGlua0ZvckNlbGxTdGF0ZT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5ncmFwaC5nZXRMaW5rRm9yQ2VsbChhLmNlbGwpfTsKbXhQcmludFByZXZpZXcucHJvdG90eXBlLmluc2VydEJhY2tncm91bmRJbWFnZT1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcy5ncmFwaC5iYWNrZ3JvdW5kSW1hZ2U7aWYobnVsbCE9ZCl7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW1nIik7ZS5zdHlsZS5wb3NpdGlvbj0iYWJzb2x1dGUiO2Uuc3R5bGUubWFyZ2luTGVmdD1NYXRoLnJvdW5kKGIqdGhpcy5zY2FsZSkrInB4IjtlLnN0eWxlLm1hcmdpblRvcD1NYXRoLnJvdW5kKGMqdGhpcy5zY2FsZSkrInB4IjtlLnNldEF0dHJpYnV0ZSgid2lkdGgiLE1hdGgucm91bmQodGhpcy5zY2FsZSpkLndpZHRoKSk7ZS5zZXRBdHRyaWJ1dGUoImhlaWdodCIsTWF0aC5yb3VuZCh0aGlzLnNjYWxlKmQuaGVpZ2h0KSk7ZS5zcmM9ZC5zcmM7YS5pbnNlcnRCZWZvcmUoZSxhLmZpcnN0Q2hpbGQpfX07bXhQcmludFByZXZpZXcucHJvdG90eXBlLmdldENvdmVyUGFnZXM9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH07Cm14UHJpbnRQcmV2aWV3LnByb3RvdHlwZS5nZXRBcHBlbmRpY2VzPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9O214UHJpbnRQcmV2aWV3LnByb3RvdHlwZS5wcmludD1mdW5jdGlvbihhKXthPXRoaXMub3BlbihhKTtudWxsIT1hJiZhLnByaW50KCl9O214UHJpbnRQcmV2aWV3LnByb3RvdHlwZS5jbG9zZT1mdW5jdGlvbigpe251bGwhPXRoaXMud25kJiYodGhpcy53bmQuY2xvc2UoKSx0aGlzLnduZD1udWxsKX07ZnVuY3Rpb24gbXhTdHlsZXNoZWV0KCl7dGhpcy5zdHlsZXM9e307dGhpcy5wdXREZWZhdWx0VmVydGV4U3R5bGUodGhpcy5jcmVhdGVEZWZhdWx0VmVydGV4U3R5bGUoKSk7dGhpcy5wdXREZWZhdWx0RWRnZVN0eWxlKHRoaXMuY3JlYXRlRGVmYXVsdEVkZ2VTdHlsZSgpKX0KbXhTdHlsZXNoZWV0LnByb3RvdHlwZS5jcmVhdGVEZWZhdWx0VmVydGV4U3R5bGU9ZnVuY3Rpb24oKXt2YXIgYT17fTthW214Q29uc3RhbnRzLlNUWUxFX1NIQVBFXT1teENvbnN0YW50cy5TSEFQRV9SRUNUQU5HTEU7YVtteENvbnN0YW50cy5TVFlMRV9QRVJJTUVURVJdPW14UGVyaW1ldGVyLlJlY3RhbmdsZVBlcmltZXRlcjthW214Q29uc3RhbnRzLlNUWUxFX1ZFUlRJQ0FMX0FMSUdOXT1teENvbnN0YW50cy5BTElHTl9NSURETEU7YVtteENvbnN0YW50cy5TVFlMRV9BTElHTl09bXhDb25zdGFudHMuQUxJR05fQ0VOVEVSO2FbbXhDb25zdGFudHMuU1RZTEVfRklMTENPTE9SXT0iI0MzRDlGRiI7YVtteENvbnN0YW50cy5TVFlMRV9TVFJPS0VDT0xPUl09IiM2NDgyQjkiO2FbbXhDb25zdGFudHMuU1RZTEVfRk9OVENPTE9SXT0iIzc3NDQwMCI7cmV0dXJuIGF9OwpteFN0eWxlc2hlZXQucHJvdG90eXBlLmNyZWF0ZURlZmF1bHRFZGdlU3R5bGU9ZnVuY3Rpb24oKXt2YXIgYT17fTthW214Q29uc3RhbnRzLlNUWUxFX1NIQVBFXT1teENvbnN0YW50cy5TSEFQRV9DT05ORUNUT1I7YVtteENvbnN0YW50cy5TVFlMRV9FTkRBUlJPV109bXhDb25zdGFudHMuQVJST1dfQ0xBU1NJQzthW214Q29uc3RhbnRzLlNUWUxFX1ZFUlRJQ0FMX0FMSUdOXT1teENvbnN0YW50cy5BTElHTl9NSURETEU7YVtteENvbnN0YW50cy5TVFlMRV9BTElHTl09bXhDb25zdGFudHMuQUxJR05fQ0VOVEVSO2FbbXhDb25zdGFudHMuU1RZTEVfU1RST0tFQ09MT1JdPSIjNjQ4MkI5IjthW214Q29uc3RhbnRzLlNUWUxFX0ZPTlRDT0xPUl09IiM0NDYyOTkiO3JldHVybiBhfTtteFN0eWxlc2hlZXQucHJvdG90eXBlLnB1dERlZmF1bHRWZXJ0ZXhTdHlsZT1mdW5jdGlvbihhKXt0aGlzLnB1dENlbGxTdHlsZSgiZGVmYXVsdFZlcnRleCIsYSl9OwpteFN0eWxlc2hlZXQucHJvdG90eXBlLnB1dERlZmF1bHRFZGdlU3R5bGU9ZnVuY3Rpb24oYSl7dGhpcy5wdXRDZWxsU3R5bGUoImRlZmF1bHRFZGdlIixhKX07bXhTdHlsZXNoZWV0LnByb3RvdHlwZS5nZXREZWZhdWx0VmVydGV4U3R5bGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdHlsZXMuZGVmYXVsdFZlcnRleH07bXhTdHlsZXNoZWV0LnByb3RvdHlwZS5nZXREZWZhdWx0RWRnZVN0eWxlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3R5bGVzLmRlZmF1bHRFZGdlfTtteFN0eWxlc2hlZXQucHJvdG90eXBlLnB1dENlbGxTdHlsZT1mdW5jdGlvbihhLGIpe3RoaXMuc3R5bGVzW2FdPWJ9OwpteFN0eWxlc2hlZXQucHJvdG90eXBlLmdldENlbGxTdHlsZT1mdW5jdGlvbihhLGIpe3ZhciBjPWI7aWYobnVsbCE9YSYmMDxhLmxlbmd0aClmb3IodmFyIGQ9YS5zcGxpdCgiOyIpLGM9bnVsbCE9YyYmIjsiIT1hLmNoYXJBdCgwKT9teFV0aWxzLmNsb25lKGMpOnt9LGU9MDtlPGQubGVuZ3RoO2UrKyl7dmFyIGY9ZFtlXSxnPWYuaW5kZXhPZigiPSIpO2lmKDA8PWcpe3ZhciBrPWYuc3Vic3RyaW5nKDAsZyksZj1mLnN1YnN0cmluZyhnKzEpO2Y9PW14Q29uc3RhbnRzLk5PTkU/ZGVsZXRlIGNba106bXhVdGlscy5pc051bWVyaWMoZik/Y1trXT1wYXJzZUZsb2F0KGYpOmNba109Zn1lbHNlIGlmKGY9dGhpcy5zdHlsZXNbZl0sbnVsbCE9Zilmb3IoayBpbiBmKWNba109ZltrXX1yZXR1cm4gY307CmZ1bmN0aW9uIG14Q2VsbFN0YXRlKGEsYixjKXt0aGlzLnZpZXc9YTt0aGlzLmNlbGw9Yjt0aGlzLnN0eWxlPW51bGwhPWM/Yzp7fTt0aGlzLm9yaWdpbj1uZXcgbXhQb2ludDt0aGlzLmFic29sdXRlT2Zmc2V0PW5ldyBteFBvaW50fW14Q2VsbFN0YXRlLnByb3RvdHlwZT1uZXcgbXhSZWN0YW5nbGU7bXhDZWxsU3RhdGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPW14Q2VsbFN0YXRlO214Q2VsbFN0YXRlLnByb3RvdHlwZS52aWV3PW51bGw7bXhDZWxsU3RhdGUucHJvdG90eXBlLmNlbGw9bnVsbDtteENlbGxTdGF0ZS5wcm90b3R5cGUuc3R5bGU9bnVsbDtteENlbGxTdGF0ZS5wcm90b3R5cGUuaW52YWxpZFN0eWxlPSExO214Q2VsbFN0YXRlLnByb3RvdHlwZS5pbnZhbGlkPSEwO214Q2VsbFN0YXRlLnByb3RvdHlwZS5vcmlnaW49bnVsbDtteENlbGxTdGF0ZS5wcm90b3R5cGUuYWJzb2x1dGVQb2ludHM9bnVsbDtteENlbGxTdGF0ZS5wcm90b3R5cGUuYWJzb2x1dGVPZmZzZXQ9bnVsbDsKbXhDZWxsU3RhdGUucHJvdG90eXBlLnZpc2libGVTb3VyY2VTdGF0ZT1udWxsO214Q2VsbFN0YXRlLnByb3RvdHlwZS52aXNpYmxlVGFyZ2V0U3RhdGU9bnVsbDtteENlbGxTdGF0ZS5wcm90b3R5cGUudGVybWluYWxEaXN0YW5jZT0wO214Q2VsbFN0YXRlLnByb3RvdHlwZS5sZW5ndGg9MDtteENlbGxTdGF0ZS5wcm90b3R5cGUuc2VnbWVudHM9bnVsbDtteENlbGxTdGF0ZS5wcm90b3R5cGUuc2hhcGU9bnVsbDtteENlbGxTdGF0ZS5wcm90b3R5cGUudGV4dD1udWxsO214Q2VsbFN0YXRlLnByb3RvdHlwZS51bnNjYWxlZFdpZHRoPW51bGw7bXhDZWxsU3RhdGUucHJvdG90eXBlLnVuc2NhbGVkSGVpZ2h0PW51bGw7Cm14Q2VsbFN0YXRlLnByb3RvdHlwZS5nZXRQZXJpbWV0ZXJCb3VuZHM9ZnVuY3Rpb24oYSxiKXthPWF8fDA7Yj1udWxsIT1iP2I6bmV3IG14UmVjdGFuZ2xlKHRoaXMueCx0aGlzLnksdGhpcy53aWR0aCx0aGlzLmhlaWdodCk7aWYobnVsbCE9dGhpcy5zaGFwZSYmbnVsbCE9dGhpcy5zaGFwZS5zdGVuY2lsJiYiZml4ZWQiPT10aGlzLnNoYXBlLnN0ZW5jaWwuYXNwZWN0KXt2YXIgYz10aGlzLnNoYXBlLnN0ZW5jaWwuY29tcHV0ZUFzcGVjdCh0aGlzLnN0eWxlLGIueCxiLnksYi53aWR0aCxiLmhlaWdodCk7Yi54PWMueDtiLnk9Yy55O2Iud2lkdGg9dGhpcy5zaGFwZS5zdGVuY2lsLncwKmMud2lkdGg7Yi5oZWlnaHQ9dGhpcy5zaGFwZS5zdGVuY2lsLmgwKmMuaGVpZ2h0fTAhPWEmJmIuZ3JvdyhhKTtyZXR1cm4gYn07Cm14Q2VsbFN0YXRlLnByb3RvdHlwZS5zZXRBYnNvbHV0ZVRlcm1pbmFsUG9pbnQ9ZnVuY3Rpb24oYSxiKXtiPyhudWxsPT10aGlzLmFic29sdXRlUG9pbnRzJiYodGhpcy5hYnNvbHV0ZVBvaW50cz1bXSksMD09dGhpcy5hYnNvbHV0ZVBvaW50cy5sZW5ndGg/dGhpcy5hYnNvbHV0ZVBvaW50cy5wdXNoKGEpOnRoaXMuYWJzb2x1dGVQb2ludHNbMF09YSk6bnVsbD09dGhpcy5hYnNvbHV0ZVBvaW50cz8odGhpcy5hYnNvbHV0ZVBvaW50cz1bXSx0aGlzLmFic29sdXRlUG9pbnRzLnB1c2gobnVsbCksdGhpcy5hYnNvbHV0ZVBvaW50cy5wdXNoKGEpKToxPT10aGlzLmFic29sdXRlUG9pbnRzLmxlbmd0aD90aGlzLmFic29sdXRlUG9pbnRzLnB1c2goYSk6dGhpcy5hYnNvbHV0ZVBvaW50c1t0aGlzLmFic29sdXRlUG9pbnRzLmxlbmd0aC0xXT1hfTsKbXhDZWxsU3RhdGUucHJvdG90eXBlLnNldEN1cnNvcj1mdW5jdGlvbihhKXtudWxsIT10aGlzLnNoYXBlJiZ0aGlzLnNoYXBlLnNldEN1cnNvcihhKTtudWxsIT10aGlzLnRleHQmJnRoaXMudGV4dC5zZXRDdXJzb3IoYSl9O214Q2VsbFN0YXRlLnByb3RvdHlwZS5nZXRWaXNpYmxlVGVybWluYWw9ZnVuY3Rpb24oYSl7YT10aGlzLmdldFZpc2libGVUZXJtaW5hbFN0YXRlKGEpO3JldHVybiBudWxsIT1hP2EuY2VsbDpudWxsfTtteENlbGxTdGF0ZS5wcm90b3R5cGUuZ2V0VmlzaWJsZVRlcm1pbmFsU3RhdGU9ZnVuY3Rpb24oYSl7cmV0dXJuIGE/dGhpcy52aXNpYmxlU291cmNlU3RhdGU6dGhpcy52aXNpYmxlVGFyZ2V0U3RhdGV9O214Q2VsbFN0YXRlLnByb3RvdHlwZS5zZXRWaXNpYmxlVGVybWluYWxTdGF0ZT1mdW5jdGlvbihhLGIpe2I/dGhpcy52aXNpYmxlU291cmNlU3RhdGU9YTp0aGlzLnZpc2libGVUYXJnZXRTdGF0ZT1hfTsKbXhDZWxsU3RhdGUucHJvdG90eXBlLmdldENlbGxCb3VuZHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jZWxsQm91bmRzfTtteENlbGxTdGF0ZS5wcm90b3R5cGUuZ2V0UGFpbnRCb3VuZHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYWludEJvdW5kc307bXhDZWxsU3RhdGUucHJvdG90eXBlLnVwZGF0ZUNhY2hlZEJvdW5kcz1mdW5jdGlvbigpe3ZhciBhPXRoaXMudmlldy50cmFuc2xhdGUsYj10aGlzLnZpZXcuc2NhbGU7dGhpcy5jZWxsQm91bmRzPW5ldyBteFJlY3RhbmdsZSh0aGlzLngvYi1hLngsdGhpcy55L2ItYS55LHRoaXMud2lkdGgvYix0aGlzLmhlaWdodC9iKTt0aGlzLnBhaW50Qm91bmRzPW14UmVjdGFuZ2xlLmZyb21SZWN0YW5nbGUodGhpcy5jZWxsQm91bmRzKTtudWxsIT10aGlzLnNoYXBlJiZ0aGlzLnNoYXBlLmlzUGFpbnRCb3VuZHNJbnZlcnRlZCgpJiZ0aGlzLnBhaW50Qm91bmRzLnJvdGF0ZTkwKCl9OwpteENlbGxTdGF0ZS5wcm90b3R5cGUuc2V0U3RhdGU9ZnVuY3Rpb24oYSl7dGhpcy52aWV3PWEudmlldzt0aGlzLmNlbGw9YS5jZWxsO3RoaXMuc3R5bGU9YS5zdHlsZTt0aGlzLmFic29sdXRlUG9pbnRzPWEuYWJzb2x1dGVQb2ludHM7dGhpcy5vcmlnaW49YS5vcmlnaW47dGhpcy5hYnNvbHV0ZU9mZnNldD1hLmFic29sdXRlT2Zmc2V0O3RoaXMuYm91bmRpbmdCb3g9YS5ib3VuZGluZ0JveDt0aGlzLnRlcm1pbmFsRGlzdGFuY2U9YS50ZXJtaW5hbERpc3RhbmNlO3RoaXMuc2VnbWVudHM9YS5zZWdtZW50czt0aGlzLmxlbmd0aD1hLmxlbmd0aDt0aGlzLng9YS54O3RoaXMueT1hLnk7dGhpcy53aWR0aD1hLndpZHRoO3RoaXMuaGVpZ2h0PWEuaGVpZ2h0O3RoaXMudW5zY2FsZWRXaWR0aD1hLnVuc2NhbGVkV2lkdGg7dGhpcy51bnNjYWxlZEhlaWdodD1hLnVuc2NhbGVkSGVpZ2h0fTsKbXhDZWxsU3RhdGUucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IG14Q2VsbFN0YXRlKHRoaXMudmlldyx0aGlzLmNlbGwsdGhpcy5zdHlsZSk7aWYobnVsbCE9dGhpcy5hYnNvbHV0ZVBvaW50cyl7YS5hYnNvbHV0ZVBvaW50cz1bXTtmb3IodmFyIGI9MDtiPHRoaXMuYWJzb2x1dGVQb2ludHMubGVuZ3RoO2IrKylhLmFic29sdXRlUG9pbnRzW2JdPXRoaXMuYWJzb2x1dGVQb2ludHNbYl0uY2xvbmUoKX1udWxsIT10aGlzLm9yaWdpbiYmKGEub3JpZ2luPXRoaXMub3JpZ2luLmNsb25lKCkpO251bGwhPXRoaXMuYWJzb2x1dGVPZmZzZXQmJihhLmFic29sdXRlT2Zmc2V0PXRoaXMuYWJzb2x1dGVPZmZzZXQuY2xvbmUoKSk7bnVsbCE9dGhpcy5ib3VuZGluZ0JveCYmKGEuYm91bmRpbmdCb3g9dGhpcy5ib3VuZGluZ0JveC5jbG9uZSgpKTthLnRlcm1pbmFsRGlzdGFuY2U9dGhpcy50ZXJtaW5hbERpc3RhbmNlO2Euc2VnbWVudHM9dGhpcy5zZWdtZW50czthLmxlbmd0aD0KdGhpcy5sZW5ndGg7YS54PXRoaXMueDthLnk9dGhpcy55O2Eud2lkdGg9dGhpcy53aWR0aDthLmhlaWdodD10aGlzLmhlaWdodDthLnVuc2NhbGVkV2lkdGg9dGhpcy51bnNjYWxlZFdpZHRoO2EudW5zY2FsZWRIZWlnaHQ9dGhpcy51bnNjYWxlZEhlaWdodDtyZXR1cm4gYX07bXhDZWxsU3RhdGUucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLnZpZXcuZ3JhcGguY2VsbFJlbmRlcmVyLmRlc3Ryb3kodGhpcyl9O2Z1bmN0aW9uIG14R3JhcGhTZWxlY3Rpb25Nb2RlbChhKXt0aGlzLmdyYXBoPWE7dGhpcy5jZWxscz1bXX1teEdyYXBoU2VsZWN0aW9uTW9kZWwucHJvdG90eXBlPW5ldyBteEV2ZW50U291cmNlO214R3JhcGhTZWxlY3Rpb25Nb2RlbC5wcm90b3R5cGUuY29uc3RydWN0b3I9bXhHcmFwaFNlbGVjdGlvbk1vZGVsO214R3JhcGhTZWxlY3Rpb25Nb2RlbC5wcm90b3R5cGUuZG9uZVJlc291cmNlPSJub25lIiE9bXhDbGllbnQubGFuZ3VhZ2U/ImRvbmUiOiIiOwpteEdyYXBoU2VsZWN0aW9uTW9kZWwucHJvdG90eXBlLnVwZGF0aW5nU2VsZWN0aW9uUmVzb3VyY2U9Im5vbmUiIT1teENsaWVudC5sYW5ndWFnZT8idXBkYXRpbmdTZWxlY3Rpb24iOiIiO214R3JhcGhTZWxlY3Rpb25Nb2RlbC5wcm90b3R5cGUuZ3JhcGg9bnVsbDtteEdyYXBoU2VsZWN0aW9uTW9kZWwucHJvdG90eXBlLnNpbmdsZVNlbGVjdGlvbj0hMTtteEdyYXBoU2VsZWN0aW9uTW9kZWwucHJvdG90eXBlLmlzU2luZ2xlU2VsZWN0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2luZ2xlU2VsZWN0aW9ufTtteEdyYXBoU2VsZWN0aW9uTW9kZWwucHJvdG90eXBlLnNldFNpbmdsZVNlbGVjdGlvbj1mdW5jdGlvbihhKXt0aGlzLnNpbmdsZVNlbGVjdGlvbj1hfTtteEdyYXBoU2VsZWN0aW9uTW9kZWwucHJvdG90eXBlLmlzU2VsZWN0ZWQ9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPWE/MDw9bXhVdGlscy5pbmRleE9mKHRoaXMuY2VsbHMsYSk6ITF9OwpteEdyYXBoU2VsZWN0aW9uTW9kZWwucHJvdG90eXBlLmlzRW1wdHk9ZnVuY3Rpb24oKXtyZXR1cm4gMD09dGhpcy5jZWxscy5sZW5ndGh9O214R3JhcGhTZWxlY3Rpb25Nb2RlbC5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXt0aGlzLmNoYW5nZVNlbGVjdGlvbihudWxsLHRoaXMuY2VsbHMpfTtteEdyYXBoU2VsZWN0aW9uTW9kZWwucHJvdG90eXBlLnNldENlbGw9ZnVuY3Rpb24oYSl7bnVsbCE9YSYmdGhpcy5zZXRDZWxscyhbYV0pfTtteEdyYXBoU2VsZWN0aW9uTW9kZWwucHJvdG90eXBlLnNldENlbGxzPWZ1bmN0aW9uKGEpe2lmKG51bGwhPWEpe3RoaXMuc2luZ2xlU2VsZWN0aW9uJiYoYT1bdGhpcy5nZXRGaXJzdFNlbGVjdGFibGVDZWxsKGEpXSk7Zm9yKHZhciBiPVtdLGM9MDtjPGEubGVuZ3RoO2MrKyl0aGlzLmdyYXBoLmlzQ2VsbFNlbGVjdGFibGUoYVtjXSkmJmIucHVzaChhW2NdKTt0aGlzLmNoYW5nZVNlbGVjdGlvbihiLHRoaXMuY2VsbHMpfX07Cm14R3JhcGhTZWxlY3Rpb25Nb2RlbC5wcm90b3R5cGUuZ2V0Rmlyc3RTZWxlY3RhYmxlQ2VsbD1mdW5jdGlvbihhKXtpZihudWxsIT1hKWZvcih2YXIgYj0wO2I8YS5sZW5ndGg7YisrKWlmKHRoaXMuZ3JhcGguaXNDZWxsU2VsZWN0YWJsZShhW2JdKSlyZXR1cm4gYVtiXTtyZXR1cm4gbnVsbH07bXhHcmFwaFNlbGVjdGlvbk1vZGVsLnByb3RvdHlwZS5hZGRDZWxsPWZ1bmN0aW9uKGEpe251bGwhPWEmJnRoaXMuYWRkQ2VsbHMoW2FdKX07Cm14R3JhcGhTZWxlY3Rpb25Nb2RlbC5wcm90b3R5cGUuYWRkQ2VsbHM9ZnVuY3Rpb24oYSl7aWYobnVsbCE9YSl7dmFyIGI9bnVsbDt0aGlzLnNpbmdsZVNlbGVjdGlvbiYmKGI9dGhpcy5jZWxscyxhPVt0aGlzLmdldEZpcnN0U2VsZWN0YWJsZUNlbGwoYSldKTtmb3IodmFyIGM9W10sZD0wO2Q8YS5sZW5ndGg7ZCsrKSF0aGlzLmlzU2VsZWN0ZWQoYVtkXSkmJnRoaXMuZ3JhcGguaXNDZWxsU2VsZWN0YWJsZShhW2RdKSYmYy5wdXNoKGFbZF0pO3RoaXMuY2hhbmdlU2VsZWN0aW9uKGMsYil9fTtteEdyYXBoU2VsZWN0aW9uTW9kZWwucHJvdG90eXBlLnJlbW92ZUNlbGw9ZnVuY3Rpb24oYSl7bnVsbCE9YSYmdGhpcy5yZW1vdmVDZWxscyhbYV0pfTsKbXhHcmFwaFNlbGVjdGlvbk1vZGVsLnByb3RvdHlwZS5yZW1vdmVDZWxscz1mdW5jdGlvbihhKXtpZihudWxsIT1hKXtmb3IodmFyIGI9W10sYz0wO2M8YS5sZW5ndGg7YysrKXRoaXMuaXNTZWxlY3RlZChhW2NdKSYmYi5wdXNoKGFbY10pO3RoaXMuY2hhbmdlU2VsZWN0aW9uKG51bGwsYil9fTtteEdyYXBoU2VsZWN0aW9uTW9kZWwucHJvdG90eXBlLmNoYW5nZVNlbGVjdGlvbj1mdW5jdGlvbihhLGIpe2lmKG51bGwhPWEmJjA8YS5sZW5ndGgmJm51bGwhPWFbMF18fG51bGwhPWImJjA8Yi5sZW5ndGgmJm51bGwhPWJbMF0pe3ZhciBjPW5ldyBteFNlbGVjdGlvbkNoYW5nZSh0aGlzLGEsYik7Yy5leGVjdXRlKCk7dmFyIGQ9bmV3IG14VW5kb2FibGVFZGl0KHRoaXMsITEpO2QuYWRkKGMpO3RoaXMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KG14RXZlbnQuVU5ETywiZWRpdCIsZCkpfX07Cm14R3JhcGhTZWxlY3Rpb25Nb2RlbC5wcm90b3R5cGUuY2VsbEFkZGVkPWZ1bmN0aW9uKGEpe251bGw9PWF8fHRoaXMuaXNTZWxlY3RlZChhKXx8dGhpcy5jZWxscy5wdXNoKGEpfTtteEdyYXBoU2VsZWN0aW9uTW9kZWwucHJvdG90eXBlLmNlbGxSZW1vdmVkPWZ1bmN0aW9uKGEpe251bGwhPWEmJihhPW14VXRpbHMuaW5kZXhPZih0aGlzLmNlbGxzLGEpLDA8PWEmJnRoaXMuY2VsbHMuc3BsaWNlKGEsMSkpfTtmdW5jdGlvbiBteFNlbGVjdGlvbkNoYW5nZShhLGIsYyl7dGhpcy5zZWxlY3Rpb25Nb2RlbD1hO3RoaXMuYWRkZWQ9bnVsbCE9Yj9iLnNsaWNlKCk6bnVsbDt0aGlzLnJlbW92ZWQ9bnVsbCE9Yz9jLnNsaWNlKCk6bnVsbH0KbXhTZWxlY3Rpb25DaGFuZ2UucHJvdG90eXBlLmV4ZWN1dGU9ZnVuY3Rpb24oKXt2YXIgYT1teExvZy5lbnRlcigibXhTZWxlY3Rpb25DaGFuZ2UuZXhlY3V0ZSIpO3dpbmRvdy5zdGF0dXM9bXhSZXNvdXJjZXMuZ2V0KHRoaXMuc2VsZWN0aW9uTW9kZWwudXBkYXRpbmdTZWxlY3Rpb25SZXNvdXJjZSl8fHRoaXMuc2VsZWN0aW9uTW9kZWwudXBkYXRpbmdTZWxlY3Rpb25SZXNvdXJjZTtpZihudWxsIT10aGlzLnJlbW92ZWQpZm9yKHZhciBiPTA7Yjx0aGlzLnJlbW92ZWQubGVuZ3RoO2IrKyl0aGlzLnNlbGVjdGlvbk1vZGVsLmNlbGxSZW1vdmVkKHRoaXMucmVtb3ZlZFtiXSk7aWYobnVsbCE9dGhpcy5hZGRlZClmb3IoYj0wO2I8dGhpcy5hZGRlZC5sZW5ndGg7YisrKXRoaXMuc2VsZWN0aW9uTW9kZWwuY2VsbEFkZGVkKHRoaXMuYWRkZWRbYl0pO2I9dGhpcy5hZGRlZDt0aGlzLmFkZGVkPXRoaXMucmVtb3ZlZDt0aGlzLnJlbW92ZWQ9Yjt3aW5kb3cuc3RhdHVzPW14UmVzb3VyY2VzLmdldCh0aGlzLnNlbGVjdGlvbk1vZGVsLmRvbmVSZXNvdXJjZSl8fAp0aGlzLnNlbGVjdGlvbk1vZGVsLmRvbmVSZXNvdXJjZTtteExvZy5sZWF2ZSgibXhTZWxlY3Rpb25DaGFuZ2UuZXhlY3V0ZSIsYSk7dGhpcy5zZWxlY3Rpb25Nb2RlbC5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5DSEFOR0UsImFkZGVkIix0aGlzLmFkZGVkLCJyZW1vdmVkIix0aGlzLnJlbW92ZWQpKX07CmZ1bmN0aW9uIG14Q2VsbEVkaXRvcihhKXt0aGlzLmdyYXBoPWE7dGhpcy56b29tSGFuZGxlcj1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMuZ3JhcGguaXNFZGl0aW5nKCkmJnRoaXMucmVzaXplKCl9KTt0aGlzLmdyYXBoLnZpZXcuYWRkTGlzdGVuZXIobXhFdmVudC5TQ0FMRSx0aGlzLnpvb21IYW5kbGVyKTt0aGlzLmdyYXBoLnZpZXcuYWRkTGlzdGVuZXIobXhFdmVudC5TQ0FMRV9BTkRfVFJBTlNMQVRFLHRoaXMuem9vbUhhbmRsZXIpO3RoaXMuY2hhbmdlSGFuZGxlcj1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXtudWxsIT10aGlzLmVkaXRpbmdDZWxsJiZudWxsPT10aGlzLmdyYXBoLmdldFZpZXcoKS5nZXRTdGF0ZSh0aGlzLmVkaXRpbmdDZWxsKSYmdGhpcy5zdG9wRWRpdGluZyghMCl9KTt0aGlzLmdyYXBoLmdldE1vZGVsKCkuYWRkTGlzdGVuZXIobXhFdmVudC5DSEFOR0UsdGhpcy5jaGFuZ2VIYW5kbGVyKX0KbXhDZWxsRWRpdG9yLnByb3RvdHlwZS5ncmFwaD1udWxsO214Q2VsbEVkaXRvci5wcm90b3R5cGUudGV4dGFyZWE9bnVsbDtteENlbGxFZGl0b3IucHJvdG90eXBlLmVkaXRpbmdDZWxsPW51bGw7bXhDZWxsRWRpdG9yLnByb3RvdHlwZS50cmlnZ2VyPW51bGw7bXhDZWxsRWRpdG9yLnByb3RvdHlwZS5tb2RpZmllZD0hMTtteENlbGxFZGl0b3IucHJvdG90eXBlLmF1dG9TaXplPSEwO214Q2VsbEVkaXRvci5wcm90b3R5cGUuc2VsZWN0VGV4dD0hMDtteENlbGxFZGl0b3IucHJvdG90eXBlLmVtcHR5TGFiZWxUZXh0PW14Q2xpZW50LklTX0ZGPyI8YnI+IjoiIjtteENlbGxFZGl0b3IucHJvdG90eXBlLmVzY2FwZUNhbmNlbHNFZGl0aW5nPSEwO214Q2VsbEVkaXRvci5wcm90b3R5cGUudGV4dE5vZGU9IiI7bXhDZWxsRWRpdG9yLnByb3RvdHlwZS56SW5kZXg9NTtteENlbGxFZGl0b3IucHJvdG90eXBlLm1pblJlc2l6ZT1uZXcgbXhSZWN0YW5nbGUoMCwyMCk7Cm14Q2VsbEVkaXRvci5wcm90b3R5cGUud29yZFdyYXBQYWRkaW5nPW14Q2xpZW50LklTX1FVSVJLUz8yOm14Q2xpZW50LklTX0lFMTE/MDoxO214Q2VsbEVkaXRvci5wcm90b3R5cGUuYmx1ckVuYWJsZWQ9ITE7bXhDZWxsRWRpdG9yLnByb3RvdHlwZS5pbml0aWFsVmFsdWU9bnVsbDtteENlbGxFZGl0b3IucHJvdG90eXBlLmFsaWduPW51bGw7bXhDZWxsRWRpdG9yLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKCl7dGhpcy50ZXh0YXJlYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTt0aGlzLnRleHRhcmVhLmNsYXNzTmFtZT0ibXhDZWxsRWRpdG9yIG14UGxhaW5UZXh0RWRpdG9yIjt0aGlzLnRleHRhcmVhLmNvbnRlbnRFZGl0YWJsZT0hMDtteENsaWVudC5JU19HQyYmKHRoaXMudGV4dGFyZWEuc3R5bGUubWluSGVpZ2h0PSIxZW0iKTt0aGlzLnRleHRhcmVhLnN0eWxlLnBvc2l0aW9uPXRoaXMuaXNMZWdhY3lFZGl0b3IoKT8iYWJzb2x1dGUiOiJyZWxhdGl2ZSI7dGhpcy5pbnN0YWxsTGlzdGVuZXJzKHRoaXMudGV4dGFyZWEpfTsKbXhDZWxsRWRpdG9yLnByb3RvdHlwZS5hcHBseVZhbHVlPWZ1bmN0aW9uKGEsYil7dGhpcy5ncmFwaC5sYWJlbENoYW5nZWQoYS5jZWxsLGIsdGhpcy50cmlnZ2VyKX07bXhDZWxsRWRpdG9yLnByb3RvdHlwZS5zZXRBbGlnbj1mdW5jdGlvbihhKXtudWxsIT10aGlzLnRleHRhcmVhJiYodGhpcy50ZXh0YXJlYS5zdHlsZS50ZXh0QWxpZ249YSk7dGhpcy5hbGlnbj1hO3RoaXMucmVzaXplKCl9OwpteENlbGxFZGl0b3IucHJvdG90eXBlLmdldEluaXRpYWxWYWx1ZT1mdW5jdGlvbihhLGIpe3ZhciBjPW14VXRpbHMuaHRtbEVudGl0aWVzKHRoaXMuZ3JhcGguZ2V0RWRpdGluZ1ZhbHVlKGEuY2VsbCxiKSwhMSk7bXhDbGllbnQuSVNfUVVJUktTfHw4PT1kb2N1bWVudC5kb2N1bWVudE1vZGV8fDk9PWRvY3VtZW50LmRvY3VtZW50TW9kZXx8MTA9PWRvY3VtZW50LmRvY3VtZW50TW9kZXx8KGM9bXhVdGlscy5yZXBsYWNlVHJhaWxpbmdOZXdsaW5lcyhjLCI8ZGl2Pjxicj48L2Rpdj4iKSk7cmV0dXJuIGMucmVwbGFjZSgvXG4vZywiPGJyPiIpfTtteENlbGxFZGl0b3IucHJvdG90eXBlLmdldEN1cnJlbnRWYWx1ZT1mdW5jdGlvbihhKXtyZXR1cm4gbXhVdGlscy5leHRyYWN0VGV4dFdpdGhXaGl0ZXNwYWNlKHRoaXMudGV4dGFyZWEuY2hpbGROb2Rlcyl9OwpteENlbGxFZGl0b3IucHJvdG90eXBlLmlzQ2FuY2VsRWRpdGluZ0tleUV2ZW50PWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVzY2FwZUNhbmNlbHNFZGl0aW5nfHxteEV2ZW50LmlzU2hpZnREb3duKGEpfHxteEV2ZW50LmlzQ29udHJvbERvd24oYSl8fG14RXZlbnQuaXNNZXRhRG93bihhKX07Cm14Q2VsbEVkaXRvci5wcm90b3R5cGUuaW5zdGFsbExpc3RlbmVycz1mdW5jdGlvbihhKXtteEV2ZW50LmFkZExpc3RlbmVyKGEsImRyYWdzdGFydCIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7dGhpcy5ncmFwaC5zdG9wRWRpdGluZyghMSk7bXhFdmVudC5jb25zdW1lKGEpfSkpO214RXZlbnQuYWRkTGlzdGVuZXIoYSwiYmx1ciIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7dGhpcy5ibHVyRW5hYmxlZCYmdGhpcy5mb2N1c0xvc3QoYSl9KSk7bXhFdmVudC5hZGRMaXN0ZW5lcihhLCJrZXlkb3duIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXtteEV2ZW50LmlzQ29uc3VtZWQoYSl8fCh0aGlzLmlzU3RvcEVkaXRpbmdFdmVudChhKT8odGhpcy5ncmFwaC5zdG9wRWRpdGluZyghMSksbXhFdmVudC5jb25zdW1lKGEpKToyNz09YS5rZXlDb2RlJiYodGhpcy5ncmFwaC5zdG9wRWRpdGluZyh0aGlzLmlzQ2FuY2VsRWRpdGluZ0tleUV2ZW50KGEpKSxteEV2ZW50LmNvbnN1bWUoYSkpKX0pKTsKdmFyIGI9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYil7bnVsbCE9dGhpcy5lZGl0aW5nQ2VsbCYmdGhpcy5jbGVhck9uQ2hhbmdlJiZhLmlubmVySFRNTD09dGhpcy5nZXRFbXB0eUxhYmVsVGV4dCgpJiYoIW14Q2xpZW50LklTX0ZGfHw4IT1iLmtleUNvZGUmJjQ2IT1iLmtleUNvZGUpJiYodGhpcy5jbGVhck9uQ2hhbmdlPSExLGEuaW5uZXJIVE1MPSIiKX0pO214RXZlbnQuYWRkTGlzdGVuZXIoYSwia2V5cHJlc3MiLGIpO214RXZlbnQuYWRkTGlzdGVuZXIoYSwicGFzdGUiLGIpO2I9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7bnVsbCE9dGhpcy5lZGl0aW5nQ2VsbCYmKDA9PXRoaXMudGV4dGFyZWEuaW5uZXJIVE1MLmxlbmd0aHx8Ijxicj4iPT10aGlzLnRleHRhcmVhLmlubmVySFRNTD8odGhpcy50ZXh0YXJlYS5pbm5lckhUTUw9dGhpcy5nZXRFbXB0eUxhYmVsVGV4dCgpLHRoaXMuY2xlYXJPbkNoYW5nZT0wPHRoaXMudGV4dGFyZWEuaW5uZXJIVE1MLmxlbmd0aCk6CnRoaXMuY2xlYXJPbkNoYW5nZT0hMSl9KTtteEV2ZW50LmFkZExpc3RlbmVyKGEsbXhDbGllbnQuSVNfSUUxMXx8bXhDbGllbnQuSVNfSUU/ImtleXVwIjoiaW5wdXQiLGIpO214RXZlbnQuYWRkTGlzdGVuZXIoYSwiY3V0IixiKTtteEV2ZW50LmFkZExpc3RlbmVyKGEsInBhc3RlIixiKTt2YXIgYj1teENsaWVudC5JU19JRTExfHxteENsaWVudC5JU19JRT8ia2V5ZG93biI6ImlucHV0IixjPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe251bGwhPXRoaXMuZWRpdGluZ0NlbGwmJnRoaXMuYXV0b1NpemUmJiFteEV2ZW50LmlzQ29uc3VtZWQoYSkmJihudWxsIT10aGlzLnJlc2l6ZVRocmVhZCYmd2luZG93LmNsZWFyVGltZW91dCh0aGlzLnJlc2l6ZVRocmVhZCksdGhpcy5yZXNpemVUaHJlYWQ9d2luZG93LnNldFRpbWVvdXQobXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt0aGlzLnJlc2l6ZVRocmVhZD1udWxsO3RoaXMucmVzaXplKCl9KSwwKSl9KTtteEV2ZW50LmFkZExpc3RlbmVyKGEsCmIsYyk7bXhFdmVudC5hZGRMaXN0ZW5lcih3aW5kb3csInJlc2l6ZSIsYyk7OTw9ZG9jdW1lbnQuZG9jdW1lbnRNb2RlPyhteEV2ZW50LmFkZExpc3RlbmVyKGEsIkRPTU5vZGVSZW1vdmVkIixjKSxteEV2ZW50LmFkZExpc3RlbmVyKGEsIkRPTU5vZGVJbnNlcnRlZCIsYykpOihteEV2ZW50LmFkZExpc3RlbmVyKGEsImN1dCIsYyksbXhFdmVudC5hZGRMaXN0ZW5lcihhLCJwYXN0ZSIsYykpfTtteENlbGxFZGl0b3IucHJvdG90eXBlLmlzU3RvcEVkaXRpbmdFdmVudD1mdW5jdGlvbihhKXtyZXR1cm4gMTEzPT1hLmtleUNvZGV8fHRoaXMuZ3JhcGguaXNFbnRlclN0b3BzQ2VsbEVkaXRpbmcoKSYmMTM9PWEua2V5Q29kZSYmIW14RXZlbnQuaXNDb250cm9sRG93bihhKSYmIW14RXZlbnQuaXNTaGlmdERvd24oYSl9O214Q2VsbEVkaXRvci5wcm90b3R5cGUuaXNFdmVudFNvdXJjZT1mdW5jdGlvbihhKXtyZXR1cm4gbXhFdmVudC5nZXRTb3VyY2UoYSk9PXRoaXMudGV4dGFyZWF9OwpteENlbGxFZGl0b3IucHJvdG90eXBlLnJlc2l6ZT1mdW5jdGlvbigpe3ZhciBhPXRoaXMuZ3JhcGguZ2V0VmlldygpLmdldFN0YXRlKHRoaXMuZWRpdGluZ0NlbGwpO2lmKG51bGw9PWEpdGhpcy5zdG9wRWRpdGluZyghMCk7ZWxzZSBpZihudWxsIT10aGlzLnRleHRhcmVhKXt2YXIgYj10aGlzLmdyYXBoLmdldE1vZGVsKCkuaXNFZGdlKGEuY2VsbCksYz10aGlzLmdyYXBoLmdldFZpZXcoKS5zY2FsZSxkPW51bGw7aWYodGhpcy5hdXRvU2l6ZSYmImZpbGwiIT1hLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX09WRVJGTE9XXSl7dmFyIGU9bXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0xBQkVMX1dJRFRILG51bGwpLGQ9bnVsbCE9YS50ZXh0JiZudWxsPT10aGlzLmFsaWduP2EudGV4dC5tYXJnaW46bnVsbDtudWxsPT1kJiYoZD1teFV0aWxzLmdldEFsaWdubWVudEFzUG9pbnQodGhpcy5hbGlnbnx8bXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0FMSUdOLApteENvbnN0YW50cy5BTElHTl9DRU5URVIpLG14VXRpbHMuZ2V0VmFsdWUoYS5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9WRVJUSUNBTF9BTElHTixteENvbnN0YW50cy5BTElHTl9NSURETEUpKSk7aWYoYil0aGlzLmJvdW5kcz1uZXcgbXhSZWN0YW5nbGUoYS5hYnNvbHV0ZU9mZnNldC54LGEuYWJzb2x1dGVPZmZzZXQueSwwLDApLG51bGwhPWUmJihlPShwYXJzZUZsb2F0KGUpKzIpKmMsdGhpcy5ib3VuZHMud2lkdGg9ZSx0aGlzLmJvdW5kcy54Kz1kLngqZSk7ZWxzZXt2YXIgYj1teFJlY3RhbmdsZS5mcm9tUmVjdGFuZ2xlKGEpLGY9bXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0xBQkVMX1BPU0lUSU9OLG14Q29uc3RhbnRzLkFMSUdOX0NFTlRFUiksZz1teFV0aWxzLmdldFZhbHVlKGEuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfVkVSVElDQUxfTEFCRUxfUE9TSVRJT04sbXhDb25zdGFudHMuQUxJR05fTUlERExFKSxiPW51bGwhPWEuc2hhcGUmJmY9PQpteENvbnN0YW50cy5BTElHTl9DRU5URVImJmc9PW14Q29uc3RhbnRzLkFMSUdOX01JRERMRT9hLnNoYXBlLmdldExhYmVsQm91bmRzKGIpOmI7bnVsbCE9ZSYmKGIud2lkdGg9cGFyc2VGbG9hdChlKSpjKTtpZighYS52aWV3LmdyYXBoLmNlbGxSZW5kZXJlci5sZWdhY3lTcGFjaW5nfHwid2lkdGgiIT1hLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX09WRVJGTE9XXSl2YXIgZj1wYXJzZUludChhLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX1NQQUNJTkddfHwyKSpjLGs9KHBhcnNlSW50KGEuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfU1BBQ0lOR19UT1BdfHwwKStteFRleHQucHJvdG90eXBlLmJhc2VTcGFjaW5nVG9wKSpjK2YsbD0ocGFyc2VJbnQoYS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9TUEFDSU5HX1JJR0hUXXx8MCkrbXhUZXh0LnByb3RvdHlwZS5iYXNlU3BhY2luZ1JpZ2h0KSpjK2YsbT0ocGFyc2VJbnQoYS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9TUEFDSU5HX0JPVFRPTV18fAowKStteFRleHQucHJvdG90eXBlLmJhc2VTcGFjaW5nQm90dG9tKSpjK2Ysbj0ocGFyc2VJbnQoYS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9TUEFDSU5HX0xFRlRdfHwwKStteFRleHQucHJvdG90eXBlLmJhc2VTcGFjaW5nTGVmdCkqYytmLGY9bXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0xBQkVMX1BPU0lUSU9OLG14Q29uc3RhbnRzLkFMSUdOX0NFTlRFUiksZz1teFV0aWxzLmdldFZhbHVlKGEuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfVkVSVElDQUxfTEFCRUxfUE9TSVRJT04sbXhDb25zdGFudHMuQUxJR05fTUlERExFKSxiPW5ldyBteFJlY3RhbmdsZShiLngrbixiLnkrayxiLndpZHRoLShmPT1teENvbnN0YW50cy5BTElHTl9DRU5URVImJm51bGw9PWU/bitsOjApLGIuaGVpZ2h0LShnPT1teENvbnN0YW50cy5BTElHTl9NSURETEU/ayttOjApKTt0aGlzLmJvdW5kcz1uZXcgbXhSZWN0YW5nbGUoYi54K2EuYWJzb2x1dGVPZmZzZXQueCxiLnkrCmEuYWJzb2x1dGVPZmZzZXQueSxiLndpZHRoLGIuaGVpZ2h0KX10aGlzLmdyYXBoLmlzV3JhcHBpbmcoYS5jZWxsKSYmKDI8PXRoaXMuYm91bmRzLndpZHRofHwyPD10aGlzLmJvdW5kcy5oZWlnaHQpJiZ0aGlzLnRleHRhcmVhLmlubmVySFRNTCE9dGhpcy5nZXRFbXB0eUxhYmVsVGV4dCgpPyh0aGlzLnRleHRhcmVhLnN0eWxlLndvcmRXcmFwPW14Q29uc3RhbnRzLldPUkRfV1JBUCx0aGlzLnRleHRhcmVhLnN0eWxlLndoaXRlU3BhY2U9Im5vcm1hbCIsZT1NYXRoLnJvdW5kKHRoaXMuYm91bmRzLndpZHRoL2MpK3RoaXMud29yZFdyYXBQYWRkaW5nLCJyZWxhdGl2ZSIhPXRoaXMudGV4dGFyZWEuc3R5bGUucG9zaXRpb24/KHRoaXMudGV4dGFyZWEuc3R5bGUud2lkdGg9ZSsicHgiLHRoaXMudGV4dGFyZWEuc2Nyb2xsV2lkdGg+ZSYmKHRoaXMudGV4dGFyZWEuc3R5bGUud2lkdGg9dGhpcy50ZXh0YXJlYS5zY3JvbGxXaWR0aCsicHgiKSk6dGhpcy50ZXh0YXJlYS5zdHlsZS5tYXhXaWR0aD0KZSsicHgiKToodGhpcy50ZXh0YXJlYS5zdHlsZS53aGl0ZVNwYWNlPSJub3dyYXAiLHRoaXMudGV4dGFyZWEuc3R5bGUud2lkdGg9IiIpOzg9PWRvY3VtZW50LmRvY3VtZW50TW9kZSYmKHRoaXMudGV4dGFyZWEuc3R5bGUuem9vbT0iMSIsdGhpcy50ZXh0YXJlYS5zdHlsZS5oZWlnaHQ9ImF1dG8iKTthPXRoaXMudGV4dGFyZWEuc2Nyb2xsV2lkdGg7ZT10aGlzLnRleHRhcmVhLnNjcm9sbEhlaWdodDs4PT1kb2N1bWVudC5kb2N1bWVudE1vZGU/KHRoaXMudGV4dGFyZWEuc3R5bGUubGVmdD1NYXRoLm1heCgwLE1hdGguY2VpbCgodGhpcy5ib3VuZHMueC1kLngqKHRoaXMuYm91bmRzLndpZHRoLShhKzEpKmMpK2EqKGMtMSkqMCsyKihkLngrLjUpKS9jKSkrInB4Iix0aGlzLnRleHRhcmVhLnN0eWxlLnRvcD1NYXRoLm1heCgwLE1hdGguY2VpbCgodGhpcy5ib3VuZHMueS1kLnkqKHRoaXMuYm91bmRzLmhlaWdodC0oZSsuNSkqYykrZSooYy0xKSowKzEqTWF0aC5hYnMoZC55Ky41KSkvCmMpKSsicHgiLHRoaXMudGV4dGFyZWEuc3R5bGUud2lkdGg9TWF0aC5yb3VuZChhKmMpKyJweCIsdGhpcy50ZXh0YXJlYS5zdHlsZS5oZWlnaHQ9TWF0aC5yb3VuZChlKmMpKyJweCIpOm14Q2xpZW50LklTX1FVSVJLUz8odGhpcy50ZXh0YXJlYS5zdHlsZS5sZWZ0PU1hdGgubWF4KDAsTWF0aC5jZWlsKHRoaXMuYm91bmRzLngtZC54Kih0aGlzLmJvdW5kcy53aWR0aC0oYSsxKSpjKSthKihjLTEpKjArMiooZC54Ky41KSkpKyJweCIsdGhpcy50ZXh0YXJlYS5zdHlsZS50b3A9TWF0aC5tYXgoMCxNYXRoLmNlaWwodGhpcy5ib3VuZHMueS1kLnkqKHRoaXMuYm91bmRzLmhlaWdodC0oZSsuNSkqYykrZSooYy0xKSowKzEqTWF0aC5hYnMoZC55Ky41KSkpKyJweCIpOih0aGlzLnRleHRhcmVhLnN0eWxlLmxlZnQ9TWF0aC5tYXgoMCxNYXRoLnJvdW5kKHRoaXMuYm91bmRzLngtZC54Kih0aGlzLmJvdW5kcy53aWR0aC0yKSkrMSkrInB4Iix0aGlzLnRleHRhcmVhLnN0eWxlLnRvcD1NYXRoLm1heCgwLApNYXRoLnJvdW5kKHRoaXMuYm91bmRzLnktZC55Kih0aGlzLmJvdW5kcy5oZWlnaHQtNCkrKC0xPT1kLnk/MzowKSkrMSkrInB4Iil9ZWxzZSB0aGlzLmJvdW5kcz10aGlzLmdldEVkaXRvckJvdW5kcyhhKSx0aGlzLnRleHRhcmVhLnN0eWxlLndpZHRoPU1hdGgucm91bmQodGhpcy5ib3VuZHMud2lkdGgvYykrInB4Iix0aGlzLnRleHRhcmVhLnN0eWxlLmhlaWdodD1NYXRoLnJvdW5kKHRoaXMuYm91bmRzLmhlaWdodC9jKSsicHgiLDg9PWRvY3VtZW50LmRvY3VtZW50TW9kZXx8bXhDbGllbnQuSVNfUVVJUktTPyh0aGlzLnRleHRhcmVhLnN0eWxlLmxlZnQ9TWF0aC5yb3VuZCh0aGlzLmJvdW5kcy54KSsicHgiLHRoaXMudGV4dGFyZWEuc3R5bGUudG9wPU1hdGgucm91bmQodGhpcy5ib3VuZHMueSkrInB4Iik6KHRoaXMudGV4dGFyZWEuc3R5bGUubGVmdD1NYXRoLm1heCgwLE1hdGgucm91bmQodGhpcy5ib3VuZHMueCsxKSkrInB4Iix0aGlzLnRleHRhcmVhLnN0eWxlLnRvcD1NYXRoLm1heCgwLApNYXRoLnJvdW5kKHRoaXMuYm91bmRzLnkrMSkpKyJweCIpLHRoaXMuZ3JhcGguaXNXcmFwcGluZyhhLmNlbGwpJiYoMjw9dGhpcy5ib3VuZHMud2lkdGh8fDI8PXRoaXMuYm91bmRzLmhlaWdodCkmJnRoaXMudGV4dGFyZWEuaW5uZXJIVE1MIT10aGlzLmdldEVtcHR5TGFiZWxUZXh0KCk/KHRoaXMudGV4dGFyZWEuc3R5bGUud29yZFdyYXA9bXhDb25zdGFudHMuV09SRF9XUkFQLHRoaXMudGV4dGFyZWEuc3R5bGUud2hpdGVTcGFjZT0ibm9ybWFsIiwiZmlsbCIhPWEuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfT1ZFUkZMT1ddJiYodGhpcy50ZXh0YXJlYS5zdHlsZS53aWR0aD1NYXRoLnJvdW5kKHRoaXMuYm91bmRzLndpZHRoL2MpK3RoaXMud29yZFdyYXBQYWRkaW5nKyJweCIpKToodGhpcy50ZXh0YXJlYS5zdHlsZS53aGl0ZVNwYWNlPSJub3dyYXAiLCJmaWxsIiE9YS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9PVkVSRkxPV10mJih0aGlzLnRleHRhcmVhLnN0eWxlLndpZHRoPSIiKSk7Cm14Q2xpZW50LklTX1ZNTD90aGlzLnRleHRhcmVhLnN0eWxlLnpvb209YzoobXhVdGlscy5zZXRQcmVmaXhlZFN0eWxlKHRoaXMudGV4dGFyZWEuc3R5bGUsInRyYW5zZm9ybU9yaWdpbiIsIjBweCAwcHgiKSxteFV0aWxzLnNldFByZWZpeGVkU3R5bGUodGhpcy50ZXh0YXJlYS5zdHlsZSwidHJhbnNmb3JtIiwic2NhbGUoIitjKyIsIitjKyIpIisobnVsbD09ZD8iIjoiIHRyYW5zbGF0ZSgiKzEwMCpkLngrIiUsIisxMDAqZC55KyIlKSIpKSl9fTtteENlbGxFZGl0b3IucHJvdG90eXBlLmZvY3VzTG9zdD1mdW5jdGlvbigpe3RoaXMuc3RvcEVkaXRpbmcoIXRoaXMuZ3JhcGguaXNJbnZva2VzU3RvcENlbGxFZGl0aW5nKCkpfTtteENlbGxFZGl0b3IucHJvdG90eXBlLmdldEJhY2tncm91bmRDb2xvcj1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbH07Cm14Q2VsbEVkaXRvci5wcm90b3R5cGUuaXNMZWdhY3lFZGl0b3I9ZnVuY3Rpb24oKXtpZihteENsaWVudC5JU19WTUwpcmV0dXJuITA7dmFyIGE9ITE7aWYobXhDbGllbnQuSVNfU1ZHKXt2YXIgYj10aGlzLmdyYXBoLnZpZXcuZ2V0RHJhd1BhbmUoKS5vd25lclNWR0VsZW1lbnQ7bnVsbCE9YiYmKGI9bXhVdGlscy5nZXRDdXJyZW50U3R5bGUoYiksbnVsbCE9YiYmKGE9ImFic29sdXRlIj09Yi5wb3NpdGlvbikpfXJldHVybiFhfTsKbXhDZWxsRWRpdG9yLnByb3RvdHlwZS5zdGFydEVkaXRpbmc9ZnVuY3Rpb24oYSxiKXt0aGlzLnN0b3BFZGl0aW5nKCEwKTt0aGlzLmFsaWduPW51bGw7bnVsbD09dGhpcy50ZXh0YXJlYSYmdGhpcy5pbml0KCk7bnVsbCE9dGhpcy5ncmFwaC50b29sdGlwSGFuZGxlciYmdGhpcy5ncmFwaC50b29sdGlwSGFuZGxlci5oaWRlVG9vbHRpcCgpO3ZhciBjPXRoaXMuZ3JhcGguZ2V0VmlldygpLmdldFN0YXRlKGEpO2lmKG51bGwhPWMpe3RoaXMuZ3JhcGguZ2V0VmlldygpO3ZhciBkPW14VXRpbHMuZ2V0VmFsdWUoYy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9GT05UU0laRSxteENvbnN0YW50cy5ERUZBVUxUX0ZPTlRTSVpFKSxlPW14VXRpbHMuZ2V0VmFsdWUoYy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9GT05URkFNSUxZLG14Q29uc3RhbnRzLkRFRkFVTFRfRk9OVEZBTUlMWSksZj1teFV0aWxzLmdldFZhbHVlKGMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfRk9OVENPTE9SLCJibGFjayIpLApnPW14VXRpbHMuZ2V0VmFsdWUoYy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9BTElHTixteENvbnN0YW50cy5BTElHTl9MRUZUKSxrPShteFV0aWxzLmdldFZhbHVlKGMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfRk9OVFNUWUxFLDApJm14Q29uc3RhbnRzLkZPTlRfQk9MRCk9PW14Q29uc3RhbnRzLkZPTlRfQk9MRCxsPShteFV0aWxzLmdldFZhbHVlKGMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfRk9OVFNUWUxFLDApJm14Q29uc3RhbnRzLkZPTlRfSVRBTElDKT09bXhDb25zdGFudHMuRk9OVF9JVEFMSUMsbT1bXTsobXhVdGlscy5nZXRWYWx1ZShjLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0ZPTlRTVFlMRSwwKSZteENvbnN0YW50cy5GT05UX1VOREVSTElORSk9PW14Q29uc3RhbnRzLkZPTlRfVU5ERVJMSU5FJiZtLnB1c2goInVuZGVybGluZSIpOyhteFV0aWxzLmdldFZhbHVlKGMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfRk9OVFNUWUxFLDApJm14Q29uc3RhbnRzLkZPTlRfU1RSSUtFVEhST1VHSCk9PQpteENvbnN0YW50cy5GT05UX1NUUklLRVRIUk9VR0gmJm0ucHVzaCgibGluZS10aHJvdWdoIik7dGhpcy50ZXh0YXJlYS5zdHlsZS5saW5lSGVpZ2h0PW14Q29uc3RhbnRzLkFCU09MVVRFX0xJTkVfSEVJR0hUP01hdGgucm91bmQoZCpteENvbnN0YW50cy5MSU5FX0hFSUdIVCkrInB4IjpteENvbnN0YW50cy5MSU5FX0hFSUdIVDt0aGlzLnRleHRhcmVhLnN0eWxlLmJhY2tncm91bmRDb2xvcj10aGlzLmdldEJhY2tncm91bmRDb2xvcihjKTt0aGlzLnRleHRhcmVhLnN0eWxlLnRleHREZWNvcmF0aW9uPW0uam9pbigiICIpO3RoaXMudGV4dGFyZWEuc3R5bGUuZm9udFdlaWdodD1rPyJib2xkIjoibm9ybWFsIjt0aGlzLnRleHRhcmVhLnN0eWxlLmZvbnRTdHlsZT1sPyJpdGFsaWMiOiIiO3RoaXMudGV4dGFyZWEuc3R5bGUuZm9udFNpemU9TWF0aC5yb3VuZChkKSsicHgiO3RoaXMudGV4dGFyZWEuc3R5bGUuekluZGV4PXRoaXMuekluZGV4O3RoaXMudGV4dGFyZWEuc3R5bGUuZm9udEZhbWlseT0KZTt0aGlzLnRleHRhcmVhLnN0eWxlLnRleHRBbGlnbj1nO3RoaXMudGV4dGFyZWEuc3R5bGUub3V0bGluZT0ibm9uZSI7dGhpcy50ZXh0YXJlYS5zdHlsZS5jb2xvcj1mO2Q9dGhpcy50ZXh0RGlyZWN0aW9uPW14VXRpbHMuZ2V0VmFsdWUoYy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9URVhUX0RJUkVDVElPTixteENvbnN0YW50cy5ERUZBVUxUX1RFWFRfRElSRUNUSU9OKTtkPT1teENvbnN0YW50cy5URVhUX0RJUkVDVElPTl9BVVRPJiYobnVsbD09Y3x8bnVsbD09Yy50ZXh0fHxjLnRleHQuZGlhbGVjdD09bXhDb25zdGFudHMuRElBTEVDVF9TVFJJQ1RIVE1MfHxteFV0aWxzLmlzTm9kZShjLnRleHQudmFsdWUpfHwoZD1jLnRleHQuZ2V0QXV0b0RpcmVjdGlvbigpKSk7ZD09bXhDb25zdGFudHMuVEVYVF9ESVJFQ1RJT05fTFRSfHxkPT1teENvbnN0YW50cy5URVhUX0RJUkVDVElPTl9SVEw/dGhpcy50ZXh0YXJlYS5zZXRBdHRyaWJ1dGUoImRpciIsZCk6dGhpcy50ZXh0YXJlYS5yZW1vdmVBdHRyaWJ1dGUoImRpciIpOwp0aGlzLnRleHRhcmVhLmlubmVySFRNTD10aGlzLmdldEluaXRpYWxWYWx1ZShjLGIpfHwiIjt0aGlzLmluaXRpYWxWYWx1ZT10aGlzLnRleHRhcmVhLmlubmVySFRNTDswPT10aGlzLnRleHRhcmVhLmlubmVySFRNTC5sZW5ndGh8fCI8YnI+Ij09dGhpcy50ZXh0YXJlYS5pbm5lckhUTUw/KHRoaXMudGV4dGFyZWEuaW5uZXJIVE1MPXRoaXMuZ2V0RW1wdHlMYWJlbFRleHQoKSx0aGlzLmNsZWFyT25DaGFuZ2U9ITApOnRoaXMuY2xlYXJPbkNoYW5nZT10aGlzLnRleHRhcmVhLmlubmVySFRNTD09dGhpcy5nZXRFbXB0eUxhYmVsVGV4dCgpO3RoaXMuZ3JhcGguY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMudGV4dGFyZWEpO3RoaXMuZWRpdGluZ0NlbGw9YTt0aGlzLnRyaWdnZXI9Yjt0aGlzLnRleHROb2RlPW51bGw7bnVsbCE9Yy50ZXh0JiZ0aGlzLmlzSGlkZUxhYmVsKGMpJiYodGhpcy50ZXh0Tm9kZT1jLnRleHQubm9kZSx0aGlzLnRleHROb2RlLnN0eWxlLnZpc2liaWxpdHk9ImhpZGRlbiIpOwp0aGlzLmF1dG9TaXplJiYodGhpcy5ncmFwaC5tb2RlbC5pc0VkZ2UoYy5jZWxsKXx8ImZpbGwiIT1jLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX09WRVJGTE9XXSkmJndpbmRvdy5zZXRUaW1lb3V0KG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dGhpcy5yZXNpemUoKX0pLDApO3RoaXMucmVzaXplKCk7dHJ5e3RoaXMudGV4dGFyZWEuZm9jdXMoKSx0aGlzLmlzU2VsZWN0VGV4dCgpJiYwPHRoaXMudGV4dGFyZWEuaW5uZXJIVE1MLmxlbmd0aCYmKHRoaXMudGV4dGFyZWEuaW5uZXJIVE1MIT10aGlzLmdldEVtcHR5TGFiZWxUZXh0KCl8fCF0aGlzLmNsZWFyT25DaGFuZ2UpJiZkb2N1bWVudC5leGVjQ29tbWFuZCgic2VsZWN0QWxsIiwhMSxudWxsKX1jYXRjaChuKXt9fX07bXhDZWxsRWRpdG9yLnByb3RvdHlwZS5pc1NlbGVjdFRleHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZWxlY3RUZXh0fTsKbXhDZWxsRWRpdG9yLnByb3RvdHlwZS5jbGVhclNlbGVjdGlvbj1mdW5jdGlvbigpe3ZhciBhPW51bGw7d2luZG93LmdldFNlbGVjdGlvbj9hPXdpbmRvdy5nZXRTZWxlY3Rpb24oKTpkb2N1bWVudC5zZWxlY3Rpb24mJihhPWRvY3VtZW50LnNlbGVjdGlvbik7bnVsbCE9YSYmKGEuZW1wdHk/YS5lbXB0eSgpOmEucmVtb3ZlQWxsUmFuZ2VzJiZhLnJlbW92ZUFsbFJhbmdlcygpKX07Cm14Q2VsbEVkaXRvci5wcm90b3R5cGUuc3RvcEVkaXRpbmc9ZnVuY3Rpb24oYSl7aWYobnVsbCE9dGhpcy5lZGl0aW5nQ2VsbCl7bnVsbCE9dGhpcy50ZXh0Tm9kZSYmKHRoaXMudGV4dE5vZGUuc3R5bGUudmlzaWJpbGl0eT0idmlzaWJsZSIsdGhpcy50ZXh0Tm9kZT1udWxsKTthPWE/bnVsbDp0aGlzLmdyYXBoLnZpZXcuZ2V0U3RhdGUodGhpcy5lZGl0aW5nQ2VsbCk7dmFyIGI9dGhpcy5pbml0aWFsVmFsdWU7dGhpcy5ib3VuZHM9dGhpcy50cmlnZ2VyPXRoaXMuZWRpdGluZ0NlbGw9dGhpcy5pbml0aWFsVmFsdWU9bnVsbDt0aGlzLnRleHRhcmVhLmJsdXIoKTt0aGlzLmNsZWFyU2VsZWN0aW9uKCk7bnVsbCE9dGhpcy50ZXh0YXJlYS5wYXJlbnROb2RlJiZ0aGlzLnRleHRhcmVhLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy50ZXh0YXJlYSk7dGhpcy5jbGVhck9uQ2hhbmdlJiZ0aGlzLnRleHRhcmVhLmlubmVySFRNTD09dGhpcy5nZXRFbXB0eUxhYmVsVGV4dCgpJiYodGhpcy50ZXh0YXJlYS5pbm5lckhUTUw9CiIiLHRoaXMuY2xlYXJPbkNoYW5nZT0hMSk7aWYobnVsbCE9YSYmKHRoaXMudGV4dGFyZWEuaW5uZXJIVE1MIT1ifHxudWxsIT10aGlzLmFsaWduKSl7dGhpcy5wcmVwYXJlVGV4dGFyZWEoKTtiPXRoaXMuZ2V0Q3VycmVudFZhbHVlKGEpO3RoaXMuZ3JhcGguZ2V0TW9kZWwoKS5iZWdpblVwZGF0ZSgpO3RyeXtudWxsIT1iJiZ0aGlzLmFwcGx5VmFsdWUoYSxiKSxudWxsIT10aGlzLmFsaWduJiZ0aGlzLmdyYXBoLnNldENlbGxTdHlsZXMobXhDb25zdGFudHMuU1RZTEVfQUxJR04sdGhpcy5hbGlnbixbYS5jZWxsXSl9ZmluYWxseXt0aGlzLmdyYXBoLmdldE1vZGVsKCkuZW5kVXBkYXRlKCl9fW14RXZlbnQucmVsZWFzZSh0aGlzLnRleHRhcmVhKTt0aGlzLmFsaWduPXRoaXMudGV4dGFyZWE9bnVsbH19OwpteENlbGxFZGl0b3IucHJvdG90eXBlLnByZXBhcmVUZXh0YXJlYT1mdW5jdGlvbigpe251bGwhPXRoaXMudGV4dGFyZWEubGFzdENoaWxkJiYiQlIiPT10aGlzLnRleHRhcmVhLmxhc3RDaGlsZC5ub2RlTmFtZSYmdGhpcy50ZXh0YXJlYS5yZW1vdmVDaGlsZCh0aGlzLnRleHRhcmVhLmxhc3RDaGlsZCl9O214Q2VsbEVkaXRvci5wcm90b3R5cGUuaXNIaWRlTGFiZWw9ZnVuY3Rpb24oYSl7cmV0dXJuITB9O214Q2VsbEVkaXRvci5wcm90b3R5cGUuZ2V0TWluaW11bVNpemU9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5ncmFwaC5nZXRWaWV3KCkuc2NhbGU7cmV0dXJuIG5ldyBteFJlY3RhbmdsZSgwLDAsbnVsbD09YS50ZXh0PzMwOmEudGV4dC5zaXplKmIrMjAsImxlZnQiPT10aGlzLnRleHRhcmVhLnN0eWxlLnRleHRBbGlnbj8xMjA6NDApfTsKbXhDZWxsRWRpdG9yLnByb3RvdHlwZS5nZXRFZGl0b3JCb3VuZHM9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5ncmFwaC5nZXRNb2RlbCgpLmlzRWRnZShhLmNlbGwpLGM9dGhpcy5ncmFwaC5nZXRWaWV3KCkuc2NhbGUsZD10aGlzLmdldE1pbmltdW1TaXplKGEpLGU9ZC53aWR0aCxkPWQuaGVpZ2h0O2lmKCFiJiZhLnZpZXcuZ3JhcGguY2VsbFJlbmRlcmVyLmxlZ2FjeVNwYWNpbmcmJiJmaWxsIj09YS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9PVkVSRkxPV10pYz1hLnNoYXBlLmdldExhYmVsQm91bmRzKG14UmVjdGFuZ2xlLmZyb21SZWN0YW5nbGUoYSkpO2Vsc2V7dmFyIGY9cGFyc2VJbnQoYS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9TUEFDSU5HXXx8MCkqYyxnPShwYXJzZUludChhLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX1NQQUNJTkdfVE9QXXx8MCkrbXhUZXh0LnByb3RvdHlwZS5iYXNlU3BhY2luZ1RvcCkqYytmLGs9KHBhcnNlSW50KGEuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfU1BBQ0lOR19SSUdIVF18fAowKStteFRleHQucHJvdG90eXBlLmJhc2VTcGFjaW5nUmlnaHQpKmMrZixsPShwYXJzZUludChhLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX1NQQUNJTkdfQk9UVE9NXXx8MCkrbXhUZXh0LnByb3RvdHlwZS5iYXNlU3BhY2luZ0JvdHRvbSkqYytmLGY9KHBhcnNlSW50KGEuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfU1BBQ0lOR19MRUZUXXx8MCkrbXhUZXh0LnByb3RvdHlwZS5iYXNlU3BhY2luZ0xlZnQpKmMrZixjPW5ldyBteFJlY3RhbmdsZShhLngsYS55LE1hdGgubWF4KGUsYS53aWR0aC1mLWspLE1hdGgubWF4KGQsYS5oZWlnaHQtZy1sKSksaz1teFV0aWxzLmdldFZhbHVlKGEuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfTEFCRUxfUE9TSVRJT04sbXhDb25zdGFudHMuQUxJR05fQ0VOVEVSKSxsPW14VXRpbHMuZ2V0VmFsdWUoYS5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9WRVJUSUNBTF9MQUJFTF9QT1NJVElPTixteENvbnN0YW50cy5BTElHTl9NSURETEUpLGM9bnVsbCE9YS5zaGFwZSYmCms9PW14Q29uc3RhbnRzLkFMSUdOX0NFTlRFUiYmbD09bXhDb25zdGFudHMuQUxJR05fTUlERExFP2Euc2hhcGUuZ2V0TGFiZWxCb3VuZHMoYyk6YztiPyhjLng9YS5hYnNvbHV0ZU9mZnNldC54LGMueT1hLmFic29sdXRlT2Zmc2V0LnksbnVsbCE9YS50ZXh0JiZudWxsIT1hLnRleHQuYm91bmRpbmdCb3gmJigwPGEudGV4dC5ib3VuZGluZ0JveC54JiYoYy54PWEudGV4dC5ib3VuZGluZ0JveC54KSwwPGEudGV4dC5ib3VuZGluZ0JveC55JiYoYy55PWEudGV4dC5ib3VuZGluZ0JveC55KSkpOm51bGwhPWEudGV4dCYmbnVsbCE9YS50ZXh0LmJvdW5kaW5nQm94JiYoYy54PU1hdGgubWluKGMueCxhLnRleHQuYm91bmRpbmdCb3gueCksYy55PU1hdGgubWluKGMueSxhLnRleHQuYm91bmRpbmdCb3gueSkpO2MueCs9ZjtjLnkrPWc7bnVsbCE9YS50ZXh0JiZudWxsIT1hLnRleHQuYm91bmRpbmdCb3gmJihiPyhjLndpZHRoPU1hdGgubWF4KGUsYS50ZXh0LmJvdW5kaW5nQm94LndpZHRoKSwKYy5oZWlnaHQ9TWF0aC5tYXgoZCxhLnRleHQuYm91bmRpbmdCb3guaGVpZ2h0KSk6KGMud2lkdGg9TWF0aC5tYXgoYy53aWR0aCxhLnRleHQuYm91bmRpbmdCb3gud2lkdGgpLGMuaGVpZ2h0PU1hdGgubWF4KGMuaGVpZ2h0LGEudGV4dC5ib3VuZGluZ0JveC5oZWlnaHQpKSk7dGhpcy5ncmFwaC5nZXRNb2RlbCgpLmlzVmVydGV4KGEuY2VsbCkmJihiPW14VXRpbHMuZ2V0VmFsdWUoYS5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9MQUJFTF9QT1NJVElPTixteENvbnN0YW50cy5BTElHTl9DRU5URVIpLGI9PW14Q29uc3RhbnRzLkFMSUdOX0xFRlQ/Yy54LT1hLndpZHRoOmI9PW14Q29uc3RhbnRzLkFMSUdOX1JJR0hUJiYoYy54Kz1hLndpZHRoKSxiPW14VXRpbHMuZ2V0VmFsdWUoYS5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9WRVJUSUNBTF9MQUJFTF9QT1NJVElPTixteENvbnN0YW50cy5BTElHTl9NSURETEUpLGI9PW14Q29uc3RhbnRzLkFMSUdOX1RPUD9jLnktPWEuaGVpZ2h0OmI9PQpteENvbnN0YW50cy5BTElHTl9CT1RUT00mJihjLnkrPWEuaGVpZ2h0KSl9cmV0dXJuIG5ldyBteFJlY3RhbmdsZShNYXRoLnJvdW5kKGMueCksTWF0aC5yb3VuZChjLnkpLE1hdGgucm91bmQoYy53aWR0aCksTWF0aC5yb3VuZChjLmhlaWdodCkpfTtteENlbGxFZGl0b3IucHJvdG90eXBlLmdldEVtcHR5TGFiZWxUZXh0PWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVtcHR5TGFiZWxUZXh0fTtteENlbGxFZGl0b3IucHJvdG90eXBlLmdldEVkaXRpbmdDZWxsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWRpdGluZ0NlbGx9OwpteENlbGxFZGl0b3IucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXtudWxsIT10aGlzLnRleHRhcmVhJiYobXhFdmVudC5yZWxlYXNlKHRoaXMudGV4dGFyZWEpLG51bGwhPXRoaXMudGV4dGFyZWEucGFyZW50Tm9kZSYmdGhpcy50ZXh0YXJlYS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMudGV4dGFyZWEpLHRoaXMudGV4dGFyZWE9bnVsbCk7bnVsbCE9dGhpcy5jaGFuZ2VIYW5kbGVyJiYodGhpcy5ncmFwaC5nZXRNb2RlbCgpLnJlbW92ZUxpc3RlbmVyKHRoaXMuY2hhbmdlSGFuZGxlciksdGhpcy5jaGFuZ2VIYW5kbGVyPW51bGwpO3RoaXMuem9vbUhhbmRsZXImJih0aGlzLmdyYXBoLnZpZXcucmVtb3ZlTGlzdGVuZXIodGhpcy56b29tSGFuZGxlciksdGhpcy56b29tSGFuZGxlcj1udWxsKX07ZnVuY3Rpb24gbXhDZWxsUmVuZGVyZXIoKXt9bXhDZWxsUmVuZGVyZXIuZGVmYXVsdFNoYXBlcz17fTsKbXhDZWxsUmVuZGVyZXIucHJvdG90eXBlLmRlZmF1bHRFZGdlU2hhcGU9bXhDb25uZWN0b3I7bXhDZWxsUmVuZGVyZXIucHJvdG90eXBlLmRlZmF1bHRWZXJ0ZXhTaGFwZT1teFJlY3RhbmdsZVNoYXBlO214Q2VsbFJlbmRlcmVyLnByb3RvdHlwZS5kZWZhdWx0VGV4dFNoYXBlPW14VGV4dDtteENlbGxSZW5kZXJlci5wcm90b3R5cGUubGVnYWN5Q29udHJvbFBvc2l0aW9uPSEwO214Q2VsbFJlbmRlcmVyLnByb3RvdHlwZS5sZWdhY3lTcGFjaW5nPSEwO214Q2VsbFJlbmRlcmVyLnByb3RvdHlwZS5hbnRpQWxpYXM9ITA7bXhDZWxsUmVuZGVyZXIucHJvdG90eXBlLm1pblN2Z1N0cm9rZVdpZHRoPTE7bXhDZWxsUmVuZGVyZXIucHJvdG90eXBlLmZvcmNlQ29udHJvbENsaWNrSGFuZGxlcj0hMTtteENlbGxSZW5kZXJlci5yZWdpc3RlclNoYXBlPWZ1bmN0aW9uKGEsYil7bXhDZWxsUmVuZGVyZXIuZGVmYXVsdFNoYXBlc1thXT1ifTsKbXhDZWxsUmVuZGVyZXIucmVnaXN0ZXJTaGFwZShteENvbnN0YW50cy5TSEFQRV9SRUNUQU5HTEUsbXhSZWN0YW5nbGVTaGFwZSk7bXhDZWxsUmVuZGVyZXIucmVnaXN0ZXJTaGFwZShteENvbnN0YW50cy5TSEFQRV9FTExJUFNFLG14RWxsaXBzZSk7bXhDZWxsUmVuZGVyZXIucmVnaXN0ZXJTaGFwZShteENvbnN0YW50cy5TSEFQRV9SSE9NQlVTLG14UmhvbWJ1cyk7bXhDZWxsUmVuZGVyZXIucmVnaXN0ZXJTaGFwZShteENvbnN0YW50cy5TSEFQRV9DWUxJTkRFUixteEN5bGluZGVyKTtteENlbGxSZW5kZXJlci5yZWdpc3RlclNoYXBlKG14Q29uc3RhbnRzLlNIQVBFX0NPTk5FQ1RPUixteENvbm5lY3Rvcik7bXhDZWxsUmVuZGVyZXIucmVnaXN0ZXJTaGFwZShteENvbnN0YW50cy5TSEFQRV9BQ1RPUixteEFjdG9yKTtteENlbGxSZW5kZXJlci5yZWdpc3RlclNoYXBlKG14Q29uc3RhbnRzLlNIQVBFX1RSSUFOR0xFLG14VHJpYW5nbGUpOwpteENlbGxSZW5kZXJlci5yZWdpc3RlclNoYXBlKG14Q29uc3RhbnRzLlNIQVBFX0hFWEFHT04sbXhIZXhhZ29uKTtteENlbGxSZW5kZXJlci5yZWdpc3RlclNoYXBlKG14Q29uc3RhbnRzLlNIQVBFX0NMT1VELG14Q2xvdWQpO214Q2VsbFJlbmRlcmVyLnJlZ2lzdGVyU2hhcGUobXhDb25zdGFudHMuU0hBUEVfTElORSxteExpbmUpO214Q2VsbFJlbmRlcmVyLnJlZ2lzdGVyU2hhcGUobXhDb25zdGFudHMuU0hBUEVfQVJST1csbXhBcnJvdyk7bXhDZWxsUmVuZGVyZXIucmVnaXN0ZXJTaGFwZShteENvbnN0YW50cy5TSEFQRV9BUlJPV19DT05ORUNUT1IsbXhBcnJvd0Nvbm5lY3Rvcik7bXhDZWxsUmVuZGVyZXIucmVnaXN0ZXJTaGFwZShteENvbnN0YW50cy5TSEFQRV9ET1VCTEVfRUxMSVBTRSxteERvdWJsZUVsbGlwc2UpO214Q2VsbFJlbmRlcmVyLnJlZ2lzdGVyU2hhcGUobXhDb25zdGFudHMuU0hBUEVfU1dJTUxBTkUsbXhTd2ltbGFuZSk7Cm14Q2VsbFJlbmRlcmVyLnJlZ2lzdGVyU2hhcGUobXhDb25zdGFudHMuU0hBUEVfSU1BR0UsbXhJbWFnZVNoYXBlKTtteENlbGxSZW5kZXJlci5yZWdpc3RlclNoYXBlKG14Q29uc3RhbnRzLlNIQVBFX0xBQkVMLG14TGFiZWwpO214Q2VsbFJlbmRlcmVyLnByb3RvdHlwZS5pbml0aWFsaXplU2hhcGU9ZnVuY3Rpb24oYSl7YS5zaGFwZS5kaWFsZWN0PWEudmlldy5ncmFwaC5kaWFsZWN0O3RoaXMuY29uZmlndXJlU2hhcGUoYSk7YS5zaGFwZS5pbml0KGEudmlldy5nZXREcmF3UGFuZSgpKX07bXhDZWxsUmVuZGVyZXIucHJvdG90eXBlLmNyZWF0ZVNoYXBlPWZ1bmN0aW9uKGEpe3ZhciBiPW51bGw7bnVsbCE9YS5zdHlsZSYmKGI9bXhTdGVuY2lsUmVnaXN0cnkuZ2V0U3RlbmNpbChhLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX1NIQVBFXSksYj1udWxsIT1iP25ldyBteFNoYXBlKGIpOm5ldyAodGhpcy5nZXRTaGFwZUNvbnN0cnVjdG9yKGEpKSk7cmV0dXJuIGJ9OwpteENlbGxSZW5kZXJlci5wcm90b3R5cGUuY3JlYXRlSW5kaWNhdG9yU2hhcGU9ZnVuY3Rpb24oYSl7YS5zaGFwZS5pbmRpY2F0b3JTaGFwZT10aGlzLmdldFNoYXBlKGEudmlldy5ncmFwaC5nZXRJbmRpY2F0b3JTaGFwZShhKSl9O214Q2VsbFJlbmRlcmVyLnByb3RvdHlwZS5nZXRTaGFwZT1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YT9teENlbGxSZW5kZXJlci5kZWZhdWx0U2hhcGVzW2FdOm51bGx9O214Q2VsbFJlbmRlcmVyLnByb3RvdHlwZS5nZXRTaGFwZUNvbnN0cnVjdG9yPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZ2V0U2hhcGUoYS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9TSEFQRV0pO251bGw9PWImJihiPWEudmlldy5ncmFwaC5nZXRNb2RlbCgpLmlzRWRnZShhLmNlbGwpP3RoaXMuZGVmYXVsdEVkZ2VTaGFwZTp0aGlzLmRlZmF1bHRWZXJ0ZXhTaGFwZSk7cmV0dXJuIGJ9OwpteENlbGxSZW5kZXJlci5wcm90b3R5cGUuY29uZmlndXJlU2hhcGU9ZnVuY3Rpb24oYSl7YS5zaGFwZS5hcHBseShhKTthLnNoYXBlLmltYWdlPWEudmlldy5ncmFwaC5nZXRJbWFnZShhKTthLnNoYXBlLmluZGljYXRvckNvbG9yPWEudmlldy5ncmFwaC5nZXRJbmRpY2F0b3JDb2xvcihhKTthLnNoYXBlLmluZGljYXRvclN0cm9rZUNvbG9yPWEuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfSU5ESUNBVE9SX1NUUk9LRUNPTE9SXTthLnNoYXBlLmluZGljYXRvckdyYWRpZW50Q29sb3I9YS52aWV3LmdyYXBoLmdldEluZGljYXRvckdyYWRpZW50Q29sb3IoYSk7YS5zaGFwZS5pbmRpY2F0b3JEaXJlY3Rpb249YS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9JTkRJQ0FUT1JfRElSRUNUSU9OXTthLnNoYXBlLmluZGljYXRvckltYWdlPWEudmlldy5ncmFwaC5nZXRJbmRpY2F0b3JJbWFnZShhKTt0aGlzLnBvc3RDb25maWd1cmVTaGFwZShhKX07Cm14Q2VsbFJlbmRlcmVyLnByb3RvdHlwZS5wb3N0Q29uZmlndXJlU2hhcGU9ZnVuY3Rpb24oYSl7bnVsbCE9YS5zaGFwZSYmKHRoaXMucmVzb2x2ZUNvbG9yKGEsImluZGljYXRvckdyYWRpZW50Q29sb3IiLG14Q29uc3RhbnRzLlNUWUxFX0dSQURJRU5UQ09MT1IpLHRoaXMucmVzb2x2ZUNvbG9yKGEsImluZGljYXRvckNvbG9yIixteENvbnN0YW50cy5TVFlMRV9GSUxMQ09MT1IpLHRoaXMucmVzb2x2ZUNvbG9yKGEsImdyYWRpZW50IixteENvbnN0YW50cy5TVFlMRV9HUkFESUVOVENPTE9SKSx0aGlzLnJlc29sdmVDb2xvcihhLCJzdHJva2UiLG14Q29uc3RhbnRzLlNUWUxFX1NUUk9LRUNPTE9SKSx0aGlzLnJlc29sdmVDb2xvcihhLCJmaWxsIixteENvbnN0YW50cy5TVFlMRV9GSUxMQ09MT1IpKX07Cm14Q2VsbFJlbmRlcmVyLnByb3RvdHlwZS5jaGVja1BsYWNlaG9sZGVyU3R5bGVzPWZ1bmN0aW9uKGEpe2lmKG51bGwhPWEuc3R5bGUpZm9yKHZhciBiPVsiaW5oZXJpdCIsInN3aW1sYW5lIiwiaW5kaWNhdGVkIl0sYz1bbXhDb25zdGFudHMuU1RZTEVfRklMTENPTE9SLG14Q29uc3RhbnRzLlNUWUxFX1NUUk9LRUNPTE9SLG14Q29uc3RhbnRzLlNUWUxFX0dSQURJRU5UQ09MT1IsbXhDb25zdGFudHMuU1RZTEVfRk9OVENPTE9SXSxkPTA7ZDxjLmxlbmd0aDtkKyspaWYoMDw9bXhVdGlscy5pbmRleE9mKGIsYS5zdHlsZVtjW2RdXSkpcmV0dXJuITA7cmV0dXJuITF9OwpteENlbGxSZW5kZXJlci5wcm90b3R5cGUucmVzb2x2ZUNvbG9yPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1jPT1teENvbnN0YW50cy5TVFlMRV9GT05UQ09MT1I/YS50ZXh0OmEuc2hhcGU7aWYobnVsbCE9ZCl7dmFyIGU9YS52aWV3LmdyYXBoLGY9ZFtiXSxnPW51bGw7ImluaGVyaXQiPT1mP2c9ZS5tb2RlbC5nZXRQYXJlbnQoYS5jZWxsKToic3dpbWxhbmUiPT1mPyhkW2JdPWM9PW14Q29uc3RhbnRzLlNUWUxFX1NUUk9LRUNPTE9SfHxjPT1teENvbnN0YW50cy5TVFlMRV9GT05UQ09MT1I/IiMwMDAwMDAiOiIjZmZmZmZmIixnPW51bGwhPWUubW9kZWwuZ2V0VGVybWluYWwoYS5jZWxsLCExKT9lLm1vZGVsLmdldFRlcm1pbmFsKGEuY2VsbCwhMSk6YS5jZWxsLGc9ZS5nZXRTd2ltbGFuZShnKSxjPWUuc3dpbWxhbmVJbmRpY2F0b3JDb2xvckF0dHJpYnV0ZSk6ImluZGljYXRlZCI9PWYmJm51bGwhPWEuc2hhcGUmJihkW2JdPWEuc2hhcGUuaW5kaWNhdG9yQ29sb3IpO251bGwhPWcmJihhPQplLmdldFZpZXcoKS5nZXRTdGF0ZShnKSxkW2JdPW51bGwsbnVsbCE9YSYmKGU9Yz09bXhDb25zdGFudHMuU1RZTEVfRk9OVENPTE9SP2EudGV4dDphLnNoYXBlLGRbYl09bnVsbCE9ZSYmImluZGljYXRvckNvbG9yIiE9Yj9lW2JdOmEuc3R5bGVbY10pKX19O214Q2VsbFJlbmRlcmVyLnByb3RvdHlwZS5nZXRMYWJlbFZhbHVlPWZ1bmN0aW9uKGEpe3JldHVybiBhLnZpZXcuZ3JhcGguZ2V0TGFiZWwoYS5jZWxsKX07Cm14Q2VsbFJlbmRlcmVyLnByb3RvdHlwZS5jcmVhdGVMYWJlbD1mdW5jdGlvbihhLGIpe3ZhciBjPWEudmlldy5ncmFwaDtjLmdldE1vZGVsKCkuaXNFZGdlKGEuY2VsbCk7aWYoMDxhLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX0ZPTlRTSVpFXXx8bnVsbD09YS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9GT05UU0laRV0pe3ZhciBkPWMuaXNIdG1sTGFiZWwoYS5jZWxsKXx8bnVsbCE9YiYmbXhVdGlscy5pc05vZGUoYik7YS50ZXh0PW5ldyB0aGlzLmRlZmF1bHRUZXh0U2hhcGUoYixuZXcgbXhSZWN0YW5nbGUsYS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9BTElHTl18fG14Q29uc3RhbnRzLkFMSUdOX0NFTlRFUixjLmdldFZlcnRpY2FsQWxpZ24oYSksYS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9GT05UQ09MT1JdLGEuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfRk9OVEZBTUlMWV0sYS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9GT05UU0laRV0sYS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9GT05UU1RZTEVdLAphLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX1NQQUNJTkddLGEuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfU1BBQ0lOR19UT1BdLGEuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfU1BBQ0lOR19SSUdIVF0sYS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9TUEFDSU5HX0JPVFRPTV0sYS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9TUEFDSU5HX0xFRlRdLGEuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfSE9SSVpPTlRBTF0sYS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9MQUJFTF9CQUNLR1JPVU5EQ09MT1JdLGEuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfTEFCRUxfQk9SREVSQ09MT1JdLGMuaXNXcmFwcGluZyhhLmNlbGwpJiZjLmlzSHRtbExhYmVsKGEuY2VsbCksYy5pc0xhYmVsQ2xpcHBlZChhLmNlbGwpLGEuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfT1ZFUkZMT1ddLGEuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfTEFCRUxfUEFERElOR10sbXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX1RFWFRfRElSRUNUSU9OLApteENvbnN0YW50cy5ERUZBVUxUX1RFWFRfRElSRUNUSU9OKSk7YS50ZXh0Lm9wYWNpdHk9bXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX1RFWFRfT1BBQ0lUWSwxMDApO2EudGV4dC5kaWFsZWN0PWQ/bXhDb25zdGFudHMuRElBTEVDVF9TVFJJQ1RIVE1MOmEudmlldy5ncmFwaC5kaWFsZWN0O2EudGV4dC5zdHlsZT1hLnN0eWxlO2EudGV4dC5zdGF0ZT1hO3RoaXMuaW5pdGlhbGl6ZUxhYmVsKGEsYS50ZXh0KTt2YXIgZT0hMSxmPWZ1bmN0aW9uKGIpe3ZhciBkPWE7aWYobXhDbGllbnQuSVNfVE9VQ0h8fGUpZD1teEV2ZW50LmdldENsaWVudFgoYiksYj1teEV2ZW50LmdldENsaWVudFkoYiksYj1teFV0aWxzLmNvbnZlcnRQb2ludChjLmNvbnRhaW5lcixkLGIpLGQ9Yy52aWV3LmdldFN0YXRlKGMuZ2V0Q2VsbEF0KGIueCxiLnkpKTtyZXR1cm4gZH07bXhFdmVudC5hZGRHZXN0dXJlTGlzdGVuZXJzKGEudGV4dC5ub2RlLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGIpe3RoaXMuaXNMYWJlbEV2ZW50KGEsCmIpJiYoYy5maXJlTW91c2VFdmVudChteEV2ZW50Lk1PVVNFX0RPV04sbmV3IG14TW91c2VFdmVudChiLGEpKSxlPWMuZGlhbGVjdCE9bXhDb25zdGFudHMuRElBTEVDVF9TVkcmJiJJTUciPT1teEV2ZW50LmdldFNvdXJjZShiKS5ub2RlTmFtZSl9KSxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihiKXt0aGlzLmlzTGFiZWxFdmVudChhLGIpJiZjLmZpcmVNb3VzZUV2ZW50KG14RXZlbnQuTU9VU0VfTU9WRSxuZXcgbXhNb3VzZUV2ZW50KGIsZihiKSkpfSksbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYil7dGhpcy5pc0xhYmVsRXZlbnQoYSxiKSYmKGMuZmlyZU1vdXNlRXZlbnQobXhFdmVudC5NT1VTRV9VUCxuZXcgbXhNb3VzZUV2ZW50KGIsZihiKSkpLGU9ITEpfSkpO2MubmF0aXZlRGJsQ2xpY2tFbmFibGVkJiZteEV2ZW50LmFkZExpc3RlbmVyKGEudGV4dC5ub2RlLCJkYmxjbGljayIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYil7dGhpcy5pc0xhYmVsRXZlbnQoYSwKYikmJihjLmRibENsaWNrKGIsYS5jZWxsKSxteEV2ZW50LmNvbnN1bWUoYikpfSkpfX07bXhDZWxsUmVuZGVyZXIucHJvdG90eXBlLmluaXRpYWxpemVMYWJlbD1mdW5jdGlvbihhLGIpe214Q2xpZW50LklTX1NWRyYmbXhDbGllbnQuTk9fRk8mJmIuZGlhbGVjdCE9bXhDb25zdGFudHMuRElBTEVDVF9TVkc/Yi5pbml0KGEudmlldy5ncmFwaC5jb250YWluZXIpOmIuaW5pdChhLnZpZXcuZ2V0RHJhd1BhbmUoKSl9OwpteENlbGxSZW5kZXJlci5wcm90b3R5cGUuY3JlYXRlQ2VsbE92ZXJsYXlzPWZ1bmN0aW9uKGEpe3ZhciBiPWEudmlldy5ncmFwaC5nZXRDZWxsT3ZlcmxheXMoYS5jZWxsKSxjPW51bGw7aWYobnVsbCE9Yilmb3IodmFyIGM9bmV3IG14RGljdGlvbmFyeSxkPTA7ZDxiLmxlbmd0aDtkKyspe3ZhciBlPW51bGwhPWEub3ZlcmxheXM/YS5vdmVybGF5cy5yZW1vdmUoYltkXSk6bnVsbDtudWxsPT1lJiYoZT1uZXcgbXhJbWFnZVNoYXBlKG5ldyBteFJlY3RhbmdsZSxiW2RdLmltYWdlLnNyYyksZS5kaWFsZWN0PWEudmlldy5ncmFwaC5kaWFsZWN0LGUucHJlc2VydmVJbWFnZUFzcGVjdD0hMSxlLm92ZXJsYXk9YltkXSx0aGlzLmluaXRpYWxpemVPdmVybGF5KGEsZSksdGhpcy5pbnN0YWxsQ2VsbE92ZXJsYXlMaXN0ZW5lcnMoYSxiW2RdLGUpLG51bGwhPWJbZF0uY3Vyc29yJiYoZS5ub2RlLnN0eWxlLmN1cnNvcj1iW2RdLmN1cnNvcikpO2MucHV0KGJbZF0sZSl9bnVsbCE9YS5vdmVybGF5cyYmCmEub3ZlcmxheXMudmlzaXQoZnVuY3Rpb24oYSxiKXtiLmRlc3Ryb3koKX0pO2Eub3ZlcmxheXM9Y307bXhDZWxsUmVuZGVyZXIucHJvdG90eXBlLmluaXRpYWxpemVPdmVybGF5PWZ1bmN0aW9uKGEsYil7Yi5pbml0KGEudmlldy5nZXRPdmVybGF5UGFuZSgpKX07Cm14Q2VsbFJlbmRlcmVyLnByb3RvdHlwZS5pbnN0YWxsQ2VsbE92ZXJsYXlMaXN0ZW5lcnM9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWEudmlldy5ncmFwaDtteEV2ZW50LmFkZExpc3RlbmVyKGMubm9kZSwiY2xpY2siLGZ1bmN0aW9uKGMpe2QuaXNFZGl0aW5nKCkmJmQuc3RvcEVkaXRpbmcoIWQuaXNJbnZva2VzU3RvcENlbGxFZGl0aW5nKCkpO2IuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KG14RXZlbnQuQ0xJQ0ssImV2ZW50IixjLCJjZWxsIixhLmNlbGwpKX0pO214RXZlbnQuYWRkR2VzdHVyZUxpc3RlbmVycyhjLm5vZGUsZnVuY3Rpb24oYSl7bXhFdmVudC5jb25zdW1lKGEpfSxmdW5jdGlvbihiKXtkLmZpcmVNb3VzZUV2ZW50KG14RXZlbnQuTU9VU0VfTU9WRSxuZXcgbXhNb3VzZUV2ZW50KGIsYSkpfSk7bXhDbGllbnQuSVNfVE9VQ0gmJm14RXZlbnQuYWRkTGlzdGVuZXIoYy5ub2RlLCJ0b3VjaGVuZCIsZnVuY3Rpb24oYyl7Yi5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5DTElDSywKImV2ZW50IixjLCJjZWxsIixhLmNlbGwpKX0pfTtteENlbGxSZW5kZXJlci5wcm90b3R5cGUuY3JlYXRlQ29udHJvbD1mdW5jdGlvbihhKXt2YXIgYj1hLnZpZXcuZ3JhcGgsYz1iLmdldEZvbGRpbmdJbWFnZShhKTtpZihiLmZvbGRpbmdFbmFibGVkJiZudWxsIT1jKXtpZihudWxsPT1hLmNvbnRyb2wpe3ZhciBkPW5ldyBteFJlY3RhbmdsZSgwLDAsYy53aWR0aCxjLmhlaWdodCk7YS5jb250cm9sPW5ldyBteEltYWdlU2hhcGUoZCxjLnNyYyk7YS5jb250cm9sLnByZXNlcnZlSW1hZ2VBc3BlY3Q9ITE7YS5jb250cm9sLmRpYWxlY3Q9Yi5kaWFsZWN0O3RoaXMuaW5pdENvbnRyb2woYSxhLmNvbnRyb2wsITAsdGhpcy5jcmVhdGVDb250cm9sQ2xpY2tIYW5kbGVyKGEpKX19ZWxzZSBudWxsIT1hLmNvbnRyb2wmJihhLmNvbnRyb2wuZGVzdHJveSgpLGEuY29udHJvbD1udWxsKX07Cm14Q2VsbFJlbmRlcmVyLnByb3RvdHlwZS5jcmVhdGVDb250cm9sQ2xpY2tIYW5kbGVyPWZ1bmN0aW9uKGEpe3ZhciBiPWEudmlldy5ncmFwaDtyZXR1cm4gbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYyl7aWYodGhpcy5mb3JjZUNvbnRyb2xDbGlja0hhbmRsZXJ8fGIuaXNFbmFibGVkKCkpe3ZhciBkPSFiLmlzQ2VsbENvbGxhcHNlZChhLmNlbGwpO2IuZm9sZENlbGxzKGQsITEsW2EuY2VsbF0sbnVsbCxjKTtteEV2ZW50LmNvbnN1bWUoYyl9fSl9OwpteENlbGxSZW5kZXJlci5wcm90b3R5cGUuaW5pdENvbnRyb2w9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9YS52aWV3LmdyYXBoO2UuaXNIdG1sTGFiZWwoYS5jZWxsKSYmbXhDbGllbnQuTk9fRk8mJmUuZGlhbGVjdD09bXhDb25zdGFudHMuRElBTEVDVF9TVkc/KGIuZGlhbGVjdD1teENvbnN0YW50cy5ESUFMRUNUX1BSRUZFUkhUTUwsYi5pbml0KGUuY29udGFpbmVyKSxiLm5vZGUuc3R5bGUuekluZGV4PTEpOmIuaW5pdChhLnZpZXcuZ2V0T3ZlcmxheVBhbmUoKSk7Yj1iLmlubmVyTm9kZXx8Yi5ub2RlO251bGw9PWR8fG14Q2xpZW50LklTX0lPU3x8KGUuaXNFbmFibGVkKCkmJihiLnN0eWxlLmN1cnNvcj0icG9pbnRlciIpLG14RXZlbnQuYWRkTGlzdGVuZXIoYiwiY2xpY2siLGQpKTtpZihjKXt2YXIgZj1udWxsO214RXZlbnQuYWRkR2VzdHVyZUxpc3RlbmVycyhiLGZ1bmN0aW9uKGIpe2Y9bmV3IG14UG9pbnQobXhFdmVudC5nZXRDbGllbnRYKGIpLG14RXZlbnQuZ2V0Q2xpZW50WShiKSk7CmUuZmlyZU1vdXNlRXZlbnQobXhFdmVudC5NT1VTRV9ET1dOLG5ldyBteE1vdXNlRXZlbnQoYixhKSk7bXhFdmVudC5jb25zdW1lKGIpfSxmdW5jdGlvbihiKXtlLmZpcmVNb3VzZUV2ZW50KG14RXZlbnQuTU9VU0VfTU9WRSxuZXcgbXhNb3VzZUV2ZW50KGIsYSkpfSxmdW5jdGlvbihiKXtlLmZpcmVNb3VzZUV2ZW50KG14RXZlbnQuTU9VU0VfVVAsbmV3IG14TW91c2VFdmVudChiLGEpKTtteEV2ZW50LmNvbnN1bWUoYil9KTtudWxsIT1kJiZteENsaWVudC5JU19JT1MmJmIuYWRkRXZlbnRMaXN0ZW5lcigidG91Y2hlbmQiLGZ1bmN0aW9uKGEpe2lmKG51bGwhPWYpe3ZhciBiPWUudG9sZXJhbmNlO01hdGguYWJzKGYueC1teEV2ZW50LmdldENsaWVudFgoYSkpPGImJk1hdGguYWJzKGYueS1teEV2ZW50LmdldENsaWVudFkoYSkpPGImJihkLmNhbGwoZCxhKSxteEV2ZW50LmNvbnN1bWUoYSkpfX0sITApfXJldHVybiBifTsKbXhDZWxsUmVuZGVyZXIucHJvdG90eXBlLmlzU2hhcGVFdmVudD1mdW5jdGlvbihhLGIpe3JldHVybiEwfTtteENlbGxSZW5kZXJlci5wcm90b3R5cGUuaXNMYWJlbEV2ZW50PWZ1bmN0aW9uKGEsYil7cmV0dXJuITB9OwpteENlbGxSZW5kZXJlci5wcm90b3R5cGUuaW5zdGFsbExpc3RlbmVycz1mdW5jdGlvbihhKXt2YXIgYj1hLnZpZXcuZ3JhcGgsYz1mdW5jdGlvbihjKXt2YXIgZD1hO2lmKGIuZGlhbGVjdCE9bXhDb25zdGFudHMuRElBTEVDVF9TVkcmJiJJTUciPT1teEV2ZW50LmdldFNvdXJjZShjKS5ub2RlTmFtZXx8bXhDbGllbnQuSVNfVE9VQ0gpZD1teEV2ZW50LmdldENsaWVudFgoYyksYz1teEV2ZW50LmdldENsaWVudFkoYyksYz1teFV0aWxzLmNvbnZlcnRQb2ludChiLmNvbnRhaW5lcixkLGMpLGQ9Yi52aWV3LmdldFN0YXRlKGIuZ2V0Q2VsbEF0KGMueCxjLnkpKTtyZXR1cm4gZH07bXhFdmVudC5hZGRHZXN0dXJlTGlzdGVuZXJzKGEuc2hhcGUubm9kZSxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihjKXt0aGlzLmlzU2hhcGVFdmVudChhLGMpJiZiLmZpcmVNb3VzZUV2ZW50KG14RXZlbnQuTU9VU0VfRE9XTixuZXcgbXhNb3VzZUV2ZW50KGMsYSkpfSksbXhVdGlscy5iaW5kKHRoaXMsCmZ1bmN0aW9uKGQpe3RoaXMuaXNTaGFwZUV2ZW50KGEsZCkmJmIuZmlyZU1vdXNlRXZlbnQobXhFdmVudC5NT1VTRV9NT1ZFLG5ldyBteE1vdXNlRXZlbnQoZCxjKGQpKSl9KSxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihkKXt0aGlzLmlzU2hhcGVFdmVudChhLGQpJiZiLmZpcmVNb3VzZUV2ZW50KG14RXZlbnQuTU9VU0VfVVAsbmV3IG14TW91c2VFdmVudChkLGMoZCkpKX0pKTtiLm5hdGl2ZURibENsaWNrRW5hYmxlZCYmbXhFdmVudC5hZGRMaXN0ZW5lcihhLnNoYXBlLm5vZGUsImRibGNsaWNrIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihjKXt0aGlzLmlzU2hhcGVFdmVudChhLGMpJiYoYi5kYmxDbGljayhjLGEuY2VsbCksbXhFdmVudC5jb25zdW1lKGMpKX0pKX07Cm14Q2VsbFJlbmRlcmVyLnByb3RvdHlwZS5yZWRyYXdMYWJlbD1mdW5jdGlvbihhLGIpe3ZhciBjPWEudmlldy5ncmFwaCxkPXRoaXMuZ2V0TGFiZWxWYWx1ZShhKSxlPWMuaXNXcmFwcGluZyhhLmNlbGwpLGY9Yy5pc0xhYmVsQ2xpcHBlZChhLmNlbGwpLGc9YS52aWV3LmdyYXBoLmlzSHRtbExhYmVsKGEuY2VsbCl8fG51bGwhPWQmJm14VXRpbHMuaXNOb2RlKGQpP214Q29uc3RhbnRzLkRJQUxFQ1RfU1RSSUNUSFRNTDphLnZpZXcuZ3JhcGguZGlhbGVjdCxrPWEuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfT1ZFUkZMT1ddfHwidmlzaWJsZSI7bnVsbD09YS50ZXh0fHxhLnRleHQud3JhcD09ZSYmYS50ZXh0LmNsaXBwZWQ9PWYmJmEudGV4dC5vdmVyZmxvdz09ayYmYS50ZXh0LmRpYWxlY3Q9PWd8fChhLnRleHQuZGVzdHJveSgpLGEudGV4dD1udWxsKTtudWxsPT1hLnRleHQmJm51bGwhPWQmJihteFV0aWxzLmlzTm9kZShkKXx8MDxkLmxlbmd0aCk/dGhpcy5jcmVhdGVMYWJlbChhLApkKTpudWxsPT1hLnRleHR8fG51bGwhPWQmJjAhPWQubGVuZ3RofHwoYS50ZXh0LmRlc3Ryb3koKSxhLnRleHQ9bnVsbCk7aWYobnVsbCE9YS50ZXh0KXtiJiYobnVsbCE9YS50ZXh0Lmxhc3RWYWx1ZSYmdGhpcy5pc1RleHRTaGFwZUludmFsaWQoYSxhLnRleHQpJiYoYS50ZXh0Lmxhc3RWYWx1ZT1udWxsKSxhLnRleHQucmVzZXRTdHlsZXMoKSxhLnRleHQuYXBwbHkoYSksYS50ZXh0LnZhbGlnbj1jLmdldFZlcnRpY2FsQWxpZ24oYSkpO3ZhciBjPXRoaXMuZ2V0TGFiZWxCb3VuZHMoYSksbD10aGlzLmdldFRleHRTY2FsZShhKTt0aGlzLnJlc29sdmVDb2xvcihhLCJjb2xvciIsbXhDb25zdGFudHMuU1RZTEVfRk9OVENPTE9SKTtpZihifHxhLnRleHQudmFsdWUhPWR8fGEudGV4dC5pc1dyYXBwaW5nIT1lfHxhLnRleHQub3ZlcmZsb3chPWt8fGEudGV4dC5pc0NsaXBwaW5nIT1mfHxhLnRleHQuc2NhbGUhPWx8fGEudGV4dC5kaWFsZWN0IT1nfHxudWxsPT1hLnRleHQuYm91bmRzfHwKIWEudGV4dC5ib3VuZHMuZXF1YWxzKGMpKWEudGV4dC5kaWFsZWN0PWcsYS50ZXh0LnZhbHVlPWQsYS50ZXh0LmJvdW5kcz1jLGEudGV4dC5zY2FsZT1sLGEudGV4dC53cmFwPWUsYS50ZXh0LmNsaXBwZWQ9ZixhLnRleHQub3ZlcmZsb3c9ayxkPWEudGV4dC5ub2RlLnN0eWxlLnZpc2liaWxpdHksdGhpcy5yZWRyYXdMYWJlbFNoYXBlKGEudGV4dCksYS50ZXh0Lm5vZGUuc3R5bGUudmlzaWJpbGl0eT1kfX07Cm14Q2VsbFJlbmRlcmVyLnByb3RvdHlwZS5pc1RleHRTaGFwZUludmFsaWQ9ZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKGMsZSxmKXtyZXR1cm4ic3BhY2luZ1RvcCI9PWV8fCJzcGFjaW5nUmlnaHQiPT1lfHwic3BhY2luZ0JvdHRvbSI9PWV8fCJzcGFjaW5nTGVmdCI9PWU/cGFyc2VGbG9hdChiW2NdKS1wYXJzZUZsb2F0KGIuc3BhY2luZykhPShhLnN0eWxlW2VdfHxmKTpiW2NdIT0oYS5zdHlsZVtlXXx8Zil9cmV0dXJuIGMoImZvbnRTdHlsZSIsbXhDb25zdGFudHMuU1RZTEVfRk9OVFNUWUxFLG14Q29uc3RhbnRzLkRFRkFVTFRfRk9OVFNUWUxFKXx8YygiZmFtaWx5IixteENvbnN0YW50cy5TVFlMRV9GT05URkFNSUxZLG14Q29uc3RhbnRzLkRFRkFVTFRfRk9OVEZBTUlMWSl8fGMoInNpemUiLG14Q29uc3RhbnRzLlNUWUxFX0ZPTlRTSVpFLG14Q29uc3RhbnRzLkRFRkFVTFRfRk9OVFNJWkUpfHxjKCJjb2xvciIsbXhDb25zdGFudHMuU1RZTEVfRk9OVENPTE9SLCJibGFjayIpfHwKYygiYWxpZ24iLG14Q29uc3RhbnRzLlNUWUxFX0FMSUdOLCIiKXx8YygidmFsaWduIixteENvbnN0YW50cy5TVFlMRV9WRVJUSUNBTF9BTElHTiwiIil8fGMoInNwYWNpbmciLG14Q29uc3RhbnRzLlNUWUxFX1NQQUNJTkcsMil8fGMoInNwYWNpbmdUb3AiLG14Q29uc3RhbnRzLlNUWUxFX1NQQUNJTkdfVE9QLDApfHxjKCJzcGFjaW5nUmlnaHQiLG14Q29uc3RhbnRzLlNUWUxFX1NQQUNJTkdfUklHSFQsMCl8fGMoInNwYWNpbmdCb3R0b20iLG14Q29uc3RhbnRzLlNUWUxFX1NQQUNJTkdfQk9UVE9NLDApfHxjKCJzcGFjaW5nTGVmdCIsbXhDb25zdGFudHMuU1RZTEVfU1BBQ0lOR19MRUZULDApfHxjKCJob3Jpem9udGFsIixteENvbnN0YW50cy5TVFlMRV9IT1JJWk9OVEFMLCEwKXx8YygiYmFja2dyb3VuZCIsbXhDb25zdGFudHMuU1RZTEVfTEFCRUxfQkFDS0dST1VORENPTE9SKXx8YygiYm9yZGVyIixteENvbnN0YW50cy5TVFlMRV9MQUJFTF9CT1JERVJDT0xPUil8fGMoIm9wYWNpdHkiLApteENvbnN0YW50cy5TVFlMRV9URVhUX09QQUNJVFksMTAwKXx8YygidGV4dERpcmVjdGlvbiIsbXhDb25zdGFudHMuU1RZTEVfVEVYVF9ESVJFQ1RJT04sbXhDb25zdGFudHMuREVGQVVMVF9URVhUX0RJUkVDVElPTil9O214Q2VsbFJlbmRlcmVyLnByb3RvdHlwZS5yZWRyYXdMYWJlbFNoYXBlPWZ1bmN0aW9uKGEpe2EucmVkcmF3KCl9O214Q2VsbFJlbmRlcmVyLnByb3RvdHlwZS5nZXRUZXh0U2NhbGU9ZnVuY3Rpb24oYSl7cmV0dXJuIGEudmlldy5zY2FsZX07Cm14Q2VsbFJlbmRlcmVyLnByb3RvdHlwZS5nZXRMYWJlbEJvdW5kcz1mdW5jdGlvbihhKXt2YXIgYj1hLnZpZXcuZ3JhcGgsYz1hLnZpZXcuc2NhbGUsZD1iLmdldE1vZGVsKCkuaXNFZGdlKGEuY2VsbCksZT1uZXcgbXhSZWN0YW5nbGUoYS5hYnNvbHV0ZU9mZnNldC54LGEuYWJzb2x1dGVPZmZzZXQueSk7aWYoZCl7dmFyIGY9YS50ZXh0LmdldFNwYWNpbmcoKTtlLngrPWYueCpjO2UueSs9Zi55KmM7Yj1iLmdldENlbGxHZW9tZXRyeShhLmNlbGwpO251bGwhPWImJihlLndpZHRoPU1hdGgubWF4KDAsYi53aWR0aCpjKSxlLmhlaWdodD1NYXRoLm1heCgwLGIuaGVpZ2h0KmMpKX1lbHNlIGEudGV4dC5pc1BhaW50Qm91bmRzSW52ZXJ0ZWQoKSYmKGI9ZS54LGUueD1lLnksZS55PWIpLGUueCs9YS54LGUueSs9YS55LGUud2lkdGg9TWF0aC5tYXgoMSxhLndpZHRoKSxlLmhlaWdodD1NYXRoLm1heCgxLGEuaGVpZ2h0KTthLnRleHQuaXNQYWludEJvdW5kc0ludmVydGVkKCkmJihiPShhLndpZHRoLQphLmhlaWdodCkvMixlLngrPWIsZS55LT1iLGI9ZS53aWR0aCxlLndpZHRoPWUuaGVpZ2h0LGUuaGVpZ2h0PWIpO251bGwhPWEuc2hhcGUmJihiPW14VXRpbHMuZ2V0VmFsdWUoYS5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9MQUJFTF9QT1NJVElPTixteENvbnN0YW50cy5BTElHTl9DRU5URVIpLGY9bXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX1ZFUlRJQ0FMX0xBQkVMX1BPU0lUSU9OLG14Q29uc3RhbnRzLkFMSUdOX01JRERMRSksYj09bXhDb25zdGFudHMuQUxJR05fQ0VOVEVSJiZmPT1teENvbnN0YW50cy5BTElHTl9NSURETEUmJihlPWEuc2hhcGUuZ2V0TGFiZWxCb3VuZHMoZSkpKTtiPW14VXRpbHMuZ2V0VmFsdWUoYS5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9MQUJFTF9XSURUSCxudWxsKTtudWxsIT1iJiYoZS53aWR0aD1wYXJzZUZsb2F0KGIpKmMpO2R8fHRoaXMucm90YXRlTGFiZWxCb3VuZHMoYSxlKTtyZXR1cm4gZX07Cm14Q2VsbFJlbmRlcmVyLnByb3RvdHlwZS5yb3RhdGVMYWJlbEJvdW5kcz1mdW5jdGlvbihhLGIpe2IueS09YS50ZXh0Lm1hcmdpbi55KmIuaGVpZ2h0O2IueC09YS50ZXh0Lm1hcmdpbi54KmIud2lkdGg7aWYoIXRoaXMubGVnYWN5U3BhY2luZ3x8ImZpbGwiIT1hLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX09WRVJGTE9XXSYmIndpZHRoIiE9YS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9PVkVSRkxPV10pe3ZhciBjPWEudmlldy5zY2FsZSxkPWEudGV4dC5nZXRTcGFjaW5nKCk7Yi54Kz1kLngqYztiLnkrPWQueSpjO3ZhciBkPW14VXRpbHMuZ2V0VmFsdWUoYS5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9MQUJFTF9QT1NJVElPTixteENvbnN0YW50cy5BTElHTl9DRU5URVIpLGU9bXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX1ZFUlRJQ0FMX0xBQkVMX1BPU0lUSU9OLG14Q29uc3RhbnRzLkFMSUdOX01JRERMRSksZj1teFV0aWxzLmdldFZhbHVlKGEuc3R5bGUsCm14Q29uc3RhbnRzLlNUWUxFX0xBQkVMX1dJRFRILG51bGwpO2Iud2lkdGg9TWF0aC5tYXgoMCxiLndpZHRoLShkPT1teENvbnN0YW50cy5BTElHTl9DRU5URVImJm51bGw9PWY/YS50ZXh0LnNwYWNpbmdMZWZ0KmMrYS50ZXh0LnNwYWNpbmdSaWdodCpjOjApKTtiLmhlaWdodD1NYXRoLm1heCgwLGIuaGVpZ2h0LShlPT1teENvbnN0YW50cy5BTElHTl9NSURETEU/YS50ZXh0LnNwYWNpbmdUb3AqYythLnRleHQuc3BhY2luZ0JvdHRvbSpjOjApKX1lPWEudGV4dC5nZXRUZXh0Um90YXRpb24oKTswIT1lJiZudWxsIT1hJiZhLnZpZXcuZ3JhcGgubW9kZWwuaXNWZXJ0ZXgoYS5jZWxsKSYmKGM9YS5nZXRDZW50ZXJYKCksZD1hLmdldENlbnRlclkoKSxiLnghPWN8fGIueSE9ZCkmJihlKj1NYXRoLlBJLzE4MCxjPW14VXRpbHMuZ2V0Um90YXRlZFBvaW50KG5ldyBteFBvaW50KGIueCxiLnkpLE1hdGguY29zKGUpLE1hdGguc2luKGUpLG5ldyBteFBvaW50KGMsZCkpLGIueD1jLngsYi55PQpjLnkpfTsKbXhDZWxsUmVuZGVyZXIucHJvdG90eXBlLnJlZHJhd0NlbGxPdmVybGF5cz1mdW5jdGlvbihhLGIpe3RoaXMuY3JlYXRlQ2VsbE92ZXJsYXlzKGEpO2lmKG51bGwhPWEub3ZlcmxheXMpe3ZhciBjPW14VXRpbHMubW9kKG14VXRpbHMuZ2V0VmFsdWUoYS5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9ST1RBVElPTiwwKSw5MCksZD1teFV0aWxzLnRvUmFkaWFucyhjKSxlPU1hdGguY29zKGQpLGY9TWF0aC5zaW4oZCk7YS5vdmVybGF5cy52aXNpdChmdW5jdGlvbihkLGspe3ZhciBnPWsub3ZlcmxheS5nZXRCb3VuZHMoYSk7aWYoIWEudmlldy5ncmFwaC5nZXRNb2RlbCgpLmlzRWRnZShhLmNlbGwpJiZudWxsIT1hLnNoYXBlJiYwIT1jKXt2YXIgbT1nLmdldENlbnRlclgoKSxuPWcuZ2V0Q2VudGVyWSgpLG49bXhVdGlscy5nZXRSb3RhdGVkUG9pbnQobmV3IG14UG9pbnQobSxuKSxlLGYsbmV3IG14UG9pbnQoYS5nZXRDZW50ZXJYKCksYS5nZXRDZW50ZXJZKCkpKSxtPW4ueCxuPW4ueTtnLng9Ck1hdGgucm91bmQobS1nLndpZHRoLzIpO2cueT1NYXRoLnJvdW5kKG4tZy5oZWlnaHQvMil9aWYoYnx8bnVsbD09ay5ib3VuZHN8fGsuc2NhbGUhPWEudmlldy5zY2FsZXx8IWsuYm91bmRzLmVxdWFscyhnKSlrLmJvdW5kcz1nLGsuc2NhbGU9YS52aWV3LnNjYWxlLGsucmVkcmF3KCl9KX19OwpteENlbGxSZW5kZXJlci5wcm90b3R5cGUucmVkcmF3Q29udHJvbD1mdW5jdGlvbihhLGIpe3ZhciBjPWEudmlldy5ncmFwaC5nZXRGb2xkaW5nSW1hZ2UoYSk7aWYobnVsbCE9YS5jb250cm9sJiZudWxsIT1jKXt2YXIgYz10aGlzLmdldENvbnRyb2xCb3VuZHMoYSxjLndpZHRoLGMuaGVpZ2h0KSxkPXRoaXMubGVnYWN5Q29udHJvbFBvc2l0aW9uP214VXRpbHMuZ2V0VmFsdWUoYS5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9ST1RBVElPTiwwKTphLnNoYXBlLmdldFRleHRSb3RhdGlvbigpLGU9YS52aWV3LnNjYWxlO2lmKGJ8fGEuY29udHJvbC5zY2FsZSE9ZXx8IWEuY29udHJvbC5ib3VuZHMuZXF1YWxzKGMpfHxhLmNvbnRyb2wucm90YXRpb24hPWQpYS5jb250cm9sLnJvdGF0aW9uPWQsYS5jb250cm9sLmJvdW5kcz1jLGEuY29udHJvbC5zY2FsZT1lLGEuY29udHJvbC5yZWRyYXcoKX19OwpteENlbGxSZW5kZXJlci5wcm90b3R5cGUuZ2V0Q29udHJvbEJvdW5kcz1mdW5jdGlvbihhLGIsYyl7aWYobnVsbCE9YS5jb250cm9sKXt2YXIgZD1hLnZpZXcuc2NhbGUsZT1hLmdldENlbnRlclgoKSxmPWEuZ2V0Q2VudGVyWSgpO2lmKCFhLnZpZXcuZ3JhcGguZ2V0TW9kZWwoKS5pc0VkZ2UoYS5jZWxsKSYmKGU9YS54K2IqZCxmPWEueStjKmQsbnVsbCE9YS5zaGFwZSkpe3ZhciBnPWEuc2hhcGUuZ2V0U2hhcGVSb3RhdGlvbigpO2lmKHRoaXMubGVnYWN5Q29udHJvbFBvc2l0aW9uKWc9bXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX1JPVEFUSU9OLDApO2Vsc2UgaWYoYS5zaGFwZS5pc1BhaW50Qm91bmRzSW52ZXJ0ZWQoKSl2YXIgaz0oYS53aWR0aC1hLmhlaWdodCkvMixlPWUrayxmPWYtazswIT1nJiYoaz1teFV0aWxzLnRvUmFkaWFucyhnKSxnPU1hdGguY29zKGspLGs9TWF0aC5zaW4oayksZj1teFV0aWxzLmdldFJvdGF0ZWRQb2ludChuZXcgbXhQb2ludChlLApmKSxnLGssbmV3IG14UG9pbnQoYS5nZXRDZW50ZXJYKCksYS5nZXRDZW50ZXJZKCkpKSxlPWYueCxmPWYueSl9cmV0dXJuIGEudmlldy5ncmFwaC5nZXRNb2RlbCgpLmlzRWRnZShhLmNlbGwpLG5ldyBteFJlY3RhbmdsZShNYXRoLnJvdW5kKGUtYi8yKmQpLE1hdGgucm91bmQoZi1jLzIqZCksTWF0aC5yb3VuZChiKmQpLE1hdGgucm91bmQoYypkKSl9cmV0dXJuIG51bGx9OwpteENlbGxSZW5kZXJlci5wcm90b3R5cGUuaW5zZXJ0U3RhdGVBZnRlcj1mdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkPXRoaXMuZ2V0U2hhcGVzRm9yU3RhdGUoYSksZT0wO2U8ZC5sZW5ndGg7ZSsrKWlmKG51bGwhPWRbZV0mJm51bGwhPWRbZV0ubm9kZSl7dmFyIGY9ZFtlXS5ub2RlLnBhcmVudE5vZGUhPWEudmlldy5nZXREcmF3UGFuZSgpJiZkW2VdLm5vZGUucGFyZW50Tm9kZSE9YS52aWV3LmdldE92ZXJsYXlQYW5lKCksZz1mP2M6YjtpZihudWxsIT1nJiZnLm5leHRTaWJsaW5nIT1kW2VdLm5vZGUpbnVsbD09Zy5uZXh0U2libGluZz9nLnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQoZFtlXS5ub2RlKTpnLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGRbZV0ubm9kZSxnLm5leHRTaWJsaW5nKTtlbHNlIGlmKG51bGw9PWcpaWYoZFtlXS5ub2RlLnBhcmVudE5vZGU9PWEudmlldy5ncmFwaC5jb250YWluZXIpe2ZvcihnPWEudmlldy5jYW52YXM7bnVsbCE9ZyYmZy5wYXJlbnROb2RlIT0KYS52aWV3LmdyYXBoLmNvbnRhaW5lcjspZz1nLnBhcmVudE5vZGU7bnVsbCE9ZyYmbnVsbCE9Zy5uZXh0U2libGluZz9nLm5leHRTaWJsaW5nIT1kW2VdLm5vZGUmJmRbZV0ubm9kZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShkW2VdLm5vZGUsZy5uZXh0U2libGluZyk6ZFtlXS5ub2RlLnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQoZFtlXS5ub2RlKX1lbHNlIG51bGwhPWRbZV0ubm9kZS5wYXJlbnROb2RlJiZudWxsIT1kW2VdLm5vZGUucGFyZW50Tm9kZS5maXJzdENoaWxkJiZkW2VdLm5vZGUucGFyZW50Tm9kZS5maXJzdENoaWxkIT1kW2VdLm5vZGUmJmRbZV0ubm9kZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShkW2VdLm5vZGUsZFtlXS5ub2RlLnBhcmVudE5vZGUuZmlyc3RDaGlsZCk7Zj9jPWRbZV0ubm9kZTpiPWRbZV0ubm9kZX1yZXR1cm5bYixjXX07Cm14Q2VsbFJlbmRlcmVyLnByb3RvdHlwZS5nZXRTaGFwZXNGb3JTdGF0ZT1mdW5jdGlvbihhKXtyZXR1cm5bYS5zaGFwZSxhLnRleHQsYS5jb250cm9sXX07bXhDZWxsUmVuZGVyZXIucHJvdG90eXBlLnJlZHJhdz1mdW5jdGlvbihhLGIsYyl7Yj10aGlzLnJlZHJhd1NoYXBlKGEsYixjKTtudWxsPT1hLnNoYXBlfHxudWxsIT1jJiYhY3x8KHRoaXMucmVkcmF3TGFiZWwoYSxiKSx0aGlzLnJlZHJhd0NlbGxPdmVybGF5cyhhLGIpLHRoaXMucmVkcmF3Q29udHJvbChhLGIpKX07Cm14Q2VsbFJlbmRlcmVyLnByb3RvdHlwZS5yZWRyYXdTaGFwZT1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9YS52aWV3LmdyYXBoLm1vZGVsLGU9ITE7bnVsbCE9YS5zaGFwZSYmbnVsbCE9YS5zaGFwZS5zdHlsZSYmbnVsbCE9YS5zdHlsZSYmYS5zaGFwZS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9TSEFQRV0hPWEuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfU0hBUEVdJiYoYS5zaGFwZS5kZXN0cm95KCksYS5zaGFwZT1udWxsKTtudWxsPT1hLnNoYXBlJiZudWxsIT1hLnZpZXcuZ3JhcGguY29udGFpbmVyJiZhLmNlbGwhPWEudmlldy5jdXJyZW50Um9vdCYmKGQuaXNWZXJ0ZXgoYS5jZWxsKXx8ZC5pc0VkZ2UoYS5jZWxsKSk/KGEuc2hhcGU9dGhpcy5jcmVhdGVTaGFwZShhKSxudWxsIT1hLnNoYXBlJiYoYS5zaGFwZS5taW5TdmdTdHJva2VXaWR0aD10aGlzLm1pblN2Z1N0cm9rZVdpZHRoLGEuc2hhcGUuYW50aUFsaWFzPXRoaXMuYW50aUFsaWFzLHRoaXMuY3JlYXRlSW5kaWNhdG9yU2hhcGUoYSksCnRoaXMuaW5pdGlhbGl6ZVNoYXBlKGEpLHRoaXMuY3JlYXRlQ2VsbE92ZXJsYXlzKGEpLHRoaXMuaW5zdGFsbExpc3RlbmVycyhhKSxhLnZpZXcuZ3JhcGguc2VsZWN0aW9uQ2VsbHNIYW5kbGVyLnVwZGF0ZUhhbmRsZXIoYSkpKTpifHxudWxsPT1hLnNoYXBlfHxteFV0aWxzLmVxdWFsRW50cmllcyhhLnNoYXBlLnN0eWxlLGEuc3R5bGUpJiYhdGhpcy5jaGVja1BsYWNlaG9sZGVyU3R5bGVzKGEpfHwoYS5zaGFwZS5yZXNldFN0eWxlcygpLHRoaXMuY29uZmlndXJlU2hhcGUoYSksYS52aWV3LmdyYXBoLnNlbGVjdGlvbkNlbGxzSGFuZGxlci51cGRhdGVIYW5kbGVyKGEpLGI9ITApO251bGwhPWEuc2hhcGUmJmEuc2hhcGUuaW5kaWNhdG9yU2hhcGUhPXRoaXMuZ2V0U2hhcGUoYS52aWV3LmdyYXBoLmdldEluZGljYXRvclNoYXBlKGEpKSYmKG51bGwhPWEuc2hhcGUuaW5kaWNhdG9yJiYoYS5zaGFwZS5pbmRpY2F0b3IuZGVzdHJveSgpLGEuc2hhcGUuaW5kaWNhdG9yPW51bGwpLHRoaXMuY3JlYXRlSW5kaWNhdG9yU2hhcGUoYSksCm51bGwhPWEuc2hhcGUuaW5kaWNhdG9yU2hhcGUmJihhLnNoYXBlLmluZGljYXRvcj1uZXcgYS5zaGFwZS5pbmRpY2F0b3JTaGFwZSxhLnNoYXBlLmluZGljYXRvci5kaWFsZWN0PWEuc2hhcGUuZGlhbGVjdCxhLnNoYXBlLmluZGljYXRvci5pbml0KGEubm9kZSksYj0hMCkpO251bGwhPWEuc2hhcGUmJih0aGlzLmNyZWF0ZUNvbnRyb2woYSksYnx8dGhpcy5pc1NoYXBlSW52YWxpZChhLGEuc2hhcGUpKSYmKG51bGwhPWEuYWJzb2x1dGVQb2ludHM/KGEuc2hhcGUucG9pbnRzPWEuYWJzb2x1dGVQb2ludHMuc2xpY2UoKSxhLnNoYXBlLmJvdW5kcz1udWxsKTooYS5zaGFwZS5wb2ludHM9bnVsbCxhLnNoYXBlLmJvdW5kcz1uZXcgbXhSZWN0YW5nbGUoYS54LGEueSxhLndpZHRoLGEuaGVpZ2h0KSksYS5zaGFwZS5zY2FsZT1hLnZpZXcuc2NhbGUsbnVsbD09Y3x8Yz90aGlzLmRvUmVkcmF3U2hhcGUoYSk6YS5zaGFwZS51cGRhdGVCb3VuZGluZ0JveCgpLGU9ITApO3JldHVybiBlfTsKbXhDZWxsUmVuZGVyZXIucHJvdG90eXBlLmRvUmVkcmF3U2hhcGU9ZnVuY3Rpb24oYSl7YS5zaGFwZS5yZWRyYXcoKX07bXhDZWxsUmVuZGVyZXIucHJvdG90eXBlLmlzU2hhcGVJbnZhbGlkPWZ1bmN0aW9uKGEsYil7cmV0dXJuIG51bGw9PWIuYm91bmRzfHxiLnNjYWxlIT1hLnZpZXcuc2NhbGV8fG51bGw9PWEuYWJzb2x1dGVQb2ludHMmJiFiLmJvdW5kcy5lcXVhbHMoYSl8fG51bGwhPWEuYWJzb2x1dGVQb2ludHMmJiFteFV0aWxzLmVxdWFsUG9pbnRzKGIucG9pbnRzLGEuYWJzb2x1dGVQb2ludHMpfTsKbXhDZWxsUmVuZGVyZXIucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oYSl7bnVsbCE9YS5zaGFwZSYmKG51bGwhPWEudGV4dCYmKGEudGV4dC5kZXN0cm95KCksYS50ZXh0PW51bGwpLG51bGwhPWEub3ZlcmxheXMmJihhLm92ZXJsYXlzLnZpc2l0KGZ1bmN0aW9uKGEsYyl7Yy5kZXN0cm95KCl9KSxhLm92ZXJsYXlzPW51bGwpLG51bGwhPWEuY29udHJvbCYmKGEuY29udHJvbC5kZXN0cm95KCksYS5jb250cm9sPW51bGwpLGEuc2hhcGUuZGVzdHJveSgpLGEuc2hhcGU9bnVsbCl9Owp2YXIgbXhFZGdlU3R5bGU9e0VudGl0eVJlbGF0aW9uOmZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9YS52aWV3LGc9Zi5ncmFwaDtkPW14VXRpbHMuZ2V0VmFsdWUoYS5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9TRUdNRU5ULG14Q29uc3RhbnRzLkVOVElUWV9TRUdNRU5UKSpmLnNjYWxlO3ZhciBrPWEuYWJzb2x1dGVQb2ludHMsbD1rWzBdLG09a1trLmxlbmd0aC0xXSxrPSExO2lmKG51bGwhPWwpYj1uZXcgbXhDZWxsU3RhdGUsYi54PWwueCxiLnk9bC55O2Vsc2UgaWYobnVsbCE9Yil7dmFyIG49bXhVdGlscy5nZXRQb3J0Q29uc3RyYWludHMoYixhLCEwLG14Q29uc3RhbnRzLkRJUkVDVElPTl9NQVNLX05PTkUpO24hPW14Q29uc3RhbnRzLkRJUkVDVElPTl9NQVNLX05PTkUmJm4hPW14Q29uc3RhbnRzLkRJUkVDVElPTl9NQVNLX1dFU1QrbXhDb25zdGFudHMuRElSRUNUSU9OX01BU0tfRUFTVD9rPW49PW14Q29uc3RhbnRzLkRJUkVDVElPTl9NQVNLX1dFU1Q6KGw9Zy5nZXRDZWxsR2VvbWV0cnkoYi5jZWxsKSwKbC5yZWxhdGl2ZT9rPS41Pj1sLng6bnVsbCE9YyYmKGs9Yy54K2Mud2lkdGg8Yi54KSl9ZWxzZSByZXR1cm47bD0hMDtudWxsIT1tPyhjPW5ldyBteENlbGxTdGF0ZSxjLng9bS54LGMueT1tLnkpOm51bGwhPWMmJihuPW14VXRpbHMuZ2V0UG9ydENvbnN0cmFpbnRzKGMsYSwhMSxteENvbnN0YW50cy5ESVJFQ1RJT05fTUFTS19OT05FKSxuIT1teENvbnN0YW50cy5ESVJFQ1RJT05fTUFTS19OT05FJiZuIT1teENvbnN0YW50cy5ESVJFQ1RJT05fTUFTS19XRVNUK214Q29uc3RhbnRzLkRJUkVDVElPTl9NQVNLX0VBU1Q/bD1uPT1teENvbnN0YW50cy5ESVJFQ1RJT05fTUFTS19XRVNUOihhPWcuZ2V0Q2VsbEdlb21ldHJ5KGMuY2VsbCksYS5yZWxhdGl2ZT9sPS41Pj1hLng6bnVsbCE9YiYmKGw9Yi54K2Iud2lkdGg8Yy54KSkpO251bGwhPWImJm51bGwhPWMmJihhPWs/Yi54OmIueCtiLndpZHRoLGI9Zi5nZXRSb3V0aW5nQ2VudGVyWShiKSxnPWw/Yy54OmMueCtjLndpZHRoLGM9Zi5nZXRSb3V0aW5nQ2VudGVyWShjKSwKZj1uZXcgbXhQb2ludChhKyhrPy1kOmQpLGIpLG09bmV3IG14UG9pbnQoZysobD8tZDpkKSxjKSxrPT1sPyhkPWs/TWF0aC5taW4oYSxnKS1kOk1hdGgubWF4KGEsZykrZCxlLnB1c2gobmV3IG14UG9pbnQoZCxiKSksZS5wdXNoKG5ldyBteFBvaW50KGQsYykpKTooZi54PG0ueD09az8oZD1iKyhjLWIpLzIsZS5wdXNoKGYpLGUucHVzaChuZXcgbXhQb2ludChmLngsZCkpLGUucHVzaChuZXcgbXhQb2ludChtLngsZCkpKTplLnB1c2goZiksZS5wdXNoKG0pKSl9LExvb3A6ZnVuY3Rpb24oYSxiLGMsZCxlKXtjPWEuYWJzb2x1dGVQb2ludHM7dmFyIGY9Y1tjLmxlbmd0aC0xXTtpZihudWxsIT1jWzBdJiZudWxsIT1mKXtpZihudWxsIT1kJiYwPGQubGVuZ3RoKWZvcihiPTA7YjxkLmxlbmd0aDtiKyspYz1kW2JdLGM9YS52aWV3LnRyYW5zZm9ybUNvbnRyb2xQb2ludChhLGMpLGUucHVzaChuZXcgbXhQb2ludChjLngsYy55KSl9ZWxzZSBpZihudWxsIT1iKXt2YXIgZj1hLnZpZXcsZz1mLmdyYXBoOwpjPW51bGwhPWQmJjA8ZC5sZW5ndGg/ZFswXTpudWxsO251bGwhPWMmJihjPWYudHJhbnNmb3JtQ29udHJvbFBvaW50KGEsYyksbXhVdGlscy5jb250YWlucyhiLGMueCxjLnkpJiYoYz1udWxsKSk7dmFyIGs9ZD0wLGw9MCxtPTAsZz1teFV0aWxzLmdldFZhbHVlKGEuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfU0VHTUVOVCxnLmdyaWRTaXplKSpmLnNjYWxlO2E9bXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0RJUkVDVElPTixteENvbnN0YW50cy5ESVJFQ1RJT05fV0VTVCk7YT09bXhDb25zdGFudHMuRElSRUNUSU9OX05PUlRIfHxhPT1teENvbnN0YW50cy5ESVJFQ1RJT05fU09VVEg/KGQ9Zi5nZXRSb3V0aW5nQ2VudGVyWChiKSxrPWcpOihsPWYuZ2V0Um91dGluZ0NlbnRlclkoYiksbT1nKTtudWxsPT1jfHxjLng8Yi54fHxjLng+Yi54K2Iud2lkdGg/bnVsbCE9Yz8oZD1jLngsbT1NYXRoLm1heChNYXRoLmFicyhsLWMueSksbSkpOmE9PW14Q29uc3RhbnRzLkRJUkVDVElPTl9OT1JUSD8KbD1iLnktMiprOmE9PW14Q29uc3RhbnRzLkRJUkVDVElPTl9TT1VUSD9sPWIueStiLmhlaWdodCsyKms6ZD1hPT1teENvbnN0YW50cy5ESVJFQ1RJT05fRUFTVD9iLngtMiptOmIueCtiLndpZHRoKzIqbTpudWxsIT1jJiYoZD1mLmdldFJvdXRpbmdDZW50ZXJYKGIpLGs9TWF0aC5tYXgoTWF0aC5hYnMoZC1jLngpLG0pLGw9Yy55LG09MCk7ZS5wdXNoKG5ldyBteFBvaW50KGQtayxsLW0pKTtlLnB1c2gobmV3IG14UG9pbnQoZCtrLGwrbSkpfX0sRWxib3dDb25uZWN0b3I6ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZj1udWxsIT1kJiYwPGQubGVuZ3RoP2RbMF06bnVsbCxnPSExLGs9ITE7aWYobnVsbCE9YiYmbnVsbCE9YylpZihudWxsIT1mKXZhciBsPU1hdGgubWluKGIueCxjLngpLG09TWF0aC5tYXgoYi54K2Iud2lkdGgsYy54K2Mud2lkdGgpLGs9TWF0aC5taW4oYi55LGMueSksbj1NYXRoLm1heChiLnkrYi5oZWlnaHQsYy55K2MuaGVpZ2h0KSxmPWEudmlldy50cmFuc2Zvcm1Db250cm9sUG9pbnQoYSwKZiksZz1mLnk8a3x8Zi55Pm4saz1mLng8bHx8Zi54Pm07ZWxzZSBsPU1hdGgubWF4KGIueCxjLngpLG09TWF0aC5taW4oYi54K2Iud2lkdGgsYy54K2Mud2lkdGgpLChnPWw9PW0pfHwoaz1NYXRoLm1heChiLnksYy55KSxuPU1hdGgubWluKGIueStiLmhlaWdodCxjLnkrYy5oZWlnaHQpLGs9az09bik7a3x8IWcmJmEuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfRUxCT1ddIT1teENvbnN0YW50cy5FTEJPV19WRVJUSUNBTD9teEVkZ2VTdHlsZS5TaWRlVG9TaWRlKGEsYixjLGQsZSk6bXhFZGdlU3R5bGUuVG9wVG9Cb3R0b20oYSxiLGMsZCxlKX0sU2lkZVRvU2lkZTpmdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmPWEudmlldztkPW51bGwhPWQmJjA8ZC5sZW5ndGg/ZFswXTpudWxsO3ZhciBnPWEuYWJzb2x1dGVQb2ludHMsaz1nWzBdLGc9Z1tnLmxlbmd0aC0xXTtudWxsIT1kJiYoZD1mLnRyYW5zZm9ybUNvbnRyb2xQb2ludChhLGQpKTtudWxsIT1rJiYoYj1uZXcgbXhDZWxsU3RhdGUsCmIueD1rLngsYi55PWsueSk7bnVsbCE9ZyYmKGM9bmV3IG14Q2VsbFN0YXRlLGMueD1nLngsYy55PWcueSk7bnVsbCE9YiYmbnVsbCE9YyYmKGE9TWF0aC5tYXgoYi54LGMueCksaz1NYXRoLm1pbihiLngrYi53aWR0aCxjLngrYy53aWR0aCksYT1udWxsIT1kP2QueDpNYXRoLnJvdW5kKGsrKGEtaykvMiksaz1mLmdldFJvdXRpbmdDZW50ZXJZKGIpLGY9Zi5nZXRSb3V0aW5nQ2VudGVyWShjKSxudWxsIT1kJiYoZC55Pj1iLnkmJmQueTw9Yi55K2IuaGVpZ2h0JiYoaz1kLnkpLGQueT49Yy55JiZkLnk8PWMueStjLmhlaWdodCYmKGY9ZC55KSksbXhVdGlscy5jb250YWlucyhjLGEsayl8fG14VXRpbHMuY29udGFpbnMoYixhLGspfHxlLnB1c2gobmV3IG14UG9pbnQoYSxrKSksbXhVdGlscy5jb250YWlucyhjLGEsZil8fG14VXRpbHMuY29udGFpbnMoYixhLGYpfHxlLnB1c2gobmV3IG14UG9pbnQoYSxmKSksMT09ZS5sZW5ndGgmJihudWxsIT1kP214VXRpbHMuY29udGFpbnMoYyxhLApkLnkpfHxteFV0aWxzLmNvbnRhaW5zKGIsYSxkLnkpfHxlLnB1c2gobmV3IG14UG9pbnQoYSxkLnkpKTooZj1NYXRoLm1heChiLnksYy55KSxlLnB1c2gobmV3IG14UG9pbnQoYSxmKyhNYXRoLm1pbihiLnkrYi5oZWlnaHQsYy55K2MuaGVpZ2h0KS1mKS8yKSkpKSl9LFRvcFRvQm90dG9tOmZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9YS52aWV3O2Q9bnVsbCE9ZCYmMDxkLmxlbmd0aD9kWzBdOm51bGw7dmFyIGc9YS5hYnNvbHV0ZVBvaW50cyxrPWdbMF0sZz1nW2cubGVuZ3RoLTFdO251bGwhPWQmJihkPWYudHJhbnNmb3JtQ29udHJvbFBvaW50KGEsZCkpO251bGwhPWsmJihiPW5ldyBteENlbGxTdGF0ZSxiLng9ay54LGIueT1rLnkpO251bGwhPWcmJihjPW5ldyBteENlbGxTdGF0ZSxjLng9Zy54LGMueT1nLnkpO251bGwhPWImJm51bGwhPWMmJihrPU1hdGgubWF4KGIueSxjLnkpLGc9TWF0aC5taW4oYi55K2IuaGVpZ2h0LGMueStjLmhlaWdodCksYT1mLmdldFJvdXRpbmdDZW50ZXJYKGIpLApudWxsIT1kJiZkLng+PWIueCYmZC54PD1iLngrYi53aWR0aCYmKGE9ZC54KSxrPW51bGwhPWQ/ZC55Ok1hdGgucm91bmQoZysoay1nKS8yKSxteFV0aWxzLmNvbnRhaW5zKGMsYSxrKXx8bXhVdGlscy5jb250YWlucyhiLGEsayl8fGUucHVzaChuZXcgbXhQb2ludChhLGspKSxhPW51bGwhPWQmJmQueD49Yy54JiZkLng8PWMueCtjLndpZHRoP2QueDpmLmdldFJvdXRpbmdDZW50ZXJYKGMpLG14VXRpbHMuY29udGFpbnMoYyxhLGspfHxteFV0aWxzLmNvbnRhaW5zKGIsYSxrKXx8ZS5wdXNoKG5ldyBteFBvaW50KGEsaykpLDE9PWUubGVuZ3RoJiYobnVsbCE9ZCYmMT09ZS5sZW5ndGg/bXhVdGlscy5jb250YWlucyhjLGQueCxrKXx8bXhVdGlscy5jb250YWlucyhiLGQueCxrKXx8ZS5wdXNoKG5ldyBteFBvaW50KGQueCxrKSk6KGY9TWF0aC5tYXgoYi54LGMueCksZS5wdXNoKG5ldyBteFBvaW50KGYrKE1hdGgubWluKGIueCtiLndpZHRoLGMueCtjLndpZHRoKS1mKS8yLGspKSkpKX0sClNlZ21lbnRDb25uZWN0b3I6ZnVuY3Rpb24oYSxiLGMsZCxlKXtmdW5jdGlvbiBmKGIpe2IueD1NYXRoLnJvdW5kKGIueCphLnZpZXcuc2NhbGUqMTApLzEwO2IueT1NYXRoLnJvdW5kKGIueSphLnZpZXcuc2NhbGUqMTApLzEwO2lmKG51bGw9PWt8fDE8PU1hdGguYWJzKGsueC1iLngpfHxNYXRoLmFicyhrLnktYi55KT49TWF0aC5tYXgoMSxhLnZpZXcuc2NhbGUpKWUucHVzaChiKSxrPWI7cmV0dXJuIGt9dmFyIGc9bXhFZGdlU3R5bGUuc2NhbGVQb2ludEFycmF5KGEuYWJzb2x1dGVQb2ludHMsYS52aWV3LnNjYWxlKTtiPW14RWRnZVN0eWxlLnNjYWxlQ2VsbFN0YXRlKGIsYS52aWV3LnNjYWxlKTtjPW14RWRnZVN0eWxlLnNjYWxlQ2VsbFN0YXRlKGMsYS52aWV3LnNjYWxlKTt2YXIgaz0wPGUubGVuZ3RoP2VbMF06bnVsbCxsPSEwLG09bnVsbCxuPWdbMF07bnVsbD09biYmbnVsbCE9Yj9uPW5ldyBteFBvaW50KGEudmlldy5nZXRSb3V0aW5nQ2VudGVyWChiKSxhLnZpZXcuZ2V0Um91dGluZ0NlbnRlclkoYikpOgpudWxsIT1uJiYobj1uLmNsb25lKCkpO3ZhciBwPWcubGVuZ3RoLTE7aWYobnVsbCE9ZCYmMDxkLmxlbmd0aCl7Zm9yKHZhciBxPVtdLHI9MDtyPGQubGVuZ3RoO3IrKyl7dmFyIHQ9YS52aWV3LnRyYW5zZm9ybUNvbnRyb2xQb2ludChhLGRbcl0sITApO251bGwhPXQmJnEucHVzaCh0KX1pZigwPT1xLmxlbmd0aClyZXR1cm47bnVsbCE9biYmbnVsbCE9cVswXSYmKDE+TWF0aC5hYnMocVswXS54LW4ueCkmJihxWzBdLng9bi54KSwxPk1hdGguYWJzKHFbMF0ueS1uLnkpJiYocVswXS55PW4ueSkpO3Q9Z1twXTtudWxsIT10JiZudWxsIT1xW3EubGVuZ3RoLTFdJiYoMT5NYXRoLmFicyhxW3EubGVuZ3RoLTFdLngtdC54KSYmKHFbcS5sZW5ndGgtMV0ueD10LngpLDE+TWF0aC5hYnMocVtxLmxlbmd0aC0xXS55LXQueSkmJihxW3EubGVuZ3RoLTFdLnk9dC55KSk7dmFyIG09cVswXSx1PWI7ZD1nWzBdO3ZhciB4PSExLHk9ITEseD1tO251bGwhPWQmJih1PW51bGwpO2ZvcihyPTA7Mj5yO3IrKyl7dmFyIEI9Cm51bGwhPWQmJmQueD09eC54LEE9bnVsbCE9ZCYmZC55PT14Lnksej1udWxsIT11JiZ4Lnk+PXUueSYmeC55PD11LnkrdS5oZWlnaHQsdT1udWxsIT11JiZ4Lng+PXUueCYmeC54PD11LngrdS53aWR0aCx4PUF8fG51bGw9PWQmJnoseT1CfHxudWxsPT1kJiZ1O2lmKDAhPXJ8fCEoeCYmeXx8QiYmQSkpe2lmKG51bGwhPWQmJiFBJiYhQiYmKHp8fHUpKXtsPXo/ITE6ITA7YnJlYWt9aWYoeXx8eCl7bD14OzE9PXImJihsPTA9PXEubGVuZ3RoJTI/eDp5KTticmVha319dT1jO2Q9Z1twXTtudWxsIT1kJiYodT1udWxsKTt4PXFbcS5sZW5ndGgtMV07QiYmQSYmKHE9cS5zbGljZSgxKSl9bCYmKG51bGwhPWdbMF0mJmdbMF0ueSE9bS55fHxudWxsPT1nWzBdJiZudWxsIT1iJiYobS55PGIueXx8bS55PmIueStiLmhlaWdodCkpP2YobmV3IG14UG9pbnQobi54LG0ueSkpOiFsJiYobnVsbCE9Z1swXSYmZ1swXS54IT1tLnh8fG51bGw9PWdbMF0mJm51bGwhPWImJihtLng8Yi54fHxtLng+Yi54KwpiLndpZHRoKSkmJmYobmV3IG14UG9pbnQobS54LG4ueSkpO2w/bi55PW0ueTpuLng9bS54O2ZvcihyPTA7cjxxLmxlbmd0aDtyKyspbD0hbCxtPXFbcl0sbD9uLnk9bS55Om4ueD1tLngsZihuLmNsb25lKCkpfWVsc2UgbT1uLGw9ITA7bj1nW3BdO251bGw9PW4mJm51bGwhPWMmJihuPW5ldyBteFBvaW50KGEudmlldy5nZXRSb3V0aW5nQ2VudGVyWChjKSxhLnZpZXcuZ2V0Um91dGluZ0NlbnRlclkoYykpKTtudWxsIT1uJiZudWxsIT1tJiYobCYmKG51bGwhPWdbcF0mJmdbcF0ueSE9bS55fHxudWxsPT1nW3BdJiZudWxsIT1jJiYobS55PGMueXx8bS55PmMueStjLmhlaWdodCkpP2YobmV3IG14UG9pbnQobi54LG0ueSkpOiFsJiYobnVsbCE9Z1twXSYmZ1twXS54IT1tLnh8fG51bGw9PWdbcF0mJm51bGwhPWMmJihtLng8Yy54fHxtLng+Yy54K2Mud2lkdGgpKSYmZihuZXcgbXhQb2ludChtLngsbi55KSkpO2lmKG51bGw9PWdbMF0mJm51bGwhPWIpZm9yKDsxPGUubGVuZ3RoJiZudWxsIT0KZVsxXSYmbXhVdGlscy5jb250YWlucyhiLGVbMV0ueCxlWzFdLnkpOyllLnNwbGljZSgxLDEpO2lmKG51bGw9PWdbcF0mJm51bGwhPWMpZm9yKDsxPGUubGVuZ3RoJiZudWxsIT1lW2UubGVuZ3RoLTFdJiZteFV0aWxzLmNvbnRhaW5zKGMsZVtlLmxlbmd0aC0xXS54LGVbZS5sZW5ndGgtMV0ueSk7KWUuc3BsaWNlKGUubGVuZ3RoLTEsMSk7bnVsbCE9dCYmbnVsbCE9ZVtlLmxlbmd0aC0xXSYmMT49TWF0aC5hYnModC54LWVbZS5sZW5ndGgtMV0ueCkmJjE+PU1hdGguYWJzKHQueS1lW2UubGVuZ3RoLTFdLnkpJiYoZS5zcGxpY2UoZS5sZW5ndGgtMSwxKSxudWxsIT1lW2UubGVuZ3RoLTFdJiYoMT5NYXRoLmFicyhlW2UubGVuZ3RoLTFdLngtdC54KSYmKGVbZS5sZW5ndGgtMV0ueD10LngpLDE+TWF0aC5hYnMoZVtlLmxlbmd0aC0xXS55LXQueSkmJihlW2UubGVuZ3RoLTFdLnk9dC55KSkpfSxvcnRoQnVmZmVyOjEwLG9ydGhQb2ludHNGYWxsYmFjazohMCxkaXJWZWN0b3JzOltbLTEsCjBdLFswLC0xXSxbMSwwXSxbMCwxXSxbLTEsMF0sWzAsLTFdLFsxLDBdXSx3YXlQb2ludHMxOltbMCwwXSxbMCwwXSxbMCwwXSxbMCwwXSxbMCwwXSxbMCwwXSxbMCwwXSxbMCwwXSxbMCwwXSxbMCwwXSxbMCwwXSxbMCwwXV0scm91dGVQYXR0ZXJuczpbW1s1MTMsMjMwOCwyMDgxLDI1NjJdLFs1MTMsMTA5MCw1MTQsMjE4NCwyMTE0LDI1NjFdLFs1MTMsMTA5MCw1MTQsMjU2NCwyMTg0LDI1NjJdLFs1MTMsMjMwOCwyNTYxLDEwOTAsNTE0LDI1NjgsMjMwOF1dLFtbNTE0LDEwNTcsNTEzLDIzMDgsMjA4MSwyNTYyXSxbNTE0LDIxODQsMjExNCwyNTYxXSxbNTE0LDIxODQsMjU2MiwxMDU3LDUxMywyNTY0LDIxODRdLFs1MTQsMTA1Nyw1MTMsMjU2OCwyMzA4LDI1NjFdXSxbWzEwOTAsNTE0LDEwNTcsNTEzLDIzMDgsMjA4MSwyNTYyXSxbMjExNCwyNTYxXSxbMTA5MCwyNTYyLDEwNTcsNTEzLDI1NjQsMjE4NF0sWzEwOTAsNTE0LDEwNTcsNTEzLDIzMDgsMjU2MSwyNTY4XV0sW1syMDgxLAoyNTYyXSxbMTA1Nyw1MTMsMTA5MCw1MTQsMjE4NCwyMTE0LDI1NjFdLFsxMDU3LDUxMywxMDkwLDUxNCwyMTg0LDI1NjIsMjU2NF0sWzEwNTcsMjU2MSwxMDkwLDUxNCwyNTY4LDIzMDhdXV0saW5saW5lUm91dGVQYXR0ZXJuczpbW251bGwsWzIxMTQsMjU2OF0sbnVsbCxudWxsXSxbbnVsbCxbNTE0LDIwODEsMjExNCwyNTY4XSxudWxsLG51bGxdLFtudWxsLFsyMTE0LDI1NjFdLG51bGwsbnVsbF0sW1syMDgxLDI1NjJdLFsxMDU3LDIxMTQsMjU2OF0sWzIxODQsMjU2Ml0sbnVsbF1dLHZlcnRleFNlcGVyYXRpb25zOltdLGxpbWl0czpbWzAsMCwwLDAsMCwwLDAsMCwwXSxbMCwwLDAsMCwwLDAsMCwwLDBdXSxMRUZUX01BU0s6MzIsVE9QX01BU0s6NjQsUklHSFRfTUFTSzoxMjgsQk9UVE9NX01BU0s6MjU2LExFRlQ6MSxUT1A6MixSSUdIVDo0LEJPVFRPTTo4LFNJREVfTUFTSzo0ODAsQ0VOVEVSX01BU0s6NTEyLFNPVVJDRV9NQVNLOjEwMjQsVEFSR0VUX01BU0s6MjA0OCxWRVJURVhfTUFTSzozMDcyLApnZXRKZXR0eVNpemU6ZnVuY3Rpb24oYSxiKXt2YXIgYz1teFV0aWxzLmdldFZhbHVlKGEuc3R5bGUsYj9teENvbnN0YW50cy5TVFlMRV9TT1VSQ0VfSkVUVFlfU0laRTpteENvbnN0YW50cy5TVFlMRV9UQVJHRVRfSkVUVFlfU0laRSxteFV0aWxzLmdldFZhbHVlKGEuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfSkVUVFlfU0laRSxteEVkZ2VTdHlsZS5vcnRoQnVmZmVyKSk7ImF1dG8iPT1jJiYobXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLGI/bXhDb25zdGFudHMuU1RZTEVfU1RBUlRBUlJPVzpteENvbnN0YW50cy5TVFlMRV9FTkRBUlJPVyxteENvbnN0YW50cy5OT05FKSE9bXhDb25zdGFudHMuTk9ORT8oYz1teFV0aWxzLmdldE51bWJlcihhLnN0eWxlLGI/bXhDb25zdGFudHMuU1RZTEVfU1RBUlRTSVpFOm14Q29uc3RhbnRzLlNUWUxFX0VORFNJWkUsbXhDb25zdGFudHMuREVGQVVMVF9NQVJLRVJTSVpFKSxjPU1hdGgubWF4KDIsTWF0aC5jZWlsKChjK214RWRnZVN0eWxlLm9ydGhCdWZmZXIpLwpteEVkZ2VTdHlsZS5vcnRoQnVmZmVyKSkqbXhFZGdlU3R5bGUub3J0aEJ1ZmZlcik6Yz0yKm14RWRnZVN0eWxlLm9ydGhCdWZmZXIpO3JldHVybiBjfSxzY2FsZVBvaW50QXJyYXk6ZnVuY3Rpb24oYSxiKXt2YXIgYz1bXTtpZihudWxsIT1hKWZvcih2YXIgZD0wO2Q8YS5sZW5ndGg7ZCsrKWlmKG51bGwhPWFbZF0pe3ZhciBlPW5ldyBteFBvaW50KE1hdGgucm91bmQoYVtkXS54L2IqMTApLzEwLE1hdGgucm91bmQoYVtkXS55L2IqMTApLzEwKTtjW2RdPWV9ZWxzZSBjW2RdPW51bGw7ZWxzZSBjPW51bGw7cmV0dXJuIGN9LHNjYWxlQ2VsbFN0YXRlOmZ1bmN0aW9uKGEsYil7dmFyIGM7bnVsbCE9YT8oYz1hLmNsb25lKCksYy5zZXRSZWN0KE1hdGgucm91bmQoYS54L2IqMTApLzEwLE1hdGgucm91bmQoYS55L2IqMTApLzEwLE1hdGgucm91bmQoYS53aWR0aC9iKjEwKS8xMCxNYXRoLnJvdW5kKGEuaGVpZ2h0L2IqMTApLzEwKSk6Yz1udWxsO3JldHVybiBjfSxPcnRoQ29ubmVjdG9yOmZ1bmN0aW9uKGEsCmIsYyxkLGUpe3ZhciBmPWEudmlldy5ncmFwaCxnPW51bGw9PWw/ITE6Zi5nZXRNb2RlbCgpLmlzRWRnZShsLmNlbGwpLGs9bnVsbD09bT8hMTpmLmdldE1vZGVsKCkuaXNFZGdlKG0uY2VsbCksZj1teEVkZ2VTdHlsZS5zY2FsZVBvaW50QXJyYXkoYS5hYnNvbHV0ZVBvaW50cyxhLnZpZXcuc2NhbGUpLGw9bXhFZGdlU3R5bGUuc2NhbGVDZWxsU3RhdGUoYixhLnZpZXcuc2NhbGUpLG09bXhFZGdlU3R5bGUuc2NhbGVDZWxsU3RhdGUoYyxhLnZpZXcuc2NhbGUpLG49ZlswXSxwPWZbZi5sZW5ndGgtMV0scT1udWxsIT1sP2wueDpuLngscj1udWxsIT1sP2wueTpuLnksdD1udWxsIT1sP2wud2lkdGg6MCx1PW51bGwhPWw/bC5oZWlnaHQ6MCx4PW51bGwhPW0/bS54OnAueCx5PW51bGwhPW0/bS55OnAueSxCPW51bGwhPW0/bS53aWR0aDowLEE9bnVsbCE9bT9tLmhlaWdodDowLGY9bXhFZGdlU3R5bGUuZ2V0SmV0dHlTaXplKGEsITApLHo9bXhFZGdlU3R5bGUuZ2V0SmV0dHlTaXplKGEsITEpOwpudWxsIT1sJiZtPT1sJiYoZj16PU1hdGgubWF4KGYseikpO3ZhciBDPXorZix2PSExO2lmKG51bGwhPW4mJm51bGwhPXApdmFyIHY9cC54LW4ueCxEPXAueS1uLnksdj12KnYrRCpEPEMqQztpZih2fHxteEVkZ2VTdHlsZS5vcnRoUG9pbnRzRmFsbGJhY2smJm51bGwhPWQmJjA8ZC5sZW5ndGh8fGd8fGspbXhFZGdlU3R5bGUuU2VnbWVudENvbm5lY3RvcihhLGIsYyxkLGUpO2Vsc2V7Yz1bbXhDb25zdGFudHMuRElSRUNUSU9OX01BU0tfQUxMLG14Q29uc3RhbnRzLkRJUkVDVElPTl9NQVNLX0FMTF07bnVsbCE9bCYmKGNbMF09bXhVdGlscy5nZXRQb3J0Q29uc3RyYWludHMobCxhLCEwLG14Q29uc3RhbnRzLkRJUkVDVElPTl9NQVNLX0FMTCksYj1teFV0aWxzLmdldFZhbHVlKGwuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfUk9UQVRJT04sMCksMCE9YiYmKGI9bXhVdGlscy5nZXRCb3VuZGluZ0JveChuZXcgbXhSZWN0YW5nbGUocSxyLHQsdSksYikscT1iLngscj1iLnksdD1iLndpZHRoLAp1PWIuaGVpZ2h0KSk7bnVsbCE9bSYmKGNbMV09bXhVdGlscy5nZXRQb3J0Q29uc3RyYWludHMobSxhLCExLG14Q29uc3RhbnRzLkRJUkVDVElPTl9NQVNLX0FMTCksYj1teFV0aWxzLmdldFZhbHVlKG0uc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfUk9UQVRJT04sMCksMCE9YiYmKGI9bXhVdGlscy5nZXRCb3VuZGluZ0JveChuZXcgbXhSZWN0YW5nbGUoeCx5LEIsQSksYikseD1iLngseT1iLnksQj1iLndpZHRoLEE9Yi5oZWlnaHQpKTtiPVswLDBdO3E9W1txLHIsdCx1XSxbeCx5LEIsQV1dO3o9W2Ysel07Zm9yKHY9MDsyPnY7disrKW14RWRnZVN0eWxlLmxpbWl0c1t2XVsxXT1xW3ZdWzBdLXpbdl0sbXhFZGdlU3R5bGUubGltaXRzW3ZdWzJdPXFbdl1bMV0telt2XSxteEVkZ2VTdHlsZS5saW1pdHNbdl1bNF09cVt2XVswXStxW3ZdWzJdK3pbdl0sbXhFZGdlU3R5bGUubGltaXRzW3ZdWzhdPXFbdl1bMV0rcVt2XVszXSt6W3ZdO3o9cVswXVsxXStxWzBdWzNdLzI7cj1xWzFdWzFdK3FbMV1bM10vCjI7dj1xWzBdWzBdK3FbMF1bMl0vMi0ocVsxXVswXStxWzFdWzJdLzIpO0Q9ei1yO3o9MDswPnY/ej0wPkQ/MjoxOjA+PUQmJih6PTMsMD09diYmKHo9MikpO3I9bnVsbDtudWxsIT1sJiYocj1uKTtsPVtbLjUsLjVdLFsuNSwuNV1dO2Zvcih2PTA7Mj52O3YrKyludWxsIT1yJiYobFt2XVswXT0oci54LXFbdl1bMF0pL3Fbdl1bMl0sMT49TWF0aC5hYnMoci54LXFbdl1bMF0pP2Jbdl09bXhDb25zdGFudHMuRElSRUNUSU9OX01BU0tfV0VTVDoxPj1NYXRoLmFicyhyLngtcVt2XVswXS1xW3ZdWzJdKSYmKGJbdl09bXhDb25zdGFudHMuRElSRUNUSU9OX01BU0tfRUFTVCksbFt2XVsxXT0oci55LXFbdl1bMV0pL3Fbdl1bM10sMT49TWF0aC5hYnMoci55LXFbdl1bMV0pP2Jbdl09bXhDb25zdGFudHMuRElSRUNUSU9OX01BU0tfTk9SVEg6MT49TWF0aC5hYnMoci55LXFbdl1bMV0tcVt2XVszXSkmJihiW3ZdPW14Q29uc3RhbnRzLkRJUkVDVElPTl9NQVNLX1NPVVRIKSkscj1udWxsLG51bGwhPQptJiYocj1wKTt2PXFbMF1bMV0tKHFbMV1bMV0rcVsxXVszXSk7cD1xWzBdWzBdLShxWzFdWzBdK3FbMV1bMl0pO3I9cVsxXVsxXS0ocVswXVsxXStxWzBdWzNdKTt0PXFbMV1bMF0tKHFbMF1bMF0rcVswXVsyXSk7bXhFZGdlU3R5bGUudmVydGV4U2VwZXJhdGlvbnNbMV09TWF0aC5tYXgocC1DLDApO214RWRnZVN0eWxlLnZlcnRleFNlcGVyYXRpb25zWzJdPU1hdGgubWF4KHYtQywwKTtteEVkZ2VTdHlsZS52ZXJ0ZXhTZXBlcmF0aW9uc1s0XT1NYXRoLm1heChyLUMsMCk7bXhFZGdlU3R5bGUudmVydGV4U2VwZXJhdGlvbnNbM109TWF0aC5tYXgodC1DLDApO0M9W107bT1bXTtuPVtdO21bMF09cD49dD9teENvbnN0YW50cy5ESVJFQ1RJT05fTUFTS19XRVNUOm14Q29uc3RhbnRzLkRJUkVDVElPTl9NQVNLX0VBU1Q7blswXT12Pj1yP214Q29uc3RhbnRzLkRJUkVDVElPTl9NQVNLX05PUlRIOm14Q29uc3RhbnRzLkRJUkVDVElPTl9NQVNLX1NPVVRIO21bMV09bXhVdGlscy5yZXZlcnNlUG9ydENvbnN0cmFpbnRzKG1bMF0pOwpuWzFdPW14VXRpbHMucmV2ZXJzZVBvcnRDb25zdHJhaW50cyhuWzBdKTtwPXA+PXQ/cDp0O3I9dj49cj92OnI7dD1bWzAsMF0sWzAsMF1dO3U9ITE7Zm9yKHY9MDsyPnY7disrKTA9PWJbdl0mJigwPT0obVt2XSZjW3ZdKSYmKG1bdl09bXhVdGlscy5yZXZlcnNlUG9ydENvbnN0cmFpbnRzKG1bdl0pKSwwPT0oblt2XSZjW3ZdKSYmKG5bdl09bXhVdGlscy5yZXZlcnNlUG9ydENvbnN0cmFpbnRzKG5bdl0pKSx0W3ZdWzBdPW5bdl0sdFt2XVsxXT1tW3ZdKTswPHImJjA8cCYmKDA8KG1bMF0mY1swXSkmJjA8KG5bMV0mY1sxXSk/KHRbMF1bMF09bVswXSx0WzBdWzFdPW5bMF0sdFsxXVswXT1uWzFdLHRbMV1bMV09bVsxXSx1PSEwKTowPChuWzBdJmNbMF0pJiYwPChtWzFdJmNbMV0pJiYodFswXVswXT1uWzBdLHRbMF1bMV09bVswXSx0WzFdWzBdPW1bMV0sdFsxXVsxXT1uWzFdLHU9ITApKTswPHImJiF1JiYodFswXVswXT1uWzBdLHRbMF1bMV09bVswXSx0WzFdWzBdPW5bMV0sdFsxXVsxXT0KbVsxXSx1PSEwKTswPHAmJiF1JiYodFswXVswXT1tWzBdLHRbMF1bMV09blswXSx0WzFdWzBdPW1bMV0sdFsxXVsxXT1uWzFdKTtmb3Iodj0wOzI+djt2KyspMD09Ylt2XSYmKDA9PSh0W3ZdWzBdJmNbdl0pJiYodFt2XVswXT10W3ZdWzFdKSxDW3ZdPXRbdl1bMF0mY1t2XSxDW3ZdfD0odFt2XVsxXSZjW3ZdKTw8OCxDW3ZdfD0odFsxLXZdW3ZdJmNbdl0pPDwxNixDW3ZdfD0odFsxLXZdWzEtdl0mY1t2XSk8PDI0LDA9PShDW3ZdJjE1KSYmKENbdl08PD04KSwwPT0oQ1t2XSYzODQwKSYmKENbdl09Q1t2XSYxNXxDW3ZdPj44KSwwPT0oQ1t2XSY5ODMwNDApJiYoQ1t2XT1DW3ZdJjY1NTM1fChDW3ZdJjI1MTY1ODI0MCk+PjgpLGJbdl09Q1t2XSYxNSxjW3ZdPT1teENvbnN0YW50cy5ESVJFQ1RJT05fTUFTS19XRVNUfHxjW3ZdPT1teENvbnN0YW50cy5ESVJFQ1RJT05fTUFTS19OT1JUSHx8Y1t2XT09bXhDb25zdGFudHMuRElSRUNUSU9OX01BU0tfRUFTVHx8Y1t2XT09bXhDb25zdGFudHMuRElSRUNUSU9OX01BU0tfU09VVEgpJiYKKGJbdl09Y1t2XSk7Yz1iWzBdPT1teENvbnN0YW50cy5ESVJFQ1RJT05fTUFTS19FQVNUPzM6YlswXTtDPWJbMV09PW14Q29uc3RhbnRzLkRJUkVDVElPTl9NQVNLX0VBU1Q/MzpiWzFdO2MtPXo7Qy09ejsxPmMmJihjKz00KTsxPkMmJihDKz00KTtjPW14RWRnZVN0eWxlLnJvdXRlUGF0dGVybnNbYy0xXVtDLTFdO214RWRnZVN0eWxlLndheVBvaW50czFbMF1bMF09cVswXVswXTtteEVkZ2VTdHlsZS53YXlQb2ludHMxWzBdWzFdPXFbMF1bMV07c3dpdGNoKGJbMF0pe2Nhc2UgbXhDb25zdGFudHMuRElSRUNUSU9OX01BU0tfV0VTVDpteEVkZ2VTdHlsZS53YXlQb2ludHMxWzBdWzBdLT1mO214RWRnZVN0eWxlLndheVBvaW50czFbMF1bMV0rPWxbMF1bMV0qcVswXVszXTticmVhaztjYXNlIG14Q29uc3RhbnRzLkRJUkVDVElPTl9NQVNLX1NPVVRIOm14RWRnZVN0eWxlLndheVBvaW50czFbMF1bMF0rPWxbMF1bMF0qcVswXVsyXTtteEVkZ2VTdHlsZS53YXlQb2ludHMxWzBdWzFdKz1xWzBdWzNdKwpmO2JyZWFrO2Nhc2UgbXhDb25zdGFudHMuRElSRUNUSU9OX01BU0tfRUFTVDpteEVkZ2VTdHlsZS53YXlQb2ludHMxWzBdWzBdKz1xWzBdWzJdK2Y7bXhFZGdlU3R5bGUud2F5UG9pbnRzMVswXVsxXSs9bFswXVsxXSpxWzBdWzNdO2JyZWFrO2Nhc2UgbXhDb25zdGFudHMuRElSRUNUSU9OX01BU0tfTk9SVEg6bXhFZGdlU3R5bGUud2F5UG9pbnRzMVswXVswXSs9bFswXVswXSpxWzBdWzJdLG14RWRnZVN0eWxlLndheVBvaW50czFbMF1bMV0tPWZ9Zj0wO209Qz0wPChiWzBdJihteENvbnN0YW50cy5ESVJFQ1RJT05fTUFTS19FQVNUfG14Q29uc3RhbnRzLkRJUkVDVElPTl9NQVNLX1dFU1QpKT8wOjE7Zm9yKHY9MDt2PGMubGVuZ3RoO3YrKyluPWNbdl0mMTUsdT1uPT1teENvbnN0YW50cy5ESVJFQ1RJT05fTUFTS19FQVNUPzM6bix1Kz16LDQ8dSYmKHUtPTQpLHA9bXhFZGdlU3R5bGUuZGlyVmVjdG9yc1t1LTFdLG49MDx1JTI/MDoxLG4hPUMmJihmKyssbXhFZGdlU3R5bGUud2F5UG9pbnRzMVtmXVswXT0KbXhFZGdlU3R5bGUud2F5UG9pbnRzMVtmLTFdWzBdLG14RWRnZVN0eWxlLndheVBvaW50czFbZl1bMV09bXhFZGdlU3R5bGUud2F5UG9pbnRzMVtmLTFdWzFdKSx4PTA8KGNbdl0mbXhFZGdlU3R5bGUuVEFSR0VUX01BU0spLHk9MDwoY1t2XSZteEVkZ2VTdHlsZS5TT1VSQ0VfTUFTSykscj0oY1t2XSZteEVkZ2VTdHlsZS5TSURFX01BU0spPj41LHI8PD16LDE1PHImJihyPj49NCksdD0wPChjW3ZdJm14RWRnZVN0eWxlLkNFTlRFUl9NQVNLKSwoeXx8eCkmJjk+cj8odT15PzA6MSxyPXQmJjA9PW4/cVt1XVswXStsW3VdWzBdKnFbdV1bMl06dD9xW3VdWzFdK2xbdV1bMV0qcVt1XVszXTpteEVkZ2VTdHlsZS5saW1pdHNbdV1bcl0sMD09bj8ocj0oci1teEVkZ2VTdHlsZS53YXlQb2ludHMxW2ZdWzBdKSpwWzBdLDA8ciYmKG14RWRnZVN0eWxlLndheVBvaW50czFbZl1bMF0rPXBbMF0qcikpOihyPShyLW14RWRnZVN0eWxlLndheVBvaW50czFbZl1bMV0pKnBbMV0sMDxyJiYobXhFZGdlU3R5bGUud2F5UG9pbnRzMVtmXVsxXSs9CnBbMV0qcikpKTp0JiYobXhFZGdlU3R5bGUud2F5UG9pbnRzMVtmXVswXSs9cFswXSpNYXRoLmFicyhteEVkZ2VTdHlsZS52ZXJ0ZXhTZXBlcmF0aW9uc1t1XS8yKSxteEVkZ2VTdHlsZS53YXlQb2ludHMxW2ZdWzFdKz1wWzFdKk1hdGguYWJzKG14RWRnZVN0eWxlLnZlcnRleFNlcGVyYXRpb25zW3VdLzIpKSwwPGYmJm14RWRnZVN0eWxlLndheVBvaW50czFbZl1bbl09PW14RWRnZVN0eWxlLndheVBvaW50czFbZi0xXVtuXT9mLS06Qz1uO2Zvcih2PTA7djw9ZiYmKHYhPWZ8fCgoMDwoYlsxXSYobXhDb25zdGFudHMuRElSRUNUSU9OX01BU0tfRUFTVHxteENvbnN0YW50cy5ESVJFQ1RJT05fTUFTS19XRVNUKSk/MDoxKT09bT8wOjEpPT0oZisxKSUyKTt2KyspZS5wdXNoKG5ldyBteFBvaW50KE1hdGgucm91bmQobXhFZGdlU3R5bGUud2F5UG9pbnRzMVt2XVswXSphLnZpZXcuc2NhbGUqMTApLzEwLE1hdGgucm91bmQobXhFZGdlU3R5bGUud2F5UG9pbnRzMVt2XVsxXSphLnZpZXcuc2NhbGUqCjEwKS8xMCkpO2ZvcihhPTE7YTxlLmxlbmd0aDspbnVsbD09ZVthLTFdfHxudWxsPT1lW2FdfHxlW2EtMV0ueCE9ZVthXS54fHxlW2EtMV0ueSE9ZVthXS55P2ErKzplLnNwbGljZShhLDEpfX0sZ2V0Um91dGVQYXR0ZXJuOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPWFbMF09PW14Q29uc3RhbnRzLkRJUkVDVElPTl9NQVNLX0VBU1Q/MzphWzBdO2E9YVsxXT09bXhDb25zdGFudHMuRElSRUNUSU9OX01BU0tfRUFTVD8zOmFbMV07ZS09YjthLT1iOzE+ZSYmKGUrPTQpOzE+YSYmKGErPTQpO2I9cm91dGVQYXR0ZXJuc1tlLTFdW2EtMV07MCE9YyYmMCE9ZHx8bnVsbD09aW5saW5lUm91dGVQYXR0ZXJuc1tlLTFdW2EtMV18fChiPWlubGluZVJvdXRlUGF0dGVybnNbZS0xXVthLTFdKTtyZXR1cm4gYn19LG14U3R5bGVSZWdpc3RyeT17dmFsdWVzOltdLHB1dFZhbHVlOmZ1bmN0aW9uKGEsYil7bXhTdHlsZVJlZ2lzdHJ5LnZhbHVlc1thXT1ifSxnZXRWYWx1ZTpmdW5jdGlvbihhKXtyZXR1cm4gbXhTdHlsZVJlZ2lzdHJ5LnZhbHVlc1thXX0sCmdldE5hbWU6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiIGluIG14U3R5bGVSZWdpc3RyeS52YWx1ZXMpaWYobXhTdHlsZVJlZ2lzdHJ5LnZhbHVlc1tiXT09YSlyZXR1cm4gYjtyZXR1cm4gbnVsbH19O214U3R5bGVSZWdpc3RyeS5wdXRWYWx1ZShteENvbnN0YW50cy5FREdFU1RZTEVfRUxCT1csbXhFZGdlU3R5bGUuRWxib3dDb25uZWN0b3IpO214U3R5bGVSZWdpc3RyeS5wdXRWYWx1ZShteENvbnN0YW50cy5FREdFU1RZTEVfRU5USVRZX1JFTEFUSU9OLG14RWRnZVN0eWxlLkVudGl0eVJlbGF0aW9uKTtteFN0eWxlUmVnaXN0cnkucHV0VmFsdWUobXhDb25zdGFudHMuRURHRVNUWUxFX0xPT1AsbXhFZGdlU3R5bGUuTG9vcCk7bXhTdHlsZVJlZ2lzdHJ5LnB1dFZhbHVlKG14Q29uc3RhbnRzLkVER0VTVFlMRV9TSURFVE9TSURFLG14RWRnZVN0eWxlLlNpZGVUb1NpZGUpO214U3R5bGVSZWdpc3RyeS5wdXRWYWx1ZShteENvbnN0YW50cy5FREdFU1RZTEVfVE9QVE9CT1RUT00sbXhFZGdlU3R5bGUuVG9wVG9Cb3R0b20pOwpteFN0eWxlUmVnaXN0cnkucHV0VmFsdWUobXhDb25zdGFudHMuRURHRVNUWUxFX09SVEhPR09OQUwsbXhFZGdlU3R5bGUuT3J0aENvbm5lY3Rvcik7bXhTdHlsZVJlZ2lzdHJ5LnB1dFZhbHVlKG14Q29uc3RhbnRzLkVER0VTVFlMRV9TRUdNRU5ULG14RWRnZVN0eWxlLlNlZ21lbnRDb25uZWN0b3IpO214U3R5bGVSZWdpc3RyeS5wdXRWYWx1ZShteENvbnN0YW50cy5QRVJJTUVURVJfRUxMSVBTRSxteFBlcmltZXRlci5FbGxpcHNlUGVyaW1ldGVyKTtteFN0eWxlUmVnaXN0cnkucHV0VmFsdWUobXhDb25zdGFudHMuUEVSSU1FVEVSX1JFQ1RBTkdMRSxteFBlcmltZXRlci5SZWN0YW5nbGVQZXJpbWV0ZXIpO214U3R5bGVSZWdpc3RyeS5wdXRWYWx1ZShteENvbnN0YW50cy5QRVJJTUVURVJfUkhPTUJVUyxteFBlcmltZXRlci5SaG9tYnVzUGVyaW1ldGVyKTtteFN0eWxlUmVnaXN0cnkucHV0VmFsdWUobXhDb25zdGFudHMuUEVSSU1FVEVSX1RSSUFOR0xFLG14UGVyaW1ldGVyLlRyaWFuZ2xlUGVyaW1ldGVyKTsKbXhTdHlsZVJlZ2lzdHJ5LnB1dFZhbHVlKG14Q29uc3RhbnRzLlBFUklNRVRFUl9IRVhBR09OLG14UGVyaW1ldGVyLkhleGFnb25QZXJpbWV0ZXIpO2Z1bmN0aW9uIG14R3JhcGhWaWV3KGEpe3RoaXMuZ3JhcGg9YTt0aGlzLnRyYW5zbGF0ZT1uZXcgbXhQb2ludDt0aGlzLmdyYXBoQm91bmRzPW5ldyBteFJlY3RhbmdsZTt0aGlzLnN0YXRlcz1uZXcgbXhEaWN0aW9uYXJ5fW14R3JhcGhWaWV3LnByb3RvdHlwZT1uZXcgbXhFdmVudFNvdXJjZTtteEdyYXBoVmlldy5wcm90b3R5cGUuY29uc3RydWN0b3I9bXhHcmFwaFZpZXc7bXhHcmFwaFZpZXcucHJvdG90eXBlLkVNUFRZX1BPSU5UPW5ldyBteFBvaW50O214R3JhcGhWaWV3LnByb3RvdHlwZS5kb25lUmVzb3VyY2U9Im5vbmUiIT1teENsaWVudC5sYW5ndWFnZT8iZG9uZSI6IiI7Cm14R3JhcGhWaWV3LnByb3RvdHlwZS51cGRhdGluZ0RvY3VtZW50UmVzb3VyY2U9Im5vbmUiIT1teENsaWVudC5sYW5ndWFnZT8idXBkYXRpbmdEb2N1bWVudCI6IiI7bXhHcmFwaFZpZXcucHJvdG90eXBlLmFsbG93RXZhbD0hMTtteEdyYXBoVmlldy5wcm90b3R5cGUuY2FwdHVyZURvY3VtZW50R2VzdHVyZT0hMDtteEdyYXBoVmlldy5wcm90b3R5cGUub3B0aW1pemVWbWxSZWZsb3dzPSEwO214R3JhcGhWaWV3LnByb3RvdHlwZS5yZW5kZXJpbmc9ITA7bXhHcmFwaFZpZXcucHJvdG90eXBlLmdyYXBoPW51bGw7bXhHcmFwaFZpZXcucHJvdG90eXBlLmN1cnJlbnRSb290PW51bGw7bXhHcmFwaFZpZXcucHJvdG90eXBlLmdyYXBoQm91bmRzPW51bGw7bXhHcmFwaFZpZXcucHJvdG90eXBlLnNjYWxlPTE7bXhHcmFwaFZpZXcucHJvdG90eXBlLnRyYW5zbGF0ZT1udWxsO214R3JhcGhWaWV3LnByb3RvdHlwZS5zdGF0ZXM9bnVsbDsKbXhHcmFwaFZpZXcucHJvdG90eXBlLnVwZGF0ZVN0eWxlPSExO214R3JhcGhWaWV3LnByb3RvdHlwZS5sYXN0Tm9kZT1udWxsO214R3JhcGhWaWV3LnByb3RvdHlwZS5sYXN0SHRtbE5vZGU9bnVsbDtteEdyYXBoVmlldy5wcm90b3R5cGUubGFzdEZvcmVncm91bmROb2RlPW51bGw7bXhHcmFwaFZpZXcucHJvdG90eXBlLmxhc3RGb3JlZ3JvdW5kSHRtbE5vZGU9bnVsbDtteEdyYXBoVmlldy5wcm90b3R5cGUuZ2V0R3JhcGhCb3VuZHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ncmFwaEJvdW5kc307bXhHcmFwaFZpZXcucHJvdG90eXBlLnNldEdyYXBoQm91bmRzPWZ1bmN0aW9uKGEpe3RoaXMuZ3JhcGhCb3VuZHM9YX07Cm14R3JhcGhWaWV3LnByb3RvdHlwZS5nZXRCb3VuZHM9ZnVuY3Rpb24oYSl7dmFyIGI9bnVsbDtpZihudWxsIT1hJiYwPGEubGVuZ3RoKWZvcih2YXIgYz10aGlzLmdyYXBoLmdldE1vZGVsKCksZD0wO2Q8YS5sZW5ndGg7ZCsrKWlmKGMuaXNWZXJ0ZXgoYVtkXSl8fGMuaXNFZGdlKGFbZF0pKXt2YXIgZT10aGlzLmdldFN0YXRlKGFbZF0pO251bGwhPWUmJihudWxsPT1iP2I9bXhSZWN0YW5nbGUuZnJvbVJlY3RhbmdsZShlKTpiLmFkZChlKSl9cmV0dXJuIGJ9O214R3JhcGhWaWV3LnByb3RvdHlwZS5zZXRDdXJyZW50Um9vdD1mdW5jdGlvbihhKXtpZih0aGlzLmN1cnJlbnRSb290IT1hKXt2YXIgYj1uZXcgbXhDdXJyZW50Um9vdENoYW5nZSh0aGlzLGEpO2IuZXhlY3V0ZSgpO3ZhciBjPW5ldyBteFVuZG9hYmxlRWRpdCh0aGlzLCEwKTtjLmFkZChiKTt0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LlVORE8sImVkaXQiLGMpKTt0aGlzLmdyYXBoLnNpemVEaWRDaGFuZ2UoKX1yZXR1cm4gYX07Cm14R3JhcGhWaWV3LnByb3RvdHlwZS5zY2FsZUFuZFRyYW5zbGF0ZT1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcy5zY2FsZSxlPW5ldyBteFBvaW50KHRoaXMudHJhbnNsYXRlLngsdGhpcy50cmFuc2xhdGUueSk7aWYodGhpcy5zY2FsZSE9YXx8dGhpcy50cmFuc2xhdGUueCE9Ynx8dGhpcy50cmFuc2xhdGUueSE9Yyl0aGlzLnNjYWxlPWEsdGhpcy50cmFuc2xhdGUueD1iLHRoaXMudHJhbnNsYXRlLnk9Yyx0aGlzLmlzRXZlbnRzRW5hYmxlZCgpJiZ0aGlzLnZpZXdTdGF0ZUNoYW5nZWQoKTt0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LlNDQUxFX0FORF9UUkFOU0xBVEUsInNjYWxlIixhLCJwcmV2aW91c1NjYWxlIixkLCJ0cmFuc2xhdGUiLHRoaXMudHJhbnNsYXRlLCJwcmV2aW91c1RyYW5zbGF0ZSIsZSkpfTtteEdyYXBoVmlldy5wcm90b3R5cGUuZ2V0U2NhbGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zY2FsZX07Cm14R3JhcGhWaWV3LnByb3RvdHlwZS5zZXRTY2FsZT1mdW5jdGlvbihhKXt2YXIgYj10aGlzLnNjYWxlO3RoaXMuc2NhbGUhPWEmJih0aGlzLnNjYWxlPWEsdGhpcy5pc0V2ZW50c0VuYWJsZWQoKSYmdGhpcy52aWV3U3RhdGVDaGFuZ2VkKCkpO3RoaXMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KG14RXZlbnQuU0NBTEUsInNjYWxlIixhLCJwcmV2aW91c1NjYWxlIixiKSl9O214R3JhcGhWaWV3LnByb3RvdHlwZS5nZXRUcmFuc2xhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50cmFuc2xhdGV9OwpteEdyYXBoVmlldy5wcm90b3R5cGUuc2V0VHJhbnNsYXRlPWZ1bmN0aW9uKGEsYil7dmFyIGM9bmV3IG14UG9pbnQodGhpcy50cmFuc2xhdGUueCx0aGlzLnRyYW5zbGF0ZS55KTtpZih0aGlzLnRyYW5zbGF0ZS54IT1hfHx0aGlzLnRyYW5zbGF0ZS55IT1iKXRoaXMudHJhbnNsYXRlLng9YSx0aGlzLnRyYW5zbGF0ZS55PWIsdGhpcy5pc0V2ZW50c0VuYWJsZWQoKSYmdGhpcy52aWV3U3RhdGVDaGFuZ2VkKCk7dGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5UUkFOU0xBVEUsInRyYW5zbGF0ZSIsdGhpcy50cmFuc2xhdGUsInByZXZpb3VzVHJhbnNsYXRlIixjKSl9O214R3JhcGhWaWV3LnByb3RvdHlwZS52aWV3U3RhdGVDaGFuZ2VkPWZ1bmN0aW9uKCl7dGhpcy5yZXZhbGlkYXRlKCk7dGhpcy5ncmFwaC5zaXplRGlkQ2hhbmdlKCl9OwpteEdyYXBoVmlldy5wcm90b3R5cGUucmVmcmVzaD1mdW5jdGlvbigpe251bGwhPXRoaXMuY3VycmVudFJvb3QmJnRoaXMuY2xlYXIoKTt0aGlzLnJldmFsaWRhdGUoKX07bXhHcmFwaFZpZXcucHJvdG90eXBlLnJldmFsaWRhdGU9ZnVuY3Rpb24oKXt0aGlzLmludmFsaWRhdGUoKTt0aGlzLnZhbGlkYXRlKCl9O214R3JhcGhWaWV3LnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcy5ncmFwaC5nZXRNb2RlbCgpO2E9YXx8ZC5nZXRSb290KCk7Yj1udWxsIT1iP2I6ITE7Yz1udWxsIT1jP2M6ITA7dGhpcy5yZW1vdmVTdGF0ZShhKTtpZihjJiYoYnx8YSE9dGhpcy5jdXJyZW50Um9vdCkpe2M9ZC5nZXRDaGlsZENvdW50KGEpO2Zvcih2YXIgZT0wO2U8YztlKyspdGhpcy5jbGVhcihkLmdldENoaWxkQXQoYSxlKSxiKX1lbHNlIHRoaXMuaW52YWxpZGF0ZShhKX07Cm14R3JhcGhWaWV3LnByb3RvdHlwZS5pbnZhbGlkYXRlPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLmdyYXBoLmdldE1vZGVsKCk7YT1hfHxkLmdldFJvb3QoKTtiPW51bGwhPWI/YjohMDtjPW51bGwhPWM/YzohMDt2YXIgZT10aGlzLmdldFN0YXRlKGEpO251bGwhPWUmJihlLmludmFsaWQ9ITApO2lmKCFhLmludmFsaWRhdGluZyl7YS5pbnZhbGlkYXRpbmc9ITA7aWYoYilmb3IodmFyIGY9ZC5nZXRDaGlsZENvdW50KGEpLGU9MDtlPGY7ZSsrKXt2YXIgZz1kLmdldENoaWxkQXQoYSxlKTt0aGlzLmludmFsaWRhdGUoZyxiLGMpfWlmKGMpZm9yKGY9ZC5nZXRFZGdlQ291bnQoYSksZT0wO2U8ZjtlKyspdGhpcy5pbnZhbGlkYXRlKGQuZ2V0RWRnZUF0KGEsZSksYixjKTtkZWxldGUgYS5pbnZhbGlkYXRpbmd9fTsKbXhHcmFwaFZpZXcucHJvdG90eXBlLnZhbGlkYXRlPWZ1bmN0aW9uKGEpe3ZhciBiPW14TG9nLmVudGVyKCJteEdyYXBoVmlldy52YWxpZGF0ZSIpO3dpbmRvdy5zdGF0dXM9bXhSZXNvdXJjZXMuZ2V0KHRoaXMudXBkYXRpbmdEb2N1bWVudFJlc291cmNlKXx8dGhpcy51cGRhdGluZ0RvY3VtZW50UmVzb3VyY2U7dGhpcy5yZXNldFZhbGlkYXRpb25TdGF0ZSgpO3ZhciBjPW51bGw7dGhpcy5vcHRpbWl6ZVZtbFJlZmxvd3MmJm51bGwhPXRoaXMuY2FudmFzJiZudWxsPT10aGlzLnRleHREaXYmJig4PT1kb2N1bWVudC5kb2N1bWVudE1vZGUmJiFteENsaWVudC5JU19FTXx8bXhDbGllbnQuSVNfUVVJUktTKSYmKHRoaXMucGxhY2Vob2xkZXI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IiksdGhpcy5wbGFjZWhvbGRlci5zdHlsZS5wb3NpdGlvbj0iYWJzb2x1dGUiLHRoaXMucGxhY2Vob2xkZXIuc3R5bGUud2lkdGg9dGhpcy5jYW52YXMuY2xpZW50V2lkdGgrInB4Iix0aGlzLnBsYWNlaG9sZGVyLnN0eWxlLmhlaWdodD0KdGhpcy5jYW52YXMuY2xpZW50SGVpZ2h0KyJweCIsdGhpcy5jYW52YXMucGFyZW50Tm9kZS5hcHBlbmRDaGlsZCh0aGlzLnBsYWNlaG9sZGVyKSxjPXRoaXMuZHJhd1BhbmUuc3R5bGUuZGlzcGxheSx0aGlzLmNhbnZhcy5zdHlsZS5kaXNwbGF5PSJub25lIix0aGlzLnRleHREaXY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IiksdGhpcy50ZXh0RGl2LnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSIsdGhpcy50ZXh0RGl2LnN0eWxlLndoaXRlU3BhY2U9Im5vd3JhcCIsdGhpcy50ZXh0RGl2LnN0eWxlLnZpc2liaWxpdHk9ImhpZGRlbiIsdGhpcy50ZXh0RGl2LnN0eWxlLmRpc3BsYXk9bXhDbGllbnQuSVNfUVVJUktTPyJpbmxpbmUiOiJpbmxpbmUtYmxvY2siLHRoaXMudGV4dERpdi5zdHlsZS56b29tPSIxIixkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMudGV4dERpdikpO2E9dGhpcy5nZXRCb3VuZGluZ0JveCh0aGlzLnZhbGlkYXRlQ2VsbFN0YXRlKHRoaXMudmFsaWRhdGVDZWxsKGF8fAoobnVsbCE9dGhpcy5jdXJyZW50Um9vdD90aGlzLmN1cnJlbnRSb290OnRoaXMuZ3JhcGguZ2V0TW9kZWwoKS5nZXRSb290KCkpKSkpO3RoaXMuc2V0R3JhcGhCb3VuZHMobnVsbCE9YT9hOnRoaXMuZ2V0RW1wdHlCb3VuZHMoKSk7dGhpcy52YWxpZGF0ZUJhY2tncm91bmQoKTtudWxsIT1jJiYodGhpcy5jYW52YXMuc3R5bGUuZGlzcGxheT1jLHRoaXMudGV4dERpdi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMudGV4dERpdiksbnVsbCE9dGhpcy5wbGFjZWhvbGRlciYmdGhpcy5wbGFjZWhvbGRlci5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMucGxhY2Vob2xkZXIpLHRoaXMudGV4dERpdj1udWxsKTt0aGlzLnJlc2V0VmFsaWRhdGlvblN0YXRlKCk7d2luZG93LnN0YXR1cz1teFJlc291cmNlcy5nZXQodGhpcy5kb25lUmVzb3VyY2UpfHx0aGlzLmRvbmVSZXNvdXJjZTtteExvZy5sZWF2ZSgibXhHcmFwaFZpZXcudmFsaWRhdGUiLGIpfTsKbXhHcmFwaFZpZXcucHJvdG90eXBlLmdldEVtcHR5Qm91bmRzPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBteFJlY3RhbmdsZSh0aGlzLnRyYW5zbGF0ZS54KnRoaXMuc2NhbGUsdGhpcy50cmFuc2xhdGUueSp0aGlzLnNjYWxlKX07Cm14R3JhcGhWaWV3LnByb3RvdHlwZS5nZXRCb3VuZGluZ0JveD1mdW5jdGlvbihhLGIpe2I9bnVsbCE9Yj9iOiEwO3ZhciBjPW51bGw7aWYobnVsbCE9YSYmKG51bGwhPWEuc2hhcGUmJm51bGwhPWEuc2hhcGUuYm91bmRpbmdCb3gmJihjPWEuc2hhcGUuYm91bmRpbmdCb3guY2xvbmUoKSksbnVsbCE9YS50ZXh0JiZudWxsIT1hLnRleHQuYm91bmRpbmdCb3gmJihudWxsIT1jP2MuYWRkKGEudGV4dC5ib3VuZGluZ0JveCk6Yz1hLnRleHQuYm91bmRpbmdCb3guY2xvbmUoKSksYikpZm9yKHZhciBkPXRoaXMuZ3JhcGguZ2V0TW9kZWwoKSxlPWQuZ2V0Q2hpbGRDb3VudChhLmNlbGwpLGY9MDtmPGU7ZisrKXt2YXIgZz10aGlzLmdldEJvdW5kaW5nQm94KHRoaXMuZ2V0U3RhdGUoZC5nZXRDaGlsZEF0KGEuY2VsbCxmKSkpO251bGwhPWcmJihudWxsPT1jP2M9ZzpjLmFkZChnKSl9cmV0dXJuIGN9OwpteEdyYXBoVmlldy5wcm90b3R5cGUuY3JlYXRlQmFja2dyb3VuZFBhZ2VTaGFwZT1mdW5jdGlvbihhKXtyZXR1cm4gbmV3IG14UmVjdGFuZ2xlU2hhcGUoYSwid2hpdGUiLCJibGFjayIpfTtteEdyYXBoVmlldy5wcm90b3R5cGUudmFsaWRhdGVCYWNrZ3JvdW5kPWZ1bmN0aW9uKCl7dGhpcy52YWxpZGF0ZUJhY2tncm91bmRJbWFnZSgpO3RoaXMudmFsaWRhdGVCYWNrZ3JvdW5kUGFnZSgpfTsKbXhHcmFwaFZpZXcucHJvdG90eXBlLnZhbGlkYXRlQmFja2dyb3VuZEltYWdlPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5ncmFwaC5nZXRCYWNrZ3JvdW5kSW1hZ2UoKTtpZihudWxsIT1hKXtpZihudWxsPT10aGlzLmJhY2tncm91bmRJbWFnZXx8dGhpcy5iYWNrZ3JvdW5kSW1hZ2UuaW1hZ2UhPWEuc3JjKXtudWxsIT10aGlzLmJhY2tncm91bmRJbWFnZSYmdGhpcy5iYWNrZ3JvdW5kSW1hZ2UuZGVzdHJveSgpO3ZhciBiPW5ldyBteFJlY3RhbmdsZSgwLDAsMSwxKTt0aGlzLmJhY2tncm91bmRJbWFnZT1uZXcgbXhJbWFnZVNoYXBlKGIsYS5zcmMpO3RoaXMuYmFja2dyb3VuZEltYWdlLmRpYWxlY3Q9dGhpcy5ncmFwaC5kaWFsZWN0O3RoaXMuYmFja2dyb3VuZEltYWdlLmluaXQodGhpcy5iYWNrZ3JvdW5kUGFuZSk7dGhpcy5iYWNrZ3JvdW5kSW1hZ2UucmVkcmF3KCk7OCE9ZG9jdW1lbnQuZG9jdW1lbnRNb2RlfHxteENsaWVudC5JU19FTXx8bXhFdmVudC5hZGRHZXN0dXJlTGlzdGVuZXJzKHRoaXMuYmFja2dyb3VuZEltYWdlLm5vZGUsCm14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3RoaXMuZ3JhcGguZmlyZU1vdXNlRXZlbnQobXhFdmVudC5NT1VTRV9ET1dOLG5ldyBteE1vdXNlRXZlbnQoYSkpfSksbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7dGhpcy5ncmFwaC5maXJlTW91c2VFdmVudChteEV2ZW50Lk1PVVNFX01PVkUsbmV3IG14TW91c2VFdmVudChhKSl9KSxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXt0aGlzLmdyYXBoLmZpcmVNb3VzZUV2ZW50KG14RXZlbnQuTU9VU0VfVVAsbmV3IG14TW91c2VFdmVudChhKSl9KSl9dGhpcy5yZWRyYXdCYWNrZ3JvdW5kSW1hZ2UodGhpcy5iYWNrZ3JvdW5kSW1hZ2UsYSl9ZWxzZSBudWxsIT10aGlzLmJhY2tncm91bmRJbWFnZSYmKHRoaXMuYmFja2dyb3VuZEltYWdlLmRlc3Ryb3koKSx0aGlzLmJhY2tncm91bmRJbWFnZT1udWxsKX07Cm14R3JhcGhWaWV3LnByb3RvdHlwZS52YWxpZGF0ZUJhY2tncm91bmRQYWdlPWZ1bmN0aW9uKCl7aWYodGhpcy5ncmFwaC5wYWdlVmlzaWJsZSl7dmFyIGE9dGhpcy5nZXRCYWNrZ3JvdW5kUGFnZUJvdW5kcygpO251bGw9PXRoaXMuYmFja2dyb3VuZFBhZ2VTaGFwZT8odGhpcy5iYWNrZ3JvdW5kUGFnZVNoYXBlPXRoaXMuY3JlYXRlQmFja2dyb3VuZFBhZ2VTaGFwZShhKSx0aGlzLmJhY2tncm91bmRQYWdlU2hhcGUuc2NhbGU9dGhpcy5zY2FsZSx0aGlzLmJhY2tncm91bmRQYWdlU2hhcGUuaXNTaGFkb3c9ITAsdGhpcy5iYWNrZ3JvdW5kUGFnZVNoYXBlLmRpYWxlY3Q9dGhpcy5ncmFwaC5kaWFsZWN0LHRoaXMuYmFja2dyb3VuZFBhZ2VTaGFwZS5pbml0KHRoaXMuYmFja2dyb3VuZFBhbmUpLHRoaXMuYmFja2dyb3VuZFBhZ2VTaGFwZS5yZWRyYXcoKSx0aGlzLmdyYXBoLm5hdGl2ZURibENsaWNrRW5hYmxlZCYmbXhFdmVudC5hZGRMaXN0ZW5lcih0aGlzLmJhY2tncm91bmRQYWdlU2hhcGUubm9kZSwKImRibGNsaWNrIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXt0aGlzLmdyYXBoLmRibENsaWNrKGEpfSkpLG14RXZlbnQuYWRkR2VzdHVyZUxpc3RlbmVycyh0aGlzLmJhY2tncm91bmRQYWdlU2hhcGUubm9kZSxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXt0aGlzLmdyYXBoLmZpcmVNb3VzZUV2ZW50KG14RXZlbnQuTU9VU0VfRE9XTixuZXcgbXhNb3VzZUV2ZW50KGEpKX0pLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe251bGwhPXRoaXMuZ3JhcGgudG9vbHRpcEhhbmRsZXImJnRoaXMuZ3JhcGgudG9vbHRpcEhhbmRsZXIuaXNIaWRlT25Ib3ZlcigpJiZ0aGlzLmdyYXBoLnRvb2x0aXBIYW5kbGVyLmhpZGUoKTt0aGlzLmdyYXBoLmlzTW91c2VEb3duJiYhbXhFdmVudC5pc0NvbnN1bWVkKGEpJiZ0aGlzLmdyYXBoLmZpcmVNb3VzZUV2ZW50KG14RXZlbnQuTU9VU0VfTU9WRSxuZXcgbXhNb3VzZUV2ZW50KGEpKX0pLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3RoaXMuZ3JhcGguZmlyZU1vdXNlRXZlbnQobXhFdmVudC5NT1VTRV9VUCwKbmV3IG14TW91c2VFdmVudChhKSl9KSkpOih0aGlzLmJhY2tncm91bmRQYWdlU2hhcGUuc2NhbGU9dGhpcy5zY2FsZSx0aGlzLmJhY2tncm91bmRQYWdlU2hhcGUuYm91bmRzPWEsdGhpcy5iYWNrZ3JvdW5kUGFnZVNoYXBlLnJlZHJhdygpKX1lbHNlIG51bGwhPXRoaXMuYmFja2dyb3VuZFBhZ2VTaGFwZSYmKHRoaXMuYmFja2dyb3VuZFBhZ2VTaGFwZS5kZXN0cm95KCksdGhpcy5iYWNrZ3JvdW5kUGFnZVNoYXBlPW51bGwpfTtteEdyYXBoVmlldy5wcm90b3R5cGUuZ2V0QmFja2dyb3VuZFBhZ2VCb3VuZHM9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdyYXBoLnBhZ2VGb3JtYXQsYj10aGlzLnNjYWxlKnRoaXMuZ3JhcGgucGFnZVNjYWxlO3JldHVybiBuZXcgbXhSZWN0YW5nbGUodGhpcy5zY2FsZSp0aGlzLnRyYW5zbGF0ZS54LHRoaXMuc2NhbGUqdGhpcy50cmFuc2xhdGUueSxhLndpZHRoKmIsYS5oZWlnaHQqYil9OwpteEdyYXBoVmlldy5wcm90b3R5cGUucmVkcmF3QmFja2dyb3VuZEltYWdlPWZ1bmN0aW9uKGEsYil7YS5zY2FsZT10aGlzLnNjYWxlO2EuYm91bmRzLng9dGhpcy5zY2FsZSp0aGlzLnRyYW5zbGF0ZS54O2EuYm91bmRzLnk9dGhpcy5zY2FsZSp0aGlzLnRyYW5zbGF0ZS55O2EuYm91bmRzLndpZHRoPXRoaXMuc2NhbGUqYi53aWR0aDthLmJvdW5kcy5oZWlnaHQ9dGhpcy5zY2FsZSpiLmhlaWdodDthLnJlZHJhdygpfTsKbXhHcmFwaFZpZXcucHJvdG90eXBlLnZhbGlkYXRlQ2VsbD1mdW5jdGlvbihhLGIpe2lmKG51bGwhPWEpaWYoYj0obnVsbCE9Yj9iOiEwKSYmdGhpcy5ncmFwaC5pc0NlbGxWaXNpYmxlKGEpLG51bGw9PXRoaXMuZ2V0U3RhdGUoYSxiKXx8Yilmb3IodmFyIGM9dGhpcy5ncmFwaC5nZXRNb2RlbCgpLGQ9Yy5nZXRDaGlsZENvdW50KGEpLGU9MDtlPGQ7ZSsrKXRoaXMudmFsaWRhdGVDZWxsKGMuZ2V0Q2hpbGRBdChhLGUpLGImJighdGhpcy5pc0NlbGxDb2xsYXBzZWQoYSl8fGE9PXRoaXMuY3VycmVudFJvb3QpKTtlbHNlIHRoaXMucmVtb3ZlU3RhdGUoYSk7cmV0dXJuIGF9OwpteEdyYXBoVmlldy5wcm90b3R5cGUudmFsaWRhdGVDZWxsU3RhdGU9ZnVuY3Rpb24oYSxiKXtiPW51bGwhPWI/YjohMDt2YXIgYz1udWxsO2lmKG51bGwhPWEmJihjPXRoaXMuZ2V0U3RhdGUoYSksbnVsbCE9Yykpe3ZhciBkPXRoaXMuZ3JhcGguZ2V0TW9kZWwoKTtpZihjLmludmFsaWQpe2MuaW52YWxpZD0hMTtpZihudWxsPT1jLnN0eWxlfHxjLmludmFsaWRTdHlsZSljLnN0eWxlPXRoaXMuZ3JhcGguZ2V0Q2VsbFN0eWxlKGMuY2VsbCksYy5pbnZhbGlkU3R5bGU9ITE7YSE9dGhpcy5jdXJyZW50Um9vdCYmdGhpcy52YWxpZGF0ZUNlbGxTdGF0ZShkLmdldFBhcmVudChhKSwhMSk7Yy5zZXRWaXNpYmxlVGVybWluYWxTdGF0ZSh0aGlzLnZhbGlkYXRlQ2VsbFN0YXRlKHRoaXMuZ2V0VmlzaWJsZVRlcm1pbmFsKGEsITApLCExKSwhMCk7Yy5zZXRWaXNpYmxlVGVybWluYWxTdGF0ZSh0aGlzLnZhbGlkYXRlQ2VsbFN0YXRlKHRoaXMuZ2V0VmlzaWJsZVRlcm1pbmFsKGEsITEpLCExKSwKITEpO3RoaXMudXBkYXRlQ2VsbFN0YXRlKGMpO2E9PXRoaXMuY3VycmVudFJvb3R8fGMuaW52YWxpZHx8KHRoaXMuZ3JhcGguY2VsbFJlbmRlcmVyLnJlZHJhdyhjLCExLHRoaXMuaXNSZW5kZXJpbmcoKSksYy51cGRhdGVDYWNoZWRCb3VuZHMoKSl9aWYoYiYmIWMuaW52YWxpZCl7bnVsbCE9Yy5zaGFwZSYmdGhpcy5zdGF0ZVZhbGlkYXRlZChjKTtmb3IodmFyIGU9ZC5nZXRDaGlsZENvdW50KGEpLGY9MDtmPGU7ZisrKXRoaXMudmFsaWRhdGVDZWxsU3RhdGUoZC5nZXRDaGlsZEF0KGEsZikpfX1yZXR1cm4gY307Cm14R3JhcGhWaWV3LnByb3RvdHlwZS51cGRhdGVDZWxsU3RhdGU9ZnVuY3Rpb24oYSl7YS5hYnNvbHV0ZU9mZnNldC54PTA7YS5hYnNvbHV0ZU9mZnNldC55PTA7YS5vcmlnaW4ueD0wO2Eub3JpZ2luLnk9MDthLmxlbmd0aD0wO2lmKGEuY2VsbCE9dGhpcy5jdXJyZW50Um9vdCl7dmFyIGI9dGhpcy5ncmFwaC5nZXRNb2RlbCgpLGM9dGhpcy5nZXRTdGF0ZShiLmdldFBhcmVudChhLmNlbGwpKTtudWxsIT1jJiZjLmNlbGwhPXRoaXMuY3VycmVudFJvb3QmJihhLm9yaWdpbi54Kz1jLm9yaWdpbi54LGEub3JpZ2luLnkrPWMub3JpZ2luLnkpO3ZhciBkPXRoaXMuZ3JhcGguZ2V0Q2hpbGRPZmZzZXRGb3JDZWxsKGEuY2VsbCk7bnVsbCE9ZCYmKGEub3JpZ2luLngrPWQueCxhLm9yaWdpbi55Kz1kLnkpO3ZhciBlPXRoaXMuZ3JhcGguZ2V0Q2VsbEdlb21ldHJ5KGEuY2VsbCk7bnVsbCE9ZSYmKGIuaXNFZGdlKGEuY2VsbCl8fChkPW51bGwhPWUub2Zmc2V0P2Uub2Zmc2V0OnRoaXMuRU1QVFlfUE9JTlQsCmUucmVsYXRpdmUmJm51bGwhPWM/Yi5pc0VkZ2UoYy5jZWxsKT8oZD10aGlzLmdldFBvaW50KGMsZSksbnVsbCE9ZCYmKGEub3JpZ2luLngrPWQueC90aGlzLnNjYWxlLWMub3JpZ2luLngtdGhpcy50cmFuc2xhdGUueCxhLm9yaWdpbi55Kz1kLnkvdGhpcy5zY2FsZS1jLm9yaWdpbi55LXRoaXMudHJhbnNsYXRlLnkpKTooYS5vcmlnaW4ueCs9ZS54KmMudW5zY2FsZWRXaWR0aCtkLngsYS5vcmlnaW4ueSs9ZS55KmMudW5zY2FsZWRIZWlnaHQrZC55KTooYS5hYnNvbHV0ZU9mZnNldC54PXRoaXMuc2NhbGUqZC54LGEuYWJzb2x1dGVPZmZzZXQueT10aGlzLnNjYWxlKmQueSxhLm9yaWdpbi54Kz1lLngsYS5vcmlnaW4ueSs9ZS55KSksYS54PXRoaXMuc2NhbGUqKHRoaXMudHJhbnNsYXRlLngrYS5vcmlnaW4ueCksYS55PXRoaXMuc2NhbGUqKHRoaXMudHJhbnNsYXRlLnkrYS5vcmlnaW4ueSksYS53aWR0aD10aGlzLnNjYWxlKmUud2lkdGgsYS51bnNjYWxlZFdpZHRoPWUud2lkdGgsYS5oZWlnaHQ9CnRoaXMuc2NhbGUqZS5oZWlnaHQsYS51bnNjYWxlZEhlaWdodD1lLmhlaWdodCxiLmlzVmVydGV4KGEuY2VsbCkmJnRoaXMudXBkYXRlVmVydGV4U3RhdGUoYSxlKSxiLmlzRWRnZShhLmNlbGwpJiZ0aGlzLnVwZGF0ZUVkZ2VTdGF0ZShhLGUpKX1hLnVwZGF0ZUNhY2hlZEJvdW5kcygpfTtteEdyYXBoVmlldy5wcm90b3R5cGUuaXNDZWxsQ29sbGFwc2VkPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmdyYXBoLmlzQ2VsbENvbGxhcHNlZChhKX07Cm14R3JhcGhWaWV3LnByb3RvdHlwZS51cGRhdGVWZXJ0ZXhTdGF0ZT1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZ3JhcGguZ2V0TW9kZWwoKSxkPXRoaXMuZ2V0U3RhdGUoYy5nZXRQYXJlbnQoYS5jZWxsKSk7aWYoYi5yZWxhdGl2ZSYmbnVsbCE9ZCYmIWMuaXNFZGdlKGQuY2VsbCkpe3ZhciBlPW14VXRpbHMudG9SYWRpYW5zKGQuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfUk9UQVRJT05dfHwiMCIpO2lmKDAhPWUpe3ZhciBjPU1hdGguY29zKGUpLGU9TWF0aC5zaW4oZSksZj1uZXcgbXhQb2ludChhLmdldENlbnRlclgoKSxhLmdldENlbnRlclkoKSksZD1uZXcgbXhQb2ludChkLmdldENlbnRlclgoKSxkLmdldENlbnRlclkoKSksZD1teFV0aWxzLmdldFJvdGF0ZWRQb2ludChmLGMsZSxkKTthLng9ZC54LWEud2lkdGgvMjthLnk9ZC55LWEuaGVpZ2h0LzJ9fXRoaXMudXBkYXRlVmVydGV4TGFiZWxPZmZzZXQoYSl9OwpteEdyYXBoVmlldy5wcm90b3R5cGUudXBkYXRlRWRnZVN0YXRlPWZ1bmN0aW9uKGEsYil7dmFyIGM9YS5nZXRWaXNpYmxlVGVybWluYWxTdGF0ZSghMCksZD1hLmdldFZpc2libGVUZXJtaW5hbFN0YXRlKCExKTtudWxsIT10aGlzLmdyYXBoLm1vZGVsLmdldFRlcm1pbmFsKGEuY2VsbCwhMCkmJm51bGw9PWN8fG51bGw9PWMmJm51bGw9PWIuZ2V0VGVybWluYWxQb2ludCghMCl8fG51bGwhPXRoaXMuZ3JhcGgubW9kZWwuZ2V0VGVybWluYWwoYS5jZWxsLCExKSYmbnVsbD09ZHx8bnVsbD09ZCYmbnVsbD09Yi5nZXRUZXJtaW5hbFBvaW50KCExKT90aGlzLmNsZWFyKGEuY2VsbCwhMCk6KHRoaXMudXBkYXRlRml4ZWRUZXJtaW5hbFBvaW50cyhhLGMsZCksdGhpcy51cGRhdGVQb2ludHMoYSxiLnBvaW50cyxjLGQpLHRoaXMudXBkYXRlRmxvYXRpbmdUZXJtaW5hbFBvaW50cyhhLGMsZCksYz1hLmFic29sdXRlUG9pbnRzLGEuY2VsbCE9dGhpcy5jdXJyZW50Um9vdCYmKG51bGw9PWN8fDI+CmMubGVuZ3RofHxudWxsPT1jWzBdfHxudWxsPT1jW2MubGVuZ3RoLTFdKT90aGlzLmNsZWFyKGEuY2VsbCwhMCk6KHRoaXMudXBkYXRlRWRnZUJvdW5kcyhhKSx0aGlzLnVwZGF0ZUVkZ2VMYWJlbE9mZnNldChhKSkpfTsKbXhHcmFwaFZpZXcucHJvdG90eXBlLnVwZGF0ZVZlcnRleExhYmVsT2Zmc2V0PWZ1bmN0aW9uKGEpe3ZhciBiPW14VXRpbHMuZ2V0VmFsdWUoYS5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9MQUJFTF9QT1NJVElPTixteENvbnN0YW50cy5BTElHTl9DRU5URVIpO2lmKGI9PW14Q29uc3RhbnRzLkFMSUdOX0xFRlQpYj1teFV0aWxzLmdldFZhbHVlKGEuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfTEFCRUxfV0lEVEgsbnVsbCksYj1udWxsIT1iP2IqdGhpcy5zY2FsZTphLndpZHRoLGEuYWJzb2x1dGVPZmZzZXQueC09YjtlbHNlIGlmKGI9PW14Q29uc3RhbnRzLkFMSUdOX1JJR0hUKWEuYWJzb2x1dGVPZmZzZXQueCs9YS53aWR0aDtlbHNlIGlmKGI9PW14Q29uc3RhbnRzLkFMSUdOX0NFTlRFUiYmKGI9bXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0xBQkVMX1dJRFRILG51bGwpLG51bGwhPWIpKXt2YXIgYz1teFV0aWxzLmdldFZhbHVlKGEuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfQUxJR04sCm14Q29uc3RhbnRzLkFMSUdOX0NFTlRFUiksZD0wO2M9PW14Q29uc3RhbnRzLkFMSUdOX0NFTlRFUj9kPS41OmM9PW14Q29uc3RhbnRzLkFMSUdOX1JJR0hUJiYoZD0xKTswIT1kJiYoYS5hYnNvbHV0ZU9mZnNldC54LT0oYip0aGlzLnNjYWxlLWEud2lkdGgpKmQpfWI9bXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX1ZFUlRJQ0FMX0xBQkVMX1BPU0lUSU9OLG14Q29uc3RhbnRzLkFMSUdOX01JRERMRSk7Yj09bXhDb25zdGFudHMuQUxJR05fVE9QP2EuYWJzb2x1dGVPZmZzZXQueS09YS5oZWlnaHQ6Yj09bXhDb25zdGFudHMuQUxJR05fQk9UVE9NJiYoYS5hYnNvbHV0ZU9mZnNldC55Kz1hLmhlaWdodCl9O214R3JhcGhWaWV3LnByb3RvdHlwZS5yZXNldFZhbGlkYXRpb25TdGF0ZT1mdW5jdGlvbigpe3RoaXMubGFzdEZvcmVncm91bmRIdG1sTm9kZT10aGlzLmxhc3RGb3JlZ3JvdW5kTm9kZT10aGlzLmxhc3RIdG1sTm9kZT10aGlzLmxhc3ROb2RlPW51bGx9OwpteEdyYXBoVmlldy5wcm90b3R5cGUuc3RhdGVWYWxpZGF0ZWQ9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5ncmFwaC5nZXRNb2RlbCgpLmlzRWRnZShhLmNlbGwpJiZ0aGlzLmdyYXBoLmtlZXBFZGdlc0luRm9yZWdyb3VuZHx8dGhpcy5ncmFwaC5nZXRNb2RlbCgpLmlzVmVydGV4KGEuY2VsbCkmJnRoaXMuZ3JhcGgua2VlcEVkZ2VzSW5CYWNrZ3JvdW5kO2E9dGhpcy5ncmFwaC5jZWxsUmVuZGVyZXIuaW5zZXJ0U3RhdGVBZnRlcihhLGI/dGhpcy5sYXN0Rm9yZWdyb3VuZE5vZGV8fHRoaXMubGFzdE5vZGU6dGhpcy5sYXN0Tm9kZSxiP3RoaXMubGFzdEZvcmVncm91bmRIdG1sTm9kZXx8dGhpcy5sYXN0SHRtbE5vZGU6dGhpcy5sYXN0SHRtbE5vZGUpO2I/KHRoaXMubGFzdEZvcmVncm91bmRIdG1sTm9kZT1hWzFdLHRoaXMubGFzdEZvcmVncm91bmROb2RlPWFbMF0pOih0aGlzLmxhc3RIdG1sTm9kZT1hWzFdLHRoaXMubGFzdE5vZGU9YVswXSl9OwpteEdyYXBoVmlldy5wcm90b3R5cGUudXBkYXRlRml4ZWRUZXJtaW5hbFBvaW50cz1mdW5jdGlvbihhLGIsYyl7dGhpcy51cGRhdGVGaXhlZFRlcm1pbmFsUG9pbnQoYSxiLCEwLHRoaXMuZ3JhcGguZ2V0Q29ubmVjdGlvbkNvbnN0cmFpbnQoYSxiLCEwKSk7dGhpcy51cGRhdGVGaXhlZFRlcm1pbmFsUG9pbnQoYSxjLCExLHRoaXMuZ3JhcGguZ2V0Q29ubmVjdGlvbkNvbnN0cmFpbnQoYSxjLCExKSl9O214R3JhcGhWaWV3LnByb3RvdHlwZS51cGRhdGVGaXhlZFRlcm1pbmFsUG9pbnQ9ZnVuY3Rpb24oYSxiLGMsZCl7YS5zZXRBYnNvbHV0ZVRlcm1pbmFsUG9pbnQodGhpcy5nZXRGaXhlZFRlcm1pbmFsUG9pbnQoYSxiLGMsZCksYyl9OwpteEdyYXBoVmlldy5wcm90b3R5cGUuZ2V0Rml4ZWRUZXJtaW5hbFBvaW50PWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPW51bGw7bnVsbCE9ZCYmKGU9dGhpcy5ncmFwaC5nZXRDb25uZWN0aW9uUG9pbnQoYixkLCExKSk7aWYobnVsbD09ZSYmbnVsbD09Yil7Yj10aGlzLnNjYWxlO2Q9dGhpcy50cmFuc2xhdGU7dmFyIGY9YS5vcmlnaW4sZT10aGlzLmdyYXBoLmdldENlbGxHZW9tZXRyeShhLmNlbGwpLmdldFRlcm1pbmFsUG9pbnQoYyk7bnVsbCE9ZSYmKGU9bmV3IG14UG9pbnQoYiooZC54K2UueCtmLngpLGIqKGQueStlLnkrZi55KSkpfXJldHVybiBlfTsKbXhHcmFwaFZpZXcucHJvdG90eXBlLnVwZGF0ZUJvdW5kc0Zyb21TdGVuY2lsPWZ1bmN0aW9uKGEpe3ZhciBiPW51bGw7aWYobnVsbCE9YSYmbnVsbCE9YS5zaGFwZSYmbnVsbCE9YS5zaGFwZS5zdGVuY2lsJiYiZml4ZWQiPT1hLnNoYXBlLnN0ZW5jaWwuYXNwZWN0KXt2YXIgYj1teFJlY3RhbmdsZS5mcm9tUmVjdGFuZ2xlKGEpLGM9YS5zaGFwZS5zdGVuY2lsLmNvbXB1dGVBc3BlY3QoYS5zdHlsZSxhLngsYS55LGEud2lkdGgsYS5oZWlnaHQpO2Euc2V0UmVjdChjLngsYy55LGEuc2hhcGUuc3RlbmNpbC53MCpjLndpZHRoLGEuc2hhcGUuc3RlbmNpbC5oMCpjLmhlaWdodCl9cmV0dXJuIGJ9OwpteEdyYXBoVmlldy5wcm90b3R5cGUudXBkYXRlUG9pbnRzPWZ1bmN0aW9uKGEsYixjLGQpe2lmKG51bGwhPWEpe3ZhciBlPVtdO2UucHVzaChhLmFic29sdXRlUG9pbnRzWzBdKTt2YXIgZj10aGlzLmdldEVkZ2VTdHlsZShhLGIsYyxkKTtpZihudWxsIT1mKXtjPXRoaXMuZ2V0VGVybWluYWxQb3J0KGEsYywhMCk7ZD10aGlzLmdldFRlcm1pbmFsUG9ydChhLGQsITEpO3ZhciBnPXRoaXMudXBkYXRlQm91bmRzRnJvbVN0ZW5jaWwoYyksaz10aGlzLnVwZGF0ZUJvdW5kc0Zyb21TdGVuY2lsKGQpO2YoYSxjLGQsYixlKTtudWxsIT1nJiZjLnNldFJlY3QoZy54LGcueSxnLndpZHRoLGcuaGVpZ2h0KTtudWxsIT1rJiZkLnNldFJlY3Qoay54LGsueSxrLndpZHRoLGsuaGVpZ2h0KX1lbHNlIGlmKG51bGwhPWIpZm9yKGY9MDtmPGIubGVuZ3RoO2YrKyludWxsIT1iW2ZdJiYoYz1teFV0aWxzLmNsb25lKGJbZl0pLGUucHVzaCh0aGlzLnRyYW5zZm9ybUNvbnRyb2xQb2ludChhLGMpKSk7Yj0KYS5hYnNvbHV0ZVBvaW50cztlLnB1c2goYltiLmxlbmd0aC0xXSk7YS5hYnNvbHV0ZVBvaW50cz1lfX07bXhHcmFwaFZpZXcucHJvdG90eXBlLnRyYW5zZm9ybUNvbnRyb2xQb2ludD1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIG51bGwhPWEmJm51bGwhPWI/KGE9YS5vcmlnaW4sYz1jPzE6dGhpcy5zY2FsZSxuZXcgbXhQb2ludChjKihiLngrdGhpcy50cmFuc2xhdGUueCthLngpLGMqKGIueSt0aGlzLnRyYW5zbGF0ZS55K2EueSkpKTpudWxsfTsKbXhHcmFwaFZpZXcucHJvdG90eXBlLmlzTG9vcFN0eWxlRW5hYmxlZD1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZT10aGlzLmdyYXBoLmdldENvbm5lY3Rpb25Db25zdHJhaW50KGEsYywhMCksZj10aGlzLmdyYXBoLmdldENvbm5lY3Rpb25Db25zdHJhaW50KGEsZCwhMSk7cmV0dXJuIShudWxsPT1ifHwyPmIubGVuZ3RoKXx8bXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX09SVEhPR09OQUxfTE9PUCwhMSkmJihudWxsIT1lJiZudWxsIT1lLnBvaW50fHxudWxsIT1mJiZudWxsIT1mLnBvaW50KT8hMTpudWxsIT1jJiZjPT1kfTsKbXhHcmFwaFZpZXcucHJvdG90eXBlLmdldEVkZ2VTdHlsZT1mdW5jdGlvbihhLGIsYyxkKXthPXRoaXMuaXNMb29wU3R5bGVFbmFibGVkKGEsYixjLGQpP214VXRpbHMuZ2V0VmFsdWUoYS5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9MT09QLHRoaXMuZ3JhcGguZGVmYXVsdExvb3BTdHlsZSk6bXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX05PRURHRVNUWUxFLCExKT9udWxsOmEuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfRURHRV07InN0cmluZyI9PXR5cGVvZiBhJiYoYj1teFN0eWxlUmVnaXN0cnkuZ2V0VmFsdWUoYSksbnVsbD09YiYmdGhpcy5pc0FsbG93RXZhbCgpJiYoYj1teFV0aWxzLmV2YWwoYSkpLGE9Yik7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIGE/YTpudWxsfTsKbXhHcmFwaFZpZXcucHJvdG90eXBlLnVwZGF0ZUZsb2F0aW5nVGVybWluYWxQb2ludHM9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWEuYWJzb2x1dGVQb2ludHMsZT1kWzBdO251bGw9PWRbZC5sZW5ndGgtMV0mJm51bGwhPWMmJnRoaXMudXBkYXRlRmxvYXRpbmdUZXJtaW5hbFBvaW50KGEsYyxiLCExKTtudWxsPT1lJiZudWxsIT1iJiZ0aGlzLnVwZGF0ZUZsb2F0aW5nVGVybWluYWxQb2ludChhLGIsYywhMCl9O214R3JhcGhWaWV3LnByb3RvdHlwZS51cGRhdGVGbG9hdGluZ1Rlcm1pbmFsUG9pbnQ9ZnVuY3Rpb24oYSxiLGMsZCl7YS5zZXRBYnNvbHV0ZVRlcm1pbmFsUG9pbnQodGhpcy5nZXRGbG9hdGluZ1Rlcm1pbmFsUG9pbnQoYSxiLGMsZCksZCl9OwpteEdyYXBoVmlldy5wcm90b3R5cGUuZ2V0RmxvYXRpbmdUZXJtaW5hbFBvaW50PWZ1bmN0aW9uKGEsYixjLGQpe2I9dGhpcy5nZXRUZXJtaW5hbFBvcnQoYSxiLGQpO3ZhciBlPXRoaXMuZ2V0TmV4dFBvaW50KGEsYyxkKSxmPXRoaXMuZ3JhcGguaXNPcnRob2dvbmFsKGEpO2M9bXhVdGlscy50b1JhZGlhbnMoTnVtYmVyKGIuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfUk9UQVRJT05dfHwiMCIpKTt2YXIgZz1uZXcgbXhQb2ludChiLmdldENlbnRlclgoKSxiLmdldENlbnRlclkoKSk7aWYoMCE9Yyl2YXIgaz1NYXRoLmNvcygtYyksbD1NYXRoLnNpbigtYyksZT1teFV0aWxzLmdldFJvdGF0ZWRQb2ludChlLGssbCxnKTtrPXBhcnNlRmxvYXQoYS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9QRVJJTUVURVJfU1BBQ0lOR118fDApO2srPXBhcnNlRmxvYXQoYS5zdHlsZVtkP214Q29uc3RhbnRzLlNUWUxFX1NPVVJDRV9QRVJJTUVURVJfU1BBQ0lORzpteENvbnN0YW50cy5TVFlMRV9UQVJHRVRfUEVSSU1FVEVSX1NQQUNJTkddfHwKMCk7YT10aGlzLmdldFBlcmltZXRlclBvaW50KGIsZSwwPT1jJiZmLGspOzAhPWMmJihrPU1hdGguY29zKGMpLGw9TWF0aC5zaW4oYyksYT1teFV0aWxzLmdldFJvdGF0ZWRQb2ludChhLGssbCxnKSk7cmV0dXJuIGF9O214R3JhcGhWaWV3LnByb3RvdHlwZS5nZXRUZXJtaW5hbFBvcnQ9ZnVuY3Rpb24oYSxiLGMpe2E9bXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLGM/bXhDb25zdGFudHMuU1RZTEVfU09VUkNFX1BPUlQ6bXhDb25zdGFudHMuU1RZTEVfVEFSR0VUX1BPUlQpO251bGwhPWEmJihhPXRoaXMuZ2V0U3RhdGUodGhpcy5ncmFwaC5nZXRNb2RlbCgpLmdldENlbGwoYSkpLG51bGwhPWEmJihiPWEpKTtyZXR1cm4gYn07Cm14R3JhcGhWaWV3LnByb3RvdHlwZS5nZXRQZXJpbWV0ZXJQb2ludD1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1udWxsO2lmKG51bGwhPWEpe3ZhciBmPXRoaXMuZ2V0UGVyaW1ldGVyRnVuY3Rpb24oYSk7aWYobnVsbCE9ZiYmbnVsbCE9YiYmKGQ9dGhpcy5nZXRQZXJpbWV0ZXJCb3VuZHMoYSxkKSwwPGQud2lkdGh8fDA8ZC5oZWlnaHQpKXt2YXIgZT1uZXcgbXhQb2ludChiLngsYi55KSxnPWI9ITE7dGhpcy5ncmFwaC5tb2RlbC5pc1ZlcnRleChhLmNlbGwpJiYoYj0xPT1teFV0aWxzLmdldFZhbHVlKGEuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfRkxJUEgsMCksZz0xPT1teFV0aWxzLmdldFZhbHVlKGEuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfRkxJUFYsMCksbnVsbCE9YS5zaGFwZSYmbnVsbCE9YS5zaGFwZS5zdGVuY2lsJiYoYj0xPT1teFV0aWxzLmdldFZhbHVlKGEuc3R5bGUsInN0ZW5jaWxGbGlwSCIsMCl8fGIsZz0xPT1teFV0aWxzLmdldFZhbHVlKGEuc3R5bGUsInN0ZW5jaWxGbGlwViIsCjApfHxnKSxiJiYoZS54PTIqZC5nZXRDZW50ZXJYKCktZS54KSxnJiYoZS55PTIqZC5nZXRDZW50ZXJZKCktZS55KSk7ZT1mKGQsYSxlLGMpO251bGwhPWUmJihiJiYoZS54PTIqZC5nZXRDZW50ZXJYKCktZS54KSxnJiYoZS55PTIqZC5nZXRDZW50ZXJZKCktZS55KSl9bnVsbD09ZSYmKGU9dGhpcy5nZXRQb2ludChhKSl9cmV0dXJuIGV9O214R3JhcGhWaWV3LnByb3RvdHlwZS5nZXRSb3V0aW5nQ2VudGVyWD1mdW5jdGlvbihhKXt2YXIgYj1udWxsIT1hLnN0eWxlP3BhcnNlRmxvYXQoYS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9ST1VUSU5HX0NFTlRFUl9YXSl8fDA6MDtyZXR1cm4gYS5nZXRDZW50ZXJYKCkrYiphLndpZHRofTsKbXhHcmFwaFZpZXcucHJvdG90eXBlLmdldFJvdXRpbmdDZW50ZXJZPWZ1bmN0aW9uKGEpe3ZhciBiPW51bGwhPWEuc3R5bGU/cGFyc2VGbG9hdChhLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX1JPVVRJTkdfQ0VOVEVSX1ldKXx8MDowO3JldHVybiBhLmdldENlbnRlclkoKStiKmEuaGVpZ2h0fTtteEdyYXBoVmlldy5wcm90b3R5cGUuZ2V0UGVyaW1ldGVyQm91bmRzPWZ1bmN0aW9uKGEsYil7Yj1udWxsIT1iP2I6MDtudWxsIT1hJiYoYis9cGFyc2VGbG9hdChhLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX1BFUklNRVRFUl9TUEFDSU5HXXx8MCkpO3JldHVybiBhLmdldFBlcmltZXRlckJvdW5kcyhiKnRoaXMuc2NhbGUpfTsKbXhHcmFwaFZpZXcucHJvdG90eXBlLmdldFBlcmltZXRlckZ1bmN0aW9uPWZ1bmN0aW9uKGEpe2E9YS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9QRVJJTUVURVJdO2lmKCJzdHJpbmciPT10eXBlb2YgYSl7dmFyIGI9bXhTdHlsZVJlZ2lzdHJ5LmdldFZhbHVlKGEpO251bGw9PWImJnRoaXMuaXNBbGxvd0V2YWwoKSYmKGI9bXhVdGlscy5ldmFsKGEpKTthPWJ9cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIGE/YTpudWxsfTtteEdyYXBoVmlldy5wcm90b3R5cGUuZ2V0TmV4dFBvaW50PWZ1bmN0aW9uKGEsYixjKXthPWEuYWJzb2x1dGVQb2ludHM7dmFyIGQ9bnVsbDtudWxsIT1hJiYyPD1hLmxlbmd0aCYmKGQ9YS5sZW5ndGgsZD1hW2M/TWF0aC5taW4oMSxkLTEpOk1hdGgubWF4KDAsZC0yKV0pO251bGw9PWQmJm51bGwhPWImJihkPW5ldyBteFBvaW50KGIuZ2V0Q2VudGVyWCgpLGIuZ2V0Q2VudGVyWSgpKSk7cmV0dXJuIGR9OwpteEdyYXBoVmlldy5wcm90b3R5cGUuZ2V0VmlzaWJsZVRlcm1pbmFsPWZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPXRoaXMuZ3JhcGguZ2V0TW9kZWwoKSxkPWMuZ2V0VGVybWluYWwoYSxiKSxlPWQ7bnVsbCE9ZCYmZCE9dGhpcy5jdXJyZW50Um9vdDspe2lmKCF0aGlzLmdyYXBoLmlzQ2VsbFZpc2libGUoZSl8fHRoaXMuaXNDZWxsQ29sbGFwc2VkKGQpKWU9ZDtkPWMuZ2V0UGFyZW50KGQpfW51bGw9PWV8fGMuY29udGFpbnMoZSkmJmMuZ2V0UGFyZW50KGUpIT1jLmdldFJvb3QoKSYmZSE9dGhpcy5jdXJyZW50Um9vdHx8KGU9bnVsbCk7cmV0dXJuIGV9OwpteEdyYXBoVmlldy5wcm90b3R5cGUudXBkYXRlRWRnZUJvdW5kcz1mdW5jdGlvbihhKXt2YXIgYj1hLmFic29sdXRlUG9pbnRzLGM9YlswXSxkPWJbYi5sZW5ndGgtMV07aWYoYy54IT1kLnh8fGMueSE9ZC55KXt2YXIgZT1kLngtYy54LGY9ZC55LWMueTthLnRlcm1pbmFsRGlzdGFuY2U9TWF0aC5zcXJ0KGUqZStmKmYpfWVsc2UgYS50ZXJtaW5hbERpc3RhbmNlPTA7dmFyIGQ9MCxnPVtdLGY9YztpZihudWxsIT1mKXtmb3IodmFyIGM9Zi54LGs9Zi55LGw9YyxtPWssbj0xO248Yi5sZW5ndGg7bisrKXt2YXIgcD1iW25dO251bGwhPXAmJihlPWYueC1wLngsZj1mLnktcC55LGU9TWF0aC5zcXJ0KGUqZStmKmYpLGcucHVzaChlKSxkKz1lLGY9cCxjPU1hdGgubWluKGYueCxjKSxrPU1hdGgubWluKGYueSxrKSxsPU1hdGgubWF4KGYueCxsKSxtPU1hdGgubWF4KGYueSxtKSl9YS5sZW5ndGg9ZDthLnNlZ21lbnRzPWc7YS54PWM7YS55PWs7YS53aWR0aD1NYXRoLm1heCgxLGwtYyk7YS5oZWlnaHQ9Ck1hdGgubWF4KDEsbS1rKX19OwpteEdyYXBoVmlldy5wcm90b3R5cGUuZ2V0UG9pbnQ9ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLmdldENlbnRlclgoKSxkPWEuZ2V0Q2VudGVyWSgpO2lmKG51bGw9PWEuc2VnbWVudHN8fG51bGwhPWImJiFiLnJlbGF0aXZlKW51bGwhPWImJihtPWIub2Zmc2V0LG51bGwhPW0mJihjKz1tLngsZCs9bS55KSk7ZWxzZXtmb3IodmFyIGU9YS5hYnNvbHV0ZVBvaW50cy5sZW5ndGgsZj1NYXRoLnJvdW5kKCgobnVsbCE9Yj9iLngvMjowKSsuNSkqYS5sZW5ndGgpLGc9YS5zZWdtZW50c1swXSxrPTAsbD0xO2Y+PU1hdGgucm91bmQoaytnKSYmbDxlLTE7KWsrPWcsZz1hLnNlZ21lbnRzW2wrK107ZT0wPT1nPzA6KGYtaykvZztmPWEuYWJzb2x1dGVQb2ludHNbbC0xXTtsPWEuYWJzb2x1dGVQb2ludHNbbF07aWYobnVsbCE9ZiYmbnVsbCE9bCl7az1jPWQ9MDtpZihudWxsIT1iKXt2YXIgZD1iLnksbT1iLm9mZnNldDtudWxsIT1tJiYoYz1tLngsaz1tLnkpfW09bC54LWYueDtsPWwueS1mLnk7Yz0KZi54K20qZSsoKDA9PWc/MDpsL2cpKmQrYykqdGhpcy5zY2FsZTtkPWYueStsKmUtKCgwPT1nPzA6bS9nKSpkLWspKnRoaXMuc2NhbGV9fXJldHVybiBuZXcgbXhQb2ludChjLGQpfTsKbXhHcmFwaFZpZXcucHJvdG90eXBlLmdldFJlbGF0aXZlUG9pbnQ9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXMuZ3JhcGguZ2V0TW9kZWwoKS5nZXRHZW9tZXRyeShhLmNlbGwpO2lmKG51bGwhPWQpe3ZhciBlPWEuYWJzb2x1dGVQb2ludHMubGVuZ3RoO2lmKGQucmVsYXRpdmUmJjE8ZSl7Zm9yKHZhciBkPWEubGVuZ3RoLGY9YS5zZWdtZW50cyxnPWEuYWJzb2x1dGVQb2ludHNbMF0saz1hLmFic29sdXRlUG9pbnRzWzFdLGw9bXhVdGlscy5wdFNlZ0Rpc3RTcShnLngsZy55LGsueCxrLnksYixjKSxtPTAsbj0wLHA9MCxxPTI7cTxlO3ErKyluKz1mW3EtMl0saz1hLmFic29sdXRlUG9pbnRzW3FdLGc9bXhVdGlscy5wdFNlZ0Rpc3RTcShnLngsZy55LGsueCxrLnksYixjKSxnPD1sJiYobD1nLG09cS0xLHA9biksZz1rO2U9ZlttXTtnPWEuYWJzb2x1dGVQb2ludHNbbV07az1hLmFic29sdXRlUG9pbnRzW20rMV07bD1rLng7Zj1rLnk7YT1nLngtbDttPWcueS1mO2Y9KGEtKGItbCkpKgphKyhtLShjLWYpKSptO2E9TWF0aC5zcXJ0KDA+PWY/MDpmKmYvKGEqYSttKm0pKTthPmUmJihhPWUpO2U9TWF0aC5zcXJ0KG14VXRpbHMucHRTZWdEaXN0U3EoZy54LGcueSxrLngsay55LGIsYykpOy0xPT1teFV0aWxzLnJlbGF0aXZlQ2N3KGcueCxnLnksay54LGsueSxiLGMpJiYoZT0tZSk7cmV0dXJuIG5ldyBteFBvaW50KChkLzItcC1hKS9kKi0yLGUvdGhpcy5zY2FsZSl9fXJldHVybiBuZXcgbXhQb2ludH07Cm14R3JhcGhWaWV3LnByb3RvdHlwZS51cGRhdGVFZGdlTGFiZWxPZmZzZXQ9ZnVuY3Rpb24oYSl7dmFyIGI9YS5hYnNvbHV0ZVBvaW50czthLmFic29sdXRlT2Zmc2V0Lng9YS5nZXRDZW50ZXJYKCk7YS5hYnNvbHV0ZU9mZnNldC55PWEuZ2V0Q2VudGVyWSgpO2lmKG51bGwhPWImJjA8Yi5sZW5ndGgmJm51bGwhPWEuc2VnbWVudHMpe3ZhciBjPXRoaXMuZ3JhcGguZ2V0Q2VsbEdlb21ldHJ5KGEuY2VsbCk7aWYoYy5yZWxhdGl2ZSl7dmFyIGQ9dGhpcy5nZXRQb2ludChhLGMpO251bGwhPWQmJihhLmFic29sdXRlT2Zmc2V0PWQpfWVsc2V7dmFyIGQ9YlswXSxlPWJbYi5sZW5ndGgtMV07aWYobnVsbCE9ZCYmbnVsbCE9ZSl7dmFyIGI9ZS54LWQueCxmPWUueS1kLnksZz1lPTAsYz1jLm9mZnNldDtudWxsIT1jJiYoZT1jLngsZz1jLnkpO2M9ZC55K2YvMitnKnRoaXMuc2NhbGU7YS5hYnNvbHV0ZU9mZnNldC54PWQueCtiLzIrZSp0aGlzLnNjYWxlO2EuYWJzb2x1dGVPZmZzZXQueT1jfX19fTsKbXhHcmFwaFZpZXcucHJvdG90eXBlLmdldFN0YXRlPWZ1bmN0aW9uKGEsYil7Yj1ifHwhMTt2YXIgYz1udWxsO251bGwhPWEmJihjPXRoaXMuc3RhdGVzLmdldChhKSxiJiYobnVsbD09Y3x8dGhpcy51cGRhdGVTdHlsZSkmJnRoaXMuZ3JhcGguaXNDZWxsVmlzaWJsZShhKSYmKG51bGw9PWM/KGM9dGhpcy5jcmVhdGVTdGF0ZShhKSx0aGlzLnN0YXRlcy5wdXQoYSxjKSk6Yy5zdHlsZT10aGlzLmdyYXBoLmdldENlbGxTdHlsZShhKSkpO3JldHVybiBjfTtteEdyYXBoVmlldy5wcm90b3R5cGUuaXNSZW5kZXJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yZW5kZXJpbmd9O214R3JhcGhWaWV3LnByb3RvdHlwZS5zZXRSZW5kZXJpbmc9ZnVuY3Rpb24oYSl7dGhpcy5yZW5kZXJpbmc9YX07bXhHcmFwaFZpZXcucHJvdG90eXBlLmlzQWxsb3dFdmFsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYWxsb3dFdmFsfTsKbXhHcmFwaFZpZXcucHJvdG90eXBlLnNldEFsbG93RXZhbD1mdW5jdGlvbihhKXt0aGlzLmFsbG93RXZhbD1hfTtteEdyYXBoVmlldy5wcm90b3R5cGUuZ2V0U3RhdGVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhdGVzfTtteEdyYXBoVmlldy5wcm90b3R5cGUuc2V0U3RhdGVzPWZ1bmN0aW9uKGEpe3RoaXMuc3RhdGVzPWF9O214R3JhcGhWaWV3LnByb3RvdHlwZS5nZXRDZWxsU3RhdGVzPWZ1bmN0aW9uKGEpe2lmKG51bGw9PWEpcmV0dXJuIHRoaXMuc3RhdGVzO2Zvcih2YXIgYj1bXSxjPTA7YzxhLmxlbmd0aDtjKyspe3ZhciBkPXRoaXMuZ2V0U3RhdGUoYVtjXSk7bnVsbCE9ZCYmYi5wdXNoKGQpfXJldHVybiBifTsKbXhHcmFwaFZpZXcucHJvdG90eXBlLnJlbW92ZVN0YXRlPWZ1bmN0aW9uKGEpe3ZhciBiPW51bGw7bnVsbCE9YSYmKGI9dGhpcy5zdGF0ZXMucmVtb3ZlKGEpLG51bGwhPWImJih0aGlzLmdyYXBoLmNlbGxSZW5kZXJlci5kZXN0cm95KGIpLGIuaW52YWxpZD0hMCxiLmRlc3Ryb3koKSkpO3JldHVybiBifTtteEdyYXBoVmlldy5wcm90b3R5cGUuY3JlYXRlU3RhdGU9ZnVuY3Rpb24oYSl7cmV0dXJuIG5ldyBteENlbGxTdGF0ZSh0aGlzLGEsdGhpcy5ncmFwaC5nZXRDZWxsU3R5bGUoYSkpfTtteEdyYXBoVmlldy5wcm90b3R5cGUuZ2V0Q2FudmFzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2FudmFzfTtteEdyYXBoVmlldy5wcm90b3R5cGUuZ2V0QmFja2dyb3VuZFBhbmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iYWNrZ3JvdW5kUGFuZX07bXhHcmFwaFZpZXcucHJvdG90eXBlLmdldERyYXdQYW5lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZHJhd1BhbmV9OwpteEdyYXBoVmlldy5wcm90b3R5cGUuZ2V0T3ZlcmxheVBhbmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vdmVybGF5UGFuZX07bXhHcmFwaFZpZXcucHJvdG90eXBlLmdldERlY29yYXRvclBhbmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kZWNvcmF0b3JQYW5lfTtteEdyYXBoVmlldy5wcm90b3R5cGUuaXNDb250YWluZXJFdmVudD1mdW5jdGlvbihhKXthPW14RXZlbnQuZ2V0U291cmNlKGEpO3JldHVybiBhPT10aGlzLmdyYXBoLmNvbnRhaW5lcnx8YS5wYXJlbnROb2RlPT10aGlzLmJhY2tncm91bmRQYW5lfHxudWxsIT1hLnBhcmVudE5vZGUmJmEucGFyZW50Tm9kZS5wYXJlbnROb2RlPT10aGlzLmJhY2tncm91bmRQYW5lfHxhPT10aGlzLmNhbnZhcy5wYXJlbnROb2RlfHxhPT10aGlzLmNhbnZhc3x8YT09dGhpcy5iYWNrZ3JvdW5kUGFuZXx8YT09dGhpcy5kcmF3UGFuZXx8YT09dGhpcy5vdmVybGF5UGFuZXx8YT09dGhpcy5kZWNvcmF0b3JQYW5lfTsKbXhHcmFwaFZpZXcucHJvdG90eXBlLmlzU2Nyb2xsRXZlbnQ9ZnVuY3Rpb24oYSl7dmFyIGI9bXhVdGlscy5nZXRPZmZzZXQodGhpcy5ncmFwaC5jb250YWluZXIpO2E9bmV3IG14UG9pbnQoYS5jbGllbnRYLWIueCxhLmNsaWVudFktYi55KTt2YXIgYj10aGlzLmdyYXBoLmNvbnRhaW5lci5vZmZzZXRXaWR0aCxjPXRoaXMuZ3JhcGguY29udGFpbmVyLmNsaWVudFdpZHRoO2lmKGI+YyYmYS54PmMrMiYmYS54PD1iKXJldHVybiEwO2I9dGhpcy5ncmFwaC5jb250YWluZXIub2Zmc2V0SGVpZ2h0O2M9dGhpcy5ncmFwaC5jb250YWluZXIuY2xpZW50SGVpZ2h0O3JldHVybiBiPmMmJmEueT5jKzImJmEueTw9Yj8hMDohMX07Cm14R3JhcGhWaWV3LnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKCl7dGhpcy5pbnN0YWxsTGlzdGVuZXJzKCk7dmFyIGE9dGhpcy5ncmFwaDthLmRpYWxlY3Q9PW14Q29uc3RhbnRzLkRJQUxFQ1RfU1ZHP3RoaXMuY3JlYXRlU3ZnKCk6YS5kaWFsZWN0PT1teENvbnN0YW50cy5ESUFMRUNUX1ZNTD90aGlzLmNyZWF0ZVZtbCgpOnRoaXMuY3JlYXRlSHRtbCgpfTsKbXhHcmFwaFZpZXcucHJvdG90eXBlLmluc3RhbGxMaXN0ZW5lcnM9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdyYXBoLGI9YS5jb250YWluZXI7aWYobnVsbCE9Yil7bXhDbGllbnQuSVNfVE9VQ0gmJihteEV2ZW50LmFkZExpc3RlbmVyKGIsImdlc3R1cmVzdGFydCIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYil7YS5maXJlR2VzdHVyZUV2ZW50KGIpO214RXZlbnQuY29uc3VtZShiKX0pKSxteEV2ZW50LmFkZExpc3RlbmVyKGIsImdlc3R1cmVjaGFuZ2UiLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGIpe2EuZmlyZUdlc3R1cmVFdmVudChiKTtteEV2ZW50LmNvbnN1bWUoYil9KSksbXhFdmVudC5hZGRMaXN0ZW5lcihiLCJnZXN0dXJlZW5kIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihiKXthLmZpcmVHZXN0dXJlRXZlbnQoYik7bXhFdmVudC5jb25zdW1lKGIpfSkpKTtteEV2ZW50LmFkZEdlc3R1cmVMaXN0ZW5lcnMoYixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihiKXshdGhpcy5pc0NvbnRhaW5lckV2ZW50KGIpfHwKKG14Q2xpZW50LklTX0lFfHxteENsaWVudC5JU19JRTExfHxteENsaWVudC5JU19HQ3x8bXhDbGllbnQuSVNfT1B8fG14Q2xpZW50LklTX1NGKSYmdGhpcy5pc1Njcm9sbEV2ZW50KGIpfHxhLmZpcmVNb3VzZUV2ZW50KG14RXZlbnQuTU9VU0VfRE9XTixuZXcgbXhNb3VzZUV2ZW50KGIpKX0pLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGIpe3RoaXMuaXNDb250YWluZXJFdmVudChiKSYmYS5maXJlTW91c2VFdmVudChteEV2ZW50Lk1PVVNFX01PVkUsbmV3IG14TW91c2VFdmVudChiKSl9KSxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihiKXt0aGlzLmlzQ29udGFpbmVyRXZlbnQoYikmJmEuZmlyZU1vdXNlRXZlbnQobXhFdmVudC5NT1VTRV9VUCxuZXcgbXhNb3VzZUV2ZW50KGIpKX0pKTtteEV2ZW50LmFkZExpc3RlbmVyKGIsImRibGNsaWNrIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihiKXt0aGlzLmlzQ29udGFpbmVyRXZlbnQoYikmJmEuZGJsQ2xpY2soYil9KSk7CnZhciBjPWZ1bmN0aW9uKGMpe3ZhciBkPW51bGw7bXhDbGllbnQuSVNfVE9VQ0gmJihkPW14RXZlbnQuZ2V0Q2xpZW50WChjKSxjPW14RXZlbnQuZ2V0Q2xpZW50WShjKSxjPW14VXRpbHMuY29udmVydFBvaW50KGIsZCxjKSxkPWEudmlldy5nZXRTdGF0ZShhLmdldENlbGxBdChjLngsYy55KSkpO3JldHVybiBkfTthLmFkZE1vdXNlTGlzdGVuZXIoe21vdXNlRG93bjpmdW5jdGlvbihiLGMpe2EucG9wdXBNZW51SGFuZGxlci5oaWRlTWVudSgpfSxtb3VzZU1vdmU6ZnVuY3Rpb24oKXt9LG1vdXNlVXA6ZnVuY3Rpb24oKXt9fSk7dGhpcy5tb3ZlSGFuZGxlcj1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihiKXtudWxsIT1hLnRvb2x0aXBIYW5kbGVyJiZhLnRvb2x0aXBIYW5kbGVyLmlzSGlkZU9uSG92ZXIoKSYmYS50b29sdGlwSGFuZGxlci5oaWRlKCk7dGhpcy5jYXB0dXJlRG9jdW1lbnRHZXN0dXJlJiZhLmlzTW91c2VEb3duJiZudWxsIT1hLmNvbnRhaW5lciYmIXRoaXMuaXNDb250YWluZXJFdmVudChiKSYmCiJub25lIiE9YS5jb250YWluZXIuc3R5bGUuZGlzcGxheSYmImhpZGRlbiIhPWEuY29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHkmJiFteEV2ZW50LmlzQ29uc3VtZWQoYikmJmEuZmlyZU1vdXNlRXZlbnQobXhFdmVudC5NT1VTRV9NT1ZFLG5ldyBteE1vdXNlRXZlbnQoYixjKGIpKSl9KTt0aGlzLmVuZEhhbmRsZXI9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYil7dGhpcy5jYXB0dXJlRG9jdW1lbnRHZXN0dXJlJiZhLmlzTW91c2VEb3duJiZudWxsIT1hLmNvbnRhaW5lciYmIXRoaXMuaXNDb250YWluZXJFdmVudChiKSYmIm5vbmUiIT1hLmNvbnRhaW5lci5zdHlsZS5kaXNwbGF5JiYiaGlkZGVuIiE9YS5jb250YWluZXIuc3R5bGUudmlzaWJpbGl0eSYmYS5maXJlTW91c2VFdmVudChteEV2ZW50Lk1PVVNFX1VQLG5ldyBteE1vdXNlRXZlbnQoYikpfSk7bXhFdmVudC5hZGRHZXN0dXJlTGlzdGVuZXJzKGRvY3VtZW50LG51bGwsdGhpcy5tb3ZlSGFuZGxlcix0aGlzLmVuZEhhbmRsZXIpfX07Cm14R3JhcGhWaWV3LnByb3RvdHlwZS5jcmVhdGVIdG1sPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5ncmFwaC5jb250YWluZXI7bnVsbCE9YSYmKHRoaXMuY2FudmFzPXRoaXMuY3JlYXRlSHRtbFBhbmUoIjEwMCUiLCIxMDAlIiksdGhpcy5jYW52YXMuc3R5bGUub3ZlcmZsb3c9ImhpZGRlbiIsdGhpcy5iYWNrZ3JvdW5kUGFuZT10aGlzLmNyZWF0ZUh0bWxQYW5lKCIxcHgiLCIxcHgiKSx0aGlzLmRyYXdQYW5lPXRoaXMuY3JlYXRlSHRtbFBhbmUoIjFweCIsIjFweCIpLHRoaXMub3ZlcmxheVBhbmU9dGhpcy5jcmVhdGVIdG1sUGFuZSgiMXB4IiwiMXB4IiksdGhpcy5kZWNvcmF0b3JQYW5lPXRoaXMuY3JlYXRlSHRtbFBhbmUoIjFweCIsIjFweCIpLHRoaXMuY2FudmFzLmFwcGVuZENoaWxkKHRoaXMuYmFja2dyb3VuZFBhbmUpLHRoaXMuY2FudmFzLmFwcGVuZENoaWxkKHRoaXMuZHJhd1BhbmUpLHRoaXMuY2FudmFzLmFwcGVuZENoaWxkKHRoaXMub3ZlcmxheVBhbmUpLHRoaXMuY2FudmFzLmFwcGVuZENoaWxkKHRoaXMuZGVjb3JhdG9yUGFuZSksCmEuYXBwZW5kQ2hpbGQodGhpcy5jYW52YXMpLHRoaXMudXBkYXRlQ29udGFpbmVyU3R5bGUoYSksbXhDbGllbnQuSVNfUVVJUktTJiYoYT1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXthPXRoaXMuZ2V0R3JhcGhCb3VuZHMoKTt0aGlzLnVwZGF0ZUh0bWxDYW52YXNTaXplKGEueCthLndpZHRoK3RoaXMuZ3JhcGguYm9yZGVyLGEueSthLmhlaWdodCt0aGlzLmdyYXBoLmJvcmRlcil9KSxteEV2ZW50LmFkZExpc3RlbmVyKHdpbmRvdywicmVzaXplIixhKSkpfTsKbXhHcmFwaFZpZXcucHJvdG90eXBlLnVwZGF0ZUh0bWxDYW52YXNTaXplPWZ1bmN0aW9uKGEsYil7aWYobnVsbCE9dGhpcy5ncmFwaC5jb250YWluZXIpe3ZhciBjPXRoaXMuZ3JhcGguY29udGFpbmVyLm9mZnNldEhlaWdodDt0aGlzLmNhbnZhcy5zdHlsZS53aWR0aD10aGlzLmdyYXBoLmNvbnRhaW5lci5vZmZzZXRXaWR0aDxhP2ErInB4IjoiMTAwJSI7dGhpcy5jYW52YXMuc3R5bGUuaGVpZ2h0PWM8Yj9iKyJweCI6IjEwMCUifX07bXhHcmFwaFZpZXcucHJvdG90eXBlLmNyZWF0ZUh0bWxQYW5lPWZ1bmN0aW9uKGEsYil7dmFyIGM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiRElWIik7bnVsbCE9YSYmbnVsbCE9Yj8oYy5zdHlsZS5wb3NpdGlvbj0iYWJzb2x1dGUiLGMuc3R5bGUubGVmdD0iMHB4IixjLnN0eWxlLnRvcD0iMHB4IixjLnN0eWxlLndpZHRoPWEsYy5zdHlsZS5oZWlnaHQ9Yik6Yy5zdHlsZS5wb3NpdGlvbj0icmVsYXRpdmUiO3JldHVybiBjfTsKbXhHcmFwaFZpZXcucHJvdG90eXBlLmNyZWF0ZVZtbD1mdW5jdGlvbigpe3ZhciBhPXRoaXMuZ3JhcGguY29udGFpbmVyO2lmKG51bGwhPWEpe3ZhciBiPWEub2Zmc2V0V2lkdGgsYz1hLm9mZnNldEhlaWdodDt0aGlzLmNhbnZhcz10aGlzLmNyZWF0ZVZtbFBhbmUoYixjKTt0aGlzLmNhbnZhcy5zdHlsZS5vdmVyZmxvdz0iaGlkZGVuIjt0aGlzLmJhY2tncm91bmRQYW5lPXRoaXMuY3JlYXRlVm1sUGFuZShiLGMpO3RoaXMuZHJhd1BhbmU9dGhpcy5jcmVhdGVWbWxQYW5lKGIsYyk7dGhpcy5vdmVybGF5UGFuZT10aGlzLmNyZWF0ZVZtbFBhbmUoYixjKTt0aGlzLmRlY29yYXRvclBhbmU9dGhpcy5jcmVhdGVWbWxQYW5lKGIsYyk7dGhpcy5jYW52YXMuYXBwZW5kQ2hpbGQodGhpcy5iYWNrZ3JvdW5kUGFuZSk7dGhpcy5jYW52YXMuYXBwZW5kQ2hpbGQodGhpcy5kcmF3UGFuZSk7dGhpcy5jYW52YXMuYXBwZW5kQ2hpbGQodGhpcy5vdmVybGF5UGFuZSk7dGhpcy5jYW52YXMuYXBwZW5kQ2hpbGQodGhpcy5kZWNvcmF0b3JQYW5lKTsKYS5hcHBlbmRDaGlsZCh0aGlzLmNhbnZhcyl9fTtteEdyYXBoVmlldy5wcm90b3R5cGUuY3JlYXRlVm1sUGFuZT1mdW5jdGlvbihhLGIpe3ZhciBjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQobXhDbGllbnQuVk1MX1BSRUZJWCsiOmdyb3VwIik7Yy5zdHlsZS5wb3NpdGlvbj0iYWJzb2x1dGUiO2Muc3R5bGUubGVmdD0iMHB4IjtjLnN0eWxlLnRvcD0iMHB4IjtjLnN0eWxlLndpZHRoPWErInB4IjtjLnN0eWxlLmhlaWdodD1iKyJweCI7Yy5zZXRBdHRyaWJ1dGUoImNvb3Jkc2l6ZSIsYSsiLCIrYik7Yy5zZXRBdHRyaWJ1dGUoImNvb3Jkb3JpZ2luIiwiMCwwIik7cmV0dXJuIGN9OwpteEdyYXBoVmlldy5wcm90b3R5cGUuY3JlYXRlU3ZnPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5ncmFwaC5jb250YWluZXI7dGhpcy5jYW52YXM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKG14Q29uc3RhbnRzLk5TX1NWRywiZyIpO3RoaXMuYmFja2dyb3VuZFBhbmU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKG14Q29uc3RhbnRzLk5TX1NWRywiZyIpO3RoaXMuY2FudmFzLmFwcGVuZENoaWxkKHRoaXMuYmFja2dyb3VuZFBhbmUpO3RoaXMuZHJhd1BhbmU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKG14Q29uc3RhbnRzLk5TX1NWRywiZyIpO3RoaXMuY2FudmFzLmFwcGVuZENoaWxkKHRoaXMuZHJhd1BhbmUpO3RoaXMub3ZlcmxheVBhbmU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKG14Q29uc3RhbnRzLk5TX1NWRywiZyIpO3RoaXMuY2FudmFzLmFwcGVuZENoaWxkKHRoaXMub3ZlcmxheVBhbmUpO3RoaXMuZGVjb3JhdG9yUGFuZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMobXhDb25zdGFudHMuTlNfU1ZHLAoiZyIpO3RoaXMuY2FudmFzLmFwcGVuZENoaWxkKHRoaXMuZGVjb3JhdG9yUGFuZSk7dmFyIGI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKG14Q29uc3RhbnRzLk5TX1NWRywic3ZnIik7Yi5zdHlsZS5sZWZ0PSIwcHgiO2Iuc3R5bGUudG9wPSIwcHgiO2Iuc3R5bGUud2lkdGg9IjEwMCUiO2Iuc3R5bGUuaGVpZ2h0PSIxMDAlIjtiLnN0eWxlLmRpc3BsYXk9ImJsb2NrIjtiLmFwcGVuZENoaWxkKHRoaXMuY2FudmFzKTtpZihteENsaWVudC5JU19JRXx8bXhDbGllbnQuSVNfSUUxMSliLnN0eWxlLm92ZXJmbG93PSJoaWRkZW4iO251bGwhPWEmJihhLmFwcGVuZENoaWxkKGIpLHRoaXMudXBkYXRlQ29udGFpbmVyU3R5bGUoYSkpfTsKbXhHcmFwaFZpZXcucHJvdG90eXBlLnVwZGF0ZUNvbnRhaW5lclN0eWxlPWZ1bmN0aW9uKGEpe3ZhciBiPW14VXRpbHMuZ2V0Q3VycmVudFN0eWxlKGEpO251bGwhPWImJiJzdGF0aWMiPT1iLnBvc2l0aW9uJiYoYS5zdHlsZS5wb3NpdGlvbj0icmVsYXRpdmUiKTtteENsaWVudC5JU19QT0lOVEVSJiYoYS5zdHlsZS50b3VjaEFjdGlvbj0ibm9uZSIpfTsKbXhHcmFwaFZpZXcucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt2YXIgYT1udWxsIT10aGlzLmNhbnZhcz90aGlzLmNhbnZhcy5vd25lclNWR0VsZW1lbnQ6bnVsbDtudWxsPT1hJiYoYT10aGlzLmNhbnZhcyk7bnVsbCE9YSYmbnVsbCE9YS5wYXJlbnROb2RlJiYodGhpcy5jbGVhcih0aGlzLmN1cnJlbnRSb290LCEwKSxteEV2ZW50LnJlbW92ZUdlc3R1cmVMaXN0ZW5lcnMoZG9jdW1lbnQsbnVsbCx0aGlzLm1vdmVIYW5kbGVyLHRoaXMuZW5kSGFuZGxlciksbXhFdmVudC5yZWxlYXNlKHRoaXMuZ3JhcGguY29udGFpbmVyKSxhLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYSksdGhpcy5kZWNvcmF0b3JQYW5lPXRoaXMub3ZlcmxheVBhbmU9dGhpcy5kcmF3UGFuZT10aGlzLmJhY2tncm91bmRQYW5lPXRoaXMuY2FudmFzPXRoaXMuZW5kSGFuZGxlcj10aGlzLm1vdmVIYW5kbGVyPW51bGwpfTsKZnVuY3Rpb24gbXhDdXJyZW50Um9vdENoYW5nZShhLGIpe3RoaXMudmlldz1hO3RoaXMucHJldmlvdXM9dGhpcy5yb290PWI7dGhpcy5pc1VwPW51bGw9PWI7aWYoIXRoaXMuaXNVcClmb3IodmFyIGM9dGhpcy52aWV3LmN1cnJlbnRSb290LGQ9dGhpcy52aWV3LmdyYXBoLmdldE1vZGVsKCk7bnVsbCE9Yzspe2lmKGM9PWIpe3RoaXMuaXNVcD0hMDticmVha31jPWQuZ2V0UGFyZW50KGMpfX0KbXhDdXJyZW50Um9vdENoYW5nZS5wcm90b3R5cGUuZXhlY3V0ZT1mdW5jdGlvbigpe3ZhciBhPXRoaXMudmlldy5jdXJyZW50Um9vdDt0aGlzLnZpZXcuY3VycmVudFJvb3Q9dGhpcy5wcmV2aW91czt0aGlzLnByZXZpb3VzPWE7YT10aGlzLnZpZXcuZ3JhcGguZ2V0VHJhbnNsYXRlRm9yUm9vdCh0aGlzLnZpZXcuY3VycmVudFJvb3QpO251bGwhPWEmJih0aGlzLnZpZXcudHJhbnNsYXRlPW5ldyBteFBvaW50KC1hLngsLWEueSkpO3RoaXMuaXNVcD8odGhpcy52aWV3LmNsZWFyKHRoaXMudmlldy5jdXJyZW50Um9vdCwhMCksdGhpcy52aWV3LnZhbGlkYXRlKCkpOnRoaXMudmlldy5yZWZyZXNoKCk7dGhpcy52aWV3LmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdCh0aGlzLmlzVXA/bXhFdmVudC5VUDpteEV2ZW50LkRPV04sInJvb3QiLHRoaXMudmlldy5jdXJyZW50Um9vdCwicHJldmlvdXMiLHRoaXMucHJldmlvdXMpKTt0aGlzLmlzVXA9IXRoaXMuaXNVcH07CmZ1bmN0aW9uIG14R3JhcGgoYSxiLGMsZCl7dGhpcy5tb3VzZUxpc3RlbmVycz1udWxsO3RoaXMucmVuZGVySGludD1jO3RoaXMuZGlhbGVjdD1teENsaWVudC5JU19TVkc/bXhDb25zdGFudHMuRElBTEVDVF9TVkc6Yz09bXhDb25zdGFudHMuUkVOREVSSU5HX0hJTlRfRVhBQ1QmJm14Q2xpZW50LklTX1ZNTD9teENvbnN0YW50cy5ESUFMRUNUX1ZNTDpjPT1teENvbnN0YW50cy5SRU5ERVJJTkdfSElOVF9GQVNURVNUP214Q29uc3RhbnRzLkRJQUxFQ1RfU1RSSUNUSFRNTDpjPT1teENvbnN0YW50cy5SRU5ERVJJTkdfSElOVF9GQVNURVI/bXhDb25zdGFudHMuRElBTEVDVF9QUkVGRVJIVE1MOm14Q29uc3RhbnRzLkRJQUxFQ1RfTUlYRURIVE1MO3RoaXMubW9kZWw9bnVsbCE9Yj9iOm5ldyBteEdyYXBoTW9kZWw7dGhpcy5tdWx0aXBsaWNpdGllcz1bXTt0aGlzLmltYWdlQnVuZGxlcz1bXTt0aGlzLmNlbGxSZW5kZXJlcj10aGlzLmNyZWF0ZUNlbGxSZW5kZXJlcigpO3RoaXMuc2V0U2VsZWN0aW9uTW9kZWwodGhpcy5jcmVhdGVTZWxlY3Rpb25Nb2RlbCgpKTsKdGhpcy5zZXRTdHlsZXNoZWV0KG51bGwhPWQ/ZDp0aGlzLmNyZWF0ZVN0eWxlc2hlZXQoKSk7dGhpcy52aWV3PXRoaXMuY3JlYXRlR3JhcGhWaWV3KCk7dGhpcy5ncmFwaE1vZGVsQ2hhbmdlTGlzdGVuZXI9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSxiKXt0aGlzLmdyYXBoTW9kZWxDaGFuZ2VkKGIuZ2V0UHJvcGVydHkoImVkaXQiKS5jaGFuZ2VzKX0pO3RoaXMubW9kZWwuYWRkTGlzdGVuZXIobXhFdmVudC5DSEFOR0UsdGhpcy5ncmFwaE1vZGVsQ2hhbmdlTGlzdGVuZXIpO3RoaXMuY3JlYXRlSGFuZGxlcnMoKTtudWxsIT1hJiZ0aGlzLmluaXQoYSk7dGhpcy52aWV3LnJldmFsaWRhdGUoKX1teExvYWRSZXNvdXJjZXM/bXhSZXNvdXJjZXMuYWRkKG14Q2xpZW50LmJhc2VQYXRoKyIvcmVzb3VyY2VzL2dyYXBoIik6bXhDbGllbnQuZGVmYXVsdEJ1bmRsZXMucHVzaChteENsaWVudC5iYXNlUGF0aCsiL3Jlc291cmNlcy9ncmFwaCIpO214R3JhcGgucHJvdG90eXBlPW5ldyBteEV2ZW50U291cmNlOwpteEdyYXBoLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1teEdyYXBoO214R3JhcGgucHJvdG90eXBlLm1vdXNlTGlzdGVuZXJzPW51bGw7bXhHcmFwaC5wcm90b3R5cGUuaXNNb3VzZURvd249ITE7bXhHcmFwaC5wcm90b3R5cGUubW9kZWw9bnVsbDtteEdyYXBoLnByb3RvdHlwZS52aWV3PW51bGw7bXhHcmFwaC5wcm90b3R5cGUuc3R5bGVzaGVldD1udWxsO214R3JhcGgucHJvdG90eXBlLnNlbGVjdGlvbk1vZGVsPW51bGw7bXhHcmFwaC5wcm90b3R5cGUuY2VsbEVkaXRvcj1udWxsO214R3JhcGgucHJvdG90eXBlLmNlbGxSZW5kZXJlcj1udWxsO214R3JhcGgucHJvdG90eXBlLm11bHRpcGxpY2l0aWVzPW51bGw7bXhHcmFwaC5wcm90b3R5cGUucmVuZGVySGludD1udWxsO214R3JhcGgucHJvdG90eXBlLmRpYWxlY3Q9bnVsbDtteEdyYXBoLnByb3RvdHlwZS5ncmlkU2l6ZT0xMDtteEdyYXBoLnByb3RvdHlwZS5ncmlkRW5hYmxlZD0hMDsKbXhHcmFwaC5wcm90b3R5cGUucG9ydHNFbmFibGVkPSEwO214R3JhcGgucHJvdG90eXBlLm5hdGl2ZURibENsaWNrRW5hYmxlZD0hMDtteEdyYXBoLnByb3RvdHlwZS5kb3VibGVUYXBFbmFibGVkPSEwO214R3JhcGgucHJvdG90eXBlLmRvdWJsZVRhcFRpbWVvdXQ9NTAwO214R3JhcGgucHJvdG90eXBlLmRvdWJsZVRhcFRvbGVyYW5jZT0yNTtteEdyYXBoLnByb3RvdHlwZS5sYXN0VG91Y2hZPTA7bXhHcmFwaC5wcm90b3R5cGUubGFzdFRvdWNoWT0wO214R3JhcGgucHJvdG90eXBlLmxhc3RUb3VjaFRpbWU9MDtteEdyYXBoLnByb3RvdHlwZS50YXBBbmRIb2xkRW5hYmxlZD0hMDtteEdyYXBoLnByb3RvdHlwZS50YXBBbmRIb2xkRGVsYXk9NTAwO214R3JhcGgucHJvdG90eXBlLnRhcEFuZEhvbGRJblByb2dyZXNzPSExO214R3JhcGgucHJvdG90eXBlLnRhcEFuZEhvbGRWYWxpZD0hMTtteEdyYXBoLnByb3RvdHlwZS5pbml0aWFsVG91Y2hYPTA7Cm14R3JhcGgucHJvdG90eXBlLmluaXRpYWxUb3VjaFk9MDtteEdyYXBoLnByb3RvdHlwZS50b2xlcmFuY2U9NDtteEdyYXBoLnByb3RvdHlwZS5kZWZhdWx0T3ZlcmxhcD0uNTtteEdyYXBoLnByb3RvdHlwZS5kZWZhdWx0UGFyZW50PW51bGw7bXhHcmFwaC5wcm90b3R5cGUuYWx0ZXJuYXRlRWRnZVN0eWxlPW51bGw7bXhHcmFwaC5wcm90b3R5cGUuYmFja2dyb3VuZEltYWdlPW51bGw7bXhHcmFwaC5wcm90b3R5cGUucGFnZVZpc2libGU9ITE7bXhHcmFwaC5wcm90b3R5cGUucGFnZUJyZWFrc1Zpc2libGU9ITE7bXhHcmFwaC5wcm90b3R5cGUucGFnZUJyZWFrQ29sb3I9ImdyYXkiO214R3JhcGgucHJvdG90eXBlLnBhZ2VCcmVha0Rhc2hlZD0hMDtteEdyYXBoLnByb3RvdHlwZS5taW5QYWdlQnJlYWtEaXN0PTIwO214R3JhcGgucHJvdG90eXBlLnByZWZlclBhZ2VTaXplPSExO214R3JhcGgucHJvdG90eXBlLnBhZ2VGb3JtYXQ9bXhDb25zdGFudHMuUEFHRV9GT1JNQVRfQTRfUE9SVFJBSVQ7Cm14R3JhcGgucHJvdG90eXBlLnBhZ2VTY2FsZT0xLjU7bXhHcmFwaC5wcm90b3R5cGUuZW5hYmxlZD0hMDtteEdyYXBoLnByb3RvdHlwZS5lc2NhcGVFbmFibGVkPSEwO214R3JhcGgucHJvdG90eXBlLmludm9rZXNTdG9wQ2VsbEVkaXRpbmc9ITA7bXhHcmFwaC5wcm90b3R5cGUuZW50ZXJTdG9wc0NlbGxFZGl0aW5nPSExO214R3JhcGgucHJvdG90eXBlLnVzZVNjcm9sbGJhcnNGb3JQYW5uaW5nPSEwO214R3JhcGgucHJvdG90eXBlLmV4cG9ydEVuYWJsZWQ9ITA7bXhHcmFwaC5wcm90b3R5cGUuaW1wb3J0RW5hYmxlZD0hMDtteEdyYXBoLnByb3RvdHlwZS5jZWxsc0xvY2tlZD0hMTtteEdyYXBoLnByb3RvdHlwZS5jZWxsc0Nsb25lYWJsZT0hMDtteEdyYXBoLnByb3RvdHlwZS5mb2xkaW5nRW5hYmxlZD0hMDtteEdyYXBoLnByb3RvdHlwZS5jZWxsc0VkaXRhYmxlPSEwO214R3JhcGgucHJvdG90eXBlLmNlbGxzRGVsZXRhYmxlPSEwOwpteEdyYXBoLnByb3RvdHlwZS5jZWxsc01vdmFibGU9ITA7bXhHcmFwaC5wcm90b3R5cGUuZWRnZUxhYmVsc01vdmFibGU9ITA7bXhHcmFwaC5wcm90b3R5cGUudmVydGV4TGFiZWxzTW92YWJsZT0hMTtteEdyYXBoLnByb3RvdHlwZS5kcm9wRW5hYmxlZD0hMTtteEdyYXBoLnByb3RvdHlwZS5zcGxpdEVuYWJsZWQ9ITA7bXhHcmFwaC5wcm90b3R5cGUuY2VsbHNSZXNpemFibGU9ITA7bXhHcmFwaC5wcm90b3R5cGUuY2VsbHNCZW5kYWJsZT0hMDtteEdyYXBoLnByb3RvdHlwZS5jZWxsc1NlbGVjdGFibGU9ITA7bXhHcmFwaC5wcm90b3R5cGUuY2VsbHNEaXNjb25uZWN0YWJsZT0hMDtteEdyYXBoLnByb3RvdHlwZS5hdXRvU2l6ZUNlbGxzPSExO214R3JhcGgucHJvdG90eXBlLmF1dG9TaXplQ2VsbHNPbkFkZD0hMTtteEdyYXBoLnByb3RvdHlwZS5hdXRvU2Nyb2xsPSEwO214R3JhcGgucHJvdG90eXBlLmlnbm9yZVNjcm9sbGJhcnM9ITE7Cm14R3JhcGgucHJvdG90eXBlLnRyYW5zbGF0ZVRvU2Nyb2xsUG9zaXRpb249ITE7bXhHcmFwaC5wcm90b3R5cGUudGltZXJBdXRvU2Nyb2xsPSExO214R3JhcGgucHJvdG90eXBlLmFsbG93QXV0b1Bhbm5pbmc9ITE7bXhHcmFwaC5wcm90b3R5cGUuYXV0b0V4dGVuZD0hMDtteEdyYXBoLnByb3RvdHlwZS5tYXhpbXVtR3JhcGhCb3VuZHM9bnVsbDtteEdyYXBoLnByb3RvdHlwZS5taW5pbXVtR3JhcGhTaXplPW51bGw7bXhHcmFwaC5wcm90b3R5cGUubWluaW11bUNvbnRhaW5lclNpemU9bnVsbDtteEdyYXBoLnByb3RvdHlwZS5tYXhpbXVtQ29udGFpbmVyU2l6ZT1udWxsO214R3JhcGgucHJvdG90eXBlLnJlc2l6ZUNvbnRhaW5lcj0hMTtteEdyYXBoLnByb3RvdHlwZS5ib3JkZXI9MDtteEdyYXBoLnByb3RvdHlwZS5rZWVwRWRnZXNJbkZvcmVncm91bmQ9ITE7bXhHcmFwaC5wcm90b3R5cGUua2VlcEVkZ2VzSW5CYWNrZ3JvdW5kPSExOwpteEdyYXBoLnByb3RvdHlwZS5hbGxvd05lZ2F0aXZlQ29vcmRpbmF0ZXM9ITA7bXhHcmFwaC5wcm90b3R5cGUuY29uc3RyYWluQ2hpbGRyZW49ITA7bXhHcmFwaC5wcm90b3R5cGUuY29uc3RyYWluUmVsYXRpdmVDaGlsZHJlbj0hMTtteEdyYXBoLnByb3RvdHlwZS5leHRlbmRQYXJlbnRzPSEwO214R3JhcGgucHJvdG90eXBlLmV4dGVuZFBhcmVudHNPbkFkZD0hMDtteEdyYXBoLnByb3RvdHlwZS5leHRlbmRQYXJlbnRzT25Nb3ZlPSExO214R3JhcGgucHJvdG90eXBlLnJlY3Vyc2l2ZVJlc2l6ZT0hMTtteEdyYXBoLnByb3RvdHlwZS5jb2xsYXBzZVRvUHJlZmVycmVkU2l6ZT0hMDtteEdyYXBoLnByb3RvdHlwZS56b29tRmFjdG9yPTEuMjtteEdyYXBoLnByb3RvdHlwZS5rZWVwU2VsZWN0aW9uVmlzaWJsZU9uWm9vbT0hMTtteEdyYXBoLnByb3RvdHlwZS5jZW50ZXJab29tPSEwO214R3JhcGgucHJvdG90eXBlLnJlc2V0Vmlld09uUm9vdENoYW5nZT0hMDsKbXhHcmFwaC5wcm90b3R5cGUucmVzZXRFZGdlc09uUmVzaXplPSExO214R3JhcGgucHJvdG90eXBlLnJlc2V0RWRnZXNPbk1vdmU9ITE7bXhHcmFwaC5wcm90b3R5cGUucmVzZXRFZGdlc09uQ29ubmVjdD0hMDtteEdyYXBoLnByb3RvdHlwZS5hbGxvd0xvb3BzPSExO214R3JhcGgucHJvdG90eXBlLmRlZmF1bHRMb29wU3R5bGU9bXhFZGdlU3R5bGUuTG9vcDtteEdyYXBoLnByb3RvdHlwZS5tdWx0aWdyYXBoPSEwO214R3JhcGgucHJvdG90eXBlLmNvbm5lY3RhYmxlRWRnZXM9ITE7bXhHcmFwaC5wcm90b3R5cGUuYWxsb3dEYW5nbGluZ0VkZ2VzPSEwO214R3JhcGgucHJvdG90eXBlLmNsb25lSW52YWxpZEVkZ2VzPSExO214R3JhcGgucHJvdG90eXBlLmRpc2Nvbm5lY3RPbk1vdmU9ITA7bXhHcmFwaC5wcm90b3R5cGUubGFiZWxzVmlzaWJsZT0hMDtteEdyYXBoLnByb3RvdHlwZS5odG1sTGFiZWxzPSExO214R3JhcGgucHJvdG90eXBlLnN3aW1sYW5lU2VsZWN0aW9uRW5hYmxlZD0hMDsKbXhHcmFwaC5wcm90b3R5cGUuc3dpbWxhbmVOZXN0aW5nPSEwO214R3JhcGgucHJvdG90eXBlLnN3aW1sYW5lSW5kaWNhdG9yQ29sb3JBdHRyaWJ1dGU9bXhDb25zdGFudHMuU1RZTEVfRklMTENPTE9SO214R3JhcGgucHJvdG90eXBlLmltYWdlQnVuZGxlcz1udWxsO214R3JhcGgucHJvdG90eXBlLm1pbkZpdFNjYWxlPS4xO214R3JhcGgucHJvdG90eXBlLm1heEZpdFNjYWxlPTg7bXhHcmFwaC5wcm90b3R5cGUucGFuRHg9MDtteEdyYXBoLnByb3RvdHlwZS5wYW5EeT0wO214R3JhcGgucHJvdG90eXBlLmNvbGxhcHNlZEltYWdlPW5ldyBteEltYWdlKG14Q2xpZW50LmltYWdlQmFzZVBhdGgrIi9jb2xsYXBzZWQuZ2lmIiw5LDkpO214R3JhcGgucHJvdG90eXBlLmV4cGFuZGVkSW1hZ2U9bmV3IG14SW1hZ2UobXhDbGllbnQuaW1hZ2VCYXNlUGF0aCsiL2V4cGFuZGVkLmdpZiIsOSw5KTsKbXhHcmFwaC5wcm90b3R5cGUud2FybmluZ0ltYWdlPW5ldyBteEltYWdlKG14Q2xpZW50LmltYWdlQmFzZVBhdGgrIi93YXJuaW5nIisobXhDbGllbnQuSVNfTUFDPyIucG5nIjoiLmdpZiIpLDE2LDE2KTtteEdyYXBoLnByb3RvdHlwZS5hbHJlYWR5Q29ubmVjdGVkUmVzb3VyY2U9Im5vbmUiIT1teENsaWVudC5sYW5ndWFnZT8iYWxyZWFkeUNvbm5lY3RlZCI6IiI7bXhHcmFwaC5wcm90b3R5cGUuY29udGFpbnNWYWxpZGF0aW9uRXJyb3JzUmVzb3VyY2U9Im5vbmUiIT1teENsaWVudC5sYW5ndWFnZT8iY29udGFpbnNWYWxpZGF0aW9uRXJyb3JzIjoiIjtteEdyYXBoLnByb3RvdHlwZS5jb2xsYXBzZUV4cGFuZFJlc291cmNlPSJub25lIiE9bXhDbGllbnQubGFuZ3VhZ2U/ImNvbGxhcHNlLWV4cGFuZCI6IiI7Cm14R3JhcGgucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oYSl7dGhpcy5jb250YWluZXI9YTt0aGlzLmNlbGxFZGl0b3I9dGhpcy5jcmVhdGVDZWxsRWRpdG9yKCk7dGhpcy52aWV3LmluaXQoKTt0aGlzLnNpemVEaWRDaGFuZ2UoKTtteEV2ZW50LmFkZExpc3RlbmVyKGEsIm1vdXNlbGVhdmUiLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7bnVsbCE9dGhpcy50b29sdGlwSGFuZGxlciYmdGhpcy50b29sdGlwSGFuZGxlci5oaWRlKCl9KSk7bXhDbGllbnQuSVNfSUUmJihteEV2ZW50LmFkZExpc3RlbmVyKHdpbmRvdywidW5sb2FkIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMuZGVzdHJveSgpfSkpLG14RXZlbnQuYWRkTGlzdGVuZXIoYSwic2VsZWN0c3RhcnQiLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmlzRWRpdGluZygpfHwhdGhpcy5pc01vdXNlRG93biYmIW14RXZlbnQuaXNTaGlmdERvd24oYSl9KSkpOzg9PWRvY3VtZW50LmRvY3VtZW50TW9kZSYmCmEuaW5zZXJ0QWRqYWNlbnRIVE1MKCJiZWZvcmVlbmQiLCI8IitteENsaWVudC5WTUxfUFJFRklYKyc6Z3JvdXAgc3R5bGU9IkRJU1BMQVk6IG5vbmU7Ij48LycrbXhDbGllbnQuVk1MX1BSRUZJWCsiOmdyb3VwPiIpfTsKbXhHcmFwaC5wcm90b3R5cGUuY3JlYXRlSGFuZGxlcnM9ZnVuY3Rpb24oKXt0aGlzLnRvb2x0aXBIYW5kbGVyPXRoaXMuY3JlYXRlVG9vbHRpcEhhbmRsZXIoKTt0aGlzLnRvb2x0aXBIYW5kbGVyLnNldEVuYWJsZWQoITEpO3RoaXMuc2VsZWN0aW9uQ2VsbHNIYW5kbGVyPXRoaXMuY3JlYXRlU2VsZWN0aW9uQ2VsbHNIYW5kbGVyKCk7dGhpcy5jb25uZWN0aW9uSGFuZGxlcj10aGlzLmNyZWF0ZUNvbm5lY3Rpb25IYW5kbGVyKCk7dGhpcy5jb25uZWN0aW9uSGFuZGxlci5zZXRFbmFibGVkKCExKTt0aGlzLmdyYXBoSGFuZGxlcj10aGlzLmNyZWF0ZUdyYXBoSGFuZGxlcigpO3RoaXMucGFubmluZ0hhbmRsZXI9dGhpcy5jcmVhdGVQYW5uaW5nSGFuZGxlcigpO3RoaXMucGFubmluZ0hhbmRsZXIucGFubmluZ0VuYWJsZWQ9ITE7dGhpcy5wb3B1cE1lbnVIYW5kbGVyPXRoaXMuY3JlYXRlUG9wdXBNZW51SGFuZGxlcigpfTsKbXhHcmFwaC5wcm90b3R5cGUuY3JlYXRlVG9vbHRpcEhhbmRsZXI9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG14VG9vbHRpcEhhbmRsZXIodGhpcyl9O214R3JhcGgucHJvdG90eXBlLmNyZWF0ZVNlbGVjdGlvbkNlbGxzSGFuZGxlcj1mdW5jdGlvbigpe3JldHVybiBuZXcgbXhTZWxlY3Rpb25DZWxsc0hhbmRsZXIodGhpcyl9O214R3JhcGgucHJvdG90eXBlLmNyZWF0ZUNvbm5lY3Rpb25IYW5kbGVyPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBteENvbm5lY3Rpb25IYW5kbGVyKHRoaXMpfTtteEdyYXBoLnByb3RvdHlwZS5jcmVhdGVHcmFwaEhhbmRsZXI9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG14R3JhcGhIYW5kbGVyKHRoaXMpfTtteEdyYXBoLnByb3RvdHlwZS5jcmVhdGVQYW5uaW5nSGFuZGxlcj1mdW5jdGlvbigpe3JldHVybiBuZXcgbXhQYW5uaW5nSGFuZGxlcih0aGlzKX07bXhHcmFwaC5wcm90b3R5cGUuY3JlYXRlUG9wdXBNZW51SGFuZGxlcj1mdW5jdGlvbigpe3JldHVybiBuZXcgbXhQb3B1cE1lbnVIYW5kbGVyKHRoaXMpfTsKbXhHcmFwaC5wcm90b3R5cGUuY3JlYXRlU2VsZWN0aW9uTW9kZWw9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG14R3JhcGhTZWxlY3Rpb25Nb2RlbCh0aGlzKX07bXhHcmFwaC5wcm90b3R5cGUuY3JlYXRlU3R5bGVzaGVldD1mdW5jdGlvbigpe3JldHVybiBuZXcgbXhTdHlsZXNoZWV0fTtteEdyYXBoLnByb3RvdHlwZS5jcmVhdGVHcmFwaFZpZXc9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG14R3JhcGhWaWV3KHRoaXMpfTtteEdyYXBoLnByb3RvdHlwZS5jcmVhdGVDZWxsUmVuZGVyZXI9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG14Q2VsbFJlbmRlcmVyfTtteEdyYXBoLnByb3RvdHlwZS5jcmVhdGVDZWxsRWRpdG9yPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBteENlbGxFZGl0b3IodGhpcyl9O214R3JhcGgucHJvdG90eXBlLmdldE1vZGVsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubW9kZWx9O214R3JhcGgucHJvdG90eXBlLmdldFZpZXc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52aWV3fTsKbXhHcmFwaC5wcm90b3R5cGUuZ2V0U3R5bGVzaGVldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnN0eWxlc2hlZXR9O214R3JhcGgucHJvdG90eXBlLnNldFN0eWxlc2hlZXQ9ZnVuY3Rpb24oYSl7dGhpcy5zdHlsZXNoZWV0PWF9O214R3JhcGgucHJvdG90eXBlLmdldFNlbGVjdGlvbk1vZGVsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2VsZWN0aW9uTW9kZWx9O214R3JhcGgucHJvdG90eXBlLnNldFNlbGVjdGlvbk1vZGVsPWZ1bmN0aW9uKGEpe3RoaXMuc2VsZWN0aW9uTW9kZWw9YX07Cm14R3JhcGgucHJvdG90eXBlLmdldFNlbGVjdGlvbkNlbGxzRm9yQ2hhbmdlcz1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYz1uZXcgbXhEaWN0aW9uYXJ5LGQ9W10sZT1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXtpZighYy5nZXQoYSkmJnRoaXMubW9kZWwuY29udGFpbnMoYSkpaWYodGhpcy5tb2RlbC5pc0VkZ2UoYSl8fHRoaXMubW9kZWwuaXNWZXJ0ZXgoYSkpYy5wdXQoYSwhMCksZC5wdXNoKGEpO2Vsc2UgZm9yKHZhciBiPXRoaXMubW9kZWwuZ2V0Q2hpbGRDb3VudChhKSxmPTA7ZjxiO2YrKyllKHRoaXMubW9kZWwuZ2V0Q2hpbGRBdChhLGYpKX0pLGY9MDtmPGEubGVuZ3RoO2YrKyl7dmFyIGc9YVtmXTtpZihnLmNvbnN0cnVjdG9yIT1teFJvb3RDaGFuZ2UmJihudWxsPT1ifHwhYihnKSkpe3ZhciBrPW51bGw7ZyBpbnN0YW5jZW9mIG14Q2hpbGRDaGFuZ2U/az1nLmNoaWxkOm51bGwhPWcuY2VsbCYmZy5jZWxsIGluc3RhbmNlb2YgbXhDZWxsJiYoaz1nLmNlbGwpO251bGwhPQprJiZlKGspfX1yZXR1cm4gZH07bXhHcmFwaC5wcm90b3R5cGUuZ3JhcGhNb2RlbENoYW5nZWQ9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPTA7YjxhLmxlbmd0aDtiKyspdGhpcy5wcm9jZXNzQ2hhbmdlKGFbYl0pO3RoaXMudXBkYXRlU2VsZWN0aW9uKCk7dGhpcy52aWV3LnZhbGlkYXRlKCk7dGhpcy5zaXplRGlkQ2hhbmdlKCl9OwpteEdyYXBoLnByb3RvdHlwZS51cGRhdGVTZWxlY3Rpb249ZnVuY3Rpb24oKXtmb3IodmFyIGE9dGhpcy5nZXRTZWxlY3Rpb25DZWxscygpLGI9W10sYz0wO2M8YS5sZW5ndGg7YysrKWlmKHRoaXMubW9kZWwuY29udGFpbnMoYVtjXSkmJnRoaXMuaXNDZWxsVmlzaWJsZShhW2NdKSlmb3IodmFyIGQ9dGhpcy5tb2RlbC5nZXRQYXJlbnQoYVtjXSk7bnVsbCE9ZCYmZCE9dGhpcy52aWV3LmN1cnJlbnRSb290Oyl7aWYodGhpcy5pc0NlbGxDb2xsYXBzZWQoZCl8fCF0aGlzLmlzQ2VsbFZpc2libGUoZCkpe2IucHVzaChhW2NdKTticmVha31kPXRoaXMubW9kZWwuZ2V0UGFyZW50KGQpfWVsc2UgYi5wdXNoKGFbY10pO3RoaXMucmVtb3ZlU2VsZWN0aW9uQ2VsbHMoYil9OwpteEdyYXBoLnByb3RvdHlwZS5wcm9jZXNzQ2hhbmdlPWZ1bmN0aW9uKGEpe2lmKGEgaW5zdGFuY2VvZiBteFJvb3RDaGFuZ2UpdGhpcy5jbGVhclNlbGVjdGlvbigpLHRoaXMuc2V0RGVmYXVsdFBhcmVudChudWxsKSx0aGlzLnJlbW92ZVN0YXRlRm9yQ2VsbChhLnByZXZpb3VzKSx0aGlzLnJlc2V0Vmlld09uUm9vdENoYW5nZSYmKHRoaXMudmlldy5zY2FsZT0xLHRoaXMudmlldy50cmFuc2xhdGUueD0wLHRoaXMudmlldy50cmFuc2xhdGUueT0wKSx0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LlJPT1QpKTtlbHNlIGlmKGEgaW5zdGFuY2VvZiBteENoaWxkQ2hhbmdlKXt2YXIgYj10aGlzLm1vZGVsLmdldFBhcmVudChhLmNoaWxkKTt0aGlzLnZpZXcuaW52YWxpZGF0ZShhLmNoaWxkLCEwLCEwKTtpZighdGhpcy5tb2RlbC5jb250YWlucyhiKXx8dGhpcy5pc0NlbGxDb2xsYXBzZWQoYikpdGhpcy52aWV3LmludmFsaWRhdGUoYS5jaGlsZCwhMCwhMCksdGhpcy5yZW1vdmVTdGF0ZUZvckNlbGwoYS5jaGlsZCksCnRoaXMudmlldy5jdXJyZW50Um9vdD09YS5jaGlsZCYmdGhpcy5ob21lKCk7YiE9YS5wcmV2aW91cyYmKG51bGwhPWImJnRoaXMudmlldy5pbnZhbGlkYXRlKGIsITEsITEpLG51bGwhPWEucHJldmlvdXMmJnRoaXMudmlldy5pbnZhbGlkYXRlKGEucHJldmlvdXMsITEsITEpKX1lbHNlIGEgaW5zdGFuY2VvZiBteFRlcm1pbmFsQ2hhbmdlfHxhIGluc3RhbmNlb2YgbXhHZW9tZXRyeUNoYW5nZT8oYSBpbnN0YW5jZW9mIG14VGVybWluYWxDaGFuZ2V8fG51bGw9PWEucHJldmlvdXMmJm51bGwhPWEuZ2VvbWV0cnl8fG51bGwhPWEucHJldmlvdXMmJiFhLnByZXZpb3VzLmVxdWFscyhhLmdlb21ldHJ5KSkmJnRoaXMudmlldy5pbnZhbGlkYXRlKGEuY2VsbCk6YSBpbnN0YW5jZW9mIG14VmFsdWVDaGFuZ2U/dGhpcy52aWV3LmludmFsaWRhdGUoYS5jZWxsLCExLCExKTphIGluc3RhbmNlb2YgbXhTdHlsZUNoYW5nZT8odGhpcy52aWV3LmludmFsaWRhdGUoYS5jZWxsLCEwLCEwKSxhPXRoaXMudmlldy5nZXRTdGF0ZShhLmNlbGwpLApudWxsIT1hJiYoYS5pbnZhbGlkU3R5bGU9ITApKTpudWxsIT1hLmNlbGwmJmEuY2VsbCBpbnN0YW5jZW9mIG14Q2VsbCYmdGhpcy5yZW1vdmVTdGF0ZUZvckNlbGwoYS5jZWxsKX07bXhHcmFwaC5wcm90b3R5cGUucmVtb3ZlU3RhdGVGb3JDZWxsPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj10aGlzLm1vZGVsLmdldENoaWxkQ291bnQoYSksYz0wO2M8YjtjKyspdGhpcy5yZW1vdmVTdGF0ZUZvckNlbGwodGhpcy5tb2RlbC5nZXRDaGlsZEF0KGEsYykpO3RoaXMudmlldy5pbnZhbGlkYXRlKGEsITEsITApO3RoaXMudmlldy5yZW1vdmVTdGF0ZShhKX07Cm14R3JhcGgucHJvdG90eXBlLmFkZENlbGxPdmVybGF5PWZ1bmN0aW9uKGEsYil7bnVsbD09YS5vdmVybGF5cyYmKGEub3ZlcmxheXM9W10pO2Eub3ZlcmxheXMucHVzaChiKTt2YXIgYz10aGlzLnZpZXcuZ2V0U3RhdGUoYSk7bnVsbCE9YyYmdGhpcy5jZWxsUmVuZGVyZXIucmVkcmF3KGMpO3RoaXMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KG14RXZlbnQuQUREX09WRVJMQVksImNlbGwiLGEsIm92ZXJsYXkiLGIpKTtyZXR1cm4gYn07bXhHcmFwaC5wcm90b3R5cGUuZ2V0Q2VsbE92ZXJsYXlzPWZ1bmN0aW9uKGEpe3JldHVybiBhLm92ZXJsYXlzfTsKbXhHcmFwaC5wcm90b3R5cGUucmVtb3ZlQ2VsbE92ZXJsYXk9ZnVuY3Rpb24oYSxiKXtpZihudWxsPT1iKXRoaXMucmVtb3ZlQ2VsbE92ZXJsYXlzKGEpO2Vsc2V7dmFyIGM9bXhVdGlscy5pbmRleE9mKGEub3ZlcmxheXMsYik7MDw9Yz8oYS5vdmVybGF5cy5zcGxpY2UoYywxKSwwPT1hLm92ZXJsYXlzLmxlbmd0aCYmKGEub3ZlcmxheXM9bnVsbCksYz10aGlzLnZpZXcuZ2V0U3RhdGUoYSksbnVsbCE9YyYmdGhpcy5jZWxsUmVuZGVyZXIucmVkcmF3KGMpLHRoaXMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KG14RXZlbnQuUkVNT1ZFX09WRVJMQVksImNlbGwiLGEsIm92ZXJsYXkiLGIpKSk6Yj1udWxsfXJldHVybiBifTsKbXhHcmFwaC5wcm90b3R5cGUucmVtb3ZlQ2VsbE92ZXJsYXlzPWZ1bmN0aW9uKGEpe3ZhciBiPWEub3ZlcmxheXM7aWYobnVsbCE9Yil7YS5vdmVybGF5cz1udWxsO3ZhciBjPXRoaXMudmlldy5nZXRTdGF0ZShhKTtudWxsIT1jJiZ0aGlzLmNlbGxSZW5kZXJlci5yZWRyYXcoYyk7Zm9yKGM9MDtjPGIubGVuZ3RoO2MrKyl0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LlJFTU9WRV9PVkVSTEFZLCJjZWxsIixhLCJvdmVybGF5IixiW2NdKSl9cmV0dXJuIGJ9O214R3JhcGgucHJvdG90eXBlLmNsZWFyQ2VsbE92ZXJsYXlzPWZ1bmN0aW9uKGEpe2E9bnVsbCE9YT9hOnRoaXMubW9kZWwuZ2V0Um9vdCgpO3RoaXMucmVtb3ZlQ2VsbE92ZXJsYXlzKGEpO2Zvcih2YXIgYj10aGlzLm1vZGVsLmdldENoaWxkQ291bnQoYSksYz0wO2M8YjtjKyspe3ZhciBkPXRoaXMubW9kZWwuZ2V0Q2hpbGRBdChhLGMpO3RoaXMuY2xlYXJDZWxsT3ZlcmxheXMoZCl9fTsKbXhHcmFwaC5wcm90b3R5cGUuc2V0Q2VsbFdhcm5pbmc9ZnVuY3Rpb24oYSxiLGMsZCl7aWYobnVsbCE9YiYmMDxiLmxlbmd0aClyZXR1cm4gYz1udWxsIT1jP2M6dGhpcy53YXJuaW5nSW1hZ2UsYj1uZXcgbXhDZWxsT3ZlcmxheShjLCI8Zm9udCBjb2xvcj1yZWQ+IitiKyI8L2ZvbnQ+IiksZCYmYi5hZGRMaXN0ZW5lcihteEV2ZW50LkNMSUNLLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGIsYyl7dGhpcy5pc0VuYWJsZWQoKSYmdGhpcy5zZXRTZWxlY3Rpb25DZWxsKGEpfSkpLHRoaXMuYWRkQ2VsbE92ZXJsYXkoYSxiKTt0aGlzLnJlbW92ZUNlbGxPdmVybGF5cyhhKTtyZXR1cm4gbnVsbH07bXhHcmFwaC5wcm90b3R5cGUuc3RhcnRFZGl0aW5nPWZ1bmN0aW9uKGEpe3RoaXMuc3RhcnRFZGl0aW5nQXRDZWxsKG51bGwsYSl9OwpteEdyYXBoLnByb3RvdHlwZS5zdGFydEVkaXRpbmdBdENlbGw9ZnVuY3Rpb24oYSxiKXtudWxsIT1iJiZteEV2ZW50LmlzTXVsdGlUb3VjaEV2ZW50KGIpfHwobnVsbD09YSYmKGE9dGhpcy5nZXRTZWxlY3Rpb25DZWxsKCksbnVsbD09YXx8dGhpcy5pc0NlbGxFZGl0YWJsZShhKXx8KGE9bnVsbCkpLG51bGwhPWEmJih0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LlNUQVJUX0VESVRJTkcsImNlbGwiLGEsImV2ZW50IixiKSksdGhpcy5jZWxsRWRpdG9yLnN0YXJ0RWRpdGluZyhhLGIpLHRoaXMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KG14RXZlbnQuRURJVElOR19TVEFSVEVELCJjZWxsIixhLCJldmVudCIsYikpKSl9O214R3JhcGgucHJvdG90eXBlLmdldEVkaXRpbmdWYWx1ZT1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmNvbnZlcnRWYWx1ZVRvU3RyaW5nKGEpfTsKbXhHcmFwaC5wcm90b3R5cGUuc3RvcEVkaXRpbmc9ZnVuY3Rpb24oYSl7dGhpcy5jZWxsRWRpdG9yLnN0b3BFZGl0aW5nKGEpO3RoaXMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KG14RXZlbnQuRURJVElOR19TVE9QUEVELCJjYW5jZWwiLGEpKX07bXhHcmFwaC5wcm90b3R5cGUubGFiZWxDaGFuZ2VkPWZ1bmN0aW9uKGEsYixjKXt0aGlzLm1vZGVsLmJlZ2luVXBkYXRlKCk7dHJ5e3ZhciBkPWEudmFsdWU7dGhpcy5jZWxsTGFiZWxDaGFuZ2VkKGEsYix0aGlzLmlzQXV0b1NpemVDZWxsKGEpKTt0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LkxBQkVMX0NIQU5HRUQsImNlbGwiLGEsInZhbHVlIixiLCJvbGQiLGQsImV2ZW50IixjKSl9ZmluYWxseXt0aGlzLm1vZGVsLmVuZFVwZGF0ZSgpfXJldHVybiBhfTsKbXhHcmFwaC5wcm90b3R5cGUuY2VsbExhYmVsQ2hhbmdlZD1mdW5jdGlvbihhLGIsYyl7dGhpcy5tb2RlbC5iZWdpblVwZGF0ZSgpO3RyeXt0aGlzLm1vZGVsLnNldFZhbHVlKGEsYiksYyYmdGhpcy5jZWxsU2l6ZVVwZGF0ZWQoYSwhMSl9ZmluYWxseXt0aGlzLm1vZGVsLmVuZFVwZGF0ZSgpfX07bXhHcmFwaC5wcm90b3R5cGUuZXNjYXBlPWZ1bmN0aW9uKGEpe3RoaXMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KG14RXZlbnQuRVNDQVBFLCJldmVudCIsYSkpfTsKbXhHcmFwaC5wcm90b3R5cGUuY2xpY2s9ZnVuY3Rpb24oYSl7dmFyIGI9YS5nZXRFdmVudCgpLGM9YS5nZXRDZWxsKCksZD1uZXcgbXhFdmVudE9iamVjdChteEV2ZW50LkNMSUNLLCJldmVudCIsYiwiY2VsbCIsYyk7YS5pc0NvbnN1bWVkKCkmJmQuY29uc3VtZSgpO3RoaXMuZmlyZUV2ZW50KGQpO2lmKHRoaXMuaXNFbmFibGVkKCkmJiFteEV2ZW50LmlzQ29uc3VtZWQoYikmJiFkLmlzQ29uc3VtZWQoKSl7aWYobnVsbCE9Yyl7aWYodGhpcy5pc1RyYW5zcGFyZW50Q2xpY2tFdmVudChiKSl7dmFyIGU9ITE7YT10aGlzLmdldENlbGxBdChhLmdyYXBoWCxhLmdyYXBoWSxudWxsLG51bGwsbnVsbCxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXt2YXIgYj10aGlzLmlzQ2VsbFNlbGVjdGVkKGEuY2VsbCk7ZT1lfHxiO3JldHVybiFlfHxifHxhLmNlbGwhPWMmJnRoaXMubW9kZWwuaXNBbmNlc3RvcihhLmNlbGwsYyl9KSk7bnVsbCE9YSYmKGM9YSl9fWVsc2UgaWYodGhpcy5pc1N3aW1sYW5lU2VsZWN0aW9uRW5hYmxlZCgpJiYKKGM9dGhpcy5nZXRTd2ltbGFuZUF0KGEuZ2V0R3JhcGhYKCksYS5nZXRHcmFwaFkoKSksIShudWxsPT1jfHx0aGlzLmlzVG9nZ2xlRXZlbnQoYikmJm14RXZlbnQuaXNBbHREb3duKGIpKSkpe2Q9Yztmb3IoYT1bXTtudWxsIT1kOyl7dmFyIGQ9dGhpcy5tb2RlbC5nZXRQYXJlbnQoZCksZj10aGlzLnZpZXcuZ2V0U3RhdGUoZCk7dGhpcy5pc1N3aW1sYW5lKGQpJiZudWxsIT1mJiZhLnB1c2goZCl9aWYoMDxhLmxlbmd0aClmb3IoYT1hLnJldmVyc2UoKSxhLnNwbGljZSgwLDAsYyksYS5wdXNoKGMpLGQ9MDtkPGEubGVuZ3RoLTE7ZCsrKXRoaXMuaXNDZWxsU2VsZWN0ZWQoYVtkXSkmJihjPWFbdGhpcy5pc1RvZ2dsZUV2ZW50KGIpP2Q6ZCsxXSl9bnVsbCE9Yz90aGlzLnNlbGVjdENlbGxGb3JFdmVudChjLGIpOnRoaXMuaXNUb2dnbGVFdmVudChiKXx8dGhpcy5jbGVhclNlbGVjdGlvbigpfX07Cm14R3JhcGgucHJvdG90eXBlLmlzU2libGluZ1NlbGVjdGVkPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj10aGlzLm1vZGVsLGM9Yi5nZXRQYXJlbnQoYSksZD1iLmdldENoaWxkQ291bnQoYyksZT0wO2U8ZDtlKyspe3ZhciBmPWIuZ2V0Q2hpbGRBdChjLGUpO2lmKGEhPWYmJnRoaXMuaXNDZWxsU2VsZWN0ZWQoZikpcmV0dXJuITB9cmV0dXJuITF9O214R3JhcGgucHJvdG90eXBlLmRibENsaWNrPWZ1bmN0aW9uKGEsYil7dmFyIGM9bmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5ET1VCTEVfQ0xJQ0ssImV2ZW50IixhLCJjZWxsIixiKTt0aGlzLmZpcmVFdmVudChjKTshdGhpcy5pc0VuYWJsZWQoKXx8bXhFdmVudC5pc0NvbnN1bWVkKGEpfHxjLmlzQ29uc3VtZWQoKXx8bnVsbD09Ynx8IXRoaXMuaXNDZWxsRWRpdGFibGUoYil8fHRoaXMuaXNFZGl0aW5nKGIpfHwodGhpcy5zdGFydEVkaXRpbmdBdENlbGwoYixhKSxteEV2ZW50LmNvbnN1bWUoYSkpfTsKbXhHcmFwaC5wcm90b3R5cGUudGFwQW5kSG9sZD1mdW5jdGlvbihhKXt2YXIgYj1hLmdldEV2ZW50KCksYz1uZXcgbXhFdmVudE9iamVjdChteEV2ZW50LlRBUF9BTkRfSE9MRCwiZXZlbnQiLGIsImNlbGwiLGEuZ2V0Q2VsbCgpKTt0aGlzLmZpcmVFdmVudChjKTtjLmlzQ29uc3VtZWQoKSYmKHRoaXMucGFubmluZ0hhbmRsZXIucGFubmluZ1RyaWdnZXI9ITEpO3RoaXMuaXNFbmFibGVkKCkmJiFteEV2ZW50LmlzQ29uc3VtZWQoYikmJiFjLmlzQ29uc3VtZWQoKSYmdGhpcy5jb25uZWN0aW9uSGFuZGxlci5pc0VuYWJsZWQoKSYmKGI9dGhpcy52aWV3LmdldFN0YXRlKHRoaXMuY29ubmVjdGlvbkhhbmRsZXIubWFya2VyLmdldENlbGwoYSkpLG51bGwhPWImJih0aGlzLmNvbm5lY3Rpb25IYW5kbGVyLm1hcmtlci5jdXJyZW50Q29sb3I9dGhpcy5jb25uZWN0aW9uSGFuZGxlci5tYXJrZXIudmFsaWRDb2xvcix0aGlzLmNvbm5lY3Rpb25IYW5kbGVyLm1hcmtlci5tYXJrZWRTdGF0ZT1iLAp0aGlzLmNvbm5lY3Rpb25IYW5kbGVyLm1hcmtlci5tYXJrKCksdGhpcy5jb25uZWN0aW9uSGFuZGxlci5maXJzdD1uZXcgbXhQb2ludChhLmdldEdyYXBoWCgpLGEuZ2V0R3JhcGhZKCkpLHRoaXMuY29ubmVjdGlvbkhhbmRsZXIuZWRnZVN0YXRlPXRoaXMuY29ubmVjdGlvbkhhbmRsZXIuY3JlYXRlRWRnZVN0YXRlKGEpLHRoaXMuY29ubmVjdGlvbkhhbmRsZXIucHJldmlvdXM9Yix0aGlzLmNvbm5lY3Rpb25IYW5kbGVyLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LlNUQVJULCJzdGF0ZSIsdGhpcy5jb25uZWN0aW9uSGFuZGxlci5wcmV2aW91cykpKSl9OwpteEdyYXBoLnByb3RvdHlwZS5zY3JvbGxQb2ludFRvVmlzaWJsZT1mdW5jdGlvbihhLGIsYyxkKXtpZih0aGlzLnRpbWVyQXV0b1Njcm9sbHx8IXRoaXMuaWdub3JlU2Nyb2xsYmFycyYmIW14VXRpbHMuaGFzU2Nyb2xsYmFycyh0aGlzLmNvbnRhaW5lcikpdGhpcy5hbGxvd0F1dG9QYW5uaW5nJiYhdGhpcy5wYW5uaW5nSGFuZGxlci5pc0FjdGl2ZSgpJiYobnVsbD09dGhpcy5wYW5uaW5nTWFuYWdlciYmKHRoaXMucGFubmluZ01hbmFnZXI9dGhpcy5jcmVhdGVQYW5uaW5nTWFuYWdlcigpKSx0aGlzLnBhbm5pbmdNYW5hZ2VyLnBhblRvKGErdGhpcy5wYW5EeCxiK3RoaXMucGFuRHkpKTtlbHNle3ZhciBlPXRoaXMuY29udGFpbmVyO2Q9bnVsbCE9ZD9kOjIwO2lmKGE+PWUuc2Nyb2xsTGVmdCYmYj49ZS5zY3JvbGxUb3AmJmE8PWUuc2Nyb2xsTGVmdCtlLmNsaWVudFdpZHRoJiZiPD1lLnNjcm9sbFRvcCtlLmNsaWVudEhlaWdodCl7dmFyIGY9ZS5zY3JvbGxMZWZ0K2UuY2xpZW50V2lkdGgtCmE7aWYoZjxkKXtpZihhPWUuc2Nyb2xsTGVmdCxlLnNjcm9sbExlZnQrPWQtZixjJiZhPT1lLnNjcm9sbExlZnQpe2lmKHRoaXMuZGlhbGVjdD09bXhDb25zdGFudHMuRElBTEVDVF9TVkcpe2E9dGhpcy52aWV3LmdldERyYXdQYW5lKCkub3duZXJTVkdFbGVtZW50O3ZhciBnPXRoaXMuY29udGFpbmVyLnNjcm9sbFdpZHRoK2QtZn1lbHNlIGc9TWF0aC5tYXgoZS5jbGllbnRXaWR0aCxlLnNjcm9sbFdpZHRoKStkLWYsYT10aGlzLnZpZXcuZ2V0Q2FudmFzKCk7YS5zdHlsZS53aWR0aD1nKyJweCI7ZS5zY3JvbGxMZWZ0Kz1kLWZ9fWVsc2UgZj1hLWUuc2Nyb2xsTGVmdCxmPGQmJihlLnNjcm9sbExlZnQtPWQtZik7Zj1lLnNjcm9sbFRvcCtlLmNsaWVudEhlaWdodC1iO2Y8ZD8oYT1lLnNjcm9sbFRvcCxlLnNjcm9sbFRvcCs9ZC1mLGE9PWUuc2Nyb2xsVG9wJiZjJiYodGhpcy5kaWFsZWN0PT1teENvbnN0YW50cy5ESUFMRUNUX1NWRz8oYT10aGlzLnZpZXcuZ2V0RHJhd1BhbmUoKS5vd25lclNWR0VsZW1lbnQsCmI9dGhpcy5jb250YWluZXIuc2Nyb2xsSGVpZ2h0K2QtZik6KGI9TWF0aC5tYXgoZS5jbGllbnRIZWlnaHQsZS5zY3JvbGxIZWlnaHQpK2QtZixhPXRoaXMudmlldy5nZXRDYW52YXMoKSksYS5zdHlsZS5oZWlnaHQ9YisicHgiLGUuc2Nyb2xsVG9wKz1kLWYpKTooZj1iLWUuc2Nyb2xsVG9wLGY8ZCYmKGUuc2Nyb2xsVG9wLT1kLWYpKX19fTtteEdyYXBoLnByb3RvdHlwZS5jcmVhdGVQYW5uaW5nTWFuYWdlcj1mdW5jdGlvbigpe3JldHVybiBuZXcgbXhQYW5uaW5nTWFuYWdlcih0aGlzKX07Cm14R3JhcGgucHJvdG90eXBlLmdldEJvcmRlclNpemVzPWZ1bmN0aW9uKCl7dmFyIGE9bXhVdGlscy5nZXRDdXJyZW50U3R5bGUodGhpcy5jb250YWluZXIpO3JldHVybiBuZXcgbXhSZWN0YW5nbGUobXhVdGlscy5wYXJzZUNzc051bWJlcihhLnBhZGRpbmdMZWZ0KSsoIm5vbmUiIT1hLmJvcmRlckxlZnRTdHlsZT9teFV0aWxzLnBhcnNlQ3NzTnVtYmVyKGEuYm9yZGVyTGVmdFdpZHRoKTowKSxteFV0aWxzLnBhcnNlQ3NzTnVtYmVyKGEucGFkZGluZ1RvcCkrKCJub25lIiE9YS5ib3JkZXJUb3BTdHlsZT9teFV0aWxzLnBhcnNlQ3NzTnVtYmVyKGEuYm9yZGVyVG9wV2lkdGgpOjApLG14VXRpbHMucGFyc2VDc3NOdW1iZXIoYS5wYWRkaW5nUmlnaHQpKygibm9uZSIhPWEuYm9yZGVyUmlnaHRTdHlsZT9teFV0aWxzLnBhcnNlQ3NzTnVtYmVyKGEuYm9yZGVyUmlnaHRXaWR0aCk6MCksbXhVdGlscy5wYXJzZUNzc051bWJlcihhLnBhZGRpbmdCb3R0b20pKygibm9uZSIhPWEuYm9yZGVyQm90dG9tU3R5bGU/Cm14VXRpbHMucGFyc2VDc3NOdW1iZXIoYS5ib3JkZXJCb3R0b21XaWR0aCk6MCkpfTtteEdyYXBoLnByb3RvdHlwZS5nZXRQcmVmZXJyZWRQYWdlU2l6ZT1mdW5jdGlvbihhLGIsYyl7YT10aGlzLnZpZXcudHJhbnNsYXRlO3ZhciBkPXRoaXMucGFnZUZvcm1hdCxlPXRoaXMucGFnZVNjYWxlLGQ9bmV3IG14UmVjdGFuZ2xlKDAsMCxNYXRoLmNlaWwoZC53aWR0aCplKSxNYXRoLmNlaWwoZC5oZWlnaHQqZSkpO3JldHVybiBuZXcgbXhSZWN0YW5nbGUoMCwwLCh0aGlzLnBhZ2VCcmVha3NWaXNpYmxlP01hdGguY2VpbChiL2Qud2lkdGgpOjEpKmQud2lkdGgrMithLngsKHRoaXMucGFnZUJyZWFrc1Zpc2libGU/TWF0aC5jZWlsKGMvZC5oZWlnaHQpOjEpKmQuaGVpZ2h0KzIrYS55KX07Cm14R3JhcGgucHJvdG90eXBlLmZpdD1mdW5jdGlvbihhLGIsYyxkLGUsZixnKXtpZihudWxsIT10aGlzLmNvbnRhaW5lcil7YT1udWxsIT1hP2E6dGhpcy5nZXRCb3JkZXIoKTtiPW51bGwhPWI/YjohMTtjPW51bGwhPWM/YzowO2Q9bnVsbCE9ZD9kOiEwO2U9bnVsbCE9ZT9lOiExO2Y9bnVsbCE9Zj9mOiExO3ZhciBrPXRoaXMuZ2V0Qm9yZGVyU2l6ZXMoKSxsPXRoaXMuY29udGFpbmVyLm9mZnNldFdpZHRoLWsueC1rLndpZHRoLTEsbT1udWxsIT1nP2c6dGhpcy5jb250YWluZXIub2Zmc2V0SGVpZ2h0LWsueS1rLmhlaWdodC0xO2c9dGhpcy52aWV3LmdldEdyYXBoQm91bmRzKCk7aWYoMDxnLndpZHRoJiYwPGcuaGVpZ2h0KXtiJiZudWxsIT1nLngmJm51bGwhPWcueSYmKGc9Zy5jbG9uZSgpLGcud2lkdGgrPWcueCxnLmhlaWdodCs9Zy55LGcueD0wLGcueT0wKTt2YXIgaz10aGlzLnZpZXcuc2NhbGUsbj1nLndpZHRoL2sscD1nLmhlaWdodC9rO251bGwhPXRoaXMuYmFja2dyb3VuZEltYWdlJiYKKG49TWF0aC5tYXgobix0aGlzLmJhY2tncm91bmRJbWFnZS53aWR0aC1nLngvaykscD1NYXRoLm1heChwLHRoaXMuYmFja2dyb3VuZEltYWdlLmhlaWdodC1nLnkvaykpO3ZhciBxPShiP2E6MiphKStjKzEsbD1sLXEsbT1tLXE7ZT1lP20vcDpmP2wvbjpNYXRoLm1pbihsL24sbS9wKTtudWxsIT10aGlzLm1pbkZpdFNjYWxlJiYoZT1NYXRoLm1heChlLHRoaXMubWluRml0U2NhbGUpKTtudWxsIT10aGlzLm1heEZpdFNjYWxlJiYoZT1NYXRoLm1pbihlLHRoaXMubWF4Rml0U2NhbGUpKTtpZihkKWI/dGhpcy52aWV3LnNjYWxlIT1lJiZ0aGlzLnZpZXcuc2V0U2NhbGUoZSk6bXhVdGlscy5oYXNTY3JvbGxiYXJzKHRoaXMuY29udGFpbmVyKT8odGhpcy52aWV3LnNldFNjYWxlKGUpLGE9dGhpcy5nZXRHcmFwaEJvdW5kcygpLG51bGwhPWEueCYmKHRoaXMuY29udGFpbmVyLnNjcm9sbExlZnQ9YS54KSxudWxsIT1hLnkmJih0aGlzLmNvbnRhaW5lci5zY3JvbGxUb3A9YS55KSk6dGhpcy52aWV3LnNjYWxlQW5kVHJhbnNsYXRlKGUsCm51bGwhPWcueD9NYXRoLmZsb29yKHRoaXMudmlldy50cmFuc2xhdGUueC1nLngvaythL2UrYy8yKTphLG51bGwhPWcueT9NYXRoLmZsb29yKHRoaXMudmlldy50cmFuc2xhdGUueS1nLnkvaythL2UrYy8yKTphKTtlbHNlIHJldHVybiBlfX1yZXR1cm4gdGhpcy52aWV3LnNjYWxlfTsKbXhHcmFwaC5wcm90b3R5cGUuc2l6ZURpZENoYW5nZT1mdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0R3JhcGhCb3VuZHMoKTtpZihudWxsIT10aGlzLmNvbnRhaW5lcil7dmFyIGI9dGhpcy5nZXRCb3JkZXIoKSxjPU1hdGgubWF4KDAsYS54KSthLndpZHRoKzIqYixiPU1hdGgubWF4KDAsYS55KSthLmhlaWdodCsyKmI7bnVsbCE9dGhpcy5taW5pbXVtQ29udGFpbmVyU2l6ZSYmKGM9TWF0aC5tYXgoYyx0aGlzLm1pbmltdW1Db250YWluZXJTaXplLndpZHRoKSxiPU1hdGgubWF4KGIsdGhpcy5taW5pbXVtQ29udGFpbmVyU2l6ZS5oZWlnaHQpKTt0aGlzLnJlc2l6ZUNvbnRhaW5lciYmdGhpcy5kb1Jlc2l6ZUNvbnRhaW5lcihjLGIpO2lmKHRoaXMucHJlZmVyUGFnZVNpemV8fCFteENsaWVudC5JU19JRSYmdGhpcy5wYWdlVmlzaWJsZSl7dmFyIGQ9dGhpcy5nZXRQcmVmZXJyZWRQYWdlU2l6ZShhLE1hdGgubWF4KDEsYyksTWF0aC5tYXgoMSxiKSk7bnVsbCE9ZCYmKGM9ZC53aWR0aCp0aGlzLnZpZXcuc2NhbGUsCmI9ZC5oZWlnaHQqdGhpcy52aWV3LnNjYWxlKX1udWxsIT10aGlzLm1pbmltdW1HcmFwaFNpemUmJihjPU1hdGgubWF4KGMsdGhpcy5taW5pbXVtR3JhcGhTaXplLndpZHRoKnRoaXMudmlldy5zY2FsZSksYj1NYXRoLm1heChiLHRoaXMubWluaW11bUdyYXBoU2l6ZS5oZWlnaHQqdGhpcy52aWV3LnNjYWxlKSk7Yz1NYXRoLmNlaWwoYyk7Yj1NYXRoLmNlaWwoYik7dGhpcy5kaWFsZWN0PT1teENvbnN0YW50cy5ESUFMRUNUX1NWRz8oZD10aGlzLnZpZXcuZ2V0RHJhd1BhbmUoKS5vd25lclNWR0VsZW1lbnQsbnVsbCE9ZCYmKGQuc3R5bGUubWluV2lkdGg9TWF0aC5tYXgoMSxjKSsicHgiLGQuc3R5bGUubWluSGVpZ2h0PU1hdGgubWF4KDEsYikrInB4IixkLnN0eWxlLndpZHRoPSIxMDAlIixkLnN0eWxlLmhlaWdodD0iMTAwJSIpKTpteENsaWVudC5JU19RVUlSS1M/dGhpcy52aWV3LnVwZGF0ZUh0bWxDYW52YXNTaXplKE1hdGgubWF4KDEsYyksTWF0aC5tYXgoMSxiKSk6KHRoaXMudmlldy5jYW52YXMuc3R5bGUubWluV2lkdGg9Ck1hdGgubWF4KDEsYykrInB4Iix0aGlzLnZpZXcuY2FudmFzLnN0eWxlLm1pbkhlaWdodD1NYXRoLm1heCgxLGIpKyJweCIpO3RoaXMudXBkYXRlUGFnZUJyZWFrcyh0aGlzLnBhZ2VCcmVha3NWaXNpYmxlLGMsYil9dGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5TSVpFLCJib3VuZHMiLGEpKX07bXhHcmFwaC5wcm90b3R5cGUuZG9SZXNpemVDb250YWluZXI9ZnVuY3Rpb24oYSxiKXtudWxsIT10aGlzLm1heGltdW1Db250YWluZXJTaXplJiYoYT1NYXRoLm1pbih0aGlzLm1heGltdW1Db250YWluZXJTaXplLndpZHRoLGEpLGI9TWF0aC5taW4odGhpcy5tYXhpbXVtQ29udGFpbmVyU2l6ZS5oZWlnaHQsYikpO3RoaXMuY29udGFpbmVyLnN0eWxlLndpZHRoPU1hdGguY2VpbChhKSsicHgiO3RoaXMuY29udGFpbmVyLnN0eWxlLmhlaWdodD1NYXRoLmNlaWwoYikrInB4In07Cm14R3JhcGgucHJvdG90eXBlLnVwZGF0ZVBhZ2VCcmVha3M9ZnVuY3Rpb24oYSxiLGMpe2I9dGhpcy52aWV3LnNjYWxlO2M9dGhpcy52aWV3LnRyYW5zbGF0ZTt2YXIgZD10aGlzLnBhZ2VGb3JtYXQsZT1iKnRoaXMucGFnZVNjYWxlLGY9bmV3IG14UmVjdGFuZ2xlKDAsMCxkLndpZHRoKmUsZC5oZWlnaHQqZSksZD1teFJlY3RhbmdsZS5mcm9tUmVjdGFuZ2xlKHRoaXMuZ2V0R3JhcGhCb3VuZHMoKSk7ZC53aWR0aD1NYXRoLm1heCgxLGQud2lkdGgpO2QuaGVpZ2h0PU1hdGgubWF4KDEsZC5oZWlnaHQpO2YueD1NYXRoLmZsb29yKChkLngtYy54KmIpL2Yud2lkdGgpKmYud2lkdGgrYy54KmI7Zi55PU1hdGguZmxvb3IoKGQueS1jLnkqYikvZi5oZWlnaHQpKmYuaGVpZ2h0K2MueSpiO2Qud2lkdGg9TWF0aC5jZWlsKChkLndpZHRoKyhkLngtZi54KSkvZi53aWR0aCkqZi53aWR0aDtkLmhlaWdodD1NYXRoLmNlaWwoKGQuaGVpZ2h0KyhkLnktZi55KSkvZi5oZWlnaHQpKmYuaGVpZ2h0Owp2YXIgZz0oYT1hJiZNYXRoLm1pbihmLndpZHRoLGYuaGVpZ2h0KT50aGlzLm1pblBhZ2VCcmVha0Rpc3QpP01hdGguY2VpbChkLmhlaWdodC9mLmhlaWdodCkrMTowLGs9YT9NYXRoLmNlaWwoZC53aWR0aC9mLndpZHRoKSsxOjAsbD0oay0xKSpmLndpZHRoLG09KGctMSkqZi5oZWlnaHQ7bnVsbD09dGhpcy5ob3Jpem9udGFsUGFnZUJyZWFrcyYmMDxnJiYodGhpcy5ob3Jpem9udGFsUGFnZUJyZWFrcz1bXSk7bnVsbD09dGhpcy52ZXJ0aWNhbFBhZ2VCcmVha3MmJjA8ayYmKHRoaXMudmVydGljYWxQYWdlQnJlYWtzPVtdKTthPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe2lmKG51bGwhPWEpe2Zvcih2YXIgYj1hPT10aGlzLmhvcml6b250YWxQYWdlQnJlYWtzP2c6ayxjPTA7Yzw9YjtjKyspe3ZhciBkPWE9PXRoaXMuaG9yaXpvbnRhbFBhZ2VCcmVha3M/W25ldyBteFBvaW50KE1hdGgucm91bmQoZi54KSxNYXRoLnJvdW5kKGYueStjKmYuaGVpZ2h0KSksbmV3IG14UG9pbnQoTWF0aC5yb3VuZChmLngrCmwpLE1hdGgucm91bmQoZi55K2MqZi5oZWlnaHQpKV06W25ldyBteFBvaW50KE1hdGgucm91bmQoZi54K2MqZi53aWR0aCksTWF0aC5yb3VuZChmLnkpKSxuZXcgbXhQb2ludChNYXRoLnJvdW5kKGYueCtjKmYud2lkdGgpLE1hdGgucm91bmQoZi55K20pKV07bnVsbCE9YVtjXT8oYVtjXS5wb2ludHM9ZCxhW2NdLnJlZHJhdygpKTooZD1uZXcgbXhQb2x5bGluZShkLHRoaXMucGFnZUJyZWFrQ29sb3IpLGQuZGlhbGVjdD10aGlzLmRpYWxlY3QsZC5wb2ludGVyRXZlbnRzPSExLGQuaXNEYXNoZWQ9dGhpcy5wYWdlQnJlYWtEYXNoZWQsZC5pbml0KHRoaXMudmlldy5iYWNrZ3JvdW5kUGFuZSksZC5yZWRyYXcoKSxhW2NdPWQpfWZvcihjPWI7YzxhLmxlbmd0aDtjKyspYVtjXS5kZXN0cm95KCk7YS5zcGxpY2UoYixhLmxlbmd0aC1iKX19KTthKHRoaXMuaG9yaXpvbnRhbFBhZ2VCcmVha3MpO2EodGhpcy52ZXJ0aWNhbFBhZ2VCcmVha3MpfTsKbXhHcmFwaC5wcm90b3R5cGUuZ2V0Q3VycmVudENlbGxTdHlsZT1mdW5jdGlvbihhLGIpe3ZhciBjPWI/bnVsbDp0aGlzLnZpZXcuZ2V0U3RhdGUoYSk7cmV0dXJuIG51bGwhPWM/Yy5zdHlsZTp0aGlzLmdldENlbGxTdHlsZShhKX07bXhHcmFwaC5wcm90b3R5cGUuZ2V0Q2VsbFN0eWxlPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMubW9kZWwuZ2V0U3R5bGUoYSk7YT10aGlzLm1vZGVsLmlzRWRnZShhKT90aGlzLnN0eWxlc2hlZXQuZ2V0RGVmYXVsdEVkZ2VTdHlsZSgpOnRoaXMuc3R5bGVzaGVldC5nZXREZWZhdWx0VmVydGV4U3R5bGUoKTtudWxsIT1iJiYoYT10aGlzLnBvc3RQcm9jZXNzQ2VsbFN0eWxlKHRoaXMuc3R5bGVzaGVldC5nZXRDZWxsU3R5bGUoYixhKSkpO251bGw9PWEmJihhPXt9KTtyZXR1cm4gYX07Cm14R3JhcGgucHJvdG90eXBlLnBvc3RQcm9jZXNzQ2VsbFN0eWxlPWZ1bmN0aW9uKGEpe2lmKG51bGwhPWEpe3ZhciBiPWFbbXhDb25zdGFudHMuU1RZTEVfSU1BR0VdLGM9dGhpcy5nZXRJbWFnZUZyb21CdW5kbGVzKGIpO251bGwhPWM/YVtteENvbnN0YW50cy5TVFlMRV9JTUFHRV09YzpjPWI7bnVsbCE9YyYmImRhdGE6aW1hZ2UvIj09Yy5zdWJzdHJpbmcoMCwxMSkmJigiZGF0YTppbWFnZS9zdmcreG1sLDwiPT1jLnN1YnN0cmluZygwLDIwKT9jPWMuc3Vic3RyaW5nKDAsMTkpK2VuY29kZVVSSUNvbXBvbmVudChjLnN1YnN0cmluZygxOSkpOiJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDIiE9Yy5zdWJzdHJpbmcoMCwyMikmJihiPWMuaW5kZXhPZigiLCIpLDA8YiYmIjtiYXNlNjQsIiE9Yy5zdWJzdHJpbmcoYi03LGIrMSkmJihjPWMuc3Vic3RyaW5nKDAsYikrIjtiYXNlNjQsIitjLnN1YnN0cmluZyhiKzEpKSksYVtteENvbnN0YW50cy5TVFlMRV9JTUFHRV09Yyl9cmV0dXJuIGF9OwpteEdyYXBoLnByb3RvdHlwZS5zZXRDZWxsU3R5bGU9ZnVuY3Rpb24oYSxiKXtiPWJ8fHRoaXMuZ2V0U2VsZWN0aW9uQ2VsbHMoKTtpZihudWxsIT1iKXt0aGlzLm1vZGVsLmJlZ2luVXBkYXRlKCk7dHJ5e2Zvcih2YXIgYz0wO2M8Yi5sZW5ndGg7YysrKXRoaXMubW9kZWwuc2V0U3R5bGUoYltjXSxhKX1maW5hbGx5e3RoaXMubW9kZWwuZW5kVXBkYXRlKCl9fX07bXhHcmFwaC5wcm90b3R5cGUudG9nZ2xlQ2VsbFN0eWxlPWZ1bmN0aW9uKGEsYixjKXtjPWN8fHRoaXMuZ2V0U2VsZWN0aW9uQ2VsbCgpO3JldHVybiB0aGlzLnRvZ2dsZUNlbGxTdHlsZXMoYSxiLFtjXSl9OwpteEdyYXBoLnByb3RvdHlwZS50b2dnbGVDZWxsU3R5bGVzPWZ1bmN0aW9uKGEsYixjKXtiPW51bGwhPWI/YjohMTtjPWN8fHRoaXMuZ2V0U2VsZWN0aW9uQ2VsbHMoKTt2YXIgZD1udWxsO251bGwhPWMmJjA8Yy5sZW5ndGgmJihkPXRoaXMuZ2V0Q3VycmVudENlbGxTdHlsZShjWzBdKSxkPW14VXRpbHMuZ2V0VmFsdWUoZCxhLGIpPzA6MSx0aGlzLnNldENlbGxTdHlsZXMoYSxkLGMpKTtyZXR1cm4gZH07bXhHcmFwaC5wcm90b3R5cGUuc2V0Q2VsbFN0eWxlcz1mdW5jdGlvbihhLGIsYyl7Yz1jfHx0aGlzLmdldFNlbGVjdGlvbkNlbGxzKCk7bXhVdGlscy5zZXRDZWxsU3R5bGVzKHRoaXMubW9kZWwsYyxhLGIpfTtteEdyYXBoLnByb3RvdHlwZS50b2dnbGVDZWxsU3R5bGVGbGFncz1mdW5jdGlvbihhLGIsYyl7dGhpcy5zZXRDZWxsU3R5bGVGbGFncyhhLGIsbnVsbCxjKX07Cm14R3JhcGgucHJvdG90eXBlLnNldENlbGxTdHlsZUZsYWdzPWZ1bmN0aW9uKGEsYixjLGQpe2Q9ZHx8dGhpcy5nZXRTZWxlY3Rpb25DZWxscygpO251bGwhPWQmJjA8ZC5sZW5ndGgmJihudWxsPT1jJiYoYz10aGlzLmdldEN1cnJlbnRDZWxsU3R5bGUoZFswXSksYz0ocGFyc2VJbnQoY1thXXx8MCkmYikhPWIpLG14VXRpbHMuc2V0Q2VsbFN0eWxlRmxhZ3ModGhpcy5tb2RlbCxkLGEsYixjKSl9OwpteEdyYXBoLnByb3RvdHlwZS5hbGlnbkNlbGxzPWZ1bmN0aW9uKGEsYixjKXtudWxsPT1iJiYoYj10aGlzLmdldFNlbGVjdGlvbkNlbGxzKCkpO2lmKG51bGwhPWImJjE8Yi5sZW5ndGgpe2lmKG51bGw9PWMpZm9yKHZhciBkPTA7ZDxiLmxlbmd0aDtkKyspe3ZhciBlPXRoaXMudmlldy5nZXRTdGF0ZShiW2RdKTtpZihudWxsIT1lJiYhdGhpcy5tb2RlbC5pc0VkZ2UoYltkXSkpaWYobnVsbD09YylpZihhPT1teENvbnN0YW50cy5BTElHTl9DRU5URVIpe2M9ZS54K2Uud2lkdGgvMjticmVha31lbHNlIGlmKGE9PW14Q29uc3RhbnRzLkFMSUdOX1JJR0hUKWM9ZS54K2Uud2lkdGg7ZWxzZSBpZihhPT1teENvbnN0YW50cy5BTElHTl9UT1ApYz1lLnk7ZWxzZSBpZihhPT1teENvbnN0YW50cy5BTElHTl9NSURETEUpe2M9ZS55K2UuaGVpZ2h0LzI7YnJlYWt9ZWxzZSBjPWE9PW14Q29uc3RhbnRzLkFMSUdOX0JPVFRPTT9lLnkrZS5oZWlnaHQ6ZS54O2Vsc2UgYz1hPT1teENvbnN0YW50cy5BTElHTl9SSUdIVD8KTWF0aC5tYXgoYyxlLngrZS53aWR0aCk6YT09bXhDb25zdGFudHMuQUxJR05fVE9QP01hdGgubWluKGMsZS55KTphPT1teENvbnN0YW50cy5BTElHTl9CT1RUT00/TWF0aC5tYXgoYyxlLnkrZS5oZWlnaHQpOk1hdGgubWluKGMsZS54KX1pZihudWxsIT1jKXt2YXIgZj10aGlzLnZpZXcuc2NhbGU7dGhpcy5tb2RlbC5iZWdpblVwZGF0ZSgpO3RyeXtmb3IoZD0wO2Q8Yi5sZW5ndGg7ZCsrKWlmKGU9dGhpcy52aWV3LmdldFN0YXRlKGJbZF0pLG51bGwhPWUpe3ZhciBnPXRoaXMuZ2V0Q2VsbEdlb21ldHJ5KGJbZF0pO251bGw9PWd8fHRoaXMubW9kZWwuaXNFZGdlKGJbZF0pfHwoZz1nLmNsb25lKCksYT09bXhDb25zdGFudHMuQUxJR05fQ0VOVEVSP2cueCs9KGMtZS54LWUud2lkdGgvMikvZjphPT1teENvbnN0YW50cy5BTElHTl9SSUdIVD9nLngrPShjLWUueC1lLndpZHRoKS9mOmE9PW14Q29uc3RhbnRzLkFMSUdOX1RPUD9nLnkrPShjLWUueSkvZjphPT1teENvbnN0YW50cy5BTElHTl9NSURETEU/CmcueSs9KGMtZS55LWUuaGVpZ2h0LzIpL2Y6YT09bXhDb25zdGFudHMuQUxJR05fQk9UVE9NP2cueSs9KGMtZS55LWUuaGVpZ2h0KS9mOmcueCs9KGMtZS54KS9mLHRoaXMucmVzaXplQ2VsbChiW2RdLGcpKX10aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LkFMSUdOX0NFTExTLCJhbGlnbiIsYSwiY2VsbHMiLGIpKX1maW5hbGx5e3RoaXMubW9kZWwuZW5kVXBkYXRlKCl9fX1yZXR1cm4gYn07Cm14R3JhcGgucHJvdG90eXBlLmZsaXBFZGdlPWZ1bmN0aW9uKGEpe2lmKG51bGwhPWEmJm51bGwhPXRoaXMuYWx0ZXJuYXRlRWRnZVN0eWxlKXt0aGlzLm1vZGVsLmJlZ2luVXBkYXRlKCk7dHJ5e3ZhciBiPXRoaXMubW9kZWwuZ2V0U3R5bGUoYSk7bnVsbD09Ynx8MD09Yi5sZW5ndGg/dGhpcy5tb2RlbC5zZXRTdHlsZShhLHRoaXMuYWx0ZXJuYXRlRWRnZVN0eWxlKTp0aGlzLm1vZGVsLnNldFN0eWxlKGEsbnVsbCk7dGhpcy5yZXNldEVkZ2UoYSk7dGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5GTElQX0VER0UsImVkZ2UiLGEpKX1maW5hbGx5e3RoaXMubW9kZWwuZW5kVXBkYXRlKCl9fXJldHVybiBhfTtteEdyYXBoLnByb3RvdHlwZS5hZGRJbWFnZUJ1bmRsZT1mdW5jdGlvbihhKXt0aGlzLmltYWdlQnVuZGxlcy5wdXNoKGEpfTsKbXhHcmFwaC5wcm90b3R5cGUucmVtb3ZlSW1hZ2VCdW5kbGU9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPVtdLGM9MDtjPHRoaXMuaW1hZ2VCdW5kbGVzLmxlbmd0aDtjKyspdGhpcy5pbWFnZUJ1bmRsZXNbY10hPWEmJmIucHVzaCh0aGlzLmltYWdlQnVuZGxlc1tjXSk7dGhpcy5pbWFnZUJ1bmRsZXM9Yn07bXhHcmFwaC5wcm90b3R5cGUuZ2V0SW1hZ2VGcm9tQnVuZGxlcz1mdW5jdGlvbihhKXtpZihudWxsIT1hKWZvcih2YXIgYj0wO2I8dGhpcy5pbWFnZUJ1bmRsZXMubGVuZ3RoO2IrKyl7dmFyIGM9dGhpcy5pbWFnZUJ1bmRsZXNbYl0uZ2V0SW1hZ2UoYSk7aWYobnVsbCE9YylyZXR1cm4gY31yZXR1cm4gbnVsbH07Cm14R3JhcGgucHJvdG90eXBlLm9yZGVyQ2VsbHM9ZnVuY3Rpb24oYSxiKXtudWxsPT1iJiYoYj1teFV0aWxzLnNvcnRDZWxscyh0aGlzLmdldFNlbGVjdGlvbkNlbGxzKCksITApKTt0aGlzLm1vZGVsLmJlZ2luVXBkYXRlKCk7dHJ5e3RoaXMuY2VsbHNPcmRlcmVkKGIsYSksdGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5PUkRFUl9DRUxMUywiYmFjayIsYSwiY2VsbHMiLGIpKX1maW5hbGx5e3RoaXMubW9kZWwuZW5kVXBkYXRlKCl9cmV0dXJuIGJ9OwpteEdyYXBoLnByb3RvdHlwZS5jZWxsc09yZGVyZWQ9ZnVuY3Rpb24oYSxiKXtpZihudWxsIT1hKXt0aGlzLm1vZGVsLmJlZ2luVXBkYXRlKCk7dHJ5e2Zvcih2YXIgYz0wO2M8YS5sZW5ndGg7YysrKXt2YXIgZD10aGlzLm1vZGVsLmdldFBhcmVudChhW2NdKTtiP3RoaXMubW9kZWwuYWRkKGQsYVtjXSxjKTp0aGlzLm1vZGVsLmFkZChkLGFbY10sdGhpcy5tb2RlbC5nZXRDaGlsZENvdW50KGQpLTEpfXRoaXMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KG14RXZlbnQuQ0VMTFNfT1JERVJFRCwiYmFjayIsYiwiY2VsbHMiLGEpKX1maW5hbGx5e3RoaXMubW9kZWwuZW5kVXBkYXRlKCl9fX07Cm14R3JhcGgucHJvdG90eXBlLmdyb3VwQ2VsbHM9ZnVuY3Rpb24oYSxiLGMpe251bGw9PWMmJihjPW14VXRpbHMuc29ydENlbGxzKHRoaXMuZ2V0U2VsZWN0aW9uQ2VsbHMoKSwhMCkpO2M9dGhpcy5nZXRDZWxsc0Zvckdyb3VwKGMpO251bGw9PWEmJihhPXRoaXMuY3JlYXRlR3JvdXBDZWxsKGMpKTt2YXIgZD10aGlzLmdldEJvdW5kc0Zvckdyb3VwKGEsYyxiKTtpZigwPGMubGVuZ3RoJiZudWxsIT1kKXt2YXIgZT10aGlzLm1vZGVsLmdldFBhcmVudChhKTtudWxsPT1lJiYoZT10aGlzLm1vZGVsLmdldFBhcmVudChjWzBdKSk7dGhpcy5tb2RlbC5iZWdpblVwZGF0ZSgpO3RyeXtudWxsPT10aGlzLmdldENlbGxHZW9tZXRyeShhKSYmdGhpcy5tb2RlbC5zZXRHZW9tZXRyeShhLG5ldyBteEdlb21ldHJ5KTt2YXIgZj10aGlzLm1vZGVsLmdldENoaWxkQ291bnQoZSk7dGhpcy5jZWxsc0FkZGVkKFthXSxlLGYsbnVsbCxudWxsLCExLCExLCExKTtmPXRoaXMubW9kZWwuZ2V0Q2hpbGRDb3VudChhKTsKdGhpcy5jZWxsc0FkZGVkKGMsYSxmLG51bGwsbnVsbCwhMSwhMSwhMSk7dGhpcy5jZWxsc01vdmVkKGMsLWQueCwtZC55LCExLCExLCExKTt0aGlzLmNlbGxzUmVzaXplZChbYV0sW2RdLCExKTt0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LkdST1VQX0NFTExTLCJncm91cCIsYSwiYm9yZGVyIixiLCJjZWxscyIsYykpfWZpbmFsbHl7dGhpcy5tb2RlbC5lbmRVcGRhdGUoKX19cmV0dXJuIGF9O214R3JhcGgucHJvdG90eXBlLmdldENlbGxzRm9yR3JvdXA9ZnVuY3Rpb24oYSl7dmFyIGI9W107aWYobnVsbCE9YSYmMDxhLmxlbmd0aCl7dmFyIGM9dGhpcy5tb2RlbC5nZXRQYXJlbnQoYVswXSk7Yi5wdXNoKGFbMF0pO2Zvcih2YXIgZD0xO2Q8YS5sZW5ndGg7ZCsrKXRoaXMubW9kZWwuZ2V0UGFyZW50KGFbZF0pPT1jJiZiLnB1c2goYVtkXSl9cmV0dXJuIGJ9OwpteEdyYXBoLnByb3RvdHlwZS5nZXRCb3VuZHNGb3JHcm91cD1mdW5jdGlvbihhLGIsYyl7Yj10aGlzLmdldEJvdW5kaW5nQm94RnJvbUdlb21ldHJ5KGIsITApO251bGwhPWImJih0aGlzLmlzU3dpbWxhbmUoYSkmJihhPXRoaXMuZ2V0U3RhcnRTaXplKGEpLGIueC09YS53aWR0aCxiLnktPWEuaGVpZ2h0LGIud2lkdGgrPWEud2lkdGgsYi5oZWlnaHQrPWEuaGVpZ2h0KSxudWxsIT1jJiYoYi54LT1jLGIueS09YyxiLndpZHRoKz0yKmMsYi5oZWlnaHQrPTIqYykpO3JldHVybiBifTtteEdyYXBoLnByb3RvdHlwZS5jcmVhdGVHcm91cENlbGw9ZnVuY3Rpb24oYSl7YT1uZXcgbXhDZWxsKCIiKTthLnNldFZlcnRleCghMCk7YS5zZXRDb25uZWN0YWJsZSghMSk7cmV0dXJuIGF9OwpteEdyYXBoLnByb3RvdHlwZS51bmdyb3VwQ2VsbHM9ZnVuY3Rpb24oYSl7dmFyIGI9W107aWYobnVsbD09YSl7YT10aGlzLmdldFNlbGVjdGlvbkNlbGxzKCk7Zm9yKHZhciBjPVtdLGQ9MDtkPGEubGVuZ3RoO2QrKykwPHRoaXMubW9kZWwuZ2V0Q2hpbGRDb3VudChhW2RdKSYmYy5wdXNoKGFbZF0pO2E9Y31pZihudWxsIT1hJiYwPGEubGVuZ3RoKXt0aGlzLm1vZGVsLmJlZ2luVXBkYXRlKCk7dHJ5e2ZvcihkPTA7ZDxhLmxlbmd0aDtkKyspe3ZhciBlPXRoaXMubW9kZWwuZ2V0Q2hpbGRyZW4oYVtkXSk7aWYobnVsbCE9ZSYmMDxlLmxlbmd0aCl7dmFyIGU9ZS5zbGljZSgpLGY9dGhpcy5tb2RlbC5nZXRQYXJlbnQoYVtkXSksZz10aGlzLm1vZGVsLmdldENoaWxkQ291bnQoZik7dGhpcy5jZWxsc0FkZGVkKGUsZixnLG51bGwsbnVsbCwhMCk7Yj1iLmNvbmNhdChlKX19dGhpcy5yZW1vdmVDZWxsc0FmdGVyVW5ncm91cChhKTt0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LlVOR1JPVVBfQ0VMTFMsCiJjZWxscyIsYSkpfWZpbmFsbHl7dGhpcy5tb2RlbC5lbmRVcGRhdGUoKX19cmV0dXJuIGJ9O214R3JhcGgucHJvdG90eXBlLnJlbW92ZUNlbGxzQWZ0ZXJVbmdyb3VwPWZ1bmN0aW9uKGEpe3RoaXMuY2VsbHNSZW1vdmVkKHRoaXMuYWRkQWxsRWRnZXMoYSkpfTtteEdyYXBoLnByb3RvdHlwZS5yZW1vdmVDZWxsc0Zyb21QYXJlbnQ9ZnVuY3Rpb24oYSl7bnVsbD09YSYmKGE9dGhpcy5nZXRTZWxlY3Rpb25DZWxscygpKTt0aGlzLm1vZGVsLmJlZ2luVXBkYXRlKCk7dHJ5e3ZhciBiPXRoaXMuZ2V0RGVmYXVsdFBhcmVudCgpLGM9dGhpcy5tb2RlbC5nZXRDaGlsZENvdW50KGIpO3RoaXMuY2VsbHNBZGRlZChhLGIsYyxudWxsLG51bGwsITApO3RoaXMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KG14RXZlbnQuUkVNT1ZFX0NFTExTX0ZST01fUEFSRU5ULCJjZWxscyIsYSkpfWZpbmFsbHl7dGhpcy5tb2RlbC5lbmRVcGRhdGUoKX1yZXR1cm4gYX07Cm14R3JhcGgucHJvdG90eXBlLnVwZGF0ZUdyb3VwQm91bmRzPWZ1bmN0aW9uKGEsYixjLGQsZSxmLGcpe251bGw9PWEmJihhPXRoaXMuZ2V0U2VsZWN0aW9uQ2VsbHMoKSk7Yj1udWxsIT1iP2I6MDtjPW51bGwhPWM/YzohMTtkPW51bGwhPWQ/ZDowO2U9bnVsbCE9ZT9lOjA7Zj1udWxsIT1mP2Y6MDtnPW51bGwhPWc/ZzowO3RoaXMubW9kZWwuYmVnaW5VcGRhdGUoKTt0cnl7Zm9yKHZhciBrPWEubGVuZ3RoLTE7MDw9aztrLS0pe3ZhciBsPXRoaXMuZ2V0Q2VsbEdlb21ldHJ5KGFba10pO2lmKG51bGwhPWwpe3ZhciBtPXRoaXMuZ2V0Q2hpbGRDZWxscyhhW2tdKTtpZihudWxsIT1tJiYwPG0ubGVuZ3RoKXt2YXIgbj10aGlzLmdldEJvdW5kaW5nQm94RnJvbUdlb21ldHJ5KG0sITApO2lmKG51bGwhPW4mJjA8bi53aWR0aCYmMDxuLmhlaWdodCl7dmFyIHA9MCxxPTA7aWYodGhpcy5pc1N3aW1sYW5lKGFba10pKXZhciByPXRoaXMuZ2V0U3RhcnRTaXplKGFba10pLHA9ci53aWR0aCxxPQpyLmhlaWdodDtsPWwuY2xvbmUoKTtjJiYobC54PU1hdGgucm91bmQobC54K24ueC1iLXAtZyksbC55PU1hdGgucm91bmQobC55K24ueS1iLXEtZCkpO2wud2lkdGg9TWF0aC5yb3VuZChuLndpZHRoKzIqYitwK2crZSk7bC5oZWlnaHQ9TWF0aC5yb3VuZChuLmhlaWdodCsyKmIrcStkK2YpO3RoaXMubW9kZWwuc2V0R2VvbWV0cnkoYVtrXSxsKTt0aGlzLm1vdmVDZWxscyhtLGIrcC1uLngrZyxiK3Etbi55K2QpfX19fX1maW5hbGx5e3RoaXMubW9kZWwuZW5kVXBkYXRlKCl9cmV0dXJuIGF9OwpteEdyYXBoLnByb3RvdHlwZS5nZXRCb3VuZGluZ0JveD1mdW5jdGlvbihhKXt2YXIgYj1udWxsO2lmKG51bGwhPWEmJjA8YS5sZW5ndGgpZm9yKHZhciBjPTA7YzxhLmxlbmd0aDtjKyspaWYodGhpcy5tb2RlbC5pc1ZlcnRleChhW2NdKXx8dGhpcy5tb2RlbC5pc0VkZ2UoYVtjXSkpe3ZhciBkPXRoaXMudmlldy5nZXRCb3VuZGluZ0JveCh0aGlzLnZpZXcuZ2V0U3RhdGUoYVtjXSksITApO251bGwhPWQmJihudWxsPT1iP2I9bXhSZWN0YW5nbGUuZnJvbVJlY3RhbmdsZShkKTpiLmFkZChkKSl9cmV0dXJuIGJ9O214R3JhcGgucHJvdG90eXBlLmNsb25lQ2VsbD1mdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gdGhpcy5jbG9uZUNlbGxzKFthXSxiLGMsZClbMF19OwpteEdyYXBoLnByb3RvdHlwZS5jbG9uZUNlbGxzPWZ1bmN0aW9uKGEsYixjLGQpe2I9bnVsbCE9Yj9iOiEwO3ZhciBlPW51bGw7aWYobnVsbCE9YSl7Zm9yKHZhciBmPW5ldyBteERpY3Rpb25hcnksZT1bXSxnPTA7ZzxhLmxlbmd0aDtnKyspZi5wdXQoYVtnXSwhMCksZS5wdXNoKGFbZ10pO2lmKDA8ZS5sZW5ndGgpZm9yKHZhciBrPXRoaXMudmlldy5zY2FsZSxsPXRoaXMudmlldy50cmFuc2xhdGUsZT10aGlzLm1vZGVsLmNsb25lQ2VsbHMoYSwhMCxjKSxnPTA7ZzxhLmxlbmd0aDtnKyspaWYoIWImJnRoaXMubW9kZWwuaXNFZGdlKGVbZ10pJiZudWxsIT10aGlzLmdldEVkZ2VWYWxpZGF0aW9uRXJyb3IoZVtnXSx0aGlzLm1vZGVsLmdldFRlcm1pbmFsKGVbZ10sITApLHRoaXMubW9kZWwuZ2V0VGVybWluYWwoZVtnXSwhMSkpKWVbZ109bnVsbDtlbHNle3ZhciBtPXRoaXMubW9kZWwuZ2V0R2VvbWV0cnkoZVtnXSk7aWYobnVsbCE9bSl7dmFyIG49dGhpcy52aWV3LmdldFN0YXRlKGFbZ10pLApwPXRoaXMudmlldy5nZXRTdGF0ZSh0aGlzLm1vZGVsLmdldFBhcmVudChhW2ddKSk7aWYobnVsbCE9biYmbnVsbCE9cClpZihjPWQ/MDpwLm9yaWdpbi54LHA9ZD8wOnAub3JpZ2luLnksdGhpcy5tb2RlbC5pc0VkZ2UoZVtnXSkpe2lmKG49bi5hYnNvbHV0ZVBvaW50cyxudWxsIT1uKXtmb3IodmFyIHE9dGhpcy5tb2RlbC5nZXRUZXJtaW5hbChhW2ddLCEwKTtudWxsIT1xJiYhZi5nZXQocSk7KXE9dGhpcy5tb2RlbC5nZXRQYXJlbnQocSk7bnVsbD09cSYmbnVsbCE9blswXSYmbS5zZXRUZXJtaW5hbFBvaW50KG5ldyBteFBvaW50KG5bMF0ueC9rLWwueCxuWzBdLnkvay1sLnkpLCEwKTtmb3IocT10aGlzLm1vZGVsLmdldFRlcm1pbmFsKGFbZ10sITEpO251bGwhPXEmJiFmLmdldChxKTspcT10aGlzLm1vZGVsLmdldFBhcmVudChxKTt2YXIgcj1uLmxlbmd0aC0xO251bGw9PXEmJm51bGwhPW5bcl0mJm0uc2V0VGVybWluYWxQb2ludChuZXcgbXhQb2ludChuW3JdLngvay1sLngsbltyXS55LwprLWwueSksITEpO209bS5wb2ludHM7aWYobnVsbCE9bSlmb3Iobj0wO248bS5sZW5ndGg7bisrKW1bbl0ueCs9YyxtW25dLnkrPXB9fWVsc2UgbS50cmFuc2xhdGUoYyxwKX19ZWxzZSBlPVtdfXJldHVybiBlfTtteEdyYXBoLnByb3RvdHlwZS5pbnNlcnRWZXJ0ZXg9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxrLGwpe2I9dGhpcy5jcmVhdGVWZXJ0ZXgoYSxiLGMsZCxlLGYsZyxrLGwpO3JldHVybiB0aGlzLmFkZENlbGwoYixhKX07bXhHcmFwaC5wcm90b3R5cGUuY3JlYXRlVmVydGV4PWZ1bmN0aW9uKGEsYixjLGQsZSxmLGcsayxsKXthPW5ldyBteEdlb21ldHJ5KGQsZSxmLGcpO2EucmVsYXRpdmU9bnVsbCE9bD9sOiExO2M9bmV3IG14Q2VsbChjLGEsayk7Yy5zZXRJZChiKTtjLnNldFZlcnRleCghMCk7Yy5zZXRDb25uZWN0YWJsZSghMCk7cmV0dXJuIGN9OwpteEdyYXBoLnByb3RvdHlwZS5pbnNlcnRFZGdlPWZ1bmN0aW9uKGEsYixjLGQsZSxmKXtiPXRoaXMuY3JlYXRlRWRnZShhLGIsYyxkLGUsZik7cmV0dXJuIHRoaXMuYWRkRWRnZShiLGEsZCxlKX07bXhHcmFwaC5wcm90b3R5cGUuY3JlYXRlRWRnZT1mdW5jdGlvbihhLGIsYyxkLGUsZil7YT1uZXcgbXhDZWxsKGMsbmV3IG14R2VvbWV0cnksZik7YS5zZXRJZChiKTthLnNldEVkZ2UoITApO2EuZ2VvbWV0cnkucmVsYXRpdmU9ITA7cmV0dXJuIGF9O214R3JhcGgucHJvdG90eXBlLmFkZEVkZ2U9ZnVuY3Rpb24oYSxiLGMsZCxlKXtyZXR1cm4gdGhpcy5hZGRDZWxsKGEsYixlLGMsZCl9O214R3JhcGgucHJvdG90eXBlLmFkZENlbGw9ZnVuY3Rpb24oYSxiLGMsZCxlKXtyZXR1cm4gdGhpcy5hZGRDZWxscyhbYV0sYixjLGQsZSlbMF19OwpteEdyYXBoLnByb3RvdHlwZS5hZGRDZWxscz1mdW5jdGlvbihhLGIsYyxkLGUsZil7bnVsbD09YiYmKGI9dGhpcy5nZXREZWZhdWx0UGFyZW50KCkpO251bGw9PWMmJihjPXRoaXMubW9kZWwuZ2V0Q2hpbGRDb3VudChiKSk7dGhpcy5tb2RlbC5iZWdpblVwZGF0ZSgpO3RyeXt0aGlzLmNlbGxzQWRkZWQoYSxiLGMsZCxlLG51bGwhPWY/ZjohMSwhMCksdGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5BRERfQ0VMTFMsImNlbGxzIixhLCJwYXJlbnQiLGIsImluZGV4IixjLCJzb3VyY2UiLGQsInRhcmdldCIsZSkpfWZpbmFsbHl7dGhpcy5tb2RlbC5lbmRVcGRhdGUoKX1yZXR1cm4gYX07Cm14R3JhcGgucHJvdG90eXBlLmNlbGxzQWRkZWQ9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxrKXtpZihudWxsIT1hJiZudWxsIT1iJiZudWxsIT1jKXt0aGlzLm1vZGVsLmJlZ2luVXBkYXRlKCk7dHJ5e2Zvcih2YXIgbD1mP3RoaXMudmlldy5nZXRTdGF0ZShiKTpudWxsLG09bnVsbCE9bD9sLm9yaWdpbjpudWxsLG49bmV3IG14UG9pbnQoMCwwKSxsPTA7bDxhLmxlbmd0aDtsKyspaWYobnVsbD09YVtsXSljLS07ZWxzZXt2YXIgcD10aGlzLm1vZGVsLmdldFBhcmVudChhW2xdKTtpZihudWxsIT1tJiZhW2xdIT1iJiZiIT1wKXt2YXIgcT10aGlzLnZpZXcuZ2V0U3RhdGUocCkscj1udWxsIT1xP3Eub3JpZ2luOm4sdD10aGlzLm1vZGVsLmdldEdlb21ldHJ5KGFbbF0pO2lmKG51bGwhPXQpe3ZhciB1PXIueC1tLngseD1yLnktbS55LHQ9dC5jbG9uZSgpO3QudHJhbnNsYXRlKHUseCk7dC5yZWxhdGl2ZXx8IXRoaXMubW9kZWwuaXNWZXJ0ZXgoYVtsXSl8fHRoaXMuaXNBbGxvd05lZ2F0aXZlQ29vcmRpbmF0ZXMoKXx8Cih0Lng9TWF0aC5tYXgoMCx0LngpLHQueT1NYXRoLm1heCgwLHQueSkpO3RoaXMubW9kZWwuc2V0R2VvbWV0cnkoYVtsXSx0KX19Yj09cCYmYytsPnRoaXMubW9kZWwuZ2V0Q2hpbGRDb3VudChiKSYmYy0tO3RoaXMubW9kZWwuYWRkKGIsYVtsXSxjK2wpO3RoaXMuYXV0b1NpemVDZWxsc09uQWRkJiZ0aGlzLmF1dG9TaXplQ2VsbChhW2xdLCEwKTsobnVsbD09a3x8aykmJnRoaXMuaXNFeHRlbmRQYXJlbnRzT25BZGQoYVtsXSkmJnRoaXMuaXNFeHRlbmRQYXJlbnQoYVtsXSkmJnRoaXMuZXh0ZW5kUGFyZW50KGFbbF0pOyhudWxsPT1nfHxnKSYmdGhpcy5jb25zdHJhaW5DaGlsZChhW2xdKTtudWxsIT1kJiZ0aGlzLmNlbGxDb25uZWN0ZWQoYVtsXSxkLCEwKTtudWxsIT1lJiZ0aGlzLmNlbGxDb25uZWN0ZWQoYVtsXSxlLCExKX10aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LkNFTExTX0FEREVELCJjZWxscyIsYSwicGFyZW50IixiLCJpbmRleCIsYywic291cmNlIiwKZCwidGFyZ2V0IixlLCJhYnNvbHV0ZSIsZikpfWZpbmFsbHl7dGhpcy5tb2RlbC5lbmRVcGRhdGUoKX19fTtteEdyYXBoLnByb3RvdHlwZS5hdXRvU2l6ZUNlbGw9ZnVuY3Rpb24oYSxiKXtpZihudWxsIT1iP2I6MSlmb3IodmFyIGM9dGhpcy5tb2RlbC5nZXRDaGlsZENvdW50KGEpLGQ9MDtkPGM7ZCsrKXRoaXMuYXV0b1NpemVDZWxsKHRoaXMubW9kZWwuZ2V0Q2hpbGRBdChhLGQpKTt0aGlzLmdldE1vZGVsKCkuaXNWZXJ0ZXgoYSkmJnRoaXMuaXNBdXRvU2l6ZUNlbGwoYSkmJnRoaXMudXBkYXRlQ2VsbFNpemUoYSl9OwpteEdyYXBoLnByb3RvdHlwZS5yZW1vdmVDZWxscz1mdW5jdGlvbihhLGIpe2I9bnVsbCE9Yj9iOiEwO251bGw9PWEmJihhPXRoaXMuZ2V0RGVsZXRhYmxlQ2VsbHModGhpcy5nZXRTZWxlY3Rpb25DZWxscygpKSk7aWYoYilhPXRoaXMuZ2V0RGVsZXRhYmxlQ2VsbHModGhpcy5hZGRBbGxFZGdlcyhhKSk7ZWxzZXthPWEuc2xpY2UoKTtmb3IodmFyIGM9dGhpcy5nZXREZWxldGFibGVDZWxscyh0aGlzLmdldEFsbEVkZ2VzKGEpKSxkPW5ldyBteERpY3Rpb25hcnksZT0wO2U8YS5sZW5ndGg7ZSsrKWQucHV0KGFbZV0sITApO2ZvcihlPTA7ZTxjLmxlbmd0aDtlKyspbnVsbCE9dGhpcy52aWV3LmdldFN0YXRlKGNbZV0pfHxkLmdldChjW2VdKXx8KGQucHV0KGNbZV0sITApLGEucHVzaChjW2VdKSl9dGhpcy5tb2RlbC5iZWdpblVwZGF0ZSgpO3RyeXt0aGlzLmNlbGxzUmVtb3ZlZChhKSx0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LlJFTU9WRV9DRUxMUywiY2VsbHMiLAphLCJpbmNsdWRlRWRnZXMiLGIpKX1maW5hbGx5e3RoaXMubW9kZWwuZW5kVXBkYXRlKCl9cmV0dXJuIGF9OwpteEdyYXBoLnByb3RvdHlwZS5jZWxsc1JlbW92ZWQ9ZnVuY3Rpb24oYSl7aWYobnVsbCE9YSYmMDxhLmxlbmd0aCl7dmFyIGI9dGhpcy52aWV3LnNjYWxlLGM9dGhpcy52aWV3LnRyYW5zbGF0ZTt0aGlzLm1vZGVsLmJlZ2luVXBkYXRlKCk7dHJ5e2Zvcih2YXIgZD1uZXcgbXhEaWN0aW9uYXJ5LGU9MDtlPGEubGVuZ3RoO2UrKylkLnB1dChhW2VdLCEwKTtmb3IoZT0wO2U8YS5sZW5ndGg7ZSsrKXtmb3IodmFyIGY9dGhpcy5nZXRBbGxFZGdlcyhbYVtlXV0pLGc9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oZCxmKXt2YXIgZz10aGlzLm1vZGVsLmdldEdlb21ldHJ5KGQpO2lmKG51bGwhPWcpe2Zvcih2YXIgaz10aGlzLm1vZGVsLmdldFRlcm1pbmFsKGQsZiksbD0hMSxtPWs7bnVsbCE9bTspe2lmKGFbZV09PW0pe2w9ITA7YnJlYWt9bT10aGlzLm1vZGVsLmdldFBhcmVudChtKX1sJiYoZz1nLmNsb25lKCksbD10aGlzLnZpZXcuZ2V0U3RhdGUoZCksbnVsbCE9bCYmbnVsbCE9bC5hYnNvbHV0ZVBvaW50cz8KKGs9bC5hYnNvbHV0ZVBvaW50cyxtPWY/MDprLmxlbmd0aC0xLGcuc2V0VGVybWluYWxQb2ludChuZXcgbXhQb2ludChrW21dLngvYi1jLngtbC5vcmlnaW4ueCxrW21dLnkvYi1jLnktbC5vcmlnaW4ueSksZikpOihrPXRoaXMudmlldy5nZXRTdGF0ZShrKSxudWxsIT1rJiZnLnNldFRlcm1pbmFsUG9pbnQobmV3IG14UG9pbnQoay5nZXRDZW50ZXJYKCkvYi1jLngsay5nZXRDZW50ZXJZKCkvYi1jLnkpLGYpKSx0aGlzLm1vZGVsLnNldEdlb21ldHJ5KGQsZyksdGhpcy5tb2RlbC5zZXRUZXJtaW5hbChkLG51bGwsZikpfX0pLGs9MDtrPGYubGVuZ3RoO2srKylkLmdldChmW2tdKXx8KGQucHV0KGZba10sITApLGcoZltrXSwhMCksZyhmW2tdLCExKSk7dGhpcy5tb2RlbC5yZW1vdmUoYVtlXSl9dGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5DRUxMU19SRU1PVkVELCJjZWxscyIsYSkpfWZpbmFsbHl7dGhpcy5tb2RlbC5lbmRVcGRhdGUoKX19fTsKbXhHcmFwaC5wcm90b3R5cGUuc3BsaXRFZGdlPWZ1bmN0aW9uKGEsYixjLGQsZSxmLGcsayl7ZD1kfHwwO2U9ZXx8MDtrPW51bGwhPWs/azp0aGlzLm1vZGVsLmdldFBhcmVudChhKTtmPXRoaXMubW9kZWwuZ2V0VGVybWluYWwoYSwhMCk7dGhpcy5tb2RlbC5iZWdpblVwZGF0ZSgpO3RyeXtpZihudWxsPT1jKXtjPXRoaXMuY2xvbmVDZWxsKGEpO3ZhciBsPXRoaXMudmlldy5nZXRTdGF0ZShhKSxtPXRoaXMuZ2V0Q2VsbEdlb21ldHJ5KGMpO2lmKG51bGwhPW0mJm51bGwhPW0ucG9pbnRzJiZudWxsIT1sKXt2YXIgbj10aGlzLnZpZXcudHJhbnNsYXRlLHA9dGhpcy52aWV3LnNjYWxlLHE9bXhVdGlscy5maW5kTmVhcmVzdFNlZ21lbnQobCwoZCtuLngpKnAsKGUrbi55KSpwKTttLnBvaW50cz1tLnBvaW50cy5zbGljZSgwLHEpO209dGhpcy5nZXRDZWxsR2VvbWV0cnkoYSk7bnVsbCE9bSYmbnVsbCE9bS5wb2ludHMmJihtPW0uY2xvbmUoKSxtLnBvaW50cz1tLnBvaW50cy5zbGljZShxKSwKdGhpcy5tb2RlbC5zZXRHZW9tZXRyeShhLG0pKX19dGhpcy5jZWxsc01vdmVkKGIsZCxlLCExLCExKTt0aGlzLmNlbGxzQWRkZWQoYixrLHRoaXMubW9kZWwuZ2V0Q2hpbGRDb3VudChrKSxudWxsLG51bGwsITApO3RoaXMuY2VsbHNBZGRlZChbY10sayx0aGlzLm1vZGVsLmdldENoaWxkQ291bnQoayksZixiWzBdLCExKTt0aGlzLmNlbGxDb25uZWN0ZWQoYSxiWzBdLCEwKTt0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LlNQTElUX0VER0UsImVkZ2UiLGEsImNlbGxzIixiLCJuZXdFZGdlIixjLCJkeCIsZCwiZHkiLGUpKX1maW5hbGx5e3RoaXMubW9kZWwuZW5kVXBkYXRlKCl9cmV0dXJuIGN9OwpteEdyYXBoLnByb3RvdHlwZS50b2dnbGVDZWxscz1mdW5jdGlvbihhLGIsYyl7bnVsbD09YiYmKGI9dGhpcy5nZXRTZWxlY3Rpb25DZWxscygpKTtjJiYoYj10aGlzLmFkZEFsbEVkZ2VzKGIpKTt0aGlzLm1vZGVsLmJlZ2luVXBkYXRlKCk7dHJ5e3RoaXMuY2VsbHNUb2dnbGVkKGIsYSksdGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5UT0dHTEVfQ0VMTFMsInNob3ciLGEsImNlbGxzIixiLCJpbmNsdWRlRWRnZXMiLGMpKX1maW5hbGx5e3RoaXMubW9kZWwuZW5kVXBkYXRlKCl9cmV0dXJuIGJ9O214R3JhcGgucHJvdG90eXBlLmNlbGxzVG9nZ2xlZD1mdW5jdGlvbihhLGIpe2lmKG51bGwhPWEmJjA8YS5sZW5ndGgpe3RoaXMubW9kZWwuYmVnaW5VcGRhdGUoKTt0cnl7Zm9yKHZhciBjPTA7YzxhLmxlbmd0aDtjKyspdGhpcy5tb2RlbC5zZXRWaXNpYmxlKGFbY10sYil9ZmluYWxseXt0aGlzLm1vZGVsLmVuZFVwZGF0ZSgpfX19OwpteEdyYXBoLnByb3RvdHlwZS5mb2xkQ2VsbHM9ZnVuY3Rpb24oYSxiLGMsZCxlKXtiPW51bGwhPWI/YjohMTtudWxsPT1jJiYoYz10aGlzLmdldEZvbGRhYmxlQ2VsbHModGhpcy5nZXRTZWxlY3Rpb25DZWxscygpLGEpKTt0aGlzLnN0b3BFZGl0aW5nKCExKTt0aGlzLm1vZGVsLmJlZ2luVXBkYXRlKCk7dHJ5e3RoaXMuY2VsbHNGb2xkZWQoYyxhLGIsZCksdGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5GT0xEX0NFTExTLCJjb2xsYXBzZSIsYSwicmVjdXJzZSIsYiwiY2VsbHMiLGMpKX1maW5hbGx5e3RoaXMubW9kZWwuZW5kVXBkYXRlKCl9cmV0dXJuIGN9OwpteEdyYXBoLnByb3RvdHlwZS5jZWxsc0ZvbGRlZD1mdW5jdGlvbihhLGIsYyxkKXtpZihudWxsIT1hJiYwPGEubGVuZ3RoKXt0aGlzLm1vZGVsLmJlZ2luVXBkYXRlKCk7dHJ5e2Zvcih2YXIgZT0wO2U8YS5sZW5ndGg7ZSsrKWlmKCghZHx8dGhpcy5pc0NlbGxGb2xkYWJsZShhW2VdLGIpKSYmYiE9dGhpcy5pc0NlbGxDb2xsYXBzZWQoYVtlXSkpe3RoaXMubW9kZWwuc2V0Q29sbGFwc2VkKGFbZV0sYik7dGhpcy5zd2FwQm91bmRzKGFbZV0sYik7dGhpcy5pc0V4dGVuZFBhcmVudChhW2VdKSYmdGhpcy5leHRlbmRQYXJlbnQoYVtlXSk7aWYoYyl7dmFyIGY9dGhpcy5tb2RlbC5nZXRDaGlsZHJlbihhW2VdKTt0aGlzLmNlbGxzRm9sZGVkKGYsYixjKX10aGlzLmNvbnN0cmFpbkNoaWxkKGFbZV0pfXRoaXMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KG14RXZlbnQuQ0VMTFNfRk9MREVELCJjZWxscyIsYSwiY29sbGFwc2UiLGIsInJlY3Vyc2UiLGMpKX1maW5hbGx5e3RoaXMubW9kZWwuZW5kVXBkYXRlKCl9fX07Cm14R3JhcGgucHJvdG90eXBlLnN3YXBCb3VuZHM9ZnVuY3Rpb24oYSxiKXtpZihudWxsIT1hKXt2YXIgYz10aGlzLm1vZGVsLmdldEdlb21ldHJ5KGEpO251bGwhPWMmJihjPWMuY2xvbmUoKSx0aGlzLnVwZGF0ZUFsdGVybmF0ZUJvdW5kcyhhLGMsYiksYy5zd2FwKCksdGhpcy5tb2RlbC5zZXRHZW9tZXRyeShhLGMpKX19OwpteEdyYXBoLnByb3RvdHlwZS51cGRhdGVBbHRlcm5hdGVCb3VuZHM9ZnVuY3Rpb24oYSxiLGMpe2lmKG51bGwhPWEmJm51bGwhPWIpe2M9dGhpcy5nZXRDdXJyZW50Q2VsbFN0eWxlKGEpO2lmKG51bGw9PWIuYWx0ZXJuYXRlQm91bmRzKXt2YXIgZD1iO3RoaXMuY29sbGFwc2VUb1ByZWZlcnJlZFNpemUmJihhPXRoaXMuZ2V0UHJlZmVycmVkU2l6ZUZvckNlbGwoYSksbnVsbCE9YSYmKGQ9YSxhPW14VXRpbHMuZ2V0VmFsdWUoYyxteENvbnN0YW50cy5TVFlMRV9TVEFSVFNJWkUpLDA8YSYmKGQuaGVpZ2h0PU1hdGgubWF4KGQuaGVpZ2h0LGEpKSkpO2IuYWx0ZXJuYXRlQm91bmRzPW5ldyBteFJlY3RhbmdsZSgwLDAsZC53aWR0aCxkLmhlaWdodCl9aWYobnVsbCE9Yi5hbHRlcm5hdGVCb3VuZHMpe2IuYWx0ZXJuYXRlQm91bmRzLng9Yi54O2IuYWx0ZXJuYXRlQm91bmRzLnk9Yi55O3ZhciBlPW14VXRpbHMudG9SYWRpYW5zKGNbbXhDb25zdGFudHMuU1RZTEVfUk9UQVRJT05dfHwwKTsKMCE9ZSYmKGM9Yi5hbHRlcm5hdGVCb3VuZHMuZ2V0Q2VudGVyWCgpLWIuZ2V0Q2VudGVyWCgpLGQ9Yi5hbHRlcm5hdGVCb3VuZHMuZ2V0Q2VudGVyWSgpLWIuZ2V0Q2VudGVyWSgpLGE9TWF0aC5jb3MoZSksZT1NYXRoLnNpbihlKSxiLmFsdGVybmF0ZUJvdW5kcy54Kz1hKmMtZSpkLWMsYi5hbHRlcm5hdGVCb3VuZHMueSs9ZSpjK2EqZC1kKX19fTtteEdyYXBoLnByb3RvdHlwZS5hZGRBbGxFZGdlcz1mdW5jdGlvbihhKXt2YXIgYj1hLnNsaWNlKCk7cmV0dXJuIG14VXRpbHMucmVtb3ZlRHVwbGljYXRlcyhiLmNvbmNhdCh0aGlzLmdldEFsbEVkZ2VzKGEpKSl9OwpteEdyYXBoLnByb3RvdHlwZS5nZXRBbGxFZGdlcz1mdW5jdGlvbihhKXt2YXIgYj1bXTtpZihudWxsIT1hKWZvcih2YXIgYz0wO2M8YS5sZW5ndGg7YysrKXtmb3IodmFyIGQ9dGhpcy5tb2RlbC5nZXRFZGdlQ291bnQoYVtjXSksZT0wO2U8ZDtlKyspYi5wdXNoKHRoaXMubW9kZWwuZ2V0RWRnZUF0KGFbY10sZSkpO2Q9dGhpcy5tb2RlbC5nZXRDaGlsZHJlbihhW2NdKTtiPWIuY29uY2F0KHRoaXMuZ2V0QWxsRWRnZXMoZCkpfXJldHVybiBifTtteEdyYXBoLnByb3RvdHlwZS51cGRhdGVDZWxsU2l6ZT1mdW5jdGlvbihhLGIpe2I9bnVsbCE9Yj9iOiExO3RoaXMubW9kZWwuYmVnaW5VcGRhdGUoKTt0cnl7dGhpcy5jZWxsU2l6ZVVwZGF0ZWQoYSxiKSx0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LlVQREFURV9DRUxMX1NJWkUsImNlbGwiLGEsImlnbm9yZUNoaWxkcmVuIixiKSl9ZmluYWxseXt0aGlzLm1vZGVsLmVuZFVwZGF0ZSgpfXJldHVybiBhfTsKbXhHcmFwaC5wcm90b3R5cGUuY2VsbFNpemVVcGRhdGVkPWZ1bmN0aW9uKGEsYil7aWYobnVsbCE9YSl7dGhpcy5tb2RlbC5iZWdpblVwZGF0ZSgpO3RyeXt2YXIgYz10aGlzLmdldFByZWZlcnJlZFNpemVGb3JDZWxsKGEpLGQ9dGhpcy5tb2RlbC5nZXRHZW9tZXRyeShhKTtpZihudWxsIT1jJiZudWxsIT1kKXt2YXIgZT10aGlzLmlzQ2VsbENvbGxhcHNlZChhKSxkPWQuY2xvbmUoKTtpZih0aGlzLmlzU3dpbWxhbmUoYSkpe3ZhciBmPXRoaXMuZ2V0Q2VsbFN0eWxlKGEpLGc9dGhpcy5tb2RlbC5nZXRTdHlsZShhKTtudWxsPT1nJiYoZz0iIik7bXhVdGlscy5nZXRWYWx1ZShmLG14Q29uc3RhbnRzLlNUWUxFX0hPUklaT05UQUwsITApPyhnPW14VXRpbHMuc2V0U3R5bGUoZyxteENvbnN0YW50cy5TVFlMRV9TVEFSVFNJWkUsYy5oZWlnaHQrOCksZSYmKGQuaGVpZ2h0PWMuaGVpZ2h0KzgpLGQud2lkdGg9Yy53aWR0aCk6KGc9bXhVdGlscy5zZXRTdHlsZShnLG14Q29uc3RhbnRzLlNUWUxFX1NUQVJUU0laRSwKYy53aWR0aCs4KSxlJiYoZC53aWR0aD1jLndpZHRoKzgpLGQuaGVpZ2h0PWMuaGVpZ2h0KTt0aGlzLm1vZGVsLnNldFN0eWxlKGEsZyl9ZWxzZXt2YXIgaz10aGlzLnZpZXcuY3JlYXRlU3RhdGUoYSksbD1rLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX0FMSUdOXXx8bXhDb25zdGFudHMuQUxJR05fQ0VOVEVSO2w9PW14Q29uc3RhbnRzLkFMSUdOX1JJR0hUP2QueCs9ZC53aWR0aC1jLndpZHRoOmw9PW14Q29uc3RhbnRzLkFMSUdOX0NFTlRFUiYmKGQueCs9TWF0aC5yb3VuZCgoZC53aWR0aC1jLndpZHRoKS8yKSk7dmFyIG09dGhpcy5nZXRWZXJ0aWNhbEFsaWduKGspO209PW14Q29uc3RhbnRzLkFMSUdOX0JPVFRPTT9kLnkrPWQuaGVpZ2h0LWMuaGVpZ2h0Om09PW14Q29uc3RhbnRzLkFMSUdOX01JRERMRSYmKGQueSs9TWF0aC5yb3VuZCgoZC5oZWlnaHQtYy5oZWlnaHQpLzIpKTtkLndpZHRoPWMud2lkdGg7ZC5oZWlnaHQ9Yy5oZWlnaHR9aWYoIWImJiFlKXt2YXIgbj10aGlzLnZpZXcuZ2V0Qm91bmRzKHRoaXMubW9kZWwuZ2V0Q2hpbGRyZW4oYSkpOwppZihudWxsIT1uKXt2YXIgcD10aGlzLnZpZXcudHJhbnNsYXRlLHE9dGhpcy52aWV3LnNjYWxlLHI9KG4ueStuLmhlaWdodCkvcS1kLnktcC55O2Qud2lkdGg9TWF0aC5tYXgoZC53aWR0aCwobi54K24ud2lkdGgpL3EtZC54LXAueCk7ZC5oZWlnaHQ9TWF0aC5tYXgoZC5oZWlnaHQscil9fXRoaXMuY2VsbHNSZXNpemVkKFthXSxbZF0sITEpfX1maW5hbGx5e3RoaXMubW9kZWwuZW5kVXBkYXRlKCl9fX07Cm14R3JhcGgucHJvdG90eXBlLmdldFByZWZlcnJlZFNpemVGb3JDZWxsPWZ1bmN0aW9uKGEsYil7dmFyIGM9bnVsbDtpZihudWxsIT1hKXt2YXIgZD10aGlzLnZpZXcuY3JlYXRlU3RhdGUoYSksZT1kLnN0eWxlO2lmKCF0aGlzLm1vZGVsLmlzRWRnZShhKSl7dmFyIGY9ZVtteENvbnN0YW50cy5TVFlMRV9GT05UU0laRV18fG14Q29uc3RhbnRzLkRFRkFVTFRfRk9OVFNJWkUsZz0wLGM9MDtudWxsPT10aGlzLmdldEltYWdlKGQpJiZudWxsPT1lW214Q29uc3RhbnRzLlNUWUxFX0lNQUdFXXx8ZVtteENvbnN0YW50cy5TVFlMRV9TSEFQRV0hPW14Q29uc3RhbnRzLlNIQVBFX0xBQkVMfHwoZVtteENvbnN0YW50cy5TVFlMRV9WRVJUSUNBTF9BTElHTl09PW14Q29uc3RhbnRzLkFMSUdOX01JRERMRSYmKGcrPXBhcnNlRmxvYXQoZVtteENvbnN0YW50cy5TVFlMRV9JTUFHRV9XSURUSF0pfHxteExhYmVsLnByb3RvdHlwZS5pbWFnZVNpemUpLGVbbXhDb25zdGFudHMuU1RZTEVfQUxJR05dIT0KbXhDb25zdGFudHMuQUxJR05fQ0VOVEVSJiYoYys9cGFyc2VGbG9hdChlW214Q29uc3RhbnRzLlNUWUxFX0lNQUdFX0hFSUdIVF0pfHxteExhYmVsLnByb3RvdHlwZS5pbWFnZVNpemUpKTt2YXIgZz1nKzIqKGVbbXhDb25zdGFudHMuU1RZTEVfU1BBQ0lOR118fDApLGc9ZysoZVtteENvbnN0YW50cy5TVFlMRV9TUEFDSU5HX0xFRlRdfHwwKSxnPWcrKGVbbXhDb25zdGFudHMuU1RZTEVfU1BBQ0lOR19SSUdIVF18fDApLGM9YysyKihlW214Q29uc3RhbnRzLlNUWUxFX1NQQUNJTkddfHwwKSxjPWMrKGVbbXhDb25zdGFudHMuU1RZTEVfU1BBQ0lOR19UT1BdfHwwKSxjPWMrKGVbbXhDb25zdGFudHMuU1RZTEVfU1BBQ0lOR19CT1RUT01dfHwwKSxrPXRoaXMuZ2V0Rm9sZGluZ0ltYWdlKGQpO251bGwhPWsmJihnKz1rLndpZHRoKzgpO2s9dGhpcy5jZWxsUmVuZGVyZXIuZ2V0TGFiZWxWYWx1ZShkKTtudWxsIT1rJiYwPGsubGVuZ3RoPyh0aGlzLmlzSHRtbExhYmVsKGQuY2VsbCl8fChrPQpteFV0aWxzLmh0bWxFbnRpdGllcyhrLCExKSksaz1rLnJlcGxhY2UoL1xuL2csIjxicj4iKSxmPW14VXRpbHMuZ2V0U2l6ZUZvclN0cmluZyhrLGYsZVtteENvbnN0YW50cy5TVFlMRV9GT05URkFNSUxZXSxiLGVbbXhDb25zdGFudHMuU1RZTEVfRk9OVFNUWUxFXSksZD1mLndpZHRoK2csYz1mLmhlaWdodCtjLG14VXRpbHMuZ2V0VmFsdWUoZSxteENvbnN0YW50cy5TVFlMRV9IT1JJWk9OVEFMLCEwKXx8KGU9YyxjPWQsZD1lKSx0aGlzLmdyaWRFbmFibGVkJiYoZD10aGlzLnNuYXAoZCt0aGlzLmdyaWRTaXplLzIpLGM9dGhpcy5zbmFwKGMrdGhpcy5ncmlkU2l6ZS8yKSksYz1uZXcgbXhSZWN0YW5nbGUoMCwwLGQsYykpOihlPTQqdGhpcy5ncmlkU2l6ZSxjPW5ldyBteFJlY3RhbmdsZSgwLDAsZSxlKSl9fXJldHVybiBjfTtteEdyYXBoLnByb3RvdHlwZS5yZXNpemVDZWxsPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gdGhpcy5yZXNpemVDZWxscyhbYV0sW2JdLGMpWzBdfTsKbXhHcmFwaC5wcm90b3R5cGUucmVzaXplQ2VsbHM9ZnVuY3Rpb24oYSxiLGMpe2M9bnVsbCE9Yz9jOnRoaXMuaXNSZWN1cnNpdmVSZXNpemUoKTt0aGlzLm1vZGVsLmJlZ2luVXBkYXRlKCk7dHJ5e3ZhciBkPXRoaXMuY2VsbHNSZXNpemVkKGEsYixjKTt0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LlJFU0laRV9DRUxMUywiY2VsbHMiLGEsImJvdW5kcyIsYiwicHJldmlvdXMiLGQpKX1maW5hbGx5e3RoaXMubW9kZWwuZW5kVXBkYXRlKCl9cmV0dXJuIGF9OwpteEdyYXBoLnByb3RvdHlwZS5jZWxsc1Jlc2l6ZWQ9ZnVuY3Rpb24oYSxiLGMpe2M9bnVsbCE9Yz9jOiExO3ZhciBkPVtdO2lmKG51bGwhPWEmJm51bGwhPWImJmEubGVuZ3RoPT1iLmxlbmd0aCl7dGhpcy5tb2RlbC5iZWdpblVwZGF0ZSgpO3RyeXtmb3IodmFyIGU9MDtlPGEubGVuZ3RoO2UrKylkLnB1c2godGhpcy5jZWxsUmVzaXplZChhW2VdLGJbZV0sITEsYykpLHRoaXMuaXNFeHRlbmRQYXJlbnQoYVtlXSkmJnRoaXMuZXh0ZW5kUGFyZW50KGFbZV0pLHRoaXMuY29uc3RyYWluQ2hpbGQoYVtlXSk7dGhpcy5yZXNldEVkZ2VzT25SZXNpemUmJnRoaXMucmVzZXRFZGdlcyhhKTt0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LkNFTExTX1JFU0laRUQsImNlbGxzIixhLCJib3VuZHMiLGIsInByZXZpb3VzIixkKSl9ZmluYWxseXt0aGlzLm1vZGVsLmVuZFVwZGF0ZSgpfX1yZXR1cm4gZH07Cm14R3JhcGgucHJvdG90eXBlLmNlbGxSZXNpemVkPWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPXRoaXMubW9kZWwuZ2V0R2VvbWV0cnkoYSk7aWYobnVsbCE9ZSYmKGUueCE9Yi54fHxlLnkhPWIueXx8ZS53aWR0aCE9Yi53aWR0aHx8ZS5oZWlnaHQhPWIuaGVpZ2h0KSl7dmFyIGY9ZS5jbG9uZSgpOyFjJiZmLnJlbGF0aXZlPyhjPWYub2Zmc2V0LG51bGwhPWMmJihjLngrPWIueC1mLngsYy55Kz1iLnktZi55KSk6KGYueD1iLngsZi55PWIueSk7Zi53aWR0aD1iLndpZHRoO2YuaGVpZ2h0PWIuaGVpZ2h0O2YucmVsYXRpdmV8fCF0aGlzLm1vZGVsLmlzVmVydGV4KGEpfHx0aGlzLmlzQWxsb3dOZWdhdGl2ZUNvb3JkaW5hdGVzKCl8fChmLng9TWF0aC5tYXgoMCxmLngpLGYueT1NYXRoLm1heCgwLGYueSkpO3RoaXMubW9kZWwuYmVnaW5VcGRhdGUoKTt0cnl7ZCYmdGhpcy5yZXNpemVDaGlsZENlbGxzKGEsZiksdGhpcy5tb2RlbC5zZXRHZW9tZXRyeShhLGYpLHRoaXMuY29uc3RyYWluQ2hpbGRDZWxscyhhKX1maW5hbGx5e3RoaXMubW9kZWwuZW5kVXBkYXRlKCl9fXJldHVybiBlfTsKbXhHcmFwaC5wcm90b3R5cGUucmVzaXplQ2hpbGRDZWxscz1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYz10aGlzLm1vZGVsLmdldEdlb21ldHJ5KGEpLGQ9Yi53aWR0aC9jLndpZHRoLGM9Yi5oZWlnaHQvYy5oZWlnaHQsZT10aGlzLm1vZGVsLmdldENoaWxkQ291bnQoYSksZj0wO2Y8ZTtmKyspdGhpcy5zY2FsZUNlbGwodGhpcy5tb2RlbC5nZXRDaGlsZEF0KGEsZiksZCxjLCEwKX07bXhHcmFwaC5wcm90b3R5cGUuY29uc3RyYWluQ2hpbGRDZWxscz1mdW5jdGlvbihhKXtmb3IodmFyIGI9dGhpcy5tb2RlbC5nZXRDaGlsZENvdW50KGEpLGM9MDtjPGI7YysrKXRoaXMuY29uc3RyYWluQ2hpbGQodGhpcy5tb2RlbC5nZXRDaGlsZEF0KGEsYykpfTsKbXhHcmFwaC5wcm90b3R5cGUuc2NhbGVDZWxsPWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPXRoaXMubW9kZWwuZ2V0R2VvbWV0cnkoYSk7aWYobnVsbCE9ZSl7dmFyIGY9dGhpcy5nZXRDdXJyZW50Q2VsbFN0eWxlKGEpLGU9ZS5jbG9uZSgpLGc9ZS54LGs9ZS55LGw9ZS53aWR0aCxtPWUuaGVpZ2h0O2Uuc2NhbGUoYixjLCJmaXhlZCI9PWZbbXhDb25zdGFudHMuU1RZTEVfQVNQRUNUXSk7IjEiPT1mW214Q29uc3RhbnRzLlNUWUxFX1JFU0laRV9XSURUSF0/ZS53aWR0aD1sKmI6IjAiPT1mW214Q29uc3RhbnRzLlNUWUxFX1JFU0laRV9XSURUSF0mJihlLndpZHRoPWwpOyIxIj09ZltteENvbnN0YW50cy5TVFlMRV9SRVNJWkVfSEVJR0hUXT9lLmhlaWdodD1tKmM6IjAiPT1mW214Q29uc3RhbnRzLlNUWUxFX1JFU0laRV9IRUlHSFRdJiYoZS5oZWlnaHQ9bSk7dGhpcy5pc0NlbGxNb3ZhYmxlKGEpfHwoZS54PWcsZS55PWspO3RoaXMuaXNDZWxsUmVzaXphYmxlKGEpfHwoZS53aWR0aD1sLAplLmhlaWdodD1tKTt0aGlzLm1vZGVsLmlzVmVydGV4KGEpP3RoaXMuY2VsbFJlc2l6ZWQoYSxlLCEwLGQpOnRoaXMubW9kZWwuc2V0R2VvbWV0cnkoYSxlKX19O214R3JhcGgucHJvdG90eXBlLmV4dGVuZFBhcmVudD1mdW5jdGlvbihhKXtpZihudWxsIT1hKXt2YXIgYj10aGlzLm1vZGVsLmdldFBhcmVudChhKSxjPXRoaXMuZ2V0Q2VsbEdlb21ldHJ5KGIpO251bGw9PWJ8fG51bGw9PWN8fHRoaXMuaXNDZWxsQ29sbGFwc2VkKGIpfHwoYT10aGlzLmdldENlbGxHZW9tZXRyeShhKSxudWxsIT1hJiYhYS5yZWxhdGl2ZSYmKGMud2lkdGg8YS54K2Eud2lkdGh8fGMuaGVpZ2h0PGEueSthLmhlaWdodCkmJihjPWMuY2xvbmUoKSxjLndpZHRoPU1hdGgubWF4KGMud2lkdGgsYS54K2Eud2lkdGgpLGMuaGVpZ2h0PU1hdGgubWF4KGMuaGVpZ2h0LGEueSthLmhlaWdodCksdGhpcy5jZWxsc1Jlc2l6ZWQoW2JdLFtjXSwhMSkpKX19OwpteEdyYXBoLnByb3RvdHlwZS5pbXBvcnRDZWxscz1mdW5jdGlvbihhLGIsYyxkLGUsZil7cmV0dXJuIHRoaXMubW92ZUNlbGxzKGEsYixjLCEwLGQsZSxmKX07Cm14R3JhcGgucHJvdG90eXBlLm1vdmVDZWxscz1mdW5jdGlvbihhLGIsYyxkLGUsZixnKXtiPW51bGwhPWI/YjowO2M9bnVsbCE9Yz9jOjA7ZD1udWxsIT1kP2Q6ITE7aWYobnVsbCE9YSYmKDAhPWJ8fDAhPWN8fGR8fG51bGwhPWUpKXthPXRoaXMubW9kZWwuZ2V0VG9wbW9zdENlbGxzKGEpO3RoaXMubW9kZWwuYmVnaW5VcGRhdGUoKTt0cnl7Zm9yKHZhciBrPW5ldyBteERpY3Rpb25hcnksbD0wO2w8YS5sZW5ndGg7bCsrKWsucHV0KGFbbF0sITApO2Zvcih2YXIgbT1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXtmb3IoO251bGwhPWE7KXtpZihrLmdldChhKSlyZXR1cm4hMDthPXRoaXMubW9kZWwuZ2V0UGFyZW50KGEpfXJldHVybiExfSksbj1bXSxsPTA7bDxhLmxlbmd0aDtsKyspe3ZhciBwPXRoaXMuZ2V0Q2VsbEdlb21ldHJ5KGFbbF0pLHE9dGhpcy5tb2RlbC5nZXRQYXJlbnQoYVtsXSk7bnVsbCE9cCYmcC5yZWxhdGl2ZSYmdGhpcy5tb2RlbC5pc0VkZ2UocSkmJihtKHRoaXMubW9kZWwuZ2V0VGVybWluYWwocSwKITApKXx8bSh0aGlzLm1vZGVsLmdldFRlcm1pbmFsKHEsITEpKSl8fG4ucHVzaChhW2xdKX1hPW47ZCYmKGE9dGhpcy5jbG9uZUNlbGxzKGEsdGhpcy5pc0Nsb25lSW52YWxpZEVkZ2VzKCksZyksbnVsbD09ZSYmKGU9dGhpcy5nZXREZWZhdWx0UGFyZW50KCkpKTt2YXIgcj10aGlzLmlzQWxsb3dOZWdhdGl2ZUNvb3JkaW5hdGVzKCk7bnVsbCE9ZSYmdGhpcy5zZXRBbGxvd05lZ2F0aXZlQ29vcmRpbmF0ZXMoITApO3RoaXMuY2VsbHNNb3ZlZChhLGIsYywhZCYmdGhpcy5pc0Rpc2Nvbm5lY3RPbk1vdmUoKSYmdGhpcy5pc0FsbG93RGFuZ2xpbmdFZGdlcygpLG51bGw9PWUsdGhpcy5pc0V4dGVuZFBhcmVudHNPbk1vdmUoKSYmbnVsbD09ZSk7dGhpcy5zZXRBbGxvd05lZ2F0aXZlQ29vcmRpbmF0ZXMocik7aWYobnVsbCE9ZSl7dmFyIHQ9dGhpcy5tb2RlbC5nZXRDaGlsZENvdW50KGUpO3RoaXMuY2VsbHNBZGRlZChhLGUsdCxudWxsLG51bGwsITApfXRoaXMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KG14RXZlbnQuTU9WRV9DRUxMUywKImNlbGxzIixhLCJkeCIsYiwiZHkiLGMsImNsb25lIixkLCJ0YXJnZXQiLGUsImV2ZW50IixmKSl9ZmluYWxseXt0aGlzLm1vZGVsLmVuZFVwZGF0ZSgpfX1yZXR1cm4gYX07Cm14R3JhcGgucHJvdG90eXBlLmNlbGxzTW92ZWQ9ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe2lmKG51bGwhPWEmJigwIT1ifHwwIT1jKSl7Zj1udWxsIT1mP2Y6ITE7dGhpcy5tb2RlbC5iZWdpblVwZGF0ZSgpO3RyeXtkJiZ0aGlzLmRpc2Nvbm5lY3RHcmFwaChhKTtmb3IodmFyIGc9MDtnPGEubGVuZ3RoO2crKyl0aGlzLnRyYW5zbGF0ZUNlbGwoYVtnXSxiLGMpLGYmJnRoaXMuaXNFeHRlbmRQYXJlbnQoYVtnXSk/dGhpcy5leHRlbmRQYXJlbnQoYVtnXSk6ZSYmdGhpcy5jb25zdHJhaW5DaGlsZChhW2ddKTt0aGlzLnJlc2V0RWRnZXNPbk1vdmUmJnRoaXMucmVzZXRFZGdlcyhhKTt0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LkNFTExTX01PVkVELCJjZWxscyIsYSwiZHgiLGIsImR5IixjLCJkaXNjb25uZWN0IixkKSl9ZmluYWxseXt0aGlzLm1vZGVsLmVuZFVwZGF0ZSgpfX19OwpteEdyYXBoLnByb3RvdHlwZS50cmFuc2xhdGVDZWxsPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLm1vZGVsLmdldEdlb21ldHJ5KGEpO2lmKG51bGwhPWQpe2I9cGFyc2VGbG9hdChiKTtjPXBhcnNlRmxvYXQoYyk7ZD1kLmNsb25lKCk7ZC50cmFuc2xhdGUoYixjKTtkLnJlbGF0aXZlfHwhdGhpcy5tb2RlbC5pc1ZlcnRleChhKXx8dGhpcy5pc0FsbG93TmVnYXRpdmVDb29yZGluYXRlcygpfHwoZC54PU1hdGgubWF4KDAscGFyc2VGbG9hdChkLngpKSxkLnk9TWF0aC5tYXgoMCxwYXJzZUZsb2F0KGQueSkpKTtpZihkLnJlbGF0aXZlJiYhdGhpcy5tb2RlbC5pc0VkZ2UoYSkpe3ZhciBlPXRoaXMubW9kZWwuZ2V0UGFyZW50KGEpLGY9MDt0aGlzLm1vZGVsLmlzVmVydGV4KGUpJiYoZT10aGlzLmdldEN1cnJlbnRDZWxsU3R5bGUoZSksZj1teFV0aWxzLmdldFZhbHVlKGUsbXhDb25zdGFudHMuU1RZTEVfUk9UQVRJT04sMCkpOzAhPWYmJihmPW14VXRpbHMudG9SYWRpYW5zKC1mKSwKZT1NYXRoLmNvcyhmKSxmPU1hdGguc2luKGYpLGM9bXhVdGlscy5nZXRSb3RhdGVkUG9pbnQobmV3IG14UG9pbnQoYixjKSxlLGYsbmV3IG14UG9pbnQoMCwwKSksYj1jLngsYz1jLnkpO251bGw9PWQub2Zmc2V0P2Qub2Zmc2V0PW5ldyBteFBvaW50KGIsYyk6KGQub2Zmc2V0Lng9cGFyc2VGbG9hdChkLm9mZnNldC54KStiLGQub2Zmc2V0Lnk9cGFyc2VGbG9hdChkLm9mZnNldC55KStjKX10aGlzLm1vZGVsLnNldEdlb21ldHJ5KGEsZCl9fTsKbXhHcmFwaC5wcm90b3R5cGUuZ2V0Q2VsbENvbnRhaW5tZW50QXJlYT1mdW5jdGlvbihhKXtpZihudWxsIT1hJiYhdGhpcy5tb2RlbC5pc0VkZ2UoYSkpe3ZhciBiPXRoaXMubW9kZWwuZ2V0UGFyZW50KGEpO2lmKG51bGwhPWImJmIhPXRoaXMuZ2V0RGVmYXVsdFBhcmVudCgpKXt2YXIgYz10aGlzLm1vZGVsLmdldEdlb21ldHJ5KGIpO2lmKG51bGwhPWMpe3ZhciBkPWE9MCxlPWMud2lkdGgsYz1jLmhlaWdodDtpZih0aGlzLmlzU3dpbWxhbmUoYikpe3ZhciBmPXRoaXMuZ2V0U3RhcnRTaXplKGIpLGc9dGhpcy5nZXRDdXJyZW50Q2VsbFN0eWxlKGIpLGI9bXhVdGlscy5nZXRWYWx1ZShnLG14Q29uc3RhbnRzLlNUWUxFX0RJUkVDVElPTixteENvbnN0YW50cy5ESVJFQ1RJT05fRUFTVCksaz0xPT1teFV0aWxzLmdldFZhbHVlKGcsbXhDb25zdGFudHMuU1RZTEVfRkxJUEgsMCksZz0xPT1teFV0aWxzLmdldFZhbHVlKGcsbXhDb25zdGFudHMuU1RZTEVfRkxJUFYsMCk7aWYoYj09bXhDb25zdGFudHMuRElSRUNUSU9OX1NPVVRIfHwKYj09bXhDb25zdGFudHMuRElSRUNUSU9OX05PUlRIKXt2YXIgbD1mLndpZHRoO2Yud2lkdGg9Zi5oZWlnaHQ7Zi5oZWlnaHQ9bH1pZihiPT1teENvbnN0YW50cy5ESVJFQ1RJT05fRUFTVCYmIWd8fGI9PW14Q29uc3RhbnRzLkRJUkVDVElPTl9OT1JUSCYmIWt8fGI9PW14Q29uc3RhbnRzLkRJUkVDVElPTl9XRVNUJiZnfHxiPT1teENvbnN0YW50cy5ESVJFQ1RJT05fU09VVEgmJmspYT1mLndpZHRoLGQ9Zi5oZWlnaHQ7ZS09Zi53aWR0aDtjLT1mLmhlaWdodH1yZXR1cm4gbmV3IG14UmVjdGFuZ2xlKGEsZCxlLGMpfX19cmV0dXJuIG51bGx9O214R3JhcGgucHJvdG90eXBlLmdldE1heGltdW1HcmFwaEJvdW5kcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLm1heGltdW1HcmFwaEJvdW5kc307Cm14R3JhcGgucHJvdG90eXBlLmNvbnN0cmFpbkNoaWxkPWZ1bmN0aW9uKGEsYil7aWYobnVsbCE9YSl7dmFyIGM9dGhpcy5nZXRDZWxsR2VvbWV0cnkoYSk7aWYobnVsbCE9YyYmKHRoaXMuaXNDb25zdHJhaW5SZWxhdGl2ZUNoaWxkcmVuKCl8fCFjLnJlbGF0aXZlKSl7dmFyIGQ9dGhpcy5tb2RlbC5nZXRQYXJlbnQoYSk7dGhpcy5nZXRDZWxsR2VvbWV0cnkoZCk7dmFyIGU9dGhpcy5nZXRNYXhpbXVtR3JhcGhCb3VuZHMoKTtudWxsIT1lJiYoZD10aGlzLmdldEJvdW5kaW5nQm94RnJvbUdlb21ldHJ5KFtkXSwhMSksbnVsbCE9ZCYmKGU9bXhSZWN0YW5nbGUuZnJvbVJlY3RhbmdsZShlKSxlLngtPWQueCxlLnktPWQueSkpO2lmKHRoaXMuaXNDb25zdHJhaW5DaGlsZChhKSYmKGQ9dGhpcy5nZXRDZWxsQ29udGFpbm1lbnRBcmVhKGEpLG51bGwhPWQpKXt2YXIgZj10aGlzLmdldE92ZXJsYXAoYSk7MDxmJiYoZD1teFJlY3RhbmdsZS5mcm9tUmVjdGFuZ2xlKGQpLGQueC09ZC53aWR0aCoKZixkLnktPWQuaGVpZ2h0KmYsZC53aWR0aCs9MipkLndpZHRoKmYsZC5oZWlnaHQrPTIqZC5oZWlnaHQqZik7bnVsbD09ZT9lPWQ6KGU9bXhSZWN0YW5nbGUuZnJvbVJlY3RhbmdsZShlKSxlLmludGVyc2VjdChkKSl9aWYobnVsbCE9ZSl7ZD1bYV07aWYoIXRoaXMuaXNDZWxsQ29sbGFwc2VkKGEpKWZvcih2YXIgZj10aGlzLm1vZGVsLmdldERlc2NlbmRhbnRzKGEpLGc9MDtnPGYubGVuZ3RoO2crKyl0aGlzLmlzQ2VsbFZpc2libGUoZltnXSkmJmQucHVzaChmW2ddKTtkPXRoaXMuZ2V0Qm91bmRpbmdCb3hGcm9tR2VvbWV0cnkoZCwhMSk7aWYobnVsbCE9ZCl7Yz1jLmNsb25lKCk7Zj0wO2Mud2lkdGg+ZS53aWR0aCYmKGY9Yy53aWR0aC1lLndpZHRoLGMud2lkdGgtPWYpO2QueCtkLndpZHRoPmUueCtlLndpZHRoJiYoZi09ZC54K2Qud2lkdGgtZS54LWUud2lkdGgtZik7Zz0wO2MuaGVpZ2h0PmUuaGVpZ2h0JiYoZz1jLmhlaWdodC1lLmhlaWdodCxjLmhlaWdodC09Zyk7ZC55K2QuaGVpZ2h0PgplLnkrZS5oZWlnaHQmJihnLT1kLnkrZC5oZWlnaHQtZS55LWUuaGVpZ2h0LWcpO2QueDxlLngmJihmLT1kLngtZS54KTtkLnk8ZS55JiYoZy09ZC55LWUueSk7aWYoMCE9Znx8MCE9ZyljLnJlbGF0aXZlPyhudWxsPT1jLm9mZnNldCYmKGMub2Zmc2V0PW5ldyBteFBvaW50KSxjLm9mZnNldC54Kz1mLGMub2Zmc2V0LnkrPWcpOihjLngrPWYsYy55Kz1nKTt0aGlzLm1vZGVsLnNldEdlb21ldHJ5KGEsYyl9fX19fTsKbXhHcmFwaC5wcm90b3R5cGUucmVzZXRFZGdlcz1mdW5jdGlvbihhKXtpZihudWxsIT1hKXtmb3IodmFyIGI9bmV3IG14RGljdGlvbmFyeSxjPTA7YzxhLmxlbmd0aDtjKyspYi5wdXQoYVtjXSwhMCk7dGhpcy5tb2RlbC5iZWdpblVwZGF0ZSgpO3RyeXtmb3IoYz0wO2M8YS5sZW5ndGg7YysrKXt2YXIgZD10aGlzLm1vZGVsLmdldEVkZ2VzKGFbY10pO2lmKG51bGwhPWQpZm9yKHZhciBlPTA7ZTxkLmxlbmd0aDtlKyspe3ZhciBmPXRoaXMudmlldy5nZXRTdGF0ZShkW2VdKSxnPW51bGwhPWY/Zi5nZXRWaXNpYmxlVGVybWluYWwoITApOnRoaXMudmlldy5nZXRWaXNpYmxlVGVybWluYWwoZFtlXSwhMCksaz1udWxsIT1mP2YuZ2V0VmlzaWJsZVRlcm1pbmFsKCExKTp0aGlzLnZpZXcuZ2V0VmlzaWJsZVRlcm1pbmFsKGRbZV0sITEpO2IuZ2V0KGcpJiZiLmdldChrKXx8dGhpcy5yZXNldEVkZ2UoZFtlXSl9dGhpcy5yZXNldEVkZ2VzKHRoaXMubW9kZWwuZ2V0Q2hpbGRyZW4oYVtjXSkpfX1maW5hbGx5e3RoaXMubW9kZWwuZW5kVXBkYXRlKCl9fX07Cm14R3JhcGgucHJvdG90eXBlLnJlc2V0RWRnZT1mdW5jdGlvbihhKXt2YXIgYj10aGlzLm1vZGVsLmdldEdlb21ldHJ5KGEpO251bGwhPWImJm51bGwhPWIucG9pbnRzJiYwPGIucG9pbnRzLmxlbmd0aCYmKGI9Yi5jbG9uZSgpLGIucG9pbnRzPVtdLHRoaXMubW9kZWwuc2V0R2VvbWV0cnkoYSxiKSk7cmV0dXJuIGF9OwpteEdyYXBoLnByb3RvdHlwZS5nZXRPdXRsaW5lQ29uc3RyYWludD1mdW5jdGlvbihhLGIsYyl7aWYobnVsbCE9Yi5zaGFwZSl7Yz10aGlzLnZpZXcuZ2V0UGVyaW1ldGVyQm91bmRzKGIpO3ZhciBkPWIuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfRElSRUNUSU9OXTtpZihkPT1teENvbnN0YW50cy5ESVJFQ1RJT05fTk9SVEh8fGQ9PW14Q29uc3RhbnRzLkRJUkVDVElPTl9TT1VUSCl7Yy54Kz1jLndpZHRoLzItYy5oZWlnaHQvMjtjLnkrPWMuaGVpZ2h0LzItYy53aWR0aC8yO3ZhciBlPWMud2lkdGg7Yy53aWR0aD1jLmhlaWdodDtjLmhlaWdodD1lfXZhciBmPW14VXRpbHMudG9SYWRpYW5zKGIuc2hhcGUuZ2V0U2hhcGVSb3RhdGlvbigpKTtpZigwIT1mKXt2YXIgZT1NYXRoLmNvcygtZiksZj1NYXRoLnNpbigtZiksZz1uZXcgbXhQb2ludChjLmdldENlbnRlclgoKSxjLmdldENlbnRlclkoKSk7YT1teFV0aWxzLmdldFJvdGF0ZWRQb2ludChhLGUsZixnKX12YXIgZz1mPTEsaz0wLGw9CjA7aWYodGhpcy5nZXRNb2RlbCgpLmlzVmVydGV4KGIuY2VsbCkpe3ZhciBtPWIuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfRkxJUEhdLG49Yi5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9GTElQVl07bnVsbCE9Yi5zaGFwZSYmbnVsbCE9Yi5zaGFwZS5zdGVuY2lsJiYobT0xPT1teFV0aWxzLmdldFZhbHVlKGIuc3R5bGUsInN0ZW5jaWxGbGlwSCIsMCl8fG0sbj0xPT1teFV0aWxzLmdldFZhbHVlKGIuc3R5bGUsInN0ZW5jaWxGbGlwViIsMCl8fG4pO2lmKGQ9PW14Q29uc3RhbnRzLkRJUkVDVElPTl9OT1JUSHx8ZD09bXhDb25zdGFudHMuRElSRUNUSU9OX1NPVVRIKWU9bSxtPW4sbj1lO20mJihmPS0xLGs9LWMud2lkdGgpO24mJihnPS0xLGw9LWMuaGVpZ2h0KX1hPW5ldyBteFBvaW50KChhLngtYy54KSpmLWsrYy54LChhLnktYy55KSpnLWwrYy55KTtyZXR1cm4gbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMD09Yy53aWR0aD8wOk1hdGgucm91bmQoMUUzKgooYS54LWMueCkvYy53aWR0aCkvMUUzLDA9PWMuaGVpZ2h0PzA6TWF0aC5yb3VuZCgxRTMqKGEueS1jLnkpL2MuaGVpZ2h0KS8xRTMpLCExKX1yZXR1cm4gbnVsbH07bXhHcmFwaC5wcm90b3R5cGUuZ2V0QWxsQ29ubmVjdGlvbkNvbnN0cmFpbnRzPWZ1bmN0aW9uKGEsYil7cmV0dXJuIG51bGwhPWEmJm51bGwhPWEuc2hhcGUmJm51bGwhPWEuc2hhcGUuc3RlbmNpbD9hLnNoYXBlLnN0ZW5jaWwuY29uc3RyYWludHM6bnVsbH07Cm14R3JhcGgucHJvdG90eXBlLmdldENvbm5lY3Rpb25Db25zdHJhaW50PWZ1bmN0aW9uKGEsYixjKXtiPW51bGw7dmFyIGQ9YS5zdHlsZVtjP214Q29uc3RhbnRzLlNUWUxFX0VYSVRfWDpteENvbnN0YW50cy5TVFlMRV9FTlRSWV9YXTtpZihudWxsIT1kKXt2YXIgZT1hLnN0eWxlW2M/bXhDb25zdGFudHMuU1RZTEVfRVhJVF9ZOm14Q29uc3RhbnRzLlNUWUxFX0VOVFJZX1ldO251bGwhPWUmJihiPW5ldyBteFBvaW50KHBhcnNlRmxvYXQoZCkscGFyc2VGbG9hdChlKSkpfXZhciBkPSExLGY9ZT0wO251bGwhPWImJihkPW14VXRpbHMuZ2V0VmFsdWUoYS5zdHlsZSxjP214Q29uc3RhbnRzLlNUWUxFX0VYSVRfUEVSSU1FVEVSOm14Q29uc3RhbnRzLlNUWUxFX0VOVFJZX1BFUklNRVRFUiwhMCksZT1wYXJzZUZsb2F0KGEuc3R5bGVbYz9teENvbnN0YW50cy5TVFlMRV9FWElUX0RYOm14Q29uc3RhbnRzLlNUWUxFX0VOVFJZX0RYXSksZj1wYXJzZUZsb2F0KGEuc3R5bGVbYz9teENvbnN0YW50cy5TVFlMRV9FWElUX0RZOgpteENvbnN0YW50cy5TVFlMRV9FTlRSWV9EWV0pLGU9aXNGaW5pdGUoZSk/ZTowLGY9aXNGaW5pdGUoZik/ZjowKTtyZXR1cm4gbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQoYixkLG51bGwsZSxmKX07Cm14R3JhcGgucHJvdG90eXBlLnNldENvbm5lY3Rpb25Db25zdHJhaW50PWZ1bmN0aW9uKGEsYixjLGQpe2lmKG51bGwhPWQpe3RoaXMubW9kZWwuYmVnaW5VcGRhdGUoKTt0cnl7bnVsbD09ZHx8bnVsbD09ZC5wb2ludD8odGhpcy5zZXRDZWxsU3R5bGVzKGM/bXhDb25zdGFudHMuU1RZTEVfRVhJVF9YOm14Q29uc3RhbnRzLlNUWUxFX0VOVFJZX1gsbnVsbCxbYV0pLHRoaXMuc2V0Q2VsbFN0eWxlcyhjP214Q29uc3RhbnRzLlNUWUxFX0VYSVRfWTpteENvbnN0YW50cy5TVFlMRV9FTlRSWV9ZLG51bGwsW2FdKSx0aGlzLnNldENlbGxTdHlsZXMoYz9teENvbnN0YW50cy5TVFlMRV9FWElUX0RYOm14Q29uc3RhbnRzLlNUWUxFX0VOVFJZX0RYLG51bGwsW2FdKSx0aGlzLnNldENlbGxTdHlsZXMoYz9teENvbnN0YW50cy5TVFlMRV9FWElUX0RZOm14Q29uc3RhbnRzLlNUWUxFX0VOVFJZX0RZLG51bGwsW2FdKSx0aGlzLnNldENlbGxTdHlsZXMoYz9teENvbnN0YW50cy5TVFlMRV9FWElUX1BFUklNRVRFUjoKbXhDb25zdGFudHMuU1RZTEVfRU5UUllfUEVSSU1FVEVSLG51bGwsW2FdKSk6bnVsbCE9ZC5wb2ludCYmKHRoaXMuc2V0Q2VsbFN0eWxlcyhjP214Q29uc3RhbnRzLlNUWUxFX0VYSVRfWDpteENvbnN0YW50cy5TVFlMRV9FTlRSWV9YLGQucG9pbnQueCxbYV0pLHRoaXMuc2V0Q2VsbFN0eWxlcyhjP214Q29uc3RhbnRzLlNUWUxFX0VYSVRfWTpteENvbnN0YW50cy5TVFlMRV9FTlRSWV9ZLGQucG9pbnQueSxbYV0pLHRoaXMuc2V0Q2VsbFN0eWxlcyhjP214Q29uc3RhbnRzLlNUWUxFX0VYSVRfRFg6bXhDb25zdGFudHMuU1RZTEVfRU5UUllfRFgsZC5keCxbYV0pLHRoaXMuc2V0Q2VsbFN0eWxlcyhjP214Q29uc3RhbnRzLlNUWUxFX0VYSVRfRFk6bXhDb25zdGFudHMuU1RZTEVfRU5UUllfRFksZC5keSxbYV0pLGQucGVyaW1ldGVyP3RoaXMuc2V0Q2VsbFN0eWxlcyhjP214Q29uc3RhbnRzLlNUWUxFX0VYSVRfUEVSSU1FVEVSOm14Q29uc3RhbnRzLlNUWUxFX0VOVFJZX1BFUklNRVRFUiwKbnVsbCxbYV0pOnRoaXMuc2V0Q2VsbFN0eWxlcyhjP214Q29uc3RhbnRzLlNUWUxFX0VYSVRfUEVSSU1FVEVSOm14Q29uc3RhbnRzLlNUWUxFX0VOVFJZX1BFUklNRVRFUiwiMCIsW2FdKSl9ZmluYWxseXt0aGlzLm1vZGVsLmVuZFVwZGF0ZSgpfX19OwpteEdyYXBoLnByb3RvdHlwZS5nZXRDb25uZWN0aW9uUG9pbnQ9ZnVuY3Rpb24oYSxiLGMpe2M9bnVsbCE9Yz9jOiEwO3ZhciBkPW51bGw7aWYobnVsbCE9YSYmbnVsbCE9Yi5wb2ludCl7dmFyIGU9dGhpcy52aWV3LmdldFBlcmltZXRlckJvdW5kcyhhKSxmPW5ldyBteFBvaW50KGUuZ2V0Q2VudGVyWCgpLGUuZ2V0Q2VudGVyWSgpKSxnPWEuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfRElSRUNUSU9OXSxrPTA7bnVsbCE9ZyYmMT09bXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0FOQ0hPUl9QT0lOVF9ESVJFQ1RJT04sMSkmJihnPT1teENvbnN0YW50cy5ESVJFQ1RJT05fTk9SVEg/ays9MjcwOmc9PW14Q29uc3RhbnRzLkRJUkVDVElPTl9XRVNUP2srPTE4MDpnPT1teENvbnN0YW50cy5ESVJFQ1RJT05fU09VVEgmJihrKz05MCksZyE9bXhDb25zdGFudHMuRElSRUNUSU9OX05PUlRIJiZnIT1teENvbnN0YW50cy5ESVJFQ1RJT05fU09VVEh8fGUucm90YXRlOTAoKSk7CnZhciBkPXRoaXMudmlldy5zY2FsZSxkPW5ldyBteFBvaW50KGUueCtiLnBvaW50LngqZS53aWR0aCtiLmR4KmQsZS55K2IucG9pbnQueSplLmhlaWdodCtiLmR5KmQpLGw9YS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9ST1RBVElPTl18fDA7aWYoYi5wZXJpbWV0ZXIpMCE9ayYmKGc9ZT0wLDkwPT1rP2c9MToxODA9PWs/ZT0tMToyNzA9PWsmJihnPS0xKSxkPW14VXRpbHMuZ2V0Um90YXRlZFBvaW50KGQsZSxnLGYpKSxkPXRoaXMudmlldy5nZXRQZXJpbWV0ZXJQb2ludChhLGQsITEpO2Vsc2UgaWYobCs9ayx0aGlzLmdldE1vZGVsKCkuaXNWZXJ0ZXgoYS5jZWxsKSl7az0xPT1hLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX0ZMSVBIXTtiPTE9PWEuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfRkxJUFZdO251bGwhPWEuc2hhcGUmJm51bGwhPWEuc2hhcGUuc3RlbmNpbCYmKGs9MT09bXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLCJzdGVuY2lsRmxpcEgiLDApfHxrLGI9MT09bXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLAoic3RlbmNpbEZsaXBWIiwwKXx8Yik7aWYoZz09bXhDb25zdGFudHMuRElSRUNUSU9OX05PUlRIfHxnPT1teENvbnN0YW50cy5ESVJFQ1RJT05fU09VVEgpYT1rLGs9YixiPWE7ayYmKGQueD0yKmUuZ2V0Q2VudGVyWCgpLWQueCk7YiYmKGQueT0yKmUuZ2V0Q2VudGVyWSgpLWQueSl9MCE9bCYmbnVsbCE9ZCYmKGE9bXhVdGlscy50b1JhZGlhbnMobCksZT1NYXRoLmNvcyhhKSxnPU1hdGguc2luKGEpLGQ9bXhVdGlscy5nZXRSb3RhdGVkUG9pbnQoZCxlLGcsZikpfWMmJm51bGwhPWQmJihkLng9TWF0aC5yb3VuZChkLngpLGQueT1NYXRoLnJvdW5kKGQueSkpO3JldHVybiBkfTsKbXhHcmFwaC5wcm90b3R5cGUuY29ubmVjdENlbGw9ZnVuY3Rpb24oYSxiLGMsZCl7dGhpcy5tb2RlbC5iZWdpblVwZGF0ZSgpO3RyeXt2YXIgZT10aGlzLm1vZGVsLmdldFRlcm1pbmFsKGEsYyk7dGhpcy5jZWxsQ29ubmVjdGVkKGEsYixjLGQpO3RoaXMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KG14RXZlbnQuQ09OTkVDVF9DRUxMLCJlZGdlIixhLCJ0ZXJtaW5hbCIsYiwic291cmNlIixjLCJwcmV2aW91cyIsZSkpfWZpbmFsbHl7dGhpcy5tb2RlbC5lbmRVcGRhdGUoKX1yZXR1cm4gYX07Cm14R3JhcGgucHJvdG90eXBlLmNlbGxDb25uZWN0ZWQ9ZnVuY3Rpb24oYSxiLGMsZCl7aWYobnVsbCE9YSl7dGhpcy5tb2RlbC5iZWdpblVwZGF0ZSgpO3RyeXt2YXIgZT10aGlzLm1vZGVsLmdldFRlcm1pbmFsKGEsYyk7dGhpcy5zZXRDb25uZWN0aW9uQ29uc3RyYWludChhLGIsYyxkKTt0aGlzLmlzUG9ydHNFbmFibGVkKCkmJihkPW51bGwsdGhpcy5pc1BvcnQoYikmJihkPWIuZ2V0SWQoKSxiPXRoaXMuZ2V0VGVybWluYWxGb3JQb3J0KGIsYykpLHRoaXMuc2V0Q2VsbFN0eWxlcyhjP214Q29uc3RhbnRzLlNUWUxFX1NPVVJDRV9QT1JUOm14Q29uc3RhbnRzLlNUWUxFX1RBUkdFVF9QT1JULGQsW2FdKSk7dGhpcy5tb2RlbC5zZXRUZXJtaW5hbChhLGIsYyk7dGhpcy5yZXNldEVkZ2VzT25Db25uZWN0JiZ0aGlzLnJlc2V0RWRnZShhKTt0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LkNFTExfQ09OTkVDVEVELCJlZGdlIixhLCJ0ZXJtaW5hbCIsYiwic291cmNlIiwKYywicHJldmlvdXMiLGUpKX1maW5hbGx5e3RoaXMubW9kZWwuZW5kVXBkYXRlKCl9fX07Cm14R3JhcGgucHJvdG90eXBlLmRpc2Nvbm5lY3RHcmFwaD1mdW5jdGlvbihhKXtpZihudWxsIT1hKXt0aGlzLm1vZGVsLmJlZ2luVXBkYXRlKCk7dHJ5e2Zvcih2YXIgYj10aGlzLnZpZXcuc2NhbGUsYz10aGlzLnZpZXcudHJhbnNsYXRlLGQ9bmV3IG14RGljdGlvbmFyeSxlPTA7ZTxhLmxlbmd0aDtlKyspZC5wdXQoYVtlXSwhMCk7Zm9yKGU9MDtlPGEubGVuZ3RoO2UrKylpZih0aGlzLm1vZGVsLmlzRWRnZShhW2VdKSl7dmFyIGY9dGhpcy5tb2RlbC5nZXRHZW9tZXRyeShhW2VdKTtpZihudWxsIT1mKXt2YXIgZz10aGlzLnZpZXcuZ2V0U3RhdGUoYVtlXSksaz10aGlzLnZpZXcuZ2V0U3RhdGUodGhpcy5tb2RlbC5nZXRQYXJlbnQoYVtlXSkpO2lmKG51bGwhPWcmJm51bGwhPWspe3ZhciBmPWYuY2xvbmUoKSxsPS1rLm9yaWdpbi54LG09LWsub3JpZ2luLnksbj1nLmFic29sdXRlUG9pbnRzLHA9dGhpcy5tb2RlbC5nZXRUZXJtaW5hbChhW2VdLCEwKTtpZihudWxsIT1wJiZ0aGlzLmlzQ2VsbERpc2Nvbm5lY3RhYmxlKGFbZV0sCnAsITApKXtmb3IoO251bGwhPXAmJiFkLmdldChwKTspcD10aGlzLm1vZGVsLmdldFBhcmVudChwKTtudWxsPT1wJiYoZi5zZXRUZXJtaW5hbFBvaW50KG5ldyBteFBvaW50KG5bMF0ueC9iLWMueCtsLG5bMF0ueS9iLWMueSttKSwhMCksdGhpcy5tb2RlbC5zZXRUZXJtaW5hbChhW2VdLG51bGwsITApKX12YXIgcT10aGlzLm1vZGVsLmdldFRlcm1pbmFsKGFbZV0sITEpO2lmKG51bGwhPXEmJnRoaXMuaXNDZWxsRGlzY29ubmVjdGFibGUoYVtlXSxxLCExKSl7Zm9yKDtudWxsIT1xJiYhZC5nZXQocSk7KXE9dGhpcy5tb2RlbC5nZXRQYXJlbnQocSk7aWYobnVsbD09cSl7dmFyIHI9bi5sZW5ndGgtMTtmLnNldFRlcm1pbmFsUG9pbnQobmV3IG14UG9pbnQobltyXS54L2ItYy54K2wsbltyXS55L2ItYy55K20pLCExKTt0aGlzLm1vZGVsLnNldFRlcm1pbmFsKGFbZV0sbnVsbCwhMSl9fXRoaXMubW9kZWwuc2V0R2VvbWV0cnkoYVtlXSxmKX19fX1maW5hbGx5e3RoaXMubW9kZWwuZW5kVXBkYXRlKCl9fX07Cm14R3JhcGgucHJvdG90eXBlLmdldEN1cnJlbnRSb290PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmlldy5jdXJyZW50Um9vdH07bXhHcmFwaC5wcm90b3R5cGUuZ2V0VHJhbnNsYXRlRm9yUm9vdD1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbH07bXhHcmFwaC5wcm90b3R5cGUuaXNQb3J0PWZ1bmN0aW9uKGEpe3JldHVybiExfTtteEdyYXBoLnByb3RvdHlwZS5nZXRUZXJtaW5hbEZvclBvcnQ9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5tb2RlbC5nZXRQYXJlbnQoYSl9O214R3JhcGgucHJvdG90eXBlLmdldENoaWxkT2Zmc2V0Rm9yQ2VsbD1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbH07bXhHcmFwaC5wcm90b3R5cGUuZW50ZXJHcm91cD1mdW5jdGlvbihhKXthPWF8fHRoaXMuZ2V0U2VsZWN0aW9uQ2VsbCgpO251bGwhPWEmJnRoaXMuaXNWYWxpZFJvb3QoYSkmJih0aGlzLnZpZXcuc2V0Q3VycmVudFJvb3QoYSksdGhpcy5jbGVhclNlbGVjdGlvbigpKX07Cm14R3JhcGgucHJvdG90eXBlLmV4aXRHcm91cD1mdW5jdGlvbigpe3ZhciBhPXRoaXMubW9kZWwuZ2V0Um9vdCgpLGI9dGhpcy5nZXRDdXJyZW50Um9vdCgpO2lmKG51bGwhPWIpe2Zvcih2YXIgYz10aGlzLm1vZGVsLmdldFBhcmVudChiKTtjIT1hJiYhdGhpcy5pc1ZhbGlkUm9vdChjKSYmdGhpcy5tb2RlbC5nZXRQYXJlbnQoYykhPWE7KWM9dGhpcy5tb2RlbC5nZXRQYXJlbnQoYyk7Yz09YXx8dGhpcy5tb2RlbC5nZXRQYXJlbnQoYyk9PWE/dGhpcy52aWV3LnNldEN1cnJlbnRSb290KG51bGwpOnRoaXMudmlldy5zZXRDdXJyZW50Um9vdChjKTtudWxsIT10aGlzLnZpZXcuZ2V0U3RhdGUoYikmJnRoaXMuc2V0U2VsZWN0aW9uQ2VsbChiKX19O214R3JhcGgucHJvdG90eXBlLmhvbWU9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldEN1cnJlbnRSb290KCk7bnVsbCE9YSYmKHRoaXMudmlldy5zZXRDdXJyZW50Um9vdChudWxsKSxudWxsIT10aGlzLnZpZXcuZ2V0U3RhdGUoYSkmJnRoaXMuc2V0U2VsZWN0aW9uQ2VsbChhKSl9OwpteEdyYXBoLnByb3RvdHlwZS5pc1ZhbGlkUm9vdD1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YX07bXhHcmFwaC5wcm90b3R5cGUuZ2V0R3JhcGhCb3VuZHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52aWV3LmdldEdyYXBoQm91bmRzKCl9O214R3JhcGgucHJvdG90eXBlLmdldENlbGxCb3VuZHM9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPVthXTtiJiYoZD1kLmNvbmNhdCh0aGlzLm1vZGVsLmdldEVkZ2VzKGEpKSk7ZD10aGlzLnZpZXcuZ2V0Qm91bmRzKGQpO2lmKGMpe2M9dGhpcy5tb2RlbC5nZXRDaGlsZENvdW50KGEpO2Zvcih2YXIgZT0wO2U8YztlKyspe3ZhciBmPXRoaXMuZ2V0Q2VsbEJvdW5kcyh0aGlzLm1vZGVsLmdldENoaWxkQXQoYSxlKSxiLCEwKTtudWxsIT1kP2QuYWRkKGYpOmQ9Zn19cmV0dXJuIGR9OwpteEdyYXBoLnByb3RvdHlwZS5nZXRCb3VuZGluZ0JveEZyb21HZW9tZXRyeT1mdW5jdGlvbihhLGIpe2I9bnVsbCE9Yj9iOiExO3ZhciBjPW51bGw7aWYobnVsbCE9YSlmb3IodmFyIGQ9MDtkPGEubGVuZ3RoO2QrKylpZihifHx0aGlzLm1vZGVsLmlzVmVydGV4KGFbZF0pKXt2YXIgZT10aGlzLmdldENlbGxHZW9tZXRyeShhW2RdKTtpZihudWxsIT1lKXt2YXIgZj1udWxsO2lmKHRoaXMubW9kZWwuaXNFZGdlKGFbZF0pKXtmPWZ1bmN0aW9uKGEpe251bGwhPWEmJihudWxsPT1nP2c9bmV3IG14UmVjdGFuZ2xlKGEueCxhLnksMCwwKTpnLmFkZChuZXcgbXhSZWN0YW5nbGUoYS54LGEueSwwLDApKSl9O251bGw9PXRoaXMubW9kZWwuZ2V0VGVybWluYWwoYVtkXSwhMCkmJmYoZS5nZXRUZXJtaW5hbFBvaW50KCEwKSk7bnVsbD09dGhpcy5tb2RlbC5nZXRUZXJtaW5hbChhW2RdLCExKSYmZihlLmdldFRlcm1pbmFsUG9pbnQoITEpKTtlPWUucG9pbnRzO2lmKG51bGwhPWUmJjA8ZS5sZW5ndGgpZm9yKHZhciBnPQpuZXcgbXhSZWN0YW5nbGUoZVswXS54LGVbMF0ueSwwLDApLGs9MTtrPGUubGVuZ3RoO2srKylmKGVba10pO2Y9Z31lbHNlIGs9dGhpcy5tb2RlbC5nZXRQYXJlbnQoYVtkXSksZS5yZWxhdGl2ZT90aGlzLm1vZGVsLmlzVmVydGV4KGspJiZrIT10aGlzLnZpZXcuY3VycmVudFJvb3QmJihnPXRoaXMuZ2V0Qm91bmRpbmdCb3hGcm9tR2VvbWV0cnkoW2tdLCExKSxudWxsIT1nJiYoZj1uZXcgbXhSZWN0YW5nbGUoZS54Kmcud2lkdGgsZS55KmcuaGVpZ2h0LGUud2lkdGgsZS5oZWlnaHQpLDA8PW14VXRpbHMuaW5kZXhPZihhLGspJiYoZi54Kz1nLngsZi55Kz1nLnkpKSk6KGY9bXhSZWN0YW5nbGUuZnJvbVJlY3RhbmdsZShlKSx0aGlzLm1vZGVsLmlzVmVydGV4KGspJiYwPD1teFV0aWxzLmluZGV4T2YoYSxrKSYmKGc9dGhpcy5nZXRCb3VuZGluZ0JveEZyb21HZW9tZXRyeShba10sITEpLG51bGwhPWcmJihmLngrPWcueCxmLnkrPWcueSkpKSxudWxsIT1mJiZudWxsIT1lLm9mZnNldCYmCihmLngrPWUub2Zmc2V0LngsZi55Kz1lLm9mZnNldC55KSxlPXRoaXMuZ2V0Q3VycmVudENlbGxTdHlsZShhW2RdKSxudWxsIT1mJiYoZT1teFV0aWxzLmdldFZhbHVlKGUsbXhDb25zdGFudHMuU1RZTEVfUk9UQVRJT04sMCksMCE9ZSYmKGY9bXhVdGlscy5nZXRCb3VuZGluZ0JveChmLGUpKSk7bnVsbCE9ZiYmKG51bGw9PWM/Yz1teFJlY3RhbmdsZS5mcm9tUmVjdGFuZ2xlKGYpOmMuYWRkKGYpKX19cmV0dXJuIGN9O214R3JhcGgucHJvdG90eXBlLnJlZnJlc2g9ZnVuY3Rpb24oYSl7dGhpcy52aWV3LmNsZWFyKGEsbnVsbD09YSk7dGhpcy52aWV3LnZhbGlkYXRlKCk7dGhpcy5zaXplRGlkQ2hhbmdlKCk7dGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5SRUZSRVNIKSl9O214R3JhcGgucHJvdG90eXBlLnNuYXA9ZnVuY3Rpb24oYSl7dGhpcy5ncmlkRW5hYmxlZCYmKGE9TWF0aC5yb3VuZChhL3RoaXMuZ3JpZFNpemUpKnRoaXMuZ3JpZFNpemUpO3JldHVybiBhfTsKbXhHcmFwaC5wcm90b3R5cGUuc25hcERlbHRhPWZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9dGhpcy52aWV3LnRyYW5zbGF0ZSxnPXRoaXMudmlldy5zY2FsZTshYyYmdGhpcy5ncmlkRW5hYmxlZD8oYz10aGlzLmdyaWRTaXplKmcqLjUsZHx8KGQ9Yi54LSh0aGlzLnNuYXAoYi54L2ctZi54KStmLngpKmcsYS54PU1hdGguYWJzKGEueC1kKTxjPzA6dGhpcy5zbmFwKGEueC9nKSpnLWQpLGV8fChiPWIueS0odGhpcy5zbmFwKGIueS9nLWYueSkrZi55KSpnLGEueT1NYXRoLmFicyhhLnktYik8Yz8wOnRoaXMuc25hcChhLnkvZykqZy1iKSk6KGM9LjUqZyxkfHwoZD1iLngtKE1hdGgucm91bmQoYi54L2ctZi54KStmLngpKmcsYS54PU1hdGguYWJzKGEueC1kKTxjPzA6TWF0aC5yb3VuZChhLngvZykqZy1kKSxlfHwoYj1iLnktKE1hdGgucm91bmQoYi55L2ctZi55KStmLnkpKmcsYS55PU1hdGguYWJzKGEueS1iKTxjPzA6TWF0aC5yb3VuZChhLnkvZykqZy1iKSk7cmV0dXJuIGF9OwpteEdyYXBoLnByb3RvdHlwZS5wYW5HcmFwaD1mdW5jdGlvbihhLGIpe2lmKHRoaXMudXNlU2Nyb2xsYmFyc0ZvclBhbm5pbmcmJm14VXRpbHMuaGFzU2Nyb2xsYmFycyh0aGlzLmNvbnRhaW5lcikpdGhpcy5jb250YWluZXIuc2Nyb2xsTGVmdD0tYSx0aGlzLmNvbnRhaW5lci5zY3JvbGxUb3A9LWI7ZWxzZXt2YXIgYz10aGlzLnZpZXcuZ2V0Q2FudmFzKCk7aWYodGhpcy5kaWFsZWN0PT1teENvbnN0YW50cy5ESUFMRUNUX1NWRylpZigwPT1hJiYwPT1iKXtpZihteENsaWVudC5JU19JRT9jLnNldEF0dHJpYnV0ZSgidHJhbnNmb3JtIiwidHJhbnNsYXRlKCIrYSsiLCIrYisiKSIpOmMucmVtb3ZlQXR0cmlidXRlKCJ0cmFuc2Zvcm0iKSxudWxsIT10aGlzLnNoaWZ0UHJldmlldzEpe2Zvcih2YXIgZD10aGlzLnNoaWZ0UHJldmlldzEuZmlyc3RDaGlsZDtudWxsIT1kOyl7dmFyIGU9ZC5uZXh0U2libGluZzt0aGlzLmNvbnRhaW5lci5hcHBlbmRDaGlsZChkKTtkPWV9bnVsbCE9dGhpcy5zaGlmdFByZXZpZXcxLnBhcmVudE5vZGUmJgp0aGlzLnNoaWZ0UHJldmlldzEucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLnNoaWZ0UHJldmlldzEpO3RoaXMuc2hpZnRQcmV2aWV3MT1udWxsO3RoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKGMucGFyZW50Tm9kZSk7Zm9yKGQ9dGhpcy5zaGlmdFByZXZpZXcyLmZpcnN0Q2hpbGQ7bnVsbCE9ZDspZT1kLm5leHRTaWJsaW5nLHRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKGQpLGQ9ZTtudWxsIT10aGlzLnNoaWZ0UHJldmlldzIucGFyZW50Tm9kZSYmdGhpcy5zaGlmdFByZXZpZXcyLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5zaGlmdFByZXZpZXcyKTt0aGlzLnNoaWZ0UHJldmlldzI9bnVsbH19ZWxzZXtjLnNldEF0dHJpYnV0ZSgidHJhbnNmb3JtIiwidHJhbnNsYXRlKCIrYSsiLCIrYisiKSIpO2lmKG51bGw9PXRoaXMuc2hpZnRQcmV2aWV3MSl7dGhpcy5zaGlmdFByZXZpZXcxPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO3RoaXMuc2hpZnRQcmV2aWV3MS5zdHlsZS5wb3NpdGlvbj0KImFic29sdXRlIjt0aGlzLnNoaWZ0UHJldmlldzEuc3R5bGUub3ZlcmZsb3c9InZpc2libGUiO3RoaXMuc2hpZnRQcmV2aWV3Mj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTt0aGlzLnNoaWZ0UHJldmlldzIuc3R5bGUucG9zaXRpb249ImFic29sdXRlIjt0aGlzLnNoaWZ0UHJldmlldzIuc3R5bGUub3ZlcmZsb3c9InZpc2libGUiO2Zvcih2YXIgZj10aGlzLnNoaWZ0UHJldmlldzEsZD10aGlzLmNvbnRhaW5lci5maXJzdENoaWxkO251bGwhPWQ7KWU9ZC5uZXh0U2libGluZyxkIT1jLnBhcmVudE5vZGU/Zi5hcHBlbmRDaGlsZChkKTpmPXRoaXMuc2hpZnRQcmV2aWV3MixkPWU7bnVsbCE9dGhpcy5zaGlmdFByZXZpZXcxLmZpcnN0Q2hpbGQmJnRoaXMuY29udGFpbmVyLmluc2VydEJlZm9yZSh0aGlzLnNoaWZ0UHJldmlldzEsYy5wYXJlbnROb2RlKTtudWxsIT10aGlzLnNoaWZ0UHJldmlldzIuZmlyc3RDaGlsZCYmdGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5zaGlmdFByZXZpZXcyKX10aGlzLnNoaWZ0UHJldmlldzEuc3R5bGUubGVmdD0KYSsicHgiO3RoaXMuc2hpZnRQcmV2aWV3MS5zdHlsZS50b3A9YisicHgiO3RoaXMuc2hpZnRQcmV2aWV3Mi5zdHlsZS5sZWZ0PWErInB4Ijt0aGlzLnNoaWZ0UHJldmlldzIuc3R5bGUudG9wPWIrInB4In1lbHNlIGMuc3R5bGUubGVmdD1hKyJweCIsYy5zdHlsZS50b3A9YisicHgiO3RoaXMucGFuRHg9YTt0aGlzLnBhbkR5PWI7dGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5QQU4pKX19O214R3JhcGgucHJvdG90eXBlLnpvb21Jbj1mdW5jdGlvbigpe3RoaXMuem9vbSh0aGlzLnpvb21GYWN0b3IpfTtteEdyYXBoLnByb3RvdHlwZS56b29tT3V0PWZ1bmN0aW9uKCl7dGhpcy56b29tKDEvdGhpcy56b29tRmFjdG9yKX07Cm14R3JhcGgucHJvdG90eXBlLnpvb21BY3R1YWw9ZnVuY3Rpb24oKXsxPT10aGlzLnZpZXcuc2NhbGU/dGhpcy52aWV3LnNldFRyYW5zbGF0ZSgwLDApOih0aGlzLnZpZXcudHJhbnNsYXRlLng9MCx0aGlzLnZpZXcudHJhbnNsYXRlLnk9MCx0aGlzLnZpZXcuc2V0U2NhbGUoMSkpfTtteEdyYXBoLnByb3RvdHlwZS56b29tVG89ZnVuY3Rpb24oYSxiKXt0aGlzLnpvb20oYS90aGlzLnZpZXcuc2NhbGUsYil9OwpteEdyYXBoLnByb3RvdHlwZS5jZW50ZXI9ZnVuY3Rpb24oYSxiLGMsZCl7YT1udWxsIT1hP2E6ITA7Yj1udWxsIT1iP2I6ITA7Yz1udWxsIT1jP2M6LjU7ZD1udWxsIT1kP2Q6LjU7dmFyIGU9bXhVdGlscy5oYXNTY3JvbGxiYXJzKHRoaXMuY29udGFpbmVyKSxmPTIqdGhpcy5nZXRCb3JkZXIoKSxnPXRoaXMuY29udGFpbmVyLmNsaWVudFdpZHRoLWYsZj10aGlzLmNvbnRhaW5lci5jbGllbnRIZWlnaHQtZixrPXRoaXMuZ2V0R3JhcGhCb3VuZHMoKSxsPXRoaXMudmlldy50cmFuc2xhdGUsbT10aGlzLnZpZXcuc2NhbGUsbj1hP2ctay53aWR0aDowLHA9Yj9mLWsuaGVpZ2h0OjA7ZT8oay54LT1sLngsay55LT1sLnksYT10aGlzLmNvbnRhaW5lci5zY3JvbGxXaWR0aCxiPXRoaXMuY29udGFpbmVyLnNjcm9sbEhlaWdodCxhPmcmJihuPTApLGI+ZiYmKHA9MCksdGhpcy52aWV3LnNldFRyYW5zbGF0ZShNYXRoLmZsb29yKG4vMi1rLngpLE1hdGguZmxvb3IocC8yLWsueSkpLHRoaXMuY29udGFpbmVyLnNjcm9sbExlZnQ9CihhLWcpLzIsdGhpcy5jb250YWluZXIuc2Nyb2xsVG9wPShiLWYpLzIpOnRoaXMudmlldy5zZXRUcmFuc2xhdGUoYT9NYXRoLmZsb29yKGwueC1rLngqbStuKmMvbSk6bC54LGI/TWF0aC5mbG9vcihsLnktay55Km0rcCpkL20pOmwueSl9OwpteEdyYXBoLnByb3RvdHlwZS56b29tPWZ1bmN0aW9uKGEsYil7Yj1udWxsIT1iP2I6dGhpcy5jZW50ZXJab29tO3ZhciBjPU1hdGgucm91bmQodGhpcy52aWV3LnNjYWxlKmEqMTAwKS8xMDAsZD10aGlzLnZpZXcuZ2V0U3RhdGUodGhpcy5nZXRTZWxlY3Rpb25DZWxsKCkpO2E9Yy90aGlzLnZpZXcuc2NhbGU7aWYodGhpcy5rZWVwU2VsZWN0aW9uVmlzaWJsZU9uWm9vbSYmbnVsbCE9ZClkPW5ldyBteFJlY3RhbmdsZShkLngqYSxkLnkqYSxkLndpZHRoKmEsZC5oZWlnaHQqYSksdGhpcy52aWV3LnNjYWxlPWMsdGhpcy5zY3JvbGxSZWN0VG9WaXNpYmxlKGQpfHwodGhpcy52aWV3LnJldmFsaWRhdGUoKSx0aGlzLnZpZXcuc2V0U2NhbGUoYykpO2Vsc2UgaWYoZD1teFV0aWxzLmhhc1Njcm9sbGJhcnModGhpcy5jb250YWluZXIpLGImJiFkKXt2YXIgZD10aGlzLmNvbnRhaW5lci5vZmZzZXRXaWR0aCxlPXRoaXMuY29udGFpbmVyLm9mZnNldEhlaWdodDtpZigxPGEpdmFyIGY9KGEtMSkvCigyKmMpLGQ9ZCotZixlPWUqLWY7ZWxzZSBmPSgxL2EtMSkvKDIqdGhpcy52aWV3LnNjYWxlKSxkKj1mLGUqPWY7dGhpcy52aWV3LnNjYWxlQW5kVHJhbnNsYXRlKGMsdGhpcy52aWV3LnRyYW5zbGF0ZS54K2QsdGhpcy52aWV3LnRyYW5zbGF0ZS55K2UpfWVsc2V7dmFyIGY9dGhpcy52aWV3LnRyYW5zbGF0ZS54LGc9dGhpcy52aWV3LnRyYW5zbGF0ZS55LGs9dGhpcy5jb250YWluZXIuc2Nyb2xsTGVmdCxsPXRoaXMuY29udGFpbmVyLnNjcm9sbFRvcDt0aGlzLnZpZXcuc2V0U2NhbGUoYyk7ZCYmKGU9ZD0wLGImJihkPXRoaXMuY29udGFpbmVyLm9mZnNldFdpZHRoKihhLTEpLzIsZT10aGlzLmNvbnRhaW5lci5vZmZzZXRIZWlnaHQqKGEtMSkvMiksdGhpcy5jb250YWluZXIuc2Nyb2xsTGVmdD0odGhpcy52aWV3LnRyYW5zbGF0ZS54LWYpKnRoaXMudmlldy5zY2FsZStNYXRoLnJvdW5kKGsqYStkKSx0aGlzLmNvbnRhaW5lci5zY3JvbGxUb3A9KHRoaXMudmlldy50cmFuc2xhdGUueS0KZykqdGhpcy52aWV3LnNjYWxlK01hdGgucm91bmQobCphK2UpKX19OwpteEdyYXBoLnByb3RvdHlwZS56b29tVG9SZWN0PWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY29udGFpbmVyLmNsaWVudFdpZHRoL2Eud2lkdGgvKHRoaXMuY29udGFpbmVyLmNsaWVudEhlaWdodC9hLmhlaWdodCk7YS54PU1hdGgubWF4KDAsYS54KTthLnk9TWF0aC5tYXgoMCxhLnkpO3ZhciBjPU1hdGgubWluKHRoaXMuY29udGFpbmVyLnNjcm9sbFdpZHRoLGEueCthLndpZHRoKSxkPU1hdGgubWluKHRoaXMuY29udGFpbmVyLnNjcm9sbEhlaWdodCxhLnkrYS5oZWlnaHQpO2Eud2lkdGg9Yy1hLng7YS5oZWlnaHQ9ZC1hLnk7MT5iPyhiPWEuaGVpZ2h0L2IsYz0oYi1hLmhlaWdodCkvMixhLmhlaWdodD1iLGEueS09TWF0aC5taW4oYS55LGMpLGQ9TWF0aC5taW4odGhpcy5jb250YWluZXIuc2Nyb2xsSGVpZ2h0LGEueSthLmhlaWdodCksYS5oZWlnaHQ9ZC1hLnkpOihiKj1hLndpZHRoLGM9KGItYS53aWR0aCkvMixhLndpZHRoPWIsYS54LT1NYXRoLm1pbihhLngsYyksYz1NYXRoLm1pbih0aGlzLmNvbnRhaW5lci5zY3JvbGxXaWR0aCwKYS54K2Eud2lkdGgpLGEud2lkdGg9Yy1hLngpO2I9dGhpcy5jb250YWluZXIuY2xpZW50V2lkdGgvYS53aWR0aDtjPXRoaXMudmlldy5zY2FsZSpiO214VXRpbHMuaGFzU2Nyb2xsYmFycyh0aGlzLmNvbnRhaW5lcik/KHRoaXMudmlldy5zZXRTY2FsZShjKSx0aGlzLmNvbnRhaW5lci5zY3JvbGxMZWZ0PU1hdGgucm91bmQoYS54KmIpLHRoaXMuY29udGFpbmVyLnNjcm9sbFRvcD1NYXRoLnJvdW5kKGEueSpiKSk6dGhpcy52aWV3LnNjYWxlQW5kVHJhbnNsYXRlKGMsdGhpcy52aWV3LnRyYW5zbGF0ZS54LWEueC90aGlzLnZpZXcuc2NhbGUsdGhpcy52aWV3LnRyYW5zbGF0ZS55LWEueS90aGlzLnZpZXcuc2NhbGUpfTsKbXhHcmFwaC5wcm90b3R5cGUuc2Nyb2xsQ2VsbFRvVmlzaWJsZT1mdW5jdGlvbihhLGIpe3ZhciBjPS10aGlzLnZpZXcudHJhbnNsYXRlLngsZD0tdGhpcy52aWV3LnRyYW5zbGF0ZS55LGU9dGhpcy52aWV3LmdldFN0YXRlKGEpO251bGwhPWUmJihjPW5ldyBteFJlY3RhbmdsZShjK2UueCxkK2UueSxlLndpZHRoLGUuaGVpZ2h0KSxiJiZudWxsIT10aGlzLmNvbnRhaW5lciYmKGQ9dGhpcy5jb250YWluZXIuY2xpZW50V2lkdGgsZT10aGlzLmNvbnRhaW5lci5jbGllbnRIZWlnaHQsYy54PWMuZ2V0Q2VudGVyWCgpLWQvMixjLndpZHRoPWQsYy55PWMuZ2V0Q2VudGVyWSgpLWUvMixjLmhlaWdodD1lKSxkPW5ldyBteFBvaW50KHRoaXMudmlldy50cmFuc2xhdGUueCx0aGlzLnZpZXcudHJhbnNsYXRlLnkpLHRoaXMuc2Nyb2xsUmVjdFRvVmlzaWJsZShjKSYmKGM9bmV3IG14UG9pbnQodGhpcy52aWV3LnRyYW5zbGF0ZS54LHRoaXMudmlldy50cmFuc2xhdGUueSksdGhpcy52aWV3LnRyYW5zbGF0ZS54PQpkLngsdGhpcy52aWV3LnRyYW5zbGF0ZS55PWQueSx0aGlzLnZpZXcuc2V0VHJhbnNsYXRlKGMueCxjLnkpKSl9OwpteEdyYXBoLnByb3RvdHlwZS5zY3JvbGxSZWN0VG9WaXNpYmxlPWZ1bmN0aW9uKGEpe3ZhciBiPSExO2lmKG51bGwhPWEpe3ZhciBjPXRoaXMuY29udGFpbmVyLm9mZnNldFdpZHRoLGQ9dGhpcy5jb250YWluZXIub2Zmc2V0SGVpZ2h0LGU9TWF0aC5taW4oYyxhLndpZHRoKSxmPU1hdGgubWluKGQsYS5oZWlnaHQpO2lmKG14VXRpbHMuaGFzU2Nyb2xsYmFycyh0aGlzLmNvbnRhaW5lcikpe2M9dGhpcy5jb250YWluZXI7YS54Kz10aGlzLnZpZXcudHJhbnNsYXRlLng7YS55Kz10aGlzLnZpZXcudHJhbnNsYXRlLnk7dmFyIGc9Yy5zY3JvbGxMZWZ0LWEueCxkPU1hdGgubWF4KGctYy5zY3JvbGxMZWZ0LDApOzA8Zz9jLnNjcm9sbExlZnQtPWcrMjooZz1hLngrZS1jLnNjcm9sbExlZnQtYy5jbGllbnRXaWR0aCwwPGcmJihjLnNjcm9sbExlZnQrPWcrMikpO2U9Yy5zY3JvbGxUb3AtYS55O2c9TWF0aC5tYXgoMCxlLWMuc2Nyb2xsVG9wKTswPGU/Yy5zY3JvbGxUb3AtPWUrMjooZT1hLnkrCmYtYy5zY3JvbGxUb3AtYy5jbGllbnRIZWlnaHQsMDxlJiYoYy5zY3JvbGxUb3ArPWUrMikpO3RoaXMudXNlU2Nyb2xsYmFyc0ZvclBhbm5pbmd8fDA9PWQmJjA9PWd8fHRoaXMudmlldy5zZXRUcmFuc2xhdGUoZCxnKX1lbHNle3ZhciBnPS10aGlzLnZpZXcudHJhbnNsYXRlLngsaz0tdGhpcy52aWV3LnRyYW5zbGF0ZS55LGw9dGhpcy52aWV3LnNjYWxlO2EueCtlPmcrYyYmKHRoaXMudmlldy50cmFuc2xhdGUueC09KGEueCtlLWMtZykvbCxiPSEwKTthLnkrZj5rK2QmJih0aGlzLnZpZXcudHJhbnNsYXRlLnktPShhLnkrZi1kLWspL2wsYj0hMCk7YS54PGcmJih0aGlzLnZpZXcudHJhbnNsYXRlLngrPShnLWEueCkvbCxiPSEwKTthLnk8ayYmKHRoaXMudmlldy50cmFuc2xhdGUueSs9KGstYS55KS9sLGI9ITApO2ImJih0aGlzLnZpZXcucmVmcmVzaCgpLG51bGwhPXRoaXMuc2VsZWN0aW9uQ2VsbHNIYW5kbGVyJiZ0aGlzLnNlbGVjdGlvbkNlbGxzSGFuZGxlci5yZWZyZXNoKCkpfX1yZXR1cm4gYn07Cm14R3JhcGgucHJvdG90eXBlLmdldENlbGxHZW9tZXRyeT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5tb2RlbC5nZXRHZW9tZXRyeShhKX07bXhHcmFwaC5wcm90b3R5cGUuaXNDZWxsVmlzaWJsZT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5tb2RlbC5pc1Zpc2libGUoYSl9O214R3JhcGgucHJvdG90eXBlLmlzQ2VsbENvbGxhcHNlZD1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5tb2RlbC5pc0NvbGxhcHNlZChhKX07bXhHcmFwaC5wcm90b3R5cGUuaXNDZWxsQ29ubmVjdGFibGU9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMubW9kZWwuaXNDb25uZWN0YWJsZShhKX07Cm14R3JhcGgucHJvdG90eXBlLmlzT3J0aG9nb25hbD1mdW5jdGlvbihhKXt2YXIgYj1hLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX09SVEhPR09OQUxdO2lmKG51bGwhPWIpcmV0dXJuIGI7YT10aGlzLnZpZXcuZ2V0RWRnZVN0eWxlKGEpO3JldHVybiBhPT1teEVkZ2VTdHlsZS5TZWdtZW50Q29ubmVjdG9yfHxhPT1teEVkZ2VTdHlsZS5FbGJvd0Nvbm5lY3Rvcnx8YT09bXhFZGdlU3R5bGUuU2lkZVRvU2lkZXx8YT09bXhFZGdlU3R5bGUuVG9wVG9Cb3R0b218fGE9PW14RWRnZVN0eWxlLkVudGl0eVJlbGF0aW9ufHxhPT1teEVkZ2VTdHlsZS5PcnRoQ29ubmVjdG9yfTtteEdyYXBoLnByb3RvdHlwZS5pc0xvb3A9ZnVuY3Rpb24oYSl7dmFyIGI9YS5nZXRWaXNpYmxlVGVybWluYWxTdGF0ZSghMCk7YT1hLmdldFZpc2libGVUZXJtaW5hbFN0YXRlKCExKTtyZXR1cm4gbnVsbCE9YiYmYj09YX07bXhHcmFwaC5wcm90b3R5cGUuaXNDbG9uZUV2ZW50PWZ1bmN0aW9uKGEpe3JldHVybiBteEV2ZW50LmlzQ29udHJvbERvd24oYSl9OwpteEdyYXBoLnByb3RvdHlwZS5pc1RyYW5zcGFyZW50Q2xpY2tFdmVudD1mdW5jdGlvbihhKXtyZXR1cm4hMX07bXhHcmFwaC5wcm90b3R5cGUuaXNUb2dnbGVFdmVudD1mdW5jdGlvbihhKXtyZXR1cm4gbXhDbGllbnQuSVNfTUFDP214RXZlbnQuaXNNZXRhRG93bihhKTpteEV2ZW50LmlzQ29udHJvbERvd24oYSl9O214R3JhcGgucHJvdG90eXBlLmlzR3JpZEVuYWJsZWRFdmVudD1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YSYmIW14RXZlbnQuaXNBbHREb3duKGEpfTtteEdyYXBoLnByb3RvdHlwZS5pc0NvbnN0cmFpbmVkRXZlbnQ9ZnVuY3Rpb24oYSl7cmV0dXJuIG14RXZlbnQuaXNTaGlmdERvd24oYSl9O214R3JhcGgucHJvdG90eXBlLmlzSWdub3JlVGVybWluYWxFdmVudD1mdW5jdGlvbihhKXtyZXR1cm4hMX07bXhHcmFwaC5wcm90b3R5cGUudmFsaWRhdGlvbkFsZXJ0PWZ1bmN0aW9uKGEpe214VXRpbHMuYWxlcnQoYSl9OwpteEdyYXBoLnByb3RvdHlwZS5pc0VkZ2VWYWxpZD1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIG51bGw9PXRoaXMuZ2V0RWRnZVZhbGlkYXRpb25FcnJvcihhLGIsYyl9OwpteEdyYXBoLnByb3RvdHlwZS5nZXRFZGdlVmFsaWRhdGlvbkVycm9yPWZ1bmN0aW9uKGEsYixjKXtpZihudWxsIT1hJiYhdGhpcy5pc0FsbG93RGFuZ2xpbmdFZGdlcygpJiYobnVsbD09Ynx8bnVsbD09YykpcmV0dXJuIiI7aWYobnVsbCE9YSYmbnVsbD09dGhpcy5tb2RlbC5nZXRUZXJtaW5hbChhLCEwKSYmbnVsbD09dGhpcy5tb2RlbC5nZXRUZXJtaW5hbChhLCExKSlyZXR1cm4gbnVsbDtpZighdGhpcy5hbGxvd0xvb3BzJiZiPT1jJiZudWxsIT1ifHwhdGhpcy5pc1ZhbGlkQ29ubmVjdGlvbihiLGMpKXJldHVybiIiO2lmKG51bGwhPWImJm51bGwhPWMpe3ZhciBkPSIiO2lmKCF0aGlzLm11bHRpZ3JhcGgpe3ZhciBlPXRoaXMubW9kZWwuZ2V0RWRnZXNCZXR3ZWVuKGIsYywhMCk7aWYoMTxlLmxlbmd0aHx8MT09ZS5sZW5ndGgmJmVbMF0hPWEpZCs9KG14UmVzb3VyY2VzLmdldCh0aGlzLmFscmVhZHlDb25uZWN0ZWRSZXNvdXJjZSl8fHRoaXMuYWxyZWFkeUNvbm5lY3RlZFJlc291cmNlKSsKIlxuIn12YXIgZT10aGlzLm1vZGVsLmdldERpcmVjdGVkRWRnZUNvdW50KGIsITAsYSksZj10aGlzLm1vZGVsLmdldERpcmVjdGVkRWRnZUNvdW50KGMsITEsYSk7aWYobnVsbCE9dGhpcy5tdWx0aXBsaWNpdGllcylmb3IodmFyIGc9MDtnPHRoaXMubXVsdGlwbGljaXRpZXMubGVuZ3RoO2crKyl7dmFyIGs9dGhpcy5tdWx0aXBsaWNpdGllc1tnXS5jaGVjayh0aGlzLGEsYixjLGUsZik7bnVsbCE9ayYmKGQrPWspfWs9dGhpcy52YWxpZGF0ZUVkZ2UoYSxiLGMpO251bGwhPWsmJihkKz1rKTtyZXR1cm4gMDxkLmxlbmd0aD9kOm51bGx9cmV0dXJuIHRoaXMuYWxsb3dEYW5nbGluZ0VkZ2VzP251bGw6IiJ9O214R3JhcGgucHJvdG90eXBlLnZhbGlkYXRlRWRnZT1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIG51bGx9OwpteEdyYXBoLnByb3RvdHlwZS52YWxpZGF0ZUdyYXBoPWZ1bmN0aW9uKGEsYil7YT1udWxsIT1hP2E6dGhpcy5tb2RlbC5nZXRSb290KCk7Yj1udWxsIT1iP2I6e307Zm9yKHZhciBjPSEwLGQ9dGhpcy5tb2RlbC5nZXRDaGlsZENvdW50KGEpLGU9MDtlPGQ7ZSsrKXt2YXIgZj10aGlzLm1vZGVsLmdldENoaWxkQXQoYSxlKSxnPWI7dGhpcy5pc1ZhbGlkUm9vdChmKSYmKGc9e30pO2c9dGhpcy52YWxpZGF0ZUdyYXBoKGYsZyk7bnVsbCE9Zz90aGlzLnNldENlbGxXYXJuaW5nKGYsZy5yZXBsYWNlKC9cbi9nLCI8YnI+IikpOnRoaXMuc2V0Q2VsbFdhcm5pbmcoZixudWxsKTtjPWMmJm51bGw9PWd9ZD0iIjt0aGlzLmlzQ2VsbENvbGxhcHNlZChhKSYmIWMmJihkKz0obXhSZXNvdXJjZXMuZ2V0KHRoaXMuY29udGFpbnNWYWxpZGF0aW9uRXJyb3JzUmVzb3VyY2UpfHx0aGlzLmNvbnRhaW5zVmFsaWRhdGlvbkVycm9yc1Jlc291cmNlKSsiXG4iKTtkPXRoaXMubW9kZWwuaXNFZGdlKGEpP2QrCih0aGlzLmdldEVkZ2VWYWxpZGF0aW9uRXJyb3IoYSx0aGlzLm1vZGVsLmdldFRlcm1pbmFsKGEsITApLHRoaXMubW9kZWwuZ2V0VGVybWluYWwoYSwhMSkpfHwiIik6ZCsodGhpcy5nZXRDZWxsVmFsaWRhdGlvbkVycm9yKGEpfHwiIik7ZT10aGlzLnZhbGlkYXRlQ2VsbChhLGIpO251bGwhPWUmJihkKz1lKTtudWxsPT10aGlzLm1vZGVsLmdldFBhcmVudChhKSYmdGhpcy52aWV3LnZhbGlkYXRlKCk7cmV0dXJuIDA8ZC5sZW5ndGh8fCFjP2Q6bnVsbH07Cm14R3JhcGgucHJvdG90eXBlLmdldENlbGxWYWxpZGF0aW9uRXJyb3I9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5tb2RlbC5nZXREaXJlY3RlZEVkZ2VDb3VudChhLCEwKSxjPXRoaXMubW9kZWwuZ2V0RGlyZWN0ZWRFZGdlQ291bnQoYSwhMSk7YT10aGlzLm1vZGVsLmdldFZhbHVlKGEpO3ZhciBkPSIiO2lmKG51bGwhPXRoaXMubXVsdGlwbGljaXRpZXMpZm9yKHZhciBlPTA7ZTx0aGlzLm11bHRpcGxpY2l0aWVzLmxlbmd0aDtlKyspe3ZhciBmPXRoaXMubXVsdGlwbGljaXRpZXNbZV07Zi5zb3VyY2UmJm14VXRpbHMuaXNOb2RlKGEsZi50eXBlLGYuYXR0cixmLnZhbHVlKSYmKGI+Zi5tYXh8fGI8Zi5taW4pP2QrPWYuY291bnRFcnJvcisiXG4iOiFmLnNvdXJjZSYmbXhVdGlscy5pc05vZGUoYSxmLnR5cGUsZi5hdHRyLGYudmFsdWUpJiYoYz5mLm1heHx8YzxmLm1pbikmJihkKz1mLmNvdW50RXJyb3IrIlxuIil9cmV0dXJuIDA8ZC5sZW5ndGg/ZDpudWxsfTsKbXhHcmFwaC5wcm90b3R5cGUudmFsaWRhdGVDZWxsPWZ1bmN0aW9uKGEsYil7cmV0dXJuIG51bGx9O214R3JhcGgucHJvdG90eXBlLmdldEJhY2tncm91bmRJbWFnZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmJhY2tncm91bmRJbWFnZX07bXhHcmFwaC5wcm90b3R5cGUuc2V0QmFja2dyb3VuZEltYWdlPWZ1bmN0aW9uKGEpe3RoaXMuYmFja2dyb3VuZEltYWdlPWF9O214R3JhcGgucHJvdG90eXBlLmdldEZvbGRpbmdJbWFnZT1mdW5jdGlvbihhKXtpZihudWxsIT1hJiZ0aGlzLmZvbGRpbmdFbmFibGVkJiYhdGhpcy5nZXRNb2RlbCgpLmlzRWRnZShhLmNlbGwpKXt2YXIgYj10aGlzLmlzQ2VsbENvbGxhcHNlZChhLmNlbGwpO2lmKHRoaXMuaXNDZWxsRm9sZGFibGUoYS5jZWxsLCFiKSlyZXR1cm4gYj90aGlzLmNvbGxhcHNlZEltYWdlOnRoaXMuZXhwYW5kZWRJbWFnZX1yZXR1cm4gbnVsbH07Cm14R3JhcGgucHJvdG90eXBlLmNvbnZlcnRWYWx1ZVRvU3RyaW5nPWZ1bmN0aW9uKGEpe2E9dGhpcy5tb2RlbC5nZXRWYWx1ZShhKTtpZihudWxsIT1hKXtpZihteFV0aWxzLmlzTm9kZShhKSlyZXR1cm4gYS5ub2RlTmFtZTtpZigiZnVuY3Rpb24iPT10eXBlb2YgYS50b1N0cmluZylyZXR1cm4gYS50b1N0cmluZygpfXJldHVybiIifTtteEdyYXBoLnByb3RvdHlwZS5nZXRMYWJlbD1mdW5jdGlvbihhKXt2YXIgYj0iIjtpZih0aGlzLmxhYmVsc1Zpc2libGUmJm51bGwhPWEpe3ZhciBjPXRoaXMuZ2V0Q3VycmVudENlbGxTdHlsZShhKTtteFV0aWxzLmdldFZhbHVlKGMsbXhDb25zdGFudHMuU1RZTEVfTk9MQUJFTCwhMSl8fChiPXRoaXMuY29udmVydFZhbHVlVG9TdHJpbmcoYSkpfXJldHVybiBifTtteEdyYXBoLnByb3RvdHlwZS5pc0h0bWxMYWJlbD1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5pc0h0bWxMYWJlbHMoKX07bXhHcmFwaC5wcm90b3R5cGUuaXNIdG1sTGFiZWxzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaHRtbExhYmVsc307Cm14R3JhcGgucHJvdG90eXBlLnNldEh0bWxMYWJlbHM9ZnVuY3Rpb24oYSl7dGhpcy5odG1sTGFiZWxzPWF9O214R3JhcGgucHJvdG90eXBlLmlzV3JhcHBpbmc9ZnVuY3Rpb24oYSl7cmV0dXJuIndyYXAiPT10aGlzLmdldEN1cnJlbnRDZWxsU3R5bGUoYSlbbXhDb25zdGFudHMuU1RZTEVfV0hJVEVfU1BBQ0VdfTtteEdyYXBoLnByb3RvdHlwZS5pc0xhYmVsQ2xpcHBlZD1mdW5jdGlvbihhKXtyZXR1cm4iaGlkZGVuIj09dGhpcy5nZXRDdXJyZW50Q2VsbFN0eWxlKGEpW214Q29uc3RhbnRzLlNUWUxFX09WRVJGTE9XXX07Cm14R3JhcGgucHJvdG90eXBlLmdldFRvb2x0aXA9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9bnVsbDtudWxsIT1hJiYobnVsbD09YS5jb250cm9sfHxiIT1hLmNvbnRyb2wubm9kZSYmYi5wYXJlbnROb2RlIT1hLmNvbnRyb2wubm9kZXx8KGU9dGhpcy5jb2xsYXBzZUV4cGFuZFJlc291cmNlLGU9bXhVdGlscy5odG1sRW50aXRpZXMobXhSZXNvdXJjZXMuZ2V0KGUpfHxlKS5yZXBsYWNlKC9cXG4vZywiPGJyPiIpKSxudWxsPT1lJiZudWxsIT1hLm92ZXJsYXlzJiZhLm92ZXJsYXlzLnZpc2l0KGZ1bmN0aW9uKGEsYyl7bnVsbCE9ZXx8YiE9Yy5ub2RlJiZiLnBhcmVudE5vZGUhPWMubm9kZXx8KGU9Yy5vdmVybGF5LnRvU3RyaW5nKCkpfSksbnVsbD09ZSYmKGM9dGhpcy5zZWxlY3Rpb25DZWxsc0hhbmRsZXIuZ2V0SGFuZGxlcihhLmNlbGwpLG51bGwhPWMmJiJmdW5jdGlvbiI9PXR5cGVvZiBjLmdldFRvb2x0aXBGb3JOb2RlJiYoZT1jLmdldFRvb2x0aXBGb3JOb2RlKGIpKSksbnVsbD09CmUmJihlPXRoaXMuZ2V0VG9vbHRpcEZvckNlbGwoYS5jZWxsKSkpO3JldHVybiBlfTtteEdyYXBoLnByb3RvdHlwZS5nZXRUb29sdGlwRm9yQ2VsbD1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YSYmbnVsbCE9YS5nZXRUb29sdGlwP2EuZ2V0VG9vbHRpcCgpOnRoaXMuY29udmVydFZhbHVlVG9TdHJpbmcoYSl9O214R3JhcGgucHJvdG90eXBlLmdldExpbmtGb3JDZWxsPWZ1bmN0aW9uKGEpe3JldHVybiBudWxsfTtteEdyYXBoLnByb3RvdHlwZS5nZXRDdXJzb3JGb3JNb3VzZUV2ZW50PWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmdldEN1cnNvckZvckNlbGwoYS5nZXRDZWxsKCkpfTtteEdyYXBoLnByb3RvdHlwZS5nZXRDdXJzb3JGb3JDZWxsPWZ1bmN0aW9uKGEpe3JldHVybiBudWxsfTsKbXhHcmFwaC5wcm90b3R5cGUuZ2V0U3RhcnRTaXplPWZ1bmN0aW9uKGEsYil7dmFyIGM9bmV3IG14UmVjdGFuZ2xlLGQ9dGhpcy5nZXRDdXJyZW50Q2VsbFN0eWxlKGEsYiksZT1wYXJzZUludChteFV0aWxzLmdldFZhbHVlKGQsbXhDb25zdGFudHMuU1RZTEVfU1RBUlRTSVpFLG14Q29uc3RhbnRzLkRFRkFVTFRfU1RBUlRTSVpFKSk7bXhVdGlscy5nZXRWYWx1ZShkLG14Q29uc3RhbnRzLlNUWUxFX0hPUklaT05UQUwsITApP2MuaGVpZ2h0PWU6Yy53aWR0aD1lO3JldHVybiBjfTsKbXhHcmFwaC5wcm90b3R5cGUuZ2V0U3dpbWxhbmVEaXJlY3Rpb249ZnVuY3Rpb24oYSl7dmFyIGI9bXhVdGlscy5nZXRWYWx1ZShhLG14Q29uc3RhbnRzLlNUWUxFX0RJUkVDVElPTixteENvbnN0YW50cy5ESVJFQ1RJT05fRUFTVCksYz0xPT1teFV0aWxzLmdldFZhbHVlKGEsbXhDb25zdGFudHMuU1RZTEVfRkxJUEgsMCksZD0xPT1teFV0aWxzLmdldFZhbHVlKGEsbXhDb25zdGFudHMuU1RZTEVfRkxJUFYsMCk7YT1teFV0aWxzLmdldFZhbHVlKGEsbXhDb25zdGFudHMuU1RZTEVfSE9SSVpPTlRBTCwhMCk/MDozO2I9PW14Q29uc3RhbnRzLkRJUkVDVElPTl9OT1JUSD9hLS06Yj09bXhDb25zdGFudHMuRElSRUNUSU9OX1dFU1Q/YSs9MjpiPT1teENvbnN0YW50cy5ESVJFQ1RJT05fU09VVEgmJihhKz0xKTtiPW14VXRpbHMubW9kKGEsMik7YyYmMT09YiYmKGErPTIpO2QmJjA9PWImJihhKz0yKTtyZXR1cm5bbXhDb25zdGFudHMuRElSRUNUSU9OX05PUlRILG14Q29uc3RhbnRzLkRJUkVDVElPTl9FQVNULApteENvbnN0YW50cy5ESVJFQ1RJT05fU09VVEgsbXhDb25zdGFudHMuRElSRUNUSU9OX1dFU1RdW214VXRpbHMubW9kKGEsNCldfTtteEdyYXBoLnByb3RvdHlwZS5nZXRBY3R1YWxTdGFydFNpemU9ZnVuY3Rpb24oYSxiKXt2YXIgYz1uZXcgbXhSZWN0YW5nbGU7aWYodGhpcy5pc1N3aW1sYW5lKGEsYikpe3ZhciBkPXRoaXMuZ2V0Q3VycmVudENlbGxTdHlsZShhLGIpLGU9cGFyc2VJbnQobXhVdGlscy5nZXRWYWx1ZShkLG14Q29uc3RhbnRzLlNUWUxFX1NUQVJUU0laRSxteENvbnN0YW50cy5ERUZBVUxUX1NUQVJUU0laRSkpLGQ9dGhpcy5nZXRTd2ltbGFuZURpcmVjdGlvbihkKTtkPT1teENvbnN0YW50cy5ESVJFQ1RJT05fTk9SVEg/Yy55PWU6ZD09bXhDb25zdGFudHMuRElSRUNUSU9OX1dFU1Q/Yy54PWU6ZD09bXhDb25zdGFudHMuRElSRUNUSU9OX1NPVVRIP2MuaGVpZ2h0PWU6Yy53aWR0aD1lfXJldHVybiBjfTsKbXhHcmFwaC5wcm90b3R5cGUuZ2V0SW1hZ2U9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPWEmJm51bGwhPWEuc3R5bGU/YS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9JTUFHRV06bnVsbH07bXhHcmFwaC5wcm90b3R5cGUuaXNUcmFuc3BhcmVudFN0YXRlPWZ1bmN0aW9uKGEpe3ZhciBiPSExO2lmKG51bGwhPWEpdmFyIGI9bXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX1NUUk9LRUNPTE9SLG14Q29uc3RhbnRzLk5PTkUpLGM9bXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0ZJTExDT0xPUixteENvbnN0YW50cy5OT05FKSxiPWI9PW14Q29uc3RhbnRzLk5PTkUmJmM9PW14Q29uc3RhbnRzLk5PTkUmJm51bGw9PXRoaXMuZ2V0SW1hZ2UoYSk7cmV0dXJuIGJ9OwpteEdyYXBoLnByb3RvdHlwZS5nZXRWZXJ0aWNhbEFsaWduPWZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hJiZudWxsIT1hLnN0eWxlP2Euc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfVkVSVElDQUxfQUxJR05dfHxteENvbnN0YW50cy5BTElHTl9NSURETEU6bnVsbH07bXhHcmFwaC5wcm90b3R5cGUuZ2V0SW5kaWNhdG9yQ29sb3I9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPWEmJm51bGwhPWEuc3R5bGU/YS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9JTkRJQ0FUT1JfQ09MT1JdOm51bGx9O214R3JhcGgucHJvdG90eXBlLmdldEluZGljYXRvckdyYWRpZW50Q29sb3I9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPWEmJm51bGwhPWEuc3R5bGU/YS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9JTkRJQ0FUT1JfR1JBRElFTlRDT0xPUl06bnVsbH07Cm14R3JhcGgucHJvdG90eXBlLmdldEluZGljYXRvclNoYXBlPWZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hJiZudWxsIT1hLnN0eWxlP2Euc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfSU5ESUNBVE9SX1NIQVBFXTpudWxsfTtteEdyYXBoLnByb3RvdHlwZS5nZXRJbmRpY2F0b3JJbWFnZT1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YSYmbnVsbCE9YS5zdHlsZT9hLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX0lORElDQVRPUl9JTUFHRV06bnVsbH07bXhHcmFwaC5wcm90b3R5cGUuZ2V0Qm9yZGVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYm9yZGVyfTtteEdyYXBoLnByb3RvdHlwZS5zZXRCb3JkZXI9ZnVuY3Rpb24oYSl7dGhpcy5ib3JkZXI9YX07Cm14R3JhcGgucHJvdG90eXBlLmlzU3dpbWxhbmU9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbnVsbD09YXx8dGhpcy5tb2RlbC5nZXRQYXJlbnQoYSk9PXRoaXMubW9kZWwuZ2V0Um9vdCgpfHx0aGlzLm1vZGVsLmlzRWRnZShhKT8hMTp0aGlzLmdldEN1cnJlbnRDZWxsU3R5bGUoYSxiKVtteENvbnN0YW50cy5TVFlMRV9TSEFQRV09PW14Q29uc3RhbnRzLlNIQVBFX1NXSU1MQU5FfTtteEdyYXBoLnByb3RvdHlwZS5pc1Jlc2l6ZUNvbnRhaW5lcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnJlc2l6ZUNvbnRhaW5lcn07bXhHcmFwaC5wcm90b3R5cGUuc2V0UmVzaXplQ29udGFpbmVyPWZ1bmN0aW9uKGEpe3RoaXMucmVzaXplQ29udGFpbmVyPWF9O214R3JhcGgucHJvdG90eXBlLmlzRW5hYmxlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVuYWJsZWR9O214R3JhcGgucHJvdG90eXBlLnNldEVuYWJsZWQ9ZnVuY3Rpb24oYSl7dGhpcy5lbmFibGVkPWF9OwpteEdyYXBoLnByb3RvdHlwZS5pc0VzY2FwZUVuYWJsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lc2NhcGVFbmFibGVkfTtteEdyYXBoLnByb3RvdHlwZS5zZXRFc2NhcGVFbmFibGVkPWZ1bmN0aW9uKGEpe3RoaXMuZXNjYXBlRW5hYmxlZD1hfTtteEdyYXBoLnByb3RvdHlwZS5pc0ludm9rZXNTdG9wQ2VsbEVkaXRpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbnZva2VzU3RvcENlbGxFZGl0aW5nfTtteEdyYXBoLnByb3RvdHlwZS5zZXRJbnZva2VzU3RvcENlbGxFZGl0aW5nPWZ1bmN0aW9uKGEpe3RoaXMuaW52b2tlc1N0b3BDZWxsRWRpdGluZz1hfTtteEdyYXBoLnByb3RvdHlwZS5pc0VudGVyU3RvcHNDZWxsRWRpdGluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVudGVyU3RvcHNDZWxsRWRpdGluZ307bXhHcmFwaC5wcm90b3R5cGUuc2V0RW50ZXJTdG9wc0NlbGxFZGl0aW5nPWZ1bmN0aW9uKGEpe3RoaXMuZW50ZXJTdG9wc0NlbGxFZGl0aW5nPWF9OwpteEdyYXBoLnByb3RvdHlwZS5pc0NlbGxMb2NrZWQ9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5tb2RlbC5nZXRHZW9tZXRyeShhKTtyZXR1cm4gdGhpcy5pc0NlbGxzTG9ja2VkKCl8fG51bGwhPWImJnRoaXMubW9kZWwuaXNWZXJ0ZXgoYSkmJmIucmVsYXRpdmV9O214R3JhcGgucHJvdG90eXBlLmlzQ2VsbHNMb2NrZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jZWxsc0xvY2tlZH07bXhHcmFwaC5wcm90b3R5cGUuc2V0Q2VsbHNMb2NrZWQ9ZnVuY3Rpb24oYSl7dGhpcy5jZWxsc0xvY2tlZD1hfTtteEdyYXBoLnByb3RvdHlwZS5nZXRDbG9uZWFibGVDZWxscz1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5tb2RlbC5maWx0ZXJDZWxscyhhLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmlzQ2VsbENsb25lYWJsZShhKX0pKX07Cm14R3JhcGgucHJvdG90eXBlLmlzQ2VsbENsb25lYWJsZT1mdW5jdGlvbihhKXthPXRoaXMuZ2V0Q3VycmVudENlbGxTdHlsZShhKTtyZXR1cm4gdGhpcy5pc0NlbGxzQ2xvbmVhYmxlKCkmJjAhPWFbbXhDb25zdGFudHMuU1RZTEVfQ0xPTkVBQkxFXX07bXhHcmFwaC5wcm90b3R5cGUuaXNDZWxsc0Nsb25lYWJsZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNlbGxzQ2xvbmVhYmxlfTtteEdyYXBoLnByb3RvdHlwZS5zZXRDZWxsc0Nsb25lYWJsZT1mdW5jdGlvbihhKXt0aGlzLmNlbGxzQ2xvbmVhYmxlPWF9O214R3JhcGgucHJvdG90eXBlLmdldEV4cG9ydGFibGVDZWxscz1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5tb2RlbC5maWx0ZXJDZWxscyhhLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNhbkV4cG9ydENlbGwoYSl9KSl9O214R3JhcGgucHJvdG90eXBlLmNhbkV4cG9ydENlbGw9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZXhwb3J0RW5hYmxlZH07Cm14R3JhcGgucHJvdG90eXBlLmdldEltcG9ydGFibGVDZWxscz1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5tb2RlbC5maWx0ZXJDZWxscyhhLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNhbkltcG9ydENlbGwoYSl9KSl9O214R3JhcGgucHJvdG90eXBlLmNhbkltcG9ydENlbGw9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuaW1wb3J0RW5hYmxlZH07bXhHcmFwaC5wcm90b3R5cGUuaXNDZWxsU2VsZWN0YWJsZT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5pc0NlbGxzU2VsZWN0YWJsZSgpfTtteEdyYXBoLnByb3RvdHlwZS5pc0NlbGxzU2VsZWN0YWJsZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNlbGxzU2VsZWN0YWJsZX07bXhHcmFwaC5wcm90b3R5cGUuc2V0Q2VsbHNTZWxlY3RhYmxlPWZ1bmN0aW9uKGEpe3RoaXMuY2VsbHNTZWxlY3RhYmxlPWF9OwpteEdyYXBoLnByb3RvdHlwZS5nZXREZWxldGFibGVDZWxscz1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5tb2RlbC5maWx0ZXJDZWxscyhhLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmlzQ2VsbERlbGV0YWJsZShhKX0pKX07bXhHcmFwaC5wcm90b3R5cGUuaXNDZWxsRGVsZXRhYmxlPWZ1bmN0aW9uKGEpe2E9dGhpcy5nZXRDdXJyZW50Q2VsbFN0eWxlKGEpO3JldHVybiB0aGlzLmlzQ2VsbHNEZWxldGFibGUoKSYmMCE9YVtteENvbnN0YW50cy5TVFlMRV9ERUxFVEFCTEVdfTtteEdyYXBoLnByb3RvdHlwZS5pc0NlbGxzRGVsZXRhYmxlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2VsbHNEZWxldGFibGV9O214R3JhcGgucHJvdG90eXBlLnNldENlbGxzRGVsZXRhYmxlPWZ1bmN0aW9uKGEpe3RoaXMuY2VsbHNEZWxldGFibGU9YX07Cm14R3JhcGgucHJvdG90eXBlLmlzTGFiZWxNb3ZhYmxlPWZ1bmN0aW9uKGEpe3JldHVybiF0aGlzLmlzQ2VsbExvY2tlZChhKSYmKHRoaXMubW9kZWwuaXNFZGdlKGEpJiZ0aGlzLmVkZ2VMYWJlbHNNb3ZhYmxlfHx0aGlzLm1vZGVsLmlzVmVydGV4KGEpJiZ0aGlzLnZlcnRleExhYmVsc01vdmFibGUpfTtteEdyYXBoLnByb3RvdHlwZS5pc0NlbGxSb3RhdGFibGU9ZnVuY3Rpb24oYSl7cmV0dXJuIDAhPXRoaXMuZ2V0Q3VycmVudENlbGxTdHlsZShhKVtteENvbnN0YW50cy5TVFlMRV9ST1RBVEFCTEVdfTtteEdyYXBoLnByb3RvdHlwZS5nZXRNb3ZhYmxlQ2VsbHM9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMubW9kZWwuZmlsdGVyQ2VsbHMoYSxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5pc0NlbGxNb3ZhYmxlKGEpfSkpfTsKbXhHcmFwaC5wcm90b3R5cGUuaXNDZWxsTW92YWJsZT1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmdldEN1cnJlbnRDZWxsU3R5bGUoYSk7cmV0dXJuIHRoaXMuaXNDZWxsc01vdmFibGUoKSYmIXRoaXMuaXNDZWxsTG9ja2VkKGEpJiYwIT1iW214Q29uc3RhbnRzLlNUWUxFX01PVkFCTEVdfTtteEdyYXBoLnByb3RvdHlwZS5pc0NlbGxzTW92YWJsZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNlbGxzTW92YWJsZX07bXhHcmFwaC5wcm90b3R5cGUuc2V0Q2VsbHNNb3ZhYmxlPWZ1bmN0aW9uKGEpe3RoaXMuY2VsbHNNb3ZhYmxlPWF9O214R3JhcGgucHJvdG90eXBlLmlzR3JpZEVuYWJsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ncmlkRW5hYmxlZH07bXhHcmFwaC5wcm90b3R5cGUuc2V0R3JpZEVuYWJsZWQ9ZnVuY3Rpb24oYSl7dGhpcy5ncmlkRW5hYmxlZD1hfTtteEdyYXBoLnByb3RvdHlwZS5pc1BvcnRzRW5hYmxlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBvcnRzRW5hYmxlZH07Cm14R3JhcGgucHJvdG90eXBlLnNldFBvcnRzRW5hYmxlZD1mdW5jdGlvbihhKXt0aGlzLnBvcnRzRW5hYmxlZD1hfTtteEdyYXBoLnByb3RvdHlwZS5nZXRHcmlkU2l6ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdyaWRTaXplfTtteEdyYXBoLnByb3RvdHlwZS5zZXRHcmlkU2l6ZT1mdW5jdGlvbihhKXt0aGlzLmdyaWRTaXplPWF9O214R3JhcGgucHJvdG90eXBlLmdldFRvbGVyYW5jZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRvbGVyYW5jZX07bXhHcmFwaC5wcm90b3R5cGUuc2V0VG9sZXJhbmNlPWZ1bmN0aW9uKGEpe3RoaXMudG9sZXJhbmNlPWF9O214R3JhcGgucHJvdG90eXBlLmlzVmVydGV4TGFiZWxzTW92YWJsZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnZlcnRleExhYmVsc01vdmFibGV9O214R3JhcGgucHJvdG90eXBlLnNldFZlcnRleExhYmVsc01vdmFibGU9ZnVuY3Rpb24oYSl7dGhpcy52ZXJ0ZXhMYWJlbHNNb3ZhYmxlPWF9OwpteEdyYXBoLnByb3RvdHlwZS5pc0VkZ2VMYWJlbHNNb3ZhYmxlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWRnZUxhYmVsc01vdmFibGV9O214R3JhcGgucHJvdG90eXBlLnNldEVkZ2VMYWJlbHNNb3ZhYmxlPWZ1bmN0aW9uKGEpe3RoaXMuZWRnZUxhYmVsc01vdmFibGU9YX07bXhHcmFwaC5wcm90b3R5cGUuaXNTd2ltbGFuZU5lc3Rpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zd2ltbGFuZU5lc3Rpbmd9O214R3JhcGgucHJvdG90eXBlLnNldFN3aW1sYW5lTmVzdGluZz1mdW5jdGlvbihhKXt0aGlzLnN3aW1sYW5lTmVzdGluZz1hfTtteEdyYXBoLnByb3RvdHlwZS5pc1N3aW1sYW5lU2VsZWN0aW9uRW5hYmxlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnN3aW1sYW5lU2VsZWN0aW9uRW5hYmxlZH07bXhHcmFwaC5wcm90b3R5cGUuc2V0U3dpbWxhbmVTZWxlY3Rpb25FbmFibGVkPWZ1bmN0aW9uKGEpe3RoaXMuc3dpbWxhbmVTZWxlY3Rpb25FbmFibGVkPWF9OwpteEdyYXBoLnByb3RvdHlwZS5pc011bHRpZ3JhcGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tdWx0aWdyYXBofTtteEdyYXBoLnByb3RvdHlwZS5zZXRNdWx0aWdyYXBoPWZ1bmN0aW9uKGEpe3RoaXMubXVsdGlncmFwaD1hfTtteEdyYXBoLnByb3RvdHlwZS5pc0FsbG93TG9vcHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hbGxvd0xvb3BzfTtteEdyYXBoLnByb3RvdHlwZS5zZXRBbGxvd0RhbmdsaW5nRWRnZXM9ZnVuY3Rpb24oYSl7dGhpcy5hbGxvd0RhbmdsaW5nRWRnZXM9YX07bXhHcmFwaC5wcm90b3R5cGUuaXNBbGxvd0RhbmdsaW5nRWRnZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hbGxvd0RhbmdsaW5nRWRnZXN9O214R3JhcGgucHJvdG90eXBlLnNldENvbm5lY3RhYmxlRWRnZXM9ZnVuY3Rpb24oYSl7dGhpcy5jb25uZWN0YWJsZUVkZ2VzPWF9O214R3JhcGgucHJvdG90eXBlLmlzQ29ubmVjdGFibGVFZGdlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbm5lY3RhYmxlRWRnZXN9OwpteEdyYXBoLnByb3RvdHlwZS5zZXRDbG9uZUludmFsaWRFZGdlcz1mdW5jdGlvbihhKXt0aGlzLmNsb25lSW52YWxpZEVkZ2VzPWF9O214R3JhcGgucHJvdG90eXBlLmlzQ2xvbmVJbnZhbGlkRWRnZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jbG9uZUludmFsaWRFZGdlc307bXhHcmFwaC5wcm90b3R5cGUuc2V0QWxsb3dMb29wcz1mdW5jdGlvbihhKXt0aGlzLmFsbG93TG9vcHM9YX07bXhHcmFwaC5wcm90b3R5cGUuaXNEaXNjb25uZWN0T25Nb3ZlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGlzY29ubmVjdE9uTW92ZX07bXhHcmFwaC5wcm90b3R5cGUuc2V0RGlzY29ubmVjdE9uTW92ZT1mdW5jdGlvbihhKXt0aGlzLmRpc2Nvbm5lY3RPbk1vdmU9YX07bXhHcmFwaC5wcm90b3R5cGUuaXNEcm9wRW5hYmxlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmRyb3BFbmFibGVkfTsKbXhHcmFwaC5wcm90b3R5cGUuc2V0RHJvcEVuYWJsZWQ9ZnVuY3Rpb24oYSl7dGhpcy5kcm9wRW5hYmxlZD1hfTtteEdyYXBoLnByb3RvdHlwZS5pc1NwbGl0RW5hYmxlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNwbGl0RW5hYmxlZH07bXhHcmFwaC5wcm90b3R5cGUuc2V0U3BsaXRFbmFibGVkPWZ1bmN0aW9uKGEpe3RoaXMuc3BsaXRFbmFibGVkPWF9O214R3JhcGgucHJvdG90eXBlLmlzQ2VsbFJlc2l6YWJsZT1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmdldEN1cnJlbnRDZWxsU3R5bGUoYSk7cmV0dXJuIHRoaXMuaXNDZWxsc1Jlc2l6YWJsZSgpJiYhdGhpcy5pc0NlbGxMb2NrZWQoYSkmJiIwIiE9bXhVdGlscy5nZXRWYWx1ZShiLG14Q29uc3RhbnRzLlNUWUxFX1JFU0laQUJMRSwiMSIpfTtteEdyYXBoLnByb3RvdHlwZS5pc0NlbGxzUmVzaXphYmxlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2VsbHNSZXNpemFibGV9OwpteEdyYXBoLnByb3RvdHlwZS5zZXRDZWxsc1Jlc2l6YWJsZT1mdW5jdGlvbihhKXt0aGlzLmNlbGxzUmVzaXphYmxlPWF9O214R3JhcGgucHJvdG90eXBlLmlzVGVybWluYWxQb2ludE1vdmFibGU9ZnVuY3Rpb24oYSxiKXtyZXR1cm4hMH07bXhHcmFwaC5wcm90b3R5cGUuaXNDZWxsQmVuZGFibGU9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5nZXRDdXJyZW50Q2VsbFN0eWxlKGEpO3JldHVybiB0aGlzLmlzQ2VsbHNCZW5kYWJsZSgpJiYhdGhpcy5pc0NlbGxMb2NrZWQoYSkmJjAhPWJbbXhDb25zdGFudHMuU1RZTEVfQkVOREFCTEVdfTtteEdyYXBoLnByb3RvdHlwZS5pc0NlbGxzQmVuZGFibGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jZWxsc0JlbmRhYmxlfTtteEdyYXBoLnByb3RvdHlwZS5zZXRDZWxsc0JlbmRhYmxlPWZ1bmN0aW9uKGEpe3RoaXMuY2VsbHNCZW5kYWJsZT1hfTsKbXhHcmFwaC5wcm90b3R5cGUuaXNDZWxsRWRpdGFibGU9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5nZXRDdXJyZW50Q2VsbFN0eWxlKGEpO3JldHVybiB0aGlzLmlzQ2VsbHNFZGl0YWJsZSgpJiYhdGhpcy5pc0NlbGxMb2NrZWQoYSkmJjAhPWJbbXhDb25zdGFudHMuU1RZTEVfRURJVEFCTEVdfTtteEdyYXBoLnByb3RvdHlwZS5pc0NlbGxzRWRpdGFibGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jZWxsc0VkaXRhYmxlfTtteEdyYXBoLnByb3RvdHlwZS5zZXRDZWxsc0VkaXRhYmxlPWZ1bmN0aW9uKGEpe3RoaXMuY2VsbHNFZGl0YWJsZT1hfTtteEdyYXBoLnByb3RvdHlwZS5pc0NlbGxEaXNjb25uZWN0YWJsZT1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIHRoaXMuaXNDZWxsc0Rpc2Nvbm5lY3RhYmxlKCkmJiF0aGlzLmlzQ2VsbExvY2tlZChhKX07bXhHcmFwaC5wcm90b3R5cGUuaXNDZWxsc0Rpc2Nvbm5lY3RhYmxlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2VsbHNEaXNjb25uZWN0YWJsZX07Cm14R3JhcGgucHJvdG90eXBlLnNldENlbGxzRGlzY29ubmVjdGFibGU9ZnVuY3Rpb24oYSl7dGhpcy5jZWxsc0Rpc2Nvbm5lY3RhYmxlPWF9O214R3JhcGgucHJvdG90eXBlLmlzVmFsaWRTb3VyY2U9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGw9PWEmJnRoaXMuYWxsb3dEYW5nbGluZ0VkZ2VzfHxudWxsIT1hJiYoIXRoaXMubW9kZWwuaXNFZGdlKGEpfHx0aGlzLmNvbm5lY3RhYmxlRWRnZXMpJiZ0aGlzLmlzQ2VsbENvbm5lY3RhYmxlKGEpfTtteEdyYXBoLnByb3RvdHlwZS5pc1ZhbGlkVGFyZ2V0PWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmlzVmFsaWRTb3VyY2UoYSl9O214R3JhcGgucHJvdG90eXBlLmlzVmFsaWRDb25uZWN0aW9uPWZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuaXNWYWxpZFNvdXJjZShhKSYmdGhpcy5pc1ZhbGlkVGFyZ2V0KGIpfTtteEdyYXBoLnByb3RvdHlwZS5zZXRDb25uZWN0YWJsZT1mdW5jdGlvbihhKXt0aGlzLmNvbm5lY3Rpb25IYW5kbGVyLnNldEVuYWJsZWQoYSl9OwpteEdyYXBoLnByb3RvdHlwZS5pc0Nvbm5lY3RhYmxlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29ubmVjdGlvbkhhbmRsZXIuaXNFbmFibGVkKCl9O214R3JhcGgucHJvdG90eXBlLnNldFRvb2x0aXBzPWZ1bmN0aW9uKGEpe3RoaXMudG9vbHRpcEhhbmRsZXIuc2V0RW5hYmxlZChhKX07bXhHcmFwaC5wcm90b3R5cGUuc2V0UGFubmluZz1mdW5jdGlvbihhKXt0aGlzLnBhbm5pbmdIYW5kbGVyLnBhbm5pbmdFbmFibGVkPWF9O214R3JhcGgucHJvdG90eXBlLmlzRWRpdGluZz1mdW5jdGlvbihhKXtpZihudWxsIT10aGlzLmNlbGxFZGl0b3Ipe3ZhciBiPXRoaXMuY2VsbEVkaXRvci5nZXRFZGl0aW5nQ2VsbCgpO3JldHVybiBudWxsPT1hP251bGwhPWI6YT09Yn1yZXR1cm4hMX07bXhHcmFwaC5wcm90b3R5cGUuaXNBdXRvU2l6ZUNlbGw9ZnVuY3Rpb24oYSl7YT10aGlzLmdldEN1cnJlbnRDZWxsU3R5bGUoYSk7cmV0dXJuIHRoaXMuaXNBdXRvU2l6ZUNlbGxzKCl8fDE9PWFbbXhDb25zdGFudHMuU1RZTEVfQVVUT1NJWkVdfTsKbXhHcmFwaC5wcm90b3R5cGUuaXNBdXRvU2l6ZUNlbGxzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYXV0b1NpemVDZWxsc307bXhHcmFwaC5wcm90b3R5cGUuc2V0QXV0b1NpemVDZWxscz1mdW5jdGlvbihhKXt0aGlzLmF1dG9TaXplQ2VsbHM9YX07bXhHcmFwaC5wcm90b3R5cGUuaXNFeHRlbmRQYXJlbnQ9ZnVuY3Rpb24oYSl7cmV0dXJuIXRoaXMuZ2V0TW9kZWwoKS5pc0VkZ2UoYSkmJnRoaXMuaXNFeHRlbmRQYXJlbnRzKCl9O214R3JhcGgucHJvdG90eXBlLmlzRXh0ZW5kUGFyZW50cz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmV4dGVuZFBhcmVudHN9O214R3JhcGgucHJvdG90eXBlLnNldEV4dGVuZFBhcmVudHM9ZnVuY3Rpb24oYSl7dGhpcy5leHRlbmRQYXJlbnRzPWF9O214R3JhcGgucHJvdG90eXBlLmlzRXh0ZW5kUGFyZW50c09uQWRkPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmV4dGVuZFBhcmVudHNPbkFkZH07Cm14R3JhcGgucHJvdG90eXBlLnNldEV4dGVuZFBhcmVudHNPbkFkZD1mdW5jdGlvbihhKXt0aGlzLmV4dGVuZFBhcmVudHNPbkFkZD1hfTtteEdyYXBoLnByb3RvdHlwZS5pc0V4dGVuZFBhcmVudHNPbk1vdmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5leHRlbmRQYXJlbnRzT25Nb3ZlfTtteEdyYXBoLnByb3RvdHlwZS5zZXRFeHRlbmRQYXJlbnRzT25Nb3ZlPWZ1bmN0aW9uKGEpe3RoaXMuZXh0ZW5kUGFyZW50c09uTW92ZT1hfTtteEdyYXBoLnByb3RvdHlwZS5pc1JlY3Vyc2l2ZVJlc2l6ZT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5yZWN1cnNpdmVSZXNpemV9O214R3JhcGgucHJvdG90eXBlLnNldFJlY3Vyc2l2ZVJlc2l6ZT1mdW5jdGlvbihhKXt0aGlzLnJlY3Vyc2l2ZVJlc2l6ZT1hfTtteEdyYXBoLnByb3RvdHlwZS5pc0NvbnN0cmFpbkNoaWxkPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmlzQ29uc3RyYWluQ2hpbGRyZW4oKSYmIXRoaXMuZ2V0TW9kZWwoKS5pc0VkZ2UodGhpcy5nZXRNb2RlbCgpLmdldFBhcmVudChhKSl9OwpteEdyYXBoLnByb3RvdHlwZS5pc0NvbnN0cmFpbkNoaWxkcmVuPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RyYWluQ2hpbGRyZW59O214R3JhcGgucHJvdG90eXBlLnNldENvbnN0cmFpbkNoaWxkcmVuPWZ1bmN0aW9uKGEpe3RoaXMuY29uc3RyYWluQ2hpbGRyZW49YX07bXhHcmFwaC5wcm90b3R5cGUuaXNDb25zdHJhaW5SZWxhdGl2ZUNoaWxkcmVuPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RyYWluUmVsYXRpdmVDaGlsZHJlbn07bXhHcmFwaC5wcm90b3R5cGUuc2V0Q29uc3RyYWluUmVsYXRpdmVDaGlsZHJlbj1mdW5jdGlvbihhKXt0aGlzLmNvbnN0cmFpblJlbGF0aXZlQ2hpbGRyZW49YX07bXhHcmFwaC5wcm90b3R5cGUuaXNBbGxvd05lZ2F0aXZlQ29vcmRpbmF0ZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hbGxvd05lZ2F0aXZlQ29vcmRpbmF0ZXN9OwpteEdyYXBoLnByb3RvdHlwZS5zZXRBbGxvd05lZ2F0aXZlQ29vcmRpbmF0ZXM9ZnVuY3Rpb24oYSl7dGhpcy5hbGxvd05lZ2F0aXZlQ29vcmRpbmF0ZXM9YX07bXhHcmFwaC5wcm90b3R5cGUuZ2V0T3ZlcmxhcD1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5pc0FsbG93T3ZlcmxhcFBhcmVudChhKT90aGlzLmRlZmF1bHRPdmVybGFwOjB9O214R3JhcGgucHJvdG90eXBlLmlzQWxsb3dPdmVybGFwUGFyZW50PWZ1bmN0aW9uKGEpe3JldHVybiExfTtteEdyYXBoLnByb3RvdHlwZS5nZXRGb2xkYWJsZUNlbGxzPWZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMubW9kZWwuZmlsdGVyQ2VsbHMoYSxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5pc0NlbGxGb2xkYWJsZShhLGIpfSkpfTsKbXhHcmFwaC5wcm90b3R5cGUuaXNDZWxsRm9sZGFibGU9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdldEN1cnJlbnRDZWxsU3R5bGUoYSk7cmV0dXJuIDA8dGhpcy5tb2RlbC5nZXRDaGlsZENvdW50KGEpJiYwIT1jW214Q29uc3RhbnRzLlNUWUxFX0ZPTERBQkxFXX07bXhHcmFwaC5wcm90b3R5cGUuaXNWYWxpZERyb3BUYXJnZXQ9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBudWxsIT1hJiYodGhpcy5pc1NwbGl0RW5hYmxlZCgpJiZ0aGlzLmlzU3BsaXRUYXJnZXQoYSxiLGMpfHwhdGhpcy5tb2RlbC5pc0VkZ2UoYSkmJih0aGlzLmlzU3dpbWxhbmUoYSl8fDA8dGhpcy5tb2RlbC5nZXRDaGlsZENvdW50KGEpJiYhdGhpcy5pc0NlbGxDb2xsYXBzZWQoYSkpKX07Cm14R3JhcGgucHJvdG90eXBlLmlzU3BsaXRUYXJnZXQ9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiB0aGlzLm1vZGVsLmlzRWRnZShhKSYmbnVsbCE9YiYmMT09Yi5sZW5ndGgmJnRoaXMuaXNDZWxsQ29ubmVjdGFibGUoYlswXSkmJm51bGw9PXRoaXMuZ2V0RWRnZVZhbGlkYXRpb25FcnJvcihhLHRoaXMubW9kZWwuZ2V0VGVybWluYWwoYSwhMCksYlswXSk/KGM9dGhpcy5tb2RlbC5nZXRUZXJtaW5hbChhLCEwKSxhPXRoaXMubW9kZWwuZ2V0VGVybWluYWwoYSwhMSksIXRoaXMubW9kZWwuaXNBbmNlc3RvcihiWzBdLGMpJiYhdGhpcy5tb2RlbC5pc0FuY2VzdG9yKGJbMF0sYSkpOiExfTsKbXhHcmFwaC5wcm90b3R5cGUuZ2V0RHJvcFRhcmdldD1mdW5jdGlvbihhLGIsYyxkKXtpZighdGhpcy5pc1N3aW1sYW5lTmVzdGluZygpKWZvcih2YXIgZT0wO2U8YS5sZW5ndGg7ZSsrKWlmKHRoaXMuaXNTd2ltbGFuZShhW2VdKSlyZXR1cm4gbnVsbDtlPW14VXRpbHMuY29udmVydFBvaW50KHRoaXMuY29udGFpbmVyLG14RXZlbnQuZ2V0Q2xpZW50WChiKSxteEV2ZW50LmdldENsaWVudFkoYikpO2UueC09dGhpcy5wYW5EeDtlLnktPXRoaXMucGFuRHk7ZT10aGlzLmdldFN3aW1sYW5lQXQoZS54LGUueSk7aWYobnVsbD09YyljPWU7ZWxzZSBpZihudWxsIT1lKXtmb3IodmFyIGY9dGhpcy5tb2RlbC5nZXRQYXJlbnQoZSk7bnVsbCE9ZiYmdGhpcy5pc1N3aW1sYW5lKGYpJiZmIT1jOylmPXRoaXMubW9kZWwuZ2V0UGFyZW50KGYpO2Y9PWMmJihjPWUpfWZvcig7bnVsbCE9YyYmIXRoaXMuaXNWYWxpZERyb3BUYXJnZXQoYyxhLGIpJiYhdGhpcy5tb2RlbC5pc0xheWVyKGMpOyljPXRoaXMubW9kZWwuZ2V0UGFyZW50KGMpOwppZihudWxsPT1kfHwhZClmb3IodmFyIGc9YztudWxsIT1nJiYwPm14VXRpbHMuaW5kZXhPZihhLGcpOylnPXRoaXMubW9kZWwuZ2V0UGFyZW50KGcpO3JldHVybiB0aGlzLm1vZGVsLmlzTGF5ZXIoYyl8fG51bGwhPWc/bnVsbDpjfTtteEdyYXBoLnByb3RvdHlwZS5nZXREZWZhdWx0UGFyZW50PWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXRDdXJyZW50Um9vdCgpO251bGw9PWEmJihhPXRoaXMuZGVmYXVsdFBhcmVudCxudWxsPT1hJiYoYT10aGlzLm1vZGVsLmdldFJvb3QoKSxhPXRoaXMubW9kZWwuZ2V0Q2hpbGRBdChhLDApKSk7cmV0dXJuIGF9O214R3JhcGgucHJvdG90eXBlLnNldERlZmF1bHRQYXJlbnQ9ZnVuY3Rpb24oYSl7dGhpcy5kZWZhdWx0UGFyZW50PWF9O214R3JhcGgucHJvdG90eXBlLmdldFN3aW1sYW5lPWZ1bmN0aW9uKGEpe2Zvcig7bnVsbCE9YSYmIXRoaXMuaXNTd2ltbGFuZShhKTspYT10aGlzLm1vZGVsLmdldFBhcmVudChhKTtyZXR1cm4gYX07Cm14R3JhcGgucHJvdG90eXBlLmdldFN3aW1sYW5lQXQ9ZnVuY3Rpb24oYSxiLGMpe251bGw9PWMmJihjPXRoaXMuZ2V0Q3VycmVudFJvb3QoKSxudWxsPT1jJiYoYz10aGlzLm1vZGVsLmdldFJvb3QoKSkpO2lmKG51bGwhPWMpZm9yKHZhciBkPXRoaXMubW9kZWwuZ2V0Q2hpbGRDb3VudChjKSxlPTA7ZTxkO2UrKyl7dmFyIGY9dGhpcy5tb2RlbC5nZXRDaGlsZEF0KGMsZSk7aWYobnVsbCE9Zil7dmFyIGc9dGhpcy5nZXRTd2ltbGFuZUF0KGEsYixmKTtpZihudWxsIT1nKXJldHVybiBnO2lmKHRoaXMuaXNDZWxsVmlzaWJsZShmKSYmdGhpcy5pc1N3aW1sYW5lKGYpJiYoZz10aGlzLnZpZXcuZ2V0U3RhdGUoZiksdGhpcy5pbnRlcnNlY3RzKGcsYSxiKSkpcmV0dXJuIGZ9fXJldHVybiBudWxsfTsKbXhHcmFwaC5wcm90b3R5cGUuZ2V0Q2VsbEF0PWZ1bmN0aW9uKGEsYixjLGQsZSxmKXtkPW51bGwhPWQ/ZDohMDtlPW51bGwhPWU/ZTohMDtudWxsPT1jJiYoYz10aGlzLmdldEN1cnJlbnRSb290KCksbnVsbD09YyYmKGM9dGhpcy5nZXRNb2RlbCgpLmdldFJvb3QoKSkpO2lmKG51bGwhPWMpZm9yKHZhciBnPXRoaXMubW9kZWwuZ2V0Q2hpbGRDb3VudChjKS0xOzA8PWc7Zy0tKXt2YXIgaz10aGlzLm1vZGVsLmdldENoaWxkQXQoYyxnKSxsPXRoaXMuZ2V0Q2VsbEF0KGEsYixrLGQsZSxmKTtpZihudWxsIT1sKXJldHVybiBsO2lmKHRoaXMuaXNDZWxsVmlzaWJsZShrKSYmKGUmJnRoaXMubW9kZWwuaXNFZGdlKGspfHxkJiZ0aGlzLm1vZGVsLmlzVmVydGV4KGspKSYmKGw9dGhpcy52aWV3LmdldFN0YXRlKGspLG51bGwhPWwmJihudWxsPT1mfHwhZihsLGEsYikpJiZ0aGlzLmludGVyc2VjdHMobCxhLGIpKSlyZXR1cm4ga31yZXR1cm4gbnVsbH07Cm14R3JhcGgucHJvdG90eXBlLmludGVyc2VjdHM9ZnVuY3Rpb24oYSxiLGMpe2lmKG51bGwhPWEpe3ZhciBkPWEuYWJzb2x1dGVQb2ludHM7aWYobnVsbCE9ZCl7YT10aGlzLnRvbGVyYW5jZSp0aGlzLnRvbGVyYW5jZTtmb3IodmFyIGU9ZFswXSxmPTE7ZjxkLmxlbmd0aDtmKyspe3ZhciBnPWRbZl07aWYobXhVdGlscy5wdFNlZ0Rpc3RTcShlLngsZS55LGcueCxnLnksYixjKTw9YSlyZXR1cm4hMDtlPWd9fWVsc2UgaWYoZT1teFV0aWxzLnRvUmFkaWFucyhteFV0aWxzLmdldFZhbHVlKGEuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfUk9UQVRJT04pfHwwKSwwIT1lJiYoZD1NYXRoLmNvcygtZSksZT1NYXRoLnNpbigtZSksZj1uZXcgbXhQb2ludChhLmdldENlbnRlclgoKSxhLmdldENlbnRlclkoKSksZT1teFV0aWxzLmdldFJvdGF0ZWRQb2ludChuZXcgbXhQb2ludChiLGMpLGQsZSxmKSxiPWUueCxjPWUueSksbXhVdGlscy5jb250YWlucyhhLGIsYykpcmV0dXJuITB9cmV0dXJuITF9OwpteEdyYXBoLnByb3RvdHlwZS5oaXRzU3dpbWxhbmVDb250ZW50PWZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLmdldFZpZXcoKS5nZXRTdGF0ZShhKTthPXRoaXMuZ2V0U3RhcnRTaXplKGEpO2lmKG51bGwhPWQpe3ZhciBlPXRoaXMuZ2V0VmlldygpLmdldFNjYWxlKCk7Yi09ZC54O2MtPWQueTtpZigwPGEud2lkdGgmJjA8YiYmYj5hLndpZHRoKmV8fDA8YS5oZWlnaHQmJjA8YyYmYz5hLmhlaWdodCplKXJldHVybiEwfXJldHVybiExfTtteEdyYXBoLnByb3RvdHlwZS5nZXRDaGlsZFZlcnRpY2VzPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmdldENoaWxkQ2VsbHMoYSwhMCwhMSl9O214R3JhcGgucHJvdG90eXBlLmdldENoaWxkRWRnZXM9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZ2V0Q2hpbGRDZWxscyhhLCExLCEwKX07Cm14R3JhcGgucHJvdG90eXBlLmdldENoaWxkQ2VsbHM9ZnVuY3Rpb24oYSxiLGMpe2E9bnVsbCE9YT9hOnRoaXMuZ2V0RGVmYXVsdFBhcmVudCgpO2E9dGhpcy5tb2RlbC5nZXRDaGlsZENlbGxzKGEsbnVsbCE9Yj9iOiExLG51bGwhPWM/YzohMSk7Yj1bXTtmb3IoYz0wO2M8YS5sZW5ndGg7YysrKXRoaXMuaXNDZWxsVmlzaWJsZShhW2NdKSYmYi5wdXNoKGFbY10pO3JldHVybiBifTtteEdyYXBoLnByb3RvdHlwZS5nZXRDb25uZWN0aW9ucz1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmdldEVkZ2VzKGEsYiwhMCwhMCwhMSl9O214R3JhcGgucHJvdG90eXBlLmdldEluY29taW5nRWRnZXM9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5nZXRFZGdlcyhhLGIsITAsITEsITEpfTtteEdyYXBoLnByb3RvdHlwZS5nZXRPdXRnb2luZ0VkZ2VzPWZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuZ2V0RWRnZXMoYSxiLCExLCEwLCExKX07Cm14R3JhcGgucHJvdG90eXBlLmdldEVkZ2VzPWZ1bmN0aW9uKGEsYixjLGQsZSxmKXtjPW51bGwhPWM/YzohMDtkPW51bGwhPWQ/ZDohMDtlPW51bGwhPWU/ZTohMDtmPW51bGwhPWY/ZjohMTtmb3IodmFyIGc9W10saz10aGlzLmlzQ2VsbENvbGxhcHNlZChhKSxsPXRoaXMubW9kZWwuZ2V0Q2hpbGRDb3VudChhKSxtPTA7bTxsO20rKyl7dmFyIG49dGhpcy5tb2RlbC5nZXRDaGlsZEF0KGEsbSk7aWYoa3x8IXRoaXMuaXNDZWxsVmlzaWJsZShuKSlnPWcuY29uY2F0KHRoaXMubW9kZWwuZ2V0RWRnZXMobixjLGQpKX1nPWcuY29uY2F0KHRoaXMubW9kZWwuZ2V0RWRnZXMoYSxjLGQpKTtrPVtdO2ZvcihtPTA7bTxnLmxlbmd0aDttKyspbj10aGlzLnZpZXcuZ2V0U3RhdGUoZ1ttXSksbD1udWxsIT1uP24uZ2V0VmlzaWJsZVRlcm1pbmFsKCEwKTp0aGlzLnZpZXcuZ2V0VmlzaWJsZVRlcm1pbmFsKGdbbV0sITApLG49bnVsbCE9bj9uLmdldFZpc2libGVUZXJtaW5hbCghMSk6dGhpcy52aWV3LmdldFZpc2libGVUZXJtaW5hbChnW21dLAohMSksKGUmJmw9PW58fGwhPW4mJihjJiZuPT1hJiYobnVsbD09Ynx8dGhpcy5pc1ZhbGlkQW5jZXN0b3IobCxiLGYpKXx8ZCYmbD09YSYmKG51bGw9PWJ8fHRoaXMuaXNWYWxpZEFuY2VzdG9yKG4sYixmKSkpKSYmay5wdXNoKGdbbV0pO3JldHVybiBrfTtteEdyYXBoLnByb3RvdHlwZS5pc1ZhbGlkQW5jZXN0b3I9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBjP3RoaXMubW9kZWwuaXNBbmNlc3RvcihiLGEpOnRoaXMubW9kZWwuZ2V0UGFyZW50KGEpPT1ifTsKbXhHcmFwaC5wcm90b3R5cGUuZ2V0T3Bwb3NpdGVzPWZ1bmN0aW9uKGEsYixjLGQpe2M9bnVsbCE9Yz9jOiEwO2Q9bnVsbCE9ZD9kOiEwO3ZhciBlPVtdLGY9bmV3IG14RGljdGlvbmFyeTtpZihudWxsIT1hKWZvcih2YXIgZz0wO2c8YS5sZW5ndGg7ZysrKXt2YXIgaz10aGlzLnZpZXcuZ2V0U3RhdGUoYVtnXSksbD1udWxsIT1rP2suZ2V0VmlzaWJsZVRlcm1pbmFsKCEwKTp0aGlzLnZpZXcuZ2V0VmlzaWJsZVRlcm1pbmFsKGFbZ10sITApLGs9bnVsbCE9az9rLmdldFZpc2libGVUZXJtaW5hbCghMSk6dGhpcy52aWV3LmdldFZpc2libGVUZXJtaW5hbChhW2ddLCExKTtsPT1iJiZudWxsIT1rJiZrIT1iJiZkP2YuZ2V0KGspfHwoZi5wdXQoaywhMCksZS5wdXNoKGspKTprPT1iJiZudWxsIT1sJiZsIT1iJiZjJiYhZi5nZXQobCkmJihmLnB1dChsLCEwKSxlLnB1c2gobCkpfXJldHVybiBlfTsKbXhHcmFwaC5wcm90b3R5cGUuZ2V0RWRnZXNCZXR3ZWVuPWZ1bmN0aW9uKGEsYixjKXtjPW51bGwhPWM/YzohMTtmb3IodmFyIGQ9dGhpcy5nZXRFZGdlcyhhKSxlPVtdLGY9MDtmPGQubGVuZ3RoO2YrKyl7dmFyIGc9dGhpcy52aWV3LmdldFN0YXRlKGRbZl0pLGs9bnVsbCE9Zz9nLmdldFZpc2libGVUZXJtaW5hbCghMCk6dGhpcy52aWV3LmdldFZpc2libGVUZXJtaW5hbChkW2ZdLCEwKSxnPW51bGwhPWc/Zy5nZXRWaXNpYmxlVGVybWluYWwoITEpOnRoaXMudmlldy5nZXRWaXNpYmxlVGVybWluYWwoZFtmXSwhMSk7KGs9PWEmJmc9PWJ8fCFjJiZrPT1iJiZnPT1hKSYmZS5wdXNoKGRbZl0pfXJldHVybiBlfTsKbXhHcmFwaC5wcm90b3R5cGUuZ2V0UG9pbnRGb3JFdmVudD1mdW5jdGlvbihhLGIpe3ZhciBjPW14VXRpbHMuY29udmVydFBvaW50KHRoaXMuY29udGFpbmVyLG14RXZlbnQuZ2V0Q2xpZW50WChhKSxteEV2ZW50LmdldENsaWVudFkoYSkpLGQ9dGhpcy52aWV3LnNjYWxlLGU9dGhpcy52aWV3LnRyYW5zbGF0ZSxmPTAhPWI/dGhpcy5ncmlkU2l6ZS8yOjA7Yy54PXRoaXMuc25hcChjLngvZC1lLngtZik7Yy55PXRoaXMuc25hcChjLnkvZC1lLnktZik7cmV0dXJuIGN9OwpteEdyYXBoLnByb3RvdHlwZS5nZXRDZWxscz1mdW5jdGlvbihhLGIsYyxkLGUsZil7Zj1udWxsIT1mP2Y6W107aWYoMDxjfHwwPGQpe3ZhciBnPXRoaXMuZ2V0TW9kZWwoKSxrPWErYyxsPWIrZDtudWxsPT1lJiYoZT10aGlzLmdldEN1cnJlbnRSb290KCksbnVsbD09ZSYmKGU9Zy5nZXRSb290KCkpKTtpZihudWxsIT1lKWZvcih2YXIgbT1nLmdldENoaWxkQ291bnQoZSksbj0wO248bTtuKyspe3ZhciBwPWcuZ2V0Q2hpbGRBdChlLG4pLHE9dGhpcy52aWV3LmdldFN0YXRlKHApO2lmKG51bGwhPXEmJnRoaXMuaXNDZWxsVmlzaWJsZShwKSl7dmFyIHI9bXhVdGlscy5nZXRWYWx1ZShxLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX1JPVEFUSU9OKXx8MDswIT1yJiYocT1teFV0aWxzLmdldEJvdW5kaW5nQm94KHEscikpOyhnLmlzRWRnZShwKXx8Zy5pc1ZlcnRleChwKSkmJnEueD49YSYmcS55K3EuaGVpZ2h0PD1sJiZxLnk+PWImJnEueCtxLndpZHRoPD1rP2YucHVzaChwKTp0aGlzLmdldENlbGxzKGEsCmIsYyxkLHAsZil9fX1yZXR1cm4gZn07bXhHcmFwaC5wcm90b3R5cGUuZ2V0Q2VsbHNCZXlvbmQ9ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZj1bXTtpZihkfHxlKWlmKG51bGw9PWMmJihjPXRoaXMuZ2V0RGVmYXVsdFBhcmVudCgpKSxudWxsIT1jKWZvcih2YXIgZz10aGlzLm1vZGVsLmdldENoaWxkQ291bnQoYyksaz0wO2s8ZztrKyspe3ZhciBsPXRoaXMubW9kZWwuZ2V0Q2hpbGRBdChjLGspLG09dGhpcy52aWV3LmdldFN0YXRlKGwpO3RoaXMuaXNDZWxsVmlzaWJsZShsKSYmbnVsbCE9bSYmKCFkfHxtLng+PWEpJiYoIWV8fG0ueT49YikmJmYucHVzaChsKX1yZXR1cm4gZn07Cm14R3JhcGgucHJvdG90eXBlLmZpbmRUcmVlUm9vdHM9ZnVuY3Rpb24oYSxiLGMpe2I9bnVsbCE9Yj9iOiExO2M9bnVsbCE9Yz9jOiExO3ZhciBkPVtdO2lmKG51bGwhPWEpe2Zvcih2YXIgZT10aGlzLmdldE1vZGVsKCksZj1lLmdldENoaWxkQ291bnQoYSksZz1udWxsLGs9MCxsPTA7bDxmO2wrKyl7dmFyIG09ZS5nZXRDaGlsZEF0KGEsbCk7aWYodGhpcy5tb2RlbC5pc1ZlcnRleChtKSYmdGhpcy5pc0NlbGxWaXNpYmxlKG0pKXtmb3IodmFyIG49dGhpcy5nZXRDb25uZWN0aW9ucyhtLGI/YTpudWxsKSxwPTAscT0wLHI9MDtyPG4ubGVuZ3RoO3IrKyl0aGlzLnZpZXcuZ2V0VmlzaWJsZVRlcm1pbmFsKG5bcl0sITApPT1tP3ArKzpxKys7KGMmJjA9PXAmJjA8cXx8IWMmJjA9PXEmJjA8cCkmJmQucHVzaChtKTtuPWM/cS1wOnAtcTtuPmsmJihrPW4sZz1tKX19MD09ZC5sZW5ndGgmJm51bGwhPWcmJmQucHVzaChnKX1yZXR1cm4gZH07Cm14R3JhcGgucHJvdG90eXBlLnRyYXZlcnNlPWZ1bmN0aW9uKGEsYixjLGQsZSxmKXtpZihudWxsIT1jJiZudWxsIT1hJiYoYj1udWxsIT1iP2I6ITAsZj1udWxsIT1mP2Y6ITEsZT1lfHxuZXcgbXhEaWN0aW9uYXJ5LCFlLmdldChhKSYmKGUucHV0KGEsITApLGQ9YyhhLGQpLG51bGw9PWR8fGQpKSYmKGQ9dGhpcy5tb2RlbC5nZXRFZGdlQ291bnQoYSksMDxkKSlmb3IodmFyIGc9MDtnPGQ7ZysrKXt2YXIgaz10aGlzLm1vZGVsLmdldEVkZ2VBdChhLGcpLGw9dGhpcy5tb2RlbC5nZXRUZXJtaW5hbChrLCEwKT09YTtiJiYhZiE9bHx8KGw9dGhpcy5tb2RlbC5nZXRUZXJtaW5hbChrLCFsKSx0aGlzLnRyYXZlcnNlKGwsYixjLGssZSxmKSl9fTtteEdyYXBoLnByb3RvdHlwZS5pc0NlbGxTZWxlY3RlZD1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5nZXRTZWxlY3Rpb25Nb2RlbCgpLmlzU2VsZWN0ZWQoYSl9O214R3JhcGgucHJvdG90eXBlLmlzU2VsZWN0aW9uRW1wdHk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRTZWxlY3Rpb25Nb2RlbCgpLmlzRW1wdHkoKX07Cm14R3JhcGgucHJvdG90eXBlLmNsZWFyU2VsZWN0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0U2VsZWN0aW9uTW9kZWwoKS5jbGVhcigpfTtteEdyYXBoLnByb3RvdHlwZS5nZXRTZWxlY3Rpb25Db3VudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFNlbGVjdGlvbk1vZGVsKCkuY2VsbHMubGVuZ3RofTtteEdyYXBoLnByb3RvdHlwZS5nZXRTZWxlY3Rpb25DZWxsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0U2VsZWN0aW9uTW9kZWwoKS5jZWxsc1swXX07bXhHcmFwaC5wcm90b3R5cGUuZ2V0U2VsZWN0aW9uQ2VsbHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRTZWxlY3Rpb25Nb2RlbCgpLmNlbGxzLnNsaWNlKCl9O214R3JhcGgucHJvdG90eXBlLnNldFNlbGVjdGlvbkNlbGw9ZnVuY3Rpb24oYSl7dGhpcy5nZXRTZWxlY3Rpb25Nb2RlbCgpLnNldENlbGwoYSl9O214R3JhcGgucHJvdG90eXBlLnNldFNlbGVjdGlvbkNlbGxzPWZ1bmN0aW9uKGEpe3RoaXMuZ2V0U2VsZWN0aW9uTW9kZWwoKS5zZXRDZWxscyhhKX07Cm14R3JhcGgucHJvdG90eXBlLmFkZFNlbGVjdGlvbkNlbGw9ZnVuY3Rpb24oYSl7dGhpcy5nZXRTZWxlY3Rpb25Nb2RlbCgpLmFkZENlbGwoYSl9O214R3JhcGgucHJvdG90eXBlLmFkZFNlbGVjdGlvbkNlbGxzPWZ1bmN0aW9uKGEpe3RoaXMuZ2V0U2VsZWN0aW9uTW9kZWwoKS5hZGRDZWxscyhhKX07bXhHcmFwaC5wcm90b3R5cGUucmVtb3ZlU2VsZWN0aW9uQ2VsbD1mdW5jdGlvbihhKXt0aGlzLmdldFNlbGVjdGlvbk1vZGVsKCkucmVtb3ZlQ2VsbChhKX07bXhHcmFwaC5wcm90b3R5cGUucmVtb3ZlU2VsZWN0aW9uQ2VsbHM9ZnVuY3Rpb24oYSl7dGhpcy5nZXRTZWxlY3Rpb25Nb2RlbCgpLnJlbW92ZUNlbGxzKGEpfTtteEdyYXBoLnByb3RvdHlwZS5zZWxlY3RSZWdpb249ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdldENlbGxzKGEueCxhLnksYS53aWR0aCxhLmhlaWdodCk7dGhpcy5zZWxlY3RDZWxsc0ZvckV2ZW50KGMsYik7cmV0dXJuIGN9OwpteEdyYXBoLnByb3RvdHlwZS5zZWxlY3ROZXh0Q2VsbD1mdW5jdGlvbigpe3RoaXMuc2VsZWN0Q2VsbCghMCl9O214R3JhcGgucHJvdG90eXBlLnNlbGVjdFByZXZpb3VzQ2VsbD1mdW5jdGlvbigpe3RoaXMuc2VsZWN0Q2VsbCgpfTtteEdyYXBoLnByb3RvdHlwZS5zZWxlY3RQYXJlbnRDZWxsPWZ1bmN0aW9uKCl7dGhpcy5zZWxlY3RDZWxsKCExLCEwKX07bXhHcmFwaC5wcm90b3R5cGUuc2VsZWN0Q2hpbGRDZWxsPWZ1bmN0aW9uKCl7dGhpcy5zZWxlY3RDZWxsKCExLCExLCEwKX07Cm14R3JhcGgucHJvdG90eXBlLnNlbGVjdENlbGw9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXMuc2VsZWN0aW9uTW9kZWwsZT0wPGQuY2VsbHMubGVuZ3RoP2QuY2VsbHNbMF06bnVsbDsxPGQuY2VsbHMubGVuZ3RoJiZkLmNsZWFyKCk7dmFyIGQ9bnVsbCE9ZT90aGlzLm1vZGVsLmdldFBhcmVudChlKTp0aGlzLmdldERlZmF1bHRQYXJlbnQoKSxmPXRoaXMubW9kZWwuZ2V0Q2hpbGRDb3VudChkKTtudWxsPT1lJiYwPGY/KGE9dGhpcy5tb2RlbC5nZXRDaGlsZEF0KGQsMCksdGhpcy5zZXRTZWxlY3Rpb25DZWxsKGEpKTpudWxsIT1lJiYhYnx8bnVsbD09dGhpcy52aWV3LmdldFN0YXRlKGQpfHxudWxsPT10aGlzLm1vZGVsLmdldEdlb21ldHJ5KGQpP251bGwhPWUmJmM/MDx0aGlzLm1vZGVsLmdldENoaWxkQ291bnQoZSkmJihhPXRoaXMubW9kZWwuZ2V0Q2hpbGRBdChlLDApLHRoaXMuc2V0U2VsZWN0aW9uQ2VsbChhKSk6MDxmJiYoYj1kLmdldEluZGV4KGUpLGE/KGIrKyxhPXRoaXMubW9kZWwuZ2V0Q2hpbGRBdChkLApiJWYpKTooYi0tLGE9dGhpcy5tb2RlbC5nZXRDaGlsZEF0KGQsMD5iP2YtMTpiKSksdGhpcy5zZXRTZWxlY3Rpb25DZWxsKGEpKTp0aGlzLmdldEN1cnJlbnRSb290KCkhPWQmJnRoaXMuc2V0U2VsZWN0aW9uQ2VsbChkKX07bXhHcmFwaC5wcm90b3R5cGUuc2VsZWN0QWxsPWZ1bmN0aW9uKGEsYil7YT1hfHx0aGlzLmdldERlZmF1bHRQYXJlbnQoKTt2YXIgYz1iP3RoaXMubW9kZWwuZmlsdGVyRGVzY2VuZGFudHMobXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYil7cmV0dXJuIGIhPWEmJm51bGwhPXRoaXMudmlldy5nZXRTdGF0ZShiKX0pLGEpOnRoaXMubW9kZWwuZ2V0Q2hpbGRyZW4oYSk7bnVsbCE9YyYmdGhpcy5zZXRTZWxlY3Rpb25DZWxscyhjKX07bXhHcmFwaC5wcm90b3R5cGUuc2VsZWN0VmVydGljZXM9ZnVuY3Rpb24oYSxiKXt0aGlzLnNlbGVjdENlbGxzKCEwLCExLGEsYil9OwpteEdyYXBoLnByb3RvdHlwZS5zZWxlY3RFZGdlcz1mdW5jdGlvbihhKXt0aGlzLnNlbGVjdENlbGxzKCExLCEwLGEpfTtteEdyYXBoLnByb3RvdHlwZS5zZWxlY3RDZWxscz1mdW5jdGlvbihhLGIsYyxkKXtjPWN8fHRoaXMuZ2V0RGVmYXVsdFBhcmVudCgpO3ZhciBlPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGMpe3JldHVybiBudWxsIT10aGlzLnZpZXcuZ2V0U3RhdGUoYykmJigoZHx8MD09dGhpcy5tb2RlbC5nZXRDaGlsZENvdW50KGMpKSYmdGhpcy5tb2RlbC5pc1ZlcnRleChjKSYmYSYmIXRoaXMubW9kZWwuaXNFZGdlKHRoaXMubW9kZWwuZ2V0UGFyZW50KGMpKXx8dGhpcy5tb2RlbC5pc0VkZ2UoYykmJmIpfSk7Yz10aGlzLm1vZGVsLmZpbHRlckRlc2NlbmRhbnRzKGUsYyk7bnVsbCE9YyYmdGhpcy5zZXRTZWxlY3Rpb25DZWxscyhjKX07Cm14R3JhcGgucHJvdG90eXBlLnNlbGVjdENlbGxGb3JFdmVudD1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuaXNDZWxsU2VsZWN0ZWQoYSk7dGhpcy5pc1RvZ2dsZUV2ZW50KGIpP2M/dGhpcy5yZW1vdmVTZWxlY3Rpb25DZWxsKGEpOnRoaXMuYWRkU2VsZWN0aW9uQ2VsbChhKTpjJiYxPT10aGlzLmdldFNlbGVjdGlvbkNvdW50KCl8fHRoaXMuc2V0U2VsZWN0aW9uQ2VsbChhKX07bXhHcmFwaC5wcm90b3R5cGUuc2VsZWN0Q2VsbHNGb3JFdmVudD1mdW5jdGlvbihhLGIpe3RoaXMuaXNUb2dnbGVFdmVudChiKT90aGlzLmFkZFNlbGVjdGlvbkNlbGxzKGEpOnRoaXMuc2V0U2VsZWN0aW9uQ2VsbHMoYSl9OwpteEdyYXBoLnByb3RvdHlwZS5jcmVhdGVIYW5kbGVyPWZ1bmN0aW9uKGEpe3ZhciBiPW51bGw7aWYobnVsbCE9YSlpZih0aGlzLm1vZGVsLmlzRWRnZShhLmNlbGwpKXZhciBiPWEuZ2V0VmlzaWJsZVRlcm1pbmFsU3RhdGUoITApLGM9YS5nZXRWaXNpYmxlVGVybWluYWxTdGF0ZSghMSksZD10aGlzLmdldENlbGxHZW9tZXRyeShhLmNlbGwpLGI9dGhpcy52aWV3LmdldEVkZ2VTdHlsZShhLG51bGwhPWQ/ZC5wb2ludHM6bnVsbCxiLGMpLGI9dGhpcy5jcmVhdGVFZGdlSGFuZGxlcihhLGIpO2Vsc2UgYj10aGlzLmNyZWF0ZVZlcnRleEhhbmRsZXIoYSk7cmV0dXJuIGJ9O214R3JhcGgucHJvdG90eXBlLmNyZWF0ZVZlcnRleEhhbmRsZXI9ZnVuY3Rpb24oYSl7cmV0dXJuIG5ldyBteFZlcnRleEhhbmRsZXIoYSl9OwpteEdyYXBoLnByb3RvdHlwZS5jcmVhdGVFZGdlSGFuZGxlcj1mdW5jdGlvbihhLGIpe3JldHVybiBiPT1teEVkZ2VTdHlsZS5Mb29wfHxiPT1teEVkZ2VTdHlsZS5FbGJvd0Nvbm5lY3Rvcnx8Yj09bXhFZGdlU3R5bGUuU2lkZVRvU2lkZXx8Yj09bXhFZGdlU3R5bGUuVG9wVG9Cb3R0b20/dGhpcy5jcmVhdGVFbGJvd0VkZ2VIYW5kbGVyKGEpOmI9PW14RWRnZVN0eWxlLlNlZ21lbnRDb25uZWN0b3J8fGI9PW14RWRnZVN0eWxlLk9ydGhDb25uZWN0b3I/dGhpcy5jcmVhdGVFZGdlU2VnbWVudEhhbmRsZXIoYSk6bmV3IG14RWRnZUhhbmRsZXIoYSl9O214R3JhcGgucHJvdG90eXBlLmNyZWF0ZUVkZ2VTZWdtZW50SGFuZGxlcj1mdW5jdGlvbihhKXtyZXR1cm4gbmV3IG14RWRnZVNlZ21lbnRIYW5kbGVyKGEpfTtteEdyYXBoLnByb3RvdHlwZS5jcmVhdGVFbGJvd0VkZ2VIYW5kbGVyPWZ1bmN0aW9uKGEpe3JldHVybiBuZXcgbXhFbGJvd0VkZ2VIYW5kbGVyKGEpfTsKbXhHcmFwaC5wcm90b3R5cGUuYWRkTW91c2VMaXN0ZW5lcj1mdW5jdGlvbihhKXtudWxsPT10aGlzLm1vdXNlTGlzdGVuZXJzJiYodGhpcy5tb3VzZUxpc3RlbmVycz1bXSk7dGhpcy5tb3VzZUxpc3RlbmVycy5wdXNoKGEpfTtteEdyYXBoLnByb3RvdHlwZS5yZW1vdmVNb3VzZUxpc3RlbmVyPWZ1bmN0aW9uKGEpe2lmKG51bGwhPXRoaXMubW91c2VMaXN0ZW5lcnMpZm9yKHZhciBiPTA7Yjx0aGlzLm1vdXNlTGlzdGVuZXJzLmxlbmd0aDtiKyspaWYodGhpcy5tb3VzZUxpc3RlbmVyc1tiXT09YSl7dGhpcy5tb3VzZUxpc3RlbmVycy5zcGxpY2UoYiwxKTticmVha319OwpteEdyYXBoLnByb3RvdHlwZS51cGRhdGVNb3VzZUV2ZW50PWZ1bmN0aW9uKGEsYil7aWYobnVsbD09YS5ncmFwaFh8fG51bGw9PWEuZ3JhcGhZKXt2YXIgYz1teFV0aWxzLmNvbnZlcnRQb2ludCh0aGlzLmNvbnRhaW5lcixhLmdldFgoKSxhLmdldFkoKSk7YS5ncmFwaFg9Yy54LXRoaXMucGFuRHg7YS5ncmFwaFk9Yy55LXRoaXMucGFuRHk7bnVsbD09YS5nZXRDZWxsKCkmJnRoaXMuaXNNb3VzZURvd24mJmI9PW14RXZlbnQuTU9VU0VfTU9WRSYmKGEuc3RhdGU9dGhpcy52aWV3LmdldFN0YXRlKHRoaXMuZ2V0Q2VsbEF0KGMueCxjLnksbnVsbCxudWxsLG51bGwsZnVuY3Rpb24oYSl7cmV0dXJuIG51bGw9PWEuc2hhcGV8fGEuc2hhcGUucGFpbnRCYWNrZ3JvdW5kIT1teFJlY3RhbmdsZVNoYXBlLnByb3RvdHlwZS5wYWludEJhY2tncm91bmR8fCIxIj09bXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX1BPSU5URVJfRVZFTlRTLCIxIil8fG51bGwhPWEuc2hhcGUuZmlsbCYmCmEuc2hhcGUuZmlsbCE9bXhDb25zdGFudHMuTk9ORX0pKSl9cmV0dXJuIGF9O214R3JhcGgucHJvdG90eXBlLmdldFN0YXRlRm9yVG91Y2hFdmVudD1mdW5jdGlvbihhKXt2YXIgYj1teEV2ZW50LmdldENsaWVudFgoYSk7YT1teEV2ZW50LmdldENsaWVudFkoYSk7Yj1teFV0aWxzLmNvbnZlcnRQb2ludCh0aGlzLmNvbnRhaW5lcixiLGEpO3JldHVybiB0aGlzLnZpZXcuZ2V0U3RhdGUodGhpcy5nZXRDZWxsQXQoYi54LGIueSkpfTsKbXhHcmFwaC5wcm90b3R5cGUuaXNFdmVudElnbm9yZWQ9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPW14RXZlbnQuaXNNb3VzZUV2ZW50KGIuZ2V0RXZlbnQoKSksZT0hMTtiLmdldEV2ZW50KCk9PXRoaXMubGFzdEV2ZW50P2U9ITA6dGhpcy5sYXN0RXZlbnQ9Yi5nZXRFdmVudCgpO251bGwhPXRoaXMuZXZlbnRTb3VyY2UmJmEhPW14RXZlbnQuTU9VU0VfTU9WRT8obXhFdmVudC5yZW1vdmVHZXN0dXJlTGlzdGVuZXJzKHRoaXMuZXZlbnRTb3VyY2UsbnVsbCx0aGlzLm1vdXNlTW92ZVJlZGlyZWN0LHRoaXMubW91c2VVcFJlZGlyZWN0KSx0aGlzLmV2ZW50U291cmNlPXRoaXMubW91c2VVcFJlZGlyZWN0PXRoaXMubW91c2VNb3ZlUmVkaXJlY3Q9bnVsbCk6bXhDbGllbnQuSVNfR0N8fG51bGw9PXRoaXMuZXZlbnRTb3VyY2V8fGIuZ2V0U291cmNlKCk9PXRoaXMuZXZlbnRTb3VyY2U/IW14Q2xpZW50LklTX1RPVUNIfHxhIT1teEV2ZW50Lk1PVVNFX0RPV058fGR8fG14RXZlbnQuaXNQZW5FdmVudChiLmdldEV2ZW50KCkpfHwKKHRoaXMuZXZlbnRTb3VyY2U9Yi5nZXRTb3VyY2UoKSx0aGlzLm1vdXNlTW92ZVJlZGlyZWN0PW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3RoaXMuZmlyZU1vdXNlRXZlbnQobXhFdmVudC5NT1VTRV9NT1ZFLG5ldyBteE1vdXNlRXZlbnQoYSx0aGlzLmdldFN0YXRlRm9yVG91Y2hFdmVudChhKSkpfSksdGhpcy5tb3VzZVVwUmVkaXJlY3Q9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7dGhpcy5maXJlTW91c2VFdmVudChteEV2ZW50Lk1PVVNFX1VQLG5ldyBteE1vdXNlRXZlbnQoYSx0aGlzLmdldFN0YXRlRm9yVG91Y2hFdmVudChhKSkpfSksbXhFdmVudC5hZGRHZXN0dXJlTGlzdGVuZXJzKHRoaXMuZXZlbnRTb3VyY2UsbnVsbCx0aGlzLm1vdXNlTW92ZVJlZGlyZWN0LHRoaXMubW91c2VVcFJlZGlyZWN0KSk6ZT0hMDt0aGlzLmlzU3ludGhldGljRXZlbnRJZ25vcmVkKGEsYixjKSYmKGU9ITApO2lmKCFteEV2ZW50LmlzUG9wdXBUcmlnZ2VyKHRoaXMubGFzdEV2ZW50KSYmCmEhPW14RXZlbnQuTU9VU0VfTU9WRSYmMj09dGhpcy5sYXN0RXZlbnQuZGV0YWlsKXJldHVybiEwO2E9PW14RXZlbnQuTU9VU0VfVVAmJnRoaXMuaXNNb3VzZURvd24/dGhpcy5pc01vdXNlRG93bj0hMTphIT1teEV2ZW50Lk1PVVNFX0RPV058fHRoaXMuaXNNb3VzZURvd24/IWUmJigoIW14Q2xpZW50LklTX0ZGfHxhIT1teEV2ZW50Lk1PVVNFX01PVkUpJiZ0aGlzLmlzTW91c2VEb3duJiZ0aGlzLmlzTW91c2VUcmlnZ2VyIT1kfHxhPT1teEV2ZW50Lk1PVVNFX0RPV04mJnRoaXMuaXNNb3VzZURvd258fGE9PW14RXZlbnQuTU9VU0VfVVAmJiF0aGlzLmlzTW91c2VEb3duKSYmKGU9ITApOih0aGlzLmlzTW91c2VEb3duPSEwLHRoaXMuaXNNb3VzZVRyaWdnZXI9ZCk7ZXx8YSE9bXhFdmVudC5NT1VTRV9ET1dOfHwodGhpcy5sYXN0TW91c2VYPWIuZ2V0WCgpLHRoaXMubGFzdE1vdXNlWT1iLmdldFkoKSk7cmV0dXJuIGV9OwpteEdyYXBoLnByb3RvdHlwZS5pc1N5bnRoZXRpY0V2ZW50SWdub3JlZD1mdW5jdGlvbihhLGIsYyl7Yz0hMTtiPW14RXZlbnQuaXNNb3VzZUV2ZW50KGIuZ2V0RXZlbnQoKSk7dGhpcy5pZ25vcmVNb3VzZUV2ZW50cyYmYiYmYSE9bXhFdmVudC5NT1VTRV9NT1ZFPyh0aGlzLmlnbm9yZU1vdXNlRXZlbnRzPWEhPW14RXZlbnQuTU9VU0VfVVAsYz0hMCk6bXhDbGllbnQuSVNfRkYmJiFiJiZhPT1teEV2ZW50Lk1PVVNFX1VQJiYodGhpcy5pZ25vcmVNb3VzZUV2ZW50cz0hMCk7cmV0dXJuIGN9OwpteEdyYXBoLnByb3RvdHlwZS5pc0V2ZW50U291cmNlSWdub3JlZD1mdW5jdGlvbihhLGIpe3ZhciBjPWIuZ2V0U291cmNlKCksZD1udWxsIT1jLm5vZGVOYW1lP2Mubm9kZU5hbWUudG9Mb3dlckNhc2UoKToiIixlPSFteEV2ZW50LmlzTW91c2VFdmVudChiLmdldEV2ZW50KCkpfHxteEV2ZW50LmlzTGVmdE1vdXNlQnV0dG9uKGIuZ2V0RXZlbnQoKSk7cmV0dXJuIGE9PW14RXZlbnQuTU9VU0VfRE9XTiYmZSYmKCJzZWxlY3QiPT1kfHwib3B0aW9uIj09ZHx8ImlucHV0Ij09ZCYmImNoZWNrYm94IiE9Yy50eXBlJiYicmFkaW8iIT1jLnR5cGUmJiJidXR0b24iIT1jLnR5cGUmJiJzdWJtaXQiIT1jLnR5cGUmJiJmaWxlIiE9Yy50eXBlKX07bXhHcmFwaC5wcm90b3R5cGUuZ2V0RXZlbnRTdGF0ZT1mdW5jdGlvbihhKXtyZXR1cm4gYX07Cm14R3JhcGgucHJvdG90eXBlLmZpcmVNb3VzZUV2ZW50PWZ1bmN0aW9uKGEsYixjKXtpZih0aGlzLmlzRXZlbnRTb3VyY2VJZ25vcmVkKGEsYikpbnVsbCE9dGhpcy50b29sdGlwSGFuZGxlciYmdGhpcy50b29sdGlwSGFuZGxlci5oaWRlKCk7ZWxzZXtudWxsPT1jJiYoYz10aGlzKTtiPXRoaXMudXBkYXRlTW91c2VFdmVudChiLGEpO2lmKCF0aGlzLm5hdGl2ZURibENsaWNrRW5hYmxlZCYmIW14RXZlbnQuaXNQb3B1cFRyaWdnZXIoYi5nZXRFdmVudCgpKXx8dGhpcy5kb3VibGVUYXBFbmFibGVkJiZteENsaWVudC5JU19UT1VDSCYmKG14RXZlbnQuaXNUb3VjaEV2ZW50KGIuZ2V0RXZlbnQoKSl8fG14RXZlbnQuaXNQZW5FdmVudChiLmdldEV2ZW50KCkpKSl7dmFyIGQ9KG5ldyBEYXRlKS5nZXRUaW1lKCk7aWYoIW14Q2xpZW50LklTX1FVSVJLUyYmYT09bXhFdmVudC5NT1VTRV9ET1dOfHxteENsaWVudC5JU19RVUlSS1MmJmE9PW14RXZlbnQuTU9VU0VfVVAmJiF0aGlzLmZpcmVEb3VibGVDbGljaylpZihudWxsIT0KdGhpcy5sYXN0VG91Y2hFdmVudCYmdGhpcy5sYXN0VG91Y2hFdmVudCE9Yi5nZXRFdmVudCgpJiZkLXRoaXMubGFzdFRvdWNoVGltZTx0aGlzLmRvdWJsZVRhcFRpbWVvdXQmJk1hdGguYWJzKHRoaXMubGFzdFRvdWNoWC1iLmdldFgoKSk8dGhpcy5kb3VibGVUYXBUb2xlcmFuY2UmJk1hdGguYWJzKHRoaXMubGFzdFRvdWNoWS1iLmdldFkoKSk8dGhpcy5kb3VibGVUYXBUb2xlcmFuY2UmJjI+dGhpcy5kb3VibGVDbGlja0NvdW50ZXIpe2lmKHRoaXMuZG91YmxlQ2xpY2tDb3VudGVyKyssZD0hMSxhPT1teEV2ZW50Lk1PVVNFX1VQP2IuZ2V0Q2VsbCgpPT10aGlzLmxhc3RUb3VjaENlbGwmJm51bGwhPXRoaXMubGFzdFRvdWNoQ2VsbCYmKHRoaXMubGFzdFRvdWNoVGltZT0wLGQ9dGhpcy5sYXN0VG91Y2hDZWxsLHRoaXMubGFzdFRvdWNoQ2VsbD1udWxsLG14Q2xpZW50LklTX1FVSVJLUyYmYi5nZXRTb3VyY2UoKS5maXJlRXZlbnQoIm9uZGJsY2xpY2siKSx0aGlzLmRibENsaWNrKGIuZ2V0RXZlbnQoKSwKZCksZD0hMCk6KHRoaXMuZmlyZURvdWJsZUNsaWNrPSEwLHRoaXMubGFzdFRvdWNoVGltZT0wKSwhbXhDbGllbnQuSVNfUVVJUktTfHxkKXtteEV2ZW50LmNvbnN1bWUoYi5nZXRFdmVudCgpKTtyZXR1cm59fWVsc2V7aWYobnVsbD09dGhpcy5sYXN0VG91Y2hFdmVudHx8dGhpcy5sYXN0VG91Y2hFdmVudCE9Yi5nZXRFdmVudCgpKXRoaXMubGFzdFRvdWNoQ2VsbD1iLmdldENlbGwoKSx0aGlzLmxhc3RUb3VjaFg9Yi5nZXRYKCksdGhpcy5sYXN0VG91Y2hZPWIuZ2V0WSgpLHRoaXMubGFzdFRvdWNoVGltZT1kLHRoaXMubGFzdFRvdWNoRXZlbnQ9Yi5nZXRFdmVudCgpLHRoaXMuZG91YmxlQ2xpY2tDb3VudGVyPTB9ZWxzZSBpZigodGhpcy5pc01vdXNlRG93bnx8YT09bXhFdmVudC5NT1VTRV9VUCkmJnRoaXMuZmlyZURvdWJsZUNsaWNrKXt0aGlzLmZpcmVEb3VibGVDbGljaz0hMTtkPXRoaXMubGFzdFRvdWNoQ2VsbDt0aGlzLmxhc3RUb3VjaENlbGw9bnVsbDt0aGlzLmlzTW91c2VEb3duPQohMTsobnVsbCE9ZHx8KG14RXZlbnQuaXNUb3VjaEV2ZW50KGIuZ2V0RXZlbnQoKSl8fG14RXZlbnQuaXNQZW5FdmVudChiLmdldEV2ZW50KCkpKSYmKG14Q2xpZW50LklTX0dDfHxteENsaWVudC5JU19TRikpJiZNYXRoLmFicyh0aGlzLmxhc3RUb3VjaFgtYi5nZXRYKCkpPHRoaXMuZG91YmxlVGFwVG9sZXJhbmNlJiZNYXRoLmFicyh0aGlzLmxhc3RUb3VjaFktYi5nZXRZKCkpPHRoaXMuZG91YmxlVGFwVG9sZXJhbmNlP3RoaXMuZGJsQ2xpY2soYi5nZXRFdmVudCgpLGQpOm14RXZlbnQuY29uc3VtZShiLmdldEV2ZW50KCkpO3JldHVybn19aWYoIXRoaXMuaXNFdmVudElnbm9yZWQoYSxiLGMpKXtiLnN0YXRlPXRoaXMuZ2V0RXZlbnRTdGF0ZShiLmdldFN0YXRlKCkpO3RoaXMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KG14RXZlbnQuRklSRV9NT1VTRV9FVkVOVCwiZXZlbnROYW1lIixhLCJldmVudCIsYikpO2lmKG14Q2xpZW50LklTX09QfHxteENsaWVudC5JU19TRnx8bXhDbGllbnQuSVNfR0N8fApteENsaWVudC5JU19JRTExfHxteENsaWVudC5JU19JRSYmbXhDbGllbnQuSVNfU1ZHfHxiLmdldEV2ZW50KCkudGFyZ2V0IT10aGlzLmNvbnRhaW5lcil7aWYoYT09bXhFdmVudC5NT1VTRV9NT1ZFJiZ0aGlzLmlzTW91c2VEb3duJiZ0aGlzLmF1dG9TY3JvbGwmJiFteEV2ZW50LmlzTXVsdGlUb3VjaEV2ZW50KGIuZ2V0RXZlbnQpKXRoaXMuc2Nyb2xsUG9pbnRUb1Zpc2libGUoYi5nZXRHcmFwaFgoKSxiLmdldEdyYXBoWSgpLHRoaXMuYXV0b0V4dGVuZCk7ZWxzZSBpZihhPT1teEV2ZW50Lk1PVVNFX1VQJiZ0aGlzLmlnbm9yZVNjcm9sbGJhcnMmJnRoaXMudHJhbnNsYXRlVG9TY3JvbGxQb3NpdGlvbiYmKDAhPXRoaXMuY29udGFpbmVyLnNjcm9sbExlZnR8fDAhPXRoaXMuY29udGFpbmVyLnNjcm9sbFRvcCkpe3ZhciBkPXRoaXMudmlldy5zY2FsZSxlPXRoaXMudmlldy50cmFuc2xhdGU7dGhpcy52aWV3LnNldFRyYW5zbGF0ZShlLngtdGhpcy5jb250YWluZXIuc2Nyb2xsTGVmdC8KZCxlLnktdGhpcy5jb250YWluZXIuc2Nyb2xsVG9wL2QpO3RoaXMuY29udGFpbmVyLnNjcm9sbExlZnQ9MDt0aGlzLmNvbnRhaW5lci5zY3JvbGxUb3A9MH1pZihudWxsIT10aGlzLm1vdXNlTGlzdGVuZXJzKWZvcihkPVtjLGJdLGIuZ2V0RXZlbnQoKS5wcmV2ZW50RGVmYXVsdHx8KGIuZ2V0RXZlbnQoKS5yZXR1cm5WYWx1ZT0hMCksZT0wO2U8dGhpcy5tb3VzZUxpc3RlbmVycy5sZW5ndGg7ZSsrKXt2YXIgZj10aGlzLm1vdXNlTGlzdGVuZXJzW2VdO2E9PW14RXZlbnQuTU9VU0VfRE9XTj9mLm1vdXNlRG93bi5hcHBseShmLGQpOmE9PW14RXZlbnQuTU9VU0VfTU9WRT9mLm1vdXNlTW92ZS5hcHBseShmLGQpOmE9PW14RXZlbnQuTU9VU0VfVVAmJmYubW91c2VVcC5hcHBseShmLGQpfWE9PW14RXZlbnQuTU9VU0VfVVAmJnRoaXMuY2xpY2soYil9KG14RXZlbnQuaXNUb3VjaEV2ZW50KGIuZ2V0RXZlbnQoKSl8fG14RXZlbnQuaXNQZW5FdmVudChiLmdldEV2ZW50KCkpKSYmYT09bXhFdmVudC5NT1VTRV9ET1dOJiYKdGhpcy50YXBBbmRIb2xkRW5hYmxlZCYmIXRoaXMudGFwQW5kSG9sZEluUHJvZ3Jlc3M/KHRoaXMudGFwQW5kSG9sZEluUHJvZ3Jlc3M9ITAsdGhpcy5pbml0aWFsVG91Y2hYPWIuZ2V0R3JhcGhYKCksdGhpcy5pbml0aWFsVG91Y2hZPWIuZ2V0R3JhcGhZKCksdGhpcy50YXBBbmRIb2xkVGhyZWFkJiZ3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMudGFwQW5kSG9sZFRocmVhZCksdGhpcy50YXBBbmRIb2xkVGhyZWFkPXdpbmRvdy5zZXRUaW1lb3V0KG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dGhpcy50YXBBbmRIb2xkVmFsaWQmJnRoaXMudGFwQW5kSG9sZChiKTt0aGlzLnRhcEFuZEhvbGRWYWxpZD10aGlzLnRhcEFuZEhvbGRJblByb2dyZXNzPSExfSksdGhpcy50YXBBbmRIb2xkRGVsYXkpLHRoaXMudGFwQW5kSG9sZFZhbGlkPSEwKTphPT1teEV2ZW50Lk1PVVNFX1VQP3RoaXMudGFwQW5kSG9sZFZhbGlkPXRoaXMudGFwQW5kSG9sZEluUHJvZ3Jlc3M9ITE6dGhpcy50YXBBbmRIb2xkVmFsaWQmJgoodGhpcy50YXBBbmRIb2xkVmFsaWQ9TWF0aC5hYnModGhpcy5pbml0aWFsVG91Y2hYLWIuZ2V0R3JhcGhYKCkpPHRoaXMudG9sZXJhbmNlJiZNYXRoLmFicyh0aGlzLmluaXRpYWxUb3VjaFktYi5nZXRHcmFwaFkoKSk8dGhpcy50b2xlcmFuY2UpO2E9PW14RXZlbnQuTU9VU0VfRE9XTiYmdGhpcy5pc0VkaXRpbmcoKSYmIXRoaXMuY2VsbEVkaXRvci5pc0V2ZW50U291cmNlKGIuZ2V0RXZlbnQoKSkmJnRoaXMuc3RvcEVkaXRpbmcoIXRoaXMuaXNJbnZva2VzU3RvcENlbGxFZGl0aW5nKCkpO3RoaXMuY29uc3VtZU1vdXNlRXZlbnQoYSxiLGMpfX19O214R3JhcGgucHJvdG90eXBlLmNvbnN1bWVNb3VzZUV2ZW50PWZ1bmN0aW9uKGEsYixjKXthPT1teEV2ZW50Lk1PVVNFX0RPV04mJm14RXZlbnQuaXNUb3VjaEV2ZW50KGIuZ2V0RXZlbnQoKSkmJmIuY29uc3VtZSghMSl9OwpteEdyYXBoLnByb3RvdHlwZS5maXJlR2VzdHVyZUV2ZW50PWZ1bmN0aW9uKGEsYil7dGhpcy5sYXN0VG91Y2hUaW1lPTA7dGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5HRVNUVVJFLCJldmVudCIsYSwiY2VsbCIsYikpfTsKbXhHcmFwaC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuZGVzdHJveWVkfHwodGhpcy5kZXN0cm95ZWQ9ITAsbnVsbCE9dGhpcy50b29sdGlwSGFuZGxlciYmdGhpcy50b29sdGlwSGFuZGxlci5kZXN0cm95KCksbnVsbCE9dGhpcy5zZWxlY3Rpb25DZWxsc0hhbmRsZXImJnRoaXMuc2VsZWN0aW9uQ2VsbHNIYW5kbGVyLmRlc3Ryb3koKSxudWxsIT10aGlzLnBhbm5pbmdIYW5kbGVyJiZ0aGlzLnBhbm5pbmdIYW5kbGVyLmRlc3Ryb3koKSxudWxsIT10aGlzLnBvcHVwTWVudUhhbmRsZXImJnRoaXMucG9wdXBNZW51SGFuZGxlci5kZXN0cm95KCksbnVsbCE9dGhpcy5jb25uZWN0aW9uSGFuZGxlciYmdGhpcy5jb25uZWN0aW9uSGFuZGxlci5kZXN0cm95KCksbnVsbCE9dGhpcy5ncmFwaEhhbmRsZXImJnRoaXMuZ3JhcGhIYW5kbGVyLmRlc3Ryb3koKSxudWxsIT10aGlzLmNlbGxFZGl0b3ImJnRoaXMuY2VsbEVkaXRvci5kZXN0cm95KCksbnVsbCE9dGhpcy52aWV3JiZ0aGlzLnZpZXcuZGVzdHJveSgpLApudWxsIT10aGlzLm1vZGVsJiZudWxsIT10aGlzLmdyYXBoTW9kZWxDaGFuZ2VMaXN0ZW5lciYmKHRoaXMubW9kZWwucmVtb3ZlTGlzdGVuZXIodGhpcy5ncmFwaE1vZGVsQ2hhbmdlTGlzdGVuZXIpLHRoaXMuZ3JhcGhNb2RlbENoYW5nZUxpc3RlbmVyPW51bGwpLHRoaXMuY29udGFpbmVyPW51bGwpfTtmdW5jdGlvbiBteENlbGxPdmVybGF5KGEsYixjLGQsZSxmKXt0aGlzLmltYWdlPWE7dGhpcy50b29sdGlwPWI7dGhpcy5hbGlnbj1udWxsIT1jP2M6dGhpcy5hbGlnbjt0aGlzLnZlcnRpY2FsQWxpZ249bnVsbCE9ZD9kOnRoaXMudmVydGljYWxBbGlnbjt0aGlzLm9mZnNldD1udWxsIT1lP2U6bmV3IG14UG9pbnQ7dGhpcy5jdXJzb3I9bnVsbCE9Zj9mOiJoZWxwIn1teENlbGxPdmVybGF5LnByb3RvdHlwZT1uZXcgbXhFdmVudFNvdXJjZTtteENlbGxPdmVybGF5LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1teENlbGxPdmVybGF5O214Q2VsbE92ZXJsYXkucHJvdG90eXBlLmltYWdlPW51bGw7Cm14Q2VsbE92ZXJsYXkucHJvdG90eXBlLnRvb2x0aXA9bnVsbDtteENlbGxPdmVybGF5LnByb3RvdHlwZS5hbGlnbj1teENvbnN0YW50cy5BTElHTl9SSUdIVDtteENlbGxPdmVybGF5LnByb3RvdHlwZS52ZXJ0aWNhbEFsaWduPW14Q29uc3RhbnRzLkFMSUdOX0JPVFRPTTtteENlbGxPdmVybGF5LnByb3RvdHlwZS5vZmZzZXQ9bnVsbDtteENlbGxPdmVybGF5LnByb3RvdHlwZS5jdXJzb3I9bnVsbDtteENlbGxPdmVybGF5LnByb3RvdHlwZS5kZWZhdWx0T3ZlcmxhcD0uNTsKbXhDZWxsT3ZlcmxheS5wcm90b3R5cGUuZ2V0Qm91bmRzPWZ1bmN0aW9uKGEpe3ZhciBiPWEudmlldy5ncmFwaC5nZXRNb2RlbCgpLmlzRWRnZShhLmNlbGwpLGM9YS52aWV3LnNjYWxlLGQ9dGhpcy5pbWFnZS53aWR0aCxlPXRoaXMuaW1hZ2UuaGVpZ2h0O2lmKGIpaWYoYj1hLmFic29sdXRlUG9pbnRzLDE9PWIubGVuZ3RoJTIpYj1iW01hdGguZmxvb3IoYi5sZW5ndGgvMildO2Vsc2V7dmFyIGY9Yi5sZW5ndGgvMjthPWJbZi0xXTtiPWJbZl07Yj1uZXcgbXhQb2ludChhLngrKGIueC1hLngpLzIsYS55KyhiLnktYS55KS8yKX1lbHNlIGI9bmV3IG14UG9pbnQsYi54PXRoaXMuYWxpZ249PW14Q29uc3RhbnRzLkFMSUdOX0xFRlQ/YS54OnRoaXMuYWxpZ249PW14Q29uc3RhbnRzLkFMSUdOX0NFTlRFUj9hLngrYS53aWR0aC8yOmEueCthLndpZHRoLGIueT10aGlzLnZlcnRpY2FsQWxpZ249PW14Q29uc3RhbnRzLkFMSUdOX1RPUD9hLnk6dGhpcy52ZXJ0aWNhbEFsaWduPT1teENvbnN0YW50cy5BTElHTl9NSURETEU/CmEueSthLmhlaWdodC8yOmEueSthLmhlaWdodDtyZXR1cm4gbmV3IG14UmVjdGFuZ2xlKE1hdGgucm91bmQoYi54LShkKnRoaXMuZGVmYXVsdE92ZXJsYXAtdGhpcy5vZmZzZXQueCkqYyksTWF0aC5yb3VuZChiLnktKGUqdGhpcy5kZWZhdWx0T3ZlcmxhcC10aGlzLm9mZnNldC55KSpjKSxkKmMsZSpjKX07bXhDZWxsT3ZlcmxheS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50b29sdGlwfTtmdW5jdGlvbiBteE91dGxpbmUoYSxiKXt0aGlzLnNvdXJjZT1hO251bGwhPWImJnRoaXMuaW5pdChiKX1teE91dGxpbmUucHJvdG90eXBlLnNvdXJjZT1udWxsO214T3V0bGluZS5wcm90b3R5cGUub3V0bGluZT1udWxsO214T3V0bGluZS5wcm90b3R5cGUuZ3JhcGhSZW5kZXJIaW50PW14Q29uc3RhbnRzLlJFTkRFUklOR19ISU5UX0ZBU1RFUjtteE91dGxpbmUucHJvdG90eXBlLmVuYWJsZWQ9ITA7bXhPdXRsaW5lLnByb3RvdHlwZS5zaG93Vmlld3BvcnQ9ITA7Cm14T3V0bGluZS5wcm90b3R5cGUuYm9yZGVyPTEwO214T3V0bGluZS5wcm90b3R5cGUuc2l6ZXJTaXplPTg7bXhPdXRsaW5lLnByb3RvdHlwZS5sYWJlbHNWaXNpYmxlPSExO214T3V0bGluZS5wcm90b3R5cGUudXBkYXRlT25QYW49ITE7bXhPdXRsaW5lLnByb3RvdHlwZS5zaXplckltYWdlPW51bGw7bXhPdXRsaW5lLnByb3RvdHlwZS5taW5TY2FsZT0xRS00O214T3V0bGluZS5wcm90b3R5cGUuc3VzcGVuZGVkPSExO214T3V0bGluZS5wcm90b3R5cGUuZm9yY2VWbWxIYW5kbGVzPTg9PWRvY3VtZW50LmRvY3VtZW50TW9kZTtteE91dGxpbmUucHJvdG90eXBlLmNyZWF0ZUdyYXBoPWZ1bmN0aW9uKGEpe2E9bmV3IG14R3JhcGgoYSx0aGlzLnNvdXJjZS5nZXRNb2RlbCgpLHRoaXMuZ3JhcGhSZW5kZXJIaW50LHRoaXMuc291cmNlLmdldFN0eWxlc2hlZXQoKSk7YS5mb2xkaW5nRW5hYmxlZD0hMTthLmF1dG9TY3JvbGw9ITE7cmV0dXJuIGF9OwpteE91dGxpbmUucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oYSl7dGhpcy5vdXRsaW5lPXRoaXMuY3JlYXRlR3JhcGgoYSk7dmFyIGI9dGhpcy5vdXRsaW5lLmdyYXBoTW9kZWxDaGFuZ2VkO3RoaXMub3V0bGluZS5ncmFwaE1vZGVsQ2hhbmdlZD1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXt0aGlzLnN1c3BlbmRlZHx8bnVsbD09dGhpcy5vdXRsaW5lfHxiLmFwcGx5KHRoaXMub3V0bGluZSxhcmd1bWVudHMpfSk7bXhDbGllbnQuSVNfU1ZHJiYoYT10aGlzLm91dGxpbmUuZ2V0VmlldygpLmdldENhbnZhcygpLnBhcmVudE5vZGUsYS5zZXRBdHRyaWJ1dGUoInNoYXBlLXJlbmRlcmluZyIsIm9wdGltaXplU3BlZWQiKSxhLnNldEF0dHJpYnV0ZSgiaW1hZ2UtcmVuZGVyaW5nIiwib3B0aW1pemVTcGVlZCIpKTt0aGlzLm91dGxpbmUubGFiZWxzVmlzaWJsZT10aGlzLmxhYmVsc1Zpc2libGU7dGhpcy5vdXRsaW5lLnNldEVuYWJsZWQoITEpO3RoaXMudXBkYXRlSGFuZGxlcj1teFV0aWxzLmJpbmQodGhpcywKZnVuY3Rpb24oYSxiKXt0aGlzLnN1c3BlbmRlZHx8dGhpcy5hY3RpdmV8fHRoaXMudXBkYXRlKCl9KTt0aGlzLnNvdXJjZS5nZXRNb2RlbCgpLmFkZExpc3RlbmVyKG14RXZlbnQuQ0hBTkdFLHRoaXMudXBkYXRlSGFuZGxlcik7dGhpcy5vdXRsaW5lLmFkZE1vdXNlTGlzdGVuZXIodGhpcyk7YT10aGlzLnNvdXJjZS5nZXRWaWV3KCk7YS5hZGRMaXN0ZW5lcihteEV2ZW50LlNDQUxFLHRoaXMudXBkYXRlSGFuZGxlcik7YS5hZGRMaXN0ZW5lcihteEV2ZW50LlRSQU5TTEFURSx0aGlzLnVwZGF0ZUhhbmRsZXIpO2EuYWRkTGlzdGVuZXIobXhFdmVudC5TQ0FMRV9BTkRfVFJBTlNMQVRFLHRoaXMudXBkYXRlSGFuZGxlcik7YS5hZGRMaXN0ZW5lcihteEV2ZW50LkRPV04sdGhpcy51cGRhdGVIYW5kbGVyKTthLmFkZExpc3RlbmVyKG14RXZlbnQuVVAsdGhpcy51cGRhdGVIYW5kbGVyKTtteEV2ZW50LmFkZExpc3RlbmVyKHRoaXMuc291cmNlLmNvbnRhaW5lciwic2Nyb2xsIix0aGlzLnVwZGF0ZUhhbmRsZXIpOwp0aGlzLnBhbkhhbmRsZXI9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7dGhpcy51cGRhdGVPblBhbiYmdGhpcy51cGRhdGVIYW5kbGVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pO3RoaXMuc291cmNlLmFkZExpc3RlbmVyKG14RXZlbnQuUEFOLHRoaXMucGFuSGFuZGxlcik7dGhpcy5yZWZyZXNoSGFuZGxlcj1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXt0aGlzLm91dGxpbmUuc2V0U3R5bGVzaGVldCh0aGlzLnNvdXJjZS5nZXRTdHlsZXNoZWV0KCkpO3RoaXMub3V0bGluZS5yZWZyZXNoKCl9KTt0aGlzLnNvdXJjZS5hZGRMaXN0ZW5lcihteEV2ZW50LlJFRlJFU0gsdGhpcy5yZWZyZXNoSGFuZGxlcik7dGhpcy5ib3VuZHM9bmV3IG14UmVjdGFuZ2xlKDAsMCwwLDApO3RoaXMuc2VsZWN0aW9uQm9yZGVyPW5ldyBteFJlY3RhbmdsZVNoYXBlKHRoaXMuYm91bmRzLG51bGwsbXhDb25zdGFudHMuT1VUTElORV9DT0xPUixteENvbnN0YW50cy5PVVRMSU5FX1NUUk9LRVdJRFRIKTsKdGhpcy5zZWxlY3Rpb25Cb3JkZXIuZGlhbGVjdD10aGlzLm91dGxpbmUuZGlhbGVjdDt0aGlzLmZvcmNlVm1sSGFuZGxlcyYmKHRoaXMuc2VsZWN0aW9uQm9yZGVyLmlzSHRtbEFsbG93ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4hMX0pO3RoaXMuc2VsZWN0aW9uQm9yZGVyLmluaXQodGhpcy5vdXRsaW5lLmdldFZpZXcoKS5nZXRPdmVybGF5UGFuZSgpKTthPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3ZhciBiPW14RXZlbnQuZ2V0U291cmNlKGEpLGM9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7dGhpcy5vdXRsaW5lLmZpcmVNb3VzZUV2ZW50KG14RXZlbnQuTU9VU0VfTU9WRSxuZXcgbXhNb3VzZUV2ZW50KGEpKX0pLGY9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7bXhFdmVudC5yZW1vdmVHZXN0dXJlTGlzdGVuZXJzKGIsbnVsbCxjLGYpO3RoaXMub3V0bGluZS5maXJlTW91c2VFdmVudChteEV2ZW50Lk1PVVNFX1VQLG5ldyBteE1vdXNlRXZlbnQoYSkpfSk7Cm14RXZlbnQuYWRkR2VzdHVyZUxpc3RlbmVycyhiLG51bGwsYyxmKTt0aGlzLm91dGxpbmUuZmlyZU1vdXNlRXZlbnQobXhFdmVudC5NT1VTRV9ET1dOLG5ldyBteE1vdXNlRXZlbnQoYSkpfSk7bXhFdmVudC5hZGRHZXN0dXJlTGlzdGVuZXJzKHRoaXMuc2VsZWN0aW9uQm9yZGVyLm5vZGUsYSk7dGhpcy5zaXplcj10aGlzLmNyZWF0ZVNpemVyKCk7dGhpcy5mb3JjZVZtbEhhbmRsZXMmJih0aGlzLnNpemVyLmlzSHRtbEFsbG93ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4hMX0pO3RoaXMuc2l6ZXIuaW5pdCh0aGlzLm91dGxpbmUuZ2V0VmlldygpLmdldE92ZXJsYXlQYW5lKCkpO3RoaXMuZW5hYmxlZCYmKHRoaXMuc2l6ZXIubm9kZS5zdHlsZS5jdXJzb3I9Im53c2UtcmVzaXplIik7bXhFdmVudC5hZGRHZXN0dXJlTGlzdGVuZXJzKHRoaXMuc2l6ZXIubm9kZSxhKTt0aGlzLnNlbGVjdGlvbkJvcmRlci5ub2RlLnN0eWxlLmRpc3BsYXk9dGhpcy5zaG93Vmlld3BvcnQ/IiI6Im5vbmUiO3RoaXMuc2l6ZXIubm9kZS5zdHlsZS5kaXNwbGF5PQp0aGlzLnNlbGVjdGlvbkJvcmRlci5ub2RlLnN0eWxlLmRpc3BsYXk7dGhpcy5zZWxlY3Rpb25Cb3JkZXIubm9kZS5zdHlsZS5jdXJzb3I9Im1vdmUiO3RoaXMudXBkYXRlKCExKX07bXhPdXRsaW5lLnByb3RvdHlwZS5pc0VuYWJsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbmFibGVkfTtteE91dGxpbmUucHJvdG90eXBlLnNldEVuYWJsZWQ9ZnVuY3Rpb24oYSl7dGhpcy5lbmFibGVkPWF9O214T3V0bGluZS5wcm90b3R5cGUuc2V0Wm9vbUVuYWJsZWQ9ZnVuY3Rpb24oYSl7dGhpcy5zaXplci5ub2RlLnN0eWxlLnZpc2liaWxpdHk9YT8idmlzaWJsZSI6ImhpZGRlbiJ9O214T3V0bGluZS5wcm90b3R5cGUucmVmcmVzaD1mdW5jdGlvbigpe3RoaXMudXBkYXRlKCEwKX07Cm14T3V0bGluZS5wcm90b3R5cGUuY3JlYXRlU2l6ZXI9ZnVuY3Rpb24oKXt2YXIgYT1udWxsIT10aGlzLnNpemVySW1hZ2U/bmV3IG14SW1hZ2VTaGFwZShuZXcgbXhSZWN0YW5nbGUoMCwwLHRoaXMuc2l6ZXJJbWFnZS53aWR0aCx0aGlzLnNpemVySW1hZ2UuaGVpZ2h0KSx0aGlzLnNpemVySW1hZ2Uuc3JjKTpuZXcgbXhSZWN0YW5nbGVTaGFwZShuZXcgbXhSZWN0YW5nbGUoMCwwLHRoaXMuc2l6ZXJTaXplLHRoaXMuc2l6ZXJTaXplKSxteENvbnN0YW50cy5PVVRMSU5FX0hBTkRMRV9GSUxMQ09MT1IsbXhDb25zdGFudHMuT1VUTElORV9IQU5ETEVfU1RST0tFQ09MT1IpO2EuZGlhbGVjdD10aGlzLm91dGxpbmUuZGlhbGVjdDtyZXR1cm4gYX07bXhPdXRsaW5lLnByb3RvdHlwZS5nZXRTb3VyY2VDb250YWluZXJTaXplPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBteFJlY3RhbmdsZSgwLDAsdGhpcy5zb3VyY2UuY29udGFpbmVyLnNjcm9sbFdpZHRoLHRoaXMuc291cmNlLmNvbnRhaW5lci5zY3JvbGxIZWlnaHQpfTsKbXhPdXRsaW5lLnByb3RvdHlwZS5nZXRPdXRsaW5lT2Zmc2V0PWZ1bmN0aW9uKGEpe3JldHVybiBudWxsfTtteE91dGxpbmUucHJvdG90eXBlLmdldFNvdXJjZUdyYXBoQm91bmRzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc291cmNlLmdldEdyYXBoQm91bmRzKCl9OwpteE91dGxpbmUucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbihhKXtpZihudWxsIT10aGlzLnNvdXJjZSYmbnVsbCE9dGhpcy5zb3VyY2UuY29udGFpbmVyJiZudWxsIT10aGlzLm91dGxpbmUmJm51bGwhPXRoaXMub3V0bGluZS5jb250YWluZXIpe3ZhciBiPXRoaXMuc291cmNlLnZpZXcuc2NhbGUsYz10aGlzLmdldFNvdXJjZUdyYXBoQm91bmRzKCksYz1uZXcgbXhSZWN0YW5nbGUoYy54L2IrdGhpcy5zb3VyY2UucGFuRHgsYy55L2IrdGhpcy5zb3VyY2UucGFuRHksYy53aWR0aC9iLGMuaGVpZ2h0L2IpLGQ9bmV3IG14UmVjdGFuZ2xlKDAsMCx0aGlzLnNvdXJjZS5jb250YWluZXIuY2xpZW50V2lkdGgvYix0aGlzLnNvdXJjZS5jb250YWluZXIuY2xpZW50SGVpZ2h0L2IpLGU9Yy5jbG9uZSgpO2UuYWRkKGQpO2Q9dGhpcy5nZXRTb3VyY2VDb250YWluZXJTaXplKCk7Yj1NYXRoLm1pbihNYXRoLm1heCgwLHRoaXMub3V0bGluZS5jb250YWluZXIuY2xpZW50V2lkdGgtdGhpcy5ib3JkZXIpLwpNYXRoLm1heChkLndpZHRoL2IsZS53aWR0aCksTWF0aC5tYXgoMCx0aGlzLm91dGxpbmUuY29udGFpbmVyLmNsaWVudEhlaWdodC10aGlzLmJvcmRlcikvTWF0aC5tYXgoZC5oZWlnaHQvYixlLmhlaWdodCkpO2Q9aXNOYU4oYik/dGhpcy5taW5TY2FsZTpNYXRoLm1heCh0aGlzLm1pblNjYWxlLGIpO2lmKDA8ZCl7dGhpcy5vdXRsaW5lLmdldFZpZXcoKS5zY2FsZSE9ZCYmKHRoaXMub3V0bGluZS5nZXRWaWV3KCkuc2NhbGU9ZCxhPSEwKTtiPXRoaXMub3V0bGluZS5nZXRWaWV3KCk7Yi5jdXJyZW50Um9vdCE9dGhpcy5zb3VyY2UuZ2V0VmlldygpLmN1cnJlbnRSb290JiZiLnNldEN1cnJlbnRSb290KHRoaXMuc291cmNlLmdldFZpZXcoKS5jdXJyZW50Um9vdCk7dmFyIGU9dGhpcy5zb3VyY2Uudmlldy50cmFuc2xhdGUsZj1lLngrdGhpcy5zb3VyY2UucGFuRHgsZz1lLnkrdGhpcy5zb3VyY2UucGFuRHksZD10aGlzLmdldE91dGxpbmVPZmZzZXQoZCk7bnVsbCE9ZCYmKGYrPWQueCwKZys9ZC55KTswPmMueCYmKGYtPWMueCk7MD5jLnkmJihnLT1jLnkpO2lmKGIudHJhbnNsYXRlLnghPWZ8fGIudHJhbnNsYXRlLnkhPWcpYi50cmFuc2xhdGUueD1mLGIudHJhbnNsYXRlLnk9ZyxhPSEwO3ZhciBjPWIudHJhbnNsYXRlLGQ9dGhpcy5zb3VyY2UuZ2V0VmlldygpLnNjYWxlLGY9ZC9iLnNjYWxlLGc9MS9iLnNjYWxlLGs9dGhpcy5zb3VyY2UuY29udGFpbmVyO3RoaXMuYm91bmRzPW5ldyBteFJlY3RhbmdsZSgoYy54LWUueC10aGlzLnNvdXJjZS5wYW5EeCkvZywoYy55LWUueS10aGlzLnNvdXJjZS5wYW5EeSkvZyxrLmNsaWVudFdpZHRoL2Ysay5jbGllbnRIZWlnaHQvZik7dGhpcy5ib3VuZHMueCs9dGhpcy5zb3VyY2UuY29udGFpbmVyLnNjcm9sbExlZnQqYi5zY2FsZS9kO3RoaXMuYm91bmRzLnkrPXRoaXMuc291cmNlLmNvbnRhaW5lci5zY3JvbGxUb3AqYi5zY2FsZS9kO2M9dGhpcy5zZWxlY3Rpb25Cb3JkZXIuYm91bmRzO2lmKGMueCE9dGhpcy5ib3VuZHMueHx8CmMueSE9dGhpcy5ib3VuZHMueXx8Yy53aWR0aCE9dGhpcy5ib3VuZHMud2lkdGh8fGMuaGVpZ2h0IT10aGlzLmJvdW5kcy5oZWlnaHQpdGhpcy5zZWxlY3Rpb25Cb3JkZXIuYm91bmRzPXRoaXMuYm91bmRzLHRoaXMuc2VsZWN0aW9uQm9yZGVyLnJlZHJhdygpO2M9dGhpcy5zaXplci5ib3VuZHM7Yj1uZXcgbXhSZWN0YW5nbGUodGhpcy5ib3VuZHMueCt0aGlzLmJvdW5kcy53aWR0aC1jLndpZHRoLzIsdGhpcy5ib3VuZHMueSt0aGlzLmJvdW5kcy5oZWlnaHQtYy5oZWlnaHQvMixjLndpZHRoLGMuaGVpZ2h0KTtpZihjLnghPWIueHx8Yy55IT1iLnl8fGMud2lkdGghPWIud2lkdGh8fGMuaGVpZ2h0IT1iLmhlaWdodCl0aGlzLnNpemVyLmJvdW5kcz1iLCJoaWRkZW4iIT10aGlzLnNpemVyLm5vZGUuc3R5bGUudmlzaWJpbGl0eSYmdGhpcy5zaXplci5yZWRyYXcoKTthJiZ0aGlzLm91dGxpbmUudmlldy5yZXZhbGlkYXRlKCl9fX07Cm14T3V0bGluZS5wcm90b3R5cGUubW91c2VEb3duPWZ1bmN0aW9uKGEsYil7aWYodGhpcy5lbmFibGVkJiZ0aGlzLnNob3dWaWV3cG9ydCl7dmFyIGM9bXhFdmVudC5pc01vdXNlRXZlbnQoYi5nZXRFdmVudCgpKT8wOnRoaXMuc291cmNlLnRvbGVyYW5jZSxjPXRoaXMuc291cmNlLmFsbG93SGFuZGxlQm91bmRzQ2hlY2smJihteENsaWVudC5JU19JRXx8MDxjKT9uZXcgbXhSZWN0YW5nbGUoYi5nZXRHcmFwaFgoKS1jLGIuZ2V0R3JhcGhZKCktYywyKmMsMipjKTpudWxsO3RoaXMuem9vbT1iLmlzU291cmNlKHRoaXMuc2l6ZXIpfHxudWxsIT1jJiZteFV0aWxzLmludGVyc2VjdHMoc2hhcGUuYm91bmRzLGMpO3RoaXMuc3RhcnRYPWIuZ2V0WCgpO3RoaXMuc3RhcnRZPWIuZ2V0WSgpO3RoaXMuYWN0aXZlPSEwO3RoaXMuc291cmNlLnVzZVNjcm9sbGJhcnNGb3JQYW5uaW5nJiZteFV0aWxzLmhhc1Njcm9sbGJhcnModGhpcy5zb3VyY2UuY29udGFpbmVyKT8odGhpcy5keDA9dGhpcy5zb3VyY2UuY29udGFpbmVyLnNjcm9sbExlZnQsCnRoaXMuZHkwPXRoaXMuc291cmNlLmNvbnRhaW5lci5zY3JvbGxUb3ApOnRoaXMuZHkwPXRoaXMuZHgwPTB9Yi5jb25zdW1lKCl9OwpteE91dGxpbmUucHJvdG90eXBlLm1vdXNlTW92ZT1mdW5jdGlvbihhLGIpe2lmKHRoaXMuYWN0aXZlKXt0aGlzLnNlbGVjdGlvbkJvcmRlci5ub2RlLnN0eWxlLmRpc3BsYXk9dGhpcy5zaG93Vmlld3BvcnQ/IiI6Im5vbmUiO3RoaXMuc2l6ZXIubm9kZS5zdHlsZS5kaXNwbGF5PXRoaXMuc2VsZWN0aW9uQm9yZGVyLm5vZGUuc3R5bGUuZGlzcGxheTt2YXIgYz10aGlzLmdldFRyYW5zbGF0ZUZvckV2ZW50KGIpLGQ9Yy54LGU9Yy55O2lmKHRoaXMuem9vbSljPXRoaXMuc291cmNlLmNvbnRhaW5lcixlPWQvKGMuY2xpZW50V2lkdGgvYy5jbGllbnRIZWlnaHQpLGM9bmV3IG14UmVjdGFuZ2xlKHRoaXMuYm91bmRzLngsdGhpcy5ib3VuZHMueSxNYXRoLm1heCgxLHRoaXMuYm91bmRzLndpZHRoK2QpLE1hdGgubWF4KDEsdGhpcy5ib3VuZHMuaGVpZ2h0K2UpKSx0aGlzLnNlbGVjdGlvbkJvcmRlci5ib3VuZHM9Yyx0aGlzLnNlbGVjdGlvbkJvcmRlci5yZWRyYXcoKTtlbHNle3ZhciBmPXRoaXMub3V0bGluZS5nZXRWaWV3KCkuc2NhbGUsCmM9bmV3IG14UmVjdGFuZ2xlKHRoaXMuYm91bmRzLngrZCx0aGlzLmJvdW5kcy55K2UsdGhpcy5ib3VuZHMud2lkdGgsdGhpcy5ib3VuZHMuaGVpZ2h0KTt0aGlzLnNlbGVjdGlvbkJvcmRlci5ib3VuZHM9Yzt0aGlzLnNlbGVjdGlvbkJvcmRlci5yZWRyYXcoKTtkPWQvZip0aGlzLnNvdXJjZS5nZXRWaWV3KCkuc2NhbGU7ZT1lL2YqdGhpcy5zb3VyY2UuZ2V0VmlldygpLnNjYWxlO3RoaXMuc291cmNlLnBhbkdyYXBoKC1kLXRoaXMuZHgwLC1lLXRoaXMuZHkwKX1kPXRoaXMuc2l6ZXIuYm91bmRzO3RoaXMuc2l6ZXIuYm91bmRzPW5ldyBteFJlY3RhbmdsZShjLngrYy53aWR0aC1kLndpZHRoLzIsYy55K2MuaGVpZ2h0LWQuaGVpZ2h0LzIsZC53aWR0aCxkLmhlaWdodCk7ImhpZGRlbiIhPXRoaXMuc2l6ZXIubm9kZS5zdHlsZS52aXNpYmlsaXR5JiZ0aGlzLnNpemVyLnJlZHJhdygpO2IuY29uc3VtZSgpfX07Cm14T3V0bGluZS5wcm90b3R5cGUuZ2V0VHJhbnNsYXRlRm9yRXZlbnQ9ZnVuY3Rpb24oYSl7cmV0dXJuIG5ldyBteFBvaW50KGEuZ2V0WCgpLXRoaXMuc3RhcnRYLGEuZ2V0WSgpLXRoaXMuc3RhcnRZKX07Cm14T3V0bGluZS5wcm90b3R5cGUubW91c2VVcD1mdW5jdGlvbihhLGIpe2lmKHRoaXMuYWN0aXZlKXt2YXIgYz10aGlzLmdldFRyYW5zbGF0ZUZvckV2ZW50KGIpLGQ9Yy54LGM9Yy55O2lmKDA8TWF0aC5hYnMoZCl8fDA8TWF0aC5hYnMoYykpe2lmKHRoaXMuem9vbSl7dmFyIGM9dGhpcy5zZWxlY3Rpb25Cb3JkZXIuYm91bmRzLndpZHRoLGU9dGhpcy5zb3VyY2UuZ2V0VmlldygpLnNjYWxlO3RoaXMuc291cmNlLnpvb21UbyhNYXRoLm1heCh0aGlzLm1pblNjYWxlLGUtZCplL2MpLCExKX1lbHNlIHRoaXMuc291cmNlLnVzZVNjcm9sbGJhcnNGb3JQYW5uaW5nJiZteFV0aWxzLmhhc1Njcm9sbGJhcnModGhpcy5zb3VyY2UuY29udGFpbmVyKXx8KHRoaXMuc291cmNlLnBhbkdyYXBoKDAsMCksZC89dGhpcy5vdXRsaW5lLmdldFZpZXcoKS5zY2FsZSxjLz10aGlzLm91dGxpbmUuZ2V0VmlldygpLnNjYWxlLGU9dGhpcy5zb3VyY2UuZ2V0VmlldygpLnRyYW5zbGF0ZSx0aGlzLnNvdXJjZS5nZXRWaWV3KCkuc2V0VHJhbnNsYXRlKGUueC0KZCxlLnktYykpO3RoaXMudXBkYXRlKCk7Yi5jb25zdW1lKCl9dGhpcy5pbmRleD1udWxsO3RoaXMuYWN0aXZlPSExfX07Cm14T3V0bGluZS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe251bGwhPXRoaXMuc291cmNlJiYodGhpcy5zb3VyY2UucmVtb3ZlTGlzdGVuZXIodGhpcy5wYW5IYW5kbGVyKSx0aGlzLnNvdXJjZS5yZW1vdmVMaXN0ZW5lcih0aGlzLnJlZnJlc2hIYW5kbGVyKSx0aGlzLnNvdXJjZS5nZXRNb2RlbCgpLnJlbW92ZUxpc3RlbmVyKHRoaXMudXBkYXRlSGFuZGxlciksdGhpcy5zb3VyY2UuZ2V0VmlldygpLnJlbW92ZUxpc3RlbmVyKHRoaXMudXBkYXRlSGFuZGxlciksbXhFdmVudC5yZW1vdmVMaXN0ZW5lcih0aGlzLnNvdXJjZS5jb250YWluZXIsInNjcm9sbCIsdGhpcy51cGRhdGVIYW5kbGVyKSx0aGlzLnNvdXJjZT1udWxsKTtudWxsIT10aGlzLm91dGxpbmUmJih0aGlzLm91dGxpbmUucmVtb3ZlTW91c2VMaXN0ZW5lcih0aGlzKSx0aGlzLm91dGxpbmUuZGVzdHJveSgpLHRoaXMub3V0bGluZT1udWxsKTtudWxsIT10aGlzLnNlbGVjdGlvbkJvcmRlciYmKHRoaXMuc2VsZWN0aW9uQm9yZGVyLmRlc3Ryb3koKSwKdGhpcy5zZWxlY3Rpb25Cb3JkZXI9bnVsbCk7bnVsbCE9dGhpcy5zaXplciYmKHRoaXMuc2l6ZXIuZGVzdHJveSgpLHRoaXMuc2l6ZXI9bnVsbCl9O2Z1bmN0aW9uIG14TXVsdGlwbGljaXR5KGEsYixjLGQsZSxmLGcsayxsLG0pe3RoaXMuc291cmNlPWE7dGhpcy50eXBlPWI7dGhpcy5hdHRyPWM7dGhpcy52YWx1ZT1kO3RoaXMubWluPW51bGwhPWU/ZTowO3RoaXMubWF4PW51bGwhPWY/ZjoibiI7dGhpcy52YWxpZE5laWdoYm9ycz1nO3RoaXMuY291bnRFcnJvcj1teFJlc291cmNlcy5nZXQoayl8fGs7dGhpcy50eXBlRXJyb3I9bXhSZXNvdXJjZXMuZ2V0KGwpfHxsO3RoaXMudmFsaWROZWlnaGJvcnNBbGxvd2VkPW51bGwhPW0/bTohMH1teE11bHRpcGxpY2l0eS5wcm90b3R5cGUudHlwZT1udWxsO214TXVsdGlwbGljaXR5LnByb3RvdHlwZS5hdHRyPW51bGw7bXhNdWx0aXBsaWNpdHkucHJvdG90eXBlLnZhbHVlPW51bGw7bXhNdWx0aXBsaWNpdHkucHJvdG90eXBlLnNvdXJjZT1udWxsOwpteE11bHRpcGxpY2l0eS5wcm90b3R5cGUubWluPW51bGw7bXhNdWx0aXBsaWNpdHkucHJvdG90eXBlLm1heD1udWxsO214TXVsdGlwbGljaXR5LnByb3RvdHlwZS52YWxpZE5laWdoYm9ycz1udWxsO214TXVsdGlwbGljaXR5LnByb3RvdHlwZS52YWxpZE5laWdoYm9yc0FsbG93ZWQ9ITA7bXhNdWx0aXBsaWNpdHkucHJvdG90eXBlLmNvdW50RXJyb3I9bnVsbDtteE11bHRpcGxpY2l0eS5wcm90b3R5cGUudHlwZUVycm9yPW51bGw7Cm14TXVsdGlwbGljaXR5LnByb3RvdHlwZS5jaGVjaz1mdW5jdGlvbihhLGIsYyxkLGUsZil7dmFyIGc9IiI7aWYodGhpcy5zb3VyY2UmJnRoaXMuY2hlY2tUZXJtaW5hbChhLGMsYil8fCF0aGlzLnNvdXJjZSYmdGhpcy5jaGVja1Rlcm1pbmFsKGEsZCxiKSludWxsIT10aGlzLmNvdW50RXJyb3ImJih0aGlzLnNvdXJjZSYmKDA9PXRoaXMubWF4fHxlPj10aGlzLm1heCl8fCF0aGlzLnNvdXJjZSYmKDA9PXRoaXMubWF4fHxmPj10aGlzLm1heCkpJiYoZys9dGhpcy5jb3VudEVycm9yKyJcbiIpLG51bGwhPXRoaXMudmFsaWROZWlnaGJvcnMmJm51bGwhPXRoaXMudHlwZUVycm9yJiYwPHRoaXMudmFsaWROZWlnaGJvcnMubGVuZ3RoJiYodGhpcy5jaGVja05laWdoYm9ycyhhLGIsYyxkKXx8KGcrPXRoaXMudHlwZUVycm9yKyJcbiIpKTtyZXR1cm4gMDxnLmxlbmd0aD9nOm51bGx9OwpteE11bHRpcGxpY2l0eS5wcm90b3R5cGUuY2hlY2tOZWlnaGJvcnM9ZnVuY3Rpb24oYSxiLGMsZCl7Yj1hLm1vZGVsLmdldFZhbHVlKGMpO2Q9YS5tb2RlbC5nZXRWYWx1ZShkKTtjPSF0aGlzLnZhbGlkTmVpZ2hib3JzQWxsb3dlZDtmb3IodmFyIGU9dGhpcy52YWxpZE5laWdoYm9ycyxmPTA7ZjxlLmxlbmd0aDtmKyspaWYodGhpcy5zb3VyY2UmJnRoaXMuY2hlY2tUeXBlKGEsZCxlW2ZdKSl7Yz10aGlzLnZhbGlkTmVpZ2hib3JzQWxsb3dlZDticmVha31lbHNlIGlmKCF0aGlzLnNvdXJjZSYmdGhpcy5jaGVja1R5cGUoYSxiLGVbZl0pKXtjPXRoaXMudmFsaWROZWlnaGJvcnNBbGxvd2VkO2JyZWFrfXJldHVybiBjfTtteE11bHRpcGxpY2l0eS5wcm90b3R5cGUuY2hlY2tUZXJtaW5hbD1mdW5jdGlvbihhLGIsYyl7Yj1hLm1vZGVsLmdldFZhbHVlKGIpO3JldHVybiB0aGlzLmNoZWNrVHlwZShhLGIsdGhpcy50eXBlLHRoaXMuYXR0cix0aGlzLnZhbHVlKX07Cm14TXVsdGlwbGljaXR5LnByb3RvdHlwZS5jaGVja1R5cGU9ZnVuY3Rpb24oYSxiLGMsZCxlKXtyZXR1cm4gbnVsbCE9Yj9pc05hTihiLm5vZGVUeXBlKT9iPT1jOm14VXRpbHMuaXNOb2RlKGIsYyxkLGUpOiExfTsKZnVuY3Rpb24gbXhMYXlvdXRNYW5hZ2VyKGEpe3RoaXMudW5kb0hhbmRsZXI9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSxjKXt0aGlzLmlzRW5hYmxlZCgpJiZ0aGlzLmJlZm9yZVVuZG8oYy5nZXRQcm9wZXJ0eSgiZWRpdCIpKX0pO3RoaXMubW92ZUhhbmRsZXI9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSxjKXt0aGlzLmlzRW5hYmxlZCgpJiZ0aGlzLmNlbGxzTW92ZWQoYy5nZXRQcm9wZXJ0eSgiY2VsbHMiKSxjLmdldFByb3BlcnR5KCJldmVudCIpKX0pO3RoaXMucmVzaXplSGFuZGxlcj1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhLGMpe3RoaXMuaXNFbmFibGVkKCkmJnRoaXMuY2VsbHNSZXNpemVkKGMuZ2V0UHJvcGVydHkoImNlbGxzIiksYy5nZXRQcm9wZXJ0eSgiYm91bmRzIiksYy5nZXRQcm9wZXJ0eSgicHJldmlvdXMiKSl9KTt0aGlzLnNldEdyYXBoKGEpfW14TGF5b3V0TWFuYWdlci5wcm90b3R5cGU9bmV3IG14RXZlbnRTb3VyY2U7Cm14TGF5b3V0TWFuYWdlci5wcm90b3R5cGUuY29uc3RydWN0b3I9bXhMYXlvdXRNYW5hZ2VyO214TGF5b3V0TWFuYWdlci5wcm90b3R5cGUuZ3JhcGg9bnVsbDtteExheW91dE1hbmFnZXIucHJvdG90eXBlLmJ1YmJsaW5nPSEwO214TGF5b3V0TWFuYWdlci5wcm90b3R5cGUuZW5hYmxlZD0hMDtteExheW91dE1hbmFnZXIucHJvdG90eXBlLnVuZG9IYW5kbGVyPW51bGw7bXhMYXlvdXRNYW5hZ2VyLnByb3RvdHlwZS5tb3ZlSGFuZGxlcj1udWxsO214TGF5b3V0TWFuYWdlci5wcm90b3R5cGUucmVzaXplSGFuZGxlcj1udWxsO214TGF5b3V0TWFuYWdlci5wcm90b3R5cGUuaXNFbmFibGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZW5hYmxlZH07bXhMYXlvdXRNYW5hZ2VyLnByb3RvdHlwZS5zZXRFbmFibGVkPWZ1bmN0aW9uKGEpe3RoaXMuZW5hYmxlZD1hfTtteExheW91dE1hbmFnZXIucHJvdG90eXBlLmlzQnViYmxpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5idWJibGluZ307Cm14TGF5b3V0TWFuYWdlci5wcm90b3R5cGUuc2V0QnViYmxpbmc9ZnVuY3Rpb24oYSl7dGhpcy5idWJibGluZz1hfTtteExheW91dE1hbmFnZXIucHJvdG90eXBlLmdldEdyYXBoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ3JhcGh9OwpteExheW91dE1hbmFnZXIucHJvdG90eXBlLnNldEdyYXBoPWZ1bmN0aW9uKGEpe2lmKG51bGwhPXRoaXMuZ3JhcGgpe3ZhciBiPXRoaXMuZ3JhcGguZ2V0TW9kZWwoKTtiLnJlbW92ZUxpc3RlbmVyKHRoaXMudW5kb0hhbmRsZXIpO3RoaXMuZ3JhcGgucmVtb3ZlTGlzdGVuZXIodGhpcy5tb3ZlSGFuZGxlcik7dGhpcy5ncmFwaC5yZW1vdmVMaXN0ZW5lcih0aGlzLnJlc2l6ZUhhbmRsZXIpfXRoaXMuZ3JhcGg9YTtudWxsIT10aGlzLmdyYXBoJiYoYj10aGlzLmdyYXBoLmdldE1vZGVsKCksYi5hZGRMaXN0ZW5lcihteEV2ZW50LkJFRk9SRV9VTkRPLHRoaXMudW5kb0hhbmRsZXIpLHRoaXMuZ3JhcGguYWRkTGlzdGVuZXIobXhFdmVudC5NT1ZFX0NFTExTLHRoaXMubW92ZUhhbmRsZXIpLHRoaXMuZ3JhcGguYWRkTGlzdGVuZXIobXhFdmVudC5SRVNJWkVfQ0VMTFMsdGhpcy5yZXNpemVIYW5kbGVyKSl9OwpteExheW91dE1hbmFnZXIucHJvdG90eXBlLmhhc0xheW91dD1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5nZXRMYXlvdXQoYSxteEV2ZW50LkxBWU9VVF9DRUxMUyl9O214TGF5b3V0TWFuYWdlci5wcm90b3R5cGUuZ2V0TGF5b3V0PWZ1bmN0aW9uKGEsYil7cmV0dXJuIG51bGx9O214TGF5b3V0TWFuYWdlci5wcm90b3R5cGUuYmVmb3JlVW5kbz1mdW5jdGlvbihhKXt0aGlzLmV4ZWN1dGVMYXlvdXRGb3JDZWxscyh0aGlzLmdldENlbGxzRm9yQ2hhbmdlcyhhLmNoYW5nZXMpKX07Cm14TGF5b3V0TWFuYWdlci5wcm90b3R5cGUuY2VsbHNNb3ZlZD1mdW5jdGlvbihhLGIpe2lmKG51bGwhPWEmJm51bGwhPWIpZm9yKHZhciBjPW14VXRpbHMuY29udmVydFBvaW50KHRoaXMuZ2V0R3JhcGgoKS5jb250YWluZXIsbXhFdmVudC5nZXRDbGllbnRYKGIpLG14RXZlbnQuZ2V0Q2xpZW50WShiKSksZD0wO2Q8YS5sZW5ndGg7ZCsrKXt2YXIgZT10aGlzLmdldEFuY2VzdG9yTGF5b3V0KGFbZF0sbXhFdmVudC5NT1ZFX0NFTExTKTtudWxsIT1lJiZlLm1vdmVDZWxsKGFbZF0sYy54LGMueSl9fTtteExheW91dE1hbmFnZXIucHJvdG90eXBlLmNlbGxzUmVzaXplZD1mdW5jdGlvbihhLGIsYyl7aWYobnVsbCE9YSYmbnVsbCE9Yilmb3IodmFyIGQ9MDtkPGEubGVuZ3RoO2QrKyl7dmFyIGU9dGhpcy5nZXRBbmNlc3RvckxheW91dChhW2RdLG14RXZlbnQuUkVTSVpFX0NFTExTKTtudWxsIT1lJiZlLnJlc2l6ZUNlbGwoYVtkXSxiW2RdLGNbZF0pfX07Cm14TGF5b3V0TWFuYWdlci5wcm90b3R5cGUuZ2V0QW5jZXN0b3JMYXlvdXQ9ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9dGhpcy5nZXRHcmFwaCgpLmdldE1vZGVsKCk7bnVsbCE9YTspe3ZhciBkPXRoaXMuZ2V0TGF5b3V0KGEsYik7aWYobnVsbCE9ZClyZXR1cm4gZDthPWMuZ2V0UGFyZW50KGEpfXJldHVybiBudWxsfTtteExheW91dE1hbmFnZXIucHJvdG90eXBlLmdldENlbGxzRm9yQ2hhbmdlcz1mdW5jdGlvbihhKXtmb3IodmFyIGI9W10sYz0wO2M8YS5sZW5ndGg7YysrKXt2YXIgZD1hW2NdO2lmKGQgaW5zdGFuY2VvZiBteFJvb3RDaGFuZ2UpcmV0dXJuW107Yj1iLmNvbmNhdCh0aGlzLmdldENlbGxzRm9yQ2hhbmdlKGQpKX1yZXR1cm4gYn07Cm14TGF5b3V0TWFuYWdlci5wcm90b3R5cGUuZ2V0Q2VsbHNGb3JDaGFuZ2U9ZnVuY3Rpb24oYSl7cmV0dXJuIGEgaW5zdGFuY2VvZiBteENoaWxkQ2hhbmdlP3RoaXMuYWRkQ2VsbHNXaXRoTGF5b3V0KGEuY2hpbGQsdGhpcy5hZGRDZWxsc1dpdGhMYXlvdXQoYS5wcmV2aW91cykpOmEgaW5zdGFuY2VvZiBteFRlcm1pbmFsQ2hhbmdlfHxhIGluc3RhbmNlb2YgbXhHZW9tZXRyeUNoYW5nZXx8YSBpbnN0YW5jZW9mIG14VmlzaWJsZUNoYW5nZXx8YSBpbnN0YW5jZW9mIG14U3R5bGVDaGFuZ2U/dGhpcy5hZGRDZWxsc1dpdGhMYXlvdXQoYS5jZWxsKTpbXX07bXhMYXlvdXRNYW5hZ2VyLnByb3RvdHlwZS5hZGRDZWxsc1dpdGhMYXlvdXQ9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5hZGREZXNjZW5kYW50c1dpdGhMYXlvdXQoYSx0aGlzLmFkZEFuY2VzdG9yc1dpdGhMYXlvdXQoYSxiKSl9OwpteExheW91dE1hbmFnZXIucHJvdG90eXBlLmFkZEFuY2VzdG9yc1dpdGhMYXlvdXQ9ZnVuY3Rpb24oYSxiKXtiPW51bGwhPWI/YjpbXTtpZihudWxsIT1hJiYobnVsbCE9dGhpcy5oYXNMYXlvdXQoYSkmJmIucHVzaChhKSx0aGlzLmlzQnViYmxpbmcoKSkpe3ZhciBjPXRoaXMuZ2V0R3JhcGgoKS5nZXRNb2RlbCgpO3RoaXMuYWRkQW5jZXN0b3JzV2l0aExheW91dChjLmdldFBhcmVudChhKSxiKX1yZXR1cm4gYn07bXhMYXlvdXRNYW5hZ2VyLnByb3RvdHlwZS5hZGREZXNjZW5kYW50c1dpdGhMYXlvdXQ9ZnVuY3Rpb24oYSxiKXtiPW51bGwhPWI/YjpbXTtpZihudWxsIT1hJiZ0aGlzLmhhc0xheW91dChhKSlmb3IodmFyIGM9dGhpcy5nZXRHcmFwaCgpLmdldE1vZGVsKCksZD0wO2Q8Yy5nZXRDaGlsZENvdW50KGEpO2QrKyl7dmFyIGU9Yy5nZXRDaGlsZEF0KGEsZCk7dGhpcy5oYXNMYXlvdXQoZSkmJihiLnB1c2goZSksdGhpcy5hZGREZXNjZW5kYW50c1dpdGhMYXlvdXQoZSxiKSl9cmV0dXJuIGJ9OwpteExheW91dE1hbmFnZXIucHJvdG90eXBlLmV4ZWN1dGVMYXlvdXRGb3JDZWxscz1mdW5jdGlvbihhKXthPW14VXRpbHMuc29ydENlbGxzKGEsITEpO3RoaXMubGF5b3V0Q2VsbHMoYSwhMCk7dGhpcy5sYXlvdXRDZWxscyhhLnJldmVyc2UoKSwhMSl9O214TGF5b3V0TWFuYWdlci5wcm90b3R5cGUubGF5b3V0Q2VsbHM9ZnVuY3Rpb24oYSxiKXtpZigwPGEubGVuZ3RoKXt2YXIgYz10aGlzLmdldEdyYXBoKCkuZ2V0TW9kZWwoKTtjLmJlZ2luVXBkYXRlKCk7dHJ5e2Zvcih2YXIgZD1udWxsLGU9MDtlPGEubGVuZ3RoO2UrKylhW2VdIT1jLmdldFJvb3QoKSYmYVtlXSE9ZCYmKHRoaXMuZXhlY3V0ZUxheW91dChhW2VdLGIpLGQ9YVtlXSk7dGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5MQVlPVVRfQ0VMTFMsImNlbGxzIixhKSl9ZmluYWxseXtjLmVuZFVwZGF0ZSgpfX19OwpteExheW91dE1hbmFnZXIucHJvdG90eXBlLmV4ZWN1dGVMYXlvdXQ9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdldExheW91dChhLGI/bXhFdmVudC5CRUdJTl9VUERBVEU6bXhFdmVudC5FTkRfVVBEQVRFKTtudWxsIT1jJiZjLmV4ZWN1dGUoYSl9O214TGF5b3V0TWFuYWdlci5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuc2V0R3JhcGgobnVsbCl9OwpmdW5jdGlvbiBteFN3aW1sYW5lTWFuYWdlcihhLGIsYyxkKXt0aGlzLmhvcml6b250YWw9bnVsbCE9Yj9iOiEwO3RoaXMuYWRkRW5hYmxlZD1udWxsIT1jP2M6ITA7dGhpcy5yZXNpemVFbmFibGVkPW51bGwhPWQ/ZDohMDt0aGlzLmFkZEhhbmRsZXI9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSxiKXt0aGlzLmlzRW5hYmxlZCgpJiZ0aGlzLmlzQWRkRW5hYmxlZCgpJiZ0aGlzLmNlbGxzQWRkZWQoYi5nZXRQcm9wZXJ0eSgiY2VsbHMiKSl9KTt0aGlzLnJlc2l6ZUhhbmRsZXI9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSxiKXt0aGlzLmlzRW5hYmxlZCgpJiZ0aGlzLmlzUmVzaXplRW5hYmxlZCgpJiZ0aGlzLmNlbGxzUmVzaXplZChiLmdldFByb3BlcnR5KCJjZWxscyIpKX0pO3RoaXMuc2V0R3JhcGgoYSl9bXhTd2ltbGFuZU1hbmFnZXIucHJvdG90eXBlPW5ldyBteEV2ZW50U291cmNlO214U3dpbWxhbmVNYW5hZ2VyLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1teFN3aW1sYW5lTWFuYWdlcjsKbXhTd2ltbGFuZU1hbmFnZXIucHJvdG90eXBlLmdyYXBoPW51bGw7bXhTd2ltbGFuZU1hbmFnZXIucHJvdG90eXBlLmVuYWJsZWQ9ITA7bXhTd2ltbGFuZU1hbmFnZXIucHJvdG90eXBlLmhvcml6b250YWw9ITA7bXhTd2ltbGFuZU1hbmFnZXIucHJvdG90eXBlLmFkZEVuYWJsZWQ9ITA7bXhTd2ltbGFuZU1hbmFnZXIucHJvdG90eXBlLnJlc2l6ZUVuYWJsZWQ9ITA7bXhTd2ltbGFuZU1hbmFnZXIucHJvdG90eXBlLmFkZEhhbmRsZXI9bnVsbDtteFN3aW1sYW5lTWFuYWdlci5wcm90b3R5cGUucmVzaXplSGFuZGxlcj1udWxsO214U3dpbWxhbmVNYW5hZ2VyLnByb3RvdHlwZS5pc0VuYWJsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbmFibGVkfTtteFN3aW1sYW5lTWFuYWdlci5wcm90b3R5cGUuc2V0RW5hYmxlZD1mdW5jdGlvbihhKXt0aGlzLmVuYWJsZWQ9YX07bXhTd2ltbGFuZU1hbmFnZXIucHJvdG90eXBlLmlzSG9yaXpvbnRhbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmhvcml6b250YWx9OwpteFN3aW1sYW5lTWFuYWdlci5wcm90b3R5cGUuc2V0SG9yaXpvbnRhbD1mdW5jdGlvbihhKXt0aGlzLmhvcml6b250YWw9YX07bXhTd2ltbGFuZU1hbmFnZXIucHJvdG90eXBlLmlzQWRkRW5hYmxlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmFkZEVuYWJsZWR9O214U3dpbWxhbmVNYW5hZ2VyLnByb3RvdHlwZS5zZXRBZGRFbmFibGVkPWZ1bmN0aW9uKGEpe3RoaXMuYWRkRW5hYmxlZD1hfTtteFN3aW1sYW5lTWFuYWdlci5wcm90b3R5cGUuaXNSZXNpemVFbmFibGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVzaXplRW5hYmxlZH07bXhTd2ltbGFuZU1hbmFnZXIucHJvdG90eXBlLnNldFJlc2l6ZUVuYWJsZWQ9ZnVuY3Rpb24oYSl7dGhpcy5yZXNpemVFbmFibGVkPWF9O214U3dpbWxhbmVNYW5hZ2VyLnByb3RvdHlwZS5nZXRHcmFwaD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdyYXBofTsKbXhTd2ltbGFuZU1hbmFnZXIucHJvdG90eXBlLnNldEdyYXBoPWZ1bmN0aW9uKGEpe251bGwhPXRoaXMuZ3JhcGgmJih0aGlzLmdyYXBoLnJlbW92ZUxpc3RlbmVyKHRoaXMuYWRkSGFuZGxlciksdGhpcy5ncmFwaC5yZW1vdmVMaXN0ZW5lcih0aGlzLnJlc2l6ZUhhbmRsZXIpKTt0aGlzLmdyYXBoPWE7bnVsbCE9dGhpcy5ncmFwaCYmKHRoaXMuZ3JhcGguYWRkTGlzdGVuZXIobXhFdmVudC5BRERfQ0VMTFMsdGhpcy5hZGRIYW5kbGVyKSx0aGlzLmdyYXBoLmFkZExpc3RlbmVyKG14RXZlbnQuQ0VMTFNfUkVTSVpFRCx0aGlzLnJlc2l6ZUhhbmRsZXIpKX07bXhTd2ltbGFuZU1hbmFnZXIucHJvdG90eXBlLmlzU3dpbWxhbmVJZ25vcmVkPWZ1bmN0aW9uKGEpe3JldHVybiF0aGlzLmdldEdyYXBoKCkuaXNTd2ltbGFuZShhKX07Cm14U3dpbWxhbmVNYW5hZ2VyLnByb3RvdHlwZS5pc0NlbGxIb3Jpem9udGFsPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmdyYXBoLmlzU3dpbWxhbmUoYSk/KGE9dGhpcy5ncmFwaC5nZXRDZWxsU3R5bGUoYSksMT09bXhVdGlscy5nZXRWYWx1ZShhLG14Q29uc3RhbnRzLlNUWUxFX0hPUklaT05UQUwsMSkpOiF0aGlzLmlzSG9yaXpvbnRhbCgpfTtteFN3aW1sYW5lTWFuYWdlci5wcm90b3R5cGUuY2VsbHNBZGRlZD1mdW5jdGlvbihhKXtpZihudWxsIT1hKXt2YXIgYj10aGlzLmdldEdyYXBoKCkuZ2V0TW9kZWwoKTtiLmJlZ2luVXBkYXRlKCk7dHJ5e2Zvcih2YXIgYz0wO2M8YS5sZW5ndGg7YysrKXRoaXMuaXNTd2ltbGFuZUlnbm9yZWQoYVtjXSl8fHRoaXMuc3dpbWxhbmVBZGRlZChhW2NdKX1maW5hbGx5e2IuZW5kVXBkYXRlKCl9fX07Cm14U3dpbWxhbmVNYW5hZ2VyLnByb3RvdHlwZS5zd2ltbGFuZUFkZGVkPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj10aGlzLmdldEdyYXBoKCkuZ2V0TW9kZWwoKSxjPWIuZ2V0UGFyZW50KGEpLGQ9Yi5nZXRDaGlsZENvdW50KGMpLGU9bnVsbCxmPTA7ZjxkO2YrKyl7dmFyIGc9Yi5nZXRDaGlsZEF0KGMsZik7aWYoZyE9YSYmIXRoaXMuaXNTd2ltbGFuZUlnbm9yZWQoZykmJihlPWIuZ2V0R2VvbWV0cnkoZyksbnVsbCE9ZSkpYnJlYWt9bnVsbCE9ZSYmKGI9bnVsbCE9Yz90aGlzLmlzQ2VsbEhvcml6b250YWwoYyk6dGhpcy5ob3Jpem9udGFsLHRoaXMucmVzaXplU3dpbWxhbmUoYSxlLndpZHRoLGUuaGVpZ2h0LGIpKX07Cm14U3dpbWxhbmVNYW5hZ2VyLnByb3RvdHlwZS5jZWxsc1Jlc2l6ZWQ9ZnVuY3Rpb24oYSl7aWYobnVsbCE9YSl7dmFyIGI9dGhpcy5nZXRHcmFwaCgpLmdldE1vZGVsKCk7Yi5iZWdpblVwZGF0ZSgpO3RyeXtmb3IodmFyIGM9MDtjPGEubGVuZ3RoO2MrKylpZighdGhpcy5pc1N3aW1sYW5lSWdub3JlZChhW2NdKSl7dmFyIGQ9Yi5nZXRHZW9tZXRyeShhW2NdKTtpZihudWxsIT1kKXtmb3IodmFyIGU9bmV3IG14UmVjdGFuZ2xlKDAsMCxkLndpZHRoLGQuaGVpZ2h0KSxmPWFbY10sZz1mO251bGwhPWc7KXt2YXIgZj1nLGc9Yi5nZXRQYXJlbnQoZyksaz10aGlzLmdyYXBoLmlzU3dpbWxhbmUoZyk/dGhpcy5ncmFwaC5nZXRTdGFydFNpemUoZyk6bmV3IG14UmVjdGFuZ2xlO2Uud2lkdGgrPWsud2lkdGg7ZS5oZWlnaHQrPWsuaGVpZ2h0fXZhciBsPW51bGwhPWc/dGhpcy5pc0NlbGxIb3Jpem9udGFsKGcpOnRoaXMuaG9yaXpvbnRhbDt0aGlzLnJlc2l6ZVN3aW1sYW5lKGYsZS53aWR0aCwKZS5oZWlnaHQsbCl9fX1maW5hbGx5e2IuZW5kVXBkYXRlKCl9fX07Cm14U3dpbWxhbmVNYW5hZ2VyLnByb3RvdHlwZS5yZXNpemVTd2ltbGFuZT1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZT10aGlzLmdldEdyYXBoKCkuZ2V0TW9kZWwoKTtlLmJlZ2luVXBkYXRlKCk7dHJ5e3ZhciBmPXRoaXMuaXNDZWxsSG9yaXpvbnRhbChhKTtpZighdGhpcy5pc1N3aW1sYW5lSWdub3JlZChhKSl7dmFyIGc9ZS5nZXRHZW9tZXRyeShhKTtudWxsIT1nJiYoZCYmZy5oZWlnaHQhPWN8fCFkJiZnLndpZHRoIT1iKSYmKGc9Zy5jbG9uZSgpLGQ/Zy5oZWlnaHQ9YzpnLndpZHRoPWIsZS5zZXRHZW9tZXRyeShhLGcpKX12YXIgaz10aGlzLmdyYXBoLmlzU3dpbWxhbmUoYSk/dGhpcy5ncmFwaC5nZXRTdGFydFNpemUoYSk6bmV3IG14UmVjdGFuZ2xlO2ItPWsud2lkdGg7Yy09ay5oZWlnaHQ7dmFyIGw9ZS5nZXRDaGlsZENvdW50KGEpO2ZvcihkPTA7ZDxsO2QrKyl7dmFyIG09ZS5nZXRDaGlsZEF0KGEsZCk7dGhpcy5yZXNpemVTd2ltbGFuZShtLGIsYyxmKX19ZmluYWxseXtlLmVuZFVwZGF0ZSgpfX07Cm14U3dpbWxhbmVNYW5hZ2VyLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5zZXRHcmFwaChudWxsKX07CmZ1bmN0aW9uIG14VGVtcG9yYXJ5Q2VsbFN0YXRlcyhhLGIsYyxkLGUpe2I9bnVsbCE9Yj9iOjE7dGhpcy52aWV3PWE7dGhpcy5vbGRWYWxpZGF0ZUNlbGxTdGF0ZT1hLnZhbGlkYXRlQ2VsbFN0YXRlO3RoaXMub2xkQm91bmRzPWEuZ2V0R3JhcGhCb3VuZHMoKTt0aGlzLm9sZFN0YXRlcz1hLmdldFN0YXRlcygpO3RoaXMub2xkU2NhbGU9YS5nZXRTY2FsZSgpO3RoaXMub2xkRG9SZWRyYXdTaGFwZT1hLmdyYXBoLmNlbGxSZW5kZXJlci5kb1JlZHJhd1NoYXBlO3ZhciBmPXRoaXM7bnVsbCE9ZSYmKGEuZ3JhcGguY2VsbFJlbmRlcmVyLmRvUmVkcmF3U2hhcGU9ZnVuY3Rpb24oYil7dmFyIGM9Yi5zaGFwZS5wYWludDtiLnNoYXBlLnBhaW50PWZ1bmN0aW9uKGEpe3ZhciBkPWUoYik7bnVsbCE9ZCYmYS5zZXRMaW5rKGQpO2MuYXBwbHkodGhpcyxhcmd1bWVudHMpO251bGwhPWQmJmEuc2V0TGluayhudWxsKX07Zi5vbGREb1JlZHJhd1NoYXBlLmFwcGx5KGEuZ3JhcGguY2VsbFJlbmRlcmVyLAphcmd1bWVudHMpO2Iuc2hhcGUucGFpbnQ9Y30pO2EudmFsaWRhdGVDZWxsU3RhdGU9ZnVuY3Rpb24oYixjKXtyZXR1cm4gbnVsbD09Ynx8bnVsbD09ZHx8ZChiKT9mLm9sZFZhbGlkYXRlQ2VsbFN0YXRlLmFwcGx5KGEsYXJndW1lbnRzKTpudWxsfTthLnNldFN0YXRlcyhuZXcgbXhEaWN0aW9uYXJ5KTthLnNldFNjYWxlKGIpO2lmKG51bGwhPWMpe2EucmVzZXRWYWxpZGF0aW9uU3RhdGUoKTtiPW51bGw7Zm9yKHZhciBnPTA7ZzxjLmxlbmd0aDtnKyspe3ZhciBrPWEuZ2V0Qm91bmRpbmdCb3goYS52YWxpZGF0ZUNlbGxTdGF0ZShhLnZhbGlkYXRlQ2VsbChjW2ddKSkpO251bGw9PWI/Yj1rOmIuYWRkKGspfWEuc2V0R3JhcGhCb3VuZHMoYnx8bmV3IG14UmVjdGFuZ2xlKX19bXhUZW1wb3JhcnlDZWxsU3RhdGVzLnByb3RvdHlwZS52aWV3PW51bGw7bXhUZW1wb3JhcnlDZWxsU3RhdGVzLnByb3RvdHlwZS5vbGRTdGF0ZXM9bnVsbDsKbXhUZW1wb3JhcnlDZWxsU3RhdGVzLnByb3RvdHlwZS5vbGRCb3VuZHM9bnVsbDtteFRlbXBvcmFyeUNlbGxTdGF0ZXMucHJvdG90eXBlLm9sZFNjYWxlPW51bGw7bXhUZW1wb3JhcnlDZWxsU3RhdGVzLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy52aWV3LnNldFNjYWxlKHRoaXMub2xkU2NhbGUpO3RoaXMudmlldy5zZXRTdGF0ZXModGhpcy5vbGRTdGF0ZXMpO3RoaXMudmlldy5zZXRHcmFwaEJvdW5kcyh0aGlzLm9sZEJvdW5kcyk7dGhpcy52aWV3LnZhbGlkYXRlQ2VsbFN0YXRlPXRoaXMub2xkVmFsaWRhdGVDZWxsU3RhdGU7dGhpcy52aWV3LmdyYXBoLmNlbGxSZW5kZXJlci5kb1JlZHJhd1NoYXBlPXRoaXMub2xkRG9SZWRyYXdTaGFwZX07ZnVuY3Rpb24gbXhDZWxsU3RhdGVQcmV2aWV3KGEpe3RoaXMuZGVsdGFzPW5ldyBteERpY3Rpb25hcnk7dGhpcy5ncmFwaD1hfW14Q2VsbFN0YXRlUHJldmlldy5wcm90b3R5cGUuZ3JhcGg9bnVsbDsKbXhDZWxsU3RhdGVQcmV2aWV3LnByb3RvdHlwZS5kZWx0YXM9bnVsbDtteENlbGxTdGF0ZVByZXZpZXcucHJvdG90eXBlLmNvdW50PTA7bXhDZWxsU3RhdGVQcmV2aWV3LnByb3RvdHlwZS5pc0VtcHR5PWZ1bmN0aW9uKCl7cmV0dXJuIDA9PXRoaXMuY291bnR9O214Q2VsbFN0YXRlUHJldmlldy5wcm90b3R5cGUubW92ZVN0YXRlPWZ1bmN0aW9uKGEsYixjLGQsZSl7ZD1udWxsIT1kP2Q6ITA7ZT1udWxsIT1lP2U6ITA7dmFyIGY9dGhpcy5kZWx0YXMuZ2V0KGEuY2VsbCk7bnVsbD09Zj8oZj17cG9pbnQ6bmV3IG14UG9pbnQoYixjKSxzdGF0ZTphfSx0aGlzLmRlbHRhcy5wdXQoYS5jZWxsLGYpLHRoaXMuY291bnQrKyk6ZD8oZi5wb2ludC54Kz1iLGYucG9pbnQueSs9Yyk6KGYucG9pbnQueD1iLGYucG9pbnQueT1jKTtlJiZ0aGlzLmFkZEVkZ2VzKGEpO3JldHVybiBmLnBvaW50fTsKbXhDZWxsU3RhdGVQcmV2aWV3LnByb3RvdHlwZS5zaG93PWZ1bmN0aW9uKGEpe3RoaXMuZGVsdGFzLnZpc2l0KG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEsYyl7dGhpcy50cmFuc2xhdGVTdGF0ZShjLnN0YXRlLGMucG9pbnQueCxjLnBvaW50LnkpfSkpO3RoaXMuZGVsdGFzLnZpc2l0KG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGIsYyl7dGhpcy5yZXZhbGlkYXRlU3RhdGUoYy5zdGF0ZSxjLnBvaW50LngsYy5wb2ludC55LGEpfSkpfTsKbXhDZWxsU3RhdGVQcmV2aWV3LnByb3RvdHlwZS50cmFuc2xhdGVTdGF0ZT1mdW5jdGlvbihhLGIsYyl7aWYobnVsbCE9YSl7dmFyIGQ9dGhpcy5ncmFwaC5nZXRNb2RlbCgpO2lmKGQuaXNWZXJ0ZXgoYS5jZWxsKSl7YS52aWV3LnVwZGF0ZUNlbGxTdGF0ZShhKTt2YXIgZT1kLmdldEdlb21ldHJ5KGEuY2VsbCk7MD09YiYmMD09Y3x8bnVsbD09ZXx8ZS5yZWxhdGl2ZSYmbnVsbD09dGhpcy5kZWx0YXMuZ2V0KGEuY2VsbCl8fChhLngrPWIsYS55Kz1jKX1mb3IodmFyIGU9ZC5nZXRDaGlsZENvdW50KGEuY2VsbCksZj0wO2Y8ZTtmKyspdGhpcy50cmFuc2xhdGVTdGF0ZShhLnZpZXcuZ2V0U3RhdGUoZC5nZXRDaGlsZEF0KGEuY2VsbCxmKSksYixjKX19OwpteENlbGxTdGF0ZVByZXZpZXcucHJvdG90eXBlLnJldmFsaWRhdGVTdGF0ZT1mdW5jdGlvbihhLGIsYyxkKXtpZihudWxsIT1hKXt2YXIgZT10aGlzLmdyYXBoLmdldE1vZGVsKCk7ZS5pc0VkZ2UoYS5jZWxsKSYmYS52aWV3LnVwZGF0ZUNlbGxTdGF0ZShhKTt2YXIgZj10aGlzLmdyYXBoLmdldENlbGxHZW9tZXRyeShhLmNlbGwpLGc9YS52aWV3LmdldFN0YXRlKGUuZ2V0UGFyZW50KGEuY2VsbCkpOzA9PWImJjA9PWN8fG51bGw9PWZ8fCFmLnJlbGF0aXZlfHwhZS5pc1ZlcnRleChhLmNlbGwpfHxudWxsIT1nJiYhZS5pc1ZlcnRleChnLmNlbGwpJiZudWxsPT10aGlzLmRlbHRhcy5nZXQoYS5jZWxsKXx8KGEueCs9YixhLnkrPWMpO3RoaXMuZ3JhcGguY2VsbFJlbmRlcmVyLnJlZHJhdyhhKTtudWxsIT1kJiZkKGEpO2Y9ZS5nZXRDaGlsZENvdW50KGEuY2VsbCk7Zm9yKGc9MDtnPGY7ZysrKXRoaXMucmV2YWxpZGF0ZVN0YXRlKHRoaXMuZ3JhcGgudmlldy5nZXRTdGF0ZShlLmdldENoaWxkQXQoYS5jZWxsLApnKSksYixjLGQpfX07bXhDZWxsU3RhdGVQcmV2aWV3LnByb3RvdHlwZS5hZGRFZGdlcz1mdW5jdGlvbihhKXtmb3IodmFyIGI9dGhpcy5ncmFwaC5nZXRNb2RlbCgpLGM9Yi5nZXRFZGdlQ291bnQoYS5jZWxsKSxkPTA7ZDxjO2QrKyl7dmFyIGU9YS52aWV3LmdldFN0YXRlKGIuZ2V0RWRnZUF0KGEuY2VsbCxkKSk7bnVsbCE9ZSYmdGhpcy5tb3ZlU3RhdGUoZSwwLDApfX07ZnVuY3Rpb24gbXhDb25uZWN0aW9uQ29uc3RyYWludChhLGIsYyxkLGUpe3RoaXMucG9pbnQ9YTt0aGlzLnBlcmltZXRlcj1udWxsIT1iP2I6ITA7dGhpcy5uYW1lPWM7dGhpcy5keD1kP2Q6MDt0aGlzLmR5PWU/ZTowfW14Q29ubmVjdGlvbkNvbnN0cmFpbnQucHJvdG90eXBlLnBvaW50PW51bGw7bXhDb25uZWN0aW9uQ29uc3RyYWludC5wcm90b3R5cGUucGVyaW1ldGVyPW51bGw7bXhDb25uZWN0aW9uQ29uc3RyYWludC5wcm90b3R5cGUubmFtZT1udWxsOwpteENvbm5lY3Rpb25Db25zdHJhaW50LnByb3RvdHlwZS5keD1udWxsO214Q29ubmVjdGlvbkNvbnN0cmFpbnQucHJvdG90eXBlLmR5PW51bGw7CmZ1bmN0aW9uIG14R3JhcGhIYW5kbGVyKGEpe3RoaXMuZ3JhcGg9YTt0aGlzLmdyYXBoLmFkZE1vdXNlTGlzdGVuZXIodGhpcyk7dGhpcy5wYW5IYW5kbGVyPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dGhpcy5zdXNwZW5kZWR8fCh0aGlzLnVwZGF0ZVByZXZpZXcoKSx0aGlzLnVwZGF0ZUhpbnQoKSl9KTt0aGlzLmdyYXBoLmFkZExpc3RlbmVyKG14RXZlbnQuUEFOLHRoaXMucGFuSGFuZGxlcik7dGhpcy5lc2NhcGVIYW5kbGVyPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEsYyl7dGhpcy5yZXNldCgpfSk7dGhpcy5ncmFwaC5hZGRMaXN0ZW5lcihteEV2ZW50LkVTQ0FQRSx0aGlzLmVzY2FwZUhhbmRsZXIpO3RoaXMucmVmcmVzaEhhbmRsZXI9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSxjKXt3aW5kb3cuc2V0VGltZW91dChteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe2lmKG51bGwhPXRoaXMuZmlyc3QmJiF0aGlzLnN1c3BlbmRlZCl7dmFyIGE9dGhpcy5jdXJyZW50RHgsCmI9dGhpcy5jdXJyZW50RHk7dGhpcy5jdXJyZW50RHk9dGhpcy5jdXJyZW50RHg9MDt0aGlzLnVwZGF0ZVByZXZpZXcoKTt0aGlzLmJvdW5kcz10aGlzLmdyYXBoLmdldFZpZXcoKS5nZXRCb3VuZHModGhpcy5jZWxscyk7dGhpcy5wQm91bmRzPXRoaXMuZ2V0UHJldmlld0JvdW5kcyh0aGlzLmNlbGxzKTtudWxsPT10aGlzLnBCb3VuZHM/dGhpcy5yZXNldCgpOih0aGlzLmN1cnJlbnREeD1hLHRoaXMuY3VycmVudER5PWIsdGhpcy51cGRhdGVQcmV2aWV3KCksdGhpcy51cGRhdGVIaW50KCksdGhpcy5saXZlUHJldmlld1VzZWQmJnRoaXMuc2V0SGFuZGxlc1Zpc2libGVGb3JDZWxscyh0aGlzLmdyYXBoLnNlbGVjdGlvbkNlbGxzSGFuZGxlci5nZXRIYW5kbGVkU2VsZWN0aW9uQ2VsbHMoKSwhMSkpfX0pLDApfSk7dGhpcy5ncmFwaC5nZXRNb2RlbCgpLmFkZExpc3RlbmVyKG14RXZlbnQuQ0hBTkdFLHRoaXMucmVmcmVzaEhhbmRsZXIpO3RoaXMua2V5SGFuZGxlcj1teFV0aWxzLmJpbmQodGhpcywKZnVuY3Rpb24oYSl7bnVsbD09dGhpcy5ncmFwaC5jb250YWluZXJ8fCJoaWRkZW4iPT10aGlzLmdyYXBoLmNvbnRhaW5lci5zdHlsZS52aXNpYmlsaXR5fHxudWxsPT10aGlzLmZpcnN0fHx0aGlzLnN1c3BlbmRlZHx8KGE9dGhpcy5ncmFwaC5pc0Nsb25lRXZlbnQoYSkmJnRoaXMuZ3JhcGguaXNDZWxsc0Nsb25lYWJsZSgpJiZ0aGlzLmlzQ2xvbmVFbmFibGVkKCksYSE9dGhpcy5jbG9uaW5nJiYodGhpcy5jbG9uaW5nPWEsdGhpcy5jaGVja1ByZXZpZXcoKSx0aGlzLnVwZGF0ZVByZXZpZXcoKSkpfSk7bXhFdmVudC5hZGRMaXN0ZW5lcihkb2N1bWVudCwia2V5ZG93biIsdGhpcy5rZXlIYW5kbGVyKTtteEV2ZW50LmFkZExpc3RlbmVyKGRvY3VtZW50LCJrZXl1cCIsdGhpcy5rZXlIYW5kbGVyKX1teEdyYXBoSGFuZGxlci5wcm90b3R5cGUuZ3JhcGg9bnVsbDtteEdyYXBoSGFuZGxlci5wcm90b3R5cGUubWF4Q2VsbHM9bXhDbGllbnQuSVNfSUU/MjA6NTA7Cm14R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5lbmFibGVkPSEwO214R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5oaWdobGlnaHRFbmFibGVkPSEwO214R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5jbG9uZUVuYWJsZWQ9ITA7bXhHcmFwaEhhbmRsZXIucHJvdG90eXBlLm1vdmVFbmFibGVkPSEwO214R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5ndWlkZXNFbmFibGVkPSExO214R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5oYW5kbGVzVmlzaWJsZT0hMDtteEdyYXBoSGFuZGxlci5wcm90b3R5cGUuZ3VpZGU9bnVsbDtteEdyYXBoSGFuZGxlci5wcm90b3R5cGUuY3VycmVudER4PW51bGw7bXhHcmFwaEhhbmRsZXIucHJvdG90eXBlLmN1cnJlbnREeT1udWxsO214R3JhcGhIYW5kbGVyLnByb3RvdHlwZS51cGRhdGVDdXJzb3I9ITA7bXhHcmFwaEhhbmRsZXIucHJvdG90eXBlLnNlbGVjdEVuYWJsZWQ9ITA7bXhHcmFwaEhhbmRsZXIucHJvdG90eXBlLnJlbW92ZUNlbGxzRnJvbVBhcmVudD0hMDsKbXhHcmFwaEhhbmRsZXIucHJvdG90eXBlLnJlbW92ZUVtcHR5UGFyZW50cz0hMTtteEdyYXBoSGFuZGxlci5wcm90b3R5cGUuY29ubmVjdE9uRHJvcD0hMTtteEdyYXBoSGFuZGxlci5wcm90b3R5cGUuc2Nyb2xsT25Nb3ZlPSEwO214R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5taW5pbXVtU2l6ZT02O214R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5wcmV2aWV3Q29sb3I9ImJsYWNrIjtteEdyYXBoSGFuZGxlci5wcm90b3R5cGUuaHRtbFByZXZpZXc9ITE7bXhHcmFwaEhhbmRsZXIucHJvdG90eXBlLnNoYXBlPW51bGw7bXhHcmFwaEhhbmRsZXIucHJvdG90eXBlLnNjYWxlR3JpZD0hMTtteEdyYXBoSGFuZGxlci5wcm90b3R5cGUucm90YXRpb25FbmFibGVkPSEwO214R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5tYXhMaXZlUHJldmlldz0wO214R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5hbGxvd0xpdmVQcmV2aWV3PW14Q2xpZW50LklTX1NWRzsKbXhHcmFwaEhhbmRsZXIucHJvdG90eXBlLmlzRW5hYmxlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVuYWJsZWR9O214R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5zZXRFbmFibGVkPWZ1bmN0aW9uKGEpe3RoaXMuZW5hYmxlZD1hfTtteEdyYXBoSGFuZGxlci5wcm90b3R5cGUuaXNDbG9uZUVuYWJsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jbG9uZUVuYWJsZWR9O214R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5zZXRDbG9uZUVuYWJsZWQ9ZnVuY3Rpb24oYSl7dGhpcy5jbG9uZUVuYWJsZWQ9YX07bXhHcmFwaEhhbmRsZXIucHJvdG90eXBlLmlzTW92ZUVuYWJsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tb3ZlRW5hYmxlZH07bXhHcmFwaEhhbmRsZXIucHJvdG90eXBlLnNldE1vdmVFbmFibGVkPWZ1bmN0aW9uKGEpe3RoaXMubW92ZUVuYWJsZWQ9YX07bXhHcmFwaEhhbmRsZXIucHJvdG90eXBlLmlzU2VsZWN0RW5hYmxlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNlbGVjdEVuYWJsZWR9OwpteEdyYXBoSGFuZGxlci5wcm90b3R5cGUuc2V0U2VsZWN0RW5hYmxlZD1mdW5jdGlvbihhKXt0aGlzLnNlbGVjdEVuYWJsZWQ9YX07bXhHcmFwaEhhbmRsZXIucHJvdG90eXBlLmlzUmVtb3ZlQ2VsbHNGcm9tUGFyZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVtb3ZlQ2VsbHNGcm9tUGFyZW50fTtteEdyYXBoSGFuZGxlci5wcm90b3R5cGUuc2V0UmVtb3ZlQ2VsbHNGcm9tUGFyZW50PWZ1bmN0aW9uKGEpe3RoaXMucmVtb3ZlQ2VsbHNGcm9tUGFyZW50PWF9OwpteEdyYXBoSGFuZGxlci5wcm90b3R5cGUuaXNQcm9wYWdhdGVTZWxlY3Rpb25DZWxsPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLmdyYXBoLm1vZGVsLmdldFBhcmVudChhKTtyZXR1cm4gYj8oYj10aGlzLmdyYXBoLmdldENlbGxHZW9tZXRyeShhKSwhdGhpcy5ncmFwaC5tb2RlbC5pc0VkZ2UoYSkmJiF0aGlzLmdyYXBoLm1vZGVsLmlzRWRnZShkKSYmIXRoaXMuZ3JhcGguaXNTaWJsaW5nU2VsZWN0ZWQoYSkmJihudWxsPT1ifHxiLnJlbGF0aXZlfHwhdGhpcy5ncmFwaC5pc1N3aW1sYW5lKGQpKSk6KCF0aGlzLmdyYXBoLmlzVG9nZ2xlRXZlbnQoYy5nZXRFdmVudCgpKXx8IXRoaXMuZ3JhcGguaXNTaWJsaW5nU2VsZWN0ZWQoYSkmJiF0aGlzLmdyYXBoLmlzQ2VsbFNlbGVjdGVkKGEpJiYhdGhpcy5ncmFwaC5pc1N3aW1sYW5lKGQpfHx0aGlzLmdyYXBoLmlzQ2VsbFNlbGVjdGVkKGQpKSYmKHRoaXMuZ3JhcGguaXNUb2dnbGVFdmVudChjLmdldEV2ZW50KCkpfHwhdGhpcy5ncmFwaC5pc0NlbGxTZWxlY3RlZChkKSl9OwpteEdyYXBoSGFuZGxlci5wcm90b3R5cGUuZ2V0SW5pdGlhbENlbGxGb3JFdmVudD1mdW5jdGlvbihhKXt2YXIgYj1hLmdldFN0YXRlKCk7aWYoISh0aGlzLmdyYXBoLmlzVG9nZ2xlRXZlbnQoYS5nZXRFdmVudCgpKSYmbXhFdmVudC5pc0FsdERvd24oYS5nZXRFdmVudCgpKXx8bnVsbD09Ynx8dGhpcy5ncmFwaC5pc0NlbGxTZWxlY3RlZChiLmNlbGwpKSlmb3IodmFyIGM9dGhpcy5ncmFwaC5tb2RlbCxkPXRoaXMuZ3JhcGgudmlldy5nZXRTdGF0ZShjLmdldFBhcmVudChiLmNlbGwpKTtudWxsIT1kJiYhdGhpcy5ncmFwaC5pc0NlbGxTZWxlY3RlZChkLmNlbGwpJiYoYy5pc1ZlcnRleChkLmNlbGwpfHxjLmlzRWRnZShkLmNlbGwpKSYmdGhpcy5pc1Byb3BhZ2F0ZVNlbGVjdGlvbkNlbGwoYi5jZWxsLCEwLGEpOyliPWQsZD10aGlzLmdyYXBoLnZpZXcuZ2V0U3RhdGUodGhpcy5ncmFwaC5nZXRNb2RlbCgpLmdldFBhcmVudChiLmNlbGwpKTtyZXR1cm4gbnVsbCE9Yj9iLmNlbGw6bnVsbH07Cm14R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5pc0RlbGF5ZWRTZWxlY3Rpb249ZnVuY3Rpb24oYSxiKXtpZighdGhpcy5ncmFwaC5pc1RvZ2dsZUV2ZW50KGIuZ2V0RXZlbnQoKSl8fCFteEV2ZW50LmlzQWx0RG93bihiLmdldEV2ZW50KCkpKWZvcig7bnVsbCE9YTspe2lmKHRoaXMuZ3JhcGguc2VsZWN0aW9uQ2VsbHNIYW5kbGVyLmlzSGFuZGxlZChhKSlyZXR1cm4gdGhpcy5ncmFwaC5jZWxsRWRpdG9yLmdldEVkaXRpbmdDZWxsKCkhPWE7YT10aGlzLmdyYXBoLm1vZGVsLmdldFBhcmVudChhKX1yZXR1cm4gdGhpcy5ncmFwaC5pc1RvZ2dsZUV2ZW50KGIuZ2V0RXZlbnQoKSkmJiFteEV2ZW50LmlzQWx0RG93bihiLmdldEV2ZW50KCkpfTsKbXhHcmFwaEhhbmRsZXIucHJvdG90eXBlLnNlbGVjdERlbGF5ZWQ9ZnVuY3Rpb24oYSl7aWYoIXRoaXMuZ3JhcGgucG9wdXBNZW51SGFuZGxlci5pc1BvcHVwVHJpZ2dlcihhKSl7dmFyIGI9YS5nZXRDZWxsKCk7bnVsbD09YiYmKGI9dGhpcy5jZWxsKTt2YXIgYz10aGlzLmdyYXBoLnZpZXcuZ2V0U3RhdGUoYik7aWYobnVsbCE9Yyl7aWYoIShhLmlzU291cmNlKGMuY29udHJvbCl8fHRoaXMuZ3JhcGguaXNUb2dnbGVFdmVudChhLmdldEV2ZW50KCkpJiZteEV2ZW50LmlzQWx0RG93bihhLmdldEV2ZW50KCkpKSlmb3IodmFyIGM9dGhpcy5ncmFwaC5nZXRNb2RlbCgpLGQ9Yy5nZXRQYXJlbnQoYik7bnVsbCE9dGhpcy5ncmFwaC52aWV3LmdldFN0YXRlKGQpJiYoYy5pc1ZlcnRleChkKXx8Yy5pc0VkZ2UoZCkpJiZ0aGlzLmlzUHJvcGFnYXRlU2VsZWN0aW9uQ2VsbChiLCExLGEpOyliPWQsZD1jLmdldFBhcmVudChiKTt0aGlzLmdyYXBoLnNlbGVjdENlbGxGb3JFdmVudChiLGEuZ2V0RXZlbnQoKSl9fX07Cm14R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5jb25zdW1lTW91c2VFdmVudD1mdW5jdGlvbihhLGIpe2IuY29uc3VtZSgpfTsKbXhHcmFwaEhhbmRsZXIucHJvdG90eXBlLm1vdXNlRG93bj1mdW5jdGlvbihhLGIpe2lmKCFiLmlzQ29uc3VtZWQoKSYmdGhpcy5pc0VuYWJsZWQoKSYmdGhpcy5ncmFwaC5pc0VuYWJsZWQoKSYmbnVsbCE9Yi5nZXRTdGF0ZSgpJiYhbXhFdmVudC5pc011bHRpVG91Y2hFdmVudChiLmdldEV2ZW50KCkpKXt2YXIgYz10aGlzLmdldEluaXRpYWxDZWxsRm9yRXZlbnQoYik7dGhpcy5kZWxheWVkU2VsZWN0aW9uPXRoaXMuaXNEZWxheWVkU2VsZWN0aW9uKGMsYik7dGhpcy5jZWxsPW51bGw7dGhpcy5pc1NlbGVjdEVuYWJsZWQoKSYmIXRoaXMuZGVsYXllZFNlbGVjdGlvbiYmdGhpcy5ncmFwaC5zZWxlY3RDZWxsRm9yRXZlbnQoYyxiLmdldEV2ZW50KCkpO2lmKHRoaXMuaXNNb3ZlRW5hYmxlZCgpKXt2YXIgZD10aGlzLmdyYXBoLm1vZGVsLGU9ZC5nZXRHZW9tZXRyeShjKTt0aGlzLmdyYXBoLmlzQ2VsbE1vdmFibGUoYykmJighZC5pc0VkZ2UoYyl8fDE8dGhpcy5ncmFwaC5nZXRTZWxlY3Rpb25Db3VudCgpfHwKbnVsbCE9ZS5wb2ludHMmJjA8ZS5wb2ludHMubGVuZ3RofHxudWxsPT1kLmdldFRlcm1pbmFsKGMsITApfHxudWxsPT1kLmdldFRlcm1pbmFsKGMsITEpfHx0aGlzLmdyYXBoLmFsbG93RGFuZ2xpbmdFZGdlc3x8dGhpcy5ncmFwaC5pc0Nsb25lRXZlbnQoYi5nZXRFdmVudCgpKSYmdGhpcy5ncmFwaC5pc0NlbGxzQ2xvbmVhYmxlKCkpP3RoaXMuc3RhcnQoYyxiLmdldFgoKSxiLmdldFkoKSk6dGhpcy5kZWxheWVkU2VsZWN0aW9uJiYodGhpcy5jZWxsPWMpO3RoaXMuY2VsbFdhc0NsaWNrZWQ9ITA7dGhpcy5jb25zdW1lTW91c2VFdmVudChteEV2ZW50Lk1PVVNFX0RPV04sYil9fX07Cm14R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5nZXRHdWlkZVN0YXRlcz1mdW5jdGlvbigpe3ZhciBhPXRoaXMuZ3JhcGguZ2V0RGVmYXVsdFBhcmVudCgpLGI9dGhpcy5ncmFwaC5nZXRNb2RlbCgpLGM9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPXRoaXMuZ3JhcGgudmlldy5nZXRTdGF0ZShhKSYmYi5pc1ZlcnRleChhKSYmbnVsbCE9Yi5nZXRHZW9tZXRyeShhKSYmIWIuZ2V0R2VvbWV0cnkoYSkucmVsYXRpdmV9KTtyZXR1cm4gdGhpcy5ncmFwaC52aWV3LmdldENlbGxTdGF0ZXMoYi5maWx0ZXJEZXNjZW5kYW50cyhjLGEpKX07bXhHcmFwaEhhbmRsZXIucHJvdG90eXBlLmdldENlbGxzPWZ1bmN0aW9uKGEpe3JldHVybiF0aGlzLmRlbGF5ZWRTZWxlY3Rpb24mJnRoaXMuZ3JhcGguaXNDZWxsTW92YWJsZShhKT9bYV06dGhpcy5ncmFwaC5nZXRNb3ZhYmxlQ2VsbHModGhpcy5ncmFwaC5nZXRTZWxlY3Rpb25DZWxscygpKX07Cm14R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5nZXRQcmV2aWV3Qm91bmRzPWZ1bmN0aW9uKGEpe2E9dGhpcy5nZXRCb3VuZGluZ0JveChhKTtudWxsIT1hJiYoYS53aWR0aD1NYXRoLm1heCgwLGEud2lkdGgtMSksYS5oZWlnaHQ9TWF0aC5tYXgoMCxhLmhlaWdodC0xKSxhLndpZHRoPHRoaXMubWluaW11bVNpemU/KGEueC09KHRoaXMubWluaW11bVNpemUtYS53aWR0aCkvMixhLndpZHRoPXRoaXMubWluaW11bVNpemUpOihhLng9TWF0aC5yb3VuZChhLngpLGEud2lkdGg9TWF0aC5jZWlsKGEud2lkdGgpKSxhLmhlaWdodDx0aGlzLm1pbmltdW1TaXplPyhhLnktPSh0aGlzLm1pbmltdW1TaXplLWEuaGVpZ2h0KS8yLGEuaGVpZ2h0PXRoaXMubWluaW11bVNpemUpOihhLnk9TWF0aC5yb3VuZChhLnkpLGEuaGVpZ2h0PU1hdGguY2VpbChhLmhlaWdodCkpKTtyZXR1cm4gYX07Cm14R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5nZXRCb3VuZGluZ0JveD1mdW5jdGlvbihhKXt2YXIgYj1udWxsO2lmKG51bGwhPWEmJjA8YS5sZW5ndGgpZm9yKHZhciBjPXRoaXMuZ3JhcGguZ2V0TW9kZWwoKSxkPTA7ZDxhLmxlbmd0aDtkKyspaWYoYy5pc1ZlcnRleChhW2RdKXx8Yy5pc0VkZ2UoYVtkXSkpe3ZhciBlPXRoaXMuZ3JhcGgudmlldy5nZXRTdGF0ZShhW2RdKTtpZihudWxsIT1lKXt2YXIgZj1lO2MuaXNWZXJ0ZXgoYVtkXSkmJm51bGwhPWUuc2hhcGUmJm51bGwhPWUuc2hhcGUuYm91bmRpbmdCb3gmJihmPWUuc2hhcGUuYm91bmRpbmdCb3gpO251bGw9PWI/Yj1teFJlY3RhbmdsZS5mcm9tUmVjdGFuZ2xlKGYpOmIuYWRkKGYpfX1yZXR1cm4gYn07Cm14R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5jcmVhdGVQcmV2aWV3U2hhcGU9ZnVuY3Rpb24oYSl7YT1uZXcgbXhSZWN0YW5nbGVTaGFwZShhLG51bGwsdGhpcy5wcmV2aWV3Q29sb3IpO2EuaXNEYXNoZWQ9ITA7dGhpcy5odG1sUHJldmlldz8oYS5kaWFsZWN0PW14Q29uc3RhbnRzLkRJQUxFQ1RfU1RSSUNUSFRNTCxhLmluaXQodGhpcy5ncmFwaC5jb250YWluZXIpKTooYS5kaWFsZWN0PXRoaXMuZ3JhcGguZGlhbGVjdCE9bXhDb25zdGFudHMuRElBTEVDVF9TVkc/bXhDb25zdGFudHMuRElBTEVDVF9WTUw6bXhDb25zdGFudHMuRElBTEVDVF9TVkcsYS5pbml0KHRoaXMuZ3JhcGguZ2V0VmlldygpLmdldE92ZXJsYXlQYW5lKCkpLGEucG9pbnRlckV2ZW50cz0hMSxteENsaWVudC5JU19JT1MmJihhLmdldFN2Z1NjcmVlbk9mZnNldD1mdW5jdGlvbigpe3JldHVybiAwfSkpO3JldHVybiBhfTsKbXhHcmFwaEhhbmRsZXIucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKGEsYixjLGQpe3RoaXMuY2VsbD1hO3RoaXMuZmlyc3Q9bXhVdGlscy5jb252ZXJ0UG9pbnQodGhpcy5ncmFwaC5jb250YWluZXIsYixjKTt0aGlzLmNlbGxzPW51bGwhPWQ/ZDp0aGlzLmdldENlbGxzKHRoaXMuY2VsbCk7dGhpcy5ib3VuZHM9dGhpcy5ncmFwaC5nZXRWaWV3KCkuZ2V0Qm91bmRzKHRoaXMuY2VsbHMpO3RoaXMucEJvdW5kcz10aGlzLmdldFByZXZpZXdCb3VuZHModGhpcy5jZWxscyk7dGhpcy5hbGxDZWxscz1uZXcgbXhEaWN0aW9uYXJ5O3RoaXMuY2xvbmluZz0hMTtmb3IoYj10aGlzLmNlbGxDb3VudD0wO2I8dGhpcy5jZWxscy5sZW5ndGg7YisrKXRoaXMuY2VsbENvdW50Kz10aGlzLmFkZFN0YXRlcyh0aGlzLmNlbGxzW2JdLHRoaXMuYWxsQ2VsbHMpO2lmKHRoaXMuZ3VpZGVzRW5hYmxlZCl7dGhpcy5ndWlkZT1uZXcgbXhHdWlkZSh0aGlzLmdyYXBoLHRoaXMuZ2V0R3VpZGVTdGF0ZXMoKSk7CnZhciBlPXRoaXMuZ3JhcGgubW9kZWwuZ2V0UGFyZW50KGEpLGY9Mj50aGlzLmdyYXBoLm1vZGVsLmdldENoaWxkQ291bnQoZSksZz1uZXcgbXhEaWN0aW9uYXJ5O2E9dGhpcy5ncmFwaC5nZXRPcHBvc2l0ZXModGhpcy5ncmFwaC5nZXRFZGdlcyh0aGlzLmNlbGwpLHRoaXMuY2VsbCk7Zm9yKGI9MDtiPGEubGVuZ3RoO2IrKyljPXRoaXMuZ3JhcGgudmlldy5nZXRTdGF0ZShhW2JdKSxudWxsPT1jfHxnLmdldChjKXx8Zy5wdXQoYywhMCk7dGhpcy5ndWlkZS5pc1N0YXRlSWdub3JlZD1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXt2YXIgYj10aGlzLmdyYXBoLm1vZGVsLmdldFBhcmVudChhLmNlbGwpO3JldHVybiBudWxsIT1hLmNlbGwmJighdGhpcy5jbG9uaW5nJiZ0aGlzLmlzQ2VsbE1vdmluZyhhLmNlbGwpfHxhLmNlbGwhPSh0aGlzLnRhcmdldHx8ZSkmJiFmJiYhZy5nZXQoYSkmJihudWxsPT10aGlzLnRhcmdldHx8Mjw9dGhpcy5ncmFwaC5tb2RlbC5nZXRDaGlsZENvdW50KHRoaXMudGFyZ2V0KSkmJgpiIT0odGhpcy50YXJnZXR8fGUpKX0pfX07bXhHcmFwaEhhbmRsZXIucHJvdG90eXBlLmFkZFN0YXRlcz1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZ3JhcGgudmlldy5nZXRTdGF0ZShhKSxkPTA7aWYobnVsbCE9YyYmbnVsbD09Yi5nZXQoYSkpe2IucHV0KGEsYyk7ZCsrO2Zvcih2YXIgYz10aGlzLmdyYXBoLm1vZGVsLmdldENoaWxkQ291bnQoYSksZT0wO2U8YztlKyspZCs9dGhpcy5hZGRTdGF0ZXModGhpcy5ncmFwaC5tb2RlbC5nZXRDaGlsZEF0KGEsZSksYil9cmV0dXJuIGR9O214R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5pc0NlbGxNb3Zpbmc9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPXRoaXMuYWxsQ2VsbHMuZ2V0KGEpfTsKbXhHcmFwaEhhbmRsZXIucHJvdG90eXBlLnVzZUd1aWRlc0ZvckV2ZW50PWZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT10aGlzLmd1aWRlP3RoaXMuZ3VpZGUuaXNFbmFibGVkRm9yRXZlbnQoYS5nZXRFdmVudCgpKSYmIXRoaXMuZ3JhcGguaXNDb25zdHJhaW5lZEV2ZW50KGEuZ2V0RXZlbnQoKSk6ITB9O214R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5zbmFwPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuc2NhbGVHcmlkP3RoaXMuZ3JhcGgudmlldy5zY2FsZToxO2EueD10aGlzLmdyYXBoLnNuYXAoYS54L2IpKmI7YS55PXRoaXMuZ3JhcGguc25hcChhLnkvYikqYjtyZXR1cm4gYX07Cm14R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5nZXREZWx0YT1mdW5jdGlvbihhKXthPW14VXRpbHMuY29udmVydFBvaW50KHRoaXMuZ3JhcGguY29udGFpbmVyLGEuZ2V0WCgpLGEuZ2V0WSgpKTtyZXR1cm4gbmV3IG14UG9pbnQoYS54LXRoaXMuZmlyc3QueC10aGlzLmdyYXBoLnBhbkR4LGEueS10aGlzLmZpcnN0LnktdGhpcy5ncmFwaC5wYW5EeSl9O214R3JhcGhIYW5kbGVyLnByb3RvdHlwZS51cGRhdGVIaW50PWZ1bmN0aW9uKGEpe307bXhHcmFwaEhhbmRsZXIucHJvdG90eXBlLnJlbW92ZUhpbnQ9ZnVuY3Rpb24oKXt9O214R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5yb3VuZExlbmd0aD1mdW5jdGlvbihhKXtyZXR1cm4gTWF0aC5yb3VuZCgxMDAqYSkvMTAwfTtteEdyYXBoSGFuZGxlci5wcm90b3R5cGUuaXNWYWxpZERyb3BUYXJnZXQ9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5ncmFwaC5tb2RlbC5nZXRQYXJlbnQodGhpcy5jZWxsKSE9YX07Cm14R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5jaGVja1ByZXZpZXc9ZnVuY3Rpb24oKXt0aGlzLmxpdmVQcmV2aWV3QWN0aXZlJiZ0aGlzLmNsb25pbmc/KHRoaXMucmVzZXRMaXZlUHJldmlldygpLHRoaXMubGl2ZVByZXZpZXdBY3RpdmU9ITEpOnRoaXMubWF4TGl2ZVByZXZpZXc+PXRoaXMuY2VsbENvdW50JiYhdGhpcy5saXZlUHJldmlld0FjdGl2ZSYmdGhpcy5hbGxvd0xpdmVQcmV2aWV3P3RoaXMuY2xvbmluZyYmdGhpcy5saXZlUHJldmlld0FjdGl2ZXx8KHRoaXMubGl2ZVByZXZpZXdVc2VkPXRoaXMubGl2ZVByZXZpZXdBY3RpdmU9ITApOnRoaXMubGl2ZVByZXZpZXdVc2VkfHxudWxsIT10aGlzLnNoYXBlfHwodGhpcy5zaGFwZT10aGlzLmNyZWF0ZVByZXZpZXdTaGFwZSh0aGlzLmJvdW5kcykpfTsKbXhHcmFwaEhhbmRsZXIucHJvdG90eXBlLm1vdXNlTW92ZT1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZ3JhcGg7aWYoYi5pc0NvbnN1bWVkKCl8fCFjLmlzTW91c2VEb3dufHxudWxsPT10aGlzLmNlbGx8fG51bGw9PXRoaXMuZmlyc3R8fG51bGw9PXRoaXMuYm91bmRzfHx0aGlzLnN1c3BlbmRlZCkhdGhpcy5pc01vdmVFbmFibGVkKCkmJiF0aGlzLmlzQ2xvbmVFbmFibGVkKCl8fCF0aGlzLnVwZGF0ZUN1cnNvcnx8Yi5pc0NvbnN1bWVkKCl8fG51bGw9PWIuZ2V0U3RhdGUoKSYmbnVsbD09Yi5zb3VyY2VTdGF0ZXx8Yy5pc01vdXNlRG93bnx8KGQ9Yy5nZXRDdXJzb3JGb3JNb3VzZUV2ZW50KGIpLG51bGw9PWQmJmMuaXNFbmFibGVkKCkmJmMuaXNDZWxsTW92YWJsZShiLmdldENlbGwoKSkmJihkPWMuZ2V0TW9kZWwoKS5pc0VkZ2UoYi5nZXRDZWxsKCkpP214Q29uc3RhbnRzLkNVUlNPUl9NT1ZBQkxFX0VER0U6bXhDb25zdGFudHMuQ1VSU09SX01PVkFCTEVfVkVSVEVYKSxudWxsIT0KZCYmbnVsbCE9Yi5zb3VyY2VTdGF0ZSYmYi5zb3VyY2VTdGF0ZS5zZXRDdXJzb3IoZCkpO2Vsc2UgaWYobXhFdmVudC5pc011bHRpVG91Y2hFdmVudChiLmdldEV2ZW50KCkpKXRoaXMucmVzZXQoKTtlbHNle3ZhciBkPXRoaXMuZ2V0RGVsdGEoYiksZT1jLnRvbGVyYW5jZTtpZihudWxsIT10aGlzLnNoYXBlfHx0aGlzLmxpdmVQcmV2aWV3QWN0aXZlfHxNYXRoLmFicyhkLngpPmV8fE1hdGguYWJzKGQueSk+ZSl7bnVsbD09dGhpcy5oaWdobGlnaHQmJih0aGlzLmhpZ2hsaWdodD1uZXcgbXhDZWxsSGlnaGxpZ2h0KHRoaXMuZ3JhcGgsbXhDb25zdGFudHMuRFJPUF9UQVJHRVRfQ09MT1IsMykpO3ZhciBlPWMuaXNDbG9uZUV2ZW50KGIuZ2V0RXZlbnQoKSkmJmMuaXNDZWxsc0Nsb25lYWJsZSgpJiZ0aGlzLmlzQ2xvbmVFbmFibGVkKCksZj1jLmlzR3JpZEVuYWJsZWRFdmVudChiLmdldEV2ZW50KCkpLGc9Yi5nZXRDZWxsKCksaz0hMCxsPW51bGw7dGhpcy5jbG9uaW5nPWU7Yy5pc0Ryb3BFbmFibGVkKCkmJgp0aGlzLmhpZ2hsaWdodEVuYWJsZWQmJihsPWMuZ2V0RHJvcFRhcmdldCh0aGlzLmNlbGxzLGIuZ2V0RXZlbnQoKSxnLGUpKTt2YXIgbT1jLmdldFZpZXcoKS5nZXRTdGF0ZShsKSxuPSExO251bGwhPW0mJihlfHx0aGlzLmlzVmFsaWREcm9wVGFyZ2V0KGwsYikpPyh0aGlzLnRhcmdldCE9bCYmKHRoaXMudGFyZ2V0PWwsdGhpcy5zZXRIaWdobGlnaHRDb2xvcihteENvbnN0YW50cy5EUk9QX1RBUkdFVF9DT0xPUikpLG49ITApOih0aGlzLnRhcmdldD1udWxsLHRoaXMuY29ubmVjdE9uRHJvcCYmbnVsbCE9ZyYmMT09dGhpcy5jZWxscy5sZW5ndGgmJmMuZ2V0TW9kZWwoKS5pc1ZlcnRleChnKSYmYy5pc0NlbGxDb25uZWN0YWJsZShnKSYmKG09Yy5nZXRWaWV3KCkuZ2V0U3RhdGUoZyksbnVsbCE9bSYmKGc9bnVsbD09Yy5nZXRFZGdlVmFsaWRhdGlvbkVycm9yKG51bGwsdGhpcy5jZWxsLGcpP214Q29uc3RhbnRzLlZBTElEX0NPTE9SOm14Q29uc3RhbnRzLklOVkFMSURfQ09OTkVDVF9UQVJHRVRfQ09MT1IsCnRoaXMuc2V0SGlnaGxpZ2h0Q29sb3IoZyksbj0hMCkpKTtudWxsIT1tJiZuP3RoaXMuaGlnaGxpZ2h0LmhpZ2hsaWdodChtKTp0aGlzLmhpZ2hsaWdodC5oaWRlKCk7bnVsbCE9dGhpcy5ndWlkZSYmdGhpcy51c2VHdWlkZXNGb3JFdmVudChiKT8oZD10aGlzLmd1aWRlLm1vdmUodGhpcy5ib3VuZHMsZCxmLGUpLGs9ITEpOmQ9dGhpcy5ncmFwaC5zbmFwRGVsdGEoZCx0aGlzLmJvdW5kcywhZiwhMSwhMSk7bnVsbCE9dGhpcy5ndWlkZSYmayYmdGhpcy5ndWlkZS5oaWRlKCk7Yy5pc0NvbnN0cmFpbmVkRXZlbnQoYi5nZXRFdmVudCgpKSYmKE1hdGguYWJzKGQueCk+TWF0aC5hYnMoZC55KT9kLnk9MDpkLng9MCk7dGhpcy5jaGVja1ByZXZpZXcoKTtpZih0aGlzLmN1cnJlbnREeCE9ZC54fHx0aGlzLmN1cnJlbnREeSE9ZC55KXRoaXMuY3VycmVudER4PWQueCx0aGlzLmN1cnJlbnREeT1kLnksdGhpcy51cGRhdGVQcmV2aWV3KCl9dGhpcy51cGRhdGVIaW50KGIpO3RoaXMuY29uc3VtZU1vdXNlRXZlbnQobXhFdmVudC5NT1VTRV9NT1ZFLApiKTtteEV2ZW50LmNvbnN1bWUoYi5nZXRFdmVudCgpKX19O214R3JhcGhIYW5kbGVyLnByb3RvdHlwZS51cGRhdGVQcmV2aWV3PWZ1bmN0aW9uKGEpe3RoaXMubGl2ZVByZXZpZXdVc2VkJiYhYT9udWxsIT10aGlzLmNlbGxzJiYodGhpcy5zZXRIYW5kbGVzVmlzaWJsZUZvckNlbGxzKHRoaXMuZ3JhcGguc2VsZWN0aW9uQ2VsbHNIYW5kbGVyLmdldEhhbmRsZWRTZWxlY3Rpb25DZWxscygpLCExKSx0aGlzLnVwZGF0ZUxpdmVQcmV2aWV3KHRoaXMuY3VycmVudER4LHRoaXMuY3VycmVudER5KSk6dGhpcy51cGRhdGVQcmV2aWV3U2hhcGUoKX07Cm14R3JhcGhIYW5kbGVyLnByb3RvdHlwZS51cGRhdGVQcmV2aWV3U2hhcGU9ZnVuY3Rpb24oKXtudWxsIT10aGlzLnNoYXBlJiZudWxsIT10aGlzLnBCb3VuZHMmJih0aGlzLnNoYXBlLmJvdW5kcz1uZXcgbXhSZWN0YW5nbGUoTWF0aC5yb3VuZCh0aGlzLnBCb3VuZHMueCt0aGlzLmN1cnJlbnREeCksTWF0aC5yb3VuZCh0aGlzLnBCb3VuZHMueSt0aGlzLmN1cnJlbnREeSksdGhpcy5wQm91bmRzLndpZHRoLHRoaXMucEJvdW5kcy5oZWlnaHQpLHRoaXMuc2hhcGUucmVkcmF3KCkpfTsKbXhHcmFwaEhhbmRsZXIucHJvdG90eXBlLnVwZGF0ZUxpdmVQcmV2aWV3PWZ1bmN0aW9uKGEsYil7aWYoIXRoaXMuc3VzcGVuZGVkKXt2YXIgYz1bXTtudWxsIT10aGlzLmFsbENlbGxzJiZ0aGlzLmFsbENlbGxzLnZpc2l0KG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGQsZSl7aWYobnVsbD09dGhpcy5ncmFwaC52aWV3LmdldFN0YXRlKGUuY2VsbCkpZS5kZXN0cm95KCk7ZWxzZXt2YXIgZj1lLmNsb25lKCk7Yy5wdXNoKFtlLGZdKTtudWxsIT1lLnNoYXBlJiYobnVsbD09ZS5zaGFwZS5vcmlnaW5hbFBvaW50ZXJFdmVudHMmJihlLnNoYXBlLm9yaWdpbmFsUG9pbnRlckV2ZW50cz1lLnNoYXBlLnBvaW50ZXJFdmVudHMpLGUuc2hhcGUucG9pbnRlckV2ZW50cz0hMSxudWxsIT1lLnRleHQmJihudWxsPT1lLnRleHQub3JpZ2luYWxQb2ludGVyRXZlbnRzJiYoZS50ZXh0Lm9yaWdpbmFsUG9pbnRlckV2ZW50cz1lLnRleHQucG9pbnRlckV2ZW50cyksZS50ZXh0LnBvaW50ZXJFdmVudHM9CiExKSk7dGhpcy5ncmFwaC5tb2RlbC5pc1ZlcnRleChlLmNlbGwpJiYoZS54Kz1hLGUueSs9Yix0aGlzLmNsb25pbmd8fChlLnZpZXcuZ3JhcGguY2VsbFJlbmRlcmVyLnJlZHJhdyhlLCEwKSxlLnZpZXcuaW52YWxpZGF0ZShlLmNlbGwpLGUuaW52YWxpZD0hMSxudWxsIT1lLmNvbnRyb2wmJm51bGwhPWUuY29udHJvbC5ub2RlJiYoZS5jb250cm9sLm5vZGUuc3R5bGUudmlzaWJpbGl0eT0iaGlkZGVuIikpKX19KSk7aWYoMD09Yy5sZW5ndGgpdGhpcy5yZXNldCgpO2Vsc2V7Zm9yKHZhciBkPXRoaXMuZ3JhcGgudmlldy5zY2FsZSxlPTA7ZTxjLmxlbmd0aDtlKyspe3ZhciBmPWNbZV1bMF07aWYodGhpcy5ncmFwaC5tb2RlbC5pc0VkZ2UoZi5jZWxsKSl7dmFyIGc9dGhpcy5ncmFwaC5nZXRDZWxsR2VvbWV0cnkoZi5jZWxsKSxrPVtdO2lmKG51bGwhPWcmJm51bGwhPWcucG9pbnRzKWZvcih2YXIgbD0wO2w8Zy5wb2ludHMubGVuZ3RoO2wrKyludWxsIT1nLnBvaW50c1tsXSYmay5wdXNoKG5ldyBteFBvaW50KGcucG9pbnRzW2xdLngrCmEvZCxnLnBvaW50c1tsXS55K2IvZCkpO3ZhciBnPWYudmlzaWJsZVNvdXJjZVN0YXRlLGw9Zi52aXNpYmxlVGFyZ2V0U3RhdGUsbT1jW2VdWzFdLmFic29sdXRlUG9pbnRzO251bGwhPWcmJnRoaXMuaXNDZWxsTW92aW5nKGcuY2VsbCk/Zi52aWV3LnVwZGF0ZUZpeGVkVGVybWluYWxQb2ludChmLGcsITAsdGhpcy5ncmFwaC5nZXRDb25uZWN0aW9uQ29uc3RyYWludChmLGcsITApKTooZz1tWzBdLGYuc2V0QWJzb2x1dGVUZXJtaW5hbFBvaW50KG5ldyBteFBvaW50KGcueCthLGcueStiKSwhMCksZz1udWxsKTtudWxsIT1sJiZ0aGlzLmlzQ2VsbE1vdmluZyhsLmNlbGwpP2Yudmlldy51cGRhdGVGaXhlZFRlcm1pbmFsUG9pbnQoZixsLCExLHRoaXMuZ3JhcGguZ2V0Q29ubmVjdGlvbkNvbnN0cmFpbnQoZixsLCExKSk6KGw9bVttLmxlbmd0aC0xXSxmLnNldEFic29sdXRlVGVybWluYWxQb2ludChuZXcgbXhQb2ludChsLngrYSxsLnkrYiksITEpLGw9bnVsbCk7Zi52aWV3LnVwZGF0ZVBvaW50cyhmLAprLGcsbCk7Zi52aWV3LnVwZGF0ZUZsb2F0aW5nVGVybWluYWxQb2ludHMoZixnLGwpO2Yudmlldy51cGRhdGVFZGdlTGFiZWxPZmZzZXQoZik7Zi5pbnZhbGlkPSExO3RoaXMuY2xvbmluZ3x8Zi52aWV3LmdyYXBoLmNlbGxSZW5kZXJlci5yZWRyYXcoZiwhMCl9fXRoaXMuZ3JhcGgudmlldy52YWxpZGF0ZSgpO3RoaXMucmVkcmF3SGFuZGxlcyhjKTt0aGlzLnJlc2V0UHJldmlld1N0YXRlcyhjKX19fTtteEdyYXBoSGFuZGxlci5wcm90b3R5cGUucmVkcmF3SGFuZGxlcz1mdW5jdGlvbihhKXtmb3IodmFyIGI9MDtiPGEubGVuZ3RoO2IrKyl7dmFyIGM9dGhpcy5ncmFwaC5zZWxlY3Rpb25DZWxsc0hhbmRsZXIuZ2V0SGFuZGxlcihhW2JdWzBdLmNlbGwpO251bGwhPWMmJmMucmVkcmF3KCEwKX19O214R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5yZXNldFByZXZpZXdTdGF0ZXM9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPTA7YjxhLmxlbmd0aDtiKyspYVtiXVswXS5zZXRTdGF0ZShhW2JdWzFdKX07Cm14R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5zdXNwZW5kPWZ1bmN0aW9uKCl7dGhpcy5zdXNwZW5kZWR8fCh0aGlzLmxpdmVQcmV2aWV3VXNlZCYmdGhpcy51cGRhdGVMaXZlUHJldmlldygwLDApLG51bGwhPXRoaXMuc2hhcGUmJih0aGlzLnNoYXBlLm5vZGUuc3R5bGUudmlzaWJpbGl0eT0iaGlkZGVuIiksbnVsbCE9dGhpcy5ndWlkZSYmdGhpcy5ndWlkZS5zZXRWaXNpYmxlKCExKSx0aGlzLnN1c3BlbmRlZD0hMCl9O214R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5yZXN1bWU9ZnVuY3Rpb24oKXt0aGlzLnN1c3BlbmRlZCYmKHRoaXMuc3VzcGVuZGVkPW51bGwsdGhpcy5saXZlUHJldmlld1VzZWQmJih0aGlzLmxpdmVQcmV2aWV3QWN0aXZlPSEwKSxudWxsIT10aGlzLnNoYXBlJiYodGhpcy5zaGFwZS5ub2RlLnN0eWxlLnZpc2liaWxpdHk9InZpc2libGUiKSxudWxsIT10aGlzLmd1aWRlJiZ0aGlzLmd1aWRlLnNldFZpc2libGUoITApKX07Cm14R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5yZXNldExpdmVQcmV2aWV3PWZ1bmN0aW9uKCl7bnVsbCE9dGhpcy5hbGxDZWxscyYmKHRoaXMuYWxsQ2VsbHMudmlzaXQobXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSxiKXtudWxsIT1iLnNoYXBlJiZudWxsIT1iLnNoYXBlLm9yaWdpbmFsUG9pbnRlckV2ZW50cyYmKGIuc2hhcGUucG9pbnRlckV2ZW50cz1iLnNoYXBlLm9yaWdpbmFsUG9pbnRlckV2ZW50cyxiLnNoYXBlLm9yaWdpbmFsUG9pbnRlckV2ZW50cz1udWxsLGIuc2hhcGUuYm91bmRzPW51bGwsbnVsbCE9Yi50ZXh0JiYoYi50ZXh0LnBvaW50ZXJFdmVudHM9Yi50ZXh0Lm9yaWdpbmFsUG9pbnRlckV2ZW50cyxiLnRleHQub3JpZ2luYWxQb2ludGVyRXZlbnRzPW51bGwpKTtudWxsIT1iLmNvbnRyb2wmJm51bGwhPWIuY29udHJvbC5ub2RlJiYiaGlkZGVuIj09Yi5jb250cm9sLm5vZGUuc3R5bGUudmlzaWJpbGl0eSYmKGIuY29udHJvbC5ub2RlLnN0eWxlLnZpc2liaWxpdHk9CiIiKTtiLnZpZXcuaW52YWxpZGF0ZShiLmNlbGwpfSkpLHRoaXMuZ3JhcGgudmlldy52YWxpZGF0ZSgpKX07bXhHcmFwaEhhbmRsZXIucHJvdG90eXBlLnNldEhhbmRsZXNWaXNpYmxlRm9yQ2VsbHM9ZnVuY3Rpb24oYSxiKXtpZih0aGlzLmhhbmRsZXNWaXNpYmxlIT1iKXt0aGlzLmhhbmRsZXNWaXNpYmxlPWI7Zm9yKHZhciBjPTA7YzxhLmxlbmd0aDtjKyspe3ZhciBkPXRoaXMuZ3JhcGguc2VsZWN0aW9uQ2VsbHNIYW5kbGVyLmdldEhhbmRsZXIoYVtjXSk7bnVsbCE9ZCYmKGQuc2V0SGFuZGxlc1Zpc2libGUoYiksYiYmZC5yZWRyYXcoKSl9fX07bXhHcmFwaEhhbmRsZXIucHJvdG90eXBlLnNldEhpZ2hsaWdodENvbG9yPWZ1bmN0aW9uKGEpe251bGwhPXRoaXMuaGlnaGxpZ2h0JiZ0aGlzLmhpZ2hsaWdodC5zZXRIaWdobGlnaHRDb2xvcihhKX07Cm14R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5tb3VzZVVwPWZ1bmN0aW9uKGEsYil7aWYoIWIuaXNDb25zdW1lZCgpKWlmKHRoaXMubGl2ZVByZXZpZXdVc2VkJiZ0aGlzLnJlc2V0TGl2ZVByZXZpZXcoKSxudWxsPT10aGlzLmNlbGx8fG51bGw9PXRoaXMuZmlyc3R8fG51bGw9PXRoaXMuc2hhcGUmJiF0aGlzLmxpdmVQcmV2aWV3VXNlZHx8bnVsbD09dGhpcy5jdXJyZW50RHh8fG51bGw9PXRoaXMuY3VycmVudER5KXRoaXMuaXNTZWxlY3RFbmFibGVkKCkmJnRoaXMuZGVsYXllZFNlbGVjdGlvbiYmbnVsbCE9dGhpcy5jZWxsJiZ0aGlzLnNlbGVjdERlbGF5ZWQoYik7ZWxzZXt2YXIgYz10aGlzLmdyYXBoLGQ9Yi5nZXRDZWxsKCk7aWYodGhpcy5jb25uZWN0T25Ecm9wJiZudWxsPT10aGlzLnRhcmdldCYmbnVsbCE9ZCYmYy5nZXRNb2RlbCgpLmlzVmVydGV4KGQpJiZjLmlzQ2VsbENvbm5lY3RhYmxlKGQpJiZjLmlzRWRnZVZhbGlkKG51bGwsdGhpcy5jZWxsLGQpKWMuY29ubmVjdGlvbkhhbmRsZXIuY29ubmVjdCh0aGlzLmNlbGwsCmQsYi5nZXRFdmVudCgpKTtlbHNle3ZhciBkPWMuaXNDbG9uZUV2ZW50KGIuZ2V0RXZlbnQoKSkmJmMuaXNDZWxsc0Nsb25lYWJsZSgpJiZ0aGlzLmlzQ2xvbmVFbmFibGVkKCksZT1jLmdldFZpZXcoKS5zY2FsZSxmPXRoaXMucm91bmRMZW5ndGgodGhpcy5jdXJyZW50RHgvZSksZT10aGlzLnJvdW5kTGVuZ3RoKHRoaXMuY3VycmVudER5L2UpLGc9dGhpcy50YXJnZXQ7Yy5pc1NwbGl0RW5hYmxlZCgpJiZjLmlzU3BsaXRUYXJnZXQoZyx0aGlzLmNlbGxzLGIuZ2V0RXZlbnQoKSk/Yy5zcGxpdEVkZ2UoZyx0aGlzLmNlbGxzLG51bGwsZixlLGIuZ2V0R3JhcGhYKCksYi5nZXRHcmFwaFkoKSk6dGhpcy5tb3ZlQ2VsbHModGhpcy5jZWxscyxmLGUsZCx0aGlzLnRhcmdldCxiLmdldEV2ZW50KCkpfX10aGlzLmNlbGxXYXNDbGlja2VkJiZ0aGlzLmNvbnN1bWVNb3VzZUV2ZW50KG14RXZlbnQuTU9VU0VfVVAsYik7dGhpcy5yZXNldCgpfTsKbXhHcmFwaEhhbmRsZXIucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5saXZlUHJldmlld1VzZWQmJih0aGlzLnJlc2V0TGl2ZVByZXZpZXcoKSx0aGlzLnNldEhhbmRsZXNWaXNpYmxlRm9yQ2VsbHModGhpcy5ncmFwaC5zZWxlY3Rpb25DZWxsc0hhbmRsZXIuZ2V0SGFuZGxlZFNlbGVjdGlvbkNlbGxzKCksITApKTt0aGlzLmRlc3Ryb3lTaGFwZXMoKTt0aGlzLnJlbW92ZUhpbnQoKTt0aGlzLmRlbGF5ZWRTZWxlY3Rpb249ITE7dGhpcy5saXZlUHJldmlld1VzZWQ9dGhpcy5saXZlUHJldmlld0FjdGl2ZT1udWxsO3RoaXMuY2VsbFdhc0NsaWNrZWQ9ITE7dGhpcy5jZWxsQ291bnQ9dGhpcy5jdXJyZW50RHk9dGhpcy5jdXJyZW50RHg9dGhpcy5zdXNwZW5kZWQ9bnVsbDt0aGlzLmNsb25pbmc9ITE7dGhpcy5jZWxsPXRoaXMuY2VsbHM9dGhpcy5maXJzdD10aGlzLnRhcmdldD10aGlzLmd1aWRlcz10aGlzLnBCb3VuZHM9dGhpcy5hbGxDZWxscz1udWxsfTsKbXhHcmFwaEhhbmRsZXIucHJvdG90eXBlLnNob3VsZFJlbW92ZUNlbGxzRnJvbVBhcmVudD1mdW5jdGlvbihhLGIsYyl7aWYodGhpcy5ncmFwaC5nZXRNb2RlbCgpLmlzVmVydGV4KGEpJiYoYT10aGlzLmdyYXBoLmdldFZpZXcoKS5nZXRTdGF0ZShhKSxudWxsIT1hKSl7Yz1teFV0aWxzLmNvbnZlcnRQb2ludCh0aGlzLmdyYXBoLmNvbnRhaW5lcixteEV2ZW50LmdldENsaWVudFgoYyksbXhFdmVudC5nZXRDbGllbnRZKGMpKTt2YXIgZD1teFV0aWxzLnRvUmFkaWFucyhteFV0aWxzLmdldFZhbHVlKGEuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfUk9UQVRJT04pfHwwKTtpZigwIT1kKXtiPU1hdGguY29zKC1kKTt2YXIgZD1NYXRoLnNpbigtZCksZT1uZXcgbXhQb2ludChhLmdldENlbnRlclgoKSxhLmdldENlbnRlclkoKSk7Yz1teFV0aWxzLmdldFJvdGF0ZWRQb2ludChjLGIsZCxlKX1yZXR1cm4hbXhVdGlscy5jb250YWlucyhhLGMueCxjLnkpfXJldHVybiExfTsKbXhHcmFwaEhhbmRsZXIucHJvdG90eXBlLm1vdmVDZWxscz1mdW5jdGlvbihhLGIsYyxkLGUsZil7ZCYmKGE9dGhpcy5ncmFwaC5nZXRDbG9uZWFibGVDZWxscyhhKSk7dmFyIGc9dGhpcy5ncmFwaC5nZXRNb2RlbCgpLmdldFBhcmVudCh0aGlzLmNlbGwpO251bGw9PWUmJnRoaXMuaXNSZW1vdmVDZWxsc0Zyb21QYXJlbnQoKSYmdGhpcy5zaG91bGRSZW1vdmVDZWxsc0Zyb21QYXJlbnQoZyxhLGYpJiYoZT10aGlzLmdyYXBoLmdldERlZmF1bHRQYXJlbnQoKSk7ZD1kJiYhdGhpcy5ncmFwaC5pc0NlbGxMb2NrZWQoZXx8dGhpcy5ncmFwaC5nZXREZWZhdWx0UGFyZW50KCkpO3RoaXMuZ3JhcGguZ2V0TW9kZWwoKS5iZWdpblVwZGF0ZSgpO3RyeXtnPVtdO2lmKCFkJiZudWxsIT1lJiZ0aGlzLnJlbW92ZUVtcHR5UGFyZW50cyl7Zm9yKHZhciBrPW5ldyBteERpY3Rpb25hcnksbD0wO2w8YS5sZW5ndGg7bCsrKWsucHV0KGFbbF0sITApO2ZvcihsPTA7bDxhLmxlbmd0aDtsKyspe3ZhciBtPQp0aGlzLmdyYXBoLm1vZGVsLmdldFBhcmVudChhW2xdKTtudWxsPT1tfHxrLmdldChtKXx8KGsucHV0KG0sITApLGcucHVzaChtKSl9fWE9dGhpcy5ncmFwaC5tb3ZlQ2VsbHMoYSxiLGMsZCxlLGYpO2I9W107Zm9yKGw9MDtsPGcubGVuZ3RoO2wrKyl0aGlzLnNob3VsZFJlbW92ZVBhcmVudChnW2xdKSYmYi5wdXNoKGdbbF0pO3RoaXMuZ3JhcGgucmVtb3ZlQ2VsbHMoYiwhMSl9ZmluYWxseXt0aGlzLmdyYXBoLmdldE1vZGVsKCkuZW5kVXBkYXRlKCl9ZCYmdGhpcy5ncmFwaC5zZXRTZWxlY3Rpb25DZWxscyhhKTt0aGlzLmlzU2VsZWN0RW5hYmxlZCgpJiZ0aGlzLnNjcm9sbE9uTW92ZSYmdGhpcy5ncmFwaC5zY3JvbGxDZWxsVG9WaXNpYmxlKGFbMF0pfTsKbXhHcmFwaEhhbmRsZXIucHJvdG90eXBlLnNob3VsZFJlbW92ZVBhcmVudD1mdW5jdGlvbihhKXthPXRoaXMuZ3JhcGgudmlldy5nZXRTdGF0ZShhKTtyZXR1cm4gbnVsbCE9YSYmKHRoaXMuZ3JhcGgubW9kZWwuaXNFZGdlKGEuY2VsbCl8fHRoaXMuZ3JhcGgubW9kZWwuaXNWZXJ0ZXgoYS5jZWxsKSkmJnRoaXMuZ3JhcGguaXNDZWxsRGVsZXRhYmxlKGEuY2VsbCkmJjA9PXRoaXMuZ3JhcGgubW9kZWwuZ2V0Q2hpbGRDb3VudChhLmNlbGwpJiZ0aGlzLmdyYXBoLmlzVHJhbnNwYXJlbnRTdGF0ZShhKX07Cm14R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5kZXN0cm95U2hhcGVzPWZ1bmN0aW9uKCl7bnVsbCE9dGhpcy5zaGFwZSYmKHRoaXMuc2hhcGUuZGVzdHJveSgpLHRoaXMuc2hhcGU9bnVsbCk7bnVsbCE9dGhpcy5ndWlkZSYmKHRoaXMuZ3VpZGUuZGVzdHJveSgpLHRoaXMuZ3VpZGU9bnVsbCk7bnVsbCE9dGhpcy5oaWdobGlnaHQmJih0aGlzLmhpZ2hsaWdodC5kZXN0cm95KCksdGhpcy5oaWdobGlnaHQ9bnVsbCl9OwpteEdyYXBoSGFuZGxlci5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuZ3JhcGgucmVtb3ZlTW91c2VMaXN0ZW5lcih0aGlzKTt0aGlzLmdyYXBoLnJlbW92ZUxpc3RlbmVyKHRoaXMucGFuSGFuZGxlcik7bnVsbCE9dGhpcy5lc2NhcGVIYW5kbGVyJiYodGhpcy5ncmFwaC5yZW1vdmVMaXN0ZW5lcih0aGlzLmVzY2FwZUhhbmRsZXIpLHRoaXMuZXNjYXBlSGFuZGxlcj1udWxsKTtudWxsIT10aGlzLnJlZnJlc2hIYW5kbGVyJiYodGhpcy5ncmFwaC5nZXRNb2RlbCgpLnJlbW92ZUxpc3RlbmVyKHRoaXMucmVmcmVzaEhhbmRsZXIpLHRoaXMucmVmcmVzaEhhbmRsZXI9bnVsbCk7bXhFdmVudC5yZW1vdmVMaXN0ZW5lcihkb2N1bWVudCwia2V5ZG93biIsdGhpcy5rZXlIYW5kbGVyKTtteEV2ZW50LnJlbW92ZUxpc3RlbmVyKGRvY3VtZW50LCJrZXl1cCIsdGhpcy5rZXlIYW5kbGVyKTt0aGlzLmRlc3Ryb3lTaGFwZXMoKTt0aGlzLnJlbW92ZUhpbnQoKX07CmZ1bmN0aW9uIG14UGFubmluZ0hhbmRsZXIoYSl7bnVsbCE9YSYmKHRoaXMuZ3JhcGg9YSx0aGlzLmdyYXBoLmFkZE1vdXNlTGlzdGVuZXIodGhpcyksdGhpcy5mb3JjZVBhbm5pbmdIYW5kbGVyPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEsYyl7dmFyIGI9Yy5nZXRQcm9wZXJ0eSgiZXZlbnROYW1lIiksZT1jLmdldFByb3BlcnR5KCJldmVudCIpO2I9PW14RXZlbnQuTU9VU0VfRE9XTiYmdGhpcy5pc0ZvcmNlUGFubmluZ0V2ZW50KGUpJiYodGhpcy5zdGFydChlKSx0aGlzLmFjdGl2ZT0hMCx0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LlBBTl9TVEFSVCwiZXZlbnQiLGUpKSxlLmNvbnN1bWUoKSl9KSx0aGlzLmdyYXBoLmFkZExpc3RlbmVyKG14RXZlbnQuRklSRV9NT1VTRV9FVkVOVCx0aGlzLmZvcmNlUGFubmluZ0hhbmRsZXIpLHRoaXMuZ2VzdHVyZUhhbmRsZXI9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSxjKXtpZih0aGlzLmlzUGluY2hFbmFibGVkKCkpe3ZhciBiPQpjLmdldFByb3BlcnR5KCJldmVudCIpO214RXZlbnQuaXNDb25zdW1lZChiKXx8Imdlc3R1cmVzdGFydCIhPWIudHlwZT8iZ2VzdHVyZWVuZCI9PWIudHlwZSYmbnVsbCE9dGhpcy5pbml0aWFsU2NhbGUmJih0aGlzLmluaXRpYWxTY2FsZT1udWxsKToodGhpcy5pbml0aWFsU2NhbGU9dGhpcy5ncmFwaC52aWV3LnNjYWxlLHRoaXMuYWN0aXZlfHxudWxsPT10aGlzLm1vdXNlRG93bkV2ZW50fHwodGhpcy5zdGFydCh0aGlzLm1vdXNlRG93bkV2ZW50KSx0aGlzLm1vdXNlRG93bkV2ZW50PW51bGwpKTtudWxsIT10aGlzLmluaXRpYWxTY2FsZSYmdGhpcy56b29tR3JhcGgoYil9fSksdGhpcy5ncmFwaC5hZGRMaXN0ZW5lcihteEV2ZW50LkdFU1RVUkUsdGhpcy5nZXN0dXJlSGFuZGxlciksdGhpcy5tb3VzZVVwTGlzdGVuZXI9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt0aGlzLmFjdGl2ZSYmdGhpcy5yZXNldCgpfSksbXhFdmVudC5hZGRMaXN0ZW5lcihkb2N1bWVudCwibW91c2V1cCIsCnRoaXMubW91c2VVcExpc3RlbmVyKSl9bXhQYW5uaW5nSGFuZGxlci5wcm90b3R5cGU9bmV3IG14RXZlbnRTb3VyY2U7bXhQYW5uaW5nSGFuZGxlci5wcm90b3R5cGUuY29uc3RydWN0b3I9bXhQYW5uaW5nSGFuZGxlcjtteFBhbm5pbmdIYW5kbGVyLnByb3RvdHlwZS5ncmFwaD1udWxsO214UGFubmluZ0hhbmRsZXIucHJvdG90eXBlLnVzZUxlZnRCdXR0b25Gb3JQYW5uaW5nPSExO214UGFubmluZ0hhbmRsZXIucHJvdG90eXBlLnVzZVBvcHVwVHJpZ2dlcj0hMDtteFBhbm5pbmdIYW5kbGVyLnByb3RvdHlwZS5pZ25vcmVDZWxsPSExO214UGFubmluZ0hhbmRsZXIucHJvdG90eXBlLnByZXZpZXdFbmFibGVkPSEwO214UGFubmluZ0hhbmRsZXIucHJvdG90eXBlLnVzZUdyaWQ9ITE7bXhQYW5uaW5nSGFuZGxlci5wcm90b3R5cGUucGFubmluZ0VuYWJsZWQ9ITA7bXhQYW5uaW5nSGFuZGxlci5wcm90b3R5cGUucGluY2hFbmFibGVkPSEwOwpteFBhbm5pbmdIYW5kbGVyLnByb3RvdHlwZS5tYXhTY2FsZT04O214UGFubmluZ0hhbmRsZXIucHJvdG90eXBlLm1pblNjYWxlPS4wMTtteFBhbm5pbmdIYW5kbGVyLnByb3RvdHlwZS5keD1udWxsO214UGFubmluZ0hhbmRsZXIucHJvdG90eXBlLmR5PW51bGw7bXhQYW5uaW5nSGFuZGxlci5wcm90b3R5cGUuc3RhcnRYPTA7bXhQYW5uaW5nSGFuZGxlci5wcm90b3R5cGUuc3RhcnRZPTA7bXhQYW5uaW5nSGFuZGxlci5wcm90b3R5cGUuaXNBY3RpdmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hY3RpdmV8fG51bGwhPXRoaXMuaW5pdGlhbFNjYWxlfTtteFBhbm5pbmdIYW5kbGVyLnByb3RvdHlwZS5pc1Bhbm5pbmdFbmFibGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGFubmluZ0VuYWJsZWR9O214UGFubmluZ0hhbmRsZXIucHJvdG90eXBlLnNldFBhbm5pbmdFbmFibGVkPWZ1bmN0aW9uKGEpe3RoaXMucGFubmluZ0VuYWJsZWQ9YX07Cm14UGFubmluZ0hhbmRsZXIucHJvdG90eXBlLmlzUGluY2hFbmFibGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGluY2hFbmFibGVkfTtteFBhbm5pbmdIYW5kbGVyLnByb3RvdHlwZS5zZXRQaW5jaEVuYWJsZWQ9ZnVuY3Rpb24oYSl7dGhpcy5waW5jaEVuYWJsZWQ9YX07bXhQYW5uaW5nSGFuZGxlci5wcm90b3R5cGUuaXNQYW5uaW5nVHJpZ2dlcj1mdW5jdGlvbihhKXt2YXIgYj1hLmdldEV2ZW50KCk7cmV0dXJuIHRoaXMudXNlTGVmdEJ1dHRvbkZvclBhbm5pbmcmJm51bGw9PWEuZ2V0U3RhdGUoKSYmbXhFdmVudC5pc0xlZnRNb3VzZUJ1dHRvbihiKXx8bXhFdmVudC5pc0NvbnRyb2xEb3duKGIpJiZteEV2ZW50LmlzU2hpZnREb3duKGIpfHx0aGlzLnVzZVBvcHVwVHJpZ2dlciYmbXhFdmVudC5pc1BvcHVwVHJpZ2dlcihiKX07bXhQYW5uaW5nSGFuZGxlci5wcm90b3R5cGUuaXNGb3JjZVBhbm5pbmdFdmVudD1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5pZ25vcmVDZWxsfHxteEV2ZW50LmlzTXVsdGlUb3VjaEV2ZW50KGEuZ2V0RXZlbnQoKSl9OwpteFBhbm5pbmdIYW5kbGVyLnByb3RvdHlwZS5tb3VzZURvd249ZnVuY3Rpb24oYSxiKXt0aGlzLm1vdXNlRG93bkV2ZW50PWI7IWIuaXNDb25zdW1lZCgpJiZ0aGlzLmlzUGFubmluZ0VuYWJsZWQoKSYmIXRoaXMuYWN0aXZlJiZ0aGlzLmlzUGFubmluZ1RyaWdnZXIoYikmJih0aGlzLnN0YXJ0KGIpLHRoaXMuY29uc3VtZVBhbm5pbmdUcmlnZ2VyKGIpKX07bXhQYW5uaW5nSGFuZGxlci5wcm90b3R5cGUuc3RhcnQ9ZnVuY3Rpb24oYSl7dGhpcy5keDA9LXRoaXMuZ3JhcGguY29udGFpbmVyLnNjcm9sbExlZnQ7dGhpcy5keTA9LXRoaXMuZ3JhcGguY29udGFpbmVyLnNjcm9sbFRvcDt0aGlzLnN0YXJ0WD1hLmdldFgoKTt0aGlzLnN0YXJ0WT1hLmdldFkoKTt0aGlzLmR5PXRoaXMuZHg9bnVsbDt0aGlzLnBhbm5pbmdUcmlnZ2VyPSEwfTtteFBhbm5pbmdIYW5kbGVyLnByb3RvdHlwZS5jb25zdW1lUGFubmluZ1RyaWdnZXI9ZnVuY3Rpb24oYSl7YS5jb25zdW1lKCl9OwpteFBhbm5pbmdIYW5kbGVyLnByb3RvdHlwZS5tb3VzZU1vdmU9ZnVuY3Rpb24oYSxiKXt0aGlzLmR4PWIuZ2V0WCgpLXRoaXMuc3RhcnRYO3RoaXMuZHk9Yi5nZXRZKCktdGhpcy5zdGFydFk7aWYodGhpcy5hY3RpdmUpdGhpcy5wcmV2aWV3RW5hYmxlZCYmKHRoaXMudXNlR3JpZCYmKHRoaXMuZHg9dGhpcy5ncmFwaC5zbmFwKHRoaXMuZHgpLHRoaXMuZHk9dGhpcy5ncmFwaC5zbmFwKHRoaXMuZHkpKSx0aGlzLmdyYXBoLnBhbkdyYXBoKHRoaXMuZHgrdGhpcy5keDAsdGhpcy5keSt0aGlzLmR5MCkpLHRoaXMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KG14RXZlbnQuUEFOLCJldmVudCIsYikpO2Vsc2UgaWYodGhpcy5wYW5uaW5nVHJpZ2dlcil7dmFyIGM9dGhpcy5hY3RpdmU7dGhpcy5hY3RpdmU9TWF0aC5hYnModGhpcy5keCk+dGhpcy5ncmFwaC50b2xlcmFuY2V8fE1hdGguYWJzKHRoaXMuZHkpPnRoaXMuZ3JhcGgudG9sZXJhbmNlOyFjJiZ0aGlzLmFjdGl2ZSYmdGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5QQU5fU1RBUlQsCiJldmVudCIsYikpfSh0aGlzLmFjdGl2ZXx8dGhpcy5wYW5uaW5nVHJpZ2dlcikmJmIuY29uc3VtZSgpfTtteFBhbm5pbmdIYW5kbGVyLnByb3RvdHlwZS5tb3VzZVVwPWZ1bmN0aW9uKGEsYil7aWYodGhpcy5hY3RpdmUpe2lmKG51bGwhPXRoaXMuZHgmJm51bGwhPXRoaXMuZHkpe2lmKCF0aGlzLmdyYXBoLnVzZVNjcm9sbGJhcnNGb3JQYW5uaW5nfHwhbXhVdGlscy5oYXNTY3JvbGxiYXJzKHRoaXMuZ3JhcGguY29udGFpbmVyKSl7dmFyIGM9dGhpcy5ncmFwaC5nZXRWaWV3KCkuc2NhbGUsZD10aGlzLmdyYXBoLmdldFZpZXcoKS50cmFuc2xhdGU7dGhpcy5ncmFwaC5wYW5HcmFwaCgwLDApO3RoaXMucGFuR3JhcGgoZC54K3RoaXMuZHgvYyxkLnkrdGhpcy5keS9jKX1iLmNvbnN1bWUoKX10aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LlBBTl9FTkQsImV2ZW50IixiKSl9dGhpcy5yZXNldCgpfTsKbXhQYW5uaW5nSGFuZGxlci5wcm90b3R5cGUuem9vbUdyYXBoPWZ1bmN0aW9uKGEpe3ZhciBiPU1hdGgucm91bmQodGhpcy5pbml0aWFsU2NhbGUqYS5zY2FsZSoxMDApLzEwMDtudWxsIT10aGlzLm1pblNjYWxlJiYoYj1NYXRoLm1heCh0aGlzLm1pblNjYWxlLGIpKTtudWxsIT10aGlzLm1heFNjYWxlJiYoYj1NYXRoLm1pbih0aGlzLm1heFNjYWxlLGIpKTt0aGlzLmdyYXBoLnZpZXcuc2NhbGUhPWImJih0aGlzLmdyYXBoLnpvb21UbyhiKSxteEV2ZW50LmNvbnN1bWUoYSkpfTtteFBhbm5pbmdIYW5kbGVyLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3RoaXMucGFubmluZ1RyaWdnZXI9ITE7dGhpcy5tb3VzZURvd25FdmVudD1udWxsO3RoaXMuYWN0aXZlPSExO3RoaXMuZHk9dGhpcy5keD1udWxsfTtteFBhbm5pbmdIYW5kbGVyLnByb3RvdHlwZS5wYW5HcmFwaD1mdW5jdGlvbihhLGIpe3RoaXMuZ3JhcGguZ2V0VmlldygpLnNldFRyYW5zbGF0ZShhLGIpfTsKbXhQYW5uaW5nSGFuZGxlci5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuZ3JhcGgucmVtb3ZlTW91c2VMaXN0ZW5lcih0aGlzKTt0aGlzLmdyYXBoLnJlbW92ZUxpc3RlbmVyKHRoaXMuZm9yY2VQYW5uaW5nSGFuZGxlcik7dGhpcy5ncmFwaC5yZW1vdmVMaXN0ZW5lcih0aGlzLmdlc3R1cmVIYW5kbGVyKTtteEV2ZW50LnJlbW92ZUxpc3RlbmVyKGRvY3VtZW50LCJtb3VzZXVwIix0aGlzLm1vdXNlVXBMaXN0ZW5lcil9OwpmdW5jdGlvbiBteFBvcHVwTWVudUhhbmRsZXIoYSxiKXtudWxsIT1hJiYodGhpcy5ncmFwaD1hLHRoaXMuZmFjdG9yeU1ldGhvZD1iLHRoaXMuZ3JhcGguYWRkTW91c2VMaXN0ZW5lcih0aGlzKSx0aGlzLmdlc3R1cmVIYW5kbGVyPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEsYil7dGhpcy5pblRvbGVyYW5jZT0hMX0pLHRoaXMuZ3JhcGguYWRkTGlzdGVuZXIobXhFdmVudC5HRVNUVVJFLHRoaXMuZ2VzdHVyZUhhbmRsZXIpLHRoaXMuaW5pdCgpKX1teFBvcHVwTWVudUhhbmRsZXIucHJvdG90eXBlPW5ldyBteFBvcHVwTWVudTtteFBvcHVwTWVudUhhbmRsZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yPW14UG9wdXBNZW51SGFuZGxlcjtteFBvcHVwTWVudUhhbmRsZXIucHJvdG90eXBlLmdyYXBoPW51bGw7bXhQb3B1cE1lbnVIYW5kbGVyLnByb3RvdHlwZS5zZWxlY3RPblBvcHVwPSEwOwpteFBvcHVwTWVudUhhbmRsZXIucHJvdG90eXBlLmNsZWFyU2VsZWN0aW9uT25CYWNrZ3JvdW5kPSEwO214UG9wdXBNZW51SGFuZGxlci5wcm90b3R5cGUudHJpZ2dlclg9bnVsbDtteFBvcHVwTWVudUhhbmRsZXIucHJvdG90eXBlLnRyaWdnZXJZPW51bGw7bXhQb3B1cE1lbnVIYW5kbGVyLnByb3RvdHlwZS5zY3JlZW5YPW51bGw7bXhQb3B1cE1lbnVIYW5kbGVyLnByb3RvdHlwZS5zY3JlZW5ZPW51bGw7bXhQb3B1cE1lbnVIYW5kbGVyLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKCl7bXhQb3B1cE1lbnUucHJvdG90eXBlLmluaXQuYXBwbHkodGhpcyk7bXhFdmVudC5hZGRHZXN0dXJlTGlzdGVuZXJzKHRoaXMuZGl2LG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3RoaXMuZ3JhcGgudG9vbHRpcEhhbmRsZXIuaGlkZSgpfSkpfTtteFBvcHVwTWVudUhhbmRsZXIucHJvdG90eXBlLmlzU2VsZWN0T25Qb3B1cD1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5zZWxlY3RPblBvcHVwfTsKbXhQb3B1cE1lbnVIYW5kbGVyLnByb3RvdHlwZS5tb3VzZURvd249ZnVuY3Rpb24oYSxiKXt0aGlzLmlzRW5hYmxlZCgpJiYhbXhFdmVudC5pc011bHRpVG91Y2hFdmVudChiLmdldEV2ZW50KCkpJiYodGhpcy5oaWRlTWVudSgpLHRoaXMudHJpZ2dlclg9Yi5nZXRHcmFwaFgoKSx0aGlzLnRyaWdnZXJZPWIuZ2V0R3JhcGhZKCksdGhpcy5zY3JlZW5YPW14RXZlbnQuZ2V0TWFpbkV2ZW50KGIuZ2V0RXZlbnQoKSkuc2NyZWVuWCx0aGlzLnNjcmVlblk9bXhFdmVudC5nZXRNYWluRXZlbnQoYi5nZXRFdmVudCgpKS5zY3JlZW5ZLHRoaXMucG9wdXBUcmlnZ2VyPXRoaXMuaXNQb3B1cFRyaWdnZXIoYiksdGhpcy5pblRvbGVyYW5jZT0hMCl9OwpteFBvcHVwTWVudUhhbmRsZXIucHJvdG90eXBlLm1vdXNlTW92ZT1mdW5jdGlvbihhLGIpe3RoaXMuaW5Ub2xlcmFuY2UmJm51bGwhPXRoaXMuc2NyZWVuWCYmbnVsbCE9dGhpcy5zY3JlZW5ZJiYoTWF0aC5hYnMobXhFdmVudC5nZXRNYWluRXZlbnQoYi5nZXRFdmVudCgpKS5zY3JlZW5YLXRoaXMuc2NyZWVuWCk+dGhpcy5ncmFwaC50b2xlcmFuY2V8fE1hdGguYWJzKG14RXZlbnQuZ2V0TWFpbkV2ZW50KGIuZ2V0RXZlbnQoKSkuc2NyZWVuWS10aGlzLnNjcmVlblkpPnRoaXMuZ3JhcGgudG9sZXJhbmNlKSYmKHRoaXMuaW5Ub2xlcmFuY2U9ITEpfTsKbXhQb3B1cE1lbnVIYW5kbGVyLnByb3RvdHlwZS5tb3VzZVVwPWZ1bmN0aW9uKGEsYil7aWYodGhpcy5wb3B1cFRyaWdnZXImJnRoaXMuaW5Ub2xlcmFuY2UmJm51bGwhPXRoaXMudHJpZ2dlclgmJm51bGwhPXRoaXMudHJpZ2dlclkpe3ZhciBjPXRoaXMuZ2V0Q2VsbEZvclBvcHVwRXZlbnQoYik7dGhpcy5ncmFwaC5pc0VuYWJsZWQoKSYmdGhpcy5pc1NlbGVjdE9uUG9wdXAoYikmJm51bGwhPWMmJiF0aGlzLmdyYXBoLmlzQ2VsbFNlbGVjdGVkKGMpP3RoaXMuZ3JhcGguc2V0U2VsZWN0aW9uQ2VsbChjKTp0aGlzLmNsZWFyU2VsZWN0aW9uT25CYWNrZ3JvdW5kJiZudWxsPT1jJiZ0aGlzLmdyYXBoLmNsZWFyU2VsZWN0aW9uKCk7dGhpcy5ncmFwaC50b29sdGlwSGFuZGxlci5oaWRlKCk7dmFyIGQ9bXhVdGlscy5nZXRTY3JvbGxPcmlnaW4oKTt0aGlzLnBvcHVwKGIuZ2V0WCgpK2QueCsxLGIuZ2V0WSgpK2QueSsxLGMsYi5nZXRFdmVudCgpKTtiLmNvbnN1bWUoKX10aGlzLmluVG9sZXJhbmNlPQp0aGlzLnBvcHVwVHJpZ2dlcj0hMX07bXhQb3B1cE1lbnVIYW5kbGVyLnByb3RvdHlwZS5nZXRDZWxsRm9yUG9wdXBFdmVudD1mdW5jdGlvbihhKXtyZXR1cm4gYS5nZXRDZWxsKCl9O214UG9wdXBNZW51SGFuZGxlci5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuZ3JhcGgucmVtb3ZlTW91c2VMaXN0ZW5lcih0aGlzKTt0aGlzLmdyYXBoLnJlbW92ZUxpc3RlbmVyKHRoaXMuZ2VzdHVyZUhhbmRsZXIpO214UG9wdXBNZW51LnByb3RvdHlwZS5kZXN0cm95LmFwcGx5KHRoaXMpfTsKZnVuY3Rpb24gbXhDZWxsTWFya2VyKGEsYixjLGQpe214RXZlbnRTb3VyY2UuY2FsbCh0aGlzKTtudWxsIT1hJiYodGhpcy5ncmFwaD1hLHRoaXMudmFsaWRDb2xvcj1udWxsIT1iP2I6bXhDb25zdGFudHMuREVGQVVMVF9WQUxJRF9DT0xPUix0aGlzLmludmFsaWRDb2xvcj1udWxsIT1jP2M6bXhDb25zdGFudHMuREVGQVVMVF9JTlZBTElEX0NPTE9SLHRoaXMuaG90c3BvdD1udWxsIT1kP2Q6bXhDb25zdGFudHMuREVGQVVMVF9IT1RTUE9ULHRoaXMuaGlnaGxpZ2h0PW5ldyBteENlbGxIaWdobGlnaHQoYSkpfW14VXRpbHMuZXh0ZW5kKG14Q2VsbE1hcmtlcixteEV2ZW50U291cmNlKTtteENlbGxNYXJrZXIucHJvdG90eXBlLmdyYXBoPW51bGw7bXhDZWxsTWFya2VyLnByb3RvdHlwZS5lbmFibGVkPSEwO214Q2VsbE1hcmtlci5wcm90b3R5cGUuaG90c3BvdD1teENvbnN0YW50cy5ERUZBVUxUX0hPVFNQT1Q7bXhDZWxsTWFya2VyLnByb3RvdHlwZS5ob3RzcG90RW5hYmxlZD0hMTsKbXhDZWxsTWFya2VyLnByb3RvdHlwZS52YWxpZENvbG9yPW51bGw7bXhDZWxsTWFya2VyLnByb3RvdHlwZS5pbnZhbGlkQ29sb3I9bnVsbDtteENlbGxNYXJrZXIucHJvdG90eXBlLmN1cnJlbnRDb2xvcj1udWxsO214Q2VsbE1hcmtlci5wcm90b3R5cGUudmFsaWRTdGF0ZT1udWxsO214Q2VsbE1hcmtlci5wcm90b3R5cGUubWFya2VkU3RhdGU9bnVsbDtteENlbGxNYXJrZXIucHJvdG90eXBlLnNldEVuYWJsZWQ9ZnVuY3Rpb24oYSl7dGhpcy5lbmFibGVkPWF9O214Q2VsbE1hcmtlci5wcm90b3R5cGUuaXNFbmFibGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZW5hYmxlZH07bXhDZWxsTWFya2VyLnByb3RvdHlwZS5zZXRIb3RzcG90PWZ1bmN0aW9uKGEpe3RoaXMuaG90c3BvdD1hfTtteENlbGxNYXJrZXIucHJvdG90eXBlLmdldEhvdHNwb3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ob3RzcG90fTsKbXhDZWxsTWFya2VyLnByb3RvdHlwZS5zZXRIb3RzcG90RW5hYmxlZD1mdW5jdGlvbihhKXt0aGlzLmhvdHNwb3RFbmFibGVkPWF9O214Q2VsbE1hcmtlci5wcm90b3R5cGUuaXNIb3RzcG90RW5hYmxlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmhvdHNwb3RFbmFibGVkfTtteENlbGxNYXJrZXIucHJvdG90eXBlLmhhc1ZhbGlkU3RhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9dGhpcy52YWxpZFN0YXRlfTtteENlbGxNYXJrZXIucHJvdG90eXBlLmdldFZhbGlkU3RhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52YWxpZFN0YXRlfTtteENlbGxNYXJrZXIucHJvdG90eXBlLmdldE1hcmtlZFN0YXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFya2VkU3RhdGV9O214Q2VsbE1hcmtlci5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLnZhbGlkU3RhdGU9bnVsbDtudWxsIT10aGlzLm1hcmtlZFN0YXRlJiYodGhpcy5tYXJrZWRTdGF0ZT1udWxsLHRoaXMudW5tYXJrKCkpfTsKbXhDZWxsTWFya2VyLnByb3RvdHlwZS5wcm9jZXNzPWZ1bmN0aW9uKGEpe3ZhciBiPW51bGw7dGhpcy5pc0VuYWJsZWQoKSYmKGI9dGhpcy5nZXRTdGF0ZShhKSx0aGlzLnNldEN1cnJlbnRTdGF0ZShiLGEpKTtyZXR1cm4gYn07bXhDZWxsTWFya2VyLnByb3RvdHlwZS5zZXRDdXJyZW50U3RhdGU9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPW51bGwhPWE/dGhpcy5pc1ZhbGlkU3RhdGUoYSk6ITE7Yz1udWxsIT1jP2M6dGhpcy5nZXRNYXJrZXJDb2xvcihiLmdldEV2ZW50KCksYSxkKTt0aGlzLnZhbGlkU3RhdGU9ZD9hOm51bGw7aWYoYSE9dGhpcy5tYXJrZWRTdGF0ZXx8YyE9dGhpcy5jdXJyZW50Q29sb3IpdGhpcy5jdXJyZW50Q29sb3I9YyxudWxsIT1hJiZudWxsIT10aGlzLmN1cnJlbnRDb2xvcj8odGhpcy5tYXJrZWRTdGF0ZT1hLHRoaXMubWFyaygpKTpudWxsIT10aGlzLm1hcmtlZFN0YXRlJiYodGhpcy5tYXJrZWRTdGF0ZT1udWxsLHRoaXMudW5tYXJrKCkpfTsKbXhDZWxsTWFya2VyLnByb3RvdHlwZS5tYXJrQ2VsbD1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZ3JhcGguZ2V0VmlldygpLmdldFN0YXRlKGEpO251bGwhPWMmJih0aGlzLmN1cnJlbnRDb2xvcj1udWxsIT1iP2I6dGhpcy52YWxpZENvbG9yLHRoaXMubWFya2VkU3RhdGU9Yyx0aGlzLm1hcmsoKSl9O214Q2VsbE1hcmtlci5wcm90b3R5cGUubWFyaz1mdW5jdGlvbigpe3RoaXMuaGlnaGxpZ2h0LnNldEhpZ2hsaWdodENvbG9yKHRoaXMuY3VycmVudENvbG9yKTt0aGlzLmhpZ2hsaWdodC5oaWdobGlnaHQodGhpcy5tYXJrZWRTdGF0ZSk7dGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5NQVJLLCJzdGF0ZSIsdGhpcy5tYXJrZWRTdGF0ZSkpfTtteENlbGxNYXJrZXIucHJvdG90eXBlLnVubWFyaz1mdW5jdGlvbigpe3RoaXMubWFyaygpfTtteENlbGxNYXJrZXIucHJvdG90eXBlLmlzVmFsaWRTdGF0ZT1mdW5jdGlvbihhKXtyZXR1cm4hMH07Cm14Q2VsbE1hcmtlci5wcm90b3R5cGUuZ2V0TWFya2VyQ29sb3I9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBjP3RoaXMudmFsaWRDb2xvcjp0aGlzLmludmFsaWRDb2xvcn07bXhDZWxsTWFya2VyLnByb3RvdHlwZS5nZXRTdGF0ZT1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmdyYXBoLmdldFZpZXcoKSxjPXRoaXMuZ2V0Q2VsbChhKSxiPXRoaXMuZ2V0U3RhdGVUb01hcmsoYi5nZXRTdGF0ZShjKSk7cmV0dXJuIG51bGwhPWImJnRoaXMuaW50ZXJzZWN0cyhiLGEpP2I6bnVsbH07bXhDZWxsTWFya2VyLnByb3RvdHlwZS5nZXRDZWxsPWZ1bmN0aW9uKGEpe3JldHVybiBhLmdldENlbGwoKX07bXhDZWxsTWFya2VyLnByb3RvdHlwZS5nZXRTdGF0ZVRvTWFyaz1mdW5jdGlvbihhKXtyZXR1cm4gYX07Cm14Q2VsbE1hcmtlci5wcm90b3R5cGUuaW50ZXJzZWN0cz1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmhvdHNwb3RFbmFibGVkP214VXRpbHMuaW50ZXJzZWN0c0hvdHNwb3QoYSxiLmdldEdyYXBoWCgpLGIuZ2V0R3JhcGhZKCksdGhpcy5ob3RzcG90LG14Q29uc3RhbnRzLk1JTl9IT1RTUE9UX1NJWkUsbXhDb25zdGFudHMuTUFYX0hPVFNQT1RfU0laRSk6ITB9O214Q2VsbE1hcmtlci5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuZ3JhcGguZ2V0VmlldygpLnJlbW92ZUxpc3RlbmVyKHRoaXMucmVzZXRIYW5kbGVyKTt0aGlzLmdyYXBoLmdldE1vZGVsKCkucmVtb3ZlTGlzdGVuZXIodGhpcy5yZXNldEhhbmRsZXIpO3RoaXMuaGlnaGxpZ2h0LmRlc3Ryb3koKX07CmZ1bmN0aW9uIG14U2VsZWN0aW9uQ2VsbHNIYW5kbGVyKGEpe214RXZlbnRTb3VyY2UuY2FsbCh0aGlzKTt0aGlzLmdyYXBoPWE7dGhpcy5oYW5kbGVycz1uZXcgbXhEaWN0aW9uYXJ5O3RoaXMuZ3JhcGguYWRkTW91c2VMaXN0ZW5lcih0aGlzKTt0aGlzLnJlZnJlc2hIYW5kbGVyPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEsYyl7dGhpcy5pc0VuYWJsZWQoKSYmdGhpcy5yZWZyZXNoKCl9KTt0aGlzLmdyYXBoLmdldFNlbGVjdGlvbk1vZGVsKCkuYWRkTGlzdGVuZXIobXhFdmVudC5DSEFOR0UsdGhpcy5yZWZyZXNoSGFuZGxlcik7dGhpcy5ncmFwaC5nZXRNb2RlbCgpLmFkZExpc3RlbmVyKG14RXZlbnQuQ0hBTkdFLHRoaXMucmVmcmVzaEhhbmRsZXIpO3RoaXMuZ3JhcGguZ2V0VmlldygpLmFkZExpc3RlbmVyKG14RXZlbnQuU0NBTEUsdGhpcy5yZWZyZXNoSGFuZGxlcik7dGhpcy5ncmFwaC5nZXRWaWV3KCkuYWRkTGlzdGVuZXIobXhFdmVudC5UUkFOU0xBVEUsdGhpcy5yZWZyZXNoSGFuZGxlcik7CnRoaXMuZ3JhcGguZ2V0VmlldygpLmFkZExpc3RlbmVyKG14RXZlbnQuU0NBTEVfQU5EX1RSQU5TTEFURSx0aGlzLnJlZnJlc2hIYW5kbGVyKTt0aGlzLmdyYXBoLmdldFZpZXcoKS5hZGRMaXN0ZW5lcihteEV2ZW50LkRPV04sdGhpcy5yZWZyZXNoSGFuZGxlcik7dGhpcy5ncmFwaC5nZXRWaWV3KCkuYWRkTGlzdGVuZXIobXhFdmVudC5VUCx0aGlzLnJlZnJlc2hIYW5kbGVyKX1teFV0aWxzLmV4dGVuZChteFNlbGVjdGlvbkNlbGxzSGFuZGxlcixteEV2ZW50U291cmNlKTtteFNlbGVjdGlvbkNlbGxzSGFuZGxlci5wcm90b3R5cGUuZ3JhcGg9bnVsbDtteFNlbGVjdGlvbkNlbGxzSGFuZGxlci5wcm90b3R5cGUuZW5hYmxlZD0hMDtteFNlbGVjdGlvbkNlbGxzSGFuZGxlci5wcm90b3R5cGUucmVmcmVzaEhhbmRsZXI9bnVsbDtteFNlbGVjdGlvbkNlbGxzSGFuZGxlci5wcm90b3R5cGUubWF4SGFuZGxlcnM9MTAwOwpteFNlbGVjdGlvbkNlbGxzSGFuZGxlci5wcm90b3R5cGUuaGFuZGxlcnM9bnVsbDtteFNlbGVjdGlvbkNlbGxzSGFuZGxlci5wcm90b3R5cGUuaXNFbmFibGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZW5hYmxlZH07bXhTZWxlY3Rpb25DZWxsc0hhbmRsZXIucHJvdG90eXBlLnNldEVuYWJsZWQ9ZnVuY3Rpb24oYSl7dGhpcy5lbmFibGVkPWF9O214U2VsZWN0aW9uQ2VsbHNIYW5kbGVyLnByb3RvdHlwZS5nZXRIYW5kbGVyPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmhhbmRsZXJzLmdldChhKX07bXhTZWxlY3Rpb25DZWxsc0hhbmRsZXIucHJvdG90eXBlLmlzSGFuZGxlZD1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9dGhpcy5nZXRIYW5kbGVyKGEpfTtteFNlbGVjdGlvbkNlbGxzSGFuZGxlci5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLmhhbmRsZXJzLnZpc2l0KGZ1bmN0aW9uKGEsYil7Yi5yZXNldC5hcHBseShiKX0pfTsKbXhTZWxlY3Rpb25DZWxsc0hhbmRsZXIucHJvdG90eXBlLmdldEhhbmRsZWRTZWxlY3Rpb25DZWxscz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdyYXBoLmdldFNlbGVjdGlvbkNlbGxzKCl9OwpteFNlbGVjdGlvbkNlbGxzSGFuZGxlci5wcm90b3R5cGUucmVmcmVzaD1mdW5jdGlvbigpe3ZhciBhPXRoaXMuaGFuZGxlcnM7dGhpcy5oYW5kbGVycz1uZXcgbXhEaWN0aW9uYXJ5O2Zvcih2YXIgYj1teFV0aWxzLnNvcnRDZWxscyh0aGlzLmdldEhhbmRsZWRTZWxlY3Rpb25DZWxscygpLCExKSxjPTA7YzxiLmxlbmd0aDtjKyspe3ZhciBkPXRoaXMuZ3JhcGgudmlldy5nZXRTdGF0ZShiW2NdKTtpZihudWxsIT1kKXt2YXIgZT1hLnJlbW92ZShiW2NdKTtudWxsIT1lJiYoZS5zdGF0ZSE9ZD8oZS5kZXN0cm95KCksZT1udWxsKTp0aGlzLmlzSGFuZGxlckFjdGl2ZShlKXx8KG51bGwhPWUucmVmcmVzaCYmZS5yZWZyZXNoKCksZS5yZWRyYXcoKSkpO251bGw9PWUmJihlPXRoaXMuZ3JhcGguY3JlYXRlSGFuZGxlcihkKSx0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LkFERCwic3RhdGUiLGQpKSk7bnVsbCE9ZSYmdGhpcy5oYW5kbGVycy5wdXQoYltjXSxlKX19YS52aXNpdChteFV0aWxzLmJpbmQodGhpcywKZnVuY3Rpb24oYSxiKXt0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LlJFTU9WRSwic3RhdGUiLGIuc3RhdGUpKTtiLmRlc3Ryb3koKX0pKX07bXhTZWxlY3Rpb25DZWxsc0hhbmRsZXIucHJvdG90eXBlLmlzSGFuZGxlckFjdGl2ZT1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YS5pbmRleH07bXhTZWxlY3Rpb25DZWxsc0hhbmRsZXIucHJvdG90eXBlLnVwZGF0ZUhhbmRsZXI9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5oYW5kbGVycy5yZW1vdmUoYS5jZWxsKTtpZihudWxsIT1iKXt2YXIgYz1iLmluZGV4LGQ9Yi5zdGFydFgsZT1iLnN0YXJ0WTtiLmRlc3Ryb3koKTtiPXRoaXMuZ3JhcGguY3JlYXRlSGFuZGxlcihhKTtudWxsIT1iJiYodGhpcy5oYW5kbGVycy5wdXQoYS5jZWxsLGIpLG51bGwhPWMmJm51bGwhPWQmJm51bGwhPWUmJmIuc3RhcnQoZCxlLGMpKX19OwpteFNlbGVjdGlvbkNlbGxzSGFuZGxlci5wcm90b3R5cGUubW91c2VEb3duPWZ1bmN0aW9uKGEsYil7aWYodGhpcy5ncmFwaC5pc0VuYWJsZWQoKSYmdGhpcy5pc0VuYWJsZWQoKSl7dmFyIGM9W2EsYl07dGhpcy5oYW5kbGVycy52aXNpdChmdW5jdGlvbihhLGIpe2IubW91c2VEb3duLmFwcGx5KGIsYyl9KX19O214U2VsZWN0aW9uQ2VsbHNIYW5kbGVyLnByb3RvdHlwZS5tb3VzZU1vdmU9ZnVuY3Rpb24oYSxiKXtpZih0aGlzLmdyYXBoLmlzRW5hYmxlZCgpJiZ0aGlzLmlzRW5hYmxlZCgpKXt2YXIgYz1bYSxiXTt0aGlzLmhhbmRsZXJzLnZpc2l0KGZ1bmN0aW9uKGEsYil7Yi5tb3VzZU1vdmUuYXBwbHkoYixjKX0pfX07Cm14U2VsZWN0aW9uQ2VsbHNIYW5kbGVyLnByb3RvdHlwZS5tb3VzZVVwPWZ1bmN0aW9uKGEsYil7aWYodGhpcy5ncmFwaC5pc0VuYWJsZWQoKSYmdGhpcy5pc0VuYWJsZWQoKSl7dmFyIGM9W2EsYl07dGhpcy5oYW5kbGVycy52aXNpdChmdW5jdGlvbihhLGIpe2IubW91c2VVcC5hcHBseShiLGMpfSl9fTtteFNlbGVjdGlvbkNlbGxzSGFuZGxlci5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuZ3JhcGgucmVtb3ZlTW91c2VMaXN0ZW5lcih0aGlzKTtudWxsIT10aGlzLnJlZnJlc2hIYW5kbGVyJiYodGhpcy5ncmFwaC5nZXRTZWxlY3Rpb25Nb2RlbCgpLnJlbW92ZUxpc3RlbmVyKHRoaXMucmVmcmVzaEhhbmRsZXIpLHRoaXMuZ3JhcGguZ2V0TW9kZWwoKS5yZW1vdmVMaXN0ZW5lcih0aGlzLnJlZnJlc2hIYW5kbGVyKSx0aGlzLmdyYXBoLmdldFZpZXcoKS5yZW1vdmVMaXN0ZW5lcih0aGlzLnJlZnJlc2hIYW5kbGVyKSx0aGlzLnJlZnJlc2hIYW5kbGVyPW51bGwpfTsKZnVuY3Rpb24gbXhDb25uZWN0aW9uSGFuZGxlcihhLGIpe214RXZlbnRTb3VyY2UuY2FsbCh0aGlzKTtudWxsIT1hJiYodGhpcy5ncmFwaD1hLHRoaXMuZmFjdG9yeU1ldGhvZD1iLHRoaXMuaW5pdCgpLHRoaXMuZXNjYXBlSGFuZGxlcj1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhLGIpe3RoaXMucmVzZXQoKX0pLHRoaXMuZ3JhcGguYWRkTGlzdGVuZXIobXhFdmVudC5FU0NBUEUsdGhpcy5lc2NhcGVIYW5kbGVyKSl9bXhVdGlscy5leHRlbmQobXhDb25uZWN0aW9uSGFuZGxlcixteEV2ZW50U291cmNlKTtteENvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS5ncmFwaD1udWxsO214Q29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLmZhY3RvcnlNZXRob2Q9ITA7bXhDb25uZWN0aW9uSGFuZGxlci5wcm90b3R5cGUubW92ZUljb25Gcm9udD0hMTtteENvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS5tb3ZlSWNvbkJhY2s9ITE7Cm14Q29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLmNvbm5lY3RJbWFnZT1udWxsO214Q29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLnRhcmdldENvbm5lY3RJbWFnZT0hMTtteENvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS5lbmFibGVkPSEwO214Q29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLnNlbGVjdD0hMDtteENvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS5jcmVhdGVUYXJnZXQ9ITE7bXhDb25uZWN0aW9uSGFuZGxlci5wcm90b3R5cGUubWFya2VyPW51bGw7bXhDb25uZWN0aW9uSGFuZGxlci5wcm90b3R5cGUuY29uc3RyYWludEhhbmRsZXI9bnVsbDtteENvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS5lcnJvcj1udWxsO214Q29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLndheXBvaW50c0VuYWJsZWQ9ITE7bXhDb25uZWN0aW9uSGFuZGxlci5wcm90b3R5cGUuaWdub3JlTW91c2VEb3duPSExO214Q29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLmZpcnN0PW51bGw7Cm14Q29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLmNvbm5lY3RJY29uT2Zmc2V0PW5ldyBteFBvaW50KDAsbXhDb25zdGFudHMuVE9PTFRJUF9WRVJUSUNBTF9PRkZTRVQpO214Q29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLmVkZ2VTdGF0ZT1udWxsO214Q29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLmNoYW5nZUhhbmRsZXI9bnVsbDtteENvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS5kcmlsbEhhbmRsZXI9bnVsbDtteENvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS5tb3VzZURvd25Db3VudGVyPTA7bXhDb25uZWN0aW9uSGFuZGxlci5wcm90b3R5cGUubW92ZVByZXZpZXdBd2F5PW14Q2xpZW50LklTX1ZNTDtteENvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS5vdXRsaW5lQ29ubmVjdD0hMTtteENvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS5saXZlUHJldmlldz0hMTtteENvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS5jdXJzb3I9bnVsbDsKbXhDb25uZWN0aW9uSGFuZGxlci5wcm90b3R5cGUuaW5zZXJ0QmVmb3JlU291cmNlPSExO214Q29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLmlzRW5hYmxlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVuYWJsZWR9O214Q29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLnNldEVuYWJsZWQ9ZnVuY3Rpb24oYSl7dGhpcy5lbmFibGVkPWF9O214Q29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLmlzSW5zZXJ0QmVmb3JlPWZ1bmN0aW9uKGEsYixjLGQsZSl7cmV0dXJuIHRoaXMuaW5zZXJ0QmVmb3JlU291cmNlJiZiIT1jfTtteENvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS5pc0NyZWF0ZVRhcmdldD1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jcmVhdGVUYXJnZXR9O214Q29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLnNldENyZWF0ZVRhcmdldD1mdW5jdGlvbihhKXt0aGlzLmNyZWF0ZVRhcmdldD1hfTsKbXhDb25uZWN0aW9uSGFuZGxlci5wcm90b3R5cGUuY3JlYXRlU2hhcGU9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmxpdmVQcmV2aWV3JiZudWxsIT10aGlzLmVkZ2VTdGF0ZT90aGlzLmdyYXBoLmNlbGxSZW5kZXJlci5jcmVhdGVTaGFwZSh0aGlzLmVkZ2VTdGF0ZSk6bmV3IG14UG9seWxpbmUoW10sbXhDb25zdGFudHMuSU5WQUxJRF9DT0xPUik7YS5kaWFsZWN0PXRoaXMuZ3JhcGguZGlhbGVjdCE9bXhDb25zdGFudHMuRElBTEVDVF9TVkc/bXhDb25zdGFudHMuRElBTEVDVF9WTUw6bXhDb25zdGFudHMuRElBTEVDVF9TVkc7YS5zY2FsZT10aGlzLmdyYXBoLnZpZXcuc2NhbGU7YS5wb2ludGVyRXZlbnRzPSExO2EuaXNEYXNoZWQ9ITA7YS5pbml0KHRoaXMuZ3JhcGguZ2V0VmlldygpLmdldE92ZXJsYXlQYW5lKCkpO214RXZlbnQucmVkaXJlY3RNb3VzZUV2ZW50cyhhLm5vZGUsdGhpcy5ncmFwaCxudWxsKTtyZXR1cm4gYX07Cm14Q29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oKXt0aGlzLmdyYXBoLmFkZE1vdXNlTGlzdGVuZXIodGhpcyk7dGhpcy5tYXJrZXI9dGhpcy5jcmVhdGVNYXJrZXIoKTt0aGlzLmNvbnN0cmFpbnRIYW5kbGVyPW5ldyBteENvbnN0cmFpbnRIYW5kbGVyKHRoaXMuZ3JhcGgpO3RoaXMuY2hhbmdlSGFuZGxlcj1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXtudWxsIT10aGlzLmljb25TdGF0ZSYmKHRoaXMuaWNvblN0YXRlPXRoaXMuZ3JhcGguZ2V0VmlldygpLmdldFN0YXRlKHRoaXMuaWNvblN0YXRlLmNlbGwpKTtudWxsIT10aGlzLmljb25TdGF0ZT8odGhpcy5yZWRyYXdJY29ucyh0aGlzLmljb25zLHRoaXMuaWNvblN0YXRlKSx0aGlzLmNvbnN0cmFpbnRIYW5kbGVyLnJlc2V0KCkpOm51bGwhPXRoaXMucHJldmlvdXMmJm51bGw9PXRoaXMuZ3JhcGgudmlldy5nZXRTdGF0ZSh0aGlzLnByZXZpb3VzLmNlbGwpJiZ0aGlzLnJlc2V0KCl9KTt0aGlzLmdyYXBoLmdldE1vZGVsKCkuYWRkTGlzdGVuZXIobXhFdmVudC5DSEFOR0UsCnRoaXMuY2hhbmdlSGFuZGxlcik7dGhpcy5ncmFwaC5nZXRWaWV3KCkuYWRkTGlzdGVuZXIobXhFdmVudC5TQ0FMRSx0aGlzLmNoYW5nZUhhbmRsZXIpO3RoaXMuZ3JhcGguZ2V0VmlldygpLmFkZExpc3RlbmVyKG14RXZlbnQuVFJBTlNMQVRFLHRoaXMuY2hhbmdlSGFuZGxlcik7dGhpcy5ncmFwaC5nZXRWaWV3KCkuYWRkTGlzdGVuZXIobXhFdmVudC5TQ0FMRV9BTkRfVFJBTlNMQVRFLHRoaXMuY2hhbmdlSGFuZGxlcik7dGhpcy5kcmlsbEhhbmRsZXI9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7dGhpcy5yZXNldCgpfSk7dGhpcy5ncmFwaC5hZGRMaXN0ZW5lcihteEV2ZW50LlNUQVJUX0VESVRJTkcsdGhpcy5kcmlsbEhhbmRsZXIpO3RoaXMuZ3JhcGguZ2V0VmlldygpLmFkZExpc3RlbmVyKG14RXZlbnQuRE9XTix0aGlzLmRyaWxsSGFuZGxlcik7dGhpcy5ncmFwaC5nZXRWaWV3KCkuYWRkTGlzdGVuZXIobXhFdmVudC5VUCx0aGlzLmRyaWxsSGFuZGxlcil9OwpteENvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS5pc0Nvbm5lY3RhYmxlQ2VsbD1mdW5jdGlvbihhKXtyZXR1cm4hMH07Cm14Q29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLmNyZWF0ZU1hcmtlcj1mdW5jdGlvbigpe3ZhciBhPW5ldyBteENlbGxNYXJrZXIodGhpcy5ncmFwaCk7YS5ob3RzcG90RW5hYmxlZD0hMDthLmdldENlbGw9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYil7dmFyIGM9bXhDZWxsTWFya2VyLnByb3RvdHlwZS5nZXRDZWxsLmFwcGx5KGEsYXJndW1lbnRzKTt0aGlzLmVycm9yPW51bGw7bnVsbD09YyYmbnVsbCE9dGhpcy5jdXJyZW50UG9pbnQmJihjPXRoaXMuZ3JhcGguZ2V0Q2VsbEF0KHRoaXMuY3VycmVudFBvaW50LngsdGhpcy5jdXJyZW50UG9pbnQueSkpO2lmKG51bGwhPWMmJiF0aGlzLmdyYXBoLmlzQ2VsbENvbm5lY3RhYmxlKGMpKXt2YXIgZD10aGlzLmdyYXBoLmdldE1vZGVsKCkuZ2V0UGFyZW50KGMpO3RoaXMuZ3JhcGguZ2V0TW9kZWwoKS5pc1ZlcnRleChkKSYmdGhpcy5ncmFwaC5pc0NlbGxDb25uZWN0YWJsZShkKSYmKGM9ZCl9aWYodGhpcy5ncmFwaC5pc1N3aW1sYW5lKGMpJiYKbnVsbCE9dGhpcy5jdXJyZW50UG9pbnQmJnRoaXMuZ3JhcGguaGl0c1N3aW1sYW5lQ29udGVudChjLHRoaXMuY3VycmVudFBvaW50LngsdGhpcy5jdXJyZW50UG9pbnQueSl8fCF0aGlzLmlzQ29ubmVjdGFibGVDZWxsKGMpKWM9bnVsbDtudWxsIT1jP3RoaXMuaXNDb25uZWN0aW5nKCk/bnVsbCE9dGhpcy5wcmV2aW91cyYmKHRoaXMuZXJyb3I9dGhpcy52YWxpZGF0ZUNvbm5lY3Rpb24odGhpcy5wcmV2aW91cy5jZWxsLGMpLG51bGwhPXRoaXMuZXJyb3ImJjA9PXRoaXMuZXJyb3IubGVuZ3RoJiYoYz1udWxsLHRoaXMuaXNDcmVhdGVUYXJnZXQoYi5nZXRFdmVudCgpKSYmKHRoaXMuZXJyb3I9bnVsbCkpKTp0aGlzLmlzVmFsaWRTb3VyY2UoYyxiKXx8KGM9bnVsbCk6IXRoaXMuaXNDb25uZWN0aW5nKCl8fHRoaXMuaXNDcmVhdGVUYXJnZXQoYi5nZXRFdmVudCgpKXx8dGhpcy5ncmFwaC5hbGxvd0RhbmdsaW5nRWRnZXN8fCh0aGlzLmVycm9yPSIiKTtyZXR1cm4gY30pO2EuaXNWYWxpZFN0YXRlPQpteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihiKXtyZXR1cm4gdGhpcy5pc0Nvbm5lY3RpbmcoKT9udWxsPT10aGlzLmVycm9yOm14Q2VsbE1hcmtlci5wcm90b3R5cGUuaXNWYWxpZFN0YXRlLmFwcGx5KGEsYXJndW1lbnRzKX0pO2EuZ2V0TWFya2VyQ29sb3I9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYixjLGQpe3JldHVybiBudWxsPT10aGlzLmNvbm5lY3RJbWFnZXx8dGhpcy5pc0Nvbm5lY3RpbmcoKT9teENlbGxNYXJrZXIucHJvdG90eXBlLmdldE1hcmtlckNvbG9yLmFwcGx5KGEsYXJndW1lbnRzKTpudWxsfSk7YS5pbnRlcnNlY3RzPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGIsYyl7cmV0dXJuIG51bGwhPXRoaXMuY29ubmVjdEltYWdlfHx0aGlzLmlzQ29ubmVjdGluZygpPyEwOm14Q2VsbE1hcmtlci5wcm90b3R5cGUuaW50ZXJzZWN0cy5hcHBseShhLGFyZ3VtZW50cyl9KTtyZXR1cm4gYX07Cm14Q29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKGEsYixjLGQpe3RoaXMucHJldmlvdXM9YTt0aGlzLmZpcnN0PW5ldyBteFBvaW50KGIsYyk7dGhpcy5lZGdlU3RhdGU9bnVsbCE9ZD9kOnRoaXMuY3JlYXRlRWRnZVN0YXRlKG51bGwpO3RoaXMubWFya2VyLmN1cnJlbnRDb2xvcj10aGlzLm1hcmtlci52YWxpZENvbG9yO3RoaXMubWFya2VyLm1hcmtlZFN0YXRlPWE7dGhpcy5tYXJrZXIubWFyaygpO3RoaXMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KG14RXZlbnQuU1RBUlQsInN0YXRlIix0aGlzLnByZXZpb3VzKSl9O214Q29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLmlzQ29ubmVjdGluZz1mdW5jdGlvbigpe3JldHVybiBudWxsIT10aGlzLmZpcnN0JiZudWxsIT10aGlzLnNoYXBlfTtteENvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS5pc1ZhbGlkU291cmNlPWZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuZ3JhcGguaXNWYWxpZFNvdXJjZShhKX07Cm14Q29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLmlzVmFsaWRUYXJnZXQ9ZnVuY3Rpb24oYSl7cmV0dXJuITB9O214Q29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLnZhbGlkYXRlQ29ubmVjdGlvbj1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmlzVmFsaWRUYXJnZXQoYik/dGhpcy5ncmFwaC5nZXRFZGdlVmFsaWRhdGlvbkVycm9yKG51bGwsYSxiKToiIn07bXhDb25uZWN0aW9uSGFuZGxlci5wcm90b3R5cGUuZ2V0Q29ubmVjdEltYWdlPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNvbm5lY3RJbWFnZX07bXhDb25uZWN0aW9uSGFuZGxlci5wcm90b3R5cGUuaXNNb3ZlSWNvblRvRnJvbnRGb3JTdGF0ZT1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YS50ZXh0JiZhLnRleHQubm9kZS5wYXJlbnROb2RlPT10aGlzLmdyYXBoLmNvbnRhaW5lcj8hMDp0aGlzLm1vdmVJY29uRnJvbnR9OwpteENvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS5jcmVhdGVJY29ucz1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmdldENvbm5lY3RJbWFnZShhKTtpZihudWxsIT1iJiZudWxsIT1hKXt0aGlzLmljb25TdGF0ZT1hO3ZhciBjPVtdLGQ9bmV3IG14UmVjdGFuZ2xlKDAsMCxiLndpZHRoLGIuaGVpZ2h0KSxlPW5ldyBteEltYWdlU2hhcGUoZCxiLnNyYyxudWxsLG51bGwsMCk7ZS5wcmVzZXJ2ZUltYWdlQXNwZWN0PSExO3RoaXMuaXNNb3ZlSWNvblRvRnJvbnRGb3JTdGF0ZShhKT8oZS5kaWFsZWN0PW14Q29uc3RhbnRzLkRJQUxFQ1RfU1RSSUNUSFRNTCxlLmluaXQodGhpcy5ncmFwaC5jb250YWluZXIpKTooZS5kaWFsZWN0PXRoaXMuZ3JhcGguZGlhbGVjdD09bXhDb25zdGFudHMuRElBTEVDVF9TVkc/bXhDb25zdGFudHMuRElBTEVDVF9TVkc6bXhDb25zdGFudHMuRElBTEVDVF9WTUwsZS5pbml0KHRoaXMuZ3JhcGguZ2V0VmlldygpLmdldE92ZXJsYXlQYW5lKCkpLHRoaXMubW92ZUljb25CYWNrJiYKbnVsbCE9ZS5ub2RlLnByZXZpb3VzU2libGluZyYmZS5ub2RlLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGUubm9kZSxlLm5vZGUucGFyZW50Tm9kZS5maXJzdENoaWxkKSk7ZS5ub2RlLnN0eWxlLmN1cnNvcj1teENvbnN0YW50cy5DVVJTT1JfQ09OTkVDVDt2YXIgZj1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3JldHVybiBudWxsIT10aGlzLmN1cnJlbnRTdGF0ZT90aGlzLmN1cnJlbnRTdGF0ZTphfSksYj1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXtteEV2ZW50LmlzQ29uc3VtZWQoYSl8fCh0aGlzLmljb249ZSx0aGlzLmdyYXBoLmZpcmVNb3VzZUV2ZW50KG14RXZlbnQuTU9VU0VfRE9XTixuZXcgbXhNb3VzZUV2ZW50KGEsZigpKSkpfSk7bXhFdmVudC5yZWRpcmVjdE1vdXNlRXZlbnRzKGUubm9kZSx0aGlzLmdyYXBoLGYsYik7Yy5wdXNoKGUpO3RoaXMucmVkcmF3SWNvbnMoYyx0aGlzLmljb25TdGF0ZSk7cmV0dXJuIGN9cmV0dXJuIG51bGx9OwpteENvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS5yZWRyYXdJY29ucz1mdW5jdGlvbihhLGIpe2lmKG51bGwhPWEmJm51bGwhPWFbMF0mJm51bGwhPWIpe3ZhciBjPXRoaXMuZ2V0SWNvblBvc2l0aW9uKGFbMF0sYik7YVswXS5ib3VuZHMueD1jLng7YVswXS5ib3VuZHMueT1jLnk7YVswXS5yZWRyYXcoKX19OwpteENvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS5nZXRJY29uUG9zaXRpb249ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdyYXBoLmdldFZpZXcoKS5zY2FsZSxkPWIuZ2V0Q2VudGVyWCgpLGU9Yi5nZXRDZW50ZXJZKCk7aWYodGhpcy5ncmFwaC5pc1N3aW1sYW5lKGIuY2VsbCkpe3ZhciBmPXRoaXMuZ3JhcGguZ2V0U3RhcnRTaXplKGIuY2VsbCksZD0wIT1mLndpZHRoP2IueCtmLndpZHRoKmMvMjpkLGU9MCE9Zi5oZWlnaHQ/Yi55K2YuaGVpZ2h0KmMvMjplLGY9bXhVdGlscy50b1JhZGlhbnMobXhVdGlscy5nZXRWYWx1ZShiLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX1JPVEFUSU9OKXx8MCk7aWYoMCE9Zil2YXIgYz1NYXRoLmNvcyhmKSxmPU1hdGguc2luKGYpLGc9bmV3IG14UG9pbnQoYi5nZXRDZW50ZXJYKCksYi5nZXRDZW50ZXJZKCkpLGU9bXhVdGlscy5nZXRSb3RhdGVkUG9pbnQobmV3IG14UG9pbnQoZCxlKSxjLGYsZyksZD1lLngsZT1lLnl9cmV0dXJuIG5ldyBteFBvaW50KGQtCmEuYm91bmRzLndpZHRoLzIsZS1hLmJvdW5kcy5oZWlnaHQvMil9O214Q29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLmRlc3Ryb3lJY29ucz1mdW5jdGlvbigpe2lmKG51bGwhPXRoaXMuaWNvbnMpe2Zvcih2YXIgYT0wO2E8dGhpcy5pY29ucy5sZW5ndGg7YSsrKXRoaXMuaWNvbnNbYV0uZGVzdHJveSgpO3RoaXMuaWNvblN0YXRlPXRoaXMuc2VsZWN0ZWRJY29uPXRoaXMuaWNvbj10aGlzLmljb25zPW51bGx9fTtteENvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS5pc1N0YXJ0RXZlbnQ9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPXRoaXMuY29uc3RyYWludEhhbmRsZXIuY3VycmVudEZvY3VzJiZudWxsIT10aGlzLmNvbnN0cmFpbnRIYW5kbGVyLmN1cnJlbnRDb25zdHJhaW50fHxudWxsIT10aGlzLnByZXZpb3VzJiZudWxsPT10aGlzLmVycm9yJiYobnVsbD09dGhpcy5pY29uc3x8bnVsbCE9dGhpcy5pY29ucyYmbnVsbCE9dGhpcy5pY29uKX07Cm14Q29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLm1vdXNlRG93bj1mdW5jdGlvbihhLGIpe3RoaXMubW91c2VEb3duQ291bnRlcisrO2lmKHRoaXMuaXNFbmFibGVkKCkmJnRoaXMuZ3JhcGguaXNFbmFibGVkKCkmJiFiLmlzQ29uc3VtZWQoKSYmIXRoaXMuaXNDb25uZWN0aW5nKCkmJnRoaXMuaXNTdGFydEV2ZW50KGIpKXtudWxsIT10aGlzLmNvbnN0cmFpbnRIYW5kbGVyLmN1cnJlbnRDb25zdHJhaW50JiZudWxsIT10aGlzLmNvbnN0cmFpbnRIYW5kbGVyLmN1cnJlbnRGb2N1cyYmbnVsbCE9dGhpcy5jb25zdHJhaW50SGFuZGxlci5jdXJyZW50UG9pbnQ/KHRoaXMuc291cmNlQ29uc3RyYWludD10aGlzLmNvbnN0cmFpbnRIYW5kbGVyLmN1cnJlbnRDb25zdHJhaW50LHRoaXMucHJldmlvdXM9dGhpcy5jb25zdHJhaW50SGFuZGxlci5jdXJyZW50Rm9jdXMsdGhpcy5maXJzdD10aGlzLmNvbnN0cmFpbnRIYW5kbGVyLmN1cnJlbnRQb2ludC5jbG9uZSgpKTp0aGlzLmZpcnN0PW5ldyBteFBvaW50KGIuZ2V0R3JhcGhYKCksCmIuZ2V0R3JhcGhZKCkpO3RoaXMuZWRnZVN0YXRlPXRoaXMuY3JlYXRlRWRnZVN0YXRlKGIpO3RoaXMubW91c2VEb3duQ291bnRlcj0xO3RoaXMud2F5cG9pbnRzRW5hYmxlZCYmbnVsbD09dGhpcy5zaGFwZSYmKHRoaXMud2F5cG9pbnRzPW51bGwsdGhpcy5zaGFwZT10aGlzLmNyZWF0ZVNoYXBlKCksbnVsbCE9dGhpcy5lZGdlU3RhdGUmJnRoaXMuc2hhcGUuYXBwbHkodGhpcy5lZGdlU3RhdGUpKTtpZihudWxsPT10aGlzLnByZXZpb3VzJiZudWxsIT10aGlzLmVkZ2VTdGF0ZSl7dmFyIGM9dGhpcy5ncmFwaC5nZXRQb2ludEZvckV2ZW50KGIuZ2V0RXZlbnQoKSk7dGhpcy5lZGdlU3RhdGUuY2VsbC5nZW9tZXRyeS5zZXRUZXJtaW5hbFBvaW50KGMsITApfXRoaXMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KG14RXZlbnQuU1RBUlQsInN0YXRlIix0aGlzLnByZXZpb3VzKSk7Yi5jb25zdW1lKCl9dGhpcy5zZWxlY3RlZEljb249dGhpcy5pY29uO3RoaXMuaWNvbj1udWxsfTsKbXhDb25uZWN0aW9uSGFuZGxlci5wcm90b3R5cGUuaXNJbW1lZGlhdGVDb25uZWN0U291cmNlPWZ1bmN0aW9uKGEpe3JldHVybiF0aGlzLmdyYXBoLmlzQ2VsbE1vdmFibGUoYS5jZWxsKX07bXhDb25uZWN0aW9uSGFuZGxlci5wcm90b3R5cGUuY3JlYXRlRWRnZVN0YXRlPWZ1bmN0aW9uKGEpe3JldHVybiBudWxsfTsKbXhDb25uZWN0aW9uSGFuZGxlci5wcm90b3R5cGUuaXNPdXRsaW5lQ29ubmVjdEV2ZW50PWZ1bmN0aW9uKGEpe3ZhciBiPW14VXRpbHMuZ2V0T2Zmc2V0KHRoaXMuZ3JhcGguY29udGFpbmVyKSxjPWEuZ2V0RXZlbnQoKSxkPW14RXZlbnQuZ2V0Q2xpZW50WChjKSxjPW14RXZlbnQuZ2V0Q2xpZW50WShjKSxlPWRvY3VtZW50LmRvY3VtZW50RWxlbWVudCxmPXRoaXMuY3VycmVudFBvaW50LngtdGhpcy5ncmFwaC5jb250YWluZXIuc2Nyb2xsTGVmdCtiLngtKCh3aW5kb3cucGFnZVhPZmZzZXR8fGUuc2Nyb2xsTGVmdCktKGUuY2xpZW50TGVmdHx8MCkpLGI9dGhpcy5jdXJyZW50UG9pbnQueS10aGlzLmdyYXBoLmNvbnRhaW5lci5zY3JvbGxUb3ArYi55LSgod2luZG93LnBhZ2VZT2Zmc2V0fHxlLnNjcm9sbFRvcCktKGUuY2xpZW50VG9wfHwwKSk7cmV0dXJuIHRoaXMub3V0bGluZUNvbm5lY3QmJiFteEV2ZW50LmlzU2hpZnREb3duKGEuZ2V0RXZlbnQoKSkmJihhLmlzU291cmNlKHRoaXMubWFya2VyLmhpZ2hsaWdodC5zaGFwZSl8fApteEV2ZW50LmlzQWx0RG93bihhLmdldEV2ZW50KCkpJiZudWxsIT1hLmdldFN0YXRlKCl8fHRoaXMubWFya2VyLmhpZ2hsaWdodC5pc0hpZ2hsaWdodEF0KGQsYyl8fChmIT1kfHxiIT1jKSYmbnVsbD09YS5nZXRTdGF0ZSgpJiZ0aGlzLm1hcmtlci5oaWdobGlnaHQuaXNIaWdobGlnaHRBdChmLGIpKX07Cm14Q29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLnVwZGF0ZUN1cnJlbnRTdGF0ZT1mdW5jdGlvbihhLGIpe3RoaXMuY29uc3RyYWludEhhbmRsZXIudXBkYXRlKGEsbnVsbD09dGhpcy5maXJzdCwhMSxudWxsPT10aGlzLmZpcnN0fHxhLmlzU291cmNlKHRoaXMubWFya2VyLmhpZ2hsaWdodC5zaGFwZSk/bnVsbDpiKTtpZihudWxsIT10aGlzLmNvbnN0cmFpbnRIYW5kbGVyLmN1cnJlbnRGb2N1cyYmbnVsbCE9dGhpcy5jb25zdHJhaW50SGFuZGxlci5jdXJyZW50Q29uc3RyYWludCludWxsIT10aGlzLm1hcmtlci5oaWdobGlnaHQmJm51bGwhPXRoaXMubWFya2VyLmhpZ2hsaWdodC5zdGF0ZSYmdGhpcy5tYXJrZXIuaGlnaGxpZ2h0LnN0YXRlLmNlbGw9PXRoaXMuY29uc3RyYWludEhhbmRsZXIuY3VycmVudEZvY3VzLmNlbGw/InRyYW5zcGFyZW50IiE9dGhpcy5tYXJrZXIuaGlnaGxpZ2h0LnNoYXBlLnN0cm9rZSYmKHRoaXMubWFya2VyLmhpZ2hsaWdodC5zaGFwZS5zdHJva2U9InRyYW5zcGFyZW50IiwKdGhpcy5tYXJrZXIuaGlnaGxpZ2h0LnJlcGFpbnQoKSk6dGhpcy5tYXJrZXIubWFya0NlbGwodGhpcy5jb25zdHJhaW50SGFuZGxlci5jdXJyZW50Rm9jdXMuY2VsbCwidHJhbnNwYXJlbnQiKSxudWxsIT10aGlzLnByZXZpb3VzJiYodGhpcy5lcnJvcj10aGlzLnZhbGlkYXRlQ29ubmVjdGlvbih0aGlzLnByZXZpb3VzLmNlbGwsdGhpcy5jb25zdHJhaW50SGFuZGxlci5jdXJyZW50Rm9jdXMuY2VsbCksbnVsbD09dGhpcy5lcnJvciYmKHRoaXMuY3VycmVudFN0YXRlPXRoaXMuY29uc3RyYWludEhhbmRsZXIuY3VycmVudEZvY3VzKSwobnVsbCE9dGhpcy5lcnJvcnx8bnVsbCE9dGhpcy5jdXJyZW50U3RhdGUmJiF0aGlzLmlzQ2VsbEVuYWJsZWQodGhpcy5jdXJyZW50U3RhdGUuY2VsbCkpJiZ0aGlzLmNvbnN0cmFpbnRIYW5kbGVyLnJlc2V0KCkpO2Vsc2V7dGhpcy5ncmFwaC5pc0lnbm9yZVRlcm1pbmFsRXZlbnQoYS5nZXRFdmVudCgpKT8odGhpcy5tYXJrZXIucmVzZXQoKSx0aGlzLmN1cnJlbnRTdGF0ZT0KbnVsbCk6KHRoaXMubWFya2VyLnByb2Nlc3MoYSksdGhpcy5jdXJyZW50U3RhdGU9dGhpcy5tYXJrZXIuZ2V0VmFsaWRTdGF0ZSgpKTtudWxsPT10aGlzLmN1cnJlbnRTdGF0ZXx8dGhpcy5pc0NlbGxFbmFibGVkKHRoaXMuY3VycmVudFN0YXRlLmNlbGwpfHwodGhpcy5jb25zdHJhaW50SGFuZGxlci5yZXNldCgpLHRoaXMubWFya2VyLnJlc2V0KCksdGhpcy5jdXJyZW50U3RhdGU9bnVsbCk7dmFyIGM9dGhpcy5pc091dGxpbmVDb25uZWN0RXZlbnQoYSk7bnVsbCE9dGhpcy5jdXJyZW50U3RhdGUmJmMmJihhLmlzU291cmNlKHRoaXMubWFya2VyLmhpZ2hsaWdodC5zaGFwZSkmJihiPW5ldyBteFBvaW50KGEuZ2V0R3JhcGhYKCksYS5nZXRHcmFwaFkoKSkpLGM9dGhpcy5ncmFwaC5nZXRPdXRsaW5lQ29uc3RyYWludChiLHRoaXMuY3VycmVudFN0YXRlLGEpLHRoaXMuY29uc3RyYWludEhhbmRsZXIuc2V0Rm9jdXMoYSx0aGlzLmN1cnJlbnRTdGF0ZSwhMSksdGhpcy5jb25zdHJhaW50SGFuZGxlci5jdXJyZW50Q29uc3RyYWludD0KYyx0aGlzLmNvbnN0cmFpbnRIYW5kbGVyLmN1cnJlbnRQb2ludD1iKTt0aGlzLm91dGxpbmVDb25uZWN0JiZudWxsIT10aGlzLm1hcmtlci5oaWdobGlnaHQmJm51bGwhPXRoaXMubWFya2VyLmhpZ2hsaWdodC5zaGFwZSYmKGM9dGhpcy5ncmFwaC52aWV3LnNjYWxlLG51bGwhPXRoaXMuY29uc3RyYWludEhhbmRsZXIuY3VycmVudENvbnN0cmFpbnQmJm51bGwhPXRoaXMuY29uc3RyYWludEhhbmRsZXIuY3VycmVudEZvY3VzPyh0aGlzLm1hcmtlci5oaWdobGlnaHQuc2hhcGUuc3Ryb2tlPW14Q29uc3RhbnRzLk9VVExJTkVfSElHSExJR0hUX0NPTE9SLHRoaXMubWFya2VyLmhpZ2hsaWdodC5zaGFwZS5zdHJva2V3aWR0aD1teENvbnN0YW50cy5PVVRMSU5FX0hJR0hMSUdIVF9TVFJPS0VXSURUSC9jL2MsdGhpcy5tYXJrZXIuaGlnaGxpZ2h0LnJlcGFpbnQoKSk6dGhpcy5tYXJrZXIuaGFzVmFsaWRTdGF0ZSgpJiYodGhpcy5ncmFwaC5pc0NlbGxDb25uZWN0YWJsZShhLmdldENlbGwoKSkmJgp0aGlzLm1hcmtlci5nZXRWYWxpZFN0YXRlKCkhPWEuZ2V0U3RhdGUoKT8odGhpcy5tYXJrZXIuaGlnaGxpZ2h0LnNoYXBlLnN0cm9rZT0idHJhbnNwYXJlbnQiLHRoaXMuY3VycmVudFN0YXRlPW51bGwpOnRoaXMubWFya2VyLmhpZ2hsaWdodC5zaGFwZS5zdHJva2U9bXhDb25zdGFudHMuREVGQVVMVF9WQUxJRF9DT0xPUix0aGlzLm1hcmtlci5oaWdobGlnaHQuc2hhcGUuc3Ryb2tld2lkdGg9bXhDb25zdGFudHMuSElHSExJR0hUX1NUUk9LRVdJRFRIL2MvYyx0aGlzLm1hcmtlci5oaWdobGlnaHQucmVwYWludCgpKSl9fTtteENvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS5pc0NlbGxFbmFibGVkPWZ1bmN0aW9uKGEpe3JldHVybiEwfTsKbXhDb25uZWN0aW9uSGFuZGxlci5wcm90b3R5cGUuY29udmVydFdheXBvaW50PWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZ3JhcGguZ2V0VmlldygpLmdldFNjYWxlKCksYz10aGlzLmdyYXBoLmdldFZpZXcoKS5nZXRUcmFuc2xhdGUoKTthLng9YS54L2ItYy54O2EueT1hLnkvYi1jLnl9OwpteENvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS5zbmFwVG9QcmV2aWV3PWZ1bmN0aW9uKGEsYil7aWYoIW14RXZlbnQuaXNBbHREb3duKGEuZ2V0RXZlbnQoKSkmJm51bGwhPXRoaXMucHJldmlvdXMpe3ZhciBjPXRoaXMuZ3JhcGguZ3JpZFNpemUqdGhpcy5ncmFwaC52aWV3LnNjYWxlLzIsZD1udWxsIT10aGlzLnNvdXJjZUNvbnN0cmFpbnQ/dGhpcy5maXJzdDpuZXcgbXhQb2ludCh0aGlzLnByZXZpb3VzLmdldENlbnRlclgoKSx0aGlzLnByZXZpb3VzLmdldENlbnRlclkoKSk7TWF0aC5hYnMoZC54LWEuZ2V0R3JhcGhYKCkpPGMmJihiLng9ZC54KTtNYXRoLmFicyhkLnktYS5nZXRHcmFwaFkoKSk8YyYmKGIueT1kLnkpfX07Cm14Q29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLm1vdXNlTW92ZT1mdW5jdGlvbihhLGIpe2lmKGIuaXNDb25zdW1lZCgpfHwhdGhpcy5pZ25vcmVNb3VzZURvd24mJm51bGw9PXRoaXMuZmlyc3QmJnRoaXMuZ3JhcGguaXNNb3VzZURvd24pdGhpcy5jb25zdHJhaW50SGFuZGxlci5yZXNldCgpO2Vsc2V7dGhpcy5pc0VuYWJsZWQoKXx8bnVsbD09dGhpcy5jdXJyZW50U3RhdGV8fCh0aGlzLmRlc3Ryb3lJY29ucygpLHRoaXMuY3VycmVudFN0YXRlPW51bGwpO3ZhciBjPXRoaXMuZ3JhcGguZ2V0VmlldygpLGQ9Yy5zY2FsZSxlPWMudHJhbnNsYXRlLGM9bmV3IG14UG9pbnQoYi5nZXRHcmFwaFgoKSxiLmdldEdyYXBoWSgpKTt0aGlzLmVycm9yPW51bGw7dGhpcy5ncmFwaC5pc0dyaWRFbmFibGVkRXZlbnQoYi5nZXRFdmVudCgpKSYmKGM9bmV3IG14UG9pbnQoKHRoaXMuZ3JhcGguc25hcChjLngvZC1lLngpK2UueCkqZCwodGhpcy5ncmFwaC5zbmFwKGMueS9kLWUueSkrZS55KSpkKSk7CnRoaXMuc25hcFRvUHJldmlldyhiLGMpO3RoaXMuY3VycmVudFBvaW50PWM7KG51bGwhPXRoaXMuZmlyc3R8fHRoaXMuaXNFbmFibGVkKCkmJnRoaXMuZ3JhcGguaXNFbmFibGVkKCkpJiYobnVsbCE9dGhpcy5zaGFwZXx8bnVsbD09dGhpcy5maXJzdHx8TWF0aC5hYnMoYi5nZXRHcmFwaFgoKS10aGlzLmZpcnN0LngpPnRoaXMuZ3JhcGgudG9sZXJhbmNlfHxNYXRoLmFicyhiLmdldEdyYXBoWSgpLXRoaXMuZmlyc3QueSk+dGhpcy5ncmFwaC50b2xlcmFuY2UpJiZ0aGlzLnVwZGF0ZUN1cnJlbnRTdGF0ZShiLGMpO2lmKG51bGwhPXRoaXMuZmlyc3Qpe3ZhciBmPW51bGwsZD1jO251bGwhPXRoaXMuY29uc3RyYWludEhhbmRsZXIuY3VycmVudENvbnN0cmFpbnQmJm51bGwhPXRoaXMuY29uc3RyYWludEhhbmRsZXIuY3VycmVudEZvY3VzJiZudWxsIT10aGlzLmNvbnN0cmFpbnRIYW5kbGVyLmN1cnJlbnRQb2ludD8oZj10aGlzLmNvbnN0cmFpbnRIYW5kbGVyLmN1cnJlbnRDb25zdHJhaW50LApkPXRoaXMuY29uc3RyYWludEhhbmRsZXIuY3VycmVudFBvaW50LmNsb25lKCkpOm51bGwhPXRoaXMucHJldmlvdXMmJiF0aGlzLmdyYXBoLmlzSWdub3JlVGVybWluYWxFdmVudChiLmdldEV2ZW50KCkpJiZteEV2ZW50LmlzU2hpZnREb3duKGIuZ2V0RXZlbnQoKSkmJihNYXRoLmFicyh0aGlzLnByZXZpb3VzLmdldENlbnRlclgoKS1jLngpPE1hdGguYWJzKHRoaXMucHJldmlvdXMuZ2V0Q2VudGVyWSgpLWMueSk/Yy54PXRoaXMucHJldmlvdXMuZ2V0Q2VudGVyWCgpOmMueT10aGlzLnByZXZpb3VzLmdldENlbnRlclkoKSk7ZT10aGlzLmZpcnN0O2lmKG51bGwhPXRoaXMuc2VsZWN0ZWRJY29uKXt2YXIgZz10aGlzLnNlbGVjdGVkSWNvbi5ib3VuZHMud2lkdGgsaz10aGlzLnNlbGVjdGVkSWNvbi5ib3VuZHMuaGVpZ2h0O251bGwhPXRoaXMuY3VycmVudFN0YXRlJiZ0aGlzLnRhcmdldENvbm5lY3RJbWFnZT8oZz10aGlzLmdldEljb25Qb3NpdGlvbih0aGlzLnNlbGVjdGVkSWNvbiwKdGhpcy5jdXJyZW50U3RhdGUpLHRoaXMuc2VsZWN0ZWRJY29uLmJvdW5kcy54PWcueCx0aGlzLnNlbGVjdGVkSWNvbi5ib3VuZHMueT1nLnkpOihnPW5ldyBteFJlY3RhbmdsZShiLmdldEdyYXBoWCgpK3RoaXMuY29ubmVjdEljb25PZmZzZXQueCxiLmdldEdyYXBoWSgpK3RoaXMuY29ubmVjdEljb25PZmZzZXQueSxnLGspLHRoaXMuc2VsZWN0ZWRJY29uLmJvdW5kcz1nKTt0aGlzLnNlbGVjdGVkSWNvbi5yZWRyYXcoKX1udWxsIT10aGlzLmVkZ2VTdGF0ZT8odGhpcy51cGRhdGVFZGdlU3RhdGUoZCxmKSxkPXRoaXMuZWRnZVN0YXRlLmFic29sdXRlUG9pbnRzW3RoaXMuZWRnZVN0YXRlLmFic29sdXRlUG9pbnRzLmxlbmd0aC0xXSxlPXRoaXMuZWRnZVN0YXRlLmFic29sdXRlUG9pbnRzWzBdKToobnVsbCE9dGhpcy5jdXJyZW50U3RhdGUmJm51bGw9PXRoaXMuY29uc3RyYWludEhhbmRsZXIuY3VycmVudENvbnN0cmFpbnQmJihnPXRoaXMuZ2V0VGFyZ2V0UGVyaW1ldGVyUG9pbnQodGhpcy5jdXJyZW50U3RhdGUsCmIpLG51bGwhPWcmJihkPWcpKSxudWxsPT10aGlzLnNvdXJjZUNvbnN0cmFpbnQmJm51bGwhPXRoaXMucHJldmlvdXMmJihnPXRoaXMuZ2V0U291cmNlUGVyaW1ldGVyUG9pbnQodGhpcy5wcmV2aW91cyxudWxsIT10aGlzLndheXBvaW50cyYmMDx0aGlzLndheXBvaW50cy5sZW5ndGg/dGhpcy53YXlwb2ludHNbMF06ZCxiKSxudWxsIT1nJiYoZT1nKSkpO2lmKG51bGw9PXRoaXMuY3VycmVudFN0YXRlJiZ0aGlzLm1vdmVQcmV2aWV3QXdheSl7Zz1lO251bGwhPXRoaXMuZWRnZVN0YXRlJiYyPD10aGlzLmVkZ2VTdGF0ZS5hYnNvbHV0ZVBvaW50cy5sZW5ndGgmJihmPXRoaXMuZWRnZVN0YXRlLmFic29sdXRlUG9pbnRzW3RoaXMuZWRnZVN0YXRlLmFic29sdXRlUG9pbnRzLmxlbmd0aC0yXSxudWxsIT1mJiYoZz1mKSk7Zj1kLngtZy54O2c9ZC55LWcueTtrPU1hdGguc3FydChmKmYrZypnKTtpZigwPT1rKXJldHVybjt0aGlzLm9yaWdpbmFsUG9pbnQ9ZC5jbG9uZSgpO2QueC09NCpmLwprO2QueS09NCpnL2t9ZWxzZSB0aGlzLm9yaWdpbmFsUG9pbnQ9bnVsbDtudWxsPT10aGlzLnNoYXBlJiYoZj1NYXRoLmFicyhiLmdldEdyYXBoWCgpLXRoaXMuZmlyc3QueCksZz1NYXRoLmFicyhiLmdldEdyYXBoWSgpLXRoaXMuZmlyc3QueSksZj50aGlzLmdyYXBoLnRvbGVyYW5jZXx8Zz50aGlzLmdyYXBoLnRvbGVyYW5jZSkmJih0aGlzLnNoYXBlPXRoaXMuY3JlYXRlU2hhcGUoKSxudWxsIT10aGlzLmVkZ2VTdGF0ZSYmdGhpcy5zaGFwZS5hcHBseSh0aGlzLmVkZ2VTdGF0ZSksdGhpcy51cGRhdGVDdXJyZW50U3RhdGUoYixjKSk7bnVsbCE9dGhpcy5zaGFwZSYmKG51bGwhPXRoaXMuZWRnZVN0YXRlP3RoaXMuc2hhcGUucG9pbnRzPXRoaXMuZWRnZVN0YXRlLmFic29sdXRlUG9pbnRzOihjPVtlXSxudWxsIT10aGlzLndheXBvaW50cyYmKGM9Yy5jb25jYXQodGhpcy53YXlwb2ludHMpKSxjLnB1c2goZCksdGhpcy5zaGFwZS5wb2ludHM9YyksdGhpcy5kcmF3UHJldmlldygpKTsKbnVsbCE9dGhpcy5jdXJzb3ImJih0aGlzLmdyYXBoLmNvbnRhaW5lci5zdHlsZS5jdXJzb3I9dGhpcy5jdXJzb3IpO214RXZlbnQuY29uc3VtZShiLmdldEV2ZW50KCkpO2IuY29uc3VtZSgpfWVsc2UgdGhpcy5pc0VuYWJsZWQoKSYmdGhpcy5ncmFwaC5pc0VuYWJsZWQoKT90aGlzLnByZXZpb3VzIT10aGlzLmN1cnJlbnRTdGF0ZSYmbnVsbD09dGhpcy5lZGdlU3RhdGU/KHRoaXMuZGVzdHJveUljb25zKCksbnVsbCE9dGhpcy5jdXJyZW50U3RhdGUmJm51bGw9PXRoaXMuZXJyb3ImJm51bGw9PXRoaXMuY29uc3RyYWludEhhbmRsZXIuY3VycmVudENvbnN0cmFpbnQmJih0aGlzLmljb25zPXRoaXMuY3JlYXRlSWNvbnModGhpcy5jdXJyZW50U3RhdGUpLG51bGw9PXRoaXMuaWNvbnMmJih0aGlzLmN1cnJlbnRTdGF0ZS5zZXRDdXJzb3IobXhDb25zdGFudHMuQ1VSU09SX0NPTk5FQ1QpLGIuY29uc3VtZSgpKSksdGhpcy5wcmV2aW91cz10aGlzLmN1cnJlbnRTdGF0ZSk6dGhpcy5wcmV2aW91cyE9CnRoaXMuY3VycmVudFN0YXRlfHxudWxsPT10aGlzLmN1cnJlbnRTdGF0ZXx8bnVsbCE9dGhpcy5pY29uc3x8dGhpcy5ncmFwaC5pc01vdXNlRG93bnx8Yi5jb25zdW1lKCk6dGhpcy5jb25zdHJhaW50SGFuZGxlci5yZXNldCgpO2lmKCF0aGlzLmdyYXBoLmlzTW91c2VEb3duJiZudWxsIT10aGlzLmN1cnJlbnRTdGF0ZSYmbnVsbCE9dGhpcy5pY29ucyl7Yz0hMTtkPWIuZ2V0U291cmNlKCk7Zm9yKGU9MDtlPHRoaXMuaWNvbnMubGVuZ3RoJiYhYztlKyspYz1kPT10aGlzLmljb25zW2VdLm5vZGV8fGQucGFyZW50Tm9kZT09dGhpcy5pY29uc1tlXS5ub2RlO2N8fHRoaXMudXBkYXRlSWNvbnModGhpcy5jdXJyZW50U3RhdGUsdGhpcy5pY29ucyxiKX19fTsKbXhDb25uZWN0aW9uSGFuZGxlci5wcm90b3R5cGUudXBkYXRlRWRnZVN0YXRlPWZ1bmN0aW9uKGEsYil7bnVsbCE9dGhpcy5zb3VyY2VDb25zdHJhaW50JiZudWxsIT10aGlzLnNvdXJjZUNvbnN0cmFpbnQucG9pbnQmJih0aGlzLmVkZ2VTdGF0ZS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9FWElUX1hdPXRoaXMuc291cmNlQ29uc3RyYWludC5wb2ludC54LHRoaXMuZWRnZVN0YXRlLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX0VYSVRfWV09dGhpcy5zb3VyY2VDb25zdHJhaW50LnBvaW50LnkpO251bGwhPWImJm51bGwhPWIucG9pbnQ/KHRoaXMuZWRnZVN0YXRlLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX0VOVFJZX1hdPWIucG9pbnQueCx0aGlzLmVkZ2VTdGF0ZS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9FTlRSWV9ZXT1iLnBvaW50LnkpOihkZWxldGUgdGhpcy5lZGdlU3RhdGUuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfRU5UUllfWF0sZGVsZXRlIHRoaXMuZWRnZVN0YXRlLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX0VOVFJZX1ldKTsKdGhpcy5lZGdlU3RhdGUuYWJzb2x1dGVQb2ludHM9W251bGwsbnVsbCE9dGhpcy5jdXJyZW50U3RhdGU/bnVsbDphXTt0aGlzLmdyYXBoLnZpZXcudXBkYXRlRml4ZWRUZXJtaW5hbFBvaW50KHRoaXMuZWRnZVN0YXRlLHRoaXMucHJldmlvdXMsITAsdGhpcy5zb3VyY2VDb25zdHJhaW50KTtudWxsIT10aGlzLmN1cnJlbnRTdGF0ZSYmKG51bGw9PWImJihiPXRoaXMuZ3JhcGguZ2V0Q29ubmVjdGlvbkNvbnN0cmFpbnQodGhpcy5lZGdlU3RhdGUsdGhpcy5wcmV2aW91cywhMSkpLHRoaXMuZWRnZVN0YXRlLnNldEFic29sdXRlVGVybWluYWxQb2ludChudWxsLCExKSx0aGlzLmdyYXBoLnZpZXcudXBkYXRlRml4ZWRUZXJtaW5hbFBvaW50KHRoaXMuZWRnZVN0YXRlLHRoaXMuY3VycmVudFN0YXRlLCExLGIpKTt2YXIgYz1udWxsO2lmKG51bGwhPXRoaXMud2F5cG9pbnRzKWZvcih2YXIgYz1bXSxkPTA7ZDx0aGlzLndheXBvaW50cy5sZW5ndGg7ZCsrKXt2YXIgZT10aGlzLndheXBvaW50c1tkXS5jbG9uZSgpOwp0aGlzLmNvbnZlcnRXYXlwb2ludChlKTtjW2RdPWV9dGhpcy5ncmFwaC52aWV3LnVwZGF0ZVBvaW50cyh0aGlzLmVkZ2VTdGF0ZSxjLHRoaXMucHJldmlvdXMsdGhpcy5jdXJyZW50U3RhdGUpO3RoaXMuZ3JhcGgudmlldy51cGRhdGVGbG9hdGluZ1Rlcm1pbmFsUG9pbnRzKHRoaXMuZWRnZVN0YXRlLHRoaXMucHJldmlvdXMsdGhpcy5jdXJyZW50U3RhdGUpfTsKbXhDb25uZWN0aW9uSGFuZGxlci5wcm90b3R5cGUuZ2V0VGFyZ2V0UGVyaW1ldGVyUG9pbnQ9ZnVuY3Rpb24oYSxiKXt2YXIgYz1udWxsLGQ9YS52aWV3LGU9ZC5nZXRQZXJpbWV0ZXJGdW5jdGlvbihhKTtpZihudWxsIT1lKXt2YXIgZj1udWxsIT10aGlzLndheXBvaW50cyYmMDx0aGlzLndheXBvaW50cy5sZW5ndGg/dGhpcy53YXlwb2ludHNbdGhpcy53YXlwb2ludHMubGVuZ3RoLTFdOm5ldyBteFBvaW50KHRoaXMucHJldmlvdXMuZ2V0Q2VudGVyWCgpLHRoaXMucHJldmlvdXMuZ2V0Q2VudGVyWSgpKSxkPWUoZC5nZXRQZXJpbWV0ZXJCb3VuZHMoYSksdGhpcy5lZGdlU3RhdGUsZiwhMSk7bnVsbCE9ZCYmKGM9ZCl9ZWxzZSBjPW5ldyBteFBvaW50KGEuZ2V0Q2VudGVyWCgpLGEuZ2V0Q2VudGVyWSgpKTtyZXR1cm4gY307Cm14Q29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLmdldFNvdXJjZVBlcmltZXRlclBvaW50PWZ1bmN0aW9uKGEsYixjKXtjPW51bGw7dmFyIGQ9YS52aWV3LGU9ZC5nZXRQZXJpbWV0ZXJGdW5jdGlvbihhKSxmPW5ldyBteFBvaW50KGEuZ2V0Q2VudGVyWCgpLGEuZ2V0Q2VudGVyWSgpKTtpZihudWxsIT1lKXt2YXIgZz1teFV0aWxzLmdldFZhbHVlKGEuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfUk9UQVRJT04sMCksaz1NYXRoLlBJLzE4MCotZzswIT1nJiYoYj1teFV0aWxzLmdldFJvdGF0ZWRQb2ludChuZXcgbXhQb2ludChiLngsYi55KSxNYXRoLmNvcyhrKSxNYXRoLnNpbihrKSxmKSk7YT1lKGQuZ2V0UGVyaW1ldGVyQm91bmRzKGEpLGEsYiwhMSk7bnVsbCE9YSYmKDAhPWcmJihhPW14VXRpbHMuZ2V0Um90YXRlZFBvaW50KG5ldyBteFBvaW50KGEueCxhLnkpLE1hdGguY29zKC1rKSxNYXRoLnNpbigtayksZikpLGM9YSl9ZWxzZSBjPWY7cmV0dXJuIGN9OwpteENvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS51cGRhdGVJY29ucz1mdW5jdGlvbihhLGIsYyl7fTtteENvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS5pc1N0b3BFdmVudD1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YS5nZXRTdGF0ZSgpfTsKbXhDb25uZWN0aW9uSGFuZGxlci5wcm90b3R5cGUuYWRkV2F5cG9pbnRGb3JFdmVudD1mdW5jdGlvbihhKXt2YXIgYj1teFV0aWxzLmNvbnZlcnRQb2ludCh0aGlzLmdyYXBoLmNvbnRhaW5lcixhLmdldFgoKSxhLmdldFkoKSksYz1NYXRoLmFicyhiLngtdGhpcy5maXJzdC54KSxiPU1hdGguYWJzKGIueS10aGlzLmZpcnN0LnkpO2lmKG51bGwhPXRoaXMud2F5cG9pbnRzfHwxPHRoaXMubW91c2VEb3duQ291bnRlciYmKGM+dGhpcy5ncmFwaC50b2xlcmFuY2V8fGI+dGhpcy5ncmFwaC50b2xlcmFuY2UpKW51bGw9PXRoaXMud2F5cG9pbnRzJiYodGhpcy53YXlwb2ludHM9W10pLGM9dGhpcy5ncmFwaC52aWV3LnNjYWxlLGI9bmV3IG14UG9pbnQodGhpcy5ncmFwaC5zbmFwKGEuZ2V0R3JhcGhYKCkvYykqYyx0aGlzLmdyYXBoLnNuYXAoYS5nZXRHcmFwaFkoKS9jKSpjKSx0aGlzLndheXBvaW50cy5wdXNoKGIpfTsKbXhDb25uZWN0aW9uSGFuZGxlci5wcm90b3R5cGUuY2hlY2tDb25zdHJhaW50cz1mdW5jdGlvbihhLGIpe3JldHVybiBudWxsPT1hfHxudWxsPT1ifHxudWxsPT1hLnBvaW50fHxudWxsPT1iLnBvaW50fHwhYS5wb2ludC5lcXVhbHMoYi5wb2ludCl8fGEuZHghPWIuZHh8fGEuZHkhPWIuZHl8fGEucGVyaW1ldGVyIT1iLnBlcmltZXRlcn07Cm14Q29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLm1vdXNlVXA9ZnVuY3Rpb24oYSxiKXtpZighYi5pc0NvbnN1bWVkKCkmJnRoaXMuaXNDb25uZWN0aW5nKCkpe2lmKHRoaXMud2F5cG9pbnRzRW5hYmxlZCYmIXRoaXMuaXNTdG9wRXZlbnQoYikpe3RoaXMuYWRkV2F5cG9pbnRGb3JFdmVudChiKTtiLmNvbnN1bWUoKTtyZXR1cm59dmFyIGM9dGhpcy5zb3VyY2VDb25zdHJhaW50LGQ9dGhpcy5jb25zdHJhaW50SGFuZGxlci5jdXJyZW50Q29uc3RyYWludCxlPW51bGwhPXRoaXMucHJldmlvdXM/dGhpcy5wcmV2aW91cy5jZWxsOm51bGwsZj1udWxsO251bGwhPXRoaXMuY29uc3RyYWludEhhbmRsZXIuY3VycmVudENvbnN0cmFpbnQmJm51bGwhPXRoaXMuY29uc3RyYWludEhhbmRsZXIuY3VycmVudEZvY3VzJiYoZj10aGlzLmNvbnN0cmFpbnRIYW5kbGVyLmN1cnJlbnRGb2N1cy5jZWxsKTtudWxsPT1mJiZudWxsIT10aGlzLmN1cnJlbnRTdGF0ZSYmKGY9dGhpcy5jdXJyZW50U3RhdGUuY2VsbCk7Cm51bGwhPXRoaXMuZXJyb3J8fG51bGwhPWUmJm51bGwhPWYmJmU9PWYmJiF0aGlzLmNoZWNrQ29uc3RyYWludHMoYyxkKT8obnVsbCE9dGhpcy5wcmV2aW91cyYmbnVsbCE9dGhpcy5tYXJrZXIudmFsaWRTdGF0ZSYmdGhpcy5wcmV2aW91cy5jZWxsPT10aGlzLm1hcmtlci52YWxpZFN0YXRlLmNlbGwmJnRoaXMuZ3JhcGguc2VsZWN0Q2VsbEZvckV2ZW50KHRoaXMubWFya2VyLnNvdXJjZSxiLmdldEV2ZW50KCkpLG51bGwhPXRoaXMuZXJyb3ImJjA8dGhpcy5lcnJvci5sZW5ndGgmJnRoaXMuZ3JhcGgudmFsaWRhdGlvbkFsZXJ0KHRoaXMuZXJyb3IpKTp0aGlzLmNvbm5lY3QoZSxmLGIuZ2V0RXZlbnQoKSxiLmdldENlbGwoKSk7dGhpcy5kZXN0cm95SWNvbnMoKTtiLmNvbnN1bWUoKX1udWxsIT10aGlzLmZpcnN0JiZ0aGlzLnJlc2V0KCl9OwpteENvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe251bGwhPXRoaXMuc2hhcGUmJih0aGlzLnNoYXBlLmRlc3Ryb3koKSx0aGlzLnNoYXBlPW51bGwpO251bGwhPXRoaXMuY3Vyc29yJiZudWxsIT10aGlzLmdyYXBoLmNvbnRhaW5lciYmKHRoaXMuZ3JhcGguY29udGFpbmVyLnN0eWxlLmN1cnNvcj0iIik7dGhpcy5kZXN0cm95SWNvbnMoKTt0aGlzLm1hcmtlci5yZXNldCgpO3RoaXMuY29uc3RyYWludEhhbmRsZXIucmVzZXQoKTt0aGlzLnNvdXJjZUNvbnN0cmFpbnQ9dGhpcy5lcnJvcj10aGlzLnByZXZpb3VzPXRoaXMuZWRnZVN0YXRlPXRoaXMuY3VycmVudFBvaW50PXRoaXMub3JpZ2luYWxQb2ludD1udWxsO3RoaXMubW91c2VEb3duQ291bnRlcj0wO3RoaXMuZmlyc3Q9bnVsbDt0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LlJFU0VUKSl9OwpteENvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS5kcmF3UHJldmlldz1mdW5jdGlvbigpe3RoaXMudXBkYXRlUHJldmlldyhudWxsPT10aGlzLmVycm9yKTt0aGlzLnNoYXBlLnJlZHJhdygpfTtteENvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS51cGRhdGVQcmV2aWV3PWZ1bmN0aW9uKGEpe3RoaXMuc2hhcGUuc3Ryb2tld2lkdGg9dGhpcy5nZXRFZGdlV2lkdGgoYSk7dGhpcy5zaGFwZS5zdHJva2U9dGhpcy5nZXRFZGdlQ29sb3IoYSl9O214Q29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLmdldEVkZ2VDb2xvcj1mdW5jdGlvbihhKXtyZXR1cm4gYT9teENvbnN0YW50cy5WQUxJRF9DT0xPUjpteENvbnN0YW50cy5JTlZBTElEX0NPTE9SfTtteENvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS5nZXRFZGdlV2lkdGg9ZnVuY3Rpb24oYSl7cmV0dXJuIGE/MzoxfTsKbXhDb25uZWN0aW9uSGFuZGxlci5wcm90b3R5cGUuY29ubmVjdD1mdW5jdGlvbihhLGIsYyxkKXtpZihudWxsIT1ifHx0aGlzLmlzQ3JlYXRlVGFyZ2V0KGMpfHx0aGlzLmdyYXBoLmFsbG93RGFuZ2xpbmdFZGdlcyl7dmFyIGU9dGhpcy5ncmFwaC5nZXRNb2RlbCgpLGY9ITEsZz1udWxsO2UuYmVnaW5VcGRhdGUoKTt0cnl7aWYobnVsbCE9YSYmbnVsbD09YiYmIXRoaXMuZ3JhcGguaXNJZ25vcmVUZXJtaW5hbEV2ZW50KGMpJiZ0aGlzLmlzQ3JlYXRlVGFyZ2V0KGMpJiYoYj10aGlzLmNyZWF0ZVRhcmdldFZlcnRleChjLGEpLG51bGwhPWIpKXtkPXRoaXMuZ3JhcGguZ2V0RHJvcFRhcmdldChbYl0sYyxkKTtmPSEwO2lmKG51bGwhPWQmJnRoaXMuZ3JhcGguZ2V0TW9kZWwoKS5pc0VkZ2UoZCkpZD10aGlzLmdyYXBoLmdldERlZmF1bHRQYXJlbnQoKTtlbHNle3ZhciBrPXRoaXMuZ3JhcGguZ2V0VmlldygpLmdldFN0YXRlKGQpO2lmKG51bGwhPWspe3ZhciBsPWUuZ2V0R2VvbWV0cnkoYik7CmwueC09ay5vcmlnaW4ueDtsLnktPWsub3JpZ2luLnl9fXRoaXMuZ3JhcGguYWRkQ2VsbChiLGQpfXZhciBtPXRoaXMuZ3JhcGguZ2V0RGVmYXVsdFBhcmVudCgpO251bGwhPWEmJm51bGwhPWImJmUuZ2V0UGFyZW50KGEpPT1lLmdldFBhcmVudChiKSYmZS5nZXRQYXJlbnQoZS5nZXRQYXJlbnQoYSkpIT1lLmdldFJvb3QoKSYmKG09ZS5nZXRQYXJlbnQoYSksbnVsbCE9YS5nZW9tZXRyeSYmYS5nZW9tZXRyeS5yZWxhdGl2ZSYmbnVsbCE9Yi5nZW9tZXRyeSYmYi5nZW9tZXRyeS5yZWxhdGl2ZSYmKG09ZS5nZXRQYXJlbnQobSkpKTt2YXIgbj1rPW51bGw7bnVsbCE9dGhpcy5lZGdlU3RhdGUmJihrPXRoaXMuZWRnZVN0YXRlLmNlbGwudmFsdWUsbj10aGlzLmVkZ2VTdGF0ZS5jZWxsLnN0eWxlKTtnPXRoaXMuaW5zZXJ0RWRnZShtLG51bGwsayxhLGIsbik7aWYobnVsbCE9Zyl7dGhpcy5ncmFwaC5zZXRDb25uZWN0aW9uQ29uc3RyYWludChnLGEsITAsdGhpcy5zb3VyY2VDb25zdHJhaW50KTsKdGhpcy5ncmFwaC5zZXRDb25uZWN0aW9uQ29uc3RyYWludChnLGIsITEsdGhpcy5jb25zdHJhaW50SGFuZGxlci5jdXJyZW50Q29uc3RyYWludCk7bnVsbCE9dGhpcy5lZGdlU3RhdGUmJmUuc2V0R2VvbWV0cnkoZyx0aGlzLmVkZ2VTdGF0ZS5jZWxsLmdlb21ldHJ5KTttPWUuZ2V0UGFyZW50KGEpO2lmKHRoaXMuaXNJbnNlcnRCZWZvcmUoZyxhLGIsYyxkKSl7Zm9yKGw9YTtudWxsIT1sLnBhcmVudCYmbnVsbCE9bC5nZW9tZXRyeSYmbC5nZW9tZXRyeS5yZWxhdGl2ZSYmbC5wYXJlbnQhPWcucGFyZW50OylsPXRoaXMuZ3JhcGgubW9kZWwuZ2V0UGFyZW50KGwpO251bGwhPWwmJm51bGwhPWwucGFyZW50JiZsLnBhcmVudD09Zy5wYXJlbnQmJmUuYWRkKG0sZyxsLnBhcmVudC5nZXRJbmRleChsKSl9dmFyIHA9ZS5nZXRHZW9tZXRyeShnKTtudWxsPT1wJiYocD1uZXcgbXhHZW9tZXRyeSxwLnJlbGF0aXZlPSEwLGUuc2V0R2VvbWV0cnkoZyxwKSk7aWYobnVsbCE9dGhpcy53YXlwb2ludHMmJgowPHRoaXMud2F5cG9pbnRzLmxlbmd0aCl7dmFyIHE9dGhpcy5ncmFwaC52aWV3LnNjYWxlLHI9dGhpcy5ncmFwaC52aWV3LnRyYW5zbGF0ZTtwLnBvaW50cz1bXTtmb3IoYT0wO2E8dGhpcy53YXlwb2ludHMubGVuZ3RoO2ErKyl7dmFyIHQ9dGhpcy53YXlwb2ludHNbYV07cC5wb2ludHMucHVzaChuZXcgbXhQb2ludCh0LngvcS1yLngsdC55L3Etci55KSl9fWlmKG51bGw9PWIpe3ZhciB1PXRoaXMuZ3JhcGgudmlldy50cmFuc2xhdGUscT10aGlzLmdyYXBoLnZpZXcuc2NhbGUsdD1udWxsIT10aGlzLm9yaWdpbmFsUG9pbnQ/bmV3IG14UG9pbnQodGhpcy5vcmlnaW5hbFBvaW50LngvcS11LngsdGhpcy5vcmlnaW5hbFBvaW50LnkvcS11LnkpOm5ldyBteFBvaW50KHRoaXMuY3VycmVudFBvaW50LngvcS11LngsdGhpcy5jdXJyZW50UG9pbnQueS9xLXUueSk7dC54LT10aGlzLmdyYXBoLnBhbkR4L3RoaXMuZ3JhcGgudmlldy5zY2FsZTt0LnktPXRoaXMuZ3JhcGgucGFuRHkvdGhpcy5ncmFwaC52aWV3LnNjYWxlOwpwLnNldFRlcm1pbmFsUG9pbnQodCwhMSl9dGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5DT05ORUNULCJjZWxsIixnLCJ0ZXJtaW5hbCIsYiwiZXZlbnQiLGMsInRhcmdldCIsZCwidGVybWluYWxJbnNlcnRlZCIsZikpfX1jYXRjaCh4KXtteExvZy5zaG93KCksbXhMb2cuZGVidWcoeC5tZXNzYWdlKX1maW5hbGx5e2UuZW5kVXBkYXRlKCl9dGhpcy5zZWxlY3QmJnRoaXMuc2VsZWN0Q2VsbHMoZyxmP2I6bnVsbCl9fTtteENvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS5zZWxlY3RDZWxscz1mdW5jdGlvbihhLGIpe3RoaXMuZ3JhcGguc2V0U2VsZWN0aW9uQ2VsbChhKX07Cm14Q29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLmluc2VydEVkZ2U9ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe2lmKG51bGw9PXRoaXMuZmFjdG9yeU1ldGhvZClyZXR1cm4gdGhpcy5ncmFwaC5pbnNlcnRFZGdlKGEsYixjLGQsZSxmKTtiPXRoaXMuY3JlYXRlRWRnZShjLGQsZSxmKTtyZXR1cm4gdGhpcy5ncmFwaC5hZGRFZGdlKGIsYSxkLGUpfTsKbXhDb25uZWN0aW9uSGFuZGxlci5wcm90b3R5cGUuY3JlYXRlVGFyZ2V0VmVydGV4PWZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPXRoaXMuZ3JhcGguZ2V0Q2VsbEdlb21ldHJ5KGIpO251bGwhPWMmJmMucmVsYXRpdmU7KWI9dGhpcy5ncmFwaC5nZXRNb2RlbCgpLmdldFBhcmVudChiKSxjPXRoaXMuZ3JhcGguZ2V0Q2VsbEdlb21ldHJ5KGIpO3ZhciBkPXRoaXMuZ3JhcGguY2xvbmVDZWxsKGIpLGM9dGhpcy5ncmFwaC5nZXRNb2RlbCgpLmdldEdlb21ldHJ5KGQpO2lmKG51bGwhPWMpe3ZhciBlPXRoaXMuZ3JhcGgudmlldy50cmFuc2xhdGUsZj10aGlzLmdyYXBoLnZpZXcuc2NhbGUsZz1uZXcgbXhQb2ludCh0aGlzLmN1cnJlbnRQb2ludC54L2YtZS54LHRoaXMuY3VycmVudFBvaW50LnkvZi1lLnkpO2MueD1NYXRoLnJvdW5kKGcueC1jLndpZHRoLzItdGhpcy5ncmFwaC5wYW5EeC9mKTtjLnk9TWF0aC5yb3VuZChnLnktYy5oZWlnaHQvMi10aGlzLmdyYXBoLnBhbkR5L2YpO2c9dGhpcy5nZXRBbGlnbm1lbnRUb2xlcmFuY2UoKTsKaWYoMDxnKXt2YXIgaz10aGlzLmdyYXBoLnZpZXcuZ2V0U3RhdGUoYik7aWYobnVsbCE9ayl7dmFyIGw9ay54L2YtZS54LGU9ay55L2YtZS55O01hdGguYWJzKGwtYy54KTw9ZyYmKGMueD1NYXRoLnJvdW5kKGwpKTtNYXRoLmFicyhlLWMueSk8PWcmJihjLnk9TWF0aC5yb3VuZChlKSl9fX1yZXR1cm4gZH07bXhDb25uZWN0aW9uSGFuZGxlci5wcm90b3R5cGUuZ2V0QWxpZ25tZW50VG9sZXJhbmNlPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmdyYXBoLmlzR3JpZEVuYWJsZWQoKT90aGlzLmdyYXBoLmdyaWRTaXplLzI6dGhpcy5ncmFwaC50b2xlcmFuY2V9OwpteENvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS5jcmVhdGVFZGdlPWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPW51bGw7bnVsbCE9dGhpcy5mYWN0b3J5TWV0aG9kJiYoZT10aGlzLmZhY3RvcnlNZXRob2QoYixjLGQpKTtudWxsPT1lJiYoZT1uZXcgbXhDZWxsKGF8fCIiKSxlLnNldEVkZ2UoITApLGUuc2V0U3R5bGUoZCksYT1uZXcgbXhHZW9tZXRyeSxhLnJlbGF0aXZlPSEwLGUuc2V0R2VvbWV0cnkoYSkpO3JldHVybiBlfTsKbXhDb25uZWN0aW9uSGFuZGxlci5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuZ3JhcGgucmVtb3ZlTW91c2VMaXN0ZW5lcih0aGlzKTtudWxsIT10aGlzLnNoYXBlJiYodGhpcy5zaGFwZS5kZXN0cm95KCksdGhpcy5zaGFwZT1udWxsKTtudWxsIT10aGlzLm1hcmtlciYmKHRoaXMubWFya2VyLmRlc3Ryb3koKSx0aGlzLm1hcmtlcj1udWxsKTtudWxsIT10aGlzLmNvbnN0cmFpbnRIYW5kbGVyJiYodGhpcy5jb25zdHJhaW50SGFuZGxlci5kZXN0cm95KCksdGhpcy5jb25zdHJhaW50SGFuZGxlcj1udWxsKTtudWxsIT10aGlzLmNoYW5nZUhhbmRsZXImJih0aGlzLmdyYXBoLmdldE1vZGVsKCkucmVtb3ZlTGlzdGVuZXIodGhpcy5jaGFuZ2VIYW5kbGVyKSx0aGlzLmdyYXBoLmdldFZpZXcoKS5yZW1vdmVMaXN0ZW5lcih0aGlzLmNoYW5nZUhhbmRsZXIpLHRoaXMuY2hhbmdlSGFuZGxlcj1udWxsKTtudWxsIT10aGlzLmRyaWxsSGFuZGxlciYmKHRoaXMuZ3JhcGgucmVtb3ZlTGlzdGVuZXIodGhpcy5kcmlsbEhhbmRsZXIpLAp0aGlzLmdyYXBoLmdldFZpZXcoKS5yZW1vdmVMaXN0ZW5lcih0aGlzLmRyaWxsSGFuZGxlciksdGhpcy5kcmlsbEhhbmRsZXI9bnVsbCk7bnVsbCE9dGhpcy5lc2NhcGVIYW5kbGVyJiYodGhpcy5ncmFwaC5yZW1vdmVMaXN0ZW5lcih0aGlzLmVzY2FwZUhhbmRsZXIpLHRoaXMuZXNjYXBlSGFuZGxlcj1udWxsKX07CmZ1bmN0aW9uIG14Q29uc3RyYWludEhhbmRsZXIoYSl7dGhpcy5ncmFwaD1hO3RoaXMucmVzZXRIYW5kbGVyPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEsYyl7bnVsbCE9dGhpcy5jdXJyZW50Rm9jdXMmJm51bGw9PXRoaXMuZ3JhcGgudmlldy5nZXRTdGF0ZSh0aGlzLmN1cnJlbnRGb2N1cy5jZWxsKT90aGlzLnJlc2V0KCk6dGhpcy5yZWRyYXcoKX0pO3RoaXMuZ3JhcGgubW9kZWwuYWRkTGlzdGVuZXIobXhFdmVudC5DSEFOR0UsdGhpcy5yZXNldEhhbmRsZXIpO3RoaXMuZ3JhcGgudmlldy5hZGRMaXN0ZW5lcihteEV2ZW50LlNDQUxFX0FORF9UUkFOU0xBVEUsdGhpcy5yZXNldEhhbmRsZXIpO3RoaXMuZ3JhcGgudmlldy5hZGRMaXN0ZW5lcihteEV2ZW50LlRSQU5TTEFURSx0aGlzLnJlc2V0SGFuZGxlcik7dGhpcy5ncmFwaC52aWV3LmFkZExpc3RlbmVyKG14RXZlbnQuU0NBTEUsdGhpcy5yZXNldEhhbmRsZXIpO3RoaXMuZ3JhcGguYWRkTGlzdGVuZXIobXhFdmVudC5ST09ULAp0aGlzLnJlc2V0SGFuZGxlcil9bXhDb25zdHJhaW50SGFuZGxlci5wcm90b3R5cGUucG9pbnRJbWFnZT1uZXcgbXhJbWFnZShteENsaWVudC5pbWFnZUJhc2VQYXRoKyIvcG9pbnQuZ2lmIiw1LDUpO214Q29uc3RyYWludEhhbmRsZXIucHJvdG90eXBlLmdyYXBoPW51bGw7bXhDb25zdHJhaW50SGFuZGxlci5wcm90b3R5cGUuZW5hYmxlZD0hMDtteENvbnN0cmFpbnRIYW5kbGVyLnByb3RvdHlwZS5oaWdobGlnaHRDb2xvcj1teENvbnN0YW50cy5ERUZBVUxUX1ZBTElEX0NPTE9SO214Q29uc3RyYWludEhhbmRsZXIucHJvdG90eXBlLmlzRW5hYmxlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVuYWJsZWR9O214Q29uc3RyYWludEhhbmRsZXIucHJvdG90eXBlLnNldEVuYWJsZWQ9ZnVuY3Rpb24oYSl7dGhpcy5lbmFibGVkPWF9OwpteENvbnN0cmFpbnRIYW5kbGVyLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe2lmKG51bGwhPXRoaXMuZm9jdXNJY29ucyl7Zm9yKHZhciBhPTA7YTx0aGlzLmZvY3VzSWNvbnMubGVuZ3RoO2ErKyl0aGlzLmZvY3VzSWNvbnNbYV0uZGVzdHJveSgpO3RoaXMuZm9jdXNJY29ucz1udWxsfW51bGwhPXRoaXMuZm9jdXNIaWdobGlnaHQmJih0aGlzLmZvY3VzSGlnaGxpZ2h0LmRlc3Ryb3koKSx0aGlzLmZvY3VzSGlnaGxpZ2h0PW51bGwpO3RoaXMuZm9jdXNQb2ludHM9dGhpcy5jdXJyZW50Rm9jdXM9dGhpcy5jdXJyZW50UG9pbnQ9dGhpcy5jdXJyZW50Rm9jdXNBcmVhPXRoaXMuY3VycmVudENvbnN0cmFpbnQ9bnVsbH07bXhDb25zdHJhaW50SGFuZGxlci5wcm90b3R5cGUuZ2V0VG9sZXJhbmNlPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmdyYXBoLmdldFRvbGVyYW5jZSgpfTsKbXhDb25zdHJhaW50SGFuZGxlci5wcm90b3R5cGUuZ2V0SW1hZ2VGb3JDb25zdHJhaW50PWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gdGhpcy5wb2ludEltYWdlfTtteENvbnN0cmFpbnRIYW5kbGVyLnByb3RvdHlwZS5pc0V2ZW50SWdub3JlZD1mdW5jdGlvbihhLGIpe3JldHVybiExfTtteENvbnN0cmFpbnRIYW5kbGVyLnByb3RvdHlwZS5pc1N0YXRlSWdub3JlZD1mdW5jdGlvbihhLGIpe3JldHVybiExfTtteENvbnN0cmFpbnRIYW5kbGVyLnByb3RvdHlwZS5kZXN0cm95SWNvbnM9ZnVuY3Rpb24oKXtpZihudWxsIT10aGlzLmZvY3VzSWNvbnMpe2Zvcih2YXIgYT0wO2E8dGhpcy5mb2N1c0ljb25zLmxlbmd0aDthKyspdGhpcy5mb2N1c0ljb25zW2FdLmRlc3Ryb3koKTt0aGlzLmZvY3VzUG9pbnRzPXRoaXMuZm9jdXNJY29ucz1udWxsfX07Cm14Q29uc3RyYWludEhhbmRsZXIucHJvdG90eXBlLmRlc3Ryb3lGb2N1c0hpZ2hsaWdodD1mdW5jdGlvbigpe251bGwhPXRoaXMuZm9jdXNIaWdobGlnaHQmJih0aGlzLmZvY3VzSGlnaGxpZ2h0LmRlc3Ryb3koKSx0aGlzLmZvY3VzSGlnaGxpZ2h0PW51bGwpfTtteENvbnN0cmFpbnRIYW5kbGVyLnByb3RvdHlwZS5pc0tlZXBGb2N1c0V2ZW50PWZ1bmN0aW9uKGEpe3JldHVybiBteEV2ZW50LmlzU2hpZnREb3duKGEuZ2V0RXZlbnQoKSl9OwpteENvbnN0cmFpbnRIYW5kbGVyLnByb3RvdHlwZS5nZXRDZWxsRm9yRXZlbnQ9ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLmdldENlbGwoKTtudWxsIT1jfHxudWxsPT1ifHxhLmdldEdyYXBoWCgpPT1iLngmJmEuZ2V0R3JhcGhZKCk9PWIueXx8KGM9dGhpcy5ncmFwaC5nZXRDZWxsQXQoYi54LGIueSkpO2lmKG51bGwhPWMmJiF0aGlzLmdyYXBoLmlzQ2VsbENvbm5lY3RhYmxlKGMpKXt2YXIgZD10aGlzLmdyYXBoLmdldE1vZGVsKCkuZ2V0UGFyZW50KGMpO3RoaXMuZ3JhcGguZ2V0TW9kZWwoKS5pc1ZlcnRleChkKSYmdGhpcy5ncmFwaC5pc0NlbGxDb25uZWN0YWJsZShkKSYmKGM9ZCl9cmV0dXJuIHRoaXMuZ3JhcGguaXNDZWxsTG9ja2VkKGMpP251bGw6Y307Cm14Q29uc3RyYWludEhhbmRsZXIucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbihhLGIsYyxkKXtpZih0aGlzLmlzRW5hYmxlZCgpJiYhdGhpcy5pc0V2ZW50SWdub3JlZChhKSl7bnVsbD09dGhpcy5tb3VzZWxlYXZlSGFuZGxlciYmbnVsbCE9dGhpcy5ncmFwaC5jb250YWluZXImJih0aGlzLm1vdXNlbGVhdmVIYW5kbGVyPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dGhpcy5yZXNldCgpfSksbXhFdmVudC5hZGRMaXN0ZW5lcih0aGlzLmdyYXBoLmNvbnRhaW5lciwibW91c2VsZWF2ZSIsdGhpcy5yZXNldEhhbmRsZXIpKTt2YXIgZT10aGlzLmdldFRvbGVyYW5jZShhKSxmPW51bGwhPWQ/ZC54OmEuZ2V0R3JhcGhYKCksZz1udWxsIT1kP2QueTphLmdldEdyYXBoWSgpLGY9bmV3IG14UmVjdGFuZ2xlKGYtZSxnLWUsMiplLDIqZSksZT1uZXcgbXhSZWN0YW5nbGUoYS5nZXRHcmFwaFgoKS1lLGEuZ2V0R3JhcGhZKCktZSwyKmUsMiplKSxrPXRoaXMuZ3JhcGgudmlldy5nZXRTdGF0ZSh0aGlzLmdldENlbGxGb3JFdmVudChhLApkKSk7dGhpcy5pc0tlZXBGb2N1c0V2ZW50KGEpfHxudWxsIT10aGlzLmN1cnJlbnRGb2N1c0FyZWEmJm51bGwhPXRoaXMuY3VycmVudEZvY3VzJiZudWxsPT1rJiZ0aGlzLmdyYXBoLmdldE1vZGVsKCkuaXNWZXJ0ZXgodGhpcy5jdXJyZW50Rm9jdXMuY2VsbCkmJm14VXRpbHMuaW50ZXJzZWN0cyh0aGlzLmN1cnJlbnRGb2N1c0FyZWEsZSl8fGs9PXRoaXMuY3VycmVudEZvY3VzfHwodGhpcy5jdXJyZW50Rm9jdXM9dGhpcy5jdXJyZW50Rm9jdXNBcmVhPW51bGwsdGhpcy5zZXRGb2N1cyhhLGssYikpO2E9dGhpcy5jdXJyZW50UG9pbnQ9dGhpcy5jdXJyZW50Q29uc3RyYWludD1udWxsO2lmKG51bGwhPXRoaXMuZm9jdXNJY29ucyYmbnVsbCE9dGhpcy5jb25zdHJhaW50cyYmKG51bGw9PWt8fHRoaXMuY3VycmVudEZvY3VzPT1rKSlmb3IodmFyIGc9ZS5nZXRDZW50ZXJYKCksbD1lLmdldENlbnRlclkoKSxtPTA7bTx0aGlzLmZvY3VzSWNvbnMubGVuZ3RoO20rKyl7dmFyIG49Zy10aGlzLmZvY3VzSWNvbnNbbV0uYm91bmRzLmdldENlbnRlclgoKSwKcD1sLXRoaXMuZm9jdXNJY29uc1ttXS5ib3VuZHMuZ2V0Q2VudGVyWSgpLG49bipuK3AqcDtpZigodGhpcy5pbnRlcnNlY3RzKHRoaXMuZm9jdXNJY29uc1ttXSxlLGIsYyl8fG51bGwhPWQmJnRoaXMuaW50ZXJzZWN0cyh0aGlzLmZvY3VzSWNvbnNbbV0sZixiLGMpKSYmKG51bGw9PWF8fG48YSkpe3RoaXMuY3VycmVudENvbnN0cmFpbnQ9dGhpcy5jb25zdHJhaW50c1ttXTt0aGlzLmN1cnJlbnRQb2ludD10aGlzLmZvY3VzUG9pbnRzW21dO2E9bjtuPXRoaXMuZm9jdXNJY29uc1ttXS5ib3VuZHMuY2xvbmUoKTtuLmdyb3cobXhDb25zdGFudHMuSElHSExJR0hUX1NJWkUrMSk7LS1uLndpZHRoOy0tbi5oZWlnaHQ7aWYobnVsbD09dGhpcy5mb2N1c0hpZ2hsaWdodCl7cD10aGlzLmNyZWF0ZUhpZ2hsaWdodFNoYXBlKCk7cC5kaWFsZWN0PXRoaXMuZ3JhcGguZGlhbGVjdD09bXhDb25zdGFudHMuRElBTEVDVF9TVkc/bXhDb25zdGFudHMuRElBTEVDVF9TVkc6bXhDb25zdGFudHMuRElBTEVDVF9WTUw7CnAucG9pbnRlckV2ZW50cz0hMTtwLmluaXQodGhpcy5ncmFwaC5nZXRWaWV3KCkuZ2V0T3ZlcmxheVBhbmUoKSk7dGhpcy5mb2N1c0hpZ2hsaWdodD1wO3ZhciBxPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPXRoaXMuY3VycmVudEZvY3VzP3RoaXMuY3VycmVudEZvY3VzOmt9KTtteEV2ZW50LnJlZGlyZWN0TW91c2VFdmVudHMocC5ub2RlLHRoaXMuZ3JhcGgscSl9dGhpcy5mb2N1c0hpZ2hsaWdodC5ib3VuZHM9bjt0aGlzLmZvY3VzSGlnaGxpZ2h0LnJlZHJhdygpfX1udWxsPT10aGlzLmN1cnJlbnRDb25zdHJhaW50JiZ0aGlzLmRlc3Ryb3lGb2N1c0hpZ2hsaWdodCgpfWVsc2UgdGhpcy5jdXJyZW50UG9pbnQ9dGhpcy5jdXJyZW50Rm9jdXM9dGhpcy5jdXJyZW50Q29uc3RyYWludD1udWxsfTsKbXhDb25zdHJhaW50SGFuZGxlci5wcm90b3R5cGUucmVkcmF3PWZ1bmN0aW9uKCl7aWYobnVsbCE9dGhpcy5jdXJyZW50Rm9jdXMmJm51bGwhPXRoaXMuY29uc3RyYWludHMmJm51bGwhPXRoaXMuZm9jdXNJY29ucyl7dmFyIGE9dGhpcy5ncmFwaC52aWV3LmdldFN0YXRlKHRoaXMuY3VycmVudEZvY3VzLmNlbGwpO3RoaXMuY3VycmVudEZvY3VzPWE7dGhpcy5jdXJyZW50Rm9jdXNBcmVhPW5ldyBteFJlY3RhbmdsZShhLngsYS55LGEud2lkdGgsYS5oZWlnaHQpO2Zvcih2YXIgYj0wO2I8dGhpcy5jb25zdHJhaW50cy5sZW5ndGg7YisrKXt2YXIgYz10aGlzLmdyYXBoLmdldENvbm5lY3Rpb25Qb2ludChhLHRoaXMuY29uc3RyYWludHNbYl0pLGQ9dGhpcy5nZXRJbWFnZUZvckNvbnN0cmFpbnQoYSx0aGlzLmNvbnN0cmFpbnRzW2JdLGMpLGQ9bmV3IG14UmVjdGFuZ2xlKE1hdGgucm91bmQoYy54LWQud2lkdGgvMiksTWF0aC5yb3VuZChjLnktZC5oZWlnaHQvMiksZC53aWR0aCxkLmhlaWdodCk7CnRoaXMuZm9jdXNJY29uc1tiXS5ib3VuZHM9ZDt0aGlzLmZvY3VzSWNvbnNbYl0ucmVkcmF3KCk7dGhpcy5jdXJyZW50Rm9jdXNBcmVhLmFkZCh0aGlzLmZvY3VzSWNvbnNbYl0uYm91bmRzKTt0aGlzLmZvY3VzUG9pbnRzW2JdPWN9fX07Cm14Q29uc3RyYWludEhhbmRsZXIucHJvdG90eXBlLnNldEZvY3VzPWZ1bmN0aW9uKGEsYixjKXt0aGlzLmNvbnN0cmFpbnRzPW51bGwhPWImJiF0aGlzLmlzU3RhdGVJZ25vcmVkKGIsYykmJnRoaXMuZ3JhcGguaXNDZWxsQ29ubmVjdGFibGUoYi5jZWxsKT90aGlzLmlzRW5hYmxlZCgpP3RoaXMuZ3JhcGguZ2V0QWxsQ29ubmVjdGlvbkNvbnN0cmFpbnRzKGIsYyl8fFtdOltdOm51bGw7aWYobnVsbCE9dGhpcy5jb25zdHJhaW50cyl7dGhpcy5jdXJyZW50Rm9jdXM9Yjt0aGlzLmN1cnJlbnRGb2N1c0FyZWE9bmV3IG14UmVjdGFuZ2xlKGIueCxiLnksYi53aWR0aCxiLmhlaWdodCk7aWYobnVsbCE9dGhpcy5mb2N1c0ljb25zKXtmb3IoYz0wO2M8dGhpcy5mb2N1c0ljb25zLmxlbmd0aDtjKyspdGhpcy5mb2N1c0ljb25zW2NdLmRlc3Ryb3koKTt0aGlzLmZvY3VzUG9pbnRzPXRoaXMuZm9jdXNJY29ucz1udWxsfXRoaXMuZm9jdXNQb2ludHM9W107dGhpcy5mb2N1c0ljb25zPVtdO2ZvcihjPQowO2M8dGhpcy5jb25zdHJhaW50cy5sZW5ndGg7YysrKXt2YXIgZD10aGlzLmdyYXBoLmdldENvbm5lY3Rpb25Qb2ludChiLHRoaXMuY29uc3RyYWludHNbY10pLGU9dGhpcy5nZXRJbWFnZUZvckNvbnN0cmFpbnQoYix0aGlzLmNvbnN0cmFpbnRzW2NdLGQpLGY9ZS5zcmMsZT1uZXcgbXhSZWN0YW5nbGUoTWF0aC5yb3VuZChkLngtZS53aWR0aC8yKSxNYXRoLnJvdW5kKGQueS1lLmhlaWdodC8yKSxlLndpZHRoLGUuaGVpZ2h0KSxmPW5ldyBteEltYWdlU2hhcGUoZSxmKTtmLmRpYWxlY3Q9dGhpcy5ncmFwaC5kaWFsZWN0IT1teENvbnN0YW50cy5ESUFMRUNUX1NWRz9teENvbnN0YW50cy5ESUFMRUNUX01JWEVESFRNTDpteENvbnN0YW50cy5ESUFMRUNUX1NWRztmLnByZXNlcnZlSW1hZ2VBc3BlY3Q9ITE7Zi5pbml0KHRoaXMuZ3JhcGguZ2V0VmlldygpLmdldERlY29yYXRvclBhbmUoKSk7KG14Q2xpZW50LklTX1FVSVJLU3x8OD09ZG9jdW1lbnQuZG9jdW1lbnRNb2RlKSYmbXhFdmVudC5hZGRMaXN0ZW5lcihmLm5vZGUsCiJkcmFnc3RhcnQiLGZ1bmN0aW9uKGEpe214RXZlbnQuY29uc3VtZShhKTtyZXR1cm4hMX0pO251bGwhPWYubm9kZS5wcmV2aW91c1NpYmxpbmcmJmYubm9kZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShmLm5vZGUsZi5ub2RlLnBhcmVudE5vZGUuZmlyc3RDaGlsZCk7ZT1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3JldHVybiBudWxsIT10aGlzLmN1cnJlbnRGb2N1cz90aGlzLmN1cnJlbnRGb2N1czpifSk7Zi5yZWRyYXcoKTtteEV2ZW50LnJlZGlyZWN0TW91c2VFdmVudHMoZi5ub2RlLHRoaXMuZ3JhcGgsZSk7dGhpcy5jdXJyZW50Rm9jdXNBcmVhLmFkZChmLmJvdW5kcyk7dGhpcy5mb2N1c0ljb25zLnB1c2goZik7dGhpcy5mb2N1c1BvaW50cy5wdXNoKGQpfXRoaXMuY3VycmVudEZvY3VzQXJlYS5ncm93KHRoaXMuZ2V0VG9sZXJhbmNlKGEpKX1lbHNlIHRoaXMuZGVzdHJveUljb25zKCksdGhpcy5kZXN0cm95Rm9jdXNIaWdobGlnaHQoKX07Cm14Q29uc3RyYWludEhhbmRsZXIucHJvdG90eXBlLmNyZWF0ZUhpZ2hsaWdodFNoYXBlPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IG14UmVjdGFuZ2xlU2hhcGUobnVsbCx0aGlzLmhpZ2hsaWdodENvbG9yLHRoaXMuaGlnaGxpZ2h0Q29sb3IsbXhDb25zdGFudHMuSElHSExJR0hUX1NUUk9LRVdJRFRIKTthLm9wYWNpdHk9bXhDb25zdGFudHMuSElHSExJR0hUX09QQUNJVFk7cmV0dXJuIGF9O214Q29uc3RyYWludEhhbmRsZXIucHJvdG90eXBlLmludGVyc2VjdHM9ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuIG14VXRpbHMuaW50ZXJzZWN0cyhhLmJvdW5kcyxiKX07Cm14Q29uc3RyYWludEhhbmRsZXIucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLnJlc2V0KCk7bnVsbCE9dGhpcy5yZXNldEhhbmRsZXImJih0aGlzLmdyYXBoLm1vZGVsLnJlbW92ZUxpc3RlbmVyKHRoaXMucmVzZXRIYW5kbGVyKSx0aGlzLmdyYXBoLnZpZXcucmVtb3ZlTGlzdGVuZXIodGhpcy5yZXNldEhhbmRsZXIpLHRoaXMuZ3JhcGgucmVtb3ZlTGlzdGVuZXIodGhpcy5yZXNldEhhbmRsZXIpLHRoaXMucmVzZXRIYW5kbGVyPW51bGwpO251bGwhPXRoaXMubW91c2VsZWF2ZUhhbmRsZXImJm51bGwhPXRoaXMuZ3JhcGguY29udGFpbmVyJiYobXhFdmVudC5yZW1vdmVMaXN0ZW5lcih0aGlzLmdyYXBoLmNvbnRhaW5lciwibW91c2VsZWF2ZSIsdGhpcy5tb3VzZWxlYXZlSGFuZGxlciksdGhpcy5tb3VzZWxlYXZlSGFuZGxlcj1udWxsKX07CmZ1bmN0aW9uIG14UnViYmVyYmFuZChhKXtudWxsIT1hJiYodGhpcy5ncmFwaD1hLHRoaXMuZ3JhcGguYWRkTW91c2VMaXN0ZW5lcih0aGlzKSx0aGlzLmZvcmNlUnViYmVyYmFuZEhhbmRsZXI9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSxjKXt2YXIgYj1jLmdldFByb3BlcnR5KCJldmVudE5hbWUiKSxlPWMuZ2V0UHJvcGVydHkoImV2ZW50Iik7aWYoYj09bXhFdmVudC5NT1VTRV9ET1dOJiZ0aGlzLmlzRm9yY2VSdWJiZXJiYW5kRXZlbnQoZSkpe3ZhciBiPW14VXRpbHMuZ2V0T2Zmc2V0KHRoaXMuZ3JhcGguY29udGFpbmVyKSxmPW14VXRpbHMuZ2V0U2Nyb2xsT3JpZ2luKHRoaXMuZ3JhcGguY29udGFpbmVyKTtmLngtPWIueDtmLnktPWIueTt0aGlzLnN0YXJ0KGUuZ2V0WCgpK2YueCxlLmdldFkoKStmLnkpO2UuY29uc3VtZSghMSl9fSksdGhpcy5ncmFwaC5hZGRMaXN0ZW5lcihteEV2ZW50LkZJUkVfTU9VU0VfRVZFTlQsdGhpcy5mb3JjZVJ1YmJlcmJhbmRIYW5kbGVyKSwKdGhpcy5wYW5IYW5kbGVyPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dGhpcy5yZXBhaW50KCl9KSx0aGlzLmdyYXBoLmFkZExpc3RlbmVyKG14RXZlbnQuUEFOLHRoaXMucGFuSGFuZGxlciksdGhpcy5nZXN0dXJlSGFuZGxlcj1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhLGMpe251bGwhPXRoaXMuZmlyc3QmJnRoaXMucmVzZXQoKX0pLHRoaXMuZ3JhcGguYWRkTGlzdGVuZXIobXhFdmVudC5HRVNUVVJFLHRoaXMuZ2VzdHVyZUhhbmRsZXIpLG14Q2xpZW50LklTX0lFJiZteEV2ZW50LmFkZExpc3RlbmVyKHdpbmRvdywidW5sb2FkIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMuZGVzdHJveSgpfSkpKX1teFJ1YmJlcmJhbmQucHJvdG90eXBlLmRlZmF1bHRPcGFjaXR5PTIwO214UnViYmVyYmFuZC5wcm90b3R5cGUuZW5hYmxlZD0hMDtteFJ1YmJlcmJhbmQucHJvdG90eXBlLmRpdj1udWxsO214UnViYmVyYmFuZC5wcm90b3R5cGUuc2hhcmVkRGl2PW51bGw7Cm14UnViYmVyYmFuZC5wcm90b3R5cGUuY3VycmVudFg9MDtteFJ1YmJlcmJhbmQucHJvdG90eXBlLmN1cnJlbnRZPTA7bXhSdWJiZXJiYW5kLnByb3RvdHlwZS5mYWRlT3V0PSExO214UnViYmVyYmFuZC5wcm90b3R5cGUuaXNFbmFibGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZW5hYmxlZH07bXhSdWJiZXJiYW5kLnByb3RvdHlwZS5zZXRFbmFibGVkPWZ1bmN0aW9uKGEpe3RoaXMuZW5hYmxlZD1hfTtteFJ1YmJlcmJhbmQucHJvdG90eXBlLmlzRm9yY2VSdWJiZXJiYW5kRXZlbnQ9ZnVuY3Rpb24oYSl7cmV0dXJuIG14RXZlbnQuaXNBbHREb3duKGEuZ2V0RXZlbnQoKSl9OwpteFJ1YmJlcmJhbmQucHJvdG90eXBlLm1vdXNlRG93bj1mdW5jdGlvbihhLGIpe2lmKCFiLmlzQ29uc3VtZWQoKSYmdGhpcy5pc0VuYWJsZWQoKSYmdGhpcy5ncmFwaC5pc0VuYWJsZWQoKSYmbnVsbD09Yi5nZXRTdGF0ZSgpJiYhbXhFdmVudC5pc011bHRpVG91Y2hFdmVudChiLmdldEV2ZW50KCkpKXt2YXIgYz1teFV0aWxzLmdldE9mZnNldCh0aGlzLmdyYXBoLmNvbnRhaW5lciksZD1teFV0aWxzLmdldFNjcm9sbE9yaWdpbih0aGlzLmdyYXBoLmNvbnRhaW5lcik7ZC54LT1jLng7ZC55LT1jLnk7dGhpcy5zdGFydChiLmdldFgoKStkLngsYi5nZXRZKCkrZC55KTtiLmNvbnN1bWUoITEpfX07Cm14UnViYmVyYmFuZC5wcm90b3R5cGUuc3RhcnQ9ZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKGEpe2E9bmV3IG14TW91c2VFdmVudChhKTt2YXIgYj1teFV0aWxzLmNvbnZlcnRQb2ludChkLGEuZ2V0WCgpLGEuZ2V0WSgpKTthLmdyYXBoWD1iLng7YS5ncmFwaFk9Yi55O3JldHVybiBhfXRoaXMuZmlyc3Q9bmV3IG14UG9pbnQoYSxiKTt2YXIgZD10aGlzLmdyYXBoLmNvbnRhaW5lcjt0aGlzLmRyYWdIYW5kbGVyPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3RoaXMubW91c2VNb3ZlKHRoaXMuZ3JhcGgsYyhhKSl9KTt0aGlzLmRyb3BIYW5kbGVyPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3RoaXMubW91c2VVcCh0aGlzLmdyYXBoLGMoYSkpfSk7bXhDbGllbnQuSVNfRkYmJm14RXZlbnQuYWRkR2VzdHVyZUxpc3RlbmVycyhkb2N1bWVudCxudWxsLHRoaXMuZHJhZ0hhbmRsZXIsdGhpcy5kcm9wSGFuZGxlcil9OwpteFJ1YmJlcmJhbmQucHJvdG90eXBlLm1vdXNlTW92ZT1mdW5jdGlvbihhLGIpe2lmKCFiLmlzQ29uc3VtZWQoKSYmbnVsbCE9dGhpcy5maXJzdCl7dmFyIGM9bXhVdGlscy5nZXRTY3JvbGxPcmlnaW4odGhpcy5ncmFwaC5jb250YWluZXIpLGQ9bXhVdGlscy5nZXRPZmZzZXQodGhpcy5ncmFwaC5jb250YWluZXIpO2MueC09ZC54O2MueS09ZC55O3ZhciBkPWIuZ2V0WCgpK2MueCxjPWIuZ2V0WSgpK2MueSxlPXRoaXMuZmlyc3QueC1kLGY9dGhpcy5maXJzdC55LWMsZz10aGlzLmdyYXBoLnRvbGVyYW5jZTtpZihudWxsIT10aGlzLmRpdnx8TWF0aC5hYnMoZSk+Z3x8TWF0aC5hYnMoZik+ZyludWxsPT10aGlzLmRpdiYmKHRoaXMuZGl2PXRoaXMuY3JlYXRlU2hhcGUoKSksbXhVdGlscy5jbGVhclNlbGVjdGlvbigpLHRoaXMudXBkYXRlKGQsYyksYi5jb25zdW1lKCl9fTsKbXhSdWJiZXJiYW5kLnByb3RvdHlwZS5jcmVhdGVTaGFwZT1mdW5jdGlvbigpe251bGw9PXRoaXMuc2hhcmVkRGl2JiYodGhpcy5zaGFyZWREaXY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IiksdGhpcy5zaGFyZWREaXYuY2xhc3NOYW1lPSJteFJ1YmJlcmJhbmQiLG14VXRpbHMuc2V0T3BhY2l0eSh0aGlzLnNoYXJlZERpdix0aGlzLmRlZmF1bHRPcGFjaXR5KSk7dGhpcy5ncmFwaC5jb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5zaGFyZWREaXYpO3ZhciBhPXRoaXMuc2hhcmVkRGl2O214Q2xpZW50LklTX1NWRyYmKCFteENsaWVudC5JU19JRXx8MTA8PWRvY3VtZW50LmRvY3VtZW50TW9kZSkmJnRoaXMuZmFkZU91dCYmKHRoaXMuc2hhcmVkRGl2PW51bGwpO3JldHVybiBhfTtteFJ1YmJlcmJhbmQucHJvdG90eXBlLmlzQWN0aXZlPWZ1bmN0aW9uKGEsYil7cmV0dXJuIG51bGwhPXRoaXMuZGl2JiYibm9uZSIhPXRoaXMuZGl2LnN0eWxlLmRpc3BsYXl9OwpteFJ1YmJlcmJhbmQucHJvdG90eXBlLm1vdXNlVXA9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmlzQWN0aXZlKCk7dGhpcy5yZXNldCgpO2MmJih0aGlzLmV4ZWN1dGUoYi5nZXRFdmVudCgpKSxiLmNvbnN1bWUoKSl9O214UnViYmVyYmFuZC5wcm90b3R5cGUuZXhlY3V0ZT1mdW5jdGlvbihhKXt2YXIgYj1uZXcgbXhSZWN0YW5nbGUodGhpcy54LHRoaXMueSx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KTt0aGlzLmdyYXBoLnNlbGVjdFJlZ2lvbihiLGEpfTsKbXhSdWJiZXJiYW5kLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe2lmKG51bGwhPXRoaXMuZGl2KWlmKG14Q2xpZW50LklTX1NWRyYmKCFteENsaWVudC5JU19JRXx8MTA8PWRvY3VtZW50LmRvY3VtZW50TW9kZSkmJnRoaXMuZmFkZU91dCl7dmFyIGE9dGhpcy5kaXY7bXhVdGlscy5zZXRQcmVmaXhlZFN0eWxlKGEuc3R5bGUsInRyYW5zaXRpb24iLCJhbGwgMC4ycyBsaW5lYXIiKTthLnN0eWxlLnBvaW50ZXJFdmVudHM9Im5vbmUiO2Euc3R5bGUub3BhY2l0eT0wO3dpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGEpfSwyMDApfWVsc2UgdGhpcy5kaXYucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmRpdik7bXhFdmVudC5yZW1vdmVHZXN0dXJlTGlzdGVuZXJzKGRvY3VtZW50LG51bGwsdGhpcy5kcmFnSGFuZGxlcix0aGlzLmRyb3BIYW5kbGVyKTt0aGlzLmRyb3BIYW5kbGVyPXRoaXMuZHJhZ0hhbmRsZXI9bnVsbDt0aGlzLmN1cnJlbnRZPQp0aGlzLmN1cnJlbnRYPTA7dGhpcy5kaXY9dGhpcy5maXJzdD1udWxsfTtteFJ1YmJlcmJhbmQucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbihhLGIpe3RoaXMuY3VycmVudFg9YTt0aGlzLmN1cnJlbnRZPWI7dGhpcy5yZXBhaW50KCl9OwpteFJ1YmJlcmJhbmQucHJvdG90eXBlLnJlcGFpbnQ9ZnVuY3Rpb24oKXtpZihudWxsIT10aGlzLmRpdil7dmFyIGE9dGhpcy5jdXJyZW50WC10aGlzLmdyYXBoLnBhbkR4LGI9dGhpcy5jdXJyZW50WS10aGlzLmdyYXBoLnBhbkR5O3RoaXMueD1NYXRoLm1pbih0aGlzLmZpcnN0LngsYSk7dGhpcy55PU1hdGgubWluKHRoaXMuZmlyc3QueSxiKTt0aGlzLndpZHRoPU1hdGgubWF4KHRoaXMuZmlyc3QueCxhKS10aGlzLng7dGhpcy5oZWlnaHQ9TWF0aC5tYXgodGhpcy5maXJzdC55LGIpLXRoaXMueTthPW14Q2xpZW50LklTX1ZNTD90aGlzLmdyYXBoLnBhbkR5OjA7dGhpcy5kaXYuc3R5bGUubGVmdD10aGlzLngrKG14Q2xpZW50LklTX1ZNTD90aGlzLmdyYXBoLnBhbkR4OjApKyJweCI7dGhpcy5kaXYuc3R5bGUudG9wPXRoaXMueSthKyJweCI7dGhpcy5kaXYuc3R5bGUud2lkdGg9TWF0aC5tYXgoMSx0aGlzLndpZHRoKSsicHgiO3RoaXMuZGl2LnN0eWxlLmhlaWdodD1NYXRoLm1heCgxLAp0aGlzLmhlaWdodCkrInB4In19O214UnViYmVyYmFuZC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuZGVzdHJveWVkfHwodGhpcy5kZXN0cm95ZWQ9ITAsdGhpcy5ncmFwaC5yZW1vdmVNb3VzZUxpc3RlbmVyKHRoaXMpLHRoaXMuZ3JhcGgucmVtb3ZlTGlzdGVuZXIodGhpcy5mb3JjZVJ1YmJlcmJhbmRIYW5kbGVyKSx0aGlzLmdyYXBoLnJlbW92ZUxpc3RlbmVyKHRoaXMucGFuSGFuZGxlciksdGhpcy5yZXNldCgpLG51bGwhPXRoaXMuc2hhcmVkRGl2JiYodGhpcy5zaGFyZWREaXY9bnVsbCkpfTtmdW5jdGlvbiBteEhhbmRsZShhLGIsYyxkKXt0aGlzLmdyYXBoPWEudmlldy5ncmFwaDt0aGlzLnN0YXRlPWE7dGhpcy5jdXJzb3I9bnVsbCE9Yj9iOnRoaXMuY3Vyc29yO3RoaXMuaW1hZ2U9bnVsbCE9Yz9jOnRoaXMuaW1hZ2U7dGhpcy5zaGFwZT1udWxsIT1kP2Q6bnVsbDt0aGlzLmluaXQoKX1teEhhbmRsZS5wcm90b3R5cGUuY3Vyc29yPSJkZWZhdWx0IjsKbXhIYW5kbGUucHJvdG90eXBlLmltYWdlPW51bGw7bXhIYW5kbGUucHJvdG90eXBlLmlnbm9yZUdyaWQ9ITE7bXhIYW5kbGUucHJvdG90eXBlLmdldFBvc2l0aW9uPWZ1bmN0aW9uKGEpe307bXhIYW5kbGUucHJvdG90eXBlLnNldFBvc2l0aW9uPWZ1bmN0aW9uKGEsYixjKXt9O214SGFuZGxlLnByb3RvdHlwZS5leGVjdXRlPWZ1bmN0aW9uKGEpe307bXhIYW5kbGUucHJvdG90eXBlLmNvcHlTdHlsZT1mdW5jdGlvbihhKXt0aGlzLmdyYXBoLnNldENlbGxTdHlsZXMoYSx0aGlzLnN0YXRlLnN0eWxlW2FdLFt0aGlzLnN0YXRlLmNlbGxdKX07Cm14SGFuZGxlLnByb3RvdHlwZS5wcm9jZXNzRXZlbnQ9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5ncmFwaC52aWV3LnNjYWxlLGM9dGhpcy5ncmFwaC52aWV3LnRyYW5zbGF0ZSxjPW5ldyBteFBvaW50KGEuZ2V0R3JhcGhYKCkvYi1jLngsYS5nZXRHcmFwaFkoKS9iLWMueSk7bnVsbCE9dGhpcy5zaGFwZSYmbnVsbCE9dGhpcy5zaGFwZS5ib3VuZHMmJihjLngtPXRoaXMuc2hhcGUuYm91bmRzLndpZHRoL2IvNCxjLnktPXRoaXMuc2hhcGUuYm91bmRzLmhlaWdodC9iLzQpO3ZhciBiPS1teFV0aWxzLnRvUmFkaWFucyh0aGlzLmdldFJvdGF0aW9uKCkpLGQ9LW14VXRpbHMudG9SYWRpYW5zKHRoaXMuZ2V0VG90YWxSb3RhdGlvbigpKS1iLGM9dGhpcy5mbGlwUG9pbnQodGhpcy5yb3RhdGVQb2ludCh0aGlzLnNuYXBQb2ludCh0aGlzLnJvdGF0ZVBvaW50KGMsYiksdGhpcy5pZ25vcmVHcmlkfHwhdGhpcy5ncmFwaC5pc0dyaWRFbmFibGVkRXZlbnQoYS5nZXRFdmVudCgpKSksZCkpO3RoaXMuc2V0UG9zaXRpb24odGhpcy5zdGF0ZS5nZXRQYWludEJvdW5kcygpLApjLGEpO3RoaXMucmVkcmF3KCl9O214SGFuZGxlLnByb3RvdHlwZS5wb3NpdGlvbkNoYW5nZWQ9ZnVuY3Rpb24oKXtudWxsIT10aGlzLnN0YXRlLnRleHQmJnRoaXMuc3RhdGUudGV4dC5hcHBseSh0aGlzLnN0YXRlKTtudWxsIT10aGlzLnN0YXRlLnNoYXBlJiZ0aGlzLnN0YXRlLnNoYXBlLmFwcGx5KHRoaXMuc3RhdGUpO3RoaXMuZ3JhcGguY2VsbFJlbmRlcmVyLnJlZHJhdyh0aGlzLnN0YXRlLCEwKX07bXhIYW5kbGUucHJvdG90eXBlLmdldFJvdGF0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPXRoaXMuc3RhdGUuc2hhcGU/dGhpcy5zdGF0ZS5zaGFwZS5nZXRSb3RhdGlvbigpOjB9O214SGFuZGxlLnByb3RvdHlwZS5nZXRUb3RhbFJvdGF0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPXRoaXMuc3RhdGUuc2hhcGU/dGhpcy5zdGF0ZS5zaGFwZS5nZXRTaGFwZVJvdGF0aW9uKCk6MH07Cm14SGFuZGxlLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5pc0h0bWxSZXF1aXJlZCgpO251bGwhPXRoaXMuaW1hZ2U/KHRoaXMuc2hhcGU9bmV3IG14SW1hZ2VTaGFwZShuZXcgbXhSZWN0YW5nbGUoMCwwLHRoaXMuaW1hZ2Uud2lkdGgsdGhpcy5pbWFnZS5oZWlnaHQpLHRoaXMuaW1hZ2Uuc3JjKSx0aGlzLnNoYXBlLnByZXNlcnZlSW1hZ2VBc3BlY3Q9ITEpOm51bGw9PXRoaXMuc2hhcGUmJih0aGlzLnNoYXBlPXRoaXMuY3JlYXRlU2hhcGUoYSkpO3RoaXMuaW5pdFNoYXBlKGEpfTtteEhhbmRsZS5wcm90b3R5cGUuY3JlYXRlU2hhcGU9ZnVuY3Rpb24oYSl7YT1uZXcgbXhSZWN0YW5nbGUoMCwwLG14Q29uc3RhbnRzLkhBTkRMRV9TSVpFLG14Q29uc3RhbnRzLkhBTkRMRV9TSVpFKTtyZXR1cm4gbmV3IG14UmVjdGFuZ2xlU2hhcGUoYSxteENvbnN0YW50cy5IQU5ETEVfRklMTENPTE9SLG14Q29uc3RhbnRzLkhBTkRMRV9TVFJPS0VDT0xPUil9OwpteEhhbmRsZS5wcm90b3R5cGUuaW5pdFNoYXBlPWZ1bmN0aW9uKGEpe2EmJnRoaXMuc2hhcGUuaXNIdG1sQWxsb3dlZCgpPyh0aGlzLnNoYXBlLmRpYWxlY3Q9bXhDb25zdGFudHMuRElBTEVDVF9TVFJJQ1RIVE1MLHRoaXMuc2hhcGUuaW5pdCh0aGlzLmdyYXBoLmNvbnRhaW5lcikpOih0aGlzLnNoYXBlLmRpYWxlY3Q9dGhpcy5ncmFwaC5kaWFsZWN0IT1teENvbnN0YW50cy5ESUFMRUNUX1NWRz9teENvbnN0YW50cy5ESUFMRUNUX01JWEVESFRNTDpteENvbnN0YW50cy5ESUFMRUNUX1NWRyxudWxsIT10aGlzLmN1cnNvciYmdGhpcy5zaGFwZS5pbml0KHRoaXMuZ3JhcGguZ2V0VmlldygpLmdldE92ZXJsYXlQYW5lKCkpKTtteEV2ZW50LnJlZGlyZWN0TW91c2VFdmVudHModGhpcy5zaGFwZS5ub2RlLHRoaXMuZ3JhcGgsdGhpcy5zdGF0ZSk7dGhpcy5zaGFwZS5ub2RlLnN0eWxlLmN1cnNvcj10aGlzLmN1cnNvcn07Cm14SGFuZGxlLnByb3RvdHlwZS5yZWRyYXc9ZnVuY3Rpb24oKXtpZihudWxsIT10aGlzLnNoYXBlJiZudWxsIT10aGlzLnN0YXRlLnNoYXBlKXt2YXIgYT10aGlzLmdldFBvc2l0aW9uKHRoaXMuc3RhdGUuZ2V0UGFpbnRCb3VuZHMoKSk7aWYobnVsbCE9YSl7dmFyIGI9bXhVdGlscy50b1JhZGlhbnModGhpcy5nZXRUb3RhbFJvdGF0aW9uKCkpLGE9dGhpcy5yb3RhdGVQb2ludCh0aGlzLmZsaXBQb2ludChhKSxiKSxiPXRoaXMuZ3JhcGgudmlldy5zY2FsZSxjPXRoaXMuZ3JhcGgudmlldy50cmFuc2xhdGU7dGhpcy5zaGFwZS5ib3VuZHMueD1NYXRoLmZsb29yKChhLngrYy54KSpiLXRoaXMuc2hhcGUuYm91bmRzLndpZHRoLzIpO3RoaXMuc2hhcGUuYm91bmRzLnk9TWF0aC5mbG9vcigoYS55K2MueSkqYi10aGlzLnNoYXBlLmJvdW5kcy5oZWlnaHQvMik7dGhpcy5zaGFwZS5yZWRyYXcoKX19fTsKbXhIYW5kbGUucHJvdG90eXBlLmlzSHRtbFJlcXVpcmVkPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPXRoaXMuc3RhdGUudGV4dCYmdGhpcy5zdGF0ZS50ZXh0Lm5vZGUucGFyZW50Tm9kZT09dGhpcy5ncmFwaC5jb250YWluZXJ9O214SGFuZGxlLnByb3RvdHlwZS5yb3RhdGVQb2ludD1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuc3RhdGUuZ2V0Q2VsbEJvdW5kcygpLGM9bmV3IG14UG9pbnQoYy5nZXRDZW50ZXJYKCksYy5nZXRDZW50ZXJZKCkpO3JldHVybiBteFV0aWxzLmdldFJvdGF0ZWRQb2ludChhLE1hdGguY29zKGIpLE1hdGguc2luKGIpLGMpfTsKbXhIYW5kbGUucHJvdG90eXBlLmZsaXBQb2ludD1mdW5jdGlvbihhKXtpZihudWxsIT10aGlzLnN0YXRlLnNoYXBlKXt2YXIgYj10aGlzLnN0YXRlLmdldENlbGxCb3VuZHMoKTt0aGlzLnN0YXRlLnNoYXBlLmZsaXBIJiYoYS54PTIqYi54K2Iud2lkdGgtYS54KTt0aGlzLnN0YXRlLnNoYXBlLmZsaXBWJiYoYS55PTIqYi55K2IuaGVpZ2h0LWEueSl9cmV0dXJuIGF9O214SGFuZGxlLnByb3RvdHlwZS5zbmFwUG9pbnQ9ZnVuY3Rpb24oYSxiKXtifHwoYS54PXRoaXMuZ3JhcGguc25hcChhLngpLGEueT10aGlzLmdyYXBoLnNuYXAoYS55KSk7cmV0dXJuIGF9O214SGFuZGxlLnByb3RvdHlwZS5zZXRWaXNpYmxlPWZ1bmN0aW9uKGEpe251bGwhPXRoaXMuc2hhcGUmJm51bGwhPXRoaXMuc2hhcGUubm9kZSYmKHRoaXMuc2hhcGUubm9kZS5zdHlsZS5kaXNwbGF5PWE/IiI6Im5vbmUiKX07Cm14SGFuZGxlLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3RoaXMuc2V0VmlzaWJsZSghMCk7dGhpcy5zdGF0ZS5zdHlsZT10aGlzLmdyYXBoLmdldENlbGxTdHlsZSh0aGlzLnN0YXRlLmNlbGwpO3RoaXMucG9zaXRpb25DaGFuZ2VkKCl9O214SGFuZGxlLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7bnVsbCE9dGhpcy5zaGFwZSYmKHRoaXMuc2hhcGUuZGVzdHJveSgpLHRoaXMuc2hhcGU9bnVsbCl9OwpmdW5jdGlvbiBteFZlcnRleEhhbmRsZXIoYSl7bnVsbCE9YSYmKHRoaXMuc3RhdGU9YSx0aGlzLmluaXQoKSx0aGlzLmVzY2FwZUhhbmRsZXI9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSxjKXt0aGlzLmxpdmVQcmV2aWV3JiZudWxsIT10aGlzLmluZGV4JiYodGhpcy5zdGF0ZS52aWV3LmdyYXBoLmNlbGxSZW5kZXJlci5yZWRyYXcodGhpcy5zdGF0ZSwhMCksdGhpcy5zdGF0ZS52aWV3LmludmFsaWRhdGUodGhpcy5zdGF0ZS5jZWxsKSx0aGlzLnN0YXRlLmludmFsaWQ9ITEsdGhpcy5zdGF0ZS52aWV3LnZhbGlkYXRlKCkpO3RoaXMucmVzZXQoKX0pLHRoaXMuc3RhdGUudmlldy5ncmFwaC5hZGRMaXN0ZW5lcihteEV2ZW50LkVTQ0FQRSx0aGlzLmVzY2FwZUhhbmRsZXIpKX1teFZlcnRleEhhbmRsZXIucHJvdG90eXBlLmdyYXBoPW51bGw7bXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5zdGF0ZT1udWxsO214VmVydGV4SGFuZGxlci5wcm90b3R5cGUuc2luZ2xlU2l6ZXI9ITE7Cm14VmVydGV4SGFuZGxlci5wcm90b3R5cGUuaW5kZXg9bnVsbDtteFZlcnRleEhhbmRsZXIucHJvdG90eXBlLmFsbG93SGFuZGxlQm91bmRzQ2hlY2s9ITA7bXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5oYW5kbGVJbWFnZT1udWxsO214VmVydGV4SGFuZGxlci5wcm90b3R5cGUudG9sZXJhbmNlPTA7bXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5yb3RhdGlvbkVuYWJsZWQ9ITE7bXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5wYXJlbnRIaWdobGlnaHRFbmFibGVkPSExO214VmVydGV4SGFuZGxlci5wcm90b3R5cGUucm90YXRpb25SYXN0ZXI9ITA7bXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5yb3RhdGlvbkN1cnNvcj0iY3Jvc3NoYWlyIjtteFZlcnRleEhhbmRsZXIucHJvdG90eXBlLmxpdmVQcmV2aWV3PSExO214VmVydGV4SGFuZGxlci5wcm90b3R5cGUubWFuYWdlU2l6ZXJzPSExO214VmVydGV4SGFuZGxlci5wcm90b3R5cGUuY29uc3RyYWluR3JvdXBCeUNoaWxkcmVuPSExOwpteFZlcnRleEhhbmRsZXIucHJvdG90eXBlLnJvdGF0aW9uSGFuZGxlVlNwYWNpbmc9LTE2O214VmVydGV4SGFuZGxlci5wcm90b3R5cGUuaG9yaXpvbnRhbE9mZnNldD0wO214VmVydGV4SGFuZGxlci5wcm90b3R5cGUudmVydGljYWxPZmZzZXQ9MDsKbXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKCl7dGhpcy5ncmFwaD10aGlzLnN0YXRlLnZpZXcuZ3JhcGg7dGhpcy5zZWxlY3Rpb25Cb3VuZHM9dGhpcy5nZXRTZWxlY3Rpb25Cb3VuZHModGhpcy5zdGF0ZSk7dGhpcy5ib3VuZHM9bmV3IG14UmVjdGFuZ2xlKHRoaXMuc2VsZWN0aW9uQm91bmRzLngsdGhpcy5zZWxlY3Rpb25Cb3VuZHMueSx0aGlzLnNlbGVjdGlvbkJvdW5kcy53aWR0aCx0aGlzLnNlbGVjdGlvbkJvdW5kcy5oZWlnaHQpO3RoaXMuc2VsZWN0aW9uQm9yZGVyPXRoaXMuY3JlYXRlU2VsZWN0aW9uU2hhcGUodGhpcy5ib3VuZHMpO3RoaXMuc2VsZWN0aW9uQm9yZGVyLmRpYWxlY3Q9dGhpcy5ncmFwaC5kaWFsZWN0IT1teENvbnN0YW50cy5ESUFMRUNUX1NWRz9teENvbnN0YW50cy5ESUFMRUNUX1ZNTDpteENvbnN0YW50cy5ESUFMRUNUX1NWRzt0aGlzLnNlbGVjdGlvbkJvcmRlci5wb2ludGVyRXZlbnRzPSExO3RoaXMuc2VsZWN0aW9uQm9yZGVyLnJvdGF0aW9uPQpOdW1iZXIodGhpcy5zdGF0ZS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9ST1RBVElPTl18fCIwIik7dGhpcy5zZWxlY3Rpb25Cb3JkZXIuaW5pdCh0aGlzLmdyYXBoLmdldFZpZXcoKS5nZXRPdmVybGF5UGFuZSgpKTtteEV2ZW50LnJlZGlyZWN0TW91c2VFdmVudHModGhpcy5zZWxlY3Rpb25Cb3JkZXIubm9kZSx0aGlzLmdyYXBoLHRoaXMuc3RhdGUpO3RoaXMuZ3JhcGguaXNDZWxsTW92YWJsZSh0aGlzLnN0YXRlLmNlbGwpJiZ0aGlzLnNlbGVjdGlvbkJvcmRlci5zZXRDdXJzb3IobXhDb25zdGFudHMuQ1VSU09SX01PVkFCTEVfVkVSVEVYKTtpZigwPj1teEdyYXBoSGFuZGxlci5wcm90b3R5cGUubWF4Q2VsbHN8fHRoaXMuZ3JhcGguZ2V0U2VsZWN0aW9uQ291bnQoKTxteEdyYXBoSGFuZGxlci5wcm90b3R5cGUubWF4Q2VsbHMpe3ZhciBhPXRoaXMuZ3JhcGguaXNDZWxsUmVzaXphYmxlKHRoaXMuc3RhdGUuY2VsbCk7dGhpcy5zaXplcnM9W107aWYoYXx8dGhpcy5ncmFwaC5pc0xhYmVsTW92YWJsZSh0aGlzLnN0YXRlLmNlbGwpJiYKMjw9dGhpcy5zdGF0ZS53aWR0aCYmMjw9dGhpcy5zdGF0ZS5oZWlnaHQpe3ZhciBiPTA7YSYmKHRoaXMuc2luZ2xlU2l6ZXJ8fCh0aGlzLnNpemVycy5wdXNoKHRoaXMuY3JlYXRlU2l6ZXIoIm53LXJlc2l6ZSIsYisrKSksdGhpcy5zaXplcnMucHVzaCh0aGlzLmNyZWF0ZVNpemVyKCJuLXJlc2l6ZSIsYisrKSksdGhpcy5zaXplcnMucHVzaCh0aGlzLmNyZWF0ZVNpemVyKCJuZS1yZXNpemUiLGIrKykpLHRoaXMuc2l6ZXJzLnB1c2godGhpcy5jcmVhdGVTaXplcigidy1yZXNpemUiLGIrKykpLHRoaXMuc2l6ZXJzLnB1c2godGhpcy5jcmVhdGVTaXplcigiZS1yZXNpemUiLGIrKykpLHRoaXMuc2l6ZXJzLnB1c2godGhpcy5jcmVhdGVTaXplcigic3ctcmVzaXplIixiKyspKSx0aGlzLnNpemVycy5wdXNoKHRoaXMuY3JlYXRlU2l6ZXIoInMtcmVzaXplIixiKyspKSksdGhpcy5zaXplcnMucHVzaCh0aGlzLmNyZWF0ZVNpemVyKCJzZS1yZXNpemUiLGIrKykpKTthPXRoaXMuZ3JhcGgubW9kZWwuZ2V0R2VvbWV0cnkodGhpcy5zdGF0ZS5jZWxsKTsKbnVsbD09YXx8YS5yZWxhdGl2ZXx8dGhpcy5ncmFwaC5pc1N3aW1sYW5lKHRoaXMuc3RhdGUuY2VsbCl8fCF0aGlzLmdyYXBoLmlzTGFiZWxNb3ZhYmxlKHRoaXMuc3RhdGUuY2VsbCl8fCh0aGlzLmxhYmVsU2hhcGU9dGhpcy5jcmVhdGVTaXplcihteENvbnN0YW50cy5DVVJTT1JfTEFCRUxfSEFORExFLG14RXZlbnQuTEFCRUxfSEFORExFLG14Q29uc3RhbnRzLkxBQkVMX0hBTkRMRV9TSVpFLG14Q29uc3RhbnRzLkxBQkVMX0hBTkRMRV9GSUxMQ09MT1IpLHRoaXMuc2l6ZXJzLnB1c2godGhpcy5sYWJlbFNoYXBlKSl9ZWxzZSB0aGlzLmdyYXBoLmlzQ2VsbE1vdmFibGUodGhpcy5zdGF0ZS5jZWxsKSYmIXRoaXMuZ3JhcGguaXNDZWxsUmVzaXphYmxlKHRoaXMuc3RhdGUuY2VsbCkmJjI+dGhpcy5zdGF0ZS53aWR0aCYmMj50aGlzLnN0YXRlLmhlaWdodCYmKHRoaXMubGFiZWxTaGFwZT10aGlzLmNyZWF0ZVNpemVyKG14Q29uc3RhbnRzLkNVUlNPUl9NT1ZBQkxFX1ZFUlRFWCxteEV2ZW50LkxBQkVMX0hBTkRMRSwKbnVsbCxteENvbnN0YW50cy5MQUJFTF9IQU5ETEVfRklMTENPTE9SKSx0aGlzLnNpemVycy5wdXNoKHRoaXMubGFiZWxTaGFwZSkpfXRoaXMuaXNSb3RhdGlvbkhhbmRsZVZpc2libGUoKSYmKHRoaXMucm90YXRpb25TaGFwZT10aGlzLmNyZWF0ZVNpemVyKHRoaXMucm90YXRpb25DdXJzb3IsbXhFdmVudC5ST1RBVElPTl9IQU5ETEUsbXhDb25zdGFudHMuSEFORExFX1NJWkUrMyxteENvbnN0YW50cy5IQU5ETEVfRklMTENPTE9SKSx0aGlzLnNpemVycy5wdXNoKHRoaXMucm90YXRpb25TaGFwZSkpO3RoaXMuY3VzdG9tSGFuZGxlcz10aGlzLmNyZWF0ZUN1c3RvbUhhbmRsZXMoKTt0aGlzLnJlZHJhdygpO3RoaXMuY29uc3RyYWluR3JvdXBCeUNoaWxkcmVuJiZ0aGlzLnVwZGF0ZU1pbkJvdW5kcygpfTsKbXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5pc1JvdGF0aW9uSGFuZGxlVmlzaWJsZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdyYXBoLmlzRW5hYmxlZCgpJiZ0aGlzLnJvdGF0aW9uRW5hYmxlZCYmdGhpcy5ncmFwaC5pc0NlbGxSb3RhdGFibGUodGhpcy5zdGF0ZS5jZWxsKSYmKDA+PW14R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5tYXhDZWxsc3x8dGhpcy5ncmFwaC5nZXRTZWxlY3Rpb25Db3VudCgpPG14R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5tYXhDZWxscyl9O214VmVydGV4SGFuZGxlci5wcm90b3R5cGUuaXNDb25zdHJhaW5lZEV2ZW50PWZ1bmN0aW9uKGEpe3JldHVybiBteEV2ZW50LmlzU2hpZnREb3duKGEuZ2V0RXZlbnQoKSl8fCJmaXhlZCI9PXRoaXMuc3RhdGUuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfQVNQRUNUXX07bXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5pc0NlbnRlcmVkRXZlbnQ9ZnVuY3Rpb24oYSxiKXtyZXR1cm4hMX07Cm14VmVydGV4SGFuZGxlci5wcm90b3R5cGUuY3JlYXRlQ3VzdG9tSGFuZGxlcz1mdW5jdGlvbigpe3JldHVybiBudWxsfTsKbXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS51cGRhdGVNaW5Cb3VuZHM9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdyYXBoLmdldENoaWxkQ2VsbHModGhpcy5zdGF0ZS5jZWxsKTtpZigwPGEubGVuZ3RoJiYodGhpcy5taW5Cb3VuZHM9dGhpcy5ncmFwaC52aWV3LmdldEJvdW5kcyhhKSxudWxsIT10aGlzLm1pbkJvdW5kcykpe3ZhciBhPXRoaXMuc3RhdGUudmlldy5zY2FsZSxiPXRoaXMuc3RhdGUudmlldy50cmFuc2xhdGU7dGhpcy5taW5Cb3VuZHMueC09dGhpcy5zdGF0ZS54O3RoaXMubWluQm91bmRzLnktPXRoaXMuc3RhdGUueTt0aGlzLm1pbkJvdW5kcy54Lz1hO3RoaXMubWluQm91bmRzLnkvPWE7dGhpcy5taW5Cb3VuZHMud2lkdGgvPWE7dGhpcy5taW5Cb3VuZHMuaGVpZ2h0Lz1hO3RoaXMueDA9dGhpcy5zdGF0ZS54L2EtYi54O3RoaXMueTA9dGhpcy5zdGF0ZS55L2EtYi55fX07Cm14VmVydGV4SGFuZGxlci5wcm90b3R5cGUuZ2V0U2VsZWN0aW9uQm91bmRzPWZ1bmN0aW9uKGEpe3JldHVybiBuZXcgbXhSZWN0YW5nbGUoTWF0aC5yb3VuZChhLngpLE1hdGgucm91bmQoYS55KSxNYXRoLnJvdW5kKGEud2lkdGgpLE1hdGgucm91bmQoYS5oZWlnaHQpKX07bXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5jcmVhdGVQYXJlbnRIaWdobGlnaHRTaGFwZT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jcmVhdGVTZWxlY3Rpb25TaGFwZShhKX07bXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5jcmVhdGVTZWxlY3Rpb25TaGFwZT1mdW5jdGlvbihhKXthPW5ldyBteFJlY3RhbmdsZVNoYXBlKG14UmVjdGFuZ2xlLmZyb21SZWN0YW5nbGUoYSksbnVsbCx0aGlzLmdldFNlbGVjdGlvbkNvbG9yKCkpO2Euc3Ryb2tld2lkdGg9dGhpcy5nZXRTZWxlY3Rpb25TdHJva2VXaWR0aCgpO2EuaXNEYXNoZWQ9dGhpcy5pc1NlbGVjdGlvbkRhc2hlZCgpO3JldHVybiBhfTsKbXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5nZXRTZWxlY3Rpb25Db2xvcj1mdW5jdGlvbigpe3JldHVybiBteENvbnN0YW50cy5WRVJURVhfU0VMRUNUSU9OX0NPTE9SfTtteFZlcnRleEhhbmRsZXIucHJvdG90eXBlLmdldFNlbGVjdGlvblN0cm9rZVdpZHRoPWZ1bmN0aW9uKCl7cmV0dXJuIG14Q29uc3RhbnRzLlZFUlRFWF9TRUxFQ1RJT05fU1RST0tFV0lEVEh9O214VmVydGV4SGFuZGxlci5wcm90b3R5cGUuaXNTZWxlY3Rpb25EYXNoZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gbXhDb25zdGFudHMuVkVSVEVYX1NFTEVDVElPTl9EQVNIRUR9OwpteFZlcnRleEhhbmRsZXIucHJvdG90eXBlLmNyZWF0ZVNpemVyPWZ1bmN0aW9uKGEsYixjLGQpe2M9Y3x8bXhDb25zdGFudHMuSEFORExFX1NJWkU7Yz1uZXcgbXhSZWN0YW5nbGUoMCwwLGMsYyk7ZD10aGlzLmNyZWF0ZVNpemVyU2hhcGUoYyxiLGQpO2QuaXNIdG1sQWxsb3dlZCgpJiZudWxsIT10aGlzLnN0YXRlLnRleHQmJnRoaXMuc3RhdGUudGV4dC5ub2RlLnBhcmVudE5vZGU9PXRoaXMuZ3JhcGguY29udGFpbmVyPygtLWQuYm91bmRzLmhlaWdodCwtLWQuYm91bmRzLndpZHRoLGQuZGlhbGVjdD1teENvbnN0YW50cy5ESUFMRUNUX1NUUklDVEhUTUwsZC5pbml0KHRoaXMuZ3JhcGguY29udGFpbmVyKSk6KGQuZGlhbGVjdD10aGlzLmdyYXBoLmRpYWxlY3QhPW14Q29uc3RhbnRzLkRJQUxFQ1RfU1ZHP214Q29uc3RhbnRzLkRJQUxFQ1RfTUlYRURIVE1MOm14Q29uc3RhbnRzLkRJQUxFQ1RfU1ZHLGQuaW5pdCh0aGlzLmdyYXBoLmdldFZpZXcoKS5nZXRPdmVybGF5UGFuZSgpKSk7Cm14RXZlbnQucmVkaXJlY3RNb3VzZUV2ZW50cyhkLm5vZGUsdGhpcy5ncmFwaCx0aGlzLnN0YXRlKTt0aGlzLmdyYXBoLmlzRW5hYmxlZCgpJiZkLnNldEN1cnNvcihhKTt0aGlzLmlzU2l6ZXJWaXNpYmxlKGIpfHwoZC52aXNpYmxlPSExKTtyZXR1cm4gZH07bXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5pc1NpemVyVmlzaWJsZT1mdW5jdGlvbihhKXtyZXR1cm4hMH07Cm14VmVydGV4SGFuZGxlci5wcm90b3R5cGUuY3JlYXRlU2l6ZXJTaGFwZT1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIG51bGwhPXRoaXMuaGFuZGxlSW1hZ2U/KGE9bmV3IG14UmVjdGFuZ2xlKGEueCxhLnksdGhpcy5oYW5kbGVJbWFnZS53aWR0aCx0aGlzLmhhbmRsZUltYWdlLmhlaWdodCksYT1uZXcgbXhJbWFnZVNoYXBlKGEsdGhpcy5oYW5kbGVJbWFnZS5zcmMpLGEucHJlc2VydmVJbWFnZUFzcGVjdD0hMSxhKTpiPT1teEV2ZW50LlJPVEFUSU9OX0hBTkRMRT9uZXcgbXhFbGxpcHNlKGEsY3x8bXhDb25zdGFudHMuSEFORExFX0ZJTExDT0xPUixteENvbnN0YW50cy5IQU5ETEVfU1RST0tFQ09MT1IpOm5ldyBteFJlY3RhbmdsZVNoYXBlKGEsY3x8bXhDb25zdGFudHMuSEFORExFX0ZJTExDT0xPUixteENvbnN0YW50cy5IQU5ETEVfU1RST0tFQ09MT1IpfTsKbXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5tb3ZlU2l6ZXJUbz1mdW5jdGlvbihhLGIsYyl7bnVsbCE9YSYmKGEuYm91bmRzLng9TWF0aC5mbG9vcihiLWEuYm91bmRzLndpZHRoLzIpLGEuYm91bmRzLnk9TWF0aC5mbG9vcihjLWEuYm91bmRzLmhlaWdodC8yKSxudWxsIT1hLm5vZGUmJiJub25lIiE9YS5ub2RlLnN0eWxlLmRpc3BsYXkmJmEucmVkcmF3KCkpfTsKbXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5nZXRIYW5kbGVGb3JFdmVudD1mdW5jdGlvbihhKXt2YXIgYj1teEV2ZW50LmlzTW91c2VFdmVudChhLmdldEV2ZW50KCkpPzE6dGhpcy50b2xlcmFuY2UsYz10aGlzLmFsbG93SGFuZGxlQm91bmRzQ2hlY2smJihteENsaWVudC5JU19JRXx8MDxiKT9uZXcgbXhSZWN0YW5nbGUoYS5nZXRHcmFwaFgoKS1iLGEuZ2V0R3JhcGhZKCktYiwyKmIsMipiKTpudWxsLGI9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYil7dmFyIGQ9bnVsbCE9YiYmYi5jb25zdHJ1Y3RvciE9bXhJbWFnZVNoYXBlJiZ0aGlzLmFsbG93SGFuZGxlQm91bmRzQ2hlY2s/bmV3IG14UmVjdGFuZ2xlKGEuZ2V0R3JhcGhYKCktYi5zdmdTdHJva2VUb2xlcmFuY2UsYS5nZXRHcmFwaFkoKS1iLnN2Z1N0cm9rZVRvbGVyYW5jZSwyKmIuc3ZnU3Ryb2tlVG9sZXJhbmNlLDIqYi5zdmdTdHJva2VUb2xlcmFuY2UpOmM7cmV0dXJuIG51bGwhPWImJihhLmlzU291cmNlKGIpfHxudWxsIT0KZCYmbXhVdGlscy5pbnRlcnNlY3RzKGIuYm91bmRzLGQpJiYibm9uZSIhPWIubm9kZS5zdHlsZS5kaXNwbGF5JiYiaGlkZGVuIiE9Yi5ub2RlLnN0eWxlLnZpc2liaWxpdHkpfSk7aWYoYih0aGlzLnJvdGF0aW9uU2hhcGUpKXJldHVybiBteEV2ZW50LlJPVEFUSU9OX0hBTkRMRTtpZihiKHRoaXMubGFiZWxTaGFwZSkpcmV0dXJuIG14RXZlbnQuTEFCRUxfSEFORExFO2lmKG51bGwhPXRoaXMuc2l6ZXJzKWZvcih2YXIgZD0wO2Q8dGhpcy5zaXplcnMubGVuZ3RoO2QrKylpZihiKHRoaXMuc2l6ZXJzW2RdKSlyZXR1cm4gZDtpZihudWxsIT10aGlzLmN1c3RvbUhhbmRsZXMmJnRoaXMuaXNDdXN0b21IYW5kbGVFdmVudChhKSlmb3IoZD10aGlzLmN1c3RvbUhhbmRsZXMubGVuZ3RoLTE7MDw9ZDtkLS0paWYoYih0aGlzLmN1c3RvbUhhbmRsZXNbZF0uc2hhcGUpKXJldHVybiBteEV2ZW50LkNVU1RPTV9IQU5ETEUtZDtyZXR1cm4gbnVsbH07Cm14VmVydGV4SGFuZGxlci5wcm90b3R5cGUuaXNDdXN0b21IYW5kbGVFdmVudD1mdW5jdGlvbihhKXtyZXR1cm4hMH07bXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5tb3VzZURvd249ZnVuY3Rpb24oYSxiKXtpZighYi5pc0NvbnN1bWVkKCkmJnRoaXMuZ3JhcGguaXNFbmFibGVkKCkpe3ZhciBjPXRoaXMuZ2V0SGFuZGxlRm9yRXZlbnQoYik7bnVsbCE9YyYmKHRoaXMuc3RhcnQoYi5nZXRHcmFwaFgoKSxiLmdldEdyYXBoWSgpLGMpLGIuY29uc3VtZSgpKX19O214VmVydGV4SGFuZGxlci5wcm90b3R5cGUuaXNMaXZlUHJldmlld0JvcmRlcj1mdW5jdGlvbigpe3JldHVybiBudWxsIT10aGlzLnN0YXRlLnNoYXBlJiZudWxsPT10aGlzLnN0YXRlLnNoYXBlLmZpbGwmJm51bGw9PXRoaXMuc3RhdGUuc2hhcGUuc3Ryb2tlfTsKbXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5zdGFydD1mdW5jdGlvbihhLGIsYyl7aWYobnVsbCE9dGhpcy5zZWxlY3Rpb25Cb3JkZXIpaWYodGhpcy5saXZlUHJldmlld0FjdGl2ZT10aGlzLmxpdmVQcmV2aWV3JiYwPT10aGlzLmdyYXBoLm1vZGVsLmdldENoaWxkQ291bnQodGhpcy5zdGF0ZS5jZWxsKSx0aGlzLmluVG9sZXJhbmNlPSEwLHRoaXMuY2hpbGRPZmZzZXRZPXRoaXMuY2hpbGRPZmZzZXRYPTAsdGhpcy5pbmRleD1jLHRoaXMuc3RhcnRYPWEsdGhpcy5zdGFydFk9Yix0aGlzLmluZGV4PD1teEV2ZW50LkNVU1RPTV9IQU5ETEUmJnRoaXMuaXNHaG9zdFByZXZpZXcoKSl0aGlzLmdob3N0UHJldmlldz10aGlzLmNyZWF0ZUdob3N0UHJldmlldygpO2Vsc2V7YT10aGlzLnN0YXRlLnZpZXcuZ3JhcGgubW9kZWw7Yj1hLmdldFBhcmVudCh0aGlzLnN0YXRlLmNlbGwpO3RoaXMuc3RhdGUudmlldy5jdXJyZW50Um9vdCE9YiYmKGEuaXNWZXJ0ZXgoYil8fGEuaXNFZGdlKGIpKSYmCih0aGlzLnBhcmVudFN0YXRlPXRoaXMuc3RhdGUudmlldy5ncmFwaC52aWV3LmdldFN0YXRlKGIpKTt0aGlzLnNlbGVjdGlvbkJvcmRlci5ub2RlLnN0eWxlLmRpc3BsYXk9Yz09bXhFdmVudC5ST1RBVElPTl9IQU5ETEU/ImlubGluZSI6Im5vbmUiO2lmKCF0aGlzLmxpdmVQcmV2aWV3QWN0aXZlfHx0aGlzLmlzTGl2ZVByZXZpZXdCb3JkZXIoKSl0aGlzLnByZXZpZXc9dGhpcy5jcmVhdGVTZWxlY3Rpb25TaGFwZSh0aGlzLmJvdW5kcyksbXhDbGllbnQuSVNfU1ZHJiYwIT1OdW1iZXIodGhpcy5zdGF0ZS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9ST1RBVElPTl18fCIwIil8fG51bGw9PXRoaXMuc3RhdGUudGV4dHx8dGhpcy5zdGF0ZS50ZXh0Lm5vZGUucGFyZW50Tm9kZSE9dGhpcy5ncmFwaC5jb250YWluZXI/KHRoaXMucHJldmlldy5kaWFsZWN0PXRoaXMuZ3JhcGguZGlhbGVjdCE9bXhDb25zdGFudHMuRElBTEVDVF9TVkc/bXhDb25zdGFudHMuRElBTEVDVF9WTUw6bXhDb25zdGFudHMuRElBTEVDVF9TVkcsCnRoaXMucHJldmlldy5pbml0KHRoaXMuZ3JhcGgudmlldy5nZXRPdmVybGF5UGFuZSgpKSk6KHRoaXMucHJldmlldy5kaWFsZWN0PW14Q29uc3RhbnRzLkRJQUxFQ1RfU1RSSUNUSFRNTCx0aGlzLnByZXZpZXcuaW5pdCh0aGlzLmdyYXBoLmNvbnRhaW5lcikpO2M9PW14RXZlbnQuUk9UQVRJT05fSEFORExFJiYoYj10aGlzLmdldFJvdGF0aW9uSGFuZGxlUG9zaXRpb24oKSxhPWIueC10aGlzLnN0YXRlLmdldENlbnRlclgoKSxiPWIueS10aGlzLnN0YXRlLmdldENlbnRlclkoKSx0aGlzLnN0YXJ0QW5nbGU9MCE9YT8xODAqTWF0aC5hdGFuKGIvYSkvTWF0aC5QSSs5MDowPmI/MTgwOjAsdGhpcy5zdGFydERpc3Q9TWF0aC5zcXJ0KGEqYStiKmIpKTtpZih0aGlzLmxpdmVQcmV2aWV3QWN0aXZlKWZvcih0aGlzLmhpZGVTaXplcnMoKSxjPT1teEV2ZW50LlJPVEFUSU9OX0hBTkRMRT90aGlzLnJvdGF0aW9uU2hhcGUubm9kZS5zdHlsZS5kaXNwbGF5PSIiOmM9PW14RXZlbnQuTEFCRUxfSEFORExFPwp0aGlzLmxhYmVsU2hhcGUubm9kZS5zdHlsZS5kaXNwbGF5PSIiOm51bGwhPXRoaXMuc2l6ZXJzJiZudWxsIT10aGlzLnNpemVyc1tjXT90aGlzLnNpemVyc1tjXS5ub2RlLnN0eWxlLmRpc3BsYXk9IiI6Yzw9bXhFdmVudC5DVVNUT01fSEFORExFJiZudWxsIT10aGlzLmN1c3RvbUhhbmRsZXMmJnRoaXMuY3VzdG9tSGFuZGxlc1tteEV2ZW50LkNVU1RPTV9IQU5ETEUtY10uc2V0VmlzaWJsZSghMCksYz10aGlzLmdyYXBoLmdldEVkZ2VzKHRoaXMuc3RhdGUuY2VsbCksdGhpcy5lZGdlSGFuZGxlcnM9W10sYT0wO2E8Yy5sZW5ndGg7YSsrKWI9dGhpcy5ncmFwaC5zZWxlY3Rpb25DZWxsc0hhbmRsZXIuZ2V0SGFuZGxlcihjW2FdKSxudWxsIT1iJiZ0aGlzLmVkZ2VIYW5kbGVycy5wdXNoKGIpfX07Cm14VmVydGV4SGFuZGxlci5wcm90b3R5cGUuY3JlYXRlR2hvc3RQcmV2aWV3PWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5ncmFwaC5jZWxsUmVuZGVyZXIuY3JlYXRlU2hhcGUodGhpcy5zdGF0ZSk7YS5pbml0KHRoaXMuZ3JhcGgudmlldy5nZXRPdmVybGF5UGFuZSgpKTthLnNjYWxlPXRoaXMuc3RhdGUudmlldy5zY2FsZTthLmJvdW5kcz10aGlzLmJvdW5kczthLm91dGxpbmU9ITA7cmV0dXJuIGF9O214VmVydGV4SGFuZGxlci5wcm90b3R5cGUuc2V0SGFuZGxlc1Zpc2libGU9ZnVuY3Rpb24oYSl7aWYobnVsbCE9dGhpcy5zaXplcnMpZm9yKHZhciBiPTA7Yjx0aGlzLnNpemVycy5sZW5ndGg7YisrKXRoaXMuc2l6ZXJzW2JdLm5vZGUuc3R5bGUuZGlzcGxheT1hPyIiOiJub25lIjtpZihudWxsIT10aGlzLmN1c3RvbUhhbmRsZXMpZm9yKGI9MDtiPHRoaXMuY3VzdG9tSGFuZGxlcy5sZW5ndGg7YisrKXRoaXMuY3VzdG9tSGFuZGxlc1tiXS5zZXRWaXNpYmxlKGEpfTsKbXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5oaWRlU2l6ZXJzPWZ1bmN0aW9uKCl7dGhpcy5zZXRIYW5kbGVzVmlzaWJsZSghMSl9O214VmVydGV4SGFuZGxlci5wcm90b3R5cGUuY2hlY2tUb2xlcmFuY2U9ZnVuY3Rpb24oYSl7dGhpcy5pblRvbGVyYW5jZSYmbnVsbCE9dGhpcy5zdGFydFgmJm51bGwhPXRoaXMuc3RhcnRZJiYobXhFdmVudC5pc01vdXNlRXZlbnQoYS5nZXRFdmVudCgpKXx8TWF0aC5hYnMoYS5nZXRHcmFwaFgoKS10aGlzLnN0YXJ0WCk+dGhpcy5ncmFwaC50b2xlcmFuY2V8fE1hdGguYWJzKGEuZ2V0R3JhcGhZKCktdGhpcy5zdGFydFkpPnRoaXMuZ3JhcGgudG9sZXJhbmNlKSYmKHRoaXMuaW5Ub2xlcmFuY2U9ITEpfTtteFZlcnRleEhhbmRsZXIucHJvdG90eXBlLnVwZGF0ZUhpbnQ9ZnVuY3Rpb24oYSl7fTtteFZlcnRleEhhbmRsZXIucHJvdG90eXBlLnJlbW92ZUhpbnQ9ZnVuY3Rpb24oKXt9OwpteFZlcnRleEhhbmRsZXIucHJvdG90eXBlLnJvdW5kQW5nbGU9ZnVuY3Rpb24oYSl7cmV0dXJuIE1hdGgucm91bmQoMTAqYSkvMTB9O214VmVydGV4SGFuZGxlci5wcm90b3R5cGUucm91bmRMZW5ndGg9ZnVuY3Rpb24oYSl7cmV0dXJuIE1hdGgucm91bmQoMTAwKmEpLzEwMH07Cm14VmVydGV4SGFuZGxlci5wcm90b3R5cGUubW91c2VNb3ZlPWZ1bmN0aW9uKGEsYil7Yi5pc0NvbnN1bWVkKCl8fG51bGw9PXRoaXMuaW5kZXg/dGhpcy5ncmFwaC5pc01vdXNlRG93bnx8bnVsbD09dGhpcy5nZXRIYW5kbGVGb3JFdmVudChiKXx8Yi5jb25zdW1lKCExKToodGhpcy5jaGVja1RvbGVyYW5jZShiKSx0aGlzLmluVG9sZXJhbmNlfHwodGhpcy5pbmRleDw9bXhFdmVudC5DVVNUT01fSEFORExFP251bGwhPXRoaXMuY3VzdG9tSGFuZGxlcyYmKHRoaXMuY3VzdG9tSGFuZGxlc1tteEV2ZW50LkNVU1RPTV9IQU5ETEUtdGhpcy5pbmRleF0ucHJvY2Vzc0V2ZW50KGIpLHRoaXMuY3VzdG9tSGFuZGxlc1tteEV2ZW50LkNVU1RPTV9IQU5ETEUtdGhpcy5pbmRleF0uYWN0aXZlPSEwLG51bGwhPXRoaXMuZ2hvc3RQcmV2aWV3Pyh0aGlzLmdob3N0UHJldmlldy5hcHBseSh0aGlzLnN0YXRlKSx0aGlzLmdob3N0UHJldmlldy5zdHJva2V3aWR0aD10aGlzLmdldFNlbGVjdGlvblN0cm9rZVdpZHRoKCkvCnRoaXMuZ2hvc3RQcmV2aWV3LnNjYWxlL3RoaXMuZ2hvc3RQcmV2aWV3LnNjYWxlLHRoaXMuZ2hvc3RQcmV2aWV3LmlzRGFzaGVkPXRoaXMuaXNTZWxlY3Rpb25EYXNoZWQoKSx0aGlzLmdob3N0UHJldmlldy5zdHJva2U9dGhpcy5nZXRTZWxlY3Rpb25Db2xvcigpLHRoaXMuZ2hvc3RQcmV2aWV3LnJlZHJhdygpLG51bGwhPXRoaXMuc2VsZWN0aW9uQm91bmRzJiYodGhpcy5zZWxlY3Rpb25Cb3JkZXIubm9kZS5zdHlsZS5kaXNwbGF5PSJub25lIikpOih0aGlzLm1vdmVUb0Zyb250KCksdGhpcy5jdXN0b21IYW5kbGVzW214RXZlbnQuQ1VTVE9NX0hBTkRMRS10aGlzLmluZGV4XS5wb3NpdGlvbkNoYW5nZWQoKSkpOnRoaXMuaW5kZXg9PW14RXZlbnQuTEFCRUxfSEFORExFP3RoaXMubW92ZUxhYmVsKGIpOnRoaXMuaW5kZXg9PW14RXZlbnQuUk9UQVRJT05fSEFORExFP3RoaXMucm90YXRlVmVydGV4KGIpOih0aGlzLnJlc2l6ZVZlcnRleChiKSx0aGlzLnVwZGF0ZUhpbnQoYikpKSxiLmNvbnN1bWUoKSl9OwpteFZlcnRleEhhbmRsZXIucHJvdG90eXBlLmlzR2hvc3RQcmV2aWV3PWZ1bmN0aW9uKCl7cmV0dXJuIDA8dGhpcy5zdGF0ZS52aWV3LmdyYXBoLm1vZGVsLmdldENoaWxkQ291bnQodGhpcy5zdGF0ZS5jZWxsKX07bXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5tb3ZlTGFiZWw9ZnVuY3Rpb24oYSl7dmFyIGI9bmV3IG14UG9pbnQoYS5nZXRHcmFwaFgoKSxhLmdldEdyYXBoWSgpKSxjPXRoaXMuZ3JhcGgudmlldy50cmFuc2xhdGUsZD10aGlzLmdyYXBoLnZpZXcuc2NhbGU7dGhpcy5ncmFwaC5pc0dyaWRFbmFibGVkRXZlbnQoYS5nZXRFdmVudCgpKSYmKGIueD0odGhpcy5ncmFwaC5zbmFwKGIueC9kLWMueCkrYy54KSpkLGIueT0odGhpcy5ncmFwaC5zbmFwKGIueS9kLWMueSkrYy55KSpkKTt0aGlzLm1vdmVTaXplclRvKHRoaXMuc2l6ZXJzW251bGwhPXRoaXMucm90YXRpb25TaGFwZT90aGlzLnNpemVycy5sZW5ndGgtMjp0aGlzLnNpemVycy5sZW5ndGgtMV0sYi54LGIueSl9OwpteFZlcnRleEhhbmRsZXIucHJvdG90eXBlLnJvdGF0ZVZlcnRleD1mdW5jdGlvbihhKXt2YXIgYj1uZXcgbXhQb2ludChhLmdldEdyYXBoWCgpLGEuZ2V0R3JhcGhZKCkpLGM9dGhpcy5zdGF0ZS54K3RoaXMuc3RhdGUud2lkdGgvMi1iLngsZD10aGlzLnN0YXRlLnkrdGhpcy5zdGF0ZS5oZWlnaHQvMi1iLnk7dGhpcy5jdXJyZW50QWxwaGE9MCE9Yz8xODAqTWF0aC5hdGFuKGQvYykvTWF0aC5QSSs5MDowPmQ/MTgwOjA7MDxjJiYodGhpcy5jdXJyZW50QWxwaGEtPTE4MCk7dGhpcy5jdXJyZW50QWxwaGEtPXRoaXMuc3RhcnRBbmdsZTt0aGlzLnJvdGF0aW9uUmFzdGVyJiZ0aGlzLmdyYXBoLmlzR3JpZEVuYWJsZWRFdmVudChhLmdldEV2ZW50KCkpPyhjPWIueC10aGlzLnN0YXRlLmdldENlbnRlclgoKSxkPWIueS10aGlzLnN0YXRlLmdldENlbnRlclkoKSxhPU1hdGguc3FydChjKmMrZCpkKSxyYXN0ZXI9Mj5hLXRoaXMuc3RhcnREaXN0PzE1OjI1PmEtdGhpcy5zdGFydERpc3Q/NToKMSx0aGlzLmN1cnJlbnRBbHBoYT1NYXRoLnJvdW5kKHRoaXMuY3VycmVudEFscGhhL3Jhc3RlcikqcmFzdGVyKTp0aGlzLmN1cnJlbnRBbHBoYT10aGlzLnJvdW5kQW5nbGUodGhpcy5jdXJyZW50QWxwaGEpO3RoaXMuc2VsZWN0aW9uQm9yZGVyLnJvdGF0aW9uPXRoaXMuY3VycmVudEFscGhhO3RoaXMuc2VsZWN0aW9uQm9yZGVyLnJlZHJhdygpO3RoaXMubGl2ZVByZXZpZXdBY3RpdmUmJnRoaXMucmVkcmF3SGFuZGxlcygpfTsKbXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5yZXNpemVWZXJ0ZXg9ZnVuY3Rpb24oYSl7dmFyIGI9bmV3IG14UG9pbnQodGhpcy5zdGF0ZS5nZXRDZW50ZXJYKCksdGhpcy5zdGF0ZS5nZXRDZW50ZXJZKCkpLGM9bXhVdGlscy50b1JhZGlhbnModGhpcy5zdGF0ZS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9ST1RBVElPTl18fCIwIiksZD1uZXcgbXhQb2ludChhLmdldEdyYXBoWCgpLGEuZ2V0R3JhcGhZKCkpLGU9dGhpcy5ncmFwaC52aWV3LnRyYW5zbGF0ZSxmPXRoaXMuZ3JhcGgudmlldy5zY2FsZSxnPU1hdGguY29zKC1jKSxrPU1hdGguc2luKC1jKSxsPWQueC10aGlzLnN0YXJ0WCxtPWQueS10aGlzLnN0YXJ0WSxkPWsqbCtnKm0sbD1nKmwtayptLG09ZCxnPXRoaXMuZ3JhcGguZ2V0Q2VsbEdlb21ldHJ5KHRoaXMuc3RhdGUuY2VsbCk7dGhpcy51bnNjYWxlZEJvdW5kcz10aGlzLnVuaW9uKGcsbC9mLG0vZix0aGlzLmluZGV4LHRoaXMuZ3JhcGguaXNHcmlkRW5hYmxlZEV2ZW50KGEuZ2V0RXZlbnQoKSksCjEsbmV3IG14UG9pbnQoMCwwKSx0aGlzLmlzQ29uc3RyYWluZWRFdmVudChhKSx0aGlzLmlzQ2VudGVyZWRFdmVudCh0aGlzLnN0YXRlLGEpKTtnLnJlbGF0aXZlfHwoaz10aGlzLmdyYXBoLmdldE1heGltdW1HcmFwaEJvdW5kcygpLG51bGwhPWsmJm51bGwhPXRoaXMucGFyZW50U3RhdGUmJihrPW14UmVjdGFuZ2xlLmZyb21SZWN0YW5nbGUoayksay54LT0odGhpcy5wYXJlbnRTdGF0ZS54LWUueCpmKS9mLGsueS09KHRoaXMucGFyZW50U3RhdGUueS1lLnkqZikvZiksdGhpcy5ncmFwaC5pc0NvbnN0cmFpbkNoaWxkKHRoaXMuc3RhdGUuY2VsbCkmJihkPXRoaXMuZ3JhcGguZ2V0Q2VsbENvbnRhaW5tZW50QXJlYSh0aGlzLnN0YXRlLmNlbGwpLG51bGwhPWQmJihsPXRoaXMuZ3JhcGguZ2V0T3ZlcmxhcCh0aGlzLnN0YXRlLmNlbGwpLDA8bCYmKGQ9bXhSZWN0YW5nbGUuZnJvbVJlY3RhbmdsZShkKSxkLngtPWQud2lkdGgqbCxkLnktPWQuaGVpZ2h0KmwsZC53aWR0aCs9MipkLndpZHRoKgpsLGQuaGVpZ2h0Kz0yKmQuaGVpZ2h0KmwpLG51bGw9PWs/az1kOihrPW14UmVjdGFuZ2xlLmZyb21SZWN0YW5nbGUoayksay5pbnRlcnNlY3QoZCkpKSksbnVsbCE9ayYmKHRoaXMudW5zY2FsZWRCb3VuZHMueDxrLngmJih0aGlzLnVuc2NhbGVkQm91bmRzLndpZHRoLT1rLngtdGhpcy51bnNjYWxlZEJvdW5kcy54LHRoaXMudW5zY2FsZWRCb3VuZHMueD1rLngpLHRoaXMudW5zY2FsZWRCb3VuZHMueTxrLnkmJih0aGlzLnVuc2NhbGVkQm91bmRzLmhlaWdodC09ay55LXRoaXMudW5zY2FsZWRCb3VuZHMueSx0aGlzLnVuc2NhbGVkQm91bmRzLnk9ay55KSx0aGlzLnVuc2NhbGVkQm91bmRzLngrdGhpcy51bnNjYWxlZEJvdW5kcy53aWR0aD5rLngray53aWR0aCYmKHRoaXMudW5zY2FsZWRCb3VuZHMud2lkdGgtPXRoaXMudW5zY2FsZWRCb3VuZHMueCt0aGlzLnVuc2NhbGVkQm91bmRzLndpZHRoLWsueC1rLndpZHRoKSx0aGlzLnVuc2NhbGVkQm91bmRzLnkrdGhpcy51bnNjYWxlZEJvdW5kcy5oZWlnaHQ+CmsueStrLmhlaWdodCYmKHRoaXMudW5zY2FsZWRCb3VuZHMuaGVpZ2h0LT10aGlzLnVuc2NhbGVkQm91bmRzLnkrdGhpcy51bnNjYWxlZEJvdW5kcy5oZWlnaHQtay55LWsuaGVpZ2h0KSkpO2Q9dGhpcy5ib3VuZHM7dGhpcy5ib3VuZHM9bmV3IG14UmVjdGFuZ2xlKChudWxsIT10aGlzLnBhcmVudFN0YXRlP3RoaXMucGFyZW50U3RhdGUueDplLngqZikrdGhpcy51bnNjYWxlZEJvdW5kcy54KmYsKG51bGwhPXRoaXMucGFyZW50U3RhdGU/dGhpcy5wYXJlbnRTdGF0ZS55OmUueSpmKSt0aGlzLnVuc2NhbGVkQm91bmRzLnkqZix0aGlzLnVuc2NhbGVkQm91bmRzLndpZHRoKmYsdGhpcy51bnNjYWxlZEJvdW5kcy5oZWlnaHQqZik7Zy5yZWxhdGl2ZSYmbnVsbCE9dGhpcy5wYXJlbnRTdGF0ZSYmKHRoaXMuYm91bmRzLngrPXRoaXMuc3RhdGUueC10aGlzLnBhcmVudFN0YXRlLngsdGhpcy5ib3VuZHMueSs9dGhpcy5zdGF0ZS55LXRoaXMucGFyZW50U3RhdGUueSk7Zz1NYXRoLmNvcyhjKTsKaz1NYXRoLnNpbihjKTtjPW5ldyBteFBvaW50KHRoaXMuYm91bmRzLmdldENlbnRlclgoKSx0aGlzLmJvdW5kcy5nZXRDZW50ZXJZKCkpO2w9Yy54LWIueDttPWMueS1iLnk7Yj1nKmwtayptLWw7Yz1rKmwrZyptLW07bD10aGlzLmJvdW5kcy54LXRoaXMuc3RhdGUueDttPXRoaXMuYm91bmRzLnktdGhpcy5zdGF0ZS55O2U9ZypsLWsqbTtnPWsqbCtnKm07dGhpcy5ib3VuZHMueCs9Yjt0aGlzLmJvdW5kcy55Kz1jO3RoaXMudW5zY2FsZWRCb3VuZHMueD10aGlzLnJvdW5kTGVuZ3RoKHRoaXMudW5zY2FsZWRCb3VuZHMueCtiL2YpO3RoaXMudW5zY2FsZWRCb3VuZHMueT10aGlzLnJvdW5kTGVuZ3RoKHRoaXMudW5zY2FsZWRCb3VuZHMueStjL2YpO3RoaXMudW5zY2FsZWRCb3VuZHMud2lkdGg9dGhpcy5yb3VuZExlbmd0aCh0aGlzLnVuc2NhbGVkQm91bmRzLndpZHRoKTt0aGlzLnVuc2NhbGVkQm91bmRzLmhlaWdodD10aGlzLnJvdW5kTGVuZ3RoKHRoaXMudW5zY2FsZWRCb3VuZHMuaGVpZ2h0KTsKdGhpcy5ncmFwaC5pc0NlbGxDb2xsYXBzZWQodGhpcy5zdGF0ZS5jZWxsKXx8MD09YiYmMD09Yz90aGlzLmNoaWxkT2Zmc2V0WT10aGlzLmNoaWxkT2Zmc2V0WD0wOih0aGlzLmNoaWxkT2Zmc2V0WD10aGlzLnN0YXRlLngtdGhpcy5ib3VuZHMueCtlLHRoaXMuY2hpbGRPZmZzZXRZPXRoaXMuc3RhdGUueS10aGlzLmJvdW5kcy55K2cpO2QuZXF1YWxzKHRoaXMuYm91bmRzKXx8KHRoaXMubGl2ZVByZXZpZXdBY3RpdmUmJnRoaXMudXBkYXRlTGl2ZVByZXZpZXcoYSksbnVsbCE9dGhpcy5wcmV2aWV3P3RoaXMuZHJhd1ByZXZpZXcoKTp0aGlzLnVwZGF0ZVBhcmVudEhpZ2hsaWdodCgpKX07Cm14VmVydGV4SGFuZGxlci5wcm90b3R5cGUudXBkYXRlTGl2ZVByZXZpZXc9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5ncmFwaC52aWV3LnNjYWxlLGM9dGhpcy5ncmFwaC52aWV3LnRyYW5zbGF0ZTthPXRoaXMuc3RhdGUuY2xvbmUoKTt0aGlzLnN0YXRlLng9dGhpcy5ib3VuZHMueDt0aGlzLnN0YXRlLnk9dGhpcy5ib3VuZHMueTt0aGlzLnN0YXRlLm9yaWdpbj1uZXcgbXhQb2ludCh0aGlzLnN0YXRlLngvYi1jLngsdGhpcy5zdGF0ZS55L2ItYy55KTt0aGlzLnN0YXRlLndpZHRoPXRoaXMuYm91bmRzLndpZHRoO3RoaXMuc3RhdGUuaGVpZ2h0PXRoaXMuYm91bmRzLmhlaWdodDtiPXRoaXMuc3RhdGUuYWJzb2x1dGVPZmZzZXQ7bmV3IG14UG9pbnQoYi54LGIueSk7dGhpcy5zdGF0ZS5hYnNvbHV0ZU9mZnNldC54PTA7dGhpcy5zdGF0ZS5hYnNvbHV0ZU9mZnNldC55PTA7Yj10aGlzLmdyYXBoLmdldENlbGxHZW9tZXRyeSh0aGlzLnN0YXRlLmNlbGwpO251bGwhPWImJihjPWIub2Zmc2V0fHwKdGhpcy5FTVBUWV9QT0lOVCxudWxsPT1jfHxiLnJlbGF0aXZlfHwodGhpcy5zdGF0ZS5hYnNvbHV0ZU9mZnNldC54PXRoaXMuc3RhdGUudmlldy5zY2FsZSpjLngsdGhpcy5zdGF0ZS5hYnNvbHV0ZU9mZnNldC55PXRoaXMuc3RhdGUudmlldy5zY2FsZSpjLnkpLHRoaXMuc3RhdGUudmlldy51cGRhdGVWZXJ0ZXhMYWJlbE9mZnNldCh0aGlzLnN0YXRlKSk7dGhpcy5zdGF0ZS52aWV3LmdyYXBoLmNlbGxSZW5kZXJlci5yZWRyYXcodGhpcy5zdGF0ZSwhMCk7dGhpcy5zdGF0ZS52aWV3LmludmFsaWRhdGUodGhpcy5zdGF0ZS5jZWxsKTt0aGlzLnN0YXRlLmludmFsaWQ9ITE7dGhpcy5zdGF0ZS52aWV3LnZhbGlkYXRlKCk7dGhpcy5yZWRyYXdIYW5kbGVzKCk7dGhpcy5tb3ZlVG9Gcm9udCgpO251bGwhPXRoaXMuc3RhdGUuY29udHJvbCYmbnVsbCE9dGhpcy5zdGF0ZS5jb250cm9sLm5vZGUmJih0aGlzLnN0YXRlLmNvbnRyb2wubm9kZS5zdHlsZS52aXNpYmlsaXR5PSJoaWRkZW4iKTt0aGlzLnN0YXRlLnNldFN0YXRlKGEpfTsKbXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5tb3ZlVG9Gcm9udD1mdW5jdGlvbigpe2lmKG51bGwhPXRoaXMuc3RhdGUudGV4dCYmbnVsbCE9dGhpcy5zdGF0ZS50ZXh0Lm5vZGUmJm51bGwhPXRoaXMuc3RhdGUudGV4dC5ub2RlLm5leHRTaWJsaW5nfHxudWxsIT10aGlzLnN0YXRlLnNoYXBlJiZudWxsIT10aGlzLnN0YXRlLnNoYXBlLm5vZGUmJm51bGwhPXRoaXMuc3RhdGUuc2hhcGUubm9kZS5uZXh0U2libGluZyYmKG51bGw9PXRoaXMuc3RhdGUudGV4dHx8dGhpcy5zdGF0ZS5zaGFwZS5ub2RlLm5leHRTaWJsaW5nIT10aGlzLnN0YXRlLnRleHQubm9kZSkpbnVsbCE9dGhpcy5zdGF0ZS5zaGFwZSYmbnVsbCE9dGhpcy5zdGF0ZS5zaGFwZS5ub2RlJiZ0aGlzLnN0YXRlLnNoYXBlLm5vZGUucGFyZW50Tm9kZS5hcHBlbmRDaGlsZCh0aGlzLnN0YXRlLnNoYXBlLm5vZGUpLG51bGwhPXRoaXMuc3RhdGUudGV4dCYmbnVsbCE9dGhpcy5zdGF0ZS50ZXh0Lm5vZGUmJnRoaXMuc3RhdGUudGV4dC5ub2RlLnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQodGhpcy5zdGF0ZS50ZXh0Lm5vZGUpfTsKbXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5tb3VzZVVwPWZ1bmN0aW9uKGEsYil7aWYobnVsbCE9dGhpcy5pbmRleCYmbnVsbCE9dGhpcy5zdGF0ZSl7dmFyIGM9bmV3IG14UG9pbnQoYi5nZXRHcmFwaFgoKSxiLmdldEdyYXBoWSgpKSxkPXRoaXMuaW5kZXg7dGhpcy5pbmRleD1udWxsO251bGw9PXRoaXMuZ2hvc3RQcmV2aWV3JiYodGhpcy5zdGF0ZS52aWV3LmludmFsaWRhdGUodGhpcy5zdGF0ZS5jZWxsLCExLCExKSx0aGlzLnN0YXRlLnZpZXcudmFsaWRhdGUoKSk7dGhpcy5ncmFwaC5nZXRNb2RlbCgpLmJlZ2luVXBkYXRlKCk7dHJ5e2lmKGQ8PW14RXZlbnQuQ1VTVE9NX0hBTkRMRSl7aWYobnVsbCE9dGhpcy5jdXN0b21IYW5kbGVzKXt2YXIgZT10aGlzLnN0YXRlLnZpZXcuZ3JhcGguZ2V0Q2VsbFN0eWxlKHRoaXMuc3RhdGUuY2VsbCk7dGhpcy5jdXN0b21IYW5kbGVzW214RXZlbnQuQ1VTVE9NX0hBTkRMRS1kXS5hY3RpdmU9ITE7dGhpcy5jdXN0b21IYW5kbGVzW214RXZlbnQuQ1VTVE9NX0hBTkRMRS0KZF0uZXhlY3V0ZShiKTtudWxsIT10aGlzLmN1c3RvbUhhbmRsZXMmJm51bGwhPXRoaXMuY3VzdG9tSGFuZGxlc1tteEV2ZW50LkNVU1RPTV9IQU5ETEUtZF0mJih0aGlzLnN0YXRlLnN0eWxlPWUsdGhpcy5jdXN0b21IYW5kbGVzW214RXZlbnQuQ1VTVE9NX0hBTkRMRS1kXS5wb3NpdGlvbkNoYW5nZWQoKSl9fWVsc2UgaWYoZD09bXhFdmVudC5ST1RBVElPTl9IQU5ETEUpaWYobnVsbCE9dGhpcy5jdXJyZW50QWxwaGEpe3ZhciBmPXRoaXMuY3VycmVudEFscGhhLSh0aGlzLnN0YXRlLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX1JPVEFUSU9OXXx8MCk7MCE9ZiYmdGhpcy5yb3RhdGVDZWxsKHRoaXMuc3RhdGUuY2VsbCxmKX1lbHNlIHRoaXMucm90YXRlQ2xpY2soKTtlbHNle3ZhciBnPXRoaXMuZ3JhcGguaXNHcmlkRW5hYmxlZEV2ZW50KGIuZ2V0RXZlbnQoKSksaz1teFV0aWxzLnRvUmFkaWFucyh0aGlzLnN0YXRlLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX1JPVEFUSU9OXXx8IjAiKSwKbD1NYXRoLmNvcygtayksbT1NYXRoLnNpbigtayksbj1jLngtdGhpcy5zdGFydFgscD1jLnktdGhpcy5zdGFydFksYz1tKm4rbCpwLG49bCpuLW0qcCxwPWMscT10aGlzLmdyYXBoLnZpZXcuc2NhbGUscj10aGlzLmlzUmVjdXJzaXZlUmVzaXplKHRoaXMuc3RhdGUsYik7dGhpcy5yZXNpemVDZWxsKHRoaXMuc3RhdGUuY2VsbCx0aGlzLnJvdW5kTGVuZ3RoKG4vcSksdGhpcy5yb3VuZExlbmd0aChwL3EpLGQsZyx0aGlzLmlzQ29uc3RyYWluZWRFdmVudChiKSxyKX19ZmluYWxseXt0aGlzLmdyYXBoLmdldE1vZGVsKCkuZW5kVXBkYXRlKCl9Yi5jb25zdW1lKCk7dGhpcy5yZXNldCgpfX07bXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5pc1JlY3Vyc2l2ZVJlc2l6ZT1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmdyYXBoLmlzUmVjdXJzaXZlUmVzaXplKHRoaXMuc3RhdGUpfTtteFZlcnRleEhhbmRsZXIucHJvdG90eXBlLnJvdGF0ZUNsaWNrPWZ1bmN0aW9uKCl7fTsKbXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5yb3RhdGVDZWxsPWZ1bmN0aW9uKGEsYixjKXtpZigwIT1iKXt2YXIgZD10aGlzLmdyYXBoLmdldE1vZGVsKCk7aWYoZC5pc1ZlcnRleChhKXx8ZC5pc0VkZ2UoYSkpe2lmKCFkLmlzRWRnZShhKSl7dmFyIGU9KHRoaXMuZ3JhcGguZ2V0Q3VycmVudENlbGxTdHlsZShhKVtteENvbnN0YW50cy5TVFlMRV9ST1RBVElPTl18fDApK2I7dGhpcy5ncmFwaC5zZXRDZWxsU3R5bGVzKG14Q29uc3RhbnRzLlNUWUxFX1JPVEFUSU9OLGUsW2FdKX1lPXRoaXMuZ3JhcGguZ2V0Q2VsbEdlb21ldHJ5KGEpO2lmKG51bGwhPWUpe3ZhciBmPXRoaXMuZ3JhcGguZ2V0Q2VsbEdlb21ldHJ5KGMpO251bGw9PWZ8fGQuaXNFZGdlKGMpfHwoZT1lLmNsb25lKCksZS5yb3RhdGUoYixuZXcgbXhQb2ludChmLndpZHRoLzIsZi5oZWlnaHQvMikpLGQuc2V0R2VvbWV0cnkoYSxlKSk7aWYoZC5pc1ZlcnRleChhKSYmIWUucmVsYXRpdmV8fGQuaXNFZGdlKGEpKWZvcihjPQpkLmdldENoaWxkQ291bnQoYSksZT0wO2U8YztlKyspdGhpcy5yb3RhdGVDZWxsKGQuZ2V0Q2hpbGRBdChhLGUpLGIsYSl9fX19OwpteFZlcnRleEhhbmRsZXIucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7bnVsbCE9dGhpcy5zaXplcnMmJm51bGwhPXRoaXMuaW5kZXgmJm51bGwhPXRoaXMuc2l6ZXJzW3RoaXMuaW5kZXhdJiYibm9uZSI9PXRoaXMuc2l6ZXJzW3RoaXMuaW5kZXhdLm5vZGUuc3R5bGUuZGlzcGxheSYmKHRoaXMuc2l6ZXJzW3RoaXMuaW5kZXhdLm5vZGUuc3R5bGUuZGlzcGxheT0iIik7dGhpcy5pbmRleD10aGlzLmluVG9sZXJhbmNlPXRoaXMuY3VycmVudEFscGhhPW51bGw7bnVsbCE9dGhpcy5wcmV2aWV3JiYodGhpcy5wcmV2aWV3LmRlc3Ryb3koKSx0aGlzLnByZXZpZXc9bnVsbCk7bnVsbCE9dGhpcy5naG9zdFByZXZpZXcmJih0aGlzLmdob3N0UHJldmlldy5kZXN0cm95KCksdGhpcy5naG9zdFByZXZpZXc9bnVsbCk7aWYodGhpcy5saXZlUHJldmlld0FjdGl2ZSYmbnVsbCE9dGhpcy5zaXplcnMpe2Zvcih2YXIgYT0wO2E8dGhpcy5zaXplcnMubGVuZ3RoO2ErKyludWxsIT10aGlzLnNpemVyc1thXSYmCih0aGlzLnNpemVyc1thXS5ub2RlLnN0eWxlLmRpc3BsYXk9IiIpO251bGwhPXRoaXMuc3RhdGUuY29udHJvbCYmbnVsbCE9dGhpcy5zdGF0ZS5jb250cm9sLm5vZGUmJih0aGlzLnN0YXRlLmNvbnRyb2wubm9kZS5zdHlsZS52aXNpYmlsaXR5PSIiKX1pZihudWxsIT10aGlzLmN1c3RvbUhhbmRsZXMpZm9yKGE9MDthPHRoaXMuY3VzdG9tSGFuZGxlcy5sZW5ndGg7YSsrKXRoaXMuY3VzdG9tSGFuZGxlc1thXS5hY3RpdmU/KHRoaXMuY3VzdG9tSGFuZGxlc1thXS5hY3RpdmU9ITEsdGhpcy5jdXN0b21IYW5kbGVzW2FdLnJlc2V0KCkpOnRoaXMuY3VzdG9tSGFuZGxlc1thXS5zZXRWaXNpYmxlKCEwKTtudWxsIT10aGlzLnNlbGVjdGlvbkJvcmRlciYmKHRoaXMuc2VsZWN0aW9uQm9yZGVyLm5vZGUuc3R5bGUuZGlzcGxheT0iaW5saW5lIix0aGlzLnNlbGVjdGlvbkJvdW5kcz10aGlzLmdldFNlbGVjdGlvbkJvdW5kcyh0aGlzLnN0YXRlKSx0aGlzLmJvdW5kcz1uZXcgbXhSZWN0YW5nbGUodGhpcy5zZWxlY3Rpb25Cb3VuZHMueCwKdGhpcy5zZWxlY3Rpb25Cb3VuZHMueSx0aGlzLnNlbGVjdGlvbkJvdW5kcy53aWR0aCx0aGlzLnNlbGVjdGlvbkJvdW5kcy5oZWlnaHQpLHRoaXMuZHJhd1ByZXZpZXcoKSk7dGhpcy5yZW1vdmVIaW50KCk7dGhpcy5yZWRyYXdIYW5kbGVzKCk7dGhpcy5saXZlUHJldmlld0FjdGl2ZT10aGlzLnVuc2NhbGVkQm91bmRzPXRoaXMuZWRnZUhhbmRsZXJzPW51bGx9OwpteFZlcnRleEhhbmRsZXIucHJvdG90eXBlLnJlc2l6ZUNlbGw9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyl7Yj10aGlzLmdyYXBoLm1vZGVsLmdldEdlb21ldHJ5KGEpO251bGwhPWImJihkPT1teEV2ZW50LkxBQkVMX0hBTkRMRT8oZD0tbXhVdGlscy50b1JhZGlhbnModGhpcy5zdGF0ZS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9ST1RBVElPTl18fCIwIiksZz1NYXRoLmNvcyhkKSxjPU1hdGguc2luKGQpLGQ9dGhpcy5ncmFwaC52aWV3LnNjYWxlLGc9bXhVdGlscy5nZXRSb3RhdGVkUG9pbnQobmV3IG14UG9pbnQoTWF0aC5yb3VuZCgodGhpcy5sYWJlbFNoYXBlLmJvdW5kcy5nZXRDZW50ZXJYKCktdGhpcy5zdGFydFgpL2QpLE1hdGgucm91bmQoKHRoaXMubGFiZWxTaGFwZS5ib3VuZHMuZ2V0Q2VudGVyWSgpLXRoaXMuc3RhcnRZKS9kKSksZyxjKSxiPWIuY2xvbmUoKSxudWxsPT1iLm9mZnNldD9iLm9mZnNldD1nOihiLm9mZnNldC54Kz1nLngsYi5vZmZzZXQueSs9Zy55KSx0aGlzLmdyYXBoLm1vZGVsLnNldEdlb21ldHJ5KGEsCmIpKTpudWxsIT10aGlzLnVuc2NhbGVkQm91bmRzJiYoZD10aGlzLmdyYXBoLnZpZXcuc2NhbGUsMD09dGhpcy5jaGlsZE9mZnNldFgmJjA9PXRoaXMuY2hpbGRPZmZzZXRZfHx0aGlzLm1vdmVDaGlsZHJlbihhLE1hdGgucm91bmQodGhpcy5jaGlsZE9mZnNldFgvZCksTWF0aC5yb3VuZCh0aGlzLmNoaWxkT2Zmc2V0WS9kKSksdGhpcy5ncmFwaC5yZXNpemVDZWxsKGEsdGhpcy51bnNjYWxlZEJvdW5kcyxnKSkpfTtteFZlcnRleEhhbmRsZXIucHJvdG90eXBlLm1vdmVDaGlsZHJlbj1mdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkPXRoaXMuZ3JhcGguZ2V0TW9kZWwoKSxlPWQuZ2V0Q2hpbGRDb3VudChhKSxmPTA7ZjxlO2YrKyl7dmFyIGc9ZC5nZXRDaGlsZEF0KGEsZiksaz10aGlzLmdyYXBoLmdldENlbGxHZW9tZXRyeShnKTtudWxsIT1rJiYoaz1rLmNsb25lKCksay50cmFuc2xhdGUoYixjKSxkLnNldEdlb21ldHJ5KGcsaykpfX07Cm14VmVydGV4SGFuZGxlci5wcm90b3R5cGUudW5pb249ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxrLGwpe2U9bnVsbCE9ZT9lJiZ0aGlzLmdyYXBoLmdyaWRFbmFibGVkOnRoaXMuZ3JhcGguZ3JpZEVuYWJsZWQ7aWYodGhpcy5zaW5nbGVTaXplcilyZXR1cm4gZD1hLngrYS53aWR0aCtiLGc9YS55K2EuaGVpZ2h0K2MsZSYmKGQ9dGhpcy5ncmFwaC5zbmFwKGQvZikqZixnPXRoaXMuZ3JhcGguc25hcChnL2YpKmYpLGY9bmV3IG14UmVjdGFuZ2xlKGEueCxhLnksMCwwKSxmLmFkZChuZXcgbXhSZWN0YW5nbGUoZCxnLDAsMCkpLGY7dmFyIG09YS53aWR0aCxuPWEuaGVpZ2h0LHA9YS54LWcueCpmLHE9cCttO2E9YS55LWcueSpmO3ZhciByPWErbix0PXArbS8yLHU9YStuLzI7NDxkPyhyKz1jLHI9ZT90aGlzLmdyYXBoLnNuYXAoci9mKSpmOk1hdGgucm91bmQoci9mKSpmKTozPmQmJihhKz1jLGE9ZT90aGlzLmdyYXBoLnNuYXAoYS9mKSpmOk1hdGgucm91bmQoYS9mKSpmKTtpZigwPT1kfHwKMz09ZHx8NT09ZClwKz1iLHA9ZT90aGlzLmdyYXBoLnNuYXAocC9mKSpmOk1hdGgucm91bmQocC9mKSpmO2Vsc2UgaWYoMj09ZHx8ND09ZHx8Nz09ZClxKz1iLHE9ZT90aGlzLmdyYXBoLnNuYXAocS9mKSpmOk1hdGgucm91bmQocS9mKSpmO2U9cS1wO2M9ci1hO2smJihrPXRoaXMuZ3JhcGguZ2V0Q2VsbEdlb21ldHJ5KHRoaXMuc3RhdGUuY2VsbCksbnVsbCE9ayYmKGs9ay53aWR0aC9rLmhlaWdodCwxPT1kfHwyPT1kfHw3PT1kfHw2PT1kP2U9YyprOmM9ZS9rLDA9PWQmJihwPXEtZSxhPXItYykpKTtsJiYoZSs9ZS1tLGMrPWMtbixwKz10LShwK2UvMiksYSs9dS0oYStjLzIpKTswPmUmJihwKz1lLGU9TWF0aC5hYnMoZSkpOzA+YyYmKGErPWMsYz1NYXRoLmFicyhjKSk7ZD1uZXcgbXhSZWN0YW5nbGUocCtnLngqZixhK2cueSpmLGUsYyk7bnVsbCE9dGhpcy5taW5Cb3VuZHMmJihkLndpZHRoPU1hdGgubWF4KGQud2lkdGgsdGhpcy5taW5Cb3VuZHMueCpmK3RoaXMubWluQm91bmRzLndpZHRoKgpmK01hdGgubWF4KDAsdGhpcy54MCpmLWQueCkpLGQuaGVpZ2h0PU1hdGgubWF4KGQuaGVpZ2h0LHRoaXMubWluQm91bmRzLnkqZit0aGlzLm1pbkJvdW5kcy5oZWlnaHQqZitNYXRoLm1heCgwLHRoaXMueTAqZi1kLnkpKSk7cmV0dXJuIGR9O214VmVydGV4SGFuZGxlci5wcm90b3R5cGUucmVkcmF3PWZ1bmN0aW9uKGEpe3RoaXMuc2VsZWN0aW9uQm91bmRzPXRoaXMuZ2V0U2VsZWN0aW9uQm91bmRzKHRoaXMuc3RhdGUpO3RoaXMuYm91bmRzPW5ldyBteFJlY3RhbmdsZSh0aGlzLnNlbGVjdGlvbkJvdW5kcy54LHRoaXMuc2VsZWN0aW9uQm91bmRzLnksdGhpcy5zZWxlY3Rpb25Cb3VuZHMud2lkdGgsdGhpcy5zZWxlY3Rpb25Cb3VuZHMuaGVpZ2h0KTt0aGlzLmRyYXdQcmV2aWV3KCk7YXx8dGhpcy5yZWRyYXdIYW5kbGVzKCl9OwpteFZlcnRleEhhbmRsZXIucHJvdG90eXBlLmdldEhhbmRsZVBhZGRpbmc9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgbXhQb2ludCgwLDApLGI9dGhpcy50b2xlcmFuY2U7bnVsbCE9dGhpcy5zaXplcnMmJjA8dGhpcy5zaXplcnMubGVuZ3RoJiZudWxsIT10aGlzLnNpemVyc1swXSYmKHRoaXMuYm91bmRzLndpZHRoPDIqdGhpcy5zaXplcnNbMF0uYm91bmRzLndpZHRoKzIqYnx8dGhpcy5ib3VuZHMuaGVpZ2h0PDIqdGhpcy5zaXplcnNbMF0uYm91bmRzLmhlaWdodCsyKmIpJiYoYi89MixhLng9dGhpcy5zaXplcnNbMF0uYm91bmRzLndpZHRoK2IsYS55PXRoaXMuc2l6ZXJzWzBdLmJvdW5kcy5oZWlnaHQrYik7cmV0dXJuIGF9O214VmVydGV4SGFuZGxlci5wcm90b3R5cGUuZ2V0U2l6ZXJCb3VuZHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ib3VuZHN9OwpteFZlcnRleEhhbmRsZXIucHJvdG90eXBlLnJlZHJhd0hhbmRsZXM9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldFNpemVyQm91bmRzKCksYj10aGlzLnRvbGVyYW5jZTt0aGlzLnZlcnRpY2FsT2Zmc2V0PXRoaXMuaG9yaXpvbnRhbE9mZnNldD0wO2lmKG51bGwhPXRoaXMuY3VzdG9tSGFuZGxlcylmb3IodmFyIGM9MDtjPHRoaXMuY3VzdG9tSGFuZGxlcy5sZW5ndGg7YysrKXt2YXIgZD10aGlzLmN1c3RvbUhhbmRsZXNbY10uc2hhcGUubm9kZS5zdHlsZS5kaXNwbGF5O3RoaXMuY3VzdG9tSGFuZGxlc1tjXS5yZWRyYXcoKTt0aGlzLmN1c3RvbUhhbmRsZXNbY10uc2hhcGUubm9kZS5zdHlsZS5kaXNwbGF5PWQ7dGhpcy5jdXN0b21IYW5kbGVzW2NdLnNoYXBlLm5vZGUuc3R5bGUudmlzaWJpbGl0eT10aGlzLmlzQ3VzdG9tSGFuZGxlVmlzaWJsZSh0aGlzLmN1c3RvbUhhbmRsZXNbY10pPyIiOiJoaWRkZW4ifWlmKG51bGwhPXRoaXMuc2l6ZXJzJiYwPHRoaXMuc2l6ZXJzLmxlbmd0aCYmCm51bGwhPXRoaXMuc2l6ZXJzWzBdKXtpZihudWxsPT10aGlzLmluZGV4JiZ0aGlzLm1hbmFnZVNpemVycyYmODw9dGhpcy5zaXplcnMubGVuZ3RoKXtjPXRoaXMuZ2V0SGFuZGxlUGFkZGluZygpO3RoaXMuaG9yaXpvbnRhbE9mZnNldD1jLng7dGhpcy52ZXJ0aWNhbE9mZnNldD1jLnk7aWYoMCE9dGhpcy5ob3Jpem9udGFsT2Zmc2V0fHwwIT10aGlzLnZlcnRpY2FsT2Zmc2V0KWE9bmV3IG14UmVjdGFuZ2xlKGEueCxhLnksYS53aWR0aCxhLmhlaWdodCksYS54LT10aGlzLmhvcml6b250YWxPZmZzZXQvMixhLndpZHRoKz10aGlzLmhvcml6b250YWxPZmZzZXQsYS55LT10aGlzLnZlcnRpY2FsT2Zmc2V0LzIsYS5oZWlnaHQrPXRoaXMudmVydGljYWxPZmZzZXQ7ODw9dGhpcy5zaXplcnMubGVuZ3RoJiYoYS53aWR0aDwyKnRoaXMuc2l6ZXJzWzBdLmJvdW5kcy53aWR0aCsyKmJ8fGEuaGVpZ2h0PDIqdGhpcy5zaXplcnNbMF0uYm91bmRzLmhlaWdodCsyKmI/KHRoaXMuc2l6ZXJzWzBdLm5vZGUuc3R5bGUuZGlzcGxheT0KIm5vbmUiLHRoaXMuc2l6ZXJzWzJdLm5vZGUuc3R5bGUuZGlzcGxheT0ibm9uZSIsdGhpcy5zaXplcnNbNV0ubm9kZS5zdHlsZS5kaXNwbGF5PSJub25lIix0aGlzLnNpemVyc1s3XS5ub2RlLnN0eWxlLmRpc3BsYXk9Im5vbmUiKToodGhpcy5zaXplcnNbMF0ubm9kZS5zdHlsZS5kaXNwbGF5PSIiLHRoaXMuc2l6ZXJzWzJdLm5vZGUuc3R5bGUuZGlzcGxheT0iIix0aGlzLnNpemVyc1s1XS5ub2RlLnN0eWxlLmRpc3BsYXk9IiIsdGhpcy5zaXplcnNbN10ubm9kZS5zdHlsZS5kaXNwbGF5PSIiKSl9Yj1hLngrYS53aWR0aDtjPWEueSthLmhlaWdodDtpZih0aGlzLnNpbmdsZVNpemVyKXRoaXMubW92ZVNpemVyVG8odGhpcy5zaXplcnNbMF0sYixjKTtlbHNle3ZhciBkPWEueCthLndpZHRoLzIsZT1hLnkrYS5oZWlnaHQvMjtpZig4PD10aGlzLnNpemVycy5sZW5ndGgpe3ZhciBmPSJudy1yZXNpemUgbi1yZXNpemUgbmUtcmVzaXplIGUtcmVzaXplIHNlLXJlc2l6ZSBzLXJlc2l6ZSBzdy1yZXNpemUgdy1yZXNpemUiLnNwbGl0KCIgIiksCmc9bXhVdGlscy50b1JhZGlhbnModGhpcy5zdGF0ZS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9ST1RBVElPTl18fCIwIiksaz1NYXRoLmNvcyhnKSxsPU1hdGguc2luKGcpLGc9TWF0aC5yb3VuZCg0KmcvTWF0aC5QSSksbT1uZXcgbXhQb2ludChhLmdldENlbnRlclgoKSxhLmdldENlbnRlclkoKSksbj1teFV0aWxzLmdldFJvdGF0ZWRQb2ludChuZXcgbXhQb2ludChhLngsYS55KSxrLGwsbSk7dGhpcy5tb3ZlU2l6ZXJUbyh0aGlzLnNpemVyc1swXSxuLngsbi55KTt0aGlzLnNpemVyc1swXS5zZXRDdXJzb3IoZltteFV0aWxzLm1vZCgwK2csZi5sZW5ndGgpXSk7bi54PWQ7bi55PWEueTtuPW14VXRpbHMuZ2V0Um90YXRlZFBvaW50KG4sayxsLG0pO3RoaXMubW92ZVNpemVyVG8odGhpcy5zaXplcnNbMV0sbi54LG4ueSk7dGhpcy5zaXplcnNbMV0uc2V0Q3Vyc29yKGZbbXhVdGlscy5tb2QoMStnLGYubGVuZ3RoKV0pO24ueD1iO24ueT1hLnk7bj1teFV0aWxzLmdldFJvdGF0ZWRQb2ludChuLAprLGwsbSk7dGhpcy5tb3ZlU2l6ZXJUbyh0aGlzLnNpemVyc1syXSxuLngsbi55KTt0aGlzLnNpemVyc1syXS5zZXRDdXJzb3IoZltteFV0aWxzLm1vZCgyK2csZi5sZW5ndGgpXSk7bi54PWEueDtuLnk9ZTtuPW14VXRpbHMuZ2V0Um90YXRlZFBvaW50KG4sayxsLG0pO3RoaXMubW92ZVNpemVyVG8odGhpcy5zaXplcnNbM10sbi54LG4ueSk7dGhpcy5zaXplcnNbM10uc2V0Q3Vyc29yKGZbbXhVdGlscy5tb2QoNytnLGYubGVuZ3RoKV0pO24ueD1iO24ueT1lO249bXhVdGlscy5nZXRSb3RhdGVkUG9pbnQobixrLGwsbSk7dGhpcy5tb3ZlU2l6ZXJUbyh0aGlzLnNpemVyc1s0XSxuLngsbi55KTt0aGlzLnNpemVyc1s0XS5zZXRDdXJzb3IoZltteFV0aWxzLm1vZCgzK2csZi5sZW5ndGgpXSk7bi54PWEueDtuLnk9YztuPW14VXRpbHMuZ2V0Um90YXRlZFBvaW50KG4sayxsLG0pO3RoaXMubW92ZVNpemVyVG8odGhpcy5zaXplcnNbNV0sbi54LG4ueSk7dGhpcy5zaXplcnNbNV0uc2V0Q3Vyc29yKGZbbXhVdGlscy5tb2QoNisKZyxmLmxlbmd0aCldKTtuLng9ZDtuLnk9YztuPW14VXRpbHMuZ2V0Um90YXRlZFBvaW50KG4sayxsLG0pO3RoaXMubW92ZVNpemVyVG8odGhpcy5zaXplcnNbNl0sbi54LG4ueSk7dGhpcy5zaXplcnNbNl0uc2V0Q3Vyc29yKGZbbXhVdGlscy5tb2QoNStnLGYubGVuZ3RoKV0pO24ueD1iO24ueT1jO249bXhVdGlscy5nZXRSb3RhdGVkUG9pbnQobixrLGwsbSk7dGhpcy5tb3ZlU2l6ZXJUbyh0aGlzLnNpemVyc1s3XSxuLngsbi55KTt0aGlzLnNpemVyc1s3XS5zZXRDdXJzb3IoZltteFV0aWxzLm1vZCg0K2csZi5sZW5ndGgpXSk7bi54PWQrdGhpcy5zdGF0ZS5hYnNvbHV0ZU9mZnNldC54O24ueT1lK3RoaXMuc3RhdGUuYWJzb2x1dGVPZmZzZXQueTtuPW14VXRpbHMuZ2V0Um90YXRlZFBvaW50KG4sayxsLG0pO3RoaXMubW92ZVNpemVyVG8odGhpcy5zaXplcnNbOF0sbi54LG4ueSl9ZWxzZSAyPD10aGlzLnN0YXRlLndpZHRoJiYyPD10aGlzLnN0YXRlLmhlaWdodD90aGlzLm1vdmVTaXplclRvKHRoaXMuc2l6ZXJzWzBdLApkK3RoaXMuc3RhdGUuYWJzb2x1dGVPZmZzZXQueCxlK3RoaXMuc3RhdGUuYWJzb2x1dGVPZmZzZXQueSk6dGhpcy5tb3ZlU2l6ZXJUbyh0aGlzLnNpemVyc1swXSx0aGlzLnN0YXRlLngsdGhpcy5zdGF0ZS55KX19bnVsbCE9dGhpcy5yb3RhdGlvblNoYXBlJiYoZz1teFV0aWxzLnRvUmFkaWFucyhudWxsIT10aGlzLmN1cnJlbnRBbHBoYT90aGlzLmN1cnJlbnRBbHBoYTp0aGlzLnN0YXRlLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX1JPVEFUSU9OXXx8IjAiKSxrPU1hdGguY29zKGcpLGw9TWF0aC5zaW4oZyksbT1uZXcgbXhQb2ludCh0aGlzLnN0YXRlLmdldENlbnRlclgoKSx0aGlzLnN0YXRlLmdldENlbnRlclkoKSksbj1teFV0aWxzLmdldFJvdGF0ZWRQb2ludCh0aGlzLmdldFJvdGF0aW9uSGFuZGxlUG9zaXRpb24oKSxrLGwsbSksbnVsbCE9dGhpcy5yb3RhdGlvblNoYXBlLm5vZGUmJih0aGlzLm1vdmVTaXplclRvKHRoaXMucm90YXRpb25TaGFwZSxuLngsbi55KSx0aGlzLnJvdGF0aW9uU2hhcGUubm9kZS5zdHlsZS52aXNpYmlsaXR5PQp0aGlzLnN0YXRlLnZpZXcuZ3JhcGguaXNFZGl0aW5nKCk/ImhpZGRlbiI6IiIpKTtudWxsIT10aGlzLnNlbGVjdGlvbkJvcmRlciYmKHRoaXMuc2VsZWN0aW9uQm9yZGVyLnJvdGF0aW9uPU51bWJlcih0aGlzLnN0YXRlLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX1JPVEFUSU9OXXx8IjAiKSk7aWYobnVsbCE9dGhpcy5lZGdlSGFuZGxlcnMpZm9yKGM9MDtjPHRoaXMuZWRnZUhhbmRsZXJzLmxlbmd0aDtjKyspdGhpcy5lZGdlSGFuZGxlcnNbY10ucmVkcmF3KCl9O214VmVydGV4SGFuZGxlci5wcm90b3R5cGUuaXNDdXN0b21IYW5kbGVWaXNpYmxlPWZ1bmN0aW9uKGEpe3JldHVybiF0aGlzLmdyYXBoLmlzRWRpdGluZygpJiYxPT10aGlzLnN0YXRlLnZpZXcuZ3JhcGguZ2V0U2VsZWN0aW9uQ291bnQoKX07Cm14VmVydGV4SGFuZGxlci5wcm90b3R5cGUuZ2V0Um90YXRpb25IYW5kbGVQb3NpdGlvbj1mdW5jdGlvbigpe3JldHVybiBuZXcgbXhQb2ludCh0aGlzLmJvdW5kcy54K3RoaXMuYm91bmRzLndpZHRoLzIsdGhpcy5ib3VuZHMueSt0aGlzLnJvdGF0aW9uSGFuZGxlVlNwYWNpbmcpfTtteFZlcnRleEhhbmRsZXIucHJvdG90eXBlLmlzUGFyZW50SGlnaGxpZ2h0VmlzaWJsZT1mdW5jdGlvbigpe3JldHVybiEwfTsKbXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS51cGRhdGVQYXJlbnRIaWdobGlnaHQ9ZnVuY3Rpb24oKXtpZihudWxsIT10aGlzLnNlbGVjdGlvbkJvcmRlciYmdGhpcy5pc1BhcmVudEhpZ2hsaWdodFZpc2libGUoKSlpZihudWxsIT10aGlzLnBhcmVudEhpZ2hsaWdodCl7dmFyIGE9dGhpcy5ncmFwaC5tb2RlbC5nZXRQYXJlbnQodGhpcy5zdGF0ZS5jZWxsKTtpZih0aGlzLmdyYXBoLm1vZGVsLmlzVmVydGV4KGEpKXt2YXIgYT10aGlzLmdyYXBoLnZpZXcuZ2V0U3RhdGUoYSksYj10aGlzLnBhcmVudEhpZ2hsaWdodC5ib3VuZHM7bnVsbD09YXx8Yi54PT1hLngmJmIueT09YS55JiZiLndpZHRoPT1hLndpZHRoJiZiLmhlaWdodD09YS5oZWlnaHR8fCh0aGlzLnBhcmVudEhpZ2hsaWdodC5ib3VuZHM9bXhSZWN0YW5nbGUuZnJvbVJlY3RhbmdsZShhKSx0aGlzLnBhcmVudEhpZ2hsaWdodC5yZWRyYXcoKSl9ZWxzZSB0aGlzLnBhcmVudEhpZ2hsaWdodC5kZXN0cm95KCksdGhpcy5wYXJlbnRIaWdobGlnaHQ9Cm51bGx9ZWxzZSB0aGlzLnBhcmVudEhpZ2hsaWdodEVuYWJsZWQmJihhPXRoaXMuZ3JhcGgubW9kZWwuZ2V0UGFyZW50KHRoaXMuc3RhdGUuY2VsbCksdGhpcy5ncmFwaC5tb2RlbC5pc1ZlcnRleChhKSYmKGE9dGhpcy5ncmFwaC52aWV3LmdldFN0YXRlKGEpLG51bGwhPWEmJih0aGlzLnBhcmVudEhpZ2hsaWdodD10aGlzLmNyZWF0ZVBhcmVudEhpZ2hsaWdodFNoYXBlKGEpLHRoaXMucGFyZW50SGlnaGxpZ2h0LmRpYWxlY3Q9dGhpcy5ncmFwaC5kaWFsZWN0IT1teENvbnN0YW50cy5ESUFMRUNUX1NWRz9teENvbnN0YW50cy5ESUFMRUNUX1ZNTDpteENvbnN0YW50cy5ESUFMRUNUX1NWRyx0aGlzLnBhcmVudEhpZ2hsaWdodC5wb2ludGVyRXZlbnRzPSExLHRoaXMucGFyZW50SGlnaGxpZ2h0LnJvdGF0aW9uPU51bWJlcihhLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX1JPVEFUSU9OXXx8IjAiKSx0aGlzLnBhcmVudEhpZ2hsaWdodC5pbml0KHRoaXMuZ3JhcGguZ2V0VmlldygpLmdldE92ZXJsYXlQYW5lKCkpLAp0aGlzLnBhcmVudEhpZ2hsaWdodC5yZWRyYXcoKSkpKX07Cm14VmVydGV4SGFuZGxlci5wcm90b3R5cGUuZHJhd1ByZXZpZXc9ZnVuY3Rpb24oKXtudWxsIT10aGlzLnByZXZpZXcmJih0aGlzLnByZXZpZXcuYm91bmRzPXRoaXMuYm91bmRzLHRoaXMucHJldmlldy5ub2RlLnBhcmVudE5vZGU9PXRoaXMuZ3JhcGguY29udGFpbmVyJiYodGhpcy5wcmV2aWV3LmJvdW5kcy53aWR0aD1NYXRoLm1heCgwLHRoaXMucHJldmlldy5ib3VuZHMud2lkdGgtMSksdGhpcy5wcmV2aWV3LmJvdW5kcy5oZWlnaHQ9TWF0aC5tYXgoMCx0aGlzLnByZXZpZXcuYm91bmRzLmhlaWdodC0xKSksdGhpcy5wcmV2aWV3LnJvdGF0aW9uPU51bWJlcih0aGlzLnN0YXRlLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX1JPVEFUSU9OXXx8IjAiKSx0aGlzLnByZXZpZXcucmVkcmF3KCkpO3RoaXMuc2VsZWN0aW9uQm9yZGVyLmJvdW5kcz10aGlzLmdldFNlbGVjdGlvbkJvcmRlckJvdW5kcygpO3RoaXMuc2VsZWN0aW9uQm9yZGVyLnJlZHJhdygpO3RoaXMudXBkYXRlUGFyZW50SGlnaGxpZ2h0KCl9OwpteFZlcnRleEhhbmRsZXIucHJvdG90eXBlLmdldFNlbGVjdGlvbkJvcmRlckJvdW5kcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmJvdW5kc307Cm14VmVydGV4SGFuZGxlci5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe251bGwhPXRoaXMuZXNjYXBlSGFuZGxlciYmKHRoaXMuc3RhdGUudmlldy5ncmFwaC5yZW1vdmVMaXN0ZW5lcih0aGlzLmVzY2FwZUhhbmRsZXIpLHRoaXMuZXNjYXBlSGFuZGxlcj1udWxsKTtudWxsIT10aGlzLnByZXZpZXcmJih0aGlzLnByZXZpZXcuZGVzdHJveSgpLHRoaXMucHJldmlldz1udWxsKTtudWxsIT10aGlzLnBhcmVudEhpZ2hsaWdodCYmKHRoaXMucGFyZW50SGlnaGxpZ2h0LmRlc3Ryb3koKSx0aGlzLnBhcmVudEhpZ2hsaWdodD1udWxsKTtudWxsIT10aGlzLmdob3N0UHJldmlldyYmKHRoaXMuZ2hvc3RQcmV2aWV3LmRlc3Ryb3koKSx0aGlzLmdob3N0UHJldmlldz1udWxsKTtudWxsIT10aGlzLnNlbGVjdGlvbkJvcmRlciYmKHRoaXMuc2VsZWN0aW9uQm9yZGVyLmRlc3Ryb3koKSx0aGlzLnNlbGVjdGlvbkJvcmRlcj1udWxsKTt0aGlzLmxhYmVsU2hhcGU9bnVsbDt0aGlzLnJlbW92ZUhpbnQoKTsKaWYobnVsbCE9dGhpcy5zaXplcnMpe2Zvcih2YXIgYT0wO2E8dGhpcy5zaXplcnMubGVuZ3RoO2ErKyl0aGlzLnNpemVyc1thXS5kZXN0cm95KCk7dGhpcy5zaXplcnM9bnVsbH1pZihudWxsIT10aGlzLmN1c3RvbUhhbmRsZXMpe2ZvcihhPTA7YTx0aGlzLmN1c3RvbUhhbmRsZXMubGVuZ3RoO2ErKyl0aGlzLmN1c3RvbUhhbmRsZXNbYV0uZGVzdHJveSgpO3RoaXMuY3VzdG9tSGFuZGxlcz1udWxsfX07CmZ1bmN0aW9uIG14RWRnZUhhbmRsZXIoYSl7bnVsbCE9YSYmKHRoaXMuc3RhdGU9YSx0aGlzLmluaXQoKSx0aGlzLmVzY2FwZUhhbmRsZXI9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYixjKXt2YXIgZD1udWxsIT10aGlzLmluZGV4O3RoaXMucmVzZXQoKTtkJiZ0aGlzLmdyYXBoLmNlbGxSZW5kZXJlci5yZWRyYXcodGhpcy5zdGF0ZSwhMSxhLnZpZXcuaXNSZW5kZXJpbmcoKSl9KSx0aGlzLnN0YXRlLnZpZXcuZ3JhcGguYWRkTGlzdGVuZXIobXhFdmVudC5FU0NBUEUsdGhpcy5lc2NhcGVIYW5kbGVyKSl9bXhFZGdlSGFuZGxlci5wcm90b3R5cGUuZ3JhcGg9bnVsbDtteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5zdGF0ZT1udWxsO214RWRnZUhhbmRsZXIucHJvdG90eXBlLm1hcmtlcj1udWxsO214RWRnZUhhbmRsZXIucHJvdG90eXBlLmNvbnN0cmFpbnRIYW5kbGVyPW51bGw7bXhFZGdlSGFuZGxlci5wcm90b3R5cGUuZXJyb3I9bnVsbDsKbXhFZGdlSGFuZGxlci5wcm90b3R5cGUuc2hhcGU9bnVsbDtteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5iZW5kcz1udWxsO214RWRnZUhhbmRsZXIucHJvdG90eXBlLmxhYmVsU2hhcGU9bnVsbDtteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5jbG9uZUVuYWJsZWQ9ITA7bXhFZGdlSGFuZGxlci5wcm90b3R5cGUuYWRkRW5hYmxlZD0hMTtteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5yZW1vdmVFbmFibGVkPSExO214RWRnZUhhbmRsZXIucHJvdG90eXBlLmRibENsaWNrUmVtb3ZlRW5hYmxlZD0hMTtteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5tZXJnZVJlbW92ZUVuYWJsZWQ9ITE7bXhFZGdlSGFuZGxlci5wcm90b3R5cGUuc3RyYWlnaHRSZW1vdmVFbmFibGVkPSExO214RWRnZUhhbmRsZXIucHJvdG90eXBlLnZpcnR1YWxCZW5kc0VuYWJsZWQ9ITE7bXhFZGdlSGFuZGxlci5wcm90b3R5cGUudmlydHVhbEJlbmRPcGFjaXR5PTIwOwpteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5wYXJlbnRIaWdobGlnaHRFbmFibGVkPSExO214RWRnZUhhbmRsZXIucHJvdG90eXBlLnByZWZlckh0bWw9ITE7bXhFZGdlSGFuZGxlci5wcm90b3R5cGUuYWxsb3dIYW5kbGVCb3VuZHNDaGVjaz0hMDtteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5zbmFwVG9UZXJtaW5hbHM9ITE7bXhFZGdlSGFuZGxlci5wcm90b3R5cGUuaGFuZGxlSW1hZ2U9bnVsbDtteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS50b2xlcmFuY2U9MDtteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5vdXRsaW5lQ29ubmVjdD0hMTtteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5tYW5hZ2VMYWJlbEhhbmRsZT0hMTsKbXhFZGdlSGFuZGxlci5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbigpe3RoaXMuZ3JhcGg9dGhpcy5zdGF0ZS52aWV3LmdyYXBoO3RoaXMubWFya2VyPXRoaXMuY3JlYXRlTWFya2VyKCk7dGhpcy5jb25zdHJhaW50SGFuZGxlcj1uZXcgbXhDb25zdHJhaW50SGFuZGxlcih0aGlzLmdyYXBoKTt0aGlzLnBvaW50cz1bXTt0aGlzLmFic3BvaW50cz10aGlzLmdldFNlbGVjdGlvblBvaW50cyh0aGlzLnN0YXRlKTt0aGlzLnNoYXBlPXRoaXMuY3JlYXRlU2VsZWN0aW9uU2hhcGUodGhpcy5hYnNwb2ludHMpO3RoaXMuc2hhcGUuZGlhbGVjdD10aGlzLmdyYXBoLmRpYWxlY3QhPW14Q29uc3RhbnRzLkRJQUxFQ1RfU1ZHP214Q29uc3RhbnRzLkRJQUxFQ1RfTUlYRURIVE1MOm14Q29uc3RhbnRzLkRJQUxFQ1RfU1ZHO3RoaXMuc2hhcGUuaW5pdCh0aGlzLmdyYXBoLmdldFZpZXcoKS5nZXRPdmVybGF5UGFuZSgpKTt0aGlzLnNoYXBlLnBvaW50ZXJFdmVudHM9ITE7dGhpcy5zaGFwZS5zZXRDdXJzb3IobXhDb25zdGFudHMuQ1VSU09SX01PVkFCTEVfRURHRSk7Cm14RXZlbnQucmVkaXJlY3RNb3VzZUV2ZW50cyh0aGlzLnNoYXBlLm5vZGUsdGhpcy5ncmFwaCx0aGlzLnN0YXRlKTt0aGlzLnByZWZlckh0bWw9bnVsbCE9dGhpcy5zdGF0ZS50ZXh0JiZ0aGlzLnN0YXRlLnRleHQubm9kZS5wYXJlbnROb2RlPT10aGlzLmdyYXBoLmNvbnRhaW5lcjtpZighdGhpcy5wcmVmZXJIdG1sKXt2YXIgYT10aGlzLnN0YXRlLmdldFZpc2libGVUZXJtaW5hbFN0YXRlKCEwKTtudWxsIT1hJiYodGhpcy5wcmVmZXJIdG1sPW51bGwhPWEudGV4dCYmYS50ZXh0Lm5vZGUucGFyZW50Tm9kZT09dGhpcy5ncmFwaC5jb250YWluZXIpO3RoaXMucHJlZmVySHRtbHx8KGE9dGhpcy5zdGF0ZS5nZXRWaXNpYmxlVGVybWluYWxTdGF0ZSghMSksbnVsbCE9YSYmKHRoaXMucHJlZmVySHRtbD1udWxsIT1hLnRleHQmJmEudGV4dC5ub2RlLnBhcmVudE5vZGU9PXRoaXMuZ3JhcGguY29udGFpbmVyKSl9dGhpcy5wYXJlbnRIaWdobGlnaHRFbmFibGVkJiYoYT10aGlzLmdyYXBoLm1vZGVsLmdldFBhcmVudCh0aGlzLnN0YXRlLmNlbGwpLAp0aGlzLmdyYXBoLm1vZGVsLmlzVmVydGV4KGEpJiYoYT10aGlzLmdyYXBoLnZpZXcuZ2V0U3RhdGUoYSksbnVsbCE9YSYmKHRoaXMucGFyZW50SGlnaGxpZ2h0PXRoaXMuY3JlYXRlUGFyZW50SGlnaGxpZ2h0U2hhcGUoYSksdGhpcy5wYXJlbnRIaWdobGlnaHQuZGlhbGVjdD10aGlzLmdyYXBoLmRpYWxlY3QhPW14Q29uc3RhbnRzLkRJQUxFQ1RfU1ZHP214Q29uc3RhbnRzLkRJQUxFQ1RfVk1MOm14Q29uc3RhbnRzLkRJQUxFQ1RfU1ZHLHRoaXMucGFyZW50SGlnaGxpZ2h0LnBvaW50ZXJFdmVudHM9ITEsdGhpcy5wYXJlbnRIaWdobGlnaHQucm90YXRpb249TnVtYmVyKGEuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfUk9UQVRJT05dfHwiMCIpLHRoaXMucGFyZW50SGlnaGxpZ2h0LmluaXQodGhpcy5ncmFwaC5nZXRWaWV3KCkuZ2V0T3ZlcmxheVBhbmUoKSkpKSk7aWYodGhpcy5ncmFwaC5nZXRTZWxlY3Rpb25Db3VudCgpPG14R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5tYXhDZWxsc3x8CjA+PW14R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5tYXhDZWxscyl0aGlzLmJlbmRzPXRoaXMuY3JlYXRlQmVuZHMoKSx0aGlzLmlzVmlydHVhbEJlbmRzRW5hYmxlZCgpJiYodGhpcy52aXJ0dWFsQmVuZHM9dGhpcy5jcmVhdGVWaXJ0dWFsQmVuZHMoKSk7dGhpcy5sYWJlbD1uZXcgbXhQb2ludCh0aGlzLnN0YXRlLmFic29sdXRlT2Zmc2V0LngsdGhpcy5zdGF0ZS5hYnNvbHV0ZU9mZnNldC55KTt0aGlzLmxhYmVsU2hhcGU9dGhpcy5jcmVhdGVMYWJlbEhhbmRsZVNoYXBlKCk7dGhpcy5pbml0QmVuZCh0aGlzLmxhYmVsU2hhcGUpO3RoaXMubGFiZWxTaGFwZS5zZXRDdXJzb3IobXhDb25zdGFudHMuQ1VSU09SX0xBQkVMX0hBTkRMRSk7dGhpcy5jdXN0b21IYW5kbGVzPXRoaXMuY3JlYXRlQ3VzdG9tSGFuZGxlcygpO3RoaXMucmVkcmF3KCl9O214RWRnZUhhbmRsZXIucHJvdG90eXBlLmNyZWF0ZUN1c3RvbUhhbmRsZXM9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH07Cm14RWRnZUhhbmRsZXIucHJvdG90eXBlLmlzVmlydHVhbEJlbmRzRW5hYmxlZD1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy52aXJ0dWFsQmVuZHNFbmFibGVkJiYobnVsbD09dGhpcy5zdGF0ZS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9FREdFXXx8dGhpcy5zdGF0ZS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9FREdFXT09bXhDb25zdGFudHMuTk9ORXx8MT09dGhpcy5zdGF0ZS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9OT0VER0VTVFlMRV0pJiYiYXJyb3ciIT1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3RhdGUuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfU0hBUEUsbnVsbCl9O214RWRnZUhhbmRsZXIucHJvdG90eXBlLmlzQ2VsbEVuYWJsZWQ9ZnVuY3Rpb24oYSl7cmV0dXJuITB9O214RWRnZUhhbmRsZXIucHJvdG90eXBlLmlzQWRkUG9pbnRFdmVudD1mdW5jdGlvbihhKXtyZXR1cm4gbXhFdmVudC5pc1NoaWZ0RG93bihhKX07Cm14RWRnZUhhbmRsZXIucHJvdG90eXBlLmlzUmVtb3ZlUG9pbnRFdmVudD1mdW5jdGlvbihhKXtyZXR1cm4gbXhFdmVudC5pc1NoaWZ0RG93bihhKX07bXhFZGdlSGFuZGxlci5wcm90b3R5cGUuZ2V0U2VsZWN0aW9uUG9pbnRzPWZ1bmN0aW9uKGEpe3JldHVybiBhLmFic29sdXRlUG9pbnRzfTtteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5jcmVhdGVQYXJlbnRIaWdobGlnaHRTaGFwZT1mdW5jdGlvbihhKXthPW5ldyBteFJlY3RhbmdsZVNoYXBlKGEsbnVsbCx0aGlzLmdldFNlbGVjdGlvbkNvbG9yKCkpO2Euc3Ryb2tld2lkdGg9dGhpcy5nZXRTZWxlY3Rpb25TdHJva2VXaWR0aCgpO2EuaXNEYXNoZWQ9dGhpcy5pc1NlbGVjdGlvbkRhc2hlZCgpO3JldHVybiBhfTsKbXhFZGdlSGFuZGxlci5wcm90b3R5cGUuY3JlYXRlU2VsZWN0aW9uU2hhcGU9ZnVuY3Rpb24oYSl7YT1uZXcgdGhpcy5zdGF0ZS5zaGFwZS5jb25zdHJ1Y3RvcjthLm91dGxpbmU9ITA7YS5hcHBseSh0aGlzLnN0YXRlKTthLmlzRGFzaGVkPXRoaXMuaXNTZWxlY3Rpb25EYXNoZWQoKTthLnN0cm9rZT10aGlzLmdldFNlbGVjdGlvbkNvbG9yKCk7YS5pc1NoYWRvdz0hMTtyZXR1cm4gYX07bXhFZGdlSGFuZGxlci5wcm90b3R5cGUuZ2V0U2VsZWN0aW9uQ29sb3I9ZnVuY3Rpb24oKXtyZXR1cm4gbXhDb25zdGFudHMuRURHRV9TRUxFQ1RJT05fQ09MT1J9O214RWRnZUhhbmRsZXIucHJvdG90eXBlLmdldFNlbGVjdGlvblN0cm9rZVdpZHRoPWZ1bmN0aW9uKCl7cmV0dXJuIG14Q29uc3RhbnRzLkVER0VfU0VMRUNUSU9OX1NUUk9LRVdJRFRIfTtteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5pc1NlbGVjdGlvbkRhc2hlZD1mdW5jdGlvbigpe3JldHVybiBteENvbnN0YW50cy5FREdFX1NFTEVDVElPTl9EQVNIRUR9OwpteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5pc0Nvbm5lY3RhYmxlQ2VsbD1mdW5jdGlvbihhKXtyZXR1cm4hMH07bXhFZGdlSGFuZGxlci5wcm90b3R5cGUuZ2V0Q2VsbEF0PWZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMub3V0bGluZUNvbm5lY3Q/bnVsbDp0aGlzLmdyYXBoLmdldENlbGxBdChhLGIpfTsKbXhFZGdlSGFuZGxlci5wcm90b3R5cGUuY3JlYXRlTWFya2VyPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IG14Q2VsbE1hcmtlcih0aGlzLmdyYXBoKSxiPXRoaXM7YS5nZXRDZWxsPWZ1bmN0aW9uKGEpe3ZhciBjPW14Q2VsbE1hcmtlci5wcm90b3R5cGUuZ2V0Q2VsbC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7YyE9Yi5zdGF0ZS5jZWxsJiZudWxsIT1jfHxudWxsPT1iLmN1cnJlbnRQb2ludHx8KGM9Yi5ncmFwaC5nZXRDZWxsQXQoYi5jdXJyZW50UG9pbnQueCxiLmN1cnJlbnRQb2ludC55KSk7aWYobnVsbCE9YyYmIXRoaXMuZ3JhcGguaXNDZWxsQ29ubmVjdGFibGUoYykpe3ZhciBlPXRoaXMuZ3JhcGguZ2V0TW9kZWwoKS5nZXRQYXJlbnQoYyk7dGhpcy5ncmFwaC5nZXRNb2RlbCgpLmlzVmVydGV4KGUpJiZ0aGlzLmdyYXBoLmlzQ2VsbENvbm5lY3RhYmxlKGUpJiYoYz1lKX1lPWIuZ3JhcGguZ2V0TW9kZWwoKTtpZih0aGlzLmdyYXBoLmlzU3dpbWxhbmUoYykmJm51bGwhPWIuY3VycmVudFBvaW50JiYKdGhpcy5ncmFwaC5oaXRzU3dpbWxhbmVDb250ZW50KGMsYi5jdXJyZW50UG9pbnQueCxiLmN1cnJlbnRQb2ludC55KXx8IWIuaXNDb25uZWN0YWJsZUNlbGwoYyl8fGM9PWIuc3RhdGUuY2VsbHx8bnVsbCE9YyYmIWIuZ3JhcGguY29ubmVjdGFibGVFZGdlcyYmZS5pc0VkZ2UoYyl8fGUuaXNBbmNlc3RvcihiLnN0YXRlLmNlbGwsYykpYz1udWxsO3RoaXMuZ3JhcGguaXNDZWxsQ29ubmVjdGFibGUoYyl8fChjPW51bGwpO3JldHVybiBjfTthLmlzVmFsaWRTdGF0ZT1mdW5jdGlvbihhKXt2YXIgYz1iLmdyYXBoLmdldE1vZGVsKCksYz1iLmdyYXBoLnZpZXcuZ2V0VGVybWluYWxQb3J0KGEsYi5ncmFwaC52aWV3LmdldFN0YXRlKGMuZ2V0VGVybWluYWwoYi5zdGF0ZS5jZWxsLCFiLmlzU291cmNlKSksIWIuaXNTb3VyY2UpLGM9bnVsbCE9Yz9jLmNlbGw6bnVsbDtiLmVycm9yPWIudmFsaWRhdGVDb25uZWN0aW9uKGIuaXNTb3VyY2U/YS5jZWxsOmMsYi5pc1NvdXJjZT9jOmEuY2VsbCk7CnJldHVybiBudWxsPT1iLmVycm9yfTtyZXR1cm4gYX07bXhFZGdlSGFuZGxlci5wcm90b3R5cGUudmFsaWRhdGVDb25uZWN0aW9uPWZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuZ3JhcGguZ2V0RWRnZVZhbGlkYXRpb25FcnJvcih0aGlzLnN0YXRlLmNlbGwsYSxiKX07Cm14RWRnZUhhbmRsZXIucHJvdG90eXBlLmNyZWF0ZUJlbmRzPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPXRoaXMuc3RhdGUuY2VsbCxiPVtdLGM9MDtjPHRoaXMuYWJzcG9pbnRzLmxlbmd0aDtjKyspaWYodGhpcy5pc0hhbmRsZVZpc2libGUoYykpe3ZhciBkPWM9PXRoaXMuYWJzcG9pbnRzLmxlbmd0aC0xLGU9MD09Y3x8ZDsoZXx8dGhpcy5ncmFwaC5pc0NlbGxCZW5kYWJsZShhKSkmJm14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3ZhciBkPXRoaXMuY3JlYXRlSGFuZGxlU2hhcGUoYSk7dGhpcy5pbml0QmVuZChkLG14VXRpbHMuYmluZCh0aGlzLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dGhpcy5kYmxDbGlja1JlbW92ZUVuYWJsZWQmJnRoaXMucmVtb3ZlUG9pbnQodGhpcy5zdGF0ZSxhKX0pKSk7dGhpcy5pc0hhbmRsZUVuYWJsZWQoYykmJmQuc2V0Q3Vyc29yKGU/bXhDb25zdGFudHMuQ1VSU09SX1RFUk1JTkFMX0hBTkRMRTpteENvbnN0YW50cy5DVVJTT1JfQkVORF9IQU5ETEUpOwpiLnB1c2goZCk7ZXx8KHRoaXMucG9pbnRzLnB1c2gobmV3IG14UG9pbnQoMCwwKSksZC5ub2RlLnN0eWxlLnZpc2liaWxpdHk9ImhpZGRlbiIpfSkoYyl9cmV0dXJuIGJ9O214RWRnZUhhbmRsZXIucHJvdG90eXBlLmNyZWF0ZVZpcnR1YWxCZW5kcz1mdW5jdGlvbigpe3ZhciBhPVtdO2lmKHRoaXMuZ3JhcGguaXNDZWxsQmVuZGFibGUodGhpcy5zdGF0ZS5jZWxsKSlmb3IodmFyIGI9MTtiPHRoaXMuYWJzcG9pbnRzLmxlbmd0aDtiKyspbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYil7dGhpcy5pbml0QmVuZChiKTtiLnNldEN1cnNvcihteENvbnN0YW50cy5DVVJTT1JfVklSVFVBTF9CRU5EX0hBTkRMRSk7YS5wdXNoKGIpfSkodGhpcy5jcmVhdGVIYW5kbGVTaGFwZSgpKTtyZXR1cm4gYX07bXhFZGdlSGFuZGxlci5wcm90b3R5cGUuaXNIYW5kbGVFbmFibGVkPWZ1bmN0aW9uKGEpe3JldHVybiEwfTsKbXhFZGdlSGFuZGxlci5wcm90b3R5cGUuaXNIYW5kbGVWaXNpYmxlPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuc3RhdGUuZ2V0VmlzaWJsZVRlcm1pbmFsU3RhdGUoITApLGM9dGhpcy5zdGF0ZS5nZXRWaXNpYmxlVGVybWluYWxTdGF0ZSghMSksZD10aGlzLmdyYXBoLmdldENlbGxHZW9tZXRyeSh0aGlzLnN0YXRlLmNlbGwpO3JldHVybihudWxsIT1kP3RoaXMuZ3JhcGgudmlldy5nZXRFZGdlU3R5bGUodGhpcy5zdGF0ZSxkLnBvaW50cyxiLGMpOm51bGwpIT1teEVkZ2VTdHlsZS5FbnRpdHlSZWxhdGlvbnx8MD09YXx8YT09dGhpcy5hYnNwb2ludHMubGVuZ3RoLTF9OwpteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5jcmVhdGVIYW5kbGVTaGFwZT1mdW5jdGlvbihhKXtpZihudWxsIT10aGlzLmhhbmRsZUltYWdlKXJldHVybiBhPW5ldyBteEltYWdlU2hhcGUobmV3IG14UmVjdGFuZ2xlKDAsMCx0aGlzLmhhbmRsZUltYWdlLndpZHRoLHRoaXMuaGFuZGxlSW1hZ2UuaGVpZ2h0KSx0aGlzLmhhbmRsZUltYWdlLnNyYyksYS5wcmVzZXJ2ZUltYWdlQXNwZWN0PSExLGE7YT1teENvbnN0YW50cy5IQU5ETEVfU0laRTt0aGlzLnByZWZlckh0bWwmJi0tYTtyZXR1cm4gbmV3IG14UmVjdGFuZ2xlU2hhcGUobmV3IG14UmVjdGFuZ2xlKDAsMCxhLGEpLG14Q29uc3RhbnRzLkhBTkRMRV9GSUxMQ09MT1IsbXhDb25zdGFudHMuSEFORExFX1NUUk9LRUNPTE9SKX07Cm14RWRnZUhhbmRsZXIucHJvdG90eXBlLmNyZWF0ZUxhYmVsSGFuZGxlU2hhcGU9ZnVuY3Rpb24oKXtpZihudWxsIT10aGlzLmxhYmVsSGFuZGxlSW1hZ2Upe3ZhciBhPW5ldyBteEltYWdlU2hhcGUobmV3IG14UmVjdGFuZ2xlKDAsMCx0aGlzLmxhYmVsSGFuZGxlSW1hZ2Uud2lkdGgsdGhpcy5sYWJlbEhhbmRsZUltYWdlLmhlaWdodCksdGhpcy5sYWJlbEhhbmRsZUltYWdlLnNyYyk7YS5wcmVzZXJ2ZUltYWdlQXNwZWN0PSExO3JldHVybiBhfWE9bXhDb25zdGFudHMuTEFCRUxfSEFORExFX1NJWkU7cmV0dXJuIG5ldyBteFJlY3RhbmdsZVNoYXBlKG5ldyBteFJlY3RhbmdsZSgwLDAsYSxhKSxteENvbnN0YW50cy5MQUJFTF9IQU5ETEVfRklMTENPTE9SLG14Q29uc3RhbnRzLkhBTkRMRV9TVFJPS0VDT0xPUil9OwpteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5pbml0QmVuZD1mdW5jdGlvbihhLGIpe3RoaXMucHJlZmVySHRtbD8oYS5kaWFsZWN0PW14Q29uc3RhbnRzLkRJQUxFQ1RfU1RSSUNUSFRNTCxhLmluaXQodGhpcy5ncmFwaC5jb250YWluZXIpKTooYS5kaWFsZWN0PXRoaXMuZ3JhcGguZGlhbGVjdCE9bXhDb25zdGFudHMuRElBTEVDVF9TVkc/bXhDb25zdGFudHMuRElBTEVDVF9NSVhFREhUTUw6bXhDb25zdGFudHMuRElBTEVDVF9TVkcsYS5pbml0KHRoaXMuZ3JhcGguZ2V0VmlldygpLmdldE92ZXJsYXlQYW5lKCkpKTtteEV2ZW50LnJlZGlyZWN0TW91c2VFdmVudHMoYS5ub2RlLHRoaXMuZ3JhcGgsdGhpcy5zdGF0ZSxudWxsLG51bGwsbnVsbCxiKTsobXhDbGllbnQuSVNfUVVJUktTfHw4PT1kb2N1bWVudC5kb2N1bWVudE1vZGUpJiZteEV2ZW50LmFkZExpc3RlbmVyKGEubm9kZSwiZHJhZ3N0YXJ0IixmdW5jdGlvbihhKXtteEV2ZW50LmNvbnN1bWUoYSk7cmV0dXJuITF9KTtteENsaWVudC5JU19UT1VDSCYmCmEubm9kZS5zZXRBdHRyaWJ1dGUoInBvaW50ZXItZXZlbnRzIiwibm9uZSIpfTsKbXhFZGdlSGFuZGxlci5wcm90b3R5cGUuZ2V0SGFuZGxlRm9yRXZlbnQ9ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihiKXtpZihudWxsIT1iJiZudWxsIT1iLm5vZGUmJiJub25lIiE9Yi5ub2RlLnN0eWxlLmRpc3BsYXkmJiJoaWRkZW4iIT1iLm5vZGUuc3R5bGUudmlzaWJpbGl0eSYmKGEuaXNTb3VyY2UoYil8fG51bGwhPWQmJm14VXRpbHMuaW50ZXJzZWN0cyhiLmJvdW5kcyxkKSkpe3ZhciBjPWEuZ2V0R3JhcGhYKCktYi5ib3VuZHMuZ2V0Q2VudGVyWCgpO2I9YS5nZXRHcmFwaFkoKS1iLmJvdW5kcy5nZXRDZW50ZXJZKCk7Yz1jKmMrYipiO2lmKG51bGw9PWV8fGM8PWUpcmV0dXJuIGU9YywhMH1yZXR1cm4hMX12YXIgYz1teEV2ZW50LmlzTW91c2VFdmVudChhLmdldEV2ZW50KCkpPzE6dGhpcy50b2xlcmFuY2UsZD10aGlzLmFsbG93SGFuZGxlQm91bmRzQ2hlY2smJihteENsaWVudC5JU19JRXx8MDxjKT9uZXcgbXhSZWN0YW5nbGUoYS5nZXRHcmFwaFgoKS1jLGEuZ2V0R3JhcGhZKCktCmMsMipjLDIqYyk6bnVsbCxlPW51bGwsYz1udWxsO2lmKG51bGwhPXRoaXMuY3VzdG9tSGFuZGxlcyYmdGhpcy5pc0N1c3RvbUhhbmRsZUV2ZW50KGEpKWZvcih2YXIgZj10aGlzLmN1c3RvbUhhbmRsZXMubGVuZ3RoLTE7MDw9ZjtmLS0paWYoYih0aGlzLmN1c3RvbUhhbmRsZXNbZl0uc2hhcGUpKXJldHVybiBteEV2ZW50LkNVU1RPTV9IQU5ETEUtZjtpZihhLmlzU291cmNlKHRoaXMuc3RhdGUudGV4dCl8fGIodGhpcy5sYWJlbFNoYXBlKSljPW14RXZlbnQuTEFCRUxfSEFORExFO2lmKG51bGwhPXRoaXMuYmVuZHMpZm9yKGY9MDtmPHRoaXMuYmVuZHMubGVuZ3RoO2YrKyliKHRoaXMuYmVuZHNbZl0pJiYoYz1mKTtpZihudWxsIT10aGlzLnZpcnR1YWxCZW5kcyYmdGhpcy5pc0FkZFZpcnR1YWxCZW5kRXZlbnQoYSkpZm9yKGY9MDtmPHRoaXMudmlydHVhbEJlbmRzLmxlbmd0aDtmKyspYih0aGlzLnZpcnR1YWxCZW5kc1tmXSkmJihjPW14RXZlbnQuVklSVFVBTF9IQU5ETEUtZik7cmV0dXJuIGN9OwpteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5pc0FkZFZpcnR1YWxCZW5kRXZlbnQ9ZnVuY3Rpb24oYSl7cmV0dXJuITB9O214RWRnZUhhbmRsZXIucHJvdG90eXBlLmlzQ3VzdG9tSGFuZGxlRXZlbnQ9ZnVuY3Rpb24oYSl7cmV0dXJuITB9OwpteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5tb3VzZURvd249ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdldEhhbmRsZUZvckV2ZW50KGIpO2lmKG51bGwhPXRoaXMuYmVuZHMmJm51bGwhPXRoaXMuYmVuZHNbY10pe3ZhciBkPXRoaXMuYmVuZHNbY10uYm91bmRzO3RoaXMuc25hcFBvaW50PW5ldyBteFBvaW50KGQuZ2V0Q2VudGVyWCgpLGQuZ2V0Q2VudGVyWSgpKX1pZih0aGlzLmFkZEVuYWJsZWQmJm51bGw9PWMmJnRoaXMuaXNBZGRQb2ludEV2ZW50KGIuZ2V0RXZlbnQoKSkpdGhpcy5hZGRQb2ludCh0aGlzLnN0YXRlLGIuZ2V0RXZlbnQoKSksYi5jb25zdW1lKCk7ZWxzZSBpZihudWxsIT1jJiYhYi5pc0NvbnN1bWVkKCkmJnRoaXMuZ3JhcGguaXNFbmFibGVkKCkpe2lmKHRoaXMucmVtb3ZlRW5hYmxlZCYmdGhpcy5pc1JlbW92ZVBvaW50RXZlbnQoYi5nZXRFdmVudCgpKSl0aGlzLnJlbW92ZVBvaW50KHRoaXMuc3RhdGUsYyk7ZWxzZSBpZihjIT1teEV2ZW50LkxBQkVMX0hBTkRMRXx8CnRoaXMuZ3JhcGguaXNMYWJlbE1vdmFibGUoYi5nZXRDZWxsKCkpKWM8PW14RXZlbnQuVklSVFVBTF9IQU5ETEUmJm14VXRpbHMuc2V0T3BhY2l0eSh0aGlzLnZpcnR1YWxCZW5kc1tteEV2ZW50LlZJUlRVQUxfSEFORExFLWNdLm5vZGUsMTAwKSx0aGlzLnN0YXJ0KGIuZ2V0WCgpLGIuZ2V0WSgpLGMpO2IuY29uc3VtZSgpfX07Cm14RWRnZUhhbmRsZXIucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKGEsYixjKXt0aGlzLnN0YXJ0WD1hO3RoaXMuc3RhcnRZPWI7dGhpcy5pc1NvdXJjZT1udWxsPT10aGlzLmJlbmRzPyExOjA9PWM7dGhpcy5pc1RhcmdldD1udWxsPT10aGlzLmJlbmRzPyExOmM9PXRoaXMuYmVuZHMubGVuZ3RoLTE7dGhpcy5pc0xhYmVsPWM9PW14RXZlbnQuTEFCRUxfSEFORExFO2lmKHRoaXMuaXNTb3VyY2V8fHRoaXMuaXNUYXJnZXQpe2lmKGE9dGhpcy5zdGF0ZS5jZWxsLGI9dGhpcy5ncmFwaC5tb2RlbC5nZXRUZXJtaW5hbChhLHRoaXMuaXNTb3VyY2UpLG51bGw9PWImJnRoaXMuZ3JhcGguaXNUZXJtaW5hbFBvaW50TW92YWJsZShhLHRoaXMuaXNTb3VyY2UpfHxudWxsIT1iJiZ0aGlzLmdyYXBoLmlzQ2VsbERpc2Nvbm5lY3RhYmxlKGEsYix0aGlzLmlzU291cmNlKSl0aGlzLmluZGV4PWN9ZWxzZSB0aGlzLmluZGV4PWM7aWYodGhpcy5pbmRleDw9bXhFdmVudC5DVVNUT01fSEFORExFJiZ0aGlzLmluZGV4PgpteEV2ZW50LlZJUlRVQUxfSEFORExFJiZudWxsIT10aGlzLmN1c3RvbUhhbmRsZXMpZm9yKGM9MDtjPHRoaXMuY3VzdG9tSGFuZGxlcy5sZW5ndGg7YysrKWMhPW14RXZlbnQuQ1VTVE9NX0hBTkRMRS10aGlzLmluZGV4JiZ0aGlzLmN1c3RvbUhhbmRsZXNbY10uc2V0VmlzaWJsZSghMSl9O214RWRnZUhhbmRsZXIucHJvdG90eXBlLmNsb25lUHJldmlld1N0YXRlPWZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuc3RhdGUuY2xvbmUoKX07bXhFZGdlSGFuZGxlci5wcm90b3R5cGUuZ2V0U25hcFRvVGVybWluYWxUb2xlcmFuY2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ncmFwaC5ncmlkU2l6ZSp0aGlzLmdyYXBoLnZpZXcuc2NhbGUvMn07bXhFZGdlSGFuZGxlci5wcm90b3R5cGUudXBkYXRlSGludD1mdW5jdGlvbihhLGIpe307bXhFZGdlSGFuZGxlci5wcm90b3R5cGUucmVtb3ZlSGludD1mdW5jdGlvbigpe307bXhFZGdlSGFuZGxlci5wcm90b3R5cGUucm91bmRMZW5ndGg9ZnVuY3Rpb24oYSl7cmV0dXJuIE1hdGgucm91bmQoYSl9OwpteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5pc1NuYXBUb1Rlcm1pbmFsc0V2ZW50PWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnNuYXBUb1Rlcm1pbmFscyYmIW14RXZlbnQuaXNBbHREb3duKGEuZ2V0RXZlbnQoKSl9OwpteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5nZXRQb2ludEZvckV2ZW50PWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZ3JhcGguZ2V0VmlldygpLGM9Yi5zY2FsZSxkPW5ldyBteFBvaW50KHRoaXMucm91bmRMZW5ndGgoYS5nZXRHcmFwaFgoKS9jKSpjLHRoaXMucm91bmRMZW5ndGgoYS5nZXRHcmFwaFkoKS9jKSpjKSxlPXRoaXMuZ2V0U25hcFRvVGVybWluYWxUb2xlcmFuY2UoKSxmPSExLGc9ITE7aWYoMDxlJiZ0aGlzLmlzU25hcFRvVGVybWluYWxzRXZlbnQoYSkpe3ZhciBrPWZ1bmN0aW9uKGEpe251bGwhPWEmJmwuY2FsbCh0aGlzLG5ldyBteFBvaW50KGIuZ2V0Um91dGluZ0NlbnRlclgoYSksYi5nZXRSb3V0aW5nQ2VudGVyWShhKSkpfSxsPWZ1bmN0aW9uKGEpe2lmKG51bGwhPWEpe3ZhciBiPWEueDtNYXRoLmFicyhkLngtYik8ZSYmKGQueD1iLGY9ITApO2E9YS55O01hdGguYWJzKGQueS1hKTxlJiYoZC55PWEsZz0hMCl9fTtrLmNhbGwodGhpcyx0aGlzLnN0YXRlLmdldFZpc2libGVUZXJtaW5hbFN0YXRlKCEwKSk7CmsuY2FsbCh0aGlzLHRoaXMuc3RhdGUuZ2V0VmlzaWJsZVRlcm1pbmFsU3RhdGUoITEpKTtpZihudWxsIT10aGlzLnN0YXRlLmFic29sdXRlUG9pbnRzKWZvcihrPTA7azx0aGlzLnN0YXRlLmFic29sdXRlUG9pbnRzLmxlbmd0aDtrKyspbC5jYWxsKHRoaXMsdGhpcy5zdGF0ZS5hYnNvbHV0ZVBvaW50c1trXSl9dGhpcy5ncmFwaC5pc0dyaWRFbmFibGVkRXZlbnQoYS5nZXRFdmVudCgpKSYmKGE9Yi50cmFuc2xhdGUsZnx8KGQueD0odGhpcy5ncmFwaC5zbmFwKGQueC9jLWEueCkrYS54KSpjKSxnfHwoZC55PSh0aGlzLmdyYXBoLnNuYXAoZC55L2MtYS55KSthLnkpKmMpKTtyZXR1cm4gZH07Cm14RWRnZUhhbmRsZXIucHJvdG90eXBlLmdldFByZXZpZXdUZXJtaW5hbFN0YXRlPWZ1bmN0aW9uKGEpe3RoaXMuY29uc3RyYWludEhhbmRsZXIudXBkYXRlKGEsdGhpcy5pc1NvdXJjZSwhMCxhLmlzU291cmNlKHRoaXMubWFya2VyLmhpZ2hsaWdodC5zaGFwZSk/bnVsbDp0aGlzLmN1cnJlbnRQb2ludCk7aWYobnVsbCE9dGhpcy5jb25zdHJhaW50SGFuZGxlci5jdXJyZW50Rm9jdXMmJm51bGwhPXRoaXMuY29uc3RyYWludEhhbmRsZXIuY3VycmVudENvbnN0cmFpbnQpcmV0dXJuIG51bGwhPXRoaXMubWFya2VyLmhpZ2hsaWdodCYmbnVsbCE9dGhpcy5tYXJrZXIuaGlnaGxpZ2h0LnN0YXRlJiZ0aGlzLm1hcmtlci5oaWdobGlnaHQuc3RhdGUuY2VsbD09dGhpcy5jb25zdHJhaW50SGFuZGxlci5jdXJyZW50Rm9jdXMuY2VsbD8idHJhbnNwYXJlbnQiIT10aGlzLm1hcmtlci5oaWdobGlnaHQuc2hhcGUuc3Ryb2tlJiYodGhpcy5tYXJrZXIuaGlnaGxpZ2h0LnNoYXBlLnN0cm9rZT0idHJhbnNwYXJlbnQiLAp0aGlzLm1hcmtlci5oaWdobGlnaHQucmVwYWludCgpKTp0aGlzLm1hcmtlci5tYXJrQ2VsbCh0aGlzLmNvbnN0cmFpbnRIYW5kbGVyLmN1cnJlbnRGb2N1cy5jZWxsLCJ0cmFuc3BhcmVudCIpLGE9dGhpcy5ncmFwaC5nZXRNb2RlbCgpLGE9dGhpcy5ncmFwaC52aWV3LmdldFRlcm1pbmFsUG9ydCh0aGlzLnN0YXRlLHRoaXMuZ3JhcGgudmlldy5nZXRTdGF0ZShhLmdldFRlcm1pbmFsKHRoaXMuc3RhdGUuY2VsbCwhdGhpcy5pc1NvdXJjZSkpLCF0aGlzLmlzU291cmNlKSxhPW51bGwhPWE/YS5jZWxsOm51bGwsdGhpcy5lcnJvcj10aGlzLnZhbGlkYXRlQ29ubmVjdGlvbih0aGlzLmlzU291cmNlP3RoaXMuY29uc3RyYWludEhhbmRsZXIuY3VycmVudEZvY3VzLmNlbGw6YSx0aGlzLmlzU291cmNlP2E6dGhpcy5jb25zdHJhaW50SGFuZGxlci5jdXJyZW50Rm9jdXMuY2VsbCksYT1udWxsLG51bGw9PXRoaXMuZXJyb3ImJihhPXRoaXMuY29uc3RyYWludEhhbmRsZXIuY3VycmVudEZvY3VzKSwKKG51bGwhPXRoaXMuZXJyb3J8fG51bGwhPWEmJiF0aGlzLmlzQ2VsbEVuYWJsZWQoYS5jZWxsKSkmJnRoaXMuY29uc3RyYWludEhhbmRsZXIucmVzZXQoKSxhO2lmKHRoaXMuZ3JhcGguaXNJZ25vcmVUZXJtaW5hbEV2ZW50KGEuZ2V0RXZlbnQoKSkpcmV0dXJuIHRoaXMubWFya2VyLnJlc2V0KCksbnVsbDt0aGlzLm1hcmtlci5wcm9jZXNzKGEpO2E9dGhpcy5tYXJrZXIuZ2V0VmFsaWRTdGF0ZSgpO251bGw9PWF8fHRoaXMuaXNDZWxsRW5hYmxlZChhLmNlbGwpfHwodGhpcy5jb25zdHJhaW50SGFuZGxlci5yZXNldCgpLHRoaXMubWFya2VyLnJlc2V0KCkpO3JldHVybiB0aGlzLm1hcmtlci5nZXRWYWxpZFN0YXRlKCl9OwpteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5nZXRQcmV2aWV3UG9pbnRzPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5ncmFwaC5nZXRDZWxsR2VvbWV0cnkodGhpcy5zdGF0ZS5jZWxsKSxjPW51bGwhPWMucG9pbnRzP2MucG9pbnRzLnNsaWNlKCk6bnVsbCxkPW5ldyBteFBvaW50KGEueCxhLnkpLGU9bnVsbDtpZih0aGlzLmlzU291cmNlfHx0aGlzLmlzVGFyZ2V0KXRoaXMuZ3JhcGgucmVzZXRFZGdlc09uQ29ubmVjdCYmKGM9bnVsbCk7ZWxzZSBpZih0aGlzLmNvbnZlcnRQb2ludChkLCExKSxudWxsPT1jKWM9W2RdO2Vsc2V7dGhpcy5pbmRleDw9bXhFdmVudC5WSVJUVUFMX0hBTkRMRSYmYy5zcGxpY2UobXhFdmVudC5WSVJUVUFMX0hBTkRMRS10aGlzLmluZGV4LDAsZCk7aWYoIXRoaXMuaXNTb3VyY2UmJiF0aGlzLmlzVGFyZ2V0KXtmb3IodmFyIGY9MDtmPHRoaXMuYmVuZHMubGVuZ3RoO2YrKylpZihmIT10aGlzLmluZGV4KXt2YXIgZz10aGlzLmJlbmRzW2ZdO251bGwhPWcmJm14VXRpbHMuY29udGFpbnMoZy5ib3VuZHMsCmEueCxhLnkpJiYodGhpcy5pbmRleDw9bXhFdmVudC5WSVJUVUFMX0hBTkRMRT9jLnNwbGljZShteEV2ZW50LlZJUlRVQUxfSEFORExFLXRoaXMuaW5kZXgsMSk6Yy5zcGxpY2UodGhpcy5pbmRleC0xLDEpLGU9Yyl9aWYobnVsbD09ZSYmdGhpcy5zdHJhaWdodFJlbW92ZUVuYWJsZWQmJihudWxsPT1ifHwhbXhFdmVudC5pc0FsdERvd24oYi5nZXRFdmVudCgpKSkpe2Y9dGhpcy5ncmFwaC50b2xlcmFuY2UqdGhpcy5ncmFwaC50b2xlcmFuY2U7Zz10aGlzLnN0YXRlLmFic29sdXRlUG9pbnRzLnNsaWNlKCk7Z1t0aGlzLmluZGV4XT1hO3ZhciBrPXRoaXMuc3RhdGUuZ2V0VmlzaWJsZVRlcm1pbmFsU3RhdGUoITApO2lmKG51bGwhPWspe3ZhciBsPXRoaXMuZ3JhcGguZ2V0Q29ubmVjdGlvbkNvbnN0cmFpbnQodGhpcy5zdGF0ZSxrLCEwKTtpZihudWxsPT1sfHxudWxsPT10aGlzLmdyYXBoLmdldENvbm5lY3Rpb25Qb2ludChrLGwpKWdbMF09bmV3IG14UG9pbnQoay52aWV3LmdldFJvdXRpbmdDZW50ZXJYKGspLAprLnZpZXcuZ2V0Um91dGluZ0NlbnRlclkoaykpfWs9dGhpcy5zdGF0ZS5nZXRWaXNpYmxlVGVybWluYWxTdGF0ZSghMSk7bnVsbCE9ayYmKGw9dGhpcy5ncmFwaC5nZXRDb25uZWN0aW9uQ29uc3RyYWludCh0aGlzLnN0YXRlLGssITEpLG51bGw9PWx8fG51bGw9PXRoaXMuZ3JhcGguZ2V0Q29ubmVjdGlvblBvaW50KGssbCkpJiYoZ1tnLmxlbmd0aC0xXT1uZXcgbXhQb2ludChrLnZpZXcuZ2V0Um91dGluZ0NlbnRlclgoayksay52aWV3LmdldFJvdXRpbmdDZW50ZXJZKGspKSk7bD10aGlzLmluZGV4OzA8bCYmbDxnLmxlbmd0aC0xJiZteFV0aWxzLnB0U2VnRGlzdFNxKGdbbC0xXS54LGdbbC0xXS55LGdbbCsxXS54LGdbbCsxXS55LGEueCxhLnkpPGYmJihjLnNwbGljZShsLTEsMSksZT1jKX19bnVsbD09ZSYmdGhpcy5pbmRleD5teEV2ZW50LlZJUlRVQUxfSEFORExFJiYoY1t0aGlzLmluZGV4LTFdPWQpfXJldHVybiBudWxsIT1lP2U6Y307Cm14RWRnZUhhbmRsZXIucHJvdG90eXBlLmlzT3V0bGluZUNvbm5lY3RFdmVudD1mdW5jdGlvbihhKXt2YXIgYj1teFV0aWxzLmdldE9mZnNldCh0aGlzLmdyYXBoLmNvbnRhaW5lciksYz1hLmdldEV2ZW50KCksZD1teEV2ZW50LmdldENsaWVudFgoYyksYz1teEV2ZW50LmdldENsaWVudFkoYyksZT1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsZj10aGlzLmN1cnJlbnRQb2ludC54LXRoaXMuZ3JhcGguY29udGFpbmVyLnNjcm9sbExlZnQrYi54LSgod2luZG93LnBhZ2VYT2Zmc2V0fHxlLnNjcm9sbExlZnQpLShlLmNsaWVudExlZnR8fDApKSxiPXRoaXMuY3VycmVudFBvaW50LnktdGhpcy5ncmFwaC5jb250YWluZXIuc2Nyb2xsVG9wK2IueS0oKHdpbmRvdy5wYWdlWU9mZnNldHx8ZS5zY3JvbGxUb3ApLShlLmNsaWVudFRvcHx8MCkpO3JldHVybiB0aGlzLm91dGxpbmVDb25uZWN0JiYhbXhFdmVudC5pc1NoaWZ0RG93bihhLmdldEV2ZW50KCkpJiYoYS5pc1NvdXJjZSh0aGlzLm1hcmtlci5oaWdobGlnaHQuc2hhcGUpfHwKbXhFdmVudC5pc0FsdERvd24oYS5nZXRFdmVudCgpKSYmbnVsbCE9YS5nZXRTdGF0ZSgpfHx0aGlzLm1hcmtlci5oaWdobGlnaHQuaXNIaWdobGlnaHRBdChkLGMpfHwoZiE9ZHx8YiE9YykmJm51bGw9PWEuZ2V0U3RhdGUoKSYmdGhpcy5tYXJrZXIuaGlnaGxpZ2h0LmlzSGlnaGxpZ2h0QXQoZixiKSl9OwpteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS51cGRhdGVQcmV2aWV3U3RhdGU9ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZj10aGlzLmlzU291cmNlP2M6dGhpcy5zdGF0ZS5nZXRWaXNpYmxlVGVybWluYWxTdGF0ZSghMCksZz10aGlzLmlzVGFyZ2V0P2M6dGhpcy5zdGF0ZS5nZXRWaXNpYmxlVGVybWluYWxTdGF0ZSghMSksaz10aGlzLmdyYXBoLmdldENvbm5lY3Rpb25Db25zdHJhaW50KGEsZiwhMCksbD10aGlzLmdyYXBoLmdldENvbm5lY3Rpb25Db25zdHJhaW50KGEsZywhMSksbT10aGlzLmNvbnN0cmFpbnRIYW5kbGVyLmN1cnJlbnRDb25zdHJhaW50O251bGw9PW0mJmUmJihudWxsIT1jPyhkLmlzU291cmNlKHRoaXMubWFya2VyLmhpZ2hsaWdodC5zaGFwZSkmJihiPW5ldyBteFBvaW50KGQuZ2V0R3JhcGhYKCksZC5nZXRHcmFwaFkoKSkpLG09dGhpcy5ncmFwaC5nZXRPdXRsaW5lQ29uc3RyYWludChiLGMsZCksdGhpcy5jb25zdHJhaW50SGFuZGxlci5zZXRGb2N1cyhkLGMsdGhpcy5pc1NvdXJjZSksCnRoaXMuY29uc3RyYWludEhhbmRsZXIuY3VycmVudENvbnN0cmFpbnQ9bSx0aGlzLmNvbnN0cmFpbnRIYW5kbGVyLmN1cnJlbnRQb2ludD1iKTptPW5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KTtpZih0aGlzLm91dGxpbmVDb25uZWN0JiZudWxsIT10aGlzLm1hcmtlci5oaWdobGlnaHQmJm51bGwhPXRoaXMubWFya2VyLmhpZ2hsaWdodC5zaGFwZSl7dmFyIG49dGhpcy5ncmFwaC52aWV3LnNjYWxlO251bGwhPXRoaXMuY29uc3RyYWludEhhbmRsZXIuY3VycmVudENvbnN0cmFpbnQmJm51bGwhPXRoaXMuY29uc3RyYWludEhhbmRsZXIuY3VycmVudEZvY3VzPyh0aGlzLm1hcmtlci5oaWdobGlnaHQuc2hhcGUuc3Ryb2tlPWU/bXhDb25zdGFudHMuT1VUTElORV9ISUdITElHSFRfQ09MT1I6InRyYW5zcGFyZW50Iix0aGlzLm1hcmtlci5oaWdobGlnaHQuc2hhcGUuc3Ryb2tld2lkdGg9bXhDb25zdGFudHMuT1VUTElORV9ISUdITElHSFRfU1RST0tFV0lEVEgvbi9uLHRoaXMubWFya2VyLmhpZ2hsaWdodC5yZXBhaW50KCkpOgp0aGlzLm1hcmtlci5oYXNWYWxpZFN0YXRlKCkmJih0aGlzLm1hcmtlci5oaWdobGlnaHQuc2hhcGUuc3Ryb2tlPXRoaXMuZ3JhcGguaXNDZWxsQ29ubmVjdGFibGUoZC5nZXRDZWxsKCkpJiZ0aGlzLm1hcmtlci5nZXRWYWxpZFN0YXRlKCkhPWQuZ2V0U3RhdGUoKT8idHJhbnNwYXJlbnQiOm14Q29uc3RhbnRzLkRFRkFVTFRfVkFMSURfQ09MT1IsdGhpcy5tYXJrZXIuaGlnaGxpZ2h0LnNoYXBlLnN0cm9rZXdpZHRoPW14Q29uc3RhbnRzLkhJR0hMSUdIVF9TVFJPS0VXSURUSC9uL24sdGhpcy5tYXJrZXIuaGlnaGxpZ2h0LnJlcGFpbnQoKSl9dGhpcy5pc1NvdXJjZT9rPW06dGhpcy5pc1RhcmdldCYmKGw9bSk7aWYodGhpcy5pc1NvdXJjZXx8dGhpcy5pc1RhcmdldCludWxsIT1tJiZudWxsIT1tLnBvaW50PyhhLnN0eWxlW3RoaXMuaXNTb3VyY2U/bXhDb25zdGFudHMuU1RZTEVfRVhJVF9YOm14Q29uc3RhbnRzLlNUWUxFX0VOVFJZX1hdPW0ucG9pbnQueCxhLnN0eWxlW3RoaXMuaXNTb3VyY2U/Cm14Q29uc3RhbnRzLlNUWUxFX0VYSVRfWTpteENvbnN0YW50cy5TVFlMRV9FTlRSWV9ZXT1tLnBvaW50LnkpOihkZWxldGUgYS5zdHlsZVt0aGlzLmlzU291cmNlP214Q29uc3RhbnRzLlNUWUxFX0VYSVRfWDpteENvbnN0YW50cy5TVFlMRV9FTlRSWV9YXSxkZWxldGUgYS5zdHlsZVt0aGlzLmlzU291cmNlP214Q29uc3RhbnRzLlNUWUxFX0VYSVRfWTpteENvbnN0YW50cy5TVFlMRV9FTlRSWV9ZXSk7YS5zZXRWaXNpYmxlVGVybWluYWxTdGF0ZShmLCEwKTthLnNldFZpc2libGVUZXJtaW5hbFN0YXRlKGcsITEpO3RoaXMuaXNTb3VyY2UmJm51bGw9PWZ8fGEudmlldy51cGRhdGVGaXhlZFRlcm1pbmFsUG9pbnQoYSxmLCEwLGspO3RoaXMuaXNUYXJnZXQmJm51bGw9PWd8fGEudmlldy51cGRhdGVGaXhlZFRlcm1pbmFsUG9pbnQoYSxnLCExLGwpOyh0aGlzLmlzU291cmNlfHx0aGlzLmlzVGFyZ2V0KSYmbnVsbD09YyYmKGEuc2V0QWJzb2x1dGVUZXJtaW5hbFBvaW50KGIsdGhpcy5pc1NvdXJjZSksCm51bGw9PXRoaXMubWFya2VyLmdldE1hcmtlZFN0YXRlKCkmJih0aGlzLmVycm9yPXRoaXMuZ3JhcGguYWxsb3dEYW5nbGluZ0VkZ2VzP251bGw6IiIpKTthLnZpZXcudXBkYXRlUG9pbnRzKGEsdGhpcy5wb2ludHMsZixnKTthLnZpZXcudXBkYXRlRmxvYXRpbmdUZXJtaW5hbFBvaW50cyhhLGYsZyl9OwpteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5tb3VzZU1vdmU9ZnVuY3Rpb24oYSxiKXtpZihudWxsIT10aGlzLmluZGV4JiZudWxsIT10aGlzLm1hcmtlcil7dGhpcy5jdXJyZW50UG9pbnQ9dGhpcy5nZXRQb2ludEZvckV2ZW50KGIpO3RoaXMuZXJyb3I9bnVsbDshdGhpcy5ncmFwaC5pc0lnbm9yZVRlcm1pbmFsRXZlbnQoYi5nZXRFdmVudCgpKSYmbXhFdmVudC5pc1NoaWZ0RG93bihiLmdldEV2ZW50KCkpJiZudWxsIT10aGlzLnNuYXBQb2ludCYmKE1hdGguYWJzKHRoaXMuc25hcFBvaW50LngtdGhpcy5jdXJyZW50UG9pbnQueCk8TWF0aC5hYnModGhpcy5zbmFwUG9pbnQueS10aGlzLmN1cnJlbnRQb2ludC55KT90aGlzLmN1cnJlbnRQb2ludC54PXRoaXMuc25hcFBvaW50Lng6dGhpcy5jdXJyZW50UG9pbnQueT10aGlzLnNuYXBQb2ludC55KTtpZih0aGlzLmluZGV4PD1teEV2ZW50LkNVU1RPTV9IQU5ETEUmJnRoaXMuaW5kZXg+bXhFdmVudC5WSVJUVUFMX0hBTkRMRSludWxsIT0KdGhpcy5jdXN0b21IYW5kbGVzJiYodGhpcy5jdXN0b21IYW5kbGVzW214RXZlbnQuQ1VTVE9NX0hBTkRMRS10aGlzLmluZGV4XS5wcm9jZXNzRXZlbnQoYiksdGhpcy5jdXN0b21IYW5kbGVzW214RXZlbnQuQ1VTVE9NX0hBTkRMRS10aGlzLmluZGV4XS5wb3NpdGlvbkNoYW5nZWQoKSk7ZWxzZSBpZih0aGlzLmlzTGFiZWwpdGhpcy5sYWJlbC54PXRoaXMuY3VycmVudFBvaW50LngsdGhpcy5sYWJlbC55PXRoaXMuY3VycmVudFBvaW50Lnk7ZWxzZXt0aGlzLnBvaW50cz10aGlzLmdldFByZXZpZXdQb2ludHModGhpcy5jdXJyZW50UG9pbnQsYik7dmFyIGM9dGhpcy5pc1NvdXJjZXx8dGhpcy5pc1RhcmdldD90aGlzLmdldFByZXZpZXdUZXJtaW5hbFN0YXRlKGIpOm51bGw7aWYobnVsbCE9dGhpcy5jb25zdHJhaW50SGFuZGxlci5jdXJyZW50Q29uc3RyYWludCYmbnVsbCE9dGhpcy5jb25zdHJhaW50SGFuZGxlci5jdXJyZW50Rm9jdXMmJm51bGwhPXRoaXMuY29uc3RyYWludEhhbmRsZXIuY3VycmVudFBvaW50KXRoaXMuY3VycmVudFBvaW50PQp0aGlzLmNvbnN0cmFpbnRIYW5kbGVyLmN1cnJlbnRQb2ludC5jbG9uZSgpO2Vsc2UgaWYodGhpcy5vdXRsaW5lQ29ubmVjdCl7dmFyIGQ9dGhpcy5pc1NvdXJjZXx8dGhpcy5pc1RhcmdldD90aGlzLmlzT3V0bGluZUNvbm5lY3RFdmVudChiKTohMTtkP2M9dGhpcy5tYXJrZXIuaGlnaGxpZ2h0LnN0YXRlOm51bGwhPWMmJmMhPWIuZ2V0U3RhdGUoKSYmdGhpcy5ncmFwaC5pc0NlbGxDb25uZWN0YWJsZShiLmdldENlbGwoKSkmJm51bGwhPXRoaXMubWFya2VyLmhpZ2hsaWdodC5zaGFwZSYmKHRoaXMubWFya2VyLmhpZ2hsaWdodC5zaGFwZS5zdHJva2U9InRyYW5zcGFyZW50Iix0aGlzLm1hcmtlci5oaWdobGlnaHQucmVwYWludCgpLGM9bnVsbCl9bnVsbD09Y3x8dGhpcy5pc0NlbGxFbmFibGVkKGMuY2VsbCl8fChjPW51bGwsdGhpcy5tYXJrZXIucmVzZXQoKSk7dmFyIGU9dGhpcy5jbG9uZVByZXZpZXdTdGF0ZSh0aGlzLmN1cnJlbnRQb2ludCxudWxsIT1jP2MuY2VsbDpudWxsKTsKdGhpcy51cGRhdGVQcmV2aWV3U3RhdGUoZSx0aGlzLmN1cnJlbnRQb2ludCxjLGIsZCk7dGhpcy5zZXRQcmV2aWV3Q29sb3IobnVsbD09dGhpcy5lcnJvcj90aGlzLm1hcmtlci52YWxpZENvbG9yOnRoaXMubWFya2VyLmludmFsaWRDb2xvcik7dGhpcy5hYnNwb2ludHM9ZS5hYnNvbHV0ZVBvaW50czt0aGlzLmFjdGl2ZT0hMDt0aGlzLnVwZGF0ZUhpbnQoYix0aGlzLmN1cnJlbnRQb2ludCl9dGhpcy5kcmF3UHJldmlldygpO214RXZlbnQuY29uc3VtZShiLmdldEV2ZW50KCkpO2IuY29uc3VtZSgpfWVsc2UgbXhDbGllbnQuSVNfSUUmJm51bGwhPXRoaXMuZ2V0SGFuZGxlRm9yRXZlbnQoYikmJmIuY29uc3VtZSghMSl9OwpteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5tb3VzZVVwPWZ1bmN0aW9uKGEsYil7aWYobnVsbCE9dGhpcy5pbmRleCYmbnVsbCE9dGhpcy5tYXJrZXIpe3ZhciBjPXRoaXMuc3RhdGUuY2VsbCxkPXRoaXMuaW5kZXg7dGhpcy5pbmRleD1udWxsO2lmKGIuZ2V0WCgpIT10aGlzLnN0YXJ0WHx8Yi5nZXRZKCkhPXRoaXMuc3RhcnRZKXt2YXIgZT0hdGhpcy5ncmFwaC5pc0lnbm9yZVRlcm1pbmFsRXZlbnQoYi5nZXRFdmVudCgpKSYmdGhpcy5ncmFwaC5pc0Nsb25lRXZlbnQoYi5nZXRFdmVudCgpKSYmdGhpcy5jbG9uZUVuYWJsZWQmJnRoaXMuZ3JhcGguaXNDZWxsc0Nsb25lYWJsZSgpO2lmKG51bGwhPXRoaXMuZXJyb3IpMDx0aGlzLmVycm9yLmxlbmd0aCYmdGhpcy5ncmFwaC52YWxpZGF0aW9uQWxlcnQodGhpcy5lcnJvcik7ZWxzZSBpZihkPD1teEV2ZW50LkNVU1RPTV9IQU5ETEUmJmQ+bXhFdmVudC5WSVJUVUFMX0hBTkRMRSl7aWYobnVsbCE9dGhpcy5jdXN0b21IYW5kbGVzKXt2YXIgZj0KdGhpcy5ncmFwaC5nZXRNb2RlbCgpO2YuYmVnaW5VcGRhdGUoKTt0cnl7dGhpcy5jdXN0b21IYW5kbGVzW214RXZlbnQuQ1VTVE9NX0hBTkRMRS1kXS5leGVjdXRlKGIpfWZpbmFsbHl7Zi5lbmRVcGRhdGUoKX19fWVsc2UgaWYodGhpcy5pc0xhYmVsKXRoaXMubW92ZUxhYmVsKHRoaXMuc3RhdGUsdGhpcy5sYWJlbC54LHRoaXMubGFiZWwueSk7ZWxzZSBpZih0aGlzLmlzU291cmNlfHx0aGlzLmlzVGFyZ2V0KWlmKGQ9bnVsbCxudWxsIT10aGlzLmNvbnN0cmFpbnRIYW5kbGVyLmN1cnJlbnRDb25zdHJhaW50JiZudWxsIT10aGlzLmNvbnN0cmFpbnRIYW5kbGVyLmN1cnJlbnRGb2N1cyYmKGQ9dGhpcy5jb25zdHJhaW50SGFuZGxlci5jdXJyZW50Rm9jdXMuY2VsbCksbnVsbD09ZCYmdGhpcy5tYXJrZXIuaGFzVmFsaWRTdGF0ZSgpJiZudWxsIT10aGlzLm1hcmtlci5oaWdobGlnaHQmJm51bGwhPXRoaXMubWFya2VyLmhpZ2hsaWdodC5zaGFwZSYmInRyYW5zcGFyZW50IiE9dGhpcy5tYXJrZXIuaGlnaGxpZ2h0LnNoYXBlLnN0cm9rZSYmCiJ3aGl0ZSIhPXRoaXMubWFya2VyLmhpZ2hsaWdodC5zaGFwZS5zdHJva2UmJihkPXRoaXMubWFya2VyLnZhbGlkU3RhdGUuY2VsbCksbnVsbCE9ZCl7dmFyIGY9dGhpcy5ncmFwaC5nZXRNb2RlbCgpLGc9Zi5nZXRQYXJlbnQoYyk7Zi5iZWdpblVwZGF0ZSgpO3RyeXtpZihlKXt2YXIgaz1mLmdldEdlb21ldHJ5KGMpLGU9dGhpcy5ncmFwaC5jbG9uZUNlbGwoYyk7Zi5hZGQoZyxlLGYuZ2V0Q2hpbGRDb3VudChnKSk7bnVsbCE9ayYmKGs9ay5jbG9uZSgpLGYuc2V0R2VvbWV0cnkoZSxrKSk7dmFyIGw9Zi5nZXRUZXJtaW5hbChjLCF0aGlzLmlzU291cmNlKTt0aGlzLmdyYXBoLmNvbm5lY3RDZWxsKGUsbCwhdGhpcy5pc1NvdXJjZSk7Yz1lfWM9dGhpcy5jb25uZWN0KGMsZCx0aGlzLmlzU291cmNlLGUsYil9ZmluYWxseXtmLmVuZFVwZGF0ZSgpfX1lbHNlIHRoaXMuZ3JhcGguaXNBbGxvd0RhbmdsaW5nRWRnZXMoKSYmKGY9dGhpcy5hYnNwb2ludHNbdGhpcy5pc1NvdXJjZT8wOnRoaXMuYWJzcG9pbnRzLmxlbmd0aC0KMV0sZi54PXRoaXMucm91bmRMZW5ndGgoZi54L3RoaXMuZ3JhcGgudmlldy5zY2FsZS10aGlzLmdyYXBoLnZpZXcudHJhbnNsYXRlLngpLGYueT10aGlzLnJvdW5kTGVuZ3RoKGYueS90aGlzLmdyYXBoLnZpZXcuc2NhbGUtdGhpcy5ncmFwaC52aWV3LnRyYW5zbGF0ZS55KSxrPXRoaXMuZ3JhcGguZ2V0VmlldygpLmdldFN0YXRlKHRoaXMuZ3JhcGguZ2V0TW9kZWwoKS5nZXRQYXJlbnQoYykpLG51bGwhPWsmJihmLngtPWsub3JpZ2luLngsZi55LT1rLm9yaWdpbi55KSxmLngtPXRoaXMuZ3JhcGgucGFuRHgvdGhpcy5ncmFwaC52aWV3LnNjYWxlLGYueS09dGhpcy5ncmFwaC5wYW5EeS90aGlzLmdyYXBoLnZpZXcuc2NhbGUsYz10aGlzLmNoYW5nZVRlcm1pbmFsUG9pbnQoYyxmLHRoaXMuaXNTb3VyY2UsZSkpO2Vsc2UgdGhpcy5hY3RpdmU/Yz10aGlzLmNoYW5nZVBvaW50cyhjLHRoaXMucG9pbnRzLGUpOih0aGlzLmdyYXBoLmdldFZpZXcoKS5pbnZhbGlkYXRlKHRoaXMuc3RhdGUuY2VsbCksCnRoaXMuZ3JhcGguZ2V0VmlldygpLnZhbGlkYXRlKHRoaXMuc3RhdGUuY2VsbCkpfWVsc2UgdGhpcy5ncmFwaC5pc1RvZ2dsZUV2ZW50KGIuZ2V0RXZlbnQoKSkmJnRoaXMuZ3JhcGguc2VsZWN0Q2VsbEZvckV2ZW50KHRoaXMuc3RhdGUuY2VsbCxiLmdldEV2ZW50KCkpO251bGwhPXRoaXMubWFya2VyJiYodGhpcy5yZXNldCgpLGMhPXRoaXMuc3RhdGUuY2VsbCYmdGhpcy5ncmFwaC5zZXRTZWxlY3Rpb25DZWxsKGMpKTtiLmNvbnN1bWUoKX19OwpteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3RoaXMuYWN0aXZlJiZ0aGlzLnJlZnJlc2goKTt0aGlzLnNuYXBQb2ludD10aGlzLnBvaW50cz10aGlzLmxhYmVsPXRoaXMuaW5kZXg9dGhpcy5lcnJvcj1udWxsO3RoaXMuYWN0aXZlPXRoaXMuaXNUYXJnZXQ9dGhpcy5pc1NvdXJjZT10aGlzLmlzTGFiZWw9ITE7aWYodGhpcy5saXZlUHJldmlldyYmbnVsbCE9dGhpcy5zaXplcnMpZm9yKHZhciBhPTA7YTx0aGlzLnNpemVycy5sZW5ndGg7YSsrKW51bGwhPXRoaXMuc2l6ZXJzW2FdJiYodGhpcy5zaXplcnNbYV0ubm9kZS5zdHlsZS5kaXNwbGF5PSIiKTtudWxsIT10aGlzLm1hcmtlciYmdGhpcy5tYXJrZXIucmVzZXQoKTtudWxsIT10aGlzLmNvbnN0cmFpbnRIYW5kbGVyJiZ0aGlzLmNvbnN0cmFpbnRIYW5kbGVyLnJlc2V0KCk7aWYobnVsbCE9dGhpcy5jdXN0b21IYW5kbGVzKWZvcihhPTA7YTx0aGlzLmN1c3RvbUhhbmRsZXMubGVuZ3RoO2ErKyl0aGlzLmN1c3RvbUhhbmRsZXNbYV0ucmVzZXQoKTsKdGhpcy5zZXRQcmV2aWV3Q29sb3IobXhDb25zdGFudHMuRURHRV9TRUxFQ1RJT05fQ09MT1IpO3RoaXMucmVtb3ZlSGludCgpO3RoaXMucmVkcmF3KCl9O214RWRnZUhhbmRsZXIucHJvdG90eXBlLnNldFByZXZpZXdDb2xvcj1mdW5jdGlvbihhKXtudWxsIT10aGlzLnNoYXBlJiYodGhpcy5zaGFwZS5zdHJva2U9YSl9OwpteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5jb252ZXJ0UG9pbnQ9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdyYXBoLmdldFZpZXcoKS5nZXRTY2FsZSgpLGQ9dGhpcy5ncmFwaC5nZXRWaWV3KCkuZ2V0VHJhbnNsYXRlKCk7YiYmKGEueD10aGlzLmdyYXBoLnNuYXAoYS54KSxhLnk9dGhpcy5ncmFwaC5zbmFwKGEueSkpO2EueD1NYXRoLnJvdW5kKGEueC9jLWQueCk7YS55PU1hdGgucm91bmQoYS55L2MtZC55KTtjPXRoaXMuZ3JhcGguZ2V0VmlldygpLmdldFN0YXRlKHRoaXMuZ3JhcGguZ2V0TW9kZWwoKS5nZXRQYXJlbnQodGhpcy5zdGF0ZS5jZWxsKSk7bnVsbCE9YyYmKGEueC09Yy5vcmlnaW4ueCxhLnktPWMub3JpZ2luLnkpO3JldHVybiBhfTsKbXhFZGdlSGFuZGxlci5wcm90b3R5cGUubW92ZUxhYmVsPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLmdyYXBoLmdldE1vZGVsKCksZT1kLmdldEdlb21ldHJ5KGEuY2VsbCk7aWYobnVsbCE9ZSl7dmFyIGY9dGhpcy5ncmFwaC5nZXRWaWV3KCkuc2NhbGUsZT1lLmNsb25lKCk7aWYoZS5yZWxhdGl2ZSl7dmFyIGc9dGhpcy5ncmFwaC5nZXRWaWV3KCkuZ2V0UmVsYXRpdmVQb2ludChhLGIsYyk7ZS54PU1hdGgucm91bmQoMUU0KmcueCkvMUU0O2UueT1NYXRoLnJvdW5kKGcueSk7ZS5vZmZzZXQ9bmV3IG14UG9pbnQoMCwwKTtnPXRoaXMuZ3JhcGgudmlldy5nZXRQb2ludChhLGUpO2Uub2Zmc2V0PW5ldyBteFBvaW50KE1hdGgucm91bmQoKGItZy54KS9mKSxNYXRoLnJvdW5kKChjLWcueSkvZikpfWVsc2V7dmFyIGs9YS5hYnNvbHV0ZVBvaW50cyxnPWtbMF0saz1rW2subGVuZ3RoLTFdO251bGwhPWcmJm51bGwhPWsmJihlLm9mZnNldD1uZXcgbXhQb2ludChNYXRoLnJvdW5kKChiLQooZy54KyhrLngtZy54KS8yKSkvZiksTWF0aC5yb3VuZCgoYy0oZy55KyhrLnktZy55KS8yKSkvZikpLGUueD0wLGUueT0wKX1kLnNldEdlb21ldHJ5KGEuY2VsbCxlKX19O214RWRnZUhhbmRsZXIucHJvdG90eXBlLmNvbm5lY3Q9ZnVuY3Rpb24oYSxiLGMsZCxlKXtkPXRoaXMuZ3JhcGguZ2V0TW9kZWwoKTtkLmdldFBhcmVudChhKTtkLmJlZ2luVXBkYXRlKCk7dHJ5e3ZhciBmPXRoaXMuY29uc3RyYWludEhhbmRsZXIuY3VycmVudENvbnN0cmFpbnQ7bnVsbD09ZiYmKGY9bmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQpO3RoaXMuZ3JhcGguY29ubmVjdENlbGwoYSxiLGMsZil9ZmluYWxseXtkLmVuZFVwZGF0ZSgpfXJldHVybiBhfTsKbXhFZGdlSGFuZGxlci5wcm90b3R5cGUuY2hhbmdlVGVybWluYWxQb2ludD1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZT10aGlzLmdyYXBoLmdldE1vZGVsKCk7ZS5iZWdpblVwZGF0ZSgpO3RyeXtpZihkKXt2YXIgZj1lLmdldFBhcmVudChhKSxnPWUuZ2V0VGVybWluYWwoYSwhYyk7YT10aGlzLmdyYXBoLmNsb25lQ2VsbChhKTtlLmFkZChmLGEsZS5nZXRDaGlsZENvdW50KGYpKTtlLnNldFRlcm1pbmFsKGEsZywhYyl9dmFyIGs9ZS5nZXRHZW9tZXRyeShhKTtudWxsIT1rJiYoaz1rLmNsb25lKCksay5zZXRUZXJtaW5hbFBvaW50KGIsYyksZS5zZXRHZW9tZXRyeShhLGspLHRoaXMuZ3JhcGguY29ubmVjdENlbGwoYSxudWxsLGMsbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQpKX1maW5hbGx5e2UuZW5kVXBkYXRlKCl9cmV0dXJuIGF9OwpteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5jaGFuZ2VQb2ludHM9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXMuZ3JhcGguZ2V0TW9kZWwoKTtkLmJlZ2luVXBkYXRlKCk7dHJ5e2lmKGMpe3ZhciBlPWQuZ2V0UGFyZW50KGEpLGY9ZC5nZXRUZXJtaW5hbChhLCEwKSxnPWQuZ2V0VGVybWluYWwoYSwhMSk7YT10aGlzLmdyYXBoLmNsb25lQ2VsbChhKTtkLmFkZChlLGEsZC5nZXRDaGlsZENvdW50KGUpKTtkLnNldFRlcm1pbmFsKGEsZiwhMCk7ZC5zZXRUZXJtaW5hbChhLGcsITEpfXZhciBrPWQuZ2V0R2VvbWV0cnkoYSk7bnVsbCE9ayYmKGs9ay5jbG9uZSgpLGsucG9pbnRzPWIsZC5zZXRHZW9tZXRyeShhLGspKX1maW5hbGx5e2QuZW5kVXBkYXRlKCl9cmV0dXJuIGF9OwpteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5hZGRQb2ludD1mdW5jdGlvbihhLGIpe3ZhciBjPW14VXRpbHMuY29udmVydFBvaW50KHRoaXMuZ3JhcGguY29udGFpbmVyLG14RXZlbnQuZ2V0Q2xpZW50WChiKSxteEV2ZW50LmdldENsaWVudFkoYikpLGQ9dGhpcy5ncmFwaC5pc0dyaWRFbmFibGVkRXZlbnQoYik7dGhpcy5jb252ZXJ0UG9pbnQoYyxkKTt0aGlzLmFkZFBvaW50QXQoYSxjLngsYy55KTtteEV2ZW50LmNvbnN1bWUoYil9OwpteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5hZGRQb2ludEF0PWZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLmdyYXBoLmdldENlbGxHZW9tZXRyeShhLmNlbGwpO2I9bmV3IG14UG9pbnQoYixjKTtpZihudWxsIT1kKXt2YXIgZD1kLmNsb25lKCksZT10aGlzLmdyYXBoLnZpZXcudHJhbnNsYXRlO2M9dGhpcy5ncmFwaC52aWV3LnNjYWxlO3ZhciBlPW5ldyBteFBvaW50KGUueCpjLGUueSpjKSxmPXRoaXMuZ3JhcGgubW9kZWwuZ2V0UGFyZW50KHRoaXMuc3RhdGUuY2VsbCk7dGhpcy5ncmFwaC5tb2RlbC5pc1ZlcnRleChmKSYmKGU9dGhpcy5ncmFwaC52aWV3LmdldFN0YXRlKGYpLGU9bmV3IG14UG9pbnQoZS54LGUueSkpO2M9bXhVdGlscy5maW5kTmVhcmVzdFNlZ21lbnQoYSxiLngqYytlLngsYi55KmMrZS55KTtudWxsPT1kLnBvaW50cz9kLnBvaW50cz1bYl06ZC5wb2ludHMuc3BsaWNlKGMsMCxiKTt0aGlzLmdyYXBoLmdldE1vZGVsKCkuc2V0R2VvbWV0cnkoYS5jZWxsLGQpO3RoaXMucmVmcmVzaCgpOwp0aGlzLnJlZHJhdygpfX07bXhFZGdlSGFuZGxlci5wcm90b3R5cGUucmVtb3ZlUG9pbnQ9ZnVuY3Rpb24oYSxiKXtpZigwPGImJmI8dGhpcy5hYnNwb2ludHMubGVuZ3RoLTEpe3ZhciBjPXRoaXMuZ3JhcGguZ2V0Q2VsbEdlb21ldHJ5KHRoaXMuc3RhdGUuY2VsbCk7bnVsbCE9YyYmbnVsbCE9Yy5wb2ludHMmJihjPWMuY2xvbmUoKSxjLnBvaW50cy5zcGxpY2UoYi0xLDEpLHRoaXMuZ3JhcGguZ2V0TW9kZWwoKS5zZXRHZW9tZXRyeShhLmNlbGwsYyksdGhpcy5yZWZyZXNoKCksdGhpcy5yZWRyYXcoKSl9fTsKbXhFZGdlSGFuZGxlci5wcm90b3R5cGUuZ2V0SGFuZGxlRmlsbENvbG9yPWZ1bmN0aW9uKGEpe2E9MD09YTt2YXIgYj10aGlzLnN0YXRlLmNlbGwsYz10aGlzLmdyYXBoLmdldE1vZGVsKCkuZ2V0VGVybWluYWwoYixhKSxkPW14Q29uc3RhbnRzLkhBTkRMRV9GSUxMQ09MT1I7bnVsbCE9YyYmIXRoaXMuZ3JhcGguaXNDZWxsRGlzY29ubmVjdGFibGUoYixjLGEpfHxudWxsPT1jJiYhdGhpcy5ncmFwaC5pc1Rlcm1pbmFsUG9pbnRNb3ZhYmxlKGIsYSk/ZD1teENvbnN0YW50cy5MT0NLRURfSEFORExFX0ZJTExDT0xPUjpudWxsIT1jJiZ0aGlzLmdyYXBoLmlzQ2VsbERpc2Nvbm5lY3RhYmxlKGIsYyxhKSYmKGQ9bXhDb25zdGFudHMuQ09OTkVDVF9IQU5ETEVfRklMTENPTE9SKTtyZXR1cm4gZH07Cm14RWRnZUhhbmRsZXIucHJvdG90eXBlLnJlZHJhdz1mdW5jdGlvbihhKXt0aGlzLmFic3BvaW50cz10aGlzLnN0YXRlLmFic29sdXRlUG9pbnRzLnNsaWNlKCk7dmFyIGI9dGhpcy5ncmFwaC5nZXRNb2RlbCgpLmdldEdlb21ldHJ5KHRoaXMuc3RhdGUuY2VsbCk7aWYobnVsbCE9YiYmKGI9Yi5wb2ludHMsbnVsbCE9dGhpcy5iZW5kcyYmMDx0aGlzLmJlbmRzLmxlbmd0aCYmbnVsbCE9Yikpe251bGw9PXRoaXMucG9pbnRzJiYodGhpcy5wb2ludHM9W10pO2Zvcih2YXIgYz0xO2M8dGhpcy5iZW5kcy5sZW5ndGgtMTtjKyspbnVsbCE9dGhpcy5iZW5kc1tjXSYmbnVsbCE9dGhpcy5hYnNwb2ludHNbY10mJih0aGlzLnBvaW50c1tjLTFdPWJbYy0xXSl9dGhpcy5kcmF3UHJldmlldygpO2F8fHRoaXMucmVkcmF3SGFuZGxlcygpfTsKbXhFZGdlSGFuZGxlci5wcm90b3R5cGUucmVkcmF3SGFuZGxlcz1mdW5jdGlvbigpe3ZhciBhPXRoaXMuc3RhdGUuY2VsbCxiPXRoaXMubGFiZWxTaGFwZS5ib3VuZHM7dGhpcy5sYWJlbD1uZXcgbXhQb2ludCh0aGlzLnN0YXRlLmFic29sdXRlT2Zmc2V0LngsdGhpcy5zdGF0ZS5hYnNvbHV0ZU9mZnNldC55KTt0aGlzLmxhYmVsU2hhcGUuYm91bmRzPW5ldyBteFJlY3RhbmdsZShNYXRoLnJvdW5kKHRoaXMubGFiZWwueC1iLndpZHRoLzIpLE1hdGgucm91bmQodGhpcy5sYWJlbC55LWIuaGVpZ2h0LzIpLGIud2lkdGgsYi5oZWlnaHQpO2I9dGhpcy5ncmFwaC5nZXRMYWJlbChhKTt0aGlzLmxhYmVsU2hhcGUudmlzaWJsZT1udWxsIT1iJiYwPGIubGVuZ3RoJiZ0aGlzLmdyYXBoLmlzTGFiZWxNb3ZhYmxlKGEpO2lmKG51bGwhPXRoaXMuYmVuZHMmJjA8dGhpcy5iZW5kcy5sZW5ndGgpe3ZhciBjPXRoaXMuYWJzcG9pbnRzLmxlbmd0aC0xLGE9dGhpcy5hYnNwb2ludHNbMF0sZD1hLngsCmU9YS55LGI9dGhpcy5iZW5kc1swXS5ib3VuZHM7dGhpcy5iZW5kc1swXS5ib3VuZHM9bmV3IG14UmVjdGFuZ2xlKE1hdGguZmxvb3IoZC1iLndpZHRoLzIpLE1hdGguZmxvb3IoZS1iLmhlaWdodC8yKSxiLndpZHRoLGIuaGVpZ2h0KTt0aGlzLmJlbmRzWzBdLmZpbGw9dGhpcy5nZXRIYW5kbGVGaWxsQ29sb3IoMCk7dGhpcy5iZW5kc1swXS5yZWRyYXcoKTt0aGlzLm1hbmFnZUxhYmVsSGFuZGxlJiZ0aGlzLmNoZWNrTGFiZWxIYW5kbGUodGhpcy5iZW5kc1swXS5ib3VuZHMpO3ZhciBjPXRoaXMuYWJzcG9pbnRzW2NdLGQ9Yy54LGU9Yy55LGY9dGhpcy5iZW5kcy5sZW5ndGgtMSxiPXRoaXMuYmVuZHNbZl0uYm91bmRzO3RoaXMuYmVuZHNbZl0uYm91bmRzPW5ldyBteFJlY3RhbmdsZShNYXRoLmZsb29yKGQtYi53aWR0aC8yKSxNYXRoLmZsb29yKGUtYi5oZWlnaHQvMiksYi53aWR0aCxiLmhlaWdodCk7dGhpcy5iZW5kc1tmXS5maWxsPXRoaXMuZ2V0SGFuZGxlRmlsbENvbG9yKGYpOwp0aGlzLmJlbmRzW2ZdLnJlZHJhdygpO3RoaXMubWFuYWdlTGFiZWxIYW5kbGUmJnRoaXMuY2hlY2tMYWJlbEhhbmRsZSh0aGlzLmJlbmRzW2ZdLmJvdW5kcyk7dGhpcy5yZWRyYXdJbm5lckJlbmRzKGEsYyl9aWYobnVsbCE9dGhpcy5hYnNwb2ludHMmJm51bGwhPXRoaXMudmlydHVhbEJlbmRzJiYwPHRoaXMudmlydHVhbEJlbmRzLmxlbmd0aClmb3IoYz10aGlzLmFic3BvaW50c1swXSxhPTA7YTx0aGlzLnZpcnR1YWxCZW5kcy5sZW5ndGg7YSsrKW51bGwhPXRoaXMudmlydHVhbEJlbmRzW2FdJiZudWxsIT10aGlzLmFic3BvaW50c1thKzFdJiYoZD10aGlzLmFic3BvaW50c1thKzFdLGI9dGhpcy52aXJ0dWFsQmVuZHNbYV0sYi5ib3VuZHM9bmV3IG14UmVjdGFuZ2xlKE1hdGguZmxvb3IoYy54KyhkLngtYy54KS8yLWIuYm91bmRzLndpZHRoLzIpLE1hdGguZmxvb3IoYy55KyhkLnktYy55KS8yLWIuYm91bmRzLmhlaWdodC8yKSxiLmJvdW5kcy53aWR0aCxiLmJvdW5kcy5oZWlnaHQpLApiLnJlZHJhdygpLG14VXRpbHMuc2V0T3BhY2l0eShiLm5vZGUsdGhpcy52aXJ0dWFsQmVuZE9wYWNpdHkpLGM9ZCx0aGlzLm1hbmFnZUxhYmVsSGFuZGxlJiZ0aGlzLmNoZWNrTGFiZWxIYW5kbGUoYi5ib3VuZHMpKTtudWxsIT10aGlzLmxhYmVsU2hhcGUmJnRoaXMubGFiZWxTaGFwZS5yZWRyYXcoKTtpZihudWxsIT10aGlzLmN1c3RvbUhhbmRsZXMpZm9yKGE9MDthPHRoaXMuY3VzdG9tSGFuZGxlcy5sZW5ndGg7YSsrKWI9dGhpcy5jdXN0b21IYW5kbGVzW2FdLnNoYXBlLm5vZGUuc3R5bGUuZGlzcGxheSx0aGlzLmN1c3RvbUhhbmRsZXNbYV0ucmVkcmF3KCksdGhpcy5jdXN0b21IYW5kbGVzW2FdLnNoYXBlLm5vZGUuc3R5bGUuZGlzcGxheT1iLHRoaXMuY3VzdG9tSGFuZGxlc1thXS5zaGFwZS5ub2RlLnN0eWxlLnZpc2liaWxpdHk9dGhpcy5pc0N1c3RvbUhhbmRsZVZpc2libGUodGhpcy5jdXN0b21IYW5kbGVzW2FdKT8iIjoiaGlkZGVuIn07Cm14RWRnZUhhbmRsZXIucHJvdG90eXBlLmlzQ3VzdG9tSGFuZGxlVmlzaWJsZT1mdW5jdGlvbihhKXtyZXR1cm4hdGhpcy5ncmFwaC5pc0VkaXRpbmcoKSYmMT09dGhpcy5zdGF0ZS52aWV3LmdyYXBoLmdldFNlbGVjdGlvbkNvdW50KCl9OwpteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5zZXRIYW5kbGVzVmlzaWJsZT1mdW5jdGlvbihhKXtpZihudWxsIT10aGlzLmJlbmRzKWZvcih2YXIgYj0wO2I8dGhpcy5iZW5kcy5sZW5ndGg7YisrKXRoaXMuYmVuZHNbYl0ubm9kZS5zdHlsZS5kaXNwbGF5PWE/IiI6Im5vbmUiO2lmKG51bGwhPXRoaXMudmlydHVhbEJlbmRzKWZvcihiPTA7Yjx0aGlzLnZpcnR1YWxCZW5kcy5sZW5ndGg7YisrKXRoaXMudmlydHVhbEJlbmRzW2JdLm5vZGUuc3R5bGUuZGlzcGxheT1hPyIiOiJub25lIjtudWxsIT10aGlzLmxhYmVsU2hhcGUmJih0aGlzLmxhYmVsU2hhcGUubm9kZS5zdHlsZS5kaXNwbGF5PWE/IiI6Im5vbmUiKTtpZihudWxsIT10aGlzLmN1c3RvbUhhbmRsZXMpZm9yKGI9MDtiPHRoaXMuY3VzdG9tSGFuZGxlcy5sZW5ndGg7YisrKXRoaXMuY3VzdG9tSGFuZGxlc1tiXS5zZXRWaXNpYmxlKGEpfTsKbXhFZGdlSGFuZGxlci5wcm90b3R5cGUucmVkcmF3SW5uZXJCZW5kcz1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYz0xO2M8dGhpcy5iZW5kcy5sZW5ndGgtMTtjKyspaWYobnVsbCE9dGhpcy5iZW5kc1tjXSlpZihudWxsIT10aGlzLmFic3BvaW50c1tjXSl7dmFyIGQ9dGhpcy5hYnNwb2ludHNbY10ueCxlPXRoaXMuYWJzcG9pbnRzW2NdLnksZj10aGlzLmJlbmRzW2NdLmJvdW5kczt0aGlzLmJlbmRzW2NdLm5vZGUuc3R5bGUudmlzaWJpbGl0eT0idmlzaWJsZSI7dGhpcy5iZW5kc1tjXS5ib3VuZHM9bmV3IG14UmVjdGFuZ2xlKE1hdGgucm91bmQoZC1mLndpZHRoLzIpLE1hdGgucm91bmQoZS1mLmhlaWdodC8yKSxmLndpZHRoLGYuaGVpZ2h0KTt0aGlzLm1hbmFnZUxhYmVsSGFuZGxlP3RoaXMuY2hlY2tMYWJlbEhhbmRsZSh0aGlzLmJlbmRzW2NdLmJvdW5kcyk6bnVsbD09dGhpcy5oYW5kbGVJbWFnZSYmdGhpcy5sYWJlbFNoYXBlLnZpc2libGUmJm14VXRpbHMuaW50ZXJzZWN0cyh0aGlzLmJlbmRzW2NdLmJvdW5kcywKdGhpcy5sYWJlbFNoYXBlLmJvdW5kcykmJih3PW14Q29uc3RhbnRzLkhBTkRMRV9TSVpFKzMsaD1teENvbnN0YW50cy5IQU5ETEVfU0laRSszLHRoaXMuYmVuZHNbY10uYm91bmRzPW5ldyBteFJlY3RhbmdsZShNYXRoLnJvdW5kKGQtdy8yKSxNYXRoLnJvdW5kKGUtaC8yKSx3LGgpKTt0aGlzLmJlbmRzW2NdLnJlZHJhdygpfWVsc2UgdGhpcy5iZW5kc1tjXS5kZXN0cm95KCksdGhpcy5iZW5kc1tjXT1udWxsfTtteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5jaGVja0xhYmVsSGFuZGxlPWZ1bmN0aW9uKGEpe2lmKG51bGwhPXRoaXMubGFiZWxTaGFwZSl7dmFyIGI9dGhpcy5sYWJlbFNoYXBlLmJvdW5kcztteFV0aWxzLmludGVyc2VjdHMoYSxiKSYmKGEuZ2V0Q2VudGVyWSgpPGIuZ2V0Q2VudGVyWSgpP2IueT1hLnkrYS5oZWlnaHQ6Yi55PWEueS1iLmhlaWdodCl9fTsKbXhFZGdlSGFuZGxlci5wcm90b3R5cGUuZHJhd1ByZXZpZXc9ZnVuY3Rpb24oKXtpZih0aGlzLmlzTGFiZWwpe3ZhciBhPXRoaXMubGFiZWxTaGFwZS5ib3VuZHMsYT1uZXcgbXhSZWN0YW5nbGUoTWF0aC5yb3VuZCh0aGlzLmxhYmVsLngtYS53aWR0aC8yKSxNYXRoLnJvdW5kKHRoaXMubGFiZWwueS1hLmhlaWdodC8yKSxhLndpZHRoLGEuaGVpZ2h0KTt0aGlzLmxhYmVsU2hhcGUuYm91bmRzLmVxdWFscyhhKXx8KHRoaXMubGFiZWxTaGFwZS5ib3VuZHM9YSx0aGlzLmxhYmVsU2hhcGUucmVkcmF3KCkpfW51bGw9PXRoaXMuc2hhcGV8fG14VXRpbHMuZXF1YWxQb2ludHModGhpcy5zaGFwZS5wb2ludHMsdGhpcy5hYnNwb2ludHMpfHwodGhpcy5zaGFwZS5hcHBseSh0aGlzLnN0YXRlKSx0aGlzLnNoYXBlLnBvaW50cz10aGlzLmFic3BvaW50cy5zbGljZSgpLHRoaXMuc2hhcGUuc2NhbGU9dGhpcy5zdGF0ZS52aWV3LnNjYWxlLHRoaXMuc2hhcGUuaXNEYXNoZWQ9dGhpcy5pc1NlbGVjdGlvbkRhc2hlZCgpLAp0aGlzLnNoYXBlLnN0cm9rZT10aGlzLmdldFNlbGVjdGlvbkNvbG9yKCksdGhpcy5zaGFwZS5zdHJva2V3aWR0aD10aGlzLmdldFNlbGVjdGlvblN0cm9rZVdpZHRoKCkvdGhpcy5zaGFwZS5zY2FsZS90aGlzLnNoYXBlLnNjYWxlLHRoaXMuc2hhcGUuaXNTaGFkb3c9ITEsdGhpcy5zaGFwZS5yZWRyYXcoKSk7bnVsbCE9dGhpcy5wYXJlbnRIaWdobGlnaHQmJnRoaXMucGFyZW50SGlnaGxpZ2h0LnJlZHJhdygpfTsKbXhFZGdlSGFuZGxlci5wcm90b3R5cGUucmVmcmVzaD1mdW5jdGlvbigpe3RoaXMuYWJzcG9pbnRzPXRoaXMuZ2V0U2VsZWN0aW9uUG9pbnRzKHRoaXMuc3RhdGUpO3RoaXMucG9pbnRzPVtdO251bGwhPXRoaXMuYmVuZHMmJih0aGlzLmRlc3Ryb3lCZW5kcyh0aGlzLmJlbmRzKSx0aGlzLmJlbmRzPXRoaXMuY3JlYXRlQmVuZHMoKSk7bnVsbCE9dGhpcy52aXJ0dWFsQmVuZHMmJih0aGlzLmRlc3Ryb3lCZW5kcyh0aGlzLnZpcnR1YWxCZW5kcyksdGhpcy52aXJ0dWFsQmVuZHM9dGhpcy5jcmVhdGVWaXJ0dWFsQmVuZHMoKSk7bnVsbCE9dGhpcy5jdXN0b21IYW5kbGVzJiYodGhpcy5kZXN0cm95QmVuZHModGhpcy5jdXN0b21IYW5kbGVzKSx0aGlzLmN1c3RvbUhhbmRsZXM9dGhpcy5jcmVhdGVDdXN0b21IYW5kbGVzKCkpO251bGwhPXRoaXMubGFiZWxTaGFwZSYmbnVsbCE9dGhpcy5sYWJlbFNoYXBlLm5vZGUmJm51bGwhPXRoaXMubGFiZWxTaGFwZS5ub2RlLnBhcmVudE5vZGUmJnRoaXMubGFiZWxTaGFwZS5ub2RlLnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQodGhpcy5sYWJlbFNoYXBlLm5vZGUpfTsKbXhFZGdlSGFuZGxlci5wcm90b3R5cGUuZGVzdHJveUJlbmRzPWZ1bmN0aW9uKGEpe2lmKG51bGwhPWEpZm9yKHZhciBiPTA7YjxhLmxlbmd0aDtiKyspbnVsbCE9YVtiXSYmYVtiXS5kZXN0cm95KCl9OwpteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7bnVsbCE9dGhpcy5lc2NhcGVIYW5kbGVyJiYodGhpcy5zdGF0ZS52aWV3LmdyYXBoLnJlbW92ZUxpc3RlbmVyKHRoaXMuZXNjYXBlSGFuZGxlciksdGhpcy5lc2NhcGVIYW5kbGVyPW51bGwpO251bGwhPXRoaXMubWFya2VyJiYodGhpcy5tYXJrZXIuZGVzdHJveSgpLHRoaXMubWFya2VyPW51bGwpO251bGwhPXRoaXMuc2hhcGUmJih0aGlzLnNoYXBlLmRlc3Ryb3koKSx0aGlzLnNoYXBlPW51bGwpO251bGwhPXRoaXMucGFyZW50SGlnaGxpZ2h0JiYodGhpcy5wYXJlbnRIaWdobGlnaHQuZGVzdHJveSgpLHRoaXMucGFyZW50SGlnaGxpZ2h0PW51bGwpO251bGwhPXRoaXMubGFiZWxTaGFwZSYmKHRoaXMubGFiZWxTaGFwZS5kZXN0cm95KCksdGhpcy5sYWJlbFNoYXBlPW51bGwpO251bGwhPXRoaXMuY29uc3RyYWludEhhbmRsZXImJih0aGlzLmNvbnN0cmFpbnRIYW5kbGVyLmRlc3Ryb3koKSx0aGlzLmNvbnN0cmFpbnRIYW5kbGVyPQpudWxsKTt0aGlzLmRlc3Ryb3lCZW5kcyh0aGlzLnZpcnR1YWxCZW5kcyk7dGhpcy52aXJ0dWFsQmVuZHM9bnVsbDt0aGlzLmRlc3Ryb3lCZW5kcyh0aGlzLmN1c3RvbUhhbmRsZXMpO3RoaXMuY3VzdG9tSGFuZGxlcz1udWxsO3RoaXMuZGVzdHJveUJlbmRzKHRoaXMuYmVuZHMpO3RoaXMuYmVuZHM9bnVsbDt0aGlzLnJlbW92ZUhpbnQoKX07ZnVuY3Rpb24gbXhFbGJvd0VkZ2VIYW5kbGVyKGEpe214RWRnZUhhbmRsZXIuY2FsbCh0aGlzLGEpfW14VXRpbHMuZXh0ZW5kKG14RWxib3dFZGdlSGFuZGxlcixteEVkZ2VIYW5kbGVyKTtteEVsYm93RWRnZUhhbmRsZXIucHJvdG90eXBlLmZsaXBFbmFibGVkPSEwO214RWxib3dFZGdlSGFuZGxlci5wcm90b3R5cGUuZG91YmxlQ2xpY2tPcmllbnRhdGlvblJlc291cmNlPSJub25lIiE9bXhDbGllbnQubGFuZ3VhZ2U/ImRvdWJsZUNsaWNrT3JpZW50YXRpb24iOiIiOwpteEVsYm93RWRnZUhhbmRsZXIucHJvdG90eXBlLmNyZWF0ZUJlbmRzPWZ1bmN0aW9uKCl7dmFyIGE9W10sYj10aGlzLmNyZWF0ZUhhbmRsZVNoYXBlKDApO3RoaXMuaW5pdEJlbmQoYik7Yi5zZXRDdXJzb3IobXhDb25zdGFudHMuQ1VSU09SX1RFUk1JTkFMX0hBTkRMRSk7YS5wdXNoKGIpO2EucHVzaCh0aGlzLmNyZWF0ZVZpcnR1YWxCZW5kKG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpeyFteEV2ZW50LmlzQ29uc3VtZWQoYSkmJnRoaXMuZmxpcEVuYWJsZWQmJih0aGlzLmdyYXBoLmZsaXBFZGdlKHRoaXMuc3RhdGUuY2VsbCxhKSxteEV2ZW50LmNvbnN1bWUoYSkpfSkpKTt0aGlzLnBvaW50cy5wdXNoKG5ldyBteFBvaW50KDAsMCkpO2I9dGhpcy5jcmVhdGVIYW5kbGVTaGFwZSgyKTt0aGlzLmluaXRCZW5kKGIpO2Iuc2V0Q3Vyc29yKG14Q29uc3RhbnRzLkNVUlNPUl9URVJNSU5BTF9IQU5ETEUpO2EucHVzaChiKTtyZXR1cm4gYX07Cm14RWxib3dFZGdlSGFuZGxlci5wcm90b3R5cGUuY3JlYXRlVmlydHVhbEJlbmQ9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jcmVhdGVIYW5kbGVTaGFwZSgpO3RoaXMuaW5pdEJlbmQoYixhKTtiLnNldEN1cnNvcih0aGlzLmdldEN1cnNvckZvckJlbmQoKSk7dGhpcy5ncmFwaC5pc0NlbGxCZW5kYWJsZSh0aGlzLnN0YXRlLmNlbGwpfHwoYi5ub2RlLnN0eWxlLmRpc3BsYXk9Im5vbmUiKTtyZXR1cm4gYn07Cm14RWxib3dFZGdlSGFuZGxlci5wcm90b3R5cGUuZ2V0Q3Vyc29yRm9yQmVuZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YXRlLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX0VER0VdPT1teEVkZ2VTdHlsZS5Ub3BUb0JvdHRvbXx8dGhpcy5zdGF0ZS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9FREdFXT09bXhDb25zdGFudHMuRURHRVNUWUxFX1RPUFRPQk9UVE9NfHwodGhpcy5zdGF0ZS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9FREdFXT09bXhFZGdlU3R5bGUuRWxib3dDb25uZWN0b3J8fHRoaXMuc3RhdGUuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfRURHRV09PW14Q29uc3RhbnRzLkVER0VTVFlMRV9FTEJPVykmJnRoaXMuc3RhdGUuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfRUxCT1ddPT1teENvbnN0YW50cy5FTEJPV19WRVJUSUNBTD8icm93LXJlc2l6ZSI6ImNvbC1yZXNpemUifTsKbXhFbGJvd0VkZ2VIYW5kbGVyLnByb3RvdHlwZS5nZXRUb29sdGlwRm9yTm9kZT1mdW5jdGlvbihhKXt2YXIgYj1udWxsO251bGw9PXRoaXMuYmVuZHN8fG51bGw9PXRoaXMuYmVuZHNbMV18fGEhPXRoaXMuYmVuZHNbMV0ubm9kZSYmYS5wYXJlbnROb2RlIT10aGlzLmJlbmRzWzFdLm5vZGV8fChiPXRoaXMuZG91YmxlQ2xpY2tPcmllbnRhdGlvblJlc291cmNlLGI9bXhSZXNvdXJjZXMuZ2V0KGIpfHxiKTtyZXR1cm4gYn07Cm14RWxib3dFZGdlSGFuZGxlci5wcm90b3R5cGUuY29udmVydFBvaW50PWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5ncmFwaC5nZXRWaWV3KCkuZ2V0U2NhbGUoKSxkPXRoaXMuZ3JhcGguZ2V0VmlldygpLmdldFRyYW5zbGF0ZSgpLGU9dGhpcy5zdGF0ZS5vcmlnaW47YiYmKGEueD10aGlzLmdyYXBoLnNuYXAoYS54KSxhLnk9dGhpcy5ncmFwaC5zbmFwKGEueSkpO2EueD1NYXRoLnJvdW5kKGEueC9jLWQueC1lLngpO2EueT1NYXRoLnJvdW5kKGEueS9jLWQueS1lLnkpO3JldHVybiBhfTsKbXhFbGJvd0VkZ2VIYW5kbGVyLnByb3RvdHlwZS5yZWRyYXdJbm5lckJlbmRzPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5ncmFwaC5nZXRNb2RlbCgpLmdldEdlb21ldHJ5KHRoaXMuc3RhdGUuY2VsbCksZD10aGlzLnN0YXRlLmFic29sdXRlUG9pbnRzLGU9bnVsbDsxPGQubGVuZ3RoPyhhPWRbMV0sYj1kW2QubGVuZ3RoLTJdKTpudWxsIT1jLnBvaW50cyYmMDxjLnBvaW50cy5sZW5ndGgmJihlPWRbMF0pO2U9bnVsbD09ZT9uZXcgbXhQb2ludChhLngrKGIueC1hLngpLzIsYS55KyhiLnktYS55KS8yKTpuZXcgbXhQb2ludCh0aGlzLmdyYXBoLmdldFZpZXcoKS5zY2FsZSooZS54K3RoaXMuZ3JhcGguZ2V0VmlldygpLnRyYW5zbGF0ZS54K3RoaXMuc3RhdGUub3JpZ2luLngpLHRoaXMuZ3JhcGguZ2V0VmlldygpLnNjYWxlKihlLnkrdGhpcy5ncmFwaC5nZXRWaWV3KCkudHJhbnNsYXRlLnkrdGhpcy5zdGF0ZS5vcmlnaW4ueSkpO2Q9dGhpcy5iZW5kc1sxXS5ib3VuZHM7Yz1kLndpZHRoOwpkPWQuaGVpZ2h0O2M9bmV3IG14UmVjdGFuZ2xlKE1hdGgucm91bmQoZS54LWMvMiksTWF0aC5yb3VuZChlLnktZC8yKSxjLGQpO3RoaXMubWFuYWdlTGFiZWxIYW5kbGU/dGhpcy5jaGVja0xhYmVsSGFuZGxlKGMpOm51bGw9PXRoaXMuaGFuZGxlSW1hZ2UmJnRoaXMubGFiZWxTaGFwZS52aXNpYmxlJiZteFV0aWxzLmludGVyc2VjdHMoYyx0aGlzLmxhYmVsU2hhcGUuYm91bmRzKSYmKGM9bXhDb25zdGFudHMuSEFORExFX1NJWkUrMyxkPW14Q29uc3RhbnRzLkhBTkRMRV9TSVpFKzMsYz1uZXcgbXhSZWN0YW5nbGUoTWF0aC5mbG9vcihlLngtYy8yKSxNYXRoLmZsb29yKGUueS1kLzIpLGMsZCkpO3RoaXMuYmVuZHNbMV0uYm91bmRzPWM7dGhpcy5iZW5kc1sxXS5yZWRyYXcoKTt0aGlzLm1hbmFnZUxhYmVsSGFuZGxlJiZ0aGlzLmNoZWNrTGFiZWxIYW5kbGUodGhpcy5iZW5kc1sxXS5ib3VuZHMpfTsKZnVuY3Rpb24gbXhFZGdlU2VnbWVudEhhbmRsZXIoYSl7bXhFZGdlSGFuZGxlci5jYWxsKHRoaXMsYSl9bXhVdGlscy5leHRlbmQobXhFZGdlU2VnbWVudEhhbmRsZXIsbXhFbGJvd0VkZ2VIYW5kbGVyKTsKbXhFZGdlU2VnbWVudEhhbmRsZXIucHJvdG90eXBlLmdldEN1cnJlbnRQb2ludHM9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnN0YXRlLmFic29sdXRlUG9pbnRzO2lmKG51bGwhPWEpe3ZhciBiPU1hdGgubWF4KDEsdGhpcy5ncmFwaC52aWV3LnNjYWxlKTtpZigyPT1hLmxlbmd0aHx8Mz09YS5sZW5ndGgmJihNYXRoLmFicyhhWzBdLngtYVsxXS54KTxiJiZNYXRoLmFicyhhWzFdLngtYVsyXS54KTxifHxNYXRoLmFicyhhWzBdLnktYVsxXS55KTxiJiZNYXRoLmFicyhhWzFdLnktYVsyXS55KTxiKSl2YXIgYj1hWzBdLngrKGFbYS5sZW5ndGgtMV0ueC1hWzBdLngpLzIsYz1hWzBdLnkrKGFbYS5sZW5ndGgtMV0ueS1hWzBdLnkpLzIsYT1bYVswXSxuZXcgbXhQb2ludChiLGMpLG5ldyBteFBvaW50KGIsYyksYVthLmxlbmd0aC0xXV19cmV0dXJuIGF9OwpteEVkZ2VTZWdtZW50SGFuZGxlci5wcm90b3R5cGUuZ2V0UHJldmlld1BvaW50cz1mdW5jdGlvbihhKXtpZih0aGlzLmlzU291cmNlfHx0aGlzLmlzVGFyZ2V0KXJldHVybiBteEVsYm93RWRnZUhhbmRsZXIucHJvdG90eXBlLmdldFByZXZpZXdQb2ludHMuYXBwbHkodGhpcyxhcmd1bWVudHMpO3ZhciBiPXRoaXMuZ2V0Q3VycmVudFBvaW50cygpLGM9dGhpcy5jb252ZXJ0UG9pbnQoYlswXS5jbG9uZSgpLCExKTthPXRoaXMuY29udmVydFBvaW50KGEuY2xvbmUoKSwhMSk7Zm9yKHZhciBkPVtdLGU9MTtlPGIubGVuZ3RoO2UrKyl7dmFyIGY9dGhpcy5jb252ZXJ0UG9pbnQoYltlXS5jbG9uZSgpLCExKTtlPT10aGlzLmluZGV4JiYoMD09TWF0aC5yb3VuZChjLngtZi54KSYmKGMueD1hLngsZi54PWEueCksMD09TWF0aC5yb3VuZChjLnktZi55KSYmKGMueT1hLnksZi55PWEueSkpO2U8Yi5sZW5ndGgtMSYmZC5wdXNoKGYpO2M9Zn1pZigxPT1kLmxlbmd0aCl7dmFyIGI9dGhpcy5zdGF0ZS5nZXRWaXNpYmxlVGVybWluYWxTdGF0ZSghMCksCmM9dGhpcy5zdGF0ZS5nZXRWaXNpYmxlVGVybWluYWxTdGF0ZSghMSksZj10aGlzLnN0YXRlLnZpZXcuZ2V0U2NhbGUoKSxnPXRoaXMuc3RhdGUudmlldy5nZXRUcmFuc2xhdGUoKSxlPWRbMF0ueCpmK2cueCxmPWRbMF0ueSpmK2cueTtpZihudWxsIT1iJiZteFV0aWxzLmNvbnRhaW5zKGIsZSxmKXx8bnVsbCE9YyYmbXhVdGlscy5jb250YWlucyhjLGUsZikpZD1bYSxhXX1yZXR1cm4gZH07Cm14RWRnZVNlZ21lbnRIYW5kbGVyLnByb3RvdHlwZS51cGRhdGVQcmV2aWV3U3RhdGU9ZnVuY3Rpb24oYSxiLGMsZCl7bXhFZGdlSGFuZGxlci5wcm90b3R5cGUudXBkYXRlUHJldmlld1N0YXRlLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtpZighdGhpcy5pc1NvdXJjZSYmIXRoaXMuaXNUYXJnZXQpe2I9dGhpcy5jb252ZXJ0UG9pbnQoYi5jbG9uZSgpLCExKTtmb3IodmFyIGU9YS5hYnNvbHV0ZVBvaW50cyxmPWVbMF0sZz1lWzFdLGs9W10sbD0yO2w8ZS5sZW5ndGg7bCsrKXt2YXIgbT1lW2xdOzA9PU1hdGgucm91bmQoZi54LWcueCkmJjA9PU1hdGgucm91bmQoZy54LW0ueCl8fDA9PU1hdGgucm91bmQoZi55LWcueSkmJjA9PU1hdGgucm91bmQoZy55LW0ueSl8fGsucHVzaCh0aGlzLmNvbnZlcnRQb2ludChnLmNsb25lKCksITEpKTtmPWc7Zz1tfWY9dGhpcy5zdGF0ZS5nZXRWaXNpYmxlVGVybWluYWxTdGF0ZSghMCk7Zz10aGlzLnN0YXRlLmdldFZpc2libGVUZXJtaW5hbFN0YXRlKCExKTsKbD10aGlzLnN0YXRlLmFic29sdXRlUG9pbnRzO2lmKDA9PWsubGVuZ3RoJiYoMD09TWF0aC5yb3VuZChlWzBdLngtZVtlLmxlbmd0aC0xXS54KXx8MD09TWF0aC5yb3VuZChlWzBdLnktZVtlLmxlbmd0aC0xXS55KSkpaz1bYixiXTtlbHNlIGlmKDU9PWUubGVuZ3RoJiYyPT1rLmxlbmd0aCYmbnVsbCE9ZiYmbnVsbCE9ZyYmbnVsbCE9bCYmMD09TWF0aC5yb3VuZChsWzBdLngtbFtsLmxlbmd0aC0xXS54KSl7dmFyIGs9dGhpcy5ncmFwaC5nZXRWaWV3KCksbD1rLmdldFNjYWxlKCksbT1rLmdldFRyYW5zbGF0ZSgpLGU9ay5nZXRSb3V0aW5nQ2VudGVyWShmKS9sLW0ueSxuPXRoaXMuZ3JhcGguZ2V0Q29ubmVjdGlvbkNvbnN0cmFpbnQoYSxmLCEwKTtudWxsIT1uJiYobj10aGlzLmdyYXBoLmdldENvbm5lY3Rpb25Qb2ludChmLG4pLG51bGwhPW4mJih0aGlzLmNvbnZlcnRQb2ludChuLCExKSxlPW4ueSkpO2s9ay5nZXRSb3V0aW5nQ2VudGVyWShnKS9sLW0ueTtpZihsPXRoaXMuZ3JhcGguZ2V0Q29ubmVjdGlvbkNvbnN0cmFpbnQoYSwKZywhMSkpbj10aGlzLmdyYXBoLmdldENvbm5lY3Rpb25Qb2ludChnLGwpLG51bGwhPW4mJih0aGlzLmNvbnZlcnRQb2ludChuLCExKSxrPW4ueSk7az1bbmV3IG14UG9pbnQoYi54LGUpLG5ldyBteFBvaW50KGIueCxrKV19dGhpcy5wb2ludHM9azthLnZpZXcudXBkYXRlRml4ZWRUZXJtaW5hbFBvaW50cyhhLGYsZyk7YS52aWV3LnVwZGF0ZVBvaW50cyhhLHRoaXMucG9pbnRzLGYsZyk7YS52aWV3LnVwZGF0ZUZsb2F0aW5nVGVybWluYWxQb2ludHMoYSxmLGcpfX07Cm14RWRnZVNlZ21lbnRIYW5kbGVyLnByb3RvdHlwZS5jb25uZWN0PWZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9dGhpcy5ncmFwaC5nZXRNb2RlbCgpLGc9Zi5nZXRHZW9tZXRyeShhKSxrPW51bGw7aWYobnVsbCE9ZyYmbnVsbCE9Zy5wb2ludHMmJjA8Zy5wb2ludHMubGVuZ3RoKWZvcih2YXIgbD10aGlzLmFic3BvaW50cyxtPWxbMF0sbj1sWzFdLGs9W10scD0yO3A8bC5sZW5ndGg7cCsrKXt2YXIgcT1sW3BdOzA9PU1hdGgucm91bmQobS54LW4ueCkmJjA9PU1hdGgucm91bmQobi54LXEueCl8fDA9PU1hdGgucm91bmQobS55LW4ueSkmJjA9PU1hdGgucm91bmQobi55LXEueSl8fGsucHVzaCh0aGlzLmNvbnZlcnRQb2ludChuLmNsb25lKCksITEpKTttPW47bj1xfWYuYmVnaW5VcGRhdGUoKTt0cnl7bnVsbCE9ayYmKGc9Zi5nZXRHZW9tZXRyeShhKSxudWxsIT1nJiYoZz1nLmNsb25lKCksZy5wb2ludHM9ayxmLnNldEdlb21ldHJ5KGEsZykpKSxhPW14RWRnZUhhbmRsZXIucHJvdG90eXBlLmNvbm5lY3QuYXBwbHkodGhpcywKYXJndW1lbnRzKX1maW5hbGx5e2YuZW5kVXBkYXRlKCl9cmV0dXJuIGF9O214RWRnZVNlZ21lbnRIYW5kbGVyLnByb3RvdHlwZS5nZXRUb29sdGlwRm9yTm9kZT1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbH07bXhFZGdlU2VnbWVudEhhbmRsZXIucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKGEsYixjKXtteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5zdGFydC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7bnVsbD09dGhpcy5iZW5kc3x8bnVsbD09dGhpcy5iZW5kc1tjXXx8dGhpcy5pc1NvdXJjZXx8dGhpcy5pc1RhcmdldHx8bXhVdGlscy5zZXRPcGFjaXR5KHRoaXMuYmVuZHNbY10ubm9kZSwxMDApfTsKbXhFZGdlU2VnbWVudEhhbmRsZXIucHJvdG90eXBlLmNyZWF0ZUJlbmRzPWZ1bmN0aW9uKCl7dmFyIGE9W10sYj10aGlzLmNyZWF0ZUhhbmRsZVNoYXBlKDApO3RoaXMuaW5pdEJlbmQoYik7Yi5zZXRDdXJzb3IobXhDb25zdGFudHMuQ1VSU09SX1RFUk1JTkFMX0hBTkRMRSk7YS5wdXNoKGIpO3ZhciBjPXRoaXMuZ2V0Q3VycmVudFBvaW50cygpO2lmKHRoaXMuZ3JhcGguaXNDZWxsQmVuZGFibGUodGhpcy5zdGF0ZS5jZWxsKSl7bnVsbD09dGhpcy5wb2ludHMmJih0aGlzLnBvaW50cz1bXSk7Zm9yKHZhciBkPTA7ZDxjLmxlbmd0aC0xO2QrKyl7Yj10aGlzLmNyZWF0ZVZpcnR1YWxCZW5kKCk7YS5wdXNoKGIpO3ZhciBlPTA9PU1hdGgucm91bmQoY1tkXS54LWNbZCsxXS54KTswPT1NYXRoLnJvdW5kKGNbZF0ueS1jW2QrMV0ueSkmJmQ8Yy5sZW5ndGgtMiYmKGU9MD09TWF0aC5yb3VuZChjW2RdLngtY1tkKzJdLngpKTtiLnNldEN1cnNvcihlPyJjb2wtcmVzaXplIjoicm93LXJlc2l6ZSIpOwp0aGlzLnBvaW50cy5wdXNoKG5ldyBteFBvaW50KDAsMCkpfX1iPXRoaXMuY3JlYXRlSGFuZGxlU2hhcGUoYy5sZW5ndGgpO3RoaXMuaW5pdEJlbmQoYik7Yi5zZXRDdXJzb3IobXhDb25zdGFudHMuQ1VSU09SX1RFUk1JTkFMX0hBTkRMRSk7YS5wdXNoKGIpO3JldHVybiBhfTtteEVkZ2VTZWdtZW50SGFuZGxlci5wcm90b3R5cGUucmVkcmF3PWZ1bmN0aW9uKCl7dGhpcy5yZWZyZXNoKCk7bXhFZGdlSGFuZGxlci5wcm90b3R5cGUucmVkcmF3LmFwcGx5KHRoaXMsYXJndW1lbnRzKX07Cm14RWRnZVNlZ21lbnRIYW5kbGVyLnByb3RvdHlwZS5yZWRyYXdJbm5lckJlbmRzPWZ1bmN0aW9uKGEsYil7aWYodGhpcy5ncmFwaC5pc0NlbGxCZW5kYWJsZSh0aGlzLnN0YXRlLmNlbGwpKXt2YXIgYz10aGlzLmdldEN1cnJlbnRQb2ludHMoKTtpZihudWxsIT1jJiYxPGMubGVuZ3RoKXt2YXIgZD0hMTtpZig0PT1jLmxlbmd0aCYmMD09TWF0aC5yb3VuZChjWzFdLngtY1syXS54KSYmMD09TWF0aC5yb3VuZChjWzFdLnktY1syXS55KSlpZihkPSEwLDA9PU1hdGgucm91bmQoY1swXS55LWNbYy5sZW5ndGgtMV0ueSkpe3ZhciBlPWNbMF0ueCsoY1tjLmxlbmd0aC0xXS54LWNbMF0ueCkvMjtjWzFdPW5ldyBteFBvaW50KGUsY1sxXS55KTtjWzJdPW5ldyBteFBvaW50KGUsY1syXS55KX1lbHNlIGU9Y1swXS55KyhjW2MubGVuZ3RoLTFdLnktY1swXS55KS8yLGNbMV09bmV3IG14UG9pbnQoY1sxXS54LGUpLGNbMl09bmV3IG14UG9pbnQoY1syXS54LGUpO2ZvcihlPTA7ZTxjLmxlbmd0aC0KMTtlKyspaWYobnVsbCE9dGhpcy5iZW5kc1tlKzFdKXthPWNbZV07Yj1jW2UrMV07dmFyIGY9bmV3IG14UG9pbnQoYS54KyhiLngtYS54KS8yLGEueSsoYi55LWEueSkvMiksZz10aGlzLmJlbmRzW2UrMV0uYm91bmRzO3RoaXMuYmVuZHNbZSsxXS5ib3VuZHM9bmV3IG14UmVjdGFuZ2xlKE1hdGguZmxvb3IoZi54LWcud2lkdGgvMiksTWF0aC5mbG9vcihmLnktZy5oZWlnaHQvMiksZy53aWR0aCxnLmhlaWdodCk7dGhpcy5iZW5kc1tlKzFdLnJlZHJhdygpO3RoaXMubWFuYWdlTGFiZWxIYW5kbGUmJnRoaXMuY2hlY2tMYWJlbEhhbmRsZSh0aGlzLmJlbmRzW2UrMV0uYm91bmRzKX1kJiYobXhVdGlscy5zZXRPcGFjaXR5KHRoaXMuYmVuZHNbMV0ubm9kZSx0aGlzLnZpcnR1YWxCZW5kT3BhY2l0eSksbXhVdGlscy5zZXRPcGFjaXR5KHRoaXMuYmVuZHNbM10ubm9kZSx0aGlzLnZpcnR1YWxCZW5kT3BhY2l0eSkpfX19OwpmdW5jdGlvbiBteEtleUhhbmRsZXIoYSxiKXtudWxsIT1hJiYodGhpcy5ncmFwaD1hLHRoaXMudGFyZ2V0PWJ8fGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCx0aGlzLm5vcm1hbEtleXM9W10sdGhpcy5zaGlmdEtleXM9W10sdGhpcy5jb250cm9sS2V5cz1bXSx0aGlzLmNvbnRyb2xTaGlmdEtleXM9W10sdGhpcy5rZXlkb3duSGFuZGxlcj1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXt0aGlzLmtleURvd24oYSl9KSxteEV2ZW50LmFkZExpc3RlbmVyKHRoaXMudGFyZ2V0LCJrZXlkb3duIix0aGlzLmtleWRvd25IYW5kbGVyKSxteENsaWVudC5JU19JRSYmbXhFdmVudC5hZGRMaXN0ZW5lcih3aW5kb3csInVubG9hZCIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt0aGlzLmRlc3Ryb3koKX0pKSl9bXhLZXlIYW5kbGVyLnByb3RvdHlwZS5ncmFwaD1udWxsO214S2V5SGFuZGxlci5wcm90b3R5cGUudGFyZ2V0PW51bGw7Cm14S2V5SGFuZGxlci5wcm90b3R5cGUubm9ybWFsS2V5cz1udWxsO214S2V5SGFuZGxlci5wcm90b3R5cGUuc2hpZnRLZXlzPW51bGw7bXhLZXlIYW5kbGVyLnByb3RvdHlwZS5jb250cm9sS2V5cz1udWxsO214S2V5SGFuZGxlci5wcm90b3R5cGUuY29udHJvbFNoaWZ0S2V5cz1udWxsO214S2V5SGFuZGxlci5wcm90b3R5cGUuZW5hYmxlZD0hMDtteEtleUhhbmRsZXIucHJvdG90eXBlLmlzRW5hYmxlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVuYWJsZWR9O214S2V5SGFuZGxlci5wcm90b3R5cGUuc2V0RW5hYmxlZD1mdW5jdGlvbihhKXt0aGlzLmVuYWJsZWQ9YX07bXhLZXlIYW5kbGVyLnByb3RvdHlwZS5iaW5kS2V5PWZ1bmN0aW9uKGEsYil7dGhpcy5ub3JtYWxLZXlzW2FdPWJ9O214S2V5SGFuZGxlci5wcm90b3R5cGUuYmluZFNoaWZ0S2V5PWZ1bmN0aW9uKGEsYil7dGhpcy5zaGlmdEtleXNbYV09Yn07Cm14S2V5SGFuZGxlci5wcm90b3R5cGUuYmluZENvbnRyb2xLZXk9ZnVuY3Rpb24oYSxiKXt0aGlzLmNvbnRyb2xLZXlzW2FdPWJ9O214S2V5SGFuZGxlci5wcm90b3R5cGUuYmluZENvbnRyb2xTaGlmdEtleT1mdW5jdGlvbihhLGIpe3RoaXMuY29udHJvbFNoaWZ0S2V5c1thXT1ifTtteEtleUhhbmRsZXIucHJvdG90eXBlLmlzQ29udHJvbERvd249ZnVuY3Rpb24oYSl7cmV0dXJuIG14RXZlbnQuaXNDb250cm9sRG93bihhKX07bXhLZXlIYW5kbGVyLnByb3RvdHlwZS5nZXRGdW5jdGlvbj1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbD09YXx8bXhFdmVudC5pc0FsdERvd24oYSk/bnVsbDp0aGlzLmlzQ29udHJvbERvd24oYSk/bXhFdmVudC5pc1NoaWZ0RG93bihhKT90aGlzLmNvbnRyb2xTaGlmdEtleXNbYS5rZXlDb2RlXTp0aGlzLmNvbnRyb2xLZXlzW2Eua2V5Q29kZV06bXhFdmVudC5pc1NoaWZ0RG93bihhKT90aGlzLnNoaWZ0S2V5c1thLmtleUNvZGVdOnRoaXMubm9ybWFsS2V5c1thLmtleUNvZGVdfTsKbXhLZXlIYW5kbGVyLnByb3RvdHlwZS5pc0dyYXBoRXZlbnQ9ZnVuY3Rpb24oYSl7dmFyIGI9bXhFdmVudC5nZXRTb3VyY2UoYSk7cmV0dXJuIGI9PXRoaXMudGFyZ2V0fHxiLnBhcmVudE5vZGU9PXRoaXMudGFyZ2V0fHxudWxsIT10aGlzLmdyYXBoLmNlbGxFZGl0b3ImJnRoaXMuZ3JhcGguY2VsbEVkaXRvci5pc0V2ZW50U291cmNlKGEpPyEwOm14VXRpbHMuaXNBbmNlc3Rvck5vZGUodGhpcy5ncmFwaC5jb250YWluZXIsYil9O214S2V5SGFuZGxlci5wcm90b3R5cGUua2V5RG93bj1mdW5jdGlvbihhKXtpZih0aGlzLmlzRW5hYmxlZEZvckV2ZW50KGEpKWlmKDI3PT1hLmtleUNvZGUpdGhpcy5lc2NhcGUoYSk7ZWxzZSBpZighdGhpcy5pc0V2ZW50SWdub3JlZChhKSl7dmFyIGI9dGhpcy5nZXRGdW5jdGlvbihhKTtudWxsIT1iJiYoYihhKSxteEV2ZW50LmNvbnN1bWUoYSkpfX07Cm14S2V5SGFuZGxlci5wcm90b3R5cGUuaXNFbmFibGVkRm9yRXZlbnQ9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZ3JhcGguaXNFbmFibGVkKCkmJiFteEV2ZW50LmlzQ29uc3VtZWQoYSkmJnRoaXMuaXNHcmFwaEV2ZW50KGEpJiZ0aGlzLmlzRW5hYmxlZCgpfTtteEtleUhhbmRsZXIucHJvdG90eXBlLmlzRXZlbnRJZ25vcmVkPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmdyYXBoLmlzRWRpdGluZygpfTtteEtleUhhbmRsZXIucHJvdG90eXBlLmVzY2FwZT1mdW5jdGlvbihhKXt0aGlzLmdyYXBoLmlzRXNjYXBlRW5hYmxlZCgpJiZ0aGlzLmdyYXBoLmVzY2FwZShhKX07Cm14S2V5SGFuZGxlci5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe251bGwhPXRoaXMudGFyZ2V0JiZudWxsIT10aGlzLmtleWRvd25IYW5kbGVyJiYobXhFdmVudC5yZW1vdmVMaXN0ZW5lcih0aGlzLnRhcmdldCwia2V5ZG93biIsdGhpcy5rZXlkb3duSGFuZGxlciksdGhpcy5rZXlkb3duSGFuZGxlcj1udWxsKTt0aGlzLnRhcmdldD1udWxsfTtmdW5jdGlvbiBteFRvb2x0aXBIYW5kbGVyKGEsYil7bnVsbCE9YSYmKHRoaXMuZ3JhcGg9YSx0aGlzLmRlbGF5PWJ8fDUwMCx0aGlzLmdyYXBoLmFkZE1vdXNlTGlzdGVuZXIodGhpcykpfW14VG9vbHRpcEhhbmRsZXIucHJvdG90eXBlLnpJbmRleD0xMDAwNTtteFRvb2x0aXBIYW5kbGVyLnByb3RvdHlwZS5ncmFwaD1udWxsO214VG9vbHRpcEhhbmRsZXIucHJvdG90eXBlLmRlbGF5PW51bGw7bXhUb29sdGlwSGFuZGxlci5wcm90b3R5cGUuaWdub3JlVG91Y2hFdmVudHM9ITA7Cm14VG9vbHRpcEhhbmRsZXIucHJvdG90eXBlLmhpZGVPbkhvdmVyPSExO214VG9vbHRpcEhhbmRsZXIucHJvdG90eXBlLmRlc3Ryb3llZD0hMTtteFRvb2x0aXBIYW5kbGVyLnByb3RvdHlwZS5lbmFibGVkPSEwO214VG9vbHRpcEhhbmRsZXIucHJvdG90eXBlLmlzRW5hYmxlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVuYWJsZWR9O214VG9vbHRpcEhhbmRsZXIucHJvdG90eXBlLnNldEVuYWJsZWQ9ZnVuY3Rpb24oYSl7dGhpcy5lbmFibGVkPWF9O214VG9vbHRpcEhhbmRsZXIucHJvdG90eXBlLmlzSGlkZU9uSG92ZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5oaWRlT25Ib3Zlcn07bXhUb29sdGlwSGFuZGxlci5wcm90b3R5cGUuc2V0SGlkZU9uSG92ZXI9ZnVuY3Rpb24oYSl7dGhpcy5oaWRlT25Ib3Zlcj1hfTsKbXhUb29sdGlwSGFuZGxlci5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbigpe251bGwhPWRvY3VtZW50LmJvZHkmJih0aGlzLmRpdj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSx0aGlzLmRpdi5jbGFzc05hbWU9Im14VG9vbHRpcCIsdGhpcy5kaXYuc3R5bGUudmlzaWJpbGl0eT0iaGlkZGVuIixkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuZGl2KSxteEV2ZW50LmFkZEdlc3R1cmVMaXN0ZW5lcnModGhpcy5kaXYsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7dGhpcy5oaWRlVG9vbHRpcCgpfSkpKX07bXhUb29sdGlwSGFuZGxlci5wcm90b3R5cGUuZ2V0U3RhdGVGb3JFdmVudD1mdW5jdGlvbihhKXtyZXR1cm4gYS5nZXRTdGF0ZSgpfTtteFRvb2x0aXBIYW5kbGVyLnByb3RvdHlwZS5tb3VzZURvd249ZnVuY3Rpb24oYSxiKXt0aGlzLnJlc2V0KGIsITEpO3RoaXMuaGlkZVRvb2x0aXAoKX07Cm14VG9vbHRpcEhhbmRsZXIucHJvdG90eXBlLm1vdXNlTW92ZT1mdW5jdGlvbihhLGIpe2lmKGIuZ2V0WCgpIT10aGlzLmxhc3RYfHxiLmdldFkoKSE9dGhpcy5sYXN0WSl7dGhpcy5yZXNldChiLCEwKTt2YXIgYz10aGlzLmdldFN0YXRlRm9yRXZlbnQoYik7KHRoaXMuaXNIaWRlT25Ib3ZlcigpfHxjIT10aGlzLnN0YXRlfHxiLmdldFNvdXJjZSgpIT10aGlzLm5vZGUmJighdGhpcy5zdGF0ZVNvdXJjZXx8bnVsbCE9YyYmdGhpcy5zdGF0ZVNvdXJjZT09KGIuaXNTb3VyY2UoYy5zaGFwZSl8fCFiLmlzU291cmNlKGMudGV4dCkpKSkmJnRoaXMuaGlkZVRvb2x0aXAoKX10aGlzLmxhc3RYPWIuZ2V0WCgpO3RoaXMubGFzdFk9Yi5nZXRZKCl9O214VG9vbHRpcEhhbmRsZXIucHJvdG90eXBlLm1vdXNlVXA9ZnVuY3Rpb24oYSxiKXt0aGlzLnJlc2V0KGIsITApO3RoaXMuaGlkZVRvb2x0aXAoKX07Cm14VG9vbHRpcEhhbmRsZXIucHJvdG90eXBlLnJlc2V0VGltZXI9ZnVuY3Rpb24oKXtudWxsIT10aGlzLnRocmVhZCYmKHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy50aHJlYWQpLHRoaXMudGhyZWFkPW51bGwpfTsKbXhUb29sdGlwSGFuZGxlci5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oYSxiLGMpe2lmKCF0aGlzLmlnbm9yZVRvdWNoRXZlbnRzfHxteEV2ZW50LmlzTW91c2VFdmVudChhLmdldEV2ZW50KCkpKWlmKHRoaXMucmVzZXRUaW1lcigpLGM9bnVsbCE9Yz9jOnRoaXMuZ2V0U3RhdGVGb3JFdmVudChhKSxiJiZ0aGlzLmlzRW5hYmxlZCgpJiZudWxsIT1jJiYobnVsbD09dGhpcy5kaXZ8fCJoaWRkZW4iPT10aGlzLmRpdi5zdHlsZS52aXNpYmlsaXR5KSl7dmFyIGQ9YS5nZXRTb3VyY2UoKSxlPWEuZ2V0WCgpLGY9YS5nZXRZKCksZz1hLmlzU291cmNlKGMuc2hhcGUpfHxhLmlzU291cmNlKGMudGV4dCk7dGhpcy50aHJlYWQ9d2luZG93LnNldFRpbWVvdXQobXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXtpZighdGhpcy5ncmFwaC5pc0VkaXRpbmcoKSYmIXRoaXMuZ3JhcGgucG9wdXBNZW51SGFuZGxlci5pc01lbnVTaG93aW5nKCkmJiF0aGlzLmdyYXBoLmlzTW91c2VEb3duKXt2YXIgYT0KdGhpcy5ncmFwaC5nZXRUb29sdGlwKGMsZCxlLGYpO3RoaXMuc2hvdyhhLGUsZik7dGhpcy5zdGF0ZT1jO3RoaXMubm9kZT1kO3RoaXMuc3RhdGVTb3VyY2U9Z319KSx0aGlzLmRlbGF5KX19O214VG9vbHRpcEhhbmRsZXIucHJvdG90eXBlLmhpZGU9ZnVuY3Rpb24oKXt0aGlzLnJlc2V0VGltZXIoKTt0aGlzLmhpZGVUb29sdGlwKCl9O214VG9vbHRpcEhhbmRsZXIucHJvdG90eXBlLmhpZGVUb29sdGlwPWZ1bmN0aW9uKCl7bnVsbCE9dGhpcy5kaXYmJih0aGlzLmRpdi5zdHlsZS52aXNpYmlsaXR5PSJoaWRkZW4iLHRoaXMuZGl2LmlubmVySFRNTD0iIil9OwpteFRvb2x0aXBIYW5kbGVyLnByb3RvdHlwZS5zaG93PWZ1bmN0aW9uKGEsYixjKXtpZighdGhpcy5kZXN0cm95ZWQmJm51bGwhPWEmJjA8YS5sZW5ndGgpe251bGw9PXRoaXMuZGl2JiZ0aGlzLmluaXQoKTt2YXIgZD1teFV0aWxzLmdldFNjcm9sbE9yaWdpbigpO3RoaXMuZGl2LnN0eWxlLnpJbmRleD10aGlzLnpJbmRleDt0aGlzLmRpdi5zdHlsZS5sZWZ0PWIrZC54KyJweCI7dGhpcy5kaXYuc3R5bGUudG9wPWMrbXhDb25zdGFudHMuVE9PTFRJUF9WRVJUSUNBTF9PRkZTRVQrZC55KyJweCI7bXhVdGlscy5pc05vZGUoYSk/KHRoaXMuZGl2LmlubmVySFRNTD0iIix0aGlzLmRpdi5hcHBlbmRDaGlsZChhKSk6dGhpcy5kaXYuaW5uZXJIVE1MPWEucmVwbGFjZSgvXG4vZywiPGJyPiIpO3RoaXMuZGl2LnN0eWxlLnZpc2liaWxpdHk9IiI7bXhVdGlscy5maXQodGhpcy5kaXYpfX07Cm14VG9vbHRpcEhhbmRsZXIucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmRlc3Ryb3llZHx8KHRoaXMuZ3JhcGgucmVtb3ZlTW91c2VMaXN0ZW5lcih0aGlzKSxteEV2ZW50LnJlbGVhc2UodGhpcy5kaXYpLG51bGwhPXRoaXMuZGl2JiZudWxsIT10aGlzLmRpdi5wYXJlbnROb2RlJiZ0aGlzLmRpdi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuZGl2KSx0aGlzLmRlc3Ryb3llZD0hMCx0aGlzLmRpdj1udWxsKX07ZnVuY3Rpb24gbXhDZWxsVHJhY2tlcihhLGIsYyl7bXhDZWxsTWFya2VyLmNhbGwodGhpcyxhLGIpO3RoaXMuZ3JhcGguYWRkTW91c2VMaXN0ZW5lcih0aGlzKTtudWxsIT1jJiYodGhpcy5nZXRDZWxsPWMpO214Q2xpZW50LklTX0lFJiZteEV2ZW50LmFkZExpc3RlbmVyKHdpbmRvdywidW5sb2FkIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMuZGVzdHJveSgpfSkpfW14VXRpbHMuZXh0ZW5kKG14Q2VsbFRyYWNrZXIsbXhDZWxsTWFya2VyKTsKbXhDZWxsVHJhY2tlci5wcm90b3R5cGUubW91c2VEb3duPWZ1bmN0aW9uKGEsYil7fTtteENlbGxUcmFja2VyLnByb3RvdHlwZS5tb3VzZU1vdmU9ZnVuY3Rpb24oYSxiKXt0aGlzLmlzRW5hYmxlZCgpJiZ0aGlzLnByb2Nlc3MoYil9O214Q2VsbFRyYWNrZXIucHJvdG90eXBlLm1vdXNlVXA9ZnVuY3Rpb24oYSxiKXt9O214Q2VsbFRyYWNrZXIucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmRlc3Ryb3llZHx8KHRoaXMuZGVzdHJveWVkPSEwLHRoaXMuZ3JhcGgucmVtb3ZlTW91c2VMaXN0ZW5lcih0aGlzKSxteENlbGxNYXJrZXIucHJvdG90eXBlLmRlc3Ryb3kuYXBwbHkodGhpcykpfTsKZnVuY3Rpb24gbXhDZWxsSGlnaGxpZ2h0KGEsYixjLGQpe251bGwhPWEmJih0aGlzLmdyYXBoPWEsdGhpcy5oaWdobGlnaHRDb2xvcj1udWxsIT1iP2I6bXhDb25zdGFudHMuREVGQVVMVF9WQUxJRF9DT0xPUix0aGlzLnN0cm9rZVdpZHRoPW51bGwhPWM/YzpteENvbnN0YW50cy5ISUdITElHSFRfU1RST0tFV0lEVEgsdGhpcy5kYXNoZWQ9bnVsbCE9ZD9kOiExLHRoaXMub3BhY2l0eT1teENvbnN0YW50cy5ISUdITElHSFRfT1BBQ0lUWSx0aGlzLnJlcGFpbnRIYW5kbGVyPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7aWYobnVsbCE9dGhpcy5zdGF0ZSl7dmFyIGE9dGhpcy5ncmFwaC52aWV3LmdldFN0YXRlKHRoaXMuc3RhdGUuY2VsbCk7bnVsbD09YT90aGlzLmhpZGUoKToodGhpcy5zdGF0ZT1hLHRoaXMucmVwYWludCgpKX19KSx0aGlzLmdyYXBoLmdldFZpZXcoKS5hZGRMaXN0ZW5lcihteEV2ZW50LlNDQUxFLHRoaXMucmVwYWludEhhbmRsZXIpLHRoaXMuZ3JhcGguZ2V0VmlldygpLmFkZExpc3RlbmVyKG14RXZlbnQuVFJBTlNMQVRFLAp0aGlzLnJlcGFpbnRIYW5kbGVyKSx0aGlzLmdyYXBoLmdldFZpZXcoKS5hZGRMaXN0ZW5lcihteEV2ZW50LlNDQUxFX0FORF9UUkFOU0xBVEUsdGhpcy5yZXBhaW50SGFuZGxlciksdGhpcy5ncmFwaC5nZXRNb2RlbCgpLmFkZExpc3RlbmVyKG14RXZlbnQuQ0hBTkdFLHRoaXMucmVwYWludEhhbmRsZXIpLHRoaXMucmVzZXRIYW5kbGVyPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dGhpcy5oaWRlKCl9KSx0aGlzLmdyYXBoLmdldFZpZXcoKS5hZGRMaXN0ZW5lcihteEV2ZW50LkRPV04sdGhpcy5yZXNldEhhbmRsZXIpLHRoaXMuZ3JhcGguZ2V0VmlldygpLmFkZExpc3RlbmVyKG14RXZlbnQuVVAsdGhpcy5yZXNldEhhbmRsZXIpKX1teENlbGxIaWdobGlnaHQucHJvdG90eXBlLmtlZXBPblRvcD0hMTtteENlbGxIaWdobGlnaHQucHJvdG90eXBlLmdyYXBoPW51bGw7bXhDZWxsSGlnaGxpZ2h0LnByb3RvdHlwZS5zdGF0ZT1udWxsOwpteENlbGxIaWdobGlnaHQucHJvdG90eXBlLnNwYWNpbmc9MjtteENlbGxIaWdobGlnaHQucHJvdG90eXBlLnJlc2V0SGFuZGxlcj1udWxsO214Q2VsbEhpZ2hsaWdodC5wcm90b3R5cGUuc2V0SGlnaGxpZ2h0Q29sb3I9ZnVuY3Rpb24oYSl7dGhpcy5oaWdobGlnaHRDb2xvcj1hO251bGwhPXRoaXMuc2hhcGUmJih0aGlzLnNoYXBlLnN0cm9rZT1hKX07bXhDZWxsSGlnaGxpZ2h0LnByb3RvdHlwZS5kcmF3SGlnaGxpZ2h0PWZ1bmN0aW9uKCl7dGhpcy5zaGFwZT10aGlzLmNyZWF0ZVNoYXBlKCk7dGhpcy5yZXBhaW50KCk7dGhpcy5rZWVwT25Ub3B8fHRoaXMuc2hhcGUubm9kZS5wYXJlbnROb2RlLmZpcnN0Q2hpbGQ9PXRoaXMuc2hhcGUubm9kZXx8dGhpcy5zaGFwZS5ub2RlLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHRoaXMuc2hhcGUubm9kZSx0aGlzLnNoYXBlLm5vZGUucGFyZW50Tm9kZS5maXJzdENoaWxkKX07Cm14Q2VsbEhpZ2hsaWdodC5wcm90b3R5cGUuY3JlYXRlU2hhcGU9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdyYXBoLmNlbGxSZW5kZXJlci5jcmVhdGVTaGFwZSh0aGlzLnN0YXRlKTthLnN2Z1N0cm9rZVRvbGVyYW5jZT10aGlzLmdyYXBoLnRvbGVyYW5jZTthLnBvaW50cz10aGlzLnN0YXRlLmFic29sdXRlUG9pbnRzO2EuYXBwbHkodGhpcy5zdGF0ZSk7YS5zdHJva2U9dGhpcy5oaWdobGlnaHRDb2xvcjthLm9wYWNpdHk9dGhpcy5vcGFjaXR5O2EuaXNEYXNoZWQ9dGhpcy5kYXNoZWQ7YS5pc1NoYWRvdz0hMTthLmRpYWxlY3Q9dGhpcy5ncmFwaC5kaWFsZWN0IT1teENvbnN0YW50cy5ESUFMRUNUX1NWRz9teENvbnN0YW50cy5ESUFMRUNUX1ZNTDpteENvbnN0YW50cy5ESUFMRUNUX1NWRzthLmluaXQodGhpcy5ncmFwaC5nZXRWaWV3KCkuZ2V0T3ZlcmxheVBhbmUoKSk7bXhFdmVudC5yZWRpcmVjdE1vdXNlRXZlbnRzKGEubm9kZSx0aGlzLmdyYXBoLHRoaXMuc3RhdGUpO3RoaXMuZ3JhcGguZGlhbGVjdCE9Cm14Q29uc3RhbnRzLkRJQUxFQ1RfU1ZHP2EucG9pbnRlckV2ZW50cz0hMTphLnN2Z1BvaW50ZXJFdmVudHM9InN0cm9rZSI7cmV0dXJuIGF9O214Q2VsbEhpZ2hsaWdodC5wcm90b3R5cGUuZ2V0U3Ryb2tlV2lkdGg9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuc3Ryb2tlV2lkdGh9OwpteENlbGxIaWdobGlnaHQucHJvdG90eXBlLnJlcGFpbnQ9ZnVuY3Rpb24oKXtpZihudWxsIT10aGlzLnN0YXRlJiZudWxsIT10aGlzLnNoYXBlKXt0aGlzLnNoYXBlLnNjYWxlPXRoaXMuc3RhdGUudmlldy5zY2FsZTt0aGlzLmdyYXBoLm1vZGVsLmlzRWRnZSh0aGlzLnN0YXRlLmNlbGwpPyh0aGlzLnNoYXBlLnN0cm9rZXdpZHRoPXRoaXMuZ2V0U3Ryb2tlV2lkdGgoKSx0aGlzLnNoYXBlLnBvaW50cz10aGlzLnN0YXRlLmFic29sdXRlUG9pbnRzLHRoaXMuc2hhcGUub3V0bGluZT0hMSk6KHRoaXMuc2hhcGUuYm91bmRzPW5ldyBteFJlY3RhbmdsZSh0aGlzLnN0YXRlLngtdGhpcy5zcGFjaW5nLHRoaXMuc3RhdGUueS10aGlzLnNwYWNpbmcsdGhpcy5zdGF0ZS53aWR0aCsyKnRoaXMuc3BhY2luZyx0aGlzLnN0YXRlLmhlaWdodCsyKnRoaXMuc3BhY2luZyksdGhpcy5zaGFwZS5yb3RhdGlvbj1OdW1iZXIodGhpcy5zdGF0ZS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9ST1RBVElPTl18fAoiMCIpLHRoaXMuc2hhcGUuc3Ryb2tld2lkdGg9dGhpcy5nZXRTdHJva2VXaWR0aCgpL3RoaXMuc3RhdGUudmlldy5zY2FsZSx0aGlzLnNoYXBlLm91dGxpbmU9ITApO251bGwhPXRoaXMuc3RhdGUuc2hhcGUmJnRoaXMuc2hhcGUuc2V0Q3Vyc29yKHRoaXMuc3RhdGUuc2hhcGUuZ2V0Q3Vyc29yKCkpO2lmKG14Q2xpZW50LklTX1FVSVJLU3x8OD09ZG9jdW1lbnQuZG9jdW1lbnRNb2RlKSJ0cmFuc3BhcmVudCI9PXRoaXMuc2hhcGUuc3Ryb2tlPyh0aGlzLnNoYXBlLnN0cm9rZT0id2hpdGUiLHRoaXMuc2hhcGUub3BhY2l0eT0xKTp0aGlzLnNoYXBlLm9wYWNpdHk9dGhpcy5vcGFjaXR5O3RoaXMuc2hhcGUucmVkcmF3KCl9fTtteENlbGxIaWdobGlnaHQucHJvdG90eXBlLmhpZGU9ZnVuY3Rpb24oKXt0aGlzLmhpZ2hsaWdodChudWxsKX07Cm14Q2VsbEhpZ2hsaWdodC5wcm90b3R5cGUuaGlnaGxpZ2h0PWZ1bmN0aW9uKGEpe3RoaXMuc3RhdGUhPWEmJihudWxsIT10aGlzLnNoYXBlJiYodGhpcy5zaGFwZS5kZXN0cm95KCksdGhpcy5zaGFwZT1udWxsKSx0aGlzLnN0YXRlPWEsbnVsbCE9dGhpcy5zdGF0ZSYmdGhpcy5kcmF3SGlnaGxpZ2h0KCkpfTtteENlbGxIaWdobGlnaHQucHJvdG90eXBlLmlzSGlnaGxpZ2h0QXQ9ZnVuY3Rpb24oYSxiKXt2YXIgYz0hMTtpZihudWxsIT10aGlzLnNoYXBlJiZudWxsIT1kb2N1bWVudC5lbGVtZW50RnJvbVBvaW50JiYhbXhDbGllbnQuSVNfUVVJUktTKWZvcih2YXIgZD1kb2N1bWVudC5lbGVtZW50RnJvbVBvaW50KGEsYik7bnVsbCE9ZDspe2lmKGQ9PXRoaXMuc2hhcGUubm9kZSl7Yz0hMDticmVha31kPWQucGFyZW50Tm9kZX1yZXR1cm4gY307Cm14Q2VsbEhpZ2hsaWdodC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuZ3JhcGguZ2V0VmlldygpLnJlbW92ZUxpc3RlbmVyKHRoaXMucmVzZXRIYW5kbGVyKTt0aGlzLmdyYXBoLmdldFZpZXcoKS5yZW1vdmVMaXN0ZW5lcih0aGlzLnJlcGFpbnRIYW5kbGVyKTt0aGlzLmdyYXBoLmdldE1vZGVsKCkucmVtb3ZlTGlzdGVuZXIodGhpcy5yZXBhaW50SGFuZGxlcik7bnVsbCE9dGhpcy5zaGFwZSYmKHRoaXMuc2hhcGUuZGVzdHJveSgpLHRoaXMuc2hhcGU9bnVsbCl9OwpmdW5jdGlvbiBteERlZmF1bHRLZXlIYW5kbGVyKGEpe2lmKG51bGwhPWEpe3RoaXMuZWRpdG9yPWE7dGhpcy5oYW5kbGVyPW5ldyBteEtleUhhbmRsZXIoYS5ncmFwaCk7dmFyIGI9dGhpcy5oYW5kbGVyLmVzY2FwZTt0aGlzLmhhbmRsZXIuZXNjYXBlPWZ1bmN0aW9uKGMpe2IuYXBwbHkodGhpcyxhcmd1bWVudHMpO2EuaGlkZVByb3BlcnRpZXMoKTthLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LkVTQ0FQRSwiZXZlbnQiLGMpKX19fW14RGVmYXVsdEtleUhhbmRsZXIucHJvdG90eXBlLmVkaXRvcj1udWxsO214RGVmYXVsdEtleUhhbmRsZXIucHJvdG90eXBlLmhhbmRsZXI9bnVsbDsKbXhEZWZhdWx0S2V5SGFuZGxlci5wcm90b3R5cGUuYmluZEFjdGlvbj1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt0aGlzLmVkaXRvci5leGVjdXRlKGIpfSk7Yz90aGlzLmhhbmRsZXIuYmluZENvbnRyb2xLZXkoYSxkKTp0aGlzLmhhbmRsZXIuYmluZEtleShhLGQpfTtteERlZmF1bHRLZXlIYW5kbGVyLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5oYW5kbGVyLmRlc3Ryb3koKTt0aGlzLmhhbmRsZXI9bnVsbH07ZnVuY3Rpb24gbXhEZWZhdWx0UG9wdXBNZW51KGEpe3RoaXMuY29uZmlnPWF9bXhEZWZhdWx0UG9wdXBNZW51LnByb3RvdHlwZS5pbWFnZUJhc2VQYXRoPW51bGw7bXhEZWZhdWx0UG9wdXBNZW51LnByb3RvdHlwZS5jb25maWc9bnVsbDsKbXhEZWZhdWx0UG9wdXBNZW51LnByb3RvdHlwZS5jcmVhdGVNZW51PWZ1bmN0aW9uKGEsYixjLGQpe2lmKG51bGwhPXRoaXMuY29uZmlnKXt2YXIgZT10aGlzLmNyZWF0ZUNvbmRpdGlvbnMoYSxjLGQpO3RoaXMuYWRkSXRlbXMoYSxiLGMsZCxlLHRoaXMuY29uZmlnLmZpcnN0Q2hpbGQsbnVsbCl9fTsKbXhEZWZhdWx0UG9wdXBNZW51LnByb3RvdHlwZS5hZGRJdGVtcz1mdW5jdGlvbihhLGIsYyxkLGUsZixnKXtmb3IodmFyIGs9ITE7bnVsbCE9Zjspe2lmKCJhZGQiPT1mLm5vZGVOYW1lKXt2YXIgbD1mLmdldEF0dHJpYnV0ZSgiaWYiKTtpZihudWxsPT1sfHxlW2xdKXt2YXIgbD1mLmdldEF0dHJpYnV0ZSgiYXMiKSxsPW14UmVzb3VyY2VzLmdldChsKXx8bCxtPW14VXRpbHMuZXZhbChteFV0aWxzLmdldFRleHRDb250ZW50KGYpKSxuPWYuZ2V0QXR0cmlidXRlKCJhY3Rpb24iKSxwPWYuZ2V0QXR0cmlidXRlKCJpY29uIikscT1mLmdldEF0dHJpYnV0ZSgiaWNvbkNscyIpLHI9Zi5nZXRBdHRyaWJ1dGUoImVuYWJsZWQtaWYiKSxyPW51bGw9PXJ8fGVbcl07ayYmKGIuYWRkU2VwYXJhdG9yKGcpLGs9ITEpO251bGwhPXAmJnRoaXMuaW1hZ2VCYXNlUGF0aCYmKHA9dGhpcy5pbWFnZUJhc2VQYXRoK3ApO2w9dGhpcy5hZGRBY3Rpb24oYixhLGwscCxtLG4sYyxnLHEscik7dGhpcy5hZGRJdGVtcyhhLApiLGMsZCxlLGYuZmlyc3RDaGlsZCxsKX19ZWxzZSJzZXBhcmF0b3IiPT1mLm5vZGVOYW1lJiYoaz0hMCk7Zj1mLm5leHRTaWJsaW5nfX07bXhEZWZhdWx0UG9wdXBNZW51LnByb3RvdHlwZS5hZGRBY3Rpb249ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxrLGwsbSl7cmV0dXJuIGEuYWRkSXRlbShjLGQsZnVuY3Rpb24oYSl7ImZ1bmN0aW9uIj09dHlwZW9mIGUmJmUuY2FsbChiLGIsZyxhKTtudWxsIT1mJiZiLmV4ZWN1dGUoZixnLGEpfSxrLGwsbSl9OwpteERlZmF1bHRQb3B1cE1lbnUucHJvdG90eXBlLmNyZWF0ZUNvbmRpdGlvbnM9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWEuZ3JhcGguZ2V0TW9kZWwoKSxlPWQuZ2V0Q2hpbGRDb3VudChiKSxmPVtdO2Yubm9jZWxsPW51bGw9PWI7Zi5uY2VsbHM9MTxhLmdyYXBoLmdldFNlbGVjdGlvbkNvdW50KCk7Zi5ub3RSb290PWQuZ2V0Um9vdCgpIT1kLmdldFBhcmVudChhLmdyYXBoLmdldERlZmF1bHRQYXJlbnQoKSk7Zi5jZWxsPW51bGwhPWI7ZD1udWxsIT1iJiYxPT1hLmdyYXBoLmdldFNlbGVjdGlvbkNvdW50KCk7Zi5ub25FbXB0eT1kJiYwPGU7Zi5leHBhbmRhYmxlPWQmJmEuZ3JhcGguaXNDZWxsRm9sZGFibGUoYiwhMSk7Zi5jb2xsYXBzYWJsZT1kJiZhLmdyYXBoLmlzQ2VsbEZvbGRhYmxlKGIsITApO2YudmFsaWRSb290PWQmJmEuZ3JhcGguaXNWYWxpZFJvb3QoYik7Zi5lbXB0eVZhbGlkUm9vdD1mLnZhbGlkUm9vdCYmMD09ZTtmLnN3aW1sYW5lPWQmJmEuZ3JhcGguaXNTd2ltbGFuZShiKTsKZT10aGlzLmNvbmZpZy5nZXRFbGVtZW50c0J5VGFnTmFtZSgiY29uZGl0aW9uIik7Zm9yKGQ9MDtkPGUubGVuZ3RoO2QrKyl7dmFyIGc9bXhVdGlscy5ldmFsKG14VXRpbHMuZ2V0VGV4dENvbnRlbnQoZVtkXSkpLGs9ZVtkXS5nZXRBdHRyaWJ1dGUoIm5hbWUiKTtudWxsIT1rJiYiZnVuY3Rpb24iPT10eXBlb2YgZyYmKGZba109ZyhhLGIsYykpfXJldHVybiBmfTtmdW5jdGlvbiBteERlZmF1bHRUb29sYmFyKGEsYil7dGhpcy5lZGl0b3I9YjtudWxsIT1hJiZudWxsIT1iJiZ0aGlzLmluaXQoYSl9bXhEZWZhdWx0VG9vbGJhci5wcm90b3R5cGUuZWRpdG9yPW51bGw7bXhEZWZhdWx0VG9vbGJhci5wcm90b3R5cGUudG9vbGJhcj1udWxsO214RGVmYXVsdFRvb2xiYXIucHJvdG90eXBlLnJlc2V0SGFuZGxlcj1udWxsO214RGVmYXVsdFRvb2xiYXIucHJvdG90eXBlLnNwYWNpbmc9NDtteERlZmF1bHRUb29sYmFyLnByb3RvdHlwZS5jb25uZWN0T25Ecm9wPSExOwpteERlZmF1bHRUb29sYmFyLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKGEpe251bGwhPWEmJih0aGlzLnRvb2xiYXI9bmV3IG14VG9vbGJhcihhKSx0aGlzLnRvb2xiYXIuYWRkTGlzdGVuZXIobXhFdmVudC5TRUxFQ1QsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSxjKXt2YXIgYj1jLmdldFByb3BlcnR5KCJmdW5jdGlvbiIpO3RoaXMuZWRpdG9yLmluc2VydEZ1bmN0aW9uPW51bGwhPWI/bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXtiLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLnRvb2xiYXIucmVzZXRNb2RlKCl9KTpudWxsfSkpLHRoaXMucmVzZXRIYW5kbGVyPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7bnVsbCE9dGhpcy50b29sYmFyJiZ0aGlzLnRvb2xiYXIucmVzZXRNb2RlKCEwKX0pLHRoaXMuZWRpdG9yLmdyYXBoLmFkZExpc3RlbmVyKG14RXZlbnQuRE9VQkxFX0NMSUNLLHRoaXMucmVzZXRIYW5kbGVyKSx0aGlzLmVkaXRvci5hZGRMaXN0ZW5lcihteEV2ZW50LkVTQ0FQRSwKdGhpcy5yZXNldEhhbmRsZXIpKX07bXhEZWZhdWx0VG9vbGJhci5wcm90b3R5cGUuYWRkSXRlbT1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe251bGwhPWMmJjA8Yy5sZW5ndGgmJnRoaXMuZWRpdG9yLmV4ZWN1dGUoYyl9KTtyZXR1cm4gdGhpcy50b29sYmFyLmFkZEl0ZW0oYSxiLGUsZCl9O214RGVmYXVsdFRvb2xiYXIucHJvdG90eXBlLmFkZFNlcGFyYXRvcj1mdW5jdGlvbihhKXthPWF8fG14Q2xpZW50LmltYWdlQmFzZVBhdGgrIi9zZXBhcmF0b3IuZ2lmIjt0aGlzLnRvb2xiYXIuYWRkU2VwYXJhdG9yKGEpfTtteERlZmF1bHRUb29sYmFyLnByb3RvdHlwZS5hZGRDb21ibz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRvb2xiYXIuYWRkQ29tYm8oKX07bXhEZWZhdWx0VG9vbGJhci5wcm90b3R5cGUuYWRkQWN0aW9uQ29tYm89ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMudG9vbGJhci5hZGRBY3Rpb25Db21ibyhhKX07Cm14RGVmYXVsdFRvb2xiYXIucHJvdG90eXBlLmFkZEFjdGlvbk9wdGlvbj1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt0aGlzLmVkaXRvci5leGVjdXRlKGMpfSk7dGhpcy5hZGRPcHRpb24oYSxiLGQpfTtteERlZmF1bHRUb29sYmFyLnByb3RvdHlwZS5hZGRPcHRpb249ZnVuY3Rpb24oYSxiLGMpe3JldHVybiB0aGlzLnRvb2xiYXIuYWRkT3B0aW9uKGEsYixjKX07bXhEZWZhdWx0VG9vbGJhci5wcm90b3R5cGUuYWRkTW9kZT1mdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dGhpcy5lZGl0b3Iuc2V0TW9kZShjKTtudWxsIT1lJiZlKHRoaXMuZWRpdG9yKX0pO3JldHVybiB0aGlzLnRvb2xiYXIuYWRkU3dpdGNoTW9kZShhLGIsZixkKX07Cm14RGVmYXVsdFRvb2xiYXIucHJvdG90eXBlLmFkZFByb3RvdHlwZT1mdW5jdGlvbihhLGIsYyxkLGUsZil7dmFyIGc9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgYz9jKCk6bnVsbCE9Yz90aGlzLmVkaXRvci5ncmFwaC5jbG9uZUNlbGwoYyk6bnVsbH0pLGs9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSxiKXsiZnVuY3Rpb24iPT10eXBlb2YgZT9lKHRoaXMuZWRpdG9yLGcoKSxhLGIpOnRoaXMuZHJvcChnKCksYSxiKTt0aGlzLnRvb2xiYXIucmVzZXRNb2RlKCk7bXhFdmVudC5jb25zdW1lKGEpfSk7YT10aGlzLnRvb2xiYXIuYWRkTW9kZShhLGIsayxkLG51bGwsZik7dGhpcy5pbnN0YWxsRHJvcEhhbmRsZXIoYSxmdW5jdGlvbihhLGIsYyl7ayhiLGMpfSk7cmV0dXJuIGF9OwpteERlZmF1bHRUb29sYmFyLnByb3RvdHlwZS5kcm9wPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLmVkaXRvci5ncmFwaCxlPWQuZ2V0TW9kZWwoKTtpZihudWxsIT1jJiYhZS5pc0VkZ2UoYykmJnRoaXMuY29ubmVjdE9uRHJvcCYmZC5pc0NlbGxDb25uZWN0YWJsZShjKSl0aGlzLmNvbm5lY3QoYSxiLGMpO2Vsc2V7Zm9yKDtudWxsIT1jJiYhZC5pc1ZhbGlkRHJvcFRhcmdldChjLFthXSxiKTspYz1lLmdldFBhcmVudChjKTt0aGlzLmluc2VydChhLGIsYyl9fTsKbXhEZWZhdWx0VG9vbGJhci5wcm90b3R5cGUuaW5zZXJ0PWZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLmVkaXRvci5ncmFwaDtpZihkLmNhbkltcG9ydENlbGwoYSkpe3ZhciBlPW14RXZlbnQuZ2V0Q2xpZW50WChiKSxmPW14RXZlbnQuZ2V0Q2xpZW50WShiKSxlPW14VXRpbHMuY29udmVydFBvaW50KGQuY29udGFpbmVyLGUsZik7cmV0dXJuIGQuaXNTcGxpdEVuYWJsZWQoKSYmZC5pc1NwbGl0VGFyZ2V0KGMsW2FdLGIpP2Quc3BsaXRFZGdlKGMsW2FdLG51bGwsZS54LGUueSk6dGhpcy5lZGl0b3IuYWRkVmVydGV4KGMsYSxlLngsZS55KX1yZXR1cm4gbnVsbH07Cm14RGVmYXVsdFRvb2xiYXIucHJvdG90eXBlLmNvbm5lY3Q9ZnVuY3Rpb24oYSxiLGMpe2I9dGhpcy5lZGl0b3IuZ3JhcGg7dmFyIGQ9Yi5nZXRNb2RlbCgpO2lmKG51bGwhPWMmJmIuaXNDZWxsQ29ubmVjdGFibGUoYSkmJmIuaXNFZGdlVmFsaWQobnVsbCxjLGEpKXt2YXIgZT1udWxsO2QuYmVnaW5VcGRhdGUoKTt0cnl7dmFyIGY9ZC5nZXRHZW9tZXRyeShjKSxnPWQuZ2V0R2VvbWV0cnkoYSkuY2xvbmUoKTtnLng9Zi54KyhmLndpZHRoLWcud2lkdGgpLzI7Zy55PWYueSsoZi5oZWlnaHQtZy5oZWlnaHQpLzI7dmFyIGs9dGhpcy5zcGFjaW5nKmIuZ3JpZFNpemUsbD0yMCpkLmdldERpcmVjdGVkRWRnZUNvdW50KGMsITApO3RoaXMuZWRpdG9yLmhvcml6b250YWxGbG93P2cueCs9KGcud2lkdGgrZi53aWR0aCkvMitrK2w6Zy55Kz0oZy5oZWlnaHQrZi5oZWlnaHQpLzIraytsO2Euc2V0R2VvbWV0cnkoZyk7dmFyIG09ZC5nZXRQYXJlbnQoYyk7Yi5hZGRDZWxsKGEsbSk7Yi5jb25zdHJhaW5DaGlsZChhKTsKZT10aGlzLmVkaXRvci5jcmVhdGVFZGdlKGMsYSk7aWYobnVsbD09ZC5nZXRHZW9tZXRyeShlKSl7dmFyIG49bmV3IG14R2VvbWV0cnk7bi5yZWxhdGl2ZT0hMDtkLnNldEdlb21ldHJ5KGUsbil9Yi5hZGRFZGdlKGUsbSxjLGEpfWZpbmFsbHl7ZC5lbmRVcGRhdGUoKX1iLnNldFNlbGVjdGlvbkNlbGxzKFthLGVdKTtiLnNjcm9sbENlbGxUb1Zpc2libGUoYSl9fTsKbXhEZWZhdWx0VG9vbGJhci5wcm90b3R5cGUuaW5zdGFsbERyb3BIYW5kbGVyPWZ1bmN0aW9uKGEsYil7dmFyIGM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW1nIik7Yy5zZXRBdHRyaWJ1dGUoInNyYyIsYS5nZXRBdHRyaWJ1dGUoInNyYyIpKTt2YXIgZD1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihlKXtjLnN0eWxlLndpZHRoPTIqYS5vZmZzZXRXaWR0aCsicHgiO2Muc3R5bGUuaGVpZ2h0PTIqYS5vZmZzZXRIZWlnaHQrInB4IjtteFV0aWxzLm1ha2VEcmFnZ2FibGUoYSx0aGlzLmVkaXRvci5ncmFwaCxiLGMpO214RXZlbnQucmVtb3ZlTGlzdGVuZXIoYywibG9hZCIsZCl9KTtteENsaWVudC5JU19JRT9kKCk6bXhFdmVudC5hZGRMaXN0ZW5lcihjLCJsb2FkIixkKX07Cm14RGVmYXVsdFRvb2xiYXIucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXtudWxsIT10aGlzLnJlc2V0SGFuZGxlciYmKHRoaXMuZWRpdG9yLmdyYXBoLnJlbW92ZUxpc3RlbmVyKCJkYmxjbGljayIsdGhpcy5yZXNldEhhbmRsZXIpLHRoaXMuZWRpdG9yLnJlbW92ZUxpc3RlbmVyKCJlc2NhcGUiLHRoaXMucmVzZXRIYW5kbGVyKSx0aGlzLnJlc2V0SGFuZGxlcj1udWxsKTtudWxsIT10aGlzLnRvb2xiYXImJih0aGlzLnRvb2xiYXIuZGVzdHJveSgpLHRoaXMudG9vbGJhcj1udWxsKX07CmZ1bmN0aW9uIG14RWRpdG9yKGEpe3RoaXMuYWN0aW9ucz1bXTt0aGlzLmFkZEFjdGlvbnMoKTtpZihudWxsIT1kb2N1bWVudC5ib2R5KXt0aGlzLmN5Y2xlQXR0cmlidXRlVmFsdWVzPVtdO3RoaXMucG9wdXBIYW5kbGVyPW5ldyBteERlZmF1bHRQb3B1cE1lbnU7dGhpcy51bmRvTWFuYWdlcj1uZXcgbXhVbmRvTWFuYWdlcjt0aGlzLmdyYXBoPXRoaXMuY3JlYXRlR3JhcGgoKTt0aGlzLnRvb2xiYXI9dGhpcy5jcmVhdGVUb29sYmFyKCk7dGhpcy5rZXlIYW5kbGVyPW5ldyBteERlZmF1bHRLZXlIYW5kbGVyKHRoaXMpO3RoaXMuY29uZmlndXJlKGEpO3RoaXMuZ3JhcGguc3dpbWxhbmVJbmRpY2F0b3JDb2xvckF0dHJpYnV0ZT10aGlzLmN5Y2xlQXR0cmlidXRlTmFtZTtpZihudWxsIT10aGlzLm9uSW5pdCl0aGlzLm9uSW5pdCgpO214Q2xpZW50LklTX0lFJiZteEV2ZW50LmFkZExpc3RlbmVyKHdpbmRvdywidW5sb2FkIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMuZGVzdHJveSgpfSkpfX0KbXhMb2FkUmVzb3VyY2VzP214UmVzb3VyY2VzLmFkZChteENsaWVudC5iYXNlUGF0aCsiL3Jlc291cmNlcy9lZGl0b3IiKTpteENsaWVudC5kZWZhdWx0QnVuZGxlcy5wdXNoKG14Q2xpZW50LmJhc2VQYXRoKyIvcmVzb3VyY2VzL2VkaXRvciIpO214RWRpdG9yLnByb3RvdHlwZT1uZXcgbXhFdmVudFNvdXJjZTtteEVkaXRvci5wcm90b3R5cGUuY29uc3RydWN0b3I9bXhFZGl0b3I7bXhFZGl0b3IucHJvdG90eXBlLmFza1pvb21SZXNvdXJjZT0ibm9uZSIhPW14Q2xpZW50Lmxhbmd1YWdlPyJhc2tab29tIjoiIjtteEVkaXRvci5wcm90b3R5cGUubGFzdFNhdmVkUmVzb3VyY2U9Im5vbmUiIT1teENsaWVudC5sYW5ndWFnZT8ibGFzdFNhdmVkIjoiIjtteEVkaXRvci5wcm90b3R5cGUuY3VycmVudEZpbGVSZXNvdXJjZT0ibm9uZSIhPW14Q2xpZW50Lmxhbmd1YWdlPyJjdXJyZW50RmlsZSI6IiI7Cm14RWRpdG9yLnByb3RvdHlwZS5wcm9wZXJ0aWVzUmVzb3VyY2U9Im5vbmUiIT1teENsaWVudC5sYW5ndWFnZT8icHJvcGVydGllcyI6IiI7bXhFZGl0b3IucHJvdG90eXBlLnRhc2tzUmVzb3VyY2U9Im5vbmUiIT1teENsaWVudC5sYW5ndWFnZT8idGFza3MiOiIiO214RWRpdG9yLnByb3RvdHlwZS5oZWxwUmVzb3VyY2U9Im5vbmUiIT1teENsaWVudC5sYW5ndWFnZT8iaGVscCI6IiI7bXhFZGl0b3IucHJvdG90eXBlLm91dGxpbmVSZXNvdXJjZT0ibm9uZSIhPW14Q2xpZW50Lmxhbmd1YWdlPyJvdXRsaW5lIjoiIjtteEVkaXRvci5wcm90b3R5cGUub3V0bGluZT1udWxsO214RWRpdG9yLnByb3RvdHlwZS5ncmFwaD1udWxsO214RWRpdG9yLnByb3RvdHlwZS5ncmFwaFJlbmRlckhpbnQ9bnVsbDtteEVkaXRvci5wcm90b3R5cGUudG9vbGJhcj1udWxsO214RWRpdG9yLnByb3RvdHlwZS5zdGF0dXM9bnVsbDtteEVkaXRvci5wcm90b3R5cGUucG9wdXBIYW5kbGVyPW51bGw7Cm14RWRpdG9yLnByb3RvdHlwZS51bmRvTWFuYWdlcj1udWxsO214RWRpdG9yLnByb3RvdHlwZS5rZXlIYW5kbGVyPW51bGw7bXhFZGl0b3IucHJvdG90eXBlLmFjdGlvbnM9bnVsbDtteEVkaXRvci5wcm90b3R5cGUuZGJsQ2xpY2tBY3Rpb249ImVkaXQiO214RWRpdG9yLnByb3RvdHlwZS5zd2ltbGFuZVJlcXVpcmVkPSExO214RWRpdG9yLnByb3RvdHlwZS5kaXNhYmxlQ29udGV4dE1lbnU9ITA7bXhFZGl0b3IucHJvdG90eXBlLmluc2VydEZ1bmN0aW9uPW51bGw7bXhFZGl0b3IucHJvdG90eXBlLmZvcmNlZEluc2VydGluZz0hMTtteEVkaXRvci5wcm90b3R5cGUudGVtcGxhdGVzPW51bGw7bXhFZGl0b3IucHJvdG90eXBlLmRlZmF1bHRFZGdlPW51bGw7bXhFZGl0b3IucHJvdG90eXBlLmRlZmF1bHRFZGdlU3R5bGU9bnVsbDtteEVkaXRvci5wcm90b3R5cGUuZGVmYXVsdEdyb3VwPW51bGw7bXhFZGl0b3IucHJvdG90eXBlLmdyb3VwQm9yZGVyU2l6ZT1udWxsOwpteEVkaXRvci5wcm90b3R5cGUuZmlsZW5hbWU9bnVsbDtteEVkaXRvci5wcm90b3R5cGUubGluZWZlZWQ9IiYjeGE7IjtteEVkaXRvci5wcm90b3R5cGUucG9zdFBhcmFtZXRlck5hbWU9InhtbCI7bXhFZGl0b3IucHJvdG90eXBlLmVzY2FwZVBvc3REYXRhPSEwO214RWRpdG9yLnByb3RvdHlwZS51cmxQb3N0PW51bGw7bXhFZGl0b3IucHJvdG90eXBlLnVybEltYWdlPW51bGw7bXhFZGl0b3IucHJvdG90eXBlLmhvcml6b250YWxGbG93PSExO214RWRpdG9yLnByb3RvdHlwZS5sYXlvdXREaWFncmFtPSExO214RWRpdG9yLnByb3RvdHlwZS5zd2ltbGFuZVNwYWNpbmc9MDtteEVkaXRvci5wcm90b3R5cGUubWFpbnRhaW5Td2ltbGFuZXM9ITE7bXhFZGl0b3IucHJvdG90eXBlLmxheW91dFN3aW1sYW5lcz0hMTtteEVkaXRvci5wcm90b3R5cGUuY3ljbGVBdHRyaWJ1dGVWYWx1ZXM9bnVsbDtteEVkaXRvci5wcm90b3R5cGUuY3ljbGVBdHRyaWJ1dGVJbmRleD0wOwpteEVkaXRvci5wcm90b3R5cGUuY3ljbGVBdHRyaWJ1dGVOYW1lPSJmaWxsQ29sb3IiO214RWRpdG9yLnByb3RvdHlwZS50YXNrcz1udWxsO214RWRpdG9yLnByb3RvdHlwZS50YXNrc1dpbmRvd0ltYWdlPW51bGw7bXhFZGl0b3IucHJvdG90eXBlLnRhc2tzVG9wPTIwO214RWRpdG9yLnByb3RvdHlwZS5oZWxwPW51bGw7bXhFZGl0b3IucHJvdG90eXBlLmhlbHBXaW5kb3dJbWFnZT1udWxsO214RWRpdG9yLnByb3RvdHlwZS51cmxIZWxwPW51bGw7bXhFZGl0b3IucHJvdG90eXBlLmhlbHBXaWR0aD0zMDA7bXhFZGl0b3IucHJvdG90eXBlLmhlbHBIZWlnaHQ9MjYwO214RWRpdG9yLnByb3RvdHlwZS5wcm9wZXJ0aWVzV2lkdGg9MjQwO214RWRpdG9yLnByb3RvdHlwZS5wcm9wZXJ0aWVzSGVpZ2h0PW51bGw7bXhFZGl0b3IucHJvdG90eXBlLm1vdmVQcm9wZXJ0aWVzRGlhbG9nPSExO214RWRpdG9yLnByb3RvdHlwZS52YWxpZGF0aW5nPSExOwpteEVkaXRvci5wcm90b3R5cGUubW9kaWZpZWQ9ITE7bXhFZGl0b3IucHJvdG90eXBlLmlzTW9kaWZpZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tb2RpZmllZH07bXhFZGl0b3IucHJvdG90eXBlLnNldE1vZGlmaWVkPWZ1bmN0aW9uKGEpe3RoaXMubW9kaWZpZWQ9YX07Cm14RWRpdG9yLnByb3RvdHlwZS5hZGRBY3Rpb25zPWZ1bmN0aW9uKCl7dGhpcy5hZGRBY3Rpb24oInNhdmUiLGZ1bmN0aW9uKGEpe2Euc2F2ZSgpfSk7dGhpcy5hZGRBY3Rpb24oInByaW50IixmdW5jdGlvbihhKXsobmV3IG14UHJpbnRQcmV2aWV3KGEuZ3JhcGgsMSkpLm9wZW4oKX0pO3RoaXMuYWRkQWN0aW9uKCJzaG93IixmdW5jdGlvbihhKXtteFV0aWxzLnNob3coYS5ncmFwaCxudWxsLDEwLDEwKX0pO3RoaXMuYWRkQWN0aW9uKCJleHBvcnRJbWFnZSIsZnVuY3Rpb24oYSl7dmFyIGI9YS5nZXRVcmxJbWFnZSgpO2lmKG51bGw9PWJ8fG14Q2xpZW50LklTX0xPQ0FMKWEuZXhlY3V0ZSgic2hvdyIpO2Vsc2V7dmFyIGM9bXhVdGlscy5nZXRWaWV3WG1sKGEuZ3JhcGgsMSksYz1teFV0aWxzLmdldFhtbChjLCJcbiIpO214VXRpbHMuc3VibWl0KGIsYS5wb3N0UGFyYW1ldGVyTmFtZSsiPSIrZW5jb2RlVVJJQ29tcG9uZW50KGMpLGRvY3VtZW50LCJfYmxhbmsiKX19KTt0aGlzLmFkZEFjdGlvbigicmVmcmVzaCIsCmZ1bmN0aW9uKGEpe2EuZ3JhcGgucmVmcmVzaCgpfSk7dGhpcy5hZGRBY3Rpb24oImN1dCIsZnVuY3Rpb24oYSl7YS5ncmFwaC5pc0VuYWJsZWQoKSYmbXhDbGlwYm9hcmQuY3V0KGEuZ3JhcGgpfSk7dGhpcy5hZGRBY3Rpb24oImNvcHkiLGZ1bmN0aW9uKGEpe2EuZ3JhcGguaXNFbmFibGVkKCkmJm14Q2xpcGJvYXJkLmNvcHkoYS5ncmFwaCl9KTt0aGlzLmFkZEFjdGlvbigicGFzdGUiLGZ1bmN0aW9uKGEpe2EuZ3JhcGguaXNFbmFibGVkKCkmJm14Q2xpcGJvYXJkLnBhc3RlKGEuZ3JhcGgpfSk7dGhpcy5hZGRBY3Rpb24oImRlbGV0ZSIsZnVuY3Rpb24oYSl7YS5ncmFwaC5pc0VuYWJsZWQoKSYmYS5ncmFwaC5yZW1vdmVDZWxscygpfSk7dGhpcy5hZGRBY3Rpb24oImdyb3VwIixmdW5jdGlvbihhKXthLmdyYXBoLmlzRW5hYmxlZCgpJiZhLmdyYXBoLnNldFNlbGVjdGlvbkNlbGwoYS5ncm91cENlbGxzKCkpfSk7dGhpcy5hZGRBY3Rpb24oInVuZ3JvdXAiLGZ1bmN0aW9uKGEpe2EuZ3JhcGguaXNFbmFibGVkKCkmJgphLmdyYXBoLnNldFNlbGVjdGlvbkNlbGxzKGEuZ3JhcGgudW5ncm91cENlbGxzKCkpfSk7dGhpcy5hZGRBY3Rpb24oInJlbW92ZUZyb21QYXJlbnQiLGZ1bmN0aW9uKGEpe2EuZ3JhcGguaXNFbmFibGVkKCkmJmEuZ3JhcGgucmVtb3ZlQ2VsbHNGcm9tUGFyZW50KCl9KTt0aGlzLmFkZEFjdGlvbigidW5kbyIsZnVuY3Rpb24oYSl7YS5ncmFwaC5pc0VuYWJsZWQoKSYmYS51bmRvKCl9KTt0aGlzLmFkZEFjdGlvbigicmVkbyIsZnVuY3Rpb24oYSl7YS5ncmFwaC5pc0VuYWJsZWQoKSYmYS5yZWRvKCl9KTt0aGlzLmFkZEFjdGlvbigiem9vbUluIixmdW5jdGlvbihhKXthLmdyYXBoLnpvb21JbigpfSk7dGhpcy5hZGRBY3Rpb24oInpvb21PdXQiLGZ1bmN0aW9uKGEpe2EuZ3JhcGguem9vbU91dCgpfSk7dGhpcy5hZGRBY3Rpb24oImFjdHVhbFNpemUiLGZ1bmN0aW9uKGEpe2EuZ3JhcGguem9vbUFjdHVhbCgpfSk7dGhpcy5hZGRBY3Rpb24oImZpdCIsZnVuY3Rpb24oYSl7YS5ncmFwaC5maXQoKX0pOwp0aGlzLmFkZEFjdGlvbigic2hvd1Byb3BlcnRpZXMiLGZ1bmN0aW9uKGEsYil7YS5zaG93UHJvcGVydGllcyhiKX0pO3RoaXMuYWRkQWN0aW9uKCJzZWxlY3RBbGwiLGZ1bmN0aW9uKGEpe2EuZ3JhcGguaXNFbmFibGVkKCkmJmEuZ3JhcGguc2VsZWN0QWxsKCl9KTt0aGlzLmFkZEFjdGlvbigic2VsZWN0Tm9uZSIsZnVuY3Rpb24oYSl7YS5ncmFwaC5pc0VuYWJsZWQoKSYmYS5ncmFwaC5jbGVhclNlbGVjdGlvbigpfSk7dGhpcy5hZGRBY3Rpb24oInNlbGVjdFZlcnRpY2VzIixmdW5jdGlvbihhKXthLmdyYXBoLmlzRW5hYmxlZCgpJiZhLmdyYXBoLnNlbGVjdFZlcnRpY2VzKCl9KTt0aGlzLmFkZEFjdGlvbigic2VsZWN0RWRnZXMiLGZ1bmN0aW9uKGEpe2EuZ3JhcGguaXNFbmFibGVkKCkmJmEuZ3JhcGguc2VsZWN0RWRnZXMoKX0pO3RoaXMuYWRkQWN0aW9uKCJlZGl0IixmdW5jdGlvbihhLGIpe2EuZ3JhcGguaXNFbmFibGVkKCkmJmEuZ3JhcGguaXNDZWxsRWRpdGFibGUoYikmJmEuZ3JhcGguc3RhcnRFZGl0aW5nQXRDZWxsKGIpfSk7CnRoaXMuYWRkQWN0aW9uKCJ0b0JhY2siLGZ1bmN0aW9uKGEsYil7YS5ncmFwaC5pc0VuYWJsZWQoKSYmYS5ncmFwaC5vcmRlckNlbGxzKCEwKX0pO3RoaXMuYWRkQWN0aW9uKCJ0b0Zyb250IixmdW5jdGlvbihhLGIpe2EuZ3JhcGguaXNFbmFibGVkKCkmJmEuZ3JhcGgub3JkZXJDZWxscyghMSl9KTt0aGlzLmFkZEFjdGlvbigiZW50ZXJHcm91cCIsZnVuY3Rpb24oYSxiKXthLmdyYXBoLmVudGVyR3JvdXAoYil9KTt0aGlzLmFkZEFjdGlvbigiZXhpdEdyb3VwIixmdW5jdGlvbihhKXthLmdyYXBoLmV4aXRHcm91cCgpfSk7dGhpcy5hZGRBY3Rpb24oImhvbWUiLGZ1bmN0aW9uKGEpe2EuZ3JhcGguaG9tZSgpfSk7dGhpcy5hZGRBY3Rpb24oInNlbGVjdFByZXZpb3VzIixmdW5jdGlvbihhKXthLmdyYXBoLmlzRW5hYmxlZCgpJiZhLmdyYXBoLnNlbGVjdFByZXZpb3VzQ2VsbCgpfSk7dGhpcy5hZGRBY3Rpb24oInNlbGVjdE5leHQiLGZ1bmN0aW9uKGEpe2EuZ3JhcGguaXNFbmFibGVkKCkmJgphLmdyYXBoLnNlbGVjdE5leHRDZWxsKCl9KTt0aGlzLmFkZEFjdGlvbigic2VsZWN0UGFyZW50IixmdW5jdGlvbihhKXthLmdyYXBoLmlzRW5hYmxlZCgpJiZhLmdyYXBoLnNlbGVjdFBhcmVudENlbGwoKX0pO3RoaXMuYWRkQWN0aW9uKCJzZWxlY3RDaGlsZCIsZnVuY3Rpb24oYSl7YS5ncmFwaC5pc0VuYWJsZWQoKSYmYS5ncmFwaC5zZWxlY3RDaGlsZENlbGwoKX0pO3RoaXMuYWRkQWN0aW9uKCJjb2xsYXBzZSIsZnVuY3Rpb24oYSl7YS5ncmFwaC5pc0VuYWJsZWQoKSYmYS5ncmFwaC5mb2xkQ2VsbHMoITApfSk7dGhpcy5hZGRBY3Rpb24oImNvbGxhcHNlQWxsIixmdW5jdGlvbihhKXtpZihhLmdyYXBoLmlzRW5hYmxlZCgpKXt2YXIgYj1hLmdyYXBoLmdldENoaWxkVmVydGljZXMoKTthLmdyYXBoLmZvbGRDZWxscyghMCwhMSxiKX19KTt0aGlzLmFkZEFjdGlvbigiZXhwYW5kIixmdW5jdGlvbihhKXthLmdyYXBoLmlzRW5hYmxlZCgpJiZhLmdyYXBoLmZvbGRDZWxscyghMSl9KTsKdGhpcy5hZGRBY3Rpb24oImV4cGFuZEFsbCIsZnVuY3Rpb24oYSl7aWYoYS5ncmFwaC5pc0VuYWJsZWQoKSl7dmFyIGI9YS5ncmFwaC5nZXRDaGlsZFZlcnRpY2VzKCk7YS5ncmFwaC5mb2xkQ2VsbHMoITEsITEsYil9fSk7dGhpcy5hZGRBY3Rpb24oImJvbGQiLGZ1bmN0aW9uKGEpe2EuZ3JhcGguaXNFbmFibGVkKCkmJmEuZ3JhcGgudG9nZ2xlQ2VsbFN0eWxlRmxhZ3MobXhDb25zdGFudHMuU1RZTEVfRk9OVFNUWUxFLG14Q29uc3RhbnRzLkZPTlRfQk9MRCl9KTt0aGlzLmFkZEFjdGlvbigiaXRhbGljIixmdW5jdGlvbihhKXthLmdyYXBoLmlzRW5hYmxlZCgpJiZhLmdyYXBoLnRvZ2dsZUNlbGxTdHlsZUZsYWdzKG14Q29uc3RhbnRzLlNUWUxFX0ZPTlRTVFlMRSxteENvbnN0YW50cy5GT05UX0lUQUxJQyl9KTt0aGlzLmFkZEFjdGlvbigidW5kZXJsaW5lIixmdW5jdGlvbihhKXthLmdyYXBoLmlzRW5hYmxlZCgpJiZhLmdyYXBoLnRvZ2dsZUNlbGxTdHlsZUZsYWdzKG14Q29uc3RhbnRzLlNUWUxFX0ZPTlRTVFlMRSwKbXhDb25zdGFudHMuRk9OVF9VTkRFUkxJTkUpfSk7dGhpcy5hZGRBY3Rpb24oImFsaWduQ2VsbHNMZWZ0IixmdW5jdGlvbihhKXthLmdyYXBoLmlzRW5hYmxlZCgpJiZhLmdyYXBoLmFsaWduQ2VsbHMobXhDb25zdGFudHMuQUxJR05fTEVGVCl9KTt0aGlzLmFkZEFjdGlvbigiYWxpZ25DZWxsc0NlbnRlciIsZnVuY3Rpb24oYSl7YS5ncmFwaC5pc0VuYWJsZWQoKSYmYS5ncmFwaC5hbGlnbkNlbGxzKG14Q29uc3RhbnRzLkFMSUdOX0NFTlRFUil9KTt0aGlzLmFkZEFjdGlvbigiYWxpZ25DZWxsc1JpZ2h0IixmdW5jdGlvbihhKXthLmdyYXBoLmlzRW5hYmxlZCgpJiZhLmdyYXBoLmFsaWduQ2VsbHMobXhDb25zdGFudHMuQUxJR05fUklHSFQpfSk7dGhpcy5hZGRBY3Rpb24oImFsaWduQ2VsbHNUb3AiLGZ1bmN0aW9uKGEpe2EuZ3JhcGguaXNFbmFibGVkKCkmJmEuZ3JhcGguYWxpZ25DZWxscyhteENvbnN0YW50cy5BTElHTl9UT1ApfSk7dGhpcy5hZGRBY3Rpb24oImFsaWduQ2VsbHNNaWRkbGUiLApmdW5jdGlvbihhKXthLmdyYXBoLmlzRW5hYmxlZCgpJiZhLmdyYXBoLmFsaWduQ2VsbHMobXhDb25zdGFudHMuQUxJR05fTUlERExFKX0pO3RoaXMuYWRkQWN0aW9uKCJhbGlnbkNlbGxzQm90dG9tIixmdW5jdGlvbihhKXthLmdyYXBoLmlzRW5hYmxlZCgpJiZhLmdyYXBoLmFsaWduQ2VsbHMobXhDb25zdGFudHMuQUxJR05fQk9UVE9NKX0pO3RoaXMuYWRkQWN0aW9uKCJhbGlnbkZvbnRMZWZ0IixmdW5jdGlvbihhKXthLmdyYXBoLnNldENlbGxTdHlsZXMobXhDb25zdGFudHMuU1RZTEVfQUxJR04sbXhDb25zdGFudHMuQUxJR05fTEVGVCl9KTt0aGlzLmFkZEFjdGlvbigiYWxpZ25Gb250Q2VudGVyIixmdW5jdGlvbihhKXthLmdyYXBoLmlzRW5hYmxlZCgpJiZhLmdyYXBoLnNldENlbGxTdHlsZXMobXhDb25zdGFudHMuU1RZTEVfQUxJR04sbXhDb25zdGFudHMuQUxJR05fQ0VOVEVSKX0pO3RoaXMuYWRkQWN0aW9uKCJhbGlnbkZvbnRSaWdodCIsZnVuY3Rpb24oYSl7YS5ncmFwaC5pc0VuYWJsZWQoKSYmCmEuZ3JhcGguc2V0Q2VsbFN0eWxlcyhteENvbnN0YW50cy5TVFlMRV9BTElHTixteENvbnN0YW50cy5BTElHTl9SSUdIVCl9KTt0aGlzLmFkZEFjdGlvbigiYWxpZ25Gb250VG9wIixmdW5jdGlvbihhKXthLmdyYXBoLmlzRW5hYmxlZCgpJiZhLmdyYXBoLnNldENlbGxTdHlsZXMobXhDb25zdGFudHMuU1RZTEVfVkVSVElDQUxfQUxJR04sbXhDb25zdGFudHMuQUxJR05fVE9QKX0pO3RoaXMuYWRkQWN0aW9uKCJhbGlnbkZvbnRNaWRkbGUiLGZ1bmN0aW9uKGEpe2EuZ3JhcGguaXNFbmFibGVkKCkmJmEuZ3JhcGguc2V0Q2VsbFN0eWxlcyhteENvbnN0YW50cy5TVFlMRV9WRVJUSUNBTF9BTElHTixteENvbnN0YW50cy5BTElHTl9NSURETEUpfSk7dGhpcy5hZGRBY3Rpb24oImFsaWduRm9udEJvdHRvbSIsZnVuY3Rpb24oYSl7YS5ncmFwaC5pc0VuYWJsZWQoKSYmYS5ncmFwaC5zZXRDZWxsU3R5bGVzKG14Q29uc3RhbnRzLlNUWUxFX1ZFUlRJQ0FMX0FMSUdOLG14Q29uc3RhbnRzLkFMSUdOX0JPVFRPTSl9KTsKdGhpcy5hZGRBY3Rpb24oInpvb20iLGZ1bmN0aW9uKGEpe3ZhciBiPTEwMCphLmdyYXBoLmdldFZpZXcoKS5zY2FsZSxiPXBhcnNlRmxvYXQobXhVdGlscy5wcm9tcHQobXhSZXNvdXJjZXMuZ2V0KGEuYXNrWm9vbVJlc291cmNlKXx8YS5hc2tab29tUmVzb3VyY2UsYikpLzEwMDtpc05hTihiKXx8YS5ncmFwaC5nZXRWaWV3KCkuc2V0U2NhbGUoYil9KTt0aGlzLmFkZEFjdGlvbigidG9nZ2xlVGFza3MiLGZ1bmN0aW9uKGEpe251bGwhPWEudGFza3M/YS50YXNrcy5zZXRWaXNpYmxlKCFhLnRhc2tzLmlzVmlzaWJsZSgpKTphLnNob3dUYXNrcygpfSk7dGhpcy5hZGRBY3Rpb24oInRvZ2dsZUhlbHAiLGZ1bmN0aW9uKGEpe251bGwhPWEuaGVscD9hLmhlbHAuc2V0VmlzaWJsZSghYS5oZWxwLmlzVmlzaWJsZSgpKTphLnNob3dIZWxwKCl9KTt0aGlzLmFkZEFjdGlvbigidG9nZ2xlT3V0bGluZSIsZnVuY3Rpb24oYSl7bnVsbD09YS5vdXRsaW5lP2Euc2hvd091dGxpbmUoKTphLm91dGxpbmUuc2V0VmlzaWJsZSghYS5vdXRsaW5lLmlzVmlzaWJsZSgpKX0pOwp0aGlzLmFkZEFjdGlvbigidG9nZ2xlQ29uc29sZSIsZnVuY3Rpb24oYSl7bXhMb2cuc2V0VmlzaWJsZSghbXhMb2cuaXNWaXNpYmxlKCkpfSl9O214RWRpdG9yLnByb3RvdHlwZS5jb25maWd1cmU9ZnVuY3Rpb24oYSl7bnVsbCE9YSYmKChuZXcgbXhDb2RlYyhhLm93bmVyRG9jdW1lbnQpKS5kZWNvZGUoYSx0aGlzKSx0aGlzLnJlc2V0SGlzdG9yeSgpKX07bXhFZGl0b3IucHJvdG90eXBlLnJlc2V0Rmlyc3RUaW1lPWZ1bmN0aW9uKCl7ZG9jdW1lbnQuY29va2llPSJteGdyYXBoPXNlZW47IGV4cGlyZXM9RnJpLCAyNyBKdWwgMjAwMSAwMjo0NzoxMSBVVEM7IHBhdGg9LyJ9O214RWRpdG9yLnByb3RvdHlwZS5yZXNldEhpc3Rvcnk9ZnVuY3Rpb24oKXt0aGlzLmxhc3RTbmFwc2hvdD0obmV3IERhdGUpLmdldFRpbWUoKTt0aGlzLnVuZG9NYW5hZ2VyLmNsZWFyKCk7dGhpcy5pZ25vcmVkQ2hhbmdlcz0wO3RoaXMuc2V0TW9kaWZpZWQoITEpfTsKbXhFZGl0b3IucHJvdG90eXBlLmFkZEFjdGlvbj1mdW5jdGlvbihhLGIpe3RoaXMuYWN0aW9uc1thXT1ifTtteEVkaXRvci5wcm90b3R5cGUuZXhlY3V0ZT1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcy5hY3Rpb25zW2FdO2lmKG51bGwhPWQpdHJ5e3ZhciBlPWFyZ3VtZW50cztlWzBdPXRoaXM7ZC5hcHBseSh0aGlzLGUpfWNhdGNoKGYpe3Rocm93IG14VXRpbHMuZXJyb3IoIkNhbm5vdCBleGVjdXRlICIrYSsiOiAiK2YubWVzc2FnZSwyODAsITApLGY7fWVsc2UgbXhVdGlscy5lcnJvcigiQ2Fubm90IGZpbmQgYWN0aW9uICIrYSwyODAsITApfTtteEVkaXRvci5wcm90b3R5cGUuYWRkVGVtcGxhdGU9ZnVuY3Rpb24oYSxiKXt0aGlzLnRlbXBsYXRlc1thXT1ifTtteEVkaXRvci5wcm90b3R5cGUuZ2V0VGVtcGxhdGU9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMudGVtcGxhdGVzW2FdfTsKbXhFZGl0b3IucHJvdG90eXBlLmNyZWF0ZUdyYXBoPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IG14R3JhcGgobnVsbCxudWxsLHRoaXMuZ3JhcGhSZW5kZXJIaW50KTthLnNldFRvb2x0aXBzKCEwKTthLnNldFBhbm5pbmcoITApO3RoaXMuaW5zdGFsbERibENsaWNrSGFuZGxlcihhKTt0aGlzLmluc3RhbGxVbmRvSGFuZGxlcihhKTt0aGlzLmluc3RhbGxEcmlsbEhhbmRsZXIoYSk7dGhpcy5pbnN0YWxsQ2hhbmdlSGFuZGxlcihhKTt0aGlzLmluc3RhbGxJbnNlcnRIYW5kbGVyKGEpO2EucG9wdXBNZW51SGFuZGxlci5mYWN0b3J5TWV0aG9kPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEsYyxkKXtyZXR1cm4gdGhpcy5jcmVhdGVQb3B1cE1lbnUoYSxjLGQpfSk7YS5jb25uZWN0aW9uSGFuZGxlci5mYWN0b3J5TWV0aG9kPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEsYyl7cmV0dXJuIHRoaXMuY3JlYXRlRWRnZShhLGMpfSk7dGhpcy5jcmVhdGVTd2ltbGFuZU1hbmFnZXIoYSk7CnRoaXMuY3JlYXRlTGF5b3V0TWFuYWdlcihhKTtyZXR1cm4gYX07bXhFZGl0b3IucHJvdG90eXBlLmNyZWF0ZVN3aW1sYW5lTWFuYWdlcj1mdW5jdGlvbihhKXthPW5ldyBteFN3aW1sYW5lTWFuYWdlcihhLCExKTthLmlzSG9yaXpvbnRhbD1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3JldHVybiB0aGlzLmhvcml6b250YWxGbG93fSk7YS5pc0VuYWJsZWQ9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYWludGFpblN3aW1sYW5lc30pO3JldHVybiBhfTsKbXhFZGl0b3IucHJvdG90eXBlLmNyZWF0ZUxheW91dE1hbmFnZXI9ZnVuY3Rpb24oYSl7dmFyIGI9bmV3IG14TGF5b3V0TWFuYWdlcihhKSxjPXRoaXM7Yi5nZXRMYXlvdXQ9ZnVuY3Rpb24oYil7dmFyIGQ9bnVsbCxmPWMuZ3JhcGguZ2V0TW9kZWwoKTtudWxsIT1mLmdldFBhcmVudChiKSYmKGMubGF5b3V0U3dpbWxhbmVzJiZhLmlzU3dpbWxhbmUoYik/KG51bGw9PWMuc3dpbWxhbmVMYXlvdXQmJihjLnN3aW1sYW5lTGF5b3V0PWMuY3JlYXRlU3dpbWxhbmVMYXlvdXQoKSksZD1jLnN3aW1sYW5lTGF5b3V0KTpjLmxheW91dERpYWdyYW0mJihhLmlzVmFsaWRSb290KGIpfHxudWxsPT1mLmdldFBhcmVudChmLmdldFBhcmVudChiKSkpJiYobnVsbD09Yy5kaWFncmFtTGF5b3V0JiYoYy5kaWFncmFtTGF5b3V0PWMuY3JlYXRlRGlhZ3JhbUxheW91dCgpKSxkPWMuZGlhZ3JhbUxheW91dCkpO3JldHVybiBkfTtyZXR1cm4gYn07Cm14RWRpdG9yLnByb3RvdHlwZS5zZXRHcmFwaENvbnRhaW5lcj1mdW5jdGlvbihhKXtudWxsPT10aGlzLmdyYXBoLmNvbnRhaW5lciYmKHRoaXMuZ3JhcGguaW5pdChhKSx0aGlzLnJ1YmJlcmJhbmQ9bmV3IG14UnViYmVyYmFuZCh0aGlzLmdyYXBoKSx0aGlzLmRpc2FibGVDb250ZXh0TWVudSYmbXhFdmVudC5kaXNhYmxlQ29udGV4dE1lbnUoYSksbXhDbGllbnQuSVNfUVVJUktTJiZuZXcgbXhEaXZSZXNpemVyKGEpKX07bXhFZGl0b3IucHJvdG90eXBlLmluc3RhbGxEYmxDbGlja0hhbmRsZXI9ZnVuY3Rpb24oYSl7YS5hZGRMaXN0ZW5lcihteEV2ZW50LkRPVUJMRV9DTElDSyxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihiLGMpe3ZhciBkPWMuZ2V0UHJvcGVydHkoImNlbGwiKTtudWxsIT1kJiZhLmlzRW5hYmxlZCgpJiZudWxsIT10aGlzLmRibENsaWNrQWN0aW9uJiYodGhpcy5leGVjdXRlKHRoaXMuZGJsQ2xpY2tBY3Rpb24sZCksYy5jb25zdW1lKCkpfSkpfTsKbXhFZGl0b3IucHJvdG90eXBlLmluc3RhbGxVbmRvSGFuZGxlcj1mdW5jdGlvbihhKXt2YXIgYj1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhLGIpe3ZhciBjPWIuZ2V0UHJvcGVydHkoImVkaXQiKTt0aGlzLnVuZG9NYW5hZ2VyLnVuZG9hYmxlRWRpdEhhcHBlbmVkKGMpfSk7YS5nZXRNb2RlbCgpLmFkZExpc3RlbmVyKG14RXZlbnQuVU5ETyxiKTthLmdldFZpZXcoKS5hZGRMaXN0ZW5lcihteEV2ZW50LlVORE8sYik7Yj1mdW5jdGlvbihiLGQpe3ZhciBjPWQuZ2V0UHJvcGVydHkoImVkaXQiKS5jaGFuZ2VzO2Euc2V0U2VsZWN0aW9uQ2VsbHMoYS5nZXRTZWxlY3Rpb25DZWxsc0ZvckNoYW5nZXMoYykpfTt0aGlzLnVuZG9NYW5hZ2VyLmFkZExpc3RlbmVyKG14RXZlbnQuVU5ETyxiKTt0aGlzLnVuZG9NYW5hZ2VyLmFkZExpc3RlbmVyKG14RXZlbnQuUkVETyxiKX07Cm14RWRpdG9yLnByb3RvdHlwZS5pbnN0YWxsRHJpbGxIYW5kbGVyPWZ1bmN0aW9uKGEpe3ZhciBiPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3RoaXMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KG14RXZlbnQuUk9PVCkpfSk7YS5nZXRWaWV3KCkuYWRkTGlzdGVuZXIobXhFdmVudC5ET1dOLGIpO2EuZ2V0VmlldygpLmFkZExpc3RlbmVyKG14RXZlbnQuVVAsYil9OwpteEVkaXRvci5wcm90b3R5cGUuaW5zdGFsbENoYW5nZUhhbmRsZXI9ZnVuY3Rpb24oYSl7dmFyIGI9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYixkKXt0aGlzLnNldE1vZGlmaWVkKCEwKTsxPT10aGlzLnZhbGlkYXRpbmcmJmEudmFsaWRhdGVHcmFwaCgpO2Zvcih2YXIgYz1kLmdldFByb3BlcnR5KCJlZGl0IikuY2hhbmdlcyxmPTA7ZjxjLmxlbmd0aDtmKyspe3ZhciBnPWNbZl07aWYoZyBpbnN0YW5jZW9mIG14Um9vdENoYW5nZXx8ZyBpbnN0YW5jZW9mIG14VmFsdWVDaGFuZ2UmJmcuY2VsbD09dGhpcy5ncmFwaC5tb2RlbC5yb290fHxnIGluc3RhbmNlb2YgbXhDZWxsQXR0cmlidXRlQ2hhbmdlJiZnLmNlbGw9PXRoaXMuZ3JhcGgubW9kZWwucm9vdCl7dGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5ST09UKSk7YnJlYWt9fX0pO2EuZ2V0TW9kZWwoKS5hZGRMaXN0ZW5lcihteEV2ZW50LkNIQU5HRSxiKX07Cm14RWRpdG9yLnByb3RvdHlwZS5pbnN0YWxsSW5zZXJ0SGFuZGxlcj1mdW5jdGlvbihhKXt2YXIgYj10aGlzO2EuYWRkTW91c2VMaXN0ZW5lcih7bW91c2VEb3duOmZ1bmN0aW9uKGEsZCl7bnVsbD09Yi5pbnNlcnRGdW5jdGlvbnx8ZC5pc1BvcHVwVHJpZ2dlcigpfHwhYi5mb3JjZWRJbnNlcnRpbmcmJm51bGwhPWQuZ2V0U3RhdGUoKXx8KGIuZ3JhcGguY2xlYXJTZWxlY3Rpb24oKSxiLmluc2VydEZ1bmN0aW9uKGQuZ2V0RXZlbnQoKSxkLmdldENlbGwoKSksdGhpcy5pc0FjdGl2ZT0hMCxkLmNvbnN1bWUoKSl9LG1vdXNlTW92ZTpmdW5jdGlvbihhLGIpe3RoaXMuaXNBY3RpdmUmJmIuY29uc3VtZSgpfSxtb3VzZVVwOmZ1bmN0aW9uKGEsYil7dGhpcy5pc0FjdGl2ZSYmKHRoaXMuaXNBY3RpdmU9ITEsYi5jb25zdW1lKCkpfX0pfTsKbXhFZGl0b3IucHJvdG90eXBlLmNyZWF0ZURpYWdyYW1MYXlvdXQ9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdyYXBoLmdyaWRTaXplLGI9bmV3IG14U3RhY2tMYXlvdXQodGhpcy5ncmFwaCwhdGhpcy5ob3Jpem9udGFsRmxvdyx0aGlzLnN3aW1sYW5lU3BhY2luZywyKmEsMiphKTtiLmlzVmVydGV4SWdub3JlZD1mdW5jdGlvbihhKXtyZXR1cm4hYi5ncmFwaC5pc1N3aW1sYW5lKGEpfTtyZXR1cm4gYn07bXhFZGl0b3IucHJvdG90eXBlLmNyZWF0ZVN3aW1sYW5lTGF5b3V0PWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBteENvbXBhY3RUcmVlTGF5b3V0KHRoaXMuZ3JhcGgsdGhpcy5ob3Jpem9udGFsRmxvdyl9O214RWRpdG9yLnByb3RvdHlwZS5jcmVhdGVUb29sYmFyPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBteERlZmF1bHRUb29sYmFyKG51bGwsdGhpcyl9OwpteEVkaXRvci5wcm90b3R5cGUuc2V0VG9vbGJhckNvbnRhaW5lcj1mdW5jdGlvbihhKXt0aGlzLnRvb2xiYXIuaW5pdChhKTtteENsaWVudC5JU19RVUlSS1MmJm5ldyBteERpdlJlc2l6ZXIoYSl9OwpteEVkaXRvci5wcm90b3R5cGUuc2V0U3RhdHVzQ29udGFpbmVyPWZ1bmN0aW9uKGEpe251bGw9PXRoaXMuc3RhdHVzJiYodGhpcy5zdGF0dXM9YSx0aGlzLmFkZExpc3RlbmVyKG14RXZlbnQuU0FWRSxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3ZhciBhPShuZXcgRGF0ZSkudG9Mb2NhbGVTdHJpbmcoKTt0aGlzLnNldFN0YXR1cygobXhSZXNvdXJjZXMuZ2V0KHRoaXMubGFzdFNhdmVkUmVzb3VyY2UpfHx0aGlzLmxhc3RTYXZlZFJlc291cmNlKSsiOiAiK2EpfSkpLHRoaXMuYWRkTGlzdGVuZXIobXhFdmVudC5PUEVOLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dGhpcy5zZXRTdGF0dXMoKG14UmVzb3VyY2VzLmdldCh0aGlzLmN1cnJlbnRGaWxlUmVzb3VyY2UpfHx0aGlzLmN1cnJlbnRGaWxlUmVzb3VyY2UpKyI6ICIrdGhpcy5maWxlbmFtZSl9KSksbXhDbGllbnQuSVNfUVVJUktTJiZuZXcgbXhEaXZSZXNpemVyKGEpKX07Cm14RWRpdG9yLnByb3RvdHlwZS5zZXRTdGF0dXM9ZnVuY3Rpb24oYSl7bnVsbCE9dGhpcy5zdGF0dXMmJm51bGwhPWEmJih0aGlzLnN0YXR1cy5pbm5lckhUTUw9YSl9O214RWRpdG9yLnByb3RvdHlwZS5zZXRUaXRsZUNvbnRhaW5lcj1mdW5jdGlvbihhKXt0aGlzLmFkZExpc3RlbmVyKG14RXZlbnQuUk9PVCxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihiKXthLmlubmVySFRNTD10aGlzLmdldFRpdGxlKCl9KSk7bXhDbGllbnQuSVNfUVVJUktTJiZuZXcgbXhEaXZSZXNpemVyKGEpfTtteEVkaXRvci5wcm90b3R5cGUudHJlZUxheW91dD1mdW5jdGlvbihhLGIpe251bGwhPWEmJihuZXcgbXhDb21wYWN0VHJlZUxheW91dCh0aGlzLmdyYXBoLGIpKS5leGVjdXRlKGEpfTsKbXhFZGl0b3IucHJvdG90eXBlLmdldFRpdGxlPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPSIiLGI9dGhpcy5ncmFwaCxjPWIuZ2V0Q3VycmVudFJvb3QoKTtudWxsIT1jJiZudWxsIT1iLmdldE1vZGVsKCkuZ2V0UGFyZW50KGIuZ2V0TW9kZWwoKS5nZXRQYXJlbnQoYykpOyliLmlzVmFsaWRSb290KGMpJiYoYT0iID4gIitiLmNvbnZlcnRWYWx1ZVRvU3RyaW5nKGMpK2EpLGM9Yi5nZXRNb2RlbCgpLmdldFBhcmVudChjKTtyZXR1cm4gdGhpcy5nZXRSb290VGl0bGUoKSthfTtteEVkaXRvci5wcm90b3R5cGUuZ2V0Um9vdFRpdGxlPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5ncmFwaC5nZXRNb2RlbCgpLmdldFJvb3QoKTtyZXR1cm4gdGhpcy5ncmFwaC5jb252ZXJ0VmFsdWVUb1N0cmluZyhhKX07bXhFZGl0b3IucHJvdG90eXBlLnVuZG89ZnVuY3Rpb24oKXt0aGlzLnVuZG9NYW5hZ2VyLnVuZG8oKX07bXhFZGl0b3IucHJvdG90eXBlLnJlZG89ZnVuY3Rpb24oKXt0aGlzLnVuZG9NYW5hZ2VyLnJlZG8oKX07Cm14RWRpdG9yLnByb3RvdHlwZS5ncm91cENlbGxzPWZ1bmN0aW9uKCl7dmFyIGE9bnVsbCE9dGhpcy5ncm91cEJvcmRlclNpemU/dGhpcy5ncm91cEJvcmRlclNpemU6dGhpcy5ncmFwaC5ncmlkU2l6ZTtyZXR1cm4gdGhpcy5ncmFwaC5ncm91cENlbGxzKHRoaXMuY3JlYXRlR3JvdXAoKSxhKX07bXhFZGl0b3IucHJvdG90eXBlLmNyZWF0ZUdyb3VwPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ3JhcGguZ2V0TW9kZWwoKS5jbG9uZUNlbGwodGhpcy5kZWZhdWx0R3JvdXApfTtteEVkaXRvci5wcm90b3R5cGUub3Blbj1mdW5jdGlvbihhKXtpZihudWxsIT1hKXt2YXIgYj1teFV0aWxzLmxvYWQoYSkuZ2V0WG1sKCk7dGhpcy5yZWFkR3JhcGhNb2RlbChiLmRvY3VtZW50RWxlbWVudCk7dGhpcy5maWxlbmFtZT1hO3RoaXMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KG14RXZlbnQuT1BFTiwiZmlsZW5hbWUiLGEpKX19OwpteEVkaXRvci5wcm90b3R5cGUucmVhZEdyYXBoTW9kZWw9ZnVuY3Rpb24oYSl7KG5ldyBteENvZGVjKGEub3duZXJEb2N1bWVudCkpLmRlY29kZShhLHRoaXMuZ3JhcGguZ2V0TW9kZWwoKSk7dGhpcy5yZXNldEhpc3RvcnkoKX07bXhFZGl0b3IucHJvdG90eXBlLnNhdmU9ZnVuY3Rpb24oYSxiKXthPWF8fHRoaXMuZ2V0VXJsUG9zdCgpO2lmKG51bGwhPWEmJjA8YS5sZW5ndGgpe3ZhciBjPXRoaXMud3JpdGVHcmFwaE1vZGVsKGIpO3RoaXMucG9zdERpYWdyYW0oYSxjKTt0aGlzLnNldE1vZGlmaWVkKCExKX10aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LlNBVkUsInVybCIsYSkpfTsKbXhFZGl0b3IucHJvdG90eXBlLnBvc3REaWFncmFtPWZ1bmN0aW9uKGEsYil7dGhpcy5lc2NhcGVQb3N0RGF0YSYmKGI9ZW5jb2RlVVJJQ29tcG9uZW50KGIpKTtteFV0aWxzLnBvc3QoYSx0aGlzLnBvc3RQYXJhbWV0ZXJOYW1lKyI9IitiLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGMpe3RoaXMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KG14RXZlbnQuUE9TVCwicmVxdWVzdCIsYywidXJsIixhLCJkYXRhIixiKSl9KSl9O214RWRpdG9yLnByb3RvdHlwZS53cml0ZUdyYXBoTW9kZWw9ZnVuY3Rpb24oYSl7YT1udWxsIT1hP2E6dGhpcy5saW5lZmVlZDt2YXIgYj0obmV3IG14Q29kZWMpLmVuY29kZSh0aGlzLmdyYXBoLmdldE1vZGVsKCkpO3JldHVybiBteFV0aWxzLmdldFhtbChiLGEpfTtteEVkaXRvci5wcm90b3R5cGUuZ2V0VXJsUG9zdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnVybFBvc3R9O214RWRpdG9yLnByb3RvdHlwZS5nZXRVcmxJbWFnZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnVybEltYWdlfTsKbXhFZGl0b3IucHJvdG90eXBlLnN3YXBTdHlsZXM9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdyYXBoLmdldFN0eWxlc2hlZXQoKS5zdHlsZXNbYl07dGhpcy5ncmFwaC5nZXRWaWV3KCkuZ2V0U3R5bGVzaGVldCgpLnB1dENlbGxTdHlsZShiLHRoaXMuZ3JhcGguZ2V0U3R5bGVzaGVldCgpLnN0eWxlc1thXSk7dGhpcy5ncmFwaC5nZXRTdHlsZXNoZWV0KCkucHV0Q2VsbFN0eWxlKGEsYyk7dGhpcy5ncmFwaC5yZWZyZXNoKCl9OwpteEVkaXRvci5wcm90b3R5cGUuc2hvd1Byb3BlcnRpZXM9ZnVuY3Rpb24oYSl7YT1hfHx0aGlzLmdyYXBoLmdldFNlbGVjdGlvbkNlbGwoKTtudWxsPT1hJiYoYT10aGlzLmdyYXBoLmdldEN1cnJlbnRSb290KCksbnVsbD09YSYmKGE9dGhpcy5ncmFwaC5nZXRNb2RlbCgpLmdldFJvb3QoKSkpO2lmKG51bGwhPWEpe3RoaXMuZ3JhcGguc3RvcEVkaXRpbmcoITApO3ZhciBiPW14VXRpbHMuZ2V0T2Zmc2V0KHRoaXMuZ3JhcGguY29udGFpbmVyKSxjPWIueCsxMCxiPWIueTtpZihudWxsPT10aGlzLnByb3BlcnRpZXN8fHRoaXMubW92ZVByb3BlcnRpZXNEaWFsb2cpe3ZhciBkPXRoaXMuZ3JhcGguZ2V0Q2VsbEJvdW5kcyhhKTtudWxsIT1kJiYoYys9ZC54K01hdGgubWluKDIwMCxkLndpZHRoKSxiKz1kLnkpfWVsc2UgYz10aGlzLnByb3BlcnRpZXMuZ2V0WCgpLGI9dGhpcy5wcm9wZXJ0aWVzLmdldFkoKTt0aGlzLmhpZGVQcm9wZXJ0aWVzKCk7YT10aGlzLmNyZWF0ZVByb3BlcnRpZXMoYSk7Cm51bGwhPWEmJih0aGlzLnByb3BlcnRpZXM9bmV3IG14V2luZG93KG14UmVzb3VyY2VzLmdldCh0aGlzLnByb3BlcnRpZXNSZXNvdXJjZSl8fHRoaXMucHJvcGVydGllc1Jlc291cmNlLGEsYyxiLHRoaXMucHJvcGVydGllc1dpZHRoLHRoaXMucHJvcGVydGllc0hlaWdodCwhMSksdGhpcy5wcm9wZXJ0aWVzLnNldFZpc2libGUoITApKX19O214RWRpdG9yLnByb3RvdHlwZS5pc1Byb3BlcnRpZXNWaXNpYmxlPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPXRoaXMucHJvcGVydGllc307Cm14RWRpdG9yLnByb3RvdHlwZS5jcmVhdGVQcm9wZXJ0aWVzPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZ3JhcGguZ2V0TW9kZWwoKSxjPWIuZ2V0VmFsdWUoYSk7aWYobXhVdGlscy5pc05vZGUoYykpe3ZhciBkPW5ldyBteEZvcm0oInByb3BlcnRpZXMiKTtkLmFkZFRleHQoIklEIixhLmdldElkKCkpLnNldEF0dHJpYnV0ZSgicmVhZG9ubHkiLCJ0cnVlIik7dmFyIGU9bnVsbCxmPW51bGwsZz1udWxsLGs9bnVsbCxsPW51bGw7Yi5pc1ZlcnRleChhKSYmKGU9Yi5nZXRHZW9tZXRyeShhKSxudWxsIT1lJiYoZj1kLmFkZFRleHQoInRvcCIsZS55KSxnPWQuYWRkVGV4dCgibGVmdCIsZS54KSxrPWQuYWRkVGV4dCgid2lkdGgiLGUud2lkdGgpLGw9ZC5hZGRUZXh0KCJoZWlnaHQiLGUuaGVpZ2h0KSkpO2Zvcih2YXIgbT1iLmdldFN0eWxlKGEpLG49ZC5hZGRUZXh0KCJTdHlsZSIsbXx8IiIpLHA9Yy5hdHRyaWJ1dGVzLHE9W10sYz0wO2M8cC5sZW5ndGg7YysrKXFbY109ZC5hZGRUZXh0YXJlYShwW2NdLm5vZGVOYW1lLApwW2NdLnZhbHVlLCJsYWJlbCI9PXBbY10ubm9kZU5hbWU/NDoyKTtjPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dGhpcy5oaWRlUHJvcGVydGllcygpO2IuYmVnaW5VcGRhdGUoKTt0cnl7bnVsbCE9ZSYmKGU9ZS5jbG9uZSgpLGUueD1wYXJzZUZsb2F0KGcudmFsdWUpLGUueT1wYXJzZUZsb2F0KGYudmFsdWUpLGUud2lkdGg9cGFyc2VGbG9hdChrLnZhbHVlKSxlLmhlaWdodD1wYXJzZUZsb2F0KGwudmFsdWUpLGIuc2V0R2VvbWV0cnkoYSxlKSk7MDxuLnZhbHVlLmxlbmd0aD9iLnNldFN0eWxlKGEsbi52YWx1ZSk6Yi5zZXRTdHlsZShhLG51bGwpO2Zvcih2YXIgYz0wO2M8cC5sZW5ndGg7YysrKXt2YXIgZD1uZXcgbXhDZWxsQXR0cmlidXRlQ2hhbmdlKGEscFtjXS5ub2RlTmFtZSxxW2NdLnZhbHVlKTtiLmV4ZWN1dGUoZCl9dGhpcy5ncmFwaC5pc0F1dG9TaXplQ2VsbChhKSYmdGhpcy5ncmFwaC51cGRhdGVDZWxsU2l6ZShhKX1maW5hbGx5e2IuZW5kVXBkYXRlKCl9fSk7Cm09bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt0aGlzLmhpZGVQcm9wZXJ0aWVzKCl9KTtkLmFkZEJ1dHRvbnMoYyxtKTtyZXR1cm4gZC50YWJsZX1yZXR1cm4gbnVsbH07bXhFZGl0b3IucHJvdG90eXBlLmhpZGVQcm9wZXJ0aWVzPWZ1bmN0aW9uKCl7bnVsbCE9dGhpcy5wcm9wZXJ0aWVzJiYodGhpcy5wcm9wZXJ0aWVzLmRlc3Ryb3koKSx0aGlzLnByb3BlcnRpZXM9bnVsbCl9OwpteEVkaXRvci5wcm90b3R5cGUuc2hvd1Rhc2tzPWZ1bmN0aW9uKCl7aWYobnVsbD09dGhpcy50YXNrcyl7dmFyIGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7YS5zdHlsZS5wYWRkaW5nPSI0cHgiO2Euc3R5bGUucGFkZGluZ0xlZnQ9IjIwcHgiO3ZhciBiPWRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGgsYj1uZXcgbXhXaW5kb3cobXhSZXNvdXJjZXMuZ2V0KHRoaXMudGFza3NSZXNvdXJjZSl8fHRoaXMudGFza3NSZXNvdXJjZSxhLGItMjIwLHRoaXMudGFza3NUb3AsMjAwKTtiLnNldENsb3NhYmxlKCEwKTtiLmRlc3Ryb3lPbkNsb3NlPSExO3ZhciBjPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGIpe214RXZlbnQucmVsZWFzZShhKTthLmlubmVySFRNTD0iIjt0aGlzLmNyZWF0ZVRhc2tzKGEpfSk7dGhpcy5ncmFwaC5nZXRNb2RlbCgpLmFkZExpc3RlbmVyKG14RXZlbnQuQ0hBTkdFLGMpO3RoaXMuZ3JhcGguZ2V0U2VsZWN0aW9uTW9kZWwoKS5hZGRMaXN0ZW5lcihteEV2ZW50LkNIQU5HRSwKYyk7dGhpcy5ncmFwaC5hZGRMaXN0ZW5lcihteEV2ZW50LlJPT1QsYyk7bnVsbCE9dGhpcy50YXNrc1dpbmRvd0ltYWdlJiZiLnNldEltYWdlKHRoaXMudGFza3NXaW5kb3dJbWFnZSk7dGhpcy50YXNrcz1iO3RoaXMuY3JlYXRlVGFza3MoYSl9dGhpcy50YXNrcy5zZXRWaXNpYmxlKCEwKX07bXhFZGl0b3IucHJvdG90eXBlLnJlZnJlc2hUYXNrcz1mdW5jdGlvbihhKXtudWxsIT10aGlzLnRhc2tzJiYoYT10aGlzLnRhc2tzLmNvbnRlbnQsbXhFdmVudC5yZWxlYXNlKGEpLGEuaW5uZXJIVE1MPSIiLHRoaXMuY3JlYXRlVGFza3MoYSkpfTtteEVkaXRvci5wcm90b3R5cGUuY3JlYXRlVGFza3M9ZnVuY3Rpb24oYSl7fTsKbXhFZGl0b3IucHJvdG90eXBlLnNob3dIZWxwPWZ1bmN0aW9uKGEpe2lmKG51bGw9PXRoaXMuaGVscCl7dmFyIGI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaWZyYW1lIik7Yi5zZXRBdHRyaWJ1dGUoInNyYyIsbXhSZXNvdXJjZXMuZ2V0KCJ1cmxIZWxwIil8fHRoaXMudXJsSGVscCk7Yi5zZXRBdHRyaWJ1dGUoImhlaWdodCIsIjEwMCUiKTtiLnNldEF0dHJpYnV0ZSgid2lkdGgiLCIxMDAlIik7Yi5zZXRBdHRyaWJ1dGUoImZyYW1lQm9yZGVyIiwiMCIpO2Iuc3R5bGUuYmFja2dyb3VuZENvbG9yPSJ3aGl0ZSI7YT1kb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoO3ZhciBjPWRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0fHxkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0LGQ9bmV3IG14V2luZG93KG14UmVzb3VyY2VzLmdldCh0aGlzLmhlbHBSZXNvdXJjZSl8fHRoaXMuaGVscFJlc291cmNlLGIsKGEtdGhpcy5oZWxwV2lkdGgpLzIsKGMtdGhpcy5oZWxwSGVpZ2h0KS8KMyx0aGlzLmhlbHBXaWR0aCx0aGlzLmhlbHBIZWlnaHQpO2Quc2V0TWF4aW1pemFibGUoITApO2Quc2V0Q2xvc2FibGUoITApO2QuZGVzdHJveU9uQ2xvc2U9ITE7ZC5zZXRSZXNpemFibGUoITApO251bGwhPXRoaXMuaGVscFdpbmRvd0ltYWdlJiZkLnNldEltYWdlKHRoaXMuaGVscFdpbmRvd0ltYWdlKTtteENsaWVudC5JU19OUyYmKGE9ZnVuY3Rpb24oYSl7Yi5zZXRBdHRyaWJ1dGUoImhlaWdodCIsZC5kaXYub2Zmc2V0SGVpZ2h0LTI2KyJweCIpfSxkLmFkZExpc3RlbmVyKG14RXZlbnQuUkVTSVpFX0VORCxhKSxkLmFkZExpc3RlbmVyKG14RXZlbnQuTUFYSU1JWkUsYSksZC5hZGRMaXN0ZW5lcihteEV2ZW50Lk5PUk1BTElaRSxhKSxkLmFkZExpc3RlbmVyKG14RXZlbnQuU0hPVyxhKSk7dGhpcy5oZWxwPWR9dGhpcy5oZWxwLnNldFZpc2libGUoITApfTsKbXhFZGl0b3IucHJvdG90eXBlLnNob3dPdXRsaW5lPWZ1bmN0aW9uKCl7aWYobnVsbD09dGhpcy5vdXRsaW5lKXt2YXIgYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTthLnN0eWxlLm92ZXJmbG93PSJoaWRkZW4iO2Euc3R5bGUucG9zaXRpb249InJlbGF0aXZlIjthLnN0eWxlLndpZHRoPSIxMDAlIjthLnN0eWxlLmhlaWdodD0iMTAwJSI7YS5zdHlsZS5iYWNrZ3JvdW5kPSJ3aGl0ZSI7YS5zdHlsZS5jdXJzb3I9Im1vdmUiOzg9PWRvY3VtZW50LmRvY3VtZW50TW9kZSYmKGEuc3R5bGUuZmlsdGVyPSJwcm9naWQ6RFhJbWFnZVRyYW5zZm9ybS5NaWNyb3NvZnQuYWxwaGEob3BhY2l0eT0xMDApIik7dmFyIGI9bmV3IG14V2luZG93KG14UmVzb3VyY2VzLmdldCh0aGlzLm91dGxpbmVSZXNvdXJjZSl8fHRoaXMub3V0bGluZVJlc291cmNlLGEsNjAwLDQ4MCwyMDAsMjAwLCExKSxjPW5ldyBteE91dGxpbmUodGhpcy5ncmFwaCxhKTtiLnNldENsb3NhYmxlKCEwKTtiLnNldFJlc2l6YWJsZSghMCk7CmIuZGVzdHJveU9uQ2xvc2U9ITE7Yi5hZGRMaXN0ZW5lcihteEV2ZW50LlJFU0laRV9FTkQsZnVuY3Rpb24oKXtjLnVwZGF0ZSgpfSk7dGhpcy5vdXRsaW5lPWI7dGhpcy5vdXRsaW5lLm91dGxpbmU9Y310aGlzLm91dGxpbmUuc2V0VmlzaWJsZSghMCk7dGhpcy5vdXRsaW5lLm91dGxpbmUudXBkYXRlKCEwKX07bXhFZGl0b3IucHJvdG90eXBlLnNldE1vZGU9ZnVuY3Rpb24oYSl7InNlbGVjdCI9PWE/KHRoaXMuZ3JhcGgucGFubmluZ0hhbmRsZXIudXNlTGVmdEJ1dHRvbkZvclBhbm5pbmc9ITEsdGhpcy5ncmFwaC5zZXRDb25uZWN0YWJsZSghMSkpOiJjb25uZWN0Ij09YT8odGhpcy5ncmFwaC5wYW5uaW5nSGFuZGxlci51c2VMZWZ0QnV0dG9uRm9yUGFubmluZz0hMSx0aGlzLmdyYXBoLnNldENvbm5lY3RhYmxlKCEwKSk6InBhbiI9PWEmJih0aGlzLmdyYXBoLnBhbm5pbmdIYW5kbGVyLnVzZUxlZnRCdXR0b25Gb3JQYW5uaW5nPSEwLHRoaXMuZ3JhcGguc2V0Q29ubmVjdGFibGUoITEpKX07Cm14RWRpdG9yLnByb3RvdHlwZS5jcmVhdGVQb3B1cE1lbnU9ZnVuY3Rpb24oYSxiLGMpe3RoaXMucG9wdXBIYW5kbGVyLmNyZWF0ZU1lbnUodGhpcyxhLGIsYyl9O214RWRpdG9yLnByb3RvdHlwZS5jcmVhdGVFZGdlPWZ1bmN0aW9uKGEsYil7dmFyIGM7aWYobnVsbCE9dGhpcy5kZWZhdWx0RWRnZSljPXRoaXMuZ3JhcGguZ2V0TW9kZWwoKS5jbG9uZUNlbGwodGhpcy5kZWZhdWx0RWRnZSk7ZWxzZXtjPW5ldyBteENlbGwoIiIpO2Muc2V0RWRnZSghMCk7dmFyIGQ9bmV3IG14R2VvbWV0cnk7ZC5yZWxhdGl2ZT0hMDtjLnNldEdlb21ldHJ5KGQpfWQ9dGhpcy5nZXRFZGdlU3R5bGUoKTtudWxsIT1kJiZjLnNldFN0eWxlKGQpO3JldHVybiBjfTtteEVkaXRvci5wcm90b3R5cGUuZ2V0RWRnZVN0eWxlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGVmYXVsdEVkZ2VTdHlsZX07Cm14RWRpdG9yLnByb3RvdHlwZS5jb25zdW1lQ3ljbGVBdHRyaWJ1dGU9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPXRoaXMuY3ljbGVBdHRyaWJ1dGVWYWx1ZXMmJjA8dGhpcy5jeWNsZUF0dHJpYnV0ZVZhbHVlcy5sZW5ndGgmJnRoaXMuZ3JhcGguaXNTd2ltbGFuZShhKT90aGlzLmN5Y2xlQXR0cmlidXRlVmFsdWVzW3RoaXMuY3ljbGVBdHRyaWJ1dGVJbmRleCsrJXRoaXMuY3ljbGVBdHRyaWJ1dGVWYWx1ZXMubGVuZ3RoXTpudWxsfTtteEVkaXRvci5wcm90b3R5cGUuY3ljbGVBdHRyaWJ1dGU9ZnVuY3Rpb24oYSl7aWYobnVsbCE9dGhpcy5jeWNsZUF0dHJpYnV0ZU5hbWUpe3ZhciBiPXRoaXMuY29uc3VtZUN5Y2xlQXR0cmlidXRlKGEpO251bGwhPWImJmEuc2V0U3R5bGUoYS5nZXRTdHlsZSgpKyI7Iit0aGlzLmN5Y2xlQXR0cmlidXRlTmFtZSsiPSIrYil9fTsKbXhFZGl0b3IucHJvdG90eXBlLmFkZFZlcnRleD1mdW5jdGlvbihhLGIsYyxkKXtmb3IodmFyIGU9dGhpcy5ncmFwaC5nZXRNb2RlbCgpO251bGwhPWEmJiF0aGlzLmdyYXBoLmlzVmFsaWREcm9wVGFyZ2V0KGEpOylhPWUuZ2V0UGFyZW50KGEpO2E9bnVsbCE9YT9hOnRoaXMuZ3JhcGguZ2V0U3dpbWxhbmVBdChjLGQpO3ZhciBmPXRoaXMuZ3JhcGguZ2V0VmlldygpLnNjYWxlLGc9ZS5nZXRHZW9tZXRyeShiKSxrPWUuZ2V0R2VvbWV0cnkoYSk7aWYodGhpcy5ncmFwaC5pc1N3aW1sYW5lKGIpJiYhdGhpcy5ncmFwaC5zd2ltbGFuZU5lc3RpbmcpYT1udWxsO2Vsc2V7aWYobnVsbD09YSYmdGhpcy5zd2ltbGFuZVJlcXVpcmVkKXJldHVybiBudWxsO2lmKG51bGwhPWEmJm51bGwhPWspe3ZhciBsPXRoaXMuZ3JhcGguZ2V0VmlldygpLmdldFN0YXRlKGEpO2lmKG51bGwhPWwpe2lmKGMtPWwub3JpZ2luLngqZixkLT1sLm9yaWdpbi55KmYsdGhpcy5ncmFwaC5pc0NvbnN0cmFpbmVkTW92aW5nKXt2YXIgaz0KZy53aWR0aCxtPWcuaGVpZ2h0LG49bC54K2wud2lkdGg7YytrPm4mJihjLT1jK2stbik7bj1sLnkrbC5oZWlnaHQ7ZCttPm4mJihkLT1kK20tbil9fWVsc2UgbnVsbCE9ayYmKGMtPWsueCpmLGQtPWsueSpmKX19Zz1nLmNsb25lKCk7Zy54PXRoaXMuZ3JhcGguc25hcChjL2YtdGhpcy5ncmFwaC5nZXRWaWV3KCkudHJhbnNsYXRlLngtdGhpcy5ncmFwaC5ncmlkU2l6ZS8yKTtnLnk9dGhpcy5ncmFwaC5zbmFwKGQvZi10aGlzLmdyYXBoLmdldFZpZXcoKS50cmFuc2xhdGUueS10aGlzLmdyYXBoLmdyaWRTaXplLzIpO2Iuc2V0R2VvbWV0cnkoZyk7bnVsbD09YSYmKGE9dGhpcy5ncmFwaC5nZXREZWZhdWx0UGFyZW50KCkpO3RoaXMuY3ljbGVBdHRyaWJ1dGUoYik7dGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QobXhFdmVudC5CRUZPUkVfQUREX1ZFUlRFWCwidmVydGV4IixiLCJwYXJlbnQiLGEpKTtlLmJlZ2luVXBkYXRlKCk7dHJ5e2I9dGhpcy5ncmFwaC5hZGRDZWxsKGIsCmEpLG51bGwhPWImJih0aGlzLmdyYXBoLmNvbnN0cmFpbkNoaWxkKGIpLHRoaXMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KG14RXZlbnQuQUREX1ZFUlRFWCwidmVydGV4IixiKSkpfWZpbmFsbHl7ZS5lbmRVcGRhdGUoKX1udWxsIT1iJiYodGhpcy5ncmFwaC5zZXRTZWxlY3Rpb25DZWxsKGIpLHRoaXMuZ3JhcGguc2Nyb2xsQ2VsbFRvVmlzaWJsZShiKSx0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdChteEV2ZW50LkFGVEVSX0FERF9WRVJURVgsInZlcnRleCIsYikpKTtyZXR1cm4gYn07Cm14RWRpdG9yLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5kZXN0cm95ZWR8fCh0aGlzLmRlc3Ryb3llZD0hMCxudWxsIT10aGlzLnRhc2tzJiZ0aGlzLnRhc2tzLmRlc3Ryb3koKSxudWxsIT10aGlzLm91dGxpbmUmJnRoaXMub3V0bGluZS5kZXN0cm95KCksbnVsbCE9dGhpcy5wcm9wZXJ0aWVzJiZ0aGlzLnByb3BlcnRpZXMuZGVzdHJveSgpLG51bGwhPXRoaXMua2V5SGFuZGxlciYmdGhpcy5rZXlIYW5kbGVyLmRlc3Ryb3koKSxudWxsIT10aGlzLnJ1YmJlcmJhbmQmJnRoaXMucnViYmVyYmFuZC5kZXN0cm95KCksbnVsbCE9dGhpcy50b29sYmFyJiZ0aGlzLnRvb2xiYXIuZGVzdHJveSgpLG51bGwhPXRoaXMuZ3JhcGgmJnRoaXMuZ3JhcGguZGVzdHJveSgpLHRoaXMudGVtcGxhdGVzPXRoaXMuc3RhdHVzPW51bGwpfTsKdmFyIG14Q29kZWNSZWdpc3RyeT17Y29kZWNzOltdLGFsaWFzZXM6W10scmVnaXN0ZXI6ZnVuY3Rpb24oYSl7aWYobnVsbCE9YSl7dmFyIGI9YS5nZXROYW1lKCk7bXhDb2RlY1JlZ2lzdHJ5LmNvZGVjc1tiXT1hO3ZhciBjPW14VXRpbHMuZ2V0RnVuY3Rpb25OYW1lKGEudGVtcGxhdGUuY29uc3RydWN0b3IpO2MhPWImJm14Q29kZWNSZWdpc3RyeS5hZGRBbGlhcyhjLGIpfXJldHVybiBhfSxhZGRBbGlhczpmdW5jdGlvbihhLGIpe214Q29kZWNSZWdpc3RyeS5hbGlhc2VzW2FdPWJ9LGdldENvZGVjOmZ1bmN0aW9uKGEpe3ZhciBiPW51bGw7aWYobnVsbCE9YSl7dmFyIGI9bXhVdGlscy5nZXRGdW5jdGlvbk5hbWUoYSksYz1teENvZGVjUmVnaXN0cnkuYWxpYXNlc1tiXTtudWxsIT1jJiYoYj1jKTtiPW14Q29kZWNSZWdpc3RyeS5jb2RlY3NbYl07aWYobnVsbD09Yil0cnl7Yj1uZXcgbXhPYmplY3RDb2RlYyhuZXcgYSksbXhDb2RlY1JlZ2lzdHJ5LnJlZ2lzdGVyKGIpfWNhdGNoKGQpe319cmV0dXJuIGJ9fTsKZnVuY3Rpb24gbXhDb2RlYyhhKXt0aGlzLmRvY3VtZW50PWF8fG14VXRpbHMuY3JlYXRlWG1sRG9jdW1lbnQoKTt0aGlzLm9iamVjdHM9W119bXhDb2RlYy5wcm90b3R5cGUuZG9jdW1lbnQ9bnVsbDtteENvZGVjLnByb3RvdHlwZS5vYmplY3RzPW51bGw7bXhDb2RlYy5wcm90b3R5cGUuZWxlbWVudHM9bnVsbDtteENvZGVjLnByb3RvdHlwZS5lbmNvZGVEZWZhdWx0cz0hMTtteENvZGVjLnByb3RvdHlwZS5wdXRPYmplY3Q9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5vYmplY3RzW2FdPWJ9O214Q29kZWMucHJvdG90eXBlLmdldE9iamVjdD1mdW5jdGlvbihhKXt2YXIgYj1udWxsO251bGwhPWEmJihiPXRoaXMub2JqZWN0c1thXSxudWxsPT1iJiYoYj10aGlzLmxvb2t1cChhKSxudWxsPT1iJiYoYT10aGlzLmdldEVsZW1lbnRCeUlkKGEpLG51bGwhPWEmJihiPXRoaXMuZGVjb2RlKGEpKSkpKTtyZXR1cm4gYn07bXhDb2RlYy5wcm90b3R5cGUubG9va3VwPWZ1bmN0aW9uKGEpe3JldHVybiBudWxsfTsKbXhDb2RlYy5wcm90b3R5cGUuZ2V0RWxlbWVudEJ5SWQ9ZnVuY3Rpb24oYSl7dGhpcy51cGRhdGVFbGVtZW50cygpO3JldHVybiB0aGlzLmVsZW1lbnRzW2FdfTtteENvZGVjLnByb3RvdHlwZS51cGRhdGVFbGVtZW50cz1mdW5jdGlvbigpe251bGw9PXRoaXMuZWxlbWVudHMmJih0aGlzLmVsZW1lbnRzPXt9LG51bGwhPXRoaXMuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50JiZ0aGlzLmFkZEVsZW1lbnQodGhpcy5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpKX07Cm14Q29kZWMucHJvdG90eXBlLmFkZEVsZW1lbnQ9ZnVuY3Rpb24oYSl7aWYoYS5ub2RlVHlwZT09bXhDb25zdGFudHMuTk9ERVRZUEVfRUxFTUVOVCl7dmFyIGI9YS5nZXRBdHRyaWJ1dGUoImlkIik7aWYobnVsbCE9YilpZihudWxsPT10aGlzLmVsZW1lbnRzW2JdKXRoaXMuZWxlbWVudHNbYl09YTtlbHNlIGlmKHRoaXMuZWxlbWVudHNbYl0hPWEpdGhyb3cgRXJyb3IoYisiOiBEdXBsaWNhdGUgSUQiKTt9Zm9yKGE9YS5maXJzdENoaWxkO251bGwhPWE7KXRoaXMuYWRkRWxlbWVudChhKSxhPWEubmV4dFNpYmxpbmd9O214Q29kZWMucHJvdG90eXBlLmdldElkPWZ1bmN0aW9uKGEpe3ZhciBiPW51bGw7bnVsbCE9YSYmKGI9dGhpcy5yZWZlcmVuY2UoYSksbnVsbD09YiYmYSBpbnN0YW5jZW9mIG14Q2VsbCYmKGI9YS5nZXRJZCgpLG51bGw9PWImJihiPW14Q2VsbFBhdGguY3JlYXRlKGEpLDA9PWIubGVuZ3RoJiYoYj0icm9vdCIpKSkpO3JldHVybiBifTsKbXhDb2RlYy5wcm90b3R5cGUucmVmZXJlbmNlPWZ1bmN0aW9uKGEpe3JldHVybiBudWxsfTtteENvZGVjLnByb3RvdHlwZS5lbmNvZGU9ZnVuY3Rpb24oYSl7dmFyIGI9bnVsbDtpZihudWxsIT1hJiZudWxsIT1hLmNvbnN0cnVjdG9yKXt2YXIgYz1teENvZGVjUmVnaXN0cnkuZ2V0Q29kZWMoYS5jb25zdHJ1Y3Rvcik7bnVsbCE9Yz9iPWMuZW5jb2RlKHRoaXMsYSk6bXhVdGlscy5pc05vZGUoYSk/Yj1teFV0aWxzLmltcG9ydE5vZGUodGhpcy5kb2N1bWVudCxhLCEwKTpteExvZy53YXJuKCJteENvZGVjLmVuY29kZTogTm8gY29kZWMgZm9yICIrbXhVdGlscy5nZXRGdW5jdGlvbk5hbWUoYS5jb25zdHJ1Y3RvcikpfXJldHVybiBifTsKbXhDb2RlYy5wcm90b3R5cGUuZGVjb2RlPWZ1bmN0aW9uKGEsYil7dGhpcy51cGRhdGVFbGVtZW50cygpO3ZhciBjPW51bGw7aWYobnVsbCE9YSYmYS5ub2RlVHlwZT09bXhDb25zdGFudHMuTk9ERVRZUEVfRUxFTUVOVCl7Yz1udWxsO3RyeXtjPXdpbmRvd1thLm5vZGVOYW1lXX1jYXRjaChkKXt9Yz1teENvZGVjUmVnaXN0cnkuZ2V0Q29kZWMoYyk7bnVsbCE9Yz9jPWMuZGVjb2RlKHRoaXMsYSxiKTooYz1hLmNsb25lTm9kZSghMCksYy5yZW1vdmVBdHRyaWJ1dGUoImFzIikpfXJldHVybiBjfTtteENvZGVjLnByb3RvdHlwZS5lbmNvZGVDZWxsPWZ1bmN0aW9uKGEsYixjKXtiLmFwcGVuZENoaWxkKHRoaXMuZW5jb2RlKGEpKTtpZihudWxsPT1jfHxjKXtjPWEuZ2V0Q2hpbGRDb3VudCgpO2Zvcih2YXIgZD0wO2Q8YztkKyspdGhpcy5lbmNvZGVDZWxsKGEuZ2V0Q2hpbGRBdChkKSxiKX19OwpteENvZGVjLnByb3RvdHlwZS5pc0NlbGxDb2RlYz1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YSYmImZ1bmN0aW9uIj09dHlwZW9mIGEuaXNDZWxsQ29kZWM/YS5pc0NlbGxDb2RlYygpOiExfTtteENvZGVjLnByb3RvdHlwZS5kZWNvZGVDZWxsPWZ1bmN0aW9uKGEsYil7Yj1udWxsIT1iP2I6ITA7dmFyIGM9bnVsbDtpZihudWxsIT1hJiZhLm5vZGVUeXBlPT1teENvbnN0YW50cy5OT0RFVFlQRV9FTEVNRU5UKXtjPW14Q29kZWNSZWdpc3RyeS5nZXRDb2RlYyhhLm5vZGVOYW1lKTtpZighdGhpcy5pc0NlbGxDb2RlYyhjKSlmb3IodmFyIGQ9YS5maXJzdENoaWxkO251bGwhPWQmJiF0aGlzLmlzQ2VsbENvZGVjKGMpOyljPW14Q29kZWNSZWdpc3RyeS5nZXRDb2RlYyhkLm5vZGVOYW1lKSxkPWQubmV4dFNpYmxpbmc7dGhpcy5pc0NlbGxDb2RlYyhjKXx8KGM9bXhDb2RlY1JlZ2lzdHJ5LmdldENvZGVjKG14Q2VsbCkpO2M9Yy5kZWNvZGUodGhpcyxhKTtiJiZ0aGlzLmluc2VydEludG9HcmFwaChjKX1yZXR1cm4gY307Cm14Q29kZWMucHJvdG90eXBlLmluc2VydEludG9HcmFwaD1mdW5jdGlvbihhKXt2YXIgYj1hLnBhcmVudCxjPWEuZ2V0VGVybWluYWwoITApLGQ9YS5nZXRUZXJtaW5hbCghMSk7YS5zZXRUZXJtaW5hbChudWxsLCExKTthLnNldFRlcm1pbmFsKG51bGwsITApO2EucGFyZW50PW51bGw7aWYobnVsbCE9Yil7aWYoYj09YSl0aHJvdyBFcnJvcihiLmlkKyI6IFNlbGYgUmVmZXJlbmNlIik7Yi5pbnNlcnQoYSl9bnVsbCE9YyYmYy5pbnNlcnRFZGdlKGEsITApO251bGwhPWQmJmQuaW5zZXJ0RWRnZShhLCExKX07bXhDb2RlYy5wcm90b3R5cGUuc2V0QXR0cmlidXRlPWZ1bmN0aW9uKGEsYixjKXtudWxsIT1iJiZudWxsIT1jJiZhLnNldEF0dHJpYnV0ZShiLGMpfTsKZnVuY3Rpb24gbXhPYmplY3RDb2RlYyhhLGIsYyxkKXt0aGlzLnRlbXBsYXRlPWE7dGhpcy5leGNsdWRlPW51bGwhPWI/YjpbXTt0aGlzLmlkcmVmcz1udWxsIT1jP2M6W107dGhpcy5tYXBwaW5nPW51bGwhPWQ/ZDpbXTt0aGlzLnJldmVyc2U9e307Zm9yKHZhciBlIGluIHRoaXMubWFwcGluZyl0aGlzLnJldmVyc2VbdGhpcy5tYXBwaW5nW2VdXT1lfW14T2JqZWN0Q29kZWMuYWxsb3dFdmFsPSExO214T2JqZWN0Q29kZWMucHJvdG90eXBlLnRlbXBsYXRlPW51bGw7bXhPYmplY3RDb2RlYy5wcm90b3R5cGUuZXhjbHVkZT1udWxsO214T2JqZWN0Q29kZWMucHJvdG90eXBlLmlkcmVmcz1udWxsO214T2JqZWN0Q29kZWMucHJvdG90eXBlLm1hcHBpbmc9bnVsbDtteE9iamVjdENvZGVjLnByb3RvdHlwZS5yZXZlcnNlPW51bGw7bXhPYmplY3RDb2RlYy5wcm90b3R5cGUuZ2V0TmFtZT1mdW5jdGlvbigpe3JldHVybiBteFV0aWxzLmdldEZ1bmN0aW9uTmFtZSh0aGlzLnRlbXBsYXRlLmNvbnN0cnVjdG9yKX07Cm14T2JqZWN0Q29kZWMucHJvdG90eXBlLmNsb25lVGVtcGxhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHRoaXMudGVtcGxhdGUuY29uc3RydWN0b3J9O214T2JqZWN0Q29kZWMucHJvdG90eXBlLmdldEZpZWxkTmFtZT1mdW5jdGlvbihhKXtpZihudWxsIT1hKXt2YXIgYj10aGlzLnJldmVyc2VbYV07bnVsbCE9YiYmKGE9Yil9cmV0dXJuIGF9O214T2JqZWN0Q29kZWMucHJvdG90eXBlLmdldEF0dHJpYnV0ZU5hbWU9ZnVuY3Rpb24oYSl7aWYobnVsbCE9YSl7dmFyIGI9dGhpcy5tYXBwaW5nW2FdO251bGwhPWImJihhPWIpfXJldHVybiBhfTtteE9iamVjdENvZGVjLnByb3RvdHlwZS5pc0V4Y2x1ZGVkPWZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiBiPT1teE9iamVjdElkZW50aXR5LkZJRUxEX05BTUV8fDA8PW14VXRpbHMuaW5kZXhPZih0aGlzLmV4Y2x1ZGUsYil9OwpteE9iamVjdENvZGVjLnByb3RvdHlwZS5pc1JlZmVyZW5jZT1mdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gMDw9bXhVdGlscy5pbmRleE9mKHRoaXMuaWRyZWZzLGIpfTtteE9iamVjdENvZGVjLnByb3RvdHlwZS5lbmNvZGU9ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGhpcy5nZXROYW1lKCkpO2I9dGhpcy5iZWZvcmVFbmNvZGUoYSxiLGMpO3RoaXMuZW5jb2RlT2JqZWN0KGEsYixjKTtyZXR1cm4gdGhpcy5hZnRlckVuY29kZShhLGIsYyl9O214T2JqZWN0Q29kZWMucHJvdG90eXBlLmVuY29kZU9iamVjdD1mdW5jdGlvbihhLGIsYyl7YS5zZXRBdHRyaWJ1dGUoYywiaWQiLGEuZ2V0SWQoYikpO2Zvcih2YXIgZCBpbiBiKXt2YXIgZT1kLGY9YltlXTtudWxsPT1mfHx0aGlzLmlzRXhjbHVkZWQoYixlLGYsITApfHwobXhVdGlscy5pc0ludGVnZXIoZSkmJihlPW51bGwpLHRoaXMuZW5jb2RlVmFsdWUoYSxiLGUsZixjKSl9fTsKbXhPYmplY3RDb2RlYy5wcm90b3R5cGUuZW5jb2RlVmFsdWU9ZnVuY3Rpb24oYSxiLGMsZCxlKXtpZihudWxsIT1kKXtpZih0aGlzLmlzUmVmZXJlbmNlKGIsYyxkLCEwKSl7dmFyIGY9YS5nZXRJZChkKTtpZihudWxsPT1mKXtteExvZy53YXJuKCJteE9iamVjdENvZGVjLmVuY29kZTogTm8gSUQgZm9yICIrdGhpcy5nZXROYW1lKCkrIi4iK2MrIj0iK2QpO3JldHVybn1kPWZ9Zj10aGlzLnRlbXBsYXRlW2NdO2lmKG51bGw9PWN8fGEuZW5jb2RlRGVmYXVsdHN8fGYhPWQpYz10aGlzLmdldEF0dHJpYnV0ZU5hbWUoYyksdGhpcy53cml0ZUF0dHJpYnV0ZShhLGIsYyxkLGUpfX07bXhPYmplY3RDb2RlYy5wcm90b3R5cGUud3JpdGVBdHRyaWJ1dGU9ZnVuY3Rpb24oYSxiLGMsZCxlKXsib2JqZWN0IiE9dHlwZW9mIGQ/dGhpcy53cml0ZVByaW1pdGl2ZUF0dHJpYnV0ZShhLGIsYyxkLGUpOnRoaXMud3JpdGVDb21wbGV4QXR0cmlidXRlKGEsYixjLGQsZSl9OwpteE9iamVjdENvZGVjLnByb3RvdHlwZS53cml0ZVByaW1pdGl2ZUF0dHJpYnV0ZT1mdW5jdGlvbihhLGIsYyxkLGUpe2Q9dGhpcy5jb252ZXJ0QXR0cmlidXRlVG9YbWwoYSxiLGMsZCxlKTtudWxsPT1jPyhiPWEuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYWRkIiksImZ1bmN0aW9uIj09dHlwZW9mIGQ/Yi5hcHBlbmRDaGlsZChhLmRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGQpKTphLnNldEF0dHJpYnV0ZShiLCJ2YWx1ZSIsZCksZS5hcHBlbmRDaGlsZChiKSk6ImZ1bmN0aW9uIiE9dHlwZW9mIGQmJmEuc2V0QXR0cmlidXRlKGUsYyxkKX07Cm14T2JqZWN0Q29kZWMucHJvdG90eXBlLndyaXRlQ29tcGxleEF0dHJpYnV0ZT1mdW5jdGlvbihhLGIsYyxkLGUpe2E9YS5lbmNvZGUoZCk7bnVsbCE9YT8obnVsbCE9YyYmYS5zZXRBdHRyaWJ1dGUoImFzIixjKSxlLmFwcGVuZENoaWxkKGEpKTpteExvZy53YXJuKCJteE9iamVjdENvZGVjLmVuY29kZTogTm8gbm9kZSBmb3IgIit0aGlzLmdldE5hbWUoKSsiLiIrYysiOiAiK2QpfTtteE9iamVjdENvZGVjLnByb3RvdHlwZS5jb252ZXJ0QXR0cmlidXRlVG9YbWw9ZnVuY3Rpb24oYSxiLGMsZCl7dGhpcy5pc0Jvb2xlYW5BdHRyaWJ1dGUoYSxiLGMsZCkmJihkPTE9PWQ/IjEiOiIwIik7cmV0dXJuIGR9O214T2JqZWN0Q29kZWMucHJvdG90eXBlLmlzQm9vbGVhbkF0dHJpYnV0ZT1mdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4idW5kZWZpbmVkIj09dHlwZW9mIGQubGVuZ3RoJiYoMT09ZHx8MD09ZCl9OwpteE9iamVjdENvZGVjLnByb3RvdHlwZS5jb252ZXJ0QXR0cmlidXRlRnJvbVhtbD1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9Yi52YWx1ZTt0aGlzLmlzTnVtZXJpY0F0dHJpYnV0ZShhLGIsYykmJihkPXBhcnNlRmxvYXQoZCksaXNOYU4oZCl8fCFpc0Zpbml0ZShkKSkmJihkPTApO3JldHVybiBkfTtteE9iamVjdENvZGVjLnByb3RvdHlwZS5pc051bWVyaWNBdHRyaWJ1dGU9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBjLmNvbnN0cnVjdG9yPT1teEdlb21ldHJ5JiYoIngiPT1iLm5hbWV8fCJ5Ij09Yi5uYW1lfHwid2lkdGgiPT1iLm5hbWV8fCJoZWlnaHQiPT1iLm5hbWUpfHxjLmNvbnN0cnVjdG9yPT1teFBvaW50JiYoIngiPT1iLm5hbWV8fCJ5Ij09Yi5uYW1lKXx8bXhVdGlscy5pc051bWVyaWMoYi52YWx1ZSl9O214T2JqZWN0Q29kZWMucHJvdG90eXBlLmJlZm9yZUVuY29kZT1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIGJ9OwpteE9iamVjdENvZGVjLnByb3RvdHlwZS5hZnRlckVuY29kZT1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIGN9O214T2JqZWN0Q29kZWMucHJvdG90eXBlLmRlY29kZT1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9Yi5nZXRBdHRyaWJ1dGUoImlkIiksZT1hLm9iamVjdHNbZF07bnVsbD09ZSYmKGU9Y3x8dGhpcy5jbG9uZVRlbXBsYXRlKCksbnVsbCE9ZCYmYS5wdXRPYmplY3QoZCxlKSk7Yj10aGlzLmJlZm9yZURlY29kZShhLGIsZSk7dGhpcy5kZWNvZGVOb2RlKGEsYixlKTtyZXR1cm4gdGhpcy5hZnRlckRlY29kZShhLGIsZSl9O214T2JqZWN0Q29kZWMucHJvdG90eXBlLmRlY29kZU5vZGU9ZnVuY3Rpb24oYSxiLGMpe251bGwhPWImJih0aGlzLmRlY29kZUF0dHJpYnV0ZXMoYSxiLGMpLHRoaXMuZGVjb2RlQ2hpbGRyZW4oYSxiLGMpKX07Cm14T2JqZWN0Q29kZWMucHJvdG90eXBlLmRlY29kZUF0dHJpYnV0ZXM9ZnVuY3Rpb24oYSxiLGMpe2I9Yi5hdHRyaWJ1dGVzO2lmKG51bGwhPWIpZm9yKHZhciBkPTA7ZDxiLmxlbmd0aDtkKyspdGhpcy5kZWNvZGVBdHRyaWJ1dGUoYSxiW2RdLGMpfTtteE9iamVjdENvZGVjLnByb3RvdHlwZS5pc0lnbm9yZWRBdHRyaWJ1dGU9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiJhcyI9PWIubm9kZU5hbWV8fCJpZCI9PWIubm9kZU5hbWV9OwpteE9iamVjdENvZGVjLnByb3RvdHlwZS5kZWNvZGVBdHRyaWJ1dGU9ZnVuY3Rpb24oYSxiLGMpe2lmKCF0aGlzLmlzSWdub3JlZEF0dHJpYnV0ZShhLGIsYykpe3ZhciBkPWIubm9kZU5hbWU7Yj10aGlzLmNvbnZlcnRBdHRyaWJ1dGVGcm9tWG1sKGEsYixjKTt2YXIgZT10aGlzLmdldEZpZWxkTmFtZShkKTtpZih0aGlzLmlzUmVmZXJlbmNlKGMsZSxiLCExKSl7YT1hLmdldE9iamVjdChiKTtpZihudWxsPT1hKXtteExvZy53YXJuKCJteE9iamVjdENvZGVjLmRlY29kZTogTm8gb2JqZWN0IGZvciAiK3RoaXMuZ2V0TmFtZSgpKyIuIitkKyI9IitiKTtyZXR1cm59Yj1hfXRoaXMuaXNFeGNsdWRlZChjLGQsYiwhMSl8fChjW2RdPWIpfX07Cm14T2JqZWN0Q29kZWMucHJvdG90eXBlLmRlY29kZUNoaWxkcmVuPWZ1bmN0aW9uKGEsYixjKXtmb3IoYj1iLmZpcnN0Q2hpbGQ7bnVsbCE9Yjspe3ZhciBkPWIubmV4dFNpYmxpbmc7Yi5ub2RlVHlwZSE9bXhDb25zdGFudHMuTk9ERVRZUEVfRUxFTUVOVHx8dGhpcy5wcm9jZXNzSW5jbHVkZShhLGIsYyl8fHRoaXMuZGVjb2RlQ2hpbGQoYSxiLGMpO2I9ZH19OwpteE9iamVjdENvZGVjLnByb3RvdHlwZS5kZWNvZGVDaGlsZD1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcy5nZXRGaWVsZE5hbWUoYi5nZXRBdHRyaWJ1dGUoImFzIikpO2lmKG51bGw9PWR8fCF0aGlzLmlzRXhjbHVkZWQoYyxkLGIsITEpKXt2YXIgZT10aGlzLmdldEZpZWxkVGVtcGxhdGUoYyxkLGIpOyJhZGQiPT1iLm5vZGVOYW1lPyhhPWIuZ2V0QXR0cmlidXRlKCJ2YWx1ZSIpLG51bGw9PWEmJm14T2JqZWN0Q29kZWMuYWxsb3dFdmFsJiYoYT1teFV0aWxzLmV2YWwobXhVdGlscy5nZXRUZXh0Q29udGVudChiKSkpKTphPWEuZGVjb2RlKGIsZSk7dHJ5e3RoaXMuYWRkT2JqZWN0VmFsdWUoYyxkLGEsZSl9Y2F0Y2goZil7dGhyb3cgRXJyb3IoZi5tZXNzYWdlKyIgZm9yICIrYi5ub2RlTmFtZSk7fX19OwpteE9iamVjdENvZGVjLnByb3RvdHlwZS5nZXRGaWVsZFRlbXBsYXRlPWZ1bmN0aW9uKGEsYixjKXthPWFbYl07YSBpbnN0YW5jZW9mIEFycmF5JiYwPGEubGVuZ3RoJiYoYT1udWxsKTtyZXR1cm4gYX07bXhPYmplY3RDb2RlYy5wcm90b3R5cGUuYWRkT2JqZWN0VmFsdWU9ZnVuY3Rpb24oYSxiLGMsZCl7bnVsbCE9YyYmYyE9ZCYmKG51bGwhPWImJjA8Yi5sZW5ndGg/YVtiXT1jOmEucHVzaChjKSl9O214T2JqZWN0Q29kZWMucHJvdG90eXBlLnByb2Nlc3NJbmNsdWRlPWZ1bmN0aW9uKGEsYixjKXtpZigiaW5jbHVkZSI9PWIubm9kZU5hbWUpe2I9Yi5nZXRBdHRyaWJ1dGUoIm5hbWUiKTtpZihudWxsIT1iKXRyeXt2YXIgZD1teFV0aWxzLmxvYWQoYikuZ2V0RG9jdW1lbnRFbGVtZW50KCk7bnVsbCE9ZCYmYS5kZWNvZGUoZCxjKX1jYXRjaChlKXt9cmV0dXJuITB9cmV0dXJuITF9O214T2JqZWN0Q29kZWMucHJvdG90eXBlLmJlZm9yZURlY29kZT1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIGJ9OwpteE9iamVjdENvZGVjLnByb3RvdHlwZS5hZnRlckRlY29kZT1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIGN9OwpteENvZGVjUmVnaXN0cnkucmVnaXN0ZXIoZnVuY3Rpb24oKXt2YXIgYT1uZXcgbXhPYmplY3RDb2RlYyhuZXcgbXhDZWxsLFsiY2hpbGRyZW4iLCJlZGdlcyIsIm92ZXJsYXlzIiwibXhUcmFuc2llbnQiXSxbInBhcmVudCIsInNvdXJjZSIsInRhcmdldCJdKTthLmlzQ2VsbENvZGVjPWZ1bmN0aW9uKCl7cmV0dXJuITB9O2EuaXNOdW1lcmljQXR0cmlidXRlPWZ1bmN0aW9uKGEsYyxkKXtyZXR1cm4idmFsdWUiIT09Yy5ub2RlTmFtZSYmbXhPYmplY3RDb2RlYy5wcm90b3R5cGUuaXNOdW1lcmljQXR0cmlidXRlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07YS5pc0V4Y2x1ZGVkPWZ1bmN0aW9uKGEsYyxkLGUpe3JldHVybiBteE9iamVjdENvZGVjLnByb3RvdHlwZS5pc0V4Y2x1ZGVkLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8ZSYmInZhbHVlIj09YyYmZC5ub2RlVHlwZT09bXhDb25zdGFudHMuTk9ERVRZUEVfRUxFTUVOVH07YS5hZnRlckVuY29kZT1mdW5jdGlvbihhLGMsZCl7aWYobnVsbCE9CmMudmFsdWUmJmMudmFsdWUubm9kZVR5cGU9PW14Q29uc3RhbnRzLk5PREVUWVBFX0VMRU1FTlQpe3ZhciBiPWQ7ZD1teFV0aWxzLmltcG9ydE5vZGUoYS5kb2N1bWVudCxjLnZhbHVlLCEwKTtkLmFwcGVuZENoaWxkKGIpO2E9Yi5nZXRBdHRyaWJ1dGUoImlkIik7ZC5zZXRBdHRyaWJ1dGUoImlkIixhKTtiLnJlbW92ZUF0dHJpYnV0ZSgiaWQiKX1yZXR1cm4gZH07YS5iZWZvcmVEZWNvZGU9ZnVuY3Rpb24oYSxjLGQpe3ZhciBiPWMuY2xvbmVOb2RlKCEwKSxmPXRoaXMuZ2V0TmFtZSgpO2Mubm9kZU5hbWUhPWY/KGI9Yy5nZXRFbGVtZW50c0J5VGFnTmFtZShmKVswXSxudWxsIT1iJiZiLnBhcmVudE5vZGU9PWM/KG14VXRpbHMucmVtb3ZlV2hpdGVzcGFjZShiLCEwKSxteFV0aWxzLnJlbW92ZVdoaXRlc3BhY2UoYiwhMSksYi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGIpKTpiPW51bGwsZC52YWx1ZT1jLmNsb25lTm9kZSghMCksYz1kLnZhbHVlLmdldEF0dHJpYnV0ZSgiaWQiKSxudWxsIT0KYyYmKGQuc2V0SWQoYyksZC52YWx1ZS5yZW1vdmVBdHRyaWJ1dGUoImlkIikpKTpkLnNldElkKGMuZ2V0QXR0cmlidXRlKCJpZCIpKTtpZihudWxsIT1iKWZvcihjPTA7Yzx0aGlzLmlkcmVmcy5sZW5ndGg7YysrKXt2YXIgZj10aGlzLmlkcmVmc1tjXSxnPWIuZ2V0QXR0cmlidXRlKGYpO2lmKG51bGwhPWcpe2IucmVtb3ZlQXR0cmlidXRlKGYpO3ZhciBrPWEub2JqZWN0c1tnXXx8YS5sb29rdXAoZyk7bnVsbD09ayYmKGc9YS5nZXRFbGVtZW50QnlJZChnKSxudWxsIT1nJiYoaz0obXhDb2RlY1JlZ2lzdHJ5LmNvZGVjc1tnLm5vZGVOYW1lXXx8dGhpcykuZGVjb2RlKGEsZykpKTtkW2ZdPWt9fXJldHVybiBifTtyZXR1cm4gYX0oKSk7Cm14Q29kZWNSZWdpc3RyeS5yZWdpc3RlcihmdW5jdGlvbigpe3ZhciBhPW5ldyBteE9iamVjdENvZGVjKG5ldyBteEdyYXBoTW9kZWwpO2EuZW5jb2RlT2JqZWN0PWZ1bmN0aW9uKGEsYyxkKXt2YXIgYj1hLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInJvb3QiKTthLmVuY29kZUNlbGwoYy5nZXRSb290KCksYik7ZC5hcHBlbmRDaGlsZChiKX07YS5kZWNvZGVDaGlsZD1mdW5jdGlvbihhLGMsZCl7InJvb3QiPT1jLm5vZGVOYW1lP3RoaXMuZGVjb2RlUm9vdChhLGMsZCk6bXhPYmplY3RDb2RlYy5wcm90b3R5cGUuZGVjb2RlQ2hpbGQuYXBwbHkodGhpcyxhcmd1bWVudHMpfTthLmRlY29kZVJvb3Q9ZnVuY3Rpb24oYSxjLGQpe3ZhciBiPW51bGw7Zm9yKGM9Yy5maXJzdENoaWxkO251bGwhPWM7KXt2YXIgZj1hLmRlY29kZUNlbGwoYyk7bnVsbCE9ZiYmbnVsbD09Zi5nZXRQYXJlbnQoKSYmKGI9Zik7Yz1jLm5leHRTaWJsaW5nfW51bGwhPWImJmQuc2V0Um9vdChiKX07cmV0dXJuIGF9KCkpOwpteENvZGVjUmVnaXN0cnkucmVnaXN0ZXIoZnVuY3Rpb24oKXt2YXIgYT1uZXcgbXhPYmplY3RDb2RlYyhuZXcgbXhSb290Q2hhbmdlLFsibW9kZWwiLCJwcmV2aW91cyIsInJvb3QiXSk7YS5hZnRlckVuY29kZT1mdW5jdGlvbihhLGMsZCl7YS5lbmNvZGVDZWxsKGMucm9vdCxkKTtyZXR1cm4gZH07YS5iZWZvcmVEZWNvZGU9ZnVuY3Rpb24oYSxjLGQpe2lmKG51bGwhPWMuZmlyc3RDaGlsZCYmYy5maXJzdENoaWxkLm5vZGVUeXBlPT1teENvbnN0YW50cy5OT0RFVFlQRV9FTEVNRU5UKXtjPWMuY2xvbmVOb2RlKCEwKTt2YXIgYj1jLmZpcnN0Q2hpbGQ7ZC5yb290PWEuZGVjb2RlQ2VsbChiLCExKTtkPWIubmV4dFNpYmxpbmc7Yi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGIpO2ZvcihiPWQ7bnVsbCE9YjspZD1iLm5leHRTaWJsaW5nLGEuZGVjb2RlQ2VsbChiKSxiLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYiksYj1kfXJldHVybiBjfTthLmFmdGVyRGVjb2RlPWZ1bmN0aW9uKGEsYywKZCl7ZC5wcmV2aW91cz1kLnJvb3Q7cmV0dXJuIGR9O3JldHVybiBhfSgpKTsKbXhDb2RlY1JlZ2lzdHJ5LnJlZ2lzdGVyKGZ1bmN0aW9uKCl7dmFyIGE9bmV3IG14T2JqZWN0Q29kZWMobmV3IG14Q2hpbGRDaGFuZ2UsWyJtb2RlbCIsImNoaWxkIiwicHJldmlvdXNJbmRleCJdLFsicGFyZW50IiwicHJldmlvdXMiXSk7YS5pc1JlZmVyZW5jZT1mdW5jdGlvbihhLGMsZCxlKXtyZXR1cm4iY2hpbGQiIT1jfHxlJiYhYS5tb2RlbC5jb250YWlucyhhLnByZXZpb3VzKT8wPD1teFV0aWxzLmluZGV4T2YodGhpcy5pZHJlZnMsYyk6ITB9O2EuaXNFeGNsdWRlZD1mdW5jdGlvbihhLGMsZCxlKXtyZXR1cm4gbXhPYmplY3RDb2RlYy5wcm90b3R5cGUuaXNFeGNsdWRlZC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fGUmJm51bGwhPWQmJigicHJldmlvdXMiPT1jfHwicGFyZW50Ij09YykmJiFhLm1vZGVsLmNvbnRhaW5zKGQpfTthLmFmdGVyRW5jb2RlPWZ1bmN0aW9uKGEsYyxkKXt0aGlzLmlzUmVmZXJlbmNlKGMsImNoaWxkIixjLmNoaWxkLCEwKT9kLnNldEF0dHJpYnV0ZSgiY2hpbGQiLAphLmdldElkKGMuY2hpbGQpKTphLmVuY29kZUNlbGwoYy5jaGlsZCxkKTtyZXR1cm4gZH07YS5iZWZvcmVEZWNvZGU9ZnVuY3Rpb24oYSxjLGQpe2lmKG51bGwhPWMuZmlyc3RDaGlsZCYmYy5maXJzdENoaWxkLm5vZGVUeXBlPT1teENvbnN0YW50cy5OT0RFVFlQRV9FTEVNRU5UKXtjPWMuY2xvbmVOb2RlKCEwKTt2YXIgYj1jLmZpcnN0Q2hpbGQ7ZC5jaGlsZD1hLmRlY29kZUNlbGwoYiwhMSk7ZD1iLm5leHRTaWJsaW5nO2IucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChiKTtmb3IoYj1kO251bGwhPWI7KXtkPWIubmV4dFNpYmxpbmc7aWYoYi5ub2RlVHlwZT09bXhDb25zdGFudHMuTk9ERVRZUEVfRUxFTUVOVCl7dmFyIGY9Yi5nZXRBdHRyaWJ1dGUoImlkIik7bnVsbD09YS5sb29rdXAoZikmJmEuZGVjb2RlQ2VsbChiKX1iLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYik7Yj1kfX1lbHNlIGI9Yy5nZXRBdHRyaWJ1dGUoImNoaWxkIiksZC5jaGlsZD1hLmdldE9iamVjdChiKTtyZXR1cm4gY307CmEuYWZ0ZXJEZWNvZGU9ZnVuY3Rpb24oYSxjLGQpe251bGwhPWQuY2hpbGQmJihudWxsIT1kLmNoaWxkLnBhcmVudCYmbnVsbCE9ZC5wcmV2aW91cyYmZC5jaGlsZC5wYXJlbnQhPWQucHJldmlvdXMmJihkLnByZXZpb3VzPWQuY2hpbGQucGFyZW50KSxkLmNoaWxkLnBhcmVudD1kLnByZXZpb3VzLGQucHJldmlvdXM9ZC5wYXJlbnQsZC5wcmV2aW91c0luZGV4PWQuaW5kZXgpO3JldHVybiBkfTtyZXR1cm4gYX0oKSk7bXhDb2RlY1JlZ2lzdHJ5LnJlZ2lzdGVyKGZ1bmN0aW9uKCl7dmFyIGE9bmV3IG14T2JqZWN0Q29kZWMobmV3IG14VGVybWluYWxDaGFuZ2UsWyJtb2RlbCIsInByZXZpb3VzIl0sWyJjZWxsIiwidGVybWluYWwiXSk7YS5hZnRlckRlY29kZT1mdW5jdGlvbihhLGMsZCl7ZC5wcmV2aW91cz1kLnRlcm1pbmFsO3JldHVybiBkfTtyZXR1cm4gYX0oKSk7CnZhciBteEdlbmVyaWNDaGFuZ2VDb2RlYz1mdW5jdGlvbihhLGIpe3ZhciBjPW5ldyBteE9iamVjdENvZGVjKGEsWyJtb2RlbCIsInByZXZpb3VzIl0sWyJjZWxsIl0pO2MuYWZ0ZXJEZWNvZGU9ZnVuY3Rpb24oYSxjLGYpe214VXRpbHMuaXNOb2RlKGYuY2VsbCkmJihmLmNlbGw9YS5kZWNvZGVDZWxsKGYuY2VsbCwhMSkpO2YucHJldmlvdXM9ZltiXTtyZXR1cm4gZn07cmV0dXJuIGN9O214Q29kZWNSZWdpc3RyeS5yZWdpc3RlcihteEdlbmVyaWNDaGFuZ2VDb2RlYyhuZXcgbXhWYWx1ZUNoYW5nZSwidmFsdWUiKSk7bXhDb2RlY1JlZ2lzdHJ5LnJlZ2lzdGVyKG14R2VuZXJpY0NoYW5nZUNvZGVjKG5ldyBteFN0eWxlQ2hhbmdlLCJzdHlsZSIpKTtteENvZGVjUmVnaXN0cnkucmVnaXN0ZXIobXhHZW5lcmljQ2hhbmdlQ29kZWMobmV3IG14R2VvbWV0cnlDaGFuZ2UsImdlb21ldHJ5IikpOwpteENvZGVjUmVnaXN0cnkucmVnaXN0ZXIobXhHZW5lcmljQ2hhbmdlQ29kZWMobmV3IG14Q29sbGFwc2VDaGFuZ2UsImNvbGxhcHNlZCIpKTtteENvZGVjUmVnaXN0cnkucmVnaXN0ZXIobXhHZW5lcmljQ2hhbmdlQ29kZWMobmV3IG14VmlzaWJsZUNoYW5nZSwidmlzaWJsZSIpKTtteENvZGVjUmVnaXN0cnkucmVnaXN0ZXIobXhHZW5lcmljQ2hhbmdlQ29kZWMobmV3IG14Q2VsbEF0dHJpYnV0ZUNoYW5nZSwidmFsdWUiKSk7bXhDb2RlY1JlZ2lzdHJ5LnJlZ2lzdGVyKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBteE9iamVjdENvZGVjKG5ldyBteEdyYXBoLCJncmFwaExpc3RlbmVycyBldmVudExpc3RlbmVycyB2aWV3IGNvbnRhaW5lciBjZWxsUmVuZGVyZXIgZWRpdG9yIHNlbGVjdGlvbiIuc3BsaXQoIiAiKSl9KCkpOwpteENvZGVjUmVnaXN0cnkucmVnaXN0ZXIoZnVuY3Rpb24oKXt2YXIgYT1uZXcgbXhPYmplY3RDb2RlYyhuZXcgbXhHcmFwaFZpZXcpO2EuZW5jb2RlPWZ1bmN0aW9uKGEsYyl7cmV0dXJuIHRoaXMuZW5jb2RlQ2VsbChhLGMsYy5ncmFwaC5nZXRNb2RlbCgpLmdldFJvb3QoKSl9O2EuZW5jb2RlQ2VsbD1mdW5jdGlvbihhLGMsZCl7dmFyIGI9Yy5ncmFwaC5nZXRNb2RlbCgpLGY9Yy5nZXRTdGF0ZShkKSxnPWIuZ2V0UGFyZW50KGQpO2lmKG51bGw9PWd8fG51bGwhPWYpe3ZhciBrPWIuZ2V0Q2hpbGRDb3VudChkKSxsPWMuZ3JhcGguZ2V0Q2VsbEdlb21ldHJ5KGQpLG09bnVsbDtnPT1iLmdldFJvb3QoKT9tPSJsYXllciI6bnVsbD09Zz9tPSJncmFwaCI6Yi5pc0VkZ2UoZCk/bT0iZWRnZSI6MDxrJiZudWxsIT1sP209Imdyb3VwIjpiLmlzVmVydGV4KGQpJiYobT0idmVydGV4Iik7aWYobnVsbCE9bSl7dmFyIG49YS5kb2N1bWVudC5jcmVhdGVFbGVtZW50KG0pO251bGwhPWMuZ3JhcGguZ2V0TGFiZWwoZCkmJgoobi5zZXRBdHRyaWJ1dGUoImxhYmVsIixjLmdyYXBoLmdldExhYmVsKGQpKSxjLmdyYXBoLmlzSHRtbExhYmVsKGQpJiZuLnNldEF0dHJpYnV0ZSgiaHRtbCIsITApKTtpZihudWxsPT1nKXt2YXIgcD1jLmdldEdyYXBoQm91bmRzKCk7bnVsbCE9cCYmKG4uc2V0QXR0cmlidXRlKCJ4IixNYXRoLnJvdW5kKHAueCkpLG4uc2V0QXR0cmlidXRlKCJ5IixNYXRoLnJvdW5kKHAueSkpLG4uc2V0QXR0cmlidXRlKCJ3aWR0aCIsTWF0aC5yb3VuZChwLndpZHRoKSksbi5zZXRBdHRyaWJ1dGUoImhlaWdodCIsTWF0aC5yb3VuZChwLmhlaWdodCkpKTtuLnNldEF0dHJpYnV0ZSgic2NhbGUiLGMuc2NhbGUpfWVsc2UgaWYobnVsbCE9ZiYmbnVsbCE9bCl7Zm9yKHAgaW4gZi5zdHlsZSlnPWYuc3R5bGVbcF0sImZ1bmN0aW9uIj09dHlwZW9mIGcmJiJvYmplY3QiPT10eXBlb2YgZyYmKGc9bXhTdHlsZVJlZ2lzdHJ5LmdldE5hbWUoZykpLG51bGwhPWcmJiJmdW5jdGlvbiIhPXR5cGVvZiBnJiYib2JqZWN0IiE9CnR5cGVvZiBnJiZuLnNldEF0dHJpYnV0ZShwLGcpO2c9Zi5hYnNvbHV0ZVBvaW50cztpZihudWxsIT1nJiYwPGcubGVuZ3RoKXtsPU1hdGgucm91bmQoZ1swXS54KSsiLCIrTWF0aC5yb3VuZChnWzBdLnkpO2ZvcihwPTE7cDxnLmxlbmd0aDtwKyspbCs9IiAiK01hdGgucm91bmQoZ1twXS54KSsiLCIrTWF0aC5yb3VuZChnW3BdLnkpO24uc2V0QXR0cmlidXRlKCJwb2ludHMiLGwpfWVsc2Ugbi5zZXRBdHRyaWJ1dGUoIngiLE1hdGgucm91bmQoZi54KSksbi5zZXRBdHRyaWJ1dGUoInkiLE1hdGgucm91bmQoZi55KSksbi5zZXRBdHRyaWJ1dGUoIndpZHRoIixNYXRoLnJvdW5kKGYud2lkdGgpKSxuLnNldEF0dHJpYnV0ZSgiaGVpZ2h0IixNYXRoLnJvdW5kKGYuaGVpZ2h0KSk7cD1mLmFic29sdXRlT2Zmc2V0O251bGwhPXAmJigwIT1wLngmJm4uc2V0QXR0cmlidXRlKCJkeCIsTWF0aC5yb3VuZChwLngpKSwwIT1wLnkmJm4uc2V0QXR0cmlidXRlKCJkeSIsTWF0aC5yb3VuZChwLnkpKSl9Zm9yKHA9CjA7cDxrO3ArKylmPXRoaXMuZW5jb2RlQ2VsbChhLGMsYi5nZXRDaGlsZEF0KGQscCkpLG51bGwhPWYmJm4uYXBwZW5kQ2hpbGQoZil9fXJldHVybiBufTtyZXR1cm4gYX0oKSk7CnZhciBteFN0eWxlc2hlZXRDb2RlYz1teENvZGVjUmVnaXN0cnkucmVnaXN0ZXIoZnVuY3Rpb24oKXt2YXIgYT1uZXcgbXhPYmplY3RDb2RlYyhuZXcgbXhTdHlsZXNoZWV0KTthLmVuY29kZT1mdW5jdGlvbihhLGMpe3ZhciBiPWEuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0aGlzLmdldE5hbWUoKSksZTtmb3IoZSBpbiBjLnN0eWxlcyl7dmFyIGY9Yy5zdHlsZXNbZV0sZz1hLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImFkZCIpO2lmKG51bGwhPWUpe2cuc2V0QXR0cmlidXRlKCJhcyIsZSk7Zm9yKHZhciBrIGluIGYpe3ZhciBsPXRoaXMuZ2V0U3RyaW5nVmFsdWUoayxmW2tdKTtpZihudWxsIT1sKXt2YXIgbT1hLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImFkZCIpO20uc2V0QXR0cmlidXRlKCJ2YWx1ZSIsbCk7bS5zZXRBdHRyaWJ1dGUoImFzIixrKTtnLmFwcGVuZENoaWxkKG0pfX0wPGcuY2hpbGROb2Rlcy5sZW5ndGgmJmIuYXBwZW5kQ2hpbGQoZyl9fXJldHVybiBifTthLmdldFN0cmluZ1ZhbHVlPQpmdW5jdGlvbihhLGMpe3ZhciBiPXR5cGVvZiBjOyJmdW5jdGlvbiI9PWI/Yz1teFN0eWxlUmVnaXN0cnkuZ2V0TmFtZShjKToib2JqZWN0Ij09YiYmKGM9bnVsbCk7cmV0dXJuIGN9O2EuZGVjb2RlPWZ1bmN0aW9uKGEsYyxkKXtkPWR8fG5ldyB0aGlzLnRlbXBsYXRlLmNvbnN0cnVjdG9yO3ZhciBiPWMuZ2V0QXR0cmlidXRlKCJpZCIpO251bGwhPWImJihhLm9iamVjdHNbYl09ZCk7Zm9yKGM9Yy5maXJzdENoaWxkO251bGwhPWM7KXtpZighdGhpcy5wcm9jZXNzSW5jbHVkZShhLGMsZCkmJiJhZGQiPT1jLm5vZGVOYW1lJiYoYj1jLmdldEF0dHJpYnV0ZSgiYXMiKSxudWxsIT1iKSl7dmFyIGY9Yy5nZXRBdHRyaWJ1dGUoImV4dGVuZCIpLGc9bnVsbCE9Zj9teFV0aWxzLmNsb25lKGQuc3R5bGVzW2ZdKTpudWxsO251bGw9PWcmJihudWxsIT1mJiZteExvZy53YXJuKCJteFN0eWxlc2hlZXRDb2RlYy5kZWNvZGU6IHN0eWxlc2hlZXQgIitmKyIgbm90IGZvdW5kIHRvIGV4dGVuZCIpLGc9Cnt9KTtmb3IoZj1jLmZpcnN0Q2hpbGQ7bnVsbCE9Zjspe2lmKGYubm9kZVR5cGU9PW14Q29uc3RhbnRzLk5PREVUWVBFX0VMRU1FTlQpe3ZhciBrPWYuZ2V0QXR0cmlidXRlKCJhcyIpO2lmKCJhZGQiPT1mLm5vZGVOYW1lKXt2YXIgbD1teFV0aWxzLmdldFRleHRDb250ZW50KGYpO251bGwhPWwmJjA8bC5sZW5ndGgmJm14U3R5bGVzaGVldENvZGVjLmFsbG93RXZhbD9sPW14VXRpbHMuZXZhbChsKToobD1mLmdldEF0dHJpYnV0ZSgidmFsdWUiKSxteFV0aWxzLmlzTnVtZXJpYyhsKSYmKGw9cGFyc2VGbG9hdChsKSkpO251bGwhPWwmJihnW2tdPWwpfWVsc2UicmVtb3ZlIj09Zi5ub2RlTmFtZSYmZGVsZXRlIGdba119Zj1mLm5leHRTaWJsaW5nfWQucHV0Q2VsbFN0eWxlKGIsZyl9Yz1jLm5leHRTaWJsaW5nfXJldHVybiBkfTtyZXR1cm4gYX0oKSk7bXhTdHlsZXNoZWV0Q29kZWMuYWxsb3dFdmFsPSEwOwpteENvZGVjUmVnaXN0cnkucmVnaXN0ZXIoZnVuY3Rpb24oKXt2YXIgYT1uZXcgbXhPYmplY3RDb2RlYyhuZXcgbXhEZWZhdWx0S2V5SGFuZGxlcik7YS5lbmNvZGU9ZnVuY3Rpb24oYSxjKXtyZXR1cm4gbnVsbH07YS5kZWNvZGU9ZnVuY3Rpb24oYSxjLGQpe2lmKG51bGwhPWQpZm9yKGM9Yy5maXJzdENoaWxkO251bGwhPWM7KXtpZighdGhpcy5wcm9jZXNzSW5jbHVkZShhLGMsZCkmJiJhZGQiPT1jLm5vZGVOYW1lKXt2YXIgYj1jLmdldEF0dHJpYnV0ZSgiYXMiKSxmPWMuZ2V0QXR0cmlidXRlKCJhY3Rpb24iKSxnPWMuZ2V0QXR0cmlidXRlKCJjb250cm9sIik7ZC5iaW5kQWN0aW9uKGIsZixnKX1jPWMubmV4dFNpYmxpbmd9cmV0dXJuIGR9O3JldHVybiBhfSgpKTsKdmFyIG14RGVmYXVsdFRvb2xiYXJDb2RlYz1teENvZGVjUmVnaXN0cnkucmVnaXN0ZXIoZnVuY3Rpb24oKXt2YXIgYT1uZXcgbXhPYmplY3RDb2RlYyhuZXcgbXhEZWZhdWx0VG9vbGJhcik7YS5lbmNvZGU9ZnVuY3Rpb24oYSxjKXtyZXR1cm4gbnVsbH07YS5kZWNvZGU9ZnVuY3Rpb24oYSxjLGQpe2lmKG51bGwhPWQpe3ZhciBiPWQuZWRpdG9yO2ZvcihjPWMuZmlyc3RDaGlsZDtudWxsIT1jOyl7aWYoYy5ub2RlVHlwZT09bXhDb25zdGFudHMuTk9ERVRZUEVfRUxFTUVOVCYmIXRoaXMucHJvY2Vzc0luY2x1ZGUoYSxjLGQpKWlmKCJzZXBhcmF0b3IiPT1jLm5vZGVOYW1lKWQuYWRkU2VwYXJhdG9yKCk7ZWxzZSBpZigiYnIiPT1jLm5vZGVOYW1lKWQudG9vbGJhci5hZGRCcmVhaygpO2Vsc2UgaWYoImhyIj09Yy5ub2RlTmFtZSlkLnRvb2xiYXIuYWRkTGluZSgpO2Vsc2UgaWYoImFkZCI9PWMubm9kZU5hbWUpe3ZhciBmPWMuZ2V0QXR0cmlidXRlKCJhcyIpLGY9bXhSZXNvdXJjZXMuZ2V0KGYpfHwKZixnPWMuZ2V0QXR0cmlidXRlKCJpY29uIiksaz1jLmdldEF0dHJpYnV0ZSgicHJlc3NlZEljb24iKSxsPWMuZ2V0QXR0cmlidXRlKCJhY3Rpb24iKSxtPWMuZ2V0QXR0cmlidXRlKCJtb2RlIiksbj1jLmdldEF0dHJpYnV0ZSgidGVtcGxhdGUiKSxwPSIwIiE9Yy5nZXRBdHRyaWJ1dGUoInRvZ2dsZSIpLHE9bXhVdGlscy5nZXRUZXh0Q29udGVudChjKSxyPW51bGw7aWYobnVsbCE9bClyPWQuYWRkSXRlbShmLGcsbCxrKTtlbHNlIGlmKG51bGwhPW0pdmFyIHQ9bXhEZWZhdWx0VG9vbGJhckNvZGVjLmFsbG93RXZhbD9teFV0aWxzLmV2YWwocSk6bnVsbCxyPWQuYWRkTW9kZShmLGcsbSxrLHQpO2Vsc2UgaWYobnVsbCE9bnx8bnVsbCE9cSYmMDxxLmxlbmd0aClyPWIudGVtcGxhdGVzW25dLG49Yy5nZXRBdHRyaWJ1dGUoInN0eWxlIiksbnVsbCE9ciYmbnVsbCE9biYmKHI9Yi5ncmFwaC5jbG9uZUNlbGwociksci5zZXRTdHlsZShuKSksbj1udWxsLG51bGwhPXEmJjA8cS5sZW5ndGgmJgpteERlZmF1bHRUb29sYmFyQ29kZWMuYWxsb3dFdmFsJiYobj1teFV0aWxzLmV2YWwocSkpLHI9ZC5hZGRQcm90b3R5cGUoZixnLHIsayxuLHApO2Vsc2UgaWYoaz1teFV0aWxzLmdldENoaWxkTm9kZXMoYyksMDxrLmxlbmd0aClpZihudWxsPT1nKWZvcihuPWQuYWRkQWN0aW9uQ29tYm8oZiksZj0wO2Y8ay5sZW5ndGg7ZisrKXA9a1tmXSwic2VwYXJhdG9yIj09cC5ub2RlTmFtZT9kLmFkZE9wdGlvbihuLCItLS0iKToiYWRkIj09cC5ub2RlTmFtZSYmKGc9cC5nZXRBdHRyaWJ1dGUoImFzIikscD1wLmdldEF0dHJpYnV0ZSgiYWN0aW9uIiksZC5hZGRBY3Rpb25PcHRpb24obixnLHApKTtlbHNle3ZhciB1PW51bGwseD1kLmFkZFByb3RvdHlwZShmLGcsZnVuY3Rpb24oKXt2YXIgYT1iLnRlbXBsYXRlc1t1LnZhbHVlXTtpZihudWxsIT1hKXt2YXIgYT1hLmNsb25lKCksYz11Lm9wdGlvbnNbdS5zZWxlY3RlZEluZGV4XS5jZWxsU3R5bGU7bnVsbCE9YyYmYS5zZXRTdHlsZShjKTtyZXR1cm4gYX1teExvZy53YXJuKCJUZW1wbGF0ZSAiKwphKyIgbm90IGZvdW5kIik7cmV0dXJuIG51bGx9LG51bGwsbnVsbCxwKSx1PWQuYWRkQ29tYm8oKTtteEV2ZW50LmFkZExpc3RlbmVyKHUsImNoYW5nZSIsZnVuY3Rpb24oKXtkLnRvb2xiYXIuc2VsZWN0TW9kZSh4LGZ1bmN0aW9uKGEpe2E9bXhVdGlscy5jb252ZXJ0UG9pbnQoYi5ncmFwaC5jb250YWluZXIsbXhFdmVudC5nZXRDbGllbnRYKGEpLG14RXZlbnQuZ2V0Q2xpZW50WShhKSk7cmV0dXJuIGIuYWRkVmVydGV4KG51bGwsdCgpLGEueCxhLnkpfSk7ZC50b29sYmFyLm5vUmVzZXQ9ITF9KTtmb3IoZj0wO2Y8ay5sZW5ndGg7ZisrKXA9a1tmXSwic2VwYXJhdG9yIj09cC5ub2RlTmFtZT9kLmFkZE9wdGlvbih1LCItLS0iKToiYWRkIj09cC5ub2RlTmFtZSYmKGc9cC5nZXRBdHRyaWJ1dGUoImFzIikscT1wLmdldEF0dHJpYnV0ZSgidGVtcGxhdGUiKSxkLmFkZE9wdGlvbih1LGcscXx8bikuY2VsbFN0eWxlPXAuZ2V0QXR0cmlidXRlKCJzdHlsZSIpKX1udWxsIT1yJiYobj1jLmdldEF0dHJpYnV0ZSgiaWQiKSwKbnVsbCE9biYmMDxuLmxlbmd0aCYmci5zZXRBdHRyaWJ1dGUoImlkIixuKSl9Yz1jLm5leHRTaWJsaW5nfX1yZXR1cm4gZH07cmV0dXJuIGF9KCkpO214RGVmYXVsdFRvb2xiYXJDb2RlYy5hbGxvd0V2YWw9ITA7bXhDb2RlY1JlZ2lzdHJ5LnJlZ2lzdGVyKGZ1bmN0aW9uKCl7dmFyIGE9bmV3IG14T2JqZWN0Q29kZWMobmV3IG14RGVmYXVsdFBvcHVwTWVudSk7YS5lbmNvZGU9ZnVuY3Rpb24oYSxjKXtyZXR1cm4gbnVsbH07YS5kZWNvZGU9ZnVuY3Rpb24oYSxjLGQpe3ZhciBiPWMuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImluY2x1ZGUiKVswXTtudWxsIT1iP3RoaXMucHJvY2Vzc0luY2x1ZGUoYSxiLGQpOm51bGwhPWQmJihkLmNvbmZpZz1jKTtyZXR1cm4gZH07cmV0dXJuIGF9KCkpOwpteENvZGVjUmVnaXN0cnkucmVnaXN0ZXIoZnVuY3Rpb24oKXt2YXIgYT1uZXcgbXhPYmplY3RDb2RlYyhuZXcgbXhFZGl0b3IsIm1vZGlmaWVkIGxhc3RTbmFwc2hvdCBpZ25vcmVkQ2hhbmdlcyB1bmRvTWFuYWdlciBncmFwaENvbnRhaW5lciB0b29sYmFyQ29udGFpbmVyIi5zcGxpdCgiICIpKTthLmFmdGVyRGVjb2RlPWZ1bmN0aW9uKGEsYyxkKXthPWMuZ2V0QXR0cmlidXRlKCJkZWZhdWx0RWRnZSIpO251bGwhPWEmJihjLnJlbW92ZUF0dHJpYnV0ZSgiZGVmYXVsdEVkZ2UiKSxkLmRlZmF1bHRFZGdlPWQudGVtcGxhdGVzW2FdKTthPWMuZ2V0QXR0cmlidXRlKCJkZWZhdWx0R3JvdXAiKTtudWxsIT1hJiYoYy5yZW1vdmVBdHRyaWJ1dGUoImRlZmF1bHRHcm91cCIpLGQuZGVmYXVsdEdyb3VwPWQudGVtcGxhdGVzW2FdKTtyZXR1cm4gZH07YS5kZWNvZGVDaGlsZD1mdW5jdGlvbihhLGMsZCl7aWYoIkFycmF5Ij09Yy5ub2RlTmFtZSl7aWYoInRlbXBsYXRlcyI9PWMuZ2V0QXR0cmlidXRlKCJhcyIpKXt0aGlzLmRlY29kZVRlbXBsYXRlcyhhLApjLGQpO3JldHVybn19ZWxzZSBpZigidWkiPT1jLm5vZGVOYW1lKXt0aGlzLmRlY29kZVVpKGEsYyxkKTtyZXR1cm59bXhPYmplY3RDb2RlYy5wcm90b3R5cGUuZGVjb2RlQ2hpbGQuYXBwbHkodGhpcyxhcmd1bWVudHMpfTthLmRlY29kZVVpPWZ1bmN0aW9uKGEsYyxkKXtmb3IoYT1jLmZpcnN0Q2hpbGQ7bnVsbCE9YTspe2lmKCJhZGQiPT1hLm5vZGVOYW1lKXtjPWEuZ2V0QXR0cmlidXRlKCJhcyIpO3ZhciBiPWEuZ2V0QXR0cmlidXRlKCJlbGVtZW50IiksZj1hLmdldEF0dHJpYnV0ZSgic3R5bGUiKTtpZihudWxsIT1iKWI9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYiksbnVsbCE9YiYmbnVsbCE9ZiYmKGIuc3R5bGUuY3NzVGV4dCs9IjsiK2YpO2Vsc2V7dmFyIGc9cGFyc2VJbnQoYS5nZXRBdHRyaWJ1dGUoIngiKSksaz1wYXJzZUludChhLmdldEF0dHJpYnV0ZSgieSIpKSxsPWEuZ2V0QXR0cmlidXRlKCJ3aWR0aCIpLG09YS5nZXRBdHRyaWJ1dGUoImhlaWdodCIpLGI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CmIuc3R5bGUuY3NzVGV4dD1mOyhuZXcgbXhXaW5kb3cobXhSZXNvdXJjZXMuZ2V0KGMpfHxjLGIsZyxrLGwsbSwhMSwhMCkpLnNldFZpc2libGUoITApfSJncmFwaCI9PWM/ZC5zZXRHcmFwaENvbnRhaW5lcihiKToidG9vbGJhciI9PWM/ZC5zZXRUb29sYmFyQ29udGFpbmVyKGIpOiJ0aXRsZSI9PWM/ZC5zZXRUaXRsZUNvbnRhaW5lcihiKToic3RhdHVzIj09Yz9kLnNldFN0YXR1c0NvbnRhaW5lcihiKToibWFwIj09YyYmZC5zZXRNYXBDb250YWluZXIoYil9ZWxzZSJyZXNvdXJjZSI9PWEubm9kZU5hbWU/bXhSZXNvdXJjZXMuYWRkKGEuZ2V0QXR0cmlidXRlKCJiYXNlbmFtZSIpKToic3R5bGVzaGVldCI9PWEubm9kZU5hbWUmJm14Q2xpZW50LmxpbmsoInN0eWxlc2hlZXQiLGEuZ2V0QXR0cmlidXRlKCJuYW1lIikpO2E9YS5uZXh0U2libGluZ319O2EuZGVjb2RlVGVtcGxhdGVzPWZ1bmN0aW9uKGEsYyxkKXtudWxsPT1kLnRlbXBsYXRlcyYmKGQudGVtcGxhdGVzPVtdKTtjPW14VXRpbHMuZ2V0Q2hpbGROb2RlcyhjKTsKZm9yKHZhciBiPTA7YjxjLmxlbmd0aDtiKyspe2Zvcih2YXIgZj1jW2JdLmdldEF0dHJpYnV0ZSgiYXMiKSxnPWNbYl0uZmlyc3RDaGlsZDtudWxsIT1nJiYxIT1nLm5vZGVUeXBlOylnPWcubmV4dFNpYmxpbmc7bnVsbCE9ZyYmKGQudGVtcGxhdGVzW2ZdPWEuZGVjb2RlQ2VsbChnKSl9fTtyZXR1cm4gYX0oKSk7LyoKIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSwgaHR0cDovL3d3dy5nbnUub3JnL2NvcHlsZWZ0L2xlc3Nlci5odG1sCiBAYXV0aG9yICBKYW4gT2R2YXJrbywgaHR0cDovL29kdmFya28uY3oKIEBjcmVhdGVkIDIwMDgtMDYtMTUKIEB1cGRhdGVkIDIwMTItMDEtMTkKIEBsaW5rICAgIGh0dHA6Ly9qc2NvbG9yLmNvbQoqLwp2YXIgbXhKU0NvbG9yPXtiaW5kQ2xhc3M6ImNvbG9yIixiaW5kaW5nOiEwLHByZWxvYWRpbmc6ITAsaW5zdGFsbDpmdW5jdGlvbigpe30saW5pdDpmdW5jdGlvbigpe214SlNDb2xvci5wcmVsb2FkaW5nJiZteEpTQ29sb3IucHJlbG9hZCgpfSxnZXREaXI6ZnVuY3Rpb24oKXtyZXR1cm4gSU1BR0VfUEFUSCsiLyJ9LGRldGVjdERpcjpmdW5jdGlvbigpe2Zvcih2YXIgYT1sb2NhdGlvbi5ocmVmLGI9ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImJhc2UiKSxjPTA7YzxiLmxlbmd0aDtjKz0xKWJbY10uaHJlZiYmKGE9YltjXS5ocmVmKTtiPWRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJzY3JpcHQiKTtmb3IoYz0wO2M8Yi5sZW5ndGg7Yys9MSlpZihiW2NdLnNyYyYmLyhefFwvKWpzY29sb3JcLmpzKFs/I10uKik/JC9pLnRlc3QoYltjXS5zcmMpKXJldHVybiBhPShuZXcgbXhKU0NvbG9yLlVSSShiW2NdLnNyYykpLnRvQWJzb2x1dGUoYSksYS5wYXRoPWEucGF0aC5yZXBsYWNlKC9bXlwvXSskLywKIiIpLGEucXVlcnk9bnVsbCxhLmZyYWdtZW50PW51bGwsYS50b1N0cmluZygpO3JldHVybiExfSxwcmVsb2FkOmZ1bmN0aW9uKCl7Zm9yKHZhciBhIGluIG14SlNDb2xvci5pbWdSZXF1aXJlKW14SlNDb2xvci5pbWdSZXF1aXJlLmhhc093blByb3BlcnR5KGEpJiZteEpTQ29sb3IubG9hZEltYWdlKGEpfSxpbWFnZXM6e3BhZDpbMTgxLDEwMV0sc2xkOlsxNiwxMDFdLGNyb3NzOlsxNSwxNV0sYXJyb3c6WzcsMTFdfSxpbWdSZXF1aXJlOnt9LGltZ0xvYWRlZDp7fSxyZXF1aXJlSW1hZ2U6ZnVuY3Rpb24oYSl7bXhKU0NvbG9yLmltZ1JlcXVpcmVbYV09ITB9LGxvYWRJbWFnZTpmdW5jdGlvbihhKXtteEpTQ29sb3IuaW1nTG9hZGVkW2FdfHwobXhKU0NvbG9yLmltZ0xvYWRlZFthXT1uZXcgSW1hZ2UsbXhKU0NvbG9yLmltZ0xvYWRlZFthXS5zcmM9bXhKU0NvbG9yLmdldERpcigpK2EpfSxmZXRjaEVsZW1lbnQ6ZnVuY3Rpb24oYSl7cmV0dXJuInN0cmluZyI9PT10eXBlb2YgYT9kb2N1bWVudC5nZXRFbGVtZW50QnlJZChhKToKYX0sYWRkRXZlbnQ6ZnVuY3Rpb24oYSxiLGMpe2EuYWRkRXZlbnRMaXN0ZW5lcj9hLmFkZEV2ZW50TGlzdGVuZXIoYixjLCExKTphLmF0dGFjaEV2ZW50JiZhLmF0dGFjaEV2ZW50KCJvbiIrYixjKX0sZmlyZUV2ZW50OmZ1bmN0aW9uKGEsYil7aWYoYSlpZihkb2N1bWVudC5jcmVhdGVFdmVudCl7dmFyIGM9ZG9jdW1lbnQuY3JlYXRlRXZlbnQoIkhUTUxFdmVudHMiKTtjLmluaXRFdmVudChiLCEwLCEwKTthLmRpc3BhdGNoRXZlbnQoYyl9ZWxzZSBpZihkb2N1bWVudC5jcmVhdGVFdmVudE9iamVjdCljPWRvY3VtZW50LmNyZWF0ZUV2ZW50T2JqZWN0KCksYS5maXJlRXZlbnQoIm9uIitiLGMpO2Vsc2UgaWYoYVsib24iK2JdKWFbIm9uIitiXSgpfSxnZXRFbGVtZW50UG9zOmZ1bmN0aW9uKGEpe3ZhciBiPWEsYz0wLGQ9MDtpZihiLm9mZnNldFBhcmVudCl7ZG8gYys9Yi5vZmZzZXRMZWZ0LGQrPWIub2Zmc2V0VG9wO3doaWxlKGI9Yi5vZmZzZXRQYXJlbnQpfWZvcig7KGE9YS5wYXJlbnROb2RlKSYmCiJCT0RZIiE9PWEubm9kZU5hbWUudG9VcHBlckNhc2UoKTspYy09YS5zY3JvbGxMZWZ0LGQtPWEuc2Nyb2xsVG9wO3JldHVybltjLGRdfSxnZXRFbGVtZW50U2l6ZTpmdW5jdGlvbihhKXtyZXR1cm5bYS5vZmZzZXRXaWR0aCxhLm9mZnNldEhlaWdodF19LGdldFJlbE1vdXNlUG9zOmZ1bmN0aW9uKGEpe3ZhciBiPTAsYz0wO2F8fChhPXdpbmRvdy5ldmVudCk7Im51bWJlciI9PT10eXBlb2YgYS5vZmZzZXRYPyhiPWEub2Zmc2V0WCxjPWEub2Zmc2V0WSk6Im51bWJlciI9PT10eXBlb2YgYS5sYXllclgmJihiPWEubGF5ZXJYLGM9YS5sYXllclkpO3JldHVybnt4OmIseTpjfX0sZ2V0Vmlld1BvczpmdW5jdGlvbigpe3JldHVybiJudW1iZXIiPT09dHlwZW9mIHdpbmRvdy5wYWdlWU9mZnNldD9bd2luZG93LnBhZ2VYT2Zmc2V0LHdpbmRvdy5wYWdlWU9mZnNldF06ZG9jdW1lbnQuYm9keSYmKGRvY3VtZW50LmJvZHkuc2Nyb2xsTGVmdHx8ZG9jdW1lbnQuYm9keS5zY3JvbGxUb3ApP1tkb2N1bWVudC5ib2R5LnNjcm9sbExlZnQsCmRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wXTpkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQmJihkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdHx8ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCk/W2RvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0LGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3BdOlswLDBdfSxnZXRWaWV3U2l6ZTpmdW5jdGlvbigpe3JldHVybiJudW1iZXIiPT09dHlwZW9mIHdpbmRvdy5pbm5lcldpZHRoP1t3aW5kb3cuaW5uZXJXaWR0aCx3aW5kb3cuaW5uZXJIZWlnaHRdOmRvY3VtZW50LmJvZHkmJihkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRofHxkb2N1bWVudC5ib2R5LmNsaWVudEhlaWdodCk/W2RvY3VtZW50LmJvZHkuY2xpZW50V2lkdGgsZG9jdW1lbnQuYm9keS5jbGllbnRIZWlnaHRdOmRvY3VtZW50LmRvY3VtZW50RWxlbWVudCYmKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aHx8ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCk/Cltkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgsZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodF06WzAsMF19LFVSSTpmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEpe2Zvcih2YXIgYj0iIjthOylpZigiLi4vIj09PWEuc3Vic3RyKDAsMyl8fCIuLyI9PT1hLnN1YnN0cigwLDIpKWE9YS5yZXBsYWNlKC9eXC4rLywiIikuc3Vic3RyKDEpO2Vsc2UgaWYoIi8uLyI9PT1hLnN1YnN0cigwLDMpfHwiLy4iPT09YSlhPSIvIithLnN1YnN0cigzKTtlbHNlIGlmKCIvLi4vIj09PWEuc3Vic3RyKDAsNCl8fCIvLi4iPT09YSlhPSIvIithLnN1YnN0cig0KSxiPWIucmVwbGFjZSgvXC8/W15cL10qJC8sIiIpO2Vsc2UgaWYoIi4iPT09YXx8Ii4uIj09PWEpYT0iIjtlbHNle3ZhciBjPWEubWF0Y2goL15cLz9bXlwvXSovKVswXTthPWEuc3Vic3RyKGMubGVuZ3RoKTtiKz1jfXJldHVybiBifXRoaXMuYXV0aG9yaXR5PXRoaXMuc2NoZW1lPW51bGw7dGhpcy5wYXRoPQoiIjt0aGlzLmZyYWdtZW50PXRoaXMucXVlcnk9bnVsbDt0aGlzLnBhcnNlPWZ1bmN0aW9uKGEpe2E9YS5tYXRjaCgvXigoW0EtWmEtel1bMC05QS1aYS16Ky4tXSopKDopKT8oKFwvXC8pKFteXC8/I10qKSk/KFtePyNdKikoKFw/KShbXiNdKikpPygoIykoLiopKT8vKTt0aGlzLnNjaGVtZT1hWzNdP2FbMl06bnVsbDt0aGlzLmF1dGhvcml0eT1hWzVdP2FbNl06bnVsbDt0aGlzLnBhdGg9YVs3XTt0aGlzLnF1ZXJ5PWFbOV0/YVsxMF06bnVsbDt0aGlzLmZyYWdtZW50PWFbMTJdP2FbMTNdOm51bGw7cmV0dXJuIHRoaXN9O3RoaXMudG9TdHJpbmc9ZnVuY3Rpb24oKXt2YXIgYT0iIjtudWxsIT09dGhpcy5zY2hlbWUmJihhPWErdGhpcy5zY2hlbWUrIjoiKTtudWxsIT09dGhpcy5hdXRob3JpdHkmJihhPWErIi8vIit0aGlzLmF1dGhvcml0eSk7bnVsbCE9PXRoaXMucGF0aCYmKGErPXRoaXMucGF0aCk7bnVsbCE9PXRoaXMucXVlcnkmJihhPWErIj8iK3RoaXMucXVlcnkpO251bGwhPT0KdGhpcy5mcmFnbWVudCYmKGE9YSsiIyIrdGhpcy5mcmFnbWVudCk7cmV0dXJuIGF9O3RoaXMudG9BYnNvbHV0ZT1mdW5jdGlvbihhKXthPW5ldyBteEpTQ29sb3IuVVJJKGEpO3ZhciBjPW5ldyBteEpTQ29sb3IuVVJJO2lmKG51bGw9PT1hLnNjaGVtZSlyZXR1cm4hMTtudWxsIT09dGhpcy5zY2hlbWUmJnRoaXMuc2NoZW1lLnRvTG93ZXJDYXNlKCk9PT1hLnNjaGVtZS50b0xvd2VyQ2FzZSgpJiYodGhpcy5zY2hlbWU9bnVsbCk7bnVsbCE9PXRoaXMuc2NoZW1lPyhjLnNjaGVtZT10aGlzLnNjaGVtZSxjLmF1dGhvcml0eT10aGlzLmF1dGhvcml0eSxjLnBhdGg9Yih0aGlzLnBhdGgpLGMucXVlcnk9dGhpcy5xdWVyeSk6KG51bGwhPT10aGlzLmF1dGhvcml0eT8oYy5hdXRob3JpdHk9dGhpcy5hdXRob3JpdHksYy5wYXRoPWIodGhpcy5wYXRoKSxjLnF1ZXJ5PXRoaXMucXVlcnkpOigiIj09PXRoaXMucGF0aD8oYy5wYXRoPWEucGF0aCxjLnF1ZXJ5PW51bGwhPT10aGlzLnF1ZXJ5P3RoaXMucXVlcnk6CmEucXVlcnkpOigiLyI9PT10aGlzLnBhdGguc3Vic3RyKDAsMSk/Yy5wYXRoPWIodGhpcy5wYXRoKTooYy5wYXRoPW51bGwhPT1hLmF1dGhvcml0eSYmIiI9PT1hLnBhdGg/Ii8iK3RoaXMucGF0aDphLnBhdGgucmVwbGFjZSgvW15cL10rJC8sIiIpK3RoaXMucGF0aCxjLnBhdGg9YihjLnBhdGgpKSxjLnF1ZXJ5PXRoaXMucXVlcnkpLGMuYXV0aG9yaXR5PWEuYXV0aG9yaXR5KSxjLnNjaGVtZT1hLnNjaGVtZSk7Yy5mcmFnbWVudD10aGlzLmZyYWdtZW50O3JldHVybiBjfTthJiZ0aGlzLnBhcnNlKGEpfSxjb2xvcjpmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoYSxiLGMpe2lmKG51bGw9PT1hKXJldHVybltjLGMsY107dmFyIGQ9TWF0aC5mbG9vcihhKSxlPWMqKDEtYik7YT1jKigxLWIqKGQlMj9hLWQ6MS0oYS1kKSkpO3N3aXRjaChkKXtjYXNlIDY6Y2FzZSAwOnJldHVybltjLGEsZV07Y2FzZSAxOnJldHVyblthLGMsZV07Y2FzZSAyOnJldHVybltlLGMsYV07Y2FzZSAzOnJldHVybltlLAphLGNdO2Nhc2UgNDpyZXR1cm5bYSxlLGNdO2Nhc2UgNTpyZXR1cm5bYyxlLGFdfX1mdW5jdGlvbiBkKGIsYyl7aWYoIW14SlNDb2xvci5waWNrZXIpe214SlNDb2xvci5waWNrZXI9e2JveDpkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSxib3hCOmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLHBhZDpkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSxwYWRCOmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLHBhZE06ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iiksc2xkOmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLHNsZEI6ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iiksc2xkTTpkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSxidG46ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IiksYnRuUzpkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzcGFuIiksYnRuVDpkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShyLnBpY2tlckNsb3NlVGV4dCl9O2Zvcih2YXIgZD0KMDtkPG14SlNDb2xvci5pbWFnZXMuc2xkWzFdO2QrPTQpe3ZhciBrPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2suc3R5bGUuaGVpZ2h0PSI0cHgiO2suc3R5bGUuZm9udFNpemU9IjFweCI7ay5zdHlsZS5saW5lSGVpZ2h0PSIwIjtteEpTQ29sb3IucGlja2VyLnNsZC5hcHBlbmRDaGlsZChrKX1teEpTQ29sb3IucGlja2VyLnNsZEIuYXBwZW5kQ2hpbGQobXhKU0NvbG9yLnBpY2tlci5zbGQpO214SlNDb2xvci5waWNrZXIuYm94LmFwcGVuZENoaWxkKG14SlNDb2xvci5waWNrZXIuc2xkQik7bXhKU0NvbG9yLnBpY2tlci5ib3guYXBwZW5kQ2hpbGQobXhKU0NvbG9yLnBpY2tlci5zbGRNKTtteEpTQ29sb3IucGlja2VyLnBhZEIuYXBwZW5kQ2hpbGQobXhKU0NvbG9yLnBpY2tlci5wYWQpO214SlNDb2xvci5waWNrZXIuYm94LmFwcGVuZENoaWxkKG14SlNDb2xvci5waWNrZXIucGFkQik7bXhKU0NvbG9yLnBpY2tlci5ib3guYXBwZW5kQ2hpbGQobXhKU0NvbG9yLnBpY2tlci5wYWRNKTsKbXhKU0NvbG9yLnBpY2tlci5idG5TLmFwcGVuZENoaWxkKG14SlNDb2xvci5waWNrZXIuYnRuVCk7bXhKU0NvbG9yLnBpY2tlci5idG4uYXBwZW5kQ2hpbGQobXhKU0NvbG9yLnBpY2tlci5idG5TKTtteEpTQ29sb3IucGlja2VyLmJveC5hcHBlbmRDaGlsZChteEpTQ29sb3IucGlja2VyLmJ0bik7bXhKU0NvbG9yLnBpY2tlci5ib3hCLmFwcGVuZENoaWxkKG14SlNDb2xvci5waWNrZXIuYm94KX12YXIgbD1teEpTQ29sb3IucGlja2VyO2wuYm94Lm9ubW91c2V1cD1sLmJveC5vbm1vdXNlb3V0PWZ1bmN0aW9uKCl7bXhDbGllbnQuSVNfVE9VQ0h8fGEuZm9jdXMoKX07bC5ib3gub25tb3VzZWRvd249ZnVuY3Rpb24oKXt9O2wuYm94Lm9ubW91c2Vtb3ZlPWZ1bmN0aW9uKGEpe2lmKHl8fEIpeSYmbShhKSxCJiZuKGEpLGRvY3VtZW50LnNlbGVjdGlvbj9kb2N1bWVudC5zZWxlY3Rpb24uZW1wdHkoKTp3aW5kb3cuZ2V0U2VsZWN0aW9uJiZ3aW5kb3cuZ2V0U2VsZWN0aW9uKCkucmVtb3ZlQWxsUmFuZ2VzKCksCnAoKX07bC5wYWRNLm9ubW91c2V1cD1sLnBhZE0ub25tb3VzZW91dD1mdW5jdGlvbigpe3kmJih5PSExLG14SlNDb2xvci5maXJlRXZlbnQodSwiY2hhbmdlIikpfTtsLnBhZE0ub25tb3VzZWRvd249ZnVuY3Rpb24oYSl7c3dpdGNoKHQpe2Nhc2UgMDowPT09ci5oc3ZbMl0mJnIuZnJvbUhTVihudWxsLG51bGwsMSk7YnJlYWs7Y2FzZSAxOjA9PT1yLmhzdlsxXSYmci5mcm9tSFNWKG51bGwsMSxudWxsKX15PSEwO20oYSk7cCgpfTtsLnNsZE0ub25tb3VzZXVwPWwuc2xkTS5vbm1vdXNlb3V0PWZ1bmN0aW9uKCl7QiYmKEI9ITEsbXhKU0NvbG9yLmZpcmVFdmVudCh1LCJjaGFuZ2UiKSl9O2wuc2xkTS5vbm1vdXNlZG93bj1mdW5jdGlvbihhKXtCPSEwO24oYSk7cCgpfTtkPWUocik7bC5ib3guc3R5bGUud2lkdGg9ZFswXSsicHgiO2wuYm94LnN0eWxlLmhlaWdodD1kWzFdKyJweCI7bC5ib3hCLnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSI7bC5ib3hCLnN0eWxlLmNsZWFyPSJib3RoIjsKbC5ib3hCLnN0eWxlLmxlZnQ9YisicHgiO2wuYm94Qi5zdHlsZS50b3A9YysicHgiO2wuYm94Qi5zdHlsZS56SW5kZXg9ci5waWNrZXJaSW5kZXg7bC5ib3hCLnN0eWxlLmJvcmRlcj1yLnBpY2tlckJvcmRlcisicHggc29saWQiO2wuYm94Qi5zdHlsZS5ib3JkZXJDb2xvcj1yLnBpY2tlckJvcmRlckNvbG9yO2wuYm94Qi5zdHlsZS5iYWNrZ3JvdW5kPXIucGlja2VyRmFjZUNvbG9yO2wucGFkLnN0eWxlLndpZHRoPW14SlNDb2xvci5pbWFnZXMucGFkWzBdKyJweCI7bC5wYWQuc3R5bGUuaGVpZ2h0PW14SlNDb2xvci5pbWFnZXMucGFkWzFdKyJweCI7bC5wYWRCLnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSI7bC5wYWRCLnN0eWxlLmxlZnQ9ci5waWNrZXJGYWNlKyJweCI7bC5wYWRCLnN0eWxlLnRvcD1yLnBpY2tlckZhY2UrInB4IjtsLnBhZEIuc3R5bGUuYm9yZGVyPXIucGlja2VySW5zZXQrInB4IHNvbGlkIjtsLnBhZEIuc3R5bGUuYm9yZGVyQ29sb3I9ci5waWNrZXJJbnNldENvbG9yOwpsLnBhZE0uc3R5bGUucG9zaXRpb249ImFic29sdXRlIjtsLnBhZE0uc3R5bGUubGVmdD0iMCI7bC5wYWRNLnN0eWxlLnRvcD0iMCI7bC5wYWRNLnN0eWxlLndpZHRoPXIucGlja2VyRmFjZSsyKnIucGlja2VySW5zZXQrbXhKU0NvbG9yLmltYWdlcy5wYWRbMF0rbXhKU0NvbG9yLmltYWdlcy5hcnJvd1swXSsicHgiO2wucGFkTS5zdHlsZS5oZWlnaHQ9bC5ib3guc3R5bGUuaGVpZ2h0O2wucGFkTS5zdHlsZS5jdXJzb3I9ImNyb3NzaGFpciI7bC5zbGQuc3R5bGUub3ZlcmZsb3c9ImhpZGRlbiI7bC5zbGQuc3R5bGUud2lkdGg9bXhKU0NvbG9yLmltYWdlcy5zbGRbMF0rInB4IjtsLnNsZC5zdHlsZS5oZWlnaHQ9bXhKU0NvbG9yLmltYWdlcy5zbGRbMV0rInB4IjtsLnNsZEIuc3R5bGUuZGlzcGxheT1yLnNsaWRlcj8iYmxvY2siOiJub25lIjtsLnNsZEIuc3R5bGUucG9zaXRpb249ImFic29sdXRlIjtsLnNsZEIuc3R5bGUucmlnaHQ9ci5waWNrZXJGYWNlKyJweCI7bC5zbGRCLnN0eWxlLnRvcD0Kci5waWNrZXJGYWNlKyJweCI7bC5zbGRCLnN0eWxlLmJvcmRlcj1yLnBpY2tlckluc2V0KyJweCBzb2xpZCI7bC5zbGRCLnN0eWxlLmJvcmRlckNvbG9yPXIucGlja2VySW5zZXRDb2xvcjtsLnNsZE0uc3R5bGUuZGlzcGxheT1yLnNsaWRlcj8iYmxvY2siOiJub25lIjtsLnNsZE0uc3R5bGUucG9zaXRpb249ImFic29sdXRlIjtsLnNsZE0uc3R5bGUucmlnaHQ9IjAiO2wuc2xkTS5zdHlsZS50b3A9IjAiO2wuc2xkTS5zdHlsZS53aWR0aD1teEpTQ29sb3IuaW1hZ2VzLnNsZFswXStteEpTQ29sb3IuaW1hZ2VzLmFycm93WzBdK3IucGlja2VyRmFjZSsyKnIucGlja2VySW5zZXQrInB4IjtsLnNsZE0uc3R5bGUuaGVpZ2h0PWwuYm94LnN0eWxlLmhlaWdodDt0cnl7bC5zbGRNLnN0eWxlLmN1cnNvcj0icG9pbnRlciJ9Y2F0Y2goRil7bC5zbGRNLnN0eWxlLmN1cnNvcj0iaGFuZCJ9bC5idG4uc3R5bGUuZGlzcGxheT1yLnBpY2tlckNsb3NhYmxlPyJibG9jayI6Im5vbmUiO2wuYnRuLnN0eWxlLnBvc2l0aW9uPQoiYWJzb2x1dGUiO2wuYnRuLnN0eWxlLmxlZnQ9ci5waWNrZXJGYWNlKyJweCI7bC5idG4uc3R5bGUuYm90dG9tPXIucGlja2VyRmFjZSsicHgiO2wuYnRuLnN0eWxlLnBhZGRpbmc9IjAgMTVweCI7bC5idG4uc3R5bGUuaGVpZ2h0PSIxOHB4IjtsLmJ0bi5zdHlsZS5ib3JkZXI9ci5waWNrZXJJbnNldCsicHggc29saWQiOyhmdW5jdGlvbigpe3ZhciBhPXIucGlja2VySW5zZXRDb2xvci5zcGxpdCgvXHMrLyk7bC5idG4uc3R5bGUuYm9yZGVyQ29sb3I9Mj5hLmxlbmd0aD9hWzBdOmFbMV0rIiAiK2FbMF0rIiAiK2FbMF0rIiAiK2FbMV19KSgpO2wuYnRuLnN0eWxlLmNvbG9yPXIucGlja2VyQnV0dG9uQ29sb3I7bC5idG4uc3R5bGUuZm9udD0iMTJweCBzYW5zLXNlcmlmIjtsLmJ0bi5zdHlsZS50ZXh0QWxpZ249ImNlbnRlciI7dHJ5e2wuYnRuLnN0eWxlLmN1cnNvcj0icG9pbnRlciJ9Y2F0Y2goRil7bC5idG4uc3R5bGUuY3Vyc29yPSJoYW5kIn1sLmJ0bi5vbm1vdXNlZG93bj1mdW5jdGlvbigpe3IuaGlkZVBpY2tlcigpfTsKbC5idG5TLnN0eWxlLmxpbmVIZWlnaHQ9bC5idG4uc3R5bGUuaGVpZ2h0O3N3aXRjaCh0KXtjYXNlIDA6dmFyIHE9ImhzLnBuZyI7YnJlYWs7Y2FzZSAxOnE9Imh2LnBuZyJ9bC5wYWRNLnN0eWxlLmJhY2tncm91bmRJbWFnZT0idXJsKGRhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCxSMGxHT0RsaER3QVBBS0VCQUFBQUFQLy8vLy8vLy8vLy95SDVCQUVLQUFJQUxBQUFBQUFQQUE4QUFBSWtsQjhReDUzYjRvdFNVV2N2eWl6NC80QWVRSmJtS1k0cDFISGFwQmx3UEwvdVZSc0ZBRHM9KSI7bC5wYWRNLnN0eWxlLmJhY2tncm91bmRSZXBlYXQ9Im5vLXJlcGVhdCI7bC5zbGRNLnN0eWxlLmJhY2tncm91bmRJbWFnZT0idXJsKGRhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCxSMGxHT0RsaEJ3QUxBS0VDQUFBQUFQLy8vNmc4ZUtnOGVDSDVCQUVLQUFJQUxBQUFBQUFIQUFzQUFBSVRUSVFZY0xuc2dHeHZpanJ4cWRRcTZEUkpBUUE3KSI7bC5zbGRNLnN0eWxlLmJhY2tncm91bmRSZXBlYXQ9Im5vLXJlcGVhdCI7CmwucGFkLnN0eWxlLmJhY2tncm91bmRJbWFnZT0idXJsKCciK214SlNDb2xvci5nZXREaXIoKStxKyInKSI7bC5wYWQuc3R5bGUuYmFja2dyb3VuZFJlcGVhdD0ibm8tcmVwZWF0IjtsLnBhZC5zdHlsZS5iYWNrZ3JvdW5kUG9zaXRpb249IjAgMCI7ZigpO2coKTtteEpTQ29sb3IucGlja2VyLm93bmVyPXI7ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImJvZHkiKVswXS5hcHBlbmRDaGlsZChsLmJveEIpfWZ1bmN0aW9uIGUoYSl7cmV0dXJuWzIqYS5waWNrZXJJbnNldCsyKmEucGlja2VyRmFjZStteEpTQ29sb3IuaW1hZ2VzLnBhZFswXSsoYS5zbGlkZXI/MiphLnBpY2tlckluc2V0KzIqbXhKU0NvbG9yLmltYWdlcy5hcnJvd1swXStteEpTQ29sb3IuaW1hZ2VzLnNsZFswXTowKSxhLnBpY2tlckNsb3NhYmxlPzQqYS5waWNrZXJJbnNldCszKmEucGlja2VyRmFjZStteEpTQ29sb3IuaW1hZ2VzLnBhZFsxXSthLnBpY2tlckJ1dHRvbkhlaWdodDoyKmEucGlja2VySW5zZXQrMioKYS5waWNrZXJGYWNlK214SlNDb2xvci5pbWFnZXMucGFkWzFdXX1mdW5jdGlvbiBmKCl7c3dpdGNoKHQpe2Nhc2UgMDp2YXIgYT0xO2JyZWFrO2Nhc2UgMTphPTJ9bXhKU0NvbG9yLnBpY2tlci5wYWRNLnN0eWxlLmJhY2tncm91bmRQb3NpdGlvbj1yLnBpY2tlckZhY2Urci5waWNrZXJJbnNldCtNYXRoLnJvdW5kKHIuaHN2WzBdLzYqKG14SlNDb2xvci5pbWFnZXMucGFkWzBdLTEpKS1NYXRoLmZsb29yKG14SlNDb2xvci5pbWFnZXMuY3Jvc3NbMF0vMikrInB4ICIrKHIucGlja2VyRmFjZStyLnBpY2tlckluc2V0K01hdGgucm91bmQoKDEtci5oc3ZbYV0pKihteEpTQ29sb3IuaW1hZ2VzLnBhZFsxXS0xKSktTWF0aC5mbG9vcihteEpTQ29sb3IuaW1hZ2VzLmNyb3NzWzFdLzIpKSsicHgiO2E9bXhKU0NvbG9yLnBpY2tlci5zbGQuY2hpbGROb2Rlcztzd2l0Y2godCl7Y2FzZSAwOmZvcih2YXIgYj1jKHIuaHN2WzBdLHIuaHN2WzFdLDEpLGQ9MDtkPGEubGVuZ3RoO2QrPTEpYVtkXS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9CiJyZ2IoIitiWzBdKigxLWQvYS5sZW5ndGgpKjEwMCsiJSwiK2JbMV0qKDEtZC9hLmxlbmd0aCkqMTAwKyIlLCIrYlsyXSooMS1kL2EubGVuZ3RoKSoxMDArIiUpIjticmVhaztjYXNlIDE6dmFyIGUsZj1bci5oc3ZbMl0sMCwwXSxkPU1hdGguZmxvb3Ioci5oc3ZbMF0pLGc9ZCUyP3IuaHN2WzBdLWQ6MS0oci5oc3ZbMF0tZCk7c3dpdGNoKGQpe2Nhc2UgNjpjYXNlIDA6Yj1bMCwxLDJdO2JyZWFrO2Nhc2UgMTpiPVsxLDAsMl07YnJlYWs7Y2FzZSAyOmI9WzIsMCwxXTticmVhaztjYXNlIDM6Yj1bMiwxLDBdO2JyZWFrO2Nhc2UgNDpiPVsxLDIsMF07YnJlYWs7Y2FzZSA1OmI9WzAsMiwxXX1mb3IoZD0wO2Q8YS5sZW5ndGg7ZCs9MSllPTEtMS8oYS5sZW5ndGgtMSkqZCxmWzFdPWZbMF0qKDEtZSpnKSxmWzJdPWZbMF0qKDEtZSksYVtkXS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9InJnYigiKzEwMCpmW2JbMF1dKyIlLCIrMTAwKmZbYlsxXV0rIiUsIisxMDAqZltiWzJdXSsiJSkifX1mdW5jdGlvbiBnKCl7c3dpdGNoKHQpe2Nhc2UgMDp2YXIgYT0KMjticmVhaztjYXNlIDE6YT0xfW14SlNDb2xvci5waWNrZXIuc2xkTS5zdHlsZS5iYWNrZ3JvdW5kUG9zaXRpb249IjAgIisoci5waWNrZXJGYWNlK3IucGlja2VySW5zZXQrTWF0aC5yb3VuZCgoMS1yLmhzdlthXSkqKG14SlNDb2xvci5pbWFnZXMuc2xkWzFdLTEpKS1NYXRoLmZsb29yKG14SlNDb2xvci5pbWFnZXMuYXJyb3dbMV0vMikpKyJweCJ9ZnVuY3Rpb24gaygpe3JldHVybiBteEpTQ29sb3IucGlja2VyJiZteEpTQ29sb3IucGlja2VyLm93bmVyPT09cn1mdW5jdGlvbiBsKCl7dSE9PWEmJnIuaW1wb3J0Q29sb3IoKX1mdW5jdGlvbiBtKGEpe3ZhciBiPW14SlNDb2xvci5nZXRSZWxNb3VzZVBvcyhhKTthPWIueC1yLnBpY2tlckZhY2Utci5waWNrZXJJbnNldDtiPWIueS1yLnBpY2tlckZhY2Utci5waWNrZXJJbnNldDtzd2l0Y2godCl7Y2FzZSAwOnIuZnJvbUhTVig2LyhteEpTQ29sb3IuaW1hZ2VzLnBhZFswXS0xKSphLDEtYi8obXhKU0NvbG9yLmltYWdlcy5wYWRbMV0tCjEpLG51bGwsdik7YnJlYWs7Y2FzZSAxOnIuZnJvbUhTVig2LyhteEpTQ29sb3IuaW1hZ2VzLnBhZFswXS0xKSphLG51bGwsMS1iLyhteEpTQ29sb3IuaW1hZ2VzLnBhZFsxXS0xKSx2KX19ZnVuY3Rpb24gbihhKXthPW14SlNDb2xvci5nZXRSZWxNb3VzZVBvcyhhKS55LXIucGlja2VyRmFjZS1yLnBpY2tlckluc2V0O3N3aXRjaCh0KXtjYXNlIDA6ci5mcm9tSFNWKG51bGwsbnVsbCwxLWEvKG14SlNDb2xvci5pbWFnZXMuc2xkWzFdLTEpLEMpO2JyZWFrO2Nhc2UgMTpyLmZyb21IU1YobnVsbCwxLWEvKG14SlNDb2xvci5pbWFnZXMuc2xkWzFdLTEpLG51bGwsQyl9fWZ1bmN0aW9uIHAoKXtpZihyLm9uSW1tZWRpYXRlQ2hhbmdlKWlmKCJzdHJpbmciPT09dHlwZW9mIHIub25JbW1lZGlhdGVDaGFuZ2UpZXZhbChyLm9uSW1tZWRpYXRlQ2hhbmdlKTtlbHNlIHIub25JbW1lZGlhdGVDaGFuZ2Uocil9dGhpcy5hZGp1c3Q9dGhpcy5yZXF1aXJlZD0hMDt0aGlzLmhhc2g9ITE7dGhpcy5zbGlkZXI9CnRoaXMuY2Fwcz0hMDt0aGlzLnN0eWxlRWxlbWVudD10aGlzLnZhbHVlRWxlbWVudD1hO3RoaXMub25JbW1lZGlhdGVDaGFuZ2U9bnVsbDt0aGlzLmhzdj1bMCwwLDFdO3RoaXMucmdiPVsxLDEsMV07dGhpcy5waWNrZXJPbmZvY3VzPSEwO3RoaXMucGlja2VyTW9kZT0iSFNWIjt0aGlzLnBpY2tlclBvc2l0aW9uPSJib3R0b20iO3RoaXMucGlja2VyU21hcnRQb3NpdGlvbj0hMDt0aGlzLnBpY2tlckJ1dHRvbkhlaWdodD0yMDt0aGlzLnBpY2tlckNsb3NhYmxlPSExO3RoaXMucGlja2VyQ2xvc2VUZXh0PSJDbG9zZSI7dGhpcy5waWNrZXJCdXR0b25Db2xvcj0iQnV0dG9uVGV4dCI7dGhpcy5waWNrZXJGYWNlPTA7dGhpcy5waWNrZXJGYWNlQ29sb3I9IlRocmVlREZhY2UiO3RoaXMucGlja2VyQm9yZGVyPTE7dGhpcy5waWNrZXJCb3JkZXJDb2xvcj0iVGhyZWVESGlnaGxpZ2h0IFRocmVlRFNoYWRvdyBUaHJlZURTaGFkb3cgVGhyZWVESGlnaGxpZ2h0Ijt0aGlzLnBpY2tlckluc2V0PQoxO3RoaXMucGlja2VySW5zZXRDb2xvcj0iVGhyZWVEU2hhZG93IFRocmVlREhpZ2hsaWdodCBUaHJlZURIaWdobGlnaHQgVGhyZWVEU2hhZG93Ijt0aGlzLnBpY2tlclpJbmRleD0xRTQ7Zm9yKHZhciBxIGluIGIpYi5oYXNPd25Qcm9wZXJ0eShxKSYmKHRoaXNbcV09YltxXSk7dGhpcy5oaWRlUGlja2VyPWZ1bmN0aW9uKCl7aygpJiYoZGVsZXRlIG14SlNDb2xvci5waWNrZXIub3duZXIsZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImJvZHkiKVswXS5yZW1vdmVDaGlsZChteEpTQ29sb3IucGlja2VyLmJveEIpKX07dGhpcy5zaG93UGlja2VyPWZ1bmN0aW9uKCl7aygpfHwobXhKU0NvbG9yLmdldEVsZW1lbnRQb3MoYSksbXhKU0NvbG9yLmdldEVsZW1lbnRTaXplKGEpLG14SlNDb2xvci5nZXRWaWV3UG9zKCksbXhKU0NvbG9yLmdldFZpZXdTaXplKCksZSh0aGlzKSx0aGlzLnBpY2tlclBvc2l0aW9uLnRvTG93ZXJDYXNlKCksZCgwLDApKX07dGhpcy5pbXBvcnRDb2xvcj0KZnVuY3Rpb24oKXt1P3RoaXMuYWRqdXN0PyF0aGlzLnJlcXVpcmVkJiYvXlxzKiQvLnRlc3QodS52YWx1ZSk/KHUudmFsdWU9IiIseC5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2U9eC5qc2NTdHlsZS5iYWNrZ3JvdW5kSW1hZ2UseC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9eC5qc2NTdHlsZS5iYWNrZ3JvdW5kQ29sb3IseC5zdHlsZS5jb2xvcj14LmpzY1N0eWxlLmNvbG9yLHRoaXMuZXhwb3J0Q29sb3IoQXx6KSk6dGhpcy5mcm9tU3RyaW5nKHUudmFsdWUpfHx0aGlzLmV4cG9ydENvbG9yKCk6dGhpcy5mcm9tU3RyaW5nKHUudmFsdWUsQSl8fCh4LnN0eWxlLmJhY2tncm91bmRJbWFnZT14LmpzY1N0eWxlLmJhY2tncm91bmRJbWFnZSx4LnN0eWxlLmJhY2tncm91bmRDb2xvcj14LmpzY1N0eWxlLmJhY2tncm91bmRDb2xvcix4LnN0eWxlLmNvbG9yPXguanNjU3R5bGUuY29sb3IsdGhpcy5leHBvcnRDb2xvcihBfHopKTp0aGlzLmV4cG9ydENvbG9yKCl9O3RoaXMuZXhwb3J0Q29sb3I9ZnVuY3Rpb24oYSl7aWYoIShhJgpBKSYmdSl7dmFyIGI9dGhpcy50b1N0cmluZygpO3RoaXMuY2FwcyYmKGI9Yi50b1VwcGVyQ2FzZSgpKTt0aGlzLmhhc2gmJihiPSIjIitiKTt1LnZhbHVlPWJ9YSZ6fHwheHx8KHguc3R5bGUuYmFja2dyb3VuZEltYWdlPSJub25lIix4LnN0eWxlLmJhY2tncm91bmRDb2xvcj0iIyIrdGhpcy50b1N0cmluZygpLHguc3R5bGUuY29sb3I9LjU+LjIxMyp0aGlzLnJnYlswXSsuNzE1KnRoaXMucmdiWzFdKy4wNzIqdGhpcy5yZ2JbMl0/IiNGRkYiOiIjMDAwIik7YSZDfHwhaygpfHxmKCk7YSZ2fHwhaygpfHxnKCl9O3RoaXMuZnJvbUhTVj1mdW5jdGlvbihhLGIsZCxlKXswPmEmJihhPTApOzY8YSYmKGE9Nik7MD5iJiYoYj0wKTsxPGImJihiPTEpOzA+ZCYmKGQ9MCk7MTxkJiYoZD0xKTt0aGlzLnJnYj1jKG51bGw9PT1hP3RoaXMuaHN2WzBdOnRoaXMuaHN2WzBdPWEsbnVsbD09PWI/dGhpcy5oc3ZbMV06dGhpcy5oc3ZbMV09YixudWxsPT09ZD90aGlzLmhzdlsyXTp0aGlzLmhzdlsyXT0KZCk7dGhpcy5leHBvcnRDb2xvcihlKX07dGhpcy5mcm9tUkdCPWZ1bmN0aW9uKGEsYixjLGQpezA+YSYmKGE9MCk7MTxhJiYoYT0xKTswPmImJihiPTApOzE8YiYmKGI9MSk7MD5jJiYoYz0wKTsxPGMmJihjPTEpO2E9bnVsbD09PWE/dGhpcy5yZ2JbMF06dGhpcy5yZ2JbMF09YTtiPW51bGw9PT1iP3RoaXMucmdiWzFdOnRoaXMucmdiWzFdPWI7dmFyIGU9bnVsbD09PWM/dGhpcy5yZ2JbMl06dGhpcy5yZ2JbMl09YyxmPU1hdGgubWluKE1hdGgubWluKGEsYiksZSk7Yz1NYXRoLm1heChNYXRoLm1heChhLGIpLGUpO3ZhciBnPWMtZjswPT09Zz9hPVtudWxsLDAsY106KGE9YT09PWY/MysoZS1iKS9nOmI9PT1mPzUrKGEtZSkvZzoxKyhiLWEpL2csYT1bNj09PWE/MDphLGcvYyxjXSk7bnVsbCE9PWFbMF0mJih0aGlzLmhzdlswXT1hWzBdKTswIT09YVsyXSYmKHRoaXMuaHN2WzFdPWFbMV0pO3RoaXMuaHN2WzJdPWFbMl07dGhpcy5leHBvcnRDb2xvcihkKX07dGhpcy5mcm9tU3RyaW5nPQpmdW5jdGlvbihhLGIpe3ZhciBjPWEubWF0Y2goL15cVyooWzAtOUEtRl17M30oWzAtOUEtRl17M30pPylcVyokL2kpO3JldHVybiBjPyg2PT09Y1sxXS5sZW5ndGg/dGhpcy5mcm9tUkdCKHBhcnNlSW50KGNbMV0uc3Vic3RyKDAsMiksMTYpLzI1NSxwYXJzZUludChjWzFdLnN1YnN0cigyLDIpLDE2KS8yNTUscGFyc2VJbnQoY1sxXS5zdWJzdHIoNCwyKSwxNikvMjU1LGIpOnRoaXMuZnJvbVJHQihwYXJzZUludChjWzFdLmNoYXJBdCgwKStjWzFdLmNoYXJBdCgwKSwxNikvMjU1LHBhcnNlSW50KGNbMV0uY2hhckF0KDEpK2NbMV0uY2hhckF0KDEpLDE2KS8yNTUscGFyc2VJbnQoY1sxXS5jaGFyQXQoMikrY1sxXS5jaGFyQXQoMiksMTYpLzI1NSxiKSwhMCk6ITF9O3RoaXMudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4oMjU2fE1hdGgucm91bmQoMjU1KnRoaXMucmdiWzBdKSkudG9TdHJpbmcoMTYpLnN1YnN0cigxKSsoMjU2fE1hdGgucm91bmQoMjU1KnRoaXMucmdiWzFdKSkudG9TdHJpbmcoMTYpLnN1YnN0cigxKSsKKDI1NnxNYXRoLnJvdW5kKDI1NSp0aGlzLnJnYlsyXSkpLnRvU3RyaW5nKDE2KS5zdWJzdHIoMSl9O3ZhciByPXRoaXMsdD0iaHZzIj09PXRoaXMucGlja2VyTW9kZS50b0xvd2VyQ2FzZSgpPzE6MCx1PW14SlNDb2xvci5mZXRjaEVsZW1lbnQodGhpcy52YWx1ZUVsZW1lbnQpLHg9bXhKU0NvbG9yLmZldGNoRWxlbWVudCh0aGlzLnN0eWxlRWxlbWVudCkseT0hMSxCPSExLEE9MSx6PTIsQz00LHY9ODt1JiYocT1mdW5jdGlvbigpe3IuZnJvbVN0cmluZyh1LnZhbHVlLEEpO3AoKX0sbXhKU0NvbG9yLmFkZEV2ZW50KHUsImtleXVwIixxKSxteEpTQ29sb3IuYWRkRXZlbnQodSwiaW5wdXQiLHEpLG14SlNDb2xvci5hZGRFdmVudCh1LCJibHVyIixsKSx1LnNldEF0dHJpYnV0ZSgiYXV0b2NvbXBsZXRlIiwib2ZmIikpO3gmJih4LmpzY1N0eWxlPXtiYWNrZ3JvdW5kSW1hZ2U6eC5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UsYmFja2dyb3VuZENvbG9yOnguc3R5bGUuYmFja2dyb3VuZENvbG9yLApjb2xvcjp4LnN0eWxlLmNvbG9yfSk7c3dpdGNoKHQpe2Nhc2UgMDpteEpTQ29sb3IucmVxdWlyZUltYWdlKCJocy5wbmciKTticmVhaztjYXNlIDE6bXhKU0NvbG9yLnJlcXVpcmVJbWFnZSgiaHYucG5nIil9dGhpcy5pbXBvcnRDb2xvcigpfX07bXhKU0NvbG9yLmluc3RhbGwoKTsKRWRpdG9yPWZ1bmN0aW9uKGEsZCxmLGMsbSl7bXhFdmVudFNvdXJjZS5jYWxsKHRoaXMpO3RoaXMuY2hyb21lbGVzcz1udWxsIT1hP2E6dGhpcy5jaHJvbWVsZXNzO3RoaXMuaW5pdFN0ZW5jaWxSZWdpc3RyeSgpO3RoaXMuZ3JhcGg9Y3x8dGhpcy5jcmVhdGVHcmFwaChkLGYpO3RoaXMuZWRpdGFibGU9bnVsbCE9bT9tOiFhO3RoaXMudW5kb01hbmFnZXI9dGhpcy5jcmVhdGVVbmRvTWFuYWdlcigpO3RoaXMuc3RhdHVzPSIiO3RoaXMuZ2V0T3JDcmVhdGVGaWxlbmFtZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmZpbGVuYW1lfHxteFJlc291cmNlcy5nZXQoImRyYXdpbmciLFtFZGl0b3IucGFnZUNvdW50ZXJdKSsiLnhtbCJ9O3RoaXMuZ2V0RmlsZW5hbWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5maWxlbmFtZX07dGhpcy5zZXRTdGF0dXM9ZnVuY3Rpb24oYSl7dGhpcy5zdGF0dXM9YTt0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdCgic3RhdHVzQ2hhbmdlZCIpKX07dGhpcy5nZXRTdGF0dXM9CmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhdHVzfTt0aGlzLmdyYXBoQ2hhbmdlTGlzdGVuZXI9ZnVuY3Rpb24oYSxjKXt2YXIgYj1udWxsIT1jP2MuZ2V0UHJvcGVydHkoImVkaXQiKTpudWxsO251bGwhPWImJmIuaWdub3JlRWRpdHx8dGhpcy5zZXRNb2RpZmllZCghMCl9O3RoaXMuZ3JhcGguZ2V0TW9kZWwoKS5hZGRMaXN0ZW5lcihteEV2ZW50LkNIQU5HRSxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMuZ3JhcGhDaGFuZ2VMaXN0ZW5lci5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KSk7dGhpcy5ncmFwaC5yZXNldFZpZXdPblJvb3RDaGFuZ2U9ITE7dGhpcy5pbml0KCl9O0VkaXRvci5wYWdlQ291bnRlcj0wOwooZnVuY3Rpb24oKXt0cnl7Zm9yKHZhciBhPXdpbmRvdztudWxsIT1hLm9wZW5lciYmInVuZGVmaW5lZCIhPT10eXBlb2YgYS5vcGVuZXIuRWRpdG9yJiYhaXNOYU4oYS5vcGVuZXIuRWRpdG9yLnBhZ2VDb3VudGVyKSYmYS5vcGVuZXIhPWE7KWE9YS5vcGVuZXI7bnVsbCE9YSYmKGEuRWRpdG9yLnBhZ2VDb3VudGVyKyssRWRpdG9yLnBhZ2VDb3VudGVyPWEuRWRpdG9yLnBhZ2VDb3VudGVyKX1jYXRjaChkKXt9fSkoKTtFZGl0b3IudXNlTG9jYWxTdG9yYWdlPSJ1bmRlZmluZWQiIT10eXBlb2YgU3RvcmFnZSYmbXhDbGllbnQuSVNfSU9TOwpFZGl0b3IubW92ZUltYWdlPW14Q2xpZW50LklTX1NWRz8iZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQSE4yWnlCNGJXeHVjejBpYUhSMGNEb3ZMM2QzZHk1M015NXZjbWN2TWpBd01DOXpkbWNpSUhacFpYZENiM2c5SWpBZ01DQXlOQ0F5TkNJZ2QybGtkR2c5SWpJNGNIZ2lJR2hsYVdkb2REMGlNamh3ZUNJK1BHYytQQzluUGp4blBqeG5QanhuUGp4d1lYUm9JSFJ5WVc1elptOXliVDBpZEhKaGJuTnNZWFJsS0RJdU5Dd3lMalFwYzJOaGJHVW9NQzQ0S1hKdmRHRjBaU2cwTlN3eE1pd3hNaWtpSUhOMGNtOXJaVDBpSXpJNVlqWm1NaUlnWm1sc2JEMGlJekk1WWpabU1pSWdaRDBpVFRFMUxETnNNaTR6TERJdU0yd3RNaTQ0T1N3eUxqZzNiREV1TkRJc01TNDBNa3d4T0M0M0xEWXVOMHd5TVN3NVZqTklNVFY2SUUwekxEbHNNaTR6TFRJdU0yd3lMamczTERJdU9EbHNNUzQwTWkweExqUXlURFl1Tnl3MUxqTk1PU3d6U0ROV09Yb2dUVGtzTWpFZ2JDMHlMak10TWk0emJESXVPRGt0TWk0NE4yd3RNUzQwTWkweExqUXlURFV1TXl3eE55NHpURE1zTVRWMk5rZzVlaUJOTWpFc01UVnNMVEl1TXl3eUxqTnNMVEl1T0RjdE1pNDRPV3d0TVM0ME1pd3hMalF5YkRJdU9Ea3NNaTQ0TjB3eE5Td3lNV2cyVmpFMWVpSXZQand2Wno0OEwyYytQQzluUGp3dmMzWm5QZ289IjpJTUFHRV9QQVRIKwoiL21vdmUucG5nIjtFZGl0b3Iucm93TW92ZUltYWdlPW14Q2xpZW50LklTX1NWRz8iZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFBY0FBQUFFQkFNQUFBQ3c2RGhPQUFBQUdGQk1WRVV6TXpQLy8vOXRiVzFRVUZDS2lvcEJRVUY4Zkh4ZlgxL0lYbG1YQUFBQUZFbEVRVlFJbVdOZ05WZHpZQkFVRkJSZ2dMTUFFellCeTI5a0VQZ0FBQUFBU1VWT1JLNUNZSUk9IjpJTUFHRV9QQVRIKyIvdGh1bWJfaG9yei5wbmciOwpFZGl0b3IuaGVscEltYWdlPW14Q2xpZW50LklTX1NWRz8iZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQSE4yWnlCNGJXeHVjejBpYUhSMGNEb3ZMM2QzZHk1M015NXZjbWN2TWpBd01DOXpkbWNpSUhkcFpIUm9QU0l5TkNJZ2FHVnBaMmgwUFNJeU5DSWdkbWxsZDBKdmVEMGlNQ0F3SURJMElESTBJajQ4Y0dGMGFDQm1hV3hzUFNKdWIyNWxJaUJrUFNKTk1DQXdhREkwZGpJMFNEQjZJaTgrUEhCaGRHZ2daRDBpVFRFeElERTRhREoyTFRKb0xUSjJNbnB0TVMweE5rTTJMalE0SURJZ01pQTJMalE0SURJZ01USnpOQzQwT0NBeE1DQXhNQ0F4TUNBeE1DMDBMalE0SURFd0xURXdVekUzTGpVeUlESWdNVElnTW5wdE1DQXhPR010TkM0ME1TQXdMVGd0TXk0MU9TMDRMVGh6TXk0MU9TMDRJRGd0T0NBNElETXVOVGtnT0NBNExUTXVOVGtnT0MwNElEaDZiVEF0TVRSakxUSXVNakVnTUMwMElERXVOemt0TkNBMGFESmpNQzB4TGpFdU9TMHlJREl0TW5NeUlDNDVJRElnTW1Nd0lESXRNeUF4TGpjMUxUTWdOV2d5WXpBdE1pNHlOU0F6TFRJdU5TQXpMVFVnTUMweUxqSXhMVEV1TnprdE5DMDBMVFI2SWk4K1BDOXpkbWMrIjpJTUFHRV9QQVRIKwoiL2hlbHAucG5nIjsKRWRpdG9yLmNoZWNrbWFya0ltYWdlPW14Q2xpZW50LklTX1NWRz8iZGF0YTppbWFnZS9naWY7YmFzZTY0LFIwbEdPRGxoRlFBVkFNUWZBR3hzYkh4OGZJcUtpb2FHaHZiMjluSnljdnI2K3NEQXdKcWFtbHRiVzVPVGsrbnA2WUdCZ2VUazVMeTh2SmlZbVAzOS9mTHk4cVdscGE2dXJzakl5T0xpNHZqNCtOL2YzKzN0N2ZUMDlMQ3dzSFoyZHVibTVyNit2bVptWnYvLy95SC9DMWhOVUNCRVlYUmhXRTFRUEQ5NGNHRmphMlYwSUdKbFoybHVQU0x2dTc4aUlHbGtQU0pYTlUwd1RYQkRaV2hwU0hweVpWTjZUbFJqZW10ak9XUWlQejRnUEhnNmVHMXdiV1YwWVNCNGJXeHVjenA0UFNKaFpHOWlaVHB1Y3pwdFpYUmhMeUlnZURwNGJYQjBhejBpUVdSdlltVWdXRTFRSUVOdmNtVWdOUzR3TFdNd05qQWdOakV1TVRNME56YzNMQ0F5TURFd0x6QXlMekV5TFRFM09qTXlPakF3SUNBZ0lDQWdJQ0FpUGlBOGNtUm1PbEpFUmlCNGJXeHVjenB5WkdZOUltaDBkSEE2THk5M2QzY3Vkek11YjNKbkx6RTVPVGt2TURJdk1qSXRjbVJtTFhONWJuUmhlQzF1Y3lNaVBpQThjbVJtT2tSbGMyTnlhWEIwYVc5dUlISmtaanBoWW05MWREMGlJaUI0Yld4dWN6cDRiWEE5SW1oMGRIQTZMeTl1Y3k1aFpHOWlaUzVqYjIwdmVHRndMekV1TUM4aUlIaHRiRzV6T25odGNFMU5QU0pvZEhSd09pOHZibk11WVdSdlltVXVZMjl0TDNoaGNDOHhMakF2YlcwdklpQjRiV3h1Y3pwemRGSmxaajBpYUhSMGNEb3ZMMjV6TG1Ga2IySmxMbU52YlM5NFlYQXZNUzR3TDNOVWVYQmxMMUpsYzI5MWNtTmxVbVZtSXlJZ2VHMXdPa055WldGMGIzSlViMjlzUFNKQlpHOWlaU0JRYUc5MGIzTm9iM0FnUTFNMUlGZHBibVJ2ZDNNaUlIaHRjRTFOT2tsdWMzUmhibU5sU1VROUluaHRjQzVwYVdRNk9FWTROVFpFUlRRNVFVRkJNVEZGTVVFNU1UVkRPVE01TVVaR01URTNNMFFpSUhodGNFMU5Pa1J2WTNWdFpXNTBTVVE5SW5odGNDNWthV1E2T0VZNE5UWkVSVFU1UVVGQk1URkZNVUU1TVRWRE9UTTVNVVpHTVRFM00wUWlQaUE4ZUcxd1RVMDZSR1Z5YVhabFpFWnliMjBnYzNSU1pXWTZhVzV6ZEdGdVkyVkpSRDBpZUcxd0xtbHBaRG80UmpnMU5rUkZNamxCUVVFeE1VVXhRVGt4TlVNNU16a3hSa1l4TVRjelJDSWdjM1JTWldZNlpHOWpkVzFsYm5SSlJEMGllRzF3TG1ScFpEbzRSamcxTmtSRk16bEJRVUV4TVVVeFFUa3hOVU01TXpreFJrWXhNVGN6UkNJdlBpQThMM0prWmpwRVpYTmpjbWx3ZEdsdmJqNGdQQzl5WkdZNlVrUkdQaUE4TDNnNmVHMXdiV1YwWVQ0Z1BEOTRjR0ZqYTJWMElHVnVaRDBpY2lJL1BnSC8vdjM4Ky9yNStQZjI5ZlR6OHZIdzcrN3Q3T3ZxNmVqbjV1WGs0K0xoNE4vZTNkemIydG5ZMTliVjFOUFMwZERQenMzTXk4ckp5TWZHeGNURHdzSEF2NzY5dkx1NnViaTN0clcwczdLeHNLK3VyYXlycXFtb3A2YWxwS09pb2FDZm5wMmNtNXFabUplV2xaU1RrcEdRajQ2TmpJdUtpWWlIaG9XRWc0S0JnSDkrZlh4N2VubDRkM1oxZEhOeWNYQnZibTFzYTJwcGFHZG1aV1JqWW1GZ1gxNWRYRnRhV1ZoWFZsVlVVMUpSVUU5T1RVeExTa2xJUjBaRlJFTkNRVUEvUGowOE96bzVPRGMyTlRRek1qRXdMeTR0TENzcUtTZ25KaVVrSXlJaElCOGVIUndiR2hrWUZ4WVZGQk1TRVJBUERnME1Dd29KQ0FjR0JRUURBZ0VBQUNINUJBRUFBQjhBTEFBQUFBQVZBQlVBQUFWSTRDZU9aR21lYUtxdWJLdHlsa3RTZ0NPTFJ5TGQzK1FKRUpuaDRWSGNNb09mWVFYUUxCY0JENFBBNm5nR2xJSW5FSEVoUE9BTlJrYUlGaHE4U3VIQ0UxSGI4TGg4TGdzQkFEcz0iOklNQUdFX1BBVEgrCiIvY2hlY2ttYXJrLmdpZiI7RWRpdG9yLm1heGltaXplSW1hZ2U9ImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQlVBQUFBVkJBTUFBQUJiT2JpbEFBQUFFbEJNVkVVQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFEZ0t4bWlBQUFBQlhSU1RsTUE3NTh2WDFQdzNCb0FBQUJKU1VSQlZBalhZOEFKUWtPREdCaFVRME1oYkFVR0JpWVkyNENCZ1JuR0ZtWmdNSVN3Z3d3REdSaEVoVlZCYkFWbUVRWUdSd01tQmpJQVFpL0NUSVJkNkc1QXVBM2R6WVFCQUhqMEVGZEhrdlY0QUFBQUFFbEZUa1N1UW1DQyI7RWRpdG9yLnpvb21PdXRJbWFnZT0iZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFCVUFBQUFWQkFNQUFBQmJPYmlsQUFBQUVsQk1WRVVBQUFBQUFBQXNMQ3h4Y1hFaElTRmdZR0NoalRVeEFBQUFBWFJTVGxNQVFPYllaZ0FBQUVkSlJFRlVDTmRqSUFNd0NRckIyWUtDZ2dKUUpxTXdBN01nbEsxb3dNQmdxQUJWQXBJVGdMSlpYRnhnYklRNFFqM0NISVQ1Z2dvSWU1a2dOa00xS1NEWUtCS3F4UGtEQVBvNUJBWkJFNTRoQUFBQUFFbEZUa1N1UW1DQyI7CkVkaXRvci56b29tSW5JbWFnZT0iZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFCVUFBQUFWQkFNQUFBQmJPYmlsQUFBQUVsQk1WRVVBQUFBQUFBQXNMQ3doSVNGeGNYRmdZR0Jhdkthb0FBQUFBWFJTVGxNQVFPYllaZ0FBQUVsSlJFRlVDTmRqSUFNd0NRckIyWUtDZ2dKUUpxTUlBNHNnbEszb3dNemdxQUJWd3NETXdDZ0FaVE1iRzhQWUNIR0Vlb1E1Q1BNRkZSRDJNa0ZzaG1wU1FMQlJKRlNKOHdjQUVxY0VNMnVobDJNQUFBQUFTVVZPUks1Q1lJST0iO0VkaXRvci56b29tRml0SW1hZ2U9ImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQlVBQUFBVkJBTUFBQUJiT2JpbEFBQUFEMUJNVkVVQUFBQUFBQUF3TURCd2NIQmdZR0MxeGwwOUFBQUFBWFJTVGxNQVFPYllaZ0FBQUVGSlJFRlVDTmRqSUFNd0NRckIyWUtDZ2dKUUpxTXdBN01nbEsxb3dNQmdxQUJWQXBJVHdNZEdxRWVZZ3pCZlVBRmhMeFBFWnFnbUJRUWJSVUtGT0g4QUFLNU9BM2xBK0ZGT0FBQUFBRWxGVGtTdVFtQ0MiOwpFZGl0b3IubGF5ZXJzSW1hZ2U9ImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQlVBQUFBVkNBTUFBQUNleVZXa0FBQUFhVkJNVkVVQUFBQWdJQ0FJQ0FnZEhSMFBEdzhXRmhZSUNBZ0xDd3NYRnhjdkx5OE9EZzR1TGk0aUlpSXFLaW9rSkNRWUdCZ0tDZ29uSnljRkJRVUNBZ0lxS2lvY0hCd2NIQndPRGc0ZUhoNGNIQnduSnljSkNRa1VGQlFxS2lvakl5TXVMaTRaR1JrZ0lDQUVCQVRPV1lYQUFBQUFHblJTVGxNQUQ3K2ZuejgvSDcvZmYxOC83Nyt2cjUrZm4zOS9iMjhmSDJ4U29Lc0FBQUNRU1VSQlZCalRyWXhKRXNNZ0RBUlpaTUFZNzNzZ0Njbi9IeG5oS3RuazdqNm9ScTBwc2Z1b3luZFovU3VPRGtIUEx6ZlZUNktleVBlUG5KN0tybmtSaldNWFRuNFNNbk44bVhlMlNTTTN0czhML1pVeHhyYkFVTFNZSkpVTEUwSXc5cGpwZW5vSUNjZ2NYNjFtR2dUZ3RDdjlCZTk5cHpDb0RoTlFXUW5jaEQxbXVwNSsrQ1lHY29RZXhhalpiZndBai8wTUQ4Wk9hVWdBQUFBQVNVVk9SSzVDWUlJPSI7CkVkaXRvci5wcmV2aW91c0ltYWdlPSJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUJRQUFBQVVDQVlBQUFDTmlSME5BQUFBQm1KTFIwUUEvd0QvQVArZ3ZhZVRBQUFBaDBsRVFWUTRqZTNVc1FuQ1VCQ0E0VThocGExTnNvRWpwSFFKUzBkeEFEZHdFTXVNSUprZ0ExaFlDaGJHUWdNaStKQzhxNEwvQUIvdkR1N3g3NGNXV0VaaEpVNDRSbUExenVqUjVHSWJYRjlZTnJqRC9RMGJEUlk0ZkVCWjRQNExsZ1RuQ2JBZjg0cFVNOC85aFkwOHRNVXRFb1ExTHBFZ3JOQkZnbENoRlhSNlE2R2Z3d1I2QUdLSk1GNzRWdHQzQUFBQUFFbEZUa1N1UW1DQyI7RWRpdG9yLm5leHRJbWFnZT0iZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFCUUFBQUFVQ0FZQUFBQ05pUjBOQUFBQUJtSkxSMFFBL3dEL0FQK2d2YWVUQUFBQWkwbEVRVlE0amVYVUlRN0NVQXdBME1lR3hXSTJ5eWx3bkFMSlVkQmNnWXZNN1FZTG1qT1FJQWtJUG1KWmdoaUl2eXBvVXRYMHRmbkpMMzhYNVpmYUVnVWVVY01hbkZCSGdTMFNMbGhIZ2drM2JDUEJoQ2Yya2VDUVI4d2p3WVREcDZZaVp4Sm1PVTFqR3c3dkdBTGVzY3VCeHNBck5sT3dkL0NNMVZTTS91dDFxQ0l3K3VPd2lNSitPRjRDUXpCQ1htM2h5QUFBQUFCSlJVNUVya0pnZ2c9PSI7CkVkaXRvci5lZGl0SW1hZ2U9bXhDbGllbnQuSVNfU1ZHPyJkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhDd0FMQUlBQkFGZFhWLy8vL3lINUJBRUFBQUVBTEFBQUFBQUxBQXNBQUFJWmpCOEFpS3VjNGp2TE9HcXpyalg2em1rV3lDaFhhVUpCQVFBNyI6SU1BR0VfUEFUSCsiL2VkaXQuZ2lmIjtFZGl0b3Iuem9vbU91dExhcmdlSW1hZ2U9ImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQ0FBQUFBZ0NBTUFBQUJFcElyR0FBQUFpbEJNVkVVQUFBRC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLzJOMmlOQUFBQUxYUlNUbE1BK3ZUY0tNTTk2R1JCSHdYeGkwWWFYMUhMcktXaGlIcFdFT25PcjUyVmIyeEtTRGNUMTlQS3Y1bC9OZ2RrOCt2aUFBQUJKa2xFUVZRNHk0V1QyWGFETUF4RXZXRDJuU1NVTkVuVEpOM3IvLys5U2o3SUxBWTZMMGlqQzRPTllWWlJwbzZjQnlyejJZS1NVR29yR1RwejcxbFBWSHZUK2F2b0I1d0lrVS9teGs4dmVjZVN1Tm9MZzQ0SXp6aVhqdnBpaDcyd0tRbm04eWMyVW9pUC9MQWQ4alFmZTJYZjRQcSsyRXlZSXZ2OXdiekhIQ2d3eERkbEJ0V1pPZHFEZlRDVmdxcHlnUXBzWmFvalZBVmM5VWpReG5BSkRJQmhpUXY4NHRxM2dNUUNBVlR4Vm9TaWJYSmY4dE11YzdlMVRCL0RDbWVqQk5nL3cxWTNjK0FNNXZ2NHc3eE01OS9vWGFtckhhTFZxUFErT1RDbm1NWnhnejBTZEw1emppMC9sZDZqODhxR2E1S0lpQkI2V2VKR0tmVUt3U01LTHVYZ3ZsMVRXMHRtNVI5VVFML2VmU0RZc256eEQ4Q2luaEJzVFRkdWdKYXRLcEp3Zjh2K0FEYjhRbXZXN0FlQUFBQUFBRWxGVGtTdVFtQ0MiOwpFZGl0b3Iuem9vbUluTGFyZ2VJbWFnZT0iZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFDQUFBQUFnQ0FNQUFBQkVwSXJHQUFBQWlsQk1WRVVBQUFELy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vMk4yaU5BQUFBTFhSU1RsTUErdlRjS01NOTZHUkJId1h4aTBZYVgxSExyS1doaUhwV0VPbk9yNTJWYjJ4S1NEY1QxOVBLdjVsL05nZGs4K3ZpQUFBQktFbEVRVlE0eTRXVDZXS0NNQkNFTndrQnduMm9GS3ZXcXIzTCs3OWVzNEVrUUlET0gyZDNQeGsyQUJpSmxCOEpDWGpxdzRMaWtIVkdMSFRtM25NM1VlVk41NjkwR0JCTjBHd3lWLzNra3JVUVIrV2VLblJFZUtwemFYV2Q3N0NtSmlYR2ZQSUVJNFY0eVE5VElXL250bGNNQmU3MzFWdHM5dzVUV0c4RjVqM21RSTRodnJLcGRHZVlBN0NYOXFBY2w2NTBnVkphcnR4UnVoeUhWZ2hGOGlkUUFJYkZMdkNMdTI4QnNRRUM2YUt0Q0s2UHliM0pUN1BtYm10Tkg4Tnk1NkNvdEQvMnFPczVjSmJ1ZmZ4Z1htQ2liK3hkZFZVNVJOT2hrdnZraFRsRmVoelZXQ09oMysrTVlFbE9oZmRvdmFJbW5SWVZtcURkc3VoTnAxUXJCQkU2dUdDMiszWk5qR2RnNUI5NG9EKzl1eVZnV1Q3OUJ3QXhFQlRXZE91M2JXQlZnc24vTi9BSFVEOUlDMDFPZTQwQUFBQUFTVVZPUks1Q1lJST0iOwpFZGl0b3IuYWN0dWFsU2l6ZUxhcmdlSW1hZ2U9ImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQ0FBQUFBZ0NBTUFBQUJFcElyR0FBQUFpbEJNVkVVQUFBRC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLzJOMmlOQUFBQUxYUlNUbE1BK3ZUY0tNTTk2R1JCSHdYeGkwWWFYMUhMcktXaGlIcFdFT25PcjUyVmIyeEtTRGNUMTlQS3Y1bC9OZ2RrOCt2aUFBQUJJVWxFUVZRNHk0V1QyWHFESUJDRkJ4RGM5eVRXTkVuVEpOM3IrNzllR1Q0QkViWG5hdWJNcjhkQkJhTTQ1MGRDUXA0TFdGQWFzY0dJUmQ0OGVCNGNOWUU3ZjZYamdHaUNGczVjK2RtbDZDRk42ajFWNklRSWxIUHBkVi91c0tjbUpjVjg4Z1FUUlhqTEQ5TWhiK2ZXcThZRzkvdUNtVENGamVlRGVZODVVR0tJVUdVdXF6TjQya3Y3b0NvdXE5b0hhbWx6VlIxbFZmcEFJdTFRVlJpVytzQXY3cjRGcEFZSVpaVnNSWEI5VFA1RGZwbzFkMXRyQ2d6ejFpaXB0SC9zVWJkejRDek45K21MZVhIbjMraGRkZGQ0UkRlZ3Nydnp3WndTczJHTFBSSmlkQXFDTFRsVndhTVBxcFlNV2pUV0JCMldSVzg2cFZraFNLeURLMmJkdDJ0bWFnWkc0c0JEL2V2ZExRSExFdlFmQU9LUm9MQ21HMUZBQjZ1S21ieStneitSRURuN081K0V3UUFBQUFCSlJVNUVya0pnZ2c9PSI7CkVkaXRvci5wcmludExhcmdlSW1hZ2U9ImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQ0FBQUFBZ0NBTUFBQUJFcElyR0FBQUFYVkJNVkVVQUFBRC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vOVJLdnZsQUFBQUhuUlNUbE1BeWRubDc3cWJNTFQwOTNIN0s0TmQ0S3RuMDgyK2xZdDVia2tsRWdQNDRuUVNBQUFBcFVsRVFWUTR5NzNQMlE2RElCUkYwY09nYlJISHpoUC8vNW05bUJBUUtqRzFjVDBZYzdJVEFNdTFMTlFnVVppUTJEWW9OUTBzQ1FiNnFnSEFmUng0OG9wcTNKOUFaNnh1Rjd1T2V3OElrMU9zQ1pSUzJVQUM5VitEOWErUVpZeE5BNDVZRlFmdFB0U2tBVE9odzdkQWMwdlBCd0tXaUlPalAwSloweU11UUoyN2czNkRpcE9Vc3FSQU0wZFI4S0QxL0lMSGFIU0UvdzhESXgwOUUzZy9CVGNlNnJIVUI1c0FQS3ZmRitKZEFBQUFBRWxGVGtTdVFtQ0MiOwpFZGl0b3IubGF5ZXJzTGFyZ2VJbWFnZT0iZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFDQUFBQUFnQ0FNQUFBQkVwSXJHQUFBQW1WQk1WRVVBQUFELy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vKy92Ny8vLytiblpra0FBQUFNblJTVGxNQUJQcjhCeWlEODhLc1RpL3J2SmIyNzJtamVVQTFDdVBlMU0vS2pWeFlIeE1QNktaMFM5bll6R1JHR1Jhem5wR0liemFHVWYwQUFBSEVTVVJCVkRqTGJaTFpZb0l3RUVWRGdMQ2piS0lnQWxxWHF0M20veit1Tnd1MXJjeURoamwza3RuWUw3T1kyNTRDMFZYM3lXRlpmekRyT0NsYmJnS3hpMFlESGp3bDRqYm5Sa1h4SlMvQzFZUDNEYkJoRDFuN0V4NHVhQXFkVkRiM3lKLzRKLzNuSkQydG8vbmdRei9EZlV2ek1wNEpKNXNTQ2FGNW9YbWVtZ1FEZkR4emJpK0txNHNVK3ZOY3VBbXg5NEp0eU9QMkRENEVwejJhc1dTQ3o0Wi80ZkVDeHlOajl6Qzl4TkxIY2RQRU8rYXdES2VTYVV1MFc0dHdaUWlPMmhZVmlzVFIzUkN0Sy9jMVg2dDR4TUVwaUdxWHFWbnRFQkxvbGtaWnNLWTRRdHdINmp6cTY3ZEVIbEp5c0IxYU5PRDNYVDduMVVrYXNRTjU5TDR5QzJSRUxNRFNlQ1J0ejN5VjIyVWIzb3pJVVRrbll4OEpXcURkUXhiVWVzOThjUjJrWnRVU3ZlRi9iQWhjZWR3RVdtbHhJa3BaVXk0WE9DYjZWQmpqeEh2YndvLzFsQkFISGkySkNyME5JNTcwUWh5SHEvRGhKb0UybExneUE0UlZlNkttWjQ3Ty8zYjg2TUNQMEhXYTczQTgvQzNTVWM1UWMxYWp0NmZncFhKK1JHcE12RFNjaGVwWkRPT1FSY1pWSUtjSzkweDJEN2V0cXRJKzU2K3U2bjNzUHJpTzZuZnBoaXRSNCtPMm0zRWJNN2xoM21lMUZNMW8rTE1JODg3ck4rczMvd1pkVEZscE5WSmlPQUFBQUFCSlJVNUVya0pnZ2c9PSI7CkVkaXRvci5jbG9zZUxhcmdlSW1hZ2U9ImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQ0FBQUFBZ0NBTUFBQUJFcElyR0FBQUFVVkJNVkVVQUFBRC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy84SU4rZGVBQUFBR25SU1RsTUF1dkFJZy9kRE0vUWxPZXVGaGowUzVzNHZLZ3pqeEpSUU5pTFNleTBBQUFETlNVUkJWRGpMZlpMYkVvTWdERVFqUlJSczFYcVgvLy9RTm1PSEpTbmpQa0hPR1I3SUVtZW9HdEpac3Rud2pxYlJmSXNtZ0VkdFBDcWU5WW56N1pTYzA3ckUyUWlTYytxdjhUdmpSWEEyUERVbTNkcGU4MmlKaE9FVWZ4SkpvM2FDditqS21SbUg0bGNDakNqZWg5R1dPZEwvR1paa1hIM1BZWURySEJuZmM0RC9SVlpmNXNqb0Mxd2FzK1k2SFF4d2FVeEZ2cS9hMFB2MzQzVkNUeGZCU1JpQithYjNNM2VpUVpYbU1OQkozWThwR1JadFlRN0RnSE1YSkVkUExUYU4vcUJqekpPQmMzbm1OY2JzQTE2Yk1SMG9McWYrQUFBQUFFbEZUa1N1UW1DQyI7CkVkaXRvci5lZGl0TGFyZ2VJbWFnZT0iZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFDQUFBQUFnQ0FNQUFBQkVwSXJHQUFBQWdWQk1WRVVBQUFELy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy85ZDN5SlRBQUFBS25SU1RsTUEraHppM25SUVd5WHprbTBoMmozdTU0Z3pFZ1NYamxZb1RCZ0p4TDJsb0dwQU9TM0p0N1d4bTM1R2E3Z1JBQUFBNlVsRVFWUTR5NjNRMlhhQ01CU0Y0UTBKQmFzb1E1REpxYlhqZnY4SGJDSzJCWk53by84RlhIeDdyY01DN2xRdTBpWDhxVS9xdHZBV0Nwb3FIOGRZelMwU3dhVjVlSy9VQWY4WDlwZDJDV0t6dUY1SnJmdHAxb3dYd25JR0xVYUwzUFluZE9IZjRrTk5YV3JYSy9tN0NIdW5rN0s4TEU2WXRCcGNrbndHOUdLeG5yb1kreWxCWGN4NHhLeXgvdS9FdVhpNTA5Y1A5VjdPTzFveUhuenJkRlRjcUxHLzRpYkJBNXBJTXIvNHh2S3p1UURrVnk5d1c4U2dCRkQ2SER2dXpNdnJaY0M5UWxrZk16STd3NjRtK2I0UHFCTU5IQjA1bEgyMVBWeEpvMi9mQlh4VjRoQjM4UGNEKzVBa0k0RnVFVHNBQUFBQVNVVk9SSzVDWUlJPSI7CkVkaXRvci5wcmV2aW91c0xhcmdlSW1hZ2U9ImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQ0FBQUFBZ0NBTUFBQUJFcElyR0FBQUFQRkJNVkVVQUFBRC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9ZU1dnVEFBQUFFM1JTVGxNQTdmY2k0OTNjME1XOHVKNkNaa3M0TXhRSEVaTDZld0FBQUZaSlJFRlVPTXZka3NrUmdEQU1BNGxEd2cyQjdiOVhPbGdlL0tLdmRzYTI1S0ZiNVhsUnZ4WEMvRE5CRXY4SUZOakJnR2REZ1h0RmdUeWh3RFhpUUFVSEN2d2E0VXY2bVI2VVIrMWxlZDJtVm9udmwrdE1MNDVxQ1FOUUxJeDdBQUFBQUVsRlRrU3VRbUNDIjtFZGl0b3IubmV4dExhcmdlSW1hZ2U9ImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQ0FBQUFBZ0NBTUFBQUJFcElyR0FBQUFQRkJNVkVVQUFBRC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9ZU1dnVEFBQUFFM1JTVGxNQTdmY2k0OTNjME1XOHVKNkNaa3M0TXhRSEVaTDZld0FBQUZSSlJFRlVPTXZkMHNrUmdDQVFCVkVGd1EwVjdmeHpOUVA2d0kwNXY2cFova3lqMWI3Rk5naWsyZ1F6ekxjQXdpVUFpZ0hPVHdESEs0QTFDbUI1QkpBTkpHMWhROXFhZlljcUZsWlAzSUZjOWVWR3JSK2lJZ2tEUVJVWElBQUFBQUJKUlU1RXJrSmdnZz09IjsKRWRpdG9yLnJlZnJlc2hMYXJnZUltYWdlPSJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUNBQUFBQWdDQU1BQUFCRXBJckdBQUFBb2xCTVZFVUFBQUQvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vOEVMbmFDQUFBQU5YUlNUbE1BQmZ5RTJRS1UrZGZOeXlEeW9WWUt3blR2N04rNnJudHNZbEZOUWpFcUV3MzE2dVN6ZjJjMUpCM0d2cWViaVZ3NkdBalFCNERRcjEwQUFBRTdTVVJCVkRqTHZaTFhjb013RUFCUElnUkN4M1RUM0EzdWRxTC8vN1VnQWRHUmNSNHlrOGsraWRzZG1nUy9ReVdFcUQvYXhTMkpEVjMzemxuekxISXpRMk1EcTlPZUozbThsNzZLS0VOWWx4cm1NL2I2NVlzMSs4WXhuVEVaRklFWTB2VmhzekZXZlVHWkRKcFFURHpuVGdBZTVrNFhoUXhJTEI3cnV6QlFuK2treURYdUhmUnRqb1lERXZIN0o5THo5OGRCWlhYTDk0WDBPZmNvMlBGbENoS2JqVnpFZGFrb1NsS2pvTm9xUFlrSi93VVpBWXdjK1BwTGoxRWk3K2pkb0JXbHdRWm9KdjJIMXczQ1dnUnZvN2RkOURQNWJ0Z3dDV3owTTAyK29Wb3hDY0lXZVk5UE5tUjZCKyttOXByTXhZRUlTcENCWUJsZnk5YmM3NDVpczdVVVVMQWVtMVd3N0ZmYWxzaUEydWFKc2dtV1AzcFFJOXE5L3lNTGthYUhBcDJmeGhIZmYvY05xN2RCZEhYaEdXN2wrTW8yelUwQ2Y4a25KMnhBMG9KOGVud0FBQUFBU1VWT1JLNUNZSUk9IjsKRWRpdG9yLmJhY2tMYXJnZUltYWdlPSJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUNBQUFBQWdDQU1BQUFCRXBJckdBQUFBY2xCTVZFVUFBQUQvLy8vLy8vLy8vLy8vLy8vKy92Ny8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vKy92Ny8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy84dktMZlRBQUFBSlhSU1RsTUFDaDdoOWdieTNOTEl3endaNTV1VkpnSDU3Yis4dGJDbGpZVjFSUk1RNDZGclR6UXcrdnR4T1FBQUFKNUpSRUZVT011RjAwY1dnekFRQTFEUkRRRkNid0ZTZGY4clpwZFZyTkgyejN0dU12N21sZFpRMldOMnlpOHgrVFQ4SnZ5VGtxdndwaUt2d3NPSXJBMWZXcitYR1RrbGZqOGRPUVIrRDNLeVVGNlF1ZkJrSk4waGZDYXpFdjZzWkJSQ0pEVWNQYXNHS3B1MVJMdFlFOGxrSEFQQlFMb1RzSy9TZkF5Unc1RmpBdWhDekMyTVNqMGdKKzY2bEhhdGdYZEtib0Q5dGZSRUI1bTkvKzNpQzlqSERZdnNHTmNVQUFBQUFFbEZUa1N1UW1DQyI7CkVkaXRvci5mdWxsc2NyZWVuTGFyZ2VJbWFnZT0iZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFDQUFBQUFnQ0FNQUFBQkVwSXJHQUFBQWxsQk1WRVVBQUFELy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL0FKY1dvQUFBQU1YUlNUbE1BK3dJRnhQV1BDSWI0NDZ0blV4bXNvSXlrZ3hUZTI5alFucEtCZTJNTnNaaFZUUi9LeUx1V2JGaEVQalVxN0w5eitiUWorZ0FBQVd4SlJFRlVPTXR0azRsMmdrQU1SVE9EQ080RnRRZ0libldwUzl2OC84ODFpWkZoOFI1MU5POEdKK2dBak1OOHp1VFJGU3cwNGNJT0hRY3FGSEg2b2FRRkd4ZjBqZUJqRWdCOFk1MlRwVzlBZzR6QjVRSUNXT3RIcmd3R3VGWkJjdytnUFAwTUZTNytpaUQ1aW5PbURJUVM5c1pnVHdVendFenl4aHhIVkVFVTdOZERVWHNxVVB0cWpJZ1IySVpTQ1Q0dXB6U2VJZU9kY01IbmZEc3gzZ2lQb2V6ZlU2TXJRR0I1Ly9TY2tMRUcyeFlzY0s0R2ZuVUZxYWl4Mzl6cndvb2FPRC9jWG9ZdXZIS1FJYzdwemQzSFZQdXNwNnQyRkFXL1Jtak1vbmJsOHZ3SERlWm8vR2tsZUpDN2UrcDVYQS9yQXExWC9WMTB3S2FnMDRyQnBhMi9kMExMNE9ZWWNlT0V0c0c1anlNbnRJMXdTK04xQkdjUUJsL0NvTG9QT2w5QUJyVy9CUDUzZTFid1NKSEhsa0lWY2hKd21Id3l5Zko0a0l2RW5LdHdreE5TRWN0ODNLU0NoVDdXaVdnRFozY2NaMEJNNHRsb0pvdzJZVUF0aWZOVDNuam55RCt5L3BNc25QNEROM1k0eWwxR3lrMEFBQUFBU1VWT1JLNUNZSUk9IjsKRWRpdG9yLmN0cmxLZXk9bXhDbGllbnQuSVNfTUFDPyJDbWQiOiJDdHJsIjtFZGl0b3IuaGludE9mZnNldD0yMDtFZGl0b3IucG9wdXBzQWxsb3dlZD0hMDtteFV0aWxzLmV4dGVuZChFZGl0b3IsbXhFdmVudFNvdXJjZSk7RWRpdG9yLnByb3RvdHlwZS5vcmlnaW5hbE5vRm9yZWlnbk9iamVjdD1teENsaWVudC5OT19GTztFZGl0b3IucHJvdG90eXBlLnRyYW5zcGFyZW50SW1hZ2U9bXhDbGllbnQuSVNfU1ZHPyJkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhNQUF3QUlBQUFQLy8vd0FBQUNINUJBRUFBQUFBTEFBQUFBQXdBREFBQUFJeGhJK3B5KzBQbzV5MDJvdXozcno3RDRiaVNKYm1pYWJxeXJidUM4ZnlUTmYyamVmNnp2ZitEd3dLaDhTaThlZ3BBQUE3IjpJTUFHRV9QQVRIKyIvdHJhbnNwYXJlbnQuZ2lmIjtFZGl0b3IucHJvdG90eXBlLmV4dGVuZENhbnZhcz0hMDtFZGl0b3IucHJvdG90eXBlLmNocm9tZWxlc3M9ITE7RWRpdG9yLnByb3RvdHlwZS5jYW5jZWxGaXJzdD0hMDsKRWRpdG9yLnByb3RvdHlwZS5lbmFibGVkPSEwO0VkaXRvci5wcm90b3R5cGUuZmlsZW5hbWU9bnVsbDtFZGl0b3IucHJvdG90eXBlLm1vZGlmaWVkPSExO0VkaXRvci5wcm90b3R5cGUuYXV0b3NhdmU9ITA7RWRpdG9yLnByb3RvdHlwZS5pbml0aWFsVG9wU3BhY2luZz0wO0VkaXRvci5wcm90b3R5cGUuYXBwTmFtZT1kb2N1bWVudC50aXRsZTtFZGl0b3IucHJvdG90eXBlLmVkaXRCbGFua1VybD13aW5kb3cubG9jYXRpb24ucHJvdG9jb2wrIi8vIit3aW5kb3cubG9jYXRpb24uaG9zdCsiLyI7RWRpdG9yLnByb3RvdHlwZS5kZWZhdWx0R3JhcGhPdmVyZmxvdz0iaGlkZGVuIjtFZGl0b3IucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oKXt9O0VkaXRvci5wcm90b3R5cGUuaXNDaHJvbWVsZXNzVmlldz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNocm9tZWxlc3N9O0VkaXRvci5wcm90b3R5cGUuc2V0QXV0b3NhdmU9ZnVuY3Rpb24oYSl7dGhpcy5hdXRvc2F2ZT1hO3RoaXMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KCJhdXRvc2F2ZUNoYW5nZWQiKSl9OwpFZGl0b3IucHJvdG90eXBlLmdldEVkaXRCbGFua1VybD1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5lZGl0QmxhbmtVcmwrYX07CkVkaXRvci5wcm90b3R5cGUuZWRpdEFzTmV3PWZ1bmN0aW9uKGEsZCl7dmFyIGY9bnVsbCE9ZD8iP3RpdGxlPSIrZW5jb2RlVVJJQ29tcG9uZW50KGQpOiIiO251bGwhPXVybFBhcmFtcy51aSYmKGYrPSgwPGYubGVuZ3RoPyImIjoiPyIpKyJ1aT0iK3VybFBhcmFtcy51aSk7aWYoInVuZGVmaW5lZCIhPT10eXBlb2Ygd2luZG93LnBvc3RNZXNzYWdlJiYobnVsbD09ZG9jdW1lbnQuZG9jdW1lbnRNb2RlfHwxMDw9ZG9jdW1lbnQuZG9jdW1lbnRNb2RlKSl7dmFyIGM9bnVsbCxtPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGQpeyJyZWFkeSI9PWQuZGF0YSYmZC5zb3VyY2U9PWMmJihteEV2ZW50LnJlbW92ZUxpc3RlbmVyKHdpbmRvdywibWVzc2FnZSIsbSksYy5wb3N0TWVzc2FnZShhLCIqIikpfSk7bXhFdmVudC5hZGRMaXN0ZW5lcih3aW5kb3csIm1lc3NhZ2UiLG0pO2M9dGhpcy5ncmFwaC5vcGVuTGluayh0aGlzLmdldEVkaXRCbGFua1VybChmKygwPGYubGVuZ3RoPyImIjoiPyIpKwoiY2xpZW50PTEiKSxudWxsLCEwKX1lbHNlIHRoaXMuZ3JhcGgub3BlbkxpbmsodGhpcy5nZXRFZGl0QmxhbmtVcmwoZikrIiNSIitlbmNvZGVVUklDb21wb25lbnQoYSkpfTtFZGl0b3IucHJvdG90eXBlLmNyZWF0ZUdyYXBoPWZ1bmN0aW9uKGEsZCl7dmFyIGY9bmV3IEdyYXBoKG51bGwsZCxudWxsLG51bGwsYSk7Zi50cmFuc3BhcmVudEJhY2tncm91bmQ9ITE7dGhpcy5jaHJvbWVsZXNzfHwoZi5pc0JsYW5rTGluaz1mdW5jdGlvbihhKXtyZXR1cm4hdGhpcy5pc0V4dGVybmFsUHJvdG9jb2woYSl9KTtyZXR1cm4gZn07CkVkaXRvci5wcm90b3R5cGUucmVzZXRHcmFwaD1mdW5jdGlvbigpe3RoaXMuZ3JhcGguZ3JpZEVuYWJsZWQ9IXRoaXMuaXNDaHJvbWVsZXNzVmlldygpfHwiMSI9PXVybFBhcmFtcy5ncmlkO3RoaXMuZ3JhcGguZ3JhcGhIYW5kbGVyLmd1aWRlc0VuYWJsZWQ9ITA7dGhpcy5ncmFwaC5zZXRUb29sdGlwcyghMCk7dGhpcy5ncmFwaC5zZXRDb25uZWN0YWJsZSghMCk7dGhpcy5ncmFwaC5mb2xkaW5nRW5hYmxlZD0hMDt0aGlzLmdyYXBoLnNjcm9sbGJhcnM9dGhpcy5ncmFwaC5kZWZhdWx0U2Nyb2xsYmFyczt0aGlzLmdyYXBoLnBhZ2VWaXNpYmxlPXRoaXMuZ3JhcGguZGVmYXVsdFBhZ2VWaXNpYmxlO3RoaXMuZ3JhcGgucGFnZUJyZWFrc1Zpc2libGU9dGhpcy5ncmFwaC5wYWdlVmlzaWJsZTt0aGlzLmdyYXBoLnByZWZlclBhZ2VTaXplPXRoaXMuZ3JhcGgucGFnZUJyZWFrc1Zpc2libGU7dGhpcy5ncmFwaC5iYWNrZ3JvdW5kPW51bGw7dGhpcy5ncmFwaC5wYWdlU2NhbGU9bXhHcmFwaC5wcm90b3R5cGUucGFnZVNjYWxlOwp0aGlzLmdyYXBoLnBhZ2VGb3JtYXQ9bXhHcmFwaC5wcm90b3R5cGUucGFnZUZvcm1hdDt0aGlzLmdyYXBoLmN1cnJlbnRTY2FsZT0xO3RoaXMuZ3JhcGguY3VycmVudFRyYW5zbGF0ZS54PTA7dGhpcy5ncmFwaC5jdXJyZW50VHJhbnNsYXRlLnk9MDt0aGlzLnVwZGF0ZUdyYXBoQ29tcG9uZW50cygpO3RoaXMuZ3JhcGgudmlldy5zZXRTY2FsZSgxKX07CkVkaXRvci5wcm90b3R5cGUucmVhZEdyYXBoU3RhdGU9ZnVuY3Rpb24oYSl7dGhpcy5ncmFwaC5ncmlkRW5hYmxlZD0iMCIhPWEuZ2V0QXR0cmlidXRlKCJncmlkIikmJighdGhpcy5pc0Nocm9tZWxlc3NWaWV3KCl8fCIxIj09dXJsUGFyYW1zLmdyaWQpO3RoaXMuZ3JhcGguZ3JpZFNpemU9cGFyc2VGbG9hdChhLmdldEF0dHJpYnV0ZSgiZ3JpZFNpemUiKSl8fG14R3JhcGgucHJvdG90eXBlLmdyaWRTaXplO3RoaXMuZ3JhcGguZ3JhcGhIYW5kbGVyLmd1aWRlc0VuYWJsZWQ9IjAiIT1hLmdldEF0dHJpYnV0ZSgiZ3VpZGVzIik7dGhpcy5ncmFwaC5zZXRUb29sdGlwcygiMCIhPWEuZ2V0QXR0cmlidXRlKCJ0b29sdGlwcyIpKTt0aGlzLmdyYXBoLnNldENvbm5lY3RhYmxlKCIwIiE9YS5nZXRBdHRyaWJ1dGUoImNvbm5lY3QiKSk7dGhpcy5ncmFwaC5jb25uZWN0aW9uQXJyb3dzRW5hYmxlZD0iMCIhPWEuZ2V0QXR0cmlidXRlKCJhcnJvd3MiKTt0aGlzLmdyYXBoLmZvbGRpbmdFbmFibGVkPQoiMCIhPWEuZ2V0QXR0cmlidXRlKCJmb2xkIik7dGhpcy5pc0Nocm9tZWxlc3NWaWV3KCkmJnRoaXMuZ3JhcGguZm9sZGluZ0VuYWJsZWQmJih0aGlzLmdyYXBoLmZvbGRpbmdFbmFibGVkPSIxIj09dXJsUGFyYW1zLm5hdix0aGlzLmdyYXBoLmNlbGxSZW5kZXJlci5mb3JjZUNvbnRyb2xDbGlja0hhbmRsZXI9dGhpcy5ncmFwaC5mb2xkaW5nRW5hYmxlZCk7dmFyIGQ9cGFyc2VGbG9hdChhLmdldEF0dHJpYnV0ZSgicGFnZVNjYWxlIikpOyFpc05hTihkKSYmMDxkP3RoaXMuZ3JhcGgucGFnZVNjYWxlPWQ6dGhpcy5ncmFwaC5wYWdlU2NhbGU9bXhHcmFwaC5wcm90b3R5cGUucGFnZVNjYWxlO3RoaXMuZ3JhcGguaXNMaWdodGJveFZpZXcoKXx8dGhpcy5ncmFwaC5pc1ZpZXdlcigpP3RoaXMuZ3JhcGgucGFnZVZpc2libGU9ITE6KGQ9YS5nZXRBdHRyaWJ1dGUoInBhZ2UiKSx0aGlzLmdyYXBoLnBhZ2VWaXNpYmxlPW51bGwhPWQ/IjAiIT1kOnRoaXMuZ3JhcGguZGVmYXVsdFBhZ2VWaXNpYmxlKTsKdGhpcy5ncmFwaC5wYWdlQnJlYWtzVmlzaWJsZT10aGlzLmdyYXBoLnBhZ2VWaXNpYmxlO3RoaXMuZ3JhcGgucHJlZmVyUGFnZVNpemU9dGhpcy5ncmFwaC5wYWdlQnJlYWtzVmlzaWJsZTt2YXIgZD1wYXJzZUZsb2F0KGEuZ2V0QXR0cmlidXRlKCJwYWdlV2lkdGgiKSksZj1wYXJzZUZsb2F0KGEuZ2V0QXR0cmlidXRlKCJwYWdlSGVpZ2h0IikpO2lzTmFOKGQpfHxpc05hTihmKXx8KHRoaXMuZ3JhcGgucGFnZUZvcm1hdD1uZXcgbXhSZWN0YW5nbGUoMCwwLGQsZikpO2E9YS5nZXRBdHRyaWJ1dGUoImJhY2tncm91bmQiKTt0aGlzLmdyYXBoLmJhY2tncm91bmQ9bnVsbCE9YSYmMDxhLmxlbmd0aD9hOm51bGx9OwpFZGl0b3IucHJvdG90eXBlLnNldEdyYXBoWG1sPWZ1bmN0aW9uKGEpe2lmKG51bGwhPWEpe3ZhciBkPW5ldyBteENvZGVjKGEub3duZXJEb2N1bWVudCk7aWYoIm14R3JhcGhNb2RlbCI9PWEubm9kZU5hbWUpe3RoaXMuZ3JhcGgubW9kZWwuYmVnaW5VcGRhdGUoKTt0cnl7dGhpcy5ncmFwaC5tb2RlbC5jbGVhcigpLHRoaXMuZ3JhcGgudmlldy5zY2FsZT0xLHRoaXMucmVhZEdyYXBoU3RhdGUoYSksdGhpcy51cGRhdGVHcmFwaENvbXBvbmVudHMoKSxkLmRlY29kZShhLHRoaXMuZ3JhcGguZ2V0TW9kZWwoKSl9ZmluYWxseXt0aGlzLmdyYXBoLm1vZGVsLmVuZFVwZGF0ZSgpfXRoaXMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KCJyZXNldEdyYXBoVmlldyIpKX1lbHNlIGlmKCJyb290Ij09YS5ub2RlTmFtZSl7dGhpcy5yZXNldEdyYXBoKCk7dmFyIGY9ZC5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJteEdyYXBoTW9kZWwiKTtmLmFwcGVuZENoaWxkKGEpO2QuZGVjb2RlKGYsdGhpcy5ncmFwaC5nZXRNb2RlbCgpKTsKdGhpcy51cGRhdGVHcmFwaENvbXBvbmVudHMoKTt0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdCgicmVzZXRHcmFwaFZpZXciKSl9ZWxzZSB0aHJvd3ttZXNzYWdlOm14UmVzb3VyY2VzLmdldCgiY2Fubm90T3BlbkZpbGUiKSxub2RlOmEsdG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tZXNzYWdlfX07fWVsc2UgdGhpcy5yZXNldEdyYXBoKCksdGhpcy5ncmFwaC5tb2RlbC5jbGVhcigpLHRoaXMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KCJyZXNldEdyYXBoVmlldyIpKX07CkVkaXRvci5wcm90b3R5cGUuZ2V0R3JhcGhYbWw9ZnVuY3Rpb24oYSl7YT0obnVsbCE9YT9hOjEpPyhuZXcgbXhDb2RlYyhteFV0aWxzLmNyZWF0ZVhtbERvY3VtZW50KCkpKS5lbmNvZGUodGhpcy5ncmFwaC5nZXRNb2RlbCgpKTp0aGlzLmdyYXBoLmVuY29kZUNlbGxzKG14VXRpbHMuc29ydENlbGxzKHRoaXMuZ3JhcGgubW9kZWwuZ2V0VG9wbW9zdENlbGxzKHRoaXMuZ3JhcGguZ2V0U2VsZWN0aW9uQ2VsbHMoKSkpKTtpZigwIT10aGlzLmdyYXBoLnZpZXcudHJhbnNsYXRlLnh8fDAhPXRoaXMuZ3JhcGgudmlldy50cmFuc2xhdGUueSlhLnNldEF0dHJpYnV0ZSgiZHgiLE1hdGgucm91bmQoMTAwKnRoaXMuZ3JhcGgudmlldy50cmFuc2xhdGUueCkvMTAwKSxhLnNldEF0dHJpYnV0ZSgiZHkiLE1hdGgucm91bmQoMTAwKnRoaXMuZ3JhcGgudmlldy50cmFuc2xhdGUueSkvMTAwKTthLnNldEF0dHJpYnV0ZSgiZ3JpZCIsdGhpcy5ncmFwaC5pc0dyaWRFbmFibGVkKCk/IjEiOiIwIik7YS5zZXRBdHRyaWJ1dGUoImdyaWRTaXplIiwKdGhpcy5ncmFwaC5ncmlkU2l6ZSk7YS5zZXRBdHRyaWJ1dGUoImd1aWRlcyIsdGhpcy5ncmFwaC5ncmFwaEhhbmRsZXIuZ3VpZGVzRW5hYmxlZD8iMSI6IjAiKTthLnNldEF0dHJpYnV0ZSgidG9vbHRpcHMiLHRoaXMuZ3JhcGgudG9vbHRpcEhhbmRsZXIuaXNFbmFibGVkKCk/IjEiOiIwIik7YS5zZXRBdHRyaWJ1dGUoImNvbm5lY3QiLHRoaXMuZ3JhcGguY29ubmVjdGlvbkhhbmRsZXIuaXNFbmFibGVkKCk/IjEiOiIwIik7YS5zZXRBdHRyaWJ1dGUoImFycm93cyIsdGhpcy5ncmFwaC5jb25uZWN0aW9uQXJyb3dzRW5hYmxlZD8iMSI6IjAiKTthLnNldEF0dHJpYnV0ZSgiZm9sZCIsdGhpcy5ncmFwaC5mb2xkaW5nRW5hYmxlZD8iMSI6IjAiKTthLnNldEF0dHJpYnV0ZSgicGFnZSIsdGhpcy5ncmFwaC5wYWdlVmlzaWJsZT8iMSI6IjAiKTthLnNldEF0dHJpYnV0ZSgicGFnZVNjYWxlIix0aGlzLmdyYXBoLnBhZ2VTY2FsZSk7YS5zZXRBdHRyaWJ1dGUoInBhZ2VXaWR0aCIsdGhpcy5ncmFwaC5wYWdlRm9ybWF0LndpZHRoKTsKYS5zZXRBdHRyaWJ1dGUoInBhZ2VIZWlnaHQiLHRoaXMuZ3JhcGgucGFnZUZvcm1hdC5oZWlnaHQpO251bGwhPXRoaXMuZ3JhcGguYmFja2dyb3VuZCYmYS5zZXRBdHRyaWJ1dGUoImJhY2tncm91bmQiLHRoaXMuZ3JhcGguYmFja2dyb3VuZCk7cmV0dXJuIGF9O0VkaXRvci5wcm90b3R5cGUudXBkYXRlR3JhcGhDb21wb25lbnRzPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5ncmFwaDtudWxsIT1hLmNvbnRhaW5lciYmKGEudmlldy52YWxpZGF0ZUJhY2tncm91bmQoKSxhLmNvbnRhaW5lci5zdHlsZS5vdmVyZmxvdz1hLnNjcm9sbGJhcnM/ImF1dG8iOnRoaXMuZGVmYXVsdEdyYXBoT3ZlcmZsb3csdGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QoInVwZGF0ZUdyYXBoQ29tcG9uZW50cyIpKSl9O0VkaXRvci5wcm90b3R5cGUuc2V0TW9kaWZpZWQ9ZnVuY3Rpb24oYSl7dGhpcy5tb2RpZmllZD1hfTsKRWRpdG9yLnByb3RvdHlwZS5zZXRGaWxlbmFtZT1mdW5jdGlvbihhKXt0aGlzLmZpbGVuYW1lPWF9OwpFZGl0b3IucHJvdG90eXBlLmNyZWF0ZVVuZG9NYW5hZ2VyPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5ncmFwaCxkPW5ldyBteFVuZG9NYW5hZ2VyO3RoaXMudW5kb0xpc3RlbmVyPWZ1bmN0aW9uKGEsZil7ZC51bmRvYWJsZUVkaXRIYXBwZW5lZChmLmdldFByb3BlcnR5KCJlZGl0IikpfTt2YXIgZj1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhLGQpe3RoaXMudW5kb0xpc3RlbmVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pO2EuZ2V0TW9kZWwoKS5hZGRMaXN0ZW5lcihteEV2ZW50LlVORE8sZik7YS5nZXRWaWV3KCkuYWRkTGlzdGVuZXIobXhFdmVudC5VTkRPLGYpO2Y9ZnVuY3Rpb24oYyxkKXt2YXIgZj1hLmdldFNlbGVjdGlvbkNlbGxzRm9yQ2hhbmdlcyhkLmdldFByb3BlcnR5KCJlZGl0IikuY2hhbmdlcyxmdW5jdGlvbihhKXtyZXR1cm4hKGEgaW5zdGFuY2VvZiBteENoaWxkQ2hhbmdlKX0pO2lmKDA8Zi5sZW5ndGgpe2EuZ2V0TW9kZWwoKTtmb3IodmFyIG09W10sYj0wO2I8CmYubGVuZ3RoO2IrKyludWxsIT1hLnZpZXcuZ2V0U3RhdGUoZltiXSkmJm0ucHVzaChmW2JdKTthLnNldFNlbGVjdGlvbkNlbGxzKG0pfX07ZC5hZGRMaXN0ZW5lcihteEV2ZW50LlVORE8sZik7ZC5hZGRMaXN0ZW5lcihteEV2ZW50LlJFRE8sZik7cmV0dXJuIGR9O0VkaXRvci5wcm90b3R5cGUuaW5pdFN0ZW5jaWxSZWdpc3RyeT1mdW5jdGlvbigpe307RWRpdG9yLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7bnVsbCE9dGhpcy5ncmFwaCYmKHRoaXMuZ3JhcGguZGVzdHJveSgpLHRoaXMuZ3JhcGg9bnVsbCl9O09wZW5GaWxlPWZ1bmN0aW9uKGEpe3RoaXMuY29uc3VtZXI9dGhpcy5wcm9kdWNlcj1udWxsO3RoaXMuZG9uZT1hO3RoaXMuYXJncz1udWxsfTtPcGVuRmlsZS5wcm90b3R5cGUuc2V0Q29uc3VtZXI9ZnVuY3Rpb24oYSl7dGhpcy5jb25zdW1lcj1hO3RoaXMuZXhlY3V0ZSgpfTsKT3BlbkZpbGUucHJvdG90eXBlLnNldERhdGE9ZnVuY3Rpb24oKXt0aGlzLmFyZ3M9YXJndW1lbnRzO3RoaXMuZXhlY3V0ZSgpfTtPcGVuRmlsZS5wcm90b3R5cGUuZXJyb3I9ZnVuY3Rpb24oYSl7dGhpcy5jYW5jZWwoITApO214VXRpbHMuYWxlcnQoYSl9O09wZW5GaWxlLnByb3RvdHlwZS5leGVjdXRlPWZ1bmN0aW9uKCl7bnVsbCE9dGhpcy5jb25zdW1lciYmbnVsbCE9dGhpcy5hcmdzJiYodGhpcy5jYW5jZWwoITEpLHRoaXMuY29uc3VtZXIuYXBwbHkodGhpcyx0aGlzLmFyZ3MpKX07T3BlbkZpbGUucHJvdG90eXBlLmNhbmNlbD1mdW5jdGlvbihhKXtudWxsIT10aGlzLmRvbmUmJnRoaXMuZG9uZShudWxsIT1hP2E6ITApfTsKZnVuY3Rpb24gRGlhbG9nKGEsZCxmLGMsbSxrLHEsYixlLGcscCl7dmFyIGw9MDtteENsaWVudC5JU19WTUwmJihudWxsPT1kb2N1bWVudC5kb2N1bWVudE1vZGV8fDg+ZG9jdW1lbnQuZG9jdW1lbnRNb2RlKSYmKGw9ODApO2YrPWw7Yys9bDt2YXIgbj1mLHY9Yyx0PW14VXRpbHMuZ2V0RG9jdW1lbnRTaXplKCk7bnVsbCE9d2luZG93LmlubmVySGVpZ2h0JiYodC5oZWlnaHQ9d2luZG93LmlubmVySGVpZ2h0KTt2YXIgeT10LmhlaWdodCx4PU1hdGgubWF4KDEsTWF0aC5yb3VuZCgodC53aWR0aC1mLTY0KS8yKSksRT1NYXRoLm1heCgxLE1hdGgucm91bmQoKHktYy1hLmZvb3RlckhlaWdodCkvMykpO214Q2xpZW50LklTX1FVSVJLU3x8KGQuc3R5bGUubWF4SGVpZ2h0PSIxMDAlIik7Zj1udWxsIT1kb2N1bWVudC5ib2R5P01hdGgubWluKGYsZG9jdW1lbnQuYm9keS5zY3JvbGxXaWR0aC02NCk6ZjtjPU1hdGgubWluKGMseS02NCk7MDxhLmRpYWxvZ3MubGVuZ3RoJiYodGhpcy56SW5kZXgrPQoyKmEuZGlhbG9ncy5sZW5ndGgpO251bGw9PXRoaXMuYmcmJih0aGlzLmJnPWEuY3JlYXRlRGl2KCJiYWNrZ3JvdW5kIiksdGhpcy5iZy5zdHlsZS5wb3NpdGlvbj0iYWJzb2x1dGUiLHRoaXMuYmcuc3R5bGUuYmFja2dyb3VuZD1EaWFsb2cuYmFja2Ryb3BDb2xvcix0aGlzLmJnLnN0eWxlLmhlaWdodD15KyJweCIsdGhpcy5iZy5zdHlsZS5yaWdodD0iMHB4Iix0aGlzLmJnLnN0eWxlLnpJbmRleD10aGlzLnpJbmRleC0yLG14VXRpbHMuc2V0T3BhY2l0eSh0aGlzLmJnLHRoaXMuYmdPcGFjaXR5KSxteENsaWVudC5JU19RVUlSS1MmJm5ldyBteERpdlJlc2l6ZXIodGhpcy5iZykpO3Q9bXhVdGlscy5nZXREb2N1bWVudFNjcm9sbE9yaWdpbihkb2N1bWVudCk7dGhpcy5iZy5zdHlsZS5sZWZ0PXQueCsicHgiO3RoaXMuYmcuc3R5bGUudG9wPXQueSsicHgiO3grPXQueDtFKz10Lnk7bSYmZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLmJnKTt2YXIgQT1hLmNyZWF0ZURpdihlPyJnZVRyYW5zRGlhbG9nIjoKImdlRGlhbG9nIik7bT10aGlzLmdldFBvc2l0aW9uKHgsRSxmLGMpO3g9bS54O0U9bS55O0Euc3R5bGUud2lkdGg9ZisicHgiO0Euc3R5bGUuaGVpZ2h0PWMrInB4IjtBLnN0eWxlLmxlZnQ9eCsicHgiO0Euc3R5bGUudG9wPUUrInB4IjtBLnN0eWxlLnpJbmRleD10aGlzLnpJbmRleDtBLmFwcGVuZENoaWxkKGQpO2RvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoQSk7IWImJmQuY2xpZW50SGVpZ2h0PkEuY2xpZW50SGVpZ2h0LTY0JiYoZC5zdHlsZS5vdmVyZmxvd1k9ImF1dG8iKTtpZihrJiYoaz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbWciKSxrLnNldEF0dHJpYnV0ZSgic3JjIixEaWFsb2cucHJvdG90eXBlLmNsb3NlSW1hZ2UpLGsuc2V0QXR0cmlidXRlKCJ0aXRsZSIsbXhSZXNvdXJjZXMuZ2V0KCJjbG9zZSIpKSxrLmNsYXNzTmFtZT0iZ2VEaWFsb2dDbG9zZSIsay5zdHlsZS50b3A9RSsxNCsicHgiLGsuc3R5bGUubGVmdD14K2YrMzgtbCsicHgiLGsuc3R5bGUuekluZGV4PQp0aGlzLnpJbmRleCxteEV2ZW50LmFkZExpc3RlbmVyKGssImNsaWNrIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe2EuaGlkZURpYWxvZyghMCl9KSksZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChrKSx0aGlzLmRpYWxvZ0ltZz1rLCFwKSl7dmFyIEM9ITE7bXhFdmVudC5hZGRHZXN0dXJlTGlzdGVuZXJzKHRoaXMuYmcsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7Qz0hMH0pLG51bGwsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYil7QyYmKGEuaGlkZURpYWxvZyghMCksQz0hMSl9KSl9dGhpcy5yZXNpemVMaXN0ZW5lcj1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe2lmKG51bGwhPWcpe3ZhciBlPWcoKTtudWxsIT1lJiYobj1mPWUudyx2PWM9ZS5oKX1lPW14VXRpbHMuZ2V0RG9jdW1lbnRTaXplKCk7eT1lLmhlaWdodDt0aGlzLmJnLnN0eWxlLmhlaWdodD15KyJweCI7eD1NYXRoLm1heCgxLE1hdGgucm91bmQoKGUud2lkdGgtZi02NCkvMikpO0U9TWF0aC5tYXgoMSwKTWF0aC5yb3VuZCgoeS1jLWEuZm9vdGVySGVpZ2h0KS8zKSk7Zj1udWxsIT1kb2N1bWVudC5ib2R5P01hdGgubWluKG4sZG9jdW1lbnQuYm9keS5zY3JvbGxXaWR0aC02NCk6bjtjPU1hdGgubWluKHYseS02NCk7ZT10aGlzLmdldFBvc2l0aW9uKHgsRSxmLGMpO3g9ZS54O0U9ZS55O0Euc3R5bGUubGVmdD14KyJweCI7QS5zdHlsZS50b3A9RSsicHgiO0Euc3R5bGUud2lkdGg9ZisicHgiO0Euc3R5bGUuaGVpZ2h0PWMrInB4IjshYiYmZC5jbGllbnRIZWlnaHQ+QS5jbGllbnRIZWlnaHQtNjQmJihkLnN0eWxlLm92ZXJmbG93WT0iYXV0byIpO251bGwhPXRoaXMuZGlhbG9nSW1nJiYodGhpcy5kaWFsb2dJbWcuc3R5bGUudG9wPUUrMTQrInB4Iix0aGlzLmRpYWxvZ0ltZy5zdHlsZS5sZWZ0PXgrZiszOC1sKyJweCIpfSk7bXhFdmVudC5hZGRMaXN0ZW5lcih3aW5kb3csInJlc2l6ZSIsdGhpcy5yZXNpemVMaXN0ZW5lcik7dGhpcy5vbkRpYWxvZ0Nsb3NlPXE7dGhpcy5jb250YWluZXI9CkE7YS5lZGl0b3IuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KCJzaG93RGlhbG9nIikpfURpYWxvZy5iYWNrZHJvcENvbG9yPSJ3aGl0ZSI7RGlhbG9nLnByb3RvdHlwZS56SW5kZXg9bXhQb3B1cE1lbnUucHJvdG90eXBlLnpJbmRleC0xOwpEaWFsb2cucHJvdG90eXBlLm5vQ29sb3JJbWFnZT1teENsaWVudC5JU19TVkc/ImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQkFBQUFBUUNBTUFBQUFvTFE5VEFBQUFHWFJGV0hSVGIyWjBkMkZ5WlFCQlpHOWlaU0JKYldGblpWSmxZV1I1Y2NsbFBBQUFBeUJwVkZoMFdFMU1PbU52YlM1aFpHOWlaUzU0YlhBQUFBQUFBRHcvZUhCaFkydGxkQ0JpWldkcGJqMGk3N3UvSWlCcFpEMGlWelZOTUUxd1EyVm9hVWg2Y21WVGVrNVVZM3ByWXpsa0lqOCtJRHg0T25odGNHMWxkR0VnZUcxc2JuTTZlRDBpWVdSdlltVTZibk02YldWMFlTOGlJSGc2ZUcxd2RHczlJa0ZrYjJKbElGaE5VQ0JEYjNKbElEVXVNQzFqTURZd0lEWXhMakV6TkRjM055d2dNakF4TUM4d01pOHhNaTB4Tnpvek1qb3dNQ0FnSUNBZ0lDQWdJajRnUEhKa1pqcFNSRVlnZUcxc2JuTTZjbVJtUFNKb2RIUndPaTh2ZDNkM0xuY3pMbTl5Wnk4eE9UazVMekF5THpJeUxYSmtaaTF6ZVc1MFlYZ3Ribk1qSWo0Z1BISmtaanBFWlhOamNtbHdkR2x2YmlCeVpHWTZZV0p2ZFhROUlpSWdlRzFzYm5NNmVHMXdQU0pvZEhSd09pOHZibk11WVdSdlltVXVZMjl0TDNoaGNDOHhMakF2SWlCNGJXeHVjenA0YlhCTlRUMGlhSFIwY0RvdkwyNXpMbUZrYjJKbExtTnZiUzk0WVhBdk1TNHdMMjF0THlJZ2VHMXNibk02YzNSU1pXWTlJbWgwZEhBNkx5OXVjeTVoWkc5aVpTNWpiMjB2ZUdGd0x6RXVNQzl6Vkhsd1pTOVNaWE52ZFhKalpWSmxaaU1pSUhodGNEcERjbVZoZEc5eVZHOXZiRDBpUVdSdlltVWdVR2h2ZEc5emFHOXdJRU5UTlNCWGFXNWtiM2R6SWlCNGJYQk5UVHBKYm5OMFlXNWpaVWxFUFNKNGJYQXVhV2xrT2tFelJEbEJNVVV3T0RZeE1URXhSVEZDTXpBNFJEZERNakpCTUVNeFJETTNJaUI0YlhCTlRUcEViMk4xYldWdWRFbEVQU0o0YlhBdVpHbGtPa0V6UkRsQk1VVXhPRFl4TVRFeFJURkNNekE0UkRkRE1qSkJNRU14UkRNM0lqNGdQSGh0Y0UxTk9rUmxjbWwyWldSR2NtOXRJSE4wVW1WbU9tbHVjM1JoYm1ObFNVUTlJbmh0Y0M1cGFXUTZRVE5FT1VFeFJFVTROakV4TVRGRk1VSXpNRGhFTjBNeU1rRXdRekZFTXpjaUlITjBVbVZtT21SdlkzVnRaVzUwU1VROUluaHRjQzVrYVdRNlFUTkVPVUV4UkVZNE5qRXhNVEZGTVVJek1EaEVOME15TWtFd1F6RkVNemNpTHo0Z1BDOXlaR1k2UkdWelkzSnBjSFJwYjI0K0lEd3ZjbVJtT2xKRVJqNGdQQzk0T25odGNHMWxkR0UrSUR3L2VIQmhZMnRsZENCbGJtUTlJbklpUHo1eGgzZm1BQUFBQmxCTVZFWC8vLy9Nek13NDZxcURBQUFBR0VsRVFWUjQybUpnZ0FKR0tHQVlJSUdCdGg4S0FBSU1BRVVRQUlFbG5MdVFBQUFBQUVsRlRrU3VRbUNDIjpJTUFHRV9QQVRIKwoiL25vY29sb3IucG5nIjtEaWFsb2cucHJvdG90eXBlLmNsb3NlSW1hZ2U9bXhDbGllbnQuSVNfU1ZHPyJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUFrQUFBQUpBUU1BQUFEYVg1UlRBQUFBQmxCTVZFVjdtcjMvLy8rd2tzc3BBQUFBQW5SU1RsUC9BT1czTUVvQUFBQWRTVVJCVkFnZFk5alh3Q0REd05EUndIQ3dnZUV4bUFTeWdTTDdHZ0IxMlFpcU5IWlpJd0FBQUFCSlJVNUVya0pnZ2c9PSI6SU1BR0VfUEFUSCsiL2Nsb3NlLnBuZyI7CkRpYWxvZy5wcm90b3R5cGUuY2xlYXJJbWFnZT1teENsaWVudC5JU19TVkc/ImRhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCxSMGxHT0RsaERRQUtBSUFCQU1EQXdQLy8veUgvQzFoTlVDQkVZWFJoV0UxUVBEOTRjR0ZqYTJWMElHSmxaMmx1UFNMdnU3OGlJR2xrUFNKWE5VMHdUWEJEWldocFNIcHlaVk42VGxSamVtdGpPV1FpUHo0Z1BIZzZlRzF3YldWMFlTQjRiV3h1Y3pwNFBTSmhaRzlpWlRwdWN6cHRaWFJoTHlJZ2VEcDRiWEIwYXowaVFXUnZZbVVnV0UxUUlFTnZjbVVnTlM0d0xXTXdOakFnTmpFdU1UTTBOemMzTENBeU1ERXdMekF5THpFeUxURTNPak15T2pBd0lDQWdJQ0FnSUNBaVBpQThjbVJtT2xKRVJpQjRiV3h1Y3pweVpHWTlJbWgwZEhBNkx5OTNkM2N1ZHpNdWIzSm5MekU1T1Rrdk1ESXZNakl0Y21SbUxYTjViblJoZUMxdWN5TWlQaUE4Y21SbU9rUmxjMk55YVhCMGFXOXVJSEprWmpwaFltOTFkRDBpSWlCNGJXeHVjenA0YlhBOUltaDBkSEE2THk5dWN5NWhaRzlpWlM1amIyMHZlR0Z3THpFdU1DOGlJSGh0Ykc1ek9uaHRjRTFOUFNKb2RIUndPaTh2Ym5NdVlXUnZZbVV1WTI5dEwzaGhjQzh4TGpBdmJXMHZJaUI0Yld4dWN6cHpkRkpsWmowaWFIUjBjRG92TDI1ekxtRmtiMkpsTG1OdmJTOTRZWEF2TVM0d0wzTlVlWEJsTDFKbGMyOTFjbU5sVW1WbUl5SWdlRzF3T2tOeVpXRjBiM0pVYjI5c1BTSkJaRzlpWlNCUWFHOTBiM05vYjNBZ1ExTTFJRmRwYm1SdmQzTWlJSGh0Y0UxTk9rbHVjM1JoYm1ObFNVUTlJbmh0Y0M1cGFXUTZPVUl6T0VNMU56STROakV5TVRGRk1VRXpNa05ETVVFM05qWkVSREUyUWpJaUlIaHRjRTFOT2tSdlkzVnRaVzUwU1VROUluaHRjQzVrYVdRNk9VSXpPRU0xTnpNNE5qRXlNVEZGTVVFek1rTkRNVUUzTmpaRVJERTJRaklpUGlBOGVHMXdUVTA2UkdWeWFYWmxaRVp5YjIwZ2MzUlNaV1k2YVc1emRHRnVZMlZKUkQwaWVHMXdMbWxwWkRvNVFqTTRRelUzTURnMk1USXhNVVV4UVRNeVEwTXhRVGMyTmtSRU1UWkNNaUlnYzNSU1pXWTZaRzlqZFcxbGJuUkpSRDBpZUcxd0xtUnBaRG81UWpNNFF6VTNNVGcyTVRJeE1VVXhRVE15UTBNeFFUYzJOa1JFTVRaQ01pSXZQaUE4TDNKa1pqcEVaWE5qY21sd2RHbHZiajRnUEM5eVpHWTZVa1JHUGlBOEwzZzZlRzF3YldWMFlUNGdQRDk0Y0dGamEyVjBJR1Z1WkQwaWNpSS9QZ0gvL3YzOCsvcjUrUGYyOWZUejh2SHc3Kzd0N092cTZlam41dVhrNCtMaDROL2UzZHpiMnRuWTE5YlYxTlBTMGREUHpzM015OHJKeU1mR3hjVER3c0hBdjc2OXZMdTZ1YmkzdHJXMHM3S3hzSyt1cmF5cnFxbW9wNmFscEtPaW9hQ2ZucDJjbTVxWm1KZVdsWlNUa3BHUWo0Nk5qSXVLaVlpSGhvV0VnNEtCZ0g5K2ZYeDdlbmw0ZDNaMWRITnljWEJ2Ym0xc2EycHBhR2RtWldSalltRmdYMTVkWEZ0YVdWaFhWbFZVVTFKUlVFOU9UVXhMU2tsSVIwWkZSRU5DUVVBL1BqMDhPem81T0RjMk5UUXpNakV3THk0dExDc3FLU2duSmlVa0l5SWhJQjhlSFJ3Ykdoa1lGeFlWRkJNU0VSQVBEZzBNQ3dvSkNBY0dCUVFEQWdFQUFDSDVCQUVBQUFFQUxBQUFBQUFOQUFvQUFBSVhUR0NKZWJEOWpFT1RxUmx0dFhkckIzMlBKMm5jeVJRQU93PT0iOklNQUdFX1BBVEgrCiIvY2xlYXIuZ2lmIjsKRGlhbG9nLnByb3RvdHlwZS5sb2NrZWRJbWFnZT1teENsaWVudC5JU19TVkc/ImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQXdBQUFBTUNBTUFBQUJocTZ6VkFBQUFHWFJGV0hSVGIyWjBkMkZ5WlFCQlpHOWlaU0JKYldGblpWSmxZV1I1Y2NsbFBBQUFBeUpwVkZoMFdFMU1PbU52YlM1aFpHOWlaUzU0YlhBQUFBQUFBRHcvZUhCaFkydGxkQ0JpWldkcGJqMGk3N3UvSWlCcFpEMGlWelZOTUUxd1EyVm9hVWg2Y21WVGVrNVVZM3ByWXpsa0lqOCtJRHg0T25odGNHMWxkR0VnZUcxc2JuTTZlRDBpWVdSdlltVTZibk02YldWMFlTOGlJSGc2ZUcxd2RHczlJa0ZrYjJKbElGaE5VQ0JEYjNKbElEVXVNQzFqTURZd0lEWXhMakV6TkRjM055d2dNakF4TUM4d01pOHhNaTB4Tnpvek1qb3dNQ0FnSUNBZ0lDQWdJajRnUEhKa1pqcFNSRVlnZUcxc2JuTTZjbVJtUFNKb2RIUndPaTh2ZDNkM0xuY3pMbTl5Wnk4eE9UazVMekF5THpJeUxYSmtaaTF6ZVc1MFlYZ3Ribk1qSWo0Z1BISmtaanBFWlhOamNtbHdkR2x2YmlCeVpHWTZZV0p2ZFhROUlpSWdlRzFzYm5NNmVHMXdQU0pvZEhSd09pOHZibk11WVdSdlltVXVZMjl0TDNoaGNDOHhMakF2SWlCNGJXeHVjenA0YlhCTlRUMGlhSFIwY0RvdkwyNXpMbUZrYjJKbExtTnZiUzk0WVhBdk1TNHdMMjF0THlJZ2VHMXNibk02YzNSU1pXWTlJbWgwZEhBNkx5OXVjeTVoWkc5aVpTNWpiMjB2ZUdGd0x6RXVNQzl6Vkhsd1pTOVNaWE52ZFhKalpWSmxaaU1pSUhodGNEcERjbVZoZEc5eVZHOXZiRDBpUVdSdlltVWdVR2h2ZEc5emFHOXdJRU5UTlNCTllXTnBiblJ2YzJnaUlIaHRjRTFOT2tsdWMzUmhibU5sU1VROUluaHRjQzVwYVdRNk16ZERNRFpDT0RFeE56SXhNVEZGTlVJMFJUazVOVGc0T1RjeU1VVXlPREVpSUhodGNFMU5Pa1J2WTNWdFpXNTBTVVE5SW5odGNDNWthV1E2TXpkRE1EWkNPREl4TnpJeE1URkZOVUkwUlRrNU5UZzRPVGN5TVVVeU9ERWlQaUE4ZUcxd1RVMDZSR1Z5YVhabFpFWnliMjBnYzNSU1pXWTZhVzV6ZEdGdVkyVkpSRDBpZUcxd0xtbHBaRG96TjBNd05rSTNSakUzTWpFeE1VVTFRalJGT1RrMU9EZzVOekl4UlRJNE1TSWdjM1JTWldZNlpHOWpkVzFsYm5SSlJEMGllRzF3TG1ScFpEb3pOME13TmtJNE1ERTNNakV4TVVVMVFqUkZPVGsxT0RnNU56SXhSVEk0TVNJdlBpQThMM0prWmpwRVpYTmpjbWx3ZEdsdmJqNGdQQzl5WkdZNlVrUkdQaUE4TDNnNmVHMXdiV1YwWVQ0Z1BEOTRjR0ZqYTJWMElHVnVaRDBpY2lJL1B2cU1DRllBQUFBVlVFeFVSWm1abWIrL3Y3S3lzcXlzck16TXpMR3hzZi8vLzRnOE4xY0FBQUFIZEZKT1UvLy8vLy8vL3dBYVN3TkdBQUFBUEVsRVFWUjQybFRNUVE0QUlRZ0V3VWEwLy85a1RRaXJPd2VZT2dEcUFNYlpVcjEwQUdsQXd4NC9CSjJRSjRVMEw1YnJZam92dnB2MzJ4WmdBSFphQVRGdE1idTRBQUFBQUVsRlRrU3VRbUNDIjpJTUFHRV9QQVRIKwoiL2xvY2tlZC5wbmciOwpEaWFsb2cucHJvdG90eXBlLnVubG9ja2VkSW1hZ2U9bXhDbGllbnQuSVNfU1ZHPyJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUF3QUFBQU1DQU1BQUFCaHE2elZBQUFBR1hSRldIUlRiMlowZDJGeVpRQkJaRzlpWlNCSmJXRm5aVkpsWVdSNWNjbGxQQUFBQXlKcFZGaDBXRTFNT21OdmJTNWhaRzlpWlM1NGJYQUFBQUFBQUR3L2VIQmhZMnRsZENCaVpXZHBiajBpNzd1L0lpQnBaRDBpVnpWTk1FMXdRMlZvYVVoNmNtVlRlazVVWTNwcll6bGtJajgrSUR4NE9uaHRjRzFsZEdFZ2VHMXNibk02ZUQwaVlXUnZZbVU2Ym5NNmJXVjBZUzhpSUhnNmVHMXdkR3M5SWtGa2IySmxJRmhOVUNCRGIzSmxJRFV1TUMxak1EWXdJRFl4TGpFek5EYzNOeXdnTWpBeE1DOHdNaTh4TWkweE56b3pNam93TUNBZ0lDQWdJQ0FnSWo0Z1BISmtaanBTUkVZZ2VHMXNibk02Y21SbVBTSm9kSFJ3T2k4dmQzZDNMbmN6TG05eVp5OHhPVGs1THpBeUx6SXlMWEprWmkxemVXNTBZWGd0Ym5NaklqNGdQSEprWmpwRVpYTmpjbWx3ZEdsdmJpQnlaR1k2WVdKdmRYUTlJaUlnZUcxc2JuTTZlRzF3UFNKb2RIUndPaTh2Ym5NdVlXUnZZbVV1WTI5dEwzaGhjQzh4TGpBdklpQjRiV3h1Y3pwNGJYQk5UVDBpYUhSMGNEb3ZMMjV6TG1Ga2IySmxMbU52YlM5NFlYQXZNUzR3TDIxdEx5SWdlRzFzYm5NNmMzUlNaV1k5SW1oMGRIQTZMeTl1Y3k1aFpHOWlaUzVqYjIwdmVHRndMekV1TUM5elZIbHdaUzlTWlhOdmRYSmpaVkpsWmlNaUlIaHRjRHBEY21WaGRHOXlWRzl2YkQwaVFXUnZZbVVnVUdodmRHOXphRzl3SUVOVE5TQk5ZV05wYm5SdmMyZ2lJSGh0Y0UxTk9rbHVjM1JoYm1ObFNVUTlJbmh0Y0M1cGFXUTZNemRETURaQ04wUXhOekl4TVRGRk5VSTBSVGs1TlRnNE9UY3lNVVV5T0RFaUlIaHRjRTFOT2tSdlkzVnRaVzUwU1VROUluaHRjQzVrYVdRNk16ZERNRFpDTjBVeE56SXhNVEZGTlVJMFJUazVOVGc0T1RjeU1VVXlPREVpUGlBOGVHMXdUVTA2UkdWeWFYWmxaRVp5YjIwZ2MzUlNaV1k2YVc1emRHRnVZMlZKUkQwaWVHMXdMbWxwWkRvek4wTXdOa0kzUWpFM01qRXhNVVUxUWpSRk9UazFPRGc1TnpJeFJUSTRNU0lnYzNSU1pXWTZaRzlqZFcxbGJuUkpSRDBpZUcxd0xtUnBaRG96TjBNd05rSTNRekUzTWpFeE1VVTFRalJGT1RrMU9EZzVOekl4UlRJNE1TSXZQaUE4TDNKa1pqcEVaWE5qY21sd2RHbHZiajRnUEM5eVpHWTZVa1JHUGlBOEwzZzZlRzF3YldWMFlUNGdQRDk0Y0dGamEyVjBJR1Z1WkQwaWNpSS9Qa0tNcFZ3QUFBQVlVRXhVUlptWm1iS3lzcisvdjZ5c3JPWGw1Y3pNekxHeHNmLy8vekhONWx3QUFBQUlkRkpPVS8vLy8vLy8vLzhBM29POVdRQUFBRHhKUkVGVWVOcFV6RkVTQUNBRUJOQlZzZmUvY1pKVSs4TXpzOENJQUJDaWR0ZkdPbmRuWXNUNDBIRFNpQ2NiUGRvSm8xMG85YUk2NzdjcHdBQ1JvQUYzZEZObHN3QUFBQUJKUlU1RXJrSmdnZz09IjpJTUFHRV9QQVRIKwoiL3VubG9ja2VkLnBuZyI7RGlhbG9nLnByb3RvdHlwZS5iZ09wYWNpdHk9ODA7RGlhbG9nLnByb3RvdHlwZS5nZXRQb3NpdGlvbj1mdW5jdGlvbihhLGQpe3JldHVybiBuZXcgbXhQb2ludChhLGQpfTtEaWFsb2cucHJvdG90eXBlLmNsb3NlPWZ1bmN0aW9uKGEsZCl7aWYobnVsbCE9dGhpcy5vbkRpYWxvZ0Nsb3NlKXtpZigwPT10aGlzLm9uRGlhbG9nQ2xvc2UoYSxkKSlyZXR1cm4hMTt0aGlzLm9uRGlhbG9nQ2xvc2U9bnVsbH1udWxsIT10aGlzLmRpYWxvZ0ltZyYmKHRoaXMuZGlhbG9nSW1nLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5kaWFsb2dJbWcpLHRoaXMuZGlhbG9nSW1nPW51bGwpO251bGwhPXRoaXMuYmcmJm51bGwhPXRoaXMuYmcucGFyZW50Tm9kZSYmdGhpcy5iZy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuYmcpO214RXZlbnQucmVtb3ZlTGlzdGVuZXIod2luZG93LCJyZXNpemUiLHRoaXMucmVzaXplTGlzdGVuZXIpO3RoaXMuY29udGFpbmVyLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5jb250YWluZXIpfTsKdmFyIEVycm9yRGlhbG9nPWZ1bmN0aW9uKGEsZCxmLGMsbSxrLHEsYixlLGcscCl7ZT1udWxsIT1lP2U6ITA7dmFyIGw9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7bC5zdHlsZS50ZXh0QWxpZ249ImNlbnRlciI7aWYobnVsbCE9ZCl7dmFyIG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7bi5zdHlsZS5wYWRkaW5nPSIwcHgiO24uc3R5bGUubWFyZ2luPSIwcHgiO24uc3R5bGUuZm9udFNpemU9IjE4cHgiO24uc3R5bGUucGFkZGluZ0JvdHRvbT0iMTZweCI7bi5zdHlsZS5tYXJnaW5Cb3R0b209IjEwcHgiO24uc3R5bGUuYm9yZGVyQm90dG9tPSIxcHggc29saWQgI2MwYzBjMCI7bi5zdHlsZS5jb2xvcj0iZ3JheSI7bi5zdHlsZS53aGl0ZVNwYWNlPSJub3dyYXAiO24uc3R5bGUudGV4dE92ZXJmbG93PSJlbGxpcHNpcyI7bi5zdHlsZS5vdmVyZmxvdz0iaGlkZGVuIjtteFV0aWxzLndyaXRlKG4sZCk7bi5zZXRBdHRyaWJ1dGUoInRpdGxlIixkKTtsLmFwcGVuZENoaWxkKG4pfWQ9CmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2Quc3R5bGUubGluZUhlaWdodD0iMS4yZW0iO2Quc3R5bGUucGFkZGluZz0iNnB4IjtkLmlubmVySFRNTD1mO2wuYXBwZW5kQ2hpbGQoZCk7Zj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtmLnN0eWxlLm1hcmdpblRvcD0iMTJweCI7Zi5zdHlsZS50ZXh0QWxpZ249ImNlbnRlciI7bnVsbCE9ayYmKGQ9bXhVdGlscy5idXR0b24obXhSZXNvdXJjZXMuZ2V0KCJ0cnlBZ2FpbiIpLGZ1bmN0aW9uKCl7YS5oaWRlRGlhbG9nKCk7aygpfSksZC5jbGFzc05hbWU9ImdlQnRuIixmLmFwcGVuZENoaWxkKGQpLGYuc3R5bGUudGV4dEFsaWduPSJjZW50ZXIiKTtudWxsIT1nJiYoZz1teFV0aWxzLmJ1dHRvbihnLGZ1bmN0aW9uKCl7bnVsbCE9cCYmcCgpfSksZy5jbGFzc05hbWU9ImdlQnRuIixmLmFwcGVuZENoaWxkKGcpKTt2YXIgdj1teFV0aWxzLmJ1dHRvbihjLGZ1bmN0aW9uKCl7ZSYmYS5oaWRlRGlhbG9nKCk7bnVsbCE9bSYmbSgpfSk7CnYuY2xhc3NOYW1lPSJnZUJ0biI7Zi5hcHBlbmRDaGlsZCh2KTtudWxsIT1xJiYoYz1teFV0aWxzLmJ1dHRvbihxLGZ1bmN0aW9uKCl7ZSYmYS5oaWRlRGlhbG9nKCk7bnVsbCE9YiYmYigpfSksYy5jbGFzc05hbWU9ImdlQnRuIGdlUHJpbWFyeUJ0biIsZi5hcHBlbmRDaGlsZChjKSk7dGhpcy5pbml0PWZ1bmN0aW9uKCl7di5mb2N1cygpfTtsLmFwcGVuZENoaWxkKGYpO3RoaXMuY29udGFpbmVyPWx9LFByaW50RGlhbG9nPWZ1bmN0aW9uKGEsZCl7dGhpcy5jcmVhdGUoYSxkKX07ClByaW50RGlhbG9nLnByb3RvdHlwZS5jcmVhdGU9ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gZChhKXt2YXIgZT1iLmNoZWNrZWR8fGcuY2hlY2tlZCxjPXBhcnNlSW50KGwudmFsdWUpLzEwMDtpc05hTihjKSYmKGM9MSxsLnZhbHVlPSIxMDAlIik7dmFyIGM9Ljc1KmMsZD1mLnBhZ2VGb3JtYXR8fG14Q29uc3RhbnRzLlBBR0VfRk9STUFUX0E0X1BPUlRSQUlULG49MS9mLnBhZ2VTY2FsZTtpZihlKXt2YXIgaz1iLmNoZWNrZWQ/MTpwYXJzZUludChwLnZhbHVlKTtpc05hTihrKXx8KG49bXhVdGlscy5nZXRTY2FsZUZvclBhZ2VDb3VudChrLGYsZCkpfWYuZ2V0R3JhcGhCb3VuZHMoKTt2YXIgdj1rPTAsZD1teFJlY3RhbmdsZS5mcm9tUmVjdGFuZ2xlKGQpO2Qud2lkdGg9TWF0aC5jZWlsKGQud2lkdGgqYyk7ZC5oZWlnaHQ9TWF0aC5jZWlsKGQuaGVpZ2h0KmMpO24qPWM7IWUmJmYucGFnZVZpc2libGU/KGM9Zi5nZXRQYWdlTGF5b3V0KCksay09Yy54KmQud2lkdGgsdi09Yy55KmQuaGVpZ2h0KToKZT0hMDtlPVByaW50RGlhbG9nLmNyZWF0ZVByaW50UHJldmlldyhmLG4sZCwwLGssdixlKTtlLm9wZW4oKTthJiZQcmludERpYWxvZy5wcmludFByZXZpZXcoZSl9dmFyIGY9YS5lZGl0b3IuZ3JhcGgsYyxtLGs9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGFibGUiKTtrLnN0eWxlLndpZHRoPSIxMDAlIjtrLnN0eWxlLmhlaWdodD0iMTAwJSI7dmFyIHE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGJvZHkiKTtjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRyIik7dmFyIGI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTtiLnNldEF0dHJpYnV0ZSgidHlwZSIsImNoZWNrYm94Iik7bT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ZCIpO20uc2V0QXR0cmlidXRlKCJjb2xzcGFuIiwiMiIpO20uc3R5bGUuZm9udFNpemU9IjEwcHQiO20uYXBwZW5kQ2hpbGQoYik7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3BhbiIpO214VXRpbHMud3JpdGUoZSwiICIrbXhSZXNvdXJjZXMuZ2V0KCJmaXRQYWdlIikpOwptLmFwcGVuZENoaWxkKGUpO214RXZlbnQuYWRkTGlzdGVuZXIoZSwiY2xpY2siLGZ1bmN0aW9uKGEpe2IuY2hlY2tlZD0hYi5jaGVja2VkO2cuY2hlY2tlZD0hYi5jaGVja2VkO214RXZlbnQuY29uc3VtZShhKX0pO214RXZlbnQuYWRkTGlzdGVuZXIoYiwiY2hhbmdlIixmdW5jdGlvbigpe2cuY2hlY2tlZD0hYi5jaGVja2VkfSk7Yy5hcHBlbmRDaGlsZChtKTtxLmFwcGVuZENoaWxkKGMpO2M9Yy5jbG9uZU5vZGUoITEpO3ZhciBnPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7Zy5zZXRBdHRyaWJ1dGUoInR5cGUiLCJjaGVja2JveCIpO209ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGQiKTttLnN0eWxlLmZvbnRTaXplPSIxMHB0IjttLmFwcGVuZENoaWxkKGcpO2U9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3BhbiIpO214VXRpbHMud3JpdGUoZSwiICIrbXhSZXNvdXJjZXMuZ2V0KCJwb3N0ZXJQcmludCIpKyI6Iik7bS5hcHBlbmRDaGlsZChlKTtteEV2ZW50LmFkZExpc3RlbmVyKGUsCiJjbGljayIsZnVuY3Rpb24oYSl7Zy5jaGVja2VkPSFnLmNoZWNrZWQ7Yi5jaGVja2VkPSFnLmNoZWNrZWQ7bXhFdmVudC5jb25zdW1lKGEpfSk7Yy5hcHBlbmRDaGlsZChtKTt2YXIgcD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbnB1dCIpO3Auc2V0QXR0cmlidXRlKCJ2YWx1ZSIsIjEiKTtwLnNldEF0dHJpYnV0ZSgidHlwZSIsIm51bWJlciIpO3Auc2V0QXR0cmlidXRlKCJtaW4iLCIxIik7cC5zZXRBdHRyaWJ1dGUoInNpemUiLCI0Iik7cC5zZXRBdHRyaWJ1dGUoImRpc2FibGVkIiwiZGlzYWJsZWQiKTtwLnN0eWxlLndpZHRoPSI1MHB4IjttPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRkIik7bS5zdHlsZS5mb250U2l6ZT0iMTBwdCI7bS5hcHBlbmRDaGlsZChwKTtteFV0aWxzLndyaXRlKG0sIiAiK214UmVzb3VyY2VzLmdldCgicGFnZXMiKSsiIChtYXgpIik7Yy5hcHBlbmRDaGlsZChtKTtxLmFwcGVuZENoaWxkKGMpO214RXZlbnQuYWRkTGlzdGVuZXIoZywiY2hhbmdlIiwKZnVuY3Rpb24oKXtnLmNoZWNrZWQ/cC5yZW1vdmVBdHRyaWJ1dGUoImRpc2FibGVkIik6cC5zZXRBdHRyaWJ1dGUoImRpc2FibGVkIiwiZGlzYWJsZWQiKTtiLmNoZWNrZWQ9IWcuY2hlY2tlZH0pO2M9Yy5jbG9uZU5vZGUoITEpO209ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGQiKTtteFV0aWxzLndyaXRlKG0sbXhSZXNvdXJjZXMuZ2V0KCJwYWdlU2NhbGUiKSsiOiIpO2MuYXBwZW5kQ2hpbGQobSk7bT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ZCIpO3ZhciBsPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7bC5zZXRBdHRyaWJ1dGUoInZhbHVlIiwiMTAwICUiKTtsLnNldEF0dHJpYnV0ZSgic2l6ZSIsIjUiKTtsLnN0eWxlLndpZHRoPSI1MHB4IjttLmFwcGVuZENoaWxkKGwpO2MuYXBwZW5kQ2hpbGQobSk7cS5hcHBlbmRDaGlsZChjKTtjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRyIik7bT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ZCIpO20uY29sU3Bhbj0yOwptLnN0eWxlLnBhZGRpbmdUb3A9IjIwcHgiO20uc2V0QXR0cmlidXRlKCJhbGlnbiIsInJpZ2h0Iik7ZT1teFV0aWxzLmJ1dHRvbihteFJlc291cmNlcy5nZXQoImNhbmNlbCIpLGZ1bmN0aW9uKCl7YS5oaWRlRGlhbG9nKCl9KTtlLmNsYXNzTmFtZT0iZ2VCdG4iO2EuZWRpdG9yLmNhbmNlbEZpcnN0JiZtLmFwcGVuZENoaWxkKGUpO2lmKFByaW50RGlhbG9nLnByZXZpZXdFbmFibGVkKXt2YXIgbj1teFV0aWxzLmJ1dHRvbihteFJlc291cmNlcy5nZXQoInByZXZpZXciKSxmdW5jdGlvbigpe2EuaGlkZURpYWxvZygpO2QoITEpfSk7bi5jbGFzc05hbWU9ImdlQnRuIjttLmFwcGVuZENoaWxkKG4pfW49bXhVdGlscy5idXR0b24obXhSZXNvdXJjZXMuZ2V0KFByaW50RGlhbG9nLnByZXZpZXdFbmFibGVkPyJwcmludCI6Im9rIiksZnVuY3Rpb24oKXthLmhpZGVEaWFsb2coKTtkKCEwKX0pO24uY2xhc3NOYW1lPSJnZUJ0biBnZVByaW1hcnlCdG4iO20uYXBwZW5kQ2hpbGQobik7YS5lZGl0b3IuY2FuY2VsRmlyc3R8fAptLmFwcGVuZENoaWxkKGUpO2MuYXBwZW5kQ2hpbGQobSk7cS5hcHBlbmRDaGlsZChjKTtrLmFwcGVuZENoaWxkKHEpO3RoaXMuY29udGFpbmVyPWt9O1ByaW50RGlhbG9nLnByaW50UHJldmlldz1mdW5jdGlvbihhKXt0cnl7aWYobnVsbCE9YS53bmQpe3ZhciBkPWZ1bmN0aW9uKCl7YS53bmQuZm9jdXMoKTthLnduZC5wcmludCgpO2Eud25kLmNsb3NlKCl9O214Q2xpZW50LklTX0dDP3dpbmRvdy5zZXRUaW1lb3V0KGQsNTAwKTpkKCl9fWNhdGNoKGYpe319OwpQcmludERpYWxvZy5jcmVhdGVQcmludFByZXZpZXc9ZnVuY3Rpb24oYSxkLGYsYyxtLGsscSl7ZD1uZXcgbXhQcmludFByZXZpZXcoYSxkLGYsYyxtLGspO2QudGl0bGU9bXhSZXNvdXJjZXMuZ2V0KCJwcmV2aWV3Iik7ZC5wcmludEJhY2tncm91bmRJbWFnZT0hMDtkLmF1dG9PcmlnaW49cTthPWEuYmFja2dyb3VuZDtpZihudWxsPT1hfHwiIj09YXx8YT09bXhDb25zdGFudHMuTk9ORSlhPSIjZmZmZmZmIjtkLmJhY2tncm91bmRDb2xvcj1hO3ZhciBiPWQud3JpdGVIZWFkO2Qud3JpdGVIZWFkPWZ1bmN0aW9uKGEpe2IuYXBwbHkodGhpcyxhcmd1bWVudHMpO2Eud3JpdGVsbignPHN0eWxlIHR5cGU9InRleHQvY3NzIj4nKTthLndyaXRlbG4oIkBtZWRpYSBzY3JlZW4geyIpO2Eud3JpdGVsbigiICBib2R5ID4gZGl2IHsgcGFkZGluZzozMHB4O2JveC1zaXppbmc6Y29udGVudC1ib3g7IH0iKTthLndyaXRlbG4oIn0iKTthLndyaXRlbG4oIjwvc3R5bGU+Iil9O3JldHVybiBkfTsKUHJpbnREaWFsb2cucHJldmlld0VuYWJsZWQ9ITA7CnZhciBQYWdlU2V0dXBEaWFsb2c9ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gZCgpe251bGw9PXB8fHA9PW14Q29uc3RhbnRzLk5PTkU/KGcuc3R5bGUuYmFja2dyb3VuZENvbG9yPSIiLGcuc3R5bGUuYmFja2dyb3VuZEltYWdlPSJ1cmwoJyIrRGlhbG9nLnByb3RvdHlwZS5ub0NvbG9ySW1hZ2UrIicpIik6KGcuc3R5bGUuYmFja2dyb3VuZENvbG9yPXAsZy5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2U9IiIpfWZ1bmN0aW9uIGYoKXtudWxsPT12PyhuLnJlbW92ZUF0dHJpYnV0ZSgidGl0bGUiKSxuLnN0eWxlLmZvbnRTaXplPSIiLG4uaW5uZXJIVE1MPW14VXRpbHMuaHRtbEVudGl0aWVzKG14UmVzb3VyY2VzLmdldCgiY2hhbmdlIikpKyIuLi4iKToobi5zZXRBdHRyaWJ1dGUoInRpdGxlIix2LnNyYyksbi5zdHlsZS5mb250U2l6ZT0iMTFweCIsbi5pbm5lckhUTUw9bXhVdGlscy5odG1sRW50aXRpZXModi5zcmMuc3Vic3RyaW5nKDAsNDIpKSsiLi4uIil9dmFyIGM9YS5lZGl0b3IuZ3JhcGgsbSwKayxxPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRhYmxlIik7cS5zdHlsZS53aWR0aD0iMTAwJSI7cS5zdHlsZS5oZWlnaHQ9IjEwMCUiO3ZhciBiPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRib2R5Iik7bT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ciIpO2s9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGQiKTtrLnN0eWxlLnZlcnRpY2FsQWxpZ249InRvcCI7ay5zdHlsZS5mb250U2l6ZT0iMTBwdCI7bXhVdGlscy53cml0ZShrLG14UmVzb3VyY2VzLmdldCgicGFwZXJTaXplIikrIjoiKTttLmFwcGVuZENoaWxkKGspO2s9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGQiKTtrLnN0eWxlLnZlcnRpY2FsQWxpZ249InRvcCI7ay5zdHlsZS5mb250U2l6ZT0iMTBwdCI7dmFyIGU9UGFnZVNldHVwRGlhbG9nLmFkZFBhZ2VGb3JtYXRQYW5lbChrLCJwYWdlc2V0dXBkaWFsb2ciLGMucGFnZUZvcm1hdCk7bS5hcHBlbmRDaGlsZChrKTtiLmFwcGVuZENoaWxkKG0pO209ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidHIiKTsKaz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ZCIpO214VXRpbHMud3JpdGUoayxteFJlc291cmNlcy5nZXQoImJhY2tncm91bmQiKSsiOiIpO20uYXBwZW5kQ2hpbGQoayk7az1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ZCIpO2suc3R5bGUud2hpdGVTcGFjZT0ibm93cmFwIjtkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbnB1dCIpLnNldEF0dHJpYnV0ZSgidHlwZSIsInRleHQiKTt2YXIgZz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJidXR0b24iKTtnLnN0eWxlLndpZHRoPSIxOHB4IjtnLnN0eWxlLmhlaWdodD0iMThweCI7Zy5zdHlsZS5tYXJnaW5SaWdodD0iMjBweCI7Zy5zdHlsZS5iYWNrZ3JvdW5kUG9zaXRpb249ImNlbnRlciBjZW50ZXIiO2cuc3R5bGUuYmFja2dyb3VuZFJlcGVhdD0ibm8tcmVwZWF0Ijt2YXIgcD1jLmJhY2tncm91bmQ7ZCgpO214RXZlbnQuYWRkTGlzdGVuZXIoZywiY2xpY2siLGZ1bmN0aW9uKGIpe2EucGlja0NvbG9yKHB8fCJub25lIixmdW5jdGlvbihhKXtwPQphO2QoKX0pO214RXZlbnQuY29uc3VtZShiKX0pO2suYXBwZW5kQ2hpbGQoZyk7bXhVdGlscy53cml0ZShrLG14UmVzb3VyY2VzLmdldCgiZ3JpZFNpemUiKSsiOiIpO3ZhciBsPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7bC5zZXRBdHRyaWJ1dGUoInR5cGUiLCJudW1iZXIiKTtsLnNldEF0dHJpYnV0ZSgibWluIiwiMCIpO2wuc3R5bGUud2lkdGg9IjQwcHgiO2wuc3R5bGUubWFyZ2luTGVmdD0iNnB4IjtsLnZhbHVlPWMuZ2V0R3JpZFNpemUoKTtrLmFwcGVuZENoaWxkKGwpO214RXZlbnQuYWRkTGlzdGVuZXIobCwiY2hhbmdlIixmdW5jdGlvbigpe3ZhciBhPXBhcnNlSW50KGwudmFsdWUpO2wudmFsdWU9TWF0aC5tYXgoMSxpc05hTihhKT9jLmdldEdyaWRTaXplKCk6YSl9KTttLmFwcGVuZENoaWxkKGspO2IuYXBwZW5kQ2hpbGQobSk7bT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ciIpO2s9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGQiKTtteFV0aWxzLndyaXRlKGssCm14UmVzb3VyY2VzLmdldCgiaW1hZ2UiKSsiOiIpO20uYXBwZW5kQ2hpbGQoayk7az1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ZCIpO3ZhciBuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKTtuLnN0eWxlLnRleHREZWNvcmF0aW9uPSJ1bmRlcmxpbmUiO24uc3R5bGUuY3Vyc29yPSJwb2ludGVyIjtuLnN0eWxlLmNvbG9yPSIjYTBhMGEwIjt2YXIgdj1jLmJhY2tncm91bmRJbWFnZTtteEV2ZW50LmFkZExpc3RlbmVyKG4sImNsaWNrIixmdW5jdGlvbihiKXthLnNob3dCYWNrZ3JvdW5kSW1hZ2VEaWFsb2coZnVuY3Rpb24oYSxiKXtifHwodj1hLGYoKSl9LHYpO214RXZlbnQuY29uc3VtZShiKX0pO2YoKTtrLmFwcGVuZENoaWxkKG4pO20uYXBwZW5kQ2hpbGQoayk7Yi5hcHBlbmRDaGlsZChtKTttPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRyIik7az1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ZCIpO2suY29sU3Bhbj0yO2suc3R5bGUucGFkZGluZ1RvcD0iMTZweCI7ay5zZXRBdHRyaWJ1dGUoImFsaWduIiwKInJpZ2h0Iik7dmFyIHQ9bXhVdGlscy5idXR0b24obXhSZXNvdXJjZXMuZ2V0KCJjYW5jZWwiKSxmdW5jdGlvbigpe2EuaGlkZURpYWxvZygpfSk7dC5jbGFzc05hbWU9ImdlQnRuIjthLmVkaXRvci5jYW5jZWxGaXJzdCYmay5hcHBlbmRDaGlsZCh0KTt2YXIgeT1teFV0aWxzLmJ1dHRvbihteFJlc291cmNlcy5nZXQoImFwcGx5IiksZnVuY3Rpb24oKXthLmhpZGVEaWFsb2coKTt2YXIgYj1wYXJzZUludChsLnZhbHVlKTtpc05hTihiKXx8Yy5ncmlkU2l6ZT09PWJ8fGMuc2V0R3JpZFNpemUoYik7Yj1uZXcgQ2hhbmdlUGFnZVNldHVwKGEscCx2LGUuZ2V0KCkpO2IuaWdub3JlQ29sb3I9Yy5iYWNrZ3JvdW5kPT1wO2IuaWdub3JlSW1hZ2U9KG51bGwhPWMuYmFja2dyb3VuZEltYWdlP2MuYmFja2dyb3VuZEltYWdlLnNyYzpudWxsKT09PShudWxsIT12P3Yuc3JjOm51bGwpO2MucGFnZUZvcm1hdC53aWR0aD09Yi5wcmV2aW91c0Zvcm1hdC53aWR0aCYmYy5wYWdlRm9ybWF0LmhlaWdodD09CmIucHJldmlvdXNGb3JtYXQuaGVpZ2h0JiZiLmlnbm9yZUNvbG9yJiZiLmlnbm9yZUltYWdlfHxjLm1vZGVsLmV4ZWN1dGUoYil9KTt5LmNsYXNzTmFtZT0iZ2VCdG4gZ2VQcmltYXJ5QnRuIjtrLmFwcGVuZENoaWxkKHkpO2EuZWRpdG9yLmNhbmNlbEZpcnN0fHxrLmFwcGVuZENoaWxkKHQpO20uYXBwZW5kQ2hpbGQoayk7Yi5hcHBlbmRDaGlsZChtKTtxLmFwcGVuZENoaWxkKGIpO3RoaXMuY29udGFpbmVyPXF9OwpQYWdlU2V0dXBEaWFsb2cuYWRkUGFnZUZvcm1hdFBhbmVsPWZ1bmN0aW9uKGEsZCxmLGMpe2Z1bmN0aW9uIG0oYSxjLGQpe2lmKGR8fGwhPWRvY3VtZW50LmFjdGl2ZUVsZW1lbnQmJm4hPWRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpe2E9ITE7Zm9yKGM9MDtjPHQubGVuZ3RoO2MrKylkPXRbY10sQT8iY3VzdG9tIj09ZC5rZXkmJihiLnZhbHVlPWQua2V5LEE9ITEpOm51bGwhPWQuZm9ybWF0JiYoImE0Ij09ZC5rZXk/ODI2PT1mLndpZHRoPyhmPW14UmVjdGFuZ2xlLmZyb21SZWN0YW5nbGUoZiksZi53aWR0aD04MjcpOjgyNj09Zi5oZWlnaHQmJihmPW14UmVjdGFuZ2xlLmZyb21SZWN0YW5nbGUoZiksZi5oZWlnaHQ9ODI3KToiYTUiPT1kLmtleSYmKDU4ND09Zi53aWR0aD8oZj1teFJlY3RhbmdsZS5mcm9tUmVjdGFuZ2xlKGYpLGYud2lkdGg9NTgzKTo1ODQ9PWYuaGVpZ2h0JiYoZj1teFJlY3RhbmdsZS5mcm9tUmVjdGFuZ2xlKGYpLGYuaGVpZ2h0PTU4MykpLGYud2lkdGg9PWQuZm9ybWF0LndpZHRoJiYKZi5oZWlnaHQ9PWQuZm9ybWF0LmhlaWdodD8oYi52YWx1ZT1kLmtleSxrLnNldEF0dHJpYnV0ZSgiY2hlY2tlZCIsImNoZWNrZWQiKSxrLmRlZmF1bHRDaGVja2VkPSEwLGsuY2hlY2tlZD0hMCxxLnJlbW92ZUF0dHJpYnV0ZSgiY2hlY2tlZCIpLHEuZGVmYXVsdENoZWNrZWQ9ITEscS5jaGVja2VkPSExLGE9ITApOmYud2lkdGg9PWQuZm9ybWF0LmhlaWdodCYmZi5oZWlnaHQ9PWQuZm9ybWF0LndpZHRoJiYoYi52YWx1ZT1kLmtleSxrLnJlbW92ZUF0dHJpYnV0ZSgiY2hlY2tlZCIpLGsuZGVmYXVsdENoZWNrZWQ9ITEsay5jaGVja2VkPSExLHEuc2V0QXR0cmlidXRlKCJjaGVja2VkIiwiY2hlY2tlZCIpLHEuZGVmYXVsdENoZWNrZWQ9ITAsYT1xLmNoZWNrZWQ9ITApKTthPyhlLnN0eWxlLmRpc3BsYXk9IiIscC5zdHlsZS5kaXNwbGF5PSJub25lIik6KGwudmFsdWU9Zi53aWR0aC8xMDAsbi52YWx1ZT1mLmhlaWdodC8xMDAsay5zZXRBdHRyaWJ1dGUoImNoZWNrZWQiLCJjaGVja2VkIiksCmIudmFsdWU9ImN1c3RvbSIsZS5zdHlsZS5kaXNwbGF5PSJub25lIixwLnN0eWxlLmRpc3BsYXk9IiIpfX1kPSJmb3JtYXQtIitkO3ZhciBrPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7ay5zZXRBdHRyaWJ1dGUoIm5hbWUiLGQpO2suc2V0QXR0cmlidXRlKCJ0eXBlIiwicmFkaW8iKTtrLnNldEF0dHJpYnV0ZSgidmFsdWUiLCJwb3J0cmFpdCIpO3ZhciBxPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7cS5zZXRBdHRyaWJ1dGUoIm5hbWUiLGQpO3Euc2V0QXR0cmlidXRlKCJ0eXBlIiwicmFkaW8iKTtxLnNldEF0dHJpYnV0ZSgidmFsdWUiLCJsYW5kc2NhcGUiKTt2YXIgYj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzZWxlY3QiKTtiLnN0eWxlLm1hcmdpbkJvdHRvbT0iOHB4IjtiLnN0eWxlLndpZHRoPSIyMDJweCI7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7ZS5zdHlsZS5tYXJnaW5MZWZ0PSI0cHgiO2Uuc3R5bGUud2lkdGg9IjIxMHB4IjsKZS5zdHlsZS5oZWlnaHQ9IjI0cHgiO2suc3R5bGUubWFyZ2luUmlnaHQ9IjZweCI7ZS5hcHBlbmRDaGlsZChrKTtkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNwYW4iKTtkLnN0eWxlLm1heFdpZHRoPSIxMDBweCI7bXhVdGlscy53cml0ZShkLG14UmVzb3VyY2VzLmdldCgicG9ydHJhaXQiKSk7ZS5hcHBlbmRDaGlsZChkKTtxLnN0eWxlLm1hcmdpbkxlZnQ9IjEwcHgiO3Euc3R5bGUubWFyZ2luUmlnaHQ9IjZweCI7ZS5hcHBlbmRDaGlsZChxKTt2YXIgZz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzcGFuIik7Zy5zdHlsZS53aWR0aD0iMTAwcHgiO214VXRpbHMud3JpdGUoZyxteFJlc291cmNlcy5nZXQoImxhbmRzY2FwZSIpKTtlLmFwcGVuZENoaWxkKGcpO3ZhciBwPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO3Auc3R5bGUubWFyZ2luTGVmdD0iNHB4IjtwLnN0eWxlLndpZHRoPSIyMTBweCI7cC5zdHlsZS5oZWlnaHQ9IjI0cHgiO3ZhciBsPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7Cmwuc2V0QXR0cmlidXRlKCJzaXplIiwiNyIpO2wuc3R5bGUudGV4dEFsaWduPSJyaWdodCI7cC5hcHBlbmRDaGlsZChsKTtteFV0aWxzLndyaXRlKHAsIiBpbiB4ICIpO3ZhciBuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7bi5zZXRBdHRyaWJ1dGUoInNpemUiLCI3Iik7bi5zdHlsZS50ZXh0QWxpZ249InJpZ2h0IjtwLmFwcGVuZENoaWxkKG4pO214VXRpbHMud3JpdGUocCwiIGluIik7ZS5zdHlsZS5kaXNwbGF5PSJub25lIjtwLnN0eWxlLmRpc3BsYXk9Im5vbmUiO2Zvcih2YXIgdj17fSx0PVBhZ2VTZXR1cERpYWxvZy5nZXRGb3JtYXRzKCkseT0wO3k8dC5sZW5ndGg7eSsrKXt2YXIgeD10W3ldO3ZbeC5rZXldPXg7dmFyIEU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgib3B0aW9uIik7RS5zZXRBdHRyaWJ1dGUoInZhbHVlIix4LmtleSk7bXhVdGlscy53cml0ZShFLHgudGl0bGUpO2IuYXBwZW5kQ2hpbGQoRSl9dmFyIEE9ITE7bSgpO2EuYXBwZW5kQ2hpbGQoYik7bXhVdGlscy5icihhKTsKYS5hcHBlbmRDaGlsZChlKTthLmFwcGVuZENoaWxkKHApO3ZhciBDPWYsej1mdW5jdGlvbihhLGQpe3ZhciBnPXZbYi52YWx1ZV07bnVsbCE9Zy5mb3JtYXQ/KGwudmFsdWU9Zy5mb3JtYXQud2lkdGgvMTAwLG4udmFsdWU9Zy5mb3JtYXQuaGVpZ2h0LzEwMCxwLnN0eWxlLmRpc3BsYXk9Im5vbmUiLGUuc3R5bGUuZGlzcGxheT0iIik6KGUuc3R5bGUuZGlzcGxheT0ibm9uZSIscC5zdHlsZS5kaXNwbGF5PSIiKTtnPXBhcnNlRmxvYXQobC52YWx1ZSk7aWYoaXNOYU4oZyl8fDA+PWcpbC52YWx1ZT1mLndpZHRoLzEwMDtnPXBhcnNlRmxvYXQobi52YWx1ZSk7aWYoaXNOYU4oZyl8fDA+PWcpbi52YWx1ZT1mLmhlaWdodC8xMDA7Zz1uZXcgbXhSZWN0YW5nbGUoMCwwLE1hdGguZmxvb3IoMTAwKnBhcnNlRmxvYXQobC52YWx1ZSkpLE1hdGguZmxvb3IoMTAwKnBhcnNlRmxvYXQobi52YWx1ZSkpKTsiY3VzdG9tIiE9Yi52YWx1ZSYmcS5jaGVja2VkJiYoZz1uZXcgbXhSZWN0YW5nbGUoMCwwLApnLmhlaWdodCxnLndpZHRoKSk7ZCYmQXx8Zy53aWR0aD09Qy53aWR0aCYmZy5oZWlnaHQ9PUMuaGVpZ2h0fHwoQz1nLG51bGwhPWMmJmMoQykpfTtteEV2ZW50LmFkZExpc3RlbmVyKGQsImNsaWNrIixmdW5jdGlvbihhKXtrLmNoZWNrZWQ9ITA7eihhKTtteEV2ZW50LmNvbnN1bWUoYSl9KTtteEV2ZW50LmFkZExpc3RlbmVyKGcsImNsaWNrIixmdW5jdGlvbihhKXtxLmNoZWNrZWQ9ITA7eihhKTtteEV2ZW50LmNvbnN1bWUoYSl9KTtteEV2ZW50LmFkZExpc3RlbmVyKGwsImJsdXIiLHopO214RXZlbnQuYWRkTGlzdGVuZXIobCwiY2xpY2siLHopO214RXZlbnQuYWRkTGlzdGVuZXIobiwiYmx1ciIseik7bXhFdmVudC5hZGRMaXN0ZW5lcihuLCJjbGljayIseik7bXhFdmVudC5hZGRMaXN0ZW5lcihxLCJjaGFuZ2UiLHopO214RXZlbnQuYWRkTGlzdGVuZXIoaywiY2hhbmdlIix6KTtteEV2ZW50LmFkZExpc3RlbmVyKGIsImNoYW5nZSIsZnVuY3Rpb24oYSl7QT0iY3VzdG9tIj09Yi52YWx1ZTsKeihhLCEwKX0pO3ooKTtyZXR1cm57c2V0OmZ1bmN0aW9uKGEpe2Y9YTttKG51bGwsbnVsbCwhMCl9LGdldDpmdW5jdGlvbigpe3JldHVybiBDfSx3aWR0aElucHV0OmwsaGVpZ2h0SW5wdXQ6bn19OwpQYWdlU2V0dXBEaWFsb2cuZ2V0Rm9ybWF0cz1mdW5jdGlvbigpe3JldHVyblt7a2V5OiJsZXR0ZXIiLHRpdGxlOidVUy1MZXR0ZXIgKDgsNSIgeCAxMSIpJyxmb3JtYXQ6bXhDb25zdGFudHMuUEFHRV9GT1JNQVRfTEVUVEVSX1BPUlRSQUlUfSx7a2V5OiJsZWdhbCIsdGl0bGU6J1VTLUxlZ2FsICg4LDUiIHggMTQiKScsZm9ybWF0Om5ldyBteFJlY3RhbmdsZSgwLDAsODUwLDE0MDApfSx7a2V5OiJ0YWJsb2lkIix0aXRsZTonVVMtVGFibG9pZCAoMTEiIHggMTciKScsZm9ybWF0Om5ldyBteFJlY3RhbmdsZSgwLDAsMTEwMCwxNzAwKX0se2tleToiZXhlY3V0aXZlIix0aXRsZTonVVMtRXhlY3V0aXZlICg3IiB4IDEwIiknLGZvcm1hdDpuZXcgbXhSZWN0YW5nbGUoMCwwLDcwMCwxRTMpfSx7a2V5OiJhMCIsdGl0bGU6IkEwICg4NDEgbW0geCAxMTg5IG1tKSIsZm9ybWF0Om5ldyBteFJlY3RhbmdsZSgwLDAsMzMwMCw0NjgxKX0se2tleToiYTEiLHRpdGxlOiJBMSAoNTk0IG1tIHggODQxIG1tKSIsCmZvcm1hdDpuZXcgbXhSZWN0YW5nbGUoMCwwLDIzMzksMzMwMCl9LHtrZXk6ImEyIix0aXRsZToiQTIgKDQyMCBtbSB4IDU5NCBtbSkiLGZvcm1hdDpuZXcgbXhSZWN0YW5nbGUoMCwwLDE2NTQsMjMzNil9LHtrZXk6ImEzIix0aXRsZToiQTMgKDI5NyBtbSB4IDQyMCBtbSkiLGZvcm1hdDpuZXcgbXhSZWN0YW5nbGUoMCwwLDExNjksMTY1NCl9LHtrZXk6ImE0Iix0aXRsZToiQTQgKDIxMCBtbSB4IDI5NyBtbSkiLGZvcm1hdDpteENvbnN0YW50cy5QQUdFX0ZPUk1BVF9BNF9QT1JUUkFJVH0se2tleToiYTUiLHRpdGxlOiJBNSAoMTQ4IG1tIHggMjEwIG1tKSIsZm9ybWF0Om5ldyBteFJlY3RhbmdsZSgwLDAsNTgzLDgyNyl9LHtrZXk6ImE2Iix0aXRsZToiQTYgKDEwNSBtbSB4IDE0OCBtbSkiLGZvcm1hdDpuZXcgbXhSZWN0YW5nbGUoMCwwLDQxMyw1ODMpfSx7a2V5OiJhNyIsdGl0bGU6IkE3ICg3NCBtbSB4IDEwNSBtbSkiLGZvcm1hdDpuZXcgbXhSZWN0YW5nbGUoMCwwLDI5MSw0MTMpfSwKe2tleToiYjQiLHRpdGxlOiJCNCAoMjUwIG1tIHggMzUzIG1tKSIsZm9ybWF0Om5ldyBteFJlY3RhbmdsZSgwLDAsOTgwLDEzOTApfSx7a2V5OiJiNSIsdGl0bGU6IkI1ICgxNzYgbW0geCAyNTAgbW0pIixmb3JtYXQ6bmV3IG14UmVjdGFuZ2xlKDAsMCw2OTAsOTgwKX0se2tleToiMTYtOSIsdGl0bGU6IjE2OjkgKDE2MDAgeCA5MDApIixmb3JtYXQ6bmV3IG14UmVjdGFuZ2xlKDAsMCwxNjAwLDkwMCl9LHtrZXk6IjE2LTEwIix0aXRsZToiMTY6MTAgKDE5MjAgeCAxMjAwKSIsZm9ybWF0Om5ldyBteFJlY3RhbmdsZSgwLDAsMTkyMCwxMjAwKX0se2tleToiNC0zIix0aXRsZToiNDozICgxNjAwIHggMTIwMCkiLGZvcm1hdDpuZXcgbXhSZWN0YW5nbGUoMCwwLDE2MDAsMTIwMCl9LHtrZXk6ImN1c3RvbSIsdGl0bGU6bXhSZXNvdXJjZXMuZ2V0KCJjdXN0b20iKSxmb3JtYXQ6bnVsbH1dfTsKdmFyIEZpbGVuYW1lRGlhbG9nPWZ1bmN0aW9uKGEsZCxmLGMsbSxrLHEsYixlLGcscCxsKXtlPW51bGwhPWU/ZTohMDt2YXIgbix2LHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGFibGUiKSx5PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRib2R5Iik7dC5zdHlsZS5tYXJnaW5Ub3A9IjhweCI7bj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ciIpO3Y9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGQiKTt2LnN0eWxlLndoaXRlU3BhY2U9Im5vd3JhcCI7di5zdHlsZS5mb250U2l6ZT0iMTBwdCI7di5zdHlsZS53aWR0aD1wPyI4MHB4IjoiMTIwcHgiO214VXRpbHMud3JpdGUodiwobXx8bXhSZXNvdXJjZXMuZ2V0KCJmaWxlbmFtZSIpKSsiOiIpO24uYXBwZW5kQ2hpbGQodik7dmFyIHg9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTt4LnNldEF0dHJpYnV0ZSgidmFsdWUiLGR8fCIiKTt4LnN0eWxlLm1hcmdpbkxlZnQ9IjRweCI7eC5zdHlsZS53aWR0aD1udWxsIT1sP2wrCiJweCI6IjE4MHB4Ijt2YXIgRT1teFV0aWxzLmJ1dHRvbihmLGZ1bmN0aW9uKCl7aWYobnVsbD09a3x8ayh4LnZhbHVlKSllJiZhLmhpZGVEaWFsb2coKSxjKHgudmFsdWUpfSk7RS5jbGFzc05hbWU9ImdlQnRuIGdlUHJpbWFyeUJ0biI7dGhpcy5pbml0PWZ1bmN0aW9uKCl7aWYobnVsbCE9bXx8bnVsbD09cSlpZih4LmZvY3VzKCksbXhDbGllbnQuSVNfR0N8fG14Q2xpZW50LklTX0ZGfHw1PD1kb2N1bWVudC5kb2N1bWVudE1vZGV8fG14Q2xpZW50LklTX1FVSVJLUz94LnNlbGVjdCgpOmRvY3VtZW50LmV4ZWNDb21tYW5kKCJzZWxlY3RBbGwiLCExLG51bGwpLEdyYXBoLmZpbGVTdXBwb3J0KXt2YXIgYT10LnBhcmVudE5vZGU7aWYobnVsbCE9YSl7dmFyIGI9bnVsbDtteEV2ZW50LmFkZExpc3RlbmVyKGEsImRyYWdsZWF2ZSIsZnVuY3Rpb24oYSl7bnVsbCE9YiYmKGIuc3R5bGUuYmFja2dyb3VuZENvbG9yPSIiLGI9bnVsbCk7YS5zdG9wUHJvcGFnYXRpb24oKTthLnByZXZlbnREZWZhdWx0KCl9KTsKbXhFdmVudC5hZGRMaXN0ZW5lcihhLCJkcmFnb3ZlciIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7bnVsbD09YiYmKCFteENsaWVudC5JU19JRXx8MTA8ZG9jdW1lbnQuZG9jdW1lbnRNb2RlKSYmKGI9eCxiLnN0eWxlLmJhY2tncm91bmRDb2xvcj0iI2ViZjJmOSIpO2Euc3RvcFByb3BhZ2F0aW9uKCk7YS5wcmV2ZW50RGVmYXVsdCgpfSkpO214RXZlbnQuYWRkTGlzdGVuZXIoYSwiZHJvcCIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7bnVsbCE9YiYmKGIuc3R5bGUuYmFja2dyb3VuZENvbG9yPSIiLGI9bnVsbCk7MDw9bXhVdGlscy5pbmRleE9mKGEuZGF0YVRyYW5zZmVyLnR5cGVzLCJ0ZXh0L3VyaS1saXN0IikmJih4LnZhbHVlPWRlY29kZVVSSUNvbXBvbmVudChhLmRhdGFUcmFuc2Zlci5nZXREYXRhKCJ0ZXh0L3VyaS1saXN0IikpLEUuY2xpY2soKSk7YS5zdG9wUHJvcGFnYXRpb24oKTthLnByZXZlbnREZWZhdWx0KCl9KSl9fX07dj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ZCIpOwp2LnN0eWxlLndoaXRlU3BhY2U9Im5vd3JhcCI7di5hcHBlbmRDaGlsZCh4KTtuLmFwcGVuZENoaWxkKHYpO2lmKG51bGwhPW18fG51bGw9PXEpeS5hcHBlbmRDaGlsZChuKSxudWxsIT1wJiYobnVsbCE9YS5lZGl0b3IuZGlhZ3JhbUZpbGVUeXBlcyYmKG49RmlsZW5hbWVEaWFsb2cuY3JlYXRlRmlsZVR5cGVzKGEseCxhLmVkaXRvci5kaWFncmFtRmlsZVR5cGVzKSxuLnN0eWxlLm1hcmdpbkxlZnQ9IjZweCIsbi5zdHlsZS53aWR0aD0iNzRweCIsdi5hcHBlbmRDaGlsZChuKSx4LnN0eWxlLndpZHRoPW51bGwhPWw/bC00MCsicHgiOiIxNDBweCIpLHYuYXBwZW5kQ2hpbGQoRmlsZW5hbWVEaWFsb2cuY3JlYXRlVHlwZUhpbnQoYSx4LHApKSk7bnVsbCE9cSYmKG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidHIiKSx2PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRkIiksdi5jb2xTcGFuPTIsdi5hcHBlbmRDaGlsZChxKSxuLmFwcGVuZENoaWxkKHYpLHkuYXBwZW5kQ2hpbGQobikpO249CmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRyIik7dj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ZCIpO3YuY29sU3Bhbj0yO3Yuc3R5bGUucGFkZGluZ1RvcD0iMjBweCI7di5zdHlsZS53aGl0ZVNwYWNlPSJub3dyYXAiO3Yuc2V0QXR0cmlidXRlKCJhbGlnbiIsInJpZ2h0Iik7cD1teFV0aWxzLmJ1dHRvbihteFJlc291cmNlcy5nZXQoImNhbmNlbCIpLGZ1bmN0aW9uKCl7YS5oaWRlRGlhbG9nKCk7bnVsbCE9ZyYmZygpfSk7cC5jbGFzc05hbWU9ImdlQnRuIjthLmVkaXRvci5jYW5jZWxGaXJzdCYmdi5hcHBlbmRDaGlsZChwKTtudWxsIT1iJiYobD1teFV0aWxzLmJ1dHRvbihteFJlc291cmNlcy5nZXQoImhlbHAiKSxmdW5jdGlvbigpe2EuZWRpdG9yLmdyYXBoLm9wZW5MaW5rKGIpfSksbC5jbGFzc05hbWU9ImdlQnRuIix2LmFwcGVuZENoaWxkKGwpKTtteEV2ZW50LmFkZExpc3RlbmVyKHgsImtleXByZXNzIixmdW5jdGlvbihhKXsxMz09YS5rZXlDb2RlJiZFLmNsaWNrKCl9KTsKdi5hcHBlbmRDaGlsZChFKTthLmVkaXRvci5jYW5jZWxGaXJzdHx8di5hcHBlbmRDaGlsZChwKTtuLmFwcGVuZENoaWxkKHYpO3kuYXBwZW5kQ2hpbGQobik7dC5hcHBlbmRDaGlsZCh5KTt0aGlzLmNvbnRhaW5lcj10fTtGaWxlbmFtZURpYWxvZy5maWxlbmFtZUhlbHBMaW5rPW51bGw7CkZpbGVuYW1lRGlhbG9nLmNyZWF0ZVR5cGVIaW50PWZ1bmN0aW9uKGEsZCxmKXt2YXIgYz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbWciKTtjLnN0eWxlLmNzc1RleHQ9InZlcnRpY2FsLWFsaWduOnRvcDtoZWlnaHQ6MTZweDt3aWR0aDoxNnB4O21hcmdpbi1sZWZ0OjRweDtiYWNrZ3JvdW5kLXJlcGVhdDpuby1yZXBlYXQ7YmFja2dyb3VuZC1wb3NpdGlvbjpjZW50ZXIgYm90dG9tO2N1cnNvcjpwb2ludGVyOyI7bXhVdGlscy5zZXRPcGFjaXR5KGMsNzApO3ZhciBtPWZ1bmN0aW9uKCl7Yy5zZXRBdHRyaWJ1dGUoInNyYyIsRWRpdG9yLmhlbHBJbWFnZSk7Yy5zZXRBdHRyaWJ1dGUoInRpdGxlIixteFJlc291cmNlcy5nZXQoImhlbHAiKSk7Zm9yKHZhciBhPTA7YTxmLmxlbmd0aDthKyspaWYoMDxmW2FdLmV4dC5sZW5ndGgmJmQudmFsdWUudG9Mb3dlckNhc2UoKS5zdWJzdHJpbmcoZC52YWx1ZS5sZW5ndGgtZlthXS5leHQubGVuZ3RoLTEpPT0iLiIrZlthXS5leHQpe2Muc2V0QXR0cmlidXRlKCJzcmMiLApteENsaWVudC5pbWFnZUJhc2VQYXRoKyIvd2FybmluZy5wbmciKTtjLnNldEF0dHJpYnV0ZSgidGl0bGUiLG14UmVzb3VyY2VzLmdldChmW2FdLnRpdGxlKSk7YnJlYWt9fTtteEV2ZW50LmFkZExpc3RlbmVyKGQsImtleXVwIixtKTtteEV2ZW50LmFkZExpc3RlbmVyKGQsImNoYW5nZSIsbSk7bXhFdmVudC5hZGRMaXN0ZW5lcihjLCJjbGljayIsZnVuY3Rpb24oZCl7dmFyIGY9Yy5nZXRBdHRyaWJ1dGUoInRpdGxlIik7Yy5nZXRBdHRyaWJ1dGUoInNyYyIpPT1FZGl0b3IuaGVscEltYWdlP2EuZWRpdG9yLmdyYXBoLm9wZW5MaW5rKEZpbGVuYW1lRGlhbG9nLmZpbGVuYW1lSGVscExpbmspOiIiIT1mJiZhLnNob3dFcnJvcihudWxsLGYsbXhSZXNvdXJjZXMuZ2V0KCJoZWxwIiksZnVuY3Rpb24oKXthLmVkaXRvci5ncmFwaC5vcGVuTGluayhGaWxlbmFtZURpYWxvZy5maWxlbmFtZUhlbHBMaW5rKX0sbnVsbCxteFJlc291cmNlcy5nZXQoIm9rIiksbnVsbCxudWxsLG51bGwsMzQwLDkwKTsKbXhFdmVudC5jb25zdW1lKGQpfSk7bSgpO3JldHVybiBjfTsKRmlsZW5hbWVEaWFsb2cuY3JlYXRlRmlsZVR5cGVzPWZ1bmN0aW9uKGEsZCxmKXt2YXIgYz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzZWxlY3QiKTtmb3IoYT0wO2E8Zi5sZW5ndGg7YSsrKXt2YXIgbT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJvcHRpb24iKTttLnNldEF0dHJpYnV0ZSgidmFsdWUiLGEpO214VXRpbHMud3JpdGUobSxteFJlc291cmNlcy5nZXQoZlthXS5kZXNjcmlwdGlvbikrIiAoLiIrZlthXS5leHRlbnNpb24rIikiKTtjLmFwcGVuZENoaWxkKG0pfW14RXZlbnQuYWRkTGlzdGVuZXIoYywiY2hhbmdlIixmdW5jdGlvbihhKXthPWZbYy52YWx1ZV0uZXh0ZW5zaW9uO3ZhciBrPWQudmFsdWUubGFzdEluZGV4T2YoIi4iKTswPGs/KGE9ZltjLnZhbHVlXS5leHRlbnNpb24sZC52YWx1ZT1kLnZhbHVlLnN1YnN0cmluZygwLGsrMSkrYSk6ZC52YWx1ZT1kLnZhbHVlKyIuIithOyJjcmVhdGVFdmVudCJpbiBkb2N1bWVudD8oYT1kb2N1bWVudC5jcmVhdGVFdmVudCgiSFRNTEV2ZW50cyIpLAphLmluaXRFdmVudCgiY2hhbmdlIiwhMSwhMCksZC5kaXNwYXRjaEV2ZW50KGEpKTpkLmZpcmVFdmVudCgib25jaGFuZ2UiKX0pO2E9ZnVuY3Rpb24oYSl7dmFyIGs9ZC52YWx1ZS5sYXN0SW5kZXhPZigiLiIpO2E9MDtpZigwPGspZm9yKHZhciBrPWQudmFsdWUudG9Mb3dlckNhc2UoKS5zdWJzdHJpbmcoaysxKSxiPTA7YjxmLmxlbmd0aDtiKyspaWYoaz09ZltiXS5leHRlbnNpb24pe2E9YjticmVha31jLnZhbHVlPWF9O214RXZlbnQuYWRkTGlzdGVuZXIoZCwiY2hhbmdlIixhKTtteEV2ZW50LmFkZExpc3RlbmVyKGQsImtleXVwIixhKTthKCk7cmV0dXJuIGN9OwooZnVuY3Rpb24oKXtteEdyYXBoVmlldy5wcm90b3R5cGUudmFsaWRhdGVCYWNrZ3JvdW5kUGFnZT1mdW5jdGlvbigpe3ZhciBhPXRoaXMuZ3JhcGg7aWYobnVsbCE9YS5jb250YWluZXImJiFhLnRyYW5zcGFyZW50QmFja2dyb3VuZCl7aWYoYS5wYWdlVmlzaWJsZSl7dmFyIGI9dGhpcy5nZXRCYWNrZ3JvdW5kUGFnZUJvdW5kcygpO2lmKG51bGw9PXRoaXMuYmFja2dyb3VuZFBhZ2VTaGFwZSl7Zm9yKHZhciBlPWEuY29udGFpbmVyLmZpcnN0Q2hpbGQ7bnVsbCE9ZSYmZS5ub2RlVHlwZSE9bXhDb25zdGFudHMuTk9ERVRZUEVfRUxFTUVOVDspZT1lLm5leHRTaWJsaW5nO251bGwhPWUmJih0aGlzLmJhY2tncm91bmRQYWdlU2hhcGU9dGhpcy5jcmVhdGVCYWNrZ3JvdW5kUGFnZVNoYXBlKGIpLHRoaXMuYmFja2dyb3VuZFBhZ2VTaGFwZS5zY2FsZT0xLHRoaXMuYmFja2dyb3VuZFBhZ2VTaGFwZS5pc1NoYWRvdz0hbXhDbGllbnQuSVNfUVVJUktTLHRoaXMuYmFja2dyb3VuZFBhZ2VTaGFwZS5kaWFsZWN0PQpteENvbnN0YW50cy5ESUFMRUNUX1NUUklDVEhUTUwsdGhpcy5iYWNrZ3JvdW5kUGFnZVNoYXBlLmluaXQoYS5jb250YWluZXIpLGUuc3R5bGUucG9zaXRpb249ImFic29sdXRlIixhLmNvbnRhaW5lci5pbnNlcnRCZWZvcmUodGhpcy5iYWNrZ3JvdW5kUGFnZVNoYXBlLm5vZGUsZSksdGhpcy5iYWNrZ3JvdW5kUGFnZVNoYXBlLnJlZHJhdygpLHRoaXMuYmFja2dyb3VuZFBhZ2VTaGFwZS5ub2RlLmNsYXNzTmFtZT0iZ2VCYWNrZ3JvdW5kUGFnZSIsbXhFdmVudC5hZGRMaXN0ZW5lcih0aGlzLmJhY2tncm91bmRQYWdlU2hhcGUubm9kZSwiZGJsY2xpY2siLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGIpe2EuZGJsQ2xpY2soYil9KSksbXhFdmVudC5hZGRHZXN0dXJlTGlzdGVuZXJzKHRoaXMuYmFja2dyb3VuZFBhZ2VTaGFwZS5ub2RlLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGIpe2EuZmlyZU1vdXNlRXZlbnQobXhFdmVudC5NT1VTRV9ET1dOLG5ldyBteE1vdXNlRXZlbnQoYikpfSksCm14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGIpe251bGwhPWEudG9vbHRpcEhhbmRsZXImJmEudG9vbHRpcEhhbmRsZXIuaXNIaWRlT25Ib3ZlcigpJiZhLnRvb2x0aXBIYW5kbGVyLmhpZGUoKTthLmlzTW91c2VEb3duJiYhbXhFdmVudC5pc0NvbnN1bWVkKGIpJiZhLmZpcmVNb3VzZUV2ZW50KG14RXZlbnQuTU9VU0VfTU9WRSxuZXcgbXhNb3VzZUV2ZW50KGIpKX0pLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGIpe2EuZmlyZU1vdXNlRXZlbnQobXhFdmVudC5NT1VTRV9VUCxuZXcgbXhNb3VzZUV2ZW50KGIpKX0pKSl9ZWxzZSB0aGlzLmJhY2tncm91bmRQYWdlU2hhcGUuc2NhbGU9MSx0aGlzLmJhY2tncm91bmRQYWdlU2hhcGUuYm91bmRzPWIsdGhpcy5iYWNrZ3JvdW5kUGFnZVNoYXBlLnJlZHJhdygpfWVsc2UgbnVsbCE9dGhpcy5iYWNrZ3JvdW5kUGFnZVNoYXBlJiYodGhpcy5iYWNrZ3JvdW5kUGFnZVNoYXBlLmRlc3Ryb3koKSx0aGlzLmJhY2tncm91bmRQYWdlU2hhcGU9Cm51bGwpO3RoaXMudmFsaWRhdGVCYWNrZ3JvdW5kU3R5bGVzKCl9fTtteEdyYXBoVmlldy5wcm90b3R5cGUudmFsaWRhdGVCYWNrZ3JvdW5kU3R5bGVzPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5ncmFwaCxiPW51bGw9PWEuYmFja2dyb3VuZHx8YS5iYWNrZ3JvdW5kPT1teENvbnN0YW50cy5OT05FP2EuZGVmYXVsdFBhZ2VCYWNrZ3JvdW5kQ29sb3I6YS5iYWNrZ3JvdW5kLGU9bnVsbCE9YiYmdGhpcy5ncmlkQ29sb3IhPWIudG9Mb3dlckNhc2UoKT90aGlzLmdyaWRDb2xvcjoiI2ZmZmZmZiIsYz0ibm9uZSIsZD0iIjtpZihhLmlzR3JpZEVuYWJsZWQoKSl7ZD0xMDtteENsaWVudC5JU19TVkc/KGM9dW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KHRoaXMuY3JlYXRlU3ZnR3JpZChlKSkpLGM9d2luZG93LmJ0b2E/YnRvYShjKTpCYXNlNjQuZW5jb2RlKGMsITApLGM9InVybChkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LCIrYysiKSIsZD1hLmdyaWRTaXplKnRoaXMuc2NhbGUqdGhpcy5ncmlkU3RlcHMpOgpjPSJ1cmwoIit0aGlzLmdyaWRJbWFnZSsiKSI7dmFyIGY9ZT0wO251bGwhPWEudmlldy5iYWNrZ3JvdW5kUGFnZVNoYXBlJiYoZj10aGlzLmdldEJhY2tncm91bmRQYWdlQm91bmRzKCksZT0xK2YueCxmPTErZi55KTtkPS1NYXRoLnJvdW5kKGQtbXhVdGlscy5tb2QodGhpcy50cmFuc2xhdGUueCp0aGlzLnNjYWxlLWUsZCkpKyJweCAiKy1NYXRoLnJvdW5kKGQtbXhVdGlscy5tb2QodGhpcy50cmFuc2xhdGUueSp0aGlzLnNjYWxlLWYsZCkpKyJweCJ9ZT1hLnZpZXcuY2FudmFzO251bGwhPWUub3duZXJTVkdFbGVtZW50JiYoZT1lLm93bmVyU1ZHRWxlbWVudCk7bnVsbCE9YS52aWV3LmJhY2tncm91bmRQYWdlU2hhcGU/KGEudmlldy5iYWNrZ3JvdW5kUGFnZVNoYXBlLm5vZGUuc3R5bGUuYmFja2dyb3VuZFBvc2l0aW9uPWQsYS52aWV3LmJhY2tncm91bmRQYWdlU2hhcGUubm9kZS5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2U9YyxhLnZpZXcuYmFja2dyb3VuZFBhZ2VTaGFwZS5ub2RlLnN0eWxlLmJhY2tncm91bmRDb2xvcj0KYixhLmNvbnRhaW5lci5jbGFzc05hbWU9ImdlRGlhZ3JhbUNvbnRhaW5lciBnZURpYWdyYW1CYWNrZHJvcCIsZS5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2U9Im5vbmUiLGUuc3R5bGUuYmFja2dyb3VuZENvbG9yPSIiKTooYS5jb250YWluZXIuY2xhc3NOYW1lPSJnZURpYWdyYW1Db250YWluZXIiLGUuc3R5bGUuYmFja2dyb3VuZFBvc2l0aW9uPWQsZS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9YixlLnN0eWxlLmJhY2tncm91bmRJbWFnZT1jKX07bXhHcmFwaFZpZXcucHJvdG90eXBlLmNyZWF0ZVN2Z0dyaWQ9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPXRoaXMuZ3JhcGguZ3JpZFNpemUqdGhpcy5zY2FsZTtiPHRoaXMubWluR3JpZFNpemU7KWIqPTI7Zm9yKHZhciBlPXRoaXMuZ3JpZFN0ZXBzKmIsYz1bXSxkPTE7ZDx0aGlzLmdyaWRTdGVwcztkKyspe3ZhciBmPWQqYjtjLnB1c2goIk0gMCAiK2YrIiBMICIrZSsiICIrZisiIE0gIitmKyIgMCBMICIrZisiICIrZSl9cmV0dXJuJzxzdmcgd2lkdGg9IicrCmUrJyIgaGVpZ2h0PSInK2UrJyIgeG1sbnM9IicrbXhDb25zdGFudHMuTlNfU1ZHKyciPjxkZWZzPjxwYXR0ZXJuIGlkPSJncmlkIiB3aWR0aD0iJytlKyciIGhlaWdodD0iJytlKyciIHBhdHRlcm5Vbml0cz0idXNlclNwYWNlT25Vc2UiPjxwYXRoIGQ9IicrYy5qb2luKCIgIikrJyIgZmlsbD0ibm9uZSIgc3Ryb2tlPSInK2ErJyIgb3BhY2l0eT0iMC4yIiBzdHJva2Utd2lkdGg9IjEiLz48cGF0aCBkPSJNICcrZSsiIDAgTCAwIDAgMCAiK2UrJyIgZmlsbD0ibm9uZSIgc3Ryb2tlPSInK2ErJyIgc3Ryb2tlLXdpZHRoPSIxIi8+PC9wYXR0ZXJuPjwvZGVmcz48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJ1cmwoI2dyaWQpIi8+PC9zdmc+J307dmFyIGE9bXhHcmFwaC5wcm90b3R5cGUucGFuR3JhcGg7bXhHcmFwaC5wcm90b3R5cGUucGFuR3JhcGg9ZnVuY3Rpb24oYyxiKXthLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtpZihudWxsIT10aGlzLnNoaWZ0UHJldmlldzEpe3ZhciBlPQp0aGlzLnZpZXcuY2FudmFzO251bGwhPWUub3duZXJTVkdFbGVtZW50JiYoZT1lLm93bmVyU1ZHRWxlbWVudCk7dmFyIGQ9dGhpcy5ncmlkU2l6ZSp0aGlzLnZpZXcuc2NhbGUqdGhpcy52aWV3LmdyaWRTdGVwcyxkPS1NYXRoLnJvdW5kKGQtbXhVdGlscy5tb2QodGhpcy52aWV3LnRyYW5zbGF0ZS54KnRoaXMudmlldy5zY2FsZStjLGQpKSsicHggIistTWF0aC5yb3VuZChkLW14VXRpbHMubW9kKHRoaXMudmlldy50cmFuc2xhdGUueSp0aGlzLnZpZXcuc2NhbGUrYixkKSkrInB4IjtlLnN0eWxlLmJhY2tncm91bmRQb3NpdGlvbj1kfX07bXhHcmFwaC5wcm90b3R5cGUudXBkYXRlUGFnZUJyZWFrcz1mdW5jdGlvbihhLGIsZSl7dmFyIGM9dGhpcy52aWV3LnNjYWxlLGQ9dGhpcy52aWV3LnRyYW5zbGF0ZSxmPXRoaXMucGFnZUZvcm1hdCxuPWMqdGhpcy5wYWdlU2NhbGUsaz10aGlzLnZpZXcuZ2V0QmFja2dyb3VuZFBhZ2VCb3VuZHMoKTtiPWsud2lkdGg7ZT1rLmhlaWdodDt2YXIgdD0KbmV3IG14UmVjdGFuZ2xlKGMqZC54LGMqZC55LGYud2lkdGgqbixmLmhlaWdodCpuKSx5PShhPWEmJk1hdGgubWluKHQud2lkdGgsdC5oZWlnaHQpPnRoaXMubWluUGFnZUJyZWFrRGlzdCk/TWF0aC5jZWlsKGUvdC5oZWlnaHQpLTE6MCxtPWE/TWF0aC5jZWlsKGIvdC53aWR0aCktMTowLHE9ay54K2IsQT1rLnkrZTtudWxsPT10aGlzLmhvcml6b250YWxQYWdlQnJlYWtzJiYwPHkmJih0aGlzLmhvcml6b250YWxQYWdlQnJlYWtzPVtdKTtudWxsPT10aGlzLnZlcnRpY2FsUGFnZUJyZWFrcyYmMDxtJiYodGhpcy52ZXJ0aWNhbFBhZ2VCcmVha3M9W10pO2E9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7aWYobnVsbCE9YSl7Zm9yKHZhciBiPWE9PXRoaXMuaG9yaXpvbnRhbFBhZ2VCcmVha3M/eTptLGU9MDtlPD1iO2UrKyl7dmFyIGM9YT09dGhpcy5ob3Jpem9udGFsUGFnZUJyZWFrcz9bbmV3IG14UG9pbnQoTWF0aC5yb3VuZChrLngpLE1hdGgucm91bmQoay55KyhlKzEpKnQuaGVpZ2h0KSksCm5ldyBteFBvaW50KE1hdGgucm91bmQocSksTWF0aC5yb3VuZChrLnkrKGUrMSkqdC5oZWlnaHQpKV06W25ldyBteFBvaW50KE1hdGgucm91bmQoay54KyhlKzEpKnQud2lkdGgpLE1hdGgucm91bmQoay55KSksbmV3IG14UG9pbnQoTWF0aC5yb3VuZChrLngrKGUrMSkqdC53aWR0aCksTWF0aC5yb3VuZChBKSldO251bGwhPWFbZV0/KGFbZV0ucG9pbnRzPWMsYVtlXS5yZWRyYXcoKSk6KGM9bmV3IG14UG9seWxpbmUoYyx0aGlzLnBhZ2VCcmVha0NvbG9yKSxjLmRpYWxlY3Q9dGhpcy5kaWFsZWN0LGMuaXNEYXNoZWQ9dGhpcy5wYWdlQnJlYWtEYXNoZWQsYy5wb2ludGVyRXZlbnRzPSExLGMuaW5pdCh0aGlzLnZpZXcuYmFja2dyb3VuZFBhbmUpLGMucmVkcmF3KCksYVtlXT1jKX1mb3IoZT1iO2U8YS5sZW5ndGg7ZSsrKWFbZV0uZGVzdHJveSgpO2Euc3BsaWNlKGIsYS5sZW5ndGgtYil9fSk7YSh0aGlzLmhvcml6b250YWxQYWdlQnJlYWtzKTthKHRoaXMudmVydGljYWxQYWdlQnJlYWtzKX07CnZhciBkPW14R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5zaG91bGRSZW1vdmVDZWxsc0Zyb21QYXJlbnQ7bXhHcmFwaEhhbmRsZXIucHJvdG90eXBlLnNob3VsZFJlbW92ZUNlbGxzRnJvbVBhcmVudD1mdW5jdGlvbihhLGIsZSl7Zm9yKHZhciBjPTA7YzxiLmxlbmd0aDtjKyspaWYodGhpcy5ncmFwaC5nZXRNb2RlbCgpLmlzVmVydGV4KGJbY10pKXt2YXIgZj10aGlzLmdyYXBoLmdldENlbGxHZW9tZXRyeShiW2NdKTtpZihudWxsIT1mJiZmLnJlbGF0aXZlKXJldHVybiExfXJldHVybiBkLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07dmFyIGY9bXhDb25uZWN0aW9uSGFuZGxlci5wcm90b3R5cGUuY3JlYXRlTWFya2VyO214Q29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLmNyZWF0ZU1hcmtlcj1mdW5jdGlvbigpe3ZhciBhPWYuYXBwbHkodGhpcyxhcmd1bWVudHMpO2EuaW50ZXJzZWN0cz1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihiLGUpe3JldHVybiB0aGlzLmlzQ29ubmVjdGluZygpPwohMDpteENlbGxNYXJrZXIucHJvdG90eXBlLmludGVyc2VjdHMuYXBwbHkoYSxhcmd1bWVudHMpfSk7cmV0dXJuIGF9O214R3JhcGhWaWV3LnByb3RvdHlwZS5jcmVhdGVCYWNrZ3JvdW5kUGFnZVNoYXBlPWZ1bmN0aW9uKGEpe3JldHVybiBuZXcgbXhSZWN0YW5nbGVTaGFwZShhLCIjZmZmZmZmIix0aGlzLmdyYXBoLmRlZmF1bHRQYWdlQm9yZGVyQ29sb3IpfTtteEdyYXBoVmlldy5wcm90b3R5cGUuZ2V0QmFja2dyb3VuZFBhZ2VCb3VuZHM9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldEdyYXBoQm91bmRzKCksYj0wPGEud2lkdGg/YS54L3RoaXMuc2NhbGUtdGhpcy50cmFuc2xhdGUueDowLGU9MDxhLmhlaWdodD9hLnkvdGhpcy5zY2FsZS10aGlzLnRyYW5zbGF0ZS55OjAsYz10aGlzLmdyYXBoLnBhZ2VGb3JtYXQsZD10aGlzLmdyYXBoLnBhZ2VTY2FsZSxmPWMud2lkdGgqZCxjPWMuaGVpZ2h0KmQsZD1NYXRoLmZsb29yKE1hdGgubWluKDAsYikvZiksbj1NYXRoLmZsb29yKE1hdGgubWluKDAsCmUpL2MpO3JldHVybiBuZXcgbXhSZWN0YW5nbGUodGhpcy5zY2FsZSoodGhpcy50cmFuc2xhdGUueCtkKmYpLHRoaXMuc2NhbGUqKHRoaXMudHJhbnNsYXRlLnkrbipjKSx0aGlzLnNjYWxlKihNYXRoLmNlaWwoTWF0aC5tYXgoMSxiK2Eud2lkdGgvdGhpcy5zY2FsZSkvZiktZCkqZix0aGlzLnNjYWxlKihNYXRoLmNlaWwoTWF0aC5tYXgoMSxlK2EuaGVpZ2h0L3RoaXMuc2NhbGUpL2MpLW4pKmMpfTt2YXIgYz1teEdyYXBoLnByb3RvdHlwZS5wYW5HcmFwaDtteEdyYXBoLnByb3RvdHlwZS5wYW5HcmFwaD1mdW5jdGlvbihhLGIpe2MuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuZGlhbGVjdD09bXhDb25zdGFudHMuRElBTEVDVF9TVkd8fG51bGw9PXRoaXMudmlldy5iYWNrZ3JvdW5kUGFnZVNoYXBlfHx0aGlzLnVzZVNjcm9sbGJhcnNGb3JQYW5uaW5nJiZteFV0aWxzLmhhc1Njcm9sbGJhcnModGhpcy5jb250YWluZXIpfHwodGhpcy52aWV3LmJhY2tncm91bmRQYWdlU2hhcGUubm9kZS5zdHlsZS5tYXJnaW5MZWZ0PQphKyJweCIsdGhpcy52aWV3LmJhY2tncm91bmRQYWdlU2hhcGUubm9kZS5zdHlsZS5tYXJnaW5Ub3A9YisicHgiKX07dmFyIG09bXhQb3B1cE1lbnUucHJvdG90eXBlLmFkZEl0ZW07bXhQb3B1cE1lbnUucHJvdG90eXBlLmFkZEl0ZW09ZnVuY3Rpb24oYSxiLGUsYyxkLGYpe3ZhciBnPW0uYXBwbHkodGhpcyxhcmd1bWVudHMpO251bGw9PWZ8fGZ8fG14RXZlbnQuYWRkTGlzdGVuZXIoZywibW91c2Vkb3duIixmdW5jdGlvbihhKXtteEV2ZW50LmNvbnN1bWUoYSl9KTtyZXR1cm4gZ307dmFyIGs9bXhHcmFwaEhhbmRsZXIucHJvdG90eXBlLmlzUHJvcGFnYXRlU2VsZWN0aW9uQ2VsbDtteEdyYXBoSGFuZGxlci5wcm90b3R5cGUuaXNQcm9wYWdhdGVTZWxlY3Rpb25DZWxsPWZ1bmN0aW9uKGEsYixlKXt2YXIgYyxkPXRoaXMuZ3JhcGgubW9kZWwuZ2V0UGFyZW50KGEpO2lmKGIpcmV0dXJuIGM9dGhpcy5ncmFwaC5nZXRDZWxsR2VvbWV0cnkoYSksIXRoaXMuZ3JhcGgubW9kZWwuaXNFZGdlKGEpJiYKIXRoaXMuZ3JhcGgubW9kZWwuaXNFZGdlKGQpJiYhdGhpcy5ncmFwaC5pc1NpYmxpbmdTZWxlY3RlZChhKSYmKG51bGw9PWN8fGMucmVsYXRpdmV8fCF0aGlzLmdyYXBoLmlzQ29udGFpbmVyKGQpfHx0aGlzLmdyYXBoLmlzUGFydChhKSk7Yz1rLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtpZih0aGlzLmdyYXBoLmlzVGFibGVDZWxsKGEpfHx0aGlzLmdyYXBoLmlzVGFibGVSb3coYSkpYz1kLHRoaXMuZ3JhcGguaXNUYWJsZShjKXx8KGM9dGhpcy5ncmFwaC5tb2RlbC5nZXRQYXJlbnQoYykpLGM9IXRoaXMuZ3JhcGguc2VsZWN0aW9uQ2VsbHNIYW5kbGVyLmlzSGFuZGxlZChjKXx8dGhpcy5ncmFwaC5pc0NlbGxTZWxlY3RlZChjKSYmdGhpcy5ncmFwaC5pc1RvZ2dsZUV2ZW50KGUuZ2V0RXZlbnQoKSl8fHRoaXMuZ3JhcGguaXNDZWxsU2VsZWN0ZWQoYSkmJiF0aGlzLmdyYXBoLmlzVG9nZ2xlRXZlbnQoZS5nZXRFdmVudCgpKXx8dGhpcy5ncmFwaC5pc1RhYmxlQ2VsbChhKSYmdGhpcy5ncmFwaC5pc0NlbGxTZWxlY3RlZChkKTsKcmV0dXJuIGN9O214UG9wdXBNZW51SGFuZGxlci5wcm90b3R5cGUuZ2V0Q2VsbEZvclBvcHVwRXZlbnQ9ZnVuY3Rpb24oYSl7YT1hLmdldENlbGwoKTtmb3IodmFyIGI9dGhpcy5ncmFwaC5nZXRNb2RlbCgpLGM9Yi5nZXRQYXJlbnQoYSksZD10aGlzLmdyYXBoLnZpZXcuZ2V0U3RhdGUoYyksZj10aGlzLmdyYXBoLmlzQ2VsbFNlbGVjdGVkKGEpO251bGwhPWQmJihiLmlzVmVydGV4KGMpfHxiLmlzRWRnZShjKSk7KXt2YXIgbD10aGlzLmdyYXBoLmlzQ2VsbFNlbGVjdGVkKGMpLGY9Znx8bDtpZihsfHwhZiYmKHRoaXMuZ3JhcGguaXNUYWJsZUNlbGwoYSl8fHRoaXMuZ3JhcGguaXNUYWJsZVJvdyhhKSkpYT1jO2M9Yi5nZXRQYXJlbnQoYyl9cmV0dXJuIGF9fSkoKTtFZGl0b3JVaT1mdW5jdGlvbihhLGQsZil7bXhFdmVudFNvdXJjZS5jYWxsKHRoaXMpO3RoaXMuZGVzdHJveUZ1bmN0aW9ucz1bXTt0aGlzLmVkaXRvcj1hfHxuZXcgRWRpdG9yO3RoaXMuY29udGFpbmVyPWR8fGRvY3VtZW50LmJvZHk7dmFyIGM9dGhpcy5lZGl0b3IuZ3JhcGg7Yy5saWdodGJveD1mO2MudXNlQ3NzVHJhbnNmb3JtcyYmKHRoaXMubGF6eVpvb21EZWxheT0wKTtteENsaWVudC5JU19TVkc/bXhQb3B1cE1lbnUucHJvdG90eXBlLnN1Ym1lbnVJbWFnZT0iZGF0YTppbWFnZS9naWY7YmFzZTY0LFIwbEdPRGxoQ1FBSkFJQUFBUC8vL3pNek15SDVCQUVBQUFBQUxBQUFBQUFKQUFrQUFBSVBoSThXZWJIc0hvcFNPVmdiMjZBQUFEcz0iOihuZXcgSW1hZ2UpLnNyYz1teFBvcHVwTWVudS5wcm90b3R5cGUuc3VibWVudUltYWdlO214Q2xpZW50LklTX1NWR3x8bnVsbD09bXhDb25uZWN0aW9uSGFuZGxlci5wcm90b3R5cGUuY29ubmVjdEltYWdlfHwoKG5ldyBJbWFnZSkuc3JjPW14Q29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLmNvbm5lY3RJbWFnZS5zcmMpOwp0aGlzLmVkaXRvci5jaHJvbWVsZXNzJiYhdGhpcy5lZGl0b3IuZWRpdGFibGUmJih0aGlzLmZvb3RlckhlaWdodD0wLGMuaXNFbmFibGVkPWZ1bmN0aW9uKCl7cmV0dXJuITF9LGMucGFubmluZ0hhbmRsZXIuaXNGb3JjZVBhbm5pbmdFdmVudD1mdW5jdGlvbihhKXtyZXR1cm4hbXhFdmVudC5pc1BvcHVwVHJpZ2dlcihhLmdldEV2ZW50KCkpfSk7dGhpcy5hY3Rpb25zPW5ldyBBY3Rpb25zKHRoaXMpO3RoaXMubWVudXM9dGhpcy5jcmVhdGVNZW51cygpO2lmKCFjLnN0YW5kYWxvbmUpe3RoaXMuY3JlYXRlRGl2cygpO3RoaXMuY3JlYXRlVWkoKTt0aGlzLnJlZnJlc2goKTt2YXIgbT1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXtudWxsPT1hJiYoYT13aW5kb3cuZXZlbnQpO3JldHVybiBjLmlzRWRpdGluZygpfHxudWxsIT1hJiZ0aGlzLmlzU2VsZWN0aW9uQWxsb3dlZChhKX0pO3RoaXMuY29udGFpbmVyPT1kb2N1bWVudC5ib2R5JiYodGhpcy5tZW51YmFyQ29udGFpbmVyLm9uc2VsZWN0c3RhcnQ9Cm0sdGhpcy5tZW51YmFyQ29udGFpbmVyLm9ubW91c2Vkb3duPW0sdGhpcy50b29sYmFyQ29udGFpbmVyLm9uc2VsZWN0c3RhcnQ9bSx0aGlzLnRvb2xiYXJDb250YWluZXIub25tb3VzZWRvd249bSx0aGlzLmRpYWdyYW1Db250YWluZXIub25zZWxlY3RzdGFydD1tLHRoaXMuZGlhZ3JhbUNvbnRhaW5lci5vbm1vdXNlZG93bj1tLHRoaXMuc2lkZWJhckNvbnRhaW5lci5vbnNlbGVjdHN0YXJ0PW0sdGhpcy5zaWRlYmFyQ29udGFpbmVyLm9ubW91c2Vkb3duPW0sdGhpcy5mb3JtYXRDb250YWluZXIub25zZWxlY3RzdGFydD1tLHRoaXMuZm9ybWF0Q29udGFpbmVyLm9ubW91c2Vkb3duPW0sdGhpcy5mb290ZXJDb250YWluZXIub25zZWxlY3RzdGFydD1tLHRoaXMuZm9vdGVyQ29udGFpbmVyLm9ubW91c2Vkb3duPW0sbnVsbCE9dGhpcy50YWJDb250YWluZXImJih0aGlzLnRhYkNvbnRhaW5lci5vbnNlbGVjdHN0YXJ0PW0pKTshdGhpcy5lZGl0b3IuY2hyb21lbGVzc3x8dGhpcy5lZGl0b3IuZWRpdGFibGU/CihkPWZ1bmN0aW9uKGEpe2lmKG51bGwhPWEpe3ZhciBiPW14RXZlbnQuZ2V0U291cmNlKGEpO2lmKCJBIj09Yi5ub2RlTmFtZSlmb3IoO251bGwhPWI7KXtpZigiZ2VIaW50Ij09Yi5jbGFzc05hbWUpcmV0dXJuITA7Yj1iLnBhcmVudE5vZGV9fXJldHVybiBtKGEpfSxteENsaWVudC5JU19JRSYmKCJ1bmRlZmluZWQiPT09dHlwZW9mIGRvY3VtZW50LmRvY3VtZW50TW9kZXx8OT5kb2N1bWVudC5kb2N1bWVudE1vZGUpP214RXZlbnQuYWRkTGlzdGVuZXIodGhpcy5kaWFncmFtQ29udGFpbmVyLCJjb250ZXh0bWVudSIsZCk6dGhpcy5kaWFncmFtQ29udGFpbmVyLm9uY29udGV4dG1lbnU9ZCk6Yy5wYW5uaW5nSGFuZGxlci51c2VQb3B1cFRyaWdnZXI9ITE7Yy5pbml0KHRoaXMuZGlhZ3JhbUNvbnRhaW5lcik7bXhDbGllbnQuSVNfU1ZHJiZudWxsIT1jLnZpZXcuZ2V0RHJhd1BhbmUoKSYmKGQ9Yy52aWV3LmdldERyYXdQYW5lKCkub3duZXJTVkdFbGVtZW50LG51bGwhPWQmJihkLnN0eWxlLnBvc2l0aW9uPQoiYWJzb2x1dGUiKSk7dGhpcy5ob3Zlckljb25zPXRoaXMuY3JlYXRlSG92ZXJJY29ucygpO2lmKG51bGwhPWMuZ3JhcGhIYW5kbGVyKXt2YXIgaz1jLmdyYXBoSGFuZGxlci5zdGFydDtjLmdyYXBoSGFuZGxlci5zdGFydD1mdW5jdGlvbigpe251bGwhPXguaG92ZXJJY29ucyYmeC5ob3Zlckljb25zLnJlc2V0KCk7ay5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fW14RXZlbnQuYWRkTGlzdGVuZXIodGhpcy5kaWFncmFtQ29udGFpbmVyLCJtb3VzZW1vdmUiLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3ZhciBiPW14VXRpbHMuZ2V0T2Zmc2V0KHRoaXMuZGlhZ3JhbUNvbnRhaW5lcik7MDxteEV2ZW50LmdldENsaWVudFgoYSktYi54LXRoaXMuZGlhZ3JhbUNvbnRhaW5lci5jbGllbnRXaWR0aHx8MDxteEV2ZW50LmdldENsaWVudFkoYSktYi55LXRoaXMuZGlhZ3JhbUNvbnRhaW5lci5jbGllbnRIZWlnaHQ/dGhpcy5kaWFncmFtQ29udGFpbmVyLnNldEF0dHJpYnV0ZSgidGl0bGUiLApteFJlc291cmNlcy5nZXQoInBhblRvb2x0aXAiKSk6dGhpcy5kaWFncmFtQ29udGFpbmVyLnJlbW92ZUF0dHJpYnV0ZSgidGl0bGUiKX0pKTt2YXIgcT0hMSxiPXRoaXMuaG92ZXJJY29ucy5pc1Jlc2V0RXZlbnQ7dGhpcy5ob3Zlckljb25zLmlzUmVzZXRFdmVudD1mdW5jdGlvbihhLGMpe3JldHVybiBxfHxiLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07dGhpcy5rZXlkb3duSGFuZGxlcj1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXszMiE9YS53aGljaHx8Yy5pc0VkaXRpbmcoKT9teEV2ZW50LmlzQ29uc3VtZWQoYSl8fDI3IT1hLmtleUNvZGV8fHRoaXMuaGlkZURpYWxvZyhudWxsLCEwKToocT0hMCx0aGlzLmhvdmVySWNvbnMucmVzZXQoKSxjLmNvbnRhaW5lci5zdHlsZS5jdXJzb3I9Im1vdmUiLGMuaXNFZGl0aW5nKCl8fG14RXZlbnQuZ2V0U291cmNlKGEpIT1jLmNvbnRhaW5lcnx8bXhFdmVudC5jb25zdW1lKGEpKX0pO214RXZlbnQuYWRkTGlzdGVuZXIoZG9jdW1lbnQsCiJrZXlkb3duIix0aGlzLmtleWRvd25IYW5kbGVyKTt0aGlzLmtleXVwSGFuZGxlcj1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXtjLmNvbnRhaW5lci5zdHlsZS5jdXJzb3I9IiI7cT0hMX0pO214RXZlbnQuYWRkTGlzdGVuZXIoZG9jdW1lbnQsImtleXVwIix0aGlzLmtleXVwSGFuZGxlcik7dmFyIGU9Yy5wYW5uaW5nSGFuZGxlci5pc0ZvcmNlUGFubmluZ0V2ZW50O2MucGFubmluZ0hhbmRsZXIuaXNGb3JjZVBhbm5pbmdFdmVudD1mdW5jdGlvbihhKXtyZXR1cm4gZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHF8fG14RXZlbnQuaXNNb3VzZUV2ZW50KGEuZ2V0RXZlbnQoKSkmJih0aGlzLnVzZVBvcHVwVHJpZ2dlcnx8IW14RXZlbnQuaXNQb3B1cFRyaWdnZXIoYS5nZXRFdmVudCgpKSkmJighbXhFdmVudC5pc0NvbnRyb2xEb3duKGEuZ2V0RXZlbnQoKSkmJm14RXZlbnQuaXNSaWdodE1vdXNlQnV0dG9uKGEuZ2V0RXZlbnQoKSl8fG14RXZlbnQuaXNNaWRkbGVNb3VzZUJ1dHRvbihhLmdldEV2ZW50KCkpKX07CnZhciBnPWMuY2VsbEVkaXRvci5pc1N0b3BFZGl0aW5nRXZlbnQ7Yy5jZWxsRWRpdG9yLmlzU3RvcEVkaXRpbmdFdmVudD1mdW5jdGlvbihhKXtyZXR1cm4gZy5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fDEzPT1hLmtleUNvZGUmJighbXhDbGllbnQuSVNfU0YmJm14RXZlbnQuaXNDb250cm9sRG93bihhKXx8bXhDbGllbnQuSVNfTUFDJiZteEV2ZW50LmlzTWV0YURvd24oYSl8fG14Q2xpZW50LklTX1NGJiZteEV2ZW50LmlzU2hpZnREb3duKGEpKX07dmFyIHA9Yy5pc1pvb21XaGVlbEV2ZW50O2MuaXNab29tV2hlZWxFdmVudD1mdW5jdGlvbigpe3JldHVybiBxfHxwLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07dmFyIGw9ITEsbj1udWxsLHY9bnVsbCx0PW51bGwseT1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe2lmKG51bGwhPXRoaXMudG9vbGJhciYmbCE9Yy5jZWxsRWRpdG9yLmlzQ29udGVudEVkaXRpbmcoKSl7Zm9yKHZhciBhPXRoaXMudG9vbGJhci5jb250YWluZXIuZmlyc3RDaGlsZCwKYj1bXTtudWxsIT1hOyl7dmFyIGU9YS5uZXh0U2libGluZzswPm14VXRpbHMuaW5kZXhPZih0aGlzLnRvb2xiYXIuc3RhdGljRWxlbWVudHMsYSkmJihhLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYSksYi5wdXNoKGEpKTthPWV9YT10aGlzLnRvb2xiYXIuZm9udE1lbnU7ZT10aGlzLnRvb2xiYXIuc2l6ZU1lbnU7aWYobnVsbD09dCl0aGlzLnRvb2xiYXIuY3JlYXRlVGV4dFRvb2xiYXIoKTtlbHNle2Zvcih2YXIgZD0wO2Q8dC5sZW5ndGg7ZCsrKXRoaXMudG9vbGJhci5jb250YWluZXIuYXBwZW5kQ2hpbGQodFtkXSk7dGhpcy50b29sYmFyLmZvbnRNZW51PW47dGhpcy50b29sYmFyLnNpemVNZW51PXZ9bD1jLmNlbGxFZGl0b3IuaXNDb250ZW50RWRpdGluZygpO249YTt2PWU7dD1ifX0pLHg9dGhpcyxFPWMuY2VsbEVkaXRvci5zdGFydEVkaXRpbmc7Yy5jZWxsRWRpdG9yLnN0YXJ0RWRpdGluZz1mdW5jdGlvbigpe0UuYXBwbHkodGhpcyxhcmd1bWVudHMpO3koKTtpZihjLmNlbGxFZGl0b3IuaXNDb250ZW50RWRpdGluZygpKXt2YXIgYT0KITEsYj1mdW5jdGlvbigpe2F8fChhPSEwLHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Zm9yKHZhciBiPWMuZ2V0U2VsZWN0ZWRFbGVtZW50KCk7bnVsbCE9YiYmYi5ub2RlVHlwZSE9bXhDb25zdGFudHMuTk9ERVRZUEVfRUxFTUVOVDspYj1iLnBhcmVudE5vZGU7aWYobnVsbCE9YiYmKGI9bXhVdGlscy5nZXRDdXJyZW50U3R5bGUoYiksbnVsbCE9YiYmbnVsbCE9eC50b29sYmFyKSl7dmFyIGU9Yi5mb250RmFtaWx5OyInIj09ZS5jaGFyQXQoMCkmJihlPWUuc3Vic3RyaW5nKDEpKTsiJyI9PWUuY2hhckF0KGUubGVuZ3RoLTEpJiYoZT1lLnN1YnN0cmluZygwLGUubGVuZ3RoLTEpKTt4LnRvb2xiYXIuc2V0Rm9udE5hbWUoZSk7eC50b29sYmFyLnNldEZvbnRTaXplKHBhcnNlSW50KGIuZm9udFNpemUpKX1hPSExfSwwKSl9O214RXZlbnQuYWRkTGlzdGVuZXIoYy5jZWxsRWRpdG9yLnRleHRhcmVhLCJpbnB1dCIsYik7bXhFdmVudC5hZGRMaXN0ZW5lcihjLmNlbGxFZGl0b3IudGV4dGFyZWEsCiJ0b3VjaGVuZCIsYik7bXhFdmVudC5hZGRMaXN0ZW5lcihjLmNlbGxFZGl0b3IudGV4dGFyZWEsIm1vdXNldXAiLGIpO214RXZlbnQuYWRkTGlzdGVuZXIoYy5jZWxsRWRpdG9yLnRleHRhcmVhLCJrZXl1cCIsYik7YigpfX07dmFyIEE9Yy5jZWxsRWRpdG9yLnN0b3BFZGl0aW5nO2MuY2VsbEVkaXRvci5zdG9wRWRpdGluZz1mdW5jdGlvbihhLGIpe3RyeXtBLmFwcGx5KHRoaXMsYXJndW1lbnRzKSx5KCl9Y2F0Y2goQil7eC5oYW5kbGVFcnJvcihCKX19O2MuY29udGFpbmVyLnNldEF0dHJpYnV0ZSgidGFiaW5kZXgiLCIwIik7Yy5jb250YWluZXIuc3R5bGUuY3Vyc29yPSJkZWZhdWx0IjtpZih3aW5kb3cuc2VsZj09PXdpbmRvdy50b3AmJm51bGwhPWMuY29udGFpbmVyLnBhcmVudE5vZGUpdHJ5e2MuY29udGFpbmVyLmZvY3VzKCl9Y2F0Y2godSl7fXZhciBDPWMuZmlyZU1vdXNlRXZlbnQ7Yy5maXJlTW91c2VFdmVudD1mdW5jdGlvbihhLGIsYyl7YT09bXhFdmVudC5NT1VTRV9ET1dOJiYKdGhpcy5jb250YWluZXIuZm9jdXMoKTtDLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07Yy5wb3B1cE1lbnVIYW5kbGVyLmF1dG9FeHBhbmQ9ITA7bnVsbCE9dGhpcy5tZW51cyYmKGMucG9wdXBNZW51SGFuZGxlci5mYWN0b3J5TWV0aG9kPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEsYixjKXt0aGlzLm1lbnVzLmNyZWF0ZVBvcHVwTWVudShhLGIsYyl9KSk7bXhFdmVudC5hZGRHZXN0dXJlTGlzdGVuZXJzKGRvY3VtZW50LG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe2MucG9wdXBNZW51SGFuZGxlci5oaWRlTWVudSgpfSkpO3RoaXMua2V5SGFuZGxlcj10aGlzLmNyZWF0ZUtleUhhbmRsZXIoYSk7dGhpcy5nZXRLZXlIYW5kbGVyPWZ1bmN0aW9uKCl7cmV0dXJuIGtleUhhbmRsZXJ9O3ZhciB6PSJyb3VuZGVkIHNoYWRvdyBnbGFzcyBkYXNoZWQgZGFzaFBhdHRlcm4gY29taWMgbGFiZWxCYWNrZ3JvdW5kQ29sb3IiLnNwbGl0KCIgIiksRD0ic2hhcGUgZWRnZVN0eWxlIGN1cnZlZCByb3VuZGVkIGVsYm93IGNvbWljIGp1bXBTdHlsZSBqdW1wU2l6ZSIuc3BsaXQoIiAiKTsKdGhpcy5zZXREZWZhdWx0U3R5bGU9ZnVuY3Rpb24oYSl7dHJ5e3ZhciBiPWMudmlldy5nZXRTdGF0ZShhKTtpZihudWxsIT1iKXt2YXIgZT1hLmNsb25lKCk7ZS5zdHlsZT0iIjt2YXIgZD1jLmdldENlbGxTdHlsZShlKTthPVtdO3ZhciBlPVtdLGc7Zm9yKGcgaW4gYi5zdHlsZSlkW2ddIT1iLnN0eWxlW2ddJiYoYS5wdXNoKGIuc3R5bGVbZ10pLGUucHVzaChnKSk7Zm9yKHZhciBmPWMuZ2V0TW9kZWwoKS5nZXRTdHlsZShiLmNlbGwpLGw9bnVsbCE9Zj9mLnNwbGl0KCI7Iik6W10sZj0wO2Y8bC5sZW5ndGg7ZisrKXt2YXIgcD1sW2ZdLG49cC5pbmRleE9mKCI9Iik7aWYoMDw9bil7Zz1wLnN1YnN0cmluZygwLG4pO3ZhciB1PXAuc3Vic3RyaW5nKG4rMSk7bnVsbCE9ZFtnXSYmIm5vbmUiPT11JiYoYS5wdXNoKHUpLGUucHVzaChnKSl9fWMuZ2V0TW9kZWwoKS5pc0VkZ2UoYi5jZWxsKT9jLmN1cnJlbnRFZGdlU3R5bGU9e306Yy5jdXJyZW50VmVydGV4U3R5bGU9e307dGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QoInN0eWxlQ2hhbmdlZCIsCiJrZXlzIixlLCJ2YWx1ZXMiLGEsImNlbGxzIixbYi5jZWxsXSkpfX1jYXRjaChaKXt0aGlzLmhhbmRsZUVycm9yKFopfX07dGhpcy5jbGVhckRlZmF1bHRTdHlsZT1mdW5jdGlvbigpe2MuY3VycmVudEVkZ2VTdHlsZT1teFV0aWxzLmNsb25lKGMuZGVmYXVsdEVkZ2VTdHlsZSk7Yy5jdXJyZW50VmVydGV4U3R5bGU9bXhVdGlscy5jbG9uZShjLmRlZmF1bHRWZXJ0ZXhTdHlsZSk7dGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QoInN0eWxlQ2hhbmdlZCIsImtleXMiLFtdLCJ2YWx1ZXMiLFtdLCJjZWxscyIsW10pKX07dmFyIEc9WyJmb250RmFtaWx5IiwiZm9udFNpemUiLCJmb250Q29sb3IiXSxGPSJlZGdlU3R5bGUgc3RhcnRBcnJvdyBzdGFydEZpbGwgc3RhcnRTaXplIGVuZEFycm93IGVuZEZpbGwgZW5kU2l6ZSIuc3BsaXQoIiAiKSxIPVsic3RhcnRBcnJvdyBzdGFydEZpbGwgc3RhcnRTaXplIHNvdXJjZVBlcmltZXRlclNwYWNpbmcgZW5kQXJyb3cgZW5kRmlsbCBlbmRTaXplIHRhcmdldFBlcmltZXRlclNwYWNpbmciLnNwbGl0KCIgIiksClsic3Ryb2tlQ29sb3IiLCJzdHJva2VXaWR0aCJdLFsiZmlsbENvbG9yIiwiZ3JhZGllbnRDb2xvciJdLEcsWyJvcGFjaXR5Il0sWyJhbGlnbiJdLFsiaHRtbCJdXTtmb3IoYT0wO2E8SC5sZW5ndGg7YSsrKWZvcihkPTA7ZDxIW2FdLmxlbmd0aDtkKyspei5wdXNoKEhbYV1bZF0pO2ZvcihhPTA7YTxELmxlbmd0aDthKyspMD5teFV0aWxzLmluZGV4T2YoeixEW2FdKSYmei5wdXNoKERbYV0pO3ZhciBKPWZ1bmN0aW9uKGEsYil7dmFyIGU9Yy5nZXRNb2RlbCgpO2UuYmVnaW5VcGRhdGUoKTt0cnl7Zm9yKHZhciBkPTA7ZDxhLmxlbmd0aDtkKyspe3ZhciBnPWFbZF0sZjtpZihiKWY9WyJmb250U2l6ZSIsImZvbnRGYW1pbHkiLCJmb250Q29sb3IiXTtlbHNle3ZhciBsPWUuZ2V0U3R5bGUoZykscD1udWxsIT1sP2wuc3BsaXQoIjsiKTpbXTtmPXouc2xpY2UoKTtmb3IodmFyIG49MDtuPHAubGVuZ3RoO24rKyl7dmFyIHU9cFtuXSx0PXUuaW5kZXhPZigiPSIpO2lmKDA8PXQpe3ZhciBLPQp1LnN1YnN0cmluZygwLHQpLGs9bXhVdGlscy5pbmRleE9mKGYsSyk7MDw9ayYmZi5zcGxpY2UoaywxKTtmb3IodmFyIHk9MDt5PEgubGVuZ3RoO3krKyl7dmFyIG09SFt5XTtpZigwPD1teFV0aWxzLmluZGV4T2YobSxLKSlmb3IodmFyIHY9MDt2PG0ubGVuZ3RoO3YrKyl7dmFyIHg9bXhVdGlscy5pbmRleE9mKGYsbVt2XSk7MDw9eCYmZi5zcGxpY2UoeCwxKX19fX19Zm9yKHZhciBxPWUuaXNFZGdlKGcpLEU9cT9jLmN1cnJlbnRFZGdlU3R5bGU6Yy5jdXJyZW50VmVydGV4U3R5bGUsQT1lLmdldFN0eWxlKGcpLG49MDtuPGYubGVuZ3RoO24rKyl7dmFyIEs9ZltuXSxDPUVbS107bnVsbD09Q3x8InNoYXBlIj09SyYmIXF8fHEmJiEoMD5teFV0aWxzLmluZGV4T2YoRCxLKSl8fChBPW14VXRpbHMuc2V0U3R5bGUoQSxLLEMpKX1lLnNldFN0eWxlKGcsQSl9fWZpbmFsbHl7ZS5lbmRVcGRhdGUoKX19O2MuYWRkTGlzdGVuZXIoImNlbGxzSW5zZXJ0ZWQiLGZ1bmN0aW9uKGEsYil7SihiLmdldFByb3BlcnR5KCJjZWxscyIpKX0pOwpjLmFkZExpc3RlbmVyKCJ0ZXh0SW5zZXJ0ZWQiLGZ1bmN0aW9uKGEsYil7SihiLmdldFByb3BlcnR5KCJjZWxscyIpLCEwKX0pO2MuY29ubmVjdGlvbkhhbmRsZXIuYWRkTGlzdGVuZXIobXhFdmVudC5DT05ORUNULGZ1bmN0aW9uKGEsYil7dmFyIGU9W2IuZ2V0UHJvcGVydHkoImNlbGwiKV07Yi5nZXRQcm9wZXJ0eSgidGVybWluYWxJbnNlcnRlZCIpJiZlLnB1c2goYi5nZXRQcm9wZXJ0eSgidGVybWluYWwiKSk7SihlKX0pO3RoaXMuYWRkTGlzdGVuZXIoInN0eWxlQ2hhbmdlZCIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSxiKXt2YXIgZT1iLmdldFByb3BlcnR5KCJjZWxscyIpLGQ9ITEsZz0hMTtpZigwPGUubGVuZ3RoKWZvcih2YXIgZj0wO2Y8ZS5sZW5ndGgmJihkPWMuZ2V0TW9kZWwoKS5pc1ZlcnRleChlW2ZdKXx8ZCwhKGc9Yy5nZXRNb2RlbCgpLmlzRWRnZShlW2ZdKXx8Zyl8fCFkKTtmKyspO2Vsc2UgZz1kPSEwO2Zvcih2YXIgZT1iLmdldFByb3BlcnR5KCJrZXlzIiksCmw9Yi5nZXRQcm9wZXJ0eSgidmFsdWVzIiksZj0wO2Y8ZS5sZW5ndGg7ZisrKXt2YXIgcD0wPD1teFV0aWxzLmluZGV4T2YoRyxlW2ZdKTtpZigic3Ryb2tlQ29sb3IiIT1lW2ZdfHxudWxsIT1sW2ZdJiYibm9uZSIhPWxbZl0paWYoMDw9bXhVdGlscy5pbmRleE9mKEQsZVtmXSkpZ3x8MDw9bXhVdGlscy5pbmRleE9mKEYsZVtmXSk/bnVsbD09bFtmXT9kZWxldGUgYy5jdXJyZW50RWRnZVN0eWxlW2VbZl1dOmMuY3VycmVudEVkZ2VTdHlsZVtlW2ZdXT1sW2ZdOmQmJjA8PW14VXRpbHMuaW5kZXhPZih6LGVbZl0pJiYobnVsbD09bFtmXT9kZWxldGUgYy5jdXJyZW50VmVydGV4U3R5bGVbZVtmXV06Yy5jdXJyZW50VmVydGV4U3R5bGVbZVtmXV09bFtmXSk7ZWxzZSBpZigwPD1teFV0aWxzLmluZGV4T2YoeixlW2ZdKSl7aWYoZHx8cCludWxsPT1sW2ZdP2RlbGV0ZSBjLmN1cnJlbnRWZXJ0ZXhTdHlsZVtlW2ZdXTpjLmN1cnJlbnRWZXJ0ZXhTdHlsZVtlW2ZdXT1sW2ZdO2lmKGd8fHB8fAowPD1teFV0aWxzLmluZGV4T2YoRixlW2ZdKSludWxsPT1sW2ZdP2RlbGV0ZSBjLmN1cnJlbnRFZGdlU3R5bGVbZVtmXV06Yy5jdXJyZW50RWRnZVN0eWxlW2VbZl1dPWxbZl19fW51bGwhPXRoaXMudG9vbGJhciYmKHRoaXMudG9vbGJhci5zZXRGb250TmFtZShjLmN1cnJlbnRWZXJ0ZXhTdHlsZS5mb250RmFtaWx5fHxNZW51cy5wcm90b3R5cGUuZGVmYXVsdEZvbnQpLHRoaXMudG9vbGJhci5zZXRGb250U2l6ZShjLmN1cnJlbnRWZXJ0ZXhTdHlsZS5mb250U2l6ZXx8TWVudXMucHJvdG90eXBlLmRlZmF1bHRGb250U2l6ZSksbnVsbCE9dGhpcy50b29sYmFyLmVkZ2VTdHlsZU1lbnUmJih0aGlzLnRvb2xiYXIuZWRnZVN0eWxlTWVudS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiZGl2IilbMF0uY2xhc3NOYW1lPSJvcnRob2dvbmFsRWRnZVN0eWxlIj09Yy5jdXJyZW50RWRnZVN0eWxlLmVkZ2VTdHlsZSYmIjEiPT1jLmN1cnJlbnRFZGdlU3R5bGUuY3VydmVkPyJnZVNwcml0ZSBnZVNwcml0ZS1jdXJ2ZWQiOgoic3RyYWlnaHQiPT1jLmN1cnJlbnRFZGdlU3R5bGUuZWRnZVN0eWxlfHwibm9uZSI9PWMuY3VycmVudEVkZ2VTdHlsZS5lZGdlU3R5bGV8fG51bGw9PWMuY3VycmVudEVkZ2VTdHlsZS5lZGdlU3R5bGU/ImdlU3ByaXRlIGdlU3ByaXRlLXN0cmFpZ2h0IjoiZW50aXR5UmVsYXRpb25FZGdlU3R5bGUiPT1jLmN1cnJlbnRFZGdlU3R5bGUuZWRnZVN0eWxlPyJnZVNwcml0ZSBnZVNwcml0ZS1lbnRpdHkiOiJlbGJvd0VkZ2VTdHlsZSI9PWMuY3VycmVudEVkZ2VTdHlsZS5lZGdlU3R5bGU/ImdlU3ByaXRlIGdlU3ByaXRlLSIrKCJ2ZXJ0aWNhbCI9PWMuY3VycmVudEVkZ2VTdHlsZS5lbGJvdz8idmVydGljYWxlbGJvdyI6Imhvcml6b250YWxlbGJvdyIpOiJpc29tZXRyaWNFZGdlU3R5bGUiPT1jLmN1cnJlbnRFZGdlU3R5bGUuZWRnZVN0eWxlPyJnZVNwcml0ZSBnZVNwcml0ZS0iKygidmVydGljYWwiPT1jLmN1cnJlbnRFZGdlU3R5bGUuZWxib3c/InZlcnRpY2FsaXNvbWV0cmljIjoiaG9yaXpvbnRhbGlzb21ldHJpYyIpOgoiZ2VTcHJpdGUgZ2VTcHJpdGUtb3J0aG9nb25hbCIpLG51bGwhPXRoaXMudG9vbGJhci5lZGdlU2hhcGVNZW51JiYodGhpcy50b29sYmFyLmVkZ2VTaGFwZU1lbnUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImRpdiIpWzBdLmNsYXNzTmFtZT0ibGluayI9PWMuY3VycmVudEVkZ2VTdHlsZS5zaGFwZT8iZ2VTcHJpdGUgZ2VTcHJpdGUtbGlua2VkZ2UiOiJmbGV4QXJyb3ciPT1jLmN1cnJlbnRFZGdlU3R5bGUuc2hhcGU/ImdlU3ByaXRlIGdlU3ByaXRlLWFycm93IjoiYXJyb3ciPT1jLmN1cnJlbnRFZGdlU3R5bGUuc2hhcGU/ImdlU3ByaXRlIGdlU3ByaXRlLXNpbXBsZWFycm93IjoiZ2VTcHJpdGUgZ2VTcHJpdGUtY29ubmVjdGlvbiIpLG51bGwhPXRoaXMudG9vbGJhci5saW5lU3RhcnRNZW51JiYodGhpcy50b29sYmFyLmxpbmVTdGFydE1lbnUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImRpdiIpWzBdLmNsYXNzTmFtZT10aGlzLmdldENzc0NsYXNzRm9yTWFya2VyKCJzdGFydCIsYy5jdXJyZW50RWRnZVN0eWxlLnNoYXBlLApjLmN1cnJlbnRFZGdlU3R5bGVbbXhDb25zdGFudHMuU1RZTEVfU1RBUlRBUlJPV10sbXhVdGlscy5nZXRWYWx1ZShjLmN1cnJlbnRFZGdlU3R5bGUsInN0YXJ0RmlsbCIsIjEiKSkpLG51bGwhPXRoaXMudG9vbGJhci5saW5lRW5kTWVudSYmKHRoaXMudG9vbGJhci5saW5lRW5kTWVudS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiZGl2IilbMF0uY2xhc3NOYW1lPXRoaXMuZ2V0Q3NzQ2xhc3NGb3JNYXJrZXIoImVuZCIsYy5jdXJyZW50RWRnZVN0eWxlLnNoYXBlLGMuY3VycmVudEVkZ2VTdHlsZVtteENvbnN0YW50cy5TVFlMRV9FTkRBUlJPV10sbXhVdGlscy5nZXRWYWx1ZShjLmN1cnJlbnRFZGdlU3R5bGUsImVuZEZpbGwiLCIxIikpKSl9KSk7bnVsbCE9dGhpcy50b29sYmFyJiYoYT1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3ZhciBhPWMuY3VycmVudFZlcnRleFN0eWxlLmZvbnRGYW1pbHl8fCJIZWx2ZXRpY2EiLGI9U3RyaW5nKGMuY3VycmVudFZlcnRleFN0eWxlLmZvbnRTaXplfHwKIjEyIiksZT1jLmdldFZpZXcoKS5nZXRTdGF0ZShjLmdldFNlbGVjdGlvbkNlbGwoKSk7bnVsbCE9ZSYmKGE9ZS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9GT05URkFNSUxZXXx8YSxiPWUuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfRk9OVFNJWkVdfHxiLDEwPGEubGVuZ3RoJiYoYT1hLnN1YnN0cmluZygwLDgpKyIuLi4iKSk7dGhpcy50b29sYmFyLnNldEZvbnROYW1lKGEpO3RoaXMudG9vbGJhci5zZXRGb250U2l6ZShiKX0pLGMuZ2V0U2VsZWN0aW9uTW9kZWwoKS5hZGRMaXN0ZW5lcihteEV2ZW50LkNIQU5HRSxhKSxjLmdldE1vZGVsKCkuYWRkTGlzdGVuZXIobXhFdmVudC5DSEFOR0UsYSkpO2MuYWRkTGlzdGVuZXIobXhFdmVudC5DRUxMU19BRERFRCxmdW5jdGlvbihhLGIpe3ZhciBlPWIuZ2V0UHJvcGVydHkoImNlbGxzIiksZD1iLmdldFByb3BlcnR5KCJwYXJlbnQiKTtjLmdldE1vZGVsKCkuaXNMYXllcihkKSYmIWMuaXNDZWxsVmlzaWJsZShkKSYmbnVsbCE9ZSYmMDxlLmxlbmd0aCYmCmMuZ2V0TW9kZWwoKS5zZXRWaXNpYmxlKGQsITApfSk7dGhpcy5nZXN0dXJlSGFuZGxlcj1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXtudWxsIT10aGlzLmN1cnJlbnRNZW51JiZteEV2ZW50LmdldFNvdXJjZShhKSE9dGhpcy5jdXJyZW50TWVudS5kaXYmJnRoaXMuaGlkZUN1cnJlbnRNZW51KCl9KTtteEV2ZW50LmFkZEdlc3R1cmVMaXN0ZW5lcnMoZG9jdW1lbnQsdGhpcy5nZXN0dXJlSGFuZGxlcik7dGhpcy5yZXNpemVIYW5kbGVyPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7d2luZG93LnNldFRpbWVvdXQobXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXtudWxsIT10aGlzLmVkaXRvci5ncmFwaCYmdGhpcy5yZWZyZXNoKCl9KSwwKX0pO214RXZlbnQuYWRkTGlzdGVuZXIod2luZG93LCJyZXNpemUiLHRoaXMucmVzaXplSGFuZGxlcik7dGhpcy5vcmllbnRhdGlvbkNoYW5nZUhhbmRsZXI9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt0aGlzLnJlZnJlc2goKX0pOwpteEV2ZW50LmFkZExpc3RlbmVyKHdpbmRvdywib3JpZW50YXRpb25jaGFuZ2UiLHRoaXMub3JpZW50YXRpb25DaGFuZ2VIYW5kbGVyKTtteENsaWVudC5JU19JT1MmJiF3aW5kb3cubmF2aWdhdG9yLnN0YW5kYWxvbmUmJih0aGlzLnNjcm9sbEhhbmRsZXI9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt3aW5kb3cuc2Nyb2xsVG8oMCwwKX0pLG14RXZlbnQuYWRkTGlzdGVuZXIod2luZG93LCJzY3JvbGwiLHRoaXMuc2Nyb2xsSGFuZGxlcikpO3RoaXMuZWRpdG9yLmFkZExpc3RlbmVyKCJyZXNldEdyYXBoVmlldyIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt0aGlzLnJlc2V0U2Nyb2xsYmFycygpfSkpO3RoaXMuYWRkTGlzdGVuZXIoImdyaWRFbmFibGVkQ2hhbmdlZCIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXtjLnZpZXcudmFsaWRhdGVCYWNrZ3JvdW5kKCl9KSk7dGhpcy5hZGRMaXN0ZW5lcigiYmFja2dyb3VuZENvbG9yQ2hhbmdlZCIsbXhVdGlscy5iaW5kKHRoaXMsCmZ1bmN0aW9uKCl7Yy52aWV3LnZhbGlkYXRlQmFja2dyb3VuZCgpfSkpO2MuYWRkTGlzdGVuZXIoImdyaWRTaXplQ2hhbmdlZCIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXtjLmlzR3JpZEVuYWJsZWQoKSYmYy52aWV3LnZhbGlkYXRlQmFja2dyb3VuZCgpfSkpO3RoaXMuZWRpdG9yLnJlc2V0R3JhcGgoKX10aGlzLmluaXQoKTtjLnN0YW5kYWxvbmV8fHRoaXMub3BlbigpfTtteFV0aWxzLmV4dGVuZChFZGl0b3JVaSxteEV2ZW50U291cmNlKTtFZGl0b3JVaS5jb21wYWN0VWk9ITA7RWRpdG9yVWkucHJvdG90eXBlLnNwbGl0U2l6ZT1teENsaWVudC5JU19UT1VDSHx8bXhDbGllbnQuSVNfUE9JTlRFUj8xMjo4O0VkaXRvclVpLnByb3RvdHlwZS5tZW51YmFySGVpZ2h0PTMwO0VkaXRvclVpLnByb3RvdHlwZS5mb3JtYXRFbmFibGVkPSEwO0VkaXRvclVpLnByb3RvdHlwZS5mb3JtYXRXaWR0aD0yNDA7RWRpdG9yVWkucHJvdG90eXBlLnRvb2xiYXJIZWlnaHQ9Mzg7CkVkaXRvclVpLnByb3RvdHlwZS5mb290ZXJIZWlnaHQ9Mjg7RWRpdG9yVWkucHJvdG90eXBlLnNpZGViYXJGb290ZXJIZWlnaHQ9MzQ7RWRpdG9yVWkucHJvdG90eXBlLmhzcGxpdFBvc2l0aW9uPTY0MD49c2NyZWVuLndpZHRoPzExODoibGFyZ2UiIT11cmxQYXJhbXNbInNpZGViYXItZW50cmllcyJdPzIxMjoyNDA7RWRpdG9yVWkucHJvdG90eXBlLmFsbG93QW5pbWF0aW9uPSEwO0VkaXRvclVpLnByb3RvdHlwZS5saWdodGJveE1heEZpdFNjYWxlPTI7RWRpdG9yVWkucHJvdG90eXBlLmxpZ2h0Ym94VmVydGljYWxEaXZpZGVyPTQ7RWRpdG9yVWkucHJvdG90eXBlLmhzcGxpdENsaWNrRW5hYmxlZD0hMTsKRWRpdG9yVWkucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmVkaXRvci5ncmFwaDtpZighYS5zdGFuZGFsb25lKXtteEV2ZW50LmFkZExpc3RlbmVyKGEuY29udGFpbmVyLCJzY3JvbGwiLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7YS50b29sdGlwSGFuZGxlci5oaWRlKCk7bnVsbCE9YS5jb25uZWN0aW9uSGFuZGxlciYmbnVsbCE9YS5jb25uZWN0aW9uSGFuZGxlci5jb25zdHJhaW50SGFuZGxlciYmYS5jb25uZWN0aW9uSGFuZGxlci5jb25zdHJhaW50SGFuZGxlci5yZXNldCgpfSkpO2EuYWRkTGlzdGVuZXIobXhFdmVudC5FU0NBUEUsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXthLnRvb2x0aXBIYW5kbGVyLmhpZGUoKTt2YXIgYz1hLmdldFJ1YmJlcmJhbmQoKTtudWxsIT1jJiZjLmNhbmNlbCgpfSkpO214RXZlbnQuYWRkTGlzdGVuZXIoYS5jb250YWluZXIsImtleWRvd24iLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3RoaXMub25LZXlEb3duKGEpfSkpOwpteEV2ZW50LmFkZExpc3RlbmVyKGEuY29udGFpbmVyLCJrZXlwcmVzcyIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7dGhpcy5vbktleVByZXNzKGEpfSkpO3RoaXMuYWRkVW5kb0xpc3RlbmVyKCk7dGhpcy5hZGRCZWZvcmVVbmxvYWRMaXN0ZW5lcigpO2EuZ2V0U2VsZWN0aW9uTW9kZWwoKS5hZGRMaXN0ZW5lcihteEV2ZW50LkNIQU5HRSxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMudXBkYXRlQWN0aW9uU3RhdGVzKCl9KSk7YS5nZXRNb2RlbCgpLmFkZExpc3RlbmVyKG14RXZlbnQuQ0hBTkdFLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dGhpcy51cGRhdGVBY3Rpb25TdGF0ZXMoKX0pKTt2YXIgZD1hLnNldERlZmF1bHRQYXJlbnQsZj10aGlzO3RoaXMuZWRpdG9yLmdyYXBoLnNldERlZmF1bHRQYXJlbnQ9ZnVuY3Rpb24oKXtkLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtmLnVwZGF0ZUFjdGlvblN0YXRlcygpfTthLmVkaXRMaW5rPWYuYWN0aW9ucy5nZXQoImVkaXRMaW5rIikuZnVuY3Q7CnRoaXMudXBkYXRlQWN0aW9uU3RhdGVzKCk7dGhpcy5pbml0Q2xpcGJvYXJkKCk7dGhpcy5pbml0Q2FudmFzKCk7bnVsbCE9dGhpcy5mb3JtYXQmJnRoaXMuZm9ybWF0LmluaXQoKX19O0VkaXRvclVpLnByb3RvdHlwZS5vbktleURvd249ZnVuY3Rpb24oYSl7dmFyIGQ9dGhpcy5lZGl0b3IuZ3JhcGg7OSE9YS53aGljaHx8IWQuaXNFbmFibGVkKCl8fG14RXZlbnQuaXNBbHREb3duKGEpfHxkLmlzRWRpdGluZygpJiZteEV2ZW50LmlzU2hpZnREb3duKGEpfHwoZC5pc0VkaXRpbmcoKT9kLnN0b3BFZGl0aW5nKCExKTpkLnNlbGVjdENlbGwoIW14RXZlbnQuaXNTaGlmdERvd24oYSkpLG14RXZlbnQuY29uc3VtZShhKSl9OwpFZGl0b3JVaS5wcm90b3R5cGUub25LZXlQcmVzcz1mdW5jdGlvbihhKXt2YXIgZD10aGlzLmVkaXRvci5ncmFwaDshdGhpcy5pc0ltbWVkaWF0ZUVkaXRpbmdFdmVudChhKXx8ZC5pc0VkaXRpbmcoKXx8ZC5pc1NlbGVjdGlvbkVtcHR5KCl8fDA9PT1hLndoaWNofHwyNz09PWEud2hpY2h8fG14RXZlbnQuaXNBbHREb3duKGEpfHxteEV2ZW50LmlzQ29udHJvbERvd24oYSl8fG14RXZlbnQuaXNNZXRhRG93bihhKXx8KGQuZXNjYXBlKCksZC5zdGFydEVkaXRpbmcoKSxteENsaWVudC5JU19GRiYmKGQ9ZC5jZWxsRWRpdG9yLG51bGwhPWQudGV4dGFyZWEmJihkLnRleHRhcmVhLmlubmVySFRNTD1TdHJpbmcuZnJvbUNoYXJDb2RlKGEud2hpY2gpLGE9ZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKSxhLnNlbGVjdE5vZGVDb250ZW50cyhkLnRleHRhcmVhKSxhLmNvbGxhcHNlKCExKSxkPXdpbmRvdy5nZXRTZWxlY3Rpb24oKSxkLnJlbW92ZUFsbFJhbmdlcygpLGQuYWRkUmFuZ2UoYSkpKSl9OwpFZGl0b3JVaS5wcm90b3R5cGUuaXNJbW1lZGlhdGVFZGl0aW5nRXZlbnQ9ZnVuY3Rpb24oYSl7cmV0dXJuITB9OwpFZGl0b3JVaS5wcm90b3R5cGUuZ2V0Q3NzQ2xhc3NGb3JNYXJrZXI9ZnVuY3Rpb24oYSxkLGYsYyl7cmV0dXJuImZsZXhBcnJvdyI9PWQ/bnVsbCE9ZiYmZiE9bXhDb25zdGFudHMuTk9ORT8iZ2VTcHJpdGUgZ2VTcHJpdGUtIithKyJibG9ja3RyYW5zIjoiZ2VTcHJpdGUgZ2VTcHJpdGUtbm9hcnJvdyI6ImJveCI9PWZ8fCJoYWxmQ2lyY2xlIj09Zj8iZ2VTcHJpdGUgZ2VTdmdTcHJpdGUgZ2VTcHJpdGUtIitmKygiZW5kIj09YT8iIGdlRmxpcFNwcml0ZSI6IiIpOmY9PW14Q29uc3RhbnRzLkFSUk9XX0NMQVNTSUM/IjEiPT1jPyJnZVNwcml0ZSBnZVNwcml0ZS0iK2ErImNsYXNzaWMiOiJnZVNwcml0ZSBnZVNwcml0ZS0iK2ErImNsYXNzaWN0cmFucyI6Zj09bXhDb25zdGFudHMuQVJST1dfQ0xBU1NJQ19USElOPyIxIj09Yz8iZ2VTcHJpdGUgZ2VTcHJpdGUtIithKyJjbGFzc2ljdGhpbiI6ImdlU3ByaXRlIGdlU3ByaXRlLSIrYSsiY2xhc3NpY3RoaW50cmFucyI6Zj09bXhDb25zdGFudHMuQVJST1dfT1BFTj8KImdlU3ByaXRlIGdlU3ByaXRlLSIrYSsib3BlbiI6Zj09bXhDb25zdGFudHMuQVJST1dfT1BFTl9USElOPyJnZVNwcml0ZSBnZVNwcml0ZS0iK2ErIm9wZW50aGluIjpmPT1teENvbnN0YW50cy5BUlJPV19CTE9DSz8iMSI9PWM/ImdlU3ByaXRlIGdlU3ByaXRlLSIrYSsiYmxvY2siOiJnZVNwcml0ZSBnZVNwcml0ZS0iK2ErImJsb2NrdHJhbnMiOmY9PW14Q29uc3RhbnRzLkFSUk9XX0JMT0NLX1RISU4/IjEiPT1jPyJnZVNwcml0ZSBnZVNwcml0ZS0iK2ErImJsb2NrdGhpbiI6ImdlU3ByaXRlIGdlU3ByaXRlLSIrYSsiYmxvY2t0aGludHJhbnMiOmY9PW14Q29uc3RhbnRzLkFSUk9XX09WQUw/IjEiPT1jPyJnZVNwcml0ZSBnZVNwcml0ZS0iK2ErIm92YWwiOiJnZVNwcml0ZSBnZVNwcml0ZS0iK2ErIm92YWx0cmFucyI6Zj09bXhDb25zdGFudHMuQVJST1dfRElBTU9ORD8iMSI9PWM/ImdlU3ByaXRlIGdlU3ByaXRlLSIrYSsiZGlhbW9uZCI6ImdlU3ByaXRlIGdlU3ByaXRlLSIrYSsiZGlhbW9uZHRyYW5zIjoKZj09bXhDb25zdGFudHMuQVJST1dfRElBTU9ORF9USElOPyIxIj09Yz8iZ2VTcHJpdGUgZ2VTcHJpdGUtIithKyJ0aGluZGlhbW9uZCI6ImdlU3ByaXRlIGdlU3ByaXRlLSIrYSsidGhpbmRpYW1vbmR0cmFucyI6Im9wZW5Bc3luYyI9PWY/ImdlU3ByaXRlIGdlU3ByaXRlLSIrYSsib3BlbmFzeW5jIjoiZGFzaCI9PWY/ImdlU3ByaXRlIGdlU3ByaXRlLSIrYSsiZGFzaCI6ImNyb3NzIj09Zj8iZ2VTcHJpdGUgZ2VTcHJpdGUtIithKyJjcm9zcyI6ImFzeW5jIj09Zj8iMSI9PWM/ImdlU3ByaXRlIGdlU3ByaXRlLSIrYSsiYXN5bmMiOiJnZVNwcml0ZSBnZVNwcml0ZS0iK2ErImFzeW5jdHJhbnMiOiJjaXJjbGUiPT1mfHwiY2lyY2xlUGx1cyI9PWY/IjEiPT1jfHwiY2lyY2xlIj09Zj8iZ2VTcHJpdGUgZ2VTcHJpdGUtIithKyJjaXJjbGUiOiJnZVNwcml0ZSBnZVNwcml0ZS0iK2ErImNpcmNsZXBsdXMiOiJFUm9uZSI9PWY/ImdlU3ByaXRlIGdlU3ByaXRlLSIrYSsiZXJvbmUiOiJFUm1hbmRPbmUiPT0KZj8iZ2VTcHJpdGUgZ2VTcHJpdGUtIithKyJlcm9uZXRvb25lIjoiRVJtYW55Ij09Zj8iZ2VTcHJpdGUgZ2VTcHJpdGUtIithKyJlcm1hbnkiOiJFUm9uZVRvTWFueSI9PWY/ImdlU3ByaXRlIGdlU3ByaXRlLSIrYSsiZXJvbmV0b21hbnkiOiJFUnplcm9Ub09uZSI9PWY/ImdlU3ByaXRlIGdlU3ByaXRlLSIrYSsiZXJvbmVvcHQiOiJFUnplcm9Ub01hbnkiPT1mPyJnZVNwcml0ZSBnZVNwcml0ZS0iK2ErImVybWFueW9wdCI6ImdlU3ByaXRlIGdlU3ByaXRlLW5vYXJyb3cifTtFZGl0b3JVaS5wcm90b3R5cGUuY3JlYXRlTWVudXM9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH07CkVkaXRvclVpLnByb3RvdHlwZS51cGRhdGVQYXN0ZUFjdGlvblN0YXRlcz1mdW5jdGlvbigpe3ZhciBhPXRoaXMuZWRpdG9yLmdyYXBoLGQ9dGhpcy5hY3Rpb25zLmdldCgicGFzdGUiKSxmPXRoaXMuYWN0aW9ucy5nZXQoInBhc3RlSGVyZSIpO2Quc2V0RW5hYmxlZCh0aGlzLmVkaXRvci5ncmFwaC5jZWxsRWRpdG9yLmlzQ29udGVudEVkaXRpbmcoKXx8IW14Q2xpcGJvYXJkLmlzRW1wdHkoKSYmYS5pc0VuYWJsZWQoKSYmIWEuaXNDZWxsTG9ja2VkKGEuZ2V0RGVmYXVsdFBhcmVudCgpKSk7Zi5zZXRFbmFibGVkKGQuaXNFbmFibGVkKCkpfTsKRWRpdG9yVWkucHJvdG90eXBlLmluaXRDbGlwYm9hcmQ9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGQ9bXhDbGlwYm9hcmQuY3V0O214Q2xpcGJvYXJkLmN1dD1mdW5jdGlvbihjKXtjLmNlbGxFZGl0b3IuaXNDb250ZW50RWRpdGluZygpP2RvY3VtZW50LmV4ZWNDb21tYW5kKCJjdXQiLCExLG51bGwpOmQuYXBwbHkodGhpcyxhcmd1bWVudHMpO2EudXBkYXRlUGFzdGVBY3Rpb25TdGF0ZXMoKX07bXhDbGlwYm9hcmQuY29weT1mdW5jdGlvbihjKXt2YXIgZD1udWxsO2lmKGMuY2VsbEVkaXRvci5pc0NvbnRlbnRFZGl0aW5nKCkpZG9jdW1lbnQuZXhlY0NvbW1hbmQoImNvcHkiLCExLG51bGwpO2Vsc2V7Zm9yKHZhciBkPWR8fGMuZ2V0U2VsZWN0aW9uQ2VsbHMoKSxkPWMuZ2V0RXhwb3J0YWJsZUNlbGxzKGMubW9kZWwuZ2V0VG9wbW9zdENlbGxzKGQpKSxiPXt9LGU9Yy5jcmVhdGVDZWxsTG9va3VwKGQpLGc9Yy5jbG9uZUNlbGxzKGQsbnVsbCxiKSxmPW5ldyBteEdyYXBoTW9kZWwsbD1mLmdldENoaWxkQXQoZi5nZXRSb290KCksCjApLG49MDtuPGcubGVuZ3RoO24rKyl7Zi5hZGQobCxnW25dKTt2YXIgaz1jLnZpZXcuZ2V0U3RhdGUoZFtuXSk7aWYobnVsbCE9ayl7dmFyIHQ9Yy5nZXRDZWxsR2VvbWV0cnkoZ1tuXSk7bnVsbCE9dCYmdC5yZWxhdGl2ZSYmIWYuaXNFZGdlKGRbbl0pJiZudWxsPT1lW214T2JqZWN0SWRlbnRpdHkuZ2V0KGYuZ2V0UGFyZW50KGRbbl0pKV0mJih0Lm9mZnNldD1udWxsLHQucmVsYXRpdmU9ITEsdC54PWsueC9rLnZpZXcuc2NhbGUtay52aWV3LnRyYW5zbGF0ZS54LHQueT1rLnkvay52aWV3LnNjYWxlLWsudmlldy50cmFuc2xhdGUueSl9fWMudXBkYXRlQ3VzdG9tTGlua3MoYy5jcmVhdGVDZWxsTWFwcGluZyhiLGUpLGcpO214Q2xpcGJvYXJkLmluc2VydENvdW50PTE7bXhDbGlwYm9hcmQuc2V0Q2VsbHMoZyl9YS51cGRhdGVQYXN0ZUFjdGlvblN0YXRlcygpO3JldHVybiBkfTt2YXIgZj1teENsaXBib2FyZC5wYXN0ZTtteENsaXBib2FyZC5wYXN0ZT1mdW5jdGlvbihjKXt2YXIgZD0KbnVsbDtjLmNlbGxFZGl0b3IuaXNDb250ZW50RWRpdGluZygpP2RvY3VtZW50LmV4ZWNDb21tYW5kKCJwYXN0ZSIsITEsbnVsbCk6ZD1mLmFwcGx5KHRoaXMsYXJndW1lbnRzKTthLnVwZGF0ZVBhc3RlQWN0aW9uU3RhdGVzKCk7cmV0dXJuIGR9O3ZhciBjPXRoaXMuZWRpdG9yLmdyYXBoLmNlbGxFZGl0b3Iuc3RhcnRFZGl0aW5nO3RoaXMuZWRpdG9yLmdyYXBoLmNlbGxFZGl0b3Iuc3RhcnRFZGl0aW5nPWZ1bmN0aW9uKCl7Yy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7YS51cGRhdGVQYXN0ZUFjdGlvblN0YXRlcygpfTt2YXIgbT10aGlzLmVkaXRvci5ncmFwaC5jZWxsRWRpdG9yLnN0b3BFZGl0aW5nO3RoaXMuZWRpdG9yLmdyYXBoLmNlbGxFZGl0b3Iuc3RvcEVkaXRpbmc9ZnVuY3Rpb24oYyxkKXttLmFwcGx5KHRoaXMsYXJndW1lbnRzKTthLnVwZGF0ZVBhc3RlQWN0aW9uU3RhdGVzKCl9O3RoaXMudXBkYXRlUGFzdGVBY3Rpb25TdGF0ZXMoKX07CkVkaXRvclVpLnByb3RvdHlwZS5sYXp5Wm9vbURlbGF5PTIwO0VkaXRvclVpLnByb3RvdHlwZS53aGVlbFpvb21EZWxheT00MDA7RWRpdG9yVWkucHJvdG90eXBlLmJ1dHRvblpvb21EZWxheT02MDA7CkVkaXRvclVpLnByb3RvdHlwZS5pbml0Q2FudmFzPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5lZGl0b3IuZ3JhcGg7YS50aW1lckF1dG9TY3JvbGw9ITA7YS5nZXRQYWdlUGFkZGluZz1mdW5jdGlvbigpe3JldHVybiBuZXcgbXhQb2ludChNYXRoLm1heCgwLE1hdGgucm91bmQoKGEuY29udGFpbmVyLm9mZnNldFdpZHRoLTM0KS9hLnZpZXcuc2NhbGUpKSxNYXRoLm1heCgwLE1hdGgucm91bmQoKGEuY29udGFpbmVyLm9mZnNldEhlaWdodC0zNCkvYS52aWV3LnNjYWxlKSkpfTthLnZpZXcuZ2V0QmFja2dyb3VuZFBhZ2VCb3VuZHM9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdyYXBoLmdldFBhZ2VMYXlvdXQoKSxiPXRoaXMuZ3JhcGguZ2V0UGFnZVNpemUoKTtyZXR1cm4gbmV3IG14UmVjdGFuZ2xlKHRoaXMuc2NhbGUqKHRoaXMudHJhbnNsYXRlLngrYS54KmIud2lkdGgpLHRoaXMuc2NhbGUqKHRoaXMudHJhbnNsYXRlLnkrYS55KmIuaGVpZ2h0KSx0aGlzLnNjYWxlKmEud2lkdGgqYi53aWR0aCwKdGhpcy5zY2FsZSphLmhlaWdodCpiLmhlaWdodCl9O2EuZ2V0UHJlZmVycmVkUGFnZVNpemU9ZnVuY3Rpb24oYSxiLGUpe2E9dGhpcy5nZXRQYWdlTGF5b3V0KCk7Yj10aGlzLmdldFBhZ2VTaXplKCk7cmV0dXJuIG5ldyBteFJlY3RhbmdsZSgwLDAsYS53aWR0aCpiLndpZHRoLGEuaGVpZ2h0KmIuaGVpZ2h0KX07dmFyIGQ9bnVsbCxmPXRoaXM7aWYodGhpcy5lZGl0b3IuaXNDaHJvbWVsZXNzVmlldygpKXt0aGlzLmNocm9tZWxlc3NSZXNpemU9ZD1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihiLGUsYyxkKXtpZihudWxsIT1hLmNvbnRhaW5lciYmIWEuaXNWaWV3ZXIoKSl7Yz1udWxsIT1jP2M6MDtkPW51bGwhPWQ/ZDowO3ZhciBnPWEucGFnZVZpc2libGU/YS52aWV3LmdldEJhY2tncm91bmRQYWdlQm91bmRzKCk6YS5nZXRHcmFwaEJvdW5kcygpLGY9bXhVdGlscy5oYXNTY3JvbGxiYXJzKGEuY29udGFpbmVyKSxsPWEudmlldy50cmFuc2xhdGUscD1hLnZpZXcuc2NhbGUsbj1teFJlY3RhbmdsZS5mcm9tUmVjdGFuZ2xlKGcpOwpuLng9bi54L3AtbC54O24ueT1uLnkvcC1sLnk7bi53aWR0aC89cDtuLmhlaWdodC89cDt2YXIgbD1hLmNvbnRhaW5lci5zY3JvbGxUb3AsdT1hLmNvbnRhaW5lci5zY3JvbGxMZWZ0LHQ9bXhDbGllbnQuSVNfUVVJUktTfHw4PD1kb2N1bWVudC5kb2N1bWVudE1vZGU/MjA6MTQ7aWYoOD09ZG9jdW1lbnQuZG9jdW1lbnRNb2RlfHw5PT1kb2N1bWVudC5kb2N1bWVudE1vZGUpdCs9Mzt2YXIgQj1hLmNvbnRhaW5lci5vZmZzZXRXaWR0aC10LHQ9YS5jb250YWluZXIub2Zmc2V0SGVpZ2h0LXQ7Yj1iP01hdGgubWF4KC4zLE1hdGgubWluKGV8fDEsQi9uLndpZHRoKSk6cDtlPShCLWIqbi53aWR0aCkvMi9iO3ZhciBLPTA9PXRoaXMubGlnaHRib3hWZXJ0aWNhbERpdmlkZXI/MDoodC1iKm4uaGVpZ2h0KS90aGlzLmxpZ2h0Ym94VmVydGljYWxEaXZpZGVyL2I7ZiYmKGU9TWF0aC5tYXgoZSwwKSxLPU1hdGgubWF4KEssMCkpO2lmKGZ8fGcud2lkdGg8Qnx8Zy5oZWlnaHQ8dClhLnZpZXcuc2NhbGVBbmRUcmFuc2xhdGUoYiwKTWF0aC5mbG9vcihlLW4ueCksTWF0aC5mbG9vcihLLW4ueSkpLGEuY29udGFpbmVyLnNjcm9sbFRvcD1sKmIvcCxhLmNvbnRhaW5lci5zY3JvbGxMZWZ0PXUqYi9wO2Vsc2UgaWYoMCE9Y3x8MCE9ZClnPWEudmlldy50cmFuc2xhdGUsYS52aWV3LnNldFRyYW5zbGF0ZShNYXRoLmZsb29yKGcueCtjL3ApLE1hdGguZmxvb3IoZy55K2QvcCkpfX0pO3RoaXMuY2hyb21lbGVzc1dpbmRvd1Jlc2l6ZT1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMuY2hyb21lbGVzc1Jlc2l6ZSghMSl9KTt2YXIgYz1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMuY2hyb21lbGVzc1dpbmRvd1Jlc2l6ZSghMSl9KTtteEV2ZW50LmFkZExpc3RlbmVyKHdpbmRvdywicmVzaXplIixjKTt0aGlzLmRlc3Ryb3lGdW5jdGlvbnMucHVzaChmdW5jdGlvbigpe214RXZlbnQucmVtb3ZlTGlzdGVuZXIod2luZG93LCJyZXNpemUiLGMpfSk7dGhpcy5lZGl0b3IuYWRkTGlzdGVuZXIoInJlc2V0R3JhcGhWaWV3IiwKbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt0aGlzLmNocm9tZWxlc3NSZXNpemUoITApfSkpO3RoaXMuYWN0aW9ucy5nZXQoInpvb21JbiIpLmZ1bmN0PW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGIpe2Euem9vbUluKCk7dGhpcy5jaHJvbWVsZXNzUmVzaXplKCExKX0pO3RoaXMuYWN0aW9ucy5nZXQoInpvb21PdXQiKS5mdW5jdD1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihiKXthLnpvb21PdXQoKTt0aGlzLmNocm9tZWxlc3NSZXNpemUoITEpfSk7aWYoIjAiIT11cmxQYXJhbXMudG9vbGJhcil7dmFyIG09SlNPTi5wYXJzZShkZWNvZGVVUklDb21wb25lbnQodXJsUGFyYW1zWyJ0b29sYmFyLWNvbmZpZyJdfHwie30iKSk7dGhpcy5jaHJvbWVsZXNzVG9vbGJhcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTt0aGlzLmNocm9tZWxlc3NUb29sYmFyLnN0eWxlLnBvc2l0aW9uPSJmaXhlZCI7dGhpcy5jaHJvbWVsZXNzVG9vbGJhci5zdHlsZS5vdmVyZmxvdz0iaGlkZGVuIjsKdGhpcy5jaHJvbWVsZXNzVG9vbGJhci5zdHlsZS5ib3hTaXppbmc9ImJvcmRlci1ib3giO3RoaXMuY2hyb21lbGVzc1Rvb2xiYXIuc3R5bGUud2hpdGVTcGFjZT0ibm93cmFwIjt0aGlzLmNocm9tZWxlc3NUb29sYmFyLnN0eWxlLmJhY2tncm91bmRDb2xvcj0iIzAwMDAwMCI7dGhpcy5jaHJvbWVsZXNzVG9vbGJhci5zdHlsZS5wYWRkaW5nPSIxMHB4IDEwcHggOHB4IDEwcHgiO3RoaXMuY2hyb21lbGVzc1Rvb2xiYXIuc3R5bGUubGVmdD1hLmlzVmlld2VyKCk/IjAiOiI1MCUiO214Q2xpZW50LklTX1ZNTHx8KG14VXRpbHMuc2V0UHJlZml4ZWRTdHlsZSh0aGlzLmNocm9tZWxlc3NUb29sYmFyLnN0eWxlLCJib3JkZXJSYWRpdXMiLCIyMHB4IiksbXhVdGlscy5zZXRQcmVmaXhlZFN0eWxlKHRoaXMuY2hyb21lbGVzc1Rvb2xiYXIuc3R5bGUsInRyYW5zaXRpb24iLCJvcGFjaXR5IDYwMG1zIGVhc2UtaW4tb3V0IikpO3ZhciBrPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dmFyIGI9Cm14VXRpbHMuZ2V0Q3VycmVudFN0eWxlKGEuY29udGFpbmVyKTthLmlzVmlld2VyKCk/dGhpcy5jaHJvbWVsZXNzVG9vbGJhci5zdHlsZS50b3A9IjAiOnRoaXMuY2hyb21lbGVzc1Rvb2xiYXIuc3R5bGUuYm90dG9tPShudWxsIT1iP3BhcnNlSW50KGJbIm1hcmdpbi1ib3R0b20iXXx8MCk6MCkrKG51bGwhPXRoaXMudGFiQ29udGFpbmVyPzIwK3BhcnNlSW50KHRoaXMudGFiQ29udGFpbmVyLnN0eWxlLmhlaWdodCk6MjApKyJweCJ9KTt0aGlzLmVkaXRvci5hZGRMaXN0ZW5lcigicmVzZXRHcmFwaFZpZXciLGspO2soKTt2YXIgcT0wLGs9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSxiLGUpe3ErKzt2YXIgYz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzcGFuIik7Yy5zdHlsZS5wYWRkaW5nTGVmdD0iOHB4IjtjLnN0eWxlLnBhZGRpbmdSaWdodD0iOHB4IjtjLnN0eWxlLmN1cnNvcj0icG9pbnRlciI7bXhFdmVudC5hZGRMaXN0ZW5lcihjLCJjbGljayIsYSk7bnVsbCE9ZSYmYy5zZXRBdHRyaWJ1dGUoInRpdGxlIiwKZSk7YT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbWciKTthLnNldEF0dHJpYnV0ZSgiYm9yZGVyIiwiMCIpO2Euc2V0QXR0cmlidXRlKCJzcmMiLGIpO2MuYXBwZW5kQ2hpbGQoYSk7dGhpcy5jaHJvbWVsZXNzVG9vbGJhci5hcHBlbmRDaGlsZChjKTtyZXR1cm4gY30pO251bGwhPW0uYmFja0J0biYmayhteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXt3aW5kb3cubG9jYXRpb24uaHJlZj1tLmJhY2tCdG4udXJsO214RXZlbnQuY29uc3VtZShhKX0pLEVkaXRvci5iYWNrTGFyZ2VJbWFnZSxteFJlc291cmNlcy5nZXQoImJhY2siLG51bGwsIkJhY2siKSk7dmFyIGI9ayhteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXt0aGlzLmFjdGlvbnMuZ2V0KCJwcmV2aW91c1BhZ2UiKS5mdW5jdCgpO214RXZlbnQuY29uc3VtZShhKX0pLEVkaXRvci5wcmV2aW91c0xhcmdlSW1hZ2UsbXhSZXNvdXJjZXMuZ2V0KCJwcmV2aW91c1BhZ2UiKSksZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKZS5zdHlsZS5kaXNwbGF5PSJpbmxpbmUtYmxvY2siO2Uuc3R5bGUudmVydGljYWxBbGlnbj0idG9wIjtlLnN0eWxlLmZvbnRGYW1pbHk9IkhlbHZldGljYSxBcmlhbCI7ZS5zdHlsZS5tYXJnaW5Ub3A9IjhweCI7ZS5zdHlsZS5mb250U2l6ZT0iMTRweCI7ZS5zdHlsZS5jb2xvcj0iI2ZmZmZmZiI7dGhpcy5jaHJvbWVsZXNzVG9vbGJhci5hcHBlbmRDaGlsZChlKTt2YXIgZz1rKG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3RoaXMuYWN0aW9ucy5nZXQoIm5leHRQYWdlIikuZnVuY3QoKTtteEV2ZW50LmNvbnN1bWUoYSl9KSxFZGl0b3IubmV4dExhcmdlSW1hZ2UsbXhSZXNvdXJjZXMuZ2V0KCJuZXh0UGFnZSIpKSxwPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7bnVsbCE9dGhpcy5wYWdlcyYmMTx0aGlzLnBhZ2VzLmxlbmd0aCYmbnVsbCE9dGhpcy5jdXJyZW50UGFnZSYmKGUuaW5uZXJIVE1MPSIiLG14VXRpbHMud3JpdGUoZSxteFV0aWxzLmluZGV4T2YodGhpcy5wYWdlcywKdGhpcy5jdXJyZW50UGFnZSkrMSsiIC8gIit0aGlzLnBhZ2VzLmxlbmd0aCkpfSk7Yi5zdHlsZS5wYWRkaW5nTGVmdD0iMHB4IjtiLnN0eWxlLnBhZGRpbmdSaWdodD0iNHB4IjtnLnN0eWxlLnBhZGRpbmdMZWZ0PSI0cHgiO2cuc3R5bGUucGFkZGluZ1JpZ2h0PSIwcHgiO3ZhciBsPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7bnVsbCE9dGhpcy5wYWdlcyYmMTx0aGlzLnBhZ2VzLmxlbmd0aCYmbnVsbCE9dGhpcy5jdXJyZW50UGFnZT8oZy5zdHlsZS5kaXNwbGF5PSIiLGIuc3R5bGUuZGlzcGxheT0iIixlLnN0eWxlLmRpc3BsYXk9ImlubGluZS1ibG9jayIpOihnLnN0eWxlLmRpc3BsYXk9Im5vbmUiLGIuc3R5bGUuZGlzcGxheT0ibm9uZSIsZS5zdHlsZS5kaXNwbGF5PSJub25lIik7cCgpfSk7dGhpcy5lZGl0b3IuYWRkTGlzdGVuZXIoInJlc2V0R3JhcGhWaWV3IixsKTt0aGlzLmVkaXRvci5hZGRMaXN0ZW5lcigicGFnZVNlbGVjdGVkIixwKTtrKG14VXRpbHMuYmluZCh0aGlzLApmdW5jdGlvbihhKXt0aGlzLmFjdGlvbnMuZ2V0KCJ6b29tT3V0IikuZnVuY3QoKTtteEV2ZW50LmNvbnN1bWUoYSl9KSxFZGl0b3Iuem9vbU91dExhcmdlSW1hZ2UsbXhSZXNvdXJjZXMuZ2V0KCJ6b29tT3V0IikrIiAoQWx0K01vdXNld2hlZWwpIik7ayhteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXt0aGlzLmFjdGlvbnMuZ2V0KCJ6b29tSW4iKS5mdW5jdCgpO214RXZlbnQuY29uc3VtZShhKX0pLEVkaXRvci56b29tSW5MYXJnZUltYWdlLG14UmVzb3VyY2VzLmdldCgiem9vbUluIikrIiAoQWx0K01vdXNld2hlZWwpIik7ayhteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihiKXthLmlzTGlnaHRib3hWaWV3KCk/KDE9PWEudmlldy5zY2FsZT90aGlzLmxpZ2h0Ym94Rml0KCk6YS56b29tVG8oMSksdGhpcy5jaHJvbWVsZXNzUmVzaXplKCExKSk6dGhpcy5jaHJvbWVsZXNzUmVzaXplKCEwKTtteEV2ZW50LmNvbnN1bWUoYil9KSxFZGl0b3IuYWN0dWFsU2l6ZUxhcmdlSW1hZ2UsCm14UmVzb3VyY2VzLmdldCgiZml0IikpO3ZhciBuPW51bGwsdj1udWxsLHQ9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7bnVsbCE9biYmKHdpbmRvdy5jbGVhclRpbWVvdXQobiksZmFkZVRoZWFkPW51bGwpO251bGwhPXYmJih3aW5kb3cuY2xlYXJUaW1lb3V0KHYpLGZhZGVUaGVhZDI9bnVsbCk7bj13aW5kb3cuc2V0VGltZW91dChteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe214VXRpbHMuc2V0T3BhY2l0eSh0aGlzLmNocm9tZWxlc3NUb29sYmFyLDApO249bnVsbDt2PXdpbmRvdy5zZXRUaW1lb3V0KG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dGhpcy5jaHJvbWVsZXNzVG9vbGJhci5zdHlsZS5kaXNwbGF5PSJub25lIjt2PW51bGx9KSw2MDApfSksYXx8MjAwKX0pLHk9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7bnVsbCE9biYmKHdpbmRvdy5jbGVhclRpbWVvdXQobiksZmFkZVRoZWFkPW51bGwpO251bGwhPXYmJih3aW5kb3cuY2xlYXJUaW1lb3V0KHYpLApmYWRlVGhlYWQyPW51bGwpO3RoaXMuY2hyb21lbGVzc1Rvb2xiYXIuc3R5bGUuZGlzcGxheT0iIjtteFV0aWxzLnNldE9wYWNpdHkodGhpcy5jaHJvbWVsZXNzVG9vbGJhcixhfHwzMCl9KTtpZigiMSI9PXVybFBhcmFtcy5sYXllcnMpe3RoaXMubGF5ZXJzRGlhbG9nPW51bGw7dmFyIHg9ayhteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihiKXtpZihudWxsIT10aGlzLmxheWVyc0RpYWxvZyl0aGlzLmxheWVyc0RpYWxvZy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMubGF5ZXJzRGlhbG9nKSx0aGlzLmxheWVyc0RpYWxvZz1udWxsO2Vsc2V7dGhpcy5sYXllcnNEaWFsb2c9YS5jcmVhdGVMYXllcnNEaWFsb2coKTtteEV2ZW50LmFkZExpc3RlbmVyKHRoaXMubGF5ZXJzRGlhbG9nLCJtb3VzZWxlYXZlIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMubGF5ZXJzRGlhbG9nLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5sYXllcnNEaWFsb2cpO3RoaXMubGF5ZXJzRGlhbG9nPQpudWxsfSkpO3ZhciBlPXguZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7bXhVdGlscy5zZXRQcmVmaXhlZFN0eWxlKHRoaXMubGF5ZXJzRGlhbG9nLnN0eWxlLCJib3JkZXJSYWRpdXMiLCI1cHgiKTt0aGlzLmxheWVyc0RpYWxvZy5zdHlsZS5wb3NpdGlvbj0iZml4ZWQiO3RoaXMubGF5ZXJzRGlhbG9nLnN0eWxlLmZvbnRGYW1pbHk9IkhlbHZldGljYSxBcmlhbCI7dGhpcy5sYXllcnNEaWFsb2cuc3R5bGUuYmFja2dyb3VuZENvbG9yPSIjMDAwMDAwIjt0aGlzLmxheWVyc0RpYWxvZy5zdHlsZS53aWR0aD0iMTYwcHgiO3RoaXMubGF5ZXJzRGlhbG9nLnN0eWxlLnBhZGRpbmc9IjRweCAycHggNHB4IDJweCI7dGhpcy5sYXllcnNEaWFsb2cuc3R5bGUuY29sb3I9IiNmZmZmZmYiO214VXRpbHMuc2V0T3BhY2l0eSh0aGlzLmxheWVyc0RpYWxvZyw3MCk7dGhpcy5sYXllcnNEaWFsb2cuc3R5bGUubGVmdD1lLmxlZnQrInB4Ijt0aGlzLmxheWVyc0RpYWxvZy5zdHlsZS5ib3R0b209cGFyc2VJbnQodGhpcy5jaHJvbWVsZXNzVG9vbGJhci5zdHlsZS5ib3R0b20pKwp0aGlzLmNocm9tZWxlc3NUb29sYmFyLm9mZnNldEhlaWdodCs0KyJweCI7ZT1teFV0aWxzLmdldEN1cnJlbnRTdHlsZSh0aGlzLmVkaXRvci5ncmFwaC5jb250YWluZXIpO3RoaXMubGF5ZXJzRGlhbG9nLnN0eWxlLnpJbmRleD1lLnpJbmRleDtkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMubGF5ZXJzRGlhbG9nKX1teEV2ZW50LmNvbnN1bWUoYil9KSxFZGl0b3IubGF5ZXJzTGFyZ2VJbWFnZSxteFJlc291cmNlcy5nZXQoImxheWVycyIpKSxFPWEuZ2V0TW9kZWwoKTtFLmFkZExpc3RlbmVyKG14RXZlbnQuQ0hBTkdFLGZ1bmN0aW9uKCl7eC5zdHlsZS5kaXNwbGF5PTE8RS5nZXRDaGlsZENvdW50KEUucm9vdCk/IiI6Im5vbmUifSl9dGhpcy5hZGRDaHJvbWVsZXNzVG9vbGJhckl0ZW1zKGspO251bGw9PXRoaXMuZWRpdG9yLmVkaXRCdXR0b25MaW5rJiZudWxsPT10aGlzLmVkaXRvci5lZGl0QnV0dG9uRnVuY3x8ayhteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihiKXtudWxsIT0KdGhpcy5lZGl0b3IuZWRpdEJ1dHRvbkZ1bmM/dGhpcy5lZGl0b3IuZWRpdEJ1dHRvbkZ1bmMoKToiX2JsYW5rIj09dGhpcy5lZGl0b3IuZWRpdEJ1dHRvbkxpbms/dGhpcy5lZGl0b3IuZWRpdEFzTmV3KHRoaXMuZ2V0RWRpdEJsYW5rWG1sKCkpOmEub3BlbkxpbmsodGhpcy5lZGl0b3IuZWRpdEJ1dHRvbkxpbmssImVkaXRXaW5kb3ciKTtteEV2ZW50LmNvbnN1bWUoYil9KSxFZGl0b3IuZWRpdExhcmdlSW1hZ2UsbXhSZXNvdXJjZXMuZ2V0KCJlZGl0IikpO2lmKG51bGwhPXRoaXMubGlnaHRib3hUb29sYmFyQWN0aW9ucylmb3IobD0wO2w8dGhpcy5saWdodGJveFRvb2xiYXJBY3Rpb25zLmxlbmd0aDtsKyspe3ZhciBBPXRoaXMubGlnaHRib3hUb29sYmFyQWN0aW9uc1tsXTtrKEEuZm4sQS5pY29uLEEudG9vbHRpcCl9bnVsbCE9bS5yZWZyZXNoQnRuJiZrKG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe20ucmVmcmVzaEJ0bi51cmw/d2luZG93LmxvY2F0aW9uLmhyZWY9bS5yZWZyZXNoQnRuLnVybDoKd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO214RXZlbnQuY29uc3VtZShhKX0pLEVkaXRvci5yZWZyZXNoTGFyZ2VJbWFnZSxteFJlc291cmNlcy5nZXQoInJlZnJlc2giLG51bGwsIlJlZnJlc2giKSk7bnVsbCE9bS5mdWxsc2NyZWVuQnRuJiZ3aW5kb3cuc2VsZiE9PXdpbmRvdy50b3AmJmsobXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYil7bS5mdWxsc2NyZWVuQnRuLnVybD9hLm9wZW5MaW5rKG0uZnVsbHNjcmVlbkJ0bi51cmwpOmEub3Blbkxpbmsod2luZG93LmxvY2F0aW9uLmhyZWYpO214RXZlbnQuY29uc3VtZShiKX0pLEVkaXRvci5mdWxsc2NyZWVuTGFyZ2VJbWFnZSxteFJlc291cmNlcy5nZXQoIm9wZW5Jbk5ld1dpbmRvdyIsbnVsbCwiT3BlbiBpbiBOZXcgV2luZG93IikpOyhtLmNsb3NlQnRuJiZ3aW5kb3cuc2VsZj09PXdpbmRvdy50b3B8fGEubGlnaHRib3gmJigiMSI9PXVybFBhcmFtcy5jbG9zZXx8dGhpcy5jb250YWluZXIhPWRvY3VtZW50LmJvZHkpKSYmayhteFV0aWxzLmJpbmQodGhpcywKZnVuY3Rpb24oYSl7IjEiPT11cmxQYXJhbXMuY2xvc2V8fG0uY2xvc2VCdG4/d2luZG93LmNsb3NlKCk6KHRoaXMuZGVzdHJveSgpLG14RXZlbnQuY29uc3VtZShhKSl9KSxFZGl0b3IuY2xvc2VMYXJnZUltYWdlLG14UmVzb3VyY2VzLmdldCgiY2xvc2UiKSsiIChFc2NhcGUpIik7dGhpcy5jaHJvbWVsZXNzVG9vbGJhci5zdHlsZS5kaXNwbGF5PSJub25lIjthLmlzVmlld2VyKCl8fG14VXRpbHMuc2V0UHJlZml4ZWRTdHlsZSh0aGlzLmNocm9tZWxlc3NUb29sYmFyLnN0eWxlLCJ0cmFuc2Zvcm0iLCJ0cmFuc2xhdGUoLTUwJSwwKSIpO2EuY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuY2hyb21lbGVzc1Rvb2xiYXIpO214RXZlbnQuYWRkTGlzdGVuZXIoYS5jb250YWluZXIsbXhDbGllbnQuSVNfUE9JTlRFUj8icG9pbnRlcm1vdmUiOiJtb3VzZW1vdmUiLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe214RXZlbnQuaXNUb3VjaEV2ZW50KGEpfHwobXhFdmVudC5pc1NoaWZ0RG93bihhKXx8CnkoMzApLHQoKSl9KSk7bXhFdmVudC5hZGRMaXN0ZW5lcih0aGlzLmNocm9tZWxlc3NUb29sYmFyLG14Q2xpZW50LklTX1BPSU5URVI/InBvaW50ZXJtb3ZlIjoibW91c2Vtb3ZlIixmdW5jdGlvbihhKXtteEV2ZW50LmNvbnN1bWUoYSl9KTtteEV2ZW50LmFkZExpc3RlbmVyKHRoaXMuY2hyb21lbGVzc1Rvb2xiYXIsIm1vdXNlZW50ZXIiLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe214RXZlbnQuaXNTaGlmdERvd24oYSk/dCgpOnkoMTAwKX0pKTtteEV2ZW50LmFkZExpc3RlbmVyKHRoaXMuY2hyb21lbGVzc1Rvb2xiYXIsIm1vdXNlbW92ZSIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7bXhFdmVudC5pc1NoaWZ0RG93bihhKT90KCk6eSgxMDApO214RXZlbnQuY29uc3VtZShhKX0pKTtteEV2ZW50LmFkZExpc3RlbmVyKHRoaXMuY2hyb21lbGVzc1Rvb2xiYXIsIm1vdXNlbGVhdmUiLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe214RXZlbnQuaXNUb3VjaEV2ZW50KGEpfHwKeSgzMCl9KSk7dmFyIEM9YS5nZXRUb2xlcmFuY2UoKTthLmFkZE1vdXNlTGlzdGVuZXIoe3N0YXJ0WDowLHN0YXJ0WTowLHNjcm9sbExlZnQ6MCxzY3JvbGxUb3A6MCxtb3VzZURvd246ZnVuY3Rpb24oYixlKXt0aGlzLnN0YXJ0WD1lLmdldEdyYXBoWCgpO3RoaXMuc3RhcnRZPWUuZ2V0R3JhcGhZKCk7dGhpcy5zY3JvbGxMZWZ0PWEuY29udGFpbmVyLnNjcm9sbExlZnQ7dGhpcy5zY3JvbGxUb3A9YS5jb250YWluZXIuc2Nyb2xsVG9wfSxtb3VzZU1vdmU6ZnVuY3Rpb24oYSxiKXt9LG1vdXNlVXA6ZnVuY3Rpb24oYixlKXtteEV2ZW50LmlzVG91Y2hFdmVudChlLmdldEV2ZW50KCkpJiZNYXRoLmFicyh0aGlzLnNjcm9sbExlZnQtYS5jb250YWluZXIuc2Nyb2xsTGVmdCk8QyYmTWF0aC5hYnModGhpcy5zY3JvbGxUb3AtYS5jb250YWluZXIuc2Nyb2xsVG9wKTxDJiZNYXRoLmFicyh0aGlzLnN0YXJ0WC1lLmdldEdyYXBoWCgpKTxDJiZNYXRoLmFicyh0aGlzLnN0YXJ0WS1lLmdldEdyYXBoWSgpKTwKQyYmKDA8cGFyc2VGbG9hdChmLmNocm9tZWxlc3NUb29sYmFyLnN0eWxlLm9wYWNpdHl8fDApP3QoKTp5KDMwKSl9fSl9dGhpcy5lZGl0b3IuZWRpdGFibGV8fHRoaXMuYWRkQ2hyb21lbGVzc0NsaWNrSGFuZGxlcigpfWVsc2UgaWYodGhpcy5lZGl0b3IuZXh0ZW5kQ2FudmFzKXt2YXIgej1hLnZpZXcudmFsaWRhdGU7YS52aWV3LnZhbGlkYXRlPWZ1bmN0aW9uKCl7aWYobnVsbCE9dGhpcy5ncmFwaC5jb250YWluZXImJm14VXRpbHMuaGFzU2Nyb2xsYmFycyh0aGlzLmdyYXBoLmNvbnRhaW5lcikpe3ZhciBhPXRoaXMuZ3JhcGguZ2V0UGFnZVBhZGRpbmcoKSxiPXRoaXMuZ3JhcGguZ2V0UGFnZVNpemUoKTt0aGlzLnRyYW5zbGF0ZS54PWEueC0odGhpcy54MHx8MCkqYi53aWR0aDt0aGlzLnRyYW5zbGF0ZS55PWEueS0odGhpcy55MHx8MCkqYi5oZWlnaHR9ei5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O2lmKCFhLmlzVmlld2VyKCkpe3ZhciBEPWEuc2l6ZURpZENoYW5nZTthLnNpemVEaWRDaGFuZ2U9CmZ1bmN0aW9uKCl7aWYobnVsbCE9dGhpcy5jb250YWluZXImJm14VXRpbHMuaGFzU2Nyb2xsYmFycyh0aGlzLmNvbnRhaW5lcikpe3ZhciBiPXRoaXMuZ2V0UGFnZUxheW91dCgpLGU9dGhpcy5nZXRQYWdlUGFkZGluZygpLGM9dGhpcy5nZXRQYWdlU2l6ZSgpLGQ9TWF0aC5jZWlsKDIqZS54K2Iud2lkdGgqYy53aWR0aCksZz1NYXRoLmNlaWwoMiplLnkrYi5oZWlnaHQqYy5oZWlnaHQpLGY9YS5taW5pbXVtR3JhcGhTaXplO2lmKG51bGw9PWZ8fGYud2lkdGghPWR8fGYuaGVpZ2h0IT1nKWEubWluaW11bUdyYXBoU2l6ZT1uZXcgbXhSZWN0YW5nbGUoMCwwLGQsZyk7ZD1lLngtYi54KmMud2lkdGg7ZT1lLnktYi55KmMuaGVpZ2h0O3RoaXMuYXV0b1RyYW5zbGF0ZXx8dGhpcy52aWV3LnRyYW5zbGF0ZS54PT1kJiZ0aGlzLnZpZXcudHJhbnNsYXRlLnk9PWU/RC5hcHBseSh0aGlzLGFyZ3VtZW50cyk6KHRoaXMuYXV0b1RyYW5zbGF0ZT0hMCx0aGlzLnZpZXcueDA9Yi54LHRoaXMudmlldy55MD0KYi55LGI9YS52aWV3LnRyYW5zbGF0ZS54LGM9YS52aWV3LnRyYW5zbGF0ZS55LGEudmlldy5zZXRUcmFuc2xhdGUoZCxlKSxhLmNvbnRhaW5lci5zY3JvbGxMZWZ0Kz1NYXRoLnJvdW5kKChkLWIpKmEudmlldy5zY2FsZSksYS5jb250YWluZXIuc2Nyb2xsVG9wKz1NYXRoLnJvdW5kKChlLWMpKmEudmlldy5zY2FsZSksdGhpcy5hdXRvVHJhbnNsYXRlPSExKX1lbHNlIHRoaXMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KG14RXZlbnQuU0laRSwiYm91bmRzIix0aGlzLmdldEdyYXBoQm91bmRzKCkpKX19fXZhciBHPWEudmlldy5nZXRCYWNrZ3JvdW5kUGFuZSgpLEY9YS52aWV3LmdldERyYXdQYW5lKCk7YS5jdW11bGF0aXZlWm9vbUZhY3Rvcj0xO3ZhciBIPW51bGwsSj1udWxsLHU9bnVsbCxLPW51bGwsQj1mdW5jdGlvbihiKXtudWxsIT1IJiZ3aW5kb3cuY2xlYXJUaW1lb3V0KEgpO3dpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5pc01vdXNlRG93bnx8KEg9d2luZG93LnNldFRpbWVvdXQobXhVdGlscy5iaW5kKHRoaXMsCmZ1bmN0aW9uKCl7YS5pc0Zhc3Rab29tRW5hYmxlZCgpJiYobnVsbCE9YS52aWV3LmJhY2tncm91bmRQYWdlU2hhcGUmJm51bGwhPWEudmlldy5iYWNrZ3JvdW5kUGFnZVNoYXBlLm5vZGUmJihteFV0aWxzLnNldFByZWZpeGVkU3R5bGUoYS52aWV3LmJhY2tncm91bmRQYWdlU2hhcGUubm9kZS5zdHlsZSwidHJhbnNmb3JtLW9yaWdpbiIsbnVsbCksbXhVdGlscy5zZXRQcmVmaXhlZFN0eWxlKGEudmlldy5iYWNrZ3JvdW5kUGFnZVNoYXBlLm5vZGUuc3R5bGUsInRyYW5zZm9ybSIsbnVsbCkpLEYuc3R5bGUudHJhbnNmb3JtT3JpZ2luPSIiLEcuc3R5bGUudHJhbnNmb3JtT3JpZ2luPSIiLG14Q2xpZW50LklTX1NGPyhGLnN0eWxlLnRyYW5zZm9ybT0ic2NhbGUoMSkiLEcuc3R5bGUudHJhbnNmb3JtPSJzY2FsZSgxKSIsd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXtGLnN0eWxlLnRyYW5zZm9ybT0iIjtHLnN0eWxlLnRyYW5zZm9ybT0iIn0sMCkpOihGLnN0eWxlLnRyYW5zZm9ybT0KIiIsRy5zdHlsZS50cmFuc2Zvcm09IiIpLGEudmlldy5nZXREZWNvcmF0b3JQYW5lKCkuc3R5bGUub3BhY2l0eT0iIixhLnZpZXcuZ2V0T3ZlcmxheVBhbmUoKS5zdHlsZS5vcGFjaXR5PSIiKTt2YXIgYj1uZXcgbXhQb2ludChhLmNvbnRhaW5lci5zY3JvbGxMZWZ0LGEuY29udGFpbmVyLnNjcm9sbFRvcCksZT1teFV0aWxzLmdldE9mZnNldChhLmNvbnRhaW5lciksYz1hLnZpZXcuc2NhbGUsZz0wLGw9MDtudWxsIT1KJiYoZz1hLmNvbnRhaW5lci5vZmZzZXRXaWR0aC8yLUoueCtlLngsbD1hLmNvbnRhaW5lci5vZmZzZXRIZWlnaHQvMi1KLnkrZS55KTthLnpvb20oYS5jdW11bGF0aXZlWm9vbUZhY3Rvcik7YS52aWV3LnNjYWxlIT1jJiYobnVsbCE9dSYmKGcrPWIueC11LngsbCs9Yi55LXUueSksbnVsbCE9ZCYmZi5jaHJvbWVsZXNzUmVzaXplKCExLG51bGwsZyooYS5jdW11bGF0aXZlWm9vbUZhY3Rvci0xKSxsKihhLmN1bXVsYXRpdmVab29tRmFjdG9yLTEpKSwhbXhVdGlscy5oYXNTY3JvbGxiYXJzKGEuY29udGFpbmVyKXx8CjA9PWcmJjA9PWx8fChhLmNvbnRhaW5lci5zY3JvbGxMZWZ0LT1nKihhLmN1bXVsYXRpdmVab29tRmFjdG9yLTEpLGEuY29udGFpbmVyLnNjcm9sbFRvcC09bCooYS5jdW11bGF0aXZlWm9vbUZhY3Rvci0xKSkpO251bGwhPUsmJkYuc2V0QXR0cmlidXRlKCJmaWx0ZXIiLEspO2EuY3VtdWxhdGl2ZVpvb21GYWN0b3I9MTtLPUo9dT1IPW51bGx9KSxudWxsIT1iP2I6YS5pc0Zhc3Rab29tRW5hYmxlZCgpP2Yud2hlZWxab29tRGVsYXk6Zi5sYXp5Wm9vbURlbGF5KSl9LDApfTthLmxhenlab29tPWZ1bmN0aW9uKGIsZSxjKXsoZT1lfHwhYS5zY3JvbGxiYXJzKSYmKEo9bmV3IG14UG9pbnQoYS5jb250YWluZXIub2Zmc2V0TGVmdCthLmNvbnRhaW5lci5jbGllbnRXaWR0aC8yLGEuY29udGFpbmVyLm9mZnNldFRvcCthLmNvbnRhaW5lci5jbGllbnRIZWlnaHQvMikpO2I/LjE1Pj10aGlzLnZpZXcuc2NhbGUqdGhpcy5jdW11bGF0aXZlWm9vbUZhY3Rvcj90aGlzLmN1bXVsYXRpdmVab29tRmFjdG9yKj0KKHRoaXMudmlldy5zY2FsZSsuMDUpL3RoaXMudmlldy5zY2FsZToodGhpcy5jdW11bGF0aXZlWm9vbUZhY3Rvcio9dGhpcy56b29tRmFjdG9yLHRoaXMuY3VtdWxhdGl2ZVpvb21GYWN0b3I9TWF0aC5yb3VuZCh0aGlzLnZpZXcuc2NhbGUqdGhpcy5jdW11bGF0aXZlWm9vbUZhY3RvcioyMCkvMjAvdGhpcy52aWV3LnNjYWxlKTouMTU+PXRoaXMudmlldy5zY2FsZSp0aGlzLmN1bXVsYXRpdmVab29tRmFjdG9yP3RoaXMuY3VtdWxhdGl2ZVpvb21GYWN0b3IqPSh0aGlzLnZpZXcuc2NhbGUtLjA1KS90aGlzLnZpZXcuc2NhbGU6KHRoaXMuY3VtdWxhdGl2ZVpvb21GYWN0b3IvPXRoaXMuem9vbUZhY3Rvcix0aGlzLmN1bXVsYXRpdmVab29tRmFjdG9yPU1hdGgucm91bmQodGhpcy52aWV3LnNjYWxlKnRoaXMuY3VtdWxhdGl2ZVpvb21GYWN0b3IqMjApLzIwL3RoaXMudmlldy5zY2FsZSk7dGhpcy5jdW11bGF0aXZlWm9vbUZhY3Rvcj1NYXRoLm1heCguMDUsTWF0aC5taW4odGhpcy52aWV3LnNjYWxlKgp0aGlzLmN1bXVsYXRpdmVab29tRmFjdG9yLDE2MCkpL3RoaXMudmlldy5zY2FsZTtpZihhLmlzRmFzdFpvb21FbmFibGVkKCkpe251bGw9PUsmJiIiIT1GLmdldEF0dHJpYnV0ZSgiZmlsdGVyIikmJihLPUYuZ2V0QXR0cmlidXRlKCJmaWx0ZXIiKSxGLnJlbW92ZUF0dHJpYnV0ZSgiZmlsdGVyIikpO3U9bmV3IG14UG9pbnQoYS5jb250YWluZXIuc2Nyb2xsTGVmdCxhLmNvbnRhaW5lci5zY3JvbGxUb3ApO2I9ZT9hLmNvbnRhaW5lci5zY3JvbGxMZWZ0K2EuY29udGFpbmVyLmNsaWVudFdpZHRoLzI6Si54K2EuY29udGFpbmVyLnNjcm9sbExlZnQtYS5jb250YWluZXIub2Zmc2V0TGVmdDt2YXIgZD1lP2EuY29udGFpbmVyLnNjcm9sbFRvcCthLmNvbnRhaW5lci5jbGllbnRIZWlnaHQvMjpKLnkrYS5jb250YWluZXIuc2Nyb2xsVG9wLWEuY29udGFpbmVyLm9mZnNldFRvcDtGLnN0eWxlLnRyYW5zZm9ybU9yaWdpbj1iKyJweCAiK2QrInB4IjtGLnN0eWxlLnRyYW5zZm9ybT0ic2NhbGUoIisKdGhpcy5jdW11bGF0aXZlWm9vbUZhY3RvcisiKSI7Ry5zdHlsZS50cmFuc2Zvcm1PcmlnaW49YisicHggIitkKyJweCI7Ry5zdHlsZS50cmFuc2Zvcm09InNjYWxlKCIrdGhpcy5jdW11bGF0aXZlWm9vbUZhY3RvcisiKSI7bnVsbCE9YS52aWV3LmJhY2tncm91bmRQYWdlU2hhcGUmJm51bGwhPWEudmlldy5iYWNrZ3JvdW5kUGFnZVNoYXBlLm5vZGUmJihiPWEudmlldy5iYWNrZ3JvdW5kUGFnZVNoYXBlLm5vZGUsbXhVdGlscy5zZXRQcmVmaXhlZFN0eWxlKGIuc3R5bGUsInRyYW5zZm9ybS1vcmlnaW4iLChlP2EuY29udGFpbmVyLmNsaWVudFdpZHRoLzIrYS5jb250YWluZXIuc2Nyb2xsTGVmdC1iLm9mZnNldExlZnQrInB4IjpKLngrYS5jb250YWluZXIuc2Nyb2xsTGVmdC1iLm9mZnNldExlZnQtYS5jb250YWluZXIub2Zmc2V0TGVmdCsicHgiKSsiICIrKGU/YS5jb250YWluZXIuY2xpZW50SGVpZ2h0LzIrYS5jb250YWluZXIuc2Nyb2xsVG9wLWIub2Zmc2V0VG9wKyJweCI6Si55KwphLmNvbnRhaW5lci5zY3JvbGxUb3AtYi5vZmZzZXRUb3AtYS5jb250YWluZXIub2Zmc2V0VG9wKyJweCIpKSxteFV0aWxzLnNldFByZWZpeGVkU3R5bGUoYi5zdHlsZSwidHJhbnNmb3JtIiwic2NhbGUoIit0aGlzLmN1bXVsYXRpdmVab29tRmFjdG9yKyIpIikpO2Eudmlldy5nZXREZWNvcmF0b3JQYW5lKCkuc3R5bGUub3BhY2l0eT0iMCI7YS52aWV3LmdldE92ZXJsYXlQYW5lKCkuc3R5bGUub3BhY2l0eT0iMCI7bnVsbCE9Zi5ob3Zlckljb25zJiZmLmhvdmVySWNvbnMucmVzZXQoKX1CKGMpfTtteEV2ZW50LmFkZEdlc3R1cmVMaXN0ZW5lcnMoYS5jb250YWluZXIsZnVuY3Rpb24oYSl7bnVsbCE9SCYmd2luZG93LmNsZWFyVGltZW91dChIKX0sbnVsbCxmdW5jdGlvbihiKXsxIT1hLmN1bXVsYXRpdmVab29tRmFjdG9yJiZCKDApfSk7bXhFdmVudC5hZGRMaXN0ZW5lcihhLmNvbnRhaW5lciwic2Nyb2xsIixmdW5jdGlvbigpe0gmJiFhLmlzTW91c2VEb3duJiYxIT1hLmN1bXVsYXRpdmVab29tRmFjdG9yJiYKQigwKX0pO214RXZlbnQuYWRkTW91c2VXaGVlbExpc3RlbmVyKG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGIsZSxjKXtpZihudWxsPT10aGlzLmRpYWxvZ3N8fDA9PXRoaXMuZGlhbG9ncy5sZW5ndGgpaWYoIWEuc2Nyb2xsYmFycyYmYS5pc1Njcm9sbFdoZWVsRXZlbnQoYikpe2M9YS52aWV3LmdldFRyYW5zbGF0ZSgpO3ZhciBkPTQwL2Eudmlldy5zY2FsZTtteEV2ZW50LmlzU2hpZnREb3duKGIpP2Eudmlldy5zZXRUcmFuc2xhdGUoYy54KyhlPy1kOmQpLGMueSk6YS52aWV3LnNldFRyYW5zbGF0ZShjLngsYy55KyhlP2Q6LWQpKX1lbHNlIGlmKGN8fGEuaXNab29tV2hlZWxFdmVudChiKSlmb3IoYz1teEV2ZW50LmdldFNvdXJjZShiKTtudWxsIT1jOyl7aWYoYz09YS5jb250YWluZXIpcmV0dXJuIGEudG9vbHRpcEhhbmRsZXIuaGlkZVRvb2x0aXAoKSxKPW5ldyBteFBvaW50KG14RXZlbnQuZ2V0Q2xpZW50WChiKSxteEV2ZW50LmdldENsaWVudFkoYikpLGEubGF6eVpvb20oZSksCm14RXZlbnQuY29uc3VtZShiKSwhMTtjPWMucGFyZW50Tm9kZX19KSxhLmNvbnRhaW5lcik7YS5wYW5uaW5nSGFuZGxlci56b29tR3JhcGg9ZnVuY3Rpb24oYil7YS5jdW11bGF0aXZlWm9vbUZhY3Rvcj1iLnNjYWxlO2EubGF6eVpvb20oMDxiLnNjYWxlLCEwKTtteEV2ZW50LmNvbnN1bWUoYil9fTtFZGl0b3JVaS5wcm90b3R5cGUuYWRkQ2hyb21lbGVzc1Rvb2xiYXJJdGVtcz1mdW5jdGlvbihhKXthKG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3RoaXMuYWN0aW9ucy5nZXQoInByaW50IikuZnVuY3QoKTtteEV2ZW50LmNvbnN1bWUoYSl9KSxFZGl0b3IucHJpbnRMYXJnZUltYWdlLG14UmVzb3VyY2VzLmdldCgicHJpbnQiKSl9OwpFZGl0b3JVaS5wcm90b3R5cGUuY3JlYXRlVGVtcG9yYXJ5R3JhcGg9ZnVuY3Rpb24oYSl7YT1uZXcgR3JhcGgoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IiksbnVsbCxudWxsLGEpO2EucmVzZXRWaWV3T25Sb290Q2hhbmdlPSExO2Euc2V0Q29ubmVjdGFibGUoITEpO2EuZ3JpZEVuYWJsZWQ9ITE7YS5hdXRvU2Nyb2xsPSExO2Euc2V0VG9vbHRpcHMoITEpO2Euc2V0RW5hYmxlZCghMSk7YS5jb250YWluZXIuc3R5bGUudmlzaWJpbGl0eT0iaGlkZGVuIjthLmNvbnRhaW5lci5zdHlsZS5wb3NpdGlvbj0iYWJzb2x1dGUiO2EuY29udGFpbmVyLnN0eWxlLm92ZXJmbG93PSJoaWRkZW4iO2EuY29udGFpbmVyLnN0eWxlLmhlaWdodD0iMXB4IjthLmNvbnRhaW5lci5zdHlsZS53aWR0aD0iMXB4IjtyZXR1cm4gYX07CkVkaXRvclVpLnByb3RvdHlwZS5hZGRDaHJvbWVsZXNzQ2xpY2tIYW5kbGVyPWZ1bmN0aW9uKCl7dmFyIGE9dXJsUGFyYW1zLmhpZ2hsaWdodDtudWxsIT1hJiYwPGEubGVuZ3RoJiYoYT0iIyIrYSk7dGhpcy5lZGl0b3IuZ3JhcGguYWRkQ2xpY2tIYW5kbGVyKGEpfTtFZGl0b3JVaS5wcm90b3R5cGUudG9nZ2xlRm9ybWF0UGFuZWw9ZnVuY3Rpb24oYSl7YT1udWxsIT1hP2E6MD09dGhpcy5mb3JtYXRXaWR0aDtudWxsIT10aGlzLmZvcm1hdCYmKHRoaXMuZm9ybWF0V2lkdGg9YT8yNDA6MCx0aGlzLmZvcm1hdENvbnRhaW5lci5zdHlsZS5kaXNwbGF5PWE/IiI6Im5vbmUiLHRoaXMucmVmcmVzaCgpLHRoaXMuZm9ybWF0LnJlZnJlc2goKSx0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdCgiZm9ybWF0V2lkdGhDaGFuZ2VkIikpKX07CkVkaXRvclVpLnByb3RvdHlwZS5saWdodGJveEZpdD1mdW5jdGlvbihhKXtpZih0aGlzLmlzRGlhZ3JhbUVtcHR5KCkpdGhpcy5lZGl0b3IuZ3JhcGgudmlldy5zZXRTY2FsZSgxKTtlbHNle3ZhciBkPXVybFBhcmFtcy5ib3JkZXIsZj02MDtudWxsIT1kJiYoZj1wYXJzZUludChkKSk7dGhpcy5lZGl0b3IuZ3JhcGgubWF4Rml0U2NhbGU9dGhpcy5saWdodGJveE1heEZpdFNjYWxlO3RoaXMuZWRpdG9yLmdyYXBoLmZpdChmLG51bGwsbnVsbCxudWxsLG51bGwsbnVsbCxhKTt0aGlzLmVkaXRvci5ncmFwaC5tYXhGaXRTY2FsZT1udWxsfX07RWRpdG9yVWkucHJvdG90eXBlLmlzRGlhZ3JhbUVtcHR5PWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5lZGl0b3IuZ3JhcGguZ2V0TW9kZWwoKTtyZXR1cm4gMT09YS5nZXRDaGlsZENvdW50KGEucm9vdCkmJjA9PWEuZ2V0Q2hpbGRDb3VudChhLmdldENoaWxkQXQoYS5yb290LDApKX07CkVkaXRvclVpLnByb3RvdHlwZS5pc1NlbGVjdGlvbkFsbG93ZWQ9ZnVuY3Rpb24oYSl7cmV0dXJuIlNFTEVDVCI9PW14RXZlbnQuZ2V0U291cmNlKGEpLm5vZGVOYW1lfHwiSU5QVVQiPT1teEV2ZW50LmdldFNvdXJjZShhKS5ub2RlTmFtZSYmbXhVdGlscy5pc0FuY2VzdG9yTm9kZSh0aGlzLmZvcm1hdENvbnRhaW5lcixteEV2ZW50LmdldFNvdXJjZShhKSl9O0VkaXRvclVpLnByb3RvdHlwZS5hZGRCZWZvcmVVbmxvYWRMaXN0ZW5lcj1mdW5jdGlvbigpe3dpbmRvdy5vbmJlZm9yZXVubG9hZD1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe2lmKCF0aGlzLmVkaXRvci5pc0Nocm9tZWxlc3NWaWV3KCkpcmV0dXJuIHRoaXMub25CZWZvcmVVbmxvYWQoKX0pfTtFZGl0b3JVaS5wcm90b3R5cGUub25CZWZvcmVVbmxvYWQ9ZnVuY3Rpb24oKXtpZih0aGlzLmVkaXRvci5tb2RpZmllZClyZXR1cm4gbXhSZXNvdXJjZXMuZ2V0KCJhbGxDaGFuZ2VzTG9zdCIpfTsKRWRpdG9yVWkucHJvdG90eXBlLm9wZW49ZnVuY3Rpb24oKXt0cnl7bnVsbCE9d2luZG93Lm9wZW5lciYmbnVsbCE9d2luZG93Lm9wZW5lci5vcGVuRmlsZSYmd2luZG93Lm9wZW5lci5vcGVuRmlsZS5zZXRDb25zdW1lcihteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhLGQpe3RyeXt2YXIgZj1teFV0aWxzLnBhcnNlWG1sKGEpO3RoaXMuZWRpdG9yLnNldEdyYXBoWG1sKGYuZG9jdW1lbnRFbGVtZW50KTt0aGlzLmVkaXRvci5zZXRNb2RpZmllZCghMSk7dGhpcy5lZGl0b3IudW5kb01hbmFnZXIuY2xlYXIoKTtudWxsIT1kJiYodGhpcy5lZGl0b3Iuc2V0RmlsZW5hbWUoZCksdGhpcy51cGRhdGVEb2N1bWVudFRpdGxlKCkpfWNhdGNoKGMpe214VXRpbHMuYWxlcnQobXhSZXNvdXJjZXMuZ2V0KCJpbnZhbGlkT3JNaXNzaW5nRmlsZSIpKyI6ICIrYy5tZXNzYWdlKX19KSl9Y2F0Y2goYSl7fXRoaXMuZWRpdG9yLmdyYXBoLnZpZXcudmFsaWRhdGUoKTt0aGlzLmVkaXRvci5ncmFwaC5zaXplRGlkQ2hhbmdlKCk7CnRoaXMuZWRpdG9yLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdCgicmVzZXRHcmFwaFZpZXciKSl9O0VkaXRvclVpLnByb3RvdHlwZS5zZXRDdXJyZW50TWVudT1mdW5jdGlvbihhLGQpe3RoaXMuY3VycmVudE1lbnVFbHQ9ZDt0aGlzLmN1cnJlbnRNZW51PWF9O0VkaXRvclVpLnByb3RvdHlwZS5yZXNldEN1cnJlbnRNZW51PWZ1bmN0aW9uKCl7dGhpcy5jdXJyZW50TWVudT10aGlzLmN1cnJlbnRNZW51RWx0PW51bGx9O0VkaXRvclVpLnByb3RvdHlwZS5oaWRlQ3VycmVudE1lbnU9ZnVuY3Rpb24oKXtudWxsIT10aGlzLmN1cnJlbnRNZW51JiYodGhpcy5jdXJyZW50TWVudS5oaWRlTWVudSgpLHRoaXMucmVzZXRDdXJyZW50TWVudSgpKX07CkVkaXRvclVpLnByb3RvdHlwZS51cGRhdGVEb2N1bWVudFRpdGxlPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5lZGl0b3IuZ2V0T3JDcmVhdGVGaWxlbmFtZSgpO251bGwhPXRoaXMuZWRpdG9yLmFwcE5hbWUmJihhKz0iIC0gIit0aGlzLmVkaXRvci5hcHBOYW1lKTtkb2N1bWVudC50aXRsZT1hfTtFZGl0b3JVaS5wcm90b3R5cGUuY3JlYXRlSG92ZXJJY29ucz1mdW5jdGlvbigpe3JldHVybiBuZXcgSG92ZXJJY29ucyh0aGlzLmVkaXRvci5ncmFwaCl9O0VkaXRvclVpLnByb3RvdHlwZS5yZWRvPWZ1bmN0aW9uKCl7dHJ5e3RoaXMuZWRpdG9yLmdyYXBoLmlzRWRpdGluZygpP2RvY3VtZW50LmV4ZWNDb21tYW5kKCJyZWRvIiwhMSxudWxsKTp0aGlzLmVkaXRvci51bmRvTWFuYWdlci5yZWRvKCl9Y2F0Y2goYSl7fX07CkVkaXRvclVpLnByb3RvdHlwZS51bmRvPWZ1bmN0aW9uKCl7dHJ5e3ZhciBhPXRoaXMuZWRpdG9yLmdyYXBoO2lmKGEuaXNFZGl0aW5nKCkpe3ZhciBkPWEuY2VsbEVkaXRvci50ZXh0YXJlYS5pbm5lckhUTUw7ZG9jdW1lbnQuZXhlY0NvbW1hbmQoInVuZG8iLCExLG51bGwpO2Q9PWEuY2VsbEVkaXRvci50ZXh0YXJlYS5pbm5lckhUTUwmJihhLnN0b3BFZGl0aW5nKCEwKSx0aGlzLmVkaXRvci51bmRvTWFuYWdlci51bmRvKCkpfWVsc2UgdGhpcy5lZGl0b3IudW5kb01hbmFnZXIudW5kbygpfWNhdGNoKGYpe319O0VkaXRvclVpLnByb3RvdHlwZS5jYW5SZWRvPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWRpdG9yLmdyYXBoLmlzRWRpdGluZygpfHx0aGlzLmVkaXRvci51bmRvTWFuYWdlci5jYW5SZWRvKCl9O0VkaXRvclVpLnByb3RvdHlwZS5jYW5VbmRvPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWRpdG9yLmdyYXBoLmlzRWRpdGluZygpfHx0aGlzLmVkaXRvci51bmRvTWFuYWdlci5jYW5VbmRvKCl9OwpFZGl0b3JVaS5wcm90b3R5cGUuZ2V0RWRpdEJsYW5rWG1sPWZ1bmN0aW9uKCl7cmV0dXJuIG14VXRpbHMuZ2V0WG1sKHRoaXMuZWRpdG9yLmdldEdyYXBoWG1sKCkpfTtFZGl0b3JVaS5wcm90b3R5cGUuZ2V0VXJsPWZ1bmN0aW9uKGEpe2E9bnVsbCE9YT9hOndpbmRvdy5sb2NhdGlvbi5wYXRobmFtZTt2YXIgZD0wPGEuaW5kZXhPZigiPyIpPzE6MCxmO2ZvcihmIGluIHVybFBhcmFtcylhPTA9PWQ/YSsiPyI6YSsiJiIsYSs9ZisiPSIrdXJsUGFyYW1zW2ZdLGQrKztyZXR1cm4gYX07CkVkaXRvclVpLnByb3RvdHlwZS5zZXRTY3JvbGxiYXJzPWZ1bmN0aW9uKGEpe3ZhciBkPXRoaXMuZWRpdG9yLmdyYXBoLGY9ZC5jb250YWluZXIuc3R5bGUub3ZlcmZsb3c7ZC5zY3JvbGxiYXJzPWE7dGhpcy5lZGl0b3IudXBkYXRlR3JhcGhDb21wb25lbnRzKCk7ZiE9ZC5jb250YWluZXIuc3R5bGUub3ZlcmZsb3cmJihkLmNvbnRhaW5lci5zY3JvbGxUb3A9MCxkLmNvbnRhaW5lci5zY3JvbGxMZWZ0PTAsZC52aWV3LnNjYWxlQW5kVHJhbnNsYXRlKDEsMCwwKSx0aGlzLnJlc2V0U2Nyb2xsYmFycygpKTt0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdCgic2Nyb2xsYmFyc0NoYW5nZWQiKSl9O0VkaXRvclVpLnByb3RvdHlwZS5oYXNTY3JvbGxiYXJzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWRpdG9yLmdyYXBoLnNjcm9sbGJhcnN9OwpFZGl0b3JVaS5wcm90b3R5cGUucmVzZXRTY3JvbGxiYXJzPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5lZGl0b3IuZ3JhcGg7aWYoIXRoaXMuZWRpdG9yLmV4dGVuZENhbnZhcylhLmNvbnRhaW5lci5zY3JvbGxUb3A9MCxhLmNvbnRhaW5lci5zY3JvbGxMZWZ0PTAsbXhVdGlscy5oYXNTY3JvbGxiYXJzKGEuY29udGFpbmVyKXx8YS52aWV3LnNldFRyYW5zbGF0ZSgwLDApO2Vsc2UgaWYoIXRoaXMuZWRpdG9yLmlzQ2hyb21lbGVzc1ZpZXcoKSlpZihteFV0aWxzLmhhc1Njcm9sbGJhcnMoYS5jb250YWluZXIpKWlmKGEucGFnZVZpc2libGUpe3ZhciBkPWEuZ2V0UGFnZVBhZGRpbmcoKTthLmNvbnRhaW5lci5zY3JvbGxUb3A9TWF0aC5mbG9vcihkLnktdGhpcy5lZGl0b3IuaW5pdGlhbFRvcFNwYWNpbmcpLTE7YS5jb250YWluZXIuc2Nyb2xsTGVmdD1NYXRoLmZsb29yKE1hdGgubWluKGQueCwoYS5jb250YWluZXIuc2Nyb2xsV2lkdGgtYS5jb250YWluZXIuY2xpZW50V2lkdGgpLzIpKS0KMTtkPWEuZ2V0R3JhcGhCb3VuZHMoKTswPGQud2lkdGgmJjA8ZC5oZWlnaHQmJihkLng+YS5jb250YWluZXIuc2Nyb2xsTGVmdCsuOSphLmNvbnRhaW5lci5jbGllbnRXaWR0aCYmKGEuY29udGFpbmVyLnNjcm9sbExlZnQ9TWF0aC5taW4oZC54K2Qud2lkdGgtYS5jb250YWluZXIuY2xpZW50V2lkdGgsZC54LTEwKSksZC55PmEuY29udGFpbmVyLnNjcm9sbFRvcCsuOSphLmNvbnRhaW5lci5jbGllbnRIZWlnaHQmJihhLmNvbnRhaW5lci5zY3JvbGxUb3A9TWF0aC5taW4oZC55K2QuaGVpZ2h0LWEuY29udGFpbmVyLmNsaWVudEhlaWdodCxkLnktMTApKSl9ZWxzZXt2YXIgZD1hLmdldEdyYXBoQm91bmRzKCksZj1NYXRoLm1heChkLndpZHRoLGEuc2Nyb2xsVGlsZVNpemUud2lkdGgqYS52aWV3LnNjYWxlKTthLmNvbnRhaW5lci5zY3JvbGxUb3A9TWF0aC5mbG9vcihNYXRoLm1heCgwLGQueS1NYXRoLm1heCgyMCwoYS5jb250YWluZXIuY2xpZW50SGVpZ2h0LU1hdGgubWF4KGQuaGVpZ2h0LAphLnNjcm9sbFRpbGVTaXplLmhlaWdodCphLnZpZXcuc2NhbGUpKS80KSkpO2EuY29udGFpbmVyLnNjcm9sbExlZnQ9TWF0aC5mbG9vcihNYXRoLm1heCgwLGQueC1NYXRoLm1heCgwLChhLmNvbnRhaW5lci5jbGllbnRXaWR0aC1mKS8yKSkpfWVsc2V7dmFyIGQ9bXhSZWN0YW5nbGUuZnJvbVJlY3RhbmdsZShhLnBhZ2VWaXNpYmxlP2Eudmlldy5nZXRCYWNrZ3JvdW5kUGFnZUJvdW5kcygpOmEuZ2V0R3JhcGhCb3VuZHMoKSksZj1hLnZpZXcudHJhbnNsYXRlLGM9YS52aWV3LnNjYWxlO2QueD1kLngvYy1mLng7ZC55PWQueS9jLWYueTtkLndpZHRoLz1jO2QuaGVpZ2h0Lz1jO2Eudmlldy5zZXRUcmFuc2xhdGUoTWF0aC5mbG9vcihNYXRoLm1heCgwLChhLmNvbnRhaW5lci5jbGllbnRXaWR0aC1kLndpZHRoKS8yKS1kLngrMiksTWF0aC5mbG9vcigoYS5wYWdlVmlzaWJsZT8wOk1hdGgubWF4KDAsKGEuY29udGFpbmVyLmNsaWVudEhlaWdodC1kLmhlaWdodCkvNCkpLWQueSsxKSl9fTsKRWRpdG9yVWkucHJvdG90eXBlLnNldFBhZ2VWaXNpYmxlPWZ1bmN0aW9uKGEpe3ZhciBkPXRoaXMuZWRpdG9yLmdyYXBoLGY9bXhVdGlscy5oYXNTY3JvbGxiYXJzKGQuY29udGFpbmVyKSxjPTAsbT0wO2YmJihjPWQudmlldy50cmFuc2xhdGUueCpkLnZpZXcuc2NhbGUtZC5jb250YWluZXIuc2Nyb2xsTGVmdCxtPWQudmlldy50cmFuc2xhdGUueSpkLnZpZXcuc2NhbGUtZC5jb250YWluZXIuc2Nyb2xsVG9wKTtkLnBhZ2VWaXNpYmxlPWE7ZC5wYWdlQnJlYWtzVmlzaWJsZT1hO2QucHJlZmVyUGFnZVNpemU9YTtkLnZpZXcudmFsaWRhdGVCYWNrZ3JvdW5kKCk7ZiYmKGE9ZC5nZXRTZWxlY3Rpb25DZWxscygpLGQuY2xlYXJTZWxlY3Rpb24oKSxkLnNldFNlbGVjdGlvbkNlbGxzKGEpKTtkLnNpemVEaWRDaGFuZ2UoKTtmJiYoZC5jb250YWluZXIuc2Nyb2xsTGVmdD1kLnZpZXcudHJhbnNsYXRlLngqZC52aWV3LnNjYWxlLWMsZC5jb250YWluZXIuc2Nyb2xsVG9wPWQudmlldy50cmFuc2xhdGUueSoKZC52aWV3LnNjYWxlLW0pO3RoaXMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KCJwYWdlVmlld0NoYW5nZWQiKSl9O2Z1bmN0aW9uIENoYW5nZVBhZ2VTZXR1cChhLGQsZixjLG0pe3RoaXMudWk9YTt0aGlzLnByZXZpb3VzQ29sb3I9dGhpcy5jb2xvcj1kO3RoaXMucHJldmlvdXNJbWFnZT10aGlzLmltYWdlPWY7dGhpcy5wcmV2aW91c0Zvcm1hdD10aGlzLmZvcm1hdD1jO3RoaXMucHJldmlvdXNQYWdlU2NhbGU9dGhpcy5wYWdlU2NhbGU9bTt0aGlzLmlnbm9yZUltYWdlPXRoaXMuaWdub3JlQ29sb3I9ITF9CkNoYW5nZVBhZ2VTZXR1cC5wcm90b3R5cGUuZXhlY3V0ZT1mdW5jdGlvbigpe3ZhciBhPXRoaXMudWkuZWRpdG9yLmdyYXBoO2lmKCF0aGlzLmlnbm9yZUNvbG9yKXt0aGlzLmNvbG9yPXRoaXMucHJldmlvdXNDb2xvcjt2YXIgZD1hLmJhY2tncm91bmQ7dGhpcy51aS5zZXRCYWNrZ3JvdW5kQ29sb3IodGhpcy5wcmV2aW91c0NvbG9yKTt0aGlzLnByZXZpb3VzQ29sb3I9ZH10aGlzLmlnbm9yZUltYWdlfHwodGhpcy5pbWFnZT10aGlzLnByZXZpb3VzSW1hZ2UsZD1hLmJhY2tncm91bmRJbWFnZSx0aGlzLnVpLnNldEJhY2tncm91bmRJbWFnZSh0aGlzLnByZXZpb3VzSW1hZ2UpLHRoaXMucHJldmlvdXNJbWFnZT1kKTtudWxsIT10aGlzLnByZXZpb3VzRm9ybWF0JiYodGhpcy5mb3JtYXQ9dGhpcy5wcmV2aW91c0Zvcm1hdCxkPWEucGFnZUZvcm1hdCx0aGlzLnByZXZpb3VzRm9ybWF0LndpZHRoIT1kLndpZHRofHx0aGlzLnByZXZpb3VzRm9ybWF0LmhlaWdodCE9ZC5oZWlnaHQpJiYodGhpcy51aS5zZXRQYWdlRm9ybWF0KHRoaXMucHJldmlvdXNGb3JtYXQpLAp0aGlzLnByZXZpb3VzRm9ybWF0PWQpO251bGwhPXRoaXMuZm9sZGluZ0VuYWJsZWQmJnRoaXMuZm9sZGluZ0VuYWJsZWQhPXRoaXMudWkuZWRpdG9yLmdyYXBoLmZvbGRpbmdFbmFibGVkJiYodGhpcy51aS5zZXRGb2xkaW5nRW5hYmxlZCh0aGlzLmZvbGRpbmdFbmFibGVkKSx0aGlzLmZvbGRpbmdFbmFibGVkPSF0aGlzLmZvbGRpbmdFbmFibGVkKTtudWxsIT10aGlzLnByZXZpb3VzUGFnZVNjYWxlJiYoYT10aGlzLnVpLmVkaXRvci5ncmFwaC5wYWdlU2NhbGUsdGhpcy5wcmV2aW91c1BhZ2VTY2FsZSE9YSYmKHRoaXMudWkuc2V0UGFnZVNjYWxlKHRoaXMucHJldmlvdXNQYWdlU2NhbGUpLHRoaXMucHJldmlvdXNQYWdlU2NhbGU9YSkpfTsKKGZ1bmN0aW9uKCl7dmFyIGE9bmV3IG14T2JqZWN0Q29kZWMobmV3IENoYW5nZVBhZ2VTZXR1cCxbInVpIiwicHJldmlvdXNDb2xvciIsInByZXZpb3VzSW1hZ2UiLCJwcmV2aW91c0Zvcm1hdCIsInByZXZpb3VzUGFnZVNjYWxlIl0pO2EuYWZ0ZXJEZWNvZGU9ZnVuY3Rpb24oYSxmLGMpe2MucHJldmlvdXNDb2xvcj1jLmNvbG9yO2MucHJldmlvdXNJbWFnZT1jLmltYWdlO2MucHJldmlvdXNGb3JtYXQ9Yy5mb3JtYXQ7Yy5wcmV2aW91c1BhZ2VTY2FsZT1jLnBhZ2VTY2FsZTtudWxsIT1jLmZvbGRpbmdFbmFibGVkJiYoYy5mb2xkaW5nRW5hYmxlZD0hYy5mb2xkaW5nRW5hYmxlZCk7cmV0dXJuIGN9O214Q29kZWNSZWdpc3RyeS5yZWdpc3RlcihhKX0pKCk7RWRpdG9yVWkucHJvdG90eXBlLnNldEJhY2tncm91bmRDb2xvcj1mdW5jdGlvbihhKXt0aGlzLmVkaXRvci5ncmFwaC5iYWNrZ3JvdW5kPWE7dGhpcy5lZGl0b3IuZ3JhcGgudmlldy52YWxpZGF0ZUJhY2tncm91bmQoKTt0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdCgiYmFja2dyb3VuZENvbG9yQ2hhbmdlZCIpKX07CkVkaXRvclVpLnByb3RvdHlwZS5zZXRGb2xkaW5nRW5hYmxlZD1mdW5jdGlvbihhKXt0aGlzLmVkaXRvci5ncmFwaC5mb2xkaW5nRW5hYmxlZD1hO3RoaXMuZWRpdG9yLmdyYXBoLnZpZXcucmV2YWxpZGF0ZSgpO3RoaXMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KCJmb2xkaW5nRW5hYmxlZENoYW5nZWQiKSl9O0VkaXRvclVpLnByb3RvdHlwZS5zZXRQYWdlRm9ybWF0PWZ1bmN0aW9uKGEpe3RoaXMuZWRpdG9yLmdyYXBoLnBhZ2VGb3JtYXQ9YTt0aGlzLmVkaXRvci5ncmFwaC5wYWdlVmlzaWJsZT8odGhpcy5lZGl0b3IuZ3JhcGgudmlldy52YWxpZGF0ZUJhY2tncm91bmQoKSx0aGlzLmVkaXRvci5ncmFwaC5zaXplRGlkQ2hhbmdlKCkpOnRoaXMuYWN0aW9ucy5nZXQoInBhZ2VWaWV3IikuZnVuY3QoKTt0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdCgicGFnZUZvcm1hdENoYW5nZWQiKSl9OwpFZGl0b3JVaS5wcm90b3R5cGUuc2V0UGFnZVNjYWxlPWZ1bmN0aW9uKGEpe3RoaXMuZWRpdG9yLmdyYXBoLnBhZ2VTY2FsZT1hO3RoaXMuZWRpdG9yLmdyYXBoLnBhZ2VWaXNpYmxlPyh0aGlzLmVkaXRvci5ncmFwaC52aWV3LnZhbGlkYXRlQmFja2dyb3VuZCgpLHRoaXMuZWRpdG9yLmdyYXBoLnNpemVEaWRDaGFuZ2UoKSk6dGhpcy5hY3Rpb25zLmdldCgicGFnZVZpZXciKS5mdW5jdCgpO3RoaXMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KCJwYWdlU2NhbGVDaGFuZ2VkIikpfTtFZGl0b3JVaS5wcm90b3R5cGUuc2V0R3JpZENvbG9yPWZ1bmN0aW9uKGEpe3RoaXMuZWRpdG9yLmdyYXBoLnZpZXcuZ3JpZENvbG9yPWE7dGhpcy5lZGl0b3IuZ3JhcGgudmlldy52YWxpZGF0ZUJhY2tncm91bmQoKTt0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdCgiZ3JpZENvbG9yQ2hhbmdlZCIpKX07CkVkaXRvclVpLnByb3RvdHlwZS5hZGRVbmRvTGlzdGVuZXI9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmFjdGlvbnMuZ2V0KCJ1bmRvIiksZD10aGlzLmFjdGlvbnMuZ2V0KCJyZWRvIiksZj10aGlzLmVkaXRvci51bmRvTWFuYWdlcixjPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7YS5zZXRFbmFibGVkKHRoaXMuY2FuVW5kbygpKTtkLnNldEVuYWJsZWQodGhpcy5jYW5SZWRvKCkpfSk7Zi5hZGRMaXN0ZW5lcihteEV2ZW50LkFERCxjKTtmLmFkZExpc3RlbmVyKG14RXZlbnQuVU5ETyxjKTtmLmFkZExpc3RlbmVyKG14RXZlbnQuUkVETyxjKTtmLmFkZExpc3RlbmVyKG14RXZlbnQuQ0xFQVIsYyk7dmFyIG09dGhpcy5lZGl0b3IuZ3JhcGguY2VsbEVkaXRvci5zdGFydEVkaXRpbmc7dGhpcy5lZGl0b3IuZ3JhcGguY2VsbEVkaXRvci5zdGFydEVkaXRpbmc9ZnVuY3Rpb24oKXttLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtjKCl9O3ZhciBrPXRoaXMuZWRpdG9yLmdyYXBoLmNlbGxFZGl0b3Iuc3RvcEVkaXRpbmc7CnRoaXMuZWRpdG9yLmdyYXBoLmNlbGxFZGl0b3Iuc3RvcEVkaXRpbmc9ZnVuY3Rpb24oYSxiKXtrLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtjKCl9O2MoKX07CkVkaXRvclVpLnByb3RvdHlwZS51cGRhdGVBY3Rpb25TdGF0ZXM9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmVkaXRvci5ncmFwaCxkPSFhLmlzU2VsZWN0aW9uRW1wdHkoKSxmPSExLGM9ITEsbT1hLmdldFNlbGVjdGlvbkNlbGxzKCk7aWYobnVsbCE9bSlmb3IodmFyIGs9MDtrPG0ubGVuZ3RoO2srKyl7dmFyIHE9bVtrXTthLmdldE1vZGVsKCkuaXNFZGdlKHEpJiYoYz0hMCk7YS5nZXRNb2RlbCgpLmlzVmVydGV4KHEpJiYoZj0hMCk7aWYoYyYmZilicmVha31tPSJjdXQgY29weSBib2xkIGl0YWxpYyB1bmRlcmxpbmUgZGVsZXRlIGR1cGxpY2F0ZSBlZGl0U3R5bGUgZWRpdFRvb2x0aXAgZWRpdExpbmsgYmFja2dyb3VuZENvbG9yIGJvcmRlckNvbG9yIGVkaXQgdG9Gcm9udCB0b0JhY2sgbG9ja1VubG9jayBzb2xpZCBkYXNoZWQgcGFzdGVTaXplIGRvdHRlZCBmaWxsQ29sb3IgZ3JhZGllbnRDb2xvciBzaGFkb3cgZm9udENvbG9yIGZvcm1hdHRlZFRleHQgcm91bmRlZCB0b2dnbGVSb3VuZGVkIHNoYXJwIHN0cm9rZUNvbG9yIi5zcGxpdCgiICIpO2ZvcihrPQowO2s8bS5sZW5ndGg7aysrKXRoaXMuYWN0aW9ucy5nZXQobVtrXSkuc2V0RW5hYmxlZChkKTt0aGlzLmFjdGlvbnMuZ2V0KCJzZXRBc0RlZmF1bHRTdHlsZSIpLnNldEVuYWJsZWQoMT09YS5nZXRTZWxlY3Rpb25Db3VudCgpKTt0aGlzLmFjdGlvbnMuZ2V0KCJjbGVhcldheXBvaW50cyIpLnNldEVuYWJsZWQoIWEuaXNTZWxlY3Rpb25FbXB0eSgpKTt0aGlzLmFjdGlvbnMuZ2V0KCJjb3B5U2l6ZSIpLnNldEVuYWJsZWQoMT09YS5nZXRTZWxlY3Rpb25Db3VudCgpKTt0aGlzLmFjdGlvbnMuZ2V0KCJ0dXJuIikuc2V0RW5hYmxlZCghYS5pc1NlbGVjdGlvbkVtcHR5KCkpO3RoaXMuYWN0aW9ucy5nZXQoImN1cnZlZCIpLnNldEVuYWJsZWQoYyk7dGhpcy5hY3Rpb25zLmdldCgicm90YXRpb24iKS5zZXRFbmFibGVkKGYpO3RoaXMuYWN0aW9ucy5nZXQoIndvcmRXcmFwIikuc2V0RW5hYmxlZChmKTt0aGlzLmFjdGlvbnMuZ2V0KCJhdXRvc2l6ZSIpLnNldEVuYWJsZWQoZik7Yz1mJiYxPT0KYS5nZXRTZWxlY3Rpb25Db3VudCgpO3RoaXMuYWN0aW9ucy5nZXQoImdyb3VwIikuc2V0RW5hYmxlZCgxPGEuZ2V0U2VsZWN0aW9uQ291bnQoKXx8YyYmIWEuaXNDb250YWluZXIoYS5nZXRTZWxlY3Rpb25DZWxsKCkpKTt0aGlzLmFjdGlvbnMuZ2V0KCJ1bmdyb3VwIikuc2V0RW5hYmxlZCgxPT1hLmdldFNlbGVjdGlvbkNvdW50KCkmJigwPGEuZ2V0TW9kZWwoKS5nZXRDaGlsZENvdW50KGEuZ2V0U2VsZWN0aW9uQ2VsbCgpKXx8YyYmYS5pc0NvbnRhaW5lcihhLmdldFNlbGVjdGlvbkNlbGwoKSkpKTt0aGlzLmFjdGlvbnMuZ2V0KCJyZW1vdmVGcm9tR3JvdXAiKS5zZXRFbmFibGVkKGMmJmEuZ2V0TW9kZWwoKS5pc1ZlcnRleChhLmdldE1vZGVsKCkuZ2V0UGFyZW50KGEuZ2V0U2VsZWN0aW9uQ2VsbCgpKSkpO2Eudmlldy5nZXRTdGF0ZShhLmdldFNlbGVjdGlvbkNlbGwoKSk7dGhpcy5tZW51cy5nZXQoIm5hdmlnYXRpb24iKS5zZXRFbmFibGVkKGR8fG51bGwhPWEudmlldy5jdXJyZW50Um9vdCk7CnRoaXMuYWN0aW9ucy5nZXQoImNvbGxhcHNpYmxlIikuc2V0RW5hYmxlZChmJiYoYS5pc0NvbnRhaW5lcihhLmdldFNlbGVjdGlvbkNlbGwoKSl8fDA8YS5tb2RlbC5nZXRDaGlsZENvdW50KGEuZ2V0U2VsZWN0aW9uQ2VsbCgpKSkpO3RoaXMuYWN0aW9ucy5nZXQoImhvbWUiKS5zZXRFbmFibGVkKG51bGwhPWEudmlldy5jdXJyZW50Um9vdCk7dGhpcy5hY3Rpb25zLmdldCgiZXhpdEdyb3VwIikuc2V0RW5hYmxlZChudWxsIT1hLnZpZXcuY3VycmVudFJvb3QpO3RoaXMuYWN0aW9ucy5nZXQoImVudGVyR3JvdXAiKS5zZXRFbmFibGVkKDE9PWEuZ2V0U2VsZWN0aW9uQ291bnQoKSYmYS5pc1ZhbGlkUm9vdChhLmdldFNlbGVjdGlvbkNlbGwoKSkpO2Q9MT09YS5nZXRTZWxlY3Rpb25Db3VudCgpJiZhLmlzQ2VsbEZvbGRhYmxlKGEuZ2V0U2VsZWN0aW9uQ2VsbCgpKTt0aGlzLmFjdGlvbnMuZ2V0KCJleHBhbmQiKS5zZXRFbmFibGVkKGQpO3RoaXMuYWN0aW9ucy5nZXQoImNvbGxhcHNlIikuc2V0RW5hYmxlZChkKTsKdGhpcy5hY3Rpb25zLmdldCgiZWRpdExpbmsiKS5zZXRFbmFibGVkKDE9PWEuZ2V0U2VsZWN0aW9uQ291bnQoKSk7dGhpcy5hY3Rpb25zLmdldCgib3BlbkxpbmsiKS5zZXRFbmFibGVkKDE9PWEuZ2V0U2VsZWN0aW9uQ291bnQoKSYmbnVsbCE9YS5nZXRMaW5rRm9yQ2VsbChhLmdldFNlbGVjdGlvbkNlbGwoKSkpO3RoaXMuYWN0aW9ucy5nZXQoImd1aWRlcyIpLnNldEVuYWJsZWQoYS5pc0VuYWJsZWQoKSk7dGhpcy5hY3Rpb25zLmdldCgiZ3JpZCIpLnNldEVuYWJsZWQoIXRoaXMuZWRpdG9yLmNocm9tZWxlc3N8fHRoaXMuZWRpdG9yLmVkaXRhYmxlKTtkPWEuaXNFbmFibGVkKCkmJiFhLmlzQ2VsbExvY2tlZChhLmdldERlZmF1bHRQYXJlbnQoKSk7dGhpcy5tZW51cy5nZXQoImxheW91dCIpLnNldEVuYWJsZWQoZCk7dGhpcy5tZW51cy5nZXQoImluc2VydCIpLnNldEVuYWJsZWQoZCk7dGhpcy5tZW51cy5nZXQoImRpcmVjdGlvbiIpLnNldEVuYWJsZWQoZCYmZik7dGhpcy5tZW51cy5nZXQoImFsaWduIikuc2V0RW5hYmxlZChkJiYKZiYmMTxhLmdldFNlbGVjdGlvbkNvdW50KCkpO3RoaXMubWVudXMuZ2V0KCJkaXN0cmlidXRlIikuc2V0RW5hYmxlZChkJiZmJiYxPGEuZ2V0U2VsZWN0aW9uQ291bnQoKSk7dGhpcy5hY3Rpb25zLmdldCgic2VsZWN0VmVydGljZXMiKS5zZXRFbmFibGVkKGQpO3RoaXMuYWN0aW9ucy5nZXQoInNlbGVjdEVkZ2VzIikuc2V0RW5hYmxlZChkKTt0aGlzLmFjdGlvbnMuZ2V0KCJzZWxlY3RBbGwiKS5zZXRFbmFibGVkKGQpO3RoaXMuYWN0aW9ucy5nZXQoInNlbGVjdE5vbmUiKS5zZXRFbmFibGVkKGQpO3RoaXMudXBkYXRlUGFzdGVBY3Rpb25TdGF0ZXMoKX07RWRpdG9yVWkucHJvdG90eXBlLnplcm9PZmZzZXQ9bmV3IG14UG9pbnQoMCwwKTtFZGl0b3JVaS5wcm90b3R5cGUuZ2V0RGlhZ3JhbUNvbnRhaW5lck9mZnNldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnplcm9PZmZzZXR9OwpFZGl0b3JVaS5wcm90b3R5cGUucmVmcmVzaD1mdW5jdGlvbihhKXthPW51bGwhPWE/YTohMDt2YXIgZD1teENsaWVudC5JU19JRSYmKG51bGw9PWRvY3VtZW50LmRvY3VtZW50TW9kZXx8NT09ZG9jdW1lbnQuZG9jdW1lbnRNb2RlKSxmPXRoaXMuY29udGFpbmVyLmNsaWVudFdpZHRoLGM9dGhpcy5jb250YWluZXIuY2xpZW50SGVpZ2h0O3RoaXMuY29udGFpbmVyPT1kb2N1bWVudC5ib2R5JiYoZj1kb2N1bWVudC5ib2R5LmNsaWVudFdpZHRofHxkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgsYz1kP2RvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0fHxkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0OmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQpO3ZhciBtPTA7bXhDbGllbnQuSVNfSU9TJiYhd2luZG93Lm5hdmlnYXRvci5zdGFuZGFsb25lJiZ3aW5kb3cuaW5uZXJIZWlnaHQhPWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQmJgoobT1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0LXdpbmRvdy5pbm5lckhlaWdodCx3aW5kb3cuc2Nyb2xsVG8oMCwwKSk7dmFyIGs9TWF0aC5tYXgoMCxNYXRoLm1pbih0aGlzLmhzcGxpdFBvc2l0aW9uLGYtdGhpcy5zcGxpdFNpemUtMjApKSxxPTA7bnVsbCE9dGhpcy5tZW51YmFyJiYodGhpcy5tZW51YmFyQ29udGFpbmVyLnN0eWxlLmhlaWdodD10aGlzLm1lbnViYXJIZWlnaHQrInB4IixxKz10aGlzLm1lbnViYXJIZWlnaHQpO251bGwhPXRoaXMudG9vbGJhciYmKHRoaXMudG9vbGJhckNvbnRhaW5lci5zdHlsZS50b3A9dGhpcy5tZW51YmFySGVpZ2h0KyJweCIsdGhpcy50b29sYmFyQ29udGFpbmVyLnN0eWxlLmhlaWdodD10aGlzLnRvb2xiYXJIZWlnaHQrInB4IixxKz10aGlzLnRvb2xiYXJIZWlnaHQpOzA8cSYmIW14Q2xpZW50LklTX1FVSVJLUyYmKHErPTEpO3ZhciBiPTA7aWYobnVsbCE9dGhpcy5zaWRlYmFyRm9vdGVyQ29udGFpbmVyKXt2YXIgZT0KdGhpcy5mb290ZXJIZWlnaHQrbSxiPU1hdGgubWF4KDAsTWF0aC5taW4oYy1xLWUsdGhpcy5zaWRlYmFyRm9vdGVySGVpZ2h0KSk7dGhpcy5zaWRlYmFyRm9vdGVyQ29udGFpbmVyLnN0eWxlLndpZHRoPWsrInB4Ijt0aGlzLnNpZGViYXJGb290ZXJDb250YWluZXIuc3R5bGUuaGVpZ2h0PWIrInB4Ijt0aGlzLnNpZGViYXJGb290ZXJDb250YWluZXIuc3R5bGUuYm90dG9tPWUrInB4In1lPW51bGwhPXRoaXMuZm9ybWF0P3RoaXMuZm9ybWF0V2lkdGg6MDt0aGlzLnNpZGViYXJDb250YWluZXIuc3R5bGUudG9wPXErInB4Ijt0aGlzLnNpZGViYXJDb250YWluZXIuc3R5bGUud2lkdGg9aysicHgiO3RoaXMuZm9ybWF0Q29udGFpbmVyLnN0eWxlLnRvcD1xKyJweCI7dGhpcy5mb3JtYXRDb250YWluZXIuc3R5bGUud2lkdGg9ZSsicHgiO3RoaXMuZm9ybWF0Q29udGFpbmVyLnN0eWxlLmRpc3BsYXk9bnVsbCE9dGhpcy5mb3JtYXQ/IiI6Im5vbmUiO3ZhciBnPXRoaXMuZ2V0RGlhZ3JhbUNvbnRhaW5lck9mZnNldCgpLApwPW51bGwhPXRoaXMuaHNwbGl0LnBhcmVudE5vZGU/ayt0aGlzLnNwbGl0U2l6ZTowO3RoaXMuZGlhZ3JhbUNvbnRhaW5lci5zdHlsZS5sZWZ0PXArZy54KyJweCI7dGhpcy5kaWFncmFtQ29udGFpbmVyLnN0eWxlLnRvcD1xK2cueSsicHgiO3RoaXMuZm9vdGVyQ29udGFpbmVyLnN0eWxlLmhlaWdodD10aGlzLmZvb3RlckhlaWdodCsicHgiO3RoaXMuaHNwbGl0LnN0eWxlLnRvcD10aGlzLnNpZGViYXJDb250YWluZXIuc3R5bGUudG9wO3RoaXMuaHNwbGl0LnN0eWxlLmJvdHRvbT10aGlzLmZvb3RlckhlaWdodCttKyJweCI7dGhpcy5oc3BsaXQuc3R5bGUubGVmdD1rKyJweCI7dGhpcy5mb290ZXJDb250YWluZXIuc3R5bGUuZGlzcGxheT0wPT10aGlzLmZvb3RlckhlaWdodD8ibm9uZSI6IiI7bnVsbCE9dGhpcy50YWJDb250YWluZXImJih0aGlzLnRhYkNvbnRhaW5lci5zdHlsZS5sZWZ0PXArInB4Iik7ZD8odGhpcy5tZW51YmFyQ29udGFpbmVyLnN0eWxlLndpZHRoPWYrInB4IiwKdGhpcy50b29sYmFyQ29udGFpbmVyLnN0eWxlLndpZHRoPXRoaXMubWVudWJhckNvbnRhaW5lci5zdHlsZS53aWR0aCxkPU1hdGgubWF4KDAsYy10aGlzLmZvb3RlckhlaWdodC10aGlzLm1lbnViYXJIZWlnaHQtdGhpcy50b29sYmFySGVpZ2h0KSx0aGlzLnNpZGViYXJDb250YWluZXIuc3R5bGUuaGVpZ2h0PWQtYisicHgiLHRoaXMuZm9ybWF0Q29udGFpbmVyLnN0eWxlLmhlaWdodD1kKyJweCIsdGhpcy5kaWFncmFtQ29udGFpbmVyLnN0eWxlLndpZHRoPW51bGwhPXRoaXMuaHNwbGl0LnBhcmVudE5vZGU/TWF0aC5tYXgoMCxmLWstdGhpcy5zcGxpdFNpemUtZSkrInB4IjpmKyJweCIsdGhpcy5mb290ZXJDb250YWluZXIuc3R5bGUud2lkdGg9dGhpcy5tZW51YmFyQ29udGFpbmVyLnN0eWxlLndpZHRoLGI9TWF0aC5tYXgoMCxjLXRoaXMuZm9vdGVySGVpZ2h0LXRoaXMubWVudWJhckhlaWdodC10aGlzLnRvb2xiYXJIZWlnaHQpLG51bGwhPXRoaXMudGFiQ29udGFpbmVyJiYodGhpcy50YWJDb250YWluZXIuc3R5bGUud2lkdGg9CnRoaXMuZGlhZ3JhbUNvbnRhaW5lci5zdHlsZS53aWR0aCx0aGlzLnRhYkNvbnRhaW5lci5zdHlsZS5ib3R0b209dGhpcy5mb290ZXJIZWlnaHQrbSsicHgiLGItPXRoaXMudGFiQ29udGFpbmVyLmNsaWVudEhlaWdodCksdGhpcy5kaWFncmFtQ29udGFpbmVyLnN0eWxlLmhlaWdodD1iKyJweCIsdGhpcy5oc3BsaXQuc3R5bGUuaGVpZ2h0PWIrInB4Iik6KDA8dGhpcy5mb290ZXJIZWlnaHQmJih0aGlzLmZvb3RlckNvbnRhaW5lci5zdHlsZS5ib3R0b209bSsicHgiKSx0aGlzLmRpYWdyYW1Db250YWluZXIuc3R5bGUucmlnaHQ9ZSsicHgiLGY9MCxudWxsIT10aGlzLnRhYkNvbnRhaW5lciYmKHRoaXMudGFiQ29udGFpbmVyLnN0eWxlLmJvdHRvbT10aGlzLmZvb3RlckhlaWdodCttKyJweCIsdGhpcy50YWJDb250YWluZXIuc3R5bGUucmlnaHQ9dGhpcy5kaWFncmFtQ29udGFpbmVyLnN0eWxlLnJpZ2h0LGY9dGhpcy50YWJDb250YWluZXIuY2xpZW50SGVpZ2h0KSx0aGlzLnNpZGViYXJDb250YWluZXIuc3R5bGUuYm90dG9tPQp0aGlzLmZvb3RlckhlaWdodCtiK20rInB4Iix0aGlzLmZvcm1hdENvbnRhaW5lci5zdHlsZS5ib3R0b209dGhpcy5mb290ZXJIZWlnaHQrbSsicHgiLHRoaXMuZGlhZ3JhbUNvbnRhaW5lci5zdHlsZS5ib3R0b209dGhpcy5mb290ZXJIZWlnaHQrbStmKyJweCIpO2EmJnRoaXMuZWRpdG9yLmdyYXBoLnNpemVEaWRDaGFuZ2UoKX07RWRpdG9yVWkucHJvdG90eXBlLmNyZWF0ZVRhYkNvbnRhaW5lcj1mdW5jdGlvbigpe3JldHVybiBudWxsfTsKRWRpdG9yVWkucHJvdG90eXBlLmNyZWF0ZURpdnM9ZnVuY3Rpb24oKXt0aGlzLm1lbnViYXJDb250YWluZXI9dGhpcy5jcmVhdGVEaXYoImdlTWVudWJhckNvbnRhaW5lciIpO3RoaXMudG9vbGJhckNvbnRhaW5lcj10aGlzLmNyZWF0ZURpdigiZ2VUb29sYmFyQ29udGFpbmVyIik7dGhpcy5zaWRlYmFyQ29udGFpbmVyPXRoaXMuY3JlYXRlRGl2KCJnZVNpZGViYXJDb250YWluZXIiKTt0aGlzLmZvcm1hdENvbnRhaW5lcj10aGlzLmNyZWF0ZURpdigiZ2VTaWRlYmFyQ29udGFpbmVyIGdlRm9ybWF0Q29udGFpbmVyIik7dGhpcy5kaWFncmFtQ29udGFpbmVyPXRoaXMuY3JlYXRlRGl2KCJnZURpYWdyYW1Db250YWluZXIiKTt0aGlzLmZvb3RlckNvbnRhaW5lcj10aGlzLmNyZWF0ZURpdigiZ2VGb290ZXJDb250YWluZXIiKTt0aGlzLmhzcGxpdD10aGlzLmNyZWF0ZURpdigiZ2VIc3BsaXQiKTt0aGlzLmhzcGxpdC5zZXRBdHRyaWJ1dGUoInRpdGxlIixteFJlc291cmNlcy5nZXQoImNvbGxhcHNlRXhwYW5kIikpOwp0aGlzLm1lbnViYXJDb250YWluZXIuc3R5bGUudG9wPSIwcHgiO3RoaXMubWVudWJhckNvbnRhaW5lci5zdHlsZS5sZWZ0PSIwcHgiO3RoaXMubWVudWJhckNvbnRhaW5lci5zdHlsZS5yaWdodD0iMHB4Ijt0aGlzLnRvb2xiYXJDb250YWluZXIuc3R5bGUubGVmdD0iMHB4Ijt0aGlzLnRvb2xiYXJDb250YWluZXIuc3R5bGUucmlnaHQ9IjBweCI7dGhpcy5zaWRlYmFyQ29udGFpbmVyLnN0eWxlLmxlZnQ9IjBweCI7dGhpcy5mb3JtYXRDb250YWluZXIuc3R5bGUucmlnaHQ9IjBweCI7dGhpcy5mb3JtYXRDb250YWluZXIuc3R5bGUuekluZGV4PSIxIjt0aGlzLmRpYWdyYW1Db250YWluZXIuc3R5bGUucmlnaHQ9KG51bGwhPXRoaXMuZm9ybWF0P3RoaXMuZm9ybWF0V2lkdGg6MCkrInB4Ijt0aGlzLmZvb3RlckNvbnRhaW5lci5zdHlsZS5sZWZ0PSIwcHgiO3RoaXMuZm9vdGVyQ29udGFpbmVyLnN0eWxlLnJpZ2h0PSIwcHgiO3RoaXMuZm9vdGVyQ29udGFpbmVyLnN0eWxlLmJvdHRvbT0KIjBweCI7dGhpcy5mb290ZXJDb250YWluZXIuc3R5bGUuekluZGV4PW14UG9wdXBNZW51LnByb3RvdHlwZS56SW5kZXgtMjt0aGlzLmhzcGxpdC5zdHlsZS53aWR0aD10aGlzLnNwbGl0U2l6ZSsicHgiO2lmKHRoaXMuc2lkZWJhckZvb3RlckNvbnRhaW5lcj10aGlzLmNyZWF0ZVNpZGViYXJGb290ZXJDb250YWluZXIoKSl0aGlzLnNpZGViYXJGb290ZXJDb250YWluZXIuc3R5bGUubGVmdD0iMHB4Ijt0aGlzLmVkaXRvci5jaHJvbWVsZXNzP3RoaXMuZGlhZ3JhbUNvbnRhaW5lci5zdHlsZS5ib3JkZXI9Im5vbmUiOnRoaXMudGFiQ29udGFpbmVyPXRoaXMuY3JlYXRlVGFiQ29udGFpbmVyKCl9O0VkaXRvclVpLnByb3RvdHlwZS5jcmVhdGVTaWRlYmFyRm9vdGVyQ29udGFpbmVyPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9OwpFZGl0b3JVaS5wcm90b3R5cGUuY3JlYXRlVWk9ZnVuY3Rpb24oKXt0aGlzLm1lbnViYXI9dGhpcy5lZGl0b3IuY2hyb21lbGVzcz9udWxsOnRoaXMubWVudXMuY3JlYXRlTWVudWJhcih0aGlzLmNyZWF0ZURpdigiZ2VNZW51YmFyIikpO251bGwhPXRoaXMubWVudWJhciYmdGhpcy5tZW51YmFyQ29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMubWVudWJhci5jb250YWluZXIpO251bGwhPXRoaXMubWVudWJhciYmKHRoaXMuc3RhdHVzQ29udGFpbmVyPXRoaXMuY3JlYXRlU3RhdHVzQ29udGFpbmVyKCksdGhpcy5lZGl0b3IuYWRkTGlzdGVuZXIoInN0YXR1c0NoYW5nZWQiLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dGhpcy5zZXRTdGF0dXNUZXh0KHRoaXMuZWRpdG9yLmdldFN0YXR1cygpKX0pKSx0aGlzLnNldFN0YXR1c1RleHQodGhpcy5lZGl0b3IuZ2V0U3RhdHVzKCkpLHRoaXMubWVudWJhci5jb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5zdGF0dXNDb250YWluZXIpLHRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMubWVudWJhckNvbnRhaW5lcikpOwp0aGlzLnNpZGViYXI9dGhpcy5lZGl0b3IuY2hyb21lbGVzcz9udWxsOnRoaXMuY3JlYXRlU2lkZWJhcih0aGlzLnNpZGViYXJDb250YWluZXIpO251bGwhPXRoaXMuc2lkZWJhciYmdGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5zaWRlYmFyQ29udGFpbmVyKTt0aGlzLmZvcm1hdD10aGlzLmVkaXRvci5jaHJvbWVsZXNzfHwhdGhpcy5mb3JtYXRFbmFibGVkP251bGw6dGhpcy5jcmVhdGVGb3JtYXQodGhpcy5mb3JtYXRDb250YWluZXIpO251bGwhPXRoaXMuZm9ybWF0JiZ0aGlzLmNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLmZvcm1hdENvbnRhaW5lcik7dmFyIGE9dGhpcy5lZGl0b3IuY2hyb21lbGVzcz9udWxsOnRoaXMuY3JlYXRlRm9vdGVyKCk7bnVsbCE9YSYmKHRoaXMuZm9vdGVyQ29udGFpbmVyLmFwcGVuZENoaWxkKGEpLHRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuZm9vdGVyQ29udGFpbmVyKSk7bnVsbCE9dGhpcy5zaWRlYmFyJiZ0aGlzLnNpZGViYXJGb290ZXJDb250YWluZXImJgp0aGlzLmNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLnNpZGViYXJGb290ZXJDb250YWluZXIpO3RoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuZGlhZ3JhbUNvbnRhaW5lcik7bnVsbCE9dGhpcy5jb250YWluZXImJm51bGwhPXRoaXMudGFiQ29udGFpbmVyJiZ0aGlzLmNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLnRhYkNvbnRhaW5lcik7dGhpcy50b29sYmFyPXRoaXMuZWRpdG9yLmNocm9tZWxlc3M/bnVsbDp0aGlzLmNyZWF0ZVRvb2xiYXIodGhpcy5jcmVhdGVEaXYoImdlVG9vbGJhciIpKTtudWxsIT10aGlzLnRvb2xiYXImJih0aGlzLnRvb2xiYXJDb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy50b29sYmFyLmNvbnRhaW5lciksdGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy50b29sYmFyQ29udGFpbmVyKSk7bnVsbCE9dGhpcy5zaWRlYmFyJiYodGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5oc3BsaXQpLHRoaXMuYWRkU3BsaXRIYW5kbGVyKHRoaXMuaHNwbGl0LAohMCwwLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3RoaXMuaHNwbGl0UG9zaXRpb249YTt0aGlzLnJlZnJlc2goKX0pKSl9O0VkaXRvclVpLnByb3RvdHlwZS5jcmVhdGVTdGF0dXNDb250YWluZXI9ZnVuY3Rpb24oKXt2YXIgYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIik7YS5jbGFzc05hbWU9ImdlSXRlbSBnZVN0YXR1cyI7NDIwPnNjcmVlbi53aWR0aCYmKGEuc3R5bGUubWF4V2lkdGg9TWF0aC5tYXgoMjAsc2NyZWVuLndpZHRoLTMyMCkrInB4IixhLnN0eWxlLm92ZXJmbG93PSJoaWRkZW4iKTtyZXR1cm4gYX07RWRpdG9yVWkucHJvdG90eXBlLnNldFN0YXR1c1RleHQ9ZnVuY3Rpb24oYSl7dGhpcy5zdGF0dXNDb250YWluZXIuaW5uZXJIVE1MPWF9O0VkaXRvclVpLnByb3RvdHlwZS5jcmVhdGVUb29sYmFyPWZ1bmN0aW9uKGEpe3JldHVybiBuZXcgVG9vbGJhcih0aGlzLGEpfTsKRWRpdG9yVWkucHJvdG90eXBlLmNyZWF0ZVNpZGViYXI9ZnVuY3Rpb24oYSl7cmV0dXJuIG5ldyBTaWRlYmFyKHRoaXMsYSl9O0VkaXRvclVpLnByb3RvdHlwZS5jcmVhdGVGb3JtYXQ9ZnVuY3Rpb24oYSl7cmV0dXJuIG5ldyBGb3JtYXQodGhpcyxhKX07RWRpdG9yVWkucHJvdG90eXBlLmNyZWF0ZUZvb3Rlcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNyZWF0ZURpdigiZ2VGb290ZXIiKX07RWRpdG9yVWkucHJvdG90eXBlLmNyZWF0ZURpdj1mdW5jdGlvbihhKXt2YXIgZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtkLmNsYXNzTmFtZT1hO3JldHVybiBkfTsKRWRpdG9yVWkucHJvdG90eXBlLmFkZFNwbGl0SGFuZGxlcj1mdW5jdGlvbihhLGQsZixjKXtmdW5jdGlvbiBtKGEpe2lmKG51bGwhPXEpe3ZhciBsPW5ldyBteFBvaW50KG14RXZlbnQuZ2V0Q2xpZW50WChhKSxteEV2ZW50LmdldENsaWVudFkoYSkpO2MoTWF0aC5tYXgoMCxiKyhkP2wueC1xLng6cS55LWwueSktZikpO214RXZlbnQuY29uc3VtZShhKTtiIT1wKCkmJihlPSEwLGc9bnVsbCl9fWZ1bmN0aW9uIGsoYSl7bShhKTtxPWI9bnVsbH12YXIgcT1udWxsLGI9bnVsbCxlPSEwLGc9bnVsbDtteENsaWVudC5JU19QT0lOVEVSJiYoYS5zdHlsZS50b3VjaEFjdGlvbj0ibm9uZSIpO3ZhciBwPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dmFyIGI9cGFyc2VJbnQoZD9hLnN0eWxlLmxlZnQ6YS5zdHlsZS5ib3R0b20pO2R8fChiPWIrZi10aGlzLmZvb3RlckhlaWdodCk7cmV0dXJuIGJ9KTtteEV2ZW50LmFkZEdlc3R1cmVMaXN0ZW5lcnMoYSxmdW5jdGlvbihhKXtxPW5ldyBteFBvaW50KG14RXZlbnQuZ2V0Q2xpZW50WChhKSwKbXhFdmVudC5nZXRDbGllbnRZKGEpKTtiPXAoKTtlPSExO214RXZlbnQuY29uc3VtZShhKX0pO214RXZlbnQuYWRkTGlzdGVuZXIoYSwiY2xpY2siLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe2lmKCFlJiZ0aGlzLmhzcGxpdENsaWNrRW5hYmxlZCl7dmFyIGI9bnVsbCE9Zz9nLWY6MDtnPXAoKTtjKGIpO214RXZlbnQuY29uc3VtZShhKX19KSk7bXhFdmVudC5hZGRHZXN0dXJlTGlzdGVuZXJzKGRvY3VtZW50LG51bGwsbSxrKTt0aGlzLmRlc3Ryb3lGdW5jdGlvbnMucHVzaChmdW5jdGlvbigpe214RXZlbnQucmVtb3ZlR2VzdHVyZUxpc3RlbmVycyhkb2N1bWVudCxudWxsLG0sayl9KX07CkVkaXRvclVpLnByb3RvdHlwZS5oYW5kbGVFcnJvcj1mdW5jdGlvbihhLGQsZixjLG0pe2E9bnVsbCE9YSYmbnVsbCE9YS5lcnJvcj9hLmVycm9yOmE7aWYobnVsbCE9YXx8bnVsbCE9ZCl7bT1teFV0aWxzLmh0bWxFbnRpdGllcyhteFJlc291cmNlcy5nZXQoInVua25vd25FcnJvciIpKTt2YXIgaz1teFJlc291cmNlcy5nZXQoIm9rIik7ZD1udWxsIT1kP2Q6bXhSZXNvdXJjZXMuZ2V0KCJlcnJvciIpO251bGwhPWEmJm51bGwhPWEubWVzc2FnZSYmKG09bXhVdGlscy5odG1sRW50aXRpZXMoYS5tZXNzYWdlKSk7dGhpcy5zaG93RXJyb3IoZCxtLGssZixudWxsLG51bGwsbnVsbCxudWxsLG51bGwsbnVsbCxudWxsLG51bGwsYz9mOm51bGwpfWVsc2UgbnVsbCE9ZiYmZigpfTsKRWRpdG9yVWkucHJvdG90eXBlLnNob3dFcnJvcj1mdW5jdGlvbihhLGQsZixjLG0sayxxLGIsZSxnLHAsbCxuKXthPW5ldyBFcnJvckRpYWxvZyh0aGlzLGEsZCxmfHxteFJlc291cmNlcy5nZXQoIm9rIiksYyxtLGsscSxsLGIsZSk7ZD1NYXRoLmNlaWwobnVsbCE9ZD9kLmxlbmd0aC81MDoxKTt0aGlzLnNob3dEaWFsb2coYS5jb250YWluZXIsZ3x8MzQwLHB8fDEwMCsyMCpkLCEwLCExLG4pO2EuaW5pdCgpfTtFZGl0b3JVaS5wcm90b3R5cGUuc2hvd0RpYWxvZz1mdW5jdGlvbihhLGQsZixjLG0sayxxLGIsZSxnKXt0aGlzLmVkaXRvci5ncmFwaC50b29sdGlwSGFuZGxlci5oaWRlVG9vbHRpcCgpO251bGw9PXRoaXMuZGlhbG9ncyYmKHRoaXMuZGlhbG9ncz1bXSk7dGhpcy5kaWFsb2c9bmV3IERpYWxvZyh0aGlzLGEsZCxmLGMsbSxrLHEsYixlLGcpO3RoaXMuZGlhbG9ncy5wdXNoKHRoaXMuZGlhbG9nKX07CkVkaXRvclVpLnByb3RvdHlwZS5oaWRlRGlhbG9nPWZ1bmN0aW9uKGEsZCl7aWYobnVsbCE9dGhpcy5kaWFsb2dzJiYwPHRoaXMuZGlhbG9ncy5sZW5ndGgpe3ZhciBmPXRoaXMuZGlhbG9ncy5wb3AoKTswPT1mLmNsb3NlKGEsZCk/dGhpcy5kaWFsb2dzLnB1c2goZik6KHRoaXMuZGlhbG9nPTA8dGhpcy5kaWFsb2dzLmxlbmd0aD90aGlzLmRpYWxvZ3NbdGhpcy5kaWFsb2dzLmxlbmd0aC0xXTpudWxsLHRoaXMuZWRpdG9yLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdCgiaGlkZURpYWxvZyIpKSxudWxsPT10aGlzLmRpYWxvZyYmImhpZGRlbiIhPXRoaXMuZWRpdG9yLmdyYXBoLmNvbnRhaW5lci5zdHlsZS52aXNpYmlsaXR5JiZ3aW5kb3cuc2V0VGltZW91dChteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMuZWRpdG9yLmdyYXBoLmlzRWRpdGluZygpJiZudWxsIT10aGlzLmVkaXRvci5ncmFwaC5jZWxsRWRpdG9yLnRleHRhcmVhP3RoaXMuZWRpdG9yLmdyYXBoLmNlbGxFZGl0b3IudGV4dGFyZWEuZm9jdXMoKToKKG14VXRpbHMuY2xlYXJTZWxlY3Rpb24oKSx0aGlzLmVkaXRvci5ncmFwaC5jb250YWluZXIuZm9jdXMoKSl9KSwwKSl9fTtFZGl0b3JVaS5wcm90b3R5cGUuY3RybEVudGVyPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5lZGl0b3IuZ3JhcGg7aWYoYS5pc0VuYWJsZWQoKSl0cnl7Zm9yKHZhciBkPWEuZ2V0U2VsZWN0aW9uQ2VsbHMoKSxmPW5ldyBteERpY3Rpb25hcnksYz1bXSxtPTA7bTxkLmxlbmd0aDttKyspe3ZhciBrPWEuaXNUYWJsZUNlbGwoZFttXSk/YS5tb2RlbC5nZXRQYXJlbnQoZFttXSk6ZFttXTtudWxsPT1rfHxmLmdldChrKXx8KGYucHV0KGssITApLGMucHVzaChrKSl9YS5zZXRTZWxlY3Rpb25DZWxscyhhLmR1cGxpY2F0ZUNlbGxzKGMsITEpKX1jYXRjaChxKXt0aGlzLmhhbmRsZUVycm9yKHEpfX07CkVkaXRvclVpLnByb3RvdHlwZS5waWNrQ29sb3I9ZnVuY3Rpb24oYSxkKXt2YXIgZj10aGlzLmVkaXRvci5ncmFwaCxjPWYuY2VsbEVkaXRvci5zYXZlU2VsZWN0aW9uKCksbT0yMjYrMTcqKE1hdGguY2VpbChDb2xvckRpYWxvZy5wcm90b3R5cGUucHJlc2V0Q29sb3JzLmxlbmd0aC8xMikrTWF0aC5jZWlsKENvbG9yRGlhbG9nLnByb3RvdHlwZS5kZWZhdWx0Q29sb3JzLmxlbmd0aC8xMikpLGs9bmV3IENvbG9yRGlhbG9nKHRoaXMsYXx8Im5vbmUiLGZ1bmN0aW9uKGEpe2YuY2VsbEVkaXRvci5yZXN0b3JlU2VsZWN0aW9uKGMpO2QoYSl9LGZ1bmN0aW9uKCl7Zi5jZWxsRWRpdG9yLnJlc3RvcmVTZWxlY3Rpb24oYyl9KTt0aGlzLnNob3dEaWFsb2coay5jb250YWluZXIsMjMwLG0sITAsITEpO2suaW5pdCgpfTsKRWRpdG9yVWkucHJvdG90eXBlLm9wZW5GaWxlPWZ1bmN0aW9uKCl7d2luZG93Lm9wZW5GaWxlPW5ldyBPcGVuRmlsZShteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXt0aGlzLmhpZGVEaWFsb2coYSl9KSk7dGhpcy5zaG93RGlhbG9nKChuZXcgT3BlbkRpYWxvZyh0aGlzKSkuY29udGFpbmVyLEVkaXRvci51c2VMb2NhbFN0b3JhZ2U/NjQwOjMyMCxFZGl0b3IudXNlTG9jYWxTdG9yYWdlPzQ4MDoyMjAsITAsITAsZnVuY3Rpb24oKXt3aW5kb3cub3BlbkZpbGU9bnVsbH0pfTsKRWRpdG9yVWkucHJvdG90eXBlLmV4dHJhY3RHcmFwaE1vZGVsRnJvbUh0bWw9ZnVuY3Rpb24oYSl7dmFyIGQ9bnVsbDt0cnl7dmFyIGY9YS5pbmRleE9mKCImbHQ7bXhHcmFwaE1vZGVsICIpO2lmKDA8PWYpe3ZhciBjPWEubGFzdEluZGV4T2YoIiZsdDsvbXhHcmFwaE1vZGVsJmd0OyIpO2M+ZiYmKGQ9YS5zdWJzdHJpbmcoZixjKzIxKS5yZXBsYWNlKC8mZ3Q7L2csIj4iKS5yZXBsYWNlKC8mbHQ7L2csIjwiKS5yZXBsYWNlKC9cXCZxdW90Oy9nLCciJykucmVwbGFjZSgvXG4vZywiIikpfX1jYXRjaChtKXt9cmV0dXJuIGR9OwpFZGl0b3JVaS5wcm90b3R5cGUuZXh0cmFjdEdyYXBoTW9kZWxGcm9tRXZlbnQ9ZnVuY3Rpb24oYSl7dmFyIGQ9bnVsbCxmPW51bGw7bnVsbCE9YSYmKGE9bnVsbCE9YS5kYXRhVHJhbnNmZXI/YS5kYXRhVHJhbnNmZXI6YS5jbGlwYm9hcmREYXRhLG51bGwhPWEmJigxMD09ZG9jdW1lbnQuZG9jdW1lbnRNb2RlfHwxMT09ZG9jdW1lbnQuZG9jdW1lbnRNb2RlP2Y9YS5nZXREYXRhKCJUZXh0Iik6KGY9MDw9bXhVdGlscy5pbmRleE9mKGEudHlwZXMsInRleHQvaHRtbCIpP2EuZ2V0RGF0YSgidGV4dC9odG1sIik6bnVsbCxteFV0aWxzLmluZGV4T2YoYS50eXBlcyxudWxsPT1mfHwwPT1mLmxlbmd0aCkmJihmPWEuZ2V0RGF0YSgidGV4dC9wbGFpbiIpKSksbnVsbCE9ZiYmKGY9R3JhcGguemFwR3JlbWxpbnMobXhVdGlscy50cmltKGYpKSxhPXRoaXMuZXh0cmFjdEdyYXBoTW9kZWxGcm9tSHRtbChmKSxudWxsIT1hJiYoZj1hKSkpKTtudWxsIT1mJiZ0aGlzLmlzQ29tcGF0aWJsZVN0cmluZyhmKSYmCihkPWYpO3JldHVybiBkfTtFZGl0b3JVaS5wcm90b3R5cGUuaXNDb21wYXRpYmxlU3RyaW5nPWZ1bmN0aW9uKGEpe3JldHVybiExfTtFZGl0b3JVaS5wcm90b3R5cGUuc2F2ZUZpbGU9ZnVuY3Rpb24oYSl7YXx8bnVsbD09dGhpcy5lZGl0b3IuZmlsZW5hbWU/KGE9bmV3IEZpbGVuYW1lRGlhbG9nKHRoaXMsdGhpcy5lZGl0b3IuZ2V0T3JDcmVhdGVGaWxlbmFtZSgpLG14UmVzb3VyY2VzLmdldCgic2F2ZSIpLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3RoaXMuc2F2ZShhKX0pLG51bGwsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7aWYobnVsbCE9YSYmMDxhLmxlbmd0aClyZXR1cm4hMDtteFV0aWxzLmNvbmZpcm0obXhSZXNvdXJjZXMuZ2V0KCJpbnZhbGlkTmFtZSIpKTtyZXR1cm4hMX0pKSx0aGlzLnNob3dEaWFsb2coYS5jb250YWluZXIsMzAwLDEwMCwhMCwhMCksYS5pbml0KCkpOnRoaXMuc2F2ZSh0aGlzLmVkaXRvci5nZXRPckNyZWF0ZUZpbGVuYW1lKCkpfTsKRWRpdG9yVWkucHJvdG90eXBlLnNhdmU9ZnVuY3Rpb24oYSl7aWYobnVsbCE9YSl7dGhpcy5lZGl0b3IuZ3JhcGguaXNFZGl0aW5nKCkmJnRoaXMuZWRpdG9yLmdyYXBoLnN0b3BFZGl0aW5nKCk7dmFyIGQ9bXhVdGlscy5nZXRYbWwodGhpcy5lZGl0b3IuZ2V0R3JhcGhYbWwoKSk7dHJ5e2lmKEVkaXRvci51c2VMb2NhbFN0b3JhZ2Upe2lmKG51bGwhPWxvY2FsU3RvcmFnZS5nZXRJdGVtKGEpJiYhbXhVdGlscy5jb25maXJtKG14UmVzb3VyY2VzLmdldCgicmVwbGFjZUl0IixbYV0pKSlyZXR1cm47bG9jYWxTdG9yYWdlLnNldEl0ZW0oYSxkKTt0aGlzLmVkaXRvci5zZXRTdGF0dXMobXhVdGlscy5odG1sRW50aXRpZXMobXhSZXNvdXJjZXMuZ2V0KCJzYXZlZCIpKSsiICIrbmV3IERhdGUpfWVsc2UgaWYoZC5sZW5ndGg8TUFYX1JFUVVFU1RfU0laRSkobmV3IG14WG1sUmVxdWVzdChTQVZFX1VSTCwiZmlsZW5hbWU9IitlbmNvZGVVUklDb21wb25lbnQoYSkrIiZ4bWw9IitlbmNvZGVVUklDb21wb25lbnQoZCkpKS5zaW11bGF0ZShkb2N1bWVudCwKIl9ibGFuayIpO2Vsc2V7bXhVdGlscy5hbGVydChteFJlc291cmNlcy5nZXQoImRyYXdpbmdUb29MYXJnZSIpKTtteFV0aWxzLnBvcHVwKGQpO3JldHVybn10aGlzLmVkaXRvci5zZXRNb2RpZmllZCghMSk7dGhpcy5lZGl0b3Iuc2V0RmlsZW5hbWUoYSk7dGhpcy51cGRhdGVEb2N1bWVudFRpdGxlKCl9Y2F0Y2goZil7dGhpcy5lZGl0b3Iuc2V0U3RhdHVzKG14VXRpbHMuaHRtbEVudGl0aWVzKG14UmVzb3VyY2VzLmdldCgiZXJyb3JTYXZpbmdGaWxlIikpKX19fTsKRWRpdG9yVWkucHJvdG90eXBlLmV4ZWN1dGVMYXlvdXQ9ZnVuY3Rpb24oYSxkLGYpe3ZhciBjPXRoaXMuZWRpdG9yLmdyYXBoO2lmKGMuaXNFbmFibGVkKCkpe2MuZ2V0TW9kZWwoKS5iZWdpblVwZGF0ZSgpO3RyeXthKCl9Y2F0Y2gobSl7dGhyb3cgbTt9ZmluYWxseXt0aGlzLmFsbG93QW5pbWF0aW9uJiZkJiYobnVsbD09bmF2aWdhdG9yLnVzZXJBZ2VudHx8MD5uYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIkNhbWlubyIpKT8oYT1uZXcgbXhNb3JwaGluZyhjKSxhLmFkZExpc3RlbmVyKG14RXZlbnQuRE9ORSxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe2MuZ2V0TW9kZWwoKS5lbmRVcGRhdGUoKTtudWxsIT1mJiZmKCl9KSksYS5zdGFydEFuaW1hdGlvbigpKTooYy5nZXRNb2RlbCgpLmVuZFVwZGF0ZSgpLG51bGwhPWYmJmYoKSl9fX07CkVkaXRvclVpLnByb3RvdHlwZS5zaG93SW1hZ2VEaWFsb2c9ZnVuY3Rpb24oYSxkLGYsYyl7Yz10aGlzLmVkaXRvci5ncmFwaC5jZWxsRWRpdG9yO3ZhciBtPWMuc2F2ZVNlbGVjdGlvbigpLGs9bXhVdGlscy5wcm9tcHQoYSxkKTtjLnJlc3RvcmVTZWxlY3Rpb24obSk7aWYobnVsbCE9ayYmMDxrLmxlbmd0aCl7dmFyIHE9bmV3IEltYWdlO3Eub25sb2FkPWZ1bmN0aW9uKCl7ZihrLHEud2lkdGgscS5oZWlnaHQpfTtxLm9uZXJyb3I9ZnVuY3Rpb24oKXtmKG51bGwpO214VXRpbHMuYWxlcnQobXhSZXNvdXJjZXMuZ2V0KCJmaWxlTm90Rm91bmQiKSl9O3Euc3JjPWt9ZWxzZSBmKG51bGwpfTtFZGl0b3JVaS5wcm90b3R5cGUuc2hvd0xpbmtEaWFsb2c9ZnVuY3Rpb24oYSxkLGYpe2E9bmV3IExpbmtEaWFsb2codGhpcyxhLGQsZik7dGhpcy5zaG93RGlhbG9nKGEuY29udGFpbmVyLDQyMCw5MCwhMCwhMCk7YS5pbml0KCl9OwpFZGl0b3JVaS5wcm90b3R5cGUuc2hvd0RhdGFEaWFsb2c9ZnVuY3Rpb24oYSl7bnVsbCE9YSYmKGE9bmV3IEVkaXREYXRhRGlhbG9nKHRoaXMsYSksdGhpcy5zaG93RGlhbG9nKGEuY29udGFpbmVyLDQ4MCw0MjAsITAsITEsbnVsbCwhMSksYS5pbml0KCkpfTsKRWRpdG9yVWkucHJvdG90eXBlLnNob3dCYWNrZ3JvdW5kSW1hZ2VEaWFsb2c9ZnVuY3Rpb24oYSxkKXthPW51bGwhPWE/YTpteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXthPW5ldyBDaGFuZ2VQYWdlU2V0dXAodGhpcyxudWxsLGEpO2EuaWdub3JlQ29sb3I9ITA7dGhpcy5lZGl0b3IuZ3JhcGgubW9kZWwuZXhlY3V0ZShhKX0pO3ZhciBmPW14VXRpbHMucHJvbXB0KG14UmVzb3VyY2VzLmdldCgiYmFja2dyb3VuZEltYWdlIiksbnVsbCE9ZD9kLnNyYzoiIik7bnVsbCE9ZiYmMDxmLmxlbmd0aD8oZD1uZXcgSW1hZ2UsZC5vbmxvYWQ9ZnVuY3Rpb24oKXthKG5ldyBteEltYWdlKGYsZC53aWR0aCxkLmhlaWdodCksITEpfSxkLm9uZXJyb3I9ZnVuY3Rpb24oKXthKG51bGwsITApO214VXRpbHMuYWxlcnQobXhSZXNvdXJjZXMuZ2V0KCJmaWxlTm90Rm91bmQiKSl9LGQuc3JjPWYpOmEobnVsbCl9OwpFZGl0b3JVaS5wcm90b3R5cGUuc2V0QmFja2dyb3VuZEltYWdlPWZ1bmN0aW9uKGEpe3RoaXMuZWRpdG9yLmdyYXBoLnNldEJhY2tncm91bmRJbWFnZShhKTt0aGlzLmVkaXRvci5ncmFwaC52aWV3LnZhbGlkYXRlQmFja2dyb3VuZEltYWdlKCk7dGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QoImJhY2tncm91bmRJbWFnZUNoYW5nZWQiKSl9O0VkaXRvclVpLnByb3RvdHlwZS5jb25maXJtPWZ1bmN0aW9uKGEsZCxmKXtteFV0aWxzLmNvbmZpcm0oYSk/bnVsbCE9ZCYmZCgpOm51bGwhPWYmJmYoKX07CkVkaXRvclVpLnByb3RvdHlwZS5jcmVhdGVPdXRsaW5lPWZ1bmN0aW9uKGEpe3ZhciBkPW5ldyBteE91dGxpbmUodGhpcy5lZGl0b3IuZ3JhcGgpO2QuYm9yZGVyPTIwO214RXZlbnQuYWRkTGlzdGVuZXIod2luZG93LCJyZXNpemUiLGZ1bmN0aW9uKCl7ZC51cGRhdGUoKX0pO3RoaXMuYWRkTGlzdGVuZXIoInBhZ2VGb3JtYXRDaGFuZ2VkIixmdW5jdGlvbigpe2QudXBkYXRlKCl9KTtyZXR1cm4gZH07RWRpdG9yVWkucHJvdG90eXBlLmFsdFNoaWZ0QWN0aW9ucz17Njc6ImNsZWFyV2F5cG9pbnRzIiw2NToiY29ubmVjdGlvbkFycm93cyIsNzY6ImVkaXRMaW5rIiw4MDoiY29ubmVjdGlvblBvaW50cyIsODQ6ImVkaXRUb29sdGlwIiw4NjoicGFzdGVTaXplIiw4ODoiY29weVNpemUifTsKRWRpdG9yVWkucHJvdG90eXBlLmNyZWF0ZUtleUhhbmRsZXI9ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gZChhLGUsZCl7cS5wdXNoKGZ1bmN0aW9uKCl7aWYoIWMuaXNTZWxlY3Rpb25FbXB0eSgpJiZjLmlzRW5hYmxlZCgpKWlmKGU9bnVsbCE9ZT9lOjEsZCl7Yy5nZXRNb2RlbCgpLmJlZ2luVXBkYXRlKCk7dHJ5e2Zvcih2YXIgYj1jLmdldFNlbGVjdGlvbkNlbGxzKCksZz0wO2c8Yi5sZW5ndGg7ZysrKWlmKGMuZ2V0TW9kZWwoKS5pc1ZlcnRleChiW2ddKSYmYy5pc0NlbGxSZXNpemFibGUoYltnXSkpe3ZhciBmPWMuZ2V0Q2VsbEdlb21ldHJ5KGJbZ10pO251bGwhPWYmJihmPWYuY2xvbmUoKSwzNz09YT9mLndpZHRoPU1hdGgubWF4KDAsZi53aWR0aC1lKTozOD09YT9mLmhlaWdodD1NYXRoLm1heCgwLGYuaGVpZ2h0LWUpOjM5PT1hP2Yud2lkdGgrPWU6NDA9PWEmJihmLmhlaWdodCs9ZSksYy5nZXRNb2RlbCgpLnNldEdlb21ldHJ5KGJbZ10sZikpfX1maW5hbGx5e2MuZ2V0TW9kZWwoKS5lbmRVcGRhdGUoKX19ZWxzZXt2YXIgbD0KYy5nZXRTZWxlY3Rpb25DZWxsKCksZj1jLm1vZGVsLmdldFBhcmVudChsKSxiPW51bGw7MT09Yy5nZXRTZWxlY3Rpb25Db3VudCgpJiZjLm1vZGVsLmlzVmVydGV4KGwpJiZudWxsIT1jLmxheW91dE1hbmFnZXImJiFjLmlzQ2VsbExvY2tlZChsKSYmKGI9Yy5sYXlvdXRNYW5hZ2VyLmdldExheW91dChmKSk7aWYobnVsbCE9YiYmYi5jb25zdHJ1Y3Rvcj09bXhTdGFja0xheW91dCliPWYuZ2V0SW5kZXgobCksMzc9PWF8fDM4PT1hP2MubW9kZWwuYWRkKGYsbCxNYXRoLm1heCgwLGItMSkpOjM5IT1hJiY0MCE9YXx8Yy5tb2RlbC5hZGQoZixsLE1hdGgubWluKGMubW9kZWwuZ2V0Q2hpbGRDb3VudChmKSxiKzEpKTtlbHNle2I9Yy5nZXRNb3ZhYmxlQ2VsbHMoYy5nZXRTZWxlY3Rpb25DZWxscygpKTtsPVtdO2ZvcihnPTA7ZzxiLmxlbmd0aDtnKyspZj1jLmdldEN1cnJlbnRDZWxsU3R5bGUoYltnXSksIjEiPT1teFV0aWxzLmdldFZhbHVlKGYsInBhcnQiLCIwIik/KGY9Yy5tb2RlbC5nZXRQYXJlbnQoYltnXSksCmMubW9kZWwuaXNWZXJ0ZXgoZikmJjA+bXhVdGlscy5pbmRleE9mKGIsZikmJmwucHVzaChmKSk6bC5wdXNoKGJbZ10pOzA8bC5sZW5ndGgmJihiPWY9MCwzNz09YT9mPS1lOjM4PT1hP2I9LWU6Mzk9PWE/Zj1lOjQwPT1hJiYoYj1lKSxjLm1vdmVDZWxscyhsLGYsYikpfX19KTtudWxsIT1iJiZ3aW5kb3cuY2xlYXJUaW1lb3V0KGIpO2I9d2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXtpZigwPHEubGVuZ3RoKXtjLmdldE1vZGVsKCkuYmVnaW5VcGRhdGUoKTt0cnl7Zm9yKHZhciBhPTA7YTxxLmxlbmd0aDthKyspcVthXSgpO3E9W119ZmluYWxseXtjLmdldE1vZGVsKCkuZW5kVXBkYXRlKCl9fX0sMjAwKX12YXIgZj10aGlzLGM9dGhpcy5lZGl0b3IuZ3JhcGgsbT1uZXcgbXhLZXlIYW5kbGVyKGMpLGs9bS5pc0V2ZW50SWdub3JlZDttLmlzRXZlbnRJZ25vcmVkPWZ1bmN0aW9uKGEpe3JldHVybiEobXhFdmVudC5pc1NoaWZ0RG93bihhKSYmOT09YS5rZXlDb2RlKSYmKCF0aGlzLmlzQ29udHJvbERvd24oYSl8fApteEV2ZW50LmlzU2hpZnREb3duKGEpfHw5MCE9YS5rZXlDb2RlJiY4OSE9YS5rZXlDb2RlJiYxODghPWEua2V5Q29kZSYmMTkwIT1hLmtleUNvZGUmJjg1IT1hLmtleUNvZGUpJiYoNjYhPWEua2V5Q29kZSYmNzMhPWEua2V5Q29kZXx8IXRoaXMuaXNDb250cm9sRG93bihhKXx8dGhpcy5ncmFwaC5jZWxsRWRpdG9yLmlzQ29udGVudEVkaXRpbmcoKSYmIW14Q2xpZW50LklTX0ZGJiYhbXhDbGllbnQuSVNfU0YpJiZrLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07bS5pc0VuYWJsZWRGb3JFdmVudD1mdW5jdGlvbihhKXtyZXR1cm4hbXhFdmVudC5pc0NvbnN1bWVkKGEpJiZ0aGlzLmlzR3JhcGhFdmVudChhKSYmdGhpcy5pc0VuYWJsZWQoKSYmKG51bGw9PWYuZGlhbG9nc3x8MD09Zi5kaWFsb2dzLmxlbmd0aCl9O20uaXNDb250cm9sRG93bj1mdW5jdGlvbihhKXtyZXR1cm4gbXhFdmVudC5pc0NvbnRyb2xEb3duKGEpfHxteENsaWVudC5JU19NQUMmJmEubWV0YUtleX07dmFyIHE9W10sYj0KbnVsbCxlPXszNzpteENvbnN0YW50cy5ESVJFQ1RJT05fV0VTVCwzODpteENvbnN0YW50cy5ESVJFQ1RJT05fTk9SVEgsMzk6bXhDb25zdGFudHMuRElSRUNUSU9OX0VBU1QsNDA6bXhDb25zdGFudHMuRElSRUNUSU9OX1NPVVRIfSxnPW0uZ2V0RnVuY3Rpb247bXhLZXlIYW5kbGVyLnByb3RvdHlwZS5nZXRGdW5jdGlvbj1mdW5jdGlvbihhKXtpZihjLmlzRW5hYmxlZCgpKXtpZihteEV2ZW50LmlzU2hpZnREb3duKGEpJiZteEV2ZW50LmlzQWx0RG93bihhKSl7dmFyIGI9Zi5hY3Rpb25zLmdldChmLmFsdFNoaWZ0QWN0aW9uc1thLmtleUNvZGVdKTtpZihudWxsIT1iKXJldHVybiBiLmZ1bmN0fWlmKDk9PWEua2V5Q29kZSYmbXhFdmVudC5pc0FsdERvd24oYSkpcmV0dXJuIGMuY2VsbEVkaXRvci5pc0NvbnRlbnRFZGl0aW5nKCk/ZnVuY3Rpb24oKXtkb2N1bWVudC5leGVjQ29tbWFuZCgib3V0ZGVudCIsITEsbnVsbCl9Om14RXZlbnQuaXNTaGlmdERvd24oYSk/ZnVuY3Rpb24oKXtjLnNlbGVjdFBhcmVudENlbGwoKX06CmZ1bmN0aW9uKCl7Yy5zZWxlY3RDaGlsZENlbGwoKX07aWYobnVsbCE9ZVthLmtleUNvZGVdJiYhYy5pc1NlbGVjdGlvbkVtcHR5KCkpaWYoIXRoaXMuaXNDb250cm9sRG93bihhKSYmbXhFdmVudC5pc1NoaWZ0RG93bihhKSYmbXhFdmVudC5pc0FsdERvd24oYSkpe2lmKGMubW9kZWwuaXNWZXJ0ZXgoYy5nZXRTZWxlY3Rpb25DZWxsKCkpKXJldHVybiBmdW5jdGlvbigpe3ZhciBiPWMuY29ubmVjdFZlcnRleChjLmdldFNlbGVjdGlvbkNlbGwoKSxlW2Eua2V5Q29kZV0sYy5kZWZhdWx0RWRnZUxlbmd0aCxhLCEwKTtudWxsIT1iJiYwPGIubGVuZ3RoJiYoMT09Yi5sZW5ndGgmJmMubW9kZWwuaXNFZGdlKGJbMF0pP2Muc2V0U2VsZWN0aW9uQ2VsbChjLm1vZGVsLmdldFRlcm1pbmFsKGJbMF0sITEpKTpjLnNldFNlbGVjdGlvbkNlbGwoYltiLmxlbmd0aC0xXSksYy5zY3JvbGxDZWxsVG9WaXNpYmxlKGMuZ2V0U2VsZWN0aW9uQ2VsbCgpKSxudWxsIT1mLmhvdmVySWNvbnMmJmYuaG92ZXJJY29ucy51cGRhdGUoYy52aWV3LmdldFN0YXRlKGMuZ2V0U2VsZWN0aW9uQ2VsbCgpKSkpfX1lbHNlIHJldHVybiB0aGlzLmlzQ29udHJvbERvd24oYSk/CmZ1bmN0aW9uKCl7ZChhLmtleUNvZGUsbXhFdmVudC5pc1NoaWZ0RG93bihhKT9jLmdyaWRTaXplOm51bGwsITApfTpmdW5jdGlvbigpe2QoYS5rZXlDb2RlLG14RXZlbnQuaXNTaGlmdERvd24oYSk/Yy5ncmlkU2l6ZTpudWxsKX19cmV0dXJuIGcuYXBwbHkodGhpcyxhcmd1bWVudHMpfTttLmJpbmRBY3Rpb249bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSxiLGUsYyl7dmFyIGQ9dGhpcy5hY3Rpb25zLmdldChlKTtudWxsIT1kJiYoZT1mdW5jdGlvbigpe2QuaXNFbmFibGVkKCkmJmQuZnVuY3QoKX0sYj9jP20uYmluZENvbnRyb2xTaGlmdEtleShhLGUpOm0uYmluZENvbnRyb2xLZXkoYSxlKTpjP20uYmluZFNoaWZ0S2V5KGEsZSk6bS5iaW5kS2V5KGEsZSkpfSk7dmFyIHA9dGhpcyxsPW0uZXNjYXBlO20uZXNjYXBlPWZ1bmN0aW9uKGEpe2wuYXBwbHkodGhpcyxhcmd1bWVudHMpfTttLmVudGVyPWZ1bmN0aW9uKCl7fTttLmJpbmRDb250cm9sU2hpZnRLZXkoMzYsZnVuY3Rpb24oKXtjLmV4aXRHcm91cCgpfSk7Cm0uYmluZENvbnRyb2xTaGlmdEtleSgzNSxmdW5jdGlvbigpe2MuZW50ZXJHcm91cCgpfSk7bS5iaW5kU2hpZnRLZXkoMzYsZnVuY3Rpb24oKXtjLmhvbWUoKX0pO20uYmluZEtleSgzNSxmdW5jdGlvbigpe2MucmVmcmVzaCgpfSk7bS5iaW5kQWN0aW9uKDEwNywhMCwiem9vbUluIik7bS5iaW5kQWN0aW9uKDEwOSwhMCwiem9vbU91dCIpO20uYmluZEFjdGlvbig4MCwhMCwicHJpbnQiKTttLmJpbmRBY3Rpb24oNzksITAsIm91dGxpbmUiLCEwKTtpZighdGhpcy5lZGl0b3IuY2hyb21lbGVzc3x8dGhpcy5lZGl0b3IuZWRpdGFibGUpbS5iaW5kQ29udHJvbEtleSgzNixmdW5jdGlvbigpe2MuaXNFbmFibGVkKCkmJmMuZm9sZENlbGxzKCEwKX0pLG0uYmluZENvbnRyb2xLZXkoMzUsZnVuY3Rpb24oKXtjLmlzRW5hYmxlZCgpJiZjLmZvbGRDZWxscyghMSl9KSxtLmJpbmRDb250cm9sS2V5KDEzLGZ1bmN0aW9uKCl7cC5jdHJsRW50ZXIoKX0pLG0uYmluZEFjdGlvbig4LCExLCJkZWxldGUiKSwKbS5iaW5kQWN0aW9uKDgsITAsImRlbGV0ZUFsbCIpLG0uYmluZEFjdGlvbig0NiwhMSwiZGVsZXRlIiksbS5iaW5kQWN0aW9uKDQ2LCEwLCJkZWxldGVBbGwiKSxtLmJpbmRBY3Rpb24oMzYsITEsInJlc2V0VmlldyIpLG0uYmluZEFjdGlvbig3MiwhMCwiZml0V2luZG93IiwhMCksbS5iaW5kQWN0aW9uKDc0LCEwLCJmaXRQYWdlIiksbS5iaW5kQWN0aW9uKDc0LCEwLCJmaXRUd29QYWdlcyIsITApLG0uYmluZEFjdGlvbig0OCwhMCwiY3VzdG9tWm9vbSIpLG0uYmluZEFjdGlvbig4MiwhMCwidHVybiIpLG0uYmluZEFjdGlvbig4MiwhMCwiY2xlYXJEZWZhdWx0U3R5bGUiLCEwKSxtLmJpbmRBY3Rpb24oODMsITAsInNhdmUiKSxtLmJpbmRBY3Rpb24oODMsITAsInNhdmVBcyIsITApLG0uYmluZEFjdGlvbig2NSwhMCwic2VsZWN0QWxsIiksbS5iaW5kQWN0aW9uKDY1LCEwLCJzZWxlY3ROb25lIiwhMCksbS5iaW5kQWN0aW9uKDczLCEwLCJzZWxlY3RWZXJ0aWNlcyIsITApLG0uYmluZEFjdGlvbig2OSwKITAsInNlbGVjdEVkZ2VzIiwhMCksbS5iaW5kQWN0aW9uKDY5LCEwLCJlZGl0U3R5bGUiKSxtLmJpbmRBY3Rpb24oNjYsITAsImJvbGQiKSxtLmJpbmRBY3Rpb24oNjYsITAsInRvQmFjayIsITApLG0uYmluZEFjdGlvbig3MCwhMCwidG9Gcm9udCIsITApLG0uYmluZEFjdGlvbig2OCwhMCwiZHVwbGljYXRlIiksbS5iaW5kQWN0aW9uKDY4LCEwLCJzZXRBc0RlZmF1bHRTdHlsZSIsITApLG0uYmluZEFjdGlvbig5MCwhMCwidW5kbyIpLG0uYmluZEFjdGlvbig4OSwhMCwiYXV0b3NpemUiLCEwKSxtLmJpbmRBY3Rpb24oODgsITAsImN1dCIpLG0uYmluZEFjdGlvbig2NywhMCwiY29weSIpLG0uYmluZEFjdGlvbig4NiwhMCwicGFzdGUiKSxtLmJpbmRBY3Rpb24oNzEsITAsImdyb3VwIiksbS5iaW5kQWN0aW9uKDc3LCEwLCJlZGl0RGF0YSIpLG0uYmluZEFjdGlvbig3MSwhMCwiZ3JpZCIsITApLG0uYmluZEFjdGlvbig3MywhMCwiaXRhbGljIiksbS5iaW5kQWN0aW9uKDc2LCEwLCJsb2NrVW5sb2NrIiksCm0uYmluZEFjdGlvbig3NiwhMCwibGF5ZXJzIiwhMCksbS5iaW5kQWN0aW9uKDgwLCEwLCJmb3JtYXRQYW5lbCIsITApLG0uYmluZEFjdGlvbig4NSwhMCwidW5kZXJsaW5lIiksbS5iaW5kQWN0aW9uKDg1LCEwLCJ1bmdyb3VwIiwhMCksbS5iaW5kQWN0aW9uKDE5MCwhMCwic3VwZXJzY3JpcHQiKSxtLmJpbmRBY3Rpb24oMTg4LCEwLCJzdWJzY3JpcHQiKSxtLmJpbmRBY3Rpb24oOSwhMSwiaW5kZW50IiwhMCksbS5iaW5kS2V5KDEzLGZ1bmN0aW9uKCl7Yy5pc0VuYWJsZWQoKSYmYy5zdGFydEVkaXRpbmdBdENlbGwoKX0pLG0uYmluZEtleSgxMTMsZnVuY3Rpb24oKXtjLmlzRW5hYmxlZCgpJiZjLnN0YXJ0RWRpdGluZ0F0Q2VsbCgpfSk7bXhDbGllbnQuSVNfV0lOP20uYmluZEFjdGlvbig4OSwhMCwicmVkbyIpOm0uYmluZEFjdGlvbig5MCwhMCwicmVkbyIsITApO3JldHVybiBtfTsKRWRpdG9yVWkucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXtudWxsIT10aGlzLmVkaXRvciYmKHRoaXMuZWRpdG9yLmRlc3Ryb3koKSx0aGlzLmVkaXRvcj1udWxsKTtudWxsIT10aGlzLm1lbnViYXImJih0aGlzLm1lbnViYXIuZGVzdHJveSgpLHRoaXMubWVudWJhcj1udWxsKTtudWxsIT10aGlzLnRvb2xiYXImJih0aGlzLnRvb2xiYXIuZGVzdHJveSgpLHRoaXMudG9vbGJhcj1udWxsKTtudWxsIT10aGlzLnNpZGViYXImJih0aGlzLnNpZGViYXIuZGVzdHJveSgpLHRoaXMuc2lkZWJhcj1udWxsKTtudWxsIT10aGlzLmtleUhhbmRsZXImJih0aGlzLmtleUhhbmRsZXIuZGVzdHJveSgpLHRoaXMua2V5SGFuZGxlcj1udWxsKTtudWxsIT10aGlzLmtleWRvd25IYW5kbGVyJiYobXhFdmVudC5yZW1vdmVMaXN0ZW5lcihkb2N1bWVudCwia2V5ZG93biIsdGhpcy5rZXlkb3duSGFuZGxlciksdGhpcy5rZXlkb3duSGFuZGxlcj1udWxsKTtudWxsIT10aGlzLmtleXVwSGFuZGxlciYmCihteEV2ZW50LnJlbW92ZUxpc3RlbmVyKGRvY3VtZW50LCJrZXl1cCIsdGhpcy5rZXl1cEhhbmRsZXIpLHRoaXMua2V5dXBIYW5kbGVyPW51bGwpO251bGwhPXRoaXMucmVzaXplSGFuZGxlciYmKG14RXZlbnQucmVtb3ZlTGlzdGVuZXIod2luZG93LCJyZXNpemUiLHRoaXMucmVzaXplSGFuZGxlciksdGhpcy5yZXNpemVIYW5kbGVyPW51bGwpO251bGwhPXRoaXMuZ2VzdHVyZUhhbmRsZXImJihteEV2ZW50LnJlbW92ZUdlc3R1cmVMaXN0ZW5lcnMoZG9jdW1lbnQsdGhpcy5nZXN0dXJlSGFuZGxlciksdGhpcy5nZXN0dXJlSGFuZGxlcj1udWxsKTtudWxsIT10aGlzLm9yaWVudGF0aW9uQ2hhbmdlSGFuZGxlciYmKG14RXZlbnQucmVtb3ZlTGlzdGVuZXIod2luZG93LCJvcmllbnRhdGlvbmNoYW5nZSIsdGhpcy5vcmllbnRhdGlvbkNoYW5nZUhhbmRsZXIpLHRoaXMub3JpZW50YXRpb25DaGFuZ2VIYW5kbGVyPW51bGwpO251bGwhPXRoaXMuc2Nyb2xsSGFuZGxlciYmKG14RXZlbnQucmVtb3ZlTGlzdGVuZXIod2luZG93LAoic2Nyb2xsIix0aGlzLnNjcm9sbEhhbmRsZXIpLHRoaXMuc2Nyb2xsSGFuZGxlcj1udWxsKTtpZihudWxsIT10aGlzLmRlc3Ryb3lGdW5jdGlvbnMpe2Zvcih2YXIgYT0wO2E8dGhpcy5kZXN0cm95RnVuY3Rpb25zLmxlbmd0aDthKyspdGhpcy5kZXN0cm95RnVuY3Rpb25zW2FdKCk7dGhpcy5kZXN0cm95RnVuY3Rpb25zPW51bGx9Zm9yKHZhciBkPVt0aGlzLm1lbnViYXJDb250YWluZXIsdGhpcy50b29sYmFyQ29udGFpbmVyLHRoaXMuc2lkZWJhckNvbnRhaW5lcix0aGlzLmZvcm1hdENvbnRhaW5lcix0aGlzLmRpYWdyYW1Db250YWluZXIsdGhpcy5mb290ZXJDb250YWluZXIsdGhpcy5jaHJvbWVsZXNzVG9vbGJhcix0aGlzLmhzcGxpdCx0aGlzLnNpZGViYXJGb290ZXJDb250YWluZXIsdGhpcy5sYXllcnNEaWFsb2ddLGE9MDthPGQubGVuZ3RoO2ErKyludWxsIT1kW2FdJiZudWxsIT1kW2FdLnBhcmVudE5vZGUmJmRbYV0ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChkW2FdKX07InVuZGVmaW5lZCIhPT10eXBlb2YgaHRtbDQmJihodG1sNC5BVFRSSUJTWyJhOjp0YXJnZXQiXT0wLGh0bWw0LkFUVFJJQlNbInNvdXJjZTo6c3JjIl09MCxodG1sNC5BVFRSSUJTWyJ2aWRlbzo6c3JjIl09MCk7KGZ1bmN0aW9uKCl7dmFyIGE9W1sibmJzcCIsIjE2MCJdLFsic2h5IiwiMTczIl1dLGQ9bXhVdGlscy5wYXJzZVhtbDtteFV0aWxzLnBhcnNlWG1sPWZ1bmN0aW9uKGYpe2Zvcih2YXIgYz0wO2M8YS5sZW5ndGg7YysrKWY9Zi5yZXBsYWNlKG5ldyBSZWdFeHAoIiYiK2FbY11bMF0rIjsiLCJnIiksIiYjIithW2NdWzFdKyI7Iik7cmV0dXJuIGQoZil9fSkoKTsKRGF0ZS5wcm90b3R5cGUudG9JU09TdHJpbmd8fGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhKXthPVN0cmluZyhhKTsxPT09YS5sZW5ndGgmJihhPSIwIithKTtyZXR1cm4gYX1EYXRlLnByb3RvdHlwZS50b0lTT1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFVUQ0Z1bGxZZWFyKCkrIi0iK2EodGhpcy5nZXRVVENNb250aCgpKzEpKyItIithKHRoaXMuZ2V0VVRDRGF0ZSgpKSsiVCIrYSh0aGlzLmdldFVUQ0hvdXJzKCkpKyI6IithKHRoaXMuZ2V0VVRDTWludXRlcygpKSsiOiIrYSh0aGlzLmdldFVUQ1NlY29uZHMoKSkrIi4iK1N0cmluZygodGhpcy5nZXRVVENNaWxsaXNlY29uZHMoKS8xRTMpLnRvRml4ZWQoMykpLnNsaWNlKDIsNSkrIloifX0oKTtEYXRlLm5vd3x8KERhdGUubm93PWZ1bmN0aW9uKCl7cmV0dXJuKG5ldyBEYXRlKS5nZXRUaW1lKCl9KTtteENvbnN0YW50cy5QT0lOVFM9MTtteENvbnN0YW50cy5NSUxMSU1FVEVSUz0yO214Q29uc3RhbnRzLklOQ0hFUz0zOwpteENvbnN0YW50cy5QSVhFTFNfUEVSX01NPTMuOTM3O214Q29uc3RhbnRzLlBJWEVMU19QRVJfSU5DSD0xMDA7bXhDb25zdGFudHMuU0hBRE9XX09QQUNJVFk9LjI1O214Q29uc3RhbnRzLlNIQURPV0NPTE9SPSIjMDAwMDAwIjtteENvbnN0YW50cy5WTUxfU0hBRE9XQ09MT1I9IiNkMGQwZDAiO214R3JhcGgucHJvdG90eXBlLnBhZ2VCcmVha0NvbG9yPSIjYzBjMGMwIjtteEdyYXBoLnByb3RvdHlwZS5wYWdlU2NhbGU9MTsoZnVuY3Rpb24oKXt0cnl7aWYobnVsbCE9bmF2aWdhdG9yJiZudWxsIT1uYXZpZ2F0b3IubGFuZ3VhZ2Upe3ZhciBhPW5hdmlnYXRvci5sYW5ndWFnZS50b0xvd2VyQ2FzZSgpO214R3JhcGgucHJvdG90eXBlLnBhZ2VGb3JtYXQ9ImVuLXVzIj09PWF8fCJlbi1jYSI9PT1hfHwiZXMtbXgiPT09YT9teENvbnN0YW50cy5QQUdFX0ZPUk1BVF9MRVRURVJfUE9SVFJBSVQ6bXhDb25zdGFudHMuUEFHRV9GT1JNQVRfQTRfUE9SVFJBSVR9fWNhdGNoKGQpe319KSgpOwpteFRleHQucHJvdG90eXBlLmJhc2VTcGFjaW5nVG9wPTU7bXhUZXh0LnByb3RvdHlwZS5iYXNlU3BhY2luZ0JvdHRvbT0xO214R3JhcGhNb2RlbC5wcm90b3R5cGUuaWdub3JlUmVsYXRpdmVFZGdlUGFyZW50PSExO214R3JhcGhWaWV3LnByb3RvdHlwZS5ncmlkSW1hZ2U9bXhDbGllbnQuSVNfU1ZHPyJkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhDZ0FLQUpFQUFBQUFBUC8vLzh6TXpQLy8veUg1QkFFQUFBTUFMQUFBQUFBS0FBb0FBQUlKMUk2cHkrMFBvMndGQURzPSI6SU1BR0VfUEFUSCsiL2dyaWQuZ2lmIjtteEdyYXBoVmlldy5wcm90b3R5cGUuZ3JpZFN0ZXBzPTQ7bXhHcmFwaFZpZXcucHJvdG90eXBlLm1pbkdyaWRTaXplPTQ7bXhHcmFwaFZpZXcucHJvdG90eXBlLmRlZmF1bHRHcmlkQ29sb3I9IiNkMGQwZDAiO214R3JhcGhWaWV3LnByb3RvdHlwZS5ncmlkQ29sb3I9bXhHcmFwaFZpZXcucHJvdG90eXBlLmRlZmF1bHRHcmlkQ29sb3I7Cm14R3JhcGhWaWV3LnByb3RvdHlwZS51bml0PW14Q29uc3RhbnRzLlBPSU5UUztteEdyYXBoVmlldy5wcm90b3R5cGUuc2V0VW5pdD1mdW5jdGlvbihhKXt0aGlzLnVuaXQhPWEmJih0aGlzLnVuaXQ9YSx0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdCgidW5pdENoYW5nZWQiLCJ1bml0IixhKSkpfTtteFN2Z0NhbnZhczJELnByb3RvdHlwZS5mb0FsdFRleHQ9IltOb3Qgc3VwcG9ydGVkIGJ5IHZpZXdlcl0iO214U2hhcGUucHJvdG90eXBlLmdldENvbnN0cmFpbnRzPWZ1bmN0aW9uKGEsZCxmKXtyZXR1cm4gbnVsbH07CkdyYXBoPWZ1bmN0aW9uKGEsZCxmLGMsbSxrKXtteEdyYXBoLmNhbGwodGhpcyxhLGQsZixjKTt0aGlzLnRoZW1lcz1tfHx0aGlzLmRlZmF1bHRUaGVtZXM7dGhpcy5jdXJyZW50RWRnZVN0eWxlPW14VXRpbHMuY2xvbmUodGhpcy5kZWZhdWx0RWRnZVN0eWxlKTt0aGlzLmN1cnJlbnRWZXJ0ZXhTdHlsZT1teFV0aWxzLmNsb25lKHRoaXMuZGVmYXVsdFZlcnRleFN0eWxlKTt0aGlzLnN0YW5kYWxvbmU9bnVsbCE9az9rOiExO2E9dGhpcy5iYXNlVXJsO2Q9YS5pbmRleE9mKCIvLyIpO3RoaXMuZG9tYWluUGF0aFVybD10aGlzLmRvbWFpblVybD0iIjswPGQmJihkPWEuaW5kZXhPZigiLyIsZCsyKSwwPGQmJih0aGlzLmRvbWFpblVybD1hLnN1YnN0cmluZygwLGQpKSxkPWEubGFzdEluZGV4T2YoIi8iKSwwPGQmJih0aGlzLmRvbWFpblBhdGhVcmw9YS5zdWJzdHJpbmcoMCxkKzEpKSk7dGhpcy5pc0h0bWxMYWJlbD1mdW5jdGlvbihhKXthPXRoaXMuZ2V0Q3VycmVudENlbGxTdHlsZShhKTsKcmV0dXJuIG51bGwhPWE/IjEiPT1hLmh0bWx8fCJ3cmFwIj09YVtteENvbnN0YW50cy5TVFlMRV9XSElURV9TUEFDRV06ITF9O2lmKHRoaXMuZWRnZU1vZGUpe3ZhciBxPW51bGwsYj1udWxsLGU9bnVsbCxnPW51bGwscD0hMTt0aGlzLmFkZExpc3RlbmVyKG14RXZlbnQuRklSRV9NT1VTRV9FVkVOVCxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhLGMpe2lmKCJtb3VzZURvd24iPT1jLmdldFByb3BlcnR5KCJldmVudE5hbWUiKSYmdGhpcy5pc0VuYWJsZWQoKSl7dmFyIGQ9Yy5nZXRQcm9wZXJ0eSgiZXZlbnQiKSxmPWQuZ2V0U3RhdGUoKTtpZighbXhFdmVudC5pc0FsdERvd24oZC5nZXRFdmVudCgpKSYmbnVsbCE9ZilpZih0aGlzLm1vZGVsLmlzRWRnZShmLmNlbGwpKWlmKHE9bmV3IG14UG9pbnQoZC5nZXRHcmFwaFgoKSxkLmdldEdyYXBoWSgpKSxwPXRoaXMuaXNDZWxsU2VsZWN0ZWQoZi5jZWxsKSxlPWYsYj1kLG51bGwhPWYudGV4dCYmbnVsbCE9Zi50ZXh0LmJvdW5kaW5nQm94JiYKbXhVdGlscy5jb250YWlucyhmLnRleHQuYm91bmRpbmdCb3gsZC5nZXRHcmFwaFgoKSxkLmdldEdyYXBoWSgpKSlnPW14RXZlbnQuTEFCRUxfSEFORExFO2Vsc2V7dmFyIGw9dGhpcy5zZWxlY3Rpb25DZWxsc0hhbmRsZXIuZ2V0SGFuZGxlcihmLmNlbGwpO251bGwhPWwmJm51bGwhPWwuYmVuZHMmJjA8bC5iZW5kcy5sZW5ndGgmJihnPWwuZ2V0SGFuZGxlRm9yRXZlbnQoZCkpfWVsc2UgaWYoIXRoaXMucGFubmluZ0hhbmRsZXIuaXNBY3RpdmUoKSYmKGw9dGhpcy5zZWxlY3Rpb25DZWxsc0hhbmRsZXIuZ2V0SGFuZGxlcihmLmNlbGwpLG51bGw9PWx8fG51bGw9PWwuZ2V0SGFuZGxlRm9yRXZlbnQoZCkpKXt2YXIgbj1uZXcgbXhSZWN0YW5nbGUoZC5nZXRHcmFwaFgoKSxkLmdldEdyYXBoWSgpKTtuLmdyb3cobXhFdmVudC5pc1RvdWNoRXZlbnQoZC5nZXRFdmVudCgpKT9teFNoYXBlLnByb3RvdHlwZS5zdmdTdHJva2VUb2xlcmFuY2UtMTpteFNoYXBlLnByb3RvdHlwZS5zdmdTdHJva2VUb2xlcmFuY2UvCjIpO2lmKHRoaXMuaXNUYWJsZUNlbGwoZi5jZWxsKSl7dmFyIHU9dGhpcy5tb2RlbC5nZXRQYXJlbnQoZi5jZWxsKSxsPXRoaXMubW9kZWwuZ2V0UGFyZW50KHUpO2lmKG14VXRpbHMuaW50ZXJzZWN0cyhuLG5ldyBteFJlY3RhbmdsZShmLngsZi55LTEsZi53aWR0aCwxKSkmJnRoaXMubW9kZWwuZ2V0Q2hpbGRBdChsLDApIT11fHxteFV0aWxzLmludGVyc2VjdHMobixuZXcgbXhSZWN0YW5nbGUoZi54LGYueStmLmhlaWdodC0xLGYud2lkdGgsMSkpfHxteFV0aWxzLmludGVyc2VjdHMobixuZXcgbXhSZWN0YW5nbGUoZi54LTEsZi55LDEsZi5oZWlnaHQpKSYmdGhpcy5tb2RlbC5nZXRDaGlsZEF0KHUsMCkhPWYuY2VsbHx8bXhVdGlscy5pbnRlcnNlY3RzKG4sbmV3IG14UmVjdGFuZ2xlKGYueCtmLndpZHRoLTEsZi55LDEsZi5oZWlnaHQpKSlpZih1PXRoaXMuc2VsZWN0aW9uQ2VsbHNIYW5kbGVyLmlzSGFuZGxlZChsKSx0aGlzLnNlbGVjdENlbGxGb3JFdmVudChsLGQuZ2V0RXZlbnQoKSksCmw9dGhpcy5zZWxlY3Rpb25DZWxsc0hhbmRsZXIuZ2V0SGFuZGxlcihsKSxudWxsIT1sKXt2YXIgdD1sLmdldEhhbmRsZUZvckV2ZW50KGQpO251bGwhPXQmJihsLnN0YXJ0KGQuZ2V0R3JhcGhYKCksZC5nZXRHcmFwaFkoKSx0KSxsLmJsb2NrRGVsYXllZFNlbGVjdGlvbj0hdSxkLmNvbnN1bWUoKSl9fWZvcig7IWQuaXNDb25zdW1lZCgpJiZudWxsIT1mJiYodGhpcy5pc1RhYmxlQ2VsbChmLmNlbGwpfHx0aGlzLmlzVGFibGVSb3coZi5jZWxsKXx8dGhpcy5pc1RhYmxlKGYuY2VsbCkpOyl0aGlzLmlzU3dpbWxhbmUoZi5jZWxsKSYmKGw9dGhpcy5nZXRBY3R1YWxTdGFydFNpemUoZi5jZWxsKSwoMDxsLnh8fDA8bC53aWR0aCkmJm14VXRpbHMuaW50ZXJzZWN0cyhuLG5ldyBteFJlY3RhbmdsZShmLngrbC54LWwud2lkdGgtMSsoMD09bC54P2Yud2lkdGg6MCksZi55LDEsZi5oZWlnaHQpKXx8KDA8bC55fHwwPGwuaGVpZ2h0KSYmbXhVdGlscy5pbnRlcnNlY3RzKG4sbmV3IG14UmVjdGFuZ2xlKGYueCwKZi55K2wueS1sLmhlaWdodC0xKygwPT1sLnk/Zi5oZWlnaHQ6MCksZi53aWR0aCwxKSkpJiYodGhpcy5zZWxlY3RDZWxsRm9yRXZlbnQoZi5jZWxsLGQuZ2V0RXZlbnQoKSksbD10aGlzLnNlbGVjdGlvbkNlbGxzSGFuZGxlci5nZXRIYW5kbGVyKGYuY2VsbCksbnVsbCE9bCYmKHQ9bXhFdmVudC5DVVNUT01fSEFORExFLWwuY3VzdG9tSGFuZGxlcy5sZW5ndGgrMSxsLnN0YXJ0KGQuZ2V0R3JhcGhYKCksZC5nZXRHcmFwaFkoKSx0KSxkLmNvbnN1bWUoKSkpLGY9dGhpcy52aWV3LmdldFN0YXRlKHRoaXMubW9kZWwuZ2V0UGFyZW50KGYuY2VsbCkpfX19KSk7dGhpcy5hZGRNb3VzZUxpc3RlbmVyKHttb3VzZURvd246ZnVuY3Rpb24oYSxiKXt9LG1vdXNlTW92ZTpteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhLGMpe3ZhciBkPXRoaXMuc2VsZWN0aW9uQ2VsbHNIYW5kbGVyLmhhbmRsZXJzLm1hcCxmO2ZvcihmIGluIGQpaWYobnVsbCE9ZFtmXS5pbmRleClyZXR1cm47aWYodGhpcy5pc0VuYWJsZWQoKSYmCiF0aGlzLnBhbm5pbmdIYW5kbGVyLmlzQWN0aXZlKCkmJiFteEV2ZW50LmlzQWx0RG93bihjLmdldEV2ZW50KCkpKWlmKGY9dGhpcy50b2xlcmFuY2UsbnVsbCE9cSYmbnVsbCE9ZSYmbnVsbCE9Yil7aWYoZD1lLE1hdGguYWJzKHEueC1jLmdldEdyYXBoWCgpKT5mfHxNYXRoLmFicyhxLnktYy5nZXRHcmFwaFkoKSk+Zil7dGhpcy5pc0NlbGxTZWxlY3RlZChkLmNlbGwpfHx0aGlzLnNlbGVjdENlbGxGb3JFdmVudChkLmNlbGwsYy5nZXRFdmVudCgpKTt2YXIgbD10aGlzLnNlbGVjdGlvbkNlbGxzSGFuZGxlci5nZXRIYW5kbGVyKGQuY2VsbCk7aWYobnVsbCE9bCYmbnVsbCE9bC5iZW5kcyYmMDxsLmJlbmRzLmxlbmd0aCl7Zj1sLmdldEhhbmRsZUZvckV2ZW50KGIpO3ZhciBuPXRoaXMudmlldy5nZXRFZGdlU3R5bGUoZCksdT1uPT1teEVkZ2VTdHlsZS5FbnRpdHlSZWxhdGlvbjtwfHxnIT1teEV2ZW50LkxBQkVMX0hBTkRMRXx8KGY9Zyk7aWYodSYmMCE9ZiYmZiE9bC5iZW5kcy5sZW5ndGgtCjEmJmYhPW14RXZlbnQuTEFCRUxfSEFORExFKSF1fHxudWxsPT1kLnZpc2libGVTb3VyY2VTdGF0ZSYmbnVsbD09ZC52aXNpYmxlVGFyZ2V0U3RhdGV8fCh0aGlzLmdyYXBoSGFuZGxlci5yZXNldCgpLGMuY29uc3VtZSgpKTtlbHNlIGlmKGY9PW14RXZlbnQuTEFCRUxfSEFORExFfHwwPT1mfHxudWxsIT1kLnZpc2libGVTb3VyY2VTdGF0ZXx8Zj09bC5iZW5kcy5sZW5ndGgtMXx8bnVsbCE9ZC52aXNpYmxlVGFyZ2V0U3RhdGUpdXx8Zj09bXhFdmVudC5MQUJFTF9IQU5ETEV8fCh1PWQuYWJzb2x1dGVQb2ludHMsbnVsbCE9dSYmKG51bGw9PW4mJm51bGw9PWZ8fG49PW14RWRnZVN0eWxlLk9ydGhDb25uZWN0b3IpJiYoZj1nLG51bGw9PWYmJihmPW5ldyBteFJlY3RhbmdsZShxLngscS55KSxmLmdyb3cobXhFZGdlSGFuZGxlci5wcm90b3R5cGUuaGFuZGxlSW1hZ2Uud2lkdGgvMiksbXhVdGlscy5jb250YWlucyhmLHVbMF0ueCx1WzBdLnkpP2Y9MDpteFV0aWxzLmNvbnRhaW5zKGYsdVt1Lmxlbmd0aC0KMV0ueCx1W3UubGVuZ3RoLTFdLnkpP2Y9bC5iZW5kcy5sZW5ndGgtMTpudWxsIT1uJiYoMj09dS5sZW5ndGh8fDM9PXUubGVuZ3RoJiYoMD09TWF0aC5yb3VuZCh1WzBdLngtdVsxXS54KSYmMD09TWF0aC5yb3VuZCh1WzFdLngtdVsyXS54KXx8MD09TWF0aC5yb3VuZCh1WzBdLnktdVsxXS55KSYmMD09TWF0aC5yb3VuZCh1WzFdLnktdVsyXS55KSkpP2Y9MjooZj1teFV0aWxzLmZpbmROZWFyZXN0U2VnbWVudChkLHEueCxxLnkpLGY9bnVsbD09bj9teEV2ZW50LlZJUlRVQUxfSEFORExFLWY6ZisxKSkpLG51bGw9PWYmJihmPW14RXZlbnQuVklSVFVBTF9IQU5ETEUpKSxsLnN0YXJ0KGMuZ2V0R3JhcGhYKCksYy5nZXRHcmFwaFgoKSxmKSxnPXE9Yj1lPW51bGwscD0hMSxjLmNvbnN1bWUoKSx0aGlzLmdyYXBoSGFuZGxlci5yZXNldCgpfX19ZWxzZSBpZihkPWMuZ2V0U3RhdGUoKSxudWxsIT1kKXtsPW51bGw7aWYodGhpcy5tb2RlbC5pc0VkZ2UoZC5jZWxsKSl7aWYoZj1uZXcgbXhSZWN0YW5nbGUoYy5nZXRHcmFwaFgoKSwKYy5nZXRHcmFwaFkoKSksZi5ncm93KG14RWRnZUhhbmRsZXIucHJvdG90eXBlLmhhbmRsZUltYWdlLndpZHRoLzIpLHU9ZC5hYnNvbHV0ZVBvaW50cyxudWxsIT11KWlmKG51bGwhPWQudGV4dCYmbnVsbCE9ZC50ZXh0LmJvdW5kaW5nQm94JiZteFV0aWxzLmNvbnRhaW5zKGQudGV4dC5ib3VuZGluZ0JveCxjLmdldEdyYXBoWCgpLGMuZ2V0R3JhcGhZKCkpKWw9Im1vdmUiO2Vsc2UgaWYobXhVdGlscy5jb250YWlucyhmLHVbMF0ueCx1WzBdLnkpfHxteFV0aWxzLmNvbnRhaW5zKGYsdVt1Lmxlbmd0aC0xXS54LHVbdS5sZW5ndGgtMV0ueSkpbD0icG9pbnRlciI7ZWxzZSBpZihudWxsIT1kLnZpc2libGVTb3VyY2VTdGF0ZXx8bnVsbCE9ZC52aXNpYmxlVGFyZ2V0U3RhdGUpZj10aGlzLnZpZXcuZ2V0RWRnZVN0eWxlKGQpLGw9ImNyb3NzaGFpciIsZiE9bXhFZGdlU3R5bGUuRW50aXR5UmVsYXRpb24mJnRoaXMuaXNPcnRob2dvbmFsKGQpJiYoZj1teFV0aWxzLmZpbmROZWFyZXN0U2VnbWVudChkLApjLmdldEdyYXBoWCgpLGMuZ2V0R3JhcGhZKCkpLGY8dS5sZW5ndGgtMSYmMDw9ZiYmKGw9MD09TWF0aC5yb3VuZCh1W2ZdLngtdVtmKzFdLngpPyJjb2wtcmVzaXplIjoicm93LXJlc2l6ZSIpKX1lbHNle2Y9bmV3IG14UmVjdGFuZ2xlKGMuZ2V0R3JhcGhYKCksYy5nZXRHcmFwaFkoKSk7Zi5ncm93KG14U2hhcGUucHJvdG90eXBlLnN2Z1N0cm9rZVRvbGVyYW5jZS8yKTtpZih0aGlzLmlzVGFibGVDZWxsKGQuY2VsbCkpaWYodT10aGlzLm1vZGVsLmdldFBhcmVudChkLmNlbGwpLG49dGhpcy5tb2RlbC5nZXRQYXJlbnQodSksbXhVdGlscy5pbnRlcnNlY3RzKGYsbmV3IG14UmVjdGFuZ2xlKGQueC0xLGQueSwxLGQuaGVpZ2h0KSkmJnRoaXMubW9kZWwuZ2V0Q2hpbGRBdCh1LDApIT1kLmNlbGx8fG14VXRpbHMuaW50ZXJzZWN0cyhmLG5ldyBteFJlY3RhbmdsZShkLngrZC53aWR0aC0xLGQueSwxLGQuaGVpZ2h0KSkpbD0iY29sLXJlc2l6ZSI7ZWxzZSBpZihteFV0aWxzLmludGVyc2VjdHMoZiwKbmV3IG14UmVjdGFuZ2xlKGQueCxkLnktMSxkLndpZHRoLDEpKSYmdGhpcy5tb2RlbC5nZXRDaGlsZEF0KG4sMCkhPXV8fG14VXRpbHMuaW50ZXJzZWN0cyhmLG5ldyBteFJlY3RhbmdsZShkLngsZC55K2QuaGVpZ2h0LTEsZC53aWR0aCwxKSkpbD0icm93LXJlc2l6ZSI7Zm9yKHU9ZDtudWxsPT1sJiZudWxsIT11JiYodGhpcy5pc1RhYmxlQ2VsbCh1LmNlbGwpfHx0aGlzLmlzVGFibGVSb3codS5jZWxsKXx8dGhpcy5pc1RhYmxlKHUuY2VsbCkpOyl0aGlzLmlzU3dpbWxhbmUodS5jZWxsKSYmKG49dGhpcy5nZXRBY3R1YWxTdGFydFNpemUodS5jZWxsKSwoMDxuLnh8fDA8bi53aWR0aCkmJm14VXRpbHMuaW50ZXJzZWN0cyhmLG5ldyBteFJlY3RhbmdsZSh1Lngrbi54LW4ud2lkdGgtMSsoMD09bi54P3Uud2lkdGg6MCksdS55LDEsdS5oZWlnaHQpKT9sPSJjb2wtcmVzaXplIjooMDxuLnl8fDA8bi5oZWlnaHQpJiZteFV0aWxzLmludGVyc2VjdHMoZixuZXcgbXhSZWN0YW5nbGUodS54LAp1Lnkrbi55LW4uaGVpZ2h0LTErKDA9PW4ueT91LmhlaWdodDowKSx1LndpZHRoLDEpKSYmKGw9InJvdy1yZXNpemUiKSksdT10aGlzLnZpZXcuZ2V0U3RhdGUodGhpcy5tb2RlbC5nZXRQYXJlbnQodS5jZWxsKSl9bnVsbCE9bCYmZC5zZXRDdXJzb3IobCl9fSksbW91c2VVcDpteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhLGMpe2c9cT1iPWU9bnVsbH0pfSl9dGhpcy5jZWxsUmVuZGVyZXIuZ2V0TGFiZWxWYWx1ZT1mdW5jdGlvbihhKXt2YXIgYj1teENlbGxSZW5kZXJlci5wcm90b3R5cGUuZ2V0TGFiZWxWYWx1ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7YS52aWV3LmdyYXBoLmlzSHRtbExhYmVsKGEuY2VsbCkmJihiPTEhPWEuc3R5bGUuaHRtbD9teFV0aWxzLmh0bWxFbnRpdGllcyhiLCExKTphLnZpZXcuZ3JhcGguc2FuaXRpemVIdG1sKGIpKTtyZXR1cm4gYn07aWYoInVuZGVmaW5lZCIhPT10eXBlb2YgbXhWZXJ0ZXhIYW5kbGVyKXt0aGlzLnNldENvbm5lY3RhYmxlKCEwKTsKdGhpcy5zZXREcm9wRW5hYmxlZCghMCk7dGhpcy5zZXRQYW5uaW5nKCEwKTt0aGlzLnNldFRvb2x0aXBzKCEwKTt0aGlzLnNldEFsbG93TG9vcHMoITApO3RoaXMuYWxsb3dBdXRvUGFubmluZz0hMDt0aGlzLmNvbnN0cmFpbkNoaWxkcmVuPXRoaXMucmVzZXRFZGdlc09uQ29ubmVjdD0hMTt0aGlzLmNvbnN0cmFpblJlbGF0aXZlQ2hpbGRyZW49ITA7dGhpcy5ncmFwaEhhbmRsZXIuc2Nyb2xsT25Nb3ZlPSExO3RoaXMuZ3JhcGhIYW5kbGVyLnNjYWxlR3JpZD0hMDt0aGlzLmNvbm5lY3Rpb25IYW5kbGVyLnNldENyZWF0ZVRhcmdldCghMSk7dGhpcy5jb25uZWN0aW9uSGFuZGxlci5pbnNlcnRCZWZvcmVTb3VyY2U9ITA7dGhpcy5jb25uZWN0aW9uSGFuZGxlci5pc1ZhbGlkU291cmNlPWZ1bmN0aW9uKGEsYil7cmV0dXJuITF9O3RoaXMuYWx0ZXJuYXRlRWRnZVN0eWxlPSJ2ZXJ0aWNhbCI7bnVsbD09YyYmdGhpcy5sb2FkU3R5bGVzaGVldCgpO3ZhciBsPXRoaXMuZ3JhcGhIYW5kbGVyLmdldEd1aWRlU3RhdGVzOwp0aGlzLmdyYXBoSGFuZGxlci5nZXRHdWlkZVN0YXRlcz1mdW5jdGlvbigpe3ZhciBhPWwuYXBwbHkodGhpcyxhcmd1bWVudHMpO2lmKHRoaXMuZ3JhcGgucGFnZVZpc2libGUpe2Zvcih2YXIgYj1bXSxlPXRoaXMuZ3JhcGgucGFnZUZvcm1hdCxjPXRoaXMuZ3JhcGgucGFnZVNjYWxlLGQ9ZS53aWR0aCpjLGU9ZS5oZWlnaHQqYyxjPXRoaXMuZ3JhcGgudmlldy50cmFuc2xhdGUsZj10aGlzLmdyYXBoLnZpZXcuc2NhbGUsZz10aGlzLmdyYXBoLmdldFBhZ2VMYXlvdXQoKSxwPTA7cDxnLndpZHRoO3ArKyliLnB1c2gobmV3IG14UmVjdGFuZ2xlKCgoZy54K3ApKmQrYy54KSpmLChnLnkqZStjLnkpKmYsZCpmLGUqZikpO2ZvcihwPTE7cDxnLmhlaWdodDtwKyspYi5wdXNoKG5ldyBteFJlY3RhbmdsZSgoZy54KmQrYy54KSpmLCgoZy55K3ApKmUrYy55KSpmLGQqZixlKmYpKTthPWIuY29uY2F0KGEpfXJldHVybiBhfTtteERyYWdTb3VyY2UucHJvdG90eXBlLmRyYWdFbGVtZW50WkluZGV4PQpteFBvcHVwTWVudS5wcm90b3R5cGUuekluZGV4O214R3VpZGUucHJvdG90eXBlLmdldEd1aWRlQ29sb3I9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbnVsbD09YS5jZWxsPyIjZmZhNTAwIjpteENvbnN0YW50cy5HVUlERV9DT0xPUn07dGhpcy5ncmFwaEhhbmRsZXIuY3JlYXRlUHJldmlld1NoYXBlPWZ1bmN0aW9uKGEpe3RoaXMucHJldmlld0NvbG9yPSIjMDAwMDAwIj09dGhpcy5ncmFwaC5iYWNrZ3JvdW5kPyIjZmZmZmZmIjpteEdyYXBoSGFuZGxlci5wcm90b3R5cGUucHJldmlld0NvbG9yO3JldHVybiBteEdyYXBoSGFuZGxlci5wcm90b3R5cGUuY3JlYXRlUHJldmlld1NoYXBlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07dmFyIG49dGhpcy5ncmFwaEhhbmRsZXIuZ2V0Q2VsbHM7dGhpcy5ncmFwaEhhbmRsZXIuZ2V0Q2VsbHM9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPW4uYXBwbHkodGhpcyxhcmd1bWVudHMpLGU9bmV3IG14RGljdGlvbmFyeSxjPVtdLGQ9MDtkPGIubGVuZ3RoO2QrKyl7dmFyIGY9CnRoaXMuZ3JhcGguaXNUYWJsZVJvdyhiW2RdKSYmdGhpcy5ncmFwaC5pc0NlbGxTZWxlY3RlZChiW2RdKT9iW2RdOnRoaXMuZ3JhcGguZ2V0Q29tcG9zaXRlUGFyZW50KGJbZF0pO251bGw9PWZ8fGUuZ2V0KGYpfHwoZS5wdXQoZiwhMCksYy5wdXNoKGYpKX1yZXR1cm4gY307dmFyIHY9dGhpcy5ncmFwaEhhbmRsZXIuc3RhcnQ7dGhpcy5ncmFwaEhhbmRsZXIuc3RhcnQ9ZnVuY3Rpb24oYSxiLGUsYyl7YT10aGlzLmdyYXBoLmdldENvbXBvc2l0ZVBhcmVudChhKTt2LmFwcGx5KHRoaXMsYXJndW1lbnRzKX07dGhpcy5jb25uZWN0aW9uSGFuZGxlci5jcmVhdGVUYXJnZXRWZXJ0ZXg9ZnVuY3Rpb24oYSxiKXtiPXRoaXMuZ3JhcGguZ2V0Q29tcG9zaXRlUGFyZW50KGIpO3JldHVybiBteENvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS5jcmVhdGVUYXJnZXRWZXJ0ZXguYXBwbHkodGhpcyxhcmd1bWVudHMpfTt2YXIgdD1uZXcgbXhSdWJiZXJiYW5kKHRoaXMpO3RoaXMuZ2V0UnViYmVyYmFuZD0KZnVuY3Rpb24oKXtyZXR1cm4gdH07dmFyIHk9KG5ldyBEYXRlKS5nZXRUaW1lKCkseD0wLEU9dGhpcy5jb25uZWN0aW9uSGFuZGxlci5tb3VzZU1vdmU7dGhpcy5jb25uZWN0aW9uSGFuZGxlci5tb3VzZU1vdmU9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmN1cnJlbnRTdGF0ZTtFLmFwcGx5KHRoaXMsYXJndW1lbnRzKTthIT10aGlzLmN1cnJlbnRTdGF0ZT8oeT0obmV3IERhdGUpLmdldFRpbWUoKSx4PTApOng9KG5ldyBEYXRlKS5nZXRUaW1lKCkteX07dmFyIEE9dGhpcy5jb25uZWN0aW9uSGFuZGxlci5pc091dGxpbmVDb25uZWN0RXZlbnQ7dGhpcy5jb25uZWN0aW9uSGFuZGxlci5pc091dGxpbmVDb25uZWN0RXZlbnQ9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPXRoaXMuY3VycmVudFN0YXRlJiZhLmdldFN0YXRlKCk9PXRoaXMuY3VycmVudFN0YXRlJiYyRTM8eHx8KG51bGw9PXRoaXMuY3VycmVudFN0YXRlfHwiMCIhPW14VXRpbHMuZ2V0VmFsdWUodGhpcy5jdXJyZW50U3RhdGUuc3R5bGUsCiJvdXRsaW5lQ29ubmVjdCIsIjEiKSkmJkEuYXBwbHkodGhpcyxhcmd1bWVudHMpfTt2YXIgQz10aGlzLmlzVG9nZ2xlRXZlbnQ7dGhpcy5pc1RvZ2dsZUV2ZW50PWZ1bmN0aW9uKGEpe3JldHVybiBDLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8IW14Q2xpZW50LklTX0NIUk9NRU9TJiZteEV2ZW50LmlzU2hpZnREb3duKGEpfTt2YXIgej10LmlzRm9yY2VSdWJiZXJiYW5kRXZlbnQ7dC5pc0ZvcmNlUnViYmVyYmFuZEV2ZW50PWZ1bmN0aW9uKGEpe3JldHVybiB6LmFwcGx5KHRoaXMsYXJndW1lbnRzKSYmIW14RXZlbnQuaXNTaGlmdERvd24oYS5nZXRFdmVudCgpKSYmIW14RXZlbnQuaXNDb250cm9sRG93bihhLmdldEV2ZW50KCkpfHxteENsaWVudC5JU19DSFJPTUVPUyYmbXhFdmVudC5pc1NoaWZ0RG93bihhLmdldEV2ZW50KCkpfHxteFV0aWxzLmhhc1Njcm9sbGJhcnModGhpcy5ncmFwaC5jb250YWluZXIpJiZteENsaWVudC5JU19GRiYmbXhDbGllbnQuSVNfV0lOJiZudWxsPT1hLmdldFN0YXRlKCkmJgpteEV2ZW50LmlzVG91Y2hFdmVudChhLmdldEV2ZW50KCkpfTt2YXIgRD1udWxsO3RoaXMucGFubmluZ0hhbmRsZXIuYWRkTGlzdGVuZXIobXhFdmVudC5QQU5fU1RBUlQsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt0aGlzLmlzRW5hYmxlZCgpJiYoRD10aGlzLmNvbnRhaW5lci5zdHlsZS5jdXJzb3IsdGhpcy5jb250YWluZXIuc3R5bGUuY3Vyc29yPSJtb3ZlIil9KSk7dGhpcy5wYW5uaW5nSGFuZGxlci5hZGRMaXN0ZW5lcihteEV2ZW50LlBBTl9FTkQsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt0aGlzLmlzRW5hYmxlZCgpJiYodGhpcy5jb250YWluZXIuc3R5bGUuY3Vyc29yPUQpfSkpO3RoaXMucG9wdXBNZW51SGFuZGxlci5hdXRvRXhwYW5kPSEwO3RoaXMucG9wdXBNZW51SGFuZGxlci5pc1NlbGVjdE9uUG9wdXA9ZnVuY3Rpb24oYSl7cmV0dXJuIG14RXZlbnQuaXNNb3VzZUV2ZW50KGEuZ2V0RXZlbnQoKSl9O3ZhciBHPXRoaXMuY2xpY2s7dGhpcy5jbGljaz0KZnVuY3Rpb24oYSl7dmFyIGI9bnVsbD09YS5zdGF0ZSYmbnVsbCE9YS5zb3VyY2VTdGF0ZSYmdGhpcy5pc0NlbGxMb2NrZWQoYS5zb3VyY2VTdGF0ZS5jZWxsKTtpZih0aGlzLmlzRW5hYmxlZCgpJiYhYnx8YS5pc0NvbnN1bWVkKCkpcmV0dXJuIEcuYXBwbHkodGhpcyxhcmd1bWVudHMpO3ZhciBlPWI/YS5zb3VyY2VTdGF0ZS5jZWxsOmEuZ2V0Q2VsbCgpO251bGwhPWUmJihlPXRoaXMuZ2V0Q2xpY2thYmxlTGlua0ZvckNlbGwoZSksbnVsbCE9ZSYmKHRoaXMuaXNDdXN0b21MaW5rKGUpP3RoaXMuY3VzdG9tTGlua0NsaWNrZWQoZSk6dGhpcy5vcGVuTGluayhlKSkpO3RoaXMuaXNFbmFibGVkKCkmJmImJnRoaXMuY2xlYXJTZWxlY3Rpb24oKX07dGhpcy50b29sdGlwSGFuZGxlci5nZXRTdGF0ZUZvckV2ZW50PWZ1bmN0aW9uKGEpe3JldHVybiBhLnNvdXJjZVN0YXRlfTt0aGlzLmdldEN1cnNvckZvck1vdXNlRXZlbnQ9ZnVuY3Rpb24oYSl7dmFyIGI9bnVsbD09YS5zdGF0ZSYmbnVsbCE9CmEuc291cmNlU3RhdGUmJnRoaXMuaXNDZWxsTG9ja2VkKGEuc291cmNlU3RhdGUuY2VsbCk7cmV0dXJuIHRoaXMuZ2V0Q3Vyc29yRm9yQ2VsbChiP2Euc291cmNlU3RhdGUuY2VsbDphLmdldENlbGwoKSl9O3ZhciBGPXRoaXMuZ2V0Q3Vyc29yRm9yQ2VsbDt0aGlzLmdldEN1cnNvckZvckNlbGw9ZnVuY3Rpb24oYSl7aWYoIXRoaXMuaXNFbmFibGVkKCl8fHRoaXMuaXNDZWxsTG9ja2VkKGEpKXtpZihudWxsIT10aGlzLmdldENsaWNrYWJsZUxpbmtGb3JDZWxsKGEpKXJldHVybiJwb2ludGVyIjtpZih0aGlzLmlzQ2VsbExvY2tlZChhKSlyZXR1cm4iZGVmYXVsdCJ9cmV0dXJuIEYuYXBwbHkodGhpcyxhcmd1bWVudHMpfTt0aGlzLnNlbGVjdFJlZ2lvbj1mdW5jdGlvbihhLGIpe3ZhciBlPXRoaXMuZ2V0QWxsQ2VsbHMoYS54LGEueSxhLndpZHRoLGEuaGVpZ2h0KTt0aGlzLnNlbGVjdENlbGxzRm9yRXZlbnQoZSxiKTtyZXR1cm4gZX07dGhpcy5nZXRBbGxDZWxscz1mdW5jdGlvbihhLApiLGUsYyxkLGYpe2Y9bnVsbCE9Zj9mOltdO2lmKDA8ZXx8MDxjKXt2YXIgZz10aGlzLmdldE1vZGVsKCksbD1hK2UscD1iK2M7bnVsbD09ZCYmKGQ9dGhpcy5nZXRDdXJyZW50Um9vdCgpLG51bGw9PWQmJihkPWcuZ2V0Um9vdCgpKSk7aWYobnVsbCE9ZClmb3IodmFyIG49Zy5nZXRDaGlsZENvdW50KGQpLHU9MDt1PG47dSsrKXt2YXIgdD1nLmdldENoaWxkQXQoZCx1KSxCPXRoaXMudmlldy5nZXRTdGF0ZSh0KTtpZihudWxsIT1CJiZ0aGlzLmlzQ2VsbFZpc2libGUodCkmJiIxIiE9bXhVdGlscy5nZXRWYWx1ZShCLnN0eWxlLCJsb2NrZWQiLCIwIikpe3ZhciBrPW14VXRpbHMuZ2V0VmFsdWUoQi5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9ST1RBVElPTil8fDA7MCE9ayYmKEI9bXhVdGlscy5nZXRCb3VuZGluZ0JveChCLGspKTsoZy5pc0VkZ2UodCl8fGcuaXNWZXJ0ZXgodCkpJiZCLng+PWEmJkIueStCLmhlaWdodDw9cCYmQi55Pj1iJiZCLngrQi53aWR0aDw9bCYmZi5wdXNoKHQpOwp0aGlzLmdldEFsbENlbGxzKGEsYixlLGMsdCxmKX19fXJldHVybiBmfTt2YXIgSD10aGlzLmdyYXBoSGFuZGxlci5zaG91bGRSZW1vdmVDZWxsc0Zyb21QYXJlbnQ7dGhpcy5ncmFwaEhhbmRsZXIuc2hvdWxkUmVtb3ZlQ2VsbHNGcm9tUGFyZW50PWZ1bmN0aW9uKGEsYixlKXtyZXR1cm4gdGhpcy5ncmFwaC5pc0NlbGxTZWxlY3RlZChhKT8hMTpILmFwcGx5KHRoaXMsYXJndW1lbnRzKX07dGhpcy5pc0NlbGxMb2NrZWQ9ZnVuY3Rpb24oYSl7Zm9yKGE9dGhpcy52aWV3LmdldFN0YXRlKGEpO251bGwhPWE7KXtpZigiMSI9PW14VXRpbHMuZ2V0VmFsdWUoYS5zdHlsZSwibG9ja2VkIiwiMCIpKXJldHVybiEwO2E9dGhpcy52aWV3LmdldFN0YXRlKHRoaXMubW9kZWwuZ2V0UGFyZW50KGEuY2VsbCkpfXJldHVybiExfTt2YXIgSj1udWxsO3RoaXMuYWRkTGlzdGVuZXIobXhFdmVudC5GSVJFX01PVVNFX0VWRU5ULG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEsYil7aWYoIm1vdXNlRG93biI9PQpiLmdldFByb3BlcnR5KCJldmVudE5hbWUiKSl7dmFyIGU9Yi5nZXRQcm9wZXJ0eSgiZXZlbnQiKS5nZXRTdGF0ZSgpO0o9bnVsbD09ZXx8dGhpcy5pc1NlbGVjdGlvbkVtcHR5KCl8fHRoaXMuaXNDZWxsU2VsZWN0ZWQoZS5jZWxsKT9udWxsOnRoaXMuZ2V0U2VsZWN0aW9uQ2VsbHMoKX19KSk7dGhpcy5hZGRMaXN0ZW5lcihteEV2ZW50LlRBUF9BTkRfSE9MRCxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhLGIpe2lmKCFteEV2ZW50LmlzTXVsdGlUb3VjaEV2ZW50KGIpKXt2YXIgZT1iLmdldFByb3BlcnR5KCJldmVudCIpLGM9Yi5nZXRQcm9wZXJ0eSgiY2VsbCIpO251bGw9PWM/KGU9bXhVdGlscy5jb252ZXJ0UG9pbnQodGhpcy5jb250YWluZXIsbXhFdmVudC5nZXRDbGllbnRYKGUpLG14RXZlbnQuZ2V0Q2xpZW50WShlKSksdC5zdGFydChlLngsZS55KSk6bnVsbCE9Sj90aGlzLmFkZFNlbGVjdGlvbkNlbGxzKEopOjE8dGhpcy5nZXRTZWxlY3Rpb25Db3VudCgpJiZ0aGlzLmlzQ2VsbFNlbGVjdGVkKGMpJiYKdGhpcy5yZW1vdmVTZWxlY3Rpb25DZWxsKGMpO0o9bnVsbDtiLmNvbnN1bWUoKX19KSk7dGhpcy5jb25uZWN0aW9uSGFuZGxlci5zZWxlY3RDZWxscz1mdW5jdGlvbihhLGIpe3RoaXMuZ3JhcGguc2V0U2VsZWN0aW9uQ2VsbChifHxhKX07dGhpcy5jb25uZWN0aW9uSGFuZGxlci5jb25zdHJhaW50SGFuZGxlci5pc1N0YXRlSWdub3JlZD1mdW5jdGlvbihhLGIpe3ZhciBlPWEudmlldy5ncmFwaDtyZXR1cm4gYiYmKGUuaXNDZWxsU2VsZWN0ZWQoYS5jZWxsKXx8ZS5pc1RhYmxlUm93KGEuY2VsbCkmJmUuc2VsZWN0aW9uQ2VsbHNIYW5kbGVyLmlzSGFuZGxlZChlLm1vZGVsLmdldFBhcmVudChhLmNlbGwpKSl9O3RoaXMuc2VsZWN0aW9uTW9kZWwuYWRkTGlzdGVuZXIobXhFdmVudC5DSEFOR0UsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt2YXIgYT10aGlzLmNvbm5lY3Rpb25IYW5kbGVyLmNvbnN0cmFpbnRIYW5kbGVyO251bGwhPWEuY3VycmVudEZvY3VzJiZhLmlzU3RhdGVJZ25vcmVkKGEuY3VycmVudEZvY3VzLAohMCkmJihhLmN1cnJlbnRGb2N1cz1udWxsLGEuY29uc3RyYWludHM9bnVsbCxhLmRlc3Ryb3lJY29ucygpKTthLmRlc3Ryb3lGb2N1c0hpZ2hsaWdodCgpfSkpO0dyYXBoLnRvdWNoU3R5bGUmJnRoaXMuaW5pdFRvdWNoKCk7dmFyIHU9dGhpcy51cGRhdGVNb3VzZUV2ZW50O3RoaXMudXBkYXRlTW91c2VFdmVudD1mdW5jdGlvbihhKXthPXUuYXBwbHkodGhpcyxhcmd1bWVudHMpO251bGwhPWEuc3RhdGUmJnRoaXMuaXNDZWxsTG9ja2VkKGEuZ2V0Q2VsbCgpKSYmKGEuc3RhdGU9bnVsbCk7cmV0dXJuIGF9fXRoaXMuY3VycmVudFRyYW5zbGF0ZT1uZXcgbXhQb2ludCgwLDApfTtHcmFwaC50b3VjaFN0eWxlPW14Q2xpZW50LklTX1RPVUNIfHxteENsaWVudC5JU19GRiYmbXhDbGllbnQuSVNfV0lOfHwwPG5hdmlnYXRvci5tYXhUb3VjaFBvaW50c3x8MDxuYXZpZ2F0b3IubXNNYXhUb3VjaFBvaW50c3x8bnVsbD09d2luZG93LnVybFBhcmFtc3x8IjEiPT11cmxQYXJhbXMudG91Y2g7CkdyYXBoLmZpbGVTdXBwb3J0PW51bGwhPXdpbmRvdy5GaWxlJiZudWxsIT13aW5kb3cuRmlsZVJlYWRlciYmbnVsbCE9d2luZG93LkZpbGVMaXN0JiYobnVsbD09d2luZG93LnVybFBhcmFtc3x8IjAiIT11cmxQYXJhbXMuZmlsZXN1cHBvcnQpO0dyYXBoLmxpbmVKdW1wc0VuYWJsZWQ9ITA7R3JhcGguZGVmYXVsdEp1bXBTaXplPTY7R3JhcGgubWluVGFibGVDb2x1bW5XaWR0aD0yMDtHcmFwaC5taW5UYWJsZVJvd0hlaWdodD0yMDtHcmFwaC5mb3JlaWduT2JqZWN0V2FybmluZ1RleHQ9IlZpZXdlciBkb2VzIG5vdCBzdXBwb3J0IGZ1bGwgU1ZHIDEuMSI7R3JhcGguZm9yZWlnbk9iamVjdFdhcm5pbmdMaW5rPSJodHRwczovL2Rlc2suZHJhdy5pby9zdXBwb3J0L3NvbHV0aW9ucy9hcnRpY2xlcy8xNjAwMDA0MjQ4NyI7CkdyYXBoLmNyZWF0ZVN2Z0ltYWdlPWZ1bmN0aW9uKGEsZCxmLGMsbSl7Zj11bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoJzwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iJythKydweCIgaGVpZ2h0PSInK2QrJ3B4IiAnKyhudWxsIT1jJiZudWxsIT1tPyd2aWV3Qm94PSIwIDAgJytjKyIgIittKyciICc6IiIpKyd2ZXJzaW9uPSIxLjEiPicrZisiPC9zdmc+IikpO3JldHVybiBuZXcgbXhJbWFnZSgiZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCwiKyh3aW5kb3cuYnRvYT9idG9hKGYpOkJhc2U2NC5lbmNvZGUoZiwhMCkpLGEsZCl9OwpHcmFwaC56YXBHcmVtbGlucz1mdW5jdGlvbihhKXtmb3IodmFyIGQ9W10sZj0wO2Y8YS5sZW5ndGg7ZisrKXt2YXIgYz1hLmNoYXJDb2RlQXQoZik7KDMyPD1jfHw5PT1jfHwxMD09Y3x8MTM9PWMpJiY2NTUzNSE9YyYmNjU1MzQhPWMmJmQucHVzaChhLmNoYXJBdChmKSl9cmV0dXJuIGQuam9pbigiIil9O0dyYXBoLnN0cmluZ1RvQnl0ZXM9ZnVuY3Rpb24oYSl7Zm9yKHZhciBkPUFycmF5KGEubGVuZ3RoKSxmPTA7ZjxhLmxlbmd0aDtmKyspZFtmXT1hLmNoYXJDb2RlQXQoZik7cmV0dXJuIGR9O0dyYXBoLmJ5dGVzVG9TdHJpbmc9ZnVuY3Rpb24oYSl7Zm9yKHZhciBkPUFycmF5KGEubGVuZ3RoKSxmPTA7ZjxhLmxlbmd0aDtmKyspZFtmXT1TdHJpbmcuZnJvbUNoYXJDb2RlKGFbZl0pO3JldHVybiBkLmpvaW4oIiIpfTtHcmFwaC5jb21wcmVzc05vZGU9ZnVuY3Rpb24oYSxkKXt2YXIgZj1teFV0aWxzLmdldFhtbChhKTtyZXR1cm4gR3JhcGguY29tcHJlc3MoZD9mOkdyYXBoLnphcEdyZW1saW5zKGYpKX07CkdyYXBoLmNvbXByZXNzPWZ1bmN0aW9uKGEsZCl7aWYobnVsbD09YXx8MD09YS5sZW5ndGh8fCJ1bmRlZmluZWQiPT09dHlwZW9mIHBha28pcmV0dXJuIGE7dmFyIGY9ZD9wYWtvLmRlZmxhdGUoZW5jb2RlVVJJQ29tcG9uZW50KGEpLHt0bzoic3RyaW5nIn0pOnBha28uZGVmbGF0ZVJhdyhlbmNvZGVVUklDb21wb25lbnQoYSkse3RvOiJzdHJpbmcifSk7cmV0dXJuIHdpbmRvdy5idG9hP2J0b2EoZik6QmFzZTY0LmVuY29kZShmLCEwKX07R3JhcGguZGVjb21wcmVzcz1mdW5jdGlvbihhLGQsZil7aWYobnVsbD09YXx8MD09YS5sZW5ndGh8fCJ1bmRlZmluZWQiPT09dHlwZW9mIHBha28pcmV0dXJuIGE7YT13aW5kb3cuYXRvYj9hdG9iKGEpOkJhc2U2NC5kZWNvZGUoYSwhMCk7ZD1kZWNvZGVVUklDb21wb25lbnQoZD9wYWtvLmluZmxhdGUoYSx7dG86InN0cmluZyJ9KTpwYWtvLmluZmxhdGVSYXcoYSx7dG86InN0cmluZyJ9KSk7cmV0dXJuIGY/ZDpHcmFwaC56YXBHcmVtbGlucyhkKX07CkdyYXBoLnJlbW92ZVBhc3RlRm9ybWF0dGluZz1mdW5jdGlvbihhKXtmb3IoO251bGwhPWE7KW51bGwhPWEuZmlyc3RDaGlsZCYmR3JhcGgucmVtb3ZlUGFzdGVGb3JtYXR0aW5nKGEuZmlyc3RDaGlsZCksYS5ub2RlVHlwZT09bXhDb25zdGFudHMuTk9ERVRZUEVfRUxFTUVOVCYmbnVsbCE9YS5zdHlsZSYmKGEuc3R5bGUud2hpdGVTcGFjZT0iIiwiIzAwMDAwMCI9PWEuc3R5bGUuY29sb3ImJihhLnN0eWxlLmNvbG9yPSIiKSksYT1hLm5leHRTaWJsaW5nfTtHcmFwaC5zYW5pdGl6ZUh0bWw9ZnVuY3Rpb24oYSxkKXtyZXR1cm4gaHRtbF9zYW5pdGl6ZShhLGZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hJiYiamF2YXNjcmlwdDoiIT09YS50b1N0cmluZygpLnRvTG93ZXJDYXNlKCkuc3Vic3RyaW5nKDAsMTEpP2E6bnVsbH0sZnVuY3Rpb24oYSl7cmV0dXJuIGF9KX07R3JhcGguaXNMaW5rPWZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hJiZHcmFwaC5saW5rUGF0dGVybi50ZXN0KGEpfTsKR3JhcGgubGlua1BhdHRlcm49L14oaHR0cHM/OlwvXC8pPygoKFthLXpcZF0oW2EtelxkLV0qW2EtelxkXSkqKVwuKStbYS16XXsyLH18KChcZHsxLDN9XC4pezN9XGR7MSwzfSkpKFw6XGQrKT8oXC9bLWEtelxkJV8ufitdKikqKFw/WzsmYS16XGQlXy5+Kz0tXSopPyhcI1stYS16XGRfXSopPyQvaTtteFV0aWxzLmV4dGVuZChHcmFwaCxteEdyYXBoKTtHcmFwaC5wcm90b3R5cGUubWluRml0U2NhbGU9bnVsbDtHcmFwaC5wcm90b3R5cGUubWF4Rml0U2NhbGU9bnVsbDtHcmFwaC5wcm90b3R5cGUubGlua1BvbGljeT0iZnJhbWUiPT11cmxQYXJhbXMudGFyZ2V0PyJibGFuayI6dXJsUGFyYW1zLnRhcmdldHx8ImF1dG8iO0dyYXBoLnByb3RvdHlwZS5saW5rVGFyZ2V0PSJmcmFtZSI9PXVybFBhcmFtcy50YXJnZXQ/Il9zZWxmIjoiX2JsYW5rIjtHcmFwaC5wcm90b3R5cGUubGlua1JlbGF0aW9uPSJub2ZvbGxvdyBub29wZW5lciBub3JlZmVycmVyIjsKR3JhcGgucHJvdG90eXBlLmRlZmF1bHRTY3JvbGxiYXJzPSFteENsaWVudC5JU19JT1M7R3JhcGgucHJvdG90eXBlLmRlZmF1bHRQYWdlVmlzaWJsZT0hMDtHcmFwaC5wcm90b3R5cGUubGlnaHRib3g9ITE7R3JhcGgucHJvdG90eXBlLmRlZmF1bHRQYWdlQmFja2dyb3VuZENvbG9yPSIjZmZmZmZmIjtHcmFwaC5wcm90b3R5cGUuZGVmYXVsdFBhZ2VCb3JkZXJDb2xvcj0iI2ZmZmZmZiI7R3JhcGgucHJvdG90eXBlLnNjcm9sbFRpbGVTaXplPW5ldyBteFJlY3RhbmdsZSgwLDAsNDAwLDQwMCk7R3JhcGgucHJvdG90eXBlLnRyYW5zcGFyZW50QmFja2dyb3VuZD0hMDtHcmFwaC5wcm90b3R5cGUuc2VsZWN0UGFyZW50QWZ0ZXJEZWxldGU9ITE7R3JhcGgucHJvdG90eXBlLmRlZmF1bHRFZGdlTGVuZ3RoPTgwO0dyYXBoLnByb3RvdHlwZS5lZGdlTW9kZT0hMTtHcmFwaC5wcm90b3R5cGUuY29ubmVjdGlvbkFycm93c0VuYWJsZWQ9ITA7CkdyYXBoLnByb3RvdHlwZS5wbGFjZWhvbGRlclBhdHRlcm49UmVnRXhwKCIlKGRhdGV7Lip9fFteJV57Xn1dKyklIiwiZyIpO0dyYXBoLnByb3RvdHlwZS5hYnNvbHV0ZVVybFBhdHRlcm49L14oPzpbYS16XSs6KT9cL1wvL2k7R3JhcGgucHJvdG90eXBlLmRlZmF1bHRUaGVtZU5hbWU9ImRlZmF1bHQiO0dyYXBoLnByb3RvdHlwZS5kZWZhdWx0VGhlbWVzPXt9O0dyYXBoLnByb3RvdHlwZS5iYXNlVXJsPW51bGwhPXVybFBhcmFtcy5iYXNlP2RlY29kZVVSSUNvbXBvbmVudCh1cmxQYXJhbXMuYmFzZSk6KHdpbmRvdyE9d2luZG93LnRvcD9kb2N1bWVudC5yZWZlcnJlcjpkb2N1bWVudC5sb2NhdGlvbi50b1N0cmluZygpKS5zcGxpdCgiIyIpWzBdO0dyYXBoLnByb3RvdHlwZS5lZGl0QWZ0ZXJJbnNlcnQ9ITE7R3JhcGgucHJvdG90eXBlLmJ1aWx0SW5Qcm9wZXJ0aWVzPVsibGFiZWwiLCJ0b29sdGlwIiwicGxhY2Vob2xkZXJzIiwicGxhY2Vob2xkZXIiXTsKR3JhcGgucHJvdG90eXBlLnN0YW5kYWxvbmU9ITE7CkdyYXBoLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKGEpe214R3JhcGgucHJvdG90eXBlLmluaXQuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuY2VsbFJlbmRlcmVyLmluaXRpYWxpemVMYWJlbD1mdW5jdGlvbihhLGYpe214Q2VsbFJlbmRlcmVyLnByb3RvdHlwZS5pbml0aWFsaXplTGFiZWwuYXBwbHkodGhpcyxhcmd1bWVudHMpO3ZhciBjPWEudmlldy5ncmFwaC50b2xlcmFuY2UsZD0hMCxrPW51bGwscT1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXtkPSEwO2s9bmV3IG14UG9pbnQobXhFdmVudC5nZXRDbGllbnRYKGEpLG14RXZlbnQuZ2V0Q2xpZW50WShhKSl9KSxiPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe2Q9ZCYmbnVsbCE9ayYmTWF0aC5hYnMoay54LW14RXZlbnQuZ2V0Q2xpZW50WChhKSk8YyYmTWF0aC5hYnMoay55LW14RXZlbnQuZ2V0Q2xpZW50WShhKSk8Y30pLGU9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYil7aWYoZClmb3IodmFyIGU9bXhFdmVudC5nZXRTb3VyY2UoYik7bnVsbCE9CmUmJmUhPWYubm9kZTspe2lmKCJhIj09ZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKXthLnZpZXcuZ3JhcGgubGFiZWxMaW5rQ2xpY2tlZChhLGUsYik7YnJlYWt9ZT1lLnBhcmVudE5vZGV9fSk7bXhFdmVudC5hZGRHZXN0dXJlTGlzdGVuZXJzKGYubm9kZSxxLGIsZSk7bXhFdmVudC5hZGRMaXN0ZW5lcihmLm5vZGUsImNsaWNrIixmdW5jdGlvbihhKXtteEV2ZW50LmNvbnN1bWUoYSl9KX07dGhpcy5pbml0TGF5b3V0TWFuYWdlcigpfTsKKGZ1bmN0aW9uKCl7R3JhcGgucHJvdG90eXBlLnVzZUNzc1RyYW5zZm9ybXM9ITE7R3JhcGgucHJvdG90eXBlLmN1cnJlbnRTY2FsZT0xO0dyYXBoLnByb3RvdHlwZS5jdXJyZW50VHJhbnNsYXRlPW5ldyBteFBvaW50KDAsMCk7R3JhcGgucHJvdG90eXBlLmdldFN0YXJ0RWRpdGluZ0NlbGw9ZnVuY3Rpb24oYSxkKXt2YXIgYz10aGlzLmdldENlbGxTdHlsZShhKSxjPXBhcnNlSW50KG14VXRpbHMuZ2V0VmFsdWUoYyxteENvbnN0YW50cy5TVFlMRV9TVEFSVFNJWkUsMCkpO3RoaXMuaXNUYWJsZShhKSYmKCF0aGlzLmlzU3dpbWxhbmUoYSl8fDA9PWMpJiYiIj09dGhpcy5nZXRMYWJlbChhKSYmMDx0aGlzLm1vZGVsLmdldENoaWxkQ291bnQoYSkmJihhPXRoaXMubW9kZWwuZ2V0Q2hpbGRBdChhLDApLGM9dGhpcy5nZXRDZWxsU3R5bGUoYSksYz1wYXJzZUludChteFV0aWxzLmdldFZhbHVlKGMsbXhDb25zdGFudHMuU1RZTEVfU1RBUlRTSVpFLDApKSk7aWYodGhpcy5pc1RhYmxlUm93KGEpJiYKKCF0aGlzLmlzU3dpbWxhbmUoYSl8fDA9PWMpJiYiIj09dGhpcy5nZXRMYWJlbChhKSYmMDx0aGlzLm1vZGVsLmdldENoaWxkQ291bnQoYSkpZm9yKGM9MDtjPHRoaXMubW9kZWwuZ2V0Q2hpbGRDb3VudChhKTtjKyspe3ZhciBmPXRoaXMubW9kZWwuZ2V0Q2hpbGRBdChhLGMpO2lmKHRoaXMuaXNDZWxsRWRpdGFibGUoZikpe2E9ZjticmVha319cmV0dXJuIGF9O0dyYXBoLnByb3RvdHlwZS5pc0Zhc3Rab29tRW5hYmxlZD1mdW5jdGlvbigpe3JldHVybiJub2NzcyIhPXVybFBhcmFtcy56b29tJiYhbXhDbGllbnQuTk9fRk8mJiFteENsaWVudC5JU19FREdFJiYhdGhpcy51c2VDc3NUcmFuc2Zvcm1zJiZ0aGlzLmlzQ3NzVHJhbnNmb3Jtc1N1cHBvcnRlZCgpfTtHcmFwaC5wcm90b3R5cGUuaXNDc3NUcmFuc2Zvcm1zU3VwcG9ydGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGlhbGVjdD09bXhDb25zdGFudHMuRElBTEVDVF9TVkcmJiFteENsaWVudC5OT19GTyYmKCF0aGlzLmxpZ2h0Ym94fHwKIW14Q2xpZW50LklTX1NGKX07R3JhcGgucHJvdG90eXBlLmdldENlbGxBdD1mdW5jdGlvbihhLGQsZixxLGIsZSl7dGhpcy51c2VDc3NUcmFuc2Zvcm1zJiYoYT1hL3RoaXMuY3VycmVudFNjYWxlLXRoaXMuY3VycmVudFRyYW5zbGF0ZS54LGQ9ZC90aGlzLmN1cnJlbnRTY2FsZS10aGlzLmN1cnJlbnRUcmFuc2xhdGUueSk7cmV0dXJuIHRoaXMuZ2V0U2NhbGVkQ2VsbEF0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX07R3JhcGgucHJvdG90eXBlLmdldFNjYWxlZENlbGxBdD1mdW5jdGlvbihhLGQsZixxLGIsZSl7cT1udWxsIT1xP3E6ITA7Yj1udWxsIT1iP2I6ITA7bnVsbD09ZiYmKGY9dGhpcy5nZXRDdXJyZW50Um9vdCgpLG51bGw9PWYmJihmPXRoaXMuZ2V0TW9kZWwoKS5nZXRSb290KCkpKTtpZihudWxsIT1mKWZvcih2YXIgYz10aGlzLm1vZGVsLmdldENoaWxkQ291bnQoZiktMTswPD1jO2MtLSl7dmFyIHA9dGhpcy5tb2RlbC5nZXRDaGlsZEF0KGYsYyksbD10aGlzLmdldFNjYWxlZENlbGxBdChhLApkLHAscSxiLGUpO2lmKG51bGwhPWwpcmV0dXJuIGw7aWYodGhpcy5pc0NlbGxWaXNpYmxlKHApJiYoYiYmdGhpcy5tb2RlbC5pc0VkZ2UocCl8fHEmJnRoaXMubW9kZWwuaXNWZXJ0ZXgocCkpJiYobD10aGlzLnZpZXcuZ2V0U3RhdGUocCksbnVsbCE9bCYmKG51bGw9PWV8fCFlKGwsYSxkKSkmJnRoaXMuaW50ZXJzZWN0cyhsLGEsZCkpKXJldHVybiBwfXJldHVybiBudWxsfTtHcmFwaC5wcm90b3R5cGUuaXNSZWN1cnNpdmVWZXJ0ZXhSZXNpemU9ZnVuY3Rpb24oYSl7cmV0dXJuIXRoaXMuaXNTd2ltbGFuZShhLmNlbGwpJiYwPHRoaXMubW9kZWwuZ2V0Q2hpbGRDb3VudChhLmNlbGwpJiYhdGhpcy5pc0NlbGxDb2xsYXBzZWQoYS5jZWxsKSYmIjEiPT1teFV0aWxzLmdldFZhbHVlKGEuc3R5bGUsInJlY3Vyc2l2ZVJlc2l6ZSIsIjEiKSYmbnVsbD09bXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLCJjaGlsZExheW91dCIsbnVsbCl9O0dyYXBoLnByb3RvdHlwZS5pc1BhcnQ9ZnVuY3Rpb24oYSl7cmV0dXJuIjEiPT0KbXhVdGlscy5nZXRWYWx1ZSh0aGlzLmdldEN1cnJlbnRDZWxsU3R5bGUoYSksInBhcnQiLCIwIil8fHRoaXMuaXNUYWJsZUNlbGwoYSl8fHRoaXMuaXNUYWJsZVJvdyhhKX07R3JhcGgucHJvdG90eXBlLmdldENvbXBvc2l0ZVBhcmVudD1mdW5jdGlvbihhKXtmb3IoO3RoaXMuaXNQYXJ0KGEpOyl7dmFyIGM9dGhpcy5tb2RlbC5nZXRQYXJlbnQoYSk7aWYoIXRoaXMubW9kZWwuaXNWZXJ0ZXgoYykpYnJlYWs7YT1jfXJldHVybiBhfTtteENlbGxIaWdobGlnaHQucHJvdG90eXBlLmdldFN0cm9rZVdpZHRoPWZ1bmN0aW9uKGEpe2E9dGhpcy5zdHJva2VXaWR0aDt0aGlzLmdyYXBoLnVzZUNzc1RyYW5zZm9ybXMmJihhLz10aGlzLmdyYXBoLmN1cnJlbnRTY2FsZSk7cmV0dXJuIGF9O214R3JhcGhWaWV3LnByb3RvdHlwZS5nZXRHcmFwaEJvdW5kcz1mdW5jdGlvbigpe3ZhciBhPXRoaXMuZ3JhcGhCb3VuZHM7aWYodGhpcy5ncmFwaC51c2VDc3NUcmFuc2Zvcm1zKXZhciBkPXRoaXMuZ3JhcGguY3VycmVudFRyYW5zbGF0ZSwKZj10aGlzLmdyYXBoLmN1cnJlbnRTY2FsZSxhPW5ldyBteFJlY3RhbmdsZSgoYS54K2QueCkqZiwoYS55K2QueSkqZixhLndpZHRoKmYsYS5oZWlnaHQqZik7cmV0dXJuIGF9O214R3JhcGhWaWV3LnByb3RvdHlwZS52aWV3U3RhdGVDaGFuZ2VkPWZ1bmN0aW9uKCl7dGhpcy5ncmFwaC51c2VDc3NUcmFuc2Zvcm1zP3RoaXMudmFsaWRhdGUoKTp0aGlzLnJldmFsaWRhdGUoKTt0aGlzLmdyYXBoLnNpemVEaWRDaGFuZ2UoKX07dmFyIGE9bXhHcmFwaFZpZXcucHJvdG90eXBlLnZhbGlkYXRlO214R3JhcGhWaWV3LnByb3RvdHlwZS52YWxpZGF0ZT1mdW5jdGlvbihjKXt0aGlzLmdyYXBoLnVzZUNzc1RyYW5zZm9ybXMmJih0aGlzLmdyYXBoLmN1cnJlbnRTY2FsZT10aGlzLnNjYWxlLHRoaXMuZ3JhcGguY3VycmVudFRyYW5zbGF0ZS54PXRoaXMudHJhbnNsYXRlLngsdGhpcy5ncmFwaC5jdXJyZW50VHJhbnNsYXRlLnk9dGhpcy50cmFuc2xhdGUueSx0aGlzLnNjYWxlPTEsdGhpcy50cmFuc2xhdGUueD0KMCx0aGlzLnRyYW5zbGF0ZS55PTApO2EuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuZ3JhcGgudXNlQ3NzVHJhbnNmb3JtcyYmKHRoaXMuZ3JhcGgudXBkYXRlQ3NzVHJhbnNmb3JtKCksdGhpcy5zY2FsZT10aGlzLmdyYXBoLmN1cnJlbnRTY2FsZSx0aGlzLnRyYW5zbGF0ZS54PXRoaXMuZ3JhcGguY3VycmVudFRyYW5zbGF0ZS54LHRoaXMudHJhbnNsYXRlLnk9dGhpcy5ncmFwaC5jdXJyZW50VHJhbnNsYXRlLnkpfTtHcmFwaC5wcm90b3R5cGUudXBkYXRlQ3NzVHJhbnNmb3JtPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy52aWV3LmdldERyYXdQYW5lKCk7aWYobnVsbCE9YSlpZihhPWEucGFyZW50Tm9kZSx0aGlzLnVzZUNzc1RyYW5zZm9ybXMpe3ZhciBkPWEuZ2V0QXR0cmlidXRlKCJ0cmFuc2Zvcm0iKTthLnNldEF0dHJpYnV0ZSgidHJhbnNmb3JtT3JpZ2luIiwiMCAwIik7dmFyIGY9TWF0aC5yb3VuZCgxMDAqdGhpcy5jdXJyZW50U2NhbGUpLzEwMDthLnNldEF0dHJpYnV0ZSgidHJhbnNmb3JtIiwKInNjYWxlKCIrZisiLCIrZisiKXRyYW5zbGF0ZSgiK01hdGgucm91bmQoMTAwKnRoaXMuY3VycmVudFRyYW5zbGF0ZS54KS8xMDArIiwiK01hdGgucm91bmQoMTAwKnRoaXMuY3VycmVudFRyYW5zbGF0ZS55KS8xMDArIikiKTtpZihkIT1hLmdldEF0dHJpYnV0ZSgidHJhbnNmb3JtIikpdHJ5e2lmKG14Q2xpZW50LklTX0VER0Upe3ZhciBxPWEuc3R5bGUuZGlzcGxheTthLnN0eWxlLmRpc3BsYXk9Im5vbmUiO2EuZ2V0QkJveCgpO2Euc3R5bGUuZGlzcGxheT1xfX1jYXRjaChiKXt9fWVsc2UgYS5yZW1vdmVBdHRyaWJ1dGUoInRyYW5zZm9ybU9yaWdpbiIpLGEucmVtb3ZlQXR0cmlidXRlKCJ0cmFuc2Zvcm0iKX07dmFyIGQ9bXhHcmFwaFZpZXcucHJvdG90eXBlLnZhbGlkYXRlQmFja2dyb3VuZFBhZ2U7bXhHcmFwaFZpZXcucHJvdG90eXBlLnZhbGlkYXRlQmFja2dyb3VuZFBhZ2U9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdyYXBoLnVzZUNzc1RyYW5zZm9ybXMsZj10aGlzLnNjYWxlLAprPXRoaXMudHJhbnNsYXRlO2EmJih0aGlzLnNjYWxlPXRoaXMuZ3JhcGguY3VycmVudFNjYWxlLHRoaXMudHJhbnNsYXRlPXRoaXMuZ3JhcGguY3VycmVudFRyYW5zbGF0ZSk7ZC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7YSYmKHRoaXMuc2NhbGU9Zix0aGlzLnRyYW5zbGF0ZT1rKX07dmFyIGY9bXhHcmFwaC5wcm90b3R5cGUudXBkYXRlUGFnZUJyZWFrcztteEdyYXBoLnByb3RvdHlwZS51cGRhdGVQYWdlQnJlYWtzPWZ1bmN0aW9uKGEsZCxrKXt2YXIgYz10aGlzLnVzZUNzc1RyYW5zZm9ybXMsYj10aGlzLnZpZXcuc2NhbGUsZT10aGlzLnZpZXcudHJhbnNsYXRlO2MmJih0aGlzLnZpZXcuc2NhbGU9MSx0aGlzLnZpZXcudHJhbnNsYXRlPW5ldyBteFBvaW50KDAsMCksdGhpcy51c2VDc3NUcmFuc2Zvcm1zPSExKTtmLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtjJiYodGhpcy52aWV3LnNjYWxlPWIsdGhpcy52aWV3LnRyYW5zbGF0ZT1lLHRoaXMudXNlQ3NzVHJhbnNmb3Jtcz0hMCl9fSkoKTsKR3JhcGgucHJvdG90eXBlLmlzTGlnaHRib3hWaWV3PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGlnaHRib3h9O0dyYXBoLnByb3RvdHlwZS5pc1ZpZXdlcj1mdW5jdGlvbigpe3JldHVybiExfTtHcmFwaC5wcm90b3R5cGUubGFiZWxMaW5rQ2xpY2tlZD1mdW5jdGlvbihhLGQsZil7ZD1kLmdldEF0dHJpYnV0ZSgiaHJlZiIpO2lmKG51bGwhPWQmJiF0aGlzLmlzQ3VzdG9tTGluayhkKSYmbXhFdmVudC5pc0xlZnRNb3VzZUJ1dHRvbihmKSYmIW14RXZlbnQuaXNQb3B1cFRyaWdnZXIoZil8fG14RXZlbnQuaXNUb3VjaEV2ZW50KGYpKXtpZighdGhpcy5pc0VuYWJsZWQoKXx8dGhpcy5pc0NlbGxMb2NrZWQoYS5jZWxsKSlhPXRoaXMuaXNCbGFua0xpbmsoZCk/dGhpcy5saW5rVGFyZ2V0OiJfdG9wIix0aGlzLm9wZW5MaW5rKHRoaXMuZ2V0QWJzb2x1dGVVcmwoZCksYSk7bXhFdmVudC5jb25zdW1lKGYpfX07CkdyYXBoLnByb3RvdHlwZS5vcGVuTGluaz1mdW5jdGlvbihhLGQsZil7dmFyIGM9d2luZG93O3RyeXtpZigiX3NlbGYiPT1kJiZ3aW5kb3chPXdpbmRvdy50b3Apd2luZG93LmxvY2F0aW9uLmhyZWY9YTtlbHNlIGlmKGEuc3Vic3RyaW5nKDAsdGhpcy5iYXNlVXJsLmxlbmd0aCk9PXRoaXMuYmFzZVVybCYmIiMiPT1hLmNoYXJBdCh0aGlzLmJhc2VVcmwubGVuZ3RoKSYmIl90b3AiPT1kJiZ3aW5kb3c9PXdpbmRvdy50b3Ape3ZhciBtPWEuc3BsaXQoIiMiKVsxXTt3aW5kb3cubG9jYXRpb24uaGFzaD09IiMiK20mJih3aW5kb3cubG9jYXRpb24uaGFzaD0iIik7d2luZG93LmxvY2F0aW9uLmhhc2g9bX1lbHNlIGM9d2luZG93Lm9wZW4oYSxudWxsIT1kP2Q6Il9ibGFuayIpLG51bGw9PWN8fGZ8fChjLm9wZW5lcj1udWxsKX1jYXRjaChrKXt9cmV0dXJuIGN9OwpHcmFwaC5wcm90b3R5cGUuZ2V0TGlua1RpdGxlPWZ1bmN0aW9uKGEpe3JldHVybiBhLnN1YnN0cmluZyhhLmxhc3RJbmRleE9mKCIvIikrMSl9O0dyYXBoLnByb3RvdHlwZS5pc0N1c3RvbUxpbms9ZnVuY3Rpb24oYSl7cmV0dXJuImRhdGE6Ij09YS5zdWJzdHJpbmcoMCw1KX07R3JhcGgucHJvdG90eXBlLmN1c3RvbUxpbmtDbGlja2VkPWZ1bmN0aW9uKGEpe3JldHVybiExfTtHcmFwaC5wcm90b3R5cGUuaXNFeHRlcm5hbFByb3RvY29sPWZ1bmN0aW9uKGEpe3JldHVybiJtYWlsdG86Ij09PWEuc3Vic3RyaW5nKDAsNyl9O0dyYXBoLnByb3RvdHlwZS5pc0JsYW5rTGluaz1mdW5jdGlvbihhKXtyZXR1cm4hdGhpcy5pc0V4dGVybmFsUHJvdG9jb2woYSkmJigiYmxhbmsiPT09dGhpcy5saW5rUG9saWN5fHwic2VsZiIhPT10aGlzLmxpbmtQb2xpY3kmJiF0aGlzLmlzUmVsYXRpdmVVcmwoYSkmJmEuc3Vic3RyaW5nKDAsdGhpcy5kb21haW5VcmwubGVuZ3RoKSE9PXRoaXMuZG9tYWluVXJsKX07CkdyYXBoLnByb3RvdHlwZS5pc1JlbGF0aXZlVXJsPWZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hJiYhdGhpcy5hYnNvbHV0ZVVybFBhdHRlcm4udGVzdChhKSYmImRhdGE6IiE9PWEuc3Vic3RyaW5nKDAsNSkmJiF0aGlzLmlzRXh0ZXJuYWxQcm90b2NvbChhKX07R3JhcGgucHJvdG90eXBlLmdldEFic29sdXRlVXJsPWZ1bmN0aW9uKGEpe251bGwhPWEmJnRoaXMuaXNSZWxhdGl2ZVVybChhKSYmKGE9IiMiPT1hLmNoYXJBdCgwKT90aGlzLmJhc2VVcmwrYToiLyI9PWEuY2hhckF0KDApP3RoaXMuZG9tYWluVXJsK2E6dGhpcy5kb21haW5QYXRoVXJsK2EpO3JldHVybiBhfTsKR3JhcGgucHJvdG90eXBlLmluaXRMYXlvdXRNYW5hZ2VyPWZ1bmN0aW9uKCl7dGhpcy5sYXlvdXRNYW5hZ2VyPW5ldyBteExheW91dE1hbmFnZXIodGhpcyk7dGhpcy5sYXlvdXRNYW5hZ2VyLmhhc0xheW91dD1mdW5jdGlvbihhLGQpe3JldHVybiBudWxsIT10aGlzLmdyYXBoLmdldENlbGxTdHlsZShhKS5jaGlsZExheW91dH07dGhpcy5sYXlvdXRNYW5hZ2VyLmdldExheW91dD1mdW5jdGlvbihhLGQpe3ZhciBmPXRoaXMuZ3JhcGgubW9kZWwuZ2V0UGFyZW50KGEpO2lmKGQhPW14RXZlbnQuQkVHSU5fVVBEQVRFfHx0aGlzLmhhc0xheW91dChmLGQpKXtmPXRoaXMuZ3JhcGguZ2V0Q2VsbFN0eWxlKGEpO2lmKCJzdGFja0xheW91dCI9PWYuY2hpbGRMYXlvdXQpe3ZhciBjPW5ldyBteFN0YWNrTGF5b3V0KHRoaXMuZ3JhcGgsITApO2MucmVzaXplUGFyZW50TWF4PSIxIj09bXhVdGlscy5nZXRWYWx1ZShmLCJyZXNpemVQYXJlbnRNYXgiLCIxIik7Yy5ob3Jpem9udGFsPSIxIj09bXhVdGlscy5nZXRWYWx1ZShmLAoiaG9yaXpvbnRhbFN0YWNrIiwiMSIpO2MucmVzaXplUGFyZW50PSIxIj09bXhVdGlscy5nZXRWYWx1ZShmLCJyZXNpemVQYXJlbnQiLCIxIik7Yy5yZXNpemVMYXN0PSIxIj09bXhVdGlscy5nZXRWYWx1ZShmLCJyZXNpemVMYXN0IiwiMCIpO2Muc3BhY2luZz1mLnN0YWNrU3BhY2luZ3x8Yy5zcGFjaW5nO2MuYm9yZGVyPWYuc3RhY2tCb3JkZXJ8fGMuYm9yZGVyO2MubWFyZ2luTGVmdD1mLm1hcmdpbkxlZnR8fDA7Yy5tYXJnaW5SaWdodD1mLm1hcmdpblJpZ2h0fHwwO2MubWFyZ2luVG9wPWYubWFyZ2luVG9wfHwwO2MubWFyZ2luQm90dG9tPWYubWFyZ2luQm90dG9tfHwwO2MuZmlsbD0hMDtyZXR1cm4gY31pZigidHJlZUxheW91dCI9PWYuY2hpbGRMYXlvdXQpcmV0dXJuIGM9bmV3IG14Q29tcGFjdFRyZWVMYXlvdXQodGhpcy5ncmFwaCksYy5ob3Jpem9udGFsPSIxIj09bXhVdGlscy5nZXRWYWx1ZShmLCJob3Jpem9udGFsVHJlZSIsIjEiKSxjLnJlc2l6ZVBhcmVudD0iMSI9PW14VXRpbHMuZ2V0VmFsdWUoZiwKInJlc2l6ZVBhcmVudCIsIjEiKSxjLmdyb3VwUGFkZGluZz1teFV0aWxzLmdldFZhbHVlKGYsInBhcmVudFBhZGRpbmciLDIwKSxjLmxldmVsRGlzdGFuY2U9bXhVdGlscy5nZXRWYWx1ZShmLCJ0cmVlTGV2ZWxEaXN0YW5jZSIsMzApLGMubWFpbnRhaW5QYXJlbnRMb2NhdGlvbj0hMCxjLmVkZ2VSb3V0aW5nPSExLGMucmVzZXRFZGdlcz0hMSxjO2lmKCJmbG93TGF5b3V0Ij09Zi5jaGlsZExheW91dClyZXR1cm4gYz1uZXcgbXhIaWVyYXJjaGljYWxMYXlvdXQodGhpcy5ncmFwaCxteFV0aWxzLmdldFZhbHVlKGYsImZsb3dPcmllbnRhdGlvbiIsbXhDb25zdGFudHMuRElSRUNUSU9OX0VBU1QpKSxjLnJlc2l6ZVBhcmVudD0iMSI9PW14VXRpbHMuZ2V0VmFsdWUoZiwicmVzaXplUGFyZW50IiwiMSIpLGMucGFyZW50Qm9yZGVyPW14VXRpbHMuZ2V0VmFsdWUoZiwicGFyZW50UGFkZGluZyIsMjApLGMubWFpbnRhaW5QYXJlbnRMb2NhdGlvbj0hMCxjLmludHJhQ2VsbFNwYWNpbmc9bXhVdGlscy5nZXRWYWx1ZShmLAoiaW50cmFDZWxsU3BhY2luZyIsbXhIaWVyYXJjaGljYWxMYXlvdXQucHJvdG90eXBlLmludHJhQ2VsbFNwYWNpbmcpLGMuaW50ZXJSYW5rQ2VsbFNwYWNpbmc9bXhVdGlscy5nZXRWYWx1ZShmLCJpbnRlclJhbmtDZWxsU3BhY2luZyIsbXhIaWVyYXJjaGljYWxMYXlvdXQucHJvdG90eXBlLmludGVyUmFua0NlbGxTcGFjaW5nKSxjLmludGVySGllcmFyY2h5U3BhY2luZz1teFV0aWxzLmdldFZhbHVlKGYsImludGVySGllcmFyY2h5U3BhY2luZyIsbXhIaWVyYXJjaGljYWxMYXlvdXQucHJvdG90eXBlLmludGVySGllcmFyY2h5U3BhY2luZyksYy5wYXJhbGxlbEVkZ2VTcGFjaW5nPW14VXRpbHMuZ2V0VmFsdWUoZiwicGFyYWxsZWxFZGdlU3BhY2luZyIsbXhIaWVyYXJjaGljYWxMYXlvdXQucHJvdG90eXBlLnBhcmFsbGVsRWRnZVNwYWNpbmcpLGM7aWYoImNpcmNsZUxheW91dCI9PWYuY2hpbGRMYXlvdXQpcmV0dXJuIG5ldyBteENpcmNsZUxheW91dCh0aGlzLmdyYXBoKTtpZigib3JnYW5pY0xheW91dCI9PQpmLmNoaWxkTGF5b3V0KXJldHVybiBuZXcgbXhGYXN0T3JnYW5pY0xheW91dCh0aGlzLmdyYXBoKTtpZigidGFibGVMYXlvdXQiPT1mLmNoaWxkTGF5b3V0KXJldHVybiBuZXcgVGFibGVMYXlvdXQodGhpcy5ncmFwaCl9cmV0dXJuIG51bGx9fTtHcmFwaC5wcm90b3R5cGUuZ2V0UGFnZVNpemU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYWdlVmlzaWJsZT9uZXcgbXhSZWN0YW5nbGUoMCwwLHRoaXMucGFnZUZvcm1hdC53aWR0aCp0aGlzLnBhZ2VTY2FsZSx0aGlzLnBhZ2VGb3JtYXQuaGVpZ2h0KnRoaXMucGFnZVNjYWxlKTp0aGlzLnNjcm9sbFRpbGVTaXplfTsKR3JhcGgucHJvdG90eXBlLmdldFBhZ2VMYXlvdXQ9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldFBhZ2VTaXplKCksZD10aGlzLmdldEdyYXBoQm91bmRzKCk7aWYoMD09ZC53aWR0aHx8MD09ZC5oZWlnaHQpcmV0dXJuIG5ldyBteFJlY3RhbmdsZSgwLDAsMSwxKTt2YXIgZj1NYXRoLmZsb29yKE1hdGguY2VpbChkLngvdGhpcy52aWV3LnNjYWxlLXRoaXMudmlldy50cmFuc2xhdGUueCkvYS53aWR0aCksYz1NYXRoLmZsb29yKE1hdGguY2VpbChkLnkvdGhpcy52aWV3LnNjYWxlLXRoaXMudmlldy50cmFuc2xhdGUueSkvYS5oZWlnaHQpO3JldHVybiBuZXcgbXhSZWN0YW5nbGUoZixjLE1hdGguY2VpbCgoTWF0aC5mbG9vcigoZC54K2Qud2lkdGgpL3RoaXMudmlldy5zY2FsZSktdGhpcy52aWV3LnRyYW5zbGF0ZS54KS9hLndpZHRoKS1mLE1hdGguY2VpbCgoTWF0aC5mbG9vcigoZC55K2QuaGVpZ2h0KS90aGlzLnZpZXcuc2NhbGUpLXRoaXMudmlldy50cmFuc2xhdGUueSkvYS5oZWlnaHQpLQpjKX07R3JhcGgucHJvdG90eXBlLnNhbml0aXplSHRtbD1mdW5jdGlvbihhLGQpe3JldHVybiBHcmFwaC5zYW5pdGl6ZUh0bWwoYSxkKX07R3JhcGgucHJvdG90eXBlLnVwZGF0ZVBsYWNlaG9sZGVycz1mdW5jdGlvbigpe3ZhciBhPSExLGQ7Zm9yKGQgaW4gdGhpcy5tb2RlbC5jZWxscyl7dmFyIGY9dGhpcy5tb2RlbC5jZWxsc1tkXTt0aGlzLmlzUmVwbGFjZVBsYWNlaG9sZGVycyhmKSYmKHRoaXMudmlldy5pbnZhbGlkYXRlKGYsITEsITEpLGE9ITApfWEmJnRoaXMudmlldy52YWxpZGF0ZSgpfTtHcmFwaC5wcm90b3R5cGUuaXNSZXBsYWNlUGxhY2Vob2xkZXJzPWZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hLnZhbHVlJiYib2JqZWN0Ij09dHlwZW9mIGEudmFsdWUmJiIxIj09YS52YWx1ZS5nZXRBdHRyaWJ1dGUoInBsYWNlaG9sZGVycyIpfTsKR3JhcGgucHJvdG90eXBlLmlzWm9vbVdoZWVsRXZlbnQ9ZnVuY3Rpb24oYSl7cmV0dXJuIG14RXZlbnQuaXNBbHREb3duKGEpfHxteEV2ZW50LmlzTWV0YURvd24oYSkmJm14Q2xpZW50LklTX01BQ3x8bXhFdmVudC5pc0NvbnRyb2xEb3duKGEpfTtHcmFwaC5wcm90b3R5cGUuaXNTY3JvbGxXaGVlbEV2ZW50PWZ1bmN0aW9uKGEpe3JldHVybiF0aGlzLmlzWm9vbVdoZWVsRXZlbnQoYSl9O0dyYXBoLnByb3RvdHlwZS5pc1RyYW5zcGFyZW50Q2xpY2tFdmVudD1mdW5jdGlvbihhKXtyZXR1cm4gbXhFdmVudC5pc0FsdERvd24oYSl8fG14Q2xpZW50LklTX0NIUk9NRU9TJiZteEV2ZW50LmlzU2hpZnREb3duKGEpfTtHcmFwaC5wcm90b3R5cGUuaXNJZ25vcmVUZXJtaW5hbEV2ZW50PWZ1bmN0aW9uKGEpe3JldHVybiBteEV2ZW50LmlzU2hpZnREb3duKGEpJiZteEV2ZW50LmlzQ29udHJvbERvd24oYSl9OwpHcmFwaC5wcm90b3R5cGUuaXNTcGxpdFRhcmdldD1mdW5jdGlvbihhLGQsZil7cmV0dXJuIXRoaXMubW9kZWwuaXNFZGdlKGRbMF0pJiYhbXhFdmVudC5pc0FsdERvd24oZikmJiFteEV2ZW50LmlzU2hpZnREb3duKGYpJiZteEdyYXBoLnByb3RvdHlwZS5pc1NwbGl0VGFyZ2V0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX07R3JhcGgucHJvdG90eXBlLmdldExhYmVsPWZ1bmN0aW9uKGEpe3ZhciBkPW14R3JhcGgucHJvdG90eXBlLmdldExhYmVsLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtudWxsIT1kJiZ0aGlzLmlzUmVwbGFjZVBsYWNlaG9sZGVycyhhKSYmbnVsbD09YS5nZXRBdHRyaWJ1dGUoInBsYWNlaG9sZGVyIikmJihkPXRoaXMucmVwbGFjZVBsYWNlaG9sZGVycyhhLGQpKTtyZXR1cm4gZH07CkdyYXBoLnByb3RvdHlwZS5pc0xhYmVsTW92YWJsZT1mdW5jdGlvbihhKXt2YXIgZD10aGlzLmdldEN1cnJlbnRDZWxsU3R5bGUoYSk7cmV0dXJuIXRoaXMuaXNDZWxsTG9ja2VkKGEpJiYodGhpcy5tb2RlbC5pc0VkZ2UoYSkmJnRoaXMuZWRnZUxhYmVsc01vdmFibGV8fHRoaXMubW9kZWwuaXNWZXJ0ZXgoYSkmJih0aGlzLnZlcnRleExhYmVsc01vdmFibGV8fCIxIj09bXhVdGlscy5nZXRWYWx1ZShkLCJsYWJlbE1vdmFibGUiLCIwIikpKX07R3JhcGgucHJvdG90eXBlLnNldEdyaWRTaXplPWZ1bmN0aW9uKGEpe3RoaXMuZ3JpZFNpemU9YTt0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdCgiZ3JpZFNpemVDaGFuZ2VkIikpfTsKR3JhcGgucHJvdG90eXBlLmdldENsaWNrYWJsZUxpbmtGb3JDZWxsPWZ1bmN0aW9uKGEpe2Rve3ZhciBkPXRoaXMuZ2V0TGlua0ZvckNlbGwoYSk7aWYobnVsbCE9ZClyZXR1cm4gZDthPXRoaXMubW9kZWwuZ2V0UGFyZW50KGEpfXdoaWxlKG51bGwhPWEpO3JldHVybiBudWxsfTtHcmFwaC5wcm90b3R5cGUuZ2V0R2xvYmFsVmFyaWFibGU9ZnVuY3Rpb24oYSl7dmFyIGQ9bnVsbDsiZGF0ZSI9PWE/ZD0obmV3IERhdGUpLnRvTG9jYWxlRGF0ZVN0cmluZygpOiJ0aW1lIj09YT9kPShuZXcgRGF0ZSkudG9Mb2NhbGVUaW1lU3RyaW5nKCk6InRpbWVzdGFtcCI9PWE/ZD0obmV3IERhdGUpLnRvTG9jYWxlU3RyaW5nKCk6ImRhdGV7Ij09YS5zdWJzdHJpbmcoMCw1KSYmKGE9YS5zdWJzdHJpbmcoNSxhLmxlbmd0aC0xKSxkPXRoaXMuZm9ybWF0RGF0ZShuZXcgRGF0ZSxhKSk7cmV0dXJuIGR9OwpHcmFwaC5wcm90b3R5cGUuZm9ybWF0RGF0ZT1mdW5jdGlvbihhLGQsZil7bnVsbD09dGhpcy5kYXRlRm9ybWF0Q2FjaGUmJih0aGlzLmRhdGVGb3JtYXRDYWNoZT17aTE4bjp7ZGF5TmFtZXM6IlN1biBNb24gVHVlIFdlZCBUaHUgRnJpIFNhdCBTdW5kYXkgTW9uZGF5IFR1ZXNkYXkgV2VkbmVzZGF5IFRodXJzZGF5IEZyaWRheSBTYXR1cmRheSIuc3BsaXQoIiAiKSxtb250aE5hbWVzOiJKYW4gRmViIE1hciBBcHIgTWF5IEp1biBKdWwgQXVnIFNlcCBPY3QgTm92IERlYyBKYW51YXJ5IEZlYnJ1YXJ5IE1hcmNoIEFwcmlsIE1heSBKdW5lIEp1bHkgQXVndXN0IFNlcHRlbWJlciBPY3RvYmVyIE5vdmVtYmVyIERlY2VtYmVyIi5zcGxpdCgiICIpfSxtYXNrczp7ImRlZmF1bHQiOiJkZGQgbW1tIGRkIHl5eXkgSEg6TU06c3MiLHNob3J0RGF0ZToibS9kL3l5IixtZWRpdW1EYXRlOiJtbW0gZCwgeXl5eSIsbG9uZ0RhdGU6Im1tbW0gZCwgeXl5eSIsZnVsbERhdGU6ImRkZGQsIG1tbW0gZCwgeXl5eSIsCnNob3J0VGltZToiaDpNTSBUVCIsbWVkaXVtVGltZToiaDpNTTpzcyBUVCIsbG9uZ1RpbWU6Img6TU06c3MgVFQgWiIsaXNvRGF0ZToieXl5eS1tbS1kZCIsaXNvVGltZToiSEg6TU06c3MiLGlzb0RhdGVUaW1lOiJ5eXl5LW1tLWRkJ1QnSEg6TU06c3MiLGlzb1V0Y0RhdGVUaW1lOiJVVEM6eXl5eS1tbS1kZCdUJ0hIOk1NOnNzJ1onIn19KTt2YXIgYz10aGlzLmRhdGVGb3JtYXRDYWNoZSxtPS9cYig/OltQTUNFQV1bU0RQXVR8KD86UGFjaWZpY3xNb3VudGFpbnxDZW50cmFsfEVhc3Rlcm58QXRsYW50aWMpICg/OlN0YW5kYXJkfERheWxpZ2h0fFByZXZhaWxpbmcpIFRpbWV8KD86R01UfFVUQykoPzpbLStdXGR7NH0pPylcYi9nLGs9L1teLStcZEEtWl0vZyxxPWZ1bmN0aW9uKGEsYil7YT1TdHJpbmcoYSk7Zm9yKGI9Ynx8MjthLmxlbmd0aDxiOylhPSIwIithO3JldHVybiBhfTsxIT1hcmd1bWVudHMubGVuZ3RofHwiW29iamVjdCBTdHJpbmddIiE9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGEpfHwKL1xkLy50ZXN0KGEpfHwoZD1hLGE9dm9pZCAwKTthPWE/bmV3IERhdGUoYSk6bmV3IERhdGU7aWYoaXNOYU4oYSkpdGhyb3cgU3ludGF4RXJyb3IoImludmFsaWQgZGF0ZSIpO2Q9U3RyaW5nKGMubWFza3NbZF18fGR8fGMubWFza3NbImRlZmF1bHQiXSk7IlVUQzoiPT1kLnNsaWNlKDAsNCkmJihkPWQuc2xpY2UoNCksZj0hMCk7dmFyIGI9Zj8iZ2V0VVRDIjoiZ2V0IixlPWFbYisiRGF0ZSJdKCksZz1hW2IrIkRheSJdKCkscD1hW2IrIk1vbnRoIl0oKSxsPWFbYisiRnVsbFllYXIiXSgpLG49YVtiKyJIb3VycyJdKCksdj1hW2IrIk1pbnV0ZXMiXSgpLHQ9YVtiKyJTZWNvbmRzIl0oKSxiPWFbYisiTWlsbGlzZWNvbmRzIl0oKSx5PWY/MDphLmdldFRpbWV6b25lT2Zmc2V0KCkseD17ZDplLGRkOnEoZSksZGRkOmMuaTE4bi5kYXlOYW1lc1tnXSxkZGRkOmMuaTE4bi5kYXlOYW1lc1tnKzddLG06cCsxLG1tOnEocCsxKSxtbW06Yy5pMThuLm1vbnRoTmFtZXNbcF0sbW1tbTpjLmkxOG4ubW9udGhOYW1lc1twKwoxMl0seXk6U3RyaW5nKGwpLnNsaWNlKDIpLHl5eXk6bCxoOm4lMTJ8fDEyLGhoOnEobiUxMnx8MTIpLEg6bixISDpxKG4pLE06dixNTTpxKHYpLHM6dCxzczpxKHQpLGw6cShiLDMpLEw6cSg5OTxiP01hdGgucm91bmQoYi8xMCk6YiksdDoxMj5uPyJhIjoicCIsdHQ6MTI+bj8iYW0iOiJwbSIsVDoxMj5uPyJBIjoiUCIsVFQ6MTI+bj8iQU0iOiJQTSIsWjpmPyJVVEMiOihTdHJpbmcoYSkubWF0Y2gobSl8fFsiIl0pLnBvcCgpLnJlcGxhY2UoaywiIiksbzooMDx5PyItIjoiKyIpK3EoMTAwKk1hdGguZmxvb3IoTWF0aC5hYnMoeSkvNjApK01hdGguYWJzKHkpJTYwLDQpLFM6WyJ0aCIsInN0IiwibmQiLCJyZCJdWzM8ZSUxMD8wOigxMCE9ZSUxMDAtZSUxMCkqZSUxMF19O3JldHVybiBkLnJlcGxhY2UoL2R7MSw0fXxtezEsNH18eXkoPzp5eSk/fChbSGhNc1R0XSlcMT98W0xsb1NaXXwiW14iXSoifCdbXiddKicvZyxmdW5jdGlvbihhKXtyZXR1cm4gYSBpbiB4P3hbYV06YS5zbGljZSgxLAphLmxlbmd0aC0xKX0pfTsKR3JhcGgucHJvdG90eXBlLmNyZWF0ZUxheWVyc0RpYWxvZz1mdW5jdGlvbigpe3ZhciBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2Euc3R5bGUucG9zaXRpb249ImFic29sdXRlIjtmb3IodmFyIGQ9dGhpcy5nZXRNb2RlbCgpLGY9ZC5nZXRDaGlsZENvdW50KGQucm9vdCksYz0wO2M8ZjtjKyspbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYyl7dmFyIGY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7Zi5zdHlsZS5vdmVyZmxvdz0iaGlkZGVuIjtmLnN0eWxlLnRleHRPdmVyZmxvdz0iZWxsaXBzaXMiO2Yuc3R5bGUucGFkZGluZz0iMnB4IjtmLnN0eWxlLndoaXRlU3BhY2U9Im5vd3JhcCI7dmFyIG09ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTttLnN0eWxlLmRpc3BsYXk9ImlubGluZS1ibG9jayI7bS5zZXRBdHRyaWJ1dGUoInR5cGUiLCJjaGVja2JveCIpO2QuaXNWaXNpYmxlKGMpJiYobS5zZXRBdHRyaWJ1dGUoImNoZWNrZWQiLCJjaGVja2VkIiksCm0uZGVmYXVsdENoZWNrZWQ9ITApO2YuYXBwZW5kQ2hpbGQobSk7dmFyIGI9dGhpcy5jb252ZXJ0VmFsdWVUb1N0cmluZyhjKXx8bXhSZXNvdXJjZXMuZ2V0KCJiYWNrZ3JvdW5kIil8fCJCYWNrZ3JvdW5kIjtmLnNldEF0dHJpYnV0ZSgidGl0bGUiLGIpO214VXRpbHMud3JpdGUoZixiKTthLmFwcGVuZENoaWxkKGYpO214RXZlbnQuYWRkTGlzdGVuZXIobSwiY2xpY2siLGZ1bmN0aW9uKCl7bnVsbCE9bS5nZXRBdHRyaWJ1dGUoImNoZWNrZWQiKT9tLnJlbW92ZUF0dHJpYnV0ZSgiY2hlY2tlZCIpOm0uc2V0QXR0cmlidXRlKCJjaGVja2VkIiwiY2hlY2tlZCIpO2Quc2V0VmlzaWJsZShjLG0uY2hlY2tlZCl9KX0pKGQuZ2V0Q2hpbGRBdChkLnJvb3QsYykpO3JldHVybiBhfTsKR3JhcGgucHJvdG90eXBlLnJlcGxhY2VQbGFjZWhvbGRlcnM9ZnVuY3Rpb24oYSxkKXt2YXIgZj1bXTtpZihudWxsIT1kKXtmb3IodmFyIGM9MDttYXRjaD10aGlzLnBsYWNlaG9sZGVyUGF0dGVybi5leGVjKGQpOyl7dmFyIG09bWF0Y2hbMF07aWYoMjxtLmxlbmd0aCYmIiVsYWJlbCUiIT1tJiYiJXRvb2x0aXAlIiE9bSl7dmFyIGs9bnVsbDtpZihtYXRjaC5pbmRleD5jJiYiJSI9PWQuY2hhckF0KG1hdGNoLmluZGV4LTEpKWs9bS5zdWJzdHJpbmcoMSk7ZWxzZXt2YXIgcT1tLnN1YnN0cmluZygxLG0ubGVuZ3RoLTEpO2lmKCJpZCI9PXEpaz1hLmlkO2Vsc2UgaWYoMD5xLmluZGV4T2YoInsiKSlmb3IodmFyIGI9YTtudWxsPT1rJiZudWxsIT1iOyludWxsIT1iLnZhbHVlJiYib2JqZWN0Ij09dHlwZW9mIGIudmFsdWUmJihrPWIuaGFzQXR0cmlidXRlKHEpP251bGwhPWIuZ2V0QXR0cmlidXRlKHEpP2IuZ2V0QXR0cmlidXRlKHEpOiIiOm51bGwpLGI9dGhpcy5tb2RlbC5nZXRQYXJlbnQoYik7Cm51bGw9PWsmJihrPXRoaXMuZ2V0R2xvYmFsVmFyaWFibGUocSkpfWYucHVzaChkLnN1YnN0cmluZyhjLG1hdGNoLmluZGV4KSsobnVsbCE9az9rOm0pKTtjPW1hdGNoLmluZGV4K20ubGVuZ3RofX1mLnB1c2goZC5zdWJzdHJpbmcoYykpfXJldHVybiBmLmpvaW4oIiIpfTtHcmFwaC5wcm90b3R5cGUucmVzdG9yZVNlbGVjdGlvbj1mdW5jdGlvbihhKXtpZihudWxsIT1hJiYwPGEubGVuZ3RoKXtmb3IodmFyIGQ9W10sZj0wO2Y8YS5sZW5ndGg7ZisrKXt2YXIgYz10aGlzLm1vZGVsLmdldENlbGwoYVtmXS5pZCk7bnVsbCE9YyYmZC5wdXNoKGMpfXRoaXMuc2V0U2VsZWN0aW9uQ2VsbHMoZCl9ZWxzZSB0aGlzLmNsZWFyU2VsZWN0aW9uKCl9OwpHcmFwaC5wcm90b3R5cGUuc2VsZWN0Q2VsbHNGb3JDb25uZWN0VmVydGV4PWZ1bmN0aW9uKGEsZCxmKXsyPT1hLmxlbmd0aCYmdGhpcy5tb2RlbC5pc1ZlcnRleChhWzFdKT8odGhpcy5zZXRTZWxlY3Rpb25DZWxsKGFbMV0pLHRoaXMuc2Nyb2xsQ2VsbFRvVmlzaWJsZShhWzFdKSxudWxsIT1mJiYobXhFdmVudC5pc1RvdWNoRXZlbnQoZCk/Zi51cGRhdGUoZi5nZXRTdGF0ZSh0aGlzLnZpZXcuZ2V0U3RhdGUoYVsxXSkpKTpmLnJlc2V0KCkpKTp0aGlzLnNldFNlbGVjdGlvbkNlbGxzKGEpfTsKR3JhcGgucHJvdG90eXBlLmNvbm5lY3RWZXJ0ZXg9ZnVuY3Rpb24oYSxkLGYsYyxtLGspe2lmKGEuZ2VvbWV0cnkucmVsYXRpdmUmJnRoaXMubW9kZWwuaXNFZGdlKGEucGFyZW50KSlyZXR1cm5bXTtrPWs/azohMTt2YXIgcT10aGlzLmdldENvbXBvc2l0ZVBhcmVudChhKSxiPWEuZ2VvbWV0cnkucmVsYXRpdmUmJm51bGwhPWEucGFyZW50Lmdlb21ldHJ5P25ldyBteFBvaW50KGEucGFyZW50Lmdlb21ldHJ5LndpZHRoKmEuZ2VvbWV0cnkueCxhLnBhcmVudC5nZW9tZXRyeS5oZWlnaHQqYS5nZW9tZXRyeS55KTpuZXcgbXhQb2ludChxLmdlb21ldHJ5LngscS5nZW9tZXRyeS55KTtkPT1teENvbnN0YW50cy5ESVJFQ1RJT05fTk9SVEg/KGIueCs9cS5nZW9tZXRyeS53aWR0aC8yLGIueS09Zik6ZD09bXhDb25zdGFudHMuRElSRUNUSU9OX1NPVVRIPyhiLngrPXEuZ2VvbWV0cnkud2lkdGgvMixiLnkrPXEuZ2VvbWV0cnkuaGVpZ2h0K2YpOihiLng9ZD09bXhDb25zdGFudHMuRElSRUNUSU9OX1dFU1Q/CmIueC1mOmIueCsocS5nZW9tZXRyeS53aWR0aCtmKSxiLnkrPXEuZ2VvbWV0cnkuaGVpZ2h0LzIpO2Y9dGhpcy52aWV3LmdldFN0YXRlKHRoaXMubW9kZWwuZ2V0UGFyZW50KGEpKTt2YXIgcT10aGlzLnZpZXcuc2NhbGUsZT10aGlzLnZpZXcudHJhbnNsYXRlLGc9ZS54KnEsZT1lLnkqcTtudWxsIT1mJiZ0aGlzLm1vZGVsLmlzVmVydGV4KGYuY2VsbCkmJihnPWYueCxlPWYueSk7dGhpcy5tb2RlbC5pc1ZlcnRleChhLnBhcmVudCkmJmEuZ2VvbWV0cnkucmVsYXRpdmUmJihiLngrPWEucGFyZW50Lmdlb21ldHJ5LngsYi55Kz1hLnBhcmVudC5nZW9tZXRyeS55KTtrPWt8fG14RXZlbnQuaXNDb250cm9sRG93bihjKSYmIW0/bnVsbDp0aGlzLmdldENlbGxBdChnK2IueCpxLGUrYi55KnEpO3RoaXMubW9kZWwuaXNBbmNlc3RvcihrLGEpJiYoaz1udWxsKTtmb3IoZj1rO251bGwhPWY7KXtpZih0aGlzLmlzQ2VsbExvY2tlZChmKSl7az1udWxsO2JyZWFrfWY9dGhpcy5tb2RlbC5nZXRQYXJlbnQoZil9bnVsbCE9CmsmJihmPXRoaXMudmlldy5nZXRTdGF0ZShhKSxxPXRoaXMudmlldy5nZXRTdGF0ZShrKSxudWxsIT1mJiZudWxsIT1xJiZteFV0aWxzLmludGVyc2VjdHMoZixxKSYmKGs9bnVsbCkpO2lmKG09IW14RXZlbnQuaXNTaGlmdERvd24oYyl8fG0pZD09bXhDb25zdGFudHMuRElSRUNUSU9OX05PUlRIP2IueS09YS5nZW9tZXRyeS5oZWlnaHQvMjpkPT1teENvbnN0YW50cy5ESVJFQ1RJT05fU09VVEg/Yi55Kz1hLmdlb21ldHJ5LmhlaWdodC8yOmIueD1kPT1teENvbnN0YW50cy5ESVJFQ1RJT05fV0VTVD9iLngtYS5nZW9tZXRyeS53aWR0aC8yOmIueCthLmdlb21ldHJ5LndpZHRoLzI7bnVsbD09a3x8dGhpcy5pc0NlbGxDb25uZWN0YWJsZShrKXx8dGhpcy5pc1N3aW1sYW5lKGspfHwoZj10aGlzLmdldE1vZGVsKCkuZ2V0UGFyZW50KGspLHRoaXMuZ2V0TW9kZWwoKS5pc1ZlcnRleChmKSYmdGhpcy5pc0NlbGxDb25uZWN0YWJsZShmKSYmKGs9ZikpO2lmKGs9PWF8fHRoaXMubW9kZWwuaXNFZGdlKGspfHwKIXRoaXMuaXNDZWxsQ29ubmVjdGFibGUoaykmJiF0aGlzLmlzU3dpbWxhbmUoaykpaz1udWxsO2Y9W107dGhpcy5tb2RlbC5iZWdpblVwZGF0ZSgpO3RyeXt2YXIgcD1udWxsIT1rJiZ0aGlzLmlzU3dpbWxhbmUoaykscT1wP251bGw6aztpZihudWxsPT1xJiZtKXtmb3IodmFyIGc9YSxsPXRoaXMuZ2V0Q2VsbEdlb21ldHJ5KGEpO251bGwhPWwmJmwucmVsYXRpdmU7KWc9dGhpcy5nZXRNb2RlbCgpLmdldFBhcmVudChnKSxsPXRoaXMuZ2V0Q2VsbEdlb21ldHJ5KGcpO2c9dGhpcy5nZXRDb21wb3NpdGVQYXJlbnQoZyk7cT10aGlzLmR1cGxpY2F0ZUNlbGxzKFtnXSwhMSlbMF07bD10aGlzLmdldENlbGxHZW9tZXRyeShxKTtudWxsIT1sJiYobC54PWIueC1sLndpZHRoLzIsbC55PWIueS1sLmhlaWdodC8yKTtwJiYodGhpcy5hZGRDZWxscyhbcV0sayxudWxsLG51bGwsbnVsbCwhMCksaz1udWxsKX1wPW51bGw7bnVsbCE9dGhpcy5sYXlvdXRNYW5hZ2VyJiYocD10aGlzLmxheW91dE1hbmFnZXIuZ2V0TGF5b3V0KHRoaXMubW9kZWwuZ2V0UGFyZW50KGEpKSk7CnZhciBuPW14RXZlbnQuaXNDb250cm9sRG93bihjKSYmbXx8bnVsbD09ayYmbnVsbCE9cCYmcC5jb25zdHJ1Y3Rvcj09bXhTdGFja0xheW91dD9udWxsOnRoaXMuaW5zZXJ0RWRnZSh0aGlzLm1vZGVsLmdldFBhcmVudChhKSxudWxsLCIiLGEscSx0aGlzLmNyZWF0ZUN1cnJlbnRFZGdlU3R5bGUoKSk7aWYobnVsbCE9biYmdGhpcy5jb25uZWN0aW9uSGFuZGxlci5pbnNlcnRCZWZvcmVTb3VyY2Upe3ZhciB2PW51bGw7Zm9yKGM9YTtudWxsIT1jLnBhcmVudCYmbnVsbCE9Yy5nZW9tZXRyeSYmYy5nZW9tZXRyeS5yZWxhdGl2ZSYmYy5wYXJlbnQhPW4ucGFyZW50OyljPXRoaXMubW9kZWwuZ2V0UGFyZW50KGMpO251bGwhPWMmJm51bGwhPWMucGFyZW50JiZjLnBhcmVudD09bi5wYXJlbnQmJih2PWMucGFyZW50LmdldEluZGV4KGMpLHRoaXMubW9kZWwuYWRkKGMucGFyZW50LG4sdikpfW51bGw9PWsmJm51bGwhPXEmJm51bGwhPXAmJm51bGwhPWEucGFyZW50JiZwLmNvbnN0cnVjdG9yPT0KbXhTdGFja0xheW91dCYmZD09bXhDb25zdGFudHMuRElSRUNUSU9OX1dFU1QmJih2PWEucGFyZW50LmdldEluZGV4KGEpLHRoaXMubW9kZWwuYWRkKGEucGFyZW50LHEsdikpO251bGwhPW4mJmYucHVzaChuKTtudWxsPT1rJiZudWxsIT1xJiZmLnB1c2gocSk7bnVsbD09cSYmbnVsbCE9biYmbi5nZW9tZXRyeS5zZXRUZXJtaW5hbFBvaW50KGIsITEpO251bGwhPW4mJnRoaXMuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KCJjZWxsc0luc2VydGVkIiwiY2VsbHMiLFtuXSkpfWZpbmFsbHl7dGhpcy5tb2RlbC5lbmRVcGRhdGUoKX1yZXR1cm4gZn07CkdyYXBoLnByb3RvdHlwZS5nZXRJbmRleGFibGVUZXh0PWZ1bmN0aW9uKCl7dmFyIGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IiksZD1bXSxmLGM7Zm9yKGMgaW4gdGhpcy5tb2RlbC5jZWxscylpZihmPXRoaXMubW9kZWwuY2VsbHNbY10sdGhpcy5tb2RlbC5pc1ZlcnRleChmKXx8dGhpcy5tb2RlbC5pc0VkZ2UoZikpdGhpcy5pc0h0bWxMYWJlbChmKT8oYS5pbm5lckhUTUw9dGhpcy5zYW5pdGl6ZUh0bWwodGhpcy5nZXRMYWJlbChmKSksZj1teFV0aWxzLmV4dHJhY3RUZXh0V2l0aFdoaXRlc3BhY2UoW2FdKSk6Zj10aGlzLmdldExhYmVsKGYpLGY9bXhVdGlscy50cmltKGYucmVwbGFjZSgvW1x4MDAtXHgxRlx4N0YtXHg5Rl18XHMrL2csIiAiKSksMDxmLmxlbmd0aCYmZC5wdXNoKGYpO3JldHVybiBkLmpvaW4oIiAiKX07CkdyYXBoLnByb3RvdHlwZS5jb252ZXJ0VmFsdWVUb1N0cmluZz1mdW5jdGlvbihhKXt2YXIgZD10aGlzLm1vZGVsLmdldFZhbHVlKGEpO2lmKG51bGwhPWQmJiJvYmplY3QiPT10eXBlb2YgZCl7aWYodGhpcy5pc1JlcGxhY2VQbGFjZWhvbGRlcnMoYSkmJm51bGwhPWEuZ2V0QXR0cmlidXRlKCJwbGFjZWhvbGRlciIpKXtmb3IodmFyIGQ9YS5nZXRBdHRyaWJ1dGUoInBsYWNlaG9sZGVyIiksZj1hLGM9bnVsbDtudWxsPT1jJiZudWxsIT1mOyludWxsIT1mLnZhbHVlJiYib2JqZWN0Ij09dHlwZW9mIGYudmFsdWUmJihjPWYuaGFzQXR0cmlidXRlKGQpP251bGwhPWYuZ2V0QXR0cmlidXRlKGQpP2YuZ2V0QXR0cmlidXRlKGQpOiIiOm51bGwpLGY9dGhpcy5tb2RlbC5nZXRQYXJlbnQoZik7cmV0dXJuIGN8fCIifXJldHVybiBkLmdldEF0dHJpYnV0ZSgibGFiZWwiKXx8IiJ9cmV0dXJuIG14R3JhcGgucHJvdG90eXBlLmNvbnZlcnRWYWx1ZVRvU3RyaW5nLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07CkdyYXBoLnByb3RvdHlwZS5nZXRMaW5rc0ZvclN0YXRlPWZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hJiZudWxsIT1hLnRleHQmJm51bGwhPWEudGV4dC5ub2RlP2EudGV4dC5ub2RlLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJhIik6bnVsbH07R3JhcGgucHJvdG90eXBlLmdldExpbmtGb3JDZWxsPWZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hLnZhbHVlJiYib2JqZWN0Ij09dHlwZW9mIGEudmFsdWU/KGE9YS52YWx1ZS5nZXRBdHRyaWJ1dGUoImxpbmsiKSxudWxsIT1hJiYiamF2YXNjcmlwdDoiPT09YS50b0xvd2VyQ2FzZSgpLnN1YnN0cmluZygwLDExKSYmKGE9YS5zdWJzdHJpbmcoMTEpKSxhKTpudWxsfTsKR3JhcGgucHJvdG90eXBlLmdldENlbGxTdHlsZT1mdW5jdGlvbihhKXt2YXIgZD1teEdyYXBoLnByb3RvdHlwZS5nZXRDZWxsU3R5bGUuYXBwbHkodGhpcyxhcmd1bWVudHMpO2lmKG51bGwhPWEmJm51bGwhPXRoaXMubGF5b3V0TWFuYWdlcil7dmFyIGY9dGhpcy5tb2RlbC5nZXRQYXJlbnQoYSk7dGhpcy5tb2RlbC5pc1ZlcnRleChmKSYmdGhpcy5pc0NlbGxDb2xsYXBzZWQoYSkmJihmPXRoaXMubGF5b3V0TWFuYWdlci5nZXRMYXlvdXQoZiksbnVsbCE9ZiYmZi5jb25zdHJ1Y3Rvcj09bXhTdGFja0xheW91dCYmKGRbbXhDb25zdGFudHMuU1RZTEVfSE9SSVpPTlRBTF09IWYuaG9yaXpvbnRhbCkpfXJldHVybiBkfTsKR3JhcGgucHJvdG90eXBlLnVwZGF0ZUFsdGVybmF0ZUJvdW5kcz1mdW5jdGlvbihhLGQsZil7aWYobnVsbCE9YSYmbnVsbCE9ZCYmbnVsbCE9dGhpcy5sYXlvdXRNYW5hZ2VyJiZudWxsIT1kLmFsdGVybmF0ZUJvdW5kcyl7dmFyIGM9dGhpcy5sYXlvdXRNYW5hZ2VyLmdldExheW91dCh0aGlzLm1vZGVsLmdldFBhcmVudChhKSk7bnVsbCE9YyYmYy5jb25zdHJ1Y3Rvcj09bXhTdGFja0xheW91dCYmKGMuaG9yaXpvbnRhbD9kLmFsdGVybmF0ZUJvdW5kcy5oZWlnaHQ9MDpkLmFsdGVybmF0ZUJvdW5kcy53aWR0aD0wKX1teEdyYXBoLnByb3RvdHlwZS51cGRhdGVBbHRlcm5hdGVCb3VuZHMuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtHcmFwaC5wcm90b3R5cGUuaXNNb3ZlQ2VsbHNFdmVudD1mdW5jdGlvbihhLGQpe3JldHVybiBteEV2ZW50LmlzU2hpZnREb3duKGEpfHwiMSI9PW14VXRpbHMuZ2V0VmFsdWUoZC5zdHlsZSwibW92ZUNlbGxzIiwiMCIpfTsKR3JhcGgucHJvdG90eXBlLmZvbGRDZWxscz1mdW5jdGlvbihhLGQsZixjLG0pe2Q9bnVsbCE9ZD9kOiExO251bGw9PWYmJihmPXRoaXMuZ2V0Rm9sZGFibGVDZWxscyh0aGlzLmdldFNlbGVjdGlvbkNlbGxzKCksYSkpO2lmKG51bGwhPWYpe3RoaXMubW9kZWwuYmVnaW5VcGRhdGUoKTt0cnl7aWYobXhHcmFwaC5wcm90b3R5cGUuZm9sZENlbGxzLmFwcGx5KHRoaXMsYXJndW1lbnRzKSxudWxsIT10aGlzLmxheW91dE1hbmFnZXIpZm9yKHZhciBrPTA7azxmLmxlbmd0aDtrKyspe3ZhciBxPXRoaXMudmlldy5nZXRTdGF0ZShmW2tdKSxiPXRoaXMuZ2V0Q2VsbEdlb21ldHJ5KGZba10pO2lmKG51bGwhPXEmJm51bGwhPWIpe3ZhciBlPU1hdGgucm91bmQoYi53aWR0aC1xLndpZHRoL3RoaXMudmlldy5zY2FsZSksZz1NYXRoLnJvdW5kKGIuaGVpZ2h0LXEuaGVpZ2h0L3RoaXMudmlldy5zY2FsZSk7aWYoMCE9Z3x8MCE9ZSl7dmFyIHA9dGhpcy5tb2RlbC5nZXRQYXJlbnQoZltrXSksbD10aGlzLmxheW91dE1hbmFnZXIuZ2V0TGF5b3V0KHApOwpudWxsPT1sP251bGwhPW0mJnRoaXMuaXNNb3ZlQ2VsbHNFdmVudChtLHEpJiZ0aGlzLm1vdmVTaWJsaW5ncyhxLHAsZSxnKTpudWxsIT1tJiZteEV2ZW50LmlzQWx0RG93bihtKXx8bC5jb25zdHJ1Y3RvciE9bXhTdGFja0xheW91dHx8bC5yZXNpemVMYXN0fHx0aGlzLnJlc2l6ZVBhcmVudFN0YWNrcyhwLGwsZSxnKX19fX1maW5hbGx5e3RoaXMubW9kZWwuZW5kVXBkYXRlKCl9dGhpcy5pc0VuYWJsZWQoKSYmdGhpcy5zZXRTZWxlY3Rpb25DZWxscyhmKX19OwpHcmFwaC5wcm90b3R5cGUubW92ZVNpYmxpbmdzPWZ1bmN0aW9uKGEsZCxmLGMpe3RoaXMubW9kZWwuYmVnaW5VcGRhdGUoKTt0cnl7dmFyIG09dGhpcy5nZXRDZWxsc0JleW9uZChhLngsYS55LGQsITAsITApO2ZvcihkPTA7ZDxtLmxlbmd0aDtkKyspaWYobVtkXSE9YS5jZWxsKXt2YXIgaz10aGlzLnZpZXcuZ2V0U3RhdGUobVtkXSkscT10aGlzLmdldENlbGxHZW9tZXRyeShtW2RdKTtudWxsIT1rJiZudWxsIT1xJiYocT1xLmNsb25lKCkscS50cmFuc2xhdGUoTWF0aC5yb3VuZChmKk1hdGgubWF4KDAsTWF0aC5taW4oMSwoay54LWEueCkvYS53aWR0aCkpKSxNYXRoLnJvdW5kKGMqTWF0aC5tYXgoMCxNYXRoLm1pbigxLChrLnktYS55KS9hLmhlaWdodCkpKSksdGhpcy5tb2RlbC5zZXRHZW9tZXRyeShtW2RdLHEpKX19ZmluYWxseXt0aGlzLm1vZGVsLmVuZFVwZGF0ZSgpfX07CkdyYXBoLnByb3RvdHlwZS5yZXNpemVQYXJlbnRTdGFja3M9ZnVuY3Rpb24oYSxkLGYsYyl7aWYobnVsbCE9dGhpcy5sYXlvdXRNYW5hZ2VyJiZudWxsIT1kJiZkLmNvbnN0cnVjdG9yPT1teFN0YWNrTGF5b3V0JiYhZC5yZXNpemVMYXN0KXt0aGlzLm1vZGVsLmJlZ2luVXBkYXRlKCk7dHJ5e2Zvcih2YXIgbT1kLmhvcml6b250YWw7bnVsbCE9YSYmbnVsbCE9ZCYmZC5jb25zdHJ1Y3Rvcj09bXhTdGFja0xheW91dCYmZC5ob3Jpem9udGFsPT1tJiYhZC5yZXNpemVMYXN0Oyl7dmFyIGs9dGhpcy5nZXRDZWxsR2VvbWV0cnkoYSkscT10aGlzLnZpZXcuZ2V0U3RhdGUoYSk7bnVsbCE9cSYmbnVsbCE9ayYmKGs9ay5jbG9uZSgpLGQuaG9yaXpvbnRhbD9rLndpZHRoKz1mK01hdGgubWluKDAscS53aWR0aC90aGlzLnZpZXcuc2NhbGUtay53aWR0aCk6ay5oZWlnaHQrPWMrTWF0aC5taW4oMCxxLmhlaWdodC90aGlzLnZpZXcuc2NhbGUtay5oZWlnaHQpLHRoaXMubW9kZWwuc2V0R2VvbWV0cnkoYSwKaykpO2E9dGhpcy5tb2RlbC5nZXRQYXJlbnQoYSk7ZD10aGlzLmxheW91dE1hbmFnZXIuZ2V0TGF5b3V0KGEpfX1maW5hbGx5e3RoaXMubW9kZWwuZW5kVXBkYXRlKCl9fX07R3JhcGgucHJvdG90eXBlLmlzQ29udGFpbmVyPWZ1bmN0aW9uKGEpe3ZhciBkPXRoaXMuZ2V0Q3VycmVudENlbGxTdHlsZShhKTtyZXR1cm4gdGhpcy5pc1N3aW1sYW5lKGEpPyIwIiE9ZC5jb250YWluZXI6IjEiPT1kLmNvbnRhaW5lcn07R3JhcGgucHJvdG90eXBlLmlzQ2VsbENvbm5lY3RhYmxlPWZ1bmN0aW9uKGEpe3ZhciBkPXRoaXMuZ2V0Q3VycmVudENlbGxTdHlsZShhKTtyZXR1cm4gbnVsbCE9ZC5jb25uZWN0YWJsZT8iMCIhPWQuY29ubmVjdGFibGU6bXhHcmFwaC5wcm90b3R5cGUuaXNDZWxsQ29ubmVjdGFibGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfTsKR3JhcGgucHJvdG90eXBlLmlzTGFiZWxNb3ZhYmxlPWZ1bmN0aW9uKGEpe3ZhciBkPXRoaXMuZ2V0Q3VycmVudENlbGxTdHlsZShhKTtyZXR1cm4gbnVsbCE9ZC5tb3ZhYmxlTGFiZWw/IjAiIT1kLm1vdmFibGVMYWJlbDpteEdyYXBoLnByb3RvdHlwZS5pc0xhYmVsTW92YWJsZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O0dyYXBoLnByb3RvdHlwZS5zZWxlY3RBbGw9ZnVuY3Rpb24oYSl7YT1hfHx0aGlzLmdldERlZmF1bHRQYXJlbnQoKTt0aGlzLmlzQ2VsbExvY2tlZChhKXx8bXhHcmFwaC5wcm90b3R5cGUuc2VsZWN0QWxsLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07R3JhcGgucHJvdG90eXBlLnNlbGVjdENlbGxzPWZ1bmN0aW9uKGEsZCxmKXtmPWZ8fHRoaXMuZ2V0RGVmYXVsdFBhcmVudCgpO3RoaXMuaXNDZWxsTG9ja2VkKGYpfHxteEdyYXBoLnByb3RvdHlwZS5zZWxlY3RDZWxscy5hcHBseSh0aGlzLGFyZ3VtZW50cyl9OwpHcmFwaC5wcm90b3R5cGUuZ2V0U3dpbWxhbmVBdD1mdW5jdGlvbihhLGQsZil7dmFyIGM9bXhHcmFwaC5wcm90b3R5cGUuZ2V0U3dpbWxhbmVBdC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5pc0NlbGxMb2NrZWQoYykmJihjPW51bGwpO3JldHVybiBjfTtHcmFwaC5wcm90b3R5cGUuaXNDZWxsRm9sZGFibGU9ZnVuY3Rpb24oYSl7dmFyIGQ9dGhpcy5nZXRDdXJyZW50Q2VsbFN0eWxlKGEpO3JldHVybiB0aGlzLmZvbGRpbmdFbmFibGVkJiYoIjEiPT1kLnRyZWVGb2xkaW5nfHwhdGhpcy5pc0NlbGxMb2NrZWQoYSkmJih0aGlzLmlzQ29udGFpbmVyKGEpJiYiMCIhPWQuY29sbGFwc2libGV8fCF0aGlzLmlzQ29udGFpbmVyKGEpJiYiMSI9PWQuY29sbGFwc2libGUpKX07R3JhcGgucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5pc0VkaXRpbmcoKSYmdGhpcy5zdG9wRWRpdGluZyghMCk7dGhpcy5lc2NhcGUoKTt0aGlzLmlzU2VsZWN0aW9uRW1wdHkoKXx8dGhpcy5jbGVhclNlbGVjdGlvbigpfTsKR3JhcGgucHJvdG90eXBlLnpvb209ZnVuY3Rpb24oYSxkKXthPU1hdGgubWF4KC4wMSxNYXRoLm1pbih0aGlzLnZpZXcuc2NhbGUqYSwxNjApKS90aGlzLnZpZXcuc2NhbGU7bXhHcmFwaC5wcm90b3R5cGUuem9vbS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O0dyYXBoLnByb3RvdHlwZS56b29tSW49ZnVuY3Rpb24oKXsuMTU+dGhpcy52aWV3LnNjYWxlP3RoaXMuem9vbSgodGhpcy52aWV3LnNjYWxlKy4wMSkvdGhpcy52aWV3LnNjYWxlKTp0aGlzLnpvb20oTWF0aC5yb3VuZCh0aGlzLnZpZXcuc2NhbGUqdGhpcy56b29tRmFjdG9yKjIwKS8yMC90aGlzLnZpZXcuc2NhbGUpfTtHcmFwaC5wcm90b3R5cGUuem9vbU91dD1mdW5jdGlvbigpey4xNT49dGhpcy52aWV3LnNjYWxlP3RoaXMuem9vbSgodGhpcy52aWV3LnNjYWxlLS4wMSkvdGhpcy52aWV3LnNjYWxlKTp0aGlzLnpvb20oTWF0aC5yb3VuZCgxL3RoaXMuem9vbUZhY3Rvcip0aGlzLnZpZXcuc2NhbGUqMjApLzIwL3RoaXMudmlldy5zY2FsZSl9OwpHcmFwaC5wcm90b3R5cGUuZ2V0VG9vbHRpcEZvckNlbGw9ZnVuY3Rpb24oYSl7dmFyIGQ9IiI7aWYobXhVdGlscy5pc05vZGUoYS52YWx1ZSkpe3ZhciBmPWEudmFsdWUuZ2V0QXR0cmlidXRlKCJ0b29sdGlwIik7aWYobnVsbCE9ZiludWxsIT1mJiZ0aGlzLmlzUmVwbGFjZVBsYWNlaG9sZGVycyhhKSYmKGY9dGhpcy5yZXBsYWNlUGxhY2Vob2xkZXJzKGEsZikpLGQ9dGhpcy5zYW5pdGl6ZUh0bWwoZik7ZWxzZXtmPXRoaXMuYnVpbHRJblByb3BlcnRpZXM7YT1hLnZhbHVlLmF0dHJpYnV0ZXM7dmFyIGM9W107dGhpcy5pc0VuYWJsZWQoKSYmZi5wdXNoKCJsaW5rIik7Zm9yKHZhciBtPTA7bTxhLmxlbmd0aDttKyspMD5teFV0aWxzLmluZGV4T2YoZixhW21dLm5vZGVOYW1lKSYmMDxhW21dLm5vZGVWYWx1ZS5sZW5ndGgmJmMucHVzaCh7bmFtZTphW21dLm5vZGVOYW1lLHZhbHVlOmFbbV0ubm9kZVZhbHVlfSk7Yy5zb3J0KGZ1bmN0aW9uKGEsZCl7cmV0dXJuIGEubmFtZTxkLm5hbWU/Ci0xOmEubmFtZT5kLm5hbWU/MTowfSk7Zm9yKG09MDttPGMubGVuZ3RoO20rKykibGluayI9PWNbbV0ubmFtZSYmdGhpcy5pc0N1c3RvbUxpbmsoY1ttXS52YWx1ZSl8fChkKz0oImxpbmsiIT1jW21dLm5hbWU/IjxiPiIrY1ttXS5uYW1lKyI6PC9iPiAiOiIiKStteFV0aWxzLmh0bWxFbnRpdGllcyhjW21dLnZhbHVlKSsiXG4iKTswPGQubGVuZ3RoJiYoZD1kLnN1YnN0cmluZygwLGQubGVuZ3RoLTEpLG14Q2xpZW50LklTX1NWRyYmKGQ9JzxkaXYgc3R5bGU9Im1heC13aWR0aDozNjBweDsiPicrZCsiPC9kaXY+IikpfX1yZXR1cm4gZH07R3JhcGgucHJvdG90eXBlLnN0cmluZ1RvQnl0ZXM9ZnVuY3Rpb24oYSl7cmV0dXJuIEdyYXBoLnN0cmluZ1RvQnl0ZXMoYSl9O0dyYXBoLnByb3RvdHlwZS5ieXRlc1RvU3RyaW5nPWZ1bmN0aW9uKGEpe3JldHVybiBHcmFwaC5ieXRlc1RvU3RyaW5nKGEpfTtHcmFwaC5wcm90b3R5cGUuY29tcHJlc3NOb2RlPWZ1bmN0aW9uKGEpe3JldHVybiBHcmFwaC5jb21wcmVzc05vZGUoYSl9OwpHcmFwaC5wcm90b3R5cGUuY29tcHJlc3M9ZnVuY3Rpb24oYSxkKXtyZXR1cm4gR3JhcGguY29tcHJlc3MoYSxkKX07R3JhcGgucHJvdG90eXBlLmRlY29tcHJlc3M9ZnVuY3Rpb24oYSxkKXtyZXR1cm4gR3JhcGguZGVjb21wcmVzcyhhLGQpfTtHcmFwaC5wcm90b3R5cGUuemFwR3JlbWxpbnM9ZnVuY3Rpb24oYSl7cmV0dXJuIEdyYXBoLnphcEdyZW1saW5zKGEpfTtIb3Zlckljb25zPWZ1bmN0aW9uKGEpe3RoaXMuZ3JhcGg9YTt0aGlzLmluaXQoKX07SG92ZXJJY29ucy5wcm90b3R5cGUuYXJyb3dTcGFjaW5nPTI7SG92ZXJJY29ucy5wcm90b3R5cGUudXBkYXRlRGVsYXk9NTAwO0hvdmVySWNvbnMucHJvdG90eXBlLmFjdGl2YXRpb25EZWxheT0xNDA7SG92ZXJJY29ucy5wcm90b3R5cGUuY3VycmVudFN0YXRlPW51bGw7SG92ZXJJY29ucy5wcm90b3R5cGUuYWN0aXZlQXJyb3c9bnVsbDtIb3Zlckljb25zLnByb3RvdHlwZS5pbmFjdGl2ZU9wYWNpdHk9MTU7CkhvdmVySWNvbnMucHJvdG90eXBlLmNzc0N1cnNvcj0iY29weSI7SG92ZXJJY29ucy5wcm90b3R5cGUuY2hlY2tDb2xsaXNpb25zPSEwO0hvdmVySWNvbnMucHJvdG90eXBlLmFycm93RmlsbD0iIzI5YjZmMiI7SG92ZXJJY29ucy5wcm90b3R5cGUudHJpYW5nbGVVcD1teENsaWVudC5JU19TVkc/R3JhcGguY3JlYXRlU3ZnSW1hZ2UoMTgsMjgsJzxwYXRoIGQ9Im0gNiAyNiBMIDEyIDI2IEwgMTIgMTIgTCAxOCAxMiBMIDkgMSBMIDEgMTIgTCA2IDEyIHoiIHN0cm9rZT0iI2ZmZiIgZmlsbD0iJytIb3Zlckljb25zLnByb3RvdHlwZS5hcnJvd0ZpbGwrJyIvPicpOm5ldyBteEltYWdlKElNQUdFX1BBVEgrIi90cmlhbmdsZS11cC5wbmciLDI2LDE0KTsKSG92ZXJJY29ucy5wcm90b3R5cGUudHJpYW5nbGVSaWdodD1teENsaWVudC5JU19TVkc/R3JhcGguY3JlYXRlU3ZnSW1hZ2UoMjYsMTgsJzxwYXRoIGQ9Im0gMSA2IEwgMTQgNiBMIDE0IDEgTCAyNiA5IEwgMTQgMTggTCAxNCAxMiBMIDEgMTIgeiIgc3Ryb2tlPSIjZmZmIiBmaWxsPSInK0hvdmVySWNvbnMucHJvdG90eXBlLmFycm93RmlsbCsnIi8+Jyk6bmV3IG14SW1hZ2UoSU1BR0VfUEFUSCsiL3RyaWFuZ2xlLXJpZ2h0LnBuZyIsMTQsMjYpO0hvdmVySWNvbnMucHJvdG90eXBlLnRyaWFuZ2xlRG93bj1teENsaWVudC5JU19TVkc/R3JhcGguY3JlYXRlU3ZnSW1hZ2UoMTgsMjYsJzxwYXRoIGQ9Im0gNiAxIEwgNiAxNCBMIDEgMTQgTCA5IDI2IEwgMTggMTQgTCAxMiAxNCBMIDEyIDEgeiIgc3Ryb2tlPSIjZmZmIiBmaWxsPSInK0hvdmVySWNvbnMucHJvdG90eXBlLmFycm93RmlsbCsnIi8+Jyk6bmV3IG14SW1hZ2UoSU1BR0VfUEFUSCsiL3RyaWFuZ2xlLWRvd24ucG5nIiwyNiwxNCk7CkhvdmVySWNvbnMucHJvdG90eXBlLnRyaWFuZ2xlTGVmdD1teENsaWVudC5JU19TVkc/R3JhcGguY3JlYXRlU3ZnSW1hZ2UoMjgsMTgsJzxwYXRoIGQ9Im0gMSA5IEwgMTIgMSBMIDEyIDYgTCAyNiA2IEwgMjYgMTIgTCAxMiAxMiBMIDEyIDE4IHoiIHN0cm9rZT0iI2ZmZiIgZmlsbD0iJytIb3Zlckljb25zLnByb3RvdHlwZS5hcnJvd0ZpbGwrJyIvPicpOm5ldyBteEltYWdlKElNQUdFX1BBVEgrIi90cmlhbmdsZS1sZWZ0LnBuZyIsMTQsMjYpO0hvdmVySWNvbnMucHJvdG90eXBlLnJvdW5kRHJvcD1teENsaWVudC5JU19TVkc/R3JhcGguY3JlYXRlU3ZnSW1hZ2UoMjYsMjYsJzxjaXJjbGUgY3g9IjEzIiBjeT0iMTMiIHI9IjEyIiBzdHJva2U9IiNmZmYiIGZpbGw9IicrSG92ZXJJY29ucy5wcm90b3R5cGUuYXJyb3dGaWxsKyciLz4nKTpuZXcgbXhJbWFnZShJTUFHRV9QQVRIKyIvcm91bmQtZHJvcC5wbmciLDI2LDI2KTsKSG92ZXJJY29ucy5wcm90b3R5cGUucmVmcmVzaFRhcmdldD1uZXcgbXhJbWFnZShteENsaWVudC5JU19TVkc/ImRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5QjRiV3h1Y3owaWFIUjBjRG92TDNkM2R5NTNNeTV2Y21jdk1qQXdNQzl6ZG1jaUlIWnBaWGRDYjNnOUlqQWdNQ0F5TkNBeU5DSWdkMmxrZEdnOUlqTTJjSGdpSUdobGFXZG9kRDBpTXpad2VDSStQR1ZzYkdsd2MyVWdabWxzYkQwaUl6STVZalptTWlJZ1kzZzlJakV5SWlCamVUMGlNVElpSUhKNFBTSXhNaUlnY25rOUlqRXlJaTgrUEhCaGRHZ2dkSEpoYm5ObWIzSnRQU0p6WTJGc1pTZ3dMamdwSUhSeVlXNXpiR0YwWlNneUxqUXNJREl1TkNraUlITjBjbTlyWlQwaUkyWm1aaUlnWm1sc2JEMGlJMlptWmlJZ1pEMGlUVEV5SURaMk0ydzBMVFF0TkMwMGRqTmpMVFF1TkRJZ01DMDRJRE11TlRndE9DQTRJREFnTVM0MU55NDBOaUF6TGpBeklERXVNalFnTkM0eU5rdzJMamNnTVRRdU9HTXRMalExTFM0NE15MHVOeTB4TGpjNUxTNDNMVEl1T0NBd0xUTXVNekVnTWk0Mk9TMDJJRFl0Tm5wdE5pNDNOaUF4TGpjMFRERTNMak1nT1M0eVl5NDBOQzQ0TkM0M0lERXVOemt1TnlBeUxqZ2dNQ0F6TGpNeExUSXVOamtnTmkwMklEWjJMVE5zTFRRZ05DQTBJRFIyTFROak5DNDBNaUF3SURndE15NDFPQ0E0TFRnZ01DMHhMalUzTFM0ME5pMHpMakF6TFRFdU1qUXROQzR5Tm5vaUx6NDhjR0YwYUNCa1BTSk5NQ0F3YURJMGRqSTBTREI2SWlCbWFXeHNQU0p1YjI1bElpOCtQQzl6ZG1jK0NnPT0iOgpJTUFHRV9QQVRIKyIvcmVmcmVzaC5wbmciLDM4LDM4KTtIb3Zlckljb25zLnByb3RvdHlwZS50b2xlcmFuY2U9bXhDbGllbnQuSVNfVE9VQ0g/NjowOwpIb3Zlckljb25zLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKCl7dGhpcy5hcnJvd1VwPXRoaXMuY3JlYXRlQXJyb3codGhpcy50cmlhbmdsZVVwLG14UmVzb3VyY2VzLmdldCgicGx1c1Rvb2x0aXAiKSk7dGhpcy5hcnJvd1JpZ2h0PXRoaXMuY3JlYXRlQXJyb3codGhpcy50cmlhbmdsZVJpZ2h0LG14UmVzb3VyY2VzLmdldCgicGx1c1Rvb2x0aXAiKSk7dGhpcy5hcnJvd0Rvd249dGhpcy5jcmVhdGVBcnJvdyh0aGlzLnRyaWFuZ2xlRG93bixteFJlc291cmNlcy5nZXQoInBsdXNUb29sdGlwIikpO3RoaXMuYXJyb3dMZWZ0PXRoaXMuY3JlYXRlQXJyb3codGhpcy50cmlhbmdsZUxlZnQsbXhSZXNvdXJjZXMuZ2V0KCJwbHVzVG9vbHRpcCIpKTt0aGlzLmVsdHM9W3RoaXMuYXJyb3dVcCx0aGlzLmFycm93UmlnaHQsdGhpcy5hcnJvd0Rvd24sdGhpcy5hcnJvd0xlZnRdO3RoaXMucmVzZXRIYW5kbGVyPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dGhpcy5yZXNldCgpfSk7dGhpcy5yZXBhaW50SGFuZGxlcj0KbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt0aGlzLnJlcGFpbnQoKX0pO3RoaXMuZ3JhcGguc2VsZWN0aW9uTW9kZWwuYWRkTGlzdGVuZXIobXhFdmVudC5DSEFOR0UsdGhpcy5yZXNldEhhbmRsZXIpO3RoaXMuZ3JhcGgubW9kZWwuYWRkTGlzdGVuZXIobXhFdmVudC5DSEFOR0UsdGhpcy5yZXBhaW50SGFuZGxlcik7dGhpcy5ncmFwaC52aWV3LmFkZExpc3RlbmVyKG14RXZlbnQuU0NBTEVfQU5EX1RSQU5TTEFURSx0aGlzLnJlcGFpbnRIYW5kbGVyKTt0aGlzLmdyYXBoLnZpZXcuYWRkTGlzdGVuZXIobXhFdmVudC5UUkFOU0xBVEUsdGhpcy5yZXBhaW50SGFuZGxlcik7dGhpcy5ncmFwaC52aWV3LmFkZExpc3RlbmVyKG14RXZlbnQuU0NBTEUsdGhpcy5yZXBhaW50SGFuZGxlcik7dGhpcy5ncmFwaC52aWV3LmFkZExpc3RlbmVyKG14RXZlbnQuRE9XTix0aGlzLnJlcGFpbnRIYW5kbGVyKTt0aGlzLmdyYXBoLnZpZXcuYWRkTGlzdGVuZXIobXhFdmVudC5VUCx0aGlzLnJlcGFpbnRIYW5kbGVyKTsKdGhpcy5ncmFwaC5hZGRMaXN0ZW5lcihteEV2ZW50LlJPT1QsdGhpcy5yZXBhaW50SGFuZGxlcik7dGhpcy5ncmFwaC5hZGRMaXN0ZW5lcihteEV2ZW50LkVTQ0FQRSx0aGlzLnJlc2V0SGFuZGxlcik7bXhFdmVudC5hZGRMaXN0ZW5lcih0aGlzLmdyYXBoLmNvbnRhaW5lciwic2Nyb2xsIix0aGlzLnJlc2V0SGFuZGxlcik7dGhpcy5ncmFwaC5hZGRMaXN0ZW5lcihteEV2ZW50LkVTQ0FQRSxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMubW91c2VEb3duUG9pbnQ9bnVsbH0pKTtteEV2ZW50LmFkZExpc3RlbmVyKHRoaXMuZ3JhcGguY29udGFpbmVyLCJtb3VzZWxlYXZlIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXtudWxsIT1hLnJlbGF0ZWRUYXJnZXQmJm14RXZlbnQuZ2V0U291cmNlKGEpPT10aGlzLmdyYXBoLmNvbnRhaW5lciYmdGhpcy5zZXREaXNwbGF5KCJub25lIil9KSk7dGhpcy5ncmFwaC5hZGRMaXN0ZW5lcihteEV2ZW50LlNUQVJUX0VESVRJTkcsCm14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3RoaXMucmVzZXQoKX0pKTt2YXIgYT10aGlzLmdyYXBoLmNsaWNrO3RoaXMuZ3JhcGguY2xpY2s9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oZCl7YS5hcHBseSh0aGlzLmdyYXBoLGFyZ3VtZW50cyk7bnVsbD09dGhpcy5jdXJyZW50U3RhdGV8fHRoaXMuZ3JhcGguaXNDZWxsU2VsZWN0ZWQodGhpcy5jdXJyZW50U3RhdGUuY2VsbCl8fCFteEV2ZW50LmlzVG91Y2hFdmVudChkLmdldEV2ZW50KCkpfHx0aGlzLmdyYXBoLm1vZGVsLmlzVmVydGV4KGQuZ2V0Q2VsbCgpKXx8dGhpcy5yZXNldCgpfSk7dmFyIGQ9ITE7dGhpcy5ncmFwaC5hZGRNb3VzZUxpc3RlbmVyKHttb3VzZURvd246bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSxjKXtkPSExO3ZhciBmPWMuZ2V0RXZlbnQoKTtpZih0aGlzLmlzUmVzZXRFdmVudChmKSl0aGlzLnJlc2V0KCk7ZWxzZSBpZighdGhpcy5pc0FjdGl2ZSgpKXt2YXIgaz10aGlzLmdldFN0YXRlKGMuZ2V0U3RhdGUoKSk7Cm51bGw9PWsmJm14RXZlbnQuaXNUb3VjaEV2ZW50KGYpfHx0aGlzLnVwZGF0ZShrKX10aGlzLnNldERpc3BsYXkoIm5vbmUiKX0pLG1vdXNlTW92ZTpteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhLGMpe3ZhciBmPWMuZ2V0RXZlbnQoKTt0aGlzLmlzUmVzZXRFdmVudChmKT90aGlzLnJlc2V0KCk6dGhpcy5ncmFwaC5pc01vdXNlRG93bnx8bXhFdmVudC5pc1RvdWNoRXZlbnQoZil8fHRoaXMudXBkYXRlKHRoaXMuZ2V0U3RhdGUoYy5nZXRTdGF0ZSgpKSxjLmdldEdyYXBoWCgpLGMuZ2V0R3JhcGhZKCkpO251bGwhPXRoaXMuZ3JhcGguY29ubmVjdGlvbkhhbmRsZXImJm51bGwhPXRoaXMuZ3JhcGguY29ubmVjdGlvbkhhbmRsZXIuc2hhcGUmJihkPSEwKX0pLG1vdXNlVXA6bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSxjKXt2YXIgZj1jLmdldEV2ZW50KCk7bXhVdGlscy5jb252ZXJ0UG9pbnQodGhpcy5ncmFwaC5jb250YWluZXIsbXhFdmVudC5nZXRDbGllbnRYKGYpLG14RXZlbnQuZ2V0Q2xpZW50WShmKSk7CnRoaXMuaXNSZXNldEV2ZW50KGYpP3RoaXMucmVzZXQoKTp0aGlzLmlzQWN0aXZlKCkmJiFkJiZudWxsIT10aGlzLm1vdXNlRG93blBvaW50P3RoaXMuY2xpY2sodGhpcy5jdXJyZW50U3RhdGUsdGhpcy5nZXREaXJlY3Rpb24oKSxjKTp0aGlzLmlzQWN0aXZlKCk/MT09dGhpcy5ncmFwaC5nZXRTZWxlY3Rpb25Db3VudCgpJiZ0aGlzLmdyYXBoLm1vZGVsLmlzRWRnZSh0aGlzLmdyYXBoLmdldFNlbGVjdGlvbkNlbGwoKSk/dGhpcy5yZXNldCgpOnRoaXMudXBkYXRlKHRoaXMuZ2V0U3RhdGUodGhpcy5ncmFwaC52aWV3LmdldFN0YXRlKHRoaXMuZ3JhcGguZ2V0Q2VsbEF0KGMuZ2V0R3JhcGhYKCksYy5nZXRHcmFwaFkoKSkpKSk6bXhFdmVudC5pc1RvdWNoRXZlbnQoZil8fG51bGwhPXRoaXMuYmJveCYmbXhVdGlscy5jb250YWlucyh0aGlzLmJib3gsYy5nZXRHcmFwaFgoKSxjLmdldEdyYXBoWSgpKT8odGhpcy5zZXREaXNwbGF5KCIiKSx0aGlzLnJlcGFpbnQoKSk6bXhFdmVudC5pc1RvdWNoRXZlbnQoZil8fAp0aGlzLnJlc2V0KCk7ZD0hMTt0aGlzLnJlc2V0QWN0aXZlQXJyb3coKX0pfSl9O0hvdmVySWNvbnMucHJvdG90eXBlLmlzUmVzZXRFdmVudD1mdW5jdGlvbihhLGQpe3JldHVybiBteEV2ZW50LmlzQWx0RG93bihhKXx8bnVsbD09dGhpcy5hY3RpdmVBcnJvdyYmbXhFdmVudC5pc1NoaWZ0RG93bihhKXx8bXhFdmVudC5pc01ldGFEb3duKGEpfHxteEV2ZW50LmlzUG9wdXBUcmlnZ2VyKGEpJiYhbXhFdmVudC5pc0NvbnRyb2xEb3duKGEpfTsKSG92ZXJJY29ucy5wcm90b3R5cGUuY3JlYXRlQXJyb3c9ZnVuY3Rpb24oYSxkKXt2YXIgZj1udWxsO214Q2xpZW50LklTX0lFJiYhbXhDbGllbnQuSVNfU1ZHPyhteENsaWVudC5JU19JRTYmJiJDU1MxQ29tcGF0IiE9ZG9jdW1lbnQuY29tcGF0TW9kZT8oZj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KG14Q2xpZW50LlZNTF9QUkVGSVgrIjppbWFnZSIpLGYuc2V0QXR0cmlidXRlKCJzcmMiLGEuc3JjKSxmLnN0eWxlLmJvcmRlclN0eWxlPSJub25lIik6KGY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IiksZi5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2U9InVybCgiK2Euc3JjKyIpIixmLnN0eWxlLmJhY2tncm91bmRQb3NpdGlvbj0iY2VudGVyIixmLnN0eWxlLmJhY2tncm91bmRSZXBlYXQ9Im5vLXJlcGVhdCIpLGYuc3R5bGUud2lkdGg9YS53aWR0aCs0KyJweCIsZi5zdHlsZS5oZWlnaHQ9YS5oZWlnaHQrNCsicHgiLGYuc3R5bGUuZGlzcGxheT1teENsaWVudC5JU19RVUlSS1M/ImlubGluZSI6CiJpbmxpbmUtYmxvY2siKTooZj1teFV0aWxzLmNyZWF0ZUltYWdlKGEuc3JjKSxmLnN0eWxlLndpZHRoPWEud2lkdGgrInB4IixmLnN0eWxlLmhlaWdodD1hLmhlaWdodCsicHgiLGYuc3R5bGUucGFkZGluZz10aGlzLnRvbGVyYW5jZSsicHgiKTtudWxsIT1kJiZmLnNldEF0dHJpYnV0ZSgidGl0bGUiLGQpO2Yuc3R5bGUucG9zaXRpb249ImFic29sdXRlIjtmLnN0eWxlLmN1cnNvcj10aGlzLmNzc0N1cnNvcjtteEV2ZW50LmFkZEdlc3R1cmVMaXN0ZW5lcnMoZixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXtudWxsPT10aGlzLmN1cnJlbnRTdGF0ZXx8dGhpcy5pc1Jlc2V0RXZlbnQoYSl8fCh0aGlzLm1vdXNlRG93blBvaW50PW14VXRpbHMuY29udmVydFBvaW50KHRoaXMuZ3JhcGguY29udGFpbmVyLG14RXZlbnQuZ2V0Q2xpZW50WChhKSxteEV2ZW50LmdldENsaWVudFkoYSkpLHRoaXMuZHJhZyhhLHRoaXMubW91c2VEb3duUG9pbnQueCx0aGlzLm1vdXNlRG93blBvaW50LnkpLAp0aGlzLmFjdGl2ZUFycm93PWYsdGhpcy5zZXREaXNwbGF5KCJub25lIiksbXhFdmVudC5jb25zdW1lKGEpKX0pKTtteEV2ZW50LnJlZGlyZWN0TW91c2VFdmVudHMoZix0aGlzLmdyYXBoLHRoaXMuY3VycmVudFN0YXRlKTtteEV2ZW50LmFkZExpc3RlbmVyKGYsIm1vdXNlZW50ZXIiLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe214RXZlbnQuaXNNb3VzZUV2ZW50KGEpJiYobnVsbCE9dGhpcy5hY3RpdmVBcnJvdyYmdGhpcy5hY3RpdmVBcnJvdyE9ZiYmbXhVdGlscy5zZXRPcGFjaXR5KHRoaXMuYWN0aXZlQXJyb3csdGhpcy5pbmFjdGl2ZU9wYWNpdHkpLHRoaXMuZ3JhcGguY29ubmVjdGlvbkhhbmRsZXIuY29uc3RyYWludEhhbmRsZXIucmVzZXQoKSxteFV0aWxzLnNldE9wYWNpdHkoZiwxMDApLHRoaXMuYWN0aXZlQXJyb3c9Zil9KSk7bXhFdmVudC5hZGRMaXN0ZW5lcihmLCJtb3VzZWxlYXZlIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXt0aGlzLmdyYXBoLmlzTW91c2VEb3dufHwKdGhpcy5yZXNldEFjdGl2ZUFycm93KCl9KSk7cmV0dXJuIGZ9O0hvdmVySWNvbnMucHJvdG90eXBlLnJlc2V0QWN0aXZlQXJyb3c9ZnVuY3Rpb24oKXtudWxsIT10aGlzLmFjdGl2ZUFycm93JiYobXhVdGlscy5zZXRPcGFjaXR5KHRoaXMuYWN0aXZlQXJyb3csdGhpcy5pbmFjdGl2ZU9wYWNpdHkpLHRoaXMuYWN0aXZlQXJyb3c9bnVsbCl9O0hvdmVySWNvbnMucHJvdG90eXBlLmdldERpcmVjdGlvbj1mdW5jdGlvbigpe3ZhciBhPW14Q29uc3RhbnRzLkRJUkVDVElPTl9FQVNUO3RoaXMuYWN0aXZlQXJyb3c9PXRoaXMuYXJyb3dVcD9hPW14Q29uc3RhbnRzLkRJUkVDVElPTl9OT1JUSDp0aGlzLmFjdGl2ZUFycm93PT10aGlzLmFycm93RG93bj9hPW14Q29uc3RhbnRzLkRJUkVDVElPTl9TT1VUSDp0aGlzLmFjdGl2ZUFycm93PT10aGlzLmFycm93TGVmdCYmKGE9bXhDb25zdGFudHMuRElSRUNUSU9OX1dFU1QpO3JldHVybiBhfTsKSG92ZXJJY29ucy5wcm90b3R5cGUudmlzaXROb2Rlcz1mdW5jdGlvbihhKXtmb3IodmFyIGQ9MDtkPHRoaXMuZWx0cy5sZW5ndGg7ZCsrKW51bGwhPXRoaXMuZWx0c1tkXSYmYSh0aGlzLmVsdHNbZF0pfTtIb3Zlckljb25zLnByb3RvdHlwZS5yZW1vdmVOb2Rlcz1mdW5jdGlvbigpe3RoaXMudmlzaXROb2RlcyhmdW5jdGlvbihhKXtudWxsIT1hLnBhcmVudE5vZGUmJmEucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChhKX0pfTtIb3Zlckljb25zLnByb3RvdHlwZS5zZXREaXNwbGF5PWZ1bmN0aW9uKGEpe3RoaXMudmlzaXROb2RlcyhmdW5jdGlvbihkKXtkLnN0eWxlLmRpc3BsYXk9YX0pfTtIb3Zlckljb25zLnByb3RvdHlwZS5pc0FjdGl2ZT1mdW5jdGlvbigpe3JldHVybiBudWxsIT10aGlzLmFjdGl2ZUFycm93JiZudWxsIT10aGlzLmN1cnJlbnRTdGF0ZX07CkhvdmVySWNvbnMucHJvdG90eXBlLmRyYWc9ZnVuY3Rpb24oYSxkLGYpe3RoaXMuZ3JhcGgucG9wdXBNZW51SGFuZGxlci5oaWRlTWVudSgpO3RoaXMuZ3JhcGguc3RvcEVkaXRpbmcoITEpO251bGwhPXRoaXMuY3VycmVudFN0YXRlJiYodGhpcy5ncmFwaC5jb25uZWN0aW9uSGFuZGxlci5zdGFydCh0aGlzLmN1cnJlbnRTdGF0ZSxkLGYpLHRoaXMuZ3JhcGguaXNNb3VzZVRyaWdnZXI9bXhFdmVudC5pc01vdXNlRXZlbnQoYSksdGhpcy5ncmFwaC5pc01vdXNlRG93bj0hMCxkPXRoaXMuZ3JhcGguc2VsZWN0aW9uQ2VsbHNIYW5kbGVyLmdldEhhbmRsZXIodGhpcy5jdXJyZW50U3RhdGUuY2VsbCksbnVsbCE9ZCYmZC5zZXRIYW5kbGVzVmlzaWJsZSghMSksZD10aGlzLmdyYXBoLmNvbm5lY3Rpb25IYW5kbGVyLmVkZ2VTdGF0ZSxudWxsIT1hJiZteEV2ZW50LmlzU2hpZnREb3duKGEpJiZteEV2ZW50LmlzQ29udHJvbERvd24oYSkmJm51bGwhPWQmJiJvcnRob2dvbmFsRWRnZVN0eWxlIj09PQpteFV0aWxzLmdldFZhbHVlKGQuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfRURHRSxudWxsKSYmKGE9dGhpcy5nZXREaXJlY3Rpb24oKSxkLmNlbGwuc3R5bGU9bXhVdGlscy5zZXRTdHlsZShkLmNlbGwuc3R5bGUsInNvdXJjZVBvcnRDb25zdHJhaW50IixhKSxkLnN0eWxlLnNvdXJjZVBvcnRDb25zdHJhaW50PWEpKX07SG92ZXJJY29ucy5wcm90b3R5cGUuZ2V0U3RhdGVBdD1mdW5jdGlvbihhLGQsZil7cmV0dXJuIHRoaXMuZ3JhcGgudmlldy5nZXRTdGF0ZSh0aGlzLmdyYXBoLmdldENlbGxBdChkLGYpKX07CkhvdmVySWNvbnMucHJvdG90eXBlLmNsaWNrPWZ1bmN0aW9uKGEsZCxmKXt2YXIgYz1mLmdldEV2ZW50KCksbT1mLmdldEdyYXBoWCgpLGs9Zi5nZXRHcmFwaFkoKSxtPXRoaXMuZ2V0U3RhdGVBdChhLG0sayk7bnVsbD09bXx8IXRoaXMuZ3JhcGgubW9kZWwuaXNFZGdlKG0uY2VsbCl8fG14RXZlbnQuaXNDb250cm9sRG93bihjKXx8bS5nZXRWaXNpYmxlVGVybWluYWxTdGF0ZSghMCkhPWEmJm0uZ2V0VmlzaWJsZVRlcm1pbmFsU3RhdGUoITEpIT1hP251bGwhPWEmJnRoaXMuZ3JhcGguc2VsZWN0Q2VsbHNGb3JDb25uZWN0VmVydGV4KHRoaXMuZ3JhcGguY29ubmVjdFZlcnRleChhLmNlbGwsZCx0aGlzLmdyYXBoLmRlZmF1bHRFZGdlTGVuZ3RoLGMpLGMsdGhpcyk6KHRoaXMuZ3JhcGguc2V0U2VsZWN0aW9uQ2VsbChtLmNlbGwpLHRoaXMucmVzZXQoKSk7Zi5jb25zdW1lKCl9OwpIb3Zlckljb25zLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbihhKXtudWxsIT1hJiYhYXx8bnVsbD09dGhpcy51cGRhdGVUaHJlYWR8fHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy51cGRhdGVUaHJlYWQpO3RoaXMuYWN0aXZlQXJyb3c9dGhpcy5jdXJyZW50U3RhdGU9dGhpcy5tb3VzZURvd25Qb2ludD1udWxsO3RoaXMucmVtb3ZlTm9kZXMoKTt0aGlzLmJib3g9bnVsbH07CkhvdmVySWNvbnMucHJvdG90eXBlLnJlcGFpbnQ9ZnVuY3Rpb24oKXt0aGlzLmJib3g9bnVsbDtpZihudWxsIT10aGlzLmN1cnJlbnRTdGF0ZSl7dGhpcy5jdXJyZW50U3RhdGU9dGhpcy5nZXRTdGF0ZSh0aGlzLmN1cnJlbnRTdGF0ZSk7aWYobnVsbCE9dGhpcy5jdXJyZW50U3RhdGUmJnRoaXMuZ3JhcGgubW9kZWwuaXNWZXJ0ZXgodGhpcy5jdXJyZW50U3RhdGUuY2VsbCkmJnRoaXMuZ3JhcGguaXNDZWxsQ29ubmVjdGFibGUodGhpcy5jdXJyZW50U3RhdGUuY2VsbCkpe3ZhciBhPW14UmVjdGFuZ2xlLmZyb21SZWN0YW5nbGUodGhpcy5jdXJyZW50U3RhdGUpO251bGwhPXRoaXMuY3VycmVudFN0YXRlLnNoYXBlJiZudWxsIT10aGlzLmN1cnJlbnRTdGF0ZS5zaGFwZS5ib3VuZGluZ0JveCYmKGE9bXhSZWN0YW5nbGUuZnJvbVJlY3RhbmdsZSh0aGlzLmN1cnJlbnRTdGF0ZS5zaGFwZS5ib3VuZGluZ0JveCkpO2EuZ3Jvdyh0aGlzLmdyYXBoLnRvbGVyYW5jZSk7YS5ncm93KHRoaXMuYXJyb3dTcGFjaW5nKTsKdmFyIGQ9dGhpcy5ncmFwaC5zZWxlY3Rpb25DZWxsc0hhbmRsZXIuZ2V0SGFuZGxlcih0aGlzLmN1cnJlbnRTdGF0ZS5jZWxsKTt0aGlzLmdyYXBoLmlzVGFibGVSb3codGhpcy5jdXJyZW50U3RhdGUuY2VsbCkmJihkPXRoaXMuZ3JhcGguc2VsZWN0aW9uQ2VsbHNIYW5kbGVyLmdldEhhbmRsZXIodGhpcy5ncmFwaC5tb2RlbC5nZXRQYXJlbnQodGhpcy5jdXJyZW50U3RhdGUuY2VsbCkpKTt2YXIgZj1udWxsO251bGwhPWQmJihhLngtPWQuaG9yaXpvbnRhbE9mZnNldC8yLGEueS09ZC52ZXJ0aWNhbE9mZnNldC8yLGEud2lkdGgrPWQuaG9yaXpvbnRhbE9mZnNldCxhLmhlaWdodCs9ZC52ZXJ0aWNhbE9mZnNldCxudWxsIT1kLnJvdGF0aW9uU2hhcGUmJm51bGwhPWQucm90YXRpb25TaGFwZS5ub2RlJiYiaGlkZGVuIiE9ZC5yb3RhdGlvblNoYXBlLm5vZGUuc3R5bGUudmlzaWJpbGl0eSYmIm5vbmUiIT1kLnJvdGF0aW9uU2hhcGUubm9kZS5zdHlsZS5kaXNwbGF5JiZudWxsIT1kLnJvdGF0aW9uU2hhcGUuYm91bmRpbmdCb3gmJgooZj1kLnJvdGF0aW9uU2hhcGUuYm91bmRpbmdCb3gpKTtkPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEsZSxkKXtpZihudWxsIT1mKXt2YXIgYj1uZXcgbXhSZWN0YW5nbGUoZSxkLGEuY2xpZW50V2lkdGgsYS5jbGllbnRIZWlnaHQpO214VXRpbHMuaW50ZXJzZWN0cyhiLGYpJiYoYT09dGhpcy5hcnJvd1VwP2QtPWIueStiLmhlaWdodC1mLnk6YT09dGhpcy5hcnJvd1JpZ2h0P2UrPWYueCtmLndpZHRoLWIueDphPT10aGlzLmFycm93RG93bj9kKz1mLnkrZi5oZWlnaHQtYi55OmE9PXRoaXMuYXJyb3dMZWZ0JiYoZS09Yi54K2Iud2lkdGgtZi54KSl9YS5zdHlsZS5sZWZ0PWUrInB4IjthLnN0eWxlLnRvcD1kKyJweCI7bXhVdGlscy5zZXRPcGFjaXR5KGEsdGhpcy5pbmFjdGl2ZU9wYWNpdHkpfSk7ZCh0aGlzLmFycm93VXAsTWF0aC5yb3VuZCh0aGlzLmN1cnJlbnRTdGF0ZS5nZXRDZW50ZXJYKCktdGhpcy50cmlhbmdsZVVwLndpZHRoLzItdGhpcy50b2xlcmFuY2UpLE1hdGgucm91bmQoYS55LQp0aGlzLnRyaWFuZ2xlVXAuaGVpZ2h0LXRoaXMudG9sZXJhbmNlKSk7ZCh0aGlzLmFycm93UmlnaHQsTWF0aC5yb3VuZChhLngrYS53aWR0aC10aGlzLnRvbGVyYW5jZSksTWF0aC5yb3VuZCh0aGlzLmN1cnJlbnRTdGF0ZS5nZXRDZW50ZXJZKCktdGhpcy50cmlhbmdsZVJpZ2h0LmhlaWdodC8yLXRoaXMudG9sZXJhbmNlKSk7ZCh0aGlzLmFycm93RG93bixwYXJzZUludCh0aGlzLmFycm93VXAuc3R5bGUubGVmdCksTWF0aC5yb3VuZChhLnkrYS5oZWlnaHQtdGhpcy50b2xlcmFuY2UpKTtkKHRoaXMuYXJyb3dMZWZ0LE1hdGgucm91bmQoYS54LXRoaXMudHJpYW5nbGVMZWZ0LndpZHRoLXRoaXMudG9sZXJhbmNlKSxwYXJzZUludCh0aGlzLmFycm93UmlnaHQuc3R5bGUudG9wKSk7aWYodGhpcy5jaGVja0NvbGxpc2lvbnMpe3ZhciBkPXRoaXMuZ3JhcGguZ2V0Q2VsbEF0KGEueCthLndpZHRoK3RoaXMudHJpYW5nbGVSaWdodC53aWR0aC8yLHRoaXMuY3VycmVudFN0YXRlLmdldENlbnRlclkoKSksCmM9dGhpcy5ncmFwaC5nZXRDZWxsQXQoYS54LXRoaXMudHJpYW5nbGVMZWZ0LndpZHRoLzIsdGhpcy5jdXJyZW50U3RhdGUuZ2V0Q2VudGVyWSgpKSxtPXRoaXMuZ3JhcGguZ2V0Q2VsbEF0KHRoaXMuY3VycmVudFN0YXRlLmdldENlbnRlclgoKSxhLnktdGhpcy50cmlhbmdsZVVwLmhlaWdodC8yKSxhPXRoaXMuZ3JhcGguZ2V0Q2VsbEF0KHRoaXMuY3VycmVudFN0YXRlLmdldENlbnRlclgoKSxhLnkrYS5oZWlnaHQrdGhpcy50cmlhbmdsZURvd24uaGVpZ2h0LzIpO251bGwhPWQmJmQ9PWMmJmM9PW0mJm09PWEmJihhPW09Yz1kPW51bGwpO3ZhciBrPXRoaXMuZ3JhcGguZ2V0Q2VsbEdlb21ldHJ5KHRoaXMuY3VycmVudFN0YXRlLmNlbGwpLHE9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSxlKXt2YXIgYj10aGlzLmdyYXBoLm1vZGVsLmlzVmVydGV4KGEpJiZ0aGlzLmdyYXBoLmdldENlbGxHZW9tZXRyeShhKTtudWxsPT1hfHx0aGlzLmdyYXBoLm1vZGVsLmlzQW5jZXN0b3IoYSwKdGhpcy5jdXJyZW50U3RhdGUuY2VsbCl8fHRoaXMuZ3JhcGguaXNTd2ltbGFuZShhKXx8IShudWxsPT1ifHxudWxsPT1rfHxiLmhlaWdodDwzKmsuaGVpZ2h0JiZiLndpZHRoPDMqay53aWR0aCk/ZS5zdHlsZS52aXNpYmlsaXR5PSJ2aXNpYmxlIjplLnN0eWxlLnZpc2liaWxpdHk9ImhpZGRlbiJ9KTtxKGQsdGhpcy5hcnJvd1JpZ2h0KTtxKGMsdGhpcy5hcnJvd0xlZnQpO3EobSx0aGlzLmFycm93VXApO3EoYSx0aGlzLmFycm93RG93bil9ZWxzZSB0aGlzLmFycm93TGVmdC5zdHlsZS52aXNpYmlsaXR5PSJ2aXNpYmxlIix0aGlzLmFycm93UmlnaHQuc3R5bGUudmlzaWJpbGl0eT0idmlzaWJsZSIsdGhpcy5hcnJvd1VwLnN0eWxlLnZpc2liaWxpdHk9InZpc2libGUiLHRoaXMuYXJyb3dEb3duLnN0eWxlLnZpc2liaWxpdHk9InZpc2libGUiO3RoaXMuZ3JhcGgudG9vbHRpcEhhbmRsZXIuaXNFbmFibGVkKCk/KHRoaXMuYXJyb3dMZWZ0LnNldEF0dHJpYnV0ZSgidGl0bGUiLG14UmVzb3VyY2VzLmdldCgicGx1c1Rvb2x0aXAiKSksCnRoaXMuYXJyb3dSaWdodC5zZXRBdHRyaWJ1dGUoInRpdGxlIixteFJlc291cmNlcy5nZXQoInBsdXNUb29sdGlwIikpLHRoaXMuYXJyb3dVcC5zZXRBdHRyaWJ1dGUoInRpdGxlIixteFJlc291cmNlcy5nZXQoInBsdXNUb29sdGlwIikpLHRoaXMuYXJyb3dEb3duLnNldEF0dHJpYnV0ZSgidGl0bGUiLG14UmVzb3VyY2VzLmdldCgicGx1c1Rvb2x0aXAiKSkpOih0aGlzLmFycm93TGVmdC5yZW1vdmVBdHRyaWJ1dGUoInRpdGxlIiksdGhpcy5hcnJvd1JpZ2h0LnJlbW92ZUF0dHJpYnV0ZSgidGl0bGUiKSx0aGlzLmFycm93VXAucmVtb3ZlQXR0cmlidXRlKCJ0aXRsZSIpLHRoaXMuYXJyb3dEb3duLnJlbW92ZUF0dHJpYnV0ZSgidGl0bGUiKSl9ZWxzZSB0aGlzLnJlc2V0KCk7bnVsbCE9dGhpcy5jdXJyZW50U3RhdGUmJih0aGlzLmJib3g9dGhpcy5jb21wdXRlQm91bmRpbmdCb3goKSxudWxsIT10aGlzLmJib3gmJnRoaXMuYmJveC5ncm93KDEwKSl9fTsKSG92ZXJJY29ucy5wcm90b3R5cGUuY29tcHV0ZUJvdW5kaW5nQm94PWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5ncmFwaC5tb2RlbC5pc0VkZ2UodGhpcy5jdXJyZW50U3RhdGUuY2VsbCk/bnVsbDpteFJlY3RhbmdsZS5mcm9tUmVjdGFuZ2xlKHRoaXMuY3VycmVudFN0YXRlKTt0aGlzLnZpc2l0Tm9kZXMoZnVuY3Rpb24oZCl7bnVsbCE9ZC5wYXJlbnROb2RlJiYoZD1uZXcgbXhSZWN0YW5nbGUoZC5vZmZzZXRMZWZ0LGQub2Zmc2V0VG9wLGQub2Zmc2V0V2lkdGgsZC5vZmZzZXRIZWlnaHQpLG51bGw9PWE/YT1kOmEuYWRkKGQpKX0pO3JldHVybiBhfTsKSG92ZXJJY29ucy5wcm90b3R5cGUuZ2V0U3RhdGU9ZnVuY3Rpb24oYSl7aWYobnVsbCE9YSlpZihhPWEuY2VsbCx0aGlzLmdyYXBoLmdldE1vZGVsKCkuY29udGFpbnMoYSkpe2lmKHRoaXMuZ3JhcGguZ2V0TW9kZWwoKS5pc1ZlcnRleChhKSYmIXRoaXMuZ3JhcGguaXNDZWxsQ29ubmVjdGFibGUoYSkpe3ZhciBkPXRoaXMuZ3JhcGguZ2V0TW9kZWwoKS5nZXRQYXJlbnQoYSk7dGhpcy5ncmFwaC5nZXRNb2RlbCgpLmlzVmVydGV4KGQpJiZ0aGlzLmdyYXBoLmlzQ2VsbENvbm5lY3RhYmxlKGQpJiYoYT1kKX1pZih0aGlzLmdyYXBoLmlzQ2VsbExvY2tlZChhKXx8dGhpcy5ncmFwaC5tb2RlbC5pc0VkZ2UoYSkpYT1udWxsO2E9dGhpcy5ncmFwaC52aWV3LmdldFN0YXRlKGEpO251bGwhPWEmJm51bGw9PWEuc3R5bGUmJihhPW51bGwpfWVsc2UgYT1udWxsO3JldHVybiBhfTsKSG92ZXJJY29ucy5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKGEsZCxmKXtpZighdGhpcy5ncmFwaC5jb25uZWN0aW9uQXJyb3dzRW5hYmxlZHx8bnVsbCE9YSYmIjAiPT1teFV0aWxzLmdldFZhbHVlKGEuc3R5bGUsImFsbG93QXJyb3dzIiwiMSIpKXRoaXMucmVzZXQoKTtlbHNle251bGwhPWEmJm51bGwhPWEuY2VsbC5nZW9tZXRyeSYmYS5jZWxsLmdlb21ldHJ5LnJlbGF0aXZlJiZ0aGlzLmdyYXBoLm1vZGVsLmlzRWRnZShhLmNlbGwucGFyZW50KSYmKGE9bnVsbCk7dmFyIGM9bnVsbDt0aGlzLnByZXYhPWF8fHRoaXMuaXNBY3RpdmUoKT8odGhpcy5zdGFydFRpbWU9KG5ldyBEYXRlKS5nZXRUaW1lKCksdGhpcy5wcmV2PWEsYz0wLG51bGwhPXRoaXMudXBkYXRlVGhyZWFkJiZ3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMudXBkYXRlVGhyZWFkKSxudWxsIT1hJiYodGhpcy51cGRhdGVUaHJlYWQ9d2luZG93LnNldFRpbWVvdXQobXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt0aGlzLmlzQWN0aXZlKCl8fAp0aGlzLmdyYXBoLmlzTW91c2VEb3dufHx0aGlzLmdyYXBoLnBhbm5pbmdIYW5kbGVyLmlzQWN0aXZlKCl8fCh0aGlzLnByZXY9YSx0aGlzLnVwZGF0ZShhLGQsZikpfSksdGhpcy51cGRhdGVEZWxheSsxMCkpKTpudWxsIT10aGlzLnN0YXJ0VGltZSYmKGM9KG5ldyBEYXRlKS5nZXRUaW1lKCktdGhpcy5zdGFydFRpbWUpO3RoaXMuc2V0RGlzcGxheSgiIik7bnVsbCE9dGhpcy5jdXJyZW50U3RhdGUmJnRoaXMuY3VycmVudFN0YXRlIT1hJiZjPHRoaXMuYWN0aXZhdGlvbkRlbGF5JiZudWxsIT10aGlzLmJib3gmJiFteFV0aWxzLmNvbnRhaW5zKHRoaXMuYmJveCxkLGYpP3RoaXMucmVzZXQoITEpOihudWxsIT10aGlzLmN1cnJlbnRTdGF0ZXx8Yz50aGlzLmFjdGl2YXRpb25EZWxheSkmJnRoaXMuY3VycmVudFN0YXRlIT1hJiYoYz50aGlzLnVwZGF0ZURlbGF5JiZudWxsIT1hfHxudWxsPT10aGlzLmJib3h8fG51bGw9PWR8fG51bGw9PWZ8fCFteFV0aWxzLmNvbnRhaW5zKHRoaXMuYmJveCwKZCxmKSkmJihudWxsIT1hJiZ0aGlzLmdyYXBoLmlzRW5hYmxlZCgpPyh0aGlzLnJlbW92ZU5vZGVzKCksdGhpcy5zZXRDdXJyZW50U3RhdGUoYSksdGhpcy5yZXBhaW50KCksdGhpcy5ncmFwaC5jb25uZWN0aW9uSGFuZGxlci5jb25zdHJhaW50SGFuZGxlci5jdXJyZW50Rm9jdXMhPWEmJnRoaXMuZ3JhcGguY29ubmVjdGlvbkhhbmRsZXIuY29uc3RyYWludEhhbmRsZXIucmVzZXQoKSk6dGhpcy5yZXNldCgpKX19OwpIb3Zlckljb25zLnByb3RvdHlwZS5zZXRDdXJyZW50U3RhdGU9ZnVuY3Rpb24oYSl7ImVhc3R3ZXN0IiE9YS5zdHlsZS5wb3J0Q29uc3RyYWludCYmKHRoaXMuZ3JhcGguY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuYXJyb3dVcCksdGhpcy5ncmFwaC5jb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5hcnJvd0Rvd24pKTt0aGlzLmdyYXBoLmNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLmFycm93UmlnaHQpO3RoaXMuZ3JhcGguY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuYXJyb3dMZWZ0KTt0aGlzLmN1cnJlbnRTdGF0ZT1hfTtHcmFwaC5wcm90b3R5cGUuY3JlYXRlUGFyZW50PWZ1bmN0aW9uKGEsZCxmLGMsbSl7YT10aGlzLmNsb25lQ2VsbChhKTtmb3IodmFyIGs9MDtrPGY7aysrKXt2YXIgcT10aGlzLmNsb25lQ2VsbChkKSxiPXRoaXMuZ2V0Q2VsbEdlb21ldHJ5KHEpO251bGwhPWImJihiLngrPWsqYyxiLnkrPWsqbSk7YS5pbnNlcnQocSl9cmV0dXJuIGF9OwpHcmFwaC5wcm90b3R5cGUuY3JlYXRlVGFibGU9ZnVuY3Rpb24oYSxkLGYsYyxtLGsscSxiLGUpe2Y9bnVsbCE9Zj9mOjYwO2M9bnVsbCE9Yz9jOjQwO2s9bnVsbCE9az9rOjMwO2I9bnVsbCE9Yj9iOiJzaGFwZT1wYXJ0aWFsUmVjdGFuZ2xlO2h0bWw9MTt3aGl0ZVNwYWNlPXdyYXA7Y29sbGFwc2libGU9MDtkcm9wVGFyZ2V0PTA7cG9pbnRlckV2ZW50cz0wO2ZpbGxDb2xvcj1ub25lO3RvcD0wO2xlZnQ9MDtib3R0b209MDtyaWdodD0wO3BvaW50cz1bWzAsMC41XSxbMSwwLjVdXTtwb3J0Q29uc3RyYWludD1lYXN0d2VzdDsiO2U9bnVsbCE9ZT9lOiJzaGFwZT1wYXJ0aWFsUmVjdGFuZ2xlO2h0bWw9MTt3aGl0ZVNwYWNlPXdyYXA7Y29ubmVjdGFibGU9MDtvdmVyZmxvdz1oaWRkZW47ZmlsbENvbG9yPW5vbmU7dG9wPTA7bGVmdD0wO2JvdHRvbT0wO3JpZ2h0PTA7IjtyZXR1cm4gdGhpcy5jcmVhdGVQYXJlbnQodGhpcy5jcmVhdGVWZXJ0ZXgobnVsbCxudWxsLG51bGwhPW0/bToiIiwKMCwwLGQqZixhKmMrKG51bGwhPW0/azowKSxudWxsIT1xP3E6InNoYXBlPXRhYmxlO2h0bWw9MTt3aGl0ZVNwYWNlPXdyYXA7c3RhcnRTaXplPSIrKG51bGwhPW0/azoiMCIpKyI7Y29udGFpbmVyPTE7Y29sbGFwc2libGU9MDtjaGlsZExheW91dD10YWJsZUxheW91dDsiKSx0aGlzLmNyZWF0ZVBhcmVudCh0aGlzLmNyZWF0ZVZlcnRleChudWxsLG51bGwsIiIsMCwwLGQqZixjLGIpLHRoaXMuY3JlYXRlVmVydGV4KG51bGwsbnVsbCwiIiwwLDAsZixjLGUpLGQsZiwwKSxhLDAsYyl9OwpHcmFwaC5wcm90b3R5cGUuc2V0VGFibGVWYWx1ZXM9ZnVuY3Rpb24oYSxkLGYpe2Zvcih2YXIgYz10aGlzLm1vZGVsLmdldENoaWxkQ2VsbHMoYSwhMCksbT0wO208Yy5sZW5ndGg7bSsrKWlmKG51bGwhPWYmJihjW21dLnZhbHVlPWZbbV0pLG51bGwhPWQpZm9yKHZhciBrPXRoaXMubW9kZWwuZ2V0Q2hpbGRDZWxscyhjW21dLCEwKSxxPTA7cTxrLmxlbmd0aDtxKyspbnVsbCE9ZFttXVtxXSYmKGtbcV0udmFsdWU9ZFttXVtxXSk7cmV0dXJuIGF9OwpHcmFwaC5wcm90b3R5cGUuY3JlYXRlQ3Jvc3NGdW5jdGlvbmFsU3dpbWxhbmU9ZnVuY3Rpb24oYSxkLGYsYyxtLGsscSxiLGUpe2Y9bnVsbCE9Zj9mOjEyMDtjPW51bGwhPWM/YzoxMjA7bT1udWxsIT1tP206NDA7cT1udWxsIT1xP3E6InN3aW1sYW5lO2hvcml6b250YWw9MDtwb2ludHM9W1swLDAuNV0sWzEsMC41XV07cG9ydENvbnN0cmFpbnQ9ZWFzdHdlc3Q7c3RhcnRTaXplPSIrbSsiO2h0bWw9MTt3aGl0ZVNwYWNlPXdyYXA7Y29sbGFwc2libGU9MDtyZWN1cnNpdmVSZXNpemU9MDtleHBhbmQ9MDtwb2ludGVyRXZlbnRzPTA7IjtiPW51bGwhPWI/Yjoic3dpbWxhbmU7Y29ubmVjdGFibGU9MDtzdGFydFNpemU9NDA7aHRtbD0xO3doaXRlU3BhY2U9d3JhcDtjb2xsYXBzaWJsZT0wO3JlY3Vyc2l2ZVJlc2l6ZT0wO2V4cGFuZD0wO3BvaW50ZXJFdmVudHM9MDsiO2U9bnVsbCE9ZT9lOiJzd2ltbGFuZTtjb25uZWN0YWJsZT0wO3N0YXJ0U2l6ZT0wO2h0bWw9MTt3aGl0ZVNwYWNlPXdyYXA7Y29sbGFwc2libGU9MDtyZWN1cnNpdmVSZXNpemU9MDtleHBhbmQ9MDtwb2ludGVyRXZlbnRzPTA7IjsKbT10aGlzLmNyZWF0ZVZlcnRleChudWxsLG51bGwsIiIsMCwwLGQqZixhKmMsbnVsbCE9az9rOiJzaGFwZT10YWJsZTtjaGlsZExheW91dD10YWJsZUxheW91dDtyb3dMaW5lcz0wO2NvbHVtbkxpbmVzPTA7c3RhcnRTaXplPSIrbSsiO2h0bWw9MTt3aGl0ZVNwYWNlPXdyYXA7Y29sbGFwc2libGU9MDtyZWN1cnNpdmVSZXNpemU9MDtleHBhbmQ9MDtwb2ludGVyRXZlbnRzPTA7Iik7az1teFV0aWxzLmdldFZhbHVlKHRoaXMuZ2V0Q2VsbFN0eWxlKG0pLG14Q29uc3RhbnRzLlNUWUxFX1NUQVJUU0laRSxteENvbnN0YW50cy5ERUZBVUxUX1NUQVJUU0laRSk7bS5nZW9tZXRyeS53aWR0aCs9azttLmdlb21ldHJ5LmhlaWdodCs9aztxPXRoaXMuY3JlYXRlVmVydGV4KG51bGwsbnVsbCwiIiwwLGssZCpmK2ssYyxxKTttLmluc2VydCh0aGlzLmNyZWF0ZVBhcmVudChxLHRoaXMuY3JlYXRlVmVydGV4KG51bGwsbnVsbCwiIixrLDAsZixjLGIpLGQsZiwwKSk7cmV0dXJuIDE8YT8ocS5nZW9tZXRyeS55PQpjK2ssdGhpcy5jcmVhdGVQYXJlbnQobSx0aGlzLmNyZWF0ZVBhcmVudChxLHRoaXMuY3JlYXRlVmVydGV4KG51bGwsbnVsbCwiIixrLDAsZixjLGUpLGQsZiwwKSxhLTEsMCxjKSk6bX07R3JhcGgucHJvdG90eXBlLmlzVGFibGVDZWxsPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLm1vZGVsLmlzVmVydGV4KGEpJiZ0aGlzLmlzVGFibGVSb3codGhpcy5tb2RlbC5nZXRQYXJlbnQoYSkpfTtHcmFwaC5wcm90b3R5cGUuaXNUYWJsZVJvdz1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5tb2RlbC5pc1ZlcnRleChhKSYmdGhpcy5pc1RhYmxlKHRoaXMubW9kZWwuZ2V0UGFyZW50KGEpKX07R3JhcGgucHJvdG90eXBlLmlzVGFibGU9ZnVuY3Rpb24oYSl7YT10aGlzLmdldENlbGxTdHlsZShhKTtyZXR1cm4gbnVsbCE9YSYmInRhYmxlTGF5b3V0Ij09YS5jaGlsZExheW91dH07CkdyYXBoLnByb3RvdHlwZS5zZXRUYWJsZVJvd0hlaWdodD1mdW5jdGlvbihhLGQsZil7Zj1udWxsIT1mP2Y6ITA7dmFyIGM9dGhpcy5nZXRNb2RlbCgpO2MuYmVnaW5VcGRhdGUoKTt0cnl7dmFyIG09dGhpcy5nZXRDZWxsR2VvbWV0cnkoYSk7aWYobnVsbCE9bSl7bT1tLmNsb25lKCk7bS5oZWlnaHQrPWQ7Yy5zZXRHZW9tZXRyeShhLG0pO3ZhciBrPWMuZ2V0UGFyZW50KGEpLHE9Yy5nZXRDaGlsZENlbGxzKGssITApO2lmKCFmKXt2YXIgYj1teFV0aWxzLmluZGV4T2YocSxhKTtpZihiPHEubGVuZ3RoLTEpe3ZhciBlPXFbYisxXSxnPXRoaXMuZ2V0Q2VsbEdlb21ldHJ5KGUpO251bGwhPWcmJihnPWcuY2xvbmUoKSxnLnkrPWQsZy5oZWlnaHQtPWQsYy5zZXRHZW9tZXRyeShlLGcpKX19dmFyIHA9dGhpcy5nZXRDZWxsR2VvbWV0cnkoayk7bnVsbCE9cCYmKGZ8fChmPWE9PXFbcS5sZW5ndGgtMV0pLGYmJihwPXAuY2xvbmUoKSxwLmhlaWdodCs9ZCxjLnNldEdlb21ldHJ5KGsscCkpKTsKbnVsbCE9dGhpcy5sYXlvdXRNYW5hZ2VyJiZ0aGlzLmxheW91dE1hbmFnZXIuZXhlY3V0ZUxheW91dChrLCEwKX19ZmluYWxseXtjLmVuZFVwZGF0ZSgpfX07CkdyYXBoLnByb3RvdHlwZS5zZXRUYWJsZUNvbHVtbldpZHRoPWZ1bmN0aW9uKGEsZCxmKXtmPW51bGwhPWY/ZjohMTt2YXIgYz10aGlzLmdldE1vZGVsKCksbT1jLmdldFBhcmVudChhKSxrPWMuZ2V0UGFyZW50KG0pLHE9Yy5nZXRDaGlsZENlbGxzKG0sITApO2E9bXhVdGlscy5pbmRleE9mKHEsYSk7dmFyIGI9YT09cS5sZW5ndGgtMTtjLmJlZ2luVXBkYXRlKCk7dHJ5e2Zvcih2YXIgZT1jLmdldENoaWxkQ2VsbHMoaywhMCksZz0wO2c8ZS5sZW5ndGg7ZysrKXt2YXIgbT1lW2ddLHE9Yy5nZXRDaGlsZENlbGxzKG0sITApLHA9cVthXSxsPXRoaXMuZ2V0Q2VsbEdlb21ldHJ5KHApO251bGwhPWwmJihsPWwuY2xvbmUoKSxsLndpZHRoKz1kLGMuc2V0R2VvbWV0cnkocCxsKSk7YTxxLmxlbmd0aC0xJiYocD1xW2ErMV0sbD10aGlzLmdldENlbGxHZW9tZXRyeShwKSxudWxsIT1sJiYobD1sLmNsb25lKCksbC54Kz1kLGZ8fChsLndpZHRoLT1kKSxjLnNldEdlb21ldHJ5KHAsbCkpKX1pZihifHwKZil7dmFyIG49dGhpcy5nZXRDZWxsR2VvbWV0cnkoayk7bnVsbCE9biYmKG49bi5jbG9uZSgpLG4ud2lkdGgrPWQsYy5zZXRHZW9tZXRyeShrLG4pKX1udWxsIT10aGlzLmxheW91dE1hbmFnZXImJnRoaXMubGF5b3V0TWFuYWdlci5leGVjdXRlTGF5b3V0KGssITApfWZpbmFsbHl7Yy5lbmRVcGRhdGUoKX19O2Z1bmN0aW9uIFRhYmxlTGF5b3V0KGEpe214R3JhcGhMYXlvdXQuY2FsbCh0aGlzLGEpfVRhYmxlTGF5b3V0LnByb3RvdHlwZT1uZXcgbXhTdGFja0xheW91dDtUYWJsZUxheW91dC5wcm90b3R5cGUuY29uc3RydWN0b3I9VGFibGVMYXlvdXQ7VGFibGVMYXlvdXQucHJvdG90eXBlLmlzSG9yaXpvbnRhbD1mdW5jdGlvbigpe3JldHVybiExfTsKVGFibGVMYXlvdXQucHJvdG90eXBlLmdldFNpemU9ZnVuY3Rpb24oYSxkKXtmb3IodmFyIGY9MCxjPTA7YzxhLmxlbmd0aDtjKyspaWYoIXRoaXMuaXNWZXJ0ZXhJZ25vcmVkKGFbY10pKXt2YXIgbT10aGlzLmdyYXBoLmdldENlbGxHZW9tZXRyeShhW2NdKTtudWxsIT1tJiYoZis9ZD9tLndpZHRoOm0uaGVpZ2h0KX1yZXR1cm4gZn07VGFibGVMYXlvdXQucHJvdG90eXBlLmdldFJvd0xheW91dD1mdW5jdGlvbihhLGQpe2Zvcih2YXIgZj10aGlzLmdyYXBoLm1vZGVsLmdldENoaWxkQ2VsbHMoYSwhMCksYz10aGlzLmdyYXBoLmdldEFjdHVhbFN0YXJ0U2l6ZShhLCEwKSxtPXRoaXMuZ2V0U2l6ZShmLCEwKSxrPWQtYy54LWMud2lkdGgscT1bXSxjPWMueCxiPTA7YjxmLmxlbmd0aDtiKyspe3ZhciBlPXRoaXMuZ3JhcGguZ2V0Q2VsbEdlb21ldHJ5KGZbYl0pO251bGwhPWUmJihjKz1lLndpZHRoKmsvbSxxLnB1c2goTWF0aC5yb3VuZChjKSkpfXJldHVybiBxfTsKVGFibGVMYXlvdXQucHJvdG90eXBlLmxheW91dFJvdz1mdW5jdGlvbihhLGQsZixjKXt2YXIgbT10aGlzLmdyYXBoLmdldE1vZGVsKCksaz1tLmdldENoaWxkQ2VsbHMoYSwhMCk7YT10aGlzLmdyYXBoLmdldEFjdHVhbFN0YXJ0U2l6ZShhLCEwKTt2YXIgcT1hLngsYj0wO251bGwhPWQmJihkPWQuc2xpY2UoKSxkLnNwbGljZSgwLDAsYS54KSk7Zm9yKHZhciBlPTA7ZTxrLmxlbmd0aDtlKyspe3ZhciBnPXRoaXMuZ3JhcGguZ2V0Q2VsbEdlb21ldHJ5KGtbZV0pO251bGwhPWcmJihnPWcuY2xvbmUoKSxnLnk9YS55LGcuaGVpZ2h0PWYtYS55LWEuaGVpZ2h0LG51bGwhPWQ/KGcueD1kW2VdLGcud2lkdGg9ZFtlKzFdLWcueCxlPT1rLmxlbmd0aC0xJiZlPGQubGVuZ3RoLTImJihnLndpZHRoPWMtZy54LWEueC1hLndpZHRoKSk6KGcueD1xLHErPWcud2lkdGgsZT09ay5sZW5ndGgtMT9nLndpZHRoPWMtYS54LWEud2lkdGgtYjpiKz1nLndpZHRoKSxtLnNldEdlb21ldHJ5KGtbZV0sZykpfXJldHVybiBifTsKVGFibGVMYXlvdXQucHJvdG90eXBlLmV4ZWN1dGU9ZnVuY3Rpb24oYSl7aWYobnVsbCE9YSl7dmFyIGQ9dGhpcy5ncmFwaC5nZXRBY3R1YWxTdGFydFNpemUoYSwhMCksZj10aGlzLmdyYXBoLmdldENlbGxHZW9tZXRyeShhKSxjPXRoaXMuZ3JhcGguZ2V0Q2VsbFN0eWxlKGEpLG09IjEiPT1teFV0aWxzLmdldFZhbHVlKGMsInJlc2l6ZUxhc3RSb3ciLCIwIiksaz0iMSI9PW14VXRpbHMuZ2V0VmFsdWUoYywicmVzaXplTGFzdCIsIjAiKSxjPSIxIj09bXhVdGlscy5nZXRWYWx1ZShjLCJmaXhlZFJvd3MiLCIwIikscT10aGlzLmdyYXBoLmdldE1vZGVsKCksYj0wO3EuYmVnaW5VcGRhdGUoKTt0cnl7dmFyIGU9Zi5oZWlnaHQtZC55LWQuaGVpZ2h0LGc9Zi53aWR0aC1kLngtZC53aWR0aCxwPXEuZ2V0Q2hpbGRDZWxscyhhLCEwKSxsPXRoaXMuZ2V0U2l6ZShwLCExKTtpZigwPGUmJjA8ZyYmMDxwLmxlbmd0aCYmMDxsKXtpZihtKXt2YXIgbj10aGlzLmdyYXBoLmdldENlbGxHZW9tZXRyeShwW3AubGVuZ3RoLQoxXSk7bnVsbCE9biYmKG49bi5jbG9uZSgpLG4uaGVpZ2h0PWUtbCtuLmhlaWdodCxxLnNldEdlb21ldHJ5KHBbcC5sZW5ndGgtMV0sbikpfWZvcih2YXIgdj1rP251bGw6dGhpcy5nZXRSb3dMYXlvdXQocFswXSxnKSx0PWQueSx5PTA7eTxwLmxlbmd0aDt5Kyspbj10aGlzLmdyYXBoLmdldENlbGxHZW9tZXRyeShwW3ldKSxudWxsIT1uJiYobj1uLmNsb25lKCksbi54PWQueCxuLndpZHRoPWcsbi55PU1hdGgucm91bmQodCksdD1tfHxjP3Qrbi5oZWlnaHQ6dCtuLmhlaWdodC9sKmUsbi5oZWlnaHQ9TWF0aC5yb3VuZCh0KS1uLnkscS5zZXRHZW9tZXRyeShwW3ldLG4pKSxiPU1hdGgubWF4KGIsdGhpcy5sYXlvdXRSb3cocFt5XSx2LG4uaGVpZ2h0LGcpKTtjJiZlPGwmJihmPWYuY2xvbmUoKSxmLmhlaWdodD10K2QuaGVpZ2h0LHEuc2V0R2VvbWV0cnkoYSxmKSk7ayYmZzxiK0dyYXBoLm1pblRhYmxlQ29sdW1uV2lkdGgmJihmPWYuY2xvbmUoKSxmLndpZHRoPWIrZC53aWR0aCtkLngrCkdyYXBoLm1pblRhYmxlQ29sdW1uV2lkdGgscS5zZXRHZW9tZXRyeShhLGYpKX19ZmluYWxseXtxLmVuZFVwZGF0ZSgpfX19OwooZnVuY3Rpb24oKXt2YXIgYT1teEdyYXBoVmlldy5wcm90b3R5cGUucmVzZXRWYWxpZGF0aW9uU3RhdGU7bXhHcmFwaFZpZXcucHJvdG90eXBlLnJlc2V0VmFsaWRhdGlvblN0YXRlPWZ1bmN0aW9uKCl7YS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy52YWxpZEVkZ2VzPVtdfTt2YXIgZD1teEdyYXBoVmlldy5wcm90b3R5cGUudmFsaWRhdGVDZWxsU3RhdGU7bXhHcmFwaFZpZXcucHJvdG90eXBlLnZhbGlkYXRlQ2VsbFN0YXRlPWZ1bmN0aW9uKGEsYil7Yj1udWxsIT1iP2I6ITA7dmFyIGU9dGhpcy5nZXRTdGF0ZShhKTtudWxsIT1lJiZiJiZ0aGlzLmdyYXBoLm1vZGVsLmlzRWRnZShlLmNlbGwpJiZudWxsIT1lLnN0eWxlJiYxIT1lLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX0NVUlZFRF0mJiFlLmludmFsaWQmJnRoaXMudXBkYXRlTGluZUp1bXBzKGUpJiZ0aGlzLmdyYXBoLmNlbGxSZW5kZXJlci5yZWRyYXcoZSwhMSx0aGlzLmlzUmVuZGVyaW5nKCkpO2U9ZC5hcHBseSh0aGlzLAphcmd1bWVudHMpO251bGwhPWUmJmImJnRoaXMuZ3JhcGgubW9kZWwuaXNFZGdlKGUuY2VsbCkmJm51bGwhPWUuc3R5bGUmJjEhPWUuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfQ1VSVkVEXSYmdGhpcy52YWxpZEVkZ2VzLnB1c2goZSk7cmV0dXJuIGV9O3ZhciBmPW14Q2VsbFJlbmRlcmVyLnByb3RvdHlwZS5pc1NoYXBlSW52YWxpZDtteENlbGxSZW5kZXJlci5wcm90b3R5cGUuaXNTaGFwZUludmFsaWQ9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZi5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fG51bGwhPWEucm91dGVkUG9pbnRzJiZudWxsIT1iLnJvdXRlZFBvaW50cyYmIW14VXRpbHMuZXF1YWxQb2ludHMoYi5yb3V0ZWRQb2ludHMsYS5yb3V0ZWRQb2ludHMpfTt2YXIgYz1teEdyYXBoVmlldy5wcm90b3R5cGUudXBkYXRlQ2VsbFN0YXRlO214R3JhcGhWaWV3LnByb3RvdHlwZS51cGRhdGVDZWxsU3RhdGU9ZnVuY3Rpb24oYSl7Yy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5ncmFwaC5tb2RlbC5pc0VkZ2UoYS5jZWxsKSYmCjEhPWEuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfQ1VSVkVEXSYmdGhpcy51cGRhdGVMaW5lSnVtcHMoYSl9O214R3JhcGhWaWV3LnByb3RvdHlwZS51cGRhdGVMaW5lSnVtcHM9ZnVuY3Rpb24oYSl7dmFyIGI9YS5hYnNvbHV0ZVBvaW50cztpZihHcmFwaC5saW5lSnVtcHNFbmFibGVkKXt2YXIgZT1udWxsIT1hLnJvdXRlZFBvaW50cyxkPW51bGw7aWYobnVsbCE9YiYmbnVsbCE9dGhpcy52YWxpZEVkZ2VzJiYibm9uZSIhPT1teFV0aWxzLmdldFZhbHVlKGEuc3R5bGUsImp1bXBTdHlsZSIsIm5vbmUiKSl7Zm9yKHZhciBjPWZ1bmN0aW9uKGIsZSxjKXt2YXIgZj1uZXcgbXhQb2ludChlLGMpO2YudHlwZT1iO2QucHVzaChmKTtmPW51bGwhPWEucm91dGVkUG9pbnRzP2Eucm91dGVkUG9pbnRzW2QubGVuZ3RoLTFdOm51bGw7cmV0dXJuIG51bGw9PWZ8fGYudHlwZSE9Ynx8Zi54IT1lfHxmLnkhPWN9LGY9LjUqdGhpcy5zY2FsZSxlPSExLGQ9W10sdD0wO3Q8Yi5sZW5ndGgtMTt0Kyspe2Zvcih2YXIgeT0KYlt0KzFdLGs9Ylt0XSxtPVtdLHE9Ylt0KzJdO3Q8Yi5sZW5ndGgtMiYmbXhVdGlscy5wdFNlZ0Rpc3RTcShrLngsay55LHEueCxxLnkseS54LHkueSk8MSp0aGlzLnNjYWxlKnRoaXMuc2NhbGU7KXk9cSx0KysscT1iW3QrMl07Zm9yKHZhciBlPWMoMCxrLngsay55KXx8ZSxDPTA7Qzx0aGlzLnZhbGlkRWRnZXMubGVuZ3RoO0MrKyl7dmFyIHo9dGhpcy52YWxpZEVkZ2VzW0NdLEQ9ei5hYnNvbHV0ZVBvaW50cztpZihudWxsIT1EJiZteFV0aWxzLmludGVyc2VjdHMoYSx6KSYmIjEiIT16LnN0eWxlLm5vSnVtcClmb3Ioej0wO3o8RC5sZW5ndGgtMTt6Kyspe2Zvcih2YXIgRz1EW3orMV0sRj1EW3pdLHE9RFt6KzJdO3o8RC5sZW5ndGgtMiYmbXhVdGlscy5wdFNlZ0Rpc3RTcShGLngsRi55LHEueCxxLnksRy54LEcueSk8MSp0aGlzLnNjYWxlKnRoaXMuc2NhbGU7KUc9cSx6KysscT1EW3orMl07cT1teFV0aWxzLmludGVyc2VjdGlvbihrLngsay55LHkueCx5LnksRi54LEYueSxHLngsCkcueSk7aWYobnVsbCE9cSYmKE1hdGguYWJzKHEueC1rLngpPmZ8fE1hdGguYWJzKHEueS1rLnkpPmYpJiYoTWF0aC5hYnMocS54LXkueCk+Znx8TWF0aC5hYnMocS55LXkueSk+ZikmJihNYXRoLmFicyhxLngtRi54KT5mfHxNYXRoLmFicyhxLnktRi55KT5mKSYmKE1hdGguYWJzKHEueC1HLngpPmZ8fE1hdGguYWJzKHEueS1HLnkpPmYpKXtHPXEueC1rLng7Rj1xLnktay55O3E9e2Rpc3RTcTpHKkcrRipGLHg6cS54LHk6cS55fTtmb3IoRz0wO0c8bS5sZW5ndGg7RysrKWlmKG1bR10uZGlzdFNxPnEuZGlzdFNxKXttLnNwbGljZShHLDAscSk7cT1udWxsO2JyZWFrfW51bGw9PXF8fDAhPW0ubGVuZ3RoJiZtW20ubGVuZ3RoLTFdLng9PT1xLngmJm1bbS5sZW5ndGgtMV0ueT09PXEueXx8bS5wdXNoKHEpfX19Zm9yKHo9MDt6PG0ubGVuZ3RoO3orKyllPWMoMSxtW3pdLngsbVt6XS55KXx8ZX1xPWJbYi5sZW5ndGgtMV07ZT1jKDAscS54LHEueSl8fGV9YS5yb3V0ZWRQb2ludHM9ZDtyZXR1cm4gZX1yZXR1cm4hMX07CnZhciBtPW14Q29ubmVjdG9yLnByb3RvdHlwZS5wYWludExpbmU7bXhDb25uZWN0b3IucHJvdG90eXBlLnBhaW50TGluZT1mdW5jdGlvbihhLGIsZCl7dGhpcy5yb3V0ZWRQb2ludHM9bnVsbCE9dGhpcy5zdGF0ZT90aGlzLnN0YXRlLnJvdXRlZFBvaW50czpudWxsO2lmKHRoaXMub3V0bGluZXx8bnVsbD09dGhpcy5zdGF0ZXx8bnVsbD09dGhpcy5zdHlsZXx8bnVsbD09dGhpcy5zdGF0ZS5yb3V0ZWRQb2ludHN8fDA9PXRoaXMuc3RhdGUucm91dGVkUG9pbnRzLmxlbmd0aCltLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtlbHNle3ZhciBlPW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9BUkNTSVpFLG14Q29uc3RhbnRzLkxJTkVfQVJDU0laRSkvMixjPShwYXJzZUludChteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsImp1bXBTaXplIixHcmFwaC5kZWZhdWx0SnVtcFNpemUpKS0yKS8yK3RoaXMuc3Ryb2tld2lkdGgsZj1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsCiJqdW1wU3R5bGUiLCJub25lIiksZz0hMCxwPW51bGwsaz1udWxsLHE9W10sQT1udWxsO2EuYmVnaW4oKTtmb3IodmFyIEM9MDtDPHRoaXMuc3RhdGUucm91dGVkUG9pbnRzLmxlbmd0aDtDKyspe3ZhciB6PXRoaXMuc3RhdGUucm91dGVkUG9pbnRzW0NdLEQ9bmV3IG14UG9pbnQoei54L3RoaXMuc2NhbGUsei55L3RoaXMuc2NhbGUpOzA9PUM/RD1iWzBdOkM9PXRoaXMuc3RhdGUucm91dGVkUG9pbnRzLmxlbmd0aC0xJiYoRD1iW2IubGVuZ3RoLTFdKTt2YXIgRz0hMTtpZihudWxsIT1wJiYxPT16LnR5cGUpe3ZhciBGPXRoaXMuc3RhdGUucm91dGVkUG9pbnRzW0MrMV0sej1GLngvdGhpcy5zY2FsZS1ELngsRj1GLnkvdGhpcy5zY2FsZS1ELnksej16KnorRipGO251bGw9PUEmJihBPW5ldyBteFBvaW50KEQueC1wLngsRC55LXAueSksaz1NYXRoLnNxcnQoQS54KkEueCtBLnkqQS55KSwwPGs/KEEueD1BLngqYy9rLEEueT1BLnkqYy9rKTpBPW51bGwpO3o+YypjJiYwPGsmJih6PXAueC0KRC54LEY9cC55LUQueSx6PXoqeitGKkYsej5jKmMmJihHPW5ldyBteFBvaW50KEQueC1BLngsRC55LUEueSksej1uZXcgbXhQb2ludChELngrQS54LEQueStBLnkpLHEucHVzaChHKSx0aGlzLmFkZFBvaW50cyhhLHEsZCxlLCExLG51bGwsZykscT0wPk1hdGgucm91bmQoQS54KXx8MD09TWF0aC5yb3VuZChBLngpJiYwPj1NYXRoLnJvdW5kKEEueSk/MTotMSxnPSExLCJzaGFycCI9PWY/KGEubGluZVRvKEcueC1BLnkqcSxHLnkrQS54KnEpLGEubGluZVRvKHoueC1BLnkqcSx6LnkrQS54KnEpLGEubGluZVRvKHoueCx6LnkpKToiYXJjIj09Zj8ocSo9MS4zLGEuY3VydmVUbyhHLngtQS55KnEsRy55K0EueCpxLHoueC1BLnkqcSx6LnkrQS54KnEsei54LHoueSkpOihhLm1vdmVUbyh6Lngsei55KSxnPSEwKSxxPVt6XSxHPSEwKSl9ZWxzZSBBPW51bGw7R3x8KHEucHVzaChEKSxwPUQpfXRoaXMuYWRkUG9pbnRzKGEscSxkLGUsITEsbnVsbCxnKTthLnN0cm9rZSgpfX07dmFyIGs9bXhHcmFwaFZpZXcucHJvdG90eXBlLnVwZGF0ZUZsb2F0aW5nVGVybWluYWxQb2ludDsKbXhHcmFwaFZpZXcucHJvdG90eXBlLnVwZGF0ZUZsb2F0aW5nVGVybWluYWxQb2ludD1mdW5jdGlvbihhLGIsZCxjKXtpZihudWxsPT1ifHxudWxsPT1hfHwiMSIhPWIuc3R5bGUuc25hcFRvUG9pbnQmJiIxIiE9YS5zdHlsZS5zbmFwVG9Qb2ludClrLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtlbHNle2I9dGhpcy5nZXRUZXJtaW5hbFBvcnQoYSxiLGMpO3ZhciBlPXRoaXMuZ2V0TmV4dFBvaW50KGEsZCxjKSxmPXRoaXMuZ3JhcGguaXNPcnRob2dvbmFsKGEpLGc9bXhVdGlscy50b1JhZGlhbnMoTnVtYmVyKGIuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfUk9UQVRJT05dfHwiMCIpKSxsPW5ldyBteFBvaW50KGIuZ2V0Q2VudGVyWCgpLGIuZ2V0Q2VudGVyWSgpKTtpZigwIT1nKXZhciBwPU1hdGguY29zKC1nKSxtPU1hdGguc2luKC1nKSxlPW14VXRpbHMuZ2V0Um90YXRlZFBvaW50KGUscCxtLGwpO3A9cGFyc2VGbG9hdChhLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX1BFUklNRVRFUl9TUEFDSU5HXXx8CjApO3ArPXBhcnNlRmxvYXQoYS5zdHlsZVtjP214Q29uc3RhbnRzLlNUWUxFX1NPVVJDRV9QRVJJTUVURVJfU1BBQ0lORzpteENvbnN0YW50cy5TVFlMRV9UQVJHRVRfUEVSSU1FVEVSX1NQQUNJTkddfHwwKTtlPXRoaXMuZ2V0UGVyaW1ldGVyUG9pbnQoYixlLDA9PWcmJmYscCk7MCE9ZyYmKHA9TWF0aC5jb3MoZyksbT1NYXRoLnNpbihnKSxlPW14VXRpbHMuZ2V0Um90YXRlZFBvaW50KGUscCxtLGwpKTthLnNldEFic29sdXRlVGVybWluYWxQb2ludCh0aGlzLnNuYXBUb0FuY2hvclBvaW50KGEsYixkLGMsZSksYyl9fTtteEdyYXBoVmlldy5wcm90b3R5cGUuc25hcFRvQW5jaG9yUG9pbnQ9ZnVuY3Rpb24oYSxiLGQsYyxmKXtpZihudWxsIT1iJiZudWxsIT1hKXthPXRoaXMuZ3JhcGguZ2V0QWxsQ29ubmVjdGlvbkNvbnN0cmFpbnRzKGIpO2M9ZD1udWxsO2lmKG51bGwhPWEpZm9yKHZhciBlPTA7ZTxhLmxlbmd0aDtlKyspe3ZhciBnPXRoaXMuZ3JhcGguZ2V0Q29ubmVjdGlvblBvaW50KGIsCmFbZV0pO2lmKG51bGwhPWcpe3ZhciBsPShnLngtZi54KSooZy54LWYueCkrKGcueS1mLnkpKihnLnktZi55KTtpZihudWxsPT1jfHxsPGMpZD1nLGM9bH19bnVsbCE9ZCYmKGY9ZCl9cmV0dXJuIGZ9O3ZhciBxPW14U3RlbmNpbC5wcm90b3R5cGUuZXZhbHVhdGVUZXh0QXR0cmlidXRlO214U3RlbmNpbC5wcm90b3R5cGUuZXZhbHVhdGVUZXh0QXR0cmlidXRlPWZ1bmN0aW9uKGEsYixkKXt2YXIgZT1xLmFwcGx5KHRoaXMsYXJndW1lbnRzKTsiMSI9PWEuZ2V0QXR0cmlidXRlKCJwbGFjZWhvbGRlcnMiKSYmbnVsbCE9ZC5zdGF0ZSYmKGU9ZC5zdGF0ZS52aWV3LmdyYXBoLnJlcGxhY2VQbGFjZWhvbGRlcnMoZC5zdGF0ZS5jZWxsLGUpKTtyZXR1cm4gZX07dmFyIGI9bXhDZWxsUmVuZGVyZXIucHJvdG90eXBlLmNyZWF0ZVNoYXBlO214Q2VsbFJlbmRlcmVyLnByb3RvdHlwZS5jcmVhdGVTaGFwZT1mdW5jdGlvbihhKXtpZihudWxsIT1hLnN0eWxlJiYidW5kZWZpbmVkIiE9PXR5cGVvZiBwYWtvKXt2YXIgZT0KbXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX1NIQVBFLG51bGwpO2lmKG51bGwhPWUmJiJzdHJpbmciPT09dHlwZW9mIGUmJiJzdGVuY2lsKCI9PWUuc3Vic3RyaW5nKDAsOCkpdHJ5e3ZhciBkPWUuc3Vic3RyaW5nKDgsZS5sZW5ndGgtMSksYz1teFV0aWxzLnBhcnNlWG1sKEdyYXBoLmRlY29tcHJlc3MoZCkpO3JldHVybiBuZXcgbXhTaGFwZShuZXcgbXhTdGVuY2lsKGMuZG9jdW1lbnRFbGVtZW50KSl9Y2F0Y2gobil7bnVsbCE9d2luZG93LmNvbnNvbGUmJmNvbnNvbGUubG9nKCJFcnJvciBpbiBzaGFwZTogIituKX19cmV0dXJuIGIuYXBwbHkodGhpcyxhcmd1bWVudHMpfX0pKCk7bXhTdGVuY2lsUmVnaXN0cnkubGlicmFyaWVzPXt9O214U3RlbmNpbFJlZ2lzdHJ5LmR5bmFtaWNMb2FkaW5nPSEwO214U3RlbmNpbFJlZ2lzdHJ5LmFsbG93RXZhbD0hMDtteFN0ZW5jaWxSZWdpc3RyeS5wYWNrYWdlcz1bXTsKbXhTdGVuY2lsUmVnaXN0cnkuZ2V0U3RlbmNpbD1mdW5jdGlvbihhKXt2YXIgZD1teFN0ZW5jaWxSZWdpc3RyeS5zdGVuY2lsc1thXTtpZihudWxsPT1kJiZudWxsPT1teENlbGxSZW5kZXJlci5kZWZhdWx0U2hhcGVzW2FdJiZteFN0ZW5jaWxSZWdpc3RyeS5keW5hbWljTG9hZGluZyl7dmFyIGY9bXhTdGVuY2lsUmVnaXN0cnkuZ2V0QmFzZW5hbWVGb3JTdGVuY2lsKGEpO2lmKG51bGwhPWYpe2Q9bXhTdGVuY2lsUmVnaXN0cnkubGlicmFyaWVzW2ZdO2lmKG51bGwhPWQpe2lmKG51bGw9PW14U3RlbmNpbFJlZ2lzdHJ5LnBhY2thZ2VzW2ZdKXtmb3IodmFyIGM9MDtjPGQubGVuZ3RoO2MrKyl7dmFyIG09ZFtjXTtpZigiLnhtbCI9PW0udG9Mb3dlckNhc2UoKS5zdWJzdHJpbmcobS5sZW5ndGgtNCxtLmxlbmd0aCkpbXhTdGVuY2lsUmVnaXN0cnkubG9hZFN0ZW5jaWxTZXQobSxudWxsKTtlbHNlIGlmKCIuanMiPT1tLnRvTG93ZXJDYXNlKCkuc3Vic3RyaW5nKG0ubGVuZ3RoLTMsbS5sZW5ndGgpKXRyeXtpZihteFN0ZW5jaWxSZWdpc3RyeS5hbGxvd0V2YWwpe3ZhciBrPQpteFV0aWxzLmxvYWQobSk7bnVsbCE9ayYmMjAwPD1rLmdldFN0YXR1cygpJiYyOTk+PWsuZ2V0U3RhdHVzKCkmJmV2YWwuY2FsbCh3aW5kb3csay5nZXRUZXh0KCkpfX1jYXRjaChxKXtudWxsIT13aW5kb3cuY29uc29sZSYmY29uc29sZS5sb2coImVycm9yIGluIGdldFN0ZW5jaWw6IixtLHEpfX1teFN0ZW5jaWxSZWdpc3RyeS5wYWNrYWdlc1tmXT0xfX1lbHNlIGY9Zi5yZXBsYWNlKCJfLV8iLCJfIiksbXhTdGVuY2lsUmVnaXN0cnkubG9hZFN0ZW5jaWxTZXQoU1RFTkNJTF9QQVRIKyIvIitmKyIueG1sIixudWxsKTtkPW14U3RlbmNpbFJlZ2lzdHJ5LnN0ZW5jaWxzW2FdfX1yZXR1cm4gZH07Cm14U3RlbmNpbFJlZ2lzdHJ5LmdldEJhc2VuYW1lRm9yU3RlbmNpbD1mdW5jdGlvbihhKXt2YXIgZD1udWxsO2lmKG51bGwhPWEmJiJzdHJpbmciPT09dHlwZW9mIGEmJihhPWEuc3BsaXQoIi4iKSwwPGEubGVuZ3RoJiYibXhncmFwaCI9PWFbMF0pKWZvcih2YXIgZD1hWzFdLGY9MjtmPGEubGVuZ3RoLTE7ZisrKWQrPSIvIithW2ZdO3JldHVybiBkfTsKbXhTdGVuY2lsUmVnaXN0cnkubG9hZFN0ZW5jaWxTZXQ9ZnVuY3Rpb24oYSxkLGYsYyl7dmFyIG09bXhTdGVuY2lsUmVnaXN0cnkucGFja2FnZXNbYV07aWYobnVsbCE9ZiYmZnx8bnVsbD09bSl7dmFyIGs9ITE7aWYobnVsbD09bSl0cnl7aWYoYyl7bXhTdGVuY2lsUmVnaXN0cnkubG9hZFN0ZW5jaWwoYSxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihjKXtudWxsIT1jJiZudWxsIT1jLmRvY3VtZW50RWxlbWVudCYmKG14U3RlbmNpbFJlZ2lzdHJ5LnBhY2thZ2VzW2FdPWMsaz0hMCxteFN0ZW5jaWxSZWdpc3RyeS5wYXJzZVN0ZW5jaWxTZXQoYy5kb2N1bWVudEVsZW1lbnQsZCxrKSl9KSk7cmV0dXJufW09bXhTdGVuY2lsUmVnaXN0cnkubG9hZFN0ZW5jaWwoYSk7bXhTdGVuY2lsUmVnaXN0cnkucGFja2FnZXNbYV09bTtrPSEwfWNhdGNoKHEpe251bGwhPXdpbmRvdy5jb25zb2xlJiZjb25zb2xlLmxvZygiZXJyb3IgaW4gbG9hZFN0ZW5jaWxTZXQ6IixhLHEpfW51bGwhPW0mJm51bGwhPQptLmRvY3VtZW50RWxlbWVudCYmbXhTdGVuY2lsUmVnaXN0cnkucGFyc2VTdGVuY2lsU2V0KG0uZG9jdW1lbnRFbGVtZW50LGQsayl9fTtteFN0ZW5jaWxSZWdpc3RyeS5sb2FkU3RlbmNpbD1mdW5jdGlvbihhLGQpe2lmKG51bGwhPWQpbXhVdGlscy5nZXQoYSxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXtkKDIwMDw9YS5nZXRTdGF0dXMoKSYmMjk5Pj1hLmdldFN0YXR1cygpP2EuZ2V0WG1sKCk6bnVsbCl9KSk7ZWxzZSByZXR1cm4gbXhVdGlscy5sb2FkKGEpLmdldFhtbCgpfTtteFN0ZW5jaWxSZWdpc3RyeS5wYXJzZVN0ZW5jaWxTZXRzPWZ1bmN0aW9uKGEpe2Zvcih2YXIgZD0wO2Q8YS5sZW5ndGg7ZCsrKW14U3RlbmNpbFJlZ2lzdHJ5LnBhcnNlU3RlbmNpbFNldChteFV0aWxzLnBhcnNlWG1sKGFbZF0pLmRvY3VtZW50RWxlbWVudCl9OwpteFN0ZW5jaWxSZWdpc3RyeS5wYXJzZVN0ZW5jaWxTZXQ9ZnVuY3Rpb24oYSxkLGYpe2lmKCJzdGVuY2lscyI9PWEubm9kZU5hbWUpZm9yKHZhciBjPWEuZmlyc3RDaGlsZDtudWxsIT1jOykic2hhcGVzIj09Yy5ub2RlTmFtZSYmbXhTdGVuY2lsUmVnaXN0cnkucGFyc2VTdGVuY2lsU2V0KGMsZCxmKSxjPWMubmV4dFNpYmxpbmc7ZWxzZXtmPW51bGwhPWY/ZjohMDt2YXIgYz1hLmZpcnN0Q2hpbGQsbT0iIjthPWEuZ2V0QXR0cmlidXRlKCJuYW1lIik7Zm9yKG51bGwhPWEmJihtPWErIi4iKTtudWxsIT1jOyl7aWYoYy5ub2RlVHlwZT09bXhDb25zdGFudHMuTk9ERVRZUEVfRUxFTUVOVCYmKGE9Yy5nZXRBdHRyaWJ1dGUoIm5hbWUiKSxudWxsIT1hKSl7dmFyIG09bS50b0xvd2VyQ2FzZSgpLGs9YS5yZXBsYWNlKC8gL2csIl8iKTtmJiZteFN0ZW5jaWxSZWdpc3RyeS5hZGRTdGVuY2lsKG0ray50b0xvd2VyQ2FzZSgpLG5ldyBteFN0ZW5jaWwoYykpO2lmKG51bGwhPWQpe3ZhciBxPWMuZ2V0QXR0cmlidXRlKCJ3IiksCmI9Yy5nZXRBdHRyaWJ1dGUoImgiKSxxPW51bGw9PXE/ODA6cGFyc2VJbnQocSwxMCksYj1udWxsPT1iPzgwOnBhcnNlSW50KGIsMTApO2QobSxrLGEscSxiKX19Yz1jLm5leHRTaWJsaW5nfX19OwoidW5kZWZpbmVkIiE9dHlwZW9mIG14VmVydGV4SGFuZGxlciYmZnVuY3Rpb24oKXtmdW5jdGlvbiBhKCl7dmFyIGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7YS5jbGFzc05hbWU9ImdlSGludCI7YS5zdHlsZS53aGl0ZVNwYWNlPSJub3dyYXAiO2Euc3R5bGUucG9zaXRpb249ImFic29sdXRlIjtyZXR1cm4gYX1mdW5jdGlvbiBkKGEsYil7c3dpdGNoKGIpe2Nhc2UgbXhDb25zdGFudHMuUE9JTlRTOnJldHVybiBhO2Nhc2UgbXhDb25zdGFudHMuTUlMTElNRVRFUlM6cmV0dXJuKGEvbXhDb25zdGFudHMuUElYRUxTX1BFUl9NTSkudG9GaXhlZCgxKTtjYXNlIG14Q29uc3RhbnRzLklOQ0hFUzpyZXR1cm4oYS9teENvbnN0YW50cy5QSVhFTFNfUEVSX0lOQ0gpLnRvRml4ZWQoMil9fW14Q29uc3RhbnRzLkhBTkRMRV9GSUxMQ09MT1I9IiMyOWI2ZjIiO214Q29uc3RhbnRzLkhBTkRMRV9TVFJPS0VDT0xPUj0iIzAwODhjZiI7bXhDb25zdGFudHMuVkVSVEVYX1NFTEVDVElPTl9DT0xPUj0KIiMwMGE4ZmYiO214Q29uc3RhbnRzLk9VVExJTkVfQ09MT1I9IiMwMGE4ZmYiO214Q29uc3RhbnRzLk9VVExJTkVfSEFORExFX0ZJTExDT0xPUj0iIzk5Y2NmZiI7bXhDb25zdGFudHMuT1VUTElORV9IQU5ETEVfU1RST0tFQ09MT1I9IiMwMGE4ZmYiO214Q29uc3RhbnRzLkNPTk5FQ1RfSEFORExFX0ZJTExDT0xPUj0iI2NlZTdmZiI7bXhDb25zdGFudHMuRURHRV9TRUxFQ1RJT05fQ09MT1I9IiMwMGE4ZmYiO214Q29uc3RhbnRzLkRFRkFVTFRfVkFMSURfQ09MT1I9IiMwMGE4ZmYiO214Q29uc3RhbnRzLkxBQkVMX0hBTkRMRV9GSUxMQ09MT1I9IiNjZWU3ZmYiO214Q29uc3RhbnRzLkdVSURFX0NPTE9SPSIjMDA4OGNmIjtteENvbnN0YW50cy5ISUdITElHSFRfT1BBQ0lUWT0zMDtteENvbnN0YW50cy5ISUdITElHSFRfU0laRT01O214RWRnZUhhbmRsZXIucHJvdG90eXBlLnNuYXBUb1Rlcm1pbmFscz0hMDtteEdyYXBoSGFuZGxlci5wcm90b3R5cGUuZ3VpZGVzRW5hYmxlZD0hMDtteEdyYXBoSGFuZGxlci5wcm90b3R5cGUucmVtb3ZlRW1wdHlQYXJlbnRzPQohMDtteFJ1YmJlcmJhbmQucHJvdG90eXBlLmZhZGVPdXQ9ITA7bXhHdWlkZS5wcm90b3R5cGUuaXNFbmFibGVkRm9yRXZlbnQ9ZnVuY3Rpb24oYSl7cmV0dXJuIW14RXZlbnQuaXNBbHREb3duKGEpfTt2YXIgZj1teENvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS5pc0NyZWF0ZVRhcmdldDtteENvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS5pc0NyZWF0ZVRhcmdldD1mdW5jdGlvbihhKXtyZXR1cm4gbXhFdmVudC5pc0NvbnRyb2xEb3duKGEpfHxmLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07bXhDb25zdHJhaW50SGFuZGxlci5wcm90b3R5cGUuY3JlYXRlSGlnaGxpZ2h0U2hhcGU9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgbXhFbGxpcHNlKG51bGwsdGhpcy5oaWdobGlnaHRDb2xvcix0aGlzLmhpZ2hsaWdodENvbG9yLDApO2Eub3BhY2l0eT1teENvbnN0YW50cy5ISUdITElHSFRfT1BBQ0lUWTtyZXR1cm4gYX07bXhDb25uZWN0aW9uSGFuZGxlci5wcm90b3R5cGUubGl2ZVByZXZpZXc9CiEwO214Q29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLmN1cnNvcj0iY3Jvc3NoYWlyIjtteENvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS5jcmVhdGVFZGdlU3RhdGU9ZnVuY3Rpb24oYSl7YT10aGlzLmdyYXBoLmNyZWF0ZUN1cnJlbnRFZGdlU3R5bGUoKTthPXRoaXMuZ3JhcGguY3JlYXRlRWRnZShudWxsLG51bGwsbnVsbCxudWxsLG51bGwsYSk7YT1uZXcgbXhDZWxsU3RhdGUodGhpcy5ncmFwaC52aWV3LGEsdGhpcy5ncmFwaC5nZXRDZWxsU3R5bGUoYSkpO2Zvcih2YXIgYiBpbiB0aGlzLmdyYXBoLmN1cnJlbnRFZGdlU3R5bGUpYS5zdHlsZVtiXT10aGlzLmdyYXBoLmN1cnJlbnRFZGdlU3R5bGVbYl07cmV0dXJuIGF9O3ZhciBjPW14Q29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLmNyZWF0ZVNoYXBlO214Q29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLmNyZWF0ZVNoYXBlPWZ1bmN0aW9uKCl7dmFyIGE9Yy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7YS5pc0Rhc2hlZD0iMSI9PQp0aGlzLmdyYXBoLmN1cnJlbnRFZGdlU3R5bGVbbXhDb25zdGFudHMuU1RZTEVfREFTSEVEXTtyZXR1cm4gYX07bXhDb25uZWN0aW9uSGFuZGxlci5wcm90b3R5cGUudXBkYXRlUHJldmlldz1mdW5jdGlvbihhKXt9O3ZhciBtPW14Q29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLmNyZWF0ZU1hcmtlcjtteENvbm5lY3Rpb25IYW5kbGVyLnByb3RvdHlwZS5jcmVhdGVNYXJrZXI9ZnVuY3Rpb24oKXt2YXIgYT1tLmFwcGx5KHRoaXMsYXJndW1lbnRzKSxiPWEuZ2V0Q2VsbDthLmdldENlbGw9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7dmFyIGU9Yi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5lcnJvcj1udWxsO3JldHVybiBlfSk7cmV0dXJuIGF9O0dyYXBoLnByb3RvdHlwZS5kZWZhdWx0VmVydGV4U3R5bGU9e307R3JhcGgucHJvdG90eXBlLmRlZmF1bHRFZGdlU3R5bGU9e2VkZ2VTdHlsZToib3J0aG9nb25hbEVkZ2VTdHlsZSIscm91bmRlZDoiMCIsamV0dHlTaXplOiJhdXRvIiwKb3J0aG9nb25hbExvb3A6IjEifTtHcmFwaC5wcm90b3R5cGUuY3JlYXRlQ3VycmVudEVkZ2VTdHlsZT1mdW5jdGlvbigpe3ZhciBhPSJlZGdlU3R5bGU9IisodGhpcy5jdXJyZW50RWRnZVN0eWxlLmVkZ2VTdHlsZXx8Im5vbmUiKSsiOyI7bnVsbCE9dGhpcy5jdXJyZW50RWRnZVN0eWxlLnNoYXBlJiYoYSs9InNoYXBlPSIrdGhpcy5jdXJyZW50RWRnZVN0eWxlLnNoYXBlKyI7Iik7bnVsbCE9dGhpcy5jdXJyZW50RWRnZVN0eWxlLmN1cnZlZCYmKGErPSJjdXJ2ZWQ9Iit0aGlzLmN1cnJlbnRFZGdlU3R5bGUuY3VydmVkKyI7Iik7bnVsbCE9dGhpcy5jdXJyZW50RWRnZVN0eWxlLnJvdW5kZWQmJihhKz0icm91bmRlZD0iK3RoaXMuY3VycmVudEVkZ2VTdHlsZS5yb3VuZGVkKyI7Iik7bnVsbCE9dGhpcy5jdXJyZW50RWRnZVN0eWxlLmNvbWljJiYoYSs9ImNvbWljPSIrdGhpcy5jdXJyZW50RWRnZVN0eWxlLmNvbWljKyI7Iik7bnVsbCE9dGhpcy5jdXJyZW50RWRnZVN0eWxlLmp1bXBTdHlsZSYmCihhKz0ianVtcFN0eWxlPSIrdGhpcy5jdXJyZW50RWRnZVN0eWxlLmp1bXBTdHlsZSsiOyIpO251bGwhPXRoaXMuY3VycmVudEVkZ2VTdHlsZS5qdW1wU2l6ZSYmKGErPSJqdW1wU2l6ZT0iK3RoaXMuY3VycmVudEVkZ2VTdHlsZS5qdW1wU2l6ZSsiOyIpO251bGwhPXRoaXMuY3VycmVudEVkZ2VTdHlsZS5vcnRob2dvbmFsTG9vcD9hKz0ib3J0aG9nb25hbExvb3A9Iit0aGlzLmN1cnJlbnRFZGdlU3R5bGUub3J0aG9nb25hbExvb3ArIjsiOm51bGwhPUdyYXBoLnByb3RvdHlwZS5kZWZhdWx0RWRnZVN0eWxlLm9ydGhvZ29uYWxMb29wJiYoYSs9Im9ydGhvZ29uYWxMb29wPSIrR3JhcGgucHJvdG90eXBlLmRlZmF1bHRFZGdlU3R5bGUub3J0aG9nb25hbExvb3ArIjsiKTtudWxsIT10aGlzLmN1cnJlbnRFZGdlU3R5bGUuamV0dHlTaXplP2ErPSJqZXR0eVNpemU9Iit0aGlzLmN1cnJlbnRFZGdlU3R5bGUuamV0dHlTaXplKyI7IjpudWxsIT1HcmFwaC5wcm90b3R5cGUuZGVmYXVsdEVkZ2VTdHlsZS5qZXR0eVNpemUmJgooYSs9ImpldHR5U2l6ZT0iK0dyYXBoLnByb3RvdHlwZS5kZWZhdWx0RWRnZVN0eWxlLmpldHR5U2l6ZSsiOyIpOyJlbGJvd0VkZ2VTdHlsZSI9PXRoaXMuY3VycmVudEVkZ2VTdHlsZS5lZGdlU3R5bGUmJm51bGwhPXRoaXMuY3VycmVudEVkZ2VTdHlsZS5lbGJvdyYmKGErPSJlbGJvdz0iK3RoaXMuY3VycmVudEVkZ2VTdHlsZS5lbGJvdysiOyIpO3JldHVybiBhPW51bGwhPXRoaXMuY3VycmVudEVkZ2VTdHlsZS5odG1sP2ErKCJodG1sPSIrdGhpcy5jdXJyZW50RWRnZVN0eWxlLmh0bWwrIjsiKTphKyJodG1sPTE7In07R3JhcGgucHJvdG90eXBlLmdldFBhZ2VQYWRkaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBteFBvaW50KDAsMCl9O0dyYXBoLnByb3RvdHlwZS5sb2FkU3R5bGVzaGVldD1mdW5jdGlvbigpe3ZhciBhPW51bGwhPXRoaXMudGhlbWVzP3RoaXMudGhlbWVzW3RoaXMuZGVmYXVsdFRoZW1lTmFtZV06bXhTdHlsZVJlZ2lzdHJ5LmR5bmFtaWNMb2FkaW5nP214VXRpbHMubG9hZChTVFlMRV9QQVRIKwoiL2RlZmF1bHQueG1sIikuZ2V0RG9jdW1lbnRFbGVtZW50KCk6bnVsbDtudWxsIT1hJiYobmV3IG14Q29kZWMoYS5vd25lckRvY3VtZW50KSkuZGVjb2RlKGEsdGhpcy5nZXRTdHlsZXNoZWV0KCkpfTtHcmFwaC5wcm90b3R5cGUuY3JlYXRlQ2VsbExvb2t1cD1mdW5jdGlvbihhLGIpe2I9bnVsbCE9Yj9iOnt9O2Zvcih2YXIgZT0wO2U8YS5sZW5ndGg7ZSsrKXt2YXIgZD1hW2VdO2JbbXhPYmplY3RJZGVudGl0eS5nZXQoZCldPWQuZ2V0SWQoKTtmb3IodmFyIGM9dGhpcy5tb2RlbC5nZXRDaGlsZENvdW50KGQpLGY9MDtmPGM7ZisrKXRoaXMuY3JlYXRlQ2VsbExvb2t1cChbdGhpcy5tb2RlbC5nZXRDaGlsZEF0KGQsZildLGIpfXJldHVybiBifTtHcmFwaC5wcm90b3R5cGUuY3JlYXRlQ2VsbE1hcHBpbmc9ZnVuY3Rpb24oYSxiLGUpe2U9bnVsbCE9ZT9lOnt9O2Zvcih2YXIgZCBpbiBhKXt2YXIgYz1iW2RdO251bGw9PWVbY10mJihlW2NdPWFbZF0uZ2V0SWQoKXx8IiIpfXJldHVybiBlfTsKR3JhcGgucHJvdG90eXBlLmltcG9ydEdyYXBoTW9kZWw9ZnVuY3Rpb24oYSxiLGUsZCl7Yj1udWxsIT1iP2I6MDtlPW51bGwhPWU/ZTowO3ZhciBjPW5ldyBteENvZGVjKGEub3duZXJEb2N1bWVudCksZj1uZXcgbXhHcmFwaE1vZGVsO2MuZGVjb2RlKGEsZik7YT1bXTt2YXIgYz17fSxnPXt9LGw9Zi5nZXRDaGlsZHJlbih0aGlzLmNsb25lQ2VsbChmLnJvb3QsdGhpcy5pc0Nsb25lSW52YWxpZEVkZ2VzKCksYykpO2lmKG51bGwhPWwpe3ZhciBwPXRoaXMuY3JlYXRlQ2VsbExvb2t1cChbZi5yb290XSksbD1sLnNsaWNlKCk7dGhpcy5tb2RlbC5iZWdpblVwZGF0ZSgpO3RyeXtpZigxIT1sLmxlbmd0aHx8dGhpcy5pc0NlbGxMb2NrZWQodGhpcy5nZXREZWZhdWx0UGFyZW50KCkpKWZvcihmPTA7ZjxsLmxlbmd0aDtmKyspe3ZhciB1PXRoaXMubW9kZWwuZ2V0Q2hpbGRyZW4odGhpcy5tb3ZlQ2VsbHMoW2xbZl1dLGIsZSwhMSx0aGlzLm1vZGVsLmdldFJvb3QoKSlbMF0pO251bGwhPXUmJgooYT1hLmNvbmNhdCh1KSl9ZWxzZSBhPXRoaXMubW92ZUNlbGxzKGYuZ2V0Q2hpbGRyZW4obFswXSksYixlLCExLHRoaXMuZ2V0RGVmYXVsdFBhcmVudCgpKSxnW2YuZ2V0Q2hpbGRBdChmLnJvb3QsMCkuZ2V0SWQoKV09dGhpcy5nZXREZWZhdWx0UGFyZW50KCkuZ2V0SWQoKTtpZihudWxsIT1hJiYodGhpcy5jcmVhdGVDZWxsTWFwcGluZyhjLHAsZyksdGhpcy51cGRhdGVDdXN0b21MaW5rcyhnLGEpLGQpKXt0aGlzLmlzR3JpZEVuYWJsZWQoKSYmKGI9dGhpcy5zbmFwKGIpLGU9dGhpcy5zbmFwKGUpKTt2YXIgbj10aGlzLmdldEJvdW5kaW5nQm94RnJvbUdlb21ldHJ5KGEsITApO251bGwhPW4mJnRoaXMubW92ZUNlbGxzKGEsYi1uLngsZS1uLnkpfX1maW5hbGx5e3RoaXMubW9kZWwuZW5kVXBkYXRlKCl9fXJldHVybiBhfTtHcmFwaC5wcm90b3R5cGUuZW5jb2RlQ2VsbHM9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPXt9LGU9dGhpcy5jbG9uZUNlbGxzKGEsbnVsbCxiKSxkPW5ldyBteERpY3Rpb25hcnksCmM9MDtjPGEubGVuZ3RoO2MrKylkLnB1dChhW2NdLCEwKTtmb3IodmFyIGY9bmV3IG14Q29kZWMsZz1uZXcgbXhHcmFwaE1vZGVsLGw9Zy5nZXRDaGlsZEF0KGcuZ2V0Um9vdCgpLDApLGM9MDtjPGUubGVuZ3RoO2MrKyl7Zy5hZGQobCxlW2NdKTt2YXIgcD10aGlzLnZpZXcuZ2V0U3RhdGUoYVtjXSk7aWYobnVsbCE9cCl7dmFyIHU9dGhpcy5nZXRDZWxsR2VvbWV0cnkoZVtjXSk7bnVsbCE9dSYmdS5yZWxhdGl2ZSYmIXRoaXMubW9kZWwuaXNFZGdlKGFbY10pJiZudWxsPT1kLmdldCh0aGlzLm1vZGVsLmdldFBhcmVudChhW2NdKSkmJih1Lm9mZnNldD1udWxsLHUucmVsYXRpdmU9ITEsdS54PXAueC9wLnZpZXcuc2NhbGUtcC52aWV3LnRyYW5zbGF0ZS54LHUueT1wLnkvcC52aWV3LnNjYWxlLXAudmlldy50cmFuc2xhdGUueSl9fXRoaXMudXBkYXRlQ3VzdG9tTGlua3ModGhpcy5jcmVhdGVDZWxsTWFwcGluZyhiLHRoaXMuY3JlYXRlQ2VsbExvb2t1cChhKSksZSk7cmV0dXJuIGYuZW5jb2RlKGcpfTsKR3JhcGgucHJvdG90eXBlLmlzU3dpbWxhbmU9ZnVuY3Rpb24oYSxiKXtpZihudWxsIT1hJiZ0aGlzLm1vZGVsLmdldFBhcmVudChhKSE9dGhpcy5tb2RlbC5nZXRSb290KCkmJiF0aGlzLm1vZGVsLmlzRWRnZShhKSl7dmFyIGU9dGhpcy5nZXRDdXJyZW50Q2VsbFN0eWxlKGEsYilbbXhDb25zdGFudHMuU1RZTEVfU0hBUEVdO3JldHVybiBlPT1teENvbnN0YW50cy5TSEFQRV9TV0lNTEFORXx8InRhYmxlIj09ZX1yZXR1cm4hMX07dmFyIGs9R3JhcGgucHJvdG90eXBlLmlzRXh0ZW5kUGFyZW50O0dyYXBoLnByb3RvdHlwZS5pc0V4dGVuZFBhcmVudD1mdW5jdGlvbihhKXt2YXIgYj10aGlzLm1vZGVsLmdldFBhcmVudChhKTtpZihudWxsIT1iKXt2YXIgZT10aGlzLmdldEN1cnJlbnRDZWxsU3R5bGUoYik7aWYobnVsbCE9ZS5leHBhbmQpcmV0dXJuIjAiIT1lLmV4cGFuZH1yZXR1cm4gay5hcHBseSh0aGlzLGFyZ3VtZW50cykmJihudWxsPT1ifHwhdGhpcy5pc1RhYmxlKGIpKX07dmFyIHE9CkdyYXBoLnByb3RvdHlwZS5zcGxpdEVkZ2U7R3JhcGgucHJvdG90eXBlLnNwbGl0RWRnZT1mdW5jdGlvbihhLGIsZSxkLGMsZixnLGwpe251bGw9PWwmJihsPXRoaXMubW9kZWwuZ2V0UGFyZW50KGEpLHRoaXMuaXNUYWJsZShsKXx8dGhpcy5pc1RhYmxlUm93KGwpKSYmKGw9dGhpcy5nZXRDZWxsQXQoZixnLG51bGwsITAsITEpKTtxLmFwcGx5KHRoaXMsW2EsYixlLGQsYyxmLGcsbF0pfTt2YXIgYj1HcmFwaC5wcm90b3R5cGUuc2VsZWN0Q2VsbDtHcmFwaC5wcm90b3R5cGUuc2VsZWN0Q2VsbD1mdW5jdGlvbihhLGUsZCl7aWYoZXx8ZCliLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtlbHNle3ZhciBjPXRoaXMuZ2V0U2VsZWN0aW9uQ2VsbCgpLGY9bnVsbCxnPVtdLGw9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYil7aWYobnVsbCE9dGhpcy52aWV3LmdldFN0YXRlKGIpJiYodGhpcy5tb2RlbC5pc1ZlcnRleChiKXx8dGhpcy5tb2RlbC5pc0VkZ2UoYikpKWlmKGcucHVzaChiKSxiPT0KYylmPWcubGVuZ3RoLTE7ZWxzZSBpZihhJiZudWxsPT1jJiYwPGcubGVuZ3RofHxudWxsIT1mJiZhJiZnLmxlbmd0aD5mfHwhYSYmMDxmKXJldHVybjtmb3IodmFyIGU9MDtlPHRoaXMubW9kZWwuZ2V0Q2hpbGRDb3VudChiKTtlKyspbCh0aGlzLm1vZGVsLmdldENoaWxkQXQoYixlKSl9KTtsKHRoaXMubW9kZWwucm9vdCk7MDxnLmxlbmd0aCYmKGY9bnVsbCE9Zj9teFV0aWxzLm1vZChmKyhhPzE6LTEpLGcubGVuZ3RoKTowLHRoaXMuc2V0U2VsZWN0aW9uQ2VsbChnW2ZdKSl9fTt2YXIgZT1HcmFwaC5wcm90b3R5cGUubW92ZUNlbGxzO0dyYXBoLnByb3RvdHlwZS5tb3ZlQ2VsbHM9ZnVuY3Rpb24oYSxiLGQsYyxmLGcsbCl7bD1udWxsIT1sP2w6e307Zm9yKHZhciBwPTA7cDxhLmxlbmd0aDtwKyspaWYobnVsbCE9ZiYmdGhpcy5pc1RhYmxlUm93KGFbcF0pKXt2YXIgdT10aGlzLm1vZGVsLmdldFBhcmVudChhW3BdKSxuPXRoaXMuZ2V0Q2VsbEdlb21ldHJ5KGFbcF0pO2lmKG51bGwhPQp1JiZudWxsIT1uJiZ0aGlzLmlzVGFibGUodSkmJnRoaXMuaXNUYWJsZShmKSYmKGN8fHUhPWYpKXtpZighYyl7dmFyIHQ9dGhpcy5nZXRDZWxsR2VvbWV0cnkodSk7bnVsbCE9dCYmKHQ9dC5jbG9uZSgpLHQuaGVpZ2h0LT1uLmhlaWdodCx0aGlzLm1vZGVsLnNldEdlb21ldHJ5KHUsdCkpfXQ9dGhpcy5nZXRDZWxsR2VvbWV0cnkoZik7bnVsbCE9dCYmKHQ9dC5jbG9uZSgpLHQuaGVpZ2h0Kz1uLmhlaWdodCx0aGlzLm1vZGVsLnNldEdlb21ldHJ5KGYsdCkpO249dGhpcy5tb2RlbC5nZXRDaGlsZENlbGxzKGYsITApO2lmKDA8bi5sZW5ndGgpaWYodT10aGlzLm1vZGVsLmdldENoaWxkQ2VsbHMoYVtwXSwhMCksbj10aGlzLm1vZGVsLmdldENoaWxkQ2VsbHMoblswXSwhMCkubGVuZ3RoLXUubGVuZ3RoLDA8bilmb3IodD0wO3Q8bjt0Kyspe3ZhciBUPXRoaXMuY2xvbmVDZWxsKHVbdS5sZW5ndGgtMV0pO1QudmFsdWU9IiI7dGhpcy5tb2RlbC5hZGQoYVtwXSxUKX1lbHNlIGlmKDA+bilmb3IodD0KMDt0Pm47dC0tKXRoaXMubW9kZWwucmVtb3ZlKHVbdS5sZW5ndGgtbi0xXSl9fXA9ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7YyYmdGhpcy51cGRhdGVDdXN0b21MaW5rcyh0aGlzLmNyZWF0ZUNlbGxNYXBwaW5nKGwsdGhpcy5jcmVhdGVDZWxsTG9va3VwKGEpKSxwKTtyZXR1cm4gcH07dmFyIGc9R3JhcGgucHJvdG90eXBlLnJlbW92ZUNlbGxzO0dyYXBoLnByb3RvdHlwZS5yZW1vdmVDZWxscz1mdW5jdGlvbihhLGIpe3ZhciBlPVtdO3RoaXMubW9kZWwuYmVnaW5VcGRhdGUoKTt0cnl7Zm9yKHZhciBkPTA7ZDxhLmxlbmd0aDtkKyspaWYodGhpcy5pc1RhYmxlQ2VsbChhW2RdKSl7dmFyIGM9dGhpcy5tb2RlbC5nZXRQYXJlbnQoYVtkXSksZj10aGlzLm1vZGVsLmdldFBhcmVudChjKTsxPT10aGlzLm1vZGVsLmdldENoaWxkQ291bnQoYykmJjE9PXRoaXMubW9kZWwuZ2V0Q2hpbGRDb3VudChmKT8wPm14VXRpbHMuaW5kZXhPZihhLGYpJiYwPm14VXRpbHMuaW5kZXhPZihlLGYpJiZlLnB1c2goZik6CnRoaXMubGFiZWxDaGFuZ2VkKGFbZF0sIiIpfWVsc2V7aWYodGhpcy5pc1RhYmxlUm93KGFbZF0pJiYoZj10aGlzLm1vZGVsLmdldFBhcmVudChhW2RdKSwwPm14VXRpbHMuaW5kZXhPZihhLGYpJiYwPm14VXRpbHMuaW5kZXhPZihlLGYpKSl7Zm9yKHZhciBsPXRoaXMubW9kZWwuZ2V0Q2hpbGRDZWxscyhmLCEwKSxwPTAsdT0wO3U8bC5sZW5ndGg7dSsrKTA8PW14VXRpbHMuaW5kZXhPZihhLGxbdV0pJiZwKys7cD09bC5sZW5ndGgmJmUucHVzaChmKX1lLnB1c2goYVtkXSl9ZT1nLmFwcGx5KHRoaXMsW2UsYl0pfWZpbmFsbHl7dGhpcy5tb2RlbC5lbmRVcGRhdGUoKX1yZXR1cm4gZX07R3JhcGgucHJvdG90eXBlLnVwZGF0ZUN1c3RvbUxpbmtzPWZ1bmN0aW9uKGEsYil7Zm9yKHZhciBlPTA7ZTxiLmxlbmd0aDtlKyspbnVsbCE9YltlXSYmdGhpcy51cGRhdGVDdXN0b21MaW5rc0ZvckNlbGwoYSxiW2VdKX07R3JhcGgucHJvdG90eXBlLnVwZGF0ZUN1c3RvbUxpbmtzRm9yQ2VsbD1mdW5jdGlvbihhLApiKXt9O0dyYXBoLnByb3RvdHlwZS5nZXRBbGxDb25uZWN0aW9uQ29uc3RyYWludHM9ZnVuY3Rpb24oYSxiKXtpZihudWxsIT1hKXt2YXIgZT1teFV0aWxzLmdldFZhbHVlKGEuc3R5bGUsInBvaW50cyIsbnVsbCk7aWYobnVsbCE9ZSl7dmFyIGQ9W107dHJ5e2Zvcih2YXIgYz1KU09OLnBhcnNlKGUpLGU9MDtlPGMubGVuZ3RoO2UrKyl7dmFyIGY9Y1tlXTtkLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoZlswXSxmWzFdKSwyPGYubGVuZ3RoPyIwIiE9ZlsyXTohMCxudWxsLDM8Zi5sZW5ndGg/ZlszXTowLDQ8Zi5sZW5ndGg/Zls0XTowKSl9fWNhdGNoKHphKXt9cmV0dXJuIGR9aWYobnVsbCE9YS5zaGFwZSYmbnVsbCE9YS5zaGFwZS5ib3VuZHMpe2Y9YS5zaGFwZS5kaXJlY3Rpb247Yz1hLnNoYXBlLmJvdW5kcztlPWEuc2hhcGUuc2NhbGU7ZD1jLndpZHRoL2U7Yz1jLmhlaWdodC9lO2lmKGY9PW14Q29uc3RhbnRzLkRJUkVDVElPTl9OT1JUSHx8Zj09Cm14Q29uc3RhbnRzLkRJUkVDVElPTl9TT1VUSClmPWQsZD1jLGM9ZjtlPWEuc2hhcGUuZ2V0Q29uc3RyYWludHMoYS5zdHlsZSxkLGMpO2lmKG51bGwhPWUpcmV0dXJuIGU7aWYobnVsbCE9YS5zaGFwZS5zdGVuY2lsJiZudWxsIT1hLnNoYXBlLnN0ZW5jaWwuY29uc3RyYWludHMpcmV0dXJuIGEuc2hhcGUuc3RlbmNpbC5jb25zdHJhaW50cztpZihudWxsIT1hLnNoYXBlLmNvbnN0cmFpbnRzKXJldHVybiBhLnNoYXBlLmNvbnN0cmFpbnRzfX1yZXR1cm4gbnVsbH07R3JhcGgucHJvdG90eXBlLmZsaXBFZGdlPWZ1bmN0aW9uKGEpe2lmKG51bGwhPWEpe3ZhciBiPXRoaXMuZ2V0Q3VycmVudENlbGxTdHlsZShhKSxiPW14VXRpbHMuZ2V0VmFsdWUoYixteENvbnN0YW50cy5TVFlMRV9FTEJPVyxteENvbnN0YW50cy5FTEJPV19IT1JJWk9OVEFMKT09bXhDb25zdGFudHMuRUxCT1dfSE9SSVpPTlRBTD9teENvbnN0YW50cy5FTEJPV19WRVJUSUNBTDpteENvbnN0YW50cy5FTEJPV19IT1JJWk9OVEFMOwp0aGlzLnNldENlbGxTdHlsZXMobXhDb25zdGFudHMuU1RZTEVfRUxCT1csYixbYV0pfX07R3JhcGgucHJvdG90eXBlLmlzVmFsaWRSb290PWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj10aGlzLm1vZGVsLmdldENoaWxkQ291bnQoYSksZT0wLGQ9MDtkPGI7ZCsrKXt2YXIgYz10aGlzLm1vZGVsLmdldENoaWxkQXQoYSxkKTt0aGlzLm1vZGVsLmlzVmVydGV4KGMpJiYoYz10aGlzLmdldENlbGxHZW9tZXRyeShjKSxudWxsPT1jfHxjLnJlbGF0aXZlfHxlKyspfXJldHVybiAwPGV8fHRoaXMuaXNDb250YWluZXIoYSl9O0dyYXBoLnByb3RvdHlwZS5pc1ZhbGlkRHJvcFRhcmdldD1mdW5jdGlvbihhLGIsZSl7Zm9yKHZhciBkPXRoaXMuZ2V0Q3VycmVudENlbGxTdHlsZShhKSxjPSEwLGY9MDtmPGIubGVuZ3RoJiZjO2YrKyljPWMmJnRoaXMuaXNUYWJsZVJvdyhiW2ZdKTtyZXR1cm4oIjEiIT1teFV0aWxzLmdldFZhbHVlKGQsInBhcnQiLCIwIil8fHRoaXMuaXNDb250YWluZXIoYSkpJiYiMCIhPQpteFV0aWxzLmdldFZhbHVlKGQsImRyb3BUYXJnZXQiLCIxIikmJihteEdyYXBoLnByb3RvdHlwZS5pc1ZhbGlkRHJvcFRhcmdldC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXMuaXNDb250YWluZXIoYSkpJiYhdGhpcy5pc1RhYmxlUm93KGEpJiYoIXRoaXMuaXNUYWJsZShhKXx8Yyl9O0dyYXBoLnByb3RvdHlwZS5jcmVhdGVHcm91cENlbGw9ZnVuY3Rpb24oKXt2YXIgYT1teEdyYXBoLnByb3RvdHlwZS5jcmVhdGVHcm91cENlbGwuYXBwbHkodGhpcyxhcmd1bWVudHMpO2Euc2V0U3R5bGUoImdyb3VwIik7cmV0dXJuIGF9O0dyYXBoLnByb3RvdHlwZS5pc0V4dGVuZFBhcmVudHNPbkFkZD1mdW5jdGlvbihhKXt2YXIgYj1teEdyYXBoLnByb3RvdHlwZS5pc0V4dGVuZFBhcmVudHNPbkFkZC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7aWYoYiYmbnVsbCE9YSYmbnVsbCE9dGhpcy5sYXlvdXRNYW5hZ2VyKXt2YXIgZT10aGlzLm1vZGVsLmdldFBhcmVudChhKTtudWxsIT1lJiYoZT10aGlzLmxheW91dE1hbmFnZXIuZ2V0TGF5b3V0KGUpLApudWxsIT1lJiZlLmNvbnN0cnVjdG9yPT1teFN0YWNrTGF5b3V0JiYoYj0hMSkpfXJldHVybiBifTtHcmFwaC5wcm90b3R5cGUuZ2V0UHJlZmVycmVkU2l6ZUZvckNlbGw9ZnVuY3Rpb24oYSl7dmFyIGI9bXhHcmFwaC5wcm90b3R5cGUuZ2V0UHJlZmVycmVkU2l6ZUZvckNlbGwuYXBwbHkodGhpcyxhcmd1bWVudHMpO251bGwhPWImJihiLndpZHRoKz0xMCxiLmhlaWdodCs9NCx0aGlzLmdyaWRFbmFibGVkJiYoYi53aWR0aD10aGlzLnNuYXAoYi53aWR0aCksYi5oZWlnaHQ9dGhpcy5zbmFwKGIuaGVpZ2h0KSkpO3JldHVybiBifTtHcmFwaC5wcm90b3R5cGUudHVyblNoYXBlcz1mdW5jdGlvbihhLGIpe3ZhciBlPXRoaXMuZ2V0TW9kZWwoKSxkPVtdO2UuYmVnaW5VcGRhdGUoKTt0cnl7Zm9yKHZhciBjPTA7YzxhLmxlbmd0aDtjKyspe3ZhciBmPWFbY107aWYoZS5pc0VkZ2UoZikpe3ZhciBnPWUuZ2V0VGVybWluYWwoZiwhMCksbD1lLmdldFRlcm1pbmFsKGYsITEpO2Uuc2V0VGVybWluYWwoZiwKbCwhMCk7ZS5zZXRUZXJtaW5hbChmLGcsITEpO3ZhciBwPWUuZ2V0R2VvbWV0cnkoZik7aWYobnVsbCE9cCl7cD1wLmNsb25lKCk7bnVsbCE9cC5wb2ludHMmJnAucG9pbnRzLnJldmVyc2UoKTt2YXIgdT1wLmdldFRlcm1pbmFsUG9pbnQoITApLG49cC5nZXRUZXJtaW5hbFBvaW50KCExKTtwLnNldFRlcm1pbmFsUG9pbnQodSwhMSk7cC5zZXRUZXJtaW5hbFBvaW50KG4sITApO2Uuc2V0R2VvbWV0cnkoZixwKTt2YXIgdD10aGlzLnZpZXcuZ2V0U3RhdGUoZiksQj10aGlzLnZpZXcuZ2V0U3RhdGUoZyksaz10aGlzLnZpZXcuZ2V0U3RhdGUobCk7aWYobnVsbCE9dCl7dmFyIFQ9bnVsbCE9Qj90aGlzLmdldENvbm5lY3Rpb25Db25zdHJhaW50KHQsQiwhMCk6bnVsbCxtPW51bGwhPWs/dGhpcy5nZXRDb25uZWN0aW9uQ29uc3RyYWludCh0LGssITEpOm51bGw7dGhpcy5zZXRDb25uZWN0aW9uQ29uc3RyYWludChmLGcsITAsbSk7dGhpcy5zZXRDb25uZWN0aW9uQ29uc3RyYWludChmLGwsCiExLFQpfWQucHVzaChmKX19ZWxzZSBpZihlLmlzVmVydGV4KGYpJiYocD10aGlzLmdldENlbGxHZW9tZXRyeShmKSxudWxsIT1wKSl7aWYoIXRoaXMuaXNUYWJsZShmKSYmIXRoaXMuaXNUYWJsZVJvdyhmKSYmIXRoaXMuaXNUYWJsZUNlbGwoZikpe3A9cC5jbG9uZSgpO3AueCs9cC53aWR0aC8yLXAuaGVpZ2h0LzI7cC55Kz1wLmhlaWdodC8yLXAud2lkdGgvMjt2YXIgeT1wLndpZHRoO3Aud2lkdGg9cC5oZWlnaHQ7cC5oZWlnaHQ9eTtlLnNldEdlb21ldHJ5KGYscCl9dmFyIHY9dGhpcy52aWV3LmdldFN0YXRlKGYpO2lmKG51bGwhPXYpe3ZhciBLPVtteENvbnN0YW50cy5ESVJFQ1RJT05fRUFTVCxteENvbnN0YW50cy5ESVJFQ1RJT05fU09VVEgsbXhDb25zdGFudHMuRElSRUNUSU9OX1dFU1QsbXhDb25zdGFudHMuRElSRUNUSU9OX05PUlRIXSx4PW14VXRpbHMuZ2V0VmFsdWUodi5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9ESVJFQ1RJT04sbXhDb25zdGFudHMuRElSRUNUSU9OX0VBU1QpOwp0aGlzLnNldENlbGxTdHlsZXMobXhDb25zdGFudHMuU1RZTEVfRElSRUNUSU9OLEtbbXhVdGlscy5tb2QobXhVdGlscy5pbmRleE9mKEsseCkrKGI/LTE6MSksSy5sZW5ndGgpXSxbZl0pfWQucHVzaChmKX19fWZpbmFsbHl7ZS5lbmRVcGRhdGUoKX1yZXR1cm4gZH07R3JhcGgucHJvdG90eXBlLnN0ZW5jaWxIYXNQbGFjZWhvbGRlcnM9ZnVuY3Rpb24oYSl7aWYobnVsbCE9YSYmbnVsbCE9YS5mZ05vZGUpZm9yKGE9YS5mZ05vZGUuZmlyc3RDaGlsZDtudWxsIT1hOyl7aWYoInRleHQiPT1hLm5vZGVOYW1lJiYiMSI9PWEuZ2V0QXR0cmlidXRlKCJwbGFjZWhvbGRlcnMiKSlyZXR1cm4hMDthPWEubmV4dFNpYmxpbmd9cmV0dXJuITF9O3ZhciBwPUdyYXBoLnByb3RvdHlwZS5wcm9jZXNzQ2hhbmdlO0dyYXBoLnByb3RvdHlwZS5wcm9jZXNzQ2hhbmdlPWZ1bmN0aW9uKGEpe2lmKGEgaW5zdGFuY2VvZiBteEdlb21ldHJ5Q2hhbmdlJiYodGhpcy5pc1RhYmxlQ2VsbChhLmNlbGwpfHx0aGlzLmlzVGFibGVSb3coYS5jZWxsKSkmJgoobnVsbD09YS5wcmV2aW91cyYmbnVsbCE9YS5nZW9tZXRyeXx8bnVsbCE9YS5wcmV2aW91cyYmIWEucHJldmlvdXMuZXF1YWxzKGEuZ2VvbWV0cnkpKSl7dmFyIGI9YS5jZWxsO3RoaXMuaXNUYWJsZUNlbGwoYikmJihiPXRoaXMubW9kZWwuZ2V0UGFyZW50KGIpKTt0aGlzLmlzVGFibGVSb3coYikmJihiPXRoaXMubW9kZWwuZ2V0UGFyZW50KGIpKTt2YXIgZT10aGlzLnZpZXcuZ2V0U3RhdGUoYik7bnVsbCE9ZSYmbnVsbCE9ZS5zaGFwZSYmKHRoaXMudmlldy5pbnZhbGlkYXRlKGIpLGUuc2hhcGUuYm91bmRzPW51bGwpfXAuYXBwbHkodGhpcyxhcmd1bWVudHMpO2EgaW5zdGFuY2VvZiBteFZhbHVlQ2hhbmdlJiZudWxsIT1hLmNlbGwmJm51bGwhPWEuY2VsbC52YWx1ZSYmIm9iamVjdCI9PXR5cGVvZiBhLmNlbGwudmFsdWUmJnRoaXMuaW52YWxpZGF0ZURlc2NlbmRhbnRzV2l0aFBsYWNlaG9sZGVycyhhLmNlbGwpfTtHcmFwaC5wcm90b3R5cGUuaW52YWxpZGF0ZURlc2NlbmRhbnRzV2l0aFBsYWNlaG9sZGVycz0KZnVuY3Rpb24oYSl7YT10aGlzLm1vZGVsLmdldERlc2NlbmRhbnRzKGEpO2lmKDA8YS5sZW5ndGgpZm9yKHZhciBiPTA7YjxhLmxlbmd0aDtiKyspe3ZhciBlPXRoaXMudmlldy5nZXRTdGF0ZShhW2JdKTtudWxsIT1lJiZudWxsIT1lLnNoYXBlJiZudWxsIT1lLnNoYXBlLnN0ZW5jaWwmJnRoaXMuc3RlbmNpbEhhc1BsYWNlaG9sZGVycyhlLnNoYXBlLnN0ZW5jaWwpP3RoaXMucmVtb3ZlU3RhdGVGb3JDZWxsKGFbYl0pOnRoaXMuaXNSZXBsYWNlUGxhY2Vob2xkZXJzKGFbYl0pJiZ0aGlzLnZpZXcuaW52YWxpZGF0ZShhW2JdLCExLCExKX19O0dyYXBoLnByb3RvdHlwZS5yZXBsYWNlRWxlbWVudD1mdW5jdGlvbihhLGIpe2Zvcih2YXIgZT1hLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudChudWxsIT1iP2I6InNwYW4iKSxkPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGEuYXR0cmlidXRlcyk7YXR0cj1kLnBvcCgpOyllLnNldEF0dHJpYnV0ZShhdHRyLm5vZGVOYW1lLGF0dHIubm9kZVZhbHVlKTsKZS5pbm5lckhUTUw9YS5pbm5lckhUTUw7YS5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChlLGEpfTtHcmFwaC5wcm90b3R5cGUucHJvY2Vzc0VsZW1lbnRzPWZ1bmN0aW9uKGEsYil7aWYobnVsbCE9YSlmb3IodmFyIGU9YS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiKiIpLGQ9MDtkPGUubGVuZ3RoO2QrKyliKGVbZF0pfTtHcmFwaC5wcm90b3R5cGUudXBkYXRlTGFiZWxFbGVtZW50cz1mdW5jdGlvbihhLGIsZSl7YT1udWxsIT1hP2E6dGhpcy5nZXRTZWxlY3Rpb25DZWxscygpO2Zvcih2YXIgZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSxjPTA7YzxhLmxlbmd0aDtjKyspaWYodGhpcy5pc0h0bWxMYWJlbChhW2NdKSl7dmFyIGY9dGhpcy5jb252ZXJ0VmFsdWVUb1N0cmluZyhhW2NdKTtpZihudWxsIT1mJiYwPGYubGVuZ3RoKXtkLmlubmVySFRNTD1mO2Zvcih2YXIgZz1kLmdldEVsZW1lbnRzQnlUYWdOYW1lKG51bGwhPWU/ZToiKiIpLGw9MDtsPGcubGVuZ3RoO2wrKyliKGdbbF0pOwpkLmlubmVySFRNTCE9ZiYmdGhpcy5jZWxsTGFiZWxDaGFuZ2VkKGFbY10sZC5pbm5lckhUTUwpfX19O0dyYXBoLnByb3RvdHlwZS5jZWxsTGFiZWxDaGFuZ2VkPWZ1bmN0aW9uKGEsYixlKXtiPUdyYXBoLnphcEdyZW1saW5zKGIpO3RoaXMubW9kZWwuYmVnaW5VcGRhdGUoKTt0cnl7aWYobnVsbCE9YS52YWx1ZSYmIm9iamVjdCI9PXR5cGVvZiBhLnZhbHVlKXtpZih0aGlzLmlzUmVwbGFjZVBsYWNlaG9sZGVycyhhKSYmbnVsbCE9YS5nZXRBdHRyaWJ1dGUoInBsYWNlaG9sZGVyIikpZm9yKHZhciBkPWEuZ2V0QXR0cmlidXRlKCJwbGFjZWhvbGRlciIpLGM9YTtudWxsIT1jOyl7aWYoYz09dGhpcy5tb2RlbC5nZXRSb290KCl8fG51bGwhPWMudmFsdWUmJiJvYmplY3QiPT10eXBlb2YgYy52YWx1ZSYmYy5oYXNBdHRyaWJ1dGUoZCkpe3RoaXMuc2V0QXR0cmlidXRlRm9yQ2VsbChjLGQsYik7YnJlYWt9Yz10aGlzLm1vZGVsLmdldFBhcmVudChjKX12YXIgZj1hLnZhbHVlLmNsb25lTm9kZSghMCk7CmYuc2V0QXR0cmlidXRlKCJsYWJlbCIsYik7Yj1mfW14R3JhcGgucHJvdG90eXBlLmNlbGxMYWJlbENoYW5nZWQuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZpbmFsbHl7dGhpcy5tb2RlbC5lbmRVcGRhdGUoKX19O0dyYXBoLnByb3RvdHlwZS5jZWxsc1JlbW92ZWQ9ZnVuY3Rpb24oYSl7aWYobnVsbCE9YSl7Zm9yKHZhciBiPW5ldyBteERpY3Rpb25hcnksZT0wO2U8YS5sZW5ndGg7ZSsrKWIucHV0KGFbZV0sITApO2Zvcih2YXIgZD1bXSxlPTA7ZTxhLmxlbmd0aDtlKyspe3ZhciBjPXRoaXMubW9kZWwuZ2V0UGFyZW50KGFbZV0pO251bGw9PWN8fGIuZ2V0KGMpfHwoYi5wdXQoYywhMCksZC5wdXNoKGMpKX1mb3IoZT0wO2U8ZC5sZW5ndGg7ZSsrKWlmKGM9dGhpcy52aWV3LmdldFN0YXRlKGRbZV0pLG51bGwhPWMmJih0aGlzLm1vZGVsLmlzRWRnZShjLmNlbGwpfHx0aGlzLm1vZGVsLmlzVmVydGV4KGMuY2VsbCkpJiZ0aGlzLmlzQ2VsbERlbGV0YWJsZShjLmNlbGwpJiZ0aGlzLmlzVHJhbnNwYXJlbnRTdGF0ZShjKSl7Zm9yKHZhciBmPQohMCxnPTA7Zzx0aGlzLm1vZGVsLmdldENoaWxkQ291bnQoYy5jZWxsKSYmZjtnKyspYi5nZXQodGhpcy5tb2RlbC5nZXRDaGlsZEF0KGMuY2VsbCxnKSl8fChmPSExKTtmJiZhLnB1c2goYy5jZWxsKX19bXhHcmFwaC5wcm90b3R5cGUuY2VsbHNSZW1vdmVkLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07R3JhcGgucHJvdG90eXBlLnJlbW92ZUNlbGxzQWZ0ZXJVbmdyb3VwPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1bXSxlPTA7ZTxhLmxlbmd0aDtlKyspdGhpcy5pc0NlbGxEZWxldGFibGUoYVtlXSkmJnRoaXMuaXNUcmFuc3BhcmVudFN0YXRlKHRoaXMudmlldy5nZXRTdGF0ZShhW2VdKSkmJmIucHVzaChhW2VdKTthPWI7bXhHcmFwaC5wcm90b3R5cGUucmVtb3ZlQ2VsbHNBZnRlclVuZ3JvdXAuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtHcmFwaC5wcm90b3R5cGUuc2V0TGlua0ZvckNlbGw9ZnVuY3Rpb24oYSxiKXt0aGlzLnNldEF0dHJpYnV0ZUZvckNlbGwoYSwibGluayIsYil9O0dyYXBoLnByb3RvdHlwZS5zZXRUb29sdGlwRm9yQ2VsbD0KZnVuY3Rpb24oYSxiKXt0aGlzLnNldEF0dHJpYnV0ZUZvckNlbGwoYSwidG9vbHRpcCIsYil9O0dyYXBoLnByb3RvdHlwZS5nZXRBdHRyaWJ1dGVGb3JDZWxsPWZ1bmN0aW9uKGEsYixlKXthPW51bGwhPWEudmFsdWUmJiJvYmplY3QiPT09dHlwZW9mIGEudmFsdWU/YS52YWx1ZS5nZXRBdHRyaWJ1dGUoYik6bnVsbDtyZXR1cm4gbnVsbCE9YT9hOmV9O0dyYXBoLnByb3RvdHlwZS5zZXRBdHRyaWJ1dGVGb3JDZWxsPWZ1bmN0aW9uKGEsYixlKXt2YXIgYztudWxsIT1hLnZhbHVlJiYib2JqZWN0Ij09dHlwZW9mIGEudmFsdWU/Yz1hLnZhbHVlLmNsb25lTm9kZSghMCk6KGM9bXhVdGlscy5jcmVhdGVYbWxEb2N1bWVudCgpLmNyZWF0ZUVsZW1lbnQoIlVzZXJPYmplY3QiKSxjLnNldEF0dHJpYnV0ZSgibGFiZWwiLGEudmFsdWV8fCIiKSk7bnVsbCE9ZT9jLnNldEF0dHJpYnV0ZShiLGUpOmMucmVtb3ZlQXR0cmlidXRlKGIpO3RoaXMubW9kZWwuc2V0VmFsdWUoYSxjKX07dmFyIGw9R3JhcGgucHJvdG90eXBlLmdldERyb3BUYXJnZXQ7CkdyYXBoLnByb3RvdHlwZS5nZXREcm9wVGFyZ2V0PWZ1bmN0aW9uKGEsYixlLGMpe3RoaXMuZ2V0TW9kZWwoKTtpZihteEV2ZW50LmlzQWx0RG93bihiKSlyZXR1cm4gbnVsbDtmb3IodmFyIGQ9MDtkPGEubGVuZ3RoO2QrKylpZih0aGlzLm1vZGVsLmlzRWRnZSh0aGlzLm1vZGVsLmdldFBhcmVudChhW2RdKSkpcmV0dXJuIG51bGw7Zm9yKHZhciBmPWwuYXBwbHkodGhpcyxhcmd1bWVudHMpLGc9ITAsZD0wO2Q8YS5sZW5ndGgmJmc7ZCsrKWc9ZyYmdGhpcy5pc1RhYmxlUm93KGFbZF0pO2cmJih0aGlzLmlzVGFibGVDZWxsKGYpJiYoZj10aGlzLm1vZGVsLmdldFBhcmVudChmKSksdGhpcy5pc1RhYmxlUm93KGYpJiYoZj10aGlzLm1vZGVsLmdldFBhcmVudChmKSksdGhpcy5pc1RhYmxlKGYpfHwoZj1udWxsKSk7cmV0dXJuIGZ9O0dyYXBoLnByb3RvdHlwZS5jbGljaz1mdW5jdGlvbihhKXtteEdyYXBoLnByb3RvdHlwZS5jbGljay5jYWxsKHRoaXMsYSk7dGhpcy5maXJzdENsaWNrU3RhdGU9CmEuZ2V0U3RhdGUoKTt0aGlzLmZpcnN0Q2xpY2tTb3VyY2U9YS5nZXRTb3VyY2UoKX07R3JhcGgucHJvdG90eXBlLmRibENsaWNrPWZ1bmN0aW9uKGEsYil7aWYodGhpcy5pc0VuYWJsZWQoKSl7dmFyIGU9bXhVdGlscy5jb252ZXJ0UG9pbnQodGhpcy5jb250YWluZXIsbXhFdmVudC5nZXRDbGllbnRYKGEpLG14RXZlbnQuZ2V0Q2xpZW50WShhKSk7aWYobnVsbCE9YSYmIXRoaXMubW9kZWwuaXNWZXJ0ZXgoYikpe3ZhciBjPXRoaXMubW9kZWwuaXNFZGdlKGIpP3RoaXMudmlldy5nZXRTdGF0ZShiKTpudWxsLGQ9bXhFdmVudC5nZXRTb3VyY2UoYSk7dGhpcy5maXJzdENsaWNrU3RhdGUhPWN8fHRoaXMuZmlyc3RDbGlja1NvdXJjZSE9ZHx8bnVsbCE9YyYmbnVsbCE9Yy50ZXh0JiZudWxsIT1jLnRleHQubm9kZSYmbnVsbCE9Yy50ZXh0LmJvdW5kaW5nQm94JiYobXhVdGlscy5jb250YWlucyhjLnRleHQuYm91bmRpbmdCb3gsZS54LGUueSl8fG14VXRpbHMuaXNBbmNlc3Rvck5vZGUoYy50ZXh0Lm5vZGUsCm14RXZlbnQuZ2V0U291cmNlKGEpKSl8fChudWxsIT1jfHx0aGlzLmlzQ2VsbExvY2tlZCh0aGlzLmdldERlZmF1bHRQYXJlbnQoKSkpJiYobnVsbD09Y3x8dGhpcy5pc0NlbGxMb2NrZWQoYy5jZWxsKSl8fCEobnVsbCE9Y3x8bXhDbGllbnQuSVNfVk1MJiZkPT10aGlzLnZpZXcuZ2V0Q2FudmFzKCl8fG14Q2xpZW50LklTX1NWRyYmZD09dGhpcy52aWV3LmdldENhbnZhcygpLm93bmVyU1ZHRWxlbWVudCl8fChudWxsPT1jJiYoYz10aGlzLnZpZXcuZ2V0U3RhdGUodGhpcy5nZXRDZWxsQXQoZS54LGUueSkpKSxiPXRoaXMuYWRkVGV4dChlLngsZS55LGMpKX1teEdyYXBoLnByb3RvdHlwZS5kYmxDbGljay5jYWxsKHRoaXMsYSxiKX19O0dyYXBoLnByb3RvdHlwZS5nZXRJbnNlcnRQb2ludD1mdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0R3JpZFNpemUoKSxiPXRoaXMuY29udGFpbmVyLnNjcm9sbExlZnQvdGhpcy52aWV3LnNjYWxlLXRoaXMudmlldy50cmFuc2xhdGUueCxlPXRoaXMuY29udGFpbmVyLnNjcm9sbFRvcC8KdGhpcy52aWV3LnNjYWxlLXRoaXMudmlldy50cmFuc2xhdGUueTtpZih0aGlzLnBhZ2VWaXNpYmxlKXZhciBjPXRoaXMuZ2V0UGFnZUxheW91dCgpLGQ9dGhpcy5nZXRQYWdlU2l6ZSgpLGI9TWF0aC5tYXgoYixjLngqZC53aWR0aCksZT1NYXRoLm1heChlLGMueSpkLmhlaWdodCk7cmV0dXJuIG5ldyBteFBvaW50KHRoaXMuc25hcChiK2EpLHRoaXMuc25hcChlK2EpKX07R3JhcGgucHJvdG90eXBlLmdldEZyZWVJbnNlcnRQb2ludD1mdW5jdGlvbigpe3ZhciBhPXRoaXMudmlldyxiPXRoaXMuZ2V0R3JhcGhCb3VuZHMoKSxlPXRoaXMuZ2V0SW5zZXJ0UG9pbnQoKSxjPXRoaXMuc25hcChNYXRoLnJvdW5kKE1hdGgubWF4KGUueCxiLngvYS5zY2FsZS1hLnRyYW5zbGF0ZS54KygwPT1iLndpZHRoPzIqdGhpcy5ncmlkU2l6ZTowKSkpKSxhPXRoaXMuc25hcChNYXRoLnJvdW5kKE1hdGgubWF4KGUueSwoYi55K2IuaGVpZ2h0KS9hLnNjYWxlLWEudHJhbnNsYXRlLnkrMip0aGlzLmdyaWRTaXplKSkpOwpyZXR1cm4gbmV3IG14UG9pbnQoYyxhKX07R3JhcGgucHJvdG90eXBlLmdldENlbnRlckluc2VydFBvaW50PWZ1bmN0aW9uKGEpe2E9bnVsbCE9YT9hOm5ldyBteFJlY3RhbmdsZTtyZXR1cm4gbXhVdGlscy5oYXNTY3JvbGxiYXJzKHRoaXMuY29udGFpbmVyKT9uZXcgbXhQb2ludCh0aGlzLnNuYXAoTWF0aC5yb3VuZCgodGhpcy5jb250YWluZXIuc2Nyb2xsTGVmdCt0aGlzLmNvbnRhaW5lci5jbGllbnRXaWR0aC8yKS90aGlzLnZpZXcuc2NhbGUtdGhpcy52aWV3LnRyYW5zbGF0ZS54LWEud2lkdGgvMikpLHRoaXMuc25hcChNYXRoLnJvdW5kKCh0aGlzLmNvbnRhaW5lci5zY3JvbGxUb3ArdGhpcy5jb250YWluZXIuY2xpZW50SGVpZ2h0LzIpL3RoaXMudmlldy5zY2FsZS10aGlzLnZpZXcudHJhbnNsYXRlLnktYS5oZWlnaHQvMikpKTpuZXcgbXhQb2ludCh0aGlzLnNuYXAoTWF0aC5yb3VuZCh0aGlzLmNvbnRhaW5lci5jbGllbnRXaWR0aC8yL3RoaXMudmlldy5zY2FsZS10aGlzLnZpZXcudHJhbnNsYXRlLngtCmEud2lkdGgvMikpLHRoaXMuc25hcChNYXRoLnJvdW5kKHRoaXMuY29udGFpbmVyLmNsaWVudEhlaWdodC8yL3RoaXMudmlldy5zY2FsZS10aGlzLnZpZXcudHJhbnNsYXRlLnktYS5oZWlnaHQvMikpKX07R3JhcGgucHJvdG90eXBlLmlzTW91c2VJbnNlcnRQb2ludD1mdW5jdGlvbigpe3JldHVybiExfTtHcmFwaC5wcm90b3R5cGUuYWRkVGV4dD1mdW5jdGlvbihhLGIsZSl7dmFyIGM9bmV3IG14Q2VsbDtjLnZhbHVlPSJUZXh0IjtjLmdlb21ldHJ5PW5ldyBteEdlb21ldHJ5KDAsMCwwLDApO2MudmVydGV4PSEwO2lmKG51bGwhPWUmJnRoaXMubW9kZWwuaXNFZGdlKGUuY2VsbCkpe2Muc3R5bGU9ImVkZ2VMYWJlbDtodG1sPTE7YWxpZ249Y2VudGVyO3ZlcnRpY2FsQWxpZ249bWlkZGxlO3Jlc2l6YWJsZT0wO3BvaW50cz1bXTsiO2MuZ2VvbWV0cnkucmVsYXRpdmU9ITA7Yy5jb25uZWN0YWJsZT0hMTt2YXIgZD10aGlzLnZpZXcuZ2V0UmVsYXRpdmVQb2ludChlLGEsYik7Yy5nZW9tZXRyeS54PQpNYXRoLnJvdW5kKDFFNCpkLngpLzFFNDtjLmdlb21ldHJ5Lnk9TWF0aC5yb3VuZChkLnkpO2MuZ2VvbWV0cnkub2Zmc2V0PW5ldyBteFBvaW50KDAsMCk7dmFyIGQ9dGhpcy52aWV3LmdldFBvaW50KGUsYy5nZW9tZXRyeSksZj10aGlzLnZpZXcuc2NhbGU7Yy5nZW9tZXRyeS5vZmZzZXQ9bmV3IG14UG9pbnQoTWF0aC5yb3VuZCgoYS1kLngpL2YpLE1hdGgucm91bmQoKGItZC55KS9mKSl9ZWxzZSBkPXRoaXMudmlldy50cmFuc2xhdGUsYy5zdHlsZT0idGV4dDtodG1sPTE7YWxpZ249Y2VudGVyO3ZlcnRpY2FsQWxpZ249bWlkZGxlO3Jlc2l6YWJsZT0wO3BvaW50cz1bXTsiLGMuZ2VvbWV0cnkud2lkdGg9NDAsYy5nZW9tZXRyeS5oZWlnaHQ9MjAsYy5nZW9tZXRyeS54PU1hdGgucm91bmQoYS90aGlzLnZpZXcuc2NhbGUpLWQueC0obnVsbCE9ZT9lLm9yaWdpbi54OjApLGMuZ2VvbWV0cnkueT1NYXRoLnJvdW5kKGIvdGhpcy52aWV3LnNjYWxlKS1kLnktKG51bGwhPWU/ZS5vcmlnaW4ueToKMCksYy5zdHlsZSs9ImF1dG9zaXplPTE7Ijt0aGlzLmdldE1vZGVsKCkuYmVnaW5VcGRhdGUoKTt0cnl7dGhpcy5hZGRDZWxscyhbY10sbnVsbCE9ZT9lLmNlbGw6bnVsbCksdGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QoInRleHRJbnNlcnRlZCIsImNlbGxzIixbY10pKSx0aGlzLmF1dG9TaXplQ2VsbChjKX1maW5hbGx5e3RoaXMuZ2V0TW9kZWwoKS5lbmRVcGRhdGUoKX1yZXR1cm4gY307R3JhcGgucHJvdG90eXBlLmFkZENsaWNrSGFuZGxlcj1mdW5jdGlvbihhLGIsZSl7dmFyIGM9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt2YXIgYT10aGlzLmNvbnRhaW5lci5nZXRFbGVtZW50c0J5VGFnTmFtZSgiYSIpO2lmKG51bGwhPWEpZm9yKHZhciBlPTA7ZTxhLmxlbmd0aDtlKyspe3ZhciBjPXRoaXMuZ2V0QWJzb2x1dGVVcmwoYVtlXS5nZXRBdHRyaWJ1dGUoImhyZWYiKSk7bnVsbCE9YyYmKGFbZV0uc2V0QXR0cmlidXRlKCJyZWwiLHRoaXMubGlua1JlbGF0aW9uKSwKYVtlXS5zZXRBdHRyaWJ1dGUoImhyZWYiLGMpLG51bGwhPWImJm14RXZlbnQuYWRkR2VzdHVyZUxpc3RlbmVycyhhW2VdLG51bGwsbnVsbCxiKSl9fSk7dGhpcy5tb2RlbC5hZGRMaXN0ZW5lcihteEV2ZW50LkNIQU5HRSxjKTtjKCk7dmFyIGQ9dGhpcy5jb250YWluZXIuc3R5bGUuY3Vyc29yLGY9dGhpcy5nZXRUb2xlcmFuY2UoKSxnPXRoaXMsbD17Y3VycmVudFN0YXRlOm51bGwsY3VycmVudExpbms6bnVsbCxoaWdobGlnaHQ6bnVsbCE9YSYmIiIhPWEmJmEhPW14Q29uc3RhbnRzLk5PTkU/bmV3IG14Q2VsbEhpZ2hsaWdodChnLGEsNCk6bnVsbCxzdGFydFg6MCxzdGFydFk6MCxzY3JvbGxMZWZ0OjAsc2Nyb2xsVG9wOjAsdXBkYXRlQ3VycmVudFN0YXRlOmZ1bmN0aW9uKGEpe3ZhciBiPWEuc291cmNlU3RhdGU7aWYobnVsbD09Ynx8bnVsbD09Zy5nZXRMaW5rRm9yQ2VsbChiLmNlbGwpKWE9Zy5nZXRDZWxsQXQoYS5nZXRHcmFwaFgoKSxhLmdldEdyYXBoWSgpLG51bGwsbnVsbCxudWxsLApmdW5jdGlvbihhLGIsZSl7cmV0dXJuIG51bGw9PWcuZ2V0TGlua0ZvckNlbGwoYS5jZWxsKX0pLGI9Zy52aWV3LmdldFN0YXRlKGEpO2IhPXRoaXMuY3VycmVudFN0YXRlJiYobnVsbCE9dGhpcy5jdXJyZW50U3RhdGUmJnRoaXMuY2xlYXIoKSx0aGlzLmN1cnJlbnRTdGF0ZT1iLG51bGwhPXRoaXMuY3VycmVudFN0YXRlJiZ0aGlzLmFjdGl2YXRlKHRoaXMuY3VycmVudFN0YXRlKSl9LG1vdXNlRG93bjpmdW5jdGlvbihhLGIpe3RoaXMuc3RhcnRYPWIuZ2V0R3JhcGhYKCk7dGhpcy5zdGFydFk9Yi5nZXRHcmFwaFkoKTt0aGlzLnNjcm9sbExlZnQ9Zy5jb250YWluZXIuc2Nyb2xsTGVmdDt0aGlzLnNjcm9sbFRvcD1nLmNvbnRhaW5lci5zY3JvbGxUb3A7bnVsbD09dGhpcy5jdXJyZW50TGluayYmImF1dG8iPT1nLmNvbnRhaW5lci5zdHlsZS5vdmVyZmxvdyYmKGcuY29udGFpbmVyLnN0eWxlLmN1cnNvcj0ibW92ZSIpO3RoaXMudXBkYXRlQ3VycmVudFN0YXRlKGIpfSxtb3VzZU1vdmU6ZnVuY3Rpb24oYSwKYil7aWYoZy5pc01vdXNlRG93bil7aWYobnVsbCE9dGhpcy5jdXJyZW50TGluayl7dmFyIGU9TWF0aC5hYnModGhpcy5zdGFydFgtYi5nZXRHcmFwaFgoKSksYz1NYXRoLmFicyh0aGlzLnN0YXJ0WS1iLmdldEdyYXBoWSgpKTsoZT5mfHxjPmYpJiZ0aGlzLmNsZWFyKCl9fWVsc2V7Zm9yKGU9Yi5nZXRTb3VyY2UoKTtudWxsIT1lJiYiYSIhPWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKTspZT1lLnBhcmVudE5vZGU7bnVsbCE9ZT90aGlzLmNsZWFyKCk6KG51bGwhPWcudG9vbHRpcEhhbmRsZXImJm51bGwhPXRoaXMuY3VycmVudExpbmsmJm51bGwhPXRoaXMuY3VycmVudFN0YXRlJiZnLnRvb2x0aXBIYW5kbGVyLnJlc2V0KGIsITAsdGhpcy5jdXJyZW50U3RhdGUpLChudWxsPT10aGlzLmN1cnJlbnRTdGF0ZXx8Yi5nZXRTdGF0ZSgpIT10aGlzLmN1cnJlbnRTdGF0ZSYmbnVsbCE9Yi5zb3VyY2VTdGF0ZXx8IWcuaW50ZXJzZWN0cyh0aGlzLmN1cnJlbnRTdGF0ZSxiLmdldEdyYXBoWCgpLApiLmdldEdyYXBoWSgpKSkmJnRoaXMudXBkYXRlQ3VycmVudFN0YXRlKGIpKX19LG1vdXNlVXA6ZnVuY3Rpb24oYSxjKXtmb3IodmFyIGQ9Yy5nZXRTb3VyY2UoKSxsPWMuZ2V0RXZlbnQoKTtudWxsIT1kJiYiYSIhPWQubm9kZU5hbWUudG9Mb3dlckNhc2UoKTspZD1kLnBhcmVudE5vZGU7bnVsbD09ZCYmTWF0aC5hYnModGhpcy5zY3JvbGxMZWZ0LWcuY29udGFpbmVyLnNjcm9sbExlZnQpPGYmJk1hdGguYWJzKHRoaXMuc2Nyb2xsVG9wLWcuY29udGFpbmVyLnNjcm9sbFRvcCk8ZiYmKG51bGw9PWMuc291cmNlU3RhdGV8fCFjLmlzU291cmNlKGMuc291cmNlU3RhdGUuY29udHJvbCkpJiYoKG14RXZlbnQuaXNMZWZ0TW91c2VCdXR0b24obCl8fG14RXZlbnQuaXNNaWRkbGVNb3VzZUJ1dHRvbihsKSkmJiFteEV2ZW50LmlzUG9wdXBUcmlnZ2VyKGwpfHxteEV2ZW50LmlzVG91Y2hFdmVudChsKSkmJihudWxsIT10aGlzLmN1cnJlbnRMaW5rPyhkPWcuaXNCbGFua0xpbmsodGhpcy5jdXJyZW50TGluayksCiJkYXRhOiIhPT10aGlzLmN1cnJlbnRMaW5rLnN1YnN0cmluZygwLDUpJiZkfHxudWxsPT1ifHxiKGwsdGhpcy5jdXJyZW50TGluayksbXhFdmVudC5pc0NvbnN1bWVkKGwpfHwobD1teEV2ZW50LmlzTWlkZGxlTW91c2VCdXR0b24obCk/Il9ibGFuayI6ZD9nLmxpbmtUYXJnZXQ6Il90b3AiLGcub3BlbkxpbmsodGhpcy5jdXJyZW50TGluayxsKSxjLmNvbnN1bWUoKSkpOm51bGwhPWUmJiFjLmlzQ29uc3VtZWQoKSYmTWF0aC5hYnModGhpcy5zY3JvbGxMZWZ0LWcuY29udGFpbmVyLnNjcm9sbExlZnQpPGYmJk1hdGguYWJzKHRoaXMuc2Nyb2xsVG9wLWcuY29udGFpbmVyLnNjcm9sbFRvcCk8ZiYmTWF0aC5hYnModGhpcy5zdGFydFgtYy5nZXRHcmFwaFgoKSk8ZiYmTWF0aC5hYnModGhpcy5zdGFydFktYy5nZXRHcmFwaFkoKSk8ZiYmZShjLmdldEV2ZW50KCkpKTt0aGlzLmNsZWFyKCl9LGFjdGl2YXRlOmZ1bmN0aW9uKGEpe3RoaXMuY3VycmVudExpbms9Zy5nZXRBYnNvbHV0ZVVybChnLmdldExpbmtGb3JDZWxsKGEuY2VsbCkpOwpudWxsIT10aGlzLmN1cnJlbnRMaW5rJiYoZy5jb250YWluZXIuc3R5bGUuY3Vyc29yPSJwb2ludGVyIixudWxsIT10aGlzLmhpZ2hsaWdodCYmdGhpcy5oaWdobGlnaHQuaGlnaGxpZ2h0KGEpKX0sY2xlYXI6ZnVuY3Rpb24oKXtudWxsIT1nLmNvbnRhaW5lciYmKGcuY29udGFpbmVyLnN0eWxlLmN1cnNvcj1kKTt0aGlzLmN1cnJlbnRMaW5rPXRoaXMuY3VycmVudFN0YXRlPW51bGw7bnVsbCE9dGhpcy5oaWdobGlnaHQmJnRoaXMuaGlnaGxpZ2h0LmhpZGUoKTtudWxsIT1nLnRvb2x0aXBIYW5kbGVyJiZnLnRvb2x0aXBIYW5kbGVyLmhpZGUoKX19O2cuY2xpY2s9ZnVuY3Rpb24oYSl7fTtnLmFkZE1vdXNlTGlzdGVuZXIobCk7bXhFdmVudC5hZGRMaXN0ZW5lcihkb2N1bWVudCwibW91c2VsZWF2ZSIsZnVuY3Rpb24oYSl7bC5jbGVhcigpfSl9O0dyYXBoLnByb3RvdHlwZS5kdXBsaWNhdGVDZWxscz1mdW5jdGlvbihhLGIpe2E9bnVsbCE9YT9hOnRoaXMuZ2V0U2VsZWN0aW9uQ2VsbHMoKTsKYj1udWxsIT1iP2I6ITA7Zm9yKHZhciBlPTA7ZTxhLmxlbmd0aDtlKyspdGhpcy5pc1RhYmxlQ2VsbChhW2VdKSYmKGFbZV09dGhpcy5tb2RlbC5nZXRQYXJlbnQoYVtlXSkpO2E9dGhpcy5tb2RlbC5nZXRUb3Btb3N0Q2VsbHMoYSk7dmFyIGM9dGhpcy5nZXRNb2RlbCgpLGQ9dGhpcy5ncmlkU2l6ZSxmPVtdO2MuYmVnaW5VcGRhdGUoKTt0cnl7Zm9yKHZhciBnPXRoaXMuY2xvbmVDZWxscyhhLCExLG51bGwsITApLGU9MDtlPGEubGVuZ3RoO2UrKyl7dmFyIGw9Yy5nZXRQYXJlbnQoYVtlXSkscD10aGlzLm1vdmVDZWxscyhbZ1tlXV0sZCxkLCExKVswXTtmLnB1c2gocCk7aWYoYiljLmFkZChsLGdbZV0pO2Vsc2V7dmFyIHU9bC5nZXRJbmRleChhW2VdKTtjLmFkZChsLGdbZV0sdSsxKX1pZih0aGlzLmlzVGFibGUobCkpe3ZhciBuPXRoaXMuZ2V0Q2VsbEdlb21ldHJ5KGdbZV0pLHQ9dGhpcy5nZXRDZWxsR2VvbWV0cnkobCk7bnVsbCE9biYmbnVsbCE9dCYmKHQ9dC5jbG9uZSgpLHQuaGVpZ2h0Kz0Kbi5oZWlnaHQsYy5zZXRHZW9tZXRyeShsLHQpKX19fWZpbmFsbHl7Yy5lbmRVcGRhdGUoKX1yZXR1cm4gZn07R3JhcGgucHJvdG90eXBlLmluc2VydEltYWdlPWZ1bmN0aW9uKGEsYixlKXtpZihudWxsIT1hJiZudWxsIT10aGlzLmNlbGxFZGl0b3IudGV4dGFyZWEpe2Zvcih2YXIgYz10aGlzLmNlbGxFZGl0b3IudGV4dGFyZWEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImltZyIpLGQ9W10sZj0wO2Y8Yy5sZW5ndGg7ZisrKWQucHVzaChjW2ZdKTtkb2N1bWVudC5leGVjQ29tbWFuZCgiaW5zZXJ0aW1hZ2UiLCExLGEpO2E9dGhpcy5jZWxsRWRpdG9yLnRleHRhcmVhLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJpbWciKTtpZihhLmxlbmd0aD09ZC5sZW5ndGgrMSlmb3IoZj1hLmxlbmd0aC0xOzA8PWY7Zi0tKWlmKDA9PWZ8fGFbZl0hPWRbZi0xXSl7YVtmXS5zZXRBdHRyaWJ1dGUoIndpZHRoIixiKTthW2ZdLnNldEF0dHJpYnV0ZSgiaGVpZ2h0IixlKTticmVha319fTtHcmFwaC5wcm90b3R5cGUuaW5zZXJ0TGluaz0KZnVuY3Rpb24oYSl7aWYobnVsbCE9dGhpcy5jZWxsRWRpdG9yLnRleHRhcmVhKWlmKDA9PWEubGVuZ3RoKWRvY3VtZW50LmV4ZWNDb21tYW5kKCJ1bmxpbmsiLCExKTtlbHNlIGlmKG14Q2xpZW50LklTX0ZGKXtmb3IodmFyIGI9dGhpcy5jZWxsRWRpdG9yLnRleHRhcmVhLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJhIiksZT1bXSxjPTA7YzxiLmxlbmd0aDtjKyspZS5wdXNoKGJbY10pO2RvY3VtZW50LmV4ZWNDb21tYW5kKCJjcmVhdGVsaW5rIiwhMSxteFV0aWxzLnRyaW0oYSkpO2I9dGhpcy5jZWxsRWRpdG9yLnRleHRhcmVhLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJhIik7aWYoYi5sZW5ndGg9PWUubGVuZ3RoKzEpZm9yKGM9Yi5sZW5ndGgtMTswPD1jO2MtLSlpZihiW2NdIT1lW2MtMV0pe2ZvcihiPWJbY10uZ2V0RWxlbWVudHNCeVRhZ05hbWUoImEiKTswPGIubGVuZ3RoOyl7Zm9yKGU9YlswXS5wYXJlbnROb2RlO251bGwhPWJbMF0uZmlyc3RDaGlsZDspZS5pbnNlcnRCZWZvcmUoYlswXS5maXJzdENoaWxkLApiWzBdKTtlLnJlbW92ZUNoaWxkKGJbMF0pfWJyZWFrfX1lbHNlIGRvY3VtZW50LmV4ZWNDb21tYW5kKCJjcmVhdGVsaW5rIiwhMSxteFV0aWxzLnRyaW0oYSkpfTtHcmFwaC5wcm90b3R5cGUuaXNDZWxsUmVzaXphYmxlPWZ1bmN0aW9uKGEpe3ZhciBiPW14R3JhcGgucHJvdG90eXBlLmlzQ2VsbFJlc2l6YWJsZS5hcHBseSh0aGlzLGFyZ3VtZW50cyksZT10aGlzLmdldEN1cnJlbnRDZWxsU3R5bGUoYSk7cmV0dXJuIXRoaXMuaXNUYWJsZUNlbGwoYSkmJiF0aGlzLmlzVGFibGVSb3coYSkmJihifHwiMCIhPW14VXRpbHMuZ2V0VmFsdWUoZSxteENvbnN0YW50cy5TVFlMRV9SRVNJWkFCTEUsIjEiKSYmIndyYXAiPT1lW214Q29uc3RhbnRzLlNUWUxFX1dISVRFX1NQQUNFXSl9O0dyYXBoLnByb3RvdHlwZS5kaXN0cmlidXRlQ2VsbHM9ZnVuY3Rpb24oYSxiKXtudWxsPT1iJiYoYj10aGlzLmdldFNlbGVjdGlvbkNlbGxzKCkpO2lmKG51bGwhPWImJjE8Yi5sZW5ndGgpe2Zvcih2YXIgZT0KW10sYz1udWxsLGQ9bnVsbCxmPTA7ZjxiLmxlbmd0aDtmKyspaWYodGhpcy5nZXRNb2RlbCgpLmlzVmVydGV4KGJbZl0pKXt2YXIgZz10aGlzLnZpZXcuZ2V0U3RhdGUoYltmXSk7aWYobnVsbCE9Zyl7dmFyIGw9YT9nLmdldENlbnRlclgoKTpnLmdldENlbnRlclkoKSxjPW51bGwhPWM/TWF0aC5tYXgoYyxsKTpsLGQ9bnVsbCE9ZD9NYXRoLm1pbihkLGwpOmw7ZS5wdXNoKGcpfX1pZigyPGUubGVuZ3RoKXtlLnNvcnQoZnVuY3Rpb24oYixlKXtyZXR1cm4gYT9iLngtZS54OmIueS1lLnl9KTtnPXRoaXMudmlldy50cmFuc2xhdGU7bD10aGlzLnZpZXcuc2NhbGU7ZD1kL2wtKGE/Zy54OmcueSk7Yz1jL2wtKGE/Zy54OmcueSk7dGhpcy5nZXRNb2RlbCgpLmJlZ2luVXBkYXRlKCk7dHJ5e2Zvcih2YXIgcD0oYy1kKS8oZS5sZW5ndGgtMSksYz1kLGY9MTtmPGUubGVuZ3RoLTE7ZisrKXt2YXIgdT10aGlzLnZpZXcuZ2V0U3RhdGUodGhpcy5tb2RlbC5nZXRQYXJlbnQoZVtmXS5jZWxsKSksCm49dGhpcy5nZXRDZWxsR2VvbWV0cnkoZVtmXS5jZWxsKSxjPWMrcDtudWxsIT1uJiZudWxsIT11JiYobj1uLmNsb25lKCksYT9uLng9TWF0aC5yb3VuZChjLW4ud2lkdGgvMiktdS5vcmlnaW4ueDpuLnk9TWF0aC5yb3VuZChjLW4uaGVpZ2h0LzIpLXUub3JpZ2luLnksdGhpcy5nZXRNb2RlbCgpLnNldEdlb21ldHJ5KGVbZl0uY2VsbCxuKSl9fWZpbmFsbHl7dGhpcy5nZXRNb2RlbCgpLmVuZFVwZGF0ZSgpfX19cmV0dXJuIGJ9O0dyYXBoLnByb3RvdHlwZS5pc0Nsb25lRXZlbnQ9ZnVuY3Rpb24oYSl7cmV0dXJuIG14Q2xpZW50LklTX01BQyYmbXhFdmVudC5pc01ldGFEb3duKGEpfHxteEV2ZW50LmlzQ29udHJvbERvd24oYSl9O0dyYXBoLnByb3RvdHlwZS5jcmVhdGVTdmdJbWFnZUV4cG9ydD1mdW5jdGlvbigpe3ZhciBhPW5ldyBteEltYWdlRXhwb3J0O2EuZ2V0TGlua0ZvckNlbGxTdGF0ZT1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmdldExpbmtGb3JDZWxsKGEuY2VsbCl9KTsKcmV0dXJuIGF9O0dyYXBoLnByb3RvdHlwZS5nZXRTdmc9ZnVuY3Rpb24oYSxiLGUsYyxkLGYsZyxsLHAsdSl7dmFyIG49dGhpcy51c2VDc3NUcmFuc2Zvcm1zO24mJih0aGlzLnVzZUNzc1RyYW5zZm9ybXM9ITEsdGhpcy52aWV3LnJldmFsaWRhdGUoKSx0aGlzLnNpemVEaWRDaGFuZ2UoKSk7dHJ5e2I9bnVsbCE9Yj9iOjE7ZT1udWxsIT1lP2U6MDtkPW51bGwhPWQ/ZDohMDtmPW51bGwhPWY/ZjohMDtnPW51bGwhPWc/ZzohMDt2YXIgdD1mfHxjP3RoaXMuZ2V0R3JhcGhCb3VuZHMoKTp0aGlzLmdldEJvdW5kaW5nQm94KHRoaXMuZ2V0U2VsZWN0aW9uQ2VsbHMoKSk7aWYobnVsbD09dCl0aHJvdyBFcnJvcihteFJlc291cmNlcy5nZXQoImRyYXdpbmdFbXB0eSIpKTt2YXIgQj10aGlzLnZpZXcuc2NhbGUsaz1teFV0aWxzLmNyZWF0ZVhtbERvY3VtZW50KCksbT1udWxsIT1rLmNyZWF0ZUVsZW1lbnROUz9rLmNyZWF0ZUVsZW1lbnROUyhteENvbnN0YW50cy5OU19TVkcsInN2ZyIpOmsuY3JlYXRlRWxlbWVudCgic3ZnIik7Cm51bGwhPWEmJihudWxsIT1tLnN0eWxlP20uc3R5bGUuYmFja2dyb3VuZENvbG9yPWE6bS5zZXRBdHRyaWJ1dGUoInN0eWxlIiwiYmFja2dyb3VuZC1jb2xvcjoiK2EpKTtudWxsPT1rLmNyZWF0ZUVsZW1lbnROUz8obS5zZXRBdHRyaWJ1dGUoInhtbG5zIixteENvbnN0YW50cy5OU19TVkcpLG0uc2V0QXR0cmlidXRlKCJ4bWxuczp4bGluayIsbXhDb25zdGFudHMuTlNfWExJTkspKTptLnNldEF0dHJpYnV0ZU5TKCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3htbG5zLyIsInhtbG5zOnhsaW5rIixteENvbnN0YW50cy5OU19YTElOSyk7YT1iL0I7dmFyIHk9TWF0aC5tYXgoMSxNYXRoLmNlaWwodC53aWR0aCphKSsyKmUpKyh1PzU6MCksdj1NYXRoLm1heCgxLE1hdGguY2VpbCh0LmhlaWdodCphKSsyKmUpKyh1PzU6MCk7bS5zZXRBdHRyaWJ1dGUoInZlcnNpb24iLCIxLjEiKTttLnNldEF0dHJpYnV0ZSgid2lkdGgiLHkrInB4Iik7bS5zZXRBdHRyaWJ1dGUoImhlaWdodCIsdisicHgiKTsKbS5zZXRBdHRyaWJ1dGUoInZpZXdCb3giLChkPyItMC41IC0wLjUiOiIwIDAiKSsiICIreSsiICIrdik7ay5hcHBlbmRDaGlsZChtKTt2YXIgSz1udWxsIT1rLmNyZWF0ZUVsZW1lbnROUz9rLmNyZWF0ZUVsZW1lbnROUyhteENvbnN0YW50cy5OU19TVkcsImciKTprLmNyZWF0ZUVsZW1lbnQoImciKTttLmFwcGVuZENoaWxkKEspO3ZhciB4PXRoaXMuY3JlYXRlU3ZnQ2FudmFzKEspO3guZm9PZmZzZXQ9ZD8tLjU6MDt4LnRleHRPZmZzZXQ9ZD8tLjU6MDt4LmltYWdlT2Zmc2V0PWQ/LS41OjA7eC50cmFuc2xhdGUoTWF0aC5mbG9vcigoZS9iLXQueCkvQiksTWF0aC5mbG9vcigoZS9iLXQueSkvQikpO3ZhciBxPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLFQ9eC5nZXRBbHRlcm5hdGVUZXh0O3guZ2V0QWx0ZXJuYXRlVGV4dD1mdW5jdGlvbihhLGIsZSxjLGQsZixnLGwscCx1LGJhLG4sdCl7aWYobnVsbCE9ZiYmMDx0aGlzLnN0YXRlLmZvbnRTaXplKXRyeXtteFV0aWxzLmlzTm9kZShmKT8KZj1mLmlubmVyVGV4dDoocS5pbm5lckhUTUw9ZixmPW14VXRpbHMuZXh0cmFjdFRleHRXaXRoV2hpdGVzcGFjZShxLmNoaWxkTm9kZXMpKTtmb3IodmFyIE1hPU1hdGguY2VpbCgyKmMvdGhpcy5zdGF0ZS5mb250U2l6ZSksQj1bXSxrPTAsbT0wOygwPT1NYXx8azxNYSkmJm08Zi5sZW5ndGg7KXt2YXIgeT1mLmNoYXJDb2RlQXQobSk7aWYoMTA9PXl8fDEzPT15KXtpZigwPGspYnJlYWt9ZWxzZSBCLnB1c2goZi5jaGFyQXQobSkpLDI1NT55JiZrKys7bSsrfUIubGVuZ3RoPGYubGVuZ3RoJiYxPGYubGVuZ3RoLUIubGVuZ3RoJiYoZj1teFV0aWxzLnRyaW0oQi5qb2luKCIiKSkrIi4uLiIpO3JldHVybiBmfWNhdGNoKFVhKXtyZXR1cm4gVC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZWxzZSByZXR1cm4gVC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O3ZhciB6PXRoaXMuYmFja2dyb3VuZEltYWdlO2lmKG51bGwhPXope2I9Qi9iO3ZhciBNPXRoaXMudmlldy50cmFuc2xhdGUsST1uZXcgbXhSZWN0YW5nbGUoTS54KgpiLE0ueSpiLHoud2lkdGgqYix6LmhlaWdodCpiKTtteFV0aWxzLmludGVyc2VjdHModCxJKSYmeC5pbWFnZShNLngsTS55LHoud2lkdGgsei5oZWlnaHQsei5zcmMsITApfXguc2NhbGUoYSk7eC50ZXh0RW5hYmxlZD1nO2w9bnVsbCE9bD9sOnRoaXMuY3JlYXRlU3ZnSW1hZ2VFeHBvcnQoKTt2YXIgUD1sLmRyYXdDZWxsU3RhdGUsRT1sLmdldExpbmtGb3JDZWxsU3RhdGU7bC5nZXRMaW5rRm9yQ2VsbFN0YXRlPWZ1bmN0aW9uKGEsYil7dmFyIGU9RS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIG51bGw9PWV8fGEudmlldy5ncmFwaC5pc0N1c3RvbUxpbmsoZSk/bnVsbDplfTtsLmRyYXdDZWxsU3RhdGU9ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGU9YS52aWV3LmdyYXBoLGM9ZS5pc0NlbGxTZWxlY3RlZChhLmNlbGwpLGQ9ZS5tb2RlbC5nZXRQYXJlbnQoYS5jZWxsKTshZiYmIWMmJm51bGwhPWQ7KWM9ZS5pc0NlbGxTZWxlY3RlZChkKSxkPWUubW9kZWwuZ2V0UGFyZW50KGQpOyhmfHwKYykmJlAuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtsLmRyYXdTdGF0ZSh0aGlzLmdldFZpZXcoKS5nZXRTdGF0ZSh0aGlzLm1vZGVsLnJvb3QpLHgpO3RoaXMudXBkYXRlU3ZnTGlua3MobSxwLCEwKTt0aGlzLmFkZEZvcmVpZ25PYmplY3RXYXJuaW5nKHgsbSk7cmV0dXJuIG19ZmluYWxseXtuJiYodGhpcy51c2VDc3NUcmFuc2Zvcm1zPSEwLHRoaXMudmlldy5yZXZhbGlkYXRlKCksdGhpcy5zaXplRGlkQ2hhbmdlKCkpfX07R3JhcGgucHJvdG90eXBlLmFkZEZvcmVpZ25PYmplY3RXYXJuaW5nPWZ1bmN0aW9uKGEsYil7aWYoMDxiLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJmb3JlaWduT2JqZWN0IikubGVuZ3RoKXt2YXIgZT1hLmNyZWF0ZUVsZW1lbnQoInN3aXRjaCIpLGM9YS5jcmVhdGVFbGVtZW50KCJnIik7Yy5zZXRBdHRyaWJ1dGUoInJlcXVpcmVkRmVhdHVyZXMiLCJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcxMS9mZWF0dXJlI0V4dGVuc2liaWxpdHkiKTt2YXIgZD1hLmNyZWF0ZUVsZW1lbnQoImEiKTsKZC5zZXRBdHRyaWJ1dGUoInRyYW5zZm9ybSIsInRyYW5zbGF0ZSgwLC01KSIpO251bGw9PWQuc2V0QXR0cmlidXRlTlN8fGIub3duZXJEb2N1bWVudCE9ZG9jdW1lbnQmJm51bGw9PWRvY3VtZW50LmRvY3VtZW50TW9kZT8oZC5zZXRBdHRyaWJ1dGUoInhsaW5rOmhyZWYiLEdyYXBoLmZvcmVpZ25PYmplY3RXYXJuaW5nTGluayksZC5zZXRBdHRyaWJ1dGUoInRhcmdldCIsIl9ibGFuayIpKTooZC5zZXRBdHRyaWJ1dGVOUyhteENvbnN0YW50cy5OU19YTElOSywieGxpbms6aHJlZiIsR3JhcGguZm9yZWlnbk9iamVjdFdhcm5pbmdMaW5rKSxkLnNldEF0dHJpYnV0ZU5TKG14Q29uc3RhbnRzLk5TX1hMSU5LLCJ0YXJnZXQiLCJfYmxhbmsiKSk7dmFyIGY9YS5jcmVhdGVFbGVtZW50KCJ0ZXh0Iik7Zi5zZXRBdHRyaWJ1dGUoInRleHQtYW5jaG9yIiwibWlkZGxlIik7Zi5zZXRBdHRyaWJ1dGUoImZvbnQtc2l6ZSIsIjEwcHgiKTtmLnNldEF0dHJpYnV0ZSgieCIsIjUwJSIpO2Yuc2V0QXR0cmlidXRlKCJ5IiwKIjEwMCUiKTtteFV0aWxzLndyaXRlKGYsR3JhcGguZm9yZWlnbk9iamVjdFdhcm5pbmdUZXh0KTtlLmFwcGVuZENoaWxkKGMpO2QuYXBwZW5kQ2hpbGQoZik7ZS5hcHBlbmRDaGlsZChkKTtiLmFwcGVuZENoaWxkKGUpfX07R3JhcGgucHJvdG90eXBlLnVwZGF0ZVN2Z0xpbmtzPWZ1bmN0aW9uKGEsYixlKXthPWEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImEiKTtmb3IodmFyIGM9MDtjPGEubGVuZ3RoO2MrKyl7dmFyIGQ9YVtjXS5nZXRBdHRyaWJ1dGUoImhyZWYiKTtudWxsPT1kJiYoZD1hW2NdLmdldEF0dHJpYnV0ZSgieGxpbms6aHJlZiIpKTtudWxsIT1kJiYobnVsbCE9YiYmL15odHRwcz86XC9cLy8udGVzdChkKT9hW2NdLnNldEF0dHJpYnV0ZSgidGFyZ2V0IixiKTplJiZ0aGlzLmlzQ3VzdG9tTGluayhkKSYmYVtjXS5zZXRBdHRyaWJ1dGUoImhyZWYiLCJqYXZhc2NyaXB0OnZvaWQoMCk7IikpfX07R3JhcGgucHJvdG90eXBlLmNyZWF0ZVN2Z0NhbnZhcz1mdW5jdGlvbihhKXthPQpuZXcgbXhTdmdDYW52YXMyRChhKTthLnBvaW50ZXJFdmVudHM9ITA7cmV0dXJuIGF9O0dyYXBoLnByb3RvdHlwZS5nZXRTZWxlY3RlZEVsZW1lbnQ9ZnVuY3Rpb24oKXt2YXIgYT1udWxsO2lmKHdpbmRvdy5nZXRTZWxlY3Rpb24pe3ZhciBiPXdpbmRvdy5nZXRTZWxlY3Rpb24oKTtiLmdldFJhbmdlQXQmJmIucmFuZ2VDb3VudCYmKGE9Yi5nZXRSYW5nZUF0KDApLmNvbW1vbkFuY2VzdG9yQ29udGFpbmVyKX1lbHNlIGRvY3VtZW50LnNlbGVjdGlvbiYmKGE9ZG9jdW1lbnQuc2VsZWN0aW9uLmNyZWF0ZVJhbmdlKCkucGFyZW50RWxlbWVudCgpKTtyZXR1cm4gYX07R3JhcGgucHJvdG90eXBlLmdldFBhcmVudEJ5TmFtZT1mdW5jdGlvbihhLGIsZSl7Zm9yKDtudWxsIT1hJiZhLm5vZGVOYW1lIT1iOyl7aWYoYT09ZSlyZXR1cm4gbnVsbDthPWEucGFyZW50Tm9kZX1yZXR1cm4gYX07R3JhcGgucHJvdG90eXBlLmdldFBhcmVudEJ5TmFtZXM9ZnVuY3Rpb24oYSxiLGUpe2Zvcig7bnVsbCE9CmEmJiEoMDw9bXhVdGlscy5pbmRleE9mKGIsYS5ub2RlTmFtZSkpOyl7aWYoYT09ZSlyZXR1cm4gbnVsbDthPWEucGFyZW50Tm9kZX1yZXR1cm4gYX07R3JhcGgucHJvdG90eXBlLnNlbGVjdE5vZGU9ZnVuY3Rpb24oYSl7dmFyIGI9bnVsbDtpZih3aW5kb3cuZ2V0U2VsZWN0aW9uKXtpZihiPXdpbmRvdy5nZXRTZWxlY3Rpb24oKSxiLmdldFJhbmdlQXQmJmIucmFuZ2VDb3VudCl7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtlLnNlbGVjdE5vZGUoYSk7Yi5yZW1vdmVBbGxSYW5nZXMoKTtiLmFkZFJhbmdlKGUpfX1lbHNlKGI9ZG9jdW1lbnQuc2VsZWN0aW9uKSYmIkNvbnRyb2wiIT1iLnR5cGUmJihhPWIuY3JlYXRlUmFuZ2UoKSxhLmNvbGxhcHNlKCEwKSxlPWIuY3JlYXRlUmFuZ2UoKSxlLnNldEVuZFBvaW50KCJTdGFydFRvU3RhcnQiLGEpLGUuc2VsZWN0KCkpfTtHcmFwaC5wcm90b3R5cGUuZGVsZXRlQ2VsbHM9ZnVuY3Rpb24oYSxiKXt2YXIgZT1udWxsO2lmKG51bGwhPQphJiYwPGEubGVuZ3RoKXt0aGlzLm1vZGVsLmJlZ2luVXBkYXRlKCk7dHJ5e2Zvcih2YXIgYz0wO2M8YS5sZW5ndGg7YysrKXt2YXIgZD10aGlzLm1vZGVsLmdldFBhcmVudChhW2NdKTtpZih0aGlzLmlzVGFibGUoZCkpe3ZhciBmPXRoaXMuZ2V0Q2VsbEdlb21ldHJ5KGFbY10pLGc9dGhpcy5nZXRDZWxsR2VvbWV0cnkoZCk7bnVsbCE9ZiYmbnVsbCE9ZyYmKGc9Zy5jbG9uZSgpLGcuaGVpZ2h0LT1mLmhlaWdodCx0aGlzLm1vZGVsLnNldEdlb21ldHJ5KGQsZykpfX12YXIgbD10aGlzLnNlbGVjdFBhcmVudEFmdGVyRGVsZXRlP3RoaXMubW9kZWwuZ2V0UGFyZW50cyhhKTpudWxsO3RoaXMucmVtb3ZlQ2VsbHMoYSxiKX1maW5hbGx5e3RoaXMubW9kZWwuZW5kVXBkYXRlKCl9aWYobnVsbCE9bClmb3IoZT1bXSxjPTA7YzxsLmxlbmd0aDtjKyspdGhpcy5tb2RlbC5jb250YWlucyhsW2NdKSYmKHRoaXMubW9kZWwuaXNWZXJ0ZXgobFtjXSl8fHRoaXMubW9kZWwuaXNFZGdlKGxbY10pKSYmCmUucHVzaChsW2NdKX1yZXR1cm4gZX07R3JhcGgucHJvdG90eXBlLmluc2VydFRhYmxlQ29sdW1uPWZ1bmN0aW9uKGEsYil7dmFyIGU9dGhpcy5nZXRNb2RlbCgpO2UuYmVnaW5VcGRhdGUoKTt0cnl7dmFyIGM9YSxkPTA7aWYodGhpcy5pc1RhYmxlQ2VsbChhKSl2YXIgZj1lLmdldFBhcmVudChhKSxjPWUuZ2V0UGFyZW50KGYpLGQ9bXhVdGlscy5pbmRleE9mKGUuZ2V0Q2hpbGRDZWxscyhmLCEwKSxhKTtlbHNlIHRoaXMuaXNUYWJsZVJvdyhhKT9jPWUuZ2V0UGFyZW50KGEpOmE9ZS5nZXRDaGlsZENlbGxzKGMsITApWzBdLGJ8fChkPWUuZ2V0Q2hpbGRDZWxscyhhLCEwKS5sZW5ndGgtMSk7Zm9yKHZhciBnPWUuZ2V0Q2hpbGRDZWxscyhjLCEwKSxsPUdyYXBoLm1pblRhYmxlQ29sdW1uV2lkdGgsZj0wO2Y8Zy5sZW5ndGg7ZisrKXt2YXIgcD1lLmdldENoaWxkQ2VsbHMoZ1tmXSwhMClbZF0sdT1lLmNsb25lQ2VsbChwLCExKSxuPXRoaXMuZ2V0Q2VsbEdlb21ldHJ5KHUpO3UudmFsdWU9Cm51bGw7aWYobnVsbCE9bil7dmFyIGw9bi53aWR0aCx0PXRoaXMuZ2V0Q2VsbEdlb21ldHJ5KGdbZl0pO251bGwhPXQmJihuLmhlaWdodD10LmhlaWdodCl9ZS5hZGQoZ1tmXSx1LGQrKGI/MDoxKSl9dmFyIEI9dGhpcy5nZXRDZWxsR2VvbWV0cnkoYyk7bnVsbCE9QiYmKEI9Qi5jbG9uZSgpLEIud2lkdGgrPWwsZS5zZXRHZW9tZXRyeShjLEIpKX1maW5hbGx5e2UuZW5kVXBkYXRlKCl9fTtHcmFwaC5wcm90b3R5cGUuaW5zZXJ0VGFibGVSb3c9ZnVuY3Rpb24oYSxiKXt2YXIgZT10aGlzLmdldE1vZGVsKCk7ZS5iZWdpblVwZGF0ZSgpO3RyeXt2YXIgYz1hLGQ9YTtpZih0aGlzLmlzVGFibGVDZWxsKGEpKWQ9ZS5nZXRQYXJlbnQoYSksYz1lLmdldFBhcmVudChkKTtlbHNlIGlmKHRoaXMuaXNUYWJsZVJvdyhhKSljPWUuZ2V0UGFyZW50KGEpO2Vsc2UgdmFyIGY9ZS5nZXRDaGlsZENlbGxzKGMsITApLGQ9ZltiPzA6Zi5sZW5ndGgtMV07dmFyIGc9ZS5nZXRDaGlsZENlbGxzKGQsITApLApsPWMuZ2V0SW5kZXgoZCksZD1lLmNsb25lQ2VsbChkLCExKTtkLnZhbHVlPW51bGw7dmFyIHA9dGhpcy5nZXRDZWxsR2VvbWV0cnkoZCk7aWYobnVsbCE9cCl7Zm9yKGY9MDtmPGcubGVuZ3RoO2YrKyl7YT1lLmNsb25lQ2VsbChnW2ZdLCExKTtkLmluc2VydChhKTthLnZhbHVlPW51bGw7dmFyIHU9dGhpcy5nZXRDZWxsR2VvbWV0cnkoYSk7bnVsbCE9dSYmKHUuaGVpZ2h0PXAuaGVpZ2h0KX1lLmFkZChjLGQsbCsoYj8wOjEpKTt2YXIgbj10aGlzLmdldENlbGxHZW9tZXRyeShjKTtudWxsIT1uJiYobj1uLmNsb25lKCksbi5oZWlnaHQrPXAuaGVpZ2h0LGUuc2V0R2VvbWV0cnkoYyxuKSl9fWZpbmFsbHl7ZS5lbmRVcGRhdGUoKX19O0dyYXBoLnByb3RvdHlwZS5kZWxldGVUYWJsZUNvbHVtbj1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmdldE1vZGVsKCk7Yi5iZWdpblVwZGF0ZSgpO3RyeXt2YXIgZT1hLGM9YTt0aGlzLmlzVGFibGVDZWxsKGEpJiYoYz1iLmdldFBhcmVudChhKSk7dGhpcy5pc1RhYmxlUm93KGMpJiYKKGU9Yi5nZXRQYXJlbnQoYykpO3ZhciBkPWIuZ2V0Q2hpbGRDZWxscyhlLCEwKTtpZigwPT1kLmxlbmd0aCliLnJlbW92ZShlKTtlbHNle3RoaXMuaXNUYWJsZVJvdyhjKXx8KGM9ZFswXSk7dmFyIGY9Yi5nZXRDaGlsZENlbGxzKGMsITApO2lmKDE+PWYubGVuZ3RoKWIucmVtb3ZlKGUpO2Vsc2V7dmFyIGc9Zi5sZW5ndGgtMTt0aGlzLmlzVGFibGVDZWxsKGEpJiYoZz1teFV0aWxzLmluZGV4T2YoZixhKSk7Zm9yKGM9YT0wO2M8ZC5sZW5ndGg7YysrKXt2YXIgbD1iLmdldENoaWxkQ2VsbHMoZFtjXSwhMClbZ107Yi5yZW1vdmUobCk7dmFyIHA9dGhpcy5nZXRDZWxsR2VvbWV0cnkobCk7bnVsbCE9cCYmKGE9TWF0aC5tYXgoYSxwLndpZHRoKSl9dmFyIHU9dGhpcy5nZXRDZWxsR2VvbWV0cnkoZSk7bnVsbCE9dSYmKHU9dS5jbG9uZSgpLHUud2lkdGgtPWEsYi5zZXRHZW9tZXRyeShlLHUpKX19fWZpbmFsbHl7Yi5lbmRVcGRhdGUoKX19O0dyYXBoLnByb3RvdHlwZS5kZWxldGVUYWJsZVJvdz0KZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5nZXRNb2RlbCgpO2IuYmVnaW5VcGRhdGUoKTt0cnl7dmFyIGU9YSxjPWE7dGhpcy5pc1RhYmxlQ2VsbChhKSYmKGE9Yz1iLmdldFBhcmVudChhKSk7dGhpcy5pc1RhYmxlUm93KGEpJiYoZT1iLmdldFBhcmVudChjKSk7dmFyIGQ9Yi5nZXRDaGlsZENlbGxzKGUsITApO2lmKDE+PWQubGVuZ3RoKWIucmVtb3ZlKGUpO2Vsc2V7dGhpcy5pc1RhYmxlUm93KGMpfHwoYz1kW2QubGVuZ3RoLTFdKTtiLnJlbW92ZShjKTthPTA7dmFyIGY9dGhpcy5nZXRDZWxsR2VvbWV0cnkoYyk7bnVsbCE9ZiYmKGE9Zi5oZWlnaHQpO3ZhciBnPXRoaXMuZ2V0Q2VsbEdlb21ldHJ5KGUpO251bGwhPWcmJihnPWcuY2xvbmUoKSxnLmhlaWdodC09YSxiLnNldEdlb21ldHJ5KGUsZykpfX1maW5hbGx5e2IuZW5kVXBkYXRlKCl9fTtHcmFwaC5wcm90b3R5cGUuaW5zZXJ0Um93PWZ1bmN0aW9uKGEsYil7Zm9yKHZhciBlPWEudEJvZGllc1swXSxjPWUucm93c1swXS5jZWxscywKZD0wLGY9MDtmPGMubGVuZ3RoO2YrKyl2YXIgZz1jW2ZdLmdldEF0dHJpYnV0ZSgiY29sc3BhbiIpLGQ9ZCsobnVsbCE9Zz9wYXJzZUludChnKToxKTtlPWUuaW5zZXJ0Um93KGIpO2ZvcihmPTA7ZjxkO2YrKylteFV0aWxzLmJyKGUuaW5zZXJ0Q2VsbCgtMSkpO3JldHVybiBlLmNlbGxzWzBdfTtHcmFwaC5wcm90b3R5cGUuZGVsZXRlUm93PWZ1bmN0aW9uKGEsYil7YS50Qm9kaWVzWzBdLmRlbGV0ZVJvdyhiKX07R3JhcGgucHJvdG90eXBlLmluc2VydENvbHVtbj1mdW5jdGlvbihhLGIpe3ZhciBlPWEudEhlYWQ7aWYobnVsbCE9ZSlmb3IodmFyIGM9MDtjPGUucm93cy5sZW5ndGg7YysrKXt2YXIgZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0aCIpO2Uucm93c1tjXS5hcHBlbmRDaGlsZChkKTtteFV0aWxzLmJyKGQpfWU9YS50Qm9kaWVzWzBdO2ZvcihjPTA7YzxlLnJvd3MubGVuZ3RoO2MrKylkPWUucm93c1tjXS5pbnNlcnRDZWxsKGIpLG14VXRpbHMuYnIoZCk7cmV0dXJuIGUucm93c1swXS5jZWxsc1swPD0KYj9iOmUucm93c1swXS5jZWxscy5sZW5ndGgtMV19O0dyYXBoLnByb3RvdHlwZS5kZWxldGVDb2x1bW49ZnVuY3Rpb24oYSxiKXtpZigwPD1iKWZvcih2YXIgZT1hLnRCb2RpZXNbMF0ucm93cyxjPTA7YzxlLmxlbmd0aDtjKyspZVtjXS5jZWxscy5sZW5ndGg+YiYmZVtjXS5kZWxldGVDZWxsKGIpfTtHcmFwaC5wcm90b3R5cGUucGFzdGVIdG1sQXRDYXJldD1mdW5jdGlvbihhKXt2YXIgYjtpZih3aW5kb3cuZ2V0U2VsZWN0aW9uKXtpZihiPXdpbmRvdy5nZXRTZWxlY3Rpb24oKSxiLmdldFJhbmdlQXQmJmIucmFuZ2VDb3VudCl7Yj1iLmdldFJhbmdlQXQoMCk7Yi5kZWxldGVDb250ZW50cygpO3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2UuaW5uZXJIVE1MPWE7YT1kb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7Zm9yKHZhciBjO2M9ZS5maXJzdENoaWxkOylsYXN0Tm9kZT1hLmFwcGVuZENoaWxkKGMpO2IuaW5zZXJ0Tm9kZShhKX19ZWxzZShiPWRvY3VtZW50LnNlbGVjdGlvbikmJgoiQ29udHJvbCIhPWIudHlwZSYmYi5jcmVhdGVSYW5nZSgpLnBhc3RlSFRNTChhKX07R3JhcGgucHJvdG90eXBlLmNyZWF0ZUxpbmtGb3JIaW50PWZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gZShhLGIpe2EubGVuZ3RoPmImJihhPWEuc3Vic3RyaW5nKDAsTWF0aC5yb3VuZChiLzIpKSsiLi4uIithLnN1YnN0cmluZyhhLmxlbmd0aC1NYXRoLnJvdW5kKGIvNCkpKTtyZXR1cm4gYX1hPW51bGwhPWE/YToiamF2YXNjcmlwdDp2b2lkKDApOyI7aWYobnVsbD09Ynx8MD09Yi5sZW5ndGgpYj10aGlzLmlzQ3VzdG9tTGluayhhKT90aGlzLmdldExpbmtUaXRsZShhKTphO3ZhciBjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKTtjLnNldEF0dHJpYnV0ZSgicmVsIix0aGlzLmxpbmtSZWxhdGlvbik7Yy5zZXRBdHRyaWJ1dGUoImhyZWYiLHRoaXMuZ2V0QWJzb2x1dGVVcmwoYSkpO2Muc2V0QXR0cmlidXRlKCJ0aXRsZSIsZSh0aGlzLmlzQ3VzdG9tTGluayhhKT90aGlzLmdldExpbmtUaXRsZShhKToKYSw4MCkpO251bGwhPXRoaXMubGlua1RhcmdldCYmYy5zZXRBdHRyaWJ1dGUoInRhcmdldCIsdGhpcy5saW5rVGFyZ2V0KTtteFV0aWxzLndyaXRlKGMsZShiLDQwKSk7dGhpcy5pc0N1c3RvbUxpbmsoYSkmJm14RXZlbnQuYWRkTGlzdGVuZXIoYywiY2xpY2siLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGIpe3RoaXMuY3VzdG9tTGlua0NsaWNrZWQoYSk7bXhFdmVudC5jb25zdW1lKGIpfSkpO3JldHVybiBjfTtHcmFwaC5wcm90b3R5cGUuaW5pdFRvdWNoPWZ1bmN0aW9uKCl7dGhpcy5jb25uZWN0aW9uSGFuZGxlci5tYXJrZXIuaXNFbmFibGVkPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPXRoaXMuZ3JhcGguY29ubmVjdGlvbkhhbmRsZXIuZmlyc3R9O3RoaXMuYWRkTGlzdGVuZXIobXhFdmVudC5TVEFSVF9FRElUSU5HLGZ1bmN0aW9uKGEsYil7dGhpcy5wb3B1cE1lbnVIYW5kbGVyLmhpZGVNZW51KCl9KTt2YXIgYT10aGlzLnVwZGF0ZU1vdXNlRXZlbnQ7dGhpcy51cGRhdGVNb3VzZUV2ZW50PQpmdW5jdGlvbihiKXtiPWEuYXBwbHkodGhpcyxhcmd1bWVudHMpO2lmKG14RXZlbnQuaXNUb3VjaEV2ZW50KGIuZ2V0RXZlbnQoKSkmJm51bGw9PWIuZ2V0U3RhdGUoKSl7dmFyIGU9dGhpcy5nZXRDZWxsQXQoYi5ncmFwaFgsYi5ncmFwaFkpO251bGwhPWUmJnRoaXMuaXNTd2ltbGFuZShlKSYmdGhpcy5oaXRzU3dpbWxhbmVDb250ZW50KGUsYi5ncmFwaFgsYi5ncmFwaFkpfHwoYi5zdGF0ZT10aGlzLnZpZXcuZ2V0U3RhdGUoZSksbnVsbCE9Yi5zdGF0ZSYmbnVsbCE9Yi5zdGF0ZS5zaGFwZSYmKHRoaXMuY29udGFpbmVyLnN0eWxlLmN1cnNvcj1iLnN0YXRlLnNoYXBlLm5vZGUuc3R5bGUuY3Vyc29yKSl9bnVsbD09Yi5nZXRTdGF0ZSgpJiZ0aGlzLmlzRW5hYmxlZCgpJiYodGhpcy5jb250YWluZXIuc3R5bGUuY3Vyc29yPSJkZWZhdWx0Iik7cmV0dXJuIGJ9O3ZhciBiPSExLGU9ITEsYz0hMSxkPXRoaXMuZmlyZU1vdXNlRXZlbnQ7dGhpcy5maXJlTW91c2VFdmVudD1mdW5jdGlvbihhLApmLGcpe2E9PW14RXZlbnQuTU9VU0VfRE9XTiYmKGY9dGhpcy51cGRhdGVNb3VzZUV2ZW50KGYpLGI9dGhpcy5pc0NlbGxTZWxlY3RlZChmLmdldENlbGwoKSksZT10aGlzLmlzU2VsZWN0aW9uRW1wdHkoKSxjPXRoaXMucG9wdXBNZW51SGFuZGxlci5pc01lbnVTaG93aW5nKCkpO2QuYXBwbHkodGhpcyxhcmd1bWVudHMpfTt0aGlzLnBvcHVwTWVudUhhbmRsZXIubW91c2VVcD1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhLGQpe3RoaXMucG9wdXBNZW51SGFuZGxlci5wb3B1cFRyaWdnZXI9IXRoaXMuaXNFZGl0aW5nKCkmJnRoaXMuaXNFbmFibGVkKCkmJihudWxsPT1kLmdldFN0YXRlKCl8fCFkLmlzU291cmNlKGQuZ2V0U3RhdGUoKS5jb250cm9sKSkmJih0aGlzLnBvcHVwTWVudUhhbmRsZXIucG9wdXBUcmlnZ2VyfHwhYyYmIW14RXZlbnQuaXNNb3VzZUV2ZW50KGQuZ2V0RXZlbnQoKSkmJihlJiZudWxsPT1kLmdldENlbGwoKSYmdGhpcy5pc1NlbGVjdGlvbkVtcHR5KCl8fGImJgp0aGlzLmlzQ2VsbFNlbGVjdGVkKGQuZ2V0Q2VsbCgpKSkpO214UG9wdXBNZW51SGFuZGxlci5wcm90b3R5cGUubW91c2VVcC5hcHBseSh0aGlzLnBvcHVwTWVudUhhbmRsZXIsYXJndW1lbnRzKX0pfTtteENlbGxFZGl0b3IucHJvdG90eXBlLmlzQ29udGVudEVkaXRpbmc9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdyYXBoLnZpZXcuZ2V0U3RhdGUodGhpcy5lZGl0aW5nQ2VsbCk7cmV0dXJuIG51bGwhPWEmJjE9PWEuc3R5bGUuaHRtbH07bXhDZWxsRWRpdG9yLnByb3RvdHlwZS5pc1RhYmxlU2VsZWN0ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9dGhpcy5ncmFwaC5nZXRQYXJlbnRCeU5hbWUodGhpcy5ncmFwaC5nZXRTZWxlY3RlZEVsZW1lbnQoKSwiVEFCTEUiLHRoaXMudGV4dGFyZWEpfTtteENlbGxFZGl0b3IucHJvdG90eXBlLmFsaWduVGV4dD1mdW5jdGlvbihhLGIpe3ZhciBlPW51bGwhPWImJm14RXZlbnQuaXNTaGlmdERvd24oYik7aWYoZXx8bnVsbCE9d2luZG93LmdldFNlbGVjdGlvbiYmCm51bGwhPXdpbmRvdy5nZXRTZWxlY3Rpb24oKS5jb250YWluc05vZGUpe3ZhciBjPSEwO3RoaXMuZ3JhcGgucHJvY2Vzc0VsZW1lbnRzKHRoaXMudGV4dGFyZWEsZnVuY3Rpb24oYSl7ZXx8d2luZG93LmdldFNlbGVjdGlvbigpLmNvbnRhaW5zTm9kZShhLCEwKT8oYS5yZW1vdmVBdHRyaWJ1dGUoImFsaWduIiksYS5zdHlsZS50ZXh0QWxpZ249bnVsbCk6Yz0hMX0pO2MmJnRoaXMuZ3JhcGguY2VsbEVkaXRvci5zZXRBbGlnbihhKX1kb2N1bWVudC5leGVjQ29tbWFuZCgianVzdGlmeSIrYS50b0xvd2VyQ2FzZSgpLCExLG51bGwpfTtteENlbGxFZGl0b3IucHJvdG90eXBlLnNhdmVTZWxlY3Rpb249ZnVuY3Rpb24oKXtpZih3aW5kb3cuZ2V0U2VsZWN0aW9uKXt2YXIgYT13aW5kb3cuZ2V0U2VsZWN0aW9uKCk7aWYoYS5nZXRSYW5nZUF0JiZhLnJhbmdlQ291bnQpe2Zvcih2YXIgYj1bXSxlPTAsYz1hLnJhbmdlQ291bnQ7ZTxjOysrZSliLnB1c2goYS5nZXRSYW5nZUF0KGUpKTtyZXR1cm4gYn19ZWxzZSBpZihkb2N1bWVudC5zZWxlY3Rpb24mJgpkb2N1bWVudC5zZWxlY3Rpb24uY3JlYXRlUmFuZ2UpcmV0dXJuIGRvY3VtZW50LnNlbGVjdGlvbi5jcmVhdGVSYW5nZSgpO3JldHVybiBudWxsfTtteENlbGxFZGl0b3IucHJvdG90eXBlLnJlc3RvcmVTZWxlY3Rpb249ZnVuY3Rpb24oYSl7dHJ5e2lmKGEpaWYod2luZG93LmdldFNlbGVjdGlvbil7c2VsPXdpbmRvdy5nZXRTZWxlY3Rpb24oKTtzZWwucmVtb3ZlQWxsUmFuZ2VzKCk7Zm9yKHZhciBiPTAsZT1hLmxlbmd0aDtiPGU7KytiKXNlbC5hZGRSYW5nZShhW2JdKX1lbHNlIGRvY3VtZW50LnNlbGVjdGlvbiYmYS5zZWxlY3QmJmEuc2VsZWN0KCl9Y2F0Y2goaGEpe319O3ZhciBuPW14Q2VsbFJlbmRlcmVyLnByb3RvdHlwZS5pbml0aWFsaXplTGFiZWw7bXhDZWxsUmVuZGVyZXIucHJvdG90eXBlLmluaXRpYWxpemVMYWJlbD1mdW5jdGlvbihhKXtudWxsIT1hLnRleHQmJihhLnRleHQucmVwbGFjZUxpbmVmZWVkcz0iMCIhPW14VXRpbHMuZ2V0VmFsdWUoYS5zdHlsZSwibmwyQnIiLAoiMSIpKTtuLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07dmFyIHY9bXhDb25zdHJhaW50SGFuZGxlci5wcm90b3R5cGUudXBkYXRlO214Q29uc3RyYWludEhhbmRsZXIucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbihhLGIpe3RoaXMuaXNLZWVwRm9jdXNFdmVudChhKXx8IW14RXZlbnQuaXNBbHREb3duKGEuZ2V0RXZlbnQoKSk/di5hcHBseSh0aGlzLGFyZ3VtZW50cyk6dGhpcy5yZXNldCgpfTtteEd1aWRlLnByb3RvdHlwZS5jcmVhdGVHdWlkZVNoYXBlPWZ1bmN0aW9uKGEpe3JldHVybiBuZXcgbXhQb2x5bGluZShbXSxteENvbnN0YW50cy5HVUlERV9DT0xPUixteENvbnN0YW50cy5HVUlERV9TVFJPS0VXSURUSCl9O214Q2VsbEVkaXRvci5wcm90b3R5cGUuZXNjYXBlQ2FuY2Vsc0VkaXRpbmc9ITE7dmFyIHQ9bXhDZWxsRWRpdG9yLnByb3RvdHlwZS5zdGFydEVkaXRpbmc7bXhDZWxsRWRpdG9yLnByb3RvdHlwZS5zdGFydEVkaXRpbmc9ZnVuY3Rpb24oYSxiKXthPXRoaXMuZ3JhcGguZ2V0U3RhcnRFZGl0aW5nQ2VsbChhLApiKTt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt2YXIgZT10aGlzLmdyYXBoLnZpZXcuZ2V0U3RhdGUoYSk7dGhpcy50ZXh0YXJlYS5jbGFzc05hbWU9bnVsbCE9ZSYmMT09ZS5zdHlsZS5odG1sPyJteENlbGxFZGl0b3IgZ2VDb250ZW50RWRpdGFibGUiOiJteENlbGxFZGl0b3IgbXhQbGFpblRleHRFZGl0b3IiO3RoaXMuY29kZVZpZXdNb2RlPSExO3RoaXMuc3dpdGNoU2VsZWN0aW9uU3RhdGU9bnVsbDt0aGlzLmdyYXBoLnNldFNlbGVjdGlvbkNlbGwoYSk7dmFyIGU9dGhpcy5ncmFwaC5nZXRNb2RlbCgpLmdldFBhcmVudChhKSxjPXRoaXMuZ3JhcGguZ2V0Q2VsbEdlb21ldHJ5KGEpO3RoaXMuZ3JhcGguZ2V0TW9kZWwoKS5pc0VkZ2UoZSkmJm51bGwhPWMmJmMucmVsYXRpdmV8fHRoaXMuZ3JhcGguZ2V0TW9kZWwoKS5pc0VkZ2UoYSk/bXhDbGllbnQuSVNfUVVJUktTP3RoaXMudGV4dGFyZWEuc3R5bGUuYm9yZGVyPSJncmF5IGRvdHRlZCAxcHgiOnRoaXMudGV4dGFyZWEuc3R5bGUub3V0bGluZT0KbXhDbGllbnQuSVNfSUV8fG14Q2xpZW50LklTX0lFMTF8fG14Q2xpZW50LklTX0ZGJiZteENsaWVudC5JU19XSU4/ImdyYXkgZG90dGVkIDFweCI6IiI6bXhDbGllbnQuSVNfUVVJUktTJiYodGhpcy50ZXh0YXJlYS5zdHlsZS5vdXRsaW5lPSJub25lIix0aGlzLnRleHRhcmVhLnN0eWxlLmJvcmRlcj0iIil9O3ZhciB5PW14Q2VsbEVkaXRvci5wcm90b3R5cGUuaW5zdGFsbExpc3RlbmVycztteENlbGxFZGl0b3IucHJvdG90eXBlLmluc3RhbGxMaXN0ZW5lcnM9ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhLGUpe2Uub3JpZ2luYWxOb2RlPWE7YT1hLmZpcnN0Q2hpbGQ7Zm9yKHZhciBjPWUuZmlyc3RDaGlsZDtudWxsIT1hJiZudWxsIT1jOyliKGEsYyksYT1hLm5leHRTaWJsaW5nLGM9Yy5uZXh0U2libGluZztyZXR1cm4gZX1mdW5jdGlvbiBlKGEsYil7aWYobnVsbCE9YSlpZihiLm9yaWdpbmFsTm9kZSE9YSljKGEpO2Vsc2UgZm9yKGE9YS5maXJzdENoaWxkLGI9Yi5maXJzdENoaWxkO251bGwhPQphOyl7dmFyIGQ9YS5uZXh0U2libGluZztudWxsPT1iP2MoYSk6KGUoYSxiKSxiPWIubmV4dFNpYmxpbmcpO2E9ZH19ZnVuY3Rpb24gYyhhKXtmb3IodmFyIGI9YS5maXJzdENoaWxkO251bGwhPWI7KXt2YXIgZT1iLm5leHRTaWJsaW5nO2MoYik7Yj1lfTE9PWEubm9kZVR5cGUmJigiQlIiPT09YS5ub2RlTmFtZXx8bnVsbCE9YS5maXJzdENoaWxkKXx8Mz09YS5ub2RlVHlwZSYmMCE9bXhVdGlscy50cmltKG14VXRpbHMuZ2V0VGV4dENvbnRlbnQoYSkpLmxlbmd0aD8oMz09YS5ub2RlVHlwZSYmbXhVdGlscy5zZXRUZXh0Q29udGVudChhLG14VXRpbHMuZ2V0VGV4dENvbnRlbnQoYSkucmVwbGFjZSgvXG58XHIvZywiIikpLDE9PWEubm9kZVR5cGUmJihhLnJlbW92ZUF0dHJpYnV0ZSgic3R5bGUiKSxhLnJlbW92ZUF0dHJpYnV0ZSgiY2xhc3MiKSxhLnJlbW92ZUF0dHJpYnV0ZSgid2lkdGgiKSxhLnJlbW92ZUF0dHJpYnV0ZSgiY2VsbHBhZGRpbmciKSxhLnJlbW92ZUF0dHJpYnV0ZSgiY2VsbHNwYWNpbmciKSwKYS5yZW1vdmVBdHRyaWJ1dGUoImJvcmRlciIpKSk6YS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGEpfXkuYXBwbHkodGhpcyxhcmd1bWVudHMpO214Q2xpZW50LklTX1FVSVJLU3x8Nz09PWRvY3VtZW50LmRvY3VtZW50TW9kZXx8OD09PWRvY3VtZW50LmRvY3VtZW50TW9kZXx8bXhFdmVudC5hZGRMaXN0ZW5lcih0aGlzLnRleHRhcmVhLCJwYXN0ZSIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7dmFyIGM9Yih0aGlzLnRleHRhcmVhLHRoaXMudGV4dGFyZWEuY2xvbmVOb2RlKCEwKSk7d2luZG93LnNldFRpbWVvdXQobXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXtudWxsIT10aGlzLnRleHRhcmVhJiYoMDw9dGhpcy50ZXh0YXJlYS5pbm5lckhUTUwuaW5kZXhPZigiPG86T2ZmaWNlRG9jdW1lbnRTZXR0aW5ncz4iKXx8MDw9dGhpcy50ZXh0YXJlYS5pbm5lckhUTUwuaW5kZXhPZigiXHgzYyEtLVtpZiAhbXNvXT4iKT9lKHRoaXMudGV4dGFyZWEsYyk6R3JhcGgucmVtb3ZlUGFzdGVGb3JtYXR0aW5nKHRoaXMudGV4dGFyZWEpKX0pLAowKX0pKX07bXhDZWxsRWRpdG9yLnByb3RvdHlwZS50b2dnbGVWaWV3TW9kZT1mdW5jdGlvbigpe3ZhciBhPXRoaXMuZ3JhcGgudmlldy5nZXRTdGF0ZSh0aGlzLmVkaXRpbmdDZWxsKTtpZihudWxsIT1hKXt2YXIgYj1udWxsIT1hJiYiMCIhPW14VXRpbHMuZ2V0VmFsdWUoYS5zdHlsZSwibmwyQnIiLCIxIiksZT10aGlzLnNhdmVTZWxlY3Rpb24oKTtpZih0aGlzLmNvZGVWaWV3TW9kZSl7cD1teFV0aWxzLmV4dHJhY3RUZXh0V2l0aFdoaXRlc3BhY2UodGhpcy50ZXh0YXJlYS5jaGlsZE5vZGVzKTswPHAubGVuZ3RoJiYiXG4iPT1wLmNoYXJBdChwLmxlbmd0aC0xKSYmKHA9cC5zdWJzdHJpbmcoMCxwLmxlbmd0aC0xKSk7cD10aGlzLmdyYXBoLnNhbml0aXplSHRtbChiP3AucmVwbGFjZSgvXG4vZywiPGJyLz4iKTpwLCEwKTt0aGlzLnRleHRhcmVhLmNsYXNzTmFtZT0ibXhDZWxsRWRpdG9yIGdlQ29udGVudEVkaXRhYmxlIjt2YXIgYz1teFV0aWxzLmdldFZhbHVlKGEuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfRk9OVFNJWkUsCm14Q29uc3RhbnRzLkRFRkFVTFRfRk9OVFNJWkUpLGI9bXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0ZPTlRGQU1JTFksbXhDb25zdGFudHMuREVGQVVMVF9GT05URkFNSUxZKSxkPW14VXRpbHMuZ2V0VmFsdWUoYS5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9BTElHTixteENvbnN0YW50cy5BTElHTl9MRUZUKSxmPShteFV0aWxzLmdldFZhbHVlKGEuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfRk9OVFNUWUxFLDApJm14Q29uc3RhbnRzLkZPTlRfQk9MRCk9PW14Q29uc3RhbnRzLkZPTlRfQk9MRCxnPShteFV0aWxzLmdldFZhbHVlKGEuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfRk9OVFNUWUxFLDApJm14Q29uc3RhbnRzLkZPTlRfSVRBTElDKT09bXhDb25zdGFudHMuRk9OVF9JVEFMSUMsbD1bXTsobXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0ZPTlRTVFlMRSwwKSZteENvbnN0YW50cy5GT05UX1VOREVSTElORSk9PW14Q29uc3RhbnRzLkZPTlRfVU5ERVJMSU5FJiYKbC5wdXNoKCJ1bmRlcmxpbmUiKTsobXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0ZPTlRTVFlMRSwwKSZteENvbnN0YW50cy5GT05UX1NUUklLRVRIUk9VR0gpPT1teENvbnN0YW50cy5GT05UX1NUUklLRVRIUk9VR0gmJmwucHVzaCgibGluZS10aHJvdWdoIik7dGhpcy50ZXh0YXJlYS5zdHlsZS5saW5lSGVpZ2h0PW14Q29uc3RhbnRzLkFCU09MVVRFX0xJTkVfSEVJR0hUP01hdGgucm91bmQoYypteENvbnN0YW50cy5MSU5FX0hFSUdIVCkrInB4IjpteENvbnN0YW50cy5MSU5FX0hFSUdIVDt0aGlzLnRleHRhcmVhLnN0eWxlLmZvbnRTaXplPU1hdGgucm91bmQoYykrInB4Ijt0aGlzLnRleHRhcmVhLnN0eWxlLnRleHREZWNvcmF0aW9uPWwuam9pbigiICIpO3RoaXMudGV4dGFyZWEuc3R5bGUuZm9udFdlaWdodD1mPyJib2xkIjoibm9ybWFsIjt0aGlzLnRleHRhcmVhLnN0eWxlLmZvbnRTdHlsZT1nPyJpdGFsaWMiOiIiO3RoaXMudGV4dGFyZWEuc3R5bGUuZm9udEZhbWlseT0KYjt0aGlzLnRleHRhcmVhLnN0eWxlLnRleHRBbGlnbj1kO3RoaXMudGV4dGFyZWEuc3R5bGUucGFkZGluZz0iMHB4Ijt0aGlzLnRleHRhcmVhLmlubmVySFRNTCE9cCYmKHRoaXMudGV4dGFyZWEuaW5uZXJIVE1MPXAsMD09dGhpcy50ZXh0YXJlYS5pbm5lckhUTUwubGVuZ3RoJiYodGhpcy50ZXh0YXJlYS5pbm5lckhUTUw9dGhpcy5nZXRFbXB0eUxhYmVsVGV4dCgpLHRoaXMuY2xlYXJPbkNoYW5nZT0wPHRoaXMudGV4dGFyZWEuaW5uZXJIVE1MLmxlbmd0aCkpO3RoaXMuY29kZVZpZXdNb2RlPSExfWVsc2V7dGhpcy5jbGVhck9uQ2hhbmdlJiZ0aGlzLnRleHRhcmVhLmlubmVySFRNTD09dGhpcy5nZXRFbXB0eUxhYmVsVGV4dCgpJiYodGhpcy5jbGVhck9uQ2hhbmdlPSExLHRoaXMudGV4dGFyZWEuaW5uZXJIVE1MPSIiKTt2YXIgcD1teFV0aWxzLmh0bWxFbnRpdGllcyh0aGlzLnRleHRhcmVhLmlubmVySFRNTCk7bXhDbGllbnQuSVNfUVVJUktTfHw4PT1kb2N1bWVudC5kb2N1bWVudE1vZGV8fAoocD1teFV0aWxzLnJlcGxhY2VUcmFpbGluZ05ld2xpbmVzKHAsIjxkaXY+PGJyPjwvZGl2PiIpKTtwPXRoaXMuZ3JhcGguc2FuaXRpemVIdG1sKGI/cC5yZXBsYWNlKC9cbi9nLCIiKS5yZXBsYWNlKC8mbHQ7YnJccyouPyZndDsvZywiPGJyPiIpOnAsITApO3RoaXMudGV4dGFyZWEuY2xhc3NOYW1lPSJteENlbGxFZGl0b3IgbXhQbGFpblRleHRFZGl0b3IiO3ZhciBjPW14Q29uc3RhbnRzLkRFRkFVTFRfRk9OVFNJWkU7dGhpcy50ZXh0YXJlYS5zdHlsZS5saW5lSGVpZ2h0PW14Q29uc3RhbnRzLkFCU09MVVRFX0xJTkVfSEVJR0hUP01hdGgucm91bmQoYypteENvbnN0YW50cy5MSU5FX0hFSUdIVCkrInB4IjpteENvbnN0YW50cy5MSU5FX0hFSUdIVDt0aGlzLnRleHRhcmVhLnN0eWxlLmZvbnRTaXplPU1hdGgucm91bmQoYykrInB4Ijt0aGlzLnRleHRhcmVhLnN0eWxlLnRleHREZWNvcmF0aW9uPSIiO3RoaXMudGV4dGFyZWEuc3R5bGUuZm9udFdlaWdodD0ibm9ybWFsIjt0aGlzLnRleHRhcmVhLnN0eWxlLmZvbnRTdHlsZT0KIiI7dGhpcy50ZXh0YXJlYS5zdHlsZS5mb250RmFtaWx5PW14Q29uc3RhbnRzLkRFRkFVTFRfRk9OVEZBTUlMWTt0aGlzLnRleHRhcmVhLnN0eWxlLnRleHRBbGlnbj0ibGVmdCI7dGhpcy50ZXh0YXJlYS5zdHlsZS5wYWRkaW5nPSIycHgiO3RoaXMudGV4dGFyZWEuaW5uZXJIVE1MIT1wJiYodGhpcy50ZXh0YXJlYS5pbm5lckhUTUw9cCk7dGhpcy5jb2RlVmlld01vZGU9ITB9dGhpcy50ZXh0YXJlYS5mb2N1cygpO251bGwhPXRoaXMuc3dpdGNoU2VsZWN0aW9uU3RhdGUmJnRoaXMucmVzdG9yZVNlbGVjdGlvbih0aGlzLnN3aXRjaFNlbGVjdGlvblN0YXRlKTt0aGlzLnN3aXRjaFNlbGVjdGlvblN0YXRlPWU7dGhpcy5yZXNpemUoKX19O3ZhciB4PW14Q2VsbEVkaXRvci5wcm90b3R5cGUucmVzaXplO214Q2VsbEVkaXRvci5wcm90b3R5cGUucmVzaXplPWZ1bmN0aW9uKGEsYil7aWYobnVsbCE9dGhpcy50ZXh0YXJlYSlpZihhPXRoaXMuZ3JhcGguZ2V0VmlldygpLmdldFN0YXRlKHRoaXMuZWRpdGluZ0NlbGwpLAp0aGlzLmNvZGVWaWV3TW9kZSYmbnVsbCE9YSl7dmFyIGU9YS52aWV3LnNjYWxlO3RoaXMuYm91bmRzPW14UmVjdGFuZ2xlLmZyb21SZWN0YW5nbGUoYSk7aWYoMD09dGhpcy5ib3VuZHMud2lkdGgmJjA9PXRoaXMuYm91bmRzLmhlaWdodCl7dGhpcy5ib3VuZHMud2lkdGg9MTYwKmU7dGhpcy5ib3VuZHMuaGVpZ2h0PTYwKmU7dmFyIGM9bnVsbCE9YS50ZXh0P2EudGV4dC5tYXJnaW46bnVsbDtudWxsPT1jJiYoYz1teFV0aWxzLmdldEFsaWdubWVudEFzUG9pbnQobXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0FMSUdOLG14Q29uc3RhbnRzLkFMSUdOX0NFTlRFUiksbXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX1ZFUlRJQ0FMX0FMSUdOLG14Q29uc3RhbnRzLkFMSUdOX01JRERMRSkpKTt0aGlzLmJvdW5kcy54Kz1jLngqdGhpcy5ib3VuZHMud2lkdGg7dGhpcy5ib3VuZHMueSs9Yy55KnRoaXMuYm91bmRzLmhlaWdodH10aGlzLnRleHRhcmVhLnN0eWxlLndpZHRoPQpNYXRoLnJvdW5kKCh0aGlzLmJvdW5kcy53aWR0aC00KS9lKSsicHgiO3RoaXMudGV4dGFyZWEuc3R5bGUuaGVpZ2h0PU1hdGgucm91bmQoKHRoaXMuYm91bmRzLmhlaWdodC00KS9lKSsicHgiO3RoaXMudGV4dGFyZWEuc3R5bGUub3ZlcmZsb3c9ImF1dG8iO3RoaXMudGV4dGFyZWEuY2xpZW50SGVpZ2h0PHRoaXMudGV4dGFyZWEub2Zmc2V0SGVpZ2h0JiYodGhpcy50ZXh0YXJlYS5zdHlsZS5oZWlnaHQ9TWF0aC5yb3VuZCh0aGlzLmJvdW5kcy5oZWlnaHQvZSkrKHRoaXMudGV4dGFyZWEub2Zmc2V0SGVpZ2h0LXRoaXMudGV4dGFyZWEuY2xpZW50SGVpZ2h0KSsicHgiLHRoaXMuYm91bmRzLmhlaWdodD1wYXJzZUludCh0aGlzLnRleHRhcmVhLnN0eWxlLmhlaWdodCkqZSk7dGhpcy50ZXh0YXJlYS5jbGllbnRXaWR0aDx0aGlzLnRleHRhcmVhLm9mZnNldFdpZHRoJiYodGhpcy50ZXh0YXJlYS5zdHlsZS53aWR0aD1NYXRoLnJvdW5kKHRoaXMuYm91bmRzLndpZHRoL2UpKyh0aGlzLnRleHRhcmVhLm9mZnNldFdpZHRoLQp0aGlzLnRleHRhcmVhLmNsaWVudFdpZHRoKSsicHgiLHRoaXMuYm91bmRzLndpZHRoPXBhcnNlSW50KHRoaXMudGV4dGFyZWEuc3R5bGUud2lkdGgpKmUpO3RoaXMudGV4dGFyZWEuc3R5bGUubGVmdD1NYXRoLnJvdW5kKHRoaXMuYm91bmRzLngpKyJweCI7dGhpcy50ZXh0YXJlYS5zdHlsZS50b3A9TWF0aC5yb3VuZCh0aGlzLmJvdW5kcy55KSsicHgiO214Q2xpZW50LklTX1ZNTD90aGlzLnRleHRhcmVhLnN0eWxlLnpvb209ZTpteFV0aWxzLnNldFByZWZpeGVkU3R5bGUodGhpcy50ZXh0YXJlYS5zdHlsZSwidHJhbnNmb3JtIiwic2NhbGUoIitlKyIsIitlKyIpIil9ZWxzZSB0aGlzLnRleHRhcmVhLnN0eWxlLmhlaWdodD0iIix0aGlzLnRleHRhcmVhLnN0eWxlLm92ZXJmbG93PSIiLHguYXBwbHkodGhpcyxhcmd1bWVudHMpfTtteENlbGxFZGl0b3JHZXRJbml0aWFsVmFsdWU9bXhDZWxsRWRpdG9yLnByb3RvdHlwZS5nZXRJbml0aWFsVmFsdWU7bXhDZWxsRWRpdG9yLnByb3RvdHlwZS5nZXRJbml0aWFsVmFsdWU9CmZ1bmN0aW9uKGEsYil7aWYoIjAiPT1teFV0aWxzLmdldFZhbHVlKGEuc3R5bGUsImh0bWwiLCIwIikpcmV0dXJuIG14Q2VsbEVkaXRvckdldEluaXRpYWxWYWx1ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dmFyIGU9dGhpcy5ncmFwaC5nZXRFZGl0aW5nVmFsdWUoYS5jZWxsLGIpOyIxIj09bXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLCJubDJCciIsIjEiKSYmKGU9ZS5yZXBsYWNlKC9cbi9nLCI8YnIvPiIpKTtyZXR1cm4gZT10aGlzLmdyYXBoLnNhbml0aXplSHRtbChlLCEwKX07bXhDZWxsRWRpdG9yR2V0Q3VycmVudFZhbHVlPW14Q2VsbEVkaXRvci5wcm90b3R5cGUuZ2V0Q3VycmVudFZhbHVlO214Q2VsbEVkaXRvci5wcm90b3R5cGUuZ2V0Q3VycmVudFZhbHVlPWZ1bmN0aW9uKGEpe2lmKCIwIj09bXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLCJodG1sIiwiMCIpKXJldHVybiBteENlbGxFZGl0b3JHZXRDdXJyZW50VmFsdWUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3ZhciBiPXRoaXMuZ3JhcGguc2FuaXRpemVIdG1sKHRoaXMudGV4dGFyZWEuaW5uZXJIVE1MLAohMCk7cmV0dXJuIGI9IjEiPT1teFV0aWxzLmdldFZhbHVlKGEuc3R5bGUsIm5sMkJyIiwiMSIpP2IucmVwbGFjZSgvXHJcbi9nLCI8YnIvPiIpLnJlcGxhY2UoL1xuL2csIjxici8+Iik6Yi5yZXBsYWNlKC9cclxuL2csIiIpLnJlcGxhY2UoL1xuL2csIiIpfTt2YXIgRT1teENlbGxFZGl0b3IucHJvdG90eXBlLnN0b3BFZGl0aW5nO214Q2VsbEVkaXRvci5wcm90b3R5cGUuc3RvcEVkaXRpbmc9ZnVuY3Rpb24oYSl7dGhpcy5jb2RlVmlld01vZGUmJnRoaXMudG9nZ2xlVmlld01vZGUoKTtFLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLmZvY3VzQ29udGFpbmVyKCl9O214Q2VsbEVkaXRvci5wcm90b3R5cGUuZm9jdXNDb250YWluZXI9ZnVuY3Rpb24oKXt0cnl7dGhpcy5ncmFwaC5jb250YWluZXIuZm9jdXMoKX1jYXRjaChUKXt9fTt2YXIgQT1teENlbGxFZGl0b3IucHJvdG90eXBlLmFwcGx5VmFsdWU7bXhDZWxsRWRpdG9yLnByb3RvdHlwZS5hcHBseVZhbHVlPWZ1bmN0aW9uKGEsCmIpe3RoaXMuZ3JhcGguZ2V0TW9kZWwoKS5iZWdpblVwZGF0ZSgpO3RyeXtBLmFwcGx5KHRoaXMsYXJndW1lbnRzKSwiIj09YiYmdGhpcy5ncmFwaC5pc0NlbGxEZWxldGFibGUoYS5jZWxsKSYmMD09dGhpcy5ncmFwaC5tb2RlbC5nZXRDaGlsZENvdW50KGEuY2VsbCkmJnRoaXMuZ3JhcGguaXNUcmFuc3BhcmVudFN0YXRlKGEpJiZ0aGlzLmdyYXBoLnJlbW92ZUNlbGxzKFthLmNlbGxdLCExKX1maW5hbGx5e3RoaXMuZ3JhcGguZ2V0TW9kZWwoKS5lbmRVcGRhdGUoKX19O214Q2VsbEVkaXRvci5wcm90b3R5cGUuZ2V0QmFja2dyb3VuZENvbG9yPWZ1bmN0aW9uKGEpe3ZhciBiPW14VXRpbHMuZ2V0VmFsdWUoYS5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9MQUJFTF9CQUNLR1JPVU5EQ09MT1IsbnVsbCk7bnVsbCE9YiYmYiE9bXhDb25zdGFudHMuTk9ORXx8IShudWxsIT1hLmNlbGwuZ2VvbWV0cnkmJjA8YS5jZWxsLmdlb21ldHJ5LndpZHRoKXx8MD09bXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLApteENvbnN0YW50cy5TVFlMRV9ST1RBVElPTiwwKSYmMCE9bXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0hPUklaT05UQUwsMSl8fChiPW14VXRpbHMuZ2V0VmFsdWUoYS5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9GSUxMQ09MT1IsbnVsbCkpO2I9PW14Q29uc3RhbnRzLk5PTkUmJihiPW51bGwpO3JldHVybiBifTtteENlbGxFZGl0b3IucHJvdG90eXBlLmdldE1pbmltdW1TaXplPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZ3JhcGguZ2V0VmlldygpLnNjYWxlO3JldHVybiBuZXcgbXhSZWN0YW5nbGUoMCwwLG51bGw9PWEudGV4dD8zMDphLnRleHQuc2l6ZSpiKzIwLDMwKX07bXhHcmFwaEhhbmRsZXJJc1ZhbGlkRHJvcFRhcmdldD1teEdyYXBoSGFuZGxlci5wcm90b3R5cGUuaXNWYWxpZERyb3BUYXJnZXQ7bXhHcmFwaEhhbmRsZXIucHJvdG90eXBlLmlzVmFsaWREcm9wVGFyZ2V0PWZ1bmN0aW9uKGEsYil7cmV0dXJuIG14R3JhcGhIYW5kbGVySXNWYWxpZERyb3BUYXJnZXQuYXBwbHkodGhpcywKYXJndW1lbnRzKSYmIW14RXZlbnQuaXNBbHREb3duKGIuZ2V0RXZlbnQpfTtteEdyYXBoVmlldy5wcm90b3R5cGUuZm9ybWF0VW5pdFRleHQ9ZnVuY3Rpb24oYSl7cmV0dXJuIGE/ZChhLHRoaXMudW5pdCk6YX07bXhHcmFwaEhhbmRsZXIucHJvdG90eXBlLnVwZGF0ZUhpbnQ9ZnVuY3Rpb24oYil7aWYobnVsbCE9dGhpcy5wQm91bmRzJiYobnVsbCE9dGhpcy5zaGFwZXx8dGhpcy5saXZlUHJldmlld0FjdGl2ZSkpe251bGw9PXRoaXMuaGludCYmKHRoaXMuaGludD1hKCksdGhpcy5ncmFwaC5jb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5oaW50KSk7dmFyIGU9dGhpcy5ncmFwaC52aWV3LnRyYW5zbGF0ZSxjPXRoaXMuZ3JhcGgudmlldy5zY2FsZTtiPXRoaXMucm91bmRMZW5ndGgoKHRoaXMuYm91bmRzLngrdGhpcy5jdXJyZW50RHgpL2MtZS54KTtlPXRoaXMucm91bmRMZW5ndGgoKHRoaXMuYm91bmRzLnkrdGhpcy5jdXJyZW50RHkpL2MtZS55KTtjPXRoaXMuZ3JhcGgudmlldy51bml0Owp0aGlzLmhpbnQuaW5uZXJIVE1MPWQoYixjKSsiLCAiK2QoZSxjKTt0aGlzLmhpbnQuc3R5bGUubGVmdD10aGlzLnBCb3VuZHMueCt0aGlzLmN1cnJlbnREeCtNYXRoLnJvdW5kKCh0aGlzLnBCb3VuZHMud2lkdGgtdGhpcy5oaW50LmNsaWVudFdpZHRoKS8yKSsicHgiO3RoaXMuaGludC5zdHlsZS50b3A9dGhpcy5wQm91bmRzLnkrdGhpcy5jdXJyZW50RHkrdGhpcy5wQm91bmRzLmhlaWdodCtFZGl0b3IuaGludE9mZnNldCsicHgifX07bXhHcmFwaEhhbmRsZXIucHJvdG90eXBlLnJlbW92ZUhpbnQ9ZnVuY3Rpb24oKXtudWxsIT10aGlzLmhpbnQmJih0aGlzLmhpbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmhpbnQpLHRoaXMuaGludD1udWxsKX07dmFyIEM9bXhTdGFja0xheW91dC5wcm90b3R5cGUucmVzaXplQ2VsbDtteFN0YWNrTGF5b3V0LnByb3RvdHlwZS5yZXNpemVDZWxsPWZ1bmN0aW9uKGEsYil7Qy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dmFyIGU9dGhpcy5ncmFwaC5nZXRDZWxsU3R5bGUoYSk7CmlmKG51bGw9PWUuY2hpbGRMYXlvdXQpe3ZhciBjPXRoaXMuZ3JhcGgubW9kZWwuZ2V0UGFyZW50KGEpLGQ9bnVsbCE9Yz90aGlzLmdyYXBoLmdldENlbGxHZW9tZXRyeShjKTpudWxsO251bGwhPWQmJihlPXRoaXMuZ3JhcGguZ2V0Q2VsbFN0eWxlKGMpLCJzdGFja0xheW91dCI9PWUuY2hpbGRMYXlvdXQmJihlPSIxIj09bXhVdGlscy5nZXRWYWx1ZShlLCJob3Jpem9udGFsU3RhY2siLCIxIiksZD1kLmNsb25lKCksZT9kLmhlaWdodD1iLmhlaWdodDpkLndpZHRoPWIud2lkdGgsdGhpcy5ncmFwaC5tb2RlbC5zZXRHZW9tZXRyeShjLGQpKSl9fTt2YXIgej1teFNlbGVjdGlvbkNlbGxzSGFuZGxlci5wcm90b3R5cGUuZ2V0SGFuZGxlZFNlbGVjdGlvbkNlbGxzO214U2VsZWN0aW9uQ2VsbHNIYW5kbGVyLnByb3RvdHlwZS5nZXRIYW5kbGVkU2VsZWN0aW9uQ2VsbHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEpe2UuZ2V0KGEpfHwoZS5wdXQoYSwhMCksZC5wdXNoKGEpKX1mb3IodmFyIGI9CnouYXBwbHkodGhpcyxhcmd1bWVudHMpLGU9bmV3IG14RGljdGlvbmFyeSxjPXRoaXMuZ3JhcGgubW9kZWwsZD1bXSxmPTA7ZjxiLmxlbmd0aDtmKyspe3ZhciBnPWJbZl07dGhpcy5ncmFwaC5pc1RhYmxlQ2VsbChnKT9hKGMuZ2V0UGFyZW50KGMuZ2V0UGFyZW50KGcpKSk6dGhpcy5ncmFwaC5pc1RhYmxlUm93KGcpJiZhKGMuZ2V0UGFyZW50KGcpKTthKGcpfXJldHVybiBkfTt2YXIgRD1teFZlcnRleEhhbmRsZXIucHJvdG90eXBlLmNyZWF0ZVBhcmVudEhpZ2hsaWdodFNoYXBlO214VmVydGV4SGFuZGxlci5wcm90b3R5cGUuY3JlYXRlUGFyZW50SGlnaGxpZ2h0U2hhcGU9ZnVuY3Rpb24oYSl7dmFyIGI9RC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7Yi5zdHJva2U9IiNDMEMwQzAiO2Iuc3Ryb2tld2lkdGg9MTtyZXR1cm4gYn07dmFyIEc9bXhFZGdlSGFuZGxlci5wcm90b3R5cGUuY3JlYXRlUGFyZW50SGlnaGxpZ2h0U2hhcGU7bXhFZGdlSGFuZGxlci5wcm90b3R5cGUuY3JlYXRlUGFyZW50SGlnaGxpZ2h0U2hhcGU9CmZ1bmN0aW9uKGEpe3ZhciBiPUcuYXBwbHkodGhpcyxhcmd1bWVudHMpO2Iuc3Ryb2tlPSIjQzBDMEMwIjtiLnN0cm9rZXdpZHRoPTE7cmV0dXJuIGJ9O214VmVydGV4SGFuZGxlci5wcm90b3R5cGUucm90YXRpb25IYW5kbGVWU3BhY2luZz0tMTI7bXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5nZXRSb3RhdGlvbkhhbmRsZVBvc2l0aW9uPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXRIYW5kbGVQYWRkaW5nKCk7cmV0dXJuIG5ldyBteFBvaW50KHRoaXMuYm91bmRzLngrdGhpcy5ib3VuZHMud2lkdGgtdGhpcy5yb3RhdGlvbkhhbmRsZVZTcGFjaW5nK2EueC8yLHRoaXMuYm91bmRzLnkrdGhpcy5yb3RhdGlvbkhhbmRsZVZTcGFjaW5nLWEueS8yKX07bXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5pc1JlY3Vyc2l2ZVJlc2l6ZT1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmdyYXBoLmlzUmVjdXJzaXZlVmVydGV4UmVzaXplKGEpJiYhbXhFdmVudC5pc0NvbnRyb2xEb3duKGIuZ2V0RXZlbnQoKSl9OwpteFZlcnRleEhhbmRsZXIucHJvdG90eXBlLmlzQ2VudGVyZWRFdmVudD1mdW5jdGlvbihhLGIpe3JldHVybiEoIXRoaXMuZ3JhcGguaXNTd2ltbGFuZShhLmNlbGwpJiYwPHRoaXMuZ3JhcGgubW9kZWwuZ2V0Q2hpbGRDb3VudChhLmNlbGwpJiYhdGhpcy5ncmFwaC5pc0NlbGxDb2xsYXBzZWQoYS5jZWxsKSYmIjEiPT1teFV0aWxzLmdldFZhbHVlKGEuc3R5bGUsInJlY3Vyc2l2ZVJlc2l6ZSIsIjEiKSYmbnVsbD09bXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLCJjaGlsZExheW91dCIsbnVsbCkpJiZteEV2ZW50LmlzQ29udHJvbERvd24oYi5nZXRFdmVudCgpKXx8bXhFdmVudC5pc01ldGFEb3duKGIuZ2V0RXZlbnQoKSl9O3ZhciBGPW14VmVydGV4SGFuZGxlci5wcm90b3R5cGUuaXNSb3RhdGlvbkhhbmRsZVZpc2libGU7bXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5pc1JvdGF0aW9uSGFuZGxlVmlzaWJsZT1mdW5jdGlvbigpe3JldHVybiBGLmFwcGx5KHRoaXMsYXJndW1lbnRzKSYmCiF0aGlzLmdyYXBoLmlzVGFibGVDZWxsKHRoaXMuc3RhdGUuY2VsbCkmJiF0aGlzLmdyYXBoLmlzVGFibGVSb3codGhpcy5zdGF0ZS5jZWxsKSYmIXRoaXMuZ3JhcGguaXNUYWJsZSh0aGlzLnN0YXRlLmNlbGwpfTtteFZlcnRleEhhbmRsZXIucHJvdG90eXBlLmdldFNpemVyQm91bmRzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ3JhcGguaXNUYWJsZUNlbGwodGhpcy5zdGF0ZS5jZWxsKT90aGlzLmdyYXBoLnZpZXcuZ2V0U3RhdGUodGhpcy5ncmFwaC5tb2RlbC5nZXRQYXJlbnQodGhpcy5ncmFwaC5tb2RlbC5nZXRQYXJlbnQodGhpcy5zdGF0ZS5jZWxsKSkpOnRoaXMuYm91bmRzfTt2YXIgSD1teFZlcnRleEhhbmRsZXIucHJvdG90eXBlLmlzUGFyZW50SGlnaGxpZ2h0VmlzaWJsZTtteFZlcnRleEhhbmRsZXIucHJvdG90eXBlLmlzUGFyZW50SGlnaGxpZ2h0VmlzaWJsZT1mdW5jdGlvbigpe3JldHVybiBILmFwcGx5KHRoaXMsYXJndW1lbnRzKSYmIXRoaXMuZ3JhcGguaXNUYWJsZUNlbGwodGhpcy5zdGF0ZS5jZWxsKSYmCiF0aGlzLmdyYXBoLmlzVGFibGVSb3codGhpcy5zdGF0ZS5jZWxsKX07dmFyIEo9bXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5pc0N1c3RvbUhhbmRsZVZpc2libGU7bXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5pc0N1c3RvbUhhbmRsZVZpc2libGU9ZnVuY3Rpb24oYSl7cmV0dXJuIGEudGFibGVIYW5kbGV8fEouYXBwbHkodGhpcyxhcmd1bWVudHMpJiYoIXRoaXMuZ3JhcGguaXNUYWJsZSh0aGlzLnN0YXRlLmNlbGwpfHx0aGlzLmdyYXBoLmlzQ2VsbFNlbGVjdGVkKHRoaXMuc3RhdGUuY2VsbCkpfTtteFZlcnRleEhhbmRsZXIucHJvdG90eXBlLmdldFNlbGVjdGlvbkJvcmRlckluc2V0PWZ1bmN0aW9uKCl7dmFyIGE9MDt0aGlzLmdyYXBoLmlzVGFibGVSb3codGhpcy5zdGF0ZS5jZWxsKT9hPTE6dGhpcy5ncmFwaC5pc1RhYmxlQ2VsbCh0aGlzLnN0YXRlLmNlbGwpJiYoYT0yKTtyZXR1cm4gYX07dmFyIHU9bXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5nZXRTZWxlY3Rpb25Cb3JkZXJCb3VuZHM7Cm14VmVydGV4SGFuZGxlci5wcm90b3R5cGUuZ2V0U2VsZWN0aW9uQm9yZGVyQm91bmRzPWZ1bmN0aW9uKCl7cmV0dXJuIHUuYXBwbHkodGhpcyxhcmd1bWVudHMpLmdyb3coLXRoaXMuZ2V0U2VsZWN0aW9uQm9yZGVySW5zZXQoKSl9O3ZhciBLPW14VmVydGV4SGFuZGxlci5wcm90b3R5cGUuY3JlYXRlQ3VzdG9tSGFuZGxlcztteFZlcnRleEhhbmRsZXIucHJvdG90eXBlLmNyZWF0ZUN1c3RvbUhhbmRsZXM9ZnVuY3Rpb24oKXt2YXIgYT1LLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtpZih0aGlzLmdyYXBoLmlzVGFibGUodGhpcy5zdGF0ZS5jZWxsKSl7dmFyIGI9dGhpcy5ncmFwaCxlPWIubW9kZWwsYz10aGlzLnN0YXRlLGQ9dGhpcy5zZWxlY3Rpb25Cb3JkZXIsZj10aGlzO251bGw9PWEmJihhPVtdKTt2YXIgZz1iLnZpZXcuZ2V0Q2VsbFN0YXRlcyhlLmdldENoaWxkQ2VsbHModGhpcy5zdGF0ZS5jZWxsLCEwKSk7aWYoMDxnLmxlbmd0aCl7Zm9yKHZhciBsPWIudmlldy5nZXRDZWxsU3RhdGVzKGUuZ2V0Q2hpbGRDZWxscyhnWzBdLmNlbGwsCiEwKSksZT0wO2U8bC5sZW5ndGg7ZSsrKW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGUpe3ZhciBnPWxbZV0scD1lPGwubGVuZ3RoLTE/bFtlKzFdOm51bGwsdT1uZXcgbXhMaW5lKG5ldyBteFJlY3RhbmdsZSxteENvbnN0YW50cy5OT05FLDEsITApO3UuaXNEYXNoZWQ9ZC5pc0Rhc2hlZDt1PW5ldyBteEhhbmRsZShnLCJjb2wtcmVzaXplIixudWxsLHUpO3UudGFibGVIYW5kbGU9ITA7dmFyIG49MDt1LnNoYXBlLm5vZGUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodS5zaGFwZS5ub2RlLHUuc2hhcGUubm9kZS5wYXJlbnROb2RlLmZpcnN0Q2hpbGQpO3UucmVkcmF3PWZ1bmN0aW9uKCl7aWYobnVsbCE9dGhpcy5zaGFwZSYmbnVsbCE9dGhpcy5zdGF0ZS5zaGFwZSl7dmFyIGE9Yi5nZXRBY3R1YWxTdGFydFNpemUoYy5jZWxsKTt0aGlzLnNoYXBlLnN0cm9rZT0wPT1uP214Q29uc3RhbnRzLk5PTkU6ZC5zdHJva2U7dGhpcy5zaGFwZS5ib3VuZHMueD10aGlzLnN0YXRlLngrdGhpcy5zdGF0ZS53aWR0aCsKbip0aGlzLmdyYXBoLnZpZXcuc2NhbGU7dGhpcy5zaGFwZS5ib3VuZHMud2lkdGg9MTt0aGlzLnNoYXBlLmJvdW5kcy55PWMueSsoZT09bC5sZW5ndGgtMT8wOmEueSp0aGlzLmdyYXBoLnZpZXcuc2NhbGUpO3RoaXMuc2hhcGUuYm91bmRzLmhlaWdodD1jLmhlaWdodC0oZT09bC5sZW5ndGgtMT8wOihhLmhlaWdodCthLnkpKnRoaXMuZ3JhcGgudmlldy5zY2FsZSk7dGhpcy5zaGFwZS5yZWRyYXcoKX19O3ZhciB0PSExO3Uuc2V0UG9zaXRpb249ZnVuY3Rpb24oYSxlLGMpe249TWF0aC5tYXgoR3JhcGgubWluVGFibGVDb2x1bW5XaWR0aC1hLndpZHRoLGUueC1hLngtYS53aWR0aCk7dD1teEV2ZW50LmlzU2hpZnREb3duKGMuZ2V0RXZlbnQoKSk7bnVsbD09cHx8dHx8KG49TWF0aC5taW4oKHAueCtwLndpZHRoLWcueC1nLndpZHRoKS9iLnZpZXcuc2NhbGUtR3JhcGgubWluVGFibGVDb2x1bW5XaWR0aCxuKSl9O3UuZXhlY3V0ZT1mdW5jdGlvbihhKXtpZigwIT1uKWIuc2V0VGFibGVDb2x1bW5XaWR0aCh0aGlzLnN0YXRlLmNlbGwsCm4sdCk7ZWxzZSBpZighZi5ibG9ja0RlbGF5ZWRTZWxlY3Rpb24pe3ZhciBlPWIuZ2V0Q2VsbEF0KGEuZ2V0R3JhcGhYKCksYS5nZXRHcmFwaFkoKSl8fGMuY2VsbDtiLnNlbGVjdENlbGxGb3JFdmVudChlLGEuZ2V0RXZlbnQoKSl9bj0wfTt1LnJlc2V0PWZ1bmN0aW9uKCl7bj0wfTthLnB1c2godSl9KShlKTtmb3IoZT0wO2U8Zy5sZW5ndGg7ZSsrKW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGUpe2U9Z1tlXTt2YXIgbD1uZXcgbXhMaW5lKG5ldyBteFJlY3RhbmdsZSxteENvbnN0YW50cy5OT05FLDEpO2wuaXNEYXNoZWQ9ZC5pc0Rhc2hlZDtlPW5ldyBteEhhbmRsZShlLCJyb3ctcmVzaXplIixudWxsLGwpO2UudGFibGVIYW5kbGU9ITA7dmFyIHA9MDtlLnNoYXBlLm5vZGUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZS5zaGFwZS5ub2RlLGUuc2hhcGUubm9kZS5wYXJlbnROb2RlLmZpcnN0Q2hpbGQpO2UucmVkcmF3PWZ1bmN0aW9uKCl7bnVsbCE9dGhpcy5zaGFwZSYmbnVsbCE9CnRoaXMuc3RhdGUuc2hhcGUmJih0aGlzLnNoYXBlLnN0cm9rZT0wPT1wP214Q29uc3RhbnRzLk5PTkU6ZC5zdHJva2UsdGhpcy5zaGFwZS5ib3VuZHMueD10aGlzLnN0YXRlLngsdGhpcy5zaGFwZS5ib3VuZHMud2lkdGg9dGhpcy5zdGF0ZS53aWR0aCx0aGlzLnNoYXBlLmJvdW5kcy55PXRoaXMuc3RhdGUueSt0aGlzLnN0YXRlLmhlaWdodCtwKnRoaXMuZ3JhcGgudmlldy5zY2FsZSx0aGlzLnNoYXBlLmJvdW5kcy5oZWlnaHQ9MSx0aGlzLnNoYXBlLnJlZHJhdygpKX07ZS5zZXRQb3NpdGlvbj1mdW5jdGlvbihhLGIsZSl7cD1NYXRoLm1heChHcmFwaC5taW5UYWJsZVJvd0hlaWdodC1hLmhlaWdodCxiLnktYS55LWEuaGVpZ2h0KX07ZS5leGVjdXRlPWZ1bmN0aW9uKGEpe2lmKDAhPXApYi5zZXRUYWJsZVJvd0hlaWdodCh0aGlzLnN0YXRlLmNlbGwscCwhbXhFdmVudC5pc1NoaWZ0RG93bihhLmdldEV2ZW50KCkpKTtlbHNlIGlmKCFmLmJsb2NrRGVsYXllZFNlbGVjdGlvbil7dmFyIGU9CmIuZ2V0Q2VsbEF0KGEuZ2V0R3JhcGhYKCksYS5nZXRHcmFwaFkoKSl8fGMuY2VsbDtiLnNlbGVjdENlbGxGb3JFdmVudChlLGEuZ2V0RXZlbnQoKSl9cD0wfTtlLnJlc2V0PWZ1bmN0aW9uKCl7cD0wfTthLnB1c2goZSl9KShlKX19cmV0dXJuIG51bGwhPWE/YS5yZXZlcnNlKCk6bnVsbH07dmFyIEI9bXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5zZXRIYW5kbGVzVmlzaWJsZTtteFZlcnRleEhhbmRsZXIucHJvdG90eXBlLnNldEhhbmRsZXNWaXNpYmxlPWZ1bmN0aW9uKGEpe0IuYXBwbHkodGhpcyxhcmd1bWVudHMpO2lmKG51bGwhPXRoaXMubW92ZUhhbmRsZXMpZm9yKHZhciBiPTA7Yjx0aGlzLm1vdmVIYW5kbGVzLmxlbmd0aDtiKyspdGhpcy5tb3ZlSGFuZGxlc1tiXS5zdHlsZS52aXNpYmlsaXR5PWE/IiI6ImhpZGRlbiI7aWYobnVsbCE9dGhpcy5jb3JuZXJIYW5kbGVzKWZvcihiPTA7Yjx0aGlzLmNvcm5lckhhbmRsZXMubGVuZ3RoO2IrKyl0aGlzLmNvcm5lckhhbmRsZXNbYl0ubm9kZS5zdHlsZS52aXNpYmlsaXR5PQphPyIiOiJoaWRkZW4ifTtteFZlcnRleEhhbmRsZXIucHJvdG90eXBlLnJlZnJlc2hNb3ZlSGFuZGxlcz1mdW5jdGlvbigpe3ZhciBhPXRoaXMuZ3JhcGgubW9kZWw7aWYobnVsbCE9dGhpcy5tb3ZlSGFuZGxlcyl7Zm9yKHZhciBiPTA7Yjx0aGlzLm1vdmVIYW5kbGVzLmxlbmd0aDtiKyspdGhpcy5tb3ZlSGFuZGxlc1tiXS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMubW92ZUhhbmRsZXNbYl0pO3RoaXMubW92ZUhhbmRsZXM9bnVsbH10aGlzLm1vdmVIYW5kbGVzPVtdO2ZvcihiPTA7YjxhLmdldENoaWxkQ291bnQodGhpcy5zdGF0ZS5jZWxsKTtiKyspbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYil7aWYobnVsbCE9YiYmYS5pc1ZlcnRleChiLmNlbGwpKXt2YXIgZT1teFV0aWxzLmNyZWF0ZUltYWdlKEVkaXRvci5yb3dNb3ZlSW1hZ2UpO2Uuc3R5bGUucG9zaXRpb249ImFic29sdXRlIjtlLnN0eWxlLmN1cnNvcj0icG9pbnRlciI7ZS5zdHlsZS53aWR0aD0iN3B4IjtlLnN0eWxlLmhlaWdodD0KIjRweCI7ZS5zdHlsZS5wYWRkaW5nPSI0cHggMnB4IDRweCAycHgiO2Uucm93U3RhdGU9YjtteEV2ZW50LmFkZEdlc3R1cmVMaXN0ZW5lcnMoZSxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXt0aGlzLmdyYXBoLnBvcHVwTWVudUhhbmRsZXIuaGlkZU1lbnUoKTt0aGlzLmdyYXBoLnN0b3BFZGl0aW5nKCExKTt0aGlzLmdyYXBoLnNlbGVjdENlbGxGb3JFdmVudChiLmNlbGwsYSk7bXhFdmVudC5pc1BvcHVwVHJpZ2dlcihhKXx8KHRoaXMuZ3JhcGguZ3JhcGhIYW5kbGVyLnN0YXJ0KHRoaXMuc3RhdGUuY2VsbCxteEV2ZW50LmdldENsaWVudFgoYSksbXhFdmVudC5nZXRDbGllbnRZKGEpLHRoaXMuZ3JhcGguZ2V0U2VsZWN0aW9uQ2VsbHMoKSksdGhpcy5ncmFwaC5ncmFwaEhhbmRsZXIuY2VsbFdhc0NsaWNrZWQ9ITAsdGhpcy5ncmFwaC5pc01vdXNlVHJpZ2dlcj1teEV2ZW50LmlzTW91c2VFdmVudChhKSx0aGlzLmdyYXBoLmlzTW91c2VEb3duPSEwKTtteEV2ZW50LmNvbnN1bWUoYSl9KSwKbnVsbCxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXtteEV2ZW50LmlzUG9wdXBUcmlnZ2VyKGEpJiYodGhpcy5ncmFwaC5wb3B1cE1lbnVIYW5kbGVyLnBvcHVwKG14RXZlbnQuZ2V0Q2xpZW50WChhKSxteEV2ZW50LmdldENsaWVudFkoYSksYi5jZWxsLGEpLG14RXZlbnQuY29uc3VtZShhKSl9KSk7dGhpcy5tb3ZlSGFuZGxlcy5wdXNoKGUpO3RoaXMuZ3JhcGguY29udGFpbmVyLmFwcGVuZENoaWxkKGUpfX0pKHRoaXMuZ3JhcGgudmlldy5nZXRTdGF0ZShhLmdldENoaWxkQXQodGhpcy5zdGF0ZS5jZWxsLGIpKSl9O214VmVydGV4SGFuZGxlci5wcm90b3R5cGUucmVmcmVzaD1mdW5jdGlvbigpe2lmKG51bGwhPXRoaXMuY3VzdG9tSGFuZGxlcyl7Zm9yKHZhciBhPTA7YTx0aGlzLmN1c3RvbUhhbmRsZXMubGVuZ3RoO2ErKyl0aGlzLmN1c3RvbUhhbmRsZXNbYV0uZGVzdHJveSgpO3RoaXMuY3VzdG9tSGFuZGxlcz10aGlzLmNyZWF0ZUN1c3RvbUhhbmRsZXMoKX10aGlzLmdyYXBoLmlzVGFibGUodGhpcy5zdGF0ZS5jZWxsKSYmCnRoaXMucmVmcmVzaE1vdmVIYW5kbGVzKCl9O3ZhciBNPW14VmVydGV4SGFuZGxlci5wcm90b3R5cGUuZ2V0SGFuZGxlUGFkZGluZztteFZlcnRleEhhbmRsZXIucHJvdG90eXBlLmdldEhhbmRsZVBhZGRpbmc9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgbXhQb2ludCgwLDApLGI9dGhpcy50b2xlcmFuY2UsZT10aGlzLnN0YXRlLnN0eWxlLnNoYXBlO251bGw9PW14Q2VsbFJlbmRlcmVyLmRlZmF1bHRTaGFwZXNbZV0mJm14U3RlbmNpbFJlZ2lzdHJ5LmdldFN0ZW5jaWwoZSk7ZT10aGlzLmdyYXBoLmlzVGFibGUodGhpcy5zdGF0ZS5jZWxsKXx8dGhpcy5ncmFwaC5jZWxsRWRpdG9yLmdldEVkaXRpbmdDZWxsKCk9PXRoaXMuc3RhdGUuY2VsbDtpZighZSYmbnVsbCE9dGhpcy5jdXN0b21IYW5kbGVzKWZvcih2YXIgYz0wO2M8dGhpcy5jdXN0b21IYW5kbGVzLmxlbmd0aDtjKyspaWYobnVsbCE9dGhpcy5jdXN0b21IYW5kbGVzW2NdLnNoYXBlJiZudWxsIT10aGlzLmN1c3RvbUhhbmRsZXNbY10uc2hhcGUuYm91bmRzKXt2YXIgZD0KdGhpcy5jdXN0b21IYW5kbGVzW2NdLnNoYXBlLmJvdW5kcyxmPWQuZ2V0Q2VudGVyWCgpLGc9ZC5nZXRDZW50ZXJZKCk7aWYoTWF0aC5hYnModGhpcy5zdGF0ZS54LWYpPGQud2lkdGgvMnx8TWF0aC5hYnModGhpcy5zdGF0ZS55LWcpPGQuaGVpZ2h0LzJ8fE1hdGguYWJzKHRoaXMuc3RhdGUueCt0aGlzLnN0YXRlLndpZHRoLWYpPGQud2lkdGgvMnx8TWF0aC5hYnModGhpcy5zdGF0ZS55K3RoaXMuc3RhdGUuaGVpZ2h0LWcpPGQuaGVpZ2h0LzIpe2U9ITA7YnJlYWt9fWUmJm51bGwhPXRoaXMuc2l6ZXJzJiYwPHRoaXMuc2l6ZXJzLmxlbmd0aCYmbnVsbCE9dGhpcy5zaXplcnNbMF0/KGIvPTIsdGhpcy5ncmFwaC5pc1RhYmxlKHRoaXMuc3RhdGUuY2VsbCkmJihiKz03KSxhLng9dGhpcy5zaXplcnNbMF0uYm91bmRzLndpZHRoK2IsYS55PXRoaXMuc2l6ZXJzWzBdLmJvdW5kcy5oZWlnaHQrYik6YT1NLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gYX07bXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS51cGRhdGVIaW50PQpmdW5jdGlvbihiKXtpZih0aGlzLmluZGV4IT1teEV2ZW50LkxBQkVMX0hBTkRMRSl7bnVsbD09dGhpcy5oaW50JiYodGhpcy5oaW50PWEoKSx0aGlzLnN0YXRlLnZpZXcuZ3JhcGguY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuaGludCkpO2lmKHRoaXMuaW5kZXg9PW14RXZlbnQuUk9UQVRJT05fSEFORExFKXRoaXMuaGludC5pbm5lckhUTUw9dGhpcy5jdXJyZW50QWxwaGErIiZkZWc7IjtlbHNle2I9dGhpcy5zdGF0ZS52aWV3LnNjYWxlO3ZhciBlPXRoaXMuc3RhdGUudmlldy51bml0O3RoaXMuaGludC5pbm5lckhUTUw9ZCh0aGlzLnJvdW5kTGVuZ3RoKHRoaXMuYm91bmRzLndpZHRoL2IpLGUpKyIgeCAiK2QodGhpcy5yb3VuZExlbmd0aCh0aGlzLmJvdW5kcy5oZWlnaHQvYiksZSl9Yj1teFV0aWxzLmdldEJvdW5kaW5nQm94KHRoaXMuYm91bmRzLG51bGwhPXRoaXMuY3VycmVudEFscGhhP3RoaXMuY3VycmVudEFscGhhOnRoaXMuc3RhdGUuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfUk9UQVRJT05dfHwKIjAiKTtudWxsPT1iJiYoYj10aGlzLmJvdW5kcyk7dGhpcy5oaW50LnN0eWxlLmxlZnQ9Yi54K01hdGgucm91bmQoKGIud2lkdGgtdGhpcy5oaW50LmNsaWVudFdpZHRoKS8yKSsicHgiO3RoaXMuaGludC5zdHlsZS50b3A9Yi55K2IuaGVpZ2h0K0VkaXRvci5oaW50T2Zmc2V0KyJweCI7bnVsbCE9dGhpcy5saW5rSGludCYmKHRoaXMubGlua0hpbnQuc3R5bGUuZGlzcGxheT0ibm9uZSIpfX07bXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5yZW1vdmVIaW50PWZ1bmN0aW9uKCl7bXhHcmFwaEhhbmRsZXIucHJvdG90eXBlLnJlbW92ZUhpbnQuYXBwbHkodGhpcyxhcmd1bWVudHMpO251bGwhPXRoaXMubGlua0hpbnQmJih0aGlzLmxpbmtIaW50LnN0eWxlLmRpc3BsYXk9IiIpfTt2YXIgUD1teEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5tb3VzZU1vdmU7bXhFZGdlSGFuZGxlci5wcm90b3R5cGUubW91c2VNb3ZlPWZ1bmN0aW9uKGEsYil7UC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7bnVsbCE9CnRoaXMuZ3JhcGguZ3JhcGhIYW5kbGVyJiZudWxsIT10aGlzLmdyYXBoLmdyYXBoSGFuZGxlci5maXJzdCYmbnVsbCE9dGhpcy5saW5rSGludCYmIm5vbmUiIT10aGlzLmxpbmtIaW50LnN0eWxlLmRpc3BsYXkmJih0aGlzLmxpbmtIaW50LnN0eWxlLmRpc3BsYXk9Im5vbmUiKX07dmFyIEk9bXhFZGdlSGFuZGxlci5wcm90b3R5cGUubW91c2VVcDtteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5tb3VzZVVwPWZ1bmN0aW9uKGEsYil7SS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7bnVsbCE9dGhpcy5saW5rSGludCYmIm5vbmUiPT10aGlzLmxpbmtIaW50LnN0eWxlLmRpc3BsYXkmJih0aGlzLmxpbmtIaW50LnN0eWxlLmRpc3BsYXk9IiIpfTtteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS51cGRhdGVIaW50PWZ1bmN0aW9uKGIsZSl7bnVsbD09dGhpcy5oaW50JiYodGhpcy5oaW50PWEoKSx0aGlzLnN0YXRlLnZpZXcuZ3JhcGguY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuaGludCkpO3ZhciBjPQp0aGlzLmdyYXBoLnZpZXcudHJhbnNsYXRlLGY9dGhpcy5ncmFwaC52aWV3LnNjYWxlLGc9dGhpcy5yb3VuZExlbmd0aChlLngvZi1jLngpLGM9dGhpcy5yb3VuZExlbmd0aChlLnkvZi1jLnkpLGY9dGhpcy5ncmFwaC52aWV3LnVuaXQ7dGhpcy5oaW50LmlubmVySFRNTD1kKGcsZikrIiwgIitkKGMsZik7dGhpcy5oaW50LnN0eWxlLnZpc2liaWxpdHk9InZpc2libGUiO2lmKHRoaXMuaXNTb3VyY2V8fHRoaXMuaXNUYXJnZXQpbnVsbCE9dGhpcy5jb25zdHJhaW50SGFuZGxlci5jdXJyZW50Q29uc3RyYWludCYmbnVsbCE9dGhpcy5jb25zdHJhaW50SGFuZGxlci5jdXJyZW50Rm9jdXM/KGc9dGhpcy5jb25zdHJhaW50SGFuZGxlci5jdXJyZW50Q29uc3RyYWludC5wb2ludCx0aGlzLmhpbnQuaW5uZXJIVE1MPSJbIitNYXRoLnJvdW5kKDEwMCpnLngpKyIlLCAiK01hdGgucm91bmQoMTAwKmcueSkrIiVdIik6dGhpcy5tYXJrZXIuaGFzVmFsaWRTdGF0ZSgpJiYodGhpcy5oaW50LnN0eWxlLnZpc2liaWxpdHk9CiJoaWRkZW4iKTt0aGlzLmhpbnQuc3R5bGUubGVmdD1NYXRoLnJvdW5kKGIuZ2V0R3JhcGhYKCktdGhpcy5oaW50LmNsaWVudFdpZHRoLzIpKyJweCI7dGhpcy5oaW50LnN0eWxlLnRvcD1NYXRoLm1heChiLmdldEdyYXBoWSgpLGUueSkrRWRpdG9yLmhpbnRPZmZzZXQrInB4IjtudWxsIT10aGlzLmxpbmtIaW50JiYodGhpcy5saW5rSGludC5zdHlsZS5kaXNwbGF5PSJub25lIil9O214RWRnZUhhbmRsZXIucHJvdG90eXBlLnJlbW92ZUhpbnQ9bXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5yZW1vdmVIaW50O0hvdmVySWNvbnMucHJvdG90eXBlLm1haW5IYW5kbGU9bXhDbGllbnQuSVNfU1ZHP0dyYXBoLmNyZWF0ZVN2Z0ltYWdlKDE4LDE4LCc8Y2lyY2xlIGN4PSI5IiBjeT0iOSIgcj0iNSIgc3Ryb2tlPSIjZmZmIiBmaWxsPSInK0hvdmVySWNvbnMucHJvdG90eXBlLmFycm93RmlsbCsnIiBzdHJva2Utd2lkdGg9IjEiLz4nKTpuZXcgbXhJbWFnZShJTUFHRV9QQVRIKyIvaGFuZGxlLW1haW4ucG5nIiwKMTcsMTcpO0hvdmVySWNvbnMucHJvdG90eXBlLnNlY29uZGFyeUhhbmRsZT1teENsaWVudC5JU19TVkc/R3JhcGguY3JlYXRlU3ZnSW1hZ2UoMTYsMTYsJzxwYXRoIGQ9Im0gOCAzIEwgMTMgOCBMIDggMTMgTCAzIDggeiIgc3Ryb2tlPSIjZmZmIiBmaWxsPSIjZmNhMDAwIi8+Jyk6bmV3IG14SW1hZ2UoSU1BR0VfUEFUSCsiL2hhbmRsZS1zZWNvbmRhcnkucG5nIiwxNywxNyk7SG92ZXJJY29ucy5wcm90b3R5cGUuZml4ZWRIYW5kbGU9bXhDbGllbnQuSVNfU1ZHP0dyYXBoLmNyZWF0ZVN2Z0ltYWdlKDE4LDE4LCc8Y2lyY2xlIGN4PSI5IiBjeT0iOSIgcj0iNSIgc3Ryb2tlPSIjZmZmIiBmaWxsPSInK0hvdmVySWNvbnMucHJvdG90eXBlLmFycm93RmlsbCsnIiBzdHJva2Utd2lkdGg9IjEiLz48cGF0aCBkPSJtIDcgNyBMIDExIDExIE0gNyAxMSBMIDExIDciIHN0cm9rZT0iI2ZmZiIvPicpOm5ldyBteEltYWdlKElNQUdFX1BBVEgrIi9oYW5kbGUtZml4ZWQucG5nIiwxNywxNyk7SG92ZXJJY29ucy5wcm90b3R5cGUudGVybWluYWxIYW5kbGU9Cm14Q2xpZW50LklTX1NWRz9HcmFwaC5jcmVhdGVTdmdJbWFnZSgxOCwxOCwnPGNpcmNsZSBjeD0iOSIgY3k9IjkiIHI9IjUiIHN0cm9rZT0iI2ZmZiIgZmlsbD0iJytIb3Zlckljb25zLnByb3RvdHlwZS5hcnJvd0ZpbGwrJyIgc3Ryb2tlLXdpZHRoPSIxIi8+PGNpcmNsZSBjeD0iOSIgY3k9IjkiIHI9IjIiIHN0cm9rZT0iI2ZmZiIgZmlsbD0idHJhbnNwYXJlbnQiLz4nKTpuZXcgbXhJbWFnZShJTUFHRV9QQVRIKyIvaGFuZGxlLXRlcm1pbmFsLnBuZyIsMTcsMTcpO0hvdmVySWNvbnMucHJvdG90eXBlLnJvdGF0aW9uSGFuZGxlPW14Q2xpZW50LklTX1NWRz9HcmFwaC5jcmVhdGVTdmdJbWFnZSgxNiwxNiwnPHBhdGggc3Ryb2tlPSInK0hvdmVySWNvbnMucHJvdG90eXBlLmFycm93RmlsbCsnIiBmaWxsPSInK0hvdmVySWNvbnMucHJvdG90eXBlLmFycm93RmlsbCsnIiBkPSJNMTUuNTUgNS41NUwxMSAxdjMuMDdDNy4wNiA0LjU2IDQgNy45MiA0IDEyczMuMDUgNy40NCA3IDcuOTN2LTIuMDJjLTIuODQtLjQ4LTUtMi45NC01LTUuOTFzMi4xNi01LjQzIDUtNS45MVYxMGw0LjU1LTQuNDV6TTE5LjkzIDExYy0uMTctMS4zOS0uNzItMi43My0xLjYyLTMuODlsLTEuNDIgMS40MmMuNTQuNzUuODggMS42IDEuMDIgMi40N2gyLjAyek0xMyAxNy45djIuMDJjMS4zOS0uMTcgMi43NC0uNzEgMy45LTEuNjFsLTEuNDQtMS40NGMtLjc1LjU0LTEuNTkuODktMi40NiAxLjAzem0zLjg5LTIuNDJsMS40MiAxLjQxYy45LTEuMTYgMS40NS0yLjUgMS42Mi0zLjg5aC0yLjAyYy0uMTQuODctLjQ4IDEuNzItMS4wMiAyLjQ4eiIvPicsCjI0LDI0KTpuZXcgbXhJbWFnZShJTUFHRV9QQVRIKyIvaGFuZGxlLXJvdGF0ZS5wbmciLDE2LDE2KTtteENsaWVudC5JU19TVkcmJihteENvbnN0cmFpbnRIYW5kbGVyLnByb3RvdHlwZS5wb2ludEltYWdlPUdyYXBoLmNyZWF0ZVN2Z0ltYWdlKDUsNSwnPHBhdGggZD0ibSAwIDAgTCA1IDUgTSAwIDUgTCA1IDAiIHN0cm9rZT0iJytIb3Zlckljb25zLnByb3RvdHlwZS5hcnJvd0ZpbGwrJyIvPicpKTtteFZlcnRleEhhbmRsZXIuVEFCTEVfSEFORExFX0NPTE9SPSIjZmNhMDAwIjtteFZlcnRleEhhbmRsZXIucHJvdG90eXBlLmhhbmRsZUltYWdlPUhvdmVySWNvbnMucHJvdG90eXBlLm1haW5IYW5kbGU7bXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5zZWNvbmRhcnlIYW5kbGVJbWFnZT1Ib3Zlckljb25zLnByb3RvdHlwZS5zZWNvbmRhcnlIYW5kbGU7bXhFZGdlSGFuZGxlci5wcm90b3R5cGUuaGFuZGxlSW1hZ2U9SG92ZXJJY29ucy5wcm90b3R5cGUubWFpbkhhbmRsZTtteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS50ZXJtaW5hbEhhbmRsZUltYWdlPQpIb3Zlckljb25zLnByb3RvdHlwZS50ZXJtaW5hbEhhbmRsZTtteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5maXhlZEhhbmRsZUltYWdlPUhvdmVySWNvbnMucHJvdG90eXBlLmZpeGVkSGFuZGxlO214RWRnZUhhbmRsZXIucHJvdG90eXBlLmxhYmVsSGFuZGxlSW1hZ2U9SG92ZXJJY29ucy5wcm90b3R5cGUuc2Vjb25kYXJ5SGFuZGxlO214T3V0bGluZS5wcm90b3R5cGUuc2l6ZXJJbWFnZT1Ib3Zlckljb25zLnByb3RvdHlwZS5tYWluSGFuZGxlO251bGwhPXdpbmRvdy5TaWRlYmFyJiYoU2lkZWJhci5wcm90b3R5cGUudHJpYW5nbGVVcD1Ib3Zlckljb25zLnByb3RvdHlwZS50cmlhbmdsZVVwLFNpZGViYXIucHJvdG90eXBlLnRyaWFuZ2xlUmlnaHQ9SG92ZXJJY29ucy5wcm90b3R5cGUudHJpYW5nbGVSaWdodCxTaWRlYmFyLnByb3RvdHlwZS50cmlhbmdsZURvd249SG92ZXJJY29ucy5wcm90b3R5cGUudHJpYW5nbGVEb3duLFNpZGViYXIucHJvdG90eXBlLnRyaWFuZ2xlTGVmdD1Ib3Zlckljb25zLnByb3RvdHlwZS50cmlhbmdsZUxlZnQsClNpZGViYXIucHJvdG90eXBlLnJlZnJlc2hUYXJnZXQ9SG92ZXJJY29ucy5wcm90b3R5cGUucmVmcmVzaFRhcmdldCxTaWRlYmFyLnByb3RvdHlwZS5yb3VuZERyb3A9SG92ZXJJY29ucy5wcm90b3R5cGUucm91bmREcm9wKTtteENsaWVudC5JU19TVkd8fCgobmV3IEltYWdlKS5zcmM9SG92ZXJJY29ucy5wcm90b3R5cGUubWFpbkhhbmRsZS5zcmMsKG5ldyBJbWFnZSkuc3JjPUhvdmVySWNvbnMucHJvdG90eXBlLmZpeGVkSGFuZGxlLnNyYywobmV3IEltYWdlKS5zcmM9SG92ZXJJY29ucy5wcm90b3R5cGUudGVybWluYWxIYW5kbGUuc3JjLChuZXcgSW1hZ2UpLnNyYz1Ib3Zlckljb25zLnByb3RvdHlwZS5zZWNvbmRhcnlIYW5kbGUuc3JjLChuZXcgSW1hZ2UpLnNyYz1Ib3Zlckljb25zLnByb3RvdHlwZS5yb3RhdGlvbkhhbmRsZS5zcmMsKG5ldyBJbWFnZSkuc3JjPUhvdmVySWNvbnMucHJvdG90eXBlLnRyaWFuZ2xlVXAuc3JjLChuZXcgSW1hZ2UpLnNyYz1Ib3Zlckljb25zLnByb3RvdHlwZS50cmlhbmdsZVJpZ2h0LnNyYywKKG5ldyBJbWFnZSkuc3JjPUhvdmVySWNvbnMucHJvdG90eXBlLnRyaWFuZ2xlRG93bi5zcmMsKG5ldyBJbWFnZSkuc3JjPUhvdmVySWNvbnMucHJvdG90eXBlLnRyaWFuZ2xlTGVmdC5zcmMsKG5ldyBJbWFnZSkuc3JjPUhvdmVySWNvbnMucHJvdG90eXBlLnJlZnJlc2hUYXJnZXQuc3JjLChuZXcgSW1hZ2UpLnNyYz1Ib3Zlckljb25zLnByb3RvdHlwZS5yb3VuZERyb3Auc3JjKTtteFZlcnRleEhhbmRsZXIucHJvdG90eXBlLnJvdGF0aW9uRW5hYmxlZD0hMDtteFZlcnRleEhhbmRsZXIucHJvdG90eXBlLm1hbmFnZVNpemVycz0hMDtteFZlcnRleEhhbmRsZXIucHJvdG90eXBlLmxpdmVQcmV2aWV3PSEwO214R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5tYXhMaXZlUHJldmlldz0xNjtteFJ1YmJlcmJhbmQucHJvdG90eXBlLmRlZmF1bHRPcGFjaXR5PTMwO214Q29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLm91dGxpbmVDb25uZWN0PSEwO214Q2VsbEhpZ2hsaWdodC5wcm90b3R5cGUua2VlcE9uVG9wPQohMDtteFZlcnRleEhhbmRsZXIucHJvdG90eXBlLnBhcmVudEhpZ2hsaWdodEVuYWJsZWQ9ITA7bXhFZGdlSGFuZGxlci5wcm90b3R5cGUucGFyZW50SGlnaGxpZ2h0RW5hYmxlZD0hMDtteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5kYmxDbGlja1JlbW92ZUVuYWJsZWQ9ITA7bXhFZGdlSGFuZGxlci5wcm90b3R5cGUuc3RyYWlnaHRSZW1vdmVFbmFibGVkPSEwO214RWRnZUhhbmRsZXIucHJvdG90eXBlLnZpcnR1YWxCZW5kc0VuYWJsZWQ9ITA7bXhFZGdlSGFuZGxlci5wcm90b3R5cGUubWVyZ2VSZW1vdmVFbmFibGVkPSEwO214RWRnZUhhbmRsZXIucHJvdG90eXBlLm1hbmFnZUxhYmVsSGFuZGxlPSEwO214RWRnZUhhbmRsZXIucHJvdG90eXBlLm91dGxpbmVDb25uZWN0PSEwO214RWRnZUhhbmRsZXIucHJvdG90eXBlLmlzQWRkVmlydHVhbEJlbmRFdmVudD1mdW5jdGlvbihhKXtyZXR1cm4hbXhFdmVudC5pc1NoaWZ0RG93bihhLmdldEV2ZW50KCkpfTtteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5pc0N1c3RvbUhhbmRsZUV2ZW50PQpmdW5jdGlvbihhKXtyZXR1cm4hbXhFdmVudC5pc1NoaWZ0RG93bihhLmdldEV2ZW50KCkpfTtpZihHcmFwaC50b3VjaFN0eWxlKXtpZihteENsaWVudC5JU19UT1VDSHx8MDxuYXZpZ2F0b3IubWF4VG91Y2hQb2ludHN8fDA8bmF2aWdhdG9yLm1zTWF4VG91Y2hQb2ludHMpbXhTaGFwZS5wcm90b3R5cGUuc3ZnU3Ryb2tlVG9sZXJhbmNlPTE4LG14VmVydGV4SGFuZGxlci5wcm90b3R5cGUudG9sZXJhbmNlPTEyLG14RWRnZUhhbmRsZXIucHJvdG90eXBlLnRvbGVyYW5jZT0xMixHcmFwaC5wcm90b3R5cGUudG9sZXJhbmNlPTEyLG14VmVydGV4SGFuZGxlci5wcm90b3R5cGUucm90YXRpb25IYW5kbGVWU3BhY2luZz0tMTYsbXhDb25zdHJhaW50SGFuZGxlci5wcm90b3R5cGUuZ2V0VG9sZXJhbmNlPWZ1bmN0aW9uKGEpe3JldHVybiBteEV2ZW50LmlzTW91c2VFdmVudChhLmdldEV2ZW50KCkpPzQ6dGhpcy5ncmFwaC5nZXRUb2xlcmFuY2UoKX07bXhQYW5uaW5nSGFuZGxlci5wcm90b3R5cGUuaXNQYW5uaW5nVHJpZ2dlcj0KZnVuY3Rpb24oYSl7dmFyIGI9YS5nZXRFdmVudCgpO3JldHVybiBudWxsPT1hLmdldFN0YXRlKCkmJiFteEV2ZW50LmlzTW91c2VFdmVudChiKXx8bXhFdmVudC5pc1BvcHVwVHJpZ2dlcihiKSYmKG51bGw9PWEuZ2V0U3RhdGUoKXx8bXhFdmVudC5pc0NvbnRyb2xEb3duKGIpfHxteEV2ZW50LmlzU2hpZnREb3duKGIpKX07dmFyIFI9bXhHcmFwaEhhbmRsZXIucHJvdG90eXBlLm1vdXNlRG93bjtteEdyYXBoSGFuZGxlci5wcm90b3R5cGUubW91c2VEb3duPWZ1bmN0aW9uKGEsYil7Ui5hcHBseSh0aGlzLGFyZ3VtZW50cyk7bXhFdmVudC5pc1RvdWNoRXZlbnQoYi5nZXRFdmVudCgpKSYmdGhpcy5ncmFwaC5pc0NlbGxTZWxlY3RlZChiLmdldENlbGwoKSkmJjE8dGhpcy5ncmFwaC5nZXRTZWxlY3Rpb25Db3VudCgpJiYodGhpcy5kZWxheWVkU2VsZWN0aW9uPSExKX19ZWxzZSBteFBhbm5pbmdIYW5kbGVyLnByb3RvdHlwZS5pc1Bhbm5pbmdUcmlnZ2VyPWZ1bmN0aW9uKGEpe3ZhciBiPQphLmdldEV2ZW50KCk7cmV0dXJuIG14RXZlbnQuaXNMZWZ0TW91c2VCdXR0b24oYikmJih0aGlzLnVzZUxlZnRCdXR0b25Gb3JQYW5uaW5nJiZudWxsPT1hLmdldFN0YXRlKCl8fG14RXZlbnQuaXNDb250cm9sRG93bihiKSYmIW14RXZlbnQuaXNTaGlmdERvd24oYikpfHx0aGlzLnVzZVBvcHVwVHJpZ2dlciYmbXhFdmVudC5pc1BvcHVwVHJpZ2dlcihiKX07bXhSdWJiZXJiYW5kLnByb3RvdHlwZS5pc1NwYWNlRXZlbnQ9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZ3JhcGguaXNFbmFibGVkKCkmJiF0aGlzLmdyYXBoLmlzQ2VsbExvY2tlZCh0aGlzLmdyYXBoLmdldERlZmF1bHRQYXJlbnQoKSkmJm14RXZlbnQuaXNDb250cm9sRG93bihhLmdldEV2ZW50KCkpJiZteEV2ZW50LmlzU2hpZnREb3duKGEuZ2V0RXZlbnQoKSl9O214UnViYmVyYmFuZC5wcm90b3R5cGUuY2FuY2VsbGVkPSExO214UnViYmVyYmFuZC5wcm90b3R5cGUuY2FuY2VsPWZ1bmN0aW9uKCl7dGhpcy5pc0FjdGl2ZSgpJiYKKHRoaXMuY2FuY2VsbGVkPSEwLHRoaXMucmVzZXQoKSl9O214UnViYmVyYmFuZC5wcm90b3R5cGUubW91c2VVcD1mdW5jdGlvbihhLGIpe2lmKHRoaXMuY2FuY2VsbGVkKXRoaXMuY2FuY2VsbGVkPSExLGIuY29uc3VtZSgpO2Vsc2V7dmFyIGU9bnVsbCE9dGhpcy5kaXYmJiJub25lIiE9dGhpcy5kaXYuc3R5bGUuZGlzcGxheSxjPW51bGwsZD1udWxsLGY9bnVsbCxnPW51bGw7bnVsbCE9dGhpcy5maXJzdCYmbnVsbCE9dGhpcy5jdXJyZW50WCYmbnVsbCE9dGhpcy5jdXJyZW50WSYmKGM9dGhpcy5maXJzdC54LGQ9dGhpcy5maXJzdC55LGY9KHRoaXMuY3VycmVudFgtYykvdGhpcy5ncmFwaC52aWV3LnNjYWxlLGc9KHRoaXMuY3VycmVudFktZCkvdGhpcy5ncmFwaC52aWV3LnNjYWxlLG14RXZlbnQuaXNBbHREb3duKGIuZ2V0RXZlbnQoKSl8fChmPXRoaXMuZ3JhcGguc25hcChmKSxnPXRoaXMuZ3JhcGguc25hcChnKSx0aGlzLmdyYXBoLmlzR3JpZEVuYWJsZWQoKXx8KE1hdGguYWJzKGYpPAp0aGlzLmdyYXBoLnRvbGVyYW5jZSYmKGY9MCksTWF0aC5hYnMoZyk8dGhpcy5ncmFwaC50b2xlcmFuY2UmJihnPTApKSkpO3RoaXMucmVzZXQoKTtpZihlKXtpZihteEV2ZW50LmlzQWx0RG93bihiLmdldEV2ZW50KCkpJiZ0aGlzLmdyYXBoLmlzVG9nZ2xlRXZlbnQoYi5nZXRFdmVudCgpKSl7dmFyIGY9bmV3IG14UmVjdGFuZ2xlKHRoaXMueCx0aGlzLnksdGhpcy53aWR0aCx0aGlzLmhlaWdodCksbD10aGlzLmdyYXBoLmdldENlbGxzKGYueCxmLnksZi53aWR0aCxmLmhlaWdodCk7dGhpcy5ncmFwaC5yZW1vdmVTZWxlY3Rpb25DZWxscyhsKX1lbHNlIGlmKHRoaXMuaXNTcGFjZUV2ZW50KGIpKXt0aGlzLmdyYXBoLm1vZGVsLmJlZ2luVXBkYXRlKCk7dHJ5e2ZvcihsPXRoaXMuZ3JhcGguZ2V0Q2VsbHNCZXlvbmQoYyxkLHRoaXMuZ3JhcGguZ2V0RGVmYXVsdFBhcmVudCgpLCEwLCEwKSxlPTA7ZTxsLmxlbmd0aDtlKyspaWYodGhpcy5ncmFwaC5pc0NlbGxNb3ZhYmxlKGxbZV0pKXt2YXIgcD0KdGhpcy5ncmFwaC52aWV3LmdldFN0YXRlKGxbZV0pLHU9dGhpcy5ncmFwaC5nZXRDZWxsR2VvbWV0cnkobFtlXSk7bnVsbCE9cCYmbnVsbCE9dSYmKHU9dS5jbG9uZSgpLHUudHJhbnNsYXRlKGYsZyksdGhpcy5ncmFwaC5tb2RlbC5zZXRHZW9tZXRyeShsW2VdLHUpKX19ZmluYWxseXt0aGlzLmdyYXBoLm1vZGVsLmVuZFVwZGF0ZSgpfX1lbHNlIGY9bmV3IG14UmVjdGFuZ2xlKHRoaXMueCx0aGlzLnksdGhpcy53aWR0aCx0aGlzLmhlaWdodCksdGhpcy5ncmFwaC5zZWxlY3RSZWdpb24oZixiLmdldEV2ZW50KCkpO2IuY29uc3VtZSgpfX19O214UnViYmVyYmFuZC5wcm90b3R5cGUubW91c2VNb3ZlPWZ1bmN0aW9uKGEsYil7aWYoIWIuaXNDb25zdW1lZCgpJiZudWxsIT10aGlzLmZpcnN0KXt2YXIgZT1teFV0aWxzLmdldFNjcm9sbE9yaWdpbih0aGlzLmdyYXBoLmNvbnRhaW5lciksYz1teFV0aWxzLmdldE9mZnNldCh0aGlzLmdyYXBoLmNvbnRhaW5lcik7ZS54LT1jLng7ZS55LT1jLnk7CnZhciBjPWIuZ2V0WCgpK2UueCxlPWIuZ2V0WSgpK2UueSxkPXRoaXMuZmlyc3QueC1jLGY9dGhpcy5maXJzdC55LWUsZz10aGlzLmdyYXBoLnRvbGVyYW5jZTtpZihudWxsIT10aGlzLmRpdnx8TWF0aC5hYnMoZCk+Z3x8TWF0aC5hYnMoZik+ZyludWxsPT10aGlzLmRpdiYmKHRoaXMuZGl2PXRoaXMuY3JlYXRlU2hhcGUoKSksbXhVdGlscy5jbGVhclNlbGVjdGlvbigpLHRoaXMudXBkYXRlKGMsZSksdGhpcy5pc1NwYWNlRXZlbnQoYik/KGM9dGhpcy54K3RoaXMud2lkdGgsZT10aGlzLnkrdGhpcy5oZWlnaHQsZD10aGlzLmdyYXBoLnZpZXcuc2NhbGUsbXhFdmVudC5pc0FsdERvd24oYi5nZXRFdmVudCgpKXx8KHRoaXMud2lkdGg9dGhpcy5ncmFwaC5zbmFwKHRoaXMud2lkdGgvZCkqZCx0aGlzLmhlaWdodD10aGlzLmdyYXBoLnNuYXAodGhpcy5oZWlnaHQvZCkqZCx0aGlzLmdyYXBoLmlzR3JpZEVuYWJsZWQoKXx8KHRoaXMud2lkdGg8dGhpcy5ncmFwaC50b2xlcmFuY2UmJih0aGlzLndpZHRoPQowKSx0aGlzLmhlaWdodDx0aGlzLmdyYXBoLnRvbGVyYW5jZSYmKHRoaXMuaGVpZ2h0PTApKSx0aGlzLng8dGhpcy5maXJzdC54JiYodGhpcy54PWMtdGhpcy53aWR0aCksdGhpcy55PHRoaXMuZmlyc3QueSYmKHRoaXMueT1lLXRoaXMuaGVpZ2h0KSksdGhpcy5kaXYuc3R5bGUuYm9yZGVyU3R5bGU9ImRhc2hlZCIsdGhpcy5kaXYuc3R5bGUuYmFja2dyb3VuZENvbG9yPSJ3aGl0ZSIsdGhpcy5kaXYuc3R5bGUubGVmdD10aGlzLngrInB4Iix0aGlzLmRpdi5zdHlsZS50b3A9dGhpcy55KyJweCIsdGhpcy5kaXYuc3R5bGUud2lkdGg9TWF0aC5tYXgoMCx0aGlzLndpZHRoKSsicHgiLHRoaXMuZGl2LnN0eWxlLmhlaWdodD10aGlzLmdyYXBoLmNvbnRhaW5lci5jbGllbnRIZWlnaHQrInB4Iix0aGlzLmRpdi5zdHlsZS5ib3JkZXJXaWR0aD0wPj10aGlzLndpZHRoPyIwcHggMXB4IDBweCAwcHgiOiIwcHggMXB4IDBweCAxcHgiLG51bGw9PXRoaXMuc2Vjb25kRGl2JiYodGhpcy5zZWNvbmREaXY9CnRoaXMuZGl2LmNsb25lTm9kZSghMCksdGhpcy5kaXYucGFyZW50Tm9kZS5hcHBlbmRDaGlsZCh0aGlzLnNlY29uZERpdikpLHRoaXMuc2Vjb25kRGl2LnN0eWxlLmxlZnQ9dGhpcy54KyJweCIsdGhpcy5zZWNvbmREaXYuc3R5bGUudG9wPXRoaXMueSsicHgiLHRoaXMuc2Vjb25kRGl2LnN0eWxlLndpZHRoPXRoaXMuZ3JhcGguY29udGFpbmVyLmNsaWVudFdpZHRoKyJweCIsdGhpcy5zZWNvbmREaXYuc3R5bGUuaGVpZ2h0PU1hdGgubWF4KDAsdGhpcy5oZWlnaHQpKyJweCIsdGhpcy5zZWNvbmREaXYuc3R5bGUuYm9yZGVyV2lkdGg9MD49dGhpcy5oZWlnaHQ/IjFweCAwcHggMHB4IDBweCI6IjFweCAwcHggMXB4IDBweCIpOih0aGlzLmRpdi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9IiIsdGhpcy5kaXYuc3R5bGUuYm9yZGVyV2lkdGg9IiIsdGhpcy5kaXYuc3R5bGUuYm9yZGVyU3R5bGU9IiIsbnVsbCE9dGhpcy5zZWNvbmREaXYmJih0aGlzLnNlY29uZERpdi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuc2Vjb25kRGl2KSwKdGhpcy5zZWNvbmREaXY9bnVsbCkpLGIuY29uc3VtZSgpfX07dmFyIGVhPW14UnViYmVyYmFuZC5wcm90b3R5cGUucmVzZXQ7bXhSdWJiZXJiYW5kLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe251bGwhPXRoaXMuc2Vjb25kRGl2JiYodGhpcy5zZWNvbmREaXYucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLnNlY29uZERpdiksdGhpcy5zZWNvbmREaXY9bnVsbCk7ZWEuYXBwbHkodGhpcyxhcmd1bWVudHMpfTt2YXIgZmE9KG5ldyBEYXRlKS5nZXRUaW1lKCksWT0wLFo9bXhFZGdlSGFuZGxlci5wcm90b3R5cGUudXBkYXRlUHJldmlld1N0YXRlO214RWRnZUhhbmRsZXIucHJvdG90eXBlLnVwZGF0ZVByZXZpZXdTdGF0ZT1mdW5jdGlvbihhLGIsZSxjKXtaLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtlIT10aGlzLmN1cnJlbnRUZXJtaW5hbFN0YXRlPyhmYT0obmV3IERhdGUpLmdldFRpbWUoKSxZPTApOlk9KG5ldyBEYXRlKS5nZXRUaW1lKCktZmE7dGhpcy5jdXJyZW50VGVybWluYWxTdGF0ZT0KZX07dmFyIFg9bXhFZGdlSGFuZGxlci5wcm90b3R5cGUuaXNPdXRsaW5lQ29ubmVjdEV2ZW50O214RWRnZUhhbmRsZXIucHJvdG90eXBlLmlzT3V0bGluZUNvbm5lY3RFdmVudD1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9dGhpcy5jdXJyZW50VGVybWluYWxTdGF0ZSYmYS5nZXRTdGF0ZSgpPT10aGlzLmN1cnJlbnRUZXJtaW5hbFN0YXRlJiYyRTM8WXx8KG51bGw9PXRoaXMuY3VycmVudFRlcm1pbmFsU3RhdGV8fCIwIiE9bXhVdGlscy5nZXRWYWx1ZSh0aGlzLmN1cnJlbnRUZXJtaW5hbFN0YXRlLnN0eWxlLCJvdXRsaW5lQ29ubmVjdCIsIjEiKSkmJlguYXBwbHkodGhpcyxhcmd1bWVudHMpfTtteEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5jcmVhdGVIYW5kbGVTaGFwZT1mdW5jdGlvbihhLGIpe3ZhciBlPW51bGwhPWEmJjA9PWEsYz10aGlzLnN0YXRlLmdldFZpc2libGVUZXJtaW5hbFN0YXRlKGUpLGQ9bnVsbCE9YSYmKDA9PWF8fGE+PXRoaXMuc3RhdGUuYWJzb2x1dGVQb2ludHMubGVuZ3RoLQoxfHx0aGlzLmNvbnN0cnVjdG9yPT1teEVsYm93RWRnZUhhbmRsZXImJjI9PWEpP3RoaXMuZ3JhcGguZ2V0Q29ubmVjdGlvbkNvbnN0cmFpbnQodGhpcy5zdGF0ZSxjLGUpOm51bGwsZT1udWxsIT0obnVsbCE9ZD90aGlzLmdyYXBoLmdldENvbm5lY3Rpb25Qb2ludCh0aGlzLnN0YXRlLmdldFZpc2libGVUZXJtaW5hbFN0YXRlKGUpLGQpOm51bGwpP3RoaXMuZml4ZWRIYW5kbGVJbWFnZTpudWxsIT1kJiZudWxsIT1jP3RoaXMudGVybWluYWxIYW5kbGVJbWFnZTp0aGlzLmhhbmRsZUltYWdlO2lmKG51bGwhPWUpcmV0dXJuIGU9bmV3IG14SW1hZ2VTaGFwZShuZXcgbXhSZWN0YW5nbGUoMCwwLGUud2lkdGgsZS5oZWlnaHQpLGUuc3JjKSxlLnByZXNlcnZlSW1hZ2VBc3BlY3Q9ITEsZTtlPW14Q29uc3RhbnRzLkhBTkRMRV9TSVpFO3RoaXMucHJlZmVySHRtbCYmLS1lO3JldHVybiBuZXcgbXhSZWN0YW5nbGVTaGFwZShuZXcgbXhSZWN0YW5nbGUoMCwwLGUsZSksbXhDb25zdGFudHMuSEFORExFX0ZJTExDT0xPUiwKbXhDb25zdGFudHMuSEFORExFX1NUUk9LRUNPTE9SKX07dmFyIGFhPW14VmVydGV4SGFuZGxlci5wcm90b3R5cGUuY3JlYXRlU2l6ZXJTaGFwZTtteFZlcnRleEhhbmRsZXIucHJvdG90eXBlLmNyZWF0ZVNpemVyU2hhcGU9ZnVuY3Rpb24oYSxiLGUpe3RoaXMuaGFuZGxlSW1hZ2U9Yj09bXhFdmVudC5ST1RBVElPTl9IQU5ETEU/SG92ZXJJY29ucy5wcm90b3R5cGUucm90YXRpb25IYW5kbGU6Yj09bXhFdmVudC5MQUJFTF9IQU5ETEU/dGhpcy5zZWNvbmRhcnlIYW5kbGVJbWFnZTp0aGlzLmhhbmRsZUltYWdlO3JldHVybiBhYS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O3ZhciBnYT1teEdyYXBoSGFuZGxlci5wcm90b3R5cGUuZ2V0Qm91bmRpbmdCb3g7bXhHcmFwaEhhbmRsZXIucHJvdG90eXBlLmdldEJvdW5kaW5nQm94PWZ1bmN0aW9uKGEpe2lmKG51bGwhPWEmJjE9PWEubGVuZ3RoKXt2YXIgYj10aGlzLmdyYXBoLmdldE1vZGVsKCksZT1iLmdldFBhcmVudChhWzBdKSxjPXRoaXMuZ3JhcGguZ2V0Q2VsbEdlb21ldHJ5KGFbMF0pOwppZihiLmlzRWRnZShlKSYmbnVsbCE9YyYmYy5yZWxhdGl2ZSYmKGI9dGhpcy5ncmFwaC52aWV3LmdldFN0YXRlKGFbMF0pLG51bGwhPWImJjI+Yi53aWR0aCYmMj5iLmhlaWdodCYmbnVsbCE9Yi50ZXh0JiZudWxsIT1iLnRleHQuYm91bmRpbmdCb3gpKXJldHVybiBteFJlY3RhbmdsZS5mcm9tUmVjdGFuZ2xlKGIudGV4dC5ib3VuZGluZ0JveCl9cmV0dXJuIGdhLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07dmFyIGRhPW14R3JhcGhIYW5kbGVyLnByb3RvdHlwZS5nZXRHdWlkZVN0YXRlcztteEdyYXBoSGFuZGxlci5wcm90b3R5cGUuZ2V0R3VpZGVTdGF0ZXM9ZnVuY3Rpb24oKXtmb3IodmFyIGE9ZGEuYXBwbHkodGhpcyxhcmd1bWVudHMpLGI9W10sZT0wO2U8YS5sZW5ndGg7ZSsrKSIxIiE9bXhVdGlscy5nZXRWYWx1ZShhW2VdLnN0eWxlLCJwYXJ0IiwiMCIpJiZiLnB1c2goYVtlXSk7cmV0dXJuIGJ9O3ZhciBVPW14VmVydGV4SGFuZGxlci5wcm90b3R5cGUuZ2V0U2VsZWN0aW9uQm91bmRzOwpteFZlcnRleEhhbmRsZXIucHJvdG90eXBlLmdldFNlbGVjdGlvbkJvdW5kcz1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmdyYXBoLmdldE1vZGVsKCksZT1iLmdldFBhcmVudChhLmNlbGwpLGM9dGhpcy5ncmFwaC5nZXRDZWxsR2VvbWV0cnkoYS5jZWxsKTtyZXR1cm4gYi5pc0VkZ2UoZSkmJm51bGwhPWMmJmMucmVsYXRpdmUmJjI+YS53aWR0aCYmMj5hLmhlaWdodCYmbnVsbCE9YS50ZXh0JiZudWxsIT1hLnRleHQuYm91bmRpbmdCb3g/KGI9YS50ZXh0LnVucm90YXRlZEJvdW5kaW5nQm94fHxhLnRleHQuYm91bmRpbmdCb3gsbmV3IG14UmVjdGFuZ2xlKE1hdGgucm91bmQoYi54KSxNYXRoLnJvdW5kKGIueSksTWF0aC5yb3VuZChiLndpZHRoKSxNYXRoLnJvdW5kKGIuaGVpZ2h0KSkpOlUuYXBwbHkodGhpcyxhcmd1bWVudHMpfTt2YXIgY2E9bXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5tb3VzZURvd247bXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5tb3VzZURvd249ZnVuY3Rpb24oYSwKYil7dmFyIGU9dGhpcy5ncmFwaC5nZXRNb2RlbCgpLGM9ZS5nZXRQYXJlbnQodGhpcy5zdGF0ZS5jZWxsKSxkPXRoaXMuZ3JhcGguZ2V0Q2VsbEdlb21ldHJ5KHRoaXMuc3RhdGUuY2VsbCk7KHRoaXMuZ2V0SGFuZGxlRm9yRXZlbnQoYik9PW14RXZlbnQuUk9UQVRJT05fSEFORExFfHwhZS5pc0VkZ2UoYyl8fG51bGw9PWR8fCFkLnJlbGF0aXZlfHxudWxsPT10aGlzLnN0YXRlfHwyPD10aGlzLnN0YXRlLndpZHRofHwyPD10aGlzLnN0YXRlLmhlaWdodCkmJmNhLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07bXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5yb3RhdGVDbGljaz1mdW5jdGlvbigpe3ZhciBhPW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdGF0ZS5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9TVFJPS0VDT0xPUixteENvbnN0YW50cy5OT05FKSxiPW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdGF0ZS5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9GSUxMQ09MT1IsbXhDb25zdGFudHMuTk9ORSk7CnRoaXMuc3RhdGUudmlldy5ncmFwaC5tb2RlbC5pc1ZlcnRleCh0aGlzLnN0YXRlLmNlbGwpJiZhPT1teENvbnN0YW50cy5OT05FJiZiPT1teENvbnN0YW50cy5OT05FPyhhPW14VXRpbHMubW9kKG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdGF0ZS5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9ST1RBVElPTiwwKSs5MCwzNjApLHRoaXMuc3RhdGUudmlldy5ncmFwaC5zZXRDZWxsU3R5bGVzKG14Q29uc3RhbnRzLlNUWUxFX1JPVEFUSU9OLGEsW3RoaXMuc3RhdGUuY2VsbF0pKTp0aGlzLnN0YXRlLnZpZXcuZ3JhcGgudHVyblNoYXBlcyhbdGhpcy5zdGF0ZS5jZWxsXSl9O3ZhciBRPW14VmVydGV4SGFuZGxlci5wcm90b3R5cGUubW91c2VNb3ZlO214VmVydGV4SGFuZGxlci5wcm90b3R5cGUubW91c2VNb3ZlPWZ1bmN0aW9uKGEsYil7US5hcHBseSh0aGlzLGFyZ3VtZW50cyk7bnVsbCE9dGhpcy5ncmFwaC5ncmFwaEhhbmRsZXIuZmlyc3QmJihudWxsIT10aGlzLnJvdGF0aW9uU2hhcGUmJgpudWxsIT10aGlzLnJvdGF0aW9uU2hhcGUubm9kZSYmKHRoaXMucm90YXRpb25TaGFwZS5ub2RlLnN0eWxlLmRpc3BsYXk9Im5vbmUiKSxudWxsIT10aGlzLmxpbmtIaW50JiYibm9uZSIhPXRoaXMubGlua0hpbnQuc3R5bGUuZGlzcGxheSYmKHRoaXMubGlua0hpbnQuc3R5bGUuZGlzcGxheT0ibm9uZSIpKX07dmFyIEw9bXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5tb3VzZVVwO214VmVydGV4SGFuZGxlci5wcm90b3R5cGUubW91c2VVcD1mdW5jdGlvbihhLGIpe0wuYXBwbHkodGhpcyxhcmd1bWVudHMpO251bGwhPXRoaXMucm90YXRpb25TaGFwZSYmbnVsbCE9dGhpcy5yb3RhdGlvblNoYXBlLm5vZGUmJih0aGlzLnJvdGF0aW9uU2hhcGUubm9kZS5zdHlsZS5kaXNwbGF5PTE9PXRoaXMuZ3JhcGguZ2V0U2VsZWN0aW9uQ291bnQoKT8iIjoibm9uZSIpO251bGwhPXRoaXMubGlua0hpbnQmJiJub25lIj09dGhpcy5saW5rSGludC5zdHlsZS5kaXNwbGF5JiYodGhpcy5saW5rSGludC5zdHlsZS5kaXNwbGF5PQoiIik7dGhpcy5ibG9ja0RlbGF5ZWRTZWxlY3Rpb249bnVsbH07dmFyIGphPW14VmVydGV4SGFuZGxlci5wcm90b3R5cGUuaW5pdDtteFZlcnRleEhhbmRsZXIucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oKXtqYS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dmFyIGE9ITE7bnVsbCE9dGhpcy5yb3RhdGlvblNoYXBlJiZ0aGlzLnJvdGF0aW9uU2hhcGUubm9kZS5zZXRBdHRyaWJ1dGUoInRpdGxlIixteFJlc291cmNlcy5nZXQoInJvdGF0ZVRvb2x0aXAiKSk7aWYodGhpcy5ncmFwaC5pc1RhYmxlKHRoaXMuc3RhdGUuY2VsbCkpdGhpcy5yZWZyZXNoTW92ZUhhbmRsZXMoKTtlbHNlIGlmKDE9PXRoaXMuZ3JhcGguZ2V0U2VsZWN0aW9uQ291bnQoKSYmKHRoaXMuZ3JhcGguaXNUYWJsZUNlbGwodGhpcy5zdGF0ZS5jZWxsKXx8dGhpcy5ncmFwaC5pc1RhYmxlUm93KHRoaXMuc3RhdGUuY2VsbCkpKXt0aGlzLmNvcm5lckhhbmRsZXM9W107Zm9yKHZhciBiPTA7ND5iO2IrKyl7dmFyIGU9bmV3IG14UmVjdGFuZ2xlU2hhcGUobmV3IG14UmVjdGFuZ2xlKDAsCjAsNiw2KSwiI2ZmZmZmZiIsbXhDb25zdGFudHMuSEFORExFX1NUUk9LRUNPTE9SKTtlLmRpYWxlY3Q9dGhpcy5ncmFwaC5kaWFsZWN0IT1teENvbnN0YW50cy5ESUFMRUNUX1NWRz9teENvbnN0YW50cy5ESUFMRUNUX1ZNTDpteENvbnN0YW50cy5ESUFMRUNUX1NWRztlLmluaXQodGhpcy5ncmFwaC52aWV3LmdldE92ZXJsYXlQYW5lKCkpO3RoaXMuY29ybmVySGFuZGxlcy5wdXNoKGUpfX12YXIgYz1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe251bGwhPXRoaXMuc3BlY2lhbEhhbmRsZSYmKHRoaXMuc3BlY2lhbEhhbmRsZS5ub2RlLnN0eWxlLmRpc3BsYXk9dGhpcy5ncmFwaC5pc0VuYWJsZWQoKSYmdGhpcy5ncmFwaC5nZXRTZWxlY3Rpb25Db3VudCgpPHRoaXMuZ3JhcGguZ3JhcGhIYW5kbGVyLm1heENlbGxzPyIiOiJub25lIik7dGhpcy5yZWRyYXdIYW5kbGVzKCl9KTt0aGlzLmNoYW5nZUhhbmRsZXI9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSxiKXt0aGlzLnVwZGF0ZUxpbmtIaW50KHRoaXMuZ3JhcGguZ2V0TGlua0ZvckNlbGwodGhpcy5zdGF0ZS5jZWxsKSwKdGhpcy5ncmFwaC5nZXRMaW5rc0ZvclN0YXRlKHRoaXMuc3RhdGUpKTtjKCl9KTt0aGlzLmdyYXBoLmdldFNlbGVjdGlvbk1vZGVsKCkuYWRkTGlzdGVuZXIobXhFdmVudC5DSEFOR0UsdGhpcy5jaGFuZ2VIYW5kbGVyKTt0aGlzLmdyYXBoLmdldE1vZGVsKCkuYWRkTGlzdGVuZXIobXhFdmVudC5DSEFOR0UsdGhpcy5jaGFuZ2VIYW5kbGVyKTt0aGlzLmVkaXRpbmdIYW5kbGVyPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEsYil7dGhpcy5yZWRyYXdIYW5kbGVzKCl9KTt0aGlzLmdyYXBoLmFkZExpc3RlbmVyKG14RXZlbnQuRURJVElOR19TVE9QUEVELHRoaXMuZWRpdGluZ0hhbmRsZXIpO2I9dGhpcy5ncmFwaC5nZXRMaW5rRm9yQ2VsbCh0aGlzLnN0YXRlLmNlbGwpO2U9dGhpcy5ncmFwaC5nZXRMaW5rc0ZvclN0YXRlKHRoaXMuc3RhdGUpO3RoaXMudXBkYXRlTGlua0hpbnQoYixlKTtpZihudWxsIT1ifHxudWxsIT1lJiYwPGUubGVuZ3RoKWE9ITA7YSYmdGhpcy5yZWRyYXdIYW5kbGVzKCl9OwpteFZlcnRleEhhbmRsZXIucHJvdG90eXBlLnVwZGF0ZUxpbmtIaW50PWZ1bmN0aW9uKGIsZSl7dHJ5e2lmKG51bGw9PWImJihudWxsPT1lfHwwPT1lLmxlbmd0aCl8fDE8dGhpcy5ncmFwaC5nZXRTZWxlY3Rpb25Db3VudCgpKW51bGwhPXRoaXMubGlua0hpbnQmJih0aGlzLmxpbmtIaW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5saW5rSGludCksdGhpcy5saW5rSGludD1udWxsKTtlbHNlIGlmKG51bGwhPWJ8fG51bGwhPWUmJjA8ZS5sZW5ndGgpe251bGw9PXRoaXMubGlua0hpbnQmJih0aGlzLmxpbmtIaW50PWEoKSx0aGlzLmxpbmtIaW50LnN0eWxlLnBhZGRpbmc9IjZweCA4cHggNnB4IDhweCIsdGhpcy5saW5rSGludC5zdHlsZS5vcGFjaXR5PSIxIix0aGlzLmxpbmtIaW50LnN0eWxlLmZpbHRlcj0iIix0aGlzLmdyYXBoLmNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLmxpbmtIaW50KSk7dGhpcy5saW5rSGludC5pbm5lckhUTUw9IiI7aWYobnVsbCE9YiYmKHRoaXMubGlua0hpbnQuYXBwZW5kQ2hpbGQodGhpcy5ncmFwaC5jcmVhdGVMaW5rRm9ySGludChiKSksCnRoaXMuZ3JhcGguaXNFbmFibGVkKCkmJiJmdW5jdGlvbiI9PT10eXBlb2YgdGhpcy5ncmFwaC5lZGl0TGluaykpe3ZhciBjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImltZyIpO2Muc2V0QXR0cmlidXRlKCJzcmMiLEVkaXRvci5lZGl0SW1hZ2UpO2Muc2V0QXR0cmlidXRlKCJ0aXRsZSIsbXhSZXNvdXJjZXMuZ2V0KCJlZGl0TGluayIpKTtjLnNldEF0dHJpYnV0ZSgid2lkdGgiLCIxMSIpO2Muc2V0QXR0cmlidXRlKCJoZWlnaHQiLCIxMSIpO2Muc3R5bGUubWFyZ2luTGVmdD0iMTBweCI7Yy5zdHlsZS5tYXJnaW5Cb3R0b209Ii0xcHgiO2Muc3R5bGUuY3Vyc29yPSJwb2ludGVyIjt0aGlzLmxpbmtIaW50LmFwcGVuZENoaWxkKGMpO214RXZlbnQuYWRkTGlzdGVuZXIoYywiY2xpY2siLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3RoaXMuZ3JhcGguc2V0U2VsZWN0aW9uQ2VsbCh0aGlzLnN0YXRlLmNlbGwpO3RoaXMuZ3JhcGguZWRpdExpbmsoKTtteEV2ZW50LmNvbnN1bWUoYSl9KSk7CnZhciBkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImltZyIpO2Quc2V0QXR0cmlidXRlKCJzcmMiLERpYWxvZy5wcm90b3R5cGUuY2xlYXJJbWFnZSk7ZC5zZXRBdHRyaWJ1dGUoInRpdGxlIixteFJlc291cmNlcy5nZXQoInJlbW92ZUl0IixbbXhSZXNvdXJjZXMuZ2V0KCJsaW5rIildKSk7ZC5zZXRBdHRyaWJ1dGUoIndpZHRoIiwiMTMiKTtkLnNldEF0dHJpYnV0ZSgiaGVpZ2h0IiwiMTAiKTtkLnN0eWxlLm1hcmdpbkxlZnQ9IjRweCI7ZC5zdHlsZS5tYXJnaW5Cb3R0b209Ii0xcHgiO2Quc3R5bGUuY3Vyc29yPSJwb2ludGVyIjt0aGlzLmxpbmtIaW50LmFwcGVuZENoaWxkKGQpO214RXZlbnQuYWRkTGlzdGVuZXIoZCwiY2xpY2siLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3RoaXMuZ3JhcGguc2V0TGlua0ZvckNlbGwodGhpcy5zdGF0ZS5jZWxsLG51bGwpO214RXZlbnQuY29uc3VtZShhKX0pKX1pZihudWxsIT1lKWZvcihjPTA7YzxlLmxlbmd0aDtjKyspe3ZhciBmPQpkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtmLnN0eWxlLm1hcmdpblRvcD1udWxsIT1ifHwwPGM/IjZweCI6IjBweCI7Zi5hcHBlbmRDaGlsZCh0aGlzLmdyYXBoLmNyZWF0ZUxpbmtGb3JIaW50KGVbY10uZ2V0QXR0cmlidXRlKCJocmVmIiksbXhVdGlscy5nZXRUZXh0Q29udGVudChlW2NdKSkpO3RoaXMubGlua0hpbnQuYXBwZW5kQ2hpbGQoZil9fX1jYXRjaChuYSl7fX07bXhFZGdlSGFuZGxlci5wcm90b3R5cGUudXBkYXRlTGlua0hpbnQ9bXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS51cGRhdGVMaW5rSGludDt2YXIgTz1teEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5pbml0O214RWRnZUhhbmRsZXIucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oKXtPLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLmNvbnN0cmFpbnRIYW5kbGVyLmlzRW5hYmxlZD1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YXRlLnZpZXcuZ3JhcGguY29ubmVjdGlvbkhhbmRsZXIuaXNFbmFibGVkKCl9KTsKdmFyIGE9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXtudWxsIT10aGlzLmxpbmtIaW50JiYodGhpcy5saW5rSGludC5zdHlsZS5kaXNwbGF5PTE9PXRoaXMuZ3JhcGguZ2V0U2VsZWN0aW9uQ291bnQoKT8iIjoibm9uZSIpO251bGwhPXRoaXMubGFiZWxTaGFwZSYmKHRoaXMubGFiZWxTaGFwZS5ub2RlLnN0eWxlLmRpc3BsYXk9dGhpcy5ncmFwaC5pc0VuYWJsZWQoKSYmdGhpcy5ncmFwaC5nZXRTZWxlY3Rpb25Db3VudCgpPHRoaXMuZ3JhcGguZ3JhcGhIYW5kbGVyLm1heENlbGxzPyIiOiJub25lIil9KTt0aGlzLmNoYW5nZUhhbmRsZXI9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYixlKXt0aGlzLnVwZGF0ZUxpbmtIaW50KHRoaXMuZ3JhcGguZ2V0TGlua0ZvckNlbGwodGhpcy5zdGF0ZS5jZWxsKSx0aGlzLmdyYXBoLmdldExpbmtzRm9yU3RhdGUodGhpcy5zdGF0ZSkpO2EoKTt0aGlzLnJlZHJhd0hhbmRsZXMoKX0pO3RoaXMuZ3JhcGguZ2V0U2VsZWN0aW9uTW9kZWwoKS5hZGRMaXN0ZW5lcihteEV2ZW50LkNIQU5HRSwKdGhpcy5jaGFuZ2VIYW5kbGVyKTt0aGlzLmdyYXBoLmdldE1vZGVsKCkuYWRkTGlzdGVuZXIobXhFdmVudC5DSEFOR0UsdGhpcy5jaGFuZ2VIYW5kbGVyKTt2YXIgYj10aGlzLmdyYXBoLmdldExpbmtGb3JDZWxsKHRoaXMuc3RhdGUuY2VsbCksZT10aGlzLmdyYXBoLmdldExpbmtzRm9yU3RhdGUodGhpcy5zdGF0ZSk7aWYobnVsbCE9Ynx8bnVsbCE9ZSYmMDxlLmxlbmd0aCl0aGlzLnVwZGF0ZUxpbmtIaW50KGIsZSksdGhpcy5yZWRyYXdIYW5kbGVzKCl9O3ZhciBTPW14Q29ubmVjdGlvbkhhbmRsZXIucHJvdG90eXBlLmluaXQ7bXhDb25uZWN0aW9uSGFuZGxlci5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbigpe1MuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuY29uc3RyYWludEhhbmRsZXIuaXNFbmFibGVkPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ3JhcGguY29ubmVjdGlvbkhhbmRsZXIuaXNFbmFibGVkKCl9KX07dmFyIGlhPW14VmVydGV4SGFuZGxlci5wcm90b3R5cGUucmVkcmF3SGFuZGxlczsKbXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5yZWRyYXdIYW5kbGVzPWZ1bmN0aW9uKCl7aWYobnVsbCE9dGhpcy5tb3ZlSGFuZGxlcylmb3IodmFyIGE9MDthPHRoaXMubW92ZUhhbmRsZXMubGVuZ3RoO2ErKyl0aGlzLm1vdmVIYW5kbGVzW2FdLnN0eWxlLmxlZnQ9dGhpcy5tb3ZlSGFuZGxlc1thXS5yb3dTdGF0ZS54K3RoaXMubW92ZUhhbmRsZXNbYV0ucm93U3RhdGUud2lkdGgtNSsicHgiLHRoaXMubW92ZUhhbmRsZXNbYV0uc3R5bGUudG9wPXRoaXMubW92ZUhhbmRsZXNbYV0ucm93U3RhdGUueSt0aGlzLm1vdmVIYW5kbGVzW2FdLnJvd1N0YXRlLmhlaWdodC8yLTYrInB4IjtpZihudWxsIT10aGlzLmNvcm5lckhhbmRsZXMpe3ZhciBhPXRoaXMuZ2V0U2VsZWN0aW9uQm9yZGVySW5zZXQoKSxiPXRoaXMuY29ybmVySGFuZGxlcyxlPWJbMF0uYm91bmRzLmhlaWdodC8yO2JbMF0uYm91bmRzLng9dGhpcy5zdGF0ZS54LWJbMF0uYm91bmRzLndpZHRoLzIrYTtiWzBdLmJvdW5kcy55PQp0aGlzLnN0YXRlLnktZSthO2JbMF0ucmVkcmF3KCk7YlsxXS5ib3VuZHMueD1iWzBdLmJvdW5kcy54K3RoaXMuc3RhdGUud2lkdGgtMiphO2JbMV0uYm91bmRzLnk9YlswXS5ib3VuZHMueTtiWzFdLnJlZHJhdygpO2JbMl0uYm91bmRzLng9YlswXS5ib3VuZHMueDtiWzJdLmJvdW5kcy55PXRoaXMuc3RhdGUueSt0aGlzLnN0YXRlLmhlaWdodC0yKmE7YlsyXS5yZWRyYXcoKTtiWzNdLmJvdW5kcy54PWJbMV0uYm91bmRzLng7YlszXS5ib3VuZHMueT1iWzJdLmJvdW5kcy55O2JbM10ucmVkcmF3KCk7Zm9yKGE9MDthPHRoaXMuY29ybmVySGFuZGxlcy5sZW5ndGg7YSsrKXRoaXMuY29ybmVySGFuZGxlc1thXS5ub2RlLnN0eWxlLmRpc3BsYXk9MT09dGhpcy5ncmFwaC5nZXRTZWxlY3Rpb25Db3VudCgpPyIiOiJub25lIn1udWxsIT10aGlzLnJvdGF0aW9uU2hhcGUmJm51bGwhPXRoaXMucm90YXRpb25TaGFwZS5ub2RlJiYodGhpcy5yb3RhdGlvblNoYXBlLm5vZGUuc3R5bGUuZGlzcGxheT0KbnVsbCE9dGhpcy5tb3ZlSGFuZGxlc3x8MSE9dGhpcy5ncmFwaC5nZXRTZWxlY3Rpb25Db3VudCgpfHxudWxsIT10aGlzLmluZGV4JiZ0aGlzLmluZGV4IT1teEV2ZW50LlJPVEFUSU9OX0hBTkRMRT8ibm9uZSI6IiIpO2lhLmFwcGx5KHRoaXMpO251bGwhPXRoaXMuc3RhdGUmJm51bGwhPXRoaXMubGlua0hpbnQmJihhPW5ldyBteFBvaW50KHRoaXMuc3RhdGUuZ2V0Q2VudGVyWCgpLHRoaXMuc3RhdGUuZ2V0Q2VudGVyWSgpKSxiPW5ldyBteFJlY3RhbmdsZSh0aGlzLnN0YXRlLngsdGhpcy5zdGF0ZS55LTIyLHRoaXMuc3RhdGUud2lkdGgrMjQsdGhpcy5zdGF0ZS5oZWlnaHQrMjIpLGU9bXhVdGlscy5nZXRCb3VuZGluZ0JveChiLHRoaXMuc3RhdGUuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfUk9UQVRJT05dfHwiMCIsYSksYT1udWxsIT1lP214VXRpbHMuZ2V0Qm91bmRpbmdCb3godGhpcy5zdGF0ZSx0aGlzLnN0YXRlLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX1JPVEFUSU9OXXx8CiIwIik6dGhpcy5zdGF0ZSxiPW51bGwhPXRoaXMuc3RhdGUudGV4dD90aGlzLnN0YXRlLnRleHQuYm91bmRpbmdCb3g6bnVsbCxudWxsPT1lJiYoZT10aGlzLnN0YXRlKSxlPWUueStlLmhlaWdodCxudWxsIT1iJiYoZT1NYXRoLm1heChlLGIueStiLmhlaWdodCkpLHRoaXMubGlua0hpbnQuc3R5bGUubGVmdD1NYXRoLm1heCgwLE1hdGgucm91bmQoYS54KyhhLndpZHRoLXRoaXMubGlua0hpbnQuY2xpZW50V2lkdGgpLzIpKSsicHgiLHRoaXMubGlua0hpbnQuc3R5bGUudG9wPU1hdGgucm91bmQoZSt0aGlzLnZlcnRpY2FsT2Zmc2V0LzIrRWRpdG9yLmhpbnRPZmZzZXQpKyJweCIpfTt2YXIgcmE9bXhWZXJ0ZXhIYW5kbGVyLnByb3RvdHlwZS5kZXN0cm95O214VmVydGV4SGFuZGxlci5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3JhLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtpZihudWxsIT10aGlzLm1vdmVIYW5kbGVzKXtmb3IodmFyIGE9MDthPHRoaXMubW92ZUhhbmRsZXMubGVuZ3RoO2ErKyl0aGlzLm1vdmVIYW5kbGVzW2FdLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5tb3ZlSGFuZGxlc1thXSk7CnRoaXMubW92ZUhhbmRsZXM9bnVsbH1pZihudWxsIT10aGlzLmNvcm5lckhhbmRsZXMpe2ZvcihhPTA7YTx0aGlzLmNvcm5lckhhbmRsZXMubGVuZ3RoO2ErKyl0aGlzLmNvcm5lckhhbmRsZXNbYV0ubm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuY29ybmVySGFuZGxlc1thXS5ub2RlKTt0aGlzLmNvcm5lckhhbmRsZXM9bnVsbH1udWxsIT10aGlzLmxpbmtIaW50JiYodGhpcy5saW5rSGludC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMubGlua0hpbnQpLHRoaXMubGlua0hpbnQ9bnVsbCk7bnVsbCE9dGhpcy5jaGFuZ2VIYW5kbGVyJiYodGhpcy5ncmFwaC5nZXRTZWxlY3Rpb25Nb2RlbCgpLnJlbW92ZUxpc3RlbmVyKHRoaXMuY2hhbmdlSGFuZGxlciksdGhpcy5ncmFwaC5nZXRNb2RlbCgpLnJlbW92ZUxpc3RlbmVyKHRoaXMuY2hhbmdlSGFuZGxlciksdGhpcy5jaGFuZ2VIYW5kbGVyPW51bGwpO251bGwhPXRoaXMuZWRpdGluZ0hhbmRsZXImJih0aGlzLmdyYXBoLnJlbW92ZUxpc3RlbmVyKHRoaXMuZWRpdGluZ0hhbmRsZXIpLAp0aGlzLmVkaXRpbmdIYW5kbGVyPW51bGwpfTt2YXIgTj1teEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5yZWRyYXdIYW5kbGVzO214RWRnZUhhbmRsZXIucHJvdG90eXBlLnJlZHJhd0hhbmRsZXM9ZnVuY3Rpb24oKXtpZihudWxsIT10aGlzLm1hcmtlciYmKE4uYXBwbHkodGhpcyksbnVsbCE9dGhpcy5zdGF0ZSYmbnVsbCE9dGhpcy5saW5rSGludCkpe3ZhciBhPXRoaXMuc3RhdGU7bnVsbCE9dGhpcy5zdGF0ZS50ZXh0JiZudWxsIT10aGlzLnN0YXRlLnRleHQuYm91bmRzJiYoYT1uZXcgbXhSZWN0YW5nbGUoYS54LGEueSxhLndpZHRoLGEuaGVpZ2h0KSxhLmFkZCh0aGlzLnN0YXRlLnRleHQuYm91bmRzKSk7dGhpcy5saW5rSGludC5zdHlsZS5sZWZ0PU1hdGgubWF4KDAsTWF0aC5yb3VuZChhLngrKGEud2lkdGgtdGhpcy5saW5rSGludC5jbGllbnRXaWR0aCkvMikpKyJweCI7dGhpcy5saW5rSGludC5zdHlsZS50b3A9TWF0aC5yb3VuZChhLnkrYS5oZWlnaHQrRWRpdG9yLmhpbnRPZmZzZXQpKwoicHgifX07dmFyIG1hPW14RWRnZUhhbmRsZXIucHJvdG90eXBlLnJlc2V0O214RWRnZUhhbmRsZXIucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7bWEuYXBwbHkodGhpcyxhcmd1bWVudHMpO251bGwhPXRoaXMubGlua0hpbnQmJih0aGlzLmxpbmtIaW50LnN0eWxlLnZpc2liaWxpdHk9IiIpfTt2YXIgVz1teEVkZ2VIYW5kbGVyLnByb3RvdHlwZS5kZXN0cm95O214RWRnZUhhbmRsZXIucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXtXLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtudWxsIT10aGlzLmxpbmtIaW50JiYodGhpcy5saW5rSGludC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMubGlua0hpbnQpLHRoaXMubGlua0hpbnQ9bnVsbCk7bnVsbCE9dGhpcy5jaGFuZ2VIYW5kbGVyJiYodGhpcy5ncmFwaC5nZXRNb2RlbCgpLnJlbW92ZUxpc3RlbmVyKHRoaXMuY2hhbmdlSGFuZGxlciksdGhpcy5ncmFwaC5nZXRTZWxlY3Rpb25Nb2RlbCgpLnJlbW92ZUxpc3RlbmVyKHRoaXMuY2hhbmdlSGFuZGxlciksCnRoaXMuY2hhbmdlSGFuZGxlcj1udWxsKX19KCk7KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYSgpe214U3dpbWxhbmUuY2FsbCh0aGlzKX1mdW5jdGlvbiBkKCl7bXhDeWxpbmRlci5jYWxsKHRoaXMpfWZ1bmN0aW9uIGYoKXtteEFjdG9yLmNhbGwodGhpcyl9ZnVuY3Rpb24gYygpe214Q3lsaW5kZXIuY2FsbCh0aGlzKX1mdW5jdGlvbiBtKCl7bXhDeWxpbmRlci5jYWxsKHRoaXMpfWZ1bmN0aW9uIGsoKXtteEN5bGluZGVyLmNhbGwodGhpcyl9ZnVuY3Rpb24gcSgpe214QWN0b3IuY2FsbCh0aGlzKX1mdW5jdGlvbiBiKCl7bXhDeWxpbmRlci5jYWxsKHRoaXMpfWZ1bmN0aW9uIGUoKXtteEFjdG9yLmNhbGwodGhpcyl9ZnVuY3Rpb24gZygpe214QWN0b3IuY2FsbCh0aGlzKX1mdW5jdGlvbiBwKCl7bXhBY3Rvci5jYWxsKHRoaXMpfWZ1bmN0aW9uIGwoKXtteEFjdG9yLmNhbGwodGhpcyl9ZnVuY3Rpb24gbigpe214QWN0b3IuY2FsbCh0aGlzKX1mdW5jdGlvbiB2KCl7bXhBY3Rvci5jYWxsKHRoaXMpfWZ1bmN0aW9uIHQoKXtteEFjdG9yLmNhbGwodGhpcyl9CmZ1bmN0aW9uIHkoYSxiKXt0aGlzLmNhbnZhcz1hO3RoaXMuY2FudmFzLnNldExpbmVKb2luKCJyb3VuZCIpO3RoaXMuY2FudmFzLnNldExpbmVDYXAoInJvdW5kIik7dGhpcy5kZWZhdWx0VmFyaWF0aW9uPWI7dGhpcy5vcmlnaW5hbExpbmVUbz10aGlzLmNhbnZhcy5saW5lVG87dGhpcy5jYW52YXMubGluZVRvPW14VXRpbHMuYmluZCh0aGlzLHkucHJvdG90eXBlLmxpbmVUbyk7dGhpcy5vcmlnaW5hbE1vdmVUbz10aGlzLmNhbnZhcy5tb3ZlVG87dGhpcy5jYW52YXMubW92ZVRvPW14VXRpbHMuYmluZCh0aGlzLHkucHJvdG90eXBlLm1vdmVUbyk7dGhpcy5vcmlnaW5hbENsb3NlPXRoaXMuY2FudmFzLmNsb3NlO3RoaXMuY2FudmFzLmNsb3NlPW14VXRpbHMuYmluZCh0aGlzLHkucHJvdG90eXBlLmNsb3NlKTt0aGlzLm9yaWdpbmFsUXVhZFRvPXRoaXMuY2FudmFzLnF1YWRUbzt0aGlzLmNhbnZhcy5xdWFkVG89bXhVdGlscy5iaW5kKHRoaXMseS5wcm90b3R5cGUucXVhZFRvKTt0aGlzLm9yaWdpbmFsQ3VydmVUbz0KdGhpcy5jYW52YXMuY3VydmVUbzt0aGlzLmNhbnZhcy5jdXJ2ZVRvPW14VXRpbHMuYmluZCh0aGlzLHkucHJvdG90eXBlLmN1cnZlVG8pO3RoaXMub3JpZ2luYWxBcmNUbz10aGlzLmNhbnZhcy5hcmNUbzt0aGlzLmNhbnZhcy5hcmNUbz1teFV0aWxzLmJpbmQodGhpcyx5LnByb3RvdHlwZS5hcmNUbyl9ZnVuY3Rpb24geCgpe214UmVjdGFuZ2xlU2hhcGUuY2FsbCh0aGlzKX1mdW5jdGlvbiBFKCl7bXhSZWN0YW5nbGVTaGFwZS5jYWxsKHRoaXMpfWZ1bmN0aW9uIEEoKXtteEFjdG9yLmNhbGwodGhpcyl9ZnVuY3Rpb24gQygpe214QWN0b3IuY2FsbCh0aGlzKX1mdW5jdGlvbiB6KCl7bXhBY3Rvci5jYWxsKHRoaXMpfWZ1bmN0aW9uIEQoKXtteFJlY3RhbmdsZVNoYXBlLmNhbGwodGhpcyl9ZnVuY3Rpb24gRygpe214UmVjdGFuZ2xlU2hhcGUuY2FsbCh0aGlzKX1mdW5jdGlvbiBGKCl7bXhDeWxpbmRlci5jYWxsKHRoaXMpfWZ1bmN0aW9uIEgoKXtteFNoYXBlLmNhbGwodGhpcyl9ZnVuY3Rpb24gSigpe214U2hhcGUuY2FsbCh0aGlzKX0KZnVuY3Rpb24gdSgpe214RWxsaXBzZS5jYWxsKHRoaXMpfWZ1bmN0aW9uIEsoKXtteFNoYXBlLmNhbGwodGhpcyl9ZnVuY3Rpb24gQigpe214U2hhcGUuY2FsbCh0aGlzKX1mdW5jdGlvbiBNKCl7bXhSZWN0YW5nbGVTaGFwZS5jYWxsKHRoaXMpfWZ1bmN0aW9uIFAoKXtteFNoYXBlLmNhbGwodGhpcyl9ZnVuY3Rpb24gSSgpe214U2hhcGUuY2FsbCh0aGlzKX1mdW5jdGlvbiBSKCl7bXhTaGFwZS5jYWxsKHRoaXMpfWZ1bmN0aW9uIGVhKCl7bXhTaGFwZS5jYWxsKHRoaXMpfWZ1bmN0aW9uIGZhKCl7bXhTaGFwZS5jYWxsKHRoaXMpfWZ1bmN0aW9uIFkoKXtteEN5bGluZGVyLmNhbGwodGhpcyl9ZnVuY3Rpb24gWigpe214Q3lsaW5kZXIuY2FsbCh0aGlzKX1mdW5jdGlvbiBYKCl7bXhSZWN0YW5nbGVTaGFwZS5jYWxsKHRoaXMpfWZ1bmN0aW9uIGFhKCl7bXhEb3VibGVFbGxpcHNlLmNhbGwodGhpcyl9ZnVuY3Rpb24gZ2EoKXtteERvdWJsZUVsbGlwc2UuY2FsbCh0aGlzKX1mdW5jdGlvbiBkYSgpe214QXJyb3dDb25uZWN0b3IuY2FsbCh0aGlzKTsKdGhpcy5zcGFjaW5nPTB9ZnVuY3Rpb24gVSgpe214QXJyb3dDb25uZWN0b3IuY2FsbCh0aGlzKTt0aGlzLnNwYWNpbmc9MH1mdW5jdGlvbiBjYSgpe214QWN0b3IuY2FsbCh0aGlzKX1mdW5jdGlvbiBRKCl7bXhSZWN0YW5nbGVTaGFwZS5jYWxsKHRoaXMpfWZ1bmN0aW9uIEwoKXtteEFjdG9yLmNhbGwodGhpcyl9ZnVuY3Rpb24gamEoKXtteEFjdG9yLmNhbGwodGhpcyl9ZnVuY3Rpb24gTygpe214QWN0b3IuY2FsbCh0aGlzKX1mdW5jdGlvbiBTKCl7bXhBY3Rvci5jYWxsKHRoaXMpfWZ1bmN0aW9uIGlhKCl7bXhBY3Rvci5jYWxsKHRoaXMpfWZ1bmN0aW9uIHJhKCl7bXhBY3Rvci5jYWxsKHRoaXMpfWZ1bmN0aW9uIE4oKXtteEFjdG9yLmNhbGwodGhpcyl9ZnVuY3Rpb24gbWEoKXtteEFjdG9yLmNhbGwodGhpcyl9ZnVuY3Rpb24gVygpe214QWN0b3IuY2FsbCh0aGlzKX1mdW5jdGlvbiBUKCl7bXhBY3Rvci5jYWxsKHRoaXMpfWZ1bmN0aW9uIHBhKCl7bXhFbGxpcHNlLmNhbGwodGhpcyl9CmZ1bmN0aW9uIHNhKCl7bXhFbGxpcHNlLmNhbGwodGhpcyl9ZnVuY3Rpb24gaGEoKXtteEVsbGlwc2UuY2FsbCh0aGlzKX1mdW5jdGlvbiBxYSgpe214UmhvbWJ1cy5jYWxsKHRoaXMpfWZ1bmN0aW9uIG5hKCl7bXhFbGxpcHNlLmNhbGwodGhpcyl9ZnVuY3Rpb24gemEoKXtteEVsbGlwc2UuY2FsbCh0aGlzKX1mdW5jdGlvbiBCYSgpe214RWxsaXBzZS5jYWxsKHRoaXMpfWZ1bmN0aW9uIG9hKCl7bXhFbGxpcHNlLmNhbGwodGhpcyl9ZnVuY3Rpb24gd2EoKXtteEFjdG9yLmNhbGwodGhpcyl9ZnVuY3Rpb24geGEoKXtteEFjdG9yLmNhbGwodGhpcyl9ZnVuY3Rpb24ga2EoKXtteEFjdG9yLmNhbGwodGhpcyl9ZnVuY3Rpb24gdGEoKXtteENvbm5lY3Rvci5jYWxsKHRoaXMpfWZ1bmN0aW9uIEFhKGEsYixlLGMsZCxmLGcsbCxwLHUpe2crPXA7dmFyIGJhPWMuY2xvbmUoKTtjLngtPWQqKDIqZytwKTtjLnktPWYqKDIqZytwKTtkKj1nK3A7Zio9ZytwO3JldHVybiBmdW5jdGlvbigpe2EuZWxsaXBzZShiYS54LQpkLWcsYmEueS1mLWcsMipnLDIqZyk7dT9hLmZpbGxBbmRTdHJva2UoKTphLnN0cm9rZSgpfX1teFV0aWxzLmV4dGVuZChhLG14U3dpbWxhbmUpO2EucHJvdG90eXBlLmdldExhYmVsQm91bmRzPWZ1bmN0aW9uKGEpe3JldHVybiAwPT10aGlzLmdldFRpdGxlU2l6ZSgpP214U2hhcGUucHJvdG90eXBlLmdldExhYmVsQm91bmRzLmFwcGx5KHRoaXMsYXJndW1lbnRzKTpteFN3aW1sYW5lLnByb3RvdHlwZS5nZXRMYWJlbEJvdW5kcy5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O2EucHJvdG90eXBlLnBhaW50VmVydGV4U2hhcGU9ZnVuY3Rpb24oYSxiLGUsYyxkKXswPT10aGlzLmdldFRpdGxlU2l6ZSgpP214UmVjdGFuZ2xlU2hhcGUucHJvdG90eXBlLnBhaW50QmFja2dyb3VuZC5hcHBseSh0aGlzLGFyZ3VtZW50cyk6KG14U3dpbWxhbmUucHJvdG90eXBlLnBhaW50VmVydGV4U2hhcGUuYXBwbHkodGhpcyxhcmd1bWVudHMpLGEudHJhbnNsYXRlKC1iLC1lKSk7dGhpcy5wYWludEZvcmVncm91bmQoYSwKYixlLGMsZCl9O2EucHJvdG90eXBlLnBhaW50Rm9yZWdyb3VuZD1mdW5jdGlvbihhLGIsZSxjLGQpe2lmKG51bGwhPXRoaXMuc3RhdGUpe3ZhciBmPXRoaXMuZmxpcEgsZz10aGlzLmZsaXBWO2lmKHRoaXMuZGlyZWN0aW9uPT1teENvbnN0YW50cy5ESVJFQ1RJT05fTk9SVEh8fHRoaXMuZGlyZWN0aW9uPT1teENvbnN0YW50cy5ESVJFQ1RJT05fU09VVEgpdmFyIGJhPWYsZj1nLGc9YmE7YS5yb3RhdGUoLXRoaXMuZ2V0U2hhcGVSb3RhdGlvbigpLGYsZyxiK2MvMixlK2QvMik7cz10aGlzLnNjYWxlO2I9dGhpcy5ib3VuZHMueC9zO2U9dGhpcy5ib3VuZHMueS9zO2M9dGhpcy5ib3VuZHMud2lkdGgvcztkPXRoaXMuYm91bmRzLmhlaWdodC9zO3RoaXMucGFpbnRUYWJsZUZvcmVncm91bmQoYSxiLGUsYyxkKX19O2EucHJvdG90eXBlLnBhaW50VGFibGVGb3JlZ3JvdW5kPWZ1bmN0aW9uKGEsYixlLGMsZCl7dmFyIGY9dGhpcy5zdGF0ZS52aWV3LmdyYXBoLGc9Zi5nZXRBY3R1YWxTdGFydFNpemUodGhpcy5zdGF0ZS5jZWxsKSwKYmE9Zi5tb2RlbC5nZXRDaGlsZENlbGxzKHRoaXMuc3RhdGUuY2VsbCwhMCk7aWYoMDxiYS5sZW5ndGgpe3ZhciBsPSIwIiE9bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0YXRlLnN0eWxlLCJyb3dMaW5lcyIsIjEiKSxwPSIwIiE9bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0YXRlLnN0eWxlLCJjb2x1bW5MaW5lcyIsIjEiKTtpZihsKWZvcihsPTE7bDxiYS5sZW5ndGg7bCsrKXt2YXIgdT1mLmdldENlbGxHZW9tZXRyeShiYVtsXSk7bnVsbCE9dSYmKGEuYmVnaW4oKSxhLm1vdmVUbyhiK2cueCxlK3UueSksYS5saW5lVG8oYitjLWcud2lkdGgsZSt1LnkpLGEuZW5kKCksYS5zdHJva2UoKSl9aWYocClmb3IoYz1mLm1vZGVsLmdldENoaWxkQ2VsbHMoYmFbMF0sITApLGw9MTtsPGMubGVuZ3RoO2wrKyl1PWYuZ2V0Q2VsbEdlb21ldHJ5KGNbbF0pLG51bGwhPXUmJihhLmJlZ2luKCksYS5tb3ZlVG8oYit1LngrZy54LGUrZy55KSxhLmxpbmVUbyhiK3UueCtnLngsZStkLWcuaGVpZ2h0KSxhLmVuZCgpLAphLnN0cm9rZSgpKX19O214Q2VsbFJlbmRlcmVyLnJlZ2lzdGVyU2hhcGUoInRhYmxlIixhKTtteFV0aWxzLmV4dGVuZChkLG14Q3lsaW5kZXIpO2QucHJvdG90eXBlLnNpemU9MjA7ZC5wcm90b3R5cGUuZGFya09wYWNpdHk9MDtkLnByb3RvdHlwZS5kYXJrT3BhY2l0eTI9MDtkLnByb3RvdHlwZS5wYWludFZlcnRleFNoYXBlPWZ1bmN0aW9uKGEsYixlLGMsZCl7dmFyIGY9TWF0aC5tYXgoMCxNYXRoLm1pbihjLE1hdGgubWluKGQscGFyc2VGbG9hdChteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsInNpemUiLHRoaXMuc2l6ZSkpKSkpLGc9TWF0aC5tYXgoLTEsTWF0aC5taW4oMSxwYXJzZUZsb2F0KG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSwiZGFya09wYWNpdHkiLHRoaXMuZGFya09wYWNpdHkpKSkpLGJhPU1hdGgubWF4KC0xLE1hdGgubWluKDEscGFyc2VGbG9hdChteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsImRhcmtPcGFjaXR5MiIsdGhpcy5kYXJrT3BhY2l0eTIpKSkpOwphLnRyYW5zbGF0ZShiLGUpO2EuYmVnaW4oKTthLm1vdmVUbygwLDApO2EubGluZVRvKGMtZiwwKTthLmxpbmVUbyhjLGYpO2EubGluZVRvKGMsZCk7YS5saW5lVG8oZixkKTthLmxpbmVUbygwLGQtZik7YS5saW5lVG8oMCwwKTthLmNsb3NlKCk7YS5lbmQoKTthLmZpbGxBbmRTdHJva2UoKTt0aGlzLm91dGxpbmV8fChhLnNldFNoYWRvdyghMSksMCE9ZyYmKGEuc2V0RmlsbEFscGhhKE1hdGguYWJzKGcpKSxhLnNldEZpbGxDb2xvcigwPmc/IiNGRkZGRkYiOiIjMDAwMDAwIiksYS5iZWdpbigpLGEubW92ZVRvKDAsMCksYS5saW5lVG8oYy1mLDApLGEubGluZVRvKGMsZiksYS5saW5lVG8oZixmKSxhLmNsb3NlKCksYS5maWxsKCkpLDAhPWJhJiYoYS5zZXRGaWxsQWxwaGEoTWF0aC5hYnMoYmEpKSxhLnNldEZpbGxDb2xvcigwPmJhPyIjRkZGRkZGIjoiIzAwMDAwMCIpLGEuYmVnaW4oKSxhLm1vdmVUbygwLDApLGEubGluZVRvKGYsZiksYS5saW5lVG8oZixkKSxhLmxpbmVUbygwLGQtCmYpLGEuY2xvc2UoKSxhLmZpbGwoKSksYS5iZWdpbigpLGEubW92ZVRvKGYsZCksYS5saW5lVG8oZixmKSxhLmxpbmVUbygwLDApLGEubW92ZVRvKGYsZiksYS5saW5lVG8oYyxmKSxhLmVuZCgpLGEuc3Ryb2tlKCkpfTtkLnByb3RvdHlwZS5nZXRMYWJlbE1hcmdpbnM9ZnVuY3Rpb24oYSl7cmV0dXJuIG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSwiYm91bmRlZExibCIsITEpPyhhPXBhcnNlRmxvYXQobXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLCJzaXplIix0aGlzLnNpemUpKSp0aGlzLnNjYWxlLG5ldyBteFJlY3RhbmdsZShhLGEsMCwwKSk6bnVsbH07bXhDZWxsUmVuZGVyZXIucmVnaXN0ZXJTaGFwZSgiY3ViZSIsZCk7dmFyIHVhPU1hdGgudGFuKG14VXRpbHMudG9SYWRpYW5zKDMwKSksbGE9KC41LXVhKS8yO214VXRpbHMuZXh0ZW5kKGYsbXhBY3Rvcik7Zi5wcm90b3R5cGUuc2l6ZT0yMDtmLnByb3RvdHlwZS5yZWRyYXdQYXRoPWZ1bmN0aW9uKGEsYixlLGMsZCl7Yj0KTWF0aC5taW4oYyxkL3VhKTthLnRyYW5zbGF0ZSgoYy1iKS8yLChkLWIpLzIrYi80KTthLm1vdmVUbygwLC4yNSpiKTthLmxpbmVUbyguNSpiLGIqbGEpO2EubGluZVRvKGIsLjI1KmIpO2EubGluZVRvKC41KmIsKC41LWxhKSpiKTthLmxpbmVUbygwLC4yNSpiKTthLmNsb3NlKCk7YS5lbmQoKX07bXhDZWxsUmVuZGVyZXIucmVnaXN0ZXJTaGFwZSgiaXNvUmVjdGFuZ2xlIixmKTtteFV0aWxzLmV4dGVuZChjLG14Q3lsaW5kZXIpO2MucHJvdG90eXBlLnNpemU9MjA7Yy5wcm90b3R5cGUucmVkcmF3UGF0aD1mdW5jdGlvbihhLGIsZSxjLGQsZil7Yj1NYXRoLm1pbihjLGQvKC41K3VhKSk7Zj8oYS5tb3ZlVG8oMCwuMjUqYiksYS5saW5lVG8oLjUqYiwoLjUtbGEpKmIpLGEubGluZVRvKGIsLjI1KmIpLGEubW92ZVRvKC41KmIsKC41LWxhKSpiKSxhLmxpbmVUbyguNSpiLCgxLWxhKSpiKSk6KGEudHJhbnNsYXRlKChjLWIpLzIsKGQtYikvMiksYS5tb3ZlVG8oMCwuMjUqYiksYS5saW5lVG8oLjUqCmIsYipsYSksYS5saW5lVG8oYiwuMjUqYiksYS5saW5lVG8oYiwuNzUqYiksYS5saW5lVG8oLjUqYiwoMS1sYSkqYiksYS5saW5lVG8oMCwuNzUqYiksYS5jbG9zZSgpKTthLmVuZCgpfTtteENlbGxSZW5kZXJlci5yZWdpc3RlclNoYXBlKCJpc29DdWJlIixjKTtteFV0aWxzLmV4dGVuZChtLG14Q3lsaW5kZXIpO20ucHJvdG90eXBlLnJlZHJhd1BhdGg9ZnVuY3Rpb24oYSxiLGUsYyxkLGYpe2I9TWF0aC5taW4oZC8yLE1hdGgucm91bmQoZC84KSt0aGlzLnN0cm9rZXdpZHRoLTEpO2lmKGYmJm51bGwhPXRoaXMuZmlsbHx8IWYmJm51bGw9PXRoaXMuZmlsbClhLm1vdmVUbygwLGIpLGEuY3VydmVUbygwLDIqYixjLDIqYixjLGIpLGZ8fChhLnN0cm9rZSgpLGEuYmVnaW4oKSksYS50cmFuc2xhdGUoMCxiLzIpLGEubW92ZVRvKDAsYiksYS5jdXJ2ZVRvKDAsMipiLGMsMipiLGMsYiksZnx8KGEuc3Ryb2tlKCksYS5iZWdpbigpKSxhLnRyYW5zbGF0ZSgwLGIvMiksYS5tb3ZlVG8oMCxiKSwKYS5jdXJ2ZVRvKDAsMipiLGMsMipiLGMsYiksZnx8KGEuc3Ryb2tlKCksYS5iZWdpbigpKSxhLnRyYW5zbGF0ZSgwLC1iKTtmfHwoYS5tb3ZlVG8oMCxiKSxhLmN1cnZlVG8oMCwtYi8zLGMsLWIvMyxjLGIpLGEubGluZVRvKGMsZC1iKSxhLmN1cnZlVG8oYyxkK2IvMywwLGQrYi8zLDAsZC1iKSxhLmNsb3NlKCkpfTttLnByb3RvdHlwZS5nZXRMYWJlbE1hcmdpbnM9ZnVuY3Rpb24oYSl7cmV0dXJuIG5ldyBteFJlY3RhbmdsZSgwLDIuNSpNYXRoLm1pbihhLmhlaWdodC8yLE1hdGgucm91bmQoYS5oZWlnaHQvOCkrdGhpcy5zdHJva2V3aWR0aC0xKSwwLDApfTtteENlbGxSZW5kZXJlci5yZWdpc3RlclNoYXBlKCJkYXRhc3RvcmUiLG0pO214VXRpbHMuZXh0ZW5kKGssbXhDeWxpbmRlcik7ay5wcm90b3R5cGUuc2l6ZT0zMDtrLnByb3RvdHlwZS5kYXJrT3BhY2l0eT0wO2sucHJvdG90eXBlLnBhaW50VmVydGV4U2hhcGU9ZnVuY3Rpb24oYSxiLGUsYyxkKXt2YXIgZj1NYXRoLm1heCgwLApNYXRoLm1pbihjLE1hdGgubWluKGQscGFyc2VGbG9hdChteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsInNpemUiLHRoaXMuc2l6ZSkpKSkpLGc9TWF0aC5tYXgoLTEsTWF0aC5taW4oMSxwYXJzZUZsb2F0KG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSwiZGFya09wYWNpdHkiLHRoaXMuZGFya09wYWNpdHkpKSkpO2EudHJhbnNsYXRlKGIsZSk7YS5iZWdpbigpO2EubW92ZVRvKDAsMCk7YS5saW5lVG8oYy1mLDApO2EubGluZVRvKGMsZik7YS5saW5lVG8oYyxkKTthLmxpbmVUbygwLGQpO2EubGluZVRvKDAsMCk7YS5jbG9zZSgpO2EuZW5kKCk7YS5maWxsQW5kU3Ryb2tlKCk7dGhpcy5vdXRsaW5lfHwoYS5zZXRTaGFkb3coITEpLDAhPWcmJihhLnNldEZpbGxBbHBoYShNYXRoLmFicyhnKSksYS5zZXRGaWxsQ29sb3IoMD5nPyIjRkZGRkZGIjoiIzAwMDAwMCIpLGEuYmVnaW4oKSxhLm1vdmVUbyhjLWYsMCksYS5saW5lVG8oYy1mLGYpLGEubGluZVRvKGMsZiksYS5jbG9zZSgpLAphLmZpbGwoKSksYS5iZWdpbigpLGEubW92ZVRvKGMtZiwwKSxhLmxpbmVUbyhjLWYsZiksYS5saW5lVG8oYyxmKSxhLmVuZCgpLGEuc3Ryb2tlKCkpfTtteENlbGxSZW5kZXJlci5yZWdpc3RlclNoYXBlKCJub3RlIixrKTtteFV0aWxzLmV4dGVuZChxLG14QWN0b3IpO3EucHJvdG90eXBlLnJlZHJhd1BhdGg9ZnVuY3Rpb24oYSxiLGUsYyxkKXthLm1vdmVUbygwLDApO2EucXVhZFRvKGMvMiwuNSpkLGMsMCk7YS5xdWFkVG8oLjUqYyxkLzIsYyxkKTthLnF1YWRUbyhjLzIsLjUqZCwwLGQpO2EucXVhZFRvKC41KmMsZC8yLDAsMCk7YS5lbmQoKX07bXhDZWxsUmVuZGVyZXIucmVnaXN0ZXJTaGFwZSgic3dpdGNoIixxKTtteFV0aWxzLmV4dGVuZChiLG14Q3lsaW5kZXIpO2IucHJvdG90eXBlLnRhYldpZHRoPTYwO2IucHJvdG90eXBlLnRhYkhlaWdodD0yMDtiLnByb3RvdHlwZS50YWJQb3NpdGlvbj0icmlnaHQiO2IucHJvdG90eXBlLnJlZHJhd1BhdGg9ZnVuY3Rpb24oYSxiLGUsYywKZCxmKXtiPU1hdGgubWF4KDAsTWF0aC5taW4oYyxwYXJzZUZsb2F0KG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSwidGFiV2lkdGgiLHRoaXMudGFiV2lkdGgpKSkpO2U9TWF0aC5tYXgoMCxNYXRoLm1pbihkLHBhcnNlRmxvYXQobXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLCJ0YWJIZWlnaHQiLHRoaXMudGFiSGVpZ2h0KSkpKTt2YXIgZz1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsInRhYlBvc2l0aW9uIix0aGlzLnRhYlBvc2l0aW9uKTtmPyJsZWZ0Ij09Zz8oYS5tb3ZlVG8oMCxlKSxhLmxpbmVUbyhiLGUpKTooYS5tb3ZlVG8oYy1iLGUpLGEubGluZVRvKGMsZSkpOigibGVmdCI9PWc/KGEubW92ZVRvKDAsMCksYS5saW5lVG8oYiwwKSxhLmxpbmVUbyhiLGUpLGEubGluZVRvKGMsZSkpOihhLm1vdmVUbygwLGUpLGEubGluZVRvKGMtYixlKSxhLmxpbmVUbyhjLWIsMCksYS5saW5lVG8oYywwKSksYS5saW5lVG8oYyxkKSxhLmxpbmVUbygwLGQpLGEubGluZVRvKDAsCmUpLGEuY2xvc2UoKSk7YS5lbmQoKX07bXhDZWxsUmVuZGVyZXIucmVnaXN0ZXJTaGFwZSgiZm9sZGVyIixiKTtteFV0aWxzLmV4dGVuZChlLG14QWN0b3IpO2UucHJvdG90eXBlLnNpemU9MzA7ZS5wcm90b3R5cGUuaXNSb3VuZGFibGU9ZnVuY3Rpb24oKXtyZXR1cm4hMH07ZS5wcm90b3R5cGUucmVkcmF3UGF0aD1mdW5jdGlvbihhLGIsZSxjLGQpe2I9TWF0aC5tYXgoMCxNYXRoLm1pbihjLE1hdGgubWluKGQscGFyc2VGbG9hdChteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsInNpemUiLHRoaXMuc2l6ZSkpKSkpO2U9bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0FSQ1NJWkUsbXhDb25zdGFudHMuTElORV9BUkNTSVpFKS8yO3RoaXMuYWRkUG9pbnRzKGEsW25ldyBteFBvaW50KGIsMCksbmV3IG14UG9pbnQoYywwKSxuZXcgbXhQb2ludChjLGQpLG5ldyBteFBvaW50KDAsZCksbmV3IG14UG9pbnQoMCxiKV0sdGhpcy5pc1JvdW5kZWQsZSwhMCk7CmEuZW5kKCl9O214Q2VsbFJlbmRlcmVyLnJlZ2lzdGVyU2hhcGUoImNhcmQiLGUpO214VXRpbHMuZXh0ZW5kKGcsbXhBY3Rvcik7Zy5wcm90b3R5cGUuc2l6ZT0uNDtnLnByb3RvdHlwZS5yZWRyYXdQYXRoPWZ1bmN0aW9uKGEsYixlLGMsZCl7Yj1kKk1hdGgubWF4KDAsTWF0aC5taW4oMSxwYXJzZUZsb2F0KG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSwic2l6ZSIsdGhpcy5zaXplKSkpKTthLm1vdmVUbygwLGIvMik7YS5xdWFkVG8oYy80LDEuNCpiLGMvMixiLzIpO2EucXVhZFRvKDMqYy80LGIqKDEtMS40KSxjLGIvMik7YS5saW5lVG8oYyxkLWIvMik7YS5xdWFkVG8oMypjLzQsZC0xLjQqYixjLzIsZC1iLzIpO2EucXVhZFRvKGMvNCxkLWIqKDEtMS40KSwwLGQtYi8yKTthLmxpbmVUbygwLGIvMik7YS5jbG9zZSgpO2EuZW5kKCl9O2cucHJvdG90eXBlLmdldExhYmVsQm91bmRzPWZ1bmN0aW9uKGEpe2lmKG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSwiYm91bmRlZExibCIsCiExKSl7dmFyIGI9bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLCJzaXplIix0aGlzLnNpemUpLGU9YS53aWR0aCxjPWEuaGVpZ2h0O2lmKG51bGw9PXRoaXMuZGlyZWN0aW9ufHx0aGlzLmRpcmVjdGlvbj09bXhDb25zdGFudHMuRElSRUNUSU9OX0VBU1R8fHRoaXMuZGlyZWN0aW9uPT1teENvbnN0YW50cy5ESVJFQ1RJT05fV0VTVClyZXR1cm4gYio9YyxuZXcgbXhSZWN0YW5nbGUoYS54LGEueStiLGUsYy0yKmIpO2IqPWU7cmV0dXJuIG5ldyBteFJlY3RhbmdsZShhLngrYixhLnksZS0yKmIsYyl9cmV0dXJuIGF9O214Q2VsbFJlbmRlcmVyLnJlZ2lzdGVyU2hhcGUoInRhcGUiLGcpO214VXRpbHMuZXh0ZW5kKHAsbXhBY3Rvcik7cC5wcm90b3R5cGUuc2l6ZT0uMztwLnByb3RvdHlwZS5nZXRMYWJlbE1hcmdpbnM9ZnVuY3Rpb24oYSl7cmV0dXJuIG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSwiYm91bmRlZExibCIsITEpP25ldyBteFJlY3RhbmdsZSgwLDAsMCxwYXJzZUZsb2F0KG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSwKInNpemUiLHRoaXMuc2l6ZSkpKmEuaGVpZ2h0KTpudWxsfTtwLnByb3RvdHlwZS5yZWRyYXdQYXRoPWZ1bmN0aW9uKGEsYixlLGMsZCl7Yj1kKk1hdGgubWF4KDAsTWF0aC5taW4oMSxwYXJzZUZsb2F0KG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSwic2l6ZSIsdGhpcy5zaXplKSkpKTthLm1vdmVUbygwLDApO2EubGluZVRvKGMsMCk7YS5saW5lVG8oYyxkLWIvMik7YS5xdWFkVG8oMypjLzQsZC0xLjQqYixjLzIsZC1iLzIpO2EucXVhZFRvKGMvNCxkLWIqKDEtMS40KSwwLGQtYi8yKTthLmxpbmVUbygwLGIvMik7YS5jbG9zZSgpO2EuZW5kKCl9O214Q2VsbFJlbmRlcmVyLnJlZ2lzdGVyU2hhcGUoImRvY3VtZW50IixwKTt2YXIgSWE9bXhDeWxpbmRlci5wcm90b3R5cGUuZ2V0Q3lsaW5kZXJTaXplO214Q3lsaW5kZXIucHJvdG90eXBlLmdldEN5bGluZGVyU2l6ZT1mdW5jdGlvbihhLGIsZSxjKXt2YXIgZD1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsInNpemUiKTtyZXR1cm4gbnVsbCE9CmQ/YypNYXRoLm1heCgwLE1hdGgubWluKDEsZCkpOklhLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07bXhDeWxpbmRlci5wcm90b3R5cGUuZ2V0TGFiZWxNYXJnaW5zPWZ1bmN0aW9uKGEpe2lmKG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSwiYm91bmRlZExibCIsITEpKXt2YXIgYj0yKm14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSwic2l6ZSIsLjE1KTtyZXR1cm4gbmV3IG14UmVjdGFuZ2xlKDAsTWF0aC5taW4odGhpcy5tYXhIZWlnaHQqdGhpcy5zY2FsZSxhLmhlaWdodCpiKSwwLDApfXJldHVybiBudWxsfTtteFV0aWxzLmV4dGVuZChsLG14QWN0b3IpO2wucHJvdG90eXBlLnNpemU9LjI7bC5wcm90b3R5cGUuaXNSb3VuZGFibGU9ZnVuY3Rpb24oKXtyZXR1cm4hMH07bC5wcm90b3R5cGUucmVkcmF3UGF0aD1mdW5jdGlvbihhLGIsZSxjLGQpe2I9YypNYXRoLm1heCgwLE1hdGgubWluKDEscGFyc2VGbG9hdChteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsInNpemUiLHRoaXMuc2l6ZSkpKSk7CmU9bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0FSQ1NJWkUsbXhDb25zdGFudHMuTElORV9BUkNTSVpFKS8yO3RoaXMuYWRkUG9pbnRzKGEsW25ldyBteFBvaW50KDAsZCksbmV3IG14UG9pbnQoYiwwKSxuZXcgbXhQb2ludChjLDApLG5ldyBteFBvaW50KGMtYixkKV0sdGhpcy5pc1JvdW5kZWQsZSwhMCk7YS5lbmQoKX07bXhDZWxsUmVuZGVyZXIucmVnaXN0ZXJTaGFwZSgicGFyYWxsZWxvZ3JhbSIsbCk7bXhVdGlscy5leHRlbmQobixteEFjdG9yKTtuLnByb3RvdHlwZS5zaXplPS4yO24ucHJvdG90eXBlLmlzUm91bmRhYmxlPWZ1bmN0aW9uKCl7cmV0dXJuITB9O24ucHJvdG90eXBlLnJlZHJhd1BhdGg9ZnVuY3Rpb24oYSxiLGUsYyxkKXtiPWMqTWF0aC5tYXgoMCxNYXRoLm1pbiguNSxwYXJzZUZsb2F0KG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSwic2l6ZSIsdGhpcy5zaXplKSkpKTtlPW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSwKbXhDb25zdGFudHMuU1RZTEVfQVJDU0laRSxteENvbnN0YW50cy5MSU5FX0FSQ1NJWkUpLzI7dGhpcy5hZGRQb2ludHMoYSxbbmV3IG14UG9pbnQoMCxkKSxuZXcgbXhQb2ludChiLDApLG5ldyBteFBvaW50KGMtYiwwKSxuZXcgbXhQb2ludChjLGQpXSx0aGlzLmlzUm91bmRlZCxlLCEwKX07bXhDZWxsUmVuZGVyZXIucmVnaXN0ZXJTaGFwZSgidHJhcGV6b2lkIixuKTtteFV0aWxzLmV4dGVuZCh2LG14QWN0b3IpO3YucHJvdG90eXBlLnNpemU9LjU7di5wcm90b3R5cGUucmVkcmF3UGF0aD1mdW5jdGlvbihhLGIsZSxjLGQpe2Euc2V0RmlsbENvbG9yKG51bGwpO2I9YypNYXRoLm1heCgwLE1hdGgubWluKDEscGFyc2VGbG9hdChteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsInNpemUiLHRoaXMuc2l6ZSkpKSk7ZT1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfQVJDU0laRSxteENvbnN0YW50cy5MSU5FX0FSQ1NJWkUpLzI7dGhpcy5hZGRQb2ludHMoYSwKW25ldyBteFBvaW50KGMsMCksbmV3IG14UG9pbnQoYiwwKSxuZXcgbXhQb2ludChiLGQvMiksbmV3IG14UG9pbnQoMCxkLzIpLG5ldyBteFBvaW50KGIsZC8yKSxuZXcgbXhQb2ludChiLGQpLG5ldyBteFBvaW50KGMsZCldLHRoaXMuaXNSb3VuZGVkLGUsITEpO2EuZW5kKCl9O214Q2VsbFJlbmRlcmVyLnJlZ2lzdGVyU2hhcGUoImN1cmx5QnJhY2tldCIsdik7bXhVdGlscy5leHRlbmQodCxteEFjdG9yKTt0LnByb3RvdHlwZS5yZWRyYXdQYXRoPWZ1bmN0aW9uKGEsYixlLGMsZCl7YS5zZXRTdHJva2VXaWR0aCgxKTthLnNldEZpbGxDb2xvcih0aGlzLnN0cm9rZSk7Yj1jLzU7YS5yZWN0KDAsMCxiLGQpO2EuZmlsbEFuZFN0cm9rZSgpO2EucmVjdCgyKmIsMCxiLGQpO2EuZmlsbEFuZFN0cm9rZSgpO2EucmVjdCg0KmIsMCxiLGQpO2EuZmlsbEFuZFN0cm9rZSgpfTtteENlbGxSZW5kZXJlci5yZWdpc3RlclNoYXBlKCJwYXJhbGxlbE1hcmtlciIsdCk7eS5wcm90b3R5cGUubW92ZVRvPQpmdW5jdGlvbihhLGIpe3RoaXMub3JpZ2luYWxNb3ZlVG8uYXBwbHkodGhpcy5jYW52YXMsYXJndW1lbnRzKTt0aGlzLmxhc3RYPWE7dGhpcy5sYXN0WT1iO3RoaXMuZmlyc3RYPWE7dGhpcy5maXJzdFk9Yn07eS5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24oKXtudWxsIT10aGlzLmZpcnN0WCYmbnVsbCE9dGhpcy5maXJzdFkmJih0aGlzLmxpbmVUbyh0aGlzLmZpcnN0WCx0aGlzLmZpcnN0WSksdGhpcy5vcmlnaW5hbENsb3NlLmFwcGx5KHRoaXMuY2FudmFzLGFyZ3VtZW50cykpO3RoaXMub3JpZ2luYWxDbG9zZS5hcHBseSh0aGlzLmNhbnZhcyxhcmd1bWVudHMpfTt5LnByb3RvdHlwZS5xdWFkVG89ZnVuY3Rpb24oYSxiLGUsYyl7dGhpcy5vcmlnaW5hbFF1YWRUby5hcHBseSh0aGlzLmNhbnZhcyxhcmd1bWVudHMpO3RoaXMubGFzdFg9ZTt0aGlzLmxhc3RZPWN9O3kucHJvdG90eXBlLmN1cnZlVG89ZnVuY3Rpb24oYSxiLGUsYyxkLGYpe3RoaXMub3JpZ2luYWxDdXJ2ZVRvLmFwcGx5KHRoaXMuY2FudmFzLAphcmd1bWVudHMpO3RoaXMubGFzdFg9ZDt0aGlzLmxhc3RZPWZ9O3kucHJvdG90eXBlLmFyY1RvPWZ1bmN0aW9uKGEsYixlLGMsZCxmLGcpe3RoaXMub3JpZ2luYWxBcmNUby5hcHBseSh0aGlzLmNhbnZhcyxhcmd1bWVudHMpO3RoaXMubGFzdFg9Zjt0aGlzLmxhc3RZPWd9O3kucHJvdG90eXBlLmxpbmVUbz1mdW5jdGlvbihhLGIpe2lmKG51bGwhPXRoaXMubGFzdFgmJm51bGwhPXRoaXMubGFzdFkpe3ZhciBlPWZ1bmN0aW9uKGEpe3JldHVybiJudW1iZXIiPT09dHlwZW9mIGE/YT8wPmE/LTE6MTphPT09YT8wOk5hTjpOYU59LGM9TWF0aC5hYnMoYS10aGlzLmxhc3RYKSxkPU1hdGguYWJzKGItdGhpcy5sYXN0WSksZj1NYXRoLnNxcnQoYypjK2QqZCk7aWYoMj5mKXt0aGlzLm9yaWdpbmFsTGluZVRvLmFwcGx5KHRoaXMuY2FudmFzLGFyZ3VtZW50cyk7dGhpcy5sYXN0WD1hO3RoaXMubGFzdFk9YjtyZXR1cm59dmFyIGc9TWF0aC5yb3VuZChmLzEwKSxsPXRoaXMuZGVmYXVsdFZhcmlhdGlvbjsKNT5nJiYoZz01LGwvPTMpO2Zvcih2YXIgYmE9ZShhLXRoaXMubGFzdFgpKmMvZyxlPWUoYi10aGlzLmxhc3RZKSpkL2csYz1jL2YsZD1kL2YsZj0wO2Y8ZztmKyspe3ZhciBwPShNYXRoLnJhbmRvbSgpLS41KSpsO3RoaXMub3JpZ2luYWxMaW5lVG8uY2FsbCh0aGlzLmNhbnZhcyxiYSpmK3RoaXMubGFzdFgtcCpkLGUqZit0aGlzLmxhc3RZLXAqYyl9dGhpcy5vcmlnaW5hbExpbmVUby5jYWxsKHRoaXMuY2FudmFzLGEsYil9ZWxzZSB0aGlzLm9yaWdpbmFsTGluZVRvLmFwcGx5KHRoaXMuY2FudmFzLGFyZ3VtZW50cyk7dGhpcy5sYXN0WD1hO3RoaXMubGFzdFk9Yn07eS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuY2FudmFzLmxpbmVUbz10aGlzLm9yaWdpbmFsTGluZVRvO3RoaXMuY2FudmFzLm1vdmVUbz10aGlzLm9yaWdpbmFsTW92ZVRvO3RoaXMuY2FudmFzLmNsb3NlPXRoaXMub3JpZ2luYWxDbG9zZTt0aGlzLmNhbnZhcy5xdWFkVG89dGhpcy5vcmlnaW5hbFF1YWRUbzsKdGhpcy5jYW52YXMuY3VydmVUbz10aGlzLm9yaWdpbmFsQ3VydmVUbzt0aGlzLmNhbnZhcy5hcmNUbz10aGlzLm9yaWdpbmFsQXJjVG99O3ZhciBKYT1teFNoYXBlLnByb3RvdHlwZS5wYWludDtteFNoYXBlLnByb3RvdHlwZS5kZWZhdWx0SmlnZ2xlPTEuNTtteFNoYXBlLnByb3RvdHlwZS5wYWludD1mdW5jdGlvbihhKXtudWxsIT10aGlzLnN0eWxlJiYiMCIhPW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSwiY29taWMiLCIwIikmJm51bGw9PWEuaGFuZEhpZ2dsZSYmKGEuaGFuZEppZ2dsZT1uZXcgeShhLG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSwiamlnZ2xlIix0aGlzLmRlZmF1bHRKaWdnbGUpKSk7SmEuYXBwbHkodGhpcyxhcmd1bWVudHMpO251bGwhPWEuaGFuZEppZ2dsZSYmKGEuaGFuZEppZ2dsZS5kZXN0cm95KCksZGVsZXRlIGEuaGFuZEppZ2dsZSl9O214UmhvbWJ1cy5wcm90b3R5cGUuZGVmYXVsdEppZ2dsZT0yO3ZhciBQYT1teFJlY3RhbmdsZVNoYXBlLnByb3RvdHlwZS5pc0h0bWxBbGxvd2VkOwpteFJlY3RhbmdsZVNoYXBlLnByb3RvdHlwZS5pc0h0bWxBbGxvd2VkPWZ1bmN0aW9uKCl7cmV0dXJuKG51bGw9PXRoaXMuc3R5bGV8fCIwIj09bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLCJjb21pYyIsIjAiKSkmJlBhLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07dmFyIFFhPW14UmVjdGFuZ2xlU2hhcGUucHJvdG90eXBlLnBhaW50QmFja2dyb3VuZDtteFJlY3RhbmdsZVNoYXBlLnByb3RvdHlwZS5wYWludEJhY2tncm91bmQ9ZnVuY3Rpb24oYSxiLGUsYyxkKXtpZihudWxsPT1hLmhhbmRKaWdnbGUpUWEuYXBwbHkodGhpcyxhcmd1bWVudHMpO2Vsc2V7dmFyIGY9ITA7bnVsbCE9dGhpcy5zdHlsZSYmKGY9IjEiPT1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfUE9JTlRFUl9FVkVOVFMsIjEiKSk7aWYoZnx8bnVsbCE9dGhpcy5maWxsJiZ0aGlzLmZpbGwhPW14Q29uc3RhbnRzLk5PTkV8fG51bGwhPXRoaXMuc3Ryb2tlJiZ0aGlzLnN0cm9rZSE9Cm14Q29uc3RhbnRzLk5PTkUpZnx8bnVsbCE9dGhpcy5maWxsJiZ0aGlzLmZpbGwhPW14Q29uc3RhbnRzLk5PTkV8fChhLnBvaW50ZXJFdmVudHM9ITEpLGEuYmVnaW4oKSx0aGlzLmlzUm91bmRlZD8oIjEiPT1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfQUJTT0xVVEVfQVJDU0laRSwwKT9mPU1hdGgubWluKGMvMixNYXRoLm1pbihkLzIsbXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0FSQ1NJWkUsbXhDb25zdGFudHMuTElORV9BUkNTSVpFKS8yKSk6KGY9bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0FSQ1NJWkUsMTAwKm14Q29uc3RhbnRzLlJFQ1RBTkdMRV9ST1VORElOR19GQUNUT1IpLzEwMCxmPU1hdGgubWluKGMqZixkKmYpKSxhLm1vdmVUbyhiK2YsZSksYS5saW5lVG8oYitjLWYsZSksYS5xdWFkVG8oYitjLGUsYitjLGUrZiksYS5saW5lVG8oYitjLGUrZC1mKSxhLnF1YWRUbyhiKwpjLGUrZCxiK2MtZixlK2QpLGEubGluZVRvKGIrZixlK2QpLGEucXVhZFRvKGIsZStkLGIsZStkLWYpLGEubGluZVRvKGIsZStmKSxhLnF1YWRUbyhiLGUsYitmLGUpKTooYS5tb3ZlVG8oYixlKSxhLmxpbmVUbyhiK2MsZSksYS5saW5lVG8oYitjLGUrZCksYS5saW5lVG8oYixlK2QpLGEubGluZVRvKGIsZSkpLGEuY2xvc2UoKSxhLmVuZCgpLGEuZmlsbEFuZFN0cm9rZSgpfX07dmFyIFJhPW14UmVjdGFuZ2xlU2hhcGUucHJvdG90eXBlLnBhaW50Rm9yZWdyb3VuZDtteFJlY3RhbmdsZVNoYXBlLnByb3RvdHlwZS5wYWludEZvcmVncm91bmQ9ZnVuY3Rpb24oYSxiLGUsYyxkKXtudWxsPT1hLmhhbmRKaWdnbGUmJlJhLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07bXhVdGlscy5leHRlbmQoeCxteFJlY3RhbmdsZVNoYXBlKTt4LnByb3RvdHlwZS5zaXplPS4xO3gucHJvdG90eXBlLmlzSHRtbEFsbG93ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4hMX07eC5wcm90b3R5cGUuZ2V0TGFiZWxCb3VuZHM9CmZ1bmN0aW9uKGEpe2lmKG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdGF0ZS5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9IT1JJWk9OVEFMLCEwKT09KG51bGw9PXRoaXMuZGlyZWN0aW9ufHx0aGlzLmRpcmVjdGlvbj09bXhDb25zdGFudHMuRElSRUNUSU9OX0VBU1R8fHRoaXMuZGlyZWN0aW9uPT1teENvbnN0YW50cy5ESVJFQ1RJT05fV0VTVCkpe3ZhciBiPWEud2lkdGgsZT1hLmhlaWdodDthPW5ldyBteFJlY3RhbmdsZShhLngsYS55LGIsZSk7dmFyIGM9YipNYXRoLm1heCgwLE1hdGgubWluKDEscGFyc2VGbG9hdChteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsInNpemUiLHRoaXMuc2l6ZSkpKSk7aWYodGhpcy5pc1JvdW5kZWQpdmFyIGQ9bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0FSQ1NJWkUsMTAwKm14Q29uc3RhbnRzLlJFQ1RBTkdMRV9ST1VORElOR19GQUNUT1IpLzEwMCxjPU1hdGgubWF4KGMsTWF0aC5taW4oYipkLGUqZCkpO2EueCs9Ck1hdGgucm91bmQoYyk7YS53aWR0aC09TWF0aC5yb3VuZCgyKmMpfXJldHVybiBhfTt4LnByb3RvdHlwZS5wYWludEZvcmVncm91bmQ9ZnVuY3Rpb24oYSxiLGUsYyxkKXt2YXIgZj1jKk1hdGgubWF4KDAsTWF0aC5taW4oMSxwYXJzZUZsb2F0KG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSwic2l6ZSIsdGhpcy5zaXplKSkpKTtpZih0aGlzLmlzUm91bmRlZCl2YXIgZz1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfQVJDU0laRSwxMDAqbXhDb25zdGFudHMuUkVDVEFOR0xFX1JPVU5ESU5HX0ZBQ1RPUikvMTAwLGY9TWF0aC5tYXgoZixNYXRoLm1pbihjKmcsZCpnKSk7Zj1NYXRoLnJvdW5kKGYpO2EuYmVnaW4oKTthLm1vdmVUbyhiK2YsZSk7YS5saW5lVG8oYitmLGUrZCk7YS5tb3ZlVG8oYitjLWYsZSk7YS5saW5lVG8oYitjLWYsZStkKTthLmVuZCgpO2Euc3Ryb2tlKCk7bXhSZWN0YW5nbGVTaGFwZS5wcm90b3R5cGUucGFpbnRGb3JlZ3JvdW5kLmFwcGx5KHRoaXMsCmFyZ3VtZW50cyl9O214Q2VsbFJlbmRlcmVyLnJlZ2lzdGVyU2hhcGUoInByb2Nlc3MiLHgpO214VXRpbHMuZXh0ZW5kKEUsbXhSZWN0YW5nbGVTaGFwZSk7RS5wcm90b3R5cGUucGFpbnRCYWNrZ3JvdW5kPWZ1bmN0aW9uKGEsYixlLGMsZCl7YS5zZXRGaWxsQ29sb3IobXhDb25zdGFudHMuTk9ORSk7YS5yZWN0KGIsZSxjLGQpO2EuZmlsbCgpfTtFLnByb3RvdHlwZS5wYWludEZvcmVncm91bmQ9ZnVuY3Rpb24oYSxiLGUsYyxkKXt9O214Q2VsbFJlbmRlcmVyLnJlZ2lzdGVyU2hhcGUoInRyYW5zcGFyZW50IixFKTtteFV0aWxzLmV4dGVuZChBLG14SGV4YWdvbik7QS5wcm90b3R5cGUuc2l6ZT0zMDtBLnByb3RvdHlwZS5wb3NpdGlvbj0uNTtBLnByb3RvdHlwZS5wb3NpdGlvbjI9LjU7QS5wcm90b3R5cGUuYmFzZT0yMDtBLnByb3RvdHlwZS5nZXRMYWJlbE1hcmdpbnM9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG14UmVjdGFuZ2xlKDAsMCwwLHBhcnNlRmxvYXQobXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLAoic2l6ZSIsdGhpcy5zaXplKSkqdGhpcy5zY2FsZSl9O0EucHJvdG90eXBlLmlzUm91bmRhYmxlPWZ1bmN0aW9uKCl7cmV0dXJuITB9O0EucHJvdG90eXBlLnJlZHJhd1BhdGg9ZnVuY3Rpb24oYSxiLGUsYyxkKXtiPW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9BUkNTSVpFLG14Q29uc3RhbnRzLkxJTkVfQVJDU0laRSkvMjtlPU1hdGgubWF4KDAsTWF0aC5taW4oZCxwYXJzZUZsb2F0KG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSwic2l6ZSIsdGhpcy5zaXplKSkpKTt2YXIgZj1jKk1hdGgubWF4KDAsTWF0aC5taW4oMSxwYXJzZUZsb2F0KG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSwicG9zaXRpb24iLHRoaXMucG9zaXRpb24pKSkpLGc9YypNYXRoLm1heCgwLE1hdGgubWluKDEscGFyc2VGbG9hdChteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsInBvc2l0aW9uMiIsdGhpcy5wb3NpdGlvbjIpKSkpLGw9TWF0aC5tYXgoMCxNYXRoLm1pbihjLApwYXJzZUZsb2F0KG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSwiYmFzZSIsdGhpcy5iYXNlKSkpKTt0aGlzLmFkZFBvaW50cyhhLFtuZXcgbXhQb2ludCgwLDApLG5ldyBteFBvaW50KGMsMCksbmV3IG14UG9pbnQoYyxkLWUpLG5ldyBteFBvaW50KE1hdGgubWluKGMsZitsKSxkLWUpLG5ldyBteFBvaW50KGcsZCksbmV3IG14UG9pbnQoTWF0aC5tYXgoMCxmKSxkLWUpLG5ldyBteFBvaW50KDAsZC1lKV0sdGhpcy5pc1JvdW5kZWQsYiwhMCxbNF0pfTtteENlbGxSZW5kZXJlci5yZWdpc3RlclNoYXBlKCJjYWxsb3V0IixBKTtteFV0aWxzLmV4dGVuZChDLG14QWN0b3IpO0MucHJvdG90eXBlLnNpemU9LjI7Qy5wcm90b3R5cGUuZml4ZWRTaXplPTIwO0MucHJvdG90eXBlLmlzUm91bmRhYmxlPWZ1bmN0aW9uKCl7cmV0dXJuITB9O0MucHJvdG90eXBlLnJlZHJhd1BhdGg9ZnVuY3Rpb24oYSxiLGUsYyxkKXtiPSIwIiE9bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLCJmaXhlZFNpemUiLAoiMCIpP01hdGgubWF4KDAsTWF0aC5taW4oYyxwYXJzZUZsb2F0KG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSwic2l6ZSIsdGhpcy5maXhlZFNpemUpKSkpOmMqTWF0aC5tYXgoMCxNYXRoLm1pbigxLHBhcnNlRmxvYXQobXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLCJzaXplIix0aGlzLnNpemUpKSkpO2U9bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0FSQ1NJWkUsbXhDb25zdGFudHMuTElORV9BUkNTSVpFKS8yO3RoaXMuYWRkUG9pbnRzKGEsW25ldyBteFBvaW50KDAsMCksbmV3IG14UG9pbnQoYy1iLDApLG5ldyBteFBvaW50KGMsZC8yKSxuZXcgbXhQb2ludChjLWIsZCksbmV3IG14UG9pbnQoMCxkKSxuZXcgbXhQb2ludChiLGQvMildLHRoaXMuaXNSb3VuZGVkLGUsITApO2EuZW5kKCl9O214Q2VsbFJlbmRlcmVyLnJlZ2lzdGVyU2hhcGUoInN0ZXAiLEMpO214VXRpbHMuZXh0ZW5kKHosbXhIZXhhZ29uKTt6LnByb3RvdHlwZS5zaXplPQouMjU7ei5wcm90b3R5cGUuaXNSb3VuZGFibGU9ZnVuY3Rpb24oKXtyZXR1cm4hMH07ei5wcm90b3R5cGUucmVkcmF3UGF0aD1mdW5jdGlvbihhLGIsZSxjLGQpe2I9YypNYXRoLm1heCgwLE1hdGgubWluKDEscGFyc2VGbG9hdChteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsInNpemUiLHRoaXMuc2l6ZSkpKSk7ZT1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfQVJDU0laRSxteENvbnN0YW50cy5MSU5FX0FSQ1NJWkUpLzI7dGhpcy5hZGRQb2ludHMoYSxbbmV3IG14UG9pbnQoYiwwKSxuZXcgbXhQb2ludChjLWIsMCksbmV3IG14UG9pbnQoYywuNSpkKSxuZXcgbXhQb2ludChjLWIsZCksbmV3IG14UG9pbnQoYixkKSxuZXcgbXhQb2ludCgwLC41KmQpXSx0aGlzLmlzUm91bmRlZCxlLCEwKX07bXhDZWxsUmVuZGVyZXIucmVnaXN0ZXJTaGFwZSgiaGV4YWdvbiIseik7bXhVdGlscy5leHRlbmQoRCxteFJlY3RhbmdsZVNoYXBlKTtELnByb3RvdHlwZS5pc0h0bWxBbGxvd2VkPQpmdW5jdGlvbigpe3JldHVybiExfTtELnByb3RvdHlwZS5wYWludEZvcmVncm91bmQ9ZnVuY3Rpb24oYSxiLGUsYyxkKXt2YXIgZj1NYXRoLm1pbihjLzUsZC81KSsxO2EuYmVnaW4oKTthLm1vdmVUbyhiK2MvMixlK2YpO2EubGluZVRvKGIrYy8yLGUrZC1mKTthLm1vdmVUbyhiK2YsZStkLzIpO2EubGluZVRvKGIrYy1mLGUrZC8yKTthLmVuZCgpO2Euc3Ryb2tlKCk7bXhSZWN0YW5nbGVTaGFwZS5wcm90b3R5cGUucGFpbnRGb3JlZ3JvdW5kLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07bXhDZWxsUmVuZGVyZXIucmVnaXN0ZXJTaGFwZSgicGx1cyIsRCk7dmFyIE5hPW14UmhvbWJ1cy5wcm90b3R5cGUucGFpbnRWZXJ0ZXhTaGFwZTtteFJob21idXMucHJvdG90eXBlLmdldExhYmVsQm91bmRzPWZ1bmN0aW9uKGEpe2lmKDE9PXRoaXMuc3R5bGVbImRvdWJsZSJdKXt2YXIgYj0oMipNYXRoLm1heCgyLHRoaXMuc3Ryb2tld2lkdGgrMSkrcGFyc2VGbG9hdCh0aGlzLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX01BUkdJTl18fAowKSkqdGhpcy5zY2FsZTtyZXR1cm4gbmV3IG14UmVjdGFuZ2xlKGEueCtiLGEueStiLGEud2lkdGgtMipiLGEuaGVpZ2h0LTIqYil9cmV0dXJuIGF9O214UmhvbWJ1cy5wcm90b3R5cGUucGFpbnRWZXJ0ZXhTaGFwZT1mdW5jdGlvbihhLGIsZSxjLGQpe05hLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtpZighdGhpcy5vdXRsaW5lJiYxPT10aGlzLnN0eWxlWyJkb3VibGUiXSl7dmFyIGY9MipNYXRoLm1heCgyLHRoaXMuc3Ryb2tld2lkdGgrMSkrcGFyc2VGbG9hdCh0aGlzLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX01BUkdJTl18fDApO2IrPWY7ZSs9ZjtjLT0yKmY7ZC09MipmOzA8YyYmMDxkJiYoYS5zZXRTaGFkb3coITEpLE5hLmFwcGx5KHRoaXMsW2EsYixlLGMsZF0pKX19O214VXRpbHMuZXh0ZW5kKEcsbXhSZWN0YW5nbGVTaGFwZSk7Ry5wcm90b3R5cGUuaXNIdG1sQWxsb3dlZD1mdW5jdGlvbigpe3JldHVybiExfTtHLnByb3RvdHlwZS5nZXRMYWJlbEJvdW5kcz1mdW5jdGlvbihhKXtpZigxPT0KdGhpcy5zdHlsZVsiZG91YmxlIl0pe3ZhciBiPShNYXRoLm1heCgyLHRoaXMuc3Ryb2tld2lkdGgrMSkrcGFyc2VGbG9hdCh0aGlzLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX01BUkdJTl18fDApKSp0aGlzLnNjYWxlO3JldHVybiBuZXcgbXhSZWN0YW5nbGUoYS54K2IsYS55K2IsYS53aWR0aC0yKmIsYS5oZWlnaHQtMipiKX1yZXR1cm4gYX07Ry5wcm90b3R5cGUucGFpbnRGb3JlZ3JvdW5kPWZ1bmN0aW9uKGEsYixlLGMsZCl7aWYobnVsbCE9dGhpcy5zdHlsZSl7aWYoIXRoaXMub3V0bGluZSYmMT09dGhpcy5zdHlsZVsiZG91YmxlIl0pe3ZhciBmPU1hdGgubWF4KDIsdGhpcy5zdHJva2V3aWR0aCsxKStwYXJzZUZsb2F0KHRoaXMuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfTUFSR0lOXXx8MCk7Yis9ZjtlKz1mO2MtPTIqZjtkLT0yKmY7MDxjJiYwPGQmJm14UmVjdGFuZ2xlU2hhcGUucHJvdG90eXBlLnBhaW50QmFja2dyb3VuZC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9YS5zZXREYXNoZWQoITEpOwp2YXIgZj0wLGc7ZG97Zz1teENlbGxSZW5kZXJlci5kZWZhdWx0U2hhcGVzW3RoaXMuc3R5bGVbInN5bWJvbCIrZl1dO2lmKG51bGwhPWcpe3ZhciBsPXRoaXMuc3R5bGVbInN5bWJvbCIrZisiQWxpZ24iXSxwPXRoaXMuc3R5bGVbInN5bWJvbCIrZisiVmVydGljYWxBbGlnbiJdLGJhPXRoaXMuc3R5bGVbInN5bWJvbCIrZisiV2lkdGgiXSx1PXRoaXMuc3R5bGVbInN5bWJvbCIrZisiSGVpZ2h0Il0sbj10aGlzLnN0eWxlWyJzeW1ib2wiK2YrIlNwYWNpbmciXXx8MCx0PXRoaXMuc3R5bGVbInN5bWJvbCIrZisiVlNwYWNpbmciXXx8bixCPXRoaXMuc3R5bGVbInN5bWJvbCIrZisiQXJjU3BhY2luZyJdO251bGwhPUImJihCKj10aGlzLmdldEFyY1NpemUoYyt0aGlzLnN0cm9rZXdpZHRoLGQrdGhpcy5zdHJva2V3aWR0aCksbis9Qix0Kz1CKTt2YXIgQj1iLGs9ZSxCPWw9PW14Q29uc3RhbnRzLkFMSUdOX0NFTlRFUj9CKyhjLWJhKS8yOmw9PW14Q29uc3RhbnRzLkFMSUdOX1JJR0hUP0IrCihjLWJhLW4pOkIrbixrPXA9PW14Q29uc3RhbnRzLkFMSUdOX01JRERMRT9rKyhkLXUpLzI6cD09bXhDb25zdGFudHMuQUxJR05fQk9UVE9NP2srKGQtdS10KTprK3Q7YS5zYXZlKCk7bD1uZXcgZztsLnN0eWxlPXRoaXMuc3R5bGU7Zy5wcm90b3R5cGUucGFpbnRWZXJ0ZXhTaGFwZS5jYWxsKGwsYSxCLGssYmEsdSk7YS5yZXN0b3JlKCl9ZisrfXdoaWxlKG51bGwhPWcpfW14UmVjdGFuZ2xlU2hhcGUucHJvdG90eXBlLnBhaW50Rm9yZWdyb3VuZC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O214Q2VsbFJlbmRlcmVyLnJlZ2lzdGVyU2hhcGUoImV4dCIsRyk7bXhVdGlscy5leHRlbmQoRixteEN5bGluZGVyKTtGLnByb3RvdHlwZS5yZWRyYXdQYXRoPWZ1bmN0aW9uKGEsYixlLGMsZCxmKXtmPyhhLm1vdmVUbygwLDApLGEubGluZVRvKGMvMixkLzIpLGEubGluZVRvKGMsMCksYS5lbmQoKSk6KGEubW92ZVRvKDAsMCksYS5saW5lVG8oYywwKSxhLmxpbmVUbyhjLGQpLGEubGluZVRvKDAsZCksCmEuY2xvc2UoKSl9O214Q2VsbFJlbmRlcmVyLnJlZ2lzdGVyU2hhcGUoIm1lc3NhZ2UiLEYpO214VXRpbHMuZXh0ZW5kKEgsbXhTaGFwZSk7SC5wcm90b3R5cGUucGFpbnRCYWNrZ3JvdW5kPWZ1bmN0aW9uKGEsYixlLGMsZCl7YS50cmFuc2xhdGUoYixlKTthLmVsbGlwc2UoYy80LDAsYy8yLGQvNCk7YS5maWxsQW5kU3Ryb2tlKCk7YS5iZWdpbigpO2EubW92ZVRvKGMvMixkLzQpO2EubGluZVRvKGMvMiwyKmQvMyk7YS5tb3ZlVG8oYy8yLGQvMyk7YS5saW5lVG8oMCxkLzMpO2EubW92ZVRvKGMvMixkLzMpO2EubGluZVRvKGMsZC8zKTthLm1vdmVUbyhjLzIsMipkLzMpO2EubGluZVRvKDAsZCk7YS5tb3ZlVG8oYy8yLDIqZC8zKTthLmxpbmVUbyhjLGQpO2EuZW5kKCk7YS5zdHJva2UoKX07bXhDZWxsUmVuZGVyZXIucmVnaXN0ZXJTaGFwZSgidW1sQWN0b3IiLEgpO214VXRpbHMuZXh0ZW5kKEosbXhTaGFwZSk7Si5wcm90b3R5cGUuZ2V0TGFiZWxNYXJnaW5zPWZ1bmN0aW9uKGEpe3JldHVybiBuZXcgbXhSZWN0YW5nbGUoYS53aWR0aC8KNiwwLDAsMCl9O0oucHJvdG90eXBlLnBhaW50QmFja2dyb3VuZD1mdW5jdGlvbihhLGIsZSxjLGQpe2EudHJhbnNsYXRlKGIsZSk7YS5iZWdpbigpO2EubW92ZVRvKDAsZC80KTthLmxpbmVUbygwLDMqZC80KTthLmVuZCgpO2Euc3Ryb2tlKCk7YS5iZWdpbigpO2EubW92ZVRvKDAsZC8yKTthLmxpbmVUbyhjLzYsZC8yKTthLmVuZCgpO2Euc3Ryb2tlKCk7YS5lbGxpcHNlKGMvNiwwLDUqYy82LGQpO2EuZmlsbEFuZFN0cm9rZSgpfTtteENlbGxSZW5kZXJlci5yZWdpc3RlclNoYXBlKCJ1bWxCb3VuZGFyeSIsSik7bXhVdGlscy5leHRlbmQodSxteEVsbGlwc2UpO3UucHJvdG90eXBlLnBhaW50VmVydGV4U2hhcGU9ZnVuY3Rpb24oYSxiLGUsYyxkKXtteEVsbGlwc2UucHJvdG90eXBlLnBhaW50VmVydGV4U2hhcGUuYXBwbHkodGhpcyxhcmd1bWVudHMpO2EuYmVnaW4oKTthLm1vdmVUbyhiK2MvOCxlK2QpO2EubGluZVRvKGIrNypjLzgsZStkKTthLmVuZCgpO2Euc3Ryb2tlKCl9O214Q2VsbFJlbmRlcmVyLnJlZ2lzdGVyU2hhcGUoInVtbEVudGl0eSIsCnUpO214VXRpbHMuZXh0ZW5kKEssbXhTaGFwZSk7Sy5wcm90b3R5cGUucGFpbnRWZXJ0ZXhTaGFwZT1mdW5jdGlvbihhLGIsZSxjLGQpe2EudHJhbnNsYXRlKGIsZSk7YS5iZWdpbigpO2EubW92ZVRvKGMsMCk7YS5saW5lVG8oMCxkKTthLm1vdmVUbygwLDApO2EubGluZVRvKGMsZCk7YS5lbmQoKTthLnN0cm9rZSgpfTtteENlbGxSZW5kZXJlci5yZWdpc3RlclNoYXBlKCJ1bWxEZXN0cm95IixLKTtteFV0aWxzLmV4dGVuZChCLG14U2hhcGUpO0IucHJvdG90eXBlLmdldExhYmVsQm91bmRzPWZ1bmN0aW9uKGEpe3JldHVybiBuZXcgbXhSZWN0YW5nbGUoYS54LGEueSthLmhlaWdodC84LGEud2lkdGgsNyphLmhlaWdodC84KX07Qi5wcm90b3R5cGUucGFpbnRCYWNrZ3JvdW5kPWZ1bmN0aW9uKGEsYixlLGMsZCl7YS50cmFuc2xhdGUoYixlKTthLmJlZ2luKCk7YS5tb3ZlVG8oMypjLzgsZC84KjEuMSk7YS5saW5lVG8oNSpjLzgsMCk7YS5lbmQoKTthLnN0cm9rZSgpO2EuZWxsaXBzZSgwLApkLzgsYyw3KmQvOCk7YS5maWxsQW5kU3Ryb2tlKCl9O0IucHJvdG90eXBlLnBhaW50Rm9yZWdyb3VuZD1mdW5jdGlvbihhLGIsZSxjLGQpe2EuYmVnaW4oKTthLm1vdmVUbygzKmMvOCxkLzgqMS4xKTthLmxpbmVUbyg1KmMvOCxkLzQpO2EuZW5kKCk7YS5zdHJva2UoKX07bXhDZWxsUmVuZGVyZXIucmVnaXN0ZXJTaGFwZSgidW1sQ29udHJvbCIsQik7bXhVdGlscy5leHRlbmQoTSxteFJlY3RhbmdsZVNoYXBlKTtNLnByb3RvdHlwZS5zaXplPTQwO00ucHJvdG90eXBlLmlzSHRtbEFsbG93ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4hMX07TS5wcm90b3R5cGUuZ2V0TGFiZWxCb3VuZHM9ZnVuY3Rpb24oYSl7dmFyIGI9TWF0aC5tYXgoMCxNYXRoLm1pbihhLmhlaWdodCxwYXJzZUZsb2F0KG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSwic2l6ZSIsdGhpcy5zaXplKSkqdGhpcy5zY2FsZSkpO3JldHVybiBuZXcgbXhSZWN0YW5nbGUoYS54LGEueSxhLndpZHRoLGIpfTtNLnByb3RvdHlwZS5wYWludEJhY2tncm91bmQ9CmZ1bmN0aW9uKGEsYixlLGMsZCl7dmFyIGY9TWF0aC5tYXgoMCxNYXRoLm1pbihkLHBhcnNlRmxvYXQobXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLCJzaXplIix0aGlzLnNpemUpKSkpLGc9bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLCJwYXJ0aWNpcGFudCIpO251bGw9PWd8fG51bGw9PXRoaXMuc3RhdGU/bXhSZWN0YW5nbGVTaGFwZS5wcm90b3R5cGUucGFpbnRCYWNrZ3JvdW5kLmNhbGwodGhpcyxhLGIsZSxjLGYpOihnPXRoaXMuc3RhdGUudmlldy5ncmFwaC5jZWxsUmVuZGVyZXIuZ2V0U2hhcGUoZyksbnVsbCE9ZyYmZyE9TSYmKGc9bmV3IGcsZy5hcHBseSh0aGlzLnN0YXRlKSxhLnNhdmUoKSxnLnBhaW50VmVydGV4U2hhcGUoYSxiLGUsYyxmKSxhLnJlc3RvcmUoKSkpO2Y8ZCYmKGEuc2V0RGFzaGVkKCEwKSxhLmJlZ2luKCksYS5tb3ZlVG8oYitjLzIsZStmKSxhLmxpbmVUbyhiK2MvMixlK2QpLGEuZW5kKCksYS5zdHJva2UoKSl9O00ucHJvdG90eXBlLnBhaW50Rm9yZWdyb3VuZD0KZnVuY3Rpb24oYSxiLGUsYyxkKXt2YXIgZj1NYXRoLm1heCgwLE1hdGgubWluKGQscGFyc2VGbG9hdChteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsInNpemUiLHRoaXMuc2l6ZSkpKSk7bXhSZWN0YW5nbGVTaGFwZS5wcm90b3R5cGUucGFpbnRGb3JlZ3JvdW5kLmNhbGwodGhpcyxhLGIsZSxjLE1hdGgubWluKGQsZikpfTtteENlbGxSZW5kZXJlci5yZWdpc3RlclNoYXBlKCJ1bWxMaWZlbGluZSIsTSk7bXhVdGlscy5leHRlbmQoUCxteFNoYXBlKTtQLnByb3RvdHlwZS53aWR0aD02MDtQLnByb3RvdHlwZS5oZWlnaHQ9MzA7UC5wcm90b3R5cGUuY29ybmVyPTEwO1AucHJvdG90eXBlLmdldExhYmVsTWFyZ2lucz1mdW5jdGlvbihhKXtyZXR1cm4gbmV3IG14UmVjdGFuZ2xlKDAsMCxhLndpZHRoLXBhcnNlRmxvYXQobXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLCJ3aWR0aCIsdGhpcy53aWR0aCkqdGhpcy5zY2FsZSksYS5oZWlnaHQtcGFyc2VGbG9hdChteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsCiJoZWlnaHQiLHRoaXMuaGVpZ2h0KSp0aGlzLnNjYWxlKSl9O1AucHJvdG90eXBlLnBhaW50QmFja2dyb3VuZD1mdW5jdGlvbihhLGIsZSxjLGQpe3ZhciBmPXRoaXMuY29ybmVyLGc9TWF0aC5taW4oYyxNYXRoLm1heChmLHBhcnNlRmxvYXQobXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLCJ3aWR0aCIsdGhpcy53aWR0aCkpKSksbD1NYXRoLm1pbihkLE1hdGgubWF4KDEuNSpmLHBhcnNlRmxvYXQobXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLCJoZWlnaHQiLHRoaXMuaGVpZ2h0KSkpKSxwPW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9TV0lNTEFORV9GSUxMQ09MT1IsbXhDb25zdGFudHMuTk9ORSk7cCE9bXhDb25zdGFudHMuTk9ORSYmKGEuc2V0RmlsbENvbG9yKHApLGEucmVjdChiLGUsYyxkKSxhLmZpbGwoKSk7bnVsbCE9dGhpcy5maWxsJiZ0aGlzLmZpbGwhPW14Q29uc3RhbnRzLk5PTkUmJnRoaXMuZ3JhZGllbnQmJnRoaXMuZ3JhZGllbnQhPQpteENvbnN0YW50cy5OT05FPyh0aGlzLmdldEdyYWRpZW50Qm91bmRzKGEsYixlLGMsZCksYS5zZXRHcmFkaWVudCh0aGlzLmZpbGwsdGhpcy5ncmFkaWVudCxiLGUsYyxkLHRoaXMuZ3JhZGllbnREaXJlY3Rpb24pKTphLnNldEZpbGxDb2xvcih0aGlzLmZpbGwpO2EuYmVnaW4oKTthLm1vdmVUbyhiLGUpO2EubGluZVRvKGIrZyxlKTthLmxpbmVUbyhiK2csZStNYXRoLm1heCgwLGwtMS41KmYpKTthLmxpbmVUbyhiK01hdGgubWF4KDAsZy1mKSxlK2wpO2EubGluZVRvKGIsZStsKTthLmNsb3NlKCk7YS5maWxsQW5kU3Ryb2tlKCk7YS5iZWdpbigpO2EubW92ZVRvKGIrZyxlKTthLmxpbmVUbyhiK2MsZSk7YS5saW5lVG8oYitjLGUrZCk7YS5saW5lVG8oYixlK2QpO2EubGluZVRvKGIsZStsKTthLnN0cm9rZSgpfTtteENlbGxSZW5kZXJlci5yZWdpc3RlclNoYXBlKCJ1bWxGcmFtZSIsUCk7bXhQZXJpbWV0ZXIuTGlmZWxpbmVQZXJpbWV0ZXI9ZnVuY3Rpb24oYSxiLGUsYyl7Yz1NLnByb3RvdHlwZS5zaXplOwpudWxsIT1iJiYoYz1teFV0aWxzLmdldFZhbHVlKGIuc3R5bGUsInNpemUiLGMpKmIudmlldy5zY2FsZSk7Yj1wYXJzZUZsb2F0KGIuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfU1RST0tFV0lEVEhdfHwxKSpiLnZpZXcuc2NhbGUvMi0xO2UueDxhLmdldENlbnRlclgoKSYmKGI9LTEqKGIrMSkpO3JldHVybiBuZXcgbXhQb2ludChhLmdldENlbnRlclgoKStiLE1hdGgubWluKGEueSthLmhlaWdodCxNYXRoLm1heChhLnkrYyxlLnkpKSl9O214U3R5bGVSZWdpc3RyeS5wdXRWYWx1ZSgibGlmZWxpbmVQZXJpbWV0ZXIiLG14UGVyaW1ldGVyLkxpZmVsaW5lUGVyaW1ldGVyKTtteFBlcmltZXRlci5PcnRob2dvbmFsUGVyaW1ldGVyPWZ1bmN0aW9uKGEsYixlLGMpe2M9ITA7cmV0dXJuIG14UGVyaW1ldGVyLlJlY3RhbmdsZVBlcmltZXRlci5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O214U3R5bGVSZWdpc3RyeS5wdXRWYWx1ZSgib3J0aG9nb25hbFBlcmltZXRlciIsbXhQZXJpbWV0ZXIuT3J0aG9nb25hbFBlcmltZXRlcik7Cm14UGVyaW1ldGVyLkJhY2tib25lUGVyaW1ldGVyPWZ1bmN0aW9uKGEsYixlLGMpe2M9cGFyc2VGbG9hdChiLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX1NUUk9LRVdJRFRIXXx8MSkqYi52aWV3LnNjYWxlLzItMTtudWxsIT1iLnN0eWxlLmJhY2tib25lU2l6ZSYmKGMrPXBhcnNlRmxvYXQoYi5zdHlsZS5iYWNrYm9uZVNpemUpKmIudmlldy5zY2FsZS8yLTEpO2lmKCJzb3V0aCI9PWIuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfRElSRUNUSU9OXXx8Im5vcnRoIj09Yi5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9ESVJFQ1RJT05dKXJldHVybiBlLng8YS5nZXRDZW50ZXJYKCkmJihjPS0xKihjKzEpKSxuZXcgbXhQb2ludChhLmdldENlbnRlclgoKStjLE1hdGgubWluKGEueSthLmhlaWdodCxNYXRoLm1heChhLnksZS55KSkpO2UueTxhLmdldENlbnRlclkoKSYmKGM9LTEqKGMrMSkpO3JldHVybiBuZXcgbXhQb2ludChNYXRoLm1pbihhLngrYS53aWR0aCxNYXRoLm1heChhLngsZS54KSksCmEuZ2V0Q2VudGVyWSgpK2MpfTtteFN0eWxlUmVnaXN0cnkucHV0VmFsdWUoImJhY2tib25lUGVyaW1ldGVyIixteFBlcmltZXRlci5CYWNrYm9uZVBlcmltZXRlcik7bXhQZXJpbWV0ZXIuQ2FsbG91dFBlcmltZXRlcj1mdW5jdGlvbihhLGIsZSxjKXtyZXR1cm4gbXhQZXJpbWV0ZXIuUmVjdGFuZ2xlUGVyaW1ldGVyKG14VXRpbHMuZ2V0RGlyZWN0ZWRCb3VuZHMoYSxuZXcgbXhSZWN0YW5nbGUoMCwwLDAsTWF0aC5tYXgoMCxNYXRoLm1pbihhLmhlaWdodCxwYXJzZUZsb2F0KG14VXRpbHMuZ2V0VmFsdWUoYi5zdHlsZSwic2l6ZSIsQS5wcm90b3R5cGUuc2l6ZSkpKmIudmlldy5zY2FsZSkpKSxiLnN0eWxlKSxiLGUsYyl9O214U3R5bGVSZWdpc3RyeS5wdXRWYWx1ZSgiY2FsbG91dFBlcmltZXRlciIsbXhQZXJpbWV0ZXIuQ2FsbG91dFBlcmltZXRlcik7bXhQZXJpbWV0ZXIuUGFyYWxsZWxvZ3JhbVBlcmltZXRlcj1mdW5jdGlvbihhLGIsZSxjKXt2YXIgZD1sLnByb3RvdHlwZS5zaXplOwpudWxsIT1iJiYoZD1teFV0aWxzLmdldFZhbHVlKGIuc3R5bGUsInNpemUiLGQpKTt2YXIgZj1hLngsZz1hLnkscD1hLndpZHRoLHU9YS5oZWlnaHQ7Yj1udWxsIT1iP214VXRpbHMuZ2V0VmFsdWUoYi5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9ESVJFQ1RJT04sbXhDb25zdGFudHMuRElSRUNUSU9OX0VBU1QpOm14Q29uc3RhbnRzLkRJUkVDVElPTl9FQVNUO2I9PW14Q29uc3RhbnRzLkRJUkVDVElPTl9OT1JUSHx8Yj09bXhDb25zdGFudHMuRElSRUNUSU9OX1NPVVRIPyhkPXUqTWF0aC5tYXgoMCxNYXRoLm1pbigxLGQpKSxnPVtuZXcgbXhQb2ludChmLGcpLG5ldyBteFBvaW50KGYrcCxnK2QpLG5ldyBteFBvaW50KGYrcCxnK3UpLG5ldyBteFBvaW50KGYsZyt1LWQpLG5ldyBteFBvaW50KGYsZyldKTooZD1wKk1hdGgubWF4KDAsTWF0aC5taW4oMSxkKSksZz1bbmV3IG14UG9pbnQoZitkLGcpLG5ldyBteFBvaW50KGYrcCxnKSxuZXcgbXhQb2ludChmK3AtZCxnK3UpLG5ldyBteFBvaW50KGYsCmcrdSksbmV3IG14UG9pbnQoZitkLGcpXSk7dT1hLmdldENlbnRlclgoKTthPWEuZ2V0Q2VudGVyWSgpO2E9bmV3IG14UG9pbnQodSxhKTtjJiYoZS54PGZ8fGUueD5mK3A/YS55PWUueTphLng9ZS54KTtyZXR1cm4gbXhVdGlscy5nZXRQZXJpbWV0ZXJQb2ludChnLGEsZSl9O214U3R5bGVSZWdpc3RyeS5wdXRWYWx1ZSgicGFyYWxsZWxvZ3JhbVBlcmltZXRlciIsbXhQZXJpbWV0ZXIuUGFyYWxsZWxvZ3JhbVBlcmltZXRlcik7bXhQZXJpbWV0ZXIuVHJhcGV6b2lkUGVyaW1ldGVyPWZ1bmN0aW9uKGEsYixlLGMpe3ZhciBkPW4ucHJvdG90eXBlLnNpemU7bnVsbCE9YiYmKGQ9bXhVdGlscy5nZXRWYWx1ZShiLnN0eWxlLCJzaXplIixkKSk7dmFyIGY9YS54LGc9YS55LGw9YS53aWR0aCxwPWEuaGVpZ2h0O2I9bnVsbCE9Yj9teFV0aWxzLmdldFZhbHVlKGIuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfRElSRUNUSU9OLG14Q29uc3RhbnRzLkRJUkVDVElPTl9FQVNUKTpteENvbnN0YW50cy5ESVJFQ1RJT05fRUFTVDsKYj09bXhDb25zdGFudHMuRElSRUNUSU9OX0VBU1Q/KGQ9bCpNYXRoLm1heCgwLE1hdGgubWluKDEsZCkpLGc9W25ldyBteFBvaW50KGYrZCxnKSxuZXcgbXhQb2ludChmK2wtZCxnKSxuZXcgbXhQb2ludChmK2wsZytwKSxuZXcgbXhQb2ludChmLGcrcCksbmV3IG14UG9pbnQoZitkLGcpXSk6Yj09bXhDb25zdGFudHMuRElSRUNUSU9OX1dFU1Q/KGQ9bCpNYXRoLm1heCgwLE1hdGgubWluKDEsZCkpLGc9W25ldyBteFBvaW50KGYsZyksbmV3IG14UG9pbnQoZitsLGcpLG5ldyBteFBvaW50KGYrbC1kLGcrcCksbmV3IG14UG9pbnQoZitkLGcrcCksbmV3IG14UG9pbnQoZixnKV0pOmI9PW14Q29uc3RhbnRzLkRJUkVDVElPTl9OT1JUSD8oZD1wKk1hdGgubWF4KDAsTWF0aC5taW4oMSxkKSksZz1bbmV3IG14UG9pbnQoZixnK2QpLG5ldyBteFBvaW50KGYrbCxnKSxuZXcgbXhQb2ludChmK2wsZytwKSxuZXcgbXhQb2ludChmLGcrcC1kKSxuZXcgbXhQb2ludChmLGcrZCldKTooZD1wKk1hdGgubWF4KDAsCk1hdGgubWluKDEsZCkpLGc9W25ldyBteFBvaW50KGYsZyksbmV3IG14UG9pbnQoZitsLGcrZCksbmV3IG14UG9pbnQoZitsLGcrcC1kKSxuZXcgbXhQb2ludChmLGcrcCksbmV3IG14UG9pbnQoZixnKV0pO3A9YS5nZXRDZW50ZXJYKCk7YT1hLmdldENlbnRlclkoKTthPW5ldyBteFBvaW50KHAsYSk7YyYmKGUueDxmfHxlLng+ZitsP2EueT1lLnk6YS54PWUueCk7cmV0dXJuIG14VXRpbHMuZ2V0UGVyaW1ldGVyUG9pbnQoZyxhLGUpfTtteFN0eWxlUmVnaXN0cnkucHV0VmFsdWUoInRyYXBlem9pZFBlcmltZXRlciIsbXhQZXJpbWV0ZXIuVHJhcGV6b2lkUGVyaW1ldGVyKTtteFBlcmltZXRlci5TdGVwUGVyaW1ldGVyPWZ1bmN0aW9uKGEsYixlLGMpe3ZhciBkPSIwIiE9bXhVdGlscy5nZXRWYWx1ZShiLnN0eWxlLCJmaXhlZFNpemUiLCIwIiksZj1kP0MucHJvdG90eXBlLmZpeGVkU2l6ZTpDLnByb3RvdHlwZS5zaXplO251bGwhPWImJihmPW14VXRpbHMuZ2V0VmFsdWUoYi5zdHlsZSwKInNpemUiLGYpKTt2YXIgZz1hLngsbD1hLnkscD1hLndpZHRoLHU9YS5oZWlnaHQsbj1hLmdldENlbnRlclgoKTthPWEuZ2V0Q2VudGVyWSgpO2I9bnVsbCE9Yj9teFV0aWxzLmdldFZhbHVlKGIuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfRElSRUNUSU9OLG14Q29uc3RhbnRzLkRJUkVDVElPTl9FQVNUKTpteENvbnN0YW50cy5ESVJFQ1RJT05fRUFTVDtiPT1teENvbnN0YW50cy5ESVJFQ1RJT05fRUFTVD8oZD1kP01hdGgubWF4KDAsTWF0aC5taW4ocCxmKSk6cCpNYXRoLm1heCgwLE1hdGgubWluKDEsZikpLGw9W25ldyBteFBvaW50KGcsbCksbmV3IG14UG9pbnQoZytwLWQsbCksbmV3IG14UG9pbnQoZytwLGEpLG5ldyBteFBvaW50KGcrcC1kLGwrdSksbmV3IG14UG9pbnQoZyxsK3UpLG5ldyBteFBvaW50KGcrZCxhKSxuZXcgbXhQb2ludChnLGwpXSk6Yj09bXhDb25zdGFudHMuRElSRUNUSU9OX1dFU1Q/KGQ9ZD9NYXRoLm1heCgwLE1hdGgubWluKHAsZikpOnAqTWF0aC5tYXgoMCwKTWF0aC5taW4oMSxmKSksbD1bbmV3IG14UG9pbnQoZytkLGwpLG5ldyBteFBvaW50KGcrcCxsKSxuZXcgbXhQb2ludChnK3AtZCxhKSxuZXcgbXhQb2ludChnK3AsbCt1KSxuZXcgbXhQb2ludChnK2QsbCt1KSxuZXcgbXhQb2ludChnLGEpLG5ldyBteFBvaW50KGcrZCxsKV0pOmI9PW14Q29uc3RhbnRzLkRJUkVDVElPTl9OT1JUSD8oZD1kP01hdGgubWF4KDAsTWF0aC5taW4odSxmKSk6dSpNYXRoLm1heCgwLE1hdGgubWluKDEsZikpLGw9W25ldyBteFBvaW50KGcsbCtkKSxuZXcgbXhQb2ludChuLGwpLG5ldyBteFBvaW50KGcrcCxsK2QpLG5ldyBteFBvaW50KGcrcCxsK3UpLG5ldyBteFBvaW50KG4sbCt1LWQpLG5ldyBteFBvaW50KGcsbCt1KSxuZXcgbXhQb2ludChnLGwrZCldKTooZD1kP01hdGgubWF4KDAsTWF0aC5taW4odSxmKSk6dSpNYXRoLm1heCgwLE1hdGgubWluKDEsZikpLGw9W25ldyBteFBvaW50KGcsbCksbmV3IG14UG9pbnQobixsK2QpLG5ldyBteFBvaW50KGcrCnAsbCksbmV3IG14UG9pbnQoZytwLGwrdS1kKSxuZXcgbXhQb2ludChuLGwrdSksbmV3IG14UG9pbnQoZyxsK3UtZCksbmV3IG14UG9pbnQoZyxsKV0pO249bmV3IG14UG9pbnQobixhKTtjJiYoZS54PGd8fGUueD5nK3A/bi55PWUueTpuLng9ZS54KTtyZXR1cm4gbXhVdGlscy5nZXRQZXJpbWV0ZXJQb2ludChsLG4sZSl9O214U3R5bGVSZWdpc3RyeS5wdXRWYWx1ZSgic3RlcFBlcmltZXRlciIsbXhQZXJpbWV0ZXIuU3RlcFBlcmltZXRlcik7bXhQZXJpbWV0ZXIuSGV4YWdvblBlcmltZXRlcjI9ZnVuY3Rpb24oYSxiLGUsYyl7dmFyIGQ9ei5wcm90b3R5cGUuc2l6ZTtudWxsIT1iJiYoZD1teFV0aWxzLmdldFZhbHVlKGIuc3R5bGUsInNpemUiLGQpKTt2YXIgZj1hLngsZz1hLnksbD1hLndpZHRoLHA9YS5oZWlnaHQsdT1hLmdldENlbnRlclgoKTthPWEuZ2V0Q2VudGVyWSgpO2I9bnVsbCE9Yj9teFV0aWxzLmdldFZhbHVlKGIuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfRElSRUNUSU9OLApteENvbnN0YW50cy5ESVJFQ1RJT05fRUFTVCk6bXhDb25zdGFudHMuRElSRUNUSU9OX0VBU1Q7Yj09bXhDb25zdGFudHMuRElSRUNUSU9OX05PUlRIfHxiPT1teENvbnN0YW50cy5ESVJFQ1RJT05fU09VVEg/KGQ9cCpNYXRoLm1heCgwLE1hdGgubWluKDEsZCkpLGc9W25ldyBteFBvaW50KHUsZyksbmV3IG14UG9pbnQoZitsLGcrZCksbmV3IG14UG9pbnQoZitsLGcrcC1kKSxuZXcgbXhQb2ludCh1LGcrcCksbmV3IG14UG9pbnQoZixnK3AtZCksbmV3IG14UG9pbnQoZixnK2QpLG5ldyBteFBvaW50KHUsZyldKTooZD1sKk1hdGgubWF4KDAsTWF0aC5taW4oMSxkKSksZz1bbmV3IG14UG9pbnQoZitkLGcpLG5ldyBteFBvaW50KGYrbC1kLGcpLG5ldyBteFBvaW50KGYrbCxhKSxuZXcgbXhQb2ludChmK2wtZCxnK3ApLG5ldyBteFBvaW50KGYrZCxnK3ApLG5ldyBteFBvaW50KGYsYSksbmV3IG14UG9pbnQoZitkLGcpXSk7dT1uZXcgbXhQb2ludCh1LGEpO2MmJihlLng8Znx8ZS54PmYrCmw/dS55PWUueTp1Lng9ZS54KTtyZXR1cm4gbXhVdGlscy5nZXRQZXJpbWV0ZXJQb2ludChnLHUsZSl9O214U3R5bGVSZWdpc3RyeS5wdXRWYWx1ZSgiaGV4YWdvblBlcmltZXRlcjIiLG14UGVyaW1ldGVyLkhleGFnb25QZXJpbWV0ZXIyKTtteFV0aWxzLmV4dGVuZChJLG14U2hhcGUpO0kucHJvdG90eXBlLnNpemU9MTA7SS5wcm90b3R5cGUucGFpbnRCYWNrZ3JvdW5kPWZ1bmN0aW9uKGEsYixlLGMsZCl7dmFyIGY9cGFyc2VGbG9hdChteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsInNpemUiLHRoaXMuc2l6ZSkpO2EudHJhbnNsYXRlKGIsZSk7YS5lbGxpcHNlKChjLWYpLzIsMCxmLGYpO2EuZmlsbEFuZFN0cm9rZSgpO2EuYmVnaW4oKTthLm1vdmVUbyhjLzIsZik7YS5saW5lVG8oYy8yLGQpO2EuZW5kKCk7YS5zdHJva2UoKX07bXhDZWxsUmVuZGVyZXIucmVnaXN0ZXJTaGFwZSgibG9sbGlwb3AiLEkpO214VXRpbHMuZXh0ZW5kKFIsbXhTaGFwZSk7Ui5wcm90b3R5cGUuc2l6ZT0KMTA7Ui5wcm90b3R5cGUuaW5zZXQ9MjtSLnByb3RvdHlwZS5wYWludEJhY2tncm91bmQ9ZnVuY3Rpb24oYSxiLGUsYyxkKXt2YXIgZj1wYXJzZUZsb2F0KG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSwic2l6ZSIsdGhpcy5zaXplKSksZz1wYXJzZUZsb2F0KG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSwiaW5zZXQiLHRoaXMuaW5zZXQpKSt0aGlzLnN0cm9rZXdpZHRoO2EudHJhbnNsYXRlKGIsZSk7YS5iZWdpbigpO2EubW92ZVRvKGMvMixmK2cpO2EubGluZVRvKGMvMixkKTthLmVuZCgpO2Euc3Ryb2tlKCk7YS5iZWdpbigpO2EubW92ZVRvKChjLWYpLzItZyxmLzIpO2EucXVhZFRvKChjLWYpLzItZyxmK2csYy8yLGYrZyk7YS5xdWFkVG8oKGMrZikvMitnLGYrZywoYytmKS8yK2csZi8yKTthLmVuZCgpO2Euc3Ryb2tlKCl9O214Q2VsbFJlbmRlcmVyLnJlZ2lzdGVyU2hhcGUoInJlcXVpcmVzIixSKTtteFV0aWxzLmV4dGVuZChlYSxteFNoYXBlKTtlYS5wcm90b3R5cGUucGFpbnRCYWNrZ3JvdW5kPQpmdW5jdGlvbihhLGIsZSxjLGQpe2EudHJhbnNsYXRlKGIsZSk7YS5iZWdpbigpO2EubW92ZVRvKDAsMCk7YS5xdWFkVG8oYywwLGMsZC8yKTthLnF1YWRUbyhjLGQsMCxkKTthLmVuZCgpO2Euc3Ryb2tlKCl9O214Q2VsbFJlbmRlcmVyLnJlZ2lzdGVyU2hhcGUoInJlcXVpcmVkSW50ZXJmYWNlIixlYSk7bXhVdGlscy5leHRlbmQoZmEsbXhTaGFwZSk7ZmEucHJvdG90eXBlLmluc2V0PTI7ZmEucHJvdG90eXBlLnBhaW50QmFja2dyb3VuZD1mdW5jdGlvbihhLGIsZSxjLGQpe3ZhciBmPXBhcnNlRmxvYXQobXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLCJpbnNldCIsdGhpcy5pbnNldCkpK3RoaXMuc3Ryb2tld2lkdGg7YS50cmFuc2xhdGUoYixlKTthLmVsbGlwc2UoMCxmLGMtMipmLGQtMipmKTthLmZpbGxBbmRTdHJva2UoKTthLmJlZ2luKCk7YS5tb3ZlVG8oYy8yLDApO2EucXVhZFRvKGMsMCxjLGQvMik7YS5xdWFkVG8oYyxkLGMvMixkKTthLmVuZCgpO2Euc3Ryb2tlKCl9O214Q2VsbFJlbmRlcmVyLnJlZ2lzdGVyU2hhcGUoInByb3ZpZGVkUmVxdWlyZWRJbnRlcmZhY2UiLApmYSk7bXhVdGlscy5leHRlbmQoWSxteEN5bGluZGVyKTtZLnByb3RvdHlwZS5qZXR0eVdpZHRoPTIwO1kucHJvdG90eXBlLmpldHR5SGVpZ2h0PTEwO1kucHJvdG90eXBlLnJlZHJhd1BhdGg9ZnVuY3Rpb24oYSxiLGUsYyxkLGYpe3ZhciBnPXBhcnNlRmxvYXQobXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLCJqZXR0eVdpZHRoIix0aGlzLmpldHR5V2lkdGgpKTtiPXBhcnNlRmxvYXQobXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLCJqZXR0eUhlaWdodCIsdGhpcy5qZXR0eUhlaWdodCkpO2U9Zy8yO3ZhciBnPWUrZy8yLGw9TWF0aC5taW4oYixkLWIpLHA9TWF0aC5taW4obCsyKmIsZC1iKTtmPyhhLm1vdmVUbyhlLGwpLGEubGluZVRvKGcsbCksYS5saW5lVG8oZyxsK2IpLGEubGluZVRvKGUsbCtiKSxhLm1vdmVUbyhlLHApLGEubGluZVRvKGcscCksYS5saW5lVG8oZyxwK2IpLGEubGluZVRvKGUscCtiKSk6KGEubW92ZVRvKGUsMCksYS5saW5lVG8oYywwKSxhLmxpbmVUbyhjLApkKSxhLmxpbmVUbyhlLGQpLGEubGluZVRvKGUscCtiKSxhLmxpbmVUbygwLHArYiksYS5saW5lVG8oMCxwKSxhLmxpbmVUbyhlLHApLGEubGluZVRvKGUsbCtiKSxhLmxpbmVUbygwLGwrYiksYS5saW5lVG8oMCxsKSxhLmxpbmVUbyhlLGwpLGEuY2xvc2UoKSk7YS5lbmQoKX07bXhDZWxsUmVuZGVyZXIucmVnaXN0ZXJTaGFwZSgibW9kdWxlIixZKTtteFV0aWxzLmV4dGVuZChaLG14Q3lsaW5kZXIpO1oucHJvdG90eXBlLmpldHR5V2lkdGg9MzI7Wi5wcm90b3R5cGUuamV0dHlIZWlnaHQ9MTI7Wi5wcm90b3R5cGUucmVkcmF3UGF0aD1mdW5jdGlvbihhLGIsZSxjLGQsZil7dmFyIGc9cGFyc2VGbG9hdChteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsImpldHR5V2lkdGgiLHRoaXMuamV0dHlXaWR0aCkpO2I9cGFyc2VGbG9hdChteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsImpldHR5SGVpZ2h0Iix0aGlzLmpldHR5SGVpZ2h0KSk7ZT1nLzI7dmFyIGc9ZStnLzIsbD0uMypkLWIvCjIscD0uNypkLWIvMjtmPyhhLm1vdmVUbyhlLGwpLGEubGluZVRvKGcsbCksYS5saW5lVG8oZyxsK2IpLGEubGluZVRvKGUsbCtiKSxhLm1vdmVUbyhlLHApLGEubGluZVRvKGcscCksYS5saW5lVG8oZyxwK2IpLGEubGluZVRvKGUscCtiKSk6KGEubW92ZVRvKGUsMCksYS5saW5lVG8oYywwKSxhLmxpbmVUbyhjLGQpLGEubGluZVRvKGUsZCksYS5saW5lVG8oZSxwK2IpLGEubGluZVRvKDAscCtiKSxhLmxpbmVUbygwLHApLGEubGluZVRvKGUscCksYS5saW5lVG8oZSxsK2IpLGEubGluZVRvKDAsbCtiKSxhLmxpbmVUbygwLGwpLGEubGluZVRvKGUsbCksYS5jbG9zZSgpKTthLmVuZCgpfTtteENlbGxSZW5kZXJlci5yZWdpc3RlclNoYXBlKCJjb21wb25lbnQiLFopO214VXRpbHMuZXh0ZW5kKFgsbXhSZWN0YW5nbGVTaGFwZSk7WC5wcm90b3R5cGUucGFpbnRGb3JlZ3JvdW5kPWZ1bmN0aW9uKGEsYixlLGMsZCl7dmFyIGY9Yy8yLGc9ZC8yLGw9bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLApteENvbnN0YW50cy5TVFlMRV9BUkNTSVpFLG14Q29uc3RhbnRzLkxJTkVfQVJDU0laRSkvMjthLmJlZ2luKCk7dGhpcy5hZGRQb2ludHMoYSxbbmV3IG14UG9pbnQoYitmLGUpLG5ldyBteFBvaW50KGIrYyxlK2cpLG5ldyBteFBvaW50KGIrZixlK2QpLG5ldyBteFBvaW50KGIsZStnKV0sdGhpcy5pc1JvdW5kZWQsbCwhMCk7YS5zdHJva2UoKTtteFJlY3RhbmdsZVNoYXBlLnByb3RvdHlwZS5wYWludEZvcmVncm91bmQuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtteENlbGxSZW5kZXJlci5yZWdpc3RlclNoYXBlKCJhc3NvY2lhdGl2ZUVudGl0eSIsWCk7bXhVdGlscy5leHRlbmQoYWEsbXhEb3VibGVFbGxpcHNlKTthYS5wcm90b3R5cGUub3V0ZXJTdHJva2U9ITA7YWEucHJvdG90eXBlLnBhaW50VmVydGV4U2hhcGU9ZnVuY3Rpb24oYSxiLGUsYyxkKXt2YXIgZj1NYXRoLm1pbig0LE1hdGgubWluKGMvNSxkLzUpKTswPGMmJjA8ZCYmKGEuZWxsaXBzZShiK2YsZStmLGMtMipmLGQtMioKZiksYS5maWxsQW5kU3Ryb2tlKCkpO2Euc2V0U2hhZG93KCExKTt0aGlzLm91dGVyU3Ryb2tlJiYoYS5lbGxpcHNlKGIsZSxjLGQpLGEuc3Ryb2tlKCkpfTtteENlbGxSZW5kZXJlci5yZWdpc3RlclNoYXBlKCJlbmRTdGF0ZSIsYWEpO214VXRpbHMuZXh0ZW5kKGdhLGFhKTtnYS5wcm90b3R5cGUub3V0ZXJTdHJva2U9ITE7bXhDZWxsUmVuZGVyZXIucmVnaXN0ZXJTaGFwZSgic3RhcnRTdGF0ZSIsZ2EpO214VXRpbHMuZXh0ZW5kKGRhLG14QXJyb3dDb25uZWN0b3IpO2RhLnByb3RvdHlwZS5kZWZhdWx0V2lkdGg9NDtkYS5wcm90b3R5cGUuaXNPcGVuRW5kZWQ9ZnVuY3Rpb24oKXtyZXR1cm4hMH07ZGEucHJvdG90eXBlLmdldEVkZ2VXaWR0aD1mdW5jdGlvbigpe3JldHVybiBteFV0aWxzLmdldE51bWJlcih0aGlzLnN0eWxlLCJ3aWR0aCIsdGhpcy5kZWZhdWx0V2lkdGgpK01hdGgubWF4KDAsdGhpcy5zdHJva2V3aWR0aC0xKX07ZGEucHJvdG90eXBlLmlzQXJyb3dSb3VuZGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNSb3VuZGVkfTsKbXhDZWxsUmVuZGVyZXIucmVnaXN0ZXJTaGFwZSgibGluayIsZGEpO214VXRpbHMuZXh0ZW5kKFUsbXhBcnJvd0Nvbm5lY3Rvcik7VS5wcm90b3R5cGUuZGVmYXVsdFdpZHRoPTEwO1UucHJvdG90eXBlLmRlZmF1bHRBcnJvd1dpZHRoPTIwO1UucHJvdG90eXBlLmdldFN0YXJ0QXJyb3dXaWR0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldEVkZ2VXaWR0aCgpK214VXRpbHMuZ2V0TnVtYmVyKHRoaXMuc3R5bGUsInN0YXJ0V2lkdGgiLHRoaXMuZGVmYXVsdEFycm93V2lkdGgpfTtVLnByb3RvdHlwZS5nZXRFbmRBcnJvd1dpZHRoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0RWRnZVdpZHRoKCkrbXhVdGlscy5nZXROdW1iZXIodGhpcy5zdHlsZSwiZW5kV2lkdGgiLHRoaXMuZGVmYXVsdEFycm93V2lkdGgpfTtVLnByb3RvdHlwZS5nZXRFZGdlV2lkdGg9ZnVuY3Rpb24oKXtyZXR1cm4gbXhVdGlscy5nZXROdW1iZXIodGhpcy5zdHlsZSwid2lkdGgiLHRoaXMuZGVmYXVsdFdpZHRoKSsKTWF0aC5tYXgoMCx0aGlzLnN0cm9rZXdpZHRoLTEpfTtteENlbGxSZW5kZXJlci5yZWdpc3RlclNoYXBlKCJmbGV4QXJyb3ciLFUpO214VXRpbHMuZXh0ZW5kKGNhLG14QWN0b3IpO2NhLnByb3RvdHlwZS5zaXplPTMwO2NhLnByb3RvdHlwZS5pc1JvdW5kYWJsZT1mdW5jdGlvbigpe3JldHVybiEwfTtjYS5wcm90b3R5cGUucmVkcmF3UGF0aD1mdW5jdGlvbihhLGIsZSxjLGQpe2I9TWF0aC5taW4oZCxwYXJzZUZsb2F0KG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSwic2l6ZSIsdGhpcy5zaXplKSkpO2U9bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0FSQ1NJWkUsbXhDb25zdGFudHMuTElORV9BUkNTSVpFKS8yO3RoaXMuYWRkUG9pbnRzKGEsW25ldyBteFBvaW50KDAsZCksbmV3IG14UG9pbnQoMCxiKSxuZXcgbXhQb2ludChjLDApLG5ldyBteFBvaW50KGMsZCldLHRoaXMuaXNSb3VuZGVkLGUsITApO2EuZW5kKCl9O214Q2VsbFJlbmRlcmVyLnJlZ2lzdGVyU2hhcGUoIm1hbnVhbElucHV0IiwKY2EpO214VXRpbHMuZXh0ZW5kKFEsbXhSZWN0YW5nbGVTaGFwZSk7US5wcm90b3R5cGUuZHg9MjA7US5wcm90b3R5cGUuZHk9MjA7US5wcm90b3R5cGUuaXNIdG1sQWxsb3dlZD1mdW5jdGlvbigpe3JldHVybiExfTtRLnByb3RvdHlwZS5wYWludEZvcmVncm91bmQ9ZnVuY3Rpb24oYSxiLGUsYyxkKXtteFJlY3RhbmdsZVNoYXBlLnByb3RvdHlwZS5wYWludEZvcmVncm91bmQuYXBwbHkodGhpcyxhcmd1bWVudHMpO3ZhciBmPTA7aWYodGhpcy5pc1JvdW5kZWQpdmFyIGc9bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0FSQ1NJWkUsMTAwKm14Q29uc3RhbnRzLlJFQ1RBTkdMRV9ST1VORElOR19GQUNUT1IpLzEwMCxmPU1hdGgubWF4KGYsTWF0aC5taW4oYypnLGQqZykpO2c9TWF0aC5tYXgoZixNYXRoLm1pbihjLHBhcnNlRmxvYXQobXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLCJkeCIsdGhpcy5keCkpKSk7Zj1NYXRoLm1heChmLE1hdGgubWluKGQsCnBhcnNlRmxvYXQobXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLCJkeSIsdGhpcy5keSkpKSk7YS5iZWdpbigpO2EubW92ZVRvKGIsZStmKTthLmxpbmVUbyhiK2MsZStmKTthLmVuZCgpO2Euc3Ryb2tlKCk7YS5iZWdpbigpO2EubW92ZVRvKGIrZyxlKTthLmxpbmVUbyhiK2csZStkKTthLmVuZCgpO2Euc3Ryb2tlKCl9O214Q2VsbFJlbmRlcmVyLnJlZ2lzdGVyU2hhcGUoImludGVybmFsU3RvcmFnZSIsUSk7bXhVdGlscy5leHRlbmQoTCxteEFjdG9yKTtMLnByb3RvdHlwZS5keD0yMDtMLnByb3RvdHlwZS5keT0yMDtMLnByb3RvdHlwZS5yZWRyYXdQYXRoPWZ1bmN0aW9uKGEsYixlLGMsZCl7Yj1NYXRoLm1heCgwLE1hdGgubWluKGMscGFyc2VGbG9hdChteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsImR4Iix0aGlzLmR4KSkpKTtlPU1hdGgubWF4KDAsTWF0aC5taW4oZCxwYXJzZUZsb2F0KG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSwiZHkiLHRoaXMuZHkpKSkpO3BhcnNlRmxvYXQobXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLAoic2l6ZSIsdGhpcy5zaXplKSk7dmFyIGY9bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0FSQ1NJWkUsbXhDb25zdGFudHMuTElORV9BUkNTSVpFKS8yO3RoaXMuYWRkUG9pbnRzKGEsW25ldyBteFBvaW50KDAsMCksbmV3IG14UG9pbnQoYywwKSxuZXcgbXhQb2ludChjLGUpLG5ldyBteFBvaW50KGIsZSksbmV3IG14UG9pbnQoYixkKSxuZXcgbXhQb2ludCgwLGQpXSx0aGlzLmlzUm91bmRlZCxmLCEwKTthLmVuZCgpfTtteENlbGxSZW5kZXJlci5yZWdpc3RlclNoYXBlKCJjb3JuZXIiLEwpO214VXRpbHMuZXh0ZW5kKGphLG14QWN0b3IpO2phLnByb3RvdHlwZS5yZWRyYXdQYXRoPWZ1bmN0aW9uKGEsYixlLGMsZCl7YS5tb3ZlVG8oMCwwKTthLmxpbmVUbygwLGQpO2EuZW5kKCk7YS5tb3ZlVG8oYywwKTthLmxpbmVUbyhjLGQpO2EuZW5kKCk7YS5tb3ZlVG8oMCxkLzIpO2EubGluZVRvKGMsZC8yKTthLmVuZCgpfTtteENlbGxSZW5kZXJlci5yZWdpc3RlclNoYXBlKCJjcm9zc2JhciIsCmphKTtteFV0aWxzLmV4dGVuZChPLG14QWN0b3IpO08ucHJvdG90eXBlLmR4PTIwO08ucHJvdG90eXBlLmR5PTIwO08ucHJvdG90eXBlLnJlZHJhd1BhdGg9ZnVuY3Rpb24oYSxiLGUsYyxkKXtiPU1hdGgubWF4KDAsTWF0aC5taW4oYyxwYXJzZUZsb2F0KG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSwiZHgiLHRoaXMuZHgpKSkpO2U9TWF0aC5tYXgoMCxNYXRoLm1pbihkLHBhcnNlRmxvYXQobXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLCJkeSIsdGhpcy5keSkpKSk7cGFyc2VGbG9hdChteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsInNpemUiLHRoaXMuc2l6ZSkpO3ZhciBmPW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9BUkNTSVpFLG14Q29uc3RhbnRzLkxJTkVfQVJDU0laRSkvMjt0aGlzLmFkZFBvaW50cyhhLFtuZXcgbXhQb2ludCgwLDApLG5ldyBteFBvaW50KGMsMCksbmV3IG14UG9pbnQoYyxlKSxuZXcgbXhQb2ludCgoYytiKS8KMixlKSxuZXcgbXhQb2ludCgoYytiKS8yLGQpLG5ldyBteFBvaW50KChjLWIpLzIsZCksbmV3IG14UG9pbnQoKGMtYikvMixlKSxuZXcgbXhQb2ludCgwLGUpXSx0aGlzLmlzUm91bmRlZCxmLCEwKTthLmVuZCgpfTtteENlbGxSZW5kZXJlci5yZWdpc3RlclNoYXBlKCJ0ZWUiLE8pO214VXRpbHMuZXh0ZW5kKFMsbXhBY3Rvcik7Uy5wcm90b3R5cGUuYXJyb3dXaWR0aD0uMztTLnByb3RvdHlwZS5hcnJvd1NpemU9LjI7Uy5wcm90b3R5cGUucmVkcmF3UGF0aD1mdW5jdGlvbihhLGIsZSxjLGQpe3ZhciBmPWQqTWF0aC5tYXgoMCxNYXRoLm1pbigxLHBhcnNlRmxvYXQobXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLCJhcnJvd1dpZHRoIix0aGlzLmFycm93V2lkdGgpKSkpO2I9YypNYXRoLm1heCgwLE1hdGgubWluKDEscGFyc2VGbG9hdChteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsImFycm93U2l6ZSIsdGhpcy5hcnJvd1NpemUpKSkpO2U9KGQtZikvMjt2YXIgZj1lK2YsZz1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsCm14Q29uc3RhbnRzLlNUWUxFX0FSQ1NJWkUsbXhDb25zdGFudHMuTElORV9BUkNTSVpFKS8yO3RoaXMuYWRkUG9pbnRzKGEsW25ldyBteFBvaW50KDAsZSksbmV3IG14UG9pbnQoYy1iLGUpLG5ldyBteFBvaW50KGMtYiwwKSxuZXcgbXhQb2ludChjLGQvMiksbmV3IG14UG9pbnQoYy1iLGQpLG5ldyBteFBvaW50KGMtYixmKSxuZXcgbXhQb2ludCgwLGYpXSx0aGlzLmlzUm91bmRlZCxnLCEwKTthLmVuZCgpfTtteENlbGxSZW5kZXJlci5yZWdpc3RlclNoYXBlKCJzaW5nbGVBcnJvdyIsUyk7bXhVdGlscy5leHRlbmQoaWEsbXhBY3Rvcik7aWEucHJvdG90eXBlLnJlZHJhd1BhdGg9ZnVuY3Rpb24oYSxiLGUsYyxkKXt2YXIgZj1kKk1hdGgubWF4KDAsTWF0aC5taW4oMSxwYXJzZUZsb2F0KG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSwiYXJyb3dXaWR0aCIsUy5wcm90b3R5cGUuYXJyb3dXaWR0aCkpKSk7Yj1jKk1hdGgubWF4KDAsTWF0aC5taW4oMSxwYXJzZUZsb2F0KG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSwKImFycm93U2l6ZSIsUy5wcm90b3R5cGUuYXJyb3dTaXplKSkpKTtlPShkLWYpLzI7dmFyIGY9ZStmLGc9bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0FSQ1NJWkUsbXhDb25zdGFudHMuTElORV9BUkNTSVpFKS8yO3RoaXMuYWRkUG9pbnRzKGEsW25ldyBteFBvaW50KDAsZC8yKSxuZXcgbXhQb2ludChiLDApLG5ldyBteFBvaW50KGIsZSksbmV3IG14UG9pbnQoYy1iLGUpLG5ldyBteFBvaW50KGMtYiwwKSxuZXcgbXhQb2ludChjLGQvMiksbmV3IG14UG9pbnQoYy1iLGQpLG5ldyBteFBvaW50KGMtYixmKSxuZXcgbXhQb2ludChiLGYpLG5ldyBteFBvaW50KGIsZCldLHRoaXMuaXNSb3VuZGVkLGcsITApO2EuZW5kKCl9O214Q2VsbFJlbmRlcmVyLnJlZ2lzdGVyU2hhcGUoImRvdWJsZUFycm93IixpYSk7bXhVdGlscy5leHRlbmQocmEsbXhBY3Rvcik7cmEucHJvdG90eXBlLnNpemU9LjE7cmEucHJvdG90eXBlLnJlZHJhd1BhdGg9ZnVuY3Rpb24oYSwKYixlLGMsZCl7Yj1jKk1hdGgubWF4KDAsTWF0aC5taW4oMSxwYXJzZUZsb2F0KG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSwic2l6ZSIsdGhpcy5zaXplKSkpKTthLm1vdmVUbyhiLDApO2EubGluZVRvKGMsMCk7YS5xdWFkVG8oYy0yKmIsZC8yLGMsZCk7YS5saW5lVG8oYixkKTthLnF1YWRUbyhiLTIqYixkLzIsYiwwKTthLmNsb3NlKCk7YS5lbmQoKX07bXhDZWxsUmVuZGVyZXIucmVnaXN0ZXJTaGFwZSgiZGF0YVN0b3JhZ2UiLHJhKTtteFV0aWxzLmV4dGVuZChOLG14QWN0b3IpO04ucHJvdG90eXBlLnJlZHJhd1BhdGg9ZnVuY3Rpb24oYSxiLGUsYyxkKXthLm1vdmVUbygwLDApO2EucXVhZFRvKGMsMCxjLGQvMik7YS5xdWFkVG8oYyxkLDAsZCk7YS5jbG9zZSgpO2EuZW5kKCl9O214Q2VsbFJlbmRlcmVyLnJlZ2lzdGVyU2hhcGUoIm9yIixOKTtteFV0aWxzLmV4dGVuZChtYSxteEFjdG9yKTttYS5wcm90b3R5cGUucmVkcmF3UGF0aD1mdW5jdGlvbihhLGIsZSxjLGQpe2EubW92ZVRvKDAsCjApO2EucXVhZFRvKGMsMCxjLGQvMik7YS5xdWFkVG8oYyxkLDAsZCk7YS5xdWFkVG8oYy8yLGQvMiwwLDApO2EuY2xvc2UoKTthLmVuZCgpfTtteENlbGxSZW5kZXJlci5yZWdpc3RlclNoYXBlKCJ4b3IiLG1hKTtteFV0aWxzLmV4dGVuZChXLG14QWN0b3IpO1cucHJvdG90eXBlLnNpemU9MjA7Vy5wcm90b3R5cGUuaXNSb3VuZGFibGU9ZnVuY3Rpb24oKXtyZXR1cm4hMH07Vy5wcm90b3R5cGUucmVkcmF3UGF0aD1mdW5jdGlvbihhLGIsZSxjLGQpe2I9TWF0aC5taW4oYy8yLE1hdGgubWluKGQscGFyc2VGbG9hdChteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsInNpemUiLHRoaXMuc2l6ZSkpKSk7ZT1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfQVJDU0laRSxteENvbnN0YW50cy5MSU5FX0FSQ1NJWkUpLzI7dGhpcy5hZGRQb2ludHMoYSxbbmV3IG14UG9pbnQoYiwwKSxuZXcgbXhQb2ludChjLWIsMCksbmV3IG14UG9pbnQoYywuOCpiKSxuZXcgbXhQb2ludChjLApkKSxuZXcgbXhQb2ludCgwLGQpLG5ldyBteFBvaW50KDAsLjgqYildLHRoaXMuaXNSb3VuZGVkLGUsITApO2EuZW5kKCl9O214Q2VsbFJlbmRlcmVyLnJlZ2lzdGVyU2hhcGUoImxvb3BMaW1pdCIsVyk7bXhVdGlscy5leHRlbmQoVCxteEFjdG9yKTtULnByb3RvdHlwZS5zaXplPS4zNzU7VC5wcm90b3R5cGUuaXNSb3VuZGFibGU9ZnVuY3Rpb24oKXtyZXR1cm4hMH07VC5wcm90b3R5cGUucmVkcmF3UGF0aD1mdW5jdGlvbihhLGIsZSxjLGQpe2I9ZCpNYXRoLm1heCgwLE1hdGgubWluKDEscGFyc2VGbG9hdChteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsInNpemUiLHRoaXMuc2l6ZSkpKSk7ZT1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfQVJDU0laRSxteENvbnN0YW50cy5MSU5FX0FSQ1NJWkUpLzI7dGhpcy5hZGRQb2ludHMoYSxbbmV3IG14UG9pbnQoMCwwKSxuZXcgbXhQb2ludChjLDApLG5ldyBteFBvaW50KGMsZC1iKSxuZXcgbXhQb2ludChjLwoyLGQpLG5ldyBteFBvaW50KDAsZC1iKV0sdGhpcy5pc1JvdW5kZWQsZSwhMCk7YS5lbmQoKX07bXhDZWxsUmVuZGVyZXIucmVnaXN0ZXJTaGFwZSgib2ZmUGFnZUNvbm5lY3RvciIsVCk7bXhVdGlscy5leHRlbmQocGEsbXhFbGxpcHNlKTtwYS5wcm90b3R5cGUucGFpbnRWZXJ0ZXhTaGFwZT1mdW5jdGlvbihhLGIsZSxjLGQpe214RWxsaXBzZS5wcm90b3R5cGUucGFpbnRWZXJ0ZXhTaGFwZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7YS5iZWdpbigpO2EubW92ZVRvKGIrYy8yLGUrZCk7YS5saW5lVG8oYitjLGUrZCk7YS5lbmQoKTthLnN0cm9rZSgpfTtteENlbGxSZW5kZXJlci5yZWdpc3RlclNoYXBlKCJ0YXBlRGF0YSIscGEpO214VXRpbHMuZXh0ZW5kKHNhLG14RWxsaXBzZSk7c2EucHJvdG90eXBlLnBhaW50VmVydGV4U2hhcGU9ZnVuY3Rpb24oYSxiLGUsYyxkKXtteEVsbGlwc2UucHJvdG90eXBlLnBhaW50VmVydGV4U2hhcGUuYXBwbHkodGhpcyxhcmd1bWVudHMpO2Euc2V0U2hhZG93KCExKTsKYS5iZWdpbigpO2EubW92ZVRvKGIsZStkLzIpO2EubGluZVRvKGIrYyxlK2QvMik7YS5lbmQoKTthLnN0cm9rZSgpO2EuYmVnaW4oKTthLm1vdmVUbyhiK2MvMixlKTthLmxpbmVUbyhiK2MvMixlK2QpO2EuZW5kKCk7YS5zdHJva2UoKX07bXhDZWxsUmVuZGVyZXIucmVnaXN0ZXJTaGFwZSgib3JFbGxpcHNlIixzYSk7bXhVdGlscy5leHRlbmQoaGEsbXhFbGxpcHNlKTtoYS5wcm90b3R5cGUucGFpbnRWZXJ0ZXhTaGFwZT1mdW5jdGlvbihhLGIsZSxjLGQpe214RWxsaXBzZS5wcm90b3R5cGUucGFpbnRWZXJ0ZXhTaGFwZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7YS5zZXRTaGFkb3coITEpO2EuYmVnaW4oKTthLm1vdmVUbyhiKy4xNDUqYyxlKy4xNDUqZCk7YS5saW5lVG8oYisuODU1KmMsZSsuODU1KmQpO2EuZW5kKCk7YS5zdHJva2UoKTthLmJlZ2luKCk7YS5tb3ZlVG8oYisuODU1KmMsZSsuMTQ1KmQpO2EubGluZVRvKGIrLjE0NSpjLGUrLjg1NSpkKTthLmVuZCgpO2Euc3Ryb2tlKCl9OwpteENlbGxSZW5kZXJlci5yZWdpc3RlclNoYXBlKCJzdW1FbGxpcHNlIixoYSk7bXhVdGlscy5leHRlbmQocWEsbXhSaG9tYnVzKTtxYS5wcm90b3R5cGUucGFpbnRWZXJ0ZXhTaGFwZT1mdW5jdGlvbihhLGIsZSxjLGQpe214UmhvbWJ1cy5wcm90b3R5cGUucGFpbnRWZXJ0ZXhTaGFwZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7YS5zZXRTaGFkb3coITEpO2EuYmVnaW4oKTthLm1vdmVUbyhiLGUrZC8yKTthLmxpbmVUbyhiK2MsZStkLzIpO2EuZW5kKCk7YS5zdHJva2UoKX07bXhDZWxsUmVuZGVyZXIucmVnaXN0ZXJTaGFwZSgic29ydFNoYXBlIixxYSk7bXhVdGlscy5leHRlbmQobmEsbXhFbGxpcHNlKTtuYS5wcm90b3R5cGUucGFpbnRWZXJ0ZXhTaGFwZT1mdW5jdGlvbihhLGIsZSxjLGQpe2EuYmVnaW4oKTthLm1vdmVUbyhiLGUpO2EubGluZVRvKGIrYyxlKTthLmxpbmVUbyhiK2MvMixlK2QvMik7YS5jbG9zZSgpO2EuZmlsbEFuZFN0cm9rZSgpO2EuYmVnaW4oKTthLm1vdmVUbyhiLAplK2QpO2EubGluZVRvKGIrYyxlK2QpO2EubGluZVRvKGIrYy8yLGUrZC8yKTthLmNsb3NlKCk7YS5maWxsQW5kU3Ryb2tlKCl9O214Q2VsbFJlbmRlcmVyLnJlZ2lzdGVyU2hhcGUoImNvbGxhdGUiLG5hKTtteFV0aWxzLmV4dGVuZCh6YSxteEVsbGlwc2UpO3phLnByb3RvdHlwZS5wYWludFZlcnRleFNoYXBlPWZ1bmN0aW9uKGEsYixlLGMsZCl7dmFyIGY9ZStkLTU7YS5iZWdpbigpO2EubW92ZVRvKGIsZSk7YS5saW5lVG8oYixlK2QpO2EubW92ZVRvKGIsZik7YS5saW5lVG8oYisxMCxmLTUpO2EubW92ZVRvKGIsZik7YS5saW5lVG8oYisxMCxmKzUpO2EubW92ZVRvKGIsZik7YS5saW5lVG8oYitjLGYpO2EubW92ZVRvKGIrYyxlKTthLmxpbmVUbyhiK2MsZStkKTthLm1vdmVUbyhiK2MsZik7YS5saW5lVG8oYitjLTEwLGYtNSk7YS5tb3ZlVG8oYitjLGYpO2EubGluZVRvKGIrYy0xMCxmKzUpO2EuZW5kKCk7YS5zdHJva2UoKX07bXhDZWxsUmVuZGVyZXIucmVnaXN0ZXJTaGFwZSgiZGltZW5zaW9uIiwKemEpO214VXRpbHMuZXh0ZW5kKEJhLG14RWxsaXBzZSk7QmEucHJvdG90eXBlLnBhaW50VmVydGV4U2hhcGU9ZnVuY3Rpb24oYSxiLGUsYyxkKXt0aGlzLm91dGxpbmV8fGEuc2V0U3Ryb2tlQ29sb3IobnVsbCk7bXhSZWN0YW5nbGVTaGFwZS5wcm90b3R5cGUucGFpbnRCYWNrZ3JvdW5kLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtudWxsIT10aGlzLnN0eWxlJiYoYS5zZXRTdHJva2VDb2xvcih0aGlzLnN0cm9rZSksYS5yZWN0KGIsZSxjLGQpLGEuZmlsbCgpLGEuYmVnaW4oKSxhLm1vdmVUbyhiLGUpLCIxIj09bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLCJ0b3AiLCIxIik/YS5saW5lVG8oYitjLGUpOmEubW92ZVRvKGIrYyxlKSwiMSI9PW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSwicmlnaHQiLCIxIik/YS5saW5lVG8oYitjLGUrZCk6YS5tb3ZlVG8oYitjLGUrZCksIjEiPT1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsImJvdHRvbSIsIjEiKT9hLmxpbmVUbyhiLGUrCmQpOmEubW92ZVRvKGIsZStkKSwiMSI9PW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSwibGVmdCIsIjEiKSYmYS5saW5lVG8oYixlKSxhLmVuZCgpLGEuc3Ryb2tlKCkpfTtteENlbGxSZW5kZXJlci5yZWdpc3RlclNoYXBlKCJwYXJ0aWFsUmVjdGFuZ2xlIixCYSk7bXhVdGlscy5leHRlbmQob2EsbXhFbGxpcHNlKTtvYS5wcm90b3R5cGUucGFpbnRWZXJ0ZXhTaGFwZT1mdW5jdGlvbihhLGIsZSxjLGQpe214RWxsaXBzZS5wcm90b3R5cGUucGFpbnRWZXJ0ZXhTaGFwZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7YS5zZXRTaGFkb3coITEpO2EuYmVnaW4oKTsidmVydGljYWwiPT1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsImxpbmUiKT8oYS5tb3ZlVG8oYitjLzIsZSksYS5saW5lVG8oYitjLzIsZStkKSk6KGEubW92ZVRvKGIsZStkLzIpLGEubGluZVRvKGIrYyxlK2QvMikpO2EuZW5kKCk7YS5zdHJva2UoKX07bXhDZWxsUmVuZGVyZXIucmVnaXN0ZXJTaGFwZSgibGluZUVsbGlwc2UiLApvYSk7bXhVdGlscy5leHRlbmQod2EsbXhBY3Rvcik7d2EucHJvdG90eXBlLnJlZHJhd1BhdGg9ZnVuY3Rpb24oYSxiLGUsYyxkKXtiPU1hdGgubWluKGMsZC8yKTthLm1vdmVUbygwLDApO2EubGluZVRvKGMtYiwwKTthLnF1YWRUbyhjLDAsYyxkLzIpO2EucXVhZFRvKGMsZCxjLWIsZCk7YS5saW5lVG8oMCxkKTthLmNsb3NlKCk7YS5lbmQoKX07bXhDZWxsUmVuZGVyZXIucmVnaXN0ZXJTaGFwZSgiZGVsYXkiLHdhKTtteFV0aWxzLmV4dGVuZCh4YSxteEFjdG9yKTt4YS5wcm90b3R5cGUuc2l6ZT0uMjt4YS5wcm90b3R5cGUucmVkcmF3UGF0aD1mdW5jdGlvbihhLGIsZSxjLGQpe2I9TWF0aC5taW4oZCxjKTt2YXIgZj1NYXRoLm1heCgwLE1hdGgubWluKGIsYipwYXJzZUZsb2F0KG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSwic2l6ZSIsdGhpcy5zaXplKSkpKTtiPShkLWYpLzI7ZT1iK2Y7dmFyIGc9KGMtZikvMixmPWcrZjthLm1vdmVUbygwLGIpO2EubGluZVRvKGcsYik7YS5saW5lVG8oZywKMCk7YS5saW5lVG8oZiwwKTthLmxpbmVUbyhmLGIpO2EubGluZVRvKGMsYik7YS5saW5lVG8oYyxlKTthLmxpbmVUbyhmLGUpO2EubGluZVRvKGYsZCk7YS5saW5lVG8oZyxkKTthLmxpbmVUbyhnLGUpO2EubGluZVRvKDAsZSk7YS5jbG9zZSgpO2EuZW5kKCl9O214Q2VsbFJlbmRlcmVyLnJlZ2lzdGVyU2hhcGUoImNyb3NzIix4YSk7bXhVdGlscy5leHRlbmQoa2EsbXhBY3Rvcik7a2EucHJvdG90eXBlLnNpemU9LjI1O2thLnByb3RvdHlwZS5yZWRyYXdQYXRoPWZ1bmN0aW9uKGEsYixlLGMsZCl7Yj1NYXRoLm1pbihjLGQvMik7ZT1NYXRoLm1pbihjLWIsTWF0aC5tYXgoMCxwYXJzZUZsb2F0KG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSwic2l6ZSIsdGhpcy5zaXplKSkpKmMpO2EubW92ZVRvKDAsZC8yKTthLmxpbmVUbyhlLDApO2EubGluZVRvKGMtYiwwKTthLnF1YWRUbyhjLDAsYyxkLzIpO2EucXVhZFRvKGMsZCxjLWIsZCk7YS5saW5lVG8oZSxkKTthLmNsb3NlKCk7YS5lbmQoKX07Cm14Q2VsbFJlbmRlcmVyLnJlZ2lzdGVyU2hhcGUoImRpc3BsYXkiLGthKTtteFV0aWxzLmV4dGVuZCh0YSxteENvbm5lY3Rvcik7dGEucHJvdG90eXBlLm9yaWdQYWludEVkZ2VTaGFwZT10YS5wcm90b3R5cGUucGFpbnRFZGdlU2hhcGU7dGEucHJvdG90eXBlLnBhaW50RWRnZVNoYXBlPWZ1bmN0aW9uKGEsYixlKXtmb3IodmFyIGM9W10sZD0wO2Q8Yi5sZW5ndGg7ZCsrKWMucHVzaChteFV0aWxzLmNsb25lKGJbZF0pKTt2YXIgZD1hLnN0YXRlLmRhc2hlZCxmPWEuc3RhdGUuZml4RGFzaDt0YS5wcm90b3R5cGUub3JpZ1BhaW50RWRnZVNoYXBlLmFwcGx5KHRoaXMsW2EsYyxlXSk7Mzw9YS5zdGF0ZS5zdHJva2VXaWR0aCYmKGM9bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLCJmaWxsQ29sb3IiLG51bGwpLG51bGwhPWMmJihhLnNldFN0cm9rZUNvbG9yKGMpLGEuc2V0U3Ryb2tlV2lkdGgoYS5zdGF0ZS5zdHJva2VXaWR0aC0yKSxhLnNldERhc2hlZChkLGYpLHRhLnByb3RvdHlwZS5vcmlnUGFpbnRFZGdlU2hhcGUuYXBwbHkodGhpcywKW2EsYixlXSkpKX07bXhDZWxsUmVuZGVyZXIucmVnaXN0ZXJTaGFwZSgiZmlsbGVkRWRnZSIsdGEpOyJ1bmRlZmluZWQiIT09dHlwZW9mIFN0eWxlRm9ybWF0UGFuZWwmJmZ1bmN0aW9uKCl7dmFyIGE9U3R5bGVGb3JtYXRQYW5lbC5wcm90b3R5cGUuZ2V0Q3VzdG9tQ29sb3JzO1N0eWxlRm9ybWF0UGFuZWwucHJvdG90eXBlLmdldEN1c3RvbUNvbG9ycz1mdW5jdGlvbigpe3ZhciBiPXRoaXMuZm9ybWF0LmdldFNlbGVjdGlvblN0YXRlKCksZT1hLmFwcGx5KHRoaXMsYXJndW1lbnRzKTsidW1sRnJhbWUiPT1iLnN0eWxlLnNoYXBlJiZlLnB1c2goe3RpdGxlOm14UmVzb3VyY2VzLmdldCgibGFuZUNvbG9yIiksa2V5OiJzd2ltbGFuZUZpbGxDb2xvciIsZGVmYXVsdFZhbHVlOiIjZmZmZmZmIn0pO3JldHVybiBlfX0oKTtteE1hcmtlci5hZGRNYXJrZXIoImRhc2giLGZ1bmN0aW9uKGEsYixlLGMsZCxmLGcsbCxwLHUpe3ZhciBuPWQqKGcrcCsxKSx0PWYqKGcrcCsxKTtyZXR1cm4gZnVuY3Rpb24oKXthLmJlZ2luKCk7CmEubW92ZVRvKGMueC1uLzItdC8yLGMueS10LzIrbi8yKTthLmxpbmVUbyhjLngrdC8yLTMqbi8yLGMueS0zKnQvMi1uLzIpO2Euc3Ryb2tlKCl9fSk7bXhNYXJrZXIuYWRkTWFya2VyKCJib3giLGZ1bmN0aW9uKGEsYixlLGMsZCxmLGcsbCxwLHUpe3ZhciBuPWQqKGcrcCsxKSx0PWYqKGcrcCsxKSxCPWMueCtuLzIsaz1jLnkrdC8yO2MueC09bjtjLnktPXQ7cmV0dXJuIGZ1bmN0aW9uKCl7YS5iZWdpbigpO2EubW92ZVRvKEItbi8yLXQvMixrLXQvMituLzIpO2EubGluZVRvKEItbi8yK3QvMixrLXQvMi1uLzIpO2EubGluZVRvKEIrdC8yLTMqbi8yLGstMyp0LzItbi8yKTthLmxpbmVUbyhCLXQvMi0zKm4vMixrLTMqdC8yK24vMik7YS5jbG9zZSgpO3U/YS5maWxsQW5kU3Ryb2tlKCk6YS5zdHJva2UoKX19KTtteE1hcmtlci5hZGRNYXJrZXIoImNyb3NzIixmdW5jdGlvbihhLGIsZSxjLGQsZixnLGwscCx1KXt2YXIgbj1kKihnK3ArMSksdD1mKihnK3ArMSk7cmV0dXJuIGZ1bmN0aW9uKCl7YS5iZWdpbigpOwphLm1vdmVUbyhjLngtbi8yLXQvMixjLnktdC8yK24vMik7YS5saW5lVG8oYy54K3QvMi0zKm4vMixjLnktMyp0LzItbi8yKTthLm1vdmVUbyhjLngtbi8yK3QvMixjLnktdC8yLW4vMik7YS5saW5lVG8oYy54LXQvMi0zKm4vMixjLnktMyp0LzIrbi8yKTthLnN0cm9rZSgpfX0pO214TWFya2VyLmFkZE1hcmtlcigiY2lyY2xlIixBYSk7bXhNYXJrZXIuYWRkTWFya2VyKCJjaXJjbGVQbHVzIixmdW5jdGlvbihhLGIsZSxjLGQsZixnLGwscCx1KXt2YXIgbj1jLmNsb25lKCksdD1BYS5hcHBseSh0aGlzLGFyZ3VtZW50cyksQj1kKihnKzIqcCksaz1mKihnKzIqcCk7cmV0dXJuIGZ1bmN0aW9uKCl7dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7YS5iZWdpbigpO2EubW92ZVRvKG4ueC1kKnAsbi55LWYqcCk7YS5saW5lVG8obi54LTIqQitkKnAsbi55LTIqaytmKnApO2EubW92ZVRvKG4ueC1CLWsrZipwLG4ueS1rK0ItZCpwKTthLmxpbmVUbyhuLngray1CLWYqcCxuLnktay1CK2QqcCk7YS5zdHJva2UoKX19KTsKbXhNYXJrZXIuYWRkTWFya2VyKCJoYWxmQ2lyY2xlIixmdW5jdGlvbihhLGIsZSxjLGQsZixnLGwscCx1KXt2YXIgbj1kKihnK3ArMSksdD1mKihnK3ArMSksQj1jLmNsb25lKCk7Yy54LT1uO2MueS09dDtyZXR1cm4gZnVuY3Rpb24oKXthLmJlZ2luKCk7YS5tb3ZlVG8oQi54LXQsQi55K24pO2EucXVhZFRvKGMueC10LGMueStuLGMueCxjLnkpO2EucXVhZFRvKGMueCt0LGMueS1uLEIueCt0LEIueS1uKTthLnN0cm9rZSgpfX0pO214TWFya2VyLmFkZE1hcmtlcigiYXN5bmMiLGZ1bmN0aW9uKGEsYixlLGMsZCxmLGcsbCxwLHUpe2I9ZCpwKjEuMTE4O2U9ZipwKjEuMTE4O2QqPWcrcDtmKj1nK3A7dmFyIG49Yy5jbG9uZSgpO24ueC09YjtuLnktPWU7Yy54Kz0xKi1kLWI7Yy55Kz0xKi1mLWU7cmV0dXJuIGZ1bmN0aW9uKCl7YS5iZWdpbigpO2EubW92ZVRvKG4ueCxuLnkpO2w/YS5saW5lVG8obi54LWQtZi8yLG4ueS1mK2QvMik6YS5saW5lVG8obi54K2YvMi1kLG4ueS1mLWQvMik7CmEubGluZVRvKG4ueC1kLG4ueS1mKTthLmNsb3NlKCk7dT9hLmZpbGxBbmRTdHJva2UoKTphLnN0cm9rZSgpfX0pO214TWFya2VyLmFkZE1hcmtlcigib3BlbkFzeW5jIixmdW5jdGlvbihhKXthPW51bGwhPWE/YToyO3JldHVybiBmdW5jdGlvbihiLGUsYyxkLGYsZyxsLHAsdSxuKXtmKj1sK3U7Zyo9bCt1O3ZhciB0PWQuY2xvbmUoKTtyZXR1cm4gZnVuY3Rpb24oKXtiLmJlZ2luKCk7Yi5tb3ZlVG8odC54LHQueSk7cD9iLmxpbmVUbyh0LngtZi1nL2EsdC55LWcrZi9hKTpiLmxpbmVUbyh0LngrZy9hLWYsdC55LWctZi9hKTtiLnN0cm9rZSgpfX19KDIpKTtpZigidW5kZWZpbmVkIiE9PXR5cGVvZiBteFZlcnRleEhhbmRsZXIpe3ZhciBPYT1mdW5jdGlvbihhLGIsZSl7cmV0dXJuIERhKGEsWyJ3aWR0aCJdLGIsZnVuY3Rpb24oYixjLGQsZixnKXtnPWEuc2hhcGUuZ2V0RWRnZVdpZHRoKCkqYS52aWV3LnNjYWxlK2U7cmV0dXJuIG5ldyBteFBvaW50KGYueCtjKmIvNCtkKmcvMixmLnkrCmQqYi80LWMqZy8yKX0sZnVuY3Rpb24oYixjLGQsZixnLGwpe2I9TWF0aC5zcXJ0KG14VXRpbHMucHRTZWdEaXN0U3EoZi54LGYueSxnLngsZy55LGwueCxsLnkpKTthLnN0eWxlLndpZHRoPU1hdGgucm91bmQoMipiKS9hLnZpZXcuc2NhbGUtZX0pfSxEYT1mdW5jdGlvbihhLGIsZSxjLGQpe3JldHVybiBWKGEsYixmdW5jdGlvbihiKXt2YXIgZD1hLmFic29sdXRlUG9pbnRzLGY9ZC5sZW5ndGgtMTtiPWEudmlldy50cmFuc2xhdGU7dmFyIGc9YS52aWV3LnNjYWxlLGw9ZT9kWzBdOmRbZl0sZD1lP2RbMV06ZFtmLTFdLGY9ZC54LWwueCxwPWQueS1sLnksdT1NYXRoLnNxcnQoZipmK3AqcCksbD1jLmNhbGwodGhpcyx1LGYvdSxwL3UsbCxkKTtyZXR1cm4gbmV3IG14UG9pbnQobC54L2ctYi54LGwueS9nLWIueSl9LGZ1bmN0aW9uKGIsYyxmKXt2YXIgZz1hLmFic29sdXRlUG9pbnRzLGw9Zy5sZW5ndGgtMTtiPWEudmlldy50cmFuc2xhdGU7dmFyIHA9YS52aWV3LnNjYWxlLHU9ZT9nWzBdOgpnW2xdLGc9ZT9nWzFdOmdbbC0xXSxsPWcueC11Lngsbj1nLnktdS55LHQ9TWF0aC5zcXJ0KGwqbCtuKm4pO2MueD0oYy54K2IueCkqcDtjLnk9KGMueStiLnkpKnA7ZC5jYWxsKHRoaXMsdCxsL3Qsbi90LHUsZyxjLGYpfSl9LHlhPWZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiKXtyZXR1cm5bVihiLFsiYXJyb3dXaWR0aCIsImFycm93U2l6ZSJdLGZ1bmN0aW9uKGIpe3ZhciBlPU1hdGgubWF4KDAsTWF0aC5taW4oMSxteFV0aWxzLmdldFZhbHVlKHRoaXMuc3RhdGUuc3R5bGUsImFycm93V2lkdGgiLFMucHJvdG90eXBlLmFycm93V2lkdGgpKSksYz1NYXRoLm1heCgwLE1hdGgubWluKGEsbXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0YXRlLnN0eWxlLCJhcnJvd1NpemUiLFMucHJvdG90eXBlLmFycm93U2l6ZSkpKTtyZXR1cm4gbmV3IG14UG9pbnQoYi54KygxLWMpKmIud2lkdGgsYi55KygxLWUpKmIuaGVpZ2h0LzIpfSxmdW5jdGlvbihiLGUpe3RoaXMuc3RhdGUuc3R5bGUuYXJyb3dXaWR0aD0KTWF0aC5tYXgoMCxNYXRoLm1pbigxLE1hdGguYWJzKGIueStiLmhlaWdodC8yLWUueSkvYi5oZWlnaHQqMikpO3RoaXMuc3RhdGUuc3R5bGUuYXJyb3dTaXplPU1hdGgubWF4KDAsTWF0aC5taW4oYSwoYi54K2Iud2lkdGgtZS54KS9iLndpZHRoKSl9KV19fSxLYT1mdW5jdGlvbihhLGIsZSl7cmV0dXJuIGZ1bmN0aW9uKGMpe3ZhciBkPVtWKGMsWyJzaXplIl0sZnVuY3Rpb24oZSl7dmFyIGM9TWF0aC5tYXgoMCxNYXRoLm1pbihlLndpZHRoLE1hdGgubWluKGUuaGVpZ2h0LHBhcnNlRmxvYXQobXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0YXRlLnN0eWxlLCJzaXplIixiKSkpKSkqYTtyZXR1cm4gbmV3IG14UG9pbnQoZS54K2MsZS55K2MpfSxmdW5jdGlvbihiLGUpe3RoaXMuc3RhdGUuc3R5bGUuc2l6ZT1NYXRoLnJvdW5kKE1hdGgubWF4KDAsTWF0aC5taW4oTWF0aC5taW4oYi53aWR0aCxlLngtYi54KSxNYXRoLm1pbihiLmhlaWdodCxlLnktYi55KSkpL2EpfSwhMSldO2UmJm14VXRpbHMuZ2V0VmFsdWUoYy5zdHlsZSwKbXhDb25zdGFudHMuU1RZTEVfUk9VTkRFRCwhMSkmJmQucHVzaCh2YShjKSk7cmV0dXJuIGR9fSxFYT1mdW5jdGlvbihhLGIsZSxjLGQpe2U9bnVsbCE9ZT9lOjE7cmV0dXJuIGZ1bmN0aW9uKGYpe3ZhciBnPVtWKGYsWyJzaXplIl0sZnVuY3Rpb24oYil7dmFyIGU9bnVsbCE9ZD8iMCIhPW14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdGF0ZS5zdHlsZSwiZml4ZWRTaXplIiwiMCIpOm51bGwsYz1wYXJzZUZsb2F0KG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdGF0ZS5zdHlsZSwic2l6ZSIsZT9kOmEpKTtyZXR1cm4gbmV3IG14UG9pbnQoYi54K01hdGgubWF4KDAsTWF0aC5taW4oYi53aWR0aCxjKihlPzE6Yi53aWR0aCkpKSxiLmdldENlbnRlclkoKSl9LGZ1bmN0aW9uKGEsYixjKXthPW51bGwhPWQmJiIwIiE9bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0YXRlLnN0eWxlLCJmaXhlZFNpemUiLCIwIik/Yi54LWEueDpNYXRoLm1heCgwLE1hdGgubWluKGUsKGIueC1hLngpL2Eud2lkdGgpKTt0aGlzLnN0YXRlLnN0eWxlLnNpemU9CmF9LCExLGMpXTtiJiZteFV0aWxzLmdldFZhbHVlKGYuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfUk9VTkRFRCwhMSkmJmcucHVzaCh2YShmKSk7cmV0dXJuIGd9fSxMYT1mdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYil7dmFyIGU9W1YoYixbInNpemUiXSxmdW5jdGlvbihiKXt2YXIgZT1NYXRoLm1heCgwLE1hdGgubWluKGEscGFyc2VGbG9hdChteFV0aWxzLmdldFZhbHVlKHRoaXMuc3RhdGUuc3R5bGUsInNpemUiLG4ucHJvdG90eXBlLnNpemUpKSkpO3JldHVybiBuZXcgbXhQb2ludChiLngrZSpiLndpZHRoKi43NSxiLnkrYi5oZWlnaHQvNCl9LGZ1bmN0aW9uKGIsZSl7dGhpcy5zdGF0ZS5zdHlsZS5zaXplPU1hdGgubWF4KDAsTWF0aC5taW4oYSwoZS54LWIueCkvKC43NSpiLndpZHRoKSkpfSwhMSwhMCldO214VXRpbHMuZ2V0VmFsdWUoYi5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9ST1VOREVELCExKSYmZS5wdXNoKHZhKGIpKTtyZXR1cm4gZX19LENhPWZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGEpe3ZhciBiPQpbXTtteFV0aWxzLmdldFZhbHVlKGEuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfUk9VTkRFRCwhMSkmJmIucHVzaCh2YShhKSk7cmV0dXJuIGJ9fSx2YT1mdW5jdGlvbihhLGIpe3JldHVybiBWKGEsW214Q29uc3RhbnRzLlNUWUxFX0FSQ1NJWkVdLGZ1bmN0aW9uKGUpe3ZhciBjPW51bGwhPWI/YjplLmhlaWdodC84O2lmKCIxIj09bXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0FCU09MVVRFX0FSQ1NJWkUsMCkpe3ZhciBkPW14VXRpbHMuZ2V0VmFsdWUoYS5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9BUkNTSVpFLG14Q29uc3RhbnRzLkxJTkVfQVJDU0laRSkvMjtyZXR1cm4gbmV3IG14UG9pbnQoZS54K2Uud2lkdGgtTWF0aC5taW4oZS53aWR0aC8yLGQpLGUueStjKX1kPU1hdGgubWF4KDAscGFyc2VGbG9hdChteFV0aWxzLmdldFZhbHVlKGEuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfQVJDU0laRSwxMDAqbXhDb25zdGFudHMuUkVDVEFOR0xFX1JPVU5ESU5HX0ZBQ1RPUikpKS8KMTAwO3JldHVybiBuZXcgbXhQb2ludChlLngrZS53aWR0aC1NYXRoLm1pbihNYXRoLm1heChlLndpZHRoLzIsZS5oZWlnaHQvMiksTWF0aC5taW4oZS53aWR0aCxlLmhlaWdodCkqZCksZS55K2MpfSxmdW5jdGlvbihiLGUsYyl7IjEiPT1teFV0aWxzLmdldFZhbHVlKGEuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfQUJTT0xVVEVfQVJDU0laRSwwKT90aGlzLnN0YXRlLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX0FSQ1NJWkVdPU1hdGgucm91bmQoTWF0aC5tYXgoMCxNYXRoLm1pbihiLndpZHRoLDIqKGIueCtiLndpZHRoLWUueCkpKSk6dGhpcy5zdGF0ZS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9BUkNTSVpFXT1NYXRoLnJvdW5kKE1hdGgubWluKDUwLE1hdGgubWF4KDAsMTAwKihiLndpZHRoLWUueCtiLngpL01hdGgubWluKGIud2lkdGgsYi5oZWlnaHQpKSkpfSl9LFY9ZnVuY3Rpb24oYSxiLGUsYyxkLGYsZyl7dmFyIGw9bmV3IG14SGFuZGxlKGEsbnVsbCxteFZlcnRleEhhbmRsZXIucHJvdG90eXBlLnNlY29uZGFyeUhhbmRsZUltYWdlKTsKbC5leGVjdXRlPWZ1bmN0aW9uKGEpe2Zvcih2YXIgZT0wO2U8Yi5sZW5ndGg7ZSsrKXRoaXMuY29weVN0eWxlKGJbZV0pO2cmJmcoYSl9O2wuZ2V0UG9zaXRpb249ZTtsLnNldFBvc2l0aW9uPWM7bC5pZ25vcmVHcmlkPW51bGwhPWQ/ZDohMDtpZihmKXt2YXIgcD1sLnBvc2l0aW9uQ2hhbmdlZDtsLnBvc2l0aW9uQ2hhbmdlZD1mdW5jdGlvbigpe3AuYXBwbHkodGhpcyxhcmd1bWVudHMpO2Eudmlldy5pbnZhbGlkYXRlKHRoaXMuc3RhdGUuY2VsbCk7YS52aWV3LnZhbGlkYXRlKCl9fXJldHVybiBsfSxGYT17bGluazpmdW5jdGlvbihhKXtyZXR1cm5bT2EoYSwhMCwxMCksT2EoYSwhMSwxMCldfSxmbGV4QXJyb3c6ZnVuY3Rpb24oYSl7dmFyIGI9YS52aWV3LmdyYXBoLmdyaWRTaXplL2Eudmlldy5zY2FsZSxlPVtdO214VXRpbHMuZ2V0VmFsdWUoYS5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9TVEFSVEFSUk9XLG14Q29uc3RhbnRzLk5PTkUpIT1teENvbnN0YW50cy5OT05FJiYoZS5wdXNoKERhKGEsClsid2lkdGgiLG14Q29uc3RhbnRzLlNUWUxFX1NUQVJUU0laRSxteENvbnN0YW50cy5TVFlMRV9FTkRTSVpFXSwhMCxmdW5jdGlvbihiLGUsYyxkLGYpe2I9KGEuc2hhcGUuZ2V0RWRnZVdpZHRoKCktYS5zaGFwZS5zdHJva2V3aWR0aCkqYS52aWV3LnNjYWxlO2Y9MypteFV0aWxzLmdldE51bWJlcihhLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX1NUQVJUU0laRSxteENvbnN0YW50cy5BUlJPV19TSVpFLzUpKmEudmlldy5zY2FsZTtyZXR1cm4gbmV3IG14UG9pbnQoZC54K2UqKGYrYS5zaGFwZS5zdHJva2V3aWR0aCphLnZpZXcuc2NhbGUpK2MqYi8yLGQueStjKihmK2Euc2hhcGUuc3Ryb2tld2lkdGgqYS52aWV3LnNjYWxlKS1lKmIvMil9LGZ1bmN0aW9uKGUsYyxkLGYsZyxsLHApe2U9TWF0aC5zcXJ0KG14VXRpbHMucHRTZWdEaXN0U3EoZi54LGYueSxnLngsZy55LGwueCxsLnkpKTtjPW14VXRpbHMucHRMaW5lRGlzdChmLngsZi55LGYueCtkLGYueS1jLGwueCxsLnkpO2Euc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfU1RBUlRTSVpFXT0KTWF0aC5yb3VuZCgxMDAqKGMtYS5zaGFwZS5zdHJva2V3aWR0aCkvMykvMTAwL2Eudmlldy5zY2FsZTthLnN0eWxlLndpZHRoPU1hdGgucm91bmQoMiplKS9hLnZpZXcuc2NhbGU7bXhFdmVudC5pc0NvbnRyb2xEb3duKHAuZ2V0RXZlbnQoKSkmJihhLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX0VORFNJWkVdPWEuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfU1RBUlRTSVpFXSk7bXhFdmVudC5pc0FsdERvd24ocC5nZXRFdmVudCgpKXx8TWF0aC5hYnMocGFyc2VGbG9hdChhLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX1NUQVJUU0laRV0pLXBhcnNlRmxvYXQoYS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9FTkRTSVpFXSkpPGIvNiYmKGEuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfU1RBUlRTSVpFXT1hLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX0VORFNJWkVdKX0pKSxlLnB1c2goRGEoYSxbInN0YXJ0V2lkdGgiLCJlbmRXaWR0aCIsbXhDb25zdGFudHMuU1RZTEVfU1RBUlRTSVpFLG14Q29uc3RhbnRzLlNUWUxFX0VORFNJWkVdLAohMCxmdW5jdGlvbihiLGUsYyxkLGYpe2I9KGEuc2hhcGUuZ2V0U3RhcnRBcnJvd1dpZHRoKCktYS5zaGFwZS5zdHJva2V3aWR0aCkqYS52aWV3LnNjYWxlO2Y9MypteFV0aWxzLmdldE51bWJlcihhLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX1NUQVJUU0laRSxteENvbnN0YW50cy5BUlJPV19TSVpFLzUpKmEudmlldy5zY2FsZTtyZXR1cm4gbmV3IG14UG9pbnQoZC54K2UqKGYrYS5zaGFwZS5zdHJva2V3aWR0aCphLnZpZXcuc2NhbGUpK2MqYi8yLGQueStjKihmK2Euc2hhcGUuc3Ryb2tld2lkdGgqYS52aWV3LnNjYWxlKS1lKmIvMil9LGZ1bmN0aW9uKGUsYyxkLGYsZyxsLHApe2U9TWF0aC5zcXJ0KG14VXRpbHMucHRTZWdEaXN0U3EoZi54LGYueSxnLngsZy55LGwueCxsLnkpKTtjPW14VXRpbHMucHRMaW5lRGlzdChmLngsZi55LGYueCtkLGYueS1jLGwueCxsLnkpO2Euc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfU1RBUlRTSVpFXT1NYXRoLnJvdW5kKDEwMCooYy1hLnNoYXBlLnN0cm9rZXdpZHRoKS8KMykvMTAwL2Eudmlldy5zY2FsZTthLnN0eWxlLnN0YXJ0V2lkdGg9TWF0aC5tYXgoMCxNYXRoLnJvdW5kKDIqZSktYS5zaGFwZS5nZXRFZGdlV2lkdGgoKSkvYS52aWV3LnNjYWxlO214RXZlbnQuaXNDb250cm9sRG93bihwLmdldEV2ZW50KCkpJiYoYS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9FTkRTSVpFXT1hLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX1NUQVJUU0laRV0sYS5zdHlsZS5lbmRXaWR0aD1hLnN0eWxlLnN0YXJ0V2lkdGgpO214RXZlbnQuaXNBbHREb3duKHAuZ2V0RXZlbnQoKSl8fChNYXRoLmFicyhwYXJzZUZsb2F0KGEuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfU1RBUlRTSVpFXSktcGFyc2VGbG9hdChhLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX0VORFNJWkVdKSk8Yi82JiYoYS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9TVEFSVFNJWkVdPWEuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfRU5EU0laRV0pLE1hdGguYWJzKHBhcnNlRmxvYXQoYS5zdHlsZS5zdGFydFdpZHRoKS0KcGFyc2VGbG9hdChhLnN0eWxlLmVuZFdpZHRoKSk8YiYmKGEuc3R5bGUuc3RhcnRXaWR0aD1hLnN0eWxlLmVuZFdpZHRoKSl9KSkpO214VXRpbHMuZ2V0VmFsdWUoYS5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9FTkRBUlJPVyxteENvbnN0YW50cy5OT05FKSE9bXhDb25zdGFudHMuTk9ORSYmKGUucHVzaChEYShhLFsid2lkdGgiLG14Q29uc3RhbnRzLlNUWUxFX1NUQVJUU0laRSxteENvbnN0YW50cy5TVFlMRV9FTkRTSVpFXSwhMSxmdW5jdGlvbihiLGUsYyxkLGYpe2I9KGEuc2hhcGUuZ2V0RWRnZVdpZHRoKCktYS5zaGFwZS5zdHJva2V3aWR0aCkqYS52aWV3LnNjYWxlO2Y9MypteFV0aWxzLmdldE51bWJlcihhLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0VORFNJWkUsbXhDb25zdGFudHMuQVJST1dfU0laRS81KSphLnZpZXcuc2NhbGU7cmV0dXJuIG5ldyBteFBvaW50KGQueCtlKihmK2Euc2hhcGUuc3Ryb2tld2lkdGgqYS52aWV3LnNjYWxlKS1jKmIvMixkLnkrYyooZithLnNoYXBlLnN0cm9rZXdpZHRoKgphLnZpZXcuc2NhbGUpK2UqYi8yKX0sZnVuY3Rpb24oZSxjLGQsZixnLGwscCl7ZT1NYXRoLnNxcnQobXhVdGlscy5wdFNlZ0Rpc3RTcShmLngsZi55LGcueCxnLnksbC54LGwueSkpO2M9bXhVdGlscy5wdExpbmVEaXN0KGYueCxmLnksZi54K2QsZi55LWMsbC54LGwueSk7YS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9FTkRTSVpFXT1NYXRoLnJvdW5kKDEwMCooYy1hLnNoYXBlLnN0cm9rZXdpZHRoKS8zKS8xMDAvYS52aWV3LnNjYWxlO2Euc3R5bGUud2lkdGg9TWF0aC5yb3VuZCgyKmUpL2Eudmlldy5zY2FsZTtteEV2ZW50LmlzQ29udHJvbERvd24ocC5nZXRFdmVudCgpKSYmKGEuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfU1RBUlRTSVpFXT1hLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX0VORFNJWkVdKTtteEV2ZW50LmlzQWx0RG93bihwLmdldEV2ZW50KCkpfHxNYXRoLmFicyhwYXJzZUZsb2F0KGEuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfRU5EU0laRV0pLXBhcnNlRmxvYXQoYS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9TVEFSVFNJWkVdKSk8CmIvNiYmKGEuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfRU5EU0laRV09YS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9TVEFSVFNJWkVdKX0pKSxlLnB1c2goRGEoYSxbInN0YXJ0V2lkdGgiLCJlbmRXaWR0aCIsbXhDb25zdGFudHMuU1RZTEVfU1RBUlRTSVpFLG14Q29uc3RhbnRzLlNUWUxFX0VORFNJWkVdLCExLGZ1bmN0aW9uKGIsZSxjLGQsZil7Yj0oYS5zaGFwZS5nZXRFbmRBcnJvd1dpZHRoKCktYS5zaGFwZS5zdHJva2V3aWR0aCkqYS52aWV3LnNjYWxlO2Y9MypteFV0aWxzLmdldE51bWJlcihhLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0VORFNJWkUsbXhDb25zdGFudHMuQVJST1dfU0laRS81KSphLnZpZXcuc2NhbGU7cmV0dXJuIG5ldyBteFBvaW50KGQueCtlKihmK2Euc2hhcGUuc3Ryb2tld2lkdGgqYS52aWV3LnNjYWxlKS1jKmIvMixkLnkrYyooZithLnNoYXBlLnN0cm9rZXdpZHRoKmEudmlldy5zY2FsZSkrZSpiLzIpfSxmdW5jdGlvbihlLGMsZCxmLGcsbCxwKXtlPQpNYXRoLnNxcnQobXhVdGlscy5wdFNlZ0Rpc3RTcShmLngsZi55LGcueCxnLnksbC54LGwueSkpO2M9bXhVdGlscy5wdExpbmVEaXN0KGYueCxmLnksZi54K2QsZi55LWMsbC54LGwueSk7YS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9FTkRTSVpFXT1NYXRoLnJvdW5kKDEwMCooYy1hLnNoYXBlLnN0cm9rZXdpZHRoKS8zKS8xMDAvYS52aWV3LnNjYWxlO2Euc3R5bGUuZW5kV2lkdGg9TWF0aC5tYXgoMCxNYXRoLnJvdW5kKDIqZSktYS5zaGFwZS5nZXRFZGdlV2lkdGgoKSkvYS52aWV3LnNjYWxlO214RXZlbnQuaXNDb250cm9sRG93bihwLmdldEV2ZW50KCkpJiYoYS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9TVEFSVFNJWkVdPWEuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfRU5EU0laRV0sYS5zdHlsZS5zdGFydFdpZHRoPWEuc3R5bGUuZW5kV2lkdGgpO214RXZlbnQuaXNBbHREb3duKHAuZ2V0RXZlbnQoKSl8fChNYXRoLmFicyhwYXJzZUZsb2F0KGEuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfRU5EU0laRV0pLQpwYXJzZUZsb2F0KGEuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfU1RBUlRTSVpFXSkpPGIvNiYmKGEuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfRU5EU0laRV09YS5zdHlsZVtteENvbnN0YW50cy5TVFlMRV9TVEFSVFNJWkVdKSxNYXRoLmFicyhwYXJzZUZsb2F0KGEuc3R5bGUuZW5kV2lkdGgpLXBhcnNlRmxvYXQoYS5zdHlsZS5zdGFydFdpZHRoKSk8YiYmKGEuc3R5bGUuZW5kV2lkdGg9YS5zdHlsZS5zdGFydFdpZHRoKSl9KSkpO3JldHVybiBlfSxzd2ltbGFuZTpmdW5jdGlvbihhKXt2YXIgYj1bXTtpZihteFV0aWxzLmdldFZhbHVlKGEuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfUk9VTkRFRCkpe3ZhciBlPXBhcnNlRmxvYXQobXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX1NUQVJUU0laRSxteENvbnN0YW50cy5ERUZBVUxUX1NUQVJUU0laRSkpO2IucHVzaCh2YShhLGUvMikpfWIucHVzaChWKGEsW214Q29uc3RhbnRzLlNUWUxFX1NUQVJUU0laRV0sCmZ1bmN0aW9uKGIpe3ZhciBlPXBhcnNlRmxvYXQobXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX1NUQVJUU0laRSxteENvbnN0YW50cy5ERUZBVUxUX1NUQVJUU0laRSkpO3JldHVybiAxPT1teFV0aWxzLmdldFZhbHVlKGEuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfSE9SSVpPTlRBTCwxKT9uZXcgbXhQb2ludChiLmdldENlbnRlclgoKSxiLnkrTWF0aC5tYXgoMCxNYXRoLm1pbihiLmhlaWdodCxlKSkpOm5ldyBteFBvaW50KGIueCtNYXRoLm1heCgwLE1hdGgubWluKGIud2lkdGgsZSkpLGIuZ2V0Q2VudGVyWSgpKX0sZnVuY3Rpb24oYixlKXthLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX1NUQVJUU0laRV09MT09bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0YXRlLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0hPUklaT05UQUwsMSk/TWF0aC5yb3VuZChNYXRoLm1heCgwLE1hdGgubWluKGIuaGVpZ2h0LGUueS1iLnkpKSk6TWF0aC5yb3VuZChNYXRoLm1heCgwLApNYXRoLm1pbihiLndpZHRoLGUueC1iLngpKSl9LCExLG51bGwsZnVuY3Rpb24oYil7aWYobXhFdmVudC5pc1NoaWZ0RG93bihiLmdldEV2ZW50KCkpJiYoYj1hLnZpZXcuZ3JhcGgsYi5pc1RhYmxlUm93KGEuY2VsbCl8fGIuaXNUYWJsZUNlbGwoYS5jZWxsKSkpe2Zvcih2YXIgZT1iLmdldFN3aW1sYW5lRGlyZWN0aW9uKGEuc3R5bGUpLGM9Yi5tb2RlbC5nZXRQYXJlbnQoYS5jZWxsKSxjPWIubW9kZWwuZ2V0Q2hpbGRDZWxscyhjLCEwKSxkPVtdLGY9MDtmPGMubGVuZ3RoO2YrKyljW2ZdIT1hLmNlbGwmJmIuaXNTd2ltbGFuZShjW2ZdKSYmYi5nZXRTd2ltbGFuZURpcmVjdGlvbihiLmdldEN1cnJlbnRDZWxsU3R5bGUoY1tmXSkpPT1lJiZkLnB1c2goY1tmXSk7Yi5zZXRDZWxsU3R5bGVzKG14Q29uc3RhbnRzLlNUWUxFX1NUQVJUU0laRSxhLnN0eWxlW214Q29uc3RhbnRzLlNUWUxFX1NUQVJUU0laRV0sZCl9fSkpO3JldHVybiBifSxsYWJlbDpDYSgpLGV4dDpDYSgpLHJlY3RhbmdsZTpDYSgpLAp0cmlhbmdsZTpDYSgpLHJob21idXM6Q2EoKSx1bWxMaWZlbGluZTpmdW5jdGlvbihhKXtyZXR1cm5bVihhLFsic2l6ZSJdLGZ1bmN0aW9uKGEpe3ZhciBiPU1hdGgubWF4KDAsTWF0aC5taW4oYS5oZWlnaHQscGFyc2VGbG9hdChteFV0aWxzLmdldFZhbHVlKHRoaXMuc3RhdGUuc3R5bGUsInNpemUiLE0ucHJvdG90eXBlLnNpemUpKSkpO3JldHVybiBuZXcgbXhQb2ludChhLmdldENlbnRlclgoKSxhLnkrYil9LGZ1bmN0aW9uKGEsYil7dGhpcy5zdGF0ZS5zdHlsZS5zaXplPU1hdGgucm91bmQoTWF0aC5tYXgoMCxNYXRoLm1pbihhLmhlaWdodCxiLnktYS55KSkpfSwhMSldfSx1bWxGcmFtZTpmdW5jdGlvbihhKXtyZXR1cm5bVihhLFsid2lkdGgiLCJoZWlnaHQiXSxmdW5jdGlvbihhKXt2YXIgYj1NYXRoLm1heChQLnByb3RvdHlwZS5jb3JuZXIsTWF0aC5taW4oYS53aWR0aCxteFV0aWxzLmdldFZhbHVlKHRoaXMuc3RhdGUuc3R5bGUsIndpZHRoIixQLnByb3RvdHlwZS53aWR0aCkpKSwKZT1NYXRoLm1heCgxLjUqUC5wcm90b3R5cGUuY29ybmVyLE1hdGgubWluKGEuaGVpZ2h0LG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdGF0ZS5zdHlsZSwiaGVpZ2h0IixQLnByb3RvdHlwZS5oZWlnaHQpKSk7cmV0dXJuIG5ldyBteFBvaW50KGEueCtiLGEueStlKX0sZnVuY3Rpb24oYSxiKXt0aGlzLnN0YXRlLnN0eWxlLndpZHRoPU1hdGgucm91bmQoTWF0aC5tYXgoUC5wcm90b3R5cGUuY29ybmVyLE1hdGgubWluKGEud2lkdGgsYi54LWEueCkpKTt0aGlzLnN0YXRlLnN0eWxlLmhlaWdodD1NYXRoLnJvdW5kKE1hdGgubWF4KDEuNSpQLnByb3RvdHlwZS5jb3JuZXIsTWF0aC5taW4oYS5oZWlnaHQsYi55LWEueSkpKX0sITEpXX0scHJvY2VzczpmdW5jdGlvbihhKXt2YXIgYj1bVihhLFsic2l6ZSJdLGZ1bmN0aW9uKGEpe3ZhciBiPU1hdGgubWF4KDAsTWF0aC5taW4oLjUscGFyc2VGbG9hdChteFV0aWxzLmdldFZhbHVlKHRoaXMuc3RhdGUuc3R5bGUsInNpemUiLHgucHJvdG90eXBlLnNpemUpKSkpOwpyZXR1cm4gbmV3IG14UG9pbnQoYS54K2Eud2lkdGgqYixhLnkrYS5oZWlnaHQvNCl9LGZ1bmN0aW9uKGEsYil7dGhpcy5zdGF0ZS5zdHlsZS5zaXplPU1hdGgubWF4KDAsTWF0aC5taW4oLjUsKGIueC1hLngpL2Eud2lkdGgpKX0sITEpXTtteFV0aWxzLmdldFZhbHVlKGEuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfUk9VTkRFRCwhMSkmJmIucHVzaCh2YShhKSk7cmV0dXJuIGJ9LGNyb3NzOmZ1bmN0aW9uKGEpe3JldHVybltWKGEsWyJzaXplIl0sZnVuY3Rpb24oYSl7dmFyIGI9TWF0aC5taW4oYS53aWR0aCxhLmhlaWdodCksYj1NYXRoLm1heCgwLE1hdGgubWluKDEsbXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0YXRlLnN0eWxlLCJzaXplIix4YS5wcm90b3R5cGUuc2l6ZSkpKSpiLzI7cmV0dXJuIG5ldyBteFBvaW50KGEuZ2V0Q2VudGVyWCgpLWIsYS5nZXRDZW50ZXJZKCktYil9LGZ1bmN0aW9uKGEsYil7dmFyIGU9TWF0aC5taW4oYS53aWR0aCxhLmhlaWdodCk7dGhpcy5zdGF0ZS5zdHlsZS5zaXplPQpNYXRoLm1heCgwLE1hdGgubWluKDEsTWF0aC5taW4oTWF0aC5tYXgoMCxhLmdldENlbnRlclkoKS1iLnkpL2UqMixNYXRoLm1heCgwLGEuZ2V0Q2VudGVyWCgpLWIueCkvZSoyKSkpfSldfSxub3RlOmZ1bmN0aW9uKGEpe3JldHVybltWKGEsWyJzaXplIl0sZnVuY3Rpb24oYSl7dmFyIGI9TWF0aC5tYXgoMCxNYXRoLm1pbihhLndpZHRoLE1hdGgubWluKGEuaGVpZ2h0LHBhcnNlRmxvYXQobXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0YXRlLnN0eWxlLCJzaXplIixrLnByb3RvdHlwZS5zaXplKSkpKSk7cmV0dXJuIG5ldyBteFBvaW50KGEueCthLndpZHRoLWIsYS55K2IpfSxmdW5jdGlvbihhLGIpe3RoaXMuc3RhdGUuc3R5bGUuc2l6ZT1NYXRoLnJvdW5kKE1hdGgubWF4KDAsTWF0aC5taW4oTWF0aC5taW4oYS53aWR0aCxhLngrYS53aWR0aC1iLngpLE1hdGgubWluKGEuaGVpZ2h0LGIueS1hLnkpKSkpfSldfSxtYW51YWxJbnB1dDpmdW5jdGlvbihhKXt2YXIgYj1bVihhLFsic2l6ZSJdLApmdW5jdGlvbihhKXt2YXIgYj1NYXRoLm1heCgwLE1hdGgubWluKGEuaGVpZ2h0LG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdGF0ZS5zdHlsZSwic2l6ZSIsY2EucHJvdG90eXBlLnNpemUpKSk7cmV0dXJuIG5ldyBteFBvaW50KGEueCthLndpZHRoLzQsYS55KzMqYi80KX0sZnVuY3Rpb24oYSxiKXt0aGlzLnN0YXRlLnN0eWxlLnNpemU9TWF0aC5yb3VuZChNYXRoLm1heCgwLE1hdGgubWluKGEuaGVpZ2h0LDQqKGIueS1hLnkpLzMpKSl9LCExKV07bXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX1JPVU5ERUQsITEpJiZiLnB1c2godmEoYSkpO3JldHVybiBifSxkYXRhU3RvcmFnZTpmdW5jdGlvbihhKXtyZXR1cm5bVihhLFsic2l6ZSJdLGZ1bmN0aW9uKGEpe3ZhciBiPU1hdGgubWF4KDAsTWF0aC5taW4oMSxwYXJzZUZsb2F0KG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdGF0ZS5zdHlsZSwic2l6ZSIscmEucHJvdG90eXBlLnNpemUpKSkpO3JldHVybiBuZXcgbXhQb2ludChhLngrCigxLWIpKmEud2lkdGgsYS5nZXRDZW50ZXJZKCkpfSxmdW5jdGlvbihhLGIpe3RoaXMuc3RhdGUuc3R5bGUuc2l6ZT1NYXRoLm1heCgwLE1hdGgubWluKDEsKGEueCthLndpZHRoLWIueCkvYS53aWR0aCkpfSwhMSldfSxjYWxsb3V0OmZ1bmN0aW9uKGEpe3ZhciBiPVtWKGEsWyJzaXplIiwicG9zaXRpb24iXSxmdW5jdGlvbihhKXt2YXIgYj1NYXRoLm1heCgwLE1hdGgubWluKGEuaGVpZ2h0LG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdGF0ZS5zdHlsZSwic2l6ZSIsQS5wcm90b3R5cGUuc2l6ZSkpKSxlPU1hdGgubWF4KDAsTWF0aC5taW4oMSxteFV0aWxzLmdldFZhbHVlKHRoaXMuc3RhdGUuc3R5bGUsInBvc2l0aW9uIixBLnByb3RvdHlwZS5wb3NpdGlvbikpKTtteFV0aWxzLmdldFZhbHVlKHRoaXMuc3RhdGUuc3R5bGUsImJhc2UiLEEucHJvdG90eXBlLmJhc2UpO3JldHVybiBuZXcgbXhQb2ludChhLngrZSphLndpZHRoLGEueSthLmhlaWdodC1iKX0sZnVuY3Rpb24oYSxiKXtteFV0aWxzLmdldFZhbHVlKHRoaXMuc3RhdGUuc3R5bGUsCiJiYXNlIixBLnByb3RvdHlwZS5iYXNlKTt0aGlzLnN0YXRlLnN0eWxlLnNpemU9TWF0aC5yb3VuZChNYXRoLm1heCgwLE1hdGgubWluKGEuaGVpZ2h0LGEueSthLmhlaWdodC1iLnkpKSk7dGhpcy5zdGF0ZS5zdHlsZS5wb3NpdGlvbj1NYXRoLnJvdW5kKDEwMCpNYXRoLm1heCgwLE1hdGgubWluKDEsKGIueC1hLngpL2Eud2lkdGgpKSkvMTAwfSwhMSksVihhLFsicG9zaXRpb24yIl0sZnVuY3Rpb24oYSl7dmFyIGI9TWF0aC5tYXgoMCxNYXRoLm1pbigxLG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdGF0ZS5zdHlsZSwicG9zaXRpb24yIixBLnByb3RvdHlwZS5wb3NpdGlvbjIpKSk7cmV0dXJuIG5ldyBteFBvaW50KGEueCtiKmEud2lkdGgsYS55K2EuaGVpZ2h0KX0sZnVuY3Rpb24oYSxiKXt0aGlzLnN0YXRlLnN0eWxlLnBvc2l0aW9uMj1NYXRoLnJvdW5kKDEwMCpNYXRoLm1heCgwLE1hdGgubWluKDEsKGIueC1hLngpL2Eud2lkdGgpKSkvMTAwfSwhMSksVihhLFsiYmFzZSJdLGZ1bmN0aW9uKGEpe3ZhciBiPQpNYXRoLm1heCgwLE1hdGgubWluKGEuaGVpZ2h0LG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdGF0ZS5zdHlsZSwic2l6ZSIsQS5wcm90b3R5cGUuc2l6ZSkpKSxlPU1hdGgubWF4KDAsTWF0aC5taW4oMSxteFV0aWxzLmdldFZhbHVlKHRoaXMuc3RhdGUuc3R5bGUsInBvc2l0aW9uIixBLnByb3RvdHlwZS5wb3NpdGlvbikpKSxjPU1hdGgubWF4KDAsTWF0aC5taW4oYS53aWR0aCxteFV0aWxzLmdldFZhbHVlKHRoaXMuc3RhdGUuc3R5bGUsImJhc2UiLEEucHJvdG90eXBlLmJhc2UpKSk7cmV0dXJuIG5ldyBteFBvaW50KGEueCtNYXRoLm1pbihhLndpZHRoLGUqYS53aWR0aCtjKSxhLnkrYS5oZWlnaHQtYil9LGZ1bmN0aW9uKGEsYil7dmFyIGU9TWF0aC5tYXgoMCxNYXRoLm1pbigxLG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdGF0ZS5zdHlsZSwicG9zaXRpb24iLEEucHJvdG90eXBlLnBvc2l0aW9uKSkpO3RoaXMuc3RhdGUuc3R5bGUuYmFzZT1NYXRoLnJvdW5kKE1hdGgubWF4KDAsTWF0aC5taW4oYS53aWR0aCwKYi54LWEueC1lKmEud2lkdGgpKSl9LCExKV07bXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX1JPVU5ERUQsITEpJiZiLnB1c2godmEoYSkpO3JldHVybiBifSxpbnRlcm5hbFN0b3JhZ2U6ZnVuY3Rpb24oYSl7dmFyIGI9W1YoYSxbImR4IiwiZHkiXSxmdW5jdGlvbihhKXt2YXIgYj1NYXRoLm1heCgwLE1hdGgubWluKGEud2lkdGgsbXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0YXRlLnN0eWxlLCJkeCIsUS5wcm90b3R5cGUuZHgpKSksZT1NYXRoLm1heCgwLE1hdGgubWluKGEuaGVpZ2h0LG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdGF0ZS5zdHlsZSwiZHkiLFEucHJvdG90eXBlLmR5KSkpO3JldHVybiBuZXcgbXhQb2ludChhLngrYixhLnkrZSl9LGZ1bmN0aW9uKGEsYil7dGhpcy5zdGF0ZS5zdHlsZS5keD1NYXRoLnJvdW5kKE1hdGgubWF4KDAsTWF0aC5taW4oYS53aWR0aCxiLngtYS54KSkpO3RoaXMuc3RhdGUuc3R5bGUuZHk9TWF0aC5yb3VuZChNYXRoLm1heCgwLApNYXRoLm1pbihhLmhlaWdodCxiLnktYS55KSkpfSwhMSldO214VXRpbHMuZ2V0VmFsdWUoYS5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9ST1VOREVELCExKSYmYi5wdXNoKHZhKGEpKTtyZXR1cm4gYn0sbW9kdWxlOmZ1bmN0aW9uKGEpe3JldHVybltWKGEsWyJqZXR0eVdpZHRoIiwiamV0dHlIZWlnaHQiXSxmdW5jdGlvbihhKXt2YXIgYj1NYXRoLm1heCgwLE1hdGgubWluKGEud2lkdGgsbXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0YXRlLnN0eWxlLCJqZXR0eVdpZHRoIixZLnByb3RvdHlwZS5qZXR0eVdpZHRoKSkpLGU9TWF0aC5tYXgoMCxNYXRoLm1pbihhLmhlaWdodCxteFV0aWxzLmdldFZhbHVlKHRoaXMuc3RhdGUuc3R5bGUsImpldHR5SGVpZ2h0IixZLnByb3RvdHlwZS5qZXR0eUhlaWdodCkpKTtyZXR1cm4gbmV3IG14UG9pbnQoYS54K2IvMixhLnkrMiplKX0sZnVuY3Rpb24oYSxiKXt0aGlzLnN0YXRlLnN0eWxlLmpldHR5V2lkdGg9TWF0aC5yb3VuZCgyKk1hdGgubWF4KDAsCk1hdGgubWluKGEud2lkdGgsYi54LWEueCkpKTt0aGlzLnN0YXRlLnN0eWxlLmpldHR5SGVpZ2h0PU1hdGgucm91bmQoTWF0aC5tYXgoMCxNYXRoLm1pbihhLmhlaWdodCxiLnktYS55KSkvMil9KV19LGNvcm5lcjpmdW5jdGlvbihhKXtyZXR1cm5bVihhLFsiZHgiLCJkeSJdLGZ1bmN0aW9uKGEpe3ZhciBiPU1hdGgubWF4KDAsTWF0aC5taW4oYS53aWR0aCxteFV0aWxzLmdldFZhbHVlKHRoaXMuc3RhdGUuc3R5bGUsImR4IixMLnByb3RvdHlwZS5keCkpKSxlPU1hdGgubWF4KDAsTWF0aC5taW4oYS5oZWlnaHQsbXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0YXRlLnN0eWxlLCJkeSIsTC5wcm90b3R5cGUuZHkpKSk7cmV0dXJuIG5ldyBteFBvaW50KGEueCtiLGEueStlKX0sZnVuY3Rpb24oYSxiKXt0aGlzLnN0YXRlLnN0eWxlLmR4PU1hdGgucm91bmQoTWF0aC5tYXgoMCxNYXRoLm1pbihhLndpZHRoLGIueC1hLngpKSk7dGhpcy5zdGF0ZS5zdHlsZS5keT1NYXRoLnJvdW5kKE1hdGgubWF4KDAsCk1hdGgubWluKGEuaGVpZ2h0LGIueS1hLnkpKSl9LCExKV19LHRlZTpmdW5jdGlvbihhKXtyZXR1cm5bVihhLFsiZHgiLCJkeSJdLGZ1bmN0aW9uKGEpe3ZhciBiPU1hdGgubWF4KDAsTWF0aC5taW4oYS53aWR0aCxteFV0aWxzLmdldFZhbHVlKHRoaXMuc3RhdGUuc3R5bGUsImR4IixPLnByb3RvdHlwZS5keCkpKSxlPU1hdGgubWF4KDAsTWF0aC5taW4oYS5oZWlnaHQsbXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0YXRlLnN0eWxlLCJkeSIsTy5wcm90b3R5cGUuZHkpKSk7cmV0dXJuIG5ldyBteFBvaW50KGEueCsoYS53aWR0aCtiKS8yLGEueStlKX0sZnVuY3Rpb24oYSxiKXt0aGlzLnN0YXRlLnN0eWxlLmR4PU1hdGgucm91bmQoTWF0aC5tYXgoMCwyKk1hdGgubWluKGEud2lkdGgvMixiLngtYS54LWEud2lkdGgvMikpKTt0aGlzLnN0YXRlLnN0eWxlLmR5PU1hdGgucm91bmQoTWF0aC5tYXgoMCxNYXRoLm1pbihhLmhlaWdodCxiLnktYS55KSkpfSwhMSldfSxzaW5nbGVBcnJvdzp5YSgxKSwKZG91YmxlQXJyb3c6eWEoLjUpLGZvbGRlcjpmdW5jdGlvbihhKXtyZXR1cm5bVihhLFsidGFiV2lkdGgiLCJ0YWJIZWlnaHQiXSxmdW5jdGlvbihhKXt2YXIgZT1NYXRoLm1heCgwLE1hdGgubWluKGEud2lkdGgsbXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0YXRlLnN0eWxlLCJ0YWJXaWR0aCIsYi5wcm90b3R5cGUudGFiV2lkdGgpKSksYz1NYXRoLm1heCgwLE1hdGgubWluKGEuaGVpZ2h0LG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdGF0ZS5zdHlsZSwidGFiSGVpZ2h0IixiLnByb3RvdHlwZS50YWJIZWlnaHQpKSk7bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0YXRlLnN0eWxlLCJ0YWJQb3NpdGlvbiIsYi5wcm90b3R5cGUudGFiUG9zaXRpb24pPT1teENvbnN0YW50cy5BTElHTl9SSUdIVCYmKGU9YS53aWR0aC1lKTtyZXR1cm4gbmV3IG14UG9pbnQoYS54K2UsYS55K2MpfSxmdW5jdGlvbihhLGUpe3ZhciBjPU1hdGgubWF4KDAsTWF0aC5taW4oYS53aWR0aCxlLngtYS54KSk7bXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0YXRlLnN0eWxlLAoidGFiUG9zaXRpb24iLGIucHJvdG90eXBlLnRhYlBvc2l0aW9uKT09bXhDb25zdGFudHMuQUxJR05fUklHSFQmJihjPWEud2lkdGgtYyk7dGhpcy5zdGF0ZS5zdHlsZS50YWJXaWR0aD1NYXRoLnJvdW5kKGMpO3RoaXMuc3RhdGUuc3R5bGUudGFiSGVpZ2h0PU1hdGgucm91bmQoTWF0aC5tYXgoMCxNYXRoLm1pbihhLmhlaWdodCxlLnktYS55KSkpfSwhMSldfSxkb2N1bWVudDpmdW5jdGlvbihhKXtyZXR1cm5bVihhLFsic2l6ZSJdLGZ1bmN0aW9uKGEpe3ZhciBiPU1hdGgubWF4KDAsTWF0aC5taW4oMSxwYXJzZUZsb2F0KG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdGF0ZS5zdHlsZSwic2l6ZSIscC5wcm90b3R5cGUuc2l6ZSkpKSk7cmV0dXJuIG5ldyBteFBvaW50KGEueCszKmEud2lkdGgvNCxhLnkrKDEtYikqYS5oZWlnaHQpfSxmdW5jdGlvbihhLGIpe3RoaXMuc3RhdGUuc3R5bGUuc2l6ZT1NYXRoLm1heCgwLE1hdGgubWluKDEsKGEueSthLmhlaWdodC1iLnkpL2EuaGVpZ2h0KSl9LAohMSldfSx0YXBlOmZ1bmN0aW9uKGEpe3JldHVybltWKGEsWyJzaXplIl0sZnVuY3Rpb24oYSl7dmFyIGI9TWF0aC5tYXgoMCxNYXRoLm1pbigxLHBhcnNlRmxvYXQobXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0YXRlLnN0eWxlLCJzaXplIixnLnByb3RvdHlwZS5zaXplKSkpKTtyZXR1cm4gbmV3IG14UG9pbnQoYS5nZXRDZW50ZXJYKCksYS55K2IqYS5oZWlnaHQvMil9LGZ1bmN0aW9uKGEsYil7dGhpcy5zdGF0ZS5zdHlsZS5zaXplPU1hdGgubWF4KDAsTWF0aC5taW4oMSwoYi55LWEueSkvYS5oZWlnaHQqMikpfSwhMSldfSxvZmZQYWdlQ29ubmVjdG9yOmZ1bmN0aW9uKGEpe3JldHVybltWKGEsWyJzaXplIl0sZnVuY3Rpb24oYSl7dmFyIGI9TWF0aC5tYXgoMCxNYXRoLm1pbigxLHBhcnNlRmxvYXQobXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0YXRlLnN0eWxlLCJzaXplIixULnByb3RvdHlwZS5zaXplKSkpKTtyZXR1cm4gbmV3IG14UG9pbnQoYS5nZXRDZW50ZXJYKCksYS55KygxLWIpKgphLmhlaWdodCl9LGZ1bmN0aW9uKGEsYil7dGhpcy5zdGF0ZS5zdHlsZS5zaXplPU1hdGgubWF4KDAsTWF0aC5taW4oMSwoYS55K2EuaGVpZ2h0LWIueSkvYS5oZWlnaHQpKX0sITEpXX0sc3RlcDpFYShDLnByb3RvdHlwZS5zaXplLCEwLG51bGwsITAsQy5wcm90b3R5cGUuZml4ZWRTaXplKSxoZXhhZ29uOkVhKHoucHJvdG90eXBlLnNpemUsITAsLjUsITApLGN1cmx5QnJhY2tldDpFYSh2LnByb3RvdHlwZS5zaXplLCExKSxkaXNwbGF5OkVhKGthLnByb3RvdHlwZS5zaXplLCExKSxjdWJlOkthKDEsZC5wcm90b3R5cGUuc2l6ZSwhMSksY2FyZDpLYSguNSxlLnByb3RvdHlwZS5zaXplLCEwKSxsb29wTGltaXQ6S2EoLjUsVy5wcm90b3R5cGUuc2l6ZSwhMCksdHJhcGV6b2lkOkxhKC41KSxwYXJhbGxlbG9ncmFtOkxhKDEpfTtHcmFwaC5jcmVhdGVIYW5kbGU9VjtHcmFwaC5oYW5kbGVGYWN0b3J5PUZhO3ZhciBTYT1teFZlcnRleEhhbmRsZXIucHJvdG90eXBlLmNyZWF0ZUN1c3RvbUhhbmRsZXM7Cm14VmVydGV4SGFuZGxlci5wcm90b3R5cGUuY3JlYXRlQ3VzdG9tSGFuZGxlcz1mdW5jdGlvbigpe3ZhciBhPVNhLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtpZih0aGlzLmdyYXBoLmlzQ2VsbFJvdGF0YWJsZSh0aGlzLnN0YXRlLmNlbGwpKXt2YXIgYj10aGlzLnN0YXRlLnN0eWxlLnNoYXBlO251bGw9PW14Q2VsbFJlbmRlcmVyLmRlZmF1bHRTaGFwZXNbYl0mJm51bGw9PW14U3RlbmNpbFJlZ2lzdHJ5LmdldFN0ZW5jaWwoYik/Yj1teENvbnN0YW50cy5TSEFQRV9SRUNUQU5HTEU6dGhpcy5zdGF0ZS52aWV3LmdyYXBoLmlzU3dpbWxhbmUodGhpcy5zdGF0ZS5jZWxsKSYmKGI9bXhDb25zdGFudHMuU0hBUEVfU1dJTUxBTkUpO2I9RmFbYl07bnVsbD09YiYmbnVsbCE9dGhpcy5zdGF0ZS5zaGFwZSYmdGhpcy5zdGF0ZS5zaGFwZS5pc1JvdW5kYWJsZSgpJiYoYj1GYVtteENvbnN0YW50cy5TSEFQRV9SRUNUQU5HTEVdKTtudWxsIT1iJiYoYj1iKHRoaXMuc3RhdGUpLG51bGwhPWImJihhPQpudWxsPT1hP2I6YS5jb25jYXQoYikpKX1yZXR1cm4gYX07bXhFZGdlSGFuZGxlci5wcm90b3R5cGUuY3JlYXRlQ3VzdG9tSGFuZGxlcz1mdW5jdGlvbigpe3ZhciBhPXRoaXMuc3RhdGUuc3R5bGUuc2hhcGU7bnVsbD09bXhDZWxsUmVuZGVyZXIuZGVmYXVsdFNoYXBlc1thXSYmbnVsbD09bXhTdGVuY2lsUmVnaXN0cnkuZ2V0U3RlbmNpbChhKSYmKGE9bXhDb25zdGFudHMuU0hBUEVfQ09OTkVDVE9SKTthPUZhW2FdO3JldHVybiBudWxsIT1hP2EodGhpcy5zdGF0ZSk6bnVsbH19ZWxzZSBHcmFwaC5jcmVhdGVIYW5kbGU9ZnVuY3Rpb24oKXt9LEdyYXBoLmhhbmRsZUZhY3Rvcnk9e307dmFyIEdhPW5ldyBteFBvaW50KDEsMCksSGE9bmV3IG14UG9pbnQoMSwwKSx5YT1teFV0aWxzLnRvUmFkaWFucygtMzApLEdhPW14VXRpbHMuZ2V0Um90YXRlZFBvaW50KEdhLE1hdGguY29zKHlhKSxNYXRoLnNpbih5YSkpLHlhPW14VXRpbHMudG9SYWRpYW5zKC0xNTApLEhhPW14VXRpbHMuZ2V0Um90YXRlZFBvaW50KEhhLApNYXRoLmNvcyh5YSksTWF0aC5zaW4oeWEpKTtteEVkZ2VTdHlsZS5Jc29tZXRyaWNDb25uZWN0b3I9ZnVuY3Rpb24oYSxiLGUsYyxkKXt2YXIgZj1hLnZpZXc7Yz1udWxsIT1jJiYwPGMubGVuZ3RoP2NbMF06bnVsbDt2YXIgZz1hLmFic29sdXRlUG9pbnRzLGw9Z1swXSxnPWdbZy5sZW5ndGgtMV07bnVsbCE9YyYmKGM9Zi50cmFuc2Zvcm1Db250cm9sUG9pbnQoYSxjKSk7bnVsbD09bCYmbnVsbCE9YiYmKGw9bmV3IG14UG9pbnQoYi5nZXRDZW50ZXJYKCksYi5nZXRDZW50ZXJZKCkpKTtudWxsPT1nJiZudWxsIT1lJiYoZz1uZXcgbXhQb2ludChlLmdldENlbnRlclgoKSxlLmdldENlbnRlclkoKSkpO3ZhciBwPUdhLngsdT1HYS55LG49SGEueCx0PUhhLnksQj0iaG9yaXpvbnRhbCI9PW14VXRpbHMuZ2V0VmFsdWUoYS5zdHlsZSwiZWxib3ciLCJob3Jpem9udGFsIik7aWYobnVsbCE9ZyYmbnVsbCE9bCl7YT1mdW5jdGlvbihhLGIsZSl7YS09ay54O3ZhciBjPWItay55O2I9KHQqYS0KbipjKS8ocCp0LXUqbik7YT0odSphLXAqYykvKHUqbi1wKnQpO0I/KGUmJihrPW5ldyBteFBvaW50KGsueCtwKmIsay55K3UqYiksZC5wdXNoKGspKSxrPW5ldyBteFBvaW50KGsueCtuKmEsay55K3QqYSkpOihlJiYoaz1uZXcgbXhQb2ludChrLngrbiphLGsueSt0KmEpLGQucHVzaChrKSksaz1uZXcgbXhQb2ludChrLngrcCpiLGsueSt1KmIpKTtkLnB1c2goayl9O3ZhciBrPWw7bnVsbD09YyYmKGM9bmV3IG14UG9pbnQobC54KyhnLngtbC54KS8yLGwueSsoZy55LWwueSkvMikpO2EoYy54LGMueSwhMCk7YShnLngsZy55LCExKX19O214U3R5bGVSZWdpc3RyeS5wdXRWYWx1ZSgiaXNvbWV0cmljRWRnZVN0eWxlIixteEVkZ2VTdHlsZS5Jc29tZXRyaWNDb25uZWN0b3IpO3ZhciBUYT1HcmFwaC5wcm90b3R5cGUuY3JlYXRlRWRnZUhhbmRsZXI7R3JhcGgucHJvdG90eXBlLmNyZWF0ZUVkZ2VIYW5kbGVyPWZ1bmN0aW9uKGEsYil7aWYoYj09bXhFZGdlU3R5bGUuSXNvbWV0cmljQ29ubmVjdG9yKXt2YXIgZT0KbmV3IG14RWxib3dFZGdlSGFuZGxlcihhKTtlLnNuYXBUb1Rlcm1pbmFscz0hMTtyZXR1cm4gZX1yZXR1cm4gVGEuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtmLnByb3RvdHlwZS5jb25zdHJhaW50cz1bXTtjLnByb3RvdHlwZS5nZXRDb25zdHJhaW50cz1mdW5jdGlvbihhLGIsZSl7YT1bXTt2YXIgYz1NYXRoLnRhbihteFV0aWxzLnRvUmFkaWFucygzMCkpLGQ9KC41LWMpLzIsYz1NYXRoLm1pbihiLGUvKC41K2MpKTtiPShiLWMpLzI7ZT0oZS1jKS8yO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLDApLCExLG51bGwsYixlKy4yNSpjKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMCksITEsbnVsbCxiKy41KmMsZStjKmQpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSxudWxsLGIrYyxlKy4yNSpjKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsCjApLCExLG51bGwsYitjLGUrLjc1KmMpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSxudWxsLGIrLjUqYyxlKygxLWQpKmMpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSxudWxsLGIsZSsuNzUqYykpO3JldHVybiBhfTtBLnByb3RvdHlwZS5nZXRDb25zdHJhaW50cz1mdW5jdGlvbihhLGIsZSl7YT1bXTtteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfQVJDU0laRSxteENvbnN0YW50cy5MSU5FX0FSQ1NJWkUpO3ZhciBjPU1hdGgubWF4KDAsTWF0aC5taW4oZSxwYXJzZUZsb2F0KG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSwic2l6ZSIsdGhpcy5zaXplKSkpKTtwYXJzZUZsb2F0KG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSwicG9zaXRpb24iLHRoaXMucG9zaXRpb24pKTt2YXIgZD1iKk1hdGgubWF4KDAsTWF0aC5taW4oMSxwYXJzZUZsb2F0KG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSwKInBvc2l0aW9uMiIsdGhpcy5wb3NpdGlvbjIpKSkpO3BhcnNlRmxvYXQobXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLCJiYXNlIix0aGlzLmJhc2UpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSkpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCguMjUsMCksITEpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoLjUsMCksITEpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoLjc1LDApLCExKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDEsMCksITEpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSxudWxsLGIsLjUqKGUtYykpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSxudWxsLApiLGUtYykpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLDApLCExLG51bGwsZCxlKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMCksITEsbnVsbCwwLGUtYykpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLDApLCExLG51bGwsMCwuNSooZS1jKSkpO2I+PTIqYyYmYS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KC41LDApLCExKSk7cmV0dXJuIGF9O214UmVjdGFuZ2xlU2hhcGUucHJvdG90eXBlLmNvbnN0cmFpbnRzPVtuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLDApLCEwKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCguMjUsMCksITApLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KC41LDApLCEwKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCguNzUsCjApLCEwKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgxLDApLCEwKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLC4yNSksITApLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsLjUpLCEwKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLC43NSksITApLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDEsLjI1KSwhMCksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMSwuNSksITApLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDEsLjc1KSwhMCksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwxKSwhMCksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoLjI1LDEpLCEwKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCguNSwxKSwhMCksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoLjc1LAoxKSwhMCksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMSwxKSwhMCldO214RWxsaXBzZS5wcm90b3R5cGUuY29uc3RyYWludHM9W25ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMCksITApLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDEsMCksITApLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMSksITApLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDEsMSksITApLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KC41LDApLCEwKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCguNSwxKSwhMCksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwuNSksITApLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDEsLjUpKV07bXhMYWJlbC5wcm90b3R5cGUuY29uc3RyYWludHM9Cm14UmVjdGFuZ2xlU2hhcGUucHJvdG90eXBlLmNvbnN0cmFpbnRzO214SW1hZ2VTaGFwZS5wcm90b3R5cGUuY29uc3RyYWludHM9bXhSZWN0YW5nbGVTaGFwZS5wcm90b3R5cGUuY29uc3RyYWludHM7bXhTd2ltbGFuZS5wcm90b3R5cGUuY29uc3RyYWludHM9bXhSZWN0YW5nbGVTaGFwZS5wcm90b3R5cGUuY29uc3RyYWludHM7RC5wcm90b3R5cGUuY29uc3RyYWludHM9bXhSZWN0YW5nbGVTaGFwZS5wcm90b3R5cGUuY29uc3RyYWludHM7ay5wcm90b3R5cGUuZ2V0Q29uc3RyYWludHM9ZnVuY3Rpb24oYSxiLGUpe2E9W107dmFyIGM9TWF0aC5tYXgoMCxNYXRoLm1pbihiLE1hdGgubWluKGUscGFyc2VGbG9hdChteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsInNpemUiLHRoaXMuc2l6ZSkpKSkpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLDApLCExKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMCksCiExLG51bGwsLjUqKGItYyksMCkpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLDApLCExLG51bGwsYi1jLDApKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSxudWxsLGItLjUqYywuNSpjKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMCksITEsbnVsbCxiLGMpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSxudWxsLGIsLjUqKGUrYykpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMSwxKSwhMSkpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCguNSwxKSwhMSkpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLDEpLCExKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsCi41KSwhMSkpO2I+PTIqYyYmYS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KC41LDApLCExKSk7cmV0dXJuIGF9O2UucHJvdG90eXBlLmdldENvbnN0cmFpbnRzPWZ1bmN0aW9uKGEsYixlKXthPVtdO3ZhciBjPU1hdGgubWF4KDAsTWF0aC5taW4oYixNYXRoLm1pbihlLHBhcnNlRmxvYXQobXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLCJzaXplIix0aGlzLnNpemUpKSkpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMSwwKSwhMSkpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLDApLCExLG51bGwsLjUqKGIrYyksMCkpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLDApLCExLG51bGwsYywwKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMCksITEsbnVsbCwuNSpjLC41KmMpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwKMCksITEsbnVsbCwwLGMpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSxudWxsLDAsLjUqKGUrYykpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwxKSwhMSkpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCguNSwxKSwhMSkpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgxLDEpLCExKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDEsLjUpLCExKSk7Yj49MipjJiZhLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoLjUsMCksITEpKTtyZXR1cm4gYX07ZC5wcm90b3R5cGUuZ2V0Q29uc3RyYWludHM9ZnVuY3Rpb24oYSxiLGUpe2E9W107dmFyIGM9TWF0aC5tYXgoMCxNYXRoLm1pbihiLE1hdGgubWluKGUscGFyc2VGbG9hdChteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsCiJzaXplIix0aGlzLnNpemUpKSkpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSkpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLDApLCExLG51bGwsLjUqKGItYyksMCkpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLDApLCExLG51bGwsYi1jLDApKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSxudWxsLGItLjUqYywuNSpjKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMCksITEsbnVsbCxiLGMpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSxudWxsLGIsLjUqKGUrYykpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMSwxKSwhMSkpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLAowKSwhMSxudWxsLC41KihiK2MpLGUpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSxudWxsLGMsZSkpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLDApLCExLG51bGwsLjUqYyxlLS41KmMpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSxudWxsLDAsZS1jKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMCksITEsbnVsbCwwLC41KihlLWMpKSk7cmV0dXJuIGF9O2IucHJvdG90eXBlLmdldENvbnN0cmFpbnRzPWZ1bmN0aW9uKGEsYixlKXthPVtdO3ZhciBjPU1hdGgubWF4KDAsTWF0aC5taW4oYixwYXJzZUZsb2F0KG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSwidGFiV2lkdGgiLHRoaXMudGFiV2lkdGgpKSkpLGQ9TWF0aC5tYXgoMCxNYXRoLm1pbihlLHBhcnNlRmxvYXQobXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLAoidGFiSGVpZ2h0Iix0aGlzLnRhYkhlaWdodCkpKSk7ImxlZnQiPT1teFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsInRhYlBvc2l0aW9uIix0aGlzLnRhYlBvc2l0aW9uKT8oYS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMCksITEpKSxhLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSxudWxsLC41KmMsMCkpLGEucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLDApLCExLG51bGwsYywwKSksYS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMCksITEsbnVsbCxjLGQpKSxhLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSxudWxsLC41KihiK2MpLGQpKSk6KGEucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgxLDApLCExKSksYS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsCjApLCExLG51bGwsYi0uNSpjLDApKSxhLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSxudWxsLGItYywwKSksYS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMCksITEsbnVsbCxiLWMsZCkpLGEucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLDApLCExLG51bGwsLjUqKGItYyksZCkpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSxudWxsLGIsZCkpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLDApLCExLG51bGwsYiwuMjUqKGUtZCkrZCkpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLDApLCExLG51bGwsYiwuNSooZS1kKStkKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMCksITEsbnVsbCwKYiwuNzUqKGUtZCkrZCkpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLDApLCExLG51bGwsYixlKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMCksITEsbnVsbCwwLGQpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSxudWxsLDAsLjI1KihlLWQpK2QpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSxudWxsLDAsLjUqKGUtZCkrZCkpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLDApLCExLG51bGwsMCwuNzUqKGUtZCkrZCkpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLDApLCExLG51bGwsMCxlKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KC4yNSwxKSwhMSkpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCguNSwKMSksITEpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoLjc1LDEpLCExKSk7cmV0dXJuIGF9O1EucHJvdG90eXBlLmNvbnN0cmFpbnRzPW14UmVjdGFuZ2xlU2hhcGUucHJvdG90eXBlLmNvbnN0cmFpbnRzO3JhLnByb3RvdHlwZS5jb25zdHJhaW50cz1teFJlY3RhbmdsZVNoYXBlLnByb3RvdHlwZS5jb25zdHJhaW50cztwYS5wcm90b3R5cGUuY29uc3RyYWludHM9bXhFbGxpcHNlLnByb3RvdHlwZS5jb25zdHJhaW50cztzYS5wcm90b3R5cGUuY29uc3RyYWludHM9bXhFbGxpcHNlLnByb3RvdHlwZS5jb25zdHJhaW50cztoYS5wcm90b3R5cGUuY29uc3RyYWludHM9bXhFbGxpcHNlLnByb3RvdHlwZS5jb25zdHJhaW50cztvYS5wcm90b3R5cGUuY29uc3RyYWludHM9bXhFbGxpcHNlLnByb3RvdHlwZS5jb25zdHJhaW50cztjYS5wcm90b3R5cGUuY29uc3RyYWludHM9bXhSZWN0YW5nbGVTaGFwZS5wcm90b3R5cGUuY29uc3RyYWludHM7d2EucHJvdG90eXBlLmNvbnN0cmFpbnRzPQpteFJlY3RhbmdsZVNoYXBlLnByb3RvdHlwZS5jb25zdHJhaW50cztrYS5wcm90b3R5cGUuZ2V0Q29uc3RyYWludHM9ZnVuY3Rpb24oYSxiLGUpe2E9W107dmFyIGM9TWF0aC5taW4oYixlLzIpLGQ9TWF0aC5taW4oYi1jLE1hdGgubWF4KDAscGFyc2VGbG9hdChteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsInNpemUiLHRoaXMuc2l6ZSkpKSpiKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwuNSksITEsbnVsbCkpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLDApLCExLG51bGwsZCwwKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMCksITEsbnVsbCwuNSooZCtiLWMpLDApKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSxudWxsLGItYywwKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDEsCi41KSwhMSxudWxsKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMCksITEsbnVsbCxiLWMsZSkpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLDApLCExLG51bGwsLjUqKGQrYi1jKSxlKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMCksITEsbnVsbCxkLGUpKTtyZXR1cm4gYX07WS5wcm90b3R5cGUuZ2V0Q29uc3RyYWludHM9ZnVuY3Rpb24oYSxiLGUpe2I9cGFyc2VGbG9hdChteFV0aWxzLmdldFZhbHVlKGEsImpldHR5V2lkdGgiLFkucHJvdG90eXBlLmpldHR5V2lkdGgpKS8yO2E9cGFyc2VGbG9hdChteFV0aWxzLmdldFZhbHVlKGEsImpldHR5SGVpZ2h0IixZLnByb3RvdHlwZS5qZXR0eUhlaWdodCkpO3ZhciBjPVtuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLDApLCExLG51bGwsYiksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoLjI1LAowKSwhMCksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoLjUsMCksITApLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KC43NSwwKSwhMCksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMSwwKSwhMCksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMSwuMjUpLCEwKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgxLC41KSwhMCksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMSwuNzUpLCEwKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLDEpLCExLG51bGwsYiksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoLjI1LDEpLCEwKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCguNSwxKSwhMCksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoLjc1LDEpLAohMCksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMSwxKSwhMCksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSxudWxsLDAsTWF0aC5taW4oZS0uNSphLDEuNSphKSksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSxudWxsLDAsTWF0aC5taW4oZS0uNSphLDMuNSphKSldO2U+NSphJiZjLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwuNzUpLCExLG51bGwsYikpO2U+OCphJiZjLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwuNSksITEsbnVsbCxiKSk7ZT4xNSphJiZjLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwuMjUpLCExLG51bGwsYikpO3JldHVybiBjfTtXLnByb3RvdHlwZS5jb25zdHJhaW50cz1teFJlY3RhbmdsZVNoYXBlLnByb3RvdHlwZS5jb25zdHJhaW50cztULnByb3RvdHlwZS5jb25zdHJhaW50cz0KbXhSZWN0YW5nbGVTaGFwZS5wcm90b3R5cGUuY29uc3RyYWludHM7bXhDeWxpbmRlci5wcm90b3R5cGUuY29uc3RyYWludHM9W25ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KC4xNSwuMDUpLCExKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCguNSwwKSwhMCksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoLjg1LC4wNSksITEpLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsLjMpLCEwKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLC41KSwhMCksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwuNyksITApLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDEsLjMpLCEwKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgxLC41KSwhMCksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMSwKLjcpLCEwKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCguMTUsLjk1KSwhMSksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoLjUsMSksITApLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KC44NSwuOTUpLCExKV07SC5wcm90b3R5cGUuY29uc3RyYWludHM9W25ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KC4yNSwuMSksITEpLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KC41LDApLCExKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCguNzUsLjEpLCExKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLDEvMyksITEpLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMSksITEpLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDEsMS8zKSwhMSksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMSwKMSksITEpLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KC41LC41KSwhMSldO1oucHJvdG90eXBlLmNvbnN0cmFpbnRzPVtuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCguMjUsMCksITApLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KC41LDApLCEwKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCguNzUsMCksITApLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsLjMpLCEwKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLC43KSwhMCksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMSwuMjUpLCEwKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgxLC41KSwhMCksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMSwuNzUpLCEwKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCguMjUsCjEpLCEwKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCguNSwxKSwhMCksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoLjc1LDEpLCEwKV07bXhBY3Rvci5wcm90b3R5cGUuY29uc3RyYWludHM9W25ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KC41LDApLCEwKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCguMjUsLjIpLCExKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCguMSwuNSksITEpLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsLjc1KSwhMCksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoLjc1LC4yNSksITEpLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KC45LC41KSwhMSksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMSwuNzUpLCEwKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCguMjUsCjEpLCEwKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCguNSwxKSwhMCksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoLjc1LDEpLCEwKV07cS5wcm90b3R5cGUuY29uc3RyYWludHM9W25ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMCksITEpLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KC41LC4yNSksITEpLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDEsMCksITEpLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KC4yNSwuNSksITEpLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KC43NSwuNSksITEpLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMSksITEpLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KC41LC43NSksITEpLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDEsCjEpLCExKV07Zy5wcm90b3R5cGUuY29uc3RyYWludHM9W25ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsLjM1KSwhMSksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwuNSksITEpLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsLjY1KSwhMSksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMSwuMzUpLCExKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgxLC41KSwhMSksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMSwuNjUpLCExKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCguMjUsMSksITEpLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KC43NSwwKSwhMSldO0MucHJvdG90eXBlLmNvbnN0cmFpbnRzPVtuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCguMjUsMCksCiEwKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCguNSwwKSwhMCksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoLjc1LDApLCEwKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCguMjUsMSksITApLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KC41LDEpLCEwKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCguNzUsMSksITApLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsLjI1KSwhMCksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwuNSksITApLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsLjc1KSwhMCksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMSwuMjUpLCEwKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgxLC41KSwhMCksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMSwKLjc1KSwhMCldO214TGluZS5wcm90b3R5cGUuY29uc3RyYWludHM9W25ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsLjUpLCExKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCguMjUsLjUpLCExKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCguNzUsLjUpLCExKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgxLC41KSwhMSldO0kucHJvdG90eXBlLmNvbnN0cmFpbnRzPVtuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCguNSwwKSwhMSksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoLjUsMSksITEpXTtteERvdWJsZUVsbGlwc2UucHJvdG90eXBlLmNvbnN0cmFpbnRzPW14RWxsaXBzZS5wcm90b3R5cGUuY29uc3RyYWludHM7bXhSaG9tYnVzLnByb3RvdHlwZS5jb25zdHJhaW50cz1teEVsbGlwc2UucHJvdG90eXBlLmNvbnN0cmFpbnRzO214VHJpYW5nbGUucHJvdG90eXBlLmNvbnN0cmFpbnRzPQpbbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwuMjUpLCEwKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLC41KSwhMCksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwuNzUpLCEwKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCguNSwwKSwhMCksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoLjUsMSksITApLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDEsLjUpLCEwKV07bXhIZXhhZ29uLnByb3RvdHlwZS5jb25zdHJhaW50cz1bbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoLjM3NSwwKSwhMCksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoLjUsMCksITApLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KC42MjUsMCksITApLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsCi4yNSksITApLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsLjUpLCEwKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLC43NSksITApLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDEsLjI1KSwhMCksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMSwuNSksITApLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDEsLjc1KSwhMCksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoLjM3NSwxKSwhMCksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoLjUsMSksITApLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KC42MjUsMSksITApXTtteENsb3VkLnByb3RvdHlwZS5jb25zdHJhaW50cz1bbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoLjI1LC4yNSksITEpLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KC40LAouMSksITEpLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KC4xNiwuNTUpLCExKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCguMDcsLjQpLCExKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCguMzEsLjgpLCExKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCguMTMsLjc3KSwhMSksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoLjgsLjgpLCExKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCguNTUsLjk1KSwhMSksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoLjg3NSwuNSksITEpLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KC45NiwuNyksITEpLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KC42MjUsLjIpLCExKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCguODgsCi4yNSksITEpXTtsLnByb3RvdHlwZS5jb25zdHJhaW50cz1teFJlY3RhbmdsZVNoYXBlLnByb3RvdHlwZS5jb25zdHJhaW50cztuLnByb3RvdHlwZS5jb25zdHJhaW50cz1teFJlY3RhbmdsZVNoYXBlLnByb3RvdHlwZS5jb25zdHJhaW50cztwLnByb3RvdHlwZS5jb25zdHJhaW50cz1bbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoLjI1LDApLCEwKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCguNSwwKSwhMCksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoLjc1LDApLCEwKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLC4yNSksITApLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsLjUpLCEwKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLC43NSksITApLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDEsLjI1KSwKITApLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDEsLjUpLCEwKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgxLC43NSksITApXTtteEFycm93LnByb3RvdHlwZS5jb25zdHJhaW50cz1udWxsO08ucHJvdG90eXBlLmdldENvbnN0cmFpbnRzPWZ1bmN0aW9uKGEsYixlKXthPVtdO3ZhciBjPU1hdGgubWF4KDAsTWF0aC5taW4oYixwYXJzZUZsb2F0KG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSwiZHgiLHRoaXMuZHgpKSkpLGQ9TWF0aC5tYXgoMCxNYXRoLm1pbihlLHBhcnNlRmxvYXQobXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLCJkeSIsdGhpcy5keSkpKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMCksITEpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoLjUsMCksITEpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMSwKMCksITEpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSxudWxsLGIsLjUqZCkpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLDApLCExLG51bGwsYixkKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMCksITEsbnVsbCwuNzUqYisuMjUqYyxkKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMCksITEsbnVsbCwuNSooYitjKSxkKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMCksITEsbnVsbCwuNSooYitjKSwuNSooZStkKSkpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLDApLCExLG51bGwsLjUqKGIrYyksZSkpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCguNSwxKSwhMSkpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLAowKSwhMSxudWxsLC41KihiLWMpLGUpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSxudWxsLC41KihiLWMpLC41KihlK2QpKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMCksITEsbnVsbCwuNSooYi1jKSxkKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMCksITEsbnVsbCwuMjUqYi0uMjUqYyxkKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMCksITEsbnVsbCwwLGQpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSxudWxsLDAsLjUqZCkpO3JldHVybiBhfTtMLnByb3RvdHlwZS5nZXRDb25zdHJhaW50cz1mdW5jdGlvbihhLGIsZSl7YT1bXTt2YXIgYz1NYXRoLm1heCgwLE1hdGgubWluKGIscGFyc2VGbG9hdChteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsCiJkeCIsdGhpcy5keCkpKSksZD1NYXRoLm1heCgwLE1hdGgubWluKGUscGFyc2VGbG9hdChteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsImR5Iix0aGlzLmR5KSkpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSkpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCguNSwwKSwhMSkpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgxLDApLCExKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMCksITEsbnVsbCxiLC41KmQpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSxudWxsLGIsZCkpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLDApLCExLG51bGwsLjUqKGIrYyksZCkpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLAowKSwhMSxudWxsLGMsZCkpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLDApLCExLG51bGwsYywuNSooZStkKSkpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLDApLCExLG51bGwsYyxlKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMCksITEsbnVsbCwuNSpjLGUpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwuNSksITEpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwxKSwhMSkpO3JldHVybiBhfTtqYS5wcm90b3R5cGUuY29uc3RyYWludHM9W25ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMCksITEpLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsLjUpLCExKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLAoxKSwhMSksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoLjI1LC41KSwhMSksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoLjUsLjUpLCExKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCguNzUsLjUpLCExKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgxLDApLCExKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgxLC41KSwhMSksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMSwxKSwhMSldO1MucHJvdG90eXBlLmdldENvbnN0cmFpbnRzPWZ1bmN0aW9uKGEsYixlKXthPVtdO3ZhciBjPWUqTWF0aC5tYXgoMCxNYXRoLm1pbigxLHBhcnNlRmxvYXQobXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLCJhcnJvd1dpZHRoIix0aGlzLmFycm93V2lkdGgpKSkpLGQ9YipNYXRoLm1heCgwLE1hdGgubWluKDEscGFyc2VGbG9hdChteFV0aWxzLmdldFZhbHVlKHRoaXMuc3R5bGUsCiJhcnJvd1NpemUiLHRoaXMuYXJyb3dTaXplKSkpKSxjPShlLWMpLzI7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsLjUpLCExKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMCksITEsbnVsbCwwLGMpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSxudWxsLC41KihiLWQpLGMpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSxudWxsLGItZCwwKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDEsLjUpLCExKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMCksITEsbnVsbCxiLWQsZSkpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLDApLCExLG51bGwsLjUqKGItZCksZS1jKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsCjApLCExLG51bGwsMCxlLWMpKTtyZXR1cm4gYX07aWEucHJvdG90eXBlLmdldENvbnN0cmFpbnRzPWZ1bmN0aW9uKGEsYixlKXthPVtdO3ZhciBjPWUqTWF0aC5tYXgoMCxNYXRoLm1pbigxLHBhcnNlRmxvYXQobXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLCJhcnJvd1dpZHRoIixTLnByb3RvdHlwZS5hcnJvd1dpZHRoKSkpKSxkPWIqTWF0aC5tYXgoMCxNYXRoLm1pbigxLHBhcnNlRmxvYXQobXhVdGlscy5nZXRWYWx1ZSh0aGlzLnN0eWxlLCJhcnJvd1NpemUiLFMucHJvdG90eXBlLmFycm93U2l6ZSkpKSksYz0oZS1jKS8yO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLC41KSwhMSkpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLDApLCExLG51bGwsZCwwKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMCksITEsbnVsbCwuNSpiLGMpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwKMCksITEsbnVsbCxiLWQsMCkpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgxLC41KSwhMSkpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLDApLCExLG51bGwsYi1kLGUpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSxudWxsLC41KmIsZS1jKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMCksITEsbnVsbCxkLGUpKTtyZXR1cm4gYX07eGEucHJvdG90eXBlLmdldENvbnN0cmFpbnRzPWZ1bmN0aW9uKGEsYixlKXthPVtdO3ZhciBjPU1hdGgubWluKGUsYiksZD1NYXRoLm1heCgwLE1hdGgubWluKGMsYypwYXJzZUZsb2F0KG14VXRpbHMuZ2V0VmFsdWUodGhpcy5zdHlsZSwic2l6ZSIsdGhpcy5zaXplKSkpKSxjPShlLWQpLzIsZj1jK2QsZz0oYi1kKS8yLGQ9ZytkO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLAowKSwhMSxudWxsLGcsLjUqYykpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLDApLCExLG51bGwsZywwKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KC41LDApLCExKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMCksITEsbnVsbCxkLDApKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSxudWxsLGQsLjUqYykpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLDApLCExLG51bGwsZCxjKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMCksITEsbnVsbCxnLGUtLjUqYykpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLDApLCExLG51bGwsZyxlKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KC41LAoxKSwhMSkpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLDApLCExLG51bGwsZCxlKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMCksITEsbnVsbCxkLGUtLjUqYykpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLDApLCExLG51bGwsZCxmKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMCksITEsbnVsbCwuNSooYitkKSxjKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMCksITEsbnVsbCxiLGMpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMSwuNSksITEpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSxudWxsLGIsZikpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLAowKSwhMSxudWxsLC41KihiK2QpLGYpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSxudWxsLGcsZikpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLDApLCExLG51bGwsLjUqZyxjKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMCksITEsbnVsbCwwLGMpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwuNSksITEpKTthLnB1c2gobmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwwKSwhMSxudWxsLDAsZikpO2EucHVzaChuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLDApLCExLG51bGwsLjUqZyxmKSk7YS5wdXNoKG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsMCksITEsbnVsbCxnLGMpKTtyZXR1cm4gYX07TS5wcm90b3R5cGUuY29uc3RyYWludHM9Cm51bGw7Ti5wcm90b3R5cGUuY29uc3RyYWludHM9W25ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsLjI1KSwhMSksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwuNSksITEpLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDAsLjc1KSwhMSksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMSwuNSksITEpLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KC43LC4xKSwhMSksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoLjcsLjkpLCExKV07bWEucHJvdG90eXBlLmNvbnN0cmFpbnRzPVtuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCguMTc1LC4yNSksITEpLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KC4yNSwuNSksITEpLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KC4xNzUsCi43NSksITEpLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDEsLjUpLCExKSxuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCguNywuMSksITEpLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KC43LC45KSwhMSldO2VhLnByb3RvdHlwZS5jb25zdHJhaW50cz1bbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMCwuNSksITEpLG5ldyBteENvbm5lY3Rpb25Db25zdHJhaW50KG5ldyBteFBvaW50KDEsLjUpLCExKV07ZmEucHJvdG90eXBlLmNvbnN0cmFpbnRzPVtuZXcgbXhDb25uZWN0aW9uQ29uc3RyYWludChuZXcgbXhQb2ludCgwLC41KSwhMSksbmV3IG14Q29ubmVjdGlvbkNvbnN0cmFpbnQobmV3IG14UG9pbnQoMSwuNSksITEpXX0pKCk7ZnVuY3Rpb24gQWN0aW9ucyhhKXt0aGlzLmVkaXRvclVpPWE7dGhpcy5hY3Rpb25zPXt9O3RoaXMuaW5pdCgpfQpBY3Rpb25zLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhKXtjLmVzY2FwZSgpO2E9Yy5kZWxldGVDZWxscyhjLmdldERlbGV0YWJsZUNlbGxzKGMuZ2V0U2VsZWN0aW9uQ2VsbHMoKSksYSk7bnVsbCE9YSYmYy5zZXRTZWxlY3Rpb25DZWxscyhhKX12YXIgZD10aGlzLmVkaXRvclVpLGY9ZC5lZGl0b3IsYz1mLmdyYXBoLG09ZnVuY3Rpb24oKXtyZXR1cm4gQWN0aW9uLnByb3RvdHlwZS5pc0VuYWJsZWQuYXBwbHkodGhpcyxhcmd1bWVudHMpJiZjLmlzRW5hYmxlZCgpfTt0aGlzLmFkZEFjdGlvbigibmV3Li4uIixmdW5jdGlvbigpe2Mub3BlbkxpbmsoZC5nZXRVcmwoKSl9KTt0aGlzLmFkZEFjdGlvbigib3Blbi4uLiIsZnVuY3Rpb24oKXt3aW5kb3cub3Blbk5ldz0hMDt3aW5kb3cub3BlbktleT0ib3BlbiI7ZC5vcGVuRmlsZSgpfSk7dGhpcy5hZGRBY3Rpb24oImltcG9ydC4uLiIsZnVuY3Rpb24oKXt3aW5kb3cub3Blbk5ldz0hMTt3aW5kb3cub3BlbktleT0KImltcG9ydCI7d2luZG93Lm9wZW5GaWxlPW5ldyBPcGVuRmlsZShteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe2QuaGlkZURpYWxvZygpfSkpO3dpbmRvdy5vcGVuRmlsZS5zZXRDb25zdW1lcihteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhLGUpe3RyeXt2YXIgYj1teFV0aWxzLnBhcnNlWG1sKGEpO2YuZ3JhcGguc2V0U2VsZWN0aW9uQ2VsbHMoZi5ncmFwaC5pbXBvcnRHcmFwaE1vZGVsKGIuZG9jdW1lbnRFbGVtZW50KSl9Y2F0Y2gocCl7bXhVdGlscy5hbGVydChteFJlc291cmNlcy5nZXQoImludmFsaWRPck1pc3NpbmdGaWxlIikrIjogIitwLm1lc3NhZ2UpfX0pKTtkLnNob3dEaWFsb2coKG5ldyBPcGVuRGlhbG9nKHRoaXMpKS5jb250YWluZXIsMzIwLDIyMCwhMCwhMCxmdW5jdGlvbigpe3dpbmRvdy5vcGVuRmlsZT1udWxsfSl9KS5pc0VuYWJsZWQ9bTt0aGlzLmFkZEFjdGlvbigic2F2ZSIsZnVuY3Rpb24oKXtkLnNhdmVGaWxlKCExKX0sbnVsbCxudWxsLEVkaXRvci5jdHJsS2V5KwoiK1MiKS5pc0VuYWJsZWQ9bTt0aGlzLmFkZEFjdGlvbigic2F2ZUFzLi4uIixmdW5jdGlvbigpe2Quc2F2ZUZpbGUoITApfSxudWxsLG51bGwsRWRpdG9yLmN0cmxLZXkrIitTaGlmdCtTIikuaXNFbmFibGVkPW07dGhpcy5hZGRBY3Rpb24oImV4cG9ydC4uLiIsZnVuY3Rpb24oKXtkLnNob3dEaWFsb2coKG5ldyBFeHBvcnREaWFsb2coZCkpLmNvbnRhaW5lciwzMDAsMjk2LCEwLCEwKX0pO3RoaXMuYWRkQWN0aW9uKCJlZGl0RGlhZ3JhbS4uLiIsZnVuY3Rpb24oKXt2YXIgYT1uZXcgRWRpdERpYWdyYW1EaWFsb2coZCk7ZC5zaG93RGlhbG9nKGEuY29udGFpbmVyLDYyMCw0MjAsITAsITEpO2EuaW5pdCgpfSk7dGhpcy5hZGRBY3Rpb24oInBhZ2VTZXR1cC4uLiIsZnVuY3Rpb24oKXtkLnNob3dEaWFsb2coKG5ldyBQYWdlU2V0dXBEaWFsb2coZCkpLmNvbnRhaW5lciwzMjAsMjIwLCEwLCEwKX0pLmlzRW5hYmxlZD1tO3RoaXMuYWRkQWN0aW9uKCJwcmludC4uLiIsZnVuY3Rpb24oKXtkLnNob3dEaWFsb2coKG5ldyBQcmludERpYWxvZyhkKSkuY29udGFpbmVyLAozMDAsMTgwLCEwLCEwKX0sbnVsbCwic3ByaXRlLXByaW50IixFZGl0b3IuY3RybEtleSsiK1AiKTt0aGlzLmFkZEFjdGlvbigicHJldmlldyIsZnVuY3Rpb24oKXtteFV0aWxzLnNob3coYyxudWxsLDEwLDEwKX0pO3RoaXMuYWRkQWN0aW9uKCJ1bmRvIixmdW5jdGlvbigpe2QudW5kbygpfSxudWxsLCJzcHJpdGUtdW5kbyIsRWRpdG9yLmN0cmxLZXkrIitaIik7dGhpcy5hZGRBY3Rpb24oInJlZG8iLGZ1bmN0aW9uKCl7ZC5yZWRvKCl9LG51bGwsInNwcml0ZS1yZWRvIixteENsaWVudC5JU19XSU4/RWRpdG9yLmN0cmxLZXkrIitZIjpFZGl0b3IuY3RybEtleSsiK1NoaWZ0K1oiKTt0aGlzLmFkZEFjdGlvbigiY3V0IixmdW5jdGlvbigpe214Q2xpcGJvYXJkLmN1dChjKX0sbnVsbCwic3ByaXRlLWN1dCIsRWRpdG9yLmN0cmxLZXkrIitYIik7dGhpcy5hZGRBY3Rpb24oImNvcHkiLGZ1bmN0aW9uKCl7dHJ5e214Q2xpcGJvYXJkLmNvcHkoYyl9Y2F0Y2goYil7ZC5oYW5kbGVFcnJvcihiKX19LApudWxsLCJzcHJpdGUtY29weSIsRWRpdG9yLmN0cmxLZXkrIitDIik7dGhpcy5hZGRBY3Rpb24oInBhc3RlIixmdW5jdGlvbigpe2MuaXNFbmFibGVkKCkmJiFjLmlzQ2VsbExvY2tlZChjLmdldERlZmF1bHRQYXJlbnQoKSkmJm14Q2xpcGJvYXJkLnBhc3RlKGMpfSwhMSwic3ByaXRlLXBhc3RlIixFZGl0b3IuY3RybEtleSsiK1YiKTt0aGlzLmFkZEFjdGlvbigicGFzdGVIZXJlIixmdW5jdGlvbihhKXtpZihjLmlzRW5hYmxlZCgpJiYhYy5pc0NlbGxMb2NrZWQoYy5nZXREZWZhdWx0UGFyZW50KCkpKXtjLmdldE1vZGVsKCkuYmVnaW5VcGRhdGUoKTt0cnl7dmFyIGI9bXhDbGlwYm9hcmQucGFzdGUoYyk7aWYobnVsbCE9Yil7YT0hMDtmb3IodmFyIGQ9MDtkPGIubGVuZ3RoJiZhO2QrKylhPWEmJmMubW9kZWwuaXNFZGdlKGJbZF0pO3ZhciBmPWMudmlldy50cmFuc2xhdGUsbD1jLnZpZXcuc2NhbGUsbj1mLngsaz1mLnksZj1udWxsO2lmKDE9PWIubGVuZ3RoJiZhKXt2YXIgdD1jLmdldENlbGxHZW9tZXRyeShiWzBdKTsKbnVsbCE9dCYmKGY9dC5nZXRUZXJtaW5hbFBvaW50KCEwKSl9Zj1udWxsIT1mP2Y6Yy5nZXRCb3VuZGluZ0JveEZyb21HZW9tZXRyeShiLGEpO2lmKG51bGwhPWYpe3ZhciBtPU1hdGgucm91bmQoYy5zbmFwKGMucG9wdXBNZW51SGFuZGxlci50cmlnZ2VyWC9sLW4pKSx4PU1hdGgucm91bmQoYy5zbmFwKGMucG9wdXBNZW51SGFuZGxlci50cmlnZ2VyWS9sLWspKTtjLmNlbGxzTW92ZWQoYixtLWYueCx4LWYueSl9fX1maW5hbGx5e2MuZ2V0TW9kZWwoKS5lbmRVcGRhdGUoKX19fSk7dGhpcy5hZGRBY3Rpb24oImNvcHlTaXplIixmdW5jdGlvbihhKXthPWMuZ2V0U2VsZWN0aW9uQ2VsbCgpO2MuaXNFbmFibGVkKCkmJm51bGwhPWEmJmMuZ2V0TW9kZWwoKS5pc1ZlcnRleChhKSYmKGE9Yy5nZXRDZWxsR2VvbWV0cnkoYSksbnVsbCE9YSYmKGQuY29waWVkU2l6ZT1uZXcgbXhSZWN0YW5nbGUoYS54LGEueSxhLndpZHRoLGEuaGVpZ2h0KSkpfSxudWxsLG51bGwsIkFsdCtTaGlmdCtYIik7CnRoaXMuYWRkQWN0aW9uKCJwYXN0ZVNpemUiLGZ1bmN0aW9uKGEpe2lmKGMuaXNFbmFibGVkKCkmJiFjLmlzU2VsZWN0aW9uRW1wdHkoKSYmbnVsbCE9ZC5jb3BpZWRTaXplKXtjLmdldE1vZGVsKCkuYmVnaW5VcGRhdGUoKTt0cnl7dmFyIGI9Yy5nZXRTZWxlY3Rpb25DZWxscygpO2ZvcihhPTA7YTxiLmxlbmd0aDthKyspaWYoYy5nZXRNb2RlbCgpLmlzVmVydGV4KGJbYV0pKXt2YXIgZj1jLmdldENlbGxHZW9tZXRyeShiW2FdKTtudWxsIT1mJiYoZj1mLmNsb25lKCksZi53aWR0aD1kLmNvcGllZFNpemUud2lkdGgsZi5oZWlnaHQ9ZC5jb3BpZWRTaXplLmhlaWdodCxjLmdldE1vZGVsKCkuc2V0R2VvbWV0cnkoYlthXSxmKSl9fWZpbmFsbHl7Yy5nZXRNb2RlbCgpLmVuZFVwZGF0ZSgpfX19LG51bGwsbnVsbCwiQWx0K1NoaWZ0K1YiKTt0aGlzLmFkZEFjdGlvbigiZGVsZXRlIixmdW5jdGlvbihiKXthKG51bGwhPWImJm14RXZlbnQuaXNTaGlmdERvd24oYikpfSxudWxsLG51bGwsIkRlbGV0ZSIpOwp0aGlzLmFkZEFjdGlvbigiZGVsZXRlQWxsIixmdW5jdGlvbigpe2EoITApfSxudWxsLG51bGwsRWRpdG9yLmN0cmxLZXkrIitEZWxldGUiKTt0aGlzLmFkZEFjdGlvbigiZHVwbGljYXRlIixmdW5jdGlvbigpe3RyeXtjLnNldFNlbGVjdGlvbkNlbGxzKGMuZHVwbGljYXRlQ2VsbHMoKSl9Y2F0Y2goYil7ZC5oYW5kbGVFcnJvcihiKX19LG51bGwsbnVsbCxFZGl0b3IuY3RybEtleSsiK0QiKTt0aGlzLnB1dCgidHVybiIsbmV3IEFjdGlvbihteFJlc291cmNlcy5nZXQoInR1cm4iKSsiIC8gIitteFJlc291cmNlcy5nZXQoInJldmVyc2UiKSxmdW5jdGlvbihhKXtjLnR1cm5TaGFwZXMoYy5nZXRTZWxlY3Rpb25DZWxscygpLG51bGwhPWE/bXhFdmVudC5pc1NoaWZ0RG93bihhKTohMSl9LG51bGwsbnVsbCxFZGl0b3IuY3RybEtleSsiK1IiKSk7dGhpcy5hZGRBY3Rpb24oInNlbGVjdFZlcnRpY2VzIixmdW5jdGlvbigpe2Muc2VsZWN0VmVydGljZXMobnVsbCwhMCl9LG51bGwsbnVsbCwKRWRpdG9yLmN0cmxLZXkrIitTaGlmdCtJIik7dGhpcy5hZGRBY3Rpb24oInNlbGVjdEVkZ2VzIixmdW5jdGlvbigpe2Muc2VsZWN0RWRnZXMoKX0sbnVsbCxudWxsLEVkaXRvci5jdHJsS2V5KyIrU2hpZnQrRSIpO3RoaXMuYWRkQWN0aW9uKCJzZWxlY3RBbGwiLGZ1bmN0aW9uKCl7Yy5zZWxlY3RBbGwobnVsbCwhMCl9LG51bGwsbnVsbCxFZGl0b3IuY3RybEtleSsiK0EiKTt0aGlzLmFkZEFjdGlvbigic2VsZWN0Tm9uZSIsZnVuY3Rpb24oKXtjLmNsZWFyU2VsZWN0aW9uKCl9LG51bGwsbnVsbCxFZGl0b3IuY3RybEtleSsiK1NoaWZ0K0EiKTt0aGlzLmFkZEFjdGlvbigibG9ja1VubG9jayIsZnVuY3Rpb24oKXtpZighYy5pc1NlbGVjdGlvbkVtcHR5KCkpe2MuZ2V0TW9kZWwoKS5iZWdpblVwZGF0ZSgpO3RyeXt2YXIgYT1jLmlzQ2VsbE1vdmFibGUoYy5nZXRTZWxlY3Rpb25DZWxsKCkpPzE6MDtjLnRvZ2dsZUNlbGxTdHlsZXMobXhDb25zdGFudHMuU1RZTEVfTU9WQUJMRSxhKTtjLnRvZ2dsZUNlbGxTdHlsZXMobXhDb25zdGFudHMuU1RZTEVfUkVTSVpBQkxFLAphKTtjLnRvZ2dsZUNlbGxTdHlsZXMobXhDb25zdGFudHMuU1RZTEVfUk9UQVRBQkxFLGEpO2MudG9nZ2xlQ2VsbFN0eWxlcyhteENvbnN0YW50cy5TVFlMRV9ERUxFVEFCTEUsYSk7Yy50b2dnbGVDZWxsU3R5bGVzKG14Q29uc3RhbnRzLlNUWUxFX0VESVRBQkxFLGEpO2MudG9nZ2xlQ2VsbFN0eWxlcygiY29ubmVjdGFibGUiLGEpfWZpbmFsbHl7Yy5nZXRNb2RlbCgpLmVuZFVwZGF0ZSgpfX19LG51bGwsbnVsbCxFZGl0b3IuY3RybEtleSsiK0wiKTt0aGlzLmFkZEFjdGlvbigiaG9tZSIsZnVuY3Rpb24oKXtjLmhvbWUoKX0sbnVsbCxudWxsLCJTaGlmdCtIb21lIik7dGhpcy5hZGRBY3Rpb24oImV4aXRHcm91cCIsZnVuY3Rpb24oKXtjLmV4aXRHcm91cCgpfSxudWxsLG51bGwsRWRpdG9yLmN0cmxLZXkrIitTaGlmdCtIb21lIik7dGhpcy5hZGRBY3Rpb24oImVudGVyR3JvdXAiLGZ1bmN0aW9uKCl7Yy5lbnRlckdyb3VwKCl9LG51bGwsbnVsbCxFZGl0b3IuY3RybEtleSsiK1NoaWZ0K0VuZCIpOwp0aGlzLmFkZEFjdGlvbigiY29sbGFwc2UiLGZ1bmN0aW9uKCl7Yy5mb2xkQ2VsbHMoITApfSxudWxsLG51bGwsRWRpdG9yLmN0cmxLZXkrIitIb21lIik7dGhpcy5hZGRBY3Rpb24oImV4cGFuZCIsZnVuY3Rpb24oKXtjLmZvbGRDZWxscyghMSl9LG51bGwsbnVsbCxFZGl0b3IuY3RybEtleSsiK0VuZCIpO3RoaXMuYWRkQWN0aW9uKCJ0b0Zyb250IixmdW5jdGlvbigpe2Mub3JkZXJDZWxscyghMSl9LG51bGwsbnVsbCxFZGl0b3IuY3RybEtleSsiK1NoaWZ0K0YiKTt0aGlzLmFkZEFjdGlvbigidG9CYWNrIixmdW5jdGlvbigpe2Mub3JkZXJDZWxscyghMCl9LG51bGwsbnVsbCxFZGl0b3IuY3RybEtleSsiK1NoaWZ0K0IiKTt0aGlzLmFkZEFjdGlvbigiZ3JvdXAiLGZ1bmN0aW9uKCl7MT09Yy5nZXRTZWxlY3Rpb25Db3VudCgpP2Muc2V0Q2VsbFN0eWxlcygiY29udGFpbmVyIiwiMSIpOmMuc2V0U2VsZWN0aW9uQ2VsbChjLmdyb3VwQ2VsbHMobnVsbCwwKSl9LG51bGwsbnVsbCxFZGl0b3IuY3RybEtleSsKIitHIik7dGhpcy5hZGRBY3Rpb24oInVuZ3JvdXAiLGZ1bmN0aW9uKCl7MT09Yy5nZXRTZWxlY3Rpb25Db3VudCgpJiYwPT1jLmdldE1vZGVsKCkuZ2V0Q2hpbGRDb3VudChjLmdldFNlbGVjdGlvbkNlbGwoKSk/Yy5zZXRDZWxsU3R5bGVzKCJjb250YWluZXIiLCIwIik6Yy5zZXRTZWxlY3Rpb25DZWxscyhjLnVuZ3JvdXBDZWxscygpKX0sbnVsbCxudWxsLEVkaXRvci5jdHJsS2V5KyIrU2hpZnQrVSIpO3RoaXMuYWRkQWN0aW9uKCJyZW1vdmVGcm9tR3JvdXAiLGZ1bmN0aW9uKCl7Yy5yZW1vdmVDZWxsc0Zyb21QYXJlbnQoKX0pO3RoaXMuYWRkQWN0aW9uKCJlZGl0IixmdW5jdGlvbigpe2MuaXNFbmFibGVkKCkmJmMuc3RhcnRFZGl0aW5nQXRDZWxsKCl9LG51bGwsbnVsbCwiRjIvRW50ZXIiKTt0aGlzLmFkZEFjdGlvbigiZWRpdERhdGEuLi4iLGZ1bmN0aW9uKCl7dmFyIGE9Yy5nZXRTZWxlY3Rpb25DZWxsKCl8fGMuZ2V0TW9kZWwoKS5nZXRSb290KCk7ZC5zaG93RGF0YURpYWxvZyhhKX0sCm51bGwsbnVsbCxFZGl0b3IuY3RybEtleSsiK00iKTt0aGlzLmFkZEFjdGlvbigiZWRpdFRvb2x0aXAuLi4iLGZ1bmN0aW9uKCl7dmFyIGE9ZC5lZGl0b3IuZ3JhcGg7aWYoYS5pc0VuYWJsZWQoKSYmIWEuaXNTZWxlY3Rpb25FbXB0eSgpKXt2YXIgZT1hLmdldFNlbGVjdGlvbkNlbGwoKSxjPSIiO2lmKG14VXRpbHMuaXNOb2RlKGUudmFsdWUpKXt2YXIgZj1lLnZhbHVlLmdldEF0dHJpYnV0ZSgidG9vbHRpcCIpO251bGwhPWYmJihjPWYpfWM9bmV3IFRleHRhcmVhRGlhbG9nKGQsbXhSZXNvdXJjZXMuZ2V0KCJlZGl0VG9vbHRpcCIpKyI6IixjLGZ1bmN0aW9uKGIpe2Euc2V0VG9vbHRpcEZvckNlbGwoZSxiKX0pO2Quc2hvd0RpYWxvZyhjLmNvbnRhaW5lciwzMjAsMjAwLCEwLCEwKTtjLmluaXQoKX19LG51bGwsbnVsbCwiQWx0K1NoaWZ0K1QiKTt0aGlzLmFkZEFjdGlvbigib3BlbkxpbmsiLGZ1bmN0aW9uKCl7dmFyIGE9Yy5nZXRMaW5rRm9yQ2VsbChjLmdldFNlbGVjdGlvbkNlbGwoKSk7Cm51bGwhPWEmJmMub3BlbkxpbmsoYSl9KTt0aGlzLmFkZEFjdGlvbigiZWRpdExpbmsuLi4iLGZ1bmN0aW9uKCl7dmFyIGE9ZC5lZGl0b3IuZ3JhcGg7aWYoYS5pc0VuYWJsZWQoKSYmIWEuaXNTZWxlY3Rpb25FbXB0eSgpKXt2YXIgZT1hLmdldFNlbGVjdGlvbkNlbGwoKSxjPWEuZ2V0TGlua0ZvckNlbGwoZSl8fCIiO2Quc2hvd0xpbmtEaWFsb2coYyxteFJlc291cmNlcy5nZXQoImFwcGx5IiksZnVuY3Rpb24oYil7Yj1teFV0aWxzLnRyaW0oYik7YS5zZXRMaW5rRm9yQ2VsbChlLDA8Yi5sZW5ndGg/YjpudWxsKX0pfX0sbnVsbCxudWxsLCJBbHQrU2hpZnQrTCIpO3RoaXMucHV0KCJpbnNlcnRJbWFnZSIsbmV3IEFjdGlvbihteFJlc291cmNlcy5nZXQoImltYWdlIikrIi4uLiIsZnVuY3Rpb24oKXtjLmlzRW5hYmxlZCgpJiYhYy5pc0NlbGxMb2NrZWQoYy5nZXREZWZhdWx0UGFyZW50KCkpJiYoYy5jbGVhclNlbGVjdGlvbigpLGQuYWN0aW9ucy5nZXQoImltYWdlIikuZnVuY3QoKSl9KSkuaXNFbmFibGVkPQptO3RoaXMucHV0KCJpbnNlcnRMaW5rIixuZXcgQWN0aW9uKG14UmVzb3VyY2VzLmdldCgibGluayIpKyIuLi4iLGZ1bmN0aW9uKCl7Yy5pc0VuYWJsZWQoKSYmIWMuaXNDZWxsTG9ja2VkKGMuZ2V0RGVmYXVsdFBhcmVudCgpKSYmZC5zaG93TGlua0RpYWxvZygiIixteFJlc291cmNlcy5nZXQoImluc2VydCIpLGZ1bmN0aW9uKGEsZSl7YT1teFV0aWxzLnRyaW0oYSk7aWYoMDxhLmxlbmd0aCl7dmFyIGI9bnVsbCxkPWMuZ2V0TGlua1RpdGxlKGEpO251bGwhPWUmJjA8ZS5sZW5ndGgmJihiPWVbMF0uaWNvblVybCxkPWVbMF0ubmFtZXx8ZVswXS50eXBlLGQ9ZC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKStkLnN1YnN0cmluZygxKSwzMDxkLmxlbmd0aCYmKGQ9ZC5zdWJzdHJpbmcoMCwzMCkrIi4uLiIpKTt2YXIgZj1jLmdldEZyZWVJbnNlcnRQb2ludCgpLGI9bmV3IG14Q2VsbChkLG5ldyBteEdlb21ldHJ5KGYueCxmLnksMTAwLDQwKSwiZm9udENvbG9yPSMwMDAwRUU7Zm9udFN0eWxlPTQ7cm91bmRlZD0xO292ZXJmbG93PWhpZGRlbjsiKwoobnVsbCE9Yj8ic2hhcGU9bGFiZWw7aW1hZ2VXaWR0aD0xNjtpbWFnZUhlaWdodD0xNjtzcGFjaW5nTGVmdD0yNjthbGlnbj1sZWZ0O2ltYWdlPSIrYjoic3BhY2luZz0xMDsiKSk7Yi52ZXJ0ZXg9ITA7Yy5zZXRMaW5rRm9yQ2VsbChiLGEpO2MuY2VsbFNpemVVcGRhdGVkKGIsITApO2MuZ2V0TW9kZWwoKS5iZWdpblVwZGF0ZSgpO3RyeXtiPWMuYWRkQ2VsbChiKSxjLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdCgiY2VsbHNJbnNlcnRlZCIsImNlbGxzIixbYl0pKX1maW5hbGx5e2MuZ2V0TW9kZWwoKS5lbmRVcGRhdGUoKX1jLnNldFNlbGVjdGlvbkNlbGwoYik7Yy5zY3JvbGxDZWxsVG9WaXNpYmxlKGMuZ2V0U2VsZWN0aW9uQ2VsbCgpKX19KX0pKS5pc0VuYWJsZWQ9bTt0aGlzLmFkZEFjdGlvbigibGluay4uLiIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt2YXIgYT1kLmVkaXRvci5ncmFwaDtpZihhLmlzRW5hYmxlZCgpKWlmKGEuY2VsbEVkaXRvci5pc0NvbnRlbnRFZGl0aW5nKCkpe3ZhciBlPQphLmdldFNlbGVjdGVkRWxlbWVudCgpLGM9YS5nZXRQYXJlbnRCeU5hbWUoZSwiQSIsYS5jZWxsRWRpdG9yLnRleHRhcmVhKSxmPSIiO2lmKG51bGw9PWMmJm51bGwhPWUmJm51bGwhPWUuZ2V0RWxlbWVudHNCeVRhZ05hbWUpZm9yKHZhciBsPWUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImEiKSxuPTA7bjxsLmxlbmd0aCYmbnVsbD09YztuKyspbFtuXS50ZXh0Q29udGVudD09ZS50ZXh0Q29udGVudCYmKGM9bFtuXSk7bnVsbCE9YyYmIkEiPT1jLm5vZGVOYW1lJiYoZj1jLmdldEF0dHJpYnV0ZSgiaHJlZiIpfHwiIixhLnNlbGVjdE5vZGUoYykpO3ZhciBrPWEuY2VsbEVkaXRvci5zYXZlU2VsZWN0aW9uKCk7ZC5zaG93TGlua0RpYWxvZyhmLG14UmVzb3VyY2VzLmdldCgiYXBwbHkiKSxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihiKXthLmNlbGxFZGl0b3IucmVzdG9yZVNlbGVjdGlvbihrKTtudWxsIT1iJiZhLmluc2VydExpbmsoYil9KSl9ZWxzZSBhLmlzU2VsZWN0aW9uRW1wdHkoKT8KdGhpcy5nZXQoImluc2VydExpbmsiKS5mdW5jdCgpOnRoaXMuZ2V0KCJlZGl0TGluayIpLmZ1bmN0KCl9KSkuaXNFbmFibGVkPW07dGhpcy5hZGRBY3Rpb24oImF1dG9zaXplIixmdW5jdGlvbigpe3ZhciBhPWMuZ2V0U2VsZWN0aW9uQ2VsbHMoKTtpZihudWxsIT1hKXtjLmdldE1vZGVsKCkuYmVnaW5VcGRhdGUoKTt0cnl7Zm9yKHZhciBlPTA7ZTxhLmxlbmd0aDtlKyspe3ZhciBkPWFbZV07aWYoYy5nZXRNb2RlbCgpLmdldENoaWxkQ291bnQoZCkpYy51cGRhdGVHcm91cEJvdW5kcyhbZF0sMjApO2Vsc2V7dmFyIGY9Yy52aWV3LmdldFN0YXRlKGQpLGw9Yy5nZXRDZWxsR2VvbWV0cnkoZCk7Yy5nZXRNb2RlbCgpLmlzVmVydGV4KGQpJiZudWxsIT1mJiZudWxsIT1mLnRleHQmJm51bGwhPWwmJmMuaXNXcmFwcGluZyhkKT8obD1sLmNsb25lKCksbC5oZWlnaHQ9Zi50ZXh0LmJvdW5kaW5nQm94LmhlaWdodC9jLnZpZXcuc2NhbGUsYy5nZXRNb2RlbCgpLnNldEdlb21ldHJ5KGQsbCkpOgpjLnVwZGF0ZUNlbGxTaXplKGQpfX19ZmluYWxseXtjLmdldE1vZGVsKCkuZW5kVXBkYXRlKCl9fX0sbnVsbCxudWxsLEVkaXRvci5jdHJsS2V5KyIrU2hpZnQrWSIpO3RoaXMuYWRkQWN0aW9uKCJmb3JtYXR0ZWRUZXh0IixmdW5jdGlvbigpe3ZhciBhPWMuZ2V0VmlldygpLmdldFN0YXRlKGMuZ2V0U2VsZWN0aW9uQ2VsbCgpKTtpZihudWxsIT1hKXtjLnN0b3BFZGl0aW5nKCk7YT0iMSI9PWEuc3R5bGUuaHRtbD9udWxsOiIxIjtjLmdldE1vZGVsKCkuYmVnaW5VcGRhdGUoKTt0cnl7Zm9yKHZhciBlPWMuZ2V0U2VsZWN0aW9uQ2VsbHMoKSxmPTA7ZjxlLmxlbmd0aDtmKyspaWYoc3RhdGU9Yy5nZXRWaWV3KCkuZ2V0U3RhdGUoZVtmXSksbnVsbCE9c3RhdGUpe3ZhciBwPW14VXRpbHMuZ2V0VmFsdWUoc3RhdGUuc3R5bGUsImh0bWwiLCIwIik7aWYoIjEiPT1wJiZudWxsPT1hKXt2YXIgbD1jLmNvbnZlcnRWYWx1ZVRvU3RyaW5nKHN0YXRlLmNlbGwpOyIwIiE9bXhVdGlscy5nZXRWYWx1ZShzdGF0ZS5zdHlsZSwKIm5sMkJyIiwiMSIpJiYobD1sLnJlcGxhY2UoL1xuL2csIiIpLnJlcGxhY2UoLzxiclxzKi4/Pi9nLCJcbiIpKTt2YXIgbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtuLmlubmVySFRNTD1jLnNhbml0aXplSHRtbChsKTtsPW14VXRpbHMuZXh0cmFjdFRleHRXaXRoV2hpdGVzcGFjZShuLmNoaWxkTm9kZXMpO2MuY2VsbExhYmVsQ2hhbmdlZChzdGF0ZS5jZWxsLGwpO2Muc2V0Q2VsbFN0eWxlcygiaHRtbCIsYSxbZVtmXV0pfWVsc2UiMCI9PXAmJiIxIj09YSYmKGw9bXhVdGlscy5odG1sRW50aXRpZXMoYy5jb252ZXJ0VmFsdWVUb1N0cmluZyhzdGF0ZS5jZWxsKSwhMSksIjAiIT1teFV0aWxzLmdldFZhbHVlKHN0YXRlLnN0eWxlLCJubDJCciIsIjEiKSYmKGw9bC5yZXBsYWNlKC9cbi9nLCI8YnIvPiIpKSxjLmNlbGxMYWJlbENoYW5nZWQoc3RhdGUuY2VsbCxjLnNhbml0aXplSHRtbChsKSksYy5zZXRDZWxsU3R5bGVzKCJodG1sIixhLFtlW2ZdXSkpfWQuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KCJzdHlsZUNoYW5nZWQiLAoia2V5cyIsWyJodG1sIl0sInZhbHVlcyIsW251bGwhPWE/YToiMCJdLCJjZWxscyIsZSkpfWZpbmFsbHl7Yy5nZXRNb2RlbCgpLmVuZFVwZGF0ZSgpfX19KTt0aGlzLmFkZEFjdGlvbigid29yZFdyYXAiLGZ1bmN0aW9uKCl7dmFyIGE9Yy5nZXRWaWV3KCkuZ2V0U3RhdGUoYy5nZXRTZWxlY3Rpb25DZWxsKCkpLGU9IndyYXAiO2Muc3RvcEVkaXRpbmcoKTtudWxsIT1hJiYid3JhcCI9PWEuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfV0hJVEVfU1BBQ0VdJiYoZT1udWxsKTtjLnNldENlbGxTdHlsZXMobXhDb25zdGFudHMuU1RZTEVfV0hJVEVfU1BBQ0UsZSl9KTt0aGlzLmFkZEFjdGlvbigicm90YXRpb24iLGZ1bmN0aW9uKCl7dmFyIGE9IjAiLGU9Yy5nZXRWaWV3KCkuZ2V0U3RhdGUoYy5nZXRTZWxlY3Rpb25DZWxsKCkpO251bGwhPWUmJihhPWUuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfUk9UQVRJT05dfHxhKTthPW5ldyBGaWxlbmFtZURpYWxvZyhkLGEsbXhSZXNvdXJjZXMuZ2V0KCJhcHBseSIpLApmdW5jdGlvbihhKXtudWxsIT1hJiYwPGEubGVuZ3RoJiZjLnNldENlbGxTdHlsZXMobXhDb25zdGFudHMuU1RZTEVfUk9UQVRJT04sYSl9LG14UmVzb3VyY2VzLmdldCgiZW50ZXJWYWx1ZSIpKyIgKCIrbXhSZXNvdXJjZXMuZ2V0KCJyb3RhdGlvbiIpKyIgMC0zNjApIik7ZC5zaG93RGlhbG9nKGEuY29udGFpbmVyLDM3NSw4MCwhMCwhMCk7YS5pbml0KCl9KTt0aGlzLmFkZEFjdGlvbigicmVzZXRWaWV3IixmdW5jdGlvbigpe2Muem9vbVRvKDEpO2QucmVzZXRTY3JvbGxiYXJzKCl9LG51bGwsbnVsbCwiSG9tZSIpO3RoaXMuYWRkQWN0aW9uKCJ6b29tSW4iLGZ1bmN0aW9uKGEpe2MuaXNGYXN0Wm9vbUVuYWJsZWQoKT9jLmxhenlab29tKCEwLCEwLGQuYnV0dG9uWm9vbURlbGF5KTpjLnpvb21JbigpfSxudWxsLG51bGwsRWRpdG9yLmN0cmxLZXkrIiArIChOdW1wYWQpIC8gQWx0K01vdXNld2hlZWwiKTt0aGlzLmFkZEFjdGlvbigiem9vbU91dCIsZnVuY3Rpb24oYSl7Yy5pc0Zhc3Rab29tRW5hYmxlZCgpPwpjLmxhenlab29tKCExLCEwLGQuYnV0dG9uWm9vbURlbGF5KTpjLnpvb21PdXQoKX0sbnVsbCxudWxsLEVkaXRvci5jdHJsS2V5KyIgLSAoTnVtcGFkKSAvIEFsdCtNb3VzZXdoZWVsIik7dGhpcy5hZGRBY3Rpb24oImZpdFdpbmRvdyIsZnVuY3Rpb24oKXt2YXIgYT1jLmlzU2VsZWN0aW9uRW1wdHkoKT9jLmdldEdyYXBoQm91bmRzKCk6Yy5nZXRCb3VuZGluZ0JveChjLmdldFNlbGVjdGlvbkNlbGxzKCkpLGU9Yy52aWV3LnRyYW5zbGF0ZSxkPWMudmlldy5zY2FsZTthLndpZHRoLz1kO2EuaGVpZ2h0Lz1kO2EueD1hLngvZC1lLng7YS55PWEueS9kLWUueTt2YXIgZD1jLmNvbnRhaW5lci5jbGllbnRXaWR0aC0xMCxmPWMuY29udGFpbmVyLmNsaWVudEhlaWdodC0xMCxsPU1hdGguZmxvb3IoMjAqTWF0aC5taW4oZC9hLndpZHRoLGYvYS5oZWlnaHQpKS8yMDtjLnpvb21UbyhsKTtteFV0aWxzLmhhc1Njcm9sbGJhcnMoYy5jb250YWluZXIpJiYoYy5jb250YWluZXIuc2Nyb2xsVG9wPShhLnkrCmUueSkqbC1NYXRoLm1heCgoZi1hLmhlaWdodCpsKS8yKzUsMCksYy5jb250YWluZXIuc2Nyb2xsTGVmdD0oYS54K2UueCkqbC1NYXRoLm1heCgoZC1hLndpZHRoKmwpLzIrNSwwKSl9LG51bGwsbnVsbCxFZGl0b3IuY3RybEtleSsiK1NoaWZ0K0giKTt0aGlzLmFkZEFjdGlvbigiZml0UGFnZSIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXtjLnBhZ2VWaXNpYmxlfHx0aGlzLmdldCgicGFnZVZpZXciKS5mdW5jdCgpO3ZhciBhPWMucGFnZUZvcm1hdCxlPWMucGFnZVNjYWxlO2Muem9vbVRvKE1hdGguZmxvb3IoMjAqTWF0aC5taW4oKGMuY29udGFpbmVyLmNsaWVudFdpZHRoLTEwKS9hLndpZHRoL2UsKGMuY29udGFpbmVyLmNsaWVudEhlaWdodC0xMCkvYS5oZWlnaHQvZSkpLzIwKTtteFV0aWxzLmhhc1Njcm9sbGJhcnMoYy5jb250YWluZXIpJiYoYT1jLmdldFBhZ2VQYWRkaW5nKCksYy5jb250YWluZXIuc2Nyb2xsVG9wPWEueSpjLnZpZXcuc2NhbGUtMSxjLmNvbnRhaW5lci5zY3JvbGxMZWZ0PQpNYXRoLm1pbihhLngqYy52aWV3LnNjYWxlLChjLmNvbnRhaW5lci5zY3JvbGxXaWR0aC1jLmNvbnRhaW5lci5jbGllbnRXaWR0aCkvMiktMSl9KSxudWxsLG51bGwsRWRpdG9yLmN0cmxLZXkrIitKIik7dGhpcy5hZGRBY3Rpb24oImZpdFR3b1BhZ2VzIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe2MucGFnZVZpc2libGV8fHRoaXMuZ2V0KCJwYWdlVmlldyIpLmZ1bmN0KCk7dmFyIGE9Yy5wYWdlRm9ybWF0LGU9Yy5wYWdlU2NhbGU7Yy56b29tVG8oTWF0aC5mbG9vcigyMCpNYXRoLm1pbigoYy5jb250YWluZXIuY2xpZW50V2lkdGgtMTApLygyKmEud2lkdGgpL2UsKGMuY29udGFpbmVyLmNsaWVudEhlaWdodC0xMCkvYS5oZWlnaHQvZSkpLzIwKTtteFV0aWxzLmhhc1Njcm9sbGJhcnMoYy5jb250YWluZXIpJiYoYT1jLmdldFBhZ2VQYWRkaW5nKCksYy5jb250YWluZXIuc2Nyb2xsVG9wPU1hdGgubWluKGEueSwoYy5jb250YWluZXIuc2Nyb2xsSGVpZ2h0LWMuY29udGFpbmVyLmNsaWVudEhlaWdodCkvCjIpLGMuY29udGFpbmVyLnNjcm9sbExlZnQ9TWF0aC5taW4oYS54LChjLmNvbnRhaW5lci5zY3JvbGxXaWR0aC1jLmNvbnRhaW5lci5jbGllbnRXaWR0aCkvMikpfSksbnVsbCxudWxsLEVkaXRvci5jdHJsS2V5KyIrU2hpZnQrSiIpO3RoaXMuYWRkQWN0aW9uKCJmaXRQYWdlV2lkdGgiLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7Yy5wYWdlVmlzaWJsZXx8dGhpcy5nZXQoInBhZ2VWaWV3IikuZnVuY3QoKTtjLnpvb21UbyhNYXRoLmZsb29yKDIwKihjLmNvbnRhaW5lci5jbGllbnRXaWR0aC0xMCkvYy5wYWdlRm9ybWF0LndpZHRoL2MucGFnZVNjYWxlKS8yMCk7aWYobXhVdGlscy5oYXNTY3JvbGxiYXJzKGMuY29udGFpbmVyKSl7dmFyIGE9Yy5nZXRQYWdlUGFkZGluZygpO2MuY29udGFpbmVyLnNjcm9sbExlZnQ9TWF0aC5taW4oYS54KmMudmlldy5zY2FsZSwoYy5jb250YWluZXIuc2Nyb2xsV2lkdGgtYy5jb250YWluZXIuY2xpZW50V2lkdGgpLzIpfX0pKTt0aGlzLnB1dCgiY3VzdG9tWm9vbSIsCm5ldyBBY3Rpb24obXhSZXNvdXJjZXMuZ2V0KCJjdXN0b20iKSsiLi4uIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3ZhciBhPW5ldyBGaWxlbmFtZURpYWxvZyh0aGlzLmVkaXRvclVpLHBhcnNlSW50KDEwMCpjLmdldFZpZXcoKS5nZXRTY2FsZSgpKSxteFJlc291cmNlcy5nZXQoImFwcGx5IiksbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7YT1wYXJzZUludChhKTshaXNOYU4oYSkmJjA8YSYmYy56b29tVG8oYS8xMDApfSksbXhSZXNvdXJjZXMuZ2V0KCJ6b29tIikrIiAoJSkiKTt0aGlzLmVkaXRvclVpLnNob3dEaWFsb2coYS5jb250YWluZXIsMzAwLDgwLCEwLCEwKTthLmluaXQoKX0pLG51bGwsbnVsbCxFZGl0b3IuY3RybEtleSsiKzAiKSk7dGhpcy5hZGRBY3Rpb24oInBhZ2VTY2FsZS4uLiIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt2YXIgYT1uZXcgRmlsZW5hbWVEaWFsb2codGhpcy5lZGl0b3JVaSxwYXJzZUludCgxMDAqYy5wYWdlU2NhbGUpLApteFJlc291cmNlcy5nZXQoImFwcGx5IiksbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7YT1wYXJzZUludChhKTshaXNOYU4oYSkmJjA8YSYmKGE9bmV3IENoYW5nZVBhZ2VTZXR1cChkLG51bGwsbnVsbCxudWxsLGEvMTAwKSxhLmlnbm9yZUNvbG9yPSEwLGEuaWdub3JlSW1hZ2U9ITAsYy5tb2RlbC5leGVjdXRlKGEpKX0pLG14UmVzb3VyY2VzLmdldCgicGFnZVNjYWxlIikrIiAoJSkiKTt0aGlzLmVkaXRvclVpLnNob3dEaWFsb2coYS5jb250YWluZXIsMzAwLDgwLCEwLCEwKTthLmluaXQoKX0pKTt2YXIgaz1udWxsLGs9dGhpcy5hZGRBY3Rpb24oImdyaWQiLGZ1bmN0aW9uKCl7Yy5zZXRHcmlkRW5hYmxlZCghYy5pc0dyaWRFbmFibGVkKCkpO2QuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KCJncmlkRW5hYmxlZENoYW5nZWQiKSl9LG51bGwsbnVsbCxFZGl0b3IuY3RybEtleSsiK1NoaWZ0K0ciKTtrLnNldFRvZ2dsZUFjdGlvbighMCk7ay5zZXRTZWxlY3RlZENhbGxiYWNrKGZ1bmN0aW9uKCl7cmV0dXJuIGMuaXNHcmlkRW5hYmxlZCgpfSk7Cmsuc2V0RW5hYmxlZCghMSk7az10aGlzLmFkZEFjdGlvbigiZ3VpZGVzIixmdW5jdGlvbigpe2MuZ3JhcGhIYW5kbGVyLmd1aWRlc0VuYWJsZWQ9IWMuZ3JhcGhIYW5kbGVyLmd1aWRlc0VuYWJsZWQ7ZC5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QoImd1aWRlc0VuYWJsZWRDaGFuZ2VkIikpfSk7ay5zZXRUb2dnbGVBY3Rpb24oITApO2suc2V0U2VsZWN0ZWRDYWxsYmFjayhmdW5jdGlvbigpe3JldHVybiBjLmdyYXBoSGFuZGxlci5ndWlkZXNFbmFibGVkfSk7ay5zZXRFbmFibGVkKCExKTtrPXRoaXMuYWRkQWN0aW9uKCJ0b29sdGlwcyIsZnVuY3Rpb24oKXtjLnRvb2x0aXBIYW5kbGVyLnNldEVuYWJsZWQoIWMudG9vbHRpcEhhbmRsZXIuaXNFbmFibGVkKCkpfSk7ay5zZXRUb2dnbGVBY3Rpb24oITApO2suc2V0U2VsZWN0ZWRDYWxsYmFjayhmdW5jdGlvbigpe3JldHVybiBjLnRvb2x0aXBIYW5kbGVyLmlzRW5hYmxlZCgpfSk7az10aGlzLmFkZEFjdGlvbigiY29sbGFwc2VFeHBhbmQiLApmdW5jdGlvbigpe3ZhciBhPW5ldyBDaGFuZ2VQYWdlU2V0dXAoZCk7YS5pZ25vcmVDb2xvcj0hMDthLmlnbm9yZUltYWdlPSEwO2EuZm9sZGluZ0VuYWJsZWQ9IWMuZm9sZGluZ0VuYWJsZWQ7Yy5tb2RlbC5leGVjdXRlKGEpfSk7ay5zZXRUb2dnbGVBY3Rpb24oITApO2suc2V0U2VsZWN0ZWRDYWxsYmFjayhmdW5jdGlvbigpe3JldHVybiBjLmZvbGRpbmdFbmFibGVkfSk7ay5pc0VuYWJsZWQ9bTtrPXRoaXMuYWRkQWN0aW9uKCJzY3JvbGxiYXJzIixmdW5jdGlvbigpe2Quc2V0U2Nyb2xsYmFycyghZC5oYXNTY3JvbGxiYXJzKCkpfSk7ay5zZXRUb2dnbGVBY3Rpb24oITApO2suc2V0U2VsZWN0ZWRDYWxsYmFjayhmdW5jdGlvbigpe3JldHVybiBjLnNjcm9sbGJhcnN9KTtrPXRoaXMuYWRkQWN0aW9uKCJwYWdlVmlldyIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXtkLnNldFBhZ2VWaXNpYmxlKCFjLnBhZ2VWaXNpYmxlKX0pKTtrLnNldFRvZ2dsZUFjdGlvbighMCk7ay5zZXRTZWxlY3RlZENhbGxiYWNrKGZ1bmN0aW9uKCl7cmV0dXJuIGMucGFnZVZpc2libGV9KTsKaz10aGlzLmFkZEFjdGlvbigiY29ubmVjdGlvbkFycm93cyIsZnVuY3Rpb24oKXtjLmNvbm5lY3Rpb25BcnJvd3NFbmFibGVkPSFjLmNvbm5lY3Rpb25BcnJvd3NFbmFibGVkO2QuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KCJjb25uZWN0aW9uQXJyb3dzQ2hhbmdlZCIpKX0sbnVsbCxudWxsLCJBbHQrU2hpZnQrQSIpO2suc2V0VG9nZ2xlQWN0aW9uKCEwKTtrLnNldFNlbGVjdGVkQ2FsbGJhY2soZnVuY3Rpb24oKXtyZXR1cm4gYy5jb25uZWN0aW9uQXJyb3dzRW5hYmxlZH0pO2s9dGhpcy5hZGRBY3Rpb24oImNvbm5lY3Rpb25Qb2ludHMiLGZ1bmN0aW9uKCl7Yy5zZXRDb25uZWN0YWJsZSghYy5jb25uZWN0aW9uSGFuZGxlci5pc0VuYWJsZWQoKSk7ZC5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QoImNvbm5lY3Rpb25Qb2ludHNDaGFuZ2VkIikpfSxudWxsLG51bGwsIkFsdCtTaGlmdCtQIik7ay5zZXRUb2dnbGVBY3Rpb24oITApO2suc2V0U2VsZWN0ZWRDYWxsYmFjayhmdW5jdGlvbigpe3JldHVybiBjLmNvbm5lY3Rpb25IYW5kbGVyLmlzRW5hYmxlZCgpfSk7Cms9dGhpcy5hZGRBY3Rpb24oImNvcHlDb25uZWN0IixmdW5jdGlvbigpe2MuY29ubmVjdGlvbkhhbmRsZXIuc2V0Q3JlYXRlVGFyZ2V0KCFjLmNvbm5lY3Rpb25IYW5kbGVyLmlzQ3JlYXRlVGFyZ2V0KCkpO2QuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KCJjb3B5Q29ubmVjdENoYW5nZWQiKSl9KTtrLnNldFRvZ2dsZUFjdGlvbighMCk7ay5zZXRTZWxlY3RlZENhbGxiYWNrKGZ1bmN0aW9uKCl7cmV0dXJuIGMuY29ubmVjdGlvbkhhbmRsZXIuaXNDcmVhdGVUYXJnZXQoKX0pO2suaXNFbmFibGVkPW07az10aGlzLmFkZEFjdGlvbigiYXV0b3NhdmUiLGZ1bmN0aW9uKCl7ZC5lZGl0b3Iuc2V0QXV0b3NhdmUoIWQuZWRpdG9yLmF1dG9zYXZlKX0pO2suc2V0VG9nZ2xlQWN0aW9uKCEwKTtrLnNldFNlbGVjdGVkQ2FsbGJhY2soZnVuY3Rpb24oKXtyZXR1cm4gZC5lZGl0b3IuYXV0b3NhdmV9KTtrLmlzRW5hYmxlZD1tO2sudmlzaWJsZT0hMTt0aGlzLmFkZEFjdGlvbigiaGVscCIsZnVuY3Rpb24oKXt2YXIgYT0KIiI7bXhSZXNvdXJjZXMuaXNMYW5ndWFnZVN1cHBvcnRlZChteENsaWVudC5sYW5ndWFnZSkmJihhPSJfIitteENsaWVudC5sYW5ndWFnZSk7Yy5vcGVuTGluayhSRVNPVVJDRVNfUEFUSCsiL2hlbHAiK2ErIi5odG1sIil9KTt2YXIgcT0hMTt0aGlzLnB1dCgiYWJvdXQiLG5ldyBBY3Rpb24obXhSZXNvdXJjZXMuZ2V0KCJhYm91dCIpKyIgR3JhcGggRWRpdG9yLi4uIixmdW5jdGlvbigpe3F8fChkLnNob3dEaWFsb2coKG5ldyBBYm91dERpYWxvZyhkKSkuY29udGFpbmVyLDMyMCwyODAsITAsITAsZnVuY3Rpb24oKXtxPSExfSkscT0hMCl9KSk7az1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhLGUsZCxmKXtyZXR1cm4gdGhpcy5hZGRBY3Rpb24oYSxmdW5jdGlvbigpe2lmKG51bGwhPWQmJmMuY2VsbEVkaXRvci5pc0NvbnRlbnRFZGl0aW5nKCkpZCgpO2Vsc2V7Yy5zdG9wRWRpdGluZyghMSk7Yy5nZXRNb2RlbCgpLmJlZ2luVXBkYXRlKCk7dHJ5e3ZhciBhPWMuZ2V0U2VsZWN0aW9uQ2VsbHMoKTsKYy50b2dnbGVDZWxsU3R5bGVGbGFncyhteENvbnN0YW50cy5TVFlMRV9GT05UU1RZTEUsZSxhKTsoZSZteENvbnN0YW50cy5GT05UX0JPTEQpPT1teENvbnN0YW50cy5GT05UX0JPTEQ/Yy51cGRhdGVMYWJlbEVsZW1lbnRzKGMuZ2V0U2VsZWN0aW9uQ2VsbHMoKSxmdW5jdGlvbihhKXthLnN0eWxlLmZvbnRXZWlnaHQ9bnVsbDsiQiI9PWEubm9kZU5hbWUmJmMucmVwbGFjZUVsZW1lbnQoYSl9KTooZSZteENvbnN0YW50cy5GT05UX0lUQUxJQyk9PW14Q29uc3RhbnRzLkZPTlRfSVRBTElDP2MudXBkYXRlTGFiZWxFbGVtZW50cyhjLmdldFNlbGVjdGlvbkNlbGxzKCksZnVuY3Rpb24oYSl7YS5zdHlsZS5mb250U3R5bGU9bnVsbDsiSSI9PWEubm9kZU5hbWUmJmMucmVwbGFjZUVsZW1lbnQoYSl9KTooZSZteENvbnN0YW50cy5GT05UX1VOREVSTElORSk9PW14Q29uc3RhbnRzLkZPTlRfVU5ERVJMSU5FJiZjLnVwZGF0ZUxhYmVsRWxlbWVudHMoYy5nZXRTZWxlY3Rpb25DZWxscygpLGZ1bmN0aW9uKGEpe2Euc3R5bGUudGV4dERlY29yYXRpb249Cm51bGw7IlUiPT1hLm5vZGVOYW1lJiZjLnJlcGxhY2VFbGVtZW50KGEpfSk7Zm9yKHZhciBiPTA7YjxhLmxlbmd0aDtiKyspMD09Yy5tb2RlbC5nZXRDaGlsZENvdW50KGFbYl0pJiZjLmF1dG9TaXplQ2VsbChhW2JdLCExKX1maW5hbGx5e2MuZ2V0TW9kZWwoKS5lbmRVcGRhdGUoKX19fSxudWxsLG51bGwsZil9KTtrKCJib2xkIixteENvbnN0YW50cy5GT05UX0JPTEQsZnVuY3Rpb24oKXtkb2N1bWVudC5leGVjQ29tbWFuZCgiYm9sZCIsITEsbnVsbCl9LEVkaXRvci5jdHJsS2V5KyIrQiIpO2soIml0YWxpYyIsbXhDb25zdGFudHMuRk9OVF9JVEFMSUMsZnVuY3Rpb24oKXtkb2N1bWVudC5leGVjQ29tbWFuZCgiaXRhbGljIiwhMSxudWxsKX0sRWRpdG9yLmN0cmxLZXkrIitJIik7aygidW5kZXJsaW5lIixteENvbnN0YW50cy5GT05UX1VOREVSTElORSxmdW5jdGlvbigpe2RvY3VtZW50LmV4ZWNDb21tYW5kKCJ1bmRlcmxpbmUiLCExLG51bGwpfSxFZGl0b3IuY3RybEtleSsiK1UiKTsKdGhpcy5hZGRBY3Rpb24oImZvbnRDb2xvci4uLiIsZnVuY3Rpb24oKXtkLm1lbnVzLnBpY2tDb2xvcihteENvbnN0YW50cy5TVFlMRV9GT05UQ09MT1IsImZvcmVjb2xvciIsIjAwMDAwMCIpfSk7dGhpcy5hZGRBY3Rpb24oInN0cm9rZUNvbG9yLi4uIixmdW5jdGlvbigpe2QubWVudXMucGlja0NvbG9yKG14Q29uc3RhbnRzLlNUWUxFX1NUUk9LRUNPTE9SKX0pO3RoaXMuYWRkQWN0aW9uKCJmaWxsQ29sb3IuLi4iLGZ1bmN0aW9uKCl7ZC5tZW51cy5waWNrQ29sb3IobXhDb25zdGFudHMuU1RZTEVfRklMTENPTE9SKX0pO3RoaXMuYWRkQWN0aW9uKCJncmFkaWVudENvbG9yLi4uIixmdW5jdGlvbigpe2QubWVudXMucGlja0NvbG9yKG14Q29uc3RhbnRzLlNUWUxFX0dSQURJRU5UQ09MT1IpfSk7dGhpcy5hZGRBY3Rpb24oImJhY2tncm91bmRDb2xvci4uLiIsZnVuY3Rpb24oKXtkLm1lbnVzLnBpY2tDb2xvcihteENvbnN0YW50cy5TVFlMRV9MQUJFTF9CQUNLR1JPVU5EQ09MT1IsImJhY2tjb2xvciIpfSk7CnRoaXMuYWRkQWN0aW9uKCJib3JkZXJDb2xvci4uLiIsZnVuY3Rpb24oKXtkLm1lbnVzLnBpY2tDb2xvcihteENvbnN0YW50cy5TVFlMRV9MQUJFTF9CT1JERVJDT0xPUil9KTt0aGlzLmFkZEFjdGlvbigidmVydGljYWwiLGZ1bmN0aW9uKCl7ZC5tZW51cy50b2dnbGVTdHlsZShteENvbnN0YW50cy5TVFlMRV9IT1JJWk9OVEFMLCEwKX0pO3RoaXMuYWRkQWN0aW9uKCJzaGFkb3ciLGZ1bmN0aW9uKCl7ZC5tZW51cy50b2dnbGVTdHlsZShteENvbnN0YW50cy5TVFlMRV9TSEFET1cpfSk7dGhpcy5hZGRBY3Rpb24oInNvbGlkIixmdW5jdGlvbigpe2MuZ2V0TW9kZWwoKS5iZWdpblVwZGF0ZSgpO3RyeXtjLnNldENlbGxTdHlsZXMobXhDb25zdGFudHMuU1RZTEVfREFTSEVELG51bGwpLGMuc2V0Q2VsbFN0eWxlcyhteENvbnN0YW50cy5TVFlMRV9EQVNIX1BBVFRFUk4sbnVsbCksZC5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QoInN0eWxlQ2hhbmdlZCIsImtleXMiLFtteENvbnN0YW50cy5TVFlMRV9EQVNIRUQsCm14Q29uc3RhbnRzLlNUWUxFX0RBU0hfUEFUVEVSTl0sInZhbHVlcyIsW251bGwsbnVsbF0sImNlbGxzIixjLmdldFNlbGVjdGlvbkNlbGxzKCkpKX1maW5hbGx5e2MuZ2V0TW9kZWwoKS5lbmRVcGRhdGUoKX19KTt0aGlzLmFkZEFjdGlvbigiZGFzaGVkIixmdW5jdGlvbigpe2MuZ2V0TW9kZWwoKS5iZWdpblVwZGF0ZSgpO3RyeXtjLnNldENlbGxTdHlsZXMobXhDb25zdGFudHMuU1RZTEVfREFTSEVELCIxIiksYy5zZXRDZWxsU3R5bGVzKG14Q29uc3RhbnRzLlNUWUxFX0RBU0hfUEFUVEVSTixudWxsKSxkLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdCgic3R5bGVDaGFuZ2VkIiwia2V5cyIsW214Q29uc3RhbnRzLlNUWUxFX0RBU0hFRCxteENvbnN0YW50cy5TVFlMRV9EQVNIX1BBVFRFUk5dLCJ2YWx1ZXMiLFsiMSIsbnVsbF0sImNlbGxzIixjLmdldFNlbGVjdGlvbkNlbGxzKCkpKX1maW5hbGx5e2MuZ2V0TW9kZWwoKS5lbmRVcGRhdGUoKX19KTt0aGlzLmFkZEFjdGlvbigiZG90dGVkIiwKZnVuY3Rpb24oKXtjLmdldE1vZGVsKCkuYmVnaW5VcGRhdGUoKTt0cnl7Yy5zZXRDZWxsU3R5bGVzKG14Q29uc3RhbnRzLlNUWUxFX0RBU0hFRCwiMSIpLGMuc2V0Q2VsbFN0eWxlcyhteENvbnN0YW50cy5TVFlMRV9EQVNIX1BBVFRFUk4sIjEgNCIpLGQuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KCJzdHlsZUNoYW5nZWQiLCJrZXlzIixbbXhDb25zdGFudHMuU1RZTEVfREFTSEVELG14Q29uc3RhbnRzLlNUWUxFX0RBU0hfUEFUVEVSTl0sInZhbHVlcyIsWyIxIiwiMSA0Il0sImNlbGxzIixjLmdldFNlbGVjdGlvbkNlbGxzKCkpKX1maW5hbGx5e2MuZ2V0TW9kZWwoKS5lbmRVcGRhdGUoKX19KTt0aGlzLmFkZEFjdGlvbigic2hhcnAiLGZ1bmN0aW9uKCl7Yy5nZXRNb2RlbCgpLmJlZ2luVXBkYXRlKCk7dHJ5e2Muc2V0Q2VsbFN0eWxlcyhteENvbnN0YW50cy5TVFlMRV9ST1VOREVELCIwIiksYy5zZXRDZWxsU3R5bGVzKG14Q29uc3RhbnRzLlNUWUxFX0NVUlZFRCwiMCIpLGQuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KCJzdHlsZUNoYW5nZWQiLAoia2V5cyIsW214Q29uc3RhbnRzLlNUWUxFX1JPVU5ERUQsbXhDb25zdGFudHMuU1RZTEVfQ1VSVkVEXSwidmFsdWVzIixbIjAiLCIwIl0sImNlbGxzIixjLmdldFNlbGVjdGlvbkNlbGxzKCkpKX1maW5hbGx5e2MuZ2V0TW9kZWwoKS5lbmRVcGRhdGUoKX19KTt0aGlzLmFkZEFjdGlvbigicm91bmRlZCIsZnVuY3Rpb24oKXtjLmdldE1vZGVsKCkuYmVnaW5VcGRhdGUoKTt0cnl7Yy5zZXRDZWxsU3R5bGVzKG14Q29uc3RhbnRzLlNUWUxFX1JPVU5ERUQsIjEiKSxjLnNldENlbGxTdHlsZXMobXhDb25zdGFudHMuU1RZTEVfQ1VSVkVELCIwIiksZC5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QoInN0eWxlQ2hhbmdlZCIsImtleXMiLFtteENvbnN0YW50cy5TVFlMRV9ST1VOREVELG14Q29uc3RhbnRzLlNUWUxFX0NVUlZFRF0sInZhbHVlcyIsWyIxIiwiMCJdLCJjZWxscyIsYy5nZXRTZWxlY3Rpb25DZWxscygpKSl9ZmluYWxseXtjLmdldE1vZGVsKCkuZW5kVXBkYXRlKCl9fSk7dGhpcy5hZGRBY3Rpb24oInRvZ2dsZVJvdW5kZWQiLApmdW5jdGlvbigpe2lmKCFjLmlzU2VsZWN0aW9uRW1wdHkoKSYmYy5pc0VuYWJsZWQoKSl7Yy5nZXRNb2RlbCgpLmJlZ2luVXBkYXRlKCk7dHJ5e3ZhciBhPWMuZ2V0U2VsZWN0aW9uQ2VsbHMoKSxlPWMuZ2V0Q3VycmVudENlbGxTdHlsZShhWzBdKSxmPSIxIj09bXhVdGlscy5nZXRWYWx1ZShlLG14Q29uc3RhbnRzLlNUWUxFX1JPVU5ERUQsIjAiKT8iMCI6IjEiO2Muc2V0Q2VsbFN0eWxlcyhteENvbnN0YW50cy5TVFlMRV9ST1VOREVELGYpO2Muc2V0Q2VsbFN0eWxlcyhteENvbnN0YW50cy5TVFlMRV9DVVJWRUQsbnVsbCk7ZC5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QoInN0eWxlQ2hhbmdlZCIsImtleXMiLFtteENvbnN0YW50cy5TVFlMRV9ST1VOREVELG14Q29uc3RhbnRzLlNUWUxFX0NVUlZFRF0sInZhbHVlcyIsW2YsIjAiXSwiY2VsbHMiLGMuZ2V0U2VsZWN0aW9uQ2VsbHMoKSkpfWZpbmFsbHl7Yy5nZXRNb2RlbCgpLmVuZFVwZGF0ZSgpfX19KTt0aGlzLmFkZEFjdGlvbigiY3VydmVkIiwKZnVuY3Rpb24oKXtjLmdldE1vZGVsKCkuYmVnaW5VcGRhdGUoKTt0cnl7Yy5zZXRDZWxsU3R5bGVzKG14Q29uc3RhbnRzLlNUWUxFX1JPVU5ERUQsIjAiKSxjLnNldENlbGxTdHlsZXMobXhDb25zdGFudHMuU1RZTEVfQ1VSVkVELCIxIiksZC5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QoInN0eWxlQ2hhbmdlZCIsImtleXMiLFtteENvbnN0YW50cy5TVFlMRV9ST1VOREVELG14Q29uc3RhbnRzLlNUWUxFX0NVUlZFRF0sInZhbHVlcyIsWyIwIiwiMSJdLCJjZWxscyIsYy5nZXRTZWxlY3Rpb25DZWxscygpKSl9ZmluYWxseXtjLmdldE1vZGVsKCkuZW5kVXBkYXRlKCl9fSk7dGhpcy5hZGRBY3Rpb24oImNvbGxhcHNpYmxlIixmdW5jdGlvbigpe3ZhciBhPWMudmlldy5nZXRTdGF0ZShjLmdldFNlbGVjdGlvbkNlbGwoKSksZT0iMSI7bnVsbCE9YSYmbnVsbCE9Yy5nZXRGb2xkaW5nSW1hZ2UoYSkmJihlPSIwIik7Yy5zZXRDZWxsU3R5bGVzKCJjb2xsYXBzaWJsZSIsZSk7ZC5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QoInN0eWxlQ2hhbmdlZCIsCiJrZXlzIixbImNvbGxhcHNpYmxlIl0sInZhbHVlcyIsW2VdLCJjZWxscyIsYy5nZXRTZWxlY3Rpb25DZWxscygpKSl9KTt0aGlzLmFkZEFjdGlvbigiZWRpdFN0eWxlLi4uIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3ZhciBhPWMuZ2V0U2VsZWN0aW9uQ2VsbHMoKTtpZihudWxsIT1hJiYwPGEubGVuZ3RoKXt2YXIgZT1jLmdldE1vZGVsKCksZT1uZXcgVGV4dGFyZWFEaWFsb2codGhpcy5lZGl0b3JVaSxteFJlc291cmNlcy5nZXQoImVkaXRTdHlsZSIpKyI6IixlLmdldFN0eWxlKGFbMF0pfHwiIixmdW5jdGlvbihiKXtudWxsIT1iJiZjLnNldENlbGxTdHlsZShteFV0aWxzLnRyaW0oYiksYSl9LG51bGwsbnVsbCw0MDAsMjIwKTt0aGlzLmVkaXRvclVpLnNob3dEaWFsb2coZS5jb250YWluZXIsNDIwLDMwMCwhMCwhMCk7ZS5pbml0KCl9fSksbnVsbCxudWxsLEVkaXRvci5jdHJsS2V5KyIrRSIpO3RoaXMuYWRkQWN0aW9uKCJzZXRBc0RlZmF1bHRTdHlsZSIsZnVuY3Rpb24oKXtjLmlzRW5hYmxlZCgpJiYKIWMuaXNTZWxlY3Rpb25FbXB0eSgpJiZkLnNldERlZmF1bHRTdHlsZShjLmdldFNlbGVjdGlvbkNlbGwoKSl9LG51bGwsbnVsbCxFZGl0b3IuY3RybEtleSsiK1NoaWZ0K0QiKTt0aGlzLmFkZEFjdGlvbigiY2xlYXJEZWZhdWx0U3R5bGUiLGZ1bmN0aW9uKCl7Yy5pc0VuYWJsZWQoKSYmZC5jbGVhckRlZmF1bHRTdHlsZSgpfSxudWxsLG51bGwsRWRpdG9yLmN0cmxLZXkrIitTaGlmdCtSIik7dGhpcy5hZGRBY3Rpb24oImFkZFdheXBvaW50IixmdW5jdGlvbigpe3ZhciBhPWMuZ2V0U2VsZWN0aW9uQ2VsbCgpO2lmKG51bGwhPWEmJmMuZ2V0TW9kZWwoKS5pc0VkZ2UoYSkpe3ZhciBlPWYuZ3JhcGguc2VsZWN0aW9uQ2VsbHNIYW5kbGVyLmdldEhhbmRsZXIoYSk7aWYoZSBpbnN0YW5jZW9mIG14RWRnZUhhbmRsZXIpe2Zvcih2YXIgZD1jLnZpZXcudHJhbnNsYXRlLHA9Yy52aWV3LnNjYWxlLGw9ZC54LGQ9ZC55LGE9Yy5nZXRNb2RlbCgpLmdldFBhcmVudChhKSxuPWMuZ2V0Q2VsbEdlb21ldHJ5KGEpO2MuZ2V0TW9kZWwoKS5pc1ZlcnRleChhKSYmCm51bGwhPW47KWwrPW4ueCxkKz1uLnksYT1jLmdldE1vZGVsKCkuZ2V0UGFyZW50KGEpLG49Yy5nZXRDZWxsR2VvbWV0cnkoYSk7bD1NYXRoLnJvdW5kKGMuc25hcChjLnBvcHVwTWVudUhhbmRsZXIudHJpZ2dlclgvcC1sKSk7cD1NYXRoLnJvdW5kKGMuc25hcChjLnBvcHVwTWVudUhhbmRsZXIudHJpZ2dlclkvcC1kKSk7ZS5hZGRQb2ludEF0KGUuc3RhdGUsbCxwKX19fSk7dGhpcy5hZGRBY3Rpb24oInJlbW92ZVdheXBvaW50IixmdW5jdGlvbigpe3ZhciBhPWQuYWN0aW9ucy5nZXQoInJlbW92ZVdheXBvaW50Iik7bnVsbCE9YS5oYW5kbGVyJiZhLmhhbmRsZXIucmVtb3ZlUG9pbnQoYS5oYW5kbGVyLnN0YXRlLGEuaW5kZXgpfSk7dGhpcy5hZGRBY3Rpb24oImNsZWFyV2F5cG9pbnRzIixmdW5jdGlvbigpe3ZhciBhPWMuZ2V0U2VsZWN0aW9uQ2VsbHMoKTtpZihudWxsIT1hKXthPWMuYWRkQWxsRWRnZXMoYSk7Yy5nZXRNb2RlbCgpLmJlZ2luVXBkYXRlKCk7dHJ5e2Zvcih2YXIgZT0KMDtlPGEubGVuZ3RoO2UrKyl7dmFyIGQ9YVtlXTtpZihjLmdldE1vZGVsKCkuaXNFZGdlKGQpKXt2YXIgZj1jLmdldENlbGxHZW9tZXRyeShkKTtudWxsIT1mJiYoZj1mLmNsb25lKCksZi5wb2ludHM9bnVsbCxjLmdldE1vZGVsKCkuc2V0R2VvbWV0cnkoZCxmKSl9fX1maW5hbGx5e2MuZ2V0TW9kZWwoKS5lbmRVcGRhdGUoKX19fSxudWxsLG51bGwsIkFsdCtTaGlmdCtDIik7az10aGlzLmFkZEFjdGlvbigic3Vic2NyaXB0IixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe2MuY2VsbEVkaXRvci5pc0NvbnRlbnRFZGl0aW5nKCkmJmRvY3VtZW50LmV4ZWNDb21tYW5kKCJzdWJzY3JpcHQiLCExLG51bGwpfSksbnVsbCxudWxsLEVkaXRvci5jdHJsS2V5KyIrLCIpO2s9dGhpcy5hZGRBY3Rpb24oInN1cGVyc2NyaXB0IixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe2MuY2VsbEVkaXRvci5pc0NvbnRlbnRFZGl0aW5nKCkmJmRvY3VtZW50LmV4ZWNDb21tYW5kKCJzdXBlcnNjcmlwdCIsCiExLG51bGwpfSksbnVsbCxudWxsLEVkaXRvci5jdHJsS2V5KyIrLiIpO2s9dGhpcy5hZGRBY3Rpb24oImluZGVudCIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXtjLmNlbGxFZGl0b3IuaXNDb250ZW50RWRpdGluZygpJiZkb2N1bWVudC5leGVjQ29tbWFuZCgiaW5kZW50IiwhMSxudWxsKX0pLG51bGwsbnVsbCwiU2hpZnQrVGFiIik7dGhpcy5hZGRBY3Rpb24oImltYWdlLi4uIixmdW5jdGlvbigpe2lmKGMuaXNFbmFibGVkKCkmJiFjLmlzQ2VsbExvY2tlZChjLmdldERlZmF1bHRQYXJlbnQoKSkpe3ZhciBhPW14UmVzb3VyY2VzLmdldCgiaW1hZ2UiKSsiICgiK214UmVzb3VyY2VzLmdldCgidXJsIikrIik6IixlPWMuZ2V0VmlldygpLmdldFN0YXRlKGMuZ2V0U2VsZWN0aW9uQ2VsbCgpKSxmPSIiO251bGwhPWUmJihmPWUuc3R5bGVbbXhDb25zdGFudHMuU1RZTEVfSU1BR0VdfHxmKTt2YXIgcD1jLmNlbGxFZGl0b3Iuc2F2ZVNlbGVjdGlvbigpO2Quc2hvd0ltYWdlRGlhbG9nKGEsCmYsZnVuY3Rpb24oYSxiLGUpe2lmKGMuY2VsbEVkaXRvci5pc0NvbnRlbnRFZGl0aW5nKCkpYy5jZWxsRWRpdG9yLnJlc3RvcmVTZWxlY3Rpb24ocCksYy5pbnNlcnRJbWFnZShhLGIsZSk7ZWxzZXt2YXIgZD1jLmdldFNlbGVjdGlvbkNlbGxzKCk7aWYobnVsbCE9YSYmKDA8YS5sZW5ndGh8fDA8ZC5sZW5ndGgpKXt2YXIgZj1udWxsO2MuZ2V0TW9kZWwoKS5iZWdpblVwZGF0ZSgpO3RyeXtpZigwPT1kLmxlbmd0aCl7dmFyIGc9Yy5nZXRGcmVlSW5zZXJ0UG9pbnQoKSxmPWQ9W2MuaW5zZXJ0VmVydGV4KGMuZ2V0RGVmYXVsdFBhcmVudCgpLG51bGwsIiIsZy54LGcueSxiLGUsInNoYXBlPWltYWdlO2ltYWdlQXNwZWN0PTA7YXNwZWN0PWZpeGVkO3ZlcnRpY2FsTGFiZWxQb3NpdGlvbj1ib3R0b207dmVydGljYWxBbGlnbj10b3A7IildO2MuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KCJjZWxsc0luc2VydGVkIiwiY2VsbHMiLGYpKX1jLnNldENlbGxTdHlsZXMobXhDb25zdGFudHMuU1RZTEVfSU1BR0UsCjA8YS5sZW5ndGg/YTpudWxsLGQpO3ZhciBsPWMuZ2V0Q3VycmVudENlbGxTdHlsZShkWzBdKTsiaW1hZ2UiIT1sW214Q29uc3RhbnRzLlNUWUxFX1NIQVBFXSYmImxhYmVsIiE9bFtteENvbnN0YW50cy5TVFlMRV9TSEFQRV0/Yy5zZXRDZWxsU3R5bGVzKG14Q29uc3RhbnRzLlNUWUxFX1NIQVBFLCJpbWFnZSIsZCk6MD09YS5sZW5ndGgmJmMuc2V0Q2VsbFN0eWxlcyhteENvbnN0YW50cy5TVFlMRV9TSEFQRSxudWxsLGQpO2lmKDE9PWMuZ2V0U2VsZWN0aW9uQ291bnQoKSYmbnVsbCE9YiYmbnVsbCE9ZSl7dmFyIG49ZFswXSxrPWMuZ2V0TW9kZWwoKS5nZXRHZW9tZXRyeShuKTtudWxsIT1rJiYoaz1rLmNsb25lKCksay53aWR0aD1iLGsuaGVpZ2h0PWUsYy5nZXRNb2RlbCgpLnNldEdlb21ldHJ5KG4saykpfX1maW5hbGx5e2MuZ2V0TW9kZWwoKS5lbmRVcGRhdGUoKX1udWxsIT1mJiYoYy5zZXRTZWxlY3Rpb25DZWxscyhmKSxjLnNjcm9sbENlbGxUb1Zpc2libGUoZlswXSkpfX19LApjLmNlbGxFZGl0b3IuaXNDb250ZW50RWRpdGluZygpLCFjLmNlbGxFZGl0b3IuaXNDb250ZW50RWRpdGluZygpKX19KS5pc0VuYWJsZWQ9bTtrPXRoaXMuYWRkQWN0aW9uKCJsYXllcnMiLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7bnVsbD09dGhpcy5sYXllcnNXaW5kb3c/KHRoaXMubGF5ZXJzV2luZG93PW5ldyBMYXllcnNXaW5kb3coZCxkb2N1bWVudC5ib2R5Lm9mZnNldFdpZHRoLTI4MCwxMjAsMjIwLDE5NiksdGhpcy5sYXllcnNXaW5kb3cud2luZG93LmFkZExpc3RlbmVyKCJzaG93IixmdW5jdGlvbigpe2QuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KCJsYXllcnMiKSl9KSx0aGlzLmxheWVyc1dpbmRvdy53aW5kb3cuYWRkTGlzdGVuZXIoImhpZGUiLGZ1bmN0aW9uKCl7ZC5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QoImxheWVycyIpKX0pLHRoaXMubGF5ZXJzV2luZG93LndpbmRvdy5zZXRWaXNpYmxlKCEwKSxkLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdCgibGF5ZXJzIikpLAp0aGlzLmxheWVyc1dpbmRvdy5pbml0KCkpOnRoaXMubGF5ZXJzV2luZG93LndpbmRvdy5zZXRWaXNpYmxlKCF0aGlzLmxheWVyc1dpbmRvdy53aW5kb3cuaXNWaXNpYmxlKCkpfSksbnVsbCxudWxsLEVkaXRvci5jdHJsS2V5KyIrU2hpZnQrTCIpO2suc2V0VG9nZ2xlQWN0aW9uKCEwKTtrLnNldFNlbGVjdGVkQ2FsbGJhY2sobXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9dGhpcy5sYXllcnNXaW5kb3cmJnRoaXMubGF5ZXJzV2luZG93LndpbmRvdy5pc1Zpc2libGUoKX0pKTtrPXRoaXMuYWRkQWN0aW9uKCJmb3JtYXRQYW5lbCIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXtkLnRvZ2dsZUZvcm1hdFBhbmVsKCl9KSxudWxsLG51bGwsRWRpdG9yLmN0cmxLZXkrIitTaGlmdCtQIik7ay5zZXRUb2dnbGVBY3Rpb24oITApO2suc2V0U2VsZWN0ZWRDYWxsYmFjayhteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3JldHVybiAwPGQuZm9ybWF0V2lkdGh9KSk7Cms9dGhpcy5hZGRBY3Rpb24oIm91dGxpbmUiLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7bnVsbD09dGhpcy5vdXRsaW5lV2luZG93Pyh0aGlzLm91dGxpbmVXaW5kb3c9bmV3IE91dGxpbmVXaW5kb3coZCxkb2N1bWVudC5ib2R5Lm9mZnNldFdpZHRoLTI2MCwxMDAsMTgwLDE4MCksdGhpcy5vdXRsaW5lV2luZG93LndpbmRvdy5hZGRMaXN0ZW5lcigic2hvdyIsZnVuY3Rpb24oKXtkLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdCgib3V0bGluZSIpKX0pLHRoaXMub3V0bGluZVdpbmRvdy53aW5kb3cuYWRkTGlzdGVuZXIoImhpZGUiLGZ1bmN0aW9uKCl7ZC5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QoIm91dGxpbmUiKSl9KSx0aGlzLm91dGxpbmVXaW5kb3cud2luZG93LnNldFZpc2libGUoITApLGQuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KCJvdXRsaW5lIikpKTp0aGlzLm91dGxpbmVXaW5kb3cud2luZG93LnNldFZpc2libGUoIXRoaXMub3V0bGluZVdpbmRvdy53aW5kb3cuaXNWaXNpYmxlKCkpfSksCm51bGwsbnVsbCxFZGl0b3IuY3RybEtleSsiK1NoaWZ0K08iKTtrLnNldFRvZ2dsZUFjdGlvbighMCk7ay5zZXRTZWxlY3RlZENhbGxiYWNrKG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPXRoaXMub3V0bGluZVdpbmRvdyYmdGhpcy5vdXRsaW5lV2luZG93LndpbmRvdy5pc1Zpc2libGUoKX0pKX07QWN0aW9ucy5wcm90b3R5cGUuYWRkQWN0aW9uPWZ1bmN0aW9uKGEsZCxmLGMsbSl7dmFyIGs7Ii4uLiI9PWEuc3Vic3RyaW5nKGEubGVuZ3RoLTMpPyhhPWEuc3Vic3RyaW5nKDAsYS5sZW5ndGgtMyksaz1teFJlc291cmNlcy5nZXQoYSkrIi4uLiIpOms9bXhSZXNvdXJjZXMuZ2V0KGEpO3JldHVybiB0aGlzLnB1dChhLG5ldyBBY3Rpb24oayxkLGYsYyxtKSl9O0FjdGlvbnMucHJvdG90eXBlLnB1dD1mdW5jdGlvbihhLGQpe3JldHVybiB0aGlzLmFjdGlvbnNbYV09ZH07QWN0aW9ucy5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmFjdGlvbnNbYV19OwpmdW5jdGlvbiBBY3Rpb24oYSxkLGYsYyxtKXtteEV2ZW50U291cmNlLmNhbGwodGhpcyk7dGhpcy5sYWJlbD1hO3RoaXMuZnVuY3Q9dGhpcy5jcmVhdGVGdW5jdGlvbihkKTt0aGlzLmVuYWJsZWQ9bnVsbCE9Zj9mOiEwO3RoaXMuaWNvbkNscz1jO3RoaXMuc2hvcnRjdXQ9bTt0aGlzLnZpc2libGU9ITB9bXhVdGlscy5leHRlbmQoQWN0aW9uLG14RXZlbnRTb3VyY2UpO0FjdGlvbi5wcm90b3R5cGUuY3JlYXRlRnVuY3Rpb249ZnVuY3Rpb24oYSl7cmV0dXJuIGF9O0FjdGlvbi5wcm90b3R5cGUuc2V0RW5hYmxlZD1mdW5jdGlvbihhKXt0aGlzLmVuYWJsZWQhPWEmJih0aGlzLmVuYWJsZWQ9YSx0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdCgic3RhdGVDaGFuZ2VkIikpKX07QWN0aW9uLnByb3RvdHlwZS5pc0VuYWJsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbmFibGVkfTsKQWN0aW9uLnByb3RvdHlwZS5zZXRUb2dnbGVBY3Rpb249ZnVuY3Rpb24oYSl7dGhpcy50b2dnbGVBY3Rpb249YX07QWN0aW9uLnByb3RvdHlwZS5zZXRTZWxlY3RlZENhbGxiYWNrPWZ1bmN0aW9uKGEpe3RoaXMuc2VsZWN0ZWRDYWxsYmFjaz1hfTtBY3Rpb24ucHJvdG90eXBlLmlzU2VsZWN0ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZWxlY3RlZENhbGxiYWNrKCl9O0RyYXdpb0ZpbGU9ZnVuY3Rpb24oYSxkKXtteEV2ZW50U291cmNlLmNhbGwodGhpcyk7dGhpcy51aT1hO3RoaXMuc2hhZG93RGF0YT10aGlzLmRhdGE9ZHx8IiI7dGhpcy5zaGFkb3dQYWdlcz1udWxsO3RoaXMuY3JlYXRlZD0obmV3IERhdGUpLmdldFRpbWUoKTt0aGlzLnN0YXRzPXtvcGVuZWQ6MCxtZXJnZWQ6MCxmaWxlTWVyZ2VkOjAsZmlsZVJlbG9hZGVkOjAsY29uZmxpY3RzOjAsdGltZW91dHM6MCxzYXZlZDowLGNsb3NlZDowLGRlc3Ryb3llZDowLGpvaW5lZDowLGNoZWNrc3VtRXJyb3JzOjAsYnl0ZXNTZW50OjAsYnl0ZXNSZWNlaXZlZDowLG1zZ1NlbnQ6MCxtc2dSZWNlaXZlZDowLGNhY2hlSGl0czowLGNhY2hlTWlzczowLGNhY2hlRmFpbDowfX07RHJhd2lvRmlsZS5TWU5DPXVybFBhcmFtcy5zeW5jfHwiYXV0byI7RHJhd2lvRmlsZS5MQVNUX1dSSVRFX1dJTlM9ITA7bXhVdGlscy5leHRlbmQoRHJhd2lvRmlsZSxteEV2ZW50U291cmNlKTsKRHJhd2lvRmlsZS5wcm90b3R5cGUuYWxsQ2hhbmdlc1NhdmVkS2V5PSJhbGxDaGFuZ2VzU2F2ZWQiO0RyYXdpb0ZpbGUucHJvdG90eXBlLmF1dG9zYXZlRGVsYXk9MTUwMDtEcmF3aW9GaWxlLnByb3RvdHlwZS5tYXhBdXRvc2F2ZURlbGF5PTNFNDtEcmF3aW9GaWxlLnByb3RvdHlwZS5hdXRvc2F2ZVRocmVhZD1udWxsO0RyYXdpb0ZpbGUucHJvdG90eXBlLmxhc3RBdXRvc2F2ZT1udWxsO0RyYXdpb0ZpbGUucHJvdG90eXBlLmxhc3RTYXZlZD1udWxsO0RyYXdpb0ZpbGUucHJvdG90eXBlLmxhc3RDaGFuZ2VkPW51bGw7RHJhd2lvRmlsZS5wcm90b3R5cGUub3BlbmVkPW51bGw7RHJhd2lvRmlsZS5wcm90b3R5cGUubW9kaWZpZWQ9ITE7RHJhd2lvRmlsZS5wcm90b3R5cGUuc2hhZG93TW9kaWZpZWQ9ITE7RHJhd2lvRmlsZS5wcm90b3R5cGUuZGF0YT1udWxsO0RyYXdpb0ZpbGUucHJvdG90eXBlLnNoYWRvd0RhdGE9bnVsbDtEcmF3aW9GaWxlLnByb3RvdHlwZS5zaGFkb3dQYWdlcz1udWxsOwpEcmF3aW9GaWxlLnByb3RvdHlwZS5jaGFuZ2VMaXN0ZW5lckVuYWJsZWQ9ITA7RHJhd2lvRmlsZS5wcm90b3R5cGUubGFzdEF1dG9zYXZlUmV2aXNpb249bnVsbDtEcmF3aW9GaWxlLnByb3RvdHlwZS5tYXhBdXRvc2F2ZVJldmlzaW9uRGVsYXk9M0U1O0RyYXdpb0ZpbGUucHJvdG90eXBlLmluQ29uZmxpY3RTdGF0ZT0hMTtEcmF3aW9GaWxlLnByb3RvdHlwZS5pbnZhbGlkQ2hlY2tzdW09ITE7RHJhd2lvRmlsZS5wcm90b3R5cGUuZXJyb3JSZXBvcnRzRW5hYmxlZD0hMTtEcmF3aW9GaWxlLnByb3RvdHlwZS5yZXBvcnRFbmFibGVkPSEwO0RyYXdpb0ZpbGUucHJvdG90eXBlLmFnZVN0YXJ0PW51bGw7RHJhd2lvRmlsZS5wcm90b3R5cGUuZ2V0U2l6ZT1mdW5jdGlvbigpe3JldHVybiBudWxsIT10aGlzLmRhdGE/dGhpcy5kYXRhLmxlbmd0aDowfTsKRHJhd2lvRmlsZS5wcm90b3R5cGUuc3luY2hyb25pemVGaWxlPWZ1bmN0aW9uKGEsZCl7dGhpcy5zYXZpbmdGaWxlP251bGwhPWQmJmQoe21lc3NhZ2U6bXhSZXNvdXJjZXMuZ2V0KCJidXN5Iil9KTpudWxsIT10aGlzLnN5bmM/dGhpcy5zeW5jLmZpbGVDaGFuZ2VkKGEsZCk6dGhpcy51cGRhdGVGaWxlKGEsZCl9OwpEcmF3aW9GaWxlLnByb3RvdHlwZS51cGRhdGVGaWxlPWZ1bmN0aW9uKGEsZCxmLGMpe251bGwhPWYmJmYoKXx8KHRoaXMudWkuZ2V0Q3VycmVudEZpbGUoKSE9dGhpc3x8dGhpcy5pbnZhbGlkQ2hlY2tzdW0/bnVsbCE9ZCYmZCgpOnRoaXMuZ2V0TGF0ZXN0VmVyc2lvbihteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihtKXt0cnl7bnVsbCE9ZiYmZigpfHwodGhpcy51aS5nZXRDdXJyZW50RmlsZSgpIT10aGlzfHx0aGlzLmludmFsaWRDaGVja3N1bT9udWxsIT1kJiZkKCk6bnVsbCE9bT90aGlzLm1lcmdlRmlsZShtLGEsZCxjKTp0aGlzLnJlbG9hZEZpbGUoYSxkKSl9Y2F0Y2goayl7bnVsbCE9ZCYmZChrKX19KSxkKSl9OwpEcmF3aW9GaWxlLnByb3RvdHlwZS5tZXJnZUZpbGU9ZnVuY3Rpb24oYSxkLGYsYyl7dmFyIG09ITA7dHJ5e3RoaXMuc3RhdHMuZmlsZU1lcmdlZCsrO3ZhciBrPW51bGwhPXRoaXMuc2hhZG93UGFnZXM/dGhpcy5zaGFkb3dQYWdlczp0aGlzLnVpLmdldFBhZ2VzRm9yTm9kZShteFV0aWxzLnBhcnNlWG1sKHRoaXMuc2hhZG93RGF0YSkuZG9jdW1lbnRFbGVtZW50KSxxPXRoaXMudWkuZ2V0UGFnZXNGb3JOb2RlKG14VXRpbHMucGFyc2VYbWwoYS5kYXRhKS5kb2N1bWVudEVsZW1lbnQpO2lmKG51bGwhPXEmJjA8cS5sZW5ndGgpe3RoaXMuc2hhZG93UGFnZXM9cTt0aGlzLmJhY2t1cFBhdGNoPXRoaXMuaXNNb2RpZmllZCgpP3RoaXMudWkuZGlmZlBhZ2VzKGssdGhpcy51aS5wYWdlcyk6bnVsbDt2YXIgYj1bdGhpcy51aS5kaWZmUGFnZXMobnVsbCE9Yz9jOmssdGhpcy5zaGFkb3dQYWdlcyldO2lmKCF0aGlzLmlnbm9yZVBhdGNoZXMoYikpe3ZhciBlPXRoaXMudWkucGF0Y2hQYWdlcyhrLApiWzBdKTtjPXt9O3ZhciBnPXRoaXMudWkuZ2V0SGFzaFZhbHVlRm9yUGFnZXMoZSxjKSxrPXt9LHA9dGhpcy51aS5nZXRIYXNoVmFsdWVGb3JQYWdlcyh0aGlzLnNoYWRvd1BhZ2VzLGspOyIxIj09dXJsUGFyYW1zLnRlc3QmJkVkaXRvclVpLmRlYnVnKCJGaWxlLm1lcmdlRmlsZSIsW3RoaXNdLCJiYWNrdXAiLHRoaXMuYmFja3VwUGF0Y2gsInBhdGNoZXMiLGIsImNoZWNrc3VtIixwPT1nLGcpO2lmKG51bGwhPWcmJmchPXApe3ZhciBsPXRoaXMuY29tcHJlc3NSZXBvcnREYXRhKHRoaXMuZ2V0QW5vbnltaXplZFhtbEZvclBhZ2VzKHEpKSxuPXRoaXMuY29tcHJlc3NSZXBvcnREYXRhKHRoaXMuZ2V0QW5vbnltaXplZFhtbEZvclBhZ2VzKGUpKSx2PXRoaXMudWkuaGFzaFZhbHVlKGEuZ2V0Q3VycmVudEV0YWcoKSksdD10aGlzLnVpLmhhc2hWYWx1ZSh0aGlzLmdldEN1cnJlbnRFdGFnKCkpO3RoaXMuY2hlY2tzdW1FcnJvcihmLGIsIlNoYWRvdyBEZXRhaWxzOiAiK0pTT04uc3RyaW5naWZ5KGMpKwoiXG5DaGVja3N1bTogIitnKyJcbkN1cnJlbnQ6ICIrcCsiXG5DdXJyZW50IERldGFpbHM6ICIrSlNPTi5zdHJpbmdpZnkoaykrIlxuRnJvbTogIit2KyJcblRvOiAiK3QrIlxuXG5GaWxlIERhdGE6XG4iK2wrIlxuUGF0Y2hlZCBTaGFkb3c6XG4iK24sbnVsbCwibWVyZ2VGaWxlIik7cmV0dXJufXRoaXMucGF0Y2goYixEcmF3aW9GaWxlLkxBU1RfV1JJVEVfV0lOUz90aGlzLmJhY2t1cFBhdGNoOm51bGwpfX1lbHNlIHRocm93IG09ITEsRXJyb3IobXhSZXNvdXJjZXMuZ2V0KCJub3RBRGlhZ3JhbUZpbGUiKSk7dGhpcy5pbkNvbmZsaWN0U3RhdGU9dGhpcy5pbnZhbGlkQ2hlY2tzdW09ITE7dGhpcy5zZXREZXNjcmlwdG9yKGEuZ2V0RGVzY3JpcHRvcigpKTt0aGlzLmRlc2NyaXB0b3JDaGFuZ2VkKCk7dGhpcy5iYWNrdXBQYXRjaD1udWxsO251bGwhPWQmJmQoKX1jYXRjaChFKXt0aGlzLmludmFsaWRDaGVja3N1bT10aGlzLmluQ29uZmxpY3RTdGF0ZT0hMDt0aGlzLmRlc2NyaXB0b3JDaGFuZ2VkKCk7Cm51bGwhPWYmJmYoRSk7dHJ5e2lmKG0paWYodGhpcy5lcnJvclJlcG9ydHNFbmFibGVkKXRoaXMuc2VuZEVycm9yUmVwb3J0KCJFcnJvciBpbiBtZXJnZUZpbGUiLG51bGwsRSk7ZWxzZXt2YXIgeT10aGlzLmdldEN1cnJlbnRVc2VyKCkseD1udWxsIT15P3kuaWQ6InVua25vd24iO0VkaXRvclVpLmxvZ0Vycm9yKCJFcnJvciBpbiBtZXJnZUZpbGUiLG51bGwsdGhpcy5nZXRNb2RlKCkrIi4iK3RoaXMuZ2V0SWQoKSx4LEUpfX1jYXRjaChBKXt9fX07CkRyYXdpb0ZpbGUucHJvdG90eXBlLmdldEFub255bWl6ZWRYbWxGb3JQYWdlcz1mdW5jdGlvbihhKXt2YXIgZD1uZXcgbXhDb2RlYyhteFV0aWxzLmNyZWF0ZVhtbERvY3VtZW50KCkpLGY9ZC5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJteGZpbGUiKTtpZihudWxsIT1hKWZvcih2YXIgYz0wO2M8YS5sZW5ndGg7YysrKXt2YXIgbT1kLmVuY29kZShuZXcgbXhHcmFwaE1vZGVsKGFbY10ucm9vdCkpOyIxIiE9dXJsUGFyYW1zLmRldiYmKG09dGhpcy51aS5hbm9ueW1pemVOb2RlKG0sITApKTttLnNldEF0dHJpYnV0ZSgiaWQiLGFbY10uZ2V0SWQoKSk7YVtjXS52aWV3U3RhdGUmJnRoaXMudWkuZWRpdG9yLmdyYXBoLnNhdmVWaWV3U3RhdGUoYVtjXS52aWV3U3RhdGUsbSwhMCk7Zi5hcHBlbmRDaGlsZChtKX1yZXR1cm4gbXhVdGlscy5nZXRQcmV0dHlYbWwoZil9OwpEcmF3aW9GaWxlLnByb3RvdHlwZS5jb21wcmVzc1JlcG9ydERhdGE9ZnVuY3Rpb24oYSxkLGYpe2Q9bnVsbCE9ZD9kOjFFNDtudWxsIT1mJiZudWxsIT1hJiZhLmxlbmd0aD5mP2E9YS5zdWJzdHJpbmcoMCxmKSsiWy4uLl0iOm51bGwhPWEmJmEubGVuZ3RoPmQmJihhPUdyYXBoLmNvbXByZXNzKGEpKyJcbiIpO3JldHVybiBhfTsKRHJhd2lvRmlsZS5wcm90b3R5cGUuY2hlY2tzdW1FcnJvcj1mdW5jdGlvbihhLGQsZixjLG0pe3RoaXMuc3RhdHMuY2hlY2tzdW1FcnJvcnMrKzt0aGlzLmludmFsaWRDaGVja3N1bT10aGlzLmluQ29uZmxpY3RTdGF0ZT0hMDt0aGlzLmRlc2NyaXB0b3JDaGFuZ2VkKCk7bnVsbCE9dGhpcy5zeW5jJiZ0aGlzLnN5bmMudXBkYXRlT25saW5lU3RhdGUoKTtudWxsIT1hJiZhKCk7dHJ5e2lmKHRoaXMuZXJyb3JSZXBvcnRzRW5hYmxlZCl7aWYobnVsbCE9ZClmb3IoYT0wO2E8ZC5sZW5ndGg7YSsrKXRoaXMudWkuYW5vbnltaXplUGF0Y2goZFthXSk7dmFyIGs9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jb21wcmVzc1JlcG9ydERhdGEoSlNPTi5zdHJpbmdpZnkoZCxudWxsLDIpKTthPW51bGwhPWE/dGhpcy5jb21wcmVzc1JlcG9ydERhdGEodGhpcy5nZXRBbm9ueW1pemVkWG1sRm9yUGFnZXModGhpcy51aS5nZXRQYWdlc0Zvck5vZGUobXhVdGlscy5wYXJzZVhtbChhLmRhdGEpLmRvY3VtZW50RWxlbWVudCkpLAoyNUUzKToibi9hIjt0aGlzLnNlbmRFcnJvclJlcG9ydCgiQ2hlY2tzdW0gRXJyb3IgaW4gIittKyIgIit0aGlzLmdldEhhc2goKSwobnVsbCE9Zj9mOiIiKSsiXG5cblBhdGNoZXM6XG4iK2IrKG51bGwhPWE/IlxuXG5SZW1vdGU6XG4iK2E6IiIpLG51bGwsN0U0KX0pO251bGw9PWM/ayhudWxsKTp0aGlzLmdldExhdGVzdFZlcnNpb24obXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7bnVsbCE9YSYmYS5nZXRDdXJyZW50RXRhZygpPT1jP2soYSk6ayhudWxsKX0pLGZ1bmN0aW9uKCl7fSl9ZWxzZXt2YXIgcT10aGlzLmdldEN1cnJlbnRVc2VyKCksYj1udWxsIT1xP3EuaWQ6InVua25vd24iO0VkaXRvclVpLmxvZ0Vycm9yKCJDaGVja3N1bSBFcnJvciBpbiAiK20rIiAiK3RoaXMuZ2V0SWQoKSxudWxsLHRoaXMuZ2V0TW9kZSgpKyIuIit0aGlzLmdldElkKCksInVzZXJfIitiKyhudWxsIT10aGlzLnN5bmM/Ii1jbGllbnRfIit0aGlzLnN5bmMuY2xpZW50SWQ6Ii1ub3N5bmMiKSk7CnRyeXtFZGl0b3JVaS5sb2dFdmVudCh7Y2F0ZWdvcnk6IkNIRUNLU1VNLUVSUk9SLVNZTkMtRklMRS0iK3RoaXMuZ2V0SGFzaCgpLGFjdGlvbjptLGxhYmVsOiJ1c2VyXyIrYisobnVsbCE9dGhpcy5zeW5jPyItY2xpZW50XyIrdGhpcy5zeW5jLmNsaWVudElkOiItbm9zeW5jIil9KX1jYXRjaChlKXt9fX1jYXRjaChlKXt9fTsKRHJhd2lvRmlsZS5wcm90b3R5cGUuc2VuZEVycm9yUmVwb3J0PWZ1bmN0aW9uKGEsZCxmLGMpe3RyeXt2YXIgbT10aGlzLmNvbXByZXNzUmVwb3J0RGF0YSh0aGlzLmdldEFub255bWl6ZWRYbWxGb3JQYWdlcyh0aGlzLnNoYWRvd1BhZ2VzKSwyNUUzKSxrPXRoaXMuY29tcHJlc3NSZXBvcnREYXRhKHRoaXMuZ2V0QW5vbnltaXplZFhtbEZvclBhZ2VzKHRoaXMudWkucGFnZXMpLDI1RTMpLHE9dGhpcy5nZXRDdXJyZW50VXNlcigpLGI9bnVsbCE9cT90aGlzLnVpLmhhc2hWYWx1ZShxLmlkKToidW5rbm93biIsZT1udWxsIT10aGlzLnN5bmM/Ii1jbGllbnRfIit0aGlzLnN5bmMuY2xpZW50SWQ6Ii1ub3N5bmMiLGc9dGhpcy5nZXRUaXRsZSgpLHA9Zy5sYXN0SW5kZXhPZigiLiIpLHE9InhtbCI7MDxwJiYocT1nLnN1YnN0cmluZyhwKSk7dmFyIGw9bnVsbCE9Zj9mLnN0YWNrOkVycm9yKCkuc3RhY2s7RWRpdG9yVWkuc2VuZFJlcG9ydChhKyIgIisobmV3IERhdGUpLnRvSVNPU3RyaW5nKCkrCiI6XG5cbkFwcFZlcnNpb249IituYXZpZ2F0b3IuYXBwVmVyc2lvbisiXG5GaWxlPSIrdGhpcy51aS5oYXNoVmFsdWUodGhpcy5nZXRJZCgpKSsiICgiK3RoaXMuZ2V0TW9kZSgpKyIpIisodGhpcy5pc01vZGlmaWVkKCk/IiBtb2RpZmllZCI6IiIpKyJcblNpemUvVHlwZT0iK3RoaXMuZ2V0U2l6ZSgpKyIgKCIrcSsiKVxuVXNlcj0iK2IrZSsiXG5QcmVmaXg9Iit0aGlzLnVpLmVkaXRvci5ncmFwaC5tb2RlbC5wcmVmaXgrIlxuU3luYz0iK0RyYXdpb0ZpbGUuU1lOQysobnVsbCE9dGhpcy5zeW5jPyh0aGlzLnN5bmMuZW5hYmxlZD8iIGVuYWJsZWQiOiIiKSsodGhpcy5zeW5jLmlzQ29ubmVjdGVkKCk/IiBjb25uZWN0ZWQiOiIiKToiIikrIlxuUGx1Z2lucz0iKyhudWxsIT1teFNldHRpbmdzLnNldHRpbmdzP214U2V0dGluZ3MuZ2V0UGx1Z2lucygpOiJudWxsIikrIlxuXG5TdGF0czpcbiIrSlNPTi5zdHJpbmdpZnkodGhpcy5zdGF0cyxudWxsLDIpKyhudWxsIT1kPyJcblxuIitkOgoiIikrKG51bGwhPWY/IlxuXG5FcnJvcjogIitmLm1lc3NhZ2U6IiIpKyJcblxuU3RhY2s6XG4iK2wrIlxuXG5TaGFkb3c6XG4iK20rIlxuXG5EYXRhOlxuIitrLGMpfWNhdGNoKG4pe319OwpEcmF3aW9GaWxlLnByb3RvdHlwZS5yZWxvYWRGaWxlPWZ1bmN0aW9uKGEsZCl7dHJ5e3RoaXMudWkuc3Bpbm5lci5zdG9wKCk7dmFyIGY9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt0aGlzLnN0YXRzLmZpbGVSZWxvYWRlZCsrO3RoaXMucmVwb3J0RW5hYmxlZD0hMTt2YXIgYz10aGlzLnVpLmVkaXRvci5ncmFwaC5nZXRWaWV3U3RhdGUoKSxkPXRoaXMudWkuZWRpdG9yLmdyYXBoLmdldFNlbGVjdGlvbkNlbGxzKCksZj10aGlzLnVpLmN1cnJlbnRQYWdlO3RoaXMudWkubG9hZEZpbGUodGhpcy5nZXRIYXNoKCksITAsbnVsbCxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe2lmKG51bGw9PXRoaXMudWkuZmlsZUxvYWRlZEVycm9yKXt0aGlzLnVpLnJlc3RvcmVWaWV3U3RhdGUoZixjLGQpO251bGwhPXRoaXMuYmFja3VwUGF0Y2gmJnRoaXMucGF0Y2goW3RoaXMuYmFja3VwUGF0Y2hdKTt2YXIgaz10aGlzLnVpLmdldEN1cnJlbnRGaWxlKCk7bnVsbCE9ayYmKGsuc3RhdHM9CnRoaXMuc3RhdHMpO251bGwhPWEmJmEoKX19KSwhMCl9KTt0aGlzLmlzTW9kaWZpZWQoKSYmbnVsbD09dGhpcy5iYWNrdXBQYXRjaD90aGlzLnVpLmNvbmZpcm0obXhSZXNvdXJjZXMuZ2V0KCJhbGxDaGFuZ2VzTG9zdCIpLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dGhpcy5oYW5kbGVGaWxlU3VjY2VzcygibWFudWFsIj09RHJhd2lvRmlsZS5TWU5DKX0pLGYsbXhSZXNvdXJjZXMuZ2V0KCJjYW5jZWwiKSxteFJlc291cmNlcy5nZXQoImRpc2NhcmRDaGFuZ2VzIikpOmYoKX1jYXRjaChjKXtudWxsIT1kJiZkKGMpfX07RHJhd2lvRmlsZS5wcm90b3R5cGUuY29weUZpbGU9ZnVuY3Rpb24oYSxkKXt0aGlzLnVpLmVkaXRvci5lZGl0QXNOZXcodGhpcy51aS5nZXRGaWxlRGF0YSghMCksdGhpcy51aS5nZXRDb3B5RmlsZW5hbWUodGhpcykpfTsKRHJhd2lvRmlsZS5wcm90b3R5cGUuaWdub3JlUGF0Y2hlcz1mdW5jdGlvbihhKXtmb3IodmFyIGQ9ITAsZj0wO2Y8YS5sZW5ndGgmJmQ7ZisrKWQ9ZCYmMD09T2JqZWN0LmtleXMoYVtmXSkubGVuZ3RoO3JldHVybiBkfTsKRHJhd2lvRmlsZS5wcm90b3R5cGUucGF0Y2g9ZnVuY3Rpb24oYSxkKXt2YXIgZj10aGlzLnVpLmVkaXRvci51bmRvTWFuYWdlcixjPWYuaGlzdG9yeS5zbGljZSgpLG09Zi5pbmRleE9mTmV4dEFkZCxrPXRoaXMudWkuZWRpdG9yLmdyYXBoO2suY29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHk9ImhpZGRlbiI7dmFyIHE9dGhpcy5jaGFuZ2VMaXN0ZW5lckVuYWJsZWQ7dGhpcy5jaGFuZ2VMaXN0ZW5lckVuYWJsZWQ9ITE7dmFyIGI9ay5mb2xkaW5nRW5hYmxlZCxlPWsubWF0aEVuYWJsZWQsZz1rLmNlbGxSZW5kZXJlci5yZWRyYXc7ay5jZWxsUmVuZGVyZXIucmVkcmF3PWZ1bmN0aW9uKGEpe2Eudmlldy5ncmFwaC5pc0VkaXRpbmcoYS5jZWxsKSYmKGEudmlldy5ncmFwaC5zY3JvbGxDZWxsVG9WaXNpYmxlKGEuY2VsbCksYS52aWV3LmdyYXBoLmNlbGxFZGl0b3IucmVzaXplKCkpO2cuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtrLm1vZGVsLmJlZ2luVXBkYXRlKCk7dHJ5e2Zvcih2YXIgcD0KMDtwPGEubGVuZ3RoO3ArKyl0aGlzLnVpLnBhZ2VzPXRoaXMudWkucGF0Y2hQYWdlcyh0aGlzLnVpLnBhZ2VzLGFbcF0sITAsZCx0aGlzLmlzTW9kaWZpZWQoKSk7MD09dGhpcy51aS5wYWdlcy5sZW5ndGgmJnRoaXMudWkucGFnZXMucHVzaCh0aGlzLnVpLmNyZWF0ZVBhZ2UoKSk7MD5teFV0aWxzLmluZGV4T2YodGhpcy51aS5wYWdlcyx0aGlzLnVpLmN1cnJlbnRQYWdlKSYmdGhpcy51aS5zZWxlY3RQYWdlKHRoaXMudWkucGFnZXNbMF0sITApfWZpbmFsbHl7ay5jb250YWluZXIuc3R5bGUudmlzaWJpbGl0eT0iIjtrLm1vZGVsLmVuZFVwZGF0ZSgpO2suY2VsbFJlbmRlcmVyLnJlZHJhdz1nO3RoaXMuY2hhbmdlTGlzdGVuZXJFbmFibGVkPXE7Zi5oaXN0b3J5PWM7Zi5pbmRleE9mTmV4dEFkZD1tO2YuZmlyZUV2ZW50KG5ldyBteEV2ZW50T2JqZWN0KG14RXZlbnQuQ0xFQVIpKTtpZihudWxsPT10aGlzLnVpLmN1cnJlbnRQYWdlfHx0aGlzLnVpLmN1cnJlbnRQYWdlLm5lZWRzVXBkYXRlKWUhPQprLm1hdGhFbmFibGVkPyh0aGlzLnVpLmVkaXRvci51cGRhdGVHcmFwaENvbXBvbmVudHMoKSxrLnJlZnJlc2goKSk6KGIhPWsuZm9sZGluZ0VuYWJsZWQ/ay52aWV3LnJldmFsaWRhdGUoKTprLnZpZXcudmFsaWRhdGUoKSxrLnNpemVEaWRDaGFuZ2UoKSk7dGhpcy51aS51cGRhdGVUYWJDb250YWluZXIoKX19OwpEcmF3aW9GaWxlLnByb3RvdHlwZS5zYXZlPWZ1bmN0aW9uKGEsZCxmLGMsbSxrKXt0cnl7aWYodGhpcy5pc0VkaXRhYmxlKCkpaWYoIW0mJnRoaXMuaW52YWxpZENoZWNrc3VtKWlmKG51bGwhPWYpZih7bWVzc2FnZTpteFJlc291cmNlcy5nZXQoImNoZWNrc3VtIil9KTtlbHNlIHRocm93IEVycm9yKG14UmVzb3VyY2VzLmdldCgiY2hlY2tzdW0iKSk7ZWxzZSB0aGlzLnVwZGF0ZUZpbGVEYXRhKCksdGhpcy5jbGVhckF1dG9zYXZlKCksbnVsbCE9ZCYmZCgpO2Vsc2UgaWYobnVsbCE9ZilmKHttZXNzYWdlOm14UmVzb3VyY2VzLmdldCgicmVhZE9ubHkiKX0pO2Vsc2UgdGhyb3cgRXJyb3IobXhSZXNvdXJjZXMuZ2V0KCJyZWFkT25seSIpKTt9Y2F0Y2gocSl7aWYobnVsbCE9ZilmKHEpO2Vsc2UgdGhyb3cgcTt9fTsKRHJhd2lvRmlsZS5wcm90b3R5cGUudXBkYXRlRmlsZURhdGE9ZnVuY3Rpb24oYSl7dGhpcy5zZXREYXRhKHRoaXMudWkuZ2V0RmlsZURhdGEobnVsbCxudWxsLG51bGwsbnVsbCxudWxsLG51bGwsbnVsbCxudWxsLHRoaXMsbnVsbCE9YT8hYTohdGhpcy5pc0NvbXByZXNzZWQoKSkpfTtEcmF3aW9GaWxlLnByb3RvdHlwZS5pc0NvbXByZXNzZWRTdG9yYWdlPWZ1bmN0aW9uKCl7cmV0dXJuITB9O0RyYXdpb0ZpbGUucHJvdG90eXBlLmlzQ29tcHJlc3NlZD1mdW5jdGlvbigpe3ZhciBhPW51bGwhPXRoaXMudWkuZmlsZU5vZGU/dGhpcy51aS5maWxlTm9kZS5nZXRBdHRyaWJ1dGUoImNvbXByZXNzZWQiKTpudWxsO3JldHVybiBudWxsIT1hPyJmYWxzZSIhPWE6dGhpcy5pc0NvbXByZXNzZWRTdG9yYWdlKCkmJkVkaXRvci5jb21wcmVzc1htbH07CkRyYXdpb0ZpbGUucHJvdG90eXBlLmRlY29tcHJlc3M9ZnVuY3Rpb24oKXt0aGlzLnVwZGF0ZUZpbGVEYXRhKCExKTtudWxsIT10aGlzLnVpLmZpbGVOb2RlJiZ0aGlzLnVpLmZpbGVOb2RlLnNldEF0dHJpYnV0ZSgiY29tcHJlc3NlZCIsImZhbHNlIik7dGhpcy5maWxlQ2hhbmdlZCgpfTtEcmF3aW9GaWxlLnByb3RvdHlwZS5jb21wcmVzcz1mdW5jdGlvbigpe3RoaXMudXBkYXRlRmlsZURhdGEoITApO251bGwhPXRoaXMudWkuZmlsZU5vZGUmJnRoaXMudWkuZmlsZU5vZGUuc2V0QXR0cmlidXRlKCJjb21wcmVzc2VkIiwidHJ1ZSIpO3RoaXMuZmlsZUNoYW5nZWQoKX07RHJhd2lvRmlsZS5wcm90b3R5cGUuc2F2ZUFzPWZ1bmN0aW9uKGEsZCxmKXt9O0RyYXdpb0ZpbGUucHJvdG90eXBlLnNhdmVGaWxlPWZ1bmN0aW9uKGEsZCxmLGMpe307RHJhd2lvRmlsZS5wcm90b3R5cGUuZ2V0UHVibGljVXJsPWZ1bmN0aW9uKGEpe2EobnVsbCl9OwpEcmF3aW9GaWxlLnByb3RvdHlwZS5pc1Jlc3RyaWN0ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4hMX07RHJhd2lvRmlsZS5wcm90b3R5cGUuaXNNb2RpZmllZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLm1vZGlmaWVkfTtEcmF3aW9GaWxlLnByb3RvdHlwZS5nZXRTaGFkb3dNb2RpZmllZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNoYWRvd01vZGlmaWVkfTtEcmF3aW9GaWxlLnByb3RvdHlwZS5zZXRTaGFkb3dNb2RpZmllZD1mdW5jdGlvbihhKXt0aGlzLnNoYWRvd01vZGlmaWVkPWF9O0RyYXdpb0ZpbGUucHJvdG90eXBlLnNldE1vZGlmaWVkPWZ1bmN0aW9uKGEpe3RoaXMuc2hhZG93TW9kaWZpZWQ9dGhpcy5tb2RpZmllZD1hfTtEcmF3aW9GaWxlLnByb3RvdHlwZS5pc0F1dG9zYXZlT3B0aW9uYWw9ZnVuY3Rpb24oKXtyZXR1cm4hMX07RHJhd2lvRmlsZS5wcm90b3R5cGUuaXNBdXRvc2F2ZT1mdW5jdGlvbigpe3JldHVybiF0aGlzLmluQ29uZmxpY3RTdGF0ZSYmdGhpcy51aS5lZGl0b3IuYXV0b3NhdmV9OwpEcmF3aW9GaWxlLnByb3RvdHlwZS5pc1JlbmFtYWJsZT1mdW5jdGlvbigpe3JldHVybiExfTtEcmF3aW9GaWxlLnByb3RvdHlwZS5yZW5hbWU9ZnVuY3Rpb24oYSxkLGYpe307RHJhd2lvRmlsZS5wcm90b3R5cGUuaXNNb3ZhYmxlPWZ1bmN0aW9uKCl7cmV0dXJuITF9O0RyYXdpb0ZpbGUucHJvdG90eXBlLmlzVHJhc2hlZD1mdW5jdGlvbigpe3JldHVybiExfTtEcmF3aW9GaWxlLnByb3RvdHlwZS5tb3ZlPWZ1bmN0aW9uKGEsZCxmKXt9O0RyYXdpb0ZpbGUucHJvdG90eXBlLmdldEhhc2g9ZnVuY3Rpb24oKXtyZXR1cm4iIn07RHJhd2lvRmlsZS5wcm90b3R5cGUuZ2V0SWQ9ZnVuY3Rpb24oKXtyZXR1cm4iIn07RHJhd2lvRmlsZS5wcm90b3R5cGUuaXNFZGl0YWJsZT1mdW5jdGlvbigpe3JldHVybiF0aGlzLnVpLmVkaXRvci5pc0Nocm9tZWxlc3NWaWV3KCl8fHRoaXMudWkuZWRpdG9yLmVkaXRhYmxlfTtEcmF3aW9GaWxlLnByb3RvdHlwZS5nZXRVaT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnVpfTsKRHJhd2lvRmlsZS5wcm90b3R5cGUuZ2V0VGl0bGU9ZnVuY3Rpb24oKXtyZXR1cm4iIn07RHJhd2lvRmlsZS5wcm90b3R5cGUuc2V0RGF0YT1mdW5jdGlvbihhKXt0aGlzLmRhdGE9YX07RHJhd2lvRmlsZS5wcm90b3R5cGUuZ2V0RGF0YT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmRhdGF9OwpEcmF3aW9GaWxlLnByb3RvdHlwZS5vcGVuPWZ1bmN0aW9uKCl7dGhpcy5zdGF0cy5vcGVuZWQrKzt2YXIgYT10aGlzLmdldERhdGEoKTtpZihudWxsIT1hKXt2YXIgZD1mdW5jdGlvbihhKXtmb3IodmFyIGM9MDtudWxsIT1hJiZjPGEubGVuZ3RoO2MrKyl7dmFyIGQ9YVtjXTtudWxsIT1kLmlkJiYwPT1kLmlkLmluZGV4T2YoImV4dEZvbnRfIikmJmQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChkKX19O2QoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiaGVhZCA+IHN0eWxlW2lkXSIpKTtkKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoImhlYWQgPiBsaW5rW2lkXSIpKTt0aGlzLnVpLnNldEZpbGVEYXRhKGEpO3RoaXMuaXNNb2RpZmllZCgpfHwodGhpcy5zaGFkb3dEYXRhPW14VXRpbHMuZ2V0WG1sKHRoaXMudWkuZ2V0WG1sRmlsZURhdGEoKSksdGhpcy5zaGFkb3dQYWdlcz1udWxsKX10aGlzLmluc3RhbGxMaXN0ZW5lcnMoKTt0aGlzLmlzU3luY1N1cHBvcnRlZCgpJiZ0aGlzLnN0YXJ0U3luYygpfTsKRHJhd2lvRmlsZS5wcm90b3R5cGUuaXNTeW5jU3VwcG9ydGVkPWZ1bmN0aW9uKCl7cmV0dXJuITF9O0RyYXdpb0ZpbGUucHJvdG90eXBlLmlzUmV2aXNpb25IaXN0b3J5U3VwcG9ydGVkPWZ1bmN0aW9uKCl7cmV0dXJuITF9O0RyYXdpb0ZpbGUucHJvdG90eXBlLmdldFJldmlzaW9ucz1mdW5jdGlvbihhLGQpe2EobnVsbCl9O0RyYXdpb0ZpbGUucHJvdG90eXBlLmxvYWREZXNjcmlwdG9yPWZ1bmN0aW9uKGEsZCl7YShudWxsKX07RHJhd2lvRmlsZS5wcm90b3R5cGUubG9hZFBhdGNoRGVzY3JpcHRvcj1mdW5jdGlvbihhLGQpe3RoaXMubG9hZERlc2NyaXB0b3IobXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oZCl7YShkKX0pLGQpfTtEcmF3aW9GaWxlLnByb3RvdHlwZS5wYXRjaERlc2NyaXB0b3I9ZnVuY3Rpb24oYSxkKXt0aGlzLnNldERlc2NyaXB0b3JFdGFnKGEsdGhpcy5nZXREZXNjcmlwdG9yRXRhZyhkKSl9OwpEcmF3aW9GaWxlLnByb3RvdHlwZS5zdGFydFN5bmM9ZnVuY3Rpb24oKXsiYXV0byIhPURyYXdpb0ZpbGUuU1lOQ3x8IjEiPT11cmxQYXJhbXMuc3RlYWx0aHx8IjEiIT11cmxQYXJhbXMucnQmJnRoaXMudWkuZWRpdG9yLmNocm9tZWxlc3MmJiF0aGlzLnVpLmVkaXRvci5lZGl0YWJsZXx8KG51bGw9PXRoaXMuc3luYyYmKHRoaXMuc3luYz1uZXcgRHJhd2lvRmlsZVN5bmModGhpcykpLHRoaXMuc3luYy5zdGFydCgpKX07RHJhd2lvRmlsZS5wcm90b3R5cGUuaXNDb25mbGljdD1mdW5jdGlvbigpe3JldHVybiExfTtEcmF3aW9GaWxlLnByb3RvdHlwZS5nZXRDaGFubmVsSWQ9ZnVuY3Rpb24oKXtyZXR1cm4gR3JhcGguY29tcHJlc3ModGhpcy5nZXRIYXNoKCkpLnJlcGxhY2UoL1tcLyArXS9nLCJfIil9O0RyYXdpb0ZpbGUucHJvdG90eXBlLmdldENoYW5uZWxLZXk9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGx9O0RyYXdpb0ZpbGUucHJvdG90eXBlLmdldEN1cnJlbnRVc2VyPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9OwpEcmF3aW9GaWxlLnByb3RvdHlwZS5nZXRMYXRlc3RWZXJzaW9uPWZ1bmN0aW9uKGEsZCl7YShudWxsKX07RHJhd2lvRmlsZS5wcm90b3R5cGUuZ2V0TGFzdE1vZGlmaWVkRGF0ZT1mdW5jdGlvbigpe3JldHVybiBuZXcgRGF0ZX07RHJhd2lvRmlsZS5wcm90b3R5cGUuc2V0Q3VycmVudFJldmlzaW9uSWQ9ZnVuY3Rpb24oYSl7dGhpcy5zZXREZXNjcmlwdG9yUmV2aXNpb25JZCh0aGlzLmdldERlc2NyaXB0b3IoKSxhKX07RHJhd2lvRmlsZS5wcm90b3R5cGUuZ2V0Q3VycmVudFJldmlzaW9uSWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXREZXNjcmlwdG9yUmV2aXNpb25JZCh0aGlzLmdldERlc2NyaXB0b3IoKSl9O0RyYXdpb0ZpbGUucHJvdG90eXBlLnNldEN1cnJlbnRFdGFnPWZ1bmN0aW9uKGEpe3RoaXMuc2V0RGVzY3JpcHRvckV0YWcodGhpcy5nZXREZXNjcmlwdG9yKCksYSl9O0RyYXdpb0ZpbGUucHJvdG90eXBlLmdldEN1cnJlbnRFdGFnPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0RGVzY3JpcHRvckV0YWcodGhpcy5nZXREZXNjcmlwdG9yKCkpfTsKRHJhd2lvRmlsZS5wcm90b3R5cGUuZ2V0RGVzY3JpcHRvcj1mdW5jdGlvbigpe3JldHVybiBudWxsfTtEcmF3aW9GaWxlLnByb3RvdHlwZS5zZXREZXNjcmlwdG9yPWZ1bmN0aW9uKCl7fTtEcmF3aW9GaWxlLnByb3RvdHlwZS5zZXREZXNjcmlwdG9yUmV2aXNpb25JZD1mdW5jdGlvbihhLGQpe3RoaXMuc2V0RGVzY3JpcHRvckV0YWcoYSxkKX07RHJhd2lvRmlsZS5wcm90b3R5cGUuZ2V0RGVzY3JpcHRvclJldmlzaW9uSWQ9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZ2V0RGVzY3JpcHRvckV0YWcoYSl9O0RyYXdpb0ZpbGUucHJvdG90eXBlLnNldERlc2NyaXB0b3JFdGFnPWZ1bmN0aW9uKGEsZCl7fTtEcmF3aW9GaWxlLnByb3RvdHlwZS5nZXREZXNjcmlwdG9yRXRhZz1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbH07RHJhd2lvRmlsZS5wcm90b3R5cGUuZ2V0RGVzY3JpcHRvclNlY3JldD1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbH07CkRyYXdpb0ZpbGUucHJvdG90eXBlLmluc3RhbGxMaXN0ZW5lcnM9ZnVuY3Rpb24oKXtudWxsPT10aGlzLmNoYW5nZUxpc3RlbmVyJiYodGhpcy5jaGFuZ2VMaXN0ZW5lcj1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhLGQpe3ZhciBmPW51bGwhPWQ/ZC5nZXRQcm9wZXJ0eSgiZWRpdCIpOm51bGw7IXRoaXMuY2hhbmdlTGlzdGVuZXJFbmFibGVkfHwhdGhpcy5pc0VkaXRhYmxlKCl8fG51bGwhPWYmJmYuaWdub3JlRWRpdHx8dGhpcy5maWxlQ2hhbmdlZCgpfSksdGhpcy51aS5lZGl0b3IuZ3JhcGgubW9kZWwuYWRkTGlzdGVuZXIobXhFdmVudC5DSEFOR0UsdGhpcy5jaGFuZ2VMaXN0ZW5lciksdGhpcy51aS5lZGl0b3IuZ3JhcGguYWRkTGlzdGVuZXIoImdyaWRTaXplQ2hhbmdlZCIsdGhpcy5jaGFuZ2VMaXN0ZW5lciksdGhpcy51aS5lZGl0b3IuZ3JhcGguYWRkTGlzdGVuZXIoInNoYWRvd1Zpc2libGVDaGFuZ2VkIix0aGlzLmNoYW5nZUxpc3RlbmVyKSx0aGlzLnVpLmFkZExpc3RlbmVyKCJwYWdlRm9ybWF0Q2hhbmdlZCIsCnRoaXMuY2hhbmdlTGlzdGVuZXIpLHRoaXMudWkuYWRkTGlzdGVuZXIoInBhZ2VTY2FsZUNoYW5nZWQiLHRoaXMuY2hhbmdlTGlzdGVuZXIpLHRoaXMudWkuYWRkTGlzdGVuZXIoImJhY2tncm91bmRDb2xvckNoYW5nZWQiLHRoaXMuY2hhbmdlTGlzdGVuZXIpLHRoaXMudWkuYWRkTGlzdGVuZXIoImJhY2tncm91bmRJbWFnZUNoYW5nZWQiLHRoaXMuY2hhbmdlTGlzdGVuZXIpLHRoaXMudWkuYWRkTGlzdGVuZXIoImZvbGRpbmdFbmFibGVkQ2hhbmdlZCIsdGhpcy5jaGFuZ2VMaXN0ZW5lciksdGhpcy51aS5hZGRMaXN0ZW5lcigibWF0aEVuYWJsZWRDaGFuZ2VkIix0aGlzLmNoYW5nZUxpc3RlbmVyKSx0aGlzLnVpLmFkZExpc3RlbmVyKCJncmlkRW5hYmxlZENoYW5nZWQiLHRoaXMuY2hhbmdlTGlzdGVuZXIpLHRoaXMudWkuYWRkTGlzdGVuZXIoImd1aWRlc0VuYWJsZWRDaGFuZ2VkIix0aGlzLmNoYW5nZUxpc3RlbmVyKSx0aGlzLnVpLmFkZExpc3RlbmVyKCJwYWdlVmlld0NoYW5nZWQiLAp0aGlzLmNoYW5nZUxpc3RlbmVyKSx0aGlzLnVpLmFkZExpc3RlbmVyKCJjb25uZWN0aW9uUG9pbnRzQ2hhbmdlZCIsdGhpcy5jaGFuZ2VMaXN0ZW5lciksdGhpcy51aS5hZGRMaXN0ZW5lcigiY29ubmVjdGlvbkFycm93c0NoYW5nZWQiLHRoaXMuY2hhbmdlTGlzdGVuZXIpKX07CkRyYXdpb0ZpbGUucHJvdG90eXBlLmFkZEFsbFNhdmVkU3RhdHVzPWZ1bmN0aW9uKGEpe251bGwhPXRoaXMudWkuc3RhdHVzQ29udGFpbmVyJiZ0aGlzLnVpLmdldEN1cnJlbnRGaWxlKCk9PXRoaXMmJihhPW51bGwhPWE/YTpteFV0aWxzLmh0bWxFbnRpdGllcyhteFJlc291cmNlcy5nZXQodGhpcy5hbGxDaGFuZ2VzU2F2ZWRLZXkpKSx0aGlzLnVpLmVkaXRvci5zZXRTdGF0dXMoJzxkaXYgdGl0bGU9IicrYSsnIj4nK2ErIjwvZGl2PiIpLGE9dGhpcy51aS5zdGF0dXNDb250YWluZXIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImRpdiIpLDA8YS5sZW5ndGgmJnRoaXMuaXNSZXZpc2lvbkhpc3RvcnlTdXBwb3J0ZWQoKSYmKGFbMF0uc3R5bGUuY3Vyc29yPSJwb2ludGVyIixhWzBdLnN0eWxlLnRleHREZWNvcmF0aW9uPSJ1bmRlcmxpbmUiLG14RXZlbnQuYWRkTGlzdGVuZXIoYVswXSwiY2xpY2siLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dGhpcy51aS5hY3Rpb25zLmdldCgicmV2aXNpb25IaXN0b3J5IikuZnVuY3QoKX0pKSkpfTsKRHJhd2lvRmlsZS5wcm90b3R5cGUuc2F2ZURyYWZ0PWZ1bmN0aW9uKCl7dHJ5e251bGw9PXRoaXMuZHJhZnRJZCYmKHRoaXMuZHJhZnRJZD1FZGl0b3IuZ3VpZCgpKTt2YXIgYT17dHlwZToiZHJhZnQiLGNyZWF0ZWQ6dGhpcy5jcmVhdGVkLG1vZGlmaWVkOihuZXcgRGF0ZSkuZ2V0VGltZSgpLGRhdGE6dGhpcy51aS5nZXRGaWxlRGF0YSgpLHRpdGxlOnRoaXMuZ2V0VGl0bGUoKSxhbGl2ZUNoZWNrOnRoaXMudWkuZHJhZnRBbGl2ZUNoZWNrfTt0aGlzLnVpLnNldERhdGFiYXNlSXRlbSgiLmRyYWZ0XyIrdGhpcy5kcmFmdElkLEpTT04uc3RyaW5naWZ5KGEpKTtFZGl0b3JVaS5kZWJ1ZygiZHJhZnQgc2F2ZWQiLHRoaXMuZHJhZnRJZCxhKX1jYXRjaChkKXtjb25zb2xlLmVycm9yKGQpLHRoaXMucmVtb3ZlRHJhZnQoKX19OwpEcmF3aW9GaWxlLnByb3RvdHlwZS5yZW1vdmVEcmFmdD1mdW5jdGlvbigpe3RyeXtudWxsIT10aGlzLmRyYWZ0SWQmJih0aGlzLnVpLnJlbW92ZURhdGFiYXNlSXRlbSgiLmRyYWZ0XyIrdGhpcy5kcmFmdElkKSxFZGl0b3JVaS5kZWJ1ZygiZHJhZnQgZGVsZXRlZCIsIi5kcmFmdF8iK3RoaXMuZHJhZnRJZCkpfWNhdGNoKGEpe319OwpEcmF3aW9GaWxlLnByb3RvdHlwZS5hZGRVbnNhdmVkU3RhdHVzPWZ1bmN0aW9uKGEpe2lmKCF0aGlzLmluQ29uZmxpY3RTdGF0ZSYmbnVsbCE9dGhpcy51aS5zdGF0dXNDb250YWluZXImJnRoaXMudWkuZ2V0Q3VycmVudEZpbGUoKT09dGhpcylpZihhIGluc3RhbmNlb2YgRXJyb3ImJm51bGwhPWEubWVzc2FnZSYmIiIhPWEubWVzc2FnZSl7dmFyIGQ9bXhVdGlscy5odG1sRW50aXRpZXMobXhSZXNvdXJjZXMuZ2V0KCJ1bnNhdmVkQ2hhbmdlcyIpKTt0aGlzLnVpLmVkaXRvci5zZXRTdGF0dXMoJzxkaXYgdGl0bGU9IicrZCsnIiBjbGFzcz0iZ2VTdGF0dXNBbGVydCIgc3R5bGU9Im92ZXJmbG93OmhpZGRlbjsiPicrZCsiICgiK214VXRpbHMuaHRtbEVudGl0aWVzKGEubWVzc2FnZSkrIik8L2Rpdj4iKX1lbHNle2Q9dGhpcy5nZXRFcnJvck1lc3NhZ2UoYSk7aWYobnVsbD09ZCYmbnVsbCE9dGhpcy5sYXN0U2F2ZWQpe3ZhciBmPXRoaXMudWkudGltZVNpbmNlKG5ldyBEYXRlKHRoaXMubGFzdFNhdmVkKSk7Cm51bGwhPWYmJihkPW14UmVzb3VyY2VzLmdldCgibGFzdFNhdmVkIixbZl0pKX1udWxsIT1kJiY2MDxkLmxlbmd0aCYmKGQ9ZC5zdWJzdHJpbmcoMCw2MCkrIi4uLiIpO2Q9bXhVdGlscy5odG1sRW50aXRpZXMobXhSZXNvdXJjZXMuZ2V0KCJ1bnNhdmVkQ2hhbmdlc0NsaWNrSGVyZVRvU2F2ZSIpKSsobnVsbCE9ZCYmIiIhPWQ/IiAoIitteFV0aWxzLmh0bWxFbnRpdGllcyhkKSsiKSI6IiIpO3RoaXMudWkuZWRpdG9yLnNldFN0YXR1cygnPGRpdiB0aXRsZT0iJytkKyciIGNsYXNzPSJnZVN0YXR1c0FsZXJ0IiBzdHlsZT0iY3Vyc29yOnBvaW50ZXI7b3ZlcmZsb3c6aGlkZGVuOyI+JytkKyI8L2Rpdj4iKTtkPXRoaXMudWkuc3RhdHVzQ29udGFpbmVyLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJkaXYiKTtudWxsIT1kJiYwPGQubGVuZ3RoP214RXZlbnQuYWRkTGlzdGVuZXIoZFswXSwiY2xpY2siLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dGhpcy51aS5hY3Rpb25zLmdldChudWxsIT0KdGhpcy51aS5tb2RlJiZ0aGlzLmlzRWRpdGFibGUoKT8ic2F2ZSI6InNhdmVBcyIpLmZ1bmN0KCl9KSk6KGQ9bXhVdGlscy5odG1sRW50aXRpZXMobXhSZXNvdXJjZXMuZ2V0KCJ1bnNhdmVkQ2hhbmdlcyIpKSx0aGlzLnVpLmVkaXRvci5zZXRTdGF0dXMoJzxkaXYgdGl0bGU9IicrZCsnIiBjbGFzcz0iZ2VTdGF0dXNBbGVydCIgc3R5bGU9Im92ZXJmbG93OmhpZGRlbjsiPicrZCsiICgiK214VXRpbHMuaHRtbEVudGl0aWVzKGEubWVzc2FnZSkrIik8L2Rpdj4iKSk7RWRpdG9yVWkuZW5hYmxlRHJhZnRzJiZudWxsPT10aGlzLmdldE1vZGUoKSYmKG51bGwhPXRoaXMuc2F2ZURyYWZ0VGhyZWFkJiZ3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMuc2F2ZURyYWZ0VGhyZWFkKSx0aGlzLnNhdmVEcmFmdFRocmVhZD13aW5kb3cuc2V0VGltZW91dChteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMuc2F2ZURyYWZ0KCl9KSwwKSl9fTsKRHJhd2lvRmlsZS5wcm90b3R5cGUuYWRkQ29uZmxpY3RTdGF0dXM9ZnVuY3Rpb24oYSxkKXt0aGlzLmludmFsaWRDaGVja3N1bSYmbnVsbD09ZCYmKGQ9bXhSZXNvdXJjZXMuZ2V0KCJjaGVja3N1bSIpKTt0aGlzLnNldENvbmZsaWN0U3RhdHVzKG14VXRpbHMuaHRtbEVudGl0aWVzKG14UmVzb3VyY2VzLmdldCgiZmlsZUNoYW5nZWRTeW5jIikpKyhudWxsIT1kJiYiIiE9ZD8iICgiK214VXRpbHMuaHRtbEVudGl0aWVzKGQpKyIpIjoiIikpO3RoaXMudWkuc3Bpbm5lci5zdG9wKCk7dGhpcy5jbGVhckF1dG9zYXZlKCk7dmFyIGY9bnVsbCE9dGhpcy51aS5zdGF0dXNDb250YWluZXI/dGhpcy51aS5zdGF0dXNDb250YWluZXIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImRpdiIpOm51bGw7bnVsbCE9ZiYmMDxmLmxlbmd0aD9teEV2ZW50LmFkZExpc3RlbmVyKGZbMF0sImNsaWNrIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihjKXsiSU1HIiE9bXhFdmVudC5nZXRTb3VyY2UoYykubm9kZU5hbWUmJgphKCl9KSk6dGhpcy51aS5hbGVydChteFV0aWxzLmh0bWxFbnRpdGllcyhteFJlc291cmNlcy5nZXQoImZpbGVDaGFuZ2VkU3luYyIpKSxhKX07RHJhd2lvRmlsZS5wcm90b3R5cGUuc2V0Q29uZmxpY3RTdGF0dXM9ZnVuY3Rpb24oYSl7dGhpcy51aS5lZGl0b3Iuc2V0U3RhdHVzKCc8ZGl2IHRpdGxlPSInK2ErJyIgY2xhc3M9ImdlU3RhdHVzQWxlcnQgZ2VCbGluayIgc3R5bGU9ImN1cnNvcjpwb2ludGVyO292ZXJmbG93OmhpZGRlbjsiPicrYSsnIDxhIGhyZWY9Imh0dHBzOi8vZGVzay5kcmF3LmlvL3N1cHBvcnQvc29sdXRpb25zL2FydGljbGVzLzE2MDAwMDg3OTQ3IiB0YXJnZXQ9Il9ibGFuayI+PGltZyBib3JkZXI9IjAiIHN0eWxlPSJtYXJnaW4tbGVmdDoycHg7Y3Vyc29yOmhlbHA7b3BhY2l0eTowLjU7d2lkdGg6MTZweDtoZWlnaHQ6MTZweDsiIHZhbGlnbj0iYm90dG9tIiBzcmM9IicrRWRpdG9yLmhlbHBJbWFnZSsnIiBzdHlsZT0iIi8+PC9hPjwvZGl2PicpfTsKRHJhd2lvRmlsZS5wcm90b3R5cGUuc2hvd1JlZnJlc2hEaWFsb2c9ZnVuY3Rpb24oYSxkLGYpe251bGw9PWYmJihmPW14UmVzb3VyY2VzLmdldCgiY2hlY2tzdW0iKSk7dGhpcy51aS5lZGl0b3IuaXNDaHJvbWVsZXNzVmlldygpJiYhdGhpcy51aS5lZGl0b3IuZWRpdGFibGU/dGhpcy51aS5hbGVydChteFJlc291cmNlcy5nZXQoImZpbGVDaGFuZ2VkU3luYyIpLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dGhpcy5yZWxvYWRGaWxlKGEsZCl9KSk6KHRoaXMuYWRkQ29uZmxpY3RTdGF0dXMobXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt0aGlzLnNob3dSZWZyZXNoRGlhbG9nKGEsZCl9KSxmKSx0aGlzLnVpLnNob3dFcnJvcihteFJlc291cmNlcy5nZXQoImVycm9yIikrIiAoIitmKyIpIixteFJlc291cmNlcy5nZXQoImZpbGVDaGFuZ2VkU3luY0RpYWxvZyIpLG14UmVzb3VyY2VzLmdldCgibWFrZUNvcHkiKSxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMuY29weUZpbGUoYSwKZCl9KSxudWxsLG14UmVzb3VyY2VzLmdldCgic3luY2hyb25pemUiKSxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMucmVsb2FkRmlsZShhLGQpfSksbXhSZXNvdXJjZXMuZ2V0KCJjYW5jZWwiKSxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMudWkuaGlkZURpYWxvZygpfSksMzYwLDE1MCkpfTsKRHJhd2lvRmlsZS5wcm90b3R5cGUuc2hvd0NvcHlEaWFsb2c9ZnVuY3Rpb24oYSxkLGYpe3RoaXMuaW52YWxpZENoZWNrc3VtPXRoaXMuaW5Db25mbGljdFN0YXRlPSExO3RoaXMuYWRkVW5zYXZlZFN0YXR1cygpO3RoaXMudWkuc2hvd0Vycm9yKG14UmVzb3VyY2VzLmdldCgiZXh0ZXJuYWxDaGFuZ2VzIiksbXhSZXNvdXJjZXMuZ2V0KCJmaWxlQ2hhbmdlZE92ZXJ3cml0ZURpYWxvZyIpLG14UmVzb3VyY2VzLmdldCgibWFrZUNvcHkiKSxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMuY29weUZpbGUoYSxkKX0pLG51bGwsbXhSZXNvdXJjZXMuZ2V0KCJvdmVyd3JpdGUiKSxmLG14UmVzb3VyY2VzLmdldCgiY2FuY2VsIiksbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt0aGlzLnVpLmhpZGVEaWFsb2coKX0pLDM2MCwxNTApfTsKRHJhd2lvRmlsZS5wcm90b3R5cGUuc2hvd0NvbmZsaWN0RGlhbG9nPWZ1bmN0aW9uKGEsZCl7dGhpcy51aS5zaG93RXJyb3IobXhSZXNvdXJjZXMuZ2V0KCJleHRlcm5hbENoYW5nZXMiKSxteFJlc291cmNlcy5nZXQoImZpbGVDaGFuZ2VkU3luY0RpYWxvZyIpLG14UmVzb3VyY2VzLmdldCgib3ZlcndyaXRlIiksYSxudWxsLG14UmVzb3VyY2VzLmdldCgic3luY2hyb25pemUiKSxkLG14UmVzb3VyY2VzLmdldCgiY2FuY2VsIiksbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt0aGlzLnVpLmhpZGVEaWFsb2coKTt0aGlzLmhhbmRsZUZpbGVFcnJvcihudWxsLCExKX0pLDM0MCwxNTApfTsKRHJhd2lvRmlsZS5wcm90b3R5cGUucmVkaXJlY3RUb05ld0FwcD1mdW5jdGlvbihhLGQpe3RoaXMudWkuc3Bpbm5lci5zdG9wKCk7aWYoIXRoaXMucmVkaXJlY3REaWFsb2dTaG93aW5nKXt0aGlzLnJlZGlyZWN0RGlhbG9nU2hvd2luZz0hMDt2YXIgZj13aW5kb3cubG9jYXRpb24ucHJvdG9jb2wrIi8vIit3aW5kb3cubG9jYXRpb24uaG9zdCsiLyIrdGhpcy51aS5nZXRTZWFyY2goImNyZWF0ZSB0aXRsZSBtb2RlIHVybCBkcml2ZSBzcGxhc2ggc3RhdGUiLnNwbGl0KCIgIikpKyIjIit0aGlzLmdldEhhc2goKSxjPW14UmVzb3VyY2VzLmdldCgicmVkaXJlY3RUb05ld0FwcCIpO251bGwhPWQmJihjKz0iICgiK2QrIikiKTt2YXIgbT1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3ZhciBjPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dGhpcy5yZWRpcmVjdERpYWxvZ1Nob3dpbmc9ITE7d2luZG93LmxvY2F0aW9uLmhyZWY9PWY/d2luZG93LmxvY2F0aW9uLnJlbG9hZCgpOgp3aW5kb3cubG9jYXRpb24uaHJlZj1mfSk7bnVsbD09YSYmdGhpcy5pc01vZGlmaWVkKCk/dGhpcy51aS5jb25maXJtKG14UmVzb3VyY2VzLmdldCgiYWxsQ2hhbmdlc0xvc3QiKSxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMucmVkaXJlY3REaWFsb2dTaG93aW5nPSExfSksYyxteFJlc291cmNlcy5nZXQoImNhbmNlbCIpLG14UmVzb3VyY2VzLmdldCgiZGlzY2FyZENoYW5nZXMiKSk6YygpfSk7bnVsbCE9YT90aGlzLmlzTW9kaWZpZWQoKT90aGlzLnVpLmNvbmZpcm0oYyxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RoaXMucmVkaXJlY3REaWFsb2dTaG93aW5nPSExO2EoKX0pLG0sbXhSZXNvdXJjZXMuZ2V0KCJjYW5jZWwiKSxteFJlc291cmNlcy5nZXQoImRpc2NhcmRDaGFuZ2VzIikpOnRoaXMudWkuY29uZmlybShjLG0sbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt0aGlzLnJlZGlyZWN0RGlhbG9nU2hvd2luZz0hMTthKCl9KSk6dGhpcy51aS5hbGVydChteFJlc291cmNlcy5nZXQoInJlZGlyZWN0VG9OZXdBcHAiKSwKbSl9fTtEcmF3aW9GaWxlLnByb3RvdHlwZS5oYW5kbGVGaWxlU3VjY2Vzcz1mdW5jdGlvbihhKXt0aGlzLnVpLnNwaW5uZXIuc3RvcCgpO3RoaXMudWkuZ2V0Q3VycmVudEZpbGUoKT09dGhpcyYmKHRoaXMuaXNNb2RpZmllZCgpP3RoaXMuZmlsZUNoYW5nZWQoKTphPyh0aGlzLmlzVHJhc2hlZCgpP3RoaXMuYWRkQWxsU2F2ZWRTdGF0dXMobXhVdGlscy5odG1sRW50aXRpZXMobXhSZXNvdXJjZXMuZ2V0KHRoaXMuYWxsQ2hhbmdlc1NhdmVkS2V5KSkrIiAoIitteFV0aWxzLmh0bWxFbnRpdGllcyhteFJlc291cmNlcy5nZXQoImZpbGVNb3ZlZFRvVHJhc2giKSkrIikiKTp0aGlzLmFkZEFsbFNhdmVkU3RhdHVzKCksbnVsbCE9dGhpcy5zeW5jJiYodGhpcy5zeW5jLnJlc2V0VXBkYXRlU3RhdHVzVGhyZWFkKCksdGhpcy5zeW5jLnJlbW90ZUZpbGVDaGFuZ2VkJiYodGhpcy5zeW5jLnJlbW90ZUZpbGVDaGFuZ2VkPSExLHRoaXMuc3luYy5maWxlQ2hhbmdlZE5vdGlmeSgpKSkpOnRoaXMudWkuZWRpdG9yLnNldFN0YXR1cygiIikpfTsKRHJhd2lvRmlsZS5wcm90b3R5cGUuaGFuZGxlRmlsZUVycm9yPWZ1bmN0aW9uKGEsZCl7dGhpcy51aS5zcGlubmVyLnN0b3AoKTtpZih0aGlzLnVpLmdldEN1cnJlbnRGaWxlKCk9PXRoaXMpaWYodGhpcy5pbkNvbmZsaWN0U3RhdGUpdGhpcy5oYW5kbGVDb25mbGljdEVycm9yKGEsZCk7ZWxzZSBpZih0aGlzLmlzTW9kaWZpZWQoKSYmdGhpcy5hZGRVbnNhdmVkU3RhdHVzKGEpLGQpdGhpcy51aS5oYW5kbGVFcnJvcihhLG51bGwhPWE/bXhSZXNvdXJjZXMuZ2V0KCJlcnJvclNhdmluZ0ZpbGUiKTpudWxsKTtlbHNlIGlmKCF0aGlzLmlzTW9kaWZpZWQoKSl7dmFyIGY9bnVsbCE9YT9udWxsIT1hLmVycm9yP2EuZXJyb3IubWVzc2FnZTphLm1lc3NhZ2U6bnVsbDtudWxsIT1mJiY2MDxmLmxlbmd0aCYmKGY9Zi5zdWJzdHJpbmcoMCw2MCkrIi4uLiIpO3RoaXMudWkuZWRpdG9yLnNldFN0YXR1cygnPGRpdiBjbGFzcz0iZ2VTdGF0dXNBbGVydCIgc3R5bGU9ImN1cnNvcjpwb2ludGVyO292ZXJmbG93OmhpZGRlbjsiPicrCm14VXRpbHMuaHRtbEVudGl0aWVzKG14UmVzb3VyY2VzLmdldCgiZXJyb3IiKSkrKG51bGwhPWY/IiAoIitteFV0aWxzLmh0bWxFbnRpdGllcyhmKSsiKSI6IiIpKyI8L2Rpdj4iKX19OwpEcmF3aW9GaWxlLnByb3RvdHlwZS5oYW5kbGVDb25mbGljdEVycm9yPWZ1bmN0aW9uKGEsZCl7dmFyIGY9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt0aGlzLmhhbmRsZUZpbGVTdWNjZXNzKCEwKX0pLGM9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7dGhpcy5oYW5kbGVGaWxlRXJyb3IoYSwhMCl9KSxtPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dGhpcy51aS5zcGlubmVyLnNwaW4oZG9jdW1lbnQuYm9keSxteFJlc291cmNlcy5nZXQoInNhdmluZyIpKSYmKHRoaXMudWkuZWRpdG9yLnNldFN0YXR1cygiIiksdGhpcy5zYXZlKCEwLGYsYyxudWxsLCEwLHRoaXMuY29uc3RydWN0b3IhPUdpdEh1YkZpbGUmJnRoaXMuY29uc3RydWN0b3IhPUdpdExhYkZpbGV8fG51bGw9PWE/bnVsbDphLmNvbW1pdE1lc3NhZ2UpKX0pLGs9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt0aGlzLnVpLnNwaW5uZXIuc3Bpbihkb2N1bWVudC5ib2R5LG14UmVzb3VyY2VzLmdldCgidXBkYXRpbmdEb2N1bWVudCIpKSYmCnRoaXMuc3luY2hyb25pemVGaWxlKG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dGhpcy51aS5zcGlubmVyLnN0b3AoKTt0aGlzLnVpLnNwaW5uZXIuc3Bpbihkb2N1bWVudC5ib2R5LG14UmVzb3VyY2VzLmdldCgic2F2aW5nIikpJiZ0aGlzLnNhdmUoITAsZixjLG51bGwsbnVsbCx0aGlzLmNvbnN0cnVjdG9yIT1HaXRIdWJGaWxlJiZ0aGlzLmNvbnN0cnVjdG9yIT1HaXRMYWJGaWxlfHxudWxsPT1hP251bGw6YS5jb21taXRNZXNzYWdlKX0pLGMpfSk7Im5vbmUiPT1EcmF3aW9GaWxlLlNZTkM/dGhpcy5zaG93Q29weURpYWxvZyhmLGMsbSk6dGhpcy5pbnZhbGlkQ2hlY2tzdW0/dGhpcy5zaG93UmVmcmVzaERpYWxvZyhmLGMsdGhpcy5nZXRFcnJvck1lc3NhZ2UoYSkpOmQ/dGhpcy5zaG93Q29uZmxpY3REaWFsb2cobSxrKTp0aGlzLmFkZENvbmZsaWN0U3RhdHVzKG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dGhpcy51aS5lZGl0b3Iuc2V0U3RhdHVzKG14VXRpbHMuaHRtbEVudGl0aWVzKG14UmVzb3VyY2VzLmdldCgidXBkYXRpbmdEb2N1bWVudCIpKSk7CnRoaXMuc3luY2hyb25pemVGaWxlKGYsYyl9KSx0aGlzLmdldEVycm9yTWVzc2FnZShhKSl9O0RyYXdpb0ZpbGUucHJvdG90eXBlLmdldEVycm9yTWVzc2FnZT1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YT9udWxsIT1hLmVycm9yP2EuZXJyb3IubWVzc2FnZTphLm1lc3NhZ2U6bnVsbH07RHJhd2lvRmlsZS5wcm90b3R5cGUuaXNPdmVyZHVlPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPXRoaXMuYWdlU3RhcnQmJkRhdGUubm93KCktdGhpcy5hZ2VTdGFydC5nZXRUaW1lKCk+PXRoaXMudWkud2FybkludGVydmFsfTsKRHJhd2lvRmlsZS5wcm90b3R5cGUuZmlsZUNoYW5nZWQ9ZnVuY3Rpb24oKXt0aGlzLmxhc3RDaGFuZ2VkPW5ldyBEYXRlO3RoaXMuc2V0TW9kaWZpZWQoITApO3RoaXMuaXNBdXRvc2F2ZSgpPyh0aGlzLmFkZEFsbFNhdmVkU3RhdHVzKG14VXRpbHMuaHRtbEVudGl0aWVzKG14UmVzb3VyY2VzLmdldCgic2F2aW5nIikpKyIuLi4iKSx0aGlzLnVpLnNjaGVkdWxlU2FuaXR5Q2hlY2soKSxudWxsPT10aGlzLmFnZVN0YXJ0JiYodGhpcy5hZ2VTdGFydD1uZXcgRGF0ZSksdGhpcy5hdXRvc2F2ZSh0aGlzLmF1dG9zYXZlRGVsYXksdGhpcy5tYXhBdXRvc2F2ZURlbGF5LG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3RoaXMudWkuc3RvcFNhbml0eUNoZWNrKCk7bnVsbD09dGhpcy5hdXRvc2F2ZVRocmVhZD8odGhpcy5oYW5kbGVGaWxlU3VjY2VzcyghMCksdGhpcy5hZ2VTdGFydD1udWxsKTp0aGlzLmlzTW9kaWZpZWQoKSYmKHRoaXMudWkuc2NoZWR1bGVTYW5pdHlDaGVjaygpLHRoaXMuYWdlU3RhcnQ9CnRoaXMubGFzdENoYW5nZWQpfSksbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7dGhpcy5oYW5kbGVGaWxlRXJyb3IoYSl9KSkpOih0aGlzLmFnZVN0YXJ0PW51bGwsdGhpcy5pc0F1dG9zYXZlT3B0aW9uYWwoKSYmdGhpcy51aS5lZGl0b3IuYXV0b3NhdmV8fHRoaXMuaW5Db25mbGljdFN0YXRlfHx0aGlzLmFkZFVuc2F2ZWRTdGF0dXMoKSl9O0RyYXdpb0ZpbGUucHJvdG90eXBlLmNyZWF0ZVNlY3JldD1mdW5jdGlvbihhLGQpe3ZhciBmPUVkaXRvci5ndWlkKDMyKTtudWxsIT10aGlzLnN5bmM/dGhpcy5zeW5jLmNyZWF0ZVRva2VuKGYsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYyl7YShmLGMpfSksZCk6YShmKX07CkRyYXdpb0ZpbGUucHJvdG90eXBlLmZpbGVTYXZlZD1mdW5jdGlvbihhLGQsZixjLG0pe3RoaXMubGFzdFNhdmVkPW5ldyBEYXRlO3RoaXMuYWdlU3RhcnQ9bnVsbDt0cnl7dGhpcy5zdGF0cy5zYXZlZCsrLHRoaXMuaW52YWxpZENoZWNrc3VtPXRoaXMuaW5Db25mbGljdFN0YXRlPSExLG51bGw9PXRoaXMuc3luYz8odGhpcy5zaGFkb3dEYXRhPWEsdGhpcy5zaGFkb3dQYWdlcz1udWxsLG51bGwhPWYmJmYoKSk6dGhpcy5zeW5jLmZpbGVTYXZlZCh0aGlzLnVpLmdldFBhZ2VzRm9yTm9kZShteFV0aWxzLnBhcnNlWG1sKGEpLmRvY3VtZW50RWxlbWVudCksZCxmLGMsbSl9Y2F0Y2goYil7dGhpcy5pbnZhbGlkQ2hlY2tzdW09dGhpcy5pbkNvbmZsaWN0U3RhdGU9ITA7dGhpcy5kZXNjcmlwdG9yQ2hhbmdlZCgpO251bGwhPWMmJmMoYik7dHJ5e2lmKHRoaXMuZXJyb3JSZXBvcnRzRW5hYmxlZCl0aGlzLnNlbmRFcnJvclJlcG9ydCgiRXJyb3IgaW4gZmlsZVNhdmVkIixudWxsLGIpO2Vsc2V7dmFyIGs9CnRoaXMuZ2V0Q3VycmVudFVzZXIoKSxxPW51bGwhPWs/ay5pZDoidW5rbm93biI7RWRpdG9yVWkubG9nRXJyb3IoIkVycm9yIGluIGZpbGVTYXZlZCIsbnVsbCx0aGlzLmdldE1vZGUoKSsiLiIrdGhpcy5nZXRJZCgpLHEsYil9fWNhdGNoKGUpe319fTsKRHJhd2lvRmlsZS5wcm90b3R5cGUuYXV0b3NhdmU9ZnVuY3Rpb24oYSxkLGYsYyl7bnVsbD09dGhpcy5sYXN0QXV0b3NhdmUmJih0aGlzLmxhc3RBdXRvc2F2ZT1EYXRlLm5vdygpKTthPURhdGUubm93KCktdGhpcy5sYXN0QXV0b3NhdmU8ZD9hOjA7dGhpcy5jbGVhckF1dG9zYXZlKCk7dmFyIG09d2luZG93LnNldFRpbWVvdXQobXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXt0aGlzLmxhc3RBdXRvc2F2ZT1udWxsO3RoaXMuYXV0b3NhdmVUaHJlYWQ9PW0mJih0aGlzLmF1dG9zYXZlVGhyZWFkPW51bGwpO2lmKHRoaXMuaXNNb2RpZmllZCgpJiZ0aGlzLmlzQXV0b3NhdmVOb3coKSl7dmFyIGE9dGhpcy5pc0F1dG9zYXZlUmV2aXNpb24oKTthJiYodGhpcy5sYXN0QXV0b3NhdmVSZXZpc2lvbj0obmV3IERhdGUpLmdldFRpbWUoKSk7dGhpcy5zYXZlKGEsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7dGhpcy5hdXRvc2F2ZUNvbXBsZXRlZCgpO251bGwhPWYmJmYoYSl9KSxteFV0aWxzLmJpbmQodGhpcywKZnVuY3Rpb24oYSl7bnVsbCE9YyYmYyhhKX0pKX1lbHNlIHRoaXMuaXNNb2RpZmllZCgpfHx0aGlzLnVpLmVkaXRvci5zZXRTdGF0dXMoIiIpLG51bGwhPWYmJmYobnVsbCl9KSxhKTt0aGlzLmF1dG9zYXZlVGhyZWFkPW19O0RyYXdpb0ZpbGUucHJvdG90eXBlLmlzQXV0b3NhdmVOb3c9ZnVuY3Rpb24oKXtyZXR1cm4hMH07RHJhd2lvRmlsZS5wcm90b3R5cGUuYXV0b3NhdmVDb21wbGV0ZWQ9ZnVuY3Rpb24oKXt9O0RyYXdpb0ZpbGUucHJvdG90eXBlLmNsZWFyQXV0b3NhdmU9ZnVuY3Rpb24oKXtudWxsIT10aGlzLmF1dG9zYXZlVGhyZWFkJiYod2luZG93LmNsZWFyVGltZW91dCh0aGlzLmF1dG9zYXZlVGhyZWFkKSx0aGlzLmF1dG9zYXZlVGhyZWFkPW51bGwpfTsKRHJhd2lvRmlsZS5wcm90b3R5cGUuaXNBdXRvc2F2ZVJldmlzaW9uPWZ1bmN0aW9uKCl7dmFyIGE9KG5ldyBEYXRlKS5nZXRUaW1lKCk7cmV0dXJuIG51bGw9PXRoaXMubGFzdEF1dG9zYXZlUmV2aXNpb258fGEtdGhpcy5sYXN0QXV0b3NhdmVSZXZpc2lvbj50aGlzLm1heEF1dG9zYXZlUmV2aXNpb25EZWxheX07RHJhd2lvRmlsZS5wcm90b3R5cGUuZGVzY3JpcHRvckNoYW5nZWQ9ZnVuY3Rpb24oKXt0aGlzLmZpcmVFdmVudChuZXcgbXhFdmVudE9iamVjdCgiZGVzY3JpcHRvckNoYW5nZWQiKSl9O0RyYXdpb0ZpbGUucHJvdG90eXBlLmNvbnRlbnRDaGFuZ2VkPWZ1bmN0aW9uKCl7dGhpcy5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QoImNvbnRlbnRDaGFuZ2VkIikpfTsKRHJhd2lvRmlsZS5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24oYSl7dGhpcy51cGRhdGVGaWxlRGF0YSgpO3RoaXMuc3RhdHMuY2xvc2VkKys7dGhpcy5pc0F1dG9zYXZlKCkmJnRoaXMuaXNNb2RpZmllZCgpJiZ0aGlzLnNhdmUodGhpcy5pc0F1dG9zYXZlUmV2aXNpb24oKSxudWxsLG51bGwsYSk7dGhpcy5kZXN0cm95KCl9O0RyYXdpb0ZpbGUucHJvdG90eXBlLmhhc1NhbWVFeHRlbnNpb249ZnVuY3Rpb24oYSxkKXtpZihudWxsIT1hJiZudWxsIT1kKXt2YXIgZj1hLmxhc3RJbmRleE9mKCIuIiksYz0wPGY/YS5zdWJzdHJpbmcoZik6IiIsZj1kLmxhc3RJbmRleE9mKCIuIik7cmV0dXJuIGM9PT0oMDxmP2Quc3Vic3RyaW5nKGYpOiIiKX1yZXR1cm4gYT09ZH07CkRyYXdpb0ZpbGUucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVycz1mdW5jdGlvbigpe251bGwhPXRoaXMuY2hhbmdlTGlzdGVuZXImJih0aGlzLnVpLmVkaXRvci5ncmFwaC5tb2RlbC5yZW1vdmVMaXN0ZW5lcih0aGlzLmNoYW5nZUxpc3RlbmVyKSx0aGlzLnVpLmVkaXRvci5ncmFwaC5yZW1vdmVMaXN0ZW5lcih0aGlzLmNoYW5nZUxpc3RlbmVyKSx0aGlzLnVpLnJlbW92ZUxpc3RlbmVyKHRoaXMuY2hhbmdlTGlzdGVuZXIpLHRoaXMuY2hhbmdlTGlzdGVuZXI9bnVsbCl9O0RyYXdpb0ZpbGUucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLnN0YXRzLmRlc3Ryb3llZCsrO3RoaXMuY2xlYXJBdXRvc2F2ZSgpO3RoaXMucmVtb3ZlTGlzdGVuZXJzKCk7bnVsbCE9dGhpcy5zeW5jJiYodGhpcy5zeW5jLmRlc3Ryb3koKSx0aGlzLnN5bmM9bnVsbCl9O0RyYXdpb0ZpbGUucHJvdG90eXBlLmNvbW1lbnRzU3VwcG9ydGVkPWZ1bmN0aW9uKCl7cmV0dXJuITF9OwpEcmF3aW9GaWxlLnByb3RvdHlwZS5jb21tZW50c1JlZnJlc2hOZWVkZWQ9ZnVuY3Rpb24oKXtyZXR1cm4hMH07RHJhd2lvRmlsZS5wcm90b3R5cGUuY29tbWVudHNTYXZlTmVlZGVkPWZ1bmN0aW9uKCl7cmV0dXJuITF9O0RyYXdpb0ZpbGUucHJvdG90eXBlLmdldENvbW1lbnRzPWZ1bmN0aW9uKGEsZCl7YShbXSl9O0RyYXdpb0ZpbGUucHJvdG90eXBlLmFkZENvbW1lbnQ9ZnVuY3Rpb24oYSxkLGYpe2QoRGF0ZS5ub3coKSl9O0RyYXdpb0ZpbGUucHJvdG90eXBlLmNhblJlcGx5VG9SZXBsaWVzPWZ1bmN0aW9uKCl7cmV0dXJuITB9O0RyYXdpb0ZpbGUucHJvdG90eXBlLmNhbkNvbW1lbnQ9ZnVuY3Rpb24oKXtyZXR1cm4hMH07RHJhd2lvRmlsZS5wcm90b3R5cGUubmV3Q29tbWVudD1mdW5jdGlvbihhLGQpe3JldHVybiBuZXcgRHJhd2lvQ29tbWVudCh0aGlzLG51bGwsYSxEYXRlLm5vdygpLERhdGUubm93KCksITEsZCl9O0xvY2FsRmlsZT1mdW5jdGlvbihhLGQsZixjKXtEcmF3aW9GaWxlLmNhbGwodGhpcyxhLGQpO3RoaXMudGl0bGU9Zjt0aGlzLm1vZGU9Yz9udWxsOkFwcC5NT0RFX0RFVklDRX07bXhVdGlscy5leHRlbmQoTG9jYWxGaWxlLERyYXdpb0ZpbGUpO0xvY2FsRmlsZS5wcm90b3R5cGUuaXNBdXRvc2F2ZT1mdW5jdGlvbigpe3JldHVybiExfTtMb2NhbEZpbGUucHJvdG90eXBlLmdldE1vZGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tb2RlfTtMb2NhbEZpbGUucHJvdG90eXBlLmdldFRpdGxlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGl0bGV9O0xvY2FsRmlsZS5wcm90b3R5cGUuaXNSZW5hbWFibGU9ZnVuY3Rpb24oKXtyZXR1cm4hMH07TG9jYWxGaWxlLnByb3RvdHlwZS5zYXZlPWZ1bmN0aW9uKGEsZCxmKXt0aGlzLnNhdmVBcyh0aGlzLnRpdGxlLGQsZil9O0xvY2FsRmlsZS5wcm90b3R5cGUuc2F2ZUFzPWZ1bmN0aW9uKGEsZCxmKXt0aGlzLnNhdmVGaWxlKGEsITEsZCxmKX07CkxvY2FsRmlsZS5wcm90b3R5cGUuc2F2ZUZpbGU9ZnVuY3Rpb24oYSxkLGYsYyl7dGhpcy50aXRsZT1hO3RoaXMudXBkYXRlRmlsZURhdGEoKTtkPXRoaXMuZ2V0RGF0YSgpO3ZhciBtPXRoaXMudWkudXNlQ2FudmFzRm9yRXhwb3J0JiYvKFwucG5nKSQvaS50ZXN0KHRoaXMuZ2V0VGl0bGUoKSksaz1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihjKXtpZih0aGlzLnVpLmlzT2ZmbGluZUFwcCgpfHx0aGlzLnVpLmlzTG9jYWxGaWxlU2F2ZSgpKXRoaXMudWkuZG9TYXZlTG9jYWxGaWxlKGMsYSxtPyJpbWFnZS9wbmciOiJ0ZXh0L3htbCIsbSk7ZWxzZSBpZihjLmxlbmd0aDxNQVhfUkVRVUVTVF9TSVpFKXt2YXIgYj1hLmxhc3RJbmRleE9mKCIuIiksYj0wPGI/YS5zdWJzdHJpbmcoYisxKToieG1sIjsobmV3IG14WG1sUmVxdWVzdChTQVZFX1VSTCwiZm9ybWF0PSIrYisiJnhtbD0iK2VuY29kZVVSSUNvbXBvbmVudChjKSsiJmZpbGVuYW1lPSIrZW5jb2RlVVJJQ29tcG9uZW50KGEpKwoobT8iJmJpbmFyeT0xIjoiIikpKS5zaW11bGF0ZShkb2N1bWVudCwiX2JsYW5rIil9ZWxzZSB0aGlzLnVpLmhhbmRsZUVycm9yKHttZXNzYWdlOm14UmVzb3VyY2VzLmdldCgiZHJhd2luZ1Rvb0xhcmdlIil9LG14UmVzb3VyY2VzLmdldCgiZXJyb3IiKSxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe214VXRpbHMucG9wdXAoYyl9KSk7dGhpcy5zZXRNb2RpZmllZCghMSk7dGhpcy5jb250ZW50Q2hhbmdlZCgpO251bGwhPWYmJmYoKX0pO20/KGQ9dGhpcy51aS5nZXRQbmdGaWxlUHJvcGVydGllcyh0aGlzLnVpLmZpbGVOb2RlKSx0aGlzLnVpLmdldEVtYmVkZGVkUG5nKG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe2soYSl9KSxjLHRoaXMudWkuZ2V0Q3VycmVudEZpbGUoKSE9dGhpcz90aGlzLmdldERhdGEoKTpudWxsLGQuc2NhbGUsZC5ib3JkZXIpKTprKGQpfTsKTG9jYWxGaWxlLnByb3RvdHlwZS5yZW5hbWU9ZnVuY3Rpb24oYSxkLGYpe3RoaXMudGl0bGU9YTt0aGlzLmRlc2NyaXB0b3JDaGFuZ2VkKCk7bnVsbCE9ZCYmZCgpfTtMb2NhbEZpbGUucHJvdG90eXBlLm9wZW49ZnVuY3Rpb24oKXt0aGlzLnVpLnNldEZpbGVEYXRhKHRoaXMuZ2V0RGF0YSgpKTt0aGlzLmluc3RhbGxMaXN0ZW5lcnMoKX07KGZ1bmN0aW9uKCl7InVuZGVmaW5lZCIhPT10eXBlb2YgaHRtbDQmJihodG1sNC5BVFRSSUJTWyJzcGFuOjpkYXRhLWx1Y2lkLWNvbnRlbnQiXT0wLGh0bWw0LkFUVFJJQlNbInNwYW46OmRhdGEtbHVjaWQtdHlwZSJdPTApO0VkaXRvci5wcm90b3R5cGUuYXBwTmFtZT0iZGlhZ3JhbXMubmV0IjtFZGl0b3IucHJvdG90eXBlLmRpYWdyYW1GaWxlVHlwZXM9W3tkZXNjcmlwdGlvbjoiZGlhZ3JhbVhtbERlc2MiLGV4dGVuc2lvbjoiZHJhd2lvIn0se2Rlc2NyaXB0aW9uOiJkaWFncmFtUG5nRGVzYyIsZXh0ZW5zaW9uOiJwbmcifSx7ZGVzY3JpcHRpb246ImRpYWdyYW1TdmdEZXNjIixleHRlbnNpb246InN2ZyJ9LHtkZXNjcmlwdGlvbjoiZGlhZ3JhbUh0bWxEZXNjIixleHRlbnNpb246Imh0bWwifSx7ZGVzY3JpcHRpb246ImRpYWdyYW1YbWxEZXNjIixleHRlbnNpb246InhtbCJ9XTtFZGl0b3IucHJvdG90eXBlLmxpYnJhcnlGaWxlVHlwZXM9W3tkZXNjcmlwdGlvbjoiTGlicmFyeSAoLmRyYXdpb2xpYiwgLnhtbCkiLApleHRlbnNpb25zOlsiZHJhd2lvbGliIiwieG1sIl19XTtFZGl0b3IucHJvdG90eXBlLmZpbGVFeHRlbnNpb25zPVt7ZXh0OiJodG1sIix0aXRsZToiZmlsZXR5cGVIdG1sIn0se2V4dDoicG5nIix0aXRsZToiZmlsZXR5cGVQbmcifSx7ZXh0OiJzdmciLHRpdGxlOiJmaWxldHlwZVN2ZyJ9XTtFZGl0b3IuY2xvc2VJbWFnZT1teENsaWVudC5JU19TVkc/ImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQmtBQUFBWkNBTUFBQUR6TjNWUkFBQUFwVkJNVkVVQUFBRC8vLy9rNU9ULy8vOEFBQUIxZFhYTXpNejkvZjM5L2YzNysvdjUrZm4rL3Y3Ly8vOWlZbUphV2xxRmhZV25wNmVqbzZPSGg0Zi8vLy8vLy8vLy8vLy8vLy83Ky92NStmbng4ZkgvLy84QUFBRC8vLzhiR3h2NysvdjUrZmtvS0NnaElTRkRRME1ZR0JqaDRlSFkyTmpiMjl0UVVGQnZiMjlIUjBjL1B6ODJOallyS3l1L3Y3OFNFaEx1N3U3czdPelYxZFZWVlZVN096c1ZGUlhBdjc4UUVCQnpxZWhNQUFBQUczUlNUbE1BQS83cC92ejV4WmxyVGlQTC92NzgrL3Y3K09YZDJUWVFEczhMNzBaYkFBQUJLVWxFUVZRb3ozVlMxM0xDTUJCVVhIQ2hkOGl1a0RzbFFDaEovdi9UY2hhRzRjWFMrT1NiMWM3dHJVN1Y2ME9wZFJ6Mlp0TlpMNHpYTmxjTjhCRXRTRzYrTnhJWGtlUlBvQnVRMWNqdlozMS9WSkZCMTBJU2xpNmRpWWZIOGlZTzNXVU5DY05sQjBnVHJYT3RreFRvME8xYUtLaUJCTWhodjJNTkJRS29pQTV3eGxabzBKRHpEM0FZS2JXYWN5ajNmczAxd3hleTBweUVQK1I4cFdLV1hvcXRJWjBERGc1cGJraTlrckVLT2E2TFZEUXNkb1hFc2k0NlpxaDY5S0Z6N0IxdTdIYjJ5RFY4ZmlyWERLQmxaNFVGaXN3S0dSaFhUUzkzL0VDSzd5eG5KMytTM3kvVGhwTytjZlNEMDE3bnFhMThhYXNhYlUwL3Q3ZCt0azAvMW9NRUoxTmFENjdpd2RGNjhPYWJGU0xuK2VIYjArdmp5K3VrOGJyOWZkcmZ0SDBPMm1lbmZkNytBUWZZTS9sTmpvREhBQUFBQUVsRlRrU3VRbUNDIjoKSU1BR0VfUEFUSCsiL2RlbGV0ZS5wbmciO0VkaXRvci5wbHVzSW1hZ2U9bXhDbGllbnQuSVNfU1ZHPyJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUFvQUFBQUtDQVlBQUFDTk1zKzlBQUFBR1hSRldIUlRiMlowZDJGeVpRQkJaRzlpWlNCSmJXRm5aVkpsWVdSNWNjbGxQQUFBQXlKcFZGaDBXRTFNT21OdmJTNWhaRzlpWlM1NGJYQUFBQUFBQUR3L2VIQmhZMnRsZENCaVpXZHBiajBpNzd1L0lpQnBaRDBpVnpWTk1FMXdRMlZvYVVoNmNtVlRlazVVWTNwcll6bGtJajgrSUR4NE9uaHRjRzFsZEdFZ2VHMXNibk02ZUQwaVlXUnZZbVU2Ym5NNmJXVjBZUzhpSUhnNmVHMXdkR3M5SWtGa2IySmxJRmhOVUNCRGIzSmxJRFV1TUMxak1EWXdJRFl4TGpFek5EYzNOeXdnTWpBeE1DOHdNaTh4TWkweE56b3pNam93TUNBZ0lDQWdJQ0FnSWo0Z1BISmtaanBTUkVZZ2VHMXNibk02Y21SbVBTSm9kSFJ3T2k4dmQzZDNMbmN6TG05eVp5OHhPVGs1THpBeUx6SXlMWEprWmkxemVXNTBZWGd0Ym5NaklqNGdQSEprWmpwRVpYTmpjbWx3ZEdsdmJpQnlaR1k2WVdKdmRYUTlJaUlnZUcxc2JuTTZlRzF3UFNKb2RIUndPaTh2Ym5NdVlXUnZZbVV1WTI5dEwzaGhjQzh4TGpBdklpQjRiV3h1Y3pwNGJYQk5UVDBpYUhSMGNEb3ZMMjV6TG1Ga2IySmxMbU52YlM5NFlYQXZNUzR3TDIxdEx5SWdlRzFzYm5NNmMzUlNaV1k5SW1oMGRIQTZMeTl1Y3k1aFpHOWlaUzVqYjIwdmVHRndMekV1TUM5elZIbHdaUzlTWlhOdmRYSmpaVkpsWmlNaUlIaHRjRHBEY21WaGRHOXlWRzl2YkQwaVFXUnZZbVVnVUdodmRHOXphRzl3SUVOVE5TQk5ZV05wYm5SdmMyZ2lJSGh0Y0UxTk9rbHVjM1JoYm1ObFNVUTlJbmh0Y0M1cGFXUTZNRGRDTVRkRU5qVkNPRU00TVRGRk5EbENSalZCTkRkQ09EVTVOak5CTlVNaUlIaHRjRTFOT2tSdlkzVnRaVzUwU1VROUluaHRjQzVrYVdRNk1EZENNVGRFTmpaQ09FTTRNVEZGTkRsQ1JqVkJORGRDT0RVNU5qTkJOVU1pUGlBOGVHMXdUVTA2UkdWeWFYWmxaRVp5YjIwZ2MzUlNaV1k2YVc1emRHRnVZMlZKUkQwaWVHMXdMbWxwWkRvd04wSXhOMFEyTTBJNFF6Z3hNVVUwT1VKR05VRTBOMEk0TlRrMk0wRTFReUlnYzNSU1pXWTZaRzlqZFcxbGJuUkpSRDBpZUcxd0xtUnBaRG93TjBJeE4wUTJORUk0UXpneE1VVTBPVUpHTlVFME4wSTROVGsyTTBFMVF5SXZQaUE4TDNKa1pqcEVaWE5qY21sd2RHbHZiajRnUEM5eVpHWTZVa1JHUGlBOEwzZzZlRzF3YldWMFlUNGdQRDk0Y0dGamEyVjBJR1Z1WkQwaWNpSS9QdGpyam1nQUFBQXRTVVJCVkhqYVl2ei8vejhETWlndkx3Y0xkSFoyTWlLTE16RVFDYWl2a0xHc3JPdy9kVTBjQXI0R0NEQUFSUXNRYlRGcnYxMEFBQUFBU1VWT1JLNUNZSUk9IjoKSU1BR0VfUEFUSCsiL3BsdXMucG5nIjtFZGl0b3Iuc3BpbkltYWdlPW14Q2xpZW50LklTX1NWRz8iZGF0YTppbWFnZS9naWY7YmFzZTY0LFIwbEdPRGxoREFBTUFQVXhBRVZyaVZwN2xtQ0FtbUdCbTJPQ25HbUhuM09QcG5lU3FZS2JyNE9jc0lTY3NJMmt0bzZrdDQ2bHQ1S251Wm10dnBxdXZwdXZ2NTZ5d2FDendxSzF4S3U3eWF5OXlxKy96TEhBemJmRjBiakcwYnpKMUx6SzFNRE4xOGpUMjhuVDNNM1gzdEhhNGRUYzQ5WGQ1TmpmNWRuZzV0M2s2ZC9sNnVEbTZ1cnU4ZTd4OC9EejlmVDI5L2I0K1BqNStmajUrdnI2K3YvLy93QUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUNINUJBa0tBREVBSWY4TFRrVlVVME5CVUVVeUxqQURBUUFBQUN3QUFBQUFEQUFNQUFBR1I4Q1ljRWdzT2dZQUlheDRDQ1F1UWxkckNCRXNpSzhWUzJob0ZHT3JsSkRBK2NaUXdrTG5xeW9KRlpLdmlTUzBJQ3JFMGVjMGpEQXdJaVVlR3lCRkdoTVBGQmtoWm8xQkFDSDVCQWtLQUM0QUxBQUFBQUFNQUF3QWhWQjBrRlIzazFWNGsyQ0FtbVdFblc2TG8zS09wWGVTcUgyWHJJT2NzSVNkc0ltaHRJcWh0SkNtdUpHbnVadXd2NTJ3d0oreXdaK3l3cW02eUxIQnpiTEN6clhFejdmRjBMbkgwcnJJMHI3TDFiL00xc1hSMmNmVDI4clYzY3pXM3MvWjROZmU1TnZpNk9EbTZ1TG42K0xuN09MbzdPWHE3ZWZzNyt6dzh1L3k5UER5OVBYMytQcjcrLy8vL3dBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQVpEUUpkd1NDeEdEQUlBb1ZGa0ZCd1lTeUl3R0U0T2tDSnhJZEc2V2tKRXg4c1NLajdlbGZCQjBhNVNRZzFFUTBTVlZNUEtoRE02aVVJa1JSNFpGeHNnSmw2SlFRQWgrUVFKQ2dBeEFDd0FBQUFBREFBTUFJVkdhNGxjZlpkamdweGtnNTFuaHA1dWk2TjNrcWg1bEtxRm5iR0huN0tJb0xPUXA3aVJwN21TcUxtVHFicWFycjZicjcrZnNzR2l0Y09pdGNTdXZzdXV2OHV3d015enc4NjF4TkM1eDlLNng5Sy96TmJEenRqRTBObkcwZHJKMU56UTJlRFMyK0xUMitMVjNlUFo0T2JhNGViYjR1ZmM0K2ptNis3dDhQTHQ4UFB0OGZQeDgvWHg5UFgwOXZmMTkvajMrUG4vLy84QUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFHUThDWWNFZ3NVaFFGZ2dGU2pDUW1uRTFqY0JocUdCWGlJdUFRU2k3RkdFSWdmSXpDRm9DWEZDWmlQTzBoS0JNaXdsN0VUNmVVWXFsV0xrVW5JU0ltS0MxeGJVRUFJZmtFQ1FvQU1nQXNBQUFBQUF3QURBQ0ZUbktQVDNLUFZIYVRZb0tjYjR5amNZNmxlWlNwZjVtdGdadXZoNSt5aXFHMGk2SzFqcVcza2FlNW5ySEJuckxCbjdMQ29MUENvYlREcWJySXFydklzOExPdE1QUHRjUFB0Y1RQdU1iUnVjZlN2Y3JVdnN2VndNeld4ZEhheWRUY3l0WGR6TmJlemRmZjBkcmgyT0RsMitMbjNlVHA0T2JxNHVqczVPbnQ1dXZ1Nk8zdzZ1N3c2dTd4Ny9MMDl2ajUrdnI3K3Z2Ny8vLy9BQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQmtkQW1YQklMSEljaWNPQ1VxeEVMS0tQeEtBWWdpWWQ0b01BRVdvOFJWbWpJTVNjd2htQmNKTUtYd0xDRUNtTUdBaFBJMVFSd0JpYVNpeENNREZoTFNvckxpOHdZWXhDUVFBaCtRUUpDZ0F4QUN3QUFBQUFEQUFNQUlWWmVwVmdnSnBoZ1p0bmhwNXZqS04ya2FoM2txbUJtcStLb2JTTG9yV05wTGFScDdtV3E3eWJyNytnczhLaXRjU2t0c1dudU1hbnVjZXh3TTJ5d2M2M3h0RzZ5Tk85eXRTK3l0Vy96TmJEejlqSDB0dkwxZDNOMTk3UzIrTFUzT1BVM2VQVjNlVFgzK1hhNGVmYjR1ZmQ1T25sNnU3cjd2SHM3L0x0OFBMdzgvWHk5UGJ5OWZiMDlmZjIrUG4zK1BuNit2ci8vLzhBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUdTTUNZY0Vnc2Vpd1NSK1JTN0dBNEpGR0Y4UmlXTmlFaUpURVJna2pGR0FRaC9LVENHb0p3cEFwbkJrSVRLcndvQ0ZXbkZsRWhhQXhYTEM5Q0J3QUdSUzR3UWdFTFlZMUNRUUFoK1FRSkNnQXpBQ3dBQUFBQURBQU1BSVZNY0k1U2RaRmhnWnR0aTZKd2phUjRrNm1BbWE2Q202K0tvYlNMb3JXTG83V05vN2FQcHJlZHNNQ2VzY0dpdE1PaXRjU211TWFxdThpeHdjMnp3czYzeGRDNHh0RzV4OUs5eXRYQXpkZkN6dGpGME5uRjBkcksxZDNNMXQ3UDJOL1AyZURUMitMWDMrWGU1T25oNSt2aTUrdmo2T3prNmUzbjdPL283Ty9xN3ZIczcvTHQ4UFB1OGZQeDgvWDMrUG42K3Z2NysvdjgvUHovLy84QUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBR1JjQ1pjRWdzbWtJYlRPWlRMSWxHcVpObmNobTJTQ2dpSjZJUnFsakZtUVVpWElWbm9JVFFkZTRjaEM5WStMRVF4bVRGUmtGU05GQXFEQU1JUlFvQ0FBRUVEbWVMUVFBaCtRUUpDZ0F3QUN3QUFBQUFEQUFNQUlWWGVaUmVmcGxmZjVsaGdadHBoNTl5anFWMmthZUFtcTZGbmJHRm5yR0xvcldOcExhUXA3bVJxTG1ZcmIyZXNzR2dzOEtsdDhhcHVzaXR2Y3F1djh1MnhOQzd5Tk84eWRTOHl0VEF6ZGZCemRmTTF0N04xOTdRMmVEVTNPUFgzK1haNE9iWjRlYmM0K2pmNWVyZzVlcmc1dXZwN2ZEdThmUHY4dlR6OWZiMDl2ZjE5L2ozK1BuNCtmbjUrdnI2Ky92Ly8vOEFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUdSVUNZY0Vnc3Brd2pFS2hVVkoxUXNCTnAweG0yVml4aVNPTVJ2bHhGR0FjVEpvb2s1ZUVISWhRY3dwV0lrQUZRRUNrTnk5QVFXRnd5RUFrUFJRNEZBd1FJRTJsbFFRQWgrUVFKQ2dBdkFDd0FBQUFBREFBTUFJVk5jWTVTZFpGaWdwdHBoNkJ2aktOMGtLZDhscXVBbXErRW5iR0duN0tIbjdPTnBMYU9wYmVhcnIrY3NNQ2RzY0Nlc2NHaHRNT251TWF1dnN1endzNjB3ODYyeGRDOXl0Vy95OWEvek5iQ3p0akcwZHJIMHR2SzFOM00xdDdOMTkvVTNlUGI0dWZmNXVyajZPems2ZTNsNnU3bTZ1N283UERxN3ZEdDhQUHY4dlR3OHZUdzgvWDE5dmY2K3Z2Ly8vOEFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFHUThDWGNFZ3N2bHl0VlVwbEpMSklwU0VEVUVTRlRFTEJ3U2dDQ1FFVjQya2pERmlNbzR1UXNEQjJNa0xIb0VIVVREN0RSQUhDOFZBaVowUVNDZ1lJRHhoTmlVRUFPdz09IjoKSU1BR0VfUEFUSCsiL3NwaW4uZ2lmIjtFZGl0b3IuZ2xvYmVJbWFnZT0iZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQSE4yWnlCNGJXeHVjejBpYUhSMGNEb3ZMM2QzZHk1M015NXZjbWN2TWpBd01DOXpkbWNpSUhkcFpIUm9QU0l5TkNJZ2FHVnBaMmgwUFNJeU5DSWdkbWxsZDBKdmVEMGlNQ0F3SURJMElESTBJajQ4Y0dGMGFDQmtQU0pOTVRFdU9Ua2dNa00yTGpRM0lESWdNaUEyTGpRNElESWdNVEp6TkM0ME55QXhNQ0E1TGprNUlERXdRekUzTGpVeUlESXlJREl5SURFM0xqVXlJREl5SURFeVV6RTNMalV5SURJZ01URXVPVGtnTW5wdE5pNDVNeUEyYUMweUxqazFZeTB1TXpJdE1TNHlOUzB1TnpndE1pNDBOUzB4TGpNNExUTXVOVFlnTVM0NE5DNDJNeUF6TGpNM0lERXVPVEVnTkM0ek15QXpMalUyZWsweE1pQTBMakEwWXk0NE15QXhMaklnTVM0ME9DQXlMalV6SURFdU9URWdNeTQ1Tm1ndE15NDRNbU11TkRNdE1TNDBNeUF4TGpBNExUSXVOellnTVM0NU1TMHpMamsyZWswMExqSTJJREUwUXpRdU1TQXhNeTR6TmlBMElERXlMalk1SURRZ01USnpMakV0TVM0ek5pNHlOaTB5YURNdU16aGpMUzR3T0M0Mk5pMHVNVFFnTVM0ek1pMHVNVFFnTWlBd0lDNDJPQzR3TmlBeExqTTBMakUwSURKSU5DNHlObnB0TGpneUlESm9NaTQ1TldNdU16SWdNUzR5TlM0M09DQXlMalExSURFdU16Z2dNeTQxTmkweExqZzBMUzQyTXkwekxqTTNMVEV1T1MwMExqTXpMVE11TlRaNmJUSXVPVFV0T0VnMUxqQTRZeTQ1TmkweExqWTJJREl1TkRrdE1pNDVNeUEwTGpNekxUTXVOVFpET0M0NE1TQTFMalUxSURndU16VWdOaTQzTlNBNExqQXpJRGg2VFRFeUlERTVMamsyWXkwdU9ETXRNUzR5TFRFdU5EZ3RNaTQxTXkweExqa3hMVE11T1Rab015NDRNbU10TGpReklERXVORE10TVM0d09DQXlMamMyTFRFdU9URWdNeTQ1Tm5wTk1UUXVNelFnTVRSSU9TNDJObU10TGpBNUxTNDJOaTB1TVRZdE1TNHpNaTB1TVRZdE1pQXdMUzQyT0M0d055MHhMak0xTGpFMkxUSm9OQzQyT0dNdU1Ea3VOalV1TVRZZ01TNHpNaTR4TmlBeUlEQWdMalk0TFM0d055QXhMak0wTFM0eE5pQXllbTB1TWpVZ05TNDFObU11TmkweExqRXhJREV1TURZdE1pNHpNU0F4TGpNNExUTXVOVFpvTWk0NU5XTXRMamsySURFdU5qVXRNaTQwT1NBeUxqa3pMVFF1TXpNZ015NDFObnBOTVRZdU16WWdNVFJqTGpBNExTNDJOaTR4TkMweExqTXlMakUwTFRJZ01DMHVOamd0TGpBMkxURXVNelF0TGpFMExUSm9NeTR6T0dNdU1UWXVOalF1TWpZZ01TNHpNUzR5TmlBeWN5MHVNU0F4TGpNMkxTNHlOaUF5YUMwekxqTTRlaUl2UGp3dmMzWm5QZz09IjsKRWRpdG9yLmNvbW1lbnRJbWFnZT0iZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQSE4yWnlCNGJXeHVjejBpYUhSMGNEb3ZMM2QzZHk1M015NXZjbWN2TWpBd01DOXpkbWNpSUhkcFpIUm9QU0l5TkNJZ2FHVnBaMmgwUFNJeU5DSWdkbWxsZDBKdmVEMGlNQ0F3SURJMElESTBJajQ4Y0dGMGFDQmtQU0pOTWpFdU9Ua2dOR013TFRFdU1TMHVPRGt0TWkweExqazVMVEpJTkdNdE1TNHhJREF0TWlBdU9TMHlJREoyTVRKak1DQXhMakV1T1NBeUlESWdNbWd4Tkd3MElEUXRMakF4TFRFNGVrMHhPQ0F4TkVnMmRpMHlhREV5ZGpKNmJUQXRNMGcyVmpsb01USjJNbnB0TUMwelNEWldObWd4TW5ZeWVpSXZQanh3WVhSb0lHUTlJazB3SURCb01qUjJNalJJTUhvaUlHWnBiR3c5SW01dmJtVWlMejQ4TDNOMlp6ND0iO0VkaXRvci5jb21tZW50SW1hZ2VJbnZlcnRlZD0iZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFDQUFBQUFnQ0FZQUFBQnplbnIwQUFBQkxFbEVRVlJZUisyV3Z5NEZRUmpGZjRkSU5BcTlYcXRTYVZScVhBclBJTkVvZFVxbGh4QzUvcFU2bllkUVNIUWVRVFJITnRtVnVYdVhySXh2MWsxc041dk1PYjg1Yzc1a3hNQ2ZCdlpuQ3NEMkVyQUd6QWZBdlV0NlRIVW5BR3dmQVdmQVFvQjVJM2toNmFCWmZBTFlYZ0dlZzgwYjMxVkpUOVVpQlJnQjQ4Q1RwOUxia3U3YUFQdkFaU0dBSFVtM3N3RWdLV3RVYmJzajFmNEpEQTRBYkdiMjRpRXJnVXp6cjdidlNycnBWY0tnSzVnaGdLQU85RS9ndndOQkpSeEp1dTQxQlVFZCtCRkFSQTMrSnNBV2NCOXgzQTdOemdTcXQrQUxzRndBWWhxZ01yVzlVYjhKMTRHNVFKQnVnQWhEMnlmQWFVdDdUOUxWeEJoR21EZWF0by9yWkp0ZlpRSHE2MDBoeWdQVUVJZkFPVEFNUUFMeFdyUUQ3WDdaWHBUMFZxeUUzeFU4NjhuOUc1UHpBU1B2cGlIYXZCQVVBQUFBQUVsRlRrU3VRbUNDIjsKRWRpdG9yLnVzZXJJbWFnZT0iZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQSE4yWnlCNGJXeHVjejBpYUhSMGNEb3ZMM2QzZHk1M015NXZjbWN2TWpBd01DOXpkbWNpSUhkcFpIUm9QU0l5TkNJZ2FHVnBaMmgwUFNJeU5DSWdkbWxsZDBKdmVEMGlNQ0F3SURJMElESTBJajQ4Y0dGMGFDQmtQU0pOTVRJZ01USmpNaTR5TVNBd0lEUXRNUzQzT1NBMExUUnpMVEV1TnprdE5DMDBMVFF0TkNBeExqYzVMVFFnTkNBeExqYzVJRFFnTkNBMGVtMHdJREpqTFRJdU5qY2dNQzA0SURFdU16UXRPQ0EwZGpKb01UWjJMVEpqTUMweUxqWTJMVFV1TXpNdE5DMDRMVFI2SWk4K1BDOXpkbWMrIjtFZGl0b3Iuc2hhcmVJbWFnZT0iZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQSE4yWnlCNGJXeHVjejBpYUhSMGNEb3ZMM2QzZHk1M015NXZjbWN2TWpBd01DOXpkbWNpSUhkcFpIUm9QU0l5TkNJZ2FHVnBaMmgwUFNJeU5DSWdkbWxsZDBKdmVEMGlNQ0F3SURJMElESTBJajQ4Y0dGMGFDQmtQU0pOTVRnZ01UWXVNRGhqTFM0M05pQXdMVEV1TkRRdU15MHhMamsyTGpjM1REZ3VPVEVnTVRJdU4yTXVNRFV0TGpJekxqQTVMUzQwTmk0d09TMHVOM010TGpBMExTNDBOeTB1TURrdExqZHNOeTR3TlMwMExqRXhZeTQxTkM0MUlERXVNalV1T0RFZ01pNHdOQzQ0TVNBeExqWTJJREFnTXkweExqTTBJRE10TTNNdE1TNHpOQzB6TFRNdE15MHpJREV1TXpRdE15QXpZekFnTGpJMExqQTBMalEzTGpBNUxqZE1PQzR3TkNBNUxqZ3hRemN1TlNBNUxqTXhJRFl1TnprZ09TQTJJRGxqTFRFdU5qWWdNQzB6SURFdU16UXRNeUF6Y3pFdU16UWdNeUF6SUROakxqYzVJREFnTVM0MUxTNHpNU0F5TGpBMExTNDRNV3czTGpFeUlEUXVNVFpqTFM0d05TNHlNUzB1TURndU5ETXRMakE0TGpZMUlEQWdNUzQyTVNBeExqTXhJREl1T1RJZ01pNDVNaUF5TGpreUlERXVOakVnTUNBeUxqa3lMVEV1TXpFZ01pNDVNaTB5TGpreWN5MHhMak14TFRJdU9USXRNaTQ1TWkweUxqa3llaUl2UGp3dmMzWm5QZz09IjsKRWRpdG9yLnN5bmNJbWFnZT0iZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQSE4yWnlCNGJXeHVjejBpYUhSMGNEb3ZMM2QzZHk1M015NXZjbWN2TWpBd01DOXpkbWNpSUhkcFpIUm9QU0l5TkNJZ2FHVnBaMmgwUFNJeU5DSWdkbWxsZDBKdmVEMGlNQ0F3SURJMElESTBJajQ4Y0dGMGFDQmtQU0pOTVRJZ05GWXhURGdnTld3MElEUldObU16TGpNeElEQWdOaUF5TGpZNUlEWWdOaUF3SURFdU1ERXRMakkxSURFdU9UY3RMamNnTWk0NGJERXVORFlnTVM0ME5rTXhPUzQxTkNBeE5TNHdNeUF5TUNBeE15NDFOeUF5TUNBeE1tTXdMVFF1TkRJdE15NDFPQzA0TFRndE9IcHRNQ0F4TkdNdE15NHpNU0F3TFRZdE1pNDJPUzAyTFRZZ01DMHhMakF4TGpJMUxURXVPVGN1TnkweUxqaE1OUzR5TkNBM0xqYzBRelF1TkRZZ09DNDVOeUEwSURFd0xqUXpJRFFnTVRKak1DQTBMalF5SURNdU5UZ2dPQ0E0SURoMk0ydzBMVFF0TkMwMGRqTjZJaTgrUEM5emRtYysiO0VkaXRvci5zeW5jRGlzYWJsZWRJbWFnZT0KImRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5QjRiV3h1Y3owaWFIUjBjRG92TDNkM2R5NTNNeTV2Y21jdk1qQXdNQzl6ZG1jaUlIZHBaSFJvUFNJeU5DSWdhR1ZwWjJoMFBTSXlOQ0lnZG1sbGQwSnZlRDBpTUNBd0lESTBJREkwSWo0OGNHRjBhQ0JrUFNKTk1UQWdOaTR6TlZZMExqSTJZeTB1T0M0eU1TMHhMalUxTGpVMExUSXVNak11T1Rac01TNDBOaUF4TGpRMll5NHlOUzB1TVRJdU5TMHVNalF1TnpjdExqTXplbTB0Tnk0eE5DMHVPVFJzTWk0ek5pQXlMak0yUXpRdU5EVWdPQzQ1T1NBMElERXdMalEwSURRZ01USmpNQ0F5TGpJeExqa3hJRFF1TWlBeUxqTTJJRFV1TmpSTU5DQXlNR2cyZGkwMmJDMHlMakkwSURJdU1qUkROaTQyT0NBeE5TNHhOU0EySURFekxqWTJJRFlnTVRKak1DMHhJQzR5TlMweExqazBMalk0TFRJdU56ZHNPQzR3T0NBNExqQTRZeTB1TWpVdU1UTXRMalV1TWpVdExqYzNMak0wZGpJdU1EbGpMamd0TGpJeElERXVOVFV0TGpVMElESXVNak10TGprMmJESXVNellnTWk0ek5pQXhMakkzTFRFdU1qZE1OQzR4TkNBMExqRTBJREl1T0RZZ05TNDBNWHBOTWpBZ05HZ3ROblkyYkRJdU1qUXRNaTR5TkVNeE55NHpNaUE0TGpnMUlERTRJREV3TGpNMElERTRJREV5WXpBZ01TMHVNalVnTVM0NU5DMHVOamdnTWk0M04yd3hMalEySURFdU5EWkRNVGt1TlRVZ01UVXVNREVnTWpBZ01UTXVOVFlnTWpBZ01USmpNQzB5TGpJeExTNDVNUzAwTGpJdE1pNHpOaTAxTGpZMFRESXdJRFI2SWk4K1BDOXpkbWMrIjsKRWRpdG9yLnN5bmNQcm9ibGVtSW1hZ2U9ImRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5QjRiV3h1Y3owaWFIUjBjRG92TDNkM2R5NTNNeTV2Y21jdk1qQXdNQzl6ZG1jaUlIZHBaSFJvUFNJeU5DSWdhR1ZwWjJoMFBTSXlOQ0lnZG1sbGQwSnZlRDBpTUNBd0lESTBJREkwSWo0OGNHRjBhQ0JrUFNKTk15QXhNbU13SURJdU1qRXVPVEVnTkM0eUlESXVNellnTlM0Mk5Fd3pJREl3YURaMkxUWnNMVEl1TWpRZ01pNHlORU0xTGpZNElERTFMakUxSURVZ01UTXVOallnTlNBeE1tTXdMVEl1TmpFZ01TNDJOeTAwTGpneklEUXROUzQyTlZZMExqSTJRelV1TlRVZ05TNHhOU0F6SURndU1qY2dNeUF4TW5wdE9DQTFhREoyTFRKb0xUSjJNbnBOTWpFZ05HZ3ROblkyYkRJdU1qUXRNaTR5TkVNeE9DNHpNaUE0TGpnMUlERTVJREV3TGpNMElERTVJREV5WXpBZ01pNDJNUzB4TGpZM0lEUXVPRE10TkNBMUxqWTFkakl1TURsak15NDBOUzB1T0RrZ05pMDBMakF4SURZdE55NDNOQ0F3TFRJdU1qRXRMamt4TFRRdU1pMHlMak0yTFRVdU5qUk1NakVnTkhwdExURXdJRGxvTWxZM2FDMHlkalo2SWk4K1BDOXpkbWMrIjsKRWRpdG9yLnR3ZWV0SW1hZ2U9SU1BR0VfUEFUSCsiL3R3ZWV0LnBuZyI7RWRpdG9yLmZhY2Vib29rSW1hZ2U9SU1BR0VfUEFUSCsiL2ZhY2Vib29rLnBuZyI7RWRpdG9yLmJsYW5rSW1hZ2U9ImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQUVBQUFBQkNBWUFBQUFmRmNTSkFBQUFDa2xFUVZSNG5HTUFBUUFBQlFBQkRRb3R0QUFBQUFCSlJVNUVya0pnZ2c9PSI7RWRpdG9yLmhpUmVzSW1hZ2U9bXhDbGllbnQuSVNfU1ZHPyJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUZBQUFBQStDQU1BQUFDTE1XeTFBQUFBaDFCTVZFVUFBQUJNVEV4RVJFUkJRVUZCUVVGRlJVVkFRRUJDUWtKQVFFQTZPanBEUTBOS1NrcEJRVUZCUVVGRVJFUkVSRVJCUVVGQ1FrSkNRa0pDUWtKSlNVbEJRVUZDUWtKRFEwTkRRME5DUWtKRFEwTkJRVUZCUVVGQ1FrSkJRVUZDUWtKQ1FrSkRRME5DUWtKSFIwZEJRVUZDUWtKQ1FrSkFRRUJDUWtKRFEwTkFRRUJFUkVSQ1FrSWsxaFMyQUFBQUtuUlNUbE1BQWpqOTZCTDdQZ1FGUndmdTNUWWF6S3VWalJYbDFWMURQQ24xdUxHam5XTlZJZ3k5aFU0MGVHcVBrTTM4QUFBQ0cwbEVRVlJZdysyWDYzS2JNQkNGendaYmxnR0RjZU43NG11YXRwTGUvL202TUhWM2dIR0ZBdjJSak05NE1BYnh6ZG5Wc1FiQkRLd0g4QUg4TURBeWFmempxWWV5T0cwNFhFN1JTOG5JUkRYZzZCbFQrckEwbm10QVBoK05RUkR4SUFTSU1HNDRyQU1yR3VuQmdId3kzdVVsZHhnZ0lTdEdLcDJmK0RRYzJPNGg0ZVFzWDNPMklGQi9vRWJzak9LYlN0bmpBRUErekoweWxaVGJndm9Ebjh4TnluNkRiajVLZDRHc05wQUJhNmR1UVBmU2RFajg4VGdNQWhLdUNXakFrZ21GWFBMbnNEMHBXZDNPRkdkck11Z1FJSS9lT01QRWlHT3pxUE1JZVdyY1NvTUNnNzFXMXBYQlB2Q1ArZ1MvT2RYcVEzdVcyMys5M1hHV0xsL09hQmI4MDViTmNCUG9FSWNWSnNuSHpjeHBaSDg2dTVLWjlnRGJ5NWRRQ2NuS3FkYmtlNEl0STRUemQ3SVc5aFpRdDRFTzZHRzliOXNZdXVLOVd3bjhUSXIyeEtiRjIrM05ocitxeENoSi9BSTZwSWZDdTR6NFpvd3A0WlVOaWh6Nzl2ZXd6Y3RuSER3VHZRTy9oQ2RGQnpyVUdET1BuMlkvRjhZS1Q0b09BVEx2bGhPem56bUJTZEZCSld0YzU4eTdyK1VWRk9DUWN6eTN3cE42cGVnRHFIdHNDUFRHdkg5SnVUTzBEeWc4aWNsZFlQaytSQjZnOEFvZmo0bTJFS0J2dFRtVVBEOXhEZDFwUGNTUmVWMlU1aUQvaWsyeXJuZ3R2dnFCZlB6T3ZLaURUS1RzQ2RvSFpKN3BMTGZmZ1R3bEo1dkpkdEpWMi9qaUFZYUx2TEdoTUFFRE81UWNEZzJNL2pPdy84Wm4rSzNad0p2SFQ3WmZmZ0MvTnZBM3pjeWJUZUlmRTRFQUFBQUFTVVZPUks1Q1lJST0iOgpJTUFHRV9QQVRIKyIvaW1nLWhpLXJlcy5wbmciO0VkaXRvci5sb1Jlc0ltYWdlPW14Q2xpZW50LklTX1NWRz8iZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFGQUFBQUErQ0FNQUFBQ0xNV3kxQUFBQVMxQk1WRVZBUUVBQUFBQTFOVFZCUVVGRFEwTkRRME5GUlVWRVJFUkJRVUZCUVVGQlFVRkFRRUJCUVVGQlFVRkNRa0pDUWtKQ1FrSkJRVUZDUWtKRFEwTkRRME5DUWtKQ1FrSkNRa0pHUmtiNS9YcVRBQUFBR1hSU1RsUCtBQVdPRGxBU0NzZXNYK0xjMkx5V2UzcHdhMXRDUGpvaGpTSmZvQUFBQUkxSlJFRlVXTVB0MU1rS2hUQU1SdUcwYW52bmVYci9KNzFuVXlwS2NkcUkvTjh5aExNS01aRTFDYWhuQ2xEUXpNUEI0NEVEM0VnZUN1YmdEV25XUU1IcHdUdEt3VGUrVUhENHNKOTR3YlVFSEhGR2hJTGxZRGVTbnNRZWFiZUNnc1BCZ0IwTU9aWjlvR0E1R0pGaUpTZlVVTEFmakxqQVJyaEN3WDd3aDJZQ0R3VmJ3WmtVQktxRkZKUk4rd09jd1NnUjJzUkVjZ0FBQUFCSlJVNUVya0pnZ2c9PSI6CklNQUdFX1BBVEgrIi9pbWctbG8tcmVzLnBuZyI7RWRpdG9yLmNhbWVyYUxhcmdlSW1hZ2U9ImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQ0FBQUFBZ0NBWUFBQUJ6ZW5yMEFBQUFBWE5TUjBJQXJzNGM2UUFBQUFsd1NGbHpBQUFMRXdBQUN4TUJBSnFjR0FBQUFWbHBWRmgwV0UxTU9tTnZiUzVoWkc5aVpTNTRiWEFBQUFBQUFEeDRPbmh0Y0cxbGRHRWdlRzFzYm5NNmVEMGlZV1J2WW1VNmJuTTZiV1YwWVM4aUlIZzZlRzF3ZEdzOUlsaE5VQ0JEYjNKbElEVXVOQzR3SWo0S0lDQWdQSEprWmpwU1JFWWdlRzFzYm5NNmNtUm1QU0pvZEhSd09pOHZkM2QzTG5jekxtOXlaeTh4T1RrNUx6QXlMekl5TFhKa1ppMXplVzUwWVhndGJuTWpJajRLSUNBZ0lDQWdQSEprWmpwRVpYTmpjbWx3ZEdsdmJpQnlaR1k2WVdKdmRYUTlJaUlLSUNBZ0lDQWdJQ0FnSUNBZ2VHMXNibk02ZEdsbVpqMGlhSFIwY0RvdkwyNXpMbUZrYjJKbExtTnZiUzkwYVdabUx6RXVNQzhpUGdvZ0lDQWdJQ0FnSUNBOGRHbG1aanBQY21sbGJuUmhkR2x2Ymo0eFBDOTBhV1ptT2s5eWFXVnVkR0YwYVc5dVBnb2dJQ0FnSUNBOEwzSmtaanBFWlhOamNtbHdkR2x2Ymo0S0lDQWdQQzl5WkdZNlVrUkdQZ284TDNnNmVHMXdiV1YwWVQ0S1RNSW5XUUFBQS9CSlJFRlVXQW5GbDB1SWpXRVl4ODg1YnVQU3VHd21TWXd0d3NZMWlrS1NOWU5jbG1RbmFkZ3JaU1Bsc25CTFNsYUdCZE5ZS1kwVmRpNEw0ell6SXF4R3htWEcvL2QrNy8vMCt1WTduV01pVC8yLzUzbWYrM3Y3dm5OS3BmOU01VWJyRHc4UGo0bSt3em1lVDFGQlVTNlhmK1lOb3g2cmVNT051a2lqTVhVVE0zTm1JNzVQeVhjSlB3UldnNWtTN3h5c0RMTm1mRVV4cHgycmNlTkU1MElsWWp5UmtsY0xmMHByWSt4NEJUcWZteDNaVUhRYU85SVNHbmdZcTM4Vi8xRUgrRUNQYStRYUsxdTFrVkJRaXJETUNoaVMzQ1RlSWt3V3ZnaHR3aEtCcFo4ZzFDTzJCOTlGeW5WVS9Lb3dTUmdRM21sckJzVloxYXdtUWxTMFNHYmZYZ2xmQlBiZFJHTW01TzhSWGcyUDgzNXBEQ3Z6V2pnaFRIRVRjTHBaTEh3UzhrVEN0QkVLMVNOODNFZ2FtOFl4eVZacWMrRG81cWt3UytnVDlnck53a1VCRzZjYnNHL2dzM0JUdUMvMENoQ3hxNFF0d2d6Qk1kd1VaQlB5TjRGdGZpNHNZUFpIa3RiT1NSbEl1dXRSUDVqWWowdWVacDg4eHlZY1MvelpvaUx5UVQxSUEvY1RqN2VTbHducmhJK0pua1FiQ3dvMlN4LzJNN1ZKdDE3d2RoVnRneHZycG9GbkF1U0FiSlE5N2JpWkFsS3hCZkQ5d2dPaFYrQmdJUi9BWnRKNGt3RDVQR1NqN09tbWVraldFeTBvQVFIQVMzK0twQnB6WHFZSzNVSXRvcEhwU1JNbm8yTitjbTdnRFluZlJDY3IzUUJxcmlNSExKRGtleWhGZmlHNWFWYksrOHJodFA5TTZRY0lFSkhYNUZwOU5NQXlRbFlpdStPT0pObE9EQ0lYeWthL1AyM2JuY1RkaUM3T3lkQzErdjFCc2IrNXI4NERLOFMzUmRtZjVjUlVGVzNiWHRXVVN0MVJkazZHNFN5SlYybzFZSWQrdk5VeHIreDV5Q0ppYXBGdGN4UXpManJ4Ym9HY014dkZKd0VPS25Md2pJYmt4L3NkU21lU2FVWSsrU3dUQXhWKzRESlQ3UlZ3a2JrNDZnTkNzaWZJSXR1eTBlOVBGMzNDYjRob21oTjVZUnl6TDVxNVYyVk5rdjk4a3Fnb0dUbzNZRjlDbk1NNVk1ckl0RmZ2QlNpOUp1bFZYT2dJK1Z3SW50a3QrU2FaNndlUWZjb3ZKZjd6cFRmbDg2UC93QUY3RnoxOE5lS3dtdkFXQ2FYMFovdU1IUXI0Mlp4dlIvUnhjdzV4TSs5Si9DSnE4dzJnZHVEaG1EZ3NvL1FyQkg0N2RFWFExSXFjenlIcElPZklSdG5UdFY3U3dPMW9LWEtrVTNmYlRvRkdTREh0TVdjYUgxV0J1VlluRGJSRmk5OWlxU015U2R6eFhja3JhelVoMjNLQlZZR0ljZk5Ca1R4Y2EwZTRBVEowS3VrR1lWQmdyL01ubGhQT3RRcS9rc1VmQ2J6aCtFRkNqdG5DVW9IZmpoQS9Pc2lUdjJIY0V2Sk1FTHAwVmFrWkRsaVRtcmlUZFBpdnhVNFZtRWh0UHJHVitLSmhPN1pLdDBkb0ZaaDFmZ1pTQldJVzJBR0VId2czQlVXT25LdEgrc3VxZHcwN3RZTWZnbENyV1BENW13OXFWWXVuaWFYa1QwT3RXYVN1bzVMSlRZMVJCZityb0Y5WDUreS81cVUrREFBQUFBQkpSVTVFcmtKZ2dnPT0iOwpFZGl0b3Iuc3ZnQnJva2VuSW1hZ2U9R3JhcGguY3JlYXRlU3ZnSW1hZ2UoMTAsMTAsJzxyZWN0IHg9IjAiIHk9IjAiIHdpZHRoPSIxMCIgaGVpZ2h0PSIxMCIgc3Ryb2tlPSIjMDAwIiBmaWxsPSJ0cmFuc3BhcmVudCIvPjxwYXRoIGQ9Im0gMCAwIEwgMTAgMTAgTCAwIDEwIEwgMTAgMCIgc3Ryb2tlPSIjMDAwIiBmaWxsPSJ0cmFuc3BhcmVudCIvPicpO0VkaXRvci5kZWZhdWx0Q3VzdG9tTGlicmFyaWVzPVtdO0VkaXRvci5lbmFibGVDdXN0b21MaWJyYXJpZXM9ITA7RWRpdG9yLmVuYWJsZUN1c3RvbVByb3BlcnRpZXM9ITA7RWRpdG9yLmNvbXByZXNzWG1sPSEwO0VkaXRvci5nbG9iYWxWYXJzPW51bGw7RWRpdG9yLnNoYWRvd09wdGlvbkVuYWJsZWQ9IW14Q2xpZW50LklTX1NGO0VkaXRvci5jb25maWc9bnVsbDtFZGl0b3IuY29uZmlnVmVyc2lvbj1udWxsO0VkaXRvci5jb21tb25FZGdlUHJvcGVydGllcz1be3R5cGU6InNlcGFyYXRvciJ9LHtuYW1lOiJhcmNTaXplIixkaXNwTmFtZToiQXJjIFNpemUiLAp0eXBlOiJmbG9hdCIsbWluOjAsZGVmVmFsOm14Q29uc3RhbnRzLkxJTkVfQVJDU0laRX0se25hbWU6InNvdXJjZVBvcnRDb25zdHJhaW50IixkaXNwTmFtZToiU291cmNlIENvbnN0cmFpbnQiLHR5cGU6ImVudW0iLGRlZlZhbDoibm9uZSIsZW51bUxpc3Q6W3t2YWw6Im5vbmUiLGRpc3BOYW1lOiJOb25lIn0se3ZhbDoibm9ydGgiLGRpc3BOYW1lOiJOb3J0aCJ9LHt2YWw6ImVhc3QiLGRpc3BOYW1lOiJFYXN0In0se3ZhbDoic291dGgiLGRpc3BOYW1lOiJTb3V0aCJ9LHt2YWw6Indlc3QiLGRpc3BOYW1lOiJXZXN0In1dfSx7bmFtZToidGFyZ2V0UG9ydENvbnN0cmFpbnQiLGRpc3BOYW1lOiJUYXJnZXQgQ29uc3RyYWludCIsdHlwZToiZW51bSIsZGVmVmFsOiJub25lIixlbnVtTGlzdDpbe3ZhbDoibm9uZSIsZGlzcE5hbWU6Ik5vbmUifSx7dmFsOiJub3J0aCIsZGlzcE5hbWU6Ik5vcnRoIn0se3ZhbDoiZWFzdCIsZGlzcE5hbWU6IkVhc3QifSx7dmFsOiJzb3V0aCIsZGlzcE5hbWU6IlNvdXRoIn0sCnt2YWw6Indlc3QiLGRpc3BOYW1lOiJXZXN0In1dfSx7bmFtZToiamV0dHlTaXplIixkaXNwTmFtZToiSmV0dHkgU2l6ZSIsdHlwZToiaW50IixtaW46MCxkZWZWYWw6ImF1dG8iLGFsbG93QXV0bzohMCxpc1Zpc2libGU6ZnVuY3Rpb24oYSl7cmV0dXJuIm9ydGhvZ29uYWxFZGdlU3R5bGUiPT1teFV0aWxzLmdldFZhbHVlKGEuc3R5bGUsbXhDb25zdGFudHMuU1RZTEVfRURHRSxudWxsKX19LHtuYW1lOiJmaWxsT3BhY2l0eSIsZGlzcE5hbWU6IkZpbGwgT3BhY2l0eSIsdHlwZToiaW50IixtaW46MCxtYXg6MTAwLGRlZlZhbDoxMDB9LHtuYW1lOiJzdHJva2VPcGFjaXR5IixkaXNwTmFtZToiU3Ryb2tlIE9wYWNpdHkiLHR5cGU6ImludCIsbWluOjAsbWF4OjEwMCxkZWZWYWw6MTAwfSx7bmFtZToic3RhcnRGaWxsIixkaXNwTmFtZToiU3RhcnQgRmlsbCIsdHlwZToiYm9vbCIsZGVmVmFsOiEwfSx7bmFtZToiZW5kRmlsbCIsZGlzcE5hbWU6IkVuZCBGaWxsIix0eXBlOiJib29sIixkZWZWYWw6ITB9LAp7bmFtZToicGVyaW1ldGVyU3BhY2luZyIsZGlzcE5hbWU6IlRlcm1pbmFsIFNwYWNpbmciLHR5cGU6ImZsb2F0IixkZWZWYWw6MH0se25hbWU6ImFuY2hvclBvaW50RGlyZWN0aW9uIixkaXNwTmFtZToiQW5jaG9yIERpcmVjdGlvbiIsdHlwZToiYm9vbCIsZGVmVmFsOiEwfSx7bmFtZToic25hcFRvUG9pbnQiLGRpc3BOYW1lOiJTbmFwIHRvIFBvaW50Iix0eXBlOiJib29sIixkZWZWYWw6ITF9LHtuYW1lOiJmaXhEYXNoIixkaXNwTmFtZToiRml4ZWQgRGFzaCIsdHlwZToiYm9vbCIsZGVmVmFsOiExfSx7bmFtZToiamlnZ2xlIixkaXNwTmFtZToiSmlnZ2xlIix0eXBlOiJmbG9hdCIsbWluOjAsZGVmVmFsOjEuNSxpc1Zpc2libGU6ZnVuY3Rpb24oYSl7cmV0dXJuIjEiPT1teFV0aWxzLmdldFZhbHVlKGEuc3R5bGUsImNvbWljIiwiMCIpfX0se25hbWU6ImVkaXRhYmxlIixkaXNwTmFtZToiRWRpdGFibGUiLHR5cGU6ImJvb2wiLGRlZlZhbDohMH0se25hbWU6ImJhY2tncm91bmRPdXRsaW5lIiwKZGlzcE5hbWU6IkJhY2tncm91bmQgT3V0bGluZSIsdHlwZToiYm9vbCIsZGVmVmFsOiExfSx7bmFtZToiYmVuZGFibGUiLGRpc3BOYW1lOiJCZW5kYWJsZSIsdHlwZToiYm9vbCIsZGVmVmFsOiEwfSx7bmFtZToibW92YWJsZSIsZGlzcE5hbWU6Ik1vdmFibGUiLHR5cGU6ImJvb2wiLGRlZlZhbDohMH0se25hbWU6ImNsb25lYWJsZSIsZGlzcE5hbWU6IkNsb25lYWJsZSIsdHlwZToiYm9vbCIsZGVmVmFsOiEwfSx7bmFtZToiZGVsZXRhYmxlIixkaXNwTmFtZToiRGVsZXRhYmxlIix0eXBlOiJib29sIixkZWZWYWw6ITB9LHtuYW1lOiJvcnRob2dvbmFsTG9vcCIsZGlzcE5hbWU6Ikxvb3AgUm91dGluZyIsdHlwZToiYm9vbCIsZGVmVmFsOiExfSx7bmFtZToibm9KdW1wIixkaXNwTmFtZToiTm8gSnVtcHMiLHR5cGU6ImJvb2wiLGRlZlZhbDohMX1dO0VkaXRvci5jb21tb25WZXJ0ZXhQcm9wZXJ0aWVzPVt7dHlwZToic2VwYXJhdG9yIn0se25hbWU6InJlc2l6ZUxhc3RSb3ciLGRpc3BOYW1lOiJSZXNpemUgTGFzdCBSb3ciLAp0eXBlOiJib29sIixnZXREZWZhdWx0VmFsdWU6ZnVuY3Rpb24oYSxiKXt2YXIgZT1iLmVkaXRvclVpLmVkaXRvci5ncmFwaC5nZXRDZWxsU3R5bGUoMT09YS52ZXJ0aWNlcy5sZW5ndGgmJjA9PWEuZWRnZXMubGVuZ3RoP2EudmVydGljZXNbMF06bnVsbCk7cmV0dXJuIjEiPT1teFV0aWxzLmdldFZhbHVlKGUsInJlc2l6ZUxhc3RSb3ciLCIwIil9LGlzVmlzaWJsZTpmdW5jdGlvbihhLGIpe3ZhciBlPWIuZWRpdG9yVWkuZWRpdG9yLmdyYXBoO3JldHVybiAxPT1hLnZlcnRpY2VzLmxlbmd0aCYmMD09YS5lZGdlcy5sZW5ndGgmJmUuaXNUYWJsZShhLnZlcnRpY2VzWzBdKX19LHtuYW1lOiJyZXNpemVMYXN0IixkaXNwTmFtZToiUmVzaXplIExhc3QgQ29sdW1uIix0eXBlOiJib29sIixnZXREZWZhdWx0VmFsdWU6ZnVuY3Rpb24oYSxiKXt2YXIgZT1iLmVkaXRvclVpLmVkaXRvci5ncmFwaC5nZXRDZWxsU3R5bGUoMT09YS52ZXJ0aWNlcy5sZW5ndGgmJjA9PWEuZWRnZXMubGVuZ3RoP2EudmVydGljZXNbMF06Cm51bGwpO3JldHVybiIxIj09bXhVdGlscy5nZXRWYWx1ZShlLCJyZXNpemVMYXN0IiwiMCIpfSxpc1Zpc2libGU6ZnVuY3Rpb24oYSxiKXt2YXIgZT1iLmVkaXRvclVpLmVkaXRvci5ncmFwaDtyZXR1cm4gMT09YS52ZXJ0aWNlcy5sZW5ndGgmJjA9PWEuZWRnZXMubGVuZ3RoJiZlLmlzVGFibGUoYS52ZXJ0aWNlc1swXSl9fSx7bmFtZToiZmlsbE9wYWNpdHkiLGRpc3BOYW1lOiJGaWxsIE9wYWNpdHkiLHR5cGU6ImludCIsbWluOjAsbWF4OjEwMCxkZWZWYWw6MTAwfSx7bmFtZToic3Ryb2tlT3BhY2l0eSIsZGlzcE5hbWU6IlN0cm9rZSBPcGFjaXR5Iix0eXBlOiJpbnQiLG1pbjowLG1heDoxMDAsZGVmVmFsOjEwMH0se25hbWU6Im92ZXJmbG93IixkaXNwTmFtZToiVGV4dCBPdmVyZmxvdyIsZGVmVmFsOiJ2aXNpYmxlIix0eXBlOiJlbnVtIixlbnVtTGlzdDpbe3ZhbDoidmlzaWJsZSIsZGlzcE5hbWU6IlZpc2libGUifSx7dmFsOiJoaWRkZW4iLGRpc3BOYW1lOiJIaWRkZW4ifSx7dmFsOiJmaWxsIiwKZGlzcE5hbWU6IkZpbGwifSx7dmFsOiJ3aWR0aCIsZGlzcE5hbWU6IldpZHRoIn1dfSx7bmFtZToibm9MYWJlbCIsZGlzcE5hbWU6IkhpZGUgTGFiZWwiLHR5cGU6ImJvb2wiLGRlZlZhbDohMX0se25hbWU6ImxhYmVsUGFkZGluZyIsZGlzcE5hbWU6IkxhYmVsIFBhZGRpbmciLHR5cGU6ImZsb2F0IixkZWZWYWw6MH0se25hbWU6ImRpcmVjdGlvbiIsZGlzcE5hbWU6IkRpcmVjdGlvbiIsdHlwZToiZW51bSIsZGVmVmFsOiJlYXN0IixlbnVtTGlzdDpbe3ZhbDoibm9ydGgiLGRpc3BOYW1lOiJOb3J0aCJ9LHt2YWw6ImVhc3QiLGRpc3BOYW1lOiJFYXN0In0se3ZhbDoic291dGgiLGRpc3BOYW1lOiJTb3V0aCJ9LHt2YWw6Indlc3QiLGRpc3BOYW1lOiJXZXN0In1dfSx7bmFtZToicG9ydENvbnN0cmFpbnQiLGRpc3BOYW1lOiJDb25zdHJhaW50Iix0eXBlOiJlbnVtIixkZWZWYWw6Im5vbmUiLGVudW1MaXN0Olt7dmFsOiJub25lIixkaXNwTmFtZToiTm9uZSJ9LHt2YWw6Im5vcnRoIixkaXNwTmFtZToiTm9ydGgifSwKe3ZhbDoiZWFzdCIsZGlzcE5hbWU6IkVhc3QifSx7dmFsOiJzb3V0aCIsZGlzcE5hbWU6IlNvdXRoIn0se3ZhbDoid2VzdCIsZGlzcE5hbWU6Ildlc3QifV19LHtuYW1lOiJwb3J0Q29uc3RyYWludFJvdGF0aW9uIixkaXNwTmFtZToiUm90YXRlIENvbnN0cmFpbnQiLHR5cGU6ImJvb2wiLGRlZlZhbDohMX0se25hbWU6ImNvbm5lY3RhYmxlIixkaXNwTmFtZToiQ29ubmVjdGFibGUiLHR5cGU6ImJvb2wiLGdldERlZmF1bHRWYWx1ZTpmdW5jdGlvbihhLGIpe3JldHVybiBiLmVkaXRvclVpLmVkaXRvci5ncmFwaC5pc0NlbGxDb25uZWN0YWJsZSgxPT1hLnZlcnRpY2VzLmxlbmd0aCYmMD09YS5lZGdlcy5sZW5ndGg/YS52ZXJ0aWNlc1swXTpudWxsKX0saXNWaXNpYmxlOmZ1bmN0aW9uKGEsYil7cmV0dXJuIDE9PWEudmVydGljZXMubGVuZ3RoJiYwPT1hLmVkZ2VzLmxlbmd0aH19LHtuYW1lOiJhbGxvd0Fycm93cyIsZGlzcE5hbWU6IkFsbG93IEFycm93cyIsdHlwZToiYm9vbCIsZGVmVmFsOiEwfSwKe25hbWU6InNuYXBUb1BvaW50IixkaXNwTmFtZToiU25hcCB0byBQb2ludCIsdHlwZToiYm9vbCIsZGVmVmFsOiExfSx7bmFtZToicGVyaW1ldGVyIixkaXNwTmFtZToiUGVyaW1ldGVyIixkZWZWYWw6Im5vbmUiLHR5cGU6ImVudW0iLGVudW1MaXN0Olt7dmFsOiJub25lIixkaXNwTmFtZToiTm9uZSJ9LHt2YWw6InJlY3RhbmdsZVBlcmltZXRlciIsZGlzcE5hbWU6IlJlY3RhbmdsZSJ9LHt2YWw6ImVsbGlwc2VQZXJpbWV0ZXIiLGRpc3BOYW1lOiJFbGxpcHNlIn0se3ZhbDoicmhvbWJ1c1BlcmltZXRlciIsZGlzcE5hbWU6IlJob21idXMifSx7dmFsOiJ0cmlhbmdsZVBlcmltZXRlciIsZGlzcE5hbWU6IlRyaWFuZ2xlIn0se3ZhbDoiaGV4YWdvblBlcmltZXRlcjIiLGRpc3BOYW1lOiJIZXhhZ29uIn0se3ZhbDoibGlmZWxpbmVQZXJpbWV0ZXIiLGRpc3BOYW1lOiJMaWZlbGluZSJ9LHt2YWw6Im9ydGhvZ29uYWxQZXJpbWV0ZXIiLGRpc3BOYW1lOiJPcnRob2dvbmFsIn0se3ZhbDoiYmFja2JvbmVQZXJpbWV0ZXIiLApkaXNwTmFtZToiQmFja2JvbmUifSx7dmFsOiJjYWxsb3V0UGVyaW1ldGVyIixkaXNwTmFtZToiQ2FsbG91dCJ9LHt2YWw6InBhcmFsbGVsb2dyYW1QZXJpbWV0ZXIiLGRpc3BOYW1lOiJQYXJhbGxlbG9ncmFtIn0se3ZhbDoidHJhcGV6b2lkUGVyaW1ldGVyIixkaXNwTmFtZToiVHJhcGV6b2lkIn0se3ZhbDoic3RlcFBlcmltZXRlciIsZGlzcE5hbWU6IlN0ZXAifV19LHtuYW1lOiJmaXhEYXNoIixkaXNwTmFtZToiRml4ZWQgRGFzaCIsdHlwZToiYm9vbCIsZGVmVmFsOiExfSx7bmFtZToiamlnZ2xlIixkaXNwTmFtZToiSmlnZ2xlIix0eXBlOiJmbG9hdCIsbWluOjAsZGVmVmFsOjEuNSxpc1Zpc2libGU6ZnVuY3Rpb24oYSxiKXtyZXR1cm4iMSI9PW14VXRpbHMuZ2V0VmFsdWUoYS5zdHlsZSwiY29taWMiLCIwIil9fSx7bmFtZToiYXV0b3NpemUiLGRpc3BOYW1lOiJBdXRvc2l6ZSIsdHlwZToiYm9vbCIsZGVmVmFsOiExfSx7bmFtZToiY29udGFpbmVyIixkaXNwTmFtZToiQ29udGFpbmVyIiwKdHlwZToiYm9vbCIsZGVmVmFsOiExLGlzVmlzaWJsZTpmdW5jdGlvbihhLGIpe3JldHVybiAxPT1hLnZlcnRpY2VzLmxlbmd0aCYmMD09YS5lZGdlcy5sZW5ndGh9fSx7bmFtZToiZHJvcFRhcmdldCIsZGlzcE5hbWU6IkRyb3AgVGFyZ2V0Iix0eXBlOiJib29sIixnZXREZWZhdWx0VmFsdWU6ZnVuY3Rpb24oYSxiKXt2YXIgZT0xPT1hLnZlcnRpY2VzLmxlbmd0aCYmMD09YS5lZGdlcy5sZW5ndGg/YS52ZXJ0aWNlc1swXTpudWxsLGM9Yi5lZGl0b3JVaS5lZGl0b3IuZ3JhcGg7cmV0dXJuIG51bGwhPWUmJihjLmlzU3dpbWxhbmUoZSl8fDA8Yy5tb2RlbC5nZXRDaGlsZENvdW50KGUpKX0saXNWaXNpYmxlOmZ1bmN0aW9uKGEsYil7cmV0dXJuIDE9PWEudmVydGljZXMubGVuZ3RoJiYwPT1hLmVkZ2VzLmxlbmd0aH19LHtuYW1lOiJjb2xsYXBzaWJsZSIsZGlzcE5hbWU6IkNvbGxhcHNpYmxlIix0eXBlOiJib29sIixnZXREZWZhdWx0VmFsdWU6ZnVuY3Rpb24oYSxiKXt2YXIgZT0xPT1hLnZlcnRpY2VzLmxlbmd0aCYmCjA9PWEuZWRnZXMubGVuZ3RoP2EudmVydGljZXNbMF06bnVsbCxjPWIuZWRpdG9yVWkuZWRpdG9yLmdyYXBoO3JldHVybiBudWxsIT1lJiYoYy5pc0NvbnRhaW5lcihlKSYmIjAiIT1hLnN0eWxlLmNvbGxhcHNpYmxlfHwhYy5pc0NvbnRhaW5lcihlKSYmIjEiPT1hLnN0eWxlLmNvbGxhcHNpYmxlKX0saXNWaXNpYmxlOmZ1bmN0aW9uKGEsYil7cmV0dXJuIDE9PWEudmVydGljZXMubGVuZ3RoJiYwPT1hLmVkZ2VzLmxlbmd0aH19LHtuYW1lOiJyZWN1cnNpdmVSZXNpemUiLGRpc3BOYW1lOiJSZXNpemUgQ2hpbGRyZW4iLHR5cGU6ImJvb2wiLGRlZlZhbDohMCxpc1Zpc2libGU6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gMT09YS52ZXJ0aWNlcy5sZW5ndGgmJjA9PWEuZWRnZXMubGVuZ3RoJiYhYi5lZGl0b3JVaS5lZGl0b3IuZ3JhcGguaXNTd2ltbGFuZShhLnZlcnRpY2VzWzBdKSYmbnVsbD09bXhVdGlscy5nZXRWYWx1ZShhLnN0eWxlLCJjaGlsZExheW91dCIsbnVsbCl9fSx7bmFtZToiZXhwYW5kIiwKZGlzcE5hbWU6IkV4cGFuZCIsdHlwZToiYm9vbCIsZGVmVmFsOiEwfSx7bmFtZToicGFydCIsZGlzcE5hbWU6IlBhcnQiLHR5cGU6ImJvb2wiLGRlZlZhbDohMSxpc1Zpc2libGU6ZnVuY3Rpb24oYSxiKXt2YXIgZT1iLmVkaXRvclVpLmVkaXRvci5ncmFwaC5tb2RlbDtyZXR1cm4gMDxhLnZlcnRpY2VzLmxlbmd0aD9lLmlzVmVydGV4KGUuZ2V0UGFyZW50KGEudmVydGljZXNbMF0pKTohMX19LHtuYW1lOiJlZGl0YWJsZSIsZGlzcE5hbWU6IkVkaXRhYmxlIix0eXBlOiJib29sIixkZWZWYWw6ITB9LHtuYW1lOiJiYWNrZ3JvdW5kT3V0bGluZSIsZGlzcE5hbWU6IkJhY2tncm91bmQgT3V0bGluZSIsdHlwZToiYm9vbCIsZGVmVmFsOiExfSx7bmFtZToibW92YWJsZSIsZGlzcE5hbWU6Ik1vdmFibGUiLHR5cGU6ImJvb2wiLGRlZlZhbDohMH0se25hbWU6Im1vdmFibGVMYWJlbCIsZGlzcE5hbWU6Ik1vdmFibGUgTGFiZWwiLHR5cGU6ImJvb2wiLGRlZlZhbDohMSxpc1Zpc2libGU6ZnVuY3Rpb24oYSwKYil7dmFyIGU9MDxhLnZlcnRpY2VzLmxlbmd0aD9iLmVkaXRvclVpLmVkaXRvci5ncmFwaC5nZXRDZWxsR2VvbWV0cnkoYS52ZXJ0aWNlc1swXSk6bnVsbDtyZXR1cm4gbnVsbCE9ZSYmIWUucmVsYXRpdmV9fSx7bmFtZToicmVzaXphYmxlIixkaXNwTmFtZToiUmVzaXphYmxlIix0eXBlOiJib29sIixkZWZWYWw6ITB9LHtuYW1lOiJyZXNpemVXaWR0aCIsZGlzcE5hbWU6IlJlc2l6ZSBXaWR0aCIsdHlwZToiYm9vbCIsZGVmVmFsOiExfSx7bmFtZToicmVzaXplSGVpZ2h0IixkaXNwTmFtZToiUmVzaXplIEhlaWdodCIsdHlwZToiYm9vbCIsZGVmVmFsOiExfSx7bmFtZToicm90YXRhYmxlIixkaXNwTmFtZToiUm90YXRhYmxlIix0eXBlOiJib29sIixkZWZWYWw6ITB9LHtuYW1lOiJjbG9uZWFibGUiLGRpc3BOYW1lOiJDbG9uZWFibGUiLHR5cGU6ImJvb2wiLGRlZlZhbDohMH0se25hbWU6ImRlbGV0YWJsZSIsZGlzcE5hbWU6IkRlbGV0YWJsZSIsdHlwZToiYm9vbCIsZGVmVmFsOiEwfSwKe25hbWU6InRyZWVGb2xkaW5nIixkaXNwTmFtZToiVHJlZSBGb2xkaW5nIix0eXBlOiJib29sIixkZWZWYWw6ITF9LHtuYW1lOiJ0cmVlTW92aW5nIixkaXNwTmFtZToiVHJlZSBNb3ZpbmciLHR5cGU6ImJvb2wiLGRlZlZhbDohMX0se25hbWU6InBvaW50ZXJFdmVudHMiLGRpc3BOYW1lOiJQb2ludGVyIEV2ZW50cyIsdHlwZToiYm9vbCIsZGVmVmFsOiEwLGlzVmlzaWJsZTpmdW5jdGlvbihhLGIpe3ZhciBlPW14VXRpbHMuZ2V0VmFsdWUoYS5zdHlsZSxteENvbnN0YW50cy5TVFlMRV9GSUxMQ09MT1IsbnVsbCk7cmV0dXJuIGIuZWRpdG9yVWkuZWRpdG9yLmdyYXBoLmlzU3dpbWxhbmUoYS52ZXJ0aWNlc1swXSl8fG51bGw9PWV8fGU9PW14Q29uc3RhbnRzLk5PTkV9fSx7bmFtZToibW92ZUNlbGxzIixkaXNwTmFtZToiTW92ZSBDZWxscyBvbiBGb2xkIix0eXBlOiJib29sIixkZWZWYWw6ITEsaXNWaXNpYmxlOmZ1bmN0aW9uKGEsYil7cmV0dXJuIDA8YS52ZXJ0aWNlcy5sZW5ndGgmJgpiLmVkaXRvclVpLmVkaXRvci5ncmFwaC5pc0NvbnRhaW5lcihhLnZlcnRpY2VzWzBdKX19XTtFZGl0b3IuZGVmYXVsdENzdlZhbHVlPScjI1xuIyMgRXhhbXBsZSBDU1YgaW1wb3J0LiBVc2UgIyMgZm9yIGNvbW1lbnRzIGFuZCAjIGZvciBjb25maWd1cmF0aW9uLiBQYXN0ZSBDU1YgYmVsb3cuXG4jIyBUaGUgZm9sbG93aW5nIG5hbWVzIGFyZSByZXNlcnZlZCBhbmQgc2hvdWxkIG5vdCBiZSB1c2VkIChvciBpZ25vcmVkKTpcbiMjIGlkLCB0b29sdGlwLCBwbGFjZWhvbGRlcihzKSwgbGluayBhbmQgbGFiZWwgKHNlZSBiZWxvdylcbiMjXG4jXG4jIyBOb2RlIGxhYmVsIHdpdGggcGxhY2Vob2xkZXJzIGFuZCBIVE1MLlxuIyMgRGVmYXVsdCBpcyBcJyVuYW1lX29mX2ZpcnN0X2NvbHVtbiVcJy5cbiNcbiMgbGFiZWw6ICVuYW1lJTxicj48aSBzdHlsZT0iY29sb3I6Z3JheTsiPiVwb3NpdGlvbiU8L2k+PGJyPjxhIGhyZWY9Im1haWx0bzolZW1haWwlIj5FbWFpbDwvYT5cbiNcbiMjIE5vZGUgc3R5bGUgKHBsYWNlaG9sZGVycyBhcmUgcmVwbGFjZWQgb25jZSkuXG4jIyBEZWZhdWx0IGlzIHRoZSBjdXJyZW50IHN0eWxlIGZvciBub2Rlcy5cbiNcbiMgc3R5bGU6IGxhYmVsO2ltYWdlPSVpbWFnZSU7d2hpdGVTcGFjZT13cmFwO2h0bWw9MTtyb3VuZGVkPTE7ZmlsbENvbG9yPSVmaWxsJTtzdHJva2VDb2xvcj0lc3Ryb2tlJTtcbiNcbiMjIFBhcmVudCBzdHlsZSBmb3Igbm9kZXMgd2l0aCBjaGlsZCBub2RlcyAocGxhY2Vob2xkZXJzIGFyZSByZXBsYWNlZCBvbmNlKS5cbiNcbiMgcGFyZW50c3R5bGU6IHN3aW1sYW5lO3doaXRlU3BhY2U9d3JhcDtodG1sPTE7Y2hpbGRMYXlvdXQ9c3RhY2tMYXlvdXQ7aG9yaXpvbnRhbD0xO2hvcml6b250YWxTdGFjaz0wO3Jlc2l6ZVBhcmVudD0xO3Jlc2l6ZUxhc3Q9MDtjb2xsYXBzaWJsZT0xO1xuI1xuIyMgT3B0aW9uYWwgY29sdW1uIG5hbWUgdGhhdCBjb250YWlucyBhIHJlZmVyZW5jZSB0byBhIG5hbWVkIHN0eWxlIGluIHN0eWxlcy5cbiMjIERlZmF1bHQgaXMgdGhlIGN1cnJlbnQgc3R5bGUgZm9yIG5vZGVzLlxuI1xuIyBzdHlsZW5hbWU6IC1cbiNcbiMjIEpTT04gZm9yIG5hbWVkIHN0eWxlcyBvZiB0aGUgZm9ybSB7Im5hbWUiOiAic3R5bGUiLCAibmFtZSI6ICJzdHlsZSJ9IHdoZXJlIHN0eWxlIGlzIGEgY2VsbCBzdHlsZSB3aXRoXG4jIyBwbGFjZWhvbGRlcnMgdGhhdCBhcmUgcmVwbGFjZWQgb25jZS5cbiNcbiMgc3R5bGVzOiAtXG4jXG4jIyBPcHRpb25hbCBjb2x1bW4gbmFtZSB0aGF0IGNvbnRhaW5zIGEgcmVmZXJlbmNlIHRvIGEgbmFtZWQgbGFiZWwgaW4gbGFiZWxzLlxuIyMgRGVmYXVsdCBpcyB0aGUgY3VycmVudCBsYWJlbC5cbiNcbiMgbGFiZWxuYW1lOiAtXG4jXG4jIyBKU09OIGZvciBuYW1lZCBsYWJlbHMgb2YgdGhlIGZvcm0geyJuYW1lIjogImxhYmVsIiwgIm5hbWUiOiAibGFiZWwifSB3aGVyZSBsYWJlbCBpcyBhIGNlbGwgbGFiZWwgd2l0aFxuIyMgcGxhY2Vob2xkZXJzLlxuI1xuIyBsYWJlbHM6IC1cbiNcbiMjIFVzZXMgdGhlIGdpdmVuIGNvbHVtbiBuYW1lIGFzIHRoZSBpZGVudGl0eSBmb3IgY2VsbHMgKHVwZGF0ZXMgZXhpc3RpbmcgY2VsbHMpLlxuIyMgRGVmYXVsdCBpcyBubyBpZGVudGl0eSAoZW1wdHkgdmFsdWUgb3IgLSkuXG4jXG4jIGlkZW50aXR5OiAtXG4jXG4jIyBVc2VzIHRoZSBnaXZlbiBjb2x1bW4gbmFtZSBhcyB0aGUgcGFyZW50IHJlZmVyZW5jZSBmb3IgY2VsbHMuIERlZmF1bHQgaXMgbm8gcGFyZW50IChlbXB0eSBvciAtKS5cbiMjIFRoZSBpZGVudGl0eSBhYm92ZSBpcyB1c2VkIGZvciByZXNvbHZpbmcgdGhlIHJlZmVyZW5jZSBzbyBpdCBtdXN0IGJlIHNwZWNpZmllZC5cbiNcbiMgcGFyZW50OiAtXG4jXG4jIyBBZGRzIGEgcHJlZml4IHRvIHRoZSBpZGVudGl0eSBvZiBjZWxscyB0byBtYWtlIHN1cmUgdGhleSBkbyBub3QgY29sbGlkZSB3aXRoIGV4aXN0aW5nIGNlbGxzICh3aG9zZVxuIyMgSURzIGFyZSBudW1iZXJzIGZyb20gMC4ubiwgc29tZXRpbWVzIHdpdGggYSBHVUlEIHByZWZpeCBpbiB0aGUgY29udGV4dCBvZiByZWFsdGltZSBjb2xsYWJvcmF0aW9uKS5cbiMjIERlZmF1bHQgaXMgY3N2aW1wb3J0LS5cbiNcbiMgbmFtZXNwYWNlOiBjc3ZpbXBvcnQtXG4jXG4jIyBDb25uZWN0aW9ucyBiZXR3ZWVuIHJvd3MgKCJmcm9tIjogc291cmNlIGNvbHVtLCAidG8iOiB0YXJnZXQgY29sdW1uKS5cbiMjIExhYmVsLCBzdHlsZSBhbmQgaW52ZXJ0IGFyZSBvcHRpb25hbC4gRGVmYXVsdHMgYXJlIFwnXCcsIGN1cnJlbnQgc3R5bGUgYW5kIGZhbHNlLlxuIyMgSWYgcGxhY2Vob2xkZXJzIGFyZSB1c2VkIGluIHRoZSBzdHlsZSwgdGhleSBhcmUgcmVwbGFjZWQgd2l0aCBkYXRhIGZyb20gdGhlIHNvdXJjZS5cbiMjIEFuIG9wdGlvbmFsIHBsYWNlaG9sZGVycyBjYW4gYmUgc2V0IHRvIHRhcmdldCB0byB1c2UgZGF0YSBmcm9tIHRoZSB0YXJnZXQgaW5zdGVhZC5cbiMjIEluIGFkZGl0aW9uIHRvIGxhYmVsLCBhbiBvcHRpb25hbCBmcm9tbGFiZWwgYW5kIHRvbGFiZWwgY2FuIGJlIHVzZWQgdG8gbmFtZSB0aGUgY29sdW1uXG4jIyB0aGF0IGNvbnRhaW5zIHRoZSB0ZXh0IGZvciB0aGUgbGFiZWwgaW4gdGhlIGVkZ2VzIHNvdXJjZSBvciB0YXJnZXQgKGludmVydCBpZ25vcmVkKS5cbiMjIFRoZSBsYWJlbCBpcyBjb25jYXRlbmF0ZWQgaW4gdGhlIGZvcm0gZnJvbWxhYmVsICsgbGFiZWwgKyB0b2xhYmVsIGlmIGFsbCBhcmUgZGVmaW5lZC5cbiMjIEFkZGl0aW9uYWwgbGFiZWxzIGNhbiBiZSBhZGRlZCBieSB1c2luZyBhbiBvcHRpb25hbCBsYWJlbHMgYXJyYXkgd2l0aCBlbnRyaWVzIG9mIHRoZVxuIyMgZm9ybSB7ImxhYmVsIjogc3RyaW5nLCAieCI6IG51bWJlciwgInkiOiBudW1iZXIsICJkeCI6IG51bWJlciwgImR5IjogbnVtYmVyfSB3aGVyZVxuIyMgeCBpcyBmcm9tIC0xIHRvIDEgYWxvbmcgdGhlIGVkZ2UsIHkgaXMgb3J0aG9nb25hbCwgYW5kIGR4L2R5IGFyZSBvZmZzZXRzIGluIHBpeGVscy5cbiMjIFRoZSB0YXJnZXQgY29sdW1uIG1heSBjb250YWluIGEgY29tbWEtc2VwYXJhdGVkIGxpc3Qgb2YgdmFsdWVzLlxuIyMgTXVsdGlwbGUgY29ubmVjdCBlbnRyaWVzIGFyZSBhbGxvd2VkLlxuI1xuIyBjb25uZWN0OiB7ImZyb20iOiAibWFuYWdlciIsICJ0byI6ICJuYW1lIiwgImludmVydCI6IHRydWUsICJsYWJlbCI6ICJtYW5hZ2VzIiwgXFxcbiMgICAgICAgICAgInN0eWxlIjogImN1cnZlZD0xO2VuZEFycm93PWJsb2NrVGhpbjtlbmRGaWxsPTE7Zm9udFNpemU9MTE7In1cbiMgY29ubmVjdDogeyJmcm9tIjogInJlZnMiLCAidG8iOiAiaWQiLCAic3R5bGUiOiAiY3VydmVkPTE7Zm9udFNpemU9MTE7In1cbiNcbiMjIE5vZGUgeC1jb29yZGluYXRlLiBQb3NzaWJsZSB2YWx1ZSBpcyBhIGNvbHVtbiBuYW1lLiBEZWZhdWx0IGlzIGVtcHR5LiBMYXlvdXRzIHdpbGxcbiMjIG92ZXJyaWRlIHRoaXMgdmFsdWUuXG4jXG4jIGxlZnQ6IFxuI1xuIyMgTm9kZSB5LWNvb3JkaW5hdGUuIFBvc3NpYmxlIHZhbHVlIGlzIGEgY29sdW1uIG5hbWUuIERlZmF1bHQgaXMgZW1wdHkuIExheW91dHMgd2lsbFxuIyMgb3ZlcnJpZGUgdGhpcyB2YWx1ZS5cbiNcbiMgdG9wOiBcbiNcbiMjIE5vZGUgd2lkdGguIFBvc3NpYmxlIHZhbHVlIGlzIGEgbnVtYmVyIChpbiBweCksIGF1dG8gb3IgYW4gQCBzaWduIGZvbGxvd2VkIGJ5IGEgY29sdW1uXG4jIyBuYW1lIHRoYXQgY29udGFpbnMgdGhlIHZhbHVlIGZvciB0aGUgd2lkdGguIERlZmF1bHQgaXMgYXV0by5cbiNcbiMgd2lkdGg6IGF1dG9cbiNcbiMjIE5vZGUgaGVpZ2h0LiBQb3NzaWJsZSB2YWx1ZSBpcyBhIG51bWJlciAoaW4gcHgpLCBhdXRvIG9yIGFuIEAgc2lnbiBmb2xsb3dlZCBieSBhIGNvbHVtblxuIyMgbmFtZSB0aGF0IGNvbnRhaW5zIHRoZSB2YWx1ZSBmb3IgdGhlIGhlaWdodC4gRGVmYXVsdCBpcyBhdXRvLlxuI1xuIyBoZWlnaHQ6IGF1dG9cbiNcbiMjIFBhZGRpbmcgZm9yIGF1dG9zaXplLiBEZWZhdWx0IGlzIDAuXG4jXG4jIHBhZGRpbmc6IC0xMlxuI1xuIyMgQ29tbWEtc2VwYXJhdGVkIGxpc3Qgb2YgaWdub3JlZCBjb2x1bW5zIGZvciBtZXRhZGF0YS4gKFRoZXNlIGNhbiBiZVxuIyMgdXNlZCBmb3IgY29ubmVjdGlvbnMgYW5kIHN0eWxlcyBidXQgd2lsbCBub3QgYmUgYWRkZWQgYXMgbWV0YWRhdGEuKVxuI1xuIyBpZ25vcmU6IGlkLGltYWdlLGZpbGwsc3Ryb2tlLHJlZnMsbWFuYWdlclxuI1xuIyMgQ29sdW1uIHRvIGJlIHJlbmFtZWQgdG8gbGluayBhdHRyaWJ1dGUgKHVzZWQgYXMgbGluaykuXG4jXG4jIGxpbms6IHVybFxuI1xuIyMgU3BhY2luZyBiZXR3ZWVuIG5vZGVzLiBEZWZhdWx0IGlzIDQwLlxuI1xuIyBub2Rlc3BhY2luZzogNDBcbiNcbiMjIFNwYWNpbmcgYmV0d2VlbiBsZXZlbHMgb2YgaGllcmFyY2hpY2FsIGxheW91dHMuIERlZmF1bHQgaXMgMTAwLlxuI1xuIyBsZXZlbHNwYWNpbmc6IDEwMFxuI1xuIyMgU3BhY2luZyBiZXR3ZWVuIHBhcmFsbGVsIGVkZ2VzLiBEZWZhdWx0IGlzIDQwLiBVc2UgMCB0byBkaXNhYmxlLlxuI1xuIyBlZGdlc3BhY2luZzogNDBcbiNcbiMjIE5hbWUgb3IgSlNPTiBvZiBsYXlvdXQuIFBvc3NpYmxlIHZhbHVlcyBhcmUgYXV0bywgbm9uZSwgdmVydGljYWx0cmVlLCBob3Jpem9udGFsdHJlZSxcbiMjIHZlcnRpY2FsZmxvdywgaG9yaXpvbnRhbGZsb3csIG9yZ2FuaWMsIGNpcmNsZSBvciBhIEpTT04gc3RyaW5nIGFzIHVzZWQgaW4gTGF5b3V0LCBBcHBseS5cbiMjIERlZmF1bHQgaXMgYXV0by5cbiNcbiMgbGF5b3V0OiBhdXRvXG4jXG4jIyAtLS0tIENTViBiZWxvdyB0aGlzIGxpbmUuIEZpcnN0IGxpbmUgYXJlIGNvbHVtbiBuYW1lcy4gLS0tLVxubmFtZSxwb3NpdGlvbixpZCxsb2NhdGlvbixtYW5hZ2VyLGVtYWlsLGZpbGwsc3Ryb2tlLHJlZnMsdXJsLGltYWdlXG5FdmFuIE1pbGxlcixDRk8sZW1pLE9mZmljZSAxLCxtZUBleGFtcGxlLmNvbSwjZGFlOGZjLCM2YzhlYmYsLGh0dHBzOi8vd3d3LmRyYXcuaW8saHR0cHM6Ly9jZG4zLmljb25maW5kZXIuY29tL2RhdGEvaWNvbnMvdXNlci1hdmF0YXJzLTEvNTEyL3VzZXJzLTktMi0xMjgucG5nXG5FZHdhcmQgTW9ycmlzb24sQnJhbmQgTWFuYWdlcixlbW8sT2ZmaWNlIDIsRXZhbiBNaWxsZXIsbWVAZXhhbXBsZS5jb20sI2Q1ZThkNCwjODJiMzY2LCxodHRwczovL3d3dy5kcmF3LmlvLGh0dHBzOi8vY2RuMy5pY29uZmluZGVyLmNvbS9kYXRhL2ljb25zL3VzZXItYXZhdGFycy0xLzUxMi91c2Vycy0xMC0zLTEyOC5wbmdcblJvbiBEb25vdmFuLFN5c3RlbSBBZG1pbixyZG8sT2ZmaWNlIDMsRXZhbiBNaWxsZXIsbWVAZXhhbXBsZS5jb20sI2Q1ZThkNCwjODJiMzY2LCJlbW8sdHZhIixodHRwczovL3d3dy5kcmF3LmlvLGh0dHBzOi8vY2RuMy5pY29uZmluZGVyLmNvbS9kYXRhL2ljb25zL3VzZXItYXZhdGFycy0xLzUxMi91c2Vycy0yLTEyOC5wbmdcblRlc3NhIFZhbGV0LEhSIERpcmVjdG9yLHR2YSxPZmZpY2UgNCxFdmFuIE1pbGxlcixtZUBleGFtcGxlLmNvbSwjZDVlOGQ0LCM4MmIzNjYsLGh0dHBzOi8vd3d3LmRyYXcuaW8saHR0cHM6Ly9jZG4zLmljb25maW5kZXIuY29tL2RhdGEvaWNvbnMvdXNlci1hdmF0YXJzLTEvNTEyL3VzZXJzLTMtMTI4LnBuZ1xuJzsKRWRpdG9yLmZhc3RDb21wcmVzcz1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbD09YXx8MD09YS5sZW5ndGh8fCJ1bmRlZmluZWQiPT09dHlwZW9mIHBha28/YTpwYWtvLmRlZmxhdGVSYXcoYSx7dG86InN0cmluZyJ9KX07RWRpdG9yLmZhc3REZWNvbXByZXNzPWZ1bmN0aW9uKGEpe3JldHVybiBudWxsPT1hfHwwPT1hLmxlbmd0aHx8InVuZGVmaW5lZCI9PT10eXBlb2YgcGFrbz9hOnBha28uaW5mbGF0ZVJhdyhhLHt0bzoic3RyaW5nIn0pfTtFZGl0b3IuZXh0cmFjdEdyYXBoTW9kZWw9ZnVuY3Rpb24oYSxiLGUpe2lmKG51bGwhPWEmJiJ1bmRlZmluZWQiIT09dHlwZW9mIHBha28pe3ZhciBjPWEub3duZXJEb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiZGl2IiksZD1bXTtpZihudWxsIT1jJiYwPGMubGVuZ3RoKWZvcih2YXIgZj0wO2Y8Yy5sZW5ndGg7ZisrKWlmKCJteGdyYXBoIj09Y1tmXS5nZXRBdHRyaWJ1dGUoImNsYXNzIikpe2QucHVzaChjW2ZdKTticmVha30wPGQubGVuZ3RoJiYKKGM9ZFswXS5nZXRBdHRyaWJ1dGUoImRhdGEtbXhncmFwaCIpLG51bGwhPWM/KGQ9SlNPTi5wYXJzZShjKSxudWxsIT1kJiZudWxsIT1kLnhtbCYmKGE9bXhVdGlscy5wYXJzZVhtbChkLnhtbCksYT1hLmRvY3VtZW50RWxlbWVudCkpOihkPWRbMF0uZ2V0RWxlbWVudHNCeVRhZ05hbWUoImRpdiIpLDA8ZC5sZW5ndGgmJihjPW14VXRpbHMuZ2V0VGV4dENvbnRlbnQoZFswXSksYz1HcmFwaC5kZWNvbXByZXNzKGMsbnVsbCxlKSwwPGMubGVuZ3RoJiYoYT1teFV0aWxzLnBhcnNlWG1sKGMpLGE9YS5kb2N1bWVudEVsZW1lbnQpKSkpfWlmKG51bGwhPWEmJiJzdmciPT1hLm5vZGVOYW1lKWlmKGM9YS5nZXRBdHRyaWJ1dGUoImNvbnRlbnQiKSxudWxsIT1jJiYiPCIhPWMuY2hhckF0KDApJiYiJSIhPWMuY2hhckF0KDApJiYoYz11bmVzY2FwZSh3aW5kb3cuYXRvYj9hdG9iKGMpOkJhc2U2NC5kZWNvZGUoY29udCxjKSkpLG51bGwhPWMmJiIlIj09Yy5jaGFyQXQoMCkmJihjPWRlY29kZVVSSUNvbXBvbmVudChjKSksCm51bGwhPWMmJjA8Yy5sZW5ndGgpYT1teFV0aWxzLnBhcnNlWG1sKGMpLmRvY3VtZW50RWxlbWVudDtlbHNlIHRocm93e21lc3NhZ2U6bXhSZXNvdXJjZXMuZ2V0KCJub3RBRGlhZ3JhbUZpbGUiKX07bnVsbD09YXx8Ynx8KGQ9bnVsbCwiZGlhZ3JhbSI9PWEubm9kZU5hbWU/ZD1hOiJteGZpbGUiPT1hLm5vZGVOYW1lJiYoYz1hLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJkaWFncmFtIiksMDxjLmxlbmd0aCYmKGQ9Y1tNYXRoLm1heCgwLE1hdGgubWluKGMubGVuZ3RoLTEsdXJsUGFyYW1zLnBhZ2V8fDApKV0pKSxudWxsIT1kJiYoYT1FZGl0b3IucGFyc2VEaWFncmFtTm9kZShkLGUpKSk7bnVsbD09YXx8Im14R3JhcGhNb2RlbCI9PWEubm9kZU5hbWV8fGImJiJteGZpbGUiPT1hLm5vZGVOYW1lfHwoYT1udWxsKTtyZXR1cm4gYX07RWRpdG9yLnBhcnNlRGlhZ3JhbU5vZGU9ZnVuY3Rpb24oYSxiKXt2YXIgZT1teFV0aWxzLnRyaW0obXhVdGlscy5nZXRUZXh0Q29udGVudChhKSksYz1udWxsOwowPGUubGVuZ3RoPyhlPUdyYXBoLmRlY29tcHJlc3MoZSxudWxsLGIpLG51bGwhPWUmJjA8ZS5sZW5ndGgmJihjPW14VXRpbHMucGFyc2VYbWwoZSkuZG9jdW1lbnRFbGVtZW50KSk6KGU9bXhVdGlscy5nZXRDaGlsZE5vZGVzKGEpLDA8ZS5sZW5ndGgmJihjPW14VXRpbHMuY3JlYXRlWG1sRG9jdW1lbnQoKSxjLmFwcGVuZENoaWxkKGMuaW1wb3J0Tm9kZShlWzBdLCEwKSksYz1jLmRvY3VtZW50RWxlbWVudCkpO3JldHVybiBjfTtFZGl0b3IuZ2V0RGlhZ3JhbU5vZGVYbWw9ZnVuY3Rpb24oYSl7dmFyIGI9bXhVdGlscy5nZXRUZXh0Q29udGVudChhKSxlPW51bGw7MDxiLmxlbmd0aD9lPUdyYXBoLmRlY29tcHJlc3MoYik6bnVsbCE9YS5maXJzdENoaWxkJiYoZT1teFV0aWxzLmdldFhtbChhLmZpcnN0Q2hpbGQpKTtyZXR1cm4gZX07RWRpdG9yLmV4dHJhY3RHcmFwaE1vZGVsRnJvbVBkZj1mdW5jdGlvbihhKXthPWEuc3Vic3RyaW5nKGEuaW5kZXhPZigiLCIpKzEpO2E9d2luZG93LmF0b2ImJgohbXhDbGllbnQuSVNfU0Y/YXRvYihhKTpCYXNlNjQuZGVjb2RlKGEsITApO2Zvcih2YXIgYj1udWxsLGU9IiIsYz0wLGQ9MCxmPVtdLGc9bnVsbDtkPGEubGVuZ3RoOyl7dmFyIGw9YS5jaGFyQ29kZUF0KGQpLGQ9ZCsxOzEwIT1sJiYoZSs9U3RyaW5nLmZyb21DaGFyQ29kZShsKSk7bD09Ii9TdWJqZWN0ICglM0NteGZpbGUiLmNoYXJDb2RlQXQoYyk/YysrOmM9MDtpZigxOT09Yyl7dmFyIHA9YS5pbmRleE9mKCIlM0MlMkZteGZpbGUlM0UpIixkKSsxNSxkPWQtOTtpZihwPmQpe2I9YS5zdWJzdHJpbmcoZCxwKTticmVha319MTA9PWwmJigiZW5kb2JqIj09ZT9nPW51bGw6Im9iaiI9PWUuc3Vic3RyaW5nKGUubGVuZ3RoLTMsZS5sZW5ndGgpfHwieHJlZiI9PWV8fCJ0cmFpbGVyIj09ZT8oZz1bXSxmW2Uuc3BsaXQoIiAiKVswXV09Zyk6bnVsbCE9ZyYmZy5wdXNoKGUpLGU9IiIpfW51bGw9PWImJihiPUVkaXRvci5leHRyYWN0R3JhcGhNb2RlbEZyb21YcmVmKGYpKTtudWxsIT1iJiYKKGI9ZGVjb2RlVVJJQ29tcG9uZW50KGIucmVwbGFjZSgvXFxcKC9nLCIoIikucmVwbGFjZSgvXFxcKS9nLCIpIikpKTtyZXR1cm4gYn07RWRpdG9yLmV4dHJhY3RHcmFwaE1vZGVsRnJvbVhyZWY9ZnVuY3Rpb24oYSl7dmFyIGI9YS50cmFpbGVyLGU9bnVsbDtudWxsIT1iJiYoYj0vLiogXC9JbmZvIChcZCspIChcZCspIFIvZy5leGVjKGIuam9pbigiXG4iKSksbnVsbCE9YiYmMDxiLmxlbmd0aCYmKGI9YVtiWzFdXSxudWxsIT1iJiYoYj0vLiogXC9TdWJqZWN0IChcZCspIChcZCspIFIvZy5leGVjKGIuam9pbigiXG4iKSksbnVsbCE9YiYmMDxiLmxlbmd0aCYmKGE9YVtiWzFdXSxudWxsIT1hJiYoYT1hLmpvaW4oIlxuIiksZT1hLnN1YnN0cmluZygxLGEubGVuZ3RoLTEpKSkpKSk7cmV0dXJuIGV9O0VkaXRvci5leHRyYWN0R3JhcGhNb2RlbEZyb21Qbmc9ZnVuY3Rpb24oYSl7dmFyIGI9bnVsbDt0cnl7dmFyIGU9YS5zdWJzdHJpbmcoYS5pbmRleE9mKCIsIikrMSksYz13aW5kb3cuYXRvYiYmCiFteENsaWVudC5JU19TRj9hdG9iKGUpOkJhc2U2NC5kZWNvZGUoZSwhMCk7RWRpdG9yVWkucGFyc2VQbmcoYyxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhLGUsZCl7YT1jLnN1YnN0cmluZyhhKzgsYSs4K2QpOyJ6VFh0Ij09ZT8oZD1hLmluZGV4T2YoU3RyaW5nLmZyb21DaGFyQ29kZSgwKSksIm14R3JhcGhNb2RlbCI9PWEuc3Vic3RyaW5nKDAsZCkmJihhPXBha28uaW5mbGF0ZVJhdyhhLnN1YnN0cmluZyhkKzIpLHt0bzoic3RyaW5nIn0pLnJlcGxhY2UoL1wrL2csIiAiKSxudWxsIT1hJiYwPGEubGVuZ3RoJiYoYj1hKSkpOiJ0RVh0Ij09ZSYmKGE9YS5zcGxpdChTdHJpbmcuZnJvbUNoYXJDb2RlKDApKSwxPGEubGVuZ3RoJiYoIm14R3JhcGhNb2RlbCI9PWFbMF18fCJteGZpbGUiPT1hWzBdKSYmKGI9YVsxXSkpO2lmKG51bGwhPWJ8fCJJREFUIj09ZSlyZXR1cm4hMH0pKX1jYXRjaChQKXt9bnVsbCE9YiYmIiUiPT1iLmNoYXJBdCgwKSYmKGI9ZGVjb2RlVVJJQ29tcG9uZW50KGIpKTsKbnVsbCE9YiYmIiUiPT1iLmNoYXJBdCgwKSYmKGI9ZGVjb2RlVVJJQ29tcG9uZW50KGIpKTtyZXR1cm4gYn07RWRpdG9yLmV4dHJhY3RQYXJzZXJFcnJvcj1mdW5jdGlvbihhLGIpe3ZhciBlPW51bGwsYz1udWxsIT1hP2EuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInBhcnNlcmVycm9yIik6bnVsbDtudWxsIT1jJiYwPGMubGVuZ3RoJiYoZT1ifHxteFJlc291cmNlcy5nZXQoImludmFsaWRDaGFycyIpLGM9Y1swXS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiZGl2IiksMDxjLmxlbmd0aCYmKGU9bXhVdGlscy5nZXRUZXh0Q29udGVudChjWzBdKSkpO3JldHVybiBudWxsIT1lP214VXRpbHMudHJpbShlKTplfTtFZGl0b3IuY29uZmlndXJlPWZ1bmN0aW9uKGEsYil7aWYobnVsbCE9YSl7RWRpdG9yLmNvbmZpZz1hO0VkaXRvci5jb25maWdWZXJzaW9uPWEudmVyc2lvbjtNZW51cy5wcm90b3R5cGUuZGVmYXVsdEZvbnRzPWEuZGVmYXVsdEZvbnRzfHxNZW51cy5wcm90b3R5cGUuZGVmYXVsdEZvbnRzOwpDb2xvckRpYWxvZy5wcm90b3R5cGUucHJlc2V0Q29sb3JzPWEucHJlc2V0Q29sb3JzfHxDb2xvckRpYWxvZy5wcm90b3R5cGUucHJlc2V0Q29sb3JzO0NvbG9yRGlhbG9nLnByb3RvdHlwZS5kZWZhdWx0Q29sb3JzPWEuZGVmYXVsdENvbG9yc3x8Q29sb3JEaWFsb2cucHJvdG90eXBlLmRlZmF1bHRDb2xvcnM7U3R5bGVGb3JtYXRQYW5lbC5wcm90b3R5cGUuZGVmYXVsdENvbG9yU2NoZW1lcz1hLmRlZmF1bHRDb2xvclNjaGVtZXN8fFN0eWxlRm9ybWF0UGFuZWwucHJvdG90eXBlLmRlZmF1bHRDb2xvclNjaGVtZXM7R3JhcGgucHJvdG90eXBlLmRlZmF1bHRFZGdlTGVuZ3RoPWEuZGVmYXVsdEVkZ2VMZW5ndGh8fEdyYXBoLnByb3RvdHlwZS5kZWZhdWx0RWRnZUxlbmd0aDtEcmF3aW9GaWxlLnByb3RvdHlwZS5hdXRvc2F2ZURlbGF5PWEuYXV0b3NhdmVEZWxheXx8RHJhd2lvRmlsZS5wcm90b3R5cGUuYXV0b3NhdmVEZWxheTtudWxsIT1hLnRlbXBsYXRlRmlsZSYmKEVkaXRvclVpLnRlbXBsYXRlRmlsZT0KYS50ZW1wbGF0ZUZpbGUpO251bGwhPWEuZ2xvYmFsVmFycyYmKEVkaXRvci5nbG9iYWxWYXJzPWEuZ2xvYmFsVmFycyk7bnVsbCE9YS5jb21wcmVzc1htbCYmKEVkaXRvci5jb21wcmVzc1htbD1hLmNvbXByZXNzWG1sKTthLmN1c3RvbUZvbnRzJiYoTWVudXMucHJvdG90eXBlLmRlZmF1bHRGb250cz1hLmN1c3RvbUZvbnRzLmNvbmNhdChNZW51cy5wcm90b3R5cGUuZGVmYXVsdEZvbnRzKSk7YS5jdXN0b21QcmVzZXRDb2xvcnMmJihDb2xvckRpYWxvZy5wcm90b3R5cGUucHJlc2V0Q29sb3JzPWEuY3VzdG9tUHJlc2V0Q29sb3JzLmNvbmNhdChDb2xvckRpYWxvZy5wcm90b3R5cGUucHJlc2V0Q29sb3JzKSk7bnVsbCE9YS5jdXN0b21Db2xvclNjaGVtZXMmJihTdHlsZUZvcm1hdFBhbmVsLnByb3RvdHlwZS5kZWZhdWx0Q29sb3JTY2hlbWVzPWEuY3VzdG9tQ29sb3JTY2hlbWVzLmNvbmNhdChTdHlsZUZvcm1hdFBhbmVsLnByb3RvdHlwZS5kZWZhdWx0Q29sb3JTY2hlbWVzKSk7aWYobnVsbCE9CmEuY3NzKXt2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzdHlsZSIpO2Uuc2V0QXR0cmlidXRlKCJ0eXBlIiwidGV4dC9jc3MiKTtlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGEuY3NzKSk7dmFyIGM9ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInNjcmlwdCIpWzBdO2MucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZSxjKX1udWxsIT1hLmxpYnJhcmllcyYmKFNpZGViYXIucHJvdG90eXBlLmN1c3RvbUVudHJpZXM9YS5saWJyYXJpZXMpO251bGwhPWEuZW5hYmxlZExpYnJhcmllcyYmKFNpZGViYXIucHJvdG90eXBlLmVuYWJsZWRMaWJyYXJpZXM9YS5lbmFibGVkTGlicmFyaWVzKTtudWxsIT1hLmRlZmF1bHRMaWJyYXJpZXMmJihTaWRlYmFyLnByb3RvdHlwZS5kZWZhdWx0RW50cmllcz1hLmRlZmF1bHRMaWJyYXJpZXMpO251bGwhPWEuZGVmYXVsdEN1c3RvbUxpYnJhcmllcyYmKEVkaXRvci5kZWZhdWx0Q3VzdG9tTGlicmFyaWVzPWEuZGVmYXVsdEN1c3RvbUxpYnJhcmllcyk7Cm51bGwhPWEuZW5hYmxlQ3VzdG9tTGlicmFyaWVzJiYoRWRpdG9yLmVuYWJsZUN1c3RvbUxpYnJhcmllcz1hLmVuYWJsZUN1c3RvbUxpYnJhcmllcyk7bnVsbCE9YS5kZWZhdWx0VmVydGV4U3R5bGUmJihHcmFwaC5wcm90b3R5cGUuZGVmYXVsdFZlcnRleFN0eWxlPWEuZGVmYXVsdFZlcnRleFN0eWxlKTtudWxsIT1hLmRlZmF1bHRFZGdlU3R5bGUmJihHcmFwaC5wcm90b3R5cGUuZGVmYXVsdEVkZ2VTdHlsZT1hLmRlZmF1bHRFZGdlU3R5bGUpO2EuZW1wdHlEaWFncmFtWG1sJiYoRWRpdG9yVWkucHJvdG90eXBlLmVtcHR5RGlhZ3JhbVhtbD1hLmVtcHR5RGlhZ3JhbVhtbCk7YS50aHVtYldpZHRoJiYoU2lkZWJhci5wcm90b3R5cGUudGh1bWJXaWR0aD1hLnRodW1iV2lkdGgpO2EudGh1bWJIZWlnaHQmJihTaWRlYmFyLnByb3RvdHlwZS50aHVtYkhlaWdodD1hLnRodW1iSGVpZ2h0KTthLmVtcHR5TGlicmFyeVhtbCYmKEVkaXRvclVpLnByb3RvdHlwZS5lbXB0eUxpYnJhcnlYbWw9YS5lbXB0eUxpYnJhcnlYbWwpOwphLnNpZGViYXJXaWR0aCYmKEVkaXRvclVpLnByb3RvdHlwZS5oc3BsaXRQb3NpdGlvbj1hLnNpZGViYXJXaWR0aCk7YS5mb250Q3NzJiZFZGl0b3IuY29uZmlndXJlRm9udENzcyhhLmZvbnRDc3MpO251bGwhPWEuYXV0b3NhdmVEZWxheSYmKGU9cGFyc2VJbnQoYS5hdXRvc2F2ZURlbGF5KSwhaXNOYU4oZSkmJjA8ZT9EcmF3aW9GaWxlLnByb3RvdHlwZS5hdXRvc2F2ZURlbGF5PWU6RWRpdG9yVWkuZGVidWcoIkludmFsaWQgYXV0b3NhdmVEZWxheTogIithLmF1dG9zYXZlRGVsYXkpKTtpZihudWxsIT1hLnBsdWdpbnMmJiFiKWZvcihBcHAuaW5pdFBsdWdpbkNhbGxiYWNrKCksZT0wO2U8YS5wbHVnaW5zLmxlbmd0aDtlKyspbXhzY3JpcHQoYS5wbHVnaW5zW2VdKX19O0VkaXRvci5jb25maWd1cmVGb250Q3NzPWZ1bmN0aW9uKGEpe2lmKG51bGwhPWEpe0VkaXRvci5wcm90b3R5cGUuZm9udENzcz1hO3ZhciBiPWRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJzY3JpcHQiKVswXTsKaWYobnVsbCE9YiYmbnVsbCE9Yi5wYXJlbnROb2RlKXt2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzdHlsZSIpO2Uuc2V0QXR0cmlidXRlKCJ0eXBlIiwidGV4dC9jc3MiKTtlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGEpKTtiLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGUsYik7YT1hLnNwbGl0KCJ1cmwoIik7Zm9yKGU9MTtlPGEubGVuZ3RoO2UrKyl7dmFyIGM9YVtlXS5pbmRleE9mKCIpIiksYz1FZGl0b3IudHJpbUNzc1VybChhW2VdLnN1YnN0cmluZygwLGMpKSxkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImxpbmsiKTtkLnNldEF0dHJpYnV0ZSgicmVsIiwicHJlbG9hZCIpO2Quc2V0QXR0cmlidXRlKCJocmVmIixjKTtkLnNldEF0dHJpYnV0ZSgiYXMiLCJmb250Iik7ZC5zZXRBdHRyaWJ1dGUoImNyb3Nzb3JpZ2luIiwiIik7Yi5wYXJlbnROb2RlLmluc2VydEJlZm9yZShkLGIpfX19fTtFZGl0b3IudHJpbUNzc1VybD1mdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKFJlZ0V4cCgiXltcXHNcIiddKyIsCiJnIiksIiIpLnJlcGxhY2UoUmVnRXhwKCJbXFxzXCInXSskIiwiZyIpLCIiKX07RWRpdG9yLkdPT0dMRV9GT05UUz0iaHR0cHM6Ly9mb250cy5nb29nbGVhcGlzLmNvbS9jc3M/ZmFtaWx5PSI7RWRpdG9yLkdVSURfQUxQSEFCRVQ9IjAxMjM0NTY3ODlhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ekFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaLV8iO0VkaXRvci5HVUlEX0xFTkdUSD0yMDtFZGl0b3IuZ3VpZD1mdW5jdGlvbihhKXthPW51bGwhPWE/YTpFZGl0b3IuR1VJRF9MRU5HVEg7Zm9yKHZhciBiPVtdLGU9MDtlPGE7ZSsrKWIucHVzaChFZGl0b3IuR1VJRF9BTFBIQUJFVC5jaGFyQXQoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKkVkaXRvci5HVUlEX0FMUEhBQkVULmxlbmd0aCkpKTtyZXR1cm4gYi5qb2luKCIiKX07RWRpdG9yLnByb3RvdHlwZS50aW1lb3V0PTI1RTM7RWRpdG9yLnByb3RvdHlwZS51c2VGb3JlaWduT2JqZWN0Rm9yTWF0aD0hbXhDbGllbnQuSVNfU0Y7RWRpdG9yLnByb3RvdHlwZS5lZGl0QnV0dG9uTGluaz0KbnVsbCE9dXJsUGFyYW1zLmVkaXQ/ZGVjb2RlVVJJQ29tcG9uZW50KHVybFBhcmFtcy5lZGl0KTpudWxsO0VkaXRvci5wcm90b3R5cGUuY3Jvc3NPcmlnaW5JbWFnZXM9IW14Q2xpZW50LklTX0lFO3ZhciBhPUVkaXRvci5wcm90b3R5cGUuc2V0R3JhcGhYbWw7RWRpdG9yLnByb3RvdHlwZS5zZXRHcmFwaFhtbD1mdW5jdGlvbihiKXtiPW51bGwhPWImJiJteGxpYnJhcnkiIT1iLm5vZGVOYW1lP3RoaXMuZXh0cmFjdEdyYXBoTW9kZWwoYik6bnVsbDtpZihudWxsIT1iKXt2YXIgZT1iLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJwYXJzZXJlcnJvciIpO2lmKG51bGwhPWUmJjA8ZS5sZW5ndGgpe3ZhciBlPWVbMF0sYz1lLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJkaXYiKTtudWxsIT1jJiYwPGMubGVuZ3RoJiYoZT1jWzBdKTt0aHJvd3ttZXNzYWdlOm14VXRpbHMuZ2V0VGV4dENvbnRlbnQoZSl9O31pZigibXhHcmFwaE1vZGVsIj09Yi5ub2RlTmFtZSl7ZT1iLmdldEF0dHJpYnV0ZSgic3R5bGUiKXx8CiJkZWZhdWx0LXN0eWxlMiI7aWYoIjEiPT11cmxQYXJhbXMuZW1iZWR8fG51bGwhPWUmJiIiIT1lKWUhPXRoaXMuZ3JhcGguY3VycmVudFN0eWxlJiYoYz1udWxsIT10aGlzLmdyYXBoLnRoZW1lcz90aGlzLmdyYXBoLnRoZW1lc1tlXTpteFV0aWxzLmxvYWQoU1RZTEVfUEFUSCsiLyIrZSsiLnhtbCIpLmdldERvY3VtZW50RWxlbWVudCgpLG51bGwhPWMmJihkPW5ldyBteENvZGVjKGMub3duZXJEb2N1bWVudCksZC5kZWNvZGUoYyx0aGlzLmdyYXBoLmdldFN0eWxlc2hlZXQoKSkpKTtlbHNlIGlmKGM9bnVsbCE9dGhpcy5ncmFwaC50aGVtZXM/dGhpcy5ncmFwaC50aGVtZXNbImRlZmF1bHQtb2xkIl06bXhVdGlscy5sb2FkKFNUWUxFX1BBVEgrIi9kZWZhdWx0LW9sZC54bWwiKS5nZXREb2N1bWVudEVsZW1lbnQoKSxudWxsIT1jKXt2YXIgZD1uZXcgbXhDb2RlYyhjLm93bmVyRG9jdW1lbnQpO2QuZGVjb2RlKGMsdGhpcy5ncmFwaC5nZXRTdHlsZXNoZWV0KCkpfXRoaXMuZ3JhcGguY3VycmVudFN0eWxlPQplO3RoaXMuZ3JhcGgubWF0aEVuYWJsZWQ9IjEiPT11cmxQYXJhbXMubWF0aHx8IjEiPT1iLmdldEF0dHJpYnV0ZSgibWF0aCIpO2U9Yi5nZXRBdHRyaWJ1dGUoImJhY2tncm91bmRJbWFnZSIpO251bGwhPWU/KGU9SlNPTi5wYXJzZShlKSx0aGlzLmdyYXBoLnNldEJhY2tncm91bmRJbWFnZShuZXcgbXhJbWFnZShlLnNyYyxlLndpZHRoLGUuaGVpZ2h0KSkpOnRoaXMuZ3JhcGguc2V0QmFja2dyb3VuZEltYWdlKG51bGwpO214Q2xpZW50Lk5PX0ZPPXRoaXMuZ3JhcGgubWF0aEVuYWJsZWQmJiF0aGlzLnVzZUZvcmVpZ25PYmplY3RGb3JNYXRoPyEwOnRoaXMub3JpZ2luYWxOb0ZvcmVpZ25PYmplY3Q7dGhpcy5ncmFwaC51c2VDc3NUcmFuc2Zvcm1zPSFteENsaWVudC5OT19GTyYmdGhpcy5pc0Nocm9tZWxlc3NWaWV3KCkmJnRoaXMuZ3JhcGguaXNDc3NUcmFuc2Zvcm1zU3VwcG9ydGVkKCk7dGhpcy5ncmFwaC51cGRhdGVDc3NUcmFuc2Zvcm0oKTt0aGlzLmdyYXBoLnNldFNoYWRvd1Zpc2libGUoIjEiPT0KYi5nZXRBdHRyaWJ1dGUoInNoYWRvdyIpLCExKTtpZihlPWIuZ2V0QXR0cmlidXRlKCJleHRGb250cyIpKXRyeXtmb3IoZT1lLnNwbGl0KCJ8IikubWFwKGZ1bmN0aW9uKGEpe2E9YS5zcGxpdCgiXiIpO3JldHVybntuYW1lOmFbMF0sdXJsOmFbMV19fSksYz0wO2M8ZS5sZW5ndGg7YysrKXRoaXMuZ3JhcGguYWRkRXh0Rm9udChlW2NdLm5hbWUsZVtjXS51cmwpfWNhdGNoKFApe2NvbnNvbGUubG9nKCJFeHRGb250cyBmb3JtYXQgZXJyb3I6ICIrUC5tZXNzYWdlKX19YS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZWxzZSB0aHJvd3ttZXNzYWdlOm14UmVzb3VyY2VzLmdldCgibm90QURpYWdyYW1GaWxlIil8fCJJbnZhbGlkIGRhdGEiLHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWVzc2FnZX19O307dmFyIGQ9RWRpdG9yLnByb3RvdHlwZS5nZXRHcmFwaFhtbDtFZGl0b3IucHJvdG90eXBlLmdldEdyYXBoWG1sPWZ1bmN0aW9uKGEpe2E9bnVsbCE9YT9hOiEwO3ZhciBiPWQuYXBwbHkodGhpcywKYXJndW1lbnRzKTtudWxsIT10aGlzLmdyYXBoLmN1cnJlbnRTdHlsZSYmImRlZmF1bHQtc3R5bGUyIiE9dGhpcy5ncmFwaC5jdXJyZW50U3R5bGUmJmIuc2V0QXR0cmlidXRlKCJzdHlsZSIsdGhpcy5ncmFwaC5jdXJyZW50U3R5bGUpO251bGwhPXRoaXMuZ3JhcGguYmFja2dyb3VuZEltYWdlJiZiLnNldEF0dHJpYnV0ZSgiYmFja2dyb3VuZEltYWdlIixKU09OLnN0cmluZ2lmeSh0aGlzLmdyYXBoLmJhY2tncm91bmRJbWFnZSkpO2Iuc2V0QXR0cmlidXRlKCJtYXRoIix0aGlzLmdyYXBoLm1hdGhFbmFibGVkPyIxIjoiMCIpO2Iuc2V0QXR0cmlidXRlKCJzaGFkb3ciLHRoaXMuZ3JhcGguc2hhZG93VmlzaWJsZT8iMSI6IjAiKTtpZihudWxsIT10aGlzLmdyYXBoLmV4dEZvbnRzJiYwPHRoaXMuZ3JhcGguZXh0Rm9udHMubGVuZ3RoKXt2YXIgZT10aGlzLmdyYXBoLmV4dEZvbnRzLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS5uYW1lKyJeIithLnVybH0pO2Iuc2V0QXR0cmlidXRlKCJleHRGb250cyIsCmUuam9pbigifCIpKX1yZXR1cm4gYn07RWRpdG9yLnByb3RvdHlwZS5pc0RhdGFTdmc9ZnVuY3Rpb24oYSl7dHJ5e3ZhciBiPW14VXRpbHMucGFyc2VYbWwoYSkuZG9jdW1lbnRFbGVtZW50LmdldEF0dHJpYnV0ZSgiY29udGVudCIpO2lmKG51bGwhPWImJihudWxsIT1iJiYiPCIhPWIuY2hhckF0KDApJiYiJSIhPWIuY2hhckF0KDApJiYoYj11bmVzY2FwZSh3aW5kb3cuYXRvYj9hdG9iKGIpOkJhc2U2NC5kZWNvZGUoY29udCxiKSkpLG51bGwhPWImJiIlIj09Yi5jaGFyQXQoMCkmJihiPWRlY29kZVVSSUNvbXBvbmVudChiKSksbnVsbCE9YiYmMDxiLmxlbmd0aCkpe3ZhciBlPW14VXRpbHMucGFyc2VYbWwoYikuZG9jdW1lbnRFbGVtZW50O3JldHVybiJteGZpbGUiPT1lLm5vZGVOYW1lfHwibXhHcmFwaE1vZGVsIj09ZS5ub2RlTmFtZX19Y2F0Y2goTSl7fXJldHVybiExfTtFZGl0b3IucHJvdG90eXBlLmV4dHJhY3RHcmFwaE1vZGVsPWZ1bmN0aW9uKGEsYixlKXtyZXR1cm4gRWRpdG9yLmV4dHJhY3RHcmFwaE1vZGVsLmFwcGx5KHRoaXMsCmFyZ3VtZW50cyl9O3ZhciBmPUVkaXRvci5wcm90b3R5cGUucmVzZXRHcmFwaDtFZGl0b3IucHJvdG90eXBlLnJlc2V0R3JhcGg9ZnVuY3Rpb24oKXt0aGlzLmdyYXBoLm1hdGhFbmFibGVkPSIxIj09dXJsUGFyYW1zLm1hdGg7dGhpcy5ncmFwaC52aWV3LngwPW51bGw7dGhpcy5ncmFwaC52aWV3LnkwPW51bGw7bXhDbGllbnQuTk9fRk89dGhpcy5ncmFwaC5tYXRoRW5hYmxlZCYmIXRoaXMudXNlRm9yZWlnbk9iamVjdEZvck1hdGg/ITA6dGhpcy5vcmlnaW5hbE5vRm9yZWlnbk9iamVjdDt0aGlzLmdyYXBoLnVzZUNzc1RyYW5zZm9ybXM9IW14Q2xpZW50Lk5PX0ZPJiZ0aGlzLmlzQ2hyb21lbGVzc1ZpZXcoKSYmdGhpcy5ncmFwaC5pc0Nzc1RyYW5zZm9ybXNTdXBwb3J0ZWQoKTt0aGlzLmdyYXBoLnVwZGF0ZUNzc1RyYW5zZm9ybSgpO2YuYXBwbHkodGhpcyxhcmd1bWVudHMpfTt2YXIgYz1FZGl0b3IucHJvdG90eXBlLnVwZGF0ZUdyYXBoQ29tcG9uZW50cztFZGl0b3IucHJvdG90eXBlLnVwZGF0ZUdyYXBoQ29tcG9uZW50cz0KZnVuY3Rpb24oKXtjLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtteENsaWVudC5OT19GTz10aGlzLmdyYXBoLm1hdGhFbmFibGVkJiYhdGhpcy51c2VGb3JlaWduT2JqZWN0Rm9yTWF0aCYmbnVsbCE9RWRpdG9yLk1hdGhKYXhSZW5kZXI/ITA6dGhpcy5vcmlnaW5hbE5vRm9yZWlnbk9iamVjdDt0aGlzLmdyYXBoLnVzZUNzc1RyYW5zZm9ybXM9IW14Q2xpZW50Lk5PX0ZPJiZ0aGlzLmlzQ2hyb21lbGVzc1ZpZXcoKSYmdGhpcy5ncmFwaC5pc0Nzc1RyYW5zZm9ybXNTdXBwb3J0ZWQoKTt0aGlzLmdyYXBoLnVwZGF0ZUNzc1RyYW5zZm9ybSgpfTtFZGl0b3IuaW5pdE1hdGg9ZnVuY3Rpb24oYSxiKXthPW51bGwhPWE/YTpEUkFXX01BVEhfVVJMKyIvTWF0aEpheC5qcyI7RWRpdG9yLm1hdGhKYXhRdWV1ZT1bXTtFZGl0b3IuZG9NYXRoSmF4UmVuZGVyPWZ1bmN0aW9uKGEpe3dpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ImhpZGRlbiIhPWEuc3R5bGUudmlzaWJpbGl0eSYmTWF0aEpheC5IdWIuUXVldWUoWyJUeXBlc2V0IiwKTWF0aEpheC5IdWIsYV0pfSwwKX07dmFyIGU9bnVsbCE9dXJsUGFyYW1zWyJtYXRoLWZvbnQiXT9kZWNvZGVVUklDb21wb25lbnQodXJsUGFyYW1zWyJtYXRoLWZvbnQiXSk6IlRlWCI7Yj1udWxsIT1iP2I6e2pheDpbImlucHV0L1RlWCIsImlucHV0L01hdGhNTCIsImlucHV0L0FzY2lpTWF0aCJdLmNvbmNhdChbImh0bWwiPT11cmxQYXJhbXNbIm1hdGgtb3V0cHV0Il0/Im91dHB1dC9IVE1MLUNTUyI6Im91dHB1dC9TVkciXSksZXh0ZW5zaW9uczpbInRleDJqYXguanMiLCJtbWwyamF4LmpzIiwiYXNjaWltYXRoMmpheC5qcyJdLFRlWDp7ZXh0ZW5zaW9uczpbIkFNU21hdGguanMiLCJBTVNzeW1ib2xzLmpzIiwibm9FcnJvcnMuanMiLCJub1VuZGVmaW5lZC5qcyJdfSwiSFRNTC1DU1MiOnthdmFpbGFibGVGb250czpbZV0saW1hZ2VGb250Om51bGx9LFNWRzp7Zm9udDplLHVzZUZvbnRDYWNoZTohMX0sdGV4MmpheDp7aWdub3JlQ2xhc3M6Im14Q2VsbEVkaXRvciJ9LGFzY2lpbWF0aDJqYXg6e2lnbm9yZUNsYXNzOiJteENlbGxFZGl0b3IifX07CndpbmRvdy5NYXRoSmF4PXtza2lwU3RhcnR1cFR5cGVzZXQ6ITAsc2hvd01hdGhNZW51OiExLG1lc3NhZ2VTdHlsZToibm9uZSIsQXV0aG9ySW5pdDpmdW5jdGlvbigpe01hdGhKYXguSHViLkNvbmZpZyhiKTtNYXRoSmF4Lkh1Yi5SZWdpc3Rlci5TdGFydHVwSG9vaygiQmVnaW4iLGZ1bmN0aW9uKCl7Zm9yKHZhciBhPTA7YTxFZGl0b3IubWF0aEpheFF1ZXVlLmxlbmd0aDthKyspRWRpdG9yLmRvTWF0aEpheFJlbmRlcihFZGl0b3IubWF0aEpheFF1ZXVlW2FdKX0pfX07RWRpdG9yLk1hdGhKYXhSZW5kZXI9ZnVuY3Rpb24oYSl7InVuZGVmaW5lZCIhPT10eXBlb2YgTWF0aEpheCYmInVuZGVmaW5lZCIhPT10eXBlb2YgTWF0aEpheC5IdWI/RWRpdG9yLmRvTWF0aEpheFJlbmRlcihhKTpFZGl0b3IubWF0aEpheFF1ZXVlLnB1c2goYSl9O0VkaXRvci5NYXRoSmF4Q2xlYXI9ZnVuY3Rpb24oKXtFZGl0b3IubWF0aEpheFF1ZXVlPVtdfTt2YXIgYz1FZGl0b3IucHJvdG90eXBlLmluaXQ7RWRpdG9yLnByb3RvdHlwZS5pbml0PQpmdW5jdGlvbigpe2MuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuZ3JhcGguYWRkTGlzdGVuZXIobXhFdmVudC5TSVpFLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEsYil7bnVsbCE9dGhpcy5ncmFwaC5jb250YWluZXImJnRoaXMuZ3JhcGgubWF0aEVuYWJsZWQmJiF0aGlzLmdyYXBoLmJsb2NrTWF0aFJlbmRlciYmRWRpdG9yLk1hdGhKYXhSZW5kZXIodGhpcy5ncmFwaC5jb250YWluZXIpfSkpfTtlPWRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJzY3JpcHQiKTtpZihudWxsIT1lJiYwPGUubGVuZ3RoKXt2YXIgZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKTtkLnR5cGU9InRleHQvamF2YXNjcmlwdCI7ZC5zcmM9YTtlWzBdLnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQoZCl9fTtFZGl0b3IucHJvdG90eXBlLmNzdlRvQXJyYXk9ZnVuY3Rpb24oYSl7aWYoIS9eXHMqKD86J1teJ1xcXSooPzpcXFtcU1xzXVteJ1xcXSopKid8IlteIlxcXSooPzpcXFtcU1xzXVteIlxcXSopKiJ8W14sJyJcc1xcXSooPzpccytbXiwnIlxzXFxdKykqKVxzKig/OixccyooPzonW14nXFxdKig/OlxcW1xTXHNdW14nXFxdKikqJ3wiW14iXFxdKig/OlxcW1xTXHNdW14iXFxdKikqInxbXiwnIlxzXFxdKig/OlxzK1teLCciXHNcXF0rKSopXHMqKSokLy50ZXN0KGEpKXJldHVybiBudWxsOwp2YXIgYj1bXTthLnJlcGxhY2UoLyg/IVxzKiQpXHMqKD86JyhbXidcXF0qKD86XFxbXFNcc11bXidcXF0qKSopJ3wiKFteIlxcXSooPzpcXFtcU1xzXVteIlxcXSopKikifChbXiwnIlxzXFxdKig/OlxzK1teLCciXHNcXF0rKSopKVxzKig/Oix8JCkvZyxmdW5jdGlvbihhLGUsYyxkKXt2b2lkIDAhPT1lP2IucHVzaChlLnJlcGxhY2UoL1xcJy9nLCInIikpOnZvaWQgMCE9PWM/Yi5wdXNoKGMucmVwbGFjZSgvXFwiL2csJyInKSk6dm9pZCAwIT09ZCYmYi5wdXNoKGQpO3JldHVybiIifSk7LyxccyokLy50ZXN0KGEpJiZiLnB1c2goIiIpO3JldHVybiBifTtFZGl0b3IucHJvdG90eXBlLmlzQ29yc0VuYWJsZWRGb3JVcmw9ZnVuY3Rpb24oYSl7aWYobXhDbGllbnQuSVNfQ0hST01FQVBQfHxFZGl0b3JVaS5pc0VsZWN0cm9uQXBwKXJldHVybiEwO251bGwhPXVybFBhcmFtcy5jb3JzJiZudWxsPT10aGlzLmNvcnNSZWdFeHAmJih0aGlzLmNvcnNSZWdFeHA9bmV3IFJlZ0V4cChkZWNvZGVVUklDb21wb25lbnQodXJsUGFyYW1zLmNvcnMpKSk7CnJldHVybiBudWxsIT10aGlzLmNvcnNSZWdFeHAmJnRoaXMuY29yc1JlZ0V4cC50ZXN0KGEpfHwiaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tLyI9PT1hLnN1YnN0cmluZygwLDM0KX07RWRpdG9yLnByb3RvdHlwZS5jcmVhdGVJbWFnZVVybENvbnZlcnRlcj1mdW5jdGlvbigpe3ZhciBhPW5ldyBteFVybENvbnZlcnRlcjthLnVwZGF0ZUJhc2VVcmwoKTt2YXIgYj1hLmNvbnZlcnQsZT10aGlzO2EuY29udmVydD1mdW5jdGlvbihjKXtpZihudWxsIT1jKXt2YXIgZD0iaHR0cDovLyI9PWMuc3Vic3RyaW5nKDAsNyl8fCJodHRwczovLyI9PWMuc3Vic3RyaW5nKDAsOCk7ZCYmIW5hdmlnYXRvci5vbkxpbmU/Yz1FZGl0b3Iuc3ZnQnJva2VuSW1hZ2Uuc3JjOiFkfHxjLnN1YnN0cmluZygwLGEuYmFzZVVybC5sZW5ndGgpPT1hLmJhc2VVcmx8fGUuY3Jvc3NPcmlnaW5JbWFnZXMmJmUuaXNDb3JzRW5hYmxlZEZvclVybChjKT8iY2hyb21lLWV4dGVuc2lvbjovLyI9PWMuc3Vic3RyaW5nKDAsCjE5KXx8bXhDbGllbnQuSVNfQ0hST01FQVBQfHwoYz1iLmFwcGx5KHRoaXMsYXJndW1lbnRzKSk6Yz1QUk9YWV9VUkwrIj91cmw9IitlbmNvZGVVUklDb21wb25lbnQoYyl9cmV0dXJuIGN9O3JldHVybiBhfTtFZGl0b3IuY3JlYXRlU3ZnRGF0YVVyaT1mdW5jdGlvbihhKXtyZXR1cm4iZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCwiK2J0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KGEpKSl9O0VkaXRvci5wcm90b3R5cGUuY29udmVydEltYWdlVG9EYXRhVXJpPWZ1bmN0aW9uKGEsYil7dHJ5e3ZhciBlPSEwLGM9d2luZG93LnNldFRpbWVvdXQobXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXtlPSExO2IoRWRpdG9yLnN2Z0Jyb2tlbkltYWdlLnNyYyl9KSx0aGlzLnRpbWVvdXQpO2lmKC8oXC5zdmcpJC9pLnRlc3QoYSkpbXhVdGlscy5nZXQoYSxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXt3aW5kb3cuY2xlYXJUaW1lb3V0KGMpO2UmJmIoRWRpdG9yLmNyZWF0ZVN2Z0RhdGFVcmkoYS5nZXRUZXh0KCkpKX0pLApmdW5jdGlvbigpe3dpbmRvdy5jbGVhclRpbWVvdXQoYyk7ZSYmYihFZGl0b3Iuc3ZnQnJva2VuSW1hZ2Uuc3JjKX0pO2Vsc2V7dmFyIGQ9bmV3IEltYWdlO3RoaXMuY3Jvc3NPcmlnaW5JbWFnZXMmJihkLmNyb3NzT3JpZ2luPSJhbm9ueW1vdXMiKTtkLm9ubG9hZD1mdW5jdGlvbigpe3dpbmRvdy5jbGVhclRpbWVvdXQoYyk7aWYoZSl0cnl7dmFyIGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIiksZj1hLmdldENvbnRleHQoIjJkIik7YS5oZWlnaHQ9ZC5oZWlnaHQ7YS53aWR0aD1kLndpZHRoO2YuZHJhd0ltYWdlKGQsMCwwKTtiKGEudG9EYXRhVVJMKCkpfWNhdGNoKGVhKXtiKEVkaXRvci5zdmdCcm9rZW5JbWFnZS5zcmMpfX07ZC5vbmVycm9yPWZ1bmN0aW9uKCl7d2luZG93LmNsZWFyVGltZW91dChjKTtlJiZiKEVkaXRvci5zdmdCcm9rZW5JbWFnZS5zcmMpfTtkLnNyYz1hfX1jYXRjaChJKXtiKEVkaXRvci5zdmdCcm9rZW5JbWFnZS5zcmMpfX07RWRpdG9yLnByb3RvdHlwZS5jb252ZXJ0SW1hZ2VzPQpmdW5jdGlvbihhLGIsZSxjKXtudWxsPT1jJiYoYz10aGlzLmNyZWF0ZUltYWdlVXJsQ29udmVydGVyKCkpO3ZhciBkPTAsZj1lfHx7fTtlPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGUsZyl7Zm9yKHZhciBsPWEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoZSkscD0wO3A8bC5sZW5ndGg7cCsrKW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGUpe3RyeXtpZihudWxsIT1lKXt2YXIgbD1jLmNvbnZlcnQoZS5nZXRBdHRyaWJ1dGUoZykpO2lmKG51bGwhPWwmJiJkYXRhOiIhPWwuc3Vic3RyaW5nKDAsNSkpe3ZhciBwPWZbbF07bnVsbD09cD8oZCsrLHRoaXMuY29udmVydEltYWdlVG9EYXRhVXJpKGwsZnVuY3Rpb24oYyl7bnVsbCE9YyYmKGZbbF09YyxlLnNldEF0dHJpYnV0ZShnLGMpKTtkLS07MD09ZCYmYihhKX0pKTplLnNldEF0dHJpYnV0ZShnLHApfWVsc2UgbnVsbCE9bCYmZS5zZXRBdHRyaWJ1dGUoZyxsKX19Y2F0Y2goZ2Epe319KShsW3BdKX0pO2UoImltYWdlIiwieGxpbms6aHJlZiIpOwplKCJpbWciLCJzcmMiKTswPT1kJiZiKGEpfTtFZGl0b3IuYmFzZTY0RW5jb2RlPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0iIixlPTAsYz1hLmxlbmd0aCxkLGYsZztlPGM7KXtkPWEuY2hhckNvZGVBdChlKyspJjI1NTtpZihlPT1jKXtiKz0iQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyIuY2hhckF0KGQ+PjIpO2IrPSJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvIi5jaGFyQXQoKGQmMyk8PDQpO2IrPSI9PSI7YnJlYWt9Zj1hLmNoYXJDb2RlQXQoZSsrKTtpZihlPT1jKXtiKz0iQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyIuY2hhckF0KGQ+PjIpO2IrPSJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvIi5jaGFyQXQoKGQmCjMpPDw0fChmJjI0MCk+PjQpO2IrPSJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvIi5jaGFyQXQoKGYmMTUpPDwyKTtiKz0iPSI7YnJlYWt9Zz1hLmNoYXJDb2RlQXQoZSsrKTtiKz0iQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyIuY2hhckF0KGQ+PjIpO2IrPSJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvIi5jaGFyQXQoKGQmMyk8PDR8KGYmMjQwKT4+NCk7Yis9IkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky8iLmNoYXJBdCgoZiYxNSk8PDJ8KGcmMTkyKT4+Nik7Yis9IkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky8iLmNoYXJBdChnJjYzKX1yZXR1cm4gYn07CkVkaXRvci5wcm90b3R5cGUubG9hZFVybD1mdW5jdGlvbihhLGIsZSxjLGQsZixnLGwpe3RyeXt2YXIgcD0hZyYmKGN8fC8oXC5wbmcpKCR8XD8pL2kudGVzdChhKXx8LyhcLmpwZT9nKSgkfFw/KS9pLnRlc3QoYSl8fC8oXC5naWYpKCR8XD8pL2kudGVzdChhKXx8LyhcLnBkZikoJHxcPykvaS50ZXN0KGEpKTtkPW51bGwhPWQ/ZDohMDt2YXIgbj1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe214VXRpbHMuZ2V0KGEsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7aWYoMjAwPD1hLmdldFN0YXR1cygpJiYyOTk+PWEuZ2V0U3RhdHVzKCkpe2lmKG51bGwhPWIpe3ZhciBjPWEuZ2V0VGV4dCgpO2lmKHApe2lmKCg5PT1kb2N1bWVudC5kb2N1bWVudE1vZGV8fDEwPT1kb2N1bWVudC5kb2N1bWVudE1vZGUpJiYidW5kZWZpbmVkIiE9PXR5cGVvZiB3aW5kb3cubXhVdGlsc0JpbmFyeVRvQXJyYXkpe2E9bXhVdGlsc0JpbmFyeVRvQXJyYXkoYS5yZXF1ZXN0LnJlc3BvbnNlQm9keSkudG9BcnJheSgpOwpmb3IodmFyIGM9QXJyYXkoYS5sZW5ndGgpLGQ9MDtkPGEubGVuZ3RoO2QrKyljW2RdPVN0cmluZy5mcm9tQ2hhckNvZGUoYVtkXSk7Yz1jLmpvaW4oIiIpfWY9bnVsbCE9Zj9mOiJkYXRhOmltYWdlL3BuZztiYXNlNjQsIjtjPWYrRWRpdG9yLmJhc2U2NEVuY29kZShjKX1iKGMpfX1lbHNlIG51bGwhPWUmJigwPT1hLmdldFN0YXR1cygpP2Uoe21lc3NhZ2U6bXhSZXNvdXJjZXMuZ2V0KCJhY2Nlc3NEZW5pZWQiKX0sYSk6ZSh7bWVzc2FnZTpteFJlc291cmNlcy5nZXQoImVycm9yIikrIiAiK2EuZ2V0U3RhdHVzKCl9LGEpKX0pLGZ1bmN0aW9uKGEpe251bGwhPWUmJmUoe21lc3NhZ2U6bXhSZXNvdXJjZXMuZ2V0KCJlcnJvciIpKyIgIithLmdldFN0YXR1cygpfSl9LHAsdGhpcy50aW1lb3V0LGZ1bmN0aW9uKCl7ZCYmbnVsbCE9ZSYmZSh7Y29kZTpBcHAuRVJST1JfVElNRU9VVCxyZXRyeTpufSl9LGwpfSk7bigpfWNhdGNoKFope251bGwhPWUmJmUoWil9fTtFZGl0b3IucHJvdG90eXBlLmFic29sdXRlQ3NzRm9udHM9CmZ1bmN0aW9uKGEpe3ZhciBiPW51bGw7aWYobnVsbCE9YSl7dmFyIGU9YS5zcGxpdCgidXJsKCIpO2lmKDA8ZS5sZW5ndGgpe2I9W2VbMF1dO2E9d2luZG93LmxvY2F0aW9uLnBhdGhuYW1lO3ZhciBjPW51bGwhPWE/YS5sYXN0SW5kZXhPZigiLyIpOi0xOzA8PWMmJihhPWEuc3Vic3RyaW5nKDAsYysxKSk7dmFyIGM9ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImJhc2UiKSxkPW51bGw7bnVsbCE9YyYmMDxjLmxlbmd0aCYmKGQ9Y1swXS5nZXRBdHRyaWJ1dGUoImhyZWYiKSk7Zm9yKHZhciBmPTE7ZjxlLmxlbmd0aDtmKyspaWYoYz1lW2ZdLmluZGV4T2YoIikiKSwwPGMpe3ZhciBnPUVkaXRvci50cmltQ3NzVXJsKGVbZl0uc3Vic3RyaW5nKDAsYykpO3RoaXMuZ3JhcGguaXNSZWxhdGl2ZVVybChnKSYmKGc9bnVsbCE9ZD9kK2c6d2luZG93LmxvY2F0aW9uLnByb3RvY29sKyIvLyIrd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lKygiLyI9PWcuY2hhckF0KDApPyIiOmEpK2cpOwpiLnB1c2goJ3VybCgiJytnKyciJytlW2ZdLnN1YnN0cmluZyhjKSl9ZWxzZSBiLnB1c2goZVtmXSl9ZWxzZSBiPVthXX1yZXR1cm4gbnVsbCE9Yj9iLmpvaW4oIiIpOm51bGx9O0VkaXRvci5wcm90b3R5cGUuZW1iZWRDc3NGb250cz1mdW5jdGlvbihhLGIpe3ZhciBlPWEuc3BsaXQoInVybCgiKSxjPTA7bnVsbD09dGhpcy5jYWNoZWRGb250cyYmKHRoaXMuY2FjaGVkRm9udHM9e30pO3ZhciBkPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7aWYoMD09Yyl7Zm9yKHZhciBhPVtlWzBdXSxkPTE7ZDxlLmxlbmd0aDtkKyspe3ZhciBmPWVbZF0uaW5kZXhPZigiKSIpO2EucHVzaCgndXJsKCInKTthLnB1c2godGhpcy5jYWNoZWRGb250c1tFZGl0b3IudHJpbUNzc1VybChlW2RdLnN1YnN0cmluZygwLGYpKV0pO2EucHVzaCgnIicrZVtkXS5zdWJzdHJpbmcoZikpfWIoYS5qb2luKCIiKSl9fSk7aWYoMDxlLmxlbmd0aCl7Zm9yKHZhciBmPTE7ZjxlLmxlbmd0aDtmKyspe3ZhciBnPWVbZl0uaW5kZXhPZigiKSIpLApsPW51bGwscD1lW2ZdLmluZGV4T2YoImZvcm1hdCgiLGcpOzA8cCYmKGw9RWRpdG9yLnRyaW1Dc3NVcmwoZVtmXS5zdWJzdHJpbmcocCs3LGVbZl0uaW5kZXhPZigiKSIscCkpKSk7bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7aWYobnVsbD09dGhpcy5jYWNoZWRGb250c1thXSl7dGhpcy5jYWNoZWRGb250c1thXT1hO2MrKzt2YXIgYj0iYXBwbGljYXRpb24veC1mb250LXR0ZiI7aWYoInN2ZyI9PWx8fC8oXC5zdmcpKCR8XD8pL2kudGVzdChhKSliPSJpbWFnZS9zdmcreG1sIjtlbHNlIGlmKCJvdGYiPT1sfHwiZW1iZWRkZWQtb3BlbnR5cGUiPT1sfHwvKFwub3RmKSgkfFw/KS9pLnRlc3QoYSkpYj0iYXBwbGljYXRpb24veC1mb250LW9wZW50eXBlIjtlbHNlIGlmKCJ3b2ZmIj09bHx8LyhcLndvZmYpKCR8XD8pL2kudGVzdChhKSliPSJhcHBsaWNhdGlvbi9mb250LXdvZmYiO2Vsc2UgaWYoIndvZmYyIj09bHx8LyhcLndvZmYyKSgkfFw/KS9pLnRlc3QoYSkpYj0iYXBwbGljYXRpb24vZm9udC13b2ZmMiI7CmVsc2UgaWYoImVvdCI9PWx8fC8oXC5lb3QpKCR8XD8pL2kudGVzdChhKSliPSJhcHBsaWNhdGlvbi92bmQubXMtZm9udG9iamVjdCI7ZWxzZSBpZigic2ZudCI9PWx8fC8oXC5zZm50KSgkfFw/KS9pLnRlc3QoYSkpYj0iYXBwbGljYXRpb24vZm9udC1zZm50Ijt2YXIgZT1hOy9eaHR0cHM/OlwvXC8vLnRlc3QoZSkmJiF0aGlzLmlzQ29yc0VuYWJsZWRGb3JVcmwoZSkmJihlPVBST1hZX1VSTCsiP3VybD0iK2VuY29kZVVSSUNvbXBvbmVudChhKSk7dGhpcy5sb2FkVXJsKGUsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYil7dGhpcy5jYWNoZWRGb250c1thXT1iO2MtLTtkKCl9KSxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXtjLS07ZCgpfSksITAsbnVsbCwiZGF0YToiK2IrIjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCwiKX19KShFZGl0b3IudHJpbUNzc1VybChlW2ZdLnN1YnN0cmluZygwLGcpKSxsKX1kKCl9ZWxzZSBiKGEpfTtFZGl0b3IucHJvdG90eXBlLmxvYWRGb250cz0KZnVuY3Rpb24oYSl7bnVsbCE9dGhpcy5mb250Q3NzJiZudWxsPT10aGlzLnJlc29sdmVkRm9udENzcz90aGlzLmVtYmVkQ3NzRm9udHModGhpcy5mb250Q3NzLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGIpe3RoaXMucmVzb2x2ZWRGb250Q3NzPWI7YSgpfSkpOmEoKX07RWRpdG9yLnByb3RvdHlwZS5lbWJlZEV4dEZvbnRzPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZ3JhcGguZXh0Rm9udHM7aWYobnVsbCE9YiYmMDxiLmxlbmd0aCl7dmFyIGU9IiIsYz0wO251bGw9PXRoaXMuY2FjaGVkR29vZ2xlRm9udHMmJih0aGlzLmNhY2hlZEdvb2dsZUZvbnRzPXt9KTtmb3IodmFyIGQ9bXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXswPT1jJiZ0aGlzLmVtYmVkQ3NzRm9udHMoZSxhKX0pLGY9MDtmPGIubGVuZ3RoO2YrKylteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhLGIpezA9PWIuaW5kZXhPZihFZGl0b3IuR09PR0xFX0ZPTlRTKT9udWxsPT10aGlzLmNhY2hlZEdvb2dsZUZvbnRzW2JdPwooYysrLHRoaXMubG9hZFVybChiLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3RoaXMuY2FjaGVkR29vZ2xlRm9udHNbYl09YTtlKz1hO2MtLTtkKCl9KSxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXtjLS07ZSs9IkBpbXBvcnQgdXJsKCIrYisiKTsiO2QoKX0pKSk6ZSs9dGhpcy5jYWNoZWRHb29nbGVGb250c1tiXTplKz0nQGZvbnQtZmFjZSB7Zm9udC1mYW1pbHk6ICInK2ErJyI7c3JjOiB1cmwoIicrYisnIik7fSd9KShiW2ZdLm5hbWUsYltmXS51cmwpO2QoKX1lbHNlIGEoKX07RWRpdG9yLnByb3RvdHlwZS5hZGRNYXRoQ3NzPWZ1bmN0aW9uKGEpe2E9YS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiZGVmcyIpO2lmKG51bGwhPWEmJjA8YS5sZW5ndGgpZm9yKHZhciBiPWRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJzdHlsZSIpLGU9MDtlPGIubGVuZ3RoO2UrKykwPG14VXRpbHMuZ2V0VGV4dENvbnRlbnQoYltlXSkuaW5kZXhPZigiTWF0aEpheCIpJiZhWzBdLmFwcGVuZENoaWxkKGJbZV0uY2xvbmVOb2RlKCEwKSl9OwpFZGl0b3IucHJvdG90eXBlLmFkZEZvbnRDc3M9ZnVuY3Rpb24oYSxiKXtiPW51bGwhPWI/Yjp0aGlzLmFic29sdXRlQ3NzRm9udHModGhpcy5mb250Q3NzKTtpZihudWxsIT1iKXt2YXIgZT1hLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJkZWZzIiksYz1hLm93bmVyRG9jdW1lbnQ7MD09ZS5sZW5ndGg/KGU9bnVsbCE9Yy5jcmVhdGVFbGVtZW50TlM/Yy5jcmVhdGVFbGVtZW50TlMobXhDb25zdGFudHMuTlNfU1ZHLCJkZWZzIik6Yy5jcmVhdGVFbGVtZW50KCJkZWZzIiksbnVsbCE9YS5maXJzdENoaWxkP2EuaW5zZXJ0QmVmb3JlKGUsYS5maXJzdENoaWxkKTphLmFwcGVuZENoaWxkKGUpKTplPWVbMF07Yz1udWxsIT1jLmNyZWF0ZUVsZW1lbnROUz9jLmNyZWF0ZUVsZW1lbnROUyhteENvbnN0YW50cy5OU19TVkcsInN0eWxlIik6Yy5jcmVhdGVFbGVtZW50KCJzdHlsZSIpO2Muc2V0QXR0cmlidXRlKCJ0eXBlIiwidGV4dC9jc3MiKTtteFV0aWxzLnNldFRleHRDb250ZW50KGMsYik7ZS5hcHBlbmRDaGlsZChjKX19OwpFZGl0b3IucHJvdG90eXBlLmlzRXhwb3J0VG9DYW52YXM9ZnVuY3Rpb24oKXtyZXR1cm4gbXhDbGllbnQuSVNfQ0hST01FQVBQfHx0aGlzLnVzZUNhbnZhc0ZvckV4cG9ydH07RWRpdG9yLnByb3RvdHlwZS5leHBvcnRUb0NhbnZhcz1mdW5jdGlvbihhLGIsZSxjLGQsZixnLGwscCxuLHQsayxtLHksdix4KXt0cnl7Zj1udWxsIT1mP2Y6ITA7Zz1udWxsIT1nP2c6ITA7az1udWxsIT1rP2s6dGhpcy5ncmFwaDttPW51bGwhPW0/bTowO3ZhciB1PXA/bnVsbDprLmJhY2tncm91bmQ7dT09bXhDb25zdGFudHMuTk9ORSYmKHU9bnVsbCk7bnVsbD09dSYmKHU9Yyk7bnVsbD09dSYmMD09cCYmKHU9eD90aGlzLmdyYXBoLmRlZmF1bHRQYWdlQmFja2dyb3VuZENvbG9yOiIjZmZmZmZmIik7dGhpcy5jb252ZXJ0SW1hZ2VzKGsuZ2V0U3ZnKG51bGwsbnVsbCxudWxsLHksbnVsbCxnLG51bGwsbnVsbCxudWxsLG4sbnVsbCx4KSxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihlKXt0cnl7dmFyIGM9Cm5ldyBJbWFnZTtjLm9ubG9hZD1teFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe3RyeXt2YXIgZz1mdW5jdGlvbigpe214Q2xpZW50LklTX1NGP3dpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7eS5kcmF3SW1hZ2UoYyxtL2wsbS9sKTthKHApfSwwKTooeS5kcmF3SW1hZ2UoYyxtL2wsbS9sKSxhKHApKX0scD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKSxuPXBhcnNlSW50KGUuZ2V0QXR0cmlidXRlKCJ3aWR0aCIpKSx0PXBhcnNlSW50KGUuZ2V0QXR0cmlidXRlKCJoZWlnaHQiKSk7bD1udWxsIT1sP2w6MTtudWxsIT1iJiYobD1mP01hdGgubWluKDEsTWF0aC5taW4oMypiLyg0KnQpLGIvbikpOmIvbik7bj1NYXRoLmNlaWwobCpuKSsyKm07dD1NYXRoLmNlaWwobCp0KSsyKm07cC5zZXRBdHRyaWJ1dGUoIndpZHRoIixuKTtwLnNldEF0dHJpYnV0ZSgiaGVpZ2h0Iix0KTt2YXIgeT1wLmdldENvbnRleHQoIjJkIik7bnVsbCE9dSYmKHkuYmVnaW5QYXRoKCkseS5yZWN0KDAsCjAsbix0KSx5LmZpbGxTdHlsZT11LHkuZmlsbCgpKTt5LnNjYWxlKGwsbCk7aWYodil7dmFyIHg9ay52aWV3LEI9eC5zY2FsZTt4LnNjYWxlPTE7dmFyIHE9YnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoeC5jcmVhdGVTdmdHcmlkKHguZ3JpZENvbG9yKSkpKTt4LnNjYWxlPUI7dmFyIHE9ImRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsIitxLHo9ay5ncmlkU2l6ZSp4LmdyaWRTdGVwcypsLEU9ay5nZXRHcmFwaEJvdW5kcygpLEE9eC50cmFuc2xhdGUueCpCLEs9eC50cmFuc2xhdGUueSpCLEM9QSsoRS54LUEpL0IsST1LKyhFLnktSykvQixEPW5ldyBJbWFnZTtELm9ubG9hZD1mdW5jdGlvbigpe3RyeXtmb3IodmFyIGE9LU1hdGgucm91bmQoei1teFV0aWxzLm1vZCgoQS1DKSpsLHopKSxiPS1NYXRoLnJvdW5kKHotbXhVdGlscy5tb2QoKEstSSkqbCx6KSk7YTxuO2ErPXopZm9yKHZhciBlPWI7ZTx0O2UrPXopeS5kcmF3SW1hZ2UoRCxhL2wsZS9sKTtnKCl9Y2F0Y2goa2Epe251bGwhPQpkJiZkKGthKX19O0Qub25lcnJvcj1mdW5jdGlvbihhKXtudWxsIT1kJiZkKGEpfTtELnNyYz1xfWVsc2UgZygpfWNhdGNoKG9hKXtudWxsIT1kJiZkKG9hKX19KTtjLm9uZXJyb3I9ZnVuY3Rpb24oYSl7bnVsbCE9ZCYmZChhKX07biYmdGhpcy5ncmFwaC5hZGRTdmdTaGFkb3coZSk7dGhpcy5ncmFwaC5tYXRoRW5hYmxlZCYmdGhpcy5hZGRNYXRoQ3NzKGUpO3ZhciBnPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7dHJ5e251bGwhPXRoaXMucmVzb2x2ZWRGb250Q3NzJiZ0aGlzLmFkZEZvbnRDc3MoZSx0aGlzLnJlc29sdmVkRm9udENzcyksYy5zcmM9RWRpdG9yLmNyZWF0ZVN2Z0RhdGFVcmkobXhVdGlscy5nZXRYbWwoZSkpfWNhdGNoKE8pe251bGwhPWQmJmQoTyl9fSk7dGhpcy5lbWJlZEV4dEZvbnRzKG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3RyeXtudWxsIT1hJiZ0aGlzLmFkZEZvbnRDc3MoZSxhKSx0aGlzLmxvYWRGb250cyhnKX1jYXRjaChTKXtudWxsIT0KZCYmZChTKX19KSl9Y2F0Y2goTyl7bnVsbCE9ZCYmZChPKX19KSxlLHQpfWNhdGNoKFEpe251bGwhPWQmJmQoUSl9fTtFZGl0b3IuY3JjVGFibGU9W107Zm9yKHZhciBtPTA7MjU2Pm07bSsrKWZvcih2YXIgaz1tLHE9MDs4PnE7cSsrKWs9MT09KGsmMSk/Mzk4ODI5MjM4NF5rPj4+MTprPj4+MSxFZGl0b3IuY3JjVGFibGVbbV09aztFZGl0b3IudXBkYXRlQ1JDPWZ1bmN0aW9uKGEsYixlLGMpe2Zvcih2YXIgZD0wO2Q8YztkKyspYT1FZGl0b3IuY3JjVGFibGVbKGFeYi5jaGFyQ29kZUF0KGUrZCkpJjI1NV1eYT4+Pjg7cmV0dXJuIGF9O0VkaXRvci5jcmMzMj1mdW5jdGlvbihhKXtmb3IodmFyIGI9LTEsZT0wO2U8YS5sZW5ndGg7ZSsrKWI9Yj4+PjheRWRpdG9yLmNyY1RhYmxlWyhiXmEuY2hhckNvZGVBdChlKSkmMjU1XTtyZXR1cm4oYl4tMSk+Pj4wfTtFZGl0b3Iud3JpdGVHcmFwaE1vZGVsVG9Qbmc9ZnVuY3Rpb24oYSxiLGUsYyxkKXtmdW5jdGlvbiBmKGEsYil7dmFyIGU9cDtwKz0KYjtyZXR1cm4gYS5zdWJzdHJpbmcoZSxwKX1mdW5jdGlvbiBnKGEpe2E9ZihhLDQpO3JldHVybiBhLmNoYXJDb2RlQXQoMykrKGEuY2hhckNvZGVBdCgyKTw8OCkrKGEuY2hhckNvZGVBdCgxKTw8MTYpKyhhLmNoYXJDb2RlQXQoMCk8PDI0KX1mdW5jdGlvbiBsKGEpe3JldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKGE+PjI0JjI1NSxhPj4xNiYyNTUsYT4+OCYyNTUsYSYyNTUpfWE9YS5zdWJzdHJpbmcoYS5pbmRleE9mKCIsIikrMSk7YT13aW5kb3cuYXRvYj9hdG9iKGEpOkJhc2U2NC5kZWNvZGUoYSwhMCk7dmFyIHA9MDtpZihmKGEsOCkhPVN0cmluZy5mcm9tQ2hhckNvZGUoMTM3KSsiUE5HIitTdHJpbmcuZnJvbUNoYXJDb2RlKDEzLDEwLDI2LDEwKSludWxsIT1kJiZkKCk7ZWxzZSBpZihmKGEsNCksIklIRFIiIT1mKGEsNCkpbnVsbCE9ZCYmZCgpO2Vsc2V7ZihhLDE3KTtkPWEuc3Vic3RyaW5nKDAscCk7ZG97dmFyIG49ZyhhKTtpZigiSURBVCI9PWYoYSw0KSl7ZD1hLnN1YnN0cmluZygwLApwLTgpOyJwSFlzIj09YiYmImRwaSI9PWU/KGU9TWF0aC5yb3VuZChjLy4wMjU0KSxlPWwoZSkrbChlKStTdHJpbmcuZnJvbUNoYXJDb2RlKDEpKTplPWUrU3RyaW5nLmZyb21DaGFyQ29kZSgwKSsoInpUWHQiPT1iP1N0cmluZy5mcm9tQ2hhckNvZGUoMCk6IiIpK2M7Yz00Mjk0OTY3Mjk1O2M9RWRpdG9yLnVwZGF0ZUNSQyhjLGIsMCw0KTtjPUVkaXRvci51cGRhdGVDUkMoYyxlLDAsZS5sZW5ndGgpO2QrPWwoZS5sZW5ndGgpK2IrZStsKGNeNDI5NDk2NzI5NSk7ZCs9YS5zdWJzdHJpbmcocC04LGEubGVuZ3RoKTticmVha31kKz1hLnN1YnN0cmluZyhwLTgscC00K24pO2YoYSxuKTtmKGEsNCl9d2hpbGUobik7cmV0dXJuImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCwiKyh3aW5kb3cuYnRvYT9idG9hKGQpOkJhc2U2NC5lbmNvZGUoZCwhMCkpfX07aWYod2luZG93LkNvbG9yRGlhbG9nKXtGaWxlbmFtZURpYWxvZy5maWxlbmFtZUhlbHBMaW5rPSJodHRwczovL2Rlc2suZHJhdy5pby9zdXBwb3J0L3NvbHV0aW9ucy9hcnRpY2xlcy8xNjAwMDA5MTQyNiI7CnZhciBiPUNvbG9yRGlhbG9nLmFkZFJlY2VudENvbG9yO0NvbG9yRGlhbG9nLmFkZFJlY2VudENvbG9yPWZ1bmN0aW9uKGEsZSl7Yi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7bXhTZXR0aW5ncy5zZXRSZWNlbnRDb2xvcnMoQ29sb3JEaWFsb2cucmVjZW50Q29sb3JzKTtteFNldHRpbmdzLnNhdmUoKX07dmFyIGU9Q29sb3JEaWFsb2cucmVzZXRSZWNlbnRDb2xvcnM7Q29sb3JEaWFsb2cucmVzZXRSZWNlbnRDb2xvcnM9ZnVuY3Rpb24oKXtlLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtteFNldHRpbmdzLnNldFJlY2VudENvbG9ycyhDb2xvckRpYWxvZy5yZWNlbnRDb2xvcnMpO214U2V0dGluZ3Muc2F2ZSgpfX13aW5kb3cuRWRpdERhdGFEaWFsb2cmJihFZGl0RGF0YURpYWxvZy5nZXREaXNwbGF5SWRGb3JDZWxsPWZ1bmN0aW9uKGEsYil7dmFyIGU9bnVsbDtudWxsIT1hLmVkaXRvci5ncmFwaC5nZXRNb2RlbCgpLmdldFBhcmVudChiKT9lPWIuZ2V0SWQoKTpudWxsIT1hLmN1cnJlbnRQYWdlJiYKKGU9YS5jdXJyZW50UGFnZS5nZXRJZCgpKTtyZXR1cm4gZX0pO2lmKG51bGwhPXdpbmRvdy5TdHlsZUZvcm1hdFBhbmVsKXt2YXIgZz1Gb3JtYXQucHJvdG90eXBlLmluaXQ7Rm9ybWF0LnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKCl7Zy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5lZGl0b3JVaS5lZGl0b3IuYWRkTGlzdGVuZXIoImZpbGVMb2FkZWQiLHRoaXMudXBkYXRlKX07dmFyIHA9Rm9ybWF0LnByb3RvdHlwZS5yZWZyZXNoO0Zvcm1hdC5wcm90b3R5cGUucmVmcmVzaD1mdW5jdGlvbigpe251bGwhPXRoaXMuZWRpdG9yVWkuZ2V0Q3VycmVudEZpbGUoKXx8IjEiPT11cmxQYXJhbXMuZW1iZWR8fHRoaXMuZWRpdG9yVWkuZWRpdG9yLmNocm9tZWxlc3M/cC5hcHBseSh0aGlzLGFyZ3VtZW50cyk6dGhpcy5jbGVhcigpfTtEaWFncmFtRm9ybWF0UGFuZWwucHJvdG90eXBlLmlzU2hhZG93T3B0aW9uVmlzaWJsZT1mdW5jdGlvbigpe3ZhciBhPXRoaXMuZWRpdG9yVWkuZ2V0Q3VycmVudEZpbGUoKTsKcmV0dXJuIjEiPT11cmxQYXJhbXMuZW1iZWR8fG51bGwhPWEmJmEuaXNFZGl0YWJsZSgpfTtEaWFncmFtRm9ybWF0UGFuZWwucHJvdG90eXBlLmlzTWF0aE9wdGlvblZpc2libGU9ZnVuY3Rpb24oYSl7cmV0dXJuITF9O3ZhciBsPURpYWdyYW1Gb3JtYXRQYW5lbC5wcm90b3R5cGUuYWRkVmlldztEaWFncmFtRm9ybWF0UGFuZWwucHJvdG90eXBlLmFkZFZpZXc9ZnVuY3Rpb24oYSl7YT1sLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLmVkaXRvclVpLmdldEN1cnJlbnRGaWxlKCk7aWYobXhDbGllbnQuSVNfU1ZHJiZ0aGlzLmlzU2hhZG93T3B0aW9uVmlzaWJsZSgpKXt2YXIgYj10aGlzLmVkaXRvclVpLGU9Yi5lZGl0b3IuZ3JhcGgsYz10aGlzLmNyZWF0ZU9wdGlvbihteFJlc291cmNlcy5nZXQoInNoYWRvdyIpLGZ1bmN0aW9uKCl7cmV0dXJuIGUuc2hhZG93VmlzaWJsZX0sZnVuY3Rpb24oYSl7dmFyIGM9bmV3IENoYW5nZVBhZ2VTZXR1cChiKTtjLmlnbm9yZUNvbG9yPSEwO2MuaWdub3JlSW1hZ2U9CiEwO2Muc2hhZG93VmlzaWJsZT1hO2UubW9kZWwuZXhlY3V0ZShjKX0se2luc3RhbGw6ZnVuY3Rpb24oYSl7dGhpcy5saXN0ZW5lcj1mdW5jdGlvbigpe2EoZS5zaGFkb3dWaXNpYmxlKX07Yi5hZGRMaXN0ZW5lcigic2hhZG93VmlzaWJsZUNoYW5nZWQiLHRoaXMubGlzdGVuZXIpfSxkZXN0cm95OmZ1bmN0aW9uKCl7Yi5yZW1vdmVMaXN0ZW5lcih0aGlzLmxpc3RlbmVyKX19KTtFZGl0b3Iuc2hhZG93T3B0aW9uRW5hYmxlZHx8KGMuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImlucHV0IilbMF0uc2V0QXR0cmlidXRlKCJkaXNhYmxlZCIsImRpc2FibGVkIiksbXhVdGlscy5zZXRPcGFjaXR5KGMsNjApKTthLmFwcGVuZENoaWxkKGMpfXJldHVybiBhfTt2YXIgbj1EaWFncmFtRm9ybWF0UGFuZWwucHJvdG90eXBlLmFkZE9wdGlvbnM7RGlhZ3JhbUZvcm1hdFBhbmVsLnByb3RvdHlwZS5hZGRPcHRpb25zPWZ1bmN0aW9uKGEpe2E9bi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dmFyIGI9dGhpcy5lZGl0b3JVaSwKZT1iLmVkaXRvci5ncmFwaDtpZihlLmlzRW5hYmxlZCgpKXt2YXIgYz1iLmdldEN1cnJlbnRGaWxlKCk7aWYobnVsbCE9YyYmYy5pc0F1dG9zYXZlT3B0aW9uYWwoKSl7dmFyIGQ9dGhpcy5jcmVhdGVPcHRpb24obXhSZXNvdXJjZXMuZ2V0KCJhdXRvc2F2ZSIpLGZ1bmN0aW9uKCl7cmV0dXJuIGIuZWRpdG9yLmF1dG9zYXZlfSxmdW5jdGlvbihhKXtiLmVkaXRvci5zZXRBdXRvc2F2ZShhKTtiLmVkaXRvci5hdXRvc2F2ZSYmYy5pc01vZGlmaWVkKCkmJmMuZmlsZUNoYW5nZWQoKX0se2luc3RhbGw6ZnVuY3Rpb24oYSl7dGhpcy5saXN0ZW5lcj1mdW5jdGlvbigpe2EoYi5lZGl0b3IuYXV0b3NhdmUpfTtiLmVkaXRvci5hZGRMaXN0ZW5lcigiYXV0b3NhdmVDaGFuZ2VkIix0aGlzLmxpc3RlbmVyKX0sZGVzdHJveTpmdW5jdGlvbigpe2IuZWRpdG9yLnJlbW92ZUxpc3RlbmVyKHRoaXMubGlzdGVuZXIpfX0pO2EuYXBwZW5kQ2hpbGQoZCl9fWlmKHRoaXMuaXNNYXRoT3B0aW9uVmlzaWJsZSgpJiYKZS5pc0VuYWJsZWQoKSYmInVuZGVmaW5lZCIhPT10eXBlb2YgTWF0aEpheCl7ZD10aGlzLmNyZWF0ZU9wdGlvbihteFJlc291cmNlcy5nZXQoIm1hdGhlbWF0aWNhbFR5cGVzZXR0aW5nIiksZnVuY3Rpb24oKXtyZXR1cm4gZS5tYXRoRW5hYmxlZH0sZnVuY3Rpb24oYSl7Yi5hY3Rpb25zLmdldCgibWF0aGVtYXRpY2FsVHlwZXNldHRpbmciKS5mdW5jdCgpfSx7aW5zdGFsbDpmdW5jdGlvbihhKXt0aGlzLmxpc3RlbmVyPWZ1bmN0aW9uKCl7YShlLm1hdGhFbmFibGVkKX07Yi5hZGRMaXN0ZW5lcigibWF0aEVuYWJsZWRDaGFuZ2VkIix0aGlzLmxpc3RlbmVyKX0sZGVzdHJveTpmdW5jdGlvbigpe2IucmVtb3ZlTGlzdGVuZXIodGhpcy5saXN0ZW5lcil9fSk7ZC5zdHlsZS5wYWRkaW5nVG9wPSI1cHgiO2EuYXBwZW5kQ2hpbGQoZCk7dmFyIGY9Yi5tZW51cy5jcmVhdGVIZWxwTGluaygiaHR0cHM6Ly9kZXNrLmRyYXcuaW8vc3VwcG9ydC9zb2x1dGlvbnMvYXJ0aWNsZXMvMTYwMDAwMzI4NzUiKTsKZi5zdHlsZS5wb3NpdGlvbj0icmVsYXRpdmUiO2Yuc3R5bGUubWFyZ2luTGVmdD0iNnB4IjtmLnN0eWxlLnRvcD0iMnB4IjtkLmFwcGVuZENoaWxkKGYpfXJldHVybiBhfTtteENlbGxSZW5kZXJlci5wcm90b3R5cGUuZGVmYXVsdFZlcnRleFNoYXBlLnByb3RvdHlwZS5jdXN0b21Qcm9wZXJ0aWVzPVt7bmFtZToiYXJjU2l6ZSIsZGlzcE5hbWU6IkFyYyBTaXplIix0eXBlOiJmbG9hdCIsbWluOjAsZGVmVmFsOm14Q29uc3RhbnRzLkxJTkVfQVJDU0laRX0se25hbWU6ImFic29sdXRlQXJjU2l6ZSIsZGlzcE5hbWU6IkFicy4gQXJjIFNpemUiLHR5cGU6ImJvb2wiLGRlZlZhbDohMX1dO214Q2VsbFJlbmRlcmVyLmRlZmF1bHRTaGFwZXMubGluay5wcm90b3R5cGUuY3VzdG9tUHJvcGVydGllcz1be25hbWU6IndpZHRoIixkaXNwTmFtZToiV2lkdGgiLHR5cGU6ImZsb2F0IixtaW46MCxkZWZWYWw6NH1dO214Q2VsbFJlbmRlcmVyLmRlZmF1bHRTaGFwZXMuZmxleEFycm93LnByb3RvdHlwZS5jdXN0b21Qcm9wZXJ0aWVzPQpbe25hbWU6IndpZHRoIixkaXNwTmFtZToiV2lkdGgiLHR5cGU6ImZsb2F0IixtaW46MCxkZWZWYWw6MTB9LHtuYW1lOiJzdGFydFdpZHRoIixkaXNwTmFtZToiU3RhcnQgV2lkdGgiLHR5cGU6ImZsb2F0IixtaW46MCxkZWZWYWw6MjB9LHtuYW1lOiJlbmRXaWR0aCIsZGlzcE5hbWU6IkVuZCBXaWR0aCIsdHlwZToiZmxvYXQiLG1pbjowLGRlZlZhbDoyMH1dO214Q2VsbFJlbmRlcmVyLmRlZmF1bHRTaGFwZXMucHJvY2Vzcy5wcm90b3R5cGUuY3VzdG9tUHJvcGVydGllcz1be25hbWU6InNpemUiLGRpc3BOYW1lOiJJbmRlbnQiLHR5cGU6ImZsb2F0IixtaW46MCxtYXg6LjUsZGVmVmFsOi4xfV07bXhDZWxsUmVuZGVyZXIuZGVmYXVsdFNoYXBlcy5yaG9tYnVzLnByb3RvdHlwZS5jdXN0b21Qcm9wZXJ0aWVzPVt7bmFtZToiYXJjU2l6ZSIsZGlzcE5hbWU6IkFyYyBTaXplIix0eXBlOiJmbG9hdCIsbWluOjAsbWF4OjUwLGRlZlZhbDpteENvbnN0YW50cy5MSU5FX0FSQ1NJWkV9LHtuYW1lOiJkb3VibGUiLApkaXNwTmFtZToiRG91YmxlIix0eXBlOiJib29sIixkZWZWYWw6ITF9XTtteENlbGxSZW5kZXJlci5kZWZhdWx0U2hhcGVzLnBhcnRpYWxSZWN0YW5nbGUucHJvdG90eXBlLmN1c3RvbVByb3BlcnRpZXM9W3tuYW1lOiJ0b3AiLGRpc3BOYW1lOiJUb3AgTGluZSIsdHlwZToiYm9vbCIsZGVmVmFsOiEwfSx7bmFtZToiYm90dG9tIixkaXNwTmFtZToiQm90dG9tIExpbmUiLHR5cGU6ImJvb2wiLGRlZlZhbDohMH0se25hbWU6ImxlZnQiLGRpc3BOYW1lOiJMZWZ0IExpbmUiLHR5cGU6ImJvb2wiLGRlZlZhbDohMH0se25hbWU6InJpZ2h0IixkaXNwTmFtZToiUmlnaHQgTGluZSIsdHlwZToiYm9vbCIsZGVmVmFsOiEwfV07bXhDZWxsUmVuZGVyZXIuZGVmYXVsdFNoYXBlcy5wYXJhbGxlbG9ncmFtLnByb3RvdHlwZS5jdXN0b21Qcm9wZXJ0aWVzPVt7bmFtZToiYXJjU2l6ZSIsZGlzcE5hbWU6IkFyYyBTaXplIix0eXBlOiJmbG9hdCIsbWluOjAsZGVmVmFsOm14Q29uc3RhbnRzLkxJTkVfQVJDU0laRX0sCntuYW1lOiJzaXplIixkaXNwTmFtZToiU2xvcGUgQW5nbGUiLHR5cGU6ImZsb2F0IixtaW46MCxtYXg6MSxkZWZWYWw6LjJ9XTtteENlbGxSZW5kZXJlci5kZWZhdWx0U2hhcGVzLmhleGFnb24ucHJvdG90eXBlLmN1c3RvbVByb3BlcnRpZXM9W3tuYW1lOiJhcmNTaXplIixkaXNwTmFtZToiQXJjIFNpemUiLHR5cGU6ImZsb2F0IixtaW46MCxkZWZWYWw6bXhDb25zdGFudHMuTElORV9BUkNTSVpFfSx7bmFtZToic2l6ZSIsZGlzcE5hbWU6IlNsb3BlIEFuZ2xlIix0eXBlOiJmbG9hdCIsbWluOjAsbWF4OjEsZGVmVmFsOi4yNX1dO214Q2VsbFJlbmRlcmVyLmRlZmF1bHRTaGFwZXMudHJpYW5nbGUucHJvdG90eXBlLmN1c3RvbVByb3BlcnRpZXM9W3tuYW1lOiJhcmNTaXplIixkaXNwTmFtZToiQXJjIFNpemUiLHR5cGU6ImZsb2F0IixtaW46MCxkZWZWYWw6bXhDb25zdGFudHMuTElORV9BUkNTSVpFfV07bXhDZWxsUmVuZGVyZXIuZGVmYXVsdFNoYXBlcy5kb2N1bWVudC5wcm90b3R5cGUuY3VzdG9tUHJvcGVydGllcz0KW3tuYW1lOiJzaXplIixkaXNwTmFtZToiU2l6ZSIsdHlwZToiZmxvYXQiLGRlZlZhbDouMyxtaW46MCxtYXg6MX1dO214Q2VsbFJlbmRlcmVyLmRlZmF1bHRTaGFwZXMuaW50ZXJuYWxTdG9yYWdlLnByb3RvdHlwZS5jdXN0b21Qcm9wZXJ0aWVzPVt7bmFtZToiYXJjU2l6ZSIsZGlzcE5hbWU6IkFyYyBTaXplIix0eXBlOiJmbG9hdCIsbWluOjAsZGVmVmFsOm14Q29uc3RhbnRzLkxJTkVfQVJDU0laRX0se25hbWU6ImR4IixkaXNwTmFtZToiTGVmdCBMaW5lIix0eXBlOiJmbG9hdCIsbWluOjAsZGVmVmFsOjIwfSx7bmFtZToiZHkiLGRpc3BOYW1lOiJUb3AgTGluZSIsdHlwZToiZmxvYXQiLG1pbjowLGRlZlZhbDoyMH1dO214Q2VsbFJlbmRlcmVyLmRlZmF1bHRTaGFwZXMuY3ViZS5wcm90b3R5cGUuY3VzdG9tUHJvcGVydGllcz1be25hbWU6InNpemUiLGRpc3BOYW1lOiJTaXplIix0eXBlOiJmbG9hdCIsbWluOjAsZGVmVmFsOjIwfSx7bmFtZToiZGFya09wYWNpdHkiLGRpc3BOYW1lOiJEYXJrIE9wYWNpdHkiLAp0eXBlOiJmbG9hdCIsbWluOi0xLG1heDoxLGRlZlZhbDowfSx7bmFtZToiZGFya09wYWNpdHkyIixkaXNwTmFtZToiRGFyayBPcGFjaXR5IDIiLHR5cGU6ImZsb2F0IixtaW46LTEsbWF4OjEsZGVmVmFsOjB9XTtteENlbGxSZW5kZXJlci5kZWZhdWx0U2hhcGVzLnN0ZXAucHJvdG90eXBlLmN1c3RvbVByb3BlcnRpZXM9W3tuYW1lOiJzaXplIixkaXNwTmFtZToiTm90Y2ggU2l6ZSIsdHlwZToiZmxvYXQiLG1pbjowLGRlZlZhbDoyMH0se25hbWU6ImZpeGVkU2l6ZSIsZGlzcE5hbWU6IkZpeGVkIFNpemUiLHR5cGU6ImJvb2wiLGRlZlZhbDohMH1dO214Q2VsbFJlbmRlcmVyLmRlZmF1bHRTaGFwZXMudHJhcGV6b2lkLnByb3RvdHlwZS5jdXN0b21Qcm9wZXJ0aWVzPVt7bmFtZToiYXJjU2l6ZSIsZGlzcE5hbWU6IkFyYyBTaXplIix0eXBlOiJmbG9hdCIsbWluOjAsZGVmVmFsOm14Q29uc3RhbnRzLkxJTkVfQVJDU0laRX0se25hbWU6InNpemUiLGRpc3BOYW1lOiJTbG9wZSBBbmdsZSIsCnR5cGU6ImZsb2F0IixtaW46MCxtYXg6MSxkZWZWYWw6LjJ9XTtteENlbGxSZW5kZXJlci5kZWZhdWx0U2hhcGVzLnRhcGUucHJvdG90eXBlLmN1c3RvbVByb3BlcnRpZXM9W3tuYW1lOiJzaXplIixkaXNwTmFtZToiU2l6ZSIsdHlwZToiZmxvYXQiLG1pbjowLG1heDoxLGRlZlZhbDouNH1dO214Q2VsbFJlbmRlcmVyLmRlZmF1bHRTaGFwZXMubm90ZS5wcm90b3R5cGUuY3VzdG9tUHJvcGVydGllcz1be25hbWU6InNpemUiLGRpc3BOYW1lOiJGb2xkIFNpemUiLHR5cGU6ImZsb2F0IixtaW46MCxkZWZWYWw6MzB9LHtuYW1lOiJkYXJrT3BhY2l0eSIsZGlzcE5hbWU6IkRhcmsgT3BhY2l0eSIsdHlwZToiZmxvYXQiLG1pbjotMSxtYXg6MSxkZWZWYWw6MH1dO214Q2VsbFJlbmRlcmVyLmRlZmF1bHRTaGFwZXMuY2FyZC5wcm90b3R5cGUuY3VzdG9tUHJvcGVydGllcz1be25hbWU6ImFyY1NpemUiLGRpc3BOYW1lOiJBcmMgU2l6ZSIsdHlwZToiZmxvYXQiLG1pbjowLGRlZlZhbDpteENvbnN0YW50cy5MSU5FX0FSQ1NJWkV9LAp7bmFtZToic2l6ZSIsZGlzcE5hbWU6IkN1dG9mZiBTaXplIix0eXBlOiJmbG9hdCIsbWluOjAsZGVmVmFsOjMwfV07bXhDZWxsUmVuZGVyZXIuZGVmYXVsdFNoYXBlcy5jYWxsb3V0LnByb3RvdHlwZS5jdXN0b21Qcm9wZXJ0aWVzPVt7bmFtZToiYXJjU2l6ZSIsZGlzcE5hbWU6IkFyYyBTaXplIix0eXBlOiJmbG9hdCIsbWluOjAsZGVmVmFsOm14Q29uc3RhbnRzLkxJTkVfQVJDU0laRX0se25hbWU6ImJhc2UiLGRpc3BOYW1lOiJDYWxsb3V0IFdpZHRoIix0eXBlOiJmbG9hdCIsbWluOjAsZGVmVmFsOjIwfSx7bmFtZToic2l6ZSIsZGlzcE5hbWU6IkNhbGxvdXQgTGVuZ3RoIix0eXBlOiJmbG9hdCIsbWluOjAsZGVmVmFsOjMwfSx7bmFtZToicG9zaXRpb24iLGRpc3BOYW1lOiJDYWxsb3V0IFBvc2l0aW9uIix0eXBlOiJmbG9hdCIsbWluOjAsbWF4OjEsZGVmVmFsOi41fSx7bmFtZToicG9zaXRpb24yIixkaXNwTmFtZToiQ2FsbG91dCBUaXAgUG9zaXRpb24iLHR5cGU6ImZsb2F0IiwKbWluOjAsbWF4OjEsZGVmVmFsOi41fV07bXhDZWxsUmVuZGVyZXIuZGVmYXVsdFNoYXBlcy5mb2xkZXIucHJvdG90eXBlLmN1c3RvbVByb3BlcnRpZXM9W3tuYW1lOiJ0YWJXaWR0aCIsZGlzcE5hbWU6IlRhYiBXaWR0aCIsdHlwZToiZmxvYXQifSx7bmFtZToidGFiSGVpZ2h0IixkaXNwTmFtZToiVGFiIEhlaWdodCIsdHlwZToiZmxvYXQifSx7bmFtZToidGFiUG9zaXRpb24iLGRpc3BOYW1lOiJUYXAgUG9zaXRpb24iLHR5cGU6ImVudW0iLGVudW1MaXN0Olt7dmFsOiJsZWZ0IixkaXNwTmFtZToiTGVmdCJ9LHt2YWw6InJpZ2h0IixkaXNwTmFtZToiUmlnaHQifV19XTtteENlbGxSZW5kZXJlci5kZWZhdWx0U2hhcGVzLnN3aW1sYW5lLnByb3RvdHlwZS5jdXN0b21Qcm9wZXJ0aWVzPVt7bmFtZToiYXJjU2l6ZSIsZGlzcE5hbWU6IkFyYyBTaXplIix0eXBlOiJmbG9hdCIsbWluOjAsZGVmVmFsOjE1fSx7bmFtZToic3RhcnRTaXplIixkaXNwTmFtZToiSGVhZGVyIFNpemUiLHR5cGU6ImZsb2F0In0sCntuYW1lOiJob3Jpem9udGFsIixkaXNwTmFtZToiSG9yaXpvbnRhbCIsdHlwZToiYm9vbCIsZGVmVmFsOiEwfSx7bmFtZToic2VwYXJhdG9yQ29sb3IiLGRpc3BOYW1lOiJTZXBhcmF0b3IgQ29sb3IiLHR5cGU6ImNvbG9yIixkZWZWYWw6bnVsbH1dO214Q2VsbFJlbmRlcmVyLmRlZmF1bHRTaGFwZXMudGFibGUucHJvdG90eXBlLmN1c3RvbVByb3BlcnRpZXM9W3tuYW1lOiJyb3dMaW5lcyIsZGlzcE5hbWU6IlJvdyBMaW5lcyIsdHlwZToiYm9vbCIsZGVmVmFsOiEwfSx7bmFtZToiY29sdW1uTGluZXMiLGRpc3BOYW1lOiJDb2x1bW4gTGluZXMiLHR5cGU6ImJvb2wiLGRlZlZhbDohMH0se25hbWU6ImZpeGVkUm93cyIsZGlzcE5hbWU6IkZpeGVkIFJvd3MiLHR5cGU6ImJvb2wiLGRlZlZhbDohMX0se25hbWU6InJlc2l6ZUxhc3QiLGRpc3BOYW1lOiJSZXNpemUgTGFzdCBDb2x1bW4iLHR5cGU6ImJvb2wiLGRlZlZhbDohMX0se25hbWU6InJlc2l6ZUxhc3RSb3ciLGRpc3BOYW1lOiJSZXNpemUgTGFzdCBSb3ciLAp0eXBlOiJib29sIixkZWZWYWw6ITF9XS5jb25jYXQobXhDZWxsUmVuZGVyZXIuZGVmYXVsdFNoYXBlcy5zd2ltbGFuZS5wcm90b3R5cGUuY3VzdG9tUHJvcGVydGllcyk7bXhDZWxsUmVuZGVyZXIuZGVmYXVsdFNoYXBlcy5kb3VibGVFbGxpcHNlLnByb3RvdHlwZS5jdXN0b21Qcm9wZXJ0aWVzPVt7bmFtZToibWFyZ2luIixkaXNwTmFtZToiSW5kZW50Iix0eXBlOiJmbG9hdCIsbWluOjAsZGVmVmFsOjR9XTtteENlbGxSZW5kZXJlci5kZWZhdWx0U2hhcGVzLmV4dC5wcm90b3R5cGUuY3VzdG9tUHJvcGVydGllcz1be25hbWU6ImFyY1NpemUiLGRpc3BOYW1lOiJBcmMgU2l6ZSIsdHlwZToiZmxvYXQiLG1pbjowLGRlZlZhbDoxNX0se25hbWU6ImRvdWJsZSIsZGlzcE5hbWU6IkRvdWJsZSIsdHlwZToiYm9vbCIsZGVmVmFsOiExfSx7bmFtZToibWFyZ2luIixkaXNwTmFtZToiSW5kZW50Iix0eXBlOiJmbG9hdCIsbWluOjAsZGVmVmFsOjB9XTtteENlbGxSZW5kZXJlci5kZWZhdWx0U2hhcGVzLmN1cmx5QnJhY2tldC5wcm90b3R5cGUuY3VzdG9tUHJvcGVydGllcz0KW3tuYW1lOiJyb3VuZGVkIixkaXNwTmFtZToiUm91bmRlZCIsdHlwZToiYm9vbCIsZGVmVmFsOiEwfSx7bmFtZToic2l6ZSIsZGlzcE5hbWU6IlNpemUiLHR5cGU6ImZsb2F0IixtaW46MCxtYXg6MSxkZWZWYWw6LjV9XTtteENlbGxSZW5kZXJlci5kZWZhdWx0U2hhcGVzLmltYWdlLnByb3RvdHlwZS5jdXN0b21Qcm9wZXJ0aWVzPVt7bmFtZToiaW1hZ2VBc3BlY3QiLGRpc3BOYW1lOiJGaXhlZCBJbWFnZSBBc3BlY3QiLHR5cGU6ImJvb2wiLGRlZlZhbDohMH1dO214Q2VsbFJlbmRlcmVyLmRlZmF1bHRTaGFwZXMubGFiZWwucHJvdG90eXBlLmN1c3RvbVByb3BlcnRpZXM9W3tuYW1lOiJpbWFnZUFzcGVjdCIsZGlzcE5hbWU6IkZpeGVkIEltYWdlIEFzcGVjdCIsdHlwZToiYm9vbCIsZGVmVmFsOiEwfSx7bmFtZToiaW1hZ2VBbGlnbiIsZGlzcE5hbWU6IkltYWdlIEFsaWduIix0eXBlOiJlbnVtIixlbnVtTGlzdDpbe3ZhbDoibGVmdCIsZGlzcE5hbWU6IkxlZnQifSx7dmFsOiJjZW50ZXIiLApkaXNwTmFtZToiQ2VudGVyIn0se3ZhbDoicmlnaHQiLGRpc3BOYW1lOiJSaWdodCJ9XSxkZWZWYWw6ImxlZnQifSx7bmFtZToiaW1hZ2VWZXJ0aWNhbEFsaWduIixkaXNwTmFtZToiSW1hZ2UgVmVydGljYWwgQWxpZ24iLHR5cGU6ImVudW0iLGVudW1MaXN0Olt7dmFsOiJ0b3AiLGRpc3BOYW1lOiJUb3AifSx7dmFsOiJtaWRkbGUiLGRpc3BOYW1lOiJNaWRkbGUifSx7dmFsOiJib3R0b20iLGRpc3BOYW1lOiJCb3R0b20ifV0sZGVmVmFsOiJtaWRkbGUifSx7bmFtZToiaW1hZ2VXaWR0aCIsZGlzcE5hbWU6IkltYWdlIFdpZHRoIix0eXBlOiJmbG9hdCIsbWluOjAsZGVmVmFsOjI0fSx7bmFtZToiaW1hZ2VIZWlnaHQiLGRpc3BOYW1lOiJJbWFnZSBIZWlnaHQiLHR5cGU6ImZsb2F0IixtaW46MCxkZWZWYWw6MjR9LHtuYW1lOiJhcmNTaXplIixkaXNwTmFtZToiQXJjIFNpemUiLHR5cGU6ImZsb2F0IixtaW46MCxkZWZWYWw6MTJ9LHtuYW1lOiJhYnNvbHV0ZUFyY1NpemUiLGRpc3BOYW1lOiJBYnMuIEFyYyBTaXplIiwKdHlwZToiYm9vbCIsZGVmVmFsOiExfV07bXhDZWxsUmVuZGVyZXIuZGVmYXVsdFNoYXBlcy5kYXRhU3RvcmFnZS5wcm90b3R5cGUuY3VzdG9tUHJvcGVydGllcz1be25hbWU6InNpemUiLGRpc3BOYW1lOiJTaXplIix0eXBlOiJmbG9hdCIsbWluOjAsbWF4OjEsZGVmVmFsOi4xfV07bXhDZWxsUmVuZGVyZXIuZGVmYXVsdFNoYXBlcy5tYW51YWxJbnB1dC5wcm90b3R5cGUuY3VzdG9tUHJvcGVydGllcz1be25hbWU6InNpemUiLGRpc3BOYW1lOiJTaXplIix0eXBlOiJmbG9hdCIsbWluOjAsZGVmVmFsOjMwfSx7bmFtZToiYXJjU2l6ZSIsZGlzcE5hbWU6IkFyYyBTaXplIix0eXBlOiJmbG9hdCIsbWluOjAsZGVmVmFsOjIwfV07bXhDZWxsUmVuZGVyZXIuZGVmYXVsdFNoYXBlcy5sb29wTGltaXQucHJvdG90eXBlLmN1c3RvbVByb3BlcnRpZXM9W3tuYW1lOiJzaXplIixkaXNwTmFtZToiU2l6ZSIsdHlwZToiZmxvYXQiLG1pbjowLGRlZlZhbDoyMH0se25hbWU6ImFyY1NpemUiLGRpc3BOYW1lOiJBcmMgU2l6ZSIsCnR5cGU6ImZsb2F0IixtaW46MCxkZWZWYWw6MjB9XTtteENlbGxSZW5kZXJlci5kZWZhdWx0U2hhcGVzLm9mZlBhZ2VDb25uZWN0b3IucHJvdG90eXBlLmN1c3RvbVByb3BlcnRpZXM9W3tuYW1lOiJzaXplIixkaXNwTmFtZToiU2l6ZSIsdHlwZToiZmxvYXQiLG1pbjowLGRlZlZhbDozOH0se25hbWU6ImFyY1NpemUiLGRpc3BOYW1lOiJBcmMgU2l6ZSIsdHlwZToiZmxvYXQiLG1pbjowLGRlZlZhbDoyMH1dO214Q2VsbFJlbmRlcmVyLmRlZmF1bHRTaGFwZXMuZGlzcGxheS5wcm90b3R5cGUuY3VzdG9tUHJvcGVydGllcz1be25hbWU6InNpemUiLGRpc3BOYW1lOiJTaXplIix0eXBlOiJmbG9hdCIsbWluOjAsbWF4OjEsZGVmVmFsOi4yNX1dO214Q2VsbFJlbmRlcmVyLmRlZmF1bHRTaGFwZXMuc2luZ2xlQXJyb3cucHJvdG90eXBlLmN1c3RvbVByb3BlcnRpZXM9W3tuYW1lOiJhcnJvd1dpZHRoIixkaXNwTmFtZToiQXJyb3cgV2lkdGgiLHR5cGU6ImZsb2F0IixtaW46MCxtYXg6MSxkZWZWYWw6LjN9LAp7bmFtZToiYXJyb3dTaXplIixkaXNwTmFtZToiQXJyb3doZWFkIExlbmd0aCIsdHlwZToiZmxvYXQiLG1pbjowLG1heDoxLGRlZlZhbDouMn1dO214Q2VsbFJlbmRlcmVyLmRlZmF1bHRTaGFwZXMuZG91YmxlQXJyb3cucHJvdG90eXBlLmN1c3RvbVByb3BlcnRpZXM9W3tuYW1lOiJhcnJvd1dpZHRoIixkaXNwTmFtZToiQXJyb3cgV2lkdGgiLHR5cGU6ImZsb2F0IixtaW46MCxtYXg6MSxkZWZWYWw6LjN9LHtuYW1lOiJhcnJvd1NpemUiLGRpc3BOYW1lOiJBcnJvd2hlYWQgTGVuZ3RoIix0eXBlOiJmbG9hdCIsbWluOjAsbWF4OjEsZGVmVmFsOi4yfV07bXhDZWxsUmVuZGVyZXIuZGVmYXVsdFNoYXBlcy5jcm9zcy5wcm90b3R5cGUuY3VzdG9tUHJvcGVydGllcz1be25hbWU6InNpemUiLGRpc3BOYW1lOiJTaXplIix0eXBlOiJmbG9hdCIsbWluOjAsbWF4OjEsZGVmVmFsOi4yfV07bXhDZWxsUmVuZGVyZXIuZGVmYXVsdFNoYXBlcy5jb3JuZXIucHJvdG90eXBlLmN1c3RvbVByb3BlcnRpZXM9Clt7bmFtZToiZHgiLGRpc3BOYW1lOiJXaWR0aDEiLHR5cGU6ImZsb2F0IixtaW46MCxkZWZWYWw6MjB9LHtuYW1lOiJkeSIsZGlzcE5hbWU6IldpZHRoMiIsdHlwZToiZmxvYXQiLG1pbjowLGRlZlZhbDoyMH1dO214Q2VsbFJlbmRlcmVyLmRlZmF1bHRTaGFwZXMudGVlLnByb3RvdHlwZS5jdXN0b21Qcm9wZXJ0aWVzPVt7bmFtZToiZHgiLGRpc3BOYW1lOiJXaWR0aDEiLHR5cGU6ImZsb2F0IixtaW46MCxkZWZWYWw6MjB9LHtuYW1lOiJkeSIsZGlzcE5hbWU6IldpZHRoMiIsdHlwZToiZmxvYXQiLG1pbjowLGRlZlZhbDoyMH1dO214Q2VsbFJlbmRlcmVyLmRlZmF1bHRTaGFwZXMudW1sTGlmZWxpbmUucHJvdG90eXBlLmN1c3RvbVByb3BlcnRpZXM9W3tuYW1lOiJwYXJ0aWNpcGFudCIsZGlzcE5hbWU6IlBhcnRpY2lwYW50Iix0eXBlOiJlbnVtIixkZWZWYWw6Im5vbmUiLGVudW1MaXN0Olt7dmFsOiJub25lIixkaXNwTmFtZToiRGVmYXVsdCJ9LHt2YWw6InVtbEFjdG9yIixkaXNwTmFtZToiQWN0b3IifSwKe3ZhbDoidW1sQm91bmRhcnkiLGRpc3BOYW1lOiJCb3VuZGFyeSJ9LHt2YWw6InVtbEVudGl0eSIsZGlzcE5hbWU6IkVudGl0eSJ9LHt2YWw6InVtbENvbnRyb2wiLGRpc3BOYW1lOiJDb250cm9sIn1dfSx7bmFtZToic2l6ZSIsZGlzcE5hbWU6IkhlaWdodCIsdHlwZToiZmxvYXQiLGRlZlZhbDo0MCxtaW46MH1dO214Q2VsbFJlbmRlcmVyLmRlZmF1bHRTaGFwZXMudW1sRnJhbWUucHJvdG90eXBlLmN1c3RvbVByb3BlcnRpZXM9W3tuYW1lOiJ3aWR0aCIsZGlzcE5hbWU6IlRpdGxlIFdpZHRoIix0eXBlOiJmbG9hdCIsZGVmVmFsOjYwLG1pbjowfSx7bmFtZToiaGVpZ2h0IixkaXNwTmFtZToiVGl0bGUgSGVpZ2h0Iix0eXBlOiJmbG9hdCIsZGVmVmFsOjMwLG1pbjowfV07U3R5bGVGb3JtYXRQYW5lbC5wcm90b3R5cGUuZGVmYXVsdENvbG9yU2NoZW1lcz1bW3tmaWxsOiIiLHN0cm9rZToiIn0se2ZpbGw6IiNmNWY1ZjUiLHN0cm9rZToiIzY2NjY2NiIsZm9udDoiIzMzMzMzMyJ9LHtmaWxsOiIjZGFlOGZjIiwKc3Ryb2tlOiIjNmM4ZWJmIn0se2ZpbGw6IiNkNWU4ZDQiLHN0cm9rZToiIzgyYjM2NiJ9LHtmaWxsOiIjZmZlNmNjIixzdHJva2U6IiNkNzliMDAifSx7ZmlsbDoiI2ZmZjJjYyIsc3Ryb2tlOiIjZDZiNjU2In0se2ZpbGw6IiNmOGNlY2MiLHN0cm9rZToiI2I4NTQ1MCJ9LHtmaWxsOiIjZTFkNWU3IixzdHJva2U6IiM5NjczYTYifV0sW3tmaWxsOiIiLHN0cm9rZToiIn0se2ZpbGw6IiM2MGE5MTciLHN0cm9rZToiIzJENzYwMCIsZm9udDoiI2ZmZmZmZiJ9LHtmaWxsOiIjMDA4YTAwIixzdHJva2U6IiMwMDU3MDAiLGZvbnQ6IiNmZmZmZmYifSx7ZmlsbDoiIzFiYTFlMiIsc3Ryb2tlOiIjMDA2RUFGIixmb250OiIjZmZmZmZmIn0se2ZpbGw6IiMwMDUwZWYiLHN0cm9rZToiIzAwMURCQyIsZm9udDoiI2ZmZmZmZiJ9LHtmaWxsOiIjNmEwMGZmIixzdHJva2U6IiMzNzAwQ0MiLGZvbnQ6IiNmZmZmZmYifSx7ZmlsbDoiI2Q4MDA3MyIsc3Ryb2tlOiIjQTUwMDQwIixmb250OiIjZmZmZmZmIn0sCntmaWxsOiIjYTIwMDI1IixzdHJva2U6IiM2RjAwMDAiLGZvbnQ6IiNmZmZmZmYifV0sW3tmaWxsOiIjZTUxNDAwIixzdHJva2U6IiNCMjAwMDAiLGZvbnQ6IiNmZmZmZmYifSx7ZmlsbDoiI2ZhNjgwMCIsc3Ryb2tlOiIjQzczNTAwIixmb250OiIjZmZmZmZmIn0se2ZpbGw6IiNmMGEzMGEiLHN0cm9rZToiI0JENzAwMCIsZm9udDoiI2ZmZmZmZiJ9LHtmaWxsOiIjZTNjODAwIixzdHJva2U6IiNCMDk1MDAiLGZvbnQ6IiNmZmZmZmYifSx7ZmlsbDoiIzZkODc2NCIsc3Ryb2tlOiIjM0E1NDMxIixmb250OiIjZmZmZmZmIn0se2ZpbGw6IiM2NDc2ODciLHN0cm9rZToiIzMxNDM1NCIsZm9udDoiI2ZmZmZmZiJ9LHtmaWxsOiIjNzY2MDhhIixzdHJva2U6IiM0MzJENTciLGZvbnQ6IiNmZmZmZmYifSx7ZmlsbDoiI2EwNTIyZCIsc3Ryb2tlOiIjNkQxRjAwIixmb250OiIjZmZmZmZmIn1dLFt7ZmlsbDoiIixzdHJva2U6IiJ9LHtmaWxsOm14Q29uc3RhbnRzLk5PTkUsc3Ryb2tlOiIifSx7ZmlsbDoiI2ZhZDdhYyIsCnN0cm9rZToiI2I0NjUwNCJ9LHtmaWxsOiIjZmFkOWQ1IixzdHJva2U6IiNhZTQxMzIifSx7ZmlsbDoiI2IwZTNlNiIsc3Ryb2tlOiIjMGU4MDg4In0se2ZpbGw6IiNiMWRkZjAiLHN0cm9rZToiIzEwNzM5ZSJ9LHtmaWxsOiIjZDBjZWUyIixzdHJva2U6IiM1NjUxN2UifSx7ZmlsbDoiI2JhYzhkMyIsc3Ryb2tlOiIjMjM0NDVkIn1dLFt7ZmlsbDoiIixzdHJva2U6IiJ9LHtmaWxsOiIjZjVmNWY1IixzdHJva2U6IiM2NjY2NjYiLGdyYWRpZW50OiIjYjNiM2IzIn0se2ZpbGw6IiNkYWU4ZmMiLHN0cm9rZToiIzZjOGViZiIsZ3JhZGllbnQ6IiM3ZWE2ZTAifSx7ZmlsbDoiI2Q1ZThkNCIsc3Ryb2tlOiIjODJiMzY2IixncmFkaWVudDoiIzk3ZDA3NyJ9LHtmaWxsOiIjZmZjZDI4IixzdHJva2U6IiNkNzliMDAiLGdyYWRpZW50OiIjZmZhNTAwIn0se2ZpbGw6IiNmZmYyY2MiLHN0cm9rZToiI2Q2YjY1NiIsZ3JhZGllbnQ6IiNmZmQ5NjYifSx7ZmlsbDoiI2Y4Y2VjYyIsc3Ryb2tlOiIjYjg1NDUwIiwKZ3JhZGllbnQ6IiNlYTZiNjYifSx7ZmlsbDoiI2U2ZDBkZSIsc3Ryb2tlOiIjOTk2MTg1IixncmFkaWVudDoiI2Q1NzM5ZCJ9XSxbe2ZpbGw6IiIsc3Ryb2tlOiIifSx7ZmlsbDoiI2VlZWVlZSIsc3Ryb2tlOiIjMzYzOTNkIn0se2ZpbGw6IiNmOWY3ZWQiLHN0cm9rZToiIzM2MzkzZCJ9LHtmaWxsOiIjZmZjYzk5IixzdHJva2U6IiMzNjM5M2QifSx7ZmlsbDoiI2NjZTVmZiIsc3Ryb2tlOiIjMzYzOTNkIn0se2ZpbGw6IiNmZmZmODgiLHN0cm9rZToiIzM2MzkzZCJ9LHtmaWxsOiIjY2RlYjhiIixzdHJva2U6IiMzNjM5M2QifSx7ZmlsbDoiI2ZmY2NjYyIsc3Ryb2tlOiIjMzYzOTNkIn1dXTtTdHlsZUZvcm1hdFBhbmVsLnByb3RvdHlwZS5jdXN0b21Db2xvclNjaGVtZXM9bnVsbDtTdHlsZUZvcm1hdFBhbmVsLnByb3RvdHlwZS5maW5kQ29tbW9uUHJvcGVydGllcz1mdW5jdGlvbihhLGIsZSl7aWYobnVsbCE9Yil7dmFyIGM9ZnVuY3Rpb24oYSl7aWYobnVsbCE9YSlpZihlKWZvcih2YXIgYz0KMDtjPGEubGVuZ3RoO2MrKyliW2FbY10ubmFtZV09YVtjXTtlbHNlIGZvcih2YXIgZCBpbiBiKXtmb3IodmFyIGY9ITEsYz0wO2M8YS5sZW5ndGg7YysrKWlmKGFbY10ubmFtZT09ZCYmYVtjXS50eXBlPT1iW2RdLnR5cGUpe2Y9ITA7YnJlYWt9Znx8ZGVsZXRlIGJbZF19fSxkPXRoaXMuZWRpdG9yVWkuZWRpdG9yLmdyYXBoLnZpZXcuZ2V0U3RhdGUoYSk7bnVsbCE9ZCYmbnVsbCE9ZC5zaGFwZSYmKGQuc2hhcGUuY29tbW9uQ3VzdG9tUHJvcEFkZGVkfHwoZC5zaGFwZS5jb21tb25DdXN0b21Qcm9wQWRkZWQ9ITAsZC5zaGFwZS5jdXN0b21Qcm9wZXJ0aWVzPWQuc2hhcGUuY3VzdG9tUHJvcGVydGllc3x8W10sZC5jZWxsLnZlcnRleD9BcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShkLnNoYXBlLmN1c3RvbVByb3BlcnRpZXMsRWRpdG9yLmNvbW1vblZlcnRleFByb3BlcnRpZXMpOkFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KGQuc2hhcGUuY3VzdG9tUHJvcGVydGllcyxFZGl0b3IuY29tbW9uRWRnZVByb3BlcnRpZXMpKSwKYyhkLnNoYXBlLmN1c3RvbVByb3BlcnRpZXMpKTthPWEuZ2V0QXR0cmlidXRlKCJjdXN0b21Qcm9wZXJ0aWVzIik7aWYobnVsbCE9YSl0cnl7YyhKU09OLnBhcnNlKGEpKX1jYXRjaChJKXt9fX07dmFyIHY9U3R5bGVGb3JtYXRQYW5lbC5wcm90b3R5cGUuaW5pdDtTdHlsZUZvcm1hdFBhbmVsLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5mb3JtYXQuY3JlYXRlU2VsZWN0aW9uU3RhdGUoKTsiaW1hZ2UiPT1hLnN0eWxlLnNoYXBlfHxhLmNvbnRhaW5zTGFiZWx8fHRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuYWRkU3R5bGVzKHRoaXMuY3JlYXRlUGFuZWwoKSkpO3YuYXBwbHkodGhpcyxhcmd1bWVudHMpO2lmKEVkaXRvci5lbmFibGVDdXN0b21Qcm9wZXJ0aWVzKXtmb3IodmFyIGI9e30sZT1hLnZlcnRpY2VzLGM9YS5lZGdlcyxkPTA7ZDxlLmxlbmd0aDtkKyspdGhpcy5maW5kQ29tbW9uUHJvcGVydGllcyhlW2RdLGIsMD09ZCk7Zm9yKGQ9MDtkPGMubGVuZ3RoO2QrKyl0aGlzLmZpbmRDb21tb25Qcm9wZXJ0aWVzKGNbZF0sCmIsMD09ZS5sZW5ndGgmJjA9PWQpO251bGwhPU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzJiYwPE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGIpLmxlbmd0aCYmdGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5hZGRQcm9wZXJ0aWVzKHRoaXMuY3JlYXRlUGFuZWwoKSxiLGEpKX19O3ZhciB0PVN0eWxlRm9ybWF0UGFuZWwucHJvdG90eXBlLmFkZFN0eWxlT3BzO1N0eWxlRm9ybWF0UGFuZWwucHJvdG90eXBlLmFkZFN0eWxlT3BzPWZ1bmN0aW9uKGEpe3ZhciBiPW14VXRpbHMuYnV0dG9uKG14UmVzb3VyY2VzLmdldCgiY29weVN0eWxlIiksbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7dGhpcy5lZGl0b3JVaS5hY3Rpb25zLmdldCgiY29weVN0eWxlIikuZnVuY3QoKX0pKTtiLnNldEF0dHJpYnV0ZSgidGl0bGUiLG14UmVzb3VyY2VzLmdldCgiY29weVN0eWxlIikrIiAoIit0aGlzLmVkaXRvclVpLmFjdGlvbnMuZ2V0KCJjb3B5U3R5bGUiKS5zaG9ydGN1dCsiKSIpOwpiLnN0eWxlLm1hcmdpbkJvdHRvbT0iMnB4IjtiLnN0eWxlLndpZHRoPSIxMDBweCI7Yi5zdHlsZS5tYXJnaW5SaWdodD0iMnB4IjthLmFwcGVuZENoaWxkKGIpO2I9bXhVdGlscy5idXR0b24obXhSZXNvdXJjZXMuZ2V0KCJwYXN0ZVN0eWxlIiksbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7dGhpcy5lZGl0b3JVaS5hY3Rpb25zLmdldCgicGFzdGVTdHlsZSIpLmZ1bmN0KCl9KSk7Yi5zZXRBdHRyaWJ1dGUoInRpdGxlIixteFJlc291cmNlcy5nZXQoInBhc3RlU3R5bGUiKSsiICgiK3RoaXMuZWRpdG9yVWkuYWN0aW9ucy5nZXQoInBhc3RlU3R5bGUiKS5zaG9ydGN1dCsiKSIpO2Iuc3R5bGUubWFyZ2luQm90dG9tPSIycHgiO2Iuc3R5bGUud2lkdGg9IjEwMHB4IjthLmFwcGVuZENoaWxkKGIpO214VXRpbHMuYnIoYSk7cmV0dXJuIHQuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtFZGl0b3JVaS5wcm90b3R5cGUucHJvcGVydGllc0NvbGxhcHNlZD0hMDtTdHlsZUZvcm1hdFBhbmVsLnByb3RvdHlwZS5hZGRQcm9wZXJ0aWVzPQpmdW5jdGlvbihhLGIsZSl7ZnVuY3Rpb24gYyhhLGIsZSxjKXtrLmdldE1vZGVsKCkuYmVnaW5VcGRhdGUoKTt0cnl7dmFyIGQ9W10sZj1bXTtpZihudWxsIT1lLmluZGV4KXtmb3IodmFyIGc9W10sbD1lLnBhcmVudFJvdy5uZXh0U2libGluZztsJiZsLmdldEF0dHJpYnV0ZSgiZGF0YS1wTmFtZSIpPT1hOylnLnB1c2gobC5nZXRBdHRyaWJ1dGUoImRhdGEtcFZhbHVlIikpLGw9bC5uZXh0U2libGluZztlLmluZGV4PGcubGVuZ3RoP251bGwhPWM/Zy5zcGxpY2UoYywxKTpnW2UuaW5kZXhdPWI6Zy5wdXNoKGIpO251bGwhPWUuc2l6ZSYmZy5sZW5ndGg+ZS5zaXplJiYoZz1nLnNsaWNlKDAsZS5zaXplKSk7Yj1nLmpvaW4oIiwiKTtudWxsIT1lLmNvdW50UHJvcGVydHkmJihrLnNldENlbGxTdHlsZXMoZS5jb3VudFByb3BlcnR5LGcubGVuZ3RoLGsuZ2V0U2VsZWN0aW9uQ2VsbHMoKSksZC5wdXNoKGUuY291bnRQcm9wZXJ0eSksZi5wdXNoKGcubGVuZ3RoKSl9ay5zZXRDZWxsU3R5bGVzKGEsCmIsay5nZXRTZWxlY3Rpb25DZWxscygpKTtkLnB1c2goYSk7Zi5wdXNoKGIpO2lmKG51bGwhPWUuZGVwZW5kZW50UHJvcHMpZm9yKGE9MDthPGUuZGVwZW5kZW50UHJvcHMubGVuZ3RoO2ErKyl7dmFyIHA9ZS5kZXBlbmRlbnRQcm9wc0RlZlZhbFthXSxuPWUuZGVwZW5kZW50UHJvcHNWYWxzW2FdO2lmKG4ubGVuZ3RoPmIpbj1uLnNsaWNlKDAsYik7ZWxzZSBmb3IodmFyIG09bi5sZW5ndGg7bTxiO20rKyluLnB1c2gocCk7bj1uLmpvaW4oIiwiKTtrLnNldENlbGxTdHlsZXMoZS5kZXBlbmRlbnRQcm9wc1thXSxuLGsuZ2V0U2VsZWN0aW9uQ2VsbHMoKSk7ZC5wdXNoKGUuZGVwZW5kZW50UHJvcHNbYV0pO2YucHVzaChuKX1pZigiZnVuY3Rpb24iPT10eXBlb2YgZS5vbkNoYW5nZSllLm9uQ2hhbmdlKGssYik7dC5lZGl0b3JVaS5maXJlRXZlbnQobmV3IG14RXZlbnRPYmplY3QoInN0eWxlQ2hhbmdlZCIsImtleXMiLGQsInZhbHVlcyIsZiwiY2VsbHMiLGsuZ2V0U2VsZWN0aW9uQ2VsbHMoKSkpfWZpbmFsbHl7ay5nZXRNb2RlbCgpLmVuZFVwZGF0ZSgpfX0KZnVuY3Rpb24gZChiLGUsYyl7dmFyIGQ9bXhVdGlscy5nZXRPZmZzZXQoYSwhMCksZj1teFV0aWxzLmdldE9mZnNldChiLCEwKTtlLnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSI7ZS5zdHlsZS5sZWZ0PWYueC1kLngrInB4IjtlLnN0eWxlLnRvcD1mLnktZC55KyJweCI7ZS5zdHlsZS53aWR0aD1iLm9mZnNldFdpZHRoKyJweCI7ZS5zdHlsZS5oZWlnaHQ9Yi5vZmZzZXRIZWlnaHQtKGM/NDowKSsicHgiO2Uuc3R5bGUuekluZGV4PTV9ZnVuY3Rpb24gZihhLGIsZSl7dmFyIGQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7ZC5zdHlsZS53aWR0aD0iMzJweCI7ZC5zdHlsZS5oZWlnaHQ9IjRweCI7ZC5zdHlsZS5tYXJnaW49IjJweCI7ZC5zdHlsZS5ib3JkZXI9IjFweCBzb2xpZCBibGFjayI7ZC5zdHlsZS5iYWNrZ3JvdW5kPWImJiJub25lIiE9Yj9iOiJ1cmwoJyIrRGlhbG9nLnByb3RvdHlwZS5ub0NvbG9ySW1hZ2UrIicpIjtidG49bXhVdGlscy5idXR0b24oIiIsbXhVdGlscy5iaW5kKHQsCmZ1bmN0aW9uKGYpe3RoaXMuZWRpdG9yVWkucGlja0NvbG9yKGIsZnVuY3Rpb24oYil7ZC5zdHlsZS5iYWNrZ3JvdW5kPSJub25lIj09Yj8idXJsKCciK0RpYWxvZy5wcm90b3R5cGUubm9Db2xvckltYWdlKyInKSI6YjtjKGEsYixlKX0pO214RXZlbnQuY29uc3VtZShmKX0pKTtidG4uc3R5bGUuaGVpZ2h0PSIxMnB4IjtidG4uc3R5bGUud2lkdGg9IjQwcHgiO2J0bi5jbGFzc05hbWU9ImdlQ29sb3JCdG4iO2J0bi5hcHBlbmRDaGlsZChkKTtyZXR1cm4gYnRufWZ1bmN0aW9uIGcoYSxiLGUsZCxmLGcsbCl7bnVsbCE9YiYmKGI9Yi5zcGxpdCgiLCIpLG0ucHVzaCh7bmFtZTphLHZhbHVlczpiLHR5cGU6ZSxkZWZWYWw6ZCxjb3VudFByb3BlcnR5OmYscGFyZW50Um93OmcsaXNEZWxldGFibGU6ITAsZmxpcEJrZzpsfSkpO2J0bj1teFV0aWxzLmJ1dHRvbigiKyIsbXhVdGlscy5iaW5kKHQsZnVuY3Rpb24oYil7Zm9yKHZhciBwPWcsdD0wO251bGwhPXAubmV4dFNpYmxpbmc7KWlmKHAubmV4dFNpYmxpbmcuZ2V0QXR0cmlidXRlKCJkYXRhLXBOYW1lIik9PQphKXA9cC5uZXh0U2libGluZyx0Kys7ZWxzZSBicmVhazt2YXIgaz17dHlwZTplLHBhcmVudFJvdzpnLGluZGV4OnQsaXNEZWxldGFibGU6ITAsZGVmVmFsOmQsY291bnRQcm9wZXJ0eTpmfSx0PW4oYSwiIixrLDA9PXQlMixsKTtjKGEsZCxrKTtwLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHQscC5uZXh0U2libGluZyk7bXhFdmVudC5jb25zdW1lKGIpfSkpO2J0bi5zdHlsZS5oZWlnaHQ9IjE2cHgiO2J0bi5zdHlsZS53aWR0aD0iMjVweCI7YnRuLmNsYXNzTmFtZT0iZ2VDb2xvckJ0biI7cmV0dXJuIGJ0bn1mdW5jdGlvbiBsKGEsYixlLGMsZCxmLGcpe2lmKDA8ZCl7dmFyIGw9QXJyYXkoZCk7Yj1udWxsIT1iP2Iuc3BsaXQoIiwiKTpbXTtmb3IodmFyIHA9MDtwPGQ7cCsrKWxbcF09bnVsbCE9YltwXT9iW3BdOm51bGwhPWM/YzoiIjttLnB1c2goe25hbWU6YSx2YWx1ZXM6bCx0eXBlOmUsZGVmVmFsOmMscGFyZW50Um93OmYsZmxpcEJrZzpnLHNpemU6ZH0pfXJldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKX0KZnVuY3Rpb24gcChhLGIsZSl7dmFyIGQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTtkLnR5cGU9ImNoZWNrYm94IjtkLmNoZWNrZWQ9IjEiPT1iO214RXZlbnQuYWRkTGlzdGVuZXIoZCwiY2hhbmdlIixmdW5jdGlvbigpe2MoYSxkLmNoZWNrZWQ/IjEiOiIwIixlKX0pO3JldHVybiBkfWZ1bmN0aW9uIG4oYixlLG4sayxtKXt2YXIgeT1uLmRpc3BOYW1lLHU9bi50eXBlLHY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidHIiKTt2LmNsYXNzTmFtZT0iZ2VQcm9wUm93IisobT8iRGFyayI6IiIpKyhrPyJBbHQiOiIiKSsiIGdlUHJvcE5vbkhlYWRlclJvdyI7di5zZXRBdHRyaWJ1dGUoImRhdGEtcE5hbWUiLGIpO3Yuc2V0QXR0cmlidXRlKCJkYXRhLXBWYWx1ZSIsZSk7az0hMTtudWxsIT1uLmluZGV4JiYodi5zZXRBdHRyaWJ1dGUoImRhdGEtaW5kZXgiLG4uaW5kZXgpLHk9KG51bGwhPXk/eToiIikrIlsiK24uaW5kZXgrIl0iLGs9ITApO3ZhciB4PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRkIik7CnguY2xhc3NOYW1lPSJnZVByb3BSb3dDZWxsIjt4LmlubmVySFRNTD1teFV0aWxzLmh0bWxFbnRpdGllcyhteFJlc291cmNlcy5nZXQoeSxudWxsLHkpKTtrJiYoeC5zdHlsZS50ZXh0QWxpZ249InJpZ2h0Iik7di5hcHBlbmRDaGlsZCh4KTt4PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRkIik7eC5jbGFzc05hbWU9ImdlUHJvcFJvd0NlbGwiO2lmKCJjb2xvciI9PXUpeC5hcHBlbmRDaGlsZChmKGIsZSxuKSk7ZWxzZSBpZigiYm9vbCI9PXV8fCJib29sZWFuIj09dSl4LmFwcGVuZENoaWxkKHAoYixlLG4pKTtlbHNlIGlmKCJlbnVtIj09dSl7dmFyIEI9bi5lbnVtTGlzdDtmb3IobT0wO208Qi5sZW5ndGg7bSsrKWlmKHk9QlttXSx5LnZhbD09ZSl7eC5pbm5lckhUTUw9bXhVdGlscy5odG1sRW50aXRpZXMobXhSZXNvdXJjZXMuZ2V0KHkuZGlzcE5hbWUsbnVsbCx5LmRpc3BOYW1lKSk7YnJlYWt9bXhFdmVudC5hZGRMaXN0ZW5lcih4LCJjbGljayIsbXhVdGlscy5iaW5kKHQsZnVuY3Rpb24oKXt2YXIgZj0KZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic2VsZWN0Iik7ZCh4LGYpO2Zvcih2YXIgZz0wO2c8Qi5sZW5ndGg7ZysrKXt2YXIgbD1CW2ddLHA9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgib3B0aW9uIik7cC52YWx1ZT1teFV0aWxzLmh0bWxFbnRpdGllcyhsLnZhbCk7cC5pbm5lckhUTUw9bXhVdGlscy5odG1sRW50aXRpZXMobXhSZXNvdXJjZXMuZ2V0KGwuZGlzcE5hbWUsbnVsbCxsLmRpc3BOYW1lKSk7Zi5hcHBlbmRDaGlsZChwKX1mLnZhbHVlPWU7YS5hcHBlbmRDaGlsZChmKTtteEV2ZW50LmFkZExpc3RlbmVyKGYsImNoYW5nZSIsZnVuY3Rpb24oKXt2YXIgYT1teFV0aWxzLmh0bWxFbnRpdGllcyhmLnZhbHVlKTtjKGIsYSxuKX0pO2YuZm9jdXMoKTtteEV2ZW50LmFkZExpc3RlbmVyKGYsImJsdXIiLGZ1bmN0aW9uKCl7YS5yZW1vdmVDaGlsZChmKX0pfSkpfWVsc2UiZHluYW1pY0FyciI9PXU/eC5hcHBlbmRDaGlsZChnKGIsZSxuLnN1YlR5cGUsbi5zdWJEZWZWYWwsbi5jb3VudFByb3BlcnR5LAp2LG0pKToic3RhdGljQXJyIj09dT94LmFwcGVuZENoaWxkKGwoYixlLG4uc3ViVHlwZSxuLnN1YkRlZlZhbCxuLnNpemUsdixtKSk6KHguaW5uZXJIVE1MPWUsbXhFdmVudC5hZGRMaXN0ZW5lcih4LCJjbGljayIsbXhVdGlscy5iaW5kKHQsZnVuY3Rpb24oKXtmdW5jdGlvbiBmKCl7dmFyIGE9Zy52YWx1ZSxhPTA9PWEubGVuZ3RoJiYic3RyaW5nIiE9dT8wOmE7bi5hbGxvd0F1dG8mJihudWxsIT1hLnRyaW0mJiJhdXRvIj09YS50cmltKCkudG9Mb3dlckNhc2UoKT8oYT0iYXV0byIsdT0ic3RyaW5nIik6KGE9cGFyc2VGbG9hdChhKSxhPWlzTmFOKGEpPzA6YSkpO251bGwhPW4ubWluJiZhPG4ubWluP2E9bi5taW46bnVsbCE9bi5tYXgmJmE+bi5tYXgmJihhPW4ubWF4KTthPW14VXRpbHMuaHRtbEVudGl0aWVzKCgiaW50Ij09dT9wYXJzZUludChhKTphKSsiIik7YyhiLGEsbil9dmFyIGc9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTtkKHgsZywhMCk7Zy52YWx1ZT1lO2cuY2xhc3NOYW1lPQoiZ2VQcm9wRWRpdG9yIjsiaW50IiE9dSYmImZsb2F0IiE9dXx8bi5hbGxvd0F1dG98fChnLnR5cGU9Im51bWJlciIsZy5zdGVwPSJpbnQiPT11PyIxIjoiYW55IixudWxsIT1uLm1pbiYmKGcubWluPXBhcnNlRmxvYXQobi5taW4pKSxudWxsIT1uLm1heCYmKGcubWF4PXBhcnNlRmxvYXQobi5tYXgpKSk7YS5hcHBlbmRDaGlsZChnKTtteEV2ZW50LmFkZExpc3RlbmVyKGcsImtleXByZXNzIixmdW5jdGlvbihhKXsxMz09YS5rZXlDb2RlJiZmKCl9KTtnLmZvY3VzKCk7bXhFdmVudC5hZGRMaXN0ZW5lcihnLCJibHVyIixmdW5jdGlvbigpe2YoKX0pfSkpKTtuLmlzRGVsZXRhYmxlJiYobT1teFV0aWxzLmJ1dHRvbigiLSIsbXhVdGlscy5iaW5kKHQsZnVuY3Rpb24oYSl7YyhiLCIiLG4sbi5pbmRleCk7bXhFdmVudC5jb25zdW1lKGEpfSkpLG0uc3R5bGUuaGVpZ2h0PSIxNnB4IixtLnN0eWxlLndpZHRoPSIyNXB4IixtLnN0eWxlWyJmbG9hdCJdPSJyaWdodCIsbS5jbGFzc05hbWU9ImdlQ29sb3JCdG4iLAp4LmFwcGVuZENoaWxkKG0pKTt2LmFwcGVuZENoaWxkKHgpO3JldHVybiB2fXZhciB0PXRoaXMsaz10aGlzLmVkaXRvclVpLmVkaXRvci5ncmFwaCxtPVtdO2Euc3R5bGUucG9zaXRpb249InJlbGF0aXZlIjthLnN0eWxlLnBhZGRpbmc9IjAiO3ZhciB5PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRhYmxlIik7eS5jbGFzc05hbWU9ImdlUHJvcGVydGllcyI7eS5zdHlsZS53aGl0ZVNwYWNlPSJub3dyYXAiO3kuc3R5bGUud2lkdGg9IjEwMCUiO3ZhciB1PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRyIik7dS5jbGFzc05hbWU9ImdlUHJvcEhlYWRlciI7dmFyIHY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGgiKTt2LmNsYXNzTmFtZT0iZ2VQcm9wSGVhZGVyQ2VsbCI7dmFyIHg9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW1nIik7eC5zcmM9U2lkZWJhci5wcm90b3R5cGUuZXhwYW5kZWRJbWFnZTt2LmFwcGVuZENoaWxkKHgpO214VXRpbHMud3JpdGUodixteFJlc291cmNlcy5nZXQoInByb3BlcnR5IikpOwp1LnN0eWxlLmN1cnNvcj0icG9pbnRlciI7dmFyIEI9ZnVuY3Rpb24oKXt2YXIgYj15LnF1ZXJ5U2VsZWN0b3JBbGwoIi5nZVByb3BOb25IZWFkZXJSb3ciKSxlO2lmKHQuZWRpdG9yVWkucHJvcGVydGllc0NvbGxhcHNlZCl7eC5zcmM9U2lkZWJhci5wcm90b3R5cGUuY29sbGFwc2VkSW1hZ2U7ZT0ibm9uZSI7Zm9yKHZhciBjPWEuY2hpbGROb2Rlcy5sZW5ndGgtMTswPD1jO2MtLSl0cnl7dmFyIGQ9YS5jaGlsZE5vZGVzW2NdLGY9ZC5ub2RlTmFtZS50b1VwcGVyQ2FzZSgpOyJJTlBVVCIhPWYmJiJTRUxFQ1QiIT1mfHxhLnJlbW92ZUNoaWxkKGQpfWNhdGNoKHFhKXt9fWVsc2UgeC5zcmM9U2lkZWJhci5wcm90b3R5cGUuZXhwYW5kZWRJbWFnZSxlPSIiO2ZvcihjPTA7YzxiLmxlbmd0aDtjKyspYltjXS5zdHlsZS5kaXNwbGF5PWV9O214RXZlbnQuYWRkTGlzdGVuZXIodSwiY2xpY2siLGZ1bmN0aW9uKCl7dC5lZGl0b3JVaS5wcm9wZXJ0aWVzQ29sbGFwc2VkPSF0LmVkaXRvclVpLnByb3BlcnRpZXNDb2xsYXBzZWQ7CkIoKX0pO3UuYXBwZW5kQ2hpbGQodik7dj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0aCIpO3YuY2xhc3NOYW1lPSJnZVByb3BIZWFkZXJDZWxsIjt2LmlubmVySFRNTD1teFJlc291cmNlcy5nZXQoInZhbHVlIik7dS5hcHBlbmRDaGlsZCh2KTt5LmFwcGVuZENoaWxkKHUpO3ZhciBxPSExLHo9ITEsRTtmb3IoRSBpbiBiKWlmKHU9YltFXSwiZnVuY3Rpb24iIT10eXBlb2YgdS5pc1Zpc2libGV8fHUuaXNWaXNpYmxlKGUsdGhpcykpe3ZhciBBPW51bGwhPWUuc3R5bGVbRV0/bXhVdGlscy5odG1sRW50aXRpZXMoZS5zdHlsZVtFXSsiIik6bnVsbCE9dS5nZXREZWZhdWx0VmFsdWU/dS5nZXREZWZhdWx0VmFsdWUoZSx0aGlzKTp1LmRlZlZhbDtpZigic2VwYXJhdG9yIj09dS50eXBlKXo9IXo7ZWxzZXtpZigic3RhdGljQXJyIj09dS50eXBlKXUuc2l6ZT1wYXJzZUludChlLnN0eWxlW3Uuc2l6ZVByb3BlcnR5XXx8Ylt1LnNpemVQcm9wZXJ0eV0uZGVmVmFsKXx8MDtlbHNlIGlmKG51bGwhPQp1LmRlcGVuZGVudFByb3BzKXtmb3IodmFyIEM9dS5kZXBlbmRlbnRQcm9wcyxEPVtdLEs9W10sdj0wO3Y8Qy5sZW5ndGg7disrKXt2YXIgRz1lLnN0eWxlW0Nbdl1dO0sucHVzaChiW0Nbdl1dLnN1YkRlZlZhbCk7RC5wdXNoKG51bGwhPUc/Ry5zcGxpdCgiLCIpOltdKX11LmRlcGVuZGVudFByb3BzRGVmVmFsPUs7dS5kZXBlbmRlbnRQcm9wc1ZhbHM9RH15LmFwcGVuZENoaWxkKG4oRSxBLHUscSx6KSk7cT0hcX19Zm9yKHY9MDt2PG0ubGVuZ3RoO3YrKylmb3IodT1tW3ZdLGI9dS5wYXJlbnRSb3csZT0wO2U8dS52YWx1ZXMubGVuZ3RoO2UrKylFPW4odS5uYW1lLHUudmFsdWVzW2VdLHt0eXBlOnUudHlwZSxwYXJlbnRSb3c6dS5wYXJlbnRSb3csaXNEZWxldGFibGU6dS5pc0RlbGV0YWJsZSxpbmRleDplLGRlZlZhbDp1LmRlZlZhbCxjb3VudFByb3BlcnR5OnUuY291bnRQcm9wZXJ0eSxzaXplOnUuc2l6ZX0sMD09ZSUyLHUuZmxpcEJrZyksYi5wYXJlbnROb2RlLmluc2VydEJlZm9yZShFLApiLm5leHRTaWJsaW5nKSxiPUU7YS5hcHBlbmRDaGlsZCh5KTtCKCk7cmV0dXJuIGF9O1N0eWxlRm9ybWF0UGFuZWwucHJvdG90eXBlLmFkZFN0eWxlcz1mdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEpe214RXZlbnQuYWRkTGlzdGVuZXIoYSwibW91c2VlbnRlciIsZnVuY3Rpb24oKXthLnN0eWxlLm9wYWNpdHk9IjEifSk7bXhFdmVudC5hZGRMaXN0ZW5lcihhLCJtb3VzZWxlYXZlIixmdW5jdGlvbigpe2Euc3R5bGUub3BhY2l0eT0iMC41In0pfXZhciBlPXRoaXMuZWRpdG9yVWkuZWRpdG9yLmdyYXBoLGM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7Yy5zdHlsZS53aGl0ZVNwYWNlPSJub3dyYXAiO2Muc3R5bGUucGFkZGluZ0xlZnQ9IjI0cHgiO2Muc3R5bGUucGFkZGluZ1JpZ2h0PSIyMHB4IjthLnN0eWxlLnBhZGRpbmdMZWZ0PSIxNnB4IjthLnN0eWxlLnBhZGRpbmdCb3R0b209IjZweCI7YS5zdHlsZS5wb3NpdGlvbj0icmVsYXRpdmUiO2EuYXBwZW5kQ2hpbGQoYyk7dmFyIGQ9CiJwbGFpbi1ncmF5IHBsYWluLWJsdWUgcGxhaW4tZ3JlZW4gcGxhaW4tdHVycXVvaXNlIHBsYWluLW9yYW5nZSBwbGFpbi15ZWxsb3cgcGxhaW4tcmVkIHBsYWluLXBpbmsgcGxhaW4tcHVycGxlIGdyYXkgYmx1ZSBncmVlbiB0dXJxdW9pc2Ugb3JhbmdlIHllbGxvdyByZWQgcGluayBwdXJwbGUiLnNwbGl0KCIgIiksZj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtmLnN0eWxlLndoaXRlU3BhY2U9Im5vd3JhcCI7Zi5zdHlsZS5wb3NpdGlvbj0icmVsYXRpdmUiO2Yuc3R5bGUudGV4dEFsaWduPSJjZW50ZXIiO2Zvcih2YXIgZz1bXSxsPTA7bDx0aGlzLmRlZmF1bHRDb2xvclNjaGVtZXMubGVuZ3RoO2wrKyl7dmFyIHA9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7cC5zdHlsZS5kaXNwbGF5PSJpbmxpbmUtYmxvY2siO3Auc3R5bGUud2lkdGg9IjZweCI7cC5zdHlsZS5oZWlnaHQ9IjZweCI7cC5zdHlsZS5tYXJnaW5MZWZ0PSI0cHgiO3Auc3R5bGUubWFyZ2luUmlnaHQ9CiIzcHgiO3Auc3R5bGUuYm9yZGVyUmFkaXVzPSIzcHgiO3Auc3R5bGUuY3Vyc29yPSJwb2ludGVyIjtwLnN0eWxlLmJhY2tncm91bmQ9InRyYW5zcGFyZW50IjtwLnN0eWxlLmJvcmRlcj0iMXB4IHNvbGlkICNiNWI2YjciO214VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe214RXZlbnQuYWRkTGlzdGVuZXIocCwiY2xpY2siLG14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKCl7bihhKX0pKX0pKGwpO214RXZlbnQuYWRkO2cucHVzaChwKTtmLmFwcGVuZENoaWxkKHApfXZhciBuPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe251bGwhPXRoaXMuZWRpdG9yVWkuY3VycmVudFNjaGVtZSYmKGdbdGhpcy5lZGl0b3JVaS5jdXJyZW50U2NoZW1lXS5zdHlsZS5iYWNrZ3JvdW5kPSJ0cmFuc3BhcmVudCIpO3RoaXMuZWRpdG9yVWkuY3VycmVudFNjaGVtZT1hO3QodGhpcy5kZWZhdWx0Q29sb3JTY2hlbWVzW3RoaXMuZWRpdG9yVWkuY3VycmVudFNjaGVtZV0pO2dbdGhpcy5lZGl0b3JVaS5jdXJyZW50U2NoZW1lXS5zdHlsZS5iYWNrZ3JvdW5kPQoiIzg0ZDdmZiJ9KSx0PW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3ZhciBiPW14VXRpbHMuYmluZCh0aGlzLGZ1bmN0aW9uKGEpe3ZhciBiPW14VXRpbHMuYnV0dG9uKCIiLGZ1bmN0aW9uKGIpe2UuZ2V0TW9kZWwoKS5iZWdpblVwZGF0ZSgpO3RyeXt2YXIgYz1lLmdldFNlbGVjdGlvbkNlbGxzKCk7Zm9yKGI9MDtiPGMubGVuZ3RoO2IrKyl7Zm9yKHZhciBmPWUuZ2V0TW9kZWwoKS5nZXRTdHlsZShjW2JdKSxnPTA7ZzxkLmxlbmd0aDtnKyspZj1teFV0aWxzLnJlbW92ZVN0eWxlbmFtZShmLGRbZ10pO3ZhciBsPWUuZ2V0TW9kZWwoKS5pc1ZlcnRleChjW2JdKT9lLmRlZmF1bHRWZXJ0ZXhTdHlsZTplLmRlZmF1bHRFZGdlU3R5bGU7bnVsbCE9YT8oZj1teFV0aWxzLnNldFN0eWxlKGYsbXhDb25zdGFudHMuU1RZTEVfR1JBRElFTlRDT0xPUixhLmdyYWRpZW50fHxteFV0aWxzLmdldFZhbHVlKGwsbXhDb25zdGFudHMuU1RZTEVfR1JBRElFTlRDT0xPUixudWxsKSksZj0iIj09CmEuZmlsbD9teFV0aWxzLnNldFN0eWxlKGYsbXhDb25zdGFudHMuU1RZTEVfRklMTENPTE9SLG51bGwpOm14VXRpbHMuc2V0U3R5bGUoZixteENvbnN0YW50cy5TVFlMRV9GSUxMQ09MT1IsYS5maWxsfHxteFV0aWxzLmdldFZhbHVlKGwsbXhDb25zdGFudHMuU1RZTEVfRklMTENPTE9SLG51bGwpKSxmPSIiPT1hLnN0cm9rZT9teFV0aWxzLnNldFN0eWxlKGYsbXhDb25zdGFudHMuU1RZTEVfU1RST0tFQ09MT1IsbnVsbCk6bXhVdGlscy5zZXRTdHlsZShmLG14Q29uc3RhbnRzLlNUWUxFX1NUUk9LRUNPTE9SLGEuc3Ryb2tlfHxteFV0aWxzLmdldFZhbHVlKGwsbXhDb25zdGFudHMuU1RZTEVfU1RST0tFQ09MT1IsbnVsbCkpLGUuZ2V0TW9kZWwoKS5pc1ZlcnRleChjW2JdKSYmKGY9bXhVdGlscy5zZXRTdHlsZShmLG14Q29uc3RhbnRzLlNUWUxFX0ZPTlRDT0xPUixhLmZvbnR8fG14VXRpbHMuZ2V0VmFsdWUobCxteENvbnN0YW50cy5TVFlMRV9GT05UQ09MT1IsbnVsbCkpKSk6KGY9bXhVdGlscy5zZXRTdHlsZShmLApteENvbnN0YW50cy5TVFlMRV9GSUxMQ09MT1IsbXhVdGlscy5nZXRWYWx1ZShsLG14Q29uc3RhbnRzLlNUWUxFX0ZJTExDT0xPUiwiI2ZmZmZmZiIpKSxmPW14VXRpbHMuc2V0U3R5bGUoZixteENvbnN0YW50cy5TVFlMRV9TVFJPS0VDT0xPUixteFV0aWxzLmdldFZhbHVlKGwsbXhDb25zdGFudHMuU1RZTEVfU1RST0tFQ09MT1IsIiMwMDAwMDAiKSksZj1teFV0aWxzLnNldFN0eWxlKGYsbXhDb25zdGFudHMuU1RZTEVfR1JBRElFTlRDT0xPUixteFV0aWxzLmdldFZhbHVlKGwsbXhDb25zdGFudHMuU1RZTEVfR1JBRElFTlRDT0xPUixudWxsKSksZS5nZXRNb2RlbCgpLmlzVmVydGV4KGNbYl0pJiYoZj1teFV0aWxzLnNldFN0eWxlKGYsbXhDb25zdGFudHMuU1RZTEVfRk9OVENPTE9SLG14VXRpbHMuZ2V0VmFsdWUobCxteENvbnN0YW50cy5TVFlMRV9GT05UQ09MT1IsbnVsbCkpKSk7ZS5nZXRNb2RlbCgpLnNldFN0eWxlKGNbYl0sZil9fWZpbmFsbHl7ZS5nZXRNb2RlbCgpLmVuZFVwZGF0ZSgpfX0pOwpiLmNsYXNzTmFtZT0iZ2VTdHlsZUJ1dHRvbiI7Yi5zdHlsZS53aWR0aD0iMzZweCI7Yi5zdHlsZS5oZWlnaHQ9MTA+PXRoaXMuZGVmYXVsdENvbG9yU2NoZW1lcy5sZW5ndGg/IjI0cHgiOiIzMHB4IjtiLnN0eWxlLm1hcmdpbj0iMHB4IDZweCA2cHggMHB4IjtpZihudWxsIT1hKW51bGwhPWEuZ3JhZGllbnQ/bXhDbGllbnQuSVNfSUUmJihteENsaWVudC5JU19RVUlSS1N8fDEwPmRvY3VtZW50LmRvY3VtZW50TW9kZSk/Yi5zdHlsZS5maWx0ZXI9InByb2dpZDpEWEltYWdlVHJhbnNmb3JtLk1pY3Jvc29mdC5HcmFkaWVudChTdGFydENvbG9yU3RyPSciK2EuZmlsbCsiJywgRW5kQ29sb3JTdHI9JyIrYS5ncmFkaWVudCsiJywgR3JhZGllbnRUeXBlPTApIjpiLnN0eWxlLmJhY2tncm91bmRJbWFnZT0ibGluZWFyLWdyYWRpZW50KCIrYS5maWxsKyIgMHB4LCIrYS5ncmFkaWVudCsiIDEwMCUpIjphLmZpbGw9PW14Q29uc3RhbnRzLk5PTkU/Yi5zdHlsZS5iYWNrZ3JvdW5kPSJ1cmwoJyIrCkRpYWxvZy5wcm90b3R5cGUubm9Db2xvckltYWdlKyInKSI6Yi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9IiI9PWEuZmlsbD9teFV0aWxzLmdldFZhbHVlKGUuZGVmYXVsdFZlcnRleFN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0ZJTExDT0xPUiwiZGFyayI9PXVpVGhlbWU/IiMyYTJhMmEiOiIjZmZmZmZmIik6YS5maWxsfHxteFV0aWxzLmdldFZhbHVlKGUuZGVmYXVsdFZlcnRleFN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX0ZJTExDT0xPUiwiZGFyayI9PXVpVGhlbWU/IiMyYTJhMmEiOiIjZmZmZmZmIiksYi5zdHlsZS5ib3JkZXI9YS5zdHJva2U9PW14Q29uc3RhbnRzLk5PTkU/IjFweCBzb2xpZCB0cmFuc3BhcmVudCI6IiI9PWEuc3Ryb2tlPyIxcHggc29saWQgIitteFV0aWxzLmdldFZhbHVlKGUuZGVmYXVsdFZlcnRleFN0eWxlLG14Q29uc3RhbnRzLlNUWUxFX1NUUk9LRUNPTE9SLCJkYXJrIiE9dWlUaGVtZT8iIzJhMmEyYSI6IiNmZmZmZmYiKToiMXB4IHNvbGlkICIrKGEuc3Ryb2tlfHwKbXhVdGlscy5nZXRWYWx1ZShlLmRlZmF1bHRWZXJ0ZXhTdHlsZSxteENvbnN0YW50cy5TVFlMRV9TVFJPS0VDT0xPUiwiZGFyayIhPXVpVGhlbWU/IiMyYTJhMmEiOiIjZmZmZmZmIikpO2Vsc2V7dmFyIGY9bXhVdGlscy5nZXRWYWx1ZShlLmRlZmF1bHRWZXJ0ZXhTdHlsZSxteENvbnN0YW50cy5TVFlMRV9GSUxMQ09MT1IsIiNmZmZmZmYiKSxnPW14VXRpbHMuZ2V0VmFsdWUoZS5kZWZhdWx0VmVydGV4U3R5bGUsbXhDb25zdGFudHMuU1RZTEVfU1RST0tFQ09MT1IsIiMwMDAwMDAiKTtiLnN0eWxlLmJhY2tncm91bmRDb2xvcj1mO2Iuc3R5bGUuYm9yZGVyPSIxcHggc29saWQgIitnfWMuYXBwZW5kQ2hpbGQoYil9KTtjLmlubmVySFRNTD0iIjtmb3IodmFyIGY9MDtmPGEubGVuZ3RoO2YrKykwPGYmJjA9PW14VXRpbHMubW9kKGYsNCkmJm14VXRpbHMuYnIoYyksYihhW2ZdKX0pO251bGw9PXRoaXMuZWRpdG9yVWkuY3VycmVudFNjaGVtZT9uKCJkYXJrIj09dWlUaGVtZT8xOjApOm4odGhpcy5lZGl0b3JVaS5jdXJyZW50U2NoZW1lKTsKdmFyIGw9MTA+PXRoaXMuZGVmYXVsdENvbG9yU2NoZW1lcy5sZW5ndGg/Mjg6OCxrPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2suc3R5bGUuY3NzVGV4dD0icG9zaXRpb246YWJzb2x1dGU7bGVmdDoxMHB4O3RvcDo4cHg7Ym90dG9tOiIrbCsicHg7d2lkdGg6MjBweDttYXJnaW46NHB4O29wYWNpdHk6MC41O2JhY2tncm91bmQtcmVwZWF0Om5vLXJlcGVhdDtiYWNrZ3JvdW5kLXBvc2l0aW9uOmNlbnRlciBjZW50ZXI7YmFja2dyb3VuZC1pbWFnZTp1cmwoZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFBd0FBQUFRQkFNQUFBRFFUNE0wQUFBQUlWQk1WRVVBQUFCMmRuWjRlSGgzZDNkMWRYVnhjWEYyZG5aMmRuWjJkblp4Y1hGMmRuWW1iM3cxQUFBQUNuUlNUbE1BZkNUa2hodmI3Y1FTUEgySlBnQUFBRFJKUkVGVUNOZGp3QUNNQW1CS2FpR1lzMm9KbUxQS0FaM0RhYlU4QU1SVFhwVUtvcGlzbHFGeVZ6Q0F1VVpnaWtrQlpqb0FjTVlMbnA1M1AvVUFBQUFBU1VWT1JLNUNZSUk9KTsiOwpteEV2ZW50LmFkZExpc3RlbmVyKGssImNsaWNrIixteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbigpe24obXhVdGlscy5tb2QodGhpcy5lZGl0b3JVaS5jdXJyZW50U2NoZW1lLTEsdGhpcy5kZWZhdWx0Q29sb3JTY2hlbWVzLmxlbmd0aCkpfSkpO3ZhciBtPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO20uc3R5bGUuY3NzVGV4dD0icG9zaXRpb246YWJzb2x1dGU7bGVmdDoyMDJweDt0b3A6OHB4O2JvdHRvbToiK2wrInB4O3dpZHRoOjIwcHg7bWFyZ2luOjRweDtvcGFjaXR5OjAuNTtiYWNrZ3JvdW5kLXJlcGVhdDpuby1yZXBlYXQ7YmFja2dyb3VuZC1wb3NpdGlvbjpjZW50ZXIgY2VudGVyO2JhY2tncm91bmQtaW1hZ2U6dXJsKGRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQXdBQUFBUUJBTUFBQURRVDRNMEFBQUFJVkJNVkVVQUFBQjJkbloyZG5aMmRuWjJkbloyZG5aMmRuWjJkbloyZG5aMmRuWjJkbllCdXdDY0FBQUFDblJTVGxNQWZDVGtoaHZiN2NRU1BIMkpQZ0FBQURaSlJFRlVDTmRqUUFPTUFtQkthaUdZOGxvRjVyS3N3c1psclZvOEFVaUZyVElDY2JJV0s4QTVERjFnRG9NeW1NUEFwSUF3SHdDUzBReC9VN3FDQlFBQUFBQkpSVTVFcmtKZ2dnPT0pOyI7CjE8dGhpcy5kZWZhdWx0Q29sb3JTY2hlbWVzLmxlbmd0aCYmKGEuYXBwZW5kQ2hpbGQoayksYS5hcHBlbmRDaGlsZChtKSk7bXhFdmVudC5hZGRMaXN0ZW5lcihtLCJjbGljayIsbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oKXtuKG14VXRpbHMubW9kKHRoaXMuZWRpdG9yVWkuY3VycmVudFNjaGVtZSsxLHRoaXMuZGVmYXVsdENvbG9yU2NoZW1lcy5sZW5ndGgpKX0pKTtiKGspO2IobSk7dCh0aGlzLmRlZmF1bHRDb2xvclNjaGVtZXNbdGhpcy5lZGl0b3JVaS5jdXJyZW50U2NoZW1lXSk7MTA+PXRoaXMuZGVmYXVsdENvbG9yU2NoZW1lcy5sZW5ndGgmJmEuYXBwZW5kQ2hpbGQoZik7cmV0dXJuIGF9O1N0eWxlRm9ybWF0UGFuZWwucHJvdG90eXBlLmFkZEVkaXRPcHM9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5mb3JtYXQuZ2V0U2VsZWN0aW9uU3RhdGUoKSxlPW51bGw7MT09dGhpcy5lZGl0b3JVaS5lZGl0b3IuZ3JhcGguZ2V0U2VsZWN0aW9uQ291bnQoKSYmKGU9bXhVdGlscy5idXR0b24obXhSZXNvdXJjZXMuZ2V0KCJlZGl0U3R5bGUiKSwKbXhVdGlscy5iaW5kKHRoaXMsZnVuY3Rpb24oYSl7dGhpcy5lZGl0b3JVaS5hY3Rpb25zLmdldCgiZWRpdFN0eWxlIikuZnVuY3QoKX0pKSxlLnNldEF0dHJpYnV0ZSgidGl0bGUiLG14UmVzb3VyY2VzLmdldCgiZWRpdFN0eWxlIikrIiAoIit0aGlzLmVkaXRvclVpLmFjdGlvbnMuZ2V0KCJlZGl0U3R5bGUiKS5zaG9ydGN1dCsiKSIpLGUuc3R5bGUud2lkdGg9IjIwMnB4IixlLnN0eWxlLm1hcmdpbkJvdHRvbT0iMnB4IixhLmFwcGVuZENoaWxkKGUpKTt2YXIgYz10aGlzLmVkaXRvclVpLmVkaXRvci5ncmFwaCxkPWMudmlldy5nZXRTdGF0ZShjLmdldFNlbGVjdGlvbkNlbGwoKSk7MT09Yy5nZXRTZWxlY3Rpb25Db3VudCgpJiZudWxsIT1kJiZudWxsIT1kLnNoYXBlJiZudWxsIT1kLnNoYXBlLnN0ZW5jaWw/KGI9bXhVdGlscy5idXR0b24obXhSZXNvdXJjZXMuZ2V0KCJlZGl0U2hhcGUiKSxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXt0aGlzLmVkaXRvclVpLmFjdGlvbnMuZ2V0KCJlZGl0U2hhcGUiKS5mdW5jdCgpfSkpLApiLnNldEF0dHJpYnV0ZSgidGl0bGUiLG14UmVzb3VyY2VzLmdldCgiZWRpdFNoYXBlIikpLGIuc3R5bGUubWFyZ2luQm90dG9tPSIycHgiLG51bGw9PWU/Yi5zdHlsZS53aWR0aD0iMjAycHgiOihlLnN0eWxlLndpZHRoPSIxMDBweCIsYi5zdHlsZS53aWR0aD0iMTAwcHgiLGIuc3R5bGUubWFyZ2luTGVmdD0iMnB4IiksYS5hcHBlbmRDaGlsZChiKSk6Yi5pbWFnZSYmKGI9bXhVdGlscy5idXR0b24obXhSZXNvdXJjZXMuZ2V0KCJlZGl0SW1hZ2UiKSxteFV0aWxzLmJpbmQodGhpcyxmdW5jdGlvbihhKXt0aGlzLmVkaXRvclVpLmFjdGlvbnMuZ2V0KCJpbWFnZSIpLmZ1bmN0KCl9KSksYi5zZXRBdHRyaWJ1dGUoInRpdGxlIixteFJlc291cmNlcy5nZXQoImVkaXRJbWFnZSIpKSxiLnN0eWxlLm1hcmdpbkJvdHRvbT0iMnB4IixudWxsPT1lP2Iuc3R5bGUud2lkdGg9IjIwMnB4IjooZS5zdHlsZS53aWR0aD0iMTAwcHgiLGIuc3R5bGUud2lkdGg9IjEwMHB4IixiLnN0eWxlLm1hcmdpbkxlZnQ9CiIycHgiKSxhLmFwcGVuZENoaWxkKGIpKTtyZXR1cm4gYX19R3JhcGgucHJvdG90eXBlLmRlZmF1bHRUaGVtZU5hbWU9ImRlZmF1bHQtc3R5bGUyIjtHcmFwaC5wcm90b3R5cGUubGFzdFBhc3RlWG1sPW51bGw7R3JhcGgucHJvdG90eXBlLnBhc3RlQ291bnRlcj0wO0dyYXBoLnByb3RvdHlwZS5kZWZhdWx0U2Nyb2xsYmFycz0iMCIhPXVybFBhcmFtcy5zYjtHcmFwaC5wcm90b3R5cGUuZGVmYXVsdFBhZ2VWaXNpYmxlPSIwIiE9dXJsUGFyYW1zLnB2O0dyYXBoLnByb3RvdHlwZS5zaGFkb3dJZD0iZHJvcFNoYWRvdyI7R3JhcGgucHJvdG90eXBlLnN2Z1NoYWRvd0NvbG9yPSIjM0Q0NTc0IjtHcmFwaC5wcm90b3R5cGUuc3ZnU2hhZG93T3BhY2l0eT0iMC40IjtHcmFwaC5wcm90b3R5cGUuc3ZnU2hhZG93Qmx1cj0iMS43IjtHcmFwaC5wcm90b3R5cGUuc3ZnU2hhZG93U2l6ZT0iMyI7R3JhcGgucHJvdG90eXBlLmVkZ2VNb2RlPSJtb3ZlIiE9dXJsUGFyYW1zLmVkZ2U7dmFyIHk9R3JhcGgucHJvdG90eXBlLmluaXQ7CkdyYXBoLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhKXtiPWE7dHJ5e2lmKG14Q2xpZW50LklTX1FVSVJLU3x8Nz09ZG9jdW1lbnQuZG9jdW1lbnRNb2RlfHw4PT1kb2N1bWVudC5kb2N1bWVudE1vZGUpYj1kb2N1bWVudC5jcmVhdGVFdmVudE9iamVjdChhKSxiLnR5cGU9YS50eXBlLGIuY2FuQnViYmxlPWEuY2FuQnViYmxlLGIuY2FuY2VsYWJsZT1hLmNhbmNlbGFibGUsYi52aWV3PWEudmlldyxiLmRldGFpbD1hLmRldGFpbCxiLnNjcmVlblg9YS5zY3JlZW5YLGIuc2NyZWVuWT1hLnNjcmVlblksYi5jbGllbnRYPWEuY2xpZW50WCxiLmNsaWVudFk9YS5jbGllbnRZLGIuY3RybEtleT1hLmN0cmxLZXksYi5hbHRLZXk9YS5hbHRLZXksYi5zaGlmdEtleT1hLnNoaWZ0S2V5LGIubWV0YUtleT1hLm1ldGFLZXksYi5idXR0b249YS5idXR0b24sYi5yZWxhdGVkVGFyZ2V0PWEucmVsYXRlZFRhcmdldH1jYXRjaChJKXt9fXkuYXBwbHkodGhpcyxhcmd1bWVudHMpOwp3aW5kb3cubXhGcmVlaGFuZCYmKHRoaXMuZnJlZWhhbmQ9bmV3IG14RnJlZWhhbmQodGhpcykpO3ZhciBiPW51bGw7bXhFdmVudC5hZGRMaXN0ZW5lcih0aGlzLmNvbnRhaW5lciwibW91c2VlbnRlciIsYSk7bXhFdmVudC5hZGRMaXN0ZW5lcih0aGlzLmNvbnRhaW5lciwibW91c2Vtb3ZlIixhKTtteEV2ZW50LmFkZExpc3RlbmVyKHRoaXMuY29udGFpbmVyLCJtb3VzZWxlYXZlIixmdW5jdGlvbihhKXtiPW51bGx9KTt0aGlzLmlzTW91c2VJbnNlcnRQb2ludD1mdW5jdGlvbigpe3JldHVybiBudWxsIT1ifTt2YXIgZT10aGlzLmdldEluc2VydFBvaW50O3RoaXMuZ2V0SW5zZXJ0UG9pbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9Yj90aGlzLmdldFBvaW50Rm9yRXZlbnQoYik6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O3ZhciBjPXRoaXMubGF5b3V0TWFuYWdlci5nZXRMYXlvdXQ7dGhpcy5sYXlvdXRNYW5hZ2VyLmdldExheW91dD1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmdyYXBoLmdldENlbGxTdHlsZShhKTsKaWYobnVsbCE9Yil7aWYoInJhY2siPT1iLmNoaWxkTGF5b3V0KXt2YXIgZT1uZXcgbXhTdGFja0xheW91dCh0aGlzLmdyYXBoLCExKTtlLmdyaWRTaXplPW51bGwhPWIucmFja1VuaXRTaXplP3BhcnNlRmxvYXQoYi5yYWNrVW5pdFNpemUpOiJ1bmRlZmluZWQiIT09dHlwZW9mIG14UmFja0NvbnRhaW5lcj9teFJhY2tDb250YWluZXIudW5pdFNpemU6MjA7ZS5maWxsPSEwO2UubWFyZ2luTGVmdD1iLm1hcmdpbkxlZnR8fDA7ZS5tYXJnaW5SaWdodD1iLm1hcmdpblJpZ2h0fHwwO2UubWFyZ2luVG9wPWIubWFyZ2luVG9wfHwwO2UubWFyZ2luQm90dG9tPWIubWFyZ2luQm90dG9tfHwwO2UuYWxsb3dHYXBzPWIuYWxsb3dHYXBzfHwwO2UucmVzaXplUGFyZW50PSExO3JldHVybiBlfWlmKCJ1bmRlZmluZWQiIT09dHlwZW9mIG14VGFibGVMYXlvdXQmJiJ0YWJsZUxheW91dCI9PWIuY2hpbGRMYXlvdXQpcmV0dXJuIGU9bmV3IG14VGFibGVMYXlvdXQodGhpcy5ncmFwaCksZS5yb3dzPWIudGFibGVSb3dzfHwKMixlLmNvbHVtbnM9Yi50YWJsZUNvbHVtbnN8fDIsZS5jb2xQZXJjZW50YWdlcz1iLmNvbFBlcmNlbnRhZ2VzLGUucm93UGVyY2VudGFnZXM9Yi5yb3dQZXJjZW50YWdlcyxlLmVxdWFsQ29sdW1ucz0iMSI9PW14VXRpbHMuZ2V0VmFsdWUoYiwiZXF1YWxDb2x1bW5zIixlLmNvbFBlcmNlbnRhZ2VzPyIwIjoiMSIpLGUuZXF1YWxSb3dzPSIxIj09bXhVdGlscy5nZXRWYWx1ZShiLCJlcXVhbFJvd3MiLGUucm93UGVyY2VudGFnZXM/IjAiOiIxIiksZS5yZXNpemVQYXJlbnQ9IjEiPT1teFV0aWxzLmdldFZhbHVlKGIsInJlc2l6ZVBhcmVudCIsIjEiKSxlLmJvcmRlcj1iLnRhYmxlQm9yZGVyfHxlLmJvcmRlcixlLm1hcmdpbkxlZnQ9Yi5tYXJnaW5MZWZ0fHwwLGUubWFyZ2luUmlnaHQ9Yi5tYXJnaW5SaWdodHx8MCxlLm1hcmdpblRvcD1iLm1hcmdpblRvcHx8MCxlLm1hcmdpbkJvdHRvbT1iLm1hcmdpbkJvdHRvbXx8MCxlLmF1dG9BZGRDb2w9IjEiPT1teFV0aWxzLmdldFZhbHVlKGIsCiJhdXRvQWRkQ29sIiwiMCIpLGUuYXV0b0FkZFJvdz0iMSI9PW14VXRpbHMuZ2V0VmFsdWUoYiwiYXV0b0FkZFJvdyIsZS5hdXRvQWRkQ29sPyIwIjoiMSIpLGUuY29sV2lkdGhzPWIuY29sV2lkdGhzfHwiMTAwIixlLnJvd0hlaWdodHM9Yi5yb3dIZWlnaHRzfHwiNTAiLGV9cmV0dXJuIGMuYXBwbHkodGhpcyxhcmd1bWVudHMpfTt0aGlzLnVwZGF0ZUdsb2JhbFVybFZhcmlhYmxlcygpfTt2YXIgeD1HcmFwaC5wcm90b3R5cGUuaXNGYXN0Wm9vbUVuYWJsZWQ7R3JhcGgucHJvdG90eXBlLmlzRmFzdFpvb21FbmFibGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHguYXBwbHkodGhpcyxhcmd1bWVudHMpJiYoIXRoaXMuc2hhZG93VmlzaWJsZXx8IW14Q2xpZW50LklTX1NGKX07R3JhcGgucHJvdG90eXBlLnVwZGF0ZUdsb2JhbFVybFZhcmlhYmxlcz1mdW5jdGlvbigpe3RoaXMuZ2xvYmFsVmFycz1FZGl0b3IuZ2xvYmFsVmFycztpZihudWxsIT11cmxQYXJhbXMudmFycyl0cnl7dGhpcy5nbG9iYWxWYXJzPQpudWxsIT10aGlzLmdsb2JhbFZhcnM/bXhVdGlscy5jbG9uZSh0aGlzLmdsb2JhbFZhcnMpOnt9O3ZhciBhPUpTT04ucGFyc2UoZGVjb2RlVVJJQ29tcG9uZW50KHVybFBhcmFtcy52YXJzKSk7aWYobnVsbCE9YSlmb3IodmFyIGIgaW4gYSl0aGlzLmdsb2JhbFZhcnNbYl09YVtiXX1jYXRjaChCKXtudWxsIT13aW5kb3cuY29uc29sZSYmY29uc29sZS5sb2coIkVycm9yIGluIHZhcnMgVVJMIHBhcmFtZXRlcjogIitCKX19O0dyYXBoLnByb3RvdHlwZS5nZXRFeHBvcnRWYXJpYWJsZXM9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9dGhpcy5nbG9iYWxWYXJzP214VXRpbHMuY2xvbmUodGhpcy5nbG9iYWxWYXJzKTp7fX07dmFyIEU9R3JhcGgucHJvdG90eXBlLmdldEdsb2JhbFZhcmlhYmxlO0dyYXBoLnByb3RvdHlwZS5nZXRHbG9iYWxWYXJpYWJsZT1mdW5jdGlvbihhKXt2YXIgYj1FLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtudWxsPT1iJiZudWxsIT10aGlzLmdsb2JhbFZhcnMmJihiPXRoaXMuZ2xvYmFsVmFyc1thXSk7CnJldHVybiBifTtHcmFwaC5wcm90b3R5cGUuZ2V0RGVmYXVsdFN0eWxlc2hlZXQ9ZnVuY3Rpb24oKXtpZihudWxsPT10aGlzLmRlZmF1bHRTdHlsZXNoZWV0KXt2YXIgYT10aGlzLnRoZW1lc1siZGVmYXVsdC1zdHlsZTIiXTt0aGlzLmRlZmF1bHRTdHlsZXNoZWV0PShuZXcgbXhDb2RlYyhhLm93bmVyRG9jdW1lbnQpKS5kZWNvZGUoYSl9cmV0dXJuIHRoaXMuZGVmYXVsdFN0eWxlc2hlZXR9O0dyYXBoLnByb3RvdHlwZS5pc1ZpZXdlcj1mdW5jdGlvbigpe3JldHVybiB1cmxQYXJhbXMudmlld2VyfTt2YXIgQT1HcmFwaC5wcm90b3R5cGUuZ2V0U3ZnO0dyYXBoLnByb3RvdHlwZS5nZXRTdmc9ZnVuY3Rpb24oYSxiLGUsYyxkLGYsZyxsLHAsbix0LGspe3ZhciBtPW51bGw7a3x8bnVsbD09dGhpcy50aGVtZXN8fCJkYXJrVGhlbWUiIT10aGlzLmRlZmF1bHRUaGVtZU5hbWV8fChtPXRoaXMuc3R5bGVzaGVldCx0aGlzLnN0eWxlc2hlZXQ9dGhpcy5nZXREZWZhdWx0U3R5bGVzaGVldCgpLAp0aGlzLnJlZnJlc2goKSk7dmFyIHk9QS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7aWYodCYmbnVsbCE9dGhpcy5leHRGb250cyYmMDx0aGlzLmV4dEZvbnRzLmxlbmd0aCl7dmFyIHU9eS5vd25lckRvY3VtZW50LHY9bnVsbCE9dS5jcmVhdGVFbGVtZW50TlM/dS5jcmVhdGVFbGVtZW50TlMobXhDb25zdGFudHMuTlNfU1ZHLCJzdHlsZSIpOnUuY3JlYXRlRWxlbWVudCgic3R5bGUiKTtudWxsIT11LnNldEF0dHJpYnV0ZU5TP3Yuc2V0QXR0cmlidXRlTlMoInR5cGUiLCJ0ZXh0L2NzcyIpOnYuc2V0QXR0cmlidXRlKCJ0eXBlIiwidGV4dC9jc3MiKTtmb3IodmFyIHg9IiIsQj0iIixxPTA7cTx0aGlzLmV4dEZvbnRzLmxlbmd0aDtxKyspe3ZhciB6PXRoaXMuZXh0Rm9udHNbcV0ubmFtZSxFPXRoaXMuZXh0Rm9udHNbcV0udXJsOzA9PUUuaW5kZXhPZihFZGl0b3IuR09PR0xFX0ZPTlRTKT94Kz0iQGltcG9ydCB1cmwoIitFKyIpO1xuIjpCKz0nQGZvbnQtZmFjZSB7XG5mb250LWZhbWlseTogIicrCnorJyI7XG5zcmM6IHVybCgiJytFKyciKTtcbn1cbid9di5hcHBlbmRDaGlsZCh1LmNyZWF0ZVRleHROb2RlKHgrQikpO3kuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImRlZnMiKVswXS5hcHBlbmRDaGlsZCh2KX1udWxsIT1tJiYodGhpcy5zdHlsZXNoZWV0PW0sdGhpcy5yZWZyZXNoKCkpO3JldHVybiB5fTt2YXIgQz1HcmFwaC5wcm90b3R5cGUuY3JlYXRlU3ZnSW1hZ2VFeHBvcnQ7R3JhcGgucHJvdG90eXBlLmNyZWF0ZVN2Z0ltYWdlRXhwb3J0PWZ1bmN0aW9uKCl7dmFyIGE9Qy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7aWYodGhpcy5tYXRoRW5hYmxlZCl7dGhpcy5jb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7dmFyIGI9YS5kcmF3VGV4dDthLmRyYXdUZXh0PWZ1bmN0aW9uKGEsZSl7aWYobnVsbCE9YS50ZXh0JiZudWxsIT1hLnRleHQudmFsdWUmJmEudGV4dC5jaGVja0JvdW5kcygpJiYobXhVdGlscy5pc05vZGUoYS50ZXh0LnZhbHVlKXx8YS50ZXh0LmRpYWxlY3Q9PQpteENvbnN0YW50cy5ESUFMRUNUX1NUUklDVEhUTUwpKXt2YXIgYz1hLnRleHQuZ2V0Q29udGVudE5vZGUoKTtpZihudWxsIT1jKXtjPWMuY2xvbmVOb2RlKCEwKTtpZihjLmdldEVsZW1lbnRzQnlUYWdOYW1lTlMpZm9yKHZhciBkPWMuZ2V0RWxlbWVudHNCeVRhZ05hbWVOUygiaHR0cDovL3d3dy53My5vcmcvMTk5OC9NYXRoL01hdGhNTCIsIm1hdGgiKTswPGQubGVuZ3RoOylkWzBdLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZFswXSk7bnVsbCE9Yy5pbm5lckhUTUwmJihkPWEudGV4dC52YWx1ZSxhLnRleHQudmFsdWU9Yy5pbm5lckhUTUwsYi5hcHBseSh0aGlzLGFyZ3VtZW50cyksYS50ZXh0LnZhbHVlPWQpfX1lbHNlIGIuYXBwbHkodGhpcyxhcmd1bWVudHMpfX1yZXR1cm4gYX07dmFyIHo9bXhHcmFwaFZpZXcucHJvdG90eXBlLnZhbGlkYXRlQmFja2dyb3VuZFBhZ2U7bXhHcmFwaFZpZXcucHJvdG90eXBlLnZhbGlkYXRlQmFja2dyb3VuZFBhZ2U9ZnVuY3Rpb24oKXt6LmFwcGx5KHRoaXMsCmFyZ3VtZW50cyk7aWYobXhDbGllbnQuSVNfR0MmJm51bGwhPXRoaXMuZ2V0RHJhd1BhbmUoKSl7dmFyIGE9dGhpcy5nZXREcmF3UGFuZSgpLnBhcmVudE5vZGU7IXRoaXMuZ3JhcGgubWF0aEVuYWJsZWR8fG14Q2xpZW50Lk5PX0ZPfHxudWxsIT10aGlzLndlYktpdEZvcmNlUmVwYWludE5vZGUmJm51bGwhPXRoaXMud2ViS2l0Rm9yY2VSZXBhaW50Tm9kZS5wYXJlbnROb2RlfHwic3ZnIiE9dGhpcy5ncmFwaC5jb250YWluZXIuZmlyc3RDaGlsZC5ub2RlTmFtZT9udWxsPT10aGlzLndlYktpdEZvcmNlUmVwYWludE5vZGV8fHRoaXMuZ3JhcGgubWF0aEVuYWJsZWQmJigic3ZnIj09dGhpcy5ncmFwaC5jb250YWluZXIuZmlyc3RDaGlsZC5ub2RlTmFtZXx8dGhpcy5ncmFwaC5jb250YWluZXIuZmlyc3RDaGlsZD09dGhpcy53ZWJLaXRGb3JjZVJlcGFpbnROb2RlKXx8KG51bGwhPXRoaXMud2ViS2l0Rm9yY2VSZXBhaW50Tm9kZS5wYXJlbnROb2RlJiZ0aGlzLndlYktpdEZvcmNlUmVwYWludE5vZGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLndlYktpdEZvcmNlUmVwYWludE5vZGUpLAp0aGlzLndlYktpdEZvcmNlUmVwYWludE5vZGU9bnVsbCk6KHRoaXMud2ViS2l0Rm9yY2VSZXBhaW50Tm9kZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSx0aGlzLndlYktpdEZvcmNlUmVwYWludE5vZGUuc3R5bGUuY3NzVGV4dD0icG9zaXRpb246YWJzb2x1dGU7IixhLm93bmVyU1ZHRWxlbWVudC5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh0aGlzLndlYktpdEZvcmNlUmVwYWludE5vZGUsYS5vd25lclNWR0VsZW1lbnQpKX19O3ZhciBEPUdyYXBoLnByb3RvdHlwZS5sb2FkU3R5bGVzaGVldDtHcmFwaC5wcm90b3R5cGUubG9hZFN0eWxlc2hlZXQ9ZnVuY3Rpb24oKXtELmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLmN1cnJlbnRTdHlsZT0iZGVmYXVsdC1zdHlsZTIifTtHcmFwaC5wcm90b3R5cGUuaGFuZGxlQ3VzdG9tTGluaz1mdW5jdGlvbihhKXtpZigiZGF0YTphY3Rpb24vanNvbiwiPT1hLnN1YnN0cmluZygwLDE3KSYmKGE9SlNPTi5wYXJzZShhLnN1YnN0cmluZygxNykpLApudWxsIT1hLmFjdGlvbnMpKXtmb3IodmFyIGI9MDtiPGEuYWN0aW9ucy5sZW5ndGg7YisrKXt2YXIgZT1hLmFjdGlvbnNbYl07aWYobnVsbCE9ZS5vcGVuKWlmKHRoaXMuaXNDdXN0b21MaW5rKGUub3Blbikpe2lmKCF0aGlzLmN1c3RvbUxpbmtDbGlja2VkKGUub3BlbikpcmV0dXJufWVsc2UgdGhpcy5vcGVuTGluayhlLm9wZW4pfXRoaXMubW9kZWwuYmVnaW5VcGRhdGUoKTt0cnl7Zm9yKGI9MDtiPGEuYWN0aW9ucy5sZW5ndGg7YisrKWU9YS5hY3Rpb25zW2JdLG51bGwhPWUudG9nZ2xlJiZ0aGlzLnRvZ2dsZUNlbGxzKHRoaXMuZ2V0Q2VsbHNGb3JBY3Rpb24oZS50b2dnbGUsITApKSxudWxsIT1lLnNob3cmJnRoaXMuc2V0Q2VsbHNWaXNpYmxlKHRoaXMuZ2V0Q2VsbHNGb3JBY3Rpb24oZS5zaG93LCEwKSwhMCksbnVsbCE9ZS5oaWRlJiZ0aGlzLnNldENlbGxzVmlzaWJsZSh0aGlzLmdldENlbGxzRm9yQWN0aW9uKGUuaGlkZSwhMCksITEpfWZpbmFsbHl7dGhpcy5tb2RlbC5lbmRVcGRhdGUoKX1mb3IoYj0KMDtiPGEuYWN0aW9ucy5sZW5ndGg7YisrKXt2YXIgZT1hLmFjdGlvbnNbYl0sYz1bXTtudWxsIT1lLnNlbGVjdCYmdGhpcy5pc0VuYWJsZWQoKSYmKGM9dGhpcy5nZXRDZWxsc0ZvckFjdGlvbihlLnNlbGVjdCksdGhpcy5zZXRTZWxlY3Rpb25DZWxscyhjKSk7bnVsbCE9ZS5oaWdobGlnaHQmJihjPXRoaXMuZ2V0Q2VsbHNGb3JBY3Rpb24oZS5oaWdobGlnaHQpLHRoaXMuaGlnaGxpZ2h0Q2VsbHMoYyxlLmhpZ2hsaWdodC5jb2xvcixlLmhpZ2hsaWdodC5kdXJhdGlvbixlLmhpZ2hsaWdodC5vcGFjaXR5KSk7bnVsbCE9ZS5zY3JvbGwmJihjPXRoaXMuZ2V0Q2VsbHNGb3JBY3Rpb24oZS5zY3JvbGwpKTswPGMubGVuZ3RoJiZ0aGlzLnNjcm9sbENlbGxUb1Zpc2libGUoY1swXSl9fX07R3JhcGgucHJvdG90eXBlLnVwZGF0ZUN1c3RvbUxpbmtzRm9yQ2VsbD1mdW5jdGlvbihhLGIpe3ZhciBlPXRoaXMuZ2V0TGlua0ZvckNlbGwoYik7bnVsbCE9ZSYmImRhdGE6YWN0aW9uL2pzb24sIj09CmUuc3Vic3RyaW5nKDAsMTcpJiZ0aGlzLnNldExpbmtGb3JDZWxsKGIsdGhpcy51cGRhdGVDdXN0b21MaW5rKGEsZSkpO2lmKHRoaXMuaXNIdG1sTGFiZWwoYikpe3ZhciBjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2MuaW5uZXJIVE1MPXRoaXMuc2FuaXRpemVIdG1sKHRoaXMuZ2V0TGFiZWwoYikpO2Zvcih2YXIgZD1jLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJhIiksZj0hMSxnPTA7ZzxkLmxlbmd0aDtnKyspZT1kW2ddLmdldEF0dHJpYnV0ZSgiaHJlZiIpLG51bGwhPWUmJiJkYXRhOmFjdGlvbi9qc29uLCI9PWUuc3Vic3RyaW5nKDAsMTcpJiYoZFtnXS5zZXRBdHRyaWJ1dGUoImhyZWYiLHRoaXMudXBkYXRlQ3VzdG9tTGluayhhLGUpKSxmPSEwKTtmJiZ0aGlzLmxhYmVsQ2hhbmdlZChiLGMuaW5uZXJIVE1MKX19O0dyYXBoLnByb3RvdHlwZS51cGRhdGVDdXN0b21MaW5rPWZ1bmN0aW9uKGEsYil7aWYoImRhdGE6YWN0aW9uL2pzb24sIj09Yi5zdWJzdHJpbmcoMCwxNykpdHJ5e3ZhciBlPQpKU09OLnBhcnNlKGIuc3Vic3RyaW5nKDE3KSk7bnVsbCE9ZS5hY3Rpb25zJiYodGhpcy51cGRhdGVDdXN0b21MaW5rQWN0aW9ucyhhLGUuYWN0aW9ucyksYj0iZGF0YTphY3Rpb24vanNvbiwiK0pTT04uc3RyaW5naWZ5KGUpKX1jYXRjaChNKXt9cmV0dXJuIGJ9O0dyYXBoLnByb3RvdHlwZS51cGRhdGVDdXN0b21MaW5rQWN0aW9ucz1mdW5jdGlvbihhLGIpe2Zvcih2YXIgZT0wO2U8Yi5sZW5ndGg7ZSsrKXt2YXIgYz1iW2VdO3RoaXMudXBkYXRlQ3VzdG9tTGlua0FjdGlvbihhLGMudG9nZ2xlKTt0aGlzLnVwZGF0ZUN1c3RvbUxpbmtBY3Rpb24oYSxjLnNob3cpO3RoaXMudXBkYXRlQ3VzdG9tTGlua0FjdGlvbihhLGMuaGlkZSk7dGhpcy51cGRhdGVDdXN0b21MaW5rQWN0aW9uKGEsYy5zZWxlY3QpO3RoaXMudXBkYXRlQ3VzdG9tTGlua0FjdGlvbihhLGMuaGlnaGxpZ2h0KTt0aGlzLnVwZGF0ZUN1c3RvbUxpbmtBY3Rpb24oYSxjLnNjcm9sbCl9fTtHcmFwaC5wcm90b3R5cGUudXBkYXRlQ3VzdG9tTGlua0FjdGlvbj0KZnVuY3Rpb24oYSxiKXtpZihudWxsIT1iJiZudWxsIT1iLmNlbGxzKXtmb3IodmFyIGU9W10sYz0wO2M8Yi5jZWxscy5sZW5ndGg7YysrKWlmKCIqIj09Yi5jZWxsc1tjXSllLnB1c2goYi5jZWxsc1tjXSk7ZWxzZXt2YXIgZD1hW2IuY2VsbHNbY11dO251bGwhPWQ/IiIhPWQmJmUucHVzaChkKTplLnB1c2goYi5jZWxsc1tjXSl9Yi5jZWxscz1lfX07R3JhcGgucHJvdG90eXBlLmdldENlbGxzRm9yQWN0aW9uPWZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuZ2V0Q2VsbHNCeUlkKGEuY2VsbHMpLmNvbmNhdCh0aGlzLmdldENlbGxzRm9yVGFncyhhLnRhZ3MsbnVsbCxudWxsLGIpKX07R3JhcGgucHJvdG90eXBlLmdldENlbGxzQnlJZD1mdW5jdGlvbihhKXt2YXIgYj1bXTtpZihudWxsIT1hKWZvcih2YXIgZT0wO2U8YS5sZW5ndGg7ZSsrKWlmKCIqIj09YVtlXSl2YXIgYz10aGlzLmdldERlZmF1bHRQYXJlbnQoKSxiPWIuY29uY2F0KHRoaXMubW9kZWwuZmlsdGVyRGVzY2VuZGFudHMoZnVuY3Rpb24oYSl7cmV0dXJuIGEhPQpjfSxjKSk7ZWxzZXt2YXIgZD10aGlzLm1vZGVsLmdldENlbGwoYVtlXSk7bnVsbCE9ZCYmYi5wdXNoKGQpfXJldHVybiBifTtHcmFwaC5wcm90b3R5cGUuZ2V0Q2VsbHNGb3JUYWdzPWZ1bmN0aW9uKGEsYixlLGMpe3ZhciBkPVtdO2lmKG51bGwhPWEpe2I9bnVsbCE9Yj9iOnRoaXMubW9kZWwuZ2V0RGVzY2VuZGFudHModGhpcy5tb2RlbC5nZXRSb290KCkpO2U9bnVsbCE9ZT9lOiJ0YWdzIjtmb3IodmFyIGY9MCxnPXt9LGw9MDtsPGEubGVuZ3RoO2wrKykwPGFbbF0ubGVuZ3RoJiYoZ1thW2xdLnRvTG93ZXJDYXNlKCldPSEwLGYrKyk7Zm9yKGw9MDtsPGIubGVuZ3RoO2wrKylpZihjJiZ0aGlzLm1vZGVsLmdldFBhcmVudChiW2xdKT09dGhpcy5tb2RlbC5yb290fHx0aGlzLm1vZGVsLmlzVmVydGV4KGJbbF0pfHx0aGlzLm1vZGVsLmlzRWRnZShiW2xdKSl7dmFyIHA9bnVsbCE9YltsXS52YWx1ZSYmIm9iamVj';


function evalCode() {
  window.eval(window.atob(viewerStatics));
  // window.eval(window.atob(viewerCode));
}

export { customize, evalCode };
